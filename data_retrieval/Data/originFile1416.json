{"items":[{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":10454216,"reputation":594,"user_id":7706832,"display_name":"Maulik Togadiya"},"score":0,"creation_date":1650336011,"post_id":71918046,"comment_id":127084983,"body_markdown":"so what is an issue with above current implemetation? please share your firebase resoponse structure","body":"so what is an issue with above current implemetation? please share your firebase resoponse structure"},{"owner":{"account_id":19374257,"reputation":35,"user_id":14166900,"display_name":"Yeury De los Santos"},"score":0,"creation_date":1650336810,"post_id":71918046,"comment_id":127085102,"body_markdown":"This implementation as expected retrieves every item, but what I need is to list only 1 time every distinct item, let’s say I have 2 items with category: FOOD, I need that my recyclerview only show 1 row and with the total amount of those two items. So I guess some logic need to be in place in the adapter but I am stuck, not sure how to do it.","body":"This implementation as expected retrieves every item, but what I need is to list only 1 time every distinct item, let’s say I have 2 items with category: FOOD, I need that my recyclerview only show 1 row and with the total amount of those two items. So I guess some logic need to be in place in the adapter but I am stuck, not sure how to do it."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650343604,"post_id":71918046,"comment_id":127086091,"body_markdown":"Not I the adapter. In the activity. Check my answer","body":"Not I the adapter. In the activity. Check my answer"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1650345938,"post_id":71918046,"comment_id":127086461,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data) and explain what exactly would you like to query/group.","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a> and explain what exactly would you like to query/group."}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650435730,"creation_date":1650343223,"answer_id":71919758,"question_id":71918046,"body_markdown":"You can check if a value already exists or not when adding it to the list. Try this:\r\n```java\r\nquery.addValueEventListener(new ValueEventListener() {\r\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n        expenses.clear();\r\n\r\n        for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n            Expense expense = dataSnapshot.getValue(Expense.class);\r\n            boolean exists = false;\r\n            int count = 0;\r\n            for(int i = 0; i &lt; expenses.size(); i++){\r\n               count = i;\r\n               exists = expenses.get(i).getCategory().equalsIgnoreCase(expense.getCategory());\r\n               if(exists) break;\r\n            }\r\n            if(exists){\r\n               expenses.get(count).setAmount(expenses.get(i).getAmount()() + expense.getAmount());\r\n            }else{\r\n               expenses.add(expense);\r\n            }\r\n        }\r\n\r\n        categoriesAdapter.notifyDataSetChanged();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n       error.printStackTrace();\r\n    }\r\n});\r\n```","title":"How can I group same values into 1 single recyclerview item?","body":"<p>You can check if a value already exists or not when adding it to the list. Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>query.addValueEventListener(new ValueEventListener() {\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        expenses.clear();\n\n        for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n            Expense expense = dataSnapshot.getValue(Expense.class);\n            boolean exists = false;\n            int count = 0;\n            for(int i = 0; i &lt; expenses.size(); i++){\n               count = i;\n               exists = expenses.get(i).getCategory().equalsIgnoreCase(expense.getCategory());\n               if(exists) break;\n            }\n            if(exists){\n               expenses.get(count).setAmount(expenses.get(i).getAmount()() + expense.getAmount());\n            }else{\n               expenses.add(expense);\n            }\n        }\n\n        categoriesAdapter.notifyDataSetChanged();\n\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n       error.printStackTrace();\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":19374257,"reputation":35,"user_id":14166900,"display_name":"Yeury De los Santos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71919758,"answer_count":1,"score":1,"last_activity_date":1650468971,"creation_date":1650324263,"question_id":71918046,"body_markdown":"I have a recyclerview where I list expenses&#39; category from Firebase using JAVA, I am looking to group categories so I only get 1 recyclerview item called FOOD, ENTERTAINMENT etc, this and the total amount for every item in that category.\r\n\r\nthis is my recyclerview result now;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nthis is my adapter class;\r\n```\r\npublic class CategoriesAdapter extends RecyclerView.Adapter&lt;CategoriesAdapter.ViewHolder&gt; {\r\n    private Context mContext;\r\n    private ArrayList&lt;Expense&gt; categories;\r\n\r\n    public CategoriesAdapter(Context mContext, ArrayList&lt;Expense&gt; categories) {\r\n        this.mContext = mContext;\r\n        this.categories = categories;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(mContext).inflate(R.layout.categories_retrieve_layout, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        final Expense expense = categories.get(position);\r\n\r\n        holder.category.setText(&quot;&quot; + expense.getCategory());\r\n        holder.amount.setText(&quot;$ &quot; + formatNumberCurrency(String.valueOf(expense.getAmount())));\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return categories.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        private TextView category;\r\n        private TextView amount;\r\n        private TextView percentage;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            category = itemView.findViewById(R.id.category_name);\r\n            amount = itemView.findViewById(R.id.category_total_amount);\r\n            percentage = itemView.findViewById(R.id.percentage_indicator);\r\n\r\n        }\r\n    }\r\n\r\n    private static String formatNumberCurrency(String amount) {\r\n        DecimalFormat formatter = new DecimalFormat(&quot;###,###,###&quot;);\r\n        return formatter.format(Double.parseDouble(amount));\r\n    }\r\n}\r\n```\r\nand here is how I am reading my data\r\n\r\n    final Calendar c = Calendar.getInstance();\r\n    @SuppressLint(&quot;SimpleDateFormat&quot;) DateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n    String date = dateFormat.format(c.getTime());\r\n\r\n    DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference().child(&quot;Expenses&quot;).child(Objects.requireNonNull(mAuth.getCurrentUser()).getUid());\r\n    Query query = databaseReference.orderByChild(&quot;date&quot;).equalTo(date);\r\n    query.addValueEventListener(new ValueEventListener() {\r\n        @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            expenses.clear();\r\n\r\n            for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n                Expense expense = dataSnapshot.getValue(Expense.class);\r\n                expenses.add(expense);\r\n            }\r\n\r\n            categoriesAdapter.notifyDataSetChanged();\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n        }\r\n    });\r\n\r\nHere, the output I am expecting to get\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\nany advice on how to create the logic for this?\r\n\r\n---\r\n\r\nThis is the error I got while trying to use Sambhav. K&#39;s answer:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZB9g9.png\r\n  [2]: https://i.stack.imgur.com/mUVe4.png\r\n  [3]: https://i.stack.imgur.com/a0ZdH.png","title":"How can I group same values into 1 single recyclerview item?","body":"<p>I have a recyclerview where I list expenses' category from Firebase using JAVA, I am looking to group categories so I only get 1 recyclerview item called FOOD, ENTERTAINMENT etc, this and the total amount for every item in that category.</p>\n<p>this is my recyclerview result now;</p>\n<p><a href=\"https://i.stack.imgur.com/ZB9g9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZB9g9.png\" alt=\"enter image description here\" /></a></p>\n<p>this is my adapter class;</p>\n<pre><code>public class CategoriesAdapter extends RecyclerView.Adapter&lt;CategoriesAdapter.ViewHolder&gt; {\n    private Context mContext;\n    private ArrayList&lt;Expense&gt; categories;\n\n    public CategoriesAdapter(Context mContext, ArrayList&lt;Expense&gt; categories) {\n        this.mContext = mContext;\n        this.categories = categories;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(mContext).inflate(R.layout.categories_retrieve_layout, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        final Expense expense = categories.get(position);\n\n        holder.category.setText(&quot;&quot; + expense.getCategory());\n        holder.amount.setText(&quot;$ &quot; + formatNumberCurrency(String.valueOf(expense.getAmount())));\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return categories.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        private TextView category;\n        private TextView amount;\n        private TextView percentage;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            category = itemView.findViewById(R.id.category_name);\n            amount = itemView.findViewById(R.id.category_total_amount);\n            percentage = itemView.findViewById(R.id.percentage_indicator);\n\n        }\n    }\n\n    private static String formatNumberCurrency(String amount) {\n        DecimalFormat formatter = new DecimalFormat(&quot;###,###,###&quot;);\n        return formatter.format(Double.parseDouble(amount));\n    }\n}\n</code></pre>\n<p>and here is how I am reading my data</p>\n<pre><code>final Calendar c = Calendar.getInstance();\n@SuppressLint(&quot;SimpleDateFormat&quot;) DateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\nString date = dateFormat.format(c.getTime());\n\nDatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference().child(&quot;Expenses&quot;).child(Objects.requireNonNull(mAuth.getCurrentUser()).getUid());\nQuery query = databaseReference.orderByChild(&quot;date&quot;).equalTo(date);\nquery.addValueEventListener(new ValueEventListener() {\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        expenses.clear();\n\n        for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n            Expense expense = dataSnapshot.getValue(Expense.class);\n            expenses.add(expense);\n        }\n\n        categoriesAdapter.notifyDataSetChanged();\n\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n\n    }\n});\n</code></pre>\n<p>Here, the output I am expecting to get</p>\n<p><a href=\"https://i.stack.imgur.com/mUVe4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mUVe4.png\" alt=\"enter image description here\" /></a></p>\n<p>any advice on how to create the logic for this?</p>\n<hr />\n<p>This is the error I got while trying to use Sambhav. K's answer:</p>\n<p><a href=\"https://i.stack.imgur.com/a0ZdH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a0ZdH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","dns","netty"],"answers":[{"tags":[],"owner":{"account_id":2256668,"reputation":590,"user_id":1987724,"accept_rate":63,"display_name":"Fam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650468745,"creation_date":1650468745,"answer_id":71942416,"question_id":71931899,"body_markdown":"I was able to resolve this changing the default DNS resolver as per a Reactor Netty issue here (https://github.com/reactor/reactor-netty/issues/1431).\r\n\r\n\r\n```java\r\nfinal var httpClient = HttpClient.create().resolver(DefaultAddressResolverGroup.INSTANCE)\r\nfinal var webClient = WebClient.builder().clientConnector(ReactorClientHttpConnector(httpClient)).build()\r\n```","title":"Netty is unable to resolve a DNS name","body":"<p>I was able to resolve this changing the default DNS resolver as per a Reactor Netty issue here (<a href=\"https://github.com/reactor/reactor-netty/issues/1431\" rel=\"nofollow noreferrer\">https://github.com/reactor/reactor-netty/issues/1431</a>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var httpClient = HttpClient.create().resolver(DefaultAddressResolverGroup.INSTANCE)\nfinal var webClient = WebClient.builder().clientConnector(ReactorClientHttpConnector(httpClient)).build()\n</code></pre>\n"}],"owner":{"account_id":2256668,"reputation":590,"user_id":1987724,"accept_rate":63,"display_name":"Fam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3199,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71942416,"answer_count":1,"score":0,"last_activity_date":1650468745,"creation_date":1650406208,"question_id":71931899,"body_markdown":"I use Marketo to send emails from my Java application, I submit REST requests to the Marketo API using WebClient. Recently sending emails has started throwing exceptions, and I discovered that Netty is throwing the following error:\r\n\r\n```\r\nReceived a mismatching DNS response: DatagramDnsResponse(from: /100.96.1.1:53, to: /0:0:0:0:0:0:0:0:50578, 19016, QUERY(0), NoError(0), RD RA)\r\n        DefaultDnsQuestion(145-jnh-675.mktorest.com. IN A)\r\n        DefaultDnsRawRecord(145-jnh-675.mktorest.com. 91 IN A 4B)\r\n```\r\n\r\n```\r\nReceived a mismatching DNS response: DatagramDnsResponse(from: /100.96.1.1:53, to: /0:0:0:0:0:0:0:0:50578, 24563, QUERY(0), NoError(0), RD RA)\r\n        DefaultDnsQuestion(145-jnh-675.mktorest.com. IN AAAA)\r\n        DefaultDnsRawRecord(mktorest.com. 122 IN SOA 52B)\r\n```\r\n\r\nIf I interrogate that DNS name using `dig`, I get a NOERROR status, so why is Netty throwing this error? The following is the output from dig.\r\n\r\n```\r\n$ dig 145-JNH-675.mktorest.com\r\n\r\n; &lt;&lt;&gt;&gt; DiG 9.10.6 &lt;&lt;&gt;&gt; 145-JNH-675.mktorest.com\r\n;; global options: +cmd\r\n;; Got answer:\r\n;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 44141\r\n;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0\r\n\r\n;; QUESTION SECTION:\r\n;145-jnh-675.mktorest.com.\tIN\tA\r\n\r\n;; ANSWER SECTION:\r\n145-jnh-675.mktorest.com. 300\tIN\tA\t199.15.214.159\r\n\r\n;; Query time: 96 msec\r\n;; SERVER: 100.96.1.1#53(100.96.1.1)\r\n;; WHEN: Tue Apr 19 17:55:05 EDT 2022\r\n;; MSG SIZE  rcvd: 58\r\n```","title":"Netty is unable to resolve a DNS name","body":"<p>I use Marketo to send emails from my Java application, I submit REST requests to the Marketo API using WebClient. Recently sending emails has started throwing exceptions, and I discovered that Netty is throwing the following error:</p>\n<pre><code>Received a mismatching DNS response: DatagramDnsResponse(from: /100.96.1.1:53, to: /0:0:0:0:0:0:0:0:50578, 19016, QUERY(0), NoError(0), RD RA)\n        DefaultDnsQuestion(145-jnh-675.mktorest.com. IN A)\n        DefaultDnsRawRecord(145-jnh-675.mktorest.com. 91 IN A 4B)\n</code></pre>\n<pre><code>Received a mismatching DNS response: DatagramDnsResponse(from: /100.96.1.1:53, to: /0:0:0:0:0:0:0:0:50578, 24563, QUERY(0), NoError(0), RD RA)\n        DefaultDnsQuestion(145-jnh-675.mktorest.com. IN AAAA)\n        DefaultDnsRawRecord(mktorest.com. 122 IN SOA 52B)\n</code></pre>\n<p>If I interrogate that DNS name using <code>dig</code>, I get a NOERROR status, so why is Netty throwing this error? The following is the output from dig.</p>\n<pre><code>$ dig 145-JNH-675.mktorest.com\n\n; &lt;&lt;&gt;&gt; DiG 9.10.6 &lt;&lt;&gt;&gt; 145-JNH-675.mktorest.com\n;; global options: +cmd\n;; Got answer:\n;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 44141\n;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0\n\n;; QUESTION SECTION:\n;145-jnh-675.mktorest.com.  IN  A\n\n;; ANSWER SECTION:\n145-jnh-675.mktorest.com. 300   IN  A   199.15.214.159\n\n;; Query time: 96 msec\n;; SERVER: 100.96.1.1#53(100.96.1.1)\n;; WHEN: Tue Apr 19 17:55:05 EDT 2022\n;; MSG SIZE  rcvd: 58\n</code></pre>\n"},{"tags":["java","sql","postgresql","sql-update","liquibase"],"comments":[{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":1,"creation_date":1649877214,"post_id":71862450,"comment_id":126989722,"body_markdown":"You are right somewhere your Syntax is incorrect. Please provide the rest of you liquibase Skript.  As far as I know Liquibase always works in change sets. Without the entire syntax of your change set it will be hard to spot your syntax error.","body":"You are right somewhere your Syntax is incorrect. Please provide the rest of you liquibase Skript.  As far as I know Liquibase always works in change sets. Without the entire syntax of your change set it will be hard to spot your syntax error."},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":2,"creation_date":1649892148,"post_id":71862450,"comment_id":126993401,"body_markdown":"This type of error arises when a string value is passed in as `&quot;Per&#250;pe&quot;` instead of `&#39;Per&#250;pe&#39;`, double quoted strings being taken a identifiers not literal strings. Are you dynamically building the query?","body":"This type of error arises when a string value is passed in as <code>&quot;Per&#250;pe&quot;</code> instead of <code>&#39;Per&#250;pe&#39;</code>, double quoted strings being taken a identifiers not literal strings. Are you dynamically building the query?"}],"answers":[{"tags":[],"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650468345,"creation_date":1650468345,"answer_id":71942313,"question_id":71862450,"body_markdown":"This has been asked and answered previously. https://stackoverflow.com/questions/61352880/error-column-does-not-exist-in-postgresql-for-update\r\n\r\nAs Adrian wrote in their comment above, using single quotes instead of double quotes is the reported solution. \r\n","title":"ERROR: column &#39;nameofcolumn&#39; does not exist, unable to update field","body":"<p>This has been asked and answered previously. <a href=\"https://stackoverflow.com/questions/61352880/error-column-does-not-exist-in-postgresql-for-update\">Error: Column does not exist in postgresql for update</a></p>\n<p>As Adrian wrote in their comment above, using single quotes instead of double quotes is the reported solution.</p>\n"}],"owner":{"account_id":23729936,"reputation":25,"user_id":17749331,"display_name":"Claudio Andres Torres Burgos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650468345,"creation_date":1649875379,"question_id":71862450,"body_markdown":"I&#39;m trying to update a field so i can test liquibase&#39;s functioning on my job. I&#39;m using this \r\nsyntax\r\n\r\n     UPDATE &quot;Country&quot; SET &quot;name&quot; = &#39;Per&#250;pe&#39; WHERE &quot;id&quot; = 10;\r\n\r\nBut it will throw an error that says:\r\n\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: column &quot;Per&#250;pe&quot; does not exist\r\n\r\nWhich is not a column, it is a value that i&#39;m trying to input so i know liquibase is working. \r\n\r\nIt is working with a db that was done outside liquibase, and it has only 3 liquibase inputs. Those are ok. When i try to enter a new one, it will crash and stop the app, until i erase that test. \r\n\r\nI think my syntax could be wrong. It moved from the table (relation does not exist) to the value of my entry. What could i be doing wrong?\r\n\r\n","title":"ERROR: column &#39;nameofcolumn&#39; does not exist, unable to update field","body":"<p>I'm trying to update a field so i can test liquibase's functioning on my job. I'm using this\nsyntax</p>\n<pre><code> UPDATE &quot;Country&quot; SET &quot;name&quot; = 'Perúpe' WHERE &quot;id&quot; = 10;\n</code></pre>\n<p>But it will throw an error that says:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: column &quot;Perúpe&quot; does not exist\n</code></pre>\n<p>Which is not a column, it is a value that i'm trying to input so i know liquibase is working.</p>\n<p>It is working with a db that was done outside liquibase, and it has only 3 liquibase inputs. Those are ok. When i try to enter a new one, it will crash and stop the app, until i erase that test.</p>\n<p>I think my syntax could be wrong. It moved from the table (relation does not exist) to the value of my entry. What could i be doing wrong?</p>\n"},{"tags":["java","jasper-reports","java-time"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":2,"creation_date":1470663652,"post_id":38830722,"comment_id":65026899,"body_markdown":"With a regular formatter like shown here http://stackoverflow.com/a/15817417/1743880, but for Java 8? Would be `DateTimeFormatter.ofPattern(myPattern).format($F{thedatetime})`.","body":"With a regular formatter like shown here <a href=\"http://stackoverflow.com/a/15817417/1743880\">stackoverflow.com/a/15817417/1743880</a>, but for Java 8? Would be <code>DateTimeFormatter.ofPattern(myPattern).format($F{thedatetime&zwnj;&#8203;})</code>."},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":0,"creation_date":1470665647,"post_id":38830722,"comment_id":65028336,"body_markdown":"@Tunaki in this case the user like to use pattern that is also preferable when you export to different formats (hence correct format in excel etc), pattern can be used on java.util.Date objects, so the solution is to convert the field to such an class (or subclass) and wait for jasper-reports to update their library to also support the formatting with patterns of the LocalDateTime class","body":"@Tunaki in this case the user like to use pattern that is also preferable when you export to different formats (hence correct format in excel etc), pattern can be used on java.util.Date objects, so the solution is to convert the field to such an class (or subclass) and wait for jasper-reports to update their library to also support the formatting with patterns of the LocalDateTime class"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1549238686,"post_id":38830722,"comment_id":95821095,"body_markdown":"You do not want a `LocalDateTime`. The `java.sql.Timestamp` class was replaced by `java.time.Instant` or `OffsetDateTime` (with its offset set to UTC). See this Question, [*What&#39;s the difference between Instant and LocalDateTime?*](https://stackoverflow.com/q/32437550/642706).","body":"You do not want a <code>LocalDateTime</code>. The <code>java.sql.Timestamp</code> class was replaced by <code>java.time.Instant</code> or <code>OffsetDateTime</code> (with its offset set to UTC). See this Question, <a href=\"https://stackoverflow.com/q/32437550/642706\"><i>What&#39;s the difference between Instant and LocalDateTime?</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1489178690,"creation_date":1470665495,"answer_id":38831506,"question_id":38830722,"body_markdown":"To use the **pattern attribute** in current version of jasper-report for Date/Time object you need a [`java.util.Date`](https://docs.oracle.com/javase/7/docs/api/java/util/Date.html) class or one of it&#39;s subclasses.\r\n\r\nThe solution is to convert `java.time.LocalDate`  and `java.time.LocalDateTime`\r\n\r\n# Converting to `java.util.Date`\r\n\r\n[**from `java.time.LocalDate`**](https://stackoverflow.com/questions/22929237/convert-java-time-localdate-into-java-util-date-type)\r\n\r\n    &lt;textField pattern=&quot;EE. dd.MM.yyyy&quot;&gt;\r\n        &lt;reportElement...&gt;\r\n        &lt;/reportElement&gt;\r\n        &lt;textFieldExpression&gt;&lt;![CDATA[java.util.Date.from($F{theLocalDate}.atStartOfDay(java.time.ZoneId.systemDefault()).toInstant())]]&gt;&lt;/textFieldExpression&gt;\r\n    &lt;/textField&gt;\r\n\r\n[**from `java.time.LocalDateTime`**](https://stackoverflow.com/questions/19431234/)\r\n\r\n    &lt;textField pattern=&quot;EE. dd.MM.yyyy&quot;&gt;\r\n        &lt;reportElement...&gt;\r\n        &lt;/reportElement&gt;\r\n        &lt;textFieldExpression&gt;&lt;![CDATA[java.util.Date.from($F{theLocalDateTime}.atZone(java.time.ZoneId.systemDefault()).toInstant())]]&gt;&lt;/textFieldExpression&gt;\r\n    &lt;/textField&gt;\r\n\r\n#[Converting to `java.sql.Timestamp`](https://stackoverflow.com/questions/8992282/convert-localdate-to-localdatetime-or-java-sql-timestamp)\r\n\r\n**from `java.time.LocalDate`**\r\n\r\n\r\n    &lt;textField pattern=&quot;EE. dd.MM.yyyy&quot;&gt;\r\n        &lt;reportElement...&gt;\r\n        &lt;/reportElement&gt;\r\n        &lt;textFieldExpression&gt;&lt;![CDATA[java.sql.Timestamp.valueOf($F{theLocalDate}.atStartOfDay())]]&gt;&lt;/textFieldExpression&gt;\r\n    &lt;/textField&gt;\r\n\r\n\r\n**from `java.time.LocalDateTime`**\r\n\r\n\r\n    &lt;textField pattern=&quot;EE. dd.MM.yyyy&quot;&gt;\r\n        &lt;reportElement...&gt;\r\n        &lt;/reportElement&gt;\r\n        &lt;textFieldExpression&gt;&lt;![CDATA[java.sql.Timestamp.valueOf($F{theLocalDateTime})]]&gt;&lt;/textFieldExpression&gt;\r\n    &lt;/textField&gt;\r\n\r\n\r\n\r\n&gt; **Note:** Applying pattern is always preferable solution, specially when\r\n&gt; exporting to excel since correct class will be passed to poi (hence\r\n&gt; excel will recognize column as a date and apply same formatting as in\r\n&gt; pattern)","title":"How to format java.time.LocalDateTime and java.time.LocalDate with pattern?","body":"<p>To use the <strong>pattern attribute</strong> in current version of jasper-report for Date/Time object you need a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a> class or one of it's subclasses.</p>\n\n<p>The solution is to convert <code>java.time.LocalDate</code>  and <code>java.time.LocalDateTime</code></p>\n\n<h1>Converting to <code>java.util.Date</code></h1>\n\n<p><a href=\"https://stackoverflow.com/questions/22929237/convert-java-time-localdate-into-java-util-date-type\"><strong>from <code>java.time.LocalDate</code></strong></a></p>\n\n<pre><code>&lt;textField pattern=\"EE. dd.MM.yyyy\"&gt;\n    &lt;reportElement...&gt;\n    &lt;/reportElement&gt;\n    &lt;textFieldExpression&gt;&lt;![CDATA[java.util.Date.from($F{theLocalDate}.atStartOfDay(java.time.ZoneId.systemDefault()).toInstant())]]&gt;&lt;/textFieldExpression&gt;\n&lt;/textField&gt;\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/19431234/\"><strong>from <code>java.time.LocalDateTime</code></strong></a></p>\n\n<pre><code>&lt;textField pattern=\"EE. dd.MM.yyyy\"&gt;\n    &lt;reportElement...&gt;\n    &lt;/reportElement&gt;\n    &lt;textFieldExpression&gt;&lt;![CDATA[java.util.Date.from($F{theLocalDateTime}.atZone(java.time.ZoneId.systemDefault()).toInstant())]]&gt;&lt;/textFieldExpression&gt;\n&lt;/textField&gt;\n</code></pre>\n\n<h1><a href=\"https://stackoverflow.com/questions/8992282/convert-localdate-to-localdatetime-or-java-sql-timestamp\">Converting to <code>java.sql.Timestamp</code></a></h1>\n\n<p><strong>from <code>java.time.LocalDate</code></strong></p>\n\n<pre><code>&lt;textField pattern=\"EE. dd.MM.yyyy\"&gt;\n    &lt;reportElement...&gt;\n    &lt;/reportElement&gt;\n    &lt;textFieldExpression&gt;&lt;![CDATA[java.sql.Timestamp.valueOf($F{theLocalDate}.atStartOfDay())]]&gt;&lt;/textFieldExpression&gt;\n&lt;/textField&gt;\n</code></pre>\n\n<p><strong>from <code>java.time.LocalDateTime</code></strong></p>\n\n<pre><code>&lt;textField pattern=\"EE. dd.MM.yyyy\"&gt;\n    &lt;reportElement...&gt;\n    &lt;/reportElement&gt;\n    &lt;textFieldExpression&gt;&lt;![CDATA[java.sql.Timestamp.valueOf($F{theLocalDateTime})]]&gt;&lt;/textFieldExpression&gt;\n&lt;/textField&gt;\n</code></pre>\n\n<blockquote>\n  <p><strong>Note:</strong> Applying pattern is always preferable solution, specially when\n  exporting to excel since correct class will be passed to poi (hence\n  excel will recognize column as a date and apply same formatting as in\n  pattern)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5314876,"reputation":41,"user_id":4265115,"display_name":"Fabiano Bonin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1627469541,"creation_date":1627469541,"answer_id":68559055,"question_id":38830722,"body_markdown":"As `java.time` module is kind of complex and verbose, I usually create some variables which holds the compiled DateTimeFormatter for further use.\r\n\r\nI want my reports to adapt to any Locale, so I don&#39;t use string literals for formatting.\r\n\r\nI am using the report Locale, but you can choose your Locale with `java.util.Locale.forLanguageTag(&quot;en-US&quot;)`, for example.\r\n\r\nYou can also change the `java.time.format.FormatStyle` if needed\r\n\r\nLocalDate formatter:\r\n\r\n    \t&lt;variable name=&quot;dateFormatter&quot; class=&quot;java.time.format.DateTimeFormatter&quot;&gt;\r\n    \t\t&lt;variableExpression&gt;&lt;![CDATA[java.time.format.DateTimeFormatter\r\n      .ofLocalizedDate(java.time.format.FormatStyle.SHORT)\r\n      .withLocale($P{REPORT_LOCALE})\r\n      .withChronology(java.time.chrono.Chronology.ofLocale($P{REPORT_LOCALE}))]]&gt;&lt;/variableExpression&gt;\r\n    \t&lt;/variable&gt;\r\n\r\nLocalDateTime formatter:\r\n\r\n    \t&lt;variable name=&quot;dateTimeFormatter&quot; class=&quot;java.time.format.DateTimeFormatter&quot;&gt;\r\n    \t\t&lt;variableExpression&gt;&lt;![CDATA[java.time.format.DateTimeFormatter\r\n      .ofLocalizedDateTime(java.time.format.FormatStyle.SHORT)\r\n      .withLocale($P{REPORT_LOCALE})\r\n      .withChronology(java.time.chrono.Chronology.ofLocale($P{REPORT_LOCALE}))]]&gt;&lt;/variableExpression&gt;\r\n    \t&lt;/variable&gt;\r\n\r\nNow I can format a LocalDate field this way:\r\n\r\n    $F{localDateField}.format($V{dateFormatter})\r\n\r\nAnd a LocalDateTime field this way:\r\n\r\n    $F{localDateTimeField}.format($V{dateTimeFormatter})\r\n\r\n","title":"How to format java.time.LocalDateTime and java.time.LocalDate with pattern?","body":"<p>As <code>java.time</code> module is kind of complex and verbose, I usually create some variables which holds the compiled DateTimeFormatter for further use.</p>\n<p>I want my reports to adapt to any Locale, so I don't use string literals for formatting.</p>\n<p>I am using the report Locale, but you can choose your Locale with <code>java.util.Locale.forLanguageTag(&quot;en-US&quot;)</code>, for example.</p>\n<p>You can also change the <code>java.time.format.FormatStyle</code> if needed</p>\n<p>LocalDate formatter:</p>\n<pre><code>    &lt;variable name=&quot;dateFormatter&quot; class=&quot;java.time.format.DateTimeFormatter&quot;&gt;\n        &lt;variableExpression&gt;&lt;![CDATA[java.time.format.DateTimeFormatter\n  .ofLocalizedDate(java.time.format.FormatStyle.SHORT)\n  .withLocale($P{REPORT_LOCALE})\n  .withChronology(java.time.chrono.Chronology.ofLocale($P{REPORT_LOCALE}))]]&gt;&lt;/variableExpression&gt;\n    &lt;/variable&gt;\n</code></pre>\n<p>LocalDateTime formatter:</p>\n<pre><code>    &lt;variable name=&quot;dateTimeFormatter&quot; class=&quot;java.time.format.DateTimeFormatter&quot;&gt;\n        &lt;variableExpression&gt;&lt;![CDATA[java.time.format.DateTimeFormatter\n  .ofLocalizedDateTime(java.time.format.FormatStyle.SHORT)\n  .withLocale($P{REPORT_LOCALE})\n  .withChronology(java.time.chrono.Chronology.ofLocale($P{REPORT_LOCALE}))]]&gt;&lt;/variableExpression&gt;\n    &lt;/variable&gt;\n</code></pre>\n<p>Now I can format a LocalDate field this way:</p>\n<pre><code>$F{localDateField}.format($V{dateFormatter})\n</code></pre>\n<p>And a LocalDateTime field this way:</p>\n<pre><code>$F{localDateTimeField}.format($V{dateTimeFormatter})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3658365,"reputation":21,"user_id":3048796,"display_name":"RMM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650468290,"creation_date":1650468290,"answer_id":71942304,"question_id":38830722,"body_markdown":"I&#39;ve stumpled over the same problem and I solved it by introducing a custom function to JasperReports. So at the end it can be used as following on LocalDate, LocalTime, LocalDateTime, just anything implementing TemporalAccessor:\r\n\r\n    FORMAT_DATETIME($F{someLocalDate}, &quot;dd.MM.yyyy&quot;)\r\n    FORMAT_DATETIME($F{someLocalDateTime}, &quot;dd.MM.yyyy HH:mm&quot;)\r\n    FORMAT_DATETIME($F{someLocalTime}, &quot;HH:mm&quot;)\r\n\r\nTo achieve that create following files:\r\n\r\nFunction Category. This is needed so the Expression Editor of the jasper report designer shows the function, under the set category\r\n\r\n    package org.example.jrfunctions;\r\n    \r\n    import net.sf.jasperreports.functions.annotations.FunctionCategory;\r\n    \r\n    @FunctionCategory()\r\n    public class LocalDateTime {\r\n    }\r\n\r\n\r\nClass with the function(s) (more functions could be added)\r\n\r\n    package org.example.jrfunctions;\r\n    \r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.temporal.TemporalAccessor;\r\n\r\n    import net.sf.jasperreports.functions.annotations.Function;\r\n    import net.sf.jasperreports.functions.annotations.FunctionCategories;\r\n    import net.sf.jasperreports.functions.annotations.FunctionParameter;\r\n    import net.sf.jasperreports.functions.annotations.FunctionParameters;\r\n    \r\n    @FunctionCategories({\r\n    \t\torg.example.jrfunctions.LocalDateTime.class })\r\n    public class JRDateTimeFunctions {\r\n    \r\n    \t@Function(&quot;FORMAT_DATETIME&quot;)\r\n    \t@FunctionParameters({\r\n    \t\t\t@FunctionParameter(&quot;temporalObject&quot;),\r\n    \t\t\t@FunctionParameter(&quot;format&quot;)\r\n    \t\t\t})\r\n    \tpublic static String FORMAT_DATETIME(TemporalAccessor temporalObject, String format) {\r\n    \t\tif (temporalObject == null) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(format);\r\n    \t\treturn formatter.format(temporalObject);\r\n    \t}\r\n    \r\n    }\r\n\r\nThe following file needs to be in the same directory as the above two, and all the properties for every parameter needs to be set. Otherwise the jasper report designer will not show the custom functions in the expression editor:\r\n\r\n**jasperreports_messages.properties**\r\n\r\n    org.example.jrfunctions.JRDateTimeFunctions.FORMAT_DATETIME.description = Formats the Temporal Object according to format\r\n    org.example.jrfunctions.JRDateTimeFunctions.FORMAT_DATETIME.name = Format Temporal Accessor (Object)\r\n    org.example.jrfunctions.JRDateTimeFunctions.FORMAT_DATETIME.temporalObject.name = Temporal Accessor\r\n    org.example.jrfunctions.JRDateTimeFunctions.FORMAT_DATETIME.temporalObject.description = Object to format\r\n    org.example.jrfunctions.JRDateTimeFunctions.FORMAT_DATETIME.format.name = Format\r\n    org.example.jrfunctions.JRDateTimeFunctions.FORMAT_DATETIME.format.description = Fromat\r\n    org.example.jrfunctions.LocalDateTime.name=Local Date &amp; Time\r\n    org.example.jrfunctions.LocalDateTime.description=\r\n\r\nThe following file needs to be in the classpath. I put it into src/main/resources\r\n\r\n**jasperreports_extension.properties**\r\n\r\n    net.sf.jasperreports.extension.registry.factory.functions=net.sf.jasperreports.functions.FunctionsRegistryFactory\r\n    net.sf.jasperreports.extension.functions.jrdatetimefunctions=org.example.jrfunctions.JRDateTimeFunctions\r\n\r\n\r\nNow the custom function should be shown in the expression editor, and compile without any problems.\r\n\r\nMore infos:\r\n\r\n - https://community.jaspersoft.com/wiki/jaspersoft-studio-expression-editor-how-extend-it-and-contribute-your-own-functions-part-2-0\r\n - http://jasperreports.sourceforge.net/sample.reference/functions/index.html\r\n","title":"How to format java.time.LocalDateTime and java.time.LocalDate with pattern?","body":"<p>I've stumpled over the same problem and I solved it by introducing a custom function to JasperReports. So at the end it can be used as following on LocalDate, LocalTime, LocalDateTime, just anything implementing TemporalAccessor:</p>\n<pre><code>FORMAT_DATETIME($F{someLocalDate}, &quot;dd.MM.yyyy&quot;)\nFORMAT_DATETIME($F{someLocalDateTime}, &quot;dd.MM.yyyy HH:mm&quot;)\nFORMAT_DATETIME($F{someLocalTime}, &quot;HH:mm&quot;)\n</code></pre>\n<p>To achieve that create following files:</p>\n<p>Function Category. This is needed so the Expression Editor of the jasper report designer shows the function, under the set category</p>\n<pre><code>package org.example.jrfunctions;\n\nimport net.sf.jasperreports.functions.annotations.FunctionCategory;\n\n@FunctionCategory()\npublic class LocalDateTime {\n}\n</code></pre>\n<p>Class with the function(s) (more functions could be added)</p>\n<pre><code>package org.example.jrfunctions;\n\nimport java.time.format.DateTimeFormatter;\nimport java.time.temporal.TemporalAccessor;\n\nimport net.sf.jasperreports.functions.annotations.Function;\nimport net.sf.jasperreports.functions.annotations.FunctionCategories;\nimport net.sf.jasperreports.functions.annotations.FunctionParameter;\nimport net.sf.jasperreports.functions.annotations.FunctionParameters;\n\n@FunctionCategories({\n        org.example.jrfunctions.LocalDateTime.class })\npublic class JRDateTimeFunctions {\n\n    @Function(&quot;FORMAT_DATETIME&quot;)\n    @FunctionParameters({\n            @FunctionParameter(&quot;temporalObject&quot;),\n            @FunctionParameter(&quot;format&quot;)\n            })\n    public static String FORMAT_DATETIME(TemporalAccessor temporalObject, String format) {\n        if (temporalObject == null) {\n            return null;\n        }\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(format);\n        return formatter.format(temporalObject);\n    }\n\n}\n</code></pre>\n<p>The following file needs to be in the same directory as the above two, and all the properties for every parameter needs to be set. Otherwise the jasper report designer will not show the custom functions in the expression editor:</p>\n<p><strong>jasperreports_messages.properties</strong></p>\n<pre><code>org.example.jrfunctions.JRDateTimeFunctions.FORMAT_DATETIME.description = Formats the Temporal Object according to format\norg.example.jrfunctions.JRDateTimeFunctions.FORMAT_DATETIME.name = Format Temporal Accessor (Object)\norg.example.jrfunctions.JRDateTimeFunctions.FORMAT_DATETIME.temporalObject.name = Temporal Accessor\norg.example.jrfunctions.JRDateTimeFunctions.FORMAT_DATETIME.temporalObject.description = Object to format\norg.example.jrfunctions.JRDateTimeFunctions.FORMAT_DATETIME.format.name = Format\norg.example.jrfunctions.JRDateTimeFunctions.FORMAT_DATETIME.format.description = Fromat\norg.example.jrfunctions.LocalDateTime.name=Local Date &amp; Time\norg.example.jrfunctions.LocalDateTime.description=\n</code></pre>\n<p>The following file needs to be in the classpath. I put it into src/main/resources</p>\n<p><strong>jasperreports_extension.properties</strong></p>\n<pre><code>net.sf.jasperreports.extension.registry.factory.functions=net.sf.jasperreports.functions.FunctionsRegistryFactory\nnet.sf.jasperreports.extension.functions.jrdatetimefunctions=org.example.jrfunctions.JRDateTimeFunctions\n</code></pre>\n<p>Now the custom function should be shown in the expression editor, and compile without any problems.</p>\n<p>More infos:</p>\n<ul>\n<li><a href=\"https://community.jaspersoft.com/wiki/jaspersoft-studio-expression-editor-how-extend-it-and-contribute-your-own-functions-part-2-0\" rel=\"nofollow noreferrer\">https://community.jaspersoft.com/wiki/jaspersoft-studio-expression-editor-how-extend-it-and-contribute-your-own-functions-part-2-0</a></li>\n<li><a href=\"http://jasperreports.sourceforge.net/sample.reference/functions/index.html\" rel=\"nofollow noreferrer\">http://jasperreports.sourceforge.net/sample.reference/functions/index.html</a></li>\n</ul>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9208,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":38831506,"answer_count":3,"score":7,"last_activity_date":1650468290,"creation_date":1470663494,"question_id":38830722,"body_markdown":"In the following snipped the property `$F` is of class `java.time.LocalDateTime` or `java.time.LocalDate`.\r\n\r\n    &lt;textField pattern=&quot;EE. dd.MM.yyyy&quot;&gt;\r\n        &lt;reportElement...&gt;\r\n    \t&lt;/reportElement&gt;\r\n        &lt;textFieldExpression&gt;&lt;![CDATA[$F{theLocalDateTime}]]&gt;&lt;/textFieldExpression&gt;\r\n    &lt;/textField&gt;\r\n\r\n\r\nHow can I format this property with textField  `pattern` in jasper reports?\r\n","title":"How to format java.time.LocalDateTime and java.time.LocalDate with pattern?","body":"<p>In the following snipped the property <code>$F</code> is of class <code>java.time.LocalDateTime</code> or <code>java.time.LocalDate</code>.</p>\n\n<pre><code>&lt;textField pattern=\"EE. dd.MM.yyyy\"&gt;\n    &lt;reportElement...&gt;\n    &lt;/reportElement&gt;\n    &lt;textFieldExpression&gt;&lt;![CDATA[$F{theLocalDateTime}]]&gt;&lt;/textFieldExpression&gt;\n&lt;/textField&gt;\n</code></pre>\n\n<p>How can I format this property with textField  <code>pattern</code> in jasper reports?</p>\n"},{"tags":["java","json","spring","hibernate","rest"],"answers":[{"tags":[],"owner":{"account_id":1908539,"reputation":1102,"user_id":1722923,"accept_rate":43,"display_name":"Raju Rudru"},"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1410467888,"creation_date":1380429980,"answer_id":19074501,"question_id":19074278,"body_markdown":"Try putting CascadeType.ALL\r\n\r\n    @OneToOne(fetch = FetchType.EAGER,cascade=CascadeType.ALL)\r\n    @JoinColumn(name=&quot;COUNTRY_ID&quot;, nullable=false) \r\n    \r\n    private Country country;","title":"Not-null property references a transient value - transient instance must be saved before current operation","body":"<p>Try putting CascadeType.ALL</p>\n\n<pre><code>@OneToOne(fetch = FetchType.EAGER,cascade=CascadeType.ALL)\n@JoinColumn(name=\"COUNTRY_ID\", nullable=false) \n\nprivate Country country;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4663066,"reputation":172,"user_id":3776862,"display_name":"djejaquino"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1410468734,"creation_date":1410464780,"answer_id":25795790,"question_id":19074278,"body_markdown":"I had a similar problem. Two entities: **Document** and **Status**.\r\n**Document** had a relationship `OneToMany` with **Status**, that represented the history of **Status** the **Document** had.\r\n\r\nSo, there was a `@NotNull` `@ManyToOne` reference of **Document** inside **Status**.\r\n\r\nAlso, I needed to know the actual **Status** of **Document**. So, I needed another relationship, this time `@OneToOne`, also `@NotNull`, inside **Document**.\r\n\r\nThe problem was: how can I persist both entities the first time if both had a `@NotNull` reference to the other? \r\n\r\nThe solution was: remove `@NotNull` reference from `actualStatus` reference. This way, it was able to persist both entities.","title":"Not-null property references a transient value - transient instance must be saved before current operation","body":"<p>I had a similar problem. Two entities: <strong>Document</strong> and <strong>Status</strong>.\n<strong>Document</strong> had a relationship <code>OneToMany</code> with <strong>Status</strong>, that represented the history of <strong>Status</strong> the <strong>Document</strong> had.</p>\n\n<p>So, there was a <code>@NotNull</code> <code>@ManyToOne</code> reference of <strong>Document</strong> inside <strong>Status</strong>.</p>\n\n<p>Also, I needed to know the actual <strong>Status</strong> of <strong>Document</strong>. So, I needed another relationship, this time <code>@OneToOne</code>, also <code>@NotNull</code>, inside <strong>Document</strong>.</p>\n\n<p>The problem was: how can I persist both entities the first time if both had a <code>@NotNull</code> reference to the other? </p>\n\n<p>The solution was: remove <code>@NotNull</code> reference from <code>actualStatus</code> reference. This way, it was able to persist both entities.</p>\n"},{"tags":[],"owner":{"account_id":2168717,"reputation":13,"user_id":1921249,"display_name":"Miladesnovakaina"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1524219627,"creation_date":1524219627,"answer_id":49939408,"question_id":19074278,"body_markdown":"you should change :\r\n\r\n    @OneToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name=&quot;COUNTRY_ID&quot;, nullable=false)\r\n    private Country country;\r\n\r\nto : \r\n\r\n    @OneToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name=&quot;COUNTRY_ID&quot;)\r\n    private Country country;\r\n\r\njust delete nullable setting.","title":"Not-null property references a transient value - transient instance must be saved before current operation","body":"<p>you should change :</p>\n\n<pre><code>@OneToOne(fetch = FetchType.EAGER)\n@JoinColumn(name=\"COUNTRY_ID\", nullable=false)\nprivate Country country;\n</code></pre>\n\n<p>to : </p>\n\n<pre><code>@OneToOne(fetch = FetchType.EAGER)\n@JoinColumn(name=\"COUNTRY_ID\")\nprivate Country country;\n</code></pre>\n\n<p>just delete nullable setting.</p>\n"},{"tags":[],"owner":{"account_id":14829536,"reputation":1,"user_id":10709399,"display_name":"Nishchay Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581491014,"creation_date":1581491014,"answer_id":60182811,"question_id":19074278,"body_markdown":"I got same error and this is how I solved it:\r\n\r\n1st Entity:\r\n\r\n        @Entity\r\n        public class Person implements Serializable{\r\n        \t@Id\r\n        \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        \tprivate int personId;\r\n        \tprivate String name;\r\n        \tprivate String email;\r\n        \tprivate long phoneNumber;\r\n        \tprivate String password;\r\n        \tprivate String userType;\r\n            @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;personCustomer&quot;, cascade \r\n            = CascadeType.ALL)\r\n    \t    private Customer customer;\r\n\r\n2nd Entity:\r\n\r\n    @Entity\r\n    public class Customer implements Serializable{\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int customerId;\r\n    \t@OneToOne(fetch = FetchType.LAZY, optional = false, cascade = \r\n        CascadeType.ALL)\r\n        @JoinColumn(name = &quot;person_customer&quot;)\r\n    \t@JsonIgnore\r\n    \tprivate Person personCustomer;\r\n\r\nMy Controller:\r\n\r\n    @PostMapping(&quot;/customer/registration&quot;)\r\n    \tpublic PersonCustomer addCustomer(@RequestBody Person person)\r\n    \t{\r\n    \t\tCustomer customer = new Customer(person);\r\n    \t\tperson.setCustomer(customer);\r\n    \t\tCustomer cust = customerRepo.save(customer);\r\n    \t\tlogger.info(&quot;{}&quot;, cust);\r\n    \t\tOptional&lt;Person&gt; person_Cust = \r\n            personRepo.findById(cust.getPersonCustomer().getPersonId());\r\n    \t\tPerson personNew = person_Cust.get();\r\n    \t\tPersonCustomer personCust = new PersonCustomer();\r\n    \t\t\r\n    \t\tif(cust.equals(null))\r\n    \t\t{\t\r\n    \t\t\tpersonCust.setStatus(&quot;FAIL&quot;);\r\n    \t\t\tpersonCust.setMessage(&quot;Registration failed&quot;);\r\n    \t\t\tpersonCust.setTimestamp(personCust.timeStamp());\r\n    \t\t}\r\n    \t\tpersonCust.setStatus(&quot;OK&quot;);\r\n    \t\tpersonCust.setMessage(&quot;Registration OK&quot;);\r\n    \t\tpersonCust.setTimestamp(personCust.timeStamp());\r\n    \t\tpersonCust.setPerson(personNew);\r\n    \t\t\r\n    \t\treturn personCust;\r\n    \t}\r\n\r\nThe problem got solved when I added &quot;person.setCustomer(customer);&quot;.\r\nAs both POJO classes has each others reference, so we have to &quot;set&quot; each others reference before using the JPA repository method(customerRepo.save(customer)); ","title":"Not-null property references a transient value - transient instance must be saved before current operation","body":"<p>I got same error and this is how I solved it:</p>\n\n<p>1st Entity:</p>\n\n<pre><code>    @Entity\n    public class Person implements Serializable{\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private int personId;\n        private String name;\n        private String email;\n        private long phoneNumber;\n        private String password;\n        private String userType;\n        @OneToOne(fetch = FetchType.LAZY, mappedBy = \"personCustomer\", cascade \n        = CascadeType.ALL)\n        private Customer customer;\n</code></pre>\n\n<p>2nd Entity:</p>\n\n<pre><code>@Entity\npublic class Customer implements Serializable{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int customerId;\n    @OneToOne(fetch = FetchType.LAZY, optional = false, cascade = \n    CascadeType.ALL)\n    @JoinColumn(name = \"person_customer\")\n    @JsonIgnore\n    private Person personCustomer;\n</code></pre>\n\n<p>My Controller:</p>\n\n<pre><code>@PostMapping(\"/customer/registration\")\n    public PersonCustomer addCustomer(@RequestBody Person person)\n    {\n        Customer customer = new Customer(person);\n        person.setCustomer(customer);\n        Customer cust = customerRepo.save(customer);\n        logger.info(\"{}\", cust);\n        Optional&lt;Person&gt; person_Cust = \n        personRepo.findById(cust.getPersonCustomer().getPersonId());\n        Person personNew = person_Cust.get();\n        PersonCustomer personCust = new PersonCustomer();\n\n        if(cust.equals(null))\n        {   \n            personCust.setStatus(\"FAIL\");\n            personCust.setMessage(\"Registration failed\");\n            personCust.setTimestamp(personCust.timeStamp());\n        }\n        personCust.setStatus(\"OK\");\n        personCust.setMessage(\"Registration OK\");\n        personCust.setTimestamp(personCust.timeStamp());\n        personCust.setPerson(personNew);\n\n        return personCust;\n    }\n</code></pre>\n\n<p>The problem got solved when I added \"person.setCustomer(customer);\".\nAs both POJO classes has each others reference, so we have to \"set\" each others reference before using the JPA repository method(customerRepo.save(customer)); </p>\n"},{"tags":[],"owner":{"account_id":20417241,"reputation":9,"user_id":14979129,"display_name":"P&#233;ter M&#225;rkus"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1610308113,"creation_date":1610307059,"answer_id":65657594,"question_id":19074278,"body_markdown":"I had the exact same problem. The solution seems to be to send the JSON like this:\r\n```\r\n{\r\n  &quot;firstname&quot;: &quot;Tapas&quot;,\r\n  &quot;lastname&quot;: &quot;Jena&quot;,\r\n  &quot;city&quot;: &quot;Hyderabad&quot;,\r\n  &quot;country&quot;: {&quot;id&quot;:&quot;1&quot;}\r\n}\r\n```\r\nI guess `@RequestBody` tries to map an entity not a single field since the **Customer** instance is referencing a **Country** instance.\r\n\r\n(I have similarly two entities, joined. In the DB, records for the referenced entity (Country in your case) were already created but the entity creation (Customer in your case) with a json, provided the same error message. For me CascadeType.ALL not helped but the above written change in the JSON solved the problem. For further config of course CascadeType can be considered.) ","title":"Not-null property references a transient value - transient instance must be saved before current operation","body":"<p>I had the exact same problem. The solution seems to be to send the JSON like this:</p>\n<pre><code>{\n  &quot;firstname&quot;: &quot;Tapas&quot;,\n  &quot;lastname&quot;: &quot;Jena&quot;,\n  &quot;city&quot;: &quot;Hyderabad&quot;,\n  &quot;country&quot;: {&quot;id&quot;:&quot;1&quot;}\n}\n</code></pre>\n<p>I guess <code>@RequestBody</code> tries to map an entity not a single field since the <strong>Customer</strong> instance is referencing a <strong>Country</strong> instance.</p>\n<p>(I have similarly two entities, joined. In the DB, records for the referenced entity (Country in your case) were already created but the entity creation (Customer in your case) with a json, provided the same error message. For me CascadeType.ALL not helped but the above written change in the JSON solved the problem. For further config of course CascadeType can be considered.)</p>\n"},{"tags":[],"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650468101,"creation_date":1650468101,"answer_id":71942250,"question_id":19074278,"body_markdown":"Just to add an additional scenario that led me to this exact same error:\r\n\r\n**Make sure that any backward references that may exist are not null.**\r\n\r\nSpecifically in my case, I was using `Mapstruct` to update some fields of the entity, e.g.\r\n\r\n    MyClass newInstance = //...\r\n    MyClass dbInstance = repository.findByField(someField);\r\n    MyClassMapper.MAPPER.update(dbInstance, newInstance);\r\n    repository.save(dbInstance);\r\n\r\nAnd my poor implementation of `MyClassMapper` led the backward references of `dbInstance` fields to be set to `null` when they should be pointing back to `dbInstance`.\r\n\r\n ","title":"Not-null property references a transient value - transient instance must be saved before current operation","body":"<p>Just to add an additional scenario that led me to this exact same error:</p>\n<p><strong>Make sure that any backward references that may exist are not null.</strong></p>\n<p>Specifically in my case, I was using <code>Mapstruct</code> to update some fields of the entity, e.g.</p>\n<pre><code>MyClass newInstance = //...\nMyClass dbInstance = repository.findByField(someField);\nMyClassMapper.MAPPER.update(dbInstance, newInstance);\nrepository.save(dbInstance);\n</code></pre>\n<p>And my poor implementation of <code>MyClassMapper</code> led the backward references of <code>dbInstance</code> fields to be set to <code>null</code> when they should be pointing back to <code>dbInstance</code>.</p>\n"}],"owner":{"account_id":1741191,"reputation":1079,"user_id":1592551,"accept_rate":56,"display_name":"Tapas Jena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110748,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":19074501,"answer_count":6,"score":61,"last_activity_date":1650468101,"creation_date":1380427556,"question_id":19074278,"body_markdown":"I have 2 domain models and one Spring REST Controller like below:\r\n\r\n    @Entity\r\n    public class Customer{\r\n    \r\n    @Id\r\n    private Long id;\r\n    \r\n    @OneToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name=&quot;COUNTRY_ID&quot;, nullable=false)\r\n    private Country country;\r\n    \r\n    // other stuff with getters/setters\r\n    \r\n    }\r\n\r\n    @Entity\r\n    public class Country{\r\n    \r\n    @Id\r\n    @Column(name=&quot;COUNTRY_ID&quot;)\r\n    private Integer id;\r\n    \r\n    // other stuff with getters/setters\r\n    \r\n    }\r\n\r\n**Spring REST Controller:**\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/shop/services/customers&quot;)\r\n    public class CustomerRESTController {\r\n    \r\n       /**\r\n        * Create new customer\r\n        */\r\n        @RequestMapping( method=RequestMethod.POST)\r\n        @ResponseStatus(HttpStatus.CREATED)\r\n        @ResponseBody\r\n        public com.salesmanager.web.entity.customer.Customer createCustomer(@Valid @RequestBody   Customer customer, Model model, HttpServletRequest request, HttpServletResponse response) throws Exception {\r\n    \t\t\r\n    \t\tcustomerService.saveOrUpdate(customer);\r\n    \t\r\n    \t\treturn customer;\r\n    \t}\r\n    \r\n        // other stuff\r\n    }\r\n\r\nI am trying to call above REST service with below JSON as body:\r\n\r\n    {\r\n        &quot;firstname&quot;: &quot;Tapas&quot;,\r\n        &quot;lastname&quot;: &quot;Jena&quot;,\r\n        &quot;city&quot;: &quot;Hyderabad&quot;,\r\n        &quot;country&quot;: &quot;1&quot;\r\n    }\r\n\r\nWhere country code 1 is already there in Country table. The problem is when I am calling this service getting below error:\r\n\r\n    org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.TransientPropertyValueException: Not-null property references a transient value - transient instance must be saved before current operation: com.test.model.Customer.country -&gt; com.test.model.Country; nested exception is java.lang.IllegalStateException: org.hibernate.TransientPropertyValueException: Not-null property references a transient value - transient instance must be saved before current operation: com.test.model.Customer.country -&gt; com.test.model.Country\r\n\r\nAny help will be appreciated!\r\n","title":"Not-null property references a transient value - transient instance must be saved before current operation","body":"<p>I have 2 domain models and one Spring REST Controller like below:</p>\n\n<pre><code>@Entity\npublic class Customer{\n\n@Id\nprivate Long id;\n\n@OneToOne(fetch = FetchType.EAGER)\n@JoinColumn(name=\"COUNTRY_ID\", nullable=false)\nprivate Country country;\n\n// other stuff with getters/setters\n\n}\n\n@Entity\npublic class Country{\n\n@Id\n@Column(name=\"COUNTRY_ID\")\nprivate Integer id;\n\n// other stuff with getters/setters\n\n}\n</code></pre>\n\n<p><strong>Spring REST Controller:</strong></p>\n\n<pre><code>@Controller\n@RequestMapping(\"/shop/services/customers\")\npublic class CustomerRESTController {\n\n   /**\n    * Create new customer\n    */\n    @RequestMapping( method=RequestMethod.POST)\n    @ResponseStatus(HttpStatus.CREATED)\n    @ResponseBody\n    public com.salesmanager.web.entity.customer.Customer createCustomer(@Valid @RequestBody   Customer customer, Model model, HttpServletRequest request, HttpServletResponse response) throws Exception {\n\n        customerService.saveOrUpdate(customer);\n\n        return customer;\n    }\n\n    // other stuff\n}\n</code></pre>\n\n<p>I am trying to call above REST service with below JSON as body:</p>\n\n<pre><code>{\n    \"firstname\": \"Tapas\",\n    \"lastname\": \"Jena\",\n    \"city\": \"Hyderabad\",\n    \"country\": \"1\"\n}\n</code></pre>\n\n<p>Where country code 1 is already there in Country table. The problem is when I am calling this service getting below error:</p>\n\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.TransientPropertyValueException: Not-null property references a transient value - transient instance must be saved before current operation: com.test.model.Customer.country -&gt; com.test.model.Country; nested exception is java.lang.IllegalStateException: org.hibernate.TransientPropertyValueException: Not-null property references a transient value - transient instance must be saved before current operation: com.test.model.Customer.country -&gt; com.test.model.Country\n</code></pre>\n\n<p>Any help will be appreciated!</p>\n"},{"tags":["java","postgresql","liquibase"],"answers":[{"tags":[],"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650467999,"creation_date":1650467999,"answer_id":71942227,"question_id":71912596,"body_markdown":"This appears to have been answered previously in https://stackoverflow.com/questions/38427585/postgresql-error-column-am-amcanorder-doesnt-exist \r\n\r\nAccording to the top answer upvoted there, the fix is to update your JDBC driver. ","title":"liquibase with postgres throws ERROR: column am.amcanorder on index exists precondition","body":"<p>This appears to have been answered previously in <a href=\"https://stackoverflow.com/questions/38427585/postgresql-error-column-am-amcanorder-doesnt-exist\">PostgreSQL Error: column am.amcanorder doesn&#39;t exist</a></p>\n<p>According to the top answer upvoted there, the fix is to update your JDBC driver.</p>\n"}],"owner":{"account_id":9132976,"reputation":69,"user_id":6793827,"display_name":"P K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71942227,"answer_count":1,"score":0,"last_activity_date":1650467999,"creation_date":1650289359,"question_id":71912596,"body_markdown":"liquibase : 4.9.0\r\npostgres driver: 42.3.4, 42.3.3\r\npostgres server: 13, 14\r\n\r\n````\r\nliquibase precondition:\r\n    &lt;changeSet id=&quot;metrics_indexes_v1&quot; author=&quot;jim.hunter&quot; dbms=&quot;postgresql&quot;&gt;\r\n        **&lt;preConditions onFail=&quot;MARK_RAN&quot;&gt;\r\n            &lt;not&gt;\r\n                &lt;indexExists indexName=&quot;metrics_instance_id_index&quot; tableName=&quot;metrics&quot;/&gt;\r\n            &lt;/not&gt;\r\n        &lt;/preConditions&gt;**\r\n        &lt;createIndex indexName=&quot;metrics_instance_id_index&quot; tableName=&quot;metrics&quot;&gt;\r\n            &lt;column name=&quot;instance_id&quot;/&gt;\r\n        &lt;/createIndex&gt;\r\n        &lt;modifySql context=&quot;ENABLE-PARTITIONING&quot;&gt;\r\n            &lt;append value=&quot; INCLUDE (metric_time, metric_value)&quot;/&gt;\r\n        &lt;/modifySql&gt;\r\n    &lt;/changeSet&gt;\r\n````\r\n\r\nThrows exception:\r\n````\r\nCaused by: liquibase.exception.DatabaseException: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException: ERROR: column am.amcanorder does not exist\r\n  Position: 427\r\n````\r\n\r\nI read that table pg_am is not available anymore after postgres 9.5 but looks like liquibase is still looking for it. Is this a liquibase problem? What should be the recommended way to check for index exists condition?\r\n","title":"liquibase with postgres throws ERROR: column am.amcanorder on index exists precondition","body":"<p>liquibase : 4.9.0\npostgres driver: 42.3.4, 42.3.3\npostgres server: 13, 14</p>\n<pre><code>liquibase precondition:\n    &lt;changeSet id=&quot;metrics_indexes_v1&quot; author=&quot;jim.hunter&quot; dbms=&quot;postgresql&quot;&gt;\n        **&lt;preConditions onFail=&quot;MARK_RAN&quot;&gt;\n            &lt;not&gt;\n                &lt;indexExists indexName=&quot;metrics_instance_id_index&quot; tableName=&quot;metrics&quot;/&gt;\n            &lt;/not&gt;\n        &lt;/preConditions&gt;**\n        &lt;createIndex indexName=&quot;metrics_instance_id_index&quot; tableName=&quot;metrics&quot;&gt;\n            &lt;column name=&quot;instance_id&quot;/&gt;\n        &lt;/createIndex&gt;\n        &lt;modifySql context=&quot;ENABLE-PARTITIONING&quot;&gt;\n            &lt;append value=&quot; INCLUDE (metric_time, metric_value)&quot;/&gt;\n        &lt;/modifySql&gt;\n    &lt;/changeSet&gt;\n</code></pre>\n<p>Throws exception:</p>\n<pre><code>Caused by: liquibase.exception.DatabaseException: liquibase.exception.DatabaseException: org.postgresql.util.PSQLException: ERROR: column am.amcanorder does not exist\n  Position: 427\n</code></pre>\n<p>I read that table pg_am is not available anymore after postgres 9.5 but looks like liquibase is still looking for it. Is this a liquibase problem? What should be the recommended way to check for index exists condition?</p>\n"},{"tags":["java","spring","mockito"],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650467601,"creation_date":1650467601,"answer_id":71942134,"question_id":71942013,"body_markdown":"I would create test subject myself then \r\n\r\n    public class CTest{\r\n       @Mock\r\n       Foo&lt;A&gt; a;\r\n    \r\n       @Mock\r\n       Foo&lt;B&gt; b;\r\n\r\n    // @InjectMocks  since it is not working for you, lets skip it\r\n       C service;\r\n    \r\n       @Before\r\n       public void setup(){\r\n           service=new C(a,b);\r\n       }\r\n    \r\n       @Test\r\n       public void testSomething(){\r\n          when(a.someMethod()).thenReturn(someVariable);\r\n          when(b.someMethod()).thenReturn(someOtherVariable);\r\n       }\r\n    }","title":"Can&#39;t use 2 Mocks from the same class with different diamond operator classes","body":"<p>I would create test subject myself then</p>\n<pre><code>public class CTest{\n   @Mock\n   Foo&lt;A&gt; a;\n\n   @Mock\n   Foo&lt;B&gt; b;\n\n// @InjectMocks  since it is not working for you, lets skip it\n   C service;\n\n   @Before\n   public void setup(){\n       service=new C(a,b);\n   }\n\n   @Test\n   public void testSomething(){\n      when(a.someMethod()).thenReturn(someVariable);\n      when(b.someMethod()).thenReturn(someOtherVariable);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":13327832,"reputation":64,"user_id":9620239,"display_name":"andrestascon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71942134,"answer_count":1,"score":0,"last_activity_date":1650467908,"creation_date":1650467117,"question_id":71942013,"body_markdown":"I have the following classes structure. \r\n\r\n    public interface Foo&lt;T extends Bar&gt;{\r\n       Optional&lt;T&gt; find();\r\n    }\r\n\r\n    public class A extends Bar{}\r\n   \r\n    public class B extends Bar{}\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class C{\r\n      Foo&lt;A&gt; a;\r\n      Foo&lt;B&gt; b;\r\n\r\n      B bInstance = b.find();\r\n    }\r\n\r\n    public class CTest{\r\n       @Mock\r\n       Foo&lt;A&gt; a;\r\n   \r\n       @Mock\r\n       Foo&lt;B&gt; b;\r\n\r\n       @InjectMocks\r\n       C c;\r\n\r\n       @Test\r\n       public void testSomething(){\r\n          when(a.someMethod()).thenReturn(someVariable);\r\n          when(b.someMethod()).thenReturn(someOtherVariable);\r\n       }\r\n    }\r\n\r\nThen maybe I have some code in class C like:\r\n\r\n    B bInstance = b.find();\r\n\r\nAnd the problem here is that when find is called, it returns a new instance from class A instead of B, i.e. the variable from the mock a instead of mock b. Therefore, I get a ClassLoadException doing some work afterwards.\r\n\r\nIs this supposed to work as expected or is it a problem caused by mocking 2 variables from the same class (Foo) of 2 different diamond operator classes (how is this called?) (A and B) that Mockito can&#39;t interprete? \r\nAm I missing something else here?\r\nThis may not be enough information to do the follow-up but hopefully there is some concept misunderstanding that I have and can be fixed easily.\r\n\r\nThanks in advance!","title":"Can&#39;t use 2 Mocks from the same class with different diamond operator classes","body":"<p>I have the following classes structure.</p>\n<pre><code>public interface Foo&lt;T extends Bar&gt;{\n   Optional&lt;T&gt; find();\n}\n\npublic class A extends Bar{}\n\npublic class B extends Bar{}\n\n@Service\n@RequiredArgsConstructor\npublic class C{\n  Foo&lt;A&gt; a;\n  Foo&lt;B&gt; b;\n\n  B bInstance = b.find();\n}\n\npublic class CTest{\n   @Mock\n   Foo&lt;A&gt; a;\n\n   @Mock\n   Foo&lt;B&gt; b;\n\n   @InjectMocks\n   C c;\n\n   @Test\n   public void testSomething(){\n      when(a.someMethod()).thenReturn(someVariable);\n      when(b.someMethod()).thenReturn(someOtherVariable);\n   }\n}\n</code></pre>\n<p>Then maybe I have some code in class C like:</p>\n<pre><code>B bInstance = b.find();\n</code></pre>\n<p>And the problem here is that when find is called, it returns a new instance from class A instead of B, i.e. the variable from the mock a instead of mock b. Therefore, I get a ClassLoadException doing some work afterwards.</p>\n<p>Is this supposed to work as expected or is it a problem caused by mocking 2 variables from the same class (Foo) of 2 different diamond operator classes (how is this called?) (A and B) that Mockito can't interprete?\nAm I missing something else here?\nThis may not be enough information to do the follow-up but hopefully there is some concept misunderstanding that I have and can be fixed easily.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","windows","path","filepath"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1650465641,"post_id":71941604,"comment_id":127123760,"body_markdown":"Why would `/foo` be absolute on windows? In windows, no full path starts with a `/`","body":"Why would <code>&#47;foo</code> be absolute on windows? In windows, no full path starts with a <code>&#47;</code>"},{"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"score":3,"creation_date":1650465818,"post_id":71941604,"comment_id":127123852,"body_markdown":"/foo is relative to the current selected drive, so it&#39;s not absolute.","body":"/foo is relative to the current selected drive, so it&#39;s not absolute."},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1650466276,"post_id":71941604,"comment_id":127124044,"body_markdown":"Well, it&#39;s absolute on the current drive, but I know what you mean","body":"Well, it&#39;s absolute on the current drive, but I know what you mean"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1650468270,"post_id":71941604,"comment_id":127124981,"body_markdown":"&quot;absolute on the current drive&quot; is just another way of saying &quot;relative to the current drive&quot;. If &quot;absolute&quot; is to have any meaning, it must be that &quot;no matter the context, this always uniquely identifies one path within a system&quot; and that&#39;s simply not true if you don&#39;t include a drive letter.","body":"&quot;absolute on the current drive&quot; is just another way of saying &quot;relative to the current drive&quot;. If &quot;absolute&quot; is to have any meaning, it must be that &quot;no matter the context, this always uniquely identifies one path within a system&quot; and that&#39;s simply not true if you don&#39;t include a drive letter."}],"answers":[{"tags":[],"owner":{"account_id":11882027,"reputation":68,"user_id":11057239,"display_name":"elfefe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650465929,"creation_date":1650465929,"answer_id":71941699,"question_id":71941604,"body_markdown":"You can check if the start of your file path begins with a &quot;/&quot; using `Boolean isPathAbsolute = &quot;/foo&quot;.startsWith(&quot;/&quot;)` and use this variable to decide if you prepend the default or not!","title":"On Windows, file starting with / is not considered absolute","body":"<p>You can check if the start of your file path begins with a &quot;/&quot; using <code>Boolean isPathAbsolute = &quot;/foo&quot;.startsWith(&quot;/&quot;)</code> and use this variable to decide if you prepend the default or not!</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650467568,"creation_date":1650467568,"answer_id":71942128,"question_id":71941604,"body_markdown":"You don&#39;t need to check for &quot;isAbsolute&quot; by string comparisons, just use `Path` and resolve using `defaultDir.resolve(path)`\r\n\r\nConsider:\r\n\r\n\tvar rel = Path.of(&quot;relative&quot;);\r\n\tvar abs = Path.of(&quot;/absolute&quot;);\r\n\r\n\tfor (Path dir : List.of(Path.of(&quot;.&quot;), Path.of(&quot;abc&quot;),Path.of(&quot;/abc&quot;))) {\r\n\t\tSystem.out.println(&quot;dir=&quot;+dir);\r\n\t\tSystem.out.println(&quot;dir.resolve(&quot;+abs+&quot;)=&quot;+dir.resolve(abs));\r\n\t\tSystem.out.println(&quot;dir.resolve(&quot;+rel+&quot;)=&quot;+dir.resolve(rel));\r\n\t}\r\n\r\nThis handles resolving from the default directory path using another path which may be relative or absolute (in sense that it starts with path separator) on Windows or Linux. \r\n\r\nExample run from Linux (Windows is same answer but with Windows path separator character).\r\n\r\n\tdir=.\r\n\tdir.resolve(/absolute)=/absolute\r\n\tdir.resolve(relative)=./relative\r\n\tdir=abc\r\n\tdir.resolve(/absolute)=/absolute\r\n\tdir.resolve(relative)=abc/relative\r\n\tdir=/abc\r\n\tdir.resolve(/absolute)=/absolute\r\n\tdir.resolve(relative)=/abc/relative","title":"On Windows, file starting with / is not considered absolute","body":"<p>You don't need to check for &quot;isAbsolute&quot; by string comparisons, just use <code>Path</code> and resolve using <code>defaultDir.resolve(path)</code></p>\n<p>Consider:</p>\n<pre><code>var rel = Path.of(&quot;relative&quot;);\nvar abs = Path.of(&quot;/absolute&quot;);\n\nfor (Path dir : List.of(Path.of(&quot;.&quot;), Path.of(&quot;abc&quot;),Path.of(&quot;/abc&quot;))) {\n    System.out.println(&quot;dir=&quot;+dir);\n    System.out.println(&quot;dir.resolve(&quot;+abs+&quot;)=&quot;+dir.resolve(abs));\n    System.out.println(&quot;dir.resolve(&quot;+rel+&quot;)=&quot;+dir.resolve(rel));\n}\n</code></pre>\n<p>This handles resolving from the default directory path using another path which may be relative or absolute (in sense that it starts with path separator) on Windows or Linux.</p>\n<p>Example run from Linux (Windows is same answer but with Windows path separator character).</p>\n<pre><code>dir=.\ndir.resolve(/absolute)=/absolute\ndir.resolve(relative)=./relative\ndir=abc\ndir.resolve(/absolute)=/absolute\ndir.resolve(relative)=abc/relative\ndir=/abc\ndir.resolve(/absolute)=/absolute\ndir.resolve(relative)=/abc/relative\n</code></pre>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71942128,"answer_count":2,"score":0,"last_activity_date":1650467568,"creation_date":1650465558,"question_id":71941604,"body_markdown":"This surprised me, but apparently, a path on Windows that starts with a slash is not considered absolute.  You need to specify c:\\.  But surely, there is a difference between `/foo` and `foo`\r\n\r\n```\r\nSystem.out.println(new File(new File(&quot;/folder&quot;), &quot;abc&quot;));\r\nSystem.out.println(new File(new File(&quot;/folder&quot;), &quot;abc&quot;).isAbsolute());\r\n\r\n\\folder\\abc\r\nfalse\r\n```\r\n\r\nIs this correct behavior?\r\n\r\nI want to be able to identify a relative path, such as `foo`, so I can prepend a default directory.  But I would consider `/foo` to be an absolute path and would not prepend the default","title":"On Windows, file starting with / is not considered absolute","body":"<p>This surprised me, but apparently, a path on Windows that starts with a slash is not considered absolute.  You need to specify c:.  But surely, there is a difference between <code>/foo</code> and <code>foo</code></p>\n<pre><code>System.out.println(new File(new File(&quot;/folder&quot;), &quot;abc&quot;));\nSystem.out.println(new File(new File(&quot;/folder&quot;), &quot;abc&quot;).isAbsolute());\n\n\\folder\\abc\nfalse\n</code></pre>\n<p>Is this correct behavior?</p>\n<p>I want to be able to identify a relative path, such as <code>foo</code>, so I can prepend a default directory.  But I would consider <code>/foo</code> to be an absolute path and would not prepend the default</p>\n"},{"tags":["java","swing","user-interface","jframe","jdialog"],"comments":[{"owner":{"account_id":3430701,"reputation":629,"user_id":2875215,"accept_rate":83,"display_name":"TheOneWhoPrograms"},"score":0,"creation_date":1394193893,"post_id":22249467,"comment_id":33790585,"body_markdown":"look into modal types. Also, have you considered simply not using a jdialog and just using a frame instead? You have significantly more control over a frame (in my opinion).","body":"look into modal types. Also, have you considered simply not using a jdialog and just using a frame instead? You have significantly more control over a frame (in my opinion)."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1394194523,"post_id":22249467,"comment_id":33790976,"body_markdown":"See [The Use of Multiple JFrames, Good/Bad Practice?](http://stackoverflow.com/q/9554636/2587435). See the accepted answer for some better solutions.","body":"See <a href=\"http://stackoverflow.com/q/9554636/2587435\">The Use of Multiple JFrames, Good/Bad Practice?</a>. See the accepted answer for some better solutions."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1394198033,"post_id":22249467,"comment_id":33793225,"body_markdown":"Do you know what `dialog.setModal(true);` means?","body":"Do you know what <code>dialog.setModal(true);</code> means?"}],"answers":[{"tags":[],"owner":{"account_id":2005516,"reputation":17831,"user_id":1795530,"accept_rate":100,"display_name":"dic19"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1394198690,"creation_date":1394198690,"answer_id":22251315,"question_id":22249467,"body_markdown":"&gt; JDialog has another button and i want to open another JFrmae open when\r\n&gt; click it.\r\n\r\nDon&#39;t do that. A tipical Swing application has a single main `JFrame` and several `JDialog`s. See this topic [The Use of Multiple JFrames, Good/Bad Practice?](https://stackoverflow.com/questions/9554636/the-use-of-multiple-jframes-good-bad-practice)\r\n\r\n&gt; Result : another Jframe open but it will not come to the top.It shows\r\n&gt; under the dialog.I want to open the 2nd JFrame on top of that dialog.\r\n\r\nOf course it does because the dialog is modal.\r\n\r\n&gt; can use secondFrame.setAlwaysOnTop(true); but i don&#39;t have control to\r\n&gt; close it or move it.\r\n\r\nIt won&#39;t solve anything because the problem has to do with modality in dialogs. See this article: [How to Use Modality in Dialogs](http://docs.oracle.com/javase/tutorial/uiswing/misc/modality.html) to understand how modality works. There&#39;s an explanation in [this answer](https://stackoverflow.com/a/22041971/1795530) too.","title":"Open JFrame from JDialog and it shows on top of JDialog","body":"<blockquote>\n  <p>JDialog has another button and i want to open another JFrmae open when\n  click it.</p>\n</blockquote>\n\n<p>Don't do that. A tipical Swing application has a single main <code>JFrame</code> and several <code>JDialog</code>s. See this topic <a href=\"https://stackoverflow.com/questions/9554636/the-use-of-multiple-jframes-good-bad-practice\">The Use of Multiple JFrames, Good/Bad Practice?</a></p>\n\n<blockquote>\n  <p>Result : another Jframe open but it will not come to the top.It shows\n  under the dialog.I want to open the 2nd JFrame on top of that dialog.</p>\n</blockquote>\n\n<p>Of course it does because the dialog is modal.</p>\n\n<blockquote>\n  <p>can use secondFrame.setAlwaysOnTop(true); but i don't have control to\n  close it or move it.</p>\n</blockquote>\n\n<p>It won't solve anything because the problem has to do with modality in dialogs. See this article: <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/modality.html\" rel=\"nofollow noreferrer\">How to Use Modality in Dialogs</a> to understand how modality works. There's an explanation in <a href=\"https://stackoverflow.com/a/22041971/1795530\">this answer</a> too.</p>\n"},{"tags":[],"owner":{"account_id":1975163,"reputation":199,"user_id":1773110,"display_name":"legolas108"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650467441,"creation_date":1650467441,"answer_id":71942090,"question_id":22249467,"body_markdown":"Try\r\n```\r\nsecondFrame.setModalExclusionType(ModalExclusionType.APPLICATION_EXCLUDE);\r\n```\r\nIt worked for me in the same situation.\r\n","title":"Open JFrame from JDialog and it shows on top of JDialog","body":"<p>Try</p>\n<pre><code>secondFrame.setModalExclusionType(ModalExclusionType.APPLICATION_EXCLUDE);\n</code></pre>\n<p>It worked for me in the same situation.</p>\n"}],"owner":{"account_id":1506669,"reputation":585,"user_id":1409896,"accept_rate":73,"display_name":"Prabhath"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4587,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22251315,"answer_count":2,"score":2,"last_activity_date":1650467441,"creation_date":1394193430,"question_id":22249467,"body_markdown":"This is the scenario,\r\nMy `JFrame` has a button  it will open a `JDialog` when click it and it is a model dialog.\r\n`JDialog` has another button and i want to open another `JFrmae` open when click it.\r\n\r\nResult : another `Jframe` open but it will not come to the top.It shows under the dialog.I want to open the 2nd `JFrame` on top of that dialog.\r\n\r\ncan use `secondFrame.setAlwaysOnTop(true);` but i don&#39;t have control to close it or move it.\r\n\r\n       \r\n    \r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JDialog;\r\n    import javax.swing.JFrame;\r\n    public class FrameTest\r\n    {\r\n        public static void main(String args[])\r\n        {\r\n            JFrame firstFrame = new JFrame(&quot;My 1st Frame&quot;);\r\n            JButton button = new JButton(&quot;Frame Click&quot;);\r\n        \r\n            button.addActionListener(new ActionListener()\r\n            {\r\n          \r\n                @Override\r\n                public void actionPerformed(ActionEvent e)\r\n                {\r\n                    JDialog dialog = new JDialog();\r\n                    dialog.setSize(100, 100);\r\n                    dialog.setModal(true);\r\n                    JButton button1 = new JButton(&quot;Dialog Click&quot;);\r\n           \r\n                    button1.addActionListener(new ActionListener()\r\n                    {\r\n                        @Override\r\n                        public void actionPerformed(ActionEvent e)\r\n                        {\r\n                            JFrame secondFrame = new JFrame(&quot;My 2nd Frame&quot;);\r\n                            secondFrame.setVisible(true);\r\n                            secondFrame.setSize(400, 200);\r\n                            secondFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                            secondFrame.setAlwaysOnTop(true);\r\n                         }\r\n                    });\r\n            \r\n                    dialog.add(button1);\r\n                    dialog.setVisible(true);\r\n                }\r\n            });\r\n        \r\n            firstFrame.add(button);\r\n            firstFrame.setVisible(true);\r\n            firstFrame.setSize(400, 200);\r\n            firstFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Open JFrame from JDialog and it shows on top of JDialog","body":"<p>This is the scenario,\nMy <code>JFrame</code> has a button  it will open a <code>JDialog</code> when click it and it is a model dialog.\n<code>JDialog</code> has another button and i want to open another <code>JFrmae</code> open when click it.</p>\n\n<p>Result : another <code>Jframe</code> open but it will not come to the top.It shows under the dialog.I want to open the 2nd <code>JFrame</code> on top of that dialog.</p>\n\n<p>can use <code>secondFrame.setAlwaysOnTop(true);</code> but i don't have control to close it or move it.</p>\n\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JButton;\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\npublic class FrameTest\n{\n    public static void main(String args[])\n    {\n        JFrame firstFrame = new JFrame(\"My 1st Frame\");\n        JButton button = new JButton(\"Frame Click\");\n\n        button.addActionListener(new ActionListener()\n        {\n\n            @Override\n            public void actionPerformed(ActionEvent e)\n            {\n                JDialog dialog = new JDialog();\n                dialog.setSize(100, 100);\n                dialog.setModal(true);\n                JButton button1 = new JButton(\"Dialog Click\");\n\n                button1.addActionListener(new ActionListener()\n                {\n                    @Override\n                    public void actionPerformed(ActionEvent e)\n                    {\n                        JFrame secondFrame = new JFrame(\"My 2nd Frame\");\n                        secondFrame.setVisible(true);\n                        secondFrame.setSize(400, 200);\n                        secondFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                        secondFrame.setAlwaysOnTop(true);\n                     }\n                });\n\n                dialog.add(button1);\n                dialog.setVisible(true);\n            }\n        });\n\n        firstFrame.add(button);\n        firstFrame.setVisible(true);\n        firstFrame.setSize(400, 200);\n        firstFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n}\n</code></pre>\n"},{"tags":["java","jakarta-ee","ant","jaxb","osgi"],"comments":[{"owner":{"account_id":7809940,"reputation":73,"user_id":5906459,"display_name":"Clark W"},"score":0,"creation_date":1666280810,"post_id":71942062,"comment_id":130904514,"body_markdown":"Did you figure out a solution to this?","body":"Did you figure out a solution to this?"},{"owner":{"account_id":21192751,"reputation":329,"user_id":15584917,"display_name":"1288Meow"},"score":0,"creation_date":1666492119,"post_id":71942062,"comment_id":130949137,"body_markdown":"Because the project was composed of several projects, I found that I needed to build one of the projects separately first.","body":"Because the project was composed of several projects, I found that I needed to build one of the projects separately first."}],"owner":{"account_id":21192751,"reputation":329,"user_id":15584917,"display_name":"1288Meow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4695,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":0,"score":8,"last_activity_date":1650467366,"creation_date":1650467366,"question_id":71942062,"body_markdown":"I am migrating an Ant OSGI Java project from Java 8 to 11. \r\n\r\nI have added the following jars: \r\n\r\n     jakarta.xml.bind-api;bundle-version=&quot;4.0.0&quot;,\r\n     com.sun.xml.bind.jaxb-impl;bundle-version=&quot;4.0.0&quot;,\r\n     jakarta.activation-api;bundle-version=&quot;2.1.0&quot;,\r\n     com.sun.xml.bind.jaxb-osgi;bundle-version=&quot;4.0.0&quot;,\r\n     org.glassfish.hk2.osgi-resource-locator;bundle-version=&quot;2.5.0&quot;\r\n\r\nHowever at BuildFile I am still getting the `error: package jakarta.xml.bind.annotation does not exist` \r\n\r\n","title":"Error: package jakarta.xml.bind.annotation does not exist (Java 11)","body":"<p>I am migrating an Ant OSGI Java project from Java 8 to 11.</p>\n<p>I have added the following jars:</p>\n<pre><code> jakarta.xml.bind-api;bundle-version=&quot;4.0.0&quot;,\n com.sun.xml.bind.jaxb-impl;bundle-version=&quot;4.0.0&quot;,\n jakarta.activation-api;bundle-version=&quot;2.1.0&quot;,\n com.sun.xml.bind.jaxb-osgi;bundle-version=&quot;4.0.0&quot;,\n org.glassfish.hk2.osgi-resource-locator;bundle-version=&quot;2.5.0&quot;\n</code></pre>\n<p>However at BuildFile I am still getting the <code>error: package jakarta.xml.bind.annotation does not exist</code></p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":6,"creation_date":1650457504,"post_id":71939584,"comment_id":127119889,"body_markdown":"Rule of thumb: If there is no performance issue, don&#39;t bother with it.","body":"Rule of thumb: If there is no performance issue, don&#39;t bother with it."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1650457618,"post_id":71939584,"comment_id":127119935,"body_markdown":"Can you think of a way to re-arrange the list so that identifying duplicates becomes trivial?","body":"Can you think of a way to re-arrange the list so that identifying duplicates becomes trivial?"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1650457735,"post_id":71939584,"comment_id":127119982,"body_markdown":"@maio290: True, but not relevant to the actual question asked.","body":"@maio290: True, but not relevant to the actual question asked."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1650457856,"post_id":71939584,"comment_id":127120044,"body_markdown":"Second rule of thumb: buy and read a good textbook on data structures and algorithms.  Pay special attention to the chapters that explain performance and complexity ... and the difference between them.  Third rule of thumb: tattoo the Donald Knuth quotation about &quot;premature optimization&quot; on the back of your hand.","body":"Second rule of thumb: buy and read a good textbook on data structures and algorithms.  Pay special attention to the chapters that explain performance and complexity ... and the difference between them.  Third rule of thumb: tattoo the Donald Knuth quotation about &quot;premature optimization&quot; on the back of your hand."},{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":1,"creation_date":1650458615,"post_id":71939584,"comment_id":127120412,"body_markdown":"@ScottHunter I know, but you have to keep in mind that many (especially new) developers strife for things which in the end don&#39;t make any difference at all. Instead of focusing on performance, I&#39;d rather see people focusing on writing clean(er) code and using the language&#39;s features and data structures. In his case, the use of a `Set` would be much cleaner - also the whole `isEmpty` variable and so on. There&#39;s a lot more to improve other than performance.","body":"@ScottHunter I know, but you have to keep in mind that many (especially new) developers strife for things which in the end don&#39;t make any difference at all. Instead of focusing on performance, I&#39;d rather see people focusing on writing clean(er) code and using the language&#39;s features and data structures. In his case, the use of a <code>Set</code> would be much cleaner - also the whole <code>isEmpty</code> variable and so on. There&#39;s a lot more to improve other than performance."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1650458230,"creation_date":1650458230,"answer_id":71939768,"question_id":71939584,"body_markdown":"There are, in broad strokes, 2 completely unrelated performance improvements you can make:\r\n\r\n* Reduce algorithmic complexity. This is a highly mathematical concept.\r\n* Reduce actual performance characteristics - literally, just make it run faster and/or use less memory (often, &#39;use less memory&#39; and &#39;goes faster&#39; go hand in hand).\r\n\r\nThe first is easy enough, but can be misleading: You can write an algorithm that does the same job in an algorithmically less complex way which nevertheless actually runs slower.\r\n\r\nThe second is also tricky: Your eyeballs and brain __cannot do the job__. The engineers that write the JVM itself are on record as stating that in general they have no idea how fast any given code actually runs. That&#39;s because the JVM is __way too complicated__: It has so many complicated avenues for optimizing how fast stuff runs (not just complicated in the code that powers such things, also complicated in how they work. For example, hotspot kicks in _eventually_, and uses the characteristics of previous runs to determine how best to rewrite a given method into finely tuned machine code, and the hardware you run it on also matters rather a lot).\r\n\r\nThis leads to the following easy conclusions:\r\n\r\n* Don&#39;t do anything unless there is an _actual_ performance issue.\r\n* You really want a profiler report that actually indicates which code is &#39;relevant&#39;. Generally, for any given java app, literally 1% of all of your lines of code is responsible for 99% of the load. There is just no point at all optimizing anything, except that 1%. A profiler report is useful in finding the 1% that requires the attention. Java ships with a profiler and there are commercial offerings as well.\r\n* If you want to micro-benchmark (time a specific slice of code against specific inputs), that&#39;s really difficult too, with many pitfalls. There&#39;s really only one way to do it right: Use the [Java Microbenchmark Harness](https://www.baeldung.com/java-microbenchmark-harness).\r\n* Whilst you can decide to focus on algorithmic complexity, you may still want a profiler report or JMH run because algorithmic complexity is all about &#39;Eventually, i.e. with large enough inputs, the algorithmic complexity overcomes any other performance aspect&#39;. The trick is: Are your inputs large enough to hit that &#39;eventually&#39; space?\r\n\r\nFor this specific algorithm, given that I have no idea what reasonable inputs might be, you&#39;re going to have to do the work on setting up JMH and or profiler runs. However, as far as algorithmic complexity goes:\r\n\r\nThat `doubles.contains` call has O(N) algorithmic complexity: The amount of time that call takes is linear relative to how large your inputs are.\r\n\r\nYou can get O(1) algorithmic complexity if you use a HashSet instead.\r\n\r\nFrom the point of view of just plain performance, generally an ArrayList&lt;Integer&gt;&#39;s performance and memory load vs. an `int[]` is _quite large_.\r\n\r\nThis gives 2 alternate obvious strategies to optimize this code:\r\n\r\n* Replace the `ArrayList&lt;Integer&gt;` with an `int[]`.\r\n* Replace the `ArrayList&lt;integer&gt;` with a `HashSet&lt;Integer&gt;` instead.\r\n\r\nYou can&#39;t really combine these two, not without spending a heck of a long time handrolling a primitive int array backed hashbucket implementation. Fortunately, someone did the work for you: Eclipse Collections has a [primitive int hashset implementation](https://www.eclipse.org/collections/javadoc/11.0.0/org/eclipse/collections/impl/set/mutable/primitive/IntHashSet.html).\r\n\r\nTheoretically it&#39;s hard to imagine how replacing this with IntHashSet can be _slower_. However, I can&#39;t go on record and promise you that it&#39;ll be any faster: I can imagine if your input is an int array with a few million ints in there, IntHashSet is probably going to be many orders of magnitude faster. But you really need test data and a profiler report and/or a JMH run or we&#39;re all just guessing, which is a bad idea, given that the JVM is such a complex beast.\r\n\r\nSo, if you&#39;re serious about optimizing this:\r\n\r\n* Write a bunch of test cases.\r\n* Write a wrapper around this code so you can run those tests in a JMH setup.\r\n* Replace the code with IntHashSet and compare that vs. the above in your JMH harness.\r\n* If that really improves things and the performance now fits your needs, great. You&#39;re done.\r\n* If not, you may have to re-evaluate where and how you use this code, or if there&#39;s anything else you can do to optimize things.\r\n","title":"How to optimize a function in Java to make it faster?","body":"<p>There are, in broad strokes, 2 completely unrelated performance improvements you can make:</p>\n<ul>\n<li>Reduce algorithmic complexity. This is a highly mathematical concept.</li>\n<li>Reduce actual performance characteristics - literally, just make it run faster and/or use less memory (often, 'use less memory' and 'goes faster' go hand in hand).</li>\n</ul>\n<p>The first is easy enough, but can be misleading: You can write an algorithm that does the same job in an algorithmically less complex way which nevertheless actually runs slower.</p>\n<p>The second is also tricky: Your eyeballs and brain <strong>cannot do the job</strong>. The engineers that write the JVM itself are on record as stating that in general they have no idea how fast any given code actually runs. That's because the JVM is <strong>way too complicated</strong>: It has so many complicated avenues for optimizing how fast stuff runs (not just complicated in the code that powers such things, also complicated in how they work. For example, hotspot kicks in <em>eventually</em>, and uses the characteristics of previous runs to determine how best to rewrite a given method into finely tuned machine code, and the hardware you run it on also matters rather a lot).</p>\n<p>This leads to the following easy conclusions:</p>\n<ul>\n<li>Don't do anything unless there is an <em>actual</em> performance issue.</li>\n<li>You really want a profiler report that actually indicates which code is 'relevant'. Generally, for any given java app, literally 1% of all of your lines of code is responsible for 99% of the load. There is just no point at all optimizing anything, except that 1%. A profiler report is useful in finding the 1% that requires the attention. Java ships with a profiler and there are commercial offerings as well.</li>\n<li>If you want to micro-benchmark (time a specific slice of code against specific inputs), that's really difficult too, with many pitfalls. There's really only one way to do it right: Use the <a href=\"https://www.baeldung.com/java-microbenchmark-harness\" rel=\"noreferrer\">Java Microbenchmark Harness</a>.</li>\n<li>Whilst you can decide to focus on algorithmic complexity, you may still want a profiler report or JMH run because algorithmic complexity is all about 'Eventually, i.e. with large enough inputs, the algorithmic complexity overcomes any other performance aspect'. The trick is: Are your inputs large enough to hit that 'eventually' space?</li>\n</ul>\n<p>For this specific algorithm, given that I have no idea what reasonable inputs might be, you're going to have to do the work on setting up JMH and or profiler runs. However, as far as algorithmic complexity goes:</p>\n<p>That <code>doubles.contains</code> call has O(N) algorithmic complexity: The amount of time that call takes is linear relative to how large your inputs are.</p>\n<p>You can get O(1) algorithmic complexity if you use a HashSet instead.</p>\n<p>From the point of view of just plain performance, generally an ArrayList's performance and memory load vs. an <code>int[]</code> is <em>quite large</em>.</p>\n<p>This gives 2 alternate obvious strategies to optimize this code:</p>\n<ul>\n<li>Replace the <code>ArrayList&lt;Integer&gt;</code> with an <code>int[]</code>.</li>\n<li>Replace the <code>ArrayList&lt;integer&gt;</code> with a <code>HashSet&lt;Integer&gt;</code> instead.</li>\n</ul>\n<p>You can't really combine these two, not without spending a heck of a long time handrolling a primitive int array backed hashbucket implementation. Fortunately, someone did the work for you: Eclipse Collections has a <a href=\"https://www.eclipse.org/collections/javadoc/11.0.0/org/eclipse/collections/impl/set/mutable/primitive/IntHashSet.html\" rel=\"noreferrer\">primitive int hashset implementation</a>.</p>\n<p>Theoretically it's hard to imagine how replacing this with IntHashSet can be <em>slower</em>. However, I can't go on record and promise you that it'll be any faster: I can imagine if your input is an int array with a few million ints in there, IntHashSet is probably going to be many orders of magnitude faster. But you really need test data and a profiler report and/or a JMH run or we're all just guessing, which is a bad idea, given that the JVM is such a complex beast.</p>\n<p>So, if you're serious about optimizing this:</p>\n<ul>\n<li>Write a bunch of test cases.</li>\n<li>Write a wrapper around this code so you can run those tests in a JMH setup.</li>\n<li>Replace the code with IntHashSet and compare that vs. the above in your JMH harness.</li>\n<li>If that really improves things and the performance now fits your needs, great. You're done.</li>\n<li>If not, you may have to re-evaluate where and how you use this code, or if there's anything else you can do to optimize things.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650467355,"creation_date":1650466250,"answer_id":71941786,"question_id":71939584,"body_markdown":"&gt;It works, but there is probably a way to make it faster.\r\n\r\nI think you will find this approach significantly faster.  I omitted the sort from both methods just to check.  This does not discuss general optimizations as [rzwitserloot&#39;s](https://stackoverflow.com/a/71939768/1552534) excellent answer already does that.\r\n\r\nThe two main problems with your method are:\r\n- you are using a nested loop which is essentially is an `O(N*N)` problem.\r\n- and you use contains on a list which must do a linear search each time to find the value.\r\n\r\nA better way is to use a `HashSet` which works very close to `O(1)` lookup time (relatively speaking and depending on the set threshold values).\r\n\r\nThe idea is as follows.\r\n- Create two sets, one for the result and one for what&#39;s been seen.\r\n- iterate over the array\r\n    - try to `add` the value to the `seen` set, if it returns `true`, that means a duplicate is **not** in the `seen` set so it is ignored.\r\n    - if it returns `false`, a duplicate **does exist** in the `seen` set so it is added to the `duplicate set`.\r\n    - Note the use of the bang `!` to invert the above conditions.\r\n- once the loop is finished, return the duplicates in a list as required.\r\n```\r\npublic static List&lt;Integer&gt; duplicatesSet(int[] arr) {\r\n\tSet&lt;Integer&gt; seen = new HashSet&lt;&gt;();\r\n    Set&lt;Integer&gt; duplicates = new HashSet&lt;&gt;();\r\n\tfor (int v : arr) {\r\n\t\tif (!seen.add(v)) {\r\n\t\t\tduplicates.add(v);\r\n\t\t}\r\n\t}\r\n\treturn duplicates.isEmpty() \r\n            ? new ArrayList&lt;&gt;(List.of(-1))\r\n            : new ArrayList&lt;&gt;(duplicates);\r\n\t\t\r\n}\r\n```\r\nThe sort is easily added back in.  That will take additional computing time but that was not the real problem.\r\n\r\nTo test this I generated a list of random values and put them in an array.  The following generates an array of 1,000,000 ints between 1 and 1000 inclusive.\r\n```\r\nRandom r = new Random();\r\nint[] val = r.ints(1_000_000, 1, 1001).toArray();\r\n```","title":"How to optimize a function in Java to make it faster?","body":"<blockquote>\n<p>It works, but there is probably a way to make it faster.</p>\n</blockquote>\n<p>I think you will find this approach significantly faster.  I omitted the sort from both methods just to check.  This does not discuss general optimizations as <a href=\"https://stackoverflow.com/a/71939768/1552534\">rzwitserloot's</a> excellent answer already does that.</p>\n<p>The two main problems with your method are:</p>\n<ul>\n<li>you are using a nested loop which is essentially is an <code>O(N*N)</code> problem.</li>\n<li>and you use contains on a list which must do a linear search each time to find the value.</li>\n</ul>\n<p>A better way is to use a <code>HashSet</code> which works very close to <code>O(1)</code> lookup time (relatively speaking and depending on the set threshold values).</p>\n<p>The idea is as follows.</p>\n<ul>\n<li>Create two sets, one for the result and one for what's been seen.</li>\n<li>iterate over the array\n<ul>\n<li>try to <code>add</code> the value to the <code>seen</code> set, if it returns <code>true</code>, that means a duplicate is <strong>not</strong> in the <code>seen</code> set so it is ignored.</li>\n<li>if it returns <code>false</code>, a duplicate <strong>does exist</strong> in the <code>seen</code> set so it is added to the <code>duplicate set</code>.</li>\n<li>Note the use of the bang <code>!</code> to invert the above conditions.</li>\n</ul>\n</li>\n<li>once the loop is finished, return the duplicates in a list as required.</li>\n</ul>\n<pre><code>public static List&lt;Integer&gt; duplicatesSet(int[] arr) {\n    Set&lt;Integer&gt; seen = new HashSet&lt;&gt;();\n    Set&lt;Integer&gt; duplicates = new HashSet&lt;&gt;();\n    for (int v : arr) {\n        if (!seen.add(v)) {\n            duplicates.add(v);\n        }\n    }\n    return duplicates.isEmpty() \n            ? new ArrayList&lt;&gt;(List.of(-1))\n            : new ArrayList&lt;&gt;(duplicates);\n        \n}\n</code></pre>\n<p>The sort is easily added back in.  That will take additional computing time but that was not the real problem.</p>\n<p>To test this I generated a list of random values and put them in an array.  The following generates an array of 1,000,000 ints between 1 and 1000 inclusive.</p>\n<pre><code>Random r = new Random();\nint[] val = r.ints(1_000_000, 1, 1001).toArray();\n</code></pre>\n"}],"owner":{"account_id":24976247,"reputation":79,"user_id":18838855,"display_name":"marcel fiedler"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650467355,"creation_date":1650457408,"question_id":71939584,"body_markdown":"```\r\npublic static ArrayList&lt;Integer&gt; duplicates(int[] arr) {\r\n    ArrayList&lt;Integer&gt; doubles = new ArrayList&lt;Integer&gt;();\r\n    boolean isEmpty = true;\r\n    for(int i = 0; i&lt;arr.length; i++) {\r\n        for (int j = i+1; j&lt; arr.length; j++) {\r\n            if( arr[i] == arr[j] &amp;&amp; !doubles.contains(arr[i]) ){\r\n                doubles.add(arr[i]);\r\n                isEmpty = false;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    if(isEmpty) doubles.add(-1);\r\n    Collections.sort(doubles);\r\n    return doubles;\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    System.out.println( ( duplicates( new int[]{1,2,3,4,4,4}  ) ) ); // Return: [4]\r\n}\r\n```\r\nI made this function in Java which returns multiples of an input int array or returns a -1 if the  input array is empty or when there are no multiples.\r\n\r\nIt works, but there is probably a way to make it faster.\r\nAre there any good practices to make functions more efficient and faster in general?\r\n\r\n\r\n","title":"How to optimize a function in Java to make it faster?","body":"<pre><code>public static ArrayList&lt;Integer&gt; duplicates(int[] arr) {\n    ArrayList&lt;Integer&gt; doubles = new ArrayList&lt;Integer&gt;();\n    boolean isEmpty = true;\n    for(int i = 0; i&lt;arr.length; i++) {\n        for (int j = i+1; j&lt; arr.length; j++) {\n            if( arr[i] == arr[j] &amp;&amp; !doubles.contains(arr[i]) ){\n                doubles.add(arr[i]);\n                isEmpty = false;\n                break;\n            }\n        }\n    }\n    if(isEmpty) doubles.add(-1);\n    Collections.sort(doubles);\n    return doubles;\n}\n\npublic static void main(String[] args) {\n    System.out.println( ( duplicates( new int[]{1,2,3,4,4,4}  ) ) ); // Return: [4]\n}\n</code></pre>\n<p>I made this function in Java which returns multiples of an input int array or returns a -1 if the  input array is empty or when there are no multiples.</p>\n<p>It works, but there is probably a way to make it faster.\nAre there any good practices to make functions more efficient and faster in general?</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1650452850,"post_id":17820844,"comment_id":127118234,"body_markdown":"You neither need any `java.sql.Date` nor any particular format for storing a date into a database.  Parse into a `LocalDate` using `LocalDate.parse(&quot;16/07/13&quot;, DateTimeFormatter.ofPattern(&quot;dd/MM/yy&quot;))` and see this question for how to store: [Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2](https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2)","body":"You neither need any <code>java.sql.Date</code> nor any particular format for storing a date into a database.  Parse into a <code>LocalDate</code> using <code>LocalDate.parse(&quot;16&#47;07&#47;13&quot;, DateTimeFormatter.ofPattern(&quot;dd&#47;MM&#47;yy&quot;))</code> and see this question for how to store: <a href=\"https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2\">Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2</a>"}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1650467314,"creation_date":1374612896,"answer_id":17820882,"question_id":17820844,"body_markdown":"Use a `SimpleDateFormat`:\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yy&quot;);\r\n    String stringWithDate = &quot;16/07/13&quot;;\r\n    Date theDate = sdf.parse(stringWithDate);\r\n    //store theDate variable in your database...\r\n\r\nNote that `SimpleDateFormat#parse` throws `ParseException`.\r\n\r\nUPDATE: Using Java 8 and `LocalDate`\r\n\r\n    LocalDate localDate = LocalDate.from(\r\n        DateTimeFormatter.ofPattern(&quot;dd/MM/yy&quot;)\r\n            .parse(fecha));\r\n\r\nIf you need to pass this to `java.sql` time objects, you can see this answer on [How to get a java.time object from a java.sql.Timestamp without a JDBC 4.2 driver?](https://stackoverflow.com/a/22470650/1065197)\r\n","title":"Converting String date to SQL Date","body":"<p>Use a <code>SimpleDateFormat</code>:</p>\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yy&quot;);\nString stringWithDate = &quot;16/07/13&quot;;\nDate theDate = sdf.parse(stringWithDate);\n//store theDate variable in your database...\n</code></pre>\n<p>Note that <code>SimpleDateFormat#parse</code> throws <code>ParseException</code>.</p>\n<p>UPDATE: Using Java 8 and <code>LocalDate</code></p>\n<pre><code>LocalDate localDate = LocalDate.from(\n    DateTimeFormatter.ofPattern(&quot;dd/MM/yy&quot;)\n        .parse(fecha));\n</code></pre>\n<p>If you need to pass this to <code>java.sql</code> time objects, you can see this answer on <a href=\"https://stackoverflow.com/a/22470650/1065197\">How to get a java.time object from a java.sql.Timestamp without a JDBC 4.2 driver?</a></p>\n"},{"tags":[],"owner":{"account_id":24138015,"reputation":35,"user_id":18104628,"display_name":"JamesM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650445726,"creation_date":1650445726,"answer_id":71936998,"question_id":17820844,"body_markdown":"I don&#39;t know Java and I&#39;m not super familiar with Oracle, but this may help.\r\n\r\nIn MS SQL Server I&#39;ve seen all kinds of bad stuff happen when people try to post stuff using specific date formats. Windows date settings can vary so problems are almost guaranteed. From that point of view your \r\n\r\n&gt; (maintaining the same DD/MM/YY format)\r\n\r\n rings alarm bells\r\n\r\nI&#39;m yet to have issues as I usually fall back on handling dates in a &quot;standardised&quot; way. \r\n\r\n                &#39;yyyymmdd&#39;  \r\n    select CAST(&#39;19900506&#39; AS DATETIME)\r\n\r\nis very predictable, so if you want predictable you need the oracle equivalent\r\n\r\nit also works for date + time \r\n\r\n                &#39;yyyymmdd hh:mi:ss.mmm&#39;  \r\n    select CAST(&#39;19900506 01:01:01.000&#39; AS DATETIME)\r\n\r\nOracle/PLSQL will have similar functions that work in an controllable way. Use these functions to save values correctly then your data can be reliably output in whatever format you specify at the time of retrieval\r\n\r\n\r\n","title":"Converting String date to SQL Date","body":"<p>I don't know Java and I'm not super familiar with Oracle, but this may help.</p>\n<p>In MS SQL Server I've seen all kinds of bad stuff happen when people try to post stuff using specific date formats. Windows date settings can vary so problems are almost guaranteed. From that point of view your</p>\n<blockquote>\n<p>(maintaining the same DD/MM/YY format)</p>\n</blockquote>\n<p>rings alarm bells</p>\n<p>I'm yet to have issues as I usually fall back on handling dates in a &quot;standardised&quot; way.</p>\n<pre><code>            'yyyymmdd'  \nselect CAST('19900506' AS DATETIME)\n</code></pre>\n<p>is very predictable, so if you want predictable you need the oracle equivalent</p>\n<p>it also works for date + time</p>\n<pre><code>            'yyyymmdd hh:mi:ss.mmm'  \nselect CAST('19900506 01:01:01.000' AS DATETIME)\n</code></pre>\n<p>Oracle/PLSQL will have similar functions that work in an controllable way. Use these functions to save values correctly then your data can be reliably output in whatever format you specify at the time of retrieval</p>\n"}],"owner":{"account_id":3001438,"reputation":113,"user_id":2546870,"accept_rate":75,"display_name":"Code Zero"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":17820882,"answer_count":2,"score":0,"last_activity_date":1650467314,"creation_date":1374612786,"question_id":17820844,"body_markdown":"I have a string date in the format DD/MM/YY (16/07/13)  \r\nHow do I convert this string date to SQL Date format (maintaining the same DD/MM/YY format)   \r\nfor storing in my Oracle DB.. ??","title":"Converting String date to SQL Date","body":"<p>I have a string date in the format DD/MM/YY (16/07/13)<br>\nHow do I convert this string date to SQL Date format (maintaining the same DD/MM/YY format)<br>\nfor storing in my Oracle DB.. ??</p>\n"},{"tags":["java","random","biginteger"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1300303442,"creation_date":1266509522,"answer_id":2290080,"question_id":2290057,"body_markdown":"The simplest approach (by quite a long way) would be to use the specified constructor to generate a random number with the right number of bits (`floor(log2 n) + 1`), and then throw it away if it&#39;s greater than n. In the worst possible case (e.g. a number in the range [0, 2&lt;sup&gt;n&lt;/sup&gt; + 1) you&#39;ll throw away just under half the values you create, on average.","title":"How to generate a random BigInteger value in Java?","body":"<p>The simplest approach (by quite a long way) would be to use the specified constructor to generate a random number with the right number of bits (<code>floor(log2 n) + 1</code>), and then throw it away if it's greater than n. In the worst possible case (e.g. a number in the range [0, 2<sup>n</sup> + 1) you'll throw away just under half the values you create, on average.</p>\n"},{"tags":[],"owner":{"account_id":92852,"reputation":73276,"user_id":254279,"display_name":"Thomas Pornin"},"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1545232993,"creation_date":1266509613,"answer_id":2290089,"question_id":2290057,"body_markdown":"Use a loop:\r\n\r\n    BigInteger randomNumber;\r\n    do {\r\n        randomNumber = new BigInteger(upperLimit.bitLength(), randomSource);\r\n    } while (randomNumber.compareTo(upperLimit) &gt;= 0);\r\n\r\non average, this will require less than two iterations, and the selection will be uniform.\r\n\r\n**Edit:** If your RNG is expensive, you can limit the number of iterations the following way:\r\n\r\n    int nlen = upperLimit.bitLength();\r\n    BigInteger nm1 = upperLimit.subtract(BigInteger.ONE);\r\n    BigInteger randomNumber, temp;\r\n    do {\r\n        temp = new BigInteger(nlen + 100, randomSource);\r\n        randomNumber = temp.mod(upperLimit);\r\n    } while (s.subtract(randomNumber).add(nm1).bitLength() &gt;= nlen + 100);\r\n    // result is in &#39;randomNumber&#39;\r\n\r\nWith this version, it is highly improbable that the loop is taken more than once (less than one chance in *2^100*, i.e. much less than the probability that the host machine spontaneously catches fire in the next following second). On the other hand, the `mod()` operation is computationally expensive, so this version is probably slower than the previous, unless the `randomSource` instance is exceptionally slow.\r\n","title":"How to generate a random BigInteger value in Java?","body":"<p>Use a loop:</p>\n\n<pre><code>BigInteger randomNumber;\ndo {\n    randomNumber = new BigInteger(upperLimit.bitLength(), randomSource);\n} while (randomNumber.compareTo(upperLimit) &gt;= 0);\n</code></pre>\n\n<p>on average, this will require less than two iterations, and the selection will be uniform.</p>\n\n<p><strong>Edit:</strong> If your RNG is expensive, you can limit the number of iterations the following way:</p>\n\n<pre><code>int nlen = upperLimit.bitLength();\nBigInteger nm1 = upperLimit.subtract(BigInteger.ONE);\nBigInteger randomNumber, temp;\ndo {\n    temp = new BigInteger(nlen + 100, randomSource);\n    randomNumber = temp.mod(upperLimit);\n} while (s.subtract(randomNumber).add(nm1).bitLength() &gt;= nlen + 100);\n// result is in 'randomNumber'\n</code></pre>\n\n<p>With this version, it is highly improbable that the loop is taken more than once (less than one chance in <em>2^100</em>, i.e. much less than the probability that the host machine spontaneously catches fire in the next following second). On the other hand, the <code>mod()</code> operation is computationally expensive, so this version is probably slower than the previous, unless the <code>randomSource</code> instance is exceptionally slow.</p>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1266601566,"creation_date":1266509643,"answer_id":2290095,"question_id":2290057,"body_markdown":"The following method uses the `BigInteger(int numBits, Random rnd)` constructor and rejects the result if it&#39;s bigger than the specified n.\r\n\r\n    public BigInteger nextRandomBigInteger(BigInteger n) {\r\n        Random rand = new Random();\r\n        BigInteger result = new BigInteger(n.bitLength(), rand);\r\n        while( result.compareTo(n) &gt;= 0 ) {\r\n            result = new BigInteger(n.bitLength(), rand);\r\n        }\r\n        return result;\r\n    }\r\n\r\nThe drawback to this is that the constructor is called an unspecified number of times, but in the worst case (n is just slightly greater than a power of 2) the expected number of calls to the constructor should be only about 2 times.","title":"How to generate a random BigInteger value in Java?","body":"<p>The following method uses the <code>BigInteger(int numBits, Random rnd)</code> constructor and rejects the result if it's bigger than the specified n.</p>\n\n<pre><code>public BigInteger nextRandomBigInteger(BigInteger n) {\n    Random rand = new Random();\n    BigInteger result = new BigInteger(n.bitLength(), rand);\n    while( result.compareTo(n) &gt;= 0 ) {\n        result = new BigInteger(n.bitLength(), rand);\n    }\n    return result;\n}\n</code></pre>\n\n<p>The drawback to this is that the constructor is called an unspecified number of times, but in the worst case (n is just slightly greater than a power of 2) the expected number of calls to the constructor should be only about 2 times.</p>\n"},{"tags":[],"owner":{"account_id":8620,"reputation":22142,"user_id":15619,"accept_rate":91,"display_name":"Riduidel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1266510668,"creation_date":1266510668,"answer_id":2290230,"question_id":2290057,"body_markdown":"Why not constructing a random BigInteger, then building a BigDecimal from it ?\r\nThere is a constructor in BigDecimal : &lt;code&gt;public BigDecimal(BigInteger unscaledVal, int scale)&lt;/code&gt; that seems relevant here, no ? Give it a random BigInteger and a random scale int, and you&#39;ll have a random BigDecimal. No ?","title":"How to generate a random BigInteger value in Java?","body":"<p>Why not constructing a random BigInteger, then building a BigDecimal from it ?\nThere is a constructor in BigDecimal : <code>public BigDecimal(BigInteger unscaledVal, int scale)</code> that seems relevant here, no ? Give it a random BigInteger and a random scale int, and you'll have a random BigDecimal. No ?</p>\n"},{"tags":[],"owner":{"account_id":607258,"reputation":1,"user_id":324688,"display_name":"Chris Nash"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1479056867,"creation_date":1272067053,"answer_id":2702630,"question_id":2290057,"body_markdown":"Compile this F# code into a DLL and you can also reference it in your C# / VB.NET programs\r\n\r\n&lt;!-- language: lang-fs --&gt;\r\n\r\n    type BigIntegerRandom() =\r\n        static let internalRandom = new Random()\r\n                    \r\n        /// Returns a BigInteger random number of the specified number of bytes.\r\n        static member RandomBigInteger(numBytes:int, rand:Random) =\r\n            let r = if rand=null then internalRandom else rand\r\n            let bytes : byte[] = Array.zeroCreate (numBytes+1)\r\n            r.NextBytes(bytes)\r\n            bytes.[numBytes] &lt;- 0uy\r\n            bigint bytes\r\n            \r\n        /// Returns a BigInteger random number from 0 (inclusive) to max (exclusive).\r\n        static member RandomBigInteger(max:bigint, rand:Random) =\r\n            let rec getNumBytesInRange num bytes = if max &lt; num then bytes else getNumBytesInRange (num * 256I) bytes+1\r\n            let bytesNeeded = getNumBytesInRange 256I 1\r\n            BigIntegerRandom.RandomBigInteger(bytesNeeded, rand) % max\r\n    \r\n        /// Returns a BigInteger random number from min (inclusive) to max (exclusive).\r\n        static member RandomBigInteger(min:bigint, max:bigint, rand:Random) =\r\n            BigIntegerRandom.RandomBigInteger(max - min, rand) + min","title":"How to generate a random BigInteger value in Java?","body":"<p>Compile this F# code into a DLL and you can also reference it in your C# / VB.NET programs</p>\n\n<pre class=\"lang-fs prettyprint-override\"><code>type BigIntegerRandom() =\n    static let internalRandom = new Random()\n\n    /// Returns a BigInteger random number of the specified number of bytes.\n    static member RandomBigInteger(numBytes:int, rand:Random) =\n        let r = if rand=null then internalRandom else rand\n        let bytes : byte[] = Array.zeroCreate (numBytes+1)\n        r.NextBytes(bytes)\n        bytes.[numBytes] &lt;- 0uy\n        bigint bytes\n\n    /// Returns a BigInteger random number from 0 (inclusive) to max (exclusive).\n    static member RandomBigInteger(max:bigint, rand:Random) =\n        let rec getNumBytesInRange num bytes = if max &lt; num then bytes else getNumBytesInRange (num * 256I) bytes+1\n        let bytesNeeded = getNumBytesInRange 256I 1\n        BigIntegerRandom.RandomBigInteger(bytesNeeded, rand) % max\n\n    /// Returns a BigInteger random number from min (inclusive) to max (exclusive).\n    static member RandomBigInteger(min:bigint, max:bigint, rand:Random) =\n        BigIntegerRandom.RandomBigInteger(max - min, rand) + min\n</code></pre>\n"},{"tags":[],"owner":{"account_id":682650,"reputation":51,"user_id":535158,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1297940758,"creation_date":1297939847,"answer_id":5027948,"question_id":2290057,"body_markdown":"Here is how I do it in a class called Generic_BigInteger available via:\r\n[Andy Turner&#39;s Generic Source Code Web Page][1]\r\n    \r\n    /**\r\n     * There are methods to get large random numbers. Indeed, there is a\r\n     * constructor for BigDecimal that allows for this, but only for uniform\r\n     * distributions over a binary power range.\r\n     * @param a_Random\r\n     * @param upperLimit\r\n     * @return a random integer as a BigInteger between 0 and upperLimit\r\n     * inclusive\r\n     */\r\n    public static BigInteger getRandom(\r\n            Generic_Number a_Generic_Number,\r\n            BigInteger upperLimit) {\r\n        // Special cases\r\n        if (upperLimit.compareTo(BigInteger.ZERO) == 0) {\r\n            return BigInteger.ZERO;\r\n        }\r\n        String upperLimit_String = upperLimit.toString();\r\n        int upperLimitStringLength = upperLimit_String.length();\r\n        Random[] random = a_Generic_Number.get_RandomArrayMinLength(\r\n            upperLimitStringLength);\r\n        if (upperLimit.compareTo(BigInteger.ONE) == 0) {\r\n            if (random[0].nextBoolean()) {\r\n                return BigInteger.ONE;\r\n            } else {\r\n                return BigInteger.ZERO;\r\n            }\r\n        }\r\n        int startIndex = 0;\r\n        int endIndex = 1;\r\n        String result_String = &quot;&quot;;\r\n        int digit;\r\n        int upperLimitDigit;\r\n        int i;\r\n        // Take care not to assign any digit that will result in a number larger\r\n        // upperLimit\r\n        for (i = 0; i &lt; upperLimitStringLength; i ++){\r\n            upperLimitDigit = new Integer(\r\n                    upperLimit_String.substring(startIndex,endIndex));\r\n            startIndex ++;\r\n            endIndex ++;\r\n            digit = random[i].nextInt(upperLimitDigit + 1);\r\n            if (digit != upperLimitDigit){\r\n                break;\r\n            }\r\n            result_String += digit;\r\n        }\r\n        // Once something smaller than upperLimit guaranteed, assign any digit\r\n        // between zero and nine inclusive\r\n        for (i = i + 1; i &lt; upperLimitStringLength; i ++) {\r\n            digit = random[i].nextInt(10);\r\n            result_String += digit;\r\n        }\r\n        // Tidy values starting with zero(s)\r\n        while (result_String.startsWith(&quot;0&quot;)) {\r\n            if (result_String.length() &gt; 1) {\r\n                result_String = result_String.substring(1);\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n        BigInteger result = new BigInteger(result_String);\r\n        return result;\r\n    }\r\n\r\n\r\n  [1]: http://www.geog.leeds.ac.uk/people/a.turner/src/andyt/java/generic/","title":"How to generate a random BigInteger value in Java?","body":"<p>Here is how I do it in a class called Generic_BigInteger available via:\n<a href=\"http://www.geog.leeds.ac.uk/people/a.turner/src/andyt/java/generic/\" rel=\"nofollow\">Andy Turner's Generic Source Code Web Page</a></p>\n\n<pre><code>/**\n * There are methods to get large random numbers. Indeed, there is a\n * constructor for BigDecimal that allows for this, but only for uniform\n * distributions over a binary power range.\n * @param a_Random\n * @param upperLimit\n * @return a random integer as a BigInteger between 0 and upperLimit\n * inclusive\n */\npublic static BigInteger getRandom(\n        Generic_Number a_Generic_Number,\n        BigInteger upperLimit) {\n    // Special cases\n    if (upperLimit.compareTo(BigInteger.ZERO) == 0) {\n        return BigInteger.ZERO;\n    }\n    String upperLimit_String = upperLimit.toString();\n    int upperLimitStringLength = upperLimit_String.length();\n    Random[] random = a_Generic_Number.get_RandomArrayMinLength(\n        upperLimitStringLength);\n    if (upperLimit.compareTo(BigInteger.ONE) == 0) {\n        if (random[0].nextBoolean()) {\n            return BigInteger.ONE;\n        } else {\n            return BigInteger.ZERO;\n        }\n    }\n    int startIndex = 0;\n    int endIndex = 1;\n    String result_String = \"\";\n    int digit;\n    int upperLimitDigit;\n    int i;\n    // Take care not to assign any digit that will result in a number larger\n    // upperLimit\n    for (i = 0; i &lt; upperLimitStringLength; i ++){\n        upperLimitDigit = new Integer(\n                upperLimit_String.substring(startIndex,endIndex));\n        startIndex ++;\n        endIndex ++;\n        digit = random[i].nextInt(upperLimitDigit + 1);\n        if (digit != upperLimitDigit){\n            break;\n        }\n        result_String += digit;\n    }\n    // Once something smaller than upperLimit guaranteed, assign any digit\n    // between zero and nine inclusive\n    for (i = i + 1; i &lt; upperLimitStringLength; i ++) {\n        digit = random[i].nextInt(10);\n        result_String += digit;\n    }\n    // Tidy values starting with zero(s)\n    while (result_String.startsWith(\"0\")) {\n        if (result_String.length() &gt; 1) {\n            result_String = result_String.substring(1);\n        } else {\n            break;\n        }\n    }\n    BigInteger result = new BigInteger(result_String);\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1868220,"reputation":277,"user_id":1691211,"display_name":"lpsun"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1509373931,"creation_date":1509373931,"answer_id":47017816,"question_id":2290057,"body_markdown":"Just use modular reduction\r\n\r\n    new BigInteger(n.bitLength(), new SecureRandom()).mod(n)","title":"How to generate a random BigInteger value in Java?","body":"<p>Just use modular reduction</p>\n\n<pre><code>new BigInteger(n.bitLength(), new SecureRandom()).mod(n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23845626,"reputation":56,"user_id":17850148,"display_name":"Panibo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641472865,"creation_date":1641472865,"answer_id":70607245,"question_id":2290057,"body_markdown":"For those who are still asking this question and are looking for a way to generate arbitrarily large random **BigIntegers** within a positive integer range, this is what I came up with. This random generator works without trying bunch of numbers until one fits the range. Instead it will generate a random number directly that will fit the given range.\r\n\r\n    private static BigInteger RandomBigInteger(BigInteger rangeStart, BigInteger rangeEnd){\r\n        \r\n        Random rand = new Random();\r\n        int scale = rangeEnd.toString().length();\r\n        String generated = &quot;&quot;;\r\n        for(int i = 0; i &lt; rangeEnd.toString().length(); i++){\r\n            generated += rand.nextInt(10);\r\n        }\r\n        BigDecimal inputRangeStart = new BigDecimal(&quot;0&quot;).setScale(scale, RoundingMode.FLOOR);\r\n        BigDecimal inputRangeEnd = new BigDecimal(String.format(&quot;%0&quot; + (rangeEnd.toString().length()) +  &quot;d&quot;, 0).replace(&#39;0&#39;, &#39;9&#39;)).setScale(scale, RoundingMode.FLOOR);\r\n        BigDecimal outputRangeStart = new BigDecimal(rangeStart).setScale(scale, RoundingMode.FLOOR);\r\n        BigDecimal outputRangeEnd = new BigDecimal(rangeEnd).add(new BigDecimal(&quot;1&quot;)).setScale(scale, RoundingMode.FLOOR); //Adds one to the output range to correct rounding\r\n        \r\n        //Calculates: (generated - inputRangeStart) / (inputRangeEnd - inputRangeStart) * (outputRangeEnd - outputRangeStart) + outputRangeStart \r\n        BigDecimal bd1 = new BigDecimal(new BigInteger(generated)).setScale(scale, RoundingMode.FLOOR).subtract(inputRangeStart);\r\n        BigDecimal bd2 = inputRangeEnd.subtract(inputRangeStart);\r\n        BigDecimal bd3 = bd1.divide(bd2, RoundingMode.FLOOR);\r\n        BigDecimal bd4 = outputRangeEnd.subtract(outputRangeStart);  \r\n        BigDecimal bd5 = bd3.multiply(bd4);      \r\n        BigDecimal bd6 = bd5.add(outputRangeStart);\r\n        \r\n        BigInteger returnInteger = bd6.setScale(0, RoundingMode.FLOOR).toBigInteger();\r\n        returnInteger = (returnInteger.compareTo(rangeEnd) &gt; 0 ? rangeEnd : returnInteger); //Converts number to the end of output range if it&#39;s over it. This is to correct rounding.\r\n        return returnInteger;\r\n    }   \r\n\r\nHow does it  work? \r\n\r\nFirst it generates a **String** with random numbers with the same length as the maximum range. For example: with given range of 10-1000 it will generate some number between 0000 and 9999 as a **String**.\r\n\r\nThen it creates **BigDecimals** to represent the maximum possible value (9999 in previous example) and minimum value (0) and converts the range parameter **BigIntegers** to **BigDecimals**. Also in this step to the given range maximum value is added 1 in order to correct rounding errors in the next step.\r\n\r\nThen using this formula the generated random number is mapped to the given range:\r\n\r\n`(generated - inputRangeStart) / (inputRangeEnd - inputRangeStart) * (outputRangeEnd - outputRangeStart) + outputRangeStart `\r\n\r\nAfter that it will do a last check whether or not the mapped number fits the given range and sets it to the given range maximum if it doesn&#39;t. This is done in order to correct rounding errors.","title":"How to generate a random BigInteger value in Java?","body":"<p>For those who are still asking this question and are looking for a way to generate arbitrarily large random <strong>BigIntegers</strong> within a positive integer range, this is what I came up with. This random generator works without trying bunch of numbers until one fits the range. Instead it will generate a random number directly that will fit the given range.</p>\n<pre><code>private static BigInteger RandomBigInteger(BigInteger rangeStart, BigInteger rangeEnd){\n    \n    Random rand = new Random();\n    int scale = rangeEnd.toString().length();\n    String generated = &quot;&quot;;\n    for(int i = 0; i &lt; rangeEnd.toString().length(); i++){\n        generated += rand.nextInt(10);\n    }\n    BigDecimal inputRangeStart = new BigDecimal(&quot;0&quot;).setScale(scale, RoundingMode.FLOOR);\n    BigDecimal inputRangeEnd = new BigDecimal(String.format(&quot;%0&quot; + (rangeEnd.toString().length()) +  &quot;d&quot;, 0).replace('0', '9')).setScale(scale, RoundingMode.FLOOR);\n    BigDecimal outputRangeStart = new BigDecimal(rangeStart).setScale(scale, RoundingMode.FLOOR);\n    BigDecimal outputRangeEnd = new BigDecimal(rangeEnd).add(new BigDecimal(&quot;1&quot;)).setScale(scale, RoundingMode.FLOOR); //Adds one to the output range to correct rounding\n    \n    //Calculates: (generated - inputRangeStart) / (inputRangeEnd - inputRangeStart) * (outputRangeEnd - outputRangeStart) + outputRangeStart \n    BigDecimal bd1 = new BigDecimal(new BigInteger(generated)).setScale(scale, RoundingMode.FLOOR).subtract(inputRangeStart);\n    BigDecimal bd2 = inputRangeEnd.subtract(inputRangeStart);\n    BigDecimal bd3 = bd1.divide(bd2, RoundingMode.FLOOR);\n    BigDecimal bd4 = outputRangeEnd.subtract(outputRangeStart);  \n    BigDecimal bd5 = bd3.multiply(bd4);      \n    BigDecimal bd6 = bd5.add(outputRangeStart);\n    \n    BigInteger returnInteger = bd6.setScale(0, RoundingMode.FLOOR).toBigInteger();\n    returnInteger = (returnInteger.compareTo(rangeEnd) &gt; 0 ? rangeEnd : returnInteger); //Converts number to the end of output range if it's over it. This is to correct rounding.\n    return returnInteger;\n}   \n</code></pre>\n<p>How does it  work?</p>\n<p>First it generates a <strong>String</strong> with random numbers with the same length as the maximum range. For example: with given range of 10-1000 it will generate some number between 0000 and 9999 as a <strong>String</strong>.</p>\n<p>Then it creates <strong>BigDecimals</strong> to represent the maximum possible value (9999 in previous example) and minimum value (0) and converts the range parameter <strong>BigIntegers</strong> to <strong>BigDecimals</strong>. Also in this step to the given range maximum value is added 1 in order to correct rounding errors in the next step.</p>\n<p>Then using this formula the generated random number is mapped to the given range:</p>\n<p><code>(generated - inputRangeStart) / (inputRangeEnd - inputRangeStart) * (outputRangeEnd - outputRangeStart) + outputRangeStart </code></p>\n<p>After that it will do a last check whether or not the mapped number fits the given range and sets it to the given range maximum if it doesn't. This is done in order to correct rounding errors.</p>\n"}],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80597,"favorite_count":0,"down_vote_count":1,"up_vote_count":71,"accepted_answer_id":2290089,"answer_count":8,"score":70,"last_activity_date":1650467094,"creation_date":1266509328,"question_id":2290057,"body_markdown":"I need to generate arbitrarily large random integers in the range 0 (inclusive) to n (exclusive).  My initial thought was to call [`nextDouble`][1] and multiply by n, but once n gets to be larger than 2&lt;sup&gt;53&lt;/sup&gt;, the results would no longer be uniformly distributed.\r\n\r\n[`BigInteger`][2] has the following constructor available:\r\n\r\n    public BigInteger(int numBits, Random rnd)\r\n\r\n&gt; Constructs a randomly generated BigInteger, uniformly distributed over the range 0 to (2&lt;sup&gt;numBits&lt;/sup&gt; - 1), inclusive.\r\n\r\nHow can this  be used to get a random value in the range 0 - n, where n is not a power of 2?\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Random.html#nextDouble%28%29\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigInteger.html#BigInteger%28int,%20java.util.Random%29","title":"How to generate a random BigInteger value in Java?","body":"<p>I need to generate arbitrarily large random integers in the range 0 (inclusive) to n (exclusive).  My initial thought was to call <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Random.html#nextDouble%28%29\" rel=\"noreferrer\"><code>nextDouble</code></a> and multiply by n, but once n gets to be larger than 2<sup>53</sup>, the results would no longer be uniformly distributed.</p>\n\n<p><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigInteger.html#BigInteger%28int,%20java.util.Random%29\" rel=\"noreferrer\"><code>BigInteger</code></a> has the following constructor available:</p>\n\n<pre><code>public BigInteger(int numBits, Random rnd)\n</code></pre>\n\n<blockquote>\n  <p>Constructs a randomly generated BigInteger, uniformly distributed over the range 0 to (2<sup>numBits</sup> - 1), inclusive.</p>\n</blockquote>\n\n<p>How can this  be used to get a random value in the range 0 - n, where n is not a power of 2?</p>\n"},{"tags":["java","macos","codesign"],"comments":[{"owner":{"account_id":908335,"reputation":5155,"user_id":942774,"accept_rate":100,"display_name":"Hendrik"},"score":0,"creation_date":1650466687,"post_id":71860657,"comment_id":127124227,"body_markdown":"Starting with v3.4.11, the packaged dylibs in JaplScript are already signed.","body":"Starting with v3.4.11, the packaged dylibs in JaplScript are already signed."}],"answers":[{"tags":[],"owner":{"account_id":908335,"reputation":5155,"user_id":942774,"accept_rate":100,"display_name":"Hendrik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650466790,"creation_date":1649880626,"answer_id":71863336,"question_id":71860657,"body_markdown":"To sign [casamplesp](https://www.tagtraum.com/casampledsp/) libraries, I do the following:\r\n\r\n```bash\r\n# sign dylibs in jars\r\nunzip -j jar_dir/casampledsp-complete* &#39;*.dylib&#39;\r\ncodesign -vvv -f --sign &quot;Developer ID Application: Whatever Your Name Is&quot; *.dylib\r\njar -uvf jar_dir/casampledsp-complete*  casampledsp*\r\nrm casampledsp*\r\n```\r\n\r\nI.e. I extract the `*.dylib` files, sign them, and stick them back in the using the jar flags `-uvf`.\r\n\r\nTo make this work for your app, just replace `jar_dir` with the directory name of your macOS app jars.\r\n\r\n**Added 4/20/2022:**\r\n\r\nStarting with v3.4.11, the packaged native libs in JaplScript are already signed, so this should not be necessary anymore.","title":"How do I modify my Java appbundler build to sign 3rd party library","body":"<p>To sign <a href=\"https://www.tagtraum.com/casampledsp/\" rel=\"nofollow noreferrer\">casamplesp</a> libraries, I do the following:</p>\n<pre class=\"lang-sh prettyprint-override\"><code># sign dylibs in jars\nunzip -j jar_dir/casampledsp-complete* '*.dylib'\ncodesign -vvv -f --sign &quot;Developer ID Application: Whatever Your Name Is&quot; *.dylib\njar -uvf jar_dir/casampledsp-complete*  casampledsp*\nrm casampledsp*\n</code></pre>\n<p>I.e. I extract the <code>*.dylib</code> files, sign them, and stick them back in the using the jar flags <code>-uvf</code>.</p>\n<p>To make this work for your app, just replace <code>jar_dir</code> with the directory name of your macOS app jars.</p>\n<p><strong>Added 4/20/2022:</strong></p>\n<p>Starting with v3.4.11, the packaged native libs in JaplScript are already signed, so this should not be necessary anymore.</p>\n"},{"tags":[],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649922571,"creation_date":1649921859,"answer_id":71868036,"question_id":71860657,"body_markdown":"Okay so the key thing is files cannot signed when within a jar file, but the notarization step will find them and cause notarization failure if not signed, so they have to be signed out side of jar and then put back in.\r\n \r\nBased on Hendriks answer I extended the signing part of my build to \r\n\r\n    unzip -j /Applications/SongKong.app/Contents/Java/japlscript-executor-3.4.10.jar -d /Applications/SongKong.app/Contents/Java/EXTRACT\r\n    export CODESIGN_ALLOCATE=&quot;/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/codesign_allocate&quot;\r\n    /usr/bin/codesign --timestamp --options runtime \\\r\n    --sign &quot;Developer ID Application: P Taylor&quot; \\\r\n    --force --verbose /Applications/SongKong.app/Contents/Java/EXTRACT/*.dylib\r\n    cd /Applications/SongKong.app/Contents/Java/EXTRACT\r\n    jar -uvf /Applications/SongKong.app/Contents/Java/japlscript-executor-3.4.10.jar *.dylib\r\n    rm -fr /Applications/SongKong.app/Contents/Java/EXTRACT\r\n    cd $HOME/code/jthink/songkong\r\n    /usr/bin/codesign --timestamp --options runtime \\\r\n    --entitlements $HOME/code/jthink/songkong/songkong.entitlements \\\r\n    --sign &quot;Developer ID Application: P Taylor&quot; \\\r\n    --force --deep --verbose /Applications/SongKong.app\r\n    /usr/bin/codesign -vvv --deep --strict /Applications/SongKong.app\r\n    /usr/bin/codesign -d --deep --strict /Applications/SongKong.app\r\n    spctl -a -t exec -vv /Applications/SongKong.app\r\n    cd $HOME/code/jthink/SongKong\r\n    /usr/local/bin/dmgcanvas $HOME/code/jthink/SongKong/dmgCanvas_songkong.dmgCanvas $HOME/songkong-osx.dmg -v SongKong -identity &quot;Developer ID Application: P Taylor&quot; -notarizationAppleID paultaylor@jthink.net -notarizationPassword xxxxxxxxxxxxxxxxxxxxx -notarizationPrimaryBundleID songkong\r\n\r\n","title":"How do I modify my Java appbundler build to sign 3rd party library","body":"<p>Okay so the key thing is files cannot signed when within a jar file, but the notarization step will find them and cause notarization failure if not signed, so they have to be signed out side of jar and then put back in.</p>\n<p>Based on Hendriks answer I extended the signing part of my build to</p>\n<pre><code>unzip -j /Applications/SongKong.app/Contents/Java/japlscript-executor-3.4.10.jar -d /Applications/SongKong.app/Contents/Java/EXTRACT\nexport CODESIGN_ALLOCATE=&quot;/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/codesign_allocate&quot;\n/usr/bin/codesign --timestamp --options runtime \\\n--sign &quot;Developer ID Application: P Taylor&quot; \\\n--force --verbose /Applications/SongKong.app/Contents/Java/EXTRACT/*.dylib\ncd /Applications/SongKong.app/Contents/Java/EXTRACT\njar -uvf /Applications/SongKong.app/Contents/Java/japlscript-executor-3.4.10.jar *.dylib\nrm -fr /Applications/SongKong.app/Contents/Java/EXTRACT\ncd $HOME/code/jthink/songkong\n/usr/bin/codesign --timestamp --options runtime \\\n--entitlements $HOME/code/jthink/songkong/songkong.entitlements \\\n--sign &quot;Developer ID Application: P Taylor&quot; \\\n--force --deep --verbose /Applications/SongKong.app\n/usr/bin/codesign -vvv --deep --strict /Applications/SongKong.app\n/usr/bin/codesign -d --deep --strict /Applications/SongKong.app\nspctl -a -t exec -vv /Applications/SongKong.app\ncd $HOME/code/jthink/SongKong\n/usr/local/bin/dmgcanvas $HOME/code/jthink/SongKong/dmgCanvas_songkong.dmgCanvas $HOME/songkong-osx.dmg -v SongKong -identity &quot;Developer ID Application: P Taylor&quot; -notarizationAppleID paultaylor@jthink.net -notarizationPassword xxxxxxxxxxxxxxxxxxxxx -notarizationPrimaryBundleID songkong\n</code></pre>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71863336,"answer_count":2,"score":1,"last_activity_date":1650466790,"creation_date":1649866275,"question_id":71860657,"body_markdown":"I have added a new dependency to my Java application that includes two dynamic libs (intel/arm64 versions) and now my application is failing notarisation because \r\n\r\n&gt; songkong-osx.dmg/SongKong.app/Contents/Java/japlscript-executor-3.4.10.jar/japlscript-aarch64-3.4.10.dylib\r\n\r\nin this example I am building on an M1 Mac.\r\n\r\n    {\r\n    \r\n        &quot;logFormatVersion&quot;: 1,\r\n        &quot;jobId&quot;: &quot;f90d1f17-d51c-4b13-95d5-3629126aa3b8&quot;,\r\n        &quot;status&quot;: &quot;Invalid&quot;,\r\n        &quot;statusSummary&quot;: &quot;Archive contains critical validation errors&quot;,\r\n        &quot;statusCode&quot;: 4000,\r\n        &quot;archiveFilename&quot;: &quot;songkong-osx.dmg&quot;,\r\n        &quot;uploadDate&quot;: &quot;2022-04-13T15:16:01Z&quot;,\r\n        &quot;sha256&quot;: &quot;44742c010d90183f2129c675a81377f89a6321a17eaee54ecb45fa638132686c&quot;,\r\n        &quot;ticketContents&quot;: null,\r\n        &quot;issues&quot;: [\r\n            {\r\n                &quot;severity&quot;: &quot;error&quot;,\r\n                &quot;code&quot;: null,\r\n                &quot;path&quot;: &quot;songkong-osx.dmg/SongKong.app/Contents/Java/japlscript-executor-3.4.10.jar/japlscript-x86_64-3.4.10.dylib&quot;,\r\n                &quot;message&quot;: &quot;The binary is not signed.&quot;,\r\n                &quot;docUrl&quot;: null,\r\n                &quot;architecture&quot;: &quot;x86_64&quot;\r\n            },\r\n            {\r\n                &quot;severity&quot;: &quot;error&quot;,\r\n                &quot;code&quot;: null,\r\n                &quot;path&quot;: &quot;songkong-osx.dmg/SongKong.app/Contents/Java/japlscript-executor-3.4.10.jar/japlscript-x86_64-3.4.10.dylib&quot;,\r\n                &quot;message&quot;: &quot;The signature does not include a secure timestamp.&quot;,\r\n                &quot;docUrl&quot;: null,\r\n                &quot;architecture&quot;: &quot;x86_64&quot;\r\n            },\r\n            {\r\n                &quot;severity&quot;: &quot;error&quot;,\r\n                &quot;code&quot;: null,\r\n                &quot;path&quot;: &quot;songkong-osx.dmg/SongKong.app/Contents/Java/japlscript-executor-3.4.10.jar/japlscript-aarch64-3.4.10.dylib&quot;,\r\n                &quot;message&quot;: &quot;The binary is not signed with a valid Developer ID certificate.&quot;,\r\n                &quot;docUrl&quot;: null,\r\n                &quot;architecture&quot;: &quot;arm64&quot;\r\n            },\r\n            {\r\n                &quot;severity&quot;: &quot;error&quot;,\r\n                &quot;code&quot;: null,\r\n                &quot;path&quot;: &quot;songkong-osx.dmg/SongKong.app/Contents/Java/japlscript-executor-3.4.10.jar/japlscript-aarch64-3.4.10.dylib&quot;,\r\n                &quot;message&quot;: &quot;The signature does not include a secure timestamp.&quot;,\r\n                &quot;docUrl&quot;: null,\r\n                &quot;architecture&quot;: &quot;arm64&quot;\r\n            }\r\n        ]\r\n    \r\n    }\r\n\r\nI have the credentials and build system to notarise my own application but I don&#39;t know how this fits in with signing the third party dynamic lib\r\n\r\nThis is the signing part of my build\r\n\r\n    export CODESIGN_ALLOCATE=&quot;/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/codesign_allocate&quot;\r\n    /usr/bin/codesign --timestamp --options runtime \\\r\n    --entitlements $HOME/code/jthink/songkong/songkong.entitlements \\\r\n    --sign &quot;Developer ID Application: P Taylor&quot; \\\r\n    --force --deep --verbose /Applications/SongKong.app\r\n    /usr/bin/codesign -vvv --deep --strict /Applications/SongKong.app\r\n    spctl -a -t exec -vv /Applications/SongKong.app\r\n    cd $HOME/code/jthink/SongKong\r\n    /usr/local/bin/dmgcanvas $HOME/code/jthink/SongKong/dmgCanvas_songkong.dmgCanvas $HOME/songkong-osx.dmg -v SongKong \r\n\r\nHow do I modify to additionally sign this dynamic library ?\r\n\r\n**Edit**\r\nIt seems that even though I am using `--deep` it not going deep enough ?\r\n\r\n    /usr/bin/codesign --timestamp --options runtime \\\r\n    --entitlements $HOME/code/jthink/songkong/songkong.entitlements \\\r\n    --sign &quot;Developer ID Application: P Taylor&quot; \\\r\n    --force --deep --verbose /Applications/SongKong.app\r\n\r\nand so although the verification appears ok\r\n\r\n    /usr/bin/codesign -vvv --deep --strict /Applications/SongKong.app\r\n    spctl -a -t exec -vv /Applications/SongKong.app\r\n\r\nWhen it is actually sent to Apple for **notarization** (via the dmgCanvas app) it then detects these libraries and fails the notarization step.\r\n\r\nSo how do I make codesign go deeper ?\r\n\r\n**Edit 2**\r\n\r\nI read https://developer.apple.com/forums/thread/128166 and https://developer.apple.com/forums/thread/129980\r\n\r\nand it seems that --deep doesnt always work so I added a codesign of the jar that seemed to work \r\n\r\n    /usr/bin/codesign --timestamp --options runtime \\\r\n    --entitlements $HOME/code/jthink/songkong/songkong.entitlements \\\r\n    --sign &quot;Developer ID Application: P Taylor&quot; \\\r\n    --force --verbose /Applications/SongKong.app/Contents/Java/japlscript-executor-3.4.10.jar\r\n\r\nbut notarization continued to fail\r\n\r\nOne other thing I notice is there seems to be another codesign done of the dmg rather than the app just before the notarization (my DmgCanvas) could that be issue\r\n\r\nWhat do I need to notarize the app or the dmg or both ?","title":"How do I modify my Java appbundler build to sign 3rd party library","body":"<p>I have added a new dependency to my Java application that includes two dynamic libs (intel/arm64 versions) and now my application is failing notarisation because</p>\n<blockquote>\n<p>songkong-osx.dmg/SongKong.app/Contents/Java/japlscript-executor-3.4.10.jar/japlscript-aarch64-3.4.10.dylib</p>\n</blockquote>\n<p>in this example I am building on an M1 Mac.</p>\n<pre><code>{\n\n    &quot;logFormatVersion&quot;: 1,\n    &quot;jobId&quot;: &quot;f90d1f17-d51c-4b13-95d5-3629126aa3b8&quot;,\n    &quot;status&quot;: &quot;Invalid&quot;,\n    &quot;statusSummary&quot;: &quot;Archive contains critical validation errors&quot;,\n    &quot;statusCode&quot;: 4000,\n    &quot;archiveFilename&quot;: &quot;songkong-osx.dmg&quot;,\n    &quot;uploadDate&quot;: &quot;2022-04-13T15:16:01Z&quot;,\n    &quot;sha256&quot;: &quot;44742c010d90183f2129c675a81377f89a6321a17eaee54ecb45fa638132686c&quot;,\n    &quot;ticketContents&quot;: null,\n    &quot;issues&quot;: [\n        {\n            &quot;severity&quot;: &quot;error&quot;,\n            &quot;code&quot;: null,\n            &quot;path&quot;: &quot;songkong-osx.dmg/SongKong.app/Contents/Java/japlscript-executor-3.4.10.jar/japlscript-x86_64-3.4.10.dylib&quot;,\n            &quot;message&quot;: &quot;The binary is not signed.&quot;,\n            &quot;docUrl&quot;: null,\n            &quot;architecture&quot;: &quot;x86_64&quot;\n        },\n        {\n            &quot;severity&quot;: &quot;error&quot;,\n            &quot;code&quot;: null,\n            &quot;path&quot;: &quot;songkong-osx.dmg/SongKong.app/Contents/Java/japlscript-executor-3.4.10.jar/japlscript-x86_64-3.4.10.dylib&quot;,\n            &quot;message&quot;: &quot;The signature does not include a secure timestamp.&quot;,\n            &quot;docUrl&quot;: null,\n            &quot;architecture&quot;: &quot;x86_64&quot;\n        },\n        {\n            &quot;severity&quot;: &quot;error&quot;,\n            &quot;code&quot;: null,\n            &quot;path&quot;: &quot;songkong-osx.dmg/SongKong.app/Contents/Java/japlscript-executor-3.4.10.jar/japlscript-aarch64-3.4.10.dylib&quot;,\n            &quot;message&quot;: &quot;The binary is not signed with a valid Developer ID certificate.&quot;,\n            &quot;docUrl&quot;: null,\n            &quot;architecture&quot;: &quot;arm64&quot;\n        },\n        {\n            &quot;severity&quot;: &quot;error&quot;,\n            &quot;code&quot;: null,\n            &quot;path&quot;: &quot;songkong-osx.dmg/SongKong.app/Contents/Java/japlscript-executor-3.4.10.jar/japlscript-aarch64-3.4.10.dylib&quot;,\n            &quot;message&quot;: &quot;The signature does not include a secure timestamp.&quot;,\n            &quot;docUrl&quot;: null,\n            &quot;architecture&quot;: &quot;arm64&quot;\n        }\n    ]\n\n}\n</code></pre>\n<p>I have the credentials and build system to notarise my own application but I don't know how this fits in with signing the third party dynamic lib</p>\n<p>This is the signing part of my build</p>\n<pre><code>export CODESIGN_ALLOCATE=&quot;/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/codesign_allocate&quot;\n/usr/bin/codesign --timestamp --options runtime \\\n--entitlements $HOME/code/jthink/songkong/songkong.entitlements \\\n--sign &quot;Developer ID Application: P Taylor&quot; \\\n--force --deep --verbose /Applications/SongKong.app\n/usr/bin/codesign -vvv --deep --strict /Applications/SongKong.app\nspctl -a -t exec -vv /Applications/SongKong.app\ncd $HOME/code/jthink/SongKong\n/usr/local/bin/dmgcanvas $HOME/code/jthink/SongKong/dmgCanvas_songkong.dmgCanvas $HOME/songkong-osx.dmg -v SongKong \n</code></pre>\n<p>How do I modify to additionally sign this dynamic library ?</p>\n<p><strong>Edit</strong>\nIt seems that even though I am using <code>--deep</code> it not going deep enough ?</p>\n<pre><code>/usr/bin/codesign --timestamp --options runtime \\\n--entitlements $HOME/code/jthink/songkong/songkong.entitlements \\\n--sign &quot;Developer ID Application: P Taylor&quot; \\\n--force --deep --verbose /Applications/SongKong.app\n</code></pre>\n<p>and so although the verification appears ok</p>\n<pre><code>/usr/bin/codesign -vvv --deep --strict /Applications/SongKong.app\nspctl -a -t exec -vv /Applications/SongKong.app\n</code></pre>\n<p>When it is actually sent to Apple for <strong>notarization</strong> (via the dmgCanvas app) it then detects these libraries and fails the notarization step.</p>\n<p>So how do I make codesign go deeper ?</p>\n<p><strong>Edit 2</strong></p>\n<p>I read <a href=\"https://developer.apple.com/forums/thread/128166\" rel=\"nofollow noreferrer\">https://developer.apple.com/forums/thread/128166</a> and <a href=\"https://developer.apple.com/forums/thread/129980\" rel=\"nofollow noreferrer\">https://developer.apple.com/forums/thread/129980</a></p>\n<p>and it seems that --deep doesnt always work so I added a codesign of the jar that seemed to work</p>\n<pre><code>/usr/bin/codesign --timestamp --options runtime \\\n--entitlements $HOME/code/jthink/songkong/songkong.entitlements \\\n--sign &quot;Developer ID Application: P Taylor&quot; \\\n--force --verbose /Applications/SongKong.app/Contents/Java/japlscript-executor-3.4.10.jar\n</code></pre>\n<p>but notarization continued to fail</p>\n<p>One other thing I notice is there seems to be another codesign done of the dmg rather than the app just before the notarization (my DmgCanvas) could that be issue</p>\n<p>What do I need to notarize the app or the dmg or both ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19382678,"reputation":774,"user_id":14173556,"display_name":"paladin"},"score":0,"creation_date":1650463541,"post_id":71940966,"comment_id":127122739,"body_markdown":"If you want to be able to save information about a Class to a file, to store it or to transport it over network and you don&#39;t care about readability, read about the [Interface Serializable](https://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html).","body":"If you want to be able to save information about a Class to a file, to store it or to transport it over network and you don&#39;t care about readability, read about the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html\" rel=\"nofollow noreferrer\">Interface Serializable</a>."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1650464678,"post_id":71940966,"comment_id":127123300,"body_markdown":"Are the Recipes always separeted by blank lines? What java version are you using?","body":"Are the Recipes always separeted by blank lines? What java version are you using?"},{"owner":{"account_id":12452919,"reputation":417,"user_id":9067048,"accept_rate":40,"display_name":"Burton"},"score":0,"creation_date":1650464785,"post_id":71940966,"comment_id":127123365,"body_markdown":"yes, until the end of file. I am using java 11","body":"yes, until the end of file. I am using java 11"}],"answers":[{"tags":[],"owner":{"account_id":9642226,"reputation":1060,"user_id":7156098,"display_name":"alegria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650465146,"creation_date":1650465146,"answer_id":71941513,"question_id":71940966,"body_markdown":"Assuming you wish to keep the file format as is, first thing I would tackle would be making the file read process memory friendly. So instead of reading the entire file into memory then processing it, I would read it line by line as a stream then process it along the way.\r\n\r\nGiven the structure of your file, the point you create a new object is at &quot;every empty line&quot;, so keep that in mind.\r\n\r\nNext, your code should be elegant as much as it is efficient, so you would understand what&#39;s going on in there without troubling yourself.\r\n\r\nLastly, be it Scanner or some third party library, what you use to read files depends on your use case and codebase. For a pet project without too much dependency I would go with Scanner, if that is going to grow into a more mature project, I might consider using Apache Commons IO.\r\n\r\nTo summarize what I have in mind here&#39;s a snippet: \r\n\r\n    List&lt;Recipe&gt; myRecipes = new ArrayList&lt;&gt;();\r\n    RecipeBuilder recipeBuilder = new RecipeBuilder();\r\n    InputStream inputStream = new FileInputStream(&quot;textfile.txt&quot;);\r\n    Scanner sc = new Scanner(inputStream, &quot;UTF-8&quot;);\r\n    \r\n\r\n    while (sc.hasNextLine()) {\r\n      \r\n      String nextLine = sc.nextLine();\r\n      \r\n      if(nextLine.isEmpty) {\r\n         myRecipes.add(recipeBuilder.build());\r\n         recipeBuilder.reset();\r\n       \r\n       } else {\r\n         recipeBuilder.addLine(nextLine);\r\n       }         \r\n    }\r\n\r\n\r\nHere I added a `RecipeBuilder` class that maintains a String list internally. \r\n\r\n`void addLine(String line)` method adds lines to the current list until one recipe is fully read from the file.\r\n\r\n`Recipe build()` handles the parsing stage after every line for a recipe inserted into the builder. For a simple file as this one, you can safely assume that the first element of the list is the Recipe.name, second is Recipe.cookingTime, and the rest are ingredients. After building the object it returns a new instance for you to append to your Recipe list you defined outside of the loop.\r\n\r\n`void reset()` method simply empties the internal list for a new recipe to be read and build as you continue to read the file.\r\n\r\nThis is of course my point of view, hope that helps you to better your solution.\r\n\r\nAlso, I excluded the error handling and edge cases just for the sake of brevity, you must never skip error handling, and consider unexpected scenarios in your code.","title":"Creating objects from input in textfile","body":"<p>Assuming you wish to keep the file format as is, first thing I would tackle would be making the file read process memory friendly. So instead of reading the entire file into memory then processing it, I would read it line by line as a stream then process it along the way.</p>\n<p>Given the structure of your file, the point you create a new object is at &quot;every empty line&quot;, so keep that in mind.</p>\n<p>Next, your code should be elegant as much as it is efficient, so you would understand what's going on in there without troubling yourself.</p>\n<p>Lastly, be it Scanner or some third party library, what you use to read files depends on your use case and codebase. For a pet project without too much dependency I would go with Scanner, if that is going to grow into a more mature project, I might consider using Apache Commons IO.</p>\n<p>To summarize what I have in mind here's a snippet:</p>\n<pre><code>List&lt;Recipe&gt; myRecipes = new ArrayList&lt;&gt;();\nRecipeBuilder recipeBuilder = new RecipeBuilder();\nInputStream inputStream = new FileInputStream(&quot;textfile.txt&quot;);\nScanner sc = new Scanner(inputStream, &quot;UTF-8&quot;);\n\n\nwhile (sc.hasNextLine()) {\n  \n  String nextLine = sc.nextLine();\n  \n  if(nextLine.isEmpty) {\n     myRecipes.add(recipeBuilder.build());\n     recipeBuilder.reset();\n   \n   } else {\n     recipeBuilder.addLine(nextLine);\n   }         \n}\n</code></pre>\n<p>Here I added a <code>RecipeBuilder</code> class that maintains a String list internally.</p>\n<p><code>void addLine(String line)</code> method adds lines to the current list until one recipe is fully read from the file.</p>\n<p><code>Recipe build()</code> handles the parsing stage after every line for a recipe inserted into the builder. For a simple file as this one, you can safely assume that the first element of the list is the Recipe.name, second is Recipe.cookingTime, and the rest are ingredients. After building the object it returns a new instance for you to append to your Recipe list you defined outside of the loop.</p>\n<p><code>void reset()</code> method simply empties the internal list for a new recipe to be read and build as you continue to read the file.</p>\n<p>This is of course my point of view, hope that helps you to better your solution.</p>\n<p>Also, I excluded the error handling and edge cases just for the sake of brevity, you must never skip error handling, and consider unexpected scenarios in your code.</p>\n"}],"owner":{"account_id":12452919,"reputation":417,"user_id":9067048,"accept_rate":40,"display_name":"Burton"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71941513,"answer_count":1,"score":0,"last_activity_date":1650466525,"creation_date":1650462795,"question_id":71940966,"body_markdown":"I am freshening up my java skills by trying out some excercises that I found on mooc.fi. But I have got to a task that I don&#39;t really know how to solve in the most efficient way.\r\n\r\nI have created a Recipe class:\r\n```\r\npublic class Recipe {\r\n    private String name;\r\n    private int cookingTime;\r\n    private ArrayList&lt;String&gt; ingredients;\r\n\r\n    public Recipe(String name, int cookingTime, ArrayList&lt;String&gt; ingredients) {\r\n        this.ingredients = ingredients;\r\n        this.name = name;\r\n        this.cookingTime = cookingTime;\r\n    }\r\n}\r\n```\r\n\r\nAnd I have a textfile that looks like this:\r\n```\r\nPancake dough\r\n60\r\nmilk\r\negg\r\nflour\r\nsugar\r\nsalt\r\nbutter\r\n\r\nMeatballs\r\n20\r\nground meat\r\negg\r\nbreadcrumbs\r\n...\r\n```\r\n\r\nI started with an scanner to read the file, but that did not feel right. I have then used different methods to parse the file into a String that I was thinking I could split on &quot; &quot; into multiple arrays and also got stuck.\r\nMy latest attempt was to parse the file as a list and loop through it while keeping track of the index but it still feels like I am making it harder than it should be.\r\n\r\nCan anyone give me any tips of how to solve this problem ?\r\n","title":"Creating objects from input in textfile","body":"<p>I am freshening up my java skills by trying out some excercises that I found on mooc.fi. But I have got to a task that I don't really know how to solve in the most efficient way.</p>\n<p>I have created a Recipe class:</p>\n<pre><code>public class Recipe {\n    private String name;\n    private int cookingTime;\n    private ArrayList&lt;String&gt; ingredients;\n\n    public Recipe(String name, int cookingTime, ArrayList&lt;String&gt; ingredients) {\n        this.ingredients = ingredients;\n        this.name = name;\n        this.cookingTime = cookingTime;\n    }\n}\n</code></pre>\n<p>And I have a textfile that looks like this:</p>\n<pre><code>Pancake dough\n60\nmilk\negg\nflour\nsugar\nsalt\nbutter\n\nMeatballs\n20\nground meat\negg\nbreadcrumbs\n...\n</code></pre>\n<p>I started with an scanner to read the file, but that did not feel right. I have then used different methods to parse the file into a String that I was thinking I could split on &quot; &quot; into multiple arrays and also got stuck.\nMy latest attempt was to parse the file as a list and loop through it while keeping track of the index but it still feels like I am making it harder than it should be.</p>\n<p>Can anyone give me any tips of how to solve this problem ?</p>\n"},{"tags":["java","eclipse","selenium-webdriver","automation"],"comments":[{"owner":{"account_id":2896311,"reputation":1665,"user_id":2484006,"accept_rate":77,"display_name":"Julian"},"score":1,"creation_date":1509742228,"post_id":47104058,"comment_id":81158911,"body_markdown":"Have you considered using a build system like Gradle?  That would allow you to not have to manually manage your dependencies.  \n\nIt looks to me like the jars you acquired, or specifically the jars you added to your project doesn&#39;t include the library that the `RegistryBuilder` class is in.  That class appears to be in the Apache HttpCore jar, so I&#39;d consider looking around to ensure you&#39;re including it, and even go download it if necessary to see if it affects your results.","body":"Have you considered using a build system like Gradle?  That would allow you to not have to manually manage your dependencies.    It looks to me like the jars you acquired, or specifically the jars you added to your project doesn&#39;t include the library that the <code>RegistryBuilder</code> class is in.  That class appears to be in the Apache HttpCore jar, so I&#39;d consider looking around to ensure you&#39;re including it, and even go download it if necessary to see if it affects your results."},{"owner":{"account_id":12166655,"reputation":43,"user_id":8882760,"display_name":"John Pj"},"score":0,"creation_date":1509742815,"post_id":47104058,"comment_id":81159174,"body_markdown":"Hi thanks, I included it so this is not the problem I guess","body":"Hi thanks, I included it so this is not the problem I guess"},{"owner":{"account_id":2896311,"reputation":1665,"user_id":2484006,"accept_rate":77,"display_name":"Julian"},"score":0,"creation_date":1509745359,"post_id":47104058,"comment_id":81160095,"body_markdown":"Was it provided as part of the webdriver jar bundle you downloaded?  Or did you download it as a separate entity to include?  If you downloaded it separately, Try making sure that it is a version that is compatible with the version of webdriver you&#39;re using.  Regardless of why, whichever jar is expected to have that class definition is your problem, and your fix is very likely going to have some level of something to do with it","body":"Was it provided as part of the webdriver jar bundle you downloaded?  Or did you download it as a separate entity to include?  If you downloaded it separately, Try making sure that it is a version that is compatible with the version of webdriver you&#39;re using.  Regardless of why, whichever jar is expected to have that class definition is your problem, and your fix is very likely going to have some level of something to do with it"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1509755129,"post_id":47104058,"comment_id":81162857,"body_markdown":"Possible duplicate of [NoClassDefFoundError: org/apache/http/HttpEntity in Selenium for ChromeDriver?](https://stackoverflow.com/questions/23471340/noclassdeffounderror-org-apache-http-httpentity-in-selenium-for-chromedriver)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/23471340/noclassdeffounderror-org-apache-http-httpentity-in-selenium-for-chromedriver\">NoClassDefFoundError: org/apache/http/HttpEntity in Selenium for ChromeDriver?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1297929,"reputation":3739,"user_id":1248505,"accept_rate":50,"display_name":"StrikerVillain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509782215,"creation_date":1509782215,"answer_id":47108693,"question_id":47104058,"body_markdown":"Seems like the latest (`v3.7`) Selenium-Java zip file contains lesser jars in the lib folder. `v3.6` contained 10 lib jars but `v3.7` contains only 7 jars. \r\n\r\nThe missing jar which is causing all the issue for the op is &#39;httpcore-4.4.6.jar&#39;. I am not sure whether the removal of jar is intentional or not. Maybe `chromedriver` has catch up with `Selenium java 3.7`seeing that .\r\n\r\nI the mean time use `Selenium Java 3.6`. Don&#39;t forget to add the /lib folder as well.\r\n \r\nhttp://selenium-release.storage.googleapis.com/3.6/selenium-java-3.6.0.zip","title":"Selenium Webdriver + Java - Eclipse: java.lang.NoClassDefFoundError","body":"<p>Seems like the latest (<code>v3.7</code>) Selenium-Java zip file contains lesser jars in the lib folder. <code>v3.6</code> contained 10 lib jars but <code>v3.7</code> contains only 7 jars. </p>\n\n<p>The missing jar which is causing all the issue for the op is 'httpcore-4.4.6.jar'. I am not sure whether the removal of jar is intentional or not. Maybe <code>chromedriver</code> has catch up with <code>Selenium java 3.7</code>seeing that .</p>\n\n<p>I the mean time use <code>Selenium Java 3.6</code>. Don't forget to add the /lib folder as well.</p>\n\n<p><a href=\"http://selenium-release.storage.googleapis.com/3.6/selenium-java-3.6.0.zip\" rel=\"nofollow noreferrer\">http://selenium-release.storage.googleapis.com/3.6/selenium-java-3.6.0.zip</a></p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580465264,"creation_date":1509805478,"answer_id":47111733,"question_id":47104058,"body_markdown":"`java.lang.NoClassDefFoundError` is observed when the **JRE** can&#39;t find a _Class_.\r\n\r\nIn simple words the required `imports` or `jar` files are not available. From the snapshot you have shared its pretty much evident that you have tried to add the _Java Client_ related jars.\r\n\r\nIn this case you need to follow the following steps:\r\n\r\n1. Remove all the jars referring to previous versions of **Selenium standalone server** &amp; **Selenium Java client**\r\n2. Import only the _selenium-server-standalone-3.7.0_.\r\n3. In your _IDE_ within _Project_ menu, select the option _Build Automatically_ and execute the `Clean` option for all of your Projects.\r\n4. Execute your Test.","title":"Selenium Webdriver + Java - Eclipse: java.lang.NoClassDefFoundError","body":"<p><code>java.lang.NoClassDefFoundError</code> is observed when the <strong>JRE</strong> can't find a <em>Class</em>.</p>\n\n<p>In simple words the required <code>imports</code> or <code>jar</code> files are not available. From the snapshot you have shared its pretty much evident that you have tried to add the <em>Java Client</em> related jars.</p>\n\n<p>In this case you need to follow the following steps:</p>\n\n<ol>\n<li>Remove all the jars referring to previous versions of <strong>Selenium standalone server</strong> &amp; <strong>Selenium Java client</strong></li>\n<li>Import only the <em>selenium-server-standalone-3.7.0</em>.</li>\n<li>In your <em>IDE</em> within <em>Project</em> menu, select the option <em>Build Automatically</em> and execute the <code>Clean</code> option for all of your Projects.</li>\n<li>Execute your Test.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12187664,"reputation":9,"user_id":8896756,"display_name":"Miroslav Trankov"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1510005359,"creation_date":1510005359,"answer_id":47146515,"question_id":47104058,"body_markdown":"i&#39;ve added the three missing jars from version 3.6 and fixed everything.\r\nhttp://selenium-release.storage.googleapis.com/3.6/selenium-java-3.6.0.zip","title":"Selenium Webdriver + Java - Eclipse: java.lang.NoClassDefFoundError","body":"<p>i've added the three missing jars from version 3.6 and fixed everything.\n<a href=\"http://selenium-release.storage.googleapis.com/3.6/selenium-java-3.6.0.zip\" rel=\"nofollow noreferrer\">http://selenium-release.storage.googleapis.com/3.6/selenium-java-3.6.0.zip</a></p>\n"},{"tags":[],"owner":{"account_id":18824337,"reputation":1,"user_id":13729616,"display_name":"Pushkar Narayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593193957,"creation_date":1593193957,"answer_id":62600308,"question_id":47104058,"body_markdown":"update the the appium java-client to 7.3.0 and selenium-java to 3.141.59 this resolved my issue hope it helps.","title":"Selenium Webdriver + Java - Eclipse: java.lang.NoClassDefFoundError","body":"<p>update the the appium java-client to 7.3.0 and selenium-java to 3.141.59 this resolved my issue hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":17673960,"reputation":19,"user_id":12829397,"display_name":"Mohammed Jafar Sadik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608706434,"creation_date":1608706434,"answer_id":65420155,"question_id":47104058,"body_markdown":"I faced the same issue. For me, it didn&#39;t found the WebDriver. It seemed to happen as I imported the libraries the location other than **classpath**. Then I opened up a new project, went to the ***Properties&gt;Java Build Path&gt;Libraries***. This time I imported the libraries under **classpath**. Now it works fine.","title":"Selenium Webdriver + Java - Eclipse: java.lang.NoClassDefFoundError","body":"<p>I faced the same issue. For me, it didn't found the WebDriver. It seemed to happen as I imported the libraries the location other than <strong>classpath</strong>. Then I opened up a new project, went to the <em><strong>Properties&gt;Java Build Path&gt;Libraries</strong></em>. This time I imported the libraries under <strong>classpath</strong>. Now it works fine.</p>\n"},{"tags":[],"owner":{"account_id":17136262,"reputation":11,"user_id":17739944,"display_name":"Ibrahim Mensi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640255928,"creation_date":1640255928,"answer_id":70460947,"question_id":47104058,"body_markdown":"For those who are using Appium java client with Selenium, don&#39;t try to import Java client and selenium dependencies together in your pom.xml, you have already selenium dependencies imported with the java client dependency, you only have to import Java client dependency in your pom.xml and it should work.\r\nReference: https://mvnrepository.com/artifact/io.appium/java-client/7.6.0\r\n","title":"Selenium Webdriver + Java - Eclipse: java.lang.NoClassDefFoundError","body":"<p>For those who are using Appium java client with Selenium, don't try to import Java client and selenium dependencies together in your pom.xml, you have already selenium dependencies imported with the java client dependency, you only have to import Java client dependency in your pom.xml and it should work.\nReference: <a href=\"https://mvnrepository.com/artifact/io.appium/java-client/7.6.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.appium/java-client/7.6.0</a></p>\n"},{"tags":[],"owner":{"account_id":17369505,"reputation":13,"user_id":12583925,"display_name":"Ronwald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650466328,"creation_date":1650466328,"answer_id":71941812,"question_id":47104058,"body_markdown":"For me, the issue was solved by adding the external jars (selenium-java jar files) to &#39;Classpath&#39;, instead of to &#39;Modulepath&#39;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f5zjH.png","title":"Selenium Webdriver + Java - Eclipse: java.lang.NoClassDefFoundError","body":"<p>For me, the issue was solved by adding the external jars (selenium-java jar files) to 'Classpath', instead of to 'Modulepath'</p>\n<p><a href=\"https://i.stack.imgur.com/f5zjH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f5zjH.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":12166655,"reputation":43,"user_id":8882760,"display_name":"John Pj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18458,"favorite_count":0,"down_vote_count":4,"up_vote_count":4,"answer_count":7,"score":0,"last_activity_date":1650466328,"creation_date":1509741402,"question_id":47104058,"body_markdown":"I installed JDK from here: http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\r\n(This version for windows x64: Java SE Development Kit 8u151)\r\n\r\nI downloaded eclipse from here:\r\nhttp://www.eclipse.org/downloads/packages/eclipse-ide-java-developers/oxygenr\r\n(Windows 64-bit)\r\n\r\nI opened a new project in eclipse: File-&gt;New-&gt;Java Project\r\n\r\nThen I downloaded Selenium Java Jars from here:\r\nhttp://www.seleniumhq.org/download/ ---&gt; java language\r\n\r\nThen in eclipse I click on my project -&gt; properties -&gt;Java Build Path -&gt; Libraries tab -&gt; Add External JARs... -&gt; I go to &quot;SeleniumDrivers\\Java&quot; library (there I saved all the JARS that I downloaded) -&gt; I checked all the files there:\r\n[these files][1]\r\n\r\nI clicked on &quot;ok&quot; and created a new class in eclipse\r\n\r\nThen I downloaded chromedriver from here: http://www.seleniumhq.org/download\r\n\r\nI unzipped it and saved it here: C:\\Selenium\\Drivers\r\n\r\nThis is my script:\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n\r\n    public class MainClass {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tSystem.out.println(&quot;hi there\\n&quot;);\r\n    \t\t\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, \r\n            &quot;C:/Selenium/Drivers/chromedriver.exe&quot;);\r\n    \t\tWebDriver driver = new ChromeDriver();\r\n    \t\tdriver.get(&quot;https://www.facebook.com&quot;);\r\n    \t}\r\n    \r\n    }\r\n    \r\nAs you can see, this is a very basic script which opens chrome browser and navigate to facebook.\r\n\r\nI run this script and got this error:\r\n\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/http/config/RegistryBuilder\r\n    \tat org.openqa.selenium.remote.internal.HttpClientFactory.getClientConnectionManager(HttpClientFactory.java:69)\r\n    \tat org.openqa.selenium.remote.internal.HttpClientFactory.&lt;init&gt;(HttpClientFactory.java:57)\r\n    \tat org.openqa.selenium.remote.internal.HttpClientFactory.&lt;init&gt;(HttpClientFactory.java:60)\r\n    \tat org.openqa.selenium.remote.internal.ApacheHttpClient$Factory.getDefaultHttpClientFactory(ApacheHttpClient.java:242)\r\n    \tat org.openqa.selenium.remote.internal.ApacheHttpClient$Factory.&lt;init&gt;(ApacheHttpClient.java:219)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.getDefaultClientFactory(HttpCommandExecutor.java:93)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor.java:72)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.&lt;init&gt;(DriverCommandExecutor.java:63)\r\n    \tat org.openqa.selenium.chrome.ChromeDriverCommandExecutor.&lt;init&gt;(ChromeDriverCommandExecutor.java:36)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:181)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:168)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\r\n    \tat MainClass.main(MainClass.java:11)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.http.config.RegistryBuilder\r\n    \tat java.net.URLClassLoader.findClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \t... 13 more\r\n    \r\nI don&#39;t know how to resolve this issue, can you please help to solve it so that I will be able to run my basic script?\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8dT6j.png\r\n","title":"Selenium Webdriver + Java - Eclipse: java.lang.NoClassDefFoundError","body":"<p>I installed JDK from here: <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a>\n(This version for windows x64: Java SE Development Kit 8u151)</p>\n\n<p>I downloaded eclipse from here:\n<a href=\"http://www.eclipse.org/downloads/packages/eclipse-ide-java-developers/oxygenr\" rel=\"nofollow noreferrer\">http://www.eclipse.org/downloads/packages/eclipse-ide-java-developers/oxygenr</a>\n(Windows 64-bit)</p>\n\n<p>I opened a new project in eclipse: File->New->Java Project</p>\n\n<p>Then I downloaded Selenium Java Jars from here:\n<a href=\"http://www.seleniumhq.org/download/\" rel=\"nofollow noreferrer\">http://www.seleniumhq.org/download/</a> ---> java language</p>\n\n<p>Then in eclipse I click on my project -> properties ->Java Build Path -> Libraries tab -> Add External JARs... -> I go to \"SeleniumDrivers\\Java\" library (there I saved all the JARS that I downloaded) -> I checked all the files there:\n<a href=\"https://i.stack.imgur.com/8dT6j.png\" rel=\"nofollow noreferrer\">these files</a></p>\n\n<p>I clicked on \"ok\" and created a new class in eclipse</p>\n\n<p>Then I downloaded chromedriver from here: <a href=\"http://www.seleniumhq.org/download\" rel=\"nofollow noreferrer\">http://www.seleniumhq.org/download</a></p>\n\n<p>I unzipped it and saved it here: C:\\Selenium\\Drivers</p>\n\n<p>This is my script:</p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class MainClass {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        System.out.println(\"hi there\\n\");\n\n        System.setProperty(\"webdriver.chrome.driver\", \n        \"C:/Selenium/Drivers/chromedriver.exe\");\n        WebDriver driver = new ChromeDriver();\n        driver.get(\"https://www.facebook.com\");\n    }\n\n}\n</code></pre>\n\n<p>As you can see, this is a very basic script which opens chrome browser and navigate to facebook.</p>\n\n<p>I run this script and got this error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/http/config/RegistryBuilder\n    at org.openqa.selenium.remote.internal.HttpClientFactory.getClientConnectionManager(HttpClientFactory.java:69)\n    at org.openqa.selenium.remote.internal.HttpClientFactory.&lt;init&gt;(HttpClientFactory.java:57)\n    at org.openqa.selenium.remote.internal.HttpClientFactory.&lt;init&gt;(HttpClientFactory.java:60)\n    at org.openqa.selenium.remote.internal.ApacheHttpClient$Factory.getDefaultHttpClientFactory(ApacheHttpClient.java:242)\n    at org.openqa.selenium.remote.internal.ApacheHttpClient$Factory.&lt;init&gt;(ApacheHttpClient.java:219)\n    at org.openqa.selenium.remote.HttpCommandExecutor.getDefaultClientFactory(HttpCommandExecutor.java:93)\n    at org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor.java:72)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.&lt;init&gt;(DriverCommandExecutor.java:63)\n    at org.openqa.selenium.chrome.ChromeDriverCommandExecutor.&lt;init&gt;(ChromeDriverCommandExecutor.java:36)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:181)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:168)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\n    at MainClass.main(MainClass.java:11)\nCaused by: java.lang.ClassNotFoundException: org.apache.http.config.RegistryBuilder\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    ... 13 more\n</code></pre>\n\n<p>I don't know how to resolve this issue, can you please help to solve it so that I will be able to run my basic script?</p>\n"},{"tags":["java","selenium-webdriver","xpath","gridview"],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650444859,"creation_date":1650444859,"answer_id":71936789,"question_id":71936645,"body_markdown":"You do not need to create `WebDriverWait` object every time like you&#39;ve done it above:\r\n\r\n    new WebDriverWait(ldriver, 100);\r\n\r\nJust create once and use the reference at multiple places. \r\n\r\nSince you are clicking twice `housingTotalQtyElement` on this column with just `.2` sec gap, I&#39;d say increase this time to at least `2 seconds`\r\n\r\nso \r\n\r\n    Thread.sleep(200);\r\n\r\nshould be:\r\n\r\n    Thread.sleep(2000);\r\n\r\nAlso, instead of having just `findElement` like below\r\n\r\n    WebElement grid = ldriver.findElement(By.xpath(&quot;//div[@id=&#39;gview_jqTable_SK&#39;]&quot;));\r\n\r\nuse `WebDriverWait` \r\n\r\n    wait1.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@id=&#39;gview_jqTable_SK&#39;]&quot;))).click();\r\n\r\n","title":"How to select elements from Gridrow after Grid is refreshed using Selenium Java","body":"<p>You do not need to create <code>WebDriverWait</code> object every time like you've done it above:</p>\n<pre><code>new WebDriverWait(ldriver, 100);\n</code></pre>\n<p>Just create once and use the reference at multiple places.</p>\n<p>Since you are clicking twice <code>housingTotalQtyElement</code> on this column with just <code>.2</code> sec gap, I'd say increase this time to at least <code>2 seconds</code></p>\n<p>so</p>\n<pre><code>Thread.sleep(200);\n</code></pre>\n<p>should be:</p>\n<pre><code>Thread.sleep(2000);\n</code></pre>\n<p>Also, instead of having just <code>findElement</code> like below</p>\n<pre><code>WebElement grid = ldriver.findElement(By.xpath(&quot;//div[@id='gview_jqTable_SK']&quot;));\n</code></pre>\n<p>use <code>WebDriverWait</code></p>\n<pre><code>wait1.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@id='gview_jqTable_SK']&quot;))).click();\n</code></pre>\n"}],"owner":{"account_id":329854,"reputation":7189,"user_id":653622,"accept_rate":84,"display_name":"Sreedhar Danturthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650466256,"creation_date":1650444264,"question_id":71936645,"body_markdown":"I have a grid where the column contents can be sorted in ascending/descending order by clicking on the row header - **sk_Total_Qty_Element**\r\n\r\nTo explain what the below code does it is just traversing the contents of one particular column - **jqTable_SK_Product/SK** row by row and printing the value in them.\r\n\r\nBelow code is giving me NoSuchElementException\r\n\r\n    @FindBy(xpath = &quot;//thead/tr/th[@id=&#39;jqTable_SK_Total Qty&#39;]&quot;)\r\n\tWebElement sk_Total_Qty_Element;\r\n\r\n\tpublic void warehousingGridTotalQtyClick() throws Exception {\r\n\r\n\t\tChromeOptions options = new ChromeOptions();\r\n\t\toptions.addArguments(&quot;--headless&quot;);\r\n\t\tldriver = new ChromeDriver(options);\r\n\t\tWebDriverWait wait1 = new WebDriverWait(ldriver, 100);\r\n\t\tWebElement housingTotalQtyElement = wait1\r\n\t\t\t\t.until(ExpectedConditions.elementToBeClickable(sk_Total_Qty_Element));\r\n\t\thousingTotalQtyElement.click();\r\n\t\tThread.sleep(2000);\r\n\t\twait1 = new WebDriverWait(ldriver, 100);\r\n\t\thousingTotalQtyElement = wait1.until(ExpectedConditions.elementToBeClickable(sk_Total_Qty_Element));\r\n\t\thousingTotalQtyElement.click();\r\n\r\n\t\tWebElement grid = ldriver.findElement(By.xpath(&quot;//div[@id=&#39;gview_jqTable_SK&#39;]&quot;));\r\n\t\tSystem.out.println(grid.getTagName());\r\n\r\n\t\tThread.sleep(2000);\r\n\r\n\t\tList&lt;WebElement&gt; skList = grid.findElements(By.xpath(&quot;//td[@aria-describedby=&#39;jqTable_SK_Product/SK&#39;]&quot;));\r\n\r\n\t\tfor (WebElement sk : skList) {\r\n\t\t\tSystem.out.println(sk.getText());\r\n\t\t}\r\n\r\n\t}\r\n\r\nbut when I do sort the grid view in descending order I&#39;m getting below error:\r\n\r\n&gt; \tFAILED: housingGrid_TC003\r\norg.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//div[@id=&#39;gview_jqTable_SK&#39;]&quot;}\r\n  (Session info: headless chrome=100.0.4896.88)\r\n\r\nBut when I don&#39;t do the grid sorting in descending order i.e., when I remove the below piece of code from above which basically double clicks the row header - **sk_Total_Qty_Element** the code runs perfectly well.\r\n\r\n    \t\tWebElement housingTotalQtyElement = wait1\r\n\t\t\t\t.until(ExpectedConditions.elementToBeClickable(sk_Total_Qty_Element));\r\n\t\thousingTotalQtyElement.click();\r\n\t\tThread.sleep(200);\r\n\t\twait1 = new WebDriverWait(ldriver, 100);\r\n\t\thousingTotalQtyElement = wait1.until(ExpectedConditions.elementToBeClickable(sk_Total_Qty_Element));\r\n\t\thousingTotalQtyElement.click();\r\n\r\nTo overcome this error I have tried to focus on the by using window handles but that did not work out and also I tried using **WebDriverWait** with below code and that did not work either leading to similar error\r\n\r\n    WebElement grid = wait1.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@id=&#39;gview_jqTable_SK&#39;]&quot;)));\r\n\r\n    Caused by: org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//div[@id=&#39;gview_jqTable_SK&#39;]&quot;}\r\n\r\nKindly help\r\n\r\n","title":"How to select elements from Gridrow after Grid is refreshed using Selenium Java","body":"<p>I have a grid where the column contents can be sorted in ascending/descending order by clicking on the row header - <strong>sk_Total_Qty_Element</strong></p>\n<p>To explain what the below code does it is just traversing the contents of one particular column - <strong>jqTable_SK_Product/SK</strong> row by row and printing the value in them.</p>\n<p>Below code is giving me NoSuchElementException</p>\n<pre><code>@FindBy(xpath = &quot;//thead/tr/th[@id='jqTable_SK_Total Qty']&quot;)\nWebElement sk_Total_Qty_Element;\n\npublic void warehousingGridTotalQtyClick() throws Exception {\n\n    ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;--headless&quot;);\n    ldriver = new ChromeDriver(options);\n    WebDriverWait wait1 = new WebDriverWait(ldriver, 100);\n    WebElement housingTotalQtyElement = wait1\n            .until(ExpectedConditions.elementToBeClickable(sk_Total_Qty_Element));\n    housingTotalQtyElement.click();\n    Thread.sleep(2000);\n    wait1 = new WebDriverWait(ldriver, 100);\n    housingTotalQtyElement = wait1.until(ExpectedConditions.elementToBeClickable(sk_Total_Qty_Element));\n    housingTotalQtyElement.click();\n\n    WebElement grid = ldriver.findElement(By.xpath(&quot;//div[@id='gview_jqTable_SK']&quot;));\n    System.out.println(grid.getTagName());\n\n    Thread.sleep(2000);\n\n    List&lt;WebElement&gt; skList = grid.findElements(By.xpath(&quot;//td[@aria-describedby='jqTable_SK_Product/SK']&quot;));\n\n    for (WebElement sk : skList) {\n        System.out.println(sk.getText());\n    }\n\n}\n</code></pre>\n<p>but when I do sort the grid view in descending order I'm getting below error:</p>\n<blockquote>\n<p>FAILED: housingGrid_TC003\norg.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//div[@id='gview_jqTable_SK']&quot;}\n(Session info: headless chrome=100.0.4896.88)</p>\n</blockquote>\n<p>But when I don't do the grid sorting in descending order i.e., when I remove the below piece of code from above which basically double clicks the row header - <strong>sk_Total_Qty_Element</strong> the code runs perfectly well.</p>\n<pre><code>        WebElement housingTotalQtyElement = wait1\n            .until(ExpectedConditions.elementToBeClickable(sk_Total_Qty_Element));\n    housingTotalQtyElement.click();\n    Thread.sleep(200);\n    wait1 = new WebDriverWait(ldriver, 100);\n    housingTotalQtyElement = wait1.until(ExpectedConditions.elementToBeClickable(sk_Total_Qty_Element));\n    housingTotalQtyElement.click();\n</code></pre>\n<p>To overcome this error I have tried to focus on the by using window handles but that did not work out and also I tried using <strong>WebDriverWait</strong> with below code and that did not work either leading to similar error</p>\n<pre><code>WebElement grid = wait1.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@id='gview_jqTable_SK']&quot;)));\n\nCaused by: org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//div[@id='gview_jqTable_SK']&quot;}\n</code></pre>\n<p>Kindly help</p>\n"},{"tags":["java","spring","spring-boot","java-8","modelmapper"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1650454183,"post_id":71938818,"comment_id":127118683,"body_markdown":"Probably your best option is not asking how to go around your previous code, but instead - understanding why your previously working code is not working anymore. It usually isn&#39;t something that just happens, so that must be your doing.","body":"Probably your best option is not asking how to go around your previous code, but instead - understanding why your previously working code is not working anymore. It usually isn&#39;t something that just happens, so that must be your doing."},{"owner":{"account_id":6672550,"reputation":334,"user_id":5148256,"display_name":"Sajjad Serajzadeh"},"score":0,"creation_date":1650454380,"post_id":71938818,"comment_id":127118752,"body_markdown":"The Technical lead of my team is not agree with yousing Mappers thats why i post it here @M.Prokhorov","body":"The Technical lead of my team is not agree with yousing Mappers thats why i post it here @M.Prokhorov"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1650454518,"post_id":71938818,"comment_id":127118798,"body_markdown":"Is your company willing to pay for you writing equivalent frameworks by hand? Then go for it.","body":"Is your company willing to pay for you writing equivalent frameworks by hand? Then go for it."},{"owner":{"account_id":1601250,"reputation":1253,"user_id":1482231,"accept_rate":52,"display_name":"Prasath"},"score":0,"creation_date":1650548389,"post_id":71938818,"comment_id":127148099,"body_markdown":"What you tried ? Simply can&#39;t iterate and set values from one to another  ?","body":"What you tried ? Simply can&#39;t iterate and set values from one to another  ?"},{"owner":{"account_id":6672550,"reputation":334,"user_id":5148256,"display_name":"Sajjad Serajzadeh"},"score":0,"creation_date":1650786150,"post_id":71938818,"comment_id":127200580,"body_markdown":"in this case iteration make a bad smell @Prasath","body":"in this case iteration make a bad smell @Prasath"}],"answers":[{"tags":[],"owner":{"account_id":6672550,"reputation":334,"user_id":5148256,"display_name":"Sajjad Serajzadeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650455489,"creation_date":1650455489,"answer_id":71939130,"question_id":71938818,"body_markdown":"i handle it just like this but its not so good\r\n\r\n    public GenericResponse&lt;List&lt;CitySrv&gt;&gt; getAllCities() throws ProjectException \r\n        {\r\n        Optional&lt;List&lt;City&gt;&gt; citiiesSrvResponse = cityRepository.getAllCities();\r\n        CitySrv citySrv = new CitySrv();\r\n        List&lt;CitySrv&gt; citySrvList = new ArrayList&lt;&gt;();\r\n        if (citiiesSrvResponse.isPresent()) {\r\n            for (City eachCity : citiiesSrvResponse.get()) {\r\n                citySrv.setId(eachCity.getId());\r\n                citySrv.setName(eachCity.getName());\r\n                citySrv.setState(eachCity.getState().getId());\r\n                citySrvList.add(citySrv);\r\n            }\r\n            return ResponseUtil.getResponse(citySrvList);\r\n        } else throw new ProjectException(ExceptionStatus.NOT_FOUND);\r\n    }","title":"Map List &lt; Object &gt; to List &lt; ObjectSrv &gt;","body":"<p>i handle it just like this but its not so good</p>\n<pre><code>public GenericResponse&lt;List&lt;CitySrv&gt;&gt; getAllCities() throws ProjectException \n    {\n    Optional&lt;List&lt;City&gt;&gt; citiiesSrvResponse = cityRepository.getAllCities();\n    CitySrv citySrv = new CitySrv();\n    List&lt;CitySrv&gt; citySrvList = new ArrayList&lt;&gt;();\n    if (citiiesSrvResponse.isPresent()) {\n        for (City eachCity : citiiesSrvResponse.get()) {\n            citySrv.setId(eachCity.getId());\n            citySrv.setName(eachCity.getName());\n            citySrv.setState(eachCity.getState().getId());\n            citySrvList.add(citySrv);\n        }\n        return ResponseUtil.getResponse(citySrvList);\n    } else throw new ProjectException(ExceptionStatus.NOT_FOUND);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23095038,"reputation":146,"user_id":17205307,"display_name":"Johannes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650466052,"creation_date":1650466052,"answer_id":71941730,"question_id":71938818,"body_markdown":"For modelMapper to work your source and destination have to be similar enough. You want to map the entity State in City to a Long which is its id in CitySrv. Which I would guess doesn&#39;t fulfill this criteria. You have to tell modelMapper how to map that by configuring a mapping\r\n\r\n    TypeMap&lt;City, CitySrv&gt; propertyMapper = modelMapper.createTypeMap(City.class, CitySrv.class);\r\n    propertyMapper.addMappings(\r\n        mapper -&gt; mapper.map(src -&gt; src.getState().getId, CitySrv::setState)\r\n    );\r\n\r\nBest you do that in a global config.\r\nYou can find more info in this [baeldung article](https://www.baeldung.com/java-modelmapper)\r\n        ","title":"Map List &lt; Object &gt; to List &lt; ObjectSrv &gt;","body":"<p>For modelMapper to work your source and destination have to be similar enough. You want to map the entity State in City to a Long which is its id in CitySrv. Which I would guess doesn't fulfill this criteria. You have to tell modelMapper how to map that by configuring a mapping</p>\n<pre><code>TypeMap&lt;City, CitySrv&gt; propertyMapper = modelMapper.createTypeMap(City.class, CitySrv.class);\npropertyMapper.addMappings(\n    mapper -&gt; mapper.map(src -&gt; src.getState().getId, CitySrv::setState)\n);\n</code></pre>\n<p>Best you do that in a global config.\nYou can find more info in this <a href=\"https://www.baeldung.com/java-modelmapper\" rel=\"nofollow noreferrer\">baeldung article</a></p>\n"}],"owner":{"account_id":6672550,"reputation":334,"user_id":5148256,"display_name":"Sajjad Serajzadeh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1468,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1650466052,"creation_date":1650454029,"question_id":71938818,"body_markdown":"I want to Map List &lt; City &gt; to List &lt; CitySrv &gt;  in the service layer but i dont have any idea how to do that.\r\n\r\nthe City srv that i want to Map: (srv = server response value)\r\n\r\n    @Getter\r\n    @Setter\r\n    @SuperBuilder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n        public class CitySrv {\r\n            private Long id;\r\n            private String name;\r\n            private Long state;\r\n        }\r\n\r\n\r\n\r\nthe City Entity that want to map From:\r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @SuperBuilder\r\n    @Getter\r\n    @Setter\r\n    @Table(name = &quot;IOTP_CITY&quot;)\r\n    public class City extends BaseEntity {\r\n        @Column(name = &quot;NAME&quot;)\r\n        private String name;\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;state_id&quot;)\r\n        private State state;\r\n\r\n        @OneToMany(mappedBy = &quot;city&quot;)\r\n        private List&lt;Branch&gt; branches = new ArrayList&lt;Branch&gt;();\r\n\r\n    }\r\n\r\ni used Model mapper before but for some reason i cant use it anymore.\r\n\r\n            @Override\r\n        public GenericResponse&lt;List&lt;CitySrv&gt;&gt; getAllCities() throws ProjectException {\r\n            Optional&lt;List&lt;City&gt;&gt; citiiesSrvResponse = cityRepository.getAllCities();\r\n            if (citiiesSrvResponse.isPresent()) {\r\n                List&lt;CitySrv&gt; citiesList = modelMapper.map(citiiesSrvResponse.get(), new \r\n                    TypeToken&lt;List&lt;CitySrv&gt;&gt;() {\r\n                }.getType());\r\n                return ResponseUtil.getResponse(citiesList);\r\n            } else throw new ProjectException(ExceptionStatus.NOT_FOUND);\r\n        }","title":"Map List &lt; Object &gt; to List &lt; ObjectSrv &gt;","body":"<p>I want to Map List &lt; City &gt; to List &lt; CitySrv &gt;  in the service layer but i dont have any idea how to do that.</p>\n<p>the City srv that i want to Map: (srv = server response value)</p>\n<pre><code>@Getter\n@Setter\n@SuperBuilder\n@NoArgsConstructor\n@AllArgsConstructor\n    public class CitySrv {\n        private Long id;\n        private String name;\n        private Long state;\n    }\n</code></pre>\n<p>the City Entity that want to map From:</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@SuperBuilder\n@Getter\n@Setter\n@Table(name = &quot;IOTP_CITY&quot;)\npublic class City extends BaseEntity {\n    @Column(name = &quot;NAME&quot;)\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;state_id&quot;)\n    private State state;\n\n    @OneToMany(mappedBy = &quot;city&quot;)\n    private List&lt;Branch&gt; branches = new ArrayList&lt;Branch&gt;();\n\n}\n</code></pre>\n<p>i used Model mapper before but for some reason i cant use it anymore.</p>\n<pre><code>        @Override\n    public GenericResponse&lt;List&lt;CitySrv&gt;&gt; getAllCities() throws ProjectException {\n        Optional&lt;List&lt;City&gt;&gt; citiiesSrvResponse = cityRepository.getAllCities();\n        if (citiiesSrvResponse.isPresent()) {\n            List&lt;CitySrv&gt; citiesList = modelMapper.map(citiiesSrvResponse.get(), new \n                TypeToken&lt;List&lt;CitySrv&gt;&gt;() {\n            }.getType());\n            return ResponseUtil.getResponse(citiesList);\n        } else throw new ProjectException(ExceptionStatus.NOT_FOUND);\n    }\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":3597514,"reputation":117143,"user_id":3001761,"display_name":"jonrsharpe"},"score":0,"creation_date":1555763085,"post_id":55773496,"comment_id":98219532,"body_markdown":"What have you tried, and what exactly is the problem with it? Have you read e.g. https://stackoverflow.com/questions/21105403/mocking-static-methods-with-mockito? Also note that `null == notification` is a &quot;Yoda condition&quot;.","body":"What have you tried, and what exactly is the problem with it? Have you read e.g. <a href=\"https://stackoverflow.com/questions/21105403/mocking-static-methods-with-mockito\" title=\"mocking static methods with mockito\">stackoverflow.com/questions/21105403/&hellip;</a>? Also note that <code>null == notification</code> is a &quot;Yoda condition&quot;."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1555774900,"post_id":55773496,"comment_id":98222551,"body_markdown":"You can&#39;t. Mockito can&#39;t mock static methods.","body":"You can&#39;t. Mockito can&#39;t mock static methods."}],"answers":[{"tags":[],"owner":{"account_id":11540925,"reputation":56,"user_id":8456659,"display_name":"indhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555829163,"creation_date":1555829163,"answer_id":55780546,"question_id":55773496,"body_markdown":"You can&#39;t mock static metods using mockito.But you can manipulate your input data if possible, so that it will go into static method and return the value you want.you can pass message = null from your test method if possible.So that you can test your method.","title":"Mock call to static method of a utility class","body":"<p>You can't mock static metods using mockito.But you can manipulate your input data if possible, so that it will go into static method and return the value you want.you can pass message = null from your test method if possible.So that you can test your method.</p>\n"},{"tags":[],"owner":{"account_id":15246892,"reputation":11,"user_id":11001522,"display_name":"Prathiksha G C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555830024,"creation_date":1555830024,"answer_id":55780626,"question_id":55773496,"body_markdown":"You can’t mock static method by using Mockito. Try using the PowerMockito if you need to mock static methods \n\nEx: PowerMockito.mockStatic(JsonUtility.class);","title":"Mock call to static method of a utility class","body":"<p>You can’t mock static method by using Mockito. Try using the PowerMockito if you need to mock static methods </p>\n\n<p>Ex: PowerMockito.mockStatic(JsonUtility.class);</p>\n"},{"tags":[],"owner":{"account_id":5177315,"reputation":80,"user_id":4143977,"display_name":"Onkar Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650465711,"creation_date":1650465711,"answer_id":71941655,"question_id":55773496,"body_markdown":"Now newer version of Mockito supports static method mocking.\r\nNo need to use PowerMockito\r\nJust Upgrade your version to 3.4.0 +\r\n","title":"Mock call to static method of a utility class","body":"<p>Now newer version of Mockito supports static method mocking.\nNo need to use PowerMockito\nJust Upgrade your version to 3.4.0 +</p>\n"}],"owner":{"account_id":13474237,"reputation":137,"user_id":9721761,"display_name":"Roshni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4143,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1650465711,"creation_date":1555762992,"question_id":55773496,"body_markdown":"I need to write a unit test for the method `processNotification`. But this method internally calls `JsonUtility.getNotificationDTOFromMessage`. \n\r\nI need the return value to be `null` when this is called. How can we achieve this by using Mockito?\r\n\rI cannot make changes in the code as it is not owned by me.\r\n\r\n    @Override\r\n    public void processNotification(String message) throws IOException {\r\n        logger.info(&quot; Processing the notifications&quot;);\r\n        NotificationDTO notification = \r\n        JsonUtility.getNotificationDTOFromMessage(message);\r\n        if (null == notification) {","title":"Mock call to static method of a utility class","body":"<p>I need to write a unit test for the method <code>processNotification</code>. But this method internally calls <code>JsonUtility.getNotificationDTOFromMessage</code>. </p>\n\n<p>I need the return value to be <code>null</code> when this is called. How can we achieve this by using Mockito?</p>\n\n<p>I cannot make changes in the code as it is not owned by me.</p>\n\n<pre><code>@Override\npublic void processNotification(String message) throws IOException {\n    logger.info(\" Processing the notifications\");\n    NotificationDTO notification = \n    JsonUtility.getNotificationDTOFromMessage(message);\n    if (null == notification) {\n</code></pre>\n"},{"tags":["java","subclass","superclass"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1650465919,"post_id":71941643,"comment_id":127123895,"body_markdown":"Well most probably because all entries in `allCustomers` are not of type `VIPCustomer`, thus the `if` is never entered.","body":"Well most probably because all entries in <code>allCustomers</code> are not of type <code>VIPCustomer</code>, thus the <code>if</code> is never entered."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1650465921,"post_id":71941643,"comment_id":127123897,"body_markdown":"There are only 3 possibilities of why that method could return null: 1. either `allCustomers` is empty and the loop over the entry set never runs or 2. your if condition is never met and the if-block never entered or 3. `vipCustomerCheck.getValue()` returns null. I recommend trying to find out which one is the case in your code","body":"There are only 3 possibilities of why that method could return null: 1. either <code>allCustomers</code> is empty and the loop over the entry set never runs or 2. your if condition is never met and the if-block never entered or 3. <code>vipCustomerCheck.getValue()</code> returns null. I recommend trying to find out which one is the case in your code"}],"owner":{"account_id":19824398,"reputation":51,"user_id":14520216,"display_name":"Josef Sigron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650465674,"creation_date":1650465674,"question_id":71941643,"body_markdown":"``` \r\npublic VIPCustomer getRealVIPCustomer(String ID) {\r\n\t\tVIPCustomer vipCustomer = new VIPCustomer(ID);\r\n\t\tfor (Map.Entry&lt;String, Customer&gt; vipCustomerCheck : allCustomers.entrySet()) {\r\n\t\t\tif (vipCustomer.equals(vipCustomerCheck.getValue()) &amp;&amp; vipCustomerCheck instanceof VIPCustomer) {\r\n\t\t\t\treturn (VIPCustomer) vipCustomerCheck.getValue();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\r\n\t}\r\n```\r\n\r\nFor some reason I always get null using this method , and I can&#39;t figure out why.\r\nI have looked at similar questions , and could really find an answer that will help me.\r\n\r\n```allCustomers``` is a hashmap and ```VIPCustomer``` is a subclass of ```Customer```.","title":"Casting a superclass object into a subclass object in java","body":"<pre><code>public VIPCustomer getRealVIPCustomer(String ID) {\n        VIPCustomer vipCustomer = new VIPCustomer(ID);\n        for (Map.Entry&lt;String, Customer&gt; vipCustomerCheck : allCustomers.entrySet()) {\n            if (vipCustomer.equals(vipCustomerCheck.getValue()) &amp;&amp; vipCustomerCheck instanceof VIPCustomer) {\n                return (VIPCustomer) vipCustomerCheck.getValue();\n            }\n        }\n        return null;\n\n    }\n</code></pre>\n<p>For some reason I always get null using this method , and I can't figure out why.\nI have looked at similar questions , and could really find an answer that will help me.</p>\n<p><code>allCustomers</code> is a hashmap and <code>VIPCustomer</code> is a subclass of <code>Customer</code>.</p>\n"},{"tags":["java","android","kotlin","viewmodel"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1650467018,"post_id":71941549,"comment_id":127124366,"body_markdown":"i don&#39;t really understand what you&#39;re trying to achieve with this, but also i don&#39;t understand why you&#39;re trying to do this, could you perhaps explain the problem you&#39;re trying to solve as well","body":"i don&#39;t really understand what you&#39;re trying to achieve with this, but also i don&#39;t understand why you&#39;re trying to do this, could you perhaps explain the problem you&#39;re trying to solve as well"},{"owner":{"account_id":25022193,"reputation":1,"user_id":18880765,"display_name":"Don Delillo"},"score":0,"creation_date":1650473137,"post_id":71941549,"comment_id":127126891,"body_markdown":"@a_local_nobody i need reuse some screen with viewModel, they look same, but network request different","body":"@a_local_nobody i need reuse some screen with viewModel, they look same, but network request different"}],"owner":{"account_id":25022193,"reputation":1,"user_id":18880765,"display_name":"Don Delillo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650465310,"creation_date":1650465310,"question_id":71941549,"body_markdown":"is it possible to do this, if not, why:\r\n 1. I pass through the arguments new parcelable class to the fragment\r\n 2. When I click on the button in the UI, I pass the viewmodel instance to the function of this class and immediately call the functions I need from the viewmodel in the same place.\r\n\r\n```\r\n@Parcelize\r\nclass ClassA {\r\n fun onClick(viewModel: FragmentViewModel) {\r\n   viewModel.callJob()\r\n }\r\n}\r\n```\r\n\r\n","title":"android pass viewmodel instance to another class function","body":"<p>is it possible to do this, if not, why:</p>\n<ol>\n<li>I pass through the arguments new parcelable class to the fragment</li>\n<li>When I click on the button in the UI, I pass the viewmodel instance to the function of this class and immediately call the functions I need from the viewmodel in the same place.</li>\n</ol>\n<pre><code>@Parcelize\nclass ClassA {\n fun onClick(viewModel: FragmentViewModel) {\n   viewModel.callJob()\n }\n}\n</code></pre>\n"},{"tags":["java","android","rx-java","repeat"],"answers":[{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650465095,"creation_date":1650465095,"answer_id":71941492,"question_id":71940337,"body_markdown":"If `eventStream` is hot, you can use it for `takeUntil` too:\r\n\r\n```java\r\neventStream.filter(e -&gt; e == START)\r\n.flatMap(e -&gt; Observable.just(e)\r\n             .observeOn(Schedulers.computation())\r\n             .doOnNext(e -&gt; { onStart(e); })\r\n             .delay(2, TimeUnit.SECONDS)\r\n             .repeat(3)\r\n             .takeUntil(eventStream.filter(e -&gt; e == STOP))\r\n)\r\n.subscribe(/* ... */);\r\n```","title":"Repeat using condition on infinite stream RxJava","body":"<p>If <code>eventStream</code> is hot, you can use it for <code>takeUntil</code> too:</p>\n<pre class=\"lang-java prettyprint-override\"><code>eventStream.filter(e -&gt; e == START)\n.flatMap(e -&gt; Observable.just(e)\n             .observeOn(Schedulers.computation())\n             .doOnNext(e -&gt; { onStart(e); })\n             .delay(2, TimeUnit.SECONDS)\n             .repeat(3)\n             .takeUntil(eventStream.filter(e -&gt; e == STOP))\n)\n.subscribe(/* ... */);\n</code></pre>\n"}],"owner":{"account_id":22321250,"reputation":67,"user_id":16543854,"display_name":"Wnjklm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71941492,"answer_count":1,"score":1,"last_activity_date":1650465095,"creation_date":1650460398,"question_id":71940337,"body_markdown":"i have the following infinite stream :\r\n\r\n```\r\nObservable&lt;MyEvent&gt; eventStream;\r\n```\r\n\r\nMany events are posted on this stream and it stop when the app stop.\r\n\r\nI have 2 events that is need to listen:\r\n\r\n``` \r\nMyEvent.START &amp; MyEvent.STOP\r\n```\r\n\r\nWhen the START event is emit, i run a function that can emit STOP. If during a certain time i dont get the STOP event, i want to rerun this function. If after the third run i still don&#39;t have the STOP event, it stop retrying.\r\n\r\nSo i need something like this :\r\n\r\n```\r\neventStream.filter(e -&gt; e == START || e == STOP)\r\n   .repeat(3)\r\n   .takeUntil(/* while i dont get STOP*/)\r\n   .delay(2, TimeUnit.SECONDS)\r\n   .subscribe(this::onStart, this::onError)\r\n   \r\n/*\r\n* By the way the first time i dont want a delay before running the function\r\n*/\r\n```\r\n\r\nBut **retry** only work when there is an error signal and **repeat** need a completion signal.\r\n\r\nI know its possible to do it but i dont know how to implement this (in an rx way).\r\n\r\nex:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CPwJP.png","title":"Repeat using condition on infinite stream RxJava","body":"<p>i have the following infinite stream :</p>\n<pre><code>Observable&lt;MyEvent&gt; eventStream;\n</code></pre>\n<p>Many events are posted on this stream and it stop when the app stop.</p>\n<p>I have 2 events that is need to listen:</p>\n<pre><code>MyEvent.START &amp; MyEvent.STOP\n</code></pre>\n<p>When the START event is emit, i run a function that can emit STOP. If during a certain time i dont get the STOP event, i want to rerun this function. If after the third run i still don't have the STOP event, it stop retrying.</p>\n<p>So i need something like this :</p>\n<pre><code>eventStream.filter(e -&gt; e == START || e == STOP)\n   .repeat(3)\n   .takeUntil(/* while i dont get STOP*/)\n   .delay(2, TimeUnit.SECONDS)\n   .subscribe(this::onStart, this::onError)\n   \n/*\n* By the way the first time i dont want a delay before running the function\n*/\n</code></pre>\n<p>But <strong>retry</strong> only work when there is an error signal and <strong>repeat</strong> need a completion signal.</p>\n<p>I know its possible to do it but i dont know how to implement this (in an rx way).</p>\n<p>ex:</p>\n<p><a href=\"https://i.stack.imgur.com/CPwJP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CPwJP.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","date","jasper-reports","days","date-manipulation"],"comments":[{"owner":{"account_id":9906957,"reputation":184,"user_id":7335176,"display_name":"halil ibrahim binol"},"score":1,"creation_date":1650450555,"post_id":71938044,"comment_id":127117338,"body_markdown":"You might be try new Date(System.currentTimeMillis() - (24 * 3600 * 1000))","body":"You might be try new Date(System.currentTimeMillis() - (24 * 3600 * 1000))"},{"owner":{"account_id":25019082,"reputation":5,"user_id":18877938,"display_name":"drt966"},"score":0,"creation_date":1650450726,"post_id":71938044,"comment_id":127117402,"body_markdown":"Yeah it&#39;s working with new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(new Date(System.currentTimeMillis() - (24 * 3600 * 1000))) . Thank you a lot","body":"Yeah it&#39;s working with new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(new Date(System.currentTimeMillis() - (24 * 3600 * 1000))) . Thank you a lot"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1650453209,"post_id":71938044,"comment_id":127118362,"body_markdown":"I recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `LocalDate` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). It also makes subtracting a day easier and easier to get correct (subtracting 24 * 3600 * 1000 milliseconds is not always correct).","body":"I recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>LocalDate</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. It also makes subtracting a day easier and easier to get correct (subtracting 24 * 3600 * 1000 milliseconds is not always correct)."}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650450915,"creation_date":1650450915,"answer_id":71938167,"question_id":71938044,"body_markdown":"As far as I can see, this code obviously ignores the `- 24 * 3600 * 1000` because the expression `new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(new Date())` determines the value **before** you try to subtract one day ignoring the arithmetic that follows. It only considers the `new Date()`, which is today.\r\n\r\nYou should include the calculation before formatting, e.g.\r\n\r\n```lang-java\r\nnew SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(new Date(System.currentTimeMillis() - (24 * 3600 * 1000)))\r\n```\r\n\r\nIf you are on Java 8 or higher, I would use `java.time`, maybe like this:\r\n\r\n```lang-java\r\nLocalDate.now().minusDays(1).format(DateTimeFormatter.ofPattern(&quot;dd/MM/uuuu&quot;)\r\n```","title":"Substract one day of date in Jasper","body":"<p>As far as I can see, this code obviously ignores the <code>- 24 * 3600 * 1000</code> because the expression <code>new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(new Date())</code> determines the value <strong>before</strong> you try to subtract one day ignoring the arithmetic that follows. It only considers the <code>new Date()</code>, which is today.</p>\n<p>You should include the calculation before formatting, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(new Date(System.currentTimeMillis() - (24 * 3600 * 1000)))\n</code></pre>\n<p>If you are on Java 8 or higher, I would use <code>java.time</code>, maybe like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate.now().minusDays(1).format(DateTimeFormatter.ofPattern(&quot;dd/MM/uuuu&quot;)\n</code></pre>\n"}],"owner":{"account_id":25019082,"reputation":5,"user_id":18877938,"display_name":"drt966"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":903,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650464889,"accepted_answer_id":71938167,"answer_count":1,"score":0,"last_activity_date":1650464983,"creation_date":1650450416,"question_id":71938044,"body_markdown":"i have this code in my JasperReport like that `new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(new Date()) - 24 * 3600 * 1000` but it&#39;s not working, what i&#39;m trying is substract one day from today. But it&#39;s displaying the day of today like that\r\n\r\n    &lt;textFieldExpression&gt;&lt;![CDATA[&quot;Test: &quot; + new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(new Date()) - 24 * 3600 * 1000]]&gt;&lt;/textFieldExpression&gt;","title":"Substract one day of date in Jasper","body":"<p>i have this code in my JasperReport like that <code>new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(new Date()) - 24 * 3600 * 1000</code> but it's not working, what i'm trying is substract one day from today. But it's displaying the day of today like that</p>\n<pre><code>&lt;textFieldExpression&gt;&lt;![CDATA[&quot;Test: &quot; + new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(new Date()) - 24 * 3600 * 1000]]&gt;&lt;/textFieldExpression&gt;\n</code></pre>\n"},{"tags":["java","hapi","hl7-v2"],"comments":[{"owner":{"account_id":3089209,"reputation":8084,"user_id":2626313,"display_name":"xmojmr"},"score":0,"creation_date":1488200128,"post_id":42483066,"comment_id":72112146,"body_markdown":"I&#39;m not familiar with Hapi, but I&#39;d try `adtMsg.getPID().getPatientName(0).getFamilyName().getSurname().getValue()`","body":"I&#39;m not familiar with Hapi, but I&#39;d try <code>adtMsg.getPID().getPatientName(0).getFamilyName().getSurname&zwnj;&#8203;().getValue()</code>"},{"owner":{"account_id":9004482,"reputation":1035,"user_id":6711752,"accept_rate":40,"display_name":"Deepak Kumar"},"score":0,"creation_date":1488201856,"post_id":42483066,"comment_id":72113299,"body_markdown":"thanks @xmojmr !! I get it","body":"thanks @xmojmr !! I get it"}],"answers":[{"tags":[],"owner":{"account_id":9004482,"reputation":1035,"user_id":6711752,"accept_rate":40,"display_name":"Deepak Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650464560,"creation_date":1488202800,"answer_id":42487236,"question_id":42483066,"body_markdown":"I Solved it !!!&lt;br&gt;\r\nHere is my solution : \r\n\r\n    PID pid1 = adtMsg.getPID();\r\n    String id = pid.getPatientIdentifierList(0).getID().getValue();\r\n    System.out.println(&quot;PID : &quot;+id);\r\n    String last = pid1.getPatientName(0).getFamilyName().getSurname().getValue();\r\n    String first = pid1.getPatientName(0).getGivenName().getValue();\r\n    System.out.println(&quot;Patient Name : &quot;+first+&quot; &quot;+last);\r\n\r\n**output**\r\n\r\n    Decode : \r\n    ------------------\r\n    Message Type : ADT\r\n    Message Trigger : A01\r\n    PID : 123456\r\n    Patient Name : John Doe","title":"Read Patient Information from HL7 Standard Message","body":"<p>I Solved it !!!<br>\nHere is my solution :</p>\n<pre><code>PID pid1 = adtMsg.getPID();\nString id = pid.getPatientIdentifierList(0).getID().getValue();\nSystem.out.println(&quot;PID : &quot;+id);\nString last = pid1.getPatientName(0).getFamilyName().getSurname().getValue();\nString first = pid1.getPatientName(0).getGivenName().getValue();\nSystem.out.println(&quot;Patient Name : &quot;+first+&quot; &quot;+last);\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>Decode : \n------------------\nMessage Type : ADT\nMessage Trigger : A01\nPID : 123456\nPatient Name : John Doe\n</code></pre>\n"}],"owner":{"account_id":9004482,"reputation":1035,"user_id":6711752,"accept_rate":40,"display_name":"Deepak Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2344,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":42487236,"answer_count":1,"score":1,"last_activity_date":1650464560,"creation_date":1488190531,"question_id":42483066,"body_markdown":"For HL7(Health Level 7) I&#39;m using [Hapi][1]\r\n\r\n**Write Operation** :- \r\n\r\n         ADT_A01 adt = new ADT_A01();\r\n         adt.initQuickstart(&quot;ADT&quot;, &quot;A01&quot;, &quot;P&quot;);\r\n      \r\n          // Populate the MSH Segment\r\n          MSH mshSegment = adt.getMSH();\r\n          mshSegment.getSendingApplication().getNamespaceID().setValue(&quot;TestSendingSystem&quot;);\r\n          mshSegment.getSequenceNumber().setValue(&quot;123&quot;);\r\n          \r\n          // Populate the PID Segment\r\n          PID pid = adt.getPID(); \r\n          pid.getPatientName(0).getFamilyName().getSurname().setValue(&quot;Doe&quot;);\r\n          pid.getPatientName(0).getGivenName().setValue(&quot;John&quot;);\r\n          pid.getPatientIdentifierList(0).getID().setValue(&quot;123456&quot;);\r\n          \r\n          pid.getAdministrativeSex().setValue(&quot;M&quot;);\r\n          \r\n          pid.getPhoneNumberHome(0).getPhoneNumber().setValue(&quot;90000000000&quot;);\r\n          \r\n          pid.getPatientAddress(0).getStreetAddress().getStreetName().setValue(&quot;B201, Abc street&quot;);\r\n          pid.getPatientAddress(0).getCity().setValue(&quot;Noida&quot;);\r\n          pid.getPatientAddress(0).getStateOrProvince().setValue(&quot;UP&quot;);\r\n          pid.getPatientAddress(0).getCountry().setValue(&quot;India&quot;);\r\n  \r\n          // Now, let&#39;s encode the message and look at the output\r\n          HapiContext context = new DefaultHapiContext();\r\n          Parser parser = context.getPipeParser();\r\n          String encodedMessage = parser.encode(adt);\r\n          System.out.println(&quot;Printing ER7 Encoded Message:&quot;);\r\n          System.out.println(encodedMessage);\r\n\r\n**Ouput :**\r\n\r\n&gt; Printing ER7 Encoded Message:\r\nMSH|^~\\&amp;|TestSendingSystem||||20170227154106.754+0530||ADT^A01^ADT_A01|1301|P|2.4|123\r\nPID|||123456||Doe^John|||M|||&amp;B201, Abc street^^Noida^UP^^India||^^^^^^90000000000\r\n\r\n**Read Operation:**\r\n\r\n           HapiContext context2 = new DefaultHapiContext();\r\n           Parser p = context2.getGenericParser();\r\n           Message hapiMsg;\r\n           \r\n            try {\r\n              hapiMsg = p.parse(encodedMessage);\r\n            } catch (EncodingNotSupportedException e) {\r\n              return;\r\n            } catch (HL7Exception e) {\r\n              return;\r\n            }\r\n            \r\n          ADT_A01 adtMsg = (ADT_A01)hapiMsg;\r\n          MSH msh = adtMsg.getMSH();\r\n  \r\n         // Retrieve some data from the MSH segment\r\n         String msgType = msh.getMessageType().getMessageType().getValue();\r\n         String msgTrigger = msh.getMessageType().getTriggerEvent().getValue();\r\n \r\n         System.out.println(&quot;Decode : &quot;);\r\n         System.out.println(msgType + &quot; &quot; + msgTrigger);\r\n\r\n  **Output:**\r\n\r\n&gt; Decode : \r\nADT A01\r\n\r\nHow I get patient Information from this message.\r\nplease suggest me !!\r\nThanks\r\n\r\n\r\n  [1]: http://hl7api.sourceforge.net/","title":"Read Patient Information from HL7 Standard Message","body":"<p>For HL7(Health Level 7) I'm using <a href=\"http://hl7api.sourceforge.net/\" rel=\"nofollow noreferrer\">Hapi</a></p>\n\n<p><strong>Write Operation</strong> :- </p>\n\n<pre><code>     ADT_A01 adt = new ADT_A01();\n     adt.initQuickstart(\"ADT\", \"A01\", \"P\");\n\n      // Populate the MSH Segment\n      MSH mshSegment = adt.getMSH();\n      mshSegment.getSendingApplication().getNamespaceID().setValue(\"TestSendingSystem\");\n      mshSegment.getSequenceNumber().setValue(\"123\");\n\n      // Populate the PID Segment\n      PID pid = adt.getPID(); \n      pid.getPatientName(0).getFamilyName().getSurname().setValue(\"Doe\");\n      pid.getPatientName(0).getGivenName().setValue(\"John\");\n      pid.getPatientIdentifierList(0).getID().setValue(\"123456\");\n\n      pid.getAdministrativeSex().setValue(\"M\");\n\n      pid.getPhoneNumberHome(0).getPhoneNumber().setValue(\"90000000000\");\n\n      pid.getPatientAddress(0).getStreetAddress().getStreetName().setValue(\"B201, Abc street\");\n      pid.getPatientAddress(0).getCity().setValue(\"Noida\");\n      pid.getPatientAddress(0).getStateOrProvince().setValue(\"UP\");\n      pid.getPatientAddress(0).getCountry().setValue(\"India\");\n\n      // Now, let's encode the message and look at the output\n      HapiContext context = new DefaultHapiContext();\n      Parser parser = context.getPipeParser();\n      String encodedMessage = parser.encode(adt);\n      System.out.println(\"Printing ER7 Encoded Message:\");\n      System.out.println(encodedMessage);\n</code></pre>\n\n<p><strong>Ouput :</strong></p>\n\n<blockquote>\n  <p>Printing ER7 Encoded Message:\n  MSH|^~\\&amp;|TestSendingSystem||||20170227154106.754+0530||ADT^A01^ADT_A01|1301|P|2.4|123\n  PID|||123456||Doe^John|||M|||&amp;B201, Abc street^^Noida^UP^^India||^^^^^^90000000000</p>\n</blockquote>\n\n<p><strong>Read Operation:</strong></p>\n\n<pre><code>       HapiContext context2 = new DefaultHapiContext();\n       Parser p = context2.getGenericParser();\n       Message hapiMsg;\n\n        try {\n          hapiMsg = p.parse(encodedMessage);\n        } catch (EncodingNotSupportedException e) {\n          return;\n        } catch (HL7Exception e) {\n          return;\n        }\n\n      ADT_A01 adtMsg = (ADT_A01)hapiMsg;\n      MSH msh = adtMsg.getMSH();\n\n     // Retrieve some data from the MSH segment\n     String msgType = msh.getMessageType().getMessageType().getValue();\n     String msgTrigger = msh.getMessageType().getTriggerEvent().getValue();\n\n     System.out.println(\"Decode : \");\n     System.out.println(msgType + \" \" + msgTrigger);\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<blockquote>\n  <p>Decode : \n  ADT A01</p>\n</blockquote>\n\n<p>How I get patient Information from this message.\nplease suggest me !!\nThanks</p>\n"},{"tags":["java","parameter-passing","pass-by-reference"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1650462438,"post_id":71940766,"comment_id":127122193,"body_markdown":"You’re confusing the local reference with referenced object. You can modify the *content* of the local reference all you want—with the caveat that doing so can be confusing. Note that `addNodes` isn’t really doing what you think, in addition to setting each new node’s `next` to the node passed in, which seems incorrect. It might be worth taking a step back and tracing through what your code is (a) actually doing, and (b) making sure you understand what it’s *supposed* to be doing.","body":"You’re confusing the local reference with referenced object. You can modify the <i>content</i> of the local reference all you want—with the caveat that doing so can be confusing. Note that <code>addNodes</code> isn’t really doing what you think, in addition to setting each new node’s <code>next</code> to the node passed in, which seems incorrect. It might be worth taking a step back and tracing through what your code is (a) actually doing, and (b) making sure you understand what it’s <i>supposed</i> to be doing."},{"owner":{"account_id":24133017,"reputation":1,"user_id":18847787,"display_name":"rohit"},"score":0,"creation_date":1650462659,"post_id":71940766,"comment_id":127122297,"body_markdown":"@DaveNewton, yeah, you are right. I will check. I wanted to add some zeros to the prefix","body":"@DaveNewton, yeah, you are right. I will check. I wanted to add some zeros to the prefix"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1650462815,"post_id":71940766,"comment_id":127122381,"body_markdown":"`Node nll2 = new Node();\n   Node nll1 = new Node();\n   balance(ll1,ll2);`  the `balance(ll1,ll2);` call wont compile, as no variables with the names `ll1` and `ll2` dont exist there","body":"<code>Node nll2 = new Node();    Node nll1 = new Node();    balance(ll1,ll2);</code>  the <code>balance(ll1,ll2);</code> call wont compile, as no variables with the names <code>ll1</code> and <code>ll2</code> dont exist there"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1650468117,"post_id":71940766,"comment_id":127124916,"body_markdown":"Are you trying to implement a singly-linked-list?","body":"Are you trying to implement a singly-linked-list?"}],"answers":[{"tags":[],"owner":{"account_id":15262486,"reputation":438,"user_id":11012105,"display_name":"aleck099"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650462452,"creation_date":1650462452,"answer_id":71940879,"question_id":71940766,"body_markdown":"Function parameter passing is a one-way operation, which means you can&#39;t edit the parameter passed to you\r\n\r\nBut when what you need to edit is **NOT** in the parameter list, that becomes possible\r\n\r\nFor example, create a wrapper class:\r\n```\r\npublic class NodePair {\r\n  public final Node n1;\r\n  public final Node n2;\r\n  public NodePair(Node a, Node b) { n1 = a; n2 = b; }\r\n}\r\n```\r\n\r\nWhen this gets passed to you, you can&#39;t modify the pair, but you can modify n1 and n2 through the pair","title":"Modify the actual variable passed to a function","body":"<p>Function parameter passing is a one-way operation, which means you can't edit the parameter passed to you</p>\n<p>But when what you need to edit is <strong>NOT</strong> in the parameter list, that becomes possible</p>\n<p>For example, create a wrapper class:</p>\n<pre><code>public class NodePair {\n  public final Node n1;\n  public final Node n2;\n  public NodePair(Node a, Node b) { n1 = a; n2 = b; }\n}\n</code></pre>\n<p>When this gets passed to you, you can't modify the pair, but you can modify n1 and n2 through the pair</p>\n"}],"owner":{"account_id":24133017,"reputation":1,"user_id":18847787,"display_name":"rohit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650464519,"creation_date":1650462040,"question_id":71940766,"body_markdown":"I have the following code to reassign the variable `ll1` inside the `balance` function. But this is not visible in the main function. This is probably because it&#39;s the local copy that is getting reassigned. The original memory location remains intact.  \r\n\r\nHow could I modify it so that the actual `ll1` gets modified?\r\n\r\n    public static void main(String[] args) {\r\n       Node ll2 = new Node();\r\n       Node ll1 = new Node();\r\n       balance(ll1,ll2);\r\n    }\r\n    private static void balance(Node ll1, Node ll2) {\r\n       int size1=size(ll1);\r\n       int size2=size(ll2);\r\n       if(size1==size2){\r\n\r\n       } else if(size1&gt;size2){\r\n           // add size1-size2 zeros as prefix to ll2\r\n           ll2=addNodes(ll2,size1-size2);\r\n\r\n       } else if(size1&lt;size2){\r\n           // add size2-size1 zeros as pre\r\n        ll1=addNodes(ll1,size2-size1);\r\n       }\r\n    }\r\n\r\n    private static Node addNodes(Node node, int num) {\r\n        int count = 0;\r\n        Node node1 = null;\r\n        Node node2 = node;\r\n        while (count &lt; num) {\r\n            node1 = new Node();\r\n            node1.value = 0;\r\n            node1.next = node2;\r\n            node2 = node1;\r\n            count++;\r\n        }\r\n        return node1;\r\n    }","title":"Modify the actual variable passed to a function","body":"<p>I have the following code to reassign the variable <code>ll1</code> inside the <code>balance</code> function. But this is not visible in the main function. This is probably because it's the local copy that is getting reassigned. The original memory location remains intact.</p>\n<p>How could I modify it so that the actual <code>ll1</code> gets modified?</p>\n<pre><code>public static void main(String[] args) {\n   Node ll2 = new Node();\n   Node ll1 = new Node();\n   balance(ll1,ll2);\n}\nprivate static void balance(Node ll1, Node ll2) {\n   int size1=size(ll1);\n   int size2=size(ll2);\n   if(size1==size2){\n\n   } else if(size1&gt;size2){\n       // add size1-size2 zeros as prefix to ll2\n       ll2=addNodes(ll2,size1-size2);\n\n   } else if(size1&lt;size2){\n       // add size2-size1 zeros as pre\n    ll1=addNodes(ll1,size2-size1);\n   }\n}\n\nprivate static Node addNodes(Node node, int num) {\n    int count = 0;\n    Node node1 = null;\n    Node node2 = node;\n    while (count &lt; num) {\n        node1 = new Node();\n        node1.value = 0;\n        node1.next = node2;\n        node2 = node1;\n        count++;\n    }\n    return node1;\n}\n</code></pre>\n"},{"tags":["java","database","caching"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1650464678,"post_id":71941345,"comment_id":127123299,"body_markdown":"My suggestion would be to look for an existing cache implementation.  **BUT** .. don&#39;t ask us to recommend one ... because that is off-topic.   In other words, Google for some possible libraries and do some more detailed research on them.  Then make up your mind which one is best suited to your requirements.","body":"My suggestion would be to look for an existing cache implementation.  <b>BUT</b> .. don&#39;t ask us to recommend one ... because that is off-topic.   In other words, Google for some possible libraries and do some more detailed research on them.  Then make up your mind which one is best suited to your requirements."},{"owner":{"account_id":4170847,"reputation":267,"user_id":3418642,"accept_rate":40,"display_name":"Guy Hudara"},"score":0,"creation_date":1650780813,"post_id":71941345,"comment_id":127199790,"body_markdown":"Thanks Stephen for your answer. But, I am not looking for a cache implementation, since cache will &quot;evict&quot; my data. I need to save the data before &quot;evicting&quot; it.","body":"Thanks Stephen for your answer. But, I am not looking for a cache implementation, since cache will &quot;evict&quot; my data. I need to save the data before &quot;evicting&quot; it."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1650781796,"post_id":71941345,"comment_id":127199936,"body_markdown":"Well there are existing libraries that will do that too. Google for &quot;persistent cache&quot;.","body":"Well there are existing libraries that will do that too. Google for &quot;persistent cache&quot;."}],"owner":{"account_id":4170847,"reputation":267,"user_id":3418642,"accept_rate":40,"display_name":"Guy Hudara"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650464408,"creation_date":1650464408,"question_id":71941345,"body_markdown":"I have a lot of objects which are used by my algorithm. Saving all these objects in memory is not feasible. How can I implement in java a module which can be used as a key-value &quot;database&quot; with a predefined memory usage limitation.\r\n\r\nI am thinking of a cache-like module which holds these objects in-memory, like a simple cache, but instead of evicting the objects, saving them in the file system, and not loosing them (I cannot loose these objects during the execution on the algorithm).\r\n\r\nWhen the algorithm request a specific object which does not exist in memory, the module will fetch the object from the file-system.\r\n\r\nThese objects should be persistent for later executions of the algorithm.\r\n\r\nAny suggestions about best-practices how to implement such module?","title":"How to implement a persistent cache-like java module","body":"<p>I have a lot of objects which are used by my algorithm. Saving all these objects in memory is not feasible. How can I implement in java a module which can be used as a key-value &quot;database&quot; with a predefined memory usage limitation.</p>\n<p>I am thinking of a cache-like module which holds these objects in-memory, like a simple cache, but instead of evicting the objects, saving them in the file system, and not loosing them (I cannot loose these objects during the execution on the algorithm).</p>\n<p>When the algorithm request a specific object which does not exist in memory, the module will fetch the object from the file-system.</p>\n<p>These objects should be persistent for later executions of the algorithm.</p>\n<p>Any suggestions about best-practices how to implement such module?</p>\n"},{"tags":["java","file","process","filesystemexception"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1650392405,"post_id":71929515,"comment_id":127102951,"body_markdown":"Can you reproduce this with a [mcve]? That&#39;s too much code for us to wade through, and if you try to code a minimal sample that reproduces the problem you&#39;ll likely find the solution yourself.  BTW, the answer is either a resource leak (not closing a file) and/or some other process has the file open.  SysInternals Process Explorer can search open file handles.","body":"Can you reproduce this with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? That&#39;s too much code for us to wade through, and if you try to code a minimal sample that reproduces the problem you&#39;ll likely find the solution yourself.  BTW, the answer is either a resource leak (not closing a file) and/or some other process has the file open.  SysInternals Process Explorer can search open file handles."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1650392413,"post_id":71929515,"comment_id":127102954,"body_markdown":"just assume your computer can check whether there are some obscure processes running that use that file","body":"just assume your computer can check whether there are some obscure processes running that use that file"},{"owner":{"account_id":7412937,"reputation":191,"user_id":5639756,"accept_rate":0,"display_name":"Asghabard"},"score":0,"creation_date":1650398270,"post_id":71929515,"comment_id":127104765,"body_markdown":"@JimGarrison removed a few methods copy-pasted from personal libraries - after I confirmed they were not the cause of the error.","body":"@JimGarrison removed a few methods copy-pasted from personal libraries - after I confirmed they were not the cause of the error."},{"owner":{"account_id":7412937,"reputation":191,"user_id":5639756,"accept_rate":0,"display_name":"Asghabard"},"score":0,"creation_date":1650398375,"post_id":71929515,"comment_id":127104799,"body_markdown":"I have already checked resource leaks: of course it is always possible I missed one, but I am reasonably sure that is not the problem. Following your suggestion, I installed and used SysInternals Process Explorer, but unfortunately the JVM is not using the files *at all* when Eclipse is returning an exception, so no dice with it.","body":"I have already checked resource leaks: of course it is always possible I missed one, but I am reasonably sure that is not the problem. Following your suggestion, I installed and used SysInternals Process Explorer, but unfortunately the JVM is not using the files <i>at all</i> when Eclipse is returning an exception, so no dice with it."}],"answers":[{"tags":[],"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650464344,"creation_date":1650464344,"answer_id":71941337,"question_id":71929515,"body_markdown":"I ran your example, I don&#39;t see such error. \r\n\r\nTry to run this example yourself, if an error is still there - it is IDE/OS issue. \r\n\r\nIf not - the issue is with the code you have not provided (like file reading part, or part where you check the file if it has to be moved, or any other you have not mentioned)","title":"Me and Eclipse do not agree on how many processes are using my files","body":"<p>I ran your example, I don't see such error.</p>\n<p>Try to run this example yourself, if an error is still there - it is IDE/OS issue.</p>\n<p>If not - the issue is with the code you have not provided (like file reading part, or part where you check the file if it has to be moved, or any other you have not mentioned)</p>\n"}],"owner":{"account_id":7412937,"reputation":191,"user_id":5639756,"accept_rate":0,"display_name":"Asghabard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650464344,"creation_date":1650392181,"question_id":71929515,"body_markdown":"Seems a bizarre question, but me and Eclipse have divergent opinions about it. I continue to get the error message `java.nio.file.FileSystemException: The process cannot access the file because it is being used by another process` even if the `main()` method should have only one thread, one process.\r\n\r\nGiven a list of files, my program essentially does two things: \t\r\n- For each and every file, creates a .txt file with information about the file (the .txt is called a &quot;substitute&quot;)\r\n- For each and every file, the file is moved into another directory.\r\n\r\nIf I use comments to execute first the first thing, then the second, nothing untoward happens. The moment in which I try doing both things, one after the other, moving the files returns the aforementioned exception. I have no idea why it happens or how to put an end to it. I hope someone here has ideas. \r\n\r\n---------------\r\n\r\nHere the code. I included all the methods used, including a few written for my custom libraries (usually added to deal with exceptions).\r\n\r\nEdit: simplified the code for minimal reproducible example\r\n\r\n```\r\n\tpublic static void main(String[] args) {\r\n\t\tFile[] files = new File[] {\r\n\t\t//\t\tnew File(&quot;&quot;),\r\n\t\t};\r\n\t\tFile directoryWhereToPutSubstitutes = new File(&quot;&quot;);\r\n\t\tFile directoryWhereToMoveTheOriginalFiles = new File(&quot;&quot;);\r\n\t\t\r\n\t\tcreateSubstiteFileForCancelledWav( \r\n\t\t\t\tdirectoryWhereToPutSubstitutes,\r\n\t\t\t\tfiles,\r\n\t\t\t\t&quot;The stock appended message to append to the content of each and every substitute. It specifies why the file needs a substitute. &quot;\r\n\t\t\t\t);\r\n\t\t//\t*/\t// this method gives problems at the following one\r\n\t\t// \t\t// the error returned is:\r\n//\t\tjava.nio.file.FileSystemException: originalFile -&gt; fileDestination: Impossibile accedere al file. Il file &#232; utilizzato da un altro processo.\r\n\t\t\t\t\t// Error message in english:\tThe process cannot access the file because it is being used by another process\r\n\t\t\r\n\t\t\r\n\t\t  \r\n\t\t// TODO | Moving useless file\r\n\t\tfor(File file : files)\r\n\t\t\t{\r\n\t\t\tSystem.out.println(&quot;MOVING &quot; + file.getAbsolutePath());\r\n\t\t\t/*FileManager.*/moveFile(file, directoryWhereToMoveTheOriginalFiles);\r\n\t\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t// =====================================\r\n\t\t// TODO | First method\r\n\t\r\n\tpublic static void createSubstiteFileForCancelledWav(File directory, File[] files, String appendedMessage) {\r\n\t\tint recordNumber, endIndex;\r\n\t\tFile substitute;\r\n\t\tMatcher matcher;\r\n\t\tfor( File file : files )\r\n\t\t\tif( file.getName().endsWith(&quot;.wav&quot;) )\r\n\t\t\t\t{\r\n\t\t\t\t// Check if the file must be substituted\r\n\t\t\t\t\r\n\t\t\t\t// If it must be substitutes...\r\n\t\t\t\t\r\n\t\t\t\t// ...create a txt file with the appropriate name\r\n\t\t\t\tString nameSubstituteFile = file.getName().substring(0, file.getName().lastIndexOf(&quot;.&quot;)) + &quot; - substitute.txt&quot;;\r\n\t\t\t\t\r\n\t\t\t\t// ...and put the information of the file in the \r\n\t\t\t\tcreateFileAndWriteTextInIt(\r\n\t\t\t\t\t\tdirectory, \r\n\t\t\t\t\t\tnameSubstituteFile, \r\n\t\t\t\t\t\trecordInformation(file, appendedMessage)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tpublic static void createFileAndWriteTextInIt(File directory, String fileName, String text) {\r\n\t\tFile file = directory.toPath().resolve(fileName).toFile();\r\n\t\t\r\n\t\t/*FileManager.*/ // createNewFile_nio(file);\r\n\t\tif( !Files.notExists(file.toPath(), LinkOption.NOFOLLOW_LINKS)  )\r\n\t\t\tSystem.out.println(&quot;THE DESTINATION FILE (&quot; + file.getAbsolutePath() + &quot;) ALREADY EXISTS&quot;);\r\n\t\telse if( file.isFile() )\r\n\t\t\t{\r\n\t\t\tSystem.out.println(&quot;Trying to create the file &quot; + file.getAbsolutePath() + &quot;...&quot;);\r\n\t\t\t// Creates the directories in the file pathname that still do not exist\r\n\t\t\ttry {\tFiles.createDirectories(file.toPath().getParent());\t\t} catch (Exception e) {\t\t\t\te.printStackTrace();\t\t}\r\n\t\t\t// Creates the file itself\r\n\t\t\ttry {\tFiles.createFile(file.toPath());\t\t} catch (Exception e) {\t\t\t\te.printStackTrace();\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\tPrintStream stream = null;\r\n\t\ttry {\tstream = new PrintStream(file);\r\n\t\t\t} catch (FileNotFoundException e) {\t\t\te.printStackTrace();\t\t}\r\n\t\tstream.println(text);\r\n\t\tstream.close();\r\n\t\t\r\n\t}\r\n\tpublic static String recordInformation(File file, String appendedMessage) {\r\n\t\tStringBuffer support = new StringBuffer();\r\n\t\t\r\n\t\tsupport.append(/*TestLibraries.*/getFileInfo(file)).append(&quot;\\n&quot;);\r\n\t\tsupport.append(&quot;Record line:&quot;).append(&quot;\\n&quot;);\r\n\t\tsupport.append(\r\n\t\t\t\t/*registerLine(isTAC, recordNumber)*/\r\n\t\t\t\t&quot;In my complete program, the files are not casual: each has a record number, clearly identifiable in the file name, &quot;\r\n\t\t\t\t+ &quot;and a record line stored in a .txt database. The registerLine() method seeks the record line from the record number, &quot;\r\n\t\t\t\t+ &quot;but since neither the variable file nor the actual file are involved in any way, shape, or form, &quot;\r\n\t\t\t\t+ &quot;said method has been omitted in this example. &quot;\r\n\t\t\t\t).append(&quot;\\n&quot;);\r\n\t\tsupport.append(&quot;\\n &quot; + appendedMessage).append(&quot;\\n&quot;);\r\n\t\t\r\n\t\treturn support.toString();\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t// TODO | Legacy methods from personal libraries - for method 1\r\n\t\r\n\tpublic static String getFileInfo(File file) {\r\n\t\tStringBuffer support = new StringBuffer();\r\n\t\t\r\n\t\tBasicFileAttributes attrs;\r\n\t\tString creationDate = null, lastModificationDate = null, lastAccessDate = null;\r\n\t\ttry {\r\n\t\t\tattrs = Files.readAttributes(file.toPath(), BasicFileAttributes.class);\r\n\t\t\tSimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH-mm-ss&quot;);\r\n\t\t\tFileTime time;\r\n\t\t\t\r\n\t\t\ttime = attrs.creationTime();\r\n\t\t\tcreationDate = simpleDateFormat.format( new Date( time.toMillis() ) );\r\n\t\t\t\r\n\t\t\ttime = attrs.lastModifiedTime();\r\n\t\t\tlastModificationDate = simpleDateFormat.format( new Date( time.toMillis() ) );\r\n\t\t\t\r\n\t\t\ttime = attrs.lastAccessTime();\r\n\t\t\tlastAccessDate = simpleDateFormat.format( new Date( time.toMillis() ) );\r\n\t\t\t\r\n\t\t\t} catch (UnsupportedOperationException e) {\t\te.printStackTrace();\t\t}\r\n\t\t\t  catch (SecurityException e) {\t\t\t\t\te.printStackTrace();\t\t}\r\n\t\t\t  catch (IOException e) {\t\t\t\t\t\te.printStackTrace();\t\t}\r\n\t\t\r\n\t\tsupport.append(&quot;Name of file: \\t\\t&quot; \t\t\t+ file.getName()\t\t\t\t\t\t\t\t\t\t+ &quot;\\n&quot;\t);\r\n\t\tsupport.append(&quot;Pathname of file: \\t\\t&quot; \t\t+ file.getAbsolutePath()\t\t\t\t\t\t\t\t+ &quot;\\n&quot;\t);\r\n\t\tsupport.append(&quot;Creation date: \\t\\t&quot; \t\t\t+ creationDate\t\t\t+ &quot;\\n&quot;\t);\r\n\t\tsupport.append(&quot;Last modification date: \\t&quot; \t+ lastModificationDate\t+ &quot;\\n&quot;\t);\r\n\t\tsupport.append(&quot;Last access date: \\t\\t&quot; \t\t+ lastAccessDate\t\t\t+ &quot;\\n&quot;\t);\r\n\t\t\r\n\t\tif( file.getName().endsWith(&quot;.wav&quot;) )\r\n\t\t\t{\r\n\t\t\tsupport.append(&quot;File type: \\taudio\\n&quot;);\r\n\t\t\t\r\n\t\t\tdouble  seconds = /*AudioInformation.*/getDurationOfWavInSeconds(file),\r\n\t\t\t\t\tminutes = seconds / 60,\t\t// we obtain the duration in minutes rounded down\r\n\t\t\t\t\thours = minutes / 60;\t\t// we obtain the duration in hours rounded down\r\n\t\t\t\r\n\t\t\tsupport.append(&quot;Duration: \\t&quot; \r\n\t\t\t\t\t+ Integer.toString((int) hours) + &quot;h&quot;\r\n\t\t\t\t\t+ Integer.toString((int) minutes %60) + &quot;m&quot;\t\t\t\t// we obtain the number displayed in the &#39;minutes&#39; section of the duration\r\n\t\t\t\t\t+ Integer.toString(((int) seconds)%60  ) + &quot;s \\n&quot;\t\t// we obtain the number displayed in the &#39;second&#39; section of the duration\r\n\t\t\t\t\t);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tString[] lastMod = lastModificationDate\r\n\t\t\t\t\t.split(&quot; &quot;)[1].split(&quot;-&quot;);\r\n\t\t\tlong lastModFromMidnight = Integer.valueOf(lastMod[0]) *60*60 \r\n\t\t\t\t\t\t\t\t\t\t+ Integer.valueOf(lastMod[1]) *60 \r\n\t\t\t\t\t\t\t\t\t\t+ Integer.valueOf(lastMod[2]) ;\r\n\t\t\t\r\n\t\t\t// Gets the number of seconds from midnight that this file has been started (obtained from: seconds file creation - seconds file length)\r\n\t\t\tseconds = lastModFromMidnight - seconds;\r\n\t\t//\tSystem.out.println(&quot;File: &quot; + file.getName() + &quot; \\n\\t lastModFromMidnight = &quot; + lastModFromMidnight + &quot;, seconds = &quot; + seconds);\r\n\t\t\t// Converts the above variable in the h-m-s format\r\n\t\t\tminutes = seconds / 60;\r\n\t\t\thours = minutes / 60;\r\n\t\t\tseconds = seconds % 60;\r\n\t\t\tminutes = minutes % 60;\r\n\t\t\t\r\n\t\t\tsupport.append(&quot;Estimated hour of record start: \\t&quot; \r\n\t\t\t\t\t+ Integer.toString((int) hours) + &quot;-&quot;\r\n\t\t\t\t\t+ Integer.toString((int) minutes) + &quot;-&quot;\r\n\t\t\t\t\t+ Integer.toString(((int) seconds)  ) + &quot; \\n&quot;\r\n\t\t\t\t\t);\r\n\t\t\t}\r\n\t\t\r\n\t\treturn support.toString();\r\n\t}\r\n\tpublic static double getDurationOfWavInSeconds(File file){\r\n\t\tAudioInputStream stream = null;\r\n\t\ttry {\r\n\t\t\tstream = AudioSystem.getAudioInputStream(file);\r\n\t\t\tAudioFormat format = stream.getFormat();\r\n\t\t\tstream.close();\r\n\t\t\treturn file.length() / format.getSampleRate() / (format.getSampleSizeInBits() / 8.0) / format.getChannels();\r\n\t\t\t}\r\n\t\tcatch (UnsupportedAudioFileException e) \r\n\t\t\t{\t\tSystem.err.println(&quot;File: &quot; + file.getAbsolutePath()); \te.printStackTrace(); \t\t}\r\n\t\tcatch (IOException e) \r\n\t\t\t{\t\tSystem.err.println(&quot;File: &quot; + file.getAbsolutePath()); \te.printStackTrace(); \t\t}\r\n\t\tfinally \r\n\t\t\t{\t\tif(stream!=null)\t\r\n\t\t\t\t\t\ttry { stream.close(); } \r\n\t\t\t\t\t\tcatch (IOException ex) { ex.printStackTrace(); }\t\t\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\t\r\n\t\r\n\t// =====================================\r\n\t\t// TODO | Second method - Legacy methods from personal libraries \r\n\t\r\n\tpublic static File moveFile(File toBeMoved, File destination, CopyOption... options) {\r\n\t\treturn moveFile(toBeMoved, destination, toBeMoved.getName(), options);\r\n\t}\r\n\tpublic static File moveFile(File toBeMoved, File directory, String newName, CopyOption... options) {\r\n\t\t// Checking conditions\r\n\t\tif( directory != null &amp;&amp; directory.exists() &amp;&amp; directory.isDirectory() )\r\n\t\t\t{\r\n\t\t\tboolean canMove = true;\r\n\t\t\tfor(File fileInDestination : directory.listFiles())\r\n\t\t\t\tif( fileInDestination.getName().equals(newName) )\r\n\t\t\t\t\t{\r\n\t\t\t\t\tcanMove = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\tif( canMove )\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Executing action\r\n\t\t\t\t\tFiles.move(\t\t\t// can cause java.nio.file.FileSystemException: origin -&gt; destin: \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t//\t\tImpossibile accedere al file. Il file &#232; utilizzato da un altro processo.\r\n\t\t\t\t//\tFiles.copy(\r\n\t\t\t\t\t\tPaths.get(toBeMoved.getAbsolutePath()), \r\n\t\t\t\t\t\tPaths.get(directory.getAbsolutePath()).resolve(newName),\r\n\t\t\t\t\t\toptions\r\n\t\t\t\t\t\t);\r\n\t\t\t\t//\tFiles.delete(toBeMoved.toPath());\r\n\t\t\t\t\treturn Paths.get(directory.getAbsolutePath()).resolve(toBeMoved.getName()).toFile();\r\n\t\t\t\t\t} catch (NoSuchFileException e) {\t\t\te.printStackTrace();\t\t\t}\r\n\t\t\t\t\t  catch (DirectoryNotEmptyException e) {\te.printStackTrace();\t\t\t}\r\n\t\t\t\t\t  catch (SecurityException e) {\t\t\t\te.printStackTrace();\t  \t\t}\r\n\t\t\t\t\t  catch (FileSystemException e) {\t\t\te.printStackTrace();\r\n\t\t\t\t\t  \t\t\t\t\t\t\t\t\t\t\t// The following lines have been added so to better analyze what the problem is... with little to no success\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSystem.err.println(&quot;Reason for failure:\\t&quot; + e.getReason()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ &quot;\\nWhole message:&quot; + e.getMessage());\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tString s = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ts.charAt(0);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t  catch (IOException e) {\t\t\t\t\te.printStackTrace();\t\t\t}\r\n\t\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t\r\n```\r\n","title":"Me and Eclipse do not agree on how many processes are using my files","body":"<p>Seems a bizarre question, but me and Eclipse have divergent opinions about it. I continue to get the error message <code>java.nio.file.FileSystemException: The process cannot access the file because it is being used by another process</code> even if the <code>main()</code> method should have only one thread, one process.</p>\n<p>Given a list of files, my program essentially does two things:</p>\n<ul>\n<li>For each and every file, creates a .txt file with information about the file (the .txt is called a &quot;substitute&quot;)</li>\n<li>For each and every file, the file is moved into another directory.</li>\n</ul>\n<p>If I use comments to execute first the first thing, then the second, nothing untoward happens. The moment in which I try doing both things, one after the other, moving the files returns the aforementioned exception. I have no idea why it happens or how to put an end to it. I hope someone here has ideas.</p>\n<hr />\n<p>Here the code. I included all the methods used, including a few written for my custom libraries (usually added to deal with exceptions).</p>\n<p>Edit: simplified the code for minimal reproducible example</p>\n<pre><code>    public static void main(String[] args) {\n        File[] files = new File[] {\n        //      new File(&quot;&quot;),\n        };\n        File directoryWhereToPutSubstitutes = new File(&quot;&quot;);\n        File directoryWhereToMoveTheOriginalFiles = new File(&quot;&quot;);\n        \n        createSubstiteFileForCancelledWav( \n                directoryWhereToPutSubstitutes,\n                files,\n                &quot;The stock appended message to append to the content of each and every substitute. It specifies why the file needs a substitute. &quot;\n                );\n        //  */  // this method gives problems at the following one\n        //      // the error returned is:\n//      java.nio.file.FileSystemException: originalFile -&gt; fileDestination: Impossibile accedere al file. Il file è utilizzato da un altro processo.\n                    // Error message in english:    The process cannot access the file because it is being used by another process\n        \n        \n          \n        // TODO | Moving useless file\n        for(File file : files)\n            {\n            System.out.println(&quot;MOVING &quot; + file.getAbsolutePath());\n            /*FileManager.*/moveFile(file, directoryWhereToMoveTheOriginalFiles);\n            }\n        \n        \n    }\n    \n    // =====================================\n        // TODO | First method\n    \n    public static void createSubstiteFileForCancelledWav(File directory, File[] files, String appendedMessage) {\n        int recordNumber, endIndex;\n        File substitute;\n        Matcher matcher;\n        for( File file : files )\n            if( file.getName().endsWith(&quot;.wav&quot;) )\n                {\n                // Check if the file must be substituted\n                \n                // If it must be substitutes...\n                \n                // ...create a txt file with the appropriate name\n                String nameSubstituteFile = file.getName().substring(0, file.getName().lastIndexOf(&quot;.&quot;)) + &quot; - substitute.txt&quot;;\n                \n                // ...and put the information of the file in the \n                createFileAndWriteTextInIt(\n                        directory, \n                        nameSubstituteFile, \n                        recordInformation(file, appendedMessage)\n                        );\n                }\n    }\n    \n    \n    \n    \n    public static void createFileAndWriteTextInIt(File directory, String fileName, String text) {\n        File file = directory.toPath().resolve(fileName).toFile();\n        \n        /*FileManager.*/ // createNewFile_nio(file);\n        if( !Files.notExists(file.toPath(), LinkOption.NOFOLLOW_LINKS)  )\n            System.out.println(&quot;THE DESTINATION FILE (&quot; + file.getAbsolutePath() + &quot;) ALREADY EXISTS&quot;);\n        else if( file.isFile() )\n            {\n            System.out.println(&quot;Trying to create the file &quot; + file.getAbsolutePath() + &quot;...&quot;);\n            // Creates the directories in the file pathname that still do not exist\n            try {   Files.createDirectories(file.toPath().getParent());     } catch (Exception e) {             e.printStackTrace();        }\n            // Creates the file itself\n            try {   Files.createFile(file.toPath());        } catch (Exception e) {             e.printStackTrace();        }\n            }\n        \n        PrintStream stream = null;\n        try {   stream = new PrintStream(file);\n            } catch (FileNotFoundException e) {         e.printStackTrace();        }\n        stream.println(text);\n        stream.close();\n        \n    }\n    public static String recordInformation(File file, String appendedMessage) {\n        StringBuffer support = new StringBuffer();\n        \n        support.append(/*TestLibraries.*/getFileInfo(file)).append(&quot;\\n&quot;);\n        support.append(&quot;Record line:&quot;).append(&quot;\\n&quot;);\n        support.append(\n                /*registerLine(isTAC, recordNumber)*/\n                &quot;In my complete program, the files are not casual: each has a record number, clearly identifiable in the file name, &quot;\n                + &quot;and a record line stored in a .txt database. The registerLine() method seeks the record line from the record number, &quot;\n                + &quot;but since neither the variable file nor the actual file are involved in any way, shape, or form, &quot;\n                + &quot;said method has been omitted in this example. &quot;\n                ).append(&quot;\\n&quot;);\n        support.append(&quot;\\n &quot; + appendedMessage).append(&quot;\\n&quot;);\n        \n        return support.toString();\n    }\n    \n    \n    \n    // TODO | Legacy methods from personal libraries - for method 1\n    \n    public static String getFileInfo(File file) {\n        StringBuffer support = new StringBuffer();\n        \n        BasicFileAttributes attrs;\n        String creationDate = null, lastModificationDate = null, lastAccessDate = null;\n        try {\n            attrs = Files.readAttributes(file.toPath(), BasicFileAttributes.class);\n            SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH-mm-ss&quot;);\n            FileTime time;\n            \n            time = attrs.creationTime();\n            creationDate = simpleDateFormat.format( new Date( time.toMillis() ) );\n            \n            time = attrs.lastModifiedTime();\n            lastModificationDate = simpleDateFormat.format( new Date( time.toMillis() ) );\n            \n            time = attrs.lastAccessTime();\n            lastAccessDate = simpleDateFormat.format( new Date( time.toMillis() ) );\n            \n            } catch (UnsupportedOperationException e) {     e.printStackTrace();        }\n              catch (SecurityException e) {                 e.printStackTrace();        }\n              catch (IOException e) {                       e.printStackTrace();        }\n        \n        support.append(&quot;Name of file: \\t\\t&quot;             + file.getName()                                        + &quot;\\n&quot;  );\n        support.append(&quot;Pathname of file: \\t\\t&quot;         + file.getAbsolutePath()                                + &quot;\\n&quot;  );\n        support.append(&quot;Creation date: \\t\\t&quot;            + creationDate          + &quot;\\n&quot;  );\n        support.append(&quot;Last modification date: \\t&quot;     + lastModificationDate  + &quot;\\n&quot;  );\n        support.append(&quot;Last access date: \\t\\t&quot;         + lastAccessDate            + &quot;\\n&quot;  );\n        \n        if( file.getName().endsWith(&quot;.wav&quot;) )\n            {\n            support.append(&quot;File type: \\taudio\\n&quot;);\n            \n            double  seconds = /*AudioInformation.*/getDurationOfWavInSeconds(file),\n                    minutes = seconds / 60,     // we obtain the duration in minutes rounded down\n                    hours = minutes / 60;       // we obtain the duration in hours rounded down\n            \n            support.append(&quot;Duration: \\t&quot; \n                    + Integer.toString((int) hours) + &quot;h&quot;\n                    + Integer.toString((int) minutes %60) + &quot;m&quot;             // we obtain the number displayed in the 'minutes' section of the duration\n                    + Integer.toString(((int) seconds)%60  ) + &quot;s \\n&quot;       // we obtain the number displayed in the 'second' section of the duration\n                    );\n            \n            \n            \n            String[] lastMod = lastModificationDate\n                    .split(&quot; &quot;)[1].split(&quot;-&quot;);\n            long lastModFromMidnight = Integer.valueOf(lastMod[0]) *60*60 \n                                        + Integer.valueOf(lastMod[1]) *60 \n                                        + Integer.valueOf(lastMod[2]) ;\n            \n            // Gets the number of seconds from midnight that this file has been started (obtained from: seconds file creation - seconds file length)\n            seconds = lastModFromMidnight - seconds;\n        //  System.out.println(&quot;File: &quot; + file.getName() + &quot; \\n\\t lastModFromMidnight = &quot; + lastModFromMidnight + &quot;, seconds = &quot; + seconds);\n            // Converts the above variable in the h-m-s format\n            minutes = seconds / 60;\n            hours = minutes / 60;\n            seconds = seconds % 60;\n            minutes = minutes % 60;\n            \n            support.append(&quot;Estimated hour of record start: \\t&quot; \n                    + Integer.toString((int) hours) + &quot;-&quot;\n                    + Integer.toString((int) minutes) + &quot;-&quot;\n                    + Integer.toString(((int) seconds)  ) + &quot; \\n&quot;\n                    );\n            }\n        \n        return support.toString();\n    }\n    public static double getDurationOfWavInSeconds(File file){\n        AudioInputStream stream = null;\n        try {\n            stream = AudioSystem.getAudioInputStream(file);\n            AudioFormat format = stream.getFormat();\n            stream.close();\n            return file.length() / format.getSampleRate() / (format.getSampleSizeInBits() / 8.0) / format.getChannels();\n            }\n        catch (UnsupportedAudioFileException e) \n            {       System.err.println(&quot;File: &quot; + file.getAbsolutePath());  e.printStackTrace();        }\n        catch (IOException e) \n            {       System.err.println(&quot;File: &quot; + file.getAbsolutePath());  e.printStackTrace();        }\n        finally \n            {       if(stream!=null)    \n                        try { stream.close(); } \n                        catch (IOException ex) { ex.printStackTrace(); }                }\n        return -1;\n    }\n    \n    \n    // =====================================\n        // TODO | Second method - Legacy methods from personal libraries \n    \n    public static File moveFile(File toBeMoved, File destination, CopyOption... options) {\n        return moveFile(toBeMoved, destination, toBeMoved.getName(), options);\n    }\n    public static File moveFile(File toBeMoved, File directory, String newName, CopyOption... options) {\n        // Checking conditions\n        if( directory != null &amp;&amp; directory.exists() &amp;&amp; directory.isDirectory() )\n            {\n            boolean canMove = true;\n            for(File fileInDestination : directory.listFiles())\n                if( fileInDestination.getName().equals(newName) )\n                    {\n                    canMove = false;\n                    break;\n                    }\n                \n            if( canMove )       \n                try {\n                    \n                    // Executing action\n                    Files.move(         // can cause java.nio.file.FileSystemException: origin -&gt; destin: \n                                                    //      Impossibile accedere al file. Il file è utilizzato da un altro processo.\n                //  Files.copy(\n                        Paths.get(toBeMoved.getAbsolutePath()), \n                        Paths.get(directory.getAbsolutePath()).resolve(newName),\n                        options\n                        );\n                //  Files.delete(toBeMoved.toPath());\n                    return Paths.get(directory.getAbsolutePath()).resolve(toBeMoved.getName()).toFile();\n                    } catch (NoSuchFileException e) {           e.printStackTrace();            }\n                      catch (DirectoryNotEmptyException e) {    e.printStackTrace();            }\n                      catch (SecurityException e) {             e.printStackTrace();            }\n                      catch (FileSystemException e) {           e.printStackTrace();\n                                                                // The following lines have been added so to better analyze what the problem is... with little to no success\n                                                                System.err.println(&quot;Reason for failure:\\t&quot; + e.getReason()\n                                                                + &quot;\\nWhole message:&quot; + e.getMessage()); \n                                                                String s = null;\n                                                                s.charAt(0);\n                                                                }\n                      catch (IOException e) {                   e.printStackTrace();            }\n            }\n        return null;\n    }\n    \n</code></pre>\n"},{"tags":["java","jvm","stack"],"comments":[{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1430644399,"post_id":5444858,"comment_id":48142225,"body_markdown":"Why do not you pick an answer as the right one?","body":"Why do not you pick an answer as the right one?"}],"answers":[{"tags":[],"owner":{"account_id":235018,"reputation":364834,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1650464337,"creation_date":1301175909,"answer_id":5445529,"question_id":5444858,"body_markdown":"Each JVM has a runtime stack of method invocation frames.  Each method frame contains\r\n\r\n* A reference to the Java class containing that method.\r\n* An operand stack for holding temporary values.\r\n* A &quot;local variables&quot; array for holding function arguments and temporary results.\r\n\r\nThis local variables array exists so that when the function is first called, the arguments to that function can be stored somewhere.  The local variables array does not actually hold all the local variables declared in the Java source code; rather, it&#39;s more of a temporary buffer for holding references to Java objects declared elsewhere in the heap, or to hold values that are referenced enough times that putting them on the runtime stack would be slow or inefficient.\r\n\r\nIn short, you are correct that locals and globals are stored in the heap.  The &quot;local variables&quot; array in Java threads doesn’t correspond to these locals, but rather to scratch space used by the the thread while interpreting the bytecode for the method.","title":"JVM Stack Variables","body":"<p>Each JVM has a runtime stack of method invocation frames.  Each method frame contains</p>\n<ul>\n<li>A reference to the Java class containing that method.</li>\n<li>An operand stack for holding temporary values.</li>\n<li>A &quot;local variables&quot; array for holding function arguments and temporary results.</li>\n</ul>\n<p>This local variables array exists so that when the function is first called, the arguments to that function can be stored somewhere.  The local variables array does not actually hold all the local variables declared in the Java source code; rather, it's more of a temporary buffer for holding references to Java objects declared elsewhere in the heap, or to hold values that are referenced enough times that putting them on the runtime stack would be slow or inefficient.</p>\n<p>In short, you are correct that locals and globals are stored in the heap.  The &quot;local variables&quot; array in Java threads doesn’t correspond to these locals, but rather to scratch space used by the the thread while interpreting the bytecode for the method.</p>\n"},{"tags":[],"owner":{"account_id":2630559,"reputation":39,"user_id":2276625,"display_name":"Harshad Nasit"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1368528191,"creation_date":1368528191,"answer_id":16541101,"question_id":5444858,"body_markdown":"Each JVM has a runtime stack of method invocation frames. Each method frame contains\r\n\r\n    A reference to the Java class containing that method.\r\n    An operand stack for holding temporary values.\r\n    A &quot;local variables&quot; array for holding function arguments and temporary results.\r\n\r\nThis local variables array exists so that when the function is first called, the arguments to that function can be stored somewhere. The local variables array does not actually hold all the local variables declared in the Java source code; rather, it&#39;s more of a temporary buffer for holding references to Java objects declared elsewhere in the heap, or to hold values that are referenced enough times that putting them on the runtime stack would be slow or inefficient.\r\n\r\nIn short, you are correct that locals and globals are stored in the heap. The &quot;local variables&quot; array in Java threads don&#39;t correspond to these locals, but rather to scratch space used by the the thread while interpreting the bytecode for the method.","title":"JVM Stack Variables","body":"<p>Each JVM has a runtime stack of method invocation frames. Each method frame contains</p>\n\n<pre><code>A reference to the Java class containing that method.\nAn operand stack for holding temporary values.\nA \"local variables\" array for holding function arguments and temporary results.\n</code></pre>\n\n<p>This local variables array exists so that when the function is first called, the arguments to that function can be stored somewhere. The local variables array does not actually hold all the local variables declared in the Java source code; rather, it's more of a temporary buffer for holding references to Java objects declared elsewhere in the heap, or to hold values that are referenced enough times that putting them on the runtime stack would be slow or inefficient.</p>\n\n<p>In short, you are correct that locals and globals are stored in the heap. The \"local variables\" array in Java threads don't correspond to these locals, but rather to scratch space used by the the thread while interpreting the bytecode for the method.</p>\n"}],"owner":{"account_id":179202,"reputation":7876,"user_id":411709,"accept_rate":75,"display_name":"Abidi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1340,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1650464337,"creation_date":1301168783,"question_id":5444858,"body_markdown":"I understand JVM creates a Stack for each thread and that Stack contains calls to other methods as thread invokes them. I don&#39;t understand when it says Stack will also have local variables and partial results. I thought global and local variables (primitives and references) would exist in heap rather than in Stack, can anybody please elaborate what it does it mean? Secondly it says partial results, does it mean when thread switching happens those half executed results (copies) from local and instance variables?\r\n\r\nThanks\r\n\r\n-Abidi","title":"JVM Stack Variables","body":"<p>I understand JVM creates a Stack for each thread and that Stack contains calls to other methods as thread invokes them. I don't understand when it says Stack will also have local variables and partial results. I thought global and local variables (primitives and references) would exist in heap rather than in Stack, can anybody please elaborate what it does it mean? Secondly it says partial results, does it mean when thread switching happens those half executed results (copies) from local and instance variables?</p>\n\n<p>Thanks</p>\n\n<p>-Abidi</p>\n"},{"tags":["java","spring","multithreading","spring-statemachine"],"comments":[{"owner":{"account_id":3481319,"reputation":876,"user_id":2913290,"accept_rate":50,"display_name":"Daniel Vilas-Boas"},"score":0,"creation_date":1650673382,"post_id":71941206,"comment_id":127183091,"body_markdown":"have you tried reaching out at github https://github.com/spring-projects/spring-statemachine?","body":"have you tried reaching out at github <a href=\"https://github.com/spring-projects/spring-statemachine\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-statemachine</a>?"}],"owner":{"account_id":180805,"reputation":445,"user_id":414360,"accept_rate":33,"display_name":"Matt Brown"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1650463848,"creation_date":1650463848,"question_id":71941206,"body_markdown":"We upgraded from Spring Statemachine 2.5.0 to Spring StateMachine 3.0.1 in our project.  Our application run a series of processes, each process runs through its business logic within its own state machine.  When we were using State Machine 2.5.0, each state machine ran under its own thread.  It is very common for us to have 50-75 of these processes running at once, each under its own thread, and each with its own State Machine.\r\n\r\nWhen we migrated to 3.0.1, we saw that our processes/statemachines run under threads named `parallel-#` ,where `#` is 1 to the number of CPU cores (4 in our case). \r\n\r\nAs our processes execute, each within its own statemachine, there are times where a particular state has to perform rather expensive shortest path operations in sequence.  This operation is synchronous and can cause the state&#39;s Action to process for upwards of 20 seconds.  We have seen situations where we may have 50 state machines trying to run, but the 4 parallel threads are so busy that the other 46 Statemachines are just stalled.  When we were running 2.5, this worked out OK because each Statemachine had its own thread.\r\n\r\nIs there are way to increase the thread pool in Spring Statemachine 3.0.1, or is there some way to schedule processing time back to the idle state machines?\r\n\r\nMatt Brown","title":"Increase thread pool size in Spring StateMachine 3.0.1","body":"<p>We upgraded from Spring Statemachine 2.5.0 to Spring StateMachine 3.0.1 in our project.  Our application run a series of processes, each process runs through its business logic within its own state machine.  When we were using State Machine 2.5.0, each state machine ran under its own thread.  It is very common for us to have 50-75 of these processes running at once, each under its own thread, and each with its own State Machine.</p>\n<p>When we migrated to 3.0.1, we saw that our processes/statemachines run under threads named <code>parallel-#</code> ,where <code>#</code> is 1 to the number of CPU cores (4 in our case).</p>\n<p>As our processes execute, each within its own statemachine, there are times where a particular state has to perform rather expensive shortest path operations in sequence.  This operation is synchronous and can cause the state's Action to process for upwards of 20 seconds.  We have seen situations where we may have 50 state machines trying to run, but the 4 parallel threads are so busy that the other 46 Statemachines are just stalled.  When we were running 2.5, this worked out OK because each Statemachine had its own thread.</p>\n<p>Is there are way to increase the thread pool in Spring Statemachine 3.0.1, or is there some way to schedule processing time back to the idle state machines?</p>\n<p>Matt Brown</p>\n"},{"tags":["java","android","android-layout","padding","textview"],"answers":[{"tags":[],"owner":{"account_id":1236102,"reputation":11483,"user_id":1199662,"accept_rate":69,"display_name":"Droidman"},"down_vote_count":0,"up_vote_count":100,"is_accepted":true,"score":100,"last_activity_date":1457976295,"creation_date":1363893409,"answer_id":15556218,"question_id":15556168,"body_markdown":"use\r\n\r\n        yourTextView.setPadding(0, 10, 0, 0);\r\n\r\nAdjust only the parameters you need and set the other ones to zero.\r\n\r\nIf you need to preserve other existing paddings, use `yourView.getPaddingLeft()`, `yourView.getPaddingTop()` and so on.\r\n\r\n","title":"Android: set just one padding of textview programmatically","body":"<p>use</p>\n\n<pre><code>    yourTextView.setPadding(0, 10, 0, 0);\n</code></pre>\n\n<p>Adjust only the parameters you need and set the other ones to zero.</p>\n\n<p>If you need to preserve other existing paddings, use <code>yourView.getPaddingLeft()</code>, <code>yourView.getPaddingTop()</code> and so on.</p>\n"},{"tags":[],"owner":{"account_id":477142,"reputation":3691,"user_id":888461,"display_name":"pkk"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1512645944,"creation_date":1414583378,"answer_id":26629580,"question_id":15556168,"body_markdown":"I usually create a simple utility method just to not forget, or misplace the other paddings:\r\n\r\n    public static void setPaddingLeft(View v, int leftPaddingDp) {\r\n        int leftPaddingPx = dpToPx(leftPaddingDp);\r\n        v.setPadding(leftPaddingPx, v.getPaddingTop(), v.getPaddingRight(), v.getPaddingBottom());\r\n    }\r\n\r\nTo be used later like this, supplying dp units, as if would in xmls:\r\n\r\n    Utils.setPaddingLeft(myExampleTextView, 10)","title":"Android: set just one padding of textview programmatically","body":"<p>I usually create a simple utility method just to not forget, or misplace the other paddings:</p>\n\n<pre><code>public static void setPaddingLeft(View v, int leftPaddingDp) {\n    int leftPaddingPx = dpToPx(leftPaddingDp);\n    v.setPadding(leftPaddingPx, v.getPaddingTop(), v.getPaddingRight(), v.getPaddingBottom());\n}\n</code></pre>\n\n<p>To be used later like this, supplying dp units, as if would in xmls:</p>\n\n<pre><code>Utils.setPaddingLeft(myExampleTextView, 10)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5306083,"reputation":313,"user_id":4233930,"display_name":"lenhuy2106"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531692225,"creation_date":1531607063,"answer_id":51343847,"question_id":15556168,"body_markdown":"You can also use this\r\n\r\n    setPadding(view, 500, Padding.TOP);\r\n\r\nwith help of a **@IntDef** definition:\r\n\r\n    public static void setPadding(View view, int padding, @Padding.Direction int direction) {\r\n        switch (direction) {\r\n            case Padding.LEFT:\r\n                view.setPadding(padding, view.getPaddingTop(), view.getPaddingRight(), view.getPaddingBottom());\r\n                return;\r\n            case Padding.RIGHT:\r\n                view.setPadding(view.getPaddingLeft(), view.getPaddingTop(), padding, view.getPaddingBottom());\r\n                return;\r\n            case Padding.TOP:\r\n                view.setPadding(view.getPaddingLeft(), padding, view.getPaddingRight(), view.getPaddingBottom());\r\n                return;\r\n            case Padding.BOTTOM:\r\n                view.setPadding(view.getPaddingLeft(), view.getPaddingTop(), view.getPaddingRight(), padding);\r\n                return;\r\n            default:\r\n        }\r\n    }\r\n\r\n    public static class Padding {\r\n        @IntDef({Padding.LEFT, Padding.RIGHT, Padding.TOP, Padding.BOTTOM})\r\n        @Retention(RetentionPolicy.SOURCE)\r\n        public @interface Direction {}\r\n        public static final int LEFT = 0;\r\n        public static final int RIGHT = 1;\r\n        public static final int TOP = 2;\r\n        public static final int BOTTOM = 3;\r\n    }","title":"Android: set just one padding of textview programmatically","body":"<p>You can also use this</p>\n\n<pre><code>setPadding(view, 500, Padding.TOP);\n</code></pre>\n\n<p>with help of a <strong>@IntDef</strong> definition:</p>\n\n<pre><code>public static void setPadding(View view, int padding, @Padding.Direction int direction) {\n    switch (direction) {\n        case Padding.LEFT:\n            view.setPadding(padding, view.getPaddingTop(), view.getPaddingRight(), view.getPaddingBottom());\n            return;\n        case Padding.RIGHT:\n            view.setPadding(view.getPaddingLeft(), view.getPaddingTop(), padding, view.getPaddingBottom());\n            return;\n        case Padding.TOP:\n            view.setPadding(view.getPaddingLeft(), padding, view.getPaddingRight(), view.getPaddingBottom());\n            return;\n        case Padding.BOTTOM:\n            view.setPadding(view.getPaddingLeft(), view.getPaddingTop(), view.getPaddingRight(), padding);\n            return;\n        default:\n    }\n}\n\npublic static class Padding {\n    @IntDef({Padding.LEFT, Padding.RIGHT, Padding.TOP, Padding.BOTTOM})\n    @Retention(RetentionPolicy.SOURCE)\n    public @interface Direction {}\n    public static final int LEFT = 0;\n    public static final int RIGHT = 1;\n    public static final int TOP = 2;\n    public static final int BOTTOM = 3;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14468410,"reputation":385,"user_id":10451133,"display_name":"murugan mani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562645240,"creation_date":1562645240,"answer_id":56945202,"question_id":15556168,"body_markdown":"Below code is working fine.\r\n\r\n    float scale = getResources().getDisplayMetrics().density;\r\n    int dpAsPixels = (int) (sizeInDp*scale + 0.5f);","title":"Android: set just one padding of textview programmatically","body":"<p>Below code is working fine.</p>\n\n<pre><code>float scale = getResources().getDisplayMetrics().density;\nint dpAsPixels = (int) (sizeInDp*scale + 0.5f);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":946995,"reputation":43606,"user_id":974045,"display_name":"Gibolt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598759726,"creation_date":1598759363,"answer_id":63653767,"question_id":15556168,"body_markdown":"## Kotlin Extension Solution\r\n\r\nYou can add an extension variable like this for each of the specific sides.\r\n\r\n    inline var View.topPadding: Int\r\n        get() = paddingTop\r\n        set(@Px value) = setPadding(paddingLeft, value, paddingRight, paddingBottom)\r\n\r\n    // Then call\r\n    myView.topPadding = 10 // px\r\n\r\nIf you want to use `dp` instead of `px`, add something like this:\r\n\r\n    inline var View.rightPaddingDp: Float\r\n        get() = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, paddingRight.toFloat(), resources.displayMetrics) \r\n        set(value) {\r\n            val rightPx = resources.displayMetrics.density * value\r\n            setPadding(paddingLeft, paddingTop, rightPx.toInt(), paddingBottom)\r\n        }\r\n\r\n    myView.rightPaddingDp = 10 // dp\r\n\r\nTo handle `horizontal` or `vertical`, do something like this. Note that the getter result wouldn&#39;t make sense, so you can disable it.\r\n\r\n    inline var View.horizontalPadding: Int\r\n        get() = throw UnsupportedOperationException(&quot;No getter for property&quot;)\r\n        set(@Px value) = setPadding(value, paddingTop, value, paddingBottom)\r\n\r\nTo use `start` or `end` and correctly handle RTL languages, you&#39;ll need to add this:\r\n\r\n    inline val View.isLtr get() = SDK_INT &lt; 17 || layoutDirection == View.LAYOUT_DIRECTION_LTR\r\n\r\n    inline var View.startPadding: Int\r\n        get() = if (isLtr) paddingLeft else paddingRight\r\n        set(@Px value) {\r\n            val left = if (isLtr) value else paddingLeft\r\n            val right = if (isLtr) paddingRight else value\r\n            setPadding(left, paddingTop, right, paddingBottom)\r\n        }\r\n\r\n**Bonus**: Make an equivalent that takes a `res`. i.e. `topPaddingRes`","title":"Android: set just one padding of textview programmatically","body":"<h2>Kotlin Extension Solution</h2>\n<p>You can add an extension variable like this for each of the specific sides.</p>\n<pre><code>inline var View.topPadding: Int\n    get() = paddingTop\n    set(@Px value) = setPadding(paddingLeft, value, paddingRight, paddingBottom)\n\n// Then call\nmyView.topPadding = 10 // px\n</code></pre>\n<p>If you want to use <code>dp</code> instead of <code>px</code>, add something like this:</p>\n<pre><code>inline var View.rightPaddingDp: Float\n    get() = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, paddingRight.toFloat(), resources.displayMetrics) \n    set(value) {\n        val rightPx = resources.displayMetrics.density * value\n        setPadding(paddingLeft, paddingTop, rightPx.toInt(), paddingBottom)\n    }\n\nmyView.rightPaddingDp = 10 // dp\n</code></pre>\n<p>To handle <code>horizontal</code> or <code>vertical</code>, do something like this. Note that the getter result wouldn't make sense, so you can disable it.</p>\n<pre><code>inline var View.horizontalPadding: Int\n    get() = throw UnsupportedOperationException(&quot;No getter for property&quot;)\n    set(@Px value) = setPadding(value, paddingTop, value, paddingBottom)\n</code></pre>\n<p>To use <code>start</code> or <code>end</code> and correctly handle RTL languages, you'll need to add this:</p>\n<pre><code>inline val View.isLtr get() = SDK_INT &lt; 17 || layoutDirection == View.LAYOUT_DIRECTION_LTR\n\ninline var View.startPadding: Int\n    get() = if (isLtr) paddingLeft else paddingRight\n    set(@Px value) {\n        val left = if (isLtr) value else paddingLeft\n        val right = if (isLtr) paddingRight else value\n        setPadding(left, paddingTop, right, paddingBottom)\n    }\n</code></pre>\n<p><strong>Bonus</strong>: Make an equivalent that takes a <code>res</code>. i.e. <code>topPaddingRes</code></p>\n"},{"tags":[],"owner":{"account_id":3743452,"reputation":1,"user_id":5660921,"display_name":"Hacsi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612872968,"creation_date":1612871935,"answer_id":66118572,"question_id":15556168,"body_markdown":"A kotlin View extension to set any combination of the edges to the same value at one go for any View type:\r\n\r\n    enum class Edge{\r\n        TOP,\r\n        LEFT,\r\n        BOTTOM,\r\n        RIGHT\r\n    }\r\n    fun View.padding(edges:Set&lt;Edge&gt;, value:Int){\r\n        var top    = paddingTop\r\n        var left   = paddingLeft\r\n        var bottom = paddingBottom\r\n        var right  = paddingRight\r\n        for(edge in edges){\r\n            when(edge){\r\n                Edge.TOP    -&gt; top    = value\r\n                Edge.LEFT   -&gt; left   = value\r\n                Edge.BOTTOM -&gt; bottom = value\r\n                Edge.RIGHT  -&gt; right  = value\r\n            }\r\n        }\r\n        setPadding(left, top, right, bottom)\r\n    }\r\n\r\nExample:\r\n\r\n    someView.padding(setOf(Edge.RIGHT, Edge.LEFT), 50)","title":"Android: set just one padding of textview programmatically","body":"<p>A kotlin View extension to set any combination of the edges to the same value at one go for any View type:</p>\n<pre><code>enum class Edge{\n    TOP,\n    LEFT,\n    BOTTOM,\n    RIGHT\n}\nfun View.padding(edges:Set&lt;Edge&gt;, value:Int){\n    var top    = paddingTop\n    var left   = paddingLeft\n    var bottom = paddingBottom\n    var right  = paddingRight\n    for(edge in edges){\n        when(edge){\n            Edge.TOP    -&gt; top    = value\n            Edge.LEFT   -&gt; left   = value\n            Edge.BOTTOM -&gt; bottom = value\n            Edge.RIGHT  -&gt; right  = value\n        }\n    }\n    setPadding(left, top, right, bottom)\n}\n</code></pre>\n<p>Example:</p>\n<pre><code>someView.padding(setOf(Edge.RIGHT, Edge.LEFT), 50)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650463705,"creation_date":1650463705,"answer_id":71941174,"question_id":15556168,"body_markdown":"Use [updatePadding][1]:\r\n\r\n    val top = resources.getDimensionPixelOffset(R.dimen.padding)\r\n    textView.updatePadding(top = value) // value in pixels\r\n\r\n\r\n  [1]: https://developer.android.com/reference/kotlin/androidx/core/view/package-summary#(android.view.View).updatePadding(kotlin.Int,kotlin.Int,kotlin.Int,kotlin.Int)","title":"Android: set just one padding of textview programmatically","body":"<p>Use <a href=\"https://developer.android.com/reference/kotlin/androidx/core/view/package-summary#(android.view.View).updatePadding(kotlin.Int,kotlin.Int,kotlin.Int,kotlin.Int)\" rel=\"nofollow noreferrer\">updatePadding</a>:</p>\n<pre><code>val top = resources.getDimensionPixelOffset(R.dimen.padding)\ntextView.updatePadding(top = value) // value in pixels\n</code></pre>\n"}],"owner":{"account_id":1677144,"reputation":5507,"user_id":1542395,"accept_rate":91,"display_name":"Xander"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58280,"favorite_count":0,"down_vote_count":1,"up_vote_count":48,"accepted_answer_id":15556218,"answer_count":7,"score":47,"last_activity_date":1650463705,"creation_date":1363893216,"question_id":15556168,"body_markdown":"I want to set the top padding of a textview programmatically. I know you can do this with the method `setPadding()`. But the problem is that this method requires 4 parameters: left, top, right, bottom. I don&#39;t want to change the left, right and bottom, I just want to change the top padding.\r\n\r\nIs that possible?","title":"Android: set just one padding of textview programmatically","body":"<p>I want to set the top padding of a textview programmatically. I know you can do this with the method <code>setPadding()</code>. But the problem is that this method requires 4 parameters: left, top, right, bottom. I don't want to change the left, right and bottom, I just want to change the top padding.</p>\n<p>Is that possible?</p>\n"},{"tags":["java","spring","swagger-ui","openapi"],"comments":[{"owner":{"account_id":17744964,"reputation":119,"user_id":12884443,"display_name":"amasuKAKAROT"},"score":0,"creation_date":1640014797,"post_id":69927033,"comment_id":124488536,"body_markdown":"Did you ever solve this?","body":"Did you ever solve this?"}],"answers":[{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636710441,"creation_date":1636629092,"answer_id":69927307,"question_id":69927033,"body_markdown":"This is a problem that keeps popping up since a Java method can have only return type. Your method has a response type of `List&lt;LetterDTO&gt;`, so whatever the HTTP status you return, the response will be of that structure.\r\n\r\nTo resolve this, most people resort to one of the following:\r\n- A return type of `Object` with corresponding response objects actually retuurned. In this case, the user must depend upon your API documentation to handle the responses correctly.\r\n- Another method is to have your own wrapper in the response. This also needs documentation support.\r\n- A third  way is to have your `@RequestMapping()` selector use fine-tuned selections and not just by endpoint path. Eg, using request methods also. However, this has the disadvantage of defining new REST endpoints.\r\n\r\nBut overall, there is no easy way out of this.\r\n\r\n----------\r\n\r\n**Edit: Adding examples**\r\n\r\nLet us assume these simple objects as your data constructs.\r\n\r\n    @NoArgsConstructor @AllArgsConstructor\r\n\t@Getter @Setter\r\n\tprivate static class LetterDTO{\r\n\t\tString from;\r\n\t}\r\n\t\r\n\t@NoArgsConstructor @AllArgsConstructor\r\n\t@Getter @Setter\r\n\tprivate static class ErrorResp{\r\n\t\tString message;\r\n\t}\r\n\r\nThen, for the first case using `Object` as return value, you can do something like this:\r\n\r\n    @GetMapping(value = &quot;letters/user/{userId}&quot;, produces = {&quot;application/json&quot;})\r\n\tpublic Object getLettersForUser( @PathVariable( &quot;userId&quot;) String input, HttpServletResponse resp ) {\r\n\t\tif( input.equalsIgnoreCase( &quot;a&quot; ) ) {\r\n\t\t\tresp.setStatus( 200 );\r\n\t\t\treturn Arrays.asList( new LetterDTO( &quot;A Friend&quot; ) );\r\n\t\t}\r\n\t\telse{\r\n\t\t\tresp.setStatus( 415 ); //Invalid user\r\n\t\t\treturn new ErrorResp( &quot;Invalid user&quot; );\r\n\t\t}\r\n\t}\r\n\r\nOr even better in SpringMVC way, ie, returning `ResponseEntity`:\r\n\r\n    @GetMapping(value = &quot;letters2/user/{userId}&quot;, produces = {&quot;application/json&quot;})\r\n\tpublic ResponseEntity&lt;Object&gt; getLettersForUser2( @PathVariable( &quot;userId&quot;) String input, HttpServletResponse resp ) {\r\n\t\tif( input.equalsIgnoreCase( &quot;a&quot; ) ) {\r\n\t\t\treturn ResponseEntity.ok().body( Arrays.asList( new LetterDTO( &quot;A Friend&quot; ) ) );\r\n\t\t}\r\n\t\telse{\r\n\t\t\treturn ResponseEntity.status( 415 ).body( Arrays.asList( new ErrorResp( &quot;Invalid user&quot; ) ) );\r\n\t\t}\r\n\t}\r\n\r\nUsing your class as a return value must now be clear. Instead of `Object` you return some structure of yours as wrapper say:\r\n\r\n    @NoArgsConstructor @AllArgsConstructor\r\n\t@Getter @Setter\r\n\tprivate static class APIResponse{\r\n\t\tString message;\r\n\t\tObject data;\r\n\t}\r\n\r\nAs must be evident from these examples, the documentation of your API becomes very important since it is difficult to gather from the signature what the content of the response will be in each case - 200, 415, etc.","title":"Java SpringBoot OpenApi @ApiResponse shows wrong return object","body":"<p>This is a problem that keeps popping up since a Java method can have only return type. Your method has a response type of <code>List&lt;LetterDTO&gt;</code>, so whatever the HTTP status you return, the response will be of that structure.</p>\n<p>To resolve this, most people resort to one of the following:</p>\n<ul>\n<li>A return type of <code>Object</code> with corresponding response objects actually retuurned. In this case, the user must depend upon your API documentation to handle the responses correctly.</li>\n<li>Another method is to have your own wrapper in the response. This also needs documentation support.</li>\n<li>A third  way is to have your <code>@RequestMapping()</code> selector use fine-tuned selections and not just by endpoint path. Eg, using request methods also. However, this has the disadvantage of defining new REST endpoints.</li>\n</ul>\n<p>But overall, there is no easy way out of this.</p>\n<hr />\n<p><strong>Edit: Adding examples</strong></p>\n<p>Let us assume these simple objects as your data constructs.</p>\n<pre><code>@NoArgsConstructor @AllArgsConstructor\n@Getter @Setter\nprivate static class LetterDTO{\n    String from;\n}\n\n@NoArgsConstructor @AllArgsConstructor\n@Getter @Setter\nprivate static class ErrorResp{\n    String message;\n}\n</code></pre>\n<p>Then, for the first case using <code>Object</code> as return value, you can do something like this:</p>\n<pre><code>@GetMapping(value = &quot;letters/user/{userId}&quot;, produces = {&quot;application/json&quot;})\npublic Object getLettersForUser( @PathVariable( &quot;userId&quot;) String input, HttpServletResponse resp ) {\n    if( input.equalsIgnoreCase( &quot;a&quot; ) ) {\n        resp.setStatus( 200 );\n        return Arrays.asList( new LetterDTO( &quot;A Friend&quot; ) );\n    }\n    else{\n        resp.setStatus( 415 ); //Invalid user\n        return new ErrorResp( &quot;Invalid user&quot; );\n    }\n}\n</code></pre>\n<p>Or even better in SpringMVC way, ie, returning <code>ResponseEntity</code>:</p>\n<pre><code>@GetMapping(value = &quot;letters2/user/{userId}&quot;, produces = {&quot;application/json&quot;})\npublic ResponseEntity&lt;Object&gt; getLettersForUser2( @PathVariable( &quot;userId&quot;) String input, HttpServletResponse resp ) {\n    if( input.equalsIgnoreCase( &quot;a&quot; ) ) {\n        return ResponseEntity.ok().body( Arrays.asList( new LetterDTO( &quot;A Friend&quot; ) ) );\n    }\n    else{\n        return ResponseEntity.status( 415 ).body( Arrays.asList( new ErrorResp( &quot;Invalid user&quot; ) ) );\n    }\n}\n</code></pre>\n<p>Using your class as a return value must now be clear. Instead of <code>Object</code> you return some structure of yours as wrapper say:</p>\n<pre><code>@NoArgsConstructor @AllArgsConstructor\n@Getter @Setter\nprivate static class APIResponse{\n    String message;\n    Object data;\n}\n</code></pre>\n<p>As must be evident from these examples, the documentation of your API becomes very important since it is difficult to gather from the signature what the content of the response will be in each case - 200, 415, etc.</p>\n"},{"tags":[],"owner":{"account_id":4781319,"reputation":1341,"user_id":3863059,"display_name":"sschmid"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1650463668,"creation_date":1650183661,"answer_id":71900343,"question_id":69927033,"body_markdown":"I normally configure API responses like this:\r\n\r\n```java\r\n@ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK&quot;)\r\n@ApiResponse(responseCode = &quot;400&quot;, description = &quot;Invalid request&quot;, content = @Content)\r\n```\r\nIf no `content` is specified, the return type of the respective Controller method is used. `content = @Content` tells Swagger that there is no content in the response.\r\n\r\nFor `@ApiGetOne` this is what Swagger would display (the screenshot is from a different DTO class):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nFor simplicity and reusability, I typically wrap these in reusable helper annotations, this way my endpoints don&#39;t have as many annotations and I don&#39;t need a `ResponseEntity` in the controller, e.g.:\r\n\r\n```java\r\n@Target({ElementType.ANNOTATION_TYPE, ElementType.METHOD})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@RequestMapping(method = RequestMethod.GET,\r\n    produces = MediaType.APPLICATION_JSON_VALUE)\r\n@ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK&quot;)\r\n@ApiResponse(responseCode = &quot;400&quot;, description = &quot;Invalid request&quot;, content = @Content)\r\n@ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal error&quot;, content = @Content)\r\npublic @interface ApiGet {\r\n\r\n  @AliasFor(annotation = RequestMapping.class)\r\n  String[] value() default {};\r\n\r\n  @AliasFor(annotation = RequestMapping.class)\r\n  String[] path() default {};\r\n\r\n}\r\n```\r\n\r\nYou can also extend these annotations with more API responses, e.g., to add a 404 for some endpoints, create another annotation that also has `@ApiGet` on it:\r\n```java\r\n@Target({ElementType.ANNOTATION_TYPE, ElementType.METHOD})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@ApiGet\r\n@ApiResponse(responseCode = &quot;404&quot;, description = &quot;Not found&quot;, content = @Content)\r\npublic @interface ApiGetOne {\r\n\r\n  @AliasFor(annotation = ApiGet.class)\r\n  String[] value() default {};\r\n\r\n  @AliasFor(annotation = ApiGet.class)\r\n  String[] path() default {};\r\n\r\n}\r\n```\r\n\r\nand finally, use them on any endpoint (using Java 17):\r\n```java\r\npublic record HelloWorldDto(String recipientName) {\r\n  public String getMessage() {\r\n    return &quot;Hello, %s&quot;.formatted(recipientName);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npublic record ErrorDto(String message) {\r\n}\r\n```\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;api/test&quot;)\r\n@Tag(name = &quot;Demo&quot;, description = &quot;Endpoints for testing&quot;)\r\npublic class DemoController {\r\n  ...\r\n\r\n  @ApiGet(&quot;/hello&quot;)\r\n  public HelloWorldDto sayHello() {\r\n    return new HelloWorldDto(&quot;stranger&quot;);\r\n  }\r\n\r\n  @ApiGetOne(&quot;/hello/{id}&quot;)\r\n  public HelloWorldDto sayHelloWithParam(@PathVariable int id) {\r\n    final var person = myPersonRepo.getById(id); // might throw a NotFoundException which is mapped to 404 status code\r\n    return new HelloWorldDto(person.name());\r\n  }\r\n}\r\n```\r\n\r\nMapping exceptions to custom error responses:\r\n```java\r\n@ControllerAdvice\r\npublic class ErrorHandler {\r\n\r\n  private static final Logger log = LoggerFactory.getLogger(ErrorHandler.class);\r\n\r\n  @ExceptionHandler\r\n  public ResponseEntity&lt;ErrorDto&gt; handle(Exception exception) {\r\n    log.error(&quot;Internal server error occurred&quot;, exception);\r\n\r\n    return response(HttpStatus.INTERNAL_SERVER_ERROR, &quot;Unknown error occurred.&quot;);\r\n  }\r\n\r\n  @ExceptionHandler\r\n  public ResponseEntity&lt;ErrorDto&gt; handle(NotFoundException exception) {\r\n    return response(HttpStatus.NOT_FOUND, exception.getMessage());\r\n  }\r\n\r\n  private ResponseEntity&lt;ErrorDto&gt; response(HttpStatus status, String message) {\r\n    return ResponseEntity\r\n        .status(status)\r\n        .body(new ErrorDto(message));\r\n  }\r\n}\r\n```\r\n\r\nI like this setup a lot because\r\n* I end up with a handful of reusable annotations that are sufficient for typical CRUD endpoints\r\n* I don&#39;t need to build `ResponseEntity` in controller methods\r\n* the `@ControllerAdvice` serves as a central point of reusable error handling\r\n* all of which keeps my controllers/endpoints clean and simple\r\n* and that, in turn, keeps testing simple\r\n\r\n----\r\n\r\nUpdate 2022/04/20\r\n\r\nJust had to fix a bug where we have an endpoint that returns images instead of JSON. In this case, to prevent `HttpMessageNotWritableException: No converter for [class ErrorDto] with preset Content-Type &#39;image/jpeg&#39;`, you need to check the `Accept` header of the request like so (using a header as fallback):\r\n\r\n```java\r\n@ExceptionHandler(Exception.class)\r\npublic ResponseEntity&lt;ErrorDto&gt; handle(final Exception exception, final WebRequest webRequest) {\r\n  return createResponse(HttpStatus.INTERNAL_SERVER_ERROR, &quot;Some error&quot;, webRequest);\r\n}\r\n\r\nprotected ResponseEntity&lt;ErrorDto&gt; createResponse(final HttpStatus httpStatus,\r\n                                                  final String message,\r\n                                                  final WebRequest webRequest) {\r\n  final var accepts = webRequest.getHeader(HttpHeaders.ACCEPT);\r\n  if (!MediaType.APPLICATION_JSON_VALUE.equals(accepts)) {\r\n    return ResponseEntity.status(httpStatus)\r\n        .header(&quot;my-error&quot;, message)\r\n        .build();\r\n  }\r\n\r\n  return ResponseEntity\r\n      .status(status)\r\n      .body(new ErrorDto(message));\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vTKpI.png","title":"Java SpringBoot OpenApi @ApiResponse shows wrong return object","body":"<p>I normally configure API responses like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK&quot;)\n@ApiResponse(responseCode = &quot;400&quot;, description = &quot;Invalid request&quot;, content = @Content)\n</code></pre>\n<p>If no <code>content</code> is specified, the return type of the respective Controller method is used. <code>content = @Content</code> tells Swagger that there is no content in the response.</p>\n<p>For <code>@ApiGetOne</code> this is what Swagger would display (the screenshot is from a different DTO class):</p>\n<p><a href=\"https://i.stack.imgur.com/vTKpI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vTKpI.png\" alt=\"enter image description here\" /></a></p>\n<p>For simplicity and reusability, I typically wrap these in reusable helper annotations, this way my endpoints don't have as many annotations and I don't need a <code>ResponseEntity</code> in the controller, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.ANNOTATION_TYPE, ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@RequestMapping(method = RequestMethod.GET,\n    produces = MediaType.APPLICATION_JSON_VALUE)\n@ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK&quot;)\n@ApiResponse(responseCode = &quot;400&quot;, description = &quot;Invalid request&quot;, content = @Content)\n@ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal error&quot;, content = @Content)\npublic @interface ApiGet {\n\n  @AliasFor(annotation = RequestMapping.class)\n  String[] value() default {};\n\n  @AliasFor(annotation = RequestMapping.class)\n  String[] path() default {};\n\n}\n</code></pre>\n<p>You can also extend these annotations with more API responses, e.g., to add a 404 for some endpoints, create another annotation that also has <code>@ApiGet</code> on it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.ANNOTATION_TYPE, ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@ApiGet\n@ApiResponse(responseCode = &quot;404&quot;, description = &quot;Not found&quot;, content = @Content)\npublic @interface ApiGetOne {\n\n  @AliasFor(annotation = ApiGet.class)\n  String[] value() default {};\n\n  @AliasFor(annotation = ApiGet.class)\n  String[] path() default {};\n\n}\n</code></pre>\n<p>and finally, use them on any endpoint (using Java 17):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record HelloWorldDto(String recipientName) {\n  public String getMessage() {\n    return &quot;Hello, %s&quot;.formatted(recipientName);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public record ErrorDto(String message) {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;api/test&quot;)\n@Tag(name = &quot;Demo&quot;, description = &quot;Endpoints for testing&quot;)\npublic class DemoController {\n  ...\n\n  @ApiGet(&quot;/hello&quot;)\n  public HelloWorldDto sayHello() {\n    return new HelloWorldDto(&quot;stranger&quot;);\n  }\n\n  @ApiGetOne(&quot;/hello/{id}&quot;)\n  public HelloWorldDto sayHelloWithParam(@PathVariable int id) {\n    final var person = myPersonRepo.getById(id); // might throw a NotFoundException which is mapped to 404 status code\n    return new HelloWorldDto(person.name());\n  }\n}\n</code></pre>\n<p>Mapping exceptions to custom error responses:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class ErrorHandler {\n\n  private static final Logger log = LoggerFactory.getLogger(ErrorHandler.class);\n\n  @ExceptionHandler\n  public ResponseEntity&lt;ErrorDto&gt; handle(Exception exception) {\n    log.error(&quot;Internal server error occurred&quot;, exception);\n\n    return response(HttpStatus.INTERNAL_SERVER_ERROR, &quot;Unknown error occurred.&quot;);\n  }\n\n  @ExceptionHandler\n  public ResponseEntity&lt;ErrorDto&gt; handle(NotFoundException exception) {\n    return response(HttpStatus.NOT_FOUND, exception.getMessage());\n  }\n\n  private ResponseEntity&lt;ErrorDto&gt; response(HttpStatus status, String message) {\n    return ResponseEntity\n        .status(status)\n        .body(new ErrorDto(message));\n  }\n}\n</code></pre>\n<p>I like this setup a lot because</p>\n<ul>\n<li>I end up with a handful of reusable annotations that are sufficient for typical CRUD endpoints</li>\n<li>I don't need to build <code>ResponseEntity</code> in controller methods</li>\n<li>the <code>@ControllerAdvice</code> serves as a central point of reusable error handling</li>\n<li>all of which keeps my controllers/endpoints clean and simple</li>\n<li>and that, in turn, keeps testing simple</li>\n</ul>\n<hr />\n<p>Update 2022/04/20</p>\n<p>Just had to fix a bug where we have an endpoint that returns images instead of JSON. In this case, to prevent <code>HttpMessageNotWritableException: No converter for [class ErrorDto] with preset Content-Type 'image/jpeg'</code>, you need to check the <code>Accept</code> header of the request like so (using a header as fallback):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExceptionHandler(Exception.class)\npublic ResponseEntity&lt;ErrorDto&gt; handle(final Exception exception, final WebRequest webRequest) {\n  return createResponse(HttpStatus.INTERNAL_SERVER_ERROR, &quot;Some error&quot;, webRequest);\n}\n\nprotected ResponseEntity&lt;ErrorDto&gt; createResponse(final HttpStatus httpStatus,\n                                                  final String message,\n                                                  final WebRequest webRequest) {\n  final var accepts = webRequest.getHeader(HttpHeaders.ACCEPT);\n  if (!MediaType.APPLICATION_JSON_VALUE.equals(accepts)) {\n    return ResponseEntity.status(httpStatus)\n        .header(&quot;my-error&quot;, message)\n        .build();\n  }\n\n  return ResponseEntity\n      .status(status)\n      .body(new ErrorDto(message));\n}\n</code></pre>\n"}],"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10646,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1650463668,"creation_date":1636627859,"question_id":69927033,"body_markdown":"I&#39;m using OpenApi 3 in my SpringBoot project in order to generate a Swagger html page.\r\n\r\nThe dependency in POM.xml :\r\n\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;1.5.12&lt;/version&gt;\r\n&gt;         &lt;/dependency&gt;\r\n\r\n\r\nIn the Controller class I&#39;ve defined the following Annotations above the method.\r\n\r\n    @Operation(\r\n            summary = &quot;Get a list of letters for a specific user&quot;,\r\n            description = &quot;Get a list of letters for a specific user&quot;,\r\n            tags = {&quot;letters&quot;}\r\n    )\r\n    @ApiResponses(value = {\r\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;success&quot;, content = {@Content(\r\n                                                                        mediaType = &quot;application/json&quot;,\r\n                                                                        array = @ArraySchema(schema = @Schema(implementation = LetterDTO.class)))}),\r\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;BAD REQUEST&quot;),\r\n            @ApiResponse(responseCode = &quot;401&quot;, description = &quot;UNAUTHORIZED&quot;),\r\n            @ApiResponse(responseCode = &quot;403&quot;, description = &quot;Forbidden&quot;),\r\n            @ApiResponse(responseCode = &quot;404&quot;, description = &quot;NOT_FOUND: Entity could not be found&quot;)}\r\n    )\r\n    @GetMapping(value = &quot;letters/user/{userId}&quot;, produces = {&quot;application/json&quot;})\r\n    public List&lt;LetterDTO&gt; getLettersForUser(\r\n        ...\r\n    )\r\n\r\n\r\nThe output of Swagger UI shows the correct response for code 200, which is a list of LetterDTO objects.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut the response for code 401 also show a list of LetterDTO objects. Al tough I didn&#39;t define any response object for code 401. I was expecting Swagger to generate the same response object like for code 400, which is a default return object containing the error code and a error message.\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nWhy does Swagger take the same return object like the one defined for code 200 ?\r\nI was expecting that Swagger would generate the default return object. Is this a Bug in Swagger ?\r\n\r\n[![enter image description here][3]][3] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WCBAh.png\r\n  [2]: https://i.stack.imgur.com/omPK2.png\r\n  [3]: https://i.stack.imgur.com/PVWwI.png","title":"Java SpringBoot OpenApi @ApiResponse shows wrong return object","body":"<p>I'm using OpenApi 3 in my SpringBoot project in order to generate a Swagger html page.</p>\n<p>The dependency in POM.xml :</p>\n<blockquote>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.5.12&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n</blockquote>\n<p>In the Controller class I've defined the following Annotations above the method.</p>\n<pre><code>@Operation(\n        summary = &quot;Get a list of letters for a specific user&quot;,\n        description = &quot;Get a list of letters for a specific user&quot;,\n        tags = {&quot;letters&quot;}\n)\n@ApiResponses(value = {\n        @ApiResponse(responseCode = &quot;200&quot;, description = &quot;success&quot;, content = {@Content(\n                                                                    mediaType = &quot;application/json&quot;,\n                                                                    array = @ArraySchema(schema = @Schema(implementation = LetterDTO.class)))}),\n        @ApiResponse(responseCode = &quot;400&quot;, description = &quot;BAD REQUEST&quot;),\n        @ApiResponse(responseCode = &quot;401&quot;, description = &quot;UNAUTHORIZED&quot;),\n        @ApiResponse(responseCode = &quot;403&quot;, description = &quot;Forbidden&quot;),\n        @ApiResponse(responseCode = &quot;404&quot;, description = &quot;NOT_FOUND: Entity could not be found&quot;)}\n)\n@GetMapping(value = &quot;letters/user/{userId}&quot;, produces = {&quot;application/json&quot;})\npublic List&lt;LetterDTO&gt; getLettersForUser(\n    ...\n)\n</code></pre>\n<p>The output of Swagger UI shows the correct response for code 200, which is a list of LetterDTO objects.</p>\n<p><a href=\"https://i.stack.imgur.com/WCBAh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WCBAh.png\" alt=\"enter image description here\" /></a></p>\n<p>But the response for code 401 also show a list of LetterDTO objects. Al tough I didn't define any response object for code 401. I was expecting Swagger to generate the same response object like for code 400, which is a default return object containing the error code and a error message.</p>\n<p><a href=\"https://i.stack.imgur.com/omPK2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/omPK2.png\" alt=\"enter image description here\" /></a></p>\n<p>Why does Swagger take the same return object like the one defined for code 200 ?\nI was expecting that Swagger would generate the default return object. Is this a Bug in Swagger ?</p>\n<p><a href=\"https://i.stack.imgur.com/PVWwI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PVWwI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":4,"creation_date":1650388001,"post_id":71928491,"comment_id":127101313,"body_markdown":"Yes, you do need to revise your basics. When you say List of Books, we are basically having a data structure which can store different books. ArrayList is just an implementation of List. LibraryManagementSystem is being initialized with this List of Books so that people can Issue a book, return book etc. Hope this helps","body":"Yes, you do need to revise your basics. When you say List of Books, we are basically having a data structure which can store different books. ArrayList is just an implementation of List. LibraryManagementSystem is being initialized with this List of Books so that people can Issue a book, return book etc. Hope this helps"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1650433408,"post_id":71928491,"comment_id":127111377,"body_markdown":"I think the best you can do is search for a tutorial that explains `ArrayList` in more depth than you can expect from a couple of Stack Overflow answers. There’s for example [this one](https://www3.ntu.edu.sg/home/ehchua/programming/java/JavaGeneric.html). But do search and find the one or ones that suit you the best.","body":"I think the best you can do is search for a tutorial that explains <code>ArrayList</code> in more depth than you can expect from a couple of Stack Overflow answers. There’s for example <a href=\"https://www3.ntu.edu.sg/home/ehchua/programming/java/JavaGeneric.html\" rel=\"nofollow noreferrer\">this one</a>. But do search and find the one or ones that suit you the best."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650463611,"creation_date":1650401005,"answer_id":71931095,"question_id":71928491,"body_markdown":"# Generics\r\n\r\nYou asked:\r\n\r\n&gt;`ArrayList&lt;Books&gt; booksList;`\r\n&gt;\r\n&gt; What is going on here? I&#39;m new to java so I don&#39;t get the ArrayList that much. Are we creating an ArrayList with a class datatype??? \r\n\r\nYou need to learn about [Generics in Java][1]. \r\n\r\n - `ArrayList` is collection, a data structure for holding objects.\r\n - `&lt;Book&gt;` (after fixing your misnomer `Books`) is telling the compiler that we intend to store only objects of the `Book` class in this particular collection. \r\n\r\nIf we mistakenly try to put a `Dog` object or an `Invoice` object into that collection, the compiler will complain. You will get an error message at compile-time explaining that only objects of the `Book` class can be put into that collection. \r\n\r\nAlso, you can put objects that are from a class that is a *subclass* of `Book`. Imagine you had `HardCoverBook` and `SoftCoverBook` classes that both extend from the `Book` class. Objects of those subclasses can also go into a collection of `Book` objects.\r\n\r\n# Other issues\r\n\r\nNaming is important. Clear naming makes your code easier to read and comprehend.\r\n\r\nSo your class `Books` describes a *single* book. So it should be named in the singular, `Book`. \r\n\r\nWhen collecting a bunch of book objects, such as a `List`, name that collection in the plural. For example `List &lt; Book &gt; books`. \r\n\r\nYour book class could be more briefly written as a [record][2]. And we could shorten the names of your member fields.\r\n\r\n    record Book( String title, String author ) {}\r\n\r\nWe could shorten `Ex7_LibraryManagementSystem` to `Library`. \r\n\r\nWe need two lists rather than the one seen in your code. Given your scenario, we want to move books between a list for books on hand and a list of books loaned out. \r\n\r\nMore naming: The argument in your constructor should not be `bookName`, it should be something like `initialInventory`. And the type of that parameter should be simply `Collection` rather than specifically `ArrayList` or even `List`. \r\n\r\nWhen passing in a collection of `Book` objects, copy them into our internally-managed lists. We don’t want the calling code to be able to change the collection between our back. By making a copy, we take control. \r\n\r\nFor that matter, your books are not ordered, so no need for `List`.  If the book objects are meant to be unique, we can collect them as `Set` rather than `List` — but I&#39;ll ignore that point.\r\n\r\nYour `addBooks` adds only a single book, so rename in the singular. \r\n\r\n&quot;Issue&quot; is an odd term; &quot;loan&quot; seems more appropriate to a library. Similarly, the `issuedBooks` method could use better naming, including not being in past-tense. Use date-time classes to represent date-time values, such as `LocalDate` for a date-only value (without time-of-day, and without time zone or offset). Mark those arguments `final` to avoid accidentally changing them in your method.\r\n\r\n    loanBook ( final Book book , final String borrower , final LocalDate dateLoaned ) { … }\r\n\r\nI recommend checking for conditions that should never happen, to make sure all is well. So rather than assume a book is on loan, verify. If things seem amiss, report.\r\n\r\nAfter those changes, we have something like this.\r\n\r\n```java\r\npackage work.basil.example.lib;\r\n\r\nimport java.time.Instant;\r\nimport java.time.LocalDate;\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\nrecord Book( String title , String author )\r\n{\r\n}\r\n\r\npublic class Library\r\n{\r\n    private List &lt; Book &gt; booksOnHand, booksOnLoan;\r\n\r\n    Library ( Collection &lt; Book &gt; initialInventory )\r\n    {\r\n        this.booksOnHand = new ArrayList &lt;&gt;( initialInventory );\r\n        this.booksOnLoan = new ArrayList &lt;&gt;( this.booksOnHand.size() );\r\n    }\r\n\r\n    public void addBook ( Book b )\r\n    {\r\n        this.booksOnHand.add( b );\r\n        System.out.println( &quot;Book added successfully.&quot; );\r\n    }\r\n\r\n    public void loanBook ( final Book book , final String borrower , final LocalDate dateLoaned )\r\n    {\r\n        if ( this.booksOnHand.isEmpty() )\r\n        {\r\n            System.out.println( &quot;All Books are issued. No books are available right now.&quot; );\r\n        }\r\n        else\r\n        {\r\n            if ( this.booksOnHand.contains( book ) )\r\n            {\r\n                this.booksOnHand.remove( book );\r\n                this.booksOnLoan.add( book );\r\n                System.out.println( &quot;Book &quot; + book.title() + &quot; by &quot; + book.author() + &quot; is loaned to &quot; + borrower + &quot; on &quot; + dateLoaned );\r\n            }\r\n            else if ( this.booksOnLoan.contains( book ) )\r\n            {\r\n                System.out.println( &quot;Sorry! The Book &quot; + book.title() + &quot; by &quot; + book.author() + &quot; is out on loan.&quot; );\r\n            }\r\n            else\r\n            {\r\n                System.out.println( &quot;ERROR – We should never have reached this point in the code. &quot; );\r\n            }\r\n        }\r\n    }\r\n\r\n    public void returnBook ( Book book , String returnFrom )\r\n    {\r\n        if ( this.booksOnLoan.contains( book ) )\r\n        {\r\n            this.booksOnLoan.remove( book );\r\n            this.booksOnHand.add( book );\r\n            System.out.println( &quot;The Book &quot; + book.title() + &quot; by &quot; + book.author() + &quot; has been returned to the Library.&quot; );\r\n        }\r\n        else\r\n        {\r\n            System.out.println( &quot;The Book &quot; + book.title() + &quot; by &quot; + book.author() + &quot; is not out on loan, so it cannot be returned to the Library.&quot; );\r\n        }\r\n    }\r\n\r\n    public String reportInventory ( )\r\n    {\r\n        StringBuilder report = new StringBuilder();\r\n        report.append( &quot;On hand: &quot; + this.booksOnHand );\r\n        report.append( &quot;\\n&quot; );\r\n        report.append( &quot;On load: &quot; + this.booksOnLoan );\r\n        return report.toString();\r\n    }\r\n\r\n    public static void main ( String[] args )\r\n    {\r\n        List &lt; Book &gt; stockOfBooks =\r\n                List.of(\r\n                        new Book( &quot;Naruto&quot; , &quot;Kisishima&quot; ) ,\r\n                        new Book( &quot;Naruto Shippuden&quot; , &quot;Kisishima&quot; ) ,\r\n                        new Book( &quot;Attack On Titan&quot; , &quot;Bhaluche&quot; ) ,\r\n                        new Book( &quot;Akame Ga Kill&quot; , &quot;Killer bee&quot; ) ,\r\n                        new Book( &quot;Death Note&quot; , &quot;Light&quot; )\r\n                );\r\n        Book b1 = stockOfBooks.get( 0 ), b2 = stockOfBooks.get( 1 ), b3 = stockOfBooks.get( 2 );\r\n\r\n        Library library = new Library( stockOfBooks );\r\n\r\n        library.loanBook( b3 , &quot;Sanan&quot; , LocalDate.now() );\r\n        library.loanBook( b1 , &quot;Sandy&quot; , LocalDate.now().plusDays( 1 ) );\r\n        library.loanBook( b2 , &quot;anuj&quot; , LocalDate.now().plusDays( 2 ) );\r\n        library.returnBook( b1 , &quot;Sandy&quot; );\r\n\r\n        System.out.println( library.reportInventory() );\r\n    }\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nBook Attack On Titan by Bhaluche is loaned to Sanan on 2022-04-19\r\nBook Naruto by Kisishima is loaned to Sandy on 2022-04-20\r\nBook Naruto Shippuden by Kisishima is loaned to anuj on 2022-04-21\r\nThe Book Naruto by Kisishima has been returned to the Library.\r\nOn hand: [Book[title=Akame Ga Kill, author=Killer bee], Book[title=Death Note, author=Light], Book[title=Naruto, author=Kisishima]]\r\nOn load: [Book[title=Attack On Titan, author=Bhaluche], Book[title=Naruto Shippuden, author=Kisishima]]\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Generics_in_Java\r\n  [2]: https://openjdk.java.net/jeps/395","title":"I cannot understand how an ArrayList can have Class object as a datatype","body":"<h1>Generics</h1>\n<p>You asked:</p>\n<blockquote>\n<p><code>ArrayList&lt;Books&gt; booksList;</code></p>\n<p>What is going on here? I'm new to java so I don't get the ArrayList that much. Are we creating an ArrayList with a class datatype???</p>\n</blockquote>\n<p>You need to learn about <a href=\"https://en.wikipedia.org/wiki/Generics_in_Java\" rel=\"nofollow noreferrer\">Generics in Java</a>.</p>\n<ul>\n<li><code>ArrayList</code> is collection, a data structure for holding objects.</li>\n<li><code>&lt;Book&gt;</code> (after fixing your misnomer <code>Books</code>) is telling the compiler that we intend to store only objects of the <code>Book</code> class in this particular collection.</li>\n</ul>\n<p>If we mistakenly try to put a <code>Dog</code> object or an <code>Invoice</code> object into that collection, the compiler will complain. You will get an error message at compile-time explaining that only objects of the <code>Book</code> class can be put into that collection.</p>\n<p>Also, you can put objects that are from a class that is a <em>subclass</em> of <code>Book</code>. Imagine you had <code>HardCoverBook</code> and <code>SoftCoverBook</code> classes that both extend from the <code>Book</code> class. Objects of those subclasses can also go into a collection of <code>Book</code> objects.</p>\n<h1>Other issues</h1>\n<p>Naming is important. Clear naming makes your code easier to read and comprehend.</p>\n<p>So your class <code>Books</code> describes a <em>single</em> book. So it should be named in the singular, <code>Book</code>.</p>\n<p>When collecting a bunch of book objects, such as a <code>List</code>, name that collection in the plural. For example <code>List &lt; Book &gt; books</code>.</p>\n<p>Your book class could be more briefly written as a <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">record</a>. And we could shorten the names of your member fields.</p>\n<pre><code>record Book( String title, String author ) {}\n</code></pre>\n<p>We could shorten <code>Ex7_LibraryManagementSystem</code> to <code>Library</code>.</p>\n<p>We need two lists rather than the one seen in your code. Given your scenario, we want to move books between a list for books on hand and a list of books loaned out.</p>\n<p>More naming: The argument in your constructor should not be <code>bookName</code>, it should be something like <code>initialInventory</code>. And the type of that parameter should be simply <code>Collection</code> rather than specifically <code>ArrayList</code> or even <code>List</code>.</p>\n<p>When passing in a collection of <code>Book</code> objects, copy them into our internally-managed lists. We don’t want the calling code to be able to change the collection between our back. By making a copy, we take control.</p>\n<p>For that matter, your books are not ordered, so no need for <code>List</code>.  If the book objects are meant to be unique, we can collect them as <code>Set</code> rather than <code>List</code> — but I'll ignore that point.</p>\n<p>Your <code>addBooks</code> adds only a single book, so rename in the singular.</p>\n<p>&quot;Issue&quot; is an odd term; &quot;loan&quot; seems more appropriate to a library. Similarly, the <code>issuedBooks</code> method could use better naming, including not being in past-tense. Use date-time classes to represent date-time values, such as <code>LocalDate</code> for a date-only value (without time-of-day, and without time zone or offset). Mark those arguments <code>final</code> to avoid accidentally changing them in your method.</p>\n<pre><code>loanBook ( final Book book , final String borrower , final LocalDate dateLoaned ) { … }\n</code></pre>\n<p>I recommend checking for conditions that should never happen, to make sure all is well. So rather than assume a book is on loan, verify. If things seem amiss, report.</p>\n<p>After those changes, we have something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.lib;\n\nimport java.time.Instant;\nimport java.time.LocalDate;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Set;\n\nrecord Book( String title , String author )\n{\n}\n\npublic class Library\n{\n    private List &lt; Book &gt; booksOnHand, booksOnLoan;\n\n    Library ( Collection &lt; Book &gt; initialInventory )\n    {\n        this.booksOnHand = new ArrayList &lt;&gt;( initialInventory );\n        this.booksOnLoan = new ArrayList &lt;&gt;( this.booksOnHand.size() );\n    }\n\n    public void addBook ( Book b )\n    {\n        this.booksOnHand.add( b );\n        System.out.println( &quot;Book added successfully.&quot; );\n    }\n\n    public void loanBook ( final Book book , final String borrower , final LocalDate dateLoaned )\n    {\n        if ( this.booksOnHand.isEmpty() )\n        {\n            System.out.println( &quot;All Books are issued. No books are available right now.&quot; );\n        }\n        else\n        {\n            if ( this.booksOnHand.contains( book ) )\n            {\n                this.booksOnHand.remove( book );\n                this.booksOnLoan.add( book );\n                System.out.println( &quot;Book &quot; + book.title() + &quot; by &quot; + book.author() + &quot; is loaned to &quot; + borrower + &quot; on &quot; + dateLoaned );\n            }\n            else if ( this.booksOnLoan.contains( book ) )\n            {\n                System.out.println( &quot;Sorry! The Book &quot; + book.title() + &quot; by &quot; + book.author() + &quot; is out on loan.&quot; );\n            }\n            else\n            {\n                System.out.println( &quot;ERROR – We should never have reached this point in the code. &quot; );\n            }\n        }\n    }\n\n    public void returnBook ( Book book , String returnFrom )\n    {\n        if ( this.booksOnLoan.contains( book ) )\n        {\n            this.booksOnLoan.remove( book );\n            this.booksOnHand.add( book );\n            System.out.println( &quot;The Book &quot; + book.title() + &quot; by &quot; + book.author() + &quot; has been returned to the Library.&quot; );\n        }\n        else\n        {\n            System.out.println( &quot;The Book &quot; + book.title() + &quot; by &quot; + book.author() + &quot; is not out on loan, so it cannot be returned to the Library.&quot; );\n        }\n    }\n\n    public String reportInventory ( )\n    {\n        StringBuilder report = new StringBuilder();\n        report.append( &quot;On hand: &quot; + this.booksOnHand );\n        report.append( &quot;\\n&quot; );\n        report.append( &quot;On load: &quot; + this.booksOnLoan );\n        return report.toString();\n    }\n\n    public static void main ( String[] args )\n    {\n        List &lt; Book &gt; stockOfBooks =\n                List.of(\n                        new Book( &quot;Naruto&quot; , &quot;Kisishima&quot; ) ,\n                        new Book( &quot;Naruto Shippuden&quot; , &quot;Kisishima&quot; ) ,\n                        new Book( &quot;Attack On Titan&quot; , &quot;Bhaluche&quot; ) ,\n                        new Book( &quot;Akame Ga Kill&quot; , &quot;Killer bee&quot; ) ,\n                        new Book( &quot;Death Note&quot; , &quot;Light&quot; )\n                );\n        Book b1 = stockOfBooks.get( 0 ), b2 = stockOfBooks.get( 1 ), b3 = stockOfBooks.get( 2 );\n\n        Library library = new Library( stockOfBooks );\n\n        library.loanBook( b3 , &quot;Sanan&quot; , LocalDate.now() );\n        library.loanBook( b1 , &quot;Sandy&quot; , LocalDate.now().plusDays( 1 ) );\n        library.loanBook( b2 , &quot;anuj&quot; , LocalDate.now().plusDays( 2 ) );\n        library.returnBook( b1 , &quot;Sandy&quot; );\n\n        System.out.println( library.reportInventory() );\n    }\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Book Attack On Titan by Bhaluche is loaned to Sanan on 2022-04-19\nBook Naruto by Kisishima is loaned to Sandy on 2022-04-20\nBook Naruto Shippuden by Kisishima is loaned to anuj on 2022-04-21\nThe Book Naruto by Kisishima has been returned to the Library.\nOn hand: [Book[title=Akame Ga Kill, author=Killer bee], Book[title=Death Note, author=Light], Book[title=Naruto, author=Kisishima]]\nOn load: [Book[title=Attack On Titan, author=Bhaluche], Book[title=Naruto Shippuden, author=Kisishima]]\n</code></pre>\n"}],"owner":{"account_id":21157856,"reputation":62,"user_id":15556756,"display_name":"shaikh_sanan_007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71931095,"answer_count":1,"score":-1,"last_activity_date":1650463611,"creation_date":1650386854,"question_id":71928491,"body_markdown":"\r\n```\r\nimport java.time.LocalDate;\r\nimport java.util.ArrayList;\r\n\r\nclass Books{\r\n    String bookName, authorName;\r\n    public Books(String bName, String aName){\r\n        this.authorName = aName;\r\n        this.bookName = bName;\r\n    }\r\n\r\n    @Override\r\n    public String toString(){\r\n        return &quot;Book Details{Book name: &quot;+bookName+&quot;, Author: &quot;+authorName+&quot;}&quot;;\r\n    }\r\n\r\n}\r\npublic class Ex7_LibraryManagementSystem {\r\n```\r\nWhat is going on here? I&#39;m new to java so I don&#39;t get the ArrayList that much. Are we creating an ArrayList with a class datatype??? Does this part falls in Advance Java or do I need to revise my basics again? I&#39;m confused with all these class Books passing as an argument thing\r\n```\r\n    ArrayList&lt;Books&gt; booksList;\r\n    Ex7_LibraryManagementSystem(ArrayList&lt;Books&gt; bookName){\r\n        this.booksList = bookName;\r\n    }\r\n\r\n    public void addBooks(Books b){\r\n        this.booksList.add(b);\r\n        System.out.println(&quot;Book Added Successfully&quot;);\r\n    }\r\n\r\n    public void issuedBooks(Books b,String issuedTo,String issuedOn){\r\n        if(booksList.isEmpty()){\r\n            System.out.println(&quot;All Books are issued.No books are available right now&quot;);\r\n        }\r\n        else{\r\n            if(booksList.contains(b))\r\n            {\r\n                this.booksList.remove(b);\r\n                System.out.println(&quot;Book &quot;+b.bookName+&quot; is issued successfully to &quot;+issuedTo+&quot; on &quot;+issuedOn);\r\n            }\r\n            else{\r\n                System.out.println(&quot;Sorry! The Book &quot;+b.bookName+&quot; is already been issued to someone&quot;);\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n    public void returnBooks(Books b, String returnFrom){\r\n        this.booksList.add(b);\r\n        System.out.println(&quot;Book is returned successfully from &quot;+returnFrom+&quot; to the Library&quot;);\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n```\r\nAlso please Explain why are we creating this below ArrayList\r\n```\r\n        ArrayList&lt;Books&gt; book1 = new ArrayList&lt;&gt;();\r\n        LocalDate ldt = LocalDate.now();\r\n\r\n        Books b1 = new Books(&quot;Naruto&quot;,&quot;Kisishima&quot;);\r\n        book1.add(b1);\r\n\r\n        Books b2 = new Books(&quot;Naruto Shippuden&quot;,&quot;Kisishima&quot;);\r\n        book1.add(b2);\r\n\r\n        Books b3 = new Books(&quot;Attack On Titan&quot;,&quot;Bhaluche&quot;);\r\n        book1.add(b3);\r\n\r\n        Books b4 = new Books(&quot;Akame Ga Kill&quot;,&quot;Killer bee&quot;);\r\n        book1.add(b4);\r\n\r\n        Books b5 = new Books(&quot;Death Note&quot;,&quot;Light&quot;);\r\n        book1.add(b5);\r\n\r\n        Ex7_LibraryManagementSystem l = new Ex7_LibraryManagementSystem(book1);\r\n//        l.addBooks(new Books(&quot;Boruto&quot;,&quot;Naruto&quot;));\r\n\r\n        l.issuedBooks(b3,&quot;Sanan&quot;,ldt.getDayOfMonth()+&quot;/&quot;+ldt.getMonthValue()+&quot;/&quot;+ldt.getYear());\r\n        l.issuedBooks(b1,&quot;Sandy&quot;,ldt.getDayOfMonth()+&quot;/&quot;+ldt.getMonthValue()+&quot;/&quot;+ldt.getYear());\r\n//        l.issuedBooks(b2,&quot;Suleman&quot;,ldt.getDayOfMonth()+&quot;/&quot;+ldt.getMonthValue()+&quot;/&quot;+ldt.getYear());\r\n//        l.issuedBooks(b4,&quot;Sanju&quot;,ldt.getDayOfMonth()+&quot;/&quot;+ldt.getMonthValue()+&quot;/&quot;+ldt.getYear());\r\n//        l.issuedBooks(b5,&quot;Thor&quot;,ldt.getDayOfMonth()+&quot;/&quot;+ldt.getMonthValue()+&quot;/&quot;+ldt.getYear());\r\n        l.issuedBooks(b1,&quot;anuj&quot;,ldt.getDayOfMonth()+&quot;/&quot;+ldt.getMonthValue()+&quot;/&quot;+ldt.getYear());\r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\n```\r\nPlease Help Me...Thank you!","title":"I cannot understand how an ArrayList can have Class object as a datatype","body":"<pre><code>import java.time.LocalDate;\nimport java.util.ArrayList;\n\nclass Books{\n    String bookName, authorName;\n    public Books(String bName, String aName){\n        this.authorName = aName;\n        this.bookName = bName;\n    }\n\n    @Override\n    public String toString(){\n        return &quot;Book Details{Book name: &quot;+bookName+&quot;, Author: &quot;+authorName+&quot;}&quot;;\n    }\n\n}\npublic class Ex7_LibraryManagementSystem {\n</code></pre>\n<p>What is going on here? I'm new to java so I don't get the ArrayList that much. Are we creating an ArrayList with a class datatype??? Does this part falls in Advance Java or do I need to revise my basics again? I'm confused with all these class Books passing as an argument thing</p>\n<pre><code>    ArrayList&lt;Books&gt; booksList;\n    Ex7_LibraryManagementSystem(ArrayList&lt;Books&gt; bookName){\n        this.booksList = bookName;\n    }\n\n    public void addBooks(Books b){\n        this.booksList.add(b);\n        System.out.println(&quot;Book Added Successfully&quot;);\n    }\n\n    public void issuedBooks(Books b,String issuedTo,String issuedOn){\n        if(booksList.isEmpty()){\n            System.out.println(&quot;All Books are issued.No books are available right now&quot;);\n        }\n        else{\n            if(booksList.contains(b))\n            {\n                this.booksList.remove(b);\n                System.out.println(&quot;Book &quot;+b.bookName+&quot; is issued successfully to &quot;+issuedTo+&quot; on &quot;+issuedOn);\n            }\n            else{\n                System.out.println(&quot;Sorry! The Book &quot;+b.bookName+&quot; is already been issued to someone&quot;);\n            }\n\n        }\n\n    }\n    public void returnBooks(Books b, String returnFrom){\n        this.booksList.add(b);\n        System.out.println(&quot;Book is returned successfully from &quot;+returnFrom+&quot; to the Library&quot;);\n    }\n\n\n    public static void main(String[] args) {\n</code></pre>\n<p>Also please Explain why are we creating this below ArrayList</p>\n<pre><code>        ArrayList&lt;Books&gt; book1 = new ArrayList&lt;&gt;();\n        LocalDate ldt = LocalDate.now();\n\n        Books b1 = new Books(&quot;Naruto&quot;,&quot;Kisishima&quot;);\n        book1.add(b1);\n\n        Books b2 = new Books(&quot;Naruto Shippuden&quot;,&quot;Kisishima&quot;);\n        book1.add(b2);\n\n        Books b3 = new Books(&quot;Attack On Titan&quot;,&quot;Bhaluche&quot;);\n        book1.add(b3);\n\n        Books b4 = new Books(&quot;Akame Ga Kill&quot;,&quot;Killer bee&quot;);\n        book1.add(b4);\n\n        Books b5 = new Books(&quot;Death Note&quot;,&quot;Light&quot;);\n        book1.add(b5);\n\n        Ex7_LibraryManagementSystem l = new Ex7_LibraryManagementSystem(book1);\n//        l.addBooks(new Books(&quot;Boruto&quot;,&quot;Naruto&quot;));\n\n        l.issuedBooks(b3,&quot;Sanan&quot;,ldt.getDayOfMonth()+&quot;/&quot;+ldt.getMonthValue()+&quot;/&quot;+ldt.getYear());\n        l.issuedBooks(b1,&quot;Sandy&quot;,ldt.getDayOfMonth()+&quot;/&quot;+ldt.getMonthValue()+&quot;/&quot;+ldt.getYear());\n//        l.issuedBooks(b2,&quot;Suleman&quot;,ldt.getDayOfMonth()+&quot;/&quot;+ldt.getMonthValue()+&quot;/&quot;+ldt.getYear());\n//        l.issuedBooks(b4,&quot;Sanju&quot;,ldt.getDayOfMonth()+&quot;/&quot;+ldt.getMonthValue()+&quot;/&quot;+ldt.getYear());\n//        l.issuedBooks(b5,&quot;Thor&quot;,ldt.getDayOfMonth()+&quot;/&quot;+ldt.getMonthValue()+&quot;/&quot;+ldt.getYear());\n        l.issuedBooks(b1,&quot;anuj&quot;,ldt.getDayOfMonth()+&quot;/&quot;+ldt.getMonthValue()+&quot;/&quot;+ldt.getYear());\n\n\n\n\n    }\n}\n\n</code></pre>\n<p>Please Help Me...Thank you!</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1650414879,"post_id":71931812,"comment_id":127108521,"body_markdown":"Have a look [here](https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-return-an-empty-or-null-value) - your `onComplete` method will not be called until later (async code is run out of order), so when it updates the array it is after it has already been passed to the adapter. You would need to at least have the onComplete method notify the adapter that new data was received.","body":"Have a look <a href=\"https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-return-an-empty-or-null-value\">here</a> - your <code>onComplete</code> method will not be called until later (async code is run out of order), so when it updates the array it is after it has already been passed to the adapter. You would need to at least have the onComplete method notify the adapter that new data was received."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1650433130,"post_id":71931812,"comment_id":127111315,"body_markdown":"Please edit your question and add your database structure as a screenshot. Please respond with @AlexMamo","body":"Please edit your question and add your database structure as a screenshot. Please respond with @AlexMamo"},{"owner":{"account_id":23000433,"reputation":3,"user_id":17124475,"display_name":"geneeee"},"score":0,"creation_date":1650453146,"post_id":71931812,"comment_id":127118345,"body_markdown":"@AlexMamo I have added my database structure as screenshot","body":"@AlexMamo I have added my database structure as screenshot"},{"owner":{"account_id":23000433,"reputation":3,"user_id":17124475,"display_name":"geneeee"},"score":0,"creation_date":1650453373,"post_id":71931812,"comment_id":127118415,"body_markdown":"@TylerV I have edited my code, but currently it will show the error [Cannot resolve constructor &#39;ArrayAdapter(anonymous com.example.bustrackingapp.busTimetable.Callback, int, java.util.ArrayList&lt;java.lang.String&gt;)&#39; ] \nIn the foo(new Callback()","body":"@TylerV I have edited my code, but currently it will show the error [Cannot resolve constructor &#39;ArrayAdapter(anonymous com.example.bustrackingapp.busTimetable.Callback, int, java.util.ArrayList&lt;java.lang.String&gt;)&#39; ]  In the foo(new Callback()"},{"owner":{"account_id":2605081,"reputation":2763,"user_id":2256407,"display_name":"Mahmoud"},"score":0,"creation_date":1650460176,"post_id":71931812,"comment_id":127121111,"body_markdown":"You should call callback.myResponseCallback(arrayList); after the for loop. In your current code you&#39;re calling the callback multiple times. It&#39;s not a listener. It&#39;s a callback. You should call it once after you collect the driverNames.","body":"You should call callback.myResponseCallback(arrayList); after the for loop. In your current code you&#39;re calling the callback multiple times. It&#39;s not a listener. It&#39;s a callback. You should call it once after you collect the driverNames."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1650460244,"post_id":71931812,"comment_id":127121151,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650456112,"creation_date":1650456112,"answer_id":71939290,"question_id":71931812,"body_markdown":"There is nothing in your code that indicates the addition of the &quot;busName&quot; inside your list, at position zero. However, if you refactor your code like below, you&#39;ll get the correct way of adding the list to the callback:\r\n\r\n```\r\npublic void foo(final Callback callback) {\r\n    fStore.collection(&quot;drivers&quot;)\r\n            .get()\r\n            .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\r\n                        for (QueryDocumentSnapshot document : task.getResult()) {\r\n                            String busName = document.getString(&quot;fName&quot;);\r\n                            boolean ongoing = document.getBoolean(&quot;ongoing&quot;);\r\n                            Log.d(TAG, &quot;SUCCESSFULL GET USER DATA&quot;);\r\n\r\n                            if (ongoing) {\r\n                                arrayList.add(busName);\r\n                            }\r\n                        }\r\n                        callback.myResponseCallback(arrayList);\r\n                    }\r\n                }\r\n            });\r\n```\r\n\r\nThings that are changed:\r\n\r\n* Got the creation of the ArrayList out of the loop. In this way, you&#39;ll create a single instance and not one at each iteration.\r\n* Got the addition of the ArrayList to callback out of the loop, from the exact same reasons.","title":"Passing data from cloud Firestore to ListView","body":"<p>There is nothing in your code that indicates the addition of the &quot;busName&quot; inside your list, at position zero. However, if you refactor your code like below, you'll get the correct way of adding the list to the callback:</p>\n<pre><code>public void foo(final Callback callback) {\n    fStore.collection(&quot;drivers&quot;)\n            .get()\n            .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                    if (task.isSuccessful()) {\n                        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\n                        for (QueryDocumentSnapshot document : task.getResult()) {\n                            String busName = document.getString(&quot;fName&quot;);\n                            boolean ongoing = document.getBoolean(&quot;ongoing&quot;);\n                            Log.d(TAG, &quot;SUCCESSFULL GET USER DATA&quot;);\n\n                            if (ongoing) {\n                                arrayList.add(busName);\n                            }\n                        }\n                        callback.myResponseCallback(arrayList);\n                    }\n                }\n            });\n</code></pre>\n<p>Things that are changed:</p>\n<ul>\n<li>Got the creation of the ArrayList out of the loop. In this way, you'll create a single instance and not one at each iteration.</li>\n<li>Got the addition of the ArrayList to callback out of the loop, from the exact same reasons.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650463394,"creation_date":1650462611,"answer_id":71940925,"question_id":71931812,"body_markdown":"Have a look at the code below. The code in your `onComplete` method runs later in time, so when it runs you can add the data received to the adapter itself, not the array, which will automatically notify the ListView that it needs to update.\r\n\r\n```java\r\n\r\npublic class busTimetable extends AppCompatActivity {\r\n\r\n    private static final String TAG = &quot;busTimetable&quot;;\r\n\r\n    FirebaseFirestore fStore;\r\n    private ListView lv;\r\n    private ArrayAdapter&lt;String&gt; adapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.ongoing_bus);\r\n        fStore = FirebaseFirestore.getInstance();\r\n\r\n        lv = (ListView) findViewById(R.id.listView);\r\n        lv.setEmptyView(findViewById(R.id.empty));\r\n        \r\n        // Create an empty adapter - no items set yet\r\n        adapter = new ArrayAdapter&lt;String&gt;(\r\n                    this,\r\n                    android.R.layout.simple_list_item_1);\r\n        lv.setAdapter(adapter);\r\n                    \r\n        // call the async method - when it completes (some time in the future)\r\n        // it will add stuff to the adapter\r\n        fStore.collection(&quot;drivers&quot;)\r\n            .get()\r\n            .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        \r\n                        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;String&gt;();\r\n                        for (QueryDocumentSnapshot document : task.getResult()) {\r\n                            String busName = document.getString(&quot;fName&quot;);\r\n                            boolean ongoing = document.getBoolean(&quot;ongoing&quot;);\r\n                            Log.d(TAG, &quot;SUCCESSFULL GET USER DATA&quot;);\r\n                            \r\n                            if (ongoing) {\r\n                                arrayList.add(busName);\r\n                            }\r\n                        }\r\n                        \r\n                        adapter.clear();\r\n                        adapter.addAll(arrayList);\r\n                    }\r\n                }\r\n            });\r\n\r\n        // This will always print &quot;0&quot; - it runs before the code above\r\n        // in the onComplete callback\r\n        Log.d(TAG, &quot;Adapter size = &quot; + adapter.getCount());\r\n    }\r\n```","title":"Passing data from cloud Firestore to ListView","body":"<p>Have a look at the code below. The code in your <code>onComplete</code> method runs later in time, so when it runs you can add the data received to the adapter itself, not the array, which will automatically notify the ListView that it needs to update.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class busTimetable extends AppCompatActivity {\n\n    private static final String TAG = &quot;busTimetable&quot;;\n\n    FirebaseFirestore fStore;\n    private ListView lv;\n    private ArrayAdapter&lt;String&gt; adapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.ongoing_bus);\n        fStore = FirebaseFirestore.getInstance();\n\n        lv = (ListView) findViewById(R.id.listView);\n        lv.setEmptyView(findViewById(R.id.empty));\n        \n        // Create an empty adapter - no items set yet\n        adapter = new ArrayAdapter&lt;String&gt;(\n                    this,\n                    android.R.layout.simple_list_item_1);\n        lv.setAdapter(adapter);\n                    \n        // call the async method - when it completes (some time in the future)\n        // it will add stuff to the adapter\n        fStore.collection(&quot;drivers&quot;)\n            .get()\n            .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                    if (task.isSuccessful()) {\n                        \n                        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;String&gt;();\n                        for (QueryDocumentSnapshot document : task.getResult()) {\n                            String busName = document.getString(&quot;fName&quot;);\n                            boolean ongoing = document.getBoolean(&quot;ongoing&quot;);\n                            Log.d(TAG, &quot;SUCCESSFULL GET USER DATA&quot;);\n                            \n                            if (ongoing) {\n                                arrayList.add(busName);\n                            }\n                        }\n                        \n                        adapter.clear();\n                        adapter.addAll(arrayList);\n                    }\n                }\n            });\n\n        // This will always print &quot;0&quot; - it runs before the code above\n        // in the onComplete callback\n        Log.d(TAG, &quot;Adapter size = &quot; + adapter.getCount());\n    }\n</code></pre>\n"}],"owner":{"account_id":23000433,"reputation":3,"user_id":17124475,"display_name":"geneeee"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71940925,"answer_count":2,"score":0,"last_activity_date":1650463394,"creation_date":1650405537,"question_id":71931812,"body_markdown":"I am trying to get my data from Cloud Firestore and pass it into the ListView. Currently, my code would need to pass the bus name into an ArrayList and it would pass to the ListView.\r\n\r\n**MainActivity.java**\r\n    \r\n    public class busTimetable extends AppCompatActivity {\r\n\r\n    private static final String TAG = &quot;busTimetable&quot;;\r\n\r\n    FirebaseFirestore fStore;\r\n    private ListView lv;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.ongoing_bus);\r\n        fStore = FirebaseFirestore.getInstance();\r\n\r\n        lv = (ListView) findViewById(R.id.listView);\r\n        lv.setEmptyView(findViewById(R.id.empty));\r\n        //ArrayList&lt;String&gt; arrayList = new ArrayList&lt;String&gt;();\r\n        \r\n        foo(new Callback() {\r\n            @Override\r\n            public void myResponseCallback(ArrayList&lt;String&gt; result) {\r\n\r\n                ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(\r\n                        this,\r\n                        android.R.layout.simple_list_item_1,\r\n                        result);\r\n\r\n                lv.setAdapter(arrayAdapter);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    interface Callback {\r\n        void myResponseCallback(ArrayList&lt;String&gt; result);//whatever your return type is: string, integer, etc.\r\n    }\r\n\r\n    public void foo(final Callback callback) {\r\n        fStore.collection(&quot;drivers&quot;)\r\n                .get()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            for (QueryDocumentSnapshot document : task.getResult()) {\r\n                                String busName = document.getString(&quot;fName&quot;);\r\n                                boolean ongoing = document.getBoolean(&quot;ongoing&quot;);\r\n                                Log.d(TAG, &quot;SUCCESSFULL GET USER DATA&quot;);\r\n                                ArrayList&lt;String&gt; arrayList = new ArrayList&lt;String&gt;();\r\n\r\n                                if (ongoing) {\r\n                                    arrayList.add(busName);\r\n                                    callback.myResponseCallback(arrayList);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n\r\n\r\n    }\r\n}\r\n\r\n**ongoing_bus.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_width=&quot;fill_parent&quot;\r\n    android:layout_height=&quot;fill_parent&quot; &gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/listView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/empty&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:text=&quot;@string/no_results&quot; /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n**Firestore Database Structure**\r\n\r\n[Screenshot of my database structure][1]\r\n\r\nIf I did not add in the code\r\narrayList.add(&quot;busName&quot;);\r\n\r\nMy ListView will show no result, but when I add in the code, it will show the result of the code but with the text busName on top of it. I wish to display the bus name without the &quot;busName&quot; text.\r\n\r\n\r\n[here is the sample of expected output][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XZXWx.png\r\n  [2]: https://i.stack.imgur.com/UNdHj.png","title":"Passing data from cloud Firestore to ListView","body":"<p>I am trying to get my data from Cloud Firestore and pass it into the ListView. Currently, my code would need to pass the bus name into an ArrayList and it would pass to the ListView.</p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>public class busTimetable extends AppCompatActivity {\n\nprivate static final String TAG = &quot;busTimetable&quot;;\n\nFirebaseFirestore fStore;\nprivate ListView lv;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.ongoing_bus);\n    fStore = FirebaseFirestore.getInstance();\n\n    lv = (ListView) findViewById(R.id.listView);\n    lv.setEmptyView(findViewById(R.id.empty));\n    //ArrayList&lt;String&gt; arrayList = new ArrayList&lt;String&gt;();\n    \n    foo(new Callback() {\n        @Override\n        public void myResponseCallback(ArrayList&lt;String&gt; result) {\n\n            ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(\n                    this,\n                    android.R.layout.simple_list_item_1,\n                    result);\n\n            lv.setAdapter(arrayAdapter);\n        }\n    });\n\n}\n\ninterface Callback {\n    void myResponseCallback(ArrayList&lt;String&gt; result);//whatever your return type is: string, integer, etc.\n}\n\npublic void foo(final Callback callback) {\n    fStore.collection(&quot;drivers&quot;)\n            .get()\n            .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                    if (task.isSuccessful()) {\n                        for (QueryDocumentSnapshot document : task.getResult()) {\n                            String busName = document.getString(&quot;fName&quot;);\n                            boolean ongoing = document.getBoolean(&quot;ongoing&quot;);\n                            Log.d(TAG, &quot;SUCCESSFULL GET USER DATA&quot;);\n                            ArrayList&lt;String&gt; arrayList = new ArrayList&lt;String&gt;();\n\n                            if (ongoing) {\n                                arrayList.add(busName);\n                                callback.myResponseCallback(arrayList);\n                            }\n                        }\n                    }\n                }\n            });\n\n\n}\n</code></pre>\n<p>}</p>\n<p><strong>ongoing_bus.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;fill_parent&quot;\n    android:layout_height=&quot;fill_parent&quot; &gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/listView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/empty&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:text=&quot;@string/no_results&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>Firestore Database Structure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/XZXWx.png\" rel=\"nofollow noreferrer\">Screenshot of my database structure</a></p>\n<p>If I did not add in the code\narrayList.add(&quot;busName&quot;);</p>\n<p>My ListView will show no result, but when I add in the code, it will show the result of the code but with the text busName on top of it. I wish to display the bus name without the &quot;busName&quot; text.</p>\n<p><a href=\"https://i.stack.imgur.com/UNdHj.png\" rel=\"nofollow noreferrer\">here is the sample of expected output</a></p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":1816200,"reputation":18958,"user_id":1651233,"accept_rate":67,"display_name":"BobTheBuilder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1413699413,"creation_date":1413698869,"answer_id":26447848,"question_id":26447793,"body_markdown":"Looks like you import the wrong `SessionFactory`. Use:\r\n\r\n    import org.hibernate.SessionFactory;\r\n\r\ninstead of:\r\n\r\n    import org.apache.cxf.service.invoker.SessionFactory;","title":"The method getCurrentSession() is undefined for the type SessionFactory","body":"<p>Looks like you import the wrong <code>SessionFactory</code>. Use:</p>\n\n<pre><code>import org.hibernate.SessionFactory;\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>import org.apache.cxf.service.invoker.SessionFactory;\n</code></pre>\n"}],"owner":{"account_id":4412936,"reputation":449,"user_id":3595296,"accept_rate":100,"display_name":"Mahin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7564,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":26447848,"answer_count":1,"score":0,"last_activity_date":1650463392,"creation_date":1413698257,"question_id":26447793,"body_markdown":"I&#39;m doing a web based project using Maven,Spring and Hibernate.I just have faced a problem. The problem is whenever I&#39;m using sessionFactory.getCurrentSession() it showing a error and the error is\r\n\r\n&gt; The method getCurrentSession() is undefined for the type SessionFactory\r\n\r\nHere is my pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;org.mahin.webchatapp&lt;/groupId&gt;\r\n      &lt;artifactId&gt;WebChatApp&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;name&gt;WebChatApp&lt;/name&gt;\r\n      &lt;description&gt;For Chatting&lt;/description&gt;\r\n      \r\n    &lt;properties&gt;\r\n      &lt;spring.version&gt;4.1.1.RELEASE&lt;/spring.version&gt;\r\n      &lt;hibernate.version&gt;4.3.6.Final&lt;/hibernate.version&gt;\r\n    &lt;/properties&gt;\r\n     \r\n    &lt;dependencies&gt;\r\n      &lt;!-- Spring --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n       \r\n      &lt;!-- Hibernate --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n       \r\n      &lt;!-- Java EE --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n       \r\n      &lt;!-- Others --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.32&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n       \r\n       \r\n    &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;source&gt;1.6&lt;/source&gt;\r\n            &lt;target&gt;1.6&lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nHere is my servlet-context.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n      xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n      xsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd\r\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd\r\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;&gt;\r\n     \r\n      &lt;!-- Enable @Controller annotation support --&gt;\r\n      &lt;mvc:annotation-driven /&gt;\r\n     \r\n      &lt;!-- Map simple view name such as &quot;test&quot; into /WEB-INF/test.jsp --&gt;\r\n      &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/&quot; /&gt;\r\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n      &lt;/bean&gt;\r\n       \r\n      &lt;!-- Scan classpath for annotations (eg: @Service, @Repository etc) --&gt;\r\n      &lt;context:component-scan base-package=&quot;com.mahin&quot;/&gt;\r\n       \r\n      &lt;!-- JDBC Data Source. It is assumed you have MySQL running on localhost port 3306 with\r\n           username root and blank password. Change below if it&#39;s not the case --&gt;\r\n      &lt;bean id=&quot;myDataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/webchatapp&quot;/&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;&quot;/&gt;\r\n        &lt;property name=&quot;validationQuery&quot; value=&quot;SELECT 1&quot;/&gt;\r\n      &lt;/bean&gt;\r\n       \r\n      &lt;!-- Hibernate Session Factory --&gt;\r\n      &lt;bean id=&quot;mySessionFactory&quot; class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot;/&gt;\r\n        &lt;property name=&quot;packagesToScan&quot;&gt;\r\n          &lt;array&gt;\r\n            &lt;value&gt;com.mahin.models&lt;/value&gt;\r\n          &lt;/array&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n          &lt;value&gt;\r\n            hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n          &lt;/value&gt;\r\n        &lt;/property&gt;\r\n        \r\n      &lt;/bean&gt;\r\n       \r\n      &lt;!-- Hibernate Transaction Manager --&gt;\r\n      &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;mySessionFactory&quot;/&gt;\r\n      &lt;/bean&gt;\r\n       \r\n      &lt;!-- Activates annotation based transaction management --&gt;\r\n      &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;\r\n      \r\n    &lt;/beans&gt;\r\n\r\nHere is the DAO class with problem:\r\n\r\n    package com.mahin.daos;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.apache.cxf.service.invoker.SessionFactory;\r\n    import org.hibernate.Session;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.mahin.models.Users;\r\n    \r\n    @Repository\r\n    public class usersDAO implements WebChatDAOs{\r\n    \r\n    \t @Autowired \r\n    \t private SessionFactory sessionFactory;\r\n    \t  \r\n    \t private Session getCurrentSession() {\r\n    \t        return sessionFactory.getCurrentSession();\r\n    \t    }\r\n    \r\n    \t@Override\r\n    \tpublic void addUser(Users user) {\r\n            getCurrentSession().save(user);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void updateUser(Users user) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Users getUser(int id) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void deleteUser(int id) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;Users&gt; getUsers() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \t   \r\n    \t  \r\n    }\r\n\r\nCan anyone tell what is the problem?","title":"The method getCurrentSession() is undefined for the type SessionFactory","body":"<p>I'm doing a web based project using Maven,Spring and Hibernate.I just have faced a problem. The problem is whenever I'm using sessionFactory.getCurrentSession() it showing a error and the error is</p>\n\n<blockquote>\n  <p>The method getCurrentSession() is undefined for the type SessionFactory</p>\n</blockquote>\n\n<p>Here is my pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.mahin.webchatapp&lt;/groupId&gt;\n  &lt;artifactId&gt;WebChatApp&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;name&gt;WebChatApp&lt;/name&gt;\n  &lt;description&gt;For Chatting&lt;/description&gt;\n\n&lt;properties&gt;\n  &lt;spring.version&gt;4.1.1.RELEASE&lt;/spring.version&gt;\n  &lt;hibernate.version&gt;4.3.6.Final&lt;/hibernate.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n  &lt;!-- Spring --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;version&gt;${spring.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;${spring.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n    &lt;version&gt;${spring.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;!-- Hibernate --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;${hibernate.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;!-- Java EE --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;jstl&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;!-- Others --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n    &lt;version&gt;1.4&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.32&lt;/version&gt;\n  &lt;/dependency&gt;\n\n\n&lt;/dependencies&gt;\n  &lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.1&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;source&gt;1.6&lt;/source&gt;\n        &lt;target&gt;1.6&lt;/target&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Here is my servlet-context.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xmlns:mvc=\"http://www.springframework.org/schema/mvc\" xmlns:beans=\"http://www.springframework.org/schema/beans\"\n  xmlns:context=\"http://www.springframework.org/schema/context\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\n  xsi:schemaLocation=\"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd\n    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd\"&gt;\n\n  &lt;!-- Enable @Controller annotation support --&gt;\n  &lt;mvc:annotation-driven /&gt;\n\n  &lt;!-- Map simple view name such as \"test\" into /WEB-INF/test.jsp --&gt;\n  &lt;bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;property name=\"prefix\" value=\"/WEB-INF/\" /&gt;\n    &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n  &lt;/bean&gt;\n\n  &lt;!-- Scan classpath for annotations (eg: @Service, @Repository etc) --&gt;\n  &lt;context:component-scan base-package=\"com.mahin\"/&gt;\n\n  &lt;!-- JDBC Data Source. It is assumed you have MySQL running on localhost port 3306 with\n       username root and blank password. Change below if it's not the case --&gt;\n  &lt;bean id=\"myDataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\" destroy-method=\"close\"&gt;\n    &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\"/&gt;\n    &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/webchatapp\"/&gt;\n    &lt;property name=\"username\" value=\"root\"/&gt;\n    &lt;property name=\"password\" value=\"\"/&gt;\n    &lt;property name=\"validationQuery\" value=\"SELECT 1\"/&gt;\n  &lt;/bean&gt;\n\n  &lt;!-- Hibernate Session Factory --&gt;\n  &lt;bean id=\"mySessionFactory\" class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"myDataSource\"/&gt;\n    &lt;property name=\"packagesToScan\"&gt;\n      &lt;array&gt;\n        &lt;value&gt;com.mahin.models&lt;/value&gt;\n      &lt;/array&gt;\n    &lt;/property&gt;\n    &lt;property name=\"hibernateProperties\"&gt;\n      &lt;value&gt;\n        hibernate.dialect=org.hibernate.dialect.MySQLDialect\n      &lt;/value&gt;\n    &lt;/property&gt;\n\n  &lt;/bean&gt;\n\n  &lt;!-- Hibernate Transaction Manager --&gt;\n  &lt;bean id=\"transactionManager\" class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"&gt;\n    &lt;property name=\"sessionFactory\" ref=\"mySessionFactory\"/&gt;\n  &lt;/bean&gt;\n\n  &lt;!-- Activates annotation based transaction management --&gt;\n  &lt;tx:annotation-driven transaction-manager=\"transactionManager\"/&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>Here is the DAO class with problem:</p>\n\n<pre><code>package com.mahin.daos;\n\nimport java.util.List;\n\nimport org.apache.cxf.service.invoker.SessionFactory;\nimport org.hibernate.Session;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\n\nimport com.mahin.models.Users;\n\n@Repository\npublic class usersDAO implements WebChatDAOs{\n\n     @Autowired \n     private SessionFactory sessionFactory;\n\n     private Session getCurrentSession() {\n            return sessionFactory.getCurrentSession();\n        }\n\n    @Override\n    public void addUser(Users user) {\n        getCurrentSession().save(user);\n    }\n\n    @Override\n    public void updateUser(Users user) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public Users getUser(int id) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public void deleteUser(int id) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public List&lt;Users&gt; getUsers() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n\n}\n</code></pre>\n\n<p>Can anyone tell what is the problem?</p>\n"},{"tags":["java","multicast","jgroups"],"answers":[{"tags":[],"owner":{"account_id":22385773,"reputation":86,"user_id":16598611,"display_name":"fko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650463358,"creation_date":1650463358,"answer_id":71941096,"question_id":71926144,"body_markdown":"I upgraded to jgroups version 4.* and updated protocols with newer versions with one new protocol as follows. \r\n\r\n    PING\r\n    \r\n    MERGE3\r\n    \r\n    FD_SOCK\r\n    \r\n    FD_ALL with values &quot;timeout&quot;=15000, &quot;interval&quot;=3000\r\n    \r\n    VERIFY_SUSPECT\r\n    \r\n    BARRIER\r\n    \r\n    NAKACK2\r\n    \r\n    UNICAST3\r\n    \r\n    STABLE \r\n    \r\n    GMS with value &quot;max_join_attempts&quot;=0\r\n    \r\n    UFC \r\n    \r\n    MFC\r\n    \r\n    FRAG2\r\n    \r\n    STATE_TRANSFER\r\n\r\nNot sure which solved problem but &quot;max_join_attempts&quot;=0 part may be the core point as nodes do not give up trying to join the cluster this way. ","title":"JGroups unstable grouping","body":"<p>I upgraded to jgroups version 4.* and updated protocols with newer versions with one new protocol as follows.</p>\n<pre><code>PING\n\nMERGE3\n\nFD_SOCK\n\nFD_ALL with values &quot;timeout&quot;=15000, &quot;interval&quot;=3000\n\nVERIFY_SUSPECT\n\nBARRIER\n\nNAKACK2\n\nUNICAST3\n\nSTABLE \n\nGMS with value &quot;max_join_attempts&quot;=0\n\nUFC \n\nMFC\n\nFRAG2\n\nSTATE_TRANSFER\n</code></pre>\n<p>Not sure which solved problem but &quot;max_join_attempts&quot;=0 part may be the core point as nodes do not give up trying to join the cluster this way.</p>\n"}],"owner":{"account_id":22385773,"reputation":86,"user_id":16598611,"display_name":"fko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71941096,"answer_count":1,"score":0,"last_activity_date":1650463358,"creation_date":1650376362,"question_id":71926144,"body_markdown":"I am using jgroups reliable multicast to communicate. I have a structure as follows. \r\n\r\n- A cluster named clusterA contains three nodes.\r\n- A node has multiple applications that want to join clusterA multicast.  \r\n\r\nWhen I start the applications, first joiner app in each node can join the cluster without problem and can communicate each other. Remaining nodes are unstable that their behaviour changes for each startup. Sometimes they can join the cluster, sometimes not. I could not find any pattern.\r\n\r\nA log that I can share is the one saying sth like &quot;... is not a member, discarding message&quot;. So, it is seen that it cannot join the cluster. The protocol stack I applied\r\n\r\n    PING\r\n    \r\n    MERGE2\r\n    \r\n    FD_SOCK\r\n    \r\n    FD_ALL with values &quot;timeout&quot;=12000, &quot;interval&quot;=3000\r\n    \r\n    VERIFY_SUSPECT\r\n    \r\n    BARRIER\r\n    \r\n    NAKACK\r\n    \r\n    UNICAST2\r\n\r\n    STABLE \r\n\r\n    GMS \r\n\r\n    UFC \r\n\r\n    MFC\r\n   \r\n    FRAG2\r\n\r\n\r\nHow can I handle this problem? (Version 3.6.1.Final) ","title":"JGroups unstable grouping","body":"<p>I am using jgroups reliable multicast to communicate. I have a structure as follows.</p>\n<ul>\n<li>A cluster named clusterA contains three nodes.</li>\n<li>A node has multiple applications that want to join clusterA multicast.</li>\n</ul>\n<p>When I start the applications, first joiner app in each node can join the cluster without problem and can communicate each other. Remaining nodes are unstable that their behaviour changes for each startup. Sometimes they can join the cluster, sometimes not. I could not find any pattern.</p>\n<p>A log that I can share is the one saying sth like &quot;... is not a member, discarding message&quot;. So, it is seen that it cannot join the cluster. The protocol stack I applied</p>\n<pre><code>PING\n\nMERGE2\n\nFD_SOCK\n\nFD_ALL with values &quot;timeout&quot;=12000, &quot;interval&quot;=3000\n\nVERIFY_SUSPECT\n\nBARRIER\n\nNAKACK\n\nUNICAST2\n\nSTABLE \n\nGMS \n\nUFC \n\nMFC\n\nFRAG2\n</code></pre>\n<p>How can I handle this problem? (Version 3.6.1.Final)</p>\n"},{"tags":["java","gwt"],"answers":[{"tags":[],"owner":{"account_id":1310001,"reputation":3639,"user_id":1258245,"accept_rate":92,"display_name":"user1258245"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1446546106,"creation_date":1346102879,"answer_id":12149859,"question_id":12149469,"body_markdown":"You need to add a no-args constructor such as:\r\n\r\n    public class Tweet implements Serializable{\r\n\r\n      public Tweet(){\r\n      }\r\n\r\n    }\r\n\r\n**EDIT**\r\n\r\nYou will also need one here too\r\n\r\n    private class SearchResponse {\r\n\r\n      public SearchResponse(){\r\n      }\r\n      public List&lt;Tweet&gt; results;\r\n    }\r\n\r\n\r\nto deal with your error `java.lang.RuntimeException: Unable to invoke no-args constructor for class  `\r\n\r\nA user defined class is serializable if:\r\n\r\n1. the class is assignable to IsSerializable or java.io.Serializable, either because it implements one of these interfaces, or because it is derived from a superclass that implements one of these interfaces.\r\n\r\n2. all the class’s non-final, non-transient instance fields are serializable\r\n\r\n3. the class has a public default (zero argument) constructor\r\n\r\n[above is from this tutorial][1]\r\n\r\n\r\n  [1]: http://developerlife.com/tutorials/?p=125","title":"Gwt/gson in eclipse, error: &quot;Unable to invoke no-args constructor for class&quot;","body":"<p>You need to add a no-args constructor such as:</p>\n\n<pre><code>public class Tweet implements Serializable{\n\n  public Tweet(){\n  }\n\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>You will also need one here too</p>\n\n<pre><code>private class SearchResponse {\n\n  public SearchResponse(){\n  }\n  public List&lt;Tweet&gt; results;\n}\n</code></pre>\n\n<p>to deal with your error <code>java.lang.RuntimeException: Unable to invoke no-args constructor for class</code></p>\n\n<p>A user defined class is serializable if:</p>\n\n<ol>\n<li><p>the class is assignable to IsSerializable or java.io.Serializable, either because it implements one of these interfaces, or because it is derived from a superclass that implements one of these interfaces.</p></li>\n<li><p>all the class’s non-final, non-transient instance fields are serializable</p></li>\n<li><p>the class has a public default (zero argument) constructor</p></li>\n</ol>\n\n<p><a href=\"http://developerlife.com/tutorials/?p=125\" rel=\"nofollow\">above is from this tutorial</a></p>\n"}],"owner":{"account_id":1787505,"reputation":646,"user_id":1628648,"accept_rate":92,"display_name":"brl8"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18140,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":12149859,"answer_count":1,"score":5,"last_activity_date":1650463209,"creation_date":1346100835,"question_id":12149469,"body_markdown":"I&#39;m playing around with this Google Web toolkit/GSON example that gets data from twitter.\r\n\r\nEverything is compiling just fine, but when I debug as Web Application, everything loads just fine, but when I click the &quot;search&quot; button I get the following error: \r\n\r\n```\r\n&gt;SEVERE: javax.servlet.ServletContext log: Exception while dispatching incoming RPC call\r\ncom.google.gwt.user.server.rpc.UnexpectedException: Service method &#39;public abstract java.util.List com.google.gwt.twittersearch.client.TwitterService.searchTweets(java.lang.String) throws java.io.IOException,java.lang.IllegalArgumentException&#39; threw an unexpected exception: java.lang.RuntimeException: Unable to invoke no-args constructor for class com.google.gwt.twittersearch.server.TwitterServiceImpl$SearchResponse. Register an InstanceCreator with Gson for this type may fix this problem.\r\n\tat com.google.gwt.user.server.rpc.RPC.encodeResponseForFailure(RPC.java:385)\r\n\tat com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:588)\r\n\tat com.google.gwt.user.server.rpc.RemoteServiceServlet.processCall(RemoteServiceServlet.java:208)\r\n\tat com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:248)\r\n\tat com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\r\n\tat com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:35)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:60)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\r\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\r\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\r\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\r\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\r\n\tat com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)\r\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n\tat com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:370)\r\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n\tat org.mortbay.jetty.Server.handle(Server.java:326)\r\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\r\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)\r\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)\r\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)\r\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\r\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\r\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\r\nCaused by: java.lang.RuntimeException: Unable to invoke no-args constructor for class com.google.gwt.twittersearch.server.TwitterServiceImpl$SearchResponse. Register an InstanceCreator with Gson for this type may fix this problem.\r\n\tat com.google.gson.internal.ConstructorConstructor$8.construct(ConstructorConstructor.java:167)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:162)\r\n\tat com.google.gson.Gson.fromJson(Gson.java:795)\r\n\tat com.google.gson.Gson.fromJson(Gson.java:734)\r\n\tat com.google.gwt.twittersearch.server.TwitterServiceImpl.parseSearchResponse(TwitterServiceImpl.java:80)\r\n\tat com.google.gwt.twittersearch.server.TwitterServiceImpl.searchTweets(TwitterServiceImpl.java:35)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat com.google.appengine.tools.development.agent.runtime.Runtime.invoke(Runtime.java:115)\r\n\tat com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:569)\r\n\t... 34 more\r\nCaused by: java.lang.UnsupportedOperationException: Cannot allocate class com.google.gwt.twittersearch.server.TwitterServiceImpl$SearchResponse\r\n\tat com.google.gson.internal.UnsafeAllocator$4.newInstance(UnsafeAllocator.java:100)\r\n\tat com.google.gson.internal.ConstructorConstructor$8.construct(ConstructorConstructor.java:164)\r\n\t... 45 more\r\n```\r\n\r\nHere is the TwitterServiceImpl code:\r\n\r\n    package com.google.gwt.twittersearch.server;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.Reader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    import java.net.URLEncoder;\r\n    import java.util.List;\r\n    \r\n    import com.google.gwt.twittersearch.client.Tweet;\r\n    import com.google.gwt.twittersearch.client.TwitterService;\r\n    import com.google.gson.Gson;\r\n    import com.google.gwt.user.server.rpc.RemoteServiceServlet;\r\n    \r\n    @SuppressWarnings(&quot;serial&quot;) \r\n    public class TwitterServiceImpl extends RemoteServiceServlet implements\r\n    \t\tTwitterService {\r\n\r\n    \t@Override\r\n    \tpublic List&lt;Tweet&gt; searchTweets(String query) throws IllegalArgumentException, IOException {\r\n    \t\t  query = query.trim();\r\n    \t\t  if (query.isEmpty()) {\r\n    \t\t    throw new IllegalArgumentException(&quot;No search query specified.&quot;);\r\n    \t\t  }\r\n    \t\t \r\n    \t\t  // see: https://dev.twitter.com/docs/api/1/get/search\r\n    \t\t  String q = URLEncoder.encode(query, &quot;UTF-8&quot;);\r\n    \t\t  URL url = new URL(&quot;http://search.twitter.com/search.json?q=&quot; + q);\r\n    \t\t  HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    \t\t  InputStream response = null;\r\n    \t\t  try {\r\n    \t\t    response = connection.getInputStream();\r\n    \t\t    return parseSearchResponse(response);\r\n    \t\t  } finally {\r\n    \t\t    if (response != null) {\r\n    \t\t      response.close();\r\n    \t\t    }\r\n    \t\t  }\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String getPrivacyPolicy() throws IOException {\r\n    \t\t// see: https://dev.twitter.com/docs/api/1/get/legal/privacy\r\n    \t\tURL url = new URL(&quot;https://api.twitter.com/1/legal/privacy.json&quot;);\r\n    \t\tHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    \t\tInputStream response = null;\r\n    \t\ttry {\r\n    \t\t\tresponse = connection.getInputStream();\r\n    \t\t\treturn parsePolicyResponse(response);\r\n    \t\t} finally {\r\n    \t\t\tif (response != null) {\r\n    \t\t\t\tresponse.close();\r\n    \t\t\t}\r\n    \t\t}\r\n     \t}\r\n    \r\n    \t/**\r\n    \t * Parses the privacy policy response returned from the Twitter API.\r\n    \t * @param response the response\r\n    \t * @return the privacy policy\r\n    \t * @throws IOException if there was a problem reading the response\r\n    \t */\r\n    \tprivate String parsePolicyResponse(InputStream response) throws IOException {\r\n    \t\tReader reader = new InputStreamReader(response);\r\n    \t\tPrivacyPolicyResponse privacyPolicyResponse = new Gson().fromJson(reader, PrivacyPolicyResponse.class);\r\n    \t\treturn privacyPolicyResponse.privacy;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Parses the search response returned from the Twitter API.\r\n    \t * @param response the response\r\n    \t * @return the search results\r\n    \t * @throws IOException if there was a problem reading the response\r\n    \t */\r\n    \r\n    \tprivate List&lt;Tweet&gt; parseSearchResponse(InputStream response) throws IOException {\r\n    \t\t  Reader reader = new InputStreamReader(response);\r\n    \t\t  SearchResponse searchResponse = new Gson().fromJson(reader, SearchResponse.class);\r\n    \t\t  return searchResponse.results;\r\n    \t\t}\r\n    \t\r\n    \tprivate class PrivacyPolicyResponse {\r\n\t\tpublic String privacy;\r\n    \t}\r\n\r\n\t\t \r\n\t\tprivate class SearchResponse {\r\n\t\t  public List&lt;Tweet&gt; results;\r\n\t\t}\r\n    }\r\n\r\n\r\n\r\nHere is the entry point code:\r\n\r\n    package com.google.gwt.twittersearch.client;\r\n\r\n    import java.util.List;\r\n    import com.google.gwt.safehtml.shared.SafeHtmlBuilder;\r\n    import com.google.gwt.core.client.EntryPoint;\r\n    import com.google.gwt.core.client.GWT;\r\n    import com.google.gwt.event.dom.client.ClickEvent;\r\n    import com.google.gwt.event.dom.client.ClickHandler;\r\n    import com.google.gwt.user.client.rpc.AsyncCallback;\r\n    import com.google.gwt.user.client.ui.Button;\r\n    import com.google.gwt.user.client.ui.HTML;\r\n    import com.google.gwt.user.client.ui.HorizontalPanel;\r\n    import com.google.gwt.user.client.ui.Image;\r\n    import com.google.gwt.user.client.ui.Label;\r\n    import com.google.gwt.user.client.ui.Panel;\r\n    import com.google.gwt.user.client.ui.RootPanel;\r\n    import com.google.gwt.user.client.ui.TextBox;\r\n    import com.google.gwt.user.client.ui.VerticalPanel;\r\n    \r\n    /**\r\n     * Entry point classes define &lt;code&gt;onModuleLoad()&lt;/code&gt;.\r\n     */\r\n    public class TwitterSearch implements EntryPoint {\r\n\t  private Button privacyPolicyButton;\r\n\t  private Button searchButton;\r\n\t  private TextBox searchQueryTextBox;\r\n\t  private Panel resultsPanel;\r\n\t  private Label errorLabel;\r\n\t  private Image loadingImage;\r\n\t  private final TwitterServiceAsync service = GWT.create(TwitterService.class);\r\n\r\n\t/**\r\n\t * This is the entry point method.\r\n\t */\r\n\tpublic void onModuleLoad() {\r\n\t\tcreateWidgets();\r\n\t    layoutWidgets();\r\n\t    \r\n\t}\r\n\t\r\n\tprivate void createWidgets() {\r\n\t\tsearchQueryTextBox = new TextBox();\r\n\r\n\t\tsearchButton = new Button(&quot;Search&quot;);\r\n\t\tsearchButton.addClickHandler(new ClickHandler() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(ClickEvent event) {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tString query = searchQueryTextBox.getText();\r\n\t\t\t\tservice.searchTweets(query, new AsyncCallback&lt;List&lt;Tweet&gt;&gt;() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void onFailure(Throwable caught) {\r\n\t\t\t\t\t\terrorLabel.setText(caught.getMessage());\r\n\t\t\t\t\t\terrorLabel.setVisible(true);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void onSuccess(List&lt;Tweet&gt; result) {\r\n\t\t\t\t\t\tresultsPanel.clear();\r\n\t\t\t\t\t\tfor (Tweet tweet : result) {\r\n\t\t\t\t\t\t\tSafeHtmlBuilder builder = new SafeHtmlBuilder();\r\n\t\t\t\t\t\t\tbuilder.appendHtmlConstant(&quot;&lt;b&gt;User: &lt;/b&gt;&quot;);\r\n\t\t\t\t\t\t\tbuilder.appendEscaped(tweet.getFrom_user());\r\n\t\t\t\t\t\t\tbuilder.appendHtmlConstant(&quot;&lt;br /&gt;&lt;b&gt;Created: &lt;/b&gt;&quot;);\r\n\t\t\t\t\t\t\tbuilder.appendEscaped(tweet.getCreated_at());\r\n\t\t\t\t\t\t\tbuilder.appendHtmlConstant(&quot;&lt;br /&gt;&lt;b&gt;Tweet: &lt;/b&gt;&quot;);\r\n\t\t\t\t\t\t\tbuilder.appendEscaped(tweet.getText());\r\n\t\t\t\t\t\t\tbuilder.appendHtmlConstant(&quot;&lt;br /&gt;&lt;br /&gt;&quot;);\r\n\t\t\t\t\t\t\tresultsPanel.add(new HTML(builder.toSafeHtml()));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tprivacyPolicyButton = new Button(&quot;Privacy Policy&quot;);\r\n\t\tprivacyPolicyButton.addClickHandler(new ClickHandler() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(ClickEvent event) {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tservice.getPrivacyPolicy(new AsyncCallback&lt;String&gt;() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void onFailure(Throwable caught) {\r\n\t\t\t\t\t\terrorLabel.setText(caught.getMessage());\r\n\t\t\t\t\t\terrorLabel.setVisible(true);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void onSuccess(String result) {\r\n\t\t\t\t\t\tresultsPanel.clear();\r\n\r\n\t\t\t\t\t\t// convert newlines to &lt;br /&gt;\r\n\t\t\t\t\t\tSafeHtmlBuilder builder = new SafeHtmlBuilder();\r\n\t\t\t\t\t\tbuilder.appendEscapedLines(result);\r\n\r\n\t\t\t\t\t\tresultsPanel.add(new HTML(builder.toSafeHtml()));\r\n\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tresultsPanel = new VerticalPanel();\r\n\r\n\t\terrorLabel = new Label();\r\n\t\terrorLabel.addStyleName(&quot;errorLabel&quot;);\r\n\t\terrorLabel.setVisible(false);\r\n\r\n\t\t//image from http://loadinfo.net/\r\n\t\tloadingImage = new Image(&quot;loading.gif&quot;);\r\n\t\tloadingImage.setVisible(false);\r\n\t}\r\n\r\n\tprivate void layoutWidgets() {\r\n\t\tPanel panel = new VerticalPanel();\r\n\r\n\t\tpanel.add(errorLabel);\r\n\r\n\t\tPanel horizPanel = new HorizontalPanel();\r\n\t\thorizPanel.add(searchQueryTextBox);\r\n\t\thorizPanel.add(searchButton);\r\n\t\thorizPanel.add(privacyPolicyButton);\r\n\t\thorizPanel.add(loadingImage);\r\n\t\tpanel.add(horizPanel);\r\n\r\n\t\tpanel.add(resultsPanel);\r\n\r\n\t\tRootPanel.get().add(panel);\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the UI for when a RPC call is made.\r\n\t * @param loading true if an RPC call is being sent, false if not\r\n\t */\r\n\tprivate void setLoading(boolean loading) {\r\n\t\tif (loading) {\r\n\t\t\terrorLabel.setVisible(false);\r\n\t\t}\r\n\t\tsearchQueryTextBox.setEnabled(!loading);\r\n\t\tsearchButton.setEnabled(!loading);\r\n\t\tprivacyPolicyButton.setEnabled(!loading);\r\n\t\tloadingImage.setVisible(loading);\r\n\t}\r\n    }\r\n\r\nHere is the tweet code:\r\n\r\n    package com.google.gwt.twittersearch.client;\r\n\r\n    import java.io.Serializable;\r\n\r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class Tweet implements Serializable{\r\n \tprivate String id;\r\n\t  private String from_user;\r\n\t  private String created_at;\r\n\t  private String text;\r\n\t \r\n\t  public String getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\r\n\t\tpublic void setId(String id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\r\n\t\tpublic String getFrom_user() {\r\n\t\t\treturn from_user;\r\n\t\t}\r\n\r\n\t\tpublic void setFrom_user(String from_user) {\r\n\t\t\tthis.from_user = from_user;\r\n\t\t}\r\n\r\n\t\tpublic String getCreated_at() {\r\n\t\t\treturn created_at;\r\n\t\t}\r\n\r\n\t\tpublic void setCreated_at(String created_at) {\r\n\t\t\tthis.created_at = created_at;\r\n\t\t}\r\n\r\n\t\tpublic String getText() {\r\n\t\t\treturn text;\r\n\t\t}\r\n\r\n\t\tpublic void setText(String text) {\r\n\t\t\tthis.text = text;\r\n\t\t}\r\n\r\n\r\n    }\r\n\r\n\r\nAny insight into this error or where I might go from here would be greatly appreciated!","title":"Gwt/gson in eclipse, error: &quot;Unable to invoke no-args constructor for class&quot;","body":"<p>I'm playing around with this Google Web toolkit/GSON example that gets data from twitter.</p>\n<p>Everything is compiling just fine, but when I debug as Web Application, everything loads just fine, but when I click the &quot;search&quot; button I get the following error:</p>\n<pre><code>&gt;SEVERE: javax.servlet.ServletContext log: Exception while dispatching incoming RPC call\ncom.google.gwt.user.server.rpc.UnexpectedException: Service method 'public abstract java.util.List com.google.gwt.twittersearch.client.TwitterService.searchTweets(java.lang.String) throws java.io.IOException,java.lang.IllegalArgumentException' threw an unexpected exception: java.lang.RuntimeException: Unable to invoke no-args constructor for class com.google.gwt.twittersearch.server.TwitterServiceImpl$SearchResponse. Register an InstanceCreator with Gson for this type may fix this problem.\n    at com.google.gwt.user.server.rpc.RPC.encodeResponseForFailure(RPC.java:385)\n    at com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:588)\n    at com.google.gwt.user.server.rpc.RemoteServiceServlet.processCall(RemoteServiceServlet.java:208)\n    at com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:248)\n    at com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\n    at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:35)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:60)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n    at com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:370)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:326)\n    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n    at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)\n    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)\n    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\nCaused by: java.lang.RuntimeException: Unable to invoke no-args constructor for class com.google.gwt.twittersearch.server.TwitterServiceImpl$SearchResponse. Register an InstanceCreator with Gson for this type may fix this problem.\n    at com.google.gson.internal.ConstructorConstructor$8.construct(ConstructorConstructor.java:167)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:162)\n    at com.google.gson.Gson.fromJson(Gson.java:795)\n    at com.google.gson.Gson.fromJson(Gson.java:734)\n    at com.google.gwt.twittersearch.server.TwitterServiceImpl.parseSearchResponse(TwitterServiceImpl.java:80)\n    at com.google.gwt.twittersearch.server.TwitterServiceImpl.searchTweets(TwitterServiceImpl.java:35)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.google.appengine.tools.development.agent.runtime.Runtime.invoke(Runtime.java:115)\n    at com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:569)\n    ... 34 more\nCaused by: java.lang.UnsupportedOperationException: Cannot allocate class com.google.gwt.twittersearch.server.TwitterServiceImpl$SearchResponse\n    at com.google.gson.internal.UnsafeAllocator$4.newInstance(UnsafeAllocator.java:100)\n    at com.google.gson.internal.ConstructorConstructor$8.construct(ConstructorConstructor.java:164)\n    ... 45 more\n</code></pre>\n<p>Here is the TwitterServiceImpl code:</p>\n<pre><code>package com.google.gwt.twittersearch.server;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.Reader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.net.URLEncoder;\nimport java.util.List;\n\nimport com.google.gwt.twittersearch.client.Tweet;\nimport com.google.gwt.twittersearch.client.TwitterService;\nimport com.google.gson.Gson;\nimport com.google.gwt.user.server.rpc.RemoteServiceServlet;\n\n@SuppressWarnings(&quot;serial&quot;) \npublic class TwitterServiceImpl extends RemoteServiceServlet implements\n        TwitterService {\n\n    @Override\n    public List&lt;Tweet&gt; searchTweets(String query) throws IllegalArgumentException, IOException {\n          query = query.trim();\n          if (query.isEmpty()) {\n            throw new IllegalArgumentException(&quot;No search query specified.&quot;);\n          }\n         \n          // see: https://dev.twitter.com/docs/api/1/get/search\n          String q = URLEncoder.encode(query, &quot;UTF-8&quot;);\n          URL url = new URL(&quot;http://search.twitter.com/search.json?q=&quot; + q);\n          HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n          InputStream response = null;\n          try {\n            response = connection.getInputStream();\n            return parseSearchResponse(response);\n          } finally {\n            if (response != null) {\n              response.close();\n            }\n          }\n    }\n    \n    @Override\n    public String getPrivacyPolicy() throws IOException {\n        // see: https://dev.twitter.com/docs/api/1/get/legal/privacy\n        URL url = new URL(&quot;https://api.twitter.com/1/legal/privacy.json&quot;);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        InputStream response = null;\n        try {\n            response = connection.getInputStream();\n            return parsePolicyResponse(response);\n        } finally {\n            if (response != null) {\n                response.close();\n            }\n        }\n    }\n\n    /**\n     * Parses the privacy policy response returned from the Twitter API.\n     * @param response the response\n     * @return the privacy policy\n     * @throws IOException if there was a problem reading the response\n     */\n    private String parsePolicyResponse(InputStream response) throws IOException {\n        Reader reader = new InputStreamReader(response);\n        PrivacyPolicyResponse privacyPolicyResponse = new Gson().fromJson(reader, PrivacyPolicyResponse.class);\n        return privacyPolicyResponse.privacy;\n    }\n\n    /**\n     * Parses the search response returned from the Twitter API.\n     * @param response the response\n     * @return the search results\n     * @throws IOException if there was a problem reading the response\n     */\n\n    private List&lt;Tweet&gt; parseSearchResponse(InputStream response) throws IOException {\n          Reader reader = new InputStreamReader(response);\n          SearchResponse searchResponse = new Gson().fromJson(reader, SearchResponse.class);\n          return searchResponse.results;\n        }\n    \n    private class PrivacyPolicyResponse {\n    public String privacy;\n    }\n\n     \n    private class SearchResponse {\n      public List&lt;Tweet&gt; results;\n    }\n}\n</code></pre>\n<p>Here is the entry point code:</p>\n<pre><code>package com.google.gwt.twittersearch.client;\n\nimport java.util.List;\nimport com.google.gwt.safehtml.shared.SafeHtmlBuilder;\nimport com.google.gwt.core.client.EntryPoint;\nimport com.google.gwt.core.client.GWT;\nimport com.google.gwt.event.dom.client.ClickEvent;\nimport com.google.gwt.event.dom.client.ClickHandler;\nimport com.google.gwt.user.client.rpc.AsyncCallback;\nimport com.google.gwt.user.client.ui.Button;\nimport com.google.gwt.user.client.ui.HTML;\nimport com.google.gwt.user.client.ui.HorizontalPanel;\nimport com.google.gwt.user.client.ui.Image;\nimport com.google.gwt.user.client.ui.Label;\nimport com.google.gwt.user.client.ui.Panel;\nimport com.google.gwt.user.client.ui.RootPanel;\nimport com.google.gwt.user.client.ui.TextBox;\nimport com.google.gwt.user.client.ui.VerticalPanel;\n\n/**\n * Entry point classes define &lt;code&gt;onModuleLoad()&lt;/code&gt;.\n */\npublic class TwitterSearch implements EntryPoint {\n  private Button privacyPolicyButton;\n  private Button searchButton;\n  private TextBox searchQueryTextBox;\n  private Panel resultsPanel;\n  private Label errorLabel;\n  private Image loadingImage;\n  private final TwitterServiceAsync service = GWT.create(TwitterService.class);\n\n/**\n * This is the entry point method.\n */\npublic void onModuleLoad() {\n    createWidgets();\n    layoutWidgets();\n    \n}\n\nprivate void createWidgets() {\n    searchQueryTextBox = new TextBox();\n\n    searchButton = new Button(&quot;Search&quot;);\n    searchButton.addClickHandler(new ClickHandler() {\n        @Override\n        public void onClick(ClickEvent event) {\n            setLoading(true);\n            String query = searchQueryTextBox.getText();\n            service.searchTweets(query, new AsyncCallback&lt;List&lt;Tweet&gt;&gt;() {\n                @Override\n                public void onFailure(Throwable caught) {\n                    errorLabel.setText(caught.getMessage());\n                    errorLabel.setVisible(true);\n                    setLoading(false);\n                }\n\n                @Override\n                public void onSuccess(List&lt;Tweet&gt; result) {\n                    resultsPanel.clear();\n                    for (Tweet tweet : result) {\n                        SafeHtmlBuilder builder = new SafeHtmlBuilder();\n                        builder.appendHtmlConstant(&quot;&lt;b&gt;User: &lt;/b&gt;&quot;);\n                        builder.appendEscaped(tweet.getFrom_user());\n                        builder.appendHtmlConstant(&quot;&lt;br /&gt;&lt;b&gt;Created: &lt;/b&gt;&quot;);\n                        builder.appendEscaped(tweet.getCreated_at());\n                        builder.appendHtmlConstant(&quot;&lt;br /&gt;&lt;b&gt;Tweet: &lt;/b&gt;&quot;);\n                        builder.appendEscaped(tweet.getText());\n                        builder.appendHtmlConstant(&quot;&lt;br /&gt;&lt;br /&gt;&quot;);\n                        resultsPanel.add(new HTML(builder.toSafeHtml()));\n                    }\n                    setLoading(false);\n                }\n            });\n        }\n    });\n\n    privacyPolicyButton = new Button(&quot;Privacy Policy&quot;);\n    privacyPolicyButton.addClickHandler(new ClickHandler() {\n        @Override\n        public void onClick(ClickEvent event) {\n            setLoading(true);\n            service.getPrivacyPolicy(new AsyncCallback&lt;String&gt;() {\n                @Override\n                public void onFailure(Throwable caught) {\n                    errorLabel.setText(caught.getMessage());\n                    errorLabel.setVisible(true);\n                    setLoading(false);\n                }\n\n                @Override\n                public void onSuccess(String result) {\n                    resultsPanel.clear();\n\n                    // convert newlines to &lt;br /&gt;\n                    SafeHtmlBuilder builder = new SafeHtmlBuilder();\n                    builder.appendEscapedLines(result);\n\n                    resultsPanel.add(new HTML(builder.toSafeHtml()));\n\n                    setLoading(false);\n                }\n            });\n        }\n    });\n\n    resultsPanel = new VerticalPanel();\n\n    errorLabel = new Label();\n    errorLabel.addStyleName(&quot;errorLabel&quot;);\n    errorLabel.setVisible(false);\n\n    //image from http://loadinfo.net/\n    loadingImage = new Image(&quot;loading.gif&quot;);\n    loadingImage.setVisible(false);\n}\n\nprivate void layoutWidgets() {\n    Panel panel = new VerticalPanel();\n\n    panel.add(errorLabel);\n\n    Panel horizPanel = new HorizontalPanel();\n    horizPanel.add(searchQueryTextBox);\n    horizPanel.add(searchButton);\n    horizPanel.add(privacyPolicyButton);\n    horizPanel.add(loadingImage);\n    panel.add(horizPanel);\n\n    panel.add(resultsPanel);\n\n    RootPanel.get().add(panel);\n}\n\n/**\n * Updates the UI for when a RPC call is made.\n * @param loading true if an RPC call is being sent, false if not\n */\nprivate void setLoading(boolean loading) {\n    if (loading) {\n        errorLabel.setVisible(false);\n    }\n    searchQueryTextBox.setEnabled(!loading);\n    searchButton.setEnabled(!loading);\n    privacyPolicyButton.setEnabled(!loading);\n    loadingImage.setVisible(loading);\n}\n}\n</code></pre>\n<p>Here is the tweet code:</p>\n<pre><code>package com.google.gwt.twittersearch.client;\n\nimport java.io.Serializable;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class Tweet implements Serializable{\nprivate String id;\n  private String from_user;\n  private String created_at;\n  private String text;\n \n  public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getFrom_user() {\n        return from_user;\n    }\n\n    public void setFrom_user(String from_user) {\n        this.from_user = from_user;\n    }\n\n    public String getCreated_at() {\n        return created_at;\n    }\n\n    public void setCreated_at(String created_at) {\n        this.created_at = created_at;\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n\n\n}\n</code></pre>\n<p>Any insight into this error or where I might go from here would be greatly appreciated!</p>\n"},{"tags":["java","android","google-cloud-firestore","converters"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1650436106,"post_id":71935025,"comment_id":127112015,"body_markdown":"You&#39;re effectively calling `toString()` on a `DocumentReference` object, which isn&#39;t the same as getting a field value at all. I suspect you actually want to be using `documentSnapshot` in the code... you&#39;re not using it anywhere at the moment.","body":"You&#39;re effectively calling <code>toString()</code> on a <code>DocumentReference</code> object, which isn&#39;t the same as getting a field value at all. I suspect you actually want to be using <code>documentSnapshot</code> in the code... you&#39;re not using it anywhere at the moment."},{"owner":{"account_id":24753854,"reputation":19,"user_id":18638989,"display_name":"Killeing MaChin"},"score":0,"creation_date":1650436356,"post_id":71935025,"comment_id":127112080,"body_markdown":"@JonSkeet what can I do to fix this ? Can you write for me the right way ?","body":"@JonSkeet what can I do to fix this ? Can you write for me the right way ?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1650436651,"post_id":71935025,"comment_id":127112166,"body_markdown":"I haven&#39;t used the Java Firestore API, but I suggest you read some tutorials on it - the problem isn&#39;t &quot;converting an integer into a string&quot; - it&#39;s &quot;accessing a field value&quot;. I strongly suspect you want to call `docRef.get()` in order to asynchronously fetch a document snapshot, then get the values from that snapshot.","body":"I haven&#39;t used the Java Firestore API, but I suggest you read some tutorials on it - the problem isn&#39;t &quot;converting an integer into a string&quot; - it&#39;s &quot;accessing a field value&quot;. I strongly suspect you want to call <code>docRef.get()</code> in order to asynchronously fetch a document snapshot, then get the values from that snapshot."},{"owner":{"account_id":24753854,"reputation":19,"user_id":18638989,"display_name":"Killeing MaChin"},"score":0,"creation_date":1650436957,"post_id":71935025,"comment_id":127112269,"body_markdown":"@JonSkeet it&#39;s converting a string into an integer","body":"@JonSkeet it&#39;s converting a string into an integer"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1650437197,"post_id":71935025,"comment_id":127112358,"body_markdown":"Please edit your question and add your database structure as a screenshot. Please respond with @AlexMamo","body":"Please edit your question and add your database structure as a screenshot. Please respond with @AlexMamo"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1650438059,"post_id":71935025,"comment_id":127112646,"body_markdown":"@KilleingMaChin: It&#39;s converting the string representation of a DocumentReference object. *That&#39;s not what you want.* First focus on getting the data from the document, and log the value you receive. Until you get the field value as a string correctly, nothing else matters.","body":"@KilleingMaChin: It&#39;s converting the string representation of a DocumentReference object. <i>That&#39;s not what you want.</i> First focus on getting the data from the document, and log the value you receive. Until you get the field value as a string correctly, nothing else matters."}],"answers":[{"tags":[],"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650437818,"creation_date":1650436471,"answer_id":71935140,"question_id":71935025,"body_markdown":"The error is saying that you cannot convert a string of type `text` to a direct integer. If your string contains any text, it cannot be converted to a number. And I see that you are also `parsing UserId`,`&quot;userDetail` into `Integer` which is impossible. First, you take all the text out of your string in another variable and after then you can easily convert the variable containing `weight` from string to integer. make sure that your `weight` variable is only in number format.","title":"convert a single firestore firebase field from string to int","body":"<p>The error is saying that you cannot convert a string of type <code>text</code> to a direct integer. If your string contains any text, it cannot be converted to a number. And I see that you are also <code>parsing UserId</code>,<code>&quot;userDetail</code> into <code>Integer</code> which is impossible. First, you take all the text out of your string in another variable and after then you can easily convert the variable containing <code>weight</code> from string to integer. make sure that your <code>weight</code> variable is only in number format.</p>\n"},{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650463076,"creation_date":1650463076,"answer_id":71941030,"question_id":71935025,"body_markdown":"If I read your code correctly you have a `Weight` field in the document, and you want to get the value of that field. You can get the data from the [`DocumentSnapshot` object](https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot) with:\r\n```\r\ndocumentSnapshot.get(&quot;Weight)\r\n```\r\n\r\nSo if `Weight` is stored as an integer value, that&#39;d be:\r\n```\r\nint n1 = documentSnapshot.get(&quot;Weight)\r\n```\r\n\r\nAnd if `Weight` is stored as a string representation of an int value, it&#39;d be:\r\n\r\n```\r\nint n1 = Integer.valueOf(documentSnapshot.get(&quot;Weight));\r\n```\r\n","title":"convert a single firestore firebase field from string to int","body":"<p>If I read your code correctly you have a <code>Weight</code> field in the document, and you want to get the value of that field. You can get the data from the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot\" rel=\"nofollow noreferrer\"><code>DocumentSnapshot</code> object</a> with:</p>\n<pre><code>documentSnapshot.get(&quot;Weight)\n</code></pre>\n<p>So if <code>Weight</code> is stored as an integer value, that'd be:</p>\n<pre><code>int n1 = documentSnapshot.get(&quot;Weight)\n</code></pre>\n<p>And if <code>Weight</code> is stored as a string representation of an int value, it'd be:</p>\n<pre><code>int n1 = Integer.valueOf(documentSnapshot.get(&quot;Weight));\n</code></pre>\n"}],"owner":{"account_id":24753854,"reputation":19,"user_id":18638989,"display_name":"Killeing MaChin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1018,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650463076,"creation_date":1650435858,"question_id":71935025,"body_markdown":"I&#39;ve managed to store data inside firebase using cloud firestore \r\n\r\nI&#39;ve created a collection that can stores the users extra details like their age, height, and weight\r\n\r\nThere&#39;s a feature in my app that is able to calculate the user&#39;s drinking water rate by day based on their weight, the calculation is user&#39;s weight divided by 30\r\n\r\nSo when the user open the page it will directly calculate it. \r\n\r\nHowever. The type of data that stored in firestore is identified as String, and I&#39;ve been trying to convert the data field type to Int so the program will execute. But I got errors like \r\n\r\n&gt; java.lang.NumberFormatException: For input string: &quot;com.google.firebase.firestore.DocumentReference@a4443fb&quot;\r\n\r\n\r\n```\r\npublic class drinkingWater extends BaseMainMenu {\r\n\r\n    TextView cRslt;\r\n\r\n    FirebaseAuth mAuth;\r\n    FirebaseFirestore mStore;\r\n    String userID;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_drinking_water);\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n        cRslt = findViewById(R.id.result);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        mStore = FirebaseFirestore.getInstance();\r\n        userID = mAuth.getCurrentUser().getUid();\r\n\r\n        DocumentReference docRef = mStore.collection(&quot;userDetail&quot;).document(userID);\r\n        docRef.addSnapshotListener(this, new EventListener&lt;DocumentSnapshot&gt;() {\r\n            @Override\r\n            public void onEvent(@Nullable DocumentSnapshot documentSnapshot, @Nullable FirebaseFirestoreException e) {\r\n                int n1 = Integer.valueOf(String.valueOf(mStore.collection(&quot;userDetail&quot;).document(userID + &quot;Weight&quot;)));\r\n                int n2 = 30;\r\n                int sum = n1 / n2;\r\n                cRslt.setText(String.valueOf(sum));\r\n\r\n\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\n\r\n ","title":"convert a single firestore firebase field from string to int","body":"<p>I've managed to store data inside firebase using cloud firestore</p>\n<p>I've created a collection that can stores the users extra details like their age, height, and weight</p>\n<p>There's a feature in my app that is able to calculate the user's drinking water rate by day based on their weight, the calculation is user's weight divided by 30</p>\n<p>So when the user open the page it will directly calculate it.</p>\n<p>However. The type of data that stored in firestore is identified as String, and I've been trying to convert the data field type to Int so the program will execute. But I got errors like</p>\n<blockquote>\n<p>java.lang.NumberFormatException: For input string: &quot;com.google.firebase.firestore.DocumentReference@a4443fb&quot;</p>\n</blockquote>\n<pre><code>public class drinkingWater extends BaseMainMenu {\n\n    TextView cRslt;\n\n    FirebaseAuth mAuth;\n    FirebaseFirestore mStore;\n    String userID;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_drinking_water);\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n\n        cRslt = findViewById(R.id.result);\n\n        mAuth = FirebaseAuth.getInstance();\n        mStore = FirebaseFirestore.getInstance();\n        userID = mAuth.getCurrentUser().getUid();\n\n        DocumentReference docRef = mStore.collection(&quot;userDetail&quot;).document(userID);\n        docRef.addSnapshotListener(this, new EventListener&lt;DocumentSnapshot&gt;() {\n            @Override\n            public void onEvent(@Nullable DocumentSnapshot documentSnapshot, @Nullable FirebaseFirestoreException e) {\n                int n1 = Integer.valueOf(String.valueOf(mStore.collection(&quot;userDetail&quot;).document(userID + &quot;Weight&quot;)));\n                int n2 = 30;\n                int sum = n1 / n2;\n                cRslt.setText(String.valueOf(sum));\n\n\n\n            }\n        });\n\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1650460090,"post_id":71939949,"comment_id":127121072,"body_markdown":"For me your code produces a `NullPointerException` on the line `for(int i=0;i&lt;n.listProduit.size();i++)` because you never initialize the field `Inventory n`.","body":"For me your code produces a <code>NullPointerException</code> on the line <code>for(int i=0;i&lt;n.listProduit.size();i++)</code> because you never initialize the field <code>Inventory n</code>."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1650460222,"post_id":71939949,"comment_id":127121141,"body_markdown":"An extra note: why do `Inventory` and `Liste` extend `JFrame` if you are never using them as frames? In both classes you construct additional `JFrame frame` object and use that to display the GUI. Therefore there is no reason for `Inventory` and `Liste` to extend `JFrame`, so you should remove those `extends JFrame` clauses.","body":"An extra note: why do <code>Inventory</code> and <code>Liste</code> extend <code>JFrame</code> if you are never using them as frames? In both classes you construct additional <code>JFrame frame</code> object and use that to display the GUI. Therefore there is no reason for <code>Inventory</code> and <code>Liste</code> to extend <code>JFrame</code>, so you should remove those <code>extends JFrame</code> clauses."},{"owner":{"account_id":20103434,"reputation":3,"user_id":14741459,"display_name":"WalidKhaddoum"},"score":0,"creation_date":1650460990,"post_id":71939949,"comment_id":127121515,"body_markdown":"how can i access to the access to the list on the other table without initialize  ` Inventory n ` , i searched a lot the only way to access to an object in another class is to initialize the class","body":"how can i access to the access to the list on the other table without initialize  ` Inventory n ` , i searched a lot the only way to access to an object in another class is to initialize the class"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650462876,"creation_date":1650462876,"answer_id":71940989,"question_id":71939949,"body_markdown":"If you want your `Liste` class to access the `listProduit` of the `Inventory` class you have several possibilities.\r\n\r\nIn my preferred order:\r\n\r\n### 1. pass the `listProduit` to the `Liste` constructor ###\r\n\r\nIn the `actionPerformed()` method, create the `Liste` instance as follows:\r\n\r\n    new Liste(listProduit).frame.setVisible(true);\r\n\r\nTo do this you need to change the `Liste` constructor as follows:\r\n\r\n    private List&lt;Produit&gt; listProduit;\r\n    public Liste(List&lt;Produit&gt; listProduit) {\r\n        this.listProduit = listProduit;\r\n        model.setRowCount(0);\r\n        for (int i = 0; i &lt; listProduit.size(); i++) {\r\n            Produit p = listProduit.get(i);\r\n            Object[] obj = { p.getCode(), p.getStockInitial(), p.getStockEntree(), p.getStockSortie(), p.getStockReel() };\r\n            model.addRow(obj);\r\n        }\r\n        System.out.println(n.listProduit.size());\r\n        frame.getContentPane().add(table);\r\n        frame.setLayout(new FlowLayout());\r\n        frame.setSize(400,300);\r\n        frame.add(sp);\r\n    }\r\n\r\nThe field `Inventory n` in the `Liste` class is not needed.\r\n\r\n---\r\n\r\n### 2. pass the `Inventory` instance to the `Liste` constructor ###\r\n\r\nIn the `actionPerformed()` method, create the `Liste` instance as follows:\r\n\r\n    new Liste(this).frame.setVisible(true);\r\n\r\nTo do this you need to change the `Liste` constructor as follows:\r\n\r\n    public Liste(Inventory inventory) {\r\n        this.n = inventory;\r\n        model.setRowCount(0);\r\n        for (int i = 0; i &lt; n.listProduit.size(); i++) {\r\n            Produit p = n.listProduit.get(i);\r\n            Object[] obj = { p.getCode(), p.getStockInitial(), p.getStockEntree(), p.getStockSortie(), p.getStockReel() };\r\n            model.addRow(obj);\r\n        }\r\n        System.out.println(n.listProduit.size());\r\n        frame.getContentPane().add(table);\r\n        frame.setLayout(new FlowLayout());\r\n        frame.setSize(400,300);\r\n        frame.add(sp);\r\n    }\r\n\r\n---\r\n\r\n#### 3. make the `listProduit` a static field ####\r\nThis is only for completeness. You should create as few static fields as possible - static fields are a lazy &quot;solution&quot; that can create big problems if your program grows, and to change from this approach to something better (preferably the first approach) grows harder the more code you have that relies on static fields.\r\n\r\nIn the class `Inventory` change the declaration of the field `listProduit` as follows:\r\n\r\n    public static List&lt;Produit&gt; listProduit = new ArrayList&lt;Produit&gt;();\r\n\r\nYou can then change the constructor of `Liste` as follows:\r\n\r\n    public Liste(Inventory inventory) {\r\n        model.setRowCount(0);\r\n        for (int i = 0; i &lt; Inventory.listProduit.size(); i++) {\r\n            Produit p = Inventory.listProduit.get(i);\r\n            Object[] obj = { p.getCode(), p.getStockInitial(), p.getStockEntree(), p.getStockSortie(), p.getStockReel() };\r\n            model.addRow(obj);\r\n        }\r\n        System.out.println(n.listProduit.size());\r\n        frame.getContentPane().add(table);\r\n        frame.setLayout(new FlowLayout());\r\n        frame.setSize(400,300);\r\n        frame.add(sp);\r\n    }\r\n\r\n---\r\n\r\nYou can further improve the constructor by using either an enhanced for loop or by using the `forEach()` method of the `List` interface.\r\n\r\nWith an enhanced for loop:\r\n\r\n    private List&lt;Produit&gt; listProduit;\r\n    public Liste(List&lt;Produit&gt; listProduit) {\r\n        this.listProduit = listProduit;\r\n        model.setRowCount(0);\r\n        for (Produit p: listProduit) {\r\n            Object[] obj = { p.getCode(), p.getStockInitial(), p.getStockEntree(), p.getStockSortie(), p.getStockReel() };\r\n            model.addRow(obj);\r\n        }\r\n        System.out.println(n.listProduit.size());\r\n        frame.getContentPane().add(table);\r\n        frame.setLayout(new FlowLayout());\r\n        frame.setSize(400,300);\r\n        frame.add(sp);\r\n    }\r\n\r\nWith `forEach()`:\r\n\r\n    private List&lt;Produit&gt; listProduit;\r\n    public Liste(List&lt;Produit&gt; listProduit) {\r\n        this.listProduit = listProduit;\r\n        model.setRowCount(0);\r\n        listProduit.forEach(p -&gt; {\r\n            Object[] obj = { p.getCode(), p.getStockInitial(), p.getStockEntree(), p.getStockSortie(), p.getStockReel() };\r\n            model.addRow(obj);\r\n        });\r\n        System.out.println(n.listProduit.size());\r\n        frame.getContentPane().add(table);\r\n        frame.setLayout(new FlowLayout());\r\n        frame.setSize(400,300);\r\n        frame.add(sp);\r\n    }","title":"Java ArrayList returning 0 value","body":"<p>If you want your <code>Liste</code> class to access the <code>listProduit</code> of the <code>Inventory</code> class you have several possibilities.</p>\n<p>In my preferred order:</p>\n<h3>1. pass the <code>listProduit</code> to the <code>Liste</code> constructor</h3>\n<p>In the <code>actionPerformed()</code> method, create the <code>Liste</code> instance as follows:</p>\n<pre><code>new Liste(listProduit).frame.setVisible(true);\n</code></pre>\n<p>To do this you need to change the <code>Liste</code> constructor as follows:</p>\n<pre><code>private List&lt;Produit&gt; listProduit;\npublic Liste(List&lt;Produit&gt; listProduit) {\n    this.listProduit = listProduit;\n    model.setRowCount(0);\n    for (int i = 0; i &lt; listProduit.size(); i++) {\n        Produit p = listProduit.get(i);\n        Object[] obj = { p.getCode(), p.getStockInitial(), p.getStockEntree(), p.getStockSortie(), p.getStockReel() };\n        model.addRow(obj);\n    }\n    System.out.println(n.listProduit.size());\n    frame.getContentPane().add(table);\n    frame.setLayout(new FlowLayout());\n    frame.setSize(400,300);\n    frame.add(sp);\n}\n</code></pre>\n<p>The field <code>Inventory n</code> in the <code>Liste</code> class is not needed.</p>\n<hr />\n<h3>2. pass the <code>Inventory</code> instance to the <code>Liste</code> constructor</h3>\n<p>In the <code>actionPerformed()</code> method, create the <code>Liste</code> instance as follows:</p>\n<pre><code>new Liste(this).frame.setVisible(true);\n</code></pre>\n<p>To do this you need to change the <code>Liste</code> constructor as follows:</p>\n<pre><code>public Liste(Inventory inventory) {\n    this.n = inventory;\n    model.setRowCount(0);\n    for (int i = 0; i &lt; n.listProduit.size(); i++) {\n        Produit p = n.listProduit.get(i);\n        Object[] obj = { p.getCode(), p.getStockInitial(), p.getStockEntree(), p.getStockSortie(), p.getStockReel() };\n        model.addRow(obj);\n    }\n    System.out.println(n.listProduit.size());\n    frame.getContentPane().add(table);\n    frame.setLayout(new FlowLayout());\n    frame.setSize(400,300);\n    frame.add(sp);\n}\n</code></pre>\n<hr />\n<h4>3. make the <code>listProduit</code> a static field</h4>\n<p>This is only for completeness. You should create as few static fields as possible - static fields are a lazy &quot;solution&quot; that can create big problems if your program grows, and to change from this approach to something better (preferably the first approach) grows harder the more code you have that relies on static fields.</p>\n<p>In the class <code>Inventory</code> change the declaration of the field <code>listProduit</code> as follows:</p>\n<pre><code>public static List&lt;Produit&gt; listProduit = new ArrayList&lt;Produit&gt;();\n</code></pre>\n<p>You can then change the constructor of <code>Liste</code> as follows:</p>\n<pre><code>public Liste(Inventory inventory) {\n    model.setRowCount(0);\n    for (int i = 0; i &lt; Inventory.listProduit.size(); i++) {\n        Produit p = Inventory.listProduit.get(i);\n        Object[] obj = { p.getCode(), p.getStockInitial(), p.getStockEntree(), p.getStockSortie(), p.getStockReel() };\n        model.addRow(obj);\n    }\n    System.out.println(n.listProduit.size());\n    frame.getContentPane().add(table);\n    frame.setLayout(new FlowLayout());\n    frame.setSize(400,300);\n    frame.add(sp);\n}\n</code></pre>\n<hr />\n<p>You can further improve the constructor by using either an enhanced for loop or by using the <code>forEach()</code> method of the <code>List</code> interface.</p>\n<p>With an enhanced for loop:</p>\n<pre><code>private List&lt;Produit&gt; listProduit;\npublic Liste(List&lt;Produit&gt; listProduit) {\n    this.listProduit = listProduit;\n    model.setRowCount(0);\n    for (Produit p: listProduit) {\n        Object[] obj = { p.getCode(), p.getStockInitial(), p.getStockEntree(), p.getStockSortie(), p.getStockReel() };\n        model.addRow(obj);\n    }\n    System.out.println(n.listProduit.size());\n    frame.getContentPane().add(table);\n    frame.setLayout(new FlowLayout());\n    frame.setSize(400,300);\n    frame.add(sp);\n}\n</code></pre>\n<p>With <code>forEach()</code>:</p>\n<pre><code>private List&lt;Produit&gt; listProduit;\npublic Liste(List&lt;Produit&gt; listProduit) {\n    this.listProduit = listProduit;\n    model.setRowCount(0);\n    listProduit.forEach(p -&gt; {\n        Object[] obj = { p.getCode(), p.getStockInitial(), p.getStockEntree(), p.getStockSortie(), p.getStockReel() };\n        model.addRow(obj);\n    });\n    System.out.println(n.listProduit.size());\n    frame.getContentPane().add(table);\n    frame.setLayout(new FlowLayout());\n    frame.setSize(400,300);\n    frame.add(sp);\n}\n</code></pre>\n"}],"owner":{"account_id":20103434,"reputation":3,"user_id":14741459,"display_name":"WalidKhaddoum"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71940989,"answer_count":1,"score":-1,"last_activity_date":1650462876,"creation_date":1650458920,"question_id":71939949,"body_markdown":"I&#39;m trying to build an application on java with swing that the user need to enter some product and store them in an arraylist and show the list of products on table (JTable) in another Jframe , the problem i face that when i&#39;m adding the product and click on button of liste the table does not contain the products even the Arraylist size return 0\r\n\r\n**Class Product**\r\n\r\n```\r\npackage Inventory;\r\n\r\npublic class Produit {\r\n    private int code;\r\n    private int StockInitial;\r\n    private int StockEntree;\r\n    private int StockSortie;\r\n    private int StockReel;\r\n\r\n    public Produit(int code, int StockInitial, int StockEntree, int StockSortie) {\r\n        this.code = code;\r\n        this.StockInitial = StockInitial;\r\n        this.StockEntree = StockEntree;\r\n        this.StockSortie = StockSortie;\r\n        this.StockReel = (this.StockInitial+this.StockEntree)-this.StockSortie;\r\n    }\r\n    public void AjouterProduit(int code, int StockInitial, int StockEntree, int StockSortie) {\r\n        this.code = code;\r\n        this.StockInitial = StockInitial;\r\n        this.StockEntree = StockEntree;\r\n        this.StockSortie = StockSortie;\r\n        this.StockReel = (this.StockInitial+this.StockEntree)-this.StockSortie;\r\n    }\r\n\r\n    public Produit() {\r\n    }\r\n\r\n    public int getCode() {\r\n        return code;\r\n    }\r\n\r\n    public void setCode(int code) {\r\n        this.code = code;\r\n    }\r\n\r\n    public int getStockInitial() {\r\n        return StockInitial;\r\n    }\r\n\r\n    public void setStockInitial(int StockInitial) {\r\n        this.StockInitial = StockInitial;\r\n    }\r\n\r\n    public int getStockEntree() {\r\n        return StockEntree;\r\n    }\r\n\r\n    public void setStockEntree(int StockEntree) {\r\n        this.StockEntree = StockEntree;\r\n    }\r\n\r\n    public int getStockSortie() {\r\n        return StockSortie;\r\n    }\r\n\r\n    public void setStockSortie(int StockSortie) {\r\n        this.StockSortie = StockSortie;\r\n    }\r\n\r\n    public int getStockReel() {\r\n        return this.StockReel;\r\n    }\r\n\r\n    public void setStockReel(int StockReel) {\r\n        this.StockReel = StockReel;\r\n    }\r\n}\r\n\r\n```\r\n**Class Inventory** the jframe that user able to enter details of product\r\n```\r\npackage Inventory;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.ArrayList;\r\nimport javax.swing.*;\r\n\r\npublic class Inventory extends JFrame implements ActionListener {\r\n\r\n    public ArrayList&lt;Produit&gt; listProduit = new ArrayList&lt;Produit&gt;();\r\n    JLabel l1 = new JLabel(&quot;Code : &quot;);\r\n    JLabel l2 = new JLabel(&quot;Stock initial : &quot;);\r\n    JLabel l3 = new JLabel(&quot;Stock entree : &quot;);\r\n    JLabel l4 = new JLabel(&quot;Stock sortie : &quot;);\r\n    JTextField t1 = new JTextField(20);\r\n    JTextField t2 = new JTextField(20);\r\n    JTextField t3 = new JTextField(20);\r\n    JTextField t4 = new JTextField(20);\r\n    JButton b1 = new JButton(&quot;Suivant&quot;);\r\n    JButton b2 = new JButton(&quot;liste&quot;);\r\n    JFrame frame = new JFrame(&quot;Inventory&quot;);\r\n    public Inventory(){\r\n        frame.setLayout(new FlowLayout());\r\n        frame.setSize(400,300);\r\n        frame.getContentPane().add(l1);\r\n        frame.getContentPane().add(t1);\r\n        frame.getContentPane().add(l2);\r\n        frame.getContentPane().add(t2);\r\n        frame.getContentPane().add(l3);\r\n        frame.getContentPane().add(t3);\r\n        frame.getContentPane().add(l4);\r\n        frame.getContentPane().add(t4);\r\n        frame.getContentPane().add(b1);\r\n        frame.getContentPane().add(b2);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        b1.addActionListener(this);\r\n        b2.addActionListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        if(e.getSource()==b1){\r\n            int code = Integer.parseInt(t1.getText());\r\n            int StockInitial = Integer.parseInt(t2.getText());\r\n            int StockEntree = Integer.parseInt(t3.getText());\r\n            int StockSortie = Integer.parseInt(t4.getText());\r\n            Produit p = new Produit(code,StockInitial,StockEntree,StockSortie);\r\n            listProduit.add(p);\r\n        }\r\n        if(e.getSource()==b2) {\r\n            new Liste().frame.setVisible(true);\r\n        }\r\n    }\r\n    public ArrayList&lt;Produit&gt; getList() {\r\n        return listProduit;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new Inventory().frame.setVisible(true);\r\n    }\r\n}\r\n```\r\n**Class Inventory** the jframe that show to the user the details of product\r\n```\r\npackage Inventory;\r\n\r\nimport javax.swing.*;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport java.awt.*;\r\n\r\npublic class Liste extends JFrame {\r\n    JFrame frame = new JFrame(&quot;Inventory&quot;);\r\n    String head[] = {&quot;Code&quot;,&quot;Stock Intial&quot;,&quot;Stock Entree&quot;,&quot;Stock Sortie&quot;,&quot;Sotck Reel&quot;};\r\n    String[][] Rows = {};\r\n    DefaultTableModel model = new DefaultTableModel(Rows,head);\r\n    Inventory n;\r\n    JTable table = new JTable(model);\r\n    JScrollPane sp = new JScrollPane(table);\r\n    Container con = null;\r\n    public Object[] objProduit;\r\n    public void addRowToJTable()\r\n    {\r\n\r\n    }\r\n    public Liste(){\r\n        DefaultTableModel model = (DefaultTableModel) table.getModel();\r\n        model.setRowCount(0);\r\n        for(int i=0;i&lt;n.listProduit.size();i++){\r\n            Object[] obj = {n.listProduit.get(i).getCode(),n.listProduit.get(i).getStockInitial(),n.listProduit.get(i).getStockEntree(),n.listProduit.get(i).getStockSortie(),n.listProduit.get(i).getStockReel()};\r\n            model.addRow(obj);\r\n        }\r\n        //return 0\r\n        System.out.println(n.listProduit.size());\r\n        frame.getContentPane().add(table);\r\n        frame.setLayout(new FlowLayout());\r\n        frame.setSize(400,300);\r\n        frame.add(sp);\r\n        }\r\n}\r\n```\r\n","title":"Java ArrayList returning 0 value","body":"<p>I'm trying to build an application on java with swing that the user need to enter some product and store them in an arraylist and show the list of products on table (JTable) in another Jframe , the problem i face that when i'm adding the product and click on button of liste the table does not contain the products even the Arraylist size return 0</p>\n<p><strong>Class Product</strong></p>\n<pre><code>package Inventory;\n\npublic class Produit {\n    private int code;\n    private int StockInitial;\n    private int StockEntree;\n    private int StockSortie;\n    private int StockReel;\n\n    public Produit(int code, int StockInitial, int StockEntree, int StockSortie) {\n        this.code = code;\n        this.StockInitial = StockInitial;\n        this.StockEntree = StockEntree;\n        this.StockSortie = StockSortie;\n        this.StockReel = (this.StockInitial+this.StockEntree)-this.StockSortie;\n    }\n    public void AjouterProduit(int code, int StockInitial, int StockEntree, int StockSortie) {\n        this.code = code;\n        this.StockInitial = StockInitial;\n        this.StockEntree = StockEntree;\n        this.StockSortie = StockSortie;\n        this.StockReel = (this.StockInitial+this.StockEntree)-this.StockSortie;\n    }\n\n    public Produit() {\n    }\n\n    public int getCode() {\n        return code;\n    }\n\n    public void setCode(int code) {\n        this.code = code;\n    }\n\n    public int getStockInitial() {\n        return StockInitial;\n    }\n\n    public void setStockInitial(int StockInitial) {\n        this.StockInitial = StockInitial;\n    }\n\n    public int getStockEntree() {\n        return StockEntree;\n    }\n\n    public void setStockEntree(int StockEntree) {\n        this.StockEntree = StockEntree;\n    }\n\n    public int getStockSortie() {\n        return StockSortie;\n    }\n\n    public void setStockSortie(int StockSortie) {\n        this.StockSortie = StockSortie;\n    }\n\n    public int getStockReel() {\n        return this.StockReel;\n    }\n\n    public void setStockReel(int StockReel) {\n        this.StockReel = StockReel;\n    }\n}\n\n</code></pre>\n<p><strong>Class Inventory</strong> the jframe that user able to enter details of product</p>\n<pre><code>package Inventory;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport javax.swing.*;\n\npublic class Inventory extends JFrame implements ActionListener {\n\n    public ArrayList&lt;Produit&gt; listProduit = new ArrayList&lt;Produit&gt;();\n    JLabel l1 = new JLabel(&quot;Code : &quot;);\n    JLabel l2 = new JLabel(&quot;Stock initial : &quot;);\n    JLabel l3 = new JLabel(&quot;Stock entree : &quot;);\n    JLabel l4 = new JLabel(&quot;Stock sortie : &quot;);\n    JTextField t1 = new JTextField(20);\n    JTextField t2 = new JTextField(20);\n    JTextField t3 = new JTextField(20);\n    JTextField t4 = new JTextField(20);\n    JButton b1 = new JButton(&quot;Suivant&quot;);\n    JButton b2 = new JButton(&quot;liste&quot;);\n    JFrame frame = new JFrame(&quot;Inventory&quot;);\n    public Inventory(){\n        frame.setLayout(new FlowLayout());\n        frame.setSize(400,300);\n        frame.getContentPane().add(l1);\n        frame.getContentPane().add(t1);\n        frame.getContentPane().add(l2);\n        frame.getContentPane().add(t2);\n        frame.getContentPane().add(l3);\n        frame.getContentPane().add(t3);\n        frame.getContentPane().add(l4);\n        frame.getContentPane().add(t4);\n        frame.getContentPane().add(b1);\n        frame.getContentPane().add(b2);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        b1.addActionListener(this);\n        b2.addActionListener(this);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if(e.getSource()==b1){\n            int code = Integer.parseInt(t1.getText());\n            int StockInitial = Integer.parseInt(t2.getText());\n            int StockEntree = Integer.parseInt(t3.getText());\n            int StockSortie = Integer.parseInt(t4.getText());\n            Produit p = new Produit(code,StockInitial,StockEntree,StockSortie);\n            listProduit.add(p);\n        }\n        if(e.getSource()==b2) {\n            new Liste().frame.setVisible(true);\n        }\n    }\n    public ArrayList&lt;Produit&gt; getList() {\n        return listProduit;\n    }\n\n    public static void main(String[] args) {\n        new Inventory().frame.setVisible(true);\n    }\n}\n</code></pre>\n<p><strong>Class Inventory</strong> the jframe that show to the user the details of product</p>\n<pre><code>package Inventory;\n\nimport javax.swing.*;\nimport javax.swing.table.DefaultTableModel;\nimport java.awt.*;\n\npublic class Liste extends JFrame {\n    JFrame frame = new JFrame(&quot;Inventory&quot;);\n    String head[] = {&quot;Code&quot;,&quot;Stock Intial&quot;,&quot;Stock Entree&quot;,&quot;Stock Sortie&quot;,&quot;Sotck Reel&quot;};\n    String[][] Rows = {};\n    DefaultTableModel model = new DefaultTableModel(Rows,head);\n    Inventory n;\n    JTable table = new JTable(model);\n    JScrollPane sp = new JScrollPane(table);\n    Container con = null;\n    public Object[] objProduit;\n    public void addRowToJTable()\n    {\n\n    }\n    public Liste(){\n        DefaultTableModel model = (DefaultTableModel) table.getModel();\n        model.setRowCount(0);\n        for(int i=0;i&lt;n.listProduit.size();i++){\n            Object[] obj = {n.listProduit.get(i).getCode(),n.listProduit.get(i).getStockInitial(),n.listProduit.get(i).getStockEntree(),n.listProduit.get(i).getStockSortie(),n.listProduit.get(i).getStockReel()};\n            model.addRow(obj);\n        }\n        //return 0\n        System.out.println(n.listProduit.size());\n        frame.getContentPane().add(table);\n        frame.setLayout(new FlowLayout());\n        frame.setSize(400,300);\n        frame.add(sp);\n        }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","regression-testing"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1556301359,"post_id":55872771,"comment_id":98405350,"body_markdown":"Duplicate https://stackoverflow.com/questions/97197/what-is-the-n1-selects-problem-in-orm-object-relational-mapping","body":"Duplicate <a href=\"https://stackoverflow.com/questions/97197/what-is-the-n1-selects-problem-in-orm-object-relational-mapping\" title=\"what is the n1 selects problem in orm object relational mapping\">stackoverflow.com/questions/97197/&hellip;</a>"},{"owner":{"account_id":15822647,"reputation":51,"user_id":11416560,"display_name":"R&#233;mi Birot-Delrue"},"score":1,"creation_date":1556301928,"post_id":55872771,"comment_id":98405613,"body_markdown":"@Sambit I am not asking for asolution to the N+1 problem, but for a way to detect it automatically. I’ve read the question you’re referring to, but couldn’t find an answer there.","body":"@Sambit I am not asking for asolution to the N+1 problem, but for a way to detect it automatically. I’ve read the question you’re referring to, but couldn’t find an answer there."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1556301967,"post_id":55872771,"comment_id":98405635,"body_markdown":"You could try to check whether `getChildren()` actually returns a `PersistentCollection` and if so whether `wasInitialized()` returns true or not. If that persistent collection is not initialized then any access is likely to cause lazy loading (there might be cases where this doesn&#39;t happen, e.g. when calling `size()` and depending on your mapping - e.g. whether it is extra lazy or not, but it is very likely).","body":"You could try to check whether <code>getChildren()</code> actually returns a <code>PersistentCollection</code> and if so whether <code>wasInitialized()</code> returns true or not. If that persistent collection is not initialized then any access is likely to cause lazy loading (there might be cases where this doesn&#39;t happen, e.g. when calling <code>size()</code> and depending on your mapping - e.g. whether it is extra lazy or not, but it is very likely)."}],"answers":[{"tags":[],"owner":{"account_id":4570927,"reputation":87,"user_id":3710646,"display_name":"kolomiets"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556307319,"creation_date":1556307319,"answer_id":55873947,"question_id":55872771,"body_markdown":"As option you can verify count of queries (fetch, updates, inserts) in the test\r\n\r\n     repository.findById(10L);\r\n\r\n     SessionFactory sf = em.getEntityManagerFactory().unwrap(SessionFactory.class);\r\n     Statistics statistics = sf.getStatistics();\r\n        \r\n     assertEquals(2L, statistics.getQueryExecutionCount());\r\n\r\nSee [hibernate statistic][1]\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#statistics","title":"How can we test for the N+1 problem in JPA/Hibernate?","body":"<p>As option you can verify count of queries (fetch, updates, inserts) in the test</p>\n\n<pre><code> repository.findById(10L);\n\n SessionFactory sf = em.getEntityManagerFactory().unwrap(SessionFactory.class);\n Statistics statistics = sf.getStatistics();\n\n assertEquals(2L, statistics.getQueryExecutionCount());\n</code></pre>\n\n<p>See <a href=\"http://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#statistics\" rel=\"nofollow noreferrer\">hibernate statistic</a></p>\n"},{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556307885,"creation_date":1556307885,"answer_id":55874077,"question_id":55872771,"body_markdown":"Refer to following solution, which relies on wrapping your `DataSource`\r\nhttps://vladmihalcea.com/how-to-detect-the-n-plus-one-query-problem-during-testing/","title":"How can we test for the N+1 problem in JPA/Hibernate?","body":"<p>Refer to following solution, which relies on wrapping your <code>DataSource</code>\n<a href=\"https://vladmihalcea.com/how-to-detect-the-n-plus-one-query-problem-during-testing/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/how-to-detect-the-n-plus-one-query-problem-during-testing/</a></p>\n"},{"tags":[],"owner":{"account_id":7522842,"reputation":3473,"user_id":8082162,"accept_rate":71,"display_name":"aschoerk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556342144,"creation_date":1556342144,"answer_id":55877485,"question_id":55872771,"body_markdown":"I suppose by &quot;regression test&quot; you mean an actual test probably started by JUnit.\r\n\r\nA general way to handle that in a Unit-Test could be: \r\n\r\n* configure hibernate.show_sql to true\r\n* intercept the log-messages like described in [intercept](https://stackoverflow.com/questions/13956262/intercept-log-messages-slf4j).\r\n* scan the log-file for \r\n   * specific queries, you want to be avoided\r\n   * number of similar queries\r\n","title":"How can we test for the N+1 problem in JPA/Hibernate?","body":"<p>I suppose by \"regression test\" you mean an actual test probably started by JUnit.</p>\n\n<p>A general way to handle that in a Unit-Test could be: </p>\n\n<ul>\n<li>configure hibernate.show_sql to true</li>\n<li>intercept the log-messages like described in <a href=\"https://stackoverflow.com/questions/13956262/intercept-log-messages-slf4j\">intercept</a>.</li>\n<li>scan the log-file for \n\n<ul>\n<li>specific queries, you want to be avoided</li>\n<li>number of similar queries</li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3180701,"reputation":416,"user_id":2687497,"display_name":"bdumtish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602340955,"creation_date":1602340955,"answer_id":64294628,"question_id":55872771,"body_markdown":"After running the query to retrieve a &quot;parent&quot; entity, using [PersistenceUnitUtil][1], you can assert that &quot;children&quot; have or have not been eagerly loaded:\r\n\r\n    PersistenceUnitUtil pu = em.getEntityManagerFactory().getPersistenceUnitUtil();\r\n    assertTrue(pu.isLoaded(parent, &quot;children&quot;));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/6/api/javax/persistence/PersistenceUnitUtil.html","title":"How can we test for the N+1 problem in JPA/Hibernate?","body":"<p>After running the query to retrieve a &quot;parent&quot; entity, using <a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/PersistenceUnitUtil.html\" rel=\"nofollow noreferrer\">PersistenceUnitUtil</a>, you can assert that &quot;children&quot; have or have not been eagerly loaded:</p>\n<pre><code>PersistenceUnitUtil pu = em.getEntityManagerFactory().getPersistenceUnitUtil();\nassertTrue(pu.isLoaded(parent, &quot;children&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":186504,"reputation":794,"user_id":423941,"display_name":"Dennis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616777299,"creation_date":1616777299,"answer_id":66821078,"question_id":55872771,"body_markdown":"Another option available to you is to clear the `EntityManager` after your initial fetch, but before referencing any of the potentially lazy loaded fields on your entity. This effectively disconnects the proxies in place to perform lazy loading and should cause your test to throw an exception if `JOIN FETCH` wasn&#39;t used in the initial query.\r\n\r\nYour test would end up looking something like the following (written in Kotlin)\r\n```\r\nclass MyRepositoryTest @Autowired constructor(\r\n    myRepository: MyRepository,\r\n    entityManager: EntityManager\r\n) {\r\n    @Test\r\n    fun `When load children will eagerly fetch`() {\r\n        val parent = myRepository.loadParent()\r\n\r\n        entityManager.clear()\r\n\r\n        // This line should throw if children are being lazily loaded\r\n        assertThat(parent?.children, equalTo(listOf(Child(1), Child(2))))\r\n    }\r\n}\r\n```","title":"How can we test for the N+1 problem in JPA/Hibernate?","body":"<p>Another option available to you is to clear the <code>EntityManager</code> after your initial fetch, but before referencing any of the potentially lazy loaded fields on your entity. This effectively disconnects the proxies in place to perform lazy loading and should cause your test to throw an exception if <code>JOIN FETCH</code> wasn't used in the initial query.</p>\n<p>Your test would end up looking something like the following (written in Kotlin)</p>\n<pre><code>class MyRepositoryTest @Autowired constructor(\n    myRepository: MyRepository,\n    entityManager: EntityManager\n) {\n    @Test\n    fun `When load children will eagerly fetch`() {\n        val parent = myRepository.loadParent()\n\n        entityManager.clear()\n\n        // This line should throw if children are being lazily loaded\n        assertThat(parent?.children, equalTo(listOf(Child(1), Child(2))))\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5665214,"reputation":325,"user_id":4481550,"accept_rate":88,"display_name":"Micka&#235;l B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650462858,"creation_date":1650460366,"answer_id":71940324,"question_id":55872771,"body_markdown":"I&#39;ve written a little library that can assert the count of SQL queries by type (SELECT, INSERT, ..) generated by Hibernate in your Spring tests, this way, you can be warned whenever the SQL statements change in your tests, and prevent N+1 selects. [you can take a look here at the project][1] \r\n\r\nA test example that demonstrates the purpose:\r\n\r\n    @Test\r\n    @Transactional\r\n    @AssertHibernateSQLCount(selects = 1)  // We want 1 SELECT, will warn you if you&#39;re triggering N+1 SELECT\r\n    void fetch_parents_and_children() {\r\n        parentRepository.findAll().forEach(parent -&gt;\r\n                parent.getChildren().size()\r\n        );\r\n    }\r\n\r\n  [1]: https://github.com/Lemick/hibernate-query-asserts","title":"How can we test for the N+1 problem in JPA/Hibernate?","body":"<p>I've written a little library that can assert the count of SQL queries by type (SELECT, INSERT, ..) generated by Hibernate in your Spring tests, this way, you can be warned whenever the SQL statements change in your tests, and prevent N+1 selects. <a href=\"https://github.com/Lemick/hibernate-query-asserts\" rel=\"nofollow noreferrer\">you can take a look here at the project</a></p>\n<p>A test example that demonstrates the purpose:</p>\n<pre><code>@Test\n@Transactional\n@AssertHibernateSQLCount(selects = 1)  // We want 1 SELECT, will warn you if you're triggering N+1 SELECT\nvoid fetch_parents_and_children() {\n    parentRepository.findAll().forEach(parent -&gt;\n            parent.getChildren().size()\n    );\n}\n</code></pre>\n"}],"owner":{"account_id":15822647,"reputation":51,"user_id":11416560,"display_name":"R&#233;mi Birot-Delrue"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1376,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1650462858,"creation_date":1556301288,"question_id":55872771,"body_markdown":"I have a N+1 problem, and I’d like to write some kind of automated regression test because it impacts performance very much.\r\n\r\nI thought about spying the EntityManager and verifying its method `createQuery()` is called only once, but Hibernate don’t use it to initialize lazy relationships, thus it didn’t work. I could also try to shut down the JPA transaction between my repository and my service (or detach my entity) and look out for exceptions, but it’s really an ugly idea.\r\n\r\n\r\nTo give us a frame, let’s say we have a very simple parent-child model:\r\n```java\r\n@Entity\r\npublic class Parent {\r\n    …\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;parent&quot;)\r\n    private Collection&lt;Child&gt; children;\r\n}\r\n\r\n@Entity\r\npublic class Child {\r\n    …\r\n    @ManyToOne\r\n    private Parent parent;\r\n}\r\n```\r\nAnd a very simple service:\r\n```java\r\npublic class MyService {\r\n    …\r\n    public void doSomething(Long parentId) {\r\n        Parent parent = …; /* retrieve Parent from the database */\r\n        doSomeOtherThing(parent.getChildren());\r\n    }\r\n}\r\n```\r\n\r\nParent retrieval from database could use the two following queries:\r\n```\r\nSELECT parent FROM Parent parent WHERE parent.id = :id;\r\nSELECT parent FROM Parent parent JOIN FETCH parent.children WHERE parent.id = :id;\r\n```\r\n\r\nHow may I write a test that crashes when I retrieve my Parent entity with the first query, but not the second?","title":"How can we test for the N+1 problem in JPA/Hibernate?","body":"<p>I have a N+1 problem, and I’d like to write some kind of automated regression test because it impacts performance very much.</p>\n\n<p>I thought about spying the EntityManager and verifying its method <code>createQuery()</code> is called only once, but Hibernate don’t use it to initialize lazy relationships, thus it didn’t work. I could also try to shut down the JPA transaction between my repository and my service (or detach my entity) and look out for exceptions, but it’s really an ugly idea.</p>\n\n<p>To give us a frame, let’s say we have a very simple parent-child model:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Parent {\n    …\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = \"parent\")\n    private Collection&lt;Child&gt; children;\n}\n\n@Entity\npublic class Child {\n    …\n    @ManyToOne\n    private Parent parent;\n}\n</code></pre>\n\n<p>And a very simple service:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class MyService {\n    …\n    public void doSomething(Long parentId) {\n        Parent parent = …; /* retrieve Parent from the database */\n        doSomeOtherThing(parent.getChildren());\n    }\n}\n</code></pre>\n\n<p>Parent retrieval from database could use the two following queries:</p>\n\n<pre><code>SELECT parent FROM Parent parent WHERE parent.id = :id;\nSELECT parent FROM Parent parent JOIN FETCH parent.children WHERE parent.id = :id;\n</code></pre>\n\n<p>How may I write a test that crashes when I retrieve my Parent entity with the first query, but not the second?</p>\n"},{"tags":["java","spring","junit","spring-cloud-sleuth"],"answers":[{"tags":[],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650462596,"creation_date":1650462596,"answer_id":71940917,"question_id":71886180,"body_markdown":"My solution is to manually build the `TraceContext`, using the following snippet, being careful that `BaggageFields` is `brave.`**internal**`.baggage.BaggageFields`.\r\n\r\n    @Autowired\r\n    BaggageField field;\r\n\r\n    Tracer tracer;\r\n\r\n    @BeforeEach\r\n    void init() {\r\n        tracer = Tracing.newBuilder().build().tracer();\r\n        ArrayList&lt;BaggageField&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(field);\r\n        TraceContext ctx = TraceContext.newBuilder()\r\n            .addExtra(BaggageFields.newFactory(list,2).create())\r\n            .traceId(17).spanId(17).build();\r\n        Span span = tracer.toSpan(ctx);\r\n        tracer.withSpanInScope(span);\r\n    }","title":"BaggageField updateValue method returns false in jUnit tests","body":"<p>My solution is to manually build the <code>TraceContext</code>, using the following snippet, being careful that <code>BaggageFields</code> is <code>brave.</code><strong>internal</strong><code>.baggage.BaggageFields</code>.</p>\n<pre><code>@Autowired\nBaggageField field;\n\nTracer tracer;\n\n@BeforeEach\nvoid init() {\n    tracer = Tracing.newBuilder().build().tracer();\n    ArrayList&lt;BaggageField&gt; list = new ArrayList&lt;&gt;();\n    list.add(field);\n    TraceContext ctx = TraceContext.newBuilder()\n        .addExtra(BaggageFields.newFactory(list,2).create())\n        .traceId(17).spanId(17).build();\n    Span span = tracer.toSpan(ctx);\n    tracer.withSpanInScope(span);\n}\n</code></pre>\n"}],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":874,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71940917,"answer_count":1,"score":0,"last_activity_date":1650462596,"creation_date":1650038086,"question_id":71886180,"body_markdown":"EDIT: One problem was that `Tracing.current()` was null. I fixed this with the new `@BeforeEach` instead of the old `@BeforeTestMethod`:\r\n\r\n    Tracer tracer;\r\n\r\n    @BeforeEach\r\n    void init() {\r\n        tracer = Tracing.newBuilder().build().tracer();\r\n        TraceContext ctx = TraceContext.newBuilder().traceId(17).spanId(17).build();\r\n        Span span = tracer.toSpan(ctx);\r\n        tracer.withSpanInScope(span);\r\n    }\r\n\r\nYet, updateValue still doesn&#39;t work as there are no extras in the context, so nothing to update...\r\n\r\n---\r\n\r\nFollowing the ideas like in [those answers](https://stackoverflow.com/questions/69080641/sleuth-baggage-is-not-working-in-integration-test), I&#39;m trying to use `BaggageField`s in one of my tests. All the objects are not null, but `updateValue` returns false and the test fails with `BaggageTest.baggageTest:40 expected: &lt;hello&gt; but was: &lt;null&gt;`. As said, I have no idea why the `updateValue` method is not working.\r\n\r\n\r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    \r\n    import brave.baggage.BaggageField;\r\n    import brave.baggage.CorrelationScopeConfig;\r\n    import brave.context.slf4j.MDCScopeDecorator;\r\n    import brave.propagation.CurrentTraceContext;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.cloud.sleuth.ScopedSpan;\r\n    import org.springframework.cloud.sleuth.Tracer;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.test.context.ContextConfiguration;\r\n    import org.springframework.test.context.event.annotation.BeforeTestMethod;\r\n    import org.springframework.test.context.junit.jupiter.SpringExtension;\r\n    \r\n    @Slf4j\r\n    @ExtendWith(SpringExtension.class)\r\n    @ContextConfiguration\r\n    public class BaggageTest {\r\n    \r\n        @Autowired\r\n        ApplicationContext context;\r\n        \r\n        @BeforeTestMethod\r\n        void init() {\r\n            Tracer tracer = context.getBean(Tracer.class);\r\n            ScopedSpan span = tracer.startScopedSpan(&quot;test&quot;);\r\n        }\r\n    \r\n        @Test\r\n        void baggageTest() {\r\n            BaggageField fooBar = context.getBean(&quot;fooBar&quot;, BaggageField.class);\r\n            log.info(&quot;updateValue {}&quot;, fooBar.updateValue(&quot;hello&quot;));\r\n            assertEquals(&quot;hello&quot;, fooBar.getValue());\r\n        }\r\n    \r\n        @Configuration\r\n        static class Config {\r\n    \r\n            private BaggageField findOrCreate(String name) {\r\n                BaggageField field = BaggageField.getByName(name);\r\n                if (field == null) {\r\n                    field = BaggageField.create(name);\r\n                }\r\n                return field;\r\n            }\r\n    \r\n            @Bean(&quot;fooBar&quot;)\r\n            BaggageField fooBar() {\r\n                return findOrCreate(&quot;fooBar&quot;);\r\n            }\r\n    \r\n            @Bean\r\n            CurrentTraceContext.ScopeDecorator mdcScopeDecorator() {\r\n                return MDCScopeDecorator.newBuilder()\r\n                    .clear()\r\n                    .add(CorrelationScopeConfig.SingleCorrelationField.newBuilder(fooBar())\r\n                        .flushOnUpdate()\r\n                        .build())\r\n                    .build();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"BaggageField updateValue method returns false in jUnit tests","body":"<p>EDIT: One problem was that <code>Tracing.current()</code> was null. I fixed this with the new <code>@BeforeEach</code> instead of the old <code>@BeforeTestMethod</code>:</p>\n<pre><code>Tracer tracer;\n\n@BeforeEach\nvoid init() {\n    tracer = Tracing.newBuilder().build().tracer();\n    TraceContext ctx = TraceContext.newBuilder().traceId(17).spanId(17).build();\n    Span span = tracer.toSpan(ctx);\n    tracer.withSpanInScope(span);\n}\n</code></pre>\n<p>Yet, updateValue still doesn't work as there are no extras in the context, so nothing to update...</p>\n<hr />\n<p>Following the ideas like in <a href=\"https://stackoverflow.com/questions/69080641/sleuth-baggage-is-not-working-in-integration-test\">those answers</a>, I'm trying to use <code>BaggageField</code>s in one of my tests. All the objects are not null, but <code>updateValue</code> returns false and the test fails with <code>BaggageTest.baggageTest:40 expected: &lt;hello&gt; but was: &lt;null&gt;</code>. As said, I have no idea why the <code>updateValue</code> method is not working.</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport brave.baggage.BaggageField;\nimport brave.baggage.CorrelationScopeConfig;\nimport brave.context.slf4j.MDCScopeDecorator;\nimport brave.propagation.CurrentTraceContext;\nimport lombok.extern.slf4j.Slf4j;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cloud.sleuth.ScopedSpan;\nimport org.springframework.cloud.sleuth.Tracer;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.event.annotation.BeforeTestMethod;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\n@Slf4j\n@ExtendWith(SpringExtension.class)\n@ContextConfiguration\npublic class BaggageTest {\n\n    @Autowired\n    ApplicationContext context;\n    \n    @BeforeTestMethod\n    void init() {\n        Tracer tracer = context.getBean(Tracer.class);\n        ScopedSpan span = tracer.startScopedSpan(&quot;test&quot;);\n    }\n\n    @Test\n    void baggageTest() {\n        BaggageField fooBar = context.getBean(&quot;fooBar&quot;, BaggageField.class);\n        log.info(&quot;updateValue {}&quot;, fooBar.updateValue(&quot;hello&quot;));\n        assertEquals(&quot;hello&quot;, fooBar.getValue());\n    }\n\n    @Configuration\n    static class Config {\n\n        private BaggageField findOrCreate(String name) {\n            BaggageField field = BaggageField.getByName(name);\n            if (field == null) {\n                field = BaggageField.create(name);\n            }\n            return field;\n        }\n\n        @Bean(&quot;fooBar&quot;)\n        BaggageField fooBar() {\n            return findOrCreate(&quot;fooBar&quot;);\n        }\n\n        @Bean\n        CurrentTraceContext.ScopeDecorator mdcScopeDecorator() {\n            return MDCScopeDecorator.newBuilder()\n                .clear()\n                .add(CorrelationScopeConfig.SingleCorrelationField.newBuilder(fooBar())\n                    .flushOnUpdate()\n                    .build())\n                .build();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1548173448,"post_id":54312152,"comment_id":95444542,"body_markdown":"I got absolutely no idea how those inputs are related to the problem","body":"I got absolutely no idea how those inputs are related to the problem"},{"owner":{"account_id":6994498,"reputation":8622,"user_id":5362583,"accept_rate":0,"display_name":"Alok"},"score":0,"creation_date":1548173546,"post_id":54312152,"comment_id":95444605,"body_markdown":"I will make the inputs more clearer to you @jhamon. Add something which will be useful to you.","body":"I will make the inputs more clearer to you @jhamon. Add something which will be useful to you."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1548174048,"post_id":54312152,"comment_id":95444873,"body_markdown":"You misunderstood the question. Answer should be `-1`if you can&#39;t buy any keyborad+usb. Not if there is one set unaffordable, but if they **all** are. With your current code, what would it return if the very last set is unaffordable?","body":"You misunderstood the question. Answer should be <code>-1</code>if you can&#39;t buy any keyborad+usb. Not if there is one set unaffordable, but if they <b>all</b> are. With your current code, what would it return if the very last set is unaffordable?"},{"owner":{"account_id":6994498,"reputation":8622,"user_id":5362583,"accept_rate":0,"display_name":"Alok"},"score":0,"creation_date":1548174193,"post_id":54312152,"comment_id":95444966,"body_markdown":"I have done the same things @jhamon, see in the array itself, if both of the sum exceeds the max budget, then return -1, not like only keyboard or usb.","body":"I have done the same things @jhamon, see in the array itself, if both of the sum exceeds the max budget, then return -1, not like only keyboard or usb."}],"answers":[{"tags":[],"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1548176027,"creation_date":1548174390,"answer_id":54312509,"question_id":54312152,"body_markdown":"You misunderstood the question. Answer should be -1 if you can&#39;t buy any keyborad+usb. Not if there is one set unaffordable, but if they all are. With your current code, what would it return if the very last set is unaffordable?\r\n\r\nHere is a code that should work. And comments to explain:\r\n\r\n    int answer = -1; // that&#39;s the default answer.\r\n    int maxAmount = 0; // what if first keyboard + first usb are unaffordable? let&#39;s put it to 0\r\n\r\n    //This will compare the value of i+j throughout the loop and returns the max one \r\n    for(int i: keyboards){\r\n      for(int j: drives){\r\n        if((i+j) &gt; b) {\r\n          // do nothing, it&#39;s unaffordable (and remove this block)\r\n        }else if((i+j) == b){\r\n           answer = i+j; \r\n           return answer;// it can&#39;t be more, stop the loop and return the solution\r\n        } else if((i+j) &gt; maxAmount){ // no need to put an else, then an if both conditions are related\r\n            maxAmount = i+j;\r\n            answer = maxAmount;\r\n        } \r\n      }\r\n    }\r\n\r\nOf course, if you remove the first empty `if`block from the above code, you will have to change the last condition in order to check if it&#39;s below the max allowed:\r\n\r\n    if((i+j)&gt;maxAmount &amp;&amp; (i+j)&lt;=b)","title":"Electronics Shop","body":"<p>You misunderstood the question. Answer should be -1 if you can't buy any keyborad+usb. Not if there is one set unaffordable, but if they all are. With your current code, what would it return if the very last set is unaffordable?</p>\n\n<p>Here is a code that should work. And comments to explain:</p>\n\n<pre><code>int answer = -1; // that's the default answer.\nint maxAmount = 0; // what if first keyboard + first usb are unaffordable? let's put it to 0\n\n//This will compare the value of i+j throughout the loop and returns the max one \nfor(int i: keyboards){\n  for(int j: drives){\n    if((i+j) &gt; b) {\n      // do nothing, it's unaffordable (and remove this block)\n    }else if((i+j) == b){\n       answer = i+j; \n       return answer;// it can't be more, stop the loop and return the solution\n    } else if((i+j) &gt; maxAmount){ // no need to put an else, then an if both conditions are related\n        maxAmount = i+j;\n        answer = maxAmount;\n    } \n  }\n}\n</code></pre>\n\n<p>Of course, if you remove the first empty <code>if</code>block from the above code, you will have to change the last condition in order to check if it's below the max allowed:</p>\n\n<pre><code>if((i+j)&gt;maxAmount &amp;&amp; (i+j)&lt;=b)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18742154,"reputation":1,"user_id":13665206,"display_name":"Ashish Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591110630,"creation_date":1591099274,"answer_id":62151542,"question_id":54312152,"body_markdown":"    int getMoneySpent(int keyboards_count, int* keyboards, int drives_count, int* drives, int b) {\r\n        \r\n         int price=-1;\r\n         \r\n             for(int i=0;i&lt;drives_count;i++)\r\n             {\r\n                 for(int j=0;j&lt;keyboards_count;j++)\r\n                 {\r\n                     if((drives[i]+keyboards[j]&gt;price) &amp;&amp; (drives[i]+keyboards[j]&lt;=b))\r\n                     {\r\n                         price=drives[i]+keyboards[j];\r\n                     }\r\n                 }\r\n             }\r\n             return price;\r\n    }","title":"Electronics Shop","body":"<pre><code>int getMoneySpent(int keyboards_count, int* keyboards, int drives_count, int* drives, int b) {\n\n     int price=-1;\n\n         for(int i=0;i&lt;drives_count;i++)\n         {\n             for(int j=0;j&lt;keyboards_count;j++)\n             {\n                 if((drives[i]+keyboards[j]&gt;price) &amp;&amp; (drives[i]+keyboards[j]&lt;=b))\n                 {\n                     price=drives[i]+keyboards[j];\n                 }\n             }\n         }\n         return price;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17326711,"reputation":35,"user_id":12550775,"display_name":"Rajan m"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1650462586,"creation_date":1650462586,"answer_id":71940913,"question_id":54312152,"body_markdown":"Javascript Solution:\r\n```\r\nfunction getMoneySpent(keyboards, drives, b) {\r\n    const combos = [];\r\n    let maxCost = 0\r\n    keyboards.forEach(keyboard =&gt; {\r\n        drives.forEach(drive =&gt; {\r\n            let currentComboCost = keyboard+drive;\r\n            maxCost = ((currentComboCost &lt;= b) &amp;&amp; (currentComboCost &gt; maxCost)) ? currentComboCost : maxCost;\r\n        })\r\n    })\r\n    return maxCost || -1;\r\n}\r\n```","title":"Electronics Shop","body":"<p>Javascript Solution:</p>\n<pre><code>function getMoneySpent(keyboards, drives, b) {\n    const combos = [];\n    let maxCost = 0\n    keyboards.forEach(keyboard =&gt; {\n        drives.forEach(drive =&gt; {\n            let currentComboCost = keyboard+drive;\n            maxCost = ((currentComboCost &lt;= b) &amp;&amp; (currentComboCost &gt; maxCost)) ? currentComboCost : maxCost;\n        })\n    })\n    return maxCost || -1;\n}\n</code></pre>\n"}],"owner":{"account_id":6994498,"reputation":8622,"user_id":5362583,"accept_rate":0,"display_name":"Alok"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3440,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":54312509,"answer_count":3,"score":4,"last_activity_date":1650462586,"creation_date":1548173151,"question_id":54312152,"body_markdown":"I have been working on this question, and after submitting my code 7 cases passed, however, 9 cases failed. The question link is here of HackerRank : [Electronic Shop][1]\r\n\r\n**Problem Statement**\r\n\r\nA girl wants to buy a keyboard, and a USB drive, she want to spend as much as possible but within budget (combining both the items). And if the price of both the items exceeds her budget, return -1 or she can&#39;t buy. What is mandatory is that **She wants to buy both the items, not a single one.**\r\n\r\n**Example**\r\n\r\nA range of keyboards is given in the form of an array `[40, 50, 60]`, and USB drives is given as `[5,8,12]`. Her max budget is `60`. Now if we sum up both the things we get two max value of combination : \r\n\r\n - 40 + 12 = 52\r\n - 50 + 8 = 58\r\n\r\nSince 58 one is greater, hence she will get the items worth of 50 and 8. \r\n\r\n**Input format**\r\n\r\n - The first line contains three space-separated integers b, n, and m, her budget, the number of keyboard models and the number of USB drive models. \r\n - The second line contains  space-separated integers , the prices of each keyboard model. \r\n - The third line contains  space-separated integers , the prices of the USB drives.\r\n\r\n**Output Format**\r\n\r\nPrint a single integer denoting the amount of money Monica will spend. If she doesn&#39;t have enough money to buy one keyboard and one USB drive, print -1 instead.\r\n\r\n**My Algo**\r\n\r\n \r\n\r\n    1. Take answer variable as 0, and max value initialize it with first element of keyboard + first element of usb drives\r\n    \r\n    2. loop through keyboard, make an inner loop for usb\r\n    \r\n    3. Compare keyboard[i] + drives[j], if greater than b, then return -1.\r\n    \r\n    4. Else find the max value and assign it to answer\r\n    \r\n    5. return answer\r\n\r\nMy logic is as simple as the requirements, but somehow fails for the cases which has a very large number of elements in the array. \r\n\r\n**Code**\r\n\r\n    static int getMoneySpent(int[] keyboards, int[] drives, int b) {\r\n        int answer = 0, maxAmount = keyboards[0] + drives[0];\r\n\r\n        //This will compare the value of i+j throughout the loop and returns the max one \r\n        for(int i: keyboards){\r\n          for(int j: drives){\r\n            // Ofcourse if all i+j values will be greater than the max budget then -1\r\n            if((i+j) &gt; b)\r\n              answer = -1;\r\n            else if((i+j) == b){\r\n               answer = i+j;\r\n            }else{\r\n               /*If the value is smaller than the max budget, the finding the max value we get after adding them and comparing with the maxAmount variable */\r\n              if((i+j) &gt; maxAmount){\r\n                maxAmount = i+j;\r\n                answer = maxAmount;\r\n            } \r\n          }\r\n        }\r\n      }\r\n\r\n      return answer;\r\n    }\r\n\r\nI&#39;m having two cases which failed,, here they are : \r\n\r\n**Failed Test Case 1**\r\n\r\n`Input =&gt;`\r\n\r\n    539855 818 628\r\n    380710 674456 878173 532602 868253 721585 806107 141310 790209 212031 \r\n    304748 818920 80938 322601 403071 22899 173564 153826 695108 223665 \r\n    346178 957539 975830 573171 641117 932941 822666 575293 132555 479463 \r\n    862209 313799 922966 606508 487172 139230 606390 898464 764983 829520 \r\n    174879 317603 502680 953013 398753 825387 146407 666457 367618 121790 \r\n    68188 478342 25818 506222 135197 232604 963333 79984 549654 776899 \r\n    966040 122063 432596 594425 311887 936661 506256 876303 439611 277816 \r\n    105689 851641 640971 333 216087 17692 619728 602689 650348 364881 \r\n    152060 386548 61364 564569 780938 191826 459905 211804 58177 484711 \r\n    995091 754424 57794 619638 695192 297423 983901 430435 239234 170704 \r\n    142282 74647 121413 782873 303344 265448 101069 177807 692318 691774 \r\n    62306 618191 509537 633333 996922 228947 814154 232698 615359 220853 \r\n    306323 173792 624037 655872 527161 848207 426180 724481 130740 792273 \r\n    886804 404890 449886 654224 194667 354317 367843 525624 414224 481744 \r\n    827725 176927 733780 387166 769479 964040 1{-truncated-}\r\n\r\n`Expected Output`\r\n\r\n    539854\r\n\r\nFor full input data here is the link : [Input Array Data Full][2]\r\n\r\n**Failed Test Case 2**\r\n\r\n`Input =&gt;`\r\n\r\n    374625 797 951\r\n    183477 732159 779867 598794 596985 156054 445934 156030 99998 58097 \r\n    459353 866372 333784 601251 142899 708233 651036 20590 56425 970129 \r\n    722162 832631 938765 212387 779 181866 992436 183446 617621 304311 \r\n    611791 524875 7068 432043 23068 291295 524893 611991 399952 139526 \r\n    46677 292211 973975 366445 232824 456173 90627 785353 618526 199719 \r\n    382549 514351 983453 592549 466869 46461 860135 607682 680461 170563 \r\n    450601 65067 13268 949100 942415 965850 563416 808580 385504 304683 \r\n    15970 97695 230946 684388 241080 440252 683418 122066 610135 495289 \r\n    833383 34397 173404 909526 391149 258839 182278 662672 755532 311782 \r\n    425252 520186 207989 546834 567829 184897 31321 969804 842475 775308 \r\n    449856 939711 395240 895029 926868 598035 727436 922082 326615 88513 \r\n    570573 196028 520952 45238 961389 325404 844725 388765 747489 271411 \r\n    539814 828925 586884 356834 965473 280998 607171 542819 276062 140956 \r\n    296341 802378 165305 74568 15640 987110 423497 772419 394971 198761 \r\n    293555 5524 14083 815646 198888 707017 711503 729172{-truncated-}\r\n\r\n`Expected Output`\r\n\r\n    374625\r\n\r\nFor full input array data for this one follow this link : [Failed Test Case 2 Full Input][3]\r\n    \r\nI&#39;m there almost but somehow I&#39;m confused why my code is not working for long input array elements. Any help would be appreciated, as it will make me learn new thing in my future endeavor. \r\n\r\n  [1]: https://www.hackerrank.com/challenges/electronics-shop/problem\r\n  [2]: https://hr-testcases-us-east-1.s3.amazonaws.com/28389/input02.txt?AWSAccessKeyId=AKIAJ4WZFDFQTZRGO3QA&amp;Expires=1548178084&amp;Signature=GZ%2BJeatkiylwQ8CjhpqID1Su1rg%3D&amp;response-content-type=text%2Fplain\r\n  [3]: https://hr-testcases-us-east-1.s3.amazonaws.com/28389/input02.txt?AWSAccessKeyId=AKIAJ4WZFDFQTZRGO3QA&amp;Expires=1548179972&amp;Signature=q1DTYKd5uYeFUJHDWJcTWflpyWQ%3D&amp;response-content-type=text%2Fplain","title":"Electronics Shop","body":"<p>I have been working on this question, and after submitting my code 7 cases passed, however, 9 cases failed. The question link is here of HackerRank : <a href=\"https://www.hackerrank.com/challenges/electronics-shop/problem\" rel=\"nofollow noreferrer\">Electronic Shop</a></p>\n\n<p><strong>Problem Statement</strong></p>\n\n<p>A girl wants to buy a keyboard, and a USB drive, she want to spend as much as possible but within budget (combining both the items). And if the price of both the items exceeds her budget, return -1 or she can't buy. What is mandatory is that <strong>She wants to buy both the items, not a single one.</strong></p>\n\n<p><strong>Example</strong></p>\n\n<p>A range of keyboards is given in the form of an array <code>[40, 50, 60]</code>, and USB drives is given as <code>[5,8,12]</code>. Her max budget is <code>60</code>. Now if we sum up both the things we get two max value of combination : </p>\n\n<ul>\n<li>40 + 12 = 52</li>\n<li>50 + 8 = 58</li>\n</ul>\n\n<p>Since 58 one is greater, hence she will get the items worth of 50 and 8. </p>\n\n<p><strong>Input format</strong></p>\n\n<ul>\n<li>The first line contains three space-separated integers b, n, and m, her budget, the number of keyboard models and the number of USB drive models. </li>\n<li>The second line contains  space-separated integers , the prices of each keyboard model. </li>\n<li>The third line contains  space-separated integers , the prices of the USB drives.</li>\n</ul>\n\n<p><strong>Output Format</strong></p>\n\n<p>Print a single integer denoting the amount of money Monica will spend. If she doesn't have enough money to buy one keyboard and one USB drive, print -1 instead.</p>\n\n<p><strong>My Algo</strong></p>\n\n<pre><code>1. Take answer variable as 0, and max value initialize it with first element of keyboard + first element of usb drives\n\n2. loop through keyboard, make an inner loop for usb\n\n3. Compare keyboard[i] + drives[j], if greater than b, then return -1.\n\n4. Else find the max value and assign it to answer\n\n5. return answer\n</code></pre>\n\n<p>My logic is as simple as the requirements, but somehow fails for the cases which has a very large number of elements in the array. </p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>static int getMoneySpent(int[] keyboards, int[] drives, int b) {\n    int answer = 0, maxAmount = keyboards[0] + drives[0];\n\n    //This will compare the value of i+j throughout the loop and returns the max one \n    for(int i: keyboards){\n      for(int j: drives){\n        // Ofcourse if all i+j values will be greater than the max budget then -1\n        if((i+j) &gt; b)\n          answer = -1;\n        else if((i+j) == b){\n           answer = i+j;\n        }else{\n           /*If the value is smaller than the max budget, the finding the max value we get after adding them and comparing with the maxAmount variable */\n          if((i+j) &gt; maxAmount){\n            maxAmount = i+j;\n            answer = maxAmount;\n        } \n      }\n    }\n  }\n\n  return answer;\n}\n</code></pre>\n\n<p>I'm having two cases which failed,, here they are : </p>\n\n<p><strong>Failed Test Case 1</strong></p>\n\n<p><code>Input =&gt;</code></p>\n\n<pre><code>539855 818 628\n380710 674456 878173 532602 868253 721585 806107 141310 790209 212031 \n304748 818920 80938 322601 403071 22899 173564 153826 695108 223665 \n346178 957539 975830 573171 641117 932941 822666 575293 132555 479463 \n862209 313799 922966 606508 487172 139230 606390 898464 764983 829520 \n174879 317603 502680 953013 398753 825387 146407 666457 367618 121790 \n68188 478342 25818 506222 135197 232604 963333 79984 549654 776899 \n966040 122063 432596 594425 311887 936661 506256 876303 439611 277816 \n105689 851641 640971 333 216087 17692 619728 602689 650348 364881 \n152060 386548 61364 564569 780938 191826 459905 211804 58177 484711 \n995091 754424 57794 619638 695192 297423 983901 430435 239234 170704 \n142282 74647 121413 782873 303344 265448 101069 177807 692318 691774 \n62306 618191 509537 633333 996922 228947 814154 232698 615359 220853 \n306323 173792 624037 655872 527161 848207 426180 724481 130740 792273 \n886804 404890 449886 654224 194667 354317 367843 525624 414224 481744 \n827725 176927 733780 387166 769479 964040 1{-truncated-}\n</code></pre>\n\n<p><code>Expected Output</code></p>\n\n<pre><code>539854\n</code></pre>\n\n<p>For full input data here is the link : <a href=\"https://hr-testcases-us-east-1.s3.amazonaws.com/28389/input02.txt?AWSAccessKeyId=AKIAJ4WZFDFQTZRGO3QA&amp;Expires=1548178084&amp;Signature=GZ%2BJeatkiylwQ8CjhpqID1Su1rg%3D&amp;response-content-type=text%2Fplain\" rel=\"nofollow noreferrer\">Input Array Data Full</a></p>\n\n<p><strong>Failed Test Case 2</strong></p>\n\n<p><code>Input =&gt;</code></p>\n\n<pre><code>374625 797 951\n183477 732159 779867 598794 596985 156054 445934 156030 99998 58097 \n459353 866372 333784 601251 142899 708233 651036 20590 56425 970129 \n722162 832631 938765 212387 779 181866 992436 183446 617621 304311 \n611791 524875 7068 432043 23068 291295 524893 611991 399952 139526 \n46677 292211 973975 366445 232824 456173 90627 785353 618526 199719 \n382549 514351 983453 592549 466869 46461 860135 607682 680461 170563 \n450601 65067 13268 949100 942415 965850 563416 808580 385504 304683 \n15970 97695 230946 684388 241080 440252 683418 122066 610135 495289 \n833383 34397 173404 909526 391149 258839 182278 662672 755532 311782 \n425252 520186 207989 546834 567829 184897 31321 969804 842475 775308 \n449856 939711 395240 895029 926868 598035 727436 922082 326615 88513 \n570573 196028 520952 45238 961389 325404 844725 388765 747489 271411 \n539814 828925 586884 356834 965473 280998 607171 542819 276062 140956 \n296341 802378 165305 74568 15640 987110 423497 772419 394971 198761 \n293555 5524 14083 815646 198888 707017 711503 729172{-truncated-}\n</code></pre>\n\n<p><code>Expected Output</code></p>\n\n<pre><code>374625\n</code></pre>\n\n<p>For full input array data for this one follow this link : <a href=\"https://hr-testcases-us-east-1.s3.amazonaws.com/28389/input02.txt?AWSAccessKeyId=AKIAJ4WZFDFQTZRGO3QA&amp;Expires=1548179972&amp;Signature=q1DTYKd5uYeFUJHDWJcTWflpyWQ%3D&amp;response-content-type=text%2Fplain\" rel=\"nofollow noreferrer\">Failed Test Case 2 Full Input</a></p>\n\n<p>I'm there almost but somehow I'm confused why my code is not working for long input array elements. Any help would be appreciated, as it will make me learn new thing in my future endeavor. </p>\n"},{"tags":["java","guice"],"comments":[{"owner":{"account_id":197528,"reputation":11240,"user_id":441662,"accept_rate":80,"display_name":"Benny Bottema"},"score":0,"creation_date":1564345133,"post_id":8486437,"comment_id":100989906,"body_markdown":"You should submit your own solution as answer and accept that one. It&#39;s the best answer from the list. No module is needed at all, not even an empty one.","body":"You should submit your own solution as answer and accept that one. It&#39;s the best answer from the list. No module is needed at all, not even an empty one."}],"answers":[{"tags":[],"owner":{"account_id":463335,"reputation":9014,"user_id":866172,"display_name":"Jalayn"},"down_vote_count":1,"up_vote_count":59,"is_accepted":false,"score":58,"last_activity_date":1493931481,"creation_date":1323767525,"answer_id":8486677,"question_id":8486437,"body_markdown":"This is the way to go:\n\n    protected void configure() {\n        bind(Door.class);\n        bind(Window.class);\n        bind(Roof.class);\n    }\n\nSince they are concrete classes, as Guice says, you can&#39;t bind them to themselves :-)\n\nCheck out the [`Binder`](https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/Binder.html) docs, it notes:\n\n&gt;     bind(ServiceImpl.class);\n&gt;\n&gt; This statement does essentially nothing; it &quot;binds the `ServiceImpl` class to itself&quot; and does not change Guice&#39;s default behavior. You may still want to use this if you prefer your `Module` class to serve as an explicit manifest for the services it provides. Also, in rare cases, Guice may be unable to validate a binding at injector creation time unless it is given explicitly.\n \nConcrete classes with constructor marked as [`@Inject`](https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/Inject.html) are automatically available for injection. But it helps the developer (you) know what is configured in the module.","title":"How to bind concrete classes?","body":"<p>This is the way to go:</p>\n<pre><code>protected void configure() {\n    bind(Door.class);\n    bind(Window.class);\n    bind(Roof.class);\n}\n</code></pre>\n<p>Since they are concrete classes, as Guice says, you can't bind them to themselves :-)</p>\n<p>Check out the <a href=\"https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/Binder.html\" rel=\"noreferrer\"><code>Binder</code></a> docs, it notes:</p>\n<blockquote>\n<pre><code>bind(ServiceImpl.class);\n</code></pre>\n<p>This statement does essentially nothing; it &quot;binds the <code>ServiceImpl</code> class to itself&quot; and does not change Guice's default behavior. You may still want to use this if you prefer your <code>Module</code> class to serve as an explicit manifest for the services it provides. Also, in rare cases, Guice may be unable to validate a binding at injector creation time unless it is given explicitly.</p>\n</blockquote>\n<p>Concrete classes with constructor marked as <a href=\"https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/Inject.html\" rel=\"noreferrer\"><code>@Inject</code></a> are automatically available for injection. But it helps the developer (you) know what is configured in the module.</p>\n"},{"tags":[],"owner":{"account_id":1091259,"reputation":3399,"user_id":1085861,"display_name":"korifey"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1323767598,"creation_date":1323767598,"answer_id":8486698,"question_id":8486437,"body_markdown":"Binding is needed to link Interface and Implementation class (to change to other implementation in test env for example). But since you have concrete classes, no need for binding **to**, just bind classes","title":"How to bind concrete classes?","body":"<p>Binding is needed to link Interface and Implementation class (to change to other implementation in test env for example). But since you have concrete classes, no need for binding <strong>to</strong>, just bind classes</p>\n"},{"tags":[],"owner":{"account_id":418097,"reputation":12964,"user_id":794457,"accept_rate":100,"display_name":"edwardw"},"down_vote_count":2,"up_vote_count":33,"is_accepted":true,"score":31,"last_activity_date":1432046552,"creation_date":1323767926,"answer_id":8486763,"question_id":8486437,"body_markdown":"Guice&#39;s [Just-In-Time binding](https://github.com/google/guice/wiki/JustInTimeBindings) does exactly what you want. Given your ```Door```, ```Window``` and ```Roof``` meet following requirements (quoted from the Guice [documentation][1]):\r\n\r\n&gt; either a public, no-arguments constructor, or a constructor with the @Inject annotation\r\n\r\nan empty Module implementation will be sufficient:\r\n\r\n    public class HouseModule extends AbstractModule {\r\n        @Override\r\n        protected void configure() {\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/google/guice/wiki/JustInTimeBindings","title":"How to bind concrete classes?","body":"<p>Guice's <a href=\"https://github.com/google/guice/wiki/JustInTimeBindings\">Just-In-Time binding</a> does exactly what you want. Given your <code>Door</code>, <code>Window</code> and <code>Roof</code> meet following requirements (quoted from the Guice <a href=\"https://github.com/google/guice/wiki/JustInTimeBindings\">documentation</a>):</p>\n\n<blockquote>\n  <p>either a public, no-arguments constructor, or a constructor with the @Inject annotation</p>\n</blockquote>\n\n<p>an empty Module implementation will be sufficient:</p>\n\n<pre><code>public class HouseModule extends AbstractModule {\n    @Override\n    protected void configure() {\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":88014,"reputation":60053,"user_id":1178669,"accept_rate":93,"display_name":"helpermethod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36334,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":8486763,"answer_count":3,"score":48,"last_activity_date":1650462552,"creation_date":1323766335,"question_id":8486437,"body_markdown":"I have this class:\r\n\r\n    public class House {\r\n    \tprivate final Door door;\r\n    \tprivate final Window window;\r\n    \tprivate final Roof roof;\r\n    \r\n    \t@Inject\r\n    \tpublic House(Door door, Window window, Roof roof) {\r\n    \t\tthis.door = door;\r\n    \t\tthis.window = window;\r\n    \t\tthis.roof = roof;\r\n    \t}\r\n    }\r\n\r\nWhere `Door`, `Window` and `Roof` are concrete classes. Now if I want to implement a Module for this scenario, I would do it like this:\r\n\r\n    public class HouseModule extends AbstractModule {\r\n    \t@Override\r\n    \tprotected void configure() {\r\n    \t\tbind(Door.class).to(Door.class);\r\n    \t\tbind(Window.class).to(Window.class);\r\n    \t\tbind(Roof.class).to(Roof.class);\r\n    \t}\r\n    }\r\n\r\nBut I wonder if this is the right way to bind concrete classes, or if there are easier ways. I feel there is an easier way to this.\r\n\r\n","title":"How to bind concrete classes?","body":"<p>I have this class:</p>\n<pre><code>public class House {\n    private final Door door;\n    private final Window window;\n    private final Roof roof;\n\n    @Inject\n    public House(Door door, Window window, Roof roof) {\n        this.door = door;\n        this.window = window;\n        this.roof = roof;\n    }\n}\n</code></pre>\n<p>Where <code>Door</code>, <code>Window</code> and <code>Roof</code> are concrete classes. Now if I want to implement a Module for this scenario, I would do it like this:</p>\n<pre><code>public class HouseModule extends AbstractModule {\n    @Override\n    protected void configure() {\n        bind(Door.class).to(Door.class);\n        bind(Window.class).to(Window.class);\n        bind(Roof.class).to(Roof.class);\n    }\n}\n</code></pre>\n<p>But I wonder if this is the right way to bind concrete classes, or if there are easier ways. I feel there is an easier way to this.</p>\n"},{"tags":["java","file-io"],"answers":[{"tags":[],"owner":{"account_id":31201,"reputation":36752,"user_id":85509,"accept_rate":100,"display_name":"user85509"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650462422,"creation_date":1280724251,"answer_id":3385047,"question_id":3385021,"body_markdown":"1. Are you sure example.txt exists in your working directory?  Try adding the following and see what happens.\r\n\r\n    ```\r\n    File f = new File(args[0]);\r\n    if (!f.exists()) {\r\n      System.out.println(&quot;does not exist&quot;);\r\n    }\r\n    ```\r\n\r\n2. You have that right.\r\n\r\n3. Actually, I don&#39;t get this error.  How did you do the try/catch?\r\n","title":"Passing in a file name / directory into command line in Java","body":"<ol>\n<li><p>Are you sure example.txt exists in your working directory?  Try adding the following and see what happens.</p>\n<pre><code>File f = new File(args[0]);\nif (!f.exists()) {\n  System.out.println(&quot;does not exist&quot;);\n}\n</code></pre>\n</li>\n<li><p>You have that right.</p>\n</li>\n<li><p>Actually, I don't get this error.  How did you do the try/catch?</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23461,"reputation":5971,"user_id":58811,"accept_rate":100,"display_name":"Upul Bandara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280724538,"creation_date":1280724538,"answer_id":3385067,"question_id":3385021,"body_markdown":"1. I compiled &amp; ran your program. It is working as expected.\r\n\r\n\r\nC:\\upul\\eclipse\\src\\Test\\src&gt;java RemoveDuplicates RemoveDuplicates.java\r\n\r\nis file\r\n\r\n\r\n\r\nC:\\upul\\eclipse\\src\\Test\\src&gt;java RemoveDuplicates c:\\upul\r\n\r\nis directory\r\n\r\n\r\n\r\n","title":"Passing in a file name / directory into command line in Java","body":"<ol>\n<li>I compiled &amp; ran your program. It is working as expected.</li>\n</ol>\n\n<p>C:\\upul\\eclipse\\src\\Test\\src>java RemoveDuplicates RemoveDuplicates.java</p>\n\n<p>is file</p>\n\n<p>C:\\upul\\eclipse\\src\\Test\\src>java RemoveDuplicates c:\\upul</p>\n\n<p>is directory</p>\n"},{"tags":[],"owner":{"account_id":35164,"reputation":6619,"user_id":99463,"accept_rate":94,"display_name":"sasuke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1280724858,"creation_date":1280724858,"answer_id":3385092,"question_id":3385021,"body_markdown":"&gt; So I was wondering if my code is wrong, or how I&#39;m passing it into the command line is \r\n&gt; wrong for starters\r\n\r\nIs that file present in your working directory? Something which doesn&#39;t exist is neither a file nor a directory. Try creating a sample text file with the same name and then invoking your program.\r\n\r\n&gt; how do you pass in a directory name\r\n\r\nPass in a fully qualified string which represents your directory (e.g. `java MyProg &quot;c:\\testdir\\mydir&quot;`) pass in a directory path relative to your current working directory (e.g. `java MyProg testdir/mydir`)\r\n\r\n&gt; File f = new File(args[0]). I thought File threw an exception?\r\n\r\nCreating a new `File` object doesn&#39;t create a physical file hence no `IOException` is thrown as you expected. It is only when you try to open a file for reading or writing a `FileNotFoundException` is thrown. Hence it&#39;s a good practice to always check for the existence of a File before using it for IO.","title":"Passing in a file name / directory into command line in Java","body":"<blockquote>\n  <p>So I was wondering if my code is wrong, or how I'm passing it into the command line is \n  wrong for starters</p>\n</blockquote>\n\n<p>Is that file present in your working directory? Something which doesn't exist is neither a file nor a directory. Try creating a sample text file with the same name and then invoking your program.</p>\n\n<blockquote>\n  <p>how do you pass in a directory name</p>\n</blockquote>\n\n<p>Pass in a fully qualified string which represents your directory (e.g. <code>java MyProg \"c:\\testdir\\mydir\"</code>) pass in a directory path relative to your current working directory (e.g. <code>java MyProg testdir/mydir</code>)</p>\n\n<blockquote>\n  <p>File f = new File(args[0]). I thought File threw an exception?</p>\n</blockquote>\n\n<p>Creating a new <code>File</code> object doesn't create a physical file hence no <code>IOException</code> is thrown as you expected. It is only when you try to open a file for reading or writing a <code>FileNotFoundException</code> is thrown. Hence it's a good practice to always check for the existence of a File before using it for IO.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280725249,"creation_date":1280725249,"answer_id":3385115,"question_id":3385021,"body_markdown":" 1. You need to type java RemoveDuplicates.**java** example.txt.\r\n 2. Correct.\r\n 3. You should be able to do that as anything can throw RuntimeException which is a subclass of Exception.","title":"Passing in a file name / directory into command line in Java","body":"<ol>\n<li>You need to type java RemoveDuplicates.<strong>java</strong> example.txt.</li>\n<li>Correct.</li>\n<li>You should be able to do that as anything can throw RuntimeException which is a subclass of Exception.</li>\n</ol>\n"}],"owner":{"account_id":71784,"reputation":28710,"user_id":207524,"accept_rate":78,"display_name":"Crystal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4833,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":3385047,"answer_count":4,"score":6,"last_activity_date":1650462422,"creation_date":1280723801,"question_id":3385021,"body_markdown":"I&#39;m trying to do some processing on whether the user enters a (1) file name, or (2) directory name into the command line.  Anything else should throw an error.  Starting with the simplest case, I wrote this:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    public class RemoveDuplicates {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tif (args.length != 1) {\r\n    \t\t\tSystem.out.println(&quot;Program accepts one command-line argument.  Exiting!&quot;);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \t\tFile f = new File(args[0]);\r\n    \t\tif (f.isDirectory()) {\r\n    \t\t\tSystem.out.println(&quot;is directory&quot;);\r\n    \t\t}\r\n    \t\telse if (f.isFile()) {\r\n    \t\t\tSystem.out.println(&quot;is file&quot;);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tSystem.out.println(&quot;Shouldn&#39;t happen&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nat the command line, I type: java RemoveDuplicates example.txt\r\nand I get the reuslts, &quot;Shouldn&#39;t happen.&quot;  I also tried java RemoveDuplicates &quot;example.txt&quot; and that doesn&#39;t work either.  So I was wondering if my code is wrong, or how I&#39;m passing it into the command line is wrong for starters.\r\n\r\nSecondly, how do you pass in a directory name?  Like if your directory was myDirectory, is it the same thing: java RemoveDuplicates myDirectory\r\n\r\nThird, why if I put my File f = new File(args[0]) into a try block and have a catch block, I get a compile error about what is in my try block never throws an exception.  I thought File threw an exception? Thanks in advance!\r\n","title":"Passing in a file name / directory into command line in Java","body":"<p>I'm trying to do some processing on whether the user enters a (1) file name, or (2) directory name into the command line.  Anything else should throw an error.  Starting with the simplest case, I wrote this:</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class RemoveDuplicates {\n\n    public static void main(String[] args) {\n        if (args.length != 1) {\n            System.out.println(\"Program accepts one command-line argument.  Exiting!\");\n            System.exit(1);\n        }\n        File f = new File(args[0]);\n        if (f.isDirectory()) {\n            System.out.println(\"is directory\");\n        }\n        else if (f.isFile()) {\n            System.out.println(\"is file\");\n        }\n        else {\n            System.out.println(\"Shouldn't happen\");\n        }\n    }\n}\n</code></pre>\n\n<p>at the command line, I type: java RemoveDuplicates example.txt\nand I get the reuslts, \"Shouldn't happen.\"  I also tried java RemoveDuplicates \"example.txt\" and that doesn't work either.  So I was wondering if my code is wrong, or how I'm passing it into the command line is wrong for starters.</p>\n\n<p>Secondly, how do you pass in a directory name?  Like if your directory was myDirectory, is it the same thing: java RemoveDuplicates myDirectory</p>\n\n<p>Third, why if I put my File f = new File(args[0]) into a try block and have a catch block, I get a compile error about what is in my try block never throws an exception.  I thought File threw an exception? Thanks in advance!</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":29184,"reputation":3210,"user_id":78633,"display_name":"Greg Case"},"score":3,"creation_date":1276183620,"post_id":3015716,"comment_id":3082602,"body_markdown":"As the others indicated, there is a definite performance penalty.  However, there is a big difference between noticeable to profiling tools, and noticeable to users.","body":"As the others indicated, there is a definite performance penalty.  However, there is a big difference between noticeable to profiling tools, and noticeable to users."}],"answers":[{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1276183449,"creation_date":1276182965,"answer_id":3015740,"question_id":3015716,"body_markdown":"Yes, you can only use reference types for generic type parameters, and yes, there will be some performance penalty due to boxing/unboxing (which can be done automatically for the most part).\r\n\r\nHere&#39;s a quote from the [Java Generics FAQs](http://www.angelikalanger.com/GenericsFAQ/FAQSections/TypeArguments.html#FAQ003):\r\n\r\n&gt; **Are primitive types permitted as type arguments?**\r\n\r\n&gt; No. Only reference types can be used as type arguments.\r\nA parameterized type such as `List&lt;int&gt;` or `Set&lt;short&gt;` is illegal.  Only reference types can be used for instantiation of generic types and methods. Instead of `List&lt;int&gt;` we must declare a `List&lt;Integer&gt;`, using the corresponding wrapper type as the type argument.\r\n\r\n&gt; [...] Note, that the lack of primitive type instantiations incurs a performance penalty. Autoboxing and -unboxing make the use of wrapper type instantiations of generic types very convenient and concise in the source code.  But the concise notation hides the fact that behind the curtain the virtual machine creates and uses lots of wrapper objects, each of which must be allocated and later garbage collected. The higher performance of direct use of primitive type values cannot be achieved with generic types. Only a regular type can provide the optimal performance of using primitive type values.\r\n\r\nIf you absolutely need the performance, [Trove](http://trove4j.sourceforge.net/) has many data structures specialized for primitive types, but for most practical purposes, using boxed primitive types with Java Collections Framework classes should yield more than acceptable performance.\r\n\r\n### See also\r\n\r\n* _Effective Java 2nd Edition, Item 49: Prefer primitive types to boxed types_\r\n* [Java Language Guide/Autoboxing](http://java.sun.com/j2se/1.5.0/docs/guide/language/autoboxing.html)\r\n* [Java Language Guide/Generics](http://java.sun.com/j2se/1.5.0/docs/guide/language/generics.html)\r\n* [Java Tutorials/Generics](http://java.sun.com/docs/books/tutorial/java/generics/index.html)\r\n","title":"Can I use generics over reference types only?","body":"<p>Yes, you can only use reference types for generic type parameters, and yes, there will be some performance penalty due to boxing/unboxing (which can be done automatically for the most part).</p>\n\n<p>Here's a quote from the <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/TypeArguments.html#FAQ003\" rel=\"noreferrer\">Java Generics FAQs</a>:</p>\n\n<blockquote>\n  <p><strong>Are primitive types permitted as type arguments?</strong></p>\n  \n  <p>No. Only reference types can be used as type arguments.\n  A parameterized type such as <code>List&lt;int&gt;</code> or <code>Set&lt;short&gt;</code> is illegal.  Only reference types can be used for instantiation of generic types and methods. Instead of <code>List&lt;int&gt;</code> we must declare a <code>List&lt;Integer&gt;</code>, using the corresponding wrapper type as the type argument.</p>\n  \n  <p>[...] Note, that the lack of primitive type instantiations incurs a performance penalty. Autoboxing and -unboxing make the use of wrapper type instantiations of generic types very convenient and concise in the source code.  But the concise notation hides the fact that behind the curtain the virtual machine creates and uses lots of wrapper objects, each of which must be allocated and later garbage collected. The higher performance of direct use of primitive type values cannot be achieved with generic types. Only a regular type can provide the optimal performance of using primitive type values.</p>\n</blockquote>\n\n<p>If you absolutely need the performance, <a href=\"http://trove4j.sourceforge.net/\" rel=\"noreferrer\">Trove</a> has many data structures specialized for primitive types, but for most practical purposes, using boxed primitive types with Java Collections Framework classes should yield more than acceptable performance.</p>\n\n<h3>See also</h3>\n\n<ul>\n<li><em>Effective Java 2nd Edition, Item 49: Prefer primitive types to boxed types</em></li>\n<li><a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/language/autoboxing.html\" rel=\"noreferrer\">Java Language Guide/Autoboxing</a></li>\n<li><a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/language/generics.html\" rel=\"noreferrer\">Java Language Guide/Generics</a></li>\n<li><a href=\"http://java.sun.com/docs/books/tutorial/java/generics/index.html\" rel=\"noreferrer\">Java Tutorials/Generics</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":19697,"reputation":16105,"user_id":46375,"accept_rate":100,"display_name":"whaley"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1276183037,"creation_date":1276183037,"answer_id":3015757,"question_id":3015716,"body_markdown":"&gt; Is it only possible in Java to\r\n&gt; instantiate generics over object\r\n&gt; types, as opposed to primitives?\r\n\r\ncorrect.\r\n\r\n&gt; If so, is there a noticeable\r\n&gt; performance penalty for\r\n&gt; boxing/unboxing of primitives?\r\n\r\nyes, there is. \r\n\r\nSee here for a detailed description:  http://java.sun.com/j2se/1.5.0/docs/guide/language/autoboxing.html","title":"Can I use generics over reference types only?","body":"<blockquote>\n  <p>Is it only possible in Java to\n  instantiate generics over object\n  types, as opposed to primitives?</p>\n</blockquote>\n\n<p>correct.</p>\n\n<blockquote>\n  <p>If so, is there a noticeable\n  performance penalty for\n  boxing/unboxing of primitives?</p>\n</blockquote>\n\n<p>yes, there is. </p>\n\n<p>See here for a detailed description:  <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/language/autoboxing.html\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/guide/language/autoboxing.html</a></p>\n"},{"tags":[],"owner":{"account_id":94267,"reputation":47134,"user_id":257465,"display_name":"tzaman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1276183123,"creation_date":1276183123,"answer_id":3015772,"question_id":3015716,"body_markdown":"1) Yes, Java generics only work on object types. This is because of how they&#39;re implemented, which is through [type erasure][1] - essentially, once it&#39;s compiled down to bytecode all generic types are replaced with `Object` - this was done so that java generics could work without modifying the underlying JVM/bytecode (bad decision, imo). \r\n\r\n2) Yes, there will some boxing / unboxing penalty; can&#39;t be avoided, I&#39;m afraid. \r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/java/generics/erasure.html","title":"Can I use generics over reference types only?","body":"<p>1) Yes, Java generics only work on object types. This is because of how they're implemented, which is through <a href=\"http://java.sun.com/docs/books/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">type erasure</a> - essentially, once it's compiled down to bytecode all generic types are replaced with <code>Object</code> - this was done so that java generics could work without modifying the underlying JVM/bytecode (bad decision, imo). </p>\n\n<p>2) Yes, there will some boxing / unboxing penalty; can't be avoided, I'm afraid. </p>\n"},{"tags":[],"owner":{"account_id":22694,"reputation":11506,"user_id":56242,"accept_rate":96,"display_name":"Savvas Dalkitsis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1276184199,"creation_date":1276184199,"answer_id":3015929,"question_id":3015716,"body_markdown":"As others have noted there is a performance penalty for using wrapper classes for primitives. And even though the cost is not really noticeable, if you REALLY need the extra performance boost you can simply create custom subclasses for the List class, one for each primitive type (they are not many so that&#39;s not a problem) and simply override the methods that put and get values in the list and limit them to accepting each primitive. This will result in the performance boost and keep the verbosity of the generic list code.","title":"Can I use generics over reference types only?","body":"<p>As others have noted there is a performance penalty for using wrapper classes for primitives. And even though the cost is not really noticeable, if you REALLY need the extra performance boost you can simply create custom subclasses for the List class, one for each primitive type (they are not many so that's not a problem) and simply override the methods that put and get values in the list and limit them to accepting each primitive. This will result in the performance boost and keep the verbosity of the generic list code.</p>\n"}],"owner":{"account_id":76597,"reputation":60197,"user_id":219159,"accept_rate":75,"display_name":"Seva Alekseyev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1399,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":3015740,"answer_count":4,"score":10,"last_activity_date":1650462127,"creation_date":1276182844,"question_id":3015716,"body_markdown":"While coding a Map&lt;&gt;, I found out that declaring `Map&lt;int, int&gt;` is a syntax error while `Map&lt;Integer, Integer&gt;` is OK. \r\n\r\nIs it only possible in Java to instantiate generics over object types, as opposed to primitives? If so, is there a noticeable performance penalty for boxing/unboxing of primitives?","title":"Can I use generics over reference types only?","body":"<p>While coding a Map&lt;&gt;, I found out that declaring <code>Map&lt;int, int&gt;</code> is a syntax error while <code>Map&lt;Integer, Integer&gt;</code> is OK.</p>\n<p>Is it only possible in Java to instantiate generics over object types, as opposed to primitives? If so, is there a noticeable performance penalty for boxing/unboxing of primitives?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"score":0,"creation_date":1275076514,"post_id":2931936,"comment_id":2985869,"body_markdown":"Just a thought: I see that your annotations are on the getter - is this the same way for all other members of Test2? If not, fixing it may resolve your problem.","body":"Just a thought: I see that your annotations are on the getter - is this the same way for all other members of Test2? If not, fixing it may resolve your problem."},{"owner":{"account_id":118480,"reputation":1635,"user_id":309534,"accept_rate":92,"display_name":"Jeremy"},"score":0,"creation_date":1275076993,"post_id":2931936,"comment_id":2985933,"body_markdown":"Thanks Peter. Yes, they&#39;re all on the getters (but I have made this mistake in the past and it did break things..)","body":"Thanks Peter. Yes, they&#39;re all on the getters (but I have made this mistake in the past and it did break things..)"},{"owner":{"account_id":118480,"reputation":1635,"user_id":309534,"accept_rate":92,"display_name":"Jeremy"},"score":0,"creation_date":1275089609,"post_id":2931936,"comment_id":2987090,"body_markdown":"Sadly the iterate doesn&#39;t work - in fact it&#39;s worse! Now it does the initial select, which gives it the object ids, then it does a select for each associated object, but doing a left outer join through the associator table, rather than just going straight to the associatee - a more complicated separate select! (see my comment on your reply below) Oh well. I think it&#39;s going to HQL to be safe, which is maybe better since it&#39;s more explicit..","body":"Sadly the iterate doesn&#39;t work - in fact it&#39;s worse! Now it does the initial select, which gives it the object ids, then it does a select for each associated object, but doing a left outer join through the associator table, rather than just going straight to the associatee - a more complicated separate select! (see my comment on your reply below) Oh well. I think it&#39;s going to HQL to be safe, which is maybe better since it&#39;s more explicit.."}],"answers":[{"tags":[],"owner":{"account_id":142256,"reputation":3008,"user_id":349842,"accept_rate":62,"display_name":"Ross"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1275123772,"creation_date":1275080925,"answer_id":2932543,"question_id":2931936,"body_markdown":"I created a very simple application to test the scenario you are getting and your code should work (it is working for me). The only thing I have tried that will give me multiple select statements is setting max_fetch_depth to 0. If set to 2 (or not configured) I get the left outer join in my query. What version of hibernate are you using? I am using 3.4.0.GA.\r\n\r\nEDIT:\r\nBelow is the simple application I used (with the same versions mentioned by Pascal):\r\n\r\ncfg:\r\n\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.hsqldb.jdbcDriver&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:hsqldb:hibscribs&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot;&gt;sa&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot;&gt;&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.HSQLDialect&lt;/property&gt;\r\n            &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create-drop&lt;/property&gt;\r\n            &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n            &lt;!-- property name=&quot;max_fetch_depth&quot;&gt;0&lt;/property--&gt;&lt;!-- uncomment to see where 2 selects are used instead of join --&gt;\r\n            \r\n            &lt;mapping class=&quot;com.mydomain.bo.Person&quot; /&gt;\r\n            &lt;mapping class=&quot;com.mydomain.bo.Phone&quot; /&gt;\r\n            \r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nPerson entity -- kept it simple only have @OneToOne, adding JoinColumn, etc made no difference. \r\n\r\n    @Entity\r\n    @Table(name=&quot;person&quot;)\r\n    public class Person {\r\n    \tprivate Long id;\r\n    \tprivate String name;\r\n    \tprivate Phone phone;\r\n    \t\r\n    \t@Id\r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \t\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \t\r\n    \t@OneToOne(cascade=CascadeType.ALL)\r\n    \tpublic Phone getPhone() {\r\n    \t\treturn phone;\r\n    \t}\r\n    \t\r\n    \tpublic void setPhone(Phone phone) {\r\n    \t\tthis.phone = phone;\r\n    \t}\t\r\n    }\r\n\r\n.\r\n\r\n    @Entity\r\n    @Table(name=&quot;phone&quot;)\r\n    public class Phone {\r\n    \tprivate Long id;\r\n    \tprivate String number;\r\n    \t\r\n    \t@Id\r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \t\r\n    \tpublic String getNumber() {\r\n    \t\treturn number;\r\n    \t}\r\n    \tpublic void setNumber(String number) {\r\n    \t\tthis.number = number;\r\n    \t}\r\n    }\r\n\r\nSimple test:\r\n\r\n    SessionFactory session = HibernateUtil.getSessionFactory();\r\n    Session sess = session.getCurrentSession();\r\n    Transaction tx = sess.beginTransaction();\r\n    \r\n    Phone phone = new Phone();\r\n    phone.setId(1L);\r\n    phone.setNumber(&quot;1234567&quot;);\r\n    \r\n    Person person = new Person();\r\n    person.setId(1L);\r\n    person.setName(&quot;Bob&quot;);\r\n    person.setPhone(phone);\r\n    \r\n    sess.save(person);\r\n    \r\n    tx.commit(); \r\n    \r\n    sess = session.openSession();\r\n    \r\n    //Person p1 = (Person)sess.load(Person.class,1L);\r\n    //System.out.println(p1.getPhone().getNumber());\r\n    \r\n    // changed the above code to use the Criteria interface below: \r\n    Criteria criteria = sess.createCriteria(Person.class);\r\n    List&lt;Person&gt; results = criteria.list();\r\n    for (int i=0; i&lt;results.size(); i++){\r\n      Person p = (Person)results.get(i);\r\n      System.out.println(p.getPhone().getNumber());\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n    Hibernate: \r\n        select\r\n            phone_.id,\r\n            phone_.number as number1_ \r\n        from\r\n            phone phone_ \r\n        where\r\n            phone_.id=?\r\n    Hibernate: \r\n        insert \r\n        into\r\n            phone\r\n            (number, id) \r\n        values\r\n            (?, ?)\r\n    Hibernate: \r\n        insert \r\n        into\r\n            person\r\n            (name, phone_id, id) \r\n        values\r\n            (?, ?, ?)\r\n    Hibernate: \r\n        select\r\n            person0_.id as id0_1_,\r\n            person0_.name as name0_1_,\r\n            person0_.phone_id as phone3_0_1_,\r\n            phone1_.id as id1_0_,\r\n            phone1_.number as number1_0_ \r\n        from\r\n            person person0_ \r\n        left outer join\r\n            phone phone1_ \r\n                on person0_.phone_id=phone1_.id \r\n        where\r\n            person0_.id=?\r\n    1234567\r\n\r\n\r\n","title":"Using @Fetch(FetchMode.Join) in Hibernate","body":"<p>I created a very simple application to test the scenario you are getting and your code should work (it is working for me). The only thing I have tried that will give me multiple select statements is setting max_fetch_depth to 0. If set to 2 (or not configured) I get the left outer join in my query. What version of hibernate are you using? I am using 3.4.0.GA.</p>\n\n<p>EDIT:\nBelow is the simple application I used (with the same versions mentioned by Pascal):</p>\n\n<p>cfg:</p>\n\n<pre><code>&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=\"hibernate.connection.driver_class\"&gt;org.hsqldb.jdbcDriver&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.url\"&gt;jdbc:hsqldb:hibscribs&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.username\"&gt;sa&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.password\"&gt;&lt;/property&gt;\n        &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.HSQLDialect&lt;/property&gt;\n        &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n        &lt;property name=\"format_sql\"&gt;true&lt;/property&gt;\n        &lt;property name=\"hbm2ddl.auto\"&gt;create-drop&lt;/property&gt;\n        &lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt;\n        &lt;!-- property name=\"max_fetch_depth\"&gt;0&lt;/property--&gt;&lt;!-- uncomment to see where 2 selects are used instead of join --&gt;\n\n        &lt;mapping class=\"com.mydomain.bo.Person\" /&gt;\n        &lt;mapping class=\"com.mydomain.bo.Phone\" /&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>Person entity -- kept it simple only have @OneToOne, adding JoinColumn, etc made no difference. </p>\n\n<pre><code>@Entity\n@Table(name=\"person\")\npublic class Person {\n    private Long id;\n    private String name;\n    private Phone phone;\n\n    @Id\n    public Long getId() {\n        return id;\n    }\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @OneToOne(cascade=CascadeType.ALL)\n    public Phone getPhone() {\n        return phone;\n    }\n\n    public void setPhone(Phone phone) {\n        this.phone = phone;\n    }   \n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>@Entity\n@Table(name=\"phone\")\npublic class Phone {\n    private Long id;\n    private String number;\n\n    @Id\n    public Long getId() {\n        return id;\n    }\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getNumber() {\n        return number;\n    }\n    public void setNumber(String number) {\n        this.number = number;\n    }\n}\n</code></pre>\n\n<p>Simple test:</p>\n\n<pre><code>SessionFactory session = HibernateUtil.getSessionFactory();\nSession sess = session.getCurrentSession();\nTransaction tx = sess.beginTransaction();\n\nPhone phone = new Phone();\nphone.setId(1L);\nphone.setNumber(\"1234567\");\n\nPerson person = new Person();\nperson.setId(1L);\nperson.setName(\"Bob\");\nperson.setPhone(phone);\n\nsess.save(person);\n\ntx.commit(); \n\nsess = session.openSession();\n\n//Person p1 = (Person)sess.load(Person.class,1L);\n//System.out.println(p1.getPhone().getNumber());\n\n// changed the above code to use the Criteria interface below: \nCriteria criteria = sess.createCriteria(Person.class);\nList&lt;Person&gt; results = criteria.list();\nfor (int i=0; i&lt;results.size(); i++){\n  Person p = (Person)results.get(i);\n  System.out.println(p.getPhone().getNumber());\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Hibernate: \n    select\n        phone_.id,\n        phone_.number as number1_ \n    from\n        phone phone_ \n    where\n        phone_.id=?\nHibernate: \n    insert \n    into\n        phone\n        (number, id) \n    values\n        (?, ?)\nHibernate: \n    insert \n    into\n        person\n        (name, phone_id, id) \n    values\n        (?, ?, ?)\nHibernate: \n    select\n        person0_.id as id0_1_,\n        person0_.name as name0_1_,\n        person0_.phone_id as phone3_0_1_,\n        phone1_.id as id1_0_,\n        phone1_.number as number1_0_ \n    from\n        person person0_ \n    left outer join\n        phone phone1_ \n            on person0_.phone_id=phone1_.id \n    where\n        person0_.id=?\n1234567\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1275084399,"creation_date":1275084399,"answer_id":2932830,"question_id":2931936,"body_markdown":"&gt; When I select Test2 from the db, I can see that a separate select is being made to get the details of the associated test3 class.\r\n\r\nI&#39;m very interested by the code of the other answer because that&#39;s what I&#39;m seeing too when testing the code you&#39;re showing, it generates two selects for a `from Test2`. \r\n\r\nI&#39;m using the following dependencies:\r\n\r\n- org.hibernate:hibernate-entitymanager:jar:3.4.0.GA:compile\r\n- org.hibernate:ejb3-persistence:jar:1.0.2.GA:compile\r\n- org.hibernate:hibernate-commons-annotations:jar:3.1.0.GA:compile\r\n- org.hibernate:hibernate-annotations:jar:3.4.0.GA:compile\r\n- org.hibernate:hibernate-core:jar:3.3.0.SP1:compile\r\n\r\n&gt; I set the FetchType to EAGER out of desperation, even though it defaults to EAGER anyway for OneToOne mappings, but it made no difference.\r\n\r\nThis has no impact if you use Hibernate annotations because the Hibernate annotations overrides the EJB3 fetching options. See [2.4.5.1. Lazy options and fetching modes][1].\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/stable/annotations/reference/en/html_single/#entity-hibspec-singleassoc-fetching","title":"Using @Fetch(FetchMode.Join) in Hibernate","body":"<blockquote>\n  <p>When I select Test2 from the db, I can see that a separate select is being made to get the details of the associated test3 class.</p>\n</blockquote>\n\n<p>I'm very interested by the code of the other answer because that's what I'm seeing too when testing the code you're showing, it generates two selects for a <code>from Test2</code>. </p>\n\n<p>I'm using the following dependencies:</p>\n\n<ul>\n<li>org.hibernate:hibernate-entitymanager:jar:3.4.0.GA:compile</li>\n<li>org.hibernate:ejb3-persistence:jar:1.0.2.GA:compile</li>\n<li>org.hibernate:hibernate-commons-annotations:jar:3.1.0.GA:compile</li>\n<li>org.hibernate:hibernate-annotations:jar:3.4.0.GA:compile</li>\n<li>org.hibernate:hibernate-core:jar:3.3.0.SP1:compile</li>\n</ul>\n\n<blockquote>\n  <p>I set the FetchType to EAGER out of desperation, even though it defaults to EAGER anyway for OneToOne mappings, but it made no difference.</p>\n</blockquote>\n\n<p>This has no impact if you use Hibernate annotations because the Hibernate annotations overrides the EJB3 fetching options. See <a href=\"http://docs.jboss.org/hibernate/stable/annotations/reference/en/html_single/#entity-hibspec-singleassoc-fetching\" rel=\"nofollow noreferrer\">2.4.5.1. Lazy options and fetching modes</a>.</p>\n"},{"tags":[],"owner":{"account_id":262886,"reputation":1526,"user_id":548073,"accept_rate":69,"display_name":"sola"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1368810296,"creation_date":1368809003,"answer_id":16614100,"question_id":2931936,"body_markdown":"As a distillation:\r\n\r\n@Fetch(JOIN) will be ignored if you use the Query interface (e.g.: session.createQuery()) but it will be properly used if you use the Criteria interface.\r\n\r\nThis is practically a bug in Hibernate which was never resolved. It is unfortunate because a lot of applications use the Query interface and cannot be migrated easily to the Criteria interface.\r\n\r\nIf you use the Query interface you always have to add JOIN FETCH statements into the HQL manually.\r\n","title":"Using @Fetch(FetchMode.Join) in Hibernate","body":"<p>As a distillation:</p>\n\n<p>@Fetch(JOIN) will be ignored if you use the Query interface (e.g.: session.createQuery()) but it will be properly used if you use the Criteria interface.</p>\n\n<p>This is practically a bug in Hibernate which was never resolved. It is unfortunate because a lot of applications use the Query interface and cannot be migrated easily to the Criteria interface.</p>\n\n<p>If you use the Query interface you always have to add JOIN FETCH statements into the HQL manually.</p>\n"}],"owner":{"account_id":118480,"reputation":1635,"user_id":309534,"accept_rate":92,"display_name":"Jeremy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12416,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":2932830,"answer_count":3,"score":9,"last_activity_date":1650462040,"creation_date":1275075141,"question_id":2931936,"body_markdown":"I have two classes, Test2 and Test3. Test2 has an attribute test3 that is an instance of Test3. In other words, I have a unidirectional OneToOne association, with test2 having a reference to test3.\r\n\r\nWhen I select Test2 from the db, I can see that a separate select is being made to get the details of the associated test3 class. This is the famous 1+N selects problem.\r\n\r\nTo fix this to use a single select, I am trying to use the fetch=join annotation, which I understand to be @Fetch(FetchMode.JOIN)\r\n\r\nHowever, with fetch set to join, I still see separate selects. Here are the relevant portions of my setup..\r\n\r\nhibernate.cfg.xml:\r\n\r\n    &lt;property name=&quot;max_fetch_depth&quot;&gt;2&lt;/property&gt;\r\n\r\nTest2:\r\n\r\n    public class Test2 {\r\n     @OneToOne (cascade=CascadeType.ALL , fetch=FetchType.EAGER)\r\n     @JoinColumn (name=&quot;test3_id&quot;)\r\n     @Fetch(FetchMode.JOIN)\r\n     public Test3 getTest3() {\r\n      return test3;\r\n    }\r\n\r\nNB I set the FetchType to EAGER out of desperation, even though it defaults to EAGER anyway for OneToOne mappings, but it made no difference.\r\n\r\nThanks for any help!\r\n\r\nEdit: I&#39;ve pretty much given up on trying to use FetchMode.JOIN - can anyone confirm that they have got it to work ie produce a left outer join?\r\nIn the docs I see that &quot;Usually, the mapping document is not used to customize fetching. Instead, we keep the default behavior, and override it for a particular transaction, using left join fetch in HQL&quot;\r\n\r\nIf I do a left join fetch instead:\r\n\r\nquery = session.createQuery(&quot;from Test2 t2 left join fetch t2.test3&quot;);\r\n\r\nthen I do indeed get the results I want - ie a left outer join in the query.\r\n\r\n\r\nEdit number 2:\r\n\r\nGuys, thank you so much for your responses. Now I want to get to the bottom of this. I usually find that when I investigate something, I end up learning a lot more than I thought I would.\r\n\r\nOne thing I&#39;ve learned already - I was running on old builds of hibernate because I didn&#39;t realize that the maven repository was out of date. Now I&#39;m hooked up to the jboss repository too, and I have the latest versions of hibernate and hibernate annotations - 3.5.1-Final in both cases.\r\n\r\nI&#39;ve set up a small test case that simplifies it as much as I can - I&#39;m still seeing the problem in 3.5.1-Final, tho&#39; I&#39;m 99% certain it&#39;s just something stupid I&#39;m not setting up right, especially Ross, given that you got it to work (thanks for taking the time to try it by the way)\r\n\r\nSo I have these classes (full text this time)\r\n\r\nClass A\r\n\r\n    package com.play.hibernate2;\r\n    \r\n    import javax.persistence.CascadeType;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.OneToOne;\r\n    \r\n    import org.hibernate.annotations.Fetch;\r\n    import org.hibernate.annotations.FetchMode;\r\n    \r\n    @Entity\r\n    public class A {\r\n    \r\n    \tprivate Integer id;\r\n    \tprivate B b;\r\n    \r\n    \tpublic A() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tpublic Integer getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Integer id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \t@OneToOne (cascade=CascadeType.ALL)\r\n    \t@Fetch(FetchMode.JOIN)\r\n    \tpublic B getB() {\r\n    \t\treturn b;\r\n    \t}\r\n    \r\n    \tpublic void setB(B b) {\r\n    \t\tthis.b = b;\r\n    \t}\r\n    }\r\n\r\nClass B\r\n\r\n    package com.play.hibernate2;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    \r\n    @Entity\r\n    public class B {\r\n    \r\n    \tprivate Integer id;\r\n    \r\n    \tpublic B() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tpublic Integer getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Integer id) {\r\n    \t\tthis.id = id;\r\n    \t}\t\r\n    }\r\n\r\nMy whole hibernate.cfg.xml\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n            &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n            &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    \r\n    &lt;hibernate-configuration&gt;\r\n    \r\n        &lt;session-factory&gt;\r\n    \r\n            &lt;!-- Database connection settings --&gt;\r\n            &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n            &lt;!-- &lt;property name=&quot;connection.driver_class&quot;&gt;com.p6spy.engine.spy.P6SpyDriver&lt;/property&gt; --&gt;\r\n            &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/play&lt;/property&gt;\r\n            &lt;property name=&quot;connection.username&quot;&gt;play&lt;/property&gt;\r\n            &lt;property name=&quot;connection.password&quot;&gt;play&lt;/property&gt;\r\n    \r\n            &lt;!-- JDBC connection pool (use the built-in) --&gt;\r\n            &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n    \r\n            &lt;!-- SQL dialect --&gt;\r\n            &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n    \r\n            &lt;!-- Enable Hibernate&#39;s automatic session context management --&gt;\r\n            &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n    \r\n            &lt;!-- Disable the second-level cache  --&gt;\r\n            &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\r\n    \r\n            &lt;!-- Echo all executed SQL to stdout --&gt;\r\n            &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;generate_statistics&quot;&gt;true&lt;/property&gt;\r\n            &lt;!--\r\n            &lt;property name=&quot;cache.use_structured_entries&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;cache.use_query_cache&quot;&gt;true&lt;/property&gt;\r\n            --&gt;\r\n            &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;use_sql_comments&quot;&gt;true&lt;/property&gt;\r\n            \r\n    \t\t&lt;!-- I think this may fix my individual requests for OneToOne problem --&gt;\r\n    \t\t&lt;property name=&quot;max_fetch_depth&quot;&gt;2&lt;/property&gt;\r\n    \t\t&lt;!-- &lt;property name=&quot;default_batch_fetch_size&quot;&gt;10&lt;/property&gt; --&gt;\r\n    \r\n        &lt;/session-factory&gt;    \r\n    \r\n    &lt;/hibernate-configuration&gt;\r\n\r\nThe testing class\r\n\r\n    package com.play.hibernate2;\r\n    \r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    \r\n    import org.hibernate.FlushMode;\r\n    import org.hibernate.Query;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.cfg.AnnotationConfiguration;\r\n    import org.hibernate.tool.hbm2ddl.SchemaExport;\r\n    \r\n    public class RunTests4 {\r\n    \tprivate SessionFactory sessionFactory;\r\n    \t\r\n    \tpublic static void main(String[] args){\r\n    \t\tRunTests4 d = new RunTests4();\r\n    \t\td.run3();\r\n    \t}\r\n    \tpublic void run3(){\r\n    \t\t\r\n    \t\tSession session = getSession();\r\n    \t\tsession.beginTransaction();\r\n    \r\n    \t\tcreateEntities(session);\r\n    \t\t\r\n    \t\tsession.getTransaction().commit();\r\n    \r\n    \t\tSystem.out.println(&quot;NOW WITH A NEW TRANSACTION&quot;);\r\n    \t\tsession = getSession();\r\n    \t\tsession.beginTransaction();\r\n    \r\n    \t\tQuery query = session.createQuery(&quot;from A&quot;);\r\n    \t\tList results = query.list();\r\n    \t\tfor (int i=0; i&lt;results.size(); i++){\r\n    \t\t\tSystem.out.println(&quot;Row &quot;+i+&quot; was:&quot;);\r\n    \t\t\tA a = (A)results.get(i);\r\n    \t\t\tSystem.out.println(&quot;Result &quot;+i);\r\n    \t\t\tSystem.out.println(a.toString());\r\n    \t\t}\r\n    \r\n    \t\tsession.getTransaction().commit();\r\n    \r\n    \t\t\r\n    \t}\r\n    \tpublic void createEntities(Session session){\r\n    \t\tfor (int i=0; i&lt;2; i++){\r\n    \t\t\tA a = new A();\r\n    \r\n    \t\t\tB b = new B();\r\n    \r\n    \t\t\ta.setB(b);\r\n    \r\n    \t\t\tsession.save(a);\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n    \tpublic Session getSession(){\r\n    \t\tif (sessionFactory == null){\r\n    \t\t\tAnnotationConfiguration config = new AnnotationConfiguration();\r\n    \t\t\tconfig.addAnnotatedClass(A.class);\r\n    \t\t\tconfig.addAnnotatedClass(B.class);\r\n    \t\t\tconfig.configure();\r\n    \t\t\tnew SchemaExport(config).create(true,true);\r\n    \r\n    \t\t\tsessionFactory = config.buildSessionFactory();\r\n    \t\t}\r\n    \t\tSession session = sessionFactory.getCurrentSession();\r\n    \r\n    \t\treturn session;\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd finally the log output showing the extra selects to get back the associated class\r\n\r\n    2 [main] INFO org.hibernate.cfg.annotations.Version - Hibernate Annotations 3.5.1-Final\r\n    23 [main] INFO org.hibernate.cfg.Environment - Hibernate 3.5.1-Final\r\n    28 [main] INFO org.hibernate.cfg.Environment - hibernate.properties not found\r\n    32 [main] INFO org.hibernate.cfg.Environment - Bytecode provider name : javassist\r\n    37 [main] INFO org.hibernate.cfg.Environment - using JDK 1.4 java.sql.Timestamp handling\r\n    160 [main] INFO org.hibernate.annotations.common.Version - Hibernate Commons Annotations 3.2.0.Final\r\n    176 [main] INFO org.hibernate.cfg.Configuration - configuring from resource: /hibernate.cfg.xml\r\n    176 [main] INFO org.hibernate.cfg.Configuration - Configuration resource: /hibernate.cfg.xml\r\n    313 [main] INFO org.hibernate.cfg.Configuration - Configured SessionFactory: null\r\n    338 [main] INFO org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect\r\n    462 [main] INFO org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.play.hibernate2.Test2\r\n    545 [main] INFO org.hibernate.cfg.annotations.EntityBinder - Bind entity com.play.hibernate2.Test2 on table Test2\r\n    649 [main] INFO org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.play.hibernate2.Test3\r\n    650 [main] INFO org.hibernate.cfg.annotations.EntityBinder - Bind entity com.play.hibernate2.Test3 on table Test3\r\n    651 [main] INFO org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.play.hibernate2.A\r\n    651 [main] INFO org.hibernate.cfg.annotations.EntityBinder - Bind entity com.play.hibernate2.A on table A\r\n    653 [main] INFO org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.play.hibernate2.B\r\n    653 [main] INFO org.hibernate.cfg.annotations.EntityBinder - Bind entity com.play.hibernate2.B on table B\r\n    678 [main] INFO org.hibernate.cfg.AnnotationConfiguration - Hibernate Validator not found: ignoring\r\n    687 [main] INFO org.hibernate.tool.hbm2ddl.SchemaExport - Running hbm2ddl schema export\r\n    688 [main] INFO org.hibernate.tool.hbm2ddl.SchemaExport - exporting generated schema to database\r\n    691 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - Using Hibernate built-in connection pool (not for production use!)\r\n    691 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - Hibernate connection pool size: 1\r\n    698 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - autocommit mode: false\r\n    711 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - using driver: com.mysql.jdbc.Driver at URL: jdbc:mysql://localhost:3306/play\r\n    711 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - connection properties: {user=play, password=****}\r\n    \r\n        alter table A \r\n            drop \r\n            foreign key FK412E010759\r\n    \r\n        alter table Test2 \r\n            drop \r\n            foreign key FK4CF5DC04B7E1B79\r\n    \r\n        drop table if exists A\r\n    \r\n        drop table if exists B\r\n    \r\n        drop table if exists Test2\r\n    \r\n        drop table if exists Test3\r\n    \r\n        create table A (\r\n            id integer not null auto_increment,\r\n            b_id integer,\r\n            primary key (id)\r\n        )\r\n    \r\n        create table B (\r\n            id integer not null auto_increment,\r\n            primary key (id)\r\n        )\r\n    \r\n        create table Test2 (\r\n            id integer not null auto_increment,\r\n            name varchar(255),\r\n            value integer not null,\r\n            test3_id integer,\r\n            primary key (id)\r\n        )\r\n    \r\n        create table Test3 (\r\n            id integer not null auto_increment,\r\n            name varchar(255),\r\n            value integer not null,\r\n            primary key (id)\r\n        )\r\n    \r\n        alter table A \r\n            add index FK412E010759 (b_id), \r\n            add constraint FK412E010759 \r\n            foreign key (b_id) \r\n            references B (id)\r\n    \r\n        alter table Test2 \r\n            add index FK4CF5DC04B7E1B79 (test3_id), \r\n            add constraint FK4CF5DC04B7E1B79 \r\n            foreign key (test3_id) \r\n            references Test3 (id)\r\n    2562 [main] INFO org.hibernate.tool.hbm2ddl.SchemaExport - schema export complete\r\n    2564 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - cleaning up connection pool: jdbc:mysql://localhost:3306/play\r\n    2571 [main] INFO org.hibernate.cfg.search.HibernateSearchEventListenerRegister - Unable to find org.hibernate.search.event.FullTextIndexEventListener on the classpath. Hibernate Search is not enabled.\r\n    2575 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - Using Hibernate built-in connection pool (not for production use!)\r\n    2575 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - Hibernate connection pool size: 1\r\n    2575 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - autocommit mode: false\r\n    2575 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - using driver: com.mysql.jdbc.Driver at URL: jdbc:mysql://localhost:3306/play\r\n    2575 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - connection properties: {user=play, password=****}\r\n    2622 [main] INFO org.hibernate.cfg.SettingsFactory - RDBMS: MySQL, version: 5.1.30\r\n    2622 [main] INFO org.hibernate.cfg.SettingsFactory - JDBC driver: MySQL-AB JDBC Driver, version: mysql-connector-java-5.1.9 ( Revision: ${svn.Revision} )\r\n    2633 [main] INFO org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect\r\n    2635 [main] INFO org.hibernate.engine.jdbc.JdbcSupportLoader - Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4\r\n    2636 [main] INFO org.hibernate.transaction.TransactionFactoryFactory - Using default transaction strategy (direct JDBC transactions)\r\n    2638 [main] INFO org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)\r\n    2638 [main] INFO org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled\r\n    2638 [main] INFO org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled\r\n    2638 [main] INFO org.hibernate.cfg.SettingsFactory - JDBC batch size: 15\r\n    2638 [main] INFO org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled\r\n    2638 [main] INFO org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled\r\n    2638 [main] INFO org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled\r\n    2638 [main] INFO org.hibernate.cfg.SettingsFactory - Connection release mode: auto\r\n    2639 [main] INFO org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 2\r\n    2639 [main] INFO org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1\r\n    2639 [main] INFO org.hibernate.cfg.SettingsFactory - Generate SQL with comments: enabled\r\n    2639 [main] INFO org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled\r\n    2639 [main] INFO org.hibernate.cfg.SettingsFactory - Order SQL inserts for batching: disabled\r\n    2639 [main] INFO org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory\r\n    2641 [main] INFO org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory\r\n    2641 [main] INFO org.hibernate.cfg.SettingsFactory - Query language substitutions: {}\r\n    2641 [main] INFO org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: disabled\r\n    2641 [main] INFO org.hibernate.cfg.SettingsFactory - Second-level cache: enabled\r\n    2641 [main] INFO org.hibernate.cfg.SettingsFactory - Query cache: disabled\r\n    2644 [main] INFO org.hibernate.cfg.SettingsFactory - Cache region factory : org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge\r\n    2644 [main] INFO org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge - Cache provider: org.hibernate.cache.NoCacheProvider\r\n    2644 [main] INFO org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: disabled\r\n    2644 [main] INFO org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: disabled\r\n    2648 [main] INFO org.hibernate.cfg.SettingsFactory - Echoing all SQL to stdout\r\n    2648 [main] INFO org.hibernate.cfg.SettingsFactory - Statistics: enabled\r\n    2649 [main] INFO org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled\r\n    2649 [main] INFO org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo\r\n    2649 [main] INFO org.hibernate.cfg.SettingsFactory - Named query checking : enabled\r\n    2649 [main] INFO org.hibernate.cfg.SettingsFactory - Check Nullability in Core (should be disabled when Bean Validation is on): enabled\r\n    2697 [main] INFO org.hibernate.impl.SessionFactoryImpl - building session factory\r\n    2796 [Finalizer] INFO org.hibernate.connection.DriverManagerConnectionProvider - cleaning up connection pool: jdbc:mysql://localhost:3306/play\r\n    2929 [main] INFO org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured\r\n    Hibernate: \r\n        /* insert com.play.hibernate2.B\r\n            */ insert \r\n            into\r\n                B\r\n                \r\n            values\r\n                ( )\r\n    Hibernate: \r\n        /* insert com.play.hibernate2.A\r\n            */ insert \r\n            into\r\n                A\r\n                (b_id) \r\n            values\r\n                (?)\r\n    Hibernate: \r\n        /* insert com.play.hibernate2.B\r\n            */ insert \r\n            into\r\n                B\r\n                \r\n            values\r\n                ( )\r\n    Hibernate: \r\n        /* insert com.play.hibernate2.A\r\n            */ insert \r\n            into\r\n                A\r\n                (b_id) \r\n            values\r\n                (?)\r\n    NOW WITH A NEW TRANSACTION\r\n    Hibernate: \r\n        /* \r\n    from\r\n        A */ select\r\n            a0_.id as id2_,\r\n            a0_.b_id as b2_2_ \r\n        from\r\n            A a0_\r\n    Hibernate: \r\n        /* load com.play.hibernate2.B */ select\r\n            b0_.id as id3_0_ \r\n        from\r\n            B b0_ \r\n        where\r\n            b0_.id=?\r\n    Hibernate: \r\n        /* load com.play.hibernate2.B */ select\r\n            b0_.id as id3_0_ \r\n        from\r\n            B b0_ \r\n        where\r\n            b0_.id=?\r\n    Row 0 was:\r\n    Result 0\r\n    com.play.hibernate2.A@351daa0e\r\n    Row 1 was:\r\n    Result 1\r\n    com.play.hibernate2.A@2e879860\r\n\r\n\r\n\r\nEdit Number 3:\r\n\r\nIf I do things Ross&#39; way, with a load, a left outer join gets created. If I do it with a list, separate selects are issued. Here&#39;s the relevant code. Only changing this reproduces the difference in behavior:\r\n\r\n\t\t/* generates the left outer join\r\n\t\tA a = (A)session.load(A.class,1);\r\n\t\tSystem.out.println(a.getId()+&quot; = &quot;+a.getB().getName());\r\n\t\t*/\r\n\t\t\r\n\t\t// Creates separate selects for each object b associated with each a\r\n\t\tQuery query = session.createQuery(&quot;from A&quot;);\r\n\t\tList results = query.list();\r\n\t\tA a = (A)results.get(0);\r\n\t\tSystem.out.println(a.getId()+&quot; = &quot;+a.getB().getName());\r\n\r\nI guess it might be called a &#39;bug&#39;. As I mentioned earlier, in the docs, they say it&#39;s &#39;usual&#39; to specify the fetch mode in the HQL rather than in the mapping, which I&#39;m thinking might mean that the HQL way has had more foot traffic to bed it down..?\r\n\r\n(by the way I added an extra &#39;name&#39; field to A and B otherwise hibernate optimizes the retrieve because it can get all of B just from the foreign key on A)\r\n\r\n\r\n","title":"Using @Fetch(FetchMode.Join) in Hibernate","body":"<p>I have two classes, Test2 and Test3. Test2 has an attribute test3 that is an instance of Test3. In other words, I have a unidirectional OneToOne association, with test2 having a reference to test3.</p>\n\n<p>When I select Test2 from the db, I can see that a separate select is being made to get the details of the associated test3 class. This is the famous 1+N selects problem.</p>\n\n<p>To fix this to use a single select, I am trying to use the fetch=join annotation, which I understand to be @Fetch(FetchMode.JOIN)</p>\n\n<p>However, with fetch set to join, I still see separate selects. Here are the relevant portions of my setup..</p>\n\n<p>hibernate.cfg.xml:</p>\n\n<pre><code>&lt;property name=\"max_fetch_depth\"&gt;2&lt;/property&gt;\n</code></pre>\n\n<p>Test2:</p>\n\n<pre><code>public class Test2 {\n @OneToOne (cascade=CascadeType.ALL , fetch=FetchType.EAGER)\n @JoinColumn (name=\"test3_id\")\n @Fetch(FetchMode.JOIN)\n public Test3 getTest3() {\n  return test3;\n}\n</code></pre>\n\n<p>NB I set the FetchType to EAGER out of desperation, even though it defaults to EAGER anyway for OneToOne mappings, but it made no difference.</p>\n\n<p>Thanks for any help!</p>\n\n<p>Edit: I've pretty much given up on trying to use FetchMode.JOIN - can anyone confirm that they have got it to work ie produce a left outer join?\nIn the docs I see that \"Usually, the mapping document is not used to customize fetching. Instead, we keep the default behavior, and override it for a particular transaction, using left join fetch in HQL\"</p>\n\n<p>If I do a left join fetch instead:</p>\n\n<p>query = session.createQuery(\"from Test2 t2 left join fetch t2.test3\");</p>\n\n<p>then I do indeed get the results I want - ie a left outer join in the query.</p>\n\n<p>Edit number 2:</p>\n\n<p>Guys, thank you so much for your responses. Now I want to get to the bottom of this. I usually find that when I investigate something, I end up learning a lot more than I thought I would.</p>\n\n<p>One thing I've learned already - I was running on old builds of hibernate because I didn't realize that the maven repository was out of date. Now I'm hooked up to the jboss repository too, and I have the latest versions of hibernate and hibernate annotations - 3.5.1-Final in both cases.</p>\n\n<p>I've set up a small test case that simplifies it as much as I can - I'm still seeing the problem in 3.5.1-Final, tho' I'm 99% certain it's just something stupid I'm not setting up right, especially Ross, given that you got it to work (thanks for taking the time to try it by the way)</p>\n\n<p>So I have these classes (full text this time)</p>\n\n<p>Class A</p>\n\n<pre><code>package com.play.hibernate2;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.OneToOne;\n\nimport org.hibernate.annotations.Fetch;\nimport org.hibernate.annotations.FetchMode;\n\n@Entity\npublic class A {\n\n    private Integer id;\n    private B b;\n\n    public A() {\n        super();\n    }\n\n    @Id\n    @GeneratedValue\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    @OneToOne (cascade=CascadeType.ALL)\n    @Fetch(FetchMode.JOIN)\n    public B getB() {\n        return b;\n    }\n\n    public void setB(B b) {\n        this.b = b;\n    }\n}\n</code></pre>\n\n<p>Class B</p>\n\n<pre><code>package com.play.hibernate2;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\n@Entity\npublic class B {\n\n    private Integer id;\n\n    public B() {\n        super();\n    }\n\n    @Id\n    @GeneratedValue\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }   \n}\n</code></pre>\n\n<p>My whole hibernate.cfg.xml</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n        \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n\n&lt;hibernate-configuration&gt;\n\n    &lt;session-factory&gt;\n\n        &lt;!-- Database connection settings --&gt;\n        &lt;property name=\"connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;!-- &lt;property name=\"connection.driver_class\"&gt;com.p6spy.engine.spy.P6SpyDriver&lt;/property&gt; --&gt;\n        &lt;property name=\"connection.url\"&gt;jdbc:mysql://localhost:3306/play&lt;/property&gt;\n        &lt;property name=\"connection.username\"&gt;play&lt;/property&gt;\n        &lt;property name=\"connection.password\"&gt;play&lt;/property&gt;\n\n        &lt;!-- JDBC connection pool (use the built-in) --&gt;\n        &lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n\n        &lt;!-- SQL dialect --&gt;\n        &lt;property name=\"dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n\n        &lt;!-- Enable Hibernate's automatic session context management --&gt;\n        &lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt;\n\n        &lt;!-- Disable the second-level cache  --&gt;\n        &lt;property name=\"cache.provider_class\"&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\n\n        &lt;!-- Echo all executed SQL to stdout --&gt;\n        &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n        &lt;property name=\"generate_statistics\"&gt;true&lt;/property&gt;\n        &lt;!--\n        &lt;property name=\"cache.use_structured_entries\"&gt;true&lt;/property&gt;\n        &lt;property name=\"cache.use_query_cache\"&gt;true&lt;/property&gt;\n        --&gt;\n        &lt;property name=\"format_sql\"&gt;true&lt;/property&gt;\n        &lt;property name=\"use_sql_comments\"&gt;true&lt;/property&gt;\n\n        &lt;!-- I think this may fix my individual requests for OneToOne problem --&gt;\n        &lt;property name=\"max_fetch_depth\"&gt;2&lt;/property&gt;\n        &lt;!-- &lt;property name=\"default_batch_fetch_size\"&gt;10&lt;/property&gt; --&gt;\n\n    &lt;/session-factory&gt;    \n\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>The testing class</p>\n\n<pre><code>package com.play.hibernate2;\n\nimport java.util.List;\nimport java.util.Map;\n\n\nimport org.hibernate.FlushMode;\nimport org.hibernate.Query;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.AnnotationConfiguration;\nimport org.hibernate.tool.hbm2ddl.SchemaExport;\n\npublic class RunTests4 {\n    private SessionFactory sessionFactory;\n\n    public static void main(String[] args){\n        RunTests4 d = new RunTests4();\n        d.run3();\n    }\n    public void run3(){\n\n        Session session = getSession();\n        session.beginTransaction();\n\n        createEntities(session);\n\n        session.getTransaction().commit();\n\n        System.out.println(\"NOW WITH A NEW TRANSACTION\");\n        session = getSession();\n        session.beginTransaction();\n\n        Query query = session.createQuery(\"from A\");\n        List results = query.list();\n        for (int i=0; i&lt;results.size(); i++){\n            System.out.println(\"Row \"+i+\" was:\");\n            A a = (A)results.get(i);\n            System.out.println(\"Result \"+i);\n            System.out.println(a.toString());\n        }\n\n        session.getTransaction().commit();\n\n\n    }\n    public void createEntities(Session session){\n        for (int i=0; i&lt;2; i++){\n            A a = new A();\n\n            B b = new B();\n\n            a.setB(b);\n\n            session.save(a);\n\n        }\n\n    }\n    public Session getSession(){\n        if (sessionFactory == null){\n            AnnotationConfiguration config = new AnnotationConfiguration();\n            config.addAnnotatedClass(A.class);\n            config.addAnnotatedClass(B.class);\n            config.configure();\n            new SchemaExport(config).create(true,true);\n\n            sessionFactory = config.buildSessionFactory();\n        }\n        Session session = sessionFactory.getCurrentSession();\n\n        return session;\n    }\n\n}\n</code></pre>\n\n<p>And finally the log output showing the extra selects to get back the associated class</p>\n\n<pre><code>2 [main] INFO org.hibernate.cfg.annotations.Version - Hibernate Annotations 3.5.1-Final\n23 [main] INFO org.hibernate.cfg.Environment - Hibernate 3.5.1-Final\n28 [main] INFO org.hibernate.cfg.Environment - hibernate.properties not found\n32 [main] INFO org.hibernate.cfg.Environment - Bytecode provider name : javassist\n37 [main] INFO org.hibernate.cfg.Environment - using JDK 1.4 java.sql.Timestamp handling\n160 [main] INFO org.hibernate.annotations.common.Version - Hibernate Commons Annotations 3.2.0.Final\n176 [main] INFO org.hibernate.cfg.Configuration - configuring from resource: /hibernate.cfg.xml\n176 [main] INFO org.hibernate.cfg.Configuration - Configuration resource: /hibernate.cfg.xml\n313 [main] INFO org.hibernate.cfg.Configuration - Configured SessionFactory: null\n338 [main] INFO org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect\n462 [main] INFO org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.play.hibernate2.Test2\n545 [main] INFO org.hibernate.cfg.annotations.EntityBinder - Bind entity com.play.hibernate2.Test2 on table Test2\n649 [main] INFO org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.play.hibernate2.Test3\n650 [main] INFO org.hibernate.cfg.annotations.EntityBinder - Bind entity com.play.hibernate2.Test3 on table Test3\n651 [main] INFO org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.play.hibernate2.A\n651 [main] INFO org.hibernate.cfg.annotations.EntityBinder - Bind entity com.play.hibernate2.A on table A\n653 [main] INFO org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.play.hibernate2.B\n653 [main] INFO org.hibernate.cfg.annotations.EntityBinder - Bind entity com.play.hibernate2.B on table B\n678 [main] INFO org.hibernate.cfg.AnnotationConfiguration - Hibernate Validator not found: ignoring\n687 [main] INFO org.hibernate.tool.hbm2ddl.SchemaExport - Running hbm2ddl schema export\n688 [main] INFO org.hibernate.tool.hbm2ddl.SchemaExport - exporting generated schema to database\n691 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - Using Hibernate built-in connection pool (not for production use!)\n691 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - Hibernate connection pool size: 1\n698 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - autocommit mode: false\n711 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - using driver: com.mysql.jdbc.Driver at URL: jdbc:mysql://localhost:3306/play\n711 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - connection properties: {user=play, password=****}\n\n    alter table A \n        drop \n        foreign key FK412E010759\n\n    alter table Test2 \n        drop \n        foreign key FK4CF5DC04B7E1B79\n\n    drop table if exists A\n\n    drop table if exists B\n\n    drop table if exists Test2\n\n    drop table if exists Test3\n\n    create table A (\n        id integer not null auto_increment,\n        b_id integer,\n        primary key (id)\n    )\n\n    create table B (\n        id integer not null auto_increment,\n        primary key (id)\n    )\n\n    create table Test2 (\n        id integer not null auto_increment,\n        name varchar(255),\n        value integer not null,\n        test3_id integer,\n        primary key (id)\n    )\n\n    create table Test3 (\n        id integer not null auto_increment,\n        name varchar(255),\n        value integer not null,\n        primary key (id)\n    )\n\n    alter table A \n        add index FK412E010759 (b_id), \n        add constraint FK412E010759 \n        foreign key (b_id) \n        references B (id)\n\n    alter table Test2 \n        add index FK4CF5DC04B7E1B79 (test3_id), \n        add constraint FK4CF5DC04B7E1B79 \n        foreign key (test3_id) \n        references Test3 (id)\n2562 [main] INFO org.hibernate.tool.hbm2ddl.SchemaExport - schema export complete\n2564 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - cleaning up connection pool: jdbc:mysql://localhost:3306/play\n2571 [main] INFO org.hibernate.cfg.search.HibernateSearchEventListenerRegister - Unable to find org.hibernate.search.event.FullTextIndexEventListener on the classpath. Hibernate Search is not enabled.\n2575 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - Using Hibernate built-in connection pool (not for production use!)\n2575 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - Hibernate connection pool size: 1\n2575 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - autocommit mode: false\n2575 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - using driver: com.mysql.jdbc.Driver at URL: jdbc:mysql://localhost:3306/play\n2575 [main] INFO org.hibernate.connection.DriverManagerConnectionProvider - connection properties: {user=play, password=****}\n2622 [main] INFO org.hibernate.cfg.SettingsFactory - RDBMS: MySQL, version: 5.1.30\n2622 [main] INFO org.hibernate.cfg.SettingsFactory - JDBC driver: MySQL-AB JDBC Driver, version: mysql-connector-java-5.1.9 ( Revision: ${svn.Revision} )\n2633 [main] INFO org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect\n2635 [main] INFO org.hibernate.engine.jdbc.JdbcSupportLoader - Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4\n2636 [main] INFO org.hibernate.transaction.TransactionFactoryFactory - Using default transaction strategy (direct JDBC transactions)\n2638 [main] INFO org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)\n2638 [main] INFO org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled\n2638 [main] INFO org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled\n2638 [main] INFO org.hibernate.cfg.SettingsFactory - JDBC batch size: 15\n2638 [main] INFO org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled\n2638 [main] INFO org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled\n2638 [main] INFO org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled\n2638 [main] INFO org.hibernate.cfg.SettingsFactory - Connection release mode: auto\n2639 [main] INFO org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 2\n2639 [main] INFO org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1\n2639 [main] INFO org.hibernate.cfg.SettingsFactory - Generate SQL with comments: enabled\n2639 [main] INFO org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled\n2639 [main] INFO org.hibernate.cfg.SettingsFactory - Order SQL inserts for batching: disabled\n2639 [main] INFO org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory\n2641 [main] INFO org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory\n2641 [main] INFO org.hibernate.cfg.SettingsFactory - Query language substitutions: {}\n2641 [main] INFO org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: disabled\n2641 [main] INFO org.hibernate.cfg.SettingsFactory - Second-level cache: enabled\n2641 [main] INFO org.hibernate.cfg.SettingsFactory - Query cache: disabled\n2644 [main] INFO org.hibernate.cfg.SettingsFactory - Cache region factory : org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge\n2644 [main] INFO org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge - Cache provider: org.hibernate.cache.NoCacheProvider\n2644 [main] INFO org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: disabled\n2644 [main] INFO org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: disabled\n2648 [main] INFO org.hibernate.cfg.SettingsFactory - Echoing all SQL to stdout\n2648 [main] INFO org.hibernate.cfg.SettingsFactory - Statistics: enabled\n2649 [main] INFO org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled\n2649 [main] INFO org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo\n2649 [main] INFO org.hibernate.cfg.SettingsFactory - Named query checking : enabled\n2649 [main] INFO org.hibernate.cfg.SettingsFactory - Check Nullability in Core (should be disabled when Bean Validation is on): enabled\n2697 [main] INFO org.hibernate.impl.SessionFactoryImpl - building session factory\n2796 [Finalizer] INFO org.hibernate.connection.DriverManagerConnectionProvider - cleaning up connection pool: jdbc:mysql://localhost:3306/play\n2929 [main] INFO org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured\nHibernate: \n    /* insert com.play.hibernate2.B\n        */ insert \n        into\n            B\n\n        values\n            ( )\nHibernate: \n    /* insert com.play.hibernate2.A\n        */ insert \n        into\n            A\n            (b_id) \n        values\n            (?)\nHibernate: \n    /* insert com.play.hibernate2.B\n        */ insert \n        into\n            B\n\n        values\n            ( )\nHibernate: \n    /* insert com.play.hibernate2.A\n        */ insert \n        into\n            A\n            (b_id) \n        values\n            (?)\nNOW WITH A NEW TRANSACTION\nHibernate: \n    /* \nfrom\n    A */ select\n        a0_.id as id2_,\n        a0_.b_id as b2_2_ \n    from\n        A a0_\nHibernate: \n    /* load com.play.hibernate2.B */ select\n        b0_.id as id3_0_ \n    from\n        B b0_ \n    where\n        b0_.id=?\nHibernate: \n    /* load com.play.hibernate2.B */ select\n        b0_.id as id3_0_ \n    from\n        B b0_ \n    where\n        b0_.id=?\nRow 0 was:\nResult 0\ncom.play.hibernate2.A@351daa0e\nRow 1 was:\nResult 1\ncom.play.hibernate2.A@2e879860\n</code></pre>\n\n<p>Edit Number 3:</p>\n\n<p>If I do things Ross' way, with a load, a left outer join gets created. If I do it with a list, separate selects are issued. Here's the relevant code. Only changing this reproduces the difference in behavior:</p>\n\n<pre><code>    /* generates the left outer join\n    A a = (A)session.load(A.class,1);\n    System.out.println(a.getId()+\" = \"+a.getB().getName());\n    */\n\n    // Creates separate selects for each object b associated with each a\n    Query query = session.createQuery(\"from A\");\n    List results = query.list();\n    A a = (A)results.get(0);\n    System.out.println(a.getId()+\" = \"+a.getB().getName());\n</code></pre>\n\n<p>I guess it might be called a 'bug'. As I mentioned earlier, in the docs, they say it's 'usual' to specify the fetch mode in the HQL rather than in the mapping, which I'm thinking might mean that the HQL way has had more foot traffic to bed it down..?</p>\n\n<p>(by the way I added an extra 'name' field to A and B otherwise hibernate optimizes the retrieve because it can get all of B just from the foreign key on A)</p>\n"},{"tags":["java","rabbitmq","spring-amqp"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650461902,"creation_date":1650461902,"answer_id":71940723,"question_id":71932885,"body_markdown":"&gt;Does this imply that spring-amqp uses queueDeclarePassive behind the scenes? \r\n\r\nIt doesn&#39;t **imply** it, it explicitly states it.\r\n\r\n`queueDeclarePassive` is used by the listener containers during startup to verify the configured queue(s) are present.\r\n\r\nBy default, the `SimpleMessageListenerContainer` will try 3 times at 5 second intervals, and if the passive declarations fail, the container will stop. The number of attempts and interval can be configured.\r\n\r\nThe `DirectMessageListenerContainer` will try indefinitely to passively declare the queue(s) if they don&#39;t exist, using its `monitorInterval` property.\r\n\r\nSpring AMQP will only perform non-passive queue declaration (queue creation) if the application context contains `Queue` `@Bean`s and there is a `RabbitAdmin` `@Bean` present.\r\n\r\n\r\n\r\n","title":"spring-amqp implementation of RabbitMq - does it internally use queueDeclarePassive?","body":"<blockquote>\n<p>Does this imply that spring-amqp uses queueDeclarePassive behind the scenes?</p>\n</blockquote>\n<p>It doesn't <strong>imply</strong> it, it explicitly states it.</p>\n<p><code>queueDeclarePassive</code> is used by the listener containers during startup to verify the configured queue(s) are present.</p>\n<p>By default, the <code>SimpleMessageListenerContainer</code> will try 3 times at 5 second intervals, and if the passive declarations fail, the container will stop. The number of attempts and interval can be configured.</p>\n<p>The <code>DirectMessageListenerContainer</code> will try indefinitely to passively declare the queue(s) if they don't exist, using its <code>monitorInterval</code> property.</p>\n<p>Spring AMQP will only perform non-passive queue declaration (queue creation) if the application context contains <code>Queue</code> <code>@Bean</code>s and there is a <code>RabbitAdmin</code> <code>@Bean</code> present.</p>\n"}],"owner":{"account_id":5730650,"reputation":135,"user_id":7803146,"display_name":"firstblud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71940723,"answer_count":1,"score":1,"last_activity_date":1650461902,"creation_date":1650415528,"question_id":71932885,"body_markdown":"We are migrating from existing classic queues to quorum queues and one of the requirements is that we must declare queue usage as &quot;passive&quot; (i.e. queueDeclarePassive). The intent is to ensure we do not create any queues dynamically and only check for its existence (and fail if it doesn&#39;t exist) and then connect.\r\n\r\nWe have a legacy service that uses spring-amqp and we set the SimpleMessageListenerContainer like so:\r\n\r\n    SimpleMessageListenerContainer container(ConnectionFactory connectionFactory, MessageListenerAdapter listenerAdapter) {\r\n        SimpleMessageListenerContainer container = new SimpleMessageListenerContainer();\r\n        container.setConnectionFactory(connectionFactory);\r\n        container.setQueueNames(queue().getName());\r\n\r\n...\r\n\r\n    public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory) {\r\n        RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\r\n        rabbitTemplate.getConnectionFactory().createConnection().createChannel(false);\r\n        return rabbitTemplate;\r\n    }\r\n\r\nI don&#39;t see a way to declare the queue as &quot;passive&quot;. In reading the spring.io documentation, I see a description for declarationRetries: \r\n\r\n&quot;The number of retry attempts when passive queue declaration fails. Passive queue declaration occurs when the consumer starts or, when consuming from multiple queues, when not all queues were available during initialization.&quot;\r\n\r\nDoes this imply that spring-amqp uses queueDeclarePassive behind the scenes? Is this explicitly documented anywhere? If I&#39;m incorrect, how do I properly ensure queueDeclarePassive is used within this amqp usage?\r\n\r\nThanks in advance!","title":"spring-amqp implementation of RabbitMq - does it internally use queueDeclarePassive?","body":"<p>We are migrating from existing classic queues to quorum queues and one of the requirements is that we must declare queue usage as &quot;passive&quot; (i.e. queueDeclarePassive). The intent is to ensure we do not create any queues dynamically and only check for its existence (and fail if it doesn't exist) and then connect.</p>\n<p>We have a legacy service that uses spring-amqp and we set the SimpleMessageListenerContainer like so:</p>\n<pre><code>SimpleMessageListenerContainer container(ConnectionFactory connectionFactory, MessageListenerAdapter listenerAdapter) {\n    SimpleMessageListenerContainer container = new SimpleMessageListenerContainer();\n    container.setConnectionFactory(connectionFactory);\n    container.setQueueNames(queue().getName());\n</code></pre>\n<p>...</p>\n<pre><code>public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory) {\n    RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\n    rabbitTemplate.getConnectionFactory().createConnection().createChannel(false);\n    return rabbitTemplate;\n}\n</code></pre>\n<p>I don't see a way to declare the queue as &quot;passive&quot;. In reading the spring.io documentation, I see a description for declarationRetries:</p>\n<p>&quot;The number of retry attempts when passive queue declaration fails. Passive queue declaration occurs when the consumer starts or, when consuming from multiple queues, when not all queues were available during initialization.&quot;</p>\n<p>Does this imply that spring-amqp uses queueDeclarePassive behind the scenes? Is this explicitly documented anywhere? If I'm incorrect, how do I properly ensure queueDeclarePassive is used within this amqp usage?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","for-loop","junit","return","concurrentmodificationexception"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1650462242,"post_id":71940383,"comment_id":127122101,"body_markdown":"Unrelated: make sure your NAMES are meaningful. To call a Map a &quot;list&quot; is super confusing. Why not `pointsByTicket` or something like that.","body":"Unrelated: make sure your NAMES are meaningful. To call a Map a &quot;list&quot; is super confusing. Why not <code>pointsByTicket</code> or something like that."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1650462370,"post_id":71940383,"comment_id":127122169,"body_markdown":"Note that this has NOTHING to do with JUnit. It is great that you add the test code you are using, but there is no point in tagging with JUnit, because the kind of testing framework you are using doesn&#39;t contribute at all to the problem in your production code.","body":"Note that this has NOTHING to do with JUnit. It is great that you add the test code you are using, but there is no point in tagging with JUnit, because the kind of testing framework you are using doesn&#39;t contribute at all to the problem in your production code."}],"answers":[{"tags":[],"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650461545,"creation_date":1650461545,"answer_id":71940627,"question_id":71940383,"body_markdown":"The `ConcurrentModificationException` happens, because you remove an item from the `HashMap`, while still iterating over it. If you leave the `return` in, then you don&#39;t iterate the key set while modifying it. \r\n\r\nIf you want to go that route, remove the items after you are done iterating. \r\n\r\n\tpublic int remove(Collection&lt;Ticket&gt; c) {\r\n\t\tint points = 0;\r\n\t\tfor (Ticket i : list.keySet()) {\r\n\t\t\tif (c.contains(i)) {\r\n\t\t\t\tpoints += list.get(i);\r\n                // return points;\r\n\t\t\t}\r\n\t\t}\r\n\t\tlist.keySet().removeAll(c);\r\n\t\treturn points;\r\n\t}","title":"Junit Testing issue with for loop and return statement","body":"<p>The <code>ConcurrentModificationException</code> happens, because you remove an item from the <code>HashMap</code>, while still iterating over it. If you leave the <code>return</code> in, then you don't iterate the key set while modifying it.</p>\n<p>If you want to go that route, remove the items after you are done iterating.</p>\n<pre><code>public int remove(Collection&lt;Ticket&gt; c) {\n    int points = 0;\n    for (Ticket i : list.keySet()) {\n        if (c.contains(i)) {\n            points += list.get(i);\n            // return points;\n        }\n    }\n    list.keySet().removeAll(c);\n    return points;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3986586,"reputation":95,"user_id":3286972,"display_name":"Michał &#39;PuszekSE&#39;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650461875,"creation_date":1650461875,"answer_id":71940712,"question_id":71940383,"body_markdown":"In Java you cannot operate on collection using this statement format inside for loop. \r\n`for (Ticket i : list.keySet())` - internally it&#39;s using Iterator from the collection and modifying it during the Iteration breaks the order, thus the exception.\r\n\r\nThere are two approaches you can use:\r\n\r\nFirst one would be just adding points first and then doing `list.removeAll(Collection&lt;?&gt;...)`.\r\n\r\nSecond one can be done using older for statement with indexes after transforming the keySet into an actual list like `new ArrayList&lt;&gt;(list.keySet())`\r\n\r\n\r\nLoop below uses reversed order to not affect indexing by removing entries within the loop. (Removing index j affects only elements that are at positions greater than j).\r\n```\r\nfor (int i=keyList.length-1; i&gt;=0;i--){\r\n   Ticket t = keyList[i];\r\n   if(c.contains(t)){\r\n      points+=list.remove(t)\r\n   }\r\n}\r\n```\r\n\r\n","title":"Junit Testing issue with for loop and return statement","body":"<p>In Java you cannot operate on collection using this statement format inside for loop.\n<code>for (Ticket i : list.keySet())</code> - internally it's using Iterator from the collection and modifying it during the Iteration breaks the order, thus the exception.</p>\n<p>There are two approaches you can use:</p>\n<p>First one would be just adding points first and then doing <code>list.removeAll(Collection&lt;?&gt;...)</code>.</p>\n<p>Second one can be done using older for statement with indexes after transforming the keySet into an actual list like <code>new ArrayList&lt;&gt;(list.keySet())</code></p>\n<p>Loop below uses reversed order to not affect indexing by removing entries within the loop. (Removing index j affects only elements that are at positions greater than j).</p>\n<pre><code>for (int i=keyList.length-1; i&gt;=0;i--){\n   Ticket t = keyList[i];\n   if(c.contains(t)){\n      points+=list.remove(t)\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":19696468,"reputation":5,"user_id":14420272,"display_name":"Elli98"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650462320,"accepted_answer_id":71940627,"answer_count":2,"score":0,"last_activity_date":1650461875,"creation_date":1650460589,"question_id":71940383,"body_markdown":"I&#39;m kind of confused with a for-loop &amp; return statements. I hope someone could explain me what&#39;s going on. \r\n\r\n    \tprivate Map&lt;Ticket, Integer&gt; list;\r\n\t\r\n\tpublic RessourceBasedAccessControl32603() {\r\n\t\tsuper();\r\n\t\tlist = new HashMap&lt;&gt;();\r\n\t}\r\n\r\nI have to write a working method out of this junit test:\r\n\r\n    @Test\r\n\tvoid testRemoveCollection2() {\r\n\t\taccessControl.add(t1, 10);\r\n\t\taccessControl.add(t2, 20);\r\n\t\taccessControl.add(t3, 30);\r\n\t\tSet&lt;Ticket&gt; s = new HashSet&lt;&gt;();\r\n\t\ts.add(t1);\r\n\t\ts.add(t3);\r\n\t\tint actual = accessControl.remove(s);\r\n\t\tassertEquals(40, actual);\r\n\t}\r\n\r\nIf I write this code I get the expected 40 as a result. \r\n\r\n\r\n    \t@Override\r\n\tpublic int remove(Collection&lt;Ticket&gt; c) { \r\n\t\tint points = 0;\r\n\t\tfor (Ticket i : c) {\r\n\t\t\tif (list.containsKey(i)) {\r\n\t\t\t\tpoints += list.remove(i);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn points;\r\n\t}\r\n\r\nIf I write this code I get 30 instead of 40. I&#39;m just getting the number of the last add (t3) instead of t1 + t3). I&#39;m pretty sure it&#39;s not summing up because of the first return but if I delete the first return I get a &quot;java.util.ConcurrentModificationException&quot;. Why can&#39;t I just use one return as in the example above? What&#39;s the difference? Is there still a way to get the method to sum up all tickets t in the HashSet s? \r\n\r\n    \t@Override\r\n\tpublic int remove(Collection&lt;Ticket&gt; c) {\r\n\t\tint points = 0;\r\n\t\tfor (Ticket i : list.keySet()) {\r\n\t\t\tif (c.contains(i)) {\r\n\t\t\t\tpoints += list.remove(i);\r\n\t\t\t\treturn points;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn points;\r\n\t}\r\n\r\n\r\nThanks a lot in advance! ","title":"Junit Testing issue with for loop and return statement","body":"<p>I'm kind of confused with a for-loop &amp; return statements. I hope someone could explain me what's going on.</p>\n<pre><code>    private Map&lt;Ticket, Integer&gt; list;\n\npublic RessourceBasedAccessControl32603() {\n    super();\n    list = new HashMap&lt;&gt;();\n}\n</code></pre>\n<p>I have to write a working method out of this junit test:</p>\n<pre><code>@Test\nvoid testRemoveCollection2() {\n    accessControl.add(t1, 10);\n    accessControl.add(t2, 20);\n    accessControl.add(t3, 30);\n    Set&lt;Ticket&gt; s = new HashSet&lt;&gt;();\n    s.add(t1);\n    s.add(t3);\n    int actual = accessControl.remove(s);\n    assertEquals(40, actual);\n}\n</code></pre>\n<p>If I write this code I get the expected 40 as a result.</p>\n<pre><code>    @Override\npublic int remove(Collection&lt;Ticket&gt; c) { \n    int points = 0;\n    for (Ticket i : c) {\n        if (list.containsKey(i)) {\n            points += list.remove(i);\n        }\n    }\n    return points;\n}\n</code></pre>\n<p>If I write this code I get 30 instead of 40. I'm just getting the number of the last add (t3) instead of t1 + t3). I'm pretty sure it's not summing up because of the first return but if I delete the first return I get a &quot;java.util.ConcurrentModificationException&quot;. Why can't I just use one return as in the example above? What's the difference? Is there still a way to get the method to sum up all tickets t in the HashSet s?</p>\n<pre><code>    @Override\npublic int remove(Collection&lt;Ticket&gt; c) {\n    int points = 0;\n    for (Ticket i : list.keySet()) {\n        if (c.contains(i)) {\n            points += list.remove(i);\n            return points;\n        }\n    }\n    return points;\n}\n</code></pre>\n<p>Thanks a lot in advance!</p>\n"},{"tags":["java","android","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650440590,"creation_date":1650440590,"answer_id":71935882,"question_id":71931882,"body_markdown":"Under what condition you want it to be hidden, you can add it under that condition.      \r\n\r\n      menu.visibility = View.INVISIBLE\r\n\r\nor \r\n\r\n       menu.visibility = View.GONE\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to hide MenuItem in the toolbar in certain situations?","body":"<p>Under what condition you want it to be hidden, you can add it under that condition.</p>\n<pre><code>  menu.visibility = View.INVISIBLE\n</code></pre>\n<p>or</p>\n<pre><code>   menu.visibility = View.GONE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650461556,"creation_date":1650461556,"answer_id":71940631,"question_id":71931882,"body_markdown":"Here&#39;s the [docs][1] about it, but you basically want to do your menu setup in ``onPrepareOptionsMenu`` instead of ``onCreateOptionsMenu``. ``onPrepareOptionsMenu`` gets called every time the menu needs to be displayed (instead of once, during setup).\r\n\r\nSo you can set a boolean or whatever to say whether the item should be shown, and call ``invalidateOptionsMenu()`` to redisplay it. In ``prepareOptionsMenu()`` you have access to the menu itself, so you can check that boolean and set the visibility on the appropriate item\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/ui/menus#ChangingTheMenu","title":"How to hide MenuItem in the toolbar in certain situations?","body":"<p>Here's the <a href=\"https://developer.android.com/guide/topics/ui/menus#ChangingTheMenu\" rel=\"nofollow noreferrer\">docs</a> about it, but you basically want to do your menu setup in <code>onPrepareOptionsMenu</code> instead of <code>onCreateOptionsMenu</code>. <code>onPrepareOptionsMenu</code> gets called every time the menu needs to be displayed (instead of once, during setup).</p>\n<p>So you can set a boolean or whatever to say whether the item should be shown, and call <code>invalidateOptionsMenu()</code> to redisplay it. In <code>prepareOptionsMenu()</code> you have access to the menu itself, so you can check that boolean and set the visibility on the appropriate item</p>\n"}],"owner":{"account_id":24902121,"reputation":51,"user_id":18772676,"display_name":"ldPr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71940631,"answer_count":2,"score":0,"last_activity_date":1650461556,"creation_date":1650406033,"question_id":71931882,"body_markdown":"I have a form screen that is also an information screen, but in different states. When the user enters to create I want to hide the MenuItem that assigns to delete.\r\nHow to do this without breaking the app?\r\nI&#39;m trying to call it like this:\r\n\r\n    val menu = findViewById&lt;MenuItem&gt;(R.id.deleteBarra)\r\n\r\n","title":"How to hide MenuItem in the toolbar in certain situations?","body":"<p>I have a form screen that is also an information screen, but in different states. When the user enters to create I want to hide the MenuItem that assigns to delete.\nHow to do this without breaking the app?\nI'm trying to call it like this:</p>\n<pre><code>val menu = findViewById&lt;MenuItem&gt;(R.id.deleteBarra)\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1557082251,"post_id":55995283,"comment_id":98637857,"body_markdown":"A simple `for` loop is O(n).","body":"A simple <code>for</code> loop is O(n)."},{"owner":{"account_id":7727862,"reputation":169,"user_id":5851956,"display_name":"pks"},"score":0,"creation_date":1557082310,"post_id":55995283,"comment_id":98637875,"body_markdown":"@ElliottFrisch  yes, adding all the elements except the index. how could i do that in single run. and should be without subtraction operator.","body":"@ElliottFrisch  yes, adding all the elements except the index. how could i do that in single run. and should be without subtraction operator."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1557082369,"post_id":55995283,"comment_id":98637894,"body_markdown":"Does `+ (-1*arr[i])` count as &quot;not using subtraction&quot;?","body":"Does <code>+ (-1*arr[i])</code> count as &quot;not using subtraction&quot;?"},{"owner":{"account_id":7727862,"reputation":169,"user_id":5851956,"display_name":"pks"},"score":0,"creation_date":1557082530,"post_id":55995283,"comment_id":98637941,"body_markdown":"@AndyTurner  then what is the difference in using subtraction operator or -1*arr[i], its looks same... anyhow if it is so then i think problem statement was wrong... i am seeking if it is possible without any such methods. because that&#39;s make sense. thanks for help.","body":"@AndyTurner  then what is the difference in using subtraction operator or -1*arr[i], its looks same... anyhow if it is so then i think problem statement was wrong... i am seeking if it is possible without any such methods. because that&#39;s make sense. thanks for help."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1557082717,"post_id":55995283,"comment_id":98637991,"body_markdown":"@pks if the problem statement is going to to forbid the use of the subtraction *operator* specifically, then achieving subtraction by other means seems entirely reasonable.","body":"@pks if the problem statement is going to to forbid the use of the subtraction <i>operator</i> specifically, then achieving subtraction by other means seems entirely reasonable."},{"owner":{"account_id":7727862,"reputation":169,"user_id":5851956,"display_name":"pks"},"score":0,"creation_date":1557083115,"post_id":55995283,"comment_id":98638081,"body_markdown":"@AndyTurner - yes, if there is not any other reasonable answer to this then achieving subtraction by any mean could be possible solution. i have concluded it with using -1*arr[i]  or complexity will be O(n2).","body":"@AndyTurner - yes, if there is not any other reasonable answer to this then achieving subtraction by any mean could be possible solution. i have concluded it with using -1*arr[i]  or complexity will be O(n2)."},{"owner":{"account_id":12064104,"reputation":3243,"user_id":8821960,"display_name":"tryman"},"score":0,"creation_date":1557083585,"post_id":55995283,"comment_id":98638209,"body_markdown":"Something like `+log10(1/10^element)`  instead of (-element) could work as a workaround for that subtraction constraint.","body":"Something like <code>+log10(1&#47;10^element)</code>  instead of (-element) could work as a workaround for that subtraction constraint."},{"owner":{"account_id":7727862,"reputation":169,"user_id":5851956,"display_name":"pks"},"score":0,"creation_date":1557083830,"post_id":55995283,"comment_id":98638266,"body_markdown":"@Aphton - thanks for help but i guess a test to check algorithmic ability does not want to know if i know what ~ means or whether i know use of -1 or not. again discussion here is appreciable its clear my mind. i can rest in peace now.. lol.","body":"@Aphton - thanks for help but i guess a test to check algorithmic ability does not want to know if i know what ~ means or whether i know use of -1 or not. again discussion here is appreciable its clear my mind. i can rest in peace now.. lol."}],"answers":[{"tags":[],"owner":{"account_id":13961228,"reputation":91,"user_id":10082409,"display_name":"Aphton"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557083283,"creation_date":1557082497,"answer_id":55995328,"question_id":55995283,"body_markdown":"Since the complexity of O(2n) = O(n), you can use one loop to calculate the entire sum.\r\nThen a second loop after wards and set the value at the index as\r\narr[i] = totalSum-arr[i]\r\n\r\nEdit: woops, did forget that you can&#39;t use subtraction.\r\nBut hey, subtraction is equivalent to an addition with the two&#39;s complement, LOL.\r\n\r\nEdit: Here is the solution in python2\r\n\r\n    arr = [3,7,8,4,9]\r\n    sum = 0\r\n    for elem in arr:\r\n    \tsum += elem\r\n    \t\r\n    for i in xrange(len(arr)):\r\n    \telem = arr[i]\r\n    \telem = ~elem + 1\r\n    \tarr[i] = sum + elem\r\n    \r\n    print arr\r\n\r\nOutput\r\n\r\n    ./bla.py \r\n    [28, 24, 23, 27, 22]","title":"Adding all elements of an array except the element at index with O(n) complexity","body":"<p>Since the complexity of O(2n) = O(n), you can use one loop to calculate the entire sum.\nThen a second loop after wards and set the value at the index as\narr[i] = totalSum-arr[i]</p>\n\n<p>Edit: woops, did forget that you can't use subtraction.\nBut hey, subtraction is equivalent to an addition with the two's complement, LOL.</p>\n\n<p>Edit: Here is the solution in python2</p>\n\n<pre><code>arr = [3,7,8,4,9]\nsum = 0\nfor elem in arr:\n    sum += elem\n\nfor i in xrange(len(arr)):\n    elem = arr[i]\n    elem = ~elem + 1\n    arr[i] = sum + elem\n\nprint arr\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>./bla.py \n[28, 24, 23, 27, 22]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1557086378,"creation_date":1557086378,"answer_id":55995896,"question_id":55995283,"body_markdown":"A simple *O*(*n*) approach that uses only addition (and no &quot;cheats&quot; like `-1*elem` or `~elem + 1` to simulate subtraction) is to do two passes:\r\n\r\n- Create the result array `sum`.\r\n- In a &quot;forward&quot; pass from index 0 to index *n*−1, set each element of `sum` to the sum of all &quot;previous&quot; elements in `arr`:\r\n\r\n    ```java\r\n    int sumOfAllPrevious = 0;\r\n    for (int i = 0; i &lt; n; ++i) {\r\n      sum[i] = sumOfAllPrevious;\r\n      sumOfAllPrevious += arr[i];\r\n    }\r\n    ```\r\n- In a &quot;reverse&quot; pass from index *n*−1 to index 0, augment each element of `sum` with the sum of all &quot;later&quot; elements in `arr`:\r\n\r\n    ```java\r\n    int sumOfAllLater = 0;\r\n    for (int i = n - 1; i &gt;= 0; --i) {\r\n      sum[i] += sumOfAllLater;\r\n      sumOfAllLater += arr[i];\r\n    }\r\n    ```","title":"Adding all elements of an array except the element at index with O(n) complexity","body":"<p>A simple <em>O</em>(<em>n</em>) approach that uses only addition (and no \"cheats\" like <code>-1*elem</code> or <code>~elem + 1</code> to simulate subtraction) is to do two passes:</p>\n\n<ul>\n<li>Create the result array <code>sum</code>.</li>\n<li><p>In a \"forward\" pass from index 0 to index <em>n</em>−1, set each element of <code>sum</code> to the sum of all \"previous\" elements in <code>arr</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>int sumOfAllPrevious = 0;\nfor (int i = 0; i &lt; n; ++i) {\n  sum[i] = sumOfAllPrevious;\n  sumOfAllPrevious += arr[i];\n}\n</code></pre></li>\n<li><p>In a \"reverse\" pass from index <em>n</em>−1 to index 0, augment each element of <code>sum</code> with the sum of all \"later\" elements in <code>arr</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>int sumOfAllLater = 0;\nfor (int i = n - 1; i &gt;= 0; --i) {\n  sum[i] += sumOfAllLater;\n  sumOfAllLater += arr[i];\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25019076,"reputation":1,"user_id":18877932,"display_name":"Praveen Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650461280,"creation_date":1650450264,"answer_id":71938014,"question_id":55995283,"body_markdown":"```java\r\npackage assignments;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class sumOfArrayExceptItself {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc= new Scanner(System.in);\r\n\t\tint n,i,j, sum=0,m=0;\r\n\t\tn=sc.nextInt();\r\n\t\tint arr[]=new int[n];\r\n\t\tint arr1[]=new int[n];\r\n\t\tfor (i=0;i&lt;n;i++) {\r\n\t\t\tarr[i]=sc.nextInt();\r\n\t\t}\r\n\t\tfor(i=0;i&lt;n;i++) {\r\n\t\t\tfor(j=0;j&lt;n;j++) {\r\n\t\t\t\tsum=sum+arr[j];\r\n\t\t\t}\r\n\t\t\tint a = sum-arr[i];\r\n\t\t\tarr1[i]=a;\r\n\t\t\tsum=0;\r\n\t\t}\r\n\t\tSystem.out.println(Arrays.toString(arr1).replace(&quot;[&quot;, &quot; &quot;).replace(&quot;]&quot;, &quot; &quot;).replace(&quot;,&quot;,&quot; &quot;));\r\n\t}\r\n\r\n}\r\n","title":"Adding all elements of an array except the element at index with O(n) complexity","body":"<pre class=\"lang-java prettyprint-override\"><code>package assignments;\n\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class sumOfArrayExceptItself {\n\n    public static void main(String[] args) {\n        Scanner sc= new Scanner(System.in);\n        int n,i,j, sum=0,m=0;\n        n=sc.nextInt();\n        int arr[]=new int[n];\n        int arr1[]=new int[n];\n        for (i=0;i&lt;n;i++) {\n            arr[i]=sc.nextInt();\n        }\n        for(i=0;i&lt;n;i++) {\n            for(j=0;j&lt;n;j++) {\n                sum=sum+arr[j];\n            }\n            int a = sum-arr[i];\n            arr1[i]=a;\n            sum=0;\n        }\n        System.out.println(Arrays.toString(arr1).replace(&quot;[&quot;, &quot; &quot;).replace(&quot;]&quot;, &quot; &quot;).replace(&quot;,&quot;,&quot; &quot;));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7727862,"reputation":169,"user_id":5851956,"display_name":"pks"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5550,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55995896,"answer_count":3,"score":2,"last_activity_date":1650461280,"creation_date":1557082188,"question_id":55995283,"body_markdown":"This is what i came thru a problem in some coding test.\r\n\r\nproblem statement was like that we have to add all the elements of an array except the element at the index. subtraction operator cannot be used here and complexity should be O(n).\r\n\r\nlike \r\n`arr={3,7,8,4,9}\r\nthen result array will be... sum={28,24,23,27,22}`\r\n\r\ni have think a lot over it. but still missing something. some hint or pseudo code will be appreciable.\r\n\r\nConcluded:\r\nif there is not any other reasonable answer to this then achieving subtraction by any mean could be possible solution. i have concluded it with using -1*arr[i] or complexity will be O(n2).\r\n\r\nEdit: Above conclusion is not correct.","title":"Adding all elements of an array except the element at index with O(n) complexity","body":"<p>This is what i came thru a problem in some coding test.</p>\n\n<p>problem statement was like that we have to add all the elements of an array except the element at the index. subtraction operator cannot be used here and complexity should be O(n).</p>\n\n<p>like \n<code>arr={3,7,8,4,9}\nthen result array will be... sum={28,24,23,27,22}</code></p>\n\n<p>i have think a lot over it. but still missing something. some hint or pseudo code will be appreciable.</p>\n\n<p>Concluded:\nif there is not any other reasonable answer to this then achieving subtraction by any mean could be possible solution. i have concluded it with using -1*arr[i] or complexity will be O(n2).</p>\n\n<p>Edit: Above conclusion is not correct.</p>\n"},{"tags":["java","angular","docker","docker-compose","dockerfile"],"answers":[{"tags":[],"owner":{"account_id":4866881,"reputation":20471,"user_id":3924803,"display_name":"Hans Kilian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650456345,"creation_date":1650456345,"answer_id":71939338,"question_id":71938755,"body_markdown":"The requests from your Angular frontend don&#39;t come from the frontend container. They come from the browser that&#39;s running the Angular app.\r\n\r\nSo you need to map the API port to a host port so it&#39;ll be reachable from the outside.\r\n\r\nMap your API port to a host port like this\r\n\r\n      vehicle-management-api-service:\r\n        build: \r\n          context: ./vehicleManagementApi\r\n          dockerfile: vehicle-management-api.dockerfile\r\n        image: cap/vehicle-management-api\r\n        container_name: vehicle-management-api\r\n        hostname: vehicle-management-api\r\n        ports:\r\n         - 8081:8081\r\n        networks:\r\n          - vehicle-management-network\r\n\r\nNow you should be able to reach the API using http://localhost:8081/ as long as you&#39;re running the Angular app in a browser on the host machine and your API is listening on port 8081.\r\n","title":"Angular container can&#39;t http request to my java container","body":"<p>The requests from your Angular frontend don't come from the frontend container. They come from the browser that's running the Angular app.</p>\n<p>So you need to map the API port to a host port so it'll be reachable from the outside.</p>\n<p>Map your API port to a host port like this</p>\n<pre><code>  vehicle-management-api-service:\n    build: \n      context: ./vehicleManagementApi\n      dockerfile: vehicle-management-api.dockerfile\n    image: cap/vehicle-management-api\n    container_name: vehicle-management-api\n    hostname: vehicle-management-api\n    ports:\n     - 8081:8081\n    networks:\n      - vehicle-management-network\n</code></pre>\n<p>Now you should be able to reach the API using http://localhost:8081/ as long as you're running the Angular app in a browser on the host machine and your API is listening on port 8081.</p>\n"},{"tags":[],"owner":{"account_id":1466514,"reputation":2321,"user_id":1379184,"display_name":"BertC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650461133,"creation_date":1650461133,"answer_id":71940517,"question_id":71938755,"body_markdown":"To make things a bit more clear, I&#39;ve rewritten your compose file:\r\n\r\n```yaml\r\n\r\nversion: &#39;3&#39;\r\n\r\nservices:\r\n\r\n  api:\r\n    build: \r\n      context: ./vehicleManagementApi\r\n      dockerfile: vehicle-management-api.dockerfile\r\n    image: cap/vehicle-management-api\r\n    container_name: vehicle-management-api\r\n\r\n  view:\r\n    build:\r\n      context: ./vehicle-management-view\r\n      dockerfile: vehicle-management-view.dockerfile\r\n    image: cap/vehicle-management-view\r\n    container_name: vehicle-management-view\r\n    depends_on:\r\n      - api\r\n    ports:\r\n      - &quot;4200:80&quot;\r\n```\r\n\r\nWith this docker-compose the API is reachable on http://api:8081/ from the View-application.\r\n\r\nSince you have all services in 1 docker-compose, there is no need to create the network. \r\nJust use the default network created\r\n\r\nSince you access the API from another Container in the same docker-compose network, there is no need to expose the port of the API. \r\nExposing ports is only necessary if you want to access that service from the Host (or outside world). \r\n\r\nThat&#39;s why you do need to expose it on the View container because you probably want to access the View Container from outside the docker-compose network like. It is weird though that you use port 4200 for that. If you would use por 80, then you could have a standard http-webserver on the Host. \r\n","title":"Angular container can&#39;t http request to my java container","body":"<p>To make things a bit more clear, I've rewritten your compose file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>\nversion: '3'\n\nservices:\n\n  api:\n    build: \n      context: ./vehicleManagementApi\n      dockerfile: vehicle-management-api.dockerfile\n    image: cap/vehicle-management-api\n    container_name: vehicle-management-api\n\n  view:\n    build:\n      context: ./vehicle-management-view\n      dockerfile: vehicle-management-view.dockerfile\n    image: cap/vehicle-management-view\n    container_name: vehicle-management-view\n    depends_on:\n      - api\n    ports:\n      - &quot;4200:80&quot;\n</code></pre>\n<p>With this docker-compose the API is reachable on http://api:8081/ from the View-application.</p>\n<p>Since you have all services in 1 docker-compose, there is no need to create the network.\nJust use the default network created</p>\n<p>Since you access the API from another Container in the same docker-compose network, there is no need to expose the port of the API.\nExposing ports is only necessary if you want to access that service from the Host (or outside world).</p>\n<p>That's why you do need to expose it on the View container because you probably want to access the View Container from outside the docker-compose network like. It is weird though that you use port 4200 for that. If you would use por 80, then you could have a standard http-webserver on the Host.</p>\n"}],"owner":{"account_id":4459066,"reputation":91,"user_id":3628479,"display_name":"user3628479"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650461133,"creation_date":1650453745,"question_id":71938755,"body_markdown":"I&#39;m new to docker, but I&#39;m trying to implement it in my job, here&#39;s the case, I have this angular application &quot;vehicle-management-view&quot; as frontend and this java application as backend &quot;vehicle-management-api&quot; from which my view do http requests. Both applications are already in containers and working fine individually, but the view can&#39;t request to the api no matter what I do, network, ports and all this stuff was configured but it just doesn&#39;t work, I may be forgeting something, here are my dockerfiles, docker compose and my request configurations...\r\n\r\n**API dockerfile:**\r\n\r\n    FROM openjdk:8-alpine\r\n    WORKDIR /opt/docker/vehicle-management\r\n    COPY /target/vehicleManagementApi.jar /opt/docker/vehicle-management\r\n    ENTRYPOINT java -jar vehicleManagementApi-0.0.1-SNAPSHOT.jar\r\n\r\n**VIEW dockerfile:**\r\n\r\n    FROM node:alpine as build-stage\r\n    WORKDIR /build/vehicle-management-view/\r\n    COPY package*.json /build/vehicle-management-view/\r\n    RUN npm install\r\n    COPY ./ ./\r\n    RUN npm run build\r\n    \r\n    # DEPLOY STAGE\r\n    FROM nginx:alpine\r\n    COPY --from=build-stage build/vehicle-management-view/dist/vehicle-management-view/ /usr/share/nginx/html\r\n\r\n**Docker Compose**:\r\n\r\n    version: &#39;3&#39;\r\n    networks:\r\n      vehicle-management-network:\r\n        driver: bridge\r\n    services:\r\n      vehicle-management-api-service:\r\n        build: \r\n          context: ./vehicleManagementApi\r\n          dockerfile: vehicle-management-api.dockerfile\r\n        image: cap/vehicle-management-api\r\n        container_name: vehicle-management-api\r\n        hostname: vehicle-management-api\r\n        expose:\r\n         - 8081\r\n        networks:\r\n          - vehicle-management-network\r\n      vehicle-management-view-service:\r\n        build:\r\n          context: ./vehicle-management-view\r\n          dockerfile: vehicle-management-view.dockerfile\r\n        image: cap/vehicle-management-view\r\n        container_name: vehicle-management-view\r\n        hostname: vehicle-management-view\r\n        depends_on:\r\n          - vehicle-management-api-service\r\n        ports:\r\n          - 4200:80\r\n        networks:\r\n          - vehicle-management-network\r\n\r\nOn my view I tried some guesses on the request uri, each one gave me an error:\r\n\r\n    http://localhost:8081/ -&gt; ERR_CONNECTION_REFUSED\r\n    http://vehicle-management-api:8081/ -&gt; ERR_NAME_NOT_RESOLVED\r\n    vehicle-management-api:8081/ -&gt; ERR_NAME_NOT_RESOLVED\r\n\r\nI think the problem may be my lack of experience, any help is much appreciated!","title":"Angular container can&#39;t http request to my java container","body":"<p>I'm new to docker, but I'm trying to implement it in my job, here's the case, I have this angular application &quot;vehicle-management-view&quot; as frontend and this java application as backend &quot;vehicle-management-api&quot; from which my view do http requests. Both applications are already in containers and working fine individually, but the view can't request to the api no matter what I do, network, ports and all this stuff was configured but it just doesn't work, I may be forgeting something, here are my dockerfiles, docker compose and my request configurations...</p>\n<p><strong>API dockerfile:</strong></p>\n<pre><code>FROM openjdk:8-alpine\nWORKDIR /opt/docker/vehicle-management\nCOPY /target/vehicleManagementApi.jar /opt/docker/vehicle-management\nENTRYPOINT java -jar vehicleManagementApi-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p><strong>VIEW dockerfile:</strong></p>\n<pre><code>FROM node:alpine as build-stage\nWORKDIR /build/vehicle-management-view/\nCOPY package*.json /build/vehicle-management-view/\nRUN npm install\nCOPY ./ ./\nRUN npm run build\n\n# DEPLOY STAGE\nFROM nginx:alpine\nCOPY --from=build-stage build/vehicle-management-view/dist/vehicle-management-view/ /usr/share/nginx/html\n</code></pre>\n<p><strong>Docker Compose</strong>:</p>\n<pre><code>version: '3'\nnetworks:\n  vehicle-management-network:\n    driver: bridge\nservices:\n  vehicle-management-api-service:\n    build: \n      context: ./vehicleManagementApi\n      dockerfile: vehicle-management-api.dockerfile\n    image: cap/vehicle-management-api\n    container_name: vehicle-management-api\n    hostname: vehicle-management-api\n    expose:\n     - 8081\n    networks:\n      - vehicle-management-network\n  vehicle-management-view-service:\n    build:\n      context: ./vehicle-management-view\n      dockerfile: vehicle-management-view.dockerfile\n    image: cap/vehicle-management-view\n    container_name: vehicle-management-view\n    hostname: vehicle-management-view\n    depends_on:\n      - vehicle-management-api-service\n    ports:\n      - 4200:80\n    networks:\n      - vehicle-management-network\n</code></pre>\n<p>On my view I tried some guesses on the request uri, each one gave me an error:</p>\n<pre><code>http://localhost:8081/ -&gt; ERR_CONNECTION_REFUSED\nhttp://vehicle-management-api:8081/ -&gt; ERR_NAME_NOT_RESOLVED\nvehicle-management-api:8081/ -&gt; ERR_NAME_NOT_RESOLVED\n</code></pre>\n<p>I think the problem may be my lack of experience, any help is much appreciated!</p>\n"},{"tags":["java","arrays","io","docx","rtf"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1650460356,"post_id":71940187,"comment_id":127121200,"body_markdown":"MS Word, WordPad or Libre Office can open RTF files. What exactly you want to do with the file?","body":"MS Word, WordPad or Libre Office can open RTF files. What exactly you want to do with the file?"},{"owner":{"account_id":18263992,"reputation":21,"user_id":13296174,"display_name":"George Dimitriou"},"score":0,"creation_date":1650460787,"post_id":71940187,"comment_id":127121393,"body_markdown":"I have an rtf file and I want to edit it with docx4j library. I cannot load it directly so I want to convert it first in a docx format.","body":"I have an rtf file and I want to edit it with docx4j library. I cannot load it directly so I want to convert it first in a docx format."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1650461091,"post_id":71940187,"comment_id":127121551,"body_markdown":"It seems you missed an important point here. You changed the filename extension but not the content itself. The Rich Text Format and the Microsoft Word Document format are totally different file formats. This means the file contents are different. If you have enough time you can try to find the specifications for both file formats and implement a transformation on your own. Or you can use some libraries. Or you can use Word controlled by your program or via VBA.","body":"It seems you missed an important point here. You changed the filename extension but not the content itself. The Rich Text Format and the Microsoft Word Document format are totally different file formats. This means the file contents are different. If you have enough time you can try to find the specifications for both file formats and implement a transformation on your own. Or you can use some libraries. Or you can use Word controlled by your program or via VBA."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1650462913,"post_id":71940187,"comment_id":127122429,"body_markdown":"Java swing can load an RTF document as styled document. I am not sure whether that is helpful.","body":"Java swing can load an RTF document as styled document. I am not sure whether that is helpful."}],"owner":{"account_id":18263992,"reputation":21,"user_id":13296174,"display_name":"George Dimitriou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650460831,"creation_date":1650459784,"question_id":71940187,"body_markdown":"Is there any way to convert a file in rtf format to docx format without third party libraries such as aspose etc. I tried to use InputStream and OutputStream but it leads to a corrupted docx file.\r\n\r\n```\r\nprivate static void convertToDoc() throws IOException {\r\n        String inputPath = &quot;C:\\\\inputFile.rtf&quot;;\r\n        String OutputPath = &quot;C:\\\\outputFile.docx&quot;;\r\n        File initialFile = new File(inputPath);\r\n        InputStream source = new FileInputStream(initialFile);\r\n        OutputStream target = new FileOutputStream(OutputPath);\r\n        byte[] buf = new byte[8192];\r\n        int length;\r\n        while ((length = source.read(buf)) &gt; 0) {\r\n            target.write(buf, 0, length);\r\n        }\r\n        source.close();\r\n        target.close();\r\n    }\r\n```","title":"Convert rtf to docx file in Java without third party library","body":"<p>Is there any way to convert a file in rtf format to docx format without third party libraries such as aspose etc. I tried to use InputStream and OutputStream but it leads to a corrupted docx file.</p>\n<pre><code>private static void convertToDoc() throws IOException {\n        String inputPath = &quot;C:\\\\inputFile.rtf&quot;;\n        String OutputPath = &quot;C:\\\\outputFile.docx&quot;;\n        File initialFile = new File(inputPath);\n        InputStream source = new FileInputStream(initialFile);\n        OutputStream target = new FileOutputStream(OutputPath);\n        byte[] buf = new byte[8192];\n        int length;\n        while ((length = source.read(buf)) &gt; 0) {\n            target.write(buf, 0, length);\n        }\n        source.close();\n        target.close();\n    }\n</code></pre>\n"},{"tags":["java","daml"],"comments":[{"owner":{"account_id":3908845,"reputation":11548,"user_id":3314107,"accept_rate":80,"display_name":"stefanobaghino"},"score":1,"creation_date":1649432352,"post_id":71799351,"comment_id":126882123,"body_markdown":"If you are using Java you may be interested in using the Java bindings instead of going through the HTTP JSON API service: https://docs.daml.com/app-dev/bindings-java/index.html","body":"If you are using Java you may be interested in using the Java bindings instead of going through the HTTP JSON API service: <a href=\"https://docs.daml.com/app-dev/bindings-java/index.html\" rel=\"nofollow noreferrer\">docs.daml.com/app-dev/bindings-java/index.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":3908845,"reputation":11548,"user_id":3314107,"accept_rate":80,"display_name":"stefanobaghino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649432301,"creation_date":1649432301,"answer_id":71799766,"question_id":71799351,"body_markdown":"The HTTP JSON API service requires a JSON Web Token (JWT) to be issued alongside every request, even if you are running in an insecure environment. Refer to the [documentation][1] for details on how to create a token for development purposes.\r\n\r\n\r\n  [1]: https://docs.daml.com/json-api/index.html#party-specific-access-tokens","title":"Connecting to Daml JSON API","body":"<p>The HTTP JSON API service requires a JSON Web Token (JWT) to be issued alongside every request, even if you are running in an insecure environment. Refer to the <a href=\"https://docs.daml.com/json-api/index.html#party-specific-access-tokens\" rel=\"nofollow noreferrer\">documentation</a> for details on how to create a token for development purposes.</p>\n"}],"owner":{"account_id":24873892,"reputation":3,"user_id":18748055,"display_name":"Bernardo Lopes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650460753,"creation_date":1649430619,"question_id":71799351,"body_markdown":"I am stuck with this error. I don&#39;t know how to set the authorization header with a token. \r\n\r\n\r\nJava code:\r\n\r\n```\r\npackage URL;\r\n\r\nimport org.json.simple.JSONObject;\r\nimport sun.net.www.protocol.http.HttpURLConnection;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.net.URL;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class DamlConnection {\r\n\r\n    HttpURLConnection con;\r\n\r\n    public DamlConnection() throws IOException {\r\n        URL url = new URL(&quot;http://localhost:7575/v1/exercise&quot;); //URL\r\n\r\n        try {\r\n            con = (HttpURLConnection) url.openConnection();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        con.setRequestMethod(&quot;POST&quot;);\r\n        con.setDoOutput(true);\r\n\r\n        byte [] out = &quot;{\\&quot;templateId\\&quot;:\\&quot;Iou:Iou\\&quot;,\\&quot;payload\\&quot;:{\\&quot;issuer\\&quot;:\\&quot;Alice\\&quot;,\\&quot;owner\\&quot;: \\&quot;Alice\\&quot;,\\&quot;currency\\&quot;: \\&quot;USD\\&quot;,\\&quot;amount\\&quot;: \\&quot;999.99\\&quot;,\\&quot;observers\\&quot;: []\\&quot;}}&quot; .getBytes(StandardCharsets.UTF_8);\r\n        int length = out.length;\r\n\r\n        con.setFixedLengthStreamingMode(length);\r\n\r\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\r\n\r\n        con.connect();\r\n        try(OutputStream os = con.getOutputStream()) {\r\n            os.write(out);\r\n        }\r\n\r\n        System.out.println(out);\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        new DamlConnection();\r\n    }\r\n}\r\n\r\n```\r\n\r\n---\r\n\r\nHTTP JSON API Service error:\r\n\r\n```\r\n08-04-2022 14:59:40.619 [http-json-ledger-api-akka.actor.default-dispatcher-10] INFO  com.daml.http.Endpoints - Incoming POST request on http://localhost:7575/v1/exercise from unknown, context: {instance_uuid: &quot;2b7c26b1-566c-423e-8ddc-bf586850e645&quot;, request_id: &quot;ebd0867e-95ec-4a05-acfd-d9e1cf97e7ed&quot;}\r\n08-04-2022 14:59:40.635 [http-json-ledger-api-akka.actor.default-dispatcher-7] INFO  com.daml.http.Endpoints - Responding to client with HTTP 401 Unauthorized, context: {instance_uuid: &quot;2b7c26b1-566c-423e-8ddc-bf586850e645&quot;, request_id: &quot;ebd0867e-95ec-4a05-acfd-d9e1cf97e7ed&quot;}\r\n```","title":"Connecting to Daml JSON API","body":"<p>I am stuck with this error. I don't know how to set the authorization header with a token.</p>\n<p>Java code:</p>\n<pre><code>package URL;\n\nimport org.json.simple.JSONObject;\nimport sun.net.www.protocol.http.HttpURLConnection;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.net.URL;\nimport java.nio.charset.StandardCharsets;\n\npublic class DamlConnection {\n\n    HttpURLConnection con;\n\n    public DamlConnection() throws IOException {\n        URL url = new URL(&quot;http://localhost:7575/v1/exercise&quot;); //URL\n\n        try {\n            con = (HttpURLConnection) url.openConnection();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        con.setRequestMethod(&quot;POST&quot;);\n        con.setDoOutput(true);\n\n        byte [] out = &quot;{\\&quot;templateId\\&quot;:\\&quot;Iou:Iou\\&quot;,\\&quot;payload\\&quot;:{\\&quot;issuer\\&quot;:\\&quot;Alice\\&quot;,\\&quot;owner\\&quot;: \\&quot;Alice\\&quot;,\\&quot;currency\\&quot;: \\&quot;USD\\&quot;,\\&quot;amount\\&quot;: \\&quot;999.99\\&quot;,\\&quot;observers\\&quot;: []\\&quot;}}&quot; .getBytes(StandardCharsets.UTF_8);\n        int length = out.length;\n\n        con.setFixedLengthStreamingMode(length);\n\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\n\n        con.connect();\n        try(OutputStream os = con.getOutputStream()) {\n            os.write(out);\n        }\n\n        System.out.println(out);\n    }\n\n    public static void main(String[] args) throws IOException {\n        new DamlConnection();\n    }\n}\n\n</code></pre>\n<hr />\n<p>HTTP JSON API Service error:</p>\n<pre><code>08-04-2022 14:59:40.619 [http-json-ledger-api-akka.actor.default-dispatcher-10] INFO  com.daml.http.Endpoints - Incoming POST request on http://localhost:7575/v1/exercise from unknown, context: {instance_uuid: &quot;2b7c26b1-566c-423e-8ddc-bf586850e645&quot;, request_id: &quot;ebd0867e-95ec-4a05-acfd-d9e1cf97e7ed&quot;}\n08-04-2022 14:59:40.635 [http-json-ledger-api-akka.actor.default-dispatcher-7] INFO  com.daml.http.Endpoints - Responding to client with HTTP 401 Unauthorized, context: {instance_uuid: &quot;2b7c26b1-566c-423e-8ddc-bf586850e645&quot;, request_id: &quot;ebd0867e-95ec-4a05-acfd-d9e1cf97e7ed&quot;}\n</code></pre>\n"},{"tags":["java","polymorphism"],"comments":[{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":1,"creation_date":1650460188,"post_id":71939783,"comment_id":127121119,"body_markdown":"A corner case like this might be of academic interest and surely is important to those implementing a Java compiler and runtime system. To a software engineer using Java, the lesson learned should be to NEVER create such a mess of different methods all with the same name.","body":"A corner case like this might be of academic interest and surely is important to those implementing a Java compiler and runtime system. To a software engineer using Java, the lesson learned should be to NEVER create such a mess of different methods all with the same name."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1650461187,"post_id":71939783,"comment_id":127121599,"body_markdown":"Your conclusion for step 5 is wrong. Method 3 is in the class `B` and the call in method 3 is `super.method(a)`. By using `super` you tell the java runtime explicitly to look for implementations of `method(A a)` in `B`s super classes only.","body":"Your conclusion for step 5 is wrong. Method 3 is in the class <code>B</code> and the call in method 3 is <code>super.method(a)</code>. By using <code>super</code> you tell the java runtime explicitly to look for implementations of <code>method(A a)</code> in <code>B</code>s super classes only."}],"owner":{"account_id":25020235,"reputation":23,"user_id":18878993,"display_name":"Maria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1650460578,"creation_date":1650458295,"question_id":71939783,"body_markdown":"i was trying to understand polymorphism in Java better with the following example:\r\n\r\n```\r\npublic class A {\r\n\r\n1 int method(A a) { return 1; }\r\n2 static int method(B b) { return 2 + b.method((A)b); }\r\n\r\n}\r\npublic class B extends A { \r\n\r\n3 final int method(A a) { return 4 + super.method(a); }\r\n4 int method(C c) { return 8 + this.method((B)c); }\r\n\r\n}\r\n\r\npublic class C extends B {\r\n5 int method(C c) { return 16 + method((A)c); }\r\n}\r\n\r\nAnd, the following declaration, initialization, methodcall:\r\nB b = new B();\r\nb.method(b);\r\n```\r\nI can not wrap my head around, why the &quot;int method(A a) { return 1; }&quot;, is the last one to be called.\r\n\r\nMy train of thought so far:\r\n\r\n1. We figure out the static and dynamic Type and of b (B and B)\r\n2. We look in class B, if we find a method called method, which accepts parameter with static type B.\r\nWe find two candidates: 3, 2.\r\nWe call 2, because it requires no implicit casting to the static Type B in the parameter and the static and dynamic types of B are the same.\r\n3. Now figure out the stat/dyn.types for b.method((A) b): \r\n   b is (B/B), and b in the parameter is (A/B) after the cast. Now, we look in class B for a Method called method, which accepts an A-type parameter, we find one,1, but now, because we have a different dynamic type (B), we also need so search B for a possible candidate, we find 3, we use it, since it overrides 1.\r\n4. After that, we discern the types again, because of &quot;super&quot; the static type is the one from the parentclass (A), and the dynamic one: B (the dynamic type of the object which caused the super-call), and A and A for its parameter.\r\n5. So, now we seek in A for a method which accepts an A, we find 1, but the dynamic class is different, so we need to also check for candidates, in class B, which might overwrite the method found in A (1), and use it, if that is the case, which would lead us to calling method 3, again.\r\n\r\nBut obviously that is not what Java returns, and i do not know where the error to this approach is. In other polymorphism exercises, i came to the correct solution.\r\n\r\n ","title":"Java polymorphism: Why is this method called last?","body":"<p>i was trying to understand polymorphism in Java better with the following example:</p>\n<pre><code>public class A {\n\n1 int method(A a) { return 1; }\n2 static int method(B b) { return 2 + b.method((A)b); }\n\n}\npublic class B extends A { \n\n3 final int method(A a) { return 4 + super.method(a); }\n4 int method(C c) { return 8 + this.method((B)c); }\n\n}\n\npublic class C extends B {\n5 int method(C c) { return 16 + method((A)c); }\n}\n\nAnd, the following declaration, initialization, methodcall:\nB b = new B();\nb.method(b);\n</code></pre>\n<p>I can not wrap my head around, why the &quot;int method(A a) { return 1; }&quot;, is the last one to be called.</p>\n<p>My train of thought so far:</p>\n<ol>\n<li>We figure out the static and dynamic Type and of b (B and B)</li>\n<li>We look in class B, if we find a method called method, which accepts parameter with static type B.\nWe find two candidates: 3, 2.\nWe call 2, because it requires no implicit casting to the static Type B in the parameter and the static and dynamic types of B are the same.</li>\n<li>Now figure out the stat/dyn.types for b.method((A) b):\nb is (B/B), and b in the parameter is (A/B) after the cast. Now, we look in class B for a Method called method, which accepts an A-type parameter, we find one,1, but now, because we have a different dynamic type (B), we also need so search B for a possible candidate, we find 3, we use it, since it overrides 1.</li>\n<li>After that, we discern the types again, because of &quot;super&quot; the static type is the one from the parentclass (A), and the dynamic one: B (the dynamic type of the object which caused the super-call), and A and A for its parameter.</li>\n<li>So, now we seek in A for a method which accepts an A, we find 1, but the dynamic class is different, so we need to also check for candidates, in class B, which might overwrite the method found in A (1), and use it, if that is the case, which would lead us to calling method 3, again.</li>\n</ol>\n<p>But obviously that is not what Java returns, and i do not know where the error to this approach is. In other polymorphism exercises, i came to the correct solution.</p>\n"},{"tags":["java","csv"],"answers":[{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1338214216,"creation_date":1338214216,"answer_id":10786033,"question_id":10785987,"body_markdown":"&gt; But looking for a cleaner approach which is generic. Perhaps to any N.\r\n\r\nCalling `String.lastIndexOf(int,int)` in a loop is going to be quite efficient, and arguably pretty clean:\r\n\r\n    \tint pos = str.length();\r\n    \tfor (int i = 0; i &lt; n; i++) {\r\n    \t\tpos = str.lastIndexOf(&#39;/&#39;, pos - 1);\r\n    \t}\r\n    \tString out = str.substring(pos + 1);\r\n\r\nThis can be easily turned into a helper function taking `str`, `&#39;/&#39;` and `n`, and returning `out`.","title":"String previous last index","body":"<blockquote>\n  <p>But looking for a cleaner approach which is generic. Perhaps to any N.</p>\n</blockquote>\n\n<p>Calling <code>String.lastIndexOf(int,int)</code> in a loop is going to be quite efficient, and arguably pretty clean:</p>\n\n<pre><code>    int pos = str.length();\n    for (int i = 0; i &lt; n; i++) {\n        pos = str.lastIndexOf('/', pos - 1);\n    }\n    String out = str.substring(pos + 1);\n</code></pre>\n\n<p>This can be easily turned into a helper function taking <code>str</code>, <code>'/'</code> and <code>n</code>, and returning <code>out</code>.</p>\n"},{"tags":[],"owner":{"account_id":7132386,"reputation":2804,"user_id":5453198,"accept_rate":0,"display_name":"Sackurise"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509818874,"creation_date":1509818874,"answer_id":47113895,"question_id":10785987,"body_markdown":"To get the folder name where the media file resides\r\n\r\n/storage/emulated/0/WhatsApp/Media/WhatsApp Video/VID-20170812-WA0000.mp4\r\n\r\nuse the below code \r\n\r\n    String folderName = filePath.substring(filePath.lastIndexOf(&#39;/&#39;,filePath.lastIndexOf(&#39;/&#39;)-1),filePath.lastIndexOf(&#39;/&#39;));\r\n\r\nreturns the folderName as &#39;whatsApp Video&#39;","title":"String previous last index","body":"<p>To get the folder name where the media file resides</p>\n\n<p>/storage/emulated/0/WhatsApp/Media/WhatsApp Video/VID-20170812-WA0000.mp4</p>\n\n<p>use the below code </p>\n\n<pre><code>String folderName = filePath.substring(filePath.lastIndexOf('/',filePath.lastIndexOf('/')-1),filePath.lastIndexOf('/'));\n</code></pre>\n\n<p>returns the folderName as 'whatsApp Video'</p>\n"},{"tags":[],"owner":{"account_id":16813178,"reputation":313,"user_id":12155702,"display_name":"Sumit Ojha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650460552,"creation_date":1650460552,"answer_id":71940377,"question_id":10785987,"body_markdown":"To get previous last string \r\n\r\nThis -\r\nhttps://developer.co/RTsMlGTsCj/share\r\n\r\nTo -\r\nRTsMlGTsCj\r\n\r\nUse this \r\n\r\nKotlin \r\n\r\n    val removeDomainName : String = scanResult.substring(\r\n                    scanResult.lastIndexOf(&#39;/&#39;, scanResult.lastIndexOf(&#39;/&#39;) - 1),\r\n                    scanResult.lastIndexOf(&#39;/&#39;)\r\n                )\r\n                val profileCode: String = removeDomainName.removePrefix(&quot;/&quot;)\r\n\r\n\r\nJava \r\n\r\n    String removeDomainName = scanResult.substring(scanResult.lastIndexOf(&#39;/&#39;,scanResult.lastIndexOf(&#39;/&#39;)-1),scanResult.lastIndexOf(&#39;/&#39;));","title":"String previous last index","body":"<p>To get previous last string</p>\n<p>This -\n<a href=\"https://developer.co/RTsMlGTsCj/share\" rel=\"nofollow noreferrer\">https://developer.co/RTsMlGTsCj/share</a></p>\n<p>To -\nRTsMlGTsCj</p>\n<p>Use this</p>\n<p>Kotlin</p>\n<pre><code>val removeDomainName : String = scanResult.substring(\n                scanResult.lastIndexOf('/', scanResult.lastIndexOf('/') - 1),\n                scanResult.lastIndexOf('/')\n            )\n            val profileCode: String = removeDomainName.removePrefix(&quot;/&quot;)\n</code></pre>\n<p>Java</p>\n<pre><code>String removeDomainName = scanResult.substring(scanResult.lastIndexOf('/',scanResult.lastIndexOf('/')-1),scanResult.lastIndexOf('/'));\n</code></pre>\n"}],"owner":{"account_id":535091,"reputation":559,"user_id":904762,"accept_rate":31,"display_name":"techie2k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3452,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":10786033,"answer_count":3,"score":7,"last_activity_date":1650460552,"creation_date":1338214045,"question_id":10785987,"body_markdown":"Is there a simple way of getting the penultimate delimited substring of a string?\r\n\r\n    String original = &quot;/1/6/P_55/T_140&quot;;\r\n\r\nIn this example, the resulting substring would be `&quot;P_55/T_140&quot;`\r\n\r\nI would like to find the index of forward slash at the beginning of this substring (`/`)\r\n\r\nI know `String.lastIndexOf()` calling twice would help. But looking for a cleaner approach which is generic. Perhaps to any N.\r\n","title":"String previous last index","body":"<p>Is there a simple way of getting the penultimate delimited substring of a string?</p>\n\n<pre><code>String original = \"/1/6/P_55/T_140\";\n</code></pre>\n\n<p>In this example, the resulting substring would be <code>\"P_55/T_140\"</code></p>\n\n<p>I would like to find the index of forward slash at the beginning of this substring (<code>/</code>)</p>\n\n<p>I know <code>String.lastIndexOf()</code> calling twice would help. But looking for a cleaner approach which is generic. Perhaps to any N.</p>\n"},{"tags":["java","spring","jackson","jackson-annotations"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1634955526,"post_id":69684600,"comment_id":123173168,"body_markdown":"check your dependency graph to see if you maybe have other versions of jackson present","body":"check your dependency graph to see if you maybe have other versions of jackson present"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1634979183,"post_id":69684600,"comment_id":123176316,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":23117334,"reputation":1,"user_id":17224334,"display_name":"eleazar salas cravioto"},"score":0,"creation_date":1635437961,"post_id":69684600,"comment_id":123304518,"body_markdown":"Thanks a lot.  The problem was solved removing old versions of my libreries.","body":"Thanks a lot.  The problem was solved removing old versions of my libreries."}],"answers":[{"tags":[],"owner":{"account_id":11901466,"reputation":121,"user_id":8709340,"display_name":"Adarsh Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635210302,"creation_date":1635210302,"answer_id":69716338,"question_id":69684600,"body_markdown":"\r\nI am not sure, but you should once check for the annotations like @Service, @Controller, @Respository, there are chances that you have missed any one of the annotations. just check it carefully, it might help you out.","title":"java.lang.NoSuchFieldError: com/fasterxml/jackson/annotation/JsonInclude$Include.USE_DEFAULTS","body":"<p>I am not sure, but you should once check for the annotations like @Service, @Controller, @Respository, there are chances that you have missed any one of the annotations. just check it carefully, it might help you out.</p>\n"},{"tags":[],"owner":{"account_id":14630393,"reputation":1,"user_id":10566393,"display_name":"LHZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635213005,"creation_date":1635213005,"answer_id":69716581,"question_id":69684600,"body_markdown":"To deal with this error, we have to clear all .class files and recompile to ensure that all files are up to date.\r\n\r\nIf this error still exists at runtime, it may be that the dependency referenced at compile time is different from the runtime version. Here, it is necessary to check whether the various paths and versions are wrong.\r\n\r\nMaven projects generally execute mvn clean.\r\n\r\nHope your problem can be solved","title":"java.lang.NoSuchFieldError: com/fasterxml/jackson/annotation/JsonInclude$Include.USE_DEFAULTS","body":"<p>To deal with this error, we have to clear all .class files and recompile to ensure that all files are up to date.</p>\n<p>If this error still exists at runtime, it may be that the dependency referenced at compile time is different from the runtime version. Here, it is necessary to check whether the various paths and versions are wrong.</p>\n<p>Maven projects generally execute mvn clean.</p>\n<p>Hope your problem can be solved</p>\n"},{"tags":[],"owner":{"account_id":16106763,"reputation":21,"user_id":11626085,"display_name":"Senthil kumar Moorthy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650460370,"creation_date":1650460370,"answer_id":71940326,"question_id":69684600,"body_markdown":"Try cleaning your old build and rebuild your project, atleast it works for me!","title":"java.lang.NoSuchFieldError: com/fasterxml/jackson/annotation/JsonInclude$Include.USE_DEFAULTS","body":"<p>Try cleaning your old build and rebuild your project, atleast it works for me!</p>\n"}],"owner":{"account_id":23117334,"reputation":1,"user_id":17224334,"display_name":"eleazar salas cravioto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2785,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1650460370,"creation_date":1634955281,"question_id":69684600,"body_markdown":"I am using ```spring 5.3.7```\r\nand when I start my application, it returns the error below:\r\n\r\n    Instantiation of bean failed; nested exception is\r\n    org.springframework.beans.BeanInstantiationException: Failed to instantiate\r\n    [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]:\r\n    Constructor threw exception; nested exception is java.lang.NoSuchFieldError:\r\n    com/fasterxml/jackson/annotation/JsonInclude$Include.USE_DEFAULTS\r\n\r\nI am using ```jackson-annotations-2.10.3.jar``` which implements the USE_DEFAULTS Enum.\r\nI hope some one can help me.","title":"java.lang.NoSuchFieldError: com/fasterxml/jackson/annotation/JsonInclude$Include.USE_DEFAULTS","body":"<p>I am using <code>spring 5.3.7</code>\nand when I start my application, it returns the error below:</p>\n<pre><code>Instantiation of bean failed; nested exception is\norg.springframework.beans.BeanInstantiationException: Failed to instantiate\n[org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]:\nConstructor threw exception; nested exception is java.lang.NoSuchFieldError:\ncom/fasterxml/jackson/annotation/JsonInclude$Include.USE_DEFAULTS\n</code></pre>\n<p>I am using <code>jackson-annotations-2.10.3.jar</code> which implements the USE_DEFAULTS Enum.\nI hope some one can help me.</p>\n"},{"tags":["java","android","android-recyclerview","retrofit"],"comments":[{"owner":{"account_id":18981447,"reputation":908,"user_id":13852758,"display_name":"Gulab Sagevadiya"},"score":0,"creation_date":1650445478,"post_id":71936384,"comment_id":127115333,"body_markdown":"put that lines into the try-catch block. because some of your data is coming null. you can check that data in logcat also try to add code here not images.","body":"put that lines into the try-catch block. because some of your data is coming null. you can check that data in logcat also try to add code here not images."},{"owner":{"account_id":14474123,"reputation":1147,"user_id":12469165,"display_name":"Amit pandey"},"score":0,"creation_date":1650445766,"post_id":71936384,"comment_id":127115468,"body_markdown":"some time your image list getting null add check for you images","body":"some time your image list getting null add check for you images"}],"answers":[{"tags":[],"owner":{"account_id":14101336,"reputation":492,"user_id":10186611,"display_name":"Ismail Shaikh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650443842,"creation_date":1650443842,"answer_id":71936549,"question_id":71936384,"body_markdown":"You need to check if the data is null before setting it to the adapter.\r\n\r\n    if(response.body().getData() != null) {\r\n        postList = response.body().getData();\r\n        adapter.setData(postList);\r\n    }\r\n","title":"Recycle View Adapter get data from retrofit sometimes NullPointerException","body":"<p>You need to check if the data is null before setting it to the adapter.</p>\n<pre><code>if(response.body().getData() != null) {\n    postList = response.body().getData();\n    adapter.setData(postList);\n}\n</code></pre>\n"}],"owner":{"account_id":25017203,"reputation":1,"user_id":18876210,"display_name":"rui liu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650460252,"creation_date":1650443081,"question_id":71936384,"body_markdown":"I use `Retrofit` to get data from my local server and put there data on `recycle view`. But sometimes my android app exit because `recycleview`&#39;s adapter cannot get data from `ArrayList` from `Retrofit` and sometimes it can work. And it can certainly get data when I debug it. Please help me, thanks. [this is my retrofit code][1]        [this is a example error][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2n5Ys.png\r\n  [2]: https://i.stack.imgur.com/N20Il.png","title":"Recycle View Adapter get data from retrofit sometimes NullPointerException","body":"<p>I use <code>Retrofit</code> to get data from my local server and put there data on <code>recycle view</code>. But sometimes my android app exit because <code>recycleview</code>'s adapter cannot get data from <code>ArrayList</code> from <code>Retrofit</code> and sometimes it can work. And it can certainly get data when I debug it. Please help me, thanks. <a href=\"https://i.stack.imgur.com/2n5Ys.png\" rel=\"nofollow noreferrer\">this is my retrofit code</a>        <a href=\"https://i.stack.imgur.com/N20Il.png\" rel=\"nofollow noreferrer\">this is a example error</a></p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":4509436,"reputation":450,"user_id":3665983,"display_name":"Maicon Hellmann"},"score":0,"creation_date":1650460287,"post_id":71940174,"comment_id":127121162,"body_markdown":"You can use a `BottomSheetDialogFragment`\nIt should be what you are looking for","body":"You can use a <code>BottomSheetDialogFragment</code> It should be what you are looking for"},{"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"score":0,"creation_date":1650465500,"post_id":71940174,"comment_id":127123697,"body_markdown":"Or a `BottomSheetDialog` with `BottomSheetBehavior`","body":"Or a <code>BottomSheetDialog</code> with <code>BottomSheetBehavior</code>"}],"owner":{"account_id":23616652,"reputation":13,"user_id":17650647,"display_name":"Leonardo Fabbro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650459756,"creation_date":1650459756,"question_id":71940174,"body_markdown":"I would like to improve my application from a graphic point of view, it is an application for doing physical exercises at home, I currently have an activity with a list of exercises to do, I would like that selected the exercise you can see the details by swiping up, how can I do?","title":"How to make a swipe up bottom sheet on android using google material design","body":"<p>I would like to improve my application from a graphic point of view, it is an application for doing physical exercises at home, I currently have an activity with a list of exercises to do, I would like that selected the exercise you can see the details by swiping up, how can I do?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1650200201,"post_id":71901642,"comment_id":127056097,"body_markdown":"*&quot;that I have tried many solutions, but none of them work.&quot;* Try creating a couple more GUIs, then a hundred more. By that time you will likely have: a) worked out how to do it with the `UIManager` or a custom PLAF, and also b) that users typically prefer a robust, no nonsense, intuitive GUI to one that uses bold, distinct colors.","body":"<i>&quot;that I have tried many solutions, but none of them work.&quot;</i> Try creating a couple more GUIs, then a hundred more. By that time you will likely have: a) worked out how to do it with the <code>UIManager</code> or a custom PLAF, and also b) that users typically prefer a robust, no nonsense, intuitive GUI to one that uses bold, distinct colors."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1650204621,"post_id":71901642,"comment_id":127057005,"body_markdown":"Create your own custom dialog if you want full control of the fonts/colors etc. The JOptionPane is only designed to be customized by the data displayed.","body":"Create your own custom dialog if you want full control of the fonts/colors etc. The JOptionPane is only designed to be customized by the data displayed."},{"owner":{"display_name":"user18179841"},"score":0,"creation_date":1650205678,"post_id":71901642,"comment_id":127057241,"body_markdown":"@camickr\n Thanks, Can you provide a source with which to work custom dialog?","body":"@camickr  Thanks, Can you provide a source with which to work custom dialog?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1650210147,"post_id":71901642,"comment_id":127058208,"body_markdown":"You create a custom dialog the same way you create a custom JFrame. You create a JDialog and add components to the dialog.","body":"You create a custom dialog the same way you create a custom JFrame. You create a JDialog and add components to the dialog."},{"owner":{"display_name":"user18179841"},"score":0,"creation_date":1650444935,"post_id":71901642,"comment_id":127115133,"body_markdown":"Thank you all, I have benefited from your advice .","body":"Thank you all, I have benefited from your advice ."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650459606,"creation_date":1650211093,"answer_id":71903362,"question_id":71901642,"body_markdown":"JOptionPane is made up of many components.  You will need to set the background for all of them.\r\n\r\nHere is an easy way to traverse an entire component tree:\r\n\r\n    private static Stream&lt;Component&gt; walk(Component root) {\r\n        Stream&lt;Component&gt; stream = Stream.of(root);\r\n\r\n        if (root instanceof Container) {\r\n            Component[] children = ((Container) root).getComponents();\r\n            stream = Stream.concat(\r\n                Arrays.stream(children).flatMap(c -&gt; walk(c)), stream);\r\n        }\r\n\r\n        return stream;\r\n    }\r\n\r\n    private void jButton1ActionPerformed(ActionEvent evt) {\r\n        JOptionPane pane = new JOptionPane(\r\n            &quot;&lt;html&gt;&lt;b style=\\&quot;color:RED; font-size:20px;\\&quot;&gt;login successful&lt;/b&gt;&lt;/html&gt;&quot;, \r\n            JOptionPane.INFORMATION_MESSAGE, \r\n            JOptionPane.DEFAULT_OPTION,         \r\n            ChangeIconJoptionPane(&quot;/photo/icons8_Done_70px.png&quot;, 60, 60));\r\n\r\n        Color background = new Color(32, 139, 223);\r\n        walk(pane).forEach(c -&gt; c.setBackground(background));\r\n    }\r\n\r\n**However…** in some look-and-feels, it is not possible to change the background color of a JButton.  The system look-and-feels for Windows and Mac will ignore a JButton’s background property, and will always render the button using the system settings.\r\n\r\nThe most reliable way to customize the OK button is to create the button yourself, and pass it as an option value to the JOptionPane:\r\n\r\n    private void jButton1ActionPerformed(ActionEvent evt) {\r\n        JButton okButton = new JButton(&quot;OK&quot;);\r\n\r\n        Font font = okButton.getFont();\r\n        font = font.deriveFont(font.getSize2D() * 1.5f);\r\n        okButton.setFont(font);\r\n\r\n        JOptionPane pane = new JOptionPane(\r\n            &quot;&lt;html&gt;&lt;b style=\\&quot;color:RED; font-size:20px;\\&quot;&gt;login successful&lt;/b&gt;&lt;/html&gt;&quot;, \r\n            JOptionPane.INFORMATION_MESSAGE, \r\n            JOptionPane.DEFAULT_OPTION,         \r\n            ChangeIconJoptionPane(&quot;/photo/icons8_Done_70px.png&quot;, 60, 60),\r\n            new Object[] { okButton });\r\n\r\n        okButton.addActionListener(e -&gt; pane.setValue(JOptionPane.OK_OPTION));\r\n\r\n        Color background = new Color(32, 139, 223);\r\n        walk(pane).forEach(c -&gt; c.setBackground(background));\r\n    }\r\n","title":"Java swing: How to solve this problem when I change my background color in JOptionPane?","body":"<p>JOptionPane is made up of many components.  You will need to set the background for all of them.</p>\n<p>Here is an easy way to traverse an entire component tree:</p>\n<pre><code>private static Stream&lt;Component&gt; walk(Component root) {\n    Stream&lt;Component&gt; stream = Stream.of(root);\n\n    if (root instanceof Container) {\n        Component[] children = ((Container) root).getComponents();\n        stream = Stream.concat(\n            Arrays.stream(children).flatMap(c -&gt; walk(c)), stream);\n    }\n\n    return stream;\n}\n\nprivate void jButton1ActionPerformed(ActionEvent evt) {\n    JOptionPane pane = new JOptionPane(\n        &quot;&lt;html&gt;&lt;b style=\\&quot;color:RED; font-size:20px;\\&quot;&gt;login successful&lt;/b&gt;&lt;/html&gt;&quot;, \n        JOptionPane.INFORMATION_MESSAGE, \n        JOptionPane.DEFAULT_OPTION,         \n        ChangeIconJoptionPane(&quot;/photo/icons8_Done_70px.png&quot;, 60, 60));\n\n    Color background = new Color(32, 139, 223);\n    walk(pane).forEach(c -&gt; c.setBackground(background));\n}\n</code></pre>\n<p><strong>However…</strong> in some look-and-feels, it is not possible to change the background color of a JButton.  The system look-and-feels for Windows and Mac will ignore a JButton’s background property, and will always render the button using the system settings.</p>\n<p>The most reliable way to customize the OK button is to create the button yourself, and pass it as an option value to the JOptionPane:</p>\n<pre><code>private void jButton1ActionPerformed(ActionEvent evt) {\n    JButton okButton = new JButton(&quot;OK&quot;);\n\n    Font font = okButton.getFont();\n    font = font.deriveFont(font.getSize2D() * 1.5f);\n    okButton.setFont(font);\n\n    JOptionPane pane = new JOptionPane(\n        &quot;&lt;html&gt;&lt;b style=\\&quot;color:RED; font-size:20px;\\&quot;&gt;login successful&lt;/b&gt;&lt;/html&gt;&quot;, \n        JOptionPane.INFORMATION_MESSAGE, \n        JOptionPane.DEFAULT_OPTION,         \n        ChangeIconJoptionPane(&quot;/photo/icons8_Done_70px.png&quot;, 60, 60),\n        new Object[] { okButton });\n\n    okButton.addActionListener(e -&gt; pane.setValue(JOptionPane.OK_OPTION));\n\n    Color background = new Color(32, 139, 223);\n    walk(pane).forEach(c -&gt; c.setBackground(background));\n}\n</code></pre>\n"}],"owner":{"display_name":"user18179841"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71903362,"answer_count":1,"score":0,"last_activity_date":1650459606,"creation_date":1650196319,"question_id":71901642,"body_markdown":"1. When changing the background color of JOptionPane it is not possible to change the background color of the text as shown in the image?!\r\n\r\n\r\nThe image that contains the problem\r\n\r\n[![https://i.stack.imgur.com/OEVuF.png][1]][1]\r\n\r\n------------------------------------------------------------------------\r\n\r\nand\r\n\r\n 2. Also, how can I change the background color of the OK button and the font color??\r\n------------------------------------------------------------------------\r\n\r\n****Note**: that I have tried many solutions, but none of them work.**\r\n\r\nthis is code:\r\n\r\n```java\r\nprivate void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {  \r\n    UIManager.put(&quot;OptionPane.buttonFont&quot;, new Font(&quot;Arial&quot;, PLAIN, 30));\r\n    JOptionPane pane = new JOptionPane(&quot;&lt;html&gt;&lt;b style=\\&quot;color:RED; font-size:20px;\\&quot;&gt;login successful&lt;/b&gt;&lt;/html&gt;&quot;, \r\n    JOptionPane.INFORMATION_MESSAGE, \r\n    JOptionPane.DEFAULT_OPTION,         \r\n    ChangeIconJoptionPane(&quot;/photo/icons8_Done_70px.png&quot;, 60, 60));\r\n\r\n    getComponents(pane);\r\n    pane.setBackground(new Color(32, 139, 223));\r\n    JDialog jd = pane.createDialog(this, &quot;Success&quot;);\r\n    jd.setVisible(true);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OEVuF.png","title":"Java swing: How to solve this problem when I change my background color in JOptionPane?","body":"<ol>\n<li>When changing the background color of JOptionPane it is not possible to change the background color of the text as shown in the image?!</li>\n</ol>\n<p>The image that contains the problem</p>\n<p><a href=\"https://i.stack.imgur.com/OEVuF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OEVuF.png\" alt=\"https://i.stack.imgur.com/OEVuF.png\" /></a></p>\n<hr />\n<p>and</p>\n<ol start=\"2\">\n<li>Also, how can I change the background color of the OK button and the font color??</li>\n</ol>\n<hr />\n<p><strong><strong>Note</strong>: that I have tried many solutions, but none of them work.</strong></p>\n<p>this is code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {  \n    UIManager.put(&quot;OptionPane.buttonFont&quot;, new Font(&quot;Arial&quot;, PLAIN, 30));\n    JOptionPane pane = new JOptionPane(&quot;&lt;html&gt;&lt;b style=\\&quot;color:RED; font-size:20px;\\&quot;&gt;login successful&lt;/b&gt;&lt;/html&gt;&quot;, \n    JOptionPane.INFORMATION_MESSAGE, \n    JOptionPane.DEFAULT_OPTION,         \n    ChangeIconJoptionPane(&quot;/photo/icons8_Done_70px.png&quot;, 60, 60));\n\n    getComponents(pane);\n    pane.setBackground(new Color(32, 139, 223));\n    JDialog jd = pane.createDialog(this, &quot;Success&quot;);\n    jd.setVisible(true);\n}\n</code></pre>\n"},{"tags":["java","scala","gatling"],"answers":[{"tags":[],"owner":{"account_id":10172293,"reputation":2339,"user_id":7512201,"display_name":"Amerousful"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603992561,"creation_date":1603992561,"answer_id":64596320,"question_id":64593941,"body_markdown":"You can import and call your java class in any scala class. \r\nSo... Example:\r\n\r\nI have scala class with gatling scenario\r\n```\r\nimport io.gatling.core.Predef._\r\nimport io.gatling.http.Predef._\r\nimport utils.NewRandom\r\n\r\nclass Example extends Simulation {\r\n\r\n  val protocol = http.baseUrl(&quot;https://httpbin.org&quot;)\r\n\r\n  val request = http(&quot;get request&quot;)\r\n    .get(&quot;/get&quot;)\r\n\r\n\r\n  val scn = scenario(&quot;Http bin scenario&quot;)\r\n    .exec(request)\r\n\r\n  before({\r\n    println(s&quot;java random ${new NewRandom().getJavaRandom}&quot;)\r\n  })\r\n\r\n  setUp(\r\n    scn.inject(\r\n      atOnceUsers(1)\r\n    ).protocols(protocol)\r\n  )\r\n}\r\n```\r\n\r\nGatling has `before()` and `after()` methods for execute before and after load run https://gatling.io/docs/current/general/simulation_structure/#hooks\r\n\r\nIf you pay attention on above code (in `before()` method) you will see the line where I create java object and call method.\r\n\r\nJava class:\r\n```\r\npackage utils;\r\n\r\nimport java.util.Random;\r\n\r\npublic class NewRandom {\r\n\r\n    public Integer getJavaRandom() {\r\n        return new Random().nextInt();\r\n    }\r\n}\r\n\r\n```","title":"How can one execute Java code using Gatling load testing framework?","body":"<p>You can import and call your java class in any scala class.\nSo... Example:</p>\n<p>I have scala class with gatling scenario</p>\n<pre><code>import io.gatling.core.Predef._\nimport io.gatling.http.Predef._\nimport utils.NewRandom\n\nclass Example extends Simulation {\n\n  val protocol = http.baseUrl(&quot;https://httpbin.org&quot;)\n\n  val request = http(&quot;get request&quot;)\n    .get(&quot;/get&quot;)\n\n\n  val scn = scenario(&quot;Http bin scenario&quot;)\n    .exec(request)\n\n  before({\n    println(s&quot;java random ${new NewRandom().getJavaRandom}&quot;)\n  })\n\n  setUp(\n    scn.inject(\n      atOnceUsers(1)\n    ).protocols(protocol)\n  )\n}\n</code></pre>\n<p>Gatling has <code>before()</code> and <code>after()</code> methods for execute before and after load run <a href=\"https://gatling.io/docs/current/general/simulation_structure/#hooks\" rel=\"nofollow noreferrer\">https://gatling.io/docs/current/general/simulation_structure/#hooks</a></p>\n<p>If you pay attention on above code (in <code>before()</code> method) you will see the line where I create java object and call method.</p>\n<p>Java class:</p>\n<pre><code>package utils;\n\nimport java.util.Random;\n\npublic class NewRandom {\n\n    public Integer getJavaRandom() {\n        return new Random().nextInt();\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":3191144,"reputation":5197,"user_id":2695344,"accept_rate":42,"display_name":"Martin Kersten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2951,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650459382,"creation_date":1603984259,"question_id":64593941,"body_markdown":"I am evaluating different load testing tools. After trying JMeter and having two exceptions when running and viewing the test result, I would like to give Gatling a spin. Reading to various resources I fail to find an idea how to execute once own Java Code. \r\n\r\nI understand that Gatling is written in Scala but it runs on a JDK and Scala is able to incooperate/call Java code. So the question is, what does it take to combine both and if there are any resources available.","title":"How can one execute Java code using Gatling load testing framework?","body":"<p>I am evaluating different load testing tools. After trying JMeter and having two exceptions when running and viewing the test result, I would like to give Gatling a spin. Reading to various resources I fail to find an idea how to execute once own Java Code.</p>\n<p>I understand that Gatling is written in Scala but it runs on a JDK and Scala is able to incooperate/call Java code. So the question is, what does it take to combine both and if there are any resources available.</p>\n"},{"tags":["java"],"owner":{"account_id":16976292,"reputation":1,"user_id":12279563,"display_name":"philipp.bkrr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1650459346,"creation_date":1650389694,"question_id":71929052,"body_markdown":"I changed my IDE from *Eclipse* to *intellij*. Well I was about to build the project and now I have this error:\r\n\r\n&gt; Error: Cannot resolve symbol &#39;DecimalFormat&#39;\r\n\r\n I dont know what to do. \r\n\r\n\r\n    package core.events;\r\n    \r\n    import java.text.DecimalFormat;\r\n    \r\n    import cn.nukkit.Player;\r\n    import cn.nukkit.event.EventHandler;\r\n    import cn.nukkit.event.Listener;\r\n    import cn.nukkit.event.player.PlayerMoveEvent;\r\n    \r\n    public class PlayerMove implements Listener {\r\n    \tDecimalFormat f = new DecimalFormat(&quot;#0&quot;);\r\n\r\n[These are the Errors][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cN9LU.png","title":"Error: Cannot resolve symbol &#39;DecimalFormat&#39;","body":"<p>I changed my IDE from <em>Eclipse</em> to <em>intellij</em>. Well I was about to build the project and now I have this error:</p>\n<blockquote>\n<p>Error: Cannot resolve symbol 'DecimalFormat'</p>\n</blockquote>\n<p>I dont know what to do.</p>\n<pre><code>package core.events;\n\nimport java.text.DecimalFormat;\n\nimport cn.nukkit.Player;\nimport cn.nukkit.event.EventHandler;\nimport cn.nukkit.event.Listener;\nimport cn.nukkit.event.player.PlayerMoveEvent;\n\npublic class PlayerMove implements Listener {\n    DecimalFormat f = new DecimalFormat(&quot;#0&quot;);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/cN9LU.png\" rel=\"nofollow noreferrer\">These are the Errors</a></p>\n"},{"tags":["java","spring","spring-boot","jmeter","noclassdeffounderror"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650343628,"post_id":71917103,"comment_id":127086098,"body_markdown":"Does JMeter really have a `lib/ext` folder? and who or what is looking for `BOOT-INF/classes/com/epam/cerner/JmsSamplerClient`? and why? It should be looking for `com/epam/cerner/JmsSamplerClient`.","body":"Does JMeter really have a <code>lib&#47;ext</code> folder? and who or what is looking for <code>BOOT-INF&#47;classes&#47;com&#47;epam&#47;cerner&#47;JmsSamplerClient</code>? and why? It should be looking for <code>com&#47;epam&#47;cerner&#47;JmsSamplerClient</code>."},{"owner":{"account_id":10705911,"reputation":13,"user_id":7879724,"display_name":"Krish"},"score":0,"creation_date":1650444663,"post_id":71917103,"comment_id":127115027,"body_markdown":"hi.. in your comments, could you please remove the following &quot;com/epam/cerner&quot;.","body":"hi.. in your comments, could you please remove the following &quot;com/epam/cerner&quot;."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650459271,"creation_date":1650341990,"answer_id":71919629,"question_id":71917103,"body_markdown":"The error says that JMeter cannot find `BOOT-INF/classes/com/**/**/JmsSamplerClient` class in [JMeter Classpath][1] so make sure to copy it there and restart JMeter to pick up the change. \r\n\r\nGoing forward be informed that:\r\n\r\n - `lib/ext` folder is for JMeter components and [plugins][2]\r\n - `lib` folder is for dependencies \r\n\r\nso split your &quot;jars&quot; accordingly or put everything into an [uber jar][3]  \r\n\r\nAlso given the nature of your custom sampler is that simple you could substitute it with [JSR223 Sampler][4] getting the same performance and removing overhead of compiling and copying custom sampler.   \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/get-started.html#classpath\r\n  [2]: https://jmeter-plugins.org/\r\n  [3]: https://imagej.net/develop/uber-jars\r\n  [4]: https://www.blazemeter.com/blog/groovy-new-black/","title":"Jmeter - Java Request Custom Sampler with Spring Boot java client - throws NoClassDefFoundError","body":"<p>The error says that JMeter cannot find <code>BOOT-INF/classes/com/**/**/JmsSamplerClient</code> class in <a href=\"https://jmeter.apache.org/usermanual/get-started.html#classpath\" rel=\"nofollow noreferrer\">JMeter Classpath</a> so make sure to copy it there and restart JMeter to pick up the change.</p>\n<p>Going forward be informed that:</p>\n<ul>\n<li><code>lib/ext</code> folder is for JMeter components and <a href=\"https://jmeter-plugins.org/\" rel=\"nofollow noreferrer\">plugins</a></li>\n<li><code>lib</code> folder is for dependencies</li>\n</ul>\n<p>so split your &quot;jars&quot; accordingly or put everything into an <a href=\"https://imagej.net/develop/uber-jars\" rel=\"nofollow noreferrer\">uber jar</a></p>\n<p>Also given the nature of your custom sampler is that simple you could substitute it with <a href=\"https://www.blazemeter.com/blog/groovy-new-black/\" rel=\"nofollow noreferrer\">JSR223 Sampler</a> getting the same performance and removing overhead of compiling and copying custom sampler.</p>\n"},{"tags":[],"owner":{"account_id":10705911,"reputation":13,"user_id":7879724,"display_name":"Krish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650444418,"creation_date":1650444418,"answer_id":71936679,"question_id":71917103,"body_markdown":"Thanks everyone for your inputs. \r\n\r\nI have resolved this issue by changing the client program to simple non spring boot application. After then, I placed the client program Jar into JMeter lib/ext directory and the dependent spring libraries to lib directory of JMeter. It worked now. ","title":"Jmeter - Java Request Custom Sampler with Spring Boot java client - throws NoClassDefFoundError","body":"<p>Thanks everyone for your inputs.</p>\n<p>I have resolved this issue by changing the client program to simple non spring boot application. After then, I placed the client program Jar into JMeter lib/ext directory and the dependent spring libraries to lib directory of JMeter. It worked now.</p>\n"}],"owner":{"account_id":10705911,"reputation":13,"user_id":7879724,"display_name":"Krish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650459271,"creation_date":1650316158,"question_id":71917103,"body_markdown":"Written Java Custom Sampler of JMeter, which will accept a string from the JMeter tool. I need to pass this to a Spring Boot Application which is a simple Java client program. Once I packaged the jars, and I placed it in /lib/ext folder of JMeter, during startup I am getting the below issue. Any one please help on this.\r\n```\r\n2022-04-18 22:56:39,865 DEBUG o.a.j.r.ClassFinder: BOOT-INF/classes/com/**/**/JmsSamplerClient (wrong name: com/**/**/JmsSamplerClient)\r\njava.lang.NoClassDefFoundError: BOOT-INF/classes/com/**/**/JmsSamplerClient (wrong name: com/**/**/JmsSamplerClient)\r\n\tat java.lang.ClassLoader.defineClass1(Native Method) ~[?:1.8.0_192]\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:763) ~[?:1.8.0_192]\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142) ~[?:1.8.0_192]\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:468) ~[?:1.8.0_192]\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74) ~[?:1.8.0_192]\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369) ~[?:1.8.0_192]\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363) ~[?:1.8.0_192]\r\n\tat java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_192]\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362) ~[?:1.8.0_192]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[?:1.8.0_192]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[?:1.8.0_192]\r\n\tat java.lang.Class.forName0(Native Method) ~[?:1.8.0_192]\r\n\tat java.lang.Class.forName(Class.java:348) ~[?:1.8.0_192]\r\n\tat org.apache.jorphan.reflect.ClassFinder$ExtendsClassFilter.isChildOf(ClassFinder.java:100) ~[jorphan.jar:5.4.3]\r\n\tat org.apache.jorphan.reflect.ClassFinder$ExtendsClassFilter.accept(ClassFinder.java:86) ~[jorphan.jar:5.4.3]\r\n```","title":"Jmeter - Java Request Custom Sampler with Spring Boot java client - throws NoClassDefFoundError","body":"<p>Written Java Custom Sampler of JMeter, which will accept a string from the JMeter tool. I need to pass this to a Spring Boot Application which is a simple Java client program. Once I packaged the jars, and I placed it in /lib/ext folder of JMeter, during startup I am getting the below issue. Any one please help on this.</p>\n<pre><code>2022-04-18 22:56:39,865 DEBUG o.a.j.r.ClassFinder: BOOT-INF/classes/com/**/**/JmsSamplerClient (wrong name: com/**/**/JmsSamplerClient)\njava.lang.NoClassDefFoundError: BOOT-INF/classes/com/**/**/JmsSamplerClient (wrong name: com/**/**/JmsSamplerClient)\n    at java.lang.ClassLoader.defineClass1(Native Method) ~[?:1.8.0_192]\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:763) ~[?:1.8.0_192]\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142) ~[?:1.8.0_192]\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:468) ~[?:1.8.0_192]\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74) ~[?:1.8.0_192]\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369) ~[?:1.8.0_192]\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363) ~[?:1.8.0_192]\n    at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_192]\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362) ~[?:1.8.0_192]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[?:1.8.0_192]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[?:1.8.0_192]\n    at java.lang.Class.forName0(Native Method) ~[?:1.8.0_192]\n    at java.lang.Class.forName(Class.java:348) ~[?:1.8.0_192]\n    at org.apache.jorphan.reflect.ClassFinder$ExtendsClassFilter.isChildOf(ClassFinder.java:100) ~[jorphan.jar:5.4.3]\n    at org.apache.jorphan.reflect.ClassFinder$ExtendsClassFilter.accept(ClassFinder.java:86) ~[jorphan.jar:5.4.3]\n</code></pre>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1650401445,"post_id":71930511,"comment_id":127105749,"body_markdown":"One way could be the `ActionListener` of a `JButton`.","body":"One way could be the <code>ActionListener</code> of a <code>JButton</code>."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1650404262,"post_id":71930511,"comment_id":127106534,"body_markdown":"So, guesses, I&#39;m assuming you&#39;re using a transparent window which would also suggest that you&#39;re probably not making use of any kind of suitable layout manager OR your changing thing `minimum/maximum/preferredSize` properties.  In any case, you&#39;ll need to provide a [mcve] before we&#39;ll be able to clarify the exact cause of your issue","body":"So, guesses, I&#39;m assuming you&#39;re using a transparent window which would also suggest that you&#39;re probably not making use of any kind of suitable layout manager OR your changing thing <code>minimum&#47;maximum&#47;preferredSize</code> properties.  In any case, you&#39;ll need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> before we&#39;ll be able to clarify the exact cause of your issue"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650404414,"creation_date":1650404414,"answer_id":71931658,"question_id":71930511,"body_markdown":"This simple example works perfectly fine, your issue is some where else in code you are not sharing.  I&#39;m guessing you&#39;re using a transparent window, which suggests that either you&#39;re not using one or more appropriate layouts or you&#39;re otherwise screwing with the layout information, in any case, without a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example), there&#39;s not much more we can do to help you.\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.setUndecorated(true);\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                JButton normal = new JButton(&quot;Normal&quot;);\r\n                JButton maximized = new JButton(&quot;Maximixed&quot;);\r\n                JButton minimized = new JButton(&quot;Minimized&quot;);\r\n\r\n                add(normal);\r\n                add(maximized);\r\n                add(minimized);\r\n\r\n                normal.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        ((JFrame)SwingUtilities.windowForComponent(TestPane.this)).setExtendedState(JFrame.NORMAL);\r\n                    }\r\n                });\r\n                maximized.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        ((JFrame)SwingUtilities.windowForComponent(TestPane.this)).setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n                    }\r\n                });\r\n                minimized.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        ((JFrame)SwingUtilities.windowForComponent(TestPane.this)).setExtendedState(JFrame.ICONIFIED);\r\n                    }\r\n                });\r\n            }\r\n\r\n        }\r\n    }\r\n","title":"How to maximize undecorated java swing screen?","body":"<p>This simple example works perfectly fine, your issue is some where else in code you are not sharing.  I'm guessing you're using a transparent window, which suggests that either you're not using one or more appropriate layouts or you're otherwise screwing with the layout information, in any case, without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, there's not much more we can do to help you.</p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.setUndecorated(true);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            JButton normal = new JButton(&quot;Normal&quot;);\n            JButton maximized = new JButton(&quot;Maximixed&quot;);\n            JButton minimized = new JButton(&quot;Minimized&quot;);\n\n            add(normal);\n            add(maximized);\n            add(minimized);\n\n            normal.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    ((JFrame)SwingUtilities.windowForComponent(TestPane.this)).setExtendedState(JFrame.NORMAL);\n                }\n            });\n            maximized.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    ((JFrame)SwingUtilities.windowForComponent(TestPane.this)).setExtendedState(JFrame.MAXIMIZED_BOTH);\n                }\n            });\n            minimized.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    ((JFrame)SwingUtilities.windowForComponent(TestPane.this)).setExtendedState(JFrame.ICONIFIED);\n                }\n            });\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20605874,"reputation":1,"user_id":15912589,"display_name":"LUSCASOLACE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650458974,"creation_date":1650397672,"question_id":71930511,"body_markdown":"[how the screen looks][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xk80b.png\r\n\r\nI would like to know how do I make the screen maximized in the undecorated Jframe, because with the undecorated false it maximizes normally, but with the undecorated true the jframe looks like this.\r\n\r\n \r\n\r\n    private void jlMaximizarMenuMouseClicked(java.awt.event.MouseEvent evt) {                                             \r\n            if (this.getExtendedState() != Menu.MAXIMIZED_BOTH) \r\n            {\r\n              this.setExtendedState(Menu.MAXIMIZED_BOTH);\r\n            }\r\n            else\r\n            {\r\n                this.setExtendedState(Menu.NORMAL);\r\n            }\r\n        }  ","title":"How to maximize undecorated java swing screen?","body":"<p><a href=\"https://i.stack.imgur.com/Xk80b.png\" rel=\"nofollow noreferrer\">how the screen looks</a></p>\n<p>I would like to know how do I make the screen maximized in the undecorated Jframe, because with the undecorated false it maximizes normally, but with the undecorated true the jframe looks like this.</p>\n<pre><code>private void jlMaximizarMenuMouseClicked(java.awt.event.MouseEvent evt) {                                             \n        if (this.getExtendedState() != Menu.MAXIMIZED_BOTH) \n        {\n          this.setExtendedState(Menu.MAXIMIZED_BOTH);\n        }\n        else\n        {\n            this.setExtendedState(Menu.NORMAL);\n        }\n    }  \n</code></pre>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":11109732,"reputation":130,"user_id":8155897,"display_name":"dred dred"},"score":0,"creation_date":1650467134,"post_id":71939940,"comment_id":127124420,"body_markdown":"GenerationType.AUTO means loot of thinks, apperently hibernate considers this case like the id can be set from client side and actually you are setting it up by en empty string &quot;&quot;. I think it is some think like this. Try to do that with Null instead &quot;&quot; and you will have the exception if I&#39;m right.","body":"GenerationType.AUTO means loot of thinks, apperently hibernate considers this case like the id can be set from client side and actually you are setting it up by en empty string &quot;&quot;. I think it is some think like this. Try to do that with Null instead &quot;&quot; and you will have the exception if I&#39;m right."},{"owner":{"account_id":20962427,"reputation":25,"user_id":15401560,"display_name":"Vitaliy"},"score":0,"creation_date":1650523671,"post_id":71939940,"comment_id":127138651,"body_markdown":"Thanks you, but it doesn&#39;t work. It doesn&#39;t matter which GenerationType I use. Except of IDENTITY - everything is ruing. And all javax.validation.constraints annotations don&#39;t work. @NotNull too","body":"Thanks you, but it doesn&#39;t work. It doesn&#39;t matter which GenerationType I use. Except of IDENTITY - everything is ruing. And all javax.validation.constraints annotations don&#39;t work. @NotNull too"}],"owner":{"account_id":20962427,"reputation":25,"user_id":15401560,"display_name":"Vitaliy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650458897,"creation_date":1650458897,"question_id":71939940,"body_markdown":"everyone!\r\nI faced with a problem. I have Entity with javax.validation.constraints. And when I change @GeneratedValue(strategy = GenerationType.IDENTITY) to another. My DAO test stop working. These annotations don&#39;t work anymore. Why is it so? Or I miss something?\r\n\r\nMy entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;resident&quot;)\r\n    public class Resident {\r\n    \r\n        @Column(name = &quot;RESIDENT_ID&quot;)\r\n        @Id\r\n    //    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Integer residentId;\r\n    \r\n        @NotNull(message = &quot;First name is a required field&quot;)\r\n        @Size(min = 2, max = 20, message = &quot;First name should be min 2, max 20 symbols&quot;)\r\n        @Column(name = &quot;FIRSTNAME&quot;)\r\n        private String firstName;\r\n    \r\n        @NotNull(message = &quot;Last name is a required field&quot;)\r\n        @Size(min = 2, max = 20, message = &quot;Last name should be min 2, max 20 symbols&quot;)\r\n        @Column(name = &quot;LASTNAME&quot;)\r\n        private String lastName;\r\n\r\nmy test:\r\n\r\n    @Test\r\n    public void shouldThrowExceptionCreateWithWrongParamResidentTest() {\r\n        Apartment apartment = new Apartment(100, &quot;CHEAP&quot;);\r\n        Resident resident = new Resident(&quot;&quot;, null, null,\r\n                LocalDate.of(2021, 3, 13),\r\n                LocalDate.of(2021, 3, 23));\r\n        resident.setApartment(apartment);\r\n    \r\n        entityManager.persist(apartment);\r\n        Assertions.assertThrows(ConstraintViolationException.class, () -&gt; {\r\n            entityManager.persist(resident);\r\n        });\r\n    }\r\n\r\nI have this message: \r\n\r\n&gt; org.opentest4j.AssertionFailedError: Expected\r\n&gt; javax.validation.ConstraintViolationException to be thrown, but\r\n&gt; nothing was thrown.\r\n\r\nWhen I change it back - everything is okay.","title":"javax.validation.constraints Annotation doesn&#39;t work when I changed Generation type","body":"<p>everyone!\nI faced with a problem. I have Entity with javax.validation.constraints. And when I change @GeneratedValue(strategy = GenerationType.IDENTITY) to another. My DAO test stop working. These annotations don't work anymore. Why is it so? Or I miss something?</p>\n<p>My entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;resident&quot;)\npublic class Resident {\n\n    @Column(name = &quot;RESIDENT_ID&quot;)\n    @Id\n//    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer residentId;\n\n    @NotNull(message = &quot;First name is a required field&quot;)\n    @Size(min = 2, max = 20, message = &quot;First name should be min 2, max 20 symbols&quot;)\n    @Column(name = &quot;FIRSTNAME&quot;)\n    private String firstName;\n\n    @NotNull(message = &quot;Last name is a required field&quot;)\n    @Size(min = 2, max = 20, message = &quot;Last name should be min 2, max 20 symbols&quot;)\n    @Column(name = &quot;LASTNAME&quot;)\n    private String lastName;\n</code></pre>\n<p>my test:</p>\n<pre><code>@Test\npublic void shouldThrowExceptionCreateWithWrongParamResidentTest() {\n    Apartment apartment = new Apartment(100, &quot;CHEAP&quot;);\n    Resident resident = new Resident(&quot;&quot;, null, null,\n            LocalDate.of(2021, 3, 13),\n            LocalDate.of(2021, 3, 23));\n    resident.setApartment(apartment);\n\n    entityManager.persist(apartment);\n    Assertions.assertThrows(ConstraintViolationException.class, () -&gt; {\n        entityManager.persist(resident);\n    });\n}\n</code></pre>\n<p>I have this message:</p>\n<blockquote>\n<p>org.opentest4j.AssertionFailedError: Expected\njavax.validation.ConstraintViolationException to be thrown, but\nnothing was thrown.</p>\n</blockquote>\n<p>When I change it back - everything is okay.</p>\n"},{"tags":["java","opencsv"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1650424869,"post_id":71933671,"comment_id":127109985,"body_markdown":"Spelling error.  Try `withSeparator` ... with 2 As.","body":"Spelling error.  Try <code>withSeparator</code> ... with 2 As."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1650425128,"post_id":71933671,"comment_id":127110027,"body_markdown":"(They should make Latin mandatory for all undergraduates.  Separate comes from Latin *se-* and *pararer*.)","body":"(They should make Latin mandatory for all undergraduates.  Separate comes from Latin <i>se-</i> and <i>pararer</i>.)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1650425928,"post_id":71933671,"comment_id":127110154,"body_markdown":"That is really funny.  Anyway, here is the javadoc link: https://javadoc.io/static/com.opencsv/opencsv/3.2/com/opencsv/CSVParserBuilder.html#getSeparator().  As you can see, they use the correct spelling in the javadoc ... and the method name in the API.","body":"That is really funny.  Anyway, here is the javadoc link: <a href=\"https://javadoc.io/static/com.opencsv/opencsv/3.2/com/opencsv/CSVParserBuilder.html#getSeparator()\" rel=\"nofollow noreferrer\">javadoc.io/static/com.opencsv/opencsv/3.2/com/opencsv/&hellip;</a>.  As you can see, they use the correct spelling in the javadoc ... and the method name in the API."},{"owner":{"account_id":24715360,"reputation":13,"user_id":18605118,"display_name":"Himanshu Rai"},"score":0,"creation_date":1650426043,"post_id":71933671,"comment_id":127110180,"body_markdown":"@StephenC it&#39;s still not working, I tried again with correct spelling","body":"@StephenC it&#39;s still not working, I tried again with correct spelling"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1650426133,"post_id":71933671,"comment_id":127110196,"body_markdown":"But it is not telling you that `withSeparator` is undefined ... is it.   What is it actually telling you now?","body":"But it is not telling you that <code>withSeparator</code> is undefined ... is it.   What is it actually telling you now?"},{"owner":{"account_id":24715360,"reputation":13,"user_id":18605118,"display_name":"Himanshu Rai"},"score":0,"creation_date":1650426432,"post_id":71933671,"comment_id":127110242,"body_markdown":"@StephenC it is undefined for CSVReaderBuilder, if it won&#39;t work is there any other way for this","body":"@StephenC it is undefined for CSVReaderBuilder, if it won&#39;t work is there any other way for this"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1650426450,"post_id":71933671,"comment_id":127110245,"body_markdown":"Actually ... that javadoc looks messed up.","body":"Actually ... that javadoc looks messed up."},{"owner":{"account_id":24715360,"reputation":13,"user_id":18605118,"display_name":"Himanshu Rai"},"score":0,"creation_date":1650426654,"post_id":71933671,"comment_id":127110269,"body_markdown":"@StephenC everything is working except for it is showing out of bound exception, so now I&#39;m trying to give the program to read custom separator and this is what I&#39;m failing to do","body":"@StephenC everything is working except for it is showing out of bound exception, so now I&#39;m trying to give the program to read custom separator and this is what I&#39;m failing to do"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650429192,"creation_date":1650426650,"answer_id":71933880,"question_id":71933671,"body_markdown":"OK.  So, in addition to the original spelling error, I think you are getting the `CSVParserBuilder` and `CSVReaderBuilder` classes mixed up.\r\n\r\nAccording to the [source code][1], you should be using them like this:\r\n\r\n    final CSVParser parser =\r\n        new CSVParserBuilder()\r\n       .withSeparator(&#39;\\t&#39;)\r\n       .withIgnoreQuotations(true)\r\n       .build();\r\n    final CSVReader reader =\r\n        new CSVReaderBuilder(new StringReader(csv))\r\n       .withSkipLines(1)\r\n       .withCSVParser(parser)\r\n       .build();\r\n\r\nNotice that the `withSeparator` method is on `CSVParserBuilder` not `CSVReaderBuilder`.\r\n\r\n(When I looked carefully ... the javadoc that I found [here][2] doesn&#39;t match the source code.  It shows `withSeparator` in the example, but not in the method list.  Go figure.)\r\n\r\n\r\n  [1]: https://sourceforge.net/p/opencsv/source/ci/master/tree/src/main/java/com/opencsv/CSVReaderBuilder.java\r\n  [2]: https://javadoc.io/static/com.opencsv/opencsv/3.2/com/opencsv/CSVParserBuilder.html","title":"OpenCSV what if I have &#39;|&#39; as a seperator instrad of &#39;,&#39;","body":"<p>OK.  So, in addition to the original spelling error, I think you are getting the <code>CSVParserBuilder</code> and <code>CSVReaderBuilder</code> classes mixed up.</p>\n<p>According to the <a href=\"https://sourceforge.net/p/opencsv/source/ci/master/tree/src/main/java/com/opencsv/CSVReaderBuilder.java\" rel=\"nofollow noreferrer\">source code</a>, you should be using them like this:</p>\n<pre><code>final CSVParser parser =\n    new CSVParserBuilder()\n   .withSeparator('\\t')\n   .withIgnoreQuotations(true)\n   .build();\nfinal CSVReader reader =\n    new CSVReaderBuilder(new StringReader(csv))\n   .withSkipLines(1)\n   .withCSVParser(parser)\n   .build();\n</code></pre>\n<p>Notice that the <code>withSeparator</code> method is on <code>CSVParserBuilder</code> not <code>CSVReaderBuilder</code>.</p>\n<p>(When I looked carefully ... the javadoc that I found <a href=\"https://javadoc.io/static/com.opencsv/opencsv/3.2/com/opencsv/CSVParserBuilder.html\" rel=\"nofollow noreferrer\">here</a> doesn't match the source code.  It shows <code>withSeparator</code> in the example, but not in the method list.  Go figure.)</p>\n"}],"owner":{"account_id":24715360,"reputation":13,"user_id":18605118,"display_name":"Himanshu Rai"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71933880,"answer_count":1,"score":1,"last_activity_date":1650458897,"creation_date":1650424379,"question_id":71933671,"body_markdown":"My code is this:\r\n\r\n    CSVReader reader = new CSVReaderBuilder(new FileReader(&quot;C://Users//himanshurai//eclipse-workspace//nike.csv&quot;)).withSeparator(&#39;|&#39;).withSkipLines(1).build();\r\n\tList&lt;TShirt&gt; tShirtList = reader.readAll().stream().map(data -&gt; {\r\n\t\t//TShirt tShirt = new TShirt(data[0], data[1], data[2], data[3], data[4], data[5], data[6], data[7]);\r\n\t\tTShirt tShirt = new TShirt();\r\n\t\ttShirt.setId(data[0]);\r\n\t\ttShirt.setName(data[1]);\r\n\t\ttShirt.setColor(data[2]);\r\n\t\ttShirt.setGender(data[3]);\r\n\t\ttShirt.setSize(data[4]);\r\n\t\ttShirt.setPrice(data[5]);\r\n\t\ttShirt.setRating(data[6]);\r\n\t\ttShirt.setIsAvailable(data[7]);\r\n\t\treturn tShirt;\r\n\t}).collect(Collectors.toList());\r\n\ttShirtList.forEach(System.out::println);\r\n\r\nAnd this is my CSV file:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rS8ID.png\r\n\r\nMy code is showing an Index out of bound error. I think it is because the CSV file has &#39;|&#39; as a separator instead of &#39;,&#39; and I tried to use withSeperator(&#39;|&#39;) method but it is showing error like  the method is undefined. Is there any other way to do it?","title":"OpenCSV what if I have &#39;|&#39; as a seperator instrad of &#39;,&#39;","body":"<p>My code is this:</p>\n<pre><code>CSVReader reader = new CSVReaderBuilder(new FileReader(&quot;C://Users//himanshurai//eclipse-workspace//nike.csv&quot;)).withSeparator('|').withSkipLines(1).build();\nList&lt;TShirt&gt; tShirtList = reader.readAll().stream().map(data -&gt; {\n    //TShirt tShirt = new TShirt(data[0], data[1], data[2], data[3], data[4], data[5], data[6], data[7]);\n    TShirt tShirt = new TShirt();\n    tShirt.setId(data[0]);\n    tShirt.setName(data[1]);\n    tShirt.setColor(data[2]);\n    tShirt.setGender(data[3]);\n    tShirt.setSize(data[4]);\n    tShirt.setPrice(data[5]);\n    tShirt.setRating(data[6]);\n    tShirt.setIsAvailable(data[7]);\n    return tShirt;\n}).collect(Collectors.toList());\ntShirtList.forEach(System.out::println);\n</code></pre>\n<p>And this is my CSV file:</p>\n<p><a href=\"https://i.stack.imgur.com/rS8ID.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rS8ID.png\" alt=\"enter image description here\" /></a></p>\n<p>My code is showing an Index out of bound error. I think it is because the CSV file has '|' as a separator instead of ',' and I tried to use withSeperator('|') method but it is showing error like  the method is undefined. Is there any other way to do it?</p>\n"},{"tags":["java","sql","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":0,"creation_date":1650453760,"post_id":71938563,"comment_id":127118547,"body_markdown":"You should update your question and attach source of service which returns json response. Perhaps this service executes another repository method - we don&#39;t see it","body":"You should update your question and attach source of service which returns json response. Perhaps this service executes another repository method - we don&#39;t see it"},{"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"score":0,"creation_date":1650453971,"post_id":71938563,"comment_id":127118623,"body_markdown":"@Alex I added the service","body":"@Alex I added the service"},{"owner":{"account_id":14660465,"reputation":99,"user_id":10587819,"display_name":"hamwac5"},"score":0,"creation_date":1650455654,"post_id":71938563,"comment_id":127119175,"body_markdown":"try this  :  Page&lt;Archive&gt;  findByIdentifierAndChannelsEnabledChannelTrue(String identifier,Pageable pageable)","body":"try this  :  Page&lt;Archive&gt;  findByIdentifierAndChannelsEnabledChannelTrue(String identifier,Pageable pageable)"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1650455777,"post_id":71938563,"comment_id":127119225,"body_markdown":"Try `@Query(value = &quot;from Archive a where a.identifier = :identifier and a.channels.enabledChannel = 1&quot;)`","body":"Try <code>@Query(value = &quot;from Archive a where a.identifier = :identifier and a.channels.enabledChannel = 1&quot;)</code>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1650455836,"post_id":71938563,"comment_id":127119240,"body_markdown":"With @hamwac5&#39;s suggesstion, remove the `@Query` annotation","body":"With @hamwac5&#39;s suggesstion, remove the <code>@Query</code> annotation"},{"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"score":0,"creation_date":1650456527,"post_id":71938563,"comment_id":127119482,"body_markdown":"@XtremeBaumer I tried your and I got thisQuery exception:\n`illegal attempt to dereference collection [archive0_.archive_id.channels] with element property reference [enabledChannel] [from com.example.NetflixProve.model.Archive a where a.identifier = :identifier and a.channels.enabledChannel = 1]`","body":"@XtremeBaumer I tried your and I got thisQuery exception: <code>illegal attempt to dereference collection [archive0_.archive_id.channels] with element property reference [enabledChannel] [from com.example.NetflixProve.model.Archive a where a.identifier = :identifier and a.channels.enabledChannel = 1]</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650456539,"post_id":71938563,"comment_id":127119488,"body_markdown":"The query gives you exactly what you asked for. Al archives that have a channel that is activated. That is the question you asked. It will fetch the `Archive` including all its relations (as that is what JPA does). If you only want channels then only select those.","body":"The query gives you exactly what you asked for. Al archives that have a channel that is activated. That is the question you asked. It will fetch the <code>Archive</code> including all its relations (as that is what JPA does). If you only want channels then only select those."},{"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"score":0,"creation_date":1650456639,"post_id":71938563,"comment_id":127119534,"body_markdown":"@M.Deinum so with the query I do It gonna fetch all the many side? How may I get just what I want?","body":"@M.Deinum so with the query I do It gonna fetch all the many side? How may I get just what I want?"},{"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"score":0,"creation_date":1650456686,"post_id":71938563,"comment_id":127119557,"body_markdown":"@hamwac5 I have already try yours but It won&#39;t work","body":"@hamwac5 I have already try yours but It won&#39;t work"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650456697,"post_id":71938563,"comment_id":127119561,"body_markdown":"The query is selecting `Archive` entities **not** `Channel` entities (directly). As the `Archive` has a list of `Channel` it will eventually retrieve all of those. If you only want `Channel` write a query that selects the `Channel` and no `Archive`.","body":"The query is selecting <code>Archive</code> entities <b>not</b> <code>Channel</code> entities (directly). As the <code>Archive</code> has a list of <code>Channel</code> it will eventually retrieve all of those. If you only want <code>Channel</code> write a query that selects the <code>Channel</code> and no <code>Archive</code>."},{"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"score":0,"creation_date":1650456854,"post_id":71938563,"comment_id":127119623,"body_markdown":"@M.Deinum so the only way is to do from the ChannelRepository? Isn&#39;t another way to get from there just the row that I fetch, for now I just tried to do a stream.filter to fix but I just wondering on the performance given","body":"@M.Deinum so the only way is to do from the ChannelRepository? Isn&#39;t another way to get from there just the row that I fetch, for now I just tried to do a stream.filter to fix but I just wondering on the performance given"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650456936,"post_id":71938563,"comment_id":127119658,"body_markdown":"No, I&#39;m going to iterate again, you are selecting `Archive` entities and that will eventually have everything in there according to the mapping. So without either selecting only `Channel` or mapping the result to a dedicated DTO (projection) the result is going to be the same.","body":"No, I&#39;m going to iterate again, you are selecting <code>Archive</code> entities and that will eventually have everything in there according to the mapping. So without either selecting only <code>Channel</code> or mapping the result to a dedicated DTO (projection) the result is going to be the same."}],"answers":[{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1650454208,"creation_date":1650454208,"answer_id":71938863,"question_id":71938563,"body_markdown":"Try to use [NumericBooleanType][1] which, according to the definition, *maps between `INTEGER` and `Boolean` (using `1` and `0`).*\r\n\r\n```\r\n@Column(name = &quot;ENABLED_CHANNEL&quot;)\r\n@Type(type = &quot;org.hibernate.type.NumericBooleanType&quot;)\r\nprivate Boolean enabledChannel;\r\n```\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.4/javadocs/org/hibernate/type/NumericBooleanType.html","title":"JPAReposiry fetch all the object instead the one I want","body":"<p>Try to use <a href=\"https://docs.jboss.org/hibernate/orm/5.4/javadocs/org/hibernate/type/NumericBooleanType.html\" rel=\"nofollow noreferrer\">NumericBooleanType</a> which, according to the definition, <em>maps between <code>INTEGER</code> and <code>Boolean</code> (using <code>1</code> and <code>0</code>).</em></p>\n<pre><code>@Column(name = &quot;ENABLED_CHANNEL&quot;)\n@Type(type = &quot;org.hibernate.type.NumericBooleanType&quot;)\nprivate Boolean enabledChannel;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650458307,"creation_date":1650458307,"answer_id":71939787,"question_id":71938563,"body_markdown":"You can do this by modifying your repository method like this:\r\n```\r\n@Query(value = &quot;select a FROM Archive a join fetch a.channels c where a.identifier=:identifier and c.enabledChannel=1&quot;,\r\n            countQuery = &quot; select count(a) from Archive a left join a.channels where a.identifier=:identifier&quot;)\r\nPage&lt;Archive&gt; findChannelEnabled(@Param(&quot;identifier&quot;) String identifier, Pageable pageable);\r\n```","title":"JPAReposiry fetch all the object instead the one I want","body":"<p>You can do this by modifying your repository method like this:</p>\n<pre><code>@Query(value = &quot;select a FROM Archive a join fetch a.channels c where a.identifier=:identifier and c.enabledChannel=1&quot;,\n            countQuery = &quot; select count(a) from Archive a left join a.channels where a.identifier=:identifier&quot;)\nPage&lt;Archive&gt; findChannelEnabled(@Param(&quot;identifier&quot;) String identifier, Pageable pageable);\n</code></pre>\n"}],"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71939787,"answer_count":2,"score":1,"last_activity_date":1650458307,"creation_date":1650452844,"question_id":71938563,"body_markdown":"I need to get just where the channel is true (1)  from sql but when I do the same query on JPARepository it fetch all the rows from the many table\r\nmy query on sql is this: :\r\n\r\n    select * FROM tbl_archive A JOIN tbl_channel C ON(C.ARCHIVE_ID =A.ARCHIVE_ID)\r\n    WHERE a.identifier=&#39;NGLCRS97D12G866L&#39; AND c.ENABLED_CHANNEL=1\r\nand I get this result (I wanna this one):\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    when I try to do this on JPARepository:\r\n\r\n        @Query(value = &quot;select * FROM TBL_ARCHIVE A JOIN TBL_CHANNEL C ON(C.ARCHIVE_ID =A.ARCHIVE_ID) &quot; +\r\n                &quot;WHERE a.identifier= :identifier AND c.ENABLED_CHANNEL=1&quot;, nativeQuery = true)\r\n        Page&lt;Archive&gt; findChannelEnabled(@Param(&quot;identifier&quot;) String identifier, Pageable pageable);\r\n\r\nI get this in the json Result:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nbut I don&#39;t need where is false.\r\nI also tried this queries too but nothing changed, when fetch the result it will fetch all the channels (many) who has a relation with Archive (one)\r\n\r\n\r\n        \r\n        Page&lt;Archive&gt; findByIdentifierAndChannelsEnabledChannelTrue(String identifier, Pageable pageable);\r\n\r\nMy Models are these:\r\n\r\n    public class Archive {\r\n        @Id\r\n        @Column(name = &quot;ARCHIVE_ID&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Generated(GenerationTime.ALWAYS)\r\n        private Long archiveId;\r\n        @Column(name = &quot;IDENTIFIER&quot;)\r\n        private String identifier;\r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;archive&quot;)\r\n        @JsonManagedReference\r\n        private Set&lt;Channel&gt; channels;\r\n    }\r\n    public class Channel {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Generated(GenerationTime.ALWAYS)\r\n        private Long channelId;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;archive_id&quot;)\r\n        @JsonBackReference\r\n        private Archive archive;\r\n    \r\n        @Column(name = &quot;Channel_Name&quot;)\r\n        private String channelName;\r\n    \r\n        @Column(name = &quot;ENABLED_CHANNEL&quot;)\r\n        private Boolean enabledChannel;\r\n    }\r\nMy service:\r\n\r\n    public Page&lt;Archive&gt; getChannelEnabled(String identifier) {\r\n            return archiveRepo.findChannelEnabled(identifier, PageRequest.of(0, 10));\r\n        }\r\n\r\n  [1]: https://i.stack.imgur.com/0Q32i.png\r\n  [2]: https://i.stack.imgur.com/T1fhb.png\r\n\r\n","title":"JPAReposiry fetch all the object instead the one I want","body":"<p>I need to get just where the channel is true (1)  from sql but when I do the same query on JPARepository it fetch all the rows from the many table\nmy query on sql is this: :</p>\n<pre><code>select * FROM tbl_archive A JOIN tbl_channel C ON(C.ARCHIVE_ID =A.ARCHIVE_ID)\nWHERE a.identifier='NGLCRS97D12G866L' AND c.ENABLED_CHANNEL=1\n</code></pre>\n<p>and I get this result (I wanna this one):</p>\n<p><a href=\"https://i.stack.imgur.com/0Q32i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Q32i.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>when I try to do this on JPARepository:\n\n    @Query(value = &quot;select * FROM TBL_ARCHIVE A JOIN TBL_CHANNEL C ON(C.ARCHIVE_ID =A.ARCHIVE_ID) &quot; +\n            &quot;WHERE a.identifier= :identifier AND c.ENABLED_CHANNEL=1&quot;, nativeQuery = true)\n    Page&lt;Archive&gt; findChannelEnabled(@Param(&quot;identifier&quot;) String identifier, Pageable pageable);\n</code></pre>\n<p>I get this in the json Result:</p>\n<p><a href=\"https://i.stack.imgur.com/T1fhb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T1fhb.png\" alt=\"enter image description here\" /></a></p>\n<p>but I don't need where is false.\nI also tried this queries too but nothing changed, when fetch the result it will fetch all the channels (many) who has a relation with Archive (one)</p>\n<pre><code>    Page&lt;Archive&gt; findByIdentifierAndChannelsEnabledChannelTrue(String identifier, Pageable pageable);\n</code></pre>\n<p>My Models are these:</p>\n<pre><code>public class Archive {\n    @Id\n    @Column(name = &quot;ARCHIVE_ID&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Generated(GenerationTime.ALWAYS)\n    private Long archiveId;\n    @Column(name = &quot;IDENTIFIER&quot;)\n    private String identifier;\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;archive&quot;)\n    @JsonManagedReference\n    private Set&lt;Channel&gt; channels;\n}\npublic class Channel {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Generated(GenerationTime.ALWAYS)\n    private Long channelId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;archive_id&quot;)\n    @JsonBackReference\n    private Archive archive;\n\n    @Column(name = &quot;Channel_Name&quot;)\n    private String channelName;\n\n    @Column(name = &quot;ENABLED_CHANNEL&quot;)\n    private Boolean enabledChannel;\n}\n</code></pre>\n<p>My service:</p>\n<pre><code>public Page&lt;Archive&gt; getChannelEnabled(String identifier) {\n        return archiveRepo.findChannelEnabled(identifier, PageRequest.of(0, 10));\n    }\n</code></pre>\n"},{"tags":["java","java-8","client-server","nio","socketchannel"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650342411,"post_id":71917836,"comment_id":127085875,"body_markdown":"It isn&#39;t blocking. It is spinning on `read()` returning zero, either because there is nothing to read or there is no room in the buffer, which in turn is because you are never calling `compact()`. I wouldn&#39;t bother with non-blocking I/O in a client, but if you must use it, you must also use a Selector to tell you when to read. Merely spin-looping is not a correct way to write non-blocking code. Actually you are half-way to asynchronous mode, what with the `FutureTask`. I would either go the whole hog and use that, or else use blocking mode. This code needs major surgery, and it isn&#39;t worth it.","body":"It isn&#39;t blocking. It is spinning on <code>read()</code> returning zero, either because there is nothing to read or there is no room in the buffer, which in turn is because you are never calling <code>compact()</code>. I wouldn&#39;t bother with non-blocking I/O in a client, but if you must use it, you must also use a Selector to tell you when to read. Merely spin-looping is not a correct way to write non-blocking code. Actually you are half-way to asynchronous mode, what with the <code>FutureTask</code>. I would either go the whole hog and use that, or else use blocking mode. This code needs major surgery, and it isn&#39;t worth it."},{"owner":{"account_id":21273423,"reputation":3,"user_id":15652616,"display_name":"magladko"},"score":0,"creation_date":1650358190,"post_id":71917836,"comment_id":127089748,"body_markdown":"`FutureTask` is for Main thread, which I cannot modify and it needs to wait until client collects final answer from server. I know that for whatever reason bytes from Server are not delievered to client channel, but are sent correctly.\nI will look into implementing selector in the client. Thanks for the answer!","body":"<code>FutureTask</code> is for Main thread, which I cannot modify and it needs to wait until client collects final answer from server. I know that for whatever reason bytes from Server are not delievered to client channel, but are sent correctly. I will look into implementing selector in the client. Thanks for the answer!"},{"owner":{"account_id":21273423,"reputation":3,"user_id":15652616,"display_name":"magladko"},"score":0,"creation_date":1650360526,"post_id":71917836,"comment_id":127090659,"body_markdown":"Also using `compact()` throws \n`java.lang.IllegalArgumentException: newPosition &gt; limit: (2114 &gt; 66)`\nor\n`java.nio.BufferUnderflowException`","body":"Also using <code>compact()</code> throws  <code>java.lang.IllegalArgumentException: newPosition &gt; limit: (2114 &gt; 66)</code> or <code>java.nio.BufferUnderflowException</code>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650364205,"post_id":71917836,"comment_id":127092047,"body_markdown":"Using `compact()` how? You need to call it at the end of your read loop.","body":"Using <code>compact()</code> how? You need to call it at the end of your read loop."},{"owner":{"account_id":21273423,"reputation":3,"user_id":15652616,"display_name":"magladko"},"score":0,"creation_date":1650466747,"post_id":71917836,"comment_id":127124259,"body_markdown":"Even when I call it at the end some requests are lost somewhere and I get BufferUnderflow for whatever reason. But I guess this code is just fundamentally defective as mentioned earlier, so I cannot really say why would that happen.","body":"Even when I call it at the end some requests are lost somewhere and I get BufferUnderflow for whatever reason. But I guess this code is just fundamentally defective as mentioned earlier, so I cannot really say why would that happen."}],"owner":{"account_id":21273423,"reputation":3,"user_id":15652616,"display_name":"magladko"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650458303,"creation_date":1650322291,"question_id":71917836,"body_markdown":"I am trying to figure out NIO in Java doing some simple client-server project.\r\n\r\nThe case is I have to concurrent clients in cached thread pool executor, who are communicating with single-threaded server using non-blocking NIO channels.\r\n\r\nThe problem is that last client cannot receive last server&#39;s sent message. It locks in infinite loop waiting for upcoming data.\r\n\r\nClientTask class:\r\n```\r\npublic class ClientTask extends FutureTask&lt;String&gt; {\r\n\r\n    private Client client;\r\n    private List&lt;String&gt; reqList;   // requests list (without last and first)\r\n    private boolean showRes;        // print request results\r\n\r\n    public ClientTask(Client client, List&lt;String&gt; reqList, boolean showRes) {\r\n        super(() -&gt; ClientTask.getLogWhenArrives(client, reqList, showRes));\r\n        this.client = client;\r\n        this.reqList = reqList;\r\n        this.showRes = showRes;\r\n    }\r\n\r\n    public static ClientTask create(Client c, List&lt;String&gt; reqList, boolean showRes) {\r\n        return new ClientTask(c, reqList, showRes);\r\n    }\r\n\r\n    private static String getLogWhenArrives(Client client, List&lt;String&gt; reqList, boolean showRes) {\r\n        client.connect();\r\n        String response = client.send(&quot;login &quot; + client.getId());\r\n        if (showRes) System.out.println(response);\r\n\r\n        for (String req : reqList) {\r\n            response = client.send(req);\r\n            if (showRes) System.out.println(response);\r\n        }\r\n\r\n        String responseLog = client.send(&quot;bye and log transfer&quot;);\r\n\r\n        client.close();\r\n        return responseLog;\r\n    }\r\n}\r\n\r\n```\r\n\r\nClient send():\r\n```\r\n    public String send(String req) {\r\n        ByteBuffer reqBuffer = ByteBuffer.wrap((req + END).getBytes());\r\n        try {\r\n            channel.write(reqBuffer);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return receive();\r\n    }\r\n```\r\n\r\nClient receive()\r\n```\r\n public String receive() {\r\n        StringBuilder result = new StringBuilder();\r\n        try {\r\n            inBuff.clear();\r\n            readLoop:\r\n            while (true) { // THIS LOOP WON&#39;T END\r\n                int n = channel.read(inBuff);\r\n\r\n                if (n == -1) {\r\n                    break;\r\n                }\r\n                if (n &gt; 0) {\r\n                    inBuff.flip();\r\n                    CharBuffer cb = charset.decode(inBuff);\r\n\r\n                    while (cb.hasRemaining()) {\r\n                        char c = cb.get();\r\n                        if (c == END.charAt(0)) {\r\n                            break readLoop;\r\n                        }\r\n                        result.append(c);\r\n                    }\r\n                }\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return result.toString();\r\n    }\r\n```\r\n\r\nMain:\r\n```\r\npublic class Main {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    String fileName = System.getProperty(&quot;user.home&quot;) + &quot;/PassTimeServerOptions.yaml&quot;;\r\n    Options opts = Tools.createOptionsFromYaml(fileName);\r\n    String host = opts.getHost();\r\n    int port = opts.getPort();\r\n    boolean concur =  opts.isConcurMode();\r\n    boolean showRes = opts.isShowSendRes();\r\n    Map&lt;String, List&lt;String&gt;&gt; clRequests = opts.getClientsMap();\r\n    ExecutorService es = Executors.newCachedThreadPool();\r\n    List&lt;ClientTask&gt; ctasks = new ArrayList&lt;&gt;();\r\n    List&lt;String&gt; clogs = new ArrayList&lt;&gt;(); \r\n\r\n    Server s = new Server(host, port);\r\n    s.startServer();\r\n\r\n    // start clients\r\n    clRequests.forEach( (id, reqList) -&gt; {\r\n      Client c = new Client(host, port, id);\r\n      if (concur) {\r\n        ClientTask ctask = ClientTask.create(c, reqList, showRes);\r\n        ctasks.add(ctask);\r\n        es.execute(ctask);\r\n      }\r\n    });\r\n\r\n    if (concur) {\r\n      ctasks.forEach( task -&gt; {\r\n        try {\r\n          String log = task.get();\r\n          clogs.add(log);\r\n        } catch (InterruptedException | ExecutionException exc) {\r\n          System.out.println(exc);\r\n        }\r\n      });\r\n      clogs.forEach( System.out::println);\r\n      es.shutdown();\r\n    }\r\n    s.stopServer();\r\n    System.out.println(&quot;\\n=== Server log ===&quot;);\r\n    System.out.println(s.getServerLog());\r\n  }\r\n\r\n}\r\n\r\n```\r\n\r\nServer is sending all the info and channels are open and connected.\r\n","title":"Why does client not receive final server answer in non-blocking client-server app?","body":"<p>I am trying to figure out NIO in Java doing some simple client-server project.</p>\n<p>The case is I have to concurrent clients in cached thread pool executor, who are communicating with single-threaded server using non-blocking NIO channels.</p>\n<p>The problem is that last client cannot receive last server's sent message. It locks in infinite loop waiting for upcoming data.</p>\n<p>ClientTask class:</p>\n<pre><code>public class ClientTask extends FutureTask&lt;String&gt; {\n\n    private Client client;\n    private List&lt;String&gt; reqList;   // requests list (without last and first)\n    private boolean showRes;        // print request results\n\n    public ClientTask(Client client, List&lt;String&gt; reqList, boolean showRes) {\n        super(() -&gt; ClientTask.getLogWhenArrives(client, reqList, showRes));\n        this.client = client;\n        this.reqList = reqList;\n        this.showRes = showRes;\n    }\n\n    public static ClientTask create(Client c, List&lt;String&gt; reqList, boolean showRes) {\n        return new ClientTask(c, reqList, showRes);\n    }\n\n    private static String getLogWhenArrives(Client client, List&lt;String&gt; reqList, boolean showRes) {\n        client.connect();\n        String response = client.send(&quot;login &quot; + client.getId());\n        if (showRes) System.out.println(response);\n\n        for (String req : reqList) {\n            response = client.send(req);\n            if (showRes) System.out.println(response);\n        }\n\n        String responseLog = client.send(&quot;bye and log transfer&quot;);\n\n        client.close();\n        return responseLog;\n    }\n}\n\n</code></pre>\n<p>Client send():</p>\n<pre><code>    public String send(String req) {\n        ByteBuffer reqBuffer = ByteBuffer.wrap((req + END).getBytes());\n        try {\n            channel.write(reqBuffer);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return receive();\n    }\n</code></pre>\n<p>Client receive()</p>\n<pre><code> public String receive() {\n        StringBuilder result = new StringBuilder();\n        try {\n            inBuff.clear();\n            readLoop:\n            while (true) { // THIS LOOP WON'T END\n                int n = channel.read(inBuff);\n\n                if (n == -1) {\n                    break;\n                }\n                if (n &gt; 0) {\n                    inBuff.flip();\n                    CharBuffer cb = charset.decode(inBuff);\n\n                    while (cb.hasRemaining()) {\n                        char c = cb.get();\n                        if (c == END.charAt(0)) {\n                            break readLoop;\n                        }\n                        result.append(c);\n                    }\n                }\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return result.toString();\n    }\n</code></pre>\n<p>Main:</p>\n<pre><code>public class Main {\n\n  public static void main(String[] args) throws Exception {\n    String fileName = System.getProperty(&quot;user.home&quot;) + &quot;/PassTimeServerOptions.yaml&quot;;\n    Options opts = Tools.createOptionsFromYaml(fileName);\n    String host = opts.getHost();\n    int port = opts.getPort();\n    boolean concur =  opts.isConcurMode();\n    boolean showRes = opts.isShowSendRes();\n    Map&lt;String, List&lt;String&gt;&gt; clRequests = opts.getClientsMap();\n    ExecutorService es = Executors.newCachedThreadPool();\n    List&lt;ClientTask&gt; ctasks = new ArrayList&lt;&gt;();\n    List&lt;String&gt; clogs = new ArrayList&lt;&gt;(); \n\n    Server s = new Server(host, port);\n    s.startServer();\n\n    // start clients\n    clRequests.forEach( (id, reqList) -&gt; {\n      Client c = new Client(host, port, id);\n      if (concur) {\n        ClientTask ctask = ClientTask.create(c, reqList, showRes);\n        ctasks.add(ctask);\n        es.execute(ctask);\n      }\n    });\n\n    if (concur) {\n      ctasks.forEach( task -&gt; {\n        try {\n          String log = task.get();\n          clogs.add(log);\n        } catch (InterruptedException | ExecutionException exc) {\n          System.out.println(exc);\n        }\n      });\n      clogs.forEach( System.out::println);\n      es.shutdown();\n    }\n    s.stopServer();\n    System.out.println(&quot;\\n=== Server log ===&quot;);\n    System.out.println(s.getServerLog());\n  }\n\n}\n\n</code></pre>\n<p>Server is sending all the info and channels are open and connected.</p>\n"},{"tags":["java","date","printing","time","writer"],"answers":[{"tags":[],"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1340041323,"creation_date":1340041323,"answer_id":11088162,"question_id":11088132,"body_markdown":"The line `outFile = new PrintWriter(..)` should occur before first usage of outFile.\r\n\r\nBasically you are using outFile before its initialized.","title":"Adding The Date and Time to the File name","body":"<p>The line <code>outFile = new PrintWriter(..)</code> should occur before first usage of outFile.</p>\n\n<p>Basically you are using outFile before its initialized.</p>\n"},{"tags":[],"owner":{"account_id":268991,"reputation":1120,"user_id":558079,"accept_rate":83,"display_name":"plucury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340041473,"creation_date":1340041473,"answer_id":11088202,"question_id":11088132,"body_markdown":"    // display time and date using toString()\r\n    outFile.println(date.toString());\r\n\r\nWith the code, You use `outFile` before initialize it.","title":"Adding The Date and Time to the File name","body":"<pre><code>// display time and date using toString()\noutFile.println(date.toString());\n</code></pre>\n\n<p>With the code, You use <code>outFile</code> before initialize it.</p>\n"},{"tags":[],"owner":{"account_id":1577165,"reputation":1357,"user_id":1463320,"accept_rate":50,"display_name":"jvataman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439512073,"creation_date":1340041576,"answer_id":11088223,"question_id":11088132,"body_markdown":"Just save it in a variable. You should use the new Date(long) constructor, btw.\r\n\r\n    public class Simplex {\r\n\r\n        private static PrintWriter outFile;\r\n\r\n        //Main Method\r\n        public static void main(String[] args) throws IOException {\r\n\r\n\r\n\r\n            // Instantiate a Date object\r\n             Date date = new Date(System.currentTimeMillis());\r\n             String dateString = date.toString();\r\n\r\n\r\n            outFile = new PrintWriter(new FileWriter(&quot;simplex&quot; + dateString + &quot;.txt&quot;));\r\n\r\n\r\n             outFile.println(dateString);\r\n             outFile.println();\r\n            //creates the new file to be saved","title":"Adding The Date and Time to the File name","body":"<p>Just save it in a variable. You should use the new Date(long) constructor, btw.</p>\n\n<pre><code>public class Simplex {\n\n    private static PrintWriter outFile;\n\n    //Main Method\n    public static void main(String[] args) throws IOException {\n\n\n\n        // Instantiate a Date object\n         Date date = new Date(System.currentTimeMillis());\n         String dateString = date.toString();\n\n\n        outFile = new PrintWriter(new FileWriter(\"simplex\" + dateString + \".txt\"));\n\n\n         outFile.println(dateString);\n         outFile.println();\n        //creates the new file to be saved\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257239,"reputation":2899,"user_id":538514,"accept_rate":89,"display_name":"Viktor Stolbin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1340041966,"creation_date":1340041655,"answer_id":11088242,"question_id":11088132,"body_markdown":"I&#39;d suggest you to use `YYYY-MM-dd_hh-mm-ss` formatting pattern in file name that allows you to sort out files in a more convinient way. Take a look at `SimpleDateFormat` class.\r\n\r\n        ...\r\n        Format formatter = new SimpleDateFormat(&quot;YYYY-MM-dd_hh-mm-ss&quot;);\r\n        outFile = new PrintWriter(new FileWriter(&quot;simplex_&quot; + formatter.format(date) + &quot;.txt&quot;))\r\n        ...","title":"Adding The Date and Time to the File name","body":"<p>I'd suggest you to use <code>YYYY-MM-dd_hh-mm-ss</code> formatting pattern in file name that allows you to sort out files in a more convinient way. Take a look at <code>SimpleDateFormat</code> class.</p>\n\n<pre><code>    ...\n    Format formatter = new SimpleDateFormat(\"YYYY-MM-dd_hh-mm-ss\");\n    outFile = new PrintWriter(new FileWriter(\"simplex_\" + formatter.format(date) + \".txt\"))\n    ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340041656,"creation_date":1340041656,"answer_id":11088243,"question_id":11088132,"body_markdown":"Problem is that outFile is declared as a static, but never initialized until after you already used it.\r\n\r\nYou need to first initialize/instantiate outFile first before actually using it:\r\n\r\n     private static PrintWriter outFile;\r\n\r\n        //Main Method\r\n        public static void main(String[] args) throws IOException {\r\n\r\n            // Instantiate a Date object\r\n             Date date = new Date();\r\n\r\n            //creates the new file to be saved\r\n            outFile = new PrintWriter(new FileWriter(&quot;simplex&quot; + (date.toString()) + .txt&quot;));\r\n            // display time and date using toString()\r\n             outFile.println(date.toString());\r\n             outFile.println();\r\n\r\n\r\nAlthough I&#39;m not entirely sure why you are even creating outFile as a static object, and not just a local variable.","title":"Adding The Date and Time to the File name","body":"<p>Problem is that outFile is declared as a static, but never initialized until after you already used it.</p>\n\n<p>You need to first initialize/instantiate outFile first before actually using it:</p>\n\n<pre><code> private static PrintWriter outFile;\n\n    //Main Method\n    public static void main(String[] args) throws IOException {\n\n        // Instantiate a Date object\n         Date date = new Date();\n\n        //creates the new file to be saved\n        outFile = new PrintWriter(new FileWriter(\"simplex\" + (date.toString()) + .txt\"));\n        // display time and date using toString()\n         outFile.println(date.toString());\n         outFile.println();\n</code></pre>\n\n<p>Although I'm not entirely sure why you are even creating outFile as a static object, and not just a local variable.</p>\n"},{"tags":[],"owner":{"account_id":2987511,"reputation":3024,"user_id":5772982,"display_name":"Kumar Abhishek"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1460966234,"creation_date":1460966234,"answer_id":36688316,"question_id":11088132,"body_markdown":"If using java 8\r\n\r\n    DateTimeFormatter timeStampPattern = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;);\r\n    \t\tSystem.out.println(timeStampPattern.format(java.time.LocalDateTime.now()));","title":"Adding The Date and Time to the File name","body":"<p>If using java 8</p>\n\n<pre><code>DateTimeFormatter timeStampPattern = DateTimeFormatter.ofPattern(\"yyyyMMddHHmmss\");\n        System.out.println(timeStampPattern.format(java.time.LocalDateTime.now()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7680156,"reputation":11,"user_id":5819621,"display_name":"Akshay Prabhakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496656689,"creation_date":1496656689,"answer_id":44366335,"question_id":11088132,"body_markdown":"The below mentioned snippet can be used\r\n\r\n     String logFileName = new SimpleDateFormat(&quot;yyyyMMddHHmm&#39;.txt&#39;&quot;).format(new Date());\r\n\r\n     logFileName = &quot;loggerFile_&quot; + logFileName;","title":"Adding The Date and Time to the File name","body":"<p>The below mentioned snippet can be used</p>\n\n<pre><code> String logFileName = new SimpleDateFormat(\"yyyyMMddHHmm'.txt'\").format(new Date());\n\n logFileName = \"loggerFile_\" + logFileName;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11067636,"reputation":165,"user_id":8126924,"display_name":"Vamsi Jayavarapu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650458213,"creation_date":1650458213,"answer_id":71939764,"question_id":11088132,"body_markdown":"    LocalDateTime current = LocalDateTime.now();\r\n\tDateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;ddMMyyyyHHmmss&quot;);\r\n    String formatedDateTime = current.format(format);\r\n    outFile = new PrintWriter(new FileWriter(&quot;simplex&quot; + formatedDateTime  + &quot;.txt&quot;));\r\n","title":"Adding The Date and Time to the File name","body":"<pre><code>LocalDateTime current = LocalDateTime.now();\nDateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;ddMMyyyyHHmmss&quot;);\nString formatedDateTime = current.format(format);\noutFile = new PrintWriter(new FileWriter(&quot;simplex&quot; + formatedDateTime  + &quot;.txt&quot;));\n</code></pre>\n"}],"owner":{"account_id":1571527,"reputation":97,"user_id":1459127,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44048,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":8,"score":6,"last_activity_date":1650458213,"creation_date":1340041197,"question_id":11088132,"body_markdown":"Hello I am trying to add the date and time to a file name in JAVA. I can get the date and time printed within the file, which I also want done, but when I place the toString in the FileWriter I get a Null Pointer. \r\n\r\n    package com.mkyong;\r\n    import java.util.*;\r\n    import java.io.*;\r\n    import java.*;\r\n    import java.util.Date;\r\n    import java.text.DateFormat;\r\n    import java.text.SimpleDateFormat;\r\n \r\n\t\tpublic class Simplex {\r\n\r\n\t\t\tprivate static PrintWriter outFile;\r\n\t\t\t\r\n\t\t\t//Main Method\r\n\t\t\tpublic static void main(String[] args) throws IOException {\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\t// Instantiate a Date object\r\n\t             Date date = new Date();\r\n\t              \r\n\t             // display time and date using toString()\r\n\t             outFile.println(date.toString());\r\n\t             outFile.println();\r\n\t\t\t\t//creates the new file to be saved\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t            outFile = new PrintWriter(new FileWriter(&quot;simplex&quot; + (date.toString()) + &quot;.txt&quot;));","title":"Adding The Date and Time to the File name","body":"<p>Hello I am trying to add the date and time to a file name in JAVA. I can get the date and time printed within the file, which I also want done, but when I place the toString in the FileWriter I get a Null Pointer. </p>\n\n<pre><code>package com.mkyong;\nimport java.util.*;\nimport java.io.*;\nimport java.*;\nimport java.util.Date;\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\n\n    public class Simplex {\n\n        private static PrintWriter outFile;\n\n        //Main Method\n        public static void main(String[] args) throws IOException {\n\n\n\n            // Instantiate a Date object\n             Date date = new Date();\n\n             // display time and date using toString()\n             outFile.println(date.toString());\n             outFile.println();\n            //creates the new file to be saved\n\n\n            outFile = new PrintWriter(new FileWriter(\"simplex\" + (date.toString()) + \".txt\"));\n</code></pre>\n"},{"tags":["java","string","itext","coordinates"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1650141244,"post_id":71896016,"comment_id":127048103,"body_markdown":"What have you tried? What blocked you?","body":"What have you tried? What blocked you?"},{"owner":{"account_id":24963880,"reputation":11,"user_id":18827608,"display_name":"Ananda BCN"},"score":0,"creation_date":1650148926,"post_id":71896016,"comment_id":127049361,"body_markdown":"i try this code, but i don&#39;t know output","body":"i try this code, but i don&#39;t know output"},{"owner":{"account_id":24963880,"reputation":11,"user_id":18827608,"display_name":"Ananda BCN"},"score":0,"creation_date":1650148963,"post_id":71896016,"comment_id":127049367,"body_markdown":"i want output are string","body":"i want output are string"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1650174267,"post_id":71896016,"comment_id":127051949,"body_markdown":"On one hand you say you *want output are string*, on the other hand you want coordinates which are numbers. How so? Do you want a result string in which the PDF Text and coordinates are mangled?","body":"On one hand you say you <i>want output are string</i>, on the other hand you want coordinates which are numbers. How so? Do you want a result string in which the PDF Text and coordinates are mangled?"},{"owner":{"account_id":24963880,"reputation":11,"user_id":18827608,"display_name":"Ananda BCN"},"score":0,"creation_date":1650182066,"post_id":71896016,"comment_id":127053052,"body_markdown":"sorry, i mean..exampple : texabc (20,30)","body":"sorry, i mean..exampple : texabc (20,30)"}],"owner":{"account_id":24963880,"reputation":11,"user_id":18827608,"display_name":"Ananda BCN"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1650458190,"creation_date":1650130003,"question_id":71896016,"body_markdown":"How to get coordinate of string in my PDF page? In page are text paragraph. And I want to get coordinate line by line of text paragraph. And I want to get coordinate of the first char in text paragraph. I&#39;m using iText5.\r\n\r\n    public void extractText(String src, String dest) throws IOException\r\n    {\r\n    \tString hsl=&quot;&quot;;\r\n        PrintWriter out = new PrintWriter(new FileOutputStream(dest));\r\n        PdfReader reader = new PdfReader(src);\r\n        \r\n        RenderListener listener = new MyTextRenderListener();\r\n        \r\n    //      RenderListener listener = new MyTextRenderListener(out);\r\n        \r\n        PdfContentStreamProcessor processor = new PdfContentStreamProcessor(listener);\r\n        PdfDictionary pageDic = reader.getPageN(1);\r\n        PdfDictionary resourcesDic = pageDic.getAsDict(PdfName.RESOURCES);\r\n        processor.processContent(ContentByteUtils.getContentBytesForPage(reader, 1), resourcesDic);\r\n        \r\n        \r\n        \r\n        out.flush();\r\n        out.close();\r\n        \r\n    }\r\n\r\n    static class MyTextRenderListener implements RenderListener {\r\n\r\n        @Override\r\n        public void renderText(TextRenderInfo renderInfo) {\r\n    //        String text = renderInfo.getText(); // line with text\r\n            \r\n          LineSegment ascentLine = renderInfo.getAscentLine();\r\n          LineSegment descentLine = renderInfo.getDescentLine();\r\n          float llx = descentLine.getStartPoint().get(Vector.I1);\r\n          float lly = descentLine.getStartPoint().get(Vector.I2);\r\n          float urx = ascentLine.getEndPoint().get(Vector.I1);\r\n          float ury = ascentLine.getEndPoint().get(Vector.I2);\r\n          Rectangle rect = new Rectangle(llx, lly, urx, ury);\r\n          \r\n        }\r\n\r\n        @Override\r\n        public void beginTextBlock() { }\r\n\r\n        @Override\r\n        public void endTextBlock() { }\r\n\r\n        @Override\r\n        public void renderImage(ImageRenderInfo renderInfo) { }\r\n        \r\n    }\r\n\r\n    %&gt;\r\n\r\n    &lt;%\r\n\r\n    extractText(&quot;http://localhost/coba/pdf/janji0.pdf&quot;, &quot;XYString.pdf&quot;);\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/US9cw.jpg","title":"How to get coordinates of string in PDF with iText5","body":"<p>How to get coordinate of string in my PDF page? In page are text paragraph. And I want to get coordinate line by line of text paragraph. And I want to get coordinate of the first char in text paragraph. I'm using iText5.</p>\n<pre><code>public void extractText(String src, String dest) throws IOException\n{\n    String hsl=&quot;&quot;;\n    PrintWriter out = new PrintWriter(new FileOutputStream(dest));\n    PdfReader reader = new PdfReader(src);\n    \n    RenderListener listener = new MyTextRenderListener();\n    \n//      RenderListener listener = new MyTextRenderListener(out);\n    \n    PdfContentStreamProcessor processor = new PdfContentStreamProcessor(listener);\n    PdfDictionary pageDic = reader.getPageN(1);\n    PdfDictionary resourcesDic = pageDic.getAsDict(PdfName.RESOURCES);\n    processor.processContent(ContentByteUtils.getContentBytesForPage(reader, 1), resourcesDic);\n    \n    \n    \n    out.flush();\n    out.close();\n    \n}\n\nstatic class MyTextRenderListener implements RenderListener {\n\n    @Override\n    public void renderText(TextRenderInfo renderInfo) {\n//        String text = renderInfo.getText(); // line with text\n        \n      LineSegment ascentLine = renderInfo.getAscentLine();\n      LineSegment descentLine = renderInfo.getDescentLine();\n      float llx = descentLine.getStartPoint().get(Vector.I1);\n      float lly = descentLine.getStartPoint().get(Vector.I2);\n      float urx = ascentLine.getEndPoint().get(Vector.I1);\n      float ury = ascentLine.getEndPoint().get(Vector.I2);\n      Rectangle rect = new Rectangle(llx, lly, urx, ury);\n      \n    }\n\n    @Override\n    public void beginTextBlock() { }\n\n    @Override\n    public void endTextBlock() { }\n\n    @Override\n    public void renderImage(ImageRenderInfo renderInfo) { }\n    \n}\n\n%&gt;\n\n&lt;%\n\nextractText(&quot;http://localhost/coba/pdf/janji0.pdf&quot;, &quot;XYString.pdf&quot;);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/US9cw.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","android-layout","android-activity"],"comments":[{"owner":{"account_id":952475,"reputation":9796,"user_id":978346,"accept_rate":46,"display_name":"Ruzanna"},"score":0,"creation_date":1397634936,"post_id":22577654,"comment_id":35314441,"body_markdown":"Hi @SirKnigget, did you found any solution to this? I&#39;m stuck into this problem as well.","body":"Hi @SirKnigget, did you found any solution to this? I&#39;m stuck into this problem as well."},{"owner":{"account_id":325054,"reputation":3624,"user_id":646002,"accept_rate":42,"display_name":"SirKnigget"},"score":0,"creation_date":1399140486,"post_id":22577654,"comment_id":35941748,"body_markdown":"@Ruzanna No, I didn&#39;t find a solution","body":"@Ruzanna No, I didn&#39;t find a solution"}],"answers":[{"tags":[],"owner":{"account_id":3344411,"reputation":41,"user_id":2809845,"display_name":"user2809845"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1396633983,"creation_date":1396633983,"answer_id":22869739,"question_id":22577654,"body_markdown":"From the Google API:\r\nIt&#39;s good practice to include other system UI flags (such as SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION and SYSTEM_UI_FLAG_LAYOUT_STABLE) to keep the content from resizing when the system bars hide and show. \r\n\r\nYou should also make sure that the action bar and other UI controls are hidden at the same time. This snippet demonstrates how to hide and show the status and navigation bars, without resizing the content:\r\n\r\n    // This snippet hides the system bars.\r\n    private void hideSystemUI() {\r\n        // Set the IMMERSIVE flag.\r\n        // Set the content to appear under the system bars so that the content\r\n        // doesn&#39;t resize when the system bars hide and show.\r\n        mDecorView.setSystemUiVisibility(\r\n                View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION // hide nav bar\r\n                | View.SYSTEM_UI_FLAG_FULLSCREEN // hide status bar\r\n                | View.SYSTEM_UI_FLAG_IMMERSIVE);\r\n    }\r\n    \r\n    // This snippet shows the system bars. It does this by removing all the flags\r\n    // except for the ones that make the content appear under the system bars.\r\n    private void showSystemUI() {\r\n        mDecorView.setSystemUiVisibility(\r\n                View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN);\r\n    }\r\n\r\n\r\nHope this helps.","title":"When using Immersive Mode with dialogs, nav. bar reappears and resizes my layout","body":"<p>From the Google API:\nIt's good practice to include other system UI flags (such as SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION and SYSTEM_UI_FLAG_LAYOUT_STABLE) to keep the content from resizing when the system bars hide and show. </p>\n\n<p>You should also make sure that the action bar and other UI controls are hidden at the same time. This snippet demonstrates how to hide and show the status and navigation bars, without resizing the content:</p>\n\n<pre><code>// This snippet hides the system bars.\nprivate void hideSystemUI() {\n    // Set the IMMERSIVE flag.\n    // Set the content to appear under the system bars so that the content\n    // doesn't resize when the system bars hide and show.\n    mDecorView.setSystemUiVisibility(\n            View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n            | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n            | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n            | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION // hide nav bar\n            | View.SYSTEM_UI_FLAG_FULLSCREEN // hide status bar\n            | View.SYSTEM_UI_FLAG_IMMERSIVE);\n}\n\n// This snippet shows the system bars. It does this by removing all the flags\n// except for the ones that make the content appear under the system bars.\nprivate void showSystemUI() {\n    mDecorView.setSystemUiVisibility(\n            View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n            | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n            | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN);\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":9880027,"reputation":383,"user_id":7316430,"display_name":"khushbu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578918597,"creation_date":1578918597,"answer_id":59716721,"question_id":22577654,"body_markdown":"In Dialog or BottomSheetDialogFragment you have to implement this solution which is work for me.\r\n\r\nStep 1: \r\n\r\nIn your dialog or BottomSheetDialog, write this code in onActivityCreated method,\r\n\r\n   \r\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\r\n        super.onActivityCreated(savedInstanceState)\r\n        var viewParent = view\r\n        while (viewParent is View) {\r\n            viewParent.fitsSystemWindows = false\r\n            viewParent.setOnApplyWindowInsetsListener { _, insets -&gt; insets }\r\n            viewParent = viewParent.parent as View?\r\n        }\r\n    }\r\n\r\nStep 2: \r\nAlso, override the below method :\r\n\r\n      override fun setupDialog(dialog: Dialog, style: Int) {\r\n        super.setupDialog(dialog, style)\r\n        dialog?.window?.setFlags(WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE, WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE)\r\n\r\n    }\r\n\r\nNow see the magic :)\r\n","title":"When using Immersive Mode with dialogs, nav. bar reappears and resizes my layout","body":"<p>In Dialog or BottomSheetDialogFragment you have to implement this solution which is work for me.</p>\n\n<p>Step 1: </p>\n\n<p>In your dialog or BottomSheetDialog, write this code in onActivityCreated method,</p>\n\n<pre><code>override fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n    var viewParent = view\n    while (viewParent is View) {\n        viewParent.fitsSystemWindows = false\n        viewParent.setOnApplyWindowInsetsListener { _, insets -&gt; insets }\n        viewParent = viewParent.parent as View?\n    }\n}\n</code></pre>\n\n<p>Step 2: \nAlso, override the below method :</p>\n\n<pre><code>  override fun setupDialog(dialog: Dialog, style: Int) {\n    super.setupDialog(dialog, style)\n    dialog?.window?.setFlags(WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE, WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE)\n\n}\n</code></pre>\n\n<p>Now see the magic :)</p>\n"},{"tags":[],"owner":{"account_id":2494330,"reputation":3824,"user_id":2171161,"display_name":"l-l"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597531247,"creation_date":1597531247,"answer_id":63431431,"question_id":22577654,"body_markdown":"What worked for me was adding the following to the parent layout xml:\r\n\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n\r\n","title":"When using Immersive Mode with dialogs, nav. bar reappears and resizes my layout","body":"<p>What worked for me was adding the following to the parent layout xml:</p>\n<pre><code>android:fitsSystemWindows=&quot;true&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14096472,"reputation":882,"user_id":10183099,"display_name":"zeitgeist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650458096,"creation_date":1650458096,"answer_id":71939742,"question_id":22577654,"body_markdown":"I fixed this by setting my flags on `onWindowFocusChanged()` rather than `onResume()` as per https://developer.android.com/training/system-ui/navigation.\r\nThe problem is the full screen popup resets the SYSTEM_UI flags. Tested and works.\r\n\r\n```\r\n    @Override\r\n    public void onWindowFocusChanged(boolean hasFocus) {\r\n        super.onWindowFocusChanged(hasFocus);\r\n        // Before setting full screen flags, we must wait a bit to let UI settle; otherwise, we may\r\n        // be trying to set app to immersive mode before it&#39;s ready and the flags do not stick\r\n\r\n        long IMMERSIVE_FLAG_TIMEOUT = 500L;\r\n        int FLAGS_FULLSCREEN = (View.SYSTEM_UI_FLAG_LOW_PROFILE |\r\n                View.SYSTEM_UI_FLAG_FULLSCREEN |\r\n                View.SYSTEM_UI_FLAG_LAYOUT_STABLE |\r\n                View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY |\r\n                View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);\r\n\r\n        mFullView.postDelayed(() -&gt; mFrameLayout.setSystemUiVisibility(FLAGS_FULLSCREEN),\r\n                IMMERSIVE_FLAG_TIMEOUT);\r\n    }\r\n```\r\n\r\n\r\nI think you can also follow the new guidelines in https://developer.android.com/training/system-ui/immersive. I have not tested it though.\r\n\r\n```\r\nprivate fun hideSystemBars() {\r\n  val windowInsetsController =\r\n      ViewCompat.getWindowInsetsController(window.decorView) ?: return\r\n  // Configure the behavior of the hidden system bars\r\n  windowInsetsController.systemBarsBehavior =\r\n      WindowInsetsControllerCompat.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\r\n  // Hide both the status bar and the navigation bar\r\n  windowInsetsController.hide(WindowInsetsCompat.Type.systemBars())\r\n}\r\n```","title":"When using Immersive Mode with dialogs, nav. bar reappears and resizes my layout","body":"<p>I fixed this by setting my flags on <code>onWindowFocusChanged()</code> rather than <code>onResume()</code> as per <a href=\"https://developer.android.com/training/system-ui/navigation\" rel=\"nofollow noreferrer\">https://developer.android.com/training/system-ui/navigation</a>.\nThe problem is the full screen popup resets the SYSTEM_UI flags. Tested and works.</p>\n<pre><code>    @Override\n    public void onWindowFocusChanged(boolean hasFocus) {\n        super.onWindowFocusChanged(hasFocus);\n        // Before setting full screen flags, we must wait a bit to let UI settle; otherwise, we may\n        // be trying to set app to immersive mode before it's ready and the flags do not stick\n\n        long IMMERSIVE_FLAG_TIMEOUT = 500L;\n        int FLAGS_FULLSCREEN = (View.SYSTEM_UI_FLAG_LOW_PROFILE |\n                View.SYSTEM_UI_FLAG_FULLSCREEN |\n                View.SYSTEM_UI_FLAG_LAYOUT_STABLE |\n                View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY |\n                View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);\n\n        mFullView.postDelayed(() -&gt; mFrameLayout.setSystemUiVisibility(FLAGS_FULLSCREEN),\n                IMMERSIVE_FLAG_TIMEOUT);\n    }\n</code></pre>\n<p>I think you can also follow the new guidelines in <a href=\"https://developer.android.com/training/system-ui/immersive\" rel=\"nofollow noreferrer\">https://developer.android.com/training/system-ui/immersive</a>. I have not tested it though.</p>\n<pre><code>private fun hideSystemBars() {\n  val windowInsetsController =\n      ViewCompat.getWindowInsetsController(window.decorView) ?: return\n  // Configure the behavior of the hidden system bars\n  windowInsetsController.systemBarsBehavior =\n      WindowInsetsControllerCompat.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n  // Hide both the status bar and the navigation bar\n  windowInsetsController.hide(WindowInsetsCompat.Type.systemBars())\n}\n</code></pre>\n"}],"owner":{"account_id":325054,"reputation":3624,"user_id":646002,"accept_rate":42,"display_name":"SirKnigget"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7650,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1650458096,"creation_date":1395491659,"question_id":22577654,"body_markdown":"I&#39;m using Immersive Mode in my app when it&#39;s running on Android 4.4+. (http://developer.android.com/training/system-ui/immersive.html)\r\n\r\nMy activity indeed shows in full screen, and I work around the volume key pressing by using `setOnSystemUiVisibilityChangeListener`. I also have similar code for putting dialogs into immersive mode.\r\n\r\nHowever, when a dialog is shown, the nav. bars jump on the screen and then retreat immediately. When the dialog is dismissed it&#39;s even worse - the nav. bars jump and resize the activity behind.\r\n\r\nThe following is my class for supporting immersive mode. It is simply called on each Activity&#39;s onResume and also a separate function is called when building each dialog.\r\n\r\nDid I miss any flag or callback, or is it a known Android issue?\r\n\r\n    public class ImmersiveModeHelper {\r\n    \r\n    \tpublic ImmersiveModeHelper(Activity activity)\r\n    \t{\r\n    \t\tmActivity = activity;\r\n    \t}\r\n    \r\n    \t@SuppressLint(&quot;NewApi&quot;)\r\n    \tpublic void supportFullScreenImmersiveMode()\r\n    \t{\r\n    \t\tMyLog.d(&quot;ImmersiveModeHelper: supportFullScreenImmersiveMode: &quot;);\r\n    \r\n    \t\t// Support full-screen immersive mode on Android 4.4 and up\r\n    \t\tif (Build.VERSION.SDK_INT &gt;= 19)\r\n    \t\t{\r\n    \t\t\t// Get the needed flags by reflection and use them\r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tfinal int immersiveFlag = View.class.getField(&quot;SYSTEM_UI_FLAG_IMMERSIVE_STICKY&quot;)\r\n    \t\t\t\t\t\t.getInt(null);\r\n    \t\t\t\tfinal int hideNavigationFlag = View.class\r\n    \t\t\t\t\t\t.getField(&quot;SYSTEM_UI_FLAG_HIDE_NAVIGATION&quot;).getInt(null);\r\n    \t\t\t\tfinal int fullScreenFlag = View.class.getField(&quot;SYSTEM_UI_FLAG_FULLSCREEN&quot;).getInt(\r\n    \t\t\t\t\t\tnull);\r\n    \t\t\t\t\r\n    \r\n    \t\t\t\t// Set the flags to the window decor view\r\n    \t\t\t\tmActivity.getWindow().getDecorView()\r\n    \t\t\t\t\t\t.setSystemUiVisibility(immersiveFlag | hideNavigationFlag | fullScreenFlag);\r\n    \r\n    \t\t\t\t// Set a callback to be called when visibility changes\r\n    \t\t\t\t// (workaround\r\n    \t\t\t\t// for volume keys)\r\n    \t\t\t\tmActivity\r\n    \t\t\t\t\t\t.getWindow()\r\n    \t\t\t\t\t\t.getDecorView()\r\n    \t\t\t\t\t\t.setOnSystemUiVisibilityChangeListener(\r\n    \t\t\t\t\t\t\t\tnew View.OnSystemUiVisibilityChangeListener()\r\n    \t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\t\t\t\tpublic void onSystemUiVisibilityChange(int visibility)\r\n    \t\t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\t\tMyLog.d(&quot;ImmersiveModeHelper.supportFullScreenImmersiveMode().new OnSystemUiVisibilityChangeListener() {...}: onSystemUiVisibilityChange: &quot; +\r\n    \t\t\t\t\t\t\t\t\t\t\t\t&quot;&quot;);\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\t\tif ((visibility &amp; (immersiveFlag | hideNavigationFlag)) == 0)\r\n    \t\t\t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\t\t\tHandler uiHandler = UiThreadUtils.getUiHandler();\r\n    \t\t\t\t\t\t\t\t\t\t\tuiHandler.removeCallbacks(mHideSystemUiCallback);\r\n    \t\t\t\t\t\t\t\t\t\t\tuiHandler.postDelayed(mHideSystemUiCallback,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\tHIDE_SYSTEM_UI_DELAY_MILLI);\r\n    \t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t});\r\n    \r\n    \t\t\t} catch (Exception e)\r\n    \t\t\t{\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\tMyLog.e(&quot;ImmersiveModeHelper: supportFullScreenImmersiveMode: couldn&#39;t support immersive mode by reflection&quot;);\r\n    \t\t\t}\r\n    \t\t} else\r\n    \t\t{\r\n    \t\t\tMyLog.i(&quot;ImmersiveModeHelper: supportFullScreenImmersiveMode: not supported on this platform version&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void supportFullScreenImmersiveModeForDialog(final Dialog dlg)\r\n    \t{\r\n    \t\tMyLog.d(&quot;ImmersiveModeHelper: supportFullScreenImmersiveModeForDialog: &quot;);\r\n    \r\n    \t\t// Support full-screen immersive mode on Android 4.4 and up\r\n    \t\tif (Build.VERSION.SDK_INT &gt;= 19)\r\n    \t\t{\r\n    \t\t\tfinal Window dlgWindow = dlg.getWindow();\r\n    \r\n    \t\t\t// Get the needed flags by reflection and use them\r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tfinal int immersiveFlag = View.class.getField(&quot;SYSTEM_UI_FLAG_IMMERSIVE_STICKY&quot;)\r\n    \t\t\t\t\t\t.getInt(null);\r\n    \t\t\t\tfinal int hideNavigationFlag = View.class\r\n    \t\t\t\t\t\t.getField(&quot;SYSTEM_UI_FLAG_HIDE_NAVIGATION&quot;).getInt(null);\r\n    \t\t\t\tfinal int fullScreenFlag = View.class.getField(&quot;SYSTEM_UI_FLAG_FULLSCREEN&quot;).getInt(\r\n    \t\t\t\t\t\tnull);\r\n    \t\t\t\t\r\n    \r\n    \t\t\t\t// Set the flags to the window decor view\r\n    \t\t\t\tint flags = dlgWindow.getDecorView().getSystemUiVisibility();\r\n    \t\t\t\tflags |= (immersiveFlag | hideNavigationFlag | fullScreenFlag);\r\n    \t\t\t\tdlgWindow.getDecorView().setSystemUiVisibility(flags);\r\n    \r\n    \t\t\t\t// Set a callback to be called when visibility changes\r\n    \t\t\t\t// (workaround for volume keys)\r\n    \t\t\t\tdlgWindow.getDecorView().setOnSystemUiVisibilityChangeListener(\r\n    \t\t\t\t\t\tnew View.OnSystemUiVisibilityChangeListener()\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\t\tpublic void onSystemUiVisibilityChange(int visibility)\r\n    \t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\tMyLog.d(&quot;ImmersiveModeHelper.supportFullScreenImmersiveModeForDialog(...).new OnSystemUiVisibilityChangeListener() {...}: onSystemUiVisibilityChange: &quot;);\r\n    \t\t\t\t\t\t\t\tif ((visibility &amp; (immersiveFlag | hideNavigationFlag)) == 0)\r\n    \t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\tRunnable hideSystemUiCallback = new Runnable()\r\n    \t\t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\t\t\t\t\tpublic void run()\r\n    \t\t\t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\t\t\tsupportFullScreenImmersiveModeForDialog(dlg);\r\n    \t\t\t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\t};\r\n    \r\n    \t\t\t\t\t\t\t\t\tHandler uiHandler = UiThreadUtils.getUiHandler();\r\n    \t\t\t\t\t\t\t\t\tuiHandler.removeCallbacks(hideSystemUiCallback);\r\n    \t\t\t\t\t\t\t\t\tuiHandler.postDelayed(hideSystemUiCallback,\r\n    \t\t\t\t\t\t\t\t\t\t\tHIDE_SYSTEM_UI_DELAY_MILLI);\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t});\r\n    \r\n    \t\t\t} catch (Exception e)\r\n    \t\t\t{\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\tMyLog.e(&quot;ImmersiveModeHelper: supportFullScreenImmersiveMode: couldn&#39;t support immersive mode by reflection&quot;);\r\n    \t\t\t}\r\n    \t\t} else\r\n    \t\t{\r\n    \t\t\tMyLog.i(&quot;ImmersiveModeHelper: supportFullScreenImmersiveMode: not supported on this platform version&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate Activity mActivity;\r\n    \r\n    \tprivate Runnable mHideSystemUiCallback = new Runnable()\r\n    \t{\r\n    \t\t@Override\r\n    \t\tpublic void run()\r\n    \t\t{\r\n    \t\t\tsupportFullScreenImmersiveMode();\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tprivate static final int HIDE_SYSTEM_UI_DELAY_MILLI = 0;\r\n    \r\n    }","title":"When using Immersive Mode with dialogs, nav. bar reappears and resizes my layout","body":"<p>I'm using Immersive Mode in my app when it's running on Android 4.4+. (<a href=\"http://developer.android.com/training/system-ui/immersive.html\">http://developer.android.com/training/system-ui/immersive.html</a>)</p>\n\n<p>My activity indeed shows in full screen, and I work around the volume key pressing by using <code>setOnSystemUiVisibilityChangeListener</code>. I also have similar code for putting dialogs into immersive mode.</p>\n\n<p>However, when a dialog is shown, the nav. bars jump on the screen and then retreat immediately. When the dialog is dismissed it's even worse - the nav. bars jump and resize the activity behind.</p>\n\n<p>The following is my class for supporting immersive mode. It is simply called on each Activity's onResume and also a separate function is called when building each dialog.</p>\n\n<p>Did I miss any flag or callback, or is it a known Android issue?</p>\n\n<pre><code>public class ImmersiveModeHelper {\n\n    public ImmersiveModeHelper(Activity activity)\n    {\n        mActivity = activity;\n    }\n\n    @SuppressLint(\"NewApi\")\n    public void supportFullScreenImmersiveMode()\n    {\n        MyLog.d(\"ImmersiveModeHelper: supportFullScreenImmersiveMode: \");\n\n        // Support full-screen immersive mode on Android 4.4 and up\n        if (Build.VERSION.SDK_INT &gt;= 19)\n        {\n            // Get the needed flags by reflection and use them\n            try\n            {\n                final int immersiveFlag = View.class.getField(\"SYSTEM_UI_FLAG_IMMERSIVE_STICKY\")\n                        .getInt(null);\n                final int hideNavigationFlag = View.class\n                        .getField(\"SYSTEM_UI_FLAG_HIDE_NAVIGATION\").getInt(null);\n                final int fullScreenFlag = View.class.getField(\"SYSTEM_UI_FLAG_FULLSCREEN\").getInt(\n                        null);\n\n\n                // Set the flags to the window decor view\n                mActivity.getWindow().getDecorView()\n                        .setSystemUiVisibility(immersiveFlag | hideNavigationFlag | fullScreenFlag);\n\n                // Set a callback to be called when visibility changes\n                // (workaround\n                // for volume keys)\n                mActivity\n                        .getWindow()\n                        .getDecorView()\n                        .setOnSystemUiVisibilityChangeListener(\n                                new View.OnSystemUiVisibilityChangeListener()\n                                {\n                                    @Override\n                                    public void onSystemUiVisibilityChange(int visibility)\n                                    {\n                                        MyLog.d(\"ImmersiveModeHelper.supportFullScreenImmersiveMode().new OnSystemUiVisibilityChangeListener() {...}: onSystemUiVisibilityChange: \" +\n                                                \"\");\n\n                                        if ((visibility &amp; (immersiveFlag | hideNavigationFlag)) == 0)\n                                        {\n                                            Handler uiHandler = UiThreadUtils.getUiHandler();\n                                            uiHandler.removeCallbacks(mHideSystemUiCallback);\n                                            uiHandler.postDelayed(mHideSystemUiCallback,\n                                                    HIDE_SYSTEM_UI_DELAY_MILLI);\n                                        }\n                                    }\n                                });\n\n            } catch (Exception e)\n            {\n                e.printStackTrace();\n                MyLog.e(\"ImmersiveModeHelper: supportFullScreenImmersiveMode: couldn't support immersive mode by reflection\");\n            }\n        } else\n        {\n            MyLog.i(\"ImmersiveModeHelper: supportFullScreenImmersiveMode: not supported on this platform version\");\n        }\n    }\n\n    public static void supportFullScreenImmersiveModeForDialog(final Dialog dlg)\n    {\n        MyLog.d(\"ImmersiveModeHelper: supportFullScreenImmersiveModeForDialog: \");\n\n        // Support full-screen immersive mode on Android 4.4 and up\n        if (Build.VERSION.SDK_INT &gt;= 19)\n        {\n            final Window dlgWindow = dlg.getWindow();\n\n            // Get the needed flags by reflection and use them\n            try\n            {\n                final int immersiveFlag = View.class.getField(\"SYSTEM_UI_FLAG_IMMERSIVE_STICKY\")\n                        .getInt(null);\n                final int hideNavigationFlag = View.class\n                        .getField(\"SYSTEM_UI_FLAG_HIDE_NAVIGATION\").getInt(null);\n                final int fullScreenFlag = View.class.getField(\"SYSTEM_UI_FLAG_FULLSCREEN\").getInt(\n                        null);\n\n\n                // Set the flags to the window decor view\n                int flags = dlgWindow.getDecorView().getSystemUiVisibility();\n                flags |= (immersiveFlag | hideNavigationFlag | fullScreenFlag);\n                dlgWindow.getDecorView().setSystemUiVisibility(flags);\n\n                // Set a callback to be called when visibility changes\n                // (workaround for volume keys)\n                dlgWindow.getDecorView().setOnSystemUiVisibilityChangeListener(\n                        new View.OnSystemUiVisibilityChangeListener()\n                        {\n                            @Override\n                            public void onSystemUiVisibilityChange(int visibility)\n                            {\n                                MyLog.d(\"ImmersiveModeHelper.supportFullScreenImmersiveModeForDialog(...).new OnSystemUiVisibilityChangeListener() {...}: onSystemUiVisibilityChange: \");\n                                if ((visibility &amp; (immersiveFlag | hideNavigationFlag)) == 0)\n                                {\n                                    Runnable hideSystemUiCallback = new Runnable()\n                                    {\n                                        @Override\n                                        public void run()\n                                        {\n                                            supportFullScreenImmersiveModeForDialog(dlg);\n                                        }\n                                    };\n\n                                    Handler uiHandler = UiThreadUtils.getUiHandler();\n                                    uiHandler.removeCallbacks(hideSystemUiCallback);\n                                    uiHandler.postDelayed(hideSystemUiCallback,\n                                            HIDE_SYSTEM_UI_DELAY_MILLI);\n                                }\n                            }\n                        });\n\n            } catch (Exception e)\n            {\n                e.printStackTrace();\n                MyLog.e(\"ImmersiveModeHelper: supportFullScreenImmersiveMode: couldn't support immersive mode by reflection\");\n            }\n        } else\n        {\n            MyLog.i(\"ImmersiveModeHelper: supportFullScreenImmersiveMode: not supported on this platform version\");\n        }\n    }\n\n    private Activity mActivity;\n\n    private Runnable mHideSystemUiCallback = new Runnable()\n    {\n        @Override\n        public void run()\n        {\n            supportFullScreenImmersiveMode();\n        }\n    };\n\n    private static final int HIDE_SYSTEM_UI_DELAY_MILLI = 0;\n\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver","selenium-ide"],"comments":[{"owner":{"display_name":"user9415852"},"score":0,"creation_date":1571753760,"post_id":58505362,"comment_id":103340756,"body_markdown":"Adding  driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);  before locators resolve problem","body":"Adding  driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);  before locators resolve problem"}],"answers":[{"tags":[],"owner":{"account_id":3849926,"reputation":16794,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650457849,"creation_date":1571751696,"answer_id":58505669,"question_id":58505362,"body_markdown":"Use same selenium version for selenium-java, selenium-server etc.\r\nIt will help you to prevent from any unexpected error\r\n\r\nChange below dependencies to the latest version as per today it is `4.1.3`. You can find the latest versions in this URL:\r\n\r\nhttps://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nAnother thing you are getting error as below:\r\n\r\n&gt; no such element: Unable to locate element: {&quot;method&quot;:&quot;css\r\n&gt; selector&quot;,&quot;selector&quot;:&quot;.ion-navicon&quot;}   (Session info:\r\n&gt; chrome=76.0.3809.132)\r\n\r\nThat means your locator is not correct or it is not ready. check your locator and add wait also before the element to locate","title":"Selenium test Java maven dependencies","body":"<p>Use same selenium version for selenium-java, selenium-server etc.\nIt will help you to prevent from any unexpected error</p>\n<p>Change below dependencies to the latest version as per today it is <code>4.1.3</code>. You can find the latest versions in this URL:</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java</a></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;4.1.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Another thing you are getting error as below:</p>\n<blockquote>\n<p>no such element: Unable to locate element: {&quot;method&quot;:&quot;css\nselector&quot;,&quot;selector&quot;:&quot;.ion-navicon&quot;}   (Session info:\nchrome=76.0.3809.132)</p>\n</blockquote>\n<p>That means your locator is not correct or it is not ready. check your locator and add wait also before the element to locate</p>\n"}],"owner":{"display_name":"user9415852"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58505669,"answer_count":1,"score":1,"last_activity_date":1650457849,"creation_date":1571750675,"question_id":58505362,"body_markdown":"I created tests on selenium ide. I want to run java files on intellij idea. I prepared pom.xml like that but I have problem with running tests.\r\n\r\n    dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\r\n            &lt;version&gt;3.141.59&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;2.33.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;3.141.59&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;3.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nWhen I run it, tests are failed\r\n\r\n    Starting ChromeDriver 2.41.578700 (2f1ed5f9343c13f73144538f15c00b370eda6706) on port 28288\r\n    Only local connections are allowed.\r\n    paź 22, 2019 3:17:24 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected dialect: OSS\r\n\r\n    org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;.ion-navicon&quot;}\r\n      (Session info: chrome=76.0.3809.132)\r\n      (Driver info: chromedriver=2.41.578700 (2f1ed5f9343c13f73144538f15c00b370eda6706),platform=Linux 4.15.0-65-generic x86_64) (WARNING: The server did not provide any stacktrace information)\r\n    Command duration or timeout: 0 milliseconds\r\n    For documentation on this error, please visit: https://www.seleniumhq.org/exceptions/no_such_element.html\r\n\r\nWhat should I do to run it on Intellij Idea?\r\n","title":"Selenium test Java maven dependencies","body":"<p>I created tests on selenium ide. I want to run java files on intellij idea. I prepared pom.xml like that but I have problem with running tests.</p>\n\n<pre><code>dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\n        &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\n        &lt;version&gt;2.33.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n        &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n        &lt;version&gt;3.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>When I run it, tests are failed</p>\n\n<pre><code>Starting ChromeDriver 2.41.578700 (2f1ed5f9343c13f73144538f15c00b370eda6706) on port 28288\nOnly local connections are allowed.\npaź 22, 2019 3:17:24 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: OSS\n\norg.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\".ion-navicon\"}\n  (Session info: chrome=76.0.3809.132)\n  (Driver info: chromedriver=2.41.578700 (2f1ed5f9343c13f73144538f15c00b370eda6706),platform=Linux 4.15.0-65-generic x86_64) (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 0 milliseconds\nFor documentation on this error, please visit: https://www.seleniumhq.org/exceptions/no_such_element.html\n</code></pre>\n\n<p>What should I do to run it on Intellij Idea?</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":18824736,"reputation":241,"user_id":13729933,"display_name":"Zabon"},"score":1,"creation_date":1650449124,"post_id":71936146,"comment_id":127116809,"body_markdown":"&quot;I want compare the value where it lies in between and return key of that value.&quot; =&gt; I don&#39;t get the point with your example: &quot;if number is (value) 90 i want to return (key) 3&quot;\n90 lies in between 87.535000 and... ?","body":"&quot;I want compare the value where it lies in between and return key of that value.&quot; =&gt; I don&#39;t get the point with your example: &quot;if number is (value) 90 i want to return (key) 3&quot; 90 lies in between 87.535000 and... ?"}],"answers":[{"tags":[],"owner":{"account_id":15957145,"reputation":103,"user_id":11515080,"display_name":"mlogario"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650448961,"creation_date":1650448961,"answer_id":71937712,"question_id":71936146,"body_markdown":"You might want to make sure your map is a [NavigableMap](https://docs.oracle.com/javase/7/docs/api/java/util/NavigableMap.html) and  check which ones of `ceilingEntry`, `floorEntry`, `higherEntry` and `lowerEntry` is the most suited for your need","title":"algorithm to compare the number in the map value and return key","body":"<p>You might want to make sure your map is a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/NavigableMap.html\" rel=\"nofollow noreferrer\">NavigableMap</a> and  check which ones of <code>ceilingEntry</code>, <code>floorEntry</code>, <code>higherEntry</code> and <code>lowerEntry</code> is the most suited for your need</p>\n"}],"owner":{"account_id":18830787,"reputation":1,"user_id":18875924,"display_name":"Priyesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650457573,"creation_date":1650441888,"question_id":71936146,"body_markdown":"I have a map map&lt;integer,float&gt; grades = new map&lt;integer,float&gt;()\r\nThis map contains the key and value. like this\r\n\r\n{1=140.035000, 2=119.035000, 3=87.535000, 4=79.485000, 5=77.385000, 6=52.535000, 7=0.0000}\r\n\r\nI need a logic like this. based on input I want compare the value where it lies in between and return key of that map.\r\n\r\nexample : if input is 90. i want check where the number lies and return (key) 3 and if number is 79.485 i want to return 4 as a answer so on. I need to compare between the two values of map and return the lowest key of the map if the input number lies between them.\r\n\r\n\r\n\r\n[Map table][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fpehQ.jpg","title":"algorithm to compare the number in the map value and return key","body":"<p>I have a map map&lt;integer,float&gt; grades = new map&lt;integer,float&gt;()\nThis map contains the key and value. like this</p>\n<p>{1=140.035000, 2=119.035000, 3=87.535000, 4=79.485000, 5=77.385000, 6=52.535000, 7=0.0000}</p>\n<p>I need a logic like this. based on input I want compare the value where it lies in between and return key of that map.</p>\n<p>example : if input is 90. i want check where the number lies and return (key) 3 and if number is 79.485 i want to return 4 as a answer so on. I need to compare between the two values of map and return the lowest key of the map if the input number lies between them.</p>\n<p><a href=\"https://i.stack.imgur.com/fpehQ.jpg\" rel=\"nofollow noreferrer\">Map table</a></p>\n"},{"tags":["java","quarkus","mutiny","quarkus-rest-client"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1650515106,"post_id":71939480,"comment_id":127136741,"body_markdown":"Which extension are you using?","body":"Which extension are you using?"},{"owner":{"account_id":22314631,"reputation":11,"user_id":16538156,"display_name":"xem"},"score":0,"creation_date":1650534302,"post_id":71939480,"comment_id":127142650,"body_markdown":"quarkus-rest-client-reactive-jackson, not tied to it if there&#39;s a better option?","body":"quarkus-rest-client-reactive-jackson, not tied to it if there&#39;s a better option?"}],"owner":{"account_id":22314631,"reputation":11,"user_id":16538156,"display_name":"xem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":982,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650456863,"creation_date":1650456863,"question_id":71939480,"body_markdown":"Is it possible to read a response stream using the microprofile rest client? \r\n\r\nI&#39;m attempting to call an api that returns a stream and then parse the stream and emit each item as a Mutiny Multi.\r\n\r\nThe rest client\r\n```\r\nimport org.eclipse.microprofile.rest.client.inject.RegisterRestClient;\r\nimport javax.ws.rs.*;\r\nimport javax.rs.core.Response;\r\nimport javax.rs.core.MediaType;\r\n\r\n@RegisterRestClient\r\npublic interface MyRemoteService {\r\n\r\n  @GET\r\n  @Path(&quot;/all&quot;\r\n  @Produces(MediaType.APPLICATION_JSON)\r\n  Response getAllStream()\r\n}\r\n```\r\n\r\nAnd the thing that calls it:\r\n```\r\npublic Multi&lt;MyObject&gt; getAll() {\r\n  return Multi.createFrom().emitter(em -&gt; {\r\n    Response response = myRemoteService.getAllStream();\r\n    InputStream stream = response.readEntity(InputStream.class);\r\n    ...\r\n    // Some logic to parse json into objects\r\n    ...\r\n    em.emit(parsedObject)\r\n    ...\r\n    em.complete()\r\n  }\r\n}\r\n\r\n```\r\n\r\nThis just calls the endpoint and waits for the full response before then parsing it into individual objects. I can just change the rest client to return a list of objects and I get the same behaviour. Is it possible to get each item as it&#39;s streamed rather than just waiting?\r\n","title":"Stream http response using Microprofile rest client with Quarkus","body":"<p>Is it possible to read a response stream using the microprofile rest client?</p>\n<p>I'm attempting to call an api that returns a stream and then parse the stream and emit each item as a Mutiny Multi.</p>\n<p>The rest client</p>\n<pre><code>import org.eclipse.microprofile.rest.client.inject.RegisterRestClient;\nimport javax.ws.rs.*;\nimport javax.rs.core.Response;\nimport javax.rs.core.MediaType;\n\n@RegisterRestClient\npublic interface MyRemoteService {\n\n  @GET\n  @Path(&quot;/all&quot;\n  @Produces(MediaType.APPLICATION_JSON)\n  Response getAllStream()\n}\n</code></pre>\n<p>And the thing that calls it:</p>\n<pre><code>public Multi&lt;MyObject&gt; getAll() {\n  return Multi.createFrom().emitter(em -&gt; {\n    Response response = myRemoteService.getAllStream();\n    InputStream stream = response.readEntity(InputStream.class);\n    ...\n    // Some logic to parse json into objects\n    ...\n    em.emit(parsedObject)\n    ...\n    em.complete()\n  }\n}\n\n</code></pre>\n<p>This just calls the endpoint and waits for the full response before then parsing it into individual objects. I can just change the rest client to return a list of objects and I get the same behaviour. Is it possible to get each item as it's streamed rather than just waiting?</p>\n"},{"tags":["python","java","encryption","rsa","jwe"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1650396221,"post_id":71928580,"comment_id":127104129,"body_markdown":"I can&#39; t reproduce this. Encrypted tokens that can be decrypted with the Java code (which, by the way, does not encrypt) can also be decrypted with the Python code. I guess it&#39;s your data. Please post complete test data: Private and public test key and encrypted token.","body":"I can&#39; t reproduce this. Encrypted tokens that can be decrypted with the Java code (which, by the way, does not encrypt) can also be decrypted with the Python code. I guess it&#39;s your data. Please post complete test data: Private and public test key and encrypted token."},{"owner":{"account_id":20979436,"reputation":325,"user_id":15414616,"display_name":"Ema Il"},"score":0,"creation_date":1650451222,"post_id":71928580,"comment_id":127117587,"body_markdown":"@Topaco I added what you requested","body":"@Topaco I added what you requested"}],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650456798,"creation_date":1650456798,"answer_id":71939454,"question_id":71928580,"body_markdown":"The posted encrypted token can be decrypted with the posted RSA key and the Python library JWCrypto. Maybe it doesn&#39;t work for you because of a key import bug. \r\n\r\nThe posted RSA key is a DER encoded PKCS#8 key (Base64 encoded). JWCrypto does not support this encoding *directly*, but only the PEM encoding, which is not too bad, because the conversion from DER to PEM is trivial: The Base64 string must be formatted (line break after every 64 characters) and the header (`-----BEGIN PRIVATE KEY-----`) and footer (`-----END PRIVATE KEY-----`) must be added each in a separate line. \r\n\r\nAlternatively, the key can be converted to a JWK and imported in this format.\r\n\r\nThe following Python code shows these two variants based on the posted data. For this the JWK was derived with online tools from the posted PKCS#8 key:\r\n\r\n```py\r\npkcs8pem = b&#39;&#39;&#39;-----BEGIN PRIVATE KEY-----\r\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQChyho54VxOGYDx\r\nrN2pjM8/pA94kcqlMNZ0NSIoSHhasAm72X66XN9GI2IapQETy7+gNBKBWszWn4Js\r\nNuAbLLNp5zeTlmzHp09ee4L+g8s/NIKMwA5Mgx9wGu2Hi0foh0pErAMKQV6CLBJU\r\nfB5JUu9PX2MED7Z2XGG0RYClSMEO8L7iHXm1ooCr83rU/U5xXwpuTrp4L9nYD9eB\r\n6EptCgOWEi98lq5oeQXNyWfti3/gckathUi8WINlI+5/fPv7ZWd9Z60VXAVfb5u8\r\n61/erIhEIJRkqbDXc/ULAQsAeEKVYzHpStM9In30mQdp6EdY48imZiHj1GNgPvY+\r\nMD3wPmdTAgMBAAECggEAE3IcJtrMYmK0WdfiKI/RFSAd7+ruBV7SV9NPELJtLNE9\r\nykNA9RtWhrKYBwXQFFYH6TR5CO0l86HmZiVOWFXOFquAxY9t8a1NX9jOjNLAag9g\r\npZQr48xayfmilQkLkoo4Rfq6vs/OkSzE4zyr0zpRoyOe3g0ZbC58W9OCu9r7wVTD\r\nV+KKE8ChU39Ae8HLfMEQXWSIUqxbrpw+mLeFX1qh5ILNBDA9M6vD+JuoiuIZltW4\r\ndjnlU4hxYPVwTyuPBCQ3AwJsRGcddfxWTI+kIm2/6k8HzhdpB1ajBrZX/XVeXAp7\r\nVlvyHzBZ5ri1NDpr/Cyh6o2ysdB8qGCnlDcsNHLl+QKBgQDTORonO1FrIAo2VnsQ\r\nS0Lq6EdxRzzP9q9mHttJNJK5eEXP7sNSdTDrudk4tpr3zvXtK4b+4SiCDriA5VTJ\r\nHhdGF3wwqhR76XT3gLoXZLGYlx+4RvMbuIFDGkUee+39T2//MztEZgt3TM3LcBFE\r\njTRV8gzpFJsj8wea3E4B8lOEZQKBgQDEFkfdgIBNu/3wH+z2uq40kYlkMRb4wQq8\r\nCjmwXYxGu1WR3SYn2zNQTsZR6BtiHFzx/37W279dO87u9rAbNuY5V9VYQKjxZD2l\r\nidYQ/0w07kO1PhNuISLpqn2AbiLczlLluX8dHpLpb5UG+JWlqih5VBCDFktmVUlM\r\nVteHPa21VwKBgCkpEHqiqYwJk1PhaFvVfrXOC9X8PtJ7zNRGoQ7T6t+vm1MYwQE5\r\niw30imrt0qcFspDEEatrbvxhJ/0eM3Z5oalr/CxziEhZRwzQDfNvENieYnUDhm5Z\r\ndv7/iIaXOdpJ95YwgpUimYtm8Rd6wDKunYs9/twQwuavfkTkN2NTuIitAoGBAJu0\r\nNYylpTwUsyghscCZrAsCJd7xPBR69VMrq3NoVSM1TlVtDgdIAA8c/k27yUK20vc2\r\nsjladTJLc549NMnnZhjSrg5OCdjkiC8SrHECyDifmhQpHrSsi1SQlOeOjRBYpWrV\r\nSSKOTIogmG3YprvNyiXNou70nRq9Tl7X9nzldTIxAoGBAJ3qo/epO7xAs6Vhp+8n\r\na0Tv93Ji2kCvA14iOE+P08saldspB4NEVitGahuvrTx8CKDyL1PDH5X1MTabvI/L\r\nYw6k/gnzOhSX3MTP3qMepNEq1A5chvMJHhMS72/tAPKIXux+AgDkSvq8+G02DFWD\r\npF9bcBoINL/89wOUcEfOQty0\r\n-----END PRIVATE KEY-----&#39;&#39;&#39;\r\n\r\njwkey = {&quot;p&quot;:&quot;0zkaJztRayAKNlZ7EEtC6uhHcUc8z_avZh7bSTSSuXhFz-7DUnUw67nZOLaa98717SuG_uEogg64gOVUyR4XRhd8MKoUe-l094C6F2SxmJcfuEbzG7iBQxpFHnvt_U9v_zM7RGYLd0zNy3ARRI00VfIM6RSbI_MHmtxOAfJThGU&quot;,&quot;kty&quot;:&quot;RSA&quot;,&quot;q&quot;:&quot;xBZH3YCATbv98B_s9rquNJGJZDEW-MEKvAo5sF2MRrtVkd0mJ9szUE7GUegbYhxc8f9-1tu_XTvO7vawGzbmOVfVWECo8WQ9pYnWEP9MNO5DtT4TbiEi6ap9gG4i3M5S5bl_HR6S6W-VBviVpaooeVQQgxZLZlVJTFbXhz2ttVc&quot;,&quot;d&quot;:&quot;E3IcJtrMYmK0WdfiKI_RFSAd7-ruBV7SV9NPELJtLNE9ykNA9RtWhrKYBwXQFFYH6TR5CO0l86HmZiVOWFXOFquAxY9t8a1NX9jOjNLAag9gpZQr48xayfmilQkLkoo4Rfq6vs_OkSzE4zyr0zpRoyOe3g0ZbC58W9OCu9r7wVTDV-KKE8ChU39Ae8HLfMEQXWSIUqxbrpw-mLeFX1qh5ILNBDA9M6vD-JuoiuIZltW4djnlU4hxYPVwTyuPBCQ3AwJsRGcddfxWTI-kIm2_6k8HzhdpB1ajBrZX_XVeXAp7VlvyHzBZ5ri1NDpr_Cyh6o2ysdB8qGCnlDcsNHLl-Q&quot;,&quot;e&quot;:&quot;AQAB&quot;,&quot;kid&quot;:&quot;79635991-092f-4576-a23a-4cbab618e8a8&quot;,&quot;qi&quot;:&quot;neqj96k7vECzpWGn7ydrRO_3cmLaQK8DXiI4T4_TyxqV2ykHg0RWK0ZqG6-tPHwIoPIvU8MflfUxNpu8j8tjDqT-CfM6FJfcxM_eox6k0SrUDlyG8wkeExLvb-0A8ohe7H4CAORK-rz4bTYMVYOkX1twGgg0v_z3A5RwR85C3LQ&quot;,&quot;dp&quot;:&quot;KSkQeqKpjAmTU-FoW9V-tc4L1fw-0nvM1EahDtPq36-bUxjBATmLDfSKau3SpwWykMQRq2tu_GEn_R4zdnmhqWv8LHOISFlHDNAN828Q2J5idQOGbll2_v-Ihpc52kn3ljCClSKZi2bxF3rAMq6diz3-3BDC5q9-ROQ3Y1O4iK0&quot;,&quot;dq&quot;:&quot;m7Q1jKWlPBSzKCGxwJmsCwIl3vE8FHr1Uyurc2hVIzVOVW0OB0gADxz-TbvJQrbS9zayOVp1Mktznj00yedmGNKuDk4J2OSILxKscQLIOJ-aFCketKyLVJCU546NEFilatVJIo5MiiCYbdimu83KJc2i7vSdGr1OXtf2fOV1MjE&quot;,&quot;n&quot;:&quot;ocoaOeFcThmA8azdqYzPP6QPeJHKpTDWdDUiKEh4WrAJu9l-ulzfRiNiGqUBE8u_oDQSgVrM1p-CbDbgGyyzaec3k5Zsx6dPXnuC_oPLPzSCjMAOTIMfcBrth4tH6IdKRKwDCkFegiwSVHweSVLvT19jBA-2dlxhtEWApUjBDvC-4h15taKAq_N61P1OcV8Kbk66eC_Z2A_XgehKbQoDlhIvfJauaHkFzcln7Yt_4HJGrYVIvFiDZSPuf3z7-2VnfWetFVwFX2-bvOtf3qyIRCCUZKmw13P1CwELAHhClWMx6UrTPSJ99JkHaehHWOPIpmYh49RjYD72PjA98D5nUw&quot;}\r\n\r\nenc = &#39;eyJhbGciOiJSU0EtT0FFUC0yNTYiLCJlbmMiOiJBMjU2R0NNIiwia2lkIjoiYjFhOWVmNzAtYjQ4Yy00YzdiLWI0ZTQtODU2YzQyNGIyYzZlIn0.XzLgQTzESD7mg-DtiwFaOQQIfJjQOox5Efbq3Cn8n4H0OZUNvNFWuLr2gPH4WqhWZFYvYh6Mx3--bKiYA_kGplPaJUdPfuYx3OgOug9fuYMrZesE-9stJFd4TnQOJcrTfehJkI_QKPqfWgbEgh1Zn8r7DuIBbABmNK4OHa0edwUA0Lu4mUxzRW6UPaNdWtfEGL9ZVR4lzUx6QX6nweKdbi8tkDnQrSNcQ4eZKIn8mVl5rL3s-qa2VC1Zvo4R-eA4jTKs6WQrkPChJkfoECcYcLx7SIHdxP6VB9DAhW-TwRizr5OZUVLLLH3UEOF77Rtc6MLL4Al5mo29sE-E1faywQ.R1QE-zY29Ed7yfqX.-soXsfltkJL0AXk_q5tPn9hagCBG_1c03VKdh2A.-oteTYv0SHzE4yBmZlterg&#39;\r\n\r\nfrom jwcrypto import jwk, jwe\r\n\r\n# Import of a PEM encoded PKCS#8 key\r\nprivate_key = jwk.JWK.from_pem(pkcs8pem)\r\njwetoken = jwe.JWE()\r\njwetoken.deserialize(enc, key=private_key)\r\npayload = jwetoken.payload\r\nprint(payload.decode(&#39;utf-8&#39;))\r\n\r\n# Import of a JWK\r\nprivate_key = jwk.JWK(**jwkey)\r\njwetoken = jwe.JWE()\r\njwetoken.deserialize(enc, key=private_key)\r\npayload = jwetoken.payload\r\nprint(payload.decode(&#39;utf-8&#39;))\r\n```\r\n\r\nwith the output:\r\n\r\n```none\r\n{&quot;value&quot;:&quot;Object Encryption&quot;}\r\n{&quot;value&quot;:&quot;Object Encryption&quot;}\r\n```\r\n","title":"Decrypting and encrypting java JWEObject with algorithm RSA-OAEP-256 on python","body":"<p>The posted encrypted token can be decrypted with the posted RSA key and the Python library JWCrypto. Maybe it doesn't work for you because of a key import bug.</p>\n<p>The posted RSA key is a DER encoded PKCS#8 key (Base64 encoded). JWCrypto does not support this encoding <em>directly</em>, but only the PEM encoding, which is not too bad, because the conversion from DER to PEM is trivial: The Base64 string must be formatted (line break after every 64 characters) and the header (<code>-----BEGIN PRIVATE KEY-----</code>) and footer (<code>-----END PRIVATE KEY-----</code>) must be added each in a separate line.</p>\n<p>Alternatively, the key can be converted to a JWK and imported in this format.</p>\n<p>The following Python code shows these two variants based on the posted data. For this the JWK was derived with online tools from the posted PKCS#8 key:</p>\n<pre class=\"lang-py prettyprint-override\"><code>pkcs8pem = b'''-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQChyho54VxOGYDx\nrN2pjM8/pA94kcqlMNZ0NSIoSHhasAm72X66XN9GI2IapQETy7+gNBKBWszWn4Js\nNuAbLLNp5zeTlmzHp09ee4L+g8s/NIKMwA5Mgx9wGu2Hi0foh0pErAMKQV6CLBJU\nfB5JUu9PX2MED7Z2XGG0RYClSMEO8L7iHXm1ooCr83rU/U5xXwpuTrp4L9nYD9eB\n6EptCgOWEi98lq5oeQXNyWfti3/gckathUi8WINlI+5/fPv7ZWd9Z60VXAVfb5u8\n61/erIhEIJRkqbDXc/ULAQsAeEKVYzHpStM9In30mQdp6EdY48imZiHj1GNgPvY+\nMD3wPmdTAgMBAAECggEAE3IcJtrMYmK0WdfiKI/RFSAd7+ruBV7SV9NPELJtLNE9\nykNA9RtWhrKYBwXQFFYH6TR5CO0l86HmZiVOWFXOFquAxY9t8a1NX9jOjNLAag9g\npZQr48xayfmilQkLkoo4Rfq6vs/OkSzE4zyr0zpRoyOe3g0ZbC58W9OCu9r7wVTD\nV+KKE8ChU39Ae8HLfMEQXWSIUqxbrpw+mLeFX1qh5ILNBDA9M6vD+JuoiuIZltW4\ndjnlU4hxYPVwTyuPBCQ3AwJsRGcddfxWTI+kIm2/6k8HzhdpB1ajBrZX/XVeXAp7\nVlvyHzBZ5ri1NDpr/Cyh6o2ysdB8qGCnlDcsNHLl+QKBgQDTORonO1FrIAo2VnsQ\nS0Lq6EdxRzzP9q9mHttJNJK5eEXP7sNSdTDrudk4tpr3zvXtK4b+4SiCDriA5VTJ\nHhdGF3wwqhR76XT3gLoXZLGYlx+4RvMbuIFDGkUee+39T2//MztEZgt3TM3LcBFE\njTRV8gzpFJsj8wea3E4B8lOEZQKBgQDEFkfdgIBNu/3wH+z2uq40kYlkMRb4wQq8\nCjmwXYxGu1WR3SYn2zNQTsZR6BtiHFzx/37W279dO87u9rAbNuY5V9VYQKjxZD2l\nidYQ/0w07kO1PhNuISLpqn2AbiLczlLluX8dHpLpb5UG+JWlqih5VBCDFktmVUlM\nVteHPa21VwKBgCkpEHqiqYwJk1PhaFvVfrXOC9X8PtJ7zNRGoQ7T6t+vm1MYwQE5\niw30imrt0qcFspDEEatrbvxhJ/0eM3Z5oalr/CxziEhZRwzQDfNvENieYnUDhm5Z\ndv7/iIaXOdpJ95YwgpUimYtm8Rd6wDKunYs9/twQwuavfkTkN2NTuIitAoGBAJu0\nNYylpTwUsyghscCZrAsCJd7xPBR69VMrq3NoVSM1TlVtDgdIAA8c/k27yUK20vc2\nsjladTJLc549NMnnZhjSrg5OCdjkiC8SrHECyDifmhQpHrSsi1SQlOeOjRBYpWrV\nSSKOTIogmG3YprvNyiXNou70nRq9Tl7X9nzldTIxAoGBAJ3qo/epO7xAs6Vhp+8n\na0Tv93Ji2kCvA14iOE+P08saldspB4NEVitGahuvrTx8CKDyL1PDH5X1MTabvI/L\nYw6k/gnzOhSX3MTP3qMepNEq1A5chvMJHhMS72/tAPKIXux+AgDkSvq8+G02DFWD\npF9bcBoINL/89wOUcEfOQty0\n-----END PRIVATE KEY-----'''\n\njwkey = {&quot;p&quot;:&quot;0zkaJztRayAKNlZ7EEtC6uhHcUc8z_avZh7bSTSSuXhFz-7DUnUw67nZOLaa98717SuG_uEogg64gOVUyR4XRhd8MKoUe-l094C6F2SxmJcfuEbzG7iBQxpFHnvt_U9v_zM7RGYLd0zNy3ARRI00VfIM6RSbI_MHmtxOAfJThGU&quot;,&quot;kty&quot;:&quot;RSA&quot;,&quot;q&quot;:&quot;xBZH3YCATbv98B_s9rquNJGJZDEW-MEKvAo5sF2MRrtVkd0mJ9szUE7GUegbYhxc8f9-1tu_XTvO7vawGzbmOVfVWECo8WQ9pYnWEP9MNO5DtT4TbiEi6ap9gG4i3M5S5bl_HR6S6W-VBviVpaooeVQQgxZLZlVJTFbXhz2ttVc&quot;,&quot;d&quot;:&quot;E3IcJtrMYmK0WdfiKI_RFSAd7-ruBV7SV9NPELJtLNE9ykNA9RtWhrKYBwXQFFYH6TR5CO0l86HmZiVOWFXOFquAxY9t8a1NX9jOjNLAag9gpZQr48xayfmilQkLkoo4Rfq6vs_OkSzE4zyr0zpRoyOe3g0ZbC58W9OCu9r7wVTDV-KKE8ChU39Ae8HLfMEQXWSIUqxbrpw-mLeFX1qh5ILNBDA9M6vD-JuoiuIZltW4djnlU4hxYPVwTyuPBCQ3AwJsRGcddfxWTI-kIm2_6k8HzhdpB1ajBrZX_XVeXAp7VlvyHzBZ5ri1NDpr_Cyh6o2ysdB8qGCnlDcsNHLl-Q&quot;,&quot;e&quot;:&quot;AQAB&quot;,&quot;kid&quot;:&quot;79635991-092f-4576-a23a-4cbab618e8a8&quot;,&quot;qi&quot;:&quot;neqj96k7vECzpWGn7ydrRO_3cmLaQK8DXiI4T4_TyxqV2ykHg0RWK0ZqG6-tPHwIoPIvU8MflfUxNpu8j8tjDqT-CfM6FJfcxM_eox6k0SrUDlyG8wkeExLvb-0A8ohe7H4CAORK-rz4bTYMVYOkX1twGgg0v_z3A5RwR85C3LQ&quot;,&quot;dp&quot;:&quot;KSkQeqKpjAmTU-FoW9V-tc4L1fw-0nvM1EahDtPq36-bUxjBATmLDfSKau3SpwWykMQRq2tu_GEn_R4zdnmhqWv8LHOISFlHDNAN828Q2J5idQOGbll2_v-Ihpc52kn3ljCClSKZi2bxF3rAMq6diz3-3BDC5q9-ROQ3Y1O4iK0&quot;,&quot;dq&quot;:&quot;m7Q1jKWlPBSzKCGxwJmsCwIl3vE8FHr1Uyurc2hVIzVOVW0OB0gADxz-TbvJQrbS9zayOVp1Mktznj00yedmGNKuDk4J2OSILxKscQLIOJ-aFCketKyLVJCU546NEFilatVJIo5MiiCYbdimu83KJc2i7vSdGr1OXtf2fOV1MjE&quot;,&quot;n&quot;:&quot;ocoaOeFcThmA8azdqYzPP6QPeJHKpTDWdDUiKEh4WrAJu9l-ulzfRiNiGqUBE8u_oDQSgVrM1p-CbDbgGyyzaec3k5Zsx6dPXnuC_oPLPzSCjMAOTIMfcBrth4tH6IdKRKwDCkFegiwSVHweSVLvT19jBA-2dlxhtEWApUjBDvC-4h15taKAq_N61P1OcV8Kbk66eC_Z2A_XgehKbQoDlhIvfJauaHkFzcln7Yt_4HJGrYVIvFiDZSPuf3z7-2VnfWetFVwFX2-bvOtf3qyIRCCUZKmw13P1CwELAHhClWMx6UrTPSJ99JkHaehHWOPIpmYh49RjYD72PjA98D5nUw&quot;}\n\nenc = 'eyJhbGciOiJSU0EtT0FFUC0yNTYiLCJlbmMiOiJBMjU2R0NNIiwia2lkIjoiYjFhOWVmNzAtYjQ4Yy00YzdiLWI0ZTQtODU2YzQyNGIyYzZlIn0.XzLgQTzESD7mg-DtiwFaOQQIfJjQOox5Efbq3Cn8n4H0OZUNvNFWuLr2gPH4WqhWZFYvYh6Mx3--bKiYA_kGplPaJUdPfuYx3OgOug9fuYMrZesE-9stJFd4TnQOJcrTfehJkI_QKPqfWgbEgh1Zn8r7DuIBbABmNK4OHa0edwUA0Lu4mUxzRW6UPaNdWtfEGL9ZVR4lzUx6QX6nweKdbi8tkDnQrSNcQ4eZKIn8mVl5rL3s-qa2VC1Zvo4R-eA4jTKs6WQrkPChJkfoECcYcLx7SIHdxP6VB9DAhW-TwRizr5OZUVLLLH3UEOF77Rtc6MLL4Al5mo29sE-E1faywQ.R1QE-zY29Ed7yfqX.-soXsfltkJL0AXk_q5tPn9hagCBG_1c03VKdh2A.-oteTYv0SHzE4yBmZlterg'\n\nfrom jwcrypto import jwk, jwe\n\n# Import of a PEM encoded PKCS#8 key\nprivate_key = jwk.JWK.from_pem(pkcs8pem)\njwetoken = jwe.JWE()\njwetoken.deserialize(enc, key=private_key)\npayload = jwetoken.payload\nprint(payload.decode('utf-8'))\n\n# Import of a JWK\nprivate_key = jwk.JWK(**jwkey)\njwetoken = jwe.JWE()\njwetoken.deserialize(enc, key=private_key)\npayload = jwetoken.payload\nprint(payload.decode('utf-8'))\n</code></pre>\n<p>with the output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{&quot;value&quot;:&quot;Object Encryption&quot;}\n{&quot;value&quot;:&quot;Object Encryption&quot;}\n</code></pre>\n"}],"owner":{"account_id":20979436,"reputation":325,"user_id":15414616,"display_name":"Ema Il"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1773,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71939454,"answer_count":1,"score":1,"last_activity_date":1650456798,"creation_date":1650387349,"question_id":71928580,"body_markdown":"I have a kafka message that was encrypted on java with the following code:\r\n```\r\n    private String decryptedMessage(String key, String encryptedMessage) throws NoSuchAlgorithmException, InvalidKeySpecException, ParseException, JOSEException {\r\n\r\n        PrivateKey privateKey = &lt;some way to generate a private key from key&gt;;\r\n\r\n        JWEDecrypter decrypter = new RSADecrypter(privateKey);\r\n        JWEObject decryptedJweObj = JWEObject.parse(encryptedMessage);\r\n        decryptedJweObj.decrypt(decrypter);\r\n        return decryptedJweObj.getPayload().toJSONObject().toJSONString();\r\n    }\r\n```\r\nNow I&#39;m trying to decode it using python on a decoded message where I already know the private key.\r\nI tried using `jwcrypto` (since I&#39;m using python3 and `jeso` is only for 2.x) using this code like in their documents, but it didn&#39;t work: \r\n```\r\nenc = &#39;&lt;encrypted message&gt;&#39;\r\nprivate = &#39;&lt;private key&gt;&#39;\r\njwetoken = jwe.JWE()\r\njwetoken.deserialize(enc, key=private_key)\r\npayload = jwetoken.payload\r\n```\r\nAnd I get this error code: `jwcrypto.jwe.InvalidJWEData: No recipient matched the provided key[&quot;Failed: [ValueError(&#39;key is not a JWK object&#39;,)]&quot;]` I tried looking for a way to make the private key a JWK object but couldn&#39;t find one.\r\n\r\nI know my message is JWE since it&#39;s split by 4 dots and when I base64 decode the first part I get this json: `b&#39;{&quot;alg&quot;:&quot;RSA-OAEP-256&quot;,&quot;enc&quot;:&quot;A256GCM&quot;,&quot;kid&quot;:&quot;&lt;some key id&gt;&quot;}&#39;`\r\n\r\nSo I&#39;m kind of stuck on how to decode my message.\r\n\r\nDecrypted string: `{&quot;value&quot;:&quot;Object Encryption&quot;}`\r\n\r\nEncrypted string: \r\n```\r\neyJhbGciOiJSU0EtT0FFUC0yNTYiLCJlbmMiOiJBMjU2R0NNIiwia2lkIjoiYjFhOWVmNzAtYjQ4Yy00YzdiLWI0ZTQtODU2YzQyNGIyYzZlIn0.XzLgQTzESD7mg-DtiwFaOQQIfJjQOox5Efbq3Cn8n4H0OZUNvNFWuLr2gPH4WqhWZFYvYh6Mx3--bKiYA_kGplPaJUdPfuYx3OgOug9fuYMrZesE-9stJFd4TnQOJcrTfehJkI_QKPqfWgbEgh1Zn8r7DuIBbABmNK4OHa0edwUA0Lu4mUxzRW6UPaNdWtfEGL9ZVR4lzUx6QX6nweKdbi8tkDnQrSNcQ4eZKIn8mVl5rL3s-qa2VC1Zvo4R-eA4jTKs6WQrkPChJkfoECcYcLx7SIHdxP6VB9DAhW-TwRizr5OZUVLLLH3UEOF77Rtc6MLL4Al5mo29sE-E1faywQ.R1QE-zY29Ed7yfqX.-soXsfltkJL0AXk_q5tPn9hagCBG_1c03VKdh2A.-oteTYv0SHzE4yBmZlterg\r\n```\r\nDecryption key (need to decode with base64): \r\n```\r\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQChyho54VxOGYDxrN2pjM8/pA94kcqlMNZ0NSIoSHhasAm72X66XN9GI2IapQETy7+gNBKBWszWn4JsNuAbLLNp5zeTlmzHp09ee4L+g8s/NIKMwA5Mgx9wGu2Hi0foh0pErAMKQV6CLBJUfB5JUu9PX2MED7Z2XGG0RYClSMEO8L7iHXm1ooCr83rU/U5xXwpuTrp4L9nYD9eB6EptCgOWEi98lq5oeQXNyWfti3/gckathUi8WINlI+5/fPv7ZWd9Z60VXAVfb5u861/erIhEIJRkqbDXc/ULAQsAeEKVYzHpStM9In30mQdp6EdY48imZiHj1GNgPvY+MD3wPmdTAgMBAAECggEAE3IcJtrMYmK0WdfiKI/RFSAd7+ruBV7SV9NPELJtLNE9ykNA9RtWhrKYBwXQFFYH6TR5CO0l86HmZiVOWFXOFquAxY9t8a1NX9jOjNLAag9gpZQr48xayfmilQkLkoo4Rfq6vs/OkSzE4zyr0zpRoyOe3g0ZbC58W9OCu9r7wVTDV+KKE8ChU39Ae8HLfMEQXWSIUqxbrpw+mLeFX1qh5ILNBDA9M6vD+JuoiuIZltW4djnlU4hxYPVwTyuPBCQ3AwJsRGcddfxWTI+kIm2/6k8HzhdpB1ajBrZX/XVeXAp7VlvyHzBZ5ri1NDpr/Cyh6o2ysdB8qGCnlDcsNHLl+QKBgQDTORonO1FrIAo2VnsQS0Lq6EdxRzzP9q9mHttJNJK5eEXP7sNSdTDrudk4tpr3zvXtK4b+4SiCDriA5VTJHhdGF3wwqhR76XT3gLoXZLGYlx+4RvMbuIFDGkUee+39T2//MztEZgt3TM3LcBFEjTRV8gzpFJsj8wea3E4B8lOEZQKBgQDEFkfdgIBNu/3wH+z2uq40kYlkMRb4wQq8CjmwXYxGu1WR3SYn2zNQTsZR6BtiHFzx/37W279dO87u9rAbNuY5V9VYQKjxZD2lidYQ/0w07kO1PhNuISLpqn2AbiLczlLluX8dHpLpb5UG+JWlqih5VBCDFktmVUlMVteHPa21VwKBgCkpEHqiqYwJk1PhaFvVfrXOC9X8PtJ7zNRGoQ7T6t+vm1MYwQE5iw30imrt0qcFspDEEatrbvxhJ/0eM3Z5oalr/CxziEhZRwzQDfNvENieYnUDhm5Zdv7/iIaXOdpJ95YwgpUimYtm8Rd6wDKunYs9/twQwuavfkTkN2NTuIitAoGBAJu0NYylpTwUsyghscCZrAsCJd7xPBR69VMrq3NoVSM1TlVtDgdIAA8c/k27yUK20vc2sjladTJLc549NMnnZhjSrg5OCdjkiC8SrHECyDifmhQpHrSsi1SQlOeOjRBYpWrVSSKOTIogmG3YprvNyiXNou70nRq9Tl7X9nzldTIxAoGBAJ3qo/epO7xAs6Vhp+8na0Tv93Ji2kCvA14iOE+P08saldspB4NEVitGahuvrTx8CKDyL1PDH5X1MTabvI/LYw6k/gnzOhSX3MTP3qMepNEq1A5chvMJHhMS72/tAPKIXux+AgDkSvq8+G02DFWDpF9bcBoINL/89wOUcEfOQty0\r\n```","title":"Decrypting and encrypting java JWEObject with algorithm RSA-OAEP-256 on python","body":"<p>I have a kafka message that was encrypted on java with the following code:</p>\n<pre><code>    private String decryptedMessage(String key, String encryptedMessage) throws NoSuchAlgorithmException, InvalidKeySpecException, ParseException, JOSEException {\n\n        PrivateKey privateKey = &lt;some way to generate a private key from key&gt;;\n\n        JWEDecrypter decrypter = new RSADecrypter(privateKey);\n        JWEObject decryptedJweObj = JWEObject.parse(encryptedMessage);\n        decryptedJweObj.decrypt(decrypter);\n        return decryptedJweObj.getPayload().toJSONObject().toJSONString();\n    }\n</code></pre>\n<p>Now I'm trying to decode it using python on a decoded message where I already know the private key.\nI tried using <code>jwcrypto</code> (since I'm using python3 and <code>jeso</code> is only for 2.x) using this code like in their documents, but it didn't work:</p>\n<pre><code>enc = '&lt;encrypted message&gt;'\nprivate = '&lt;private key&gt;'\njwetoken = jwe.JWE()\njwetoken.deserialize(enc, key=private_key)\npayload = jwetoken.payload\n</code></pre>\n<p>And I get this error code: <code>jwcrypto.jwe.InvalidJWEData: No recipient matched the provided key[&quot;Failed: [ValueError('key is not a JWK object',)]&quot;]</code> I tried looking for a way to make the private key a JWK object but couldn't find one.</p>\n<p>I know my message is JWE since it's split by 4 dots and when I base64 decode the first part I get this json: <code>b'{&quot;alg&quot;:&quot;RSA-OAEP-256&quot;,&quot;enc&quot;:&quot;A256GCM&quot;,&quot;kid&quot;:&quot;&lt;some key id&gt;&quot;}'</code></p>\n<p>So I'm kind of stuck on how to decode my message.</p>\n<p>Decrypted string: <code>{&quot;value&quot;:&quot;Object Encryption&quot;}</code></p>\n<p>Encrypted string:</p>\n<pre><code>eyJhbGciOiJSU0EtT0FFUC0yNTYiLCJlbmMiOiJBMjU2R0NNIiwia2lkIjoiYjFhOWVmNzAtYjQ4Yy00YzdiLWI0ZTQtODU2YzQyNGIyYzZlIn0.XzLgQTzESD7mg-DtiwFaOQQIfJjQOox5Efbq3Cn8n4H0OZUNvNFWuLr2gPH4WqhWZFYvYh6Mx3--bKiYA_kGplPaJUdPfuYx3OgOug9fuYMrZesE-9stJFd4TnQOJcrTfehJkI_QKPqfWgbEgh1Zn8r7DuIBbABmNK4OHa0edwUA0Lu4mUxzRW6UPaNdWtfEGL9ZVR4lzUx6QX6nweKdbi8tkDnQrSNcQ4eZKIn8mVl5rL3s-qa2VC1Zvo4R-eA4jTKs6WQrkPChJkfoECcYcLx7SIHdxP6VB9DAhW-TwRizr5OZUVLLLH3UEOF77Rtc6MLL4Al5mo29sE-E1faywQ.R1QE-zY29Ed7yfqX.-soXsfltkJL0AXk_q5tPn9hagCBG_1c03VKdh2A.-oteTYv0SHzE4yBmZlterg\n</code></pre>\n<p>Decryption key (need to decode with base64):</p>\n<pre><code>MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQChyho54VxOGYDxrN2pjM8/pA94kcqlMNZ0NSIoSHhasAm72X66XN9GI2IapQETy7+gNBKBWszWn4JsNuAbLLNp5zeTlmzHp09ee4L+g8s/NIKMwA5Mgx9wGu2Hi0foh0pErAMKQV6CLBJUfB5JUu9PX2MED7Z2XGG0RYClSMEO8L7iHXm1ooCr83rU/U5xXwpuTrp4L9nYD9eB6EptCgOWEi98lq5oeQXNyWfti3/gckathUi8WINlI+5/fPv7ZWd9Z60VXAVfb5u861/erIhEIJRkqbDXc/ULAQsAeEKVYzHpStM9In30mQdp6EdY48imZiHj1GNgPvY+MD3wPmdTAgMBAAECggEAE3IcJtrMYmK0WdfiKI/RFSAd7+ruBV7SV9NPELJtLNE9ykNA9RtWhrKYBwXQFFYH6TR5CO0l86HmZiVOWFXOFquAxY9t8a1NX9jOjNLAag9gpZQr48xayfmilQkLkoo4Rfq6vs/OkSzE4zyr0zpRoyOe3g0ZbC58W9OCu9r7wVTDV+KKE8ChU39Ae8HLfMEQXWSIUqxbrpw+mLeFX1qh5ILNBDA9M6vD+JuoiuIZltW4djnlU4hxYPVwTyuPBCQ3AwJsRGcddfxWTI+kIm2/6k8HzhdpB1ajBrZX/XVeXAp7VlvyHzBZ5ri1NDpr/Cyh6o2ysdB8qGCnlDcsNHLl+QKBgQDTORonO1FrIAo2VnsQS0Lq6EdxRzzP9q9mHttJNJK5eEXP7sNSdTDrudk4tpr3zvXtK4b+4SiCDriA5VTJHhdGF3wwqhR76XT3gLoXZLGYlx+4RvMbuIFDGkUee+39T2//MztEZgt3TM3LcBFEjTRV8gzpFJsj8wea3E4B8lOEZQKBgQDEFkfdgIBNu/3wH+z2uq40kYlkMRb4wQq8CjmwXYxGu1WR3SYn2zNQTsZR6BtiHFzx/37W279dO87u9rAbNuY5V9VYQKjxZD2lidYQ/0w07kO1PhNuISLpqn2AbiLczlLluX8dHpLpb5UG+JWlqih5VBCDFktmVUlMVteHPa21VwKBgCkpEHqiqYwJk1PhaFvVfrXOC9X8PtJ7zNRGoQ7T6t+vm1MYwQE5iw30imrt0qcFspDEEatrbvxhJ/0eM3Z5oalr/CxziEhZRwzQDfNvENieYnUDhm5Zdv7/iIaXOdpJ95YwgpUimYtm8Rd6wDKunYs9/twQwuavfkTkN2NTuIitAoGBAJu0NYylpTwUsyghscCZrAsCJd7xPBR69VMrq3NoVSM1TlVtDgdIAA8c/k27yUK20vc2sjladTJLc549NMnnZhjSrg5OCdjkiC8SrHECyDifmhQpHrSsi1SQlOeOjRBYpWrVSSKOTIogmG3YprvNyiXNou70nRq9Tl7X9nzldTIxAoGBAJ3qo/epO7xAs6Vhp+8na0Tv93Ji2kCvA14iOE+P08saldspB4NEVitGahuvrTx8CKDyL1PDH5X1MTabvI/LYw6k/gnzOhSX3MTP3qMepNEq1A5chvMJHhMS72/tAPKIXux+AgDkSvq8+G02DFWDpF9bcBoINL/89wOUcEfOQty0\n</code></pre>\n"},{"tags":["java","key-value"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":5,"creation_date":1650455031,"post_id":71939024,"comment_id":127118958,"body_markdown":"I don&#39;t get it. If you want to change names of method arguments, you&#39;re more than welcome to in your own code. You&#39;re most likely not going to be able to change them in someone else&#39;s code. And what&#39;s with the JSON snippet?","body":"I don&#39;t get it. If you want to change names of method arguments, you&#39;re more than welcome to in your own code. You&#39;re most likely not going to be able to change them in someone else&#39;s code. And what&#39;s with the JSON snippet?"}],"answers":[{"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650456704,"creation_date":1650456338,"answer_id":71939336,"question_id":71939024,"body_markdown":"Solution for Jackson:\r\n\r\nDeclare serializer for specific class Pair\r\n```java\r\npublic static class PairSerializer extends StdSerializer&lt;Pair&gt; {\r\n\r\n    public PairSerializer() {\r\n        this(null);\r\n    }\r\n\r\n    public PairSerializer(Class&lt;Pair&gt; t) {\r\n        super(t);\r\n    }\r\n\r\n    @Override\r\n    public void serialize(Pair value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonProcessingException {\r\n        jgen.writeStartObject();\r\n        jgen.writeObjectField(&quot;a&quot;, value.getFirst());   // &quot;a&quot; is replacement for &quot;first&quot;\r\n        jgen.writeObjectField(&quot;b&quot;, value.getSecond());  // &quot;b&quot; is replacement for &quot;second&quot;\r\n        jgen.writeEndObject();\r\n    }\r\n}\r\n```\r\n\r\nthen you register this serializer and serialize your Pair(s) into JSON\r\n```java\r\nObjectMapper mapper = new ObjectMapper();\r\nSimpleModule module = new SimpleModule();\r\nmodule.addSerializer(Pair.class, new PairSerializer());\r\nmapper.registerModule(module);\r\n\r\nList&lt;Pair&lt;String, String&gt;&gt; pairs = Arrays.asList(Pair.of(&quot;1.0&quot;, &quot;Unpredicted&quot;), Pair.of(&quot;1.1&quot;, &quot;Unpredicted&quot;));\r\n\r\nSystem.out.println(mapper.writeValueAsString(pairs));\r\n```\r\nOutput:\r\n```\r\n[\r\n  {\r\n    &quot;a&quot;: &quot;1.0&quot;,\r\n    &quot;b&quot;: &quot;Unpredicted&quot;\r\n  },\r\n  {\r\n    &quot;a&quot;: &quot;1.1&quot;,\r\n    &quot;b&quot;: &quot;Unpredicted&quot;\r\n  }\r\n]\r\n```","title":"In Pair.of() : Can you change the name of(S first, T second)?","body":"<p>Solution for Jackson:</p>\n<p>Declare serializer for specific class Pair</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class PairSerializer extends StdSerializer&lt;Pair&gt; {\n\n    public PairSerializer() {\n        this(null);\n    }\n\n    public PairSerializer(Class&lt;Pair&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public void serialize(Pair value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonProcessingException {\n        jgen.writeStartObject();\n        jgen.writeObjectField(&quot;a&quot;, value.getFirst());   // &quot;a&quot; is replacement for &quot;first&quot;\n        jgen.writeObjectField(&quot;b&quot;, value.getSecond());  // &quot;b&quot; is replacement for &quot;second&quot;\n        jgen.writeEndObject();\n    }\n}\n</code></pre>\n<p>then you register this serializer and serialize your Pair(s) into JSON</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper = new ObjectMapper();\nSimpleModule module = new SimpleModule();\nmodule.addSerializer(Pair.class, new PairSerializer());\nmapper.registerModule(module);\n\nList&lt;Pair&lt;String, String&gt;&gt; pairs = Arrays.asList(Pair.of(&quot;1.0&quot;, &quot;Unpredicted&quot;), Pair.of(&quot;1.1&quot;, &quot;Unpredicted&quot;));\n\nSystem.out.println(mapper.writeValueAsString(pairs));\n</code></pre>\n<p>Output:</p>\n<pre><code>[\n  {\n    &quot;a&quot;: &quot;1.0&quot;,\n    &quot;b&quot;: &quot;Unpredicted&quot;\n  },\n  {\n    &quot;a&quot;: &quot;1.1&quot;,\n    &quot;b&quot;: &quot;Unpredicted&quot;\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":23832604,"reputation":37,"user_id":17838703,"display_name":"Anonymous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1650526495,"accepted_answer_id":71939336,"answer_count":1,"score":-4,"last_activity_date":1650456704,"creation_date":1650454909,"question_id":71939024,"body_markdown":"    {\r\n                &quot;first&quot;: &quot;1.0&quot;,\r\n                &quot;second&quot;: &quot;Not Predicted&quot;\r\n            },\r\n            {\r\n                &quot;first&quot;: &quot;1.1&quot;,\r\n                &quot;second&quot;: &quot;Not Predicted&quot;\r\n            }\r\n\r\nThe representation of Pair.of is : Pair&lt;S, T&gt; of(**S first,T second**) \r\nSo here is it possible to change the default names **first** and **second** to something we wish to keep ?","title":"In Pair.of() : Can you change the name of(S first, T second)?","body":"<pre><code>{\n            &quot;first&quot;: &quot;1.0&quot;,\n            &quot;second&quot;: &quot;Not Predicted&quot;\n        },\n        {\n            &quot;first&quot;: &quot;1.1&quot;,\n            &quot;second&quot;: &quot;Not Predicted&quot;\n        }\n</code></pre>\n<p>The representation of Pair.of is : Pair&lt;S, T&gt; of(<strong>S first,T second</strong>)\nSo here is it possible to change the default names <strong>first</strong> and <strong>second</strong> to something we wish to keep ?</p>\n"},{"tags":["java","kotlin","unicode"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1650577529,"post_id":71939179,"comment_id":127158359,"body_markdown":"In Kotlin you can check whether your character is `in CharCategory.PRIVATE_USE`.","body":"In Kotlin you can check whether your character is <code>in CharCategory.PRIVATE_USE</code>."},{"owner":{"account_id":3034984,"reputation":448,"user_id":2573304,"accept_rate":50,"display_name":"emphywork"},"score":0,"creation_date":1650646752,"post_id":71939179,"comment_id":127176766,"body_markdown":"@skomisa so I need to read the file character by character? I may have Docx or PDFs files as well. any samples?","body":"@skomisa so I need to read the file character by character? I may have Docx or PDFs files as well. any samples?"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1650658008,"post_id":71939179,"comment_id":127180077,"body_markdown":"[1] Your question is asking for a way to identify PUA characters, so I don&#39;t see how you can avoid checking _&quot;character by character&quot;_. What alternative strategy did you have in mind? [2] As an alternative to using Java/Kotlin APIs, you could use a regex to filter out characters in any of the three ranges defined as PUAs (U+E000 to U+F8FF, U+F0000 to U+FFFFD and U+100000 to +10FFFD). I don&#39;t know whether you consider that approach _&quot;proper&quot;_ and _&quot;non-hacky&quot;_, but it would be reliable, and fairly simple to code. [3] Update your  question to specify all file types to be processed...","body":"[1] Your question is asking for a way to identify PUA characters, so I don&#39;t see how you can avoid checking <i>&quot;character by character&quot;</i>. What alternative strategy did you have in mind? [2] As an alternative to using Java/Kotlin APIs, you could use a regex to filter out characters in any of the three ranges defined as PUAs (U+E000 to U+F8FF, U+F0000 to U+FFFFD and U+100000 to +10FFFD). I don&#39;t know whether you consider that approach <i>&quot;proper&quot;</i> and <i>&quot;non-hacky&quot;</i>, but it would be reliable, and fairly simple to code. [3] Update your  question to specify all file types to be processed..."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1650658235,"post_id":71939179,"comment_id":127180136,"body_markdown":"...[4] As an alternative to a regex, in Java you could process the file as a stream, and use a `.filter()` within the stream processing.","body":"...[4] As an alternative to a regex, in Java you could process the file as a stream, and use a <code>.filter()</code> within the stream processing."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650456594,"creation_date":1650456267,"answer_id":71939320,"question_id":71939179,"body_markdown":"Here are two &quot;proper&quot; ways to do it:\r\n\r\n    int cp = ...     // a Unicode codepoint represented as an int\r\n\r\n    if (Character.isType(cp) == Character.PRIVATE_USE) {\r\n        // ...\r\n    }\r\n\r\n    if (Character.UnicodeBlock.of(cp) == Character.UnicodeBlock.PRIVATE_USE_AREA) {\r\n        // ...\r\n    }","title":"Detecting unicode private use area (PUA) characters with Java/Kotlin from File","body":"<p>Here are two &quot;proper&quot; ways to do it:</p>\n<pre><code>int cp = ...     // a Unicode codepoint represented as an int\n\nif (Character.isType(cp) == Character.PRIVATE_USE) {\n    // ...\n}\n\nif (Character.UnicodeBlock.of(cp) == Character.UnicodeBlock.PRIVATE_USE_AREA) {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":3034984,"reputation":448,"user_id":2573304,"accept_rate":50,"display_name":"emphywork"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650456594,"creation_date":1650455684,"question_id":71939179,"body_markdown":"Is there any proper way to identify Unicode private use area (PUA) characters in Java/Kotlin? \r\n\r\nSome background, we are using PDF conversion tool, which doesn&#39;t support PUA characters. Thus we require to identify any PUA character available in the file.\r\nSo what&#39;s a non-hacky, reliable way to detect PUA characters?","title":"Detecting unicode private use area (PUA) characters with Java/Kotlin from File","body":"<p>Is there any proper way to identify Unicode private use area (PUA) characters in Java/Kotlin?</p>\n<p>Some background, we are using PDF conversion tool, which doesn't support PUA characters. Thus we require to identify any PUA character available in the file.\nSo what's a non-hacky, reliable way to detect PUA characters?</p>\n"},{"tags":["java","spring-boot","rest","spring-kafka"],"comments":[{"owner":{"account_id":13095631,"reputation":147,"user_id":9461640,"display_name":"Crude Code"},"score":0,"creation_date":1650441416,"post_id":71935677,"comment_id":127113798,"body_markdown":"I do not understand your usecase? Your listener polls indefinitely and your code inside listen() gets executed once a message has been published to the topic you listen on. If I understand you correctly you want to display the history? So you either need to persist the data of the single consumer (as you may have more than one) or you remove the autoconfiguration and start a single kafka listener that reads the kafka log from beginning...","body":"I do not understand your usecase? Your listener polls indefinitely and your code inside listen() gets executed once a message has been published to the topic you listen on. If I understand you correctly you want to display the history? So you either need to persist the data of the single consumer (as you may have more than one) or you remove the autoconfiguration and start a single kafka listener that reads the kafka log from beginning..."},{"owner":{"account_id":19449472,"reputation":110,"user_id":14226243,"display_name":"Pash0002"},"score":0,"creation_date":1650441603,"post_id":71935677,"comment_id":127113872,"body_markdown":"Actually, I want to invoke the `listen()` method once I hit the GET API i.e. `GetKafkaData` Controller. Till data should be in Kafka.","body":"Actually, I want to invoke the <code>listen()</code> method once I hit the GET API i.e. <code>GetKafkaData</code> Controller. Till data should be in Kafka."},{"owner":{"account_id":13095631,"reputation":147,"user_id":9461640,"display_name":"Crude Code"},"score":0,"creation_date":1650442363,"post_id":71935677,"comment_id":127114156,"body_markdown":"Then you probably need to work without the @KafkaListener annotation and write your own KafkaConsumer you start once someone hits your GET endpoint. The spring kafka consumer is confiured in a way that it reads data automatically and calls your listen() method AUTOMATICALLY once new data is published to kafka. So if you want the data from your kafka topic your approach will not work. You either need to persist it somehow (which is the purpose of the kafka log) or you create a custom consumer which ready from beginning once GET is called","body":"Then you probably need to work without the @KafkaListener annotation and write your own KafkaConsumer you start once someone hits your GET endpoint. The spring kafka consumer is confiured in a way that it reads data automatically and calls your listen() method AUTOMATICALLY once new data is published to kafka. So if you want the data from your kafka topic your approach will not work. You either need to persist it somehow (which is the purpose of the kafka log) or you create a custom consumer which ready from beginning once GET is called"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650443904,"creation_date":1650443904,"answer_id":71936562,"question_id":71935677,"body_markdown":"What you describe that you need is not possible from logical perspective.\r\n\r\n    @KafkaListener(id = &quot;Id&quot;, topics = &quot;topic1&quot;)\r\n        public void listen(String msg) {\r\n            System.out.println(&quot;Key - &quot; + msg);\r\n        }\r\n\r\nThe point of this method is to be called, when kafka triggers the listener because of some published data in `topic1`. Actually the kafka listener does an infinite loop around `poll`, so it is constantly looking for published data, and if there are (found with `poll`), then it tries to read them.\r\n\r\nSo a background thread runs which constantly does the `poll` and invokes your method `listen` when needed. \r\n\r\nAs you understand this is an asynchronous process which can&#39;t be served per client request on some other method, since the originating logical component is the scheduler which does the background job and then calls your method `listen`.\r\n\r\nSo to your logical requirements, the `@KafkaListener` is not providing any help.\r\n\r\nYou could try to create your own `KafkaConsumer` and manually `poll` the kafka cluster when the client makes a get request to your method `getKafkaListnerData`. Check [here][1] a very simple example of how you can manually create the consumer.\r\n\r\n[Here ][2] is also the documetation for `KafkaConsumer` where you can see what options are available for you to use for your manual handling. Probably you will need some specific subscription and then you should use a single `poll` to extract the data that you want. Don&#39;t forget to close the consumer when you don&#39;t need it any more since otherwise it would lead to leak of resources.\r\n\r\n\r\n  [1]: https://documentation.mapp.com/1.0/en/consume-data-through-the-kafka-consumer-api-10526792.html\r\n  [2]: https://kafka.apache.org/26/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html","title":"Read the data from @KafkaListener when user hits GET request using Spring boot and spring Kafka","body":"<p>What you describe that you need is not possible from logical perspective.</p>\n<pre><code>@KafkaListener(id = &quot;Id&quot;, topics = &quot;topic1&quot;)\n    public void listen(String msg) {\n        System.out.println(&quot;Key - &quot; + msg);\n    }\n</code></pre>\n<p>The point of this method is to be called, when kafka triggers the listener because of some published data in <code>topic1</code>. Actually the kafka listener does an infinite loop around <code>poll</code>, so it is constantly looking for published data, and if there are (found with <code>poll</code>), then it tries to read them.</p>\n<p>So a background thread runs which constantly does the <code>poll</code> and invokes your method <code>listen</code> when needed.</p>\n<p>As you understand this is an asynchronous process which can't be served per client request on some other method, since the originating logical component is the scheduler which does the background job and then calls your method <code>listen</code>.</p>\n<p>So to your logical requirements, the <code>@KafkaListener</code> is not providing any help.</p>\n<p>You could try to create your own <code>KafkaConsumer</code> and manually <code>poll</code> the kafka cluster when the client makes a get request to your method <code>getKafkaListnerData</code>. Check <a href=\"https://documentation.mapp.com/1.0/en/consume-data-through-the-kafka-consumer-api-10526792.html\" rel=\"nofollow noreferrer\">here</a> a very simple example of how you can manually create the consumer.</p>\n<p><a href=\"https://kafka.apache.org/26/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html\" rel=\"nofollow noreferrer\">Here </a> is also the documetation for <code>KafkaConsumer</code> where you can see what options are available for you to use for your manual handling. Probably you will need some specific subscription and then you should use a single <code>poll</code> to extract the data that you want. Don't forget to close the consumer when you don't need it any more since otherwise it would lead to leak of resources.</p>\n"},{"tags":[],"owner":{"account_id":25016629,"reputation":31,"user_id":18875684,"display_name":"Daham Navinda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650444555,"creation_date":1650444555,"answer_id":71936706,"question_id":71935677,"body_markdown":"You can use the Application context interface and use the BindingService to bind/unbind topics from kafka. This methods works with **Kafka-streams**\r\n````\r\n@Component\r\npublic class ConsumerService {\r\n\r\n\t@Autowired\r\n\tprivate ApplicationContext applicationContext;\r\n\r\n\tpublic void start(String channelName) {\r\n\r\n\t\tfinal BindingService bindingService = this.applicationContext.getBean(BindingService.class);\r\n\r\n\t\tfinal Map&lt;String, SubscribableChannel&gt; subscribableChannelMap = this.applicationContext\r\n\t\t\t\t.getBeansOfType(SubscribableChannel.class);\r\n\r\n\t\tbindingService.unbindConsumers(channelName);\r\n\t\tbindingService.bindConsumer(subscribableChannelMap.get(channelName), channelName);\r\n\r\n\t}\r\n\r\n\tpublic void stop(String channelName)  {\r\n\r\n\t\tfinal BindingService bindingService = this.applicationContext.getBean(BindingService.class);\r\n\r\n\t\tbindingService.unbindConsumers(channelName);\r\n\r\n\t}\r\n}\r\n\r\n````\r\n\r\n\r\n","title":"Read the data from @KafkaListener when user hits GET request using Spring boot and spring Kafka","body":"<p>You can use the Application context interface and use the BindingService to bind/unbind topics from kafka. This methods works with <strong>Kafka-streams</strong></p>\n<pre><code>@Component\npublic class ConsumerService {\n\n    @Autowired\n    private ApplicationContext applicationContext;\n\n    public void start(String channelName) {\n\n        final BindingService bindingService = this.applicationContext.getBean(BindingService.class);\n\n        final Map&lt;String, SubscribableChannel&gt; subscribableChannelMap = this.applicationContext\n                .getBeansOfType(SubscribableChannel.class);\n\n        bindingService.unbindConsumers(channelName);\n        bindingService.bindConsumer(subscribableChannelMap.get(channelName), channelName);\n\n    }\n\n    public void stop(String channelName)  {\n\n        final BindingService bindingService = this.applicationContext.getBean(BindingService.class);\n\n        bindingService.unbindConsumers(channelName);\n\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":19449472,"reputation":110,"user_id":14226243,"display_name":"Pash0002"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71936562,"answer_count":2,"score":1,"last_activity_date":1650456501,"creation_date":1650439438,"question_id":71935677,"body_markdown":"```java\r\n@Service\r\npublic class KafkaConsumer {\r\n    \r\n    @KafkaListener(id = &quot;Id&quot;, topics = &quot;topic1&quot;)\r\n    public void listen(String msg) {\r\n        System.out.println(&quot;Key - &quot; + msg);\r\n    }\r\n}\r\n\r\n@RestController\r\npublic class GetKafkaData {\r\n\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/api/get&quot;)\r\n    public String getKafkaListnerData() {\r\n        // Some code that need to write to get data from kafka Listner\r\n    }\r\n}\r\n```\r\n    \r\n\r\n\r\n\r\nExplanation of the above classes.\r\n\r\n1. KafkaConsumer - Listen to the data from the Kafka\r\n2. GetKafkaData - Controller which gets the listened data from Kafka.\r\n\r\nI&#39;m not adding my Producer and Other Controller which is basically publishing data to Kafka.\r\n\r\nSo my question is once I hit the `localhost:8080/api/get` API it should call the `listen()` method from the ```KafkaConsumer``` Class and returns the response as the consumed data from the kafka.\r\n\r\nIn the above case ```listen()``` method gets called once you published data into Kafka from the producer.\r\n\r\nI&#39;m using the following libraries for development.\r\n\r\n**1. Spring boot**\r\n\r\n**2. Spring Kafka**\r\n\r\n\r\n","title":"Read the data from @KafkaListener when user hits GET request using Spring boot and spring Kafka","body":"<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class KafkaConsumer {\n    \n    @KafkaListener(id = &quot;Id&quot;, topics = &quot;topic1&quot;)\n    public void listen(String msg) {\n        System.out.println(&quot;Key - &quot; + msg);\n    }\n}\n\n@RestController\npublic class GetKafkaData {\n\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/api/get&quot;)\n    public String getKafkaListnerData() {\n        // Some code that need to write to get data from kafka Listner\n    }\n}\n</code></pre>\n<p>Explanation of the above classes.</p>\n<ol>\n<li>KafkaConsumer - Listen to the data from the Kafka</li>\n<li>GetKafkaData - Controller which gets the listened data from Kafka.</li>\n</ol>\n<p>I'm not adding my Producer and Other Controller which is basically publishing data to Kafka.</p>\n<p>So my question is once I hit the <code>localhost:8080/api/get</code> API it should call the <code>listen()</code> method from the <code>KafkaConsumer</code> Class and returns the response as the consumed data from the kafka.</p>\n<p>In the above case <code>listen()</code> method gets called once you published data into Kafka from the producer.</p>\n<p>I'm using the following libraries for development.</p>\n<p><strong>1. Spring boot</strong></p>\n<p><strong>2. Spring Kafka</strong></p>\n"},{"tags":["java","spring-boot","jackson"],"comments":[{"owner":{"account_id":2679895,"reputation":2406,"user_id":2315473,"accept_rate":88,"display_name":"sunkuet02"},"score":0,"creation_date":1501866677,"post_id":45511519,"comment_id":77985529,"body_markdown":"Did you check with : `@JsonFormat(JsonFormat.Shape.STRING,pattern=&quot;yyyy-MM-ddTHH:mm:ss.SSSZ&quot;)`","body":"Did you check with : <code>@JsonFormat(JsonFormat.Shape.STRING,pattern=&quot;yyyy-MM-ddTHH:m&zwnj;&#8203;m:ss.SSSZ&quot;)</code>"},{"owner":{"account_id":6119614,"reputation":858,"user_id":4773561,"accept_rate":36,"display_name":"Shreekant N"},"score":0,"creation_date":1501916237,"post_id":45511519,"comment_id":77999163,"body_markdown":"@sunkuet02 as I mentioned ,tried that also","body":"@sunkuet02 as I mentioned ,tried that also"},{"owner":{"account_id":2679895,"reputation":2406,"user_id":2315473,"accept_rate":88,"display_name":"sunkuet02"},"score":0,"creation_date":1501916367,"post_id":45511519,"comment_id":77999181,"body_markdown":"Apologize,  you have tried `yyyy-MM-dd@HH:mm:ss.SSSZ` My  pattern has a silly change.","body":"Apologize,  you have tried <code>yyyy-MM-dd@HH:mm:ss.SSSZ</code> My  pattern has a silly change."}],"answers":[{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650456105,"creation_date":1650455491,"answer_id":71939132,"question_id":45511519,"body_markdown":"You need to read the javadocs carefully.\r\nQuoting from the [javadoc of `@JsonFormat`][1]\r\n\r\n&gt; * `Date`: Shape can be `JsonFormat.Shape.STRING` or `JsonFormat.Shape.NUMBER`;\r\n  pattern may contain [`SimpleDateFormat`][2]-compatible pattern definition.\r\n\r\nand quoting from the [javadoc of `SimpleDateFormat`][2]:\r\n\r\n&gt; Within date and time pattern strings, unquoted letters from\r\n  `&#39;A&#39;` to `&#39;Z&#39;` and from `&#39;a&#39;` to `&#39;z&#39;` are interpreted as\r\n  pattern letters [...].  \r\n  Text can be quoted using single quotes (`&#39;`) to avoid interpretation.\r\n\r\nHence you need to use `&#39;T&#39;` instead of `T` in the pattern for `@JsonFormat`:\r\n \r\n    pattern=&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;\r\n\r\n [1]: https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/2.9.8/com/fasterxml/jackson/annotation/JsonFormat.html\r\n [2]: https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\r\n ","title":"What should be @JsonFormat(pattern=&quot;&quot;) in Spring-boot for given example","body":"<p>You need to read the javadocs carefully.\nQuoting from the <a href=\"https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/2.9.8/com/fasterxml/jackson/annotation/JsonFormat.html\" rel=\"nofollow noreferrer\">javadoc of <code>@JsonFormat</code></a></p>\n<blockquote>\n<ul>\n<li><code>Date</code>: Shape can be <code>JsonFormat.Shape.STRING</code> or <code>JsonFormat.Shape.NUMBER</code>;\npattern may contain <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>-compatible pattern definition.</li>\n</ul>\n</blockquote>\n<p>and quoting from the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">javadoc of <code>SimpleDateFormat</code></a>:</p>\n<blockquote>\n<p>Within date and time pattern strings, unquoted letters from\n<code>'A'</code> to <code>'Z'</code> and from <code>'a'</code> to <code>'z'</code> are interpreted as\npattern letters [...].<br />\nText can be quoted using single quotes (<code>'</code>) to avoid interpretation.</p>\n</blockquote>\n<p>Hence you need to use <code>'T'</code> instead of <code>T</code> in the pattern for <code>@JsonFormat</code>:</p>\n<pre><code>pattern=&quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;\n</code></pre>\n"}],"owner":{"account_id":6119614,"reputation":858,"user_id":4773561,"accept_rate":36,"display_name":"Shreekant N"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650456105,"creation_date":1501863740,"question_id":45511519,"body_markdown":"Using Spring-boot RESTful service,in that receiving JSON file which contain DateTime in following format **&quot;2017-08-16T16:08:25.000Z&quot;** and JsonFormat tries are e.g \r\n\r\n    @JsonFormat(pattern=&quot;yyyy-MM-dd HH:mm&quot;) \r\n    @JsonFormat(JsonFormat.Shape.STRING,pattern=&quot;yyyy-MM-dd@HH:mm:ss.SSSZ&quot;)\r\n\r\nbut none of format match accepting.\r\njar used as shown below:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonFormat;\r\n\r\nso what should be JSON format pattern to accept such json data -Date with Time ","title":"What should be @JsonFormat(pattern=&quot;&quot;) in Spring-boot for given example","body":"<p>Using Spring-boot RESTful service,in that receiving JSON file which contain DateTime in following format <strong>\"2017-08-16T16:08:25.000Z\"</strong> and JsonFormat tries are e.g </p>\n\n<pre><code>@JsonFormat(pattern=\"yyyy-MM-dd HH:mm\") \n@JsonFormat(JsonFormat.Shape.STRING,pattern=\"yyyy-MM-dd@HH:mm:ss.SSSZ\")\n</code></pre>\n\n<p>but none of format match accepting.\njar used as shown below:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonFormat;\n</code></pre>\n\n<p>so what should be JSON format pattern to accept such json data -Date with Time </p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9813892,"reputation":1489,"user_id":7271020,"display_name":"sandpat"},"score":0,"creation_date":1580007010,"post_id":59915147,"comment_id":105955097,"body_markdown":"There is nothing special about this method that needs to be in the activity. You can make it a static method in a Utils class.","body":"There is nothing special about this method that needs to be in the activity. You can make it a static method in a Utils class."},{"owner":{"account_id":17616704,"reputation":3,"user_id":12783586,"display_name":"Razvan Mişu Costescu"},"score":0,"creation_date":1580007338,"post_id":59915147,"comment_id":105955127,"body_markdown":"@Josh i have 2 TextViews that need to be set, how do i do exactly ?","body":"@Josh i have 2 TextViews that need to be set, how do i do exactly ?"},{"owner":{"account_id":2539914,"reputation":600,"user_id":2205932,"display_name":"EvOlaNdLuPiZ"},"score":0,"creation_date":1580007356,"post_id":59915147,"comment_id":105955130,"body_markdown":"in `new Databse( (getContext()) ...)` try that parameter instead. Did you setup your rootview?","body":"in <code>new Databse( (getContext()) ...)</code> try that parameter instead. Did you setup your rootview?"},{"owner":{"account_id":9813892,"reputation":1489,"user_id":7271020,"display_name":"sandpat"},"score":0,"creation_date":1580007392,"post_id":59915147,"comment_id":105955138,"body_markdown":"so is this the host activity for your fragment?","body":"so is this the host activity for your fragment?"},{"owner":{"account_id":17616704,"reputation":3,"user_id":12783586,"display_name":"Razvan Mişu Costescu"},"score":0,"creation_date":1580007510,"post_id":59915147,"comment_id":105955148,"body_markdown":"@Josh the fragment is in the activity , but i have a ViewPagerAdapter that creates my fragments.","body":"@Josh the fragment is in the activity , but i have a ViewPagerAdapter that creates my fragments."},{"owner":{"account_id":17616704,"reputation":3,"user_id":12783586,"display_name":"Razvan Mişu Costescu"},"score":0,"creation_date":1580007540,"post_id":59915147,"comment_id":105955149,"body_markdown":"@EvOlaNdLuPiZ already tried that , same error , null object referece","body":"@EvOlaNdLuPiZ already tried that , same error , null object referece"},{"owner":{"account_id":2539914,"reputation":600,"user_id":2205932,"display_name":"EvOlaNdLuPiZ"},"score":0,"creation_date":1580007625,"post_id":59915147,"comment_id":105955155,"body_markdown":"i think you need to review fragment lifecycle a bit more [link](https://developer.android.com/guide/components/fragments) . when creating a fragment in the `onCreateView` you should create a reference to mRootView, so something like this `mRootView = inflater.inflate(R.layout.some_layout_file, container, false)` and mRootView is `private var mRootView: View` or in Kotlin `private lateinit var mRootView: View`, this way inside that static function you can go mRootView.getContext() (you won&#39;t need this because you can&#39;t use this in static scope)","body":"i think you need to review fragment lifecycle a bit more <a href=\"https://developer.android.com/guide/components/fragments\" rel=\"nofollow noreferrer\">link</a> . when creating a fragment in the <code>onCreateView</code> you should create a reference to mRootView, so something like this <code>mRootView = inflater.inflate(R.layout.some_layout_file, container, false)</code> and mRootView is <code>private var mRootView: View</code> or in Kotlin <code>private lateinit var mRootView: View</code>, this way inside that static function you can go mRootView.getContext() (you won&#39;t need this because you can&#39;t use this in static scope)"},{"owner":{"account_id":9813892,"reputation":1489,"user_id":7271020,"display_name":"sandpat"},"score":0,"creation_date":1580007808,"post_id":59915147,"comment_id":105955174,"body_markdown":"I think this should be a straightforward interface (listener) in the fragment and implemented by Activity.","body":"I think this should be a straightforward interface (listener) in the fragment and implemented by Activity."},{"owner":{"account_id":17616704,"reputation":3,"user_id":12783586,"display_name":"Razvan Mişu Costescu"},"score":0,"creation_date":1580008053,"post_id":59915147,"comment_id":105955196,"body_markdown":"@Josh i thought about that also , but i would be easier if i just call the method , the thing is i don&#39;t understand why if i try to instantiate the activity is always null","body":"@Josh i thought about that also , but i would be easier if i just call the method , the thing is i don&#39;t understand why if i try to instantiate the activity is always null"},{"owner":{"account_id":9813892,"reputation":1489,"user_id":7271020,"display_name":"sandpat"},"score":0,"creation_date":1580008224,"post_id":59915147,"comment_id":105955212,"body_markdown":"to launch an activity, you need intents and fragment isn&#39;t a place to do that. Even if you are able to instantiate a new object, it won&#39;t affect anything as it&#39;s a new plain object that&#39;s good for nothing.","body":"to launch an activity, you need intents and fragment isn&#39;t a place to do that. Even if you are able to instantiate a new object, it won&#39;t affect anything as it&#39;s a new plain object that&#39;s good for nothing."}],"answers":[{"tags":[],"owner":{"account_id":6013520,"reputation":1622,"user_id":4723178,"display_name":"Muhammad Maqsood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1580008301,"creation_date":1580008301,"answer_id":59915233,"question_id":59915147,"body_markdown":"If you have method **onUpdate** in your activity and want to call an activity method from fragment, call it as below in fragment where required.\r\n\r\n((YouActivityName) getActivity()).onUpdate();\r\n\r\nBe sure to replace your activity name.","title":"How to call an activity method from a fragment?","body":"<p>If you have method <strong>onUpdate</strong> in your activity and want to call an activity method from fragment, call it as below in fragment where required.</p>\n\n<p>((YouActivityName) getActivity()).onUpdate();</p>\n\n<p>Be sure to replace your activity name.</p>\n"},{"tags":[],"owner":{"account_id":4696087,"reputation":199,"user_id":3800927,"display_name":"bunty785"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580011920,"creation_date":1580011920,"answer_id":59915493,"question_id":59915147,"body_markdown":"\r\n    img_search.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent displayFlights = new Intent(getActivity(), SelectFlight.class);\r\n                startActivity(displayFlights);\r\n            }\r\n        });","title":"How to call an activity method from a fragment?","body":"<pre><code>img_search.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent displayFlights = new Intent(getActivity(), SelectFlight.class);\n            startActivity(displayFlights);\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14532035,"reputation":473,"user_id":10496632,"display_name":"user10496632"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580027840,"creation_date":1580027123,"answer_id":59916700,"question_id":59915147,"body_markdown":"You can make onUpdate() `static`.\r\n\r\nYour method header should look like this:\r\n\r\n    public static void onUpdate() {\r\n       // your code\r\n    }","title":"How to call an activity method from a fragment?","body":"<p>You can make onUpdate() <code>static</code>.</p>\n\n<p>Your method header should look like this:</p>\n\n<pre><code>public static void onUpdate() {\n   // your code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24924439,"reputation":1,"user_id":18792390,"display_name":"Safi Ullah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650455992,"creation_date":1650455992,"answer_id":71939253,"question_id":59915147,"body_markdown":"If you are using Kotlin instead of java you should try this\r\n\r\n    (activity as yourActivityName?)?.yourPublicMethod()","title":"How to call an activity method from a fragment?","body":"<p>If you are using Kotlin instead of java you should try this</p>\n<pre><code>(activity as yourActivityName?)?.yourPublicMethod()\n</code></pre>\n"}],"owner":{"account_id":17616704,"reputation":3,"user_id":12783586,"display_name":"Razvan Mişu Costescu"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59915233,"answer_count":4,"score":0,"last_activity_date":1650455992,"creation_date":1580006777,"question_id":59915147,"body_markdown":"I need to call a method that is in an activity from a fragment , i can&#39;t even instatiate the activity in the fragment , I don&#39;t know how to approach this problem. I need to call the activity&#39;s method from an onClick that is part of the fragment , because i need to update a value because it changed (ex: the value is 1 , after onClick the value is 2 but the activity doesn&#39;t update).\r\n\r\nThis is the method from the activity :\r\n\r\n       public void onUpdate(){\r\n\r\n        //setCount.setText(Integer.toString(new Database(this).getCountCart(FirebaseAuth.getInstance().getCurrentUser().getUid())));\r\n        setCount.setText(Integer.toString(new Database(this).getTotalCount(FirebaseAuth.getInstance().getCurrentUser().getUid())));\r\n\r\n        cart = new Database(this).getCarts(FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n        int total = 0;\r\n        for(OrderModel order:cart)\r\n            total+=(Integer.parseInt(String.valueOf(order.getPret()))) *(order.getCantitate());\r\n        Locale locale = new Locale(&quot;ro&quot;,&quot;RO&quot;);\r\n        NumberFormat fmt = NumberFormat.getCurrencyInstance(locale);\r\n        totalPrice.setText(fmt.format(total));\r\n        \r\n    }\r\n\r\nHere is where i try to call it from the fragment:\r\n\r\n    fragmentItem.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n      new Database(getActivity().getBaseContext()).increaseCart(FirebaseAuth.getInstance().getCurrentUser().getUid(),fragmentUnuModel.getDenumire());\r\n      food.onUpdate();\r\n    }\r\n\r\nAnd here is the error : \r\n\r\n      java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.cosnila.orderme.Food.onUpdate()&#39; on a null object reference\r\n        at com.cosnila.orderme.Fragments.FragmentUnu$1$1.onClick(FragmentUnu.java:123)","title":"How to call an activity method from a fragment?","body":"<p>I need to call a method that is in an activity from a fragment , i can't even instatiate the activity in the fragment , I don't know how to approach this problem. I need to call the activity's method from an onClick that is part of the fragment , because i need to update a value because it changed (ex: the value is 1 , after onClick the value is 2 but the activity doesn't update).</p>\n\n<p>This is the method from the activity :</p>\n\n<pre><code>   public void onUpdate(){\n\n    //setCount.setText(Integer.toString(new Database(this).getCountCart(FirebaseAuth.getInstance().getCurrentUser().getUid())));\n    setCount.setText(Integer.toString(new Database(this).getTotalCount(FirebaseAuth.getInstance().getCurrentUser().getUid())));\n\n    cart = new Database(this).getCarts(FirebaseAuth.getInstance().getCurrentUser().getUid());\n    int total = 0;\n    for(OrderModel order:cart)\n        total+=(Integer.parseInt(String.valueOf(order.getPret()))) *(order.getCantitate());\n    Locale locale = new Locale(\"ro\",\"RO\");\n    NumberFormat fmt = NumberFormat.getCurrencyInstance(locale);\n    totalPrice.setText(fmt.format(total));\n\n}\n</code></pre>\n\n<p>Here is where i try to call it from the fragment:</p>\n\n<pre><code>fragmentItem.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n  new Database(getActivity().getBaseContext()).increaseCart(FirebaseAuth.getInstance().getCurrentUser().getUid(),fragmentUnuModel.getDenumire());\n  food.onUpdate();\n}\n</code></pre>\n\n<p>And here is the error : </p>\n\n<pre><code>  java.lang.NullPointerException: Attempt to invoke virtual method 'void com.cosnila.orderme.Food.onUpdate()' on a null object reference\n    at com.cosnila.orderme.Fragments.FragmentUnu$1$1.onClick(FragmentUnu.java:123)\n</code></pre>\n"},{"tags":["java","jax-rs","quarkus","resteasy","microprofile"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1647546744,"post_id":71512013,"comment_id":126405073,"body_markdown":"You could try injecting the `ResourceInfo` and get the resource type there.","body":"You could try injecting the <code>ResourceInfo</code> and get the resource type there."},{"owner":{"account_id":4565174,"reputation":508,"user_id":3706372,"accept_rate":50,"display_name":"godo57"},"score":0,"creation_date":1647557356,"post_id":71512013,"comment_id":126407959,"body_markdown":"Thanks, already tried this solution and got a null reference","body":"Thanks, already tried this solution and got a null reference"}],"answers":[{"tags":[],"owner":{"account_id":19215844,"reputation":444,"user_id":14040597,"display_name":"xstefank"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649323377,"creation_date":1649230396,"answer_id":71762733,"question_id":71512013,"body_markdown":"This should work:\r\n\r\n```java\r\nimport org.jboss.resteasy.client.jaxrs.internal.ClientRequestContextImpl;\r\n\r\nimport javax.ws.rs.client.ClientRequestContext;\r\nimport javax.ws.rs.client.ClientRequestFilter;\r\nimport javax.ws.rs.ext.Provider;\r\n\r\n@Provider\r\npublic class MyFilter implements ClientRequestFilter {\r\n    @Override\r\n    public void filter(ClientRequestContext requestContext) {\r\n        Class&lt;?&gt; declaringClass = ((ClientRequestContextImpl) requestContext)\r\n            .getInvocation()\r\n            .getClientInvoker()\r\n            .getDeclaring();\r\n\r\n        MyAnnotation myAnnotation = declaringClass.getAnnotation(MyAnnotation.class);\r\n        System.out.println(myAnnotation.value());\r\n    }\r\n}\r\n```\r\n\r\nJust to mention, this is really RESTEasy specific. The class `ClientRequestContextImpl` comes from the internal RESTEasy package and thus might be subject to change. ","title":"how to get MicroProfile REST Client annotation in ClientRequestFilter","body":"<p>This should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.jboss.resteasy.client.jaxrs.internal.ClientRequestContextImpl;\n\nimport javax.ws.rs.client.ClientRequestContext;\nimport javax.ws.rs.client.ClientRequestFilter;\nimport javax.ws.rs.ext.Provider;\n\n@Provider\npublic class MyFilter implements ClientRequestFilter {\n    @Override\n    public void filter(ClientRequestContext requestContext) {\n        Class&lt;?&gt; declaringClass = ((ClientRequestContextImpl) requestContext)\n            .getInvocation()\n            .getClientInvoker()\n            .getDeclaring();\n\n        MyAnnotation myAnnotation = declaringClass.getAnnotation(MyAnnotation.class);\n        System.out.println(myAnnotation.value());\n    }\n}\n</code></pre>\n<p>Just to mention, this is really RESTEasy specific. The class <code>ClientRequestContextImpl</code> comes from the internal RESTEasy package and thus might be subject to change.</p>\n"},{"tags":[],"owner":{"account_id":18105857,"reputation":36,"user_id":13163194,"display_name":"blinkingnoise"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650455432,"creation_date":1649770445,"answer_id":71843676,"question_id":71512013,"body_markdown":"Here is the [MicroProfile REST Client specific way][1]:\r\n\r\n```lang-java\r\n@Provider\r\npublic class MyFilter implements ClientRequestFilter {\r\n   \r\n  public void filter(final ClientRequestContext clientRequestContext) {\r\n    \r\n    final Method method = (Method) clientRequestContext\r\n                              .getProperty(&quot;org.eclipse.microprofile.rest.client.invokedMethod&quot;);\r\n    \r\n    Class&lt;?&gt; declaringClass = method.getDeclaringClass();\r\n    System.out.println(declaringClass);\r\n\r\n    MyAnnotation myAnnotation = declaringClass.getAnnotation(MyAnnotation.class);\r\n    System.out.println(myAnnotation.value());\r\n  }\r\n}\r\n```\r\n\r\nwhich must work in all implementations including RESTEasy (Classic and  Reactive) or Apache CXF.\r\n\r\n  [1]: https://download.eclipse.org/microprofile/microprofile-rest-client-3.0/microprofile-rest-client-spec-3.0.html#_clientrequestfilter","title":"how to get MicroProfile REST Client annotation in ClientRequestFilter","body":"<p>Here is the <a href=\"https://download.eclipse.org/microprofile/microprofile-rest-client-3.0/microprofile-rest-client-spec-3.0.html#_clientrequestfilter\" rel=\"nofollow noreferrer\">MicroProfile REST Client specific way</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Provider\npublic class MyFilter implements ClientRequestFilter {\n   \n  public void filter(final ClientRequestContext clientRequestContext) {\n    \n    final Method method = (Method) clientRequestContext\n                              .getProperty(&quot;org.eclipse.microprofile.rest.client.invokedMethod&quot;);\n    \n    Class&lt;?&gt; declaringClass = method.getDeclaringClass();\n    System.out.println(declaringClass);\n\n    MyAnnotation myAnnotation = declaringClass.getAnnotation(MyAnnotation.class);\n    System.out.println(myAnnotation.value());\n  }\n}\n</code></pre>\n<p>which must work in all implementations including RESTEasy (Classic and  Reactive) or Apache CXF.</p>\n"}],"owner":{"account_id":4565174,"reputation":508,"user_id":3706372,"accept_rate":50,"display_name":"godo57"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":999,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71843676,"answer_count":2,"score":0,"last_activity_date":1650455432,"creation_date":1647518782,"question_id":71512013,"body_markdown":"My RestClient is annotated by a custom annotation and I want to get the annotation value in a ClientRequestFilter.\r\n\r\nHere is my MicroProfile RestClient: \r\n    \r\n    @Path(&quot;/greetings&quot;)\r\n    @RegisterRestClient\r\n    @MyAnnotation(&quot;myValue&quot;) \r\n    public interface MyRestClient{\r\n    \r\n      @GET\r\n      public String hello();\r\n    }\r\n\r\nI want to get the annotation value in my ClientRequestFilter:\r\n\r\n    public class MyFilter implements ClientRequestFilter {\r\n    \r\n      @Override\r\n      public void filter(ClientRequestContext requestContext) {\r\n       // Here i want to get the MyAnnotation value. i.e &quot;myValue&quot;\r\n      }\r\n    }\r\n\r\nI tried to call the `requestContext.getClient().getAnnotations()` method but it does not work since `requestContext.getClient()` is an instance of `org.jboss.resteasy.microprofile.client.impl.MpClient`\r\n\r\nThe implementation in question is RESTEasy. I would like to find a way to get this information from both RESTEasy classic and RESTEasy reactive implementations.\r\n\r\nThanks for your help","title":"how to get MicroProfile REST Client annotation in ClientRequestFilter","body":"<p>My RestClient is annotated by a custom annotation and I want to get the annotation value in a ClientRequestFilter.</p>\n<p>Here is my MicroProfile RestClient:</p>\n<pre><code>@Path(&quot;/greetings&quot;)\n@RegisterRestClient\n@MyAnnotation(&quot;myValue&quot;) \npublic interface MyRestClient{\n\n  @GET\n  public String hello();\n}\n</code></pre>\n<p>I want to get the annotation value in my ClientRequestFilter:</p>\n<pre><code>public class MyFilter implements ClientRequestFilter {\n\n  @Override\n  public void filter(ClientRequestContext requestContext) {\n   // Here i want to get the MyAnnotation value. i.e &quot;myValue&quot;\n  }\n}\n</code></pre>\n<p>I tried to call the <code>requestContext.getClient().getAnnotations()</code> method but it does not work since <code>requestContext.getClient()</code> is an instance of <code>org.jboss.resteasy.microprofile.client.impl.MpClient</code></p>\n<p>The implementation in question is RESTEasy. I would like to find a way to get this information from both RESTEasy classic and RESTEasy reactive implementations.</p>\n<p>Thanks for your help</p>\n"},{"tags":["java","pdf","itext","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1608212255,"post_id":65340339,"comment_id":115517844,"body_markdown":"Re PDFBox, please have a look at the examples in the source code download. Start with HelloWorld.java.","body":"Re PDFBox, please have a look at the examples in the source code download. Start with HelloWorld.java."},{"owner":{"account_id":12837618,"reputation":355,"user_id":9286672,"display_name":"Mahesh"},"score":0,"creation_date":1608216716,"post_id":65340339,"comment_id":115520137,"body_markdown":"I have created a pdf from scratch in iText but not sure about pdfBox\n\nwill it possible with pdfBox","body":"I have created a pdf from scratch in iText but not sure about pdfBox  will it possible with pdfBox"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1608218564,"post_id":65340339,"comment_id":115521090,"body_markdown":"In either case you can create the body text on fresh empty pages as usual done with the respective library and then underlay your template page under each of the pages with body content.","body":"In either case you can create the body text on fresh empty pages as usual done with the respective library and then underlay your template page under each of the pages with body content."},{"owner":{"account_id":12837618,"reputation":355,"user_id":9286672,"display_name":"Mahesh"},"score":0,"creation_date":1608251601,"post_id":65340339,"comment_id":115533793,"body_markdown":"How can we underlay template page under a page with body in java","body":"How can we underlay template page under a page with body in java"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1608288962,"post_id":65340339,"comment_id":115543556,"body_markdown":"In PDFBox you create a PDPageContentStream with the append option in the parameters. Make sure that the fifth parameter is true.","body":"In PDFBox you create a PDPageContentStream with the append option in the parameters. Make sure that the fifth parameter is true."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1608293323,"post_id":65340339,"comment_id":115545297,"body_markdown":"Depending on the iText version, there are different ways to do that (for example underlaying in page events while you create the body content regularly or underlaying in a second pass after the body content is created, or...). Unfortunately you in your question give hardly any information on the context, don&#39;t show what you&#39;ve tried and where that failed, ...","body":"Depending on the iText version, there are different ways to do that (for example underlaying in page events while you create the body content regularly or underlaying in a second pass after the body content is created, or...). Unfortunately you in your question give hardly any information on the context, don&#39;t show what you&#39;ve tried and where that failed, ..."}],"answers":[{"tags":[],"owner":{"account_id":362917,"reputation":630,"user_id":706360,"display_name":"leoleozhu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1608291719,"creation_date":1608291719,"answer_id":65356438,"question_id":65340339,"body_markdown":"With PdfReader and PdfWriter from iText, you can load a PDF file, do some modification then write it to another location. \r\n\r\nSample code: \r\n\r\n        String srcPdf = &quot;source-path.pdf&quot;;\r\n        String destPdf = &quot;destination-path.pdf&quot;;\r\n\r\n        PdfReader reader = new PdfReader(srcPdf);\r\n        PdfWriter writer = new PdfWriter(destPdf);\r\n\r\n        try (PdfDocument pdfDocument = new PdfDocument(reader, writer)) {\r\n\r\n            PdfPage page = pdfDocument.getPage(1);\r\n\r\n            // change pdf file starts here\r\n            String imgPath = &quot;image-path.jpg&quot;;\r\n            ImageData imageData = ImageDataFactory.create(imgPath);\r\n\r\n            // create page canvas\r\n            PdfCanvas pdfCanvas = new PdfCanvas(page);\r\n\r\n            // create AT\r\n            AffineTransform at = AffineTransform.getTranslateInstance(page.getPageSize().getWidth() / 10, page.getPageSize().getHeight() / 10);\r\n            at.concatenate(AffineTransform.getScaleInstance(page.getPageSize().getWidth() * 8 / 10, page.getPageSize().getHeight() * 8 / 10));\r\n\r\n            float[] matrix = new float[6];\r\n            at.getMatrix(matrix);\r\n\r\n            // add image data\r\n            pdfCanvas.addImageWithTransformationMatrix(imageData, matrix[0], matrix[1], matrix[2], matrix[3], matrix[4], matrix[5]);\r\n\r\n            pdfCanvas.release();\r\n        }\r\n","title":"How to edit the contents of an existing PDF programmatically in JAVA","body":"<p>With PdfReader and PdfWriter from iText, you can load a PDF file, do some modification then write it to another location.</p>\n<p>Sample code:</p>\n<pre><code>    String srcPdf = &quot;source-path.pdf&quot;;\n    String destPdf = &quot;destination-path.pdf&quot;;\n\n    PdfReader reader = new PdfReader(srcPdf);\n    PdfWriter writer = new PdfWriter(destPdf);\n\n    try (PdfDocument pdfDocument = new PdfDocument(reader, writer)) {\n\n        PdfPage page = pdfDocument.getPage(1);\n\n        // change pdf file starts here\n        String imgPath = &quot;image-path.jpg&quot;;\n        ImageData imageData = ImageDataFactory.create(imgPath);\n\n        // create page canvas\n        PdfCanvas pdfCanvas = new PdfCanvas(page);\n\n        // create AT\n        AffineTransform at = AffineTransform.getTranslateInstance(page.getPageSize().getWidth() / 10, page.getPageSize().getHeight() / 10);\n        at.concatenate(AffineTransform.getScaleInstance(page.getPageSize().getWidth() * 8 / 10, page.getPageSize().getHeight() * 8 / 10));\n\n        float[] matrix = new float[6];\n        at.getMatrix(matrix);\n\n        // add image data\n        pdfCanvas.addImageWithTransformationMatrix(imageData, matrix[0], matrix[1], matrix[2], matrix[3], matrix[4], matrix[5]);\n\n        pdfCanvas.release();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12837618,"reputation":355,"user_id":9286672,"display_name":"Mahesh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1608300426,"creation_date":1608300426,"answer_id":65358458,"question_id":65340339,"body_markdown":"        PdfReader reader = new PdfReader(&quot;./the-pdf-where-you-want-to-insert-into.pdf&quot;);\r\n        PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(&quot;./destination.pdf&quot;));\r\n\r\n        PdfReader r = new PdfReader(&quot;./the-pdf-you-want-to-insert.pdf&quot;);\r\n        PdfImportedPage page = stamper.getImportedPage(r, 1);\r\n\r\n        Image instance = Image.getInstance(page);\r\n\r\n        AffineTransform at = AffineTransform.getTranslateInstance(x, y); // x y positions where you want insert\r\n        at.concatenate(AffineTransform.getScaleInstance(instance.getScaledWidth(), instance.getScaledHeight()));\r\n\r\n        PdfContentByte canvas = stamper.getOverContent(1);\r\n        canvas.addImage(instance, at);\r\n\r\n        stamper.close();\r\n        reader.close();","title":"How to edit the contents of an existing PDF programmatically in JAVA","body":"<pre><code>    PdfReader reader = new PdfReader(&quot;./the-pdf-where-you-want-to-insert-into.pdf&quot;);\n    PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(&quot;./destination.pdf&quot;));\n\n    PdfReader r = new PdfReader(&quot;./the-pdf-you-want-to-insert.pdf&quot;);\n    PdfImportedPage page = stamper.getImportedPage(r, 1);\n\n    Image instance = Image.getInstance(page);\n\n    AffineTransform at = AffineTransform.getTranslateInstance(x, y); // x y positions where you want insert\n    at.concatenate(AffineTransform.getScaleInstance(instance.getScaledWidth(), instance.getScaledHeight()));\n\n    PdfContentByte canvas = stamper.getOverContent(1);\n    canvas.addImage(instance, at);\n\n    stamper.close();\n    reader.close();\n</code></pre>\n"}],"owner":{"account_id":12837618,"reputation":355,"user_id":9286672,"display_name":"Mahesh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1464,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1608312521,"accepted_answer_id":65358458,"answer_count":2,"score":-1,"last_activity_date":1650455373,"creation_date":1608206477,"question_id":65340339,"body_markdown":"Let&#39;s assume I have an existing pdf with a fixed header and footer and blank body like the below image\r\n\r\n[![Empty PDF template][1]][1]\r\n\r\nAnd I have to add content to the body(white part in the image)\r\n\r\nHow can I do that in java? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TvRdQ.png","title":"How to edit the contents of an existing PDF programmatically in JAVA","body":"<p>Let's assume I have an existing pdf with a fixed header and footer and blank body like the below image</p>\n<p><a href=\"https://i.stack.imgur.com/TvRdQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TvRdQ.png\" alt=\"Empty PDF template\" /></a></p>\n<p>And I have to add content to the body(white part in the image)</p>\n<p>How can I do that in java?</p>\n"},{"tags":["java","android","hide","android-cardview"],"answers":[{"tags":[],"owner":{"account_id":14186902,"reputation":229,"user_id":10248593,"display_name":"Jinal Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650454462,"creation_date":1650454462,"answer_id":71938921,"question_id":71938807,"body_markdown":"     private void hideOrder(final Integer position) {//Pass selected item position\r\n            AlertDialog.Builder alertDialog=new AlertDialog.Builder(OrderStatus.this);\r\n            alertDialog.setTitle(&quot;Ol&#225;, &quot;+Common.currentUser.getName());\r\n            alertDialog.setMessage(&quot;O pedido foi entregue?&quot;);\r\n            alertDialog.setCancelable(false);\r\n            alertDialog.setPositiveButton(&quot;Sim&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int which) {\r\n    \r\n                    dialog.dismiss();\r\n                  \r\n                    //**remove item from list at specific position**\r\n    \r\n                    adapter.notifyDataSetChanged();\r\n                    Toast.makeText(OrderStatus.this, &quot;Pedido finalizado com sucesso!&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n            alertDialog.setNegativeButton(&quot;N&#227;o&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int which) {\r\n    \r\n                    dialog.dismiss();\r\n                    Toast.makeText(OrderStatus.this, &quot;Cancelado&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n            alertDialog.setIcon(R.mipmap.picture);\r\n            alertDialog.show();\r\n        }","title":"Best way to make CardView hide","body":"<pre><code> private void hideOrder(final Integer position) {//Pass selected item position\n        AlertDialog.Builder alertDialog=new AlertDialog.Builder(OrderStatus.this);\n        alertDialog.setTitle(&quot;Olá, &quot;+Common.currentUser.getName());\n        alertDialog.setMessage(&quot;O pedido foi entregue?&quot;);\n        alertDialog.setCancelable(false);\n        alertDialog.setPositiveButton(&quot;Sim&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n\n                dialog.dismiss();\n              \n                //**remove item from list at specific position**\n\n                adapter.notifyDataSetChanged();\n                Toast.makeText(OrderStatus.this, &quot;Pedido finalizado com sucesso!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n        alertDialog.setNegativeButton(&quot;Não&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n\n                dialog.dismiss();\n                Toast.makeText(OrderStatus.this, &quot;Cancelado&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n        alertDialog.setIcon(R.mipmap.picture);\n        alertDialog.show();\n    }\n</code></pre>\n"}],"owner":{"account_id":13674150,"reputation":3,"user_id":9866115,"display_name":"Leandro Mendes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650455181,"creation_date":1650453977,"question_id":71938807,"body_markdown":"this CardView \r\n\r\n    &lt;android.support.v7.widget.CardView\r\n        android:id=&quot;@+id/cardv&quot;\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        android:layout_margin=&quot;8dp&quot;\r\n        app:cardElevation=&quot;4dp&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n            &lt;LinearLayout\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                android:layout_marginBottom=&quot;16dp&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_margin=&quot;2dp&quot;\r\n                    android:orientation=&quot;vertical&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n                    &lt;LinearLayout\r\n                        android:layout_marginLeft=&quot;5dp&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;horizontal&quot; &gt;\r\n                        &lt;TextView\r\n                            android:text=&quot;Data:&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            android:textColor=&quot;@android:color/black&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/order_date&quot;\r\n                            android:layout_marginLeft=&quot;10dp&quot;\r\n                            android:layout_gravity=&quot;center_vertical|start&quot;\r\n                            android:textAllCaps=&quot;true&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            android:textColor=&quot;@android:color/black&quot;\r\n                            android:text=&quot;Order Date&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                    &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;LinearLayout\r\n                        android:layout_marginLeft=&quot;5dp&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;horizontal&quot; &gt;\r\n                        &lt;TextView\r\n                            android:text=&quot;N&#186; de pedido:&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            android:textColor=&quot;@android:color/black&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/order_id&quot;\r\n                            android:layout_marginLeft=&quot;10dp&quot;\r\n                            android:layout_gravity=&quot;center_vertical|start&quot;\r\n                            android:textAllCaps=&quot;true&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            android:textColor=&quot;@android:color/black&quot;\r\n                            android:text=&quot;#111111&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                    &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;LinearLayout\r\n                        android:layout_marginLeft=&quot;5dp&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;horizontal&quot; &gt;\r\n                        &lt;TextView\r\n                            android:text=&quot;Nome:&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            android:textColor=&quot;@android:color/black&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/userName&quot;\r\n                            android:layout_marginLeft=&quot;10dp&quot;\r\n                            android:layout_gravity=&quot;center_vertical|start&quot;\r\n                            android:textAllCaps=&quot;true&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            android:textColor=&quot;@android:color/black&quot;\r\n                            android:text=&quot;Name&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                    &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;LinearLayout\r\n                        android:layout_marginLeft=&quot;5dp&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;horizontal&quot; &gt;\r\n                        &lt;TextView\r\n                            android:text=&quot;Contacto:&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            android:textColor=&quot;@android:color/black&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/order_phone&quot;\r\n                            android:layout_marginLeft=&quot;10dp&quot;\r\n                            android:layout_gravity=&quot;center_vertical|start&quot;\r\n                            android:textAllCaps=&quot;true&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            android:textColor=&quot;@android:color/black&quot;\r\n                            android:text=&quot;123456789&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                    &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;LinearLayout\r\n                        android:layout_marginLeft=&quot;5dp&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;horizontal&quot; &gt;\r\n                        &lt;TextView\r\n                            android:text=&quot;Morada:&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            android:textColor=&quot;@android:color/black&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/order_address&quot;\r\n                            android:layout_marginLeft=&quot;10dp&quot;\r\n                            android:layout_gravity=&quot;center_vertical|start&quot;\r\n                            android:textAllCaps=&quot;true&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            android:textColor=&quot;@android:color/black&quot;\r\n                            android:text=&quot;Address&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                    &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;LinearLayout\r\n                        android:layout_marginLeft=&quot;5dp&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        android:textColor=&quot;@android:color/black&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;horizontal&quot; &gt;\r\n                        &lt;TextView\r\n                            android:text=&quot;Metodo de pagamento:&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            android:textColor=&quot;@android:color/black&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/paymentMethod&quot;\r\n                            android:layout_marginLeft=&quot;10dp&quot;\r\n                            android:layout_gravity=&quot;center_vertical|start&quot;\r\n                            android:textAllCaps=&quot;true&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            android:textColor=&quot;@android:color/black&quot;\r\n                            android:text=&quot;Payment Method&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                    &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;LinearLayout\r\n                        android:layout_marginLeft=&quot;5dp&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;horizontal&quot; &gt;\r\n                        &lt;TextView\r\n                            android:text=&quot;Estado de pagamento:&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            android:textColor=&quot;@android:color/black&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/paymentState&quot;\r\n                            android:layout_marginLeft=&quot;10dp&quot;\r\n                            android:layout_gravity=&quot;center_vertical|start&quot;\r\n                            android:textAllCaps=&quot;true&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            android:textColor=&quot;@android:color/black&quot;\r\n                            android:text=&quot;Payment State&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                    &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;LinearLayout\r\n                        android:layout_marginLeft=&quot;5dp&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;horizontal&quot; &gt;\r\n                        &lt;TextView\r\n                            android:text=&quot;Estado do pedido:&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            android:textColor=&quot;@android:color/black&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/order_status&quot;\r\n                            android:layout_marginLeft=&quot;10dp&quot;\r\n                            android:layout_gravity=&quot;center_vertical|start&quot;\r\n                            android:textAllCaps=&quot;true&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            android:textColor=&quot;@android:color/black&quot;\r\n                            android:text=&quot;Status&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                    &lt;/LinearLayout&gt;\r\n    \r\n                    &lt;LinearLayout\r\n                        android:layout_marginLeft=&quot;5dp&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;horizontal&quot; &gt;\r\n                        &lt;TextView\r\n                            android:text=&quot;Total:&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            android:textColor=&quot;@android:color/black&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/totalAmount&quot;\r\n                            android:layout_marginLeft=&quot;10dp&quot;\r\n                            android:layout_gravity=&quot;center_vertical|start&quot;\r\n                            android:textAllCaps=&quot;true&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            android:textColor=&quot;@android:color/black&quot;\r\n                            android:text=&quot;Total Amount&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n                    &lt;/LinearLayout&gt;\r\n    \r\n                &lt;/LinearLayout&gt;\r\n    \r\n    \r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:layout_weight=&quot;4&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n                &lt;info.hoang8f.widget.FButton\r\n                    android:layout_margin=&quot;5dp&quot;\r\n                    android:id=&quot;@+id/btnEdit&quot;\r\n                    android:text=&quot;Estado&quot;\r\n                    android:textColor=&quot;@android:color/white&quot;\r\n                    android:shadowColor=&quot;@android:color/black&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    app:cornerRadius=&quot;5dp&quot;\r\n                    app:fButtonColor=&quot;@android:color/holo_red_light&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    \r\n                &lt;info.hoang8f.widget.FButton\r\n                    android:id=&quot;@+id/btnHide&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_margin=&quot;5dp&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:onClick=&quot;Hide&quot;\r\n                    android:shadowColor=&quot;@android:color/black&quot;\r\n                    android:text=&quot;Finalizr&quot;\r\n                    android:textColor=&quot;@android:color/white&quot;\r\n                    app:cornerRadius=&quot;5dp&quot;\r\n                    app:fButtonColor=&quot;@android:color/holo_blue_light&quot; /&gt;\r\n    \r\n                &lt;info.hoang8f.widget.FButton\r\n                    android:id=&quot;@+id/btnDetail&quot;\r\n                    android:layout_margin=&quot;5dp&quot;\r\n                    android:text=&quot;Detalhes&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:textColor=&quot;@android:color/white&quot;\r\n                    android:shadowColor=&quot;@android:color/black&quot;\r\n                    app:cornerRadius=&quot;5dp&quot;\r\n                    app:fButtonColor=&quot;@android:color/holo_orange_light&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    \r\n                &lt;info.hoang8f.widget.FButton\r\n                    android:id=&quot;@+id/btnDirection&quot;\r\n                    android:layout_margin=&quot;5dp&quot;\r\n                    android:text=&quot;Dire&#231;&#245;es&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:textColor=&quot;@android:color/white&quot;\r\n                    android:shadowColor=&quot;@android:color/black&quot;\r\n                    app:cornerRadius=&quot;5dp&quot;\r\n                    app:fButtonColor=&quot;@android:color/holo_green_dark&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    \r\n            &lt;/LinearLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/android.support.v7.widget.CardView&gt;\r\n\r\nappears in this list:\r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:padding=&quot;16dp&quot;\r\n            android:background=&quot;@drawable/bgencomendeas&quot;\r\n            tools:context=&quot;.OrderStatus&quot;&gt;\r\n            &lt;Button\r\n                android:id=&quot;@+id/voltar2&quot;\r\n                android:layout_width=&quot;65dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:background=&quot;@color/fbutton_color_transparent&quot;\r\n                android:text=&quot;Voltar&quot;\r\n                android:textSize=&quot;12sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                tools:ignore=&quot;MissingConstraints&quot; /&gt;\r\n            &lt;pl.droidsonroids.gif.GifImageView\r\n                android:id=&quot;@+id/imgAndroidInstalike2&quot;\r\n                android:layout_width=&quot;85dp&quot;\r\n                android:layout_height=&quot;98dp&quot;\r\n                android:layout_alignParentBottom=&quot;true&quot;\r\n                android:background=&quot;@drawable/instalike2&quot;\r\n                tools:ignore=&quot;MissingConstraints&quot;\r\n                tools:layout_editor_absoluteX=&quot;297dp&quot;\r\n                tools:layout_editor_absoluteY=&quot;595dp&quot; /&gt;\r\n            &lt;android.support.v7.widget.RecyclerView\r\n                android:layout_marginTop=&quot;46dp&quot;\r\n                android:id=&quot;@+id/listOrders&quot;\r\n                android:background=&quot;@android:color/transparent&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot; /&gt;\r\n        &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\nI declared in ViewHolder :\r\n\r\n    public class OrderViewHolder extends RecyclerView.ViewHolder{\r\n    \r\n        public TextView txtOrderId,txtOrderStatus,txtOrderPhone,txtOrderAddress,txtOrderDate,txtPaymentState,txtPaymentMethod,txtName,txtTotal;\r\n        public Button btnEdit,btnHide,btnRemove,btnDetail,btnDirection;\r\n        public CardView cardlayoutadapter;\r\n        \r\n        public OrderViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            txtOrderAddress=(TextView)itemView.findViewById(R.id.order_address);\r\n            txtOrderId=(TextView)itemView.findViewById(R.id.order_id);\r\n            txtOrderStatus=(TextView)itemView.findViewById(R.id.order_status);\r\n            txtOrderPhone=(TextView)itemView.findViewById(R.id.order_phone);\r\n            txtOrderDate=(TextView)itemView.findViewById(R.id.order_date);\r\n            txtPaymentState=(TextView)itemView.findViewById(R.id.paymentState);\r\n            txtPaymentMethod=(TextView)itemView.findViewById(R.id.paymentMethod);\r\n            txtName=(TextView)itemView.findViewById(R.id.userName);\r\n            txtTotal=(TextView)itemView.findViewById(R.id.totalAmount);\r\n    \r\n            btnEdit=(Button)itemView.findViewById(R.id.btnEdit);\r\n            btnRemove=(Button)itemView.findViewById(R.id.btnRemove);\r\n            btnHide=(Button)itemView.findViewById(R.id.btnHide);\r\n            btnDetail=(Button)itemView.findViewById(R.id.btnDetail);\r\n            btnDirection=(Button)itemView.findViewById(R.id.btnDirection);\r\n    \r\n            cardlayoutadapter = (CardView)itemView.findViewById(R.id.cardv);\r\n        }\r\n    \r\n    }\r\n\r\nwhen I click the btnHide button it goes to &quot;private void hideOrder&quot; to make sure I want to make it disappear after completing the order, and this is where I wanted to somehow make the cardview disappear with that data, so it&#39;s not there to occupy , I have another &quot;layout that makes eliminate&quot;, either in GONE or invisibility or put the parameter layout_height == 0\r\n\r\n\r\n    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            CalligraphyConfig.initDefault(new CalligraphyConfig.Builder()\r\n                    .setDefaultFontPath(&quot;fonts/Vahika.ttf&quot;)\r\n                    .setFontAttrId(R.attr.fontPath)\r\n                    .build());\r\n            setContentView(R.layout.activity_order_status);\r\n    \r\n    \r\n    \r\n    @Override\r\n                protected void onBindViewHolder(@NonNull OrderViewHolder holder, final int position, @NonNull final Request model) {\r\n                    holder.txtOrderId.setText(adapter.getRef(position).getKey());\r\n                    holder.txtOrderStatus.setText(Common.convertCodeToStatus(model.getStatus()));\r\n                    holder.txtOrderAddress.setText(model.getAddress());\r\n                    holder.txtOrderPhone.setText(model.getPhone());\r\n                    holder.txtOrderDate.setText(Common.getDate(Long.parseLong(adapter.getRef(position).getKey())));\r\n                    holder.txtPaymentMethod.setText(model.getPaymentMethod());\r\n                    holder.txtPaymentState.setText(model.getPaymentState());\r\n                    holder.txtName.setText(model.getName());\r\n                    holder.txtTotal.setText(model.getTotal());\r\n    \r\n    holder.btnHide.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            hideOrder(adapter.getRef(position).getKey());\r\n                        }\r\n                    });\r\n    \r\n     private void hideOrder(final String key) {\r\n            AlertDialog.Builder alertDialog=new AlertDialog.Builder(OrderStatus.this);\r\n            alertDialog.setTitle(&quot;Ol&#225;, &quot;+Common.currentUser.getName());\r\n            alertDialog.setMessage(&quot;O pedido foi entregue?&quot;);\r\n            alertDialog.setCancelable(false);\r\n            alertDialog.setPositiveButton(&quot;Sim&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int which) {\r\n    \r\n                    dialog.dismiss();\r\n                    //linearcardv\r\n                    //reuests.child(key).removeValue();\r\n                    //binding.CardView.setVisibility(View.GONE);\r\n                    //reuests.child(key).setValue(View.INVISIBLE);\r\n    \r\n                    cardlayoutadapter.setVisibility(View.GONE);\r\n                    adapter.notifyDataSetChanged();\r\n                    Toast.makeText(OrderStatus.this, &quot;Pedido finalizado com sucesso!&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n            alertDialog.setNegativeButton(&quot;N&#227;o&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int which) {\r\n    \r\n                    dialog.dismiss();\r\n                    Toast.makeText(OrderStatus.this, &quot;Cancelado&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n            alertDialog.setIcon(R.mipmap.picture);\r\n            alertDialog.show();\r\n        }\r\n\r\n","title":"Best way to make CardView hide","body":"<p>this CardView</p>\n<pre><code>&lt;android.support.v7.widget.CardView\n    android:id=&quot;@+id/cardv&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:visibility=&quot;visible&quot;\n    android:layout_margin=&quot;8dp&quot;\n    app:cardElevation=&quot;4dp&quot;&gt;\n\n    &lt;LinearLayout\n        android:orientation=&quot;vertical&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n        &lt;LinearLayout\n            android:layout_marginTop=&quot;16dp&quot;\n            android:layout_marginBottom=&quot;16dp&quot;\n            android:orientation=&quot;horizontal&quot;\n            android:layout_gravity=&quot;center_vertical&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n\n\n            &lt;LinearLayout\n                android:layout_margin=&quot;2dp&quot;\n                android:orientation=&quot;vertical&quot;\n                android:layout_weight=&quot;1&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n\n                &lt;LinearLayout\n                    android:layout_marginLeft=&quot;5dp&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;horizontal&quot; &gt;\n                    &lt;TextView\n                        android:text=&quot;Data:&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textColor=&quot;@android:color/black&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\n                    &lt;TextView\n                        android:id=&quot;@+id/order_date&quot;\n                        android:layout_marginLeft=&quot;10dp&quot;\n                        android:layout_gravity=&quot;center_vertical|start&quot;\n                        android:textAllCaps=&quot;true&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textColor=&quot;@android:color/black&quot;\n                        android:text=&quot;Order Date&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_marginLeft=&quot;5dp&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;horizontal&quot; &gt;\n                    &lt;TextView\n                        android:text=&quot;Nº de pedido:&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textColor=&quot;@android:color/black&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\n                    &lt;TextView\n                        android:id=&quot;@+id/order_id&quot;\n                        android:layout_marginLeft=&quot;10dp&quot;\n                        android:layout_gravity=&quot;center_vertical|start&quot;\n                        android:textAllCaps=&quot;true&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textColor=&quot;@android:color/black&quot;\n                        android:text=&quot;#111111&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_marginLeft=&quot;5dp&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;horizontal&quot; &gt;\n                    &lt;TextView\n                        android:text=&quot;Nome:&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textColor=&quot;@android:color/black&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\n                    &lt;TextView\n                        android:id=&quot;@+id/userName&quot;\n                        android:layout_marginLeft=&quot;10dp&quot;\n                        android:layout_gravity=&quot;center_vertical|start&quot;\n                        android:textAllCaps=&quot;true&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textColor=&quot;@android:color/black&quot;\n                        android:text=&quot;Name&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_marginLeft=&quot;5dp&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;horizontal&quot; &gt;\n                    &lt;TextView\n                        android:text=&quot;Contacto:&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textColor=&quot;@android:color/black&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\n                    &lt;TextView\n                        android:id=&quot;@+id/order_phone&quot;\n                        android:layout_marginLeft=&quot;10dp&quot;\n                        android:layout_gravity=&quot;center_vertical|start&quot;\n                        android:textAllCaps=&quot;true&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textColor=&quot;@android:color/black&quot;\n                        android:text=&quot;123456789&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_marginLeft=&quot;5dp&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;horizontal&quot; &gt;\n                    &lt;TextView\n                        android:text=&quot;Morada:&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textColor=&quot;@android:color/black&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\n                    &lt;TextView\n                        android:id=&quot;@+id/order_address&quot;\n                        android:layout_marginLeft=&quot;10dp&quot;\n                        android:layout_gravity=&quot;center_vertical|start&quot;\n                        android:textAllCaps=&quot;true&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textColor=&quot;@android:color/black&quot;\n                        android:text=&quot;Address&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_marginLeft=&quot;5dp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:textColor=&quot;@android:color/black&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;horizontal&quot; &gt;\n                    &lt;TextView\n                        android:text=&quot;Metodo de pagamento:&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textColor=&quot;@android:color/black&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\n                    &lt;TextView\n                        android:id=&quot;@+id/paymentMethod&quot;\n                        android:layout_marginLeft=&quot;10dp&quot;\n                        android:layout_gravity=&quot;center_vertical|start&quot;\n                        android:textAllCaps=&quot;true&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textColor=&quot;@android:color/black&quot;\n                        android:text=&quot;Payment Method&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_marginLeft=&quot;5dp&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;horizontal&quot; &gt;\n                    &lt;TextView\n                        android:text=&quot;Estado de pagamento:&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textColor=&quot;@android:color/black&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\n                    &lt;TextView\n                        android:id=&quot;@+id/paymentState&quot;\n                        android:layout_marginLeft=&quot;10dp&quot;\n                        android:layout_gravity=&quot;center_vertical|start&quot;\n                        android:textAllCaps=&quot;true&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textColor=&quot;@android:color/black&quot;\n                        android:text=&quot;Payment State&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_marginLeft=&quot;5dp&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;horizontal&quot; &gt;\n                    &lt;TextView\n                        android:text=&quot;Estado do pedido:&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textColor=&quot;@android:color/black&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\n                    &lt;TextView\n                        android:id=&quot;@+id/order_status&quot;\n                        android:layout_marginLeft=&quot;10dp&quot;\n                        android:layout_gravity=&quot;center_vertical|start&quot;\n                        android:textAllCaps=&quot;true&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textColor=&quot;@android:color/black&quot;\n                        android:text=&quot;Status&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_marginLeft=&quot;5dp&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;horizontal&quot; &gt;\n                    &lt;TextView\n                        android:text=&quot;Total:&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textColor=&quot;@android:color/black&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\n                    &lt;TextView\n                        android:id=&quot;@+id/totalAmount&quot;\n                        android:layout_marginLeft=&quot;10dp&quot;\n                        android:layout_gravity=&quot;center_vertical|start&quot;\n                        android:textAllCaps=&quot;true&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textColor=&quot;@android:color/black&quot;\n                        android:text=&quot;Total Amount&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot; /&gt;\n                &lt;/LinearLayout&gt;\n\n            &lt;/LinearLayout&gt;\n\n\n\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:orientation=&quot;horizontal&quot;\n            android:layout_weight=&quot;4&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n\n            &lt;info.hoang8f.widget.FButton\n                android:layout_margin=&quot;5dp&quot;\n                android:id=&quot;@+id/btnEdit&quot;\n                android:text=&quot;Estado&quot;\n                android:textColor=&quot;@android:color/white&quot;\n                android:shadowColor=&quot;@android:color/black&quot;\n                android:layout_weight=&quot;1&quot;\n                app:cornerRadius=&quot;5dp&quot;\n                app:fButtonColor=&quot;@android:color/holo_red_light&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot; /&gt;\n\n            &lt;info.hoang8f.widget.FButton\n                android:id=&quot;@+id/btnHide&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_margin=&quot;5dp&quot;\n                android:layout_weight=&quot;1&quot;\n                android:onClick=&quot;Hide&quot;\n                android:shadowColor=&quot;@android:color/black&quot;\n                android:text=&quot;Finalizr&quot;\n                android:textColor=&quot;@android:color/white&quot;\n                app:cornerRadius=&quot;5dp&quot;\n                app:fButtonColor=&quot;@android:color/holo_blue_light&quot; /&gt;\n\n            &lt;info.hoang8f.widget.FButton\n                android:id=&quot;@+id/btnDetail&quot;\n                android:layout_margin=&quot;5dp&quot;\n                android:text=&quot;Detalhes&quot;\n                android:layout_weight=&quot;1&quot;\n                android:textColor=&quot;@android:color/white&quot;\n                android:shadowColor=&quot;@android:color/black&quot;\n                app:cornerRadius=&quot;5dp&quot;\n                app:fButtonColor=&quot;@android:color/holo_orange_light&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot; /&gt;\n\n            &lt;info.hoang8f.widget.FButton\n                android:id=&quot;@+id/btnDirection&quot;\n                android:layout_margin=&quot;5dp&quot;\n                android:text=&quot;Direções&quot;\n                android:layout_weight=&quot;1&quot;\n                android:textColor=&quot;@android:color/white&quot;\n                android:shadowColor=&quot;@android:color/black&quot;\n                app:cornerRadius=&quot;5dp&quot;\n                app:fButtonColor=&quot;@android:color/holo_green_dark&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n<p>appears in this list:</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:padding=&quot;16dp&quot;\n        android:background=&quot;@drawable/bgencomendeas&quot;\n        tools:context=&quot;.OrderStatus&quot;&gt;\n        &lt;Button\n            android:id=&quot;@+id/voltar2&quot;\n            android:layout_width=&quot;65dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@color/fbutton_color_transparent&quot;\n            android:text=&quot;Voltar&quot;\n            android:textSize=&quot;12sp&quot;\n            android:textStyle=&quot;bold&quot;\n            tools:ignore=&quot;MissingConstraints&quot; /&gt;\n        &lt;pl.droidsonroids.gif.GifImageView\n            android:id=&quot;@+id/imgAndroidInstalike2&quot;\n            android:layout_width=&quot;85dp&quot;\n            android:layout_height=&quot;98dp&quot;\n            android:layout_alignParentBottom=&quot;true&quot;\n            android:background=&quot;@drawable/instalike2&quot;\n            tools:ignore=&quot;MissingConstraints&quot;\n            tools:layout_editor_absoluteX=&quot;297dp&quot;\n            tools:layout_editor_absoluteY=&quot;595dp&quot; /&gt;\n        &lt;android.support.v7.widget.RecyclerView\n            android:layout_marginTop=&quot;46dp&quot;\n            android:id=&quot;@+id/listOrders&quot;\n            android:background=&quot;@android:color/transparent&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot; /&gt;\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n<p>I declared in ViewHolder :</p>\n<pre><code>public class OrderViewHolder extends RecyclerView.ViewHolder{\n\n    public TextView txtOrderId,txtOrderStatus,txtOrderPhone,txtOrderAddress,txtOrderDate,txtPaymentState,txtPaymentMethod,txtName,txtTotal;\n    public Button btnEdit,btnHide,btnRemove,btnDetail,btnDirection;\n    public CardView cardlayoutadapter;\n    \n    public OrderViewHolder(@NonNull View itemView) {\n        super(itemView);\n        txtOrderAddress=(TextView)itemView.findViewById(R.id.order_address);\n        txtOrderId=(TextView)itemView.findViewById(R.id.order_id);\n        txtOrderStatus=(TextView)itemView.findViewById(R.id.order_status);\n        txtOrderPhone=(TextView)itemView.findViewById(R.id.order_phone);\n        txtOrderDate=(TextView)itemView.findViewById(R.id.order_date);\n        txtPaymentState=(TextView)itemView.findViewById(R.id.paymentState);\n        txtPaymentMethod=(TextView)itemView.findViewById(R.id.paymentMethod);\n        txtName=(TextView)itemView.findViewById(R.id.userName);\n        txtTotal=(TextView)itemView.findViewById(R.id.totalAmount);\n\n        btnEdit=(Button)itemView.findViewById(R.id.btnEdit);\n        btnRemove=(Button)itemView.findViewById(R.id.btnRemove);\n        btnHide=(Button)itemView.findViewById(R.id.btnHide);\n        btnDetail=(Button)itemView.findViewById(R.id.btnDetail);\n        btnDirection=(Button)itemView.findViewById(R.id.btnDirection);\n\n        cardlayoutadapter = (CardView)itemView.findViewById(R.id.cardv);\n    }\n\n}\n</code></pre>\n<p>when I click the btnHide button it goes to &quot;private void hideOrder&quot; to make sure I want to make it disappear after completing the order, and this is where I wanted to somehow make the cardview disappear with that data, so it's not there to occupy , I have another &quot;layout that makes eliminate&quot;, either in GONE or invisibility or put the parameter layout_height == 0</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        CalligraphyConfig.initDefault(new CalligraphyConfig.Builder()\n                .setDefaultFontPath(&quot;fonts/Vahika.ttf&quot;)\n                .setFontAttrId(R.attr.fontPath)\n                .build());\n        setContentView(R.layout.activity_order_status);\n\n\n\n@Override\n            protected void onBindViewHolder(@NonNull OrderViewHolder holder, final int position, @NonNull final Request model) {\n                holder.txtOrderId.setText(adapter.getRef(position).getKey());\n                holder.txtOrderStatus.setText(Common.convertCodeToStatus(model.getStatus()));\n                holder.txtOrderAddress.setText(model.getAddress());\n                holder.txtOrderPhone.setText(model.getPhone());\n                holder.txtOrderDate.setText(Common.getDate(Long.parseLong(adapter.getRef(position).getKey())));\n                holder.txtPaymentMethod.setText(model.getPaymentMethod());\n                holder.txtPaymentState.setText(model.getPaymentState());\n                holder.txtName.setText(model.getName());\n                holder.txtTotal.setText(model.getTotal());\n\nholder.btnHide.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        hideOrder(adapter.getRef(position).getKey());\n                    }\n                });\n\n private void hideOrder(final String key) {\n        AlertDialog.Builder alertDialog=new AlertDialog.Builder(OrderStatus.this);\n        alertDialog.setTitle(&quot;Olá, &quot;+Common.currentUser.getName());\n        alertDialog.setMessage(&quot;O pedido foi entregue?&quot;);\n        alertDialog.setCancelable(false);\n        alertDialog.setPositiveButton(&quot;Sim&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n\n                dialog.dismiss();\n                //linearcardv\n                //reuests.child(key).removeValue();\n                //binding.CardView.setVisibility(View.GONE);\n                //reuests.child(key).setValue(View.INVISIBLE);\n\n                cardlayoutadapter.setVisibility(View.GONE);\n                adapter.notifyDataSetChanged();\n                Toast.makeText(OrderStatus.this, &quot;Pedido finalizado com sucesso!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n        alertDialog.setNegativeButton(&quot;Não&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n\n                dialog.dismiss();\n                Toast.makeText(OrderStatus.this, &quot;Cancelado&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n        alertDialog.setIcon(R.mipmap.picture);\n        alertDialog.show();\n    }\n</code></pre>\n"},{"tags":["java","windows","winapi","jna"],"answers":[{"tags":[],"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1321271704,"creation_date":1321271704,"answer_id":8121187,"question_id":8120815,"body_markdown":"I am using SC_MANAGER_ALL_ACCESS and that works. Not sure if that helps.\r\n\r\n     W32ServiceManager serviceManager = new W32ServiceManager();\r\n                   serviceManager.open(Winsvc.SC_MANAGER_ALL_ACCESS);\r\n                   W32Service service = serviceManager.openService(&quot;servicename&quot;, Winsvc.SC_MANAGER_ALL_ACCESS);","title":"JNA:com.sun.jna.platform.win32.Win32Exception- access denied","body":"<p>I am using SC_MANAGER_ALL_ACCESS and that works. Not sure if that helps.</p>\n\n<pre><code> W32ServiceManager serviceManager = new W32ServiceManager();\n               serviceManager.open(Winsvc.SC_MANAGER_ALL_ACCESS);\n               W32Service service = serviceManager.openService(\"servicename\", Winsvc.SC_MANAGER_ALL_ACCESS);\n</code></pre>\n"}],"owner":{"account_id":290252,"reputation":3161,"user_id":958866,"accept_rate":20,"display_name":"Kiran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3456,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650455106,"creation_date":1321269677,"question_id":8120815,"body_markdown":"I  use following code to control a windows  service from java program\r\n\r\n\r\n\r\n    public class PostgresService2\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tW32ServiceManager serviceManager = new W32ServiceManager();\r\n    \t\t\t\tserviceManager.open(Winsvc.SERVICE_STOP);\r\n    \t\t\t\tW32Service service = serviceManager.openService(&quot;DBService&quot;,\r\n    \t\t\t\t\t\tWinsvc.SERVICE_ACCEPT_STOP);\r\n    \t\t\t\tservice.stopService();\r\n    \t\t\t    service.close();\r\n    \t\t\t }\r\n    \t\t\t catch (Exception ex)\r\n    \t\t\t {\r\n    \t\t\t\t ex.printStackTrace();\r\n    \t\t\t }\r\n    \t}\r\n    }\r\n\r\n\r\nThis gives error on windows7 (64bit) machine\r\n\r\n    com.sun.jna.platform.win32.Win32Exception: Access is denied.\r\n            at com.sun.jna.platform.win32.W32Service.queryStatus(W32Service.java\r\n            at com.sun.jna.platform.win32.W32Service.waitForNonPendingState(W32S\r\n            at com.sun.jna.platform.win32.W32Service.stopService(W32Service.java\r\n            at chs.capitalmigrate.ui.PostgresService2.main(PostgresService2.java\r\n\r\n\r\nThe shell from where the command is run has administrative privileges.  How I can provide full access?","title":"JNA:com.sun.jna.platform.win32.Win32Exception- access denied","body":"<p>I  use following code to control a windows  service from java program</p>\n\n<pre><code>public class PostgresService2\n{\n    public static void main(String[] args)\n    {\n        try\n            {\n                W32ServiceManager serviceManager = new W32ServiceManager();\n                serviceManager.open(Winsvc.SERVICE_STOP);\n                W32Service service = serviceManager.openService(\"DBService\",\n                        Winsvc.SERVICE_ACCEPT_STOP);\n                service.stopService();\n                service.close();\n             }\n             catch (Exception ex)\n             {\n                 ex.printStackTrace();\n             }\n    }\n}\n</code></pre>\n\n<p>This gives error on windows7 (64bit) machine</p>\n\n<pre><code>com.sun.jna.platform.win32.Win32Exception: Access is denied.\n        at com.sun.jna.platform.win32.W32Service.queryStatus(W32Service.java\n        at com.sun.jna.platform.win32.W32Service.waitForNonPendingState(W32S\n        at com.sun.jna.platform.win32.W32Service.stopService(W32Service.java\n        at chs.capitalmigrate.ui.PostgresService2.main(PostgresService2.java\n</code></pre>\n\n<p>The shell from where the command is run has administrative privileges.  How I can provide full access?</p>\n"},{"tags":["java","scala","directory","file-watcher"],"comments":[{"owner":{"account_id":20016512,"reputation":3080,"user_id":14672383,"display_name":"AminMal"},"score":0,"creation_date":1650458876,"post_id":71938949,"comment_id":127120503,"body_markdown":"Everything is acting as expected, as you can see, watch.start requires an implicit execution context, which means kind of like an ExecutorService in java, which defines how tasks should be processed in multiple threads, so if they are run in separate threads, they do not block the main thread, that&#39;s the basic concept of threads.","body":"Everything is acting as expected, as you can see, watch.start requires an implicit execution context, which means kind of like an ExecutorService in java, which defines how tasks should be processed in multiple threads, so if they are run in separate threads, they do not block the main thread, that&#39;s the basic concept of threads."},{"owner":{"account_id":5426910,"reputation":165,"user_id":4318884,"accept_rate":25,"display_name":"Vijaykumar Arumugam"},"score":0,"creation_date":1650459134,"post_id":71938949,"comment_id":127120613,"body_markdown":"ok, but if I want to block that thread / wait on a future object for that implicit execution context which **watch.start** uses, how should I go about, basically I want to watch a directory continuously.","body":"ok, but if I want to block that thread / wait on a future object for that implicit execution context which <b>watch.start</b> uses, how should I go about, basically I want to watch a directory continuously."},{"owner":{"account_id":20016512,"reputation":3080,"user_id":14672383,"display_name":"AminMal"},"score":0,"creation_date":1650459639,"post_id":71938949,"comment_id":127120852,"body_markdown":"It&#39;s not recommended at all, but I understand that sometimes you might need to block concurrent process, so maybe watcher.start().onComplete(_ =&gt; global.shutDownNow()) would help, you can also use Await. (Again, It&#39;s not recommended at all)","body":"It&#39;s not recommended at all, but I understand that sometimes you might need to block concurrent process, so maybe watcher.start().onComplete(_ =&gt; global.shutDownNow()) would help, you can also use Await. (Again, It&#39;s not recommended at all)"},{"owner":{"account_id":5426910,"reputation":165,"user_id":4318884,"accept_rate":25,"display_name":"Vijaykumar Arumugam"},"score":0,"creation_date":1650463686,"post_id":71938949,"comment_id":127122795,"body_markdown":"unfortunately, no it did not work there is no method like onComplete in watcher.start()....","body":"unfortunately, no it did not work there is no method like onComplete in watcher.start()...."},{"owner":{"account_id":20016512,"reputation":3080,"user_id":14672383,"display_name":"AminMal"},"score":0,"creation_date":1650476137,"post_id":71938949,"comment_id":127127956,"body_markdown":"Oh so it doesn&#39;t return a `Future` instance, since onComplete is a method of future, anyway, you can block your main thread using various solutions, my suggestion is to expect some signal from your console (using a scanner which scans an input stream like your console), so before `println(&quot;END&quot;)`, do this: `new java.util.Scanner(System.in).nextLine()`. this will wait for a string from terminal, so you can exit your application writing anything into your console.","body":"Oh so it doesn&#39;t return a <code>Future</code> instance, since onComplete is a method of future, anyway, you can block your main thread using various solutions, my suggestion is to expect some signal from your console (using a scanner which scans an input stream like your console), so before <code>println(&quot;END&quot;)</code>, do this: <code>new java.util.Scanner(System.in).nextLine()</code>. this will wait for a string from terminal, so you can exit your application writing anything into your console."}],"owner":{"account_id":5426910,"reputation":165,"user_id":4318884,"accept_rate":25,"display_name":"Vijaykumar Arumugam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650454573,"creation_date":1650454573,"question_id":71938949,"body_markdown":"I am new to scala and have been trying to implement the directory watcher using **https://index.scala-lang.org/gmethvin/directory-watcher/directory-watcher-better-files/0.13.0** library, but I am facing watching a directory **recursively**. I am running in Windows system.\r\n\r\n\r\n**Code**\r\n```\r\nimport better.files._\r\nimport io.methvin.better.files._\r\nimport scala.concurrent.ExecutionContext.Implicits.global\r\n\r\nval myDir = File(&quot;/directory/to/watch/&quot;)\r\nval watcher = new RecursiveFileMonitor(myDir) {\r\n  override def onCreate(file: File, count: Int) = println(s&quot;$file got created&quot;)\r\n  override def onModify(file: File, count: Int) = println(s&quot;$file got modified $count times&quot;)\r\n  override def onDelete(file: File, count: Int) = println(s&quot;$file got deleted&quot;)\r\n}\r\n\r\n//process is not blocked here - END is printing\r\nwatcher.start()\r\n\r\nprintln(&quot;END&quot;)\r\n```\r\n\r\n**Problem** \r\n\r\nThe process is not getting blocked at **watcher.start()** not sure what I am missing, as per the library spec, it is specified that for Windows use **ExtendedWatchEventModifier.FILE_TREE**. \r\n\r\nHow to use this ExtendedWatchEventModifier.FILE_TREE parameter??\r\n\r\nam I missing something in the above code??\r\n\r\n**Findings**\r\n\r\n1. I tried to run the **start()** method in separate thread but no luck.\r\n\r\n2. I debugged and found that **start()** method is internally calling **DirectoryWatcher.watch()** but in a different **ExecutionContext**, I am not able to debug that **watch()** method, basically the debug point is not going to **DirectoryWatcher**. Not sure how it works.\r\n\r\nPlease let me know what am I am missing? Please let me know if more details are required.","title":"Scala - DirectoryWatcher library; Thread is not blocked","body":"<p>I am new to scala and have been trying to implement the directory watcher using <strong><a href=\"https://index.scala-lang.org/gmethvin/directory-watcher/directory-watcher-better-files/0.13.0\" rel=\"nofollow noreferrer\">https://index.scala-lang.org/gmethvin/directory-watcher/directory-watcher-better-files/0.13.0</a></strong> library, but I am facing watching a directory <strong>recursively</strong>. I am running in Windows system.</p>\n<p><strong>Code</strong></p>\n<pre><code>import better.files._\nimport io.methvin.better.files._\nimport scala.concurrent.ExecutionContext.Implicits.global\n\nval myDir = File(&quot;/directory/to/watch/&quot;)\nval watcher = new RecursiveFileMonitor(myDir) {\n  override def onCreate(file: File, count: Int) = println(s&quot;$file got created&quot;)\n  override def onModify(file: File, count: Int) = println(s&quot;$file got modified $count times&quot;)\n  override def onDelete(file: File, count: Int) = println(s&quot;$file got deleted&quot;)\n}\n\n//process is not blocked here - END is printing\nwatcher.start()\n\nprintln(&quot;END&quot;)\n</code></pre>\n<p><strong>Problem</strong></p>\n<p>The process is not getting blocked at <strong>watcher.start()</strong> not sure what I am missing, as per the library spec, it is specified that for Windows use <strong>ExtendedWatchEventModifier.FILE_TREE</strong>.</p>\n<p>How to use this ExtendedWatchEventModifier.FILE_TREE parameter??</p>\n<p>am I missing something in the above code??</p>\n<p><strong>Findings</strong></p>\n<ol>\n<li><p>I tried to run the <strong>start()</strong> method in separate thread but no luck.</p>\n</li>\n<li><p>I debugged and found that <strong>start()</strong> method is internally calling <strong>DirectoryWatcher.watch()</strong> but in a different <strong>ExecutionContext</strong>, I am not able to debug that <strong>watch()</strong> method, basically the debug point is not going to <strong>DirectoryWatcher</strong>. Not sure how it works.</p>\n</li>\n</ol>\n<p>Please let me know what am I am missing? Please let me know if more details are required.</p>\n"},{"tags":["java","maven","jenkins","tomcat","command-prompt"],"comments":[{"owner":{"account_id":1763758,"reputation":897,"user_id":1610140,"accept_rate":87,"display_name":"Joseph McCarthy"},"score":0,"creation_date":1650453813,"post_id":71938553,"comment_id":127118563,"body_markdown":"Please embed images correctly","body":"Please embed images correctly"}],"answers":[{"tags":[],"owner":{"account_id":2599641,"reputation":21,"user_id":2252417,"display_name":"holaktomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650454489,"creation_date":1650454489,"answer_id":71938928,"question_id":71938553,"body_markdown":"The Jenkins service is run under some user which has some PATH variable. From your pics, it seems, the mentioned user is missing the &#39;mvn&#39; entry there.\r\n\r\nTo fix that, you need to configure the Maven Tool in the Jenkins cfg (set MAVEN_HOME), similarly like guys did in https://stackoverflow.com/questions/28387142/how-to-configure-maven-installation-in-jenkins-per-individual-slave-node","title":"MVN Package running in cmd but not in Jenkins build","body":"<p>The Jenkins service is run under some user which has some PATH variable. From your pics, it seems, the mentioned user is missing the 'mvn' entry there.</p>\n<p>To fix that, you need to configure the Maven Tool in the Jenkins cfg (set MAVEN_HOME), similarly like guys did in <a href=\"https://stackoverflow.com/questions/28387142/how-to-configure-maven-installation-in-jenkins-per-individual-slave-node\">How to configure Maven installation in Jenkins per individual Slave node?</a></p>\n"}],"owner":{"account_id":24393026,"reputation":1,"user_id":18322722,"display_name":"Programming Threshold"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650454489,"creation_date":1650452777,"question_id":71938553,"body_markdown":"[enter image description here][1]\r\n\r\n\r\nAs you can see in the pic mvn command in respective directory is showing the result as _&quot;mvn is not recognized as an internal or external command,operable program or batch file.&quot;_ [enter image description here][2] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/snmTW.png\r\n  [2]: https://i.stack.imgur.com/izulj.png\r\n\r\nBut in the cmd pic you can observe that command is working flawlessly, please help so i may proceed in my course, where am I going wrong ??\r\n","title":"MVN Package running in cmd but not in Jenkins build","body":"<p><a href=\"https://i.stack.imgur.com/snmTW.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>As you can see in the pic mvn command in respective directory is showing the result as <em>&quot;mvn is not recognized as an internal or external command,operable program or batch file.&quot;</em> <a href=\"https://i.stack.imgur.com/izulj.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>But in the cmd pic you can observe that command is working flawlessly, please help so i may proceed in my course, where am I going wrong ??</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":6764799,"reputation":7550,"user_id":5210117,"display_name":"miskender"},"score":0,"creation_date":1540240280,"post_id":52936952,"comment_id":92783774,"body_markdown":"Have you tried max heap configs bigger than 1g. Also it looks like it is caused by felix maven plugin, try newer versions if it exist","body":"Have you tried max heap configs bigger than 1g. Also it looks like it is caused by felix maven plugin, try newer versions if it exist"},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1540240370,"post_id":52936952,"comment_id":92783810,"body_markdown":"@SilverShroud Yes in office with another machine i tried 2048 there also i was getting same issuue.Do you mean latest version of maven?","body":"@SilverShroud Yes in office with another machine i tried 2048 there also i was getting same issuue.Do you mean latest version of maven?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1540278759,"post_id":52936952,"comment_id":92794537,"body_markdown":"Please try with more memory like `-Xmx4096` and see if it works..? Furthermore check if you are using the most recent version of the felix-bundle-plugin..?","body":"Please try with more memory like <code>-Xmx4096</code> and see if it works..? Furthermore check if you are using the most recent version of the felix-bundle-plugin..?"},{"owner":{"account_id":6764799,"reputation":7550,"user_id":5210117,"display_name":"miskender"},"score":0,"creation_date":1540405090,"post_id":52936952,"comment_id":92857715,"body_markdown":"I mean this https://mvnrepository.com/artifact/org.apache.felix/maven-bundle-plugin","body":"I mean this <a href=\"https://mvnrepository.com/artifact/org.apache.felix/maven-bundle-plugin\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.apache.felix/maven-bundle-plu&zwnj;&#8203;gin</a>"}],"answers":[{"tags":[],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540970543,"creation_date":1540970543,"answer_id":53078221,"question_id":52936952,"body_markdown":"Adding these System variables will fix the issue\r\n\r\n    MAVEN_OPTS = -Xmx2048M -Xss128M -XX:MaxPermSize=2048M -XX:+CMSClassUnloadingEnabled -XX:+UseConcMarkSweepGC\r\n\r\nThis can be added in Environment variable.\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tl0C4.png","title":"Maven build failed with GC overhead limit exceeded","body":"<p>Adding these System variables will fix the issue</p>\n\n<pre><code>MAVEN_OPTS = -Xmx2048M -Xss128M -XX:MaxPermSize=2048M -XX:+CMSClassUnloadingEnabled -XX:+UseConcMarkSweepGC\n</code></pre>\n\n<p>This can be added in Environment variable.</p>\n\n<p><a href=\"https://i.stack.imgur.com/tl0C4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tl0C4.png\" alt=\"enter image description here\"></a> </p>\n"},{"tags":[],"owner":{"account_id":11952410,"reputation":1,"user_id":8745708,"display_name":"Nidhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596095059,"creation_date":1596093258,"answer_id":63168006,"question_id":52936952,"body_markdown":"For Windows, I solved the `GC overhead limit exceeded` issue, by modifying the environment `MAVEN_OPTS` variable value with:\r\n\r\n    -Xmx1024M -Xss128M -XX:MetaspaceSize=512M -XX:MaxMetaspaceSize=1024M -XX:+CMSClassUnloadingEnabled\r\n","title":"Maven build failed with GC overhead limit exceeded","body":"<p>For Windows, I solved the <code>GC overhead limit exceeded</code> issue, by modifying the environment <code>MAVEN_OPTS</code> variable value with:</p>\n<pre><code>-Xmx1024M -Xss128M -XX:MetaspaceSize=512M -XX:MaxMetaspaceSize=1024M -XX:+CMSClassUnloadingEnabled\n</code></pre>\n"}],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4869,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1650454418,"creation_date":1540238491,"question_id":52936952,"body_markdown":"I am trying to build the project with the following command \r\n\r\n    mvn clean install \r\n\r\nBut every-time its end with memory issue ,then i run same command with `-X` option and it end with follwoing detail error\r\n\r\n&gt; [ERROR] GC overhead limit exceeded -&gt; [Help 1]\r\n&gt; java.lang.OutOfMemoryError: GC overhead limit exceeded\r\n&gt;         at java.util.Arrays.copyOf(Arrays.java:3332)\r\n&gt;         at java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:124)\r\n&gt;         at java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:649)\r\n&gt;         at java.lang.StringBuilder.append(StringBuilder.java:202)\r\n&gt;         at aQute.bnd.osgi.Clazz.parseReference(Clazz.java:1807)\r\n&gt;         at aQute.bnd.osgi.Clazz.parseReferences(Clazz.java:1774)\r\n&gt;         at aQute.bnd.osgi.Clazz.parseDescriptor(Clazz.java:1756)\r\n&gt;         at aQute.bnd.osgi.Clazz.referTo(Clazz.java:1727)\r\n&gt;         at aQute.bnd.osgi.Clazz.parseClassFileData(Clazz.java:759)\r\n&gt;         at aQute.bnd.osgi.Clazz.parseClassFileData(Clazz.java:509)\r\n&gt;         at aQute.bnd.osgi.Clazz.parseClassFileWithCollector(Clazz.java:494)\r\n&gt;         at aQute.bnd.component.AnnotationReader.getDef(AnnotationReader.java:134)\r\n&gt;         at aQute.bnd.component.AnnotationReader.getDefinition(AnnotationReader.java:130)\r\n&gt;         at aQute.bnd.component.DSAnnotations.analyzeJar(DSAnnotations.java:126)\r\n&gt;         at aQute.bnd.osgi.Analyzer.doPlugins(Analyzer.java:664)\r\n&gt;         at aQute.bnd.osgi.Analyzer.analyze(Analyzer.java:216)\r\n&gt;         at aQute.bnd.osgi.Builder.analyze(Builder.java:387)\r\n&gt;         at aQute.bnd.osgi.Analyzer.calcManifest(Analyzer.java:694)\r\n&gt;         at aQute.bnd.osgi.Builder.build(Builder.java:108)\r\n&gt;         at org.apache.felix.bundleplugin.BundlePlugin.buildOSGiBundle(BundlePlugin.java:972)\r\n&gt;         at org.apache.felix.bundleplugin.BundlePlugin.execute(BundlePlugin.java:467)\r\n&gt;         at org.apache.felix.bundleplugin.BundlePlugin.execute(BundlePlugin.java:384)\r\n&gt;         at org.apache.felix.bundleplugin.BundlePlugin.execute(BundlePlugin.java:375)\r\n&gt;         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n&gt;         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n&gt;         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n&gt;         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n&gt;         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n&gt;         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n&gt;         at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n&gt;         at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n&gt;         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307) [ERROR]\r\n&gt; [ERROR] [ERROR] For more information about the errors and possible\r\n&gt; solutions, please read the following articles: [ERROR] [Help 1]\r\n&gt; http://cwiki.apache.org/confluence/display/MAVEN/OutOfMemoryError\r\n\r\nSo i tried for the cause and solution of the above exception and added below lines inside parent pom.xml file of the project but still same issue\r\n\r\n    &lt;project&gt;\r\n      [...]\r\n      &lt;build&gt;\r\n        [...]\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;fork&gt;true&lt;/fork&gt;\r\n              &lt;meminitial&gt;512m&lt;/meminitial&gt;\r\n              &lt;maxmem&gt;1048m&lt;/maxmem&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        [...]\r\n      &lt;/build&gt;\r\n      [...]\r\n    &lt;/project&gt;\r\n\r\nthen i added \r\n\r\n    MAVEN_OPTS=&quot;-Xmx1024M -Xss128M -XX:MetaspaceSize=512M -XX:MaxMetaspaceSize=1024M -XX:+CMSClassUnloadingEnabled&quot;\r\n\r\ninside the System variable section of Environment variable but this also not helping.I am using Windows 10 and Java version 8.\r\n\r\nCan someone tell what will be solution ? ","title":"Maven build failed with GC overhead limit exceeded","body":"<p>I am trying to build the project with the following command </p>\n\n<pre><code>mvn clean install \n</code></pre>\n\n<p>But every-time its end with memory issue ,then i run same command with <code>-X</code> option and it end with follwoing detail error</p>\n\n<blockquote>\n  <p>[ERROR] GC overhead limit exceeded -> [Help 1]\n  java.lang.OutOfMemoryError: GC overhead limit exceeded\n          at java.util.Arrays.copyOf(Arrays.java:3332)\n          at java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:124)\n          at java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:649)\n          at java.lang.StringBuilder.append(StringBuilder.java:202)\n          at aQute.bnd.osgi.Clazz.parseReference(Clazz.java:1807)\n          at aQute.bnd.osgi.Clazz.parseReferences(Clazz.java:1774)\n          at aQute.bnd.osgi.Clazz.parseDescriptor(Clazz.java:1756)\n          at aQute.bnd.osgi.Clazz.referTo(Clazz.java:1727)\n          at aQute.bnd.osgi.Clazz.parseClassFileData(Clazz.java:759)\n          at aQute.bnd.osgi.Clazz.parseClassFileData(Clazz.java:509)\n          at aQute.bnd.osgi.Clazz.parseClassFileWithCollector(Clazz.java:494)\n          at aQute.bnd.component.AnnotationReader.getDef(AnnotationReader.java:134)\n          at aQute.bnd.component.AnnotationReader.getDefinition(AnnotationReader.java:130)\n          at aQute.bnd.component.DSAnnotations.analyzeJar(DSAnnotations.java:126)\n          at aQute.bnd.osgi.Analyzer.doPlugins(Analyzer.java:664)\n          at aQute.bnd.osgi.Analyzer.analyze(Analyzer.java:216)\n          at aQute.bnd.osgi.Builder.analyze(Builder.java:387)\n          at aQute.bnd.osgi.Analyzer.calcManifest(Analyzer.java:694)\n          at aQute.bnd.osgi.Builder.build(Builder.java:108)\n          at org.apache.felix.bundleplugin.BundlePlugin.buildOSGiBundle(BundlePlugin.java:972)\n          at org.apache.felix.bundleplugin.BundlePlugin.execute(BundlePlugin.java:467)\n          at org.apache.felix.bundleplugin.BundlePlugin.execute(BundlePlugin.java:384)\n          at org.apache.felix.bundleplugin.BundlePlugin.execute(BundlePlugin.java:375)\n          at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n          at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\n          at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n          at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n          at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n          at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n          at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n          at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n          at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307) [ERROR]\n  [ERROR] [ERROR] For more information about the errors and possible\n  solutions, please read the following articles: [ERROR] [Help 1]\n  <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/OutOfMemoryError\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/OutOfMemoryError</a></p>\n</blockquote>\n\n<p>So i tried for the cause and solution of the above exception and added below lines inside parent pom.xml file of the project but still same issue</p>\n\n<pre><code>&lt;project&gt;\n  [...]\n  &lt;build&gt;\n    [...]\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;fork&gt;true&lt;/fork&gt;\n          &lt;meminitial&gt;512m&lt;/meminitial&gt;\n          &lt;maxmem&gt;1048m&lt;/maxmem&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    [...]\n  &lt;/build&gt;\n  [...]\n&lt;/project&gt;\n</code></pre>\n\n<p>then i added </p>\n\n<pre><code>MAVEN_OPTS=\"-Xmx1024M -Xss128M -XX:MetaspaceSize=512M -XX:MaxMetaspaceSize=1024M -XX:+CMSClassUnloadingEnabled\"\n</code></pre>\n\n<p>inside the System variable section of Environment variable but this also not helping.I am using Windows 10 and Java version 8.</p>\n\n<p>Can someone tell what will be solution ? </p>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650372252,"post_id":71925047,"comment_id":127094960,"body_markdown":"Your dependencies are a mess, you are mixing Spring 4.3 and 5.3 (trouble) and mixing spring Security 4.0 and 5.2 even more trouble... Fix your dependencies and make sure that the versions of a framework align, so from Spring everything nieeds to be 5.3.15 and Spring Security 5.5...","body":"Your dependencies are a mess, you are mixing Spring 4.3 and 5.3 (trouble) and mixing spring Security 4.0 and 5.2 even more trouble... Fix your dependencies and make sure that the versions of a framework align, so from Spring everything nieeds to be 5.3.15 and Spring Security 5.5..."},{"owner":{"account_id":9964854,"reputation":25,"user_id":7372853,"accept_rate":10,"display_name":"ankit"},"score":0,"creation_date":1650374363,"post_id":71925047,"comment_id":127095838,"body_markdown":"@M.Deinum updated the dependencies but still getting the same exception","body":"@M.Deinum updated the dependencies but still getting the same exception"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650377198,"post_id":71925047,"comment_id":127097062,"body_markdown":"I doubt you updated **all** dependencies. If you did it would work.","body":"I doubt you updated <b>all</b> dependencies. If you did it would work."},{"owner":{"account_id":9964854,"reputation":25,"user_id":7372853,"accept_rate":10,"display_name":"ankit"},"score":0,"creation_date":1650431626,"post_id":71925047,"comment_id":127111028,"body_markdown":"@M.Deinum As suggested by you, I had updated Spring to 5.3.15 and Spring-Security to 5.5.2.","body":"@M.Deinum As suggested by you, I had updated Spring to 5.3.15 and Spring-Security to 5.5.2."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650436963,"post_id":71925047,"comment_id":127112274,"body_markdown":"I doubt you updated everything, if you did the exception wouldn&#39;t occur. I would also suggest to update to the latest 5.3 version of Spring and to the latest version of Spring Security.","body":"I doubt you updated everything, if you did the exception wouldn&#39;t occur. I would also suggest to update to the latest 5.3 version of Spring and to the latest version of Spring Security."},{"owner":{"account_id":9964854,"reputation":25,"user_id":7372853,"accept_rate":10,"display_name":"ankit"},"score":0,"creation_date":1650455054,"post_id":71925047,"comment_id":127118966,"body_markdown":"@M.Deinum after updating to the latest version and removing the &lt;annotation-driven /&gt;  from dispatcher servlet, getting other exceptions.  updated the same in question","body":"@M.Deinum after updating to the latest version and removing the &lt;annotation-driven /&gt;  from dispatcher servlet, getting other exceptions.  updated the same in question"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650456057,"post_id":71925047,"comment_id":127119318,"body_markdown":"You still have incompatible versions, so you haven&#39;t updated everything.","body":"You still have incompatible versions, so you haven&#39;t updated everything."}],"owner":{"account_id":9964854,"reputation":25,"user_id":7372853,"accept_rate":10,"display_name":"ankit"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":767,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650454338,"creation_date":1650371648,"question_id":71925047,"body_markdown":"I have one application using spring mvc. Recently i updated the spring-security jars dependency from  4.3.3 to 5.5.2. But now i&#39;m getting the below exceptions after upgrade.\r\n\r\n    SEVERE: Exception sending context initialized event to listener instance of class [org.springframework.web.context.ContextLoaderListener]\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mvcContentNegotiationManager&#39;: Error setting property values; nested exception is org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\r\n    PropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property &#39;mediaTypes&#39; threw exception; nested exception is java.lang.NoSuchMethodError: &#39;void org.springframework.util.MimeType.&lt;init&gt;(org.springframework.util.MimeType)&#39;\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1559)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1269)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:551)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:737)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n    Caused by: org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\r\n    PropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property &#39;mediaTypes&#39; threw exception; nested exception is java.lang.NoSuchMethodError: &#39;void org.springframework.util.MimeType.&lt;init&gt;(org.springframework.util.MimeType)&#39;\r\n    \tat org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:134)\r\n    \tat org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:77)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1555)\r\n    \t... 43 more\r\n\r\nI have the below dependency in projects-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nwhich spring-security version is compatible with spring-core-5.3.15?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u4gAg.png\r\n\r\nAfter changing all the spring version to 5.3.19 and spring-security to 5.6.3. Getting the below exception-\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.filterChains&#39;: Cannot resolve reference to bean &#39;org.springframework.security.web.DefaultSecurityFilterChain#0&#39; while setting bean property &#39;sourceList&#39; with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.web.DefaultSecurityFilterChain#0&#39;: Cannot create inner bean &#39;(inner bean)#603cabc4&#39; of type [org.springframework.security.web.authentication.logout.LogoutFilter] while setting constructor argument with key [4]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#603cabc4&#39;: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.Assert.isTrue(ZLjava/util/function/Supplier;)V\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:382)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:157)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1522)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1269)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:551)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:737)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.web.DefaultSecurityFilterChain#0&#39;: Cannot create inner bean &#39;(inner bean)#603cabc4&#39; of type [org.springframework.security.web.authentication.logout.LogoutFilter] while setting constructor argument with key [4]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#603cabc4&#39;: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.Assert.isTrue(ZLjava/util/function/Supplier;)V","title":"Error setting property values; nested exception is org.springframework.beans.PropertyBatchUpdateExce","body":"<p>I have one application using spring mvc. Recently i updated the spring-security jars dependency from  4.3.3 to 5.5.2. But now i'm getting the below exceptions after upgrade.</p>\n<pre><code>SEVERE: Exception sending context initialized event to listener instance of class [org.springframework.web.context.ContextLoaderListener]\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcContentNegotiationManager': Error setting property values; nested exception is org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\nPropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property 'mediaTypes' threw exception; nested exception is java.lang.NoSuchMethodError: 'void org.springframework.util.MimeType.&lt;init&gt;(org.springframework.util.MimeType)'\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1559)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1269)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:551)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:737)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\nCaused by: org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\nPropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property 'mediaTypes' threw exception; nested exception is java.lang.NoSuchMethodError: 'void org.springframework.util.MimeType.&lt;init&gt;(org.springframework.util.MimeType)'\n    at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:134)\n    at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:77)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1555)\n    ... 43 more\n</code></pre>\n<p>I have the below dependency in projects-</p>\n<p><a href=\"https://i.stack.imgur.com/u4gAg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u4gAg.png\" alt=\"enter image description here\" /></a></p>\n<p>which spring-security version is compatible with spring-core-5.3.15?</p>\n<p>After changing all the spring version to 5.3.19 and spring-security to 5.6.3. Getting the below exception-</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.filterChains': Cannot resolve reference to bean 'org.springframework.security.web.DefaultSecurityFilterChain#0' while setting bean property 'sourceList' with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.web.DefaultSecurityFilterChain#0': Cannot create inner bean '(inner bean)#603cabc4' of type [org.springframework.security.web.authentication.logout.LogoutFilter] while setting constructor argument with key [4]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#603cabc4': Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.Assert.isTrue(ZLjava/util/function/Supplier;)V\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:382)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:157)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1522)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1269)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:551)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:737)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.web.DefaultSecurityFilterChain#0': Cannot create inner bean '(inner bean)#603cabc4' of type [org.springframework.security.web.authentication.logout.LogoutFilter] while setting constructor argument with key [4]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#603cabc4': Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.Assert.isTrue(ZLjava/util/function/Supplier;)V\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1650463604,"post_id":71938718,"comment_id":127122765,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1650472860,"post_id":71938718,"comment_id":127126768,"body_markdown":"Did you try to call `KafkaStreams.cleanup()` ?","body":"Did you try to call <code>KafkaStreams.cleanup()</code> ?"},{"owner":{"account_id":25019358,"reputation":1,"user_id":18878179,"display_name":"richardm"},"score":0,"creation_date":1650510540,"post_id":71938718,"comment_id":127136056,"body_markdown":"@MatthiasJ.Sax Yes, but it says &quot;Failed to delete state store directory of C:\\data\\user-state-store\\app-group-id for it is not empty&quot;","body":"@MatthiasJ.Sax Yes, but it says &quot;Failed to delete state store directory of C:\\data\\user-state-store\\app-group-id for it is not empty&quot;"},{"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1650554919,"post_id":71938718,"comment_id":127150856,"body_markdown":"Maybe you are hitting: https://issues.apache.org/jira/browse/KAFKA-13787","body":"Maybe you are hitting: <a href=\"https://issues.apache.org/jira/browse/KAFKA-13787\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/KAFKA-13787</a>"}],"owner":{"account_id":25019358,"reputation":1,"user_id":18878179,"display_name":"richardm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650454117,"creation_date":1650453558,"question_id":71938718,"body_markdown":"I upgraded Kafka Streams to 3.0.1. With older versions, there is no problem as state directory is deleted after tests run. Upon upgrade to 3.0.1, it seems that Kafka Streams is unable to delete state directory. I tried calling FileUtils.deleteDirectory(...) during *@AfterAll*, but throws an IOException: \r\n\r\n    java.io.IOException: Unable to delete file: \\data\\user-state-store\\app-group-id\\global\\rocksdb\\app-state-store\\LOCK\r\n         at org.apache.commons.io.FileUtils.forceDelete(FileUtils.java:2400) ~[commons-io-2.6.jar:2.6]\r\n\t     at org.apache.commons.io.FileUtils.cleanDirectory(FileUtils.java:1721) ~[commons-io-2.6.jar:2.6]\r\n\t     at org.apache.commons.io.FileUtils.deleteDirectory(FileUtils.java:1617) ~[commons-io-2.6.jar:2.6]\r\n\t     at org.apache.commons.io.FileUtils.forceDelete(FileUtils.java:2391) ~[commons-io-2.6.jar:2.6]\r\n\t     at org.apache.commons.io.FileUtils.cleanDirectory(FileUtils.java:1721) ~[commons-io-2.6.jar:2.6]\r\n\t     at org.apache.commons.io.FileUtils.deleteDirectory(FileUtils.java:1617) ~[commons-io-2.6.jar:2.6]\r\n\t     at org.apache.commons.io.FileUtils.forceDelete(FileUtils.java:2391) ~[commons-io-2.6.jar:2.6]\r\n\t     at org.apache.commons.io.FileUtils.cleanDirectory(FileUtils.java:1721) ~[commons-io-2.6.jar:2.6]\r\n\t     at org.apache.commons.io.FileUtils.deleteDirectory(FileUtils.java:1617) ~[commons-io-2.6.jar:2.6]\r\n\t     at org.apache.commons.io.FileUtils.forceDelete(FileUtils.java:2391) ~[commons-io-2.6.jar:2.6]\r\n\t     at org.apache.commons.io.FileUtils.cleanDirectory(FileUtils.java:1721) ~[commons-io-2.6.jar:2.6]\r\n\t     at org.apache.commons.io.FileUtils.deleteDirectory(FileUtils.java:1617) ~[commons-io-2.6.jar:2.6]\r\n\t     at org.apache.commons.io.FileUtils.forceDelete(FileUtils.java:2391) ~[commons-io-2.6.jar:2.6]\r\n\t     at org.apache.commons.io.FileUtils.cleanDirectory(FileUtils.java:1721) ~[commons-io-2.6.jar:2.6]\r\n\t     at org.apache.commons.io.FileUtils.deleteDirectory(FileUtils.java:1617) ~[commons-io-2.6.jar:2.6]","title":"Kafka Streams unable to delete state directory during JUnit testing (using EmbeddedKafka)","body":"<p>I upgraded Kafka Streams to 3.0.1. With older versions, there is no problem as state directory is deleted after tests run. Upon upgrade to 3.0.1, it seems that Kafka Streams is unable to delete state directory. I tried calling FileUtils.deleteDirectory(...) during <em>@AfterAll</em>, but throws an IOException:</p>\n<pre><code>java.io.IOException: Unable to delete file: \\data\\user-state-store\\app-group-id\\global\\rocksdb\\app-state-store\\LOCK\n     at org.apache.commons.io.FileUtils.forceDelete(FileUtils.java:2400) ~[commons-io-2.6.jar:2.6]\n     at org.apache.commons.io.FileUtils.cleanDirectory(FileUtils.java:1721) ~[commons-io-2.6.jar:2.6]\n     at org.apache.commons.io.FileUtils.deleteDirectory(FileUtils.java:1617) ~[commons-io-2.6.jar:2.6]\n     at org.apache.commons.io.FileUtils.forceDelete(FileUtils.java:2391) ~[commons-io-2.6.jar:2.6]\n     at org.apache.commons.io.FileUtils.cleanDirectory(FileUtils.java:1721) ~[commons-io-2.6.jar:2.6]\n     at org.apache.commons.io.FileUtils.deleteDirectory(FileUtils.java:1617) ~[commons-io-2.6.jar:2.6]\n     at org.apache.commons.io.FileUtils.forceDelete(FileUtils.java:2391) ~[commons-io-2.6.jar:2.6]\n     at org.apache.commons.io.FileUtils.cleanDirectory(FileUtils.java:1721) ~[commons-io-2.6.jar:2.6]\n     at org.apache.commons.io.FileUtils.deleteDirectory(FileUtils.java:1617) ~[commons-io-2.6.jar:2.6]\n     at org.apache.commons.io.FileUtils.forceDelete(FileUtils.java:2391) ~[commons-io-2.6.jar:2.6]\n     at org.apache.commons.io.FileUtils.cleanDirectory(FileUtils.java:1721) ~[commons-io-2.6.jar:2.6]\n     at org.apache.commons.io.FileUtils.deleteDirectory(FileUtils.java:1617) ~[commons-io-2.6.jar:2.6]\n     at org.apache.commons.io.FileUtils.forceDelete(FileUtils.java:2391) ~[commons-io-2.6.jar:2.6]\n     at org.apache.commons.io.FileUtils.cleanDirectory(FileUtils.java:1721) ~[commons-io-2.6.jar:2.6]\n     at org.apache.commons.io.FileUtils.deleteDirectory(FileUtils.java:1617) ~[commons-io-2.6.jar:2.6]\n</code></pre>\n"},{"tags":["java","jdbi","stringtemplate-4"],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650453883,"creation_date":1650453883,"answer_id":71938789,"question_id":59236448,"body_markdown":"# Introduction\r\nLet&#39;s consider:\r\n\r\n* The `3.27.1` Jdbi version as the current Jdbi version.\r\n* The `4.3.1` StringTemplate version as the current StringTemplate version, since the current Jdbi version uses it. Please, see: [jdbi/pom.xml at v3.27.1 &#183; jdbi/jdbi](https://github.com/jdbi/jdbi/blob/v3.27.1/pom.xml#L524-L528).\r\n\r\n# Answer\r\n## Jdbi\r\n### Documentation: Which characters to escape\r\nPlease, note the warning on which characters to escape:\r\n\r\n&gt; Since StringTemplate by default uses the `&lt;` character to mark ST expressions, you might need to escape some SQL: `String datePredSql = &quot;&lt;if(datePredicate)&gt; &lt;dateColumn&gt; \\\\&lt; :dateFilter &lt;endif&gt;&quot;`\r\n&gt;\r\n&gt; — [jdbi/index.adoc at v3.27.1 &#183; jdbi/jdbi](https://github.com/jdbi/jdbi/blob/v3.27.1/docs/src/adoc/index.adoc).\r\n\r\n### Unit-test: Do not escape `@BindList` variable name\r\nPlease, see the `BindListTest.ifValueGivenWithNullValueOptionThenResultIsTruthy()` test method: [jdbi/BindListTest.java at v3.27.1 &#183; jdbi/jdbi](https://github.com/jdbi/jdbi/blob/v3.27.1/stringtemplate4/src/test/java/org/jdbi/v3/sqlobject/BindListTest.java#L252).\r\n\r\nPlease, note that the test covers a very similar annotated method:\r\n\r\n```\r\n@SqlQuery(&quot;select name from something &lt;if(name)&gt; where name in (&lt;name&gt;) &lt;endif&gt;&quot;)\r\n@UseStringTemplateEngine\r\nList&lt;String&gt; getForValue(@Nonnull @BindList(value = &quot;name&quot;, onEmpty = NULL_VALUE) List&lt;String&gt; name);\r\n```\r\n\r\nPlease, note that the `@BindList` variable name is not escaped:\r\n\r\n```\r\nin (&lt;name&gt;)\r\n```\r\n\r\n## StringTemplate\r\n### Documentation: Which characters to escape\r\nPlease, note which characters to escape:\r\n\r\n&gt; A template is a sequence of text and expression elements, optionally interspersed with comments. At the coarsest level, the basic elements are:\r\n&gt;\r\n&gt; ```\r\n&gt; text\r\n&gt; &lt;expr&gt;\r\n&gt; &lt;! comment !&gt;\r\n&gt; ```\r\n&gt;\r\n&gt; Escape delimiters with a backslash character: `\\&lt;` or `\\&gt;`.\r\n&gt;\r\n&gt; — [stringtemplate4/templates.md at 4.3.1 &#183; antlr/stringtemplate4](https://github.com/antlr/stringtemplate4/blob/4.3.1/doc/templates.md).\r\n","title":"jdbi version 3, stringtemplate when to escape &lt;, &gt; characters?","body":"<h1>Introduction</h1>\n<p>Let's consider:</p>\n<ul>\n<li>The <code>3.27.1</code> Jdbi version as the current Jdbi version.</li>\n<li>The <code>4.3.1</code> StringTemplate version as the current StringTemplate version, since the current Jdbi version uses it. Please, see: <a href=\"https://github.com/jdbi/jdbi/blob/v3.27.1/pom.xml#L524-L528\" rel=\"nofollow noreferrer\">jdbi/pom.xml at v3.27.1 · jdbi/jdbi</a>.</li>\n</ul>\n<h1>Answer</h1>\n<h2>Jdbi</h2>\n<h3>Documentation: Which characters to escape</h3>\n<p>Please, note the warning on which characters to escape:</p>\n<blockquote>\n<p>Since StringTemplate by default uses the <code>&lt;</code> character to mark ST expressions, you might need to escape some SQL: <code>String datePredSql = &quot;&lt;if(datePredicate)&gt; &lt;dateColumn&gt; \\\\&lt; :dateFilter &lt;endif&gt;&quot;</code></p>\n<p>— <a href=\"https://github.com/jdbi/jdbi/blob/v3.27.1/docs/src/adoc/index.adoc\" rel=\"nofollow noreferrer\">jdbi/index.adoc at v3.27.1 · jdbi/jdbi</a>.</p>\n</blockquote>\n<h3>Unit-test: Do not escape <code>@BindList</code> variable name</h3>\n<p>Please, see the <code>BindListTest.ifValueGivenWithNullValueOptionThenResultIsTruthy()</code> test method: <a href=\"https://github.com/jdbi/jdbi/blob/v3.27.1/stringtemplate4/src/test/java/org/jdbi/v3/sqlobject/BindListTest.java#L252\" rel=\"nofollow noreferrer\">jdbi/BindListTest.java at v3.27.1 · jdbi/jdbi</a>.</p>\n<p>Please, note that the test covers a very similar annotated method:</p>\n<pre><code>@SqlQuery(&quot;select name from something &lt;if(name)&gt; where name in (&lt;name&gt;) &lt;endif&gt;&quot;)\n@UseStringTemplateEngine\nList&lt;String&gt; getForValue(@Nonnull @BindList(value = &quot;name&quot;, onEmpty = NULL_VALUE) List&lt;String&gt; name);\n</code></pre>\n<p>Please, note that the <code>@BindList</code> variable name is not escaped:</p>\n<pre><code>in (&lt;name&gt;)\n</code></pre>\n<h2>StringTemplate</h2>\n<h3>Documentation: Which characters to escape</h3>\n<p>Please, note which characters to escape:</p>\n<blockquote>\n<p>A template is a sequence of text and expression elements, optionally interspersed with comments. At the coarsest level, the basic elements are:</p>\n<pre><code>text\n&lt;expr&gt;\n&lt;! comment !&gt;\n</code></pre>\n<p>Escape delimiters with a backslash character: <code>\\&lt;</code> or <code>\\&gt;</code>.</p>\n<p>— <a href=\"https://github.com/antlr/stringtemplate4/blob/4.3.1/doc/templates.md\" rel=\"nofollow noreferrer\">stringtemplate4/templates.md at 4.3.1 · antlr/stringtemplate4</a>.</p>\n</blockquote>\n"}],"owner":{"account_id":633896,"reputation":3552,"user_id":399637,"accept_rate":90,"display_name":"res1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1560,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71938789,"answer_count":1,"score":3,"last_activity_date":1650453883,"creation_date":1575815707,"question_id":59236448,"body_markdown":"I am using jdbi3 with StringTemplate 4 templating engine, I have this test query:\r\n\r\n    \t@SqlQuery(&quot;select * from test &quot;\r\n\t\t\t+ &quot;where field1 = 5&quot;\r\n\t\t\t+ &quot;&lt;if(cond1)&gt; or field2 \\\\&lt;= :value1&lt;endif&gt;&quot;\r\n\t\t\t+ &quot;&lt;if(cond2)&gt; or field2 &gt;= :value2&lt;endif&gt;&quot;\r\n\t\t\t+ &quot;&lt;if(cond3)&gt; or field2 in (&lt;values&gt;)&lt;endif&gt;&quot;)\r\n\t@RegisterBeanMapper(Test.class)\r\n\t@UseStringTemplateEngine\r\n\tpublic List&lt;Test&gt; selectTest(\r\n\t\t\t@Define(&quot;cond1&quot;) boolean cond1, @Bind(&quot;value1&quot;) int value2,\r\n\t\t\t@Define(&quot;cond2&quot;) boolean cond2, @Bind(&quot;value2&quot;) int value3,\r\n\t\t\t@Define(&quot;cond3&quot;) boolean cond3,\r\n\t\t\t@BindList(value=&quot;values&quot;, onEmpty=BindList.EmptyHandling.NULL_STRING ) List&lt;Integer&gt; values);\r\n\r\nUsing StringTemplate engine when I have to escape with `\\` the characters `&lt;` or `&gt;`  in the query?\r\nTesting I found that I have to escape `&lt;=` in the query like I did.\r\n\r\nIn the IN clause using `@BindList` I have to use the `&lt;values&gt;` but in this case I was expecting to escape it like `\\\\&lt;values&gt;` otherwise it will be used as attribute by StringTemplate but if I do this the query doesn&#39;t work.\r\n\r\nAbout `&gt;=` escaping it or not seems the same in the query.","title":"jdbi version 3, stringtemplate when to escape &lt;, &gt; characters?","body":"<p>I am using jdbi3 with StringTemplate 4 templating engine, I have this test query:</p>\n\n<pre><code>    @SqlQuery(\"select * from test \"\n        + \"where field1 = 5\"\n        + \"&lt;if(cond1)&gt; or field2 \\\\&lt;= :value1&lt;endif&gt;\"\n        + \"&lt;if(cond2)&gt; or field2 &gt;= :value2&lt;endif&gt;\"\n        + \"&lt;if(cond3)&gt; or field2 in (&lt;values&gt;)&lt;endif&gt;\")\n@RegisterBeanMapper(Test.class)\n@UseStringTemplateEngine\npublic List&lt;Test&gt; selectTest(\n        @Define(\"cond1\") boolean cond1, @Bind(\"value1\") int value2,\n        @Define(\"cond2\") boolean cond2, @Bind(\"value2\") int value3,\n        @Define(\"cond3\") boolean cond3,\n        @BindList(value=\"values\", onEmpty=BindList.EmptyHandling.NULL_STRING ) List&lt;Integer&gt; values);\n</code></pre>\n\n<p>Using StringTemplate engine when I have to escape with <code>\\</code> the characters <code>&lt;</code> or <code>&gt;</code>  in the query?\nTesting I found that I have to escape <code>&lt;=</code> in the query like I did.</p>\n\n<p>In the IN clause using <code>@BindList</code> I have to use the <code>&lt;values&gt;</code> but in this case I was expecting to escape it like <code>\\\\&lt;values&gt;</code> otherwise it will be used as attribute by StringTemplate but if I do this the query doesn't work.</p>\n\n<p>About <code>&gt;=</code> escaping it or not seems the same in the query.</p>\n"},{"tags":["java","object","compare","comparison"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1650453860,"post_id":71938737,"comment_id":127118580,"body_markdown":"Do you need to compare these objects to sort them?","body":"Do you need to compare these objects to sort them?"},{"owner":{"account_id":5254099,"reputation":1061,"user_id":4197431,"display_name":"Ralf Renz"},"score":7,"creation_date":1650453967,"post_id":71938737,"comment_id":127118620,"body_markdown":"Use an IDE to generate those methods. And since Java 1.7 there are Objects.hash(...) and Objects.equals(...) that make it a bit easier.","body":"Use an IDE to generate those methods. And since Java 1.7 there are Objects.hash(...) and Objects.equals(...) that make it a bit easier."},{"owner":{"account_id":4504119,"reputation":1834,"user_id":3706638,"accept_rate":100,"display_name":"S.Dan"},"score":0,"creation_date":1650454211,"post_id":71938737,"comment_id":127118697,"body_markdown":"@RalfRenz that&#39;s actually a great idea! Thanks!","body":"@RalfRenz that&#39;s actually a great idea! Thanks!"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1650454335,"post_id":71938737,"comment_id":127118734,"body_markdown":"You can make a helper method that accepts both objects, and an var-array of lambdas that would extract these attributes and compare them. It might be shorter and easier to reason about than IDE method gen.","body":"You can make a helper method that accepts both objects, and an var-array of lambdas that would extract these attributes and compare them. It might be shorter and easier to reason about than IDE method gen."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1650456358,"post_id":71938737,"comment_id":127119422,"body_markdown":"@RalfRenz `Objects.equals(Object a, Object b)`  doesn&#39;t make the task of overriding `equals(Object o)` method any easier. The only thing it simplifies is the actual task of comparing two objects for equality. Custom classes still need to override these methods.","body":"@RalfRenz <code>Objects.equals(Object a, Object b)</code>  doesn&#39;t make the task of overriding <code>equals(Object o)</code> method any easier. The only thing it simplifies is the actual task of comparing two objects for equality. Custom classes still need to override these methods."}],"owner":{"account_id":4504119,"reputation":1834,"user_id":3706638,"accept_rate":100,"display_name":"S.Dan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":897,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650453660,"creation_date":1650453660,"question_id":71938737,"body_markdown":"If I have a class with a long list of attributes, what is the best way to compare 2 objects of it? I have tried using overriding `equals` and `hashcode` but the long list of attributes make it almost impossible to add a check to compare each attribute. Is there a better way to achieve this? ","title":"Better way to compare attributes of 2 objects of the same class with a lot of attributes","body":"<p>If I have a class with a long list of attributes, what is the best way to compare 2 objects of it? I have tried using overriding <code>equals</code> and <code>hashcode</code> but the long list of attributes make it almost impossible to add a check to compare each attribute. Is there a better way to achieve this?</p>\n"},{"tags":["java","datetime","deprecated"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":6,"creation_date":1358963062,"post_id":14485951,"comment_id":20185185,"body_markdown":"What does the javadoc say?","body":"What does the javadoc say?"}],"answers":[{"tags":[],"owner":{"account_id":1547777,"reputation":1573,"user_id":1440892,"accept_rate":41,"display_name":"Darussian"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1358963038,"creation_date":1358963038,"answer_id":14485993,"question_id":14485951,"body_markdown":"    Calendar cal = Calendar.getInstance();\r\n    cal.get(Calendar.HOUR);\r\n\r\nIf you want is as a date\r\n     \r\n    Date date = cal.getTime();","title":"What should I use instead of the deprecated Date.getHours()","body":"<pre><code>Calendar cal = Calendar.getInstance();\ncal.get(Calendar.HOUR);\n</code></pre>\n\n<p>If you want is as a date</p>\n\n<pre><code>Date date = cal.getTime();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1358963048,"creation_date":1358963048,"answer_id":14485998,"question_id":14485951,"body_markdown":"[Javadoc explicitly suggests][1]\r\n\r\n\r\n    Deprecated. As of JDK version 1.1, replaced by Calendar.get(Calendar.HOUR_OF_DAY).\r\n\r\n\r\n[Joda library][2] is another best alternative to handle Date and Time.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Date.html#getHours%28%29\r\n  [2]: http://joda-time.sourceforge.net/","title":"What should I use instead of the deprecated Date.getHours()","body":"<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Date.html#getHours%28%29\">Javadoc explicitly suggests</a></p>\n\n<pre><code>Deprecated. As of JDK version 1.1, replaced by Calendar.get(Calendar.HOUR_OF_DAY).\n</code></pre>\n\n<p><a href=\"http://joda-time.sourceforge.net/\">Joda library</a> is another best alternative to handle Date and Time.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1358963054,"creation_date":1358963054,"answer_id":14486003,"question_id":14485951,"body_markdown":"You should be using a Calendar or the Joda Time library.\r\n\r\nHowever if you can only use Date, this is your only method.  Note, this will not adjust for timezone.","title":"What should I use instead of the deprecated Date.getHours()","body":"<p>You should be using a Calendar or the Joda Time library.</p>\n\n<p>However if you can only use Date, this is your only method.  Note, this will not adjust for timezone.</p>\n"},{"tags":[],"owner":{"account_id":1660619,"reputation":905,"user_id":1528985,"display_name":"autra"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1358963593,"creation_date":1358963593,"answer_id":14486181,"question_id":14485951,"body_markdown":"These methods are indeed deprecated.\r\n\r\nYou should now use java.util.Calendar#get()\r\n\r\nSo your example becomes \r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.get(Calendar.HOUR);\r\n\r\nsee [the javadoc of this class.](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Calendar.html) \r\n\r\nNote that you can get a Date object by calling getTime on cal.\r\n\r\n","title":"What should I use instead of the deprecated Date.getHours()","body":"<p>These methods are indeed deprecated.</p>\n\n<p>You should now use java.util.Calendar#get()</p>\n\n<p>So your example becomes </p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.get(Calendar.HOUR);\n</code></pre>\n\n<p>see <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Calendar.html\" rel=\"noreferrer\">the javadoc of this class.</a> </p>\n\n<p>Note that you can get a Date object by calling getTime on cal.</p>\n"},{"tags":[],"owner":{"account_id":13208523,"reputation":47,"user_id":9539502,"display_name":"sajeeth"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1626865401,"creation_date":1626865401,"answer_id":68468365,"question_id":14485951,"body_markdown":"use such as below code.\r\n\r\n    Date date = new Date();\r\n    \tSystem.out.println(date);\r\n    \tSystem.out.println(new SimpleDateFormat(&quot;HH&quot;).format(date));\r\n    \tSystem.out.println(new SimpleDateFormat(&quot;mm&quot;).format(date));\r\n    \tSystem.out.println(new SimpleDateFormat(&quot;MM&quot;).format(date));\r\n    }\r\n\r\n","title":"What should I use instead of the deprecated Date.getHours()","body":"<p>use such as below code.</p>\n<pre><code>Date date = new Date();\n    System.out.println(date);\n    System.out.println(new SimpleDateFormat(&quot;HH&quot;).format(date));\n    System.out.println(new SimpleDateFormat(&quot;mm&quot;).format(date));\n    System.out.println(new SimpleDateFormat(&quot;MM&quot;).format(date));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1626870398,"creation_date":1626869450,"answer_id":68469253,"question_id":14485951,"body_markdown":"# *java.time* \r\n\r\nThe `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\nAlso, quoted below is a notice from the [home page of **Joda-Time**](https://www.joda.org/joda-time/):\r\n\r\n&gt; Note that from Java SE 8 onwards, users are asked to migrate to java.time (JSR-310) - a core part of the JDK which replaces this project.\r\n\r\n**Solution using `java.time`, the modern Date-Time API:**\r\n\r\nYou can use [`ZonedDateTime#now(ZoneId)`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#now-java.time.ZoneId-) to get the current Date-Time object from which you can get the information like timezone offset, year, month, day, **hour**, minute, second, nanosecond etc. If you do not need timezone offset, you can use [`LocalDateTime#now(ZoneId)`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#now-java.time.ZoneId-) instead. However, if you need just the current time information, you can use [`LocalTime#now(ZoneId)`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html#now-java.time.ZoneId-) to get the local time in a specific timezone and then get **hour**, minute, second, nanosecond etc. from the `LocalTime`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.LocalTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Change the JVM&#39;s ZoneId, ZoneId.systemDefault() with the applicable ZoneId\r\n    \t\t// e.g. ZoneId.of(&quot;America/Los_Angeles&quot;)\r\n    \t\tZoneId zoneId = ZoneId.systemDefault();\r\n    \r\n    \t\tZonedDateTime zdt = ZonedDateTime.now(zoneId);\r\n    \t\tSystem.out.println(zdt.getHour());\r\n    \r\n    \t\tLocalDateTime ldt = LocalDateTime.now(zoneId);\r\n    \t\tSystem.out.println(ldt.getHour());\r\n    \r\n    \t\tLocalTime time = LocalTime.now(zoneId);\r\n    \t\tSystem.out.println(time.getHour());\r\n    \t}\r\n    }\r\n    \r\n**Output from a sample run:**\r\n\r\n    13\r\n    13\r\n    13\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://ideone.com/byjfs1\r\n\r\n","title":"What should I use instead of the deprecated Date.getHours()","body":"<h1 id=\"java.time-dw99\"><em>java.time</em></h1>\n<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup>.</p>\n<p>Also, quoted below is a notice from the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">home page of <strong>Joda-Time</strong></a>:</p>\n<blockquote>\n<p>Note that from Java SE 8 onwards, users are asked to migrate to java.time (JSR-310) - a core part of the JDK which replaces this project.</p>\n</blockquote>\n<p><strong>Solution using <code>java.time</code>, the modern Date-Time API:</strong></p>\n<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#now-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>ZonedDateTime#now(ZoneId)</code></a> to get the current Date-Time object from which you can get the information like timezone offset, year, month, day, <strong>hour</strong>, minute, second, nanosecond etc. If you do not need timezone offset, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#now-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>LocalDateTime#now(ZoneId)</code></a> instead. However, if you need just the current time information, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html#now-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>LocalTime#now(ZoneId)</code></a> to get the local time in a specific timezone and then get <strong>hour</strong>, minute, second, nanosecond etc. from the <code>LocalTime</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.LocalTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Change the JVM's ZoneId, ZoneId.systemDefault() with the applicable ZoneId\n        // e.g. ZoneId.of(&quot;America/Los_Angeles&quot;)\n        ZoneId zoneId = ZoneId.systemDefault();\n\n        ZonedDateTime zdt = ZonedDateTime.now(zoneId);\n        System.out.println(zdt.getHour());\n\n        LocalDateTime ldt = LocalDateTime.now(zoneId);\n        System.out.println(ldt.getHour());\n\n        LocalTime time = LocalTime.now(zoneId);\n        System.out.println(time.getHour());\n    }\n}\n</code></pre>\n<p><strong>Output from a sample run:</strong></p>\n<pre><code>13\n13\n13\n</code></pre>\n<p><a href=\"https://ideone.com/byjfs1\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.\n</sup></p>\n"},{"tags":[],"owner":{"account_id":1126273,"reputation":1793,"user_id":1113501,"accept_rate":50,"display_name":"beam022"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1650453538,"creation_date":1640172834,"answer_id":70448399,"question_id":14485951,"body_markdown":"As others already stated [Javadoc](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Date.html#getHours%28%29) suggests to instead use `Calendar.get(Calendar.HOUR_OF_DAY)`.\r\n\r\n    Deprecated. As of JDK version 1.1, replaced by Calendar.get(Calendar.HOUR_OF_DAY).\r\n\r\nHere&#39;s how you could do it for already set `Date`:\r\n```\r\nint getHourOfDay(Date date) {\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTime(date);\r\n    return calendar.get(Calendar.HOUR_OF_DAY);\r\n}\r\n```\r\nUse `Calendar.HOUR_OF_DAY` if you want number from 0-23 and `Calendar.HOUR` for 0-11.","title":"What should I use instead of the deprecated Date.getHours()","body":"<p>As others already stated <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Date.html#getHours%28%29\" rel=\"noreferrer\">Javadoc</a> suggests to instead use <code>Calendar.get(Calendar.HOUR_OF_DAY)</code>.</p>\n<pre><code>Deprecated. As of JDK version 1.1, replaced by Calendar.get(Calendar.HOUR_OF_DAY).\n</code></pre>\n<p>Here's how you could do it for already set <code>Date</code>:</p>\n<pre><code>int getHourOfDay(Date date) {\n    Calendar calendar = Calendar.getInstance();\n    calendar.setTime(date);\n    return calendar.get(Calendar.HOUR_OF_DAY);\n}\n</code></pre>\n<p>Use <code>Calendar.HOUR_OF_DAY</code> if you want number from 0-23 and <code>Calendar.HOUR</code> for 0-11.</p>\n"}],"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20295,"favorite_count":0,"down_vote_count":2,"up_vote_count":21,"accepted_answer_id":14486003,"answer_count":7,"score":19,"last_activity_date":1650453538,"creation_date":1358962887,"question_id":14485951,"body_markdown":"If a method is deprecated in Java there will be a another better way to have same functionality, right?\r\n\r\n    Date date = new Date();\r\n    date.getHours()\r\n\r\nAs `getHours()` is deprecated, what is the best way to get hours using only the `Date` class?","title":"What should I use instead of the deprecated Date.getHours()","body":"<p>If a method is deprecated in Java there will be a another better way to have same functionality, right?</p>\n\n<pre><code>Date date = new Date();\ndate.getHours()\n</code></pre>\n\n<p>As <code>getHours()</code> is deprecated, what is the best way to get hours using only the <code>Date</code> class?</p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":2,"creation_date":1310535054,"post_id":6674431,"comment_id":7893594,"body_markdown":"May be error 5 is for &quot;Access Denied&quot;. (Not sure)","body":"May be error 5 is for &quot;Access Denied&quot;. (Not sure)"},{"owner":{"account_id":5043336,"reputation":13459,"user_id":4407266,"accept_rate":95,"display_name":"Aditya Vyas-Lakhan"},"score":0,"creation_date":1472635050,"post_id":6674431,"comment_id":65826925,"body_markdown":"i have same issue in android http://stackoverflow.com/questions/39245238/errorcreateprocess-error-193-1-is-not-a-valid-win32-application","body":"i have same issue in android <a href=\"http://stackoverflow.com/questions/39245238/errorcreateprocess-error-193-1-is-not-a-valid-win32-application\" title=\"errorcreateprocess error 193 1 is not a valid win32 application\">stackoverflow.com/questions/39245238/&hellip;</a>"},{"owner":{"account_id":3615868,"reputation":757,"user_id":3015744,"display_name":"JAGJ jdfoxito"},"score":0,"creation_date":1682472038,"post_id":6674431,"comment_id":134220216,"body_markdown":"Add after libraries \n\nos.environ[&#39;PYSPARK_PYTHON&#39;] = sys.executable\nos.environ[&#39;PYSPARK_DRIVER_PYTHON&#39;] = sys.executable","body":"Add after libraries   os.environ[&#39;PYSPARK_PYTHON&#39;] = sys.executable os.environ[&#39;PYSPARK_DRIVER_PYTHON&#39;] = sys.executable"}],"answers":[{"tags":[],"owner":{"account_id":385369,"reputation":28737,"user_id":742469,"accept_rate":92,"display_name":"Op De Cirkel"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1310536094,"creation_date":1310535652,"answer_id":6674517,"question_id":6674431,"body_markdown":"`error=5` means one of:  \r\n\r\n1) file is not executable  \r\n2) file is not accessible  \r\n\r\n\r\n**EDIT**: wont throw exception  \r\n&lt;s&gt;3) the command (example.exe) exits with exit code 5 &lt;/s&gt;","title":"Possible causes of java.io.IOException: CreateProcess error=5","body":"<p><code>error=5</code> means one of:  </p>\n\n<p>1) file is not executable<br>\n2) file is not accessible  </p>\n\n<p><strong>EDIT</strong>: wont throw exception<br>\n<s>3) the command (example.exe) exits with exit code 5 </s></p>\n"},{"tags":[],"owner":{"account_id":317540,"reputation":474,"user_id":634281,"accept_rate":29,"display_name":"Alexandr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393252962,"creation_date":1393252962,"answer_id":21990922,"question_id":6674431,"body_markdown":"I have the same exception because of Windows UAC.\r\n\r\nThis can happen even if your account has administrator privileges.\r\n\r\nTo be able to run such command I had to use powershell to elevate privileges.\r\n\r\n    powershell start-process &#39;start.bat&#39; -Verb RunAs","title":"Possible causes of java.io.IOException: CreateProcess error=5","body":"<p>I have the same exception because of Windows UAC.</p>\n\n<p>This can happen even if your account has administrator privileges.</p>\n\n<p>To be able to run such command I had to use powershell to elevate privileges.</p>\n\n<pre><code>powershell start-process 'start.bat' -Verb RunAs\n</code></pre>\n"},{"tags":[],"owner":{"account_id":228932,"reputation":23614,"user_id":491553,"accept_rate":45,"display_name":"Ryan Shillington"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1404234815,"creation_date":1404234815,"answer_id":24515901,"question_id":6674431,"body_markdown":"Alexandr is correct, it&#39;s Windows security that&#39;s not allowing that process to run, but that powershell command didn&#39;t work for me.  here&#39;s what I did:\r\n\r\n* Open up Windows explorer, and navigate to example.exe\r\n* Right click on it and choose &quot;Properties&quot;\r\n* Go to the &quot;Security&quot; tab and click the &quot;Edit&quot; button\r\n* Select your username in the top box and in the bottom one give &quot;Full Control&quot; or at least &quot;Read &amp; Execute&quot;\r\n* Click OK to get rid of these boxes\r\n\r\nNow your user can execute that program.  Yay!\r\n\r\n\r\n","title":"Possible causes of java.io.IOException: CreateProcess error=5","body":"<p>Alexandr is correct, it's Windows security that's not allowing that process to run, but that powershell command didn't work for me.  here's what I did:</p>\n\n<ul>\n<li>Open up Windows explorer, and navigate to example.exe</li>\n<li>Right click on it and choose \"Properties\"</li>\n<li>Go to the \"Security\" tab and click the \"Edit\" button</li>\n<li>Select your username in the top box and in the bottom one give \"Full Control\" or at least \"Read &amp; Execute\"</li>\n<li>Click OK to get rid of these boxes</li>\n</ul>\n\n<p>Now your user can execute that program.  Yay!</p>\n"},{"tags":[],"owner":{"account_id":934441,"reputation":4725,"user_id":965884,"accept_rate":88,"display_name":"Harry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469559951,"creation_date":1469558740,"answer_id":38597648,"question_id":6674431,"body_markdown":"Sometimes this happens because the path you put in code is not correct. For windows put `&quot;\\\\&quot;` as a path separator instead of `&quot;\\&quot;` For example change  path to `&quot;C:\\\\example\\\\example.exe&quot;`","title":"Possible causes of java.io.IOException: CreateProcess error=5","body":"<p>Sometimes this happens because the path you put in code is not correct. For windows put <code>\"\\\\\"</code> as a path separator instead of <code>\"\\\"</code> For example change  path to <code>\"C:\\\\example\\\\example.exe\"</code></p>\n"}],"owner":{"account_id":610,"reputation":116913,"user_id":797,"accept_rate":66,"display_name":"Matt Sheppard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63921,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":6674517,"answer_count":4,"score":20,"last_activity_date":1650453509,"creation_date":1310534812,"question_id":6674431,"body_markdown":"What kind of problem(s) could cause Java&#39;s ProcessBuilder.start method to return an IOException with a note saying error=5?\r\n\r\nSpecifically, we&#39;ve seen a remote customer system running some Java code along the lines of...\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(cmdArray);\r\n    pb.redirectErrorStream(true);\r\n    Process p = pb.start();\r\n\r\n...throw exceptions like this...\r\n\r\n    java.io.IOException: CreateProcess: C:\\example\\example.exe argument1 argument2 error=5\r\n    at java.lang.ProcessImpl.create(Native Method)\r\n    at java.lang.ProcessImpl.&lt;init&gt;(Unknown Source)\r\n    at java.lang.ProcessImpl.start(Unknown Source)\r\n    at java.lang.ProcessBuilder.start(Unknown Source)\r\n    at example_code_above\r\n\r\nWe have confirmed that the command noted in the exception, &quot;C:\\example\\example.exe argument1 argument2&quot; can be run successfully by hand via cmd.exe, so we are confident the command itself is not broken.","title":"Possible causes of java.io.IOException: CreateProcess error=5","body":"<p>What kind of problem(s) could cause Java's ProcessBuilder.start method to return an IOException with a note saying error=5?</p>\n\n<p>Specifically, we've seen a remote customer system running some Java code along the lines of...</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(cmdArray);\npb.redirectErrorStream(true);\nProcess p = pb.start();\n</code></pre>\n\n<p>...throw exceptions like this...</p>\n\n<pre><code>java.io.IOException: CreateProcess: C:\\example\\example.exe argument1 argument2 error=5\nat java.lang.ProcessImpl.create(Native Method)\nat java.lang.ProcessImpl.&lt;init&gt;(Unknown Source)\nat java.lang.ProcessImpl.start(Unknown Source)\nat java.lang.ProcessBuilder.start(Unknown Source)\nat example_code_above\n</code></pre>\n\n<p>We have confirmed that the command noted in the exception, \"C:\\example\\example.exe argument1 argument2\" can be run successfully by hand via cmd.exe, so we are confident the command itself is not broken.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":301424,"reputation":9607,"user_id":609130,"accept_rate":89,"display_name":"Amir"},"score":3,"creation_date":1353630060,"post_id":13521676,"comment_id":18511575,"body_markdown":"http://stackoverflow.com/questions/5270272/how-to-determine-day-of-week-by-passing-specific-date","body":"<a href=\"http://stackoverflow.com/questions/5270272/how-to-determine-day-of-week-by-passing-specific-date\" title=\"how to determine day of week by passing specific date\">stackoverflow.com/questions/5270272/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":322662,"reputation":1397,"user_id":642196,"accept_rate":75,"display_name":"Sean Powell"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1438253000,"creation_date":1353630366,"answer_id":13521719,"question_id":13521676,"body_markdown":"You can use [`java.util.Calendar`](http://docs.oracle.com/javase/6/docs/api/java/util/Calendar.html):\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    int dayOfWeek = calendar.get(Calendar.DAY_OF_WEEK);","title":"Get Current Day (Monday, Tuesday, etc) in Java","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>java.util.Calendar</code></a>:</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();\nint dayOfWeek = calendar.get(Calendar.DAY_OF_WEEK);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6360523,"reputation":327,"user_id":4936163,"display_name":"Miral Sarwar"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1435567119,"creation_date":1435567119,"answer_id":31111214,"question_id":13521676,"body_markdown":"This is the exact answer of the question,\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    Date date = calendar.getTime();\r\n    System.out.println(new SimpleDateFormat(&quot;EE&quot;, Locale.ENGLISH).format(date.getTime()));\r\n    System.out.println(new SimpleDateFormat(&quot;EEEE&quot;, Locale.ENGLISH).format(date.getTime()));\r\n\r\nResult (for today):\r\n\r\nSat\r\n\r\nSaturday","title":"Get Current Day (Monday, Tuesday, etc) in Java","body":"<p>This is the exact answer of the question,</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();\nDate date = calendar.getTime();\nSystem.out.println(new SimpleDateFormat(\"EE\", Locale.ENGLISH).format(date.getTime()));\nSystem.out.println(new SimpleDateFormat(\"EEEE\", Locale.ENGLISH).format(date.getTime()));\n</code></pre>\n\n<p>Result (for today):</p>\n\n<p>Sat</p>\n\n<p>Saturday</p>\n"},{"tags":[],"owner":{"account_id":2170309,"reputation":433,"user_id":1922501,"display_name":"Cl&#233;ment Mangin"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1471445532,"creation_date":1471445089,"answer_id":38999815,"question_id":13521676,"body_markdown":"As of Java 8 and its new [java.time][1] package:\r\n\r\n    DayOfWeek dayOfWeek = DayOfWeek.from(LocalDate.now());\r\nor\r\n\r\n    DayOfWeek dayOfWeek = LocalDate.now().getDayOfWeek();\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"Get Current Day (Monday, Tuesday, etc) in Java","body":"<p>As of Java 8 and its new <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> package:</p>\n\n<pre><code>DayOfWeek dayOfWeek = DayOfWeek.from(LocalDate.now());\n</code></pre>\n\n<p>or</p>\n\n<pre><code>DayOfWeek dayOfWeek = LocalDate.now().getDayOfWeek();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1527137086,"creation_date":1509015526,"answer_id":46952561,"question_id":13521676,"body_markdown":"Java 8 : \r\n\r\n    LocalDate.now().getDayOfWeek().name()","title":"Get Current Day (Monday, Tuesday, etc) in Java","body":"<p>Java 8 : </p>\n\n<pre><code>LocalDate.now().getDayOfWeek().name()\n</code></pre>\n"}],"owner":{"account_id":1572673,"reputation":298,"user_id":1460022,"accept_rate":80,"display_name":"the-alexgator"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40927,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":13521719,"answer_count":4,"score":12,"last_activity_date":1650453193,"creation_date":1353629903,"question_id":13521676,"body_markdown":"I am working on a program that asks the user which day they would like to see a lunch menu for. They can enter any day by name (Monday, Tuesday, etc.). This works well, but I would also like them to be able to enter &quot;Today&quot; and then have the program get the current date and then check the menu for that value.\r\n\r\nHow would I do this?\r\n\r\n","title":"Get Current Day (Monday, Tuesday, etc) in Java","body":"<p>I am working on a program that asks the user which day they would like to see a lunch menu for. They can enter any day by name (Monday, Tuesday, etc.). This works well, but I would also like them to be able to enter &quot;Today&quot; and then have the program get the current date and then check the menu for that value.</p>\n<p>How would I do this?</p>\n"},{"tags":["java","maven","sonarcloud"],"comments":[{"owner":{"account_id":6379859,"reputation":3051,"user_id":4949684,"display_name":"Carlos Cavero"},"score":0,"creation_date":1593696698,"post_id":62584227,"comment_id":110875050,"body_markdown":"Could you share the repo? This happens to me when I pushed first time in the repo in a different branch (and then PR). Pushing directly to master solves my problem. You do not need to specify sonar.projectKey it directly picks from maven coordinates groupId and artifactId. Have a look at this [repo](https://github.com/AriHealth/spring-boot-template)","body":"Could you share the repo? This happens to me when I pushed first time in the repo in a different branch (and then PR). Pushing directly to master solves my problem. You do not need to specify sonar.projectKey it directly picks from maven coordinates groupId and artifactId. Have a look at this <a href=\"https://github.com/AriHealth/spring-boot-template\" rel=\"nofollow noreferrer\">repo</a>"},{"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"score":1,"creation_date":1593767144,"post_id":62584227,"comment_id":110899993,"body_markdown":"Yeah, I solved my issue by creating a project in sonar cloud that matched my maven coordinates rather than gitlab name. Which was caused the confusion to me. For reference https://gitlab.com/Dragas/eternal-witness and https://sonarcloud.io/code?id=lt.saltyjuice.dragas%3Aeternal-witness-bom. Since my main POM has coordinates of &quot;lt.saltyjuice.dragas:eternal-witness-bom&quot; I needed a project with that name rather than gitlab&#39;s &quot;Eternal Witness&quot;","body":"Yeah, I solved my issue by creating a project in sonar cloud that matched my maven coordinates rather than gitlab name. Which was caused the confusion to me. For reference <a href=\"https://gitlab.com/Dragas/eternal-witness\" rel=\"nofollow noreferrer\">gitlab.com/Dragas/eternal-witness</a> and <a href=\"https://sonarcloud.io/code?id=lt.saltyjuice.dragas%3Aeternal-witness-bom\" rel=\"nofollow noreferrer\">sonarcloud.io/&hellip;</a>. Since my main POM has coordinates of &quot;lt.saltyjuice.dragas:eternal-witness-bom&quot; I needed a project with that name rather than gitlab&#39;s &quot;Eternal Witness&quot;"}],"answers":[{"tags":[],"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593767619,"creation_date":1593767619,"answer_id":62712226,"question_id":62584227,"body_markdown":"It seems that my issue was not related to that, but that the gitlab importer in sonar cloud creates a project with key that matches the project&#39;s name on gitlab. Instead you should create a project by hand and assign it the `{groupId}:{artifactId}` name in sonar cloud to prevent that confusion.\r\n\r\nThe error message is there because there was no project under that key and as a result sonar cloud had no defaults for it.","title":"Building multi-module maven project for SonarCloud","body":"<p>It seems that my issue was not related to that, but that the gitlab importer in sonar cloud creates a project with key that matches the project's name on gitlab. Instead you should create a project by hand and assign it the <code>{groupId}:{artifactId}</code> name in sonar cloud to prevent that confusion.</p>\n<p>The error message is there because there was no project under that key and as a result sonar cloud had no defaults for it.</p>\n"},{"tags":[],"owner":{"account_id":18974284,"reputation":116,"user_id":13847109,"display_name":"MagicSoup"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1593786583,"creation_date":1593786583,"answer_id":62717485,"question_id":62584227,"body_markdown":"For those, who strugle to get sonarcloud.io working with github action for a java application managed through a maven multi-module project.\r\n\r\nI have created a Spring Maven Multi-Module Project and wanted to be able to use sonar from sonarcloud.io during specific github action.\r\n\r\nGithub Project : https://github.com/MagicSoup/SpringJOOQ\r\n\r\nSonar Cloud Project : https://sonarcloud.io/dashboard?id=MagicSoup_SpringJOOQ\r\n\r\nYou can find my Github action here :\r\nhttps://github.com/MagicSoup/SpringJOOQ/blob/master/.github/workflows/maven-master.yml\r\n```\r\nsonar:\r\n    name: Test - SonarCloud Scan\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n      - uses: actions/checkout@v2\r\n      - name: Set up JDK 11\r\n        uses: actions/setup-java@v1\r\n        with:\r\n          java-version: 11\r\n      - name: SonarCloud Scan\r\n        run: mvn -B clean verify -Psonar -Dsonar.login=${{ secrets.SONAR_TOKEN }}\r\n        env:\r\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\r\n```\r\nAnd inside my root pom.xml the sonar profile :\r\nhttps://github.com/MagicSoup/SpringJOOQ/blob/master/pom.xml\r\n```\r\n &lt;profile&gt;\r\n            &lt;id&gt;sonar&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;sonar.host.url&gt;https://sonarcloud.io&lt;/sonar.host.url&gt;\r\n                &lt;sonar.organization&gt;magicsoup&lt;/sonar.organization&gt;\r\n                &lt;sonar.projectKey&gt;MagicSoup_SpringJOOQ&lt;/sonar.projectKey&gt;\r\n                &lt;sonar.moduleKey&gt;${project.groupId}:${project.artifactId}&lt;/sonar.moduleKey&gt;\r\n            &lt;/properties&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${sonar.version}&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;phase&gt;verify&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;sonar&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n```\r\nHere the important information are the following keys :\r\n- &lt;sonar.projectKey&gt;MagicSoup_SpringJOOQ&lt;/sonar.projectKey&gt;\r\n- &lt;sonar.moduleKey&gt;${project.groupId}:${project.artifactId}&lt;/sonar.moduleKey&gt;\r\n\r\nWithout le sonar.moduleKey definition, I had issues on more than one project with the same key.\r\n\r\nDuring the creation of the project in sonarcloud.io https://sonarcloud.io/projects/create by using the analyze github repository a message will be displayed that you should use another way than the automated one because it&#39;s doesn&#39;t work for java application. Then you will choose the one proprosing &quot;maven,gradle,...&quot; and you will find all the mandatory properties needed to be added in your maven pom.xml. Including the sonar.login that you should export as a secret token in github).\r\n\r\nYou can create your secret token here : https://github.com/User/Project/settings/secrets\r\nYou need to be authenticated and to change the User and Project accordingly.\r\n\r\nA great article about the subject : https://medium.com/faun/continuous-integration-of-java-project-with-github-actions-7a8a0e8246ef \r\n","title":"Building multi-module maven project for SonarCloud","body":"<p>For those, who strugle to get sonarcloud.io working with github action for a java application managed through a maven multi-module project.</p>\n<p>I have created a Spring Maven Multi-Module Project and wanted to be able to use sonar from sonarcloud.io during specific github action.</p>\n<p>Github Project : <a href=\"https://github.com/MagicSoup/SpringJOOQ\" rel=\"noreferrer\">https://github.com/MagicSoup/SpringJOOQ</a></p>\n<p>Sonar Cloud Project : <a href=\"https://sonarcloud.io/dashboard?id=MagicSoup_SpringJOOQ\" rel=\"noreferrer\">https://sonarcloud.io/dashboard?id=MagicSoup_SpringJOOQ</a></p>\n<p>You can find my Github action here :\n<a href=\"https://github.com/MagicSoup/SpringJOOQ/blob/master/.github/workflows/maven-master.yml\" rel=\"noreferrer\">https://github.com/MagicSoup/SpringJOOQ/blob/master/.github/workflows/maven-master.yml</a></p>\n<pre><code>sonar:\n    name: Test - SonarCloud Scan\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v2\n      - name: Set up JDK 11\n        uses: actions/setup-java@v1\n        with:\n          java-version: 11\n      - name: SonarCloud Scan\n        run: mvn -B clean verify -Psonar -Dsonar.login=${{ secrets.SONAR_TOKEN }}\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n</code></pre>\n<p>And inside my root pom.xml the sonar profile :\n<a href=\"https://github.com/MagicSoup/SpringJOOQ/blob/master/pom.xml\" rel=\"noreferrer\">https://github.com/MagicSoup/SpringJOOQ/blob/master/pom.xml</a></p>\n<pre><code> &lt;profile&gt;\n            &lt;id&gt;sonar&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;sonar.host.url&gt;https://sonarcloud.io&lt;/sonar.host.url&gt;\n                &lt;sonar.organization&gt;magicsoup&lt;/sonar.organization&gt;\n                &lt;sonar.projectKey&gt;MagicSoup_SpringJOOQ&lt;/sonar.projectKey&gt;\n                &lt;sonar.moduleKey&gt;${project.groupId}:${project.artifactId}&lt;/sonar.moduleKey&gt;\n            &lt;/properties&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n                        &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${sonar.version}&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;phase&gt;verify&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;sonar&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n</code></pre>\n<p>Here the important information are the following keys :</p>\n<ul>\n<li>&lt;sonar.projectKey&gt;MagicSoup_SpringJOOQ&lt;/sonar.projectKey&gt;</li>\n<li>&lt;sonar.moduleKey&gt;${project.groupId}:${project.artifactId}&lt;/sonar.moduleKey&gt;</li>\n</ul>\n<p>Without le sonar.moduleKey definition, I had issues on more than one project with the same key.</p>\n<p>During the creation of the project in sonarcloud.io <a href=\"https://sonarcloud.io/projects/create\" rel=\"noreferrer\">https://sonarcloud.io/projects/create</a> by using the analyze github repository a message will be displayed that you should use another way than the automated one because it's doesn't work for java application. Then you will choose the one proprosing &quot;maven,gradle,...&quot; and you will find all the mandatory properties needed to be added in your maven pom.xml. Including the sonar.login that you should export as a secret token in github).</p>\n<p>You can create your secret token here : <a href=\"https://github.com/User/Project/settings/secrets\" rel=\"noreferrer\">https://github.com/User/Project/settings/secrets</a>\nYou need to be authenticated and to change the User and Project accordingly.</p>\n<p>A great article about the subject : <a href=\"https://medium.com/faun/continuous-integration-of-java-project-with-github-actions-7a8a0e8246ef\" rel=\"noreferrer\">https://medium.com/faun/continuous-integration-of-java-project-with-github-actions-7a8a0e8246ef</a></p>\n"},{"tags":[],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650453118,"creation_date":1650453118,"answer_id":71938630,"question_id":62584227,"body_markdown":"For me I had to go into the Administration settings for sonar cloud for my project, then Analysis Method and turn off SonarCloud Automatic Analysis, since I&#39;m already running analysis through my CI.","title":"Building multi-module maven project for SonarCloud","body":"<p>For me I had to go into the Administration settings for sonar cloud for my project, then Analysis Method and turn off SonarCloud Automatic Analysis, since I'm already running analysis through my CI.</p>\n"}],"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4039,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":62717485,"answer_count":3,"score":5,"last_activity_date":1650453118,"creation_date":1593118721,"question_id":62584227,"body_markdown":"I am building a maven project of X amount of modules for the first time for SonarCloud. The `sonar.projectKey` value needs to be unique, so I set it to `${project.groupId}:{$project.artifactId}`, so that it would be generated per module. Afterwards, run the CI and this is the response message:\r\n```\r\n[ERROR] Failed to execute goal org.sonarsource.scanner.maven:sonar-maven-plugin:3.7.0.1746:sonar (default-cli) on project ${project.groupId}:${project.artifactId}: Could not find a default branch to fall back on. -&gt; [Help 1]\r\n```\r\nI suspect this is because I had not created a project with that key on my &quot;organization&quot;, but the issue is that I have more than one module. In fact, I have X of them. Should I still create a project **per module** that I want scanned? Shouldn&#39;t the sonarqube plugin handle that?","title":"Building multi-module maven project for SonarCloud","body":"<p>I am building a maven project of X amount of modules for the first time for SonarCloud. The <code>sonar.projectKey</code> value needs to be unique, so I set it to <code>${project.groupId}:{$project.artifactId}</code>, so that it would be generated per module. Afterwards, run the CI and this is the response message:</p>\n<pre><code>[ERROR] Failed to execute goal org.sonarsource.scanner.maven:sonar-maven-plugin:3.7.0.1746:sonar (default-cli) on project ${project.groupId}:${project.artifactId}: Could not find a default branch to fall back on. -&gt; [Help 1]\n</code></pre>\n<p>I suspect this is because I had not created a project with that key on my &quot;organization&quot;, but the issue is that I have more than one module. In fact, I have X of them. Should I still create a project <strong>per module</strong> that I want scanned? Shouldn't the sonarqube plugin handle that?</p>\n"},{"tags":["java","configuration-files","apache-commons-config"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":1,"creation_date":1617084621,"post_id":53384181,"comment_id":118196403,"body_markdown":"this will solve your problem, filePath: configLocation  \n```PropertiesConfiguration propertiesConfiguration = new FileBasedConfigurationBuilder&lt;&gt;(PropertiesConfiguration.class)\n                    .configure(new Parameters()\n                            .properties()\n                            .setFileName(configLocation)\n                            .setListDelimiterHandler(new DefaultListDelimiterHandler(&#39;,&#39;)))\n                    .getConfiguration();```","body":"this will solve your problem, filePath: configLocation   <code>PropertiesConfiguration propertiesConfiguration = new FileBasedConfigurationBuilder&lt;&gt;(PropertiesConfiguration.clas&zwnj;&#8203;s)                     .configure(new Parameters()                             .properties()                             .setFileName(configLocation)                             .setListDelimiterHandler(new DefaultListDelimiterHandler(&#39;,&#39;)))                     .getConfiguration();</code>"}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650452982,"creation_date":1650452982,"answer_id":71938596,"question_id":53384181,"body_markdown":"Based on @dkb comment, and since there is not yet an answer to the question, you can do the following:\r\n\r\n        Configuration configuration = new FileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt;(\r\n           PropertiesConfiguration.class)\r\n              .configure(new Parameters()\r\n                               .properties()\r\n                               .setFileName(&quot;app.properties&quot;))\r\n              .getConfiguration());\r\n\r\n\r\nYou can also specify the location strategy that you want to use:\r\n\r\n    Configuration configuration = new FileBasedConfigurationBuilder&lt;FileBasedConfiguration(\r\n       PropertiesConfiguration.class)\r\n          .configure(\r\n              new Parameters()\r\n                    .properties()\r\n                    .setLocationStrategy(new ClasspathLocationStrategy())\r\n                    .setFileName(&quot;app.properties&quot;))\r\n           .getConfiguration());","title":"Apache Commons Configuration: read from classpath/JAR?","body":"<p>Based on @dkb comment, and since there is not yet an answer to the question, you can do the following:</p>\n<pre><code>    Configuration configuration = new FileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt;(\n       PropertiesConfiguration.class)\n          .configure(new Parameters()\n                           .properties()\n                           .setFileName(&quot;app.properties&quot;))\n          .getConfiguration());\n</code></pre>\n<p>You can also specify the location strategy that you want to use:</p>\n<pre><code>Configuration configuration = new FileBasedConfigurationBuilder&lt;FileBasedConfiguration(\n   PropertiesConfiguration.class)\n      .configure(\n          new Parameters()\n                .properties()\n                .setLocationStrategy(new ClasspathLocationStrategy())\n                .setFileName(&quot;app.properties&quot;))\n       .getConfiguration());\n</code></pre>\n"}],"owner":{"account_id":9640511,"reputation":4079,"user_id":7154924,"accept_rate":86,"display_name":"flow2k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":692,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1650452982,"creation_date":1542670506,"question_id":53384181,"body_markdown":"Does the Apache Commons Configuration library support reading properties/configuration files from the classpath or JAR? I didn&#39;t find an API where it can take an `InputStream`, that returned by `getResourceAsStream`.","title":"Apache Commons Configuration: read from classpath/JAR?","body":"<p>Does the Apache Commons Configuration library support reading properties/configuration files from the classpath or JAR? I didn't find an API where it can take an <code>InputStream</code>, that returned by <code>getResourceAsStream</code>.</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650452972,"creation_date":1650452972,"answer_id":71938594,"question_id":71930945,"body_markdown":"You can wrap your error processing logic in a usual `try/catch` block avoiding `IncProcessor` errors to clutter your route business errors:\r\n\r\n    public class IncProcessor implements Processor {\r\n\r\n        public void process(Exchange exchange) {\r\n            try {\r\n                // process the exchange error\r\n            } catch (Exception e) {\r\n                // swallow, log, or process the exception somehow\r\n            }\r\n        }\r\n    }\r\n\r\nOne neat way of handling this, avoiding to throw away the `Exception-Processor` errors, would be to\r\n\r\nDefine a new sub-`Exception`:\r\n\r\n    public class IncProcessingException extends RuntimeException {\r\n        // ...\r\n    }\r\n\r\nWrap the error in a well-defined one:\r\n\r\n    public class IncProcessor implements Processor {\r\n\r\n        public void process(Exchange exchange) {\r\n            try {\r\n                // process the exchange error\r\n            } catch (Exception e) {\r\n                throw new IncProcessingException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nDefine a custom *redelivery policy* for the processing exception:\r\n\r\n    onException(IncProcessingException.class)\r\n        .maximumRedeliveries(1);","title":"onException leads to infinite loop during route","body":"<p>You can wrap your error processing logic in a usual <code>try/catch</code> block avoiding <code>IncProcessor</code> errors to clutter your route business errors:</p>\n<pre><code>public class IncProcessor implements Processor {\n\n    public void process(Exchange exchange) {\n        try {\n            // process the exchange error\n        } catch (Exception e) {\n            // swallow, log, or process the exception somehow\n        }\n    }\n}\n</code></pre>\n<p>One neat way of handling this, avoiding to throw away the <code>Exception-Processor</code> errors, would be to</p>\n<p>Define a new sub-<code>Exception</code>:</p>\n<pre><code>public class IncProcessingException extends RuntimeException {\n    // ...\n}\n</code></pre>\n<p>Wrap the error in a well-defined one:</p>\n<pre><code>public class IncProcessor implements Processor {\n\n    public void process(Exchange exchange) {\n        try {\n            // process the exchange error\n        } catch (Exception e) {\n            throw new IncProcessingException(e);\n        }\n    }\n}\n</code></pre>\n<p>Define a custom <em>redelivery policy</em> for the processing exception:</p>\n<pre><code>onException(IncProcessingException.class)\n    .maximumRedeliveries(1);\n</code></pre>\n"}],"owner":{"account_id":24256934,"reputation":47,"user_id":18207142,"display_name":"Cris Manrique"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650452972,"creation_date":1650400057,"question_id":71930945,"body_markdown":"I have this ```onException``` block before my route \r\n```    \r\nonException(Exception.class)\r\n        .process(new IncProcessor(IncService))\r\n        .handled(true);\r\n```\r\n\r\nWhat the processor does is grab the exception that occurs and uses an API to send and store it where I want it. The problem is that when that ```IncProcessor``` experiences an error, it results in an infinite loop since the ```onException``` block catches the error that occurs in ```IncProcessor``` and tries to run that same processor again. Is there any way to get around that?","title":"onException leads to infinite loop during route","body":"<p>I have this <code>onException</code> block before my route</p>\n<pre><code>onException(Exception.class)\n        .process(new IncProcessor(IncService))\n        .handled(true);\n</code></pre>\n<p>What the processor does is grab the exception that occurs and uses an API to send and store it where I want it. The problem is that when that <code>IncProcessor</code> experiences an error, it results in an infinite loop since the <code>onException</code> block catches the error that occurs in <code>IncProcessor</code> and tries to run that same processor again. Is there any way to get around that?</p>\n"},{"tags":["java","spring","docker","docker-compose","redis"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650147182,"post_id":71897777,"comment_id":127049096,"body_markdown":"Does it work if you start the spring-boot app locally and connect to `localhost` instead of `redis`?","body":"Does it work if you start the spring-boot app locally and connect to <code>localhost</code> instead of <code>redis</code>?"},{"owner":{"account_id":7420697,"reputation":619,"user_id":5645211,"display_name":"codemonkey"},"score":0,"creation_date":1650147351,"post_id":71897777,"comment_id":127049124,"body_markdown":"@Turing85 yes it does","body":"@Turing85 yes it does"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1650147649,"post_id":71897777,"comment_id":127049180,"body_markdown":"Just to be sure (although redis tends to start pretty fast): can you stage the start of the containers? `docker compose down &amp;&amp; docker compose up -d redis &amp;&amp; sleep 5 &amp;&amp; docker compose up --build -d`","body":"Just to be sure (although redis tends to start pretty fast): can you stage the start of the containers? <code>docker compose down &amp;&amp; docker compose up -d redis &amp;&amp; sleep 5 &amp;&amp; docker compose up --build -d</code>"},{"owner":{"account_id":7420697,"reputation":619,"user_id":5645211,"display_name":"codemonkey"},"score":0,"creation_date":1650181744,"post_id":71897777,"comment_id":127053009,"body_markdown":"@Turing85 i&#39;m pretty sure that redis is started first, i think &quot;depends_on&quot; setting already guarentees that.","body":"@Turing85 i&#39;m pretty sure that redis is started first, i think &quot;depends_on&quot; setting already guarentees that."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1650184599,"post_id":71897777,"comment_id":127053440,"body_markdown":"`depends_on` only guarantees that the container is started first, but not that the service (contained within the container) is started before the depending container is started.","body":"<code>depends_on</code> only guarantees that the container is started first, but not that the service (contained within the container) is started before the depending container is started."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650213064,"post_id":71897777,"comment_id":127058848,"body_markdown":"Then I am out of ideas.","body":"Then I am out of ideas."},{"owner":{"account_id":7420697,"reputation":619,"user_id":5645211,"display_name":"codemonkey"},"score":0,"creation_date":1650213154,"post_id":71897777,"comment_id":127058871,"body_markdown":"@Turing85 sorry to mislead, i left it as localhost on my first try, then i tried with changing it to redis and now it works! (only another exception in mongo lol)","body":"@Turing85 sorry to mislead, i left it as localhost on my first try, then i tried with changing it to redis and now it works! (only another exception in mongo lol)"},{"owner":{"account_id":7420697,"reputation":619,"user_id":5645211,"display_name":"codemonkey"},"score":0,"creation_date":1650215311,"post_id":71897777,"comment_id":127059320,"body_markdown":"@Turing85 Is there a config that can be applied in docker-compose.yml for waiting services?","body":"@Turing85 Is there a config that can be applied in docker-compose.yml for waiting services?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1650215371,"post_id":71897777,"comment_id":127059333,"body_markdown":"Sadly, no. There is no built-in way in doing this. There are, however [some workarounds](https://docs.docker.com/compose/startup-order/).","body":"Sadly, no. There is no built-in way in doing this. There are, however <a href=\"https://docs.docker.com/compose/startup-order/\" rel=\"nofollow noreferrer\">some workarounds</a>."}],"answers":[{"tags":[],"owner":{"account_id":16339508,"reputation":94,"user_id":11800728,"display_name":"Ruixiang Ji"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650363797,"creation_date":1650363797,"answer_id":71923388,"question_id":71897777,"body_markdown":"First of all, if your container is on a remote server, you can use telnet on the server where the container is deployed to test whether it can connect to port 6379 of redis. If so, you can check whether the server has open port 6379, or a whitelist.\r\nSecondly, you can try to connect to the 6379 port of the container redis by telnet on the computer.\r\nIf yes, you can check if the ip, password, username and other information of your redis configuration are correct.","title":"Combining Spring boot and redis with docker-compose: Connection refused","body":"<p>First of all, if your container is on a remote server, you can use telnet on the server where the container is deployed to test whether it can connect to port 6379 of redis. If so, you can check whether the server has open port 6379, or a whitelist.\nSecondly, you can try to connect to the 6379 port of the container redis by telnet on the computer.\nIf yes, you can check if the ip, password, username and other information of your redis configuration are correct.</p>\n"},{"tags":[],"owner":{"account_id":7420697,"reputation":619,"user_id":5645211,"display_name":"codemonkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650452608,"creation_date":1650452608,"answer_id":71938523,"question_id":71897777,"body_markdown":"This error may occur if your redis server is starting later than your spring boot. Make sure redis is started first by the following command.\r\n\r\n    docker compose down &amp;&amp; docker compose up -d redis &amp;&amp; sleep 5 &amp;&amp; docker compose up --build -d","title":"Combining Spring boot and redis with docker-compose: Connection refused","body":"<p>This error may occur if your redis server is starting later than your spring boot. Make sure redis is started first by the following command.</p>\n<pre><code>docker compose down &amp;&amp; docker compose up -d redis &amp;&amp; sleep 5 &amp;&amp; docker compose up --build -d\n</code></pre>\n"}],"owner":{"account_id":7420697,"reputation":619,"user_id":5645211,"display_name":"codemonkey"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71938523,"answer_count":2,"score":0,"last_activity_date":1650452608,"creation_date":1650146377,"question_id":71897777,"body_markdown":"I am trying to do a basic docker container(s) with spring boot and MongoDB and redis. Mongo is just fine but connection can&#39;t be established between redis and spring boot although the configuration looks ok to me.\r\n\r\n\r\n**docker-compose.yml**\r\n\r\n    version: &quot;3.9&quot;\r\n    services:\r\n      web:\r\n        build: .\r\n        ports:\r\n          - &quot;1234:1234&quot;\r\n        depends_on:\r\n          - redis\r\n          - db\r\n      db:\r\n        image: mongo\r\n        hostname: mongodb\r\n        ports:\r\n          - &quot;27017:27017&quot;\r\n      redis:\r\n        hostname: redis\r\n        image: redis\r\n        restart: always\r\n        ports:\r\n          - &quot;6379:6379&quot;\r\n\r\n**Dockerfile:**\r\n\r\n    FROM adoptopenjdk:11\r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n\r\n**Config.java:**\r\n\r\n    @Configuration\r\n    @EnableRedisRepositories\r\n    public class Config\r\n    {\r\n    \r\n        RedisStandaloneConfiguration standaloneConfiguration() {\r\n            return new RedisStandaloneConfiguration(&quot;redis&quot;, 6379);\r\n        }\r\n    \r\n        @Bean\r\n        JedisConnectionFactory jedisConnectionFactory() {\r\n            return new JedisConnectionFactory(standaloneConfiguration());\r\n        }\r\n    \r\n        @Bean\r\n        public RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n            RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n            template.setConnectionFactory(jedisConnectionFactory());\r\n            return template;\r\n        }\r\n    }\r\n\r\n**Problem:** All the containers are running after docker compose up. but the connection between spring and redis can&#39;t be established.\r\n\r\n\r\n \r\n\r\n    java.net.ConnectException: Connection refused (Connection refused)\r\n    slot-web-1    | \tat java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\r\n    slot-web-1    | \tat java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399) ~[na:na]\r\n    slot-web-1    | \tat java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242) ~[na:na]\r\n    slot-web-1    | \tat java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224) ~[na:na]\r\n    slot-web-1    | \tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\r\n\r\n","title":"Combining Spring boot and redis with docker-compose: Connection refused","body":"<p>I am trying to do a basic docker container(s) with spring boot and MongoDB and redis. Mongo is just fine but connection can't be established between redis and spring boot although the configuration looks ok to me.</p>\n<p><strong>docker-compose.yml</strong></p>\n<pre><code>version: &quot;3.9&quot;\nservices:\n  web:\n    build: .\n    ports:\n      - &quot;1234:1234&quot;\n    depends_on:\n      - redis\n      - db\n  db:\n    image: mongo\n    hostname: mongodb\n    ports:\n      - &quot;27017:27017&quot;\n  redis:\n    hostname: redis\n    image: redis\n    restart: always\n    ports:\n      - &quot;6379:6379&quot;\n</code></pre>\n<p><strong>Dockerfile:</strong></p>\n<pre><code>FROM adoptopenjdk:11\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p><strong>Config.java:</strong></p>\n<pre><code>@Configuration\n@EnableRedisRepositories\npublic class Config\n{\n\n    RedisStandaloneConfiguration standaloneConfiguration() {\n        return new RedisStandaloneConfiguration(&quot;redis&quot;, 6379);\n    }\n\n    @Bean\n    JedisConnectionFactory jedisConnectionFactory() {\n        return new JedisConnectionFactory(standaloneConfiguration());\n    }\n\n    @Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(jedisConnectionFactory());\n        return template;\n    }\n}\n</code></pre>\n<p><strong>Problem:</strong> All the containers are running after docker compose up. but the connection between spring and redis can't be established.</p>\n<pre><code>java.net.ConnectException: Connection refused (Connection refused)\nslot-web-1    |     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\nslot-web-1    |     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399) ~[na:na]\nslot-web-1    |     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242) ~[na:na]\nslot-web-1    |     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224) ~[na:na]\nslot-web-1    |     at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\n</code></pre>\n"},{"tags":["java","android","numbers"],"answers":[{"tags":[],"owner":{"account_id":14700841,"reputation":341,"user_id":10616887,"display_name":"rozeri dilar"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1543917511,"creation_date":1543917511,"answer_id":53610209,"question_id":53610208,"body_markdown":"Here is how I ended up:   \r\n\r\n       private static boolean verifyNumber(String nationalityNumberStr) {\r\n                try {\r\n                    String tmp = nationalityNumberStr;\r\n        \r\n                    if(tmp.toCharArray()[0] != &#39;0&#39;){\r\n                        //cannot start with 0\r\n                        if (tmp.length() == 11) {\r\n                            //should be 11 digits\r\n                            int totalOdd = 0;\r\n        \r\n                            int totalEven = 0;\r\n        \r\n                            for (int i = 0; i &lt; 9; i++) {\r\n                                int val = Integer.valueOf(tmp.substring(i, i + 1));\r\n        \r\n                                if (i % 2 == 0) {\r\n                                    totalOdd += val;\r\n                                } else {\r\n                                    totalEven += val;\r\n                                }\r\n                            }\r\n        \r\n                            int total = totalOdd + totalEven + Integer.valueOf(tmp.substring(9, 10));\r\n        \r\n                            int lastDigit = total % 10;\r\n        \r\n                            if (tmp.substring(10).equals(String.valueOf(lastDigit))) {\r\n                                int check = (totalOdd * 7 - totalEven) % 10;\r\n        \r\n                                if (tmp.substring(9, 10).equals(String.valueOf(check))) {\r\n                                    return true;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n        \r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n        \r\n                return false;","title":"Turkish Identity Number Verification","body":"<p>Here is how I ended up:   </p>\n\n<pre><code>   private static boolean verifyNumber(String nationalityNumberStr) {\n            try {\n                String tmp = nationalityNumberStr;\n\n                if(tmp.toCharArray()[0] != '0'){\n                    //cannot start with 0\n                    if (tmp.length() == 11) {\n                        //should be 11 digits\n                        int totalOdd = 0;\n\n                        int totalEven = 0;\n\n                        for (int i = 0; i &lt; 9; i++) {\n                            int val = Integer.valueOf(tmp.substring(i, i + 1));\n\n                            if (i % 2 == 0) {\n                                totalOdd += val;\n                            } else {\n                                totalEven += val;\n                            }\n                        }\n\n                        int total = totalOdd + totalEven + Integer.valueOf(tmp.substring(9, 10));\n\n                        int lastDigit = total % 10;\n\n                        if (tmp.substring(10).equals(String.valueOf(lastDigit))) {\n                            int check = (totalOdd * 7 - totalEven) % 10;\n\n                            if (tmp.substring(9, 10).equals(String.valueOf(check))) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n            return false;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1543927561,"creation_date":1543925957,"answer_id":53612831,"question_id":53610208,"body_markdown":"You could shorten it a little bit without losing readability to:\r\n\r\n    private static boolean verifyNumber(String nationalityNumberStr) {\r\n        if(nationalityNumberStr.startsWith(&quot;0&quot;) || !nationalityNumberStr.matches(&quot;[0-9]{11}&quot;) ){\r\n            return false;\r\n        }\r\n\r\n        int [] temp = new int [11];\r\n        for (int i = 0; i &lt; 11; i++){\r\n            temp[i] = Character.getNumericValue(nationalityNumberStr.toCharArray()[i]);\r\n        }\r\n\r\n        int c1 = 0;\r\n        int c2 = temp[9];\r\n        for(int j = 0; j &lt; 9; j++){\r\n            if(j%2 == 0) {\r\n               c1 += temp[j] * 7;\r\n            }\r\n            else {\r\n               c1 -=  temp[j];\r\n            }\r\n            c2 += temp[j];\r\n        }\r\n\r\n        return  temp[9]== c1 % 10 &amp;&amp; temp[10] == c2 %10;\r\n    }","title":"Turkish Identity Number Verification","body":"<p>You could shorten it a little bit without losing readability to:</p>\n\n<pre><code>private static boolean verifyNumber(String nationalityNumberStr) {\n    if(nationalityNumberStr.startsWith(\"0\") || !nationalityNumberStr.matches(\"[0-9]{11}\") ){\n        return false;\n    }\n\n    int [] temp = new int [11];\n    for (int i = 0; i &lt; 11; i++){\n        temp[i] = Character.getNumericValue(nationalityNumberStr.toCharArray()[i]);\n    }\n\n    int c1 = 0;\n    int c2 = temp[9];\n    for(int j = 0; j &lt; 9; j++){\n        if(j%2 == 0) {\n           c1 += temp[j] * 7;\n        }\n        else {\n           c1 -=  temp[j];\n        }\n        c2 += temp[j];\n    }\n\n    return  temp[9]== c1 % 10 &amp;&amp; temp[10] == c2 %10;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16546247,"reputation":9,"user_id":11955697,"display_name":"MeliksahBardakci"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1568100134,"creation_date":1567778009,"answer_id":57823378,"question_id":53610208,"body_markdown":"Sorry but the code above ( [written by Eritrean][1]) is missing some rules. So it does not work.\r\n\r\n - For the short version working code is below ( **C#** ):\r\n\r\n        public static bool IsValidTcknShortCode(string tckn)\r\n        {\r\n            int internalSum = 0, sumFirst9Digit = 0, sumFirst10Digit = 0, current = 0, tckn10thDigit, tcknLastDigit;\r\n\r\n            try\r\n            {\r\n                if (tckn.Length != 11 || !tckn.All(char.IsDigit) || tckn.Substring(0, 1) == &quot;0&quot;)\r\n                    return false;\r\n\r\n\r\n                for (int i = 1; i &lt; tckn.Length - 1; i++)\r\n                {\r\n                    current = int.Parse(tckn[i - 1].ToString());\r\n\r\n                    if (i % 2 != 0)\r\n                        internalSum += (current * 7);\r\n                    else\r\n                        internalSum -= current;\r\n\r\n                    sumFirst9Digit += current;\r\n                }\r\n\r\n                tckn10thDigit = int.Parse(tckn[9].ToString());\r\n                tcknLastDigit = int.Parse(tckn[10].ToString());\r\n                sumFirst10Digit = sumFirst9Digit + tckn10thDigit;\r\n                return (internalSum % 10 == tckn10thDigit &amp;&amp; sumFirst10Digit % 10 == tcknLastDigit);\r\n            }\r\n            catch (Exception ex)\r\n            {\r\n                string exMessage = ex.Message;\r\n                return false;\r\n            }\r\n        }\r\n\r\n\r\n - \r\n&gt; For a longer code but which I believe much more readable in terms of **validation rules**\r\n&gt; **readability** is below ( **C#** );\r\n\r\n\r\n       \r\n        public static bool IsValidTckn(string tckn)\r\n        {\r\n            int sum13579 = 0, sum2468 = 0, sumFirst10Digit = 0, current = 0, tckn10thDigit, tcknLastDigit;\r\n\r\n            try\r\n            {\r\n                // TC Kimlik numaraları 11 basamaktan oluşmaktadır. \r\n                if (tckn.Length != 11)\r\n                    throw new ArgumentException(&quot;Length of TCKN must equal to 11&quot;);\r\n\r\n                // Her hanesi rakamsal değer i&#231;erir.\r\n                if (!tckn.All(char.IsDigit))\r\n                    throw new ArgumentException(&quot;TCKN must only consists of numeric values&quot;);\r\n\r\n                // İlk hane 0 olamaz\r\n                if (tckn.Substring(0, 1) == &quot;0&quot;)\r\n                    throw new ArgumentException(&quot;TCKN must not start with 0&quot;);\r\n\r\n\r\n                for (int i = 1; i &lt; tckn.Length - 1; i++)\r\n                {\r\n                    current = int.Parse(tckn[i - 1].ToString());\r\n\r\n                    if (i % 2 == 0)\r\n                        sum2468 += current;\r\n                    else\r\n                        sum13579 += current;\r\n                }\r\n\r\n                tckn10thDigit = int.Parse(tckn[9].ToString());\r\n                sumFirst10Digit = sum13579 + sum2468 + tckn10thDigit;\r\n\r\n                // 1. 3. 5. 7. ve 9. hanelerin toplamının 7 katından, 2. 4. 6. ve 8. hanelerin toplamı &#231;ıkartıldığında, elde edilen sonucun Mod 10’u bize 10. haneyi verir.\r\n                if (((sum13579 * 7) - sum2468) % 10 != tckn10thDigit)\r\n                    throw new ArgumentException(&quot;Not Valid TCKN&quot;);\r\n\r\n\r\n                tcknLastDigit = int.Parse(tckn[10].ToString());\r\n\r\n                // 1. 2. 3. 4. 5. 6. 7. 8. 9. ve 10. hanelerin toplamından elde edilen sonucun 10’a b&#246;l&#252;m&#252;nden kalan, yani Mod10’u bize 11. haneyi verir.\r\n                if (sumFirst10Digit % 10 != tcknLastDigit)\r\n                    throw new ArgumentException(&quot;Not Valid TCKN&quot;);\r\n            }\r\n            catch (Exception ex)\r\n            {\r\n                string exMessage = ex.Message;\r\n                return false;\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53612831/11955697","title":"Turkish Identity Number Verification","body":"<p>Sorry but the code above ( <a href=\"https://stackoverflow.com/a/53612831/11955697\">written by Eritrean</a>) is missing some rules. So it does not work.</p>\n\n<ul>\n<li><p>For the short version working code is below ( <strong>C#</strong> ):</p>\n\n<pre><code>public static bool IsValidTcknShortCode(string tckn)\n{\n    int internalSum = 0, sumFirst9Digit = 0, sumFirst10Digit = 0, current = 0, tckn10thDigit, tcknLastDigit;\n\n    try\n    {\n        if (tckn.Length != 11 || !tckn.All(char.IsDigit) || tckn.Substring(0, 1) == \"0\")\n            return false;\n\n\n        for (int i = 1; i &lt; tckn.Length - 1; i++)\n        {\n            current = int.Parse(tckn[i - 1].ToString());\n\n            if (i % 2 != 0)\n                internalSum += (current * 7);\n            else\n                internalSum -= current;\n\n            sumFirst9Digit += current;\n        }\n\n        tckn10thDigit = int.Parse(tckn[9].ToString());\n        tcknLastDigit = int.Parse(tckn[10].ToString());\n        sumFirst10Digit = sumFirst9Digit + tckn10thDigit;\n        return (internalSum % 10 == tckn10thDigit &amp;&amp; sumFirst10Digit % 10 == tcknLastDigit);\n    }\n    catch (Exception ex)\n    {\n        string exMessage = ex.Message;\n        return false;\n    }\n}\n</code></pre></li>\n<li><blockquote>\n  <p>For a longer code but which I believe much more readable in terms of <strong>validation rules</strong>\n  <strong>readability</strong> is below ( <strong>C#</strong> );</p>\n</blockquote>\n\n<pre><code>public static bool IsValidTckn(string tckn)\n{\n    int sum13579 = 0, sum2468 = 0, sumFirst10Digit = 0, current = 0, tckn10thDigit, tcknLastDigit;\n\n    try\n    {\n        // TC Kimlik numaraları 11 basamaktan oluşmaktadır. \n        if (tckn.Length != 11)\n            throw new ArgumentException(\"Length of TCKN must equal to 11\");\n\n        // Her hanesi rakamsal değer içerir.\n        if (!tckn.All(char.IsDigit))\n            throw new ArgumentException(\"TCKN must only consists of numeric values\");\n\n        // İlk hane 0 olamaz\n        if (tckn.Substring(0, 1) == \"0\")\n            throw new ArgumentException(\"TCKN must not start with 0\");\n\n\n        for (int i = 1; i &lt; tckn.Length - 1; i++)\n        {\n            current = int.Parse(tckn[i - 1].ToString());\n\n            if (i % 2 == 0)\n                sum2468 += current;\n            else\n                sum13579 += current;\n        }\n\n        tckn10thDigit = int.Parse(tckn[9].ToString());\n        sumFirst10Digit = sum13579 + sum2468 + tckn10thDigit;\n\n        // 1. 3. 5. 7. ve 9. hanelerin toplamının 7 katından, 2. 4. 6. ve 8. hanelerin toplamı çıkartıldığında, elde edilen sonucun Mod 10’u bize 10. haneyi verir.\n        if (((sum13579 * 7) - sum2468) % 10 != tckn10thDigit)\n            throw new ArgumentException(\"Not Valid TCKN\");\n\n\n        tcknLastDigit = int.Parse(tckn[10].ToString());\n\n        // 1. 2. 3. 4. 5. 6. 7. 8. 9. ve 10. hanelerin toplamından elde edilen sonucun 10’a bölümünden kalan, yani Mod10’u bize 11. haneyi verir.\n        if (sumFirst10Digit % 10 != tcknLastDigit)\n            throw new ArgumentException(\"Not Valid TCKN\");\n    }\n    catch (Exception ex)\n    {\n        string exMessage = ex.Message;\n        return false;\n    }\n\n    return true;\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11686211,"reputation":161,"user_id":8555991,"display_name":"fiver6"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624355291,"creation_date":1624355291,"answer_id":68081297,"question_id":53610208,"body_markdown":"Thanks for all the answers but they all miss something. Builtin Java modulo operator causes a problem for this validation. Builtin Java module operator produces negative modules for negative numbers which causes validation to fail. Instead of using built-in Java module operator, one needs to use Math.floorMod(x, y) method from Math library. That way modulo of a negative number produces positive number which is what expected in the algorithm.\r\n\r\nI will share my implementatation:\r\n\r\n    /*\r\n    Tc No = d1 d2 d3 d4 d5 d6 d7 d8 d9 c1 c2\r\n    c1 = ( (d1 + d3 + d5 + d7 + d9) * 7 - (d2 + d4 + d6 + d8) ) mod10\r\n    c2 = ( d1 + d2 + d3 + d4 + d5 + d6 + d7 + d8 + d9 + c1 ) mod10\r\n    */\r\n    public static boolean isValidIdentityNumber(String identityNumber) {\r\n      int d1 = Character.getNumericValue(identityNumber.charAt(0));\r\n      int d2 = Character.getNumericValue(identityNumber.charAt(1));\r\n      int d3 = Character.getNumericValue(identityNumber.charAt(2));\r\n      int d4 = Character.getNumericValue(identityNumber.charAt(3));\r\n      int d5 = Character.getNumericValue(identityNumber.charAt(4));\r\n      int d6 = Character.getNumericValue(identityNumber.charAt(5));\r\n      int d7 = Character.getNumericValue(identityNumber.charAt(6));\r\n      int d8 = Character.getNumericValue(identityNumber.charAt(7));\r\n      int d9 = Character.getNumericValue(identityNumber.charAt(8));\r\n      int d10 = Character.getNumericValue(identityNumber.charAt(9));\r\n      int d11 = Character.getNumericValue(identityNumber.charAt(10));\r\n      int c1 = Math.floorMod((d1 + d3 + d5 + d7 + d9) * 7 - (d2 + d4 + d6 + d8), 10);\r\n      int c2 = Math.floorMod(d1 + d2 + d3 + d4 + d5 + d6 + d7 + d8 + d9 + c1, 10);\r\n      return c1 == d10 &amp;&amp; c2 == d11;\r\n}","title":"Turkish Identity Number Verification","body":"<p>Thanks for all the answers but they all miss something. Builtin Java modulo operator causes a problem for this validation. Builtin Java module operator produces negative modules for negative numbers which causes validation to fail. Instead of using built-in Java module operator, one needs to use Math.floorMod(x, y) method from Math library. That way modulo of a negative number produces positive number which is what expected in the algorithm.</p>\n<p>I will share my implementatation:</p>\n<pre><code>/*\nTc No = d1 d2 d3 d4 d5 d6 d7 d8 d9 c1 c2\nc1 = ( (d1 + d3 + d5 + d7 + d9) * 7 - (d2 + d4 + d6 + d8) ) mod10\nc2 = ( d1 + d2 + d3 + d4 + d5 + d6 + d7 + d8 + d9 + c1 ) mod10\n*/\npublic static boolean isValidIdentityNumber(String identityNumber) {\n  int d1 = Character.getNumericValue(identityNumber.charAt(0));\n  int d2 = Character.getNumericValue(identityNumber.charAt(1));\n  int d3 = Character.getNumericValue(identityNumber.charAt(2));\n  int d4 = Character.getNumericValue(identityNumber.charAt(3));\n  int d5 = Character.getNumericValue(identityNumber.charAt(4));\n  int d6 = Character.getNumericValue(identityNumber.charAt(5));\n  int d7 = Character.getNumericValue(identityNumber.charAt(6));\n  int d8 = Character.getNumericValue(identityNumber.charAt(7));\n  int d9 = Character.getNumericValue(identityNumber.charAt(8));\n  int d10 = Character.getNumericValue(identityNumber.charAt(9));\n  int d11 = Character.getNumericValue(identityNumber.charAt(10));\n  int c1 = Math.floorMod((d1 + d3 + d5 + d7 + d9) * 7 - (d2 + d4 + d6 + d8), 10);\n  int c2 = Math.floorMod(d1 + d2 + d3 + d4 + d5 + d6 + d7 + d8 + d9 + c1, 10);\n  return c1 == d10 &amp;&amp; c2 == d11;\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":14700841,"reputation":341,"user_id":10616887,"display_name":"rozeri dilar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2400,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53612831,"answer_count":4,"score":2,"last_activity_date":1650452149,"creation_date":1543917511,"question_id":53610208,"body_markdown":"How can I make sure that the given text is Turkish Identity Number? I have seen [js version here][1] and [phthon version here][2]\r\n\r\nAlso, posted a question couple of days ago for [swift version here][3].\r\n\r\nTurkish Identity Verification is not checks only if its numeric, it has some other functions too. Let me be more clear, It is numeric and has 11 digits. For example Let assume that first 9 digits are represented by d, and the last ones represented by c:\r\n\r\n    Identity Number = d1 d2 d3 d4 d5 d6 d7 d8 d9 c1 c2\r\n\r\n10th digit must be,\r\n\r\n`c1 = ( (d1 + d3 + d5 + d7 + d9) * 7 - (d2 + d4 + d6 + d8) ) mod10`\r\n\r\n11th must be,\r\n\r\n    c2 = ( d1 + d2 + d3 + d4 + d5 + d6 + d7 + d8 + d9 + c1 ) mod10\r\n\r\nand it never starts with &quot;0&quot;. For example, &quot;87836910956&quot; is a Turkish Identity Number.\r\n\r\nNow I have to use this validation in android/java.\r\n\r\n\r\n  [1]: https://gist.github.com/onury/7a380f906b1eb46dc2f0bb089caf7d12\r\n  [2]: https://gist.github.com/canerbasaran/5935004\r\n  [3]: https://stackoverflow.com/questions/53554304/turkish-identity-number-verification-in-swift","title":"Turkish Identity Number Verification","body":"<p>How can I make sure that the given text is Turkish Identity Number? I have seen <a href=\"https://gist.github.com/onury/7a380f906b1eb46dc2f0bb089caf7d12\" rel=\"nofollow noreferrer\">js version here</a> and <a href=\"https://gist.github.com/canerbasaran/5935004\" rel=\"nofollow noreferrer\">phthon version here</a></p>\n\n<p>Also, posted a question couple of days ago for <a href=\"https://stackoverflow.com/questions/53554304/turkish-identity-number-verification-in-swift\">swift version here</a>.</p>\n\n<p>Turkish Identity Verification is not checks only if its numeric, it has some other functions too. Let me be more clear, It is numeric and has 11 digits. For example Let assume that first 9 digits are represented by d, and the last ones represented by c:</p>\n\n<pre><code>Identity Number = d1 d2 d3 d4 d5 d6 d7 d8 d9 c1 c2\n</code></pre>\n\n<p>10th digit must be,</p>\n\n<p><code>c1 = ( (d1 + d3 + d5 + d7 + d9) * 7 - (d2 + d4 + d6 + d8) ) mod10</code></p>\n\n<p>11th must be,</p>\n\n<pre><code>c2 = ( d1 + d2 + d3 + d4 + d5 + d6 + d7 + d8 + d9 + c1 ) mod10\n</code></pre>\n\n<p>and it never starts with \"0\". For example, \"87836910956\" is a Turkish Identity Number.</p>\n\n<p>Now I have to use this validation in android/java.</p>\n"},{"tags":["java","sockets","ssl"],"comments":[{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1413074499,"post_id":26320624,"comment_id":41306621,"body_markdown":"possible duplicate of [What does InputStream.available() do in Java?](http://stackoverflow.com/questions/3695372/what-does-inputstream-available-do-in-java) (check out the [second answer](http://stackoverflow.com/a/3695378/2398375))","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3695372/what-does-inputstream-available-do-in-java\">What does InputStream.available() do in Java?</a> (check out the <a href=\"http://stackoverflow.com/a/3695378/2398375\">second answer</a>)"},{"owner":{"account_id":443957,"reputation":645,"user_id":835500,"accept_rate":88,"display_name":"xubia"},"score":0,"creation_date":1413074900,"post_id":26320624,"comment_id":41306709,"body_markdown":"That is interesting. However, in my case, there is data available, therefore read() should not be blocking, and available should not return 0.","body":"That is interesting. However, in my case, there is data available, therefore read() should not be blocking, and available should not return 0."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1413075205,"post_id":26320624,"comment_id":41306763,"body_markdown":"Check out the first comment to that answer as well - &quot;*Note also that available() always returns zero for an SSL socket*&quot;. It would help to know why blocking is a problem in your case. Keep in mind, you are using blocking IO","body":"Check out the first comment to that answer as well - &quot;<i>Note also that available() always returns zero for an SSL socket</i>&quot;. It would help to know why blocking is a problem in your case. Keep in mind, you are using blocking IO"},{"owner":{"account_id":443957,"reputation":645,"user_id":835500,"accept_rate":88,"display_name":"xubia"},"score":0,"creation_date":1413075446,"post_id":26320624,"comment_id":41306794,"body_markdown":"Ah I see. Then does that mean there is no way to tell that there is data in an SSLSocket without reading from it?","body":"Ah I see. Then does that mean there is no way to tell that there is data in an SSLSocket without reading from it?"},{"owner":{"account_id":443957,"reputation":645,"user_id":835500,"accept_rate":88,"display_name":"xubia"},"score":0,"creation_date":1413075915,"post_id":26320624,"comment_id":41306865,"body_markdown":"Blocking is theoretically not a problem other than I need to refactor a lot of my code. I used Sockets instead of SSLSockets previously and used available(), so I was hoping the transition would be easier.","body":"Blocking is theoretically not a problem other than I need to refactor a lot of my code. I used Sockets instead of SSLSockets previously and used available(), so I was hoping the transition would be easier."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1413077116,"post_id":26320624,"comment_id":41307069,"body_markdown":"Have you tried wrapping your streams using `BufferedInputStream` and `BufferedOutputStream`?","body":"Have you tried wrapping your streams using <code>BufferedInputStream</code> and <code>BufferedOutputStream</code>?"},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1413077910,"post_id":26320624,"comment_id":41307198,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/62903/discussion-between-vince-emigh-and-aura). It&#39;s best to keep the comment section clean. I will post as an answer once the problem has been solved.","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/62903/discussion-between-vince-emigh-and-aura\">continue this discussion in chat</a>. It&#39;s best to keep the comment section clean. I will post as an answer once the problem has been solved."},{"owner":{"account_id":443957,"reputation":645,"user_id":835500,"accept_rate":88,"display_name":"xubia"},"score":0,"creation_date":1413310112,"post_id":26320624,"comment_id":41392029,"body_markdown":"BufferedInputStream is exhibiting the same behavior. I might be content to wrap the regular Socket and do encryption at the application level if there is no good answer.","body":"BufferedInputStream is exhibiting the same behavior. I might be content to wrap the regular Socket and do encryption at the application level if there is no good answer."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1413319222,"post_id":26320624,"comment_id":41396941,"body_markdown":"Please discuss this in the chat","body":"Please discuss this in the chat"}],"answers":[{"tags":[],"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1413413776,"creation_date":1413413776,"answer_id":26393498,"question_id":26320624,"body_markdown":"There is no way to do this. Your streams cannot tell you the length of the data without first decrypting it. `available()` will *always* return 0 for `SSLSocket`.\r\n\r\nAs mentioned in [this chat](https://chat.stackoverflow.com/rooms/62903/discussion-between-vince-emigh-and-aura), the reason you wanted to check for data is to prevent `read()` from blocking when called, so you can handle multiple connections on a single thread, instead of a *Thread per Client* system.\r\n\r\nInstead, use a non-blocking alternative. `java.nio` currently doesn&#39;t have it&#39;s own SSL implementation of `SocketChannel`, but you can find one online (like [here](http://www.rmiproxy.com/ScalableSSL/javadoc/scalablessl/SSLSocketChannel.html)) or create your own.\r\n\r\nWith this system, you can register a `Selector` to every channel, and manage them all using the &quot;selector thread&quot;. I wrote an example of how to use a selector [here](https://stackoverflow.com/questions/24616774/non-socket-based-java-server/24617983#24617983) (scroll down to **Using a Selector**).\r\n\r\nWith non-blocking IO, you to handle multiple clients per thread, allowing you to scale up. This method of managing channels was brought up due to the [C10k Problem](http://en.m.wikipedia.org/wiki/C10k_problem)","title":"How to tell if Java SSLSocket has data available?","body":"<p>There is no way to do this. Your streams cannot tell you the length of the data without first decrypting it. <code>available()</code> will <em>always</em> return 0 for <code>SSLSocket</code>.</p>\n<p>As mentioned in <a href=\"https://chat.stackoverflow.com/rooms/62903/discussion-between-vince-emigh-and-aura\">this chat</a>, the reason you wanted to check for data is to prevent <code>read()</code> from blocking when called, so you can handle multiple connections on a single thread, instead of a <em>Thread per Client</em> system.</p>\n<p>Instead, use a non-blocking alternative. <code>java.nio</code> currently doesn't have it's own SSL implementation of <code>SocketChannel</code>, but you can find one online (like <a href=\"http://www.rmiproxy.com/ScalableSSL/javadoc/scalablessl/SSLSocketChannel.html\" rel=\"nofollow noreferrer\">here</a>) or create your own.</p>\n<p>With this system, you can register a <code>Selector</code> to every channel, and manage them all using the &quot;selector thread&quot;. I wrote an example of how to use a selector <a href=\"https://stackoverflow.com/questions/24616774/non-socket-based-java-server/24617983#24617983\">here</a> (scroll down to <strong>Using a Selector</strong>).</p>\n<p>With non-blocking IO, you to handle multiple clients per thread, allowing you to scale up. This method of managing channels was brought up due to the <a href=\"http://en.m.wikipedia.org/wiki/C10k_problem\" rel=\"nofollow noreferrer\">C10k Problem</a></p>\n"},{"tags":[],"owner":{"account_id":4444909,"reputation":941,"user_id":3618509,"accept_rate":78,"display_name":"JavaProphet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1427877015,"creation_date":1427877015,"answer_id":29386157,"question_id":26320624,"body_markdown":"I assume you fixed your problem, but for those like me, I found a much easier solution. If you perform a read, then the available() method fills up for what was decrypted. How to use and abuse this? Read a single byte with a very low SoTimeout on your socket, if you catch a SocketTimeoutException, then the connection is empty, if not, prepend that byte you read to your future interpretation of the message. Until in.available() == 0 again, just roll with it.","title":"How to tell if Java SSLSocket has data available?","body":"<p>I assume you fixed your problem, but for those like me, I found a much easier solution. If you perform a read, then the available() method fills up for what was decrypted. How to use and abuse this? Read a single byte with a very low SoTimeout on your socket, if you catch a SocketTimeoutException, then the connection is empty, if not, prepend that byte you read to your future interpretation of the message. Until in.available() == 0 again, just roll with it.</p>\n"},{"tags":[],"owner":{"account_id":25019406,"reputation":1,"user_id":18878225,"display_name":"Anupam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650451969,"creation_date":1650451969,"answer_id":71938397,"question_id":26320624,"body_markdown":"You can use available() with inputStream of underlying Socket. This works in my case.\r\n\r\n","title":"How to tell if Java SSLSocket has data available?","body":"<p>You can use available() with inputStream of underlying Socket. This works in my case.</p>\n"}],"owner":{"account_id":443957,"reputation":645,"user_id":835500,"accept_rate":88,"display_name":"xubia"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2569,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":26393498,"answer_count":3,"score":2,"last_activity_date":1650451969,"creation_date":1413073573,"question_id":26320624,"body_markdown":"When I was using regular Sockets, I could call getInputStream() and use available() to see how many bytes were available. I switched to SSLSocket, but now available() always returns 0 for some reason. When I read instead, I can still get data. How can I tell if there is data available in an SSLSocket so that I can service it without blocking if there is no data?\r\n\r\nNotes:\r\n\r\n - I cannot call read() on the InputStream or the thread will block. I would like non-blocking in my implementation.\r\n - available() returns 0 even though there is data for SSLSocket&#39;s InputStream.","title":"How to tell if Java SSLSocket has data available?","body":"<p>When I was using regular Sockets, I could call getInputStream() and use available() to see how many bytes were available. I switched to SSLSocket, but now available() always returns 0 for some reason. When I read instead, I can still get data. How can I tell if there is data available in an SSLSocket so that I can service it without blocking if there is no data?</p>\n\n<p>Notes:</p>\n\n<ul>\n<li>I cannot call read() on the InputStream or the thread will block. I would like non-blocking in my implementation.</li>\n<li>available() returns 0 even though there is data for SSLSocket's InputStream.</li>\n</ul>\n"},{"tags":["java","jsp","servlets"],"comments":[{"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"score":0,"creation_date":1472452327,"post_id":39199681,"comment_id":65739555,"body_markdown":"seems you are calling response in loginValidate and then forwarding the response. it is forbidden","body":"seems you are calling response in loginValidate and then forwarding the response. it is forbidden"},{"owner":{"account_id":4522916,"reputation":1224,"user_id":3675565,"display_name":"AntJavaDev"},"score":0,"creation_date":1472452457,"post_id":39199681,"comment_id":65739614,"body_markdown":"you cant read the request or write to the response more than one time. You ll have to wrap them , using this : [response wrapper](http://stackoverflow.com/questions/14736328/looking-for-an-example-for-inserting-content-into-the-response-using-a-servlet-f) or this [request wrapper](http://stackoverflow.com/questions/4449096/how-to-read-inputstream-multiple-times)","body":"you cant read the request or write to the response more than one time. You ll have to wrap them , using this : <a href=\"http://stackoverflow.com/questions/14736328/looking-for-an-example-for-inserting-content-into-the-response-using-a-servlet-f\">response wrapper</a> or this <a href=\"http://stackoverflow.com/questions/4449096/how-to-read-inputstream-multiple-times\">request wrapper</a>"},{"owner":{"account_id":8358777,"reputation":1554,"user_id":6277983,"accept_rate":67,"display_name":"Suraj Gautam"},"score":0,"creation_date":1472453126,"post_id":39199681,"comment_id":65739900,"body_markdown":"@AntJavaDev where I have used it more than one time?","body":"@AntJavaDev where I have used it more than one time?"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1472454909,"post_id":39199681,"comment_id":65740717,"body_markdown":"You may try @WebServlet(&quot;/validate/*&quot;).","body":"You may try @WebServlet(&quot;/validate/*&quot;)."},{"owner":{"account_id":4522916,"reputation":1224,"user_id":3675565,"display_name":"AntJavaDev"},"score":0,"creation_date":1472455868,"post_id":39199681,"comment_id":65741183,"body_markdown":"it looks like the `DBimage_jsp` is causing the issue , otherwise you have mixed up the annotation configuration with a web.xml , do you have also a web.xml configuration ?","body":"it looks like the <code>DBimage_jsp</code> is causing the issue , otherwise you have mixed up the annotation configuration with a web.xml , do you have also a web.xml configuration ?"},{"owner":{"account_id":4522916,"reputation":1224,"user_id":3675565,"display_name":"AntJavaDev"},"score":0,"creation_date":1472456584,"post_id":39199681,"comment_id":65741563,"body_markdown":"and also when you re saying &#39;Everything is fine except I got this exception  &#39;, what do you mean ? because i dont think that your request passed the custom validation `Servlet`","body":"and also when you re saying &#39;Everything is fine except I got this exception  &#39;, what do you mean ? because i dont think that your request passed the custom validation <code>Servlet</code>"}],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472454507,"creation_date":1472454507,"answer_id":39200378,"question_id":39199681,"body_markdown":"Sorry, this question is unanswerable based on the stacktrace you give: The servlet does not even appear in the stacktrace, so either this servlet can&#39;t be the problem or you&#39;re omitting the &quot;root cause&quot; stacktrace.\r\n\r\nFurther, there are *a lot* more problems with your code and you should really go through a basic tutorial for servlet development. These can&#39;t be corrected in a single answer on stackoverflow\r\n\r\n* The way you use `bean` as a member of your servlet will result in disaster (race condition). You must not have member variables (state) in a servlet.\r\n* You&#39;re taking care of authentication yourself - you clearly shouldn&#39;t do this, it&#39;s a well solved problem\r\n* On top, you&#39;re obviously storing clear text passwords in the database and you&#39;re always enumerating the whole user database instead of just fetching a single value (imagine to have many users...)\r\n* From this code I&#39;m assuming that one can also skip the validation by just going to `/afterlogin.jsp` or `/admin.jsp` manually. \r\n* The parameters to your methods are arguable as well and create a hard to maintain implementation. \r\n\r\nThis is an incomplete list. ","title":"Why I am getting java.lang.IllegalStateException when the validate servlet is called?","body":"<p>Sorry, this question is unanswerable based on the stacktrace you give: The servlet does not even appear in the stacktrace, so either this servlet can't be the problem or you're omitting the \"root cause\" stacktrace.</p>\n\n<p>Further, there are <em>a lot</em> more problems with your code and you should really go through a basic tutorial for servlet development. These can't be corrected in a single answer on stackoverflow</p>\n\n<ul>\n<li>The way you use <code>bean</code> as a member of your servlet will result in disaster (race condition). You must not have member variables (state) in a servlet.</li>\n<li>You're taking care of authentication yourself - you clearly shouldn't do this, it's a well solved problem</li>\n<li>On top, you're obviously storing clear text passwords in the database and you're always enumerating the whole user database instead of just fetching a single value (imagine to have many users...)</li>\n<li>From this code I'm assuming that one can also skip the validation by just going to <code>/afterlogin.jsp</code> or <code>/admin.jsp</code> manually. </li>\n<li>The parameters to your methods are arguable as well and create a hard to maintain implementation. </li>\n</ul>\n\n<p>This is an incomplete list. </p>\n"}],"owner":{"account_id":8358777,"reputation":1554,"user_id":6277983,"accept_rate":67,"display_name":"Suraj Gautam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":993,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1650451956,"creation_date":1472451639,"question_id":39199681,"body_markdown":"I have a login web application.\r\nWhenever I login, the request must be validated by validate Servlet and it must be forwarded to admin.jsp\r\nEverything is fine except I got this exception java.lang.IllegalStateException.\r\n\r\nCode:\r\n\r\n   \r\n    package com.suraj.technepbankapplication;\r\n\r\n    import java.io.IOException;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n\r\n    /**\r\n     *\r\n     * @author Suraj Gautam\r\n     */\r\n    @WebServlet(name = &quot;validate&quot;, urlPatterns = {&quot;/validate&quot;})\r\n    public class validate extends HttpServlet {\r\n\r\n    DataBean bean = new DataBean();\r\n    int count = 0;\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        \r\n    }\r\n\r\n    \r\n    \r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        //the form inputted is sent to the Databean Class\r\n\r\n        settingValue(req.getParameter(&quot;userid&quot;), req.getParameter(&quot;password&quot;));\r\n        try {\r\n            if (!isValid(req, resp)) {\r\n                \r\n               req.getRequestDispatcher(&quot;/index.jsp&quot;).forward(req, resp);\r\n            } else if (bean.getUserId().equals(&quot;admin&quot;)) {\r\n                \r\n              req.getRequestDispatcher(&quot;/admin.jsp&quot;).forward(req, resp);\r\n            } else {\r\n                \r\n                req.getRequestDispatcher(&quot;/afterlogin.jsp&quot;).forward(req, resp);\r\n            }\r\n        } catch (SQLException | ClassNotFoundException ex) {\r\n            System.out.println(ex.getMessage());\r\n        }\r\n\r\n    }\r\n\r\n    public boolean isValid(HttpServletRequest req, HttpServletResponse resp) throws SQLException, ServletException, IOException, ClassNotFoundException {\r\n        String userId = req.getParameter(&quot;userid&quot;);\r\n        String password = req.getParameter(&quot;password&quot;);\r\n        if (userId.length() &lt;4 || password.length() &lt; 4) {\r\n            return false;\r\n        } else {\r\n            return loginValidate(req, resp);\r\n        }\r\n    }\r\n\r\n    //setting DataBean class Value\r\n    public void settingValue(String userid, String password) {\r\n\r\n        bean.setUserId(userid);\r\n        bean.setPassword(password);\r\n    }\r\n\r\n    public boolean loginValidate(HttpServletRequest req, HttpServletResponse resp) throws SQLException, ServletException, IOException, ClassNotFoundException {\r\n        String url = &quot;jdbc:mysql://localhost/technep&quot;;\r\n        String user = &quot;root&quot;;\r\n        String password = &quot;&quot;;\r\n        String query = &quot;SELECT id, password FROM technep_login&quot;;\r\n\r\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        Connection conn = DriverManager.getConnection(url, user, password);\r\n\r\n        PreparedStatement preparedStatement = conn.prepareStatement(query);\r\n\r\n        ResultSet resultSet = preparedStatement.executeQuery();\r\n        while (resultSet.next()) {\r\n            //working till here\r\n            if (resultSet.getString(&quot;id&quot;).trim().equals(bean.getUserId()) &amp;&amp; resultSet.getString(&quot;password&quot;).trim()\r\n                    .equals(bean.getPassword())) {\r\n                count = 1;\r\n                break;\r\n\r\n            }\r\n\r\n        }\r\n        if (count == 1) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n\r\n    }\r\n    }\r\n\r\n\r\nThe output:\r\n\r\n\r\n    Warning:   StandardWrapperValve[jsp]: Servlet.service() for servlet jsp    threw exception\r\n    java.lang.IllegalStateException: getOutputStream() has already been called for this response\r\n\tat org.apache.catalina.connector.Response.getWriter(Response.java:777)\r\n\tat org.apache.catalina.connector.ResponseFacade.getWriter(ResponseFacade.java:224)\r\n\tat org.apache.jasper.runtime.JspWriterImpl.initOut(JspWriterImpl.java:195)\r\n\tat org.apache.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:188)\r\n\tat org.apache.jasper.runtime.PageContextImpl.release(PageContextImpl.java:240)\r\n\tat org.apache.jasper.runtime.JspFactoryImpl.internalReleasePageContext(JspFactoryImpl.java:185)\r\n\tat org.apache.jasper.runtime.JspFactoryImpl.releasePageContext(JspFactoryImpl.java:137)\r\n\tat org.apache.jsp.DBimage_jsp._jspService(DBimage_jsp.java:93)\r\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:111)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:411)\r\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:473)\r\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:377)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n\tat org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1682)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:318)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:160)\r\n\tat org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:734)\r\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:673)\r\n\tat com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:174)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:416)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:283)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:206)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:180)\r\n\tat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)\r\n\tat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:283)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:200)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:132)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:111)\r\n\tat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\r\n\tat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:536)\r\n\tat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:591)\r\n\tat       org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPoo    l.java:571)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n\r\n","title":"Why I am getting java.lang.IllegalStateException when the validate servlet is called?","body":"<p>I have a login web application.\nWhenever I login, the request must be validated by validate Servlet and it must be forwarded to admin.jsp\nEverything is fine except I got this exception java.lang.IllegalStateException.</p>\n<p>Code:</p>\n<pre><code>package com.suraj.technepbankapplication;\n\nimport java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n/**\n *\n * @author Suraj Gautam\n */\n@WebServlet(name = &quot;validate&quot;, urlPatterns = {&quot;/validate&quot;})\npublic class validate extends HttpServlet {\n\nDataBean bean = new DataBean();\nint count = 0;\n\n@Override\nprotected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n    \n}\n\n\n\n\n@Override\nprotected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n    //the form inputted is sent to the Databean Class\n\n    settingValue(req.getParameter(&quot;userid&quot;), req.getParameter(&quot;password&quot;));\n    try {\n        if (!isValid(req, resp)) {\n            \n           req.getRequestDispatcher(&quot;/index.jsp&quot;).forward(req, resp);\n        } else if (bean.getUserId().equals(&quot;admin&quot;)) {\n            \n          req.getRequestDispatcher(&quot;/admin.jsp&quot;).forward(req, resp);\n        } else {\n            \n            req.getRequestDispatcher(&quot;/afterlogin.jsp&quot;).forward(req, resp);\n        }\n    } catch (SQLException | ClassNotFoundException ex) {\n        System.out.println(ex.getMessage());\n    }\n\n}\n\npublic boolean isValid(HttpServletRequest req, HttpServletResponse resp) throws SQLException, ServletException, IOException, ClassNotFoundException {\n    String userId = req.getParameter(&quot;userid&quot;);\n    String password = req.getParameter(&quot;password&quot;);\n    if (userId.length() &lt;4 || password.length() &lt; 4) {\n        return false;\n    } else {\n        return loginValidate(req, resp);\n    }\n}\n\n//setting DataBean class Value\npublic void settingValue(String userid, String password) {\n\n    bean.setUserId(userid);\n    bean.setPassword(password);\n}\n\npublic boolean loginValidate(HttpServletRequest req, HttpServletResponse resp) throws SQLException, ServletException, IOException, ClassNotFoundException {\n    String url = &quot;jdbc:mysql://localhost/technep&quot;;\n    String user = &quot;root&quot;;\n    String password = &quot;&quot;;\n    String query = &quot;SELECT id, password FROM technep_login&quot;;\n\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n    Connection conn = DriverManager.getConnection(url, user, password);\n\n    PreparedStatement preparedStatement = conn.prepareStatement(query);\n\n    ResultSet resultSet = preparedStatement.executeQuery();\n    while (resultSet.next()) {\n        //working till here\n        if (resultSet.getString(&quot;id&quot;).trim().equals(bean.getUserId()) &amp;&amp; resultSet.getString(&quot;password&quot;).trim()\n                .equals(bean.getPassword())) {\n            count = 1;\n            break;\n\n        }\n\n    }\n    if (count == 1) {\n        return true;\n    } else {\n        return false;\n    }\n\n}\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>Warning:   StandardWrapperValve[jsp]: Servlet.service() for servlet jsp    threw exception\njava.lang.IllegalStateException: getOutputStream() has already been called for this response\nat org.apache.catalina.connector.Response.getWriter(Response.java:777)\nat org.apache.catalina.connector.ResponseFacade.getWriter(ResponseFacade.java:224)\nat org.apache.jasper.runtime.JspWriterImpl.initOut(JspWriterImpl.java:195)\nat org.apache.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:188)\nat org.apache.jasper.runtime.PageContextImpl.release(PageContextImpl.java:240)\nat org.apache.jasper.runtime.JspFactoryImpl.internalReleasePageContext(JspFactoryImpl.java:185)\nat org.apache.jasper.runtime.JspFactoryImpl.releasePageContext(JspFactoryImpl.java:137)\nat org.apache.jsp.DBimage_jsp._jspService(DBimage_jsp.java:93)\nat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:111)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\nat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:411)\nat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:473)\nat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:377)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\nat org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1682)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:318)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:160)\nat org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:734)\nat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:673)\nat com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:174)\nat org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:416)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:283)\nat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)\nat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)\nat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:206)\nat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:180)\nat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)\nat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:283)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:200)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:132)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:111)\nat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\nat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:536)\nat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\nat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:591)\nat       org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPoo    l.java:571)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n"},{"tags":["java","android","oncreate","activity-finish"],"comments":[{"owner":{"account_id":498784,"reputation":9541,"user_id":2448294,"accept_rate":73,"display_name":"Ben Kane"},"score":2,"creation_date":1522348265,"post_id":49562852,"comment_id":86133788,"body_markdown":"Why don&#39;t you try it...?","body":"Why don&#39;t you try it...?"},{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1522348270,"post_id":49562852,"comment_id":86133793,"body_markdown":"Did you try? What happened?","body":"Did you try? What happened?"},{"owner":{"account_id":11230352,"reputation":189,"user_id":8283454,"display_name":"Eduardo Brito"},"score":1,"creation_date":1522348489,"post_id":49562852,"comment_id":86133904,"body_markdown":"@Ben Kane \nDon&#39;t have a computer in hands to test it, and won&#39;t have it soon, but had the doubt so I asked","body":"@Ben Kane  Don&#39;t have a computer in hands to test it, and won&#39;t have it soon, but had the doubt so I asked"}],"answers":[{"tags":[],"owner":{"account_id":2024739,"reputation":11716,"user_id":3294396,"accept_rate":98,"display_name":"Benjamin RD"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1522348381,"creation_date":1522348381,"answer_id":49562899,"question_id":49562852,"body_markdown":"I just tested and debugged it, the `Activity` starts but is immediately closes once the event is generated. ","title":"What happens when we call finish() in onCreate() method?","body":"<p>I just tested and debugged it, the <code>Activity</code> starts but is immediately closes once the event is generated. </p>\n"},{"tags":[],"owner":{"account_id":8088668,"reputation":41,"user_id":6095353,"display_name":"Noah"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1522349506,"creation_date":1522349506,"answer_id":49563171,"question_id":49562852,"body_markdown":"As MrMins mention it will rapidly close. The lifecycle will skip over some important steps, therefore causing potential issues. \r\n\r\nBut to answer you question it will run only momentarily.\r\n\r\nHere is the android documentation of the lifecycle: https://developer.android.com/guide/components/activities/activity-lifecycle.html  ","title":"What happens when we call finish() in onCreate() method?","body":"<p>As MrMins mention it will rapidly close. The lifecycle will skip over some important steps, therefore causing potential issues. </p>\n\n<p>But to answer you question it will run only momentarily.</p>\n\n<p>Here is the android documentation of the lifecycle: <a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle.html\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/activities/activity-lifecycle.html</a>  </p>\n"},{"tags":[],"owner":{"account_id":2775886,"reputation":8861,"user_id":2401535,"accept_rate":47,"display_name":"Marian Paździoch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650451822,"creation_date":1650451822,"answer_id":71938372,"question_id":49562852,"body_markdown":"As [per official documentation][1]:\r\n\r\n&gt; You can call finish() from within this function, in which case onDestroy() will be immediately called after onCreate(Bundle) without any of the rest of the activity lifecycle (onStart(), onResume(), onPause(), etc) executing.\r\n\r\n[Since][2]\r\n\r\n&gt; The visible lifetime of an activity happens between a call to onStart() until a corresponding call to onStop().\r\n\r\nso the &quot;visible lifetime&quot; is not reached for that case.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/Activity#onCreate(android.os.Bundle)\r\n  [2]: https://developer.android.com/reference/android/app/Activity#activity-lifecycle","title":"What happens when we call finish() in onCreate() method?","body":"<p>As <a href=\"https://developer.android.com/reference/android/app/Activity#onCreate(android.os.Bundle)\" rel=\"nofollow noreferrer\">per official documentation</a>:</p>\n<blockquote>\n<p>You can call finish() from within this function, in which case onDestroy() will be immediately called after onCreate(Bundle) without any of the rest of the activity lifecycle (onStart(), onResume(), onPause(), etc) executing.</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/reference/android/app/Activity#activity-lifecycle\" rel=\"nofollow noreferrer\">Since</a></p>\n<blockquote>\n<p>The visible lifetime of an activity happens between a call to onStart() until a corresponding call to onStop().</p>\n</blockquote>\n<p>so the &quot;visible lifetime&quot; is not reached for that case.</p>\n"}],"owner":{"account_id":11230352,"reputation":189,"user_id":8283454,"display_name":"Eduardo Brito"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5923,"favorite_count":0,"down_vote_count":8,"up_vote_count":9,"accepted_answer_id":49562899,"answer_count":3,"score":1,"last_activity_date":1650451822,"creation_date":1522348195,"question_id":49562852,"body_markdown":"What happens when we call the `finish() `method for the activity inside `onCreate()`?\r\nWill the app get time to display the `Activity`, but then rapidly close, or won&#39;t it show anything? \r\nThis is just a doubt that I had before reading about some malware services for android that allegedly use this idea... Does it effectively work?","title":"What happens when we call finish() in onCreate() method?","body":"<p>What happens when we call the <code>finish()</code>method for the activity inside <code>onCreate()</code>?\nWill the app get time to display the <code>Activity</code>, but then rapidly close, or won't it show anything? \nThis is just a doubt that I had before reading about some malware services for android that allegedly use this idea... Does it effectively work?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8576,"page":1416,"page_size":100}
