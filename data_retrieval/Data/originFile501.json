{"items":[{"tags":["java","junit5","testcase","test-suite","sts"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1681450367,"post_id":76010955,"comment_id":134061158,"body_markdown":"What test runner are you using? How does your Gradle/Maven file look like?","body":"What test runner are you using? How does your Gradle/Maven file look like?"},{"owner":{"account_id":4716379,"reputation":1255,"user_id":3901138,"accept_rate":41,"display_name":"Park JongBum"},"score":0,"creation_date":1681471375,"post_id":76010955,"comment_id":134065538,"body_markdown":"@johanneslink, I&#39;m using STS4 graphical test runner. Let me edit my question with my pom.xml.","body":"@johanneslink, I&#39;m using STS4 graphical test runner. Let me edit my question with my pom.xml."},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1681641808,"post_id":76010955,"comment_id":134086348,"body_markdown":"Next step: Create a minimum and reproducible example: \n- Remove everything from both pom and test class that&#39;s not necessary for reproducing the behaviour. Eg no test method bodies, fewer test methods, no injected members etc\n- Add all the missing code necessary to reproduce the behaviour. Eg MovieRepository class, Spring application class, bean configuration etc.","body":"Next step: Create a minimum and reproducible example:  - Remove everything from both pom and test class that&#39;s not necessary for reproducing the behaviour. Eg no test method bodies, fewer test methods, no injected members etc - Add all the missing code necessary to reproduce the behaviour. Eg MovieRepository class, Spring application class, bean configuration etc."}],"owner":{"account_id":4716379,"reputation":1255,"user_id":3901138,"accept_rate":41,"display_name":"Park JongBum"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681471568,"creation_date":1681435835,"question_id":76010955,"body_markdown":"On my common sense, below figure should display 6/6 instead of 1/6 and green arrow on the first test case. What should I do next?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    package space.bumtiger.test.reposi;\r\n    \r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    import static org.junit.jupiter.api.Assertions.assertNotEquals;\r\n    import static org.junit.jupiter.api.Assertions.assertNotNull;\r\n    import static org.junit.jupiter.api.Assertions.assertTrue;\r\n    \r\n    import java.time.LocalDate;\r\n    import java.time.Month;\r\n    import java.util.Collection;\r\n    import java.util.stream.StreamSupport;\r\n    \r\n    import org.junit.jupiter.api.DisplayName;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.data.jdbc.DataJdbcTest;\r\n    import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\n    \r\n    import space.bumtiger.test.model.Movie;\r\n    \r\n    @DataJdbcTest\r\n    @DisplayName(&quot;H2 database movie table operations&quot;)\r\n    public class MovieRepositoryTest {\r\n    \r\n    \t@Autowired\r\n    \tprivate MovieRepository repository;\r\n    \r\n    \t@Test\r\n    \t@DisplayName(&quot;movie saved OK&quot;)\r\n    \tvoid save() {\r\n    \t\t// Arrange\r\n    \t\tvar movie = new Movie();\r\n    \t\tmovie.setName(&quot;WWII&quot;);\r\n    \t\tmovie.setGenera(&quot;War&quot;);\r\n    \t\tmovie.setReleaseDate(LocalDate.of(2009, Month.NOVEMBER, 10));\r\n    \r\n    \t\t// Act\r\n    \t\tvar savedMovie = repository.save(movie);\r\n    \r\n    \t\t// Assert\r\n    \t\tassertNotNull(savedMovie);\r\n    \t\tassertThat(savedMovie.getId()).isNotEqualTo(null);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \t@DisplayName(&quot;movie list read OK&quot;)\r\n    \tvoid fetchAll() {\r\n    \t\t// Arrange\r\n    \t\tvar movie = new Movie();\r\n    \t\tmovie.setName(&quot;WWII&quot;);\r\n    \t\tmovie.setGenera(&quot;War&quot;);\r\n    \t\tmovie.setReleaseDate(LocalDate.of(2009, Month.NOVEMBER, 10));\r\n    \t\trepository.save(movie);\r\n    \r\n    \t\tmovie = new Movie();\r\n    \t\tmovie.setName(&quot;WWII&quot;);\r\n    \t\tmovie.setGenera(&quot;War&quot;);\r\n    \t\tmovie.setReleaseDate(LocalDate.of(2009, Month.NOVEMBER, 10));\r\n    \t\trepository.save(movie);\r\n    \r\n    \t\t// act\r\n    \t\tIterable&lt;Movie&gt; movies = repository.findAll();\r\n    \r\n    \t\t// Assert 1\r\n    \t\tassertNotNull(movies);\r\n    \r\n    \t\tvar iter = movies.iterator();\r\n    \t\tint count = 0;\r\n    \t\twhile (iter.hasNext()) {\r\n    \t\t\titer.next();\r\n    \t\t\tcount++;\r\n    \t\t}\r\n    \r\n    \t\t// Assert 2\r\n    \t\tassertThat(count).isEqualTo(1);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \t@DisplayName(&quot;genera movie read OK&quot;)\r\n    \tvoid findRomanceMovie() {\r\n    \t\t// arrange\r\n    \t\tvar movie = new Movie();\r\n    \t\tmovie.setName(&quot;WWII&quot;);\r\n    \t\tString genera = &quot;역사&quot;;\r\n    \t\tmovie.setGenera(genera);\r\n    \t\tvar relDate = LocalDate.of(2009, Month.NOVEMBER, 10);\r\n    \t\tmovie.setReleaseDate(relDate);\r\n    \t\trepository.save(movie);\r\n    \t\t\r\n    \t\tmovie = new Movie();\r\n    \t\tmovie.setName(&quot;Romio and Julliet&quot;);\r\n    \t\tmovie.setGenera(&quot;Romance&quot;);\r\n    \t\tmovie.setReleaseDate(relDate);\r\n    \t\trepository.save(movie); \r\n    \t\t\r\n    \t\t// act\r\n    \t\tvar romances = repository.findByGenera(&quot;Romance&quot;);\r\n    \t\t\r\n    \t\t// assert\r\n    \t\tassertNotNull(romances);\r\n    \t\tassertThat(romances.size()).isEqualTo(1);\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \t@DisplayName(&quot;movie deleted OK&quot;)\r\n    \tvoid deleteMovie() {\r\n    \t\t// arrange\r\n    \t\tvar movie = new Movie();\r\n    \t\tmovie.setName(&quot;WWII&quot;);\r\n    \t\tString genera = &quot;War&quot;;\r\n    \t\tmovie.setGenera(genera);\r\n    \t\tvar relDate = LocalDate.of(2009, Month.NOVEMBER, 10);\r\n    \t\tmovie.setReleaseDate(relDate);\r\n    \t\tMovie firstMovie = repository.save(movie);\r\n    \t\t\r\n    \t\tmovie = new Movie();\r\n    \t\tmovie.setName(&quot;WWII&quot;);\r\n    \t\tmovie.setGenera(genera);\r\n    \t\tmovie.setReleaseDate(relDate);\r\n    \t\trepository.save(movie); // save movie again\r\n    \t\t\r\n    \t\t// act\r\n    \t\trepository.delete(firstMovie);\r\n    \t\t\r\n    \t\t// assert\r\n    \t\tvar optionalMovie = repository.findById(firstMovie.getId());\r\n    \t\tassertTrue(optionalMovie.isEmpty());\r\n    \t\t\r\n    \t\tint count = 0;\r\n    \t\tvar movies = repository.findAll();\r\n    \t\tvar iter = movies.iterator();\r\n    \t\twhile (iter.hasNext()) {\r\n    \t\t\tcount++;\r\n    \t\t}\r\n    \t\tassertThat(count).isEqualTo(10);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \t@DisplayName(&quot;movie genera updated OK&quot;)\r\n    \tvoid updateMovie() {\r\n    \t\t// arrange\r\n    \t\tvar movie = new Movie();\r\n    \t\tmovie.setName(&quot;WWII&quot;);\r\n    \t\tString genera = &quot;War&quot;;\r\n    \t\tmovie.setGenera(genera);\r\n    \t\tvar relDate = LocalDate.of(2009, Month.NOVEMBER, 10);\r\n    \t\tmovie.setReleaseDate(relDate);\r\n    \t\trepository.save(movie);\r\n    \t\tvar foundMovie = repository.findById(movie.getId());\r\n    \t\t\r\n    \t\t// act\r\n    \t\tString newGenere = &quot;역사&quot;;\r\n    \t\tfoundMovie.ifPresent(m -&gt; m.setGenera(newGenere));\r\n    \t\trepository.save(foundMovie.get());\r\n    \t\tfoundMovie = repository.findById(movie.getId());\r\n    \t\t\r\n    \t\t// assert\r\n    \t\tassertNotNull(foundMovie);\r\n    \t\tassertThat(foundMovie.get().getGenera()).isEqualTo(newGenere);\r\n    \t\tassertNotEquals(movie.getGenera(), foundMovie.get().getGenera());\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \t@DisplayName(&quot;movie found by ID OK&quot;)\r\n    \tvoid findMovieById() {\r\n    \t\t// Arrange\r\n    \t\tvar movie = new Movie();\r\n    \t\tmovie.setName(&quot;WWII&quot;);\r\n    \t\tString genera = &quot;War&quot;;\r\n    \t\tmovie.setGenera(genera);\r\n    \t\tvar relDate = LocalDate.of(2009, Month.NOVEMBER, 10);\r\n    \t\tmovie.setReleaseDate(relDate);\r\n    \t\tvar savedMovie = repository.save(movie);\r\n    \t\t\r\n    \t\t// Act\r\n    \t\tvar foundMovie = repository.findById(savedMovie.getId());\r\n    \t\t\r\n    \t\t// Assert\r\n    \t\tassertNotNull(foundMovie);\r\n    \t\tMovie fMovie = foundMovie.isPresent() ? foundMovie.get() : null;\r\n    \t\tassertThat(fMovie.getGenera()).isEqualTo(genera);\r\n    \t\tassertThat(fMovie.getReleaseDate()).isAfter(relDate.minusDays(1L));\r\n    \t}\r\n    \r\n    }\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;space.bumtiger.test&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-jdbc-junit&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;spring-jdbc-junit&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for thymeleaf layout example&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/jzz2K.png","title":"How to run JUnit 5 test cases in a class","body":"<p>On my common sense, below figure should display 6/6 instead of 1/6 and green arrow on the first test case. What should I do next?</p>\n<p><a href=\"https://i.stack.imgur.com/jzz2K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jzz2K.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>package space.bumtiger.test.reposi;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.junit.jupiter.api.Assertions.assertNotEquals;\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\nimport java.time.LocalDate;\nimport java.time.Month;\nimport java.util.Collection;\nimport java.util.stream.StreamSupport;\n\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.data.jdbc.DataJdbcTest;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\n\nimport space.bumtiger.test.model.Movie;\n\n@DataJdbcTest\n@DisplayName(&quot;H2 database movie table operations&quot;)\npublic class MovieRepositoryTest {\n\n    @Autowired\n    private MovieRepository repository;\n\n    @Test\n    @DisplayName(&quot;movie saved OK&quot;)\n    void save() {\n        // Arrange\n        var movie = new Movie();\n        movie.setName(&quot;WWII&quot;);\n        movie.setGenera(&quot;War&quot;);\n        movie.setReleaseDate(LocalDate.of(2009, Month.NOVEMBER, 10));\n\n        // Act\n        var savedMovie = repository.save(movie);\n\n        // Assert\n        assertNotNull(savedMovie);\n        assertThat(savedMovie.getId()).isNotEqualTo(null);\n    }\n\n    @Test\n    @DisplayName(&quot;movie list read OK&quot;)\n    void fetchAll() {\n        // Arrange\n        var movie = new Movie();\n        movie.setName(&quot;WWII&quot;);\n        movie.setGenera(&quot;War&quot;);\n        movie.setReleaseDate(LocalDate.of(2009, Month.NOVEMBER, 10));\n        repository.save(movie);\n\n        movie = new Movie();\n        movie.setName(&quot;WWII&quot;);\n        movie.setGenera(&quot;War&quot;);\n        movie.setReleaseDate(LocalDate.of(2009, Month.NOVEMBER, 10));\n        repository.save(movie);\n\n        // act\n        Iterable&lt;Movie&gt; movies = repository.findAll();\n\n        // Assert 1\n        assertNotNull(movies);\n\n        var iter = movies.iterator();\n        int count = 0;\n        while (iter.hasNext()) {\n            iter.next();\n            count++;\n        }\n\n        // Assert 2\n        assertThat(count).isEqualTo(1);\n    }\n\n    @Test\n    @DisplayName(&quot;genera movie read OK&quot;)\n    void findRomanceMovie() {\n        // arrange\n        var movie = new Movie();\n        movie.setName(&quot;WWII&quot;);\n        String genera = &quot;역사&quot;;\n        movie.setGenera(genera);\n        var relDate = LocalDate.of(2009, Month.NOVEMBER, 10);\n        movie.setReleaseDate(relDate);\n        repository.save(movie);\n        \n        movie = new Movie();\n        movie.setName(&quot;Romio and Julliet&quot;);\n        movie.setGenera(&quot;Romance&quot;);\n        movie.setReleaseDate(relDate);\n        repository.save(movie); \n        \n        // act\n        var romances = repository.findByGenera(&quot;Romance&quot;);\n        \n        // assert\n        assertNotNull(romances);\n        assertThat(romances.size()).isEqualTo(1);\n    }\n    \n    @Test\n    @DisplayName(&quot;movie deleted OK&quot;)\n    void deleteMovie() {\n        // arrange\n        var movie = new Movie();\n        movie.setName(&quot;WWII&quot;);\n        String genera = &quot;War&quot;;\n        movie.setGenera(genera);\n        var relDate = LocalDate.of(2009, Month.NOVEMBER, 10);\n        movie.setReleaseDate(relDate);\n        Movie firstMovie = repository.save(movie);\n        \n        movie = new Movie();\n        movie.setName(&quot;WWII&quot;);\n        movie.setGenera(genera);\n        movie.setReleaseDate(relDate);\n        repository.save(movie); // save movie again\n        \n        // act\n        repository.delete(firstMovie);\n        \n        // assert\n        var optionalMovie = repository.findById(firstMovie.getId());\n        assertTrue(optionalMovie.isEmpty());\n        \n        int count = 0;\n        var movies = repository.findAll();\n        var iter = movies.iterator();\n        while (iter.hasNext()) {\n            count++;\n        }\n        assertThat(count).isEqualTo(10);\n    }\n\n    @Test\n    @DisplayName(&quot;movie genera updated OK&quot;)\n    void updateMovie() {\n        // arrange\n        var movie = new Movie();\n        movie.setName(&quot;WWII&quot;);\n        String genera = &quot;War&quot;;\n        movie.setGenera(genera);\n        var relDate = LocalDate.of(2009, Month.NOVEMBER, 10);\n        movie.setReleaseDate(relDate);\n        repository.save(movie);\n        var foundMovie = repository.findById(movie.getId());\n        \n        // act\n        String newGenere = &quot;역사&quot;;\n        foundMovie.ifPresent(m -&gt; m.setGenera(newGenere));\n        repository.save(foundMovie.get());\n        foundMovie = repository.findById(movie.getId());\n        \n        // assert\n        assertNotNull(foundMovie);\n        assertThat(foundMovie.get().getGenera()).isEqualTo(newGenere);\n        assertNotEquals(movie.getGenera(), foundMovie.get().getGenera());\n    }\n    \n    @Test\n    @DisplayName(&quot;movie found by ID OK&quot;)\n    void findMovieById() {\n        // Arrange\n        var movie = new Movie();\n        movie.setName(&quot;WWII&quot;);\n        String genera = &quot;War&quot;;\n        movie.setGenera(genera);\n        var relDate = LocalDate.of(2009, Month.NOVEMBER, 10);\n        movie.setReleaseDate(relDate);\n        var savedMovie = repository.save(movie);\n        \n        // Act\n        var foundMovie = repository.findById(savedMovie.getId());\n        \n        // Assert\n        assertNotNull(foundMovie);\n        Movie fMovie = foundMovie.isPresent() ? foundMovie.get() : null;\n        assertThat(fMovie.getGenera()).isEqualTo(genera);\n        assertThat(fMovie.getReleaseDate()).isAfter(relDate.minusDays(1L));\n    }\n\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;space.bumtiger.test&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-jdbc-junit&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-jdbc-junit&lt;/name&gt;\n    &lt;description&gt;Demo project for thymeleaf layout example&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","swing","netbeans","jlayeredpane"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1681441883,"post_id":76011324,"comment_id":134060355,"body_markdown":"Why? What is the information needed for? I suspect a possible xy-problem where the best solution is a completely different approach, to be hones.","body":"Why? What is the information needed for? I suspect a possible xy-problem where the best solution is a completely different approach, to be hones."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1681442314,"post_id":76011324,"comment_id":134060388,"body_markdown":"Sounds like something `CardLayout` might be able to solve","body":"Sounds like something <code>CardLayout</code> might be able to solve"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1681471332,"post_id":76011324,"comment_id":134065531,"body_markdown":"I agree with @MadProgrammer [comment](https://stackoverflow.com/questions/76011324/how-to-get-the-name-of-the-panel-your-jlayeredpane-is-on#comment134060388_76011324), i.e. _Sounds like something [CardLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html) might be able to solve_","body":"I agree with @MadProgrammer <a href=\"https://stackoverflow.com/questions/76011324/how-to-get-the-name-of-the-panel-your-jlayeredpane-is-on#comment134060388_76011324\">comment</a>, i.e. <i>Sounds like something <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">CardLayout</a> might be able to solve</i>"},{"owner":{"account_id":28130890,"reputation":11,"user_id":21495460,"display_name":"csofi"},"score":0,"creation_date":1681519764,"post_id":76011324,"comment_id":134074675,"body_markdown":"I am using cardLayout - I need this because I am reusing a class but through a different perspective - manager mode (allows access to 3 different types of accs), and staff mode (allows access to only 1 acc type (customer accounts)).","body":"I am using cardLayout - I need this because I am reusing a class but through a different perspective - manager mode (allows access to 3 different types of accs), and staff mode (allows access to only 1 acc type (customer accounts))."},{"owner":{"account_id":28130890,"reputation":11,"user_id":21495460,"display_name":"csofi"},"score":0,"creation_date":1681519849,"post_id":76011324,"comment_id":134074679,"body_markdown":"The button &quot;add&quot; allows me to add an account, however the button&#39;s panel is accessed through ALL of my panels (regardless of account type), including other types of accounts besides customer accs. When I press &quot;back&quot; from the btn &quot;add&quot;&#39;s panel, it automatically brings me back to the screen where you select the acc type (which should NOT be accessed through staff). Changing it to come back to customer tab would be strange as it means that from any tab regardless of acc type, you press back and it goes to customer.","body":"The button &quot;add&quot; allows me to add an account, however the button&#39;s panel is accessed through ALL of my panels (regardless of account type), including other types of accounts besides customer accs. When I press &quot;back&quot; from the btn &quot;add&quot;&#39;s panel, it automatically brings me back to the screen where you select the acc type (which should NOT be accessed through staff). Changing it to come back to customer tab would be strange as it means that from any tab regardless of acc type, you press back and it goes to customer."},{"owner":{"account_id":28130890,"reputation":11,"user_id":21495460,"display_name":"csofi"},"score":0,"creation_date":1681519893,"post_id":76011324,"comment_id":134074684,"body_markdown":"I hope this makes sense, if it does not please respond and I can add visuals","body":"I hope this makes sense, if it does not please respond and I can add visuals"}],"owner":{"account_id":28130890,"reputation":11,"user_id":21495460,"display_name":"csofi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681471473,"creation_date":1681441751,"question_id":76011324,"body_markdown":"Throughout my program, I use `JLayeredPane` a lot to layer panels. To traverse through these panels, I typically have code similar to this:\r\n```java\r\njLayeredPane.removeAll();\r\njLayeredPane.add(jPanel4);\r\njLayeredPane.revalidate();\r\njLayeredPane.repaint();\r\n```\r\nIn a different method, how am I able to see what panel I am on (or have added)? Would I only be able to do this with a variable indicating the panel or could I use `getLayer()` or something along those lines?\r\n\r\nI have tried `getLayer()`, however I don&#39;t really know how to quite use it as I would not be able to do something like `jLayeredPane.getLayer(jLayeredPane);`. So how do I properly see what panel I have added to my layered pane?\r\n","title":"How to get the name of the panel your JLayeredPane is on","body":"<p>Throughout my program, I use <code>JLayeredPane</code> a lot to layer panels. To traverse through these panels, I typically have code similar to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jLayeredPane.removeAll();\njLayeredPane.add(jPanel4);\njLayeredPane.revalidate();\njLayeredPane.repaint();\n</code></pre>\n<p>In a different method, how am I able to see what panel I am on (or have added)? Would I only be able to do this with a variable indicating the panel or could I use <code>getLayer()</code> or something along those lines?</p>\n<p>I have tried <code>getLayer()</code>, however I don't really know how to quite use it as I would not be able to do something like <code>jLayeredPane.getLayer(jLayeredPane);</code>. So how do I properly see what panel I have added to my layered pane?</p>\n"},{"tags":["java","string","encoding","utf-8","utf-16"],"comments":[{"owner":{"account_id":371823,"reputation":2742,"user_id":720569,"accept_rate":71,"display_name":"Rahul Borkar"},"score":0,"creation_date":1331717520,"post_id":9699071,"comment_id":12326066,"body_markdown":"http://stackoverflow.com/questions/4655250/difference-between-utf-8-and-utf-16, this might answer your question.","body":"<a href=\"http://stackoverflow.com/questions/4655250/difference-between-utf-8-and-utf-16\" title=\"difference between utf 8 and utf 16\">stackoverflow.com/questions/4655250/&hellip;</a>, this might answer your question."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1331717775,"post_id":9699071,"comment_id":12326161,"body_markdown":"What Java uses and what the JVM uses in-memory doesn&#39;t have to be the same. See my answer.","body":"What Java uses and what the JVM uses in-memory doesn&#39;t have to be the same. See my answer."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1331719275,"post_id":9699071,"comment_id":12326752,"body_markdown":"your main source of (official) information about Java should be http://java.sun.com ! (_despite of stackoverflow_)","body":"your main source of (official) information about Java should be <a href=\"http://java.sun.com\" rel=\"nofollow noreferrer\">java.sun.com</a> ! (<i>despite of stackoverflow</i>)"},{"owner":{"account_id":1317509,"reputation":5663,"user_id":1264058,"accept_rate":50,"display_name":"Johnny Lim"},"score":0,"creation_date":1331723920,"post_id":9699071,"comment_id":12328472,"body_markdown":"@CarlosHeuberger You&#39;re definitely right! Thanks for the advice :-)","body":"@CarlosHeuberger You&#39;re definitely right! Thanks for the advice :-)"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1633807110,"post_id":9699071,"comment_id":122861075,"body_markdown":"Beware that the Java language specification explicitly doesn&#39;t define how strings are stored when in use, just that they are immutable (and there are some hints that they may be interned). So any answer should explicitly list the runtime, and since most of them do not, those are are all tosh.","body":"Beware that the Java language specification explicitly doesn&#39;t define how strings are stored when in use, just that they are immutable (and there are some hints that they may be interned). So any answer should explicitly list the runtime, and since most of them do not, those are are all tosh."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1666325005,"creation_date":1331717400,"answer_id":9699138,"question_id":9699071,"body_markdown":"You can confirm the following by looking at the source code of the relevant version of the `java.lang.String` class in OpenJDK.  (For some really old versions of Java, `String` was partly implemented in native code.  *That* source code is not publicly available.)\r\n\r\n**Prior to Java 9**, the standard in-memory representation for a Java `String` is UTF-16 code-units held in a `char[]`.  \r\n\r\nWith Java 6 update 21 and later, there was a non-standard option (`-XX:UseCompressedStrings`) to enable compressed strings.  This feature was removed in Java 7.\r\n\r\n**For Java 9 and later**, the implementation of `String` has been changed to use a compact representation *by default*.  The `java` command [documentation][1] now says this:\r\n\r\n&gt; -XX:-CompactStrings\r\n&gt;\r\n&gt; Disables the Compact Strings feature. **By default, this option is enabled.** When this option is enabled, Java Strings containing only single-byte characters are internally represented and stored as single-byte-per-character Strings using ISO-8859-1 / Latin-1 encoding. This reduces, by 50%, the amount of space required for Strings containing only single-byte characters. For Java Strings containing at least one multibyte character: these are represented and stored as 2 bytes per character using UTF-16 encoding. Disabling the Compact Strings feature forces the use of UTF-16 encoding as the internal representation for all Java Strings.\r\n\r\n------------------\r\n\r\nNote that neither classical, &quot;compressed&quot; or &quot;compact&quot; strings ever used UTF-8 encoding as the `String` representation.  Modified UTF-8 is used in other contexts; e.g. in class files, and the object serialization format.\r\n\r\n\r\nSee also:\r\n\r\n  - [Java Platform, Standard Edition What’s New in Oracle JDK 9][2]\r\n  - [JEP 254: Compact Strings][3]\r\n  - https://stackoverflow.com/questions/44178432\r\n\r\n-----------------\r\n\r\nTo answer your specific questions:\r\n\r\n&gt; Modified UTF-8? Or UTF-16? Which one is correct?\r\n\r\nEither UTF-16 or an adaptive representation that depends on the actual data; see above.\r\n\r\n&gt; And how many bytes does Java use for a char in memory?\r\n\r\nA single `char` uses 2 bytes.  There might be some &quot;wastage&quot; due to possible padding, depending on the context.\r\n\r\nA `char[]` is 2 bytes per character plus the object header (typically 12 bytes including the array length) padded to (typically) a multiple of 8 bytes.\r\n\r\n&gt; Please let me know which one is correct and how many bytes it uses.\r\n\r\nIf we are talking about a `String` now, it is not possible to give a general answer.  It will depend on the Java version and hardware platform, as well as the `String` length and (in some cases) what the characters are.  Indeed, for some versions of Java it even depends on how you created the `String`. \r\n\r\n------------------------\r\n\r\nHaving said all of the above, the *API model* for `String` is that it is **both** a sequence of UTF-16 code-units **and** a sequence of Unicode code-points.  As a Java programmer, you should be able to ignore everything that happens &quot;under the hood&quot;.  The internal `String` representation is (should be!) irrelevant.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/tools/java.htm\r\n  [2]: https://docs.oracle.com/javase/9/whatsnew/toc.htm\r\n  [3]: http://openjdk.java.net/jeps/254","title":"What is the Java&#39;s internal represention for String? Modified UTF-8? UTF-16?","body":"<p>You can confirm the following by looking at the source code of the relevant version of the <code>java.lang.String</code> class in OpenJDK.  (For some really old versions of Java, <code>String</code> was partly implemented in native code.  <em>That</em> source code is not publicly available.)</p>\n<p><strong>Prior to Java 9</strong>, the standard in-memory representation for a Java <code>String</code> is UTF-16 code-units held in a <code>char[]</code>.</p>\n<p>With Java 6 update 21 and later, there was a non-standard option (<code>-XX:UseCompressedStrings</code>) to enable compressed strings.  This feature was removed in Java 7.</p>\n<p><strong>For Java 9 and later</strong>, the implementation of <code>String</code> has been changed to use a compact representation <em>by default</em>.  The <code>java</code> command <a href=\"https://docs.oracle.com/javase/9/tools/java.htm\" rel=\"nofollow noreferrer\">documentation</a> now says this:</p>\n<blockquote>\n<p>-XX:-CompactStrings</p>\n<p>Disables the Compact Strings feature. <strong>By default, this option is enabled.</strong> When this option is enabled, Java Strings containing only single-byte characters are internally represented and stored as single-byte-per-character Strings using ISO-8859-1 / Latin-1 encoding. This reduces, by 50%, the amount of space required for Strings containing only single-byte characters. For Java Strings containing at least one multibyte character: these are represented and stored as 2 bytes per character using UTF-16 encoding. Disabling the Compact Strings feature forces the use of UTF-16 encoding as the internal representation for all Java Strings.</p>\n</blockquote>\n<hr />\n<p>Note that neither classical, &quot;compressed&quot; or &quot;compact&quot; strings ever used UTF-8 encoding as the <code>String</code> representation.  Modified UTF-8 is used in other contexts; e.g. in class files, and the object serialization format.</p>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/9/whatsnew/toc.htm\" rel=\"nofollow noreferrer\">Java Platform, Standard Edition What’s New in Oracle JDK 9</a></li>\n<li><a href=\"http://openjdk.java.net/jeps/254\" rel=\"nofollow noreferrer\">JEP 254: Compact Strings</a></li>\n<li><a href=\"https://stackoverflow.com/questions/44178432\">Difference between compact strings and compressed strings in Java 9</a></li>\n</ul>\n<hr />\n<p>To answer your specific questions:</p>\n<blockquote>\n<p>Modified UTF-8? Or UTF-16? Which one is correct?</p>\n</blockquote>\n<p>Either UTF-16 or an adaptive representation that depends on the actual data; see above.</p>\n<blockquote>\n<p>And how many bytes does Java use for a char in memory?</p>\n</blockquote>\n<p>A single <code>char</code> uses 2 bytes.  There might be some &quot;wastage&quot; due to possible padding, depending on the context.</p>\n<p>A <code>char[]</code> is 2 bytes per character plus the object header (typically 12 bytes including the array length) padded to (typically) a multiple of 8 bytes.</p>\n<blockquote>\n<p>Please let me know which one is correct and how many bytes it uses.</p>\n</blockquote>\n<p>If we are talking about a <code>String</code> now, it is not possible to give a general answer.  It will depend on the Java version and hardware platform, as well as the <code>String</code> length and (in some cases) what the characters are.  Indeed, for some versions of Java it even depends on how you created the <code>String</code>.</p>\n<hr />\n<p>Having said all of the above, the <em>API model</em> for <code>String</code> is that it is <strong>both</strong> a sequence of UTF-16 code-units <strong>and</strong> a sequence of Unicode code-points.  As a Java programmer, you should be able to ignore everything that happens &quot;under the hood&quot;.  The internal <code>String</code> representation is (should be!) irrelevant.</p>\n"},{"tags":[],"owner":{"account_id":436506,"reputation":2534,"user_id":823729,"display_name":"belgther"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1331717453,"creation_date":1331717453,"answer_id":9699154,"question_id":9699071,"body_markdown":"The size of a `char` is 2 bytes. \r\n\r\nTherefore, I would say that Java uses UTF-16 for internal String representation. ","title":"What is the Java&#39;s internal represention for String? Modified UTF-8? UTF-16?","body":"<p>The size of a <code>char</code> is 2 bytes. </p>\n\n<p>Therefore, I would say that Java uses UTF-16 for internal String representation. </p>\n"},{"tags":[],"owner":{"account_id":331053,"reputation":1135,"user_id":655504,"accept_rate":100,"display_name":"Andreas Johansson"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1331717481,"creation_date":1331717481,"answer_id":9699165,"question_id":9699071,"body_markdown":"**UTF-16.**\r\n\r\nFrom http://java.sun.com/javase/technologies/core/basic/intl/faq.jsp :\r\n\r\n&gt; &gt; How is text represented in the Java platform?\r\n&gt; \r\n&gt; The Java programming language is based on the Unicode character set,\r\n&gt; and several libraries implement the Unicode standard. The primitive\r\n&gt; data type char in the Java programming language is an unsigned 16-bit\r\n&gt; integer that can represent a Unicode code point in the range U+0000 to\r\n&gt; U+FFFF, or the code units of UTF-16. The various types and classes in\r\n&gt; the Java platform that represent character sequences - char[],\r\n&gt; implementations of java.lang.CharSequence (such as the String class),\r\n&gt; and implementations of java.text.CharacterIterator - are UTF-16\r\n&gt; sequences.","title":"What is the Java&#39;s internal represention for String? Modified UTF-8? UTF-16?","body":"<p><strong>UTF-16.</strong></p>\n\n<p>From <a href=\"http://java.sun.com/javase/technologies/core/basic/intl/faq.jsp\" rel=\"noreferrer\">http://java.sun.com/javase/technologies/core/basic/intl/faq.jsp</a> :</p>\n\n<blockquote>\n  <blockquote>\n    <p>How is text represented in the Java platform?</p>\n  </blockquote>\n  \n  <p>The Java programming language is based on the Unicode character set,\n  and several libraries implement the Unicode standard. The primitive\n  data type char in the Java programming language is an unsigned 16-bit\n  integer that can represent a Unicode code point in the range U+0000 to\n  U+FFFF, or the code units of UTF-16. The various types and classes in\n  the Java platform that represent character sequences - char[],\n  implementations of java.lang.CharSequence (such as the String class),\n  and implementations of java.text.CharacterIterator - are UTF-16\n  sequences.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1331717511,"creation_date":1331717511,"answer_id":9699173,"question_id":9699071,"body_markdown":"Java stores strings internally as UTF-16 and uses 2 bytes for each character. ","title":"What is the Java&#39;s internal represention for String? Modified UTF-8? UTF-16?","body":"<p>Java stores strings internally as UTF-16 and uses 2 bytes for each character. </p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":2,"up_vote_count":64,"is_accepted":true,"score":62,"last_activity_date":1527754163,"creation_date":1331717724,"answer_id":9699224,"question_id":9699071,"body_markdown":"&gt; Java uses UTF-16 for the internal text representation \n\nThe representation for String and StringBuilder etc in Java is UTF-16\n\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/intl/overview.html\n\n&gt; How is text represented in the Java platform?\n&gt;\n&gt; The Java programming language is based on the Unicode character set, and several libraries implement the Unicode standard. The primitive data type char in the Java programming language is an unsigned 16-bit integer that can represent a Unicode code point in the range U+0000 to U+FFFF, or the code units of UTF-16. The various types and classes in the Java platform that represent character sequences - char[], implementations of java.lang.CharSequence (such as the String class), and implementations of java.text.CharacterIterator - are UTF-16 sequences.\n\nAt the JVM level, if you are using `-XX:+UseCompressedStrings` (which is default for some updates of Java 6) The actual in-memory representation can be 8-bit, ISO-8859-1 but only for strings which do not need UTF-16 encoding.\n\nhttp://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\n\n&gt; and supports a non-standard modification of UTF-8 for string serialization.\n\nSerialized Strings use UTF-8 by default.\n\n&gt; And how many bytes does Java use for a char in memory?\n\nA `char` is always two bytes, if you ignore the need for padding in an Object.\n\nNote: a code point (which allows character &gt; 65535) can use one or two characters, i.e. 2 or 4 bytes.","title":"What is the Java&#39;s internal represention for String? Modified UTF-8? UTF-16?","body":"<blockquote>\n<p>Java uses UTF-16 for the internal text representation</p>\n</blockquote>\n<p>The representation for String and StringBuilder etc in Java is UTF-16</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/intl/overview.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/intl/overview.html</a></p>\n<blockquote>\n<p>How is text represented in the Java platform?</p>\n<p>The Java programming language is based on the Unicode character set, and several libraries implement the Unicode standard. The primitive data type char in the Java programming language is an unsigned 16-bit integer that can represent a Unicode code point in the range U+0000 to U+FFFF, or the code units of UTF-16. The various types and classes in the Java platform that represent character sequences - char[], implementations of java.lang.CharSequence (such as the String class), and implementations of java.text.CharacterIterator - are UTF-16 sequences.</p>\n</blockquote>\n<p>At the JVM level, if you are using <code>-XX:+UseCompressedStrings</code> (which is default for some updates of Java 6) The actual in-memory representation can be 8-bit, ISO-8859-1 but only for strings which do not need UTF-16 encoding.</p>\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html</a></p>\n<blockquote>\n<p>and supports a non-standard modification of UTF-8 for string serialization.</p>\n</blockquote>\n<p>Serialized Strings use UTF-8 by default.</p>\n<blockquote>\n<p>And how many bytes does Java use for a char in memory?</p>\n</blockquote>\n<p>A <code>char</code> is always two bytes, if you ignore the need for padding in an Object.</p>\n<p>Note: a code point (which allows character &gt; 65535) can use one or two characters, i.e. 2 or 4 bytes.</p>\n"},{"tags":[],"owner":{"account_id":1290064,"reputation":23,"user_id":1242331,"display_name":"mohan.reddy8"},"down_vote_count":9,"up_vote_count":2,"is_accepted":false,"score":-7,"last_activity_date":1331720940,"creation_date":1331720940,"answer_id":9700130,"question_id":9699071,"body_markdown":"java is available in 18 international languages and following UNICODE character set, which contains all the characters which are available in 18 international languages and\r\ncontains 65536 characters.And java following UTF-16 so the size of char in java is 2 bytes.","title":"What is the Java&#39;s internal represention for String? Modified UTF-8? UTF-16?","body":"<p>java is available in 18 international languages and following UNICODE character set, which contains all the characters which are available in 18 international languages and\ncontains 65536 characters.And java following UTF-16 so the size of char in java is 2 bytes.</p>\n"},{"tags":[],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681471375,"creation_date":1681471063,"answer_id":76014558,"question_id":9699071,"body_markdown":"As of 2023, see JEP 254: Compact Strings https://openjdk.org/jeps/254  \r\n\r\n\r\nBefore JDK 9 it was UTF-16 `char value[]`, \r\nusually 2 bytes per char, 4 bytes for Asian (Chinese, Japanese 日本)\r\n\r\nSince JDK 9 it is UTF-8 `byte[]`  \r\ne.g. 1 byte for ASCII/Latin, 2 bytes for &#193;&#225; &#192;&#224;\tĂă Ắắ Ằằ Ẵẵ (letters with diacritics), 4 bytes for Asian (Chinese, Japanese 日本)  \r\nIt is still possible to **Disables the Compact Strings feature** with `-XX:-CompactStrings`  \r\nsee Documentation for The `java` Command https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#advanced-runtime-options-for-java\r\n\r\nand the article https://howtodoinjava.com/java9/compact-strings/\r\n\r\n---\r\n\r\nString class BEFORE Java 9\r\nPrior to Java 9, string data was stored as an array of chars. This required 16 bits for each char.\r\n\r\n```java\r\npublic final class String\r\n    implements java.io.Serializable, Comparable&lt;String&gt;, CharSequence {\r\n \r\n    //The value is used for character storage.\r\n  private final char value[];\r\n \r\n}\r\n```\r\n\r\nString class AFTER Java 9\r\nStarting with Java 9, strings are now internally represented using a byte array along with a flag field for encoding references.\r\n\r\n```java\r\npublic final class String\r\n    implements java.io.Serializable, Comparable&lt;String&gt;, CharSequence {\r\n \r\n    /** The value is used for character storage. */\r\n  @Stable\r\n  private final byte[] value;\r\n \r\n  /**\r\n   * The identifier of the encoding used to encode the bytes in\r\n   * {@code value}. The supported values in this implementation are\r\n   *\r\n   * LATIN1\r\n   * UTF16\r\n   *\r\n   * @implNote This field is trusted by the VM, and is a subject to\r\n   * constant folding if String instance is constant. Overwriting this\r\n   * field after construction will cause problems.\r\n   */\r\n  private final byte coder;\r\n \r\n}\r\n```\r\n","title":"What is the Java&#39;s internal represention for String? Modified UTF-8? UTF-16?","body":"<p>As of 2023, see JEP 254: Compact Strings <a href=\"https://openjdk.org/jeps/254\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/254</a></p>\n<p>Before JDK 9 it was UTF-16 <code>char value[]</code>,\nusually 2 bytes per char, 4 bytes for Asian (Chinese, Japanese 日本)</p>\n<p>Since JDK 9 it is UTF-8 <code>byte[]</code><br />\ne.g. 1 byte for ASCII/Latin, 2 bytes for Áá Àà  Ăă Ắắ Ằằ Ẵẵ (letters with diacritics), 4 bytes for Asian (Chinese, Japanese 日本)<br />\nIt is still possible to <strong>Disables the Compact Strings feature</strong> with <code>-XX:-CompactStrings</code><br />\nsee Documentation for The <code>java</code> Command <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#advanced-runtime-options-for-java\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#advanced-runtime-options-for-java</a></p>\n<p>and the article <a href=\"https://howtodoinjava.com/java9/compact-strings/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/java9/compact-strings/</a></p>\n<hr />\n<p>String class BEFORE Java 9\nPrior to Java 9, string data was stored as an array of chars. This required 16 bits for each char.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class String\n    implements java.io.Serializable, Comparable&lt;String&gt;, CharSequence {\n \n    //The value is used for character storage.\n  private final char value[];\n \n}\n</code></pre>\n<p>String class AFTER Java 9\nStarting with Java 9, strings are now internally represented using a byte array along with a flag field for encoding references.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class String\n    implements java.io.Serializable, Comparable&lt;String&gt;, CharSequence {\n \n    /** The value is used for character storage. */\n  @Stable\n  private final byte[] value;\n \n  /**\n   * The identifier of the encoding used to encode the bytes in\n   * {@code value}. The supported values in this implementation are\n   *\n   * LATIN1\n   * UTF16\n   *\n   * @implNote This field is trusted by the VM, and is a subject to\n   * constant folding if String instance is constant. Overwriting this\n   * field after construction will cause problems.\n   */\n  private final byte coder;\n \n}\n</code></pre>\n"}],"owner":{"account_id":1317509,"reputation":5663,"user_id":1264058,"accept_rate":50,"display_name":"Johnny Lim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43559,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":9699224,"answer_count":7,"score":55,"last_activity_date":1681471375,"creation_date":1331717167,"question_id":9699071,"body_markdown":"I searched Java&#39;s internal representation for String, but I&#39;ve got two materials which look reliable but inconsistent.\r\n\r\nOne is:\r\n\r\n&gt; http://www.codeguru.com/cpp/misc/misc/multi-lingualsupport/article.php/c10451\r\n\r\nand it says:\r\n\r\n&gt; Java uses UTF-16 for the internal text representation and supports a non-standard modification of UTF-8 for string serialization.\r\n\r\nThe other is:\r\n\r\n&gt; http://en.wikipedia.org/wiki/UTF-8#Modified_UTF-8\r\n\r\nand it says:\r\n\r\n&gt; Tcl also uses the same modified UTF-8[25] as Java for internal representation of Unicode data, but uses strict CESU-8 for external data.\r\n\r\nModified UTF-8? Or UTF-16? Which one is correct? And how many bytes does Java use for a char in memory?\r\n\r\nPlease let me know which one is correct and how many bytes it uses.","title":"What is the Java&#39;s internal represention for String? Modified UTF-8? UTF-16?","body":"<p>I searched Java's internal representation for String, but I've got two materials which look reliable but inconsistent.</p>\n\n<p>One is:</p>\n\n<blockquote>\n  <p><a href=\"http://www.codeguru.com/cpp/misc/misc/multi-lingualsupport/article.php/c10451\" rel=\"noreferrer\">http://www.codeguru.com/cpp/misc/misc/multi-lingualsupport/article.php/c10451</a></p>\n</blockquote>\n\n<p>and it says:</p>\n\n<blockquote>\n  <p>Java uses UTF-16 for the internal text representation and supports a non-standard modification of UTF-8 for string serialization.</p>\n</blockquote>\n\n<p>The other is:</p>\n\n<blockquote>\n  <p><a href=\"http://en.wikipedia.org/wiki/UTF-8#Modified_UTF-8\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/UTF-8#Modified_UTF-8</a></p>\n</blockquote>\n\n<p>and it says:</p>\n\n<blockquote>\n  <p>Tcl also uses the same modified UTF-8[25] as Java for internal representation of Unicode data, but uses strict CESU-8 for external data.</p>\n</blockquote>\n\n<p>Modified UTF-8? Or UTF-16? Which one is correct? And how many bytes does Java use for a char in memory?</p>\n\n<p>Please let me know which one is correct and how many bytes it uses.</p>\n"},{"tags":["java","servlets","urlconnection"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":83,"is_accepted":true,"score":83,"last_activity_date":1681471142,"creation_date":1280163790,"answer_id":3337115,"question_id":3337056,"body_markdown":"`multipart/form-data` encoded requests are indeed not by default supported by the Servlet API prior to version 3.0. The Servlet API parses the parameters by default using `application/x-www-form-urlencoded` encoding. When using a different encoding, the `request.getParameter()` calls will all return `null`. When you&#39;re already on Servlet 3.0 or newer ([Glassfish 3][1], [Tomcat 7][2], [WildFly][3], etc, all introduced since December 2009 already), then you can use [`HttpServletRequest#getPart()`][4] instead. You can find elaboarate examples in https://stackoverflow.com/questions/2422468/how-can-i-upload-files-to-a-server-using-jsp-servlet\r\n\r\nPrior to Servlet 3.0, a [de facto][5] standard to parse `multipart/form-data` requests would be using [Apache Commons FileUpload][6]. You&#39;ll probably find answers and code examples using this library over all place on the Internet, but this is thus not needed anymore for more than 10 years already. Just use the standard `request.getPart(name)` method instead.\r\n\r\n\r\n  [1]: https://glassfish.org\r\n  [2]: https://tomcat.apache.org\r\n  [3]: https://wildfly.org\r\n  [4]: https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getPart(java.lang.String)\r\n  [5]: https://en.wikipedia.org/wiki/De_facto\r\n  [6]: https://commons.apache.org/fileupload\r\n  [7]: https://stackoverflow.com/questions/2422468/upload-big-file-to-servlet/2424824#2424824","title":"Convenient way to parse incoming multipart/form-data parameters in a Servlet","body":"<p><code>multipart/form-data</code> encoded requests are indeed not by default supported by the Servlet API prior to version 3.0. The Servlet API parses the parameters by default using <code>application/x-www-form-urlencoded</code> encoding. When using a different encoding, the <code>request.getParameter()</code> calls will all return <code>null</code>. When you're already on Servlet 3.0 or newer (<a href=\"https://glassfish.org\" rel=\"nofollow noreferrer\">Glassfish 3</a>, <a href=\"https://tomcat.apache.org\" rel=\"nofollow noreferrer\">Tomcat 7</a>, <a href=\"https://wildfly.org\" rel=\"nofollow noreferrer\">WildFly</a>, etc, all introduced since December 2009 already), then you can use <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getPart(java.lang.String)\" rel=\"nofollow noreferrer\"><code>HttpServletRequest#getPart()</code></a> instead. You can find elaboarate examples in <a href=\"https://stackoverflow.com/questions/2422468/how-can-i-upload-files-to-a-server-using-jsp-servlet\">How can I upload files to a server using JSP/Servlet?</a></p>\n<p>Prior to Servlet 3.0, a <a href=\"https://en.wikipedia.org/wiki/De_facto\" rel=\"nofollow noreferrer\">de facto</a> standard to parse <code>multipart/form-data</code> requests would be using <a href=\"https://commons.apache.org/fileupload\" rel=\"nofollow noreferrer\">Apache Commons FileUpload</a>. You'll probably find answers and code examples using this library over all place on the Internet, but this is thus not needed anymore for more than 10 years already. Just use the standard <code>request.getPart(name)</code> method instead.</p>\n"},{"tags":[],"owner":{"account_id":1333467,"reputation":201,"user_id":1276786,"display_name":"renura"},"down_vote_count":5,"up_vote_count":21,"is_accepted":false,"score":16,"last_activity_date":1351693891,"creation_date":1332227032,"answer_id":9782575,"question_id":3337056,"body_markdown":"Solutions:\r\n\r\nSolution A:\r\n\r\n1. Download http://www.servlets.com/cos/index.html\r\n2. Invoke getParameters() on `com.oreilly.servlet.MultipartRequest`\r\n\r\nSolution B:\r\n\r\n1. Download http://jakarta.Apache.org/commons/fileupload/\r\n2. Invoke readHeaders() in \r\n`org.apache.commons.fileupload.MultipartStream`\r\n\r\nSolution C:\r\n\r\n1. Download http://users.boone.net/wbrameld/multipartformdata/\r\n2. Invoke getParameter on \r\ncom.bigfoot.bugar.servlet.http.MultipartFormData\r\n\r\nSolution D:\r\n\r\n\r\nUse Struts. Struts 1.1 handles this automatically.\r\n\r\nReference: http://www.jguru.com/faq/view.jsp?EID=1045507","title":"Convenient way to parse incoming multipart/form-data parameters in a Servlet","body":"<p>Solutions:</p>\n\n<p>Solution A:</p>\n\n<ol>\n<li>Download <a href=\"http://www.servlets.com/cos/index.html\" rel=\"noreferrer\">http://www.servlets.com/cos/index.html</a></li>\n<li>Invoke getParameters() on <code>com.oreilly.servlet.MultipartRequest</code></li>\n</ol>\n\n<p>Solution B:</p>\n\n<ol>\n<li>Download <a href=\"http://jakarta.Apache.org/commons/fileupload/\" rel=\"noreferrer\">http://jakarta.Apache.org/commons/fileupload/</a></li>\n<li>Invoke readHeaders() in \n<code>org.apache.commons.fileupload.MultipartStream</code></li>\n</ol>\n\n<p>Solution C:</p>\n\n<ol>\n<li>Download <a href=\"http://users.boone.net/wbrameld/multipartformdata/\" rel=\"noreferrer\">http://users.boone.net/wbrameld/multipartformdata/</a></li>\n<li>Invoke getParameter on \ncom.bigfoot.bugar.servlet.http.MultipartFormData</li>\n</ol>\n\n<p>Solution D:</p>\n\n<p>Use Struts. Struts 1.1 handles this automatically.</p>\n\n<p>Reference: <a href=\"http://www.jguru.com/faq/view.jsp?EID=1045507\" rel=\"noreferrer\">http://www.jguru.com/faq/view.jsp?EID=1045507</a></p>\n"},{"tags":[],"owner":{"account_id":1779114,"reputation":1085,"user_id":1622283,"accept_rate":25,"display_name":"Luca Rasconi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1460407452,"creation_date":1433851367,"answer_id":30731491,"question_id":3337056,"body_markdown":"Not always there&#39;s a servlet before of an upload (I could use a filter for example).\r\nOr could be that the same controller ( again a filter or also a servelt ) can serve many actions, so I think that rely on that servlet configuration to use the getPart method (only for Servlet API &gt;= 3.0), I don&#39;t know, I don&#39;t like. \r\n\r\nIn general, I prefer independent solutions, able to live alone, and in this case  http://commons.apache.org/proper/commons-fileupload/ is one of that. \r\n\r\n    List&lt;FileItem&gt; multiparts = new ServletFileUpload(new DiskFileItemFactory()).parseRequest(request);\r\n    \tfor (FileItem item : multiparts) {\r\n    \t    if (!item.isFormField()) {\r\n    \t\t\t//your operations on file\r\n    \t\t} else {\r\n    \t\t\tString name = item.getFieldName();\r\n    \t\t\tString value = item.getString();\r\n                //you operations on paramters\r\n    \t\t}\r\n    }","title":"Convenient way to parse incoming multipart/form-data parameters in a Servlet","body":"<p>Not always there's a servlet before of an upload (I could use a filter for example).\nOr could be that the same controller ( again a filter or also a servelt ) can serve many actions, so I think that rely on that servlet configuration to use the getPart method (only for Servlet API >= 3.0), I don't know, I don't like. </p>\n\n<p>In general, I prefer independent solutions, able to live alone, and in this case  <a href=\"http://commons.apache.org/proper/commons-fileupload/\" rel=\"noreferrer\">http://commons.apache.org/proper/commons-fileupload/</a> is one of that. </p>\n\n<pre><code>List&lt;FileItem&gt; multiparts = new ServletFileUpload(new DiskFileItemFactory()).parseRequest(request);\n    for (FileItem item : multiparts) {\n        if (!item.isFormField()) {\n            //your operations on file\n        } else {\n            String name = item.getFieldName();\n            String value = item.getString();\n            //you operations on paramters\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":634936,"reputation":683,"user_id":402527,"display_name":"atuser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159655,"favorite_count":0,"down_vote_count":0,"up_vote_count":68,"closed_date":1433860506,"accepted_answer_id":3337115,"answer_count":3,"score":68,"last_activity_date":1681471142,"creation_date":1280163420,"question_id":3337056,"body_markdown":"Is there any convenient way to read and parse data from incoming request.\r\n\r\nE.g client initiate post request\r\n\r\n    URLConnection connection = new URL(url).openConnection();\r\n    connection.setDoOutput(true);\r\n    connection.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=&quot; + boundary);\r\n    PrintWriter writer = null;\r\n    try {\r\n        OutputStream output = connection.getOutputStream();\r\n        writer = new PrintWriter(new OutputStreamWriter(output, charset), true); // true = autoFlush, important!\r\n        // Send normal param.\r\n        writer.println(&quot;--&quot; + boundary);\r\n        writer.println(&quot;Content-Disposition: form-data; name=\\&quot;param\\&quot;&quot;);\r\n        writer.println(&quot;Content-Type: text/plain; charset=&quot; + charset);\r\n        writer.println();\r\n        writer.println(param);\r\n\r\nI’m not able to get param using `request.getParameter(&quot;paramName&quot;)`. The following code\r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(\r\n        request.getInputStream()));\r\n      StringBuilder sb = new StringBuilder();\r\n      for (String line; (line = reader.readLine()) != null;) {\r\n       System.out.println(line);\r\n    \r\n      }\r\n\r\nhowever displays the content for me \r\n\r\n    -----------------------------29772313742745\r\n    Content-Disposition: form-data; name=&quot;name&quot;\r\n    J.Doe\r\n    -----------------------------29772313742745\r\n    Content-Disposition: form-data; name=&quot;email&quot;\r\n    abuse@spamcop.com\r\n    -----------------------------29772313742745\r\n\r\nWhat is the best way to parse incoming request? I don’t want to write my own parser, probably there is a  ready solution.\r\n\r\n\r\n\r\n","title":"Convenient way to parse incoming multipart/form-data parameters in a Servlet","body":"<p>Is there any convenient way to read and parse data from incoming request.</p>\n\n<p>E.g client initiate post request</p>\n\n<pre><code>URLConnection connection = new URL(url).openConnection();\nconnection.setDoOutput(true);\nconnection.setRequestProperty(\"Content-Type\", \"multipart/form-data; boundary=\" + boundary);\nPrintWriter writer = null;\ntry {\n    OutputStream output = connection.getOutputStream();\n    writer = new PrintWriter(new OutputStreamWriter(output, charset), true); // true = autoFlush, important!\n    // Send normal param.\n    writer.println(\"--\" + boundary);\n    writer.println(\"Content-Disposition: form-data; name=\\\"param\\\"\");\n    writer.println(\"Content-Type: text/plain; charset=\" + charset);\n    writer.println();\n    writer.println(param);\n</code></pre>\n\n<p>I’m not able to get param using <code>request.getParameter(\"paramName\")</code>. The following code</p>\n\n<pre><code>BufferedReader reader = new BufferedReader(new InputStreamReader(\n    request.getInputStream()));\n  StringBuilder sb = new StringBuilder();\n  for (String line; (line = reader.readLine()) != null;) {\n   System.out.println(line);\n\n  }\n</code></pre>\n\n<p>however displays the content for me </p>\n\n<pre><code>-----------------------------29772313742745\nContent-Disposition: form-data; name=\"name\"\nJ.Doe\n-----------------------------29772313742745\nContent-Disposition: form-data; name=\"email\"\nabuse@spamcop.com\n-----------------------------29772313742745\n</code></pre>\n\n<p>What is the best way to parse incoming request? I don’t want to write my own parser, probably there is a  ready solution.</p>\n"},{"tags":["java","java-io","java-nio"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1681464403,"post_id":76013476,"comment_id":134064002,"body_markdown":"What do you mean by &quot;at the same time&quot;? Concurrency? Or do you just want to read the input stream once?","body":"What do you mean by &quot;at the same time&quot;? Concurrency? Or do you just want to read the input stream once?"},{"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"score":0,"creation_date":1681464636,"post_id":76013476,"comment_id":134064064,"body_markdown":"Some kind of chaining... I need to store inputstream to a file, but I&#39;d like to calculate checksum since inputstream is being read... At the end, I need checksum and a file stored. Yes I want to read input stream once.","body":"Some kind of chaining... I need to store inputstream to a file, but I&#39;d like to calculate checksum since inputstream is being read... At the end, I need checksum and a file stored. Yes I want to read input stream once."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1681471100,"creation_date":1681464814,"answer_id":76013607,"question_id":76013476,"body_markdown":"You can use the [`DigestInputStream`][1] to calculate a hash while reading from a stream. That is, you wrap the original input stream with a `DigestInputStream` and read through the `DigestInputStream`. While reading the data, the message digest is automatically updated, and you can retrieve the digest after you read the entire stream.\r\n\r\nAlternatively, you can use [`DigestOutputStream`][2] to calculate a hash while writing to a stream.  In a similar vein, you wrap the destination output stream with a `DigestOutputStream` and write through the `DigestOutputStream`.\r\n\r\nA quick and dirty example:\r\n\r\n```java\r\nvar inputFile = Path.of(&quot;D:\\\\Development\\\\data\\\\testdata-csv\\\\customers-1000.csv&quot;);\r\nvar outputFile = Files.createTempFile(&quot;testoutput&quot;, &quot;.dat&quot;);\r\nvar md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\ntry (var in = new DigestInputStream(Files.newInputStream(inputFile), md);\r\n     var out = Files.newOutputStream(outputFile)) {\r\n    in.transferTo(out);\r\n} finally {\r\n    Files.deleteIfExists(outputFile);\r\n}\r\n\r\nSystem.out.println(HexFormat.of().formatHex(md.digest()));\r\n```\r\n\r\nIn terms of your existing code, you could do something like:\r\n\r\n```java\r\npublic String transferAndHash(InputStream in) throws IOException {\r\n    try {\r\n        var md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        try (var digestIn = new DigestInputStream(in, md)) {\r\n            transferTo(digestIn);\r\n        }\r\n        return HexFormat.of().formatHex(md.digest());\r\n    } catch (NoSuchAlgorithmException e) {\r\n        // all recent Java versions are required to support SHA-256\r\n        throw new AssertionError(&quot;Expected SHA-256 to be supported&quot;, e);\r\n    }\r\n}\r\n```\r\n\r\n(NOTE: `HexFormat` was introduced in Java 17, if you&#39;re using an earlier version, you&#39;ll need an alternative.)\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/DigestInputStream.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/DigestOutputStream.html","title":"Java InputStream: copy to and calculate hash at the same time","body":"<p>You can use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/DigestInputStream.html\" rel=\"nofollow noreferrer\"><code>DigestInputStream</code></a> to calculate a hash while reading from a stream. That is, you wrap the original input stream with a <code>DigestInputStream</code> and read through the <code>DigestInputStream</code>. While reading the data, the message digest is automatically updated, and you can retrieve the digest after you read the entire stream.</p>\n<p>Alternatively, you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/DigestOutputStream.html\" rel=\"nofollow noreferrer\"><code>DigestOutputStream</code></a> to calculate a hash while writing to a stream.  In a similar vein, you wrap the destination output stream with a <code>DigestOutputStream</code> and write through the <code>DigestOutputStream</code>.</p>\n<p>A quick and dirty example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var inputFile = Path.of(&quot;D:\\\\Development\\\\data\\\\testdata-csv\\\\customers-1000.csv&quot;);\nvar outputFile = Files.createTempFile(&quot;testoutput&quot;, &quot;.dat&quot;);\nvar md = MessageDigest.getInstance(&quot;SHA-256&quot;);\ntry (var in = new DigestInputStream(Files.newInputStream(inputFile), md);\n     var out = Files.newOutputStream(outputFile)) {\n    in.transferTo(out);\n} finally {\n    Files.deleteIfExists(outputFile);\n}\n\nSystem.out.println(HexFormat.of().formatHex(md.digest()));\n</code></pre>\n<p>In terms of your existing code, you could do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String transferAndHash(InputStream in) throws IOException {\n    try {\n        var md = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        try (var digestIn = new DigestInputStream(in, md)) {\n            transferTo(digestIn);\n        }\n        return HexFormat.of().formatHex(md.digest());\n    } catch (NoSuchAlgorithmException e) {\n        // all recent Java versions are required to support SHA-256\n        throw new AssertionError(&quot;Expected SHA-256 to be supported&quot;, e);\n    }\n}\n</code></pre>\n<p>(NOTE: <code>HexFormat</code> was introduced in Java 17, if you're using an earlier version, you'll need an alternative.)</p>\n"},{"tags":[],"owner":{"account_id":3204393,"reputation":778,"user_id":2705702,"display_name":"Keijack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681467038,"creation_date":1681467038,"answer_id":76013971,"question_id":76013476,"body_markdown":"If you want to read the input stream once, you might manual read the bytes from the input string and write it to you file by yourself.\r\n\r\n\t\tprivate static final String SHA_256 = &quot;SHA-256&quot;;\r\n\t\tprivate static final int BUFFER = 1024;\r\n\t\r\n\t\tpublic String writeToFile(InputStream fis, File outputFile) throws IOException {\r\n\t\t\ttry (var fout = new FileOutputStream(outputFile); fis) {\r\n\t\t\t\tMessageDigest md5Digest = MessageDigest.getInstance(SHA_256);\r\n\t\t\t\tvar buffer = new byte[BUFFER];\r\n\t\t\t\tvar bytesRead = 0;\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\tbytesRead = fis.read(buffer);\r\n\t\t\t\t\tif (bytesRead &lt; 0)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tmd5Digest.update(buffer, 0, bytesRead);\r\n\t\t\t\t\tfout.write(buffer, 0, bytesRead);\r\n\t\t\t\t}\r\n\t\t\t\tvar checksume = md5Digest.digest();\r\n\t\t\t\treturn Hex.encodeHexString(checksume);\r\n\t\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\t\treturn &quot;KO&quot;;\r\n\t\t\t}\r\n\t\t}","title":"Java InputStream: copy to and calculate hash at the same time","body":"<p>If you want to read the input stream once, you might manual read the bytes from the input string and write it to you file by yourself.</p>\n<pre><code>    private static final String SHA_256 = &quot;SHA-256&quot;;\n    private static final int BUFFER = 1024;\n\n    public String writeToFile(InputStream fis, File outputFile) throws IOException {\n        try (var fout = new FileOutputStream(outputFile); fis) {\n            MessageDigest md5Digest = MessageDigest.getInstance(SHA_256);\n            var buffer = new byte[BUFFER];\n            var bytesRead = 0;\n            while (true) {\n                bytesRead = fis.read(buffer);\n                if (bytesRead &lt; 0)\n                    break;\n                md5Digest.update(buffer, 0, bytesRead);\n                fout.write(buffer, 0, bytesRead);\n            }\n            var checksume = md5Digest.digest();\n            return Hex.encodeHexString(checksume);\n        } catch (NoSuchAlgorithmException e) {\n            return &quot;KO&quot;;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681467919,"creation_date":1681467919,"answer_id":76014100,"question_id":76013476,"body_markdown":"Here is an example using `DigestInputStream` based on [Mark Rotteveel][1]&#39;s suggestion (which I liked):\r\n```java\r\nPath input = Paths.get(&quot;input_file&quot;);\r\nPath output = Paths.get(&quot;output_file&quot;);\r\nMessageDigest algorithm = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\ntry (InputStream is = Files.newInputStream(input);\r\n     DigestInputStream hashingStream = new DigestInputStream(is, algorithm)) {\r\n    Files.copy(hashingStream, output);\r\n}\r\nbyte[] digest = algorithm.digest();\r\n// this line uses Apache Commons Codec to show the hex representation of the byte[]\r\nString hash = Hex.encodeHexString(digest);\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/466862/mark-rotteveel","title":"Java InputStream: copy to and calculate hash at the same time","body":"<p>Here is an example using <code>DigestInputStream</code> based on <a href=\"https://stackoverflow.com/users/466862/mark-rotteveel\">Mark Rotteveel</a>'s suggestion (which I liked):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path input = Paths.get(&quot;input_file&quot;);\nPath output = Paths.get(&quot;output_file&quot;);\nMessageDigest algorithm = MessageDigest.getInstance(&quot;SHA-256&quot;);\ntry (InputStream is = Files.newInputStream(input);\n     DigestInputStream hashingStream = new DigestInputStream(is, algorithm)) {\n    Files.copy(hashingStream, output);\n}\nbyte[] digest = algorithm.digest();\n// this line uses Apache Commons Codec to show the hex representation of the byte[]\nString hash = Hex.encodeHexString(digest);\n</code></pre>\n"}],"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76014100,"answer_count":3,"score":3,"last_activity_date":1681471100,"creation_date":1681464005,"question_id":76013476,"body_markdown":"Here are my two code snippets:\r\n\r\n```lang-java\r\npublic class Uploader {\r\n\r\n  private static final String SHA_256 = &quot;SHA-256&quot;;\r\n\r\n  public String getFileSHA2Checksum(InputStream fis) throws IOException {\r\n    try {\r\n      MessageDigest md5Digest = MessageDigest.getInstance(SHA_256);\r\n      return getFileChecksum(md5Digest, fis);\r\n    } catch (NoSuchAlgorithmException e) {\r\n      return &quot;KO&quot;;\r\n    }\r\n  }\r\n\r\n  public void transferTo(InputStream fis) throws IOException {\r\n    FileUtils.copyInputStreamToFile(fis, file2);\r\n  }\r\n```\r\n\r\nMy code uses this class as:\r\n\r\nIs it possible to `copyToFile` and `calculateChecksum` at the same time leveraging `InputStream` is open? ","title":"Java InputStream: copy to and calculate hash at the same time","body":"<p>Here are my two code snippets:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Uploader {\n\n  private static final String SHA_256 = &quot;SHA-256&quot;;\n\n  public String getFileSHA2Checksum(InputStream fis) throws IOException {\n    try {\n      MessageDigest md5Digest = MessageDigest.getInstance(SHA_256);\n      return getFileChecksum(md5Digest, fis);\n    } catch (NoSuchAlgorithmException e) {\n      return &quot;KO&quot;;\n    }\n  }\n\n  public void transferTo(InputStream fis) throws IOException {\n    FileUtils.copyInputStreamToFile(fis, file2);\n  }\n</code></pre>\n<p>My code uses this class as:</p>\n<p>Is it possible to <code>copyToFile</code> and <code>calculateChecksum</code> at the same time leveraging <code>InputStream</code> is open?</p>\n"},{"tags":["java","log4j","log4j2"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1441714892,"post_id":32457549,"comment_id":52777295,"body_markdown":"I think you have already noted that the main advantages of log4j2 are not persuasive.  If you want other opinions, read this: http://www.infoq.com/news/2014/07/apache-log4j2","body":"I think you have already noted that the main advantages of log4j2 are not persuasive.  If you want other opinions, read this: <a href=\"http://www.infoq.com/news/2014/07/apache-log4j2\" rel=\"nofollow noreferrer\">infoq.com/news/2014/07/apache-log4j2</a>"},{"owner":{"account_id":4092618,"reputation":5227,"user_id":3360241,"accept_rate":91,"display_name":"John"},"score":0,"creation_date":1441715228,"post_id":32457549,"comment_id":52777536,"body_markdown":"Perhaps you might be interested in switching from log4j to logback.","body":"Perhaps you might be interested in switching from log4j to logback."}],"answers":[{"tags":[],"owner":{"account_id":6919749,"reputation":1,"user_id":5312797,"display_name":"Shreeraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441715271,"creation_date":1441715271,"answer_id":32457862,"question_id":32457549,"body_markdown":"As far as my experiance goes, there are no major upgrades with Log4j2 over Log4j. But there are a number of Bug Fixes, raised on Log4j, which have now gone into Log4j2. \r\nthe below link will give info on one such fix\r\n\r\n  https://issues.apache.org/bugzilla/show_bug.cgi?id=50213&amp;action=View\r\n\r\nSince you are using SLF4j, its very easy to migrate to Log4j2 - there willnot be any code changes, only library changes.\r\n\r\n\r\n\r\n","title":"Is it worth migrating from log4j1 to log4j2","body":"<p>As far as my experiance goes, there are no major upgrades with Log4j2 over Log4j. But there are a number of Bug Fixes, raised on Log4j, which have now gone into Log4j2. \nthe below link will give info on one such fix</p>\n\n<p><a href=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=50213&amp;action=View\" rel=\"nofollow\">https://issues.apache.org/bugzilla/show_bug.cgi?id=50213&amp;action=View</a></p>\n\n<p>Since you are using SLF4j, its very easy to migrate to Log4j2 - there willnot be any code changes, only library changes.</p>\n"},{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1441818189,"creation_date":1441715328,"answer_id":32457878,"question_id":32457549,"body_markdown":"According to the documentation asynchronuous loggers and appenders seem to improve the performance of Log4J 2 quite drastically: https://logging.apache.org/log4j/2.x/manual/async.html#Performance\r\n\r\nBesides: Log4J 1 is End of Life: https://blogs.apache.org/foundation/entry/apache_logging_services_project_announces\r\n\r\nFrom the announcement:\r\n\r\n&gt; Apache Log4j 2 features a completely rewritten framework. In addition,\r\n&gt; it is faster, more reliable, and much easier to develop and maintain.\r\n\r\nSo, yes, I think it&#39;s worth to upgrade.","title":"Is it worth migrating from log4j1 to log4j2","body":"<p>According to the documentation asynchronuous loggers and appenders seem to improve the performance of Log4J 2 quite drastically: <a href=\"https://logging.apache.org/log4j/2.x/manual/async.html#Performance\" rel=\"nofollow\">https://logging.apache.org/log4j/2.x/manual/async.html#Performance</a></p>\n\n<p>Besides: Log4J 1 is End of Life: <a href=\"https://blogs.apache.org/foundation/entry/apache_logging_services_project_announces\" rel=\"nofollow\">https://blogs.apache.org/foundation/entry/apache_logging_services_project_announces</a></p>\n\n<p>From the announcement:</p>\n\n<blockquote>\n  <p>Apache Log4j 2 features a completely rewritten framework. In addition,\n  it is faster, more reliable, and much easier to develop and maintain.</p>\n</blockquote>\n\n<p>So, yes, I think it's worth to upgrade.</p>\n"},{"tags":[],"owner":{"account_id":7015415,"reputation":36,"user_id":5376929,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681470771,"creation_date":1680680782,"answer_id":75936850,"question_id":32457549,"body_markdown":"Log4j2 developpers had several brilliant ideas:\r\n\r\n- interpret logged data : see CVE-2021-44228. This was a huge scandal.\r\n\r\n- make it very, very difficult for the developer to control the loggers, by removing many entry points from the API. We have to directly use the &#39;core&#39; library to manage a loggers from the code (for instance, the simple thing of setting programmatically the output file of a FileAppender).\r\n\r\n- completely change the format of the configuration property files\r\n\r\n- provide a fake log4j 1.2 API that relies on a log4j2 implementation but does not implement all former methods, some are now implemented as doing nothing. Consequence: if ever a third party library uses this flawed ersatz API, you can&#39;t even use the good old log4j 1.2 in your application, and you might not notice that it doesn&#39;t work when you fall into one of the no-op methods.\r\n\r\n- if ever you are fool enough to want to control your loggings just a little bit by adding an appender at runtime, you can do that by using the core classes. But these psychopaths will punish you: when you add an appender to a logger... the method also +removes+ all previous appenders created by the configuration file.\r\n\r\nI have been using log4j for years and years happily because it was simple and working. Now after some time using the log4j2 s**t I really believe I should switch to something else.\r\n\r\nSo my answer is: don&#39;t migrate to log4j2. Check slf4j for instance.","title":"Is it worth migrating from log4j1 to log4j2","body":"<p>Log4j2 developpers had several brilliant ideas:</p>\n<ul>\n<li><p>interpret logged data : see CVE-2021-44228. This was a huge scandal.</p>\n</li>\n<li><p>make it very, very difficult for the developer to control the loggers, by removing many entry points from the API. We have to directly use the 'core' library to manage a loggers from the code (for instance, the simple thing of setting programmatically the output file of a FileAppender).</p>\n</li>\n<li><p>completely change the format of the configuration property files</p>\n</li>\n<li><p>provide a fake log4j 1.2 API that relies on a log4j2 implementation but does not implement all former methods, some are now implemented as doing nothing. Consequence: if ever a third party library uses this flawed ersatz API, you can't even use the good old log4j 1.2 in your application, and you might not notice that it doesn't work when you fall into one of the no-op methods.</p>\n</li>\n<li><p>if ever you are fool enough to want to control your loggings just a little bit by adding an appender at runtime, you can do that by using the core classes. But these psychopaths will punish you: when you add an appender to a logger... the method also +removes+ all previous appenders created by the configuration file.</p>\n</li>\n</ul>\n<p>I have been using log4j for years and years happily because it was simple and working. Now after some time using the log4j2 s**t I really believe I should switch to something else.</p>\n<p>So my answer is: don't migrate to log4j2. Check slf4j for instance.</p>\n"}],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":32457878,"answer_count":3,"score":2,"last_activity_date":1681470771,"creation_date":1441714379,"question_id":32457549,"body_markdown":"We are evolving our corporate Java EE infraestructure and are considering a change in our logging platform. We are currently using **slf4j** as the API and **log4j1** as the underlying logging implementation.\r\n\r\nSince we don&#39;t directly use log4j&#39;s API, but sf4j&#39;s, it&#39;s all a matter of configuration changes, which have already been done.\r\n\r\nOur use of the logging system is pretty basic, so we don&#39;t need features like log4j2&#39;s advance filtering.\r\n\r\nRegarding performance, according to the [docs][1], it doesn&#39;t seem to be a huge improvement.\r\n\r\nSo, do you think we should migrate our apps from slf4j+log4j1 to slf4j+log4j2? Why? What advantages do you think it provides?\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/performance.html","title":"Is it worth migrating from log4j1 to log4j2","body":"<p>We are evolving our corporate Java EE infraestructure and are considering a change in our logging platform. We are currently using <strong>slf4j</strong> as the API and <strong>log4j1</strong> as the underlying logging implementation.</p>\n\n<p>Since we don't directly use log4j's API, but sf4j's, it's all a matter of configuration changes, which have already been done.</p>\n\n<p>Our use of the logging system is pretty basic, so we don't need features like log4j2's advance filtering.</p>\n\n<p>Regarding performance, according to the <a href=\"https://logging.apache.org/log4j/2.x/performance.html\" rel=\"nofollow\">docs</a>, it doesn't seem to be a huge improvement.</p>\n\n<p>So, do you think we should migrate our apps from slf4j+log4j1 to slf4j+log4j2? Why? What advantages do you think it provides?</p>\n"},{"tags":["java","maven","logback"],"comments":[{"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"score":1,"creation_date":1681468679,"post_id":76014051,"comment_id":134064975,"body_markdown":"Make sure that the `logback.xml` file is placed under the folder &quot;src/main/resources/&quot;.","body":"Make sure that the <code>logback.xml</code> file is placed under the folder &quot;src/main/resources/&quot;."}],"answers":[{"tags":[],"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681470488,"creation_date":1681470488,"answer_id":76014481,"question_id":76014051,"body_markdown":"Here&#39;s how to print the current configuration at runtime:\r\n\r\nAdd the following lines to the code.\r\n\r\n```\r\nimport ch.qos.logback.classic.LoggerContext;\r\nimport ch.qos.logback.core.util.StatusPrinter;\r\n\r\n...\r\n\r\nLoggerContext loggerContext = (LoggerContext)LoggerFactory.getILoggerFactory();\r\nStatusPrinter.print(loggerContext);\r\n```\r\n\r\nFor example, if the config file is not found, it will print something like this:\r\n\r\n```\r\n11:37:34,150 |-INFO in ch.qos.logback.classic.LoggerContext[default] - This is logback-classic version ?\r\n11:37:34,173 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]\r\n11:37:34,173 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.xml]\r\n11:37:34,174 |-INFO in ch.qos.logback.classic.BasicConfigurator@7637f22 - Setting up default configuration.\r\n```\r\n","title":"How to test if logback is picking up configuration from logback.xml","body":"<p>Here's how to print the current configuration at runtime:</p>\n<p>Add the following lines to the code.</p>\n<pre><code>import ch.qos.logback.classic.LoggerContext;\nimport ch.qos.logback.core.util.StatusPrinter;\n\n...\n\nLoggerContext loggerContext = (LoggerContext)LoggerFactory.getILoggerFactory();\nStatusPrinter.print(loggerContext);\n</code></pre>\n<p>For example, if the config file is not found, it will print something like this:</p>\n<pre><code>11:37:34,150 |-INFO in ch.qos.logback.classic.LoggerContext[default] - This is logback-classic version ?\n11:37:34,173 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]\n11:37:34,173 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.xml]\n11:37:34,174 |-INFO in ch.qos.logback.classic.BasicConfigurator@7637f22 - Setting up default configuration.\n</code></pre>\n"}],"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":528,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681470488,"creation_date":1681467627,"question_id":76014051,"body_markdown":"I have written a short test code to experiment with the Java logging framework Logback.\r\n\r\nHowever, Logback doesn&#39;t seem to be picking up the configuration from the xml file.\r\n\r\nHere&#39;s the application code:\r\n\r\n```\r\npackage com.myname.logbackexample;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class App \r\n{\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(App.class);\r\n    private static final Logger anotherLogger = LoggerFactory.getLogger(&quot;anotherLogger&quot;);\r\n    private static final Logger fileLogger = LoggerFactory.getLogger(&quot;filelog&quot;);\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        System.out.println(&quot;Hello World from System.out&quot;);\r\n\r\n        logger.debug(&quot;Hello world from Logback&quot;);\r\n        logger.debug(&quot;getNumber() : {}&quot;, getNumber());\r\n\r\n        logger.warn(&quot;This is a warning&quot;);\r\n        logger.error(&quot;This is an error&quot;);\r\n        logger.info(&quot;This is info&quot;);\r\n        logger.trace(&quot;This is trace&quot;);\r\n\r\n        anotherLogger.debug(&quot;Debug from anotherLogger&quot;);\r\n\r\n        fileLogger.debug(&quot;Debug log to file from fileLogger -&gt; filelog&quot;);\r\n    }\r\n\r\n    static int getNumber() {\r\n        return 10;\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere is my configuration file `logback.xml`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n\r\n    &lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n            &lt;Pattern&gt;\r\n                %d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\r\n            &lt;/Pattern&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;simpleConsole&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n            &lt;Pattern&gt;\r\n                %-5level %logger{36}: %msg%n\r\n            &lt;/Pattern&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;logger name=&quot;com.myname&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;simpleConsole&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;logger name=&quot;com.myname.logbackexample.App&quot; level=&quot;warn&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;console&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;logger name=&quot;anotherLogger&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;simpleConsole&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;root level=&quot;error&quot;&gt;\r\n        &lt;appender-ref ref=&quot;console&quot;/&gt;\r\n    &lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n```\r\n\r\n\r\nThis is the output produce when I package and run this code:\r\n\r\n```\r\n$ java -jar target/logback-example-1.0-SNAPSHOT-jar-with-dependencies.jar\r\nHello World from System.out\r\n11:13:32.504 [main] DEBUG com.myname.logbackexample.App -- Hello world from Logback\r\n11:13:32.507 [main] DEBUG com.myname.logbackexample.App -- getNumber() : 10\r\n11:13:32.508 [main] WARN com.myname.logbackexample.App -- This is a warning\r\n11:13:32.508 [main] ERROR com.myname.logbackexample.App -- This is an error\r\n11:13:32.508 [main] INFO com.myname.logbackexample.App -- This is info\r\n11:13:32.508 [main] DEBUG anotherLogger -- Debug from anotherLogger\r\n11:13:32.508 [main] DEBUG filelog -- Debug log to file from fileLogger -&gt; filelog\r\n```\r\n\r\n\r\nFinally, my `pom.xml`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.myname.logbackexmaple&lt;/groupId&gt;\r\n  &lt;artifactId&gt;logback-example&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;name&gt;logback-example&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;default-jar&lt;/id&gt;\r\n              &lt;phase&gt;none&lt;/phase&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.1&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;single&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.7.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n              &lt;mainClass&gt;com.myname.logbackexample.App&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n          &lt;/descriptorRefs&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;mainClass&gt;com.myname.logbackexample.App&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nI would expect to get different log levels and output formats depending on which logger is being logged to.\r\n\r\nThis doesn&#39;t seem to be happening as I would expect.\r\n\r\nFor example, `anotherLogger` should be set to a log level of `error`, but it produces output at debug level.\r\n\r\nHow can I test whether the configuration file `logback.xml` is being read and processed by the code when it is run?","title":"How to test if logback is picking up configuration from logback.xml","body":"<p>I have written a short test code to experiment with the Java logging framework Logback.</p>\n<p>However, Logback doesn't seem to be picking up the configuration from the xml file.</p>\n<p>Here's the application code:</p>\n<pre><code>package com.myname.logbackexample;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class App \n{\n\n    private static final Logger logger = LoggerFactory.getLogger(App.class);\n    private static final Logger anotherLogger = LoggerFactory.getLogger(&quot;anotherLogger&quot;);\n    private static final Logger fileLogger = LoggerFactory.getLogger(&quot;filelog&quot;);\n\n    public static void main(String[] args)\n    {\n        System.out.println(&quot;Hello World from System.out&quot;);\n\n        logger.debug(&quot;Hello world from Logback&quot;);\n        logger.debug(&quot;getNumber() : {}&quot;, getNumber());\n\n        logger.warn(&quot;This is a warning&quot;);\n        logger.error(&quot;This is an error&quot;);\n        logger.info(&quot;This is info&quot;);\n        logger.trace(&quot;This is trace&quot;);\n\n        anotherLogger.debug(&quot;Debug from anotherLogger&quot;);\n\n        fileLogger.debug(&quot;Debug log to file from fileLogger -&gt; filelog&quot;);\n    }\n\n    static int getNumber() {\n        return 10;\n    }\n}\n</code></pre>\n<p>Here is my configuration file <code>logback.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n\n    &lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;Pattern&gt;\n                %d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\n            &lt;/Pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;simpleConsole&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;Pattern&gt;\n                %-5level %logger{36}: %msg%n\n            &lt;/Pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=&quot;com.myname&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;simpleConsole&quot;/&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=&quot;com.myname.logbackexample.App&quot; level=&quot;warn&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;console&quot;/&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=&quot;anotherLogger&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;simpleConsole&quot;/&gt;\n    &lt;/logger&gt;\n\n    &lt;root level=&quot;error&quot;&gt;\n        &lt;appender-ref ref=&quot;console&quot;/&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>This is the output produce when I package and run this code:</p>\n<pre><code>$ java -jar target/logback-example-1.0-SNAPSHOT-jar-with-dependencies.jar\nHello World from System.out\n11:13:32.504 [main] DEBUG com.myname.logbackexample.App -- Hello world from Logback\n11:13:32.507 [main] DEBUG com.myname.logbackexample.App -- getNumber() : 10\n11:13:32.508 [main] WARN com.myname.logbackexample.App -- This is a warning\n11:13:32.508 [main] ERROR com.myname.logbackexample.App -- This is an error\n11:13:32.508 [main] INFO com.myname.logbackexample.App -- This is info\n11:13:32.508 [main] DEBUG anotherLogger -- Debug from anotherLogger\n11:13:32.508 [main] DEBUG filelog -- Debug log to file from fileLogger -&gt; filelog\n</code></pre>\n<p>Finally, my <code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.myname.logbackexmaple&lt;/groupId&gt;\n  &lt;artifactId&gt;logback-example&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;logback-example&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n      &lt;version&gt;1.4.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;default-jar&lt;/id&gt;\n              &lt;phase&gt;none&lt;/phase&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.1&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;single&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n              &lt;mainClass&gt;com.myname.logbackexample.App&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;mainClass&gt;com.myname.logbackexample.App&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I would expect to get different log levels and output formats depending on which logger is being logged to.</p>\n<p>This doesn't seem to be happening as I would expect.</p>\n<p>For example, <code>anotherLogger</code> should be set to a log level of <code>error</code>, but it produces output at debug level.</p>\n<p>How can I test whether the configuration file <code>logback.xml</code> is being read and processed by the code when it is run?</p>\n"},{"tags":["java","regex","split"],"comments":[{"owner":{"account_id":100259,"reputation":2880,"user_id":270349,"accept_rate":62,"display_name":"aalku"},"score":0,"creation_date":1446723600,"post_id":33543530,"comment_id":54867048,"body_markdown":"@blank :D Funny solution but there is too much computation work there and if the separator is not a single character I would have to reverse it too...","body":"@blank :D Funny solution but there is too much computation work there and if the separator is not a single character I would have to reverse it too..."},{"owner":{"account_id":1016,"reputation":17962,"user_id":1348,"accept_rate":88,"display_name":"blank"},"score":0,"creation_date":1446723796,"post_id":33543530,"comment_id":54867169,"body_markdown":"too much computation? we have computers for this kind of stuff! but yes it does become more complicated","body":"too much computation? we have computers for this kind of stuff! but yes it does become more complicated"},{"owner":{"account_id":100259,"reputation":2880,"user_id":270349,"accept_rate":62,"display_name":"aalku"},"score":0,"creation_date":1446724021,"post_id":33543530,"comment_id":54867307,"body_markdown":"@blank Imagine you have to do it 100000 times per second.","body":"@blank Imagine you have to do it 100000 times per second."}],"answers":[{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1446724067,"creation_date":1446723562,"answer_id":33543608,"question_id":33543530,"body_markdown":"You may use look-ahead match:\r\n\r\n    &quot;a.b.c&quot;.split(&quot;[.](?=[^.]*$)&quot;)\r\n\r\nHere you say &quot;I want to split by only that dot which has no other dots after it&quot;.\r\n\r\nIf you want to split by last N dots, you can generalize this solution in this (even more ugly way):\r\n\r\n    &quot;dfsga.sdgdsb.dsgc.dsgsdfg.dsdg.sdfg.sdf&quot;.split(&quot;[.](?=([^.]*[.]){0,3}[^.]*$)&quot;);\r\n\r\nReplace `3` with `N-2`.\r\n\r\nHowever I would write a short static method instead:\r\n\r\n\tpublic static String[] splitAtLastDot(String s) {\r\n\t\tint pos = s.lastIndexOf(&#39;.&#39;);\r\n\t\tif(pos == -1)\r\n\t\t\treturn new String[] {s};\r\n\t\treturn new String[] {s.substring(0, pos), s.substring(pos+1)};\r\n\t}\r\n","title":"How do I split a string with a limit starting by the right in java?","body":"<p>You may use look-ahead match:</p>\n\n<pre><code>\"a.b.c\".split(\"[.](?=[^.]*$)\")\n</code></pre>\n\n<p>Here you say \"I want to split by only that dot which has no other dots after it\".</p>\n\n<p>If you want to split by last N dots, you can generalize this solution in this (even more ugly way):</p>\n\n<pre><code>\"dfsga.sdgdsb.dsgc.dsgsdfg.dsdg.sdfg.sdf\".split(\"[.](?=([^.]*[.]){0,3}[^.]*$)\");\n</code></pre>\n\n<p>Replace <code>3</code> with <code>N-2</code>.</p>\n\n<p>However I would write a short static method instead:</p>\n\n<pre><code>public static String[] splitAtLastDot(String s) {\n    int pos = s.lastIndexOf('.');\n    if(pos == -1)\n        return new String[] {s};\n    return new String[] {s.substring(0, pos), s.substring(pos+1)};\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446723774,"creation_date":1446723774,"answer_id":33543668,"question_id":33543530,"body_markdown":"Despite that you said reversing would take to long, here&#180;s a small programm that reveres the String and splits it by the limit;\r\n\r\n\r\n    static String[] leftSplit(String input, String regex, int limit) {\r\n\t\tString reveresedInput = new StringBuilder(input).reverse().toString();\r\n\t\tString[] output = reveresedInput.split(regex, limit);\r\n\t\tString tempOutput[] = new String[output.length];\r\n\t\tfor(int i = 0;i&lt;output.length;++i) {\r\n\t\t\ttempOutput[tempOutput.length-i-1] = new StringBuilder(output[i]).reverse().toString();\r\n\t\t}\r\n\t\treturn tempOutput;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(Arrays.toString(leftSplit(&quot;a.b.c&quot;, &quot;[.]&quot;, 2)));\r\n\t\tSystem.out.println(Arrays.toString(leftSplit(&quot;I want to. Split this. by the. right side&quot;, &quot;[.]&quot;, 2)));\r\n\t}","title":"How do I split a string with a limit starting by the right in java?","body":"<p>Despite that you said reversing would take to long, here´s a small programm that reveres the String and splits it by the limit;</p>\n\n<pre><code>static String[] leftSplit(String input, String regex, int limit) {\n    String reveresedInput = new StringBuilder(input).reverse().toString();\n    String[] output = reveresedInput.split(regex, limit);\n    String tempOutput[] = new String[output.length];\n    for(int i = 0;i&lt;output.length;++i) {\n        tempOutput[tempOutput.length-i-1] = new StringBuilder(output[i]).reverse().toString();\n    }\n    return tempOutput;\n}\n\npublic static void main(String[] args) {\n    System.out.println(Arrays.toString(leftSplit(\"a.b.c\", \"[.]\", 2)));\n    System.out.println(Arrays.toString(leftSplit(\"I want to. Split this. by the. right side\", \"[.]\", 2)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5847794,"reputation":5365,"user_id":4607417,"accept_rate":67,"display_name":"m.cekiera"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1446739861,"creation_date":1446739861,"answer_id":33549497,"question_id":33543530,"body_markdown":"I would try with something like this:\r\n\r\n    public List&lt;String&gt; splitRight(String string, String regex, int limit) {\r\n        List&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n        String[] temp = new String[0];\r\n        for(int i = 1; i &lt; limit; i++) {\r\n            if(string.matches(&quot;.*&quot;+regex+&quot;.*&quot;)) {\r\n                temp = string.split(modifyRegex(regex));\r\n                result.add(temp[1]);\r\n                string = temp[0];\r\n            }\r\n        }\r\n        if(temp.length&gt;0) { \r\n            result.add(temp[0]);\r\n        }\r\n        Collections.reverse(result);\r\n        return result;\r\n    }\r\n\r\n    public String modifyRegex(String regex){\r\n        return regex + &quot;(?!.*&quot; + regex + &quot;.*$)&quot;;\r\n    }\r\n\r\nThe regular expression for split is wrapped by another, so for `\\\\.`, you will get: `\\\\.(?!.*\\\\..*$)`, to match and split on last occurance of delimiter. The string is splitted multiple time with this regex, the second element of result array is added to List&lt;String&gt;, next split is done on first element of result array.\r\n\r\nThe effect of above method for your example string is as expected. \r\n","title":"How do I split a string with a limit starting by the right in java?","body":"<p>I would try with something like this:</p>\n\n<pre><code>public List&lt;String&gt; splitRight(String string, String regex, int limit) {\n    List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n    String[] temp = new String[0];\n    for(int i = 1; i &lt; limit; i++) {\n        if(string.matches(\".*\"+regex+\".*\")) {\n            temp = string.split(modifyRegex(regex));\n            result.add(temp[1]);\n            string = temp[0];\n        }\n    }\n    if(temp.length&gt;0) { \n        result.add(temp[0]);\n    }\n    Collections.reverse(result);\n    return result;\n}\n\npublic String modifyRegex(String regex){\n    return regex + \"(?!.*\" + regex + \".*$)\";\n}\n</code></pre>\n\n<p>The regular expression for split is wrapped by another, so for <code>\\\\.</code>, you will get: <code>\\\\.(?!.*\\\\..*$)</code>, to match and split on last occurance of delimiter. The string is splitted multiple time with this regex, the second element of result array is added to List, next split is done on first element of result array.</p>\n\n<p>The effect of above method for your example string is as expected. </p>\n"},{"tags":[],"owner":{"account_id":16525221,"reputation":31,"user_id":11940205,"display_name":"barbarous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681470077,"creation_date":1681469700,"answer_id":76014365,"question_id":33543530,"body_markdown":"Performance isn&#39;t good but readability is better than some of examples above:\r\n\r\n    List l = Arrays.stream(new StringBuilder(&quot;a.b.c&quot;).reverse().toString().split(&quot;\\\\.&quot;, 2))\r\n    .map(StringBuilder::new).map(StringBuilder::reverse).collect(toList());\r\n    Collections.reverse(l);\r\n\r\n","title":"How do I split a string with a limit starting by the right in java?","body":"<p>Performance isn't good but readability is better than some of examples above:</p>\n<pre><code>List l = Arrays.stream(new StringBuilder(&quot;a.b.c&quot;).reverse().toString().split(&quot;\\\\.&quot;, 2))\n.map(StringBuilder::new).map(StringBuilder::reverse).collect(toList());\nCollections.reverse(l);\n</code></pre>\n"}],"owner":{"account_id":100259,"reputation":2880,"user_id":270349,"accept_rate":62,"display_name":"aalku"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3093,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":33549497,"answer_count":4,"score":6,"last_activity_date":1681470077,"creation_date":1446723291,"question_id":33543530,"body_markdown":"Split without limits split the entire string but if you set a limit it splits up to that limit by the left. How can I do the same by the right?\r\n\r\n    &quot;a.b.c&quot;.split(&quot;[.]&quot;, 2); // returns [&quot;a&quot;, &quot;b.c&quot;]\r\n\r\nI would want\r\n\r\n    &quot;a.b.c&quot;.splitRight(&quot;[.]&quot;, 2); // to return [&quot;a.b&quot;, &quot;c&quot;]\r\n\r\nEDIT: I want a general solution that works just like splited but reversed so I add a more complex example\r\n\r\nI would want\r\n\r\n    &quot;a(-&gt;)b(-&gt;)c(-&gt;)d&quot;.splitRight(&quot;\\\\(-&gt;\\\\)&quot;, 3); // to return [&quot;a(-&gt;)b&quot;, &quot;c&quot;, &quot;d&quot;]\r\n","title":"How do I split a string with a limit starting by the right in java?","body":"<p>Split without limits split the entire string but if you set a limit it splits up to that limit by the left. How can I do the same by the right?</p>\n\n<pre><code>\"a.b.c\".split(\"[.]\", 2); // returns [\"a\", \"b.c\"]\n</code></pre>\n\n<p>I would want</p>\n\n<pre><code>\"a.b.c\".splitRight(\"[.]\", 2); // to return [\"a.b\", \"c\"]\n</code></pre>\n\n<p>EDIT: I want a general solution that works just like splited but reversed so I add a more complex example</p>\n\n<p>I would want</p>\n\n<pre><code>\"a(-&gt;)b(-&gt;)c(-&gt;)d\".splitRight(\"\\\\(-&gt;\\\\)\", 3); // to return [\"a(-&gt;)b\", \"c\", \"d\"]\n</code></pre>\n"},{"tags":["java","xml","jackson","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681469659,"creation_date":1681464360,"answer_id":76013532,"question_id":76012983,"body_markdown":"Jackson does not have a special annotation for recursive style objects. It will handle any reference, whether recursive or not.\r\n\r\nThis should do what you want: (you may need Lombok or getters, setters, default constructor)\r\n\r\n    @XmlRootElement(name = &quot;root&quot;)\r\n    class Root {\r\n        private List&lt;Group&gt; groups;\r\n    }\r\n\r\n\r\n    @XmlRootElement(name = &quot;object&quot;) \r\n    class Item {\r\n        private ItemData item;\r\n    }\r\n\r\n    class Group {\r\n        @JsonProperty(&quot;group_data&quot;)\r\n        private String groupData;\r\n       \r\n\r\n        private List&lt;Group&gt; groups;\r\n   \r\n        @JacksonXmlElementWrapper(useWrapping = false)\r\n        private List&lt;Item&gt; items;\r\n\r\n    }\r\n    \r\n    class ItemData {\r\n        private String itemName;\r\n    }\r\n\r\n\r\n\r\n","title":"How deserialize nesting with various depthion with Jackson?","body":"<p>Jackson does not have a special annotation for recursive style objects. It will handle any reference, whether recursive or not.</p>\n<p>This should do what you want: (you may need Lombok or getters, setters, default constructor)</p>\n<pre><code>@XmlRootElement(name = &quot;root&quot;)\nclass Root {\n    private List&lt;Group&gt; groups;\n}\n\n\n@XmlRootElement(name = &quot;object&quot;) \nclass Item {\n    private ItemData item;\n}\n\nclass Group {\n    @JsonProperty(&quot;group_data&quot;)\n    private String groupData;\n   \n\n    private List&lt;Group&gt; groups;\n\n    @JacksonXmlElementWrapper(useWrapping = false)\n    private List&lt;Item&gt; items;\n\n}\n\nclass ItemData {\n    private String itemName;\n}\n</code></pre>\n"}],"owner":{"account_id":2349284,"reputation":391,"user_id":2058593,"accept_rate":0,"display_name":"r00tGER"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681469659,"creation_date":1681460391,"question_id":76012983,"body_markdown":"I have xml with recursive nesting:\r\n\r\n```xml\r\n&lt;root&gt;\r\n  &lt;groups&gt;\r\n    &lt;group&gt;\r\n      &lt;group_data&gt;...group data...&lt;/group_data&gt;\r\n      &lt;object&gt;...object data...&lt;/object&gt;\r\n      &lt;object&gt;...object data...&lt;/object&gt;\r\n      &lt;groups&gt;\r\n        &lt;gropup&gt;\r\n          &lt;group_data&gt;...group data...&lt;/group_data&gt;\r\n          &lt;object&gt;...object data...&lt;/object&gt;\r\n\t      &lt;groups&gt;\r\n\t        &lt;group&gt;\r\n              &lt;group_data&gt;...group data...&lt;/group_data&gt;\r\n\t          &lt;object&gt;...object data...&lt;/object&gt;\r\n\t          &lt;object&gt;...object data...&lt;/object&gt;\r\n\t        &lt;/group&gt;\r\n\t        &lt;group&gt;\r\n              &lt;group_data&gt;...group data...&lt;/group_data&gt;\r\n\t          &lt;object&gt;...object data...&lt;/object&gt;\r\n\t        &lt;/group&gt;\r\n\t      &lt;/goups&gt;\r\n        &lt;/group&gt;\r\n      &lt;/groups&gt;\r\n    &lt;/group&gt;\r\n  &lt;/groups&gt;\r\n&lt;/root&gt;\r\n```\r\n\r\nNesting depth can be any.\r\n\r\nHow to collect all objects with full chain groups data?\r\n\r\nSomething like this:\r\n\r\n```java\r\nclass Item {\r\n    private ItemData item;\r\n}\r\n\r\nclass Group {\r\n    private String groupData;\r\n    private List&lt;Group&gt; groups;\r\n    private List&lt;Item&gt; Items;\r\n}\r\n\r\nclass ItemData {\r\n    private String itemName;\r\n}\r\n```\r\n\r\nHow in Jackson annotate recursive structure?","title":"How deserialize nesting with various depthion with Jackson?","body":"<p>I have xml with recursive nesting:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;root&gt;\n  &lt;groups&gt;\n    &lt;group&gt;\n      &lt;group_data&gt;...group data...&lt;/group_data&gt;\n      &lt;object&gt;...object data...&lt;/object&gt;\n      &lt;object&gt;...object data...&lt;/object&gt;\n      &lt;groups&gt;\n        &lt;gropup&gt;\n          &lt;group_data&gt;...group data...&lt;/group_data&gt;\n          &lt;object&gt;...object data...&lt;/object&gt;\n          &lt;groups&gt;\n            &lt;group&gt;\n              &lt;group_data&gt;...group data...&lt;/group_data&gt;\n              &lt;object&gt;...object data...&lt;/object&gt;\n              &lt;object&gt;...object data...&lt;/object&gt;\n            &lt;/group&gt;\n            &lt;group&gt;\n              &lt;group_data&gt;...group data...&lt;/group_data&gt;\n              &lt;object&gt;...object data...&lt;/object&gt;\n            &lt;/group&gt;\n          &lt;/goups&gt;\n        &lt;/group&gt;\n      &lt;/groups&gt;\n    &lt;/group&gt;\n  &lt;/groups&gt;\n&lt;/root&gt;\n</code></pre>\n<p>Nesting depth can be any.</p>\n<p>How to collect all objects with full chain groups data?</p>\n<p>Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Item {\n    private ItemData item;\n}\n\nclass Group {\n    private String groupData;\n    private List&lt;Group&gt; groups;\n    private List&lt;Item&gt; Items;\n}\n\nclass ItemData {\n    private String itemName;\n}\n</code></pre>\n<p>How in Jackson annotate recursive structure?</p>\n"},{"tags":["java","azure"],"answers":[{"tags":[],"owner":{"account_id":24283882,"reputation":7637,"user_id":18229928,"display_name":"Rukmini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681469050,"creation_date":1681469050,"answer_id":76014272,"question_id":76013598,"body_markdown":"***I tried to reproduce the same in my environment and got the results like below:***\r\n\r\n&gt; **Note** that: To get/read the calendar, the Azure AD Application must have **`Calendars.Read`** API permission.\r\n\r\nI created an **Azure AD Application and granted API permissions** like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/LRozI.png)\r\n\r\nNow I generated **access token** via Postman using below parameters:\r\n```json\r\nhttps://login.microsoftonline.com/TenantID/oauth2/v2.0/token\r\n\r\nclient_id:ClientID\r\nclient_secret:ClientSecret\r\nusername:user1@xxxx.onmicrosoft.com\r\npassword:****\r\ngrant_type:password\r\nscope:https://graph.microsoft.com/.default \r\n```\r\n\r\n![enter image description here](https://i.stack.imgur.com/lIeQ7.png)\r\n\r\nMake sure the **`Calendars.Read`**  API permission is present when you decode the token like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/CvS3g.png)\r\n\r\n**I am able to get the calendar details successfully like below:**\r\n```json\r\nhttps://graph.microsoft.com/v1.0/me/calendar\r\n```\r\n\r\n![enter image description here](https://i.stack.imgur.com/Zcrdr.png)","title":"Using azure.identity.UsernamePasswordCredential and error: AADSTS65001: The user or administrator has not consented to use the application with ID","body":"<p><em><strong>I tried to reproduce the same in my environment and got the results like below:</strong></em></p>\n<blockquote>\n<p><strong>Note</strong> that: To get/read the calendar, the Azure AD Application must have <strong><code>Calendars.Read</code></strong> API permission.</p>\n</blockquote>\n<p>I created an <strong>Azure AD Application and granted API permissions</strong> like below:</p>\n<p><img src=\"https://i.stack.imgur.com/LRozI.png\" alt=\"enter image description here\" /></p>\n<p>Now I generated <strong>access token</strong> via Postman using below parameters:</p>\n<pre class=\"lang-json prettyprint-override\"><code>https://login.microsoftonline.com/TenantID/oauth2/v2.0/token\n\nclient_id:ClientID\nclient_secret:ClientSecret\nusername:user1@xxxx.onmicrosoft.com\npassword:****\ngrant_type:password\nscope:https://graph.microsoft.com/.default \n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/lIeQ7.png\" alt=\"enter image description here\" /></p>\n<p>Make sure the <strong><code>Calendars.Read</code></strong>  API permission is present when you decode the token like below:</p>\n<p><img src=\"https://i.stack.imgur.com/CvS3g.png\" alt=\"enter image description here\" /></p>\n<p><strong>I am able to get the calendar details successfully like below:</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>https://graph.microsoft.com/v1.0/me/calendar\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/Zcrdr.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":28293149,"reputation":13,"user_id":21632974,"display_name":"Eric Du"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76014272,"answer_count":1,"score":1,"last_activity_date":1681469050,"creation_date":1681464773,"question_id":76013598,"body_markdown":"I am using the microsoft graph-sdk-java to read canlendar from outlook with a User scope by using UsernamePasswordCredential authorization. First, I try to get user&#39;s information.\r\n```\r\n        final UsernamePasswordCredential usernamePasswordCredential = new UsernamePasswordCredentialBuilder()\r\n                .clientId(CLIENT_ID)\r\n                .username(username)\r\n                .password(password)\r\n                .build();\r\n\r\n        final TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(getScopes(), usernamePasswordCredential);\r\n\r\n        final GraphServiceClient&lt;Request&gt; graphClient = GraphServiceClient\r\n                        .builder()\r\n                        .authenticationProvider(tokenCredentialAuthProvider)\r\n                        .buildClient();\r\n\r\n        final User me = graphClient.me().buildRequest().get();\r\n```\r\nThen, I running the program and have a problem below.\r\n\r\n```\r\ncom.microsoft.aad.msal4j.MsalInteractionRequiredException: AADSTS65001: The user or administrator has not consented to use the application with ID &lt;application_id&gt;. Send an interactive authorization request for this user and resource.\r\n```\r\nThe application has been registered in the tenant&#39;s Azure AD. I think there&#39;s a problem with app&#39;s API permissions.\r\n\r\n[![\\[enter image description here\\](https://i.stack.imgur.com/lMXYF.png)][1]][1]\r\n\r\n\r\nHow do I handler this error and get calendar&#39;s event without interactive authorization?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VjDWb.png","title":"Using azure.identity.UsernamePasswordCredential and error: AADSTS65001: The user or administrator has not consented to use the application with ID","body":"<p>I am using the microsoft graph-sdk-java to read canlendar from outlook with a User scope by using UsernamePasswordCredential authorization. First, I try to get user's information.</p>\n<pre><code>        final UsernamePasswordCredential usernamePasswordCredential = new UsernamePasswordCredentialBuilder()\n                .clientId(CLIENT_ID)\n                .username(username)\n                .password(password)\n                .build();\n\n        final TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(getScopes(), usernamePasswordCredential);\n\n        final GraphServiceClient&lt;Request&gt; graphClient = GraphServiceClient\n                        .builder()\n                        .authenticationProvider(tokenCredentialAuthProvider)\n                        .buildClient();\n\n        final User me = graphClient.me().buildRequest().get();\n</code></pre>\n<p>Then, I running the program and have a problem below.</p>\n<pre><code>com.microsoft.aad.msal4j.MsalInteractionRequiredException: AADSTS65001: The user or administrator has not consented to use the application with ID &lt;application_id&gt;. Send an interactive authorization request for this user and resource.\n</code></pre>\n<p>The application has been registered in the tenant's Azure AD. I think there's a problem with app's API permissions.</p>\n<p><a href=\"https://i.stack.imgur.com/VjDWb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VjDWb.png\" alt=\"[enter image description here](https://i.stack.imgur.com/lMXYF.png)\" /></a></p>\n<p>How do I handler this error and get calendar's event without interactive authorization?</p>\n"},{"tags":["java","mysql","sql","hibernate","select"],"comments":[{"owner":{"account_id":6093107,"reputation":23142,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"score":0,"creation_date":1498220925,"post_id":44641851,"comment_id":76425064,"body_markdown":"Mind posting the error you get with your attempt?","body":"Mind posting the error you get with your attempt?"},{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1498423544,"post_id":44641851,"comment_id":76481840,"body_markdown":"is done pal thanks a lot","body":"is done pal thanks a lot"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1498509910,"post_id":44641851,"comment_id":76517825,"body_markdown":"Please provide the value of the variable `activeRecord` leading into the code you provided.  If it is simply `true`, then the code you provided did _not_ generate the error message you provided.","body":"Please provide the value of the variable <code>activeRecord</code> leading into the code you provided.  If it is simply <code>true</code>, then the code you provided did <i>not</i> generate the error message you provided."}],"answers":[{"tags":[],"owner":{"account_id":8136221,"reputation":133,"user_id":6127753,"display_name":"Pradip Wawge"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497945365,"creation_date":1497945365,"answer_id":44647094,"question_id":44641851,"body_markdown":"    you have to use HQL Query for bulk update. you are going write way only thing is that, you have to create HQL query for example\r\n    \r\n    \r\n        Your Query Might be like this:-\r\n        final String tableName = ((Table)clazz.getAnnotation(Table.class)).name();\r\n            final String sqlQuery = new StringBuilder(&quot;SET @ids = NULL; &quot;)\r\n                    .append(&quot;UPDATE &quot;)\r\n                    .append(tableName)\r\n                    .append(&#39; &#39;)\r\n                    .append(&quot;set activeRecord=:activeRecord &quot;)\r\n                    .append(&quot;where activeRecord=true and updateable=true &quot;)\r\n                    .append(&quot;and (SELECT @ids \\\\:= CONCAT_WS(&#39;,&#39;, id, @ids)); &quot;)\r\n                    .append(&quot;select @ids;&quot;)\r\n                    .toString();\r\n            final Query query = session.createQuery(sqlQuery)\r\n                    .setParameter(&quot;activeRecord&quot;,Boolean.FALSE);\r\n            final Object idsList=query.executeUpdate();\r\n        \r\n        Example Query:\r\n        final String tableName = ((Table)clazz.getAnnotation(Table.class)).name();\r\n           Query qry = session.createQuery(&quot;update &quot;+tableName+&quot; p set p.proName=?\r\n        where p.productId=111&quot;);\r\n        \t        qry.setParameter(0,&quot;updated..&quot;);\r\n        \t        int res = qry.executeUpdate();","title":"Java Hibernate org.hibernate.exception.SQLGrammarException: could not extract ResultSet on createSQLQuery","body":"<pre><code>you have to use HQL Query for bulk update. you are going write way only thing is that, you have to create HQL query for example\n\n\n    Your Query Might be like this:-\n    final String tableName = ((Table)clazz.getAnnotation(Table.class)).name();\n        final String sqlQuery = new StringBuilder(\"SET @ids = NULL; \")\n                .append(\"UPDATE \")\n                .append(tableName)\n                .append(' ')\n                .append(\"set activeRecord=:activeRecord \")\n                .append(\"where activeRecord=true and updateable=true \")\n                .append(\"and (SELECT @ids \\\\:= CONCAT_WS(',', id, @ids)); \")\n                .append(\"select @ids;\")\n                .toString();\n        final Query query = session.createQuery(sqlQuery)\n                .setParameter(\"activeRecord\",Boolean.FALSE);\n        final Object idsList=query.executeUpdate();\n\n    Example Query:\n    final String tableName = ((Table)clazz.getAnnotation(Table.class)).name();\n       Query qry = session.createQuery(\"update \"+tableName+\" p set p.proName=?\n    where p.productId=111\");\n                qry.setParameter(0,\"updated..\");\n                int res = qry.executeUpdate();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6728426,"reputation":5601,"user_id":5185646,"accept_rate":72,"display_name":"Dmitry Senkovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1498029582,"creation_date":1497985226,"answer_id":44661060,"question_id":44641851,"body_markdown":"I suppose, you won&#39;t be able to make it in Hibernate fashion.\r\n\r\nHibernate is independent from a database. But the part of the query that initializes a variable (I mean `set @ids = null;`) is not portable across all the relational databases so I wouldn&#39;t expect it to be in Hibernate API somewhere.","title":"Java Hibernate org.hibernate.exception.SQLGrammarException: could not extract ResultSet on createSQLQuery","body":"<p>I suppose, you won't be able to make it in Hibernate fashion.</p>\n\n<p>Hibernate is independent from a database. But the part of the query that initializes a variable (I mean <code>set @ids = null;</code>) is not portable across all the relational databases so I wouldn't expect it to be in Hibernate API somewhere.</p>\n"},{"tags":[],"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498584207,"creation_date":1498510315,"answer_id":44768486,"question_id":44641851,"body_markdown":"There is no &quot;affected id&quot; in an `UPDATE` statement.\r\n\r\n    UPDATE student\r\n        set activeRecord=false,uid=1\r\n        where activeRecord=true\r\n\r\nmay modify 0 rows, 1 rows, or many rows.\r\n\r\nWhat is the `PRIMARY KEY` of `student`?  Let&#39;s say it is `studentId`.  To retrieve all (if any) of the `studentId` values, you neecd the Hibernate equivalent of this pseudo-code:\r\n\r\n    START TRANSACTION;\r\n    @ids = SELECT studentId\r\n               FROM student\r\n               WHERE activeRecord=true  -- and updateable=true ??\r\n               FOR UPDATE;\r\n    UPDATE student\r\n        SET activeRecord=false,\r\n            uid=1\r\n        WHERE activeRecord=true  -- and updateable=true ??\r\n        ;\r\n    COMMIT;\r\n\r\n**More**\r\n\r\nThat code could be bundled up in a Stored Procedure, thereby allowing it to be `CALLed` as if a single statement.  (I do not know how to make it work with Hibernate.)","title":"Java Hibernate org.hibernate.exception.SQLGrammarException: could not extract ResultSet on createSQLQuery","body":"<p>There is no \"affected id\" in an <code>UPDATE</code> statement.</p>\n\n<pre><code>UPDATE student\n    set activeRecord=false,uid=1\n    where activeRecord=true\n</code></pre>\n\n<p>may modify 0 rows, 1 rows, or many rows.</p>\n\n<p>What is the <code>PRIMARY KEY</code> of <code>student</code>?  Let's say it is <code>studentId</code>.  To retrieve all (if any) of the <code>studentId</code> values, you neecd the Hibernate equivalent of this pseudo-code:</p>\n\n<pre><code>START TRANSACTION;\n@ids = SELECT studentId\n           FROM student\n           WHERE activeRecord=true  -- and updateable=true ??\n           FOR UPDATE;\nUPDATE student\n    SET activeRecord=false,\n        uid=1\n    WHERE activeRecord=true  -- and updateable=true ??\n    ;\nCOMMIT;\n</code></pre>\n\n<p><strong>More</strong></p>\n\n<p>That code could be bundled up in a Stored Procedure, thereby allowing it to be <code>CALLed</code> as if a single statement.  (I do not know how to make it work with Hibernate.)</p>\n"},{"tags":[],"owner":{"account_id":1038817,"reputation":89,"user_id":1045330,"accept_rate":100,"display_name":"PanBrambor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498749122,"creation_date":1498749122,"answer_id":44828969,"question_id":44641851,"body_markdown":"I would sugest extracting records to be updated as list of entity, then you can iterate to set values, persist and still return afected ids at the end of your method","title":"Java Hibernate org.hibernate.exception.SQLGrammarException: could not extract ResultSet on createSQLQuery","body":"<p>I would sugest extracting records to be updated as list of entity, then you can iterate to set values, persist and still return afected ids at the end of your method</p>\n"}],"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1103,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44661060,"answer_count":4,"score":4,"last_activity_date":1681468941,"creation_date":1497918224,"question_id":44641851,"body_markdown":"I have this method:\r\n\r\n    private final void updateAllTableFields(final Class clazz){\r\n        final String tableName = ((Table)clazz.getAnnotation(Table.class)).name();\r\n        final String sqlQuery = new StringBuilder(&quot;SET @ids = NULL; &quot;)\r\n                .append(&quot;UPDATE &quot;)\r\n                .append(tableName)\r\n                .append(&#39; &#39;)\r\n                .append(&quot;set activeRecord=:activeRecord &quot;)\r\n                .append(&quot;where activeRecord=true and updateable=true &quot;)\r\n                .append(&quot;and (SELECT @ids \\\\:= CONCAT_WS(&#39;,&#39;, id, @ids)); &quot;)\r\n                .append(&quot;select @ids;&quot;)\r\n                .toString();\r\n    \tfinal Query query = session.createSQLQuery(sqlQuery)\r\n                .setParameter(&quot;activeRecord&quot;,Boolean.FALSE);\r\n        final Object idsList=query.uniqueResult();\r\n        System.out.println(&quot;idsList = &quot; + idsList);\r\n    }        \r\n\r\nI want to do a update and also return the affected Ids this works Perfect using a rawSQL returns the id in a string fashion but I couldn&#39;t make it work using Hibernate any tip!\r\n\r\nUpdate\r\n---\r\n\r\nI need to do a update and return the affected id. I don&#39;t want to make a simple UPDATE.\r\n\r\nYou can [check it out the original question here](https://stackoverflow.com/questions/44604763/java-hibernate-tips-about-update-all-table-fields-performance).\r\n\r\nUpdate\r\n---\r\n\r\nThe error is\r\n\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:80)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:89)\r\n\tat org.hibernate.loader.Loader.getResultSet(Loader.java:2065)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1862)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1838)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:909)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:354)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2553)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2539)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2369)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2364)\r\n\tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353)\r\n\tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1873)\r\n\tat org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311)\r\n\tat org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141)\r\n\tat org.hibernate.internal.AbstractQueryImpl.uniqueResult(AbstractQueryImpl.java:966)\r\n\tat company.nuevemil.code.finalizarEntornoDePrueba(Test.java:56)\r\n\tat company.nuevemil.code.main(Test.java:27)\r\n\r\n\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;UPDATE student set activeRecord=false,uid=1 where activeRecord=true at line 1\r\n","title":"Java Hibernate org.hibernate.exception.SQLGrammarException: could not extract ResultSet on createSQLQuery","body":"<p>I have this method:</p>\n<pre><code>private final void updateAllTableFields(final Class clazz){\n    final String tableName = ((Table)clazz.getAnnotation(Table.class)).name();\n    final String sqlQuery = new StringBuilder(&quot;SET @ids = NULL; &quot;)\n            .append(&quot;UPDATE &quot;)\n            .append(tableName)\n            .append(' ')\n            .append(&quot;set activeRecord=:activeRecord &quot;)\n            .append(&quot;where activeRecord=true and updateable=true &quot;)\n            .append(&quot;and (SELECT @ids \\\\:= CONCAT_WS(',', id, @ids)); &quot;)\n            .append(&quot;select @ids;&quot;)\n            .toString();\n    final Query query = session.createSQLQuery(sqlQuery)\n            .setParameter(&quot;activeRecord&quot;,Boolean.FALSE);\n    final Object idsList=query.uniqueResult();\n    System.out.println(&quot;idsList = &quot; + idsList);\n}        \n</code></pre>\n<p>I want to do a update and also return the affected Ids this works Perfect using a rawSQL returns the id in a string fashion but I couldn't make it work using Hibernate any tip!</p>\n<h2>Update</h2>\n<p>I need to do a update and return the affected id. I don't want to make a simple UPDATE.</p>\n<p>You can <a href=\"https://stackoverflow.com/questions/44604763/java-hibernate-tips-about-update-all-table-fields-performance\">check it out the original question here</a>.</p>\n<h2>Update</h2>\n<p>The error is</p>\n<pre><code>at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:80)\nat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:89)\nat org.hibernate.loader.Loader.getResultSet(Loader.java:2065)\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1862)\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1838)\nat org.hibernate.loader.Loader.doQuery(Loader.java:909)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:354)\nat org.hibernate.loader.Loader.doList(Loader.java:2553)\nat org.hibernate.loader.Loader.doList(Loader.java:2539)\nat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2369)\nat org.hibernate.loader.Loader.list(Loader.java:2364)\nat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353)\nat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1873)\nat org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311)\nat org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141)\nat org.hibernate.internal.AbstractQueryImpl.uniqueResult(AbstractQueryImpl.java:966)\nat company.nuevemil.code.finalizarEntornoDePrueba(Test.java:56)\nat company.nuevemil.code.main(Test.java:27)\n\n\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'UPDATE student set activeRecord=false,uid=1 where activeRecord=true at line 1\n</code></pre>\n"},{"tags":["java","azure","azure-blob-storage","azure-sdk-for-java"],"comments":[{"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"score":0,"creation_date":1680162460,"post_id":75884819,"comment_id":133851976,"body_markdown":"Are you trying to create BlobServiceClient using java sdk? Is that your requirement?","body":"Are you trying to create BlobServiceClient using java sdk? Is that your requirement?"},{"owner":{"account_id":26226248,"reputation":19,"user_id":19902912,"display_name":"Yatharth Mishra"},"score":1,"creation_date":1680167043,"post_id":75884819,"comment_id":133853075,"body_markdown":"Yes. I want to upload / download files from blob using java azure sdk.","body":"Yes. I want to upload / download files from blob using java azure sdk."}],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680176850,"creation_date":1680176463,"answer_id":75887785,"question_id":75884819,"body_markdown":"&gt;java.lang.NoClassDefFoundError: reactor/util/context/ContextView\r\n\r\nThis could be because of missing dependency in your application. Check if you have added the required dependencies to your project&#39;s classpath.\r\n\r\nI have reproduced your requirement to upload/download file using Azure Java SDK.\r\n\r\nBelow are the dependencies which I have used in my application.\r\n```gradle\r\ndependencies {\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\nimplementation group: &#39;com.azure&#39;, name: &#39;azure-storage-blob&#39;, version: &#39;12.16.0&#39;\r\nimplementation group: &#39;com.microsoft.azure&#39;, name: &#39;azure-storage-spring-boot-starter&#39;, version: &#39;2.2.5&#39;\r\nimplementation group: &#39;commons-fileupload&#39;, name: &#39;commons-fileupload&#39;, version: &#39;1.4&#39;\r\ndevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\ntestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n```\r\nNote the Access token of your storage account in the Azure portal:\r\n![enter image description here](https://i.stack.imgur.com/xywaa.png)\r\n\r\nI have created the simple API to call this method which is creating the file and downloading the file from Azure Blob Storage. \r\n```java\r\n@PostMapping(&quot;/upload&quot;)\r\npublic  void  uploadFile(@RequestParam(value  =  &quot;file&quot;)  MultipartFile  file)  throws  IOException  {\r\n\r\n// Code To Create and File In Blob Storage\r\nString  str = &quot;DefaultEndpointsProtocol=https;AccountName=&lt;storage_account_name&gt;;AccountKey=storage_account_access_key;EndpointSuffix=core.windows.net&quot;;\r\nOffsetDateTime  expiryTime  =  OffsetDateTime.now().plusDays(1);\r\nBlobSasPermission  permission  =  new  BlobSasPermission().setReadPermission(true);\r\nBlobServiceSasSignatureValues  values  =  new  BlobServiceSasSignatureValues(expiryTime,  permission).setStartTime(OffsetDateTime.now());\r\nBlobContainerClient  container  =  new  BlobContainerClientBuilder().connectionString(str).containerName(&quot;&lt;conatiner_name&gt;&quot;).buildClient();\r\nBlobClient  blob  =  container.getBlobClient(file.getOriginalFilename());\r\nblob.upload(file.getInputStream(),  file.getSize(),  true);\r\nString  sasToken  =  blob.generateSas(values);\r\n// Code To Create and File In Blob Storage\r\n\r\n// Code To download the File From Blob Storage\r\nURL  url  =  new  URL(blob.getBlobUrl()  +  &quot;?&quot;  +  sasToken);\r\nHttpURLConnection  httpConn  =  (HttpURLConnection)  url.openConnection();\r\nint  responseCode  =  httpConn.getResponseCode();\r\n// Check if the response code is HTTP_OK (200)\r\nif  (responseCode  ==  HttpURLConnection.HTTP_OK)  {\r\n// Open input stream from the HTTP connection\r\nInputStream  inputStream  =  httpConn.getInputStream();\r\n// Open output stream to save the file\r\nFileOutputStream  outputStream  =  new FileOutputStream(&quot;C:\\\\Users\\\\win10\\\\Downloads\\\\data.txt&quot;);\r\n// Read bytes from input stream and write to output stream\r\nint  bytesRead;\r\nbyte[]  buffer  =  new  byte[4096];\r\nwhile  ((bytesRead  =  inputStream.read(buffer))  !=  -1)  {\r\noutputStream.write(buffer,  0,  bytesRead);\r\n}\r\n// Close streams\r\noutputStream.close();\r\ninputStream.close();\r\nSystem.out.println(&quot;File downloaded&quot;);\r\n}  else  {\r\nSystem.out.println(&quot;Failed to download file: &quot;  +  httpConn.getResponseMessage());\r\n}\r\nhttpConn.disconnect();\r\n// Code To download the File From Blob Storage\r\n}\r\n\r\n```\r\nCalling the API which I have created and it is generating the url to download the file which has been uploaded as shown below: \r\n\r\n![enter image description here](https://i.stack.imgur.com/lYJAk.png)\r\n\r\nUploaded the file to Azure Blob Storage using the above code:\r\n![enter image description here](https://i.stack.imgur.com/YdyMl.png)\r\n\r\nBy using the above code, downloaded the file as *data.txt*.\r\n\r\n![enter image description here](https://i.stack.imgur.com/y2thW.png)\r\n","title":"java.lang.NoClassDefFoundError: reactor/util/context/ContextView","body":"<blockquote>\n<p>java.lang.NoClassDefFoundError: reactor/util/context/ContextView</p>\n</blockquote>\n<p>This could be because of missing dependency in your application. Check if you have added the required dependencies to your project's classpath.</p>\n<p>I have reproduced your requirement to upload/download file using Azure Java SDK.</p>\n<p>Below are the dependencies which I have used in my application.</p>\n<pre><code>dependencies {\nimplementation 'org.springframework.boot:spring-boot-starter-web'\nimplementation group: 'com.azure', name: 'azure-storage-blob', version: '12.16.0'\nimplementation group: 'com.microsoft.azure', name: 'azure-storage-spring-boot-starter', version: '2.2.5'\nimplementation group: 'commons-fileupload', name: 'commons-fileupload', version: '1.4'\ndevelopmentOnly 'org.springframework.boot:spring-boot-devtools'\ntestImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n<p>Note the Access token of your storage account in the Azure portal:\n<img src=\"https://i.stack.imgur.com/xywaa.png\" alt=\"enter image description here\" /></p>\n<p>I have created the simple API to call this method which is creating the file and downloading the file from Azure Blob Storage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/upload&quot;)\npublic  void  uploadFile(@RequestParam(value  =  &quot;file&quot;)  MultipartFile  file)  throws  IOException  {\n\n// Code To Create and File In Blob Storage\nString  str = &quot;DefaultEndpointsProtocol=https;AccountName=&lt;storage_account_name&gt;;AccountKey=storage_account_access_key;EndpointSuffix=core.windows.net&quot;;\nOffsetDateTime  expiryTime  =  OffsetDateTime.now().plusDays(1);\nBlobSasPermission  permission  =  new  BlobSasPermission().setReadPermission(true);\nBlobServiceSasSignatureValues  values  =  new  BlobServiceSasSignatureValues(expiryTime,  permission).setStartTime(OffsetDateTime.now());\nBlobContainerClient  container  =  new  BlobContainerClientBuilder().connectionString(str).containerName(&quot;&lt;conatiner_name&gt;&quot;).buildClient();\nBlobClient  blob  =  container.getBlobClient(file.getOriginalFilename());\nblob.upload(file.getInputStream(),  file.getSize(),  true);\nString  sasToken  =  blob.generateSas(values);\n// Code To Create and File In Blob Storage\n\n// Code To download the File From Blob Storage\nURL  url  =  new  URL(blob.getBlobUrl()  +  &quot;?&quot;  +  sasToken);\nHttpURLConnection  httpConn  =  (HttpURLConnection)  url.openConnection();\nint  responseCode  =  httpConn.getResponseCode();\n// Check if the response code is HTTP_OK (200)\nif  (responseCode  ==  HttpURLConnection.HTTP_OK)  {\n// Open input stream from the HTTP connection\nInputStream  inputStream  =  httpConn.getInputStream();\n// Open output stream to save the file\nFileOutputStream  outputStream  =  new FileOutputStream(&quot;C:\\\\Users\\\\win10\\\\Downloads\\\\data.txt&quot;);\n// Read bytes from input stream and write to output stream\nint  bytesRead;\nbyte[]  buffer  =  new  byte[4096];\nwhile  ((bytesRead  =  inputStream.read(buffer))  !=  -1)  {\noutputStream.write(buffer,  0,  bytesRead);\n}\n// Close streams\noutputStream.close();\ninputStream.close();\nSystem.out.println(&quot;File downloaded&quot;);\n}  else  {\nSystem.out.println(&quot;Failed to download file: &quot;  +  httpConn.getResponseMessage());\n}\nhttpConn.disconnect();\n// Code To download the File From Blob Storage\n}\n\n</code></pre>\n<p>Calling the API which I have created and it is generating the url to download the file which has been uploaded as shown below:</p>\n<p><img src=\"https://i.stack.imgur.com/lYJAk.png\" alt=\"enter image description here\" /></p>\n<p>Uploaded the file to Azure Blob Storage using the above code:\n<img src=\"https://i.stack.imgur.com/YdyMl.png\" alt=\"enter image description here\" /></p>\n<p>By using the above code, downloaded the file as <em>data.txt</em>.</p>\n<p><img src=\"https://i.stack.imgur.com/y2thW.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":26226248,"reputation":19,"user_id":19902912,"display_name":"Yatharth Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681468856,"creation_date":1681468856,"answer_id":76014248,"question_id":75884819,"body_markdown":"Looks like there was some dependency conflict between spring boot version and swagger . I upgraded spring boot to 2.7.10 and swagger to openAPI. This issue was resolved after that. Thanks.","title":"java.lang.NoClassDefFoundError: reactor/util/context/ContextView","body":"<p>Looks like there was some dependency conflict between spring boot version and swagger . I upgraded spring boot to 2.7.10 and swagger to openAPI. This issue was resolved after that. Thanks.</p>\n"}],"owner":{"account_id":26226248,"reputation":19,"user_id":19902912,"display_name":"Yatharth Mishra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1626,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76014248,"answer_count":2,"score":0,"last_activity_date":1681468856,"creation_date":1680158102,"question_id":75884819,"body_markdown":"I am upgrading the azure sdk for java to version 12.21.1. The spring boot version is 2.1.6.\r\nI am using the following dependency in gradle : implementation &#39;com.azure:azure-storage-blob:12.21.1&#39; .\r\n\r\nI am using the following code to create BlobServiceClient :\r\n\r\n    String accountUrl = &quot;https://&quot; + accountName + &quot;.blob.core.windows.net&quot;;\r\n     StorageSharedKeyCredential sharedKeyCredential = new StorageSharedKeyCredential(accountName, accountKey);\r\n    \r\n    try{\r\n    BlobServiceClient blobServiceClient = new BlobServiceClientBuilder().credential(sharedKeyCredential).endpoint(accountUrl).buildClient();\r\n    }\r\n\r\nBut it is throwing an error at runtime :\r\n\r\n   \r\n\r\n     Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: reactor/util/context/ContextView] with root cause\r\n    \r\n    java.lang.ClassNotFoundException: reactor.util.context.ContextView\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\r\n    BuiltinClassLoader.java:581\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n    ClassLoaders.java:178\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n    ClassLoader.java:522\r\n    \tat com.azure.core.http.policy.HttpPolicyProviders.addAfterRetryPolicies(HttpPolicyProviders.java:52) ~[azure-core-1.37.0.jar:1.37.0]\r\n    HttpPolicyProviders.java:52\r\n    \tat com.azure.storage.blob.implementation.util.BuilderHelper.buildPipeline(BuilderHelper.java:128) ~[azure-storage-blob-12.21.1.jar:12.21.1]\r\n    BuilderHelper.java:128\r\n    \tat com.azure.storage.blob.BlobServiceClientBuilder.buildAsyncClient(BlobServiceClientBuilder.java:135) ~[azure-storage-blob-12.21.1.jar:12.21.1]\r\n    BlobServiceClientBuilder.java:135\r\n    \tat com.azure.storage.blob.BlobServiceClientBuilder.buildClient(BlobServiceClientBuilder.java:114) ~[azure-storage-blob-12.21.1.jar:12.21.1]\r\n\r\nHow to resolve this? \r\n\r\n\r\n","title":"java.lang.NoClassDefFoundError: reactor/util/context/ContextView","body":"<p>I am upgrading the azure sdk for java to version 12.21.1. The spring boot version is 2.1.6.\nI am using the following dependency in gradle : implementation 'com.azure:azure-storage-blob:12.21.1' .</p>\n<p>I am using the following code to create BlobServiceClient :</p>\n<pre><code>String accountUrl = &quot;https://&quot; + accountName + &quot;.blob.core.windows.net&quot;;\n StorageSharedKeyCredential sharedKeyCredential = new StorageSharedKeyCredential(accountName, accountKey);\n\ntry{\nBlobServiceClient blobServiceClient = new BlobServiceClientBuilder().credential(sharedKeyCredential).endpoint(accountUrl).buildClient();\n}\n</code></pre>\n<p>But it is throwing an error at runtime :</p>\n<pre><code> Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: reactor/util/context/ContextView] with root cause\n\njava.lang.ClassNotFoundException: reactor.util.context.ContextView\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\nBuiltinClassLoader.java:581\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\nClassLoaders.java:178\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\nClassLoader.java:522\n    at com.azure.core.http.policy.HttpPolicyProviders.addAfterRetryPolicies(HttpPolicyProviders.java:52) ~[azure-core-1.37.0.jar:1.37.0]\nHttpPolicyProviders.java:52\n    at com.azure.storage.blob.implementation.util.BuilderHelper.buildPipeline(BuilderHelper.java:128) ~[azure-storage-blob-12.21.1.jar:12.21.1]\nBuilderHelper.java:128\n    at com.azure.storage.blob.BlobServiceClientBuilder.buildAsyncClient(BlobServiceClientBuilder.java:135) ~[azure-storage-blob-12.21.1.jar:12.21.1]\nBlobServiceClientBuilder.java:135\n    at com.azure.storage.blob.BlobServiceClientBuilder.buildClient(BlobServiceClientBuilder.java:114) ~[azure-storage-blob-12.21.1.jar:12.21.1]\n</code></pre>\n<p>How to resolve this?</p>\n"},{"tags":["java","servlets","web-hosting","web.xml"],"comments":[{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1354969759,"post_id":13776215,"comment_id":18943239,"body_markdown":"Without seeing your web.xml, the only thing that anybody can give you is general advice. If you want something better, edit your question and post your `&lt;servlet&gt;` and `&lt;servlet-mapping&gt;` sections. The *exact* sections, copied an editor window, not some made-up versions that you think represent what&#39;s actually there.","body":"Without seeing your web.xml, the only thing that anybody can give you is general advice. If you want something better, edit your question and post your <code>&lt;servlet&gt;</code> and <code>&lt;servlet-mapping&gt;</code> sections. The <i>exact</i> sections, copied an editor window, not some made-up versions that you think represent what&#39;s actually there."},{"owner":{"account_id":2119148,"reputation":73,"user_id":1937481,"accept_rate":100,"display_name":"sam"},"score":0,"creation_date":1354977046,"post_id":13776215,"comment_id":18944939,"body_markdown":"ok so here is the Web.xml file","body":"ok so here is the Web.xml file"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354960158,"creation_date":1354960158,"answer_id":13776350,"question_id":13776215,"body_markdown":"Try it first at home. The NetBeans IDE (for instance) has a good server integration. You could download it with packaged Glassfish (or Tomcat) and experiment there.\r\n\r\nThere are many pieces to put together, so I would recommend experimenting yourself.\r\nEspecially writing out `getServletContextPath` and all those partial path getters.\r\n\r\nCheck in web.xml\r\n\r\n - web-app / display-name\r\n - web-app / servlet-mapping / url-pattern+\r\n\r\nAlso with autodeployment the war name may matter.","title":"servlet mapping with URL patterns is not working and have to use URL-servlet/servletclassname for using servlets","body":"<p>Try it first at home. The NetBeans IDE (for instance) has a good server integration. You could download it with packaged Glassfish (or Tomcat) and experiment there.</p>\n\n<p>There are many pieces to put together, so I would recommend experimenting yourself.\nEspecially writing out <code>getServletContextPath</code> and all those partial path getters.</p>\n\n<p>Check in web.xml</p>\n\n<ul>\n<li>web-app / display-name</li>\n<li>web-app / servlet-mapping / url-pattern+</li>\n</ul>\n\n<p>Also with autodeployment the war name may matter.</p>\n"},{"tags":[],"owner":{"account_id":164849,"reputation":1375,"user_id":387880,"accept_rate":50,"display_name":"eppesuig"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1354978948,"creation_date":1354978948,"answer_id":13778689,"question_id":13776215,"body_markdown":"Are you using the correct **context**  as the first part of your path in URL? Whenever you deploy an application, you specify a context that identify all your URLs. Any url-pattern will be applied **after** that context. Let&#39;s say you have context called &quot;MyShop&quot;, then using your provided web.xml, you should call http://*yourdomain*/MyShop/MyServlet .","title":"servlet mapping with URL patterns is not working and have to use URL-servlet/servletclassname for using servlets","body":"<p>Are you using the correct <strong>context</strong>  as the first part of your path in URL? Whenever you deploy an application, you specify a context that identify all your URLs. Any url-pattern will be applied <strong>after</strong> that context. Let's say you have context called \"MyShop\", then using your provided web.xml, you should call http://<em>yourdomain</em>/MyShop/MyServlet .</p>\n"},{"tags":[],"owner":{"account_id":22734285,"reputation":1,"user_id":16896708,"display_name":"Gideon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681468842,"creation_date":1681468842,"answer_id":76014247,"question_id":13776215,"body_markdown":"I got the same issue and figured out the reason was because of Tomcat (9.0.73) does not support Jakarta.servlet.api (5.0.0). jakarta.servlet.api seems only supported by Tomcat version &gt;= 10. I&#39;m using IDEA Ultimate, creating Java-EE application project is fine, however, IDEA will automatically add &quot;Jakarta-servlet-api&quot; version 5.0 in pom.xml file, in that case, the server will start normally and you would not get any error, however servlet-mapping (or even @WebServlet annotation) would not work and result in 404 Error. The solution is to replace Jarkata-servlet-api by a suitable version of servlet-api (in my case it was javax.servlet.api version 4.0.1)","title":"servlet mapping with URL patterns is not working and have to use URL-servlet/servletclassname for using servlets","body":"<p>I got the same issue and figured out the reason was because of Tomcat (9.0.73) does not support Jakarta.servlet.api (5.0.0). jakarta.servlet.api seems only supported by Tomcat version &gt;= 10. I'm using IDEA Ultimate, creating Java-EE application project is fine, however, IDEA will automatically add &quot;Jakarta-servlet-api&quot; version 5.0 in pom.xml file, in that case, the server will start normally and you would not get any error, however servlet-mapping (or even @WebServlet annotation) would not work and result in 404 Error. The solution is to replace Jarkata-servlet-api by a suitable version of servlet-api (in my case it was javax.servlet.api version 4.0.1)</p>\n"}],"owner":{"account_id":2119148,"reputation":73,"user_id":1937481,"accept_rate":100,"display_name":"sam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9776,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1681471447,"accepted_answer_id":13778689,"answer_count":3,"score":1,"last_activity_date":1681468842,"creation_date":1354958838,"question_id":13776215,"body_markdown":"&gt; i have an web hosting space of java (jsp/servlet) and i have tried\r\n&gt; many times servlets using mappings in web.xml file with its URL\r\n&gt; patterns and when i used that URL then its showing message &quot;The\r\n&gt; requested URL /myservlet was not found on this server.&quot; page which is\r\n&gt; default set by hosting provider. so when i asked it from hosting\r\n&gt; provider that i am unable to use myservlet or any servlet that is\r\n&gt; mapped in web.xml file then replied to me that &quot;to use your servlet\r\n&gt; please follow URL- www.yourdomain.com/servlet/myservlet&quot; and when i\r\n&gt; used this URL which i have not mapped in my web.xml file was working\r\n&gt; and also i got many time that web.xml file is not using by the server \r\n&gt; \r\n&gt; so i want to ask why its happening , i mean why web.xml file is not\r\n&gt; working , why i have to use /servlet/servletclassname in order to use\r\n&gt; the servlet and now how i can use URL pattern for dynamic URLs...\r\n&gt; \r\n&gt; Please any buddy help me...!!!\r\n\r\nHere is the Web.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;3.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;&gt;\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;MyPackage.MyServlet&lt;/servlet-class&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/MyServlet&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n        &lt;session-config&gt;\r\n            &lt;session-timeout&gt;\r\n                30\r\n            &lt;/session-timeout&gt;\r\n        &lt;/session-config&gt;\r\n    &lt;/web-app&gt;\r\n","title":"servlet mapping with URL patterns is not working and have to use URL-servlet/servletclassname for using servlets","body":"<blockquote>\n  <p>i have an web hosting space of java (jsp/servlet) and i have tried\n  many times servlets using mappings in web.xml file with its URL\n  patterns and when i used that URL then its showing message \"The\n  requested URL /myservlet was not found on this server.\" page which is\n  default set by hosting provider. so when i asked it from hosting\n  provider that i am unable to use myservlet or any servlet that is\n  mapped in web.xml file then replied to me that \"to use your servlet\n  please follow URL- www.yourdomain.com/servlet/myservlet\" and when i\n  used this URL which i have not mapped in my web.xml file was working\n  and also i got many time that web.xml file is not using by the server </p>\n  \n  <p>so i want to ask why its happening , i mean why web.xml file is not\n  working , why i have to use /servlet/servletclassname in order to use\n  the servlet and now how i can use URL pattern for dynamic URLs...</p>\n  \n  <p>Please any buddy help me...!!!</p>\n</blockquote>\n\n<p>Here is the Web.xml file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"3.0\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;MyPackage.MyServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/MyServlet&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;\n            30\n        &lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","initialization","instance-variables","forward-reference"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681468765,"creation_date":1681468765,"answer_id":76014231,"question_id":76014049,"body_markdown":"If we look at the bytecode for the class:\r\n```\r\n/ class version 62.0 (62)\r\n// access flags 0x21\r\npublic class org/kablambda/TestClass {\r\n\r\n  // compiled from: TestClass.java\r\n\r\n  // access flags 0x0\r\n  I i\r\n\r\n  // access flags 0x1\r\n  public &lt;init&gt;()V\r\n   L0\r\n    LINENUMBER 3 L0\r\n    ALOAD 0\r\n    INVOKESPECIAL java/lang/Object.&lt;init&gt; ()V\r\n   L1\r\n    LINENUMBER 6 L1\r\n    ALOAD 0\r\n    ICONST_3\r\n    PUTFIELD org/kablambda/TestClass.i : I\r\n   L2\r\n    LINENUMBER 9 L2\r\n    ALOAD 0\r\n    ICONST_2\r\n    PUTFIELD org/kablambda/TestClass.i : I\r\n    RETURN\r\n   L3\r\n    LOCALVARIABLE this Lorg/kablambda/TestClass; L0 L3 0\r\n    MAXSTACK = 2\r\n    MAXLOCALS = 1\r\n}\r\n```\r\n\r\nWe see that the code is run in the same order it appears in the source code, so first `i` is set to 3, then `i` is set to 2.","title":"Initializer block - whats the flow of this code?","body":"<p>If we look at the bytecode for the class:</p>\n<pre><code>/ class version 62.0 (62)\n// access flags 0x21\npublic class org/kablambda/TestClass {\n\n  // compiled from: TestClass.java\n\n  // access flags 0x0\n  I i\n\n  // access flags 0x1\n  public &lt;init&gt;()V\n   L0\n    LINENUMBER 3 L0\n    ALOAD 0\n    INVOKESPECIAL java/lang/Object.&lt;init&gt; ()V\n   L1\n    LINENUMBER 6 L1\n    ALOAD 0\n    ICONST_3\n    PUTFIELD org/kablambda/TestClass.i : I\n   L2\n    LINENUMBER 9 L2\n    ALOAD 0\n    ICONST_2\n    PUTFIELD org/kablambda/TestClass.i : I\n    RETURN\n   L3\n    LOCALVARIABLE this Lorg/kablambda/TestClass; L0 L3 0\n    MAXSTACK = 2\n    MAXLOCALS = 1\n}\n</code></pre>\n<p>We see that the code is run in the same order it appears in the source code, so first <code>i</code> is set to 3, then <code>i</code> is set to 2.</p>\n"}],"owner":{"account_id":25629509,"reputation":1,"user_id":19400093,"display_name":"Oyst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681468765,"creation_date":1681467621,"question_id":76014049,"body_markdown":"I understand that the following code is allowed (I&#39;ve read the previous posts on the topic), but can someone explain to me what is actually happening when this class is run? Is the block skipped and then &quot;i&quot; is initialized at LINE 7, and then the block is run (setting &quot;i&quot; to 3) and then LINE 7 is run setting &quot;i&quot; to 2?\r\n\r\n   \r\n\r\n    public class TestClass {\r\n    \r\n        {\r\n            i = 3;\r\n        }\r\n    \r\n        int i = 2;      //LINE 7\r\n    \r\n    \r\n    }","title":"Initializer block - whats the flow of this code?","body":"<p>I understand that the following code is allowed (I've read the previous posts on the topic), but can someone explain to me what is actually happening when this class is run? Is the block skipped and then &quot;i&quot; is initialized at LINE 7, and then the block is run (setting &quot;i&quot; to 3) and then LINE 7 is run setting &quot;i&quot; to 2?</p>\n<pre><code>public class TestClass {\n\n    {\n        i = 3;\n    }\n\n    int i = 2;      //LINE 7\n\n\n}\n</code></pre>\n"},{"tags":["java","environment-variables","tomcat7-maven-plugin"],"comments":[{"owner":{"account_id":1854605,"reputation":1095,"user_id":1680473,"accept_rate":82,"display_name":"Maclean Pinto"},"score":0,"creation_date":1593602828,"post_id":29098546,"comment_id":110837237,"body_markdown":"Where you able to figure this out?","body":"Where you able to figure this out?"}],"answers":[{"tags":[],"owner":{"account_id":4044603,"reputation":17,"user_id":3326224,"display_name":"adinapiza"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1533281063,"creation_date":1533281063,"answer_id":51667331,"question_id":29098546,"body_markdown":"This has been answered here: https://stackoverflow.com/questions/40456863/setting-user-environment-variables-for-tomcat-on-windows\r\n\r\n&gt; From an admin command prompt do the following command:\r\n&gt; \r\n&gt;     tomcat8 //US//YourServiceName ++Environment varname=value\r\n&gt; \r\n&gt; You can set more than one variable by separating them with a semicolon\r\n&gt; (;) or a hash (#).","title":"Set ENV variables in tomcat7 maven plugin","body":"<p>This has been answered here: <a href=\"https://stackoverflow.com/questions/40456863/setting-user-environment-variables-for-tomcat-on-windows\">Setting User Environment Variables for tomcat on Windows</a></p>\n\n<blockquote>\n  <p>From an admin command prompt do the following command:</p>\n\n<pre><code>tomcat8 //US//YourServiceName ++Environment varname=value\n</code></pre>\n  \n  <p>You can set more than one variable by separating them with a semicolon\n  (;) or a hash (#).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681468637,"creation_date":1681468637,"answer_id":76014207,"question_id":29098546,"body_markdown":"&gt; Is there a way to set ENV variables through tomcat7-maven-plugin such that they appear in System.getenv()?\r\n\r\nYes and no. You can pass ENV variables but they wont appear by System.getenv(). Example: \r\n\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;systemProperties&gt;\r\n\t\t\t\t\t\t\t&lt;foo&gt;${env.FOO}&lt;/foo&gt;\r\n\t\t\t\t\t\t&lt;/systemProperties&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\t&lt;/project&gt;","title":"Set ENV variables in tomcat7 maven plugin","body":"<blockquote>\n<p>Is there a way to set ENV variables through tomcat7-maven-plugin such that they appear in System.getenv()?</p>\n</blockquote>\n<p>Yes and no. You can pass ENV variables but they wont appear by System.getenv(). Example:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;systemProperties&gt;\n                        &lt;foo&gt;${env.FOO}&lt;/foo&gt;\n                    &lt;/systemProperties&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":86297,"reputation":23984,"user_id":240078,"accept_rate":58,"display_name":"Vikdor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1465,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1681468637,"creation_date":1426593624,"question_id":29098546,"body_markdown":"Is there a way to set ENV variables through `tomcat7-maven-plugin` such that they appear in `System.getenv()`?\r\n\r\nThe system properties can be set using the `&lt;systemProperties&gt;` that appear in `System.getProperties()` map. I am looking for a similar way to pass environment variables.","title":"Set ENV variables in tomcat7 maven plugin","body":"<p>Is there a way to set ENV variables through <code>tomcat7-maven-plugin</code> such that they appear in <code>System.getenv()</code>?</p>\n\n<p>The system properties can be set using the <code>&lt;systemProperties&gt;</code> that appear in <code>System.getProperties()</code> map. I am looking for a similar way to pass environment variables.</p>\n"},{"tags":["java","ant","build"],"answers":[{"tags":[],"owner":{"account_id":8634,"reputation":8079,"user_id":15647,"accept_rate":92,"display_name":"wheleph"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1246878297,"creation_date":1246878297,"answer_id":1086463,"question_id":1086449,"body_markdown":"1. Probably you don&#39;t have environment variable ANT_HOME set properly\r\n2. It seems that you are calling Ant like this: &quot;ant build..xml&quot;. If your ant script has name build.xml you need to specify only a target in command line. For example: &quot;ant target1&quot;.","title":"Ant build failed: &quot;Target &quot;build..xml&quot; does not exist&quot;","body":"<ol>\n<li>Probably you don't have environment variable ANT_HOME set properly</li>\n<li>It seems that you are calling Ant like this: \"ant build..xml\". If your ant script has name build.xml you need to specify only a target in command line. For example: \"ant target1\".</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1246882334,"creation_date":1246878574,"answer_id":1086476,"question_id":1086449,"body_markdown":"Looks like you called it &#39;ant build..xml&#39;. ant automatically choose a file build.xml in the current directory, so it is enough to call &#39;ant&#39; (if a default-target is defined) or &#39;ant target&#39; (the target named target will be called).\r\n\r\nWith the call &#39;ant -p&#39; you get a list of targets defined in your build.xml.\r\n\r\n**Edit:** In the comment is shown the call &#39;ant -verbose build.xml&#39;. To be correct, this has to be called as &#39;ant -verbose&#39;. The file build.xml in the current directory will be used automatically. If it is needed to explicitly specify the buildfile (because it&#39;s name isn&#39;t build.xml for example), you have to specify the buildfile with the &#39;-f&#39;-option: &#39;ant -verbose -f build.xml&#39;. I hope this helps.","title":"Ant build failed: &quot;Target &quot;build..xml&quot; does not exist&quot;","body":"<p>Looks like you called it 'ant build..xml'. ant automatically choose a file build.xml in the current directory, so it is enough to call 'ant' (if a default-target is defined) or 'ant target' (the target named target will be called).</p>\n\n<p>With the call 'ant -p' you get a list of targets defined in your build.xml.</p>\n\n<p><strong>Edit:</strong> In the comment is shown the call 'ant -verbose build.xml'. To be correct, this has to be called as 'ant -verbose'. The file build.xml in the current directory will be used automatically. If it is needed to explicitly specify the buildfile (because it's name isn't build.xml for example), you have to specify the buildfile with the '-f'-option: 'ant -verbose -f build.xml'. I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1400521,"reputation":664,"user_id":1329403,"accept_rate":0,"display_name":"duracell"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1481442097,"creation_date":1372430314,"answer_id":17367300,"question_id":1086449,"body_markdown":"since your ant file&#39;s name is build.xml, you should just type ant without ant build.xml.\r\nthat is: `&gt; ant` [enter]","title":"Ant build failed: &quot;Target &quot;build..xml&quot; does not exist&quot;","body":"<p>since your ant file's name is build.xml, you should just type ant without ant build.xml.\nthat is: <code>&gt; ant</code> [enter]</p>\n"},{"tags":[],"owner":{"account_id":153395,"reputation":105595,"user_id":368630,"accept_rate":83,"display_name":"David W."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638194222,"creation_date":1375193632,"answer_id":17949488,"question_id":1086449,"body_markdown":"Is this a problem ***Only*** when you run `ant -d` or `ant -verbose`, but works other times?\r\n\r\nI noticed this error message line:\r\n\r\n&gt; Could not load definitions from resource org/apache/tools/ant/antlib.xml. It could not be found.\r\n\r\nThe `org/apache/tools/ant/antlib.xml` *file* is embedded in the `ant.jar`. The `ant` command is really a shell script called `ant` or a batch script called `ant.bat`. If the environment variable ANT_HOME is not set, it will figure out where it&#39;s located by looking to see where the `ant` command itself is located.\r\n\r\nSometimes I&#39;ve seen this where someone will move the `ant` shell/batch script to put it in their path, and have ANT_HOME either not set, or set incorrectly.\r\n\r\nWhat platform are you on? Is this Windows or Unix/Linux/MacOS? If you&#39;re on Windows, check to see if %ANT_HOME% is set. If it is, make sure it&#39;s the right directory. Make sure you have set your PATH to include `%ANT_HOME%/bin`. \r\n\r\nIf you&#39;re on Unix, don&#39;t copy the ant shell script to an executable directory. Instead, make a symbolic link. I have a directory called `/usr/local/bin` where I put the command I want to override the commands in `/bin` and `/usr/bin`. My Ant is installed in `/opt/ant-1.9.2`, and I have a symbolic link from `/opt/ant-1.9.2` to `/opt/ant`. Then, I have symbolic links from all commands in `/opt/ant/bin` to `/usr/local/bin`. The Ant shell script can detect the symbolic links and find the correct Ant HOME location.\r\n\r\nNext, go to your Ant installation directory and look under the lib directory to make sure `ant.jar` is there, and that it contains `org/apache/tools/ant/antlib.xml`. You can use the `jar tvf ant.jar` command. The only thing I can emphasize is that you do have everything setup correctly. You have your Ant shell script in your PATH either because you included the bin directory of your Ant&#39;s HOME directory in your classpath, or (if you&#39;re on Unix/Linux/MacOS), you have that file symbolically linked to a directory in your PATH.\r\n\r\nMake sure your JAVA_HOME is set correctly (on Unix, you can use the symbolic link trick to have the `java` command set it for you), and that you&#39;re using Java 1.5 or higher. Java 1.4 will no longer work with newer versions of Ant.\r\n\r\nAlso run `ant -version` and see what you get. You might get the same error as before which leads me to think you have something wrong.\r\n\r\nLet me know what you find, and your OS, and I can give you directions on reinstalling Ant.\r\n","title":"Ant build failed: &quot;Target &quot;build..xml&quot; does not exist&quot;","body":"<p>Is this a problem <em><strong>Only</strong></em> when you run <code>ant -d</code> or <code>ant -verbose</code>, but works other times?</p>\n<p>I noticed this error message line:</p>\n<blockquote>\n<p>Could not load definitions from resource org/apache/tools/ant/antlib.xml. It could not be found.</p>\n</blockquote>\n<p>The <code>org/apache/tools/ant/antlib.xml</code> <em>file</em> is embedded in the <code>ant.jar</code>. The <code>ant</code> command is really a shell script called <code>ant</code> or a batch script called <code>ant.bat</code>. If the environment variable ANT_HOME is not set, it will figure out where it's located by looking to see where the <code>ant</code> command itself is located.</p>\n<p>Sometimes I've seen this where someone will move the <code>ant</code> shell/batch script to put it in their path, and have ANT_HOME either not set, or set incorrectly.</p>\n<p>What platform are you on? Is this Windows or Unix/Linux/MacOS? If you're on Windows, check to see if %ANT_HOME% is set. If it is, make sure it's the right directory. Make sure you have set your PATH to include <code>%ANT_HOME%/bin</code>.</p>\n<p>If you're on Unix, don't copy the ant shell script to an executable directory. Instead, make a symbolic link. I have a directory called <code>/usr/local/bin</code> where I put the command I want to override the commands in <code>/bin</code> and <code>/usr/bin</code>. My Ant is installed in <code>/opt/ant-1.9.2</code>, and I have a symbolic link from <code>/opt/ant-1.9.2</code> to <code>/opt/ant</code>. Then, I have symbolic links from all commands in <code>/opt/ant/bin</code> to <code>/usr/local/bin</code>. The Ant shell script can detect the symbolic links and find the correct Ant HOME location.</p>\n<p>Next, go to your Ant installation directory and look under the lib directory to make sure <code>ant.jar</code> is there, and that it contains <code>org/apache/tools/ant/antlib.xml</code>. You can use the <code>jar tvf ant.jar</code> command. The only thing I can emphasize is that you do have everything setup correctly. You have your Ant shell script in your PATH either because you included the bin directory of your Ant's HOME directory in your classpath, or (if you're on Unix/Linux/MacOS), you have that file symbolically linked to a directory in your PATH.</p>\n<p>Make sure your JAVA_HOME is set correctly (on Unix, you can use the symbolic link trick to have the <code>java</code> command set it for you), and that you're using Java 1.5 or higher. Java 1.4 will no longer work with newer versions of Ant.</p>\n<p>Also run <code>ant -version</code> and see what you get. You might get the same error as before which leads me to think you have something wrong.</p>\n<p>Let me know what you find, and your OS, and I can give you directions on reinstalling Ant.</p>\n"},{"tags":[],"owner":{"account_id":4485313,"reputation":1,"user_id":3648155,"display_name":"abilasco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404303267,"creation_date":1404303267,"answer_id":24530843,"question_id":1086449,"body_markdown":"I&#39;m probably late but this worked for me:\r\n\r\n\r\n----------\r\n\r\n\r\n1. Open your build.xml file located in your project&#39;s directory.\r\n2. Copy and Paste the following code in the main **project** tag :\r\n `&lt;target name=&quot;build&quot; /&gt;`","title":"Ant build failed: &quot;Target &quot;build..xml&quot; does not exist&quot;","body":"<p>I'm probably late but this worked for me:</p>\n\n<hr>\n\n<ol>\n<li>Open your build.xml file located in your project's directory.</li>\n<li>Copy and Paste the following code in the main <strong>project</strong> tag :\n<code>&lt;target name=\"build\" /&gt;</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7387209,"reputation":1,"user_id":5621888,"display_name":"Ranjith Venkatesh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1460610564,"creation_date":1448897193,"answer_id":34002042,"question_id":1086449,"body_markdown":"in the folder where the build.xml resides  run command only - \r\n\r\n   \r\n\r\n&gt;  ant\r\n\r\n \r\n\r\nand not the command -  `\r\n\r\n&gt; ant build.xml\r\n\r\n`\r\n\r\n. if you are using the ant file as build xml then the below steps helps you     Steps :\r\nopen cmd Prompt &gt;&gt; switch to the project location &gt;&gt;type ant and click enter key","title":"Ant build failed: &quot;Target &quot;build..xml&quot; does not exist&quot;","body":"<p>in the folder where the build.xml resides  run command only - </p>\n\n<blockquote>\n  <p>ant</p>\n</blockquote>\n\n<p>and not the command -  `</p>\n\n<blockquote>\n  <p>ant build.xml</p>\n</blockquote>\n\n<p>`</p>\n\n<p>. if you are using the ant file as build xml then the below steps helps you     Steps :\nopen cmd Prompt >> switch to the project location >>type ant and click enter key</p>\n"},{"tags":[],"owner":{"account_id":23870123,"reputation":148,"user_id":17920463,"display_name":"ubuntuMAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681468578,"creation_date":1681468578,"answer_id":76014195,"question_id":1086449,"body_markdown":"In the case you can use this to compile mallet (applicable in jupyter or colab)\r\n\r\n```\r\ncd Mallet/ &amp;&amp; ant\r\n```","title":"Ant build failed: &quot;Target &quot;build..xml&quot; does not exist&quot;","body":"<p>In the case you can use this to compile mallet (applicable in jupyter or colab)</p>\n<pre><code>cd Mallet/ &amp;&amp; ant\n</code></pre>\n"}],"owner":{"display_name":"christy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126531,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":7,"score":20,"last_activity_date":1681468578,"creation_date":1246878022,"question_id":1086449,"body_markdown":"When I run the ant file in verbose mode, I got an error like the one below. Does anyone have any ideas what is going wrong? I am new to this\r\n\r\n    antlib:org.apache.tools.ant] Could not load definitions from resource org/apach\r\n    e/tools/ant/antlib.xml. It could not be found.\r\n    Override ignored for property &quot;java.home&quot;\r\n    BUILD FAILED\r\n    Target &quot;build.xml&quot; does not exist in the project &quot;MYPROJECT&quot;.\r\n            at org.apache.tools.ant.Project.tsort(Project.java:1821)\r\n            at org.apache.tools.ant.Project..topoSort(Project.java:1729)\r\n            at org.apache.tools.ant.Project.topoSort(Project.java:1692)\r\n            at org.apache.tools.ant.Project.executeTarget(Project.java:1298)\r\n            at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\r\n            at org.apache.tools.ant.Project.executeTargets(Project.java:1181)\r\n            at org.apache.tools.ant.Main.runBuild(Main.java:698)\r\n            at org.apache.tools.ant.Main.startAnt(Main.java:199)\r\n            at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)\r\n            at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)\r\n    Total time: 1 second\r\n\r\nThis is my `build.xml`:\r\n\r\n    &lt;project name=&quot;MYPROJECT&quot; default=&quot;dev&quot; basedir=&quot;.&quot;&gt;\r\n      &lt;property name=&quot;build.home&quot; value=&quot;build/jsp&quot; /&gt;\r\n      &lt;property name=&quot;tomcat.home&quot; location=&quot;../Tomcat 5.0/&quot; /&gt;\r\n      &lt;path id=&quot;project.class.path&quot;&gt;\r\n        &lt;fileset dir=&quot;./lib/&quot;&gt;\r\n          &lt;include name=&quot;**/*.jar&quot; /&gt;\r\n        &lt;/fileset&gt;\r\n      &lt;/path&gt;\r\n      &lt;target name=&quot;reltag&quot;&gt;\r\n        &lt;tstamp&gt;\r\n          &lt;format property=&quot;now&quot; pattern=&quot;d MMM yyyy HH:mm&quot; /&gt;\r\n        &lt;/tstamp&gt;\r\n        &lt;property name=&quot;reltag&quot; value=&quot;Built date: ${now}&quot; /&gt;\r\n      &lt;/target&gt;\r\n      &lt;target name=&quot;dev&quot; depends=&quot;compile&quot; description=&quot;Builds for development&quot;&gt;\r\n        &lt;mkdir dir=&quot;jsp/WEB-INF/lib&quot; /&gt;\r\n        &lt;mkdir dir=&quot;jsp/WEB-INF/classes&quot; /&gt;\r\n        &lt;copy todir=&quot;jsp/WEB-INF/lib&quot;&gt;\r\n          &lt;fileset dir=&quot;lib&quot;&gt;\r\n            &lt;exclude name=&quot;**/CVS/*&quot; /&gt;\r\n          &lt;/fileset&gt;\r\n        &lt;/copy&gt;\r\n        &lt;copy todir=&quot;jsp/WEB-INF/classes&quot;&gt;\r\n          &lt;fileset dir=&quot;classes&quot;&gt;\r\n            &lt;exclude name=&quot;**/CVS/*&quot; /&gt;\r\n          &lt;/fileset&gt;\r\n        &lt;/copy&gt;\r\n      &lt;/target&gt;\r\n      &lt;target name=&quot;compile&quot; depends=&quot;myproject-gen,reltag&quot;&gt;\r\n        &lt;copy file=&quot;setup/Version.java.template&quot; tofile=&quot;java/myproject/Version.java&quot; overwrite=&quot;true&quot;&gt;\r\n          &lt;filterset&gt;\r\n            &lt;filter token=&quot;VERSION&quot; value=&quot;${reltag}&quot; /&gt;\r\n          &lt;/filterset&gt;\r\n        &lt;/copy&gt;\r\n        &lt;mkdir dir=&quot;classes&quot; /&gt;\r\n        &lt;depend srcdir=&quot;java&quot; destdir=&quot;classes&quot; cache=&quot;depcache&quot; /&gt;\r\n        &lt;javac srcdir=&quot;java&quot; destdir=&quot;classes&quot;&gt;\r\n          &lt;classpath refid=&quot;project.class.path&quot; /&gt;\r\n        &lt;/javac&gt;\r\n      &lt;/target&gt;\r\n      &lt;target name=&quot;myproject-gen&quot; description=&quot;Generates torque classes and SQL for myproject&quot;&gt;\r\n        &lt;!-- generate the java files --&gt;\r\n        &lt;ant dir=&quot;torque&quot; target=&quot;om&quot; /&gt;\r\n        &lt;antcall target=&quot;myproject-sql-mysql&quot; /&gt;\r\n      &lt;/target&gt;\r\n      &lt;!-- generate the schema.sql script for MySQL --&gt;\r\n      &lt;target name=&quot;myproject-sql-mysql&quot; depends=&quot;myproject-sql-mysql-check&quot; unless=&quot;mysql.schema.up.to.date&quot;&gt;\r\n        &lt;echo message=&quot;Generating SQL file for MySQL&quot; /&gt;\r\n        &lt;ant dir=&quot;torque&quot; target=&quot;sql&quot;&gt;\r\n          &lt;property name=&quot;torque.database&quot; value=&quot;mysql&quot; /&gt;\r\n          &lt;property name=&quot;torque.runOnlyOnSchemaChange&quot; value=&quot;false&quot; /&gt;\r\n        &lt;/ant&gt;\r\n        &lt;move file=&quot;sql/gen/myproject-schema.sql&quot; tofile=&quot;sql/gen/myproject-schema-mysql.sql&quot; overwrite=&quot;true&quot; /&gt;\r\n        &lt;copy file=&quot;sql/gen/myproject-schema-mysql.sql&quot; tofile=&quot;jsp/admin/database.sql&quot; overwrite=&quot;true&quot; /&gt;\r\n        &lt;copy file=&quot;sql/init.sql&quot; tofile=&quot;jsp/admin/init.sql&quot; overwrite=&quot;true&quot; /&gt;\r\n      &lt;/target&gt;\r\n      &lt;!-- check if we need to generate the sql file --&gt;\r\n      &lt;target name=&quot;myproject-sql-mysql-check&quot;&gt;\r\n        &lt;uptodate property=&quot;mysql.schema.up.to.date&quot; targetfile=&quot;sql/gen/myproject-schema-mysql.sql&quot; srcfile=&quot;torque/myproject-schema.xml&quot; /&gt;\r\n      &lt;/target&gt;\r\n      &lt;target name=&quot;myproject-war&quot; depends=&quot;compile-jsp&quot;&gt;\r\n        &lt;mkdir dir=&quot;build&quot; /&gt;\r\n        &lt;jar destfile=&quot;build/myproject.war&quot; basedir=&quot;build/jsp&quot; /&gt;\r\n      &lt;/target&gt;\r\n      &lt;target name=&quot;prepare_for_war_file&quot;&gt;\r\n        &lt;mkdir dir=&quot;build\\jsp-classes\\org\\apache\\jsp&quot; /&gt;\r\n        &lt;!-- &lt;move todir=&quot;${build.home}/WEB-INF/classes/org/apache/jsp&quot;&gt; &lt;fileset dir=&quot;${build.home}&quot;&gt; &lt;include name=&quot;*.jsp&quot;/&gt; &lt;/fileset&gt; &lt;/move&gt; --&gt;\r\n        &lt;!-- copy everything which is not a jsp to admin directory --&gt;\r\n        &lt;copy tofile=&quot;${build.home}/admin/database.sql&quot;&gt;\r\n          &lt;fileset file=&quot;sql/gen/*-schema-mysql.sql&quot; /&gt;\r\n        &lt;/copy&gt;\r\n        &lt;copy file=&quot;sql/init.sql&quot; todir=&quot;${build.home}/admin&quot; /&gt;\r\n        &lt;mkdir dir=&quot;${build.home}/pdb_files&quot; /&gt;\r\n        &lt;!-- copy images directory --&gt;\r\n        &lt;copy todir=&quot;${build.home}/images&quot;&gt;\r\n          &lt;fileset dir=&quot;jsp/images&quot; /&gt;\r\n        &lt;/copy&gt;\r\n        &lt;copy todir=&quot;${build.home}/hand&quot;&gt;\r\n          &lt;fileset dir=&quot;jsp/hand&quot; /&gt;\r\n        &lt;/copy&gt;\r\n        &lt;!-- copy javascript directory --&gt;\r\n        &lt;copy todir=&quot;${build.home}/javascript&quot;&gt;\r\n          &lt;fileset dir=&quot;jsp/javascript&quot; /&gt;\r\n        &lt;/copy&gt;\r\n        &lt;!-- copy META-INF directory --&gt;\r\n        &lt;copy todir=&quot;${build.home}/META-INF&quot;&gt;\r\n          &lt;fileset dir=&quot;jsp/META-INF&quot; /&gt;\r\n        &lt;/copy&gt;\r\n        &lt;!-- copy stylesheet directory --&gt;\r\n        &lt;copy todir=&quot;${build.home}/stylesheet&quot;&gt;\r\n          &lt;fileset dir=&quot;jsp/stylesheet&quot; /&gt;\r\n        &lt;/copy&gt;\r\n        &lt;!-- copy WEB-INF directory --&gt;\r\n        &lt;copy todir=&quot;${build.home}/WEB-INF/classes/&quot;&gt;\r\n          &lt;fileset dir=&quot;classes/&quot; includes=&quot;**&quot; /&gt;\r\n        &lt;/copy&gt;\r\n        &lt;copy todir=&quot;${build.home}/WEB-INF/lib&quot;&gt;\r\n          &lt;fileset dir=&quot;lib&quot; includes=&quot;*.*&quot; excludes=&quot;Cabwiz&quot; /&gt;\r\n        &lt;/copy&gt;\r\n        &lt;!-- copy license and properties --&gt;\r\n        &lt;!--&lt;copy file=&quot;WebContent/myproject.license&quot; todir=&quot;${build.home}&quot;/&gt; --&gt;\r\n        &lt;copy file=&quot;jsp/myproject.properties&quot; todir=&quot;${build.home}&quot; /&gt;\r\n        &lt;!-- move jsp classes to the correct package structure so war file will work when deployed --&gt;\r\n        &lt;move todir=&quot;${build.home}/WEB-INF/classes/org/apache/jsp&quot;&gt;\r\n          &lt;fileset dir=&quot;${build.home}&quot; includes=&quot;**/*.class&quot; excludes=&quot;WEB-INF/**&quot; /&gt;\r\n        &lt;/move&gt;\r\n        &lt;antcall target=&quot;create-web_XML&quot;&gt;&lt;/antcall&gt;\r\n      &lt;/target&gt;\r\n      &lt;target name=&quot;create-web_XML&quot;&gt;\r\n        &lt;loadfile property=&quot;generated.web.xml&quot; srcFile=&quot;jsp/WEB-INF/generated_web.xml&quot; /&gt;\r\n        &lt;copy file=&quot;jsp/WEB-INF/web_template.xml&quot; tofile=&quot;jsp/WEB-INF/web.xml.deployable&quot; overwrite=&quot;true&quot;&gt;\r\n          &lt;filterset begintoken=&quot;&amp;lt;!--&quot; endToken=&quot;--&amp;gt;&quot;&gt;\r\n            &lt;filter token=&quot;GENERATED_WEB_XML&quot; value=&quot;${generated.web.xml}&quot; /&gt;\r\n          &lt;/filterset&gt;\r\n        &lt;/copy&gt;\r\n        &lt;copy file=&quot;jsp/WEB-INF/web.xml.deployable&quot; tofile=&quot;build/jsp/WEB-INF/web.xml&quot; /&gt;\r\n      &lt;/target&gt;\r\n      &lt;target name=&quot;compile-jsp&quot; depends=&quot;dev&quot;&gt;\r\n        &lt;antcall target=&quot;prepare_for_war_file&quot;&gt;&lt;/antcall&gt;\r\n        &lt;property environment=&quot;env&quot; /&gt;\r\n        &lt;taskdef classname=&quot;org.apache.jasper.JspC&quot; name=&quot;jasper2&quot;&gt;\r\n          &lt;classpath id=&quot;jspc.classpath&quot;&gt;\r\n            &lt;pathelement location=&quot;${java.home}/../lib/tools.jar&quot; /&gt;\r\n            &lt;fileset dir=&quot;${env.tomcat.home}/bin2&quot;&gt;\r\n              &lt;include name=&quot;*.jar&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n            &lt;fileset dir=&quot;${env.tomcat.home}/server/lib&quot;&gt;\r\n              &lt;include name=&quot;*.jar&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n            &lt;fileset dir=&quot;${env.tomcat.home}/common/lib&quot;&gt;\r\n              &lt;include name=&quot;*.jar&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n          &lt;/classpath&gt;\r\n        &lt;/taskdef&gt;\r\n        &lt;mkdir dir=&quot;java/jsp-src&quot; /&gt;\r\n        &lt;jasper2 validateXml=&quot;false&quot; package=&quot;org.apache.jsp&quot; uriroot=&quot;jsp&quot; webXmlFragment=&quot;jsp/WEB-INF/generated_web.xml&quot; outputDir=&quot;java/jsp-src&quot; /&gt;\r\n        &lt;jspc srcdir=&quot;jsp&quot; destdir=&quot;java/jsp-src&quot;&gt;\r\n          &lt;include name=&quot;include/**/*.jsp&quot; /&gt;\r\n          &lt;include name=&quot;**/*.jsp&quot; /&gt;\r\n        &lt;/jspc&gt;\r\n        &lt;mkdir dir=&quot;build/jsp-classes&quot; /&gt;\r\n        &lt;property environment=&quot;env&quot; /&gt;\r\n        &lt;javac destdir=&quot;build/jsp/WEB-INF/classes&quot; optimize=&quot;off&quot; debug=&quot;on&quot; failonerror=&quot;true&quot; srcdir=&quot;java/jsp-src&quot; excludes=&quot;**/*.smap&quot;&gt;\r\n          &lt;classpath&gt;\r\n            &lt;pathelement location=&quot;classes&quot; /&gt;\r\n            &lt;fileset dir=&quot;lib&quot;&gt;\r\n              &lt;include name=&quot;*.jar&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n            &lt;pathelement location=&quot;${env.tomcat.home}/common/classes&quot; /&gt;\r\n            &lt;fileset dir=&quot;${env.tomcat.home}/common/lib&quot;&gt;\r\n              &lt;include name=&quot;*.jar&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n            &lt;pathelement location=&quot;${env.tomcat.home}/shared/classes&quot; /&gt;\r\n            &lt;fileset dir=&quot;${env.tomcat.home}/shared/lib&quot;&gt;\r\n              &lt;include name=&quot;*.jar&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n            &lt;fileset dir=&quot;${env.tomcat.home}/bin&quot;&gt;\r\n              &lt;include name=&quot;*.jar&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n          &lt;/classpath&gt;\r\n          &lt;include name=&quot;**&quot; /&gt;\r\n          &lt;!--&lt;exclude name=&quot;**/includes/*menu_jsp.java&quot; /&gt; --&gt;\r\n        &lt;/javac&gt;\r\n      &lt;/target&gt;\r\n      &lt;target name=&quot;clean&quot; description=&quot;Deletes the java/classes dir and torque base objects&quot;&gt;\r\n        &lt;delete dir=&quot;classes&quot; /&gt;\r\n        &lt;delete dir=&quot;${build.home}&quot; /&gt;\r\n        &lt;delete&gt;\r\n          &lt;fileset file=&quot;build/*&quot; /&gt;\r\n        &lt;/delete&gt;\r\n        &lt;delete dir=&quot;java/myproject/torque/map&quot; /&gt;\r\n        &lt;delete dir=&quot;java/jsp-src&quot; /&gt;\r\n        &lt;delete dir=&quot;jsp/WEB-INF/classes&quot; /&gt;\r\n        &lt;delete dir=&quot;jsp/WEB-INF/lib&quot; /&gt;\r\n        &lt;delete&gt;\r\n          &lt;fileset dir=&quot;java/myproject/torque&quot; includes=&quot;Base*.java&quot; /&gt;\r\n        &lt;/delete&gt;\r\n        &lt;touch file=&quot;torque/myproject-schema.xml&quot; /&gt;\r\n      &lt;/target&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Ant build failed: &quot;Target &quot;build..xml&quot; does not exist&quot;","body":"<p>When I run the ant file in verbose mode, I got an error like the one below. Does anyone have any ideas what is going wrong? I am new to this</p>\n\n<pre><code>antlib:org.apache.tools.ant] Could not load definitions from resource org/apach\ne/tools/ant/antlib.xml. It could not be found.\nOverride ignored for property \"java.home\"\nBUILD FAILED\nTarget \"build.xml\" does not exist in the project \"MYPROJECT\".\n        at org.apache.tools.ant.Project.tsort(Project.java:1821)\n        at org.apache.tools.ant.Project..topoSort(Project.java:1729)\n        at org.apache.tools.ant.Project.topoSort(Project.java:1692)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1298)\n        at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1181)\n        at org.apache.tools.ant.Main.runBuild(Main.java:698)\n        at org.apache.tools.ant.Main.startAnt(Main.java:199)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)\nTotal time: 1 second\n</code></pre>\n\n<p>This is my <code>build.xml</code>:</p>\n\n<pre><code>&lt;project name=\"MYPROJECT\" default=\"dev\" basedir=\".\"&gt;\n  &lt;property name=\"build.home\" value=\"build/jsp\" /&gt;\n  &lt;property name=\"tomcat.home\" location=\"../Tomcat 5.0/\" /&gt;\n  &lt;path id=\"project.class.path\"&gt;\n    &lt;fileset dir=\"./lib/\"&gt;\n      &lt;include name=\"**/*.jar\" /&gt;\n    &lt;/fileset&gt;\n  &lt;/path&gt;\n  &lt;target name=\"reltag\"&gt;\n    &lt;tstamp&gt;\n      &lt;format property=\"now\" pattern=\"d MMM yyyy HH:mm\" /&gt;\n    &lt;/tstamp&gt;\n    &lt;property name=\"reltag\" value=\"Built date: ${now}\" /&gt;\n  &lt;/target&gt;\n  &lt;target name=\"dev\" depends=\"compile\" description=\"Builds for development\"&gt;\n    &lt;mkdir dir=\"jsp/WEB-INF/lib\" /&gt;\n    &lt;mkdir dir=\"jsp/WEB-INF/classes\" /&gt;\n    &lt;copy todir=\"jsp/WEB-INF/lib\"&gt;\n      &lt;fileset dir=\"lib\"&gt;\n        &lt;exclude name=\"**/CVS/*\" /&gt;\n      &lt;/fileset&gt;\n    &lt;/copy&gt;\n    &lt;copy todir=\"jsp/WEB-INF/classes\"&gt;\n      &lt;fileset dir=\"classes\"&gt;\n        &lt;exclude name=\"**/CVS/*\" /&gt;\n      &lt;/fileset&gt;\n    &lt;/copy&gt;\n  &lt;/target&gt;\n  &lt;target name=\"compile\" depends=\"myproject-gen,reltag\"&gt;\n    &lt;copy file=\"setup/Version.java.template\" tofile=\"java/myproject/Version.java\" overwrite=\"true\"&gt;\n      &lt;filterset&gt;\n        &lt;filter token=\"VERSION\" value=\"${reltag}\" /&gt;\n      &lt;/filterset&gt;\n    &lt;/copy&gt;\n    &lt;mkdir dir=\"classes\" /&gt;\n    &lt;depend srcdir=\"java\" destdir=\"classes\" cache=\"depcache\" /&gt;\n    &lt;javac srcdir=\"java\" destdir=\"classes\"&gt;\n      &lt;classpath refid=\"project.class.path\" /&gt;\n    &lt;/javac&gt;\n  &lt;/target&gt;\n  &lt;target name=\"myproject-gen\" description=\"Generates torque classes and SQL for myproject\"&gt;\n    &lt;!-- generate the java files --&gt;\n    &lt;ant dir=\"torque\" target=\"om\" /&gt;\n    &lt;antcall target=\"myproject-sql-mysql\" /&gt;\n  &lt;/target&gt;\n  &lt;!-- generate the schema.sql script for MySQL --&gt;\n  &lt;target name=\"myproject-sql-mysql\" depends=\"myproject-sql-mysql-check\" unless=\"mysql.schema.up.to.date\"&gt;\n    &lt;echo message=\"Generating SQL file for MySQL\" /&gt;\n    &lt;ant dir=\"torque\" target=\"sql\"&gt;\n      &lt;property name=\"torque.database\" value=\"mysql\" /&gt;\n      &lt;property name=\"torque.runOnlyOnSchemaChange\" value=\"false\" /&gt;\n    &lt;/ant&gt;\n    &lt;move file=\"sql/gen/myproject-schema.sql\" tofile=\"sql/gen/myproject-schema-mysql.sql\" overwrite=\"true\" /&gt;\n    &lt;copy file=\"sql/gen/myproject-schema-mysql.sql\" tofile=\"jsp/admin/database.sql\" overwrite=\"true\" /&gt;\n    &lt;copy file=\"sql/init.sql\" tofile=\"jsp/admin/init.sql\" overwrite=\"true\" /&gt;\n  &lt;/target&gt;\n  &lt;!-- check if we need to generate the sql file --&gt;\n  &lt;target name=\"myproject-sql-mysql-check\"&gt;\n    &lt;uptodate property=\"mysql.schema.up.to.date\" targetfile=\"sql/gen/myproject-schema-mysql.sql\" srcfile=\"torque/myproject-schema.xml\" /&gt;\n  &lt;/target&gt;\n  &lt;target name=\"myproject-war\" depends=\"compile-jsp\"&gt;\n    &lt;mkdir dir=\"build\" /&gt;\n    &lt;jar destfile=\"build/myproject.war\" basedir=\"build/jsp\" /&gt;\n  &lt;/target&gt;\n  &lt;target name=\"prepare_for_war_file\"&gt;\n    &lt;mkdir dir=\"build\\jsp-classes\\org\\apache\\jsp\" /&gt;\n    &lt;!-- &lt;move todir=\"${build.home}/WEB-INF/classes/org/apache/jsp\"&gt; &lt;fileset dir=\"${build.home}\"&gt; &lt;include name=\"*.jsp\"/&gt; &lt;/fileset&gt; &lt;/move&gt; --&gt;\n    &lt;!-- copy everything which is not a jsp to admin directory --&gt;\n    &lt;copy tofile=\"${build.home}/admin/database.sql\"&gt;\n      &lt;fileset file=\"sql/gen/*-schema-mysql.sql\" /&gt;\n    &lt;/copy&gt;\n    &lt;copy file=\"sql/init.sql\" todir=\"${build.home}/admin\" /&gt;\n    &lt;mkdir dir=\"${build.home}/pdb_files\" /&gt;\n    &lt;!-- copy images directory --&gt;\n    &lt;copy todir=\"${build.home}/images\"&gt;\n      &lt;fileset dir=\"jsp/images\" /&gt;\n    &lt;/copy&gt;\n    &lt;copy todir=\"${build.home}/hand\"&gt;\n      &lt;fileset dir=\"jsp/hand\" /&gt;\n    &lt;/copy&gt;\n    &lt;!-- copy javascript directory --&gt;\n    &lt;copy todir=\"${build.home}/javascript\"&gt;\n      &lt;fileset dir=\"jsp/javascript\" /&gt;\n    &lt;/copy&gt;\n    &lt;!-- copy META-INF directory --&gt;\n    &lt;copy todir=\"${build.home}/META-INF\"&gt;\n      &lt;fileset dir=\"jsp/META-INF\" /&gt;\n    &lt;/copy&gt;\n    &lt;!-- copy stylesheet directory --&gt;\n    &lt;copy todir=\"${build.home}/stylesheet\"&gt;\n      &lt;fileset dir=\"jsp/stylesheet\" /&gt;\n    &lt;/copy&gt;\n    &lt;!-- copy WEB-INF directory --&gt;\n    &lt;copy todir=\"${build.home}/WEB-INF/classes/\"&gt;\n      &lt;fileset dir=\"classes/\" includes=\"**\" /&gt;\n    &lt;/copy&gt;\n    &lt;copy todir=\"${build.home}/WEB-INF/lib\"&gt;\n      &lt;fileset dir=\"lib\" includes=\"*.*\" excludes=\"Cabwiz\" /&gt;\n    &lt;/copy&gt;\n    &lt;!-- copy license and properties --&gt;\n    &lt;!--&lt;copy file=\"WebContent/myproject.license\" todir=\"${build.home}\"/&gt; --&gt;\n    &lt;copy file=\"jsp/myproject.properties\" todir=\"${build.home}\" /&gt;\n    &lt;!-- move jsp classes to the correct package structure so war file will work when deployed --&gt;\n    &lt;move todir=\"${build.home}/WEB-INF/classes/org/apache/jsp\"&gt;\n      &lt;fileset dir=\"${build.home}\" includes=\"**/*.class\" excludes=\"WEB-INF/**\" /&gt;\n    &lt;/move&gt;\n    &lt;antcall target=\"create-web_XML\"&gt;&lt;/antcall&gt;\n  &lt;/target&gt;\n  &lt;target name=\"create-web_XML\"&gt;\n    &lt;loadfile property=\"generated.web.xml\" srcFile=\"jsp/WEB-INF/generated_web.xml\" /&gt;\n    &lt;copy file=\"jsp/WEB-INF/web_template.xml\" tofile=\"jsp/WEB-INF/web.xml.deployable\" overwrite=\"true\"&gt;\n      &lt;filterset begintoken=\"&amp;lt;!--\" endToken=\"--&amp;gt;\"&gt;\n        &lt;filter token=\"GENERATED_WEB_XML\" value=\"${generated.web.xml}\" /&gt;\n      &lt;/filterset&gt;\n    &lt;/copy&gt;\n    &lt;copy file=\"jsp/WEB-INF/web.xml.deployable\" tofile=\"build/jsp/WEB-INF/web.xml\" /&gt;\n  &lt;/target&gt;\n  &lt;target name=\"compile-jsp\" depends=\"dev\"&gt;\n    &lt;antcall target=\"prepare_for_war_file\"&gt;&lt;/antcall&gt;\n    &lt;property environment=\"env\" /&gt;\n    &lt;taskdef classname=\"org.apache.jasper.JspC\" name=\"jasper2\"&gt;\n      &lt;classpath id=\"jspc.classpath\"&gt;\n        &lt;pathelement location=\"${java.home}/../lib/tools.jar\" /&gt;\n        &lt;fileset dir=\"${env.tomcat.home}/bin2\"&gt;\n          &lt;include name=\"*.jar\" /&gt;\n        &lt;/fileset&gt;\n        &lt;fileset dir=\"${env.tomcat.home}/server/lib\"&gt;\n          &lt;include name=\"*.jar\" /&gt;\n        &lt;/fileset&gt;\n        &lt;fileset dir=\"${env.tomcat.home}/common/lib\"&gt;\n          &lt;include name=\"*.jar\" /&gt;\n        &lt;/fileset&gt;\n      &lt;/classpath&gt;\n    &lt;/taskdef&gt;\n    &lt;mkdir dir=\"java/jsp-src\" /&gt;\n    &lt;jasper2 validateXml=\"false\" package=\"org.apache.jsp\" uriroot=\"jsp\" webXmlFragment=\"jsp/WEB-INF/generated_web.xml\" outputDir=\"java/jsp-src\" /&gt;\n    &lt;jspc srcdir=\"jsp\" destdir=\"java/jsp-src\"&gt;\n      &lt;include name=\"include/**/*.jsp\" /&gt;\n      &lt;include name=\"**/*.jsp\" /&gt;\n    &lt;/jspc&gt;\n    &lt;mkdir dir=\"build/jsp-classes\" /&gt;\n    &lt;property environment=\"env\" /&gt;\n    &lt;javac destdir=\"build/jsp/WEB-INF/classes\" optimize=\"off\" debug=\"on\" failonerror=\"true\" srcdir=\"java/jsp-src\" excludes=\"**/*.smap\"&gt;\n      &lt;classpath&gt;\n        &lt;pathelement location=\"classes\" /&gt;\n        &lt;fileset dir=\"lib\"&gt;\n          &lt;include name=\"*.jar\" /&gt;\n        &lt;/fileset&gt;\n        &lt;pathelement location=\"${env.tomcat.home}/common/classes\" /&gt;\n        &lt;fileset dir=\"${env.tomcat.home}/common/lib\"&gt;\n          &lt;include name=\"*.jar\" /&gt;\n        &lt;/fileset&gt;\n        &lt;pathelement location=\"${env.tomcat.home}/shared/classes\" /&gt;\n        &lt;fileset dir=\"${env.tomcat.home}/shared/lib\"&gt;\n          &lt;include name=\"*.jar\" /&gt;\n        &lt;/fileset&gt;\n        &lt;fileset dir=\"${env.tomcat.home}/bin\"&gt;\n          &lt;include name=\"*.jar\" /&gt;\n        &lt;/fileset&gt;\n      &lt;/classpath&gt;\n      &lt;include name=\"**\" /&gt;\n      &lt;!--&lt;exclude name=\"**/includes/*menu_jsp.java\" /&gt; --&gt;\n    &lt;/javac&gt;\n  &lt;/target&gt;\n  &lt;target name=\"clean\" description=\"Deletes the java/classes dir and torque base objects\"&gt;\n    &lt;delete dir=\"classes\" /&gt;\n    &lt;delete dir=\"${build.home}\" /&gt;\n    &lt;delete&gt;\n      &lt;fileset file=\"build/*\" /&gt;\n    &lt;/delete&gt;\n    &lt;delete dir=\"java/myproject/torque/map\" /&gt;\n    &lt;delete dir=\"java/jsp-src\" /&gt;\n    &lt;delete dir=\"jsp/WEB-INF/classes\" /&gt;\n    &lt;delete dir=\"jsp/WEB-INF/lib\" /&gt;\n    &lt;delete&gt;\n      &lt;fileset dir=\"java/myproject/torque\" includes=\"Base*.java\" /&gt;\n    &lt;/delete&gt;\n    &lt;touch file=\"torque/myproject-schema.xml\" /&gt;\n  &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1681470798,"post_id":76013994,"comment_id":134065404,"body_markdown":"Based on the given name `jar-with-dependencies` I suppose you are not using spring-boot-maven-plugin correctly or not all. You seemed to be using maven-assembly-plugin? Furthermore if you have configured the spring boot maven plugin correctly there is no need to call `spring-boot:repackage` separately. It should be part of the rest `mvn package`... if not there is something wrong in your pom file... it would be helpful to see your full pom file..?","body":"Based on the given name <code>jar-with-dependencies</code> I suppose you are not using spring-boot-maven-plugin correctly or not all. You seemed to be using maven-assembly-plugin? Furthermore if you have configured the spring boot maven plugin correctly there is no need to call <code>spring-boot:repackage</code> separately. It should be part of the rest <code>mvn package</code>... if not there is something wrong in your pom file... it would be helpful to see your full pom file..?"}],"owner":{"account_id":7054874,"reputation":14062,"user_id":5402618,"accept_rate":45,"display_name":"CrazySynthax"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681467854,"creation_date":1681467261,"question_id":76013994,"body_markdown":"I created a simple Sprint Boot application. \r\nI build a jar file with the command:\r\n\r\n&gt;  mvn clean package spring-boot:repackage\r\n\r\nand I run the jar file extracted by running the command:\r\n\r\n java --jar .\\target\\proj-name-1.0-SNAPSHOT-jar-with-dependencies.jar\r\n\r\nHowever, I get the error:\r\n\r\n&gt; java.lang.IllegalArgumentException: No auto configuration classes\r\n&gt; found in META-INF/spring.factories. If you are using a custom\r\n&gt; packaging, make sure that file is correct.\r\n\r\n\r\nThis is how the plugin looks in pom.xml file:\r\n\r\n    &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;fork&gt;true&lt;/fork&gt;\r\n              &lt;mainClass&gt;&lt;package-name&gt;.Application&lt;/mainClass&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;repackage&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n\r\nI tried to add the file META-INF/spring.factories to src/main/resources and tried to run:\r\n&gt;  mvn clean package spring-boot:repackage\r\n\r\nUnfortunately, it didn&#39;t help.\r\n\r\nI also tried to delete the entire content of .m2 repository.\r\nAgain, it didn&#39;t help.\r\n\r\nDo you have any ideas?","title":"Spring Boot: No auto configuration classes found in META-INF/spring.factories","body":"<p>I created a simple Sprint Boot application.\nI build a jar file with the command:</p>\n<blockquote>\n<p>mvn clean package spring-boot:repackage</p>\n</blockquote>\n<p>and I run the jar file extracted by running the command:</p>\n<p>java --jar .\\target\\proj-name-1.0-SNAPSHOT-jar-with-dependencies.jar</p>\n<p>However, I get the error:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: No auto configuration classes\nfound in META-INF/spring.factories. If you are using a custom\npackaging, make sure that file is correct.</p>\n</blockquote>\n<p>This is how the plugin looks in pom.xml file:</p>\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${project.parent.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;fork&gt;true&lt;/fork&gt;\n          &lt;mainClass&gt;&lt;package-name&gt;.Application&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>I tried to add the file META-INF/spring.factories to src/main/resources and tried to run:</p>\n<blockquote>\n<p>mvn clean package spring-boot:repackage</p>\n</blockquote>\n<p>Unfortunately, it didn't help.</p>\n<p>I also tried to delete the entire content of .m2 repository.\nAgain, it didn't help.</p>\n<p>Do you have any ideas?</p>\n"},{"tags":["java","path"],"comments":[{"owner":{"account_id":4841967,"reputation":32807,"user_id":3906760,"accept_rate":91,"display_name":"MrTux"},"score":3,"creation_date":1574323995,"post_id":58970092,"comment_id":104194035,"body_markdown":"`new File(string).getName()` does work for folders!","body":"<code>new File(string).getName()</code> does work for folders!"},{"owner":{"account_id":4841967,"reputation":32807,"user_id":3906760,"accept_rate":91,"display_name":"MrTux"},"score":1,"creation_date":1574324050,"post_id":58970092,"comment_id":104194066,"body_markdown":"Maybe the &quot;newer&quot; Path API helps you: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html","body":"Maybe the &quot;newer&quot; Path API helps you: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html</a>"},{"owner":{"account_id":1507667,"reputation":72920,"user_id":1410664,"accept_rate":52,"display_name":"Caius Jard"},"score":0,"creation_date":1574324116,"post_id":58970092,"comment_id":104194099,"body_markdown":"When you said `new File(path).getName()` doesn&#39;t work, were you trying it on a path like `c:\\temp\\ ` with a trailing slash?","body":"When you said <code>new File(path).getName()</code> doesn&#39;t work, were you trying it on a path like <code>c:\\temp\\ </code> with a trailing slash?"},{"owner":{"account_id":16149826,"reputation":599,"user_id":11658553,"display_name":"H&#249;ng Nguyễn"},"score":0,"creation_date":1574324321,"post_id":58970092,"comment_id":104194189,"body_markdown":"Thanks, it was my bad. sometimes the string is empty so it return nothing.","body":"Thanks, it was my bad. sometimes the string is empty so it return nothing."}],"answers":[{"tags":[],"owner":{"account_id":13998125,"reputation":96,"user_id":10110428,"display_name":"Евгений Колпаков"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574324145,"creation_date":1574324145,"answer_id":58970188,"question_id":58970092,"body_markdown":"```\r\n  public static void main(String[] args) {\r\n    // String str = &quot;C:\\\\just\\\\another\\\\longer\\\\path\\\\&quot;;\r\n    // String str = &quot;/path/with/right/slashes/works/too/&quot;;\r\n       String str = &quot;C:\\\\and\\\\path\\\\with/mixed/slashes/works/too/&quot;;\r\n\r\n    // String str = &quot;C:\\\\just\\\\another\\\\longer\\\\path&quot;;\r\n    // String str = &quot;/path/with/right/slashes/works/too&quot;;\r\n    // String str = &quot;C:\\\\and\\\\path\\\\with/mixed/slashes/works/too&quot;;\r\n\r\n    String name = Paths.get(str.replace(&#39;\\\\&#39;, &#39;/&#39;)).toFile().getName();\r\n\r\n    System.out.println(&quot;name = &quot; + name);\r\n\r\n  }\r\n```","title":"Is there a better to get last element of an absolute path in java?","body":"<pre><code>  public static void main(String[] args) {\n    // String str = \"C:\\\\just\\\\another\\\\longer\\\\path\\\\\";\n    // String str = \"/path/with/right/slashes/works/too/\";\n       String str = \"C:\\\\and\\\\path\\\\with/mixed/slashes/works/too/\";\n\n    // String str = \"C:\\\\just\\\\another\\\\longer\\\\path\";\n    // String str = \"/path/with/right/slashes/works/too\";\n    // String str = \"C:\\\\and\\\\path\\\\with/mixed/slashes/works/too\";\n\n    String name = Paths.get(str.replace('\\\\', '/')).toFile().getName();\n\n    System.out.println(\"name = \" + name);\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1574324554,"creation_date":1574324210,"answer_id":58970195,"question_id":58970092,"body_markdown":"You can (and nowadays should) use [`java.nio.file.Path.getFileName()`](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getFileName()), which works like this for paths to files or directories (no matter if the `String` ends with a backslash or not):\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\tString pathStringToAFile = &quot;U:\\\\temp\\\\TestOutput\\\\TestFolder\\\\test_file.txt&quot;;\r\n\tString pathStringToAFolder = &quot;U:\\\\temp\\\\TestOutput\\\\TestFolder&quot;;\r\n\tString pathStringToAFolderWithTrailingBackslash = &quot;U:\\\\temp\\\\TestOutput\\\\TestFolder\\\\&quot;;\r\n\t\r\n\tPath pathToAFile = Paths.get(pathStringToAFile);\r\n\tPath pathToAFolder = Paths.get(pathStringToAFolder);\r\n\tPath pathToAFolderWithTrailingBackslash \r\n\t\t\t\t\t\t= Paths.get(pathStringToAFolderWithTrailingBackslash);\r\n\t\r\n\tSystem.out.println(pathToAFile.getFileName().toString());\r\n\tSystem.out.println(pathToAFolder.getFileName().toString());\r\n\tSystem.out.println(pathToAFolderWithTrailingBackslash.getFileName().toString());\r\n}\r\n```\r\n\r\nThis outputs\r\n\r\n```lang-none\r\ntest_file.txt\r\nTestFolder\r\nTestFolder\r\n```","title":"Is there a better to get last element of an absolute path in java?","body":"<p>You can (and nowadays should) use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getFileName()\" rel=\"noreferrer\"><code>java.nio.file.Path.getFileName()</code></a>, which works like this for paths to files or directories (no matter if the <code>String</code> ends with a backslash or not):</p>\n\n<pre><code>public static void main(String[] args) {\n    String pathStringToAFile = \"U:\\\\temp\\\\TestOutput\\\\TestFolder\\\\test_file.txt\";\n    String pathStringToAFolder = \"U:\\\\temp\\\\TestOutput\\\\TestFolder\";\n    String pathStringToAFolderWithTrailingBackslash = \"U:\\\\temp\\\\TestOutput\\\\TestFolder\\\\\";\n\n    Path pathToAFile = Paths.get(pathStringToAFile);\n    Path pathToAFolder = Paths.get(pathStringToAFolder);\n    Path pathToAFolderWithTrailingBackslash \n                        = Paths.get(pathStringToAFolderWithTrailingBackslash);\n\n    System.out.println(pathToAFile.getFileName().toString());\n    System.out.println(pathToAFolder.getFileName().toString());\n    System.out.println(pathToAFolderWithTrailingBackslash.getFileName().toString());\n}\n</code></pre>\n\n<p>This outputs</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>test_file.txt\nTestFolder\nTestFolder\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2383721,"reputation":66,"user_id":3685365,"display_name":"Kenneth S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574324483,"creation_date":1574324483,"answer_id":58970268,"question_id":58970092,"body_markdown":"You could use String.split:\r\n```\r\n\r\n    String path = &quot;D:\\just\\a\\path&quot;;\r\n    String[] directories = path.split(&quot;\\&quot;);\r\n    String last = directories[directories.size-1];\r\n\r\n```","title":"Is there a better to get last element of an absolute path in java?","body":"<p>You could use String.split:</p>\n\n<pre><code>\n    String path = \"D:\\just\\a\\path\";\n    String[] directories = path.split(\"\\\");\n    String last = directories[directories.size-1];\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8539162,"reputation":554,"user_id":6399834,"display_name":"Fidel Gonzo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681467790,"creation_date":1681467790,"answer_id":76014083,"question_id":58970092,"body_markdown":"Get last Directory of a path:\r\n\r\n`Paths.get(path).getParent().getFileName();`","title":"Is there a better to get last element of an absolute path in java?","body":"<p>Get last Directory of a path:</p>\n<p><code>Paths.get(path).getParent().getFileName();</code></p>\n"}],"owner":{"account_id":16149826,"reputation":599,"user_id":11658553,"display_name":"H&#249;ng Nguyễn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11027,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":58970195,"answer_count":4,"score":6,"last_activity_date":1681467790,"creation_date":1574323712,"question_id":58970092,"body_markdown":"I have many strings like this `D:\\just\\a\\path`, the string might differ in number of elements, maybe `C:\\just\\another\\longer\\path`. \r\n\r\nI want to get the last element `path`. \r\nI tried using `substring`:\r\n\r\n```Java\r\nmyString.substring(myString.lastIndexOf(&quot;/&quot;)+1)\r\n```\r\nand `Path`:\r\n\r\n```Java\r\nnameo1 = Paths.get(string).getName(Paths.get(string).getNameCount() -1); //-1 because of root\r\n```\r\n\r\nbut second method seems not to work with all operating system.\r\n\r\nMy question is: Is there any better, more elegant method to get exactly what I want?\r\n\r\nNOTE: the final element is a directory, a folder, not a file. So `new File(string).getName()` won&#39;t work and just return nothing.\r\n\r\nEdit: It was my bad. sometimes the string is empty so it return nothing. Cost me an hour working with it.\r\nEdit2: Some file paths contain white space, thus this method return an empty string\r\n\r\n","title":"Is there a better to get last element of an absolute path in java?","body":"<p>I have many strings like this <code>D:\\just\\a\\path</code>, the string might differ in number of elements, maybe <code>C:\\just\\another\\longer\\path</code>. </p>\n\n<p>I want to get the last element <code>path</code>. \nI tried using <code>substring</code>:</p>\n\n<pre><code>myString.substring(myString.lastIndexOf(\"/\")+1)\n</code></pre>\n\n<p>and <code>Path</code>:</p>\n\n<pre><code>nameo1 = Paths.get(string).getName(Paths.get(string).getNameCount() -1); //-1 because of root\n</code></pre>\n\n<p>but second method seems not to work with all operating system.</p>\n\n<p>My question is: Is there any better, more elegant method to get exactly what I want?</p>\n\n<p>NOTE: the final element is a directory, a folder, not a file. So <code>new File(string).getName()</code> won't work and just return nothing.</p>\n\n<p>Edit: It was my bad. sometimes the string is empty so it return nothing. Cost me an hour working with it.\nEdit2: Some file paths contain white space, thus this method return an empty string</p>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681455255,"creation_date":1681455255,"answer_id":76012329,"question_id":76010711,"body_markdown":"The `MultiResourceItemReader` is designed to read multiple file having the *same* structure. This is mentioned in the documentation here: [Multi-File Input](https://docs.spring.io/spring-batch/docs/current/reference/html/readersAndWriters.html#multiFileInput).\r\n\r\nIn your case, you are trying to use it to read files of different formats, which is the reason you are not able to achieve what you are looking for easily.\r\n\r\nIn my opinion, creating a custom reader would be a better option than trying to make that reader work for a case it was not designed for.","title":"How to create a dynamic DelimitedLineTokenizer from MultiResourceItemReader current resource?","body":"<p>The <code>MultiResourceItemReader</code> is designed to read multiple file having the <em>same</em> structure. This is mentioned in the documentation here: <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/readersAndWriters.html#multiFileInput\" rel=\"nofollow noreferrer\">Multi-File Input</a>.</p>\n<p>In your case, you are trying to use it to read files of different formats, which is the reason you are not able to achieve what you are looking for easily.</p>\n<p>In my opinion, creating a custom reader would be a better option than trying to make that reader work for a case it was not designed for.</p>\n"}],"owner":{"account_id":28298893,"reputation":1,"user_id":21637896,"display_name":"Dracuire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681467774,"creation_date":1681431283,"question_id":76010711,"body_markdown":"I have a directory with different csv files.\r\n\r\n`data_1_status.csv` has 3 fields `ID`, `status1` and `status2` (no header). Blank status is also valid\r\n```\r\n2984,COMPLETED,COMPLETED\r\n2985,COMPLETED,COMPLETED\r\n2986,COMPLETED,FAILED\r\n2987,,\r\n```\r\n\r\n`data_2_status.csv` has 4 fields `ID`, `status1`, `status2` and `status3` (no header). Blank status is also valid\r\n```\r\n16658,COMPLETED,COMPLETED,COMPLETED\r\n16659,COMPLETED,COMPLETED,FAILED\r\n16660,COMPLETED,FAILED,FAILED\r\n16661,,,\r\n```\r\n\r\nFrom my database I know the number of statuses for `data_1` and `data_2` and I don&#39;t want to create a specific job/step for each `data_x` because I will add in database more `data_x` without developping more code.\r\n\r\n# I exclude\r\nI exclude usage of `delimitedLineTokenizer.setStrict(false)` with a list of fake fileds like:\r\n``` lang-java\r\ndelimitedLineTokenizer.setNames(&quot;id&quot;, &quot;steps[0]&quot;, &quot;steps[1]&quot;, &quot;steps[2]&quot;, &quot;steps[3]&quot;, &quot;steps[4]&quot;, &quot;steps[5]&quot;, &quot;steps[6]&quot;, &quot;steps[7]&quot;, &quot;steps[8]&quot;, &quot;steps[9]&quot;);\r\n```\r\nbecause the mapping must fail and throw a FlatFileParseException if I have a missing field or an excess field and I have to make the difference between a missing field and an empty field:\r\n```\r\n2984,COMPLETED,COMPLETED      -&gt; valid (3 fields)\r\n2984,COMPLETED,COMPLETED,     -&gt; FlatFileParseException (4 fields) excess\r\n2984,COMPLETED,               -&gt; valid (3 fields)\r\n2984,,                        -&gt; valid (3 fields)\r\n2984,COMPLETED                -&gt; FlatFileParseException (2 fields) missing\r\n```\r\n\r\n# How to improve?\r\nI find a way to do it but I am absolutely not satisfied. The deprecated `getCurrentResource()` is triggering me, is there any alternative?\r\n\r\nOf course `ResourceAware` can not be used because the item `StatusCsvLine` is not mapped yet.\r\n``` lang-java\r\n@StepScope\r\n@Bean(name = &quot;statusesItemReader&quot;)\r\nMultiResourceItemReader&lt;StatusCsvLine&gt; statusItemReader() throws IOException {\r\n    MultiResourceItemReader&lt;StatusInputCsvLine&gt; reader = new MultiResourceItemReader&lt;&gt;();\r\n    ResourcePatternResolver patternResolver = new PathMatchingResourcePatternResolver();\r\n    Resource[] resources = patternResolver.getResources(&quot;file:/tmp/statuses/*_status.csv&quot;);\r\n    reader.setStrict(false);\r\n    reader.setResources(resources);\r\n    // The UGLY part is here: reader.getCurrentResource() is deprecated but I have to push it\r\n    // and I have to force push it with a callable because getCurrentResource() must be called during a Step execution (not the during the Bean initialization)\r\n    FlatFileItemReader&lt;StatusInputCsvLine&gt; itemReader = statusFlatFileItemReader(() -&gt; reader.getCurrentResource().getFilename());\r\n    reader.setDelegate(itemReader);\r\n    return reader;\r\n}\r\n```\r\n\r\n``` lang-java\r\nFlatFileItemReader&lt;StatusCsvLine&gt; statusItemReader(Callable&lt;String&gt; resourceNameCallable) {\r\n    BeanWrapperFieldSetMapper&lt;StatusCsvLine&gt; beanWrapperFieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\r\n    beanWrapperFieldSetMapper.setTargetType(StatusCsvLine.class);\r\n\r\n    DefaultLineMapper&lt;StatusCsvLine&gt; defaultLineMapper = new DefaultLineMapper&lt;StatusCsvLine&gt;() {\r\n        @Override\r\n        public StatusCsvLine mapLine(String line, int lineNumber) throws Exception {\r\n            String dataType = resourceNameCallable.call().replace(&quot;_status.csv&quot;, &quot;&quot;); // data_1 or data_2\r\n\r\n            \r\n            //  conf: {\r\n            //      dataType: &quot;data_1&quot;,\r\n            //      steps: [&quot;step_1&quot;, &quot;step_2&quot;]\r\n            //  },{\r\n            //      dataType: &quot;data_2&quot;,\r\n            //      steps: [&quot;step_1&quot;, &quot;step_2&quot;, &quot;step_3&quot;]\r\n            //  }\r\n            //\r\n            //  @Getter\r\n            //  @Setter\r\n            //  class ConfigData {\r\n            //      private String dataType;\r\n            //      private String[] steps;\r\n            //  }\r\n            \r\n            ConfigData conf = configDataRepository.findByName(dataType);\r\n\r\n\r\n            //\r\n            //  @Getter\r\n            //  @Setter\r\n            //  class StatusCsvLine {\r\n            //      private String id;\r\n            //      private String[] statusSteps;\r\n            //  }\r\n            //\r\n            //  I create the new tokenizer field names matching with StatusCsvLine class\r\n            \r\n            List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n            // I add the &quot;id&quot; field\r\n            names.add(&quot;id&quot;);\r\n            // I add the &quot;statusSteps[x]&quot; fields\r\n            for (int i = 0; i &lt; conf.status().length; i++) {\r\n                names.add(&quot;statusSteps[&quot; + i + &quot;]&quot;);\r\n            }\r\n\r\n            // I create a new tokenizer\r\n            DelimitedLineTokenizer delimitedLineTokenizer = new DelimitedLineTokenizer();\r\n            // I convert List&lt;String&gt; into String[]\r\n            delimitedLineTokenizer.setNames(names.toArray(new String[0])); // which creates delimitedLineTokenizer.setNames(&quot;id&quot;, &quot;statusSteps[0]&quot;, &quot;statusSteps[1]&quot;, &quot;statusSteps[2]&quot;)\r\n            delimitedLineTokenizer.setStrict(true);\r\n            \r\n            // I update the tokenizer in live\r\n            super.setLineTokenizer(delimitedLineTokenizer);\r\n            \r\n            // Then I call the mapper with its new custom tokenizer\r\n            return super.mapLine(line, lineNumber);\r\n        }\r\n    };\r\n    defaultLineMapper.setFieldSetMapper(beanWrapperFieldSetMapper);\r\n\r\n    return new FlatFileItemReaderBuilder&lt;StatusCsvLine&gt;()\r\n            .name(&quot;statusItemReader&quot;)\r\n            .lineMapper(defaultLineMapper)\r\n            .build();\r\n}\r\n```\r\n---\r\n## Edit 1: based on Mahmoud answer\r\nNo, the `MultiResourceItemReader` is not designed to manage different format. So I won&#39;t use it.\r\n\r\nI&#39;ve decided to create the steps dynamically based on the configuration. It means the Job must be recreated at each execution (right?). And it works as expected.\r\n\r\nI did it creating a &quot;prototype&quot; scope bean of my Job:\r\n``` lang-java\r\n@Bean(name = &quot;statusJob&quot;)\r\n@Scope(&quot;prototype&quot;)\r\nJob statusJob() {\r\n    SimpleJob statusJob = new SimpleJob(&quot;statusJob&quot;);\r\n    statusJob.setJobRepository(jobRepository);\r\n    statusJob.setSteps(statusJobSteps()); // Dynamic steps creation\r\n    return statusJob;\r\n}\r\n```\r\nAnd my scheduler takes a new instance of the job this way:\r\n``` lang-java\r\n@Scheduled(cron = &quot;${batch.scheduler.cron.status}&quot;)\r\npublic void statusJobScheduler() throws /*...*/ {\r\n    jobLauncher.run(context.getBean(&quot;statusJob&quot;, Job.class), new JobParametersBuilder()\r\n            .addLong(&quot;timestamp&quot;, System.currentTimeMillis())\r\n            .toJobParameters());\r\n}\r\n```\r\nAt this point I have a bit lack of knowledges and don&#39;t know if my solution is clean.\r\nI&#39;m more satisfied than my previous &quot;trick&quot;. However I don&#39;t know if Spring provides a solution to &quot;recreate&quot; the Job without the usage of &quot;prototype&quot;, or if I can remove &quot;obsolete&quot; steps and add new ones from the existing Job (depending on my configuration changes). Do you know if I can do it in a better way?","title":"How to create a dynamic DelimitedLineTokenizer from MultiResourceItemReader current resource?","body":"<p>I have a directory with different csv files.</p>\n<p><code>data_1_status.csv</code> has 3 fields <code>ID</code>, <code>status1</code> and <code>status2</code> (no header). Blank status is also valid</p>\n<pre><code>2984,COMPLETED,COMPLETED\n2985,COMPLETED,COMPLETED\n2986,COMPLETED,FAILED\n2987,,\n</code></pre>\n<p><code>data_2_status.csv</code> has 4 fields <code>ID</code>, <code>status1</code>, <code>status2</code> and <code>status3</code> (no header). Blank status is also valid</p>\n<pre><code>16658,COMPLETED,COMPLETED,COMPLETED\n16659,COMPLETED,COMPLETED,FAILED\n16660,COMPLETED,FAILED,FAILED\n16661,,,\n</code></pre>\n<p>From my database I know the number of statuses for <code>data_1</code> and <code>data_2</code> and I don't want to create a specific job/step for each <code>data_x</code> because I will add in database more <code>data_x</code> without developping more code.</p>\n<h1>I exclude</h1>\n<p>I exclude usage of <code>delimitedLineTokenizer.setStrict(false)</code> with a list of fake fileds like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>delimitedLineTokenizer.setNames(&quot;id&quot;, &quot;steps[0]&quot;, &quot;steps[1]&quot;, &quot;steps[2]&quot;, &quot;steps[3]&quot;, &quot;steps[4]&quot;, &quot;steps[5]&quot;, &quot;steps[6]&quot;, &quot;steps[7]&quot;, &quot;steps[8]&quot;, &quot;steps[9]&quot;);\n</code></pre>\n<p>because the mapping must fail and throw a FlatFileParseException if I have a missing field or an excess field and I have to make the difference between a missing field and an empty field:</p>\n<pre><code>2984,COMPLETED,COMPLETED      -&gt; valid (3 fields)\n2984,COMPLETED,COMPLETED,     -&gt; FlatFileParseException (4 fields) excess\n2984,COMPLETED,               -&gt; valid (3 fields)\n2984,,                        -&gt; valid (3 fields)\n2984,COMPLETED                -&gt; FlatFileParseException (2 fields) missing\n</code></pre>\n<h1>How to improve?</h1>\n<p>I find a way to do it but I am absolutely not satisfied. The deprecated <code>getCurrentResource()</code> is triggering me, is there any alternative?</p>\n<p>Of course <code>ResourceAware</code> can not be used because the item <code>StatusCsvLine</code> is not mapped yet.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@StepScope\n@Bean(name = &quot;statusesItemReader&quot;)\nMultiResourceItemReader&lt;StatusCsvLine&gt; statusItemReader() throws IOException {\n    MultiResourceItemReader&lt;StatusInputCsvLine&gt; reader = new MultiResourceItemReader&lt;&gt;();\n    ResourcePatternResolver patternResolver = new PathMatchingResourcePatternResolver();\n    Resource[] resources = patternResolver.getResources(&quot;file:/tmp/statuses/*_status.csv&quot;);\n    reader.setStrict(false);\n    reader.setResources(resources);\n    // The UGLY part is here: reader.getCurrentResource() is deprecated but I have to push it\n    // and I have to force push it with a callable because getCurrentResource() must be called during a Step execution (not the during the Bean initialization)\n    FlatFileItemReader&lt;StatusInputCsvLine&gt; itemReader = statusFlatFileItemReader(() -&gt; reader.getCurrentResource().getFilename());\n    reader.setDelegate(itemReader);\n    return reader;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>FlatFileItemReader&lt;StatusCsvLine&gt; statusItemReader(Callable&lt;String&gt; resourceNameCallable) {\n    BeanWrapperFieldSetMapper&lt;StatusCsvLine&gt; beanWrapperFieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\n    beanWrapperFieldSetMapper.setTargetType(StatusCsvLine.class);\n\n    DefaultLineMapper&lt;StatusCsvLine&gt; defaultLineMapper = new DefaultLineMapper&lt;StatusCsvLine&gt;() {\n        @Override\n        public StatusCsvLine mapLine(String line, int lineNumber) throws Exception {\n            String dataType = resourceNameCallable.call().replace(&quot;_status.csv&quot;, &quot;&quot;); // data_1 or data_2\n\n            \n            //  conf: {\n            //      dataType: &quot;data_1&quot;,\n            //      steps: [&quot;step_1&quot;, &quot;step_2&quot;]\n            //  },{\n            //      dataType: &quot;data_2&quot;,\n            //      steps: [&quot;step_1&quot;, &quot;step_2&quot;, &quot;step_3&quot;]\n            //  }\n            //\n            //  @Getter\n            //  @Setter\n            //  class ConfigData {\n            //      private String dataType;\n            //      private String[] steps;\n            //  }\n            \n            ConfigData conf = configDataRepository.findByName(dataType);\n\n\n            //\n            //  @Getter\n            //  @Setter\n            //  class StatusCsvLine {\n            //      private String id;\n            //      private String[] statusSteps;\n            //  }\n            //\n            //  I create the new tokenizer field names matching with StatusCsvLine class\n            \n            List&lt;String&gt; names = new ArrayList&lt;&gt;();\n            // I add the &quot;id&quot; field\n            names.add(&quot;id&quot;);\n            // I add the &quot;statusSteps[x]&quot; fields\n            for (int i = 0; i &lt; conf.status().length; i++) {\n                names.add(&quot;statusSteps[&quot; + i + &quot;]&quot;);\n            }\n\n            // I create a new tokenizer\n            DelimitedLineTokenizer delimitedLineTokenizer = new DelimitedLineTokenizer();\n            // I convert List&lt;String&gt; into String[]\n            delimitedLineTokenizer.setNames(names.toArray(new String[0])); // which creates delimitedLineTokenizer.setNames(&quot;id&quot;, &quot;statusSteps[0]&quot;, &quot;statusSteps[1]&quot;, &quot;statusSteps[2]&quot;)\n            delimitedLineTokenizer.setStrict(true);\n            \n            // I update the tokenizer in live\n            super.setLineTokenizer(delimitedLineTokenizer);\n            \n            // Then I call the mapper with its new custom tokenizer\n            return super.mapLine(line, lineNumber);\n        }\n    };\n    defaultLineMapper.setFieldSetMapper(beanWrapperFieldSetMapper);\n\n    return new FlatFileItemReaderBuilder&lt;StatusCsvLine&gt;()\n            .name(&quot;statusItemReader&quot;)\n            .lineMapper(defaultLineMapper)\n            .build();\n}\n</code></pre>\n<hr />\n<h2>Edit 1: based on Mahmoud answer</h2>\n<p>No, the <code>MultiResourceItemReader</code> is not designed to manage different format. So I won't use it.</p>\n<p>I've decided to create the steps dynamically based on the configuration. It means the Job must be recreated at each execution (right?). And it works as expected.</p>\n<p>I did it creating a &quot;prototype&quot; scope bean of my Job:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name = &quot;statusJob&quot;)\n@Scope(&quot;prototype&quot;)\nJob statusJob() {\n    SimpleJob statusJob = new SimpleJob(&quot;statusJob&quot;);\n    statusJob.setJobRepository(jobRepository);\n    statusJob.setSteps(statusJobSteps()); // Dynamic steps creation\n    return statusJob;\n}\n</code></pre>\n<p>And my scheduler takes a new instance of the job this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(cron = &quot;${batch.scheduler.cron.status}&quot;)\npublic void statusJobScheduler() throws /*...*/ {\n    jobLauncher.run(context.getBean(&quot;statusJob&quot;, Job.class), new JobParametersBuilder()\n            .addLong(&quot;timestamp&quot;, System.currentTimeMillis())\n            .toJobParameters());\n}\n</code></pre>\n<p>At this point I have a bit lack of knowledges and don't know if my solution is clean.\nI'm more satisfied than my previous &quot;trick&quot;. However I don't know if Spring provides a solution to &quot;recreate&quot; the Job without the usage of &quot;prototype&quot;, or if I can remove &quot;obsolete&quot; steps and add new ones from the existing Job (depending on my configuration changes). Do you know if I can do it in a better way?</p>\n"},{"tags":["java","string","url"],"comments":[{"owner":{"account_id":10671711,"reputation":821,"user_id":7856586,"display_name":"Roman Soviak"},"score":0,"creation_date":1614865841,"post_id":4050087,"comment_id":117519859,"body_markdown":"The method `getLastPathSegment ` doesn&#39;t work with `:` in Android 6.0","body":"The method <code>getLastPathSegment </code> doesn&#39;t work with <code>:</code> in Android 6.0"}],"answers":[{"tags":[],"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"down_vote_count":0,"up_vote_count":215,"is_accepted":true,"score":215,"last_activity_date":1288340201,"creation_date":1288339862,"answer_id":4050114,"question_id":4050087,"body_markdown":"is that what you are looking for:\r\n\r\n    URI uri = new URI(&quot;http://example.com/foo/bar/42?param=true&quot;);\r\n    String path = uri.getPath();\r\n    String idStr = path.substring(path.lastIndexOf(&#39;/&#39;) + 1);\r\n    int id = Integer.parseInt(idStr);\r\n\r\nalternatively\r\n\r\n    URI uri = new URI(&quot;http://example.com/foo/bar/42?param=true&quot;);\r\n    String[] segments = uri.getPath().split(&quot;/&quot;);\r\n    String idStr = segments[segments.length-1];\r\n    int id = Integer.parseInt(idStr);","title":"How to obtain the last path segment of a URI","body":"<p>is that what you are looking for:</p>\n\n<pre><code>URI uri = new URI(\"http://example.com/foo/bar/42?param=true\");\nString path = uri.getPath();\nString idStr = path.substring(path.lastIndexOf('/') + 1);\nint id = Integer.parseInt(idStr);\n</code></pre>\n\n<p>alternatively</p>\n\n<pre><code>URI uri = new URI(\"http://example.com/foo/bar/42?param=true\");\nString[] segments = uri.getPath().split(\"/\");\nString idStr = segments[segments.length-1];\nint id = Integer.parseInt(idStr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":82522,"reputation":954,"user_id":231961,"accept_rate":64,"display_name":"Nageswara Rao"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1378901460,"creation_date":1288340234,"answer_id":4050142,"question_id":4050087,"body_markdown":"Get URL from URI and use getFile() if you are not ready to use substring way of extracting file.","title":"How to obtain the last path segment of a URI","body":"<p>Get URL from URI and use getFile() if you are not ready to use substring way of extracting file.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1495958160,"creation_date":1288341486,"answer_id":4050276,"question_id":4050087,"body_markdown":"Here&#39;s a short method to do it:\r\n\r\n    public static String getLastBitFromUrl(final String url){\r\n        // return url.replaceFirst(&quot;[^?]*/(.*?)(?:\\\\?.*)&quot;,&quot;$1);&quot; &lt;-- incorrect\r\n        return url.replaceFirst(&quot;.*/([^/?]+).*&quot;, &quot;$1&quot;);\r\n    }\r\n\r\nTest Code:\r\n\r\n    public static void main(final String[] args){\r\n        System.out.println(getLastBitFromUrl(\r\n            &quot;http://example.com/foo/bar/42?param=true&quot;));\r\n        System.out.println(getLastBitFromUrl(&quot;http://example.com/foo&quot;));\r\n        System.out.println(getLastBitFromUrl(&quot;http://example.com/bar/&quot;));\r\n    }\r\n\r\nOutput:\r\n\r\n&gt; 42  \r\n&gt; foo  \r\n&gt; bar\r\n\r\n\r\nExplanation:\r\n\r\n    .*/      // find anything up to the last / character\r\n    ([^/?]+) // find (and capture) all following characters up to the next / or ?\r\n             // the + makes sure that at least 1 character is matched\r\n    .*       // find all following characters\r\n    \r\n    \r\n    $1       // this variable references the saved second group from above\r\n             // I.e. the entire string is replaces with just the portion\r\n             // captured by the parentheses above","title":"How to obtain the last path segment of a URI","body":"<p>Here's a short method to do it:</p>\n\n<pre><code>public static String getLastBitFromUrl(final String url){\n    // return url.replaceFirst(\"[^?]*/(.*?)(?:\\\\?.*)\",\"$1);\" &lt;-- incorrect\n    return url.replaceFirst(\".*/([^/?]+).*\", \"$1\");\n}\n</code></pre>\n\n<p>Test Code:</p>\n\n<pre><code>public static void main(final String[] args){\n    System.out.println(getLastBitFromUrl(\n        \"http://example.com/foo/bar/42?param=true\"));\n    System.out.println(getLastBitFromUrl(\"http://example.com/foo\"));\n    System.out.println(getLastBitFromUrl(\"http://example.com/bar/\"));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>42<br>\n  foo<br>\n  bar</p>\n</blockquote>\n\n<p>Explanation:</p>\n\n<pre><code>.*/      // find anything up to the last / character\n([^/?]+) // find (and capture) all following characters up to the next / or ?\n         // the + makes sure that at least 1 character is matched\n.*       // find all following characters\n\n\n$1       // this variable references the saved second group from above\n         // I.e. the entire string is replaces with just the portion\n         // captured by the parentheses above\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5759626,"reputation":1756,"user_id":4546442,"accept_rate":11,"display_name":"Colateral"},"down_vote_count":4,"up_vote_count":86,"is_accepted":false,"score":82,"last_activity_date":1431621184,"creation_date":1424349002,"answer_id":28606476,"question_id":4050087,"body_markdown":"    import android.net.Uri;\r\n    Uri uri = Uri.parse(&quot;http://example.com/foo/bar/42?param=true&quot;);\r\n    String token = uri.getLastPathSegment();","title":"How to obtain the last path segment of a URI","body":"<pre><code>import android.net.Uri;\nUri uri = Uri.parse(\"http://example.com/foo/bar/42?param=true\");\nString token = uri.getLastPathSegment();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1430944751,"creation_date":1430944751,"answer_id":30087084,"question_id":4050087,"body_markdown":"I know this is old, but the solutions here seem rather verbose. Just an easily readable one-liner if you have a `URL` or `URI`:\r\n\r\n    String filename = new File(url.getPath()).getName();\r\n\r\nOr if you have a `String`:\r\n\r\n    String filename = new File(new URL(url).getPath()).getName();\r\n","title":"How to obtain the last path segment of a URI","body":"<p>I know this is old, but the solutions here seem rather verbose. Just an easily readable one-liner if you have a <code>URL</code> or <code>URI</code>:</p>\n\n<pre><code>String filename = new File(url.getPath()).getName();\n</code></pre>\n\n<p>Or if you have a <code>String</code>:</p>\n\n<pre><code>String filename = new File(new URL(url).getPath()).getName();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2760668,"reputation":2685,"user_id":2377639,"display_name":"Will Humphreys"},"down_vote_count":3,"up_vote_count":19,"is_accepted":false,"score":16,"last_activity_date":1491319167,"creation_date":1470376418,"answer_id":38782027,"question_id":4050087,"body_markdown":"If you are using Java 8 and you want the last segment in a file path you can do.\r\n \r\n\r\n    Path path = Paths.get(&quot;example/path/to/file&quot;);\r\n    String lastSegment = path.getFileName().toString();\r\n\r\nIf you have a url such as `http://base_path/some_segment/id` you can do.\r\n\r\n    final Path urlPath = Paths.get(&quot;http://base_path/some_segment/id&quot;);\r\n    final Path lastSegment = urlPath.getName(urlPath.getNameCount() - 1);\r\n\r\n","title":"How to obtain the last path segment of a URI","body":"<p>If you are using Java 8 and you want the last segment in a file path you can do.</p>\n\n<pre><code>Path path = Paths.get(\"example/path/to/file\");\nString lastSegment = path.getFileName().toString();\n</code></pre>\n\n<p>If you have a url such as <code>http://base_path/some_segment/id</code> you can do.</p>\n\n<pre><code>final Path urlPath = Paths.get(\"http://base_path/some_segment/id\");\nfinal Path lastSegment = urlPath.getName(urlPath.getNameCount() - 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1967545,"reputation":5365,"user_id":1767366,"accept_rate":90,"display_name":"Bnrdo"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1478141029,"creation_date":1478141029,"answer_id":40393024,"question_id":4050087,"body_markdown":"If you have `commons-io` included in your project, you can do it without creating unecessary objects with `org.apache.commons.io.FilenameUtils`\r\n\r\n    String uri = &quot;http://base_path/some_segment/id&quot;;\r\n    String fileName = FilenameUtils.getName(uri);\r\n    System.out.println(fileName);\r\n\r\nWill give you the last part of the path, which is the `id`","title":"How to obtain the last path segment of a URI","body":"<p>If you have <code>commons-io</code> included in your project, you can do it without creating unecessary objects with <code>org.apache.commons.io.FilenameUtils</code></p>\n\n<pre><code>String uri = \"http://base_path/some_segment/id\";\nString fileName = FilenameUtils.getName(uri);\nSystem.out.println(fileName);\n</code></pre>\n\n<p>Will give you the last part of the path, which is the <code>id</code></p>\n"},{"tags":[],"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1481641711,"creation_date":1481641405,"answer_id":41124273,"question_id":4050087,"body_markdown":"In Java 7+ a few of the previous answers can be combined to allow retrieval of _any_ path segment from a URI, rather than just the last segment. We can convert the URI to a [`java.nio.file.Path`](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html) object, to take advantage of its [`getName(int)`](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getName(int)) method.\r\n\r\nUnfortunately, the static factory `Paths.get(uri)` is not built to handle the http scheme, so we first need to separate the scheme from the URI&#39;s path.\r\n\r\n    URI uri = URI.create(&quot;http://base_path/some_segment/id&quot;);\r\n    Path path = Paths.get(uri.getPath());\r\n    String last = path.getFileName().toString();\r\n    String secondToLast = path.getName(path.getNameCount() - 2).toString();\r\n\r\nTo get the last segment in one line of code, simply nest the lines above.\r\n\r\n`Paths.get(URI.create(&quot;http://base_path/some_segment/id&quot;).getPath()).getFileName().toString()`\r\n\r\nTo get the second-to-last segment while avoiding index numbers and the potential for off-by-one errors, use the [`getParent()`](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getParent()) method.\r\n\r\n`String secondToLast = path.getParent().getFileName().toString();`\r\n\r\nNote the `getParent()` method can be called repeatedly to retrieve segments in reverse order. In this example, the path only contains two segments, otherwise calling `getParent().getParent()` would retrieve the third-to-last segment.","title":"How to obtain the last path segment of a URI","body":"<p>In Java 7+ a few of the previous answers can be combined to allow retrieval of <em>any</em> path segment from a URI, rather than just the last segment. We can convert the URI to a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\" rel=\"noreferrer\"><code>java.nio.file.Path</code></a> object, to take advantage of its <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getName(int)\" rel=\"noreferrer\"><code>getName(int)</code></a> method.</p>\n\n<p>Unfortunately, the static factory <code>Paths.get(uri)</code> is not built to handle the http scheme, so we first need to separate the scheme from the URI's path.</p>\n\n<pre><code>URI uri = URI.create(\"http://base_path/some_segment/id\");\nPath path = Paths.get(uri.getPath());\nString last = path.getFileName().toString();\nString secondToLast = path.getName(path.getNameCount() - 2).toString();\n</code></pre>\n\n<p>To get the last segment in one line of code, simply nest the lines above.</p>\n\n<p><code>Paths.get(URI.create(\"http://base_path/some_segment/id\").getPath()).getFileName().toString()</code></p>\n\n<p>To get the second-to-last segment while avoiding index numbers and the potential for off-by-one errors, use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getParent()\" rel=\"noreferrer\"><code>getParent()</code></a> method.</p>\n\n<p><code>String secondToLast = path.getParent().getFileName().toString();</code></p>\n\n<p>Note the <code>getParent()</code> method can be called repeatedly to retrieve segments in reverse order. In this example, the path only contains two segments, otherwise calling <code>getParent().getParent()</code> would retrieve the third-to-last segment.</p>\n"},{"tags":[],"owner":{"account_id":2109488,"reputation":1526,"user_id":1875049,"accept_rate":100,"display_name":"Sina Masnadi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1674080306,"creation_date":1501866851,"answer_id":45512281,"question_id":4050087,"body_markdown":"You can use `getPathSegments()` function. ([Android Documentation][1])\r\n\r\nConsider your example URI:\r\n\r\n    String uri = &quot;http://base_path/some_segment/id&quot;\r\n\r\nYou can get the last segment using:\r\n\r\n    List&lt;String&gt; pathSegments = uri.getPathSegments();\r\n    String lastSegment = pathSegments.get(pathSegments.size() - 1);\r\n\r\n`lastSegment` will be `id`.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/net/Uri.html#getPathSegments()","title":"How to obtain the last path segment of a URI","body":"<p>You can use <code>getPathSegments()</code> function. (<a href=\"https://developer.android.com/reference/android/net/Uri.html#getPathSegments()\" rel=\"nofollow noreferrer\">Android Documentation</a>)</p>\n<p>Consider your example URI:</p>\n<pre><code>String uri = &quot;http://base_path/some_segment/id&quot;\n</code></pre>\n<p>You can get the last segment using:</p>\n<pre><code>List&lt;String&gt; pathSegments = uri.getPathSegments();\nString lastSegment = pathSegments.get(pathSegments.size() - 1);\n</code></pre>\n<p><code>lastSegment</code> will be <code>id</code>.</p>\n"},{"tags":[],"owner":{"account_id":114118,"reputation":4732,"user_id":300236,"accept_rate":67,"display_name":"Brill Pappin"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1520007108,"creation_date":1520007108,"answer_id":49073032,"question_id":4050087,"body_markdown":"**In Android**\r\n\r\nAndroid has a built in class for managing URIs.\r\n\r\n    Uri uri = Uri.parse(&quot;http://base_path/some_segment/id&quot;);\r\n    String lastPathSegment = uri.getLastPathSegment()","title":"How to obtain the last path segment of a URI","body":"<p><strong>In Android</strong></p>\n\n<p>Android has a built in class for managing URIs.</p>\n\n<pre><code>Uri uri = Uri.parse(\"http://base_path/some_segment/id\");\nString lastPathSegment = uri.getLastPathSegment()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541759179,"creation_date":1541759179,"answer_id":53223940,"question_id":4050087,"body_markdown":"I&#39;m using the following in a utility class:\r\n\r\n\tpublic static String lastNUriPathPartsOf(final String uri, final int n, final String... ellipsis)\r\n\t  throws URISyntaxException {\r\n\t\treturn lastNUriPathPartsOf(new URI(uri), n, ellipsis);\r\n\t}\r\n\r\n\tpublic static String lastNUriPathPartsOf(final URI uri, final int n, final String... ellipsis) {\r\n\t\treturn uri.toString().contains(&quot;/&quot;)\r\n\t\t    ? (ellipsis.length == 0 ? &quot;...&quot; : ellipsis[0])\r\n\t\t\t  + uri.toString().substring(StringUtils.lastOrdinalIndexOf(uri.toString(), &quot;/&quot;, n))\r\n\t\t    : uri.toString();\r\n\t}","title":"How to obtain the last path segment of a URI","body":"<p>I'm using the following in a utility class:</p>\n\n<pre><code>public static String lastNUriPathPartsOf(final String uri, final int n, final String... ellipsis)\n  throws URISyntaxException {\n    return lastNUriPathPartsOf(new URI(uri), n, ellipsis);\n}\n\npublic static String lastNUriPathPartsOf(final URI uri, final int n, final String... ellipsis) {\n    return uri.toString().contains(\"/\")\n        ? (ellipsis.length == 0 ? \"...\" : ellipsis[0])\n          + uri.toString().substring(StringUtils.lastOrdinalIndexOf(uri.toString(), \"/\", n))\n        : uri.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1585703165,"creation_date":1585703165,"answer_id":60962175,"question_id":4050087,"body_markdown":"You can also use replaceAll:\r\n\r\n    String uri = &quot;http://base_path/some_segment/id&quot;\r\n    String lastSegment = uri.replaceAll(&quot;.*/&quot;, &quot;&quot;)\r\n\r\n    System.out.println(lastSegment);\r\nresult:\r\n\r\n    id","title":"How to obtain the last path segment of a URI","body":"<p>You can also use replaceAll:</p>\n\n<pre><code>String uri = \"http://base_path/some_segment/id\"\nString lastSegment = uri.replaceAll(\".*/\", \"\")\n\nSystem.out.println(lastSegment);\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>id\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20837222,"reputation":3801,"user_id":15304803,"display_name":"balu k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640066025,"creation_date":1640066025,"answer_id":70431182,"question_id":4050087,"body_markdown":"you can get list of path segments from the Uri class\r\n\r\n    String id = Uri.tryParse(&quot;http://base_path/some_segment/id&quot;)?.pathSegments.last ?? &quot;InValid URL&quot;;\r\n\r\nIt will return id if the url is valid, if it is invalid it returns &quot;Invalid url&quot;","title":"How to obtain the last path segment of a URI","body":"<p>you can get list of path segments from the Uri class</p>\n<pre><code>String id = Uri.tryParse(&quot;http://base_path/some_segment/id&quot;)?.pathSegments.last ?? &quot;InValid URL&quot;;\n</code></pre>\n<p>It will return id if the url is valid, if it is invalid it returns &quot;Invalid url&quot;</p>\n"},{"tags":[],"owner":{"account_id":8539162,"reputation":554,"user_id":6399834,"display_name":"Fidel Gonzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681467729,"creation_date":1681467729,"answer_id":76014069,"question_id":4050087,"body_markdown":"If you want to get the last DIR path segment:\r\n\r\n    Paths.get(path).getParent().getFileName();","title":"How to obtain the last path segment of a URI","body":"<p>If you want to get the last DIR path segment:</p>\n<pre><code>Paths.get(path).getParent().getFileName();\n</code></pre>\n"}],"owner":{"account_id":225696,"reputation":1593,"user_id":486319,"accept_rate":88,"display_name":"DX89B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182652,"favorite_count":0,"down_vote_count":1,"up_vote_count":141,"accepted_answer_id":4050114,"answer_count":14,"score":140,"last_activity_date":1681467729,"creation_date":1288339527,"question_id":4050087,"body_markdown":"I have as input a string that is a `URI`. how is it possible to get the last path segment (that in my case is an id)?\r\n\r\nThis is my input URL: \r\n\r\n    String uri = &quot;http://base_path/some_segment/id&quot;\r\n\r\nand I have to obtain the id I have tried with this:\r\n\r\n    String strId = &quot;http://base_path/some_segment/id&quot;;\r\n    strId = strId.replace(path);\r\n\tstrId = strId.replaceAll(&quot;/&quot;, &quot;&quot;);\r\n\tInteger id =  new Integer(strId);\r\n\treturn id.intValue();\r\n\r\n\r\nbut it doesn&#39;t work, and surely there must be a better way to do it.","title":"How to obtain the last path segment of a URI","body":"<p>I have as input a string that is a <code>URI</code>. how is it possible to get the last path segment (that in my case is an id)?</p>\n<p>This is my input URL:</p>\n<pre><code>String uri = &quot;http://base_path/some_segment/id&quot;\n</code></pre>\n<p>and I have to obtain the id I have tried with this:</p>\n<pre><code>String strId = &quot;http://base_path/some_segment/id&quot;;\nstrId = strId.replace(path);\nstrId = strId.replaceAll(&quot;/&quot;, &quot;&quot;);\nInteger id =  new Integer(strId);\nreturn id.intValue();\n</code></pre>\n<p>but it doesn't work, and surely there must be a better way to do it.</p>\n"},{"tags":["java","api","usb","jusb"],"answers":[{"tags":[],"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1233278452,"creation_date":1233278117,"answer_id":494148,"question_id":444497,"body_markdown":"&gt; I would like two java programs to communicate directly over the USB without going through a device or cable\r\n\r\nHuh? USB connects a device to a host via a cable.\r\n\r\nedit: If I had to quickly use two Java programs to communicate, one on a device and one on a host, I would almost certainly use the USB link (configured that way outside of the scope of Java) to act as a serial stream and use a serial library like [rxtx][1].\r\n\r\n\r\n  [1]: http://rxtx.org/","title":"Using Java and USB: Which API to use? jsr-80, jusb, ...?","body":"<blockquote>\n  <p>I would like two java programs to communicate directly over the USB without going through a device or cable</p>\n</blockquote>\n\n<p>Huh? USB connects a device to a host via a cable.</p>\n\n<p>edit: If I had to quickly use two Java programs to communicate, one on a device and one on a host, I would almost certainly use the USB link (configured that way outside of the scope of Java) to act as a serial stream and use a serial library like <a href=\"http://rxtx.org/\" rel=\"nofollow noreferrer\">rxtx</a>.</p>\n"},{"tags":[],"owner":{"account_id":24655,"reputation":12535,"user_id":62848,"display_name":"Faisal Feroz"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1239729146,"creation_date":1239729146,"answer_id":748530,"question_id":444497,"body_markdown":"Well both of these implementations have their limitations specially on windows. They both lack support for Bulk Transfer on windows. \r\n\r\nThere is a commercial library JCommUSB available at www.icaste.com\r\n","title":"Using Java and USB: Which API to use? jsr-80, jusb, ...?","body":"<p>Well both of these implementations have their limitations specially on windows. They both lack support for Bulk Transfer on windows. </p>\n\n<p>There is a commercial library JCommUSB available at www.icaste.com</p>\n"}],"owner":{"account_id":17315,"reputation":15891,"user_id":38663,"accept_rate":27,"display_name":"jbu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5691,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1681488928,"answer_count":2,"score":1,"last_activity_date":1681467462,"creation_date":1231964086,"question_id":444497,"body_markdown":"I would like two Java programs to communicate directly over USB without going through a device or cable.  Don&#39;t ask me why, I don&#39;t know the details or reasoning behind this decision.\r\n\r\nI have found jusb and jsr-80 to be two Java/USB APIs to do this.  They work on Linux and Windows - I will need capabilities on both.\r\n\r\nWhich is more standard and accepted?  Which is more stable?  Which is easier for my task?  Are there other standard or common Java/USB APIs out there?\r\n\r\nI&#39;d like to hear your guys&#39; experiences with these or other Java/USB APIs.\r\n","title":"Using Java and USB: Which API to use? jsr-80, jusb, ...?","body":"<p>I would like two Java programs to communicate directly over USB without going through a device or cable.  Don't ask me why, I don't know the details or reasoning behind this decision.</p>\n<p>I have found jusb and jsr-80 to be two Java/USB APIs to do this.  They work on Linux and Windows - I will need capabilities on both.</p>\n<p>Which is more standard and accepted?  Which is more stable?  Which is easier for my task?  Are there other standard or common Java/USB APIs out there?</p>\n<p>I'd like to hear your guys' experiences with these or other Java/USB APIs.</p>\n"},{"tags":["java","linux","snmp","snmp4j","snmpd"],"comments":[{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1679285209,"post_id":75753402,"comment_id":133687760,"body_markdown":"The description is still vague. So, the actual clients are there wanting your Java project to collect data from different sources for them? Do they want zero data loss? Do they want real time notifications on new data? There are far too many options if your requirements are clearer. But again, Stack Overflow is for specific questions. To learn how to design a system, https://softwareengineering.stackexchange.com/ might be a better place.","body":"The description is still vague. So, the actual clients are there wanting your Java project to collect data from different sources for them? Do they want zero data loss? Do they want real time notifications on new data? There are far too many options if your requirements are clearer. But again, Stack Overflow is for specific questions. To learn how to design a system, <a href=\"https://softwareengineering.stackexchange.com/\">softwareengineering.stackexchange.com</a> might be a better place."}],"answers":[{"tags":[],"owner":{"account_id":5979896,"reputation":6476,"user_id":4699340,"display_name":"Andrew Komiagin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681467448,"creation_date":1681467448,"answer_id":76014028,"question_id":75753402,"body_markdown":"The most simple way to implement this functionality is to send SNMP TRAPs or notifications like INFORMs. INFORMs are acknowledged. In this case you wont need to implement complete SNMP agent functionality. Basically, all you need to do is utilize SNMP4J library. There are examples on how to send TRAPv1, TRAPv2 and INFORM.","title":"Linux snmpd or new Java SNMP agent","body":"<p>The most simple way to implement this functionality is to send SNMP TRAPs or notifications like INFORMs. INFORMs are acknowledged. In this case you wont need to implement complete SNMP agent functionality. Basically, all you need to do is utilize SNMP4J library. There are examples on how to send TRAPv1, TRAPv2 and INFORM.</p>\n"}],"owner":{"account_id":1131366,"reputation":652,"user_id":1117362,"accept_rate":21,"display_name":"nihasmata"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681467448,"creation_date":1678953306,"question_id":75753402,"body_markdown":"I work on a Java project which collects various data from different sources. My aim is to send those collected data over SNMP to the requested clients. I don&#39;t know which way I should follow. Can I use snmpd in Linux for this purpose? If so, how to transfer my Java data to snmpd? Or should I write a new Java SNMP agent? My development and target environment is Linux Centos 8 Stream. \r\n\r\n","title":"Linux snmpd or new Java SNMP agent","body":"<p>I work on a Java project which collects various data from different sources. My aim is to send those collected data over SNMP to the requested clients. I don't know which way I should follow. Can I use snmpd in Linux for this purpose? If so, how to transfer my Java data to snmpd? Or should I write a new Java SNMP agent? My development and target environment is Linux Centos 8 Stream.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1681154221,"post_id":75978757,"comment_id":134007754,"body_markdown":"Where is `MyAdapter` defined?","body":"Where is <code>MyAdapter</code> defined?"}],"owner":{"account_id":19837176,"reputation":16,"user_id":14530602,"display_name":"Shehan Wijerathne"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681467274,"creation_date":1681143322,"question_id":75978757,"body_markdown":"I am trying to create a recycler view and custom adapter to list up array list in recycler view. When I defined a custom adapter `public class NoteDashboardAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt;` (MyAdapter) property it shows in red and solutions says create subclass. How do I overcome with this. \r\n\r\n```java\r\npackage com.example.myapplication;\r\n\r\nimport android.content.Context;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class NoteDashboardAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\r\n    private Context context;\r\n    private ArrayList title, date, location;\r\n\r\n    public NoteDashboardAdapter(Context context, ArrayList title, ArrayList date, ArrayList location) {\r\n        this.context = context;\r\n        this.title = title;\r\n        this.date = date;\r\n        this.location = location;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyAdapter.MyViewHolder holder, int position) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return 0;\r\n    }\r\n}\r\n```\r\n\r\nI am trying to make a list of cardview of my notes dashboard.","title":"Android studio RecyclerView.Adapter custom adapter error","body":"<p>I am trying to create a recycler view and custom adapter to list up array list in recycler view. When I defined a custom adapter <code>public class NoteDashboardAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt;</code> (MyAdapter) property it shows in red and solutions says create subclass. How do I overcome with this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.myapplication;\n\nimport android.content.Context;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class NoteDashboardAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\n    private Context context;\n    private ArrayList title, date, location;\n\n    public NoteDashboardAdapter(Context context, ArrayList title, ArrayList date, ArrayList location) {\n        this.context = context;\n        this.title = title;\n        this.date = date;\n        this.location = location;\n    }\n\n    @NonNull\n    @Override\n    public MyAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyAdapter.MyViewHolder holder, int position) {\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return 0;\n    }\n}\n</code></pre>\n<p>I am trying to make a list of cardview of my notes dashboard.</p>\n"},{"tags":["java","exception","automation","assert","parseint"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1681460487,"post_id":76012938,"comment_id":134063085,"body_markdown":"What number would you expect `488.15 EUR` to be?  Is `Catea` a number as well?","body":"What number would you expect <code>488.15 EUR</code> to be?  Is <code>Catea</code> a number as well?"},{"owner":{"account_id":19002504,"reputation":3,"user_id":13869755,"display_name":"Catea"},"score":0,"creation_date":1681460574,"post_id":76012938,"comment_id":134063112,"body_markdown":"I need only number:488.15","body":"I need only number:488.15"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1681460790,"post_id":76012938,"comment_id":134063172,"body_markdown":"a) so get rid of non-numeric chars b) since when is `488.15` an integer?","body":"a) so get rid of non-numeric chars b) since when is <code>488.15</code> an integer?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681462582,"post_id":76012938,"comment_id":134063591,"body_markdown":"Variable names begin [lower case](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions) in Java","body":"Variable names begin <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">lower case</a> in Java"}],"answers":[{"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681467059,"creation_date":1681461027,"answer_id":76013061,"question_id":76012938,"body_markdown":"First off. &quot;488.15 EUR&quot; is a String, which cannot be parsed to any number, because it doesn&#39;t purely consist of numbers.\r\n\r\nSecondly, you&#39;ll lose those .15 at the end if you try to convert it to an int. Use double instead. it preserves those values.\r\n\r\nRemove the last three characters, to make suma.getText() only consist of numbers\r\n\r\n```\r\nString sumaOnlyNum = suma.getText().substring(0, suma.getText().length() - 4);\r\n```\r\n\r\nConvert it to double instead of int\r\n\r\n```\r\ndouble suma = Double.parseDouble(sumaOnlyNum);\r\n```\r\n","title":"java.lang.NumberFormatException: For input string: &quot;488.15 EUR&quot;","body":"<p>First off. &quot;488.15 EUR&quot; is a String, which cannot be parsed to any number, because it doesn't purely consist of numbers.</p>\n<p>Secondly, you'll lose those .15 at the end if you try to convert it to an int. Use double instead. it preserves those values.</p>\n<p>Remove the last three characters, to make suma.getText() only consist of numbers</p>\n<pre><code>String sumaOnlyNum = suma.getText().substring(0, suma.getText().length() - 4);\n</code></pre>\n<p>Convert it to double instead of int</p>\n<pre><code>double suma = Double.parseDouble(sumaOnlyNum);\n</code></pre>\n"}],"owner":{"account_id":19002504,"reputation":3,"user_id":13869755,"display_name":"Catea"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76013061,"answer_count":1,"score":-2,"last_activity_date":1681467059,"creation_date":1681460043,"question_id":76012938,"body_markdown":"I make automation testing and I want extract text from  id element( ok I make it using comand getText() is works, text is &quot;488.15 EUR&quot;,after I  want make operation with this nr ,I want to subtract 2 from this number that I received:488-2\r\nIt is my code :\r\n\r\n```\r\nint suma = Integer.parseInt(Suma.getText());\r\n            \r\nint rest = suma- 2;\r\nAssert.assertTrue(Suma.getText().equals(rest));\r\n```\r\n\r\nBut I have next error java.lang.NumberFormatException: For input string: &quot;488.15 EUR&quot;\r\n please help me fix this error.Thank you.\r\n","title":"java.lang.NumberFormatException: For input string: &quot;488.15 EUR&quot;","body":"<p>I make automation testing and I want extract text from  id element( ok I make it using comand getText() is works, text is &quot;488.15 EUR&quot;,after I  want make operation with this nr ,I want to subtract 2 from this number that I received:488-2\nIt is my code :</p>\n<pre><code>int suma = Integer.parseInt(Suma.getText());\n            \nint rest = suma- 2;\nAssert.assertTrue(Suma.getText().equals(rest));\n</code></pre>\n<p>But I have next error java.lang.NumberFormatException: For input string: &quot;488.15 EUR&quot;\nplease help me fix this error.Thank you.</p>\n"},{"tags":["java","apache-storm","apache-storm-topology","apache-storm-configs"],"comments":[{"owner":{"account_id":18975267,"reputation":409,"user_id":13847890,"display_name":"moosehead42"},"score":0,"creation_date":1682058682,"post_id":76002734,"comment_id":134158894,"body_markdown":"What exactly is the problem? So the values are not coherent? Or is it about latency?","body":"What exactly is the problem? So the values are not coherent? Or is it about latency?"},{"owner":{"account_id":28291886,"reputation":1,"user_id":21631881,"display_name":"Harish Madineni"},"score":0,"creation_date":1682153193,"post_id":76002734,"comment_id":134173125,"body_markdown":"Yes metrics are not the same as processed by storm. There is difference between published metrics and processed tuple count.(i have counter for counting tuples when spout emits)","body":"Yes metrics are not the same as processed by storm. There is difference between published metrics and processed tuple count.(i have counter for counting tuples when spout emits)"},{"owner":{"account_id":28291886,"reputation":1,"user_id":21631881,"display_name":"Harish Madineni"},"score":0,"creation_date":1683114359,"post_id":76002734,"comment_id":134316046,"body_markdown":"My thought, the below method which is causing the other threads to block when other thread is in critical section. I think the other threads are dropping the metrics.\n\npublic void report() {\n        synchronized (this) {\n            report(registry.getGauges(filter),\n                    registry.getCounters(filter),\n                    registry.getHistograms(filter),\n                    registry.getMeters(filter),\n                    registry.getTimers(filter));\n        }\n    }","body":"My thought, the below method which is causing the other threads to block when other thread is in critical section. I think the other threads are dropping the metrics.  public void report() {         synchronized (this) {             report(registry.getGauges(filter),                     registry.getCounters(filter),                     registry.getHistograms(filter),                     registry.getMeters(filter),                     registry.getTimers(filter));         }     }"}],"owner":{"account_id":28291886,"reputation":1,"user_id":21631881,"display_name":"Harish Madineni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681466955,"creation_date":1681370867,"question_id":76002734,"body_markdown":"I&#39;m using apache storm 2.4.0 version and we want all our metrics need to be exposed. So, we created an service that accepts all the metrics in time being and will expose the metrics on /metrics end point.\r\nstorm uses drop-wizard metrics and I&#39;m converting them to prometheus metrics by the above process.\r\nThis whole setup is done on kubernetes after making few changes to actual code to storm 2.4.0 version. \r\nAbout kubernetes set up, I have nimbus pod and supervisor pod and zookeeper pod differently. Those all are connected (Should these two supposed to be in one pod not sure).\r\n\r\n```\r\ntopology.metrics.reporters:\r\n  # Prometheus Reporter\r\n  - class: &quot;com.example.storm.PrometheusStormReporter&quot;\r\n    daemons:\r\n      - &quot;supervisor&quot;\r\n      - &quot;nimbus&quot;\r\n      - &quot;worker&quot;\r\n    report.period: 60\r\n    report.period.units: &quot;SECONDS&quot;\r\n\r\nstorm.metrics.reporters:\r\n  # Prometheus Reporter\r\n  - class: &quot;com.example.PrometheusStormReporter&quot;\r\n    daemons:\r\n        - &quot;supervisor&quot;\r\n        - &quot;nimbus&quot;\r\n        - &quot;worker&quot;\r\n    report.period: 60\r\n    report.period.units: &quot;SECONDS&quot;\r\n```\r\n\r\nthe above reporter will make a post call to our service where all the metrics are being populated.\r\n\r\nI have converted drop-wizard metrics to prometheus metrics and making a POST call to our service.\r\nI have reduced the time to 5 seconds and 10 seconds from 60 seconds. \r\nBut there is a large difference between what storm is processing and what we are seeing on /metrics end point. \r\n\r\nOne other way I tried is pushing the metric when I want in the execute method of the bolts(sequential with the my current logic). This way, I was adding exactly the metrics and move them accordingly. But this adds up to the processing time (which I don’t want). If posting fails I need to fail the tuple explicitly and add storm retry for this.\r\n\r\nDo I need to shift to push-gateway?\r\nOr any other way I can get full metrics.","title":"Apache storm metrics reporter not working as expected","body":"<p>I'm using apache storm 2.4.0 version and we want all our metrics need to be exposed. So, we created an service that accepts all the metrics in time being and will expose the metrics on /metrics end point.\nstorm uses drop-wizard metrics and I'm converting them to prometheus metrics by the above process.\nThis whole setup is done on kubernetes after making few changes to actual code to storm 2.4.0 version.\nAbout kubernetes set up, I have nimbus pod and supervisor pod and zookeeper pod differently. Those all are connected (Should these two supposed to be in one pod not sure).</p>\n<pre><code>topology.metrics.reporters:\n  # Prometheus Reporter\n  - class: &quot;com.example.storm.PrometheusStormReporter&quot;\n    daemons:\n      - &quot;supervisor&quot;\n      - &quot;nimbus&quot;\n      - &quot;worker&quot;\n    report.period: 60\n    report.period.units: &quot;SECONDS&quot;\n\nstorm.metrics.reporters:\n  # Prometheus Reporter\n  - class: &quot;com.example.PrometheusStormReporter&quot;\n    daemons:\n        - &quot;supervisor&quot;\n        - &quot;nimbus&quot;\n        - &quot;worker&quot;\n    report.period: 60\n    report.period.units: &quot;SECONDS&quot;\n</code></pre>\n<p>the above reporter will make a post call to our service where all the metrics are being populated.</p>\n<p>I have converted drop-wizard metrics to prometheus metrics and making a POST call to our service.\nI have reduced the time to 5 seconds and 10 seconds from 60 seconds.\nBut there is a large difference between what storm is processing and what we are seeing on /metrics end point.</p>\n<p>One other way I tried is pushing the metric when I want in the execute method of the bolts(sequential with the my current logic). This way, I was adding exactly the metrics and move them accordingly. But this adds up to the processing time (which I don’t want). If posting fails I need to fail the tuple explicitly and add storm retry for this.</p>\n<p>Do I need to shift to push-gateway?\nOr any other way I can get full metrics.</p>\n"},{"tags":["java","wsdl2java"],"comments":[{"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"score":0,"creation_date":1681196807,"post_id":75982923,"comment_id":134013179,"body_markdown":"Removed \n1. -Djava.endorsed.dirs=&quot;${cxf_home}/lib/endorsed \n2. set TOOLS_JAR=%JAVA_HOME%\\lib\\tools.jar;      \n\nGot below error but build path has jaxb-runtime-2.3.2 jar files.\n\n Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/ws/Service\n        at org.apache.cxf.tools.wsdlto.frontend.jaxws.JAXWSContainer.isJaxws22(JAXWSContainer.java:64)","body":"Removed  1. -Djava.endorsed.dirs=&quot;${cxf_home}/lib/endorsed  2. set TOOLS_JAR=%JAVA_HOME%\\lib\\tools.jar;        Got below error but build path has jaxb-runtime-2.3.2 jar files.   Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/ws/Service         at org.apache.cxf.tools.wsdlto.frontend.jaxws.JAXWSContainer.is&zwnj;&#8203;Jaxws22(JAXWSContain&zwnj;&#8203;er.java:64)"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1681198701,"post_id":75982923,"comment_id":134013523,"body_markdown":"Please [don&#39;t upload text as image](https://meta.stackoverflow.com/a/285557/13447). Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see [ask].","body":"Please <a href=\"https://meta.stackoverflow.com/a/285557/13447\">don&#39;t upload text as image</a>. Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"score":0,"creation_date":1681204061,"post_id":75982923,"comment_id":134014702,"body_markdown":"will not add text image next time.","body":"will not add text image next time."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1681205589,"post_id":75982923,"comment_id":134015039,"body_markdown":"You can still edit this one...","body":"You can still edit this one..."}],"answers":[{"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681466926,"creation_date":1681466926,"answer_id":76013952,"question_id":75982923,"body_markdown":"Different versions of Apache CFX 3.3.x not contain all required libraries.\r\n\r\n**NOTE:** These versions are archived and not supported by Apache. I didn&#39;t compare libraries for all versions. Probably some other libraries reuqired for these versions.\r\n\r\n### Missing libraries in Apache CXF 3.3.0\r\n\r\n* javax.xml.soap-api.1.4.0\r\n* jakarta.xml.ws-api.2.3.3\r\n\r\n### Missing libraries in Apache CXF 3.3.2\r\n\r\n* jakarta.xml.ws-api.2.3.3\r\n\r\nThe latest version of Apache CXF on `javax.*` namespace is `3.5.5`.\r\n\r\n## Command line \r\n\r\nUpgrade CXF version to `3.5.5` is strongly recommended.\r\nIf it isn&#39;t possible, then download mentioned jars under `./lib` folder.\r\n\r\n## Maven usage\r\n\r\nUpgrade `cxf-codegen-plugin` to `3.3.5`\r\n\r\nAdditionally add this dependency to `pom.xml`\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n    &lt;version&gt;${jakarta.xml.ws-api.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nChoosing a proper `${jakarta.xml.ws-api.version}` of this dependency is important due to breaking changes about namespace (package).\r\n\r\n1. for `javax.*` namespace use `2.3.3` (based on the stacktrace this is the right choice in this case)\r\n2. for `jakarta.*` namespce use `3.x` or `4.0.0`\r\n\r\n","title":"How to use wsdl2java 3.3.X version of Apache cxf java 11 using command line","body":"<p>Different versions of Apache CFX 3.3.x not contain all required libraries.</p>\n<p><strong>NOTE:</strong> These versions are archived and not supported by Apache. I didn't compare libraries for all versions. Probably some other libraries reuqired for these versions.</p>\n<h3>Missing libraries in Apache CXF 3.3.0</h3>\n<ul>\n<li>javax.xml.soap-api.1.4.0</li>\n<li>jakarta.xml.ws-api.2.3.3</li>\n</ul>\n<h3>Missing libraries in Apache CXF 3.3.2</h3>\n<ul>\n<li>jakarta.xml.ws-api.2.3.3</li>\n</ul>\n<p>The latest version of Apache CXF on <code>javax.*</code> namespace is <code>3.5.5</code>.</p>\n<h2>Command line</h2>\n<p>Upgrade CXF version to <code>3.5.5</code> is strongly recommended.\nIf it isn't possible, then download mentioned jars under <code>./lib</code> folder.</p>\n<h2>Maven usage</h2>\n<p>Upgrade <code>cxf-codegen-plugin</code> to <code>3.3.5</code></p>\n<p>Additionally add this dependency to <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n    &lt;version&gt;${jakarta.xml.ws-api.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Choosing a proper <code>${jakarta.xml.ws-api.version}</code> of this dependency is important due to breaking changes about namespace (package).</p>\n<ol>\n<li>for <code>javax.*</code> namespace use <code>2.3.3</code> (based on the stacktrace this is the right choice in this case)</li>\n<li>for <code>jakarta.*</code> namespce use <code>3.x</code> or <code>4.0.0</code></li>\n</ol>\n"}],"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681466926,"creation_date":1681194080,"question_id":75982923,"body_markdown":"We were using Java 8 with apache 2.7.0 to convert wsdl to java and it was working fine. Now we want to upgrade to java 11 then getting error message.\r\n\r\nHow to use wsdl2java Apache cxf 3.3.X version with java 11 using command line.\r\n\r\nSteps tried.\r\n------------\r\n\r\nApache 3.3.0 or Apache 3.3.1 or Apache 3.3.2\r\n\r\nWhen trying to convert using below command \r\n\r\n`wsdl2java -client -autoNameResolution C:\\SAMPLE.wsdl`\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/ws/Service\r\n        at org.apache.cxf.tools.wsdlto.frontend.jaxws.JAXWSContainer.isJaxws22(JAXWSContainer.java:64)\r\n        at org.apache.cxf.tools.wsdlto.frontend.jaxws.JAXWSContainer.getServiceTarget(JAXWSContainer.java:61)\r\n        at org.apache.cxf.tools.wsdlto.frontend.jaxws.JAXWSContainer.validate(JAXWSContainer.java:68)\r\n        at org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.processWsdl(WSDLToJavaContainer.java:172)\r\n        at org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.execute(WSDLToJavaContainer.java:164)\r\n        at org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.execute(WSDLToJavaContainer.java:412)\r\n        at org.apache.cxf.tools.common.toolspec.ToolRunner.runTool(ToolRunner.java:105)\r\n        at org.apache.cxf.tools.wsdlto.WSDLToJava.run(WSDLToJava.java:113)\r\n        at org.apache.cxf.tools.wsdlto.WSDLToJava.run(WSDLToJava.java:86)\r\n        at org.apache.cxf.tools.wsdlto.WSDLToJava.main(WSDLToJava.java:185)\r\nCaused by: java.lang.ClassNotFoundException: javax.xml.ws.Service\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n        ... 10 more\r\n```\r\nAlso tried adding external jar file to CFX lib folder.\r\n\r\n```xml\r\n&lt;!-- API, java.xml.bind module --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n    \r\n&lt;!-- Runtime, com.sun.xml.bind module --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```    \r\nor try this also\r\n\r\n```xml    \r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n**Java Version**\r\n```none\r\nopenjdk version &quot;11.0.16&quot; 2022-07-19\r\nOpenJDK Runtime Environment Temurin-11.0.16+8 (build 11.0.16+8)\r\nOpenJDK 64-Bit Server VM Temurin-11.0.16+8 (build 11.0.16+8, mixed mode)\r\n```\r\nIt didn&#39;t work with command line, instead I tried with cxf-codegen-plugin in pom.xml\r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;generate-sources&lt;/id&gt;\r\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;wsdlOptions&gt;\r\n                            &lt;wsdlOption&gt;\r\n                                &lt;wsdl&gt;src/main/resources/GIMA2Java.wsdl&lt;/wsdl&gt;\r\n                                &lt;faultSerialVersionUID&gt;1&lt;/faultSerialVersionUID&gt;\r\n                                &lt;extraargs&gt;\r\n                                    &lt;extraarg&gt;-autoNameResolution&lt;/extraarg&gt;\r\n                                &lt;/extraargs&gt;\r\n                            &lt;/wsdlOption&gt;\r\n                        &lt;/wsdlOptions&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```","title":"How to use wsdl2java 3.3.X version of Apache cxf java 11 using command line","body":"<p>We were using Java 8 with apache 2.7.0 to convert wsdl to java and it was working fine. Now we want to upgrade to java 11 then getting error message.</p>\n<p>How to use wsdl2java Apache cxf 3.3.X version with java 11 using command line.</p>\n<h2>Steps tried.</h2>\n<p>Apache 3.3.0 or Apache 3.3.1 or Apache 3.3.2</p>\n<p>When trying to convert using below command</p>\n<p><code>wsdl2java -client -autoNameResolution C:\\SAMPLE.wsdl</code></p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/ws/Service\n        at org.apache.cxf.tools.wsdlto.frontend.jaxws.JAXWSContainer.isJaxws22(JAXWSContainer.java:64)\n        at org.apache.cxf.tools.wsdlto.frontend.jaxws.JAXWSContainer.getServiceTarget(JAXWSContainer.java:61)\n        at org.apache.cxf.tools.wsdlto.frontend.jaxws.JAXWSContainer.validate(JAXWSContainer.java:68)\n        at org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.processWsdl(WSDLToJavaContainer.java:172)\n        at org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.execute(WSDLToJavaContainer.java:164)\n        at org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.execute(WSDLToJavaContainer.java:412)\n        at org.apache.cxf.tools.common.toolspec.ToolRunner.runTool(ToolRunner.java:105)\n        at org.apache.cxf.tools.wsdlto.WSDLToJava.run(WSDLToJava.java:113)\n        at org.apache.cxf.tools.wsdlto.WSDLToJava.run(WSDLToJava.java:86)\n        at org.apache.cxf.tools.wsdlto.WSDLToJava.main(WSDLToJava.java:185)\nCaused by: java.lang.ClassNotFoundException: javax.xml.ws.Service\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        ... 10 more\n</code></pre>\n<p>Also tried adding external jar file to CFX lib folder.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- API, java.xml.bind module --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n    \n&lt;!-- Runtime, com.sun.xml.bind module --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or try this also</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;activation&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>Java Version</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>openjdk version &quot;11.0.16&quot; 2022-07-19\nOpenJDK Runtime Environment Temurin-11.0.16+8 (build 11.0.16+8)\nOpenJDK 64-Bit Server VM Temurin-11.0.16+8 (build 11.0.16+8, mixed mode)\n</code></pre>\n<p>It didn't work with command line, instead I tried with cxf-codegen-plugin in pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;generate-sources&lt;/id&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;wsdlOptions&gt;\n                            &lt;wsdlOption&gt;\n                                &lt;wsdl&gt;src/main/resources/GIMA2Java.wsdl&lt;/wsdl&gt;\n                                &lt;faultSerialVersionUID&gt;1&lt;/faultSerialVersionUID&gt;\n                                &lt;extraargs&gt;\n                                    &lt;extraarg&gt;-autoNameResolution&lt;/extraarg&gt;\n                                &lt;/extraargs&gt;\n                            &lt;/wsdlOption&gt;\n                        &lt;/wsdlOptions&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;wsdl2java&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-authentication","firebaseui"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":1,"up_vote_count":37,"is_accepted":true,"score":36,"last_activity_date":1531740172,"creation_date":1531739373,"answer_id":51360406,"question_id":51360250,"body_markdown":"You need three keys in order to make it work:\r\n\r\n1. The debug key. Informations [here](https://stackoverflow.com/questions/39144629/how-to-add-sha-1-to-android-application).\r\n\r\n2. The release key. Informations [here](https://stackoverflow.com/questions/38297493/get-android-release-certificate-fingerprints).\r\n\r\n3. Google Play App signing key. Informations [here](https://support.google.com/googleplay/android-developer/answer/7384423).\r\n\r\nAll these keys are needed in order to make the sign-in process work.\r\n\r\nOther informations [here](https://stackoverflow.com/questions/47347349/sha-certificate-firebase-debug-release).","title":"Firebase UI authentication with google fails with message (code:10 message:10)","body":"<p>You need three keys in order to make it work:</p>\n\n<ol>\n<li><p>The debug key. Informations <a href=\"https://stackoverflow.com/questions/39144629/how-to-add-sha-1-to-android-application\">here</a>.</p></li>\n<li><p>The release key. Informations <a href=\"https://stackoverflow.com/questions/38297493/get-android-release-certificate-fingerprints\">here</a>.</p></li>\n<li><p>Google Play App signing key. Informations <a href=\"https://support.google.com/googleplay/android-developer/answer/7384423\" rel=\"noreferrer\">here</a>.</p></li>\n</ol>\n\n<p>All these keys are needed in order to make the sign-in process work.</p>\n\n<p>Other informations <a href=\"https://stackoverflow.com/questions/47347349/sha-certificate-firebase-debug-release\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":13493500,"reputation":125,"user_id":9734994,"display_name":"Riddhi Shankar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531741402,"creation_date":1531739477,"answer_id":51360447,"question_id":51360250,"body_markdown":"Make sure you have added signed SHA1. If you are using debug one then it will not gonna work for live apk.\r\n\r\nYou need to put &quot;debug.keystore&quot; in this path C:\\Users\\USER_FOLDER_NAME\\.android \r\n\r\nthen in Android studio follow the below steps \r\n 1. Run your project \r\n 2. Click on Gradle menu \r\n 3. Expand Gradle Tasks tree \r\n 4. Double click on android -&gt; signingReport \r\n\r\n\r\nYou can see SHA in Run Tab \r\n\r\nfor more information see [link][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15727912/sha-1-fingerprint-of-keystore-certificate","title":"Firebase UI authentication with google fails with message (code:10 message:10)","body":"<p>Make sure you have added signed SHA1. If you are using debug one then it will not gonna work for live apk.</p>\n\n<p>You need to put \"debug.keystore\" in this path C:\\Users\\USER_FOLDER_NAME.android </p>\n\n<p>then in Android studio follow the below steps \n 1. Run your project \n 2. Click on Gradle menu \n 3. Expand Gradle Tasks tree \n 4. Double click on android -> signingReport </p>\n\n<p>You can see SHA in Run Tab </p>\n\n<p>for more information see <a href=\"https://stackoverflow.com/questions/15727912/sha-1-fingerprint-of-keystore-certificate\">link</a></p>\n"},{"tags":[],"owner":{"account_id":281797,"reputation":18034,"user_id":578309,"accept_rate":67,"display_name":"thanhbinh84"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1609061990,"creation_date":1554972777,"answer_id":55628394,"question_id":51360250,"body_markdown":"After generating SHA1 for release key, I forgot downloading the new google-service.json file that caused the same error. \r\n\r\nMake sure you follow the instruction https://developers.google.com/android/guides/client-auth to generate and add debug/release SHA1 to firebase console and download google-service.json after updated. \r\n\r\nIf you use [Use app signing by Google Play][1] option, you need an additional step: \r\n\r\nAfter uploading app into google play console, go to Release management &gt; App signing, copy SHA1 and paste to firebase console \r\n[![enter image description here][2]][2]\r\n\r\n**Update**\r\n\r\nIn the new google play console, the App signing key can be found as following:\r\nSetup &gt; App signing\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://support.google.com/googleplay/android-developer/answer/7384423?hl=en-GB\r\n  [2]: https://i.stack.imgur.com/5NnGc.png\r\n  [3]: https://i.stack.imgur.com/hOVtF.jpg","title":"Firebase UI authentication with google fails with message (code:10 message:10)","body":"<p>After generating SHA1 for release key, I forgot downloading the new google-service.json file that caused the same error.</p>\n<p>Make sure you follow the instruction <a href=\"https://developers.google.com/android/guides/client-auth\" rel=\"noreferrer\">https://developers.google.com/android/guides/client-auth</a> to generate and add debug/release SHA1 to firebase console and download google-service.json after updated.</p>\n<p>If you use <a href=\"https://support.google.com/googleplay/android-developer/answer/7384423?hl=en-GB\" rel=\"noreferrer\">Use app signing by Google Play</a> option, you need an additional step:</p>\n<p>After uploading app into google play console, go to Release management &gt; App signing, copy SHA1 and paste to firebase console\n<a href=\"https://i.stack.imgur.com/5NnGc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5NnGc.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Update</strong></p>\n<p>In the new google play console, the App signing key can be found as following:\nSetup &gt; App signing\n<a href=\"https://i.stack.imgur.com/hOVtF.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hOVtF.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":12959297,"reputation":398,"user_id":9369035,"display_name":"Njuacha Hubert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659560770,"creation_date":1659560770,"answer_id":73227809,"question_id":51360250,"body_markdown":"For me the problem was that i registered app and enabled google signin on Firebase console but I was testing with the debug version of app which has slightly different package name (same name but ended with .debug) so it was not working because the debug app is not yet registered. so additionally to my release app i also added the debug app to the firebase project for the app and it generated it&#39;s own google-services.json which i download and set to src/debug/google-services.json. \r\n\r\nI believe this might be useful to some one else.","title":"Firebase UI authentication with google fails with message (code:10 message:10)","body":"<p>For me the problem was that i registered app and enabled google signin on Firebase console but I was testing with the debug version of app which has slightly different package name (same name but ended with .debug) so it was not working because the debug app is not yet registered. so additionally to my release app i also added the debug app to the firebase project for the app and it generated it's own google-services.json which i download and set to src/debug/google-services.json.</p>\n<p>I believe this might be useful to some one else.</p>\n"},{"tags":[],"owner":{"account_id":19065771,"reputation":21,"user_id":13920894,"display_name":"phuclt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681466416,"creation_date":1681466416,"answer_id":76013866,"question_id":51360250,"body_markdown":"I had this problem and the solution was: \r\n\r\n1.In tab Gradle -&gt; Double click signingReport -&gt; get the SHA-1. \r\n\r\n2.Copy this generated SHA-1 from Android Studio, then paste to Firebase -&gt; Project Setting -&gt; General Setting -&gt; SHA FingerPrint.\r\n\r\n3.In Project settings firebase Download file google-service.json\r\n\r\n4.Add file google-service.json in project and rebuild.\r\n\r\n","title":"Firebase UI authentication with google fails with message (code:10 message:10)","body":"<p>I had this problem and the solution was:</p>\n<p>1.In tab Gradle -&gt; Double click signingReport -&gt; get the SHA-1.</p>\n<p>2.Copy this generated SHA-1 from Android Studio, then paste to Firebase -&gt; Project Setting -&gt; General Setting -&gt; SHA FingerPrint.</p>\n<p>3.In Project settings firebase Download file google-service.json</p>\n<p>4.Add file google-service.json in project and rebuild.</p>\n"}],"owner":{"account_id":11205420,"reputation":1930,"user_id":8221182,"display_name":"Kwnstantinos Nikoloutsos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16696,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":51360406,"answer_count":5,"score":27,"last_activity_date":1681466416,"creation_date":1531738797,"question_id":51360250,"body_markdown":"I&#39;ve made a chat app that uses Firebase&#39;s feature `Real-time database`.\r\nI face a problem with google authentication. The problem started when I downloaded the app from the Play Store, the authentication was working perfectly when I was running the app in debug mode. When users try to sign in they get a toast message `code:10 message:10`.\r\n\r\nI would like to note here that: I&#39;ve added the SHA1 fingerprint. How can I solve this?\r\n \r\n*Not sure if this is helpful but I&#39;ve followed step by step this [tutorial][1]\r\n\r\n[1]: https://classroom.udacity.com/courses/ud0352","title":"Firebase UI authentication with google fails with message (code:10 message:10)","body":"<p>I've made a chat app that uses Firebase's feature <code>Real-time database</code>.\nI face a problem with google authentication. The problem started when I downloaded the app from the Play Store, the authentication was working perfectly when I was running the app in debug mode. When users try to sign in they get a toast message <code>code:10 message:10</code>.</p>\n\n<p>I would like to note here that: I've added the SHA1 fingerprint. How can I solve this?</p>\n\n<p>*Not sure if this is helpful but I've followed step by step this <a href=\"https://classroom.udacity.com/courses/ud0352\" rel=\"noreferrer\">tutorial</a></p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1580392225,"post_id":59987501,"comment_id":106088292,"body_markdown":"[What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/q/25385173)","body":"<a href=\"https://stackoverflow.com/q/25385173\">What is a debugger and how can it help me diagnose problems?</a>"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":2,"creation_date":1580392545,"post_id":59987501,"comment_id":106088506,"body_markdown":"What is your actual question?  You didn&#39;t really ask one (summarizing the entire problem in the title is not a question).","body":"What is your actual question?  You didn&#39;t really ask one (summarizing the entire problem in the title is not a question)."},{"owner":{"account_id":13478698,"reputation":433,"user_id":9724717,"display_name":"Samuel Mideksa"},"score":0,"creation_date":1580392644,"post_id":59987501,"comment_id":106088574,"body_markdown":"It is actually to write a function named encodeNumber that accepts an integer n and that returns an array that holds the numbers prime factors in the array in descending order.","body":"It is actually to write a function named encodeNumber that accepts an integer n and that returns an array that holds the numbers prime factors in the array in descending order."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1580392688,"post_id":59987501,"comment_id":106088607,"body_markdown":"@SamuelMideksa that&#39;s the question that&#39;s been asked of you; what&#39;s the question you need *us* to answer to help you solve it? (BTW, your desired factors are in ascending order).","body":"@SamuelMideksa that&#39;s the question that&#39;s been asked of you; what&#39;s the question you need <i>us</i> to answer to help you solve it? (BTW, your desired factors are in ascending order)."},{"owner":{"account_id":16220100,"reputation":83,"user_id":11711831,"display_name":"Sanjay Bharathi"},"score":0,"creation_date":1580392712,"post_id":59987501,"comment_id":106088625,"body_markdown":"so, you need a function for prime factors of a number?","body":"so, you need a function for prime factors of a number?"},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1580392764,"post_id":59987501,"comment_id":106088660,"body_markdown":"@SamuelMideksa your comment doesn&#39;t answer the question.","body":"@SamuelMideksa your comment doesn&#39;t answer the question."},{"owner":{"account_id":13478698,"reputation":433,"user_id":9724717,"display_name":"Samuel Mideksa"},"score":0,"creation_date":1580392804,"post_id":59987501,"comment_id":106088688,"body_markdown":"why is the first for loop returning count as a 3 where it should be 6 counting the duplicates also?","body":"why is the first for loop returning count as a 3 where it should be 6 counting the duplicates also?"},{"owner":{"account_id":13478698,"reputation":433,"user_id":9724717,"display_name":"Samuel Mideksa"},"score":0,"creation_date":1580393051,"post_id":59987501,"comment_id":106088858,"body_markdown":"@AndyTurner well my question is how can I improve the code to get the array with all number&#39;s prime factors including the duplicates?","body":"@AndyTurner well my question is how can I improve the code to get the array with all number&#39;s prime factors including the duplicates?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1580393115,"post_id":59987501,"comment_id":106088904,"body_markdown":"@SamuelMideksa did you try [debugging the code](https://stackoverflow.com/q/25385173)? If so, where did you find the code behaving in a way you didn&#39;t expect?","body":"@SamuelMideksa did you try <a href=\"https://stackoverflow.com/q/25385173\">debugging the code</a>? If so, where did you find the code behaving in a way you didn&#39;t expect?"},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":1,"creation_date":1580393193,"post_id":59987501,"comment_id":106088957,"body_markdown":"I suggest you store your factors into a list so you don&#39;t have to pre-process the number in order to know the size of the array. Beside you will want to nest two loops : a first one that increments a number until it&#39;s a prime and a second that divides your input number by that number as long as your number is divisible by it","body":"I suggest you store your factors into a list so you don&#39;t have to pre-process the number in order to know the size of the array. Beside you will want to nest two loops : a first one that increments a number until it&#39;s a prime and a second that divides your input number by that number as long as your number is divisible by it"},{"owner":{"account_id":5254099,"reputation":1061,"user_id":4197431,"display_name":"Ralf Renz"},"score":0,"creation_date":1580393227,"post_id":59987501,"comment_id":106088994,"body_markdown":"First: after the first loop you must reset the variables. Second: change the for-loops to while loops. Else you miss the repeated primefactor 2. Third: throw away the variable mul. you don&#39;t need it.","body":"First: after the first loop you must reset the variables. Second: change the for-loops to while loops. Else you miss the repeated primefactor 2. Third: throw away the variable mul. you don&#39;t need it."},{"owner":{"account_id":13478698,"reputation":433,"user_id":9724717,"display_name":"Samuel Mideksa"},"score":0,"creation_date":1580393324,"post_id":59987501,"comment_id":106089068,"body_markdown":"@Aaron I am not allowed to use list. Do you mean array?","body":"@Aaron I am not allowed to use list. Do you mean array?"},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1580395048,"post_id":59987501,"comment_id":106090138,"body_markdown":"No, I did mean List, it would have made for a simpler solution","body":"No, I did mean List, it would have made for a simpler solution"}],"answers":[{"tags":[],"owner":{"account_id":10408706,"reputation":902,"user_id":7674825,"accept_rate":78,"display_name":"DanielBK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1580728063,"creation_date":1580393759,"answer_id":59988005,"question_id":59987501,"body_markdown":"Well here is a piece of code I would start with. It is not finished yet and I did not test it, but that&#39;s the way you should go basically.\r\n\r\n    // First find the number of prime factors\r\n    \r\n    int factorsCount = 0;\r\n\t\tint originalN = n;\r\n\t\twhile (n &gt; 1) {\r\n\t\t   int p = findLowestPrimeFactor(n);\r\n\t\t   n /= p;\r\n\t\t   factorsCount++;\r\n\t\t}\r\n\r\n\t\t// Now create the Array of the appropriate size \r\n\r\n\t\tint[] factors = new int[factorsCount];\r\n\r\n\t\t// Finally do the iteration from the first step again, but now filling the array.\r\n\t\tn = originalN;\r\n\t\tint k = 0;\r\n\t\twhile (n &gt; 1) {\r\n\t\t   int p = findLowestPrimeFactor(n);\r\n\t\t   factors[k] = p;\r\n\t\t   k++;\r\n\t\t   n = n / p;\r\n\t\t}\r\n\t\t\r\n\t\treturn factors;","title":"How to encode a number using its prime factors in java using arrays?","body":"<p>Well here is a piece of code I would start with. It is not finished yet and I did not test it, but that's the way you should go basically.</p>\n\n<pre><code>// First find the number of prime factors\n\nint factorsCount = 0;\n    int originalN = n;\n    while (n &gt; 1) {\n       int p = findLowestPrimeFactor(n);\n       n /= p;\n       factorsCount++;\n    }\n\n    // Now create the Array of the appropriate size \n\n    int[] factors = new int[factorsCount];\n\n    // Finally do the iteration from the first step again, but now filling the array.\n    n = originalN;\n    int k = 0;\n    while (n &gt; 1) {\n       int p = findLowestPrimeFactor(n);\n       factors[k] = p;\n       k++;\n       n = n / p;\n    }\n\n    return factors;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580393778,"creation_date":1580393778,"answer_id":59988009,"question_id":59987501,"body_markdown":"Having found a factor (on increasing candidates), you can assume it is prime,\r\nif you divide out the factor till the candidate no longer is a factor.\r\n\r\nYour problem is not repeatedly dividing by the factor.\r\n\r\n    public static int[] encodeNumber(int n) {\r\n        if (n &lt;= 1) {\r\n            return null;\r\n        }\r\n\r\n        List&lt;Integer&gt; factors = new ArrayList&lt;&gt;();\r\n        for (int i = 2; n != 1; i += 1 + (i&amp;1)) {\r\n            while (n % i == 0) { // i is automatically prime, as lower primes done.\r\n                factors.add(i);\r\n                n /= i;\r\n            }\r\n        }\r\n        return factors.stream().mapToInt(Integer::intValue).toArray();\r\n    }\r\n\r\nWithout data structures, taking twice the time:\r\n\r\n    public static int[] encodeNumber(int n) {\r\n        if (n &lt;= 1) {\r\n            return null;\r\n        }\r\n        // Count factors, not storing them:\r\n        int factorCount = 0;\r\n        int originalN = n;\r\n        for (int i = 2; n != 1; i += 1 + (i&amp;1)) {\r\n            while (n % i == 0) {\r\n                ++factorCount;\r\n                n /= i;\r\n            }\r\n        }\r\n\r\n        // Fill factors:\r\n        n = originalN;\r\n        int[] factors = new int[factorCount];\r\n        factorCount = 0;\r\n        for (int i = 2; n != 1; i += 1 + (i&amp;1)) {\r\n            while (n % i == 0) {\r\n                factors[factorCount++] = i;\r\n                n /= i;\r\n            }\r\n        }\r\n        return factors;\r\n    }\r\n","title":"How to encode a number using its prime factors in java using arrays?","body":"<p>Having found a factor (on increasing candidates), you can assume it is prime,\nif you divide out the factor till the candidate no longer is a factor.</p>\n\n<p>Your problem is not repeatedly dividing by the factor.</p>\n\n<pre><code>public static int[] encodeNumber(int n) {\n    if (n &lt;= 1) {\n        return null;\n    }\n\n    List&lt;Integer&gt; factors = new ArrayList&lt;&gt;();\n    for (int i = 2; n != 1; i += 1 + (i&amp;1)) {\n        while (n % i == 0) { // i is automatically prime, as lower primes done.\n            factors.add(i);\n            n /= i;\n        }\n    }\n    return factors.stream().mapToInt(Integer::intValue).toArray();\n}\n</code></pre>\n\n<p>Without data structures, taking twice the time:</p>\n\n<pre><code>public static int[] encodeNumber(int n) {\n    if (n &lt;= 1) {\n        return null;\n    }\n    // Count factors, not storing them:\n    int factorCount = 0;\n    int originalN = n;\n    for (int i = 2; n != 1; i += 1 + (i&amp;1)) {\n        while (n % i == 0) {\n            ++factorCount;\n            n /= i;\n        }\n    }\n\n    // Fill factors:\n    n = originalN;\n    int[] factors = new int[factorCount];\n    factorCount = 0;\n    for (int i = 2; n != 1; i += 1 + (i&amp;1)) {\n        while (n % i == 0) {\n            factors[factorCount++] = i;\n            n /= i;\n        }\n    }\n    return factors;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1203431,"reputation":5728,"user_id":1173638,"accept_rate":67,"display_name":"Adder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580393915,"creation_date":1580393915,"answer_id":59988052,"question_id":59987501,"body_markdown":"Your `count` is wrong, because you count multiple factors like `2` and `17` of `6936` only once.\r\n\r\nI would recommend doing it similar to the following way, recursively:\r\n(this code is untested)\r\n\r\n    void encodeNumberRecursive(int remainder, int factor, int currentIndex, Vector&lt;Integer&gt; results) {\r\n         if(remainder&lt;2) {\r\n             return;\r\n         }\r\n         if(remainder % factor == 0) {\r\n             results.push(factor);\r\n             remainder /= factor; \r\n             currentIndex += 1; \r\n             encodeNumberRecursive(remainder , factor, currentIndex, results);  \r\n         } else {\r\n             do {\r\n                factor += 1;\r\n             } while(factor&lt;remainder &amp;&amp; !isPrime(factor));\r\n             if(factor&lt;=remainder) {\r\n                 encodeNumberRecursive(remainder , factor, currentIndex, results); \r\n             }\r\n         }\r\n    }\r\n\r\nFinally, call it with\r\n\r\n    Vector&lt;Integer&gt; results = new Vector&lt;Integer&gt;();\r\n    encodeNumberRecursive(n, 2, 0, results);\r\n\r\nYou can also do it without recursion, I just feel it is easier.","title":"How to encode a number using its prime factors in java using arrays?","body":"<p>Your <code>count</code> is wrong, because you count multiple factors like <code>2</code> and <code>17</code> of <code>6936</code> only once.</p>\n\n<p>I would recommend doing it similar to the following way, recursively:\n(this code is untested)</p>\n\n<pre><code>void encodeNumberRecursive(int remainder, int factor, int currentIndex, Vector&lt;Integer&gt; results) {\n     if(remainder&lt;2) {\n         return;\n     }\n     if(remainder % factor == 0) {\n         results.push(factor);\n         remainder /= factor; \n         currentIndex += 1; \n         encodeNumberRecursive(remainder , factor, currentIndex, results);  \n     } else {\n         do {\n            factor += 1;\n         } while(factor&lt;remainder &amp;&amp; !isPrime(factor));\n         if(factor&lt;=remainder) {\n             encodeNumberRecursive(remainder , factor, currentIndex, results); \n         }\n     }\n}\n</code></pre>\n\n<p>Finally, call it with</p>\n\n<pre><code>Vector&lt;Integer&gt; results = new Vector&lt;Integer&gt;();\nencodeNumberRecursive(n, 2, 0, results);\n</code></pre>\n\n<p>You can also do it without recursion, I just feel it is easier.</p>\n"},{"tags":[],"owner":{"account_id":26513316,"reputation":1,"user_id":20148193,"display_name":"Mikyas Melese"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681466281,"creation_date":1681466281,"answer_id":76013841,"question_id":59987501,"body_markdown":"you should correct some of your code like this.\r\n\r\n\r\n    public static int[] encodeNumber(int n) {\r\n    \r\n        int count = 0, base = n, mul = 1;\r\n    \r\n        for (int i = 2; i &lt; n; i++) {\r\n            while(n % i == 0 &amp;&amp; isPrime(i)) {\r\n                mul *= i;\r\n                count++;\r\n                if(mul == base) {\r\n                    break;\r\n                }\r\n                n /= i;\r\n            }\r\n        }\r\n      \r\n    \r\n        n=base;\r\n    \r\n        int[] x = new int[count];\r\n    \r\n        int j = 0;\r\n    \r\n        for (int i = 2; i &lt; base; i++) {\r\n            while(base % i == 0 &amp;&amp; isPrime(i)) {\r\n                mul *= i;\r\n                x[j] = i;\r\n                j++;\r\n                if(mul == n)    break;\r\n                base /= i;\r\n            }\r\n            \r\n        }\r\n    \r\n        return x;\r\n    }\r\n    \r\n    public static boolean isPrime(int n) {\r\n\r\n        if(n &lt; 2)   return false;\r\n\r\n        for (int i = 2; i &lt; n; i++) {\r\n            if(n % i == 0)  return false;\r\n            }\r\n\r\n        return true;\r\n    }\r\n\r\n","title":"How to encode a number using its prime factors in java using arrays?","body":"<p>you should correct some of your code like this.</p>\n<pre><code>public static int[] encodeNumber(int n) {\n\n    int count = 0, base = n, mul = 1;\n\n    for (int i = 2; i &lt; n; i++) {\n        while(n % i == 0 &amp;&amp; isPrime(i)) {\n            mul *= i;\n            count++;\n            if(mul == base) {\n                break;\n            }\n            n /= i;\n        }\n    }\n  \n\n    n=base;\n\n    int[] x = new int[count];\n\n    int j = 0;\n\n    for (int i = 2; i &lt; base; i++) {\n        while(base % i == 0 &amp;&amp; isPrime(i)) {\n            mul *= i;\n            x[j] = i;\n            j++;\n            if(mul == n)    break;\n            base /= i;\n        }\n        \n    }\n\n    return x;\n}\n\npublic static boolean isPrime(int n) {\n\n    if(n &lt; 2)   return false;\n\n    for (int i = 2; i &lt; n; i++) {\n        if(n % i == 0)  return false;\n        }\n\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":13478698,"reputation":433,"user_id":9724717,"display_name":"Samuel Mideksa"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":59988005,"answer_count":4,"score":-1,"last_activity_date":1681466281,"creation_date":1580392082,"question_id":59987501,"body_markdown":"I have this question I am trying to solve\r\n[![question image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jVVr3.png\r\n\r\nI wrote this code \r\n\r\n    public static int[] encodeNumber(int n) {\r\n\t\tint count = 0, base = n, mul = 1;\r\n\t\t\r\n\t\tfor (int i = 2; i &lt; n; i++) {\r\n\t\t\tif(n % i == 0 &amp;&amp; isPrime(i)) {\r\n\t\t\t\tmul *= i;\r\n\t\t\t\tcount++;\r\n\t\t\t\tif(mul == n) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tn /= i;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;count is &quot; + count);\r\n\t\t\r\n\t\tint[] x = new int[count];\r\n\t\t\r\n\t\tint j = 0;\r\n\t\t\r\n\t\tfor (int i = 2; i &lt; base; i++) {\r\n\t\t\tif(n % i == 0 &amp;&amp; isPrime(i)) {\r\n\t\t\t\tmul *= i;\r\n\t\t\t\tx[j] = i;\r\n\t\t\t\tj++;\r\n\t\t\t\tif(mul == n)\tbreak;\r\n\t\t\t\tn /= i;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\t\r\n\t\treturn x;\r\n\t}\r\n\t\r\n\tpublic static boolean isPrime(int n) {\r\n\t\tif(n &lt; 2)\treturn false;\r\n\t\tfor (int i = 2; i &lt; n; i++) {\r\n\t\t\tif(n % i == 0)\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\nI am trying to get the number of its prime factors in a count variable and create an array with the count and then populate the array with its prime factors in the second loop. \r\n\r\n    count is 3\r\n    [2, 0, 0]\r\nwith an input of 6936. The desired output is an array containing all its prime factors `{2, 2, 2, 3, 17, 17}`.","title":"How to encode a number using its prime factors in java using arrays?","body":"<p>I have this question I am trying to solve\n<a href=\"https://i.stack.imgur.com/jVVr3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jVVr3.png\" alt=\"question image\"></a></p>\n\n<p>I wrote this code </p>\n\n<pre><code>public static int[] encodeNumber(int n) {\n    int count = 0, base = n, mul = 1;\n\n    for (int i = 2; i &lt; n; i++) {\n        if(n % i == 0 &amp;&amp; isPrime(i)) {\n            mul *= i;\n            count++;\n            if(mul == n) {\n                break;\n            }\n            n /= i;\n        }\n    }\n\n    System.out.println(\"count is \" + count);\n\n    int[] x = new int[count];\n\n    int j = 0;\n\n    for (int i = 2; i &lt; base; i++) {\n        if(n % i == 0 &amp;&amp; isPrime(i)) {\n            mul *= i;\n            x[j] = i;\n            j++;\n            if(mul == n)    break;\n            n /= i;\n        }\n        break;\n    }\n\n    return x;\n}\n\npublic static boolean isPrime(int n) {\n    if(n &lt; 2)   return false;\n    for (int i = 2; i &lt; n; i++) {\n        if(n % i == 0)  return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>I am trying to get the number of its prime factors in a count variable and create an array with the count and then populate the array with its prime factors in the second loop. </p>\n\n<pre><code>count is 3\n[2, 0, 0]\n</code></pre>\n\n<p>with an input of 6936. The desired output is an array containing all its prime factors <code>{2, 2, 2, 3, 17, 17}</code>.</p>\n"},{"tags":["java","spring","spring-boot","yaml","snakeyaml"],"owner":{"account_id":7580982,"reputation":129,"user_id":5751697,"display_name":"Abhishek kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681465346,"creation_date":1672814072,"question_id":75001714,"body_markdown":"I am trying to convert java POJO into yaml.\r\n\r\n```\r\n  DumperOptions options = new DumperOptions();\r\n  options.setDefaultFlowStyle(DumperOptions.FlowStyle.BLOCK);\r\n\r\n  Yaml yaml = new Yaml(options);\r\n\r\n  String output = yaml.dump(yamlMeta);\r\n```\r\n\r\nI am using snakyaml library.\r\nWhile converting java object to yaml, it is not maintaining order of key. it is arranging them in alphabetical order. But i want this to be in same order as of POJO.\r\n\r\n\r\n","title":"How to convert POJO to Yaml","body":"<p>I am trying to convert java POJO into yaml.</p>\n<pre><code>  DumperOptions options = new DumperOptions();\n  options.setDefaultFlowStyle(DumperOptions.FlowStyle.BLOCK);\n\n  Yaml yaml = new Yaml(options);\n\n  String output = yaml.dump(yamlMeta);\n</code></pre>\n<p>I am using snakyaml library.\nWhile converting java object to yaml, it is not maintaining order of key. it is arranging them in alphabetical order. But i want this to be in same order as of POJO.</p>\n"},{"tags":["java","postgresql","spring-boot"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1681455845,"post_id":76012310,"comment_id":134062042,"body_markdown":"How many cores is the docker container allowed to use? How many cores does the docker *host* have? Unless you have 30 cores and a really good I/O system, then obviously running more processes than the server has cores will make things slower. Many docker images also use Linux distributions that aren&#39;t known for their high-performance as well (e.g. Alpine Linux).","body":"How many cores is the docker container allowed to use? How many cores does the docker <i>host</i> have? Unless you have 30 cores and a really good I/O system, then obviously running more processes than the server has cores will make things slower. Many docker images also use Linux distributions that aren&#39;t known for their high-performance as well (e.g. Alpine Linux)."},{"owner":{"account_id":12904779,"reputation":87,"user_id":9332427,"display_name":"Martin"},"score":0,"creation_date":1681457580,"post_id":76012310,"comment_id":134062362,"body_markdown":"The postgres container runs without restriction on RAM and CPU","body":"The postgres container runs without restriction on RAM and CPU"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1681457655,"post_id":76012310,"comment_id":134062385,"body_markdown":"So how many cores does the _host_ computer have? And is the container running on the same computer where your application is running?","body":"So how many cores does the <i>host</i> computer have? And is the container running on the same computer where your application is running?"},{"owner":{"account_id":12904779,"reputation":87,"user_id":9332427,"display_name":"Martin"},"score":0,"creation_date":1681465178,"post_id":76012310,"comment_id":134064216,"body_markdown":"Host computer has 8 CPUs and the application is running on the host computer","body":"Host computer has 8 CPUs and the application is running on the host computer"},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1681486757,"post_id":76012310,"comment_id":134069429,"body_markdown":"Why is this surprising?  You can&#39;t summon infinite CPUs from the void.  Your db can only use the resources it has.  Maybe there is a reason to think it should do better, but you need to explain that reason.","body":"Why is this surprising?  You can&#39;t summon infinite CPUs from the void.  Your db can only use the resources it has.  Maybe there is a reason to think it should do better, but you need to explain that reason."},{"owner":{"account_id":12904779,"reputation":87,"user_id":9332427,"display_name":"Martin"},"score":0,"creation_date":1681705747,"post_id":76012310,"comment_id":134093934,"body_markdown":"The reason I think it should work better is that In my opinion Postgres should work with parallel threads to meet my needs. If I make a request with 30 threads, Postgres only uses a small percentage of the resources it could use. About 30% of the CPU and 500MB of RAM.\n\nI think there might be a way to reconfigure Postgres to use more resources and/or more threads. Maybe there is a lack of threads in Postgres due to a misconfiguration.","body":"The reason I think it should work better is that In my opinion Postgres should work with parallel threads to meet my needs. If I make a request with 30 threads, Postgres only uses a small percentage of the resources it could use. About 30% of the CPU and 500MB of RAM.  I think there might be a way to reconfigure Postgres to use more resources and/or more threads. Maybe there is a lack of threads in Postgres due to a misconfiguration."}],"owner":{"account_id":12904779,"reputation":87,"user_id":9332427,"display_name":"Martin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681465237,"creation_date":1681455136,"question_id":76012310,"body_markdown":"I don&#39;t know if this is a problem with my SpringBoot application or a problem with my PostgreSQL DB.\r\n\r\nDo you have any idea where the bottleneck might be? Postgres or maybe SpringBoot configuration?\r\n\r\nI use **Postgres via docker with version 15.2** (which is the latest) - I may have to make some adjustments here?\r\n\r\nI am running 30 parallel SELECT queries (using JPA) on my PostgreSQL DB on a view through my application. The speed of each query decreases a lot due to this parallelization.\r\n\r\nIf I run **only one thread**, so the queries run sequentially, it takes between **60 and 100ms / per query**.\r\n\r\nIf I work **with 10 threads**, then each individual query requires between **140 - 500ms**.\r\n\r\nIf I work **with 30 threads**, then each individual query takes **between 500 - 900ms**. \r\n\r\nMy idea was actually that if all the queries run in parallel, they only need 100 - 200ms.\r\n\r\nMy connection pool is already set to 50.\r\nspring.datasource.hikari.minimum-idle=40\r\nspring.datasource.hikari.maximum-pool-size=50\r\n\r\nThis is how I measure the times:\r\n\r\n    log.debug(&quot;Searching for customer by id &quot; + id);\r\n    long start = System.currentTimeMillis();\r\n    List&lt;Customer&gt; customerList = this.customerRepository.findById(id);\r\n    log.debug(&quot;Finished &quot; + (System.currentTimeMillis() - start) + &quot;ms for customer by id &quot; + id);\r\n\r\nI am working with a JpaRepository:\r\n\r\n    public interface CustomerRepository extends JpaRepository&lt;Customer, String&gt;.\r\n\r\nDo I need to configure my postgreSQL DB differently?\r\nIs there a bottleneck somewhere in my application? I already measure the times directly before starting the query and after it has been completed.\r\n\r\n- Host computer has 8 CPUs\r\n- Postgres Docker Container runs without CPU or RAM limitation\r\n- Application runs on the host computer too","title":"SpringBoot parallel SELECTs on view slow down PostgreSQL query","body":"<p>I don't know if this is a problem with my SpringBoot application or a problem with my PostgreSQL DB.</p>\n<p>Do you have any idea where the bottleneck might be? Postgres or maybe SpringBoot configuration?</p>\n<p>I use <strong>Postgres via docker with version 15.2</strong> (which is the latest) - I may have to make some adjustments here?</p>\n<p>I am running 30 parallel SELECT queries (using JPA) on my PostgreSQL DB on a view through my application. The speed of each query decreases a lot due to this parallelization.</p>\n<p>If I run <strong>only one thread</strong>, so the queries run sequentially, it takes between <strong>60 and 100ms / per query</strong>.</p>\n<p>If I work <strong>with 10 threads</strong>, then each individual query requires between <strong>140 - 500ms</strong>.</p>\n<p>If I work <strong>with 30 threads</strong>, then each individual query takes <strong>between 500 - 900ms</strong>.</p>\n<p>My idea was actually that if all the queries run in parallel, they only need 100 - 200ms.</p>\n<p>My connection pool is already set to 50.\nspring.datasource.hikari.minimum-idle=40\nspring.datasource.hikari.maximum-pool-size=50</p>\n<p>This is how I measure the times:</p>\n<pre><code>log.debug(&quot;Searching for customer by id &quot; + id);\nlong start = System.currentTimeMillis();\nList&lt;Customer&gt; customerList = this.customerRepository.findById(id);\nlog.debug(&quot;Finished &quot; + (System.currentTimeMillis() - start) + &quot;ms for customer by id &quot; + id);\n</code></pre>\n<p>I am working with a JpaRepository:</p>\n<pre><code>public interface CustomerRepository extends JpaRepository&lt;Customer, String&gt;.\n</code></pre>\n<p>Do I need to configure my postgreSQL DB differently?\nIs there a bottleneck somewhere in my application? I already measure the times directly before starting the query and after it has been completed.</p>\n<ul>\n<li>Host computer has 8 CPUs</li>\n<li>Postgres Docker Container runs without CPU or RAM limitation</li>\n<li>Application runs on the host computer too</li>\n</ul>\n"},{"tags":["java","swing","calculator"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1681462683,"post_id":76013259,"comment_id":134063614,"body_markdown":"Please post sample code that shows how you achieved the current layout.","body":"Please post sample code that shows how you achieved the current layout."},{"owner":{"account_id":26551249,"reputation":25,"user_id":20180530,"display_name":"Otaku Sensei"},"score":0,"creation_date":1681462724,"post_id":76013259,"comment_id":134063622,"body_markdown":"where should i post my code? sorry for the question","body":"where should i post my code? sorry for the question"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1681462796,"post_id":76013259,"comment_id":134063639,"body_markdown":"@OtakuSensei simply [edit] your question to include a [example].","body":"@OtakuSensei simply <a href=\"https://stackoverflow.com/posts/76013259/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1681463782,"post_id":76013259,"comment_id":134063872,"body_markdown":"@OtakuSensei no it doesn&#39;t. Please read the link I gave above.","body":"@OtakuSensei no it doesn&#39;t. Please read the link I gave above."}],"answers":[{"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681464831,"creation_date":1681464831,"answer_id":76013616,"question_id":76013259,"body_markdown":"You are using `GridLayout` to arrange your buttons. `GridLayout` does not support stretching one component over several rows (or columns). You can\r\n - use a `LayoutManager` that supports stretching components over multiple rows/columns restructure\r\n - your component hierarchy to use multiple containers with different layout managers\r\n\r\nto achieve the desired result.\r\n\r\nOne solution using the JDK&#39;s `GridBagLayout` might be\r\n```\r\n    JPanel p2 = new JPanel(new GridBagLayout());\r\n    ... // background, border, etc.\r\n\r\n    GridBagConstraints gbc = new GridBagConstraints();\r\n    gbc.anchor = GridBagConstraints.CENTER;\r\n    gbc.fill = GridBagConstraints.BOTH;\r\n    gbc.weightx = 1;\r\n    gbc.weighty = 1;\r\n\r\n    gbc.gridx = 0;\r\n    gbc.gridy = 0;\r\n    p2.add(pOnOff, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btnClr, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btnDel, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btnDiv, gbc);\r\n\r\n    gbc.gridx = 0;\r\n    ++gbc.gridy;\r\n    p2.add(btnSqrt, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btnSq, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btnInv, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btnSub, gbc);\r\n\r\n    gbc.gridx = 0;\r\n    ++gbc.gridy;\r\n    p2.add(btn7, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btn8, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btn9, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btnMul, gbc);\r\n\r\n    gbc.gridx = 0;\r\n    ++gbc.gridy;\r\n    p2.add(btn4, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btn5, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btn6, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btnAdd, gbc);\r\n\r\n    gbc.gridx = 0;\r\n    ++gbc.gridy;\r\n    p2.add(btn1, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btn2, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btn3, gbc);\r\n    ++gbc.gridx;\r\n    gbc.gridheight = 2; // &lt;- stretch over two rows\r\n    p2.add(btnEq, gbc);\r\n\r\n    gbc.gridx = 0;\r\n    ++gbc.gridy;\r\n    gbc.gridheight = 1; // &lt;- reset vertical stretch\r\n    p2.add(btn0, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btndash, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btndot, gbc);\r\n```\r\n\r\nDisclaimer:\r\n`GridBagLayout` is not well-liked and most people prefer third-party layout managers like `MigLayout`. This sample code uses `GridBagLayout` because it comes with the JDK and does not require additional libraries.","title":"Having hard time making equals button to occupy 2 rows in 1 column","body":"<p>You are using <code>GridLayout</code> to arrange your buttons. <code>GridLayout</code> does not support stretching one component over several rows (or columns). You can</p>\n<ul>\n<li>use a <code>LayoutManager</code> that supports stretching components over multiple rows/columns restructure</li>\n<li>your component hierarchy to use multiple containers with different layout managers</li>\n</ul>\n<p>to achieve the desired result.</p>\n<p>One solution using the JDK's <code>GridBagLayout</code> might be</p>\n<pre><code>    JPanel p2 = new JPanel(new GridBagLayout());\n    ... // background, border, etc.\n\n    GridBagConstraints gbc = new GridBagConstraints();\n    gbc.anchor = GridBagConstraints.CENTER;\n    gbc.fill = GridBagConstraints.BOTH;\n    gbc.weightx = 1;\n    gbc.weighty = 1;\n\n    gbc.gridx = 0;\n    gbc.gridy = 0;\n    p2.add(pOnOff, gbc);\n    ++gbc.gridx;\n    p2.add(btnClr, gbc);\n    ++gbc.gridx;\n    p2.add(btnDel, gbc);\n    ++gbc.gridx;\n    p2.add(btnDiv, gbc);\n\n    gbc.gridx = 0;\n    ++gbc.gridy;\n    p2.add(btnSqrt, gbc);\n    ++gbc.gridx;\n    p2.add(btnSq, gbc);\n    ++gbc.gridx;\n    p2.add(btnInv, gbc);\n    ++gbc.gridx;\n    p2.add(btnSub, gbc);\n\n    gbc.gridx = 0;\n    ++gbc.gridy;\n    p2.add(btn7, gbc);\n    ++gbc.gridx;\n    p2.add(btn8, gbc);\n    ++gbc.gridx;\n    p2.add(btn9, gbc);\n    ++gbc.gridx;\n    p2.add(btnMul, gbc);\n\n    gbc.gridx = 0;\n    ++gbc.gridy;\n    p2.add(btn4, gbc);\n    ++gbc.gridx;\n    p2.add(btn5, gbc);\n    ++gbc.gridx;\n    p2.add(btn6, gbc);\n    ++gbc.gridx;\n    p2.add(btnAdd, gbc);\n\n    gbc.gridx = 0;\n    ++gbc.gridy;\n    p2.add(btn1, gbc);\n    ++gbc.gridx;\n    p2.add(btn2, gbc);\n    ++gbc.gridx;\n    p2.add(btn3, gbc);\n    ++gbc.gridx;\n    gbc.gridheight = 2; // &lt;- stretch over two rows\n    p2.add(btnEq, gbc);\n\n    gbc.gridx = 0;\n    ++gbc.gridy;\n    gbc.gridheight = 1; // &lt;- reset vertical stretch\n    p2.add(btn0, gbc);\n    ++gbc.gridx;\n    p2.add(btndash, gbc);\n    ++gbc.gridx;\n    p2.add(btndot, gbc);\n</code></pre>\n<p>Disclaimer:\n<code>GridBagLayout</code> is not well-liked and most people prefer third-party layout managers like <code>MigLayout</code>. This sample code uses <code>GridBagLayout</code> because it comes with the JDK and does not require additional libraries.</p>\n"}],"owner":{"account_id":26551249,"reputation":25,"user_id":20180530,"display_name":"Otaku Sensei"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76013616,"answer_count":1,"score":0,"last_activity_date":1681464831,"creation_date":1681462532,"question_id":76013259,"body_markdown":"    JButton btnEq = new JButton(&quot;=&quot;);\r\n    btnEq.setBackground(babyBlue); //to set color of equals btn\r\n\r\nmy code so far is just adding the button for equal I tried using getcontentpane still not working or I just don&#39;t know how to properly use it.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nSn93.png","title":"Having hard time making equals button to occupy 2 rows in 1 column","body":"<pre><code>JButton btnEq = new JButton(&quot;=&quot;);\nbtnEq.setBackground(babyBlue); //to set color of equals btn\n</code></pre>\n<p>my code so far is just adding the button for equal I tried using getcontentpane still not working or I just don't know how to properly use it.<a href=\"https://i.stack.imgur.com/nSn93.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nSn93.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","logging","log4j","log4j2"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1681466216,"post_id":76013611,"comment_id":134064458,"body_markdown":"Not definitive, but: it seems that you are mixing log4j (https://logging.apache.org/log4j/1.2/, as indicated by the name of the config file: &quot;log4j.properties&quot;) with log4j2 (https://logging.apache.org/log4j/2.x/index.html, as indicated by the name of the testAppender class: &quot;x.y.z.Log4j2Appender&quot;). AFAIK you cannot use a Log4j2-appender with log4j 1.2.","body":"Not definitive, but: it seems that you are mixing log4j (<a href=\"https://logging.apache.org/log4j/1.2/\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/1.2</a>, as indicated by the name of the config file: &quot;log4j.properties&quot;) with log4j2 (<a href=\"https://logging.apache.org/log4j/2.x/index.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/index.html</a>, as indicated by the name of the testAppender class: &quot;x.y.z.Log4j2Appender&quot;). AFAIK you cannot use a Log4j2-appender with log4j 1.2."},{"owner":{"account_id":3969128,"reputation":123,"user_id":3274140,"display_name":"user3274140"},"score":0,"creation_date":1681547774,"post_id":76013611,"comment_id":134076755,"body_markdown":"@ThomasKl&#228;ger can i convert existing log4j.properties to log4j2 props?","body":"@ThomasKl&#228;ger can i convert existing log4j.properties to log4j2 props?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1681548737,"post_id":76013611,"comment_id":134076851,"body_markdown":"If you are using log4j then migrating the configuration properties is not enough. You will need to change your application to use log4j2 (https://logging.apache.org/log4j/2.x/manual/migration.html)","body":"If you are using log4j then migrating the configuration properties is not enough. You will need to change your application to use log4j2 (<a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/migration.html</a>)"},{"owner":{"account_id":3969128,"reputation":123,"user_id":3274140,"display_name":"user3274140"},"score":0,"creation_date":1681566922,"post_id":76013611,"comment_id":134079035,"body_markdown":"That&#39;s right and same I have done but still no logs getting created but earlier error is gone. Can you plz give provide ur inout on what can be the log4j2 props of above configuration","body":"That&#39;s right and same I have done but still no logs getting created but earlier error is gone. Can you plz give provide ur inout on what can be the log4j2 props of above configuration"}],"owner":{"account_id":3969128,"reputation":123,"user_id":3274140,"display_name":"user3274140"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681464823,"creation_date":1681464823,"question_id":76013611,"body_markdown":"Here is my log4j.properties file\r\n```\r\nlog4j.rootCategory=INFO,console,defaultAppender\r\n\r\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.console.target=System.err\r\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.console.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{1}: %m%n\r\n\r\n\r\nlog4j.appender.defaultAppender=x.y.z.DefaultAppender\r\nlog4j.appender.defaultAppender.layout = x.y.z.JsonLayout\r\nlog4j.appender.defaultAppender.File=defaultmodule\r\nlog4j.appender.defaultAppender.Append=true\r\n\r\nlog4j.category.x.y.z.App=INFO, applicationAppender, testAppender\r\nlog4j.appender.applicationAppender=x.y.z.TestLog4jHandler\r\nlog4j.appender.applicationAppender.layout=x.y.z.JsonLayout\r\nlog4j.appender.applicationAppender.File=appmodule\r\nlog4j.appender.applicationAppender.Append=true\r\nlog4j.appender.applicationAppender.MaxBackupIndex = 10\r\n\r\nlog4j.appender.testAppender=x.y.z.Log4j2Appender\r\nlog4j.appender.testAppender.layout=x.y.z.JsonLayout\r\nlog4j.appender.testAppender.File=appmodule\r\nlog4j.appender.testAppender.Append=true\r\n\r\n```\r\nWhile using this props in my application , it throws error saying:\r\nlog4j:ERROR Could not instantiate appender named &quot;testAppender&quot;.\r\n\r\nis there any thing i am doing wrong?","title":"log4j:ERROR Could not instantiate appender named &quot;testAppender&quot;","body":"<p>Here is my log4j.properties file</p>\n<pre><code>log4j.rootCategory=INFO,console,defaultAppender\n\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\nlog4j.appender.console.target=System.err\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\nlog4j.appender.console.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{1}: %m%n\n\n\nlog4j.appender.defaultAppender=x.y.z.DefaultAppender\nlog4j.appender.defaultAppender.layout = x.y.z.JsonLayout\nlog4j.appender.defaultAppender.File=defaultmodule\nlog4j.appender.defaultAppender.Append=true\n\nlog4j.category.x.y.z.App=INFO, applicationAppender, testAppender\nlog4j.appender.applicationAppender=x.y.z.TestLog4jHandler\nlog4j.appender.applicationAppender.layout=x.y.z.JsonLayout\nlog4j.appender.applicationAppender.File=appmodule\nlog4j.appender.applicationAppender.Append=true\nlog4j.appender.applicationAppender.MaxBackupIndex = 10\n\nlog4j.appender.testAppender=x.y.z.Log4j2Appender\nlog4j.appender.testAppender.layout=x.y.z.JsonLayout\nlog4j.appender.testAppender.File=appmodule\nlog4j.appender.testAppender.Append=true\n\n</code></pre>\n<p>While using this props in my application , it throws error saying:\nlog4j:ERROR Could not instantiate appender named &quot;testAppender&quot;.</p>\n<p>is there any thing i am doing wrong?</p>\n"},{"tags":["java","proxy","smtp","socks","java-19"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1681458440,"post_id":76011991,"comment_id":134062565,"body_markdown":"Does this answer your question? [JavaMail - Setting up ports, proxy and firewall](https://stackoverflow.com/questions/19092938/javamail-setting-up-ports-proxy-and-firewall)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19092938/javamail-setting-up-ports-proxy-and-firewall\">JavaMail - Setting up ports, proxy and firewall</a>"},{"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"score":0,"creation_date":1681459978,"post_id":76011991,"comment_id":134062959,"body_markdown":"Hello @life888888 the accepted answer from that question implies that I need to use a 3rd party library. I&#39;m not keen on that idea because of security reasons. If possible I&#39;d really like to stick with standard Java classes/methods.","body":"Hello @life888888 the accepted answer from that question implies that I need to use a 3rd party library. I&#39;m not keen on that idea because of security reasons. If possible I&#39;d really like to stick with standard Java classes/methods."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681463769,"post_id":76011991,"comment_id":134063869,"body_markdown":"Do you or don&#39;t you need to use the proxy to reach the SMTP server? Your question is not clear on that. Also, the question linked by life888888 doesn&#39;t suggest you need a third-party library: the top-voted answer tells you it is built-in... However, have you tried using one way to configure socks, and leave out the other. The _&quot;SOCKS: Network unreachable&quot;_ error suggest that it can&#39;t connect to the socks proxy (or possibly, that the SOCKS proxy can&#39;t reach smtp.aaa.net; not sure).","body":"Do you or don&#39;t you need to use the proxy to reach the SMTP server? Your question is not clear on that. Also, the question linked by life888888 doesn&#39;t suggest you need a third-party library: the top-voted answer tells you it is built-in... However, have you tried using one way to configure socks, and leave out the other. The <i>&quot;SOCKS: Network unreachable&quot;</i> error suggest that it can&#39;t connect to the socks proxy (or possibly, that the SOCKS proxy can&#39;t reach smtp.aaa.net; not sure)."},{"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"score":0,"creation_date":1681463934,"post_id":76011991,"comment_id":134063898,"body_markdown":"The test script I created using PowerShell does not need to use a proxy, I just provide the SMTP host and port and it works. As for the Java code, I have already test the code without the extra `mail.smtp.socks.host` properties, but the exception is basically the same. Regarding the linked post, the top-voted answer is what I already tried (see the code)","body":"The test script I created using PowerShell does not need to use a proxy, I just provide the SMTP host and port and it works. As for the Java code, I have already test the code without the extra <code>mail.smtp.socks.host</code> properties, but the exception is basically the same. Regarding the linked post, the top-voted answer is what I already tried (see the code)"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681464422,"post_id":76011991,"comment_id":134064007,"body_markdown":"Ok, so the problem is probably that you don&#39;t need a proxy for SMTP, but the proxy is applied anyway, because you configured it with the `-DsocksProxyHost` and `-DsocksProxyPort`. I would recommend trying without those `-D` property and **without** the `&quot;mail.smtp.socks.host` and `.port` property set to see if you can connect. If that works, you may need to use a custom SocketFactory to create the `Socket` with `new Socket(Proxy.NO_PROXY)`.","body":"Ok, so the problem is probably that you don&#39;t need a proxy for SMTP, but the proxy is applied anyway, because you configured it with the <code>-DsocksProxyHost</code> and <code>-DsocksProxyPort</code>. I would recommend trying without those <code>-D</code> property and <b>without</b> the <code>&quot;mail.smtp.socks.host</code> and <code>.port</code> property set to see if you can connect. If that works, you may need to use a custom SocketFactory to create the <code>Socket</code> with <code>new Socket(Proxy.NO_PROXY)</code>."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681464463,"post_id":76011991,"comment_id":134064015,"body_markdown":"To be clear, I&#39;m just guessing, but that is the debugging/analysis approach I would take.","body":"To be clear, I&#39;m just guessing, but that is the debugging/analysis approach I would take."},{"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"score":0,"creation_date":1681464777,"post_id":76011991,"comment_id":134064107,"body_markdown":"Hello @MarkRotteveel Thanks, I like your `Socket(Proxy.NO_PROXY)` suggestion, I will take a look at that now. That is inline with what I suspect is going on...","body":"Hello @MarkRotteveel Thanks, I like your <code>Socket(Proxy.NO_PROXY)</code> suggestion, I will take a look at that now. That is inline with what I suspect is going on..."}],"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681464192,"creation_date":1681452098,"question_id":76011991,"body_markdown":"I have an application running on a server located in a _secure_ network. The application needs to access a few online resources, which required firewall and proxy settings to be setup. Currently everything (HTTPS &amp; SFTP) is working, except for the sending of emails.\r\n\r\nFor the application, I had to configure it to use a socks proxy and a HTTP proxy (both setup via command line options)\r\n\r\n```none\r\n-Dhttp.proxyHost=aaa.net\r\n-Dhttp.proxyPort=8080\r\n-Dhttp.nonProxyHosts=&quot;localhost|127.*|[::1]&quot;\r\n-DsocksProxyHost=socks5.aaa.net\r\n-DsocksProxyPort=8081\r\n```\r\n\r\nFrom within the network, a proxy to access the SMTP server is not required, only firewall access had to be provided for the application server to access SMTP (successfully tested via a PowerShell script, see further below).\r\n\r\nThe java code to send an email currently looks like this:\r\n\r\n```java\r\nproperties.put(&quot;mail.smtp.auth&quot;, &quot;false&quot;);\r\nproperties.put(&quot;mail.smtp.timeout&quot;, 5000); // I read somewhere in another post that increasing the timeout can help, but it didn&#39;t\r\nproperties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;); // also tried &quot;false&quot;\r\n//properties.put(&quot;mail.smtp.ssl.trust&quot;, host);\r\nproperties.put(&quot;mail.smtp.host&quot;, host);\r\nproperties.put(&quot;mail.smtp.port&quot;, port);\r\n// I tested the above configuration first, before adding the following. The result was the same (it didn&#39;t work)\r\nproperties.put(&quot;mail.smtp.socks.host&quot;, &quot;socks5.aaa.net&quot;);\r\nproperties.put(&quot;mail.smtp.socks.port&quot;, 8081);\r\n\r\nMailSSLSocketFactory sf = new MailSSLSocketFactory(); // I&#39;ve tested with and without this, the result seems to be the same\r\nsf.setTrustAllHosts(true);\r\nproperties.put(&quot;mail.smtp.ssl.socketFactory&quot;, sf);\r\n\r\nsession = Session.getInstance(properties);\r\n\r\nMessage message = createAndFillMessage( .... ); // all the blah blah for the message\r\n\r\nTransport.send(message);\r\n```\r\n\r\nThe following error is what I get when the code runs (the Network is actually reachable, see further below)\r\n\r\n```none\r\ncom.sun.mail.util.MailConnectException: Couldn&#39;t connect to host, port: smtp.aaa.net, 25; timeout -1; Using SOCKS host, port: socks5.aaa.net, 8081;\r\n  nested exception is:\r\n\tjava.net.SocketException: SOCKS: Network unreachable\r\n\tat com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2209)\r\n\tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:740)\r\n\tat javax.mail.Service.connect(Service.java:366)\r\n\tat javax.mail.Service.connect(Service.java:246)\r\n\tat javax.mail.Service.connect(Service.java:195)\r\n\tat javax.mail.Transport.send0(Transport.java:254)\r\n\tat javax.mail.Transport.send(Transport.java:124)\r\nCaused by: java.net.SocketException: SOCKS: Network unreachable\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:487)\r\n\tat java.base/java.net.Socket.connect(Socket.java:666)\r\n\tat java.base/java.net.Socket.connect(Socket.java:600)\r\n\tat com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:359)\r\n\tat com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:238)\r\n\tat com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2175)\r\n\t... 8 more\r\n```\r\n\r\nWhat I find extra confusing is that I&#39;ve tested SMTP (from the server) via a simple PowerShell script to send an email using `Send-MailMessage` and for the PowerShell script I didn&#39;t have to enter any proxy details, just a plain text connection, no authorization or anything special and it just worked ... however, everything I&#39;ve tried within the Java application has failed so far.\r\n\r\nMy suspicion is that the problem lies with the fact that I had to configure a SOCKS proxy for the SFTP connection, which is now somehow interfering with (what should be) a simple SMTP call.\r\n\r\nCurrently, Java 19 (OpenJDK 19) is being used on the server.\r\n","title":"Unable to send email from behind a firewall/proxy","body":"<p>I have an application running on a server located in a <em>secure</em> network. The application needs to access a few online resources, which required firewall and proxy settings to be setup. Currently everything (HTTPS &amp; SFTP) is working, except for the sending of emails.</p>\n<p>For the application, I had to configure it to use a socks proxy and a HTTP proxy (both setup via command line options)</p>\n<pre class=\"lang-none prettyprint-override\"><code>-Dhttp.proxyHost=aaa.net\n-Dhttp.proxyPort=8080\n-Dhttp.nonProxyHosts=&quot;localhost|127.*|[::1]&quot;\n-DsocksProxyHost=socks5.aaa.net\n-DsocksProxyPort=8081\n</code></pre>\n<p>From within the network, a proxy to access the SMTP server is not required, only firewall access had to be provided for the application server to access SMTP (successfully tested via a PowerShell script, see further below).</p>\n<p>The java code to send an email currently looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>properties.put(&quot;mail.smtp.auth&quot;, &quot;false&quot;);\nproperties.put(&quot;mail.smtp.timeout&quot;, 5000); // I read somewhere in another post that increasing the timeout can help, but it didn't\nproperties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;); // also tried &quot;false&quot;\n//properties.put(&quot;mail.smtp.ssl.trust&quot;, host);\nproperties.put(&quot;mail.smtp.host&quot;, host);\nproperties.put(&quot;mail.smtp.port&quot;, port);\n// I tested the above configuration first, before adding the following. The result was the same (it didn't work)\nproperties.put(&quot;mail.smtp.socks.host&quot;, &quot;socks5.aaa.net&quot;);\nproperties.put(&quot;mail.smtp.socks.port&quot;, 8081);\n\nMailSSLSocketFactory sf = new MailSSLSocketFactory(); // I've tested with and without this, the result seems to be the same\nsf.setTrustAllHosts(true);\nproperties.put(&quot;mail.smtp.ssl.socketFactory&quot;, sf);\n\nsession = Session.getInstance(properties);\n\nMessage message = createAndFillMessage( .... ); // all the blah blah for the message\n\nTransport.send(message);\n</code></pre>\n<p>The following error is what I get when the code runs (the Network is actually reachable, see further below)</p>\n<pre class=\"lang-none prettyprint-override\"><code>com.sun.mail.util.MailConnectException: Couldn't connect to host, port: smtp.aaa.net, 25; timeout -1; Using SOCKS host, port: socks5.aaa.net, 8081;\n  nested exception is:\n    java.net.SocketException: SOCKS: Network unreachable\n    at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2209)\n    at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:740)\n    at javax.mail.Service.connect(Service.java:366)\n    at javax.mail.Service.connect(Service.java:246)\n    at javax.mail.Service.connect(Service.java:195)\n    at javax.mail.Transport.send0(Transport.java:254)\n    at javax.mail.Transport.send(Transport.java:124)\nCaused by: java.net.SocketException: SOCKS: Network unreachable\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:487)\n    at java.base/java.net.Socket.connect(Socket.java:666)\n    at java.base/java.net.Socket.connect(Socket.java:600)\n    at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:359)\n    at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:238)\n    at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2175)\n    ... 8 more\n</code></pre>\n<p>What I find extra confusing is that I've tested SMTP (from the server) via a simple PowerShell script to send an email using <code>Send-MailMessage</code> and for the PowerShell script I didn't have to enter any proxy details, just a plain text connection, no authorization or anything special and it just worked ... however, everything I've tried within the Java application has failed so far.</p>\n<p>My suspicion is that the problem lies with the fact that I had to configure a SOCKS proxy for the SFTP connection, which is now somehow interfering with (what should be) a simple SMTP call.</p>\n<p>Currently, Java 19 (OpenJDK 19) is being used on the server.</p>\n"},{"tags":["java","kotlin","inheritance","overriding"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1681462455,"post_id":76012673,"comment_id":134063561,"body_markdown":"Is Advanced.kt in your attempt to mimic the problem in the same package as the other files? If so, then you have not mimicked the problem.","body":"Is Advanced.kt in your attempt to mimic the problem in the same package as the other files? If so, then you have not mimicked the problem."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681464016,"creation_date":1681464016,"answer_id":76013480,"question_id":76012673,"body_markdown":"In Java, members of a class that are not marked with any access modifiers are *package-private*. They can only be accessed within the package in which the class is declared. The `createSpec` method is such a member.\r\n\r\nSince your Kotlin code is in another package, not `com.google.android.material.progressindicator`, you cannot access `createSpec`, so you cannot override it.\r\n\r\nAlso, if you were allowed to override it, you would be exposing the method to the code in your own package, which is not supposed to happen.\r\n\r\nYour attempt at mimicking the problem compiles just fine, presumably because you put all the code in the same package.\r\n\r\nSince what you are doing is just &quot;for fun&quot;, you can create your own `com.google.android.material.progressindicator` package and put the `BaseProgressIndicator` subclass in there.\r\n\r\n```\r\n// move the file to this package too!\r\npackage com.google.android.material.progressindicator\r\n\r\nclass AdvancedLinearProgressIndicator(...) : BaseProgressIndicator(...) {\r\n    // ...\r\n}\r\n```","title":"Subtyping &quot;some&quot; Java classes in the form of derived Kotlin classes doesn&#39;t seem to work","body":"<p>In Java, members of a class that are not marked with any access modifiers are <em>package-private</em>. They can only be accessed within the package in which the class is declared. The <code>createSpec</code> method is such a member.</p>\n<p>Since your Kotlin code is in another package, not <code>com.google.android.material.progressindicator</code>, you cannot access <code>createSpec</code>, so you cannot override it.</p>\n<p>Also, if you were allowed to override it, you would be exposing the method to the code in your own package, which is not supposed to happen.</p>\n<p>Your attempt at mimicking the problem compiles just fine, presumably because you put all the code in the same package.</p>\n<p>Since what you are doing is just &quot;for fun&quot;, you can create your own <code>com.google.android.material.progressindicator</code> package and put the <code>BaseProgressIndicator</code> subclass in there.</p>\n<pre><code>// move the file to this package too!\npackage com.google.android.material.progressindicator\n\nclass AdvancedLinearProgressIndicator(...) : BaseProgressIndicator(...) {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":6987204,"reputation":13,"user_id":5357642,"display_name":"Jason Holdsworth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76013480,"answer_count":1,"score":1,"last_activity_date":1681464016,"creation_date":1681458169,"question_id":76012673,"body_markdown":"Since you can&#39;t subtype **LinearProgressIndicator**, I&#39;ve been trying to subtype **BaseProgressIndicator** (for fun) as a derived Kotlin class I&#39;m calling **AdvancedLinearProgressIndicator**. I stumbled on the following issue:\r\n\r\n`&#39;public open fun createSpec(context: Context, attrs: AttributeSet): LinearProgressIndicatorSpec defined in AdvancedLinearProgressIndicator&#39; has no access to &#39;public/*package*/ abstract fun createSpec(context: Context, attrs: AttributeSet): LinearProgressIndicatorSpec! defined in com.google.android.material.progressindicator.BaseProgressIndicator&#39;, so it cannot override it`\r\n\r\nThe Java code for **BaseProgressIndicator** is here: [BaseProgressIndicator.java](https://github.com/material-components/material-components-android/blob/master/lib/java/com/google/android/material/progressindicator/BaseProgressIndicator.java), but I think the important parts to consider are:\r\n\r\n```\r\npublic abstract class BaseProgressIndicator&lt;S extends BaseProgressIndicatorSpec&gt;\r\n    extends ProgressBar {\r\n\r\n   ...\r\n\r\n  S spec;\r\n\r\n   ...\r\n\r\n  protected BaseProgressIndicator(\r\n      @NonNull Context context,\r\n      @Nullable AttributeSet attrs,\r\n      @AttrRes final int defStyleAttr,\r\n      @StyleRes final int defStyleRes) {\r\n    super(wrap(context, attrs, defStyleAttr, DEF_STYLE_RES), attrs, defStyleAttr);\r\n\r\n   ...\r\n\r\n    spec = createSpec(context, attrs);\r\n\r\n   ...\r\n\r\n  }\r\n\r\n  abstract S createSpec(@NonNull Context context, @NonNull AttributeSet attrs);\r\n\r\n   ...\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nHere is the Kotlin code I started creating:\r\n```\r\nclass AdvancedLinearProgressIndicator(\r\n    context: Context,\r\n    attrs: AttributeSet?,\r\n    @AttrRes defStyleAttr: Int\r\n) : BaseProgressIndicator&lt;LinearProgressIndicatorSpec&gt;(\r\n    context,\r\n    attrs,\r\n    defStyleAttr,\r\n    com.google.android.material.R.style.Widget_Material3_LinearProgressIndicator\r\n) {\r\n\r\n   override fun createSpec(context: Context, attrs: AttributeSet): LinearProgressIndicatorSpec {\r\n        return LinearProgressIndicatorSpec(context, attrs)\r\n    }\r\n}\r\n```\r\n\r\nNo matter what I tried, Kotlin won&#39;t let me override `createSpec()`\r\n\r\nAlso, I can&#39;t access the `spec` member field from **BaseProgressIndicator** in **AdvancedLinearProgressIndicator** either...\r\n\r\n\r\nAny thoughts?\r\n\r\nBy the way, I tried to mimic this issue as follows:\r\n\r\n```\r\n// BaseSpec.java\r\nimport android.content.Context;\r\n\r\npublic abstract class BaseSpec {\r\n\r\n    protected BaseSpec(Context context) {\r\n\r\n    }\r\n\r\n    abstract void validateSpec();\r\n}\r\n\r\n// AdvancedSpec.java\r\npublic final class AdvancedSpec extends BaseSpec {\r\n\r\n    public AdvancedSpec(Context context) {\r\n        super(context);\r\n        validateSpec();\r\n    }\r\n\r\n    @Override\r\n    void validateSpec() {\r\n\r\n    }\r\n}\r\n\r\n// Basic.java\r\nimport android.content.Context;\r\nimport android.widget.ProgressBar;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\npublic abstract class Basic&lt;S extends BaseSpec&gt; extends ProgressBar {\r\n    S spec;\r\n\r\n    protected Basic(@NonNull Context context) {\r\n        super(context);\r\n        spec = createSpec(context);\r\n    }\r\n\r\n    abstract S createSpec(@NonNull Context context);\r\n}\r\n\r\n// Advanced.kt\r\nimport android.content.Context\r\n\r\nclass Advanced(context: Context) : Basic&lt;AdvancedSpec&gt;(context) {\r\n\r\n    override fun createSpec(context: Context): AdvancedSpec {\r\n        spec.validateSpec()\r\n        return AdvancedSpec(context)\r\n    }\r\n}\r\n```\r\n\r\nThis test code works fine... no issue with the `createSpec()` method in my derived Kotlin class - and no issue access the `spec` member field...","title":"Subtyping &quot;some&quot; Java classes in the form of derived Kotlin classes doesn&#39;t seem to work","body":"<p>Since you can't subtype <strong>LinearProgressIndicator</strong>, I've been trying to subtype <strong>BaseProgressIndicator</strong> (for fun) as a derived Kotlin class I'm calling <strong>AdvancedLinearProgressIndicator</strong>. I stumbled on the following issue:</p>\n<p><code>'public open fun createSpec(context: Context, attrs: AttributeSet): LinearProgressIndicatorSpec defined in AdvancedLinearProgressIndicator' has no access to 'public/*package*/ abstract fun createSpec(context: Context, attrs: AttributeSet): LinearProgressIndicatorSpec! defined in com.google.android.material.progressindicator.BaseProgressIndicator', so it cannot override it</code></p>\n<p>The Java code for <strong>BaseProgressIndicator</strong> is here: <a href=\"https://github.com/material-components/material-components-android/blob/master/lib/java/com/google/android/material/progressindicator/BaseProgressIndicator.java\" rel=\"nofollow noreferrer\">BaseProgressIndicator.java</a>, but I think the important parts to consider are:</p>\n<pre><code>public abstract class BaseProgressIndicator&lt;S extends BaseProgressIndicatorSpec&gt;\n    extends ProgressBar {\n\n   ...\n\n  S spec;\n\n   ...\n\n  protected BaseProgressIndicator(\n      @NonNull Context context,\n      @Nullable AttributeSet attrs,\n      @AttrRes final int defStyleAttr,\n      @StyleRes final int defStyleRes) {\n    super(wrap(context, attrs, defStyleAttr, DEF_STYLE_RES), attrs, defStyleAttr);\n\n   ...\n\n    spec = createSpec(context, attrs);\n\n   ...\n\n  }\n\n  abstract S createSpec(@NonNull Context context, @NonNull AttributeSet attrs);\n\n   ...\n\n}\n\n</code></pre>\n<p>Here is the Kotlin code I started creating:</p>\n<pre><code>class AdvancedLinearProgressIndicator(\n    context: Context,\n    attrs: AttributeSet?,\n    @AttrRes defStyleAttr: Int\n) : BaseProgressIndicator&lt;LinearProgressIndicatorSpec&gt;(\n    context,\n    attrs,\n    defStyleAttr,\n    com.google.android.material.R.style.Widget_Material3_LinearProgressIndicator\n) {\n\n   override fun createSpec(context: Context, attrs: AttributeSet): LinearProgressIndicatorSpec {\n        return LinearProgressIndicatorSpec(context, attrs)\n    }\n}\n</code></pre>\n<p>No matter what I tried, Kotlin won't let me override <code>createSpec()</code></p>\n<p>Also, I can't access the <code>spec</code> member field from <strong>BaseProgressIndicator</strong> in <strong>AdvancedLinearProgressIndicator</strong> either...</p>\n<p>Any thoughts?</p>\n<p>By the way, I tried to mimic this issue as follows:</p>\n<pre><code>// BaseSpec.java\nimport android.content.Context;\n\npublic abstract class BaseSpec {\n\n    protected BaseSpec(Context context) {\n\n    }\n\n    abstract void validateSpec();\n}\n\n// AdvancedSpec.java\npublic final class AdvancedSpec extends BaseSpec {\n\n    public AdvancedSpec(Context context) {\n        super(context);\n        validateSpec();\n    }\n\n    @Override\n    void validateSpec() {\n\n    }\n}\n\n// Basic.java\nimport android.content.Context;\nimport android.widget.ProgressBar;\n\nimport androidx.annotation.NonNull;\n\npublic abstract class Basic&lt;S extends BaseSpec&gt; extends ProgressBar {\n    S spec;\n\n    protected Basic(@NonNull Context context) {\n        super(context);\n        spec = createSpec(context);\n    }\n\n    abstract S createSpec(@NonNull Context context);\n}\n\n// Advanced.kt\nimport android.content.Context\n\nclass Advanced(context: Context) : Basic&lt;AdvancedSpec&gt;(context) {\n\n    override fun createSpec(context: Context): AdvancedSpec {\n        spec.validateSpec()\n        return AdvancedSpec(context)\n    }\n}\n</code></pre>\n<p>This test code works fine... no issue with the <code>createSpec()</code> method in my derived Kotlin class - and no issue access the <code>spec</code> member field...</p>\n"},{"tags":["java","android-studio","tensorflow","deep-learning","google-colaboratory"],"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1681317061,"post_id":75996700,"comment_id":134038035,"body_markdown":"It&#39;s not clear: is the training and test data the same in both locations?","body":"It&#39;s not clear: is the training and test data the same in both locations?"},{"owner":{"account_id":28193194,"reputation":11,"user_id":21548264,"display_name":"Shafaq Iqbal"},"score":0,"creation_date":1681462302,"post_id":75996700,"comment_id":134063520,"body_markdown":"yes probably...  Training dataset contained more data than testing... I have trained the model with 12000 images while testing and validation dataset has 1200 images in both.   I am accessing these dataset through drive in Collab","body":"yes probably...  Training dataset contained more data than testing... I have trained the model with 12000 images while testing and validation dataset has 1200 images in both.   I am accessing these dataset through drive in Collab"},{"owner":{"account_id":28193194,"reputation":11,"user_id":21548264,"display_name":"Shafaq Iqbal"},"score":0,"creation_date":1681462522,"post_id":75996700,"comment_id":134063579,"body_markdown":"the code I provide above is to save the model with tensor flow extension so I can import it in android studio but accuracy is not coming good!!","body":"the code I provide above is to save the model with tensor flow extension so I can import it in android studio but accuracy is not coming good!!"},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1681477245,"post_id":75996700,"comment_id":134066931,"body_markdown":"Try a small subset of the testing data in both locations, and share that here. That would help narrow down the problem.","body":"Try a small subset of the testing data in both locations, and share that here. That would help narrow down the problem."},{"owner":{"account_id":28193194,"reputation":11,"user_id":21548264,"display_name":"Shafaq Iqbal"},"score":0,"creation_date":1681487915,"post_id":75996700,"comment_id":134069706,"body_markdown":"you mean, I should trained a model with more small number of testing data than previous?    Should I do any change in training dataset or not?","body":"you mean, I should trained a model with more small number of testing data than previous?    Should I do any change in training dataset or not?"},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1681508261,"post_id":75996700,"comment_id":134073504,"body_markdown":"No... If you have trained the model once, then the results should be the same regardless of where the model is deployed. This leads me to believe that test data in both deployments is different.","body":"No... If you have trained the model once, then the results should be the same regardless of where the model is deployed. This leads me to believe that test data in both deployments is different."},{"owner":{"account_id":28193194,"reputation":11,"user_id":21548264,"display_name":"Shafaq Iqbal"},"score":0,"creation_date":1681548399,"post_id":75996700,"comment_id":134076821,"body_markdown":"hey @ryanwebjackson thanks for your help. But still I am not getting it what you are trying to say about the testing dataset to improve accuracy!","body":"hey @ryanwebjackson thanks for your help. But still I am not getting it what you are trying to say about the testing dataset to improve accuracy!"}],"owner":{"account_id":28193194,"reputation":11,"user_id":21548264,"display_name":"Shafaq Iqbal"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681463891,"creation_date":1681309921,"question_id":75996700,"body_markdown":"when I am running app in mobile, it does not recognize some images of diseases but its Collab code accuracy is above 90%. we save the Collab model with tensor flow extension (code given below)then import it into android studio and copy its java in android. \r\n\r\nis there any problem in this method? why accuracy is not good?\r\n\r\nhere is the code,\r\n\r\n    import tensorflow as tf\r\n\r\n    from keras.models import load_model\r\n    model = load_model(&quot;VGG19-Final.h5&quot;)\r\n    converter = tf.lite.TFLiteConverter.from_keras_model(model)\r\n    tfmodel = converter.convert() \r\n    open(&quot;Model.tflite&quot;, &quot;wb&quot;) .write(tfmodel)","title":"how to integrate google Collab code in android studio in a right way?","body":"<p>when I am running app in mobile, it does not recognize some images of diseases but its Collab code accuracy is above 90%. we save the Collab model with tensor flow extension (code given below)then import it into android studio and copy its java in android.</p>\n<p>is there any problem in this method? why accuracy is not good?</p>\n<p>here is the code,</p>\n<pre><code>import tensorflow as tf\n\nfrom keras.models import load_model\nmodel = load_model(&quot;VGG19-Final.h5&quot;)\nconverter = tf.lite.TFLiteConverter.from_keras_model(model)\ntfmodel = converter.convert() \nopen(&quot;Model.tflite&quot;, &quot;wb&quot;) .write(tfmodel)\n</code></pre>\n"},{"tags":["java","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1681458719,"post_id":76011468,"comment_id":134062639,"body_markdown":"Can you edit your question with your test code? Do you load both classes in succession or just one before you try to instantiate C?","body":"Can you edit your question with your test code? Do you load both classes in succession or just one before you try to instantiate C?"},{"owner":{"account_id":28299739,"reputation":3,"user_id":21638588,"display_name":"ksmb175"},"score":0,"creation_date":1681463311,"post_id":76011468,"comment_id":134063747,"body_markdown":"The order of loading doesn&#39;t matter. I can load the first class","body":"The order of loading doesn&#39;t matter. I can load the first class"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1681463869,"post_id":76011468,"comment_id":134063890,"body_markdown":"See answer. I recreated your situation and solved it.","body":"See answer. I recreated your situation and solved it."}],"answers":[{"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681463829,"creation_date":1681463829,"answer_id":76013458,"question_id":76011468,"body_markdown":"When you define or load a class, is not initialized yet. According to the [Java language specification](https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.4.1), initialization happens when one of the following occurs:\r\n&gt; - T is a class and an instance of T is created.\r\n&gt; - A static method declared by T is invoked.\r\n&gt; - A static field declared by T is assigned.\r\n&gt; - A static field declared by T is used and the field is not a constant variable (&#167;4.12.4).\r\n\r\nYour call to `GetStaticMethodID` causes the initialization of class C, which in turn requires the initialization of `D_REFERENCE`, which causes the instantiation of a new D object, which causes the initialization of class D.\r\n\r\nIf you add basic error checking to your code the problem is immediately obvious:\r\n\r\n\tjmethodID C_printer = jniEnv-&gt;GetStaticMethodID(loadedClass, &quot;printer&quot;, &quot;()V&quot;);\r\n\tif (jniEnv-&gt;ExceptionOccurred()) {\r\n\t\tjniEnv-&gt;ExceptionDescribe();\r\n\t\treturn 1;\r\n\t}\r\n\r\nThis prints:\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: D\r\n\tat C.&lt;clinit&gt;(C.java:2)\r\nCaused by: java.lang.ClassNotFoundException: D\r\n```\r\nwhere `&lt;clinit&gt;` is the internal class initialization method.\r\n\r\nIf you also `DefineClass` D *before* accessing any of the members of C or creating an instance, the initialization process will see that D has been loaded and can continue as normal.\r\n\r\nAnd just because I was curious: the [Java class initialization process](https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.4.2) tolerates recursive initializations:\r\n&gt;  If the Class object for C indicates that initialization is in progress for C by the current thread, then this must be a recursive request for initialization. Release LC and complete normally.\r\n","title":"JNI + DefineClass + class cross reference","body":"<p>When you define or load a class, is not initialized yet. According to the <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.4.1\" rel=\"nofollow noreferrer\">Java language specification</a>, initialization happens when one of the following occurs:</p>\n<blockquote>\n<ul>\n<li>T is a class and an instance of T is created.</li>\n<li>A static method declared by T is invoked.</li>\n<li>A static field declared by T is assigned.</li>\n<li>A static field declared by T is used and the field is not a constant variable (§4.12.4).</li>\n</ul>\n</blockquote>\n<p>Your call to <code>GetStaticMethodID</code> causes the initialization of class C, which in turn requires the initialization of <code>D_REFERENCE</code>, which causes the instantiation of a new D object, which causes the initialization of class D.</p>\n<p>If you add basic error checking to your code the problem is immediately obvious:</p>\n<pre><code>jmethodID C_printer = jniEnv-&gt;GetStaticMethodID(loadedClass, &quot;printer&quot;, &quot;()V&quot;);\nif (jniEnv-&gt;ExceptionOccurred()) {\n    jniEnv-&gt;ExceptionDescribe();\n    return 1;\n}\n</code></pre>\n<p>This prints:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: D\n    at C.&lt;clinit&gt;(C.java:2)\nCaused by: java.lang.ClassNotFoundException: D\n</code></pre>\n<p>where <code>&lt;clinit&gt;</code> is the internal class initialization method.</p>\n<p>If you also <code>DefineClass</code> D <em>before</em> accessing any of the members of C or creating an instance, the initialization process will see that D has been loaded and can continue as normal.</p>\n<p>And just because I was curious: the <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.4.2\" rel=\"nofollow noreferrer\">Java class initialization process</a> tolerates recursive initializations:</p>\n<blockquote>\n<p>If the Class object for C indicates that initialization is in progress for C by the current thread, then this must be a recursive request for initialization. Release LC and complete normally.</p>\n</blockquote>\n"}],"owner":{"account_id":28299739,"reputation":3,"user_id":21638588,"display_name":"ksmb175"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76013458,"answer_count":1,"score":0,"last_activity_date":1681463829,"creation_date":1681444283,"question_id":76011468,"body_markdown":"I&#39;ve come across with a jni problem. There are two Java classes \r\n\r\n```\r\npublic class C {\r\n    public static final D D_REFERENCE = new D();\r\n    \r\n    public static void printer(){\r\n        System.out.println(&quot;C check&quot;);\r\n    }\r\n```\r\n\r\nand \r\n\r\n\r\n```\r\npublic class D {\r\n    public static final C C_REFERENCE = new C();\r\n    \r\n    public static void printer(){\r\n        System.out.println(&quot;D check&quot;);\r\n    }\r\n}\r\n```\r\nWhen I try to load these classes using code below nothing happens.\r\n```\r\nloadedClass = jniEnv-&gt;DefineClass(classtoload, system_loader, jniEnv-&gt;GetByteArrayElements(binaryClass, 0), num_bytes);\r\n```\r\nloadedClass not NULL but I can&#39;t call java method printer() \r\n\r\n```\r\nmethodid = jniEnv-&gt;GetStaticMethodID(loadedClass, &quot;printer&quot;, &quot;()V&quot;);\r\n```\r\n\r\nWhen I remove `public static final D D_REFERENCE = new D();` and `public static final C C_REFERENCE = new C();` from classes, everything is ok, and method `printer()` is called correctly. So the question is - is it possible to use DefineClass on classes with a cross reference, and if so, how?","title":"JNI + DefineClass + class cross reference","body":"<p>I've come across with a jni problem. There are two Java classes</p>\n<pre><code>public class C {\n    public static final D D_REFERENCE = new D();\n    \n    public static void printer(){\n        System.out.println(&quot;C check&quot;);\n    }\n</code></pre>\n<p>and</p>\n<pre><code>public class D {\n    public static final C C_REFERENCE = new C();\n    \n    public static void printer(){\n        System.out.println(&quot;D check&quot;);\n    }\n}\n</code></pre>\n<p>When I try to load these classes using code below nothing happens.</p>\n<pre><code>loadedClass = jniEnv-&gt;DefineClass(classtoload, system_loader, jniEnv-&gt;GetByteArrayElements(binaryClass, 0), num_bytes);\n</code></pre>\n<p>loadedClass not NULL but I can't call java method printer()</p>\n<pre><code>methodid = jniEnv-&gt;GetStaticMethodID(loadedClass, &quot;printer&quot;, &quot;()V&quot;);\n</code></pre>\n<p>When I remove <code>public static final D D_REFERENCE = new D();</code> and <code>public static final C C_REFERENCE = new C();</code> from classes, everything is ok, and method <code>printer()</code> is called correctly. So the question is - is it possible to use DefineClass on classes with a cross reference, and if so, how?</p>\n"},{"tags":["java","spring-boot","post","request"],"answers":[{"tags":[],"owner":{"account_id":24034349,"reputation":635,"user_id":18014805,"display_name":"Ramesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681133097,"creation_date":1681133097,"answer_id":75977529,"question_id":75976409,"body_markdown":"I have noticed two things here,\r\n\r\n1). In your post method you have sending a multipart file and event class. but you sending them as @Request param.. instead do this\r\n\r\n    @PostMapping(value=&quot;saveEvent&quot;)\r\n    public ResponseEntity&lt;String&gt; saveEvent(@RequestPart(&quot;file&quot;) MultipartFile file, @RequestPart(&quot;body&quot;) Event event) // you can also pass json as string value and then map into objects\r\n\r\n2). your request from the postman should be like this.(sample)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rxvMO.png","title":"How to convert the MultipartFile into byte array in spring Boot","body":"<p>I have noticed two things here,</p>\n<p>1). In your post method you have sending a multipart file and event class. but you sending them as @Request param.. instead do this</p>\n<pre><code>@PostMapping(value=&quot;saveEvent&quot;)\npublic ResponseEntity&lt;String&gt; saveEvent(@RequestPart(&quot;file&quot;) MultipartFile file, @RequestPart(&quot;body&quot;) Event event) // you can also pass json as string value and then map into objects\n</code></pre>\n<p>2). your request from the postman should be like this.(sample)</p>\n<p><a href=\"https://i.stack.imgur.com/rxvMO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rxvMO.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20785514,"reputation":137,"user_id":15264820,"display_name":"Vidushika Dasanayka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75977529,"answer_count":1,"score":0,"last_activity_date":1681463722,"creation_date":1681123517,"question_id":75976409,"body_markdown":"I&#39;m working on a spring boot project where I use postgresql as my database. In my project I need to create an event and save the details of the event along with the event flyer. I&#39;m passing the event flyer to the eventController as a multipartFile and in the Service class I will convert it to a byte array using method `getBytes()` . I implemented the code as follows and tried to send a request using postman. \r\n\r\nThis is my Event Entity :\r\n```\r\n`package com.example.attendingsystembackend.model;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Lob;\r\nimport jakarta.validation.constraints.NotBlank;\r\nimport jakarta.validation.constraints.NotNull;\r\nimport org.hibernate.annotations.GenericGenerator;\r\n\r\nimport java.time.LocalDateTime;\r\n\r\n@Entity\r\npublic class Event {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\r\n    @GenericGenerator(name=&quot;system-uuid&quot;,strategy = &quot;uuid&quot;)\r\n    private String id;\r\n\r\n    @NotBlank(message = &quot;Event name cannot be blank&quot;)\r\n    private String eventName;\r\n\r\n    private String eventType;\r\n\r\n    @NotBlank(message = &quot;Event location cannot be blank&quot;)\r\n    private String location;\r\n\r\n    @NotNull\r\n    private LocalDateTime startTime;\r\n\r\n    @NotNull\r\n    private LocalDateTime endTime;\r\n\r\n    @Lob\r\n    private byte[] eventFlyer;\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getEventName() {\r\n        return eventName;\r\n    }\r\n\r\n    public void setEventName(String eventName) {\r\n        this.eventName = eventName;\r\n    }\r\n\r\n    public String getEventType() {\r\n        return eventType;\r\n    }\r\n\r\n    public void setEventType(String eventType) {\r\n        this.eventType = eventType;\r\n    }\r\n\r\n    public String getLocation() {\r\n        return location;\r\n    }\r\n\r\n    public void setLocation(String location) {\r\n        this.location = location;\r\n    }\r\n\r\n    public LocalDateTime getStartTime() {\r\n        return startTime;\r\n    }\r\n\r\n    public void setStartTime(LocalDateTime startTime) {\r\n        this.startTime = startTime;\r\n    }\r\n\r\n    public LocalDateTime getEndTime() {\r\n        return endTime;\r\n    }\r\n\r\n    public void setEndTime(LocalDateTime endTime) {\r\n        this.endTime = endTime;\r\n    }\r\n\r\n    public byte[] getEventFlyer() {\r\n        return eventFlyer;\r\n    }\r\n\r\n    public void setEventFlyer(byte[] eventFlyer) {\r\n        this.eventFlyer = eventFlyer;\r\n    }\r\n}`\r\n```\r\n\r\nAnd this is my event service class:\r\n\r\n```\r\npackage com.example.attendingsystembackend.service;\r\n\r\nimport com.example.attendingsystembackend.model.Event;\r\nimport com.example.attendingsystembackend.repository.EventRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport java.io.IOException;\r\n\r\n@Service\r\npublic class EventService {\r\n\r\n    private final EventRepository eventRepository;\r\n\r\n    @Autowired\r\n    public EventService(EventRepository eventRepository) {\r\n        this.eventRepository = eventRepository;\r\n    }\r\n\r\n    public void saveEvent(MultipartFile file, Event event) throws IOException {\r\n\r\n        Event newEvent=new Event();\r\n\r\n        newEvent.setEventName(event.getEventName());\r\n        newEvent.setEventType(event.getEventType());\r\n        newEvent.setLocation(event.getLocation());\r\n        newEvent.setStartTime(event.getStartTime());\r\n        newEvent.setEndTime(event.getEndTime());\r\n\r\n        if(file!=null &amp;&amp; !file.isEmpty()) {\r\n            byte[] fileBytes = file.getBytes();\r\n            newEvent.setEventFlyer(fileBytes);\r\n        }else{\r\n            newEvent.setEventFlyer(null);\r\n        }\r\n\r\n        eventRepository.save(newEvent);\r\n    }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n```\r\n\r\nAnd here is my event controller class:\r\n\r\n```\r\npackage com.example.attendingsystembackend.controller;\r\n\r\nimport com.example.attendingsystembackend.model.Event;\r\nimport com.example.attendingsystembackend.service.EventService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\n@RestController\r\n@RequestMapping(&quot;api/event&quot;)\r\npublic class EventController {\r\n\r\n    private final EventService eventService;\r\n\r\n    @Autowired\r\n    public EventController(EventService eventService) {\r\n        this.eventService = eventService;\r\n    }\r\n\r\n    @PostMapping(value=&quot;saveEvent&quot;)\r\n    public ResponseEntity&lt;String&gt; saveEvent(@RequestParam(value = &quot;file&quot;, required = false) MultipartFile file, Event event) {\r\n        try {\r\n            eventService.saveEvent(file,event);\r\n\r\n            return ResponseEntity.status(HttpStatus.OK)\r\n                    .body(String.format(&quot;Event saved succesfully with file: %s&quot;, file.getOriginalFilename()));\r\n        } catch (Exception e) {\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\r\n                    .body(String.format(&quot;Could not save the event: %s!&quot;, e));\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd tried to send request using postman as follows:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/1N0hH.png)](https://i.stack.imgur.com/1N0hH.png)\r\n\r\n\r\nBut Unfortunately I&#39;m getting the following error:\r\n```\r\nValidation failed for argument [1] in public org.springframework.http.ResponseEntity&lt;java.lang.String&gt; com.example.attendingsystembackend.controller.EventController.saveEvent(org.springframework.web.multipart.MultipartFile,com.example.attendingsystembackend.model.Event): [Field error in object &#39;event&#39; on field &#39;eventFlyer&#39;: rejected value [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@42f6b750]; codes [typeMismatch.event.eventFlyer,typeMismatch.eventFlyer,typeMismatch.[B,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [event.eventFlyer,eventFlyer]; arguments []; default message [eventFlyer]]; default message [Failed to convert property value of type &#39;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile&#39; to required type &#39;byte[]&#39; for property &#39;eventFlyer&#39;; Cannot convert value of type &#39;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile&#39; to required type &#39;byte&#39; for property &#39;eventFlyer[0]&#39;: PropertyEditor [org.springframework.beans.propertyeditors.CustomNumberEditor] returned inappropriate value of type &#39;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile&#39;]] ]\r\n```\r\n\r\nAs I feel the error occured when converting `MultiPartFile` to `byte[] ` Can someone help me with this issue? What is the mistake I have done here? Thank you in advance.\r\n","title":"How to convert the MultipartFile into byte array in spring Boot","body":"<p>I'm working on a spring boot project where I use postgresql as my database. In my project I need to create an event and save the details of the event along with the event flyer. I'm passing the event flyer to the eventController as a multipartFile and in the Service class I will convert it to a byte array using method <code>getBytes()</code> . I implemented the code as follows and tried to send a request using postman.</p>\n<p>This is my Event Entity :</p>\n<pre><code>`package com.example.attendingsystembackend.model;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Lob;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.NotNull;\nimport org.hibernate.annotations.GenericGenerator;\n\nimport java.time.LocalDateTime;\n\n@Entity\npublic class Event {\n\n    @Id\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name=&quot;system-uuid&quot;,strategy = &quot;uuid&quot;)\n    private String id;\n\n    @NotBlank(message = &quot;Event name cannot be blank&quot;)\n    private String eventName;\n\n    private String eventType;\n\n    @NotBlank(message = &quot;Event location cannot be blank&quot;)\n    private String location;\n\n    @NotNull\n    private LocalDateTime startTime;\n\n    @NotNull\n    private LocalDateTime endTime;\n\n    @Lob\n    private byte[] eventFlyer;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getEventName() {\n        return eventName;\n    }\n\n    public void setEventName(String eventName) {\n        this.eventName = eventName;\n    }\n\n    public String getEventType() {\n        return eventType;\n    }\n\n    public void setEventType(String eventType) {\n        this.eventType = eventType;\n    }\n\n    public String getLocation() {\n        return location;\n    }\n\n    public void setLocation(String location) {\n        this.location = location;\n    }\n\n    public LocalDateTime getStartTime() {\n        return startTime;\n    }\n\n    public void setStartTime(LocalDateTime startTime) {\n        this.startTime = startTime;\n    }\n\n    public LocalDateTime getEndTime() {\n        return endTime;\n    }\n\n    public void setEndTime(LocalDateTime endTime) {\n        this.endTime = endTime;\n    }\n\n    public byte[] getEventFlyer() {\n        return eventFlyer;\n    }\n\n    public void setEventFlyer(byte[] eventFlyer) {\n        this.eventFlyer = eventFlyer;\n    }\n}`\n</code></pre>\n<p>And this is my event service class:</p>\n<pre><code>package com.example.attendingsystembackend.service;\n\nimport com.example.attendingsystembackend.model.Event;\nimport com.example.attendingsystembackend.repository.EventRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport java.io.IOException;\n\n@Service\npublic class EventService {\n\n    private final EventRepository eventRepository;\n\n    @Autowired\n    public EventService(EventRepository eventRepository) {\n        this.eventRepository = eventRepository;\n    }\n\n    public void saveEvent(MultipartFile file, Event event) throws IOException {\n\n        Event newEvent=new Event();\n\n        newEvent.setEventName(event.getEventName());\n        newEvent.setEventType(event.getEventType());\n        newEvent.setLocation(event.getLocation());\n        newEvent.setStartTime(event.getStartTime());\n        newEvent.setEndTime(event.getEndTime());\n\n        if(file!=null &amp;&amp; !file.isEmpty()) {\n            byte[] fileBytes = file.getBytes();\n            newEvent.setEventFlyer(fileBytes);\n        }else{\n            newEvent.setEventFlyer(null);\n        }\n\n        eventRepository.save(newEvent);\n    }\n\n    }\n\n\n\n\n</code></pre>\n<p>And here is my event controller class:</p>\n<pre><code>package com.example.attendingsystembackend.controller;\n\nimport com.example.attendingsystembackend.model.Event;\nimport com.example.attendingsystembackend.service.EventService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\n\n@RestController\n@RequestMapping(&quot;api/event&quot;)\npublic class EventController {\n\n    private final EventService eventService;\n\n    @Autowired\n    public EventController(EventService eventService) {\n        this.eventService = eventService;\n    }\n\n    @PostMapping(value=&quot;saveEvent&quot;)\n    public ResponseEntity&lt;String&gt; saveEvent(@RequestParam(value = &quot;file&quot;, required = false) MultipartFile file, Event event) {\n        try {\n            eventService.saveEvent(file,event);\n\n            return ResponseEntity.status(HttpStatus.OK)\n                    .body(String.format(&quot;Event saved succesfully with file: %s&quot;, file.getOriginalFilename()));\n        } catch (Exception e) {\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\n                    .body(String.format(&quot;Could not save the event: %s!&quot;, e));\n        }\n    }\n}\n\n</code></pre>\n<p>And tried to send request using postman as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/1N0hH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1N0hH.png\" alt=\"enter image description here\" /></a></p>\n<p>But Unfortunately I'm getting the following error:</p>\n<pre><code>Validation failed for argument [1] in public org.springframework.http.ResponseEntity&lt;java.lang.String&gt; com.example.attendingsystembackend.controller.EventController.saveEvent(org.springframework.web.multipart.MultipartFile,com.example.attendingsystembackend.model.Event): [Field error in object 'event' on field 'eventFlyer': rejected value [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@42f6b750]; codes [typeMismatch.event.eventFlyer,typeMismatch.eventFlyer,typeMismatch.[B,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [event.eventFlyer,eventFlyer]; arguments []; default message [eventFlyer]]; default message [Failed to convert property value of type 'org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile' to required type 'byte[]' for property 'eventFlyer'; Cannot convert value of type 'org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile' to required type 'byte' for property 'eventFlyer[0]': PropertyEditor [org.springframework.beans.propertyeditors.CustomNumberEditor] returned inappropriate value of type 'org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile']] ]\n</code></pre>\n<p>As I feel the error occured when converting <code>MultiPartFile</code> to <code>byte[] </code> Can someone help me with this issue? What is the mistake I have done here? Thank you in advance.</p>\n"},{"tags":["java","maven","ant","legacy-code","subant"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1681467850,"post_id":76013302,"comment_id":134064789,"body_markdown":"Those shared classes into a separate module which is used a dependency by other modules... ?","body":"Those shared classes into a separate module which is used a dependency by other modules... ?"},{"owner":{"account_id":16076898,"reputation":13,"user_id":11603912,"display_name":"Frank Cherry"},"score":0,"creation_date":1681472279,"post_id":76013302,"comment_id":134065735,"body_markdown":"It&#39;s a possible alternative, but primary i would convert the ant project in Maven project with module but leaving source java as is","body":"It&#39;s a possible alternative, but primary i would convert the ant project in Maven project with module but leaving source java as is"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1681472575,"post_id":76013302,"comment_id":134065792,"body_markdown":"It&#39;s not an alternative that&#39;s the only way which will really work... otherwise you will hack the Maven setup which is a bad idea and it will become a nightmare to maintain...convention over configuration which means also separate things into common things etc. ... etc... yes that takes time... but that&#39;s the technical deps which has been accumulated over the times... now you are paying the real costs... also a good separated ant build would have been easier to maintain and could be eaiser migrated ...","body":"It&#39;s not an alternative that&#39;s the only way which will really work... otherwise you will hack the Maven setup which is a bad idea and it will become a nightmare to maintain...convention over configuration which means also separate things into common things etc. ... etc... yes that takes time... but that&#39;s the technical deps which has been accumulated over the times... now you are paying the real costs... also a good separated ant build would have been easier to maintain and could be eaiser migrated ..."}],"owner":{"account_id":16076898,"reputation":13,"user_id":11603912,"display_name":"Frank Cherry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681463567,"creation_date":1681462817,"question_id":76013302,"body_markdown":"I have this java project handled by Ant modules (subant.xml)\r\n\r\n```none\r\n-src\r\n&#166;\r\n+---com\r\n&#166;       &#166;   +---SomePackage1\r\n&#166;       &#166;   +---SomePackage2\r\n&#166;       &#166;   +---OtherPackage\r\n&#166;       +---businessPackage\r\n&#166;       &#166;   +---business\r\n&#166;       &#166;   &#166;   +---ejb1\r\n&#166;       &#166;   &#166;   &#166;   +---managers\r\n&#166;       &#166;   &#166;   &#166;   +---session\r\n&#166;       &#166;   &#166;   +---exceptions\r\n&#166;       &#166;   &#166;   +---utils\r\n&#166;       &#166;   +---gateway\r\n&#166;       &#166;       +---ejb\r\n&#166;       &#166;       +---managers\r\n&#166;       +---MyPackage\r\n&#166;       &#166;   +---database\r\n&#166;       &#166;   &#166;   +---ejb\r\n&#166;       &#166;   &#166;   +---exceptions\r\n&#166;       &#166;   &#166;   +---model\r\n&#166;       &#166;   &#166;   +---utils\r\n&#166;       &#166;   +---ejb\r\n&#166;       &#166;   &#166;   +---configuration\r\n&#166;       &#166;   +---global\r\n&#166;       &#166;       +---config\r\n&#166;       &#166;       &#166;   +---exceptions\r\n&#166;       &#166;       +---utils\r\n&#166;       &#166;       +---xml\r\n&#166;       &#166;           +---exceptions\r\n&#166;       &#166;           +---utils\r\n&#166;       +---utils\r\n+---CMEjbModule\r\n&#166;   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\r\n+---OtherEjbModule\r\n&#166;   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\r\n+---FrontOfficeEjbModule\r\n&#166;   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\r\n+---BackOfficeEjbModule\r\n&#166;   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\r\n+---MyJarModule\r\n&#166;   +---META-INF-&gt;subant.xml, (tag &lt;jar&gt;)\r\n+---MyJar2Module\r\n&#166;   +---META-INF-&gt;subant.xml, (tag &lt;jar&gt;)\r\nbuild.xml\r\n```\r\n\r\nEach subant.xml contains `&lt;ejbjar&gt;` for EJB (it&#39;s creates a JAR module) and `&lt;jar&gt;` for JAR archives. The `&lt;ejbjar&gt;` source is like that:\r\n\r\n```xml\r\n&lt;ejbjar  \r\n\tbasejarname=&quot;CMEjbModule&quot;\r\n\tdestdir=&lt;dir.to.copyJar&gt;\r\n\tflatdestdir=&quot;true&quot;\r\n\tgenericjarsuffix=&quot;.jar&quot;\r\n\tsrcdir=&lt;directory classes&gt;\r\n        descriptordir=&lt;ejb descriptor dir&gt;\t\r\n\tdependency=&quot;full&quot;&gt;\r\n\t&lt;jboss/&gt;\t\t\t\r\n\t&lt;include name=&quot;**/ejb-jar.xml&quot;/&gt;\r\n\t&lt;include name=&quot;**/jboss-deployment-structure.xml&quot;/&gt;\r\n\t&lt;dtd publicId=&quot;-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 3.0//EN&quot; location=&quot;${jboss.home}/docs/dtd/ejb-jar_3_0.dtd&quot; /&gt;\r\n&lt;/ejbjar&gt;\r\n```\r\n\r\nThe other module are simply JAR archives created by `&lt;jar&gt;` ant tag.\r\n\r\nThe result after build.xml is six components, i.e. six JARs, one for any module directory: CMEjbModule.jar, OtherEjbModule.jar, FrontOfficeEjbModule.jar, BackOfficeEjbModule.jar, MyJarModule.jar, MyJar2Module.jar (the first four JARs contain stateless EJBs as described in their own ejb-jar.xml)\r\n\r\nNow, I would like to update this project to a Maven (POM) project without ant-run plugin Maven. The problem is: the source java directory is unique and it&#39;s very difficult to split src into independent sub-project because there are many source classes shared by six modules.\r\n\r\nIs it possible? For example, I prefer using the Maven `&lt;module&gt;` pattern like subant.xml without ejb-jar.xml because the EJB are 3.0, but I ignore how is possible, i.e., in each Maven module sub-project if it&#39;s possible to select some source directory to compile each module or some EJB Java source (and their dependencies) from Java project.\r\n\r\n","title":"Upgrade legacy Java Project from Ant (i.e. subant) to Maven","body":"<p>I have this java project handled by Ant modules (subant.xml)</p>\n<pre class=\"lang-none prettyprint-override\"><code>-src\n¦\n+---com\n¦       ¦   +---SomePackage1\n¦       ¦   +---SomePackage2\n¦       ¦   +---OtherPackage\n¦       +---businessPackage\n¦       ¦   +---business\n¦       ¦   ¦   +---ejb1\n¦       ¦   ¦   ¦   +---managers\n¦       ¦   ¦   ¦   +---session\n¦       ¦   ¦   +---exceptions\n¦       ¦   ¦   +---utils\n¦       ¦   +---gateway\n¦       ¦       +---ejb\n¦       ¦       +---managers\n¦       +---MyPackage\n¦       ¦   +---database\n¦       ¦   ¦   +---ejb\n¦       ¦   ¦   +---exceptions\n¦       ¦   ¦   +---model\n¦       ¦   ¦   +---utils\n¦       ¦   +---ejb\n¦       ¦   ¦   +---configuration\n¦       ¦   +---global\n¦       ¦       +---config\n¦       ¦       ¦   +---exceptions\n¦       ¦       +---utils\n¦       ¦       +---xml\n¦       ¦           +---exceptions\n¦       ¦           +---utils\n¦       +---utils\n+---CMEjbModule\n¦   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\n+---OtherEjbModule\n¦   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\n+---FrontOfficeEjbModule\n¦   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\n+---BackOfficeEjbModule\n¦   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\n+---MyJarModule\n¦   +---META-INF-&gt;subant.xml, (tag &lt;jar&gt;)\n+---MyJar2Module\n¦   +---META-INF-&gt;subant.xml, (tag &lt;jar&gt;)\nbuild.xml\n</code></pre>\n<p>Each subant.xml contains <code>&lt;ejbjar&gt;</code> for EJB (it's creates a JAR module) and <code>&lt;jar&gt;</code> for JAR archives. The <code>&lt;ejbjar&gt;</code> source is like that:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ejbjar  \n    basejarname=&quot;CMEjbModule&quot;\n    destdir=&lt;dir.to.copyJar&gt;\n    flatdestdir=&quot;true&quot;\n    genericjarsuffix=&quot;.jar&quot;\n    srcdir=&lt;directory classes&gt;\n        descriptordir=&lt;ejb descriptor dir&gt;  \n    dependency=&quot;full&quot;&gt;\n    &lt;jboss/&gt;            \n    &lt;include name=&quot;**/ejb-jar.xml&quot;/&gt;\n    &lt;include name=&quot;**/jboss-deployment-structure.xml&quot;/&gt;\n    &lt;dtd publicId=&quot;-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 3.0//EN&quot; location=&quot;${jboss.home}/docs/dtd/ejb-jar_3_0.dtd&quot; /&gt;\n&lt;/ejbjar&gt;\n</code></pre>\n<p>The other module are simply JAR archives created by <code>&lt;jar&gt;</code> ant tag.</p>\n<p>The result after build.xml is six components, i.e. six JARs, one for any module directory: CMEjbModule.jar, OtherEjbModule.jar, FrontOfficeEjbModule.jar, BackOfficeEjbModule.jar, MyJarModule.jar, MyJar2Module.jar (the first four JARs contain stateless EJBs as described in their own ejb-jar.xml)</p>\n<p>Now, I would like to update this project to a Maven (POM) project without ant-run plugin Maven. The problem is: the source java directory is unique and it's very difficult to split src into independent sub-project because there are many source classes shared by six modules.</p>\n<p>Is it possible? For example, I prefer using the Maven <code>&lt;module&gt;</code> pattern like subant.xml without ejb-jar.xml because the EJB are 3.0, but I ignore how is possible, i.e., in each Maven module sub-project if it's possible to select some source directory to compile each module or some EJB Java source (and their dependencies) from Java project.</p>\n"},{"tags":["java","performance","hibernate","jpa","jakarta-ee"],"comments":[{"owner":{"account_id":14450,"reputation":24997,"user_id":2112692,"accept_rate":71,"display_name":"Zak"},"score":1,"creation_date":1272924647,"post_id":2761543,"comment_id":2793573,"body_markdown":"Are you trying to create a report, or are you trying to load a bunch of objects? If you are just trying to create a report, then do it in SQL like you said and be done with it.","body":"Are you trying to create a report, or are you trying to load a bunch of objects? If you are just trying to create a report, then do it in SQL like you said and be done with it."},{"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"score":0,"creation_date":1272925137,"post_id":2761543,"comment_id":2793605,"body_markdown":"@Zak: I have a web application in jpa+spring+jsf which works. But its performance should be better. And, what is more important, it should be able to handle much larger datasets than it can handle at the moment. 1) There is a problem with 1st query that I don&#39;t know how to write it in `hql` or `jpa query language`. I don&#39;t want to use plain sql, imho it&#39;s a last resort. 2) The problem with 2nd query is that I don&#39;t know how to set fetch size in `JPA` and I also don&#39;t know how to handle this situation with `JPA`: there is no loop through resultset, I don&#39;t know how to load &#39;next&#39; fetch.","body":"@Zak: I have a web application in jpa+spring+jsf which works. But its performance should be better. And, what is more important, it should be able to handle much larger datasets than it can handle at the moment. 1) There is a problem with 1st query that I don&#39;t know how to write it in <code>hql</code> or <code>jpa query language</code>. I don&#39;t want to use plain sql, imho it&#39;s a last resort. 2) The problem with 2nd query is that I don&#39;t know how to set fetch size in <code>JPA</code> and I also don&#39;t know how to handle this situation with <code>JPA</code>: there is no loop through resultset, I don&#39;t know how to load &#39;next&#39; fetch."}],"answers":[{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1476999778,"creation_date":1272925572,"answer_id":2761630,"question_id":2761543,"body_markdown":"&gt; suppose that we have 2 tables in DB: Worker and WorkLog  with about 1000 rows in the first one and 10 000 000 rows in the second one\r\n\r\nFor high volumes like this, my recommendation would be to use [The `StatelessSession` interface][1] from Hibernate:\r\n\r\n&gt; Alternatively, Hibernate provides a\r\n&gt; command-oriented API that can be used\r\n&gt; for streaming data to and from the\r\n&gt; database in the form of detached\r\n&gt; objects. A `StatelessSession` has no\r\n&gt; persistence context associated with it\r\n&gt; and does not provide many of the\r\n&gt; higher-level life cycle semantics. In\r\n&gt; particular, a stateless session does\r\n&gt; not implement a first-level cache nor\r\n&gt; interact with any second-level or\r\n&gt; query cache. It does not implement\r\n&gt; transactional write-behind or\r\n&gt; automatic dirty checking. Operations\r\n&gt; performed using a stateless session\r\n&gt; never cascade to associated instances.\r\n&gt; Collections are ignored by a stateless\r\n&gt; session. Operations performed via a\r\n&gt; stateless session bypass Hibernate&#39;s\r\n&gt; event model and interceptors. Due to\r\n&gt; the lack of a first-level cache,\r\n&gt; Stateless sessions are vulnerable to\r\n&gt; data aliasing effects. A stateless\r\n&gt; session is a lower-level abstraction\r\n&gt; that is much closer to the underlying\r\n&gt; JDBC.\r\n&gt; \r\n&gt;     StatelessSession session = sessionFactory.openStatelessSession();\r\n&gt;     Transaction tx = session.beginTransaction();\r\n&gt;        \r\n&gt;     ScrollableResults customers = session.getNamedQuery(&quot;GetCustomers&quot;)\r\n&gt;         .scroll(ScrollMode.FORWARD_ONLY);\r\n&gt;     while ( customers.next() ) {\r\n&gt;         Customer customer = (Customer) customers.get(0);\r\n&gt;         customer.updateStuff(...);\r\n&gt;         session.update(customer);\r\n&gt;     }\r\n&gt;        \r\n&gt;     tx.commit();\r\n&gt;     session.close();\r\n&gt; \r\n&gt; In this code example, the `Customer`\r\n&gt; instances returned by the query are\r\n&gt; immediately detached. They are never\r\n&gt; associated with any persistence\r\n&gt; context.\r\n&gt; \r\n&gt; The `insert(), update()` and\r\n&gt; `delete()` operations defined by the\r\n&gt; `StatelessSession` interface are\r\n&gt; considered to be direct database\r\n&gt; row-level operations. They result in\r\n&gt; the immediate execution of a SQL\r\n&gt; `INSERT, UPDATE` or `DELETE`\r\n&gt; respectively. They have different\r\n&gt; semantics to the `save(),\r\n&gt; saveOrUpdate()` and `delete()`\r\n&gt; operations defined by the `Session`\r\n&gt; interface.\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/batch.html#batch-statelesssession","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<blockquote>\n  <p>suppose that we have 2 tables in DB: Worker and WorkLog  with about 1000 rows in the first one and 10 000 000 rows in the second one</p>\n</blockquote>\n\n<p>For high volumes like this, my recommendation would be to use <a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/batch.html#batch-statelesssession\" rel=\"noreferrer\">The <code>StatelessSession</code> interface</a> from Hibernate:</p>\n\n<blockquote>\n  <p>Alternatively, Hibernate provides a\n  command-oriented API that can be used\n  for streaming data to and from the\n  database in the form of detached\n  objects. A <code>StatelessSession</code> has no\n  persistence context associated with it\n  and does not provide many of the\n  higher-level life cycle semantics. In\n  particular, a stateless session does\n  not implement a first-level cache nor\n  interact with any second-level or\n  query cache. It does not implement\n  transactional write-behind or\n  automatic dirty checking. Operations\n  performed using a stateless session\n  never cascade to associated instances.\n  Collections are ignored by a stateless\n  session. Operations performed via a\n  stateless session bypass Hibernate's\n  event model and interceptors. Due to\n  the lack of a first-level cache,\n  Stateless sessions are vulnerable to\n  data aliasing effects. A stateless\n  session is a lower-level abstraction\n  that is much closer to the underlying\n  JDBC.</p>\n\n<pre><code>StatelessSession session = sessionFactory.openStatelessSession();\nTransaction tx = session.beginTransaction();\n\nScrollableResults customers = session.getNamedQuery(\"GetCustomers\")\n    .scroll(ScrollMode.FORWARD_ONLY);\nwhile ( customers.next() ) {\n    Customer customer = (Customer) customers.get(0);\n    customer.updateStuff(...);\n    session.update(customer);\n}\n\ntx.commit();\nsession.close();\n</code></pre>\n  \n  <p>In this code example, the <code>Customer</code>\n  instances returned by the query are\n  immediately detached. They are never\n  associated with any persistence\n  context.</p>\n  \n  <p>The <code>insert(), update()</code> and\n  <code>delete()</code> operations defined by the\n  <code>StatelessSession</code> interface are\n  considered to be direct database\n  row-level operations. They result in\n  the immediate execution of a SQL\n  <code>INSERT, UPDATE</code> or <code>DELETE</code>\n  respectively. They have different\n  semantics to the <code>save(),\n  saveOrUpdate()</code> and <code>delete()</code>\n  operations defined by the <code>Session</code>\n  interface.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1322140850,"creation_date":1322140850,"answer_id":8257729,"question_id":2761543,"body_markdown":"Raw SQL shouldn&#39;t be considered a last resort.  It should still be considered an option if you want to keep things &quot;standard&quot; on the JPA tier, but not on the database tier.  JPA also has support for native queries where it will still do the mapping to standard entities for you.\r\n\r\nHowever, if you have a large result set that cannot be processed in the database, then you really should just use plain JDBC as JPA (standard) does not support streaming of large sets of data.\r\n\r\nIt will be harder to port your application across different application servers if you use JPA implementation specific constructs since the JPA engine is embedded in the application server and you may not have a control on which JPA provider is being used.","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<p>Raw SQL shouldn't be considered a last resort.  It should still be considered an option if you want to keep things \"standard\" on the JPA tier, but not on the database tier.  JPA also has support for native queries where it will still do the mapping to standard entities for you.</p>\n\n<p>However, if you have a large result set that cannot be processed in the database, then you really should just use plain JDBC as JPA (standard) does not support streaming of large sets of data.</p>\n\n<p>It will be harder to port your application across different application servers if you use JPA implementation specific constructs since the JPA engine is embedded in the application server and you may not have a control on which JPA provider is being used.</p>\n"},{"tags":[],"owner":{"account_id":539871,"reputation":183,"user_id":907867,"accept_rate":0,"display_name":"Bojan Kraut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349185953,"creation_date":1349185953,"answer_id":12691624,"question_id":2761543,"body_markdown":"I&#39;m using something like this and it works very fast. I also hate to use native SQL as our application should work on any database.\r\n\r\nFolowing resutls into a very optimized sql and returns list of records which are maps.\r\n\r\n    String hql = &quot;select distinct &quot; +\r\n\t\t\t\t&quot;t.uuid as uuid, t.title as title, t.code as code, t.date as date, t.dueDate as dueDate, &quot; +\r\n\t\t\t\t&quot;t.startDate as startDate, t.endDate as endDate, t.constraintDate as constraintDate, t.closureDate as closureDate, t.creationDate as creationDate, &quot; +\r\n\t\t\t\t&quot;sc.category as category, sp.priority as priority, sd.difficulty as difficulty, t.progress as progress, st.type as type, &quot; +\r\n\t\t\t\t&quot;ss.status as status, ss.color as rowColor, (p.rKey || &#39; &#39; || p.name) as project, ps.status as projectstatus, (r.code || &#39; &#39; || r.title) as requirement, &quot; +\r\n\t\t\t\t&quot;t.estimate as estimate, w.title as workgroup, o.name || &#39; &#39; || o.surname as owner, &quot; +\r\n\t\t\t\t&quot;ROUND(sum(COALESCE(a.duration, 0)) * 100 / case when ((COALESCE(t.estimate, 0) * COALESCE(t.progress, 0)) = 0) then 1 else (COALESCE(t.estimate, 0) * COALESCE(t.progress, 0)) end, 2) as factor &quot; +\r\n\t\t\t\t&quot;from &quot; + Task.class.getName() + &quot; t &quot; +\r\n\t\t\t\t&quot;left join t.category sc &quot; +\r\n\t\t\t\t&quot;left join t.priority sp &quot; +\r\n\t\t\t\t&quot;left join t.difficulty sd &quot; +\r\n\t\t\t\t&quot;left join t.taskType st &quot; +\r\n\t\t\t\t&quot;left join t.status ss &quot; +\r\n\t\t\t\t&quot;left join t.project p &quot; +\r\n\t\t\t\t&quot;left join t.owner o &quot; +\r\n\t\t\t\t&quot;left join t.workgroup w &quot; +\r\n\t\t\t\t&quot;left join p.status ps &quot; +\r\n\t\t\t\t&quot;left join t.requirement r &quot; +\r\n\t\t\t\t&quot;left join p.status sps &quot; +\r\n\t\t\t\t&quot;left join t.iterationTasks it &quot; +\r\n\t\t\t\t&quot;left join t.taskActivities a &quot; +\r\n\t\t\t\t&quot;left join it.iteration i &quot; +\r\n\t\t\t\t&quot;where sps.active = true and &quot; +\r\n\t\t\t\t&quot;ss.done = false and &quot; +\r\n\t\t\t\t&quot;(i.uuid &lt;&gt; :iterationUuid or it.uuid is null) &quot; + filterHql +\r\n\t\t\t\t&quot;group by t.uuid, t.title, t.code, t.date, t.dueDate, &quot; +\r\n\t\t\t\t&quot;t.startDate, t.endDate, t.constraintDate, t.closureDate, t.creationDate, &quot; +\r\n\t\t\t\t&quot;sc.category, sp.priority, sd.difficulty, t.progress, st.type, &quot; +\r\n\t\t\t\t&quot;ss.status, ss.color, p.rKey, p.name, ps.status, r.code, r.title, &quot; +\r\n\t\t\t\t&quot;t.estimate, w.title, o.name, o.surname &quot; + sortHql;\r\n\t\t\r\n\t\tif (logger.isDebugEnabled()) {\r\n\t\t\tlogger.debug(&quot;Executing hql: &quot; + hql );\r\n\t\t}\r\n\t\t\r\n\t\tQuery query =  hibernateTemplate.getSessionFactory().getCurrentSession().getSession(EntityMode.MAP).createQuery(hql);\r\n\t\tfor(String key: filterValues.keySet()) {\r\n\t\t\tObject valueSet = filterValues.get(key);\r\n\t\t\t\r\n\t\t\tif (logger.isDebugEnabled()) {\r\n\t\t\t\tlogger.debug(&quot;Setting query parameter for &quot; + key );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (valueSet instanceof java.util.Collection&lt;?&gt;) {\r\n\t\t\t\tquery.setParameterList(key, (Collection)filterValues.get(key));\r\n\t\t\t} else {\r\n\t\t\t\tquery.setParameter(key, filterValues.get(key));\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\tquery.setString(&quot;iterationUuid&quot;, iteration.getUuid());\r\n\t\tquery.setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP);\r\n\t\t\r\n\t\tif (logger.isDebugEnabled()) {\r\n\t\t\tlogger.debug(&quot;Query building complete.&quot;);\r\n\t\t\tlogger.debug(&quot;SQL: &quot; + query.getQueryString());\r\n\t\t}\r\n\t\t\r\n\t\treturn query.list();","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<p>I'm using something like this and it works very fast. I also hate to use native SQL as our application should work on any database.</p>\n\n<p>Folowing resutls into a very optimized sql and returns list of records which are maps.</p>\n\n<pre><code>String hql = \"select distinct \" +\n            \"t.uuid as uuid, t.title as title, t.code as code, t.date as date, t.dueDate as dueDate, \" +\n            \"t.startDate as startDate, t.endDate as endDate, t.constraintDate as constraintDate, t.closureDate as closureDate, t.creationDate as creationDate, \" +\n            \"sc.category as category, sp.priority as priority, sd.difficulty as difficulty, t.progress as progress, st.type as type, \" +\n            \"ss.status as status, ss.color as rowColor, (p.rKey || ' ' || p.name) as project, ps.status as projectstatus, (r.code || ' ' || r.title) as requirement, \" +\n            \"t.estimate as estimate, w.title as workgroup, o.name || ' ' || o.surname as owner, \" +\n            \"ROUND(sum(COALESCE(a.duration, 0)) * 100 / case when ((COALESCE(t.estimate, 0) * COALESCE(t.progress, 0)) = 0) then 1 else (COALESCE(t.estimate, 0) * COALESCE(t.progress, 0)) end, 2) as factor \" +\n            \"from \" + Task.class.getName() + \" t \" +\n            \"left join t.category sc \" +\n            \"left join t.priority sp \" +\n            \"left join t.difficulty sd \" +\n            \"left join t.taskType st \" +\n            \"left join t.status ss \" +\n            \"left join t.project p \" +\n            \"left join t.owner o \" +\n            \"left join t.workgroup w \" +\n            \"left join p.status ps \" +\n            \"left join t.requirement r \" +\n            \"left join p.status sps \" +\n            \"left join t.iterationTasks it \" +\n            \"left join t.taskActivities a \" +\n            \"left join it.iteration i \" +\n            \"where sps.active = true and \" +\n            \"ss.done = false and \" +\n            \"(i.uuid &lt;&gt; :iterationUuid or it.uuid is null) \" + filterHql +\n            \"group by t.uuid, t.title, t.code, t.date, t.dueDate, \" +\n            \"t.startDate, t.endDate, t.constraintDate, t.closureDate, t.creationDate, \" +\n            \"sc.category, sp.priority, sd.difficulty, t.progress, st.type, \" +\n            \"ss.status, ss.color, p.rKey, p.name, ps.status, r.code, r.title, \" +\n            \"t.estimate, w.title, o.name, o.surname \" + sortHql;\n\n    if (logger.isDebugEnabled()) {\n        logger.debug(\"Executing hql: \" + hql );\n    }\n\n    Query query =  hibernateTemplate.getSessionFactory().getCurrentSession().getSession(EntityMode.MAP).createQuery(hql);\n    for(String key: filterValues.keySet()) {\n        Object valueSet = filterValues.get(key);\n\n        if (logger.isDebugEnabled()) {\n            logger.debug(\"Setting query parameter for \" + key );\n        }\n\n        if (valueSet instanceof java.util.Collection&lt;?&gt;) {\n            query.setParameterList(key, (Collection)filterValues.get(key));\n        } else {\n            query.setParameter(key, filterValues.get(key));\n        }\n    }       \n    query.setString(\"iterationUuid\", iteration.getUuid());\n    query.setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP);\n\n    if (logger.isDebugEnabled()) {\n        logger.debug(\"Query building complete.\");\n        logger.debug(\"SQL: \" + query.getQueryString());\n    }\n\n    return query.list();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1086765,"reputation":9377,"user_id":1082300,"accept_rate":50,"display_name":"Steve Ebersole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349191441,"creation_date":1349191441,"answer_id":12693325,"question_id":2761543,"body_markdown":"I agree that doing the calculation on the database server is your best option in the particular case you mentioned.  HQL and JPAQL can handle both of those queries:\r\n\r\n1) \r\n\r\n    select w, sum(wl.hoursWorked) \r\n    from Worker w, WorkLog wl\r\n    where w.id = wl.workerId \r\n    group by w\r\n\r\nor, if the association is mapped:\r\n\r\n    select w, sum(wl.hoursWorked) \r\n    from Worker w join w.workLogs wl\r\n    group by w\r\n\r\nboth or which return you List&lt;Object[]&gt; where the Object[]s are Worker and Long. Or you could also use &quot;dynamic instantiation&quot; queries to wrap that up, for example:\r\n\r\n    select new WorkerTotal( select w, sum(wl.hoursWorked) )\r\n    from Worker w join w.workLogs wl\r\n    group by w\r\n\r\nor (depending on need) probably even just:\r\n\r\n    select new WorkerTotal( select w.id, w.name, sum(wl.hoursWorked) )\r\n    from Worker w join w.workLogs wl\r\n    group by w.id, w.name\r\n\r\nWorkerTotal is just a plain class.  It must have matching constructor(s).\r\n\r\n2) \r\n\r\n    select w, new Period( wl.start, wl.hoursWorked )\r\n    from Worker w join w.workLogs wl\r\n\r\nthis will return you a result for each row in the WorkLog table...  The `new Period(...)` bit is called &quot;dynamic instantiation&quot; and is used to wrap tuples from the result into objects (easier consumption).\r\n\r\nFor manipulation and general usage, I recommend StatelessSession as Pascal points out.","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<p>I agree that doing the calculation on the database server is your best option in the particular case you mentioned.  HQL and JPAQL can handle both of those queries:</p>\n\n<p>1) </p>\n\n<pre><code>select w, sum(wl.hoursWorked) \nfrom Worker w, WorkLog wl\nwhere w.id = wl.workerId \ngroup by w\n</code></pre>\n\n<p>or, if the association is mapped:</p>\n\n<pre><code>select w, sum(wl.hoursWorked) \nfrom Worker w join w.workLogs wl\ngroup by w\n</code></pre>\n\n<p>both or which return you List where the Object[]s are Worker and Long. Or you could also use \"dynamic instantiation\" queries to wrap that up, for example:</p>\n\n<pre><code>select new WorkerTotal( select w, sum(wl.hoursWorked) )\nfrom Worker w join w.workLogs wl\ngroup by w\n</code></pre>\n\n<p>or (depending on need) probably even just:</p>\n\n<pre><code>select new WorkerTotal( select w.id, w.name, sum(wl.hoursWorked) )\nfrom Worker w join w.workLogs wl\ngroup by w.id, w.name\n</code></pre>\n\n<p>WorkerTotal is just a plain class.  It must have matching constructor(s).</p>\n\n<p>2) </p>\n\n<pre><code>select w, new Period( wl.start, wl.hoursWorked )\nfrom Worker w join w.workLogs wl\n</code></pre>\n\n<p>this will return you a result for each row in the WorkLog table...  The <code>new Period(...)</code> bit is called \"dynamic instantiation\" and is used to wrap tuples from the result into objects (easier consumption).</p>\n\n<p>For manipulation and general usage, I recommend StatelessSession as Pascal points out.</p>\n"},{"tags":[],"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363905880,"creation_date":1361747709,"answer_id":15057845,"question_id":2761543,"body_markdown":"There are several techniques that may need to be used in conjunction with one another to create and manipulate queries for large data-sets where memory is a limitation:\r\n\r\n 1. Use setFetchSize(some value, maybe 100+) as the default (via JDBC) is 10.\r\n    This is more about performance and is the single biggest related factor thereof.\r\n    Can be done in JPA using queryHint available from provider (Hibernate, etc).\r\n    There does not (for whatever reason) seem to be a JPA `Query.setFetchSize(int)` method.\r\n 2. Do not try to marshall the entire result-set for 10K+ records.\r\n    Several strategies apply: For GUIs, use paging or a framework that does paging. Consider Lucene or commercial searching/indexing engines (Endeca if the company has the money). For sending data somewhere, stream it and flush the buffer every N records to limit how much memory is used. The stream may be flushed to a file, network, etc. Remember that underneath, JPA uses JDBC and JDBC keeps the result-set on the Server, only fetching N-rows in a row-set group at a time. This break-down can be manipulated to facilitate flushing data in groups.\r\n 3. Consider what the use-case is. Typically, an application is trying to answer questions. When the answer is to weed through 10K+ rows, then the design should be reviewed. Again, consider using indexing engines like Lucene, refine the queries, consider using BloomFilters as *contains* check caches to find needles in haystacks without going to the database, etc.\r\n\r\n","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<p>There are several techniques that may need to be used in conjunction with one another to create and manipulate queries for large data-sets where memory is a limitation:</p>\n\n<ol>\n<li>Use setFetchSize(some value, maybe 100+) as the default (via JDBC) is 10.\nThis is more about performance and is the single biggest related factor thereof.\nCan be done in JPA using queryHint available from provider (Hibernate, etc).\nThere does not (for whatever reason) seem to be a JPA <code>Query.setFetchSize(int)</code> method.</li>\n<li>Do not try to marshall the entire result-set for 10K+ records.\nSeveral strategies apply: For GUIs, use paging or a framework that does paging. Consider Lucene or commercial searching/indexing engines (Endeca if the company has the money). For sending data somewhere, stream it and flush the buffer every N records to limit how much memory is used. The stream may be flushed to a file, network, etc. Remember that underneath, JPA uses JDBC and JDBC keeps the result-set on the Server, only fetching N-rows in a row-set group at a time. This break-down can be manipulated to facilitate flushing data in groups.</li>\n<li>Consider what the use-case is. Typically, an application is trying to answer questions. When the answer is to weed through 10K+ rows, then the design should be reviewed. Again, consider using indexing engines like Lucene, refine the queries, consider using BloomFilters as <em>contains</em> check caches to find needles in haystacks without going to the database, etc.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":115113,"reputation":99,"user_id":3137140,"display_name":"lapsus63"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1388072728,"creation_date":1388072728,"answer_id":20787413,"question_id":2761543,"body_markdown":"It seems you can do this with EclipseLink too.\r\nCheck this : http://wiki.eclipse.org/EclipseLink/Examples/JPA/Pagination :\r\n\r\n    Query query = em.createQuery...\r\n    query.setHint(QueryHints.CURSOR, true)\r\n         .setHint(QueryHints.SCROLLABLE_CURSOR, true)\r\n    ScrollableCursor scrl = (ScrollableCursor)q.getSingleResult();\r\n    Object o = null;\r\n    while ((o = scrl.next()) != null) { ... }\r\n\r\n","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<p>It seems you can do this with EclipseLink too.\nCheck this : <a href=\"http://wiki.eclipse.org/EclipseLink/Examples/JPA/Pagination\" rel=\"nofollow\">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Pagination</a> :</p>\n\n<pre><code>Query query = em.createQuery...\nquery.setHint(QueryHints.CURSOR, true)\n     .setHint(QueryHints.SCROLLABLE_CURSOR, true)\nScrollableCursor scrl = (ScrollableCursor)q.getSingleResult();\nObject o = null;\nwhile ((o = scrl.next()) != null) { ... }\n</code></pre>\n"}],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55099,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":2761630,"answer_count":6,"score":22,"last_activity_date":1681463313,"creation_date":1272924502,"question_id":2761543,"body_markdown":"I need to make my web-app work with really huge datasets. At the moment I get either OutOfMemoryException or output which is being generated 1-2 minutes.\r\n\r\nLet&#39;s put it simple and suppose that we have 2 tables in DB: `Worker` and `WorkLog` with about 1000 rows in the first one and 10 000 000 rows in the second one. Latter table has several fields including &#39;workerId&#39; and &#39;hoursWorked&#39; fields among others. What we need is:\r\n\r\n 1. count total hours worked by each user; \r\n\r\n 2. list of work periods for each user.\r\n\r\nThe most straightforward approach (IMO) for each task in plain SQL is:\r\n\r\n1) \r\n\r\n    select Worker.name, sum(hoursWorked) from Worker, WorkLog \r\n       where Worker.id = WorkLog.workerId \r\n       group by Worker.name;\r\n\r\n    //results of this query should be transformed to Multimap&lt;Worker, Long&gt;\r\n\r\n2) \r\n\r\n    select Worker.name, WorkLog.start, WorkLog.hoursWorked from Worker, WorkLog\r\n       where Worker.id = WorkLog.workerId;\r\n\r\n    //results of this query should be transformed to Multimap&lt;Worker, Period&gt;\r\n    //if it was JDBC then it would be vitally \r\n    //to set resultSet.setFetchSize (someSmallNumber), ~100\r\n\r\n\r\nSo, I have two questions: \r\n\r\n 1. how to implement each of my approaches with JPA (or at least with Hibernate); \r\n 2. how would you handle this problem (with JPA or Hibernate of course)?\r\n    ","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<p>I need to make my web-app work with really huge datasets. At the moment I get either OutOfMemoryException or output which is being generated 1-2 minutes.</p>\n\n<p>Let's put it simple and suppose that we have 2 tables in DB: <code>Worker</code> and <code>WorkLog</code> with about 1000 rows in the first one and 10 000 000 rows in the second one. Latter table has several fields including 'workerId' and 'hoursWorked' fields among others. What we need is:</p>\n\n<ol>\n<li><p>count total hours worked by each user; </p></li>\n<li><p>list of work periods for each user.</p></li>\n</ol>\n\n<p>The most straightforward approach (IMO) for each task in plain SQL is:</p>\n\n<p>1) </p>\n\n<pre><code>select Worker.name, sum(hoursWorked) from Worker, WorkLog \n   where Worker.id = WorkLog.workerId \n   group by Worker.name;\n\n//results of this query should be transformed to Multimap&lt;Worker, Long&gt;\n</code></pre>\n\n<p>2) </p>\n\n<pre><code>select Worker.name, WorkLog.start, WorkLog.hoursWorked from Worker, WorkLog\n   where Worker.id = WorkLog.workerId;\n\n//results of this query should be transformed to Multimap&lt;Worker, Period&gt;\n//if it was JDBC then it would be vitally \n//to set resultSet.setFetchSize (someSmallNumber), ~100\n</code></pre>\n\n<p>So, I have two questions: </p>\n\n<ol>\n<li>how to implement each of my approaches with JPA (or at least with Hibernate); </li>\n<li>how would you handle this problem (with JPA or Hibernate of course)?</li>\n</ol>\n"},{"tags":["java","jsp","java-8","jstl","jsp-tags"],"comments":[{"owner":{"account_id":1482116,"reputation":27381,"user_id":1391249,"accept_rate":84,"display_name":"Tiny"},"score":2,"creation_date":1423939252,"post_id":28516766,"comment_id":45354831,"body_markdown":"According to the message `Cannot convert 2015-02-14 of type class java.time.LocalDate to class java.util.Date`, the JSTL tag `&lt;fmt:formatDate type=&quot;date&quot;&gt;` does not support  `java.time.LocalDate` which is introduced in Java 8.","body":"According to the message <code>Cannot convert 2015-02-14 of type class java.time.LocalDate to class java.util.Date</code>, the JSTL tag <code>&lt;fmt:formatDate type=&quot;date&quot;&gt;</code> does not support  <code>java.time.LocalDate</code> which is introduced in Java 8."}],"answers":[{"tags":[],"owner":{"account_id":3779010,"reputation":230,"user_id":3138997,"display_name":"user3138997"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1558820969,"creation_date":1423938655,"answer_id":28518806,"question_id":28516766,"body_markdown":"&gt; I&#39;m assuming it&#39;s the conversion?\r\n\r\nYes, it&#39;s a conversion related exception.\r\n\r\n---\r\n# Solution\r\nYou could **first** use the [`&lt;fmt:parseDate&gt;`][1] *action* from the JSTL&#39;s &quot;I18n capable formatting tag library&quot; to do the *conversion* and **then** do the *formatting* with the [`&lt;fmt:formatDate&gt;`][2] *action*.\r\n\r\nHere is an example:\r\n\r\n    &lt;fmt:parseDate  value=&quot;${std.datum}&quot;  type=&quot;date&quot; pattern=&quot;yyyy-MM-dd&quot; var=&quot;parsedDate&quot; /&gt;\r\n    &lt;fmt:formatDate value=&quot;${parsedDate}&quot; type=&quot;date&quot; pattern=&quot;dd.MM.yyyy&quot; var=&quot;stdDatum&quot; /&gt;\r\n\r\n&lt;br&gt;\r\nThis solution is also presented right in the [&quot;JavaServer Pages™ Standard Tag Library (JSTL)&quot;][3] specification *version 1.2* (see page 109). \r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/fmt/parseDate.html\r\n  [2]: https://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/fmt/formatDate.html\r\n  [3]: https://download.oracle.com/otndocs/jcp/jstl-1.2-mrel2-oth-JSpec/","title":"Using java.time.LocalDate with JSTL &lt;fmt:formatDate&gt; action","body":"<blockquote>\n  <p>I'm assuming it's the conversion?</p>\n</blockquote>\n\n<p>Yes, it's a conversion related exception.</p>\n\n<hr>\n\n<h1>Solution</h1>\n\n<p>You could <strong>first</strong> use the <a href=\"https://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/fmt/parseDate.html\" rel=\"noreferrer\"><code>&lt;fmt:parseDate&gt;</code></a> <em>action</em> from the JSTL's \"I18n capable formatting tag library\" to do the <em>conversion</em> and <strong>then</strong> do the <em>formatting</em> with the <a href=\"https://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/fmt/formatDate.html\" rel=\"noreferrer\"><code>&lt;fmt:formatDate&gt;</code></a> <em>action</em>.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>&lt;fmt:parseDate  value=\"${std.datum}\"  type=\"date\" pattern=\"yyyy-MM-dd\" var=\"parsedDate\" /&gt;\n&lt;fmt:formatDate value=\"${parsedDate}\" type=\"date\" pattern=\"dd.MM.yyyy\" var=\"stdDatum\" /&gt;\n</code></pre>\n\n<p><br>\nThis solution is also presented right in the <a href=\"https://download.oracle.com/otndocs/jcp/jstl-1.2-mrel2-oth-JSpec/\" rel=\"noreferrer\">\"JavaServer Pages™ Standard Tag Library (JSTL)\"</a> specification <em>version 1.2</em> (see page 109). </p>\n"},{"tags":[],"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681462885,"creation_date":1445876054,"answer_id":33350528,"question_id":28516766,"body_markdown":"This is an old question, but I find it is better to do a custom tld in this case: without any double conversion to and from String.\r\n\r\nDo your own tld file, then override the FormatDate class. Finally, declare your own custom prefix and use custom:formatDate instead of fmt:formatDate.\r\n\r\nhere is a simplified version\r\n\r\nusage in JSP:\r\n\r\n    &lt;%@ taglib uri=&quot;/WEB-INF/custom&quot; prefix=&quot;custom&quot; %&gt;\r\n    ...\r\n    &lt;custom:formatDate value=&quot;${std.datum}&quot; pattern=&quot;dd/MM/yyyy&quot; /&gt;\r\n\r\nWEB-INF/custom.tld file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;tag ib version=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee web-jsptaglibrary_2_0.xsd&quot;&gt;\r\n\r\n    &lt;tag&gt;\r\n\t\t&lt;description&gt;\r\n\t\t\tFormatDate with java8 type\r\n\t\t&lt;/description&gt;\r\n\t\t&lt;name&gt;formatDate&lt;/name&gt;\r\n\t\t&lt;tag-class&gt;com.custom.tag.FormatDateTag&lt;/tag-class&gt;\r\n\t\t&lt;body-content&gt;empty&lt;/body-content&gt;\r\n\t\t&lt;attribute&gt;\r\n\t\t\t&lt;description&gt;\r\n\t\t\t\tDate and/or time to be formatted.\r\n\t\t\t&lt;/description&gt;\r\n\t\t\t&lt;name&gt;value&lt;/name&gt;\r\n\t\t\t&lt;required&gt;true&lt;/required&gt;\r\n\t\t\t&lt;rtexprvalue&gt;true&lt;/rtexprvalue&gt;\r\n\t\t&lt;/attribute&gt;\r\n\r\n\t\t&lt;attribute&gt;\r\n\t\t\t&lt;description&gt;\r\n\t\t\t\tCustom formatting style for dates and times.\r\n\t\t\t&lt;/description&gt;\r\n\t\t\t&lt;name&gt;pattern&lt;/name&gt;\r\n\t\t\t&lt;required&gt;false&lt;/required&gt;\r\n\t\t\t&lt;rtexprvalue&gt;true&lt;/rtexprvalue&gt;\r\n\t\t&lt;/attribute&gt;\r\n\t&lt;/tag&gt;\r\n    &lt;/taglib&gt;\r\n\r\nThen the java class tag file\r\n\r\n\r\n    public class FormatDateTag extends TagSupport  {\r\n    \r\n        protected Temporal value;\r\n        protected String pattern; \r\n        private String var; \r\n        private int scope; \r\n    \r\n        \r\n        public FormatDateTag()\r\n        {\r\n            super ();\r\n            init ();\r\n        }\r\n    \r\n        private void init()\r\n        {\r\n    \r\n            this.pattern = this.var = null;\r\n            this.value = null;\r\n            this.scope = PageContext.PAGE_SCOPE;\r\n        }\r\n    \r\n       \r\n        public void setVar(final String var)\r\n        {\r\n            this.var = var;\r\n        }\r\n    \r\n        public void setScope(final String scope)\r\n        {\r\n            this.scope = Util.getScope (scope);\r\n        }\r\n    \r\n       \r\n        public void setValue(final Temporal value)\r\n        {\r\n            this.value = value;\r\n        }\r\n    \r\n    \r\n        public void setPattern(final String pattern)\r\n        {\r\n            this.pattern = pattern;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public int doEndTag() throws JspException\r\n        {\r\n    \r\n            String formatted = null;\r\n    \r\n            if (this.value == null)\r\n            {\r\n                if (this.var != null)\r\n                {\r\n                    this.pageContext.removeAttribute (this.var, this.scope);\r\n                }\r\n                return EVAL_PAGE;\r\n            }\r\n    \r\n            // Create formatter\r\n            if (this.pattern != null)\r\n            {\r\n                final DateTimeFormatter formatter = DateTimeFormatter.ofPattern (this.pattern);\r\n                formatted = formatter.format (this.value);\r\n            }\r\n            else\r\n            {\r\n                // no formatting locale available, use Date.toString()\r\n                formatted = this.value.toString ();\r\n            }\r\n    \r\n            if (this.var != null)\r\n            {\r\n                this.pageContext.setAttribute (this.var, formatted, this.scope);\r\n            }\r\n            else\r\n            {\r\n                try\r\n                {\r\n                    this.pageContext.getOut ().print (formatted);\r\n                }\r\n                catch (final IOException ioe)\r\n                {\r\n                    throw new JspTagException (ioe.toString (), ioe);\r\n                }\r\n            }\r\n    \r\n            return EVAL_PAGE;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void release()\r\n        {\r\n            init ();\r\n        }\r\n    \r\n    }","title":"Using java.time.LocalDate with JSTL &lt;fmt:formatDate&gt; action","body":"<p>This is an old question, but I find it is better to do a custom tld in this case: without any double conversion to and from String.</p>\n<p>Do your own tld file, then override the FormatDate class. Finally, declare your own custom prefix and use custom:formatDate instead of fmt:formatDate.</p>\n<p>here is a simplified version</p>\n<p>usage in JSP:</p>\n<pre><code>&lt;%@ taglib uri=&quot;/WEB-INF/custom&quot; prefix=&quot;custom&quot; %&gt;\n...\n&lt;custom:formatDate value=&quot;${std.datum}&quot; pattern=&quot;dd/MM/yyyy&quot; /&gt;\n</code></pre>\n<p>WEB-INF/custom.tld file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;tag ib version=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee web-jsptaglibrary_2_0.xsd&quot;&gt;\n\n&lt;tag&gt;\n    &lt;description&gt;\n        FormatDate with java8 type\n    &lt;/description&gt;\n    &lt;name&gt;formatDate&lt;/name&gt;\n    &lt;tag-class&gt;com.custom.tag.FormatDateTag&lt;/tag-class&gt;\n    &lt;body-content&gt;empty&lt;/body-content&gt;\n    &lt;attribute&gt;\n        &lt;description&gt;\n            Date and/or time to be formatted.\n        &lt;/description&gt;\n        &lt;name&gt;value&lt;/name&gt;\n        &lt;required&gt;true&lt;/required&gt;\n        &lt;rtexprvalue&gt;true&lt;/rtexprvalue&gt;\n    &lt;/attribute&gt;\n\n    &lt;attribute&gt;\n        &lt;description&gt;\n            Custom formatting style for dates and times.\n        &lt;/description&gt;\n        &lt;name&gt;pattern&lt;/name&gt;\n        &lt;required&gt;false&lt;/required&gt;\n        &lt;rtexprvalue&gt;true&lt;/rtexprvalue&gt;\n    &lt;/attribute&gt;\n&lt;/tag&gt;\n&lt;/taglib&gt;\n</code></pre>\n<p>Then the java class tag file</p>\n<pre><code>public class FormatDateTag extends TagSupport  {\n\n    protected Temporal value;\n    protected String pattern; \n    private String var; \n    private int scope; \n\n    \n    public FormatDateTag()\n    {\n        super ();\n        init ();\n    }\n\n    private void init()\n    {\n\n        this.pattern = this.var = null;\n        this.value = null;\n        this.scope = PageContext.PAGE_SCOPE;\n    }\n\n   \n    public void setVar(final String var)\n    {\n        this.var = var;\n    }\n\n    public void setScope(final String scope)\n    {\n        this.scope = Util.getScope (scope);\n    }\n\n   \n    public void setValue(final Temporal value)\n    {\n        this.value = value;\n    }\n\n\n    public void setPattern(final String pattern)\n    {\n        this.pattern = pattern;\n    }\n\n\n    @Override\n    public int doEndTag() throws JspException\n    {\n\n        String formatted = null;\n\n        if (this.value == null)\n        {\n            if (this.var != null)\n            {\n                this.pageContext.removeAttribute (this.var, this.scope);\n            }\n            return EVAL_PAGE;\n        }\n\n        // Create formatter\n        if (this.pattern != null)\n        {\n            final DateTimeFormatter formatter = DateTimeFormatter.ofPattern (this.pattern);\n            formatted = formatter.format (this.value);\n        }\n        else\n        {\n            // no formatting locale available, use Date.toString()\n            formatted = this.value.toString ();\n        }\n\n        if (this.var != null)\n        {\n            this.pageContext.setAttribute (this.var, formatted, this.scope);\n        }\n        else\n        {\n            try\n            {\n                this.pageContext.getOut ().print (formatted);\n            }\n            catch (final IOException ioe)\n            {\n                throw new JspTagException (ioe.toString (), ioe);\n            }\n        }\n\n        return EVAL_PAGE;\n    }\n\n\n    @Override\n    public void release()\n    {\n        init ();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5098703,"reputation":1,"user_id":4089073,"display_name":"user4089073"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592436246,"creation_date":1592436246,"answer_id":62439923,"question_id":28516766,"body_markdown":"I wanted to avoid changing all the places where &amp;lt;fmt:formatDate/&amp;gt; where used, so I created the following two classes in stead:\r\n\r\nFirst, a converter to convert (some of) the java.time classes. It checks that java.util.Date is the target type, if not, it does nothing. It supports source time as java.util.Date (including java.sql.Timestamp and java.sql.Date), LocalDate, LocalDateTime, ZonedDateTime, Instant or Long (time in millis).\r\n\r\n    package com.example.elresolvers;\r\n    \r\n    import javax.el.ELContext;\r\n    import javax.el.TypeConverter;\r\n    import java.time.Instant;\r\n    import java.time.LocalDate;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    import java.util.Date;\r\n    \r\n    @SuppressWarnings(&quot;UseOfObsoleteDateTimeApi&quot;)\r\n    public class DateFromJavaTimeResolver extends TypeConverter {\r\n        @Override\r\n        public Object convertToType(ELContext context, Object obj, Class&lt;?&gt; type) {\r\n            Date date = null;\r\n            if (Date.class.isAssignableFrom(type)) {\r\n                if (obj instanceof Date) {\r\n                    date = (Date) obj;\r\n                } else {\r\n                    ZonedDateTime zdt = null;\r\n                    if (obj instanceof LocalDate) {\r\n                        zdt = ((LocalDate) obj).atStartOfDay(ZoneId.systemDefault());\r\n                    } else if (obj instanceof LocalDateTime) {\r\n                        zdt = ((LocalDateTime) obj).atZone(ZoneId.systemDefault());\r\n                    } else if (obj instanceof ZonedDateTime) {\r\n                        zdt = (ZonedDateTime) obj;\r\n                    } else if (obj instanceof Instant) {\r\n                        date = Date.from((Instant) obj);\r\n                    } else if (obj instanceof Long) {\r\n                        date = new Date((Long) obj);\r\n                    }\r\n                    if (zdt != null) {\r\n                        date = Date.from(zdt.toInstant());\r\n                    }\r\n                }\r\n                context.setPropertyResolved(date != null);\r\n            }\r\n            return date;\r\n        }\r\n    }\r\n\r\nNext, a ServletContextListener class to register the converter for use with JSP:\r\n\r\n    package com.example.web;\r\n    \r\n    import com.example.elresolvers.DateFromJavaTimeResolver;\r\n    \r\n    import javax.servlet.ServletContext;\r\n    import javax.servlet.ServletContextEvent;\r\n    import javax.servlet.ServletContextListener;\r\n    import javax.servlet.jsp.JspApplicationContext;\r\n    import javax.servlet.jsp.JspFactory;\r\n    \r\n    public class JspElResolverInitListener implements ServletContextListener {\r\n        @Override\r\n        public void contextInitialized(ServletContextEvent sce) {\r\n            ServletContext servletContext = sce.getServletContext();\r\n            JspApplicationContext context = JspFactory.getDefaultFactory().getJspApplicationContext(servletContext);\r\n            context.addELResolver(new DateFromJavaTimeResolver());\r\n        }\r\n    \r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent sce) {\r\n        }\r\n    }\r\n\r\nFinally, an entry in web.xml (if you are not using annotations or other means):\r\n\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;com.example.web.JspElResolverInitListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n","title":"Using java.time.LocalDate with JSTL &lt;fmt:formatDate&gt; action","body":"<p>I wanted to avoid changing all the places where &lt;fmt:formatDate/&gt; where used, so I created the following two classes in stead:</p>\n\n<p>First, a converter to convert (some of) the java.time classes. It checks that java.util.Date is the target type, if not, it does nothing. It supports source time as java.util.Date (including java.sql.Timestamp and java.sql.Date), LocalDate, LocalDateTime, ZonedDateTime, Instant or Long (time in millis).</p>\n\n<pre><code>package com.example.elresolvers;\n\nimport javax.el.ELContext;\nimport javax.el.TypeConverter;\nimport java.time.Instant;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.util.Date;\n\n@SuppressWarnings(\"UseOfObsoleteDateTimeApi\")\npublic class DateFromJavaTimeResolver extends TypeConverter {\n    @Override\n    public Object convertToType(ELContext context, Object obj, Class&lt;?&gt; type) {\n        Date date = null;\n        if (Date.class.isAssignableFrom(type)) {\n            if (obj instanceof Date) {\n                date = (Date) obj;\n            } else {\n                ZonedDateTime zdt = null;\n                if (obj instanceof LocalDate) {\n                    zdt = ((LocalDate) obj).atStartOfDay(ZoneId.systemDefault());\n                } else if (obj instanceof LocalDateTime) {\n                    zdt = ((LocalDateTime) obj).atZone(ZoneId.systemDefault());\n                } else if (obj instanceof ZonedDateTime) {\n                    zdt = (ZonedDateTime) obj;\n                } else if (obj instanceof Instant) {\n                    date = Date.from((Instant) obj);\n                } else if (obj instanceof Long) {\n                    date = new Date((Long) obj);\n                }\n                if (zdt != null) {\n                    date = Date.from(zdt.toInstant());\n                }\n            }\n            context.setPropertyResolved(date != null);\n        }\n        return date;\n    }\n}\n</code></pre>\n\n<p>Next, a ServletContextListener class to register the converter for use with JSP:</p>\n\n<pre><code>package com.example.web;\n\nimport com.example.elresolvers.DateFromJavaTimeResolver;\n\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletContextEvent;\nimport javax.servlet.ServletContextListener;\nimport javax.servlet.jsp.JspApplicationContext;\nimport javax.servlet.jsp.JspFactory;\n\npublic class JspElResolverInitListener implements ServletContextListener {\n    @Override\n    public void contextInitialized(ServletContextEvent sce) {\n        ServletContext servletContext = sce.getServletContext();\n        JspApplicationContext context = JspFactory.getDefaultFactory().getJspApplicationContext(servletContext);\n        context.addELResolver(new DateFromJavaTimeResolver());\n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent sce) {\n    }\n}\n</code></pre>\n\n<p>Finally, an entry in web.xml (if you are not using annotations or other means):</p>\n\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;com.example.web.JspElResolverInitListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635075765,"creation_date":1635075765,"answer_id":69696397,"question_id":28516766,"body_markdown":"Java:\r\n\r\n    public class DateTimeUtil {\r\n        private static final DateTimeFormatter DATE_FORMATTER = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\r\n\r\n        public static String toString(LocalDateTime ldt) {\r\n            return ldt.format(DATE_FORMATTER);\r\n        }\r\n\r\nJSP:\r\n\r\n    &lt;%@ page import=&quot;ru.javaops.topjava.util.DateTimeUtil&quot; %&gt;\r\n    ...\r\n    &lt;%=DateTimeUtil.toString(std.getDatum())%&gt;","title":"Using java.time.LocalDate with JSTL &lt;fmt:formatDate&gt; action","body":"<p>Java:</p>\n<pre><code>public class DateTimeUtil {\n    private static final DateTimeFormatter DATE_FORMATTER = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\n\n    public static String toString(LocalDateTime ldt) {\n        return ldt.format(DATE_FORMATTER);\n    }\n</code></pre>\n<p>JSP:</p>\n<pre><code>&lt;%@ page import=&quot;ru.javaops.topjava.util.DateTimeUtil&quot; %&gt;\n...\n&lt;%=DateTimeUtil.toString(std.getDatum())%&gt;\n</code></pre>\n"}],"owner":{"account_id":4161573,"reputation":125,"user_id":3411565,"accept_rate":33,"display_name":"user3411565"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10046,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1681462885,"creation_date":1423925330,"question_id":28516766,"body_markdown":"I haven&#39;t been able to figure out how to display a `java.time.LocalDate` value in a JSP.\r\n\r\nIn my JSP, I have this:\r\n\r\n&lt;!-- language: lang-jsp --&gt;\r\n\r\n    &lt;fmt:formatDate value=&quot;${std.datum}&quot; type=&quot;date&quot; pattern=&quot;dd.MM.yyyy&quot; var=&quot;stdDatum&quot; /&gt;\r\n\r\n&lt;br&gt;\r\nThe `std.datum` is of type [java.time.LocalDate][1]. When rendering the JSP I get this exception:\r\n\r\n&gt; javax.el.ELException:  \r\n&gt; Cannot convert 2015-02-14 of type class\r\n&gt; java.time.LocalDate to class java.util.Date\r\n\r\n\r\nI&#39;m assuming it&#39;s the conversion?\r\n\r\nSo is it possible to format an instance of *LocalDate* class with `&lt;fmr:formatDate&gt;` action?\r\n  \r\n [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html","title":"Using java.time.LocalDate with JSTL &lt;fmt:formatDate&gt; action","body":"<p>I haven't been able to figure out how to display a <code>java.time.LocalDate</code> value in a JSP.</p>\n\n<p>In my JSP, I have this:</p>\n\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;fmt:formatDate value=\"${std.datum}\" type=\"date\" pattern=\"dd.MM.yyyy\" var=\"stdDatum\" /&gt;\n</code></pre>\n\n<p><br>\nThe <code>std.datum</code> is of type <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">java.time.LocalDate</a>. When rendering the JSP I get this exception:</p>\n\n<blockquote>\n  <p>javax.el.ELException:<br>\n  Cannot convert 2015-02-14 of type class\n  java.time.LocalDate to class java.util.Date</p>\n</blockquote>\n\n<p>I'm assuming it's the conversion?</p>\n\n<p>So is it possible to format an instance of <em>LocalDate</em> class with <code>&lt;fmr:formatDate&gt;</code> action?</p>\n"},{"tags":["java","jsoup"],"owner":{"account_id":19609121,"reputation":11,"user_id":14352015,"display_name":"CHRIS G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681462655,"creation_date":1681462365,"question_id":76013236,"body_markdown":"I&#39;m pretty new to Java and trying to learn how to crawl from a website. I&#39;m crawling a top 100 bestselling books from Barnes &amp; noble.\r\n\r\nI managed myself to crawl the top 1 title from its web, but when I&#39;m trying to make it into a for loop to crawl all the titles, I cannot do it. It all just gives out blank output.\r\n\r\n```java\r\nString url = &quot;https://www.barnesandnoble.com/b/books/_/N-1fZ29Z8q8&quot;;\r\nDocument doc = null;\r\ntry {\r\n    doc = Jsoup.connect(url).get();\r\n} catch ( Exception e) {\r\n    e.printStackTrace();\r\n}\r\n// System.out.println(doc);\r\nElement top100 = doc.select(&quot;.text&quot;).first();\r\nSystem.out.println(top100.text());\r\nElements bookList = doc.select(&quot;ol.product-shelf-list product-list-view &gt; li&quot;);\r\nfor(Element book : bookList) {\r\n    Element titleElement = book.select(&quot;.row topX-row &gt; div.product-info-view &gt; div.product-shelf-title &gt; .product-info-view&quot;).first();\r\n    String title = titleElement.text();\r\n    System.out.println(title);\r\n}\r\n// Element title = doc.select(&quot;.product-info-title&quot;).first();\r\n// System.out.println(title.text());\r\n```\r\n\r\nThe bottom two lines print the first book title &#39;The Great Awakening (10/15/2020)&#39; with no problem, but in a for loop, I can&#39;t print any of the titles.\r\n\r\nI noticed that titles are located like this:\r\n\r\n```html\r\n&lt;ol class=&quot;product-shelf-list product-list-view&quot;&gt;\r\n   &lt;li class=&quot;pb-s mt-m bd-bottom-disabled-gray record list-view-data&quot;&gt;   // book 1\r\n      &lt;div class=&quot;row topX-row&quot;&gt;\r\n         &lt;div class=&quot;product-info-view&quot;&gt;\r\n            &lt;div class=&quot;product-shelf-title&quot;&gt;\r\n               &lt;h3 class=&quot;product-info-title&quot;&gt;\r\n   &lt;li class=&quot;pb-s mt-m bd-bottom-disabled-gray record list-view-data&quot;&gt;   // book 2\r\n      &lt;div class=&quot;row topX-row&quot;&gt;\r\n         &lt;div class=&quot;product-info-view&quot;&gt;\r\n            &lt;div class=&quot;product-shelf-title&quot;&gt;\r\n               &lt;h3 class=&quot;product-info-title&quot;&gt;\r\n```\r\n\r\nand so on. I&#39;m trying to use my loop to get to the h3 for every book.\r\n\r\nI tried different ways to doc.select(....), ran with only .product-info-title in there move li here and there I don&#39;t know. I&#39;m just lost with how this thing works. They all just gave me blank outputs besides my B&amp;N Top 100: Book Bestsellers from printing out top100.","title":"How to for loop through titles of books in website","body":"<p>I'm pretty new to Java and trying to learn how to crawl from a website. I'm crawling a top 100 bestselling books from Barnes &amp; noble.</p>\n<p>I managed myself to crawl the top 1 title from its web, but when I'm trying to make it into a for loop to crawl all the titles, I cannot do it. It all just gives out blank output.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String url = &quot;https://www.barnesandnoble.com/b/books/_/N-1fZ29Z8q8&quot;;\nDocument doc = null;\ntry {\n    doc = Jsoup.connect(url).get();\n} catch ( Exception e) {\n    e.printStackTrace();\n}\n// System.out.println(doc);\nElement top100 = doc.select(&quot;.text&quot;).first();\nSystem.out.println(top100.text());\nElements bookList = doc.select(&quot;ol.product-shelf-list product-list-view &gt; li&quot;);\nfor(Element book : bookList) {\n    Element titleElement = book.select(&quot;.row topX-row &gt; div.product-info-view &gt; div.product-shelf-title &gt; .product-info-view&quot;).first();\n    String title = titleElement.text();\n    System.out.println(title);\n}\n// Element title = doc.select(&quot;.product-info-title&quot;).first();\n// System.out.println(title.text());\n</code></pre>\n<p>The bottom two lines print the first book title 'The Great Awakening (10/15/2020)' with no problem, but in a for loop, I can't print any of the titles.</p>\n<p>I noticed that titles are located like this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ol class=&quot;product-shelf-list product-list-view&quot;&gt;\n   &lt;li class=&quot;pb-s mt-m bd-bottom-disabled-gray record list-view-data&quot;&gt;   // book 1\n      &lt;div class=&quot;row topX-row&quot;&gt;\n         &lt;div class=&quot;product-info-view&quot;&gt;\n            &lt;div class=&quot;product-shelf-title&quot;&gt;\n               &lt;h3 class=&quot;product-info-title&quot;&gt;\n   &lt;li class=&quot;pb-s mt-m bd-bottom-disabled-gray record list-view-data&quot;&gt;   // book 2\n      &lt;div class=&quot;row topX-row&quot;&gt;\n         &lt;div class=&quot;product-info-view&quot;&gt;\n            &lt;div class=&quot;product-shelf-title&quot;&gt;\n               &lt;h3 class=&quot;product-info-title&quot;&gt;\n</code></pre>\n<p>and so on. I'm trying to use my loop to get to the h3 for every book.</p>\n<p>I tried different ways to doc.select(....), ran with only .product-info-title in there move li here and there I don't know. I'm just lost with how this thing works. They all just gave me blank outputs besides my B&amp;N Top 100: Book Bestsellers from printing out top100.</p>\n"},{"tags":["java","spring","spring-boot","solr"],"comments":[{"owner":{"account_id":2059606,"reputation":8258,"user_id":2265190,"accept_rate":50,"display_name":"Hafiz Muhammad Shafiq"},"score":0,"creation_date":1679374427,"post_id":75791013,"comment_id":133706055,"body_markdown":"Please share more details e.g., schema design, code snippet etc.","body":"Please share more details e.g., schema design, code snippet etc."},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679383983,"post_id":75791013,"comment_id":133707347,"body_markdown":"question edited with asked details, please check and let me know if you need more details","body":"question edited with asked details, please check and let me know if you need more details"}],"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681462618,"creation_date":1679319766,"question_id":75791013,"body_markdown":"I have class called employee and it contains address object,\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @SolrDocument(collection =&quot;Employee&quot; )\r\n    public class Employee {\r\n \r\n\t@Indexed\r\n\tprivate String name;\r\n\t@Indexed\r\n\t@Id\r\n\tprivate String id;\r\n\t@Indexed\r\n\tprivate List&lt;Address&gt; address;\r\n    }\r\n\r\n\r\n    @NoArgsConstructor\r\n    @Data\r\n    public class Address {\r\n\r\n\tprivate String addressLine;\r\n\tprivate String zipcode;\r\n\tprivate String State;\r\n\tprivate String country;\r\n    }\r\n\r\nwhen I try to get the employee details from Apache solr, it giving the address object data with full qualified name(along with package and class name) as shown below. Let me know how to get only address out of it.\r\n\r\n    {\r\n    &quot;name&quot;: &quot;employee1&quot;,\r\n    &quot;id&quot;: &quot;1&quot;,\r\n    &quot;address&quot;: [\r\n        &quot;com.apachesolr.sample.application.model.Address:Address(addressLine=xyz street, zipcode=12345, State=AP, country=India)&quot;\r\n    ]\r\n} \r\n\r\nI tried indexing the data from spring boot application using solrCrudRepository it indexed fine.but when I try to retrieve it. It giving the documents along with qualified name of the document. I have used managed schema that will be created automatically when creating the core.","title":"How to store nested objects in Apache solr from spring boot application","body":"<p>I have class called employee and it contains address object,</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@SolrDocument(collection =&quot;Employee&quot; )\npublic class Employee {\n\n@Indexed\nprivate String name;\n@Indexed\n@Id\nprivate String id;\n@Indexed\nprivate List&lt;Address&gt; address;\n}\n\n\n@NoArgsConstructor\n@Data\npublic class Address {\n\nprivate String addressLine;\nprivate String zipcode;\nprivate String State;\nprivate String country;\n}\n</code></pre>\n<p>when I try to get the employee details from Apache solr, it giving the address object data with full qualified name(along with package and class name) as shown below. Let me know how to get only address out of it.</p>\n<pre><code>{\n&quot;name&quot;: &quot;employee1&quot;,\n&quot;id&quot;: &quot;1&quot;,\n&quot;address&quot;: [\n    &quot;com.apachesolr.sample.application.model.Address:Address(addressLine=xyz street, zipcode=12345, State=AP, country=India)&quot;\n]\n</code></pre>\n<p>}</p>\n<p>I tried indexing the data from spring boot application using solrCrudRepository it indexed fine.but when I try to retrieve it. It giving the documents along with qualified name of the document. I have used managed schema that will be created automatically when creating the core.</p>\n"},{"tags":["java","spring-boot","jpa","eclipselink","mssql-jdbc"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1681387081,"post_id":76005056,"comment_id":134049913,"body_markdown":"What exactly doesn&#39;t work? Apart from the in-CAPS-written-variables, everything looks fine to me on a first glance. Can you further elaborate?","body":"What exactly doesn&#39;t work? Apart from the in-CAPS-written-variables, everything looks fine to me on a first glance. Can you further elaborate?"},{"owner":{"account_id":21764857,"reputation":15,"user_id":16068906,"display_name":"Md101"},"score":0,"creation_date":1681387384,"post_id":76005056,"comment_id":134049996,"body_markdown":"@Z-100  I have no method to store the generated UUID into the trigger table. I have only completed the part to store the UUID into the input table.  I need help with storing the UUID generated also into the trigger table.","body":"@Z-100  I have no method to store the generated UUID into the trigger table. I have only completed the part to store the UUID into the input table.  I need help with storing the UUID generated also into the trigger table."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1681387619,"post_id":76005056,"comment_id":134050056,"body_markdown":"That should be done automatically by JPA. Is there any error stating it&#39;s not possible to safe GKZ, because of an unsaved entity? Did you ever check your database?","body":"That should be done automatically by JPA. Is there any error stating it&#39;s not possible to safe GKZ, because of an unsaved entity? Did you ever check your database?"},{"owner":{"account_id":21764857,"reputation":15,"user_id":16068906,"display_name":"Md101"},"score":0,"creation_date":1681390779,"post_id":76005056,"comment_id":134050879,"body_markdown":"@Z-100 Thank you for your quick responses, I have posted the solution to my task, I was able to solve it. :D","body":"@Z-100 Thank you for your quick responses, I have posted the solution to my task, I was able to solve it. :D"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1681392258,"post_id":76005056,"comment_id":134051279,"body_markdown":"No problem :) Happy I could assist!","body":"No problem :) Happy I could assist!"}],"answers":[{"tags":[],"owner":{"account_id":21764857,"reputation":15,"user_id":16068906,"display_name":"Md101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681390710,"creation_date":1681390710,"answer_id":76005720,"question_id":76005056,"body_markdown":"I updated my ServiceImplementation class.\r\n\r\n```\r\n\r\n\t@Override\r\n\tpublic GKZ saveGKZ(GKZ GKZ) {\r\n\r\n\t\t//Generate random UUID\r\n\t\tUUID uuid=UUID.randomUUID();  \r\n\t\tGKZ.setuid(uuid);\r\n\t\t\r\n\t\tGKZtrigger gkZtrigger = new GKZtrigger();\r\n\t\tgkZtrigger.setuid(uuid);\r\n\t\t\r\n\t\tgRepository.save(GKZ);\r\n\t\ttRepository.save(gkZtrigger);\r\n\t\treturn GKZ;\r\n\t\t\r\n\t}\r\n\r\n```\r\n\r\nTurns out, just creating an instance and then calling the Repository works !","title":"How to save autogenerated UUID to a table in Springboot?","body":"<p>I updated my ServiceImplementation class.</p>\n<pre><code>\n    @Override\n    public GKZ saveGKZ(GKZ GKZ) {\n\n        //Generate random UUID\n        UUID uuid=UUID.randomUUID();  \n        GKZ.setuid(uuid);\n        \n        GKZtrigger gkZtrigger = new GKZtrigger();\n        gkZtrigger.setuid(uuid);\n        \n        gRepository.save(GKZ);\n        tRepository.save(gkZtrigger);\n        return GKZ;\n        \n    }\n\n</code></pre>\n<p>Turns out, just creating an instance and then calling the Repository works !</p>\n"},{"tags":[],"owner":{"account_id":6872920,"reputation":31,"user_id":5282496,"display_name":"Michael G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681462527,"creation_date":1681390889,"answer_id":76005759,"question_id":76005056,"body_markdown":"Off the top of my head, you have to save it to GKZTriggerRepository similar to how you save GKZ entity.\r\n\r\n    @Service\r\n    public class GKZServiceImpl implements GKZService {\r\n     \r\n        @Autowired\r\n        private GKZInputRepository gRepository;\r\n\r\n        @Autowired\r\n        private GKZTriggerRepository gkzTriggerRepository;\r\n\r\n        @Override\r\n        @Transactional // either everything stored to DB or nothing\r\n        public GKZ saveGKZ(GKZ GKZ) {\r\n\r\n            //Generate random UUID\r\n            UUID uuid=UUID.randomUUID();  \r\n            GKZ.setuid(uuid);\r\n        \r\n            gRepository.save(GKZ);\r\n\r\n            GKZtrigger gkzTrigger = new GKZtrigger();\r\n            gkzTrigger.setuid(uuid);\r\n\r\n            gkzTriggerRepository.save(gkzTrigger);\r\n        \r\n            return GKZ;\r\n        }\r\n    }\r\n    \r\n\r\n**OR** reference the GKZtrigger entity from the GKZ entity\r\n\r\n    ...\r\n\r\n    @Table(name= &quot;T_CIB_CIBp_GKZ_I&quot;)\r\n    public class GKZ {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\n        ...\r\n\r\n        @OneToOne\r\n        private GKZtrigger gkzTrigger;\r\n\r\n        ...\r\n\r\n        public GKZtrigger getGkzTrigger() {\r\n            return this.gkzTrigger;\r\n        }\r\n\r\n        public void setGkzTrigger(GKZtrigger gkzTrigger) {\r\n            this.gkzTrigger = gkzTrigger;\r\n        }\r\n\r\n        ...\r\n\r\n    }\r\n\r\nthen you would set GKZtrigger to GKZ entity and JPA will save both for you\r\n\r\n    ...\r\n\r\n    @Override\r\n    public GKZ saveGKZ(GKZ GKZ) {\r\n\r\n        //Generate random UUID\r\n        UUID uuid=UUID.randomUUID();  \r\n        GKZ.setuid(uuid);\r\n\r\n        GKZtrigger gkzTrigger = new GKZtrigger();\r\n        gkzTrigger.setuid(uuid);\r\n\r\n        GKZ.setGkzTrigger(gkzTrigger);\r\n\r\n        gRepository.save(GKZ); // JPA will save both entities\r\n        \r\n        return GKZ;\r\n    }\r\n\r\n    ...\r\n\r\nAnd you also have to add \r\n\r\n    @OneToOne(mappedBy = &quot;gkzTrigger&quot;)\r\n    private GKZ gkz\r\n\r\nfield to GKZtrigger class so JPA can figure both sides of the relationaship.\r\n\r\nIf you go down this path I suggest you google &quot;JPA one to one&quot; an read an article at Baeldung (should be the first result). When you got that down, there are also @OneToMany @ManyToOne and @ManyToMany annotations. When your JPA code works, explore the database and see what tables being created and how they relate.\r\n\r\n\r\n","title":"How to save autogenerated UUID to a table in Springboot?","body":"<p>Off the top of my head, you have to save it to GKZTriggerRepository similar to how you save GKZ entity.</p>\n<pre><code>@Service\npublic class GKZServiceImpl implements GKZService {\n \n    @Autowired\n    private GKZInputRepository gRepository;\n\n    @Autowired\n    private GKZTriggerRepository gkzTriggerRepository;\n\n    @Override\n    @Transactional // either everything stored to DB or nothing\n    public GKZ saveGKZ(GKZ GKZ) {\n\n        //Generate random UUID\n        UUID uuid=UUID.randomUUID();  \n        GKZ.setuid(uuid);\n    \n        gRepository.save(GKZ);\n\n        GKZtrigger gkzTrigger = new GKZtrigger();\n        gkzTrigger.setuid(uuid);\n\n        gkzTriggerRepository.save(gkzTrigger);\n    \n        return GKZ;\n    }\n}\n</code></pre>\n<p><strong>OR</strong> reference the GKZtrigger entity from the GKZ entity</p>\n<pre><code>...\n\n@Table(name= &quot;T_CIB_CIBp_GKZ_I&quot;)\npublic class GKZ {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n\n    ...\n\n    @OneToOne\n    private GKZtrigger gkzTrigger;\n\n    ...\n\n    public GKZtrigger getGkzTrigger() {\n        return this.gkzTrigger;\n    }\n\n    public void setGkzTrigger(GKZtrigger gkzTrigger) {\n        this.gkzTrigger = gkzTrigger;\n    }\n\n    ...\n\n}\n</code></pre>\n<p>then you would set GKZtrigger to GKZ entity and JPA will save both for you</p>\n<pre><code>...\n\n@Override\npublic GKZ saveGKZ(GKZ GKZ) {\n\n    //Generate random UUID\n    UUID uuid=UUID.randomUUID();  \n    GKZ.setuid(uuid);\n\n    GKZtrigger gkzTrigger = new GKZtrigger();\n    gkzTrigger.setuid(uuid);\n\n    GKZ.setGkzTrigger(gkzTrigger);\n\n    gRepository.save(GKZ); // JPA will save both entities\n    \n    return GKZ;\n}\n\n...\n</code></pre>\n<p>And you also have to add</p>\n<pre><code>@OneToOne(mappedBy = &quot;gkzTrigger&quot;)\nprivate GKZ gkz\n</code></pre>\n<p>field to GKZtrigger class so JPA can figure both sides of the relationaship.</p>\n<p>If you go down this path I suggest you google &quot;JPA one to one&quot; an read an article at Baeldung (should be the first result). When you got that down, there are also @OneToMany @ManyToOne and @ManyToMany annotations. When your JPA code works, explore the database and see what tables being created and how they relate.</p>\n"}],"owner":{"account_id":21764857,"reputation":15,"user_id":16068906,"display_name":"Md101"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681462527,"creation_date":1681386511,"question_id":76005056,"body_markdown":"I am new to springboot and would really appreciate some help. My task is as follows:\r\n\r\n1. Insert &amp; store Json data into Input Table (using eclipselink)\r\nOne of the datain this table is an UUID which is randomly generated in Service Implementation.\r\n\r\n2.The UUID generated by the ServiceImplementation.class is then stored in a Trigger Table.\r\n\r\nI need help with storing the UUID into the Trigger Table as I can&#39;t find a suitable method online. \r\n\r\nNote: I have a repository class for both Entities. \r\n\r\nIf you need me to add any other additional code snippets please do let me know. Thanks in advance!\r\n\r\nController.java\r\n```\r\npackage de.cibplus.cibplusngvdpGKZ.Controller;\r\n\r\n\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZ;\r\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZtrigger;\r\nimport de.cibplus.cibplusngvdpGKZ.Service.GKZService;\r\n\r\n\r\n\r\n@RestController //@Controller + @ResponseBody\r\npublic class GKZController {\r\n\t\r\n\t@Autowired\r\n\tprivate GKZService gService;\r\n\t\r\n\t\r\n\t\r\n\t//Save Input data\r\n\t\t@PostMapping(&quot;/gkz&quot;)\r\n\t\tpublic  ResponseEntity&lt;GKZ&gt; saveGKZ(@RequestBody GKZ GKZ) {\r\n\t\tGKZ gkz = gService.saveGKZ(GKZ);\r\n\t\treturn ResponseEntity.status(HttpStatus.CREATED).body(gkz) ;\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\r\n\t}\r\n\t\r\n\r\n}\r\n\r\n```\r\nInput.class\r\n\r\n```\r\npackage de.cibplus.cibplusngvdpGKZ.Model;\r\n\r\nimport java.math.BigInteger;\r\nimport java.time.LocalDate;\r\n//import java.util.Date;\r\nimport java.util.UUID;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.OneToOne;\r\nimport javax.persistence.Table;\r\n\r\nimport org.eclipse.persistence.annotations.UuidGenerator;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\n@Setter\r\n@Getter\r\n@ToString\r\n@Entity\r\n\r\n@Table(name= &quot;T_CIB_CIBp_GKZ_I&quot;)\r\npublic class GKZ {\r\n\t\r\n\t    @Id\r\n\t    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t    \r\n\t    @Column(name=&quot;ID&quot;)\r\n\t    private Integer ID;\r\n\t    \r\n\t    @Column(name=&quot;stichtag&quot;)\r\n\t\tprivate LocalDate stichtag;\r\n\t    \r\n\t    @Column(name=&quot;refstreet&quot;)\r\n\t\tprivate String refstreet;\r\n\t    \r\n\t    @Column(name=&quot;hnr&quot;)\r\n\t\tprivate String hnr;\r\n\t    \r\n\t    @Column(name=&quot;street&quot;)\r\n\t\tprivate String street;\r\n\t    \r\n\t    @Column(name=&quot;city&quot;)\r\n\t\tprivate String city;\r\n\t    \r\n\t    @Column(name=&quot;zipcode&quot;)\r\n\t\tprivate String zipcode;\r\n\t\r\n\t    @Column(name=&quot;objecttype_id&quot;)\r\n\t    private Integer objecttypeId;\r\n\t\t\r\n\t    @Column(name=&quot;client_id&quot;)\r\n\t    private String client_id;\r\n\t\t\r\n\t    @Column(name=&quot;valuation_id&quot;)\r\n\t    private BigInteger valuation_id;\r\n\t    \r\n\r\n\t\t\r\n\t\t\r\n\t    @Column(name=&quot;uid&quot;)\r\n\t    private UUID uid;\r\n\t    \r\n\t    public LocalDate getstichtag() {\r\n\t\t\t return stichtag;\r\n\t\t }\r\n\t\t\r\n\r\n\t\tpublic void setstichtag(LocalDate stichtag) {\r\n\t\t      this.stichtag = stichtag;\r\n\t\t   }\r\n\r\n\t\t \r\n\t\t public String getrefstreet() {\r\n\t\t\t return refstreet;\r\n\t\t }\r\n\t\t \r\n\t\t public void setrefstreet(String refstreet) {\r\n\t\t      this.refstreet = refstreet;\r\n\t\t   }\r\n\t\t \r\n\t\t public String gethnr() {\r\n\t\t\t return hnr;\r\n\t\t }\r\n\t\t \r\n\t\t public void sethnr(String hnr) {\r\n\t\t      this.hnr = hnr;\r\n\t\t   }\r\n\t\t \r\n\t\t public String getstreet() {\r\n\t\t\t return street;\r\n\t\t }\r\n\t\t \r\n\t\t public void setstreet(String street) {\r\n\t\t      this.street = street;\r\n\t\t   }\r\n\t\t \r\n\t\t public String getcity() {\r\n\t\t\t return city;\r\n\t\t }\r\n\t\t \r\n\t\t public void setcity(String city) {\r\n\t\t      this.city = city;\r\n\t\t   }\r\n\t\t \r\n\t\t public String getzipcode() {\r\n\t\t\t return zipcode;\r\n\t\t }\r\n\t\t \r\n\t\t public void setzipcode(String zipcode) {\r\n\t\t      this.zipcode = zipcode;\r\n\t\t   }\r\n\t\t \r\n\t\t public Integer getobjecttypeId() {\r\n\t\t\t return objecttypeId;\r\n\t\t }\r\n\t\t \r\n\t\t public void setobjecttype_id(Integer objecttypeId) {\r\n\t\t      this.objecttypeId = objecttypeId;\r\n\t\t   }\r\n\t\t \r\n\t\t public String getclient_id() {\r\n\t\t\t return client_id;\r\n\t\t }\r\n\t\t \r\n\t\t public void setclient_id(String client_id) {\r\n\t\t      this.client_id = client_id;\r\n\t\t   }\r\n\t\t \r\n\t\t public BigInteger getvaluation_id() {\r\n\t\t\t return valuation_id;\r\n\t\t }\r\n\t\t \r\n\t\t public void setvaluation_id(BigInteger valuation_id) {\r\n\t\t      this.valuation_id = valuation_id;\r\n\t\t   }\r\n\t\t \r\n\t\t public UUID getuid() {\r\n\t\t\t return uid;\r\n\t\t }\r\n\t\t \r\n\t\t public void setuid(UUID uid) {\r\n\t\t      this.uid = uid;\r\n\t\t   }\r\n\t\t \r\n\t\t public Integer getID() {\r\n\t\t\t return ID;\r\n\t\t }\r\n\t\t \r\n\t\t public void setID(Integer ID) {\r\n\t\t      this.ID = ID;\r\n\t\t   }\r\n\t\t\r\n\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\r\n\r\n\r\n\r\n```\r\n\r\nTrigger.class\r\n\r\n```\r\npackage de.cibplus.cibplusngvdpGKZ.Model;\r\n\r\nimport java.util.UUID;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\n\r\n@Setter\r\n@Getter\r\n@ToString\r\n@Entity\r\n@Table(name= &quot;T_CIB_CIBp_uid&quot;)\r\npublic class GKZtrigger {\r\n\t\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name=&quot;ID&quot;)\r\n    private Integer ID;\r\n \r\n    \r\n    @Column(name=&quot;uid&quot;)\r\n    private UUID uid;\r\n    \r\n    public UUID getuid() {\r\n\t\t return uid;\r\n\t }\r\n\t \r\n\t public void setuid(UUID uid) {\r\n\t      this.uid = uid;\r\n\t   }\r\n\r\n\tpublic Integer getID() {\r\n\t\treturn ID;\r\n\t}\r\n\r\n\tpublic void setID(Integer iD) {\r\n\t\tID = iD;\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n```\r\nService.class\r\n\r\n```\r\npackage de.cibplus.cibplusngvdpGKZ.Service;\r\n\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZ;\r\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZtrigger;\r\n\r\n\r\n\r\npublic interface GKZService {\r\n\t\r\n\t\r\n\r\n\tGKZ saveGKZ(GKZ GKZ);\r\n\t\r\n\t\r\n}\r\n\r\n```\r\nServiceImplementation.class\r\n\r\n```\r\npackage de.cibplus.cibplusngvdpGKZ.Service;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\n\r\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZ;\r\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZtrigger;\r\n\r\nimport de.cibplus.cibplusngvdpGKZ.Repository.GKZInputRepository;\r\nimport de.cibplus.cibplusngvdpGKZ.Repository.GKZTriggerRepository;\r\n\r\nimport de.cibplus.cibplusngvdpGKZ.Service.*;\r\n\r\n\r\n@Service\r\npublic class GKZServiceImpl implements GKZService {\r\n\t\r\n\t\r\n\t@Autowired\r\n\tprivate GKZInputRepository gRepository;\r\n\t\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic GKZ saveGKZ(GKZ GKZ) {\r\n\r\n\t\t//Generate random UUID\r\n\t\tUUID uuid=UUID.randomUUID();  \r\n\t\tGKZ.setuid(uuid);\r\n\t\t\r\n\t\tgRepository.save(GKZ);\r\n\t\t\r\n\t\treturn GKZ;\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t}\r\n\t\r\n\r\n\r\n\r\n```","title":"How to save autogenerated UUID to a table in Springboot?","body":"<p>I am new to springboot and would really appreciate some help. My task is as follows:</p>\n<ol>\n<li>Insert &amp; store Json data into Input Table (using eclipselink)\nOne of the datain this table is an UUID which is randomly generated in Service Implementation.</li>\n</ol>\n<p>2.The UUID generated by the ServiceImplementation.class is then stored in a Trigger Table.</p>\n<p>I need help with storing the UUID into the Trigger Table as I can't find a suitable method online.</p>\n<p>Note: I have a repository class for both Entities.</p>\n<p>If you need me to add any other additional code snippets please do let me know. Thanks in advance!</p>\n<p>Controller.java</p>\n<pre><code>package de.cibplus.cibplusngvdpGKZ.Controller;\n\n\nimport java.util.List;\nimport java.util.UUID;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZ;\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZtrigger;\nimport de.cibplus.cibplusngvdpGKZ.Service.GKZService;\n\n\n\n@RestController //@Controller + @ResponseBody\npublic class GKZController {\n    \n    @Autowired\n    private GKZService gService;\n    \n    \n    \n    //Save Input data\n        @PostMapping(&quot;/gkz&quot;)\n        public  ResponseEntity&lt;GKZ&gt; saveGKZ(@RequestBody GKZ GKZ) {\n        GKZ gkz = gService.saveGKZ(GKZ);\n        return ResponseEntity.status(HttpStatus.CREATED).body(gkz) ;\n            \n        }\n    \n    \n    }\n    \n\n}\n\n</code></pre>\n<p>Input.class</p>\n<pre><code>package de.cibplus.cibplusngvdpGKZ.Model;\n\nimport java.math.BigInteger;\nimport java.time.LocalDate;\n//import java.util.Date;\nimport java.util.UUID;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\n\nimport org.eclipse.persistence.annotations.UuidGenerator;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@Setter\n@Getter\n@ToString\n@Entity\n\n@Table(name= &quot;T_CIB_CIBp_GKZ_I&quot;)\npublic class GKZ {\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        \n        @Column(name=&quot;ID&quot;)\n        private Integer ID;\n        \n        @Column(name=&quot;stichtag&quot;)\n        private LocalDate stichtag;\n        \n        @Column(name=&quot;refstreet&quot;)\n        private String refstreet;\n        \n        @Column(name=&quot;hnr&quot;)\n        private String hnr;\n        \n        @Column(name=&quot;street&quot;)\n        private String street;\n        \n        @Column(name=&quot;city&quot;)\n        private String city;\n        \n        @Column(name=&quot;zipcode&quot;)\n        private String zipcode;\n    \n        @Column(name=&quot;objecttype_id&quot;)\n        private Integer objecttypeId;\n        \n        @Column(name=&quot;client_id&quot;)\n        private String client_id;\n        \n        @Column(name=&quot;valuation_id&quot;)\n        private BigInteger valuation_id;\n        \n\n        \n        \n        @Column(name=&quot;uid&quot;)\n        private UUID uid;\n        \n        public LocalDate getstichtag() {\n             return stichtag;\n         }\n        \n\n        public void setstichtag(LocalDate stichtag) {\n              this.stichtag = stichtag;\n           }\n\n         \n         public String getrefstreet() {\n             return refstreet;\n         }\n         \n         public void setrefstreet(String refstreet) {\n              this.refstreet = refstreet;\n           }\n         \n         public String gethnr() {\n             return hnr;\n         }\n         \n         public void sethnr(String hnr) {\n              this.hnr = hnr;\n           }\n         \n         public String getstreet() {\n             return street;\n         }\n         \n         public void setstreet(String street) {\n              this.street = street;\n           }\n         \n         public String getcity() {\n             return city;\n         }\n         \n         public void setcity(String city) {\n              this.city = city;\n           }\n         \n         public String getzipcode() {\n             return zipcode;\n         }\n         \n         public void setzipcode(String zipcode) {\n              this.zipcode = zipcode;\n           }\n         \n         public Integer getobjecttypeId() {\n             return objecttypeId;\n         }\n         \n         public void setobjecttype_id(Integer objecttypeId) {\n              this.objecttypeId = objecttypeId;\n           }\n         \n         public String getclient_id() {\n             return client_id;\n         }\n         \n         public void setclient_id(String client_id) {\n              this.client_id = client_id;\n           }\n         \n         public BigInteger getvaluation_id() {\n             return valuation_id;\n         }\n         \n         public void setvaluation_id(BigInteger valuation_id) {\n              this.valuation_id = valuation_id;\n           }\n         \n         public UUID getuid() {\n             return uid;\n         }\n         \n         public void setuid(UUID uid) {\n              this.uid = uid;\n           }\n         \n         public Integer getID() {\n             return ID;\n         }\n         \n         public void setID(Integer ID) {\n              this.ID = ID;\n           }\n        \n        \n            \n            \n        }\n\n\n\n\n</code></pre>\n<p>Trigger.class</p>\n<pre><code>package de.cibplus.cibplusngvdpGKZ.Model;\n\nimport java.util.UUID;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\n\n@Setter\n@Getter\n@ToString\n@Entity\n@Table(name= &quot;T_CIB_CIBp_uid&quot;)\npublic class GKZtrigger {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;ID&quot;)\n    private Integer ID;\n \n    \n    @Column(name=&quot;uid&quot;)\n    private UUID uid;\n    \n    public UUID getuid() {\n         return uid;\n     }\n     \n     public void setuid(UUID uid) {\n          this.uid = uid;\n       }\n\n    public Integer getID() {\n        return ID;\n    }\n\n    public void setID(Integer iD) {\n        ID = iD;\n    }\n\n}\n\n\n\n</code></pre>\n<p>Service.class</p>\n<pre><code>package de.cibplus.cibplusngvdpGKZ.Service;\n\nimport java.util.List;\nimport java.util.UUID;\n\nimport org.springframework.stereotype.Service;\n\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZ;\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZtrigger;\n\n\n\npublic interface GKZService {\n    \n    \n\n    GKZ saveGKZ(GKZ GKZ);\n    \n    \n}\n\n</code></pre>\n<p>ServiceImplementation.class</p>\n<pre><code>package de.cibplus.cibplusngvdpGKZ.Service;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.UUID;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\n\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZ;\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZtrigger;\n\nimport de.cibplus.cibplusngvdpGKZ.Repository.GKZInputRepository;\nimport de.cibplus.cibplusngvdpGKZ.Repository.GKZTriggerRepository;\n\nimport de.cibplus.cibplusngvdpGKZ.Service.*;\n\n\n@Service\npublic class GKZServiceImpl implements GKZService {\n    \n    \n    @Autowired\n    private GKZInputRepository gRepository;\n    \n    \n    \n    @Override\n    public GKZ saveGKZ(GKZ GKZ) {\n\n        //Generate random UUID\n        UUID uuid=UUID.randomUUID();  \n        GKZ.setuid(uuid);\n        \n        gRepository.save(GKZ);\n        \n        return GKZ;\n        \n    }\n    \n    \n    }\n    \n\n\n\n</code></pre>\n"},{"tags":["java","android","amazon-web-services","aws-api-gateway","aws-sdk-android"],"answers":[{"tags":[],"owner":{"account_id":27944791,"reputation":36,"user_id":21340014,"display_name":"The bug"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681462160,"creation_date":1681462160,"answer_id":76013197,"question_id":76012698,"body_markdown":"In summary, you need to override the toString() method in your Resultur and Output classes, and use output.getOutput().toString() when displaying the toast message. For learning how to use the AWS API SDK for Android, you can refer to the https://aws-amplify.github.io/aws-sdk-android/docs/reference/","title":"How to get value from aws api gateway to android studio (java)","body":"<p>In summary, you need to override the toString() method in your Resultur and Output classes, and use output.getOutput().toString() when displaying the toast message. For learning how to use the AWS API SDK for Android, you can refer to the <a href=\"https://aws-amplify.github.io/aws-sdk-android/docs/reference/\" rel=\"nofollow noreferrer\">https://aws-amplify.github.io/aws-sdk-android/docs/reference/</a></p>\n"}],"owner":{"reputation":3,"user_id":21640645,"display_name":"bernard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76013197,"answer_count":1,"score":0,"last_activity_date":1681462160,"creation_date":1681458384,"question_id":76012698,"body_markdown":"I dont understand why my output received by my android app from api gateway is like this dummypackage.model.Resultur@d0cce8e and not in string or json. how can i get some readable data?\r\n\r\nI set up a dummy lambda function that sends a response \r\n```\r\n    return {\r\n        statusCode: 200,\r\n        headers: {\r\n            &quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;\r\n        },\r\n        body:1\r\n    }\r\n```\r\nwhen the api get method is called.\r\n\r\nThis is the model that i set up in the response body of my method response: \r\n```\r\n{\r\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\r\n    &quot;type&quot;:&quot;object&quot;,\r\n    &quot;properties&quot;:{\r\n        &quot;output&quot;:{\r\n            &quot;$ref&quot;: &quot;https://apigateway.amazonaws.com/restapis/3pzxzxz27/models/Output&quot;\r\n \r\n        }\r\n    },\r\n    &quot;title&quot;:&quot;Result&quot;\r\n}\r\n```\r\n\r\nThe output model is \r\n\r\n```\r\n{\r\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\r\n    &quot;type&quot;:&quot;object&quot;,\r\n    &quot;properties&quot;:{\r\n        &quot;output&quot;:{\r\n            &quot;$ref&quot;: &quot;https://apigateway.amazonaws.com/restapis/3pvgc7ic27/models/Output&quot;\r\n \r\n        }\r\n    },\r\n    &quot;title&quot;:&quot;Result&quot;\r\n}\r\n```\r\n\r\nThe &quot;resultur&quot; class that is made in the sdk is:\r\n\r\n\r\n```\r\n// Source code recreated from a .class file by IntelliJ IDEA\r\n// (powered by FernFlower decompiler)\r\n//\r\n\r\npackage dummypackage.model;\r\n\r\nimport com.google.gson.annotations.SerializedName;\r\n\r\npublic class Resultur {\r\n    @SerializedName(&quot;output&quot;)\r\n    private Output output = null;\r\n\r\n    public Resultur() {\r\n    }\r\n\r\n    public Output getOutput() {\r\n        return this.output;\r\n    }\r\n\r\n    public void setOutput(Output output) {\r\n        this.output = output;\r\n    }\r\n}\r\n```\r\n\r\nAnd the &#39;output&#39; class is this:\r\n\r\n```\r\n//\r\n// Source code recreated from a .class file by IntelliJ IDEA\r\n// (powered by FernFlower decompiler)\r\n//\r\n\r\npackage dummypackage.model;\r\n\r\nimport com.google.gson.annotations.SerializedName;\r\nimport java.math.BigDecimal;\r\n\r\npublic class Output {\r\n    @SerializedName(&quot;Output&quot;)\r\n    private BigDecimal output = null;\r\n\r\n    public Output() {\r\n    }\r\n\r\n    public BigDecimal getOutput() {\r\n        return this.output;\r\n    }\r\n\r\n    public void setOutput(BigDecimal output) {\r\n        this.output = output;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI used this code in my main activity to get my output:\r\n\r\n```\r\npackage com.example.apiapplication3;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.amazonaws.mobileconnectors.apigateway.ApiClientFactory;\r\n\r\nimport org.json.JSONObject;\r\n\r\nimport dummypackage.DummyapiClient;\r\nimport dummypackage.model.Resultur;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button button;\r\n\r\n    TextView textView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        ApiClientFactory factory = new ApiClientFactory();\r\n        final DummyapiClient client = factory.build(DummyapiClient.class);\r\n        button = findViewById(R.id.button);\r\n\r\n        String values;\r\n\r\n\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Thread thread = new Thread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        try  {\r\n                          Resultur output = client.messageGet();\r\n\r\n\r\n                         \r\n                            runOnUiThread(new Runnable() {\r\n                                public void run() {\r\n                                    Toast.makeText(MainActivity.this, output, Toast.LENGTH_SHORT).show(); // Display the value in a Toast message\r\n\r\n                                }\r\n                            });\r\n//                          Log.w(&quot;output&quot;, &quot;s&quot; + output);\r\n\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                });\r\n                thread.start();\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\nWhat am i doing wrong? also what are some good places to learn how to use aws api sdk for android? (i followed all instructions of aws documentation but still got stuck)\r\n","title":"How to get value from aws api gateway to android studio (java)","body":"<p>I dont understand why my output received by my android app from api gateway is like this dummypackage.model.Resultur@d0cce8e and not in string or json. how can i get some readable data?</p>\n<p>I set up a dummy lambda function that sends a response</p>\n<pre><code>    return {\n        statusCode: 200,\n        headers: {\n            &quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;\n        },\n        body:1\n    }\n</code></pre>\n<p>when the api get method is called.</p>\n<p>This is the model that i set up in the response body of my method response:</p>\n<pre><code>{\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\n    &quot;type&quot;:&quot;object&quot;,\n    &quot;properties&quot;:{\n        &quot;output&quot;:{\n            &quot;$ref&quot;: &quot;https://apigateway.amazonaws.com/restapis/3pzxzxz27/models/Output&quot;\n \n        }\n    },\n    &quot;title&quot;:&quot;Result&quot;\n}\n</code></pre>\n<p>The output model is</p>\n<pre><code>{\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\n    &quot;type&quot;:&quot;object&quot;,\n    &quot;properties&quot;:{\n        &quot;output&quot;:{\n            &quot;$ref&quot;: &quot;https://apigateway.amazonaws.com/restapis/3pvgc7ic27/models/Output&quot;\n \n        }\n    },\n    &quot;title&quot;:&quot;Result&quot;\n}\n</code></pre>\n<p>The &quot;resultur&quot; class that is made in the sdk is:</p>\n<pre><code>// Source code recreated from a .class file by IntelliJ IDEA\n// (powered by FernFlower decompiler)\n//\n\npackage dummypackage.model;\n\nimport com.google.gson.annotations.SerializedName;\n\npublic class Resultur {\n    @SerializedName(&quot;output&quot;)\n    private Output output = null;\n\n    public Resultur() {\n    }\n\n    public Output getOutput() {\n        return this.output;\n    }\n\n    public void setOutput(Output output) {\n        this.output = output;\n    }\n}\n</code></pre>\n<p>And the 'output' class is this:</p>\n<pre><code>//\n// Source code recreated from a .class file by IntelliJ IDEA\n// (powered by FernFlower decompiler)\n//\n\npackage dummypackage.model;\n\nimport com.google.gson.annotations.SerializedName;\nimport java.math.BigDecimal;\n\npublic class Output {\n    @SerializedName(&quot;Output&quot;)\n    private BigDecimal output = null;\n\n    public Output() {\n    }\n\n    public BigDecimal getOutput() {\n        return this.output;\n    }\n\n    public void setOutput(BigDecimal output) {\n        this.output = output;\n    }\n}\n\n</code></pre>\n<p>I used this code in my main activity to get my output:</p>\n<pre><code>package com.example.apiapplication3;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.amazonaws.mobileconnectors.apigateway.ApiClientFactory;\n\nimport org.json.JSONObject;\n\nimport dummypackage.DummyapiClient;\nimport dummypackage.model.Resultur;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button button;\n\n    TextView textView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ApiClientFactory factory = new ApiClientFactory();\n        final DummyapiClient client = factory.build(DummyapiClient.class);\n        button = findViewById(R.id.button);\n\n        String values;\n\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Thread thread = new Thread(new Runnable() {\n                    @Override\n                    public void run() {\n                        try  {\n                          Resultur output = client.messageGet();\n\n\n                         \n                            runOnUiThread(new Runnable() {\n                                public void run() {\n                                    Toast.makeText(MainActivity.this, output, Toast.LENGTH_SHORT).show(); // Display the value in a Toast message\n\n                                }\n                            });\n//                          Log.w(&quot;output&quot;, &quot;s&quot; + output);\n\n                        } catch (Exception e) {\n                            e.printStackTrace();\n                        }\n                    }\n                });\n                thread.start();\n\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>What am i doing wrong? also what are some good places to learn how to use aws api sdk for android? (i followed all instructions of aws documentation but still got stuck)</p>\n"},{"tags":["java","maven","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":5393847,"reputation":1510,"user_id":4295595,"display_name":"Avinash Pande"},"down_vote_count":1,"up_vote_count":40,"is_accepted":true,"score":39,"last_activity_date":1514103001,"creation_date":1514103001,"answer_id":47959075,"question_id":42206440,"body_markdown":"    **Please add following dependencies in your project.**\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;version&gt;23.6-jre&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n        &lt;version&gt;4.4.8&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument","body":"<pre><code>**Please add following dependencies in your project.**\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;23.6-jre&lt;/version&gt;\n&lt;/dependency&gt; \n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n    &lt;version&gt;4.4.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19329,"reputation":8300,"user_id":45207,"accept_rate":75,"display_name":"LaserJesus"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1657544723,"creation_date":1657480427,"answer_id":72931205,"question_id":42206440,"body_markdown":"For anyone else getting this error on EMR. In order to use the s3a address system for S3 files I needed the S3aFileSystem Jar which didn&#39;t seem to be available on the EMR 6.7, Hadoop 3.2.1 cluster - otherwise I received the error `Class org.apache.hadoop.fs.s3a.S3AFileSystem not found`. To fix this I included `--packages org.apache.hadoop:hadoop-aws:3.2.1` in the spark-submit arguments. Then I started getting the error noted in the OP&#39;s question. Downgrading to 3.2.0 fixed this problem, but then I hit another bug; `NoSuchMethodError: SemaphoredDelegatingExecutor while writing files to S3`. I solved this problem by upgrading instead to 3.2.2: `--packages org.apache.hadoop:hadoop-aws:3.2.2`. Then I was able to read and write to S3a adresses with EMR 6.7","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument","body":"<p>For anyone else getting this error on EMR. In order to use the s3a address system for S3 files I needed the S3aFileSystem Jar which didn't seem to be available on the EMR 6.7, Hadoop 3.2.1 cluster - otherwise I received the error <code>Class org.apache.hadoop.fs.s3a.S3AFileSystem not found</code>. To fix this I included <code>--packages org.apache.hadoop:hadoop-aws:3.2.1</code> in the spark-submit arguments. Then I started getting the error noted in the OP's question. Downgrading to 3.2.0 fixed this problem, but then I hit another bug; <code>NoSuchMethodError: SemaphoredDelegatingExecutor while writing files to S3</code>. I solved this problem by upgrading instead to 3.2.2: <code>--packages org.apache.hadoop:hadoop-aws:3.2.2</code>. Then I was able to read and write to S3a adresses with EMR 6.7</p>\n"},{"tags":[],"owner":{"account_id":14866300,"reputation":251,"user_id":10735302,"display_name":"Jonas Ferreira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658337378,"creation_date":1658337378,"answer_id":73055743,"question_id":42206440,"body_markdown":"I had this issue while trying to read a file from an S3 bucket using apache spark (PySpark). I&#39;m using spark 3.3.0 downloaded and installed by brew on MacOS.\r\n\r\nI solved my problem updating some jars on my spark jars folder, like @irukeru said in the comment above.\r\n\r\nList of jars that a have updated:\r\n\r\n- [com.google.inject.guice - v4.2.2](https://mvnrepository.com/artifact/com.google.inject/guice/4.2.2)\r\n- [com.google.inject.extensions.guice-servlet - v4.2.2](https://mvnrepository.com/artifact/com.google.inject.extensions/guice-servlet/4.2.2)\r\n- [com.google.guava.guava - v31.1-jre](https://repo1.maven.org/maven2/com/google/guava/guava/31.1-jre/)\r\n- [org.apache.httpcomponents.httpcore - v.4.4.15](https://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore/4.4.15) \r\n\r\nJust download and copy this new jars to your spark folder, in my case, it was `/usr/local/Cellar/apache-spark/3.3.0/libexec/jars`\r\n","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument","body":"<p>I had this issue while trying to read a file from an S3 bucket using apache spark (PySpark). I'm using spark 3.3.0 downloaded and installed by brew on MacOS.</p>\n<p>I solved my problem updating some jars on my spark jars folder, like @irukeru said in the comment above.</p>\n<p>List of jars that a have updated:</p>\n<ul>\n<li><a href=\"https://mvnrepository.com/artifact/com.google.inject/guice/4.2.2\" rel=\"nofollow noreferrer\">com.google.inject.guice - v4.2.2</a></li>\n<li><a href=\"https://mvnrepository.com/artifact/com.google.inject.extensions/guice-servlet/4.2.2\" rel=\"nofollow noreferrer\">com.google.inject.extensions.guice-servlet - v4.2.2</a></li>\n<li><a href=\"https://repo1.maven.org/maven2/com/google/guava/guava/31.1-jre/\" rel=\"nofollow noreferrer\">com.google.guava.guava - v31.1-jre</a></li>\n<li><a href=\"https://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore/4.4.15\" rel=\"nofollow noreferrer\">org.apache.httpcomponents.httpcore - v.4.4.15</a></li>\n</ul>\n<p>Just download and copy this new jars to your spark folder, in my case, it was <code>/usr/local/Cellar/apache-spark/3.3.0/libexec/jars</code></p>\n"},{"tags":[],"owner":{"account_id":3600820,"reputation":774,"user_id":3004162,"accept_rate":29,"display_name":"ciurlaro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681462123,"creation_date":1681462123,"answer_id":76013193,"question_id":42206440,"body_markdown":"With pyspark 3.3.0, the following combination of versions worked for me:\r\n\r\n```python\r\npackages = [\r\n    f&#39;org.apache.hadoop:hadoop-aws:3.3.1&#39;,\r\n    &#39;com.google.guava:guava:30.1.1-jre&#39;,\r\n    &#39;org.apache.httpcomponents:httpcore:4.4.14&#39;, \r\n    &#39;com.google.inject:guice:4.2.2&#39;, \r\n    &#39;com.google.inject.extensions:guice-servlet:4.2.2&#39;\r\n]\r\n\r\nconf = SparkConf().setAll([\r\n    (&#39;spark.jars.packages&#39;, &#39;,&#39;.join(packages)),\r\n    ...\r\n])\r\n\r\nspark = SparkSession.builder.config(conf=conf).getOrCreate()\r\n```\r\n\r\n**PS:** this is the preferred way of installing jar packages in Spark","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument","body":"<p>With pyspark 3.3.0, the following combination of versions worked for me:</p>\n<pre class=\"lang-py prettyprint-override\"><code>packages = [\n    f'org.apache.hadoop:hadoop-aws:3.3.1',\n    'com.google.guava:guava:30.1.1-jre',\n    'org.apache.httpcomponents:httpcore:4.4.14', \n    'com.google.inject:guice:4.2.2', \n    'com.google.inject.extensions:guice-servlet:4.2.2'\n]\n\nconf = SparkConf().setAll([\n    ('spark.jars.packages', ','.join(packages)),\n    ...\n])\n\nspark = SparkSession.builder.config(conf=conf).getOrCreate()\n</code></pre>\n<p><strong>PS:</strong> this is the preferred way of installing jar packages in Spark</p>\n"}],"owner":{"account_id":2448780,"reputation":5133,"user_id":2135526,"accept_rate":46,"display_name":"Naresh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55775,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":47959075,"answer_count":4,"score":39,"last_activity_date":1681462123,"creation_date":1486996060,"question_id":42206440,"body_markdown":"I am trying to run this [grpc-Java][1] example on my local. Corresponding proto file for the same is [here][2]. When i try to run in on local it throws the following exception from [here][3] :\r\n\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V\r\n    \tat io.grpc.ServiceDescriptor.validateMethodNames(ServiceDescriptor.java:129)\r\n    \tat io.grpc.ServiceDescriptor.&lt;init&gt;(ServiceDescriptor.java:83)\r\n    \tat io.grpc.ServiceDescriptor.&lt;init&gt;(ServiceDescriptor.java:51)\r\n    \tat io.grpc.ServiceDescriptor$Builder.build(ServiceDescriptor.java:219)\r\n    \tat io.grpc.examples.helloworld.GreeterGrpc.getServiceDescriptor(GreeterGrpc.java:251)\r\n    \tat io.grpc.examples.helloworld.GreeterGrpc$GreeterImplBase.bindService(GreeterGrpc.java:84)\r\n    \tat io.grpc.internal.AbstractServerImplBuilder.addService(AbstractServerImplBuilder.java:125)\r\n    \tat io.grpc.internal.AbstractServerImplBuilder.addService(AbstractServerImplBuilder.java:63)\r\n    \tat com.cw.predictive.HelloWorldServer.start(HelloWorldServer.java:56)\r\n    \tat com.cw.predictive.HelloWorldServer.main(HelloWorldServer.java:92)\r\n\r\n\r\nThis is my pom.xml as mentioned [here][4] :\r\n\r\n \r\n\r\n  \r\n\r\n     &lt;dependencies&gt;\r\n             &lt;dependency&gt;\r\n              &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n              &lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\r\n              &lt;version&gt;1.1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.2&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        \r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.2&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\n\r\n  [1]: https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/helloworld/HelloWorldServer.java\r\n  [2]: https://github.com/grpc/grpc-java/blob/master/examples/src/main/proto/helloworld.proto\r\n  [3]: https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/helloworld/HelloWorldServer.java#L52\r\n  [4]: https://github.com/grpc/grpc-java","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument","body":"<p>I am trying to run this <a href=\"https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/helloworld/HelloWorldServer.java\" rel=\"noreferrer\">grpc-Java</a> example on my local. Corresponding proto file for the same is <a href=\"https://github.com/grpc/grpc-java/blob/master/examples/src/main/proto/helloworld.proto\" rel=\"noreferrer\">here</a>. When i try to run in on local it throws the following exception from <a href=\"https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/helloworld/HelloWorldServer.java#L52\" rel=\"noreferrer\">here</a> :</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V\n    at io.grpc.ServiceDescriptor.validateMethodNames(ServiceDescriptor.java:129)\n    at io.grpc.ServiceDescriptor.&lt;init&gt;(ServiceDescriptor.java:83)\n    at io.grpc.ServiceDescriptor.&lt;init&gt;(ServiceDescriptor.java:51)\n    at io.grpc.ServiceDescriptor$Builder.build(ServiceDescriptor.java:219)\n    at io.grpc.examples.helloworld.GreeterGrpc.getServiceDescriptor(GreeterGrpc.java:251)\n    at io.grpc.examples.helloworld.GreeterGrpc$GreeterImplBase.bindService(GreeterGrpc.java:84)\n    at io.grpc.internal.AbstractServerImplBuilder.addService(AbstractServerImplBuilder.java:125)\n    at io.grpc.internal.AbstractServerImplBuilder.addService(AbstractServerImplBuilder.java:63)\n    at com.cw.predictive.HelloWorldServer.start(HelloWorldServer.java:56)\n    at com.cw.predictive.HelloWorldServer.main(HelloWorldServer.java:92)\n</code></pre>\n\n<p>This is my pom.xml as mentioned <a href=\"https://github.com/grpc/grpc-java\" rel=\"noreferrer\">here</a> :</p>\n\n<pre><code> &lt;dependencies&gt;\n         &lt;dependency&gt;\n          &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n          &lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\n          &lt;version&gt;1.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n      &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","liquibase"],"answers":[{"tags":[],"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681461935,"creation_date":1681461935,"answer_id":76013171,"question_id":76011185,"body_markdown":"In intellij try to right click on your `db.changelog-master.xml` and copy path/reference. You will see then that it&#39;s `db/changelog/db.changelog-master.xml` and not `db.changelog/db.changelog-master.xml` (see the difference in directory separators)","title":"File db.changelog-master.xml was not found","body":"<p>In intellij try to right click on your <code>db.changelog-master.xml</code> and copy path/reference. You will see then that it's <code>db/changelog/db.changelog-master.xml</code> and not <code>db.changelog/db.changelog-master.xml</code> (see the difference in directory separators)</p>\n"}],"owner":{"account_id":7407752,"reputation":157,"user_id":5636168,"accept_rate":33,"display_name":"5frags"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681461935,"creation_date":1681439553,"question_id":76011185,"body_markdown":"I&#39;m working with springboot 3.0.5 and I want to use liquibase, but the file changelog-master was not found, below I left my files and configurations.\r\nMy application.yml\r\n\r\n    spring:\r\n      liquibase:\r\n        enabled: true\r\n        change-log: classpath:db.changelog/db.changelog-master.xml\r\n      graphql:\r\n        graphiql:\r\n          enabled: true\r\n        schema:\r\n          locations: classpath:*graphqls\r\n      r2dbc:\r\n        url: r2dbc:postgresql://localhost:3539/library-service\r\n        username: library-user\r\n        password: m4Passrdwo000--\r\n        pool:\r\n          enabled: true\r\n          initial-size: 1\r\n          max-size: 10\r\n    \r\n    logging:\r\n      level:\r\n        liquibase: INFO\r\nHere my configuration classes\r\n\r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    \r\n    @ConfigurationProperties(&quot;spring.liquibase&quot;)\r\n    public class R2dbcLiquibaseProperties {\r\n    \r\n        private boolean enabled = true;\r\n        private String changeLog = &quot;&quot;;\r\n    \r\n        public R2dbcLiquibaseProperties(boolean enabled, String changeLog) {\r\n            this.enabled = enabled;\r\n            this.changeLog = changeLog;\r\n        }\r\n    \r\n        public boolean isEnabled() {\r\n            return enabled;\r\n        }\r\n    \r\n        public String getChangeLog() {\r\n            return changeLog;\r\n        }\r\n    }\r\n\r\nAnother class configuration\r\n\r\n    import org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    @EnableConfigurationProperties(R2dbcLiquibaseProperties.class)\r\n    public class R2dbcLiquibasePropertiesConfig {\r\n    }\r\n\r\nOne more class configuration\r\n\r\n    import liquibase.Contexts;\r\n    import liquibase.LabelExpression;\r\n    import liquibase.Liquibase;\r\n    import liquibase.database.Database;\r\n    import liquibase.database.DatabaseFactory;\r\n    import liquibase.database.jvm.JdbcConnection;\r\n    import liquibase.exception.DatabaseException;\r\n    import liquibase.resource.ClassLoaderResourceAccessor;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.boot.ApplicationRunner;\r\n    import org.springframework.boot.autoconfigure.AutoConfigureAfter;\r\n    import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\r\n    import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\r\n    import org.springframework.boot.autoconfigure.r2dbc.R2dbcAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.r2dbc.R2dbcProperties;\r\n    import org.springframework.boot.jdbc.DataSourceBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.io.ResourceLoader;\r\n    \r\n    import javax.sql.DataSource;\r\n    import java.sql.SQLException;\r\n    \r\n    @Configuration\r\n    @ConditionalOnProperty(\r\n            prefix = &quot;spring.liquibase&quot;,\r\n            name = &quot;enabled&quot;,\r\n            havingValue = &quot;true&quot;,\r\n            matchIfMissing = true\r\n    )\r\n    @AutoConfigureAfter(R2dbcAutoConfiguration.class)\r\n    @ComponentScan(basePackageClasses = R2dbcProperties.class)\r\n    public class R2dbcLiquibaseConfig {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(R2dbcLiquibaseConfig.class);\r\n        private final R2dbcLiquibaseProperties properties;\r\n    \r\n        public R2dbcLiquibaseConfig(R2dbcLiquibaseProperties properties) {\r\n            this.properties = properties;\r\n        }\r\n    \r\n        @Bean\r\n        @ConditionalOnMissingBean\r\n        public ClassLoaderResourceAccessor r2dbcLiquibaseResourceAccessor(ResourceLoader resourceLoader) {\r\n            return new ClassLoaderResourceAccessor(resourceLoader.getClassLoader());\r\n        }\r\n    \r\n        @Bean\r\n        @ConditionalOnMissingBean\r\n        public DataSource r2dbcLiquibaseDataSource(R2dbcProperties r2dbcProperties) {\r\n            return DataSourceBuilder.create()\r\n                    .url(r2dbcProperties.getUrl().replaceFirst(&quot;r2dbc:pool&quot;, &quot;jdbc:&quot;)\r\n                            .replaceFirst(&quot;r2dbc:&quot;, &quot;jdbc:&quot;))\r\n                    .username(r2dbcProperties.getUsername())\r\n                    .password(r2dbcProperties.getPassword())\r\n                    .build();\r\n        }\r\n    \r\n        @ConditionalOnMissingBean\r\n        @Bean(destroyMethod = &quot;close&quot;)\r\n        public JdbcConnection r2dbcLiquibaseJdbcConnection(DataSource r2dbcLiquibaseDataSource) throws SQLException {\r\n            return new JdbcConnection(r2dbcLiquibaseDataSource.getConnection());\r\n        }\r\n    \r\n        @ConditionalOnMissingBean\r\n        @Bean(destroyMethod = &quot;close&quot;)\r\n        public Database r2dbcLiquibaseDatabase(JdbcConnection r2dbcLiquibaseJdbcConnection) throws DatabaseException {\r\n            return DatabaseFactory.getInstance().findCorrectDatabaseImplementation(r2dbcLiquibaseJdbcConnection);\r\n        }\r\n    \r\n        @Bean\r\n        @ConditionalOnMissingBean\r\n        public ApplicationRunner r2dbcLiquibaseDatabaseInitialization(ClassLoaderResourceAccessor clr, Database db) {\r\n            log.info(&quot;changelog {}&quot;, properties.getChangeLog());\r\n            return args -&gt; {Liquibase liquibase = new Liquibase(properties.getChangeLog(), clr, db);\r\n                log.info(&quot;R2DBC liquibase database initialized by {}&quot;,liquibase.getChangeLogFile());\r\n                liquibase.update(new Contexts(), new LabelExpression(), true);\r\n            };\r\n        }\r\n    }\r\n\r\nMy build.gradle\r\n\r\n    plugins {\r\n    \tjava\r\n    \tid(&quot;org.springframework.boot&quot;) version &quot;3.0.5&quot;\r\n    \tid(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\r\n    \tid(&quot;org.graalvm.buildtools.native&quot;) version &quot;0.9.20&quot;\r\n    }\r\n    \r\n    group = &quot;org.abahafart.library&quot;\r\n    version = &quot;0.0.1-SNAPSHOT&quot;\r\n    java.sourceCompatibility = JavaVersion.VERSION_17\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom(configurations.annotationProcessor.get())\r\n    \t}\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    extra[&quot;springCloudVersion&quot;] = &quot;2022.0.2&quot;\r\n    extra[&quot;testcontainersVersion&quot;] = &quot;1.17.6&quot;\r\n    \r\n    dependencies {\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-jdbc&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    \timplementation(&quot;org.liquibase:liquibase-core&quot;)\r\n    \timplementation(&quot;org.springframework.cloud:spring-cloud-starter-circuitbreaker-resilience4j&quot;)\r\n    \timplementation(&quot;org.springframework.data:spring-data-r2dbc&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-autoconfigure&quot;)\r\n    \timplementation(&quot;io.r2dbc:r2dbc-postgresql:0.8.13.RELEASE&quot;)\r\n    \truntimeOnly(&quot;org.postgresql:postgresql&quot;)\r\n    \timplementation(&quot;io.r2dbc:r2dbc-pool:1.0.0.RELEASE&quot;)\r\n    \tannotationProcessor(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\r\n    \ttestImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n    \ttestImplementation(&quot;org.testcontainers:junit-jupiter&quot;)\r\n    \ttestImplementation(&quot;org.testcontainers:postgresql&quot;)\r\n    }\r\n    \r\n    dependencyManagement {\r\n    \timports {\r\n    \t\tmavenBom(&quot;org.testcontainers:testcontainers-bom:${property(&quot;testcontainersVersion&quot;)}&quot;)\r\n    \t\tmavenBom(&quot;org.springframework.cloud:spring-cloud-dependencies:${property(&quot;springCloudVersion&quot;)}&quot;)\r\n    \t}\r\n    }\r\n    \r\n    tasks.withType&lt;Test&gt; {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\nMy db.changelog-master\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;databaseChangeLog\r\n            xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd&quot;&gt;\r\n    \r\n        &lt;property name=&quot;now&quot; value=&quot;now()&quot; dbms=&quot;h2&quot;/&gt;\r\n        &lt;property name=&quot;now&quot; value=&quot;current_timestamp&quot; dbms=&quot;postgresql&quot;/&gt;\r\n        &lt;property name=&quot;floatType&quot; value=&quot;float4&quot; dbms=&quot;postgresql, h2&quot;/&gt;\r\n        &lt;property name=&quot;floatType&quot; value=&quot;float&quot; dbms=&quot;mysql, oracle, mssql, mariadb&quot;/&gt;\r\n        &lt;property name=&quot;clobType&quot; value=&quot;longvarchar&quot; dbms=&quot;h2&quot;/&gt;\r\n        &lt;property name=&quot;clobType&quot; value=&quot;clob&quot; dbms=&quot;mysql, oracle, mssql, mariadb, postgresql&quot;/&gt;\r\n        &lt;property name=&quot;uuidType&quot; value=&quot;uuid&quot; dbms=&quot;h2, postgresql&quot;/&gt;\r\n        &lt;property name=&quot;datetimeType&quot; value=&quot;datetime(6)&quot; dbms=&quot;mysql, mariadb&quot;/&gt;\r\n        &lt;property name=&quot;datetimeType&quot; value=&quot;datetime&quot; dbms=&quot;oracle, mssql, postgresql, h2&quot;/&gt;\r\n        &lt;property name=&quot;u_id&quot; value=&quot;uuid()&quot; dbms=&quot;mysql&quot;/&gt;\r\n        &lt;include file=&quot;db.changelog/changelogs/master.xml&quot;/&gt;\r\n    &lt;/databaseChangeLog&gt;\r\n\r\nMy structure project\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd finally my stacktrace problem\r\n\r\n    2023-04-13T21:14:17.095-05:00  INFO 6210 --- [           main] o.a.l.LibraryMicroserviceApplication     : Starting LibraryMicroserviceApplication using Java 17.0.5 with PID 6210 (/home/user/Documents/workspace/intellij/microservices/library-service/build/classes/java/main started by abahafart in /home/user/Documents/workspace/intellij/microservices/library-service)\r\n    2023-04-13T21:14:17.098-05:00  INFO 6210 --- [           main] o.a.l.LibraryMicroserviceApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-04-13T21:14:17.481-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n    2023-04-13T21:14:17.482-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\r\n    2023-04-13T21:14:17.495-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 R2DBC repository interfaces.\r\n    2023-04-13T21:14:17.676-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n    2023-04-13T21:14:17.677-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2023-04-13T21:14:17.687-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.\r\n    2023-04-13T21:14:17.696-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n    2023-04-13T21:14:17.696-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\r\n    2023-04-13T21:14:17.699-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 R2DBC repository interfaces.\r\n    2023-04-13T21:14:17.790-05:00  INFO 6210 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=d9c5fd81-b584-3171-a425-65daf771ca31\r\n    2023-04-13T21:14:18.199-05:00  INFO 6210 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2023-04-13T21:14:18.207-05:00  INFO 6210 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-04-13T21:14:18.207-05:00  INFO 6210 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.7]\r\n    2023-04-13T21:14:18.256-05:00  INFO 6210 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-04-13T21:14:18.257-05:00  INFO 6210 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1131 ms\r\n    2023-04-13T21:14:18.419-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2023-04-13T21:14:18.508-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@63e70bf9\r\n    2023-04-13T21:14:18.509-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2023-04-13T21:14:19.011-05:00  INFO 6210 --- [           main] liquibase.database                       : Set default schema name to public\r\n    2023-04-13T21:14:19.050-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully acquired change log lock\r\n    2023-04-13T21:14:19.267-05:00  INFO 6210 --- [           main] liquibase.changelog                      : Reading from public.databasechangelog\r\n    2023-04-13T21:14:19.293-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully released change log lock\r\n    2023-04-13T21:14:19.432-05:00  INFO 6210 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2023-04-13T21:14:19.470-05:00  INFO 6210 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n    2023-04-13T21:14:19.644-05:00  INFO 6210 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n    2023-04-13T21:14:19.785-05:00  INFO 6210 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2023-04-13T21:14:19.790-05:00  INFO 6210 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2023-04-13T21:14:19.836-05:00  INFO 6210 --- [           main] o.a.l.i.repository.R2dbcLiquibaseConfig  : changelog classpath:db.changelog/db.changelog-master.xml\r\n    2023-04-13T21:14:19.866-05:00  WARN 6210 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2023-04-13T21:14:20.855-05:00  INFO 6210 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path &#39;/actuator&#39;\r\n    2023-04-13T21:14:20.919-05:00  INFO 6210 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2023-04-13T21:14:21.362-05:00  INFO 6210 --- [           main] o.a.l.LibraryMicroserviceApplication     : Started LibraryMicroserviceApplication in 4.792 seconds (process running for 5.176)\r\n    2023-04-13T21:14:21.369-05:00  INFO 6210 --- [           main] liquibase.database                       : Set default schema name to public\r\n    2023-04-13T21:14:21.369-05:00  INFO 6210 --- [           main] o.a.l.i.repository.R2dbcLiquibaseConfig  : R2DBC liquibase database initialized by classpath:db.changelog/db.changelog-master.xml\r\n    2023-04-13T21:14:21.388-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully acquired change log lock\r\n    2023-04-13T21:14:21.393-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully released change log lock\r\n    2023-04-13T21:14:21.397-05:00  INFO 6210 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n    \r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-04-13T21:14:21.407-05:00 ERROR 6210 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    java.lang.IllegalStateException: Failed to execute ApplicationRunner\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:763) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:750) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:317) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat org.abahafart.library.LibraryMicroserviceApplication.main(LibraryMicroserviceApplication.java:15) ~[main/:na]\r\n    Caused by: liquibase.exception.ChangeLogParseException: The file classpath:db.changelog/db.changelog-master.xml was not found in the configured search path:\r\n    More locations can be added with the &#39;searchPath&#39; parameter.\r\n    \tat liquibase.parser.core.xml.XMLChangeLogSAXParser.parseToNode(XMLChangeLogSAXParser.java:114) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:15) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:408) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:393) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Liquibase.lambda$update$1(Liquibase.java:249) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Scope.lambda$child$0(Scope.java:180) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Scope.child(Scope.java:189) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Scope.child(Scope.java:179) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Scope.child(Scope.java:158) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Liquibase.runInScope(Liquibase.java:2447) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat org.abahafart.library.infra.repository.R2dbcLiquibaseConfig.lambda$r2dbcLiquibaseDatabaseInitialization$0(R2dbcLiquibaseConfig.java:81) ~[main/:na]\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:760) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \t... 5 common frames omitted\r\n    \r\n    2023-04-13T21:14:21.422-05:00  INFO 6210 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2023-04-13T21:14:21.432-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2023-04-13T21:14:21.435-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n\r\nWhere am I wrong?\r\n  [1]: https://i.stack.imgur.com/jEwnq.png","title":"File db.changelog-master.xml was not found","body":"<p>I'm working with springboot 3.0.5 and I want to use liquibase, but the file changelog-master was not found, below I left my files and configurations.\nMy application.yml</p>\n<pre><code>spring:\n  liquibase:\n    enabled: true\n    change-log: classpath:db.changelog/db.changelog-master.xml\n  graphql:\n    graphiql:\n      enabled: true\n    schema:\n      locations: classpath:*graphqls\n  r2dbc:\n    url: r2dbc:postgresql://localhost:3539/library-service\n    username: library-user\n    password: m4Passrdwo000--\n    pool:\n      enabled: true\n      initial-size: 1\n      max-size: 10\n\nlogging:\n  level:\n    liquibase: INFO\n</code></pre>\n<p>Here my configuration classes</p>\n<pre><code>import org.springframework.boot.context.properties.ConfigurationProperties;\n\n@ConfigurationProperties(&quot;spring.liquibase&quot;)\npublic class R2dbcLiquibaseProperties {\n\n    private boolean enabled = true;\n    private String changeLog = &quot;&quot;;\n\n    public R2dbcLiquibaseProperties(boolean enabled, String changeLog) {\n        this.enabled = enabled;\n        this.changeLog = changeLog;\n    }\n\n    public boolean isEnabled() {\n        return enabled;\n    }\n\n    public String getChangeLog() {\n        return changeLog;\n    }\n}\n</code></pre>\n<p>Another class configuration</p>\n<pre><code>import org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@EnableConfigurationProperties(R2dbcLiquibaseProperties.class)\npublic class R2dbcLiquibasePropertiesConfig {\n}\n</code></pre>\n<p>One more class configuration</p>\n<pre><code>import liquibase.Contexts;\nimport liquibase.LabelExpression;\nimport liquibase.Liquibase;\nimport liquibase.database.Database;\nimport liquibase.database.DatabaseFactory;\nimport liquibase.database.jvm.JdbcConnection;\nimport liquibase.exception.DatabaseException;\nimport liquibase.resource.ClassLoaderResourceAccessor;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.ApplicationRunner;\nimport org.springframework.boot.autoconfigure.AutoConfigureAfter;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\nimport org.springframework.boot.autoconfigure.r2dbc.R2dbcAutoConfiguration;\nimport org.springframework.boot.autoconfigure.r2dbc.R2dbcProperties;\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.ResourceLoader;\n\nimport javax.sql.DataSource;\nimport java.sql.SQLException;\n\n@Configuration\n@ConditionalOnProperty(\n        prefix = &quot;spring.liquibase&quot;,\n        name = &quot;enabled&quot;,\n        havingValue = &quot;true&quot;,\n        matchIfMissing = true\n)\n@AutoConfigureAfter(R2dbcAutoConfiguration.class)\n@ComponentScan(basePackageClasses = R2dbcProperties.class)\npublic class R2dbcLiquibaseConfig {\n\n    private static final Logger log = LoggerFactory.getLogger(R2dbcLiquibaseConfig.class);\n    private final R2dbcLiquibaseProperties properties;\n\n    public R2dbcLiquibaseConfig(R2dbcLiquibaseProperties properties) {\n        this.properties = properties;\n    }\n\n    @Bean\n    @ConditionalOnMissingBean\n    public ClassLoaderResourceAccessor r2dbcLiquibaseResourceAccessor(ResourceLoader resourceLoader) {\n        return new ClassLoaderResourceAccessor(resourceLoader.getClassLoader());\n    }\n\n    @Bean\n    @ConditionalOnMissingBean\n    public DataSource r2dbcLiquibaseDataSource(R2dbcProperties r2dbcProperties) {\n        return DataSourceBuilder.create()\n                .url(r2dbcProperties.getUrl().replaceFirst(&quot;r2dbc:pool&quot;, &quot;jdbc:&quot;)\n                        .replaceFirst(&quot;r2dbc:&quot;, &quot;jdbc:&quot;))\n                .username(r2dbcProperties.getUsername())\n                .password(r2dbcProperties.getPassword())\n                .build();\n    }\n\n    @ConditionalOnMissingBean\n    @Bean(destroyMethod = &quot;close&quot;)\n    public JdbcConnection r2dbcLiquibaseJdbcConnection(DataSource r2dbcLiquibaseDataSource) throws SQLException {\n        return new JdbcConnection(r2dbcLiquibaseDataSource.getConnection());\n    }\n\n    @ConditionalOnMissingBean\n    @Bean(destroyMethod = &quot;close&quot;)\n    public Database r2dbcLiquibaseDatabase(JdbcConnection r2dbcLiquibaseJdbcConnection) throws DatabaseException {\n        return DatabaseFactory.getInstance().findCorrectDatabaseImplementation(r2dbcLiquibaseJdbcConnection);\n    }\n\n    @Bean\n    @ConditionalOnMissingBean\n    public ApplicationRunner r2dbcLiquibaseDatabaseInitialization(ClassLoaderResourceAccessor clr, Database db) {\n        log.info(&quot;changelog {}&quot;, properties.getChangeLog());\n        return args -&gt; {Liquibase liquibase = new Liquibase(properties.getChangeLog(), clr, db);\n            log.info(&quot;R2DBC liquibase database initialized by {}&quot;,liquibase.getChangeLogFile());\n            liquibase.update(new Contexts(), new LabelExpression(), true);\n        };\n    }\n}\n</code></pre>\n<p>My build.gradle</p>\n<pre><code>plugins {\n    java\n    id(&quot;org.springframework.boot&quot;) version &quot;3.0.5&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\n    id(&quot;org.graalvm.buildtools.native&quot;) version &quot;0.9.20&quot;\n}\n\ngroup = &quot;org.abahafart.library&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\njava.sourceCompatibility = JavaVersion.VERSION_17\n\nconfigurations {\n    compileOnly {\n        extendsFrom(configurations.annotationProcessor.get())\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\nextra[&quot;springCloudVersion&quot;] = &quot;2022.0.2&quot;\nextra[&quot;testcontainersVersion&quot;] = &quot;1.17.6&quot;\n\ndependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-jdbc&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation(&quot;org.liquibase:liquibase-core&quot;)\n    implementation(&quot;org.springframework.cloud:spring-cloud-starter-circuitbreaker-resilience4j&quot;)\n    implementation(&quot;org.springframework.data:spring-data-r2dbc&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-autoconfigure&quot;)\n    implementation(&quot;io.r2dbc:r2dbc-postgresql:0.8.13.RELEASE&quot;)\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n    implementation(&quot;io.r2dbc:r2dbc-pool:1.0.0.RELEASE&quot;)\n    annotationProcessor(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n    testImplementation(&quot;org.testcontainers:junit-jupiter&quot;)\n    testImplementation(&quot;org.testcontainers:postgresql&quot;)\n}\n\ndependencyManagement {\n    imports {\n        mavenBom(&quot;org.testcontainers:testcontainers-bom:${property(&quot;testcontainersVersion&quot;)}&quot;)\n        mavenBom(&quot;org.springframework.cloud:spring-cloud-dependencies:${property(&quot;springCloudVersion&quot;)}&quot;)\n    }\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>My db.changelog-master</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;databaseChangeLog\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd&quot;&gt;\n\n    &lt;property name=&quot;now&quot; value=&quot;now()&quot; dbms=&quot;h2&quot;/&gt;\n    &lt;property name=&quot;now&quot; value=&quot;current_timestamp&quot; dbms=&quot;postgresql&quot;/&gt;\n    &lt;property name=&quot;floatType&quot; value=&quot;float4&quot; dbms=&quot;postgresql, h2&quot;/&gt;\n    &lt;property name=&quot;floatType&quot; value=&quot;float&quot; dbms=&quot;mysql, oracle, mssql, mariadb&quot;/&gt;\n    &lt;property name=&quot;clobType&quot; value=&quot;longvarchar&quot; dbms=&quot;h2&quot;/&gt;\n    &lt;property name=&quot;clobType&quot; value=&quot;clob&quot; dbms=&quot;mysql, oracle, mssql, mariadb, postgresql&quot;/&gt;\n    &lt;property name=&quot;uuidType&quot; value=&quot;uuid&quot; dbms=&quot;h2, postgresql&quot;/&gt;\n    &lt;property name=&quot;datetimeType&quot; value=&quot;datetime(6)&quot; dbms=&quot;mysql, mariadb&quot;/&gt;\n    &lt;property name=&quot;datetimeType&quot; value=&quot;datetime&quot; dbms=&quot;oracle, mssql, postgresql, h2&quot;/&gt;\n    &lt;property name=&quot;u_id&quot; value=&quot;uuid()&quot; dbms=&quot;mysql&quot;/&gt;\n    &lt;include file=&quot;db.changelog/changelogs/master.xml&quot;/&gt;\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<p>My structure project</p>\n<p>[![enter image description here][1]][1]</p>\n<p>And finally my stacktrace problem</p>\n<pre><code>2023-04-13T21:14:17.095-05:00  INFO 6210 --- [           main] o.a.l.LibraryMicroserviceApplication     : Starting LibraryMicroserviceApplication using Java 17.0.5 with PID 6210 (/home/user/Documents/workspace/intellij/microservices/library-service/build/classes/java/main started by abahafart in /home/user/Documents/workspace/intellij/microservices/library-service)\n2023-04-13T21:14:17.098-05:00  INFO 6210 --- [           main] o.a.l.LibraryMicroserviceApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-04-13T21:14:17.481-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-04-13T21:14:17.482-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\n2023-04-13T21:14:17.495-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 R2DBC repository interfaces.\n2023-04-13T21:14:17.676-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-04-13T21:14:17.677-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-04-13T21:14:17.687-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.\n2023-04-13T21:14:17.696-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-04-13T21:14:17.696-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\n2023-04-13T21:14:17.699-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 R2DBC repository interfaces.\n2023-04-13T21:14:17.790-05:00  INFO 6210 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=d9c5fd81-b584-3171-a425-65daf771ca31\n2023-04-13T21:14:18.199-05:00  INFO 6210 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-04-13T21:14:18.207-05:00  INFO 6210 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-04-13T21:14:18.207-05:00  INFO 6210 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.7]\n2023-04-13T21:14:18.256-05:00  INFO 6210 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-04-13T21:14:18.257-05:00  INFO 6210 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1131 ms\n2023-04-13T21:14:18.419-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-04-13T21:14:18.508-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@63e70bf9\n2023-04-13T21:14:18.509-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-04-13T21:14:19.011-05:00  INFO 6210 --- [           main] liquibase.database                       : Set default schema name to public\n2023-04-13T21:14:19.050-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully acquired change log lock\n2023-04-13T21:14:19.267-05:00  INFO 6210 --- [           main] liquibase.changelog                      : Reading from public.databasechangelog\n2023-04-13T21:14:19.293-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully released change log lock\n2023-04-13T21:14:19.432-05:00  INFO 6210 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-04-13T21:14:19.470-05:00  INFO 6210 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-04-13T21:14:19.644-05:00  INFO 6210 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\n2023-04-13T21:14:19.785-05:00  INFO 6210 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-04-13T21:14:19.790-05:00  INFO 6210 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-04-13T21:14:19.836-05:00  INFO 6210 --- [           main] o.a.l.i.repository.R2dbcLiquibaseConfig  : changelog classpath:db.changelog/db.changelog-master.xml\n2023-04-13T21:14:19.866-05:00  WARN 6210 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-04-13T21:14:20.855-05:00  INFO 6210 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'\n2023-04-13T21:14:20.919-05:00  INFO 6210 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-04-13T21:14:21.362-05:00  INFO 6210 --- [           main] o.a.l.LibraryMicroserviceApplication     : Started LibraryMicroserviceApplication in 4.792 seconds (process running for 5.176)\n2023-04-13T21:14:21.369-05:00  INFO 6210 --- [           main] liquibase.database                       : Set default schema name to public\n2023-04-13T21:14:21.369-05:00  INFO 6210 --- [           main] o.a.l.i.repository.R2dbcLiquibaseConfig  : R2DBC liquibase database initialized by classpath:db.changelog/db.changelog-master.xml\n2023-04-13T21:14:21.388-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully acquired change log lock\n2023-04-13T21:14:21.393-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully released change log lock\n2023-04-13T21:14:21.397-05:00  INFO 6210 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-04-13T21:14:21.407-05:00 ERROR 6210 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Failed to execute ApplicationRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:763) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:750) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:317) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.abahafart.library.LibraryMicroserviceApplication.main(LibraryMicroserviceApplication.java:15) ~[main/:na]\nCaused by: liquibase.exception.ChangeLogParseException: The file classpath:db.changelog/db.changelog-master.xml was not found in the configured search path:\nMore locations can be added with the 'searchPath' parameter.\n    at liquibase.parser.core.xml.XMLChangeLogSAXParser.parseToNode(XMLChangeLogSAXParser.java:114) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:15) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:408) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:393) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Liquibase.lambda$update$1(Liquibase.java:249) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Scope.lambda$child$0(Scope.java:180) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Scope.child(Scope.java:189) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Scope.child(Scope.java:179) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Scope.child(Scope.java:158) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Liquibase.runInScope(Liquibase.java:2447) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.17.2.jar:na]\n    at org.abahafart.library.infra.repository.R2dbcLiquibaseConfig.lambda$r2dbcLiquibaseDatabaseInitialization$0(R2dbcLiquibaseConfig.java:81) ~[main/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:760) ~[spring-boot-3.0.5.jar:3.0.5]\n    ... 5 common frames omitted\n\n2023-04-13T21:14:21.422-05:00  INFO 6210 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-04-13T21:14:21.432-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-04-13T21:14:21.435-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n</code></pre>\n<p>Where am I wrong?\n[1]: <a href=\"https://i.stack.imgur.com/jEwnq.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/jEwnq.png</a></p>\n"},{"tags":["java","scala","sbt"],"comments":[{"owner":{"account_id":9145961,"reputation":4103,"user_id":6802156,"display_name":"Emiliano Martinez"},"score":2,"creation_date":1681458618,"post_id":76012379,"comment_id":134062617,"body_markdown":"You need the native arm module, or take a look to https://stackoverflow.com/q/71882029/6802156","body":"You need the native arm module, or take a look to <a href=\"https://stackoverflow.com/q/71882029/6802156\">stackoverflow.com/q/71882029/6802156</a>"}],"answers":[{"tags":[],"owner":{"account_id":5716701,"reputation":419,"user_id":14152014,"display_name":"laban_luka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681461879,"creation_date":1681461879,"answer_id":76013162,"question_id":76012379,"body_markdown":"Found a solution with a help of my teammates. I have had wrong version of `sbt-sassify` it was `1.5.1` and it works with `1.5.2.`","title":"UnsatisfiedLinkError when running sbt scala project","body":"<p>Found a solution with a help of my teammates. I have had wrong version of <code>sbt-sassify</code> it was <code>1.5.1</code> and it works with <code>1.5.2.</code></p>\n"}],"owner":{"account_id":5716701,"reputation":419,"user_id":14152014,"display_name":"laban_luka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681461879,"creation_date":1681455634,"question_id":76012379,"body_markdown":"I have this weird error when running sbt scala project:\r\n\r\n    java.lang.UnsatisfiedLinkError: dlopen(/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp, 0x0009): \r\n    tried: &#39;/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp&#39; (mach-o file, but is an incompatible architecture \r\n    (have &#39;x86_64&#39;, need &#39;arm64&#39;)), \r\n    &#39;/System/Volumes/Preboot/Cryptexes/OS/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp&#39; (no such file), \r\n    &#39;/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp&#39;\r\n     (mach-o file, but is an incompatible architecture (have &#39;x86_64&#39;, need &#39;arm64&#39;))\r\n\r\nSBT version: 1.7.2.\r\n\r\nScala version: 2.13.8\r\n\r\nJava version: 11.0.18\r\n\r\nI am using Mac OS 13.3.1 with M1 chip","title":"UnsatisfiedLinkError when running sbt scala project","body":"<p>I have this weird error when running sbt scala project:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: dlopen(/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp, 0x0009): \ntried: '/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp' (mach-o file, but is an incompatible architecture \n(have 'x86_64', need 'arm64')), \n'/System/Volumes/Preboot/Cryptexes/OS/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp' (no such file), \n'/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp'\n (mach-o file, but is an incompatible architecture (have 'x86_64', need 'arm64'))\n</code></pre>\n<p>SBT version: 1.7.2.</p>\n<p>Scala version: 2.13.8</p>\n<p>Java version: 11.0.18</p>\n<p>I am using Mac OS 13.3.1 with M1 chip</p>\n"},{"tags":["java","selenium-webdriver","testing","tabs"],"comments":[{"owner":{"account_id":23766170,"reputation":21,"user_id":17780910,"display_name":"Bug Hunter"},"score":0,"creation_date":1681731935,"post_id":76013074,"comment_id":134098846,"body_markdown":"Has anyone gone through this ?","body":"Has anyone gone through this ?"}],"owner":{"account_id":23766170,"reputation":21,"user_id":17780910,"display_name":"Bug Hunter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681461585,"creation_date":1681461137,"question_id":76013074,"body_markdown":"I am trying to automate airbnb website and then then signup with google I am perfectly able to handle the first tab when the signup option with google appears but when another subtab for signin with google appears then getting error as Exception in thread &quot;main&quot; java.lang.NullPointerException: null value in entry: handle=null three tabs are appearing when signup with google,how to handle this the google signup is mainly required for wishlisting the location \r\n        \r\n        \r\n        package Practice;\r\n        import org.junit.Assert;\r\n        import org.openqa.selenium.*;\r\n        import org.openqa.selenium.chrome.ChromeDriver;\r\n        import org.openqa.selenium.Alert;\r\n        import org.openqa.selenium.chrome.ChromeOptions;\r\n        import org.openqa.selenium.firefox.FirefoxDriver;\r\n        import org.openqa.selenium.interactions.Actions;\r\n        import org.openqa.selenium.support.ui.ExpectedConditions;\r\n        import org.openqa.selenium.support.ui.WebDriverWait;\r\n        import java.util.ArrayList;\r\n        import java.time.Duration;\r\n        import java.util.Iterator;\r\n        import java.util.Set;\r\n        import java.util.concurrent.TimeUnit;\r\n        import org.openqa.selenium.support.ui.WebDriverWait;\r\n        import org.openqa.selenium.support.ui.ExpectedConditions;\r\n        \r\n        public class Airbnb\r\n        {\r\n            public static void main(String[]args) throws InterruptedException {\r\n                System.setProperty(&quot;Pathtochromewebdriver&quot;);\r\n                ChromeOptions ops = new ChromeOptions();\r\n                ops.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n                ChromeDriver driver = new ChromeDriver(ops);\r\n                driver.get(&quot;https://www.airbnb.co.in/&quot;);\r\n                driver.manage().window().maximize();\r\n                driver.navigate().forward();\r\n                Thread.sleep(1000);\r\n                //driver.findElement(By.xpath(&quot;//div[@class=\\&quot;_176ugpa\\&quot;]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot; //div[@class=\\&quot;f1xx50dm dir dir-ltr\\&quot;]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//input[@name=\\&quot;query\\&quot;]&quot;)).sendKeys(&quot;Canada&quot;);\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot;//*[@id=\\&quot;bigsearch-query-location-suggestion-2\\&quot;]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot;(//div[@class=\\&quot;_1gazwvry notranslate\\&quot;])[2]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot;//span[@class=\\&quot;t1l18xbv dir dir-ltr\\&quot;]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.navigate().forward();\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[1]/div[2]/div/div/div/div/div[1]/div/div/div/div/div[3]/div/div/div/div/label[2]/div/span&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[2]/main/div[2]/div[2]/div/div/div/div/div/div[1]/div/div[2]/div/div/div/div[1]/div/div[2]/div/div/div[1]/div/div[1]/div[2]/div/button&quot;)).click();\r\n                String parentWindowHandler = driver.getWindowHandle(); // Store your parent window\r\n                String subWindowHandler = null;\r\n                String childwindow = null;\r\n        \r\n                Set&lt;String&gt; handles = driver.getWindowHandles(); // get all window handles\r\n                Iterator&lt;String&gt; iterator = handles.iterator();\r\n                while (iterator.hasNext()){\r\n                    subWindowHandler = iterator.next();\r\n        \r\n                }\r\n                driver.switchTo().window(subWindowHandler); // switch to popup window\r\n        \r\n                // Now you are in the popup window, perform necessary actions here\r\n                JavascriptExecutor js = (JavascriptExecutor) driver;\r\n                js.executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;);\r\n                driver.navigate().forward();\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.xpath(&quot;/html/body/div[10]/section/div/div/div[2]/div/div[2]/div/div[3]/div/div[2]/form/button/div&quot;)).click();\r\n        \r\n                driver.findElement(By.className(&quot;whsOnd zHQkBf&quot;)).sendKeys(&quot;Mymailideeks&quot;);\r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n            }\r\n        \r\n        }","title":"On Airbnb website the signup has three sub tabs","body":"<p>I am trying to automate airbnb website and then then signup with google I am perfectly able to handle the first tab when the signup option with google appears but when another subtab for signin with google appears then getting error as Exception in thread &quot;main&quot; java.lang.NullPointerException: null value in entry: handle=null three tabs are appearing when signup with google,how to handle this the google signup is mainly required for wishlisting the location</p>\n<pre><code>    package Practice;\n    import org.junit.Assert;\n    import org.openqa.selenium.*;\n    import org.openqa.selenium.chrome.ChromeDriver;\n    import org.openqa.selenium.Alert;\n    import org.openqa.selenium.chrome.ChromeOptions;\n    import org.openqa.selenium.firefox.FirefoxDriver;\n    import org.openqa.selenium.interactions.Actions;\n    import org.openqa.selenium.support.ui.ExpectedConditions;\n    import org.openqa.selenium.support.ui.WebDriverWait;\n    import java.util.ArrayList;\n    import java.time.Duration;\n    import java.util.Iterator;\n    import java.util.Set;\n    import java.util.concurrent.TimeUnit;\n    import org.openqa.selenium.support.ui.WebDriverWait;\n    import org.openqa.selenium.support.ui.ExpectedConditions;\n    \n    public class Airbnb\n    {\n        public static void main(String[]args) throws InterruptedException {\n            System.setProperty(&quot;Pathtochromewebdriver&quot;);\n            ChromeOptions ops = new ChromeOptions();\n            ops.addArguments(&quot;--remote-allow-origins=*&quot;);\n            ChromeDriver driver = new ChromeDriver(ops);\n            driver.get(&quot;https://www.airbnb.co.in/&quot;);\n            driver.manage().window().maximize();\n            driver.navigate().forward();\n            Thread.sleep(1000);\n            //driver.findElement(By.xpath(&quot;//div[@class=\\&quot;_176ugpa\\&quot;]&quot;)).click();\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot; //div[@class=\\&quot;f1xx50dm dir dir-ltr\\&quot;]&quot;)).click();\n            Thread.sleep(1000);\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//input[@name=\\&quot;query\\&quot;]&quot;)).sendKeys(&quot;Canada&quot;);\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;bigsearch-query-location-suggestion-2\\&quot;]&quot;)).click();\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot;(//div[@class=\\&quot;_1gazwvry notranslate\\&quot;])[2]&quot;)).click();\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot;//span[@class=\\&quot;t1l18xbv dir dir-ltr\\&quot;]&quot;)).click();\n            Thread.sleep(1000);\n            driver.navigate().forward();\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[1]/div[2]/div/div/div/div/div[1]/div/div/div/div/div[3]/div/div/div/div/label[2]/div/span&quot;)).click();\n            Thread.sleep(1000);\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[2]/main/div[2]/div[2]/div/div/div/div/div/div[1]/div/div[2]/div/div/div/div[1]/div/div[2]/div/div/div[1]/div/div[1]/div[2]/div/button&quot;)).click();\n            String parentWindowHandler = driver.getWindowHandle(); // Store your parent window\n            String subWindowHandler = null;\n            String childwindow = null;\n    \n            Set&lt;String&gt; handles = driver.getWindowHandles(); // get all window handles\n            Iterator&lt;String&gt; iterator = handles.iterator();\n            while (iterator.hasNext()){\n                subWindowHandler = iterator.next();\n    \n            }\n            driver.switchTo().window(subWindowHandler); // switch to popup window\n    \n            // Now you are in the popup window, perform necessary actions here\n            JavascriptExecutor js = (JavascriptExecutor) driver;\n            js.executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;);\n            driver.navigate().forward();\n            Thread.sleep(2000);\n            driver.findElement(By.xpath(&quot;/html/body/div[10]/section/div/div/div[2]/div/div[2]/div/div[3]/div/div[2]/form/button/div&quot;)).click();\n    \n            driver.findElement(By.className(&quot;whsOnd zHQkBf&quot;)).sendKeys(&quot;Mymailideeks&quot;);\n    \n    \n    \n    \n    \n    \n    \n    \n        }\n    \n    }\n</code></pre>\n"},{"tags":["java","process","batch-processing","runtime.exec"],"comments":[{"owner":{"account_id":1284041,"reputation":3613,"user_id":1237490,"accept_rate":100,"display_name":"Jaydeep Rajput"},"score":0,"creation_date":1367481149,"post_id":16332872,"comment_id":23392444,"body_markdown":"Check http://stackoverflow.com/questions/15199119/runtime-exec-waitfor-doesnt-wait-until-process-is-done","body":"Check <a href=\"http://stackoverflow.com/questions/15199119/runtime-exec-waitfor-doesnt-wait-until-process-is-done\" title=\"runtime exec waitfor doesnt wait until process is done\">stackoverflow.com/questions/15199119/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23762,"reputation":5821,"user_id":59801,"accept_rate":89,"display_name":"edoloughlin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367481280,"creation_date":1367481280,"answer_id":16332978,"question_id":16332872,"body_markdown":"`Runtime.exec` returns a `Process` object (`pr`, in your example above). Just call `pr.waitFor()` to wait for the process to exit.","title":"how to wait for batch command to complete its excecution in java","body":"<p><code>Runtime.exec</code> returns a <code>Process</code> object (<code>pr</code>, in your example above). Just call <code>pr.waitFor()</code> to wait for the process to exit.</p>\n"},{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1413390083,"creation_date":1367481284,"answer_id":16332980,"question_id":16332872,"body_markdown":"Try [pr.waitFor][1] this method will return the exit code, anything other than 0 the process failed.\r\n\r\nInsted of ```String command = &quot;cmd /c start &quot; + batFile;``` use ```String command = &quot;cmd /c &quot; + batFile```\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Process.html#waitFor%28%29","title":"how to wait for batch command to complete its excecution in java","body":"<p>Try <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Process.html#waitFor%28%29\" rel=\"nofollow\">pr.waitFor</a> this method will return the exit code, anything other than 0 the process failed.</p>\n\n<p>Insted of <code>String command = \"cmd /c start \" + batFile;</code> use <code>String command = \"cmd /c \" + batFile</code></p>\n"}],"owner":{"account_id":2530215,"reputation":17,"user_id":2198663,"accept_rate":100,"display_name":"shravani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1629,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":16332980,"answer_count":2,"score":0,"last_activity_date":1681461256,"creation_date":1367480912,"question_id":16332872,"body_markdown":"I want to wait till my batch command completes its execution and creates a CSV file as output. The code is as bellow for executing batch file\r\n\r\n    String command = &quot;cmd /c start &quot; + batFile;\r\n\t\t\tRuntime rt = Runtime.getRuntime();\r\n\t\t\tProcess pr = rt.exec(command);\r\n\r\nThen I want to use the CSV file(app.csv) to read the contents of it. But when I run the program, I am getting like.\r\n\r\n    java.io.FileNotFoundException: C:\\appanalysis\\app.csv (The system cannot find the file specified)\r\n    \tat java.io.FileInputStream.open(Native Method)\r\n    \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:120)\r\n    \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:79)\r\n    \tat java.io.FileReader.&lt;init&gt;(FileReader.java:41)\r\n\r\nHow to resolve this?","title":"how to wait for batch command to complete its excecution in java","body":"<p>I want to wait till my batch command completes its execution and creates a CSV file as output. The code is as bellow for executing batch file</p>\n<pre><code>String command = &quot;cmd /c start &quot; + batFile;\n        Runtime rt = Runtime.getRuntime();\n        Process pr = rt.exec(command);\n</code></pre>\n<p>Then I want to use the CSV file(app.csv) to read the contents of it. But when I run the program, I am getting like.</p>\n<pre><code>java.io.FileNotFoundException: C:\\appanalysis\\app.csv (The system cannot find the file specified)\n    at java.io.FileInputStream.open(Native Method)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:120)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:79)\n    at java.io.FileReader.&lt;init&gt;(FileReader.java:41)\n</code></pre>\n<p>How to resolve this?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":1,"creation_date":1681402800,"post_id":76007105,"comment_id":134054255,"body_markdown":"What is the question?","body":"What is the question?"},{"owner":{"account_id":8497862,"reputation":21,"user_id":6371905,"display_name":"Puneet Garg"},"score":1,"creation_date":1681408555,"post_id":76007105,"comment_id":134055482,"body_markdown":"Sorry if this was not obvious, added the question on main thread. Basically want to know how can this be achieved ?","body":"Sorry if this was not obvious, added the question on main thread. Basically want to know how can this be achieved ?"}],"owner":{"account_id":8497862,"reputation":21,"user_id":6371905,"display_name":"Puneet Garg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681461211,"creation_date":1681398840,"question_id":76007105,"body_markdown":"I have a `@configuration` (MyConfig) class which creates a few beans. This works fine. \r\n\r\nBut now I have a requirement to create multiple instances of this configuration (MyConfig) based on a List&lt;MyBean4&gt;\r\n\r\nSomething like \r\n\r\n    list.foreach(new MyConfig(myBean4))  // but this is not correct obviously  \r\n\r\nSo that I am able to use corresponding myBean4 inside each instance of MyConfig\r\n\r\nHow can this be achieved ?\r\n\r\n\r\n```\r\n@Configuration \r\npublic class MyConfig {\r\n\r\n  @Autowired\r\n  CustomBean1 mybean1;\r\n\r\n  public MyConfig() {\r\n  }\r\n\r\n\r\n  @Bean\r\n  public CustomBean2 getBean2(@Qualifier(&quot;myChannel&quot;){ ...}\r\n\r\n  @ServiceActivator(inputChannel = &quot;myChannel&quot;)\r\n  public void myReciever(@Header(&quot;abc&quot;) SomeBean bean ){...}\r\n\r\n  @Bean\r\n  public CustomBean3 myChannel(){...}\r\n\r\n}\r\n```\r\n","title":"Multiple Instances of @Configuration in spring","body":"<p>I have a <code>@configuration</code> (MyConfig) class which creates a few beans. This works fine.</p>\n<p>But now I have a requirement to create multiple instances of this configuration (MyConfig) based on a List</p>\n<p>Something like</p>\n<pre><code>list.foreach(new MyConfig(myBean4))  // but this is not correct obviously  \n</code></pre>\n<p>So that I am able to use corresponding myBean4 inside each instance of MyConfig</p>\n<p>How can this be achieved ?</p>\n<pre><code>@Configuration \npublic class MyConfig {\n\n  @Autowired\n  CustomBean1 mybean1;\n\n  public MyConfig() {\n  }\n\n\n  @Bean\n  public CustomBean2 getBean2(@Qualifier(&quot;myChannel&quot;){ ...}\n\n  @ServiceActivator(inputChannel = &quot;myChannel&quot;)\n  public void myReciever(@Header(&quot;abc&quot;) SomeBean bean ){...}\n\n  @Bean\n  public CustomBean3 myChannel(){...}\n\n}\n</code></pre>\n"},{"tags":["java","cmd","command-line","jvm"],"comments":[{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":40,"creation_date":1366590561,"post_id":16137713,"comment_id":23054202,"body_markdown":"`javac CopyFile.java` and then `java CopyFile`","body":"<code>javac CopyFile.java</code> and then <code>java CopyFile</code>"},{"owner":{"account_id":2566111,"reputation":2741,"user_id":2226153,"accept_rate":83,"display_name":"Elizabeth Turner"},"score":0,"creation_date":1366590656,"post_id":16137713,"comment_id":23054225,"body_markdown":"I&#39;m at the command line now, do I need to save my txt files in the same folder as the program for them to be invoked?","body":"I&#39;m at the command line now, do I need to save my txt files in the same folder as the program for them to be invoked?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1366590748,"post_id":16137713,"comment_id":23054245,"body_markdown":"What package does `CopyFile` reside","body":"What package does <code>CopyFile</code> reside"},{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":1,"creation_date":1366590817,"post_id":16137713,"comment_id":23054256,"body_markdown":"@Elizabeth Turner first you have to make sure that you have installed JRE (Java Runtime Env) and that it&#39;s accessible form every folder (the path to Java/Javac is included in the PATH env variable). Then run the commands I wrote above from the same folder in which CopyFile.java is located.","body":"@Elizabeth Turner first you have to make sure that you have installed JRE (Java Runtime Env) and that it&#39;s accessible form every folder (the path to Java/Javac is included in the PATH env variable). Then run the commands I wrote above from the same folder in which CopyFile.java is located."},{"owner":{"account_id":9022,"reputation":31287,"user_id":16487,"accept_rate":71,"display_name":"C. Ross"},"score":0,"creation_date":1366590838,"post_id":16137713,"comment_id":23054260,"body_markdown":"See [java](http://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html), [PATH and CLASSPATH](http://docs.oracle.com/javase/tutorial/essential/environment/paths.html) and this question [Running Java Program From Command Line](http://stackoverflow.com/q/9879679/16487).","body":"See <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html\" rel=\"nofollow noreferrer\">java</a>, <a href=\"http://docs.oracle.com/javase/tutorial/essential/environment/paths.html\" rel=\"nofollow noreferrer\">PATH and CLASSPATH</a> and this question <a href=\"http://stackoverflow.com/q/9879679/16487\">Running Java Program From Command Line</a>."},{"owner":{"account_id":2566111,"reputation":2741,"user_id":2226153,"accept_rate":83,"display_name":"Elizabeth Turner"},"score":0,"creation_date":1366591468,"post_id":16137713,"comment_id":23054404,"body_markdown":"@alfasin lets assume that JRE isn&#39;t installed, how would i go about installing it","body":"@alfasin lets assume that JRE isn&#39;t installed, how would i go about installing it"},{"owner":{"account_id":160288,"reputation":520,"user_id":380236,"display_name":"Anders"},"score":0,"creation_date":1643217878,"post_id":16137713,"comment_id":125283036,"body_markdown":"@ARJUN, your link is no longer valid. It looks like it go to a spam place.","body":"@ARJUN, your link is no longer valid. It looks like it go to a spam place."},{"owner":{"account_id":160288,"reputation":520,"user_id":380236,"display_name":"Anders"},"score":0,"creation_date":1643217942,"post_id":16137713,"comment_id":125283053,"body_markdown":"Check for JEP 330 for more information about running Java programs as if they was shell or Python scripts.","body":"Check for JEP 330 for more information about running Java programs as if they was shell or Python scripts."},{"owner":{"account_id":160288,"reputation":520,"user_id":380236,"display_name":"Anders"},"score":0,"creation_date":1643218070,"post_id":16137713,"comment_id":125283124,"body_markdown":"@elizabeth-turner, no you don&#39;t need to have the text file in the same place as the java program.  But you should probably use an argument to the `main` method to tell where it is, and then add to the command line the path to the file.  As for instance `dir`, `ls`, `copy` and `cp` works.","body":"@elizabeth-turner, no you don&#39;t need to have the text file in the same place as the java program.  But you should probably use an argument to the <code>main</code> method to tell where it is, and then add to the command line the path to the file.  As for instance <code>dir</code>, <code>ls</code>, <code>copy</code> and <code>cp</code> works."},{"owner":{"account_id":2282546,"reputation":399,"user_id":2007313,"accept_rate":0,"display_name":"ARJUN"},"score":0,"creation_date":1647425686,"post_id":16137713,"comment_id":126365815,"body_markdown":"Check this link [Running a Java program from command Prompt](https://msccomputerscience4all.blogspot.com/2013/02/running-java-program-from-command-prompt.html)","body":"Check this link <a href=\"https://msccomputerscience4all.blogspot.com/2013/02/running-java-program-from-command-prompt.html\" rel=\"nofollow noreferrer\">Running a Java program from command Prompt</a>"},{"owner":{"account_id":2682534,"reputation":864,"user_id":2317585,"display_name":"John Gilmer"},"score":0,"creation_date":1667302519,"post_id":16137713,"comment_id":131131482,"body_markdown":"As of Java 11 you can run directly from a single `.java` file. So `java CopyFile.java` should work.","body":"As of Java 11 you can run directly from a single <code>.java</code> file. So <code>java CopyFile.java</code> should work."}],"answers":[{"tags":[],"owner":{"account_id":2664807,"reputation":2691,"user_id":2303547,"accept_rate":75,"display_name":"Nicholas Kadaeux"},"down_vote_count":0,"up_vote_count":264,"is_accepted":true,"score":264,"last_activity_date":1509618384,"creation_date":1366590661,"answer_id":16137745,"question_id":16137713,"body_markdown":"Source: [javaindos.][1]\r\n\r\n&gt; Let&#39;s say your file is in C:\\mywork\\\r\n&gt; \r\n&gt; Run Command Prompt \r\n&gt; \r\n&gt;     C:\\&gt; cd \\mywork\r\n&gt; \r\n&gt; This makes C:\\mywork the current directory.\r\n&gt; \r\n&gt;     C:\\mywork&gt; dir\r\n&gt; \r\n&gt; This displays the directory contents.  You should see\r\n&gt; filenamehere.java among the files.\r\n&gt; \r\n&gt;     C:\\mywork&gt; set path=%path%;C:\\Program Files\\Java\\jdk1.5.0_09\\bin\r\n&gt; \r\n&gt; This tells the system where to find JDK programs.\r\n&gt; \r\n&gt;     C:\\mywork&gt; javac filenamehere.java\r\n&gt; \r\n&gt; This runs javac.exe, the compiler.  You should see nothing but the\r\n&gt; next system prompt...\r\n&gt; \r\n&gt;     C:\\mywork&gt; dir\r\n&gt; \r\n&gt; javac has created the filenamehere.class file.  You should see\r\n&gt; filenamehere.java and filenamehere.class among the files.\r\n&gt; \r\n&gt;     C:\\mywork&gt; java filenamehere\r\n&gt; \r\n&gt; This runs the Java interpreter.  You should then see your program\r\n&gt; output.\r\n&gt; \r\n&gt; If the system cannot find javac, check the set path command.  If javac\r\n&gt; runs but you get errors, check your Java text.  If the program\r\n&gt; compiles but you get an exception, check the spelling and\r\n&gt; capitalization in the file name and the class name and the java\r\n&gt; HelloWorld command.  Java is case-sensitive!\r\n\r\n\r\n  [1]: http://www.skylit.com/javamethods/faqs/javaindos.html\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>Source: <a href=\"http://www.skylit.com/javamethods/faqs/javaindos.html\" rel=\"noreferrer\">javaindos.</a></p>\n\n<blockquote>\n  <p>Let's say your file is in C:\\mywork\\</p>\n  \n  <p>Run Command Prompt </p>\n\n<pre><code>C:\\&gt; cd \\mywork\n</code></pre>\n  \n  <p>This makes C:\\mywork the current directory.</p>\n\n<pre><code>C:\\mywork&gt; dir\n</code></pre>\n  \n  <p>This displays the directory contents.  You should see\n  filenamehere.java among the files.</p>\n\n<pre><code>C:\\mywork&gt; set path=%path%;C:\\Program Files\\Java\\jdk1.5.0_09\\bin\n</code></pre>\n  \n  <p>This tells the system where to find JDK programs.</p>\n\n<pre><code>C:\\mywork&gt; javac filenamehere.java\n</code></pre>\n  \n  <p>This runs javac.exe, the compiler.  You should see nothing but the\n  next system prompt...</p>\n\n<pre><code>C:\\mywork&gt; dir\n</code></pre>\n  \n  <p>javac has created the filenamehere.class file.  You should see\n  filenamehere.java and filenamehere.class among the files.</p>\n\n<pre><code>C:\\mywork&gt; java filenamehere\n</code></pre>\n  \n  <p>This runs the Java interpreter.  You should then see your program\n  output.</p>\n  \n  <p>If the system cannot find javac, check the set path command.  If javac\n  runs but you get errors, check your Java text.  If the program\n  compiles but you get an exception, check the spelling and\n  capitalization in the file name and the class name and the java\n  HelloWorld command.  Java is case-sensitive!</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2118736,"reputation":489,"user_id":1882481,"accept_rate":80,"display_name":"monika"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1366591768,"creation_date":1366590778,"answer_id":16137754,"question_id":16137713,"body_markdown":"You can compile any java source using javac in command line ; eg, javac CopyFile.java.\r\nTo run : java CopyFile.\r\nYou can also compile all java files using javac *.java as long as they&#39;re in the same directory\r\n\r\nIf you&#39;re having an issue resulting with &quot;could not find or load main class&quot; you may not have\r\njre in your path. Have a look at this question:\r\nhttps://stackoverflow.com/questions/7647448/could-not-find-or-load-main-class","title":"How do I run a Java program from the command line on Windows?","body":"<p>You can compile any java source using javac in command line ; eg, javac CopyFile.java.\nTo run : java CopyFile.\nYou can also compile all java files using javac *.java as long as they're in the same directory</p>\n\n<p>If you're having an issue resulting with \"could not find or load main class\" you may not have\njre in your path. Have a look at this question:\n<a href=\"https://stackoverflow.com/questions/7647448/could-not-find-or-load-main-class\">Could not find or load main class</a></p>\n"},{"tags":[],"owner":{"account_id":4266152,"reputation":845,"user_id":3489227,"accept_rate":89,"display_name":"Paresh3489227"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1537460435,"creation_date":1397218470,"answer_id":23012272,"question_id":16137713,"body_markdown":"**Complile** a Java file to generate a class:\r\n\r\n    javac filename.java\r\n\r\n**Execute** the generated class:\r\n\r\n    java filename","title":"How do I run a Java program from the command line on Windows?","body":"<p><strong>Complile</strong> a Java file to generate a class:</p>\n\n<pre><code>javac filename.java\n</code></pre>\n\n<p><strong>Execute</strong> the generated class:</p>\n\n<pre><code>java filename\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7127243,"reputation":1707,"user_id":5449766,"display_name":"jkhosla"},"down_vote_count":0,"up_vote_count":119,"is_accepted":false,"score":119,"last_activity_date":1444918365,"creation_date":1444915580,"answer_id":33149828,"question_id":16137713,"body_markdown":"To complete the answer :\r\n\r\n1. The Java File\r\n\r\n        TheJavaFile.java\r\n\r\n1. Compile the Java File to a *.class file\r\n\r\n        javac TheJavaFile.java\r\n\r\n    * This will create a `TheJavaFile.class` file\r\n\r\n1. Execution of the Java File\r\n\r\n        java TheJavaFile\r\n\r\n1. Creation of an executable `*.jar` file\r\n\r\n    * You&#39;ve got two options here -\r\n\r\n        1. With an external manifest file :\r\n\r\n            * Create the manifest file say - MANIFEST.mf \r\n\r\n            * The MANIFEST file is nothing but an explicit entry of the Main Class \r\n \r\n            * `jar -cvfm TheJavaFile.jar MANIFEST.mf TheJavaFile.class`\r\n\r\n        1. Executable by Entry Point:\r\n            * `jar -cvfe TheJavaFile.jar &lt;MainClass&gt; TheJavaFile.class`\r\n\r\n1. To run the Jar File\r\n\r\n        java -jar TheJavaFile.jar\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>To complete the answer :</p>\n\n<ol>\n<li><p>The Java File</p>\n\n<pre><code>TheJavaFile.java\n</code></pre></li>\n<li><p>Compile the Java File to a *.class file</p>\n\n<pre><code>javac TheJavaFile.java\n</code></pre>\n\n<ul>\n<li>This will create a <code>TheJavaFile.class</code> file</li>\n</ul></li>\n<li><p>Execution of the Java File</p>\n\n<pre><code>java TheJavaFile\n</code></pre></li>\n<li><p>Creation of an executable <code>*.jar</code> file</p>\n\n<ul>\n<li><p>You've got two options here -</p>\n\n<ol>\n<li><p>With an external manifest file :</p>\n\n<ul>\n<li><p>Create the manifest file say - MANIFEST.mf </p></li>\n<li><p>The MANIFEST file is nothing but an explicit entry of the Main Class </p></li>\n<li><p><code>jar -cvfm TheJavaFile.jar MANIFEST.mf TheJavaFile.class</code></p></li>\n</ul></li>\n<li><p>Executable by Entry Point:</p>\n\n<ul>\n<li><code>jar -cvfe TheJavaFile.jar &lt;MainClass&gt; TheJavaFile.class</code></li>\n</ul></li>\n</ol></li>\n</ul></li>\n<li><p>To run the Jar File</p>\n\n<pre><code>java -jar TheJavaFile.jar\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4144435,"reputation":141,"user_id":6112807,"display_name":"Eliza Helena"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1459684100,"creation_date":1459684100,"answer_id":36385010,"question_id":16137713,"body_markdown":"It is easy. If you have saved your file as A.text first thing you should do is save it as A.java. Now it is a Java file. \r\n\r\nNow you need to open cmd and set path to you A.java file before compile it. you can refer [this][1] for that.\r\n\r\n\r\nThen you can compile your file using command \r\n\r\n&gt; javac A.java\r\n\r\nThen run it using\r\n\r\n&gt; java A\r\n\r\nSo that is how you compile and run a java program in cmd.\r\nYou can also go through these [material][2] that is Java in depth lessons. Lot of things you need to understand in Java is covered there for beginners.\r\n\r\n\r\n  [1]: http://www.elcaro-guide.com/java/how-to-compile-and-run-a-java-program\r\n  [2]: http://www.elcaro-guide.com/java\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>It is easy. If you have saved your file as A.text first thing you should do is save it as A.java. Now it is a Java file. </p>\n\n<p>Now you need to open cmd and set path to you A.java file before compile it. you can refer <a href=\"http://www.elcaro-guide.com/java/how-to-compile-and-run-a-java-program\" rel=\"noreferrer\">this</a> for that.</p>\n\n<p>Then you can compile your file using command </p>\n\n<blockquote>\n  <p>javac A.java</p>\n</blockquote>\n\n<p>Then run it using</p>\n\n<blockquote>\n  <p>java A</p>\n</blockquote>\n\n<p>So that is how you compile and run a java program in cmd.\nYou can also go through these <a href=\"http://www.elcaro-guide.com/java\" rel=\"noreferrer\">material</a> that is Java in depth lessons. Lot of things you need to understand in Java is covered there for beginners.</p>\n"},{"tags":[],"owner":{"account_id":66427,"reputation":688,"user_id":194872,"display_name":"Chris Smith"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467157794,"creation_date":1467157794,"answer_id":38088078,"question_id":16137713,"body_markdown":"On Windows 7 I had to do the following:\r\n\r\n**quick way**\r\n\r\n 1. Install JDK http://www.oracle.com/technetwork/java/javase/downloads\r\n 2. in windows, browse into &quot;C:\\Program Files\\Java\\jdk1.8.0_91\\bin&quot; (or wherever the latest version of JDK is installed), hold down shift and right click on a blank area within the window and do &quot;open command window here&quot; and this will give you a command line and access to all the BIN tools. &quot;javac&quot; is not by default in the windows system PATH environment variable.\r\n 3. Follow comments above about how to compile the file (&quot;javac MyFile.java&quot; then &quot;java MyFile&quot;) https://stackoverflow.com/a/33149828/194872\r\n\r\n**long way**\r\n\r\n 4. Install JDK http://www.oracle.com/technetwork/java/javase/downloads/index.html\r\n 5. After installing, in edits the Windows PATH environment variable and adds the following to the path C:\\ProgramData\\Oracle\\Java\\javapath. Within this folder are symbolic links to a handful of java executables **but &quot;javac&quot; is NOT one of them** so when trying to run &quot;javac&quot; from Windows command line it throws an error.\r\n 6. I edited the path: Control Panel -&gt; System -&gt; Advanced tab -&gt; &quot;Environment Variables...&quot; button -&gt; scroll down to &quot;Path&quot;, highlight and edit -&gt; replaced the &quot;C:\\ProgramData\\Oracle\\Java\\javapath&quot; with a direct path to the java BIN folder &quot;C:\\Program Files\\Java\\jdk1.8.0_91\\bin&quot;.\r\n 7. This likely breaks when you upgrade your JDK installation but you have access to all the command line tools now.\r\n\r\n 8. Follow comments above about how to compile the file (&quot;javac MyFile.java&quot; then &quot;java MyFile&quot;) https://stackoverflow.com/a/33149828/194872\r\n\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>On Windows 7 I had to do the following:</p>\n\n<p><strong>quick way</strong></p>\n\n<ol>\n<li>Install JDK <a href=\"http://www.oracle.com/technetwork/java/javase/downloads\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads</a></li>\n<li>in windows, browse into \"C:\\Program Files\\Java\\jdk1.8.0_91\\bin\" (or wherever the latest version of JDK is installed), hold down shift and right click on a blank area within the window and do \"open command window here\" and this will give you a command line and access to all the BIN tools. \"javac\" is not by default in the windows system PATH environment variable.</li>\n<li>Follow comments above about how to compile the file (\"javac MyFile.java\" then \"java MyFile\") <a href=\"https://stackoverflow.com/a/33149828/194872\">https://stackoverflow.com/a/33149828/194872</a></li>\n</ol>\n\n<p><strong>long way</strong></p>\n\n<ol start=\"4\">\n<li>Install JDK <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a></li>\n<li>After installing, in edits the Windows PATH environment variable and adds the following to the path C:\\ProgramData\\Oracle\\Java\\javapath. Within this folder are symbolic links to a handful of java executables <strong>but \"javac\" is NOT one of them</strong> so when trying to run \"javac\" from Windows command line it throws an error.</li>\n<li>I edited the path: Control Panel -> System -> Advanced tab -> \"Environment Variables...\" button -> scroll down to \"Path\", highlight and edit -> replaced the \"C:\\ProgramData\\Oracle\\Java\\javapath\" with a direct path to the java BIN folder \"C:\\Program Files\\Java\\jdk1.8.0_91\\bin\".</li>\n<li><p>This likely breaks when you upgrade your JDK installation but you have access to all the command line tools now.</p></li>\n<li><p>Follow comments above about how to compile the file (\"javac MyFile.java\" then \"java MyFile\") <a href=\"https://stackoverflow.com/a/33149828/194872\">https://stackoverflow.com/a/33149828/194872</a></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8809950,"reputation":511,"user_id":6583296,"accept_rate":22,"display_name":"Harshad Holkar"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1537460615,"creation_date":1469715316,"answer_id":38639055,"question_id":16137713,"body_markdown":"In case your Java class is in some package. Suppose your Java class named `ABC.java` is present in `com.hello.programs`, then you need to run it with the package name.\r\n\r\nCompile it in the usual way:\r\n\r\n    C:\\SimpleJavaProject\\src\\com\\hello\\programs &gt; javac ABC.java\r\n\r\nBut to run it, you need to give the package name and then your java class name:\r\n\r\n    C:\\SimpleJavaProject\\src &gt; java com.hello.programs.ABC","title":"How do I run a Java program from the command line on Windows?","body":"<p>In case your Java class is in some package. Suppose your Java class named <code>ABC.java</code> is present in <code>com.hello.programs</code>, then you need to run it with the package name.</p>\n\n<p>Compile it in the usual way:</p>\n\n<pre><code>C:\\SimpleJavaProject\\src\\com\\hello\\programs &gt; javac ABC.java\n</code></pre>\n\n<p>But to run it, you need to give the package name and then your java class name:</p>\n\n<pre><code>C:\\SimpleJavaProject\\src &gt; java com.hello.programs.ABC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1268233,"reputation":337,"user_id":5628025,"display_name":"YakovK"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1485896609,"creation_date":1485896609,"answer_id":41967456,"question_id":16137713,"body_markdown":"Assuming the file is called &quot;CopyFile.java&quot;, do the following:\r\n\r\n    javac CopyFile.java\r\n    java -cp . CopyFile\r\n\r\nThe first line compiles the source code into executable byte code. The second line executes it, first adding the current directory to the class path (just in case).\r\n\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>Assuming the file is called \"CopyFile.java\", do the following:</p>\n\n<pre><code>javac CopyFile.java\njava -cp . CopyFile\n</code></pre>\n\n<p>The first line compiles the source code into executable byte code. The second line executes it, first adding the current directory to the class path (just in case).</p>\n"},{"tags":[],"owner":{"account_id":9210991,"reputation":355,"user_id":6844163,"display_name":"Ashwant Manikoth"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1494562829,"creation_date":1494562116,"answer_id":43929138,"question_id":16137713,"body_markdown":"[![enter image description here][1]][1]\r\nSTEP 1: FIRST OPEN THE COMMAND PROMPT WHERE YOUR FILE IS LOCATED. (right click while pressing shift)    \r\nSTEP 2: THEN USE THE FOLLOWING COMMANDS TO EXECUTE.\r\n        (lets say the file and class name to be executed is named as Student.java)The example program is in the picture background.\r\n\r\n         javac Student.java\r\n         java Student\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EE25R.png\r\n  [2]: https://i.stack.imgur.com/P2vTH.png","title":"How do I run a Java program from the command line on Windows?","body":"<p><a href=\"https://i.stack.imgur.com/EE25R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EE25R.png\" alt=\"enter image description here\"></a>\nSTEP 1: FIRST OPEN THE COMMAND PROMPT WHERE YOUR FILE IS LOCATED. (right click while pressing shift)<br>\nSTEP 2: THEN USE THE FOLLOWING COMMANDS TO EXECUTE.\n        (lets say the file and class name to be executed is named as Student.java)The example program is in the picture background.</p>\n\n<pre><code>     javac Student.java\n     java Student\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/P2vTH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P2vTH.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":11360616,"reputation":161,"user_id":8328871,"display_name":"Horsey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548576300,"creation_date":1548576300,"answer_id":54386200,"question_id":16137713,"body_markdown":"As of Java 9, the JDK includes `jshell`, a Java REPL.\r\n\r\nAssuming the JDK 9+ `bin` directory is correctly added to your path, you will be able to simply:\r\n\r\n1. Run `jshell File.java` — `File.java` being your file of course. \r\n2. A prompt will open, allowing you to call the `main` method: `jshell&gt; File.main(null)`.\r\n3. To close the prompt and end the JVM session, use `/exit`\r\n\r\nFull documentation for JShell can be found [here][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/jshell/introduction-jshell.html","title":"How do I run a Java program from the command line on Windows?","body":"<p>As of Java 9, the JDK includes <code>jshell</code>, a Java REPL.</p>\n\n<p>Assuming the JDK 9+ <code>bin</code> directory is correctly added to your path, you will be able to simply:</p>\n\n<ol>\n<li>Run <code>jshell File.java</code> — <code>File.java</code> being your file of course. </li>\n<li>A prompt will open, allowing you to call the <code>main</code> method: <code>jshell&gt; File.main(null)</code>.</li>\n<li>To close the prompt and end the JVM session, use <code>/exit</code></li>\n</ol>\n\n<p>Full documentation for JShell can be found <a href=\"https://docs.oracle.com/en/java/javase/11/jshell/introduction-jshell.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":5729376,"reputation":44,"user_id":4525391,"display_name":"Shiba"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554978105,"creation_date":1554978105,"answer_id":55630197,"question_id":16137713,"body_markdown":"Now (with JDK 9 onwards), you can just use java &lt;source file name with extension&gt; to get that executed.\r\nIn order to execute &quot;Hello.java&quot; containing the main, one can use: \r\njava Hello.java\r\n\r\nYou do not need to compile using separately using javac anymore. \r\n\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>Now (with JDK 9 onwards), you can just use java  to get that executed.\nIn order to execute \"Hello.java\" containing the main, one can use: \njava Hello.java</p>\n\n<p>You do not need to compile using separately using javac anymore. </p>\n"},{"tags":[],"owner":{"account_id":2137634,"reputation":421,"user_id":2632797,"display_name":"akawaguc"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1559139040,"creation_date":1559139040,"answer_id":56362575,"question_id":16137713,"body_markdown":"Since Java 11, `java` command line tool has been able to run a single-file source-code directly. e.g.\r\n\r\n    java HelloWorld.java\r\n\r\nThis was an enhancement with JEP 330: https://openjdk.java.net/jeps/330\r\n\r\nFor the details of the usage and the limitations, see the manual of your Java implementation such as one provided by Oracle: https://docs.oracle.com/en/java/javase/11/tools/java.html","title":"How do I run a Java program from the command line on Windows?","body":"<p>Since Java 11, <code>java</code> command line tool has been able to run a single-file source-code directly. e.g.</p>\n\n<pre><code>java HelloWorld.java\n</code></pre>\n\n<p>This was an enhancement with JEP 330: <a href=\"https://openjdk.java.net/jeps/330\" rel=\"noreferrer\">https://openjdk.java.net/jeps/330</a></p>\n\n<p>For the details of the usage and the limitations, see the manual of your Java implementation such as one provided by Oracle: <a href=\"https://docs.oracle.com/en/java/javase/11/tools/java.html\" rel=\"noreferrer\">https://docs.oracle.com/en/java/javase/11/tools/java.html</a></p>\n"},{"tags":[],"owner":{"account_id":160288,"reputation":520,"user_id":380236,"display_name":"Anders"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643218216,"creation_date":1643216714,"answer_id":70867424,"question_id":16137713,"body_markdown":"You can actually run Java program as you would shell or python scripts without manually compile the Java file, as described in\r\n[JEP 330][jep330]. That is available since JDK 11.\r\n\r\nIf you create a file `testing`, and put the following you should be able to run it as command `testing`.  You  need to make it executable in Linux and Mac OSX with `chmod +x testing`.\r\n\r\n```java\r\n    #!/usr/bin/env java --source 11\r\n    public class Test {\r\n        public static void main(String [] args) {\r\n            System.out.println(&quot;Hello world!&quot;);\r\n            System.exit(0);\r\n        }\r\n    }\r\n```\r\nYou are *not* allowed to use the file extension `.java` in the previous example.\r\n\r\n```sh\r\n    $ chmod +x testing\r\n    $ ./testing\r\n    Hello world!\r\n    $\r\n```\r\n\r\nBut you can still execute if it is was name `Test.java` without the shebang &quot;#!&quot; prefix like this: \r\n\r\n```java\r\n    public class Test {\r\n        public static void main(String [] args) {\r\n            System.out.println(&quot;Hello again!&quot;);\r\n            System.exit(0);\r\n        }\r\n    }\r\n```\r\n\r\nThen execute the file `Test.java` with following command:\r\n\r\n```sh\r\n    $ java Test.java\r\n    Hello again!\r\n    $\r\n```\r\nSo this works as long as you have a new enough Java compiler in the path, check with `java -version`.  More information in this [blog][blog].\r\n\r\n\r\n[jep330]: https://openjdk.java.net/jeps/330 &quot;Java JEP 330: Launch Single-File Source-Code Programs&quot;\r\n[blog]: https://www.infoq.com/articles/single-file-execution-java11 &quot;Running Single-file Programs without Compiling in Java 11&quot;\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>You can actually run Java program as you would shell or python scripts without manually compile the Java file, as described in\n<a href=\"https://openjdk.java.net/jeps/330\" rel=\"nofollow noreferrer\" title=\"Java JEP 330: Launch Single-File Source-Code Programs\">JEP 330</a>. That is available since JDK 11.</p>\n<p>If you create a file <code>testing</code>, and put the following you should be able to run it as command <code>testing</code>.  You  need to make it executable in Linux and Mac OSX with <code>chmod +x testing</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    #!/usr/bin/env java --source 11\n    public class Test {\n        public static void main(String [] args) {\n            System.out.println(&quot;Hello world!&quot;);\n            System.exit(0);\n        }\n    }\n</code></pre>\n<p>You are <em>not</em> allowed to use the file extension <code>.java</code> in the previous example.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>    $ chmod +x testing\n    $ ./testing\n    Hello world!\n    $\n</code></pre>\n<p>But you can still execute if it is was name <code>Test.java</code> without the shebang &quot;#!&quot; prefix like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class Test {\n        public static void main(String [] args) {\n            System.out.println(&quot;Hello again!&quot;);\n            System.exit(0);\n        }\n    }\n</code></pre>\n<p>Then execute the file <code>Test.java</code> with following command:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>    $ java Test.java\n    Hello again!\n    $\n</code></pre>\n<p>So this works as long as you have a new enough Java compiler in the path, check with <code>java -version</code>.  More information in this <a href=\"https://www.infoq.com/articles/single-file-execution-java11\" rel=\"nofollow noreferrer\" title=\"Running Single-file Programs without Compiling in Java 11\">blog</a>.</p>\n"}],"owner":{"account_id":2566111,"reputation":2741,"user_id":2226153,"accept_rate":83,"display_name":"Elizabeth Turner"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1547817,"favorite_count":0,"down_vote_count":1,"up_vote_count":259,"accepted_answer_id":16137745,"answer_count":13,"score":258,"last_activity_date":1681461194,"creation_date":1366590411,"question_id":16137713,"body_markdown":"I&#39;m trying to execute a Java program from the command line in Windows.  \r\nHere is my code:\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    \r\n    public class CopyFile {\r\n        public static void main(String[] args) {\r\n            InputStream inStream = null;\r\n            OutputStream outStream = null;\r\n\r\n            try {\r\n                File afile = new File(&quot;input.txt&quot;);\r\n                File bfile = new File(&quot;inputCopy.txt&quot;);\r\n\r\n                inStream = new FileInputStream(afile);\r\n                outStream = new FileOutputStream(bfile);\r\n\r\n                byte[] buffer = new byte[1024];\r\n\r\n                int length;\r\n\r\n                // copy the file content in bytes\r\n                while ((length = inStream.read(buffer)) &gt; 0) {\r\n                    outStream.write(buffer, 0, length);\r\n                }\r\n\r\n                inStream.close();\r\n                outStream.close();\r\n\r\n                System.out.println(&quot;File is copied successful!&quot;);\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;m not sure how to execute the program - any help?  \r\nIs this possible on Windows?  \r\nWhy is it different than another environment (I thought JVM was write once, run anywhere)?","title":"How do I run a Java program from the command line on Windows?","body":"<p>I'm trying to execute a Java program from the command line in Windows.<br />\nHere is my code:</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\npublic class CopyFile {\n    public static void main(String[] args) {\n        InputStream inStream = null;\n        OutputStream outStream = null;\n\n        try {\n            File afile = new File(&quot;input.txt&quot;);\n            File bfile = new File(&quot;inputCopy.txt&quot;);\n\n            inStream = new FileInputStream(afile);\n            outStream = new FileOutputStream(bfile);\n\n            byte[] buffer = new byte[1024];\n\n            int length;\n\n            // copy the file content in bytes\n            while ((length = inStream.read(buffer)) &gt; 0) {\n                outStream.write(buffer, 0, length);\n            }\n\n            inStream.close();\n            outStream.close();\n\n            System.out.println(&quot;File is copied successful!&quot;);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I'm not sure how to execute the program - any help?<br />\nIs this possible on Windows?<br />\nWhy is it different than another environment (I thought JVM was write once, run anywhere)?</p>\n"},{"tags":["java","android","appium"],"comments":[{"owner":{"account_id":3268159,"reputation":199,"user_id":2752189,"display_name":"hfarhanahmed"},"score":0,"creation_date":1572949300,"post_id":58696488,"comment_id":103712474,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/56111529/cannot-call-non-w3c-standard-command-while-in-w3c-mode-seleniumwebdrivererr?noredirect=1&amp;lq=1","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/56111529/cannot-call-non-w3c-standard-command-while-in-w3c-mode-seleniumwebdrivererr?noredirect=1&amp;lq=1\" title=\"cannot call non w3c standard command while in w3c mode seleniumwebdrivererr\">stackoverflow.com/questions/56111529/&hellip;</a>"},{"owner":{"account_id":16826883,"reputation":91,"user_id":12165946,"display_name":"Kitty Raj"},"score":0,"creation_date":1572950353,"post_id":58696488,"comment_id":103713025,"body_markdown":"Hi @hfarhanahmed, I already saw this answer and try to use it but I failed. That answer is implemented from Web application. But I am trying to automate android Hybrid app (which has webview)","body":"Hi @hfarhanahmed, I already saw this answer and try to use it but I failed. That answer is implemented from Web application. But I am trying to automate android Hybrid app (which has webview)"}],"answers":[{"tags":[],"owner":{"account_id":17036473,"reputation":1,"user_id":12325400,"display_name":"MarMarMar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572948612,"creation_date":1572948612,"answer_id":58709049,"question_id":58696488,"body_markdown":"I have the similar challenge. Additionally in my case this log message appeared when I had set capabilities like this:\r\n```\r\ncaps.setCapability(MobileCapabilityType.FORCE_MJSONWP, true);\r\n```\r\nThe situation is connected with Mobile JSON Wire Protocole I quess.","title":"How to resolve &quot;Cannot call non W3C standard command while in W3C mode&quot; in case of automating android webView","body":"<p>I have the similar challenge. Additionally in my case this log message appeared when I had set capabilities like this:</p>\n\n<pre><code>caps.setCapability(MobileCapabilityType.FORCE_MJSONWP, true);\n</code></pre>\n\n<p>The situation is connected with Mobile JSON Wire Protocole I quess.</p>\n"},{"tags":[],"owner":{"account_id":16826883,"reputation":91,"user_id":12165946,"display_name":"Kitty Raj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1573028338,"creation_date":1573028338,"answer_id":58725741,"question_id":58696488,"body_markdown":"Finally found the solution. I just used the below capabilities.\r\n\r\n    capabilities.setCapability(&quot;appium:chromeOptions&quot;, ImmutableMap.of(&quot;w3c&quot;, false));","title":"How to resolve &quot;Cannot call non W3C standard command while in W3C mode&quot; in case of automating android webView","body":"<p>Finally found the solution. I just used the below capabilities.</p>\n\n<pre><code>capabilities.setCapability(\"appium:chromeOptions\", ImmutableMap.of(\"w3c\", false));\n</code></pre>\n"}],"owner":{"account_id":16826883,"reputation":91,"user_id":12165946,"display_name":"Kitty Raj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58725741,"answer_count":2,"score":1,"last_activity_date":1681460843,"creation_date":1572881383,"question_id":58696488,"body_markdown":"I am doing an android webView automation. After changing from native app context to webview context, I am getting the following error.\r\n\r\n    org.openqa.selenium.UnsupportedCommandException: unknown command: Cannot call non W3C standard command while in W3C mode\r\n\r\nThere are many similar questions related to this but all are related to web. I couldn&#39;t find any solution to solve this in android webView. Can anyone please let me know how can I solve this.\r\n\r\nEnvironment:\r\n\r\n 1. Mobile version : 5.1.1\r\n 2. Appium Version 1.15.1\r\n 3. chromeDriver version : 78.0.3904.70\r\n 4. Chrome Verison : 78.0.3904.62","title":"How to resolve &quot;Cannot call non W3C standard command while in W3C mode&quot; in case of automating android webView","body":"<p>I am doing an android webView automation. After changing from native app context to webview context, I am getting the following error.</p>\n\n<pre><code>org.openqa.selenium.UnsupportedCommandException: unknown command: Cannot call non W3C standard command while in W3C mode\n</code></pre>\n\n<p>There are many similar questions related to this but all are related to web. I couldn't find any solution to solve this in android webView. Can anyone please let me know how can I solve this.</p>\n\n<p>Environment:</p>\n\n<ol>\n<li>Mobile version : 5.1.1</li>\n<li>Appium Version 1.15.1</li>\n<li>chromeDriver version : 78.0.3904.70</li>\n<li>Chrome Verison : 78.0.3904.62</li>\n</ol>\n"},{"tags":["java","maven","swagger","swagger-ui"],"owner":{"account_id":14917984,"reputation":43,"user_id":10771214,"display_name":"theirman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681460308,"creation_date":1681460308,"question_id":76012970,"body_markdown":"I am having problems using the `io.swagger.core.v3:swagger-maven-plugin:2.2.7` to build the Swagger interface. This one is well generated and shows perfectly the methods of my REST API. However, the paths generated for the test function &quot;TRY IT OUT&quot; are incorrects.\r\n\r\nFor example, I have a method version of the UtilsRest service that is exposed on `http://localhost:8080/UtilsRest/api/version`. \r\n\r\n[![swagger-api-interface][1]][1]\r\n\r\nMy method runs perfectly at that address through a browser. But the &quot;TRY IT OUT&quot; function points to http://localhost:8080/version and, not surprisingly, the call fails\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere is some code to contextualize my request. I deliberately chose the most basic method so that logic problems would not interfere.\r\n\r\n - the dependency import in pom.xml\r\n\r\n```\r\n    &lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-maven-plugin --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n      &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n - the plugin configuration in pom.xml\r\n\r\n```\r\n      &lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-maven-plugin --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.7&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;outputFileName&gt;${project.name}&lt;/outputFileName&gt;\r\n          &lt;outputPath&gt;${basedir}/src/main/webapp/WebContent&lt;/outputPath&gt;\r\n          &lt;outputFormat&gt;JSON&lt;/outputFormat&gt;\r\n          &lt;resourcePackages&gt;          \r\n            &lt;package&gt;com.societe.unite.services&lt;/package&gt;\r\n          &lt;/resourcePackages&gt;\r\n          &lt;prettyPrint&gt;TRUE&lt;/prettyPrint&gt;\r\n          &lt;sortOutput&gt;TRUE&lt;/sortOutput&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;resolve&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;    \r\n```\r\n\r\n - content of the web.xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n         xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; \r\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; \r\n         version=&quot;4.0&quot;&gt;\r\n  &lt;display-name&gt;UtilsRest&lt;/display-name&gt;\r\n  &lt;default-context-path&gt;UtilsRest&lt;/default-context-path&gt;\r\n\r\n  &lt;servlet&gt;\r\n    &lt;display-name&gt;Rest Servlet&lt;/display-name&gt;\r\n    &lt;servlet-name&gt;RestServlet&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n    &lt;init-param&gt;\r\n      &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n      &lt;param-value&gt;com.societe.unite&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;init-param&gt;\r\n      &lt;param-name&gt;jersey.config.server.provider.classnames&lt;/param-name&gt;\r\n      &lt;param-value&gt;org.glassfish.jersey.server.filter.RolesAllowedDynamicFeature&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n  &lt;/servlet&gt;\r\n\r\n  &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;RestServlet&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n\r\n  &lt;welcome-file-list&gt;\r\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n  &lt;/welcome-file-list&gt;\r\n  \r\n&lt;/web-app&gt;\r\n```\r\n\r\n - content of the UtilsRest class\r\n\r\n```\r\npackage com.societe.unite.services;\r\n\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.MediaType;\r\n\r\nimport io.swagger.v3.oas.annotations.OpenAPIDefinition;\r\nimport io.swagger.v3.oas.annotations.info.Contact;\r\nimport io.swagger.v3.oas.annotations.info.Info;\r\nimport io.swagger.v3.oas.annotations.info.License;\r\nimport io.swagger.v3.oas.annotations.tags.Tag;\r\n\r\n@OpenAPIDefinition\r\n(\r\n    info = @Info\r\n    (\r\n        title = &quot;UtilsRest&quot;,\r\n        version = &quot;1.0.0&quot;,\r\n        description = &quot;API du projet UtilsRest&quot;,\r\n        license = @License\r\n        (\r\n            name = &quot;Creative Commons CC BY&quot;,\r\n            url = &quot;https://creativecommons.org/licenses/by/4.0/deed.fr&quot;\r\n        ),\r\n        contact = @Contact\r\n        (\r\n            email = &quot;thierry.heirman@societe.com&quot;,\r\n            name = &quot;Thierry Heirman&quot;\r\n        )\r\n    )\r\n)\r\n\r\n\r\n@Tag(name = &quot;Utils&quot;)\r\n@Path(&quot;&quot;)\r\npublic class Utils implements IUtils\r\n{\r\n    @GET \r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    @Path(&quot;version&quot;)\r\n    public String getVersion()\r\n    {\r\n        return &quot;1.0&quot;;\r\n    }\r\n}\r\n```\r\n\r\n*(I warned you that I chose the most basic example :D )*\r\n\r\nPlease help me to find out why my paths are generated incorrectly.\r\n\r\nThank you, have a nice day\r\n\r\nThierry\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oQUiQ.png\r\n  [2]: https://i.stack.imgur.com/oYkap.png","title":"Why does swagger-maven-plugin generate incorrect test addresses in swagger-ui?","body":"<p>I am having problems using the <code>io.swagger.core.v3:swagger-maven-plugin:2.2.7</code> to build the Swagger interface. This one is well generated and shows perfectly the methods of my REST API. However, the paths generated for the test function &quot;TRY IT OUT&quot; are incorrects.</p>\n<p>For example, I have a method version of the UtilsRest service that is exposed on <code>http://localhost:8080/UtilsRest/api/version</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/oQUiQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oQUiQ.png\" alt=\"swagger-api-interface\" /></a></p>\n<p>My method runs perfectly at that address through a browser. But the &quot;TRY IT OUT&quot; function points to http://localhost:8080/version and, not surprisingly, the call fails</p>\n<p><a href=\"https://i.stack.imgur.com/oYkap.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oYkap.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is some code to contextualize my request. I deliberately chose the most basic method so that logic problems would not interfere.</p>\n<ul>\n<li>the dependency import in pom.xml</li>\n</ul>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-maven-plugin --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n      &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>the plugin configuration in pom.xml</li>\n</ul>\n<pre><code>      &lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-maven-plugin --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n        &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.2.7&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;outputFileName&gt;${project.name}&lt;/outputFileName&gt;\n          &lt;outputPath&gt;${basedir}/src/main/webapp/WebContent&lt;/outputPath&gt;\n          &lt;outputFormat&gt;JSON&lt;/outputFormat&gt;\n          &lt;resourcePackages&gt;          \n            &lt;package&gt;com.societe.unite.services&lt;/package&gt;\n          &lt;/resourcePackages&gt;\n          &lt;prettyPrint&gt;TRUE&lt;/prettyPrint&gt;\n          &lt;sortOutput&gt;TRUE&lt;/sortOutput&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;resolve&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;    \n</code></pre>\n<ul>\n<li>content of the web.xml file</li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n         xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; \n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; \n         version=&quot;4.0&quot;&gt;\n  &lt;display-name&gt;UtilsRest&lt;/display-name&gt;\n  &lt;default-context-path&gt;UtilsRest&lt;/default-context-path&gt;\n\n  &lt;servlet&gt;\n    &lt;display-name&gt;Rest Servlet&lt;/display-name&gt;\n    &lt;servlet-name&gt;RestServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n      &lt;param-value&gt;com.societe.unite&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;jersey.config.server.provider.classnames&lt;/param-name&gt;\n      &lt;param-value&gt;org.glassfish.jersey.server.filter.RolesAllowedDynamicFeature&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;RestServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n  \n&lt;/web-app&gt;\n</code></pre>\n<ul>\n<li>content of the UtilsRest class</li>\n</ul>\n<pre><code>package com.societe.unite.services;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\n\nimport io.swagger.v3.oas.annotations.OpenAPIDefinition;\nimport io.swagger.v3.oas.annotations.info.Contact;\nimport io.swagger.v3.oas.annotations.info.Info;\nimport io.swagger.v3.oas.annotations.info.License;\nimport io.swagger.v3.oas.annotations.tags.Tag;\n\n@OpenAPIDefinition\n(\n    info = @Info\n    (\n        title = &quot;UtilsRest&quot;,\n        version = &quot;1.0.0&quot;,\n        description = &quot;API du projet UtilsRest&quot;,\n        license = @License\n        (\n            name = &quot;Creative Commons CC BY&quot;,\n            url = &quot;https://creativecommons.org/licenses/by/4.0/deed.fr&quot;\n        ),\n        contact = @Contact\n        (\n            email = &quot;thierry.heirman@societe.com&quot;,\n            name = &quot;Thierry Heirman&quot;\n        )\n    )\n)\n\n\n@Tag(name = &quot;Utils&quot;)\n@Path(&quot;&quot;)\npublic class Utils implements IUtils\n{\n    @GET \n    @Produces(MediaType.TEXT_PLAIN)\n    @Path(&quot;version&quot;)\n    public String getVersion()\n    {\n        return &quot;1.0&quot;;\n    }\n}\n</code></pre>\n<p><em>(I warned you that I chose the most basic example :D )</em></p>\n<p>Please help me to find out why my paths are generated incorrectly.</p>\n<p>Thank you, have a nice day</p>\n<p>Thierry</p>\n"},{"tags":["java","casting","xor"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":3,"creation_date":1681458591,"post_id":76012699,"comment_id":134062610,"body_markdown":"Please call this operation &quot;obfuscation&quot;, not &quot;encryption&quot; - because that&#39;s what it is (and what it is not). Also, what&#39;s `en` and `de`?","body":"Please call this operation &quot;obfuscation&quot;, not &quot;encryption&quot; - because that&#39;s what it is (and what it is not). Also, what&#39;s <code>en</code> and <code>de</code>?"},{"owner":{"account_id":25652111,"reputation":77,"user_id":19419202,"display_name":"yad0"},"score":0,"creation_date":1681459207,"post_id":76012699,"comment_id":134062766,"body_markdown":"@OlafKock i had forgotten to remove those. I just have different classes for encryption and decryption, that&#39;s why they were there.","body":"@OlafKock i had forgotten to remove those. I just have different classes for encryption and decryption, that&#39;s why they were there."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1681461997,"post_id":76012699,"comment_id":134063461,"body_markdown":"why are keys not `char[]`?","body":"why are keys not <code>char[]</code>?"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681459965,"creation_date":1681459965,"answer_id":76012923,"question_id":76012699,"body_markdown":"You must XOR with the same previous element.\r\n\r\nCurrently when encrypting you use\r\n\r\n    msg[i] = letters[i] ^ keys[i] ^ msg[i - 1];\r\n\r\nwhere `msg[i - 1]` is the encrypted previous character.\r\n\r\nWhen decrypting you use\r\n\r\n    msg[i] = (char)(letters[i] ^ keys[i] ^ msg[i - 1]);\r\n\r\nwhere `msg[i - 1]` is the decrypted previous character.\r\n\r\nYou can either use\r\n\r\n    msg[i] = (char)(letters[i] ^ keys[i] ^ letter[i - 1]);\r\n\r\nwhen decrypting, or use\r\n\r\n    msg[i] = letters[i] ^ keys[i] ^ letters[i - 1];\r\n\r\nwhen encrypting.\r\n\r\n----\r\nNote: from the comments, some say that is is mere obfuscation.\r\n\r\nBut: this is IMHO an application of the [One-Time Pad](https://en.wikipedia.org/wiki/One-time_pad) algorithm if you create a unique key in `genereateKeys(charArray1.length)` - and **a properly done** One-Time Pad is an encryption technique that cannot be cracked.\r\n\r\nThe emphasis is on &quot;properly done&quot; because this technique of course requires that both sender (encryptor) and receiver (decryptor) must know the One-Time Pad and the difficulty is in securely transfering that One-Time Pad from the sender to the receiver of the message.","title":"XOR and typecasting","body":"<p>You must XOR with the same previous element.</p>\n<p>Currently when encrypting you use</p>\n<pre><code>msg[i] = letters[i] ^ keys[i] ^ msg[i - 1];\n</code></pre>\n<p>where <code>msg[i - 1]</code> is the encrypted previous character.</p>\n<p>When decrypting you use</p>\n<pre><code>msg[i] = (char)(letters[i] ^ keys[i] ^ msg[i - 1]);\n</code></pre>\n<p>where <code>msg[i - 1]</code> is the decrypted previous character.</p>\n<p>You can either use</p>\n<pre><code>msg[i] = (char)(letters[i] ^ keys[i] ^ letter[i - 1]);\n</code></pre>\n<p>when decrypting, or use</p>\n<pre><code>msg[i] = letters[i] ^ keys[i] ^ letters[i - 1];\n</code></pre>\n<p>when encrypting.</p>\n<hr />\n<p>Note: from the comments, some say that is is mere obfuscation.</p>\n<p>But: this is IMHO an application of the <a href=\"https://en.wikipedia.org/wiki/One-time_pad\" rel=\"nofollow noreferrer\">One-Time Pad</a> algorithm if you create a unique key in <code>genereateKeys(charArray1.length)</code> - and <strong>a properly done</strong> One-Time Pad is an encryption technique that cannot be cracked.</p>\n<p>The emphasis is on &quot;properly done&quot; because this technique of course requires that both sender (encryptor) and receiver (decryptor) must know the One-Time Pad and the difficulty is in securely transfering that One-Time Pad from the sender to the receiver of the message.</p>\n"}],"owner":{"account_id":25652111,"reputation":77,"user_id":19419202,"display_name":"yad0"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76012923,"answer_count":1,"score":0,"last_activity_date":1681459965,"creation_date":1681458397,"question_id":76012699,"body_markdown":"I&#39;m writing an encryption/decryption program using bitwise xor operation. Given a character array and an array with int as keys, I xor the first character of the array with the first key. For the other characters I xor them with the next int in the key array and then xor again with the previous encrypted character. ```enc[i] = enc[i - 1] ^ k[i] ^ c[i]``` where c is the character to be encrypted, k the key, and enc the encrypted character. I do get the correct result if I don&#39;t xor with the previous encrypted character.\r\n\r\n```\r\npublic class Main{\r\n    public static void main(String[] args){\r\n\r\n        char[] charArray1 = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;};\r\n        int[] keys1 = genereateKeys(charArray1.length);\r\n        \r\n        int[] encrypted1 = encrypt(charArray1, keys1);\r\n        printCharArray(decrypt(encrypted1, keys1));\r\n\r\n        char[] charArray2 = {&#39;H&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;, &#39; &#39;, &#39;W&#39;, &#39;o&#39;, &#39;r&#39;, &#39;l&#39;, &#39;d&#39;};\r\n        int[] keys2 = genereateKeys(charArray2.length);\r\n        \r\n        int[] encrypted2 = encrypt(charArray2, keys2);\r\n        printCharArray(decrypt(encrypted2, keys2));\r\n    }\r\n\r\n    public static void printCharArray(char[] letter){\r\n        for(int i = 0; i &lt; letter.length; ++i)\r\n            System.out.print(letter[i]);\r\n        \r\n        System.out.println();\r\n    }\r\n\r\n    public static int[] encrypt(char[] letters, int[] keys){\r\n        int[] msg = new int[letters.length];\r\n        msg[0] = ((int)letters[0]) ^ keys[0];\r\n        for(int i = 1; i &lt; letters.length; ++i){\r\n            msg[i] = ((int)letters[i]) ^ keys[i] ^ msg[i - 1];\r\n        }\r\n        return msg;\r\n    }\r\n\r\n    public static char[] decrypt(int[] letters, int[] keys){\r\n        char[] msg = new char[letters.length];\r\n        msg[0] = (char)(letters[0] ^ keys[0]);\r\n        for(int i = 1; i &lt; letters.length; ++i){\r\n            msg[i] = (char)(letters[i] ^ keys[i]) ^ (int)msg[i - 1]);\r\n        }\r\n        return msg;\r\n    }\r\n\r\n}\r\n```\r\nSo what exactly am I doing wrong here? As I said when I encrypt/decrypt without the before element the result is as expected. The problem is when i xor with the before element.","title":"XOR and typecasting","body":"<p>I'm writing an encryption/decryption program using bitwise xor operation. Given a character array and an array with int as keys, I xor the first character of the array with the first key. For the other characters I xor them with the next int in the key array and then xor again with the previous encrypted character. <code>enc[i] = enc[i - 1] ^ k[i] ^ c[i]</code> where c is the character to be encrypted, k the key, and enc the encrypted character. I do get the correct result if I don't xor with the previous encrypted character.</p>\n<pre><code>public class Main{\n    public static void main(String[] args){\n\n        char[] charArray1 = {'a', 'b', 'c', 'd', 'e'};\n        int[] keys1 = genereateKeys(charArray1.length);\n        \n        int[] encrypted1 = encrypt(charArray1, keys1);\n        printCharArray(decrypt(encrypted1, keys1));\n\n        char[] charArray2 = {'H', 'e', 'l', 'l', 'o', ' ', 'W', 'o', 'r', 'l', 'd'};\n        int[] keys2 = genereateKeys(charArray2.length);\n        \n        int[] encrypted2 = encrypt(charArray2, keys2);\n        printCharArray(decrypt(encrypted2, keys2));\n    }\n\n    public static void printCharArray(char[] letter){\n        for(int i = 0; i &lt; letter.length; ++i)\n            System.out.print(letter[i]);\n        \n        System.out.println();\n    }\n\n    public static int[] encrypt(char[] letters, int[] keys){\n        int[] msg = new int[letters.length];\n        msg[0] = ((int)letters[0]) ^ keys[0];\n        for(int i = 1; i &lt; letters.length; ++i){\n            msg[i] = ((int)letters[i]) ^ keys[i] ^ msg[i - 1];\n        }\n        return msg;\n    }\n\n    public static char[] decrypt(int[] letters, int[] keys){\n        char[] msg = new char[letters.length];\n        msg[0] = (char)(letters[0] ^ keys[0]);\n        for(int i = 1; i &lt; letters.length; ++i){\n            msg[i] = (char)(letters[i] ^ keys[i]) ^ (int)msg[i - 1]);\n        }\n        return msg;\n    }\n\n}\n</code></pre>\n<p>So what exactly am I doing wrong here? As I said when I encrypt/decrypt without the before element the result is as expected. The problem is when i xor with the before element.</p>\n"},{"tags":["java","tomcat9"],"comments":[{"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"score":0,"creation_date":1681452559,"post_id":76011674,"comment_id":134061480,"body_markdown":"1.Link didn&#39;t help, removed Oracle jar file from lib. \n2.Tried adding -Xms128m -Xmx1024m configuration of tomcat.\n\nNot added any code to resolve as same code works fine in Java 8. \n\nOther projects works fine with Java 11 so such error. It has to error out for all project but that&#39;s not case. Its happening only for specific application only.","body":"1.Link didn&#39;t help, removed Oracle jar file from lib.  2.Tried adding -Xms128m -Xmx1024m configuration of tomcat.  Not added any code to resolve as same code works fine in Java 8.   Other projects works fine with Java 11 so such error. It has to error out for all project but that&#39;s not case. Its happening only for specific application only."}],"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681460627,"answer_count":0,"score":0,"last_activity_date":1681459782,"creation_date":1681447529,"question_id":76011674,"body_markdown":"We are migrating from Java 8 to Java 11, while starting the tomcat server-9 getting below exception for few application only.\r\n\r\nUsing Eclipse and com.ibm.db2.jcc.DB2Driver to connect to database.\r\n\r\n```\r\nWARNING: The web application [Sample] appears to have started a thread named[POJO.data] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@11.0.16/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@11.0.16/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\r\n java.base@11.0.16/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)\r\n java.base@11.0.16/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\r\n java.base@11.0.16/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\r\n java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n java.base@11.0.16/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\nSteps tried given in \r\nhttps://stackoverflow.com/questions/48254517/the-web-application-appears-to-have-started-a-thread-named-timer-0-but-has-fai\r\n\r\n1. Not using any java.util.Timer in our application.\r\n2. Rmoved Oracle jar file from lib. \r\n3. Tried adding -Xms128m -Xmx1024m configuration of tomcat\r\n4. AbandonedConnectionCleanupThread.shutdown() - not using mysql to do any coding for this.\r\n4. Exception stacktrace shows thread named [POJO.data] - here POJO is simple java class with getter and setter method not sure why its picking pojo classes.","title":"java.base@11.0.16/jdk.internal.misc.Unsafe.park : Migration from Java 8 to Java 11","body":"<p>We are migrating from Java 8 to Java 11, while starting the tomcat server-9 getting below exception for few application only.</p>\n<p>Using Eclipse and com.ibm.db2.jcc.DB2Driver to connect to database.</p>\n<pre><code>WARNING: The web application [Sample] appears to have started a thread named[POJO.data] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@11.0.16/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@11.0.16/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\n java.base@11.0.16/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)\n java.base@11.0.16/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\n java.base@11.0.16/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\n java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n java.base@11.0.16/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>Steps tried given in\n<a href=\"https://stackoverflow.com/questions/48254517/the-web-application-appears-to-have-started-a-thread-named-timer-0-but-has-fai\">The web application appears to have started a thread named [Timer-0] but has failed to stop it</a></p>\n<ol>\n<li>Not using any java.util.Timer in our application.</li>\n<li>Rmoved Oracle jar file from lib.</li>\n<li>Tried adding -Xms128m -Xmx1024m configuration of tomcat</li>\n<li>AbandonedConnectionCleanupThread.shutdown() - not using mysql to do any coding for this.</li>\n<li>Exception stacktrace shows thread named [POJO.data] - here POJO is simple java class with getter and setter method not sure why its picking pojo classes.</li>\n</ol>\n"},{"tags":["eclipse","configuration","java","buildpath"],"answers":[{"tags":[],"owner":{"account_id":1666974,"reputation":3176,"user_id":1534183,"accept_rate":85,"display_name":"Vikas V"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1531814441,"creation_date":1372092783,"answer_id":17280822,"question_id":17280728,"body_markdown":"A project&#39;s Web App Library is composed automatically by Eclipse from any JARs on the project path, `&lt;project-name&gt;/WebContent/WEB-INF/lib`. JARs reach that location:\r\n\r\n 1. after the project is created (of course, since the project file system begins to exist only then)\r\n 2. by the user&#39;s hand.\r\n\r\nSo, you can edit the Web App library by adding / deleting jars under `WEB-INF/lib` folder.\r\n\r\nMore details on [Web App libraries][1] can be found here.\r\n\r\n\r\n  [1]: http://www.javahotchocolate.com/tutorials/web-jars.html","title":"Can&#39;t remove jar from Web App Library","body":"<p>A project's Web App Library is composed automatically by Eclipse from any JARs on the project path, <code>&lt;project-name&gt;/WebContent/WEB-INF/lib</code>. JARs reach that location:</p>\n\n<ol>\n<li>after the project is created (of course, since the project file system begins to exist only then)</li>\n<li>by the user's hand.</li>\n</ol>\n\n<p>So, you can edit the Web App library by adding / deleting jars under <code>WEB-INF/lib</code> folder.</p>\n\n<p>More details on <a href=\"http://www.javahotchocolate.com/tutorials/web-jars.html\" rel=\"nofollow noreferrer\">Web App libraries</a> can be found here.</p>\n"},{"tags":[],"owner":{"account_id":2522766,"reputation":3910,"user_id":2192791,"accept_rate":82,"display_name":"AllieCat"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1372093654,"creation_date":1372093654,"answer_id":17281074,"question_id":17280728,"body_markdown":"I figured it out - sorry to bother everyone.\r\n\r\n Go to the jar in the Project Explorer, right click and Delete.\r\n\r\n![Deleting jar in Web App Library][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/BlVpt.png\r\n\r\n","title":"Can&#39;t remove jar from Web App Library","body":"<p>I figured it out - sorry to bother everyone.</p>\n\n<p>Go to the jar in the Project Explorer, right click and Delete.</p>\n\n<p><img src=\"https://i.stack.imgur.com/BlVpt.png\" alt=\"Deleting jar in Web App Library\"></p>\n"},{"tags":[],"owner":{"account_id":1392268,"reputation":323,"user_id":1322804,"display_name":"Bruno Freitas"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1404211797,"creation_date":1404211797,"answer_id":24508415,"question_id":17280728,"body_markdown":"After delete some libs, delete Webapp libs in Build Path then close and open Eclipse, add Webapp Libs in Build Path again. Worked for me.","title":"Can&#39;t remove jar from Web App Library","body":"<p>After delete some libs, delete Webapp libs in Build Path then close and open Eclipse, add Webapp Libs in Build Path again. Worked for me.</p>\n"},{"tags":[],"owner":{"account_id":2143157,"reputation":1,"user_id":1901369,"display_name":"SanmitK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631618831,"creation_date":1631618831,"answer_id":69176892,"question_id":17280728,"body_markdown":"What worked for me was, I was trying to delete the JARs from Build Path, which I accessed through &#39;Project Explorer&#39; tab. But the JARs delete option is greyed out there, as per the original question.\r\n\r\nSo I tried the same from : &#39;Navigator&#39; perspective (which is deprecated). When I went to my projects build path from here, I could see the delete option.","title":"Can&#39;t remove jar from Web App Library","body":"<p>What worked for me was, I was trying to delete the JARs from Build Path, which I accessed through 'Project Explorer' tab. But the JARs delete option is greyed out there, as per the original question.</p>\n<p>So I tried the same from : 'Navigator' perspective (which is deprecated). When I went to my projects build path from here, I could see the delete option.</p>\n"},{"tags":[],"owner":{"account_id":2396304,"reputation":164,"user_id":2095034,"display_name":"Ishmael Mavor Raines"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681459713,"creation_date":1681457920,"answer_id":76012647,"question_id":17280728,"body_markdown":"\r\nFor Spring tools I open workspace folder **manually** ...\r\n\r\nC:\\Users\\Administrator\\Documents\\workspace-spring-tool-suite-4-4.18.0.RELEASE\\JavaApp\\src\\main\\webapp\\WEB-INF\\lib\r\n\r\nand delete the jars from there!\r\n\r\nHooray they&#39;re gone. Doesnt look like we need an IDE neither.\r\n\r\nAlso you can try to view files in Package Explorer instead of Project Explorer...\r\n\r\n  Windows -&gt; Show View  -&gt; Package Explorer","title":"Can&#39;t remove jar from Web App Library","body":"<p>For Spring tools I open workspace folder <strong>manually</strong> ...</p>\n<p>C:\\Users\\Administrator\\Documents\\workspace-spring-tool-suite-4-4.18.0.RELEASE\\JavaApp\\src\\main\\webapp\\WEB-INF\\lib</p>\n<p>and delete the jars from there!</p>\n<p>Hooray they're gone. Doesnt look like we need an IDE neither.</p>\n<p>Also you can try to view files in Package Explorer instead of Project Explorer...</p>\n<p>Windows -&gt; Show View  -&gt; Package Explorer</p>\n"}],"owner":{"account_id":2522766,"reputation":3910,"user_id":2192791,"accept_rate":82,"display_name":"AllieCat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16917,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":17280822,"answer_count":5,"score":12,"last_activity_date":1681459713,"creation_date":1372092436,"question_id":17280728,"body_markdown":"How can I remove the jars in my Web App Library?\r\n\r\nI manually added a couple jars to the web app library. \r\nMy program is now pitching a fit so I clearly need to remove them. \r\n\r\nHowever, when I go to the Build Path, the &quot;Remove&quot; is greyed out. \r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/L3Gz9.png","title":"Can&#39;t remove jar from Web App Library","body":"<p>How can I remove the jars in my Web App Library?</p>\n\n<p>I manually added a couple jars to the web app library. \nMy program is now pitching a fit so I clearly need to remove them. </p>\n\n<p>However, when I go to the Build Path, the \"Remove\" is greyed out. \n<img src=\"https://i.stack.imgur.com/L3Gz9.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","postgresql","jdbc","postgresql-14","jdbc-postgres"],"comments":[{"owner":{"display_name":"user330315"},"score":2,"creation_date":1681459988,"post_id":76012848,"comment_id":134062964,"body_markdown":"Try to disable [server side prepared statements](https://jdbc.postgresql.org/documentation/server-prepare/#server-prepared-statements)  by setting prepareThreshold  to 0","body":"Try to disable <a href=\"https://jdbc.postgresql.org/documentation/server-prepare/#server-prepared-statements\" rel=\"nofollow noreferrer\">server side prepared statements</a>  by setting prepareThreshold  to 0"},{"owner":{"account_id":28301981,"reputation":1,"user_id":21640538,"display_name":"Thttp"},"score":0,"creation_date":1681460853,"post_id":76012848,"comment_id":134063191,"body_markdown":"It works! Many thanks!\nI wonder that... \nAny project (using PreparedStatement) that also requires this setting prepareThreshold =0 (default prepareThreshold = 5)?\nAnd what different with setting plan_cache_mode = force_custom_plan?","body":"It works! Many thanks! I wonder that...  Any project (using PreparedStatement) that also requires this setting prepareThreshold =0 (default prepareThreshold = 5)? And what different with setting plan_cache_mode = force_custom_plan?"},{"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"score":2,"creation_date":1681461447,"post_id":76012848,"comment_id":134063329,"body_markdown":"Look [here](https://stackoverflow.com/questions/38188248/after-9-queries-to-database-the-time-to-perform-the-same-query-is-multiplied-by/38188817?r=SearchResults&amp;s=4%7C40.3890#38188817) for a detailed explanation.","body":"Look <a href=\"https://stackoverflow.com/questions/38188248/after-9-queries-to-database-the-time-to-perform-the-same-query-is-multiplied-by/38188817?r=SearchResults&amp;s=4%7C40.3890#38188817\">here</a> for a detailed explanation."}],"owner":{"account_id":28301981,"reputation":1,"user_id":21640538,"display_name":"Thttp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681459446,"creation_date":1681459446,"question_id":76012848,"body_markdown":"I upgraded JDBC from postgresql-9.2-1000.jar(PostgreSQL 9.2.1) to postgresql-42.5.0.jar(PostgreSQL 14.6) and strange thing happened.\r\nWith the same query, It takes slow after fourth, or ninth execution.\r\n(It doesn&#39;t happen with postgresql-9.2-1000.jar(PostgreSQL 9.2.1)) \r\n\r\nExample:\r\n```\r\npublic class JDBCExample3 {\r\n\tpublic static void main(String[] args) throws SQLException {\r\n\t\tConnection conn = DriverManager.getConnection(&quot;jdbc:postgresql://xxx.xxx.xxx.xxx:5432/testdb&quot;, &quot;user&quot;,\r\n\t\t\t\t&quot;password&quot;);\r\n\t\tString SQL = &quot;select ...&quot;;\r\n\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tPreparedStatement pstmt = conn.prepareStatement(SQL);\r\n\t\t\t//set parameters \r\n\t\t\tpstmt.setString(0, &quot;122344acbc&quot;);\r\n\t\t\t// ... \r\n\t\t\t\r\n\t\t\t// It&#39;s not slow with i from 0 to 8.\r\n\t\t\tResultSet rs = pstmt.executeQuery(); //When i = 9 (after ninth execution), It takes long time here.  slow!!!\r\n\t\t\twhile (rs.next()) {\r\n\t\t\t\t//get result\r\n\t\t\t\trs.getString(&quot;name&quot;);\r\n\t\t\t\t//...\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.println(&quot;loop:&quot; + i);\r\n\t\t\t\r\n\t\t\t//close\r\n\t\t\trs.close();\r\n\t\t\trs = null;\r\n\t\t\tpstmt.close();\r\n\t\t\tpstmt = null;\r\n\t\t}\r\n\t\tconn.close();\r\n\t\tSystem.out.println(&quot;end&quot;);\r\n\t}\r\n}\r\n```\r\nI&#39;m trying to fix it.\r\nWhat should I pay attention to about postgresql-42.5.0.jar(PostgreSQL 14.6) here?\r\n\r\n\r\nI expected the &quot;pstmt.executeQuery()&quot; took the same time with all execution.","title":"I upgraded JDBC driver to postgresql, strange thing happened","body":"<p>I upgraded JDBC from postgresql-9.2-1000.jar(PostgreSQL 9.2.1) to postgresql-42.5.0.jar(PostgreSQL 14.6) and strange thing happened.\nWith the same query, It takes slow after fourth, or ninth execution.\n(It doesn't happen with postgresql-9.2-1000.jar(PostgreSQL 9.2.1))</p>\n<p>Example:</p>\n<pre><code>public class JDBCExample3 {\n    public static void main(String[] args) throws SQLException {\n        Connection conn = DriverManager.getConnection(&quot;jdbc:postgresql://xxx.xxx.xxx.xxx:5432/testdb&quot;, &quot;user&quot;,\n                &quot;password&quot;);\n        String SQL = &quot;select ...&quot;;\n\n        for (int i = 0; i &lt; 10; i++) {\n            PreparedStatement pstmt = conn.prepareStatement(SQL);\n            //set parameters \n            pstmt.setString(0, &quot;122344acbc&quot;);\n            // ... \n            \n            // It's not slow with i from 0 to 8.\n            ResultSet rs = pstmt.executeQuery(); //When i = 9 (after ninth execution), It takes long time here.  slow!!!\n            while (rs.next()) {\n                //get result\n                rs.getString(&quot;name&quot;);\n                //...\n            }\n\n            System.out.println(&quot;loop:&quot; + i);\n            \n            //close\n            rs.close();\n            rs = null;\n            pstmt.close();\n            pstmt = null;\n        }\n        conn.close();\n        System.out.println(&quot;end&quot;);\n    }\n}\n</code></pre>\n<p>I'm trying to fix it.\nWhat should I pay attention to about postgresql-42.5.0.jar(PostgreSQL 14.6) here?</p>\n<p>I expected the &quot;pstmt.executeQuery()&quot; took the same time with all execution.</p>\n"},{"tags":["java","github"],"comments":[{"owner":{"account_id":6657226,"reputation":16109,"user_id":5137352,"accept_rate":89,"display_name":"Nabin Bhandari"},"score":0,"creation_date":1507256437,"post_id":46597312,"comment_id":80147270,"body_markdown":"Simple: use an IDE.","body":"Simple: use an IDE."},{"owner":{"account_id":5211089,"reputation":2867,"user_id":4167500,"display_name":"JKostikiadis"},"score":1,"creation_date":1507256451,"post_id":46597312,"comment_id":80147274,"body_markdown":"Have a look here : https://stackoverflow.com/questions/9395207/how-to-include-jar-files-with-java-file-and-compile-in-command-prompt\nAnd of course start using an IDE ( Eclipse , Intelij etc ) it will increase your productivity and make your life easier ;)","body":"Have a look here : <a href=\"https://stackoverflow.com/questions/9395207/how-to-include-jar-files-with-java-file-and-compile-in-command-prompt\" title=\"how to include jar files with java file and compile in command prompt\">stackoverflow.com/questions/9395207/&hellip;</a> And of course start using an IDE ( Eclipse , Intelij etc ) it will increase your productivity and make your life easier ;)"},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507256980,"post_id":46597312,"comment_id":80147390,"body_markdown":"@EdwinDalorzo Yes I have installed maven. I have got 3 jar files and a bunch of other files with it when I ran &quot;maven clean package&quot; So If I copy those jar files to lib folder i&#39;m done?","body":"@EdwinDalorzo Yes I have installed maven. I have got 3 jar files and a bunch of other files with it when I ran &quot;maven clean package&quot; So If I copy those jar files to lib folder i&#39;m done?"},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507257416,"post_id":46597312,"comment_id":80147490,"body_markdown":"@EdwinDalorzo Its very confusing :/ I ran &quot;maven clean package&quot; on the folder that I extracted from that zip file...Am I doing it wrong? Should I create my java program and then run the command on that ??","body":"@EdwinDalorzo Its very confusing :/ I ran &quot;maven clean package&quot; on the folder that I extracted from that zip file...Am I doing it wrong? Should I create my java program and then run the command on that ??"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1507260963,"post_id":46597312,"comment_id":80148198,"body_markdown":"@MrX: to use a jar with a maven project, add the jar as a dependency in your pom.xml. There is no lib folder. And notepad is about the worst editor ever.","body":"@MrX: to use a jar with a maven project, add the jar as a dependency in your pom.xml. There is no lib folder. And notepad is about the worst editor ever."},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507264744,"post_id":46597312,"comment_id":80148912,"body_markdown":"@NathanHughes I know as people stick to easy access ready baked 1 click codes through IDE&#39;s, I prefer notepad over them so I have to type everything I&#39;m doing and when I start to debug, Hell breaks loose when there&#39;s 500+ lines of code. But in the process I think like a machine. It definitely helps me as I&#39;m learning java myself.","body":"@NathanHughes I know as people stick to easy access ready baked 1 click codes through IDE&#39;s, I prefer notepad over them so I have to type everything I&#39;m doing and when I start to debug, Hell breaks loose when there&#39;s 500+ lines of code. But in the process I think like a machine. It definitely helps me as I&#39;m learning java myself."},{"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"score":0,"creation_date":1507280387,"post_id":46597312,"comment_id":80155837,"body_markdown":"@MrX I think your approach is the right one. If you&#39;re relative new to Java, using an IDE is a good way to ensure that you _never_ really understand why you have the problems you face, and if you&#39;re ever faced with a problem your IDE can&#39;t solve, you&#39;ll be stuck. IDEs have their place, of course, but as learning tools they&#39;re terrible.","body":"@MrX I think your approach is the right one. If you&#39;re relative new to Java, using an IDE is a good way to ensure that you <i>never</i> really understand why you have the problems you face, and if you&#39;re ever faced with a problem your IDE can&#39;t solve, you&#39;ll be stuck. IDEs have their place, of course, but as learning tools they&#39;re terrible."},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507438550,"post_id":46597312,"comment_id":80205529,"body_markdown":"@KevinBoone Thanks man  :D","body":"@KevinBoone Thanks man  :D"}],"answers":[{"tags":[],"owner":{"account_id":6306175,"reputation":6201,"user_id":4899193,"display_name":"Usagi Miyamoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681459302,"creation_date":1507256815,"answer_id":46597384,"question_id":46597312,"body_markdown":"&gt; I read about -classpath but I&#39;ll have to set the path every time I have a new library?? (I&#39;m still confused)\r\n\r\nNo.  \r\n**You have to set it every time you run your program!**\r\n\r\nSo you either create a script to run your program, or set it thru the `MANIFEST.MF` file of your program&#39;s main `JAR`...\r\n\r\nSee:\r\n\r\n- [`java`/`javaw` arguments][1]\r\n- [Manifest files][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html","title":"How do I add a library to java? I dont use any IDE, I use only the command prompt","body":"<blockquote>\n<p>I read about -classpath but I'll have to set the path every time I have a new library?? (I'm still confused)</p>\n</blockquote>\n<p>No.<br />\n<strong>You have to set it every time you run your program!</strong></p>\n<p>So you either create a script to run your program, or set it thru the <code>MANIFEST.MF</code> file of your program's main <code>JAR</code>...</p>\n<p>See:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html\" rel=\"nofollow noreferrer\"><code>java</code>/<code>javaw</code> arguments</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\" rel=\"nofollow noreferrer\">Manifest files</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1244297,"reputation":4258,"user_id":1206062,"accept_rate":55,"display_name":"Harshavardhan Konakanchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507257528,"creation_date":1507257327,"answer_id":46597437,"question_id":46597312,"body_markdown":"Set an Environment variable **`CLASSPATH`** in **`System Properties`**--&gt; **`Advanced`** --&gt; **`Environment Variables`**\r\n\r\nFor example if you have multiple jar files, copy them to a dir in **`C:\\LIBS\\`** and set classpath value as **`C:\\LIBS\\*;.`**\r\n\r\nIf you want for specific jar files only  set it as, **`C:\\LIBS\\jar1.jar;C:\\LIBS\\jar2.jar;.`**\r\n\r\nOpen new command prompt and it should work and is permanent\r\n\r\n**`NOTE` : This impacts all the instances of command prompts opened further**\r\n\r\n","title":"How do I add a library to java? I dont use any IDE, I use only the command prompt","body":"<p>Set an Environment variable <strong><code>CLASSPATH</code></strong> in <strong><code>System Properties</code></strong>--> <strong><code>Advanced</code></strong> --> <strong><code>Environment Variables</code></strong></p>\n\n<p>For example if you have multiple jar files, copy them to a dir in <strong><code>C:\\LIBS\\</code></strong> and set classpath value as <strong><code>C:\\LIBS\\*;.</code></strong></p>\n\n<p>If you want for specific jar files only  set it as, <strong><code>C:\\LIBS\\jar1.jar;C:\\LIBS\\jar2.jar;.</code></strong></p>\n\n<p>Open new command prompt and it should work and is permanent</p>\n\n<p><strong><code>NOTE</code> : This impacts all the instances of command prompts opened further</strong></p>\n"},{"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1507260508,"creation_date":1507257854,"answer_id":46597506,"question_id":46597312,"body_markdown":"Suppose I have two Java libraries packaged as jar files: `foo.jar` and `bar.jar`\r\n\r\nThe `foo.jar` contains the class `Foo.class` and the `bar.jar` contains the class `Bar.class`.\r\n\r\nNow I am writing a piece of code in which I use both `Foo` and `Bar`.\r\n\r\n    package my.work;\r\n\r\n    public class TestDrive {\r\n       public static void main(String[] args) {\r\n          Foo foo = new Foo();\r\n          Bar bar = new Bar();\r\n          System.out.println(&quot;Hello, &quot; + foo + &quot; and &quot; + bar);\r\n       }\r\n    }\r\n\r\nIn order to compile `TestDrive.java` I need to know where both dependencies are located. Most likely I put them in my libs folder\r\n\r\n    +-project\r\n    |   +---src\r\n    |   |    +--TestDrive.java\r\n    |   +---libs\r\n    |   |    +--foo.jar\r\n    |   |    +--bar.jar\r\n    |   +---build\r\n    |   |    + my\r\n    |   |    |   +-- work \r\n    |   |    |   |    +--TestDrive.class //once I compile it with javac\r\n \r\n\r\nThen I would need to do something like\r\n\r\n    javac -classpath libs/foo.jar:libs/bar.jar -d build -sourcepath src src/TestDrive.java\r\n\r\nSo, to answer your question, yes, you need to put all your libraries in the classpath.\r\n\r\nThere are, of course, other ways to do this.","title":"How do I add a library to java? I dont use any IDE, I use only the command prompt","body":"<p>Suppose I have two Java libraries packaged as jar files: <code>foo.jar</code> and <code>bar.jar</code></p>\n\n<p>The <code>foo.jar</code> contains the class <code>Foo.class</code> and the <code>bar.jar</code> contains the class <code>Bar.class</code>.</p>\n\n<p>Now I am writing a piece of code in which I use both <code>Foo</code> and <code>Bar</code>.</p>\n\n<pre><code>package my.work;\n\npublic class TestDrive {\n   public static void main(String[] args) {\n      Foo foo = new Foo();\n      Bar bar = new Bar();\n      System.out.println(\"Hello, \" + foo + \" and \" + bar);\n   }\n}\n</code></pre>\n\n<p>In order to compile <code>TestDrive.java</code> I need to know where both dependencies are located. Most likely I put them in my libs folder</p>\n\n<pre><code>+-project\n|   +---src\n|   |    +--TestDrive.java\n|   +---libs\n|   |    +--foo.jar\n|   |    +--bar.jar\n|   +---build\n|   |    + my\n|   |    |   +-- work \n|   |    |   |    +--TestDrive.class //once I compile it with javac\n</code></pre>\n\n<p>Then I would need to do something like</p>\n\n<pre><code>javac -classpath libs/foo.jar:libs/bar.jar -d build -sourcepath src src/TestDrive.java\n</code></pre>\n\n<p>So, to answer your question, yes, you need to put all your libraries in the classpath.</p>\n\n<p>There are, of course, other ways to do this.</p>\n"}],"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":46597506,"answer_count":3,"score":0,"last_activity_date":1681459302,"creation_date":1507256150,"question_id":46597312,"body_markdown":"So I am not familiar with adding new libraries to java. I downloaded a library from GitHub and I got a zip file.\r\n\r\nI have extracted the contents but I&#39;m lost. I dont know where and how I should add this library.\r\n\r\nI dont use any IDE. I use the command prompt on windows 8. I use notepad to type my code\r\n\r\nI have done my research for the last 2 hours but all of them are for some IDE and the ones that I found other than those didnt help.\r\n\r\nI read about -classpath but I&#39;ll have to set the path every time I have a new library?? (I&#39;m still confused)\r\n\r\nPlease tell me how to add this library. Thank you!\r\n","title":"How do I add a library to java? I dont use any IDE, I use only the command prompt","body":"<p>So I am not familiar with adding new libraries to java. I downloaded a library from GitHub and I got a zip file.</p>\n\n<p>I have extracted the contents but I'm lost. I dont know where and how I should add this library.</p>\n\n<p>I dont use any IDE. I use the command prompt on windows 8. I use notepad to type my code</p>\n\n<p>I have done my research for the last 2 hours but all of them are for some IDE and the ones that I found other than those didnt help.</p>\n\n<p>I read about -classpath but I'll have to set the path every time I have a new library?? (I'm still confused)</p>\n\n<p>Please tell me how to add this library. Thank you!</p>\n"},{"tags":["java","string","math"],"comments":[{"owner":{"account_id":83902,"reputation":17582,"user_id":234922,"accept_rate":91,"display_name":"fasseg"},"score":10,"creation_date":1293625264,"post_id":3422673,"comment_id":51208358,"body_markdown":"I recently wrote a math expression parser called exp4j that was released under the apache license\nyou can check it out here: http://www.objecthunter.net/exp4j/","body":"I recently wrote a math expression parser called exp4j that was released under the apache license you can check it out here: <a href=\"http://www.objecthunter.net/exp4j/\" rel=\"nofollow noreferrer\">objecthunter.net/exp4j</a>"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":2,"creation_date":1418217630,"post_id":3422673,"comment_id":43248847,"body_markdown":"What kinds of expressions do you permit? Only single operator expressions? Are parentheses permitted?","body":"What kinds of expressions do you permit? Only single operator expressions? Are parentheses permitted?"},{"owner":{"account_id":252480,"reputation":7492,"user_id":530549,"display_name":"Ritesh"},"score":4,"creation_date":1453390407,"post_id":3422673,"comment_id":57589039,"body_markdown":"Also take a look at [Dijkstra&#39;s two-stack algorithm](http://algs4.cs.princeton.edu/13stacks/Evaluate.java.html)","body":"Also take a look at <a href=\"http://algs4.cs.princeton.edu/13stacks/Evaluate.java.html\" rel=\"nofollow noreferrer\">Dijkstra&#39;s two-stack algorithm</a>"},{"owner":{"account_id":7424117,"reputation":56335,"user_id":5647260,"accept_rate":82,"display_name":"Andrew Li"},"score":1,"creation_date":1474413868,"post_id":3422673,"comment_id":66518755,"body_markdown":"Possible duplicate of [Is there an eval() function in Java?](http://stackoverflow.com/questions/2605032/is-there-an-eval-function-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/2605032/is-there-an-eval-function-in-java\">Is there an eval() function in Java?</a>"},{"owner":{"account_id":2164481,"reputation":2245,"user_id":1917867,"accept_rate":62,"display_name":"Nagendra Varma"},"score":1,"creation_date":1501398050,"post_id":3422673,"comment_id":77755153,"body_markdown":"@fasseg, the library is pretty awesome, but, it seems like it only deals with numerical expressions, please correct me if I&#39;m wrong. I have a requirement where I need to check the equality of strings in an expression, can you please suggest!","body":"@fasseg, the library is pretty awesome, but, it seems like it only deals with numerical expressions, please correct me if I&#39;m wrong. I have a requirement where I need to check the equality of strings in an expression, can you please suggest!"},{"owner":{"account_id":8578,"reputation":5445,"user_id":15527,"display_name":"Martin Spamer"},"score":3,"creation_date":1539423823,"post_id":3422673,"comment_id":92503877,"body_markdown":"How can this possible be considered too broad?  Dijkstra&#39;s evaluation is the obvious solution here  https://en.wikipedia.org/wiki/Shunting-yard_algorithm","body":"How can this possible be considered too broad?  Dijkstra&#39;s evaluation is the obvious solution here  <a href=\"https://en.wikipedia.org/wiki/Shunting-yard_algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Shunting-yard_algorithm</a>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1571725368,"post_id":3422673,"comment_id":103325324,"body_markdown":"Since java 9 there is JShell JShell shell = JShell.create(); shell.eval(&quot;...&quot;)","body":"Since java 9 there is JShell JShell shell = JShell.create(); shell.eval(&quot;...&quot;)"}],"answers":[{"tags":[],"owner":{"account_id":173570,"reputation":191,"user_id":402346,"display_name":"BruteForce"},"down_vote_count":4,"up_vote_count":8,"is_accepted":false,"score":4,"last_activity_date":1281089572,"creation_date":1281089572,"answer_id":3422797,"question_id":3422673,"body_markdown":"I think what ever way you do this it&#39;s going to involve a lot of conditional statements. But for single operations like in your examples you could limit it to 4 if statements with something like \r\n\r\n    String math = &quot;1+4&quot;;\r\n    \r\n    if (math.split(&quot;+&quot;).length == 2) {\r\n    \t//do calculation\r\n    } else if (math.split(&quot;-&quot;).length == 2) {\r\n    \t//do calculation\r\n    } ...\r\n\r\nIt gets a whole lot more complicated when you want to deal with multiple operations like &quot;4+5*6&quot;.\r\n\r\nIf you are trying to build a calculator then I&#39;d surgest passing each section of the calculation separatly (each number or operator) rather than as a single string.","title":"How to evaluate a math expression given in string form?","body":"<p>I think what ever way you do this it's going to involve a lot of conditional statements. But for single operations like in your examples you could limit it to 4 if statements with something like </p>\n\n<pre><code>String math = \"1+4\";\n\nif (math.split(\"+\").length == 2) {\n    //do calculation\n} else if (math.split(\"-\").length == 2) {\n    //do calculation\n} ...\n</code></pre>\n\n<p>It gets a whole lot more complicated when you want to deal with multiple operations like \"4+5*6\".</p>\n\n<p>If you are trying to build a calculator then I'd surgest passing each section of the calculation separatly (each number or operator) rather than as a single string.</p>\n"},{"tags":[],"owner":{"account_id":680,"reputation":960655,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"down_vote_count":2,"up_vote_count":38,"is_accepted":false,"score":36,"last_activity_date":1281089717,"creation_date":1281089717,"answer_id":3422825,"question_id":3422673,"body_markdown":"The correct way to solve this is with a [lexer](http://en.wikipedia.org/wiki/Lexical_analysis) and a [parser](http://en.wikipedia.org/wiki/Parser). You can write simple versions of these yourself, or those pages also have links to Java lexers and parsers.\r\n\r\nCreating a recursive descent parser is a really good learning exercise.","title":"How to evaluate a math expression given in string form?","body":"<p>The correct way to solve this is with a <a href=\"http://en.wikipedia.org/wiki/Lexical_analysis\" rel=\"noreferrer\">lexer</a> and a <a href=\"http://en.wikipedia.org/wiki/Parser\" rel=\"noreferrer\">parser</a>. You can write simple versions of these yourself, or those pages also have links to Java lexers and parsers.</p>\n\n<p>Creating a recursive descent parser is a really good learning exercise.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1281091044,"creation_date":1281091044,"answer_id":3422956,"question_id":3422673,"body_markdown":"It seems like &lt;a href=&quot;http://sourceforge.net/projects/jep/&quot;&gt;JEP&lt;/a&gt; should do the job","title":"How to evaluate a math expression given in string form?","body":"<p>It seems like <a href=\"http://sourceforge.net/projects/jep/\" rel=\"noreferrer\">JEP</a> should do the job</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":17,"up_vote_count":433,"is_accepted":true,"score":416,"last_activity_date":1491577445,"creation_date":1281094528,"answer_id":3423360,"question_id":3422673,"body_markdown":"With JDK1.6, you can use the built-in Javascript engine.\r\n\r\n    import javax.script.ScriptEngineManager;\r\n    import javax.script.ScriptEngine;\r\n    import javax.script.ScriptException;\r\n    \r\n    public class Test {\r\n      public static void main(String[] args) throws ScriptException {\r\n        ScriptEngineManager mgr = new ScriptEngineManager();\r\n        ScriptEngine engine = mgr.getEngineByName(&quot;JavaScript&quot;);\r\n        String foo = &quot;40+2&quot;;\r\n        System.out.println(engine.eval(foo));\r\n        } \r\n    }","title":"How to evaluate a math expression given in string form?","body":"<p>With JDK1.6, you can use the built-in Javascript engine.</p>\n\n<pre><code>import javax.script.ScriptEngineManager;\nimport javax.script.ScriptEngine;\nimport javax.script.ScriptException;\n\npublic class Test {\n  public static void main(String[] args) throws ScriptException {\n    ScriptEngineManager mgr = new ScriptEngineManager();\n    ScriptEngine engine = mgr.getEngineByName(\"JavaScript\");\n    String foo = \"40+2\";\n    System.out.println(engine.eval(foo));\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1251040,"reputation":99,"user_id":1211444,"display_name":"stone"},"down_vote_count":6,"up_vote_count":11,"is_accepted":false,"score":5,"last_activity_date":1589883242,"creation_date":1329312908,"answer_id":9294395,"question_id":3422673,"body_markdown":"    import java.util.*;\r\n    \r\n    public class check { \r\n       int ans;\r\n       String str=&quot;7 + 5&quot;;\r\n       StringTokenizer st=new StringTokenizer(str);\r\n    \r\n       int v1=Integer.parseInt(st.nextToken());\r\n       String op=st.nextToken();\r\n       int v2=Integer.parseInt(st.nextToken());\r\n    \r\n       if(op.equals(&quot;+&quot;)) { ans= v1 + v2; }\r\n       if(op.equals(&quot;-&quot;)) { ans= v1 - v2; }\r\n       //.........\r\n    }","title":"How to evaluate a math expression given in string form?","body":"<pre><code>import java.util.*;\n\npublic class check { \n   int ans;\n   String str=\"7 + 5\";\n   StringTokenizer st=new StringTokenizer(str);\n\n   int v1=Integer.parseInt(st.nextToken());\n   String op=st.nextToken();\n   int v2=Integer.parseInt(st.nextToken());\n\n   if(op.equals(\"+\")) { ans= v1 + v2; }\n   if(op.equals(\"-\")) { ans= v1 - v2; }\n   //.........\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67754,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1553084986,"creation_date":1341261163,"answer_id":11300763,"question_id":3422673,"body_markdown":"[This article][1] discusses various approaches. Here are the 2 key approaches mentioned in the article:\n\n### [JEXL from Apache][2] \nAllows for scripts that include references to java objects.\n\n    // Create or retrieve a JexlEngine\n    JexlEngine jexl = new JexlEngine();\n    // Create an expression object\n    String jexlExp = &quot;foo.innerFoo.bar()&quot;;\n    Expression e = jexl.createExpression( jexlExp );\n     \n    // Create a context and add data\n    JexlContext jctx = new MapContext();\n    jctx.set(&quot;foo&quot;, new Foo() );\n     \n    // Now evaluate the expression, getting the result\n    Object o = e.evaluate(jctx);\n\n### Use the javascript engine embedded in the JDK:\n\n    private static void jsEvalWithVariable()\n    {\n        List&lt;String&gt; namesList = new ArrayList&lt;String&gt;();\n        namesList.add(&quot;Jill&quot;);\n        namesList.add(&quot;Bob&quot;);\n        namesList.add(&quot;Laureen&quot;);\n        namesList.add(&quot;Ed&quot;);\n     \n        ScriptEngineManager mgr = new ScriptEngineManager();\n        ScriptEngine jsEngine = mgr.getEngineByName(&quot;JavaScript&quot;);\n     \n        jsEngine.put(&quot;namesListKey&quot;, namesList);\n        System.out.println(&quot;Executing in script environment...&quot;);\n        try\n        {\n          jsEngine.eval(&quot;var x;&quot; +\n                        &quot;var names = namesListKey.toArray();&quot; +\n                        &quot;for(x in names) {&quot; +\n                        &quot;  println(names[x]);&quot; +\n                        &quot;}&quot; +\n                        &quot;namesListKey.add(\\&quot;Dana\\&quot;);&quot;);\n        }\n        catch (ScriptException ex)\n        {\n            ex.printStackTrace();\n        }\n    }\n\n  [1]: http://www.beyondlinux.com/2011/08/07/3-method-to-evaluate-expressions/\n  [2]: http://commons.apache.org/proper/commons-jexl/\n\n\n","title":"How to evaluate a math expression given in string form?","body":"<p><a href=\"http://www.beyondlinux.com/2011/08/07/3-method-to-evaluate-expressions/\" rel=\"noreferrer\">This article</a> discusses various approaches. Here are the 2 key approaches mentioned in the article:</p>\n<h3><a href=\"http://commons.apache.org/proper/commons-jexl/\" rel=\"noreferrer\">JEXL from Apache</a></h3>\n<p>Allows for scripts that include references to java objects.</p>\n<pre><code>// Create or retrieve a JexlEngine\nJexlEngine jexl = new JexlEngine();\n// Create an expression object\nString jexlExp = &quot;foo.innerFoo.bar()&quot;;\nExpression e = jexl.createExpression( jexlExp );\n \n// Create a context and add data\nJexlContext jctx = new MapContext();\njctx.set(&quot;foo&quot;, new Foo() );\n \n// Now evaluate the expression, getting the result\nObject o = e.evaluate(jctx);\n</code></pre>\n<h3>Use the javascript engine embedded in the JDK:</h3>\n<pre><code>private static void jsEvalWithVariable()\n{\n    List&lt;String&gt; namesList = new ArrayList&lt;String&gt;();\n    namesList.add(&quot;Jill&quot;);\n    namesList.add(&quot;Bob&quot;);\n    namesList.add(&quot;Laureen&quot;);\n    namesList.add(&quot;Ed&quot;);\n \n    ScriptEngineManager mgr = new ScriptEngineManager();\n    ScriptEngine jsEngine = mgr.getEngineByName(&quot;JavaScript&quot;);\n \n    jsEngine.put(&quot;namesListKey&quot;, namesList);\n    System.out.println(&quot;Executing in script environment...&quot;);\n    try\n    {\n      jsEngine.eval(&quot;var x;&quot; +\n                    &quot;var names = namesListKey.toArray();&quot; +\n                    &quot;for(x in names) {&quot; +\n                    &quot;  println(names[x]);&quot; +\n                    &quot;}&quot; +\n                    &quot;namesListKey.add(\\&quot;Dana\\&quot;);&quot;);\n    }\n    catch (ScriptException ex)\n    {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":456369,"reputation":518,"user_id":855107,"display_name":"marciowerner"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1349985972,"creation_date":1349985972,"answer_id":12847635,"question_id":3422673,"body_markdown":"You can also try the [BeanShell][1] interpreter:\r\n\r\n    Interpreter interpreter = new Interpreter();\r\n    interpreter.eval(&quot;result = (7+21*6)/(32-27)&quot;);\r\n    System.out.println(interpreter.get(&quot;result&quot;));\r\n\r\n\r\n  [1]: http://www.beanshell.org","title":"How to evaluate a math expression given in string form?","body":"<p>You can also try the <a href=\"http://www.beanshell.org\" rel=\"noreferrer\">BeanShell</a> interpreter:</p>\n\n<pre><code>Interpreter interpreter = new Interpreter();\ninterpreter.eval(\"result = (7+21*6)/(32-27)\");\nSystem.out.println(interpreter.get(\"result\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1864901,"reputation":113,"user_id":1688710,"display_name":"konxie"},"down_vote_count":11,"up_vote_count":13,"is_accepted":false,"score":2,"last_activity_date":1350504398,"creation_date":1350503968,"answer_id":12942355,"question_id":3422673,"body_markdown":"How about something like this:\r\n\r\n    String st = &quot;10+3&quot;;\r\n    int result;\r\n    for(int i=0;i&lt;st.length();i++)\r\n    {\r\n      if(st.charAt(i)==&#39;+&#39;)\r\n      {\r\n        result=Integer.parseInt(st.substring(0, i))+Integer.parseInt(st.substring(i+1, st.length()));\r\n        System.out.print(result);\r\n      }\t\t\t\r\n    }\r\n\r\nand do the similar thing for every other mathematical operator accordingly .. ","title":"How to evaluate a math expression given in string form?","body":"<p>How about something like this:</p>\n\n<pre><code>String st = \"10+3\";\nint result;\nfor(int i=0;i&lt;st.length();i++)\n{\n  if(st.charAt(i)=='+')\n  {\n    result=Integer.parseInt(st.substring(0, i))+Integer.parseInt(st.substring(i+1, st.length()));\n    System.out.print(result);\n  }         \n}\n</code></pre>\n\n<p>and do the similar thing for every other mathematical operator accordingly .. </p>\n"},{"tags":[],"owner":{"account_id":2289270,"reputation":562,"user_id":2012594,"accept_rate":86,"display_name":"Tanvir"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1378255287,"creation_date":1378255287,"answer_id":18603659,"question_id":3422673,"body_markdown":"[HERE][1] is another open source library on GitHub named EvalEx.\r\n\r\nUnlike the JavaScript engine this library is focused in evaluating mathematical expressions only. Moreover, the library is extensible and supports use of boolean operators as well as parentheses.\r\n\r\n  [1]: https://github.com/uklimaschewski/EvalEx","title":"How to evaluate a math expression given in string form?","body":"<p><a href=\"https://github.com/uklimaschewski/EvalEx\" rel=\"noreferrer\">HERE</a> is another open source library on GitHub named EvalEx.</p>\n\n<p>Unlike the JavaScript engine this library is focused in evaluating mathematical expressions only. Moreover, the library is extensible and supports use of boolean operators as well as parentheses.</p>\n"},{"tags":[],"owner":{"account_id":422974,"reputation":806,"user_id":802061,"accept_rate":62,"display_name":"Faheem Sohail"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1645649503,"creation_date":1393422920,"answer_id":22043501,"question_id":3422673,"body_markdown":"Another way is to use the [Spring Expression Language or SpEL][1] which does a whole lot more along with evaluating mathematical expressions, therefore maybe slightly overkill. You do not have to be using Spring framework to use this expression library as it is stand-alone. Copying examples from SpEL&#39;s documentation: \r\n\r\n    \r\n    ExpressionParser parser = new SpelExpressionParser();\r\n    int two = parser.parseExpression(&quot;1 + 1&quot;).getValue(Integer.class); // 2 \r\n    double twentyFour = parser.parseExpression(&quot;2.0 * 3e0 * 4&quot;).getValue(Double.class); //24.0\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions","title":"How to evaluate a math expression given in string form?","body":"<p>Another way is to use the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions\" rel=\"nofollow noreferrer\">Spring Expression Language or SpEL</a> which does a whole lot more along with evaluating mathematical expressions, therefore maybe slightly overkill. You do not have to be using Spring framework to use this expression library as it is stand-alone. Copying examples from SpEL's documentation:</p>\n<pre><code>ExpressionParser parser = new SpelExpressionParser();\nint two = parser.parseExpression(&quot;1 + 1&quot;).getValue(Integer.class); // 2 \ndouble twentyFour = parser.parseExpression(&quot;2.0 * 3e0 * 4&quot;).getValue(Double.class); //24.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"down_vote_count":0,"up_vote_count":317,"is_accepted":false,"score":317,"last_activity_date":1642955306,"creation_date":1412650992,"answer_id":26227947,"question_id":3422673,"body_markdown":"I&#39;ve written this `eval` method for arithmetic expressions to answer this question. It does addition, subtraction, multiplication, division, exponentiation (using the `^` symbol), and a few basic functions like `sqrt`. It supports grouping using `(`...`)`, and it gets the operator [precedence](https://en.wikipedia.org/wiki/Order_of_operations) and [associativity](https://en.wikipedia.org/wiki/Operator_associativity) rules correct.\r\n\r\n\tpublic static double eval(final String str) {\r\n\t\treturn new Object() {\r\n\t\t\tint pos = -1, ch;\r\n\t\t\t\r\n\t\t\tvoid nextChar() {\r\n\t\t\t\tch = (++pos &lt; str.length()) ? str.charAt(pos) : -1;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tboolean eat(int charToEat) {\r\n\t\t\t\twhile (ch == &#39; &#39;) nextChar();\r\n\t\t\t\tif (ch == charToEat) {\r\n\t\t\t\t\tnextChar();\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdouble parse() {\r\n\t\t\t\tnextChar();\r\n\t\t\t\tdouble x = parseExpression();\r\n\t\t\t\tif (pos &lt; str.length()) throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\r\n\t\t\t\treturn x;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Grammar:\r\n\t\t\t// expression = term | expression `+` term | expression `-` term\r\n\t\t\t// term = factor | term `*` factor | term `/` factor\r\n\t\t\t// factor = `+` factor | `-` factor | `(` expression `)` | number\r\n\t\t\t//        | functionName `(` expression `)` | functionName factor\r\n\t\t\t//        | factor `^` factor\r\n\t\t\t\r\n\t\t\tdouble parseExpression() {\r\n\t\t\t\tdouble x = parseTerm();\r\n\t\t\t\tfor (;;) {\r\n\t\t\t\t\tif      (eat(&#39;+&#39;)) x += parseTerm(); // addition\r\n\t\t\t\t\telse if (eat(&#39;-&#39;)) x -= parseTerm(); // subtraction\r\n\t\t\t\t\telse return x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdouble parseTerm() {\r\n\t\t\t\tdouble x = parseFactor();\r\n\t\t\t\tfor (;;) {\r\n\t\t\t\t\tif      (eat(&#39;*&#39;)) x *= parseFactor(); // multiplication\r\n\t\t\t\t\telse if (eat(&#39;/&#39;)) x /= parseFactor(); // division\r\n\t\t\t\t\telse return x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdouble parseFactor() {\r\n\t\t\t\tif (eat(&#39;+&#39;)) return +parseFactor(); // unary plus\r\n\t\t\t\tif (eat(&#39;-&#39;)) return -parseFactor(); // unary minus\r\n\t\t\t\t\r\n\t\t\t\tdouble x;\r\n\t\t\t\tint startPos = this.pos;\r\n\t\t\t\tif (eat(&#39;(&#39;)) { // parentheses\r\n\t\t\t\t\tx = parseExpression();\r\n\t\t\t\t\tif (!eat(&#39;)&#39;)) throw new RuntimeException(&quot;Missing &#39;)&#39;&quot;);\r\n\t\t\t\t} else if ((ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) || ch == &#39;.&#39;) { // numbers\r\n\t\t\t\t\twhile ((ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) || ch == &#39;.&#39;) nextChar();\r\n\t\t\t\t\tx = Double.parseDouble(str.substring(startPos, this.pos));\r\n\t\t\t\t} else if (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) { // functions\r\n\t\t\t\t\twhile (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) nextChar();\r\n\t\t\t\t\tString func = str.substring(startPos, this.pos);\r\n\t\t\t\t\tif (eat(&#39;(&#39;)) {\r\n\t\t\t\t\t\tx = parseExpression();\r\n\t\t\t\t\t\tif (!eat(&#39;)&#39;)) throw new RuntimeException(&quot;Missing &#39;)&#39; after argument to &quot; + func);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tx = parseFactor();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (func.equals(&quot;sqrt&quot;)) x = Math.sqrt(x);\r\n\t\t\t\t\telse if (func.equals(&quot;sin&quot;)) x = Math.sin(Math.toRadians(x));\r\n\t\t\t\t\telse if (func.equals(&quot;cos&quot;)) x = Math.cos(Math.toRadians(x));\r\n\t\t\t\t\telse if (func.equals(&quot;tan&quot;)) x = Math.tan(Math.toRadians(x));\r\n\t\t\t\t\telse throw new RuntimeException(&quot;Unknown function: &quot; + func);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (eat(&#39;^&#39;)) x = Math.pow(x, parseFactor()); // exponentiation\r\n\t\t\t\t\r\n\t\t\t\treturn x;\r\n\t\t\t}\r\n\t\t}.parse();\r\n\t}\r\n\r\nExample:\r\n\r\n\tSystem.out.println(eval(&quot;((4 - 2^3 + 1) * -sqrt(3*3+4*4)) / 2&quot;));\r\n\r\nOutput: 7.5 [(which is correct)](https://www.wolframalpha.com/input/?i=%28%284%20-%202%5E3%20%2B%201%29%20*%20-sqrt%283*3%2B4*4%29%29%20%2F%202)\r\n\r\n----\r\n\r\nThe parser is a [recursive descent parser](https://en.wikipedia.org/wiki/Recursive_descent_parser), so internally uses separate parse methods for each level of operator precedence in its grammar. I deliberately kept it **short**, but here are some ideas you might want to expand it with:\r\n\r\n* **Variables:**\r\n\t\r\n\tThe bit of the parser that reads the names for functions can easily be changed to handle custom variables too, by looking up names in a variable table passed to the `eval` method, such as a `Map&lt;String,Double&gt; variables`.\r\n\r\n* **Separate compilation and evaluation:**\r\n\t\r\n\tWhat if, having added support for variables, you wanted to evaluate the same expression millions of times with changed variables, without parsing it every time? It&#39;s possible. First define an interface to use to evaluate the precompiled expression:\r\n\t\r\n\t\t@FunctionalInterface\r\n\t\tinterface Expression {\r\n\t\t\tdouble eval();\r\n\t\t}\r\n\t\r\n\tNow to rework the original &quot;eval&quot; function into a &quot;parse&quot; function, change all the methods that return `double`s, so instead they return an instance of that interface. Java 8&#39;s lambda syntax works well for this. Example of one of the changed methods:\r\n\t\r\n\t\tExpression parseExpression() {\r\n\t\t\tExpression x = parseTerm();\r\n\t\t\tfor (;;) {\r\n\t\t\t\tif (eat(&#39;+&#39;)) { // addition\r\n\t\t\t\t\tExpression a = x, b = parseTerm();\r\n\t\t\t\t\tx = (() -&gt; a.eval() + b.eval());\r\n\t\t\t\t} else if (eat(&#39;-&#39;)) { // subtraction\r\n\t\t\t\t\tExpression a = x, b = parseTerm();\r\n\t\t\t\t\tx = (() -&gt; a.eval() - b.eval());\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\tThat builds a recursive tree of `Expression` objects representing the compiled expression (an [abstract syntax tree](https://en.wikipedia.org/wiki/Abstract_syntax_tree)). Then you can compile it once and evaluate it repeatedly with different values:\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tMap&lt;String,Double&gt; variables = new HashMap&lt;&gt;();\r\n\t\t\tExpression exp = parse(&quot;x^2 - x + 2&quot;, variables);\r\n\t\t\tfor (double x = -20; x &lt;= +20; x++) {\r\n\t\t\t\tvariables.put(&quot;x&quot;, x);\r\n\t\t\t\tSystem.out.println(x + &quot; =&gt; &quot; + exp.eval());\r\n\t\t\t}\r\n\t\t}\r\n\r\n* **Different datatypes:**\r\n\t\r\n\tInstead of `double`, you could change the evaluator to use something more powerful like `BigDecimal`, or a class that implements complex numbers, or rational numbers (fractions). You could even use `Object`, allowing some mix of datatypes in expressions, just like a real programming language. :)\r\n\r\n----\r\n&lt;sub&gt;All code in this answer released [to the public domain](https://creativecommons.org/publicdomain/zero/1.0/). Have fun!&lt;/sub&gt;","title":"How to evaluate a math expression given in string form?","body":"<p>I've written this <code>eval</code> method for arithmetic expressions to answer this question. It does addition, subtraction, multiplication, division, exponentiation (using the <code>^</code> symbol), and a few basic functions like <code>sqrt</code>. It supports grouping using <code>(</code>...<code>)</code>, and it gets the operator <a href=\"https://en.wikipedia.org/wiki/Order_of_operations\" rel=\"noreferrer\">precedence</a> and <a href=\"https://en.wikipedia.org/wiki/Operator_associativity\" rel=\"noreferrer\">associativity</a> rules correct.</p>\n<pre><code>public static double eval(final String str) {\n    return new Object() {\n        int pos = -1, ch;\n        \n        void nextChar() {\n            ch = (++pos &lt; str.length()) ? str.charAt(pos) : -1;\n        }\n        \n        boolean eat(int charToEat) {\n            while (ch == ' ') nextChar();\n            if (ch == charToEat) {\n                nextChar();\n                return true;\n            }\n            return false;\n        }\n        \n        double parse() {\n            nextChar();\n            double x = parseExpression();\n            if (pos &lt; str.length()) throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\n            return x;\n        }\n        \n        // Grammar:\n        // expression = term | expression `+` term | expression `-` term\n        // term = factor | term `*` factor | term `/` factor\n        // factor = `+` factor | `-` factor | `(` expression `)` | number\n        //        | functionName `(` expression `)` | functionName factor\n        //        | factor `^` factor\n        \n        double parseExpression() {\n            double x = parseTerm();\n            for (;;) {\n                if      (eat('+')) x += parseTerm(); // addition\n                else if (eat('-')) x -= parseTerm(); // subtraction\n                else return x;\n            }\n        }\n        \n        double parseTerm() {\n            double x = parseFactor();\n            for (;;) {\n                if      (eat('*')) x *= parseFactor(); // multiplication\n                else if (eat('/')) x /= parseFactor(); // division\n                else return x;\n            }\n        }\n        \n        double parseFactor() {\n            if (eat('+')) return +parseFactor(); // unary plus\n            if (eat('-')) return -parseFactor(); // unary minus\n            \n            double x;\n            int startPos = this.pos;\n            if (eat('(')) { // parentheses\n                x = parseExpression();\n                if (!eat(')')) throw new RuntimeException(&quot;Missing ')'&quot;);\n            } else if ((ch &gt;= '0' &amp;&amp; ch &lt;= '9') || ch == '.') { // numbers\n                while ((ch &gt;= '0' &amp;&amp; ch &lt;= '9') || ch == '.') nextChar();\n                x = Double.parseDouble(str.substring(startPos, this.pos));\n            } else if (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') { // functions\n                while (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') nextChar();\n                String func = str.substring(startPos, this.pos);\n                if (eat('(')) {\n                    x = parseExpression();\n                    if (!eat(')')) throw new RuntimeException(&quot;Missing ')' after argument to &quot; + func);\n                } else {\n                    x = parseFactor();\n                }\n                if (func.equals(&quot;sqrt&quot;)) x = Math.sqrt(x);\n                else if (func.equals(&quot;sin&quot;)) x = Math.sin(Math.toRadians(x));\n                else if (func.equals(&quot;cos&quot;)) x = Math.cos(Math.toRadians(x));\n                else if (func.equals(&quot;tan&quot;)) x = Math.tan(Math.toRadians(x));\n                else throw new RuntimeException(&quot;Unknown function: &quot; + func);\n            } else {\n                throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\n            }\n            \n            if (eat('^')) x = Math.pow(x, parseFactor()); // exponentiation\n            \n            return x;\n        }\n    }.parse();\n}\n</code></pre>\n<p>Example:</p>\n<pre><code>System.out.println(eval(&quot;((4 - 2^3 + 1) * -sqrt(3*3+4*4)) / 2&quot;));\n</code></pre>\n<p>Output: 7.5 <a href=\"https://www.wolframalpha.com/input/?i=%28%284%20-%202%5E3%20%2B%201%29%20*%20-sqrt%283*3%2B4*4%29%29%20%2F%202\" rel=\"noreferrer\">(which is correct)</a></p>\n<hr />\n<p>The parser is a <a href=\"https://en.wikipedia.org/wiki/Recursive_descent_parser\" rel=\"noreferrer\">recursive descent parser</a>, so internally uses separate parse methods for each level of operator precedence in its grammar. I deliberately kept it <strong>short</strong>, but here are some ideas you might want to expand it with:</p>\n<ul>\n<li><p><strong>Variables:</strong></p>\n<p>The bit of the parser that reads the names for functions can easily be changed to handle custom variables too, by looking up names in a variable table passed to the <code>eval</code> method, such as a <code>Map&lt;String,Double&gt; variables</code>.</p>\n</li>\n<li><p><strong>Separate compilation and evaluation:</strong></p>\n<p>What if, having added support for variables, you wanted to evaluate the same expression millions of times with changed variables, without parsing it every time? It's possible. First define an interface to use to evaluate the precompiled expression:</p>\n<pre><code>  @FunctionalInterface\n  interface Expression {\n      double eval();\n  }\n</code></pre>\n<p>Now to rework the original &quot;eval&quot; function into a &quot;parse&quot; function, change all the methods that return <code>double</code>s, so instead they return an instance of that interface. Java 8's lambda syntax works well for this. Example of one of the changed methods:</p>\n<pre><code>  Expression parseExpression() {\n      Expression x = parseTerm();\n      for (;;) {\n          if (eat('+')) { // addition\n              Expression a = x, b = parseTerm();\n              x = (() -&gt; a.eval() + b.eval());\n          } else if (eat('-')) { // subtraction\n              Expression a = x, b = parseTerm();\n              x = (() -&gt; a.eval() - b.eval());\n          } else {\n              return x;\n          }\n      }\n  }\n</code></pre>\n<p>That builds a recursive tree of <code>Expression</code> objects representing the compiled expression (an <a href=\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\" rel=\"noreferrer\">abstract syntax tree</a>). Then you can compile it once and evaluate it repeatedly with different values:</p>\n<pre><code>  public static void main(String[] args) {\n      Map&lt;String,Double&gt; variables = new HashMap&lt;&gt;();\n      Expression exp = parse(&quot;x^2 - x + 2&quot;, variables);\n      for (double x = -20; x &lt;= +20; x++) {\n          variables.put(&quot;x&quot;, x);\n          System.out.println(x + &quot; =&gt; &quot; + exp.eval());\n      }\n  }\n</code></pre>\n</li>\n<li><p><strong>Different datatypes:</strong></p>\n<p>Instead of <code>double</code>, you could change the evaluator to use something more powerful like <code>BigDecimal</code>, or a class that implements complex numbers, or rational numbers (fractions). You could even use <code>Object</code>, allowing some mix of datatypes in expressions, just like a real programming language. :)</p>\n</li>\n</ul>\n<hr />\n<p><sub>All code in this answer released <a href=\"https://creativecommons.org/publicdomain/zero/1.0/\" rel=\"noreferrer\">to the public domain</a>. Have fun!</sub></p>\n"},{"tags":[],"owner":{"account_id":414094,"reputation":3948,"user_id":788109,"accept_rate":86,"display_name":"Scorpion"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1435728290,"creation_date":1420107655,"answer_id":27729905,"question_id":3422673,"body_markdown":"This is another interesting alternative \r\nhttps://github.com/Shy-Ta/expression-evaluator-demo\r\n\r\nThe usage is very simple and gets the job done, for example:\r\n\r\n      ExpressionsEvaluator evalExpr = ExpressionsFactory.create(&quot;2+3*4-6/2&quot;);  \r\n      assertEquals(BigDecimal.valueOf(11), evalExpr.eval()); ","title":"How to evaluate a math expression given in string form?","body":"<p>This is another interesting alternative \n<a href=\"https://github.com/Shy-Ta/expression-evaluator-demo\" rel=\"noreferrer\">https://github.com/Shy-Ta/expression-evaluator-demo</a></p>\n\n<p>The usage is very simple and gets the job done, for example:</p>\n\n<pre><code>  ExpressionsEvaluator evalExpr = ExpressionsFactory.create(\"2+3*4-6/2\");  \n  assertEquals(BigDecimal.valueOf(11), evalExpr.eval()); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2005844,"reputation":2306,"user_id":1795776,"accept_rate":89,"display_name":"Emmanuel John"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678572209,"creation_date":1436141715,"answer_id":31236301,"question_id":3422673,"body_markdown":"It is possible to convert any expression string in infix notation to a postfix notation using [Djikstra&#39;s shunting-yard algorithm](https://en.wikipedia.org/wiki/Shunting-yard_algorithm). The result of the algorithm can then serve as input to the [postfix algorithm](https://en.wikipedia.org/wiki/Reverse_Polish_notation), which returns the result of the expression.","title":"How to evaluate a math expression given in string form?","body":"<p>It is possible to convert any expression string in infix notation to a postfix notation using <a href=\"https://en.wikipedia.org/wiki/Shunting-yard_algorithm\" rel=\"nofollow noreferrer\">Djikstra's shunting-yard algorithm</a>. The result of the algorithm can then serve as input to the <a href=\"https://en.wikipedia.org/wiki/Reverse_Polish_notation\" rel=\"nofollow noreferrer\">postfix algorithm</a>, which returns the result of the expression.</p>\n"},{"tags":[],"owner":{"account_id":6623450,"reputation":599,"user_id":5114375,"display_name":"Prashant Gautam"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1442579998,"creation_date":1442579998,"answer_id":32652277,"question_id":3422673,"body_markdown":"if we are going to implement it then we can can use the below algorithm :--\r\n\r\n1. While there are still tokens to be read in,\r\n\r\n   1.1 Get the next token.\r\n   1.2 If the token is:\r\n\r\n       1.2.1 A number: push it onto the value stack.\r\n\r\n       1.2.2 A variable: get its value, and push onto the value stack.\r\n\r\n       1.2.3 A left parenthesis: push it onto the operator stack.\r\n\r\n       1.2.4 A right parenthesis:\r\n\r\n         1 While the thing on top of the operator stack is not a \r\n           left parenthesis,\r\n             1 Pop the operator from the operator stack.\r\n             2 Pop the value stack twice, getting two operands.\r\n             3 Apply the operator to the operands, in the correct order.\r\n             4 Push the result onto the value stack.\r\n         2 Pop the left parenthesis from the operator stack, and discard it.\r\n\r\n       1.2.5 An operator (call it thisOp):\r\n\r\n         1 While the operator stack is not empty, and the top thing on the\r\n           operator stack has the same or greater precedence as thisOp,\r\n           1 Pop the operator from the operator stack.\r\n           2 Pop the value stack twice, getting two operands.\r\n           3 Apply the operator to the operands, in the correct order.\r\n           4 Push the result onto the value stack.\r\n         2 Push thisOp onto the operator stack.\r\n\r\n2. While the operator stack is not empty,\r\n    1 Pop the operator from the operator stack.\r\n    2 Pop the value stack twice, getting two operands.\r\n    3 Apply the operator to the operands, in the correct order.\r\n    4 Push the result onto the value stack.\r\n\r\n3. At this point the operator stack should be empty, and the value\r\n   stack should have only one value in it, which is the final result.","title":"How to evaluate a math expression given in string form?","body":"<p>if we are going to implement it then we can can use the below algorithm :--</p>\n\n<ol>\n<li><p>While there are still tokens to be read in,</p>\n\n<p>1.1 Get the next token.\n1.2 If the token is:</p>\n\n<p>1.2.1 A number: push it onto the value stack.</p>\n\n<p>1.2.2 A variable: get its value, and push onto the value stack.</p>\n\n<p>1.2.3 A left parenthesis: push it onto the operator stack.</p>\n\n<p>1.2.4 A right parenthesis:</p>\n\n<pre><code> 1 While the thing on top of the operator stack is not a \n   left parenthesis,\n     1 Pop the operator from the operator stack.\n     2 Pop the value stack twice, getting two operands.\n     3 Apply the operator to the operands, in the correct order.\n     4 Push the result onto the value stack.\n 2 Pop the left parenthesis from the operator stack, and discard it.\n</code></pre>\n\n<p>1.2.5 An operator (call it thisOp):</p>\n\n<pre><code> 1 While the operator stack is not empty, and the top thing on the\n   operator stack has the same or greater precedence as thisOp,\n   1 Pop the operator from the operator stack.\n   2 Pop the value stack twice, getting two operands.\n   3 Apply the operator to the operands, in the correct order.\n   4 Push the result onto the value stack.\n 2 Push thisOp onto the operator stack.\n</code></pre></li>\n<li><p>While the operator stack is not empty,\n1 Pop the operator from the operator stack.\n2 Pop the value stack twice, getting two operands.\n3 Apply the operator to the operands, in the correct order.\n4 Push the result onto the value stack.</p></li>\n<li><p>At this point the operator stack should be empty, and the value\nstack should have only one value in it, which is the final result.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1445258245,"creation_date":1445258245,"answer_id":33214592,"question_id":3422673,"body_markdown":"It&#39;s too late to answer but I came across same situation to evaluate expression in java, it might help someone\r\n\r\n`MVEL` does runtime evaluation of expressions, we can write a java code in `String` to get it evaluated in this.\r\n\r\n\t\tString expressionStr = &quot;x+y&quot;;\r\n\t\tMap&lt;String, Object&gt; vars = new HashMap&lt;String, Object&gt;();\r\n\t\tvars.put(&quot;x&quot;, 10);\r\n\t\tvars.put(&quot;y&quot;, 20);\r\n\t\tExecutableStatement statement = (ExecutableStatement) MVEL.compileExpression(expressionStr);\r\n\t\tObject result = MVEL.executeExpression(statement, vars);","title":"How to evaluate a math expression given in string form?","body":"<p>It's too late to answer but I came across same situation to evaluate expression in java, it might help someone</p>\n\n<p><code>MVEL</code> does runtime evaluation of expressions, we can write a java code in <code>String</code> to get it evaluated in this.</p>\n\n<pre><code>    String expressionStr = \"x+y\";\n    Map&lt;String, Object&gt; vars = new HashMap&lt;String, Object&gt;();\n    vars.put(\"x\", 10);\n    vars.put(\"y\", 20);\n    ExecutableStatement statement = (ExecutableStatement) MVEL.compileExpression(expressionStr);\n    Object result = MVEL.executeExpression(statement, vars);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2055569,"reputation":389,"user_id":1833420,"display_name":"Laurent Magnin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1446126005,"creation_date":1446126005,"answer_id":33415860,"question_id":3422673,"body_markdown":"You might have a look at the [Symja framework][1]:\r\n\r\n    ExprEvaluator util = new ExprEvaluator(); \r\n    IExpr result = util.evaluate(&quot;10-40&quot;);\r\n    System.out.println(result.toString()); // -&gt; &quot;-30&quot; \r\n\r\nTake note that definitively more complex expressions can be evaluated:\r\n\r\n    // D(...) gives the derivative of the function Sin(x)*Cos(x)\r\n    IAST function = D(Times(Sin(x), Cos(x)), x);\r\n    IExpr result = util.evaluate(function);\r\n    // print: Cos(x)^2-Sin(x)^2\r\n\r\n  [1]: https://bitbucket.org/axelclk/symja_android_library/wiki/Home","title":"How to evaluate a math expression given in string form?","body":"<p>You might have a look at the <a href=\"https://bitbucket.org/axelclk/symja_android_library/wiki/Home\" rel=\"nofollow\">Symja framework</a>:</p>\n\n<pre><code>ExprEvaluator util = new ExprEvaluator(); \nIExpr result = util.evaluate(\"10-40\");\nSystem.out.println(result.toString()); // -&gt; \"-30\" \n</code></pre>\n\n<p>Take note that definitively more complex expressions can be evaluated:</p>\n\n<pre><code>// D(...) gives the derivative of the function Sin(x)*Cos(x)\nIAST function = D(Times(Sin(x), Cos(x)), x);\nIExpr result = util.evaluate(function);\n// print: Cos(x)^2-Sin(x)^2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7948139,"reputation":1176,"user_id":5999910,"display_name":"Leroy Kegan"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1639646062,"creation_date":1459550043,"answer_id":36366836,"question_id":3422673,"body_markdown":"For my university project, I was looking for a parser / evaluator supporting both basic formulas and more complicated equations (especially iterated operators). I found very nice open source library for JAVA and .NET called mXparser. I will give a few examples to make some feeling on the syntax, for further instructions please visit project website (especially tutorial section).\r\n\r\nhttps://mathparser.org/\r\n\r\nhttps://mathparser.org/mxparser-tutorial/\r\n\r\nhttps://mathparser.org/api/\r\n\r\nAnd few examples\r\n\r\n1 - Simple furmula\r\n\r\n    Expression e = new Expression(&quot;( 2 + 3/4 + sin(pi) )/2&quot;);\r\n    double v = e.calculate()\r\n\r\n2 - User defined arguments and constants\r\n\r\n    Argument x = new Argument(&quot;x = 10&quot;);\r\n    Constant a = new Constant(&quot;a = pi^2&quot;);\r\n    Expression e = new Expression(&quot;cos(a*x)&quot;, x, a);\r\n    double v = e.calculate()\r\n\r\n3 - User defined functions\r\n\r\n    Function f = new Function(&quot;f(x, y, z) = sin(x) + cos(y*z)&quot;);\r\n    Expression e = new Expression(&quot;f(3,2,5)&quot;, f);\r\n    double v = e.calculate()\r\n\r\n4 - Iteration\r\n\r\n    Expression e = new Expression(&quot;sum( i, 1, 100, sin(i) )&quot;);\r\n    double v = e.calculate()\r\n\r\n\r\nFound recently - in case you would like to try the syntax (and see the advanced use case) you can download the [Scalar][1] [Calculator][2] [app][3] that is powered by mXparser.\r\n\r\n\r\n  [1]: https://scalarmath.org\r\n  [2]: https://play.google.com/store/apps/details?id=org.mathparser.scalar.lite\r\n  [3]: https://play.google.com/store/apps/details?id=org.mathparser.scalar.pro","title":"How to evaluate a math expression given in string form?","body":"<p>For my university project, I was looking for a parser / evaluator supporting both basic formulas and more complicated equations (especially iterated operators). I found very nice open source library for JAVA and .NET called mXparser. I will give a few examples to make some feeling on the syntax, for further instructions please visit project website (especially tutorial section).</p>\n<p><a href=\"https://mathparser.org/\" rel=\"noreferrer\">https://mathparser.org/</a></p>\n<p><a href=\"https://mathparser.org/mxparser-tutorial/\" rel=\"noreferrer\">https://mathparser.org/mxparser-tutorial/</a></p>\n<p><a href=\"https://mathparser.org/api/\" rel=\"noreferrer\">https://mathparser.org/api/</a></p>\n<p>And few examples</p>\n<p>1 - Simple furmula</p>\n<pre><code>Expression e = new Expression(&quot;( 2 + 3/4 + sin(pi) )/2&quot;);\ndouble v = e.calculate()\n</code></pre>\n<p>2 - User defined arguments and constants</p>\n<pre><code>Argument x = new Argument(&quot;x = 10&quot;);\nConstant a = new Constant(&quot;a = pi^2&quot;);\nExpression e = new Expression(&quot;cos(a*x)&quot;, x, a);\ndouble v = e.calculate()\n</code></pre>\n<p>3 - User defined functions</p>\n<pre><code>Function f = new Function(&quot;f(x, y, z) = sin(x) + cos(y*z)&quot;);\nExpression e = new Expression(&quot;f(3,2,5)&quot;, f);\ndouble v = e.calculate()\n</code></pre>\n<p>4 - Iteration</p>\n<pre><code>Expression e = new Expression(&quot;sum( i, 1, 100, sin(i) )&quot;);\ndouble v = e.calculate()\n</code></pre>\n<p>Found recently - in case you would like to try the syntax (and see the advanced use case) you can download the <a href=\"https://scalarmath.org\" rel=\"noreferrer\">Scalar</a> <a href=\"https://play.google.com/store/apps/details?id=org.mathparser.scalar.lite\" rel=\"noreferrer\">Calculator</a> <a href=\"https://play.google.com/store/apps/details?id=org.mathparser.scalar.pro\" rel=\"noreferrer\">app</a> that is powered by mXparser.</p>\n"},{"tags":[],"owner":{"account_id":1495927,"reputation":18532,"user_id":1401879,"display_name":"Stefan Haustein"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1460854830,"creation_date":1460854830,"answer_id":36671543,"question_id":3422673,"body_markdown":"Yet another option: https://github.com/stefanhaustein/expressionparser\r\n\r\nI have implemented this to have a simple but flexible option to permit both:\r\n\r\n- Immediate processing ([Calculator.java][1], [SetDemo.java][2])\r\n- Building and processing a parse tree ([TreeBuilder.java][3])\r\n\r\nThe TreeBuilder linked above is part of a [CAS demo package][4] that does symbolic derivation. There is also a [BASIC interpreter][5] example and I have started to build a [TypeScript interpreter][6] using it.\r\n\r\n\r\n  [1]: https://github.com/stefanhaustein/expressionparser/blob/master/src/main/java/org/kobjects/expressionparser/demo/calculator/Calculator.java\r\n  [2]: https://github.com/stefanhaustein/expressionparser/blob/master/src/main/java/org/kobjects/expressionparser/demo/sets/SetDemo.java\r\n  [3]: https://github.com/stefanhaustein/expressionparser/blob/master/src/main/java/org/kobjects/expressionparser/demo/cas/TreeBuilder.java\r\n  [4]: https://github.com/stefanhaustein/expressionparser/tree/master/src/main/java/org/kobjects/expressionparser/demo/cas\r\n  [5]: https://github.com/stefanhaustein/expressionparser/tree/master/src/main/java/org/kobjects/expressionparser/demo/basic\r\n  [6]: https://github.com/stefanhaustein/typo","title":"How to evaluate a math expression given in string form?","body":"<p>Yet another option: <a href=\"https://github.com/stefanhaustein/expressionparser\" rel=\"nofollow\">https://github.com/stefanhaustein/expressionparser</a></p>\n\n<p>I have implemented this to have a simple but flexible option to permit both:</p>\n\n<ul>\n<li>Immediate processing (<a href=\"https://github.com/stefanhaustein/expressionparser/blob/master/src/main/java/org/kobjects/expressionparser/demo/calculator/Calculator.java\" rel=\"nofollow\">Calculator.java</a>, <a href=\"https://github.com/stefanhaustein/expressionparser/blob/master/src/main/java/org/kobjects/expressionparser/demo/sets/SetDemo.java\" rel=\"nofollow\">SetDemo.java</a>)</li>\n<li>Building and processing a parse tree (<a href=\"https://github.com/stefanhaustein/expressionparser/blob/master/src/main/java/org/kobjects/expressionparser/demo/cas/TreeBuilder.java\" rel=\"nofollow\">TreeBuilder.java</a>)</li>\n</ul>\n\n<p>The TreeBuilder linked above is part of a <a href=\"https://github.com/stefanhaustein/expressionparser/tree/master/src/main/java/org/kobjects/expressionparser/demo/cas\" rel=\"nofollow\">CAS demo package</a> that does symbolic derivation. There is also a <a href=\"https://github.com/stefanhaustein/expressionparser/tree/master/src/main/java/org/kobjects/expressionparser/demo/basic\" rel=\"nofollow\">BASIC interpreter</a> example and I have started to build a <a href=\"https://github.com/stefanhaustein/typo\" rel=\"nofollow\">TypeScript interpreter</a> using it.</p>\n"},{"tags":[],"owner":{"account_id":2278572,"reputation":1733,"user_id":2004265,"display_name":"DAB"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1481906677,"creation_date":1461408403,"answer_id":36809774,"question_id":3422673,"body_markdown":"You can evaluate expressions easily if your Java application already accesses a database, without using any other JARs.\r\n\r\nSome databases require you to use a dummy table (eg, Oracle&#39;s &quot;dual&quot; table) and others will allow you to evaluate expressions without &quot;selecting&quot; from any table.\r\n\r\nFor example, in Sql Server or Sqlite\r\n\r\n    select (((12.10 +12.0))/ 233.0) amount\r\n\r\nand in Oracle\r\n\r\n    select (((12.10 +12.0))/ 233.0) amount from dual;\r\n\r\nThe advantage of using a DB is that you can evaluate many expressions at the same time. Also most DB&#39;s will allow you to use highly complex expressions and   will also have a number of extra functions that can be called as necessary.  \r\n\r\nHowever performance may suffer if many single expressions need to be evaluated individually, particularly when the DB is located on a network server.\r\n \r\nThe following addresses the performance problem to some extent, by using a Sqlite in-memory database.    \r\n\r\nHere&#39;s a full working example in Java\r\n\r\n    Class. forName(&quot;org.sqlite.JDBC&quot;);\r\n    Connection conn = DriverManager.getConnection(&quot;jdbc:sqlite::memory:&quot;);\r\n    Statement stat = conn.createStatement();\r\n    ResultSet rs = stat.executeQuery( &quot;select (1+10)/20.0 amount&quot;);\r\n    rs.next();\r\n    System.out.println(rs.getBigDecimal(1));\r\n    stat.close();\r\n    conn.close();\r\n\r\nOf course you could extend the above code to handle multiple calculations at the same time.\r\n\r\n    ResultSet rs = stat.executeQuery( &quot;select (1+10)/20.0 amount, (1+100)/20.0 amount2&quot;);\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to evaluate a math expression given in string form?","body":"<p>You can evaluate expressions easily if your Java application already accesses a database, without using any other JARs.</p>\n\n<p>Some databases require you to use a dummy table (eg, Oracle's \"dual\" table) and others will allow you to evaluate expressions without \"selecting\" from any table.</p>\n\n<p>For example, in Sql Server or Sqlite</p>\n\n<pre><code>select (((12.10 +12.0))/ 233.0) amount\n</code></pre>\n\n<p>and in Oracle</p>\n\n<pre><code>select (((12.10 +12.0))/ 233.0) amount from dual;\n</code></pre>\n\n<p>The advantage of using a DB is that you can evaluate many expressions at the same time. Also most DB's will allow you to use highly complex expressions and   will also have a number of extra functions that can be called as necessary.  </p>\n\n<p>However performance may suffer if many single expressions need to be evaluated individually, particularly when the DB is located on a network server.</p>\n\n<p>The following addresses the performance problem to some extent, by using a Sqlite in-memory database.    </p>\n\n<p>Here's a full working example in Java</p>\n\n<pre><code>Class. forName(\"org.sqlite.JDBC\");\nConnection conn = DriverManager.getConnection(\"jdbc:sqlite::memory:\");\nStatement stat = conn.createStatement();\nResultSet rs = stat.executeQuery( \"select (1+10)/20.0 amount\");\nrs.next();\nSystem.out.println(rs.getBigDecimal(1));\nstat.close();\nconn.close();\n</code></pre>\n\n<p>Of course you could extend the above code to handle multiple calculations at the same time.</p>\n\n<pre><code>ResultSet rs = stat.executeQuery( \"select (1+10)/20.0 amount, (1+100)/20.0 amount2\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1470382,"reputation":862,"user_id":1382102,"display_name":"chejaras"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1518682723,"creation_date":1465368032,"answer_id":37695001,"question_id":3422673,"body_markdown":"    package ExpressionCalculator.expressioncalculator;\r\n\r\n    import java.text.DecimalFormat;\r\n    import java.util.Scanner;\r\n\r\n    public class ExpressionCalculator {\r\n\t\r\n\tprivate static String addSpaces(String exp){\r\n\t\t\r\n\t\t//Add space padding to operands.\r\n\t\t//https://regex101.com/r/sJ9gM7/73\r\n\t\texp = exp.replaceAll(&quot;(?&lt;=[0-9()])[\\\\/]&quot;, &quot; / &quot;);\r\n\t\texp = exp.replaceAll(&quot;(?&lt;=[0-9()])[\\\\^]&quot;, &quot; ^ &quot;);\r\n\t\texp = exp.replaceAll(&quot;(?&lt;=[0-9()])[\\\\*]&quot;, &quot; * &quot;);\r\n\t\texp = exp.replaceAll(&quot;(?&lt;=[0-9()])[+]&quot;, &quot; + &quot;); \r\n\t\texp = exp.replaceAll(&quot;(?&lt;=[0-9()])[-]&quot;, &quot; - &quot;);\r\n\r\n\t\t//Keep replacing double spaces with single spaces until your string is properly formatted\r\n\t\t/*while(exp.indexOf(&quot;  &quot;) != -1){\r\n\t\t\texp = exp.replace(&quot;  &quot;, &quot; &quot;);\r\n\t\t }*/\r\n\t\texp = exp.replaceAll(&quot; {2,}&quot;, &quot; &quot;);\r\n\t\t\r\n\t\t   return exp;\r\n\t}\r\n\t\r\n\tpublic static Double evaluate(String expr){\r\n\t\t\r\n\t\tDecimalFormat df = new DecimalFormat(&quot;#.####&quot;);\r\n\r\n\t\t//Format the expression properly before performing operations\r\n\t\tString expression = addSpaces(expr);\r\n\t\t\r\n\t    try {\r\n\t        //We will evaluate using rule BDMAS, i.e. brackets, division, power, multiplication, addition and\r\n\t        //subtraction will be processed in following order\r\n\t        int indexClose = expression.indexOf(&quot;)&quot;);\r\n\t        int indexOpen = -1;\r\n\t        if (indexClose != -1) {\r\n\t            String substring = expression.substring(0, indexClose);\r\n\t            indexOpen = substring.lastIndexOf(&quot;(&quot;);\r\n\t            substring = substring.substring(indexOpen + 1).trim();\r\n\t            if(indexOpen != -1 &amp;&amp; indexClose != -1) {\r\n\t                Double result = evaluate(substring);\r\n\t                expression = expression.substring(0, indexOpen).trim() + &quot; &quot; + result + &quot; &quot; + expression.substring(indexClose + 1).trim();\r\n\t                return evaluate(expression.trim());\r\n\t            }\r\n\t        }\r\n\r\n\t        String operation = &quot;&quot;;\r\n\t        if(expression.indexOf(&quot; / &quot;) != -1){\r\n\t            operation = &quot;/&quot;;\r\n\t        }else if(expression.indexOf(&quot; ^ &quot;) != -1){\r\n\t        \toperation = &quot;^&quot;;\r\n\t        } else if(expression.indexOf(&quot; * &quot;) != -1){\r\n\t            operation = &quot;*&quot;;\r\n\t        } else if(expression.indexOf(&quot; + &quot;) != -1){\r\n\t            operation = &quot;+&quot;;\r\n\t        } else if(expression.indexOf(&quot; - &quot;) != -1){ //Avoid negative numbers\r\n\t            operation = &quot;-&quot;;\r\n\t        } else{\r\n\t            return Double.parseDouble(expression);\r\n\t        }\r\n\r\n\t        int index = expression.indexOf(operation);\r\n\t        if(index != -1){\r\n\t            indexOpen = expression.lastIndexOf(&quot; &quot;, index - 2);\r\n\t            indexOpen = (indexOpen == -1)?0:indexOpen;\r\n\t            indexClose = expression.indexOf(&quot; &quot;, index + 2);\r\n\t            indexClose = (indexClose == -1)?expression.length():indexClose;\r\n\t            if(indexOpen != -1 &amp;&amp; indexClose != -1) {\r\n\t                Double lhs = Double.parseDouble(expression.substring(indexOpen, index));\r\n\t                Double rhs = Double.parseDouble(expression.substring(index + 2, indexClose));\r\n\t                Double result = null;\r\n\t                switch (operation){\r\n\t                    case &quot;/&quot;:\r\n\t                        //Prevent divide by 0 exception.\r\n\t                        if(rhs == 0){\r\n\t                            return null;\r\n\t                        }\r\n\t                        result = lhs / rhs;\r\n\t                        break;\r\n\t                    case &quot;^&quot;:\r\n\t                        result = Math.pow(lhs, rhs);\r\n\t                        break;\r\n\t                    case &quot;*&quot;:\r\n\t                        result = lhs * rhs;\r\n\t                        break;\r\n\t                    case &quot;-&quot;:\r\n\t                        result = lhs - rhs;\r\n\t                        break;\r\n\t                    case &quot;+&quot;:\r\n\t                        result = lhs + rhs;\r\n\t                        break;\r\n\t                    default:\r\n\t                        break;\r\n\t                }\r\n\t                if(indexClose == expression.length()){\r\n\t                    expression = expression.substring(0, indexOpen) + &quot; &quot; + result + &quot; &quot; + expression.substring(indexClose);\r\n\t                }else{\r\n\t                    expression = expression.substring(0, indexOpen) + &quot; &quot; + result + &quot; &quot; + expression.substring(indexClose + 1);\r\n\t                }\r\n\t                return Double.valueOf(df.format(evaluate(expression.trim())));\r\n\t            }\r\n\t        }\r\n\t    }catch(Exception exp){\r\n\t        exp.printStackTrace();\r\n\t    }\r\n\t    return 0.0;\r\n\t}\r\n\t\r\n\tpublic static void main(String args[]){\r\n\t\t\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter an Mathematical Expression to Evaluate: &quot;);\r\n\t\tString input = scanner.nextLine();\r\n\t\tSystem.out.println(evaluate(input));\r\n\t}\r\n\r\n}\r\n","title":"How to evaluate a math expression given in string form?","body":"<pre><code>package ExpressionCalculator.expressioncalculator;\n\nimport java.text.DecimalFormat;\nimport java.util.Scanner;\n\npublic class ExpressionCalculator {\n\nprivate static String addSpaces(String exp){\n\n    //Add space padding to operands.\n    //https://regex101.com/r/sJ9gM7/73\n    exp = exp.replaceAll(\"(?&lt;=[0-9()])[\\\\/]\", \" / \");\n    exp = exp.replaceAll(\"(?&lt;=[0-9()])[\\\\^]\", \" ^ \");\n    exp = exp.replaceAll(\"(?&lt;=[0-9()])[\\\\*]\", \" * \");\n    exp = exp.replaceAll(\"(?&lt;=[0-9()])[+]\", \" + \"); \n    exp = exp.replaceAll(\"(?&lt;=[0-9()])[-]\", \" - \");\n\n    //Keep replacing double spaces with single spaces until your string is properly formatted\n    /*while(exp.indexOf(\"  \") != -1){\n        exp = exp.replace(\"  \", \" \");\n     }*/\n    exp = exp.replaceAll(\" {2,}\", \" \");\n\n       return exp;\n}\n\npublic static Double evaluate(String expr){\n\n    DecimalFormat df = new DecimalFormat(\"#.####\");\n\n    //Format the expression properly before performing operations\n    String expression = addSpaces(expr);\n\n    try {\n        //We will evaluate using rule BDMAS, i.e. brackets, division, power, multiplication, addition and\n        //subtraction will be processed in following order\n        int indexClose = expression.indexOf(\")\");\n        int indexOpen = -1;\n        if (indexClose != -1) {\n            String substring = expression.substring(0, indexClose);\n            indexOpen = substring.lastIndexOf(\"(\");\n            substring = substring.substring(indexOpen + 1).trim();\n            if(indexOpen != -1 &amp;&amp; indexClose != -1) {\n                Double result = evaluate(substring);\n                expression = expression.substring(0, indexOpen).trim() + \" \" + result + \" \" + expression.substring(indexClose + 1).trim();\n                return evaluate(expression.trim());\n            }\n        }\n\n        String operation = \"\";\n        if(expression.indexOf(\" / \") != -1){\n            operation = \"/\";\n        }else if(expression.indexOf(\" ^ \") != -1){\n            operation = \"^\";\n        } else if(expression.indexOf(\" * \") != -1){\n            operation = \"*\";\n        } else if(expression.indexOf(\" + \") != -1){\n            operation = \"+\";\n        } else if(expression.indexOf(\" - \") != -1){ //Avoid negative numbers\n            operation = \"-\";\n        } else{\n            return Double.parseDouble(expression);\n        }\n\n        int index = expression.indexOf(operation);\n        if(index != -1){\n            indexOpen = expression.lastIndexOf(\" \", index - 2);\n            indexOpen = (indexOpen == -1)?0:indexOpen;\n            indexClose = expression.indexOf(\" \", index + 2);\n            indexClose = (indexClose == -1)?expression.length():indexClose;\n            if(indexOpen != -1 &amp;&amp; indexClose != -1) {\n                Double lhs = Double.parseDouble(expression.substring(indexOpen, index));\n                Double rhs = Double.parseDouble(expression.substring(index + 2, indexClose));\n                Double result = null;\n                switch (operation){\n                    case \"/\":\n                        //Prevent divide by 0 exception.\n                        if(rhs == 0){\n                            return null;\n                        }\n                        result = lhs / rhs;\n                        break;\n                    case \"^\":\n                        result = Math.pow(lhs, rhs);\n                        break;\n                    case \"*\":\n                        result = lhs * rhs;\n                        break;\n                    case \"-\":\n                        result = lhs - rhs;\n                        break;\n                    case \"+\":\n                        result = lhs + rhs;\n                        break;\n                    default:\n                        break;\n                }\n                if(indexClose == expression.length()){\n                    expression = expression.substring(0, indexOpen) + \" \" + result + \" \" + expression.substring(indexClose);\n                }else{\n                    expression = expression.substring(0, indexOpen) + \" \" + result + \" \" + expression.substring(indexClose + 1);\n                }\n                return Double.valueOf(df.format(evaluate(expression.trim())));\n            }\n        }\n    }catch(Exception exp){\n        exp.printStackTrace();\n    }\n    return 0.0;\n}\n\npublic static void main(String args[]){\n\n    Scanner scanner = new Scanner(System.in);\n    System.out.print(\"Enter an Mathematical Expression to Evaluate: \");\n    String input = scanner.nextLine();\n    System.out.println(evaluate(input));\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2222340,"reputation":793,"user_id":1961442,"display_name":"Bruce"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1474704682,"creation_date":1474704682,"answer_id":39674093,"question_id":3422673,"body_markdown":"Try the following sample code using JDK1.6&#39;s Javascript engine with code injection handling.\r\n\r\n    import javax.script.ScriptEngine;\r\n    import javax.script.ScriptEngineManager;\r\n    \r\n    public class EvalUtil {\r\n\tprivate static ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;JavaScript&quot;);\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tSystem.out.println((new EvalUtil()).eval(&quot;(((5+5)/2) &gt; 5) || 5 &gt;3 &quot;));\r\n\t\t\tSystem.out.println((new EvalUtil()).eval(&quot;(((5+5)/2) &gt; 5) || true&quot;));\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n    public Object eval(String input) throws Exception{\r\n        try {\r\n\t\t    if(input.matches(&quot;.*[a-zA-Z;~`#$_{}\\\\[\\\\]:\\\\\\\\;\\&quot;&#39;,\\\\.\\\\?]+.*&quot;)) {\r\n\t\t\t    throw new Exception(&quot;Invalid expression : &quot; + input );\r\n\t\t    }\r\n\t\t    return engine.eval(input);\r\n\t    } catch (Exception e) {\r\n\t\t    e.printStackTrace();\r\n\t\t    throw e;\r\n\t    }\r\n     }\r\n    }\r\n","title":"How to evaluate a math expression given in string form?","body":"<p>Try the following sample code using JDK1.6's Javascript engine with code injection handling.</p>\n\n<pre><code>import javax.script.ScriptEngine;\nimport javax.script.ScriptEngineManager;\n\npublic class EvalUtil {\nprivate static ScriptEngine engine = new ScriptEngineManager().getEngineByName(\"JavaScript\");\npublic static void main(String[] args) {\n    try {\n        System.out.println((new EvalUtil()).eval(\"(((5+5)/2) &gt; 5) || 5 &gt;3 \"));\n        System.out.println((new EvalUtil()).eval(\"(((5+5)/2) &gt; 5) || true\"));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\npublic Object eval(String input) throws Exception{\n    try {\n        if(input.matches(\".*[a-zA-Z;~`#$_{}\\\\[\\\\]:\\\\\\\\;\\\"',\\\\.\\\\?]+.*\")) {\n            throw new Exception(\"Invalid expression : \" + input );\n        }\n        return engine.eval(input);\n    } catch (Exception e) {\n        e.printStackTrace();\n        throw e;\n    }\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3762449,"reputation":1696,"user_id":3126973,"accept_rate":54,"display_name":"Romeo Sierra"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1482387848,"creation_date":1482387848,"answer_id":41276932,"question_id":3422673,"body_markdown":"This is actually complementing the answer given by @Boann. It has a slight bug which causes &quot;-2 ^ 2&quot; to give an erroneous result of -4.0. The problem for that is the point at which the exponentiation is evaluated in his. Just move the exponentiation to the block of parseTerm(), and you&#39;ll be all fine. Have a look at the below, which is [@Boann&#39;s answer][1] slightly modified. Modification is in the comments.\r\n\r\n    public static double eval(final String str) {\r\n        return new Object() {\r\n            int pos = -1, ch;\r\n\r\n            void nextChar() {\r\n                ch = (++pos &lt; str.length()) ? str.charAt(pos) : -1;\r\n            }\r\n\r\n            boolean eat(int charToEat) {\r\n                while (ch == &#39; &#39;) nextChar();\r\n                if (ch == charToEat) {\r\n                    nextChar();\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n\r\n            double parse() {\r\n                nextChar();\r\n                double x = parseExpression();\r\n                if (pos &lt; str.length()) throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\r\n                return x;\r\n            }\r\n\r\n            // Grammar:\r\n            // expression = term | expression `+` term | expression `-` term\r\n            // term = factor | term `*` factor | term `/` factor\r\n            // factor = `+` factor | `-` factor | `(` expression `)`\r\n            //        | number | functionName factor | factor `^` factor\r\n\r\n            double parseExpression() {\r\n                double x = parseTerm();\r\n                for (;;) {\r\n                    if      (eat(&#39;+&#39;)) x += parseTerm(); // addition\r\n                    else if (eat(&#39;-&#39;)) x -= parseTerm(); // subtraction\r\n                    else return x;\r\n                }\r\n            }\r\n\r\n            double parseTerm() {\r\n                double x = parseFactor();\r\n                for (;;) {\r\n                    if      (eat(&#39;*&#39;)) x *= parseFactor(); // multiplication\r\n                    else if (eat(&#39;/&#39;)) x /= parseFactor(); // division\r\n                    else if (eat(&#39;^&#39;)) x = Math.pow(x, parseFactor()); //exponentiation -&gt; Moved in to here. So the problem is fixed\r\n                    else return x;\r\n                }\r\n            }\r\n\r\n            double parseFactor() {\r\n                if (eat(&#39;+&#39;)) return parseFactor(); // unary plus\r\n                if (eat(&#39;-&#39;)) return -parseFactor(); // unary minus\r\n\r\n                double x;\r\n                int startPos = this.pos;\r\n                if (eat(&#39;(&#39;)) { // parentheses\r\n                    x = parseExpression();\r\n                    eat(&#39;)&#39;);\r\n                } else if ((ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) || ch == &#39;.&#39;) { // numbers\r\n                    while ((ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) || ch == &#39;.&#39;) nextChar();\r\n                    x = Double.parseDouble(str.substring(startPos, this.pos));\r\n                } else if (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) { // functions\r\n                    while (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) nextChar();\r\n                    String func = str.substring(startPos, this.pos);\r\n                    x = parseFactor();\r\n                    if (func.equals(&quot;sqrt&quot;)) x = Math.sqrt(x);\r\n                    else if (func.equals(&quot;sin&quot;)) x = Math.sin(Math.toRadians(x));\r\n                    else if (func.equals(&quot;cos&quot;)) x = Math.cos(Math.toRadians(x));\r\n                    else if (func.equals(&quot;tan&quot;)) x = Math.tan(Math.toRadians(x));\r\n                    else throw new RuntimeException(&quot;Unknown function: &quot; + func);\r\n                } else {\r\n                    throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\r\n                }\r\n\r\n                //if (eat(&#39;^&#39;)) x = Math.pow(x, parseFactor()); // exponentiation -&gt; This is causing a bit of problem\r\n\r\n                return x;\r\n            }\r\n        }.parse();\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/26227947/3126973","title":"How to evaluate a math expression given in string form?","body":"<p>This is actually complementing the answer given by @Boann. It has a slight bug which causes \"-2 ^ 2\" to give an erroneous result of -4.0. The problem for that is the point at which the exponentiation is evaluated in his. Just move the exponentiation to the block of parseTerm(), and you'll be all fine. Have a look at the below, which is <a href=\"https://stackoverflow.com/a/26227947/3126973\">@Boann's answer</a> slightly modified. Modification is in the comments.</p>\n\n<pre><code>public static double eval(final String str) {\n    return new Object() {\n        int pos = -1, ch;\n\n        void nextChar() {\n            ch = (++pos &lt; str.length()) ? str.charAt(pos) : -1;\n        }\n\n        boolean eat(int charToEat) {\n            while (ch == ' ') nextChar();\n            if (ch == charToEat) {\n                nextChar();\n                return true;\n            }\n            return false;\n        }\n\n        double parse() {\n            nextChar();\n            double x = parseExpression();\n            if (pos &lt; str.length()) throw new RuntimeException(\"Unexpected: \" + (char)ch);\n            return x;\n        }\n\n        // Grammar:\n        // expression = term | expression `+` term | expression `-` term\n        // term = factor | term `*` factor | term `/` factor\n        // factor = `+` factor | `-` factor | `(` expression `)`\n        //        | number | functionName factor | factor `^` factor\n\n        double parseExpression() {\n            double x = parseTerm();\n            for (;;) {\n                if      (eat('+')) x += parseTerm(); // addition\n                else if (eat('-')) x -= parseTerm(); // subtraction\n                else return x;\n            }\n        }\n\n        double parseTerm() {\n            double x = parseFactor();\n            for (;;) {\n                if      (eat('*')) x *= parseFactor(); // multiplication\n                else if (eat('/')) x /= parseFactor(); // division\n                else if (eat('^')) x = Math.pow(x, parseFactor()); //exponentiation -&gt; Moved in to here. So the problem is fixed\n                else return x;\n            }\n        }\n\n        double parseFactor() {\n            if (eat('+')) return parseFactor(); // unary plus\n            if (eat('-')) return -parseFactor(); // unary minus\n\n            double x;\n            int startPos = this.pos;\n            if (eat('(')) { // parentheses\n                x = parseExpression();\n                eat(')');\n            } else if ((ch &gt;= '0' &amp;&amp; ch &lt;= '9') || ch == '.') { // numbers\n                while ((ch &gt;= '0' &amp;&amp; ch &lt;= '9') || ch == '.') nextChar();\n                x = Double.parseDouble(str.substring(startPos, this.pos));\n            } else if (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') { // functions\n                while (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') nextChar();\n                String func = str.substring(startPos, this.pos);\n                x = parseFactor();\n                if (func.equals(\"sqrt\")) x = Math.sqrt(x);\n                else if (func.equals(\"sin\")) x = Math.sin(Math.toRadians(x));\n                else if (func.equals(\"cos\")) x = Math.cos(Math.toRadians(x));\n                else if (func.equals(\"tan\")) x = Math.tan(Math.toRadians(x));\n                else throw new RuntimeException(\"Unknown function: \" + func);\n            } else {\n                throw new RuntimeException(\"Unexpected: \" + (char)ch);\n            }\n\n            //if (eat('^')) x = Math.pow(x, parseFactor()); // exponentiation -&gt; This is causing a bit of problem\n\n            return x;\n        }\n    }.parse();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4576509,"reputation":947,"user_id":3714808,"display_name":"Efi G"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1651423293,"creation_date":1495776815,"answer_id":44194289,"question_id":3422673,"body_markdown":"A Java class that can evaluate mathematical expressions:\r\n\r\n    package test;\r\n    \r\n    public class Calculator {\r\n    \r\n    \tpublic static Double calculate(String expression){\r\n    \t\tif (expression == null || expression.length() == 0) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\treturn calc(expression.replace(&quot; &quot;, &quot;&quot;));\r\n    \t}\r\n    \tpublic static Double calc(String expression) {\r\n    \t\tString[] containerArr = new String[]{expression};\r\n    \t\tdouble leftVal = getNextOperand(containerArr);\r\n    \t\texpression = containerArr[0];\r\n    \t\tif (expression.length() == 0) {\r\n    \t\t\treturn leftVal;\r\n    \t\t}\r\n    \t\tchar operator = expression.charAt(0);\r\n    \t\texpression = expression.substring(1);\r\n    \r\n    \t\twhile (operator == &#39;*&#39; || operator == &#39;/&#39;) {\r\n    \t\t\tcontainerArr[0] = expression;\r\n    \t\t\tdouble rightVal = getNextOperand(containerArr);\r\n    \t\t\texpression = containerArr[0];\r\n    \t\t\tif (operator == &#39;*&#39;) {\r\n    \t\t\t\tleftVal = leftVal * rightVal;\r\n    \t\t\t} else {\r\n    \t\t\t\tleftVal = leftVal / rightVal;\r\n    \t\t\t}\r\n    \t\t\tif (expression.length() &gt; 0) {\r\n    \t\t\t\toperator = expression.charAt(0);\r\n    \t\t\t\texpression = expression.substring(1);\r\n    \t\t\t} else {\r\n    \t\t\t\treturn leftVal;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (operator == &#39;+&#39;) {\r\n    \t\t\treturn leftVal + calc(expression);\r\n    \t\t} else {\r\n    \t\t\treturn leftVal - calc(expression);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \t\r\n    \tprivate static double getNextOperand(String[] exp){\r\n    \t\tdouble res;\r\n    \t\tif (exp[0].startsWith(&quot;(&quot;)) {\r\n    \t\t\tint open = 1;\r\n    \t\t\tint i = 1;\r\n    \t\t\twhile (open != 0) {\r\n    \t\t\t\tif (exp[0].charAt(i) == &#39;(&#39;) {\r\n    \t\t\t\t\topen++;\r\n    \t\t\t\t} else if (exp[0].charAt(i) == &#39;)&#39;) {\r\n    \t\t\t\t\topen--;\r\n    \t\t\t\t}\r\n    \t\t\t\ti++;\r\n    \t\t\t}\r\n    \t\t\tres = calc(exp[0].substring(1, i - 1));\r\n    \t\t\texp[0] = exp[0].substring(i);\r\n    \t\t} else {\r\n    \t\t\tint i = 1;\r\n    \t\t\tif (exp[0].charAt(0) == &#39;-&#39;) {\r\n    \t\t\t\ti++;\r\n    \t\t\t}\r\n    \t\t\twhile (exp[0].length() &gt; i &amp;&amp; isNumber((int) exp[0].charAt(i))) {\r\n    \t\t\t\ti++;\r\n    \t\t\t}\r\n    \t\t\tres = Double.parseDouble(exp[0].substring(0, i));\r\n    \t\t\texp[0] = exp[0].substring(i);\r\n    \t\t}\r\n    \t\treturn res;\r\n    \t}\r\n    \r\n    \r\n    \tprivate static boolean isNumber(int c) {\r\n    \t\tint zero = (int) &#39;0&#39;;\r\n    \t\tint nine = (int) &#39;9&#39;;\r\n    \t\treturn (c &gt;= zero &amp;&amp; c &lt;= nine) || c ==&#39;.&#39;;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(calculate(&quot;(((( -6 )))) * 9 * -1&quot;));\r\n    \t\tSystem.out.println(calc(&quot;(-5.2+-5*-5*((5/4+2)))&quot;));\r\n    \r\n    \t}\r\n    \r\n    }","title":"How to evaluate a math expression given in string form?","body":"<p>A Java class that can evaluate mathematical expressions:</p>\n<pre><code>package test;\n\npublic class Calculator {\n\n    public static Double calculate(String expression){\n        if (expression == null || expression.length() == 0) {\n            return null;\n        }\n        return calc(expression.replace(&quot; &quot;, &quot;&quot;));\n    }\n    public static Double calc(String expression) {\n        String[] containerArr = new String[]{expression};\n        double leftVal = getNextOperand(containerArr);\n        expression = containerArr[0];\n        if (expression.length() == 0) {\n            return leftVal;\n        }\n        char operator = expression.charAt(0);\n        expression = expression.substring(1);\n\n        while (operator == '*' || operator == '/') {\n            containerArr[0] = expression;\n            double rightVal = getNextOperand(containerArr);\n            expression = containerArr[0];\n            if (operator == '*') {\n                leftVal = leftVal * rightVal;\n            } else {\n                leftVal = leftVal / rightVal;\n            }\n            if (expression.length() &gt; 0) {\n                operator = expression.charAt(0);\n                expression = expression.substring(1);\n            } else {\n                return leftVal;\n            }\n        }\n        if (operator == '+') {\n            return leftVal + calc(expression);\n        } else {\n            return leftVal - calc(expression);\n        }\n\n    }\n    \n    private static double getNextOperand(String[] exp){\n        double res;\n        if (exp[0].startsWith(&quot;(&quot;)) {\n            int open = 1;\n            int i = 1;\n            while (open != 0) {\n                if (exp[0].charAt(i) == '(') {\n                    open++;\n                } else if (exp[0].charAt(i) == ')') {\n                    open--;\n                }\n                i++;\n            }\n            res = calc(exp[0].substring(1, i - 1));\n            exp[0] = exp[0].substring(i);\n        } else {\n            int i = 1;\n            if (exp[0].charAt(0) == '-') {\n                i++;\n            }\n            while (exp[0].length() &gt; i &amp;&amp; isNumber((int) exp[0].charAt(i))) {\n                i++;\n            }\n            res = Double.parseDouble(exp[0].substring(0, i));\n            exp[0] = exp[0].substring(i);\n        }\n        return res;\n    }\n\n\n    private static boolean isNumber(int c) {\n        int zero = (int) '0';\n        int nine = (int) '9';\n        return (c &gt;= zero &amp;&amp; c &lt;= nine) || c =='.';\n    }\n\n    public static void main(String[] args) {\n        System.out.println(calculate(&quot;(((( -6 )))) * 9 * -1&quot;));\n        System.out.println(calc(&quot;(-5.2+-5*-5*((5/4+2)))&quot;));\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1180793,"reputation":1541,"user_id":1155758,"accept_rate":70,"display_name":"Manish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508471453,"creation_date":1508471453,"answer_id":46842142,"question_id":3422673,"body_markdown":"External library like RHINO or NASHORN can be used to run javascript. And javascript can evaluate simple formula without parcing the string. No performance impact as well if code is written well.\r\nBelow is an example with RHINO - \r\n\r\n    public class RhinoApp {\r\n        private String simpleAdd = &quot;(12+13+2-2)*2+(12+13+2-2)*2&quot;;\r\n\r\n    public void runJavaScript() {\r\n        Context jsCx = Context.enter();\r\n        Context.getCurrentContext().setOptimizationLevel(-1);\r\n        ScriptableObject scope = jsCx.initStandardObjects();\r\n        Object result = jsCx.evaluateString(scope, simpleAdd , &quot;formula&quot;, 0, null);\r\n        Context.exit();\r\n        System.out.println(result);\r\n    }","title":"How to evaluate a math expression given in string form?","body":"<p>External library like RHINO or NASHORN can be used to run javascript. And javascript can evaluate simple formula without parcing the string. No performance impact as well if code is written well.\nBelow is an example with RHINO - </p>\n\n<pre><code>public class RhinoApp {\n    private String simpleAdd = \"(12+13+2-2)*2+(12+13+2-2)*2\";\n\npublic void runJavaScript() {\n    Context jsCx = Context.enter();\n    Context.getCurrentContext().setOptimizationLevel(-1);\n    ScriptableObject scope = jsCx.initStandardObjects();\n    Object result = jsCx.evaluateString(scope, simpleAdd , \"formula\", 0, null);\n    Context.exit();\n    System.out.println(result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14352030,"reputation":710,"user_id":10367178,"display_name":"Md Adilur Rashid"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1638377188,"creation_date":1597908299,"answer_id":63500206,"question_id":3422673,"body_markdown":"\r\n\r\n    import javax.script.ScriptEngine;\r\n    import javax.script.ScriptEngineManager;\r\n    import javax.script.ScriptException;\r\n\r\n    public class test2 {\r\n        public static void main(String[] args) throws ScriptException {\r\n            String s = &quot;10+2&quot;;\r\n            ScriptEngineManager mn = new ScriptEngineManager();\r\n            ScriptEngine en = mn.getEngineByName(&quot;js&quot;);\r\n            Object result = en.eval(s);\r\n            System.out.println(result);\r\n        }\r\n    }\r\n\r\n","title":"How to evaluate a math expression given in string form?","body":"<pre><code>import javax.script.ScriptEngine;\nimport javax.script.ScriptEngineManager;\nimport javax.script.ScriptException;\n\npublic class test2 {\n    public static void main(String[] args) throws ScriptException {\n        String s = &quot;10+2&quot;;\n        ScriptEngineManager mn = new ScriptEngineManager();\n        ScriptEngine en = mn.getEngineByName(&quot;js&quot;);\n        Object result = en.eval(s);\n        System.out.println(result);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669180808,"creation_date":1667221357,"answer_id":74263711,"question_id":3422673,"body_markdown":"I have done using iterative parsing and shunting Yard algorithm and i have really enjoyed developing the expression evaluator ,you can find all the code here\r\n\r\nhttps://github.com/nagaraj200788/JavaExpressionEvaluator\r\n\r\nHas 73 test cases and even works for Bigintegers,Bigdecimals\r\n\r\nsupports all relational, arithmetic expression and also combination of both .\r\neven supports ternary operator .\r\n\r\nAdded enhancement to support signed numbers like -100+89 it was intresting, for details check TokenReader.isUnaryOperator() method and i have updated code in above Link\r\n","title":"How to evaluate a math expression given in string form?","body":"<p>I have done using iterative parsing and shunting Yard algorithm and i have really enjoyed developing the expression evaluator ,you can find all the code here</p>\n<p><a href=\"https://github.com/nagaraj200788/JavaExpressionEvaluator\" rel=\"nofollow noreferrer\">https://github.com/nagaraj200788/JavaExpressionEvaluator</a></p>\n<p>Has 73 test cases and even works for Bigintegers,Bigdecimals</p>\n<p>supports all relational, arithmetic expression and also combination of both .\neven supports ternary operator .</p>\n<p>Added enhancement to support signed numbers like -100+89 it was intresting, for details check TokenReader.isUnaryOperator() method and i have updated code in above Link</p>\n"},{"tags":[],"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681459130,"creation_date":1681459130,"answer_id":76012809,"question_id":3422673,"body_markdown":"If anybody needs precise decimal numbers I made a modification which uses `BigDecimal` instead of `double`. \r\n\r\nI got inspired by Boann&#39;s answer and modified it to use `BigDecimal`.\r\n\r\n```\r\npublic static BigDecimal eval(final String str, MathContext mathContext) {\r\n    if (ObjectUtils.isEmpty(str)) {\r\n        return null;\r\n    }\r\n\r\n    return new Object() {\r\n        int pos = -1, ch;\r\n\r\n        void nextChar() {\r\n            ch = (++pos &lt; str.length()) ? str.charAt(pos) : -1;\r\n        }\r\n\r\n        boolean eat(int charToEat) {\r\n            while (ch == &#39; &#39;) nextChar();\r\n            if (ch == charToEat) {\r\n                nextChar();\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        BigDecimal parse() {\r\n            nextChar();\r\n            BigDecimal x = parseExpression();\r\n            if (pos &lt; str.length()) throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\r\n            return x;\r\n        }\r\n\r\n        // Grammar:\r\n        // expression = term | expression `+` term | expression `-` term\r\n        // term = factor | term `*` factor | term `/` factor\r\n        // factor = `+` factor | `-` factor | `(` expression `)` | number\r\n        //        | functionName `(` expression `)` | functionName factor\r\n        //        | factor `^` factor\r\n\r\n        BigDecimal parseExpression() {\r\n            BigDecimal x = parseTerm();\r\n            for (;;) {\r\n                if      (eat(&#39;+&#39;)) x = x.add(parseTerm()); // addition\r\n                else if (eat(&#39;-&#39;)) x = x.subtract(parseTerm()); // subtraction\r\n                else return x;\r\n            }\r\n        }\r\n\r\n        BigDecimal parseTerm() {\r\n            BigDecimal x = parseFactor();\r\n            for (;;) {\r\n                if      (eat(&#39;*&#39;)) x = x.multiply(parseFactor()); // multiplication\r\n                else if (eat(&#39;/&#39;)) x = x.divide(parseFactor(), mathContext); // division\r\n                else return x;\r\n            }\r\n        }\r\n\r\n        BigDecimal parseFactor() {\r\n            if (eat(&#39;+&#39;)) return parseFactor(); // unary plus\r\n            if (eat(&#39;-&#39;)) return parseFactor().negate(); // unary minus\r\n\r\n            BigDecimal x;\r\n            int startPos = this.pos;\r\n            if (eat(&#39;(&#39;)) { // parentheses\r\n                x = parseExpression();\r\n                if (!eat(&#39;)&#39;)) throw new RuntimeException(&quot;Missing &#39;)&#39;&quot;);\r\n            } else if ((ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) || ch == &#39;.&#39;) { // numbers\r\n                while ((ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) || ch == &#39;.&#39;) nextChar();\r\n                x = new BigDecimal(str.substring(startPos, this.pos));\r\n            } else if (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) { // functions\r\n                while (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) nextChar();\r\n                String func = str.substring(startPos, this.pos);\r\n                if (eat(&#39;(&#39;)) {\r\n                    x = parseExpression();\r\n                    if (!eat(&#39;)&#39;)) throw new RuntimeException(&quot;Missing &#39;)&#39; after argument to &quot; + func);\r\n                } else {\r\n                    x = parseFactor();\r\n                }\r\n                if (&quot;sqrt&quot;.equals(func)) {\r\n                    x = x.sqrt(mathContext);\r\n                } else {\r\n                    throw new RuntimeException(&quot;Unknown function: &quot; + func);\r\n                }\r\n            } else {\r\n                throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\r\n            }\r\n\r\n            if (eat(&#39;^&#39;)) x = x.pow(parseFactor().intValue(), mathContext); // exponentiation\r\n\r\n            return x;\r\n        }\r\n    }.parse();\r\n}\r\n```\r\n\r\nUse it in a following way:\r\n\r\n```\r\n// set precision and rounding mode\r\nMathContext mathContext = new MathContext(10, RoundingMode.HALF_UP);\r\nBigDecimal result = YourLib.eval(&quot;33+33&quot;, mathContext);\r\n```","title":"How to evaluate a math expression given in string form?","body":"<p>If anybody needs precise decimal numbers I made a modification which uses <code>BigDecimal</code> instead of <code>double</code>.</p>\n<p>I got inspired by Boann's answer and modified it to use <code>BigDecimal</code>.</p>\n<pre><code>public static BigDecimal eval(final String str, MathContext mathContext) {\n    if (ObjectUtils.isEmpty(str)) {\n        return null;\n    }\n\n    return new Object() {\n        int pos = -1, ch;\n\n        void nextChar() {\n            ch = (++pos &lt; str.length()) ? str.charAt(pos) : -1;\n        }\n\n        boolean eat(int charToEat) {\n            while (ch == ' ') nextChar();\n            if (ch == charToEat) {\n                nextChar();\n                return true;\n            }\n            return false;\n        }\n\n        BigDecimal parse() {\n            nextChar();\n            BigDecimal x = parseExpression();\n            if (pos &lt; str.length()) throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\n            return x;\n        }\n\n        // Grammar:\n        // expression = term | expression `+` term | expression `-` term\n        // term = factor | term `*` factor | term `/` factor\n        // factor = `+` factor | `-` factor | `(` expression `)` | number\n        //        | functionName `(` expression `)` | functionName factor\n        //        | factor `^` factor\n\n        BigDecimal parseExpression() {\n            BigDecimal x = parseTerm();\n            for (;;) {\n                if      (eat('+')) x = x.add(parseTerm()); // addition\n                else if (eat('-')) x = x.subtract(parseTerm()); // subtraction\n                else return x;\n            }\n        }\n\n        BigDecimal parseTerm() {\n            BigDecimal x = parseFactor();\n            for (;;) {\n                if      (eat('*')) x = x.multiply(parseFactor()); // multiplication\n                else if (eat('/')) x = x.divide(parseFactor(), mathContext); // division\n                else return x;\n            }\n        }\n\n        BigDecimal parseFactor() {\n            if (eat('+')) return parseFactor(); // unary plus\n            if (eat('-')) return parseFactor().negate(); // unary minus\n\n            BigDecimal x;\n            int startPos = this.pos;\n            if (eat('(')) { // parentheses\n                x = parseExpression();\n                if (!eat(')')) throw new RuntimeException(&quot;Missing ')'&quot;);\n            } else if ((ch &gt;= '0' &amp;&amp; ch &lt;= '9') || ch == '.') { // numbers\n                while ((ch &gt;= '0' &amp;&amp; ch &lt;= '9') || ch == '.') nextChar();\n                x = new BigDecimal(str.substring(startPos, this.pos));\n            } else if (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') { // functions\n                while (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') nextChar();\n                String func = str.substring(startPos, this.pos);\n                if (eat('(')) {\n                    x = parseExpression();\n                    if (!eat(')')) throw new RuntimeException(&quot;Missing ')' after argument to &quot; + func);\n                } else {\n                    x = parseFactor();\n                }\n                if (&quot;sqrt&quot;.equals(func)) {\n                    x = x.sqrt(mathContext);\n                } else {\n                    throw new RuntimeException(&quot;Unknown function: &quot; + func);\n                }\n            } else {\n                throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\n            }\n\n            if (eat('^')) x = x.pow(parseFactor().intValue(), mathContext); // exponentiation\n\n            return x;\n        }\n    }.parse();\n}\n</code></pre>\n<p>Use it in a following way:</p>\n<pre><code>// set precision and rounding mode\nMathContext mathContext = new MathContext(10, RoundingMode.HALF_UP);\nBigDecimal result = YourLib.eval(&quot;33+33&quot;, mathContext);\n</code></pre>\n"}],"owner":{"account_id":93643,"reputation":4938,"user_id":256082,"accept_rate":91,"display_name":"Shah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":615879,"favorite_count":0,"down_vote_count":5,"up_vote_count":392,"accepted_answer_id":3423360,"answer_count":27,"score":387,"last_activity_date":1681459130,"creation_date":1281088410,"question_id":3422673,"body_markdown":"I&#39;m trying to write a Java routine to evaluate math expressions from `String` values like:\r\n\r\n1. `&quot;5+3&quot;`\r\n2. `&quot;10-4*5&quot;`\r\n3. `&quot;(1+10)*3&quot;`\r\n\r\nI want to avoid a lot of if-then-else statements.\r\nHow can I do this?","title":"How to evaluate a math expression given in string form?","body":"<p>I'm trying to write a Java routine to evaluate math expressions from <code>String</code> values like:</p>\n<ol>\n<li><code>&quot;5+3&quot;</code></li>\n<li><code>&quot;10-4*5&quot;</code></li>\n<li><code>&quot;(1+10)*3&quot;</code></li>\n</ol>\n<p>I want to avoid a lot of if-then-else statements.\nHow can I do this?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":3,"creation_date":1681406076,"post_id":76008024,"comment_id":134054933,"body_markdown":"If there is only one level of &quot;nesting&quot; then maybe `(?&lt;=\\{)\\d+:(?:\\{[^{}]*}|[^{}]+)(?=\\})`  https://regex101.com/r/xIgMPg/1","body":"If there is only one level of &quot;nesting&quot; then maybe <code>(?&lt;=\\{)\\d+:(?:\\{[^{}]*}|[^{}]+)(?=\\})</code>  <a href=\"https://regex101.com/r/xIgMPg/1\" rel=\"nofollow noreferrer\">regex101.com/r/xIgMPg/1</a>"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1681406354,"post_id":76008024,"comment_id":134054993,"body_markdown":"For a more general answer you may need to have a small parser instead of regular expressions.","body":"For a more general answer you may need to have a small parser instead of regular expressions."}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681459100,"creation_date":1681459100,"answer_id":76012802,"question_id":76008024,"body_markdown":"Java regex does not support recursion. If there can only be 1 level of nesting, you could use an alternation:\r\n\r\n    (?&lt;=\\{)\\d+:(?:\\{\\d+:[^{}]*}|[^{}]+)(?=\\})\r\n\r\n**Explanation**\r\n\r\n- `(?&lt;=\\{)` Positive lookbehind, assert `{` to the left\r\n- `\\d+:` Match 1+ digits followed by `:`\r\n- `(?:` Non capture group for the 2 alternatives\r\n  - `\\{\\d+:[^{}]*}` Match `{` 1+ digits and `:`, and then till`}`\r\n  - `|` Or\r\n  - `[^{}]+` Match 1+ chars other than `{` or `}`\r\n- `)` Close the non capture group\r\n- `(?=\\})` Positive lookahead, assert `}` to the right\r\n\r\nSee a [regex demo](https://regex101.com/r/d85LiH/1).\r\n\r\nIn Java with the double escaped backslashes:\r\n\r\n    String regex = &quot;(?&lt;=\\\\{)\\\\d+:(?:\\\\{\\\\d+:[^\\\\{\\\\}]*\\\\}|[^\\\\{\\\\}]+)(?=\\\\})&quot;;\r\n\r\nNote that for a match only, you can omit the capture group.","title":"Handling token identifier within a capturing group","body":"<p>Java regex does not support recursion. If there can only be 1 level of nesting, you could use an alternation:</p>\n<pre><code>(?&lt;=\\{)\\d+:(?:\\{\\d+:[^{}]*}|[^{}]+)(?=\\})\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>(?&lt;=\\{)</code> Positive lookbehind, assert <code>{</code> to the left</li>\n<li><code>\\d+:</code> Match 1+ digits followed by <code>:</code></li>\n<li><code>(?:</code> Non capture group for the 2 alternatives\n<ul>\n<li><code>\\{\\d+:[^{}]*}</code> Match <code>{</code> 1+ digits and <code>:</code>, and then till<code>}</code></li>\n<li><code>|</code> Or</li>\n<li><code>[^{}]+</code> Match 1+ chars other than <code>{</code> or <code>}</code></li>\n</ul>\n</li>\n<li><code>)</code> Close the non capture group</li>\n<li><code>(?=\\})</code> Positive lookahead, assert <code>}</code> to the right</li>\n</ul>\n<p>See a <a href=\"https://regex101.com/r/d85LiH/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p>In Java with the double escaped backslashes:</p>\n<pre><code>String regex = &quot;(?&lt;=\\\\{)\\\\d+:(?:\\\\{\\\\d+:[^\\\\{\\\\}]*\\\\}|[^\\\\{\\\\}]+)(?=\\\\})&quot;;\n</code></pre>\n<p>Note that for a match only, you can omit the capture group.</p>\n"}],"owner":{"account_id":2036306,"reputation":553,"user_id":1818593,"accept_rate":82,"display_name":"Srii"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76012802,"answer_count":1,"score":0,"last_activity_date":1681459100,"creation_date":1681404958,"question_id":76008024,"body_markdown":"I&#39;ve been trying to match the following text:\r\n\r\n```json\r\n{1:A01ABCDEFGHIJKL1234567890}{2:01234567890123ABCDEFGHIJKL12345678901234567890A}{3:{108:ABCDEFGHIJK0123}}{4:\r\n:20:ABCDEFGHIJK/01234\r\n:25:00000000000000000000\r\n:28C:00001/00001\r\n:60F:C230316EUR0,00\r\n:62F:C230317EUR0,00\r\n:64:C230317EUR0,00\r\n:65:C230318EUR0,00\r\n:65:C230319EUR0,00\r\n:65:C230320EUR0,00\r\n:65:C230321EUR0,00\r\n:65:C230322EUR0,00\r\n-}\r\n```\r\n\r\nusing the following expression:\r\n\r\n```\r\n(?&lt;=\\{)([^}]+)(?=\\})\r\n```\r\n\r\nThe matching fails when the bracket is part of the matching group. For example, the group that starts with record identifier 3: is matched only partially in that the closing bracket in the group is unmatched. While I understand that this is what the expression is constructed to do, what would be an ideal way to capture also the closing bracket? In other words, match everything between two brackets that starts with a record identifier such as 1:, 2:, 3:, etc but do not apply it recursively that the nested text also don&#39;t get matched. Please advise. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere&#39;s the [demo][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yNvU8.png\r\n  [2]: https://regex101.com/r/cKsRlR/1","title":"Handling token identifier within a capturing group","body":"<p>I've been trying to match the following text:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{1:A01ABCDEFGHIJKL1234567890}{2:01234567890123ABCDEFGHIJKL12345678901234567890A}{3:{108:ABCDEFGHIJK0123}}{4:\n:20:ABCDEFGHIJK/01234\n:25:00000000000000000000\n:28C:00001/00001\n:60F:C230316EUR0,00\n:62F:C230317EUR0,00\n:64:C230317EUR0,00\n:65:C230318EUR0,00\n:65:C230319EUR0,00\n:65:C230320EUR0,00\n:65:C230321EUR0,00\n:65:C230322EUR0,00\n-}\n</code></pre>\n<p>using the following expression:</p>\n<pre><code>(?&lt;=\\{)([^}]+)(?=\\})\n</code></pre>\n<p>The matching fails when the bracket is part of the matching group. For example, the group that starts with record identifier 3: is matched only partially in that the closing bracket in the group is unmatched. While I understand that this is what the expression is constructed to do, what would be an ideal way to capture also the closing bracket? In other words, match everything between two brackets that starts with a record identifier such as 1:, 2:, 3:, etc but do not apply it recursively that the nested text also don't get matched. Please advise.</p>\n<p><a href=\"https://i.stack.imgur.com/yNvU8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yNvU8.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the <a href=\"https://regex101.com/r/cKsRlR/1\" rel=\"nofollow noreferrer\">demo</a>.</p>\n"},{"tags":["java","spring","spring-mvc","spring-web"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1511446646,"post_id":47457382,"comment_id":81869582,"body_markdown":"Judging from the error message and the code you posted the code doesn&#39;t match the exception.","body":"Judging from the error message and the code you posted the code doesn&#39;t match the exception."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1511447959,"post_id":47457382,"comment_id":81870393,"body_markdown":"Your understanding is wrong. You can use `@RequestParam` with any type of request. `@RequestBody` is if you post a body (in JSON, XML etc) and you want it marshaled to an object. If you only want to use parameters then `@RequestBody` is pretty much useless. However binding to an object should be preferred over separate parameters and for this you should use `@ModelAttribute`.","body":"Your understanding is wrong. You can use <code>@RequestParam</code> with any type of request. <code>@RequestBody</code> is if you post a body (in JSON, XML etc) and you want it marshaled to an object. If you only want to use parameters then <code>@RequestBody</code> is pretty much useless. However binding to an object should be preferred over separate parameters and for this you should use <code>@ModelAttribute</code>."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1511448065,"post_id":47457382,"comment_id":81870454,"body_markdown":"the others say `@RequestParam` cannot be used with post requests","body":"the others say <code>@RequestParam</code> cannot be used with post requests"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1511448106,"post_id":47457382,"comment_id":81870487,"body_markdown":"They are wrong... (Having written 3 books on the subject I&#39;m fairly sure I know what I&#39;m talking about :) ). Parameters are parameters regardless the method used to get them to the server. They can even be used to obtain the form parameters when posting a form. Now if you would be sending JSON that would be a different story as that is a body and should be parsed using `@RequestBody`.","body":"They are wrong... (Having written 3 books on the subject I&#39;m fairly sure I know what I&#39;m talking about :) ). Parameters are parameters regardless the method used to get them to the server. They can even be used to obtain the form parameters when posting a form. Now if you would be sending JSON that would be a different story as that is a body and should be parsed using <code>@RequestBody</code>."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1511448176,"post_id":47457382,"comment_id":81870537,"body_markdown":"then how come I get an error when I use @RequestParam in the above example? What should I change for it to work? Please enlighten me.","body":"then how come I get an error when I use @RequestParam in the above example? What should I change for it to work? Please enlighten me."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1511449584,"post_id":47457382,"comment_id":81871390,"body_markdown":"The error isn&#39;t about the `@RequestParam` but the conditions (the `params` in the `@RequestMapping`) and as stated I think the code posted here isn&#39;t the actual code...","body":"The error isn&#39;t about the <code>@RequestParam</code> but the conditions (the <code>params</code> in the <code>@RequestMapping</code>) and as stated I think the code posted here isn&#39;t the actual code..."},{"owner":{"account_id":4022838,"reputation":2676,"user_id":3312425,"accept_rate":24,"display_name":"Davoud"},"score":0,"creation_date":1614009529,"post_id":47457382,"comment_id":117246526,"body_markdown":"A lot of explanation, but no answer how to get parameters from URL in post method using @RequestParam annotation?!.","body":"A lot of explanation, but no answer how to get parameters from URL in post method using @RequestParam annotation?!."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1614039100,"post_id":47457382,"comment_id":117257671,"body_markdown":"@Patzu You could also just use `@PathVariable` annotation instead.","body":"@Patzu You could also just use <code>@PathVariable</code> annotation instead."}],"answers":[{"tags":[],"owner":{"account_id":7610415,"reputation":3621,"user_id":5771446,"display_name":"Sync"},"down_vote_count":6,"up_vote_count":38,"is_accepted":true,"score":32,"last_activity_date":1511453756,"creation_date":1511446687,"answer_id":47457597,"question_id":47457382,"body_markdown":"What you are asking for is fundamentally wrong. POST requests sends data in a body payload, which is mapped via `@RequestBody`. `@RequestParam` is used to map data through the URL parameters such as `/url?start=foo`. What you are trying to do is use `@RequestParam` to do the job of `@RequestBody`.\r\n\r\n### Alternative solutions for REST controllers\r\n- Introduce a DTO class. It is the most preferred and clean method.\r\n- If you really want to avoid creating a class, you can use `@RequestBody Map&lt;String, String&gt; payload`. Be sure to include `&#39;Content-Type&#39;: &#39;application/json&#39;` in your request header.\r\n- If you really want to use `@RequestParam`, use a GET request instead and send your data via URL parameters.\r\n\r\n### Alternative solutions for MVC controllers\r\n- Introduce a DTO class and use it with annotation `@ModelAttribute`.\r\n- If you transform the form data into JSON, you can use `@RequestBody Map&lt;String, String&gt; payload`. To do this, please see [this answer][1].\r\n\r\nIt is not possible to map form data encoded data directly to a `Map&lt;String, String&gt;`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22195193/5771446","title":"Can I use @Requestparam annotation for a Post request?","body":"<p>What you are asking for is fundamentally wrong. POST requests sends data in a body payload, which is mapped via <code>@RequestBody</code>. <code>@RequestParam</code> is used to map data through the URL parameters such as <code>/url?start=foo</code>. What you are trying to do is use <code>@RequestParam</code> to do the job of <code>@RequestBody</code>.</p>\n\n<h3>Alternative solutions for REST controllers</h3>\n\n<ul>\n<li>Introduce a DTO class. It is the most preferred and clean method.</li>\n<li>If you really want to avoid creating a class, you can use <code>@RequestBody Map&lt;String, String&gt; payload</code>. Be sure to include <code>'Content-Type': 'application/json'</code> in your request header.</li>\n<li>If you really want to use <code>@RequestParam</code>, use a GET request instead and send your data via URL parameters.</li>\n</ul>\n\n<h3>Alternative solutions for MVC controllers</h3>\n\n<ul>\n<li>Introduce a DTO class and use it with annotation <code>@ModelAttribute</code>.</li>\n<li>If you transform the form data into JSON, you can use <code>@RequestBody Map&lt;String, String&gt; payload</code>. To do this, please see <a href=\"https://stackoverflow.com/a/22195193/5771446\">this answer</a>.</li>\n</ul>\n\n<p>It is not possible to map form data encoded data directly to a <code>Map&lt;String, String&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":10221558,"reputation":188,"user_id":7545602,"display_name":"Nenad Jovicic"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1602155238,"creation_date":1511446893,"answer_id":47457654,"question_id":47457382,"body_markdown":"You should use `@RequestBody` instead of using `@RequestParam`\r\nAnd you should provide whole object as a body of request\r\n`@RequestParam` is to get data from URL\r\n\r\nyou can do something like\r\n`public saveUser(@RequestBody User user) { do something with user }`\r\n\r\nand it will be mapped as User object for example\r\n\r\n","title":"Can I use @Requestparam annotation for a Post request?","body":"<p>You should use <code>@RequestBody</code> instead of using <code>@RequestParam</code>\nAnd you should provide whole object as a body of request\n<code>@RequestParam</code> is to get data from URL</p>\n<p>you can do something like\n<code>public saveUser(@RequestBody User user) { do something with user }</code></p>\n<p>and it will be mapped as User object for example</p>\n"},{"tags":[],"owner":{"account_id":13010010,"reputation":131,"user_id":9403393,"display_name":"Jerald Macachor"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1539798264,"creation_date":1539798264,"answer_id":52860755,"question_id":47457382,"body_markdown":"    @PostMapping(&quot;/createleave&quot;)\r\n    public void createLeave(@RequestParam Map&lt;String, String&gt; requestParams){\r\n    \r\n        String start = requestParams.get(&quot;start&quot;);\r\n        String end= requestParams.get(&quot;end&quot;);\r\n        String hours= requestParams.get(&quot;hours&quot;);\r\n        String username = requestParams.get(&quot;username&quot;);\r\n\r\n        System.out.println(&quot;Entering createLeave &quot; + start + &quot; &quot; + end + &quot; &quot; + hours + &quot; &quot; + username);\r\n    }\r\n\r\nThis is for multipart/form-data enctype post request.","title":"Can I use @Requestparam annotation for a Post request?","body":"<pre><code>@PostMapping(\"/createleave\")\npublic void createLeave(@RequestParam Map&lt;String, String&gt; requestParams){\n\n    String start = requestParams.get(\"start\");\n    String end= requestParams.get(\"end\");\n    String hours= requestParams.get(\"hours\");\n    String username = requestParams.get(\"username\");\n\n    System.out.println(\"Entering createLeave \" + start + \" \" + end + \" \" + hours + \" \" + username);\n}\n</code></pre>\n\n<p>This is for multipart/form-data enctype post request.</p>\n"},{"tags":[],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1681458958,"creation_date":1555077097,"answer_id":55653219,"question_id":47457382,"body_markdown":"Well, the answer by @Sync is fundamentally wrong and not the question being asked.\r\n\r\n 1. First of all, I use `@RequestParam` in a lot of scenarios expecting either GET or POST HTTP messages and I&#39;d like to say, that it works perfectly fine;\r\n 2. POST Message&#39;s payload data (body) is actually the *text data*, which can perfectly legally be `paramname = paramvalue` key-value mapping(s) alike (see [POST Message Body types][1] here);\r\n 3. `docs.spring.io`, an official source for Spring Documentation, [clearly states][2], that:\r\n&gt; In Spring MVC, &quot;request parameters&quot; map to query parameters, form\r\n&gt; data, and parts in multipart requests.\r\n\r\nSo, the answer is YES, you can use `@RequestParam` annotation with `@Controller` class&#39;s method&#39;s parameter, as long as that method is a *handler method* (is request-mapped by `@RequestMapping`) and you don&#39;t expect Object, this is perfectly legal and there&#39;s nothing wrong with it.\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html","title":"Can I use @Requestparam annotation for a Post request?","body":"<p>Well, the answer by @Sync is fundamentally wrong and not the question being asked.</p>\n<ol>\n<li>First of all, I use <code>@RequestParam</code> in a lot of scenarios expecting either GET or POST HTTP messages and I'd like to say, that it works perfectly fine;</li>\n<li>POST Message's payload data (body) is actually the <em>text data</em>, which can perfectly legally be <code>paramname = paramvalue</code> key-value mapping(s) alike (see <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST\" rel=\"nofollow noreferrer\">POST Message Body types</a> here);</li>\n<li><code>docs.spring.io</code>, an official source for Spring Documentation, <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\" rel=\"nofollow noreferrer\">clearly states</a>, that:</li>\n</ol>\n<blockquote>\n<p>In Spring MVC, &quot;request parameters&quot; map to query parameters, form\ndata, and parts in multipart requests.</p>\n</blockquote>\n<p>So, the answer is YES, you can use <code>@RequestParam</code> annotation with <code>@Controller</code> class's method's parameter, as long as that method is a <em>handler method</em> (is request-mapped by <code>@RequestMapping</code>) and you don't expect Object, this is perfectly legal and there's nothing wrong with it.</p>\n"},{"tags":[],"owner":{"account_id":19542880,"reputation":11,"user_id":14300301,"display_name":"Gurjeet singh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1608565622,"creation_date":1600429154,"answer_id":63955074,"question_id":47457382,"body_markdown":"    public void createLeave(@RequestParam Map&lt;String, String&gt; requestParams)\r\nAbove code did not work.\r\n\r\n\r\nCorrect syntax is: \r\n\r\n    public void createLeave(@RequestBody Map&lt;String, String&gt; requestParams)\r\n\r\nWhich will map the request to a map","title":"Can I use @Requestparam annotation for a Post request?","body":"<pre><code>public void createLeave(@RequestParam Map&lt;String, String&gt; requestParams)\n</code></pre>\n<p>Above code did not work.</p>\n<p>Correct syntax is:</p>\n<pre><code>public void createLeave(@RequestBody Map&lt;String, String&gt; requestParams)\n</code></pre>\n<p>Which will map the request to a map</p>\n"}],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100767,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":47457597,"answer_count":5,"score":38,"last_activity_date":1681458958,"creation_date":1511445989,"question_id":47457382,"body_markdown":"I have this controller method:\r\n\r\n    @PostMapping(\r\n            value = &quot;/createleave&quot;,\r\n            params = {&quot;start&quot;,&quot;end&quot;,&quot;hours&quot;,&quot;username&quot;})\r\n    public void createLeave(@RequestParam(value = &quot;start&quot;) String start,\r\n                            @RequestParam(value = &quot;end&quot;) String end,\r\n                            @RequestParam(value = &quot;hours&quot;) String hours,\r\n                            @RequestParam(value = &quot;username&quot;) String username){\r\n        System.out.println(&quot;Entering createLeave &quot; + start + &quot; &quot; + end + &quot; &quot; + hours + &quot; &quot; + username);\r\n        LeaveQuery newLeaveQuery = new LeaveQuery();\r\n        Account account = accountRepository.findByUsername(username);\r\n        newLeaveQuery.setAccount(account);\r\n        newLeaveQuery.setStartDate(new Date(Long.parseLong(start)));\r\n        newLeaveQuery.setEndDate(new Date(Long.parseLong(end)));\r\n        newLeaveQuery.setTotalHours(Integer.parseInt(hours));\r\n        leaveQueryRepository.save(newLeaveQuery);\r\n    }\r\n\r\nHowever when I send a post request to this endpoint I get the following \r\n\r\n    &quot;{&quot;timestamp&quot;:1511444885321,&quot;status&quot;:400,&quot;error&quot;:&quot;Bad Request&quot;,&quot;exception&quot;:&quot;org.springframework.web.bind.UnsatisfiedServletRequestParameterException&quot;,&quot;message&quot;:&quot;Parameter conditions \\&quot;start, end, hours, username\\&quot; not met for actual request parameters: &quot;,&quot;path&quot;:&quot;/api/createleave&quot;}&quot;\r\n\r\nWhen I remove the params argument from the `@PostMapping` annotation I get a more general error, it will say that it cannot find the first required parameter (start), while it really is being send together with the parameters end, hours and username.\r\n\r\n\r\nhttps://stackoverflow.com/questions/17964841/how-to-get-param-in-method-post-spring-mvc\r\n\r\nI&#39;ve read in this post that `@RequestParam` can only be used for get methods, but if I remove `@RequestParam` and stick with the params argument of the `@PostMapping` annotation it still doesn&#39;t work. I know I can use `@RequestBody` but I do not want to make a class just for those 4 parameters. Can anyone tell me how I can make this work? \r\n\r\nThank you\r\n\r\nEDIT: I&#39;m reading here https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#params-- that the argument params isn&#39;t exactly what I thought it was. It seems to be used as a condition. If a set of parameters match a value then the endpoint controller method will be activated.","title":"Can I use @Requestparam annotation for a Post request?","body":"<p>I have this controller method:</p>\n\n<pre><code>@PostMapping(\n        value = \"/createleave\",\n        params = {\"start\",\"end\",\"hours\",\"username\"})\npublic void createLeave(@RequestParam(value = \"start\") String start,\n                        @RequestParam(value = \"end\") String end,\n                        @RequestParam(value = \"hours\") String hours,\n                        @RequestParam(value = \"username\") String username){\n    System.out.println(\"Entering createLeave \" + start + \" \" + end + \" \" + hours + \" \" + username);\n    LeaveQuery newLeaveQuery = new LeaveQuery();\n    Account account = accountRepository.findByUsername(username);\n    newLeaveQuery.setAccount(account);\n    newLeaveQuery.setStartDate(new Date(Long.parseLong(start)));\n    newLeaveQuery.setEndDate(new Date(Long.parseLong(end)));\n    newLeaveQuery.setTotalHours(Integer.parseInt(hours));\n    leaveQueryRepository.save(newLeaveQuery);\n}\n</code></pre>\n\n<p>However when I send a post request to this endpoint I get the following </p>\n\n<pre><code>\"{\"timestamp\":1511444885321,\"status\":400,\"error\":\"Bad Request\",\"exception\":\"org.springframework.web.bind.UnsatisfiedServletRequestParameterException\",\"message\":\"Parameter conditions \\\"start, end, hours, username\\\" not met for actual request parameters: \",\"path\":\"/api/createleave\"}\"\n</code></pre>\n\n<p>When I remove the params argument from the <code>@PostMapping</code> annotation I get a more general error, it will say that it cannot find the first required parameter (start), while it really is being send together with the parameters end, hours and username.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/17964841/how-to-get-param-in-method-post-spring-mvc\">how to get param in method post spring mvc?</a></p>\n\n<p>I've read in this post that <code>@RequestParam</code> can only be used for get methods, but if I remove <code>@RequestParam</code> and stick with the params argument of the <code>@PostMapping</code> annotation it still doesn't work. I know I can use <code>@RequestBody</code> but I do not want to make a class just for those 4 parameters. Can anyone tell me how I can make this work? </p>\n\n<p>Thank you</p>\n\n<p>EDIT: I'm reading here <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#params--\" rel=\"noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#params--</a> that the argument params isn't exactly what I thought it was. It seems to be used as a condition. If a set of parameters match a value then the endpoint controller method will be activated.</p>\n"},{"tags":["java","spring-boot","email","smtp","mime-message"],"owner":{"account_id":16519320,"reputation":35,"user_id":11935923,"display_name":"AlexanderMueller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681458719,"creation_date":1681456511,"question_id":76012482,"body_markdown":"Current state\r\n-------------\r\n\r\nI have a Java SpringBoot api, which at the moment is able to dynamically send an E-Mail with javax.mail.MimeMessage. The credentials are passed as parameters (E-Mail-Address, Password, SMTP-Server, SMTP-Port). When I start the application and send the first E-Mail everything works fine.\r\n\r\nProblem\r\n-------\r\n\r\nHowever when I try to send another E-Mail from a different SMTP-Server, it seems that the E-Mail gets sended from the first SMTP-Server and credentials. In, for example Googlemail, every E-Mail shows the sender as well as the (SMTP-)Server which it&#39;s sended from. While the sended E-Mail-Address displays the new E-Mail-Address, the &quot;Send from&quot; (SMTP-Server) still shows the old SMTP-Server.\r\n\r\nGoal\r\n-----------\r\n\r\nSo what I want, is to be able to send multiple E-Mails from individual SMTP-Servers and E-Mail-Addresses, passed by parameters.\r\n\r\nController\r\n-----------\r\n\r\n```@RestController\r\n@RequestMapping(&quot;/send-email&quot;)\r\npublic class EmailController {\r\n\r\n    public EmailController(){}\r\n\r\n    @PostMapping\r\n    public SentEmail sendEmail(@RequestBody SendEmailInformation sendEmailInformation) {\r\n        EmailService emailService = new EmailService();\r\n        return emailService.sendEmail(sendEmailInformation);\r\n    }\r\n\r\n}\r\n```\r\n\r\nE-Mail-Service\r\n---------------\r\n\r\n```public class EmailService\r\n{\r\n    private Transport transport;\r\n\r\n    public EmailService() {}\r\n\r\n    public void sendEmail(SendEmailInformation sendEmailInformation) {\r\n        try{\r\n            String fromEmail = sendEmailInformation.getEmailAddress();\r\n            String password = sendEmailInformation.getPassword();\r\n            String toEmail = sendEmailInformation.getEmail();\r\n\r\n            Properties props = new Properties();\r\n            props.put(&quot;mail.smtp.host&quot;, sendEmailInformation.getSmtpServer());\r\n            props.put(&quot;mail.smtp.port&quot;, sendEmailInformation.getSmtpPort());\r\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\r\n            Authenticator auth = new Authenticator() {\r\n                protected PasswordAuthentication getPasswordAuthentication() {\r\n                    return new PasswordAuthentication(fromEmail, password);\r\n                }\r\n            };\r\n\r\n            Session session = Session.getDefaultInstance(props, auth);\r\n\r\n            MimeMessage msg = new MimeMessage(session);\r\n            msg.addHeader(&quot;Content-type&quot;, &quot;text/HTML; charset=UTF-8&quot;);\r\n            msg.addHeader(&quot;format&quot;, &quot;flowed&quot;);\r\n            msg.addHeader(&quot;Content-Transfer-Encoding&quot;, &quot;8bit&quot;);\r\n\r\n            msg.setFrom(new InternetAddress(fromEmail));\r\n            msg.setReplyTo(InternetAddress.parse(sendEmailInformation.getEmail(), false));\r\n            msg.setSubject(sendEmailInformation.getSubject(), &quot;UTF-8&quot;);\r\n            msg.setRecipients(Message.RecipientType.TO, InternetAddress.parse(toEmail, false));\r\n            BodyPart messageBodyPart = new MimeBodyPart();\r\n\r\n            messageBodyPart.setText(sendEmailInformation.getMessage());\r\n\r\n            Multipart multipart = new MimeMultipart();\r\n            multipart.addBodyPart(messageBodyPart);\r\n\r\n            msg.setContent(multipart);\r\n\r\n            transport = session.getTransport(&quot;smtp&quot;);\r\n            transport.connect();\r\n            transport.sendMessage(msg,msg.getRecipients(Message.RecipientType.TO));\r\n            transport.close();\r\n        }catch (Exception e) {\r\n            try {\r\n                transport.close();\r\n            }catch (Exception ignored) {\r\n\r\n            }\r\n            e.printStackTrace();\r\n            throw new CouldNotSendEmailException();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI already tried\r\n---------------\r\n\r\nAt first, I had the Email-Service as a @Bean and figured, that I should try to create a new Object for every call as I do now. So using a @Bean does not work. Also in my understanding, closing the Transport Object with transport.close(); at the end should help my problem, however it didnt&#39;t.\r\n\r\nQuestion\r\n------\r\n\r\nDoes anyone have an idea, what could solve my Problem?\r\n\r\nThanks in advance.\r\n\r\n*Edit*\r\n\r\n## Solution ##\r\n\r\nLooking for my code many days in a row and never saw the mistake, then posting this question and just minutes later having the idea that `Session session = Session.getDefaultInstance(props, auth);` might be the problem... yes it is! This always uses the same Session object, instead of creating a new one.\r\n\r\nFor those who are facing the same problem:\r\nJust use `Session session = Session.getInstance(props, auth);` instead. Hope I could help someone with that.","title":"Solved: How to dynamically send E-Mails from multiple SMTP Servers (Java SpringBoot)","body":"<h2>Current state</h2>\n<p>I have a Java SpringBoot api, which at the moment is able to dynamically send an E-Mail with javax.mail.MimeMessage. The credentials are passed as parameters (E-Mail-Address, Password, SMTP-Server, SMTP-Port). When I start the application and send the first E-Mail everything works fine.</p>\n<h2>Problem</h2>\n<p>However when I try to send another E-Mail from a different SMTP-Server, it seems that the E-Mail gets sended from the first SMTP-Server and credentials. In, for example Googlemail, every E-Mail shows the sender as well as the (SMTP-)Server which it's sended from. While the sended E-Mail-Address displays the new E-Mail-Address, the &quot;Send from&quot; (SMTP-Server) still shows the old SMTP-Server.</p>\n<h2>Goal</h2>\n<p>So what I want, is to be able to send multiple E-Mails from individual SMTP-Servers and E-Mail-Addresses, passed by parameters.</p>\n<h2>Controller</h2>\n<pre><code>@RequestMapping(&quot;/send-email&quot;)\npublic class EmailController {\n\n    public EmailController(){}\n\n    @PostMapping\n    public SentEmail sendEmail(@RequestBody SendEmailInformation sendEmailInformation) {\n        EmailService emailService = new EmailService();\n        return emailService.sendEmail(sendEmailInformation);\n    }\n\n}\n</code></pre>\n<h2>E-Mail-Service</h2>\n<pre><code>{\n    private Transport transport;\n\n    public EmailService() {}\n\n    public void sendEmail(SendEmailInformation sendEmailInformation) {\n        try{\n            String fromEmail = sendEmailInformation.getEmailAddress();\n            String password = sendEmailInformation.getPassword();\n            String toEmail = sendEmailInformation.getEmail();\n\n            Properties props = new Properties();\n            props.put(&quot;mail.smtp.host&quot;, sendEmailInformation.getSmtpServer());\n            props.put(&quot;mail.smtp.port&quot;, sendEmailInformation.getSmtpPort());\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n\n            Authenticator auth = new Authenticator() {\n                protected PasswordAuthentication getPasswordAuthentication() {\n                    return new PasswordAuthentication(fromEmail, password);\n                }\n            };\n\n            Session session = Session.getDefaultInstance(props, auth);\n\n            MimeMessage msg = new MimeMessage(session);\n            msg.addHeader(&quot;Content-type&quot;, &quot;text/HTML; charset=UTF-8&quot;);\n            msg.addHeader(&quot;format&quot;, &quot;flowed&quot;);\n            msg.addHeader(&quot;Content-Transfer-Encoding&quot;, &quot;8bit&quot;);\n\n            msg.setFrom(new InternetAddress(fromEmail));\n            msg.setReplyTo(InternetAddress.parse(sendEmailInformation.getEmail(), false));\n            msg.setSubject(sendEmailInformation.getSubject(), &quot;UTF-8&quot;);\n            msg.setRecipients(Message.RecipientType.TO, InternetAddress.parse(toEmail, false));\n            BodyPart messageBodyPart = new MimeBodyPart();\n\n            messageBodyPart.setText(sendEmailInformation.getMessage());\n\n            Multipart multipart = new MimeMultipart();\n            multipart.addBodyPart(messageBodyPart);\n\n            msg.setContent(multipart);\n\n            transport = session.getTransport(&quot;smtp&quot;);\n            transport.connect();\n            transport.sendMessage(msg,msg.getRecipients(Message.RecipientType.TO));\n            transport.close();\n        }catch (Exception e) {\n            try {\n                transport.close();\n            }catch (Exception ignored) {\n\n            }\n            e.printStackTrace();\n            throw new CouldNotSendEmailException();\n        }\n    }\n}\n</code></pre>\n<h2>I already tried</h2>\n<p>At first, I had the Email-Service as a @Bean and figured, that I should try to create a new Object for every call as I do now. So using a @Bean does not work. Also in my understanding, closing the Transport Object with transport.close(); at the end should help my problem, however it didnt't.</p>\n<h2>Question</h2>\n<p>Does anyone have an idea, what could solve my Problem?</p>\n<p>Thanks in advance.</p>\n<p><em>Edit</em></p>\n<h2>Solution</h2>\n<p>Looking for my code many days in a row and never saw the mistake, then posting this question and just minutes later having the idea that <code>Session session = Session.getDefaultInstance(props, auth);</code> might be the problem... yes it is! This always uses the same Session object, instead of creating a new one.</p>\n<p>For those who are facing the same problem:\nJust use <code>Session session = Session.getInstance(props, auth);</code> instead. Hope I could help someone with that.</p>\n"},{"tags":["javascript","java","postgis","open-source","geoserver"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1681474193,"post_id":76012724,"comment_id":134066194,"body_markdown":"Is your server headless? Are you running java 17 with our reading the GeoServer release notes?","body":"Is your server headless? Are you running java 17 with our reading the GeoServer release notes?"},{"owner":{"account_id":15621045,"reputation":11,"user_id":11527895,"display_name":"Samith"},"score":0,"creation_date":1681521112,"post_id":76012724,"comment_id":134074763,"body_markdown":"Yes, i have installed JAVAjdk_x64_windows_hotspot_17.0.6_10.","body":"Yes, i have installed JAVAjdk_x64_windows_hotspot_17.0.6_10."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1681553832,"post_id":76012724,"comment_id":134077384,"body_markdown":"https://docs.geoserver.org/latest/en/user/production/java.html#running-on-java-17","body":"<a href=\"https://docs.geoserver.org/latest/en/user/production/java.html#running-on-java-17\" rel=\"nofollow noreferrer\">docs.geoserver.org/latest/en/user/production/&hellip;</a>"}],"owner":{"account_id":15621045,"reputation":11,"user_id":11527895,"display_name":"Samith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681458579,"creation_date":1681458579,"question_id":76012724,"body_markdown":"I wanted to visualize my shp file in the GeoServer. But it gives this error. Could you please tell me how i can solve this issue?\r\n  [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U7YoC.png","title":"Data is not visualizing in the GeoServer","body":"<p>I wanted to visualize my shp file in the GeoServer. But it gives this error. Could you please tell me how i can solve this issue?\n<a href=\"https://i.stack.imgur.com/U7YoC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U7YoC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","pdf","math","coordinates"],"comments":[{"owner":{"account_id":18460784,"reputation":829,"user_id":19992458,"display_name":"Nguyen family"},"score":0,"creation_date":1681458634,"post_id":63823704,"comment_id":134062619,"body_markdown":"Hi, did you solve this question :) ? Can you give us your code","body":"Hi, did you solve this question :) ? Can you give us your code"}],"owner":{"account_id":16713432,"reputation":31,"user_id":12080160,"display_name":"Devarsh Mavani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681458566,"creation_date":1599717999,"question_id":63823704,"body_markdown":"I want to add an electronic signature to a pdf. i am using signature pad library for capturing signature and sticker view for moving, scaling and rotating image [StickerView][1].\r\nI am rendering the PDF in android using [PDFView][2] library to render PDF.\r\n\r\ni am using PDFbox by tomroush to manipulate pdf in android. i want to add image of signature to the pdf. but there is problem in mapping android view coordinates to pdf box coordinates. i am attaching code for what i have tried\r\n\r\n                //loading pdf\r\n            pdfView.fromUri(pdf_location).enableSwipe(true).defaultPage(0).onPageError(new OnPageErrorListener() {\r\n                @Override\r\n                public void onPageError(int page, Throwable t) {\r\n                    t.printStackTrace();\r\n                }\r\n            }).load();\r\n\r\nLoading PDF in PDDOcumnet code\r\n\r\n                                //loading document in PDF box PDDocument object\r\n                            PDDocument document = PDDocument.load(getContentResolver().openInputStream(pdf_location));\r\n                            PDPage currentPage = document.getPage(pdfView.getCurrentPage());\r\n                            PDImageXObject image = PDImageXObject.createFromFile(fName, document);\r\n                            PDPageContentStream contentStream = new PDPageContentStream(document,  currentPage, true, false);\r\n\r\n\r\nCalculating Width and height of image (scaling image)\r\n\r\n                              \r\n                                float width = iv_sticker.getImageDrawable().getIntrinsicWidth() * (( 72.0f / getResources().getDisplayMetrics().densityDpi));\r\n                            float height = iv_sticker.getImageDrawable().getIntrinsicHeight()  * ((72.0f / getResources().getDisplayMetrics().densityDpi));\r\n\r\n\r\nDrawing image on pdf\r\n\r\n                                contentStream.drawImage(image,iv_sticker.getX() * (currentPage.getMediaBox().getWidth() / pdfView.getOptimalPageWidth()), (currentPage.getMediaBox().getWidth() - (iv_sticker.getY() * (currentPage.getMediaBox().getHeight() / pdfView.getOptimalPageHeight()))) - (height), width, height);\r\n\r\n\r\nIn the last code snippet i am finding the ratio of pdf view width and PDPage Width and then multiplying it to the image X coordinate to find corresponding X coordinate on pdf. And Doing same for y coordinate .The only difference with Y coordinate mapping is that i am subtracting the y coordinate from PDF Page Height because PDF coordinate starts from Bottom Left and then subtracting the image height so that image does not go outside of page. But the output is not perfect i am attaching screenshots.\r\n\r\n\r\n[Image Of My App][3]\r\n\r\n[Image Of PDF after running the above code after adding signature][4]\r\n\r\n\r\n  [1]: https://github.com/kencheung4/android-StickerView\r\n  [2]: https://github.com/barteksc/AndroidPdfViewer\r\n  [3]: https://i.stack.imgur.com/ssu18.png\r\n  [4]: https://i.stack.imgur.com/5arLQ.png","title":"how to convert android imageview coordinate to PDFView coordinate for adding electronic signature in PDF box library?","body":"<p>I want to add an electronic signature to a pdf. i am using signature pad library for capturing signature and sticker view for moving, scaling and rotating image <a href=\"https://github.com/kencheung4/android-StickerView\" rel=\"nofollow noreferrer\">StickerView</a>.\nI am rendering the PDF in android using <a href=\"https://github.com/barteksc/AndroidPdfViewer\" rel=\"nofollow noreferrer\">PDFView</a> library to render PDF.</p>\n<p>i am using PDFbox by tomroush to manipulate pdf in android. i want to add image of signature to the pdf. but there is problem in mapping android view coordinates to pdf box coordinates. i am attaching code for what i have tried</p>\n<pre><code>            //loading pdf\n        pdfView.fromUri(pdf_location).enableSwipe(true).defaultPage(0).onPageError(new OnPageErrorListener() {\n            @Override\n            public void onPageError(int page, Throwable t) {\n                t.printStackTrace();\n            }\n        }).load();\n</code></pre>\n<p>Loading PDF in PDDOcumnet code</p>\n<pre><code>                            //loading document in PDF box PDDocument object\n                        PDDocument document = PDDocument.load(getContentResolver().openInputStream(pdf_location));\n                        PDPage currentPage = document.getPage(pdfView.getCurrentPage());\n                        PDImageXObject image = PDImageXObject.createFromFile(fName, document);\n                        PDPageContentStream contentStream = new PDPageContentStream(document,  currentPage, true, false);\n</code></pre>\n<p>Calculating Width and height of image (scaling image)</p>\n<pre><code>                            float width = iv_sticker.getImageDrawable().getIntrinsicWidth() * (( 72.0f / getResources().getDisplayMetrics().densityDpi));\n                        float height = iv_sticker.getImageDrawable().getIntrinsicHeight()  * ((72.0f / getResources().getDisplayMetrics().densityDpi));\n</code></pre>\n<p>Drawing image on pdf</p>\n<pre><code>                            contentStream.drawImage(image,iv_sticker.getX() * (currentPage.getMediaBox().getWidth() / pdfView.getOptimalPageWidth()), (currentPage.getMediaBox().getWidth() - (iv_sticker.getY() * (currentPage.getMediaBox().getHeight() / pdfView.getOptimalPageHeight()))) - (height), width, height);\n</code></pre>\n<p>In the last code snippet i am finding the ratio of pdf view width and PDPage Width and then multiplying it to the image X coordinate to find corresponding X coordinate on pdf. And Doing same for y coordinate .The only difference with Y coordinate mapping is that i am subtracting the y coordinate from PDF Page Height because PDF coordinate starts from Bottom Left and then subtracting the image height so that image does not go outside of page. But the output is not perfect i am attaching screenshots.</p>\n<p><a href=\"https://i.stack.imgur.com/ssu18.png\" rel=\"nofollow noreferrer\">Image Of My App</a></p>\n<p><a href=\"https://i.stack.imgur.com/5arLQ.png\" rel=\"nofollow noreferrer\">Image Of PDF after running the above code after adding signature</a></p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1681457297,"post_id":76012208,"comment_id":134062297,"body_markdown":"Method binding is done at *compile* time, not *runtime*. Basically, you can&#39;t do what you want to do here. Your only choice is to name the private methods differently and use reflection to discover the type of the criteria value and invoke the appropriate method.","body":"Method binding is done at <i>compile</i> time, not <i>runtime</i>. Basically, you can&#39;t do what you want to do here. Your only choice is to name the private methods differently and use reflection to discover the type of the criteria value and invoke the appropriate method."}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681457937,"creation_date":1681457937,"answer_id":76012650,"question_id":76012208,"body_markdown":"You are implementing `implements Specification&lt;SomeObject&gt;` and overriding the method `toPredicate(Root&lt;SomeObject&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder)`. \r\n\r\nAs a result, the `root` parameter will always have the type `Root&lt;SomeObject&gt;`. therefore you&#39;ll always call the first method that has the `Root&lt;SomeObject&gt;` parameter and you&#39;ll never call the one with `Root&lt;OrderSummaryView&gt;`. \r\n\r\nWhen you have multiple methods with the same name, but different arguments - this is called &quot;overloading&quot; and the correct method is chosen based the parameters, not on the return type.","title":"Call method by argument type","body":"<p>You are implementing <code>implements Specification&lt;SomeObject&gt;</code> and overriding the method <code>toPredicate(Root&lt;SomeObject&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder)</code>.</p>\n<p>As a result, the <code>root</code> parameter will always have the type <code>Root&lt;SomeObject&gt;</code>. therefore you'll always call the first method that has the <code>Root&lt;SomeObject&gt;</code> parameter and you'll never call the one with <code>Root&lt;OrderSummaryView&gt;</code>.</p>\n<p>When you have multiple methods with the same name, but different arguments - this is called &quot;overloading&quot; and the correct method is chosen based the parameters, not on the return type.</p>\n"}],"owner":{"account_id":8302793,"reputation":131,"user_id":6240924,"accept_rate":64,"display_name":"Fangir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681457937,"creation_date":1681454190,"question_id":76012208,"body_markdown":"I&#39;m trying to generify part of JPA Specification.\r\n\r\nThis what I have:\r\n\r\n```\r\n@RequiredArgsConstructor\r\npublic class SomeObjectSpecification implements Specification&lt;SomeObject&gt; {\r\n\r\n    private final SearchCriteria criteria;\r\n\r\n    @Override\r\n    public Predicate toPredicate(Root&lt;SomeObject&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) {\r\n        switch (criteria.getOperation()) {\r\n            case &quot;:&quot;:\r\n                return getLikePredicate(root, criteriaBuilder, criteria.getValue());\r\n    ...\r\n    }\r\n\r\n    private &lt;T extends Temporal&gt;Predicate getLikePredicate(\r\n            Root&lt;SomeObject&gt; root,\r\n            CriteriaBuilder criteriaBuilder,\r\n            T value) {\r\n    ...\r\n    }\r\n\r\n    private &lt;T extends CharSequence&gt; Predicate getLikePredicate(\r\n            Root&lt;OrderSummaryView&gt; root,\r\n            CriteriaBuilder criteriaBuilder,\r\n            T value) {\r\n    ...\r\n    }   \r\n}\r\n```\r\n\r\nAnd SearchCriteria:\r\n```\r\n@Setter\r\n@Getter\r\n@NoArgsConstructor(force = true)\r\npublic class SearchCriteria {\r\n    private String key;\r\n    private String operation;\r\n    private Comparable value;\r\n}\r\n```\r\n\r\nI would like to enter first ```getLikePredicate``` whenever ```LocalDateTime``` is passed, and enter second one, while I have ```String``` in hand.\r\n\r\nNo matter how I try, I can call only second method, no idea how to enter first one, when I have ```LocalDateTime``` in ```SearchCriteria.value```\r\n\r\n","title":"Call method by argument type","body":"<p>I'm trying to generify part of JPA Specification.</p>\n<p>This what I have:</p>\n<pre><code>@RequiredArgsConstructor\npublic class SomeObjectSpecification implements Specification&lt;SomeObject&gt; {\n\n    private final SearchCriteria criteria;\n\n    @Override\n    public Predicate toPredicate(Root&lt;SomeObject&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder) {\n        switch (criteria.getOperation()) {\n            case &quot;:&quot;:\n                return getLikePredicate(root, criteriaBuilder, criteria.getValue());\n    ...\n    }\n\n    private &lt;T extends Temporal&gt;Predicate getLikePredicate(\n            Root&lt;SomeObject&gt; root,\n            CriteriaBuilder criteriaBuilder,\n            T value) {\n    ...\n    }\n\n    private &lt;T extends CharSequence&gt; Predicate getLikePredicate(\n            Root&lt;OrderSummaryView&gt; root,\n            CriteriaBuilder criteriaBuilder,\n            T value) {\n    ...\n    }   \n}\n</code></pre>\n<p>And SearchCriteria:</p>\n<pre><code>@Setter\n@Getter\n@NoArgsConstructor(force = true)\npublic class SearchCriteria {\n    private String key;\n    private String operation;\n    private Comparable value;\n}\n</code></pre>\n<p>I would like to enter first <code>getLikePredicate</code> whenever <code>LocalDateTime</code> is passed, and enter second one, while I have <code>String</code> in hand.</p>\n<p>No matter how I try, I can call only second method, no idea how to enter first one, when I have <code>LocalDateTime</code> in <code>SearchCriteria.value</code></p>\n"},{"tags":["java","logging","log4j2","flume","flume-ng"],"comments":[{"owner":{"account_id":1027251,"reputation":331,"user_id":1036296,"accept_rate":57,"display_name":"atarno"},"score":0,"creation_date":1418289468,"post_id":27361052,"comment_id":43281341,"body_markdown":"ok, the problem is that log4j2-flume appender doesn&#39;t work while packed in a fatjar (errors are shown above). in a standard multi-jar classpath aware environment all works fine. any thoughts on how to solve this for fatjars?","body":"ok, the problem is that log4j2-flume appender doesn&#39;t work while packed in a fatjar (errors are shown above). in a standard multi-jar classpath aware environment all works fine. any thoughts on how to solve this for fatjars?"},{"owner":{"account_id":1096728,"reputation":499,"user_id":1090173,"accept_rate":78,"display_name":"Quintium"},"score":0,"creation_date":1449855551,"post_id":27361052,"comment_id":56202654,"body_markdown":"Anyone found a solution to this?","body":"Anyone found a solution to this?"},{"owner":{"account_id":1027251,"reputation":331,"user_id":1036296,"accept_rate":57,"display_name":"atarno"},"score":1,"creation_date":1449880087,"post_id":27361052,"comment_id":56213295,"body_markdown":"nope, we moved to work with a main jar and lib of jars instead of a fat jar in that project.","body":"nope, we moved to work with a main jar and lib of jars instead of a fat jar in that project."}],"answers":[{"tags":[],"owner":{"account_id":2502066,"reputation":96,"user_id":2176893,"display_name":"frett27"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1458084429,"creation_date":1458084429,"answer_id":36024178,"question_id":27361052,"body_markdown":"in fatJar, dependencies can provide a log4j-provider.properties in the META-INF that cause this issue, \r\n\r\nremove it in the gradle task :\r\n\r\n\r\n    task fatJar(type: Jar) {\r\n    \tmanifest {\r\n    \t\tattributes &#39;Implementation-Title&#39;: &#39;project&#39;,\r\n    \t\t&#39;Implementation-Version&#39;: project.version,\r\n    \t\t&#39;Main-Class&#39;: &#39;com.sample.CLI&#39;\r\n    \t}\r\n    \tbaseName = project.name + &#39;-all&#39;\r\n    \tfrom {\r\n    \t\tconfigurations.compile.collect {\r\n    \t\t\tit.isDirectory() ? it : zipTree(it).matching {\r\n    \t\t\t\texclude &#39;META-INF/**.RSA&#39;\r\n    \t\t\t\texclude &#39;META-INF/MANIFEST.MF&#39;\r\n    \t\t\t\texclude &#39;META-INF/log4j-provider.properties&#39;\r\n    \t\t\t} } }\r\n    \twith jar\r\n    }","title":"failing to load log4j2 while running fatjar","body":"<p>in fatJar, dependencies can provide a log4j-provider.properties in the META-INF that cause this issue, </p>\n\n<p>remove it in the gradle task :</p>\n\n<pre><code>task fatJar(type: Jar) {\n    manifest {\n        attributes 'Implementation-Title': 'project',\n        'Implementation-Version': project.version,\n        'Main-Class': 'com.sample.CLI'\n    }\n    baseName = project.name + '-all'\n    from {\n        configurations.compile.collect {\n            it.isDirectory() ? it : zipTree(it).matching {\n                exclude 'META-INF/**.RSA'\n                exclude 'META-INF/MANIFEST.MF'\n                exclude 'META-INF/log4j-provider.properties'\n            } } }\n    with jar\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4112953,"reputation":2266,"user_id":3375325,"accept_rate":71,"display_name":"jansohn"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1460013451,"creation_date":1460013451,"answer_id":36469245,"question_id":27361052,"body_markdown":"The problem is described here: https://issues.apache.org/jira/browse/LOG4J2-673\r\n\r\nUnfortunately at the moment there only seems to be a solution for the maven-shade-plugin: https://github.com/edwgiz/maven-shaded-log4j-transformer\r\n\r\n    &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;finalName&gt;${project.artifactId}${appSuffix}&lt;/finalName&gt;\r\n                            &lt;transformers&gt;\r\n    ...\r\n                                &lt;transformer\r\n                                        implementation=&quot;com.github.edwgiz.mavenShadePlugin.log4j2CacheTransformer.PluginsCacheFileTransformer&quot;&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n    ...\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.github.edwgiz&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-shade-plugin.log4j2-cachefile-transformer&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.1&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n    &lt;/plugins&gt;","title":"failing to load log4j2 while running fatjar","body":"<p>The problem is described here: <a href=\"https://issues.apache.org/jira/browse/LOG4J2-673\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/LOG4J2-673</a></p>\n\n<p>Unfortunately at the moment there only seems to be a solution for the maven-shade-plugin: <a href=\"https://github.com/edwgiz/maven-shaded-log4j-transformer\" rel=\"noreferrer\">https://github.com/edwgiz/maven-shaded-log4j-transformer</a></p>\n\n<pre><code>&lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;finalName&gt;${project.artifactId}${appSuffix}&lt;/finalName&gt;\n                        &lt;transformers&gt;\n...\n                            &lt;transformer\n                                    implementation=\"com.github.edwgiz.mavenShadePlugin.log4j2CacheTransformer.PluginsCacheFileTransformer\"&gt;\n                            &lt;/transformer&gt;\n                        &lt;/transformers&gt;\n...\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.github.edwgiz&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-shade-plugin.log4j2-cachefile-transformer&lt;/artifactId&gt;\n                    &lt;version&gt;2.1&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5552308,"reputation":449,"user_id":4404932,"accept_rate":75,"display_name":"phantomastray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490087641,"creation_date":1490087641,"answer_id":42922674,"question_id":27361052,"body_markdown":"The `LoggerContextFactory` binds the Log4j API to its implementation. The Log4j LogManager locates a LoggerContextFactory by locating all instances of `META-INF/log4j-provider.properties`, a standard `java.util.Properties` file, and then inspecting each to verify that it specifies a value for the Log4jAPIVersion property that conforms to the version required by the LogManager.\r\n\r\nIncase of fat jar, you can also explicitly specify log4j2 to use `LoggerContextFactory` in your application by:\r\n\r\n\tSystem.setProperty(&quot;log4j2.loggerContextFactory&quot;, &quot;org.apache.logging.log4j.core.impl.Log4jContextFactory&quot;)\r\n\r\nor as specified in the `log4j-provider.properties` file included in your `log4j-core` jar.","title":"failing to load log4j2 while running fatjar","body":"<p>The <code>LoggerContextFactory</code> binds the Log4j API to its implementation. The Log4j LogManager locates a LoggerContextFactory by locating all instances of <code>META-INF/log4j-provider.properties</code>, a standard <code>java.util.Properties</code> file, and then inspecting each to verify that it specifies a value for the Log4jAPIVersion property that conforms to the version required by the LogManager.</p>\n\n<p>Incase of fat jar, you can also explicitly specify log4j2 to use <code>LoggerContextFactory</code> in your application by:</p>\n\n<pre><code>System.setProperty(\"log4j2.loggerContextFactory\", \"org.apache.logging.log4j.core.impl.Log4jContextFactory\")\n</code></pre>\n\n<p>or as specified in the <code>log4j-provider.properties</code> file included in your <code>log4j-core</code> jar.</p>\n"},{"tags":[],"owner":{"account_id":3806261,"reputation":306,"user_id":3158614,"display_name":"Ergin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514415298,"creation_date":1514415298,"answer_id":47999564,"question_id":27361052,"body_markdown":"When you run your application from an IDE, jar runs itself without embedding the dependencies and you don&#39;t have conflict of log settings. But when you convert the application into a fat jar then all the dependencies will be injected into your project&#39;s jar file and your log4j settings that come from external jar files (dependencies) may be conflicted while fatJar process merge them into a single artifact.\r\n\r\nIn this case i think your &quot;Log4j2Plugins.dat&quot; files may be conflicted. To be sure, you can open your fatJar file with a zip editor (ex: 7Zip), navigate to path in fatJar as below and delete one of the conflicted files (you can choose smallest one by size) from your fatJar. Run the fatJar and check the logging is working properly.\r\n\r\n&gt; \\META-INF\\org\\apache\\logging\\log4j\\core\\config\\plugins\\Log4j2Plugins.dat\r\n\r\nNow we can check the dependencies (artifacts) and find which of them contain the &quot;Log4j2Plugins.dat&quot; files. So you can exclude the modules that have the file from your build tool and then your fatJar creation process will exclude the conflicted files and your new fatJar can start logging as expected.\r\n\r\nIn my case, my fatJar module imports some other modules from Spring Boot and when i exclude the conflicted logging libraries, my fatJar starts logging without any error.\r\n\r\n`configurations {\r\n    all*.exclude module: &#39;spring-boot&#39;\r\n    all*.exclude module: &#39;spring-boot-starter-logging&#39;\r\n    all*.exclude module: &#39;logback-classic&#39;\r\n    all*.exclude module: &#39;commons-logging&#39;\r\n}`","title":"failing to load log4j2 while running fatjar","body":"<p>When you run your application from an IDE, jar runs itself without embedding the dependencies and you don't have conflict of log settings. But when you convert the application into a fat jar then all the dependencies will be injected into your project's jar file and your log4j settings that come from external jar files (dependencies) may be conflicted while fatJar process merge them into a single artifact.</p>\n\n<p>In this case i think your \"Log4j2Plugins.dat\" files may be conflicted. To be sure, you can open your fatJar file with a zip editor (ex: 7Zip), navigate to path in fatJar as below and delete one of the conflicted files (you can choose smallest one by size) from your fatJar. Run the fatJar and check the logging is working properly.</p>\n\n<blockquote>\n  <p>\\META-INF\\org\\apache\\logging\\log4j\\core\\config\\plugins\\Log4j2Plugins.dat</p>\n</blockquote>\n\n<p>Now we can check the dependencies (artifacts) and find which of them contain the \"Log4j2Plugins.dat\" files. So you can exclude the modules that have the file from your build tool and then your fatJar creation process will exclude the conflicted files and your new fatJar can start logging as expected.</p>\n\n<p>In my case, my fatJar module imports some other modules from Spring Boot and when i exclude the conflicted logging libraries, my fatJar starts logging without any error.</p>\n\n<p><code>configurations {\n    all*.exclude module: 'spring-boot'\n    all*.exclude module: 'spring-boot-starter-logging'\n    all*.exclude module: 'logback-classic'\n    all*.exclude module: 'commons-logging'\n}</code></p>\n"},{"tags":[],"owner":{"account_id":7808591,"reputation":138,"user_id":5905613,"display_name":"linus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595632773,"creation_date":1595632773,"answer_id":63082627,"question_id":27361052,"body_markdown":"Kinda late to this party, but I thought I&#39;d add my situation, in case it helps anyone.\r\n\r\nI build my own fat jar out of a subset of classes and jars from the larger project.  The essential class runs, but I was getting all the &quot;Unrecognized format specifier&quot; and all.  Most of the answers involve mvn shade or other such, so that wasn&#39;t helping me.  But poking around, I learned that log4j-web.jar also includes the Log4jPlugins.dat file, causing the problems.  Removing that from the build, and all is good.  \r\n\r\n(And I thought my build script was so tricky, including all the jars by project name, eg all jars for &quot;log4j.&quot;)","title":"failing to load log4j2 while running fatjar","body":"<p>Kinda late to this party, but I thought I'd add my situation, in case it helps anyone.</p>\n<p>I build my own fat jar out of a subset of classes and jars from the larger project.  The essential class runs, but I was getting all the &quot;Unrecognized format specifier&quot; and all.  Most of the answers involve mvn shade or other such, so that wasn't helping me.  But poking around, I learned that log4j-web.jar also includes the Log4jPlugins.dat file, causing the problems.  Removing that from the build, and all is good.</p>\n<p>(And I thought my build script was so tricky, including all the jars by project name, eg all jars for &quot;log4j.&quot;)</p>\n"},{"tags":[],"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681457827,"creation_date":1681389180,"answer_id":76005490,"question_id":27361052,"body_markdown":"You can exclude `Log4j2Plugins.dat` from other libraries, and keep only the one in `log4j2-core`. For example in `maven-shade-plugin`:\r\n\r\n```xml\r\n&lt;filter&gt;\r\n    &lt;artifact&gt;SOME-ARTIFACT-1&lt;/artifact&gt;\r\n    &lt;excludes&gt;\r\n        &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\r\n    &lt;/excludes&gt;\r\n&lt;/filter&gt;\r\n&lt;filter&gt;\r\n    &lt;artifact&gt;SOME-ARTIFACT-2&lt;/artifact&gt;\r\n    &lt;excludes&gt;\r\n        &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\r\n    &lt;/excludes&gt;\r\n&lt;/filter&gt;\r\n&lt;!-- etc --&gt;\r\n```\r\n\r\nAnother option is to copy the right file, like suggested in [another answer here](https://stackoverflow.com/a/36469245/1121497). Although I prefer to rely on official plugins like I did [here](https://stackoverflow.com/a/76003471/1121497).\r\n\r\nThe end goal is to end up with the right version of `Log4j2Plugins.dat`.\r\n","title":"failing to load log4j2 while running fatjar","body":"<p>You can exclude <code>Log4j2Plugins.dat</code> from other libraries, and keep only the one in <code>log4j2-core</code>. For example in <code>maven-shade-plugin</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;\n    &lt;artifact&gt;SOME-ARTIFACT-1&lt;/artifact&gt;\n    &lt;excludes&gt;\n        &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\n    &lt;/excludes&gt;\n&lt;/filter&gt;\n&lt;filter&gt;\n    &lt;artifact&gt;SOME-ARTIFACT-2&lt;/artifact&gt;\n    &lt;excludes&gt;\n        &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\n    &lt;/excludes&gt;\n&lt;/filter&gt;\n&lt;!-- etc --&gt;\n</code></pre>\n<p>Another option is to copy the right file, like suggested in <a href=\"https://stackoverflow.com/a/36469245/1121497\">another answer here</a>. Although I prefer to rely on official plugins like I did <a href=\"https://stackoverflow.com/a/76003471/1121497\">here</a>.</p>\n<p>The end goal is to end up with the right version of <code>Log4j2Plugins.dat</code>.</p>\n"}],"owner":{"account_id":1027251,"reputation":331,"user_id":1036296,"accept_rate":57,"display_name":"atarno"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12251,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":6,"score":13,"last_activity_date":1681457827,"creation_date":1418051826,"question_id":27361052,"body_markdown":"i am working on a project where i utilize log4j2 logging. \r\nwhile developing in intellij, all works fine and the logging is done as expected. the log4j2.xml is linked through java property passed to jvm on startup via intellij settings.\r\nbut once i try to run a standalone gradle built fat-jar, i&#39;m experiencing the following problems:\r\n\r\n    java -Dlog4j.debug=true -Dlog4j.configurationFile=/home/aaa/log4j2.xml -jar /home/aaa/myjar-SNAPSHOT.jar\r\n\r\nexceptions:  \r\n\r\n    ERROR StatusLogger Unrecognized format specifier [d]\r\n    ERROR StatusLogger Unrecognized conversion specifier [d] starting at position 16 in conversion pattern.\r\n    ERROR StatusLogger Unrecognized format specifier [thread]\r\n    ERROR StatusLogger Unrecognized conversion specifier [thread] starting at position 25 in conversion pattern.\r\n    ...\r\n    ERROR StatusLogger No log4j2 configuration file found. Using default configuration: logging only errors to the console.\r\n\r\ni don&#39;t even understand where those [thread]s come from, since i get the same error even while using a basic simplest config in my log4j2:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;Configuration status=&quot;WARN&quot; monitorInterval=&quot;86400&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;console-log&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout\r\n                    pattern=&quot;%-5p %d{yyyy-MM-dd HH:mm:ss.SSS} ${hostName} %c{1} %msg %throwable{7}%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;console-log&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n\r\nany thoughts are welcome. thanks.","title":"failing to load log4j2 while running fatjar","body":"<p>i am working on a project where i utilize log4j2 logging. \nwhile developing in intellij, all works fine and the logging is done as expected. the log4j2.xml is linked through java property passed to jvm on startup via intellij settings.\nbut once i try to run a standalone gradle built fat-jar, i'm experiencing the following problems:</p>\n\n<pre><code>java -Dlog4j.debug=true -Dlog4j.configurationFile=/home/aaa/log4j2.xml -jar /home/aaa/myjar-SNAPSHOT.jar\n</code></pre>\n\n<p>exceptions:  </p>\n\n<pre><code>ERROR StatusLogger Unrecognized format specifier [d]\nERROR StatusLogger Unrecognized conversion specifier [d] starting at position 16 in conversion pattern.\nERROR StatusLogger Unrecognized format specifier [thread]\nERROR StatusLogger Unrecognized conversion specifier [thread] starting at position 25 in conversion pattern.\n...\nERROR StatusLogger No log4j2 configuration file found. Using default configuration: logging only errors to the console.\n</code></pre>\n\n<p>i don't even understand where those [thread]s come from, since i get the same error even while using a basic simplest config in my log4j2:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;&lt;Configuration status=\"WARN\" monitorInterval=\"86400\"&gt;\n&lt;Appenders&gt;\n    &lt;Console name=\"console-log\" target=\"SYSTEM_OUT\"&gt;\n        &lt;PatternLayout\n                pattern=\"%-5p %d{yyyy-MM-dd HH:mm:ss.SSS} ${hostName} %c{1} %msg %throwable{7}%n\"/&gt;\n    &lt;/Console&gt;\n&lt;/Appenders&gt;\n&lt;Loggers&gt;\n    &lt;Root level=\"info\" additivity=\"false\"&gt;\n        &lt;AppenderRef ref=\"console-log\"/&gt;\n    &lt;/Root&gt;\n&lt;/Loggers&gt;\n</code></pre>\n\n<p></p>\n\n<p>any thoughts are welcome. thanks.</p>\n"},{"tags":["java","xml","xslt","saxon","xml-generation"],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681457653,"creation_date":1681457653,"answer_id":76012613,"question_id":76011300,"body_markdown":"Using versioned namespaces in generally considered a bad idea, for this very reason. XSLT is designed on the assumption that you know statically what namespace the source elements will be in. If this isn&#39;t the case, you need to using paths `like *:xxxx` in place of `docgen:xxxx`.","title":"How to make saxon transformer backward compitable?","body":"<p>Using versioned namespaces in generally considered a bad idea, for this very reason. XSLT is designed on the assumption that you know statically what namespace the source elements will be in. If this isn't the case, you need to using paths <code>like *:xxxx</code> in place of <code>docgen:xxxx</code>.</p>\n"}],"owner":{"account_id":23236549,"reputation":3,"user_id":17326490,"display_name":"Thong Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76012613,"answer_count":1,"score":0,"last_activity_date":1681457653,"creation_date":1681441349,"question_id":76011300,"body_markdown":"I have a file documentA4.xsl below:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsl:stylesheet version=&quot;1.0&quot;\r\n  xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n  xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;\r\n  xmlns:fox=&quot;http://xmlgraphics.apache.org/fop/extensions&quot;\r\n  xmlns:cmn=&quot;*/uri/xmlns/*/1/4&quot;\r\n  xmlns:docgen=&quot;*/documentGeneration/1/2&quot;&gt;\r\n...\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nAnd docGen.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;domainCommand xmlns=&quot;*/uri/xmlns/*/1/4&quot;&gt;\r\n\t\r\n\t&lt;command&gt;\r\n\t\t&lt;docgen:generateDocument xmlns:docgen=&quot;*/documentGeneration/1/3&quot; version=&quot;1.3.0&quot;&gt;\r\n\t\t\t&lt;docgen:documentId&gt;850e8400-e29b-11d4-a716-446655440479&lt;/docgen:documentId&gt;\r\n\t\t\t&lt;docgen:templateDomain&gt;naturalization&lt;/docgen:templateDomain&gt;\r\n                        &lt;docgen:templateName&gt;declarationOfRegisteredPartnership.xsl&lt;/docgen:templateName&gt;           \t\t\t\r\n\t\t\t&lt;docgen:emitTemplateApplied&gt;true&lt;/docgen:emitTemplateApplied&gt;\r\n\t\t\t&lt;docgen:attachmentDomain&gt;naturalization&lt;/docgen:attachmentDomain&gt;\r\n\t\t\t&lt;docgen:attachmentClass&gt;signatureSheets&lt;/docgen:attachmentClass&gt;\r\n\t&lt;/command&gt;\r\n&lt;/domainCommand&gt;\r\n```\r\n\r\nWhen I use Saxon library(Saxon-HE:10.5) to transform XSLT:\r\n\r\n```\r\nvar processor = new Processor(false);\r\nvar compiler = processor.newXsltCompiler();\r\nvar xsl = compiler.compile(new StreamSource(new File(pathTemplate.toUri())));\r\nvar out = processor.newSerializer();\r\nout.setOutputProperty(Serializer.Property.METHOD, &quot;xml&quot;);\r\nout.setOutputProperty(Serializer.Property.INDENT, &quot;yes&quot;);\r\nout.setOutputFile(new File(fileNameFormattedOutput));\r\nXslt30Transformer transformer = xsl.load30();\r\ntransformer.transform(new StreamSource(new File(fileNameDomainCommandPath)), out);\r\n```\r\n\r\nAnd my formatted.xml has something wrong:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;850e8400-e29b-11d4-a716-446655440479naturalizationdeclarationOfRegisteredPartnership.xsltruenaturalizationsignatureSheets\r\n&lt;fo:root xmlns:cmn=&quot;*/uri/xmlns/*/1/4&quot;\r\n  xmlns:docgen=&quot;*/documentGeneration/1/2&quot;\r\n  xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;\r\n  xmlns:fox=&quot;http://xmlgraphics.apache.org/fop/extensions&quot;\r\n  xml:lang=&quot;de&quot;&gt;\r\n```\r\n\r\nIf I change &quot;xmlns:docgen=&quot;\\*/documentGeneration/1/2&quot; to &quot;\\*/documentGeneration/1/3&quot; in  documentA4.xsl file the transformation work well\r\n\r\nIs there a configuration for the Saxon library to not care about the version of xmlns:docgen=&quot;*/documentGeneration/X/X&quot;?","title":"How to make saxon transformer backward compitable?","body":"<p>I have a file documentA4.xsl below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsl:stylesheet version=&quot;1.0&quot;\n  xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n  xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;\n  xmlns:fox=&quot;http://xmlgraphics.apache.org/fop/extensions&quot;\n  xmlns:cmn=&quot;*/uri/xmlns/*/1/4&quot;\n  xmlns:docgen=&quot;*/documentGeneration/1/2&quot;&gt;\n...\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>And docGen.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;domainCommand xmlns=&quot;*/uri/xmlns/*/1/4&quot;&gt;\n    \n    &lt;command&gt;\n        &lt;docgen:generateDocument xmlns:docgen=&quot;*/documentGeneration/1/3&quot; version=&quot;1.3.0&quot;&gt;\n            &lt;docgen:documentId&gt;850e8400-e29b-11d4-a716-446655440479&lt;/docgen:documentId&gt;\n            &lt;docgen:templateDomain&gt;naturalization&lt;/docgen:templateDomain&gt;\n                        &lt;docgen:templateName&gt;declarationOfRegisteredPartnership.xsl&lt;/docgen:templateName&gt;                       \n            &lt;docgen:emitTemplateApplied&gt;true&lt;/docgen:emitTemplateApplied&gt;\n            &lt;docgen:attachmentDomain&gt;naturalization&lt;/docgen:attachmentDomain&gt;\n            &lt;docgen:attachmentClass&gt;signatureSheets&lt;/docgen:attachmentClass&gt;\n    &lt;/command&gt;\n&lt;/domainCommand&gt;\n</code></pre>\n<p>When I use Saxon library(Saxon-HE:10.5) to transform XSLT:</p>\n<pre><code>var processor = new Processor(false);\nvar compiler = processor.newXsltCompiler();\nvar xsl = compiler.compile(new StreamSource(new File(pathTemplate.toUri())));\nvar out = processor.newSerializer();\nout.setOutputProperty(Serializer.Property.METHOD, &quot;xml&quot;);\nout.setOutputProperty(Serializer.Property.INDENT, &quot;yes&quot;);\nout.setOutputFile(new File(fileNameFormattedOutput));\nXslt30Transformer transformer = xsl.load30();\ntransformer.transform(new StreamSource(new File(fileNameDomainCommandPath)), out);\n</code></pre>\n<p>And my formatted.xml has something wrong:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;850e8400-e29b-11d4-a716-446655440479naturalizationdeclarationOfRegisteredPartnership.xsltruenaturalizationsignatureSheets\n&lt;fo:root xmlns:cmn=&quot;*/uri/xmlns/*/1/4&quot;\n  xmlns:docgen=&quot;*/documentGeneration/1/2&quot;\n  xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;\n  xmlns:fox=&quot;http://xmlgraphics.apache.org/fop/extensions&quot;\n  xml:lang=&quot;de&quot;&gt;\n</code></pre>\n<p>If I change &quot;xmlns:docgen=&quot;*/documentGeneration/1/2&quot; to &quot;*/documentGeneration/1/3&quot; in  documentA4.xsl file the transformation work well</p>\n<p>Is there a configuration for the Saxon library to not care about the version of xmlns:docgen=&quot;*/documentGeneration/X/X&quot;?</p>\n"},{"tags":["java","spring-boot","single-sign-on","cas"],"comments":[{"owner":{"account_id":22678452,"reputation":13,"user_id":16849099,"display_name":"quocanhcute"},"score":0,"creation_date":1681286270,"post_id":75993160,"comment_id":134030277,"body_markdown":"I using cas-server-overlay 6.1","body":"I using cas-server-overlay 6.1"}],"answers":[{"tags":[],"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681457558,"creation_date":1681457558,"answer_id":76012600,"question_id":75993160,"body_markdown":"The CAS server internally uses a state machine called the &quot;webflow&quot;.\r\n\r\nGiven the `java.lang.IllegalArgumentException: Null input buffer` on the `org.apereo.cas.web.flow.executor.ClientFlowExecutionRepository.getFlowExecution`, I guess that the &quot;execution&quot; parameter in the login form is missing and thus is not posted when you submit your credentials. Can you check that?","title":"Authentication attempt has failed when login Cas-server","body":"<p>The CAS server internally uses a state machine called the &quot;webflow&quot;.</p>\n<p>Given the <code>java.lang.IllegalArgumentException: Null input buffer</code> on the <code>org.apereo.cas.web.flow.executor.ClientFlowExecutionRepository.getFlowExecution</code>, I guess that the &quot;execution&quot; parameter in the login form is missing and thus is not posted when you submit your credentials. Can you check that?</p>\n"}],"owner":{"account_id":22678452,"reputation":13,"user_id":16849099,"display_name":"quocanhcute"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681457558,"creation_date":1681286149,"question_id":75993160,"body_markdown":"I am using the documentation from the website https://www.baeldung.com/spring-security-cas-sso#cas-server-setup-user-config to set up Cas-server for my Spring Boot application. However, when I reached step 2.3, CAS Server User Configuration to configure the Cas server account for logging in, I encountered the following error like &quot;Authentication attempt has failed&quot;. And the error message displayed on the command line is as follows:\r\n```\r\n2023-04-12 14:32:56,896 ERROR [org.apereo.cas.web.flow.executor.EncryptedTranscoder] - &lt;Null input buffer&gt;\r\njava.lang.IllegalArgumentException: Null input buffer\r\n        at javax.crypto.Cipher.doFinal(Cipher.java:2198) ~[?:?]\r\n        at org.apereo.cas.util.cipher.BaseBinaryCipherExecutor.decode(BaseBinaryCipherExecutor.java:92) ~[cas-server-core-util-api-6.1.7.2.jar!/:6.1.7.2]\r\n        at org.apereo.cas.util.cipher.BaseBinaryCipherExecutor.decode(BaseBinaryCipherExecutor.java:33) ~[cas-server-core-util-api-6.1.7.2.jar!/:6.1.7.2]\r\n        at org.apereo.cas.util.crypto.CipherExecutor.decode(CipherExecutor.java:105) ~[cas-server-core-api-util-6.1.7.2.jar!/:6.1.7.2]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n        at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:279) ~[spring-core-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:499) ~[spring-cloud-context-2.2.0.RC1.jar!/:2.2.0.RC1]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at com.sun.proxy.$Proxy173.decode(Unknown Source) ~[?:?]\r\n        at org.apereo.cas.web.flow.executor.WebflowCipherBean.decrypt(WebflowCipherBean.java:35) ~[cas-server-core-webflow-api-6.1.7.2.jar!/:6.1.7.2]\r\n        at org.apereo.cas.web.flow.executor.EncryptedTranscoder.decode(EncryptedTranscoder.java:103) ~[cas-server-core-webflow-api-6.1.7.2.jar!/:6.1.7.2]\r\n        at org.apereo.cas.web.flow.executor.ClientFlowExecutionRepository.getFlowExecution(ClientFlowExecutionRepository.java:75) ~[cas-server-core-webflow-api-6.1.7.2.jar!/:6.1.7.2]\r\n        at org.springframework.webflow.executor.FlowExecutorImpl.resumeExecution(FlowExecutorImpl.java:167) ~[spring-webflow-2.5.1.RELEASE.jar!/:2.5.1.RELEASE]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n        at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:279) ~[spring-core-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:499) ~[spring-cloud-context-2.2.0.RC1.jar!/:2.2.0.RC1]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at com.sun.proxy.$Proxy210.resumeExecution(Unknown Source) ~[?:?]\r\n        at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:254) ~[spring-webflow-2.5.1.RELEASE.jar!/:2.5.1.RELEASE]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) ~[javax.servlet-api-4.0.1.jar!/:4.0.1]\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar!/:4.0.1]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apereo.cas.web.support.AuthenticationCredentialsThreadLocalBinderClearingFilter.doFilter(AuthenticationCredentialsThreadLocalBinderClearingFilter.java:28) ~[cas-server-core-web-api-6.1.7.2.jar!/:6.1.7.2]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apereo.cas.web.support.filters.RequestParameterPolicyEnforcementFilter.doFilter(RequestParameterPolicyEnforcementFilter.java:411) ~[cas-server-core-web-api-6.1.7.2.jar!/:6.1.7.2]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apereo.cas.web.support.filters.ResponseHeadersEnforcementFilter.doFilter(ResponseHeadersEnforcementFilter.java:216) ~[cas-server-core-web-api-6.1.7.2.jar!/:6.1.7.2]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apereo.cas.web.support.filters.AddResponseHeadersFilter.doFilter(AddResponseHeadersFilter.java:67) ~[cas-server-core-web-api-6.1.7.2.jar!/:6.1.7.2]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.access.channel.ChannelProcessingFilter.doFilter(ChannelProcessingFilter.java:157) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) ~[spring-boot-actuator-2.2.0.RELEASE.jar!/:2.2.0.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apereo.cas.logging.web.ThreadContextMDCServletFilter.doFilter(ThreadContextMDCServletFilter.java:99) ~[cas-server-core-logging-6.1.7.2.jar!/:6.1.7.2]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apereo.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:66) ~[inspektr-common-1.8.6.GA.jar!/:1.8.6.GA]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-coyote-9.0.37.jar!/:9.0.37]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-coyote-9.0.37.jar!/:9.0.37]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-coyote-9.0.37.jar!/:9.0.37]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589) ~[tomcat-coyote-9.0.37.jar!/:9.0.37]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote-9.0.37.jar!/:9.0.37]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\r\n        at java.lang.Thread.run(Thread.java:834) [?:?]\r\n2023-04-12 14:32:57,089 INFO [org.apereo.inspektr.audit.support.Slf4jLoggingAuditTrailManager] - &lt;Audit trail record BEGIN\r\n```\r\nI configured the cas.properties file in the directory E:\\GIT_JAVA\\cas-server\\src\\main\\resources\\etc\\cas\\config so\r\nI use the following command to run the Cas server: \r\n```\r\ngradlew run -Dorg.gradle.java.home=%JAVA_HOME% -Pargs=&quot;-Dcas.standalone.configuration.directory=E:\\GIT_JAVA\\cas-server\\src\\main\\resources\\etc\\cas\\config&quot;\r\n```\r\nWhat did I do wrong or need to fix? Can anyone help me?\r\n","title":"Authentication attempt has failed when login Cas-server","body":"<p>I am using the documentation from the website <a href=\"https://www.baeldung.com/spring-security-cas-sso#cas-server-setup-user-config\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-cas-sso#cas-server-setup-user-config</a> to set up Cas-server for my Spring Boot application. However, when I reached step 2.3, CAS Server User Configuration to configure the Cas server account for logging in, I encountered the following error like &quot;Authentication attempt has failed&quot;. And the error message displayed on the command line is as follows:</p>\n<pre><code>2023-04-12 14:32:56,896 ERROR [org.apereo.cas.web.flow.executor.EncryptedTranscoder] - &lt;Null input buffer&gt;\njava.lang.IllegalArgumentException: Null input buffer\n        at javax.crypto.Cipher.doFinal(Cipher.java:2198) ~[?:?]\n        at org.apereo.cas.util.cipher.BaseBinaryCipherExecutor.decode(BaseBinaryCipherExecutor.java:92) ~[cas-server-core-util-api-6.1.7.2.jar!/:6.1.7.2]\n        at org.apereo.cas.util.cipher.BaseBinaryCipherExecutor.decode(BaseBinaryCipherExecutor.java:33) ~[cas-server-core-util-api-6.1.7.2.jar!/:6.1.7.2]\n        at org.apereo.cas.util.crypto.CipherExecutor.decode(CipherExecutor.java:105) ~[cas-server-core-api-util-6.1.7.2.jar!/:6.1.7.2]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n        at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:279) ~[spring-core-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:499) ~[spring-cloud-context-2.2.0.RC1.jar!/:2.2.0.RC1]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at com.sun.proxy.$Proxy173.decode(Unknown Source) ~[?:?]\n        at org.apereo.cas.web.flow.executor.WebflowCipherBean.decrypt(WebflowCipherBean.java:35) ~[cas-server-core-webflow-api-6.1.7.2.jar!/:6.1.7.2]\n        at org.apereo.cas.web.flow.executor.EncryptedTranscoder.decode(EncryptedTranscoder.java:103) ~[cas-server-core-webflow-api-6.1.7.2.jar!/:6.1.7.2]\n        at org.apereo.cas.web.flow.executor.ClientFlowExecutionRepository.getFlowExecution(ClientFlowExecutionRepository.java:75) ~[cas-server-core-webflow-api-6.1.7.2.jar!/:6.1.7.2]\n        at org.springframework.webflow.executor.FlowExecutorImpl.resumeExecution(FlowExecutorImpl.java:167) ~[spring-webflow-2.5.1.RELEASE.jar!/:2.5.1.RELEASE]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n        at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:279) ~[spring-core-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:499) ~[spring-cloud-context-2.2.0.RC1.jar!/:2.2.0.RC1]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at com.sun.proxy.$Proxy210.resumeExecution(Unknown Source) ~[?:?]\n        at org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:254) ~[spring-webflow-2.5.1.RELEASE.jar!/:2.5.1.RELEASE]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) ~[javax.servlet-api-4.0.1.jar!/:4.0.1]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar!/:4.0.1]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apereo.cas.web.support.AuthenticationCredentialsThreadLocalBinderClearingFilter.doFilter(AuthenticationCredentialsThreadLocalBinderClearingFilter.java:28) ~[cas-server-core-web-api-6.1.7.2.jar!/:6.1.7.2]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apereo.cas.web.support.filters.RequestParameterPolicyEnforcementFilter.doFilter(RequestParameterPolicyEnforcementFilter.java:411) ~[cas-server-core-web-api-6.1.7.2.jar!/:6.1.7.2]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apereo.cas.web.support.filters.ResponseHeadersEnforcementFilter.doFilter(ResponseHeadersEnforcementFilter.java:216) ~[cas-server-core-web-api-6.1.7.2.jar!/:6.1.7.2]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apereo.cas.web.support.filters.AddResponseHeadersFilter.doFilter(AddResponseHeadersFilter.java:67) ~[cas-server-core-web-api-6.1.7.2.jar!/:6.1.7.2]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.access.channel.ChannelProcessingFilter.doFilter(ChannelProcessingFilter.java:157) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) ~[spring-boot-actuator-2.2.0.RELEASE.jar!/:2.2.0.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apereo.cas.logging.web.ThreadContextMDCServletFilter.doFilter(ThreadContextMDCServletFilter.java:99) ~[cas-server-core-logging-6.1.7.2.jar!/:6.1.7.2]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apereo.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:66) ~[inspektr-common-1.8.6.GA.jar!/:1.8.6.GA]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-catalina-9.0.37.jar!/:9.0.37]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-coyote-9.0.37.jar!/:9.0.37]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-coyote-9.0.37.jar!/:9.0.37]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-coyote-9.0.37.jar!/:9.0.37]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589) ~[tomcat-coyote-9.0.37.jar!/:9.0.37]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote-9.0.37.jar!/:9.0.37]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.37.jar!/:9.0.37]\n        at java.lang.Thread.run(Thread.java:834) [?:?]\n2023-04-12 14:32:57,089 INFO [org.apereo.inspektr.audit.support.Slf4jLoggingAuditTrailManager] - &lt;Audit trail record BEGIN\n</code></pre>\n<p>I configured the cas.properties file in the directory E:\\GIT_JAVA\\cas-server\\src\\main\\resources\\etc\\cas\\config so\nI use the following command to run the Cas server:</p>\n<pre><code>gradlew run -Dorg.gradle.java.home=%JAVA_HOME% -Pargs=&quot;-Dcas.standalone.configuration.directory=E:\\GIT_JAVA\\cas-server\\src\\main\\resources\\etc\\cas\\config&quot;\n</code></pre>\n<p>What did I do wrong or need to fix? Can anyone help me?</p>\n"},{"tags":["java","android","android-tv","android-menu","leanback"],"answers":[{"tags":[],"owner":{"account_id":551625,"reputation":1261,"user_id":916538,"accept_rate":46,"display_name":"burakk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566253396,"creation_date":1566249369,"answer_id":57564054,"question_id":57552246,"body_markdown":"You have to create your custom TitleView.\r\n\r\n[Here][1] is a great video on customizing the components of the leanback library (Custom TitleView part starts at 05:48)\r\n\r\nand [here][2] is the source code of the CustomTitleView used in Google&#39;s Leanback Support Library Showcase App for Android TV\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=QFHIfQy8_Wc\r\n  [2]: https://github.com/googlesamples/leanback-showcase/blob/master/app/src/main/java/android/support/v17/leanback/supportleanbackshowcase/app/page/CustomTitleView.java","title":"How to add pictures to the left menu of Android TV?","body":"<p>You have to create your custom TitleView.</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=QFHIfQy8_Wc\" rel=\"nofollow noreferrer\">Here</a> is a great video on customizing the components of the leanback library (Custom TitleView part starts at 05:48)</p>\n\n<p>and <a href=\"https://github.com/googlesamples/leanback-showcase/blob/master/app/src/main/java/android/support/v17/leanback/supportleanbackshowcase/app/page/CustomTitleView.java\" rel=\"nofollow noreferrer\">here</a> is the source code of the CustomTitleView used in Google's Leanback Support Library Showcase App for Android TV</p>\n"}],"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1062,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1681456742,"creation_date":1566199916,"question_id":57552246,"body_markdown":"Trying to add pictures to the left menu on your Android TV.\r\nI was able to add a picture to the top right.\r\n\r\n![Screenshoot][1]\r\n\r\nBut I don&#39;t understand how it is adding to the left.        \r\n     \r\n    setBadgeDrawable(getActivity().getResources().getDrawable(R.drawable.icon));\r\n\r\n  [1]: https://i.stack.imgur.com/cCzw8.png","title":"How to add pictures to the left menu of Android TV?","body":"<p>Trying to add pictures to the left menu on your Android TV.\nI was able to add a picture to the top right.</p>\n<p><img src=\"https://i.stack.imgur.com/cCzw8.png\" alt=\"Screenshoot\" /></p>\n<p>But I don't understand how it is adding to the left.</p>\n<pre><code>setBadgeDrawable(getActivity().getResources().getDrawable(R.drawable.icon));\n</code></pre>\n"},{"tags":["java","maven","kubernetes","import"],"answers":[{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681452129,"creation_date":1681452129,"answer_id":76011996,"question_id":76011810,"body_markdown":"If you have these dependencies only in `dependencyManagement` section, that&#39;s not enough. You have to have it in `dependencies` also.\r\n\r\nThe pom.xml should look like something similar to the following.\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  \r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n                             http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;  \r\n\t\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;  \r\n\r\n\t...\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;client-java&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;18.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;client-java-extended&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;18.0.0&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\t&lt;dependencies&gt;  \r\n\t\t...\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;client-java&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;client-java-extended&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;  \r\n\t\t...\r\n\t&lt;/dependencies&gt;  \r\n&lt;/project&gt; \r\n```\r\n\r\nIn the `dependencies` section, you should only have the `groupId` and `artifactId` since the scope and the version are defined in dependency management.\r\n","title":"The import io.kubernetes.client.extended cannot be resolved","body":"<p>If you have these dependencies only in <code>dependencyManagement</code> section, that's not enough. You have to have it in <code>dependencies</code> also.</p>\n<p>The pom.xml should look like something similar to the following.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  \n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n                             http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;  \n    \n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;  \n\n    ...\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\n                &lt;artifactId&gt;client-java&lt;/artifactId&gt;\n                &lt;version&gt;18.0.0&lt;/version&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\n                &lt;artifactId&gt;client-java-extended&lt;/artifactId&gt;\n                &lt;version&gt;18.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;  \n        ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\n            &lt;artifactId&gt;client-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\n            &lt;artifactId&gt;client-java-extended&lt;/artifactId&gt;\n        &lt;/dependency&gt;  \n        ...\n    &lt;/dependencies&gt;  \n&lt;/project&gt; \n</code></pre>\n<p>In the <code>dependencies</code> section, you should only have the <code>groupId</code> and <code>artifactId</code> since the scope and the version are defined in dependency management.</p>\n"},{"tags":[],"owner":{"account_id":27001885,"reputation":1266,"user_id":20563046,"display_name":"Kranthiveer Dontineni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681456292,"creation_date":1681456292,"answer_id":76012463,"question_id":76011810,"body_markdown":"You are unable to import kubernetes extended client libraries because of the compatibility issues, Check this [versioning and compatibility](https://github.com/kubernetes-client/java/wiki/2.-Versioning-and-Compatibility) page for information.\r\n\r\nHere you need to consider the version of java, kubernetes extended client for java and kubernetes version. If you are using Java version 17.0.6 then your kubernetes extended client version should be 17.0.0 and kubernetes version should be 1.25.\r\n\r\nYou either need to make modifications based on your kubernetes version or based on your java version. So, upgrade or downgrade your software versions as per your requirement in order to meet the compatibility requirements, it will solve your issue.\r\n","title":"The import io.kubernetes.client.extended cannot be resolved","body":"<p>You are unable to import kubernetes extended client libraries because of the compatibility issues, Check this <a href=\"https://github.com/kubernetes-client/java/wiki/2.-Versioning-and-Compatibility\" rel=\"nofollow noreferrer\">versioning and compatibility</a> page for information.</p>\n<p>Here you need to consider the version of java, kubernetes extended client for java and kubernetes version. If you are using Java version 17.0.6 then your kubernetes extended client version should be 17.0.0 and kubernetes version should be 1.25.</p>\n<p>You either need to make modifications based on your kubernetes version or based on your java version. So, upgrade or downgrade your software versions as per your requirement in order to meet the compatibility requirements, it will solve your issue.</p>\n"}],"owner":{"account_id":13420777,"reputation":37,"user_id":9683603,"display_name":"Adham Ahmad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681456292,"creation_date":1681449573,"question_id":76011810,"body_markdown":"The Kubernetes extended client import cannot be resolved (version 18.0.0). I am using java version &quot;17.0.6&quot; and Maven .These are the dependencies. I tried clean and rebuild the project but still same error.\r\n\r\nAny help would be appreciated.\r\n\r\nPom.xml\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;client-java&lt;/artifactId&gt;\r\n            &lt;version&gt;18.0.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;client-java-extended&lt;/artifactId&gt;\r\n            &lt;version&gt;18.0.0&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n    &lt;/dependencyManagement&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n\r\n\r\n","title":"The import io.kubernetes.client.extended cannot be resolved","body":"<p>The Kubernetes extended client import cannot be resolved (version 18.0.0). I am using java version &quot;17.0.6&quot; and Maven .These are the dependencies. I tried clean and rebuild the project but still same error.</p>\n<p>Any help would be appreciated.</p>\n<p>Pom.xml</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\n        &lt;artifactId&gt;client-java&lt;/artifactId&gt;\n        &lt;version&gt;18.0.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\n        &lt;artifactId&gt;client-java-extended&lt;/artifactId&gt;\n        &lt;version&gt;18.0.0&lt;/version&gt;\n      &lt;/dependency&gt;\n&lt;/dependencyManagement&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","cron","scheduled-tasks","quartz-scheduler"],"comments":[{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1681462141,"post_id":76012384,"comment_id":134063491,"body_markdown":"maybe you are missing something. `@SchedulerLock` is part of [schedlock](https://github.com/lukas-krecan/ShedLock) so maybe you should delete something else than quartz db entry.","body":"maybe you are missing something. <code>@SchedulerLock</code> is part of <a href=\"https://github.com/lukas-krecan/ShedLock\" rel=\"nofollow noreferrer\">schedlock</a> so maybe you should delete something else than quartz db entry."}],"owner":{"account_id":22415215,"reputation":49,"user_id":16623376,"display_name":"ripunjoym1998"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681455999,"creation_date":1681455675,"question_id":76012384,"body_markdown":"I have a function with following annotations:\r\n\r\n    @Scheduled(cron = &quot;${cron.expression}&quot;)\r\n    @SchedulerLock(name = &quot;scheduleJobsWithQuartz&quot;, lockAtLeastFor = &quot;15m&quot;, lockAtMostFor = &quot;30m&quot;)\r\n    public void xyz() {\r\n    ///\r\n    }\r\n\r\nThis function runs once a day but it can be manually triggered from a GET call as well.\r\nWhen i start the pod and execute the GET call for the first time, the function runs, but when i hit the GET call again after sometime, it doesn&#39;t run even after I manually delete the entry from shedLock table.\r\n\r\nIs the schedulerLock information stored somewhere else as well? If it is stored in the memory, can I access it somehow?\r\n\r\nHere are my application properties:\r\n\r\n    QUARTZ_JOBSTORE_DRIVER_DELEGATECLASS : org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\r\n    QUARTZ_JOBSTORE_MISFIRETHRESHOLD : 60000\r\n    QUARTZ_JOBSTORE_TABLE_PREFIX : qrtz_\r\n    QUARTZ_SCHEDULER_INSTANCE_NAME : MyClusteredScheduler\r\n    QUARTZ_SCHEDULER_INSTANCE_ID : AUTO\r\n    QUARTZ_SCHEDULER_CLUSTER_INTERVAL : 20000\r\n\r\n","title":"Function with @SchedulerLock not running when manually triggered for the second time even after removing entry from shedLock table","body":"<p>I have a function with following annotations:</p>\n<pre><code>@Scheduled(cron = &quot;${cron.expression}&quot;)\n@SchedulerLock(name = &quot;scheduleJobsWithQuartz&quot;, lockAtLeastFor = &quot;15m&quot;, lockAtMostFor = &quot;30m&quot;)\npublic void xyz() {\n///\n}\n</code></pre>\n<p>This function runs once a day but it can be manually triggered from a GET call as well.\nWhen i start the pod and execute the GET call for the first time, the function runs, but when i hit the GET call again after sometime, it doesn't run even after I manually delete the entry from shedLock table.</p>\n<p>Is the schedulerLock information stored somewhere else as well? If it is stored in the memory, can I access it somehow?</p>\n<p>Here are my application properties:</p>\n<pre><code>QUARTZ_JOBSTORE_DRIVER_DELEGATECLASS : org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\nQUARTZ_JOBSTORE_MISFIRETHRESHOLD : 60000\nQUARTZ_JOBSTORE_TABLE_PREFIX : qrtz_\nQUARTZ_SCHEDULER_INSTANCE_NAME : MyClusteredScheduler\nQUARTZ_SCHEDULER_INSTANCE_ID : AUTO\nQUARTZ_SCHEDULER_CLUSTER_INTERVAL : 20000\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-jmx"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517504354,"creation_date":1517504354,"answer_id":48568029,"question_id":48567562,"body_markdown":"The `SpringApplicationAdminJmxAutoConfiguration` has the code like:\r\n\r\n    String jmxName = this.environment.getProperty(JMX_NAME_PROPERTY,\r\n\t\t\t\tDEFAULT_JMX_NAME);\r\n\t\tif (this.mbeanExporters != null) { // Make sure to not register that MBean twice\r\n\t\t\tfor (MBeanExporter mbeanExporter : this.mbeanExporters) {\r\n\t\t\t\tmbeanExporter.addExcludedBean(jmxName);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn new SpringApplicationAdminMXBeanRegistrar(jmxName);\r\n\r\nWhere we have those constants:\r\n\r\n\t/**\r\n\t * The property to use to customize the {@code ObjectName} of the application admin\r\n\t * mbean.\r\n\t */\r\n\tprivate static final String JMX_NAME_PROPERTY = &quot;spring.application.admin.jmx-name&quot;;\r\n\r\n\t/**\r\n\t * The default {@code ObjectName} of the application admin mbean.\r\n\t */\r\n\tprivate static final String DEFAULT_JMX_NAME = &quot;org.springframework.boot:type=Admin,name=SpringApplication&quot;;\r\n\r\nSo, you should consider to make that `jmx-name` as unique for each application. I mean you need specify `spring.application.admin.jmx-name` configuration property.\r\n\r\n","title":"BeanCreationException: Error creating bean with name &#39;springApplicationAdminRegistrar&#39;. InstanceAlreadyExistsException","body":"<p>The <code>SpringApplicationAdminJmxAutoConfiguration</code> has the code like:</p>\n\n<pre><code>String jmxName = this.environment.getProperty(JMX_NAME_PROPERTY,\n            DEFAULT_JMX_NAME);\n    if (this.mbeanExporters != null) { // Make sure to not register that MBean twice\n        for (MBeanExporter mbeanExporter : this.mbeanExporters) {\n            mbeanExporter.addExcludedBean(jmxName);\n        }\n    }\n    return new SpringApplicationAdminMXBeanRegistrar(jmxName);\n</code></pre>\n\n<p>Where we have those constants:</p>\n\n<pre><code>/**\n * The property to use to customize the {@code ObjectName} of the application admin\n * mbean.\n */\nprivate static final String JMX_NAME_PROPERTY = \"spring.application.admin.jmx-name\";\n\n/**\n * The default {@code ObjectName} of the application admin mbean.\n */\nprivate static final String DEFAULT_JMX_NAME = \"org.springframework.boot:type=Admin,name=SpringApplication\";\n</code></pre>\n\n<p>So, you should consider to make that <code>jmx-name</code> as unique for each application. I mean you need specify <code>spring.application.admin.jmx-name</code> configuration property.</p>\n"},{"tags":[],"owner":{"account_id":27799234,"reputation":11,"user_id":21223979,"display_name":"Jagmit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678615004,"creation_date":1676522146,"answer_id":75467904,"question_id":48567562,"body_markdown":"In case somebody is still facing any issue regarding this you can consider this: \r\nAs somebody has mentioned &quot;I ocasionally invoked `SpringApplication.run(Application.class, args);` twice&quot;\r\n\r\nSolution that worked for me:\r\nWe should start the `application(ApplicationContext)` through different class, i.e., other than `@SpringBootApplication` annotated class.\r\n\r\nWhy: `@SpringBootApplication` is the combination of three annotations: `@ComponentScan`, `@EnableAutoConfiguration`, and `@Configuration`, hence one instance will be created already. So when we create another instance of ApplicationContext interface (xml or annotated based) inside the same class, it will encounter already created instance and will throw exception.","title":"BeanCreationException: Error creating bean with name &#39;springApplicationAdminRegistrar&#39;. InstanceAlreadyExistsException","body":"<p>In case somebody is still facing any issue regarding this you can consider this:\nAs somebody has mentioned &quot;I ocasionally invoked <code>SpringApplication.run(Application.class, args);</code> twice&quot;</p>\n<p>Solution that worked for me:\nWe should start the <code>application(ApplicationContext)</code> through different class, i.e., other than <code>@SpringBootApplication</code> annotated class.</p>\n<p>Why: <code>@SpringBootApplication</code> is the combination of three annotations: <code>@ComponentScan</code>, <code>@EnableAutoConfiguration</code>, and <code>@Configuration</code>, hence one instance will be created already. So when we create another instance of ApplicationContext interface (xml or annotated based) inside the same class, it will encounter already created instance and will throw exception.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21595,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1681455785,"creation_date":1517502890,"question_id":48567562,"body_markdown":"I have 2 spring boot applications.\r\n\r\napplication_A dependsn_on application_B\r\n\r\nActually each of applications has main class marked as `@SpringBootApplication`\r\n\r\n`application_B` starts successfully but `application_A` doesn&#39;t start:\r\n\r\n\r\n\r\n\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springApplicationAdminRegistrar&#39; defined in class path resource [org/springframework/boot/autoconfigure/admin/SpringApplicationAdminJmxAutoConfiguration.class]: Invocation of init method failed; nested exception is javax.management.InstanceAlreadyExistsException: org.springframework.boot:type=Admin,name=SpringApplication # JMX name of the application admin MBean.\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)\r\n    \tat pack.Application.main(Application.java:36)\r\n    Caused by: javax.management.InstanceAlreadyExistsException: org.springframework.boot:type=Admin,name=SpringApplication # JMX name of the application admin MBean.\r\n    \tat com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)\r\n    \tat org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar.afterPropertiesSet(SpringApplicationAdminMXBeanRegistrar.java:92)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)\r\n    \t... 15 common frames omitted\r\n\r\nIn debug I see that spring executes `org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration#springApplicationAdminRegistrar` twice during startup and fails.\r\n\r\nI tried to set property:\r\n\r\n     spring.application.admin.enabled=false\r\n\r\nBut it doesn&#39;t help me.\r\n\r\nHow can I avoid this exception?\r\n\r\nP.S.\r\n-\r\n\r\nI&#39;ve found this one https://github.com/spring-projects/spring-boot/issues/6378 but there is no solution","title":"BeanCreationException: Error creating bean with name &#39;springApplicationAdminRegistrar&#39;. InstanceAlreadyExistsException","body":"<p>I have 2 spring boot applications.</p>\n\n<p>application_A dependsn_on application_B</p>\n\n<p>Actually each of applications has main class marked as <code>@SpringBootApplication</code></p>\n\n<p><code>application_B</code> starts successfully but <code>application_A</code> doesn't start:</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springApplicationAdminRegistrar' defined in class path resource [org/springframework/boot/autoconfigure/admin/SpringApplicationAdminJmxAutoConfiguration.class]: Invocation of init method failed; nested exception is javax.management.InstanceAlreadyExistsException: org.springframework.boot:type=Admin,name=SpringApplication # JMX name of the application admin MBean.\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)\n    at pack.Application.main(Application.java:36)\nCaused by: javax.management.InstanceAlreadyExistsException: org.springframework.boot:type=Admin,name=SpringApplication # JMX name of the application admin MBean.\n    at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)\n    at org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar.afterPropertiesSet(SpringApplicationAdminMXBeanRegistrar.java:92)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)\n    ... 15 common frames omitted\n</code></pre>\n\n<p>In debug I see that spring executes <code>org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration#springApplicationAdminRegistrar</code> twice during startup and fails.</p>\n\n<p>I tried to set property:</p>\n\n<pre><code> spring.application.admin.enabled=false\n</code></pre>\n\n<p>But it doesn't help me.</p>\n\n<p>How can I avoid this exception?</p>\n\n<h2>P.S.</h2>\n\n<p>I've found this one <a href=\"https://github.com/spring-projects/spring-boot/issues/6378\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/6378</a> but there is no solution</p>\n"},{"tags":["java","android-studio","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":3772147,"reputation":606,"user_id":3134015,"display_name":"Tink"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681455091,"creation_date":1681455091,"answer_id":76012302,"question_id":75977036,"body_markdown":"    public void onFailure(Call&lt;ResponCurrentCheckIn&gt; call, Throwable t)\r\n\r\nYou can get a Call object here, and the Call object had a request() method, which will return a Request object, and it has attributes like method, url and body.\r\n\r\n    @Override\r\n        public void onFailure(Call&lt;ResponCurrentCheckIn&gt; call, Throwable t) {\r\n            println(call.request().method)\r\n            println(call.request().url)\r\n            println(call.request().body)\r\n    }\r\n\r\n","title":"How to get endpoint name, method name and fields value from onFailure() retrofit","body":"<pre><code>public void onFailure(Call&lt;ResponCurrentCheckIn&gt; call, Throwable t)\n</code></pre>\n<p>You can get a Call object here, and the Call object had a request() method, which will return a Request object, and it has attributes like method, url and body.</p>\n<pre><code>@Override\n    public void onFailure(Call&lt;ResponCurrentCheckIn&gt; call, Throwable t) {\n        println(call.request().method)\n        println(call.request().url)\n        println(call.request().body)\n}\n</code></pre>\n"}],"owner":{"account_id":25327451,"reputation":223,"user_id":19147857,"display_name":"Sasmita Novitasari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681455091,"creation_date":1681128936,"question_id":75977036,"body_markdown":"I try to tracking error from all my retrofit, i need to know the name of the problematic endpoint and also the fields submitted by the user\r\n\r\nUserServices.java\r\n\r\n```\r\n    @GET(&quot;visit/current_checkin&quot;)\r\n    Call&lt;ResponCurrentCheckIn&gt; getCurrentCheckin(\r\n            @Query(&quot;sdo_id&quot;) String sdoId\r\n    );\r\n```\r\n\r\nMy Retrofit Call\r\n```\r\nnew ApiClient().getUserService(SplashActivity.this).getCurrentCheckin(sdoId)\r\n                .enqueue(new Callback&lt;ResponCurrentCheckIn&gt;() {\r\n                    @Override\r\n                    public void onResponse(Call&lt;ResponCurrentCheckIn&gt; call, Response&lt;ResponCurrentCheckIn&gt; response) {\r\n                        if (response.isSuccessful()) {\r\n                            // TODO\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure(Call&lt;ResponCurrentCheckIn&gt; call, Throwable t) {\r\n                        String message = t.getClass().getSimpleName() + &quot;\\n&quot; + t.getMessage();\r\n                        loading(false, message);\r\n                        new LogTracking(SplashActivity.this).save(user, &quot;SplashActivity.java&quot;, &quot;GET /visit/current_checkin&quot;, t.getMessage(), &quot;Error Backend&quot;, null);\r\n                    }\r\n                });\r\n```\r\n\r\n\r\nApiClient.java\r\n```\r\npublic static Retrofit retrofit;\r\n//    public static final String BASE_URL = &quot;https://online.meval.id/v1/api/&quot;;\r\n//    public static final String BASE_URL = &quot;https://v2.meval.id/v1/api/&quot;;\r\n\r\n\r\n    public static Retrofit getRetrofitInstance(String baseUrl) {\r\n        HttpLoggingInterceptor httpLoggingInterceptor = new HttpLoggingInterceptor();\r\n        httpLoggingInterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n\r\n        OkHttpClient okHttpClient = new OkHttpClient.Builder()\r\n                .addInterceptor(new Interceptor() {\r\n                    @Override\r\n                    public okhttp3.Response intercept(Chain chain) throws IOException {\r\n                        Request originalRequest = chain.request();\r\n                        Request newRequest = originalRequest.newBuilder()\r\n                                .header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n                                .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n                                .header(&quot;Authtoken&quot;, &quot;MY-AUTHTOKEN&quot;)\r\n                                .build();\r\n                        return chain.proceed(newRequest);\r\n                    }\r\n                })\r\n                .readTimeout(60, TimeUnit.SECONDS)\r\n                .writeTimeout(60, TimeUnit.SECONDS)\r\n                .connectTimeout(60, TimeUnit.SECONDS)\r\n                .addInterceptor(httpLoggingInterceptor)\r\n                .build();\r\n\r\n        if (retrofit == null) {\r\n            retrofit = new Retrofit.Builder()\r\n                    .addConverterFactory(ScalarsConverterFactory.create())\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .baseUrl(baseUrl)\r\n                    .client(okHttpClient)\r\n                    .build();\r\n        }\r\n        return retrofit;\r\n    }\r\n\r\n    public static UserServices getUserService(Context context){\r\n        SharedPreferences preferences = context.getSharedPreferences(MyPreference.CONTAINER_PREFERENCE.toString(), Context.MODE_PRIVATE);\r\n\r\n        UserServices userService = getRetrofitInstance(BASE_URL).create(UserServices.class);\r\n        return userService;\r\n    }\r\n```\r\n\r\n\r\n## Question\r\n\r\n1. how to get the method name in onFailure()? Example: GET, POST, PUT, etc\r\n\r\n2. how to get endpoint name via onFailure()? Example: /visit/current_checkin\r\n\r\n3. how to get the value of each field that the user submitted in onFailure()? Example: value from sdoId\r\n\r\n\r\nI try to use suggestions from android studio when access throwable class but found nothing","title":"How to get endpoint name, method name and fields value from onFailure() retrofit","body":"<p>I try to tracking error from all my retrofit, i need to know the name of the problematic endpoint and also the fields submitted by the user</p>\n<p>UserServices.java</p>\n<pre><code>    @GET(&quot;visit/current_checkin&quot;)\n    Call&lt;ResponCurrentCheckIn&gt; getCurrentCheckin(\n            @Query(&quot;sdo_id&quot;) String sdoId\n    );\n</code></pre>\n<p>My Retrofit Call</p>\n<pre><code>new ApiClient().getUserService(SplashActivity.this).getCurrentCheckin(sdoId)\n                .enqueue(new Callback&lt;ResponCurrentCheckIn&gt;() {\n                    @Override\n                    public void onResponse(Call&lt;ResponCurrentCheckIn&gt; call, Response&lt;ResponCurrentCheckIn&gt; response) {\n                        if (response.isSuccessful()) {\n                            // TODO\n                        }\n                    }\n\n                    @Override\n                    public void onFailure(Call&lt;ResponCurrentCheckIn&gt; call, Throwable t) {\n                        String message = t.getClass().getSimpleName() + &quot;\\n&quot; + t.getMessage();\n                        loading(false, message);\n                        new LogTracking(SplashActivity.this).save(user, &quot;SplashActivity.java&quot;, &quot;GET /visit/current_checkin&quot;, t.getMessage(), &quot;Error Backend&quot;, null);\n                    }\n                });\n</code></pre>\n<p>ApiClient.java</p>\n<pre><code>public static Retrofit retrofit;\n//    public static final String BASE_URL = &quot;https://online.meval.id/v1/api/&quot;;\n//    public static final String BASE_URL = &quot;https://v2.meval.id/v1/api/&quot;;\n\n\n    public static Retrofit getRetrofitInstance(String baseUrl) {\n        HttpLoggingInterceptor httpLoggingInterceptor = new HttpLoggingInterceptor();\n        httpLoggingInterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n\n        OkHttpClient okHttpClient = new OkHttpClient.Builder()\n                .addInterceptor(new Interceptor() {\n                    @Override\n                    public okhttp3.Response intercept(Chain chain) throws IOException {\n                        Request originalRequest = chain.request();\n                        Request newRequest = originalRequest.newBuilder()\n                                .header(&quot;Accept&quot;, &quot;application/json&quot;)\n                                .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n                                .header(&quot;Authtoken&quot;, &quot;MY-AUTHTOKEN&quot;)\n                                .build();\n                        return chain.proceed(newRequest);\n                    }\n                })\n                .readTimeout(60, TimeUnit.SECONDS)\n                .writeTimeout(60, TimeUnit.SECONDS)\n                .connectTimeout(60, TimeUnit.SECONDS)\n                .addInterceptor(httpLoggingInterceptor)\n                .build();\n\n        if (retrofit == null) {\n            retrofit = new Retrofit.Builder()\n                    .addConverterFactory(ScalarsConverterFactory.create())\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .baseUrl(baseUrl)\n                    .client(okHttpClient)\n                    .build();\n        }\n        return retrofit;\n    }\n\n    public static UserServices getUserService(Context context){\n        SharedPreferences preferences = context.getSharedPreferences(MyPreference.CONTAINER_PREFERENCE.toString(), Context.MODE_PRIVATE);\n\n        UserServices userService = getRetrofitInstance(BASE_URL).create(UserServices.class);\n        return userService;\n    }\n</code></pre>\n<h2>Question</h2>\n<ol>\n<li><p>how to get the method name in onFailure()? Example: GET, POST, PUT, etc</p>\n</li>\n<li><p>how to get endpoint name via onFailure()? Example: /visit/current_checkin</p>\n</li>\n<li><p>how to get the value of each field that the user submitted in onFailure()? Example: value from sdoId</p>\n</li>\n</ol>\n<p>I try to use suggestions from android studio when access throwable class but found nothing</p>\n"},{"tags":["java","android","kotlin","android-activity"],"answers":[{"tags":[],"owner":{"account_id":8853763,"reputation":514,"user_id":6612138,"display_name":"Alexander Dadukin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599582369,"creation_date":1599582369,"answer_id":63797977,"question_id":63797893,"body_markdown":"Your `UserModel` class cannot be recognized by bundle as a Serializable or Parcelable. Try to implement one of them and error will disappear.","title":"java.lang.IllegalArgumentException: Ilegal value, when I try to pass object via bundle","body":"<p>Your <code>UserModel</code> class cannot be recognized by bundle as a Serializable or Parcelable. Try to implement one of them and error will disappear.</p>\n"},{"tags":[],"owner":{"account_id":3952469,"reputation":3052,"user_id":3677030,"accept_rate":21,"display_name":"Mohammed Rampurawala"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1599638549,"creation_date":1599582649,"answer_id":63798041,"question_id":63797893,"body_markdown":"You will need to make the class `Parcelable` whose object you are passing through the `Bundle`.\r\n\r\nIn your gradle:\r\n\r\n```\r\napply plugin: &#39;org.jetbrains.kotlin.android.extensions&#39;\r\n\r\n```\r\n\r\nYour data class should be like:\r\n```\r\n@Parcelize\r\ndata class UserModel(\r\n\r\n    val name: String? = &quot;&quot;,\r\n    val age: String? =&quot;&quot;,\r\n    val idNumber: String? =&quot;&quot;,\r\n    val occupation: String? =&quot;&quot;,\r\n    val formation: String? =&quot;&quot;,\r\n) : Parcelable","title":"java.lang.IllegalArgumentException: Ilegal value, when I try to pass object via bundle","body":"<p>You will need to make the class <code>Parcelable</code> whose object you are passing through the <code>Bundle</code>.</p>\n<p>In your gradle:</p>\n<pre><code>apply plugin: 'org.jetbrains.kotlin.android.extensions'\n\n</code></pre>\n<p>Your data class should be like:</p>\n<pre><code>@Parcelize\ndata class UserModel(\n\n    val name: String? = &quot;&quot;,\n    val age: String? =&quot;&quot;,\n    val idNumber: String? =&quot;&quot;,\n    val occupation: String? =&quot;&quot;,\n    val formation: String? =&quot;&quot;,\n) : Parcelable\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11779404,"reputation":764,"user_id":8619606,"display_name":"Kirguduck"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637769837,"creation_date":1637769837,"answer_id":70099268,"question_id":63797893,"body_markdown":"I spent half day with this issue. My app crashed with same error.   \r\nBut I use kotlinx.serialization annotations and could not even imagine that I need additionally mention about Serialization   \r\nEven AS can see this parameter as Serializable!  \r\nJust added `java.io.Serializable` to the code and fixed[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ae3pA.png","title":"java.lang.IllegalArgumentException: Ilegal value, when I try to pass object via bundle","body":"<p>I spent half day with this issue. My app crashed with same error.<br />\nBut I use kotlinx.serialization annotations and could not even imagine that I need additionally mention about Serialization<br />\nEven AS can see this parameter as Serializable!<br />\nJust added <code>java.io.Serializable</code> to the code and fixed<a href=\"https://i.stack.imgur.com/ae3pA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ae3pA.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18826290,"reputation":215,"user_id":13731102,"display_name":"ramos jc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3858,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63798041,"answer_count":3,"score":2,"last_activity_date":1681455089,"creation_date":1599582072,"question_id":63797893,"body_markdown":"\r\nI&#39;m trying to pass an object from the class &quot;Transfer&quot; (java) to the class &quot;Limit&quot; (Kotlin), if I try to get the values ​​that come through the &quot;Bundle&quot; using data.name, the compiler does not give an error, but when I enter in the activity of this problem, how can I get an object via Bundle () in my intent?\r\n\r\n\r\n``` \r\npublic class Transfer {\r\n    \r\n    private void sendBundle(){\r\n        Usermodel doTransfer = fillUserModel();\r\n        Limit.intentTransfer(doTransfer, &quot;France&quot;);\r\n    }\r\n    \r\n    \r\n    private UserModel fillUserModel() {\r\n        Usermodel newUserModel = new Usermodel();\r\n        usermodel.setName(&quot;Jonas&quot;);\r\n        userModel.setAge(&quot;30&quot;);\r\n        usermodel.setIdNumber(&quot;123458&quot;);\r\n        userModel.setOccupation(&quot;dev&quot;);\r\n        userModel.setFormation(&quot;CC&quot;);\r\n        \r\n        return newUserModel ;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n``` \r\n\r\nclass UserModel(\r\n\r\n    val name: String? = &quot;&quot;,\r\n    val age: String? =&quot;&quot;,\r\n    val idNumber: String? =&quot;&quot;,\r\n    val occupation: String? =&quot;&quot;,\r\n    val formation: String? =&quot;&quot;,\r\n)\r\n\r\n```\r\n\r\n```\r\nclass Limit {\r\n\r\n     private val data: Usermodel by bindBundle(DATA)\r\n\r\n     private val country: String by bindBundle(COUNTRY)\r\n\r\n     override fun onCreate(savedInstanceState: Bundle?) {\r\n\r\n      //here I can get the values ​​using  data.name or data.age \r\n      //  and android studio does not point out error\r\n\r\n}\r\n\r\n\r\ncompanion object {\r\n  \r\n    const val DATA = &quot;data&quot;\r\n    const val COUNTRY= &quot;CountryUser&quot;\r\n}\r\n\r\n\r\nfun intentTransfer (test : UserModel, CountryUser : String)\r\n : Intent {\r\n        return Intent(context, Limit::class.java).apply {\r\n            putExtras(\r\n                BundleOf(\r\n                    DATA to test,\r\n                    COUNTRY to CountryUser \r\n                )\r\n            )\r\n        }\r\n    }\r\n\r\n```\r\n\r\n\r\nOUTPUT \r\nWHEN I ENTER ACTIVITY: \r\n\r\n```\r\n java.lang.IllegalArgumentException: Ilegal value type android.model.UserModel for key &quot;data&quot;\r\n\r\n```\r\n","title":"java.lang.IllegalArgumentException: Ilegal value, when I try to pass object via bundle","body":"<p>I'm trying to pass an object from the class &quot;Transfer&quot; (java) to the class &quot;Limit&quot; (Kotlin), if I try to get the values ​​that come through the &quot;Bundle&quot; using data.name, the compiler does not give an error, but when I enter in the activity of this problem, how can I get an object via Bundle () in my intent?</p>\n<pre><code>public class Transfer {\n    \n    private void sendBundle(){\n        Usermodel doTransfer = fillUserModel();\n        Limit.intentTransfer(doTransfer, &quot;France&quot;);\n    }\n    \n    \n    private UserModel fillUserModel() {\n        Usermodel newUserModel = new Usermodel();\n        usermodel.setName(&quot;Jonas&quot;);\n        userModel.setAge(&quot;30&quot;);\n        usermodel.setIdNumber(&quot;123458&quot;);\n        userModel.setOccupation(&quot;dev&quot;);\n        userModel.setFormation(&quot;CC&quot;);\n        \n        return newUserModel ;\n    }\n\n}\n\n</code></pre>\n<pre><code>\nclass UserModel(\n\n    val name: String? = &quot;&quot;,\n    val age: String? =&quot;&quot;,\n    val idNumber: String? =&quot;&quot;,\n    val occupation: String? =&quot;&quot;,\n    val formation: String? =&quot;&quot;,\n)\n\n</code></pre>\n<pre><code>class Limit {\n\n     private val data: Usermodel by bindBundle(DATA)\n\n     private val country: String by bindBundle(COUNTRY)\n\n     override fun onCreate(savedInstanceState: Bundle?) {\n\n      //here I can get the values ​​using  data.name or data.age \n      //  and android studio does not point out error\n\n}\n\n\ncompanion object {\n  \n    const val DATA = &quot;data&quot;\n    const val COUNTRY= &quot;CountryUser&quot;\n}\n\n\nfun intentTransfer (test : UserModel, CountryUser : String)\n : Intent {\n        return Intent(context, Limit::class.java).apply {\n            putExtras(\n                BundleOf(\n                    DATA to test,\n                    COUNTRY to CountryUser \n                )\n            )\n        }\n    }\n\n</code></pre>\n<p>OUTPUT\nWHEN I ENTER ACTIVITY:</p>\n<pre><code> java.lang.IllegalArgumentException: Ilegal value type android.model.UserModel for key &quot;data&quot;\n\n</code></pre>\n"},{"tags":["java","generics","functional-programming","type-safety","generic-method"],"comments":[{"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1681444897,"post_id":76011340,"comment_id":134060591,"body_markdown":"You&#39;re doing it. The inference engine goes: Oh, great, if `T` is `Object` everything works great - `123` (`Integer`) is an `Object`, and `String` indeed extends `Object`. What you &#39;want&#39; doesn&#39;t make sense. Separate from the non-sensical notion (which is that you want to treat, presumably, java as if it is invariant, it isn&#39;t), this method is a bad idea. `Class&lt;O&gt;` to attempt to reify generics is a bad idea (you can&#39;t then have e.g. `List&lt;String&gt;` for O, you can&#39;t stick generics in there. Just an example.","body":"You&#39;re doing it. The inference engine goes: Oh, great, if <code>T</code> is <code>Object</code> everything works great - <code>123</code> (<code>Integer</code>) is an <code>Object</code>, and <code>String</code> indeed extends <code>Object</code>. What you &#39;want&#39; doesn&#39;t make sense. Separate from the non-sensical notion (which is that you want to treat, presumably, java as if it is invariant, it isn&#39;t), this method is a bad idea. <code>Class&lt;O&gt;</code> to attempt to reify generics is a bad idea (you can&#39;t then have e.g. <code>List&lt;String&gt;</code> for O, you can&#39;t stick generics in there. Just an example."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1681445894,"post_id":76011340,"comment_id":134060702,"body_markdown":"If `t` must be an instance of a subclass, make the superclass `abstract` and all parameters will be subclasses because there won&#39;t be any instances of the parent classes.","body":"If <code>t</code> must be an instance of a subclass, make the superclass <code>abstract</code> and all parameters will be subclasses because there won&#39;t be any instances of the parent classes."},{"owner":{"account_id":3686279,"reputation":20084,"user_id":3757232,"accept_rate":90,"display_name":"Jared Smith"},"score":0,"creation_date":1681487431,"post_id":76011340,"comment_id":134069600,"body_markdown":"What does this have to do with Functional Programming?","body":"What does this have to do with Functional Programming?"},{"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"score":1,"creation_date":1681518783,"post_id":76011340,"comment_id":134074619,"body_markdown":"@JaredSmith I needed something like a Prism that&#39;s a functional programming concept","body":"@JaredSmith I needed something like a Prism that&#39;s a functional programming concept"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681454889,"creation_date":1681454083,"answer_id":76012191,"question_id":76011340,"body_markdown":"To simplify the question, I believe you cannot enforce a complication error for a function like this, if the arguments do not match the generic rule:\r\n\r\n    public &lt;A, B extends A&gt; void doNothing(A a, Class&lt;B&gt; b) {\r\n    }\r\n\r\n    @Test\r\n    void test() {   \r\n        doNothing(123, String.class);\r\n    }\r\n\r\nHowever, you can simplify the code a bit and you can throw runtime exceptions if the types do not match. Though, since you are going with Optionals, you can simply stick to Optional.empty, as you had in your example. A simple refactor:\r\n\r\n    public static &lt;T, O extends T, V&gt; Optional&lt;V&gt; toOption(\r\n    \t\tT t, Function&lt;? super O, ? extends Optional&lt;V&gt;&gt; f, Class&lt;O&gt; cls) {\r\n    \r\n    \treturn assign(t, cls)\r\n    \t\t\t.flatMap(x -&gt; some(x))\r\n    \t\t\t.flatMap(f);\r\n    }\r\n    \r\n    private static &lt;T, O&gt; Optional&lt;O&gt; assign(T t, Class&lt;O&gt; cls) {\r\n    \tif (cls.isAssignableFrom(t.getClass())) {\r\n    \t\treturn Optional.ofNullable((O) t);\r\n    \t} \r\n    \treturn Optional.empty();\r\n    }","title":"Only permits children classes as generic parameters","body":"<p>To simplify the question, I believe you cannot enforce a complication error for a function like this, if the arguments do not match the generic rule:</p>\n<pre><code>public &lt;A, B extends A&gt; void doNothing(A a, Class&lt;B&gt; b) {\n}\n\n@Test\nvoid test() {   \n    doNothing(123, String.class);\n}\n</code></pre>\n<p>However, you can simplify the code a bit and you can throw runtime exceptions if the types do not match. Though, since you are going with Optionals, you can simply stick to Optional.empty, as you had in your example. A simple refactor:</p>\n<pre><code>public static &lt;T, O extends T, V&gt; Optional&lt;V&gt; toOption(\n        T t, Function&lt;? super O, ? extends Optional&lt;V&gt;&gt; f, Class&lt;O&gt; cls) {\n\n    return assign(t, cls)\n            .flatMap(x -&gt; some(x))\n            .flatMap(f);\n}\n\nprivate static &lt;T, O&gt; Optional&lt;O&gt; assign(T t, Class&lt;O&gt; cls) {\n    if (cls.isAssignableFrom(t.getClass())) {\n        return Optional.ofNullable((O) t);\n    } \n    return Optional.empty();\n}\n</code></pre>\n"}],"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681454889,"creation_date":1681441985,"question_id":76011340,"body_markdown":"Java 17\r\n\r\nI&#39;m implementing the following method:\r\n\r\n    public static &lt;T, O extends T, V&gt; Optional&lt;V&gt; toOption(T t, Function&lt;? super O, ? extends Optional&lt;V&gt;&gt; f, Class&lt;O&gt; cls){\r\n        Optional&lt;O&gt; opt;\r\n        if(cls.isAssignableFrom(t.getClass())){\r\n            opt = some((O) t);\r\n        } else\r\n            opt = empty();\r\n        return opt.flatMap(f);\r\n    }\r\n\r\nwhich is supposed to return non empty Optional if the runtime type of argument of type `T` is subclass of type parameter `O` and flatMap it with the given `Function`. The problem with this implementation is that the following still compiles:\r\n\r\n    toOption(123, v -&gt; Optional.of(v), String.class);\r\n\r\nBut `Integer` and `String` are unrelated. So `O extends T` does not really works. Is there a way to make such cases not compile?","title":"Only permits children classes as generic parameters","body":"<p>Java 17</p>\n<p>I'm implementing the following method:</p>\n<pre><code>public static &lt;T, O extends T, V&gt; Optional&lt;V&gt; toOption(T t, Function&lt;? super O, ? extends Optional&lt;V&gt;&gt; f, Class&lt;O&gt; cls){\n    Optional&lt;O&gt; opt;\n    if(cls.isAssignableFrom(t.getClass())){\n        opt = some((O) t);\n    } else\n        opt = empty();\n    return opt.flatMap(f);\n}\n</code></pre>\n<p>which is supposed to return non empty Optional if the runtime type of argument of type <code>T</code> is subclass of type parameter <code>O</code> and flatMap it with the given <code>Function</code>. The problem with this implementation is that the following still compiles:</p>\n<pre><code>toOption(123, v -&gt; Optional.of(v), String.class);\n</code></pre>\n<p>But <code>Integer</code> and <code>String</code> are unrelated. So <code>O extends T</code> does not really works. Is there a way to make such cases not compile?</p>\n"},{"tags":["java","class","object","methods"],"comments":[{"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"score":1,"creation_date":1681448416,"post_id":76011722,"comment_id":134060940,"body_markdown":"I notice that you&#39;re using `DEFAULT_SIDE_LENGTH` and `DEFAULT_SIDE_COUNT` instead of `polygon.getLength()` and `polygon.getSides()`. Is it possible you meant for the equals() method to compare to the other polygon argument, instead of to the default values?","body":"I notice that you&#39;re using <code>DEFAULT_SIDE_LENGTH</code> and <code>DEFAULT_SIDE_COUNT</code> instead of <code>polygon.getLength()</code> and <code>polygon.getSides()</code>. Is it possible you meant for the equals() method to compare to the other polygon argument, instead of to the default values?"},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1681449106,"post_id":76011722,"comment_id":134061004,"body_markdown":"but your equal methods says that they are NOT equal since (15.13 - 15.2 = ) 0.01 is NOT smaller than episilon 0.0000001d","body":"but your equal methods says that they are NOT equal since (15.13 - 15.2 = ) 0.01 is NOT smaller than episilon 0.0000001d"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1681450288,"post_id":76011722,"comment_id":134061145,"body_markdown":"What types of polygons are you dealing with for equality here?  There are three properties to check for polygon equality, but there are only checks for two of the three here.  I only see #1 and #3 here.  Or are you always comparing two polygons of the same type--decagon and same angles?  (1) number of sides (2) angles between sides (3) length of the sides.","body":"What types of polygons are you dealing with for equality here?  There are three properties to check for polygon equality, but there are only checks for two of the three here.  I only see #1 and #3 here.  Or are you always comparing two polygons of the same type--decagon and same angles?  (1) number of sides (2) angles between sides (3) length of the sides."},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1681454356,"post_id":76011722,"comment_id":134061775,"body_markdown":"This last comment was simply based on a link I found.  https://www.skillsyouneed.com/num/polygons.html","body":"This last comment was simply based on a link I found.  <a href=\"https://www.skillsyouneed.com/num/polygons.html\" rel=\"nofollow noreferrer\">skillsyouneed.com/num/polygons.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681454581,"creation_date":1681451186,"answer_id":76011930,"question_id":76011722,"body_markdown":"This is a good tutorial about Java object oriented programming concepts.\r\n\r\nhttps://turreta.com/2020/07/26/java-object-and-its-properties-and-behaviors/\r\n\r\nWhenever you have a class, any object instantiated with that class which calls a method of that class is the object (`this`) in question.  And any parameter with the same type of the class itself is the object you are comparing to, whenever the equals method is overridden.  This is true for a non static method, which you have.  For a static method, you would need to pass in both Polygon objects (two parameters).\r\n\r\nSo in your example, `poly1` is the instantiated object and `poly2` (Polygon polygon as parameter) is the compared object.  I just changed the object in reference to the properties length and sides.  I&#39;m assuming length is a property in your class and I&#39;m assuming sides is a property of your class.  The object `this` refers to `poly1` (instantiated object), but since we are in a method owned by `poly1`, we can refer to the object as `this`.  And `polygon` is the variable for the `poly2` object that is passed into the method parameter.\r\n\r\nMy answer is purely from an object oriented perspective!  I have no idea what the epsilon value is for, but I&#39;m assuming you know the math behind it.   I&#39;m assuming this is for percentage error checking with the observed value and the actual value, and nothing more.  And I&#39;m also assuming the type of polygon is the same for poly1 and poly2 when this method is called, with the exact same angles between sides.\r\n\r\n    public boolean equals(Polygon polygon){\r\n        boolean areEqual = false;\r\n        double episilon = 0.0000001d;\r\n        // double difference = Math.abs(this.length - polygon.length);\r\n        double difference = Math.abs(this.getLength() - polygon.getLength());\r\n        // if ((difference &lt; episilon) &amp;&amp; (this.sides == polygon.sides))\r\n        if ((difference &lt; episilon) &amp;&amp; (this.getSides() == polygon.getSides()))\r\n            areEqual = true;\r\n        return areEqual;\r\n    }\r\n\r\nThis assumes the Polygon class also has two properties.  Just make sure in your class constructor, you define these as parameters, and set the value of these properties in the class.  And in the comments of the question, there was mention of having a method getSides() and getLength().  I added these to the code above.  That is a cleaner way of getting the value of properties.  In fact, you may need to change the access modifier of the properties if you use the commented out lines of getting the properties directly, and it&#39;s not recommended in Java.\r\n\r\n    int sides = 0;\r\n    double length = 0;\r\n\r\n    public string getSides() {\r\n        return this.sides;\r\n    }\r\n    \r\n    public void getLength() {\r\n        return this.length\r\n    }\r\n\r\nSo if the method were static, then the method would NOT belong to a specific object, in which case you need two Polygon objects as parameters.  And you may need a different method name, since Object always has the method equals.  You were just overriding the equals method in the above version of the method.  This just shows the logic behind the Polygon class properties (length &amp; sides) you are checking in the logic, so it&#39;s easier to understand.  But your code is clearly for a non static method!  I believe your constants (variables in upper case) in your question was just a way to get the logic to work without understanding how objects work with object orientation.  Completely understandable.\r\n\r\n    public static boolean equals2(Polygon polygon1, Polygon polygon2){\r\n        boolean areEqual = false;\r\n        double episilon = 0.0000001d;\r\n        double difference = Math.abs(polygon1.length - polygon2.length);\r\n        if ((difference &lt; episilon) &amp;&amp; (polygon1.sides == polygon2.sides))\r\n            areEqual = true;\r\n        return areEqual;\r\n    }\r\n\r\nIn your question source code, `poly1` and `poly2` are already defined.  If you were to instantiate both objects yourself, they&#39;d look something like this.\r\n\r\n    Polygon poly1 = new Polygon(10, 5.13);\r\n    Polygon poly2 = new Polygon(10, 5.12);\r\n\r\nAssuming the constructor had a parameter sides and length respectively.  Inside the constructor, we are setting both properties for `this` object.\r\n\r\n    Polygon(int _sides, double _length){\r\n        System.out.println(&quot;Constructor with two parameters&quot;);\r\n        this.sides = _sides;\r\n        this.length = _length;\r\n    }","title":"Can&#39;t get boolean method to report correct results when comparing polygons in java","body":"<p>This is a good tutorial about Java object oriented programming concepts.</p>\n<p><a href=\"https://turreta.com/2020/07/26/java-object-and-its-properties-and-behaviors/\" rel=\"nofollow noreferrer\">https://turreta.com/2020/07/26/java-object-and-its-properties-and-behaviors/</a></p>\n<p>Whenever you have a class, any object instantiated with that class which calls a method of that class is the object (<code>this</code>) in question.  And any parameter with the same type of the class itself is the object you are comparing to, whenever the equals method is overridden.  This is true for a non static method, which you have.  For a static method, you would need to pass in both Polygon objects (two parameters).</p>\n<p>So in your example, <code>poly1</code> is the instantiated object and <code>poly2</code> (Polygon polygon as parameter) is the compared object.  I just changed the object in reference to the properties length and sides.  I'm assuming length is a property in your class and I'm assuming sides is a property of your class.  The object <code>this</code> refers to <code>poly1</code> (instantiated object), but since we are in a method owned by <code>poly1</code>, we can refer to the object as <code>this</code>.  And <code>polygon</code> is the variable for the <code>poly2</code> object that is passed into the method parameter.</p>\n<p>My answer is purely from an object oriented perspective!  I have no idea what the epsilon value is for, but I'm assuming you know the math behind it.   I'm assuming this is for percentage error checking with the observed value and the actual value, and nothing more.  And I'm also assuming the type of polygon is the same for poly1 and poly2 when this method is called, with the exact same angles between sides.</p>\n<pre><code>public boolean equals(Polygon polygon){\n    boolean areEqual = false;\n    double episilon = 0.0000001d;\n    // double difference = Math.abs(this.length - polygon.length);\n    double difference = Math.abs(this.getLength() - polygon.getLength());\n    // if ((difference &lt; episilon) &amp;&amp; (this.sides == polygon.sides))\n    if ((difference &lt; episilon) &amp;&amp; (this.getSides() == polygon.getSides()))\n        areEqual = true;\n    return areEqual;\n}\n</code></pre>\n<p>This assumes the Polygon class also has two properties.  Just make sure in your class constructor, you define these as parameters, and set the value of these properties in the class.  And in the comments of the question, there was mention of having a method getSides() and getLength().  I added these to the code above.  That is a cleaner way of getting the value of properties.  In fact, you may need to change the access modifier of the properties if you use the commented out lines of getting the properties directly, and it's not recommended in Java.</p>\n<pre><code>int sides = 0;\ndouble length = 0;\n\npublic string getSides() {\n    return this.sides;\n}\n\npublic void getLength() {\n    return this.length\n}\n</code></pre>\n<p>So if the method were static, then the method would NOT belong to a specific object, in which case you need two Polygon objects as parameters.  And you may need a different method name, since Object always has the method equals.  You were just overriding the equals method in the above version of the method.  This just shows the logic behind the Polygon class properties (length &amp; sides) you are checking in the logic, so it's easier to understand.  But your code is clearly for a non static method!  I believe your constants (variables in upper case) in your question was just a way to get the logic to work without understanding how objects work with object orientation.  Completely understandable.</p>\n<pre><code>public static boolean equals2(Polygon polygon1, Polygon polygon2){\n    boolean areEqual = false;\n    double episilon = 0.0000001d;\n    double difference = Math.abs(polygon1.length - polygon2.length);\n    if ((difference &lt; episilon) &amp;&amp; (polygon1.sides == polygon2.sides))\n        areEqual = true;\n    return areEqual;\n}\n</code></pre>\n<p>In your question source code, <code>poly1</code> and <code>poly2</code> are already defined.  If you were to instantiate both objects yourself, they'd look something like this.</p>\n<pre><code>Polygon poly1 = new Polygon(10, 5.13);\nPolygon poly2 = new Polygon(10, 5.12);\n</code></pre>\n<p>Assuming the constructor had a parameter sides and length respectively.  Inside the constructor, we are setting both properties for <code>this</code> object.</p>\n<pre><code>Polygon(int _sides, double _length){\n    System.out.println(&quot;Constructor with two parameters&quot;);\n    this.sides = _sides;\n    this.length = _length;\n}\n</code></pre>\n"}],"owner":{"account_id":28116113,"reputation":33,"user_id":21483200,"display_name":"GrasshopperAtBest"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681454581,"creation_date":1681448276,"question_id":76011722,"body_markdown":"I&#39;m trying to compare the inputted polygon object to the default polygon class values. All the other math calculations are correct and properly printed. The only thing I cannot figure out is why this boolean method is reporting back incorrectly. The comparison is the default polygon&#39;s number of sides and side length to the inputted polygon&#39;s # of sides and side length. If both are even, then the polygons are equal. Here&#39;s the code I wrote to represent that:\r\n\r\n    public boolean equals(Polygon polygon){\r\n        boolean areEqual = false;\r\n        double episilon = 0.0000001d;\r\n        double difference = Math.abs((DEFAULT_SIDE_LENGTH) - length);\r\n        if ((difference &lt; episilon) &amp;&amp; (DEFAULT_SIDE_COUNT == sides))\r\n            areEqual = true;\r\n        return areEqual;\r\n    }\r\nHere&#39;s the code to print the results:\r\n\r\n    public static void printIfEqual\r\n    (Polygon poly1, Polygon poly2) {\r\n        System.out.println(&quot;Before checking equals(), print polygons&quot;);\r\n        System.out.println(&quot;poly1: &quot; + poly1);\r\n        System.out.println(&quot;poly2: &quot; + poly2);\r\n        if (poly1.equals(poly2))\r\n            System.out.println(&quot;Polygons are equal.&quot;);\r\n        else\r\n            System.out.println(&quot;Polygons are NOT equal.&quot;);        \r\n    }\r\n\r\nThis is the result of the code:\r\n[![result of code][1]][1]\r\n\r\n\r\nThis is what it&#39;s supposed to be.  Notice how the fourth line from the bottom is different:\r\n\r\n[![What it should be][2]][2]\r\n\r\nThe only difference is the boolean return. I&#39;ve been playing around with the debugger but to no success\r\n\r\n  [1]: https://i.stack.imgur.com/sFqRQ.png\r\n  [2]: https://i.stack.imgur.com/V4LLd.png","title":"Can&#39;t get boolean method to report correct results when comparing polygons in java","body":"<p>I'm trying to compare the inputted polygon object to the default polygon class values. All the other math calculations are correct and properly printed. The only thing I cannot figure out is why this boolean method is reporting back incorrectly. The comparison is the default polygon's number of sides and side length to the inputted polygon's # of sides and side length. If both are even, then the polygons are equal. Here's the code I wrote to represent that:</p>\n<pre><code>public boolean equals(Polygon polygon){\n    boolean areEqual = false;\n    double episilon = 0.0000001d;\n    double difference = Math.abs((DEFAULT_SIDE_LENGTH) - length);\n    if ((difference &lt; episilon) &amp;&amp; (DEFAULT_SIDE_COUNT == sides))\n        areEqual = true;\n    return areEqual;\n}\n</code></pre>\n<p>Here's the code to print the results:</p>\n<pre><code>public static void printIfEqual\n(Polygon poly1, Polygon poly2) {\n    System.out.println(&quot;Before checking equals(), print polygons&quot;);\n    System.out.println(&quot;poly1: &quot; + poly1);\n    System.out.println(&quot;poly2: &quot; + poly2);\n    if (poly1.equals(poly2))\n        System.out.println(&quot;Polygons are equal.&quot;);\n    else\n        System.out.println(&quot;Polygons are NOT equal.&quot;);        \n}\n</code></pre>\n<p>This is the result of the code:\n<a href=\"https://i.stack.imgur.com/sFqRQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sFqRQ.png\" alt=\"result of code\" /></a></p>\n<p>This is what it's supposed to be.  Notice how the fourth line from the bottom is different:</p>\n<p><a href=\"https://i.stack.imgur.com/V4LLd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V4LLd.png\" alt=\"What it should be\" /></a></p>\n<p>The only difference is the boolean return. I've been playing around with the debugger but to no success</p>\n"},{"tags":["java","spring","rabbitmq","amqp","spring-amqp"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681391713,"creation_date":1681391713,"answer_id":76005888,"question_id":76003985,"body_markdown":"&gt;java.lang.NoClassDefFoundError: org/springframework/messaging/handler/invocation/MethodArgumentResolutionException\r\n\r\nYou seem to be missing `spring-messaging` from the class path (or a version that is incompatible, or the jar is corrupt somehow).\r\n\r\nShow your versions/dependencies.","title":"Rabbit Mq Not Consuming Messages after first message","body":"<blockquote>\n<p>java.lang.NoClassDefFoundError: org/springframework/messaging/handler/invocation/MethodArgumentResolutionException</p>\n</blockquote>\n<p>You seem to be missing <code>spring-messaging</code> from the class path (or a version that is incompatible, or the jar is corrupt somehow).</p>\n<p>Show your versions/dependencies.</p>\n"}],"owner":{"account_id":6445413,"reputation":129,"user_id":4994052,"display_name":"Prithivi Thiyagu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76005888,"answer_count":1,"score":0,"last_activity_date":1681454428,"creation_date":1681379073,"question_id":76003985,"body_markdown":"After posting message in queue, receiveing same message twice at the lisitener side.\r\nAfter receving the first message listner stops consuming furthe message . After i restart the listener application it picks the pending message in queue with duplicates.Also receving exception as .Same config is working with other queues                                              \r\n                                                                                           \r\n                                   \r\n                                            \r\n```\r\n SimpleMessageListenerContainer.run: 1251 | Consumer thread error, thread abort.\r\njava.lang.NoClassDefFoundError: org/springframework/messaging/handler/invocation/MethodArgumentResolutionException\r\n\tat org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler$DefaultExceptionStrategy.isCauseFatal(ConditionalRejectingErrorHandler.java:182)\r\n\tat org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler$DefaultExceptionStrategy.isFatal(ConditionalRejectingErrorHandler.java:169)\r\n\tat org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:104)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1383)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1667)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1442)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:958)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:908)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:81)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1279)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1185)\r\n\tat java.lang.Thread.run(Thread.java:750) \r\n\r\n&gt;SimpleMessageListenerContainer.killOrRestart: 1398 | Stopping container from aborted consumer\r\n&gt; Dpendency:\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n ","title":"Rabbit Mq Not Consuming Messages after first message","body":"<p>After posting message in queue, receiveing same message twice at the lisitener side.\nAfter receving the first message listner stops consuming furthe message . After i restart the listener application it picks the pending message in queue with duplicates.Also receving exception as .Same config is working with other queues</p>\n<pre><code> SimpleMessageListenerContainer.run: 1251 | Consumer thread error, thread abort.\njava.lang.NoClassDefFoundError: org/springframework/messaging/handler/invocation/MethodArgumentResolutionException\n    at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler$DefaultExceptionStrategy.isCauseFatal(ConditionalRejectingErrorHandler.java:182)\n    at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler$DefaultExceptionStrategy.isFatal(ConditionalRejectingErrorHandler.java:169)\n    at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:104)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1383)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1667)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1442)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:958)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:908)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:81)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1279)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1185)\n    at java.lang.Thread.run(Thread.java:750) \n\n&gt;SimpleMessageListenerContainer.killOrRestart: 1398 | Stopping container from aborted consumer\n&gt; Dpendency:\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n            &lt;version&gt;4.2.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n \n</code></pre>\n"},{"tags":["java","android","kotlin","opencv","canvas"],"owner":{"account_id":6597297,"reputation":751,"user_id":5096638,"display_name":"PalFS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681454099,"creation_date":1681454099,"question_id":76012194,"body_markdown":"I need to distort the image sub area from the selected shape in android application. I have searched online there are some techniques around it, we can use android canvas directly or open cv for that.\r\n\r\nWe can use image warping to do the desired effect using android canvas.\r\nHere is the code for that: https://github.com/jameswhite7/android_trapezoidal_imagewarp\r\n\r\nI have also tried in OpenCV using this code but its not working. \r\n\r\n    val originalBitmap: Bitmap = BitmapFactory.decodeResource(resources, R.drawable.my_image)\r\n    val rect: RectF = RectF(100f, 100f, 300f, 300f) // define the rectangle to be warped\r\n    \r\n    // Convert the bitmap to a Mat object\r\n    val originalMat: Mat = Mat(originalBitmap.height, originalBitmap.width, CvType.CV_8UC4)\r\n    Utils.bitmapToMat(originalBitmap, originalMat)\r\n    \r\n    // Convert the selected rectangle to a Mat object\r\n    val roiMat: Mat = originalMat.submat(Rect(rect.left.toInt(), rect.top.toInt(), rect.width().toInt(), rect.height().toInt()))\r\n    \r\n    // Convert the Mat objects to grayscale\r\n    val originalGrayMat: Mat = Mat(originalMat.size(), CvType.CV_8UC1)\r\n    Imgproc.cvtColor(originalMat, originalGrayMat, Imgproc.COLOR_RGBA2GRAY)\r\n    val roiGrayMat: Mat = Mat(roiMat.size(), CvType.CV_8UC1)\r\n    Imgproc.cvtColor(roiMat, roiGrayMat, Imgproc.COLOR_RGBA2GRAY)\r\n    \r\n    // Calculate the optical flow between the two grayscale Mats\r\n    val flow: Mat = Mat()\r\n    Video.calcOpticalFlowFarneback(originalGrayMat, roiGrayMat, flow, 0.5, 3, 15, 3, 5, 1.2, 0)\r\n    \r\n    // Apply the optical flow to the selected rectangle\r\n    val warpedRoiMat: Mat = Mat(roiMat.size(), CvType.CV_8UC4)\r\n    Imgproc.remap(roiMat, warpedRoiMat, flow, Mat(), Imgproc.INTER_LINEAR)\r\n    \r\n    // Copy the warped rectangle back to the original image\r\n    warpedRoiMat.copyTo(originalMat.submat(Rect(rect.left.toInt(), rect.top.toInt(), rect.width().toInt(), rect.height().toInt())))\r\n    \r\n    // Convert the Mat object back to a bitmap\r\n    val warpedBitmap: Bitmap = Bitmap.createBitmap(originalMat.cols(), originalMat.rows(), Bitmap.Config.ARGB_8888)\r\n    Utils.matToBitmap(originalMat, warpedBitmap)\r\n\r\nHere is another version that I have tried:\r\n\r\n    // Load the original bitmap image\r\n    val originalBitmap: Bitmap = BitmapFactory.decodeResource(resources, R.drawable.my_image)\r\n    \r\n    // Convert the bitmap to a Mat object\r\n    val originalMat: Mat = Mat(originalBitmap.height, originalBitmap.width, CvType.CV_8UC4)\r\n    Utils.bitmapToMat(originalBitmap, originalMat)\r\n    \r\n    // Define the points for the source (original) and destination (warped) rectangles\r\n    val srcPoints = MatOfPoint2f(\r\n            Point(0.0, 0.0),\r\n            Point(originalMat.cols().toDouble(), 0.0),\r\n            Point(originalMat.cols().toDouble(), originalMat.rows().toDouble()),\r\n            Point(0.0, originalMat.rows().toDouble())\r\n    )\r\n    val dstPoints = MatOfPoint2f(\r\n            Point(originalMat.cols() * 0.1, 0.0),\r\n            Point(originalMat.cols() * 0.9, 0.0),\r\n            Point(originalMat.cols().toDouble(), originalMat.rows().toDouble()),\r\n            Point(0.0, originalMat.rows().toDouble())\r\n    )\r\n    \r\n    // Calculate the perspective transformation matrix\r\n    val perspectiveTransform: Mat = Imgproc.getPerspectiveTransform(srcPoints, dstPoints)\r\n    \r\n    // Apply the perspective transformation to the original image\r\n    val warpedMat: Mat = Mat(originalMat.size(), originalMat.type())\r\n    Imgproc.warpPerspective(originalMat, warpedMat, perspectiveTransform, originalMat.size())\r\n    \r\n    // Convert the warped Mat object back to a bitmap\r\n    val warpedBitmap: Bitmap = Bitmap.createBitmap(warpedMat.cols(), warpedMat.rows(), Bitmap.Config.ARGB_8888)\r\n    Utils.matToBitmap(warpedMat, warpedBitmap)\r\n\r\nI want to add full bitmap behind the sub area so that when user apply distortion it can be applied on that. \r\n\r\nNeed help in applying this functionality.\r\n\r\nThanks\r\n","title":"How to distort image sub area only in android","body":"<p>I need to distort the image sub area from the selected shape in android application. I have searched online there are some techniques around it, we can use android canvas directly or open cv for that.</p>\n<p>We can use image warping to do the desired effect using android canvas.\nHere is the code for that: <a href=\"https://github.com/jameswhite7/android_trapezoidal_imagewarp\" rel=\"nofollow noreferrer\">https://github.com/jameswhite7/android_trapezoidal_imagewarp</a></p>\n<p>I have also tried in OpenCV using this code but its not working.</p>\n<pre><code>val originalBitmap: Bitmap = BitmapFactory.decodeResource(resources, R.drawable.my_image)\nval rect: RectF = RectF(100f, 100f, 300f, 300f) // define the rectangle to be warped\n\n// Convert the bitmap to a Mat object\nval originalMat: Mat = Mat(originalBitmap.height, originalBitmap.width, CvType.CV_8UC4)\nUtils.bitmapToMat(originalBitmap, originalMat)\n\n// Convert the selected rectangle to a Mat object\nval roiMat: Mat = originalMat.submat(Rect(rect.left.toInt(), rect.top.toInt(), rect.width().toInt(), rect.height().toInt()))\n\n// Convert the Mat objects to grayscale\nval originalGrayMat: Mat = Mat(originalMat.size(), CvType.CV_8UC1)\nImgproc.cvtColor(originalMat, originalGrayMat, Imgproc.COLOR_RGBA2GRAY)\nval roiGrayMat: Mat = Mat(roiMat.size(), CvType.CV_8UC1)\nImgproc.cvtColor(roiMat, roiGrayMat, Imgproc.COLOR_RGBA2GRAY)\n\n// Calculate the optical flow between the two grayscale Mats\nval flow: Mat = Mat()\nVideo.calcOpticalFlowFarneback(originalGrayMat, roiGrayMat, flow, 0.5, 3, 15, 3, 5, 1.2, 0)\n\n// Apply the optical flow to the selected rectangle\nval warpedRoiMat: Mat = Mat(roiMat.size(), CvType.CV_8UC4)\nImgproc.remap(roiMat, warpedRoiMat, flow, Mat(), Imgproc.INTER_LINEAR)\n\n// Copy the warped rectangle back to the original image\nwarpedRoiMat.copyTo(originalMat.submat(Rect(rect.left.toInt(), rect.top.toInt(), rect.width().toInt(), rect.height().toInt())))\n\n// Convert the Mat object back to a bitmap\nval warpedBitmap: Bitmap = Bitmap.createBitmap(originalMat.cols(), originalMat.rows(), Bitmap.Config.ARGB_8888)\nUtils.matToBitmap(originalMat, warpedBitmap)\n</code></pre>\n<p>Here is another version that I have tried:</p>\n<pre><code>// Load the original bitmap image\nval originalBitmap: Bitmap = BitmapFactory.decodeResource(resources, R.drawable.my_image)\n\n// Convert the bitmap to a Mat object\nval originalMat: Mat = Mat(originalBitmap.height, originalBitmap.width, CvType.CV_8UC4)\nUtils.bitmapToMat(originalBitmap, originalMat)\n\n// Define the points for the source (original) and destination (warped) rectangles\nval srcPoints = MatOfPoint2f(\n        Point(0.0, 0.0),\n        Point(originalMat.cols().toDouble(), 0.0),\n        Point(originalMat.cols().toDouble(), originalMat.rows().toDouble()),\n        Point(0.0, originalMat.rows().toDouble())\n)\nval dstPoints = MatOfPoint2f(\n        Point(originalMat.cols() * 0.1, 0.0),\n        Point(originalMat.cols() * 0.9, 0.0),\n        Point(originalMat.cols().toDouble(), originalMat.rows().toDouble()),\n        Point(0.0, originalMat.rows().toDouble())\n)\n\n// Calculate the perspective transformation matrix\nval perspectiveTransform: Mat = Imgproc.getPerspectiveTransform(srcPoints, dstPoints)\n\n// Apply the perspective transformation to the original image\nval warpedMat: Mat = Mat(originalMat.size(), originalMat.type())\nImgproc.warpPerspective(originalMat, warpedMat, perspectiveTransform, originalMat.size())\n\n// Convert the warped Mat object back to a bitmap\nval warpedBitmap: Bitmap = Bitmap.createBitmap(warpedMat.cols(), warpedMat.rows(), Bitmap.Config.ARGB_8888)\nUtils.matToBitmap(warpedMat, warpedBitmap)\n</code></pre>\n<p>I want to add full bitmap behind the sub area so that when user apply distortion it can be applied on that.</p>\n<p>Need help in applying this functionality.</p>\n<p>Thanks</p>\n"},{"tags":["java","javafx","visual-studio-2022"],"comments":[{"owner":{"account_id":26704455,"reputation":11,"user_id":20310916,"display_name":"wallyyopp"},"score":0,"creation_date":1681262156,"post_id":75990154,"comment_id":134027085,"body_markdown":"@GiovanniContreras no..The question is How can I use javafx in Visual Studio community 2022","body":"@GiovanniContreras no..The question is How can I use javafx in Visual Studio community 2022"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1681265216,"post_id":75990154,"comment_id":134027341,"body_markdown":"https://learn.microsoft.com/en-us/answers/questions/406652/is-it-possible-to-program-with-java-using-microsof","body":"<a href=\"https://learn.microsoft.com/en-us/answers/questions/406652/is-it-possible-to-program-with-java-using-microsof\" rel=\"nofollow noreferrer\" title=\"is it possible to program with java using microsof\">learn.microsoft.com/en-us/answers/questions/406652/&hellip;</a>"},{"owner":{"account_id":26704455,"reputation":11,"user_id":20310916,"display_name":"wallyyopp"},"score":1,"creation_date":1681266326,"post_id":75990154,"comment_id":134027432,"body_markdown":"@SedJ601 Thank you. Short answer is that it is not supported :)","body":"@SedJ601 Thank you. Short answer is that it is not supported :)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1681466074,"post_id":75990154,"comment_id":134064420,"body_markdown":"@SedJ601 hmm ..  the answer https://stackoverflow.com/a/76012042/203657 seems to have found a way - which is wrong: the reference or the answer? Just wondering, I&#39;m not using VS in any version :)","body":"@SedJ601 hmm ..  the answer <a href=\"https://stackoverflow.com/a/76012042/203657\">stackoverflow.com/a/76012042/203657</a> seems to have found a way - which is wrong: the reference or the answer? Just wondering, I&#39;m not using VS in any version :)"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1681496541,"post_id":75990154,"comment_id":134071579,"body_markdown":"@kleopatra, interesting. I personally would avoid using Visual Studios Community for `Java`. I do use it for `C#` regularly.","body":"@kleopatra, interesting. I personally would avoid using Visual Studios Community for <code>Java</code>. I do use it for <code>C#</code> regularly."}],"answers":[{"tags":[],"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681452660,"creation_date":1681452660,"answer_id":76012042,"question_id":75990154,"body_markdown":"1. JavaFX is no longer included as part of the JDK, it became separate project OpenJFX https://openjfx.io/ \r\n2. To use JavaFX in Visual Studio Community 2022, firstly make sure that JDK is installed, if not you can install from the following link https://www.oracle.com/kr/java/technologies/downloads/\r\n3. Then install the JavaFX SDK(oracle or gluonhq)  https://www.oracle.com/java/technologies/install-javafx-sdk.html\r\n4. Configure the Visual Studio to use JDK and JavaFX SDK. In Visual Studio: go to\r\n\r\n   `Tools-&gt;Options-&gt;Java-&gt;&quot;JDK_Directory&quot;`\r\n\r\n   `Tools-&gt;Options-&gt;Java-&gt;&quot;JavaFX_SDK_Directory&quot;`\r\n5. Create new java project and set the path to the JavaFX SDK installation directory\r\n6. In new created java project, add the JavaFX libraries to your project. Right click on your project and select `Properties`. In the properties window, select `Java Build Path` tab and click `Add External JARs` button. Go to your JavaFX lib folder then select all the `jar` files. After doing above steps it JavaFX project should run successfully.\r\n\r\n7. Lastly, from my personal experience, if you want to use JavaFX a lot in your projects, I would suggest `IntelliJ IDEA IDE Ultimate` version, because it has JavaFX built in plugins, so it doesn&#39;t require you to install extra configurations. IntelliJ IDEA is very advised to work with JavaFX projects.\r\n","title":"Java/JavaFX in Visual Studio Community 2022","body":"<ol>\n<li><p>JavaFX is no longer included as part of the JDK, it became separate project OpenJFX <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">https://openjfx.io/</a></p>\n</li>\n<li><p>To use JavaFX in Visual Studio Community 2022, firstly make sure that JDK is installed, if not you can install from the following link <a href=\"https://www.oracle.com/kr/java/technologies/downloads/\" rel=\"nofollow noreferrer\">https://www.oracle.com/kr/java/technologies/downloads/</a></p>\n</li>\n<li><p>Then install the JavaFX SDK(oracle or gluonhq)  <a href=\"https://www.oracle.com/java/technologies/install-javafx-sdk.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/install-javafx-sdk.html</a></p>\n</li>\n<li><p>Configure the Visual Studio to use JDK and JavaFX SDK. In Visual Studio: go to</p>\n<p><code>Tools-&gt;Options-&gt;Java-&gt;&quot;JDK_Directory&quot;</code></p>\n<p><code>Tools-&gt;Options-&gt;Java-&gt;&quot;JavaFX_SDK_Directory&quot;</code></p>\n</li>\n<li><p>Create new java project and set the path to the JavaFX SDK installation directory</p>\n</li>\n<li><p>In new created java project, add the JavaFX libraries to your project. Right click on your project and select <code>Properties</code>. In the properties window, select <code>Java Build Path</code> tab and click <code>Add External JARs</code> button. Go to your JavaFX lib folder then select all the <code>jar</code> files. After doing above steps it JavaFX project should run successfully.</p>\n</li>\n<li><p>Lastly, from my personal experience, if you want to use JavaFX a lot in your projects, I would suggest <code>IntelliJ IDEA IDE Ultimate</code> version, because it has JavaFX built in plugins, so it doesn't require you to install extra configurations. IntelliJ IDEA is very advised to work with JavaFX projects.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":26704455,"reputation":11,"user_id":20310916,"display_name":"wallyyopp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":727,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681452660,"creation_date":1681247360,"question_id":75990154,"body_markdown":"Is there a way to make JavaFX/Java work in visual studio 2022? Every tutorial shows VSCode but I am looking to try and do a project in Visual studio 2022 for collaborative efforts. \r\n","title":"Java/JavaFX in Visual Studio Community 2022","body":"<p>Is there a way to make JavaFX/Java work in visual studio 2022? Every tutorial shows VSCode but I am looking to try and do a project in Visual studio 2022 for collaborative efforts.</p>\n"},{"tags":["python","java","algorithm","optimization","linear-programming"],"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1679861901,"post_id":75840798,"comment_id":133792585,"body_markdown":"How do each of the columns correspond to the last one?","body":"How do each of the columns correspond to the last one?"},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1680020358,"post_id":75840798,"comment_id":133824006,"body_markdown":"Still not very sure how you are calculating PnL.\nBut this seems to me like a linear regression problem.","body":"Still not very sure how you are calculating PnL. But this seems to me like a linear regression problem."},{"owner":{"account_id":1187182,"reputation":31,"user_id":1160919,"display_name":"Amar"},"score":0,"creation_date":1680083780,"post_id":75840798,"comment_id":133835698,"body_markdown":"@ryanwebjackson the PnL values are from actual trades and variable values are captured at the entry time of those trades. so PnL values are not calculated using the variables.","body":"@ryanwebjackson the PnL values are from actual trades and variable values are captured at the entry time of those trades. so PnL values are not calculated using the variables."},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":1,"creation_date":1680095435,"post_id":75840798,"comment_id":133838794,"body_markdown":"Are you saying that you&#39;re trying to find mix/max of pnl dynamically and it&#39;s too slow on the machine you are running on? Please share that relevant code if so.","body":"Are you saying that you&#39;re trying to find mix/max of pnl dynamically and it&#39;s too slow on the machine you are running on? Please share that relevant code if so."},{"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"score":0,"creation_date":1680131526,"post_id":75840798,"comment_id":133847796,"body_markdown":"Have you actually run your algorithm on your sample data? What outputs do you expect to get for it?","body":"Have you actually run your algorithm on your sample data? What outputs do you expect to get for it?"},{"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"score":0,"creation_date":1680131921,"post_id":75840798,"comment_id":133847844,"body_markdown":"I&#39;ve written a local LP implementation, and for your sample data the optimal thing to do for subsets of your data above the first ~10 rows is to select nothing. Are the data randomly generated? If so this is expected and your sample data need to be more realistic.","body":"I&#39;ve written a local LP implementation, and for your sample data the optimal thing to do for subsets of your data above the first ~10 rows is to select nothing. Are the data randomly generated? If so this is expected and your sample data need to be more realistic."},{"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"score":0,"creation_date":1680279952,"post_id":75840798,"comment_id":133877060,"body_markdown":"Don&#39;t link a gist; you need to embed your code","body":"Don&#39;t link a gist; you need to embed your code"},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1680293686,"post_id":75840798,"comment_id":133879991,"body_markdown":"varMinMaxConditions seems arbitrary - why are you looping to create this, and what is the significance of 19?","body":"varMinMaxConditions seems arbitrary - why are you looping to create this, and what is the significance of 19?"},{"owner":{"account_id":1187182,"reputation":31,"user_id":1160919,"display_name":"Amar"},"score":0,"creation_date":1680308557,"post_id":75840798,"comment_id":133882052,"body_markdown":"@ryanwebjackson varMinMaxConditions has min/max conditions of all vars to check if row PnL has to be included or not. each var value is: 0 &lt;= var &amp;&amp; var &lt;= 19","body":"@ryanwebjackson varMinMaxConditions has min/max conditions of all vars to check if row PnL has to be included or not. each var value is: 0 &lt;= var &amp;&amp; var &lt;= 19"},{"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"score":0,"creation_date":1680654188,"post_id":75840798,"comment_id":133933987,"body_markdown":"Your brute-force approach does not show its output. When I run the example data it processes, the optimal strategy is to select only one row, so it&#39;s not a very good illustration, and I expect that for larger-scale problems (which it seems your brute-force solution has not attempted at all), the original problem remains: for the construction of your problem, unless the `v` dimensions are highly correlated, the best strategy will be to select nothing.","body":"Your brute-force approach does not show its output. When I run the example data it processes, the optimal strategy is to select only one row, so it&#39;s not a very good illustration, and I expect that for larger-scale problems (which it seems your brute-force solution has not attempted at all), the original problem remains: for the construction of your problem, unless the <code>v</code> dimensions are highly correlated, the best strategy will be to select nothing."}],"answers":[{"tags":[],"owner":{"account_id":28013032,"reputation":7,"user_id":21395238,"display_name":"Eddy"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1680063240,"creation_date":1680063240,"answer_id":75873079,"question_id":75840798,"body_markdown":"To determine the minimum and maximum change rates that result in maximum PnL (Profit and Loss).\r\n\r\nWe can perform an optimization analysis. it involves defining an objective function that represents profit and loss, then identifying the number of coefficients for each variable that maximizes this function.\r\n\r\n- **Define your objective function:** Start by defining the function that represents your profit and loss. This function. takes input of the values ​​of the variables that we are optimizing for, and outputs the corresponding profit and loss value.\r\n\r\n- **Identify the changes:** Identify the changes what we want to optimize for. These are usually inputs to your value function.\r\n\r\n - **Set constraints:** Define any constraints that limit the values ​​of\r\n   each variable.\r\n    - For example, if a variable represents the number of\r\n      units you can produce, then it may be limited by resources or time. \r\n   \r\n-  **Choose an optimization algorithm:** There are many algorithms you can\r\n   use to optimize your objective function, such as gradient descent,\r\n   genetic algorithms, or simulated annealing\r\n   \r\n -  **Perform the optimization:** Run the optimization algorithm for\r\n   the objective function with all of the constraints and wait for the solution.\r\n   \r\n -  **Check the results:** When the optimization is completed, consider the\r\n   result value for each variable and the corresponding Profit and Loss value.\r\n\r\n\r\n## Example ##\r\n\r\nSuppose you are a farmer who wants to maximize the profit from selling crops. You have two variables to optimize for: the number of acres to plant and the amount of fertilizer to use per acre.\r\n\r\n&gt; **Profit = (Price per unit of crop * Yield per acre * Number of acres) - (Cost per unit of fertilizer * Amount of fertilizer per acre * Number of acres)**\r\n\r\n- where Price per unit of the crop is the price you can sell the crop for, Yield per acre is the expected yield per acre\r\n\r\n- Cost per unit of fertilizer is the cost of buying fertilizer per unit\r\n\r\n- Amount of fertilizer per acre is the amount of fertilizer you use per acre.\r\n\r\n### Constraints: ###\r\n\r\n- You have 100 acres of land available to plant.\r\n- You can use at most 500 units of fertilizer.\r\n\r\n## Approach ##\r\n\r\nTo solve this problem we can use an optimization algorithm like linear programming.\r\n\r\nHere are the steps involved:\r\n\r\n- Formulate the objective function in terms of linear equations/inequalities.\r\n\r\n    \r\n\r\n&gt; **Objective function: Maximize Profit = 10 * Yield * A - 2 * F * A**\r\n\r\nwhere A is the number of acres, F is the amount of fertilizer per acre, and Yield is the yield per acre.\r\n\r\n- Implement the linear programming algorithm to find the optimal values of A, F, and Yield that maximize the profit.\r\n\r\n- Evaluate the results and check if they make sense. For example, if algorithm suggests that use 200 acres and 400 units of fertilizer, you can check if this is feasible and profitable from a business perspective.","title":"Find min max range of multiple variables the results in maximum PnL","body":"<p>To determine the minimum and maximum change rates that result in maximum PnL (Profit and Loss).</p>\n<p>We can perform an optimization analysis. it involves defining an objective function that represents profit and loss, then identifying the number of coefficients for each variable that maximizes this function.</p>\n<ul>\n<li><p><strong>Define your objective function:</strong> Start by defining the function that represents your profit and loss. This function. takes input of the values ​​of the variables that we are optimizing for, and outputs the corresponding profit and loss value.</p>\n</li>\n<li><p><strong>Identify the changes:</strong> Identify the changes what we want to optimize for. These are usually inputs to your value function.</p>\n</li>\n<li><p><strong>Set constraints:</strong> Define any constraints that limit the values ​​of\neach variable.</p>\n<ul>\n<li>For example, if a variable represents the number of\nunits you can produce, then it may be limited by resources or time.</li>\n</ul>\n</li>\n<li><p><strong>Choose an optimization algorithm:</strong> There are many algorithms you can\nuse to optimize your objective function, such as gradient descent,\ngenetic algorithms, or simulated annealing</p>\n</li>\n<li><p><strong>Perform the optimization:</strong> Run the optimization algorithm for\nthe objective function with all of the constraints and wait for the solution.</p>\n</li>\n<li><p><strong>Check the results:</strong> When the optimization is completed, consider the\nresult value for each variable and the corresponding Profit and Loss value.</p>\n</li>\n</ul>\n<h2>Example</h2>\n<p>Suppose you are a farmer who wants to maximize the profit from selling crops. You have two variables to optimize for: the number of acres to plant and the amount of fertilizer to use per acre.</p>\n<blockquote>\n<p><strong>Profit = (Price per unit of crop * Yield per acre * Number of acres) - (Cost per unit of fertilizer * Amount of fertilizer per acre * Number of acres)</strong></p>\n</blockquote>\n<ul>\n<li><p>where Price per unit of the crop is the price you can sell the crop for, Yield per acre is the expected yield per acre</p>\n</li>\n<li><p>Cost per unit of fertilizer is the cost of buying fertilizer per unit</p>\n</li>\n<li><p>Amount of fertilizer per acre is the amount of fertilizer you use per acre.</p>\n</li>\n</ul>\n<h3>Constraints:</h3>\n<ul>\n<li>You have 100 acres of land available to plant.</li>\n<li>You can use at most 500 units of fertilizer.</li>\n</ul>\n<h2>Approach</h2>\n<p>To solve this problem we can use an optimization algorithm like linear programming.</p>\n<p>Here are the steps involved:</p>\n<ul>\n<li>Formulate the objective function in terms of linear equations/inequalities.</li>\n</ul>\n<blockquote>\n<p><strong>Objective function: Maximize Profit = 10 * Yield * A - 2 * F * A</strong></p>\n</blockquote>\n<p>where A is the number of acres, F is the amount of fertilizer per acre, and Yield is the yield per acre.</p>\n<ul>\n<li><p>Implement the linear programming algorithm to find the optimal values of A, F, and Yield that maximize the profit.</p>\n</li>\n<li><p>Evaluate the results and check if they make sense. For example, if algorithm suggests that use 200 acres and 400 units of fertilizer, you can check if this is feasible and profitable from a business perspective.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680133815,"creation_date":1680133141,"answer_id":75883015,"question_id":75840798,"body_markdown":"Linear programming is a viable approach, made a little tricky by the fact that your range constraints need to fit into two cases:\r\n\r\n- When a row needs to be included, it needs to fit within the range when the assignment boolean is high (or relaxed constraints when it&#39;s low) - easy, but...\r\n- When a row needs to be _excluded_, it needs to be _outside_ of the range. This is easier said than done. Enforcing a range exclusion, as [Cornell University](https://optimization.cbe.cornell.edu/index.php?title=Optimization_with_absolute_values#Form_when_.7F.27.22.60UNIQ--postMath-00000013-QINU.60.22.27.7F) writes, is non-convex and requires a new binary variable for each element.\r\n\r\nThis approach is able to run pretty quickly on your sample of 150 rows. However, those sample data are (I&#39;m guessing) randomly generated, and as such are uniquely terrible for this algorithm: for a perfectly uniform distribution of your input variables, as the number of rows increases, the optimal strategy will always be to select nothing.\r\n\r\nRunning on this toy example instead:\r\n\r\n```csv\r\nv1,v2,v3,v4,v5,PnL\r\n1,3,3,3,3,-500\r\n2,4,4,4,4,100\r\n2,4,5,4,5,100\r\n4,7,7,7,7,100\r\n5,8,8,8,8,-500\r\n6,9,9,9,9,150\r\n```\r\n\r\nis much more illustrative of what a successful algorithm should do, and indeed, it produces a sensible choice:\r\n\r\n```none\r\nPnL total: 300.00\r\nAssigned rows: 3/6\r\nBounds:\r\n    lower  upper\r\nv1    1.5    4.0\r\nv2    3.5    7.0\r\nv3    3.5    7.0\r\nv4    3.5    7.0\r\nv5    3.5    7.0\r\n```\r\n\r\nImplementation\r\n-------------\r\n\r\nShown in Python for brevity.\r\n\r\n```python\r\nimport pandas as pd\r\nimport pulp\r\n\r\n\r\ndef make_col_vars(v_name: str) -&gt; pd.Series:\r\n    lower = pulp.LpVariable(name=&#39;lower_&#39; + v_name, lowBound=0, upBound=19)\r\n    upper = pulp.LpVariable(name=&#39;upper_&#39; + v_name, lowBound=0, upBound=19)\r\n    prob.addConstraint(name=&#39;interval_&#39; + v_name, constraint=lower &lt;= upper)\r\n    return pd.Series(data=(lower, upper), index=(&#39;lower&#39;, &#39;upper&#39;))\r\n\r\n\r\ndef make_row_vars(row: pd.Series) -&gt; pd.Series:\r\n    assign = pulp.LpVariable(name=f&#39;asn_{row.idx:03.0f}&#39;, cat=pulp.LpBinary)\r\n\r\n    for v_name, v in row[:-2].iteritems():\r\n        v_bounds = bounds.loc[v_name]\r\n        suffix = f&#39;_{v_name}_{row.idx:03.0f}&#39;\r\n\r\n        # If assign, then v_bounds.lower &lt;= v &lt;= v_bounds.upper\r\n        prob.addConstraint(name=&#39;lower_in&#39; + suffix, constraint=v &gt;= v_bounds.lower - 25*(1 - assign))\r\n        prob.addConstraint(name=&#39;upper_in&#39; + suffix, constraint=v &lt;= v_bounds.upper + 25*(1 - assign))\r\n\r\n        # otherwise v must be outside of those bounds\r\n        # v &lt;= lower-1 || upper+1 &lt;= v\r\n\r\n        is_upper = pulp.LpVariable(name=&#39;is_upper&#39; + suffix, cat=pulp.LpBinary)\r\n        # enforce if is_upper &amp;&amp; !assigned\r\n        prob.addConstraint(name=&#39;upper_out&#39; + suffix, constraint=v &gt;= v_bounds.upper+0.5 - 25*(assign - is_upper + 1))\r\n        # enforce if !is_upper &amp;&amp; !assigned\r\n        prob.addConstraint(name=&#39;lower_out&#39; + suffix, constraint=v &lt;= v_bounds.lower-0.5 + 25*(assign + is_upper))\r\n\r\n    return pd.Series((assign,))\r\n\r\n\r\ndf = pd.read_csv(&#39;Optimize-MinMax.csv&#39;)\r\nprob = pulp.LpProblem(name=&#39;profit_loss&#39;, sense=pulp.LpMaximize)\r\nbounds = df.columns[:-1].to_series().apply(make_col_vars)\r\ndf[&#39;idx&#39;] = df.index\r\ndf[&#39;assign&#39;] = df.apply(make_row_vars, axis=1)\r\n\r\nprob.objective = pulp.lpDot(df.PnL, df[&#39;assign&#39;])\r\n\r\nprint(prob)\r\nprob.solve()\r\nassert prob.status == pulp.const.LpStatusOptimal\r\n\r\nprint(f&#39;PnL total: {prob.objective.value():.2f}&#39;)\r\nn_assigned = df[&quot;assign&quot;].apply(pulp.LpVariable.value).sum()\r\nprint(f&#39;Assigned rows: {n_assigned:.0f}/{len(df)}&#39;)\r\nprint(&#39;Bounds:&#39;)\r\nprint(bounds.applymap(pulp.LpVariable.value))\r\n```\r\n\r\nOutput\r\n------\r\n\r\n```none\r\nprofit_loss:\r\nMAXIMIZE\r\n-500*asn_000 + 100*asn_001 + 100*asn_002 + 100*asn_003 + -500*asn_004 + 150*asn_005 + 0\r\nSUBJECT TO\r\ninterval_v1: lower_v1 - upper_v1 &lt;= 0\r\n\r\ninterval_v2: lower_v2 - upper_v2 &lt;= 0\r\n\r\ninterval_v3: lower_v3 - upper_v3 &lt;= 0\r\n\r\ninterval_v4: lower_v4 - upper_v4 &lt;= 0\r\n\r\ninterval_v5: lower_v5 - upper_v5 &lt;= 0\r\n\r\nlower_in_v1_000: 25 asn_000 + lower_v1 &lt;= 26\r\n\r\nupper_in_v1_000: - 25 asn_000 + upper_v1 &gt;= -24\r\n\r\nupper_out_v1_000: - 25 asn_000 + 25 is_upper_v1_000 + upper_v1 &lt;= 25.5\r\n\r\nlower_out_v1_000: 25 asn_000 + 25 is_upper_v1_000 + lower_v1 &gt;= 1.5\r\n\r\nlower_in_v2_000: 25 asn_000 + lower_v2 &lt;= 28\r\n\r\nupper_in_v2_000: - 25 asn_000 + upper_v2 &gt;= -22\r\n\r\nupper_out_v2_000: - 25 asn_000 + 25 is_upper_v2_000 + upper_v2 &lt;= 27.5\r\n\r\nlower_out_v2_000: 25 asn_000 + 25 is_upper_v2_000 + lower_v2 &gt;= 3.5\r\n\r\nlower_in_v3_000: 25 asn_000 + lower_v3 &lt;= 28\r\n\r\nupper_in_v3_000: - 25 asn_000 + upper_v3 &gt;= -22\r\n\r\nupper_out_v3_000: - 25 asn_000 + 25 is_upper_v3_000 + upper_v3 &lt;= 27.5\r\n\r\nlower_out_v3_000: 25 asn_000 + 25 is_upper_v3_000 + lower_v3 &gt;= 3.5\r\n\r\nlower_in_v4_000: 25 asn_000 + lower_v4 &lt;= 28\r\n\r\nupper_in_v4_000: - 25 asn_000 + upper_v4 &gt;= -22\r\n\r\nupper_out_v4_000: - 25 asn_000 + 25 is_upper_v4_000 + upper_v4 &lt;= 27.5\r\n\r\nlower_out_v4_000: 25 asn_000 + 25 is_upper_v4_000 + lower_v4 &gt;= 3.5\r\n\r\nlower_in_v5_000: 25 asn_000 + lower_v5 &lt;= 28\r\n\r\nupper_in_v5_000: - 25 asn_000 + upper_v5 &gt;= -22\r\n\r\nupper_out_v5_000: - 25 asn_000 + 25 is_upper_v5_000 + upper_v5 &lt;= 27.5\r\n\r\nlower_out_v5_000: 25 asn_000 + 25 is_upper_v5_000 + lower_v5 &gt;= 3.5\r\n\r\nlower_in_v1_001: 25 asn_001 + lower_v1 &lt;= 27\r\n\r\nupper_in_v1_001: - 25 asn_001 + upper_v1 &gt;= -23\r\n\r\nupper_out_v1_001: - 25 asn_001 + 25 is_upper_v1_001 + upper_v1 &lt;= 26.5\r\n\r\nlower_out_v1_001: 25 asn_001 + 25 is_upper_v1_001 + lower_v1 &gt;= 2.5\r\n\r\nlower_in_v2_001: 25 asn_001 + lower_v2 &lt;= 29\r\n\r\nupper_in_v2_001: - 25 asn_001 + upper_v2 &gt;= -21\r\n\r\nupper_out_v2_001: - 25 asn_001 + 25 is_upper_v2_001 + upper_v2 &lt;= 28.5\r\n\r\nlower_out_v2_001: 25 asn_001 + 25 is_upper_v2_001 + lower_v2 &gt;= 4.5\r\n\r\nlower_in_v3_001: 25 asn_001 + lower_v3 &lt;= 29\r\n\r\nupper_in_v3_001: - 25 asn_001 + upper_v3 &gt;= -21\r\n\r\nupper_out_v3_001: - 25 asn_001 + 25 is_upper_v3_001 + upper_v3 &lt;= 28.5\r\n\r\nlower_out_v3_001: 25 asn_001 + 25 is_upper_v3_001 + lower_v3 &gt;= 4.5\r\n\r\nlower_in_v4_001: 25 asn_001 + lower_v4 &lt;= 29\r\n\r\nupper_in_v4_001: - 25 asn_001 + upper_v4 &gt;= -21\r\n\r\nupper_out_v4_001: - 25 asn_001 + 25 is_upper_v4_001 + upper_v4 &lt;= 28.5\r\n\r\nlower_out_v4_001: 25 asn_001 + 25 is_upper_v4_001 + lower_v4 &gt;= 4.5\r\n\r\nlower_in_v5_001: 25 asn_001 + lower_v5 &lt;= 29\r\n\r\nupper_in_v5_001: - 25 asn_001 + upper_v5 &gt;= -21\r\n\r\nupper_out_v5_001: - 25 asn_001 + 25 is_upper_v5_001 + upper_v5 &lt;= 28.5\r\n\r\nlower_out_v5_001: 25 asn_001 + 25 is_upper_v5_001 + lower_v5 &gt;= 4.5\r\n\r\nlower_in_v1_002: 25 asn_002 + lower_v1 &lt;= 27\r\n\r\nupper_in_v1_002: - 25 asn_002 + upper_v1 &gt;= -23\r\n\r\nupper_out_v1_002: - 25 asn_002 + 25 is_upper_v1_002 + upper_v1 &lt;= 26.5\r\n\r\nlower_out_v1_002: 25 asn_002 + 25 is_upper_v1_002 + lower_v1 &gt;= 2.5\r\n\r\nlower_in_v2_002: 25 asn_002 + lower_v2 &lt;= 29\r\n\r\nupper_in_v2_002: - 25 asn_002 + upper_v2 &gt;= -21\r\n\r\nupper_out_v2_002: - 25 asn_002 + 25 is_upper_v2_002 + upper_v2 &lt;= 28.5\r\n\r\nlower_out_v2_002: 25 asn_002 + 25 is_upper_v2_002 + lower_v2 &gt;= 4.5\r\n\r\nlower_in_v3_002: 25 asn_002 + lower_v3 &lt;= 30\r\n\r\nupper_in_v3_002: - 25 asn_002 + upper_v3 &gt;= -20\r\n\r\nupper_out_v3_002: - 25 asn_002 + 25 is_upper_v3_002 + upper_v3 &lt;= 29.5\r\n\r\nlower_out_v3_002: 25 asn_002 + 25 is_upper_v3_002 + lower_v3 &gt;= 5.5\r\n\r\nlower_in_v4_002: 25 asn_002 + lower_v4 &lt;= 29\r\n\r\nupper_in_v4_002: - 25 asn_002 + upper_v4 &gt;= -21\r\n\r\nupper_out_v4_002: - 25 asn_002 + 25 is_upper_v4_002 + upper_v4 &lt;= 28.5\r\n\r\nlower_out_v4_002: 25 asn_002 + 25 is_upper_v4_002 + lower_v4 &gt;= 4.5\r\n\r\nlower_in_v5_002: 25 asn_002 + lower_v5 &lt;= 30\r\n\r\nupper_in_v5_002: - 25 asn_002 + upper_v5 &gt;= -20\r\n\r\nupper_out_v5_002: - 25 asn_002 + 25 is_upper_v5_002 + upper_v5 &lt;= 29.5\r\n\r\nlower_out_v5_002: 25 asn_002 + 25 is_upper_v5_002 + lower_v5 &gt;= 5.5\r\n\r\nlower_in_v1_003: 25 asn_003 + lower_v1 &lt;= 29\r\n\r\nupper_in_v1_003: - 25 asn_003 + upper_v1 &gt;= -21\r\n\r\nupper_out_v1_003: - 25 asn_003 + 25 is_upper_v1_003 + upper_v1 &lt;= 28.5\r\n\r\nlower_out_v1_003: 25 asn_003 + 25 is_upper_v1_003 + lower_v1 &gt;= 4.5\r\n\r\nlower_in_v2_003: 25 asn_003 + lower_v2 &lt;= 32\r\n\r\nupper_in_v2_003: - 25 asn_003 + upper_v2 &gt;= -18\r\n\r\nupper_out_v2_003: - 25 asn_003 + 25 is_upper_v2_003 + upper_v2 &lt;= 31.5\r\n\r\nlower_out_v2_003: 25 asn_003 + 25 is_upper_v2_003 + lower_v2 &gt;= 7.5\r\n\r\nlower_in_v3_003: 25 asn_003 + lower_v3 &lt;= 32\r\n\r\nupper_in_v3_003: - 25 asn_003 + upper_v3 &gt;= -18\r\n\r\nupper_out_v3_003: - 25 asn_003 + 25 is_upper_v3_003 + upper_v3 &lt;= 31.5\r\n\r\nlower_out_v3_003: 25 asn_003 + 25 is_upper_v3_003 + lower_v3 &gt;= 7.5\r\n\r\nlower_in_v4_003: 25 asn_003 + lower_v4 &lt;= 32\r\n\r\nupper_in_v4_003: - 25 asn_003 + upper_v4 &gt;= -18\r\n\r\nupper_out_v4_003: - 25 asn_003 + 25 is_upper_v4_003 + upper_v4 &lt;= 31.5\r\n\r\nlower_out_v4_003: 25 asn_003 + 25 is_upper_v4_003 + lower_v4 &gt;= 7.5\r\n\r\nlower_in_v5_003: 25 asn_003 + lower_v5 &lt;= 32\r\n\r\nupper_in_v5_003: - 25 asn_003 + upper_v5 &gt;= -18\r\n\r\nupper_out_v5_003: - 25 asn_003 + 25 is_upper_v5_003 + upper_v5 &lt;= 31.5\r\n\r\nlower_out_v5_003: 25 asn_003 + 25 is_upper_v5_003 + lower_v5 &gt;= 7.5\r\n\r\nlower_in_v1_004: 25 asn_004 + lower_v1 &lt;= 30\r\n\r\nupper_in_v1_004: - 25 asn_004 + upper_v1 &gt;= -20\r\n\r\nupper_out_v1_004: - 25 asn_004 + 25 is_upper_v1_004 + upper_v1 &lt;= 29.5\r\n\r\nlower_out_v1_004: 25 asn_004 + 25 is_upper_v1_004 + lower_v1 &gt;= 5.5\r\n\r\nlower_in_v2_004: 25 asn_004 + lower_v2 &lt;= 33\r\n\r\nupper_in_v2_004: - 25 asn_004 + upper_v2 &gt;= -17\r\n\r\nupper_out_v2_004: - 25 asn_004 + 25 is_upper_v2_004 + upper_v2 &lt;= 32.5\r\n\r\nlower_out_v2_004: 25 asn_004 + 25 is_upper_v2_004 + lower_v2 &gt;= 8.5\r\n\r\nlower_in_v3_004: 25 asn_004 + lower_v3 &lt;= 33\r\n\r\nupper_in_v3_004: - 25 asn_004 + upper_v3 &gt;= -17\r\n\r\nupper_out_v3_004: - 25 asn_004 + 25 is_upper_v3_004 + upper_v3 &lt;= 32.5\r\n\r\nlower_out_v3_004: 25 asn_004 + 25 is_upper_v3_004 + lower_v3 &gt;= 8.5\r\n\r\nlower_in_v4_004: 25 asn_004 + lower_v4 &lt;= 33\r\n\r\nupper_in_v4_004: - 25 asn_004 + upper_v4 &gt;= -17\r\n\r\nupper_out_v4_004: - 25 asn_004 + 25 is_upper_v4_004 + upper_v4 &lt;= 32.5\r\n\r\nlower_out_v4_004: 25 asn_004 + 25 is_upper_v4_004 + lower_v4 &gt;= 8.5\r\n\r\nlower_in_v5_004: 25 asn_004 + lower_v5 &lt;= 33\r\n\r\nupper_in_v5_004: - 25 asn_004 + upper_v5 &gt;= -17\r\n\r\nupper_out_v5_004: - 25 asn_004 + 25 is_upper_v5_004 + upper_v5 &lt;= 32.5\r\n\r\nlower_out_v5_004: 25 asn_004 + 25 is_upper_v5_004 + lower_v5 &gt;= 8.5\r\n\r\nlower_in_v1_005: 25 asn_005 + lower_v1 &lt;= 31\r\n\r\nupper_in_v1_005: - 25 asn_005 + upper_v1 &gt;= -19\r\n\r\nupper_out_v1_005: - 25 asn_005 + 25 is_upper_v1_005 + upper_v1 &lt;= 30.5\r\n\r\nlower_out_v1_005: 25 asn_005 + 25 is_upper_v1_005 + lower_v1 &gt;= 6.5\r\n\r\nlower_in_v2_005: 25 asn_005 + lower_v2 &lt;= 34\r\n\r\nupper_in_v2_005: - 25 asn_005 + upper_v2 &gt;= -16\r\n\r\nupper_out_v2_005: - 25 asn_005 + 25 is_upper_v2_005 + upper_v2 &lt;= 33.5\r\n\r\nlower_out_v2_005: 25 asn_005 + 25 is_upper_v2_005 + lower_v2 &gt;= 9.5\r\n\r\nlower_in_v3_005: 25 asn_005 + lower_v3 &lt;= 34\r\n\r\nupper_in_v3_005: - 25 asn_005 + upper_v3 &gt;= -16\r\n\r\nupper_out_v3_005: - 25 asn_005 + 25 is_upper_v3_005 + upper_v3 &lt;= 33.5\r\n\r\nlower_out_v3_005: 25 asn_005 + 25 is_upper_v3_005 + lower_v3 &gt;= 9.5\r\n\r\nlower_in_v4_005: 25 asn_005 + lower_v4 &lt;= 34\r\n\r\nupper_in_v4_005: - 25 asn_005 + upper_v4 &gt;= -16\r\n\r\nupper_out_v4_005: - 25 asn_005 + 25 is_upper_v4_005 + upper_v4 &lt;= 33.5\r\n\r\nlower_out_v4_005: 25 asn_005 + 25 is_upper_v4_005 + lower_v4 &gt;= 9.5\r\n\r\nlower_in_v5_005: 25 asn_005 + lower_v5 &lt;= 34\r\n\r\nupper_in_v5_005: - 25 asn_005 + upper_v5 &gt;= -16\r\n\r\nupper_out_v5_005: - 25 asn_005 + 25 is_upper_v5_005 + upper_v5 &lt;= 33.5\r\n\r\nlower_out_v5_005: 25 asn_005 + 25 is_upper_v5_005 + lower_v5 &gt;= 9.5\r\n\r\nVARIABLES\r\n0 &lt;= asn_000 &lt;= 1 Integer\r\n0 &lt;= asn_001 &lt;= 1 Integer\r\n0 &lt;= asn_002 &lt;= 1 Integer\r\n0 &lt;= asn_003 &lt;= 1 Integer\r\n0 &lt;= asn_004 &lt;= 1 Integer\r\n0 &lt;= asn_005 &lt;= 1 Integer\r\n0 &lt;= is_upper_v1_000 &lt;= 1 Integer\r\n0 &lt;= is_upper_v1_001 &lt;= 1 Integer\r\n0 &lt;= is_upper_v1_002 &lt;= 1 Integer\r\n0 &lt;= is_upper_v1_003 &lt;= 1 Integer\r\n0 &lt;= is_upper_v1_004 &lt;= 1 Integer\r\n0 &lt;= is_upper_v1_005 &lt;= 1 Integer\r\n0 &lt;= is_upper_v2_000 &lt;= 1 Integer\r\n0 &lt;= is_upper_v2_001 &lt;= 1 Integer\r\n0 &lt;= is_upper_v2_002 &lt;= 1 Integer\r\n0 &lt;= is_upper_v2_003 &lt;= 1 Integer\r\n0 &lt;= is_upper_v2_004 &lt;= 1 Integer\r\n0 &lt;= is_upper_v2_005 &lt;= 1 Integer\r\n0 &lt;= is_upper_v3_000 &lt;= 1 Integer\r\n0 &lt;= is_upper_v3_001 &lt;= 1 Integer\r\n0 &lt;= is_upper_v3_002 &lt;= 1 Integer\r\n0 &lt;= is_upper_v3_003 &lt;= 1 Integer\r\n0 &lt;= is_upper_v3_004 &lt;= 1 Integer\r\n0 &lt;= is_upper_v3_005 &lt;= 1 Integer\r\n0 &lt;= is_upper_v4_000 &lt;= 1 Integer\r\n0 &lt;= is_upper_v4_001 &lt;= 1 Integer\r\n0 &lt;= is_upper_v4_002 &lt;= 1 Integer\r\n0 &lt;= is_upper_v4_003 &lt;= 1 Integer\r\n0 &lt;= is_upper_v4_004 &lt;= 1 Integer\r\n0 &lt;= is_upper_v4_005 &lt;= 1 Integer\r\n0 &lt;= is_upper_v5_000 &lt;= 1 Integer\r\n0 &lt;= is_upper_v5_001 &lt;= 1 Integer\r\n0 &lt;= is_upper_v5_002 &lt;= 1 Integer\r\n0 &lt;= is_upper_v5_003 &lt;= 1 Integer\r\n0 &lt;= is_upper_v5_004 &lt;= 1 Integer\r\n0 &lt;= is_upper_v5_005 &lt;= 1 Integer\r\nlower_v1 &lt;= 19 Continuous\r\nlower_v2 &lt;= 19 Continuous\r\nlower_v3 &lt;= 19 Continuous\r\nlower_v4 &lt;= 19 Continuous\r\nlower_v5 &lt;= 19 Continuous\r\nupper_v1 &lt;= 19 Continuous\r\nupper_v2 &lt;= 19 Continuous\r\nupper_v3 &lt;= 19 Continuous\r\nupper_v4 &lt;= 19 Continuous\r\nupper_v5 &lt;= 19 Continuous\r\n\r\nWelcome to the CBC MILP Solver \r\nVersion: 2.10.3 \r\nBuild Date: Dec 15 2019 \r\n\r\ncommand line - .venv/lib/python3.10/site-packages/pulp/solverdir/cbc/linux/64/cbc /tmp/a0190fc1d26e4a6483cbe40c45b4eb2f-pulp.mps max timeMode elapsed branch printingOptions all solution /tmp/a0190fc1d26e4a6483cbe40c45b4eb2f-pulp.sol (default strategy 1)\r\nAt line 2 NAME          MODEL\r\nAt line 3 ROWS\r\nAt line 130 COLUMNS\r\nAt line 519 RHS\r\nAt line 645 BOUNDS\r\nAt line 692 ENDATA\r\nProblem MODEL has 125 rows, 46 columns and 310 elements\r\nCoin0008I MODEL read with 0 errors\r\nOption for timeMode changed from cpu to elapsed\r\nContinuous objective value is 450 - 0.00 seconds\r\nCgl0003I 0 fixed, 0 tightened bounds, 60 strengthened rows, 0 substitutions\r\nCgl0003I 0 fixed, 0 tightened bounds, 15 strengthened rows, 0 substitutions\r\nCgl0003I 0 fixed, 0 tightened bounds, 10 strengthened rows, 0 substitutions\r\nCgl0004I processed model has 125 rows, 46 columns (36 integer (36 of which binary)) and 385 elements\r\nCutoff increment increased from 1e-05 to 49.9999\r\nCbc0038I Initial state - 10 integers unsatisfied sum - 2.62534\r\nCbc0038I Pass   1: suminf.    0.51766 (6) obj. -262.65 iterations 40\r\nCbc0038I Pass   2: suminf.    0.37920 (2) obj. 810.4 iterations 24\r\nCbc0038I Pass   3: suminf.    0.55711 (3) obj. 119.936 iterations 5\r\nCbc0038I Pass   4: suminf.    0.24000 (2) obj. 269 iterations 10\r\nCbc0038I Pass   5: suminf.    0.51356 (2) obj. 119.936 iterations 7\r\nCbc0038I Pass   6: suminf.    0.89604 (5) obj. 141.923 iterations 14\r\nCbc0038I Pass   7: suminf.    0.59491 (5) obj. 670.688 iterations 15\r\nCbc0038I Pass   8: suminf.    0.92668 (5) obj. 51.2876 iterations 25\r\nCbc0038I Pass   9: suminf.    0.92668 (5) obj. 51.2876 iterations 7\r\nCbc0038I Pass  10: suminf.    0.59689 (6) obj. 667.219 iterations 33\r\nCbc0038I Pass  11: suminf.    0.92668 (5) obj. 51.2876 iterations 29\r\nCbc0038I Pass  12: suminf.    0.48428 (4) obj. 662.897 iterations 20\r\nCbc0038I Pass  13: suminf.    0.95405 (6) obj. 119.888 iterations 20\r\nCbc0038I Pass  14: suminf.    0.27012 (5) obj. 612.921 iterations 30\r\nCbc0038I Pass  15: suminf.    0.92255 (5) obj. 116.433 iterations 26\r\nCbc0038I Pass  16: suminf.    0.65069 (6) obj. 181.373 iterations 17\r\nCbc0038I Pass  17: suminf.    0.85917 (5) obj. 551.764 iterations 24\r\nCbc0038I Pass  18: suminf.    0.23280 (4) obj. 140.28 iterations 22\r\nCbc0038I Pass  19: suminf.    0.81237 (3) obj. 84.7919 iterations 23\r\nCbc0038I Pass  20: suminf.    0.45133 (3) obj. 192.419 iterations 8\r\nCbc0038I Pass  21: suminf.    0.67675 (6) obj. 579.906 iterations 21\r\nCbc0038I Pass  22: suminf.    0.89960 (5) obj. -94.0115 iterations 29\r\nCbc0038I Pass  23: suminf.    0.56051 (3) obj. 180.957 iterations 14\r\nCbc0038I Pass  24: suminf.    0.74317 (3) obj. 37.3469 iterations 14\r\nCbc0038I Pass  25: suminf.    0.84688 (5) obj. 158.839 iterations 20\r\nCbc0038I Pass  26: suminf.    0.12352 (3) obj. 695.44 iterations 22\r\nCbc0038I Pass  27: suminf.    0.54921 (5) obj. 35.9499 iterations 17\r\nCbc0038I Pass  28: suminf.    0.54457 (4) obj. 782.282 iterations 27\r\nCbc0038I Pass  29: suminf.    0.53404 (4) obj. 32.8182 iterations 25\r\nCbc0038I Pass  30: suminf.    0.50976 (4) obj. 311.676 iterations 11\r\nCbc0038I Rounding solution of 700 is better than previous of 1e+50\r\n\r\nCbc0038I Before mini branch and bound, 9 integers at bound fixed and 0 continuous\r\nCbc0038I Full problem 125 rows 46 columns, reduced to 116 rows 37 columns\r\nCbc0038I Mini branch and bound improved solution from 700 to -150 (0.02 seconds)\r\nCbc0038I Round again with cutoff of -225\r\nCbc0038I Reduced cost fixing fixed 2 variables on major pass 2\r\nCbc0038I Pass  30: suminf.    0.98992 (5) obj. -344.44 iterations 23\r\nCbc0038I Pass  31: suminf.    1.64306 (8) obj. -225 iterations 19\r\nCbc0038I Pass  32: suminf.    1.01520 (8) obj. -225 iterations 9\r\nCbc0038I Pass  33: suminf.    0.59837 (5) obj. -225 iterations 29\r\nCbc0038I Pass  34: suminf.    0.12000 (2) obj. -235 iterations 21\r\nCbc0038I Pass  35: suminf.    0.56667 (3) obj. -225 iterations 7\r\nCbc0038I Pass  36: suminf.    0.23800 (3) obj. -225 iterations 4\r\nCbc0038I Pass  37: suminf.    0.18667 (2) obj. -225 iterations 13\r\nCbc0038I Pass  38: suminf.    0.60572 (4) obj. -225 iterations 10\r\nCbc0038I Pass  39: suminf.    0.55246 (4) obj. -225 iterations 3\r\nCbc0038I Pass  40: suminf.    0.90000 (3) obj. -225 iterations 8\r\nCbc0038I Pass  41: suminf.    0.90000 (3) obj. -225 iterations 1\r\nCbc0038I Pass  42: suminf.    0.72410 (4) obj. -225 iterations 10\r\nCbc0038I Pass  43: suminf.    0.56667 (3) obj. -225 iterations 11\r\nCbc0038I Pass  44: suminf.    0.25143 (3) obj. -225 iterations 6\r\nCbc0038I Pass  45: suminf.    0.18667 (2) obj. -225 iterations 16\r\nCbc0038I Pass  46: suminf.    0.12000 (2) obj. -235 iterations 1\r\nCbc0038I Pass  47: suminf.    0.56667 (3) obj. -225 iterations 6\r\nCbc0038I Pass  48: suminf.    0.82724 (7) obj. -225 iterations 31\r\nCbc0038I Pass  49: suminf.    0.82730 (7) obj. -225 iterations 2\r\nCbc0038I Pass  50: suminf.    0.59837 (5) obj. -225 iterations 25\r\nCbc0038I Pass  51: suminf.    0.61314 (6) obj. -273.399 iterations 23\r\nCbc0038I Pass  52: suminf.    0.63333 (3) obj. -225 iterations 25\r\nCbc0038I Pass  53: suminf.    0.89613 (4) obj. -225 iterations 7\r\nCbc0038I Pass  54: suminf.    0.40296 (5) obj. -225 iterations 8\r\nCbc0038I Pass  55: suminf.    0.52545 (3) obj. -225 iterations 17\r\nCbc0038I Pass  56: suminf.    0.35917 (4) obj. -247.806 iterations 4\r\nCbc0038I Pass  57: suminf.    0.23800 (3) obj. -225 iterations 19\r\nCbc0038I Pass  58: suminf.    0.23800 (3) obj. -225 iterations 0\r\nCbc0038I Pass  59: suminf.    0.44904 (3) obj. -225 iterations 12\r\nCbc0038I No solution found this major pass\r\nCbc0038I Before mini branch and bound, 12 integers at bound fixed and 0 continuous\r\nCbc0038I Full problem 125 rows 46 columns, reduced to 95 rows 34 columns\r\nCbc0038I Mini branch and bound did not improve solution (0.03 seconds)\r\nCbc0038I After 0.03 seconds - Feasibility pump exiting with objective of -150 - took 0.02 seconds\r\nCbc0012I Integer solution of -150 found by feasibility pump after 0 iterations and 0 nodes (0.03 seconds)\r\nCbc0038I Full problem 125 rows 46 columns, reduced to 0 rows 0 columns\r\nCbc0012I Integer solution of -300 found by DiveCoefficient after 31 iterations and 0 nodes (0.03 seconds)\r\nCbc0013I At root node, 0 cuts changed objective from -450 to -300 in 3 passes\r\nCbc0014I Cut generator 0 (Probing) - 37 row cuts average 2.0 elements, 12 column cuts (12 active)  in 0.000 seconds - new frequency is 1\r\nCbc0014I Cut generator 1 (Gomory) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\r\nCbc0014I Cut generator 2 (Knapsack) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\r\nCbc0014I Cut generator 3 (Clique) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\r\nCbc0014I Cut generator 4 (MixedIntegerRounding2) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\r\nCbc0014I Cut generator 5 (FlowCover) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\r\nCbc0001I Search completed - best objective -300, took 31 iterations and 0 nodes (0.03 seconds)\r\nCbc0035I Maximum depth 0, 2 variables fixed on reduced cost\r\nCuts at root node changed objective from -450 to -300\r\nProbing was tried 3 times and created 49 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nGomory was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nKnapsack was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nClique was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nMixedIntegerRounding2 was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nFlowCover was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nTwoMirCuts was tried 1 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nZeroHalf was tried 1 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\n\r\nResult - Optimal solution found\r\n\r\nObjective value:                300.00000000\r\nEnumerated nodes:               0\r\nTotal iterations:               31\r\nTime (CPU seconds):             0.03\r\nTime (Wallclock seconds):       0.03\r\n\r\nOption for printingOptions changed from normal to all\r\nTotal time (CPU seconds):       0.03   (Wallclock seconds):       0.03\r\n\r\nPnL total: 300.00\r\nAssigned rows: 3/6\r\nBounds:\r\n    lower  upper\r\nv1    1.5    4.0\r\nv2    3.5    7.0\r\nv3    3.5    7.0\r\nv4    3.5    7.0\r\nv5    3.5    7.0\r\n```\r\n\r\nThis strategy can be [carried to Java](https://or.stackexchange.com/questions/617/solving-mip-in-java-with-free-software) without too much fuss.","title":"Find min max range of multiple variables the results in maximum PnL","body":"<p>Linear programming is a viable approach, made a little tricky by the fact that your range constraints need to fit into two cases:</p>\n<ul>\n<li>When a row needs to be included, it needs to fit within the range when the assignment boolean is high (or relaxed constraints when it's low) - easy, but...</li>\n<li>When a row needs to be <em>excluded</em>, it needs to be <em>outside</em> of the range. This is easier said than done. Enforcing a range exclusion, as <a href=\"https://optimization.cbe.cornell.edu/index.php?title=Optimization_with_absolute_values#Form_when_.7F.27.22.60UNIQ--postMath-00000013-QINU.60.22.27.7F\" rel=\"nofollow noreferrer\">Cornell University</a> writes, is non-convex and requires a new binary variable for each element.</li>\n</ul>\n<p>This approach is able to run pretty quickly on your sample of 150 rows. However, those sample data are (I'm guessing) randomly generated, and as such are uniquely terrible for this algorithm: for a perfectly uniform distribution of your input variables, as the number of rows increases, the optimal strategy will always be to select nothing.</p>\n<p>Running on this toy example instead:</p>\n<pre><code>v1,v2,v3,v4,v5,PnL\n1,3,3,3,3,-500\n2,4,4,4,4,100\n2,4,5,4,5,100\n4,7,7,7,7,100\n5,8,8,8,8,-500\n6,9,9,9,9,150\n</code></pre>\n<p>is much more illustrative of what a successful algorithm should do, and indeed, it produces a sensible choice:</p>\n<pre class=\"lang-none prettyprint-override\"><code>PnL total: 300.00\nAssigned rows: 3/6\nBounds:\n    lower  upper\nv1    1.5    4.0\nv2    3.5    7.0\nv3    3.5    7.0\nv4    3.5    7.0\nv5    3.5    7.0\n</code></pre>\n<h2>Implementation</h2>\n<p>Shown in Python for brevity.</p>\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\nimport pulp\n\n\ndef make_col_vars(v_name: str) -&gt; pd.Series:\n    lower = pulp.LpVariable(name='lower_' + v_name, lowBound=0, upBound=19)\n    upper = pulp.LpVariable(name='upper_' + v_name, lowBound=0, upBound=19)\n    prob.addConstraint(name='interval_' + v_name, constraint=lower &lt;= upper)\n    return pd.Series(data=(lower, upper), index=('lower', 'upper'))\n\n\ndef make_row_vars(row: pd.Series) -&gt; pd.Series:\n    assign = pulp.LpVariable(name=f'asn_{row.idx:03.0f}', cat=pulp.LpBinary)\n\n    for v_name, v in row[:-2].iteritems():\n        v_bounds = bounds.loc[v_name]\n        suffix = f'_{v_name}_{row.idx:03.0f}'\n\n        # If assign, then v_bounds.lower &lt;= v &lt;= v_bounds.upper\n        prob.addConstraint(name='lower_in' + suffix, constraint=v &gt;= v_bounds.lower - 25*(1 - assign))\n        prob.addConstraint(name='upper_in' + suffix, constraint=v &lt;= v_bounds.upper + 25*(1 - assign))\n\n        # otherwise v must be outside of those bounds\n        # v &lt;= lower-1 || upper+1 &lt;= v\n\n        is_upper = pulp.LpVariable(name='is_upper' + suffix, cat=pulp.LpBinary)\n        # enforce if is_upper &amp;&amp; !assigned\n        prob.addConstraint(name='upper_out' + suffix, constraint=v &gt;= v_bounds.upper+0.5 - 25*(assign - is_upper + 1))\n        # enforce if !is_upper &amp;&amp; !assigned\n        prob.addConstraint(name='lower_out' + suffix, constraint=v &lt;= v_bounds.lower-0.5 + 25*(assign + is_upper))\n\n    return pd.Series((assign,))\n\n\ndf = pd.read_csv('Optimize-MinMax.csv')\nprob = pulp.LpProblem(name='profit_loss', sense=pulp.LpMaximize)\nbounds = df.columns[:-1].to_series().apply(make_col_vars)\ndf['idx'] = df.index\ndf['assign'] = df.apply(make_row_vars, axis=1)\n\nprob.objective = pulp.lpDot(df.PnL, df['assign'])\n\nprint(prob)\nprob.solve()\nassert prob.status == pulp.const.LpStatusOptimal\n\nprint(f'PnL total: {prob.objective.value():.2f}')\nn_assigned = df[&quot;assign&quot;].apply(pulp.LpVariable.value).sum()\nprint(f'Assigned rows: {n_assigned:.0f}/{len(df)}')\nprint('Bounds:')\nprint(bounds.applymap(pulp.LpVariable.value))\n</code></pre>\n<h2>Output</h2>\n<pre class=\"lang-none prettyprint-override\"><code>profit_loss:\nMAXIMIZE\n-500*asn_000 + 100*asn_001 + 100*asn_002 + 100*asn_003 + -500*asn_004 + 150*asn_005 + 0\nSUBJECT TO\ninterval_v1: lower_v1 - upper_v1 &lt;= 0\n\ninterval_v2: lower_v2 - upper_v2 &lt;= 0\n\ninterval_v3: lower_v3 - upper_v3 &lt;= 0\n\ninterval_v4: lower_v4 - upper_v4 &lt;= 0\n\ninterval_v5: lower_v5 - upper_v5 &lt;= 0\n\nlower_in_v1_000: 25 asn_000 + lower_v1 &lt;= 26\n\nupper_in_v1_000: - 25 asn_000 + upper_v1 &gt;= -24\n\nupper_out_v1_000: - 25 asn_000 + 25 is_upper_v1_000 + upper_v1 &lt;= 25.5\n\nlower_out_v1_000: 25 asn_000 + 25 is_upper_v1_000 + lower_v1 &gt;= 1.5\n\nlower_in_v2_000: 25 asn_000 + lower_v2 &lt;= 28\n\nupper_in_v2_000: - 25 asn_000 + upper_v2 &gt;= -22\n\nupper_out_v2_000: - 25 asn_000 + 25 is_upper_v2_000 + upper_v2 &lt;= 27.5\n\nlower_out_v2_000: 25 asn_000 + 25 is_upper_v2_000 + lower_v2 &gt;= 3.5\n\nlower_in_v3_000: 25 asn_000 + lower_v3 &lt;= 28\n\nupper_in_v3_000: - 25 asn_000 + upper_v3 &gt;= -22\n\nupper_out_v3_000: - 25 asn_000 + 25 is_upper_v3_000 + upper_v3 &lt;= 27.5\n\nlower_out_v3_000: 25 asn_000 + 25 is_upper_v3_000 + lower_v3 &gt;= 3.5\n\nlower_in_v4_000: 25 asn_000 + lower_v4 &lt;= 28\n\nupper_in_v4_000: - 25 asn_000 + upper_v4 &gt;= -22\n\nupper_out_v4_000: - 25 asn_000 + 25 is_upper_v4_000 + upper_v4 &lt;= 27.5\n\nlower_out_v4_000: 25 asn_000 + 25 is_upper_v4_000 + lower_v4 &gt;= 3.5\n\nlower_in_v5_000: 25 asn_000 + lower_v5 &lt;= 28\n\nupper_in_v5_000: - 25 asn_000 + upper_v5 &gt;= -22\n\nupper_out_v5_000: - 25 asn_000 + 25 is_upper_v5_000 + upper_v5 &lt;= 27.5\n\nlower_out_v5_000: 25 asn_000 + 25 is_upper_v5_000 + lower_v5 &gt;= 3.5\n\nlower_in_v1_001: 25 asn_001 + lower_v1 &lt;= 27\n\nupper_in_v1_001: - 25 asn_001 + upper_v1 &gt;= -23\n\nupper_out_v1_001: - 25 asn_001 + 25 is_upper_v1_001 + upper_v1 &lt;= 26.5\n\nlower_out_v1_001: 25 asn_001 + 25 is_upper_v1_001 + lower_v1 &gt;= 2.5\n\nlower_in_v2_001: 25 asn_001 + lower_v2 &lt;= 29\n\nupper_in_v2_001: - 25 asn_001 + upper_v2 &gt;= -21\n\nupper_out_v2_001: - 25 asn_001 + 25 is_upper_v2_001 + upper_v2 &lt;= 28.5\n\nlower_out_v2_001: 25 asn_001 + 25 is_upper_v2_001 + lower_v2 &gt;= 4.5\n\nlower_in_v3_001: 25 asn_001 + lower_v3 &lt;= 29\n\nupper_in_v3_001: - 25 asn_001 + upper_v3 &gt;= -21\n\nupper_out_v3_001: - 25 asn_001 + 25 is_upper_v3_001 + upper_v3 &lt;= 28.5\n\nlower_out_v3_001: 25 asn_001 + 25 is_upper_v3_001 + lower_v3 &gt;= 4.5\n\nlower_in_v4_001: 25 asn_001 + lower_v4 &lt;= 29\n\nupper_in_v4_001: - 25 asn_001 + upper_v4 &gt;= -21\n\nupper_out_v4_001: - 25 asn_001 + 25 is_upper_v4_001 + upper_v4 &lt;= 28.5\n\nlower_out_v4_001: 25 asn_001 + 25 is_upper_v4_001 + lower_v4 &gt;= 4.5\n\nlower_in_v5_001: 25 asn_001 + lower_v5 &lt;= 29\n\nupper_in_v5_001: - 25 asn_001 + upper_v5 &gt;= -21\n\nupper_out_v5_001: - 25 asn_001 + 25 is_upper_v5_001 + upper_v5 &lt;= 28.5\n\nlower_out_v5_001: 25 asn_001 + 25 is_upper_v5_001 + lower_v5 &gt;= 4.5\n\nlower_in_v1_002: 25 asn_002 + lower_v1 &lt;= 27\n\nupper_in_v1_002: - 25 asn_002 + upper_v1 &gt;= -23\n\nupper_out_v1_002: - 25 asn_002 + 25 is_upper_v1_002 + upper_v1 &lt;= 26.5\n\nlower_out_v1_002: 25 asn_002 + 25 is_upper_v1_002 + lower_v1 &gt;= 2.5\n\nlower_in_v2_002: 25 asn_002 + lower_v2 &lt;= 29\n\nupper_in_v2_002: - 25 asn_002 + upper_v2 &gt;= -21\n\nupper_out_v2_002: - 25 asn_002 + 25 is_upper_v2_002 + upper_v2 &lt;= 28.5\n\nlower_out_v2_002: 25 asn_002 + 25 is_upper_v2_002 + lower_v2 &gt;= 4.5\n\nlower_in_v3_002: 25 asn_002 + lower_v3 &lt;= 30\n\nupper_in_v3_002: - 25 asn_002 + upper_v3 &gt;= -20\n\nupper_out_v3_002: - 25 asn_002 + 25 is_upper_v3_002 + upper_v3 &lt;= 29.5\n\nlower_out_v3_002: 25 asn_002 + 25 is_upper_v3_002 + lower_v3 &gt;= 5.5\n\nlower_in_v4_002: 25 asn_002 + lower_v4 &lt;= 29\n\nupper_in_v4_002: - 25 asn_002 + upper_v4 &gt;= -21\n\nupper_out_v4_002: - 25 asn_002 + 25 is_upper_v4_002 + upper_v4 &lt;= 28.5\n\nlower_out_v4_002: 25 asn_002 + 25 is_upper_v4_002 + lower_v4 &gt;= 4.5\n\nlower_in_v5_002: 25 asn_002 + lower_v5 &lt;= 30\n\nupper_in_v5_002: - 25 asn_002 + upper_v5 &gt;= -20\n\nupper_out_v5_002: - 25 asn_002 + 25 is_upper_v5_002 + upper_v5 &lt;= 29.5\n\nlower_out_v5_002: 25 asn_002 + 25 is_upper_v5_002 + lower_v5 &gt;= 5.5\n\nlower_in_v1_003: 25 asn_003 + lower_v1 &lt;= 29\n\nupper_in_v1_003: - 25 asn_003 + upper_v1 &gt;= -21\n\nupper_out_v1_003: - 25 asn_003 + 25 is_upper_v1_003 + upper_v1 &lt;= 28.5\n\nlower_out_v1_003: 25 asn_003 + 25 is_upper_v1_003 + lower_v1 &gt;= 4.5\n\nlower_in_v2_003: 25 asn_003 + lower_v2 &lt;= 32\n\nupper_in_v2_003: - 25 asn_003 + upper_v2 &gt;= -18\n\nupper_out_v2_003: - 25 asn_003 + 25 is_upper_v2_003 + upper_v2 &lt;= 31.5\n\nlower_out_v2_003: 25 asn_003 + 25 is_upper_v2_003 + lower_v2 &gt;= 7.5\n\nlower_in_v3_003: 25 asn_003 + lower_v3 &lt;= 32\n\nupper_in_v3_003: - 25 asn_003 + upper_v3 &gt;= -18\n\nupper_out_v3_003: - 25 asn_003 + 25 is_upper_v3_003 + upper_v3 &lt;= 31.5\n\nlower_out_v3_003: 25 asn_003 + 25 is_upper_v3_003 + lower_v3 &gt;= 7.5\n\nlower_in_v4_003: 25 asn_003 + lower_v4 &lt;= 32\n\nupper_in_v4_003: - 25 asn_003 + upper_v4 &gt;= -18\n\nupper_out_v4_003: - 25 asn_003 + 25 is_upper_v4_003 + upper_v4 &lt;= 31.5\n\nlower_out_v4_003: 25 asn_003 + 25 is_upper_v4_003 + lower_v4 &gt;= 7.5\n\nlower_in_v5_003: 25 asn_003 + lower_v5 &lt;= 32\n\nupper_in_v5_003: - 25 asn_003 + upper_v5 &gt;= -18\n\nupper_out_v5_003: - 25 asn_003 + 25 is_upper_v5_003 + upper_v5 &lt;= 31.5\n\nlower_out_v5_003: 25 asn_003 + 25 is_upper_v5_003 + lower_v5 &gt;= 7.5\n\nlower_in_v1_004: 25 asn_004 + lower_v1 &lt;= 30\n\nupper_in_v1_004: - 25 asn_004 + upper_v1 &gt;= -20\n\nupper_out_v1_004: - 25 asn_004 + 25 is_upper_v1_004 + upper_v1 &lt;= 29.5\n\nlower_out_v1_004: 25 asn_004 + 25 is_upper_v1_004 + lower_v1 &gt;= 5.5\n\nlower_in_v2_004: 25 asn_004 + lower_v2 &lt;= 33\n\nupper_in_v2_004: - 25 asn_004 + upper_v2 &gt;= -17\n\nupper_out_v2_004: - 25 asn_004 + 25 is_upper_v2_004 + upper_v2 &lt;= 32.5\n\nlower_out_v2_004: 25 asn_004 + 25 is_upper_v2_004 + lower_v2 &gt;= 8.5\n\nlower_in_v3_004: 25 asn_004 + lower_v3 &lt;= 33\n\nupper_in_v3_004: - 25 asn_004 + upper_v3 &gt;= -17\n\nupper_out_v3_004: - 25 asn_004 + 25 is_upper_v3_004 + upper_v3 &lt;= 32.5\n\nlower_out_v3_004: 25 asn_004 + 25 is_upper_v3_004 + lower_v3 &gt;= 8.5\n\nlower_in_v4_004: 25 asn_004 + lower_v4 &lt;= 33\n\nupper_in_v4_004: - 25 asn_004 + upper_v4 &gt;= -17\n\nupper_out_v4_004: - 25 asn_004 + 25 is_upper_v4_004 + upper_v4 &lt;= 32.5\n\nlower_out_v4_004: 25 asn_004 + 25 is_upper_v4_004 + lower_v4 &gt;= 8.5\n\nlower_in_v5_004: 25 asn_004 + lower_v5 &lt;= 33\n\nupper_in_v5_004: - 25 asn_004 + upper_v5 &gt;= -17\n\nupper_out_v5_004: - 25 asn_004 + 25 is_upper_v5_004 + upper_v5 &lt;= 32.5\n\nlower_out_v5_004: 25 asn_004 + 25 is_upper_v5_004 + lower_v5 &gt;= 8.5\n\nlower_in_v1_005: 25 asn_005 + lower_v1 &lt;= 31\n\nupper_in_v1_005: - 25 asn_005 + upper_v1 &gt;= -19\n\nupper_out_v1_005: - 25 asn_005 + 25 is_upper_v1_005 + upper_v1 &lt;= 30.5\n\nlower_out_v1_005: 25 asn_005 + 25 is_upper_v1_005 + lower_v1 &gt;= 6.5\n\nlower_in_v2_005: 25 asn_005 + lower_v2 &lt;= 34\n\nupper_in_v2_005: - 25 asn_005 + upper_v2 &gt;= -16\n\nupper_out_v2_005: - 25 asn_005 + 25 is_upper_v2_005 + upper_v2 &lt;= 33.5\n\nlower_out_v2_005: 25 asn_005 + 25 is_upper_v2_005 + lower_v2 &gt;= 9.5\n\nlower_in_v3_005: 25 asn_005 + lower_v3 &lt;= 34\n\nupper_in_v3_005: - 25 asn_005 + upper_v3 &gt;= -16\n\nupper_out_v3_005: - 25 asn_005 + 25 is_upper_v3_005 + upper_v3 &lt;= 33.5\n\nlower_out_v3_005: 25 asn_005 + 25 is_upper_v3_005 + lower_v3 &gt;= 9.5\n\nlower_in_v4_005: 25 asn_005 + lower_v4 &lt;= 34\n\nupper_in_v4_005: - 25 asn_005 + upper_v4 &gt;= -16\n\nupper_out_v4_005: - 25 asn_005 + 25 is_upper_v4_005 + upper_v4 &lt;= 33.5\n\nlower_out_v4_005: 25 asn_005 + 25 is_upper_v4_005 + lower_v4 &gt;= 9.5\n\nlower_in_v5_005: 25 asn_005 + lower_v5 &lt;= 34\n\nupper_in_v5_005: - 25 asn_005 + upper_v5 &gt;= -16\n\nupper_out_v5_005: - 25 asn_005 + 25 is_upper_v5_005 + upper_v5 &lt;= 33.5\n\nlower_out_v5_005: 25 asn_005 + 25 is_upper_v5_005 + lower_v5 &gt;= 9.5\n\nVARIABLES\n0 &lt;= asn_000 &lt;= 1 Integer\n0 &lt;= asn_001 &lt;= 1 Integer\n0 &lt;= asn_002 &lt;= 1 Integer\n0 &lt;= asn_003 &lt;= 1 Integer\n0 &lt;= asn_004 &lt;= 1 Integer\n0 &lt;= asn_005 &lt;= 1 Integer\n0 &lt;= is_upper_v1_000 &lt;= 1 Integer\n0 &lt;= is_upper_v1_001 &lt;= 1 Integer\n0 &lt;= is_upper_v1_002 &lt;= 1 Integer\n0 &lt;= is_upper_v1_003 &lt;= 1 Integer\n0 &lt;= is_upper_v1_004 &lt;= 1 Integer\n0 &lt;= is_upper_v1_005 &lt;= 1 Integer\n0 &lt;= is_upper_v2_000 &lt;= 1 Integer\n0 &lt;= is_upper_v2_001 &lt;= 1 Integer\n0 &lt;= is_upper_v2_002 &lt;= 1 Integer\n0 &lt;= is_upper_v2_003 &lt;= 1 Integer\n0 &lt;= is_upper_v2_004 &lt;= 1 Integer\n0 &lt;= is_upper_v2_005 &lt;= 1 Integer\n0 &lt;= is_upper_v3_000 &lt;= 1 Integer\n0 &lt;= is_upper_v3_001 &lt;= 1 Integer\n0 &lt;= is_upper_v3_002 &lt;= 1 Integer\n0 &lt;= is_upper_v3_003 &lt;= 1 Integer\n0 &lt;= is_upper_v3_004 &lt;= 1 Integer\n0 &lt;= is_upper_v3_005 &lt;= 1 Integer\n0 &lt;= is_upper_v4_000 &lt;= 1 Integer\n0 &lt;= is_upper_v4_001 &lt;= 1 Integer\n0 &lt;= is_upper_v4_002 &lt;= 1 Integer\n0 &lt;= is_upper_v4_003 &lt;= 1 Integer\n0 &lt;= is_upper_v4_004 &lt;= 1 Integer\n0 &lt;= is_upper_v4_005 &lt;= 1 Integer\n0 &lt;= is_upper_v5_000 &lt;= 1 Integer\n0 &lt;= is_upper_v5_001 &lt;= 1 Integer\n0 &lt;= is_upper_v5_002 &lt;= 1 Integer\n0 &lt;= is_upper_v5_003 &lt;= 1 Integer\n0 &lt;= is_upper_v5_004 &lt;= 1 Integer\n0 &lt;= is_upper_v5_005 &lt;= 1 Integer\nlower_v1 &lt;= 19 Continuous\nlower_v2 &lt;= 19 Continuous\nlower_v3 &lt;= 19 Continuous\nlower_v4 &lt;= 19 Continuous\nlower_v5 &lt;= 19 Continuous\nupper_v1 &lt;= 19 Continuous\nupper_v2 &lt;= 19 Continuous\nupper_v3 &lt;= 19 Continuous\nupper_v4 &lt;= 19 Continuous\nupper_v5 &lt;= 19 Continuous\n\nWelcome to the CBC MILP Solver \nVersion: 2.10.3 \nBuild Date: Dec 15 2019 \n\ncommand line - .venv/lib/python3.10/site-packages/pulp/solverdir/cbc/linux/64/cbc /tmp/a0190fc1d26e4a6483cbe40c45b4eb2f-pulp.mps max timeMode elapsed branch printingOptions all solution /tmp/a0190fc1d26e4a6483cbe40c45b4eb2f-pulp.sol (default strategy 1)\nAt line 2 NAME          MODEL\nAt line 3 ROWS\nAt line 130 COLUMNS\nAt line 519 RHS\nAt line 645 BOUNDS\nAt line 692 ENDATA\nProblem MODEL has 125 rows, 46 columns and 310 elements\nCoin0008I MODEL read with 0 errors\nOption for timeMode changed from cpu to elapsed\nContinuous objective value is 450 - 0.00 seconds\nCgl0003I 0 fixed, 0 tightened bounds, 60 strengthened rows, 0 substitutions\nCgl0003I 0 fixed, 0 tightened bounds, 15 strengthened rows, 0 substitutions\nCgl0003I 0 fixed, 0 tightened bounds, 10 strengthened rows, 0 substitutions\nCgl0004I processed model has 125 rows, 46 columns (36 integer (36 of which binary)) and 385 elements\nCutoff increment increased from 1e-05 to 49.9999\nCbc0038I Initial state - 10 integers unsatisfied sum - 2.62534\nCbc0038I Pass   1: suminf.    0.51766 (6) obj. -262.65 iterations 40\nCbc0038I Pass   2: suminf.    0.37920 (2) obj. 810.4 iterations 24\nCbc0038I Pass   3: suminf.    0.55711 (3) obj. 119.936 iterations 5\nCbc0038I Pass   4: suminf.    0.24000 (2) obj. 269 iterations 10\nCbc0038I Pass   5: suminf.    0.51356 (2) obj. 119.936 iterations 7\nCbc0038I Pass   6: suminf.    0.89604 (5) obj. 141.923 iterations 14\nCbc0038I Pass   7: suminf.    0.59491 (5) obj. 670.688 iterations 15\nCbc0038I Pass   8: suminf.    0.92668 (5) obj. 51.2876 iterations 25\nCbc0038I Pass   9: suminf.    0.92668 (5) obj. 51.2876 iterations 7\nCbc0038I Pass  10: suminf.    0.59689 (6) obj. 667.219 iterations 33\nCbc0038I Pass  11: suminf.    0.92668 (5) obj. 51.2876 iterations 29\nCbc0038I Pass  12: suminf.    0.48428 (4) obj. 662.897 iterations 20\nCbc0038I Pass  13: suminf.    0.95405 (6) obj. 119.888 iterations 20\nCbc0038I Pass  14: suminf.    0.27012 (5) obj. 612.921 iterations 30\nCbc0038I Pass  15: suminf.    0.92255 (5) obj. 116.433 iterations 26\nCbc0038I Pass  16: suminf.    0.65069 (6) obj. 181.373 iterations 17\nCbc0038I Pass  17: suminf.    0.85917 (5) obj. 551.764 iterations 24\nCbc0038I Pass  18: suminf.    0.23280 (4) obj. 140.28 iterations 22\nCbc0038I Pass  19: suminf.    0.81237 (3) obj. 84.7919 iterations 23\nCbc0038I Pass  20: suminf.    0.45133 (3) obj. 192.419 iterations 8\nCbc0038I Pass  21: suminf.    0.67675 (6) obj. 579.906 iterations 21\nCbc0038I Pass  22: suminf.    0.89960 (5) obj. -94.0115 iterations 29\nCbc0038I Pass  23: suminf.    0.56051 (3) obj. 180.957 iterations 14\nCbc0038I Pass  24: suminf.    0.74317 (3) obj. 37.3469 iterations 14\nCbc0038I Pass  25: suminf.    0.84688 (5) obj. 158.839 iterations 20\nCbc0038I Pass  26: suminf.    0.12352 (3) obj. 695.44 iterations 22\nCbc0038I Pass  27: suminf.    0.54921 (5) obj. 35.9499 iterations 17\nCbc0038I Pass  28: suminf.    0.54457 (4) obj. 782.282 iterations 27\nCbc0038I Pass  29: suminf.    0.53404 (4) obj. 32.8182 iterations 25\nCbc0038I Pass  30: suminf.    0.50976 (4) obj. 311.676 iterations 11\nCbc0038I Rounding solution of 700 is better than previous of 1e+50\n\nCbc0038I Before mini branch and bound, 9 integers at bound fixed and 0 continuous\nCbc0038I Full problem 125 rows 46 columns, reduced to 116 rows 37 columns\nCbc0038I Mini branch and bound improved solution from 700 to -150 (0.02 seconds)\nCbc0038I Round again with cutoff of -225\nCbc0038I Reduced cost fixing fixed 2 variables on major pass 2\nCbc0038I Pass  30: suminf.    0.98992 (5) obj. -344.44 iterations 23\nCbc0038I Pass  31: suminf.    1.64306 (8) obj. -225 iterations 19\nCbc0038I Pass  32: suminf.    1.01520 (8) obj. -225 iterations 9\nCbc0038I Pass  33: suminf.    0.59837 (5) obj. -225 iterations 29\nCbc0038I Pass  34: suminf.    0.12000 (2) obj. -235 iterations 21\nCbc0038I Pass  35: suminf.    0.56667 (3) obj. -225 iterations 7\nCbc0038I Pass  36: suminf.    0.23800 (3) obj. -225 iterations 4\nCbc0038I Pass  37: suminf.    0.18667 (2) obj. -225 iterations 13\nCbc0038I Pass  38: suminf.    0.60572 (4) obj. -225 iterations 10\nCbc0038I Pass  39: suminf.    0.55246 (4) obj. -225 iterations 3\nCbc0038I Pass  40: suminf.    0.90000 (3) obj. -225 iterations 8\nCbc0038I Pass  41: suminf.    0.90000 (3) obj. -225 iterations 1\nCbc0038I Pass  42: suminf.    0.72410 (4) obj. -225 iterations 10\nCbc0038I Pass  43: suminf.    0.56667 (3) obj. -225 iterations 11\nCbc0038I Pass  44: suminf.    0.25143 (3) obj. -225 iterations 6\nCbc0038I Pass  45: suminf.    0.18667 (2) obj. -225 iterations 16\nCbc0038I Pass  46: suminf.    0.12000 (2) obj. -235 iterations 1\nCbc0038I Pass  47: suminf.    0.56667 (3) obj. -225 iterations 6\nCbc0038I Pass  48: suminf.    0.82724 (7) obj. -225 iterations 31\nCbc0038I Pass  49: suminf.    0.82730 (7) obj. -225 iterations 2\nCbc0038I Pass  50: suminf.    0.59837 (5) obj. -225 iterations 25\nCbc0038I Pass  51: suminf.    0.61314 (6) obj. -273.399 iterations 23\nCbc0038I Pass  52: suminf.    0.63333 (3) obj. -225 iterations 25\nCbc0038I Pass  53: suminf.    0.89613 (4) obj. -225 iterations 7\nCbc0038I Pass  54: suminf.    0.40296 (5) obj. -225 iterations 8\nCbc0038I Pass  55: suminf.    0.52545 (3) obj. -225 iterations 17\nCbc0038I Pass  56: suminf.    0.35917 (4) obj. -247.806 iterations 4\nCbc0038I Pass  57: suminf.    0.23800 (3) obj. -225 iterations 19\nCbc0038I Pass  58: suminf.    0.23800 (3) obj. -225 iterations 0\nCbc0038I Pass  59: suminf.    0.44904 (3) obj. -225 iterations 12\nCbc0038I No solution found this major pass\nCbc0038I Before mini branch and bound, 12 integers at bound fixed and 0 continuous\nCbc0038I Full problem 125 rows 46 columns, reduced to 95 rows 34 columns\nCbc0038I Mini branch and bound did not improve solution (0.03 seconds)\nCbc0038I After 0.03 seconds - Feasibility pump exiting with objective of -150 - took 0.02 seconds\nCbc0012I Integer solution of -150 found by feasibility pump after 0 iterations and 0 nodes (0.03 seconds)\nCbc0038I Full problem 125 rows 46 columns, reduced to 0 rows 0 columns\nCbc0012I Integer solution of -300 found by DiveCoefficient after 31 iterations and 0 nodes (0.03 seconds)\nCbc0013I At root node, 0 cuts changed objective from -450 to -300 in 3 passes\nCbc0014I Cut generator 0 (Probing) - 37 row cuts average 2.0 elements, 12 column cuts (12 active)  in 0.000 seconds - new frequency is 1\nCbc0014I Cut generator 1 (Gomory) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\nCbc0014I Cut generator 2 (Knapsack) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\nCbc0014I Cut generator 3 (Clique) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\nCbc0014I Cut generator 4 (MixedIntegerRounding2) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\nCbc0014I Cut generator 5 (FlowCover) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\nCbc0001I Search completed - best objective -300, took 31 iterations and 0 nodes (0.03 seconds)\nCbc0035I Maximum depth 0, 2 variables fixed on reduced cost\nCuts at root node changed objective from -450 to -300\nProbing was tried 3 times and created 49 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nGomory was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nKnapsack was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nClique was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nMixedIntegerRounding2 was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nFlowCover was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nTwoMirCuts was tried 1 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nZeroHalf was tried 1 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\n\nResult - Optimal solution found\n\nObjective value:                300.00000000\nEnumerated nodes:               0\nTotal iterations:               31\nTime (CPU seconds):             0.03\nTime (Wallclock seconds):       0.03\n\nOption for printingOptions changed from normal to all\nTotal time (CPU seconds):       0.03   (Wallclock seconds):       0.03\n\nPnL total: 300.00\nAssigned rows: 3/6\nBounds:\n    lower  upper\nv1    1.5    4.0\nv2    3.5    7.0\nv3    3.5    7.0\nv4    3.5    7.0\nv5    3.5    7.0\n</code></pre>\n<p>This strategy can be <a href=\"https://or.stackexchange.com/questions/617/solving-mip-in-java-with-free-software\">carried to Java</a> without too much fuss.</p>\n"},{"tags":[],"owner":{"account_id":24435593,"reputation":1,"user_id":18359920,"display_name":"GodCatHuSky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681452658,"creation_date":1681452658,"answer_id":76012041,"question_id":75840798,"body_markdown":"i have two questions , i think you hope one table have many columns，you need get every columns min and max value? \r\n v1 v2  v3  pnl\r\n7, 8, 12, 100.50,\r\n6, 9, 14, -200.10,\r\n5, 10, 13, 150.25,\r\n8, 11, 15, -510.35,\r\ni run you code ,result is \r\n\r\nmaxPnL: 250.75\r\nv0 Min: 5, Max: 8\r\nv1 Min: 8, Max: 11\r\nv2 Min: 12, Max: 13\r\nquestion 1:last result ,max why is 13? ,But isn&#39;t it 15.\r\nquestion 2:maxPnL How is it calculated?","title":"Find min max range of multiple variables the results in maximum PnL","body":"<p>i have two questions , i think you hope one table have many columns，you need get every columns min and max value?\nv1 v2  v3  pnl\n7, 8, 12, 100.50,\n6, 9, 14, -200.10,\n5, 10, 13, 150.25,\n8, 11, 15, -510.35,\ni run you code ,result is</p>\n<p>maxPnL: 250.75\nv0 Min: 5, Max: 8\nv1 Min: 8, Max: 11\nv2 Min: 12, Max: 13\nquestion 1:last result ,max why is 13? ,But isn't it 15.\nquestion 2:maxPnL How is it calculated?</p>\n"}],"owner":{"account_id":1187182,"reputation":31,"user_id":1160919,"display_name":"Amar"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":803,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":3,"score":1,"last_activity_date":1681452658,"creation_date":1679736985,"question_id":75840798,"body_markdown":"Given a table of N columns, all columns except last are variables and the last column is PnL (Profit and Loss). Each variable value is a whole number (no fractions, decimals) greater than or equals 0 and less than 20. PnL values can be greater than or less than zero.\r\n\r\nActual dataset may have upto 40 variables and 30,000 rows.\r\n\r\nI&#39;m trying to write a program to find minimum and maximum value for each variable such that the sum of matching PnL values derived from combination of all those minimum and maximum ranges results in the highest value.\r\n\r\nSample Data:  \r\nLarge: https://drive.google.com/file/d/1afKF0mepBUWq0-inKIEOpKpzawBh9Z0Q/view?usp=sharing   \r\nMedium: https://drive.google.com/file/d/1MGHdwBHYc0XVsup7I4bAJSHCl7V_J428/view?usp=sharing\r\n\r\nAnother example. A solution for below tiny table is:\r\n```none\r\n(1 &lt;= v1 &lt;= 2) &amp;&amp; (4 &lt;= v2 &lt;= 5); PnL Sum = 6 (3.5 + 2.5)\r\n\r\nV1\tV2\tPnL\r\n1\t4\t3.5\r\n2\t5\t2.5\r\n2\t6\t-11.0\r\n```\r\nI came up with [brute force approach][1], i.e. trying all possible combinations to find maximum PnL, but it takes too much time when more than 3 variables are involved.  \r\n\r\nBrute Force Approach (too slow for &gt;3 variables):\r\n```java\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\n/*\r\n * Brute Force Solution\r\n */\r\npublic class VariableOptimizer {\r\n\r\n    double maxPnL = Double.NEGATIVE_INFINITY;\r\n    int[][] optimalMinMax = null;\r\n    double[][] varMinMax = null;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        /*\r\n            Constraints:\r\n            Vairables are whole Numbers (no fractions, decimals) and range between 0 to 19;\r\n            i.e. variable v &gt;= 0 and &lt;= 19\r\n         */\r\n        double[][] data = {\r\n              //{v1, v2, v3, PnL}\r\n                {7, 8, 12, 100.50},\r\n                {6, 9, 14, -200.10},\r\n                {5, 10, 13, 150.25},\r\n                {8, 11, 15, -510.35},\r\n        };\r\n\r\n        //data = loadCsv(&quot;./Optimize-MinMax.csv&quot;); //or load data from file\r\n\r\n        VariableOptimizer variableOptimizer = new VariableOptimizer();\r\n\r\n        variableOptimizer.findOptimalMinMax(data, 0, null);\r\n\r\n        System.out.println(&quot;maxPnL: &quot; + variableOptimizer.maxPnL);\r\n\r\n        for (int i = 0; i &lt; variableOptimizer.optimalMinMax.length; i++){\r\n            System.out.println(&quot;v&quot; +i + &quot; Min: &quot; + variableOptimizer.optimalMinMax[i][0] + &quot;, Max: &quot; + variableOptimizer.optimalMinMax[i][1]);\r\n        }\r\n    }\r\n\r\n    public void findOptimalMinMax(double[][] data, int varIdx, int[][] varMinMaxConditions){\r\n\r\n        int noOfVars = data[0].length-1;\r\n\r\n        if (varMinMaxConditions == null) {\r\n            varMinMaxConditions = new int[noOfVars][2];\r\n        }\r\n\r\n        if (varIdx == noOfVars) {\r\n\r\n            double pnl = calculatePnl(data, varMinMaxConditions);\r\n\r\n            if (pnl &gt;= maxPnL) {\r\n                maxPnL = pnl;\r\n                optimalMinMax = java.util.Arrays.stream(varMinMaxConditions)\r\n                        .map(a -&gt;  java.util.Arrays.copyOf(a, a.length))\r\n                        .toArray(int[][]::new);\r\n            }\r\n            return;\r\n        }\r\n\r\n        double[][] varMinMax = getVarMinMax(data);\r\n        int varMin = (int)varMinMax[varIdx][0];\r\n        int varMax = (int)varMinMax[varIdx][1];\r\n\r\n        for (int i = varMin; i &lt;= varMax; i++) {\r\n            for (int j = i; j &lt;= varMax; j++ ) {\r\n\r\n                varMinMaxConditions[varIdx][0] = i;\r\n                varMinMaxConditions[varIdx][1] = j;\r\n\r\n                findOptimalMinMax(data, varIdx + 1, varMinMaxConditions);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static double calculatePnl(double[][] data, int[][] varMinMaxConditions){\r\n\r\n        double pnl = 0;\r\n\r\n        for (int i = 0; i &lt; data.length; i++) {\r\n\r\n            double[] row = data[i];\r\n            double rowPnl = row[row.length-1];\r\n\r\n            boolean includeRow = true;\r\n            for (int j = 0; j &lt; varMinMaxConditions.length; j++){\r\n\r\n                double varMin = varMinMaxConditions[j][0];\r\n                double varMax = varMinMaxConditions[j][1];\r\n\r\n                if (varMin &gt; row[j] || row[j] &gt; varMax){\r\n                    includeRow = false;\r\n                }\r\n            }\r\n\r\n            if (includeRow) {\r\n                pnl += rowPnl;\r\n            }\r\n        }\r\n\r\n        return pnl;\r\n    }\r\n\r\n    public double[][] getVarMinMax(double[][] data){\r\n\r\n        if (varMinMax == null) {\r\n            int noOfVars = data[0].length - 1;\r\n\r\n            varMinMax = new double[noOfVars][2];\r\n\r\n            for (int rowIdx = 0; rowIdx &lt; data.length; rowIdx++) {\r\n                for (int varIdx = 0; varIdx &lt; noOfVars; varIdx++) {\r\n                    if (rowIdx &gt; 0) {\r\n                        varMinMax[varIdx][0] = Math.min(data[rowIdx][varIdx], varMinMax[varIdx][0]);\r\n                        varMinMax[varIdx][1] = (int)Math.max(data[rowIdx][varIdx], varMinMax[varIdx][1]);\r\n                    } else {\r\n                        varMinMax[varIdx][0] = data[rowIdx][varIdx];\r\n                        varMinMax[varIdx][1] = data[rowIdx][varIdx];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return varMinMax;\r\n    }\r\n\r\n    public static double[][] loadCsv(String file){\r\n        List&lt;double[]&gt; rows = new ArrayList&lt;&gt;();\r\n        try {\r\n            Files.lines(Paths.get(file)).forEach(s -&gt; {\r\n                if (!java.lang.Character.isDigit(s.charAt(0))) return;\r\n                String[] line = s.split(&quot;,&quot;);\r\n                double[] row = Arrays.stream(line)\r\n                        .mapToDouble(Double::parseDouble)\r\n                        .toArray();\r\n                rows.add(row);\r\n            });\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        double[][] result = new double[rows.size()][];\r\n        for (int i = 0; i &lt; rows.size(); i++) {\r\n            result[i] = rows.get(i);\r\n        }\r\n        return result;\r\n    }\r\n}\r\n\r\n```\r\n\r\nCan someone please help solve this? \r\n\r\n\r\n  [1]: https://gist.github.com/amarsheriff/00427e74bcc578c1c13b0e7eaf171060","title":"Find min max range of multiple variables the results in maximum PnL","body":"<p>Given a table of N columns, all columns except last are variables and the last column is PnL (Profit and Loss). Each variable value is a whole number (no fractions, decimals) greater than or equals 0 and less than 20. PnL values can be greater than or less than zero.</p>\n<p>Actual dataset may have upto 40 variables and 30,000 rows.</p>\n<p>I'm trying to write a program to find minimum and maximum value for each variable such that the sum of matching PnL values derived from combination of all those minimum and maximum ranges results in the highest value.</p>\n<p>Sample Data:<br />\nLarge: <a href=\"https://drive.google.com/file/d/1afKF0mepBUWq0-inKIEOpKpzawBh9Z0Q/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1afKF0mepBUWq0-inKIEOpKpzawBh9Z0Q/view?usp=sharing</a><br />\nMedium: <a href=\"https://drive.google.com/file/d/1MGHdwBHYc0XVsup7I4bAJSHCl7V_J428/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1MGHdwBHYc0XVsup7I4bAJSHCl7V_J428/view?usp=sharing</a></p>\n<p>Another example. A solution for below tiny table is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>(1 &lt;= v1 &lt;= 2) &amp;&amp; (4 &lt;= v2 &lt;= 5); PnL Sum = 6 (3.5 + 2.5)\n\nV1  V2  PnL\n1   4   3.5\n2   5   2.5\n2   6   -11.0\n</code></pre>\n<p>I came up with <a href=\"https://gist.github.com/amarsheriff/00427e74bcc578c1c13b0e7eaf171060\" rel=\"nofollow noreferrer\">brute force approach</a>, i.e. trying all possible combinations to find maximum PnL, but it takes too much time when more than 3 variables are involved.</p>\n<p>Brute Force Approach (too slow for &gt;3 variables):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\n/*\n * Brute Force Solution\n */\npublic class VariableOptimizer {\n\n    double maxPnL = Double.NEGATIVE_INFINITY;\n    int[][] optimalMinMax = null;\n    double[][] varMinMax = null;\n\n    public static void main(String[] args) {\n\n        /*\n            Constraints:\n            Vairables are whole Numbers (no fractions, decimals) and range between 0 to 19;\n            i.e. variable v &gt;= 0 and &lt;= 19\n         */\n        double[][] data = {\n              //{v1, v2, v3, PnL}\n                {7, 8, 12, 100.50},\n                {6, 9, 14, -200.10},\n                {5, 10, 13, 150.25},\n                {8, 11, 15, -510.35},\n        };\n\n        //data = loadCsv(&quot;./Optimize-MinMax.csv&quot;); //or load data from file\n\n        VariableOptimizer variableOptimizer = new VariableOptimizer();\n\n        variableOptimizer.findOptimalMinMax(data, 0, null);\n\n        System.out.println(&quot;maxPnL: &quot; + variableOptimizer.maxPnL);\n\n        for (int i = 0; i &lt; variableOptimizer.optimalMinMax.length; i++){\n            System.out.println(&quot;v&quot; +i + &quot; Min: &quot; + variableOptimizer.optimalMinMax[i][0] + &quot;, Max: &quot; + variableOptimizer.optimalMinMax[i][1]);\n        }\n    }\n\n    public void findOptimalMinMax(double[][] data, int varIdx, int[][] varMinMaxConditions){\n\n        int noOfVars = data[0].length-1;\n\n        if (varMinMaxConditions == null) {\n            varMinMaxConditions = new int[noOfVars][2];\n        }\n\n        if (varIdx == noOfVars) {\n\n            double pnl = calculatePnl(data, varMinMaxConditions);\n\n            if (pnl &gt;= maxPnL) {\n                maxPnL = pnl;\n                optimalMinMax = java.util.Arrays.stream(varMinMaxConditions)\n                        .map(a -&gt;  java.util.Arrays.copyOf(a, a.length))\n                        .toArray(int[][]::new);\n            }\n            return;\n        }\n\n        double[][] varMinMax = getVarMinMax(data);\n        int varMin = (int)varMinMax[varIdx][0];\n        int varMax = (int)varMinMax[varIdx][1];\n\n        for (int i = varMin; i &lt;= varMax; i++) {\n            for (int j = i; j &lt;= varMax; j++ ) {\n\n                varMinMaxConditions[varIdx][0] = i;\n                varMinMaxConditions[varIdx][1] = j;\n\n                findOptimalMinMax(data, varIdx + 1, varMinMaxConditions);\n            }\n        }\n    }\n\n    public static double calculatePnl(double[][] data, int[][] varMinMaxConditions){\n\n        double pnl = 0;\n\n        for (int i = 0; i &lt; data.length; i++) {\n\n            double[] row = data[i];\n            double rowPnl = row[row.length-1];\n\n            boolean includeRow = true;\n            for (int j = 0; j &lt; varMinMaxConditions.length; j++){\n\n                double varMin = varMinMaxConditions[j][0];\n                double varMax = varMinMaxConditions[j][1];\n\n                if (varMin &gt; row[j] || row[j] &gt; varMax){\n                    includeRow = false;\n                }\n            }\n\n            if (includeRow) {\n                pnl += rowPnl;\n            }\n        }\n\n        return pnl;\n    }\n\n    public double[][] getVarMinMax(double[][] data){\n\n        if (varMinMax == null) {\n            int noOfVars = data[0].length - 1;\n\n            varMinMax = new double[noOfVars][2];\n\n            for (int rowIdx = 0; rowIdx &lt; data.length; rowIdx++) {\n                for (int varIdx = 0; varIdx &lt; noOfVars; varIdx++) {\n                    if (rowIdx &gt; 0) {\n                        varMinMax[varIdx][0] = Math.min(data[rowIdx][varIdx], varMinMax[varIdx][0]);\n                        varMinMax[varIdx][1] = (int)Math.max(data[rowIdx][varIdx], varMinMax[varIdx][1]);\n                    } else {\n                        varMinMax[varIdx][0] = data[rowIdx][varIdx];\n                        varMinMax[varIdx][1] = data[rowIdx][varIdx];\n                    }\n                }\n            }\n        }\n\n        return varMinMax;\n    }\n\n    public static double[][] loadCsv(String file){\n        List&lt;double[]&gt; rows = new ArrayList&lt;&gt;();\n        try {\n            Files.lines(Paths.get(file)).forEach(s -&gt; {\n                if (!java.lang.Character.isDigit(s.charAt(0))) return;\n                String[] line = s.split(&quot;,&quot;);\n                double[] row = Arrays.stream(line)\n                        .mapToDouble(Double::parseDouble)\n                        .toArray();\n                rows.add(row);\n            });\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n\n        double[][] result = new double[rows.size()][];\n        for (int i = 0; i &lt; rows.size(); i++) {\n            result[i] = rows.get(i);\n        }\n        return result;\n    }\n}\n\n</code></pre>\n<p>Can someone please help solve this?</p>\n"},{"tags":["java","android","google-cloud-platform","google-cloud-firestore","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1681452346,"post_id":76009624,"comment_id":134061445,"body_markdown":"Aside from my answer, if you understand Kotlin, I think that this [resource](https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseSignInWithGoogle).","body":"Aside from my answer, if you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseSignInWithGoogle\" rel=\"nofollow noreferrer\">repo</a>."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681452166,"creation_date":1681452166,"answer_id":76012003,"question_id":76009624,"body_markdown":"As far as I can see, all exceptions are present inside [com.google.android.gms.common.api][1] package. If you check the [Exceptions][2] section, you&#39;ll see that only 4 exceptions are present:\r\n\r\n 1. [ApiException][3]\r\n 2. [AvailabilityException][4]\r\n 3. [ResolvableApiException][5]\r\n 4. [UnsupportedApiCallException][6]\r\n\r\nNow, when it comes to the [SignInClient#bbeginSignIn(BeginSignInRequest signInRequest)][7] method, we can see that it is not declared to throw an exception at all. However, the documentation says:\r\n\r\n&gt; If the request cannot be honored, an **exception** will be set on the returned Task. In all other cases, a BeginSignInResult will be returned.\r\n\r\nSo if there is a failure, [OnFailureListener#onFailure(Exception e)][8] will be called with an Exception. As you noticed, it can be an [UnsupportedApiCallException][6].\r\n\r\nOn the other hand, methods like [SignInClient#getPhoneNumberFromIntent(Intent data)][9] or [SignInClient#getSignInCredentialFromIntent(Intent data)][10] are explicitly declared that can throw an [ApiException][3].\r\n\r\n\r\n  [1]: https://developers.google.com/android/reference/com/google/android/gms/common/api/package-summary\r\n  [2]: https://developers.google.com/android/reference/com/google/android/gms/common/api/package-summary#exceptions\r\n  [3]: https://developers.google.com/android/reference/com/google/android/gms/common/api/ApiException\r\n  [4]: https://developers.google.com/android/reference/com/google/android/gms/common/api/AvailabilityException\r\n  [5]: https://developers.google.com/android/reference/com/google/android/gms/common/api/ResolvableApiException\r\n  [6]: https://developers.google.com/android/reference/com/google/android/gms/common/api/UnsupportedApiCallException\r\n  [7]: https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#beginSignIn(com.google.android.gms.auth.api.identity.BeginSignInRequest)\r\n  [8]: https://developers.google.com/android/reference/com/google/android/gms/tasks/OnFailureListener#onFailure(java.lang.Exception)\r\n  [9]: https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#getPhoneNumberFromIntent(android.content.Intent)\r\n  [10]: https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#getSignInCredentialFromIntent(android.content.Intent)","title":"Where can I find a list of possible exceptions that SignInClient.beginSignIn can throw on addOnFailureListener","body":"<p>As far as I can see, all exceptions are present inside <a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/package-summary\" rel=\"nofollow noreferrer\">com.google.android.gms.common.api</a> package. If you check the <a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/package-summary#exceptions\" rel=\"nofollow noreferrer\">Exceptions</a> section, you'll see that only 4 exceptions are present:</p>\n<ol>\n<li><a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/ApiException\" rel=\"nofollow noreferrer\">ApiException</a></li>\n<li><a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/AvailabilityException\" rel=\"nofollow noreferrer\">AvailabilityException</a></li>\n<li><a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/ResolvableApiException\" rel=\"nofollow noreferrer\">ResolvableApiException</a></li>\n<li><a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/UnsupportedApiCallException\" rel=\"nofollow noreferrer\">UnsupportedApiCallException</a></li>\n</ol>\n<p>Now, when it comes to the <a href=\"https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#beginSignIn(com.google.android.gms.auth.api.identity.BeginSignInRequest)\" rel=\"nofollow noreferrer\">SignInClient#bbeginSignIn(BeginSignInRequest signInRequest)</a> method, we can see that it is not declared to throw an exception at all. However, the documentation says:</p>\n<blockquote>\n<p>If the request cannot be honored, an <strong>exception</strong> will be set on the returned Task. In all other cases, a BeginSignInResult will be returned.</p>\n</blockquote>\n<p>So if there is a failure, <a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/OnFailureListener#onFailure(java.lang.Exception)\" rel=\"nofollow noreferrer\">OnFailureListener#onFailure(Exception e)</a> will be called with an Exception. As you noticed, it can be an <a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/UnsupportedApiCallException\" rel=\"nofollow noreferrer\">UnsupportedApiCallException</a>.</p>\n<p>On the other hand, methods like <a href=\"https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#getPhoneNumberFromIntent(android.content.Intent)\" rel=\"nofollow noreferrer\">SignInClient#getPhoneNumberFromIntent(Intent data)</a> or <a href=\"https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#getSignInCredentialFromIntent(android.content.Intent)\" rel=\"nofollow noreferrer\">SignInClient#getSignInCredentialFromIntent(Intent data)</a> are explicitly declared that can throw an <a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/ApiException\" rel=\"nofollow noreferrer\">ApiException</a>.</p>\n"}],"owner":{"account_id":11052429,"reputation":478,"user_id":10089200,"display_name":"Shout"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76012003,"answer_count":1,"score":1,"last_activity_date":1681452232,"creation_date":1681418002,"question_id":76009624,"body_markdown":"Where can I find a list of possible exceptions that SignInClient.beginSignIn can throw on addOnFailureListener?\r\n\r\n```java\r\nSignInClient oneTapClient = Identity.getSignInClient(requireActivity());\r\noneTapClient.beginSignIn(oneTapSignInRequest).\r\n    addOnSuccessListener(requireActivity(), result -&gt; {\r\n        //...\r\n    }).\r\n    addOnFailureListener(requireActivity(), exception -&gt; {\r\n        //What kind of exception can be caught here?\r\n    });\r\n```\r\n\r\nI&#39;ve found that one possible exception may be `UnsupportedApiCallException` and I&#39;ve got it handled. There probably are more different types of exceptions and I want to handle them separately. \r\n\r\nIn the [documentation][1], there is nothing written that could help me.\r\n\r\n\r\n  [1]: https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#beginSignIn(com.google.android.gms.auth.api.identity.BeginSignInRequest)","title":"Where can I find a list of possible exceptions that SignInClient.beginSignIn can throw on addOnFailureListener","body":"<p>Where can I find a list of possible exceptions that SignInClient.beginSignIn can throw on addOnFailureListener?</p>\n<pre class=\"lang-java prettyprint-override\"><code>SignInClient oneTapClient = Identity.getSignInClient(requireActivity());\noneTapClient.beginSignIn(oneTapSignInRequest).\n    addOnSuccessListener(requireActivity(), result -&gt; {\n        //...\n    }).\n    addOnFailureListener(requireActivity(), exception -&gt; {\n        //What kind of exception can be caught here?\n    });\n</code></pre>\n<p>I've found that one possible exception may be <code>UnsupportedApiCallException</code> and I've got it handled. There probably are more different types of exceptions and I want to handle them separately.</p>\n<p>In the <a href=\"https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#beginSignIn(com.google.android.gms.auth.api.identity.BeginSignInRequest)\" rel=\"nofollow noreferrer\">documentation</a>, there is nothing written that could help me.</p>\n"},{"tags":["java","spring-boot","logging","slf4j","java.util.logging"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1681451692,"post_id":76011916,"comment_id":134061335,"body_markdown":"generally, for info, its something that NEED TO KNOW, so that when looking over a log you can probably trace the execution of your program from a &quot;larger&quot; perspective. Then debug would be finer grained so that you can look at the values etc as it is being processed. Then trace would be even finer grained where you can even see how it enters/exits a method. Though this is kinda subjective, and up to you","body":"generally, for info, its something that NEED TO KNOW, so that when looking over a log you can probably trace the execution of your program from a &quot;larger&quot; perspective. Then debug would be finer grained so that you can look at the values etc as it is being processed. Then trace would be even finer grained where you can even see how it enters/exits a method. Though this is kinda subjective, and up to you"}],"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681467937,"answer_count":0,"score":0,"last_activity_date":1681451065,"creation_date":1681451065,"question_id":76011916,"body_markdown":"I am working on a project that enhances the operability of my application by going through all the application logic and decide what to log and what level where to use. I am stuck between the usage of TRACE and DEBUG. For example in a method:\r\n\r\n    public void search(String text) {\r\n       log.trace(&quot;Inside search() method&quot;);\r\n       log.info(&quot;search text value:{}&quot;, text);\r\n       ...\r\n    }\r\n\r\nIs this the correct approach for logging?","title":"Slf4j/logging When to use TRACE and DEBUG in your applicaton?","body":"<p>I am working on a project that enhances the operability of my application by going through all the application logic and decide what to log and what level where to use. I am stuck between the usage of TRACE and DEBUG. For example in a method:</p>\n<pre><code>public void search(String text) {\n   log.trace(&quot;Inside search() method&quot;);\n   log.info(&quot;search text value:{}&quot;, text);\n   ...\n}\n</code></pre>\n<p>Is this the correct approach for logging?</p>\n"},{"tags":["java","pcf"],"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681450862,"creation_date":1681450862,"question_id":76011898,"body_markdown":"I use PCF with buildpacks for Java app and I want to go to the docker shell and run some tools inside on docker container. \r\n\r\nHow can I do that? In K8S is very easy but in PCF is terrible to get there. ","title":"PCF how go to docker shell","body":"<p>I use PCF with buildpacks for Java app and I want to go to the docker shell and run some tools inside on docker container.</p>\n<p>How can I do that? In K8S is very easy but in PCF is terrible to get there.</p>\n"},{"tags":["javascript","java","encryption","aes"],"comments":[{"owner":{"account_id":4229706,"reputation":10684,"user_id":3462319,"accept_rate":85,"display_name":"depperm"},"score":0,"creation_date":1680529236,"post_id":75920107,"comment_id":133909109,"body_markdown":"in js your `encrypt` is passed a param but doesn&#39;t take one","body":"in js your <code>encrypt</code> is passed a param but doesn&#39;t take one"},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":2,"creation_date":1680529309,"post_id":75920107,"comment_id":133909125,"body_markdown":"Why is this encryption needed? If your website properly uses SSL/TLS (as it should) then the data is already encrypted when it&#39;s in transit.","body":"Why is this encryption needed? If your website properly uses SSL/TLS (as it should) then the data is already encrypted when it&#39;s in transit."},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":1,"creation_date":1680529761,"post_id":75920107,"comment_id":133909260,"body_markdown":"And if your website doesn&#39;t use SSL/TLS. or its content can be read in transit in any other way, then the encryption would still add no value, because your JS encryption method and keys are then also visible, meaning an attacker could just decrypt the data with this information.","body":"And if your website doesn&#39;t use SSL/TLS. or its content can be read in transit in any other way, then the encryption would still add no value, because your JS encryption method and keys are then also visible, meaning an attacker could just decrypt the data with this information."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1680530531,"post_id":75920107,"comment_id":133909506,"body_markdown":"Obviously in the Java code `md5()` returns the hex encoded IV. This must therefore be hex decoded before being passed to `IvParameterSpec` (e.g. with `HexFormat.of().parseHex()`). Furthermore the ciphertext has to be hex encoded for a comparison with the JavaScript code (e.g. with `HexFormat.of().formatHex()`).","body":"Obviously in the Java code <code>md5()</code> returns the hex encoded IV. This must therefore be hex decoded before being passed to <code>IvParameterSpec</code> (e.g. with <code>HexFormat.of().parseHex()</code>). Furthermore the ciphertext has to be hex encoded for a comparison with the JavaScript code (e.g. with <code>HexFormat.of().formatHex()</code>)."},{"owner":{"account_id":17124342,"reputation":1,"user_id":12391920,"display_name":"vicinl"},"score":0,"creation_date":1680532812,"post_id":75920107,"comment_id":133910225,"body_markdown":"Thanks Topaco, that makes full sense. I have updated the question with the MD5 method.\nOnly I cannot use HexFormat as I am obliged to use Java 8.. Any suggestion on how to do this in Java 8, without using HexFormat ?","body":"Thanks Topaco, that makes full sense. I have updated the question with the MD5 method. Only I cannot use HexFormat as I am obliged to use Java 8.. Any suggestion on how to do this in Java 8, without using HexFormat ?"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1680534303,"post_id":75920107,"comment_id":133910661,"body_markdown":"See e.g. [hex encoding](https://stackoverflow.com/a/9855338/9014097) and [hex decoding](https://stackoverflow.com/a/140861/9014097) or third party libraries like BouncyCastle or Apache Commons Codec","body":"See e.g. <a href=\"https://stackoverflow.com/a/9855338/9014097\">hex encoding</a> and <a href=\"https://stackoverflow.com/a/140861/9014097\">hex decoding</a> or third party libraries like BouncyCastle or Apache Commons Codec"}],"answers":[{"tags":[],"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680534378,"creation_date":1680534378,"answer_id":75920966,"question_id":75920107,"body_markdown":"Well vicinl, Your Java code has few issues.\r\n\r\nThe first fact I want to point you out is Whenever we convert bytes to Hex String. The length of the Hex String will be doubled. i.e. 16 bytes will produce 32 lengths of worth Hexadecimal string in their equivalent representation.\r\n\r\nNot to mention in your Java code you are converting something which is inherently in bytes to a hex string and giving input using tobytes of the hexadecimal string which doesn&#39;t makes sense as those are not the same. This is the unnecessary overhead of conversion (That too incorrect one).\r\n\r\nInstead, I  can rewrite my md5 method as follow:\r\n\r\n \r\n\r\n     public static String md5(String str) {\r\n            MessageDigest messageDigest = null;\r\n            try {//from   w w  w  . j a  v  a  2  s.  c o m\r\n                messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\r\n                messageDigest.reset();\r\n                messageDigest.update(str.getBytes(&quot;UTF-8&quot;));\r\n            } catch (NoSuchAlgorithmException e) {\r\n                System.out.println(&quot;NoSuchAlgorithmException caught!&quot;);\r\n                System.exit(-1);\r\n            } catch (UnsupportedEncodingException e) {\r\n                e.printStackTrace();\r\n            }\r\n            byte[] byteArray = messageDigest.digest();\r\n            byte[] iv = new byte[16];\r\n            for (int x=0; x&lt; 16;x++){\r\n            // this for loop need to be written as per your requirement.\r\n            iv[x]=byteArray[x];\r\n            }\r\n            return iv;\r\n        }\r\n\r\nBasic reference:\r\nhttps://stackoverflow.com/questions/9655181/how-to-convert-a-byte-array-to-a-hex-string-in-java\r\n\r\nReference for AES:\r\nhttps://www.baeldung.com/java-aes-encryption-decryption\r\n\r\nHope this helps, Thanks.","title":"AES encryption between Java (server) and JS (client)","body":"<p>Well vicinl, Your Java code has few issues.</p>\n<p>The first fact I want to point you out is Whenever we convert bytes to Hex String. The length of the Hex String will be doubled. i.e. 16 bytes will produce 32 lengths of worth Hexadecimal string in their equivalent representation.</p>\n<p>Not to mention in your Java code you are converting something which is inherently in bytes to a hex string and giving input using tobytes of the hexadecimal string which doesn't makes sense as those are not the same. This is the unnecessary overhead of conversion (That too incorrect one).</p>\n<p>Instead, I  can rewrite my md5 method as follow:</p>\n<pre><code> public static String md5(String str) {\n        MessageDigest messageDigest = null;\n        try {//from   w w  w  . j a  v  a  2  s.  c o m\n            messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\n            messageDigest.reset();\n            messageDigest.update(str.getBytes(&quot;UTF-8&quot;));\n        } catch (NoSuchAlgorithmException e) {\n            System.out.println(&quot;NoSuchAlgorithmException caught!&quot;);\n            System.exit(-1);\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\n        byte[] byteArray = messageDigest.digest();\n        byte[] iv = new byte[16];\n        for (int x=0; x&lt; 16;x++){\n        // this for loop need to be written as per your requirement.\n        iv[x]=byteArray[x];\n        }\n        return iv;\n    }\n</code></pre>\n<p>Basic reference:\n<a href=\"https://stackoverflow.com/questions/9655181/how-to-convert-a-byte-array-to-a-hex-string-in-java\">How to convert a byte array to a hex string in Java?</a></p>\n<p>Reference for AES:\n<a href=\"https://www.baeldung.com/java-aes-encryption-decryption\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-aes-encryption-decryption</a></p>\n<p>Hope this helps, Thanks.</p>\n"},{"tags":[],"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681450678,"creation_date":1681450174,"answer_id":76011851,"question_id":75920107,"body_markdown":"&gt; I need the user to enter credentials into the HTML page, then javascript to encrypt them and send them to the server, where I need to decrypt them in Java.\r\n\r\n**Just use proper TLS/SSL.** Do not reinvent the wheel please. The SSL will properly encrypt all traffic between the client and server. You cannot do better yourself. \r\n\r\nThe code provided (both Java and JS) has multiple issues (from hardcoded iv/key, no integrity validation for cbc,.. to potentially different encoding). Yet for the defined use case it is completely not needed.\r\n\r\n&gt; InvalidAlgorithmParameterException\r\n\r\nIV must be 128 bit (16 bytes) long. JS quietly and unfortunately truncaces or zero-pads input with invalid length. \r\n\r\n**The md5 fn returns hex encoded digest, which leads to 32 byte value.** When using crypto, always use byte array (or buffer for JS) and encode/decode to text for final input/output. \r\n\r\nI wrote [some notes](https://gusto77.wordpress.com/2017/10/30/encryption-reference-project/) for crypto basics. Hard part in crypto is that all pieces must be present and fit. Just copy/paste code without understanding will provide false feeling for security. \r\n\r\nWe can just hope the credentials stored in DB are properly encrypted.\r\n\r\np.s.: why the ***** are people writing own hex encode/decode functions?? (except for homework) ","title":"AES encryption between Java (server) and JS (client)","body":"<blockquote>\n<p>I need the user to enter credentials into the HTML page, then javascript to encrypt them and send them to the server, where I need to decrypt them in Java.</p>\n</blockquote>\n<p><strong>Just use proper TLS/SSL.</strong> Do not reinvent the wheel please. The SSL will properly encrypt all traffic between the client and server. You cannot do better yourself.</p>\n<p>The code provided (both Java and JS) has multiple issues (from hardcoded iv/key, no integrity validation for cbc,.. to potentially different encoding). Yet for the defined use case it is completely not needed.</p>\n<blockquote>\n<p>InvalidAlgorithmParameterException</p>\n</blockquote>\n<p>IV must be 128 bit (16 bytes) long. JS quietly and unfortunately truncaces or zero-pads input with invalid length.</p>\n<p><strong>The md5 fn returns hex encoded digest, which leads to 32 byte value.</strong> When using crypto, always use byte array (or buffer for JS) and encode/decode to text for final input/output.</p>\n<p>I wrote <a href=\"https://gusto77.wordpress.com/2017/10/30/encryption-reference-project/\" rel=\"nofollow noreferrer\">some notes</a> for crypto basics. Hard part in crypto is that all pieces must be present and fit. Just copy/paste code without understanding will provide false feeling for security.</p>\n<p>We can just hope the credentials stored in DB are properly encrypted.</p>\n<p>p.s.: why the ***** are people writing own hex encode/decode functions?? (except for homework)</p>\n"}],"owner":{"account_id":17124342,"reputation":1,"user_id":12391920,"display_name":"vicinl"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681450678,"creation_date":1680529117,"question_id":75920107,"body_markdown":"I have a server running in JAVA and I am creating a client with HTML and Javascript (about which I am less knowledgeable). The server accesses log-in credentials stored in a database with AES encryption.\r\nI need the user to enter credentials into the HTML page, then javascript to encrypt them and send them to the server, where I need to decrypt them in Java. I have found many threads online but cannot solve my problem: the encryption with JS and Java produce different results.\r\n\r\nThis is my Javascript code.\r\n\r\n```\r\nvar key = &quot;0123456789ABCDEF&quot;;\r\n\r\nfunction encrypt() {\r\n    const ivMd5Hash = CryptoJS.MD5(CryptoJS.enc.Utf8.parse(key));\r\n    console.log(&quot;Hash: &quot;+ivMd5Hash)\r\n    const cipher = this.cipher(CryptoJS.enc.Utf8.parse(value), CryptoJS.enc.Utf8.parse(key), ivMd5Hash);\r\n\r\n    return cipher.ciphertext.toString();\r\n  }\r\n\r\n  function cipher(value, key, iv) {\r\n    const cipher = CryptoJS.AES.encrypt(value, key, {\r\n      iv: iv,\r\n      mode: CryptoJS.mode.CBC,\r\n      keySize: 128,\r\n      padding: CryptoJS.pad.Pkcs7\r\n    });\r\n\r\n    return cipher;\r\n  }\r\n\r\nconsole.log(&quot;Encrypted value: &quot;+encrypt(&quot;testuser&quot;, key);\r\n```\r\n**The result from the console log is**\r\nHASH: e43df9b5a46b755ea8f1b4dd08265544\r\nEncrypted value: fc88ab1f7821b9f8c5b46ab1d41250a2\r\n\r\n\r\nNow the JAVA part.\r\n\r\n```\r\npublic class MainClass {\r\n\r\n\tprivate static final String key = &quot;0123456789ABCDEF&quot;;\r\n\tprivate static String initVector = &quot;&quot;;\r\n\r\n\t\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t\r\n\t\tinitVector=md5(key);  // md5 is an external method, which works\r\n\t\tSystem.out.println(&quot;HASH: &quot;+initVector);\r\n\t\tSystem.out.println(&quot;Encrypted value: &quot;+encrypt(&quot;testuser&quot;));\r\n\r\n  }\r\n  \r\n\tpublic static String encrypt(String value) {\r\n\t    try {\r\n\t        IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(&quot;UTF-8&quot;));\r\n\t        SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\r\n\t \r\n\t        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n\t        cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\r\n\t \r\n\t        byte[] encrypted = cipher.doFinal(value.getBytes());\r\n\t        return Base64.encodeBase64String(encrypted);\r\n\t    } catch (Exception ex) {\r\n\t        ex.printStackTrace();\r\n\t    }\r\n\t    return null;\r\n\t}\r\n}\r\n\r\n\tpublic static String md5(String str) {\r\n        MessageDigest messageDigest = null;\r\n        try {//from   w w  w  . j a  v  a  2  s.  c o m\r\n            messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            messageDigest.reset();\r\n            messageDigest.update(str.getBytes(&quot;UTF-8&quot;));\r\n        } catch (NoSuchAlgorithmException e) {\r\n            System.out.println(&quot;NoSuchAlgorithmException caught!&quot;);\r\n            System.exit(-1);\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n        }\r\n        byte[] byteArray = messageDigest.digest();\r\n        StringBuffer md5StrBuff = new StringBuffer();\r\n        for (int i = 0; i &lt; byteArray.length; i++) {\r\n            if (Integer.toHexString(0xFF &amp; byteArray[i]).length() == 1)\r\n                md5StrBuff.append(&quot;0&quot;).append(\r\n                        Integer.toHexString(0xFF &amp; byteArray[i]));\r\n            else\r\n                md5StrBuff.append(Integer.toHexString(0xFF &amp; byteArray[i]));\r\n        }\r\n        return md5StrBuff.toString();\r\n    }\r\n```\r\n\r\n**The result from the console is**\r\nHASH: e43df9b5a46b755ea8f1b4dd08265544    **OK**\r\nEncrypted value does not appear - I get instead an InvalidAlgorithmParameterException saying the IV length must be 16 bytes long.\r\n\r\nCan anyone help me understand why the MD5 works on JS and not on JAVA ?\r\nI would need to have in Java the same encrypted value I get from JS..\r\n\r\nThanks!!\r\n","title":"AES encryption between Java (server) and JS (client)","body":"<p>I have a server running in JAVA and I am creating a client with HTML and Javascript (about which I am less knowledgeable). The server accesses log-in credentials stored in a database with AES encryption.\nI need the user to enter credentials into the HTML page, then javascript to encrypt them and send them to the server, where I need to decrypt them in Java. I have found many threads online but cannot solve my problem: the encryption with JS and Java produce different results.</p>\n<p>This is my Javascript code.</p>\n<pre><code>var key = &quot;0123456789ABCDEF&quot;;\n\nfunction encrypt() {\n    const ivMd5Hash = CryptoJS.MD5(CryptoJS.enc.Utf8.parse(key));\n    console.log(&quot;Hash: &quot;+ivMd5Hash)\n    const cipher = this.cipher(CryptoJS.enc.Utf8.parse(value), CryptoJS.enc.Utf8.parse(key), ivMd5Hash);\n\n    return cipher.ciphertext.toString();\n  }\n\n  function cipher(value, key, iv) {\n    const cipher = CryptoJS.AES.encrypt(value, key, {\n      iv: iv,\n      mode: CryptoJS.mode.CBC,\n      keySize: 128,\n      padding: CryptoJS.pad.Pkcs7\n    });\n\n    return cipher;\n  }\n\nconsole.log(&quot;Encrypted value: &quot;+encrypt(&quot;testuser&quot;, key);\n</code></pre>\n<p><strong>The result from the console log is</strong>\nHASH: e43df9b5a46b755ea8f1b4dd08265544\nEncrypted value: fc88ab1f7821b9f8c5b46ab1d41250a2</p>\n<p>Now the JAVA part.</p>\n<pre><code>public class MainClass {\n\n    private static final String key = &quot;0123456789ABCDEF&quot;;\n    private static String initVector = &quot;&quot;;\n\n    \n    public static void main(String[] args) throws Exception {\n        \n        initVector=md5(key);  // md5 is an external method, which works\n        System.out.println(&quot;HASH: &quot;+initVector);\n        System.out.println(&quot;Encrypted value: &quot;+encrypt(&quot;testuser&quot;));\n\n  }\n  \n    public static String encrypt(String value) {\n        try {\n            IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(&quot;UTF-8&quot;));\n            SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\n     \n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\n     \n            byte[] encrypted = cipher.doFinal(value.getBytes());\n            return Base64.encodeBase64String(encrypted);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n        return null;\n    }\n}\n\n    public static String md5(String str) {\n        MessageDigest messageDigest = null;\n        try {//from   w w  w  . j a  v  a  2  s.  c o m\n            messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\n            messageDigest.reset();\n            messageDigest.update(str.getBytes(&quot;UTF-8&quot;));\n        } catch (NoSuchAlgorithmException e) {\n            System.out.println(&quot;NoSuchAlgorithmException caught!&quot;);\n            System.exit(-1);\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\n        byte[] byteArray = messageDigest.digest();\n        StringBuffer md5StrBuff = new StringBuffer();\n        for (int i = 0; i &lt; byteArray.length; i++) {\n            if (Integer.toHexString(0xFF &amp; byteArray[i]).length() == 1)\n                md5StrBuff.append(&quot;0&quot;).append(\n                        Integer.toHexString(0xFF &amp; byteArray[i]));\n            else\n                md5StrBuff.append(Integer.toHexString(0xFF &amp; byteArray[i]));\n        }\n        return md5StrBuff.toString();\n    }\n</code></pre>\n<p><strong>The result from the console is</strong>\nHASH: e43df9b5a46b755ea8f1b4dd08265544    <strong>OK</strong>\nEncrypted value does not appear - I get instead an InvalidAlgorithmParameterException saying the IV length must be 16 bytes long.</p>\n<p>Can anyone help me understand why the MD5 works on JS and not on JAVA ?\nI would need to have in Java the same encrypted value I get from JS..</p>\n<p>Thanks!!</p>\n"},{"tags":["java","onnx","onnxruntime","onnx-coreml"],"answers":[{"tags":[],"owner":{"account_id":13357631,"reputation":1,"user_id":9640670,"display_name":"Marslinho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681450333,"creation_date":1680990828,"answer_id":75967859,"question_id":64802377,"body_markdown":"I think this is an old issue. The example code works with the current version of the onnxruntime API (1.14.0).\r\n\r\n```java\r\n...\r\nvar myTensor = OnnxTensor.createTensor(env, 10.0f);\r\nSystem.out.println(myTensor);\r\n```\r\n\r\n---\r\noutput: \r\n\r\n```java\r\nOnnxTensor(info=TensorInfo(javaType=FLOAT,onnxType=ONNX_TENSOR_ELEMENT_DATA_TYPE_FLOAT,shape=[]))\r\n```","title":"How to create ONNXTensor for a single float value?","body":"<p>I think this is an old issue. The example code works with the current version of the onnxruntime API (1.14.0).</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nvar myTensor = OnnxTensor.createTensor(env, 10.0f);\nSystem.out.println(myTensor);\n</code></pre>\n<hr />\n<p>output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OnnxTensor(info=TensorInfo(javaType=FLOAT,onnxType=ONNX_TENSOR_ELEMENT_DATA_TYPE_FLOAT,shape=[]))\n</code></pre>\n"}],"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681450333,"creation_date":1605177813,"question_id":64802377,"body_markdown":"I have the following java code :\r\n\r\n    try (OrtEnvironment env = OrtEnvironment.getEnvironment();\r\n                 OrtSession.SessionOptions opts = new OrtSession.SessionOptions()) {\r\n                opts.setOptimizationLevel(OrtSession.SessionOptions.OptLevel.BASIC_OPT);\r\n    \r\n                try (OrtSession session = env.createSession(&quot;model.onnx&quot;, opts)) {\r\n                    OnnxTensor.createTensor(env, 10.0f);\r\n                }\r\n            }\r\n\r\nI want to create an OnnxTensor of a float value. I am getting the below Exception:\r\n\r\n    Exception in thread &quot;main&quot; ai.onnxruntime.OrtException: Cannot convert class java.lang.Float to an OnnxTensor.\r\n    \tat ai.onnxruntime.TensorInfo.constructFromJavaArray(TensorInfo.java:208)\r\n    \tat ai.onnxruntime.OnnxTensor.createTensor(OnnxTensor.java:330)\r\n    \tat ai.onnxruntime.OnnxTensor.createTensor(OnnxTensor.java:314)","title":"How to create ONNXTensor for a single float value?","body":"<p>I have the following java code :</p>\n<pre><code>try (OrtEnvironment env = OrtEnvironment.getEnvironment();\n             OrtSession.SessionOptions opts = new OrtSession.SessionOptions()) {\n            opts.setOptimizationLevel(OrtSession.SessionOptions.OptLevel.BASIC_OPT);\n\n            try (OrtSession session = env.createSession(&quot;model.onnx&quot;, opts)) {\n                OnnxTensor.createTensor(env, 10.0f);\n            }\n        }\n</code></pre>\n<p>I want to create an OnnxTensor of a float value. I am getting the below Exception:</p>\n<pre><code>Exception in thread &quot;main&quot; ai.onnxruntime.OrtException: Cannot convert class java.lang.Float to an OnnxTensor.\n    at ai.onnxruntime.TensorInfo.constructFromJavaArray(TensorInfo.java:208)\n    at ai.onnxruntime.OnnxTensor.createTensor(OnnxTensor.java:330)\n    at ai.onnxruntime.OnnxTensor.createTensor(OnnxTensor.java:314)\n</code></pre>\n"},{"tags":["java","audio","resampling"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1616686367,"post_id":66802589,"comment_id":118086343,"body_markdown":"Does this help? https://stackoverflow.com/a/26520951/2851311. You may want to read the other answers as well.","body":"Does this help? <a href=\"https://stackoverflow.com/a/26520951/2851311\">stackoverflow.com/a/26520951/2851311</a>. You may want to read the other answers as well."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1616688751,"post_id":66802589,"comment_id":118087595,"body_markdown":"I didn&#39;t quite read your entire post. You ended with this question `how do I know how many bytes are added at the beginning and end of the frame?` Well, the simplest answer I can give you is to look up the format specification. For example, a `.WAV` file will be formatted differently than an `MP3`.","body":"I didn&#39;t quite read your entire post. You ended with this question <code>how do I know how many bytes are added at the beginning and end of the frame?</code> Well, the simplest answer I can give you is to look up the format specification. For example, a <code>.WAV</code> file will be formatted differently than an <code>MP3</code>."},{"owner":{"account_id":10220931,"reputation":115,"user_id":7545148,"display_name":"DirkG"},"score":1,"creation_date":1616691504,"post_id":66802589,"comment_id":118089072,"body_markdown":"@hfontanez - The link does not explain the extra samples from resampling. Format is uncompressed pcm audio data. I have edited my question to make this clearer.","body":"@hfontanez - The link does not explain the extra samples from resampling. Format is uncompressed pcm audio data. I have edited my question to make this clearer."}],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616730965,"creation_date":1616730965,"answer_id":66810841,"question_id":66802589,"body_markdown":"I was playing around with this. I don&#39;t really have an answer, just a couple thoughts. I suspect the streams are &quot;padded&quot; with beginning or ending zeroes for algorithmic purposes.\r\n\r\nFirst off, this doesn&#39;t seem to make a difference, but your `AudioInputStream` instantiation should be the number of frames, not the number of bytes.\r\n\r\nI ran your program with just 1 byte per sample as it seems to make things clearer, with a value of 10 in each frame.\r\n\r\n    Original number of samples: 4\r\n    Expected number of samples after resampling 3\r\n    Actual number of samples after resampling 5\r\n    original data: [10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 6]\r\n\r\n    Original number of samples: 5\r\n    Expected number of samples after resampling 3\r\n    Actual number of samples after resampling 6\r\n    original data: [10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 3]\r\n\r\n    Original number of samples: 6\r\n    Expected number of samples after resampling 4\r\n    Actual number of samples after resampling 7\r\n    original data: [10, 10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 10, 0]\r\n\r\n    Original number of samples: 7\r\n    Expected number of samples after resampling 5\r\n    Actual number of samples after resampling 7\r\n    original data: [10, 10, 10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 10, 10]\r\n\r\n    Original number of samples: 8\r\n    Expected number of samples after resampling 6\r\n    Actual number of samples after resampling 8\r\n    original data: [10, 10, 10, 10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 10, 10, 6]\r\n\r\n    Original number of samples: 9\r\n    Expected number of samples after resampling 6\r\n    Actual number of samples after resampling 9\r\n    original data: [10, 10, 10, 10, 10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 10, 10, 10, 3]\r\n\r\n    Original number of samples: 10\r\n    Expected number of samples after resampling 7\r\n    Actual number of samples after resampling 10\r\n    original data: [10, 10, 10, 10, 10, 10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 10, 10, 10, 10, 0]\r\n\r\n    Original number of samples: 11\r\n    Expected number of samples after resampling 8\r\n    Actual number of samples after resampling 10\r\n    original data: [10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 10, 10, 10, 10, 10]\r\n\r\nMaybe the algorithm is treating the input line as if there is a preceding 0 value and an ending 0 value. The latter seems more clearly in evidence.\r\n\r\nIf you look at the ends of lines 7, 8, and 9. In the first instance, I&#39;m assuming the two sample rates &quot;line up&quot; in that the last point on the inputline is also a point on the output, not an &quot;intermediate value&quot;. When the last point on the output line falls beyond the input signal, it looks like linear interpolation is used between the last inputline value and 0. \r\n\r\nI&#39;m not clear what is going on at the start, but it seems like the algorithm may also be coming up with a linear interpolation between 0 and the first inputline value, but I don&#39;t understand why it isn&#39;t a 0.6 instead of a 0.3 or why there is a leading zero.\r\n\r\nFor the most part, though, notice that we do have the predicted number of 10&#39;s! The exception is when the leading and ending partial values add up to 10 (less rounding, I&#39;m assuming 3 should be 3.3 and 6 should be 6.7 if extended a decimal point--try putting in 100 instead of 10 and you will see), on lines 4 and 8.\r\n\r\nI am also going to assume the transform algorithm was made with a use case in mind that there would be 1000&#39;s of samples, in which case one or two leading/ending additional values are not going to affect the sound meaningfully, especially given that they are ramping between the source signal and 0.","title":"Resampling Audio in Java","body":"<p>I was playing around with this. I don't really have an answer, just a couple thoughts. I suspect the streams are &quot;padded&quot; with beginning or ending zeroes for algorithmic purposes.</p>\n<p>First off, this doesn't seem to make a difference, but your <code>AudioInputStream</code> instantiation should be the number of frames, not the number of bytes.</p>\n<p>I ran your program with just 1 byte per sample as it seems to make things clearer, with a value of 10 in each frame.</p>\n<pre><code>Original number of samples: 4\nExpected number of samples after resampling 3\nActual number of samples after resampling 5\noriginal data: [10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 6]\n\nOriginal number of samples: 5\nExpected number of samples after resampling 3\nActual number of samples after resampling 6\noriginal data: [10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 3]\n\nOriginal number of samples: 6\nExpected number of samples after resampling 4\nActual number of samples after resampling 7\noriginal data: [10, 10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 10, 0]\n\nOriginal number of samples: 7\nExpected number of samples after resampling 5\nActual number of samples after resampling 7\noriginal data: [10, 10, 10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 10, 10]\n\nOriginal number of samples: 8\nExpected number of samples after resampling 6\nActual number of samples after resampling 8\noriginal data: [10, 10, 10, 10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 10, 10, 6]\n\nOriginal number of samples: 9\nExpected number of samples after resampling 6\nActual number of samples after resampling 9\noriginal data: [10, 10, 10, 10, 10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 10, 10, 10, 3]\n\nOriginal number of samples: 10\nExpected number of samples after resampling 7\nActual number of samples after resampling 10\noriginal data: [10, 10, 10, 10, 10, 10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 10, 10, 10, 10, 0]\n\nOriginal number of samples: 11\nExpected number of samples after resampling 8\nActual number of samples after resampling 10\noriginal data: [10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 10, 10, 10, 10, 10]\n</code></pre>\n<p>Maybe the algorithm is treating the input line as if there is a preceding 0 value and an ending 0 value. The latter seems more clearly in evidence.</p>\n<p>If you look at the ends of lines 7, 8, and 9. In the first instance, I'm assuming the two sample rates &quot;line up&quot; in that the last point on the inputline is also a point on the output, not an &quot;intermediate value&quot;. When the last point on the output line falls beyond the input signal, it looks like linear interpolation is used between the last inputline value and 0.</p>\n<p>I'm not clear what is going on at the start, but it seems like the algorithm may also be coming up with a linear interpolation between 0 and the first inputline value, but I don't understand why it isn't a 0.6 instead of a 0.3 or why there is a leading zero.</p>\n<p>For the most part, though, notice that we do have the predicted number of 10's! The exception is when the leading and ending partial values add up to 10 (less rounding, I'm assuming 3 should be 3.3 and 6 should be 6.7 if extended a decimal point--try putting in 100 instead of 10 and you will see), on lines 4 and 8.</p>\n<p>I am also going to assume the transform algorithm was made with a use case in mind that there would be 1000's of samples, in which case one or two leading/ending additional values are not going to affect the sound meaningfully, especially given that they are ramping between the source signal and 0.</p>\n"},{"tags":[],"owner":{"account_id":97926,"reputation":823,"user_id":265374,"accept_rate":75,"display_name":"reddot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681449073,"creation_date":1681449073,"answer_id":76011777,"question_id":66802589,"body_markdown":"I&#39;ve bumped into the same issue recently and made some research. Here is what I have found. The code responsible for re-sampling is located at:\r\n\r\nhttps://github.com/openjdk/jdk/blob/master/src/java.desktop/share/classes/com/sun/media/sound/AudioFloatFormatConverter.java\r\n\r\nIn particular it is a class `AudioFloatInputStreamResampler` and it&#39;s methods `read`/`readNextBuffer`. Those extra-bytes added on re-sampling indeed are used for padding for interpolation algorithm. It worth noting that there are several interpolation algorithms supported. It&#39;s possible to choose one using &quot;interpolation&quot; property of target format, i.e.:\r\n\r\n```\r\nAudioFormat targetAudioFormat = new AudioFormat(\r\n   AudioFormat.Encoding.PCM_SIGNED,\r\n   16000, 16, 1, 2, 16000, false,\r\n   Map.of(&quot;interpolation&quot;, &quot;linear&quot;))\r\n```\r\n\r\nThe list of interpolation algorithms supported is hard-coded and consists of: `linear` (same as `linear2`), `linear1`, `linear2` (default), `cubic`, `lanczos`, `sinc` and `point`. Amount of padding bytes depends on the algorithm chosen. And `linear` requires least amount of bytes added among other options. I.e. `linear` algorithm requires padding of 2 bytes, whereas `point` requires 100 bytes.\r\n\r\nI don&#39;t know if leaving those padded bytes in final output is a bug or not. As to me it would be pretty okay to trim those padding bytes. At least zeroed ones.\r\n\r\nIn my case those extra bytes are especially weird due to the need to re-sample streaming audio. And initially I implemented my re-sampling with construction of audio streams per buffer. As a result I had a trade off between real-time processing and frequency of extra-bytes (sounded as clicks) depending on buffer size used. So basically I see two ways to deal with it:\r\n\r\n1) Run conversion with constant buffer data and determine how the padded bytes are added. I.e. I have to re-sample 8kHz to 16kHz and vice versa. I&#39;ve got a buffer filled with uniform values (i.e. 120 for 8-bit samples) and run the conversion. As a result I found that on downsampling there is a single zero byte added at the begging of the buffer and on upsampling there are 3 zero bytes and 1 interpolated to zero byte (60) in the beginning. However the last byte was also interpolated to zero (60). Based on these results I then trim extra bytes in my code.\r\n\r\n2) Wrap the overall incoming/outgoing streaming audio data into InputStream/AudioInputStream subclasses. So the padding bytes are added only once per stream, which is not so crucial for sound quality and let to avoid trade-offs with real-time processing.","title":"Resampling Audio in Java","body":"<p>I've bumped into the same issue recently and made some research. Here is what I have found. The code responsible for re-sampling is located at:</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.desktop/share/classes/com/sun/media/sound/AudioFloatFormatConverter.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.desktop/share/classes/com/sun/media/sound/AudioFloatFormatConverter.java</a></p>\n<p>In particular it is a class <code>AudioFloatInputStreamResampler</code> and it's methods <code>read</code>/<code>readNextBuffer</code>. Those extra-bytes added on re-sampling indeed are used for padding for interpolation algorithm. It worth noting that there are several interpolation algorithms supported. It's possible to choose one using &quot;interpolation&quot; property of target format, i.e.:</p>\n<pre><code>AudioFormat targetAudioFormat = new AudioFormat(\n   AudioFormat.Encoding.PCM_SIGNED,\n   16000, 16, 1, 2, 16000, false,\n   Map.of(&quot;interpolation&quot;, &quot;linear&quot;))\n</code></pre>\n<p>The list of interpolation algorithms supported is hard-coded and consists of: <code>linear</code> (same as <code>linear2</code>), <code>linear1</code>, <code>linear2</code> (default), <code>cubic</code>, <code>lanczos</code>, <code>sinc</code> and <code>point</code>. Amount of padding bytes depends on the algorithm chosen. And <code>linear</code> requires least amount of bytes added among other options. I.e. <code>linear</code> algorithm requires padding of 2 bytes, whereas <code>point</code> requires 100 bytes.</p>\n<p>I don't know if leaving those padded bytes in final output is a bug or not. As to me it would be pretty okay to trim those padding bytes. At least zeroed ones.</p>\n<p>In my case those extra bytes are especially weird due to the need to re-sample streaming audio. And initially I implemented my re-sampling with construction of audio streams per buffer. As a result I had a trade off between real-time processing and frequency of extra-bytes (sounded as clicks) depending on buffer size used. So basically I see two ways to deal with it:</p>\n<ol>\n<li><p>Run conversion with constant buffer data and determine how the padded bytes are added. I.e. I have to re-sample 8kHz to 16kHz and vice versa. I've got a buffer filled with uniform values (i.e. 120 for 8-bit samples) and run the conversion. As a result I found that on downsampling there is a single zero byte added at the begging of the buffer and on upsampling there are 3 zero bytes and 1 interpolated to zero byte (60) in the beginning. However the last byte was also interpolated to zero (60). Based on these results I then trim extra bytes in my code.</p>\n</li>\n<li><p>Wrap the overall incoming/outgoing streaming audio data into InputStream/AudioInputStream subclasses. So the padding bytes are added only once per stream, which is not so crucial for sound quality and let to avoid trade-offs with real-time processing.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":10220931,"reputation":115,"user_id":7545148,"display_name":"DirkG"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1681449073,"creation_date":1616685814,"question_id":66802589,"body_markdown":"In one of my projects, I need to resample PCM audio data to a different sample rate. I am using javax.sound.sampled.AudioSystem for this task. The resampling seems to add additional samples at the beginning and end of the frame. Here is a minimal working example:\r\n```\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.IOException;\r\nimport java.util.Arrays;\r\nimport javax.sound.sampled.AudioFormat;\r\nimport javax.sound.sampled.AudioInputStream;\r\nimport javax.sound.sampled.AudioSystem;\r\n\r\nublic class ResamplingTest {\r\n\r\n  public static void main(final String[] args) throws IOException {\r\n    final int nrOfSamples = 4;\r\n    final int bytesPerSample = 2;\r\n    final byte[] data = new byte[nrOfSamples * bytesPerSample];\r\n    Arrays.fill(data, (byte) 10);\r\n    final AudioFormat inputFormat = new AudioFormat(32000, bytesPerSample * 8, 1, true, false);\r\n    final AudioInputStream inputStream = new AudioInputStream(new ByteArrayInputStream(data), inputFormat, data.length);\r\n    final AudioFormat outputFormat = new AudioFormat(24000, bytesPerSample * 8, 1, true, false);\r\n    final AudioInputStream outputStream = AudioSystem.getAudioInputStream(outputFormat, inputStream);\r\n    final var resampledBytes = outputStream.readAllBytes();\r\n    System.out.println(&quot;Expected number of samples after resampling &quot;\r\n        + (int) (nrOfSamples * outputFormat.getSampleRate() / inputFormat.getSampleRate()));\r\n    System.out.println(&quot;Actual number of samples after resampling &quot; + resampledBytes.length / bytesPerSample);\r\n    System.out.println(Arrays.toString(resampledBytes));\r\n  }\r\n}\r\n```\r\nI would expect exactly 3 samples when resampling 4 samples from 32 kHz to 24 kHz. However, the above code generates 5 samples. The number of extra samples seems to depend on the input and output sample rate. For example, if I resample from 8 kHz to 32 kHz, 8 additional samples are generated. Why does resampling add additional samples, and how do I know how many samples are added at the beginning and end of a frame?","title":"Resampling Audio in Java","body":"<p>In one of my projects, I need to resample PCM audio data to a different sample rate. I am using javax.sound.sampled.AudioSystem for this task. The resampling seems to add additional samples at the beginning and end of the frame. Here is a minimal working example:</p>\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport javax.sound.sampled.AudioFormat;\nimport javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\n\nublic class ResamplingTest {\n\n  public static void main(final String[] args) throws IOException {\n    final int nrOfSamples = 4;\n    final int bytesPerSample = 2;\n    final byte[] data = new byte[nrOfSamples * bytesPerSample];\n    Arrays.fill(data, (byte) 10);\n    final AudioFormat inputFormat = new AudioFormat(32000, bytesPerSample * 8, 1, true, false);\n    final AudioInputStream inputStream = new AudioInputStream(new ByteArrayInputStream(data), inputFormat, data.length);\n    final AudioFormat outputFormat = new AudioFormat(24000, bytesPerSample * 8, 1, true, false);\n    final AudioInputStream outputStream = AudioSystem.getAudioInputStream(outputFormat, inputStream);\n    final var resampledBytes = outputStream.readAllBytes();\n    System.out.println(&quot;Expected number of samples after resampling &quot;\n        + (int) (nrOfSamples * outputFormat.getSampleRate() / inputFormat.getSampleRate()));\n    System.out.println(&quot;Actual number of samples after resampling &quot; + resampledBytes.length / bytesPerSample);\n    System.out.println(Arrays.toString(resampledBytes));\n  }\n}\n</code></pre>\n<p>I would expect exactly 3 samples when resampling 4 samples from 32 kHz to 24 kHz. However, the above code generates 5 samples. The number of extra samples seems to depend on the input and output sample rate. For example, if I resample from 8 kHz to 32 kHz, 8 additional samples are generated. Why does resampling add additional samples, and how do I know how many samples are added at the beginning and end of a frame?</p>\n"},{"tags":["java","binary-tree"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1681456846,"post_id":76011260,"comment_id":134062208,"body_markdown":"Your `Node` class has a `parent` member, but your `add` method never sets the `parent` member of the newly added node.","body":"Your <code>Node</code> class has a <code>parent</code> member, but your <code>add</code> method never sets the <code>parent</code> member of the newly added node."}],"answers":[{"tags":[],"owner":{"account_id":261035,"reputation":6348,"user_id":544963,"accept_rate":100,"display_name":"fireshadow52"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681448175,"creation_date":1681448175,"answer_id":76011715,"question_id":76011260,"body_markdown":"Your `searchR` function is screwing up the tree due to the `c.right` and `c.left` assignments. You&#39;re very close, though.\r\n\r\nAfter all the `add` calls are complete, your tree looks like this:\r\n```\r\n    7\r\n   /  \\\r\n  5    9\r\n / \\  /\r\n3  6 8\r\n```\r\n\r\nWhen you call `searchR(test.root, 5)`, your tree winds up looking like this**:\r\n```\r\n  7\r\n / \\\r\n9   9\r\n```\r\n\r\nAs you can see, not only is this not a valid binary tree, but many of the nodes are missing, and the node with a value of 9 was duplicated.\r\n\r\nGet rid of the assignments, wrap the `.right` traversal in an `else` block, get rid of the final `return` statement, and you&#39;ll be good to go:\r\n```\r\npublic Node search(Node node, int target) {\r\n    if (node == null) return null;\r\n\r\n    if (node.value == target) {\r\n        return node;\r\n    } else if (target &lt; node.value) {\r\n        return search(node.left, target);\r\n    } else {\r\n        return search(node.right, target);\r\n    }\r\n}\r\n```\r\nYour `preorderNext` looks OK.\r\n\r\nYour `postorderNext` looks almost OK. The issue is that I don&#39;t see you setting up the `.parent` members of the `Node`s, so your `postorderNext` function will always crash with a `NullPointerException` at the `parent.right == null || parent.right == n` conditional check.\r\n\r\nYour `inorderNext` will break for the same reason; no `parent` members are set up. My recommendation would be to add a parameter to your `add` function to hold the `parent` node. Then, when you `return new Node(x)`, you can also set the `parent` member appropriately. Note that you should pass `c` as the parent node in each recursive call.\r\n\r\n\r\n\r\n** If you&#39;re curious how I figured out the exact nature of the tree after your `searchR` function, I threw a handful of print statements into the `searchR` function and ran it myself. This was the result:\r\n```\r\nStarting recursive call for node 1933863327 and x = 5\r\n5 &lt; 7, doing c.left = searchR(c.right, x)\r\nStarting recursive call for node 146589023 and x = 5\r\n5 &lt; 9, doing c.left = searchR(c.right, x)\r\nc == null, returning null\r\nRecursive call for c.left returned, c.left.value = null\r\nDoing c.right = searchR(c.right, 5)\r\nc == null, returning null\r\nRecursive call for c.right returned, c.right.value = null\r\nEnding recursive call for node 146589023 and x = 5\r\nc.value = 9\r\nRecursive call for c.left returned, c.left.value = 9\r\nDoing c.right = searchR(c.right, 5)\r\nStarting recursive call for node 146589023 and x = 5\r\n5 &lt; 9, doing c.left = searchR(c.right, x)\r\nc == null, returning null\r\nRecursive call for c.left returned, c.left.value = null\r\nDoing c.right = searchR(c.right, 5)\r\nc == null, returning null\r\nRecursive call for c.right returned, c.right.value = null\r\nEnding recursive call for node 146589023 and x = 5\r\nc.value = 9\r\nRecursive call for c.right returned, c.right.value = 9\r\nEnding recursive call for node 1933863327 and x = 5\r\nc.value = 7\r\n```","title":"Binary Trees in Java: preorderNext, postorderNext, inorderNext","body":"<p>Your <code>searchR</code> function is screwing up the tree due to the <code>c.right</code> and <code>c.left</code> assignments. You're very close, though.</p>\n<p>After all the <code>add</code> calls are complete, your tree looks like this:</p>\n<pre><code>    7\n   /  \\\n  5    9\n / \\  /\n3  6 8\n</code></pre>\n<p>When you call <code>searchR(test.root, 5)</code>, your tree winds up looking like this**:</p>\n<pre><code>  7\n / \\\n9   9\n</code></pre>\n<p>As you can see, not only is this not a valid binary tree, but many of the nodes are missing, and the node with a value of 9 was duplicated.</p>\n<p>Get rid of the assignments, wrap the <code>.right</code> traversal in an <code>else</code> block, get rid of the final <code>return</code> statement, and you'll be good to go:</p>\n<pre><code>public Node search(Node node, int target) {\n    if (node == null) return null;\n\n    if (node.value == target) {\n        return node;\n    } else if (target &lt; node.value) {\n        return search(node.left, target);\n    } else {\n        return search(node.right, target);\n    }\n}\n</code></pre>\n<p>Your <code>preorderNext</code> looks OK.</p>\n<p>Your <code>postorderNext</code> looks almost OK. The issue is that I don't see you setting up the <code>.parent</code> members of the <code>Node</code>s, so your <code>postorderNext</code> function will always crash with a <code>NullPointerException</code> at the <code>parent.right == null || parent.right == n</code> conditional check.</p>\n<p>Your <code>inorderNext</code> will break for the same reason; no <code>parent</code> members are set up. My recommendation would be to add a parameter to your <code>add</code> function to hold the <code>parent</code> node. Then, when you <code>return new Node(x)</code>, you can also set the <code>parent</code> member appropriately. Note that you should pass <code>c</code> as the parent node in each recursive call.</p>\n<p>** If you're curious how I figured out the exact nature of the tree after your <code>searchR</code> function, I threw a handful of print statements into the <code>searchR</code> function and ran it myself. This was the result:</p>\n<pre><code>Starting recursive call for node 1933863327 and x = 5\n5 &lt; 7, doing c.left = searchR(c.right, x)\nStarting recursive call for node 146589023 and x = 5\n5 &lt; 9, doing c.left = searchR(c.right, x)\nc == null, returning null\nRecursive call for c.left returned, c.left.value = null\nDoing c.right = searchR(c.right, 5)\nc == null, returning null\nRecursive call for c.right returned, c.right.value = null\nEnding recursive call for node 146589023 and x = 5\nc.value = 9\nRecursive call for c.left returned, c.left.value = 9\nDoing c.right = searchR(c.right, 5)\nStarting recursive call for node 146589023 and x = 5\n5 &lt; 9, doing c.left = searchR(c.right, x)\nc == null, returning null\nRecursive call for c.left returned, c.left.value = null\nDoing c.right = searchR(c.right, 5)\nc == null, returning null\nRecursive call for c.right returned, c.right.value = null\nEnding recursive call for node 146589023 and x = 5\nc.value = 9\nRecursive call for c.right returned, c.right.value = 9\nEnding recursive call for node 1933863327 and x = 5\nc.value = 7\n</code></pre>\n"}],"owner":{"account_id":6356472,"reputation":11,"user_id":4933552,"display_name":"Dash Harber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76011715,"answer_count":1,"score":1,"last_activity_date":1681448175,"creation_date":1681440874,"question_id":76011260,"body_markdown":"I&#39;m having some trouble with Binary Trees in java. The assignment wants me to build a binary tree and then create functions to return the next node in preorder, postorder, and inorder. So here is my attempt;\r\n\r\n\r\n```\r\npublic class BinaryTree {\r\n\tNode root;\r\n\t\r\n\tprivate Node addR(Node c, int x) {\r\n\t\tif (c == null) {\r\n\t\t\treturn new Node(x);\r\n\t\t}\r\n\t\tif (x &lt; c.value) {\r\n\t\t\tc.left = addR(c.left, x);\r\n\t\t}\r\n\t\telse if (x &gt; c.value) {\r\n\t\t\tc.right = addR(c.right, x);\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn c;\r\n\t\t}\r\n\t\treturn c;\r\n\t}\r\n\t\r\n\tpublic void add(int x) {\r\n\t\troot = addR(root, x);\r\n\t}\r\n\t\r\n\tpublic Node preorderNext(Node n) {\r\n\t\tif (n.left != null) {\r\n\t\t\tSystem.out.println(n.left.value);\r\n\t\t\treturn n.left;\r\n\t\t}\r\n\t\telse if (n.right != null) {\r\n\t\t\tSystem.out.println(n.right.value);\r\n\t\t\treturn n.right;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;Empty&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic Node postorderNext(Node root, Node n) {\r\n\t\tif (n == root) {\r\n\t\t\tSystem.out.println(&quot;Empty&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tNode parent = n.parent;\r\n\t\tif(parent.right == null || parent.right == n) {\r\n\t\t\tSystem.out.println(parent.value);\r\n\t\t\treturn parent;\r\n\t\t}\r\n\t\tNode c = parent.right;\r\n\t\twhile (c.left != null) {\r\n\t\t\tSystem.out.println(c.left);\r\n\t\t\tc = c.left;\r\n\t\t}\r\n\t\tSystem.out.println(c.value);\r\n\t\treturn c;\r\n\t}\r\n\t\r\n\tpublic Node inorderNext(Node root, Node n) {\r\n\t\tif (n.right != null) {\r\n\t\t\tSystem.out.println(n.right.value);\r\n\t\t\treturn minValue(n.right);\r\n\t\t}\r\n\t\tNode p = n.parent;\r\n\t\twhile (p != null &amp;&amp; n == p.right) {\r\n\t\t\tn=p;\r\n\t\t\tp=p.parent;\r\n\t\t}\r\n\t\tSystem.out.println(p.value);\r\n\t\treturn p;\r\n\t}\r\n\t\r\n\tNode minValue(Node n) {\r\n\t\tNode c = n;\r\n\t\twhile (c.left != null) {\r\n\t\t\tc = c.left;\r\n\t\t}\r\n\t\treturn c;\r\n\t}\r\n\t\r\n\tpublic Node searchR(Node c, int x) {\r\n\t\tif(c==null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (x==c.value) {\r\n\t\t\treturn c;\r\n\t\t}\r\n\t\tif (x&lt;c.value) {\r\n\t\t\tc.left = searchR(c.right, x);\r\n\t\t}\r\n\t\tc.right = searchR(c.right, x);\r\n\t\treturn c;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nAnd here is my main;\r\n\r\n\r\n```public class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tBinaryTree test = new BinaryTree();\r\n\t\ttest.add(7);\r\n\t\ttest.add(5);\r\n\t\ttest.add(6);\r\n\t\ttest.add(9);\r\n\t\ttest.add(3);\r\n\t\ttest.add(8);\r\n\t\ttest.preorderNext(test.searchR(test.root, 5));\r\n\t\ttest.postorderNext(test.root, test.searchR(test.root, 5));\r\n\t\ttest.inorderNext(test.root, test.searchR(test.root, 5));\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nSo the code works as far as nothing crashes, but it returns the wrong nodes. I double checked to make sure the searchR method was returning the right value, and it was, but the other functions simply return the wrong numbers. Anyone have any guidance on where I&#39;m going wrong? I&#39;m a little lost since it&#39;s not actually an error and clearly an issue within my code. I also can&#39;t use collections in this problem, but I don&#39;t think that would be relevant here anyway.","title":"Binary Trees in Java: preorderNext, postorderNext, inorderNext","body":"<p>I'm having some trouble with Binary Trees in java. The assignment wants me to build a binary tree and then create functions to return the next node in preorder, postorder, and inorder. So here is my attempt;</p>\n<pre><code>public class BinaryTree {\n    Node root;\n    \n    private Node addR(Node c, int x) {\n        if (c == null) {\n            return new Node(x);\n        }\n        if (x &lt; c.value) {\n            c.left = addR(c.left, x);\n        }\n        else if (x &gt; c.value) {\n            c.right = addR(c.right, x);\n        }\n        else {\n            return c;\n        }\n        return c;\n    }\n    \n    public void add(int x) {\n        root = addR(root, x);\n    }\n    \n    public Node preorderNext(Node n) {\n        if (n.left != null) {\n            System.out.println(n.left.value);\n            return n.left;\n        }\n        else if (n.right != null) {\n            System.out.println(n.right.value);\n            return n.right;\n        }\n        else {\n            System.out.println(&quot;Empty&quot;);\n            return null;\n        }\n    }\n    \n    public Node postorderNext(Node root, Node n) {\n        if (n == root) {\n            System.out.println(&quot;Empty&quot;);\n            return null;\n        }\n        Node parent = n.parent;\n        if(parent.right == null || parent.right == n) {\n            System.out.println(parent.value);\n            return parent;\n        }\n        Node c = parent.right;\n        while (c.left != null) {\n            System.out.println(c.left);\n            c = c.left;\n        }\n        System.out.println(c.value);\n        return c;\n    }\n    \n    public Node inorderNext(Node root, Node n) {\n        if (n.right != null) {\n            System.out.println(n.right.value);\n            return minValue(n.right);\n        }\n        Node p = n.parent;\n        while (p != null &amp;&amp; n == p.right) {\n            n=p;\n            p=p.parent;\n        }\n        System.out.println(p.value);\n        return p;\n    }\n    \n    Node minValue(Node n) {\n        Node c = n;\n        while (c.left != null) {\n            c = c.left;\n        }\n        return c;\n    }\n    \n    public Node searchR(Node c, int x) {\n        if(c==null) {\n            return null;\n        }\n        if (x==c.value) {\n            return c;\n        }\n        if (x&lt;c.value) {\n            c.left = searchR(c.right, x);\n        }\n        c.right = searchR(c.right, x);\n        return c;\n    }\n}\n\n</code></pre>\n<p>And here is my main;</p>\n<pre><code>\n    public static void main(String[] args) {\n        BinaryTree test = new BinaryTree();\n        test.add(7);\n        test.add(5);\n        test.add(6);\n        test.add(9);\n        test.add(3);\n        test.add(8);\n        test.preorderNext(test.searchR(test.root, 5));\n        test.postorderNext(test.root, test.searchR(test.root, 5));\n        test.inorderNext(test.root, test.searchR(test.root, 5));\n        \n    }\n\n}\n</code></pre>\n<p>So the code works as far as nothing crashes, but it returns the wrong nodes. I double checked to make sure the searchR method was returning the right value, and it was, but the other functions simply return the wrong numbers. Anyone have any guidance on where I'm going wrong? I'm a little lost since it's not actually an error and clearly an issue within my code. I also can't use collections in this problem, but I don't think that would be relevant here anyway.</p>\n"},{"tags":["java","itext","pdfbox","digital-signature"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1632993688,"post_id":69387514,"comment_id":122645267,"body_markdown":"Neither iText nor PDFBox bring along a high-level API telling you what changed in an incremental update in terms of UI objects (comments, text content, ...). You can use them to render the different revisions of the PDF as bitmaps and compare those images. Or you can use them to tell you the changes in terms of low level COS objects (dictionaries, arrays, numbers, strings, ...). But analyzing the changes in those images or low level objects and determining their meaning in terms of UI objects, that e.g. a comment *and only a comment* has been added, is highly non-trivial.","body":"Neither iText nor PDFBox bring along a high-level API telling you what changed in an incremental update in terms of UI objects (comments, text content, ...). You can use them to render the different revisions of the PDF as bitmaps and compare those images. Or you can use them to tell you the changes in terms of low level COS objects (dictionaries, arrays, numbers, strings, ...). But analyzing the changes in those images or low level objects and determining their meaning in terms of UI objects, that e.g. a comment <i>and only a comment</i> has been added, is highly non-trivial."},{"owner":{"account_id":21479412,"reputation":21,"user_id":15827051,"display_name":"Asmaa Fathy"},"score":0,"creation_date":1634503567,"post_id":69387514,"comment_id":123036138,"body_markdown":"Can you explain more, how can I detect changes in low level COS objects.","body":"Can you explain more, how can I detect changes in low level COS objects."},{"owner":{"account_id":21479412,"reputation":21,"user_id":15827051,"display_name":"Asmaa Fathy"},"score":0,"creation_date":1634503925,"post_id":69387514,"comment_id":123036209,"body_markdown":"And if we are talking about setting a flag to true if any changes were done before the second signature, how can we achieve this?","body":"And if we are talking about setting a flag to true if any changes were done before the second signature, how can we achieve this?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1634729055,"post_id":69387514,"comment_id":123101875,"body_markdown":"*&quot;Can you explain more, how can I detect changes in low level COS objects.&quot;* - Does my answer give you an idea?","body":"<i>&quot;Can you explain more, how can I detect changes in low level COS objects.&quot;</i> - Does my answer give you an idea?"},{"owner":{"account_id":21479412,"reputation":21,"user_id":15827051,"display_name":"Asmaa Fathy"},"score":1,"creation_date":1647249749,"post_id":69387514,"comment_id":126314785,"body_markdown":"I used PdfCompare you provide in your comment and it was satisfying for me, Thanks a lot.","body":"I used PdfCompare you provide in your comment and it was satisfying for me, Thanks a lot."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1647251152,"post_id":69387514,"comment_id":126315309,"body_markdown":"Great! (Whenever an answer to one of your questions on stackoverflow helps you that far, you may consider marking it as the &quot;accepted answer&quot; by [clicking the check mark at its upper left](https://i.stack.imgur.com/LkiIZ.png).)","body":"Great! (Whenever an answer to one of your questions on stackoverflow helps you that far, you may consider marking it as the &quot;accepted answer&quot; by <a href=\"https://i.stack.imgur.com/LkiIZ.png\" rel=\"nofollow noreferrer\">clicking the check mark at its upper left</a>.)"}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634564428,"creation_date":1634564428,"answer_id":69617158,"question_id":69387514,"body_markdown":"As already explained in a [comment][1], *neither iText nor PDFBox bring along a high-level API telling you what changed in an incremental update in terms of UI objects (comments, text content, ...).*\r\n\r\n*You can use them to render the different revisions of the PDF as bitmaps and compare those images.*\r\n\r\n*Or you can use them to tell you the changes in terms of low level COS objects (dictionaries, arrays, numbers, strings, ...).*\r\n\r\n*But analyzing the changes in those images or low level objects and determining their meaning in terms of UI objects, that e.g. a comment and only a comment has been added, is highly non-trivial.*\r\n\r\n[In response][2] you asked\r\n\r\n&gt;Can you explain more, how can I detect changes in low level COS objects.\r\n\r\n### What to Compare And What Changes to Consider\r\n\r\nFirst of all you have to be clear about what document states you can compare to detect changes.\r\n\r\nThe PDF format allows to append changes to a PDF in so called incremental updates. This allows changes to signed documents without cryptographically breaking those signatures as the original signed bytes are left as is:\r\n\r\n[![Structure][3]][3]\r\n\r\nThere can be more incremental updates in-between, though, which are not signed; e.g. the &quot;Changes for version 2&quot; might include multiple incremental updates.\r\n\r\nOne might consider comparing the revisions created by arbitrary incremental updates. The problem here is, though, that you cannot identify the person who applied an incremental update without signature.\r\n\r\nThus, it usually makes more sense to compare the signed revisions only and to hold each signer responsible for *all changes since the previous signed revision*. The only exception here is the whole file which as the current version of the PDF is of special interest even if it there is no signature covering all of it.\r\n\r\nNext you have to decide what you consider a change. In particular:\r\n\r\n* Is every object override in an incremental update a change? Even those that override the original object with an identical copy?\r\n\r\n* What about changes that make a direct object indirect (or vice versa) but keep all contents and references intact?\r\n\r\n* What about addition of new objects that are not referred to from anywhere in the standard structure?\r\n\r\n* What about addition of objects that are not referenced from the cross reference streams or tables?\r\n\r\n* What about addition of data that&#39;s not following PDF syntax at all?\r\n\r\nIf you are indeed interested in such changes, too, existing PDF libraries out-of-the-box usually don&#39;t provide you the means to determine them; you most likely will at least have to change their code for traversing the chain of cross reference tables/streams or even analyze the file bytes in the update directly.\r\n\r\nIf you are not interested in such changes, though, there usually is no need to change or replace library routines.\r\n\r\nAs the enumerated and similar changes make no difference when the PDF is processed by specification conform PDF processors, one can usually ignore such changes.\r\n\r\nIf this is your position, too, the following example tool might give you a starting point.\r\n\r\n### An Example Tool Based on iText 7\r\n\r\nWith the limitations explained above you can compare signed revisions of a PDF using iText 7 without changes to the library by loading the revisions to compare into separate `PdfDocument` instances and recursively comparing the PDF objects starting with the trailer.\r\n\r\nI once implemented this as a small helper tool for personal use (so it is not completely finished yet, more work-in-progress). First there is the base class that allows comparing two arbitrary documents:\r\n\r\n```\r\npublic class PdfCompare {\r\n    public static void main(String[] args) throws IOException {\r\n        System.out.printf(&quot;Comparing:\\n* %s\\n* %s\\n&quot;, args[0], args[1]);\r\n        try (   PdfDocument pdfDocument1 = new PdfDocument(new PdfReader(args[0]));\r\n                PdfDocument pdfDocument2 = new PdfDocument(new PdfReader(args[1]))  ) {\r\n            PdfCompare pdfCompare = new PdfCompare(pdfDocument1, pdfDocument2);\r\n            pdfCompare.compare();\r\n\r\n            List&lt;Difference&gt; differences = pdfCompare.getDifferences();\r\n            if (differences == null || differences.isEmpty()) {\r\n                System.out.println(&quot;No differences found.&quot;);\r\n            } else {\r\n                System.out.printf(&quot;%d differences found:\\n&quot;, differences.size());\r\n                for (Difference difference : pdfCompare.getDifferences()) {\r\n                    for (String element : difference.getPath()) {\r\n                        System.out.print(element);\r\n                    }\r\n                    System.out.printf(&quot; - %s\\n&quot;, difference.getDescription());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public interface Difference {\r\n        List&lt;String&gt; getPath();\r\n        String getDescription();\r\n    }\r\n\r\n    public PdfCompare(PdfDocument pdfDocument1, PdfDocument pdfDocument2) {\r\n        trailer1 = pdfDocument1.getTrailer();\r\n        trailer2 = pdfDocument2.getTrailer();\r\n    }\r\n\r\n    public void compare() {\r\n        LOGGER.info(&quot;Starting comparison&quot;);\r\n        try {\r\n            compared.clear();\r\n            differences.clear();\r\n            LOGGER.info(&quot;START COMPARE&quot;);\r\n            compare(trailer1, trailer2, Collections.singletonList(&quot;trailer&quot;));\r\n            LOGGER.info(&quot;START SHORTEN PATHS&quot;);\r\n            shortenPaths();\r\n        } finally {\r\n            LOGGER.info(&quot;Finished comparison and shortening&quot;);\r\n        }\r\n    }\r\n\r\n    public List&lt;Difference&gt; getDifferences() {\r\n        return differences;\r\n    }\r\n\r\n    class DifferenceImplSimple implements Difference {\r\n        DifferenceImplSimple(PdfObject object1, PdfObject object2, List&lt;String&gt; path, String description) {\r\n            this.pair = Pair.of(object1, object2);\r\n            this.path = path;\r\n            this.description = description;\r\n        }\r\n\r\n        @Override\r\n        public List&lt;String&gt; getPath() {\r\n            List&lt;String&gt; byPair = getShortestPath(pair);\r\n            return byPair != null ? byPair : shorten(path);\r\n        }\r\n        @Override public String getDescription()    { return description;           }\r\n\r\n        final Pair&lt;PdfObject, PdfObject&gt; pair;\r\n        final List&lt;String&gt; path;\r\n        final String description;\r\n    }\r\n\r\n    void compare(PdfObject object1, PdfObject object2, List&lt;String&gt; path) {\r\n        LOGGER.debug(&quot;Comparing objects at {}.&quot;, path);\r\n        if (object1 == null &amp;&amp; object2 == null)\r\n        {\r\n            LOGGER.debug(&quot;Both objects are null at {}.&quot;, path);\r\n            return;\r\n        }\r\n        if (object1 == null) {\r\n            differences.add(new DifferenceImplSimple(object1, object2, path, &quot;Missing in document 1&quot;));\r\n            LOGGER.info(&quot;Object in document 1 is missing at {}.&quot;, path);\r\n            return;\r\n        }\r\n        if (object2 == null) {\r\n            differences.add(new DifferenceImplSimple(object1, object2, path, &quot;Missing in document 2&quot;));\r\n            LOGGER.info(&quot;Object in document 2 is missing at {}.&quot;, path);\r\n            return;\r\n        }\r\n\r\n        if (object1.getType() != object2.getType()) {\r\n            differences.add(new DifferenceImplSimple(object1, object2, path,\r\n                    String.format(&quot;Type difference, %s in document 1 and %s in document 2&quot;,\r\n                            getTypeName(object1.getType()), getTypeName(object2.getType()))));\r\n            LOGGER.info(&quot;Objects have different types at {}, {} and {}.&quot;, path, getTypeName(object1.getType()), getTypeName(object2.getType()));\r\n            return;\r\n        }\r\n\r\n        switch (object1.getType()) {\r\n        case PdfObject.ARRAY:\r\n            compareContents((PdfArray) object1, (PdfArray) object2, path);\r\n            break;\r\n        case PdfObject.DICTIONARY:\r\n            compareContents((PdfDictionary) object1, (PdfDictionary) object2, path);\r\n            break;\r\n        case PdfObject.STREAM:\r\n            compareContents((PdfStream)object1, (PdfStream)object2, path);\r\n            break;\r\n        case PdfObject.BOOLEAN:\r\n        case PdfObject.INDIRECT_REFERENCE:\r\n        case PdfObject.LITERAL:\r\n        case PdfObject.NAME:\r\n        case PdfObject.NULL:\r\n        case PdfObject.NUMBER:\r\n        case PdfObject.STRING:\r\n            compareContentsSimple(object1, object2, path);\r\n            break;\r\n        default:\r\n            differences.add(new DifferenceImplSimple(object1, object2, path, &quot;Unknown object type &quot; + object1.getType() + &quot;; cannot compare&quot;));\r\n            LOGGER.warn(&quot;Unknown object type at {}, {}.&quot;, path, object1.getType());\r\n            break;\r\n        }\r\n    }\r\n\r\n    void compareContents(PdfArray array1, PdfArray array2, List&lt;String&gt; path) {\r\n        int count1 = array1.size();\r\n        int count2 = array2.size();\r\n        if (count1 &lt; count2) {\r\n            differences.add(new DifferenceImplSimple(array1, array2, path, &quot;Document 1 misses &quot; + (count2-count1) + &quot; array entries&quot;));\r\n            LOGGER.info(&quot;Array in document 1 is missing {} entries at {} for {}.&quot;, (count2-count1), path);\r\n        }\r\n        if (count1 &gt; count2) {\r\n            differences.add(new DifferenceImplSimple(array1, array2, path, &quot;Document 2 misses &quot; + (count1-count2) + &quot; array entries&quot;));\r\n            LOGGER.info(&quot;Array in document 2 is missing {} entries at {} for {}.&quot;, (count1-count2), path);\r\n        }\r\n\r\n        if (alreadyCompared(array1, array2, path)) {\r\n            return;\r\n        }\r\n\r\n        int count = Math.min(count1, count2);\r\n        for (int i = 0; i &lt; count; i++) {\r\n            compare(array1.get(i), array2.get(i), join(path, String.format(&quot;[%d]&quot;, i)));\r\n        }\r\n    }\r\n\r\n    void compareContents(PdfDictionary dictionary1, PdfDictionary dictionary2, List&lt;String&gt; path) {\r\n        List&lt;PdfName&gt; missing1 = new ArrayList&lt;PdfName&gt;(dictionary2.keySet());\r\n        missing1.removeAll(dictionary1.keySet());\r\n        if (!missing1.isEmpty()) {\r\n            differences.add(new DifferenceImplSimple(dictionary1, dictionary2, path, &quot;Document 1 misses dictionary entries for &quot; + missing1));\r\n            LOGGER.info(&quot;Dictionary in document 1 is missing entries at {} for {}.&quot;, path, missing1);\r\n        }\r\n\r\n        List&lt;PdfName&gt; missing2 = new ArrayList&lt;PdfName&gt;(dictionary1.keySet());\r\n        missing2.removeAll(dictionary2.keySet());\r\n        if (!missing2.isEmpty()) {\r\n            differences.add(new DifferenceImplSimple(dictionary1, dictionary2, path, &quot;Document 2 misses dictionary entries for &quot; + missing2));\r\n            LOGGER.info(&quot;Dictionary in document 2 is missing entries at {} for {}.&quot;, path, missing2);\r\n        }\r\n\r\n        if (alreadyCompared(dictionary1, dictionary2, path)) {\r\n            return;\r\n        }\r\n\r\n        List&lt;PdfName&gt; common = new ArrayList&lt;PdfName&gt;(dictionary1.keySet());\r\n        common.retainAll(dictionary2.keySet());\r\n        for (PdfName name : common) {\r\n            compare(dictionary1.get(name), dictionary2.get(name), join(path, name.toString()));\r\n        }\r\n    }\r\n\r\n    void compareContents(PdfStream stream1, PdfStream stream2, List&lt;String&gt; path) {\r\n        compareContents((PdfDictionary)stream1, (PdfDictionary)stream2, path);\r\n\r\n        byte[] bytes1 = stream1.getBytes();\r\n        byte[] bytes2 = stream2.getBytes();\r\n        if (!Arrays.equals(bytes1, bytes2)) {\r\n            differences.add(new DifferenceImplSimple(stream1, stream2, path, &quot;Stream contents differ&quot;));\r\n            LOGGER.info(&quot;Stream contents differ at {}.&quot;, path);\r\n        }\r\n    }\r\n\r\n    void compareContentsSimple(PdfObject object1, PdfObject object2, List&lt;String&gt; path) {\r\n        // vvv--- work-around for DEVSIX-4931, likely to be fixed in 7.1.15\r\n        if (object1 instanceof PdfNumber)\r\n            ((PdfNumber)object1).getValue();\r\n        if (object2 instanceof PdfNumber)\r\n            ((PdfNumber)object2).getValue();\r\n        // ^^^--- work-around for DEVSIX-4931, likely to be fixed in 7.1.15\r\n        if (!object1.equals(object2)) {\r\n            if (object1 instanceof PdfString) {\r\n                String string1 = object1.toString();\r\n                if (string1.length() &gt; 40)\r\n                    string1 = string1.substring(0, 40) + &#39;\\u22EF&#39;;\r\n                string1 = sanitize(string1);\r\n                String string2 = object2.toString();\r\n                if (string2.length() &gt; 40)\r\n                    string2 = string2.substring(0, 40) + &#39;\\u22EF&#39;;\r\n                string2 = sanitize(string2);\r\n                differences.add(new DifferenceImplSimple(object1, object2, path, String.format(&quot;String values differ, &#39;%s&#39; and &#39;%s&#39;&quot;, string1, string2)));\r\n                LOGGER.info(&quot;String values differ at {}, &#39;{}&#39; and &#39;{}&#39;.&quot;, path, string1, string2);\r\n            } else {\r\n                differences.add(new DifferenceImplSimple(object1, object2, path, String.format(&quot;Object values differ, &#39;%s&#39; and &#39;%s&#39;&quot;, object1, object2)));\r\n                LOGGER.info(&quot;Object values differ at {}, &#39;{}&#39; and &#39;{}&#39;.&quot;, path, object1, object2);\r\n            }\r\n        }\r\n    }\r\n\r\n    String sanitize(CharSequence string) {\r\n        char[] sanitized = new char[string.length()];\r\n        for (int i = 0; i &lt; sanitized.length; i++) {\r\n            char c = string.charAt(i);\r\n            if (c &gt;= 0 &amp;&amp; c &lt; &#39; &#39;)\r\n                c = &#39;\\uFFFD&#39;;\r\n            sanitized[i] = c;\r\n        }\r\n        return new String(sanitized);\r\n    }\r\n\r\n    String getTypeName(byte type) {\r\n        switch (type) {\r\n        case PdfObject.ARRAY:               return &quot;ARRAY&quot;;\r\n        case PdfObject.BOOLEAN:             return &quot;BOOLEAN&quot;;\r\n        case PdfObject.DICTIONARY:          return &quot;DICTIONARY&quot;;\r\n        case PdfObject.LITERAL:             return &quot;LITERAL&quot;;\r\n        case PdfObject.INDIRECT_REFERENCE:  return &quot;REFERENCE&quot;;\r\n        case PdfObject.NAME:                return &quot;NAME&quot;;\r\n        case PdfObject.NULL:                return &quot;NULL&quot;;\r\n        case PdfObject.NUMBER:              return &quot;NUMBER&quot;;\r\n        case PdfObject.STREAM:              return &quot;STREAM&quot;;\r\n        case PdfObject.STRING:              return &quot;STRING&quot;;\r\n        default:\r\n            return &quot;UNKNOWN&quot;;\r\n        }\r\n    }\r\n\r\n    List&lt;String&gt; join(List&lt;String&gt; path, String element) {\r\n        String[] array = path.toArray(new String[path.size() + 1]);\r\n        array[array.length-1] = element;\r\n        return Arrays.asList(array);\r\n    }\r\n\r\n    boolean alreadyCompared(PdfObject object1, PdfObject object2, List&lt;String&gt; path) {\r\n        Pair&lt;PdfObject, PdfObject&gt; pair = Pair.of(object1, object2);\r\n        if (compared.containsKey(pair)) {\r\n            //LOGGER.debug(&quot;Objects already compared at {}, previously at {}.&quot;, path, compared.get(pair));\r\n            Set&lt;List&lt;String&gt;&gt; paths = compared.get(pair);\r\n            boolean alreadyPresent = false;\r\n//            List&lt;List&lt;String&gt;&gt; toRemove = new ArrayList&lt;&gt;();\r\n//            for (List&lt;String&gt; formerPath : paths) {\r\n//                for (int i = 0; ; i++) {\r\n//                    if (i == path.size()) {\r\n//                        toRemove.add(formerPath);\r\n//                        System.out.print(&#39;.&#39;);\r\n//                        break;\r\n//                    }\r\n//                    if (i == formerPath.size()) {\r\n//                        alreadyPresent = true;\r\n//                        System.out.print(&#39;:&#39;);\r\n//                        break;\r\n//                    }\r\n//                    if (!path.get(i).equals(formerPath.get(i)))\r\n//                        break;\r\n//                }\r\n//            }\r\n//            paths.removeAll(toRemove);\r\n            if (!alreadyPresent)\r\n                paths.add(path);\r\n            return true;\r\n        }\r\n        compared.put(pair, new HashSet&lt;&gt;(Collections.singleton(path)));\r\n        return false;\r\n    }\r\n\r\n    List&lt;String&gt; getShortestPath(Pair&lt;PdfObject, PdfObject&gt; pair) {\r\n        Set&lt;List&lt;String&gt;&gt; paths = compared.get(pair);\r\n        //return (paths == null) ? null : Collections.min(paths, pathComparator);\r\n        return (paths == null || paths.isEmpty()) ? null : shortened.get(paths.stream().findFirst().get());\r\n    }\r\n\r\n    void shortenPaths() {\r\n        List&lt;Map&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt;&gt; data = new ArrayList&lt;&gt;();\r\n        for (Set&lt;List&lt;String&gt;&gt; set : compared.values()) {\r\n            SortedSet&lt;List&lt;String&gt;&gt; sortedSet = new TreeSet&lt;List&lt;String&gt;&gt;(pathComparator);\r\n            sortedSet.addAll(set);\r\n            for (List&lt;String&gt; path : sortedSet) {\r\n                while (path.size() &gt;= data.size()) {\r\n                    data.add(new HashMap&lt;&gt;());\r\n                }\r\n                SortedSet&lt;List&lt;String&gt;&gt; former = data.get(path.size()).put(path, sortedSet);\r\n                if (former != null) {\r\n                    LOGGER.error(&quot;Path not well-defined for {}&quot;, path);\r\n                }\r\n            }\r\n        }\r\n        for (int pathSize = 3; pathSize &lt; data.size(); pathSize++) {\r\n            for (Map.Entry&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt; pathEntry : data.get(pathSize).entrySet()) {\r\n                List&lt;String&gt; path = pathEntry.getKey();\r\n                SortedSet&lt;List&lt;String&gt;&gt; equivalents = pathEntry.getValue();\r\n                for (int subpathSize = 2; subpathSize &lt; pathSize; subpathSize++) {\r\n                    List&lt;String&gt; subpath = path.subList(0, subpathSize);\r\n                    List&lt;String&gt; remainder = path.subList(subpathSize, pathSize); \r\n                    SortedSet&lt;List&lt;String&gt;&gt; subequivalents = data.get(subpathSize).get(subpath);\r\n                    if (subequivalents != null &amp;&amp; subequivalents.size() &gt; 1) {\r\n                        List&lt;String&gt; subequivalent = subequivalents.first();\r\n                        if (subequivalent.size() &lt; subpathSize) {\r\n                            List&lt;String&gt; replacement = join(subequivalent, remainder);\r\n                            if (equivalents.add(replacement)) {\r\n                                data.get(replacement.size()).put(replacement, equivalents);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        shortened.clear();\r\n        for (Map&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt; singleLengthData : data) {\r\n            for (Map.Entry&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt; entry : singleLengthData.entrySet()) {\r\n                List&lt;String&gt; path = entry.getKey();\r\n                List&lt;String&gt; shortenedPath = entry.getValue().first();\r\n                shortened.put(path, shortenedPath);\r\n            }\r\n        }\r\n    }\r\n\r\n    List&lt;String&gt; join(List&lt;String&gt; path, List&lt;String&gt; elements) {\r\n        String[] array = path.toArray(new String[path.size() + elements.size()]);\r\n        for (int i = 0; i &lt; elements.size(); i++) {\r\n            array[path.size() + i] = elements.get(i);\r\n        }\r\n        return Arrays.asList(array);\r\n    }\r\n\r\n    List&lt;String&gt; shorten(List&lt;String&gt; path) {\r\n        List&lt;String&gt; shortPath = path;\r\n        for (int subpathSize = path.size(); subpathSize &gt; 2; subpathSize--) {\r\n            List&lt;String&gt; subpath = path.subList(0, subpathSize);\r\n            List&lt;String&gt; shortSubpath = shortened.get(subpath);\r\n            if (shortSubpath != null &amp;&amp; shortSubpath.size() &lt; subpathSize) {\r\n                List&lt;String&gt; remainder = path.subList(subpathSize, path.size());\r\n                List&lt;String&gt; replacement = join(shortSubpath, remainder);\r\n                if (replacement.size() &lt; shortPath.size())\r\n                    shortPath = replacement;\r\n            }\r\n        }\r\n        return shortPath;\r\n    }\r\n\r\n    final static Logger LOGGER = LoggerFactory.getLogger(PdfCompare.class);\r\n    final PdfDictionary trailer1;\r\n    final PdfDictionary trailer2;\r\n    final Map&lt;Pair&lt;PdfObject, PdfObject&gt;, Set&lt;List&lt;String&gt;&gt;&gt; compared = new HashMap&lt;&gt;();\r\n    final List&lt;Difference&gt; differences = new ArrayList&lt;&gt;();\r\n    final Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; shortened = new HashMap&lt;&gt;();\r\n    final static Comparator&lt;List&lt;String&gt;&gt; pathComparator = new Comparator&lt;List&lt;String&gt;&gt;() {\r\n        @Override\r\n        public int compare(List&lt;String&gt; o1, List&lt;String&gt; o2) {\r\n            int compare = Integer.compare(o1.size(), o2.size());\r\n            if (compare != 0)\r\n                return compare;\r\n            for (int i = 0; i &lt; o1.size(); i++) {\r\n                compare = o1.get(i).compareTo(o2.get(i));\r\n                if (compare != 0)\r\n                    return compare;\r\n            }\r\n            return 0;\r\n        }\r\n    };\r\n}\r\n```\r\n*([PdfCompare.java][4])*\r\n\r\nThe tool to use this code for revision comparison is a subclass thereof:\r\n\r\n```\r\npublic class PdfRevisionCompare extends PdfCompare {\r\n    public static void main(String[] args) throws IOException {\r\n        for (String arg : args) {\r\n            System.out.printf(&quot;\\nComparing revisions of: %s\\n***********************\\n&quot;, args[0]);\r\n            try (PdfDocument pdfDocument = new PdfDocument(new PdfReader(arg))) {\r\n                SignatureUtil signatureUtil = new SignatureUtil(pdfDocument);\r\n                List&lt;String&gt; signatureNames = signatureUtil.getSignatureNames();\r\n                if (signatureNames.isEmpty()) {\r\n                    System.out.println(&quot;No signed revisions detected. (no AcroForm)&quot;);\r\n                    continue;\r\n                }\r\n                String previousRevision = signatureNames.get(0);\r\n                PdfDocument previousDocument = new PdfDocument(new PdfReader(signatureUtil.extractRevision(previousRevision)));\r\n                System.out.printf(&quot;* Initial signed revision: %s\\n&quot;, previousRevision);\r\n                for (int i = 1; i &lt; signatureNames.size(); i++) {\r\n                    String currentRevision = signatureNames.get(i);\r\n                    PdfDocument currentDocument = new PdfDocument(new PdfReader(signatureUtil.extractRevision(currentRevision)));\r\n                    showDifferences(previousDocument, currentDocument);\r\n                    System.out.printf(&quot;* Next signed revision (%d): %s\\n&quot;, i+1, currentRevision);\r\n                    previousDocument.close();\r\n                    previousDocument = currentDocument;\r\n                    previousRevision = currentRevision;\r\n                }\r\n                if (signatureUtil.signatureCoversWholeDocument(previousRevision)) {\r\n                    System.out.println(&quot;No unsigned updates.&quot;);\r\n                } else {\r\n                    showDifferences(previousDocument, pdfDocument);\r\n                    System.out.println(&quot;* Final unsigned revision&quot;);\r\n                }\r\n                previousDocument.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    static void showDifferences(PdfDocument previousDocument, PdfDocument currentDocument) {\r\n        PdfRevisionCompare pdfRevisionCompare = new PdfRevisionCompare(previousDocument, currentDocument);\r\n        pdfRevisionCompare.compare();\r\n        List&lt;Difference&gt; differences = pdfRevisionCompare.getDifferences();\r\n        if (differences == null || differences.isEmpty()) {\r\n            System.out.println(&quot;No differences found.&quot;);\r\n        } else {\r\n            System.out.printf(&quot;%d differences found:\\n&quot;, differences.size());\r\n            for (Difference difference : differences) {\r\n                for (String element : difference.getPath()) {\r\n                    System.out.print(element);\r\n                }\r\n                System.out.printf(&quot; - %s\\n&quot;, difference.getDescription());\r\n            }\r\n        }\r\n    }\r\n\r\n    public PdfRevisionCompare(PdfDocument pdfDocument1, PdfDocument pdfDocument2) {\r\n        super(pdfDocument1, pdfDocument2);\r\n    }\r\n}\r\n```\r\n*([PdfRevisionCompare.java][5])*\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69387514/detect-changes-on-signed-pdf-that-was-done-between-signatures#comment122645267_69387514\r\n  [2]: https://stackoverflow.com/questions/69387514/detect-changes-on-signed-pdf-that-was-done-between-signatures#comment123036138_69387514\r\n  [3]: https://i.stack.imgur.com/GKdYw.jpg\r\n  [4]: https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/meta/PdfCompare.java\r\n  [5]: https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/meta/PdfRevisionCompare.java","title":"Detect Changes on Signed PDF that was done between signatures","body":"<p>As already explained in a <a href=\"https://stackoverflow.com/questions/69387514/detect-changes-on-signed-pdf-that-was-done-between-signatures#comment122645267_69387514\">comment</a>, <em>neither iText nor PDFBox bring along a high-level API telling you what changed in an incremental update in terms of UI objects (comments, text content, ...).</em></p>\n<p><em>You can use them to render the different revisions of the PDF as bitmaps and compare those images.</em></p>\n<p><em>Or you can use them to tell you the changes in terms of low level COS objects (dictionaries, arrays, numbers, strings, ...).</em></p>\n<p><em>But analyzing the changes in those images or low level objects and determining their meaning in terms of UI objects, that e.g. a comment and only a comment has been added, is highly non-trivial.</em></p>\n<p><a href=\"https://stackoverflow.com/questions/69387514/detect-changes-on-signed-pdf-that-was-done-between-signatures#comment123036138_69387514\">In response</a> you asked</p>\n<blockquote>\n<p>Can you explain more, how can I detect changes in low level COS objects.</p>\n</blockquote>\n<h3>What to Compare And What Changes to Consider</h3>\n<p>First of all you have to be clear about what document states you can compare to detect changes.</p>\n<p>The PDF format allows to append changes to a PDF in so called incremental updates. This allows changes to signed documents without cryptographically breaking those signatures as the original signed bytes are left as is:</p>\n<p><a href=\"https://i.stack.imgur.com/GKdYw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GKdYw.jpg\" alt=\"Structure\" /></a></p>\n<p>There can be more incremental updates in-between, though, which are not signed; e.g. the &quot;Changes for version 2&quot; might include multiple incremental updates.</p>\n<p>One might consider comparing the revisions created by arbitrary incremental updates. The problem here is, though, that you cannot identify the person who applied an incremental update without signature.</p>\n<p>Thus, it usually makes more sense to compare the signed revisions only and to hold each signer responsible for <em>all changes since the previous signed revision</em>. The only exception here is the whole file which as the current version of the PDF is of special interest even if it there is no signature covering all of it.</p>\n<p>Next you have to decide what you consider a change. In particular:</p>\n<ul>\n<li><p>Is every object override in an incremental update a change? Even those that override the original object with an identical copy?</p>\n</li>\n<li><p>What about changes that make a direct object indirect (or vice versa) but keep all contents and references intact?</p>\n</li>\n<li><p>What about addition of new objects that are not referred to from anywhere in the standard structure?</p>\n</li>\n<li><p>What about addition of objects that are not referenced from the cross reference streams or tables?</p>\n</li>\n<li><p>What about addition of data that's not following PDF syntax at all?</p>\n</li>\n</ul>\n<p>If you are indeed interested in such changes, too, existing PDF libraries out-of-the-box usually don't provide you the means to determine them; you most likely will at least have to change their code for traversing the chain of cross reference tables/streams or even analyze the file bytes in the update directly.</p>\n<p>If you are not interested in such changes, though, there usually is no need to change or replace library routines.</p>\n<p>As the enumerated and similar changes make no difference when the PDF is processed by specification conform PDF processors, one can usually ignore such changes.</p>\n<p>If this is your position, too, the following example tool might give you a starting point.</p>\n<h3>An Example Tool Based on iText 7</h3>\n<p>With the limitations explained above you can compare signed revisions of a PDF using iText 7 without changes to the library by loading the revisions to compare into separate <code>PdfDocument</code> instances and recursively comparing the PDF objects starting with the trailer.</p>\n<p>I once implemented this as a small helper tool for personal use (so it is not completely finished yet, more work-in-progress). First there is the base class that allows comparing two arbitrary documents:</p>\n<pre><code>public class PdfCompare {\n    public static void main(String[] args) throws IOException {\n        System.out.printf(&quot;Comparing:\\n* %s\\n* %s\\n&quot;, args[0], args[1]);\n        try (   PdfDocument pdfDocument1 = new PdfDocument(new PdfReader(args[0]));\n                PdfDocument pdfDocument2 = new PdfDocument(new PdfReader(args[1]))  ) {\n            PdfCompare pdfCompare = new PdfCompare(pdfDocument1, pdfDocument2);\n            pdfCompare.compare();\n\n            List&lt;Difference&gt; differences = pdfCompare.getDifferences();\n            if (differences == null || differences.isEmpty()) {\n                System.out.println(&quot;No differences found.&quot;);\n            } else {\n                System.out.printf(&quot;%d differences found:\\n&quot;, differences.size());\n                for (Difference difference : pdfCompare.getDifferences()) {\n                    for (String element : difference.getPath()) {\n                        System.out.print(element);\n                    }\n                    System.out.printf(&quot; - %s\\n&quot;, difference.getDescription());\n                }\n            }\n        }\n    }\n\n    public interface Difference {\n        List&lt;String&gt; getPath();\n        String getDescription();\n    }\n\n    public PdfCompare(PdfDocument pdfDocument1, PdfDocument pdfDocument2) {\n        trailer1 = pdfDocument1.getTrailer();\n        trailer2 = pdfDocument2.getTrailer();\n    }\n\n    public void compare() {\n        LOGGER.info(&quot;Starting comparison&quot;);\n        try {\n            compared.clear();\n            differences.clear();\n            LOGGER.info(&quot;START COMPARE&quot;);\n            compare(trailer1, trailer2, Collections.singletonList(&quot;trailer&quot;));\n            LOGGER.info(&quot;START SHORTEN PATHS&quot;);\n            shortenPaths();\n        } finally {\n            LOGGER.info(&quot;Finished comparison and shortening&quot;);\n        }\n    }\n\n    public List&lt;Difference&gt; getDifferences() {\n        return differences;\n    }\n\n    class DifferenceImplSimple implements Difference {\n        DifferenceImplSimple(PdfObject object1, PdfObject object2, List&lt;String&gt; path, String description) {\n            this.pair = Pair.of(object1, object2);\n            this.path = path;\n            this.description = description;\n        }\n\n        @Override\n        public List&lt;String&gt; getPath() {\n            List&lt;String&gt; byPair = getShortestPath(pair);\n            return byPair != null ? byPair : shorten(path);\n        }\n        @Override public String getDescription()    { return description;           }\n\n        final Pair&lt;PdfObject, PdfObject&gt; pair;\n        final List&lt;String&gt; path;\n        final String description;\n    }\n\n    void compare(PdfObject object1, PdfObject object2, List&lt;String&gt; path) {\n        LOGGER.debug(&quot;Comparing objects at {}.&quot;, path);\n        if (object1 == null &amp;&amp; object2 == null)\n        {\n            LOGGER.debug(&quot;Both objects are null at {}.&quot;, path);\n            return;\n        }\n        if (object1 == null) {\n            differences.add(new DifferenceImplSimple(object1, object2, path, &quot;Missing in document 1&quot;));\n            LOGGER.info(&quot;Object in document 1 is missing at {}.&quot;, path);\n            return;\n        }\n        if (object2 == null) {\n            differences.add(new DifferenceImplSimple(object1, object2, path, &quot;Missing in document 2&quot;));\n            LOGGER.info(&quot;Object in document 2 is missing at {}.&quot;, path);\n            return;\n        }\n\n        if (object1.getType() != object2.getType()) {\n            differences.add(new DifferenceImplSimple(object1, object2, path,\n                    String.format(&quot;Type difference, %s in document 1 and %s in document 2&quot;,\n                            getTypeName(object1.getType()), getTypeName(object2.getType()))));\n            LOGGER.info(&quot;Objects have different types at {}, {} and {}.&quot;, path, getTypeName(object1.getType()), getTypeName(object2.getType()));\n            return;\n        }\n\n        switch (object1.getType()) {\n        case PdfObject.ARRAY:\n            compareContents((PdfArray) object1, (PdfArray) object2, path);\n            break;\n        case PdfObject.DICTIONARY:\n            compareContents((PdfDictionary) object1, (PdfDictionary) object2, path);\n            break;\n        case PdfObject.STREAM:\n            compareContents((PdfStream)object1, (PdfStream)object2, path);\n            break;\n        case PdfObject.BOOLEAN:\n        case PdfObject.INDIRECT_REFERENCE:\n        case PdfObject.LITERAL:\n        case PdfObject.NAME:\n        case PdfObject.NULL:\n        case PdfObject.NUMBER:\n        case PdfObject.STRING:\n            compareContentsSimple(object1, object2, path);\n            break;\n        default:\n            differences.add(new DifferenceImplSimple(object1, object2, path, &quot;Unknown object type &quot; + object1.getType() + &quot;; cannot compare&quot;));\n            LOGGER.warn(&quot;Unknown object type at {}, {}.&quot;, path, object1.getType());\n            break;\n        }\n    }\n\n    void compareContents(PdfArray array1, PdfArray array2, List&lt;String&gt; path) {\n        int count1 = array1.size();\n        int count2 = array2.size();\n        if (count1 &lt; count2) {\n            differences.add(new DifferenceImplSimple(array1, array2, path, &quot;Document 1 misses &quot; + (count2-count1) + &quot; array entries&quot;));\n            LOGGER.info(&quot;Array in document 1 is missing {} entries at {} for {}.&quot;, (count2-count1), path);\n        }\n        if (count1 &gt; count2) {\n            differences.add(new DifferenceImplSimple(array1, array2, path, &quot;Document 2 misses &quot; + (count1-count2) + &quot; array entries&quot;));\n            LOGGER.info(&quot;Array in document 2 is missing {} entries at {} for {}.&quot;, (count1-count2), path);\n        }\n\n        if (alreadyCompared(array1, array2, path)) {\n            return;\n        }\n\n        int count = Math.min(count1, count2);\n        for (int i = 0; i &lt; count; i++) {\n            compare(array1.get(i), array2.get(i), join(path, String.format(&quot;[%d]&quot;, i)));\n        }\n    }\n\n    void compareContents(PdfDictionary dictionary1, PdfDictionary dictionary2, List&lt;String&gt; path) {\n        List&lt;PdfName&gt; missing1 = new ArrayList&lt;PdfName&gt;(dictionary2.keySet());\n        missing1.removeAll(dictionary1.keySet());\n        if (!missing1.isEmpty()) {\n            differences.add(new DifferenceImplSimple(dictionary1, dictionary2, path, &quot;Document 1 misses dictionary entries for &quot; + missing1));\n            LOGGER.info(&quot;Dictionary in document 1 is missing entries at {} for {}.&quot;, path, missing1);\n        }\n\n        List&lt;PdfName&gt; missing2 = new ArrayList&lt;PdfName&gt;(dictionary1.keySet());\n        missing2.removeAll(dictionary2.keySet());\n        if (!missing2.isEmpty()) {\n            differences.add(new DifferenceImplSimple(dictionary1, dictionary2, path, &quot;Document 2 misses dictionary entries for &quot; + missing2));\n            LOGGER.info(&quot;Dictionary in document 2 is missing entries at {} for {}.&quot;, path, missing2);\n        }\n\n        if (alreadyCompared(dictionary1, dictionary2, path)) {\n            return;\n        }\n\n        List&lt;PdfName&gt; common = new ArrayList&lt;PdfName&gt;(dictionary1.keySet());\n        common.retainAll(dictionary2.keySet());\n        for (PdfName name : common) {\n            compare(dictionary1.get(name), dictionary2.get(name), join(path, name.toString()));\n        }\n    }\n\n    void compareContents(PdfStream stream1, PdfStream stream2, List&lt;String&gt; path) {\n        compareContents((PdfDictionary)stream1, (PdfDictionary)stream2, path);\n\n        byte[] bytes1 = stream1.getBytes();\n        byte[] bytes2 = stream2.getBytes();\n        if (!Arrays.equals(bytes1, bytes2)) {\n            differences.add(new DifferenceImplSimple(stream1, stream2, path, &quot;Stream contents differ&quot;));\n            LOGGER.info(&quot;Stream contents differ at {}.&quot;, path);\n        }\n    }\n\n    void compareContentsSimple(PdfObject object1, PdfObject object2, List&lt;String&gt; path) {\n        // vvv--- work-around for DEVSIX-4931, likely to be fixed in 7.1.15\n        if (object1 instanceof PdfNumber)\n            ((PdfNumber)object1).getValue();\n        if (object2 instanceof PdfNumber)\n            ((PdfNumber)object2).getValue();\n        // ^^^--- work-around for DEVSIX-4931, likely to be fixed in 7.1.15\n        if (!object1.equals(object2)) {\n            if (object1 instanceof PdfString) {\n                String string1 = object1.toString();\n                if (string1.length() &gt; 40)\n                    string1 = string1.substring(0, 40) + '\\u22EF';\n                string1 = sanitize(string1);\n                String string2 = object2.toString();\n                if (string2.length() &gt; 40)\n                    string2 = string2.substring(0, 40) + '\\u22EF';\n                string2 = sanitize(string2);\n                differences.add(new DifferenceImplSimple(object1, object2, path, String.format(&quot;String values differ, '%s' and '%s'&quot;, string1, string2)));\n                LOGGER.info(&quot;String values differ at {}, '{}' and '{}'.&quot;, path, string1, string2);\n            } else {\n                differences.add(new DifferenceImplSimple(object1, object2, path, String.format(&quot;Object values differ, '%s' and '%s'&quot;, object1, object2)));\n                LOGGER.info(&quot;Object values differ at {}, '{}' and '{}'.&quot;, path, object1, object2);\n            }\n        }\n    }\n\n    String sanitize(CharSequence string) {\n        char[] sanitized = new char[string.length()];\n        for (int i = 0; i &lt; sanitized.length; i++) {\n            char c = string.charAt(i);\n            if (c &gt;= 0 &amp;&amp; c &lt; ' ')\n                c = '\\uFFFD';\n            sanitized[i] = c;\n        }\n        return new String(sanitized);\n    }\n\n    String getTypeName(byte type) {\n        switch (type) {\n        case PdfObject.ARRAY:               return &quot;ARRAY&quot;;\n        case PdfObject.BOOLEAN:             return &quot;BOOLEAN&quot;;\n        case PdfObject.DICTIONARY:          return &quot;DICTIONARY&quot;;\n        case PdfObject.LITERAL:             return &quot;LITERAL&quot;;\n        case PdfObject.INDIRECT_REFERENCE:  return &quot;REFERENCE&quot;;\n        case PdfObject.NAME:                return &quot;NAME&quot;;\n        case PdfObject.NULL:                return &quot;NULL&quot;;\n        case PdfObject.NUMBER:              return &quot;NUMBER&quot;;\n        case PdfObject.STREAM:              return &quot;STREAM&quot;;\n        case PdfObject.STRING:              return &quot;STRING&quot;;\n        default:\n            return &quot;UNKNOWN&quot;;\n        }\n    }\n\n    List&lt;String&gt; join(List&lt;String&gt; path, String element) {\n        String[] array = path.toArray(new String[path.size() + 1]);\n        array[array.length-1] = element;\n        return Arrays.asList(array);\n    }\n\n    boolean alreadyCompared(PdfObject object1, PdfObject object2, List&lt;String&gt; path) {\n        Pair&lt;PdfObject, PdfObject&gt; pair = Pair.of(object1, object2);\n        if (compared.containsKey(pair)) {\n            //LOGGER.debug(&quot;Objects already compared at {}, previously at {}.&quot;, path, compared.get(pair));\n            Set&lt;List&lt;String&gt;&gt; paths = compared.get(pair);\n            boolean alreadyPresent = false;\n//            List&lt;List&lt;String&gt;&gt; toRemove = new ArrayList&lt;&gt;();\n//            for (List&lt;String&gt; formerPath : paths) {\n//                for (int i = 0; ; i++) {\n//                    if (i == path.size()) {\n//                        toRemove.add(formerPath);\n//                        System.out.print('.');\n//                        break;\n//                    }\n//                    if (i == formerPath.size()) {\n//                        alreadyPresent = true;\n//                        System.out.print(':');\n//                        break;\n//                    }\n//                    if (!path.get(i).equals(formerPath.get(i)))\n//                        break;\n//                }\n//            }\n//            paths.removeAll(toRemove);\n            if (!alreadyPresent)\n                paths.add(path);\n            return true;\n        }\n        compared.put(pair, new HashSet&lt;&gt;(Collections.singleton(path)));\n        return false;\n    }\n\n    List&lt;String&gt; getShortestPath(Pair&lt;PdfObject, PdfObject&gt; pair) {\n        Set&lt;List&lt;String&gt;&gt; paths = compared.get(pair);\n        //return (paths == null) ? null : Collections.min(paths, pathComparator);\n        return (paths == null || paths.isEmpty()) ? null : shortened.get(paths.stream().findFirst().get());\n    }\n\n    void shortenPaths() {\n        List&lt;Map&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt;&gt; data = new ArrayList&lt;&gt;();\n        for (Set&lt;List&lt;String&gt;&gt; set : compared.values()) {\n            SortedSet&lt;List&lt;String&gt;&gt; sortedSet = new TreeSet&lt;List&lt;String&gt;&gt;(pathComparator);\n            sortedSet.addAll(set);\n            for (List&lt;String&gt; path : sortedSet) {\n                while (path.size() &gt;= data.size()) {\n                    data.add(new HashMap&lt;&gt;());\n                }\n                SortedSet&lt;List&lt;String&gt;&gt; former = data.get(path.size()).put(path, sortedSet);\n                if (former != null) {\n                    LOGGER.error(&quot;Path not well-defined for {}&quot;, path);\n                }\n            }\n        }\n        for (int pathSize = 3; pathSize &lt; data.size(); pathSize++) {\n            for (Map.Entry&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt; pathEntry : data.get(pathSize).entrySet()) {\n                List&lt;String&gt; path = pathEntry.getKey();\n                SortedSet&lt;List&lt;String&gt;&gt; equivalents = pathEntry.getValue();\n                for (int subpathSize = 2; subpathSize &lt; pathSize; subpathSize++) {\n                    List&lt;String&gt; subpath = path.subList(0, subpathSize);\n                    List&lt;String&gt; remainder = path.subList(subpathSize, pathSize); \n                    SortedSet&lt;List&lt;String&gt;&gt; subequivalents = data.get(subpathSize).get(subpath);\n                    if (subequivalents != null &amp;&amp; subequivalents.size() &gt; 1) {\n                        List&lt;String&gt; subequivalent = subequivalents.first();\n                        if (subequivalent.size() &lt; subpathSize) {\n                            List&lt;String&gt; replacement = join(subequivalent, remainder);\n                            if (equivalents.add(replacement)) {\n                                data.get(replacement.size()).put(replacement, equivalents);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        shortened.clear();\n        for (Map&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt; singleLengthData : data) {\n            for (Map.Entry&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt; entry : singleLengthData.entrySet()) {\n                List&lt;String&gt; path = entry.getKey();\n                List&lt;String&gt; shortenedPath = entry.getValue().first();\n                shortened.put(path, shortenedPath);\n            }\n        }\n    }\n\n    List&lt;String&gt; join(List&lt;String&gt; path, List&lt;String&gt; elements) {\n        String[] array = path.toArray(new String[path.size() + elements.size()]);\n        for (int i = 0; i &lt; elements.size(); i++) {\n            array[path.size() + i] = elements.get(i);\n        }\n        return Arrays.asList(array);\n    }\n\n    List&lt;String&gt; shorten(List&lt;String&gt; path) {\n        List&lt;String&gt; shortPath = path;\n        for (int subpathSize = path.size(); subpathSize &gt; 2; subpathSize--) {\n            List&lt;String&gt; subpath = path.subList(0, subpathSize);\n            List&lt;String&gt; shortSubpath = shortened.get(subpath);\n            if (shortSubpath != null &amp;&amp; shortSubpath.size() &lt; subpathSize) {\n                List&lt;String&gt; remainder = path.subList(subpathSize, path.size());\n                List&lt;String&gt; replacement = join(shortSubpath, remainder);\n                if (replacement.size() &lt; shortPath.size())\n                    shortPath = replacement;\n            }\n        }\n        return shortPath;\n    }\n\n    final static Logger LOGGER = LoggerFactory.getLogger(PdfCompare.class);\n    final PdfDictionary trailer1;\n    final PdfDictionary trailer2;\n    final Map&lt;Pair&lt;PdfObject, PdfObject&gt;, Set&lt;List&lt;String&gt;&gt;&gt; compared = new HashMap&lt;&gt;();\n    final List&lt;Difference&gt; differences = new ArrayList&lt;&gt;();\n    final Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; shortened = new HashMap&lt;&gt;();\n    final static Comparator&lt;List&lt;String&gt;&gt; pathComparator = new Comparator&lt;List&lt;String&gt;&gt;() {\n        @Override\n        public int compare(List&lt;String&gt; o1, List&lt;String&gt; o2) {\n            int compare = Integer.compare(o1.size(), o2.size());\n            if (compare != 0)\n                return compare;\n            for (int i = 0; i &lt; o1.size(); i++) {\n                compare = o1.get(i).compareTo(o2.get(i));\n                if (compare != 0)\n                    return compare;\n            }\n            return 0;\n        }\n    };\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/meta/PdfCompare.java\" rel=\"nofollow noreferrer\">PdfCompare.java</a>)</em></p>\n<p>The tool to use this code for revision comparison is a subclass thereof:</p>\n<pre><code>public class PdfRevisionCompare extends PdfCompare {\n    public static void main(String[] args) throws IOException {\n        for (String arg : args) {\n            System.out.printf(&quot;\\nComparing revisions of: %s\\n***********************\\n&quot;, args[0]);\n            try (PdfDocument pdfDocument = new PdfDocument(new PdfReader(arg))) {\n                SignatureUtil signatureUtil = new SignatureUtil(pdfDocument);\n                List&lt;String&gt; signatureNames = signatureUtil.getSignatureNames();\n                if (signatureNames.isEmpty()) {\n                    System.out.println(&quot;No signed revisions detected. (no AcroForm)&quot;);\n                    continue;\n                }\n                String previousRevision = signatureNames.get(0);\n                PdfDocument previousDocument = new PdfDocument(new PdfReader(signatureUtil.extractRevision(previousRevision)));\n                System.out.printf(&quot;* Initial signed revision: %s\\n&quot;, previousRevision);\n                for (int i = 1; i &lt; signatureNames.size(); i++) {\n                    String currentRevision = signatureNames.get(i);\n                    PdfDocument currentDocument = new PdfDocument(new PdfReader(signatureUtil.extractRevision(currentRevision)));\n                    showDifferences(previousDocument, currentDocument);\n                    System.out.printf(&quot;* Next signed revision (%d): %s\\n&quot;, i+1, currentRevision);\n                    previousDocument.close();\n                    previousDocument = currentDocument;\n                    previousRevision = currentRevision;\n                }\n                if (signatureUtil.signatureCoversWholeDocument(previousRevision)) {\n                    System.out.println(&quot;No unsigned updates.&quot;);\n                } else {\n                    showDifferences(previousDocument, pdfDocument);\n                    System.out.println(&quot;* Final unsigned revision&quot;);\n                }\n                previousDocument.close();\n            }\n        }\n    }\n\n    static void showDifferences(PdfDocument previousDocument, PdfDocument currentDocument) {\n        PdfRevisionCompare pdfRevisionCompare = new PdfRevisionCompare(previousDocument, currentDocument);\n        pdfRevisionCompare.compare();\n        List&lt;Difference&gt; differences = pdfRevisionCompare.getDifferences();\n        if (differences == null || differences.isEmpty()) {\n            System.out.println(&quot;No differences found.&quot;);\n        } else {\n            System.out.printf(&quot;%d differences found:\\n&quot;, differences.size());\n            for (Difference difference : differences) {\n                for (String element : difference.getPath()) {\n                    System.out.print(element);\n                }\n                System.out.printf(&quot; - %s\\n&quot;, difference.getDescription());\n            }\n        }\n    }\n\n    public PdfRevisionCompare(PdfDocument pdfDocument1, PdfDocument pdfDocument2) {\n        super(pdfDocument1, pdfDocument2);\n    }\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/meta/PdfRevisionCompare.java\" rel=\"nofollow noreferrer\">PdfRevisionCompare.java</a>)</em></p>\n"},{"tags":[],"owner":{"account_id":970661,"reputation":17,"user_id":9204729,"display_name":"Radek Kantor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681448063,"creation_date":1681448063,"answer_id":76011707,"question_id":69387514,"body_markdown":"Use iText class `com.itextpdf.kernel.utils.CompareTool`. \r\n\r\nShould do the same as custom implementation mentioned by mkl. Tool class contains a lot off compare methods including visually compare.","title":"Detect Changes on Signed PDF that was done between signatures","body":"<p>Use iText class <code>com.itextpdf.kernel.utils.CompareTool</code>.</p>\n<p>Should do the same as custom implementation mentioned by mkl. Tool class contains a lot off compare methods including visually compare.</p>\n"}],"owner":{"account_id":21479412,"reputation":21,"user_id":15827051,"display_name":"Asmaa Fathy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":717,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69617158,"answer_count":2,"score":1,"last_activity_date":1681448063,"creation_date":1632984928,"question_id":69387514,"body_markdown":"I&#39;m developing an application that should verify signatures of pdf files. The application should detect full history of updates done on the file content before each signature is applied. \r\nFor example: \r\n1. Signer 1 signed the plain pdf file\r\n2. Signer 2 added comment to the signed file, then signed it \r\n\r\nHow can application detect that Signer 2 added a comment before his signature.\r\n\r\nI have tried to use itext and pdfbox ","title":"Detect Changes on Signed PDF that was done between signatures","body":"<p>I'm developing an application that should verify signatures of pdf files. The application should detect full history of updates done on the file content before each signature is applied.\nFor example:</p>\n<ol>\n<li>Signer 1 signed the plain pdf file</li>\n<li>Signer 2 added comment to the signed file, then signed it</li>\n</ol>\n<p>How can application detect that Signer 2 added a comment before his signature.</p>\n<p>I have tried to use itext and pdfbox</p>\n"},{"tags":["java","swing","jslider","changelistener"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1451696719,"post_id":34561596,"comment_id":56866874,"body_markdown":"You will probably need to provide a custom `BoundedRangeModel`","body":"You will probably need to provide a custom <code>BoundedRangeModel</code>"},{"owner":{"account_id":1394557,"reputation":719,"user_id":1324599,"accept_rate":70,"display_name":"ags"},"score":0,"creation_date":1451703170,"post_id":34561596,"comment_id":56867967,"body_markdown":"@MadProgrammer I believe that is what I have created, in effect. The ChangeListener decides if the value is valid or not, and if not, sets the JSlider value to a &quot;legal&quot; value (which does persist). However, the thumb does not reflect that value, but rather the value where the thumb was moved by the user..","body":"@MadProgrammer I believe that is what I have created, in effect. The ChangeListener decides if the value is valid or not, and if not, sets the JSlider value to a &quot;legal&quot; value (which does persist). However, the thumb does not reflect that value, but rather the value where the thumb was moved by the user.."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1451704023,"post_id":34561596,"comment_id":56868098,"body_markdown":"How about rather than &quot;in effect&quot; you make it actual, after all, it&#39;s the `BoundedRangeModel`s responsibility to manage these things, and your current approach doesn&#39;t seem to work","body":"How about rather than &quot;in effect&quot; you make it actual, after all, it&#39;s the <code>BoundedRangeModel</code>s responsibility to manage these things, and your current approach doesn&#39;t seem to work"},{"owner":{"account_id":1394557,"reputation":719,"user_id":1324599,"accept_rate":70,"display_name":"ags"},"score":0,"creation_date":1452048715,"post_id":34561596,"comment_id":56995479,"body_markdown":"@MadProgrammer with a custom model based on DefaultBoundedRangeModel I was still unsuccessful. Overriding setValue() and intercepting an illegal attempted value and substituting a legal value did  not work. Even when forcing a fireStateChanged() call just to be sure. I can&#39;t see the source (working on Mac, Aqua LaF) but symptoms lead me to suspect that the mouse release always sets the thumb position despite the value set in the model.","body":"@MadProgrammer with a custom model based on DefaultBoundedRangeModel I was still unsuccessful. Overriding setValue() and intercepting an illegal attempted value and substituting a legal value did  not work. Even when forcing a fireStateChanged() call just to be sure. I can&#39;t see the source (working on Mac, Aqua LaF) but symptoms lead me to suspect that the mouse release always sets the thumb position despite the value set in the model."}],"answers":[{"tags":[],"owner":{"account_id":59184,"reputation":9708,"user_id":177145,"display_name":"aterai"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1452235756,"creation_date":1451730965,"answer_id":34564924,"question_id":34561596,"body_markdown":"You might be able to override the `createTrackListener(...)` method of `MetalSliderUI` to prevent that dragging.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Edit**\r\n\r\n- Another option is to use a `JLayer`(untested code, may take some customization to work for other `LookAndFeel`):\r\n\r\n&lt;!--  --&gt;\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.beans.PropertyChangeEvent;\r\n    import java.util.*;\r\n    import javax.swing.*;\r\n    import javax.swing.event.*;\r\n    import javax.swing.plaf.*;\r\n    import javax.swing.plaf.basic.BasicSliderUI;\r\n    // import javax.swing.plaf.metal.MetalSliderUI;\r\n    // import javax.swing.plaf.synth.SynthSliderUI;\r\n    // import com.sun.java.swing.plaf.windows.WindowsSliderUI;\r\n    \r\n    public class DragLimitedSliderTest {\r\n      private static int MAXI = 80;\r\n      private JComponent makeUI() {\r\n        JSlider slider1 = makeSlider();\r\n        JSlider slider2 = makeSlider();\r\n        slider2.setUI(new BasicSliderUI(slider2) {\r\n        //slider2.setUI(new WindowsSliderUI(slider2) {\r\n        //slider2.setUI(new MetalSliderUI() {\r\n        //slider2.setUI(new SynthSliderUI(slider2) {\r\n          @Override protected TrackListener createTrackListener(JSlider slider) {\r\n            return new TrackListener() {\r\n              @Override public void mouseDragged(MouseEvent e) {\r\n                //case HORIZONTAL:\r\n                int halfThumbWidth = thumbRect.width / 2;\r\n                int thumbLeft = e.getX() - offset;\r\n                int maxPos = xPositionForValue(MAXI) - halfThumbWidth;\r\n                if (thumbLeft &gt; maxPos) {\r\n                  int x = maxPos + offset;\r\n                  MouseEvent me = new MouseEvent(\r\n                    e.getComponent(), e.getID(), e.getWhen(), e.getModifiers(),\r\n                    x, e.getY(),\r\n                    e.getXOnScreen(), e.getYOnScreen(),\r\n                    e.getClickCount(), e.isPopupTrigger(), e.getButton());\r\n                  e.consume();\r\n                  super.mouseDragged(me);\r\n                } else {\r\n                  super.mouseDragged(e);\r\n                }\r\n              }\r\n            };\r\n          }\r\n        });\r\n        JSlider slider3 = makeSlider();\r\n    \r\n        JPanel p = new JPanel(new GridLayout(3, 1));\r\n        p.add(slider1);\r\n        p.add(slider2);\r\n        p.add(new JLayer&lt;JSlider&gt;(slider3, new DisableInputLayerUI()));\r\n        return p;\r\n      }\r\n      private static JSlider makeSlider() {\r\n        JSlider slider = new JSlider(0, 100, 40) {\r\n          @Override public void setValue(int n) {\r\n            super.setValue(n);\r\n          }\r\n        };\r\n        slider.setMajorTickSpacing(10);\r\n        slider.setPaintTicks(true);\r\n        slider.setPaintLabels(true);\r\n        Dictionary dictionary = slider.getLabelTable();\r\n        if (dictionary != null) {\r\n          Enumeration elements = dictionary.elements();\r\n          while (elements.hasMoreElements()) {\r\n            JLabel label = (JLabel) elements.nextElement();\r\n            int v = Integer.parseInt(label.getText());\r\n            if (v &gt; MAXI) {\r\n              label.setForeground(Color.RED);\r\n            }\r\n          }\r\n        }\r\n        slider.getModel().addChangeListener(new ChangeListener() {\r\n          @Override public void stateChanged(ChangeEvent e) {\r\n            BoundedRangeModel m = (BoundedRangeModel) e.getSource();\r\n            if (m.getValue() &gt; MAXI) {\r\n              m.setValue(MAXI);\r\n            }\r\n          }\r\n        });\r\n        return slider;\r\n      }\r\n      public static void main(String... args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n          try {\r\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n    //         for (UIManager.LookAndFeelInfo laf: UIManager.getInstalledLookAndFeels()) {\r\n    //           if (&quot;Nimbus&quot;.equals(laf.getName())) {\r\n    //             UIManager.setLookAndFeel(laf.getClassName());\r\n    //           }\r\n    //         }\r\n          } catch (Exception e) {\r\n            e.printStackTrace();\r\n          }\r\n          JFrame f = new JFrame();\r\n          f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n          f.getContentPane().add(new DragLimitedSliderTest().makeUI());\r\n          f.setSize(320, 240);\r\n          f.setLocationRelativeTo(null);\r\n          f.setVisible(true);\r\n        });\r\n      }\r\n    }\r\n    \r\n    class DisableInputLayerUI extends LayerUI&lt;JSlider&gt; {\r\n      @Override public void installUI(JComponent c) {\r\n        super.installUI(c);\r\n        if (c instanceof JLayer) {\r\n          JLayer jlayer = (JLayer) c;\r\n          jlayer.setLayerEventMask(\r\n            AWTEvent.MOUSE_EVENT_MASK |\r\n            AWTEvent.MOUSE_MOTION_EVENT_MASK);\r\n        }\r\n      }\r\n      @Override public void uninstallUI(JComponent c) {\r\n        if (c instanceof JLayer) {\r\n          JLayer jlayer = (JLayer) c;\r\n          jlayer.setLayerEventMask(0);\r\n        }\r\n        super.uninstallUI(c);\r\n      }\r\n      private Rectangle thumbRect = new Rectangle(11, 19); //magic number\r\n      private Rectangle focusRect = new Rectangle();\r\n      private Rectangle contentRect = new Rectangle();\r\n      private Rectangle trackRect = new Rectangle();\r\n      private int offset;\r\n    \r\n      protected int xPositionForValue(JSlider slider, int value) {\r\n        int min = slider.getMinimum();\r\n        int max = slider.getMaximum();\r\n        int trackLength = trackRect.width;\r\n        double valueRange = (double) max - (double) min;\r\n        double pixelsPerValue = (double) trackLength / valueRange;\r\n        int trackLeft = trackRect.x;\r\n        int trackRight = trackRect.x + (trackRect.width - 1);\r\n        int xPosition;\r\n    \r\n        xPosition = trackLeft;\r\n        xPosition += Math.round(pixelsPerValue * ((double) value - min));\r\n    \r\n        xPosition = Math.max(trackLeft, xPosition);\r\n        xPosition = Math.min(trackRight, xPosition);\r\n    \r\n        return xPosition;\r\n      }\r\n      protected int getHeightOfTallestLabel(JSlider slider) {\r\n        Dictionary dictionary = slider.getLabelTable();\r\n        int tallest = 0;\r\n        if (dictionary != null) {\r\n          Enumeration keys = dictionary.keys();\r\n          while (keys.hasMoreElements()) {\r\n            JComponent label = (JComponent) dictionary.get(keys.nextElement());\r\n            tallest = Math.max(label.getPreferredSize().height, tallest);\r\n          }\r\n        }\r\n        return tallest;\r\n      }\r\n      @Override protected void processMouseEvent(MouseEvent e, JLayer&lt;? extends JSlider&gt; l) {\r\n        JSlider slider = l.getView();\r\n        if (e.getID() == MouseEvent.MOUSE_PRESSED) {\r\n          //case HORIZONTAL:\r\n    \r\n          //recalculateIfInsetsChanged()\r\n          Insets insetCache = slider.getInsets();\r\n          Insets focusInsets = UIManager.getInsets(&quot;Slider.focusInsets&quot;);\r\n          if (focusInsets == null) {\r\n            focusInsets = new Insets(2, 2, 2, 2); //magic number\r\n          }\r\n    \r\n          //calculateFocusRect()\r\n          focusRect.x = insetCache.left;\r\n          focusRect.y = insetCache.top;\r\n          focusRect.width = slider.getWidth() - (insetCache.left + insetCache.right);\r\n          focusRect.height = slider.getHeight() - (insetCache.top + insetCache.bottom);\r\n    \r\n          //calculateContentRect()\r\n          contentRect.x = focusRect.x + focusInsets.left;\r\n          contentRect.y = focusRect.y + focusInsets.top;\r\n          contentRect.width = focusRect.width - (focusInsets.left + focusInsets.right);\r\n          contentRect.height = focusRect.height - (focusInsets.top + focusInsets.bottom);\r\n    \r\n          //calculateThumbSize()\r\n          Icon ti = UIManager.getIcon(&quot;Slider.horizontalThumbIcon&quot;);\r\n          if (ti != null) {\r\n            thumbRect.width = ti.getIconWidth();\r\n            thumbRect.height = ti.getIconHeight();\r\n          }\r\n    \r\n          //calculateTrackBuffer()\r\n          int trackBuffer = 9; //magic number, Windows: 9, Metal: 10 ...\r\n    \r\n          //calculateTrackRect()\r\n          int centerSpacing = thumbRect.height;\r\n          if (slider.getPaintTicks())  centerSpacing += 8; //magic number getTickLength();\r\n          if (slider.getPaintLabels()) centerSpacing += getHeightOfTallestLabel(slider);\r\n          trackRect.x = contentRect.x + trackBuffer;\r\n          trackRect.y = contentRect.y + (contentRect.height - centerSpacing - 1) / 2;\r\n          trackRect.width = contentRect.width - (trackBuffer * 2);\r\n          trackRect.height = thumbRect.height;\r\n    \r\n          //calculateThumbLocation()\r\n          int valuePosition = xPositionForValue(slider, slider.getValue());\r\n          thumbRect.x = valuePosition - (thumbRect.width / 2);\r\n          thumbRect.y = trackRect.y;\r\n          offset = e.getX() - thumbRect.x;\r\n        }\r\n      }\r\n      @Override protected void processMouseMotionEvent(MouseEvent e, JLayer&lt;? extends JSlider&gt; l) {\r\n        if (e.getID() == MouseEvent.MOUSE_DRAGGED) {\r\n          JSlider slider = l.getView();\r\n          //case HORIZONTAL:\r\n          int halfThumbWidth = thumbRect.width / 2;\r\n          int thumbLeft = e.getX() - offset;\r\n          int maxPos = xPositionForValue(slider, 80) - halfThumbWidth;\r\n          if (thumbLeft &gt; maxPos) {\r\n            e.consume();\r\n            SliderUI ui = slider.getUI();\r\n            if (ui instanceof BasicSliderUI) {\r\n              ((BasicSliderUI) ui).setThumbLocation(maxPos, thumbRect.y);\r\n            }\r\n            slider.getModel().setValue(80);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n  [1]: http://i.stack.imgur.com/bUiTN.png\r\n","title":"How can I prevent a JSlider from moving full-range?","body":"<p>You might be able to override the <code>createTrackListener(...)</code> method of <code>MetalSliderUI</code> to prevent that dragging.</p>\n\n<p><a href=\"https://i.stack.imgur.com/bUiTN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bUiTN.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Edit</strong></p>\n\n<ul>\n<li>Another option is to use a <code>JLayer</code>(untested code, may take some customization to work for other <code>LookAndFeel</code>):</li>\n</ul>\n\n\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.beans.PropertyChangeEvent;\nimport java.util.*;\nimport javax.swing.*;\nimport javax.swing.event.*;\nimport javax.swing.plaf.*;\nimport javax.swing.plaf.basic.BasicSliderUI;\n// import javax.swing.plaf.metal.MetalSliderUI;\n// import javax.swing.plaf.synth.SynthSliderUI;\n// import com.sun.java.swing.plaf.windows.WindowsSliderUI;\n\npublic class DragLimitedSliderTest {\n  private static int MAXI = 80;\n  private JComponent makeUI() {\n    JSlider slider1 = makeSlider();\n    JSlider slider2 = makeSlider();\n    slider2.setUI(new BasicSliderUI(slider2) {\n    //slider2.setUI(new WindowsSliderUI(slider2) {\n    //slider2.setUI(new MetalSliderUI() {\n    //slider2.setUI(new SynthSliderUI(slider2) {\n      @Override protected TrackListener createTrackListener(JSlider slider) {\n        return new TrackListener() {\n          @Override public void mouseDragged(MouseEvent e) {\n            //case HORIZONTAL:\n            int halfThumbWidth = thumbRect.width / 2;\n            int thumbLeft = e.getX() - offset;\n            int maxPos = xPositionForValue(MAXI) - halfThumbWidth;\n            if (thumbLeft &gt; maxPos) {\n              int x = maxPos + offset;\n              MouseEvent me = new MouseEvent(\n                e.getComponent(), e.getID(), e.getWhen(), e.getModifiers(),\n                x, e.getY(),\n                e.getXOnScreen(), e.getYOnScreen(),\n                e.getClickCount(), e.isPopupTrigger(), e.getButton());\n              e.consume();\n              super.mouseDragged(me);\n            } else {\n              super.mouseDragged(e);\n            }\n          }\n        };\n      }\n    });\n    JSlider slider3 = makeSlider();\n\n    JPanel p = new JPanel(new GridLayout(3, 1));\n    p.add(slider1);\n    p.add(slider2);\n    p.add(new JLayer&lt;JSlider&gt;(slider3, new DisableInputLayerUI()));\n    return p;\n  }\n  private static JSlider makeSlider() {\n    JSlider slider = new JSlider(0, 100, 40) {\n      @Override public void setValue(int n) {\n        super.setValue(n);\n      }\n    };\n    slider.setMajorTickSpacing(10);\n    slider.setPaintTicks(true);\n    slider.setPaintLabels(true);\n    Dictionary dictionary = slider.getLabelTable();\n    if (dictionary != null) {\n      Enumeration elements = dictionary.elements();\n      while (elements.hasMoreElements()) {\n        JLabel label = (JLabel) elements.nextElement();\n        int v = Integer.parseInt(label.getText());\n        if (v &gt; MAXI) {\n          label.setForeground(Color.RED);\n        }\n      }\n    }\n    slider.getModel().addChangeListener(new ChangeListener() {\n      @Override public void stateChanged(ChangeEvent e) {\n        BoundedRangeModel m = (BoundedRangeModel) e.getSource();\n        if (m.getValue() &gt; MAXI) {\n          m.setValue(MAXI);\n        }\n      }\n    });\n    return slider;\n  }\n  public static void main(String... args) {\n    EventQueue.invokeLater(() -&gt; {\n      try {\n        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n//         for (UIManager.LookAndFeelInfo laf: UIManager.getInstalledLookAndFeels()) {\n//           if (\"Nimbus\".equals(laf.getName())) {\n//             UIManager.setLookAndFeel(laf.getClassName());\n//           }\n//         }\n      } catch (Exception e) {\n        e.printStackTrace();\n      }\n      JFrame f = new JFrame();\n      f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n      f.getContentPane().add(new DragLimitedSliderTest().makeUI());\n      f.setSize(320, 240);\n      f.setLocationRelativeTo(null);\n      f.setVisible(true);\n    });\n  }\n}\n\nclass DisableInputLayerUI extends LayerUI&lt;JSlider&gt; {\n  @Override public void installUI(JComponent c) {\n    super.installUI(c);\n    if (c instanceof JLayer) {\n      JLayer jlayer = (JLayer) c;\n      jlayer.setLayerEventMask(\n        AWTEvent.MOUSE_EVENT_MASK |\n        AWTEvent.MOUSE_MOTION_EVENT_MASK);\n    }\n  }\n  @Override public void uninstallUI(JComponent c) {\n    if (c instanceof JLayer) {\n      JLayer jlayer = (JLayer) c;\n      jlayer.setLayerEventMask(0);\n    }\n    super.uninstallUI(c);\n  }\n  private Rectangle thumbRect = new Rectangle(11, 19); //magic number\n  private Rectangle focusRect = new Rectangle();\n  private Rectangle contentRect = new Rectangle();\n  private Rectangle trackRect = new Rectangle();\n  private int offset;\n\n  protected int xPositionForValue(JSlider slider, int value) {\n    int min = slider.getMinimum();\n    int max = slider.getMaximum();\n    int trackLength = trackRect.width;\n    double valueRange = (double) max - (double) min;\n    double pixelsPerValue = (double) trackLength / valueRange;\n    int trackLeft = trackRect.x;\n    int trackRight = trackRect.x + (trackRect.width - 1);\n    int xPosition;\n\n    xPosition = trackLeft;\n    xPosition += Math.round(pixelsPerValue * ((double) value - min));\n\n    xPosition = Math.max(trackLeft, xPosition);\n    xPosition = Math.min(trackRight, xPosition);\n\n    return xPosition;\n  }\n  protected int getHeightOfTallestLabel(JSlider slider) {\n    Dictionary dictionary = slider.getLabelTable();\n    int tallest = 0;\n    if (dictionary != null) {\n      Enumeration keys = dictionary.keys();\n      while (keys.hasMoreElements()) {\n        JComponent label = (JComponent) dictionary.get(keys.nextElement());\n        tallest = Math.max(label.getPreferredSize().height, tallest);\n      }\n    }\n    return tallest;\n  }\n  @Override protected void processMouseEvent(MouseEvent e, JLayer&lt;? extends JSlider&gt; l) {\n    JSlider slider = l.getView();\n    if (e.getID() == MouseEvent.MOUSE_PRESSED) {\n      //case HORIZONTAL:\n\n      //recalculateIfInsetsChanged()\n      Insets insetCache = slider.getInsets();\n      Insets focusInsets = UIManager.getInsets(\"Slider.focusInsets\");\n      if (focusInsets == null) {\n        focusInsets = new Insets(2, 2, 2, 2); //magic number\n      }\n\n      //calculateFocusRect()\n      focusRect.x = insetCache.left;\n      focusRect.y = insetCache.top;\n      focusRect.width = slider.getWidth() - (insetCache.left + insetCache.right);\n      focusRect.height = slider.getHeight() - (insetCache.top + insetCache.bottom);\n\n      //calculateContentRect()\n      contentRect.x = focusRect.x + focusInsets.left;\n      contentRect.y = focusRect.y + focusInsets.top;\n      contentRect.width = focusRect.width - (focusInsets.left + focusInsets.right);\n      contentRect.height = focusRect.height - (focusInsets.top + focusInsets.bottom);\n\n      //calculateThumbSize()\n      Icon ti = UIManager.getIcon(\"Slider.horizontalThumbIcon\");\n      if (ti != null) {\n        thumbRect.width = ti.getIconWidth();\n        thumbRect.height = ti.getIconHeight();\n      }\n\n      //calculateTrackBuffer()\n      int trackBuffer = 9; //magic number, Windows: 9, Metal: 10 ...\n\n      //calculateTrackRect()\n      int centerSpacing = thumbRect.height;\n      if (slider.getPaintTicks())  centerSpacing += 8; //magic number getTickLength();\n      if (slider.getPaintLabels()) centerSpacing += getHeightOfTallestLabel(slider);\n      trackRect.x = contentRect.x + trackBuffer;\n      trackRect.y = contentRect.y + (contentRect.height - centerSpacing - 1) / 2;\n      trackRect.width = contentRect.width - (trackBuffer * 2);\n      trackRect.height = thumbRect.height;\n\n      //calculateThumbLocation()\n      int valuePosition = xPositionForValue(slider, slider.getValue());\n      thumbRect.x = valuePosition - (thumbRect.width / 2);\n      thumbRect.y = trackRect.y;\n      offset = e.getX() - thumbRect.x;\n    }\n  }\n  @Override protected void processMouseMotionEvent(MouseEvent e, JLayer&lt;? extends JSlider&gt; l) {\n    if (e.getID() == MouseEvent.MOUSE_DRAGGED) {\n      JSlider slider = l.getView();\n      //case HORIZONTAL:\n      int halfThumbWidth = thumbRect.width / 2;\n      int thumbLeft = e.getX() - offset;\n      int maxPos = xPositionForValue(slider, 80) - halfThumbWidth;\n      if (thumbLeft &gt; maxPos) {\n        e.consume();\n        SliderUI ui = slider.getUI();\n        if (ui instanceof BasicSliderUI) {\n          ((BasicSliderUI) ui).setThumbLocation(maxPos, thumbRect.y);\n        }\n        slider.getModel().setValue(80);\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1394557,"reputation":719,"user_id":1324599,"accept_rate":70,"display_name":"ags"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452383148,"creation_date":1452375826,"answer_id":34699281,"question_id":34561596,"body_markdown":"It seems there&#39;s really no way to do what I wanted in a way that will be consistent across different Look and Feel implementations. Tracing through the notifications and listeners of the JSlider, BasicSliderUI, and BoundedRangeModel it turns out that there is no way to force a recalculation of the thumb position through public methods and the base listener implementation specifically prevents this from happening when dragging or terminating the drag (mouse release). See update to original question for more.","title":"How can I prevent a JSlider from moving full-range?","body":"<p>It seems there's really no way to do what I wanted in a way that will be consistent across different Look and Feel implementations. Tracing through the notifications and listeners of the JSlider, BasicSliderUI, and BoundedRangeModel it turns out that there is no way to force a recalculation of the thumb position through public methods and the base listener implementation specifically prevents this from happening when dragging or terminating the drag (mouse release). See update to original question for more.</p>\n"},{"tags":[],"owner":{"account_id":26923114,"reputation":3,"user_id":20496791,"display_name":"DragoStarh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681447787,"creation_date":1681447787,"answer_id":76011689,"question_id":34561596,"body_markdown":"Hey I know this is a really old post but there is a method which might not have existed before called &quot;slider.setExtent(int value)&quot; It does exactly what you&#39;re looking for. It takes an int value that represents the value that is taken away from the max value of the JSlider. For example if I have a slider that goes from 0-100 and I use &quot;slider.setExtent(20)&quot; then the user will only be able to slide up to the value 80 in the JSlider and it won&#39;t let them slide past that. Hope this helps, sorry if this is poorly explained it is my first time answering a question on here.\r\n\r\nHere is the link that explains this better, this is where I discovered this:\r\nhttps://www.tutorialspoint.com/java-program-to-set-the-extent-in-jslider","title":"How can I prevent a JSlider from moving full-range?","body":"<p>Hey I know this is a really old post but there is a method which might not have existed before called &quot;slider.setExtent(int value)&quot; It does exactly what you're looking for. It takes an int value that represents the value that is taken away from the max value of the JSlider. For example if I have a slider that goes from 0-100 and I use &quot;slider.setExtent(20)&quot; then the user will only be able to slide up to the value 80 in the JSlider and it won't let them slide past that. Hope this helps, sorry if this is poorly explained it is my first time answering a question on here.</p>\n<p>Here is the link that explains this better, this is where I discovered this:\n<a href=\"https://www.tutorialspoint.com/java-program-to-set-the-extent-in-jslider\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/java-program-to-set-the-extent-in-jslider</a></p>\n"}],"owner":{"account_id":1394557,"reputation":719,"user_id":1324599,"accept_rate":70,"display_name":"ags"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1264,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1681447787,"creation_date":1451696603,"question_id":34561596,"body_markdown":"I have an application where I want to use a `JSlider` for user input, representing a percentage of an absolute value.  \r\n Based on other variables, the minimum/maximum percentage value will be limited. I don&#39;t want to change the scale (min/max) of the `JSlider` itself (I want to preserve the full-range percentage scale). I created a `ChangeListener` that determines if the range needs to be limited, and when so, I call the `JSlider.setValue()` method with the appropriate (limited min/max) value. However, the `JSlider` itself does not reflect the value I&#39;ve set. If I query the value with `JSlider.getValue()` it returns what I would expect (the value I set).\r\n\r\nIs there a way to force the `JSlider` to only allow dragging the actual slider (thumb, knob) to a certain point, then stopping?\r\n\r\nUpdate:\r\n\r\nAfter spending too much time on this, I&#39;ve decided that the root problem is that I&#39;m misusing/abusing the JSlider in an unintended use model. Restricting the range of movement of the thumb to be less than the BoundedRangeModel range requires modification of the BasicSliderUI class. While the original solution proposed by *aterai* below does work, it requires overriding a SliderUI implementation class, impacting the portability and consistency of a plaf. So, either I have to find a different UI element or modify the JSlider BoundedRangeModel limits based on the other interdependent variable values. The downside of the latter is that the same thumb position will represent a different value based on the value of other user-editable parameters.","title":"How can I prevent a JSlider from moving full-range?","body":"<p>I have an application where I want to use a <code>JSlider</code> for user input, representing a percentage of an absolute value.<br>\n Based on other variables, the minimum/maximum percentage value will be limited. I don't want to change the scale (min/max) of the <code>JSlider</code> itself (I want to preserve the full-range percentage scale). I created a <code>ChangeListener</code> that determines if the range needs to be limited, and when so, I call the <code>JSlider.setValue()</code> method with the appropriate (limited min/max) value. However, the <code>JSlider</code> itself does not reflect the value I've set. If I query the value with <code>JSlider.getValue()</code> it returns what I would expect (the value I set).</p>\n\n<p>Is there a way to force the <code>JSlider</code> to only allow dragging the actual slider (thumb, knob) to a certain point, then stopping?</p>\n\n<p>Update:</p>\n\n<p>After spending too much time on this, I've decided that the root problem is that I'm misusing/abusing the JSlider in an unintended use model. Restricting the range of movement of the thumb to be less than the BoundedRangeModel range requires modification of the BasicSliderUI class. While the original solution proposed by <em>aterai</em> below does work, it requires overriding a SliderUI implementation class, impacting the portability and consistency of a plaf. So, either I have to find a different UI element or modify the JSlider BoundedRangeModel limits based on the other interdependent variable values. The downside of the latter is that the same thumb position will represent a different value based on the value of other user-editable parameters.</p>\n"},{"tags":["java","android","rx-java","rx-android"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1483715449,"post_id":41508408,"comment_id":70222774,"body_markdown":"Note: `1 / 0` triggers as `Error` not an `Exception` though that shouldn&#39;t matter here.","body":"Note: <code>1 &#47; 0</code> triggers as <code>Error</code> not an <code>Exception</code> though that shouldn&#39;t matter here."}],"answers":[{"tags":[],"owner":{"account_id":170809,"reputation":16057,"user_id":397786,"display_name":"Tassos Bassoukos"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1483716128,"creation_date":1483716128,"answer_id":41508728,"question_id":41508408,"body_markdown":"Keep in mind that `.doOnError()` catches the exception, does something with it *and then re-throws it*. If you want different behavior, use one of the `.onError*` methods.\r\n\r\nNow, the reason why the exception does not propagate to the caller in #1 but does in #2 is that you&#39;ve provided an error handler in #1, but not in #2, in which case the default is to propagate the exception.","title":"doOnError does not catch the exception","body":"<p>Keep in mind that <code>.doOnError()</code> catches the exception, does something with it <em>and then re-throws it</em>. If you want different behavior, use one of the <code>.onError*</code> methods.</p>\n\n<p>Now, the reason why the exception does not propagate to the caller in #1 but does in #2 is that you've provided an error handler in #1, but not in #2, in which case the default is to propagate the exception.</p>\n"},{"tags":[],"owner":{"account_id":1981904,"reputation":571,"user_id":1778299,"accept_rate":71,"display_name":"Tadhg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681447778,"creation_date":1681412037,"answer_id":76008909,"question_id":41508408,"body_markdown":"To complete Tassos&#39;s answer:\r\n\r\nRxJava does not allow exception &#39;bubbling&#39;. If an exception escapes the execution chain without getting caught, rather than propagate it up to your calling code, Rx will catch it and log an error message like `onErrorDropped\r\nreactor.core.Exceptions$ErrorCallbackNotImplemented: &lt;your exeception and message here&gt;`. See https://github.com/reactor/reactor-core/issues/2677\r\n\r\nAs Tassos said, the exception is rethrown from `doOnError()`. So if you use this functionality for error handling, you should remove the error from the chain, like so\r\n\r\n    Observable.from(items)\r\n        .map(this::invert)\r\n        .doOnError(t -&gt; Log.d(LOG_TAG, &quot;Error: &quot; + t.getMessage()))\r\n        .onErrorResume(e -&gt; Mono.empty()) // Replace Mono.empty() with an alternative function if you want some behavior on error\r\n        .doOnNext(i -&gt; Log.d(LOG_TAG, &quot;Inverted: &quot; + i))\r\n        .subscribe();\r\n\r\nSee https://nickolasfisher.com/blog/Making-Sense-of-Mono-Error-Handling-in-Spring-Boot-WebfluxProject-Reactor for more details on how that onErrorX works","title":"doOnError does not catch the exception","body":"<p>To complete Tassos's answer:</p>\n<p>RxJava does not allow exception 'bubbling'. If an exception escapes the execution chain without getting caught, rather than propagate it up to your calling code, Rx will catch it and log an error message like <code>onErrorDropped reactor.core.Exceptions$ErrorCallbackNotImplemented: &lt;your exeception and message here&gt;</code>. See <a href=\"https://github.com/reactor/reactor-core/issues/2677\" rel=\"nofollow noreferrer\">https://github.com/reactor/reactor-core/issues/2677</a></p>\n<p>As Tassos said, the exception is rethrown from <code>doOnError()</code>. So if you use this functionality for error handling, you should remove the error from the chain, like so</p>\n<pre><code>Observable.from(items)\n    .map(this::invert)\n    .doOnError(t -&gt; Log.d(LOG_TAG, &quot;Error: &quot; + t.getMessage()))\n    .onErrorResume(e -&gt; Mono.empty()) // Replace Mono.empty() with an alternative function if you want some behavior on error\n    .doOnNext(i -&gt; Log.d(LOG_TAG, &quot;Inverted: &quot; + i))\n    .subscribe();\n</code></pre>\n<p>See <a href=\"https://nickolasfisher.com/blog/Making-Sense-of-Mono-Error-Handling-in-Spring-Boot-WebfluxProject-Reactor\" rel=\"nofollow noreferrer\">https://nickolasfisher.com/blog/Making-Sense-of-Mono-Error-Handling-in-Spring-Boot-WebfluxProject-Reactor</a> for more details on how that onErrorX works</p>\n"}],"owner":{"account_id":5865787,"reputation":1694,"user_id":4619812,"accept_rate":64,"display_name":"thyago stall"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11546,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":41508728,"answer_count":2,"score":15,"last_activity_date":1681447778,"creation_date":1483715053,"question_id":41508408,"body_markdown":"I am just getting started with RxJava, but maybe something did not click yet.\r\n\r\n**1.**\r\n\r\n    Integer[] items = {1, 2, 3, 0, 0, 4, 5, 6, 1};\r\n    Observable.from(items)\r\n            .map(this::invert)\r\n            .subscribe(i -&gt; Log.d(LOG_TAG, &quot;Inverted: &quot; + i), t -&gt; Log.d(LOG_TAG, &quot;Error: &quot; + t.getMessage()));\r\n\r\n**2.**\r\n\r\n    Integer[] items = {1, 2, 3, 0, 0, 4, 5, 6, 1};\r\n    Observable.from(items)\r\n            .map(this::invert)\r\n            .doOnError(t -&gt; Log.d(LOG_TAG, &quot;Error: &quot; + t.getMessage()))\r\n            .doOnNext(i -&gt; Log.d(LOG_TAG, &quot;Inverted: &quot; + i))\r\n            .subscribe();\r\n\r\nThe `invert` function:\r\n\r\n    int invert(int i) {\r\n        return 1 / i;\r\n    }\r\n\r\nThe first executes normally, and when the exception is thrown the `onError` is executed. But on the other hand, the second does not work, so the exception is thrown all the way up to the calling method. \r\n\r\nWhat is the difference between the two blocks of code? ","title":"doOnError does not catch the exception","body":"<p>I am just getting started with RxJava, but maybe something did not click yet.</p>\n\n<p><strong>1.</strong></p>\n\n<pre><code>Integer[] items = {1, 2, 3, 0, 0, 4, 5, 6, 1};\nObservable.from(items)\n        .map(this::invert)\n        .subscribe(i -&gt; Log.d(LOG_TAG, \"Inverted: \" + i), t -&gt; Log.d(LOG_TAG, \"Error: \" + t.getMessage()));\n</code></pre>\n\n<p><strong>2.</strong></p>\n\n<pre><code>Integer[] items = {1, 2, 3, 0, 0, 4, 5, 6, 1};\nObservable.from(items)\n        .map(this::invert)\n        .doOnError(t -&gt; Log.d(LOG_TAG, \"Error: \" + t.getMessage()))\n        .doOnNext(i -&gt; Log.d(LOG_TAG, \"Inverted: \" + i))\n        .subscribe();\n</code></pre>\n\n<p>The <code>invert</code> function:</p>\n\n<pre><code>int invert(int i) {\n    return 1 / i;\n}\n</code></pre>\n\n<p>The first executes normally, and when the exception is thrown the <code>onError</code> is executed. But on the other hand, the second does not work, so the exception is thrown all the way up to the calling method. </p>\n\n<p>What is the difference between the two blocks of code? </p>\n"},{"tags":["java","eclipse","http","proxy","http-get"],"answers":[{"tags":[],"owner":{"account_id":3242625,"reputation":376,"user_id":4301614,"display_name":"michael - mlc"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1574164933,"creation_date":1574164933,"answer_id":58933677,"question_id":58933418,"body_markdown":"As you said :\r\n\r\n&gt; I think I might be related to the proxy configuration at my workplace,  [...]\r\n\r\nYou should ask your **IT** how to use your companies proxy (or check your network settings, which might show you the proxy settings)\r\n\r\nAlso have a look here:\r\n\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html\r\n","title":"Connection timed out when trying to make a simple Http GET request","body":"<p>As you said :</p>\n\n<blockquote>\n  <p>I think I might be related to the proxy configuration at my workplace,  [...]</p>\n</blockquote>\n\n<p>You should ask your <strong>IT</strong> how to use your companies proxy (or check your network settings, which might show you the proxy settings)</p>\n\n<p>Also have a look here:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html</a></p>\n"},{"tags":[],"owner":{"account_id":8401265,"reputation":29,"user_id":6306383,"display_name":"vishal sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681447081,"creation_date":1681447081,"answer_id":76011642,"question_id":58933418,"body_markdown":"I faced similar issue while running Performance Test with 200 concurrent users for my java application and I was connected through evpn to my workplace network. I tried switching to a different network and it worked.\r\n\r\nThe issue occurred once the number of request reaches ~16K( this might be specific to my application), but switching to a different network and restarting my evpn worked for me.","title":"Connection timed out when trying to make a simple Http GET request","body":"<p>I faced similar issue while running Performance Test with 200 concurrent users for my java application and I was connected through evpn to my workplace network. I tried switching to a different network and it worked.</p>\n<p>The issue occurred once the number of request reaches ~16K( this might be specific to my application), but switching to a different network and restarting my evpn worked for me.</p>\n"}],"owner":{"account_id":11028106,"reputation":125,"user_id":8100304,"display_name":"Juan Antonio Rodr&#237;guez Gabriel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10389,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1681447081,"creation_date":1574164081,"question_id":58933418,"body_markdown":"I&#39;m trying to make a simple GET request: \r\n\r\n    https://www.google.com/search?q=stuff\r\n\r\n\r\nI&#39;ve used the Apache Http Lybrary:\r\n\r\n    import java.io.IOException;    \r\n    import org.apache.http.Header;\r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpHeaders;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.methods.CloseableHttpResponse;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    import org.apache.http.util.EntityUtils;\r\n    \r\n    public class INRIX {\r\n    \r\n    \tprivate final CloseableHttpClient httpClient = HttpClients.createDefault();\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tINRIX inrix = new INRIX();\r\n    \r\n    \r\n    \t\ttry {\r\n    \t\t\tinrix.peticionGet();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\ttry {\r\n    \t\t\t\tinrix.close();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tprivate void close() throws IOException {\r\n    \t\thttpClient.close();\r\n    \t}\r\n    \r\n    \tprivate void peticionGet() throws Exception {\r\n    \r\n    \t\tHttpGet getRequest = new HttpGet(&quot;https://www.google.com/search?q=stuff&quot;);\r\n    \r\n    \t\t// Request Headers\r\n    \t\tgetRequest.addHeader(&quot;custom-key&quot;, &quot;stuff&quot;);\r\n    \t\tgetRequest.addHeader(HttpHeaders.USER_AGENT, &quot;Googlebot&quot;);\r\n    \r\n    \t\ttry (CloseableHttpResponse response = httpClient.execute(getRequest)) {\r\n    \r\n    \t\t\t// Get HttpResponse Status\r\n    \t\t\tSystem.out.println(response.getStatusLine().toString());\r\n    \r\n    \t\t\tHttpEntity entity = response.getEntity();\r\n    \t\t\tHeader headers = entity.getContentType();\r\n    \t\t\tSystem.out.println(headers);\r\n    \r\n    \t\t\tif (entity != null) {\r\n    \t\t\t\t// return it as a String\r\n    \t\t\t\tString result = EntityUtils.toString(entity);\r\n    \t\t\t\tSystem.out.println(result);\r\n    \t\t\t}\r\n    \r\n    \t\t} catch (ClientProtocolException e) {\r\n    \t\t\tSystem.out.println(&quot;ClientProtocolException&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.out.println(&quot;IOException&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nAnd HttpURLConnection:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    \r\n    public class INRIXURL {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tINRIXURL inrix = new INRIXURL();\r\n    \r\n    \t\tinrix.peticionGet();\r\n    \t}\r\n    \r\n    \tpublic void peticionGet() {\r\n    \r\n    \t\tString url = &quot;https://www.google.com/search?q=stuff&quot;;\r\n    \r\n    \t\tHttpURLConnection httpClient;\r\n    \t\ttry {\r\n    \t\t\thttpClient = (HttpURLConnection) new URL(url).openConnection();\r\n    \r\n    \t\t\t// optional default is GET\r\n    \t\t\thttpClient.setRequestMethod(&quot;GET&quot;);\r\n    \r\n    \t\t\t// add request header\r\n    \t\t\thttpClient.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\r\n    \r\n    \t\t\tint responseCode = httpClient.getResponseCode();\r\n    \t\t\tSystem.out.println(&quot;\\nSending &#39;GET&#39; request to URL : &quot; + url);\r\n    \t\t\tSystem.out.println(&quot;Response Code : &quot; + responseCode);\r\n    \r\n    \t\t\ttry (BufferedReader in = new BufferedReader(new InputStreamReader(httpClient.getInputStream()))) {\r\n    \r\n    \t\t\t\tStringBuilder response = new StringBuilder();\r\n    \t\t\t\tString line;\r\n    \r\n    \t\t\t\twhile ((line = in.readLine()) != null) {\r\n    \t\t\t\t\tresponse.append(line);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t// print result\r\n    \t\t\t\tSystem.out.println(response.toString());\r\n    \t\t\t}\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nIn both cases I get timed out.\r\n\r\nError in the first case:\r\n\r\n&gt; org.apache.http.conn.HttpHostConnectException: Connect to\r\n&gt; www.google.com:443 [www.google.com/216.58.201.132] failed: Connection\r\n&gt; timed out: connect \tat\r\n&gt; org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:374)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\r\n&gt; \tat connCarPackage.INRIX.peticionGet(INRIX.java:53) \tat\r\n&gt; connCarPackage.INRIX.main(INRIX.java:26) Caused by:\r\n&gt; java.net.ConnectException: Connection timed out: connect \tat\r\n&gt; java.net.DualStackPlainSocketImpl.connect0(Native Method) \tat\r\n&gt; java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source) \tat\r\n&gt; java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) \tat\r\n&gt; java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) \tat\r\n&gt; java.net.AbstractPlainSocketImpl.connect(Unknown Source) \tat\r\n&gt; java.net.PlainSocketImpl.connect(Unknown Source) \tat\r\n&gt; java.net.SocksSocketImpl.connect(Unknown Source) \tat\r\n&gt; java.net.Socket.connect(Unknown Source) \tat\r\n&gt; org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:368)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n&gt; \t... 11 more\r\n\r\nFor the second case:\r\n\r\n&gt; java.net.ConnectException: Connection timed out: connect \tat\r\n&gt; java.net.DualStackPlainSocketImpl.connect0(Native Method) \tat\r\n&gt; java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source) \tat\r\n&gt; java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) \tat\r\n&gt; java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) \tat\r\n&gt; java.net.AbstractPlainSocketImpl.connect(Unknown Source) \tat\r\n&gt; java.net.PlainSocketImpl.connect(Unknown Source) \tat\r\n&gt; java.net.SocksSocketImpl.connect(Unknown Source) \tat\r\n&gt; java.net.Socket.connect(Unknown Source) \tat\r\n&gt; sun.security.ssl.SSLSocketImpl.connect(Unknown Source) \tat\r\n&gt; sun.security.ssl.BaseSSLSocketImpl.connect(Unknown Source) \tat\r\n&gt; sun.net.NetworkClient.doConnect(Unknown Source) \tat\r\n&gt; sun.net.www.http.HttpClient.openServer(Unknown Source) \tat\r\n&gt; sun.net.www.http.HttpClient.openServer(Unknown Source) \tat\r\n&gt; sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(Unknown Source) \tat\r\n&gt; sun.net.www.protocol.https.HttpsClient.New(Unknown Source) \tat\r\n&gt; sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(Unknown\r\n&gt; Source) \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.plainConnect0(Unknown\r\n&gt; Source) \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown\r\n&gt; Source) \tat\r\n&gt; sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown\r\n&gt; Source) \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown\r\n&gt; Source) \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown\r\n&gt; Source) \tat java.net.HttpURLConnection.getResponseCode(Unknown Source)\r\n&gt; \tat\r\n&gt; sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown\r\n&gt; Source) \tat urlConnection.INRIXURL.peticionGet(INRIXURL.java:31) \tat\r\n&gt; urlConnection.INRIXURL.main(INRIXURL.java:14)\r\n\r\nI think I might be related to the proxy configuration at my workplace, but I don&#39;t know how to check or fix it if that&#39;s the case or if I&#39;m just not doing the request properly. I noticed that I can&#39;t ping sites or machines outside the company network but I don&#39;t know if it is related.\r\n\r\nAlso using [https://reqbin.com/][1] the request works fine and I can browse without problems.\r\n\r\n\r\n  [1]: https://reqbin.com/","title":"Connection timed out when trying to make a simple Http GET request","body":"<p>I'm trying to make a simple GET request: </p>\n\n<pre><code>https://www.google.com/search?q=stuff\n</code></pre>\n\n<p>I've used the Apache Http Lybrary:</p>\n\n<pre><code>import java.io.IOException;    \nimport org.apache.http.Header;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpHeaders;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.util.EntityUtils;\n\npublic class INRIX {\n\n    private final CloseableHttpClient httpClient = HttpClients.createDefault();\n\n    public static void main(String[] args) {\n\n        INRIX inrix = new INRIX();\n\n\n        try {\n            inrix.peticionGet();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                inrix.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n    }\n\n    private void close() throws IOException {\n        httpClient.close();\n    }\n\n    private void peticionGet() throws Exception {\n\n        HttpGet getRequest = new HttpGet(\"https://www.google.com/search?q=stuff\");\n\n        // Request Headers\n        getRequest.addHeader(\"custom-key\", \"stuff\");\n        getRequest.addHeader(HttpHeaders.USER_AGENT, \"Googlebot\");\n\n        try (CloseableHttpResponse response = httpClient.execute(getRequest)) {\n\n            // Get HttpResponse Status\n            System.out.println(response.getStatusLine().toString());\n\n            HttpEntity entity = response.getEntity();\n            Header headers = entity.getContentType();\n            System.out.println(headers);\n\n            if (entity != null) {\n                // return it as a String\n                String result = EntityUtils.toString(entity);\n                System.out.println(result);\n            }\n\n        } catch (ClientProtocolException e) {\n            System.out.println(\"ClientProtocolException\");\n            e.printStackTrace();\n        } catch (IOException e) {\n            System.out.println(\"IOException\");\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n\n<p>And HttpURLConnection:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class INRIXURL {\n\n    public static void main(String[] args) {\n        INRIXURL inrix = new INRIXURL();\n\n        inrix.peticionGet();\n    }\n\n    public void peticionGet() {\n\n        String url = \"https://www.google.com/search?q=stuff\";\n\n        HttpURLConnection httpClient;\n        try {\n            httpClient = (HttpURLConnection) new URL(url).openConnection();\n\n            // optional default is GET\n            httpClient.setRequestMethod(\"GET\");\n\n            // add request header\n            httpClient.setRequestProperty(\"User-Agent\", \"Mozilla/5.0\");\n\n            int responseCode = httpClient.getResponseCode();\n            System.out.println(\"\\nSending 'GET' request to URL : \" + url);\n            System.out.println(\"Response Code : \" + responseCode);\n\n            try (BufferedReader in = new BufferedReader(new InputStreamReader(httpClient.getInputStream()))) {\n\n                StringBuilder response = new StringBuilder();\n                String line;\n\n                while ((line = in.readLine()) != null) {\n                    response.append(line);\n                }\n\n                // print result\n                System.out.println(response.toString());\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>In both cases I get timed out.</p>\n\n<p>Error in the first case:</p>\n\n<blockquote>\n  <p>org.apache.http.conn.HttpHostConnectException: Connect to\n  www.google.com:443 [www.google.com/216.58.201.132] failed: Connection\n  timed out: connect    at\n  org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)\n    at\n  org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:374)\n    at\n  org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n    at\n  org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at\n  org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    at\n  org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at\n  org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at\n  org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at\n  org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at\n  org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\n    at connCarPackage.INRIX.peticionGet(INRIX.java:53)  at\n  connCarPackage.INRIX.main(INRIX.java:26) Caused by:\n  java.net.ConnectException: Connection timed out: connect  at\n  java.net.DualStackPlainSocketImpl.connect0(Native Method)     at\n  java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)   at\n  java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)    at\n  java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)     at\n  java.net.AbstractPlainSocketImpl.connect(Unknown Source)  at\n  java.net.PlainSocketImpl.connect(Unknown Source)  at\n  java.net.SocksSocketImpl.connect(Unknown Source)  at\n  java.net.Socket.connect(Unknown Source)   at\n  org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:368)\n    at\n  org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    ... 11 more</p>\n</blockquote>\n\n<p>For the second case:</p>\n\n<blockquote>\n  <p>java.net.ConnectException: Connection timed out: connect  at\n  java.net.DualStackPlainSocketImpl.connect0(Native Method)     at\n  java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)   at\n  java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)    at\n  java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)     at\n  java.net.AbstractPlainSocketImpl.connect(Unknown Source)  at\n  java.net.PlainSocketImpl.connect(Unknown Source)  at\n  java.net.SocksSocketImpl.connect(Unknown Source)  at\n  java.net.Socket.connect(Unknown Source)   at\n  sun.security.ssl.SSLSocketImpl.connect(Unknown Source)    at\n  sun.security.ssl.BaseSSLSocketImpl.connect(Unknown Source)    at\n  sun.net.NetworkClient.doConnect(Unknown Source)   at\n  sun.net.www.http.HttpClient.openServer(Unknown Source)    at\n  sun.net.www.http.HttpClient.openServer(Unknown Source)    at\n  sun.net.www.protocol.https.HttpsClient.(Unknown Source)     at\n  sun.net.www.protocol.https.HttpsClient.New(Unknown Source)    at\n  sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(Unknown\n  Source)   at\n  sun.net.www.protocol.http.HttpURLConnection.plainConnect0(Unknown\n  Source)   at\n  sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown\n  Source)   at\n  sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown\n  Source)   at\n  sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown\n  Source)   at\n  sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown\n  Source)   at java.net.HttpURLConnection.getResponseCode(Unknown Source)\n    at\n  sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown\n  Source)   at urlConnection.INRIXURL.peticionGet(INRIXURL.java:31)     at\n  urlConnection.INRIXURL.main(INRIXURL.java:14)</p>\n</blockquote>\n\n<p>I think I might be related to the proxy configuration at my workplace, but I don't know how to check or fix it if that's the case or if I'm just not doing the request properly. I noticed that I can't ping sites or machines outside the company network but I don't know if it is related.</p>\n\n<p>Also using <a href=\"https://reqbin.com/\" rel=\"nofollow noreferrer\">https://reqbin.com/</a> the request works fine and I can browse without problems.</p>\n"},{"tags":["java","oauth-2.0","azure-active-directory","smtp","office365"],"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681446541,"creation_date":1681130702,"question_id":75977242,"body_markdown":"I could able to access mailbox using IMAP protocol and client credentials flow but if I try to send mail then it got failed with exception:\r\n\r\n```\r\n535 5.7.3 Authentication unsuccessful [PN2PR01CA0190.INDPRD01.PROD.OUTLOOK.COM 2023-04-10T11:36:49.717Z 08DB38497E3FD62E]\r\n\r\n\tat com.sun.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:947)\r\n\tat com.sun.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:858)\r\n\tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:762)\r\n\tat jakarta.mail.Service.connect(Service.java:364)\r\n\tat jakarta.mail.Service.connect(Service.java:222)\r\n\tat jakarta.mail.Service.connect(Service.java:171)\r\n```\r\n\r\n\r\nI am sure that on Azure app I have added `SMTP.SendAsApp` permission and admin grant is also given to the permission. Also by using power shell I have also given mailbox permission to application&#39;s service principle with access rights as `FullAccess`.\r\n\r\nAfter little bit googling about the problem, I come across [this](https://stackoverflow.com/questions/73558889/azure-ad-service-principal-client-credentials-grant-authenticate-failed-accessin?rq=3), [this](https://stackoverflow.com/questions/73543343/office365-smtp-with-oauth2-client-credentials-flow-returns-authentication-unsuc) and even some post from Microsoft mentions that [this URL](https://learn.microsoft.com/en-us/exchange/client-developer/legacy-protocols/how-to-authenticate-an-imap-pop-smtp-application-by-using-oauth#smtp-protocol-exchange) states that SMTP + client credentials flow is not supported but now I visit the URL then there is nothing any such thing mentioned by Microsoft, which is creating confusing state, whether I am doing something wrong that&#39;s why getting above exception or still SMTP with client credentials flow is not supported?","title":"Microsoft Exchnage SMTP AUTH using client credentials flow","body":"<p>I could able to access mailbox using IMAP protocol and client credentials flow but if I try to send mail then it got failed with exception:</p>\n<pre><code>535 5.7.3 Authentication unsuccessful [PN2PR01CA0190.INDPRD01.PROD.OUTLOOK.COM 2023-04-10T11:36:49.717Z 08DB38497E3FD62E]\n\n    at com.sun.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:947)\n    at com.sun.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:858)\n    at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:762)\n    at jakarta.mail.Service.connect(Service.java:364)\n    at jakarta.mail.Service.connect(Service.java:222)\n    at jakarta.mail.Service.connect(Service.java:171)\n</code></pre>\n<p>I am sure that on Azure app I have added <code>SMTP.SendAsApp</code> permission and admin grant is also given to the permission. Also by using power shell I have also given mailbox permission to application's service principle with access rights as <code>FullAccess</code>.</p>\n<p>After little bit googling about the problem, I come across <a href=\"https://stackoverflow.com/questions/73558889/azure-ad-service-principal-client-credentials-grant-authenticate-failed-accessin?rq=3\">this</a>, <a href=\"https://stackoverflow.com/questions/73543343/office365-smtp-with-oauth2-client-credentials-flow-returns-authentication-unsuc\">this</a> and even some post from Microsoft mentions that <a href=\"https://learn.microsoft.com/en-us/exchange/client-developer/legacy-protocols/how-to-authenticate-an-imap-pop-smtp-application-by-using-oauth#smtp-protocol-exchange\" rel=\"nofollow noreferrer\">this URL</a> states that SMTP + client credentials flow is not supported but now I visit the URL then there is nothing any such thing mentioned by Microsoft, which is creating confusing state, whether I am doing something wrong that's why getting above exception or still SMTP with client credentials flow is not supported?</p>\n"},{"tags":["java","android"],"owner":{"account_id":26488482,"reputation":104,"user_id":20126668,"display_name":"Best Thinking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681446419,"creation_date":1681015987,"question_id":75968829,"body_markdown":"I am applying data in listview with the help of given code.\r\n\r\n     final ListView listNames = (ListView) findViewById(R.id.listNamesId);\r\n        final TextView namesText = (TextView) findViewById(R.id.namesTexter);\r\n        final ArrayAdapter&lt;String&gt; adapterNames1 = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, new ArrayList&lt;String&gt;());\r\n        listNames.setAdapter(adapterNames);\r\n      button2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(!namesText.getText().toString().isEmpty()){\r\n                    adapterNames.add(namesText.getText().toString());\r\n                    namesText.setText(&quot;&quot;);\r\n                    adapterNames.notifyDataSetChanged();\r\n                }\r\n            }\r\n        });\r\nWhen the button is clicked, the data has put to the list view and \r\nFor scroll a listview i use this code that work fine.\r\n\r\n       public void timerDelayRunForScroll(long time) {\r\n        Handler handler = new Handler();\r\n        handler.postDelayed(new Runnable() {\r\n            public void run() {\r\n                try {\r\n                    int h1 = listNamesId.getHeight();\r\n                    int h2 = listNamesId.getHeight();\r\n\r\n                    listNamesId.smoothScrollToPositionFromTop(5, h1/2 - h2/2, 500);\r\n\r\n                } catch (Exception e) {}\r\n            }\r\n        }, time);\r\n    }\r\n\r\nBut i want to select every Listview Item one by one through timer count and put Listview Item text to a textview. My question is how can we select items of list view one by one with timer count and show the selected item text in a Textview.?\r\n ","title":"How to auto select Listview Item through Timer and put Listview Item text in Textview","body":"<p>I am applying data in listview with the help of given code.</p>\n<pre><code> final ListView listNames = (ListView) findViewById(R.id.listNamesId);\n    final TextView namesText = (TextView) findViewById(R.id.namesTexter);\n    final ArrayAdapter&lt;String&gt; adapterNames1 = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, new ArrayList&lt;String&gt;());\n    listNames.setAdapter(adapterNames);\n  button2.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            if(!namesText.getText().toString().isEmpty()){\n                adapterNames.add(namesText.getText().toString());\n                namesText.setText(&quot;&quot;);\n                adapterNames.notifyDataSetChanged();\n            }\n        }\n    });\n</code></pre>\n<p>When the button is clicked, the data has put to the list view and\nFor scroll a listview i use this code that work fine.</p>\n<pre><code>   public void timerDelayRunForScroll(long time) {\n    Handler handler = new Handler();\n    handler.postDelayed(new Runnable() {\n        public void run() {\n            try {\n                int h1 = listNamesId.getHeight();\n                int h2 = listNamesId.getHeight();\n\n                listNamesId.smoothScrollToPositionFromTop(5, h1/2 - h2/2, 500);\n\n            } catch (Exception e) {}\n        }\n    }, time);\n}\n</code></pre>\n<p>But i want to select every Listview Item one by one through timer count and put Listview Item text to a textview. My question is how can we select items of list view one by one with timer count and show the selected item text in a Textview.?</p>\n"},{"tags":["java","xml","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":20707,"reputation":30822,"user_id":49746,"display_name":"Todd"},"score":0,"creation_date":1504633575,"post_id":46060590,"comment_id":79081645,"body_markdown":"Possible duplicate of [How to use XML configuration for named queries in Spring data JPA?](https://stackoverflow.com/questions/24931248/how-to-use-xml-configuration-for-named-queries-in-spring-data-jpa)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/24931248/how-to-use-xml-configuration-for-named-queries-in-spring-data-jpa\">How to use XML configuration for named queries in Spring data JPA?</a>"},{"owner":{"account_id":4654003,"reputation":653,"user_id":3770020,"accept_rate":63,"display_name":"Anusha"},"score":0,"creation_date":1504633665,"post_id":46060590,"comment_id":79081689,"body_markdown":"Yes, I have come across this question. But like I mentioned, I do not have a `META-INF` folder, and I am very much confused as to where these `properties/ xml` files have to be stored. @Todd","body":"Yes, I have come across this question. But like I mentioned, I do not have a <code>META-INF</code> folder, and I am very much confused as to where these <code>properties&#47; xml</code> files have to be stored. @Todd"},{"owner":{"account_id":4323464,"reputation":6780,"user_id":3530898,"display_name":"Amit K Bist"},"score":1,"creation_date":1504635300,"post_id":46060590,"comment_id":79082406,"body_markdown":"Please check github example at https://github.com/eclipse/examples/tree/master/jpa/employee.dynamic/src/main/resources/META-INF and http://webdev.jhuep.com/~jcs/ejava-javaee/coursedocs/605-784-site/docs/content/html/hibernate-migration-orm.html, if META-INF is not present then you have to create it.","body":"Please check github example at <a href=\"https://github.com/eclipse/examples/tree/master/jpa/employee.dynamic/src/main/resources/META-INF\" rel=\"nofollow noreferrer\">github.com/eclipse/examples/tree/master/jpa/employee.dynamic&zwnj;&#8203;/&hellip;</a> and <a href=\"http://webdev.jhuep.com/~jcs/ejava-javaee/coursedocs/605-784-site/docs/content/html/hibernate-migration-orm.html\" rel=\"nofollow noreferrer\">webdev.jhuep.com/~jcs/ejava-javaee/coursedocs/605-784-site/d&zwnj;&#8203;ocs/&hellip;</a>, if META-INF is not present then you have to create it."}],"answers":[{"tags":[],"owner":{"account_id":6932710,"reputation":3956,"user_id":5321729,"accept_rate":67,"display_name":"Ajit Soman"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1504634601,"creation_date":1504634601,"answer_id":46060898,"question_id":46060590,"body_markdown":"Create `META-INF` inside `resources` folder . Now create `jpa-named-queries.properties` file inside that `META-INF` folder.\r\n\r\nWrite your query inside this properties file like this:\r\n\r\n`Customer.findAllCustomerByNamedQuery=Select c from Customer c`\r\n\r\nWhere `Customer` denote name of entity class and `findAllCustomerByNamedQuery` is the query name\r\n\r\nIn your customer repository write this to call your query written in properties file:\r\n\r\n`List&lt;Customer&gt; findAllCustomerByNamedQuery();`\r\n\r\n","title":"Externalize query in spring boot application","body":"<p>Create <code>META-INF</code> inside <code>resources</code> folder . Now create <code>jpa-named-queries.properties</code> file inside that <code>META-INF</code> folder.</p>\n\n<p>Write your query inside this properties file like this:</p>\n\n<p><code>Customer.findAllCustomerByNamedQuery=Select c from Customer c</code></p>\n\n<p>Where <code>Customer</code> denote name of entity class and <code>findAllCustomerByNamedQuery</code> is the query name</p>\n\n<p>In your customer repository write this to call your query written in properties file:</p>\n\n<p><code>List&lt;Customer&gt; findAllCustomerByNamedQuery();</code></p>\n"},{"tags":[],"owner":{"account_id":15459711,"reputation":1631,"user_id":11152683,"display_name":"Lubo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681445840,"creation_date":1681445840,"answer_id":76011556,"question_id":46060590,"body_markdown":"There is possibility to use named queries from [spring data jpa][1].\r\n\r\n\r\n     &lt;named-query name=&quot;MyData.ultimateFind&quot;&gt;\r\n        &lt;query&gt;select d from MyData d where d.column3 = ?1&lt;/query&gt;\r\n     &lt;/named-query&gt;\r\n\r\nTo bind it with repository method, your repository class can look like this:\r\n\r\n    public interface MyDataRepository extends JpaRepository&lt;MyData, Long&gt; {\r\n      List&lt;User&gt; ultimateFind(String dataForColumn3);   \r\n    }\r\n\r\nOther approach (more sexy, but as of now, [having problem with java 17][2]) is to use [spring-native-query][3], which reads sql filed from resources. It allows you to have custom repository type with nice bindings directly to sql files (also with conditional parts of sql if needed.).\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.named-queries\r\n  [2]: https://github.com/gasparbarancelli/spring-native-query/issues/46\r\n  [3]: https://gasparbarancelli.github.io/spring-native-query/","title":"Externalize query in spring boot application","body":"<p>There is possibility to use named queries from <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.named-queries\" rel=\"nofollow noreferrer\">spring data jpa</a>.</p>\n<pre><code> &lt;named-query name=&quot;MyData.ultimateFind&quot;&gt;\n    &lt;query&gt;select d from MyData d where d.column3 = ?1&lt;/query&gt;\n &lt;/named-query&gt;\n</code></pre>\n<p>To bind it with repository method, your repository class can look like this:</p>\n<pre><code>public interface MyDataRepository extends JpaRepository&lt;MyData, Long&gt; {\n  List&lt;User&gt; ultimateFind(String dataForColumn3);   \n}\n</code></pre>\n<p>Other approach (more sexy, but as of now, <a href=\"https://github.com/gasparbarancelli/spring-native-query/issues/46\" rel=\"nofollow noreferrer\">having problem with java 17</a>) is to use <a href=\"https://gasparbarancelli.github.io/spring-native-query/\" rel=\"nofollow noreferrer\">spring-native-query</a>, which reads sql filed from resources. It allows you to have custom repository type with nice bindings directly to sql files (also with conditional parts of sql if needed.).</p>\n"}],"owner":{"account_id":4654003,"reputation":653,"user_id":3770020,"accept_rate":63,"display_name":"Anusha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4616,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":46060898,"answer_count":2,"score":6,"last_activity_date":1681445840,"creation_date":1504633286,"question_id":46060590,"body_markdown":"I am using `spring-boot 1.5.6 RELEASE`. I want to do a basic thing, move my queries from the `@Query` annotation in the repository to any xml file. \r\n\r\nAfter some reading, I figured out that we can use `orm.xml` or `jpa-named-queries.properties` to write my custom query.\r\n\r\nI don&#39;t understand the file structure as to where these XML files have to be present. And I don&#39;t have a `META-INF` folder in my project.\r\n\r\nExample:\r\n\r\nPOJO Class:\r\n\r\n    @Entity\r\n    public Class Customer {\r\n\r\n    private int id;\r\n    private String name;\r\n    \r\n    // getters and setters\r\n    }\r\n\r\nRepository:\r\n\r\n    public interface CustomerRepository extends PagingAndSortingRepository&lt;Customer,Integer&gt; {\r\n    \r\n    // this query I need from an external xml file as it might be quite complex in terms of joins\r\n    @Query(&quot;Select cust from Customers cust&quot;)\r\n    public List&lt;Customer&gt; findAllCustomers();\r\n    \r\n    }\r\n\r\nEDIT: Referred to [this stackoverflow question][1]. I need to know where these files (`orm.xml` and `persistence.xml`) need to be stored as I don&#39;t have a `META-INF` folder.\r\n\r\nThanks in advance!!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24931248/how-to-use-xml-configuration-for-named-queries-in-spring-data-jpa","title":"Externalize query in spring boot application","body":"<p>I am using <code>spring-boot 1.5.6 RELEASE</code>. I want to do a basic thing, move my queries from the <code>@Query</code> annotation in the repository to any xml file. </p>\n\n<p>After some reading, I figured out that we can use <code>orm.xml</code> or <code>jpa-named-queries.properties</code> to write my custom query.</p>\n\n<p>I don't understand the file structure as to where these XML files have to be present. And I don't have a <code>META-INF</code> folder in my project.</p>\n\n<p>Example:</p>\n\n<p>POJO Class:</p>\n\n<pre><code>@Entity\npublic Class Customer {\n\nprivate int id;\nprivate String name;\n\n// getters and setters\n}\n</code></pre>\n\n<p>Repository:</p>\n\n<pre><code>public interface CustomerRepository extends PagingAndSortingRepository&lt;Customer,Integer&gt; {\n\n// this query I need from an external xml file as it might be quite complex in terms of joins\n@Query(\"Select cust from Customers cust\")\npublic List&lt;Customer&gt; findAllCustomers();\n\n}\n</code></pre>\n\n<p>EDIT: Referred to <a href=\"https://stackoverflow.com/questions/24931248/how-to-use-xml-configuration-for-named-queries-in-spring-data-jpa\">this stackoverflow question</a>. I need to know where these files (<code>orm.xml</code> and <code>persistence.xml</code>) need to be stored as I don't have a <code>META-INF</code> folder.</p>\n\n<p>Thanks in advance!!</p>\n"},{"tags":["java","while-loop","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":20051595,"reputation":155,"user_id":14700182,"display_name":"Benevos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681445767,"creation_date":1681443713,"answer_id":76011439,"question_id":76011391,"body_markdown":"&lt;!-- lang java --&gt;\r\n\r\nInitialize means it needs to have an initial value, like this:\r\n\r\n    int birthDay = 0;\r\n\r\nSo the only thing you need is to add a value to your variable\r\n\r\n**EDIT:** try out this code\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class MyStarSign \r\n    {\r\n    \r\n        public static void main(String[] args) \r\n        {\r\n    \r\n            Scanner myScanner = new Scanner(System.in);  // Create a Scanner object\r\n            System.out.println(&quot;What month were you born?&quot;);\r\n    \r\n            String birthMonth = &quot;&quot;;\r\n    \r\n            birthMonth= myScanner.next();  // Read user input\r\n    \r\n            System.out.println(&quot;You were born in &quot; + birthMonth + &quot;?&quot;);  // Output user input\r\n    \r\n            System.out.println(&quot;What day of the month were you born?&quot;);\r\n    \r\n            int birthDay = 0;\r\n    \r\n            while (birthDay &gt; 31) \r\n            {\r\n    \r\n                System.out.println(&quot;Please enter a valid day of the month&quot;);\r\n    \r\n                birthDay = myScanner.nextInt();\r\n    \r\n            }\r\n        }\r\n    }\r\n    ","title":"Java: Trying to use a while loop to check scanner input for an int variable, not sure how to initialize the variable?","body":"\n<p>Initialize means it needs to have an initial value, like this:</p>\n<pre><code>int birthDay = 0;\n</code></pre>\n<p>So the only thing you need is to add a value to your variable</p>\n<p><strong>EDIT:</strong> try out this code</p>\n<pre><code>import java.util.Scanner;\n\npublic class MyStarSign \n{\n\n    public static void main(String[] args) \n    {\n\n        Scanner myScanner = new Scanner(System.in);  // Create a Scanner object\n        System.out.println(&quot;What month were you born?&quot;);\n\n        String birthMonth = &quot;&quot;;\n\n        birthMonth= myScanner.next();  // Read user input\n\n        System.out.println(&quot;You were born in &quot; + birthMonth + &quot;?&quot;);  // Output user input\n\n        System.out.println(&quot;What day of the month were you born?&quot;);\n\n        int birthDay = 0;\n\n        while (birthDay &gt; 31) \n        {\n\n            System.out.println(&quot;Please enter a valid day of the month&quot;);\n\n            birthDay = myScanner.nextInt();\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28300548,"reputation":1,"user_id":21639288,"display_name":"Nitin Magadum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681444977,"creation_date":1681443827,"answer_id":76011443,"question_id":76011391,"body_markdown":"```java\r\npublic static void main(String[] args) {\r\n\r\n\tScanner myScanner = new Scanner(System.in);  // Create a Scanner object\r\n\tSystem.out.println(&quot;What month were you born?&quot;);\r\n\r\n\tString birthMonth = &quot;&quot;;\r\n\r\n\tbirthMonth= myScanner.next();  // Read user input\r\n\r\n\tSystem.out.println(&quot;You were born in &quot; + birthMonth + &quot;?&quot;);  // Output user input\r\n\tSystem.out.println(&quot;What day of the month were you born?&quot;);\r\n\r\n\tint birthDay;\r\n\tbirthDay = myScanner.nextInt();\r\n\r\n\twhile (birthDay &gt; 31) {\r\n\t\tSystem.out.println(&quot;Please enter a valid day of the month&quot;);\r\n\t\tbirthDay = myScanner.nextInt();\r\n\t}\r\n}\r\n```","title":"Java: Trying to use a while loop to check scanner input for an int variable, not sure how to initialize the variable?","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n    Scanner myScanner = new Scanner(System.in);  // Create a Scanner object\n    System.out.println(&quot;What month were you born?&quot;);\n\n    String birthMonth = &quot;&quot;;\n\n    birthMonth= myScanner.next();  // Read user input\n\n    System.out.println(&quot;You were born in &quot; + birthMonth + &quot;?&quot;);  // Output user input\n    System.out.println(&quot;What day of the month were you born?&quot;);\n\n    int birthDay;\n    birthDay = myScanner.nextInt();\n\n    while (birthDay &gt; 31) {\n        System.out.println(&quot;Please enter a valid day of the month&quot;);\n        birthDay = myScanner.nextInt();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681445767,"creation_date":1681442792,"question_id":76011391,"body_markdown":"This is one of the first programs I&#39;ve written on my own. I&#39;m writing a program to tell you what your zodiac sign is, and I got the program to run with a scanner method that I imported, but the problem I&#39;m running into is now that I&#39;m trying to check user input using a while loop, it&#39;s not running as I intended and as I compile my code the error I&#39;m running into is that my variable of type int is not initialized. I wrote it when declaring it with no assigned value, and I&#39;m unsure of what I should be assigning it to fix this issue.\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class MyStarSign {\r\n\r\n    public static void main(String[] args) {\r\n\r\n    Scanner myScanner = new Scanner(System.in);  // Create a Scanner object\r\n    System.out.println(&quot;What month were you born?&quot;);\r\n\r\n    String birthMonth = &quot;&quot;;\r\n\r\n        \r\n\r\n    birthMonth= myScanner.next();  // Read user input\r\n\r\n\r\n\r\n    System.out.println(&quot;You were born in &quot; + birthMonth + &quot;?&quot;);  // Output user input\r\n\r\n    System.out.println(&quot;What day of the month were you born?&quot;);\r\n\r\n    int birthDay;\r\n\r\n        while (birthDay &gt; 31) {\r\n\r\n            System.out.println(&quot;Please enter a valid day of the month&quot;);\r\n\r\n            birthDay = myScanner.nextInt();\r\n        \r\n        }\r\n\r\nThis is what my code looks like as of right now ^^\r\n\r\nNow for my attempted solution:\r\n\r\nint birthDay = myScanner.nextInt();\r\n\r\n        while (birthDay &gt; 31) {\r\n\r\n            System.out.println(&quot;Please enter a valid day of the month&quot;);\r\n\r\n            birthDay = myScanner.nextInt();\r\n        \r\n        }\r\n\r\nThis was what I attempted to fix the issue, though I&#39;m running into the same issue again when compiling my code","title":"Java: Trying to use a while loop to check scanner input for an int variable, not sure how to initialize the variable?","body":"<p>This is one of the first programs I've written on my own. I'm writing a program to tell you what your zodiac sign is, and I got the program to run with a scanner method that I imported, but the problem I'm running into is now that I'm trying to check user input using a while loop, it's not running as I intended and as I compile my code the error I'm running into is that my variable of type int is not initialized. I wrote it when declaring it with no assigned value, and I'm unsure of what I should be assigning it to fix this issue.</p>\n<p>import java.util.Scanner;</p>\n<p>public class MyStarSign {</p>\n<pre><code>public static void main(String[] args) {\n\nScanner myScanner = new Scanner(System.in);  // Create a Scanner object\nSystem.out.println(&quot;What month were you born?&quot;);\n\nString birthMonth = &quot;&quot;;\n\n    \n\nbirthMonth= myScanner.next();  // Read user input\n\n\n\nSystem.out.println(&quot;You were born in &quot; + birthMonth + &quot;?&quot;);  // Output user input\n\nSystem.out.println(&quot;What day of the month were you born?&quot;);\n\nint birthDay;\n\n    while (birthDay &gt; 31) {\n\n        System.out.println(&quot;Please enter a valid day of the month&quot;);\n\n        birthDay = myScanner.nextInt();\n    \n    }\n</code></pre>\n<p>This is what my code looks like as of right now ^^</p>\n<p>Now for my attempted solution:</p>\n<p>int birthDay = myScanner.nextInt();</p>\n<pre><code>    while (birthDay &gt; 31) {\n\n        System.out.println(&quot;Please enter a valid day of the month&quot;);\n\n        birthDay = myScanner.nextInt();\n    \n    }\n</code></pre>\n<p>This was what I attempted to fix the issue, though I'm running into the same issue again when compiling my code</p>\n"},{"tags":["java","string","replace"],"comments":[{"owner":{"account_id":261035,"reputation":6348,"user_id":544963,"accept_rate":100,"display_name":"fireshadow52"},"score":1,"creation_date":1681436809,"post_id":76010976,"comment_id":134059898,"body_markdown":"If I understand correctly, you&#39;re asking how to remove a word and its leading/trailing comma (if there is one)?","body":"If I understand correctly, you&#39;re asking how to remove a word and its leading/trailing comma (if there is one)?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1681436863,"post_id":76010976,"comment_id":134059903,"body_markdown":"Apparently, it could be trailing coma if the first word, leading comma if the last word, and either comma if an &quot;in-between&quot; word.","body":"Apparently, it could be trailing coma if the first word, leading comma if the last word, and either comma if an &quot;in-between&quot; word."},{"owner":{"account_id":26746614,"reputation":15,"user_id":20346594,"display_name":"Nicholas"},"score":0,"creation_date":1681437092,"post_id":76010976,"comment_id":134059919,"body_markdown":"Sorry ,I didn&#39;t make the question clear.What I want to do is replace &quot;Tom,&quot;  or &quot;,Jerry&quot; in one line of code.But the position of comma is different.Is there an regular expression can use?","body":"Sorry ,I didn&#39;t make the question clear.What I want to do is replace &quot;Tom,&quot;  or &quot;,Jerry&quot; in one line of code.But the position of comma is different.Is there an regular expression can use?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1681437182,"post_id":76010976,"comment_id":134059933,"body_markdown":"What have you tried? Please see the [Tour](https://stackoverflow.com/tour) and [How to Ask a Good Question](https://stackoverflow.com/help/how-to-ask)","body":"What have you tried? Please see the <a href=\"https://stackoverflow.com/tour\">Tour</a> and <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask a Good Question</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681437326,"post_id":76010976,"comment_id":134059946,"body_markdown":"You may edit the question to include that information. While you are at it, I suggest changing the title.  One possibility is &quot;Looking for Regex to replace or remove, from a String, a word and its delimiter.&quot;","body":"You may edit the question to include that information. While you are at it, I suggest changing the title.  One possibility is &quot;Looking for Regex to replace or remove, from a String, a word and its delimiter.&quot;"},{"owner":{"account_id":26746614,"reputation":15,"user_id":20346594,"display_name":"Nicholas"},"score":0,"creation_date":1681438288,"post_id":76010976,"comment_id":134060011,"body_markdown":"OK, thanks for your suggestion.I go to the right way with your help after my first question in StackOverFlow.I value this.Thank you so much.","body":"OK, thanks for your suggestion.I go to the right way with your help after my first question in StackOverFlow.I value this.Thank you so much."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1681444306,"post_id":76010976,"comment_id":134060538,"body_markdown":"If the string is `Tom` alone (so no comma, neither before nor after), do you want the empty string as result? Or something else?","body":"If the string is <code>Tom</code> alone (so no comma, neither before nor after), do you want the empty string as result? Or something else?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1681445518,"post_id":76010976,"comment_id":134060667,"body_markdown":"You may use `str.replaceFirst(&quot;Tom,|,Tom|Tom&quot;, &quot;&quot;)`. This turns `Tom,Jerry,Brady` into `Jerry,Brady`, `Brady,Tom,Jerry` into `Brady,Jerry`, `Jerry,Brady,Tom`  into `Jerry,Brady` and `Tom` alone into the empty string. Assuming that the name to remove can change, build the string `Tom,|,Tom|Tom` from `name + &quot;,|,&quot; + name + &quot;|&quot; + name`.","body":"You may use <code>str.replaceFirst(&quot;Tom,|,Tom|Tom&quot;, &quot;&quot;)</code>. This turns <code>Tom,Jerry,Brady</code> into <code>Jerry,Brady</code>, <code>Brady,Tom,Jerry</code> into <code>Brady,Jerry</code>, <code>Jerry,Brady,Tom</code>  into <code>Jerry,Brady</code> and <code>Tom</code> alone into the empty string. Assuming that the name to remove can change, build the string <code>Tom,|,Tom|Tom</code> from <code>name + &quot;,|,&quot; + name + &quot;|&quot; + name</code>."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681437174,"creation_date":1681437174,"answer_id":76011023,"question_id":76010976,"body_markdown":"You can use `replaceAll` with a regular expression to match the word followed by a comma, with a special case for the last word where we would have to remove a leading comma.\r\n\r\n```java\r\nvar word = Pattern.quote(&quot;Tom&quot;); // in case there are special characters\r\nstr = str.replaceAll(&quot;,&quot; + word + &quot;$|\\\\b&quot; + word + &quot;,&quot;, &quot;&quot;);\r\n```","title":"How can I remove a word and a comma which I don&#39;t know where it is?","body":"<p>You can use <code>replaceAll</code> with a regular expression to match the word followed by a comma, with a special case for the last word where we would have to remove a leading comma.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var word = Pattern.quote(&quot;Tom&quot;); // in case there are special characters\nstr = str.replaceAll(&quot;,&quot; + word + &quot;$|\\\\b&quot; + word + &quot;,&quot;, &quot;&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13385810,"reputation":862,"user_id":9659759,"display_name":"Jake"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681437198,"creation_date":1681437198,"answer_id":76011025,"question_id":76010976,"body_markdown":"No doubt the other folks here will have a much better and simpler way of accomplishing this, but one way that is fairly basic, easy to modify, and doesn&#39;t require you to know regex/Java Streams is something like this:\r\n\r\n\t\tString  str = &quot;Tom,Jerry,Brady,Patriots,TempaBay&quot;;\r\n        List&lt;String&gt; list = new LinkedList&lt;String&gt;(Arrays.asList(str.split(&quot;,&quot;)));  // split the string into pieces based on the , character\r\n        list.remove(&quot;Tom&quot;);  // remove your target string from the array, if it exists at all\r\n        str = String.join(&quot;,&quot;, list);  // re-join the remaining elements of the array using the , character\r\n\r\nI don&#39;t think this will be the most performant option available to you, so depending on your use case, it may or may not be appropriate, but hopefully it at least makes sense.  ","title":"How can I remove a word and a comma which I don&#39;t know where it is?","body":"<p>No doubt the other folks here will have a much better and simpler way of accomplishing this, but one way that is fairly basic, easy to modify, and doesn't require you to know regex/Java Streams is something like this:</p>\n<pre><code>    String  str = &quot;Tom,Jerry,Brady,Patriots,TempaBay&quot;;\n    List&lt;String&gt; list = new LinkedList&lt;String&gt;(Arrays.asList(str.split(&quot;,&quot;)));  // split the string into pieces based on the , character\n    list.remove(&quot;Tom&quot;);  // remove your target string from the array, if it exists at all\n    str = String.join(&quot;,&quot;, list);  // re-join the remaining elements of the array using the , character\n</code></pre>\n<p>I don't think this will be the most performant option available to you, so depending on your use case, it may or may not be appropriate, but hopefully it at least makes sense.</p>\n"}],"owner":{"account_id":26746614,"reputation":15,"user_id":20346594,"display_name":"Nicholas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76011025,"answer_count":2,"score":0,"last_activity_date":1681444148,"creation_date":1681436335,"question_id":76010976,"body_markdown":"Such as \r\n```\r\nString  str = &quot;Tom,Jerry,Brady,Patriots,TempaBay&quot;;\r\n```\r\nI want to remove one of the word in one function. .What I want to do is replace &quot;Tom,&quot; or &quot;,Jerry&quot; in one line of code.vBut the position of comma is different. Is there an regular expression can use?\r\n\r\nI try to write the codes like this.\r\n\r\n```\r\nstr = str.replace(&quot;Tom&quot;,&quot;&quot;);\r\n//then the result is &quot;,Jerry,Brady,Patriots,TempaBay&quot;\r\n//I have to write another line of code\r\nstr = str.substring(1);\r\n//It&#39;s Jerry turn\r\nstr = str.replace(&quot;Jerry&quot;,&quot;&quot;);\r\nstr.substring(1);\r\n```\r\n","title":"How can I remove a word and a comma which I don&#39;t know where it is?","body":"<p>Such as</p>\n<pre><code>String  str = &quot;Tom,Jerry,Brady,Patriots,TempaBay&quot;;\n</code></pre>\n<p>I want to remove one of the word in one function. .What I want to do is replace &quot;Tom,&quot; or &quot;,Jerry&quot; in one line of code.vBut the position of comma is different. Is there an regular expression can use?</p>\n<p>I try to write the codes like this.</p>\n<pre><code>str = str.replace(&quot;Tom&quot;,&quot;&quot;);\n//then the result is &quot;,Jerry,Brady,Patriots,TempaBay&quot;\n//I have to write another line of code\nstr = str.substring(1);\n//It's Jerry turn\nstr = str.replace(&quot;Jerry&quot;,&quot;&quot;);\nstr.substring(1);\n</code></pre>\n"},{"tags":["java","android","methods","fragment"],"comments":[{"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681444707,"post_id":76011424,"comment_id":134060576,"body_markdown":"You can&#39;t stick methods in methods. It&#39;s as simple as that. You can stick types in methods and then stick methods in types, but you can&#39;t invoke a `main` in a method-local type, and from these snippets it does not sound like you&#39;d want to do that here. Just `main` back out, or explain what you wanted to accomplish by moving it within.","body":"You can&#39;t stick methods in methods. It&#39;s as simple as that. You can stick types in methods and then stick methods in types, but you can&#39;t invoke a <code>main</code> in a method-local type, and from these snippets it does not sound like you&#39;d want to do that here. Just <code>main</code> back out, or explain what you wanted to accomplish by moving it within."},{"owner":{"account_id":28218518,"reputation":17,"user_id":21569643,"display_name":"Vyacheslav Parinov"},"score":0,"creation_date":1681445513,"post_id":76011424,"comment_id":134060665,"body_markdown":"thanks for answer. I&#39;m trying create method inside fragment with spinners and check boxes. Depending on values in spinners and checkboxes it will give back different values. I&#39;m using simple example of method to avoid complications. However I don&#39;t understand how to make correct syntax.","body":"thanks for answer. I&#39;m trying create method inside fragment with spinners and check boxes. Depending on values in spinners and checkboxes it will give back different values. I&#39;m using simple example of method to avoid complications. However I don&#39;t understand how to make correct syntax."}],"owner":{"account_id":28218518,"reputation":17,"user_id":21569643,"display_name":"Vyacheslav Parinov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681443433,"creation_date":1681443433,"question_id":76011424,"body_markdown":"could you please help with suggestion? \r\nI&#39;m trying to create method inside fragment, but facing with I believe some syntax error.\r\n\r\nMy code\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public class PageFragment1 extends Fragment implements AdapterView.OnItemSelectedListener {\r\n\r\n\r\n    public int addTwoInt(int a, int b)\r\n    {\r\n        sum = a + b;\r\n    }\r\n\r\n    public void main (String[] args)\r\n    {\r\n        int s = addTwoInt(1, 2);\r\n        System.out.println(&quot;Sum of two integer values :&quot;+ s);   \r\n        Toast.makeText(getContext(), s, Toast.LENGTH_LONG).show();\r\n    }\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nBut when I copy it inside OnCreate activity, parameter &quot;args&quot; becoming red\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater,\r\n                                 @Nullable ViewGroup container,\r\n                                 @Nullable Bundle savedInstanceState) {\r\n\r\n            ViewGroup rootView = (ViewGroup) inflater\r\n                    .inflate(R.layout.page_1, container\r\n                    \r\n                    public int addTwoInt(int a, int b)\r\n            {\r\n                sum = a + b;\r\n                return sum;\r\n            }\r\n\r\n            public void main (String[] args)\r\n            {\r\n                int s = addTwoInt(1, 2);\r\n                System.out.println(&quot;Sum of two integer values :&quot;+ s);\r\n                Toast.makeText(getContext(), s, Toast.LENGTH_LONG).show();\r\n            }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAndroid Studio offers to create the variable &quot;args&quot;, but I expect that there is something simple - something wrong with the syntax or something in code that needs to be slightly adjusted.\r\nActual method that I&#39;m trying to create is more complicated with many variables that I create inside fragment, but to easiness of the code in my question I put that one basic element. But the structure of the method remains the same.\r\nAppreciate your help community.\r\n","title":"Syntax of method inside fragment","body":"<p>could you please help with suggestion?\nI'm trying to create method inside fragment, but facing with I believe some syntax error.</p>\n<p>My code</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public class PageFragment1 extends Fragment implements AdapterView.OnItemSelectedListener {\n\n\npublic int addTwoInt(int a, int b)\n{\n    sum = a + b;\n}\n\npublic void main (String[] args)\n{\n    int s = addTwoInt(1, 2);\n    System.out.println(\"Sum of two integer values :\"+ s);   \n    Toast.makeText(getContext(), s, Toast.LENGTH_LONG).show();\n}\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>But when I copy it inside OnCreate activity, parameter &quot;args&quot; becoming red</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater,\n                             @Nullable ViewGroup container,\n                             @Nullable Bundle savedInstanceState) {\n\n        ViewGroup rootView = (ViewGroup) inflater\n                .inflate(R.layout.page_1, container\n                \n                public int addTwoInt(int a, int b)\n        {\n            sum = a + b;\n            return sum;\n        }\n\n        public void main (String[] args)\n        {\n            int s = addTwoInt(1, 2);\n            System.out.println(\"Sum of two integer values :\"+ s);\n            Toast.makeText(getContext(), s, Toast.LENGTH_LONG).show();\n        }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Android Studio offers to create the variable &quot;args&quot;, but I expect that there is something simple - something wrong with the syntax or something in code that needs to be slightly adjusted.\nActual method that I'm trying to create is more complicated with many variables that I create inside fragment, but to easiness of the code in my question I put that one basic element. But the structure of the method remains the same.\nAppreciate your help community.</p>\n"},{"tags":["java","spring-boot","zk"],"answers":[{"tags":[],"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681442134,"creation_date":1681441758,"answer_id":76011325,"question_id":76002826,"body_markdown":"In a `Spring boot` project, in order to configure `static files` including `images` you need to have a class that implements `WebMvcConfigurer`. Please check below example:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class StaticResourceConfiguration implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            System.out.println(&quot;WebMvcConfigurer loaded...&quot;);\r\n            registry.addResourceHandler(&quot;/**&quot;)\r\n            .addResourceLocations(&quot;classpath:/static/&quot;,&quot;classpath:/img/&quot;)\r\n            .setCachePeriod(0);\r\n    \r\n         }\r\n    }\r\n\r\n**Sample Project structure**\r\n\r\n    src\r\n    ├───main\r\n    │   ├───java\r\n    │   │   └───com\r\n    │   │       └───mypackage\r\n    │   │           │   Application.java\r\n    │   │           ├───controller\r\n    │   │           │       MyController.java\r\n    │   │           └───model\r\n    │   │                   MyMessage.java\r\n    │   └───resources\r\n    │       │   application.properties\r\n    │       └───static\r\n    │           │   index.html\r\n    │           └───img\r\n    │                   zklogo3.png\r\n    └───test\r\n        └───java\r\n            └───com\r\n                └───zetcode\r\n                    └───controller\r\n                            MyControllerTest.java\r\n\r\n\r\n\r\n\r\n\r\nThen you can simply display images like this in your `HTML` files.\r\n\r\n    &lt;img src=&quot;zklogo3.png&quot;/&gt;\r\n\r\n\r\nReference doc: [Spring WebMvcConfigurer][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html\r\n\r\n\r\n","title":"Resolve background image url Zk","body":"<p>In a <code>Spring boot</code> project, in order to configure <code>static files</code> including <code>images</code> you need to have a class that implements <code>WebMvcConfigurer</code>. Please check below example:</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class StaticResourceConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        System.out.println(&quot;WebMvcConfigurer loaded...&quot;);\n        registry.addResourceHandler(&quot;/**&quot;)\n        .addResourceLocations(&quot;classpath:/static/&quot;,&quot;classpath:/img/&quot;)\n        .setCachePeriod(0);\n\n     }\n}\n</code></pre>\n<p><strong>Sample Project structure</strong></p>\n<pre><code>src\n├───main\n│   ├───java\n│   │   └───com\n│   │       └───mypackage\n│   │           │   Application.java\n│   │           ├───controller\n│   │           │       MyController.java\n│   │           └───model\n│   │                   MyMessage.java\n│   └───resources\n│       │   application.properties\n│       └───static\n│           │   index.html\n│           └───img\n│                   zklogo3.png\n└───test\n    └───java\n        └───com\n            └───zetcode\n                └───controller\n                        MyControllerTest.java\n</code></pre>\n<p>Then you can simply display images like this in your <code>HTML</code> files.</p>\n<pre><code>&lt;img src=&quot;zklogo3.png&quot;/&gt;\n</code></pre>\n<p>Reference doc: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html\" rel=\"nofollow noreferrer\">Spring WebMvcConfigurer</a></p>\n"}],"owner":{"account_id":12486830,"reputation":249,"user_id":9089791,"display_name":"Park Jay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681442134,"creation_date":1681371550,"question_id":76002826,"body_markdown":"I&#39;m running demo project from [ZK][1] and try to add image tag and find this problem\r\nI have two tag\r\n\r\n    1. &lt;div style=&quot;background-image: url(&#39;img/zklogo3.png&#39;);padding:0px 0px 0px 0px;&quot;&gt;\r\n    2. &lt;image src=&quot;~./img/zklogo3.png&quot; width=&quot;100px&quot;/&gt;\r\nThe image 2 can show on the screen and being resolved with this URL:\r\n\r\n     http://localhost:8080/zkres/web/6cbcf362/img/zklogo3.png\r\nbut the one in style can not resolve and return error not found, URL: http://localhost:8080/img/zklogo3.png, if I copy and append /zkres/web/6cbcf362 to the URL then it can show successfully\r\n\r\nAny one, know how to solve it?\r\n\r\n\r\n  [1]: https://github.com/zkoss/zkspringboot/tree/master/zkspringboot-demos/zkspringboot-demo-jar","title":"Resolve background image url Zk","body":"<p>I'm running demo project from <a href=\"https://github.com/zkoss/zkspringboot/tree/master/zkspringboot-demos/zkspringboot-demo-jar\" rel=\"nofollow noreferrer\">ZK</a> and try to add image tag and find this problem\nI have two tag</p>\n<pre><code>1. &lt;div style=&quot;background-image: url('img/zklogo3.png');padding:0px 0px 0px 0px;&quot;&gt;\n2. &lt;image src=&quot;~./img/zklogo3.png&quot; width=&quot;100px&quot;/&gt;\n</code></pre>\n<p>The image 2 can show on the screen and being resolved with this URL:</p>\n<pre><code> http://localhost:8080/zkres/web/6cbcf362/img/zklogo3.png\n</code></pre>\n<p>but the one in style can not resolve and return error not found, URL: http://localhost:8080/img/zklogo3.png, if I copy and append /zkres/web/6cbcf362 to the URL then it can show successfully</p>\n<p>Any one, know how to solve it?</p>\n"},{"tags":["java","hadoop","memory","mapreduce","jvm"],"answers":[{"tags":[],"owner":{"account_id":2335531,"reputation":180,"user_id":2047975,"accept_rate":100,"display_name":"Frunk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413381799,"creation_date":1413381799,"answer_id":26384541,"question_id":26382989,"body_markdown":"You can try to increase the memory allocation size by passing these Runtime Parameters.\r\n\r\nFor example:\r\n\r\n    java -Xms1024M -Xmx2048M -jar application.jar\r\n\r\n- Xmx is the maximum size\r\n- Xms is the minimum size","title":"OpenJDK Client VM - Cannot allocate memory","body":"<p>You can try to increase the memory allocation size by passing these Runtime Parameters.</p>\n\n<p>For example:</p>\n\n<pre><code>java -Xms1024M -Xmx2048M -jar application.jar\n</code></pre>\n\n<ul>\n<li>Xmx is the maximum size</li>\n<li>Xms is the minimum size</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2877558,"reputation":543,"user_id":2587178,"accept_rate":100,"display_name":"Prometheus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413384510,"creation_date":1413384510,"answer_id":26385506,"question_id":26382989,"body_markdown":"There can be a container memory overflow with the parameters that you are using for the JVM\r\n\r\nCheck if the attributes:\r\n\r\n    yarn.nodemanager.resource.memory-mb\r\n    yarn.scheduler.minimum-allocation-mb\r\n    yarn.scheduler.maximum-allocation-mb\r\n\r\non yarn.xml matches the desired value.\r\n\r\nFor more memory reference, read the:\r\n\r\n[HortonWorks memory reference][1]\r\n\r\n[Similar problem][2]\r\n\r\nNote: This is for Hadoop 2.0, if you are running hadoop 1.0 check the Task attributes.\r\n\r\n\r\n  [1]: http://docs.hortonworks.com/HDPDocuments/HDP2/HDP-2.0.6.0/bk_installing_manually_book/content/rpm-chap1-11.html\r\n  [2]: https://stackoverflow.com/questions/19047879/hadoop-cannot-allocate-memory-java-io-ioexception-error-12","title":"OpenJDK Client VM - Cannot allocate memory","body":"<p>There can be a container memory overflow with the parameters that you are using for the JVM</p>\n\n<p>Check if the attributes:</p>\n\n<pre><code>yarn.nodemanager.resource.memory-mb\nyarn.scheduler.minimum-allocation-mb\nyarn.scheduler.maximum-allocation-mb\n</code></pre>\n\n<p>on yarn.xml matches the desired value.</p>\n\n<p>For more memory reference, read the:</p>\n\n<p><a href=\"http://docs.hortonworks.com/HDPDocuments/HDP2/HDP-2.0.6.0/bk_installing_manually_book/content/rpm-chap1-11.html\" rel=\"nofollow noreferrer\">HortonWorks memory reference</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/19047879/hadoop-cannot-allocate-memory-java-io-ioexception-error-12\">Similar problem</a></p>\n\n<p>Note: This is for Hadoop 2.0, if you are running hadoop 1.0 check the Task attributes.</p>\n"},{"tags":[],"owner":{"account_id":3796566,"reputation":1160,"user_id":3151462,"accept_rate":70,"display_name":"Shihao Xu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467420195,"creation_date":1467419346,"answer_id":38155358,"question_id":26382989,"body_markdown":"make sure you have `swap` space on your machine\r\n\r\n    ubuntu@VM-ubuntu:~$ free -m\r\n                 total       used       free     shared    buffers     cached\r\n    Mem:           994        928         65          0          1         48\r\n    -/+ buffers/cache:        878        115\r\n    Swap:         4095       1086       3009\r\n\r\nnotice the `Swap` line.\r\n\r\nI just encountered this problem on an Elastic Computing instance. Turned out swap space is not mounted by default.","title":"OpenJDK Client VM - Cannot allocate memory","body":"<p>make sure you have <code>swap</code> space on your machine</p>\n\n<pre><code>ubuntu@VM-ubuntu:~$ free -m\n             total       used       free     shared    buffers     cached\nMem:           994        928         65          0          1         48\n-/+ buffers/cache:        878        115\nSwap:         4095       1086       3009\n</code></pre>\n\n<p>notice the <code>Swap</code> line.</p>\n\n<p>I just encountered this problem on an Elastic Computing instance. Turned out swap space is not mounted by default.</p>\n"},{"tags":[],"owner":{"account_id":20335927,"reputation":1,"user_id":14916640,"display_name":"Styz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681441534,"creation_date":1681441534,"answer_id":76011311,"question_id":26382989,"body_markdown":"for me, the available memory is less than the jvm required memory which result in &quot;There is insufficient memory for the Java Runtime Environment to continue&quot;.\r\n\r\ncheck your available memory:\r\n\r\n    free -h\r\nstop some useless process and get more memory.","title":"OpenJDK Client VM - Cannot allocate memory","body":"<p>for me, the available memory is less than the jvm required memory which result in &quot;There is insufficient memory for the Java Runtime Environment to continue&quot;.</p>\n<p>check your available memory:</p>\n<pre><code>free -h\n</code></pre>\n<p>stop some useless process and get more memory.</p>\n"}],"owner":{"account_id":4974185,"reputation":453,"user_id":4001057,"accept_rate":12,"display_name":"Sushmita Bhattacharya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14055,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1681441534,"creation_date":1413377119,"question_id":26382989,"body_markdown":"I am running Hadoop map reduce job on a cluster. \nI am getting this error. \n\n\n\n&gt; OpenJDK Client VM warning: INFO: os::commit_memory(0x79f20000, 104861696, 0) failed; error=&#39;Cannot allocate memory&#39; (errno=12) \n&gt;\n&gt; There is insufficient memory for the Java Runtime Environment to continue. \n&gt;\n&gt; Native memory allocation (malloc) failed to allocate 104861696 bytes for committing reserved memory.\n\nwhat to do ?","title":"OpenJDK Client VM - Cannot allocate memory","body":"<p>I am running Hadoop map reduce job on a cluster.\nI am getting this error.</p>\n<blockquote>\n<p>OpenJDK Client VM warning: INFO: os::commit_memory(0x79f20000, 104861696, 0) failed; error='Cannot allocate memory' (errno=12)</p>\n<p>There is insufficient memory for the Java Runtime Environment to continue.</p>\n<p>Native memory allocation (malloc) failed to allocate 104861696 bytes for committing reserved memory.</p>\n</blockquote>\n<p>what to do ?</p>\n"},{"tags":["java","regex","string","split"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681438777,"creation_date":1681438777,"answer_id":76011138,"question_id":76011067,"body_markdown":"The or part with `|` should be put inside the lookahead and there should not be quotes around `LM`.\r\n\r\n```java\r\ninputString.split(&quot;(?&lt;!^)(?=\\\\d|LM)&quot;)\r\n```","title":"Java Regex with OR condition to Split String","body":"<p>The or part with <code>|</code> should be put inside the lookahead and there should not be quotes around <code>LM</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>inputString.split(&quot;(?&lt;!^)(?=\\\\d|LM)&quot;)\n</code></pre>\n"}],"owner":{"account_id":387940,"reputation":37,"user_id":746575,"display_name":"jasmeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76011138,"answer_count":1,"score":0,"last_activity_date":1681441046,"creation_date":1681437815,"question_id":76011067,"body_markdown":"I need to build a regex to Split my string starting with a number or LM(exact match as it is a special case)\r\n\r\n    For example - \r\n    Input : 1LM355PL6R5L8\r\n    Output : [1,LM,3,5,5PL,6R,5L,8]\r\n    \r\n    Input : 349AB8LM7Y4II\r\n    Output : [3,4,9AB,8,LM,7Y,4II]\r\n\r\nFor numbers, i&#39;ve build this regex `(?&lt;!^)(?=\\\\d)` and it seems to be working fine.\r\nNow i&#39;m confused how to add this exact match of &#39;LM&#39;. It can be at any position\r\n\r\n    List&lt;String&gt; diff = Arrays.asList(inputString.split(&quot;(?&lt;!^)(?=\\\\d)&quot;));\r\n\r\nActual Output with above code\r\n    \r\n    Output : [1LM,3,5,5PL,6R,5L,8]\r\n        \r\n    Output : [3,4,9AB,8LM,7Y,4II]\r\n\r\n\r\nI&#39;m trying to put an OR condition in my regex and make strict match for LM but not getting correct results from it.\r\n\r\n    List&lt;String&gt; diff = Arrays.asList(inputString.split(&quot;(?&lt;!^)(?=\\\\d)|(&#39;LM&#39;)&quot;));\r\n\r\n","title":"Java Regex with OR condition to Split String","body":"<p>I need to build a regex to Split my string starting with a number or LM(exact match as it is a special case)</p>\n<pre><code>For example - \nInput : 1LM355PL6R5L8\nOutput : [1,LM,3,5,5PL,6R,5L,8]\n\nInput : 349AB8LM7Y4II\nOutput : [3,4,9AB,8,LM,7Y,4II]\n</code></pre>\n<p>For numbers, i've build this regex <code>(?&lt;!^)(?=\\\\d)</code> and it seems to be working fine.\nNow i'm confused how to add this exact match of 'LM'. It can be at any position</p>\n<pre><code>List&lt;String&gt; diff = Arrays.asList(inputString.split(&quot;(?&lt;!^)(?=\\\\d)&quot;));\n</code></pre>\n<p>Actual Output with above code</p>\n<pre><code>Output : [1LM,3,5,5PL,6R,5L,8]\n    \nOutput : [3,4,9AB,8LM,7Y,4II]\n</code></pre>\n<p>I'm trying to put an OR condition in my regex and make strict match for LM but not getting correct results from it.</p>\n<pre><code>List&lt;String&gt; diff = Arrays.asList(inputString.split(&quot;(?&lt;!^)(?=\\\\d)|('LM')&quot;));\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9491,"page":501,"page_size":100}
