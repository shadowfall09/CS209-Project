{"items":[{"tags":["java","json","spring","rest","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":6120859,"reputation":3231,"user_id":4774429,"accept_rate":42,"display_name":"nowszy94"},"score":0,"creation_date":1481111499,"post_id":28647095,"comment_id":69240552,"body_markdown":"If found your answer while investigation on how to create a generic/dynamic REST controller, without using `@Controller/@RestController`. I discovered, that I need to omit somehow the view resolver layer. It&#39;s not so simple because AbstractController class provides a method that must return view name. I asked a question about that: http://stackoverflow.com/questions/41016018/custom-controller-without-view-name, if you have some ideas on how can I solve my problem, please post a comment.","body":"If found your answer while investigation on how to create a generic/dynamic REST controller, without using <code>@Controller&#47;@RestController</code>. I discovered, that I need to omit somehow the view resolver layer. It&#39;s not so simple because AbstractController class provides a method that must return view name. I asked a question about that: <a href=\"http://stackoverflow.com/questions/41016018/custom-controller-without-view-name\" title=\"custom controller without view name\">stackoverflow.com/questions/41016018/&hellip;</a>, if you have some ideas on how can I solve my problem, please post a comment."}],"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"comment_count":1,"down_vote_count":0,"up_vote_count":85,"is_accepted":false,"score":85,"last_activity_date":1474634106,"creation_date":1424530191,"answer_id":28647095,"question_id":28646332,"body_markdown":"The first basic thing to understand is the difference in architectures.\r\n\r\nOne end you have the MVC architecture, which is based on your normal web app, using web pages, and the browser makes a request for a page:\r\n\r\n    Browser &lt;---&gt; Controller &lt;---&gt; Model\r\n                   |      |\r\n                   +-View-+\r\n\r\nThe browser makes a request, the controller (@Controller) gets the model (@Entity), and creates the view (JSP) from the model and the view is returned back to the client. This is the basic web app architecture.\r\n\r\nOn the other end, you have a RESTful architecture. In this case, there is no View. The Controller only sends back the model (or resource representation, in more RESTful terms). The client can be a JavaScript application, a Java server application, any application in which we expose our REST API to. With this architecture, the client decides what to do with this model. Take for instance Twitter. Twitter as the Web (REST) API, that allows our applications to use its API to get such things as status updates, so that we can use it to put that data in our application. That data will come in some format like JSON.\r\n\r\nThat being said, when working with Spring MVC, it was first built to handle the basic web application architecture. There are may different method signature flavors that allow a view to be produced from our methods. The method could return a `ModelAndView` where we explicitly create it, or there are implicit ways where we can return some arbitrary object that gets set into model attributes. But either way, somewhere along the request-response cycle, there will be a view produced.\r\n\r\nBut when we use `@ResponseBody`, we are saying that we do not want a view produced. We just want to send the return object as the body, in whatever format we specify. We wouldn&#39;t want it to be a serialized Java object (though possible). So yes, it needs to be converted to some other common type (this type is normally dealt with through content negotiation - see link below). Honestly, I don&#39;t work much with Spring, though I dabble with it here and there. Normally, I use\r\n\r\n    @RequestMapping(..., produces = MediaType.APPLICATION_JSON_VALUE)\r\n\r\nto set the content type, but maybe JSON is the default. Don&#39;t quote me, but if you are getting JSON, and you haven&#39;t specified the `produces`, then maybe it is the default. JSON is not the only format. For instance, the above could easily be sent in XML, but you would need to have the `produces` to `MediaType.APPLICATION_XML_VALUE` and I believe you need to configure the `HttpMessageConverter` for JAXB. As for the JSON `MappingJacksonHttpMessageConverter` configured, when we have Jackson on the classpath. \r\n\r\nI would take some time to learn about [Content Negotiation](http://en.wikipedia.org/wiki/Content_negotiation). It&#39;s a very important part of REST. It&#39;ll help you learn about the different response formats and how to map them to your methods. ","title":"How does the Spring @ResponseBody annotation work?","body":"<p>The first basic thing to understand is the difference in architectures.</p>\n\n<p>One end you have the MVC architecture, which is based on your normal web app, using web pages, and the browser makes a request for a page:</p>\n\n<pre><code>Browser &lt;---&gt; Controller &lt;---&gt; Model\n               |      |\n               +-View-+\n</code></pre>\n\n<p>The browser makes a request, the controller (@Controller) gets the model (@Entity), and creates the view (JSP) from the model and the view is returned back to the client. This is the basic web app architecture.</p>\n\n<p>On the other end, you have a RESTful architecture. In this case, there is no View. The Controller only sends back the model (or resource representation, in more RESTful terms). The client can be a JavaScript application, a Java server application, any application in which we expose our REST API to. With this architecture, the client decides what to do with this model. Take for instance Twitter. Twitter as the Web (REST) API, that allows our applications to use its API to get such things as status updates, so that we can use it to put that data in our application. That data will come in some format like JSON.</p>\n\n<p>That being said, when working with Spring MVC, it was first built to handle the basic web application architecture. There are may different method signature flavors that allow a view to be produced from our methods. The method could return a <code>ModelAndView</code> where we explicitly create it, or there are implicit ways where we can return some arbitrary object that gets set into model attributes. But either way, somewhere along the request-response cycle, there will be a view produced.</p>\n\n<p>But when we use <code>@ResponseBody</code>, we are saying that we do not want a view produced. We just want to send the return object as the body, in whatever format we specify. We wouldn't want it to be a serialized Java object (though possible). So yes, it needs to be converted to some other common type (this type is normally dealt with through content negotiation - see link below). Honestly, I don't work much with Spring, though I dabble with it here and there. Normally, I use</p>\n\n<pre><code>@RequestMapping(..., produces = MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n\n<p>to set the content type, but maybe JSON is the default. Don't quote me, but if you are getting JSON, and you haven't specified the <code>produces</code>, then maybe it is the default. JSON is not the only format. For instance, the above could easily be sent in XML, but you would need to have the <code>produces</code> to <code>MediaType.APPLICATION_XML_VALUE</code> and I believe you need to configure the <code>HttpMessageConverter</code> for JAXB. As for the JSON <code>MappingJacksonHttpMessageConverter</code> configured, when we have Jackson on the classpath. </p>\n\n<p>I would take some time to learn about <a href=\"http://en.wikipedia.org/wiki/Content_negotiation\">Content Negotiation</a>. It's a very important part of REST. It'll help you learn about the different response formats and how to map them to your methods. </p>\n"},{"comments":[{"owner":{"account_id":1677099,"reputation":10905,"user_id":1542363,"accept_rate":92,"display_name":"Sam YC"},"score":4,"creation_date":1473905210,"post_id":28647129,"comment_id":66321634,"body_markdown":"hi, how do we setup the &quot;installed message converters&quot;? I want the default always convert to Json. Am I able to do that?","body":"hi, how do we setup the &quot;installed message converters&quot;? I want the default always convert to Json. Am I able to do that?"},{"owner":{"account_id":5175524,"reputation":616,"user_id":4142806,"accept_rate":71,"display_name":"Naved Ali"},"score":0,"creation_date":1475786750,"post_id":28647129,"comment_id":67096148,"body_markdown":"@JB Nizet can you please explain why http response cannot contain java objects. I am a newbee to java.","body":"@JB Nizet can you please explain why http response cannot contain java objects. I am a newbee to java."},{"owner":{"account_id":3370948,"reputation":4617,"user_id":2830167,"accept_rate":100,"display_name":"ZhaoGang"},"score":3,"creation_date":1479360766,"post_id":28647129,"comment_id":68526234,"body_markdown":"@Er.NavedAli read the http specification, the http response content type defines the legal content that a http response can contain. legal values for that can be &quot;application/octet-stream&quot;,  &quot;image/jpeg&quot;, &quot;text/HTML&quot;, but java objects is not a legal value for it.","body":"@Er.NavedAli read the http specification, the http response content type defines the legal content that a http response can contain. legal values for that can be &quot;application/octet-stream&quot;,  &quot;image/jpeg&quot;, &quot;text/HTML&quot;, but java objects is not a legal value for it."},{"owner":{"account_id":1700294,"reputation":185,"user_id":1560570,"accept_rate":0,"display_name":"LeafiWan"},"score":0,"creation_date":1480479024,"post_id":28647129,"comment_id":68974887,"body_markdown":"@ZhaoGang, Content-type &#39;application/json&#39; has been replaced by &#39;application/xml&#39; in my test case, but the response body seems no change, still present json format.","body":"@ZhaoGang, Content-type &#39;application/json&#39; has been replaced by &#39;application/xml&#39; in my test case, but the response body seems no change, still present json format."},{"owner":{"account_id":8213792,"reputation":2663,"user_id":6357916,"accept_rate":33,"display_name":"MsA"},"score":1,"creation_date":1541101698,"post_id":28647129,"comment_id":93112040,"body_markdown":"where exactly, I mean in which spring class, the decision to determine how to return response is made? Can you point me to source on github, where this decision is done or class name? Also what will happen if client accepts XML, but no XML converter is installed?","body":"where exactly, I mean in which spring class, the decision to determine how to return response is made? Can you point me to source on github, where this decision is done or class name? Also what will happen if client accepts XML, but no XML converter is installed?"},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1670042368,"post_id":28647129,"comment_id":131786246,"body_markdown":"What&#39;s not clear to me about the `@ResponseBody` annotation is how I would set the HttpStatus of the returned result. Is there a way to do this?","body":"What&#39;s not clear to me about the <code>@ResponseBody</code> annotation is how I would set the HttpStatus of the returned result. Is there a way to do this?"},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1681514584,"post_id":28647129,"comment_id":134074263,"body_markdown":"Interesting. The returned object is in the body of my response anyway (JS&#39;s `fetch()` returns a `Promise` which is then resolved into a `Response` which I can then call `json()` on, asynchronously), even though I don&#39;t have any `@ResponseBody` annotations. I wonder why I may need it","body":"Interesting. The returned object is in the body of my response anyway (JS&#39;s <code>fetch()</code> returns a <code>Promise</code> which is then resolved into a <code>Response</code> which I can then call <code>json()</code> on, asynchronously), even though I don&#39;t have any <code>@ResponseBody</code> annotations. I wonder why I may need it"}],"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":7,"down_vote_count":0,"up_vote_count":184,"is_accepted":true,"score":184,"last_activity_date":1598487062,"creation_date":1424530385,"answer_id":28647129,"question_id":28646332,"body_markdown":"First of all, the annotation doesn&#39;t annotate `List`. It annotates the method, just as `RequestMapping` does. Your code is equivalent to \r\n  \r\n    @RequestMapping(value=&quot;/orders&quot;, method=RequestMethod.GET)\r\n    @ResponseBody\r\n    public List&lt;Account&gt; accountSummary() {\r\n        return accountManager.getAllAccounts();\r\n    }\r\n\r\nNow what the annotation means is that the returned value of the method will constitute the body of the HTTP response. Of course, an HTTP response can&#39;t contain Java objects. So this list of accounts is transformed to a format suitable for REST applications, typically JSON or XML. \r\n\r\nThe choice of the format depends on the installed message converters, on the values of the [`produces` attribute][1] of the `@RequestMapping` annotation, and on the content type that the client accepts (that is available in the HTTP request headers). For example, if the request says it accepts XML, but not JSON, and there is a message converter installed that can transform the list to XML, then XML will be returned.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#produces--","title":"How does the Spring @ResponseBody annotation work?","body":"<p>First of all, the annotation doesn't annotate <code>List</code>. It annotates the method, just as <code>RequestMapping</code> does. Your code is equivalent to</p>\n<pre><code>@RequestMapping(value=&quot;/orders&quot;, method=RequestMethod.GET)\n@ResponseBody\npublic List&lt;Account&gt; accountSummary() {\n    return accountManager.getAllAccounts();\n}\n</code></pre>\n<p>Now what the annotation means is that the returned value of the method will constitute the body of the HTTP response. Of course, an HTTP response can't contain Java objects. So this list of accounts is transformed to a format suitable for REST applications, typically JSON or XML.</p>\n<p>The choice of the format depends on the installed message converters, on the values of the <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#produces--\" rel=\"noreferrer\"><code>produces</code> attribute</a> of the <code>@RequestMapping</code> annotation, and on the content type that the client accepts (that is available in the HTTP request headers). For example, if the request says it accepts XML, but not JSON, and there is a message converter installed that can transform the list to XML, then XML will be returned.</p>\n"},{"tags":[],"owner":{"account_id":1556522,"reputation":233,"user_id":1447450,"display_name":"paulchapman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467952476,"creation_date":1467952476,"answer_id":38258959,"question_id":28646332,"body_markdown":"Further to this, the return type is determined by\r\n\r\n 1. What the HTTP Request says it wants - in its Accept header.  Try looking at the initial request as see what Accept is set to.\r\n \r\n 2. What HttpMessageConverters Spring sets up.  Spring MVC will setup converters for XML (using JAXB) and JSON if Jackson libraries are on he classpath. \r\n\r\nIf there is a choice it picks one - in this example, it happens to be JSON.\r\n\r\nThis *is* covered in the course notes.  Look for the notes on Message Convertors and Content Negotiation.","title":"How does the Spring @ResponseBody annotation work?","body":"<p>Further to this, the return type is determined by</p>\n\n<ol>\n<li><p>What the HTTP Request says it wants - in its Accept header.  Try looking at the initial request as see what Accept is set to.</p></li>\n<li><p>What HttpMessageConverters Spring sets up.  Spring MVC will setup converters for XML (using JAXB) and JSON if Jackson libraries are on he classpath. </p></li>\n</ol>\n\n<p>If there is a choice it picks one - in this example, it happens to be JSON.</p>\n\n<p>This <em>is</em> covered in the course notes.  Look for the notes on Message Convertors and Content Negotiation.</p>\n"},{"tags":[],"owner":{"account_id":20792594,"reputation":11,"user_id":15270410,"display_name":"sergey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614116042,"creation_date":1614116042,"answer_id":66341427,"question_id":28646332,"body_markdown":"@RequestBody annotation binds the HTTPRequest body to the domain object. Spring automatically deserializes incoming HTTP Request to object using HttpMessageConverters. HttpMessageConverter converts body of request to resolve the method argument depending on the content type of the request.\r\nMany examples how to use converters https://upcodein.com/search/jc/mg/ResponseBody/page/0","title":"How does the Spring @ResponseBody annotation work?","body":"<p>@RequestBody annotation binds the HTTPRequest body to the domain object. Spring automatically deserializes incoming HTTP Request to object using HttpMessageConverters. HttpMessageConverter converts body of request to resolve the method argument depending on the content type of the request.\nMany examples how to use converters <a href=\"https://upcodein.com/search/jc/mg/ResponseBody/page/0\" rel=\"nofollow noreferrer\">https://upcodein.com/search/jc/mg/ResponseBody/page/0</a></p>\n"},{"tags":[],"owner":{"account_id":21151264,"reputation":1,"user_id":15551518,"display_name":"manci ayman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681512304,"creation_date":1681512304,"answer_id":76019434,"question_id":28646332,"body_markdown":"I would like to include additional information about:\r\n\r\nHow can message converters be configured in terms of response body?\r\nTo handle the serialization of responses using the **HttpMessageCoverter** interface. Spring Boot provides several built-in message converters for data formats such as JSON and XML. You can also create custom message converters to handle other data formats.","title":"How does the Spring @ResponseBody annotation work?","body":"<p>I would like to include additional information about:</p>\n<p>How can message converters be configured in terms of response body?\nTo handle the serialization of responses using the <strong>HttpMessageCoverter</strong> interface. Spring Boot provides several built-in message converters for data formats such as JSON and XML. You can also create custom message converters to handle other data formats.</p>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197155,"favorite_count":0,"down_vote_count":1,"up_vote_count":107,"accepted_answer_id":28647129,"answer_count":5,"score":106,"last_activity_date":1681512304,"creation_date":1424525306,"question_id":28646332,"body_markdown":"I have a method that is annotated in the following way:\r\n\r\n    /**\r\n    * Provide a list of all accounts.\r\n    */\r\n    //\tTODO 02: Complete this method.  Add annotations to respond\r\n    //\tto GET /accounts and return a List&lt;Account&gt; to be converted.\r\n    //\tSave your work and restart the server.  You should get JSON results when accessing \r\n    //\thttp://localhost:8080/rest-ws/app/accounts\r\n    @RequestMapping(value=&quot;/orders&quot;, method=RequestMethod.GET)\r\n    public @ResponseBody List&lt;Account&gt; accountSummary() {\r\n    \treturn accountManager.getAllAccounts();\r\n    }\r\n\r\nSo I know that by this annotation:\r\n\r\n    @RequestMapping(value=&quot;/orders&quot;, method=RequestMethod.GET)\r\n\r\nthis method handle **GET** HTTP requests made to the resource represented by the URL **/orders**.\r\n\r\nThis method calls a DAO object that returns a **List&lt;Account&gt;**.\r\n\r\nwhere **Account** represents a user on the system and has some fields that represent this user, something like:\r\n\r\n    public class Account {\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;ID&quot;)\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate Long entityId;\r\n    \r\n    \t@Column(name = &quot;NUMBER&quot;)\r\n    \tprivate String number;\r\n    \r\n    \t@Column(name = &quot;NAME&quot;)\r\n    \tprivate String name;\r\n    \r\n    \t@OneToMany(cascade=CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;ACCOUNT_ID&quot;)\r\n    \tprivate Set&lt;Beneficiary&gt; beneficiaries = new HashSet&lt;Beneficiary&gt;();\r\n    \r\n        ...............................\r\n        ...............................\r\n        ...............................\r\n    }\r\n\r\nMy question is: **How exactly the does the `@ResponseBody` annotation work?**\r\n\r\nIt is situated before the returned `List&lt;Account&gt;` object so I think that it refers to this List. The course documentation states that this annotation serves the function to:\r\n\r\n&gt; ensure that the result will be written to the HTTP response by an HTTP\r\n&gt; Message Converter (instead of an MVC View).\r\n\r\nAnd also reading on the official Spring documentation: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseBody.html\r\n\r\nit seems that it takes the `List&lt;Account&gt;` object and puts it into the `Http Response`. Is this correct or am I misunderstanding?\r\n\r\nWritten into the comment of the previous `accountSummary()` method there is:\r\n\r\n&gt; You should get JSON results when accessing\r\n&gt; http://localhost:8080/rest-ws/app/accounts\r\n\r\nSo what exactly does this mean? Does it mean that the `List&lt;Account&gt;` object returned by the `accountSummary()` method is automatically converted into `JSON` format and then put into the `Http Response`? Or what?\r\n\r\nIf this assertion is true, where is it specified that the object will be automatically converted into `JSON` format? Is the standard format adopted when the `@ResponseBody` annotation is used or is it specified elsewhere?\r\n","title":"How does the Spring @ResponseBody annotation work?","body":"<p>I have a method that is annotated in the following way:</p>\n\n<pre><code>/**\n* Provide a list of all accounts.\n*/\n//  TODO 02: Complete this method.  Add annotations to respond\n//  to GET /accounts and return a List&lt;Account&gt; to be converted.\n//  Save your work and restart the server.  You should get JSON results when accessing \n//  http://localhost:8080/rest-ws/app/accounts\n@RequestMapping(value=\"/orders\", method=RequestMethod.GET)\npublic @ResponseBody List&lt;Account&gt; accountSummary() {\n    return accountManager.getAllAccounts();\n}\n</code></pre>\n\n<p>So I know that by this annotation:</p>\n\n<pre><code>@RequestMapping(value=\"/orders\", method=RequestMethod.GET)\n</code></pre>\n\n<p>this method handle <strong>GET</strong> HTTP requests made to the resource represented by the URL <strong>/orders</strong>.</p>\n\n<p>This method calls a DAO object that returns a <strong>List</strong>.</p>\n\n<p>where <strong>Account</strong> represents a user on the system and has some fields that represent this user, something like:</p>\n\n<pre><code>public class Account {\n\n    @Id\n    @Column(name = \"ID\")\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long entityId;\n\n    @Column(name = \"NUMBER\")\n    private String number;\n\n    @Column(name = \"NAME\")\n    private String name;\n\n    @OneToMany(cascade=CascadeType.ALL)\n    @JoinColumn(name = \"ACCOUNT_ID\")\n    private Set&lt;Beneficiary&gt; beneficiaries = new HashSet&lt;Beneficiary&gt;();\n\n    ...............................\n    ...............................\n    ...............................\n}\n</code></pre>\n\n<p>My question is: <strong>How exactly the does the <code>@ResponseBody</code> annotation work?</strong></p>\n\n<p>It is situated before the returned <code>List&lt;Account&gt;</code> object so I think that it refers to this List. The course documentation states that this annotation serves the function to:</p>\n\n<blockquote>\n  <p>ensure that the result will be written to the HTTP response by an HTTP\n  Message Converter (instead of an MVC View).</p>\n</blockquote>\n\n<p>And also reading on the official Spring documentation: <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseBody.html\" rel=\"noreferrer\">http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseBody.html</a></p>\n\n<p>it seems that it takes the <code>List&lt;Account&gt;</code> object and puts it into the <code>Http Response</code>. Is this correct or am I misunderstanding?</p>\n\n<p>Written into the comment of the previous <code>accountSummary()</code> method there is:</p>\n\n<blockquote>\n  <p>You should get JSON results when accessing\n  <a href=\"http://localhost:8080/rest-ws/app/accounts\" rel=\"noreferrer\">http://localhost:8080/rest-ws/app/accounts</a></p>\n</blockquote>\n\n<p>So what exactly does this mean? Does it mean that the <code>List&lt;Account&gt;</code> object returned by the <code>accountSummary()</code> method is automatically converted into <code>JSON</code> format and then put into the <code>Http Response</code>? Or what?</p>\n\n<p>If this assertion is true, where is it specified that the object will be automatically converted into <code>JSON</code> format? Is the standard format adopted when the <code>@ResponseBody</code> annotation is used or is it specified elsewhere?</p>\n"},{"tags":["java","android","data-binding","gradle"],"comments":[{"owner":{"account_id":3661889,"reputation":5731,"user_id":3098087,"display_name":"Umesh Singh Kushwaha"},"score":0,"creation_date":1443437283,"post_id":32815608,"comment_id":53477806,"body_markdown":"I used same and its working for me . please sync your gradle build","body":"I used same and its working for me . please sync your gradle build"},{"owner":{"account_id":5204790,"reputation":20778,"user_id":4163092,"display_name":"George Mount"},"score":0,"creation_date":1443565839,"post_id":32815608,"comment_id":53543309,"body_markdown":"FYI, rc2 is available with several bug fixes and support for dependency injection.","body":"FYI, rc2 is available with several bug fixes and support for dependency injection."}],"answers":[{"comments":[{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1661593508,"post_id":39549387,"comment_id":129812292,"body_markdown":"I have posted a question and one of the answers told me about the `dataBinding` but I am facing an issue with it kindly check the [answer](https://stackoverflow.com/a/73494115/6854117)?","body":"I have posted a question and one of the answers told me about the <code>dataBinding</code> but I am facing an issue with it kindly check the <a href=\"https://stackoverflow.com/a/73494115/6854117\">answer</a>?"}],"tags":[],"owner":{"account_id":6220260,"reputation":1143,"user_id":4840115,"accept_rate":50,"display_name":"tenprint"},"comment_count":1,"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1474131172,"creation_date":1474131172,"answer_id":39549387,"question_id":32815608,"body_markdown":"I had this same problem.  I was digging through gradle settings, cleaning, rebuilding... nothing worked.  Finally all I had to do was restart Android Studio\r\n\r\nhttps://www.bignerdranch.com/blog/descent-into-databinding/\r\n\r\n&gt; As of this writing, this integration needs a little jump-start to get\r\n&gt; going. To make ListItemCrimeBinding available after adding the\r\n&gt; &lt;layout&gt; tag, you must restart Android Studio, then rebuild the\r\n&gt; project.","title":"Android Data binding : Cannot resolve symbol","body":"<p>I had this same problem.  I was digging through gradle settings, cleaning, rebuilding... nothing worked.  Finally all I had to do was restart Android Studio</p>\n\n<p><a href=\"https://www.bignerdranch.com/blog/descent-into-databinding/\" rel=\"noreferrer\">https://www.bignerdranch.com/blog/descent-into-databinding/</a></p>\n\n<blockquote>\n  <p>As of this writing, this integration needs a little jump-start to get\n  going. To make ListItemCrimeBinding available after adding the\n   tag, you must restart Android Studio, then rebuild the\n  project.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9475381,"reputation":137,"user_id":7044890,"accept_rate":50,"display_name":"Ethan Reinsch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484334173,"creation_date":1484334173,"answer_id":41641695,"question_id":32815608,"body_markdown":"Either click sync if a dialogue pops up, hit the sync button next to save, or restart Android Studio.","title":"Android Data binding : Cannot resolve symbol","body":"<p>Either click sync if a dialogue pops up, hit the sync button next to save, or restart Android Studio.</p>\n"},{"comments":[{"owner":{"account_id":194169,"reputation":49728,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"score":1,"creation_date":1512669684,"post_id":42131180,"comment_id":82362111,"body_markdown":"After doing this, you need to go to : File - Sync Project with Gradle Files to sync the gradle file.","body":"After doing this, you need to go to : File - Sync Project with Gradle Files to sync the gradle file."},{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1661593500,"post_id":42131180,"comment_id":129812290,"body_markdown":"I have posted a question and one of the answers told me about the `dataBinding` but I am facing an issue with it kindly check the [answer](https://stackoverflow.com/a/73494115/6854117)","body":"I have posted a question and one of the answers told me about the <code>dataBinding</code> but I am facing an issue with it kindly check the <a href=\"https://stackoverflow.com/a/73494115/6854117\">answer</a>"},{"owner":{"account_id":1132306,"reputation":509,"user_id":1118121,"accept_rate":59,"display_name":"Hank Wilson"},"score":0,"creation_date":1666374054,"post_id":42131180,"comment_id":130930040,"body_markdown":"I have been fighting this issue for days and finally after inspecting all layout files, everyplace I could think of and find for misspellings, etc,, I came upon this answer. Bingo it worked like a charm...","body":"I have been fighting this issue for days and finally after inspecting all layout files, everyplace I could think of and find for misspellings, etc,, I came upon this answer. Bingo it worked like a charm..."},{"owner":{"account_id":1723697,"reputation":4014,"user_id":1578867,"accept_rate":86,"display_name":"auspicious99"},"score":0,"creation_date":1677650666,"post_id":42131180,"comment_id":133377802,"body_markdown":"Works, thanks! This is so weird, I was just using the template app from Android Studio Dolphin, and one day the error suddenly appeared. Why didn&#39;t Google just include this setting in the app level build.gradle file in the template in the first place?","body":"Works, thanks! This is so weird, I was just using the template app from Android Studio Dolphin, and one day the error suddenly appeared. Why didn&#39;t Google just include this setting in the app level build.gradle file in the template in the first place?"}],"tags":[],"owner":{"account_id":9928193,"reputation":639,"user_id":7349053,"display_name":"KishoreKittu467"},"comment_count":4,"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1557826910,"creation_date":1486627499,"answer_id":42131180,"question_id":32815608,"body_markdown":"enable dataBinding in your **App Level** build.gradle file\r\n\r\n    android {\r\n        ...\r\n        dataBinding{\r\n            enabled=true\r\n        }\r\n    }\r\n\r\n","title":"Android Data binding : Cannot resolve symbol","body":"<p>enable dataBinding in your <strong>App Level</strong> build.gradle file</p>\n\n<pre><code>android {\n    ...\n    dataBinding{\n        enabled=true\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1553146093,"post_id":51745333,"comment_id":97279077,"body_markdown":"Not sure adding internet permission on the manifest could be related to the auto generated BR class not being found.","body":"Not sure adding internet permission on the manifest could be related to the auto generated BR class not being found."},{"owner":{"account_id":343809,"reputation":14256,"user_id":675750,"accept_rate":78,"display_name":"copolii"},"score":0,"creation_date":1561758367,"post_id":51745333,"comment_id":100181098,"body_markdown":"What does the internet permission have to do with databinding?","body":"What does the internet permission have to do with databinding?"}],"tags":[],"owner":{"account_id":9321614,"reputation":1385,"user_id":6920195,"display_name":"Rohan Lodhi"},"comment_count":2,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1562062723,"creation_date":1533726978,"answer_id":51745333,"question_id":32815608,"body_markdown":"1.Add Below in app gradle\r\n\r\n     dataBinding {\r\n            enabled = true\r\n        }\r\n\r\n2.In xml layout write below code\r\n\r\n    &lt;layout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n      &lt;data&gt;&lt;/data&gt;\r\n    &lt;/layout&gt;\r\n\r\n\r\nUPDATED:\r\nCLEAN AND REBUILD THE PROJECT","title":"Android Data binding : Cannot resolve symbol","body":"<p>1.Add Below in app gradle</p>\n\n<pre><code> dataBinding {\n        enabled = true\n    }\n</code></pre>\n\n<p>2.In xml layout write below code</p>\n\n<pre><code>&lt;layout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n  &lt;data&gt;&lt;/data&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>UPDATED:\nCLEAN AND REBUILD THE PROJECT</p>\n"},{"comments":[{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1661593517,"post_id":57724704,"comment_id":129812294,"body_markdown":"I have posted a question and one of the answers told me about the `dataBinding` but I am facing an issue with it kindly check the [answer](https://stackoverflow.com/a/73494115/6854117)?","body":"I have posted a question and one of the answers told me about the <code>dataBinding</code> but I am facing an issue with it kindly check the <a href=\"https://stackoverflow.com/a/73494115/6854117\">answer</a>?"}],"tags":[],"owner":{"account_id":3461870,"reputation":16885,"user_id":2898715,"accept_rate":92,"display_name":"Eric"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1668240928,"creation_date":1567159534,"answer_id":57724704,"question_id":32815608,"body_markdown":"to implement binding, make sure that:\r\n\r\n1. in the `app.gradle`, enable `dataBinding`:\r\n\r\n        apply plugin: &#39;com.android.application&#39;\r\n        ...\r\n        \r\n        android {\r\n            ...\r\n            buildFeatures {\r\n                dataBinding true\r\n            }\r\n            ...\r\n        }\r\n        \r\n        dependencies {\r\n            ...\r\n        }\r\n\r\n2. wrap the existing XML layout in a `&lt;layout&gt;` element:\r\n\r\n        &lt;layout\r\n            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n            &lt;!-- note: xmlns above only needed if used in original XML --&gt;\r\n            &lt;!-- original XML here --&gt;\r\n\r\n        &lt;/layout&gt;\r\n\r\n3. in `Activity`/`Fragment`, use the Binding\r\n\r\n        // inflating xml_layout_name.xml...\r\n        val binding = XmlLayoutNameBinding.inflate(LayoutInflater.from(context))\r\n\r\n4. if is unable to resolve the `XxxBinding` class (even though it can resolve `XxxBindingImpl`)\r\n    1. first try changing a character in ANY XML layout with the &lt;layout&gt; tag\r\n    1. if that doesn&#39;t work, **restart `Android Studio`**, sync &amp; rebuild project","title":"Android Data binding : Cannot resolve symbol","body":"<p>to implement binding, make sure that:</p>\n<ol>\n<li><p>in the <code>app.gradle</code>, enable <code>dataBinding</code>:</p>\n<pre><code> apply plugin: 'com.android.application'\n ...\n\n android {\n     ...\n     buildFeatures {\n         dataBinding true\n     }\n     ...\n }\n\n dependencies {\n     ...\n }\n</code></pre>\n</li>\n<li><p>wrap the existing XML layout in a <code>&lt;layout&gt;</code> element:</p>\n<pre><code> &lt;layout\n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n     xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n     xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n     &lt;!-- note: xmlns above only needed if used in original XML --&gt;\n     &lt;!-- original XML here --&gt;\n\n &lt;/layout&gt;\n</code></pre>\n</li>\n<li><p>in <code>Activity</code>/<code>Fragment</code>, use the Binding</p>\n<pre><code> // inflating xml_layout_name.xml...\n val binding = XmlLayoutNameBinding.inflate(LayoutInflater.from(context))\n</code></pre>\n</li>\n<li><p>if is unable to resolve the <code>XxxBinding</code> class (even though it can resolve <code>XxxBindingImpl</code>)</p>\n<ol>\n<li>first try changing a character in ANY XML layout with the  tag</li>\n<li>if that doesn't work, <strong>restart <code>Android Studio</code></strong>, sync &amp; rebuild project</li>\n</ol>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4405649,"reputation":1782,"user_id":3590155,"accept_rate":60,"display_name":"Leonardo Sibela"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572863804,"creation_date":1572863804,"answer_id":58691643,"question_id":32815608,"body_markdown":"In my case, my layout file had some errors and therefore AS was not creating the binding class. I could find it by expecting the XML file and seeing the error messages.","title":"Android Data binding : Cannot resolve symbol","body":"<p>In my case, my layout file had some errors and therefore AS was not creating the binding class. I could find it by expecting the XML file and seeing the error messages.</p>\n"},{"tags":[],"owner":{"account_id":9809771,"reputation":6806,"user_id":10699119,"display_name":"Sana Ebadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573491705,"creation_date":1573491705,"answer_id":58805676,"question_id":32815608,"body_markdown":"be sure you add data binding in your build.gradle \r\n\r\nand after that **sync** project after that **Restart and clear caches** from the file in `android studio`. this way solve my problem ","title":"Android Data binding : Cannot resolve symbol","body":"<p>be sure you add data binding in your build.gradle </p>\n\n<p>and after that <strong>sync</strong> project after that <strong>Restart and clear caches</strong> from the file in <code>android studio</code>. this way solve my problem </p>\n"},{"tags":[],"owner":{"account_id":9686627,"reputation":6334,"user_id":7200133,"display_name":"Gk Mohammad Emon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578454672,"creation_date":1578391845,"answer_id":59626299,"question_id":32815608,"body_markdown":"If `clear Project` and `Rebuild Project` don&#39;t work for you try the simple solution. It sometimes doesn&#39;t work when you clone a project from `remote git branches`.You need to just close your project and delete the `.gradle` and `.idea` folder of your android project. Then reopen the project.","title":"Android Data binding : Cannot resolve symbol","body":"<p>If <code>clear Project</code> and <code>Rebuild Project</code> don't work for you try the simple solution. It sometimes doesn't work when you clone a project from <code>remote git branches</code>.You need to just close your project and delete the <code>.gradle</code> and <code>.idea</code> folder of your android project. Then reopen the project.</p>\n"},{"tags":[],"owner":{"account_id":11488354,"reputation":811,"user_id":8420228,"display_name":"bensalcie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585384859,"creation_date":1585382233,"answer_id":60898657,"question_id":32815608,"body_markdown":"For my case I added :\r\n   \r\n             dataBinding {\r\n                      enabled=true\r\n             }\r\n\r\n   Then went to File &gt; Settings &gt; \r\n  Gradle &gt; Untick offline work&gt; Apply&gt; \r\n  Ok\r\n  Then cleaned my project.","title":"Android Data binding : Cannot resolve symbol","body":"<p>For my case I added :</p>\n\n<pre><code>         dataBinding {\n                  enabled=true\n         }\n</code></pre>\n\n<p>Then went to File > Settings > \n  Gradle > Untick offline work> Apply> \n  Ok\n  Then cleaned my project.</p>\n"},{"comments":[{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1661593565,"post_id":70132651,"comment_id":129812300,"body_markdown":"I have posted a question and one of the answers told me about the `dataBinding` but I am facing an issue with it kindly check the [answer](https://stackoverflow.com/a/73494115/6854117)?","body":"I have posted a question and one of the answers told me about the <code>dataBinding</code> but I am facing an issue with it kindly check the <a href=\"https://stackoverflow.com/a/73494115/6854117\">answer</a>?"}],"tags":[],"owner":{"account_id":9888755,"reputation":1402,"user_id":7322476,"display_name":"Mohit Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637995844,"creation_date":1637995844,"answer_id":70132651,"question_id":32815608,"body_markdown":" \r\n\r\n&gt; Add on build.gradle(:app) **viewBinding true** \r\n\r\n    android {\r\n      buildFeatures {\r\n            viewBinding true\r\n        }\r\n    \r\n    }","title":"Android Data binding : Cannot resolve symbol","body":"<blockquote>\n<p>Add on build.gradle(:app) <strong>viewBinding true</strong></p>\n</blockquote>\n<pre><code>android {\n  buildFeatures {\n        viewBinding true\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18351196,"reputation":51,"user_id":13365325,"display_name":"baobab159"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639329836,"creation_date":1639329836,"answer_id":70325945,"question_id":32815608,"body_markdown":"I&#39;ve seen this answer nowhere so I suggest: \r\nif you added some activity from context menu by clicking on some package like &#39;data&#39; or &#39;ui&#39;, Android Studio saved path to binding like so: \r\nimport com.damian.yourappname.ui.databinding.ActivitySearchBinding;\r\n\r\nI tested it a few times with my previous projects and it occurs only when sample activity like ScrollingActivity is added to a package other package for all classes.\r\nimport com.damian.yourappname.databinding.ActivitySearchBinding;\r\n\r\nSo best way is just creating sample activity in root folder and after gradle sync moving  to some package","title":"Android Data binding : Cannot resolve symbol","body":"<p>I've seen this answer nowhere so I suggest:\nif you added some activity from context menu by clicking on some package like 'data' or 'ui', Android Studio saved path to binding like so:\nimport com.damian.yourappname.ui.databinding.ActivitySearchBinding;</p>\n<p>I tested it a few times with my previous projects and it occurs only when sample activity like ScrollingActivity is added to a package other package for all classes.\nimport com.damian.yourappname.databinding.ActivitySearchBinding;</p>\n<p>So best way is just creating sample activity in root folder and after gradle sync moving  to some package</p>\n"},{"tags":[],"owner":{"account_id":2216369,"reputation":961,"user_id":1956840,"accept_rate":81,"display_name":"Zock77"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641253175,"creation_date":1641253175,"answer_id":70572600,"question_id":32815608,"body_markdown":"For me I had to add:\r\n\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n\r\nto my `build.gradle` file, then run `File-&gt;Sync Project With Gradle Files`","title":"Android Data binding : Cannot resolve symbol","body":"<p>For me I had to add:</p>\n<pre><code>buildFeatures {\n    viewBinding true\n}\n</code></pre>\n<p>to my <code>build.gradle</code> file, then run <code>File-&gt;Sync Project With Gradle Files</code></p>\n"},{"tags":[],"owner":{"account_id":20804099,"reputation":147,"user_id":15279383,"display_name":"Sasmita"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647703482,"creation_date":1647703482,"answer_id":71539455,"question_id":32815608,"body_markdown":"I found a way without restart or invalidate cache. I thing this because binding need to restart or something, so I re-write `private ActivityMainBinding binding;` and viewBinding work again.\r\n\r\nI don&#39;t know why this work but this save my time than restart/invalidate cache","title":"Android Data binding : Cannot resolve symbol","body":"<p>I found a way without restart or invalidate cache. I thing this because binding need to restart or something, so I re-write <code>private ActivityMainBinding binding;</code> and viewBinding work again.</p>\n<p>I don't know why this work but this save my time than restart/invalidate cache</p>\n"},{"tags":[],"owner":{"account_id":8167017,"reputation":2883,"user_id":6148931,"display_name":"Martynas B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656594684,"creation_date":1656594684,"answer_id":72816437,"question_id":32815608,"body_markdown":"In my case i deleted build, build-cache folders in project scope, then build folder in app module. Afterwards restarted PC and it started working ","title":"Android Data binding : Cannot resolve symbol","body":"<p>In my case i deleted build, build-cache folders in project scope, then build folder in app module. Afterwards restarted PC and it started working</p>\n"},{"tags":[],"owner":{"account_id":2488135,"reputation":1051,"user_id":2166177,"accept_rate":67,"display_name":"steve"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681511668,"creation_date":1681511668,"answer_id":76019390,"question_id":32815608,"body_markdown":"I came to this question based on the title (cannot resolve symbol). Oddly the description is about a different issue (databinding class does not generate) and I think all the existing answers are about that. Basically, the OP asked two questions.\r\n\r\nI&#39;m sure one does need the dataBinding{enabled=true} config to make data binding work, but adding that config does not fix the &#39;cannot resolve symbol&#39; error. The namespace changed to androidx. Change the import to androidx.databinding.DataBindingUtil","title":"Android Data binding : Cannot resolve symbol","body":"<p>I came to this question based on the title (cannot resolve symbol). Oddly the description is about a different issue (databinding class does not generate) and I think all the existing answers are about that. Basically, the OP asked two questions.</p>\n<p>I'm sure one does need the dataBinding{enabled=true} config to make data binding work, but adding that config does not fix the 'cannot resolve symbol' error. The namespace changed to androidx. Change the import to androidx.databinding.DataBindingUtil</p>\n"}],"owner":{"account_id":3434377,"reputation":5928,"user_id":2877822,"accept_rate":60,"display_name":"Long Ranger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60642,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":15,"score":25,"last_activity_date":1681511668,"creation_date":1443413724,"question_id":32815608,"body_markdown":"I have tried to use the beta features(data binding) in the android studio. After following the guides from the android studio, I can find the related class DataBindingInfo in the android studio. But the databinding class does not generate after I create the project. Can someone help?\r\n\r\n\r\nbuild.gradle for the app module\r\n \r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    apply plugin: &#39;com.android.databinding&#39;\r\n    android {\r\n        compileSdkVersion 23\r\n        buildToolsVersion &quot;23.0.1&quot;\r\n\r\n        defaultConfig {\r\n            applicationId &quot;com.example.pigfamily.myapplication&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 23\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        compile &#39;com.android.support:appcompat-v7:23.0.1&#39;\r\n    }\r\n\r\n\r\nbuild.gradle for the project\r\n\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            dependencies {\r\n                classpath &quot;com.android.tools.build:gradle:1.3.0&quot;\r\n                classpath &quot;com.android.databinding:dataBinder:1.0-rc1&quot;\r\n            }\r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n\r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n    }\r\n\r\nactivity_main.xml\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n        &lt;data&gt;\r\n\r\n            &lt;variable\r\n                name=&quot;user&quot;\r\n                type=&quot;com.example.pigfamily.myapplication.User&quot; /&gt;\r\n        &lt;/data&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n     &gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@{user.name}&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/layout&gt;\r\n\r\nMainActivity.java\r\n\r\n    package com.example.pigfamily.myapplication;\r\n\r\n    import android.databinding.DataBindingUtil;\r\n    import android.databinding.ViewDataBinding;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            ActivityMainBinding //cannot resolve the symbol here\r\n        }\r\n\r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.menu_main, menu);\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            // Handle action bar item clicks here. The action bar will\r\n            // automatically handle clicks on the Home/Up button, so long\r\n            // as you specify a parent activity in AndroidManifest.xml.\r\n            int id = item.getItemId();\r\n\r\n            //noinspection SimplifiableIfStatement\r\n            if (id == R.id.action_settings) {\r\n                return true;\r\n            }\r\n\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n\r\n","title":"Android Data binding : Cannot resolve symbol","body":"<p>I have tried to use the beta features(data binding) in the android studio. After following the guides from the android studio, I can find the related class DataBindingInfo in the android studio. But the databinding class does not generate after I create the project. Can someone help?</p>\n\n<p>build.gradle for the app module</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'com.android.databinding'\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.1\"\n\n    defaultConfig {\n        applicationId \"com.example.pigfamily.myapplication\"\n        minSdkVersion 15\n        targetSdkVersion 23\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:appcompat-v7:23.0.1'\n}\n</code></pre>\n\n<p>build.gradle for the project</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        dependencies {\n            classpath \"com.android.tools.build:gradle:1.3.0\"\n            classpath \"com.android.databinding:dataBinder:1.0-rc1\"\n        }\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n</code></pre>\n\n<p>activity_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    &lt;data&gt;\n\n        &lt;variable\n            name=\"user\"\n            type=\"com.example.pigfamily.myapplication.User\" /&gt;\n    &lt;/data&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n &gt;\n\n        &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"@{user.name}\" /&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>MainActivity.java</p>\n\n<pre><code>package com.example.pigfamily.myapplication;\n\nimport android.databinding.DataBindingUtil;\nimport android.databinding.ViewDataBinding;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuItem;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ActivityMainBinding //cannot resolve the symbol here\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.menu_main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        int id = item.getItemId();\n\n        //noinspection SimplifiableIfStatement\n        if (id == R.id.action_settings) {\n            return true;\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","database","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1681318770,"post_id":75990984,"comment_id":134038415,"body_markdown":"How are you determining that there is a OneToMany relationship here exactly? The PrimaryJoinColumn in User is just wrong, as you don&#39;t have a foreign key to associate with the primary key (the relationship is marked as mapped by user). Removing this would tell JPA that both tables only have an ID that must be unique, with the Student.ID being a foreign key to User.Id - a One To One.","body":"How are you determining that there is a OneToMany relationship here exactly? The PrimaryJoinColumn in User is just wrong, as you don&#39;t have a foreign key to associate with the primary key (the relationship is marked as mapped by user). Removing this would tell JPA that both tables only have an ID that must be unique, with the Student.ID being a foreign key to User.Id - a One To One."},{"owner":{"account_id":25346990,"reputation":41,"user_id":19164457,"display_name":"Azzedine Bk"},"score":0,"creation_date":1681321508,"post_id":75990984,"comment_id":134039067,"body_markdown":"i can tell because you can look up the schema in Mysql. and @PrimaryKeyKeyColumn is to my understanding needed to make the association based on the primary key","body":"i can tell because you can look up the schema in Mysql. and @PrimaryKeyKeyColumn is to my understanding needed to make the association based on the primary key"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1681323122,"post_id":75990984,"comment_id":134039391,"body_markdown":"Your understanding is incorrect. It is used more commonly in JPA 1.0 before there were derived IDs, where it was mostly aimed at having a way of specifying how to map multiple tables in the same entity (inheritance etc) and got reused on reference mappings. You might have used it on the Student.user mapping instead of MapsId so that JPA would know the foreign key in the mapping is tied to the id property - but JPA would NOT set the id property for you. It would behave as if you set a joinColumn and specified the same ID column and marked it updatable=false, insertable=false.","body":"Your understanding is incorrect. It is used more commonly in JPA 1.0 before there were derived IDs, where it was mostly aimed at having a way of specifying how to map multiple tables in the same entity (inheritance etc) and got reused on reference mappings. You might have used it on the Student.user mapping instead of MapsId so that JPA would know the foreign key in the mapping is tied to the id property - but JPA would NOT set the id property for you. It would behave as if you set a joinColumn and specified the same ID column and marked it updatable=false, insertable=false."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1681323609,"post_id":75990984,"comment_id":134039504,"body_markdown":"The @PrimaryKeyJoinColumn shouldn&#39;t be used in the User side because you&#39;ve already told JPA that the mapping is controlled through the Student.user mapping. Adding it just confuses things, effectively stating that both IDs are fks to the other&#39;s ID. As for what you see in the schema ... what do you see in the schema compared to what you expect to see? There isn&#39;t much difference from a ManyToOne and OneToOne without adding a uniqueness constraint on the FK, and from the other side you won&#39;t see a fk at all.","body":"The @PrimaryKeyJoinColumn shouldn&#39;t be used in the User side because you&#39;ve already told JPA that the mapping is controlled through the Student.user mapping. Adding it just confuses things, effectively stating that both IDs are fks to the other&#39;s ID. As for what you see in the schema ... what do you see in the schema compared to what you expect to see? There isn&#39;t much difference from a ManyToOne and OneToOne without adding a uniqueness constraint on the FK, and from the other side you won&#39;t see a fk at all."},{"owner":{"account_id":25346990,"reputation":41,"user_id":19164457,"display_name":"Azzedine Bk"},"score":0,"creation_date":1681324388,"post_id":75990984,"comment_id":134039670,"body_markdown":"ahh got it. as to what i expect to see, i expect to see a one to one relatioship, as that&#39;s what i define, so what caused the association to be mapped to one to many","body":"ahh got it. as to what i expect to see, i expect to see a one to one relatioship, as that&#39;s what i define, so what caused the association to be mapped to one to many"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1681329603,"post_id":75990984,"comment_id":134040799,"body_markdown":"You are not defining what you see, and there is no table structure difference between a bidirectional OneToOne compared to a ManyToOne/OneToMany relationship. One table will have a foreign key to the other. The only functional difference that prevents a Bidirectional one to one from &#39;being&#39; a OneToMany is that you might have a uniqueness constraint placed on the foreign key - ensuring only one child can reference the parent instead of many. You don&#39;t need and won&#39;t see that here because your foreign key is the ID for the child, so it must be unique.","body":"You are not defining what you see, and there is no table structure difference between a bidirectional OneToOne compared to a ManyToOne/OneToMany relationship. One table will have a foreign key to the other. The only functional difference that prevents a Bidirectional one to one from &#39;being&#39; a OneToMany is that you might have a uniqueness constraint placed on the foreign key - ensuring only one child can reference the parent instead of many. You don&#39;t need and won&#39;t see that here because your foreign key is the ID for the child, so it must be unique."}],"answers":[{"comments":[{"owner":{"account_id":25346990,"reputation":41,"user_id":19164457,"display_name":"Azzedine Bk"},"score":0,"creation_date":1681307716,"post_id":75994196,"comment_id":134035458,"body_markdown":"The code works. It&#39;s when you check it the data base schema In mysql the relationship is one to many, not one to one. Also why did u not add @primarykeyjoincolumn?","body":"The code works. It&#39;s when you check it the data base schema In mysql the relationship is one to many, not one to one. Also why did u not add @primarykeyjoincolumn?"},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":1,"creation_date":1681308544,"post_id":75994196,"comment_id":134035693,"body_markdown":"I understand all that. I&#39;m saying that I _do_ get  a relationship based on the primary key. Look at the DDL I  posted! Hibernate generated that. That is a one-to-one association.","body":"I understand all that. I&#39;m saying that I <i>do</i> get  a relationship based on the primary key. Look at the DDL I  posted! Hibernate generated that. That is a one-to-one association."},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":1,"creation_date":1681308646,"post_id":75994196,"comment_id":134035724,"body_markdown":"(And I did not add `@PrimaryKeyJoinColumn` because it&#39;s not needed.)","body":"(And I did not add <code>@PrimaryKeyJoinColumn</code> because it&#39;s not needed.)"},{"owner":{"account_id":25346990,"reputation":41,"user_id":19164457,"display_name":"Azzedine Bk"},"score":0,"creation_date":1681314776,"post_id":75994196,"comment_id":134037460,"body_markdown":"yeah im seeing the console, i got the same results as you, it&#39;s just weird how it goes to one to many in Mysql, and why is @PrimaryKeyColumn not needed?","body":"yeah im seeing the console, i got the same results as you, it&#39;s just weird how it goes to one to many in Mysql, and why is @PrimaryKeyColumn not needed?"}],"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681297650,"creation_date":1681293844,"answer_id":75994196,"question_id":75990984,"body_markdown":"I tried exactly your code in Hibernate 6.2, and this was the generated DDL:\r\n\r\n```sql\r\n    create table Student (\r\n        id bigint not null,\r\n        institution varchar(255),\r\n        level varchar(255),\r\n        specialty varchar(255),\r\n        type varchar(255),\r\n        primary key (id)\r\n    ) engine=InnoDB\r\n\r\n    create table User (\r\n        id bigint not null,\r\n        adress varchar(255),\r\n        birthDate varchar(255),\r\n        email varchar(255),\r\n        firstName varchar(255),\r\n        gender varchar(255),\r\n        lastName varchar(255),\r\n        password varchar(255),\r\n        phone integer not null,\r\n        type varchar(255),\r\n        username varchar(255),\r\n        primary key (id)\r\n    ) engine=InnoDB\r\n\r\n    alter table Student \r\n       add constraint FKkfqq4nickg8wu56axc7jktv1 \r\n       foreign key (id) \r\n       references User (id)\r\n```\r\n\r\nLooks like a pretty good one-to-one association to me.\r\n\r\n## UPDATE\r\n\r\nNote that I would map your association as follows, assuming that every `Student` has a `User`:\r\n\r\n```java\r\n\t@Entity\r\n\t@Table(name = &quot;Student&quot;)\r\n\tpublic static class Student {\r\n\t\t@Id\r\n\t\tprivate Long id;\r\n\r\n\t\t@OneToOne(optional=false)\r\n        @MapsId \r\n        @JoinColumn(name = &quot;id&quot;)\r\n\t\tprivate User user;\r\n        ...\r\n\t}\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;User&quot;)\r\n\tpublic static class User {\r\n\t\t@Id\r\n\t\tprivate Long id;\r\n\r\n\t\t@OneToOne(mappedBy = &quot;user&quot;)\r\n\t\tprivate Student student;\r\n        ...\r\n\t}\r\n```\r\n","title":"why does spring data jpa map a one to one association to a one to many","body":"<p>I tried exactly your code in Hibernate 6.2, and this was the generated DDL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    create table Student (\n        id bigint not null,\n        institution varchar(255),\n        level varchar(255),\n        specialty varchar(255),\n        type varchar(255),\n        primary key (id)\n    ) engine=InnoDB\n\n    create table User (\n        id bigint not null,\n        adress varchar(255),\n        birthDate varchar(255),\n        email varchar(255),\n        firstName varchar(255),\n        gender varchar(255),\n        lastName varchar(255),\n        password varchar(255),\n        phone integer not null,\n        type varchar(255),\n        username varchar(255),\n        primary key (id)\n    ) engine=InnoDB\n\n    alter table Student \n       add constraint FKkfqq4nickg8wu56axc7jktv1 \n       foreign key (id) \n       references User (id)\n</code></pre>\n<p>Looks like a pretty good one-to-one association to me.</p>\n<h2>UPDATE</h2>\n<p>Note that I would map your association as follows, assuming that every <code>Student</code> has a <code>User</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity\n    @Table(name = &quot;Student&quot;)\n    public static class Student {\n        @Id\n        private Long id;\n\n        @OneToOne(optional=false)\n        @MapsId \n        @JoinColumn(name = &quot;id&quot;)\n        private User user;\n        ...\n    }\n\n    @Entity\n    @Table(name = &quot;User&quot;)\n    public static class User {\n        @Id\n        private Long id;\n\n        @OneToOne(mappedBy = &quot;user&quot;)\n        private Student student;\n        ...\n    }\n</code></pre>\n"}],"owner":{"account_id":25346990,"reputation":41,"user_id":19164457,"display_name":"Azzedine Bk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75994196,"answer_count":1,"score":0,"last_activity_date":1681510598,"creation_date":1681258719,"question_id":75990984,"body_markdown":"i have 2 entities, Student and User. I&#39;m using JPA to create a one to one relationship between them as follows: \r\n\r\n```\r\n\r\n\r\n@Entity\r\n@Table(name = &quot;Student&quot;)\r\npublic class Student {\r\n    @Id\r\n    private Long id;\r\n    private String specialty;\r\n    private String level;\r\n    private String type;\r\n    private String institution;\r\n\r\n    @OneToOne\r\n    @MapsId\r\n    @JoinColumn(name = &quot;id&quot;)\r\n    private User user;\r\n}\r\n```\r\n```\r\n\r\n@Entity\r\n@Table(name = &quot;User&quot;)\r\npublic class User {\r\n    @Id\r\n    private Long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String gender;\r\n    private String birthDate;\r\n    private String adress;\r\n    private int phone;\r\n    private String username;\r\n    private String email;\r\n    private String password;\r\n    private String type;\r\n\r\n    @OneToOne(mappedBy = &quot;user&quot;)\r\n    @PrimaryKeyJoinColumn\r\n    private Student student;\r\n\r\n\r\n}\r\n```\r\n\r\nthis does create the relationship, however when i go to Mysql to see the tables the relationship is one to many, not one to one.","title":"why does spring data jpa map a one to one association to a one to many","body":"<p>i have 2 entities, Student and User. I'm using JPA to create a one to one relationship between them as follows:</p>\n<pre><code>\n\n@Entity\n@Table(name = &quot;Student&quot;)\npublic class Student {\n    @Id\n    private Long id;\n    private String specialty;\n    private String level;\n    private String type;\n    private String institution;\n\n    @OneToOne\n    @MapsId\n    @JoinColumn(name = &quot;id&quot;)\n    private User user;\n}\n</code></pre>\n<pre><code>\n@Entity\n@Table(name = &quot;User&quot;)\npublic class User {\n    @Id\n    private Long id;\n    private String firstName;\n    private String lastName;\n    private String gender;\n    private String birthDate;\n    private String adress;\n    private int phone;\n    private String username;\n    private String email;\n    private String password;\n    private String type;\n\n    @OneToOne(mappedBy = &quot;user&quot;)\n    @PrimaryKeyJoinColumn\n    private Student student;\n\n\n}\n</code></pre>\n<p>this does create the relationship, however when i go to Mysql to see the tables the relationship is one to many, not one to one.</p>\n"},{"tags":["java","multithreading","semaphore","thread-synchronization"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1666575196,"post_id":74175504,"comment_id":130962852,"body_markdown":"I would suggest giving a meaningful name to `D`. What does it represent? Once that is clear, the problem with the logic is clear. The way the code is implemented, `D` represents whether the container is ready to receive a value from the producer. So, it should be initialised to `true`, not `false`.","body":"I would suggest giving a meaningful name to <code>D</code>. What does it represent? Once that is clear, the problem with the logic is clear. The way the code is implemented, <code>D</code> represents whether the container is ready to receive a value from the producer. So, it should be initialised to <code>true</code>, not <code>false</code>."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1666575597,"post_id":74175504,"comment_id":130962896,"body_markdown":"Using `wait` and `notify` directly is likely to cause confusion.  It&#39;s almost certainly better to use a proper API, like [`Condition`](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Condition.html).","body":"Using <code>wait</code> and <code>notify</code> directly is likely to cause confusion.  It&#39;s almost certainly better to use a proper API, like <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Condition.html\" rel=\"nofollow noreferrer\"><code>Condition</code></a>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1666622699,"post_id":74175504,"comment_id":130974935,"body_markdown":"Each of you methods, `prendre` and `mettre` is establishing the condition the other thread will wait for, immediately after its own wait. Nothing enforces the other thread to wait until the end of the print statement. Hence, you’re not controlling the order of the print statements. To have control over the print order, you’d have to do “wait”, “print”, “change condition and notify” instead of “wait and change condition and notify”, “print”.","body":"Each of you methods, <code>prendre</code> and <code>mettre</code> is establishing the condition the other thread will wait for, immediately after its own wait. Nothing enforces the other thread to wait until the end of the print statement. Hence, you’re not controlling the order of the print statements. To have control over the print order, you’d have to do “wait”, “print”, “change condition and notify” instead of “wait and change condition and notify”, “print”."},{"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"score":0,"creation_date":1681510858,"post_id":74175504,"comment_id":134073875,"body_markdown":"Each of your threads notifies and then prints. Nothing prevents the other thread from catching the notification and then printing before the thread that woke it can print. If you want to order the print statements, you have to print *before* you modify `empty` and release the lock.","body":"Each of your threads notifies and then prints. Nothing prevents the other thread from catching the notification and then printing before the thread that woke it can print. If you want to order the print statements, you have to print <i>before</i> you modify <code>empty</code> and release the lock."}],"owner":{"account_id":25346990,"reputation":41,"user_id":19164457,"display_name":"Azzedine Bk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681510531,"creation_date":1666568020,"question_id":74175504,"body_markdown":"I tried making these two threads alternate but I failed. The logic is correct I think but the execution is wrong.  What do i do? It&#39;s a producer-consumer problem that I need to do using wait and notify.\r\n\r\nHere is the producer class:\r\n```\r\n\r\n\r\npublic class Producer extends Thread {\r\n\tprivate Container container;\r\n\tprivate int num;\r\n\tpublic Producer(Container s, int num) {\r\n\t\tcontainer=s;\r\n\t\tthis.num=num;\r\n\t}\r\n\t@Override\r\npublic void run() {\r\n\tfor (int i=0;i&lt;10;i++) {\r\n\t\tcontainer.mettre(num);\r\n\t\tSystem.out.println(&quot;producer &quot;+i);\r\n\t\ttry {\r\n\t\t\tsleep((long) (Math.random()*100));}\r\n\t\t\tcatch(InterruptedException e) {}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nConsumer class:\r\n```\r\n\r\n\r\npublic class Consumer extends Thread {\r\n\tprivate Container container;\r\n\tprivate int num;\r\n\tpublic Consumer(Container s, int num) {\r\n\t\tcontainer=s;\r\n\t\tthis.num=num;\r\n\t}\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tint valeur=0;\r\n\t\tfor (int i=0;i&lt;10;i++) {\r\n\t\t\tvaleur=container.prendre();\r\n\t\t\tSystem.out.println(&quot;Consumer &quot;+i+&quot; prend &quot;+valeur);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\nand this is container class:\r\n```\r\n\r\n\r\npublic class Container {\r\n  private int Contenu;\r\n  private boolean empty= false;\r\n    \r\n  public synchronized int prendre() {\r\n\t  while(empty==true) {\r\n\t\t  try{\r\n\t\t\t  wait();\r\n\t\t\t  }\r\n\t\t  catch(InterruptedException e) {}\r\n\t\t  }\r\n\t  empty=true;\r\n\t  notify();\r\n\t  return Contenu;\r\n\t  }\r\n  public synchronized void mettre(int valeur) {\r\n\t  while(empty==false) {\r\n\t\t  try{\r\n\t\t\t  wait();\r\n\t\t\t  }\r\n\t\t  catch(InterruptedException e) {}\r\n\t\t  }\r\n\t  Contenu=valeur;\r\n\t  empty=false;\r\n\t  notify();\r\n\t  }\r\n  }\r\n```\r\nWhen I execute the order of the 2 threads is random, in theory it should be producer then consumer etc. ","title":"how do i use wait and notify properly","body":"<p>I tried making these two threads alternate but I failed. The logic is correct I think but the execution is wrong.  What do i do? It's a producer-consumer problem that I need to do using wait and notify.</p>\n<p>Here is the producer class:</p>\n<pre><code>\n\npublic class Producer extends Thread {\n    private Container container;\n    private int num;\n    public Producer(Container s, int num) {\n        container=s;\n        this.num=num;\n    }\n    @Override\npublic void run() {\n    for (int i=0;i&lt;10;i++) {\n        container.mettre(num);\n        System.out.println(&quot;producer &quot;+i);\n        try {\n            sleep((long) (Math.random()*100));}\n            catch(InterruptedException e) {}\n        }\n    }\n}\n\n\n</code></pre>\n<p>Consumer class:</p>\n<pre><code>\n\npublic class Consumer extends Thread {\n    private Container container;\n    private int num;\n    public Consumer(Container s, int num) {\n        container=s;\n        this.num=num;\n    }\n    @Override\n    public void run() {\n        int valeur=0;\n        for (int i=0;i&lt;10;i++) {\n            valeur=container.prendre();\n            System.out.println(&quot;Consumer &quot;+i+&quot; prend &quot;+valeur);\n        }\n    }\n\n}\n</code></pre>\n<p>and this is container class:</p>\n<pre><code>\n\npublic class Container {\n  private int Contenu;\n  private boolean empty= false;\n    \n  public synchronized int prendre() {\n      while(empty==true) {\n          try{\n              wait();\n              }\n          catch(InterruptedException e) {}\n          }\n      empty=true;\n      notify();\n      return Contenu;\n      }\n  public synchronized void mettre(int valeur) {\n      while(empty==false) {\n          try{\n              wait();\n              }\n          catch(InterruptedException e) {}\n          }\n      Contenu=valeur;\n      empty=false;\n      notify();\n      }\n  }\n</code></pre>\n<p>When I execute the order of the 2 threads is random, in theory it should be producer then consumer etc.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":2885864,"reputation":861,"user_id":2475798,"display_name":"Neenad"},"score":0,"creation_date":1677225180,"post_id":75503252,"comment_id":133299347,"body_markdown":"Does this answer your question? [How do I add HTTP basic auth for a specific endpoint with spring security?](https://stackoverflow.com/questions/43524211/how-do-i-add-http-basic-auth-for-a-specific-endpoint-with-spring-security)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/43524211/how-do-i-add-http-basic-auth-for-a-specific-endpoint-with-spring-security\">How do I add HTTP basic auth for a specific endpoint with spring security?</a>"}],"answers":[{"comments":[{"owner":{"account_id":25346990,"reputation":41,"user_id":19164457,"display_name":"Azzedine Bk"},"score":0,"creation_date":1681510778,"post_id":75503376,"comment_id":134073863,"body_markdown":"this worked, my package organization was a mess. thank you!","body":"this worked, my package organization was a mess. thank you!"}],"tags":[],"owner":{"account_id":1262922,"reputation":2194,"user_id":1220802,"display_name":"rph"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676839957,"creation_date":1676839957,"answer_id":75503376,"question_id":75503252,"body_markdown":"I believe the issue might have to do with how you are organizing the packages. By default, Spring will look under the package of the main application or any sub-packages.\r\n\r\nIt&#39;s hard to be sure from the information provided in the question, but for instance, if your main application class is under the package `com.example`, and the security configuration class is under the package `Security`, it won&#39;t find it by default. Also, be sure to not use the default package (or &quot;no package&quot;).\r\n\r\nSo the options are:\r\n* Add `@ComponentScan` annotation to the main class to indicate where to look: `@ComponentScan(&quot;Security&quot;)`\r\n* Move the security config class under the same package as the main class or a sub-package: `com.example.security` (recommended).\r\n\r\nSee [Spring documentation](https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html) for reference.\r\n\r\nI also suggest that you use the standard naming and styling conventions for Java. (lower-case package names, lower-case method attributes, pascal-case class names). See [Naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html) for reference. It will not only look better and consistent with other code bases but will also make it compatible with many tools that follow convention over configuration, which is favored a lot in the Spring ecosystem.","title":"why does spring security refuse to use my config file","body":"<p>I believe the issue might have to do with how you are organizing the packages. By default, Spring will look under the package of the main application or any sub-packages.</p>\n<p>It's hard to be sure from the information provided in the question, but for instance, if your main application class is under the package <code>com.example</code>, and the security configuration class is under the package <code>Security</code>, it won't find it by default. Also, be sure to not use the default package (or &quot;no package&quot;).</p>\n<p>So the options are:</p>\n<ul>\n<li>Add <code>@ComponentScan</code> annotation to the main class to indicate where to look: <code>@ComponentScan(&quot;Security&quot;)</code></li>\n<li>Move the security config class under the same package as the main class or a sub-package: <code>com.example.security</code> (recommended).</li>\n</ul>\n<p>See <a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html\" rel=\"nofollow noreferrer\">Spring documentation</a> for reference.</p>\n<p>I also suggest that you use the standard naming and styling conventions for Java. (lower-case package names, lower-case method attributes, pascal-case class names). See <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Naming conventions</a> for reference. It will not only look better and consistent with other code bases but will also make it compatible with many tools that follow convention over configuration, which is favored a lot in the Spring ecosystem.</p>\n"}],"owner":{"account_id":25346990,"reputation":41,"user_id":19164457,"display_name":"Azzedine Bk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75503376,"answer_count":1,"score":1,"last_activity_date":1681510468,"creation_date":1676838623,"question_id":75503252,"body_markdown":"im learning Spring security and created a config file to change the login from form to basic as a first step, however the config file doesn&#39;t do anything and no changes happen \r\n\r\nhere is the code in the config file: \r\n\r\n```\r\npackage Security;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class securityConfiguration {\r\n\r\n@Bean\r\n    public SecurityFilterChain configure(HttpSecurity Sec ) throws Exception {\r\n        Sec\r\n                .authorizeRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .httpBasic();\r\n        return Sec.build();}\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n```\r\n\r\nand this is my POM.xml :\r\n\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;test&lt;/name&gt;\r\n    &lt;description&gt;test&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\ni suspected the problem might be spring not picking up the config file but the annotations did nothing to fix this. ","title":"why does spring security refuse to use my config file","body":"<p>im learning Spring security and created a config file to change the login from form to basic as a first step, however the config file doesn't do anything and no changes happen</p>\n<p>here is the code in the config file:</p>\n<pre><code>package Security;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class securityConfiguration {\n\n@Bean\n    public SecurityFilterChain configure(HttpSecurity Sec ) throws Exception {\n        Sec\n                .authorizeRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .httpBasic();\n        return Sec.build();}\n\n\n\n}\n\n\n\n\n</code></pre>\n<p>and this is my POM.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;test&lt;/name&gt;\n    &lt;description&gt;test&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>i suspected the problem might be spring not picking up the config file but the annotations did nothing to fix this.</p>\n"},{"tags":["java","spring-boot","kotlin"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1561518619,"post_id":56764255,"comment_id":100085726,"body_markdown":"I&#39;ll offer an aside here to broaden the perspective a bit.  One of my good friends is a Scala fanatic,  We can&#39;t talk languages any more, at least not JVM languages, because he gets so religious about Scala.  As I say below, my company and I went with Kotlin.  My only reason for saying this is that my friend is also a Big Time Spring fan.  I don&#39;t know the details, but he builds great projects with Spring and Scala.  So just because Spring Initializr doesn&#39;t support a particular alternative JVM language doesn&#39;t mean it isn&#39;t a valid option.","body":"I&#39;ll offer an aside here to broaden the perspective a bit.  One of my good friends is a Scala fanatic,  We can&#39;t talk languages any more, at least not JVM languages, because he gets so religious about Scala.  As I say below, my company and I went with Kotlin.  My only reason for saying this is that my friend is also a Big Time Spring fan.  I don&#39;t know the details, but he builds great projects with Spring and Scala.  So just because Spring Initializr doesn&#39;t support a particular alternative JVM language doesn&#39;t mean it isn&#39;t a valid option."},{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":1,"creation_date":1561546380,"post_id":56764255,"comment_id":100097602,"body_markdown":"One of the thing to be aware of is that Kotlin compiler doesn&#39;t force you catching/declaring checked exceptions, so you need to pay extra attention to `@Transactional` methods as rollback is *not* executed for checked exceptions. That is easier to &quot;remember&quot; in Java, where you are forced to either handle them or declare them in the method&#39;s signature","body":"One of the thing to be aware of is that Kotlin compiler doesn&#39;t force you catching/declaring checked exceptions, so you need to pay extra attention to <code>@Transactional</code> methods as rollback is <i>not</i> executed for checked exceptions. That is easier to &quot;remember&quot; in Java, where you are forced to either handle them or declare them in the method&#39;s signature"}],"answers":[{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1681510336,"creation_date":1561516179,"answer_id":56764356,"question_id":56764255,"body_markdown":"The main difference is: with Kotlin, you&#39;re programming in Kotlin...with Java, you&#39;re programming in Java.  Spring makes use of some languages features exclusive to Kotlin to streamline certain operations, but I wouldn&#39;t think you&#39;d want to choose one language over the other just because of those few additional benefits.  For the most part, there is no difference.  Spring supports both languages well.\r\n\r\nUPDATE: I guess I should add that Kotlin does introduce a few minor problems into the whole Spring thing, just because Spring is actually written in Java and was originally designed to be utilized via Java.  But just like the pros you get with Spring and Kotlin, these minor negatives should likewise not dictate your choice as to which language to use.\r\n\r\nI think what you should be asking is &quot;which language should I use?&quot; leaving Spring out of it.  My company is coding new modules in Kotlin because we consider it a significantly better language than Java.  But we have lots of legacy Java code, and we&#39;ve chosen to for the most part not mix languages within a single module, so we still code in Java too.  You have to make your own decision.  Decide what language you want to program in based on the language itself, and on your existing codebase, but not on how Spring works with it.  Spring will work great with either.\r\n\r\n\r\nThere are many articles and blogs out there comparing the two languages, listing their relative pros and cons.  I&#39;d suggest that you read everything you can.  There&#39;s no &quot;right&quot; answer here. (...which is why I know this question is going to be closed as being opinion-based).  Try Kotlin.  Heck, try Groovy and Scala too.  &quot;live&quot; the pros and cons for yourself, and then decide what will work best for you.\r\n\r\nBTW, you list &quot;Risk to have Java moving faster than Kotlin&quot; as a Con of Kotlin.  I think the risk is in the other direction.  Java moves very slowly compared to Kotlin and other alternative languages.  That&#39;s why you see it playing catch-up...finally introducing features into the language that have been in the alternative languages for many years.\r\n","title":"What are the differences using spring boot with Kotlin and with Java?","body":"<p>The main difference is: with Kotlin, you're programming in Kotlin...with Java, you're programming in Java.  Spring makes use of some languages features exclusive to Kotlin to streamline certain operations, but I wouldn't think you'd want to choose one language over the other just because of those few additional benefits.  For the most part, there is no difference.  Spring supports both languages well.</p>\n<p>UPDATE: I guess I should add that Kotlin does introduce a few minor problems into the whole Spring thing, just because Spring is actually written in Java and was originally designed to be utilized via Java.  But just like the pros you get with Spring and Kotlin, these minor negatives should likewise not dictate your choice as to which language to use.</p>\n<p>I think what you should be asking is &quot;which language should I use?&quot; leaving Spring out of it.  My company is coding new modules in Kotlin because we consider it a significantly better language than Java.  But we have lots of legacy Java code, and we've chosen to for the most part not mix languages within a single module, so we still code in Java too.  You have to make your own decision.  Decide what language you want to program in based on the language itself, and on your existing codebase, but not on how Spring works with it.  Spring will work great with either.</p>\n<p>There are many articles and blogs out there comparing the two languages, listing their relative pros and cons.  I'd suggest that you read everything you can.  There's no &quot;right&quot; answer here. (...which is why I know this question is going to be closed as being opinion-based).  Try Kotlin.  Heck, try Groovy and Scala too.  &quot;live&quot; the pros and cons for yourself, and then decide what will work best for you.</p>\n<p>BTW, you list &quot;Risk to have Java moving faster than Kotlin&quot; as a Con of Kotlin.  I think the risk is in the other direction.  Java moves very slowly compared to Kotlin and other alternative languages.  That's why you see it playing catch-up...finally introducing features into the language that have been in the alternative languages for many years.</p>\n"},{"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1561517376,"post_id":56764477,"comment_id":100085505,"body_markdown":"I can&#39;t disagree with anything you say here.  Kotlin Rocks!","body":"I can&#39;t disagree with anything you say here.  Kotlin Rocks!"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":2,"creation_date":1561518034,"post_id":56764477,"comment_id":100085630,"body_markdown":"I&#39;ll put this comment here because you mention JetBrains.  A VERY serious thing that Kotlin has going for it is that it is coming out of JetBrains.  JetBrains&#39; IntelliJ is, Hands Down, THE development environment for the JVM.  Eclipse is nice.  It even does some things IntelliJ doesn&#39;t do.  But it&#39;s &quot;the other guy&quot;.  IntelliJ, like Kotlin, Rocks!  You can&#39;t go wrong sticking with anything coming out of JetBrains!  (PyCharm&#39;s an amazing tool as well).  The combo of IntelliJ and Kotlin is an awesome 1 2 punch that can&#39;t be ignored if your main goal is productivity.","body":"I&#39;ll put this comment here because you mention JetBrains.  A VERY serious thing that Kotlin has going for it is that it is coming out of JetBrains.  JetBrains&#39; IntelliJ is, Hands Down, THE development environment for the JVM.  Eclipse is nice.  It even does some things IntelliJ doesn&#39;t do.  But it&#39;s &quot;the other guy&quot;.  IntelliJ, like Kotlin, Rocks!  You can&#39;t go wrong sticking with anything coming out of JetBrains!  (PyCharm&#39;s an amazing tool as well).  The combo of IntelliJ and Kotlin is an awesome 1 2 punch that can&#39;t be ignored if your main goal is productivity."},{"owner":{"account_id":5119511,"reputation":954,"user_id":4103578,"display_name":"Xavier Bouclet"},"score":0,"creation_date":1561750881,"post_id":56764477,"comment_id":100179005,"body_markdown":"Thank you both. I am pretty convinced with Kotlin but I have trouble convincing my new team to try it.","body":"Thank you both. I am pretty convinced with Kotlin but I have trouble convincing my new team to try it."}],"tags":[],"owner":{"account_id":7105431,"reputation":2516,"user_id":5435216,"display_name":"Tahir Hussain Mir"},"comment_count":3,"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1561517155,"creation_date":1561517155,"answer_id":56764477,"question_id":56764255,"body_markdown":"Since Kotlin is simply a dependency and plugin for Maven (that&#39;s it!). It&#39;s such a nice, compact, easy-to-grok language that removes all the syntactic fat (opposed to syntactic sugar) that Java provides.\r\n\r\nFrom 5.0.0 onward Kotlin has first-class support from Spring, which effectively means it has all the same guarantees as Java in terms of code working correctly.\r\n\r\nKotlin itself has a ton of interoperability features to smoothly integrate with any already existing Java library, which means you have the same freedom of choice.\r\n\r\nKotlin&#39;s Java interop is amazing, and was by no means an afterthought by Jet Brains. Thus Kotlin works nicely with Spring, which provides a lot of the boilerplate functionality for web applications, especially Spring Boot.\r\n\r\nThese are some points which You already mentioned but I will still have a say about it. Kotlin has a much more compact syntax and its type system allows for much more robust code through null-safety, sealed classes, and immutable/mutable collection distinction, which together significantly reduce development time on any project.\r\n\r\n","title":"What are the differences using spring boot with Kotlin and with Java?","body":"<p>Since Kotlin is simply a dependency and plugin for Maven (that's it!). It's such a nice, compact, easy-to-grok language that removes all the syntactic fat (opposed to syntactic sugar) that Java provides.</p>\n\n<p>From 5.0.0 onward Kotlin has first-class support from Spring, which effectively means it has all the same guarantees as Java in terms of code working correctly.</p>\n\n<p>Kotlin itself has a ton of interoperability features to smoothly integrate with any already existing Java library, which means you have the same freedom of choice.</p>\n\n<p>Kotlin's Java interop is amazing, and was by no means an afterthought by Jet Brains. Thus Kotlin works nicely with Spring, which provides a lot of the boilerplate functionality for web applications, especially Spring Boot.</p>\n\n<p>These are some points which You already mentioned but I will still have a say about it. Kotlin has a much more compact syntax and its type system allows for much more robust code through null-safety, sealed classes, and immutable/mutable collection distinction, which together significantly reduce development time on any project.</p>\n"}],"owner":{"account_id":5119511,"reputation":954,"user_id":4103578,"display_name":"Xavier Bouclet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18097,"favorite_count":0,"down_vote_count":2,"up_vote_count":11,"accepted_answer_id":56764477,"answer_count":2,"score":9,"last_activity_date":1681510336,"creation_date":1561515322,"question_id":56764255,"body_markdown":"What are the differences using spring boot with Kotlin and with Java?\r\n\r\nKotlin is among the three languages you could choose to start your app with https://start.spring.io. So it&#39;s supported by the spring boot team. I used it to develop some microservices and as far as I know everything went fine at the end but I would like to have some feedback from other developers because I try to convince my new team to start our new microservices in Kotlin.\r\n\r\nPros:\r\n\r\n - Null safety \r\n - Clearer code\r\n - Val over var\r\n\r\nCons:\r\n\r\n - Mockito not Kotlin friendly (I switched to mockk) \r\n - Code coverage was not out of the box (we had to develop our own plugin) \r\n - Risk to have Java moving faster than Kotlin","title":"What are the differences using spring boot with Kotlin and with Java?","body":"<p>What are the differences using spring boot with Kotlin and with Java?</p>\n\n<p>Kotlin is among the three languages you could choose to start your app with <a href=\"https://start.spring.io\" rel=\"noreferrer\">https://start.spring.io</a>. So it's supported by the spring boot team. I used it to develop some microservices and as far as I know everything went fine at the end but I would like to have some feedback from other developers because I try to convince my new team to start our new microservices in Kotlin.</p>\n\n<p>Pros:</p>\n\n<ul>\n<li>Null safety </li>\n<li>Clearer code</li>\n<li>Val over var</li>\n</ul>\n\n<p>Cons:</p>\n\n<ul>\n<li>Mockito not Kotlin friendly (I switched to mockk) </li>\n<li>Code coverage was not out of the box (we had to develop our own plugin) </li>\n<li>Risk to have Java moving faster than Kotlin</li>\n</ul>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":463036,"reputation":5207,"user_id":865695,"accept_rate":56,"display_name":"Sebastian"},"score":1,"creation_date":1681507939,"post_id":76019031,"comment_id":134073454,"body_markdown":"Try adding a System.out.println of ans and ans.length() to see what you are really inputting. Also the last else if() can simply be an else.","body":"Try adding a System.out.println of ans and ans.length() to see what you are really inputting. Also the last else if() can simply be an else."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":1,"creation_date":1681508235,"post_id":76019031,"comment_id":134073497,"body_markdown":"Why are you passing in a scanner as an argument just to create a new scanner? Although this isn&#39;t the source of your problem (I have checked) you should not be calling `Object.equals`. You should be calling `equals()` on a String object.","body":"Why are you passing in a scanner as an argument just to create a new scanner? Although this isn&#39;t the source of your problem (I have checked) you should not be calling <code>Object.equals</code>. You should be calling <code>equals()</code> on a String object."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":1,"creation_date":1681508327,"post_id":76019031,"comment_id":134073516,"body_markdown":"As noted in the answer below, these scanning from user input problems are notorious.\n\nI would suggest you change your logic so that you only ever &quot;read a line&quot; whenever you want user input. You should then do further processing on that string which you have ready to strip any unwanted characters and convert to the correct type, eg an integer, in some cases.","body":"As noted in the answer below, these scanning from user input problems are notorious.  I would suggest you change your logic so that you only ever &quot;read a line&quot; whenever you want user input. You should then do further processing on that string which you have ready to strip any unwanted characters and convert to the correct type, eg an integer, in some cases."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":1,"creation_date":1681508405,"post_id":76019031,"comment_id":134073530,"body_markdown":"You also should absolutly NOT be calling your get function recursively. Every time you enter an invalid value, you are pushing one level deeper into the stack. If you enter 10 wrong values, you have to pop back out of that stack 10 more times. Essentially, the logic doesn&#39;t make any sense. This is not a recusion problem.","body":"You also should absolutly NOT be calling your get function recursively. Every time you enter an invalid value, you are pushing one level deeper into the stack. If you enter 10 wrong values, you have to pop back out of that stack 10 more times. Essentially, the logic doesn&#39;t make any sense. This is not a recusion problem."}],"answers":[{"comments":[{"owner":{"account_id":27853983,"reputation":43,"user_id":21267909,"display_name":"Dharco"},"score":0,"creation_date":1681510262,"post_id":76019207,"comment_id":134073786,"body_markdown":"I very much appreciate the thorough explanation, I will say the effort is partially lost on me as I just started learning to code a week ago for a self-paced entry level college class. I will keep this block of code as a reference when dealing with efficiency and logic. Do I have your permission to use parts of this code to improve my own work?","body":"I very much appreciate the thorough explanation, I will say the effort is partially lost on me as I just started learning to code a week ago for a self-paced entry level college class. I will keep this block of code as a reference when dealing with efficiency and logic. Do I have your permission to use parts of this code to improve my own work?"},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1681510933,"post_id":76019207,"comment_id":134073889,"body_markdown":"@dharco yes of course feel free to use it for whatever you want. I would suggest do some reading about recursive problems. In short a recursive problem has two key things: a condition for which you call the same function again and a condition for which you exit the function. Stack depth is about how many times you have called that function. A good example is calculating factorials where there is a termination condition resulting from 0! = 1.","body":"@dharco yes of course feel free to use it for whatever you want. I would suggest do some reading about recursive problems. In short a recursive problem has two key things: a condition for which you call the same function again and a condition for which you exit the function. Stack depth is about how many times you have called that function. A good example is calculating factorials where there is a termination condition resulting from 0! = 1."}],"tags":[],"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681509622,"creation_date":1681509198,"answer_id":76019207,"question_id":76019031,"body_markdown":"I have tested this modified code and it works when run with Eclipse on Windows with OpenJDK, Java Version 17.\r\n\r\nThere were several problems with your code which meant the logic didn&#39;t make any sense.\r\n\r\nIn particular, using a recursive method to get user input which you can&#39;t short circuit escape from, makes no sense at all.\r\n\r\nDoing things like `inputStream.nextint()` is also a sign of some fragile logic. It is usually better to read a whole line into a string (something that can&#39;t really fail) and then process the string to get the input you want.\r\n\r\nIn this case you want to:\r\n\r\n- Strip any whitespace and newlines\r\n- Perform integer conversion with `Integer.valueOf`\r\n\r\nDoing it this way will be much more reliable.\r\n\r\nI have no idea what `nextInt` does, or under what conditions it works. (eg: does it work if you prepend tabs or spaces? does it work with extra characters following the string? etc...)\r\n\r\nThere are so many possible combinations of input - the behaviour could be any number of possibilities and only reading the documentation carefully would resolve this.\r\n\r\nBy the way, the actual reason for your failure (assides from logic errors) was because `nextInt` reads just that - the integer - without the new line character. A new line is left in your input stream, which is then picked up by the next input reading function call.\r\n\r\n```\r\npackage test;\r\n\r\nimport java.util.InputMismatchException;\r\nimport java.util.Scanner;\r\n\r\npublic class App {\r\n\t\r\n    private static int getPressure(Scanner l, String pres) {\r\n\r\n        String ans;\r\n        boolean badUserInput = true;\r\n        Integer num = Integer.valueOf(0);\r\n        \r\n        //get user input only if it is an integer, otherwise return error message\r\n        //and get user input again\r\n        while(badUserInput) {\r\n            try {\r\n                System.out.println(&quot;Please input &quot; + pres + &quot; Blood Pressure:&quot;);\r\n                ans = l.nextLine();\r\n                ans = ans.strip();\r\n                num = Integer.valueOf(ans);\r\n                badUserInput = false;\r\n            } catch (InputMismatchException e) {\r\n                System.out.println(&quot;Sorry, that didn&#39;t work. Please ensure your input is a whole number.&quot;);\r\n            }\r\n        }\r\n        \r\n        return num.intValue();\r\n    }\r\n\r\n    private static boolean checkPressure(Scanner l, int num, String pres) {\r\n        System.out.println(&quot;You typed &quot; + num + &quot;, is that correct? (Yes/No)&quot;);\r\n\r\n        //if input does not match one of expected values (&quot;Yes&quot; and &quot;No&quot;)\r\n        //return error message and take input again\r\n        String ans;\r\n        boolean badUserInput = true;\r\n        boolean returnOk = false;\r\n        while(badUserInput ) {\r\n            ans = l.nextLine();\r\n            \r\n            if (ans.equals(&quot;Yes&quot;)) {\r\n                badUserInput = false;\r\n                returnOk = true;\r\n            } else if (ans.equals(&quot;No&quot;)) {\r\n            \tbadUserInput = false;\r\n            \treturnOk = false;\r\n            } else {\r\n                System.out.println(&quot;Sorry, invalid input, please type &#39;Yes&#39; or &#39;No&#39;&quot;);\r\n            }\r\n        }\r\n        \r\n        return returnOk;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n\r\n        int sys = 0;\r\n        int dias = 0;\r\n        String systolic = &quot;Systolic&quot;;\r\n        String diastolic = &quot;Diastolic&quot;;\r\n        Scanner p = new Scanner(System.in);\r\n        \r\n        boolean repeat = true;\r\n        while(repeat) {\r\n        \tsys = getPressure(p, systolic);\r\n        \tboolean returnedValue = checkPressure(p, sys, systolic);\r\n        \trepeat = !returnedValue;\r\n        }\r\n        \r\n        repeat = true;\r\n        while(repeat) {\r\n        \tdias = getPressure(p, diastolic);\r\n        \tboolean returnedValue = checkPressure(p, sys, diastolic);\r\n        \trepeat = !returnedValue;\r\n        }\r\n    }\r\n}\r\n```","title":"Why is my Java program automatically executing if statement?","body":"<p>I have tested this modified code and it works when run with Eclipse on Windows with OpenJDK, Java Version 17.</p>\n<p>There were several problems with your code which meant the logic didn't make any sense.</p>\n<p>In particular, using a recursive method to get user input which you can't short circuit escape from, makes no sense at all.</p>\n<p>Doing things like <code>inputStream.nextint()</code> is also a sign of some fragile logic. It is usually better to read a whole line into a string (something that can't really fail) and then process the string to get the input you want.</p>\n<p>In this case you want to:</p>\n<ul>\n<li>Strip any whitespace and newlines</li>\n<li>Perform integer conversion with <code>Integer.valueOf</code></li>\n</ul>\n<p>Doing it this way will be much more reliable.</p>\n<p>I have no idea what <code>nextInt</code> does, or under what conditions it works. (eg: does it work if you prepend tabs or spaces? does it work with extra characters following the string? etc...)</p>\n<p>There are so many possible combinations of input - the behaviour could be any number of possibilities and only reading the documentation carefully would resolve this.</p>\n<p>By the way, the actual reason for your failure (assides from logic errors) was because <code>nextInt</code> reads just that - the integer - without the new line character. A new line is left in your input stream, which is then picked up by the next input reading function call.</p>\n<pre><code>package test;\n\nimport java.util.InputMismatchException;\nimport java.util.Scanner;\n\npublic class App {\n    \n    private static int getPressure(Scanner l, String pres) {\n\n        String ans;\n        boolean badUserInput = true;\n        Integer num = Integer.valueOf(0);\n        \n        //get user input only if it is an integer, otherwise return error message\n        //and get user input again\n        while(badUserInput) {\n            try {\n                System.out.println(&quot;Please input &quot; + pres + &quot; Blood Pressure:&quot;);\n                ans = l.nextLine();\n                ans = ans.strip();\n                num = Integer.valueOf(ans);\n                badUserInput = false;\n            } catch (InputMismatchException e) {\n                System.out.println(&quot;Sorry, that didn't work. Please ensure your input is a whole number.&quot;);\n            }\n        }\n        \n        return num.intValue();\n    }\n\n    private static boolean checkPressure(Scanner l, int num, String pres) {\n        System.out.println(&quot;You typed &quot; + num + &quot;, is that correct? (Yes/No)&quot;);\n\n        //if input does not match one of expected values (&quot;Yes&quot; and &quot;No&quot;)\n        //return error message and take input again\n        String ans;\n        boolean badUserInput = true;\n        boolean returnOk = false;\n        while(badUserInput ) {\n            ans = l.nextLine();\n            \n            if (ans.equals(&quot;Yes&quot;)) {\n                badUserInput = false;\n                returnOk = true;\n            } else if (ans.equals(&quot;No&quot;)) {\n                badUserInput = false;\n                returnOk = false;\n            } else {\n                System.out.println(&quot;Sorry, invalid input, please type 'Yes' or 'No'&quot;);\n            }\n        }\n        \n        return returnOk;\n    }\n    \n    public static void main(String[] args) {\n\n        int sys = 0;\n        int dias = 0;\n        String systolic = &quot;Systolic&quot;;\n        String diastolic = &quot;Diastolic&quot;;\n        Scanner p = new Scanner(System.in);\n        \n        boolean repeat = true;\n        while(repeat) {\n            sys = getPressure(p, systolic);\n            boolean returnedValue = checkPressure(p, sys, systolic);\n            repeat = !returnedValue;\n        }\n        \n        repeat = true;\n        while(repeat) {\n            dias = getPressure(p, diastolic);\n            boolean returnedValue = checkPressure(p, sys, diastolic);\n            repeat = !returnedValue;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27853983,"reputation":43,"user_id":21267909,"display_name":"Dharco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681509622,"creation_date":1681507345,"question_id":76019031,"body_markdown":"I am currently writing a Java program as a class project (we&#39;re allowed notes and SO as a resource) to take an integer systolic and diastolic blood pressure input from a user, and return a corresponding diagnosis (&quot;Your blood pressure is in the range of pre-hypertension&quot;, etc.). I am only halfway done with the project, but I cannot for the life of me figure out why this block of code is automatically executing. \r\n\r\nHere&#39;s the whole code:\r\n``` \r\nimport java.util.InputMismatchException;\r\nimport java.util.Objects;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    //create method for getting blood pressure and handling exceptions\r\n    private static int getPressure (Scanner l, int num, String pres) {\r\n        //localize variables\r\n        l = new Scanner(System.in);\r\n        String ans;\r\n        //get user input only if it is an integer, otherwise return error message\r\n        //and get user input again\r\n        while (true) {\r\n            try {\r\n                System.out.println(&quot;Please input &quot; + pres + &quot; Blood Pressure:&quot;);\r\n                num = l.nextInt();\r\n                break;\r\n            } catch (InputMismatchException e) {\r\n                System.out.println(&quot;Sorry, that didn&#39;t work. Please ensure your input is a whole number.&quot;);\r\n                l.next();\r\n            }\r\n        }\r\n        //Verify user input is as intended, otherwise take input again\r\n        System.out.println(&quot;You typed &quot; + num + &quot;, is that correct? (Yes/No)&quot;);\r\n        //take input\r\n        ans = l.nextLine();\r\n        //if input does not match one of expected values (&quot;Yes&quot; and &quot;No&quot;)\r\n        //return error message and take input again\r\n        do {\r\n            if (Objects.equals(ans, &quot;Yes&quot;)) {\r\n                break;\r\n            } else if (Objects.equals(ans, &quot;No&quot;)) {\r\n                getPressure(l, num, pres);\r\n            } else if(!(Objects.equals(ans, &quot;Yes&quot;) &amp;&amp; !(Objects.equals(ans, &quot;No&quot;)))) {\r\n                System.out.println(&quot;Sorry, invalid input, please type &#39;Yes&#39; or &#39;No&#39;&quot;);\r\n            }\r\n\r\n        } while (true);\r\n        return num;\r\n    }\r\n    public static void main(String[] args) {\r\n        //Declare variables\r\n        int sys = 0;\r\n        int dias = 0;\r\n        String systolic = &quot;Systolic&quot;;\r\n        String diastolic = &quot;Diastolic&quot;;\r\n        Scanner p = new Scanner(System.in);\r\n        getPressure(p, sys, systolic);\r\n        getPressure(p, dias, diastolic);\r\n    }\r\n}\r\n``` \r\n\r\nand here is the block that is automatically executing for some reason:\r\n\r\n``` \r\n else if(!(Objects.equals(ans, &quot;Yes&quot;) &amp;&amp; !(Objects.equals(ans, &quot;No&quot;)))) {\r\n                System.out.println(&quot;Sorry, invalid input, please type &#39;Yes&#39; or &#39;No&#39;&quot;);\r\n            }\r\n``` \r\n\r\nHere are some sample input/output scenarios with the output unquoted and the input in single quotes:\r\n\r\nExpected:\r\n\r\n**Please input Systolic Blood Pressure:**\r\n\r\n**&#39;120&#39;**\r\n\r\n**You typed 120, is that correct? (Yes/No)**\r\n\r\n**&#39;Yes&#39;**\r\n\r\n**Please input Diastolic Blood Pressure:**\r\n\r\n**&#39;90&#39;**\r\n\r\n**Process finished with exit code ...**\r\n\r\nActual:\r\n\r\n**Please input Systolic Blood Pressure:**\r\n\r\n**&#39;120&#39;**\r\n\r\n**You typed 120, is that correct? (Yes/No)**\r\n\r\n**&#39;Yes&#39;**\r\n\r\n**Sorry, invalid input please type &#39;Yes&#39; or &#39;No&#39;**\r\n\r\n**Please input Diastolic Blood Pressure:**\r\n\r\n**&#39;90&#39;**\r\n\r\n**Process finished with exit code ...**\r\n\r\nSome things I have tried (perhaps foolishly as I truly don&#39;t understand certain aspects of Java&#39;s Scanner Class&quot;\r\n\r\n-Adding l.next(); in various places (just infinitely returns &quot;Sorry, invalid input, please type &#39;Yes&#39; or &#39;No&#39;&quot;)\r\n\r\n-Using ans.equals (same as adding l.next())\r\n\r\n-Changing the if/else if/else statements in every way I can imagine (Only produces one of either outcome mentioned here)","title":"Why is my Java program automatically executing if statement?","body":"<p>I am currently writing a Java program as a class project (we're allowed notes and SO as a resource) to take an integer systolic and diastolic blood pressure input from a user, and return a corresponding diagnosis (&quot;Your blood pressure is in the range of pre-hypertension&quot;, etc.). I am only halfway done with the project, but I cannot for the life of me figure out why this block of code is automatically executing.</p>\n<p>Here's the whole code:</p>\n<pre><code>import java.util.InputMismatchException;\nimport java.util.Objects;\nimport java.util.Scanner;\n\npublic class Main {\n    //create method for getting blood pressure and handling exceptions\n    private static int getPressure (Scanner l, int num, String pres) {\n        //localize variables\n        l = new Scanner(System.in);\n        String ans;\n        //get user input only if it is an integer, otherwise return error message\n        //and get user input again\n        while (true) {\n            try {\n                System.out.println(&quot;Please input &quot; + pres + &quot; Blood Pressure:&quot;);\n                num = l.nextInt();\n                break;\n            } catch (InputMismatchException e) {\n                System.out.println(&quot;Sorry, that didn't work. Please ensure your input is a whole number.&quot;);\n                l.next();\n            }\n        }\n        //Verify user input is as intended, otherwise take input again\n        System.out.println(&quot;You typed &quot; + num + &quot;, is that correct? (Yes/No)&quot;);\n        //take input\n        ans = l.nextLine();\n        //if input does not match one of expected values (&quot;Yes&quot; and &quot;No&quot;)\n        //return error message and take input again\n        do {\n            if (Objects.equals(ans, &quot;Yes&quot;)) {\n                break;\n            } else if (Objects.equals(ans, &quot;No&quot;)) {\n                getPressure(l, num, pres);\n            } else if(!(Objects.equals(ans, &quot;Yes&quot;) &amp;&amp; !(Objects.equals(ans, &quot;No&quot;)))) {\n                System.out.println(&quot;Sorry, invalid input, please type 'Yes' or 'No'&quot;);\n            }\n\n        } while (true);\n        return num;\n    }\n    public static void main(String[] args) {\n        //Declare variables\n        int sys = 0;\n        int dias = 0;\n        String systolic = &quot;Systolic&quot;;\n        String diastolic = &quot;Diastolic&quot;;\n        Scanner p = new Scanner(System.in);\n        getPressure(p, sys, systolic);\n        getPressure(p, dias, diastolic);\n    }\n}\n</code></pre>\n<p>and here is the block that is automatically executing for some reason:</p>\n<pre><code> else if(!(Objects.equals(ans, &quot;Yes&quot;) &amp;&amp; !(Objects.equals(ans, &quot;No&quot;)))) {\n                System.out.println(&quot;Sorry, invalid input, please type 'Yes' or 'No'&quot;);\n            }\n</code></pre>\n<p>Here are some sample input/output scenarios with the output unquoted and the input in single quotes:</p>\n<p>Expected:</p>\n<p><strong>Please input Systolic Blood Pressure:</strong></p>\n<p><strong>'120'</strong></p>\n<p><strong>You typed 120, is that correct? (Yes/No)</strong></p>\n<p><strong>'Yes'</strong></p>\n<p><strong>Please input Diastolic Blood Pressure:</strong></p>\n<p><strong>'90'</strong></p>\n<p><strong>Process finished with exit code ...</strong></p>\n<p>Actual:</p>\n<p><strong>Please input Systolic Blood Pressure:</strong></p>\n<p><strong>'120'</strong></p>\n<p><strong>You typed 120, is that correct? (Yes/No)</strong></p>\n<p><strong>'Yes'</strong></p>\n<p><strong>Sorry, invalid input please type 'Yes' or 'No'</strong></p>\n<p><strong>Please input Diastolic Blood Pressure:</strong></p>\n<p><strong>'90'</strong></p>\n<p><strong>Process finished with exit code ...</strong></p>\n<p>Some things I have tried (perhaps foolishly as I truly don't understand certain aspects of Java's Scanner Class&quot;</p>\n<p>-Adding l.next(); in various places (just infinitely returns &quot;Sorry, invalid input, please type 'Yes' or 'No'&quot;)</p>\n<p>-Using ans.equals (same as adding l.next())</p>\n<p>-Changing the if/else if/else statements in every way I can imagine (Only produces one of either outcome mentioned here)</p>\n"},{"tags":["java","maven","dependencies","esapi"],"answers":[{"comments":[{"owner":{"account_id":3027973,"reputation":694,"user_id":2567546,"accept_rate":100,"display_name":"Dinesh M"},"score":1,"creation_date":1451923672,"post_id":34572533,"comment_id":56935526,"body_markdown":"Thanks Kevin its working now. I changed ESAPI.Logger=org.owasp.esapi.reference.JavaLogFactory","body":"Thanks Kevin its working now. I changed ESAPI.Logger=org.owasp.esapi.reference.JavaLogFactory"},{"owner":{"account_id":17265810,"reputation":579,"user_id":12502554,"display_name":"royka"},"score":2,"creation_date":1646321774,"post_id":34572533,"comment_id":126099003,"body_markdown":"This is no longer true. See @Carlo&#39;s answer.","body":"This is no longer true. See @Carlo&#39;s answer."}],"tags":[],"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"comment_count":2,"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1451785084,"creation_date":1451785084,"answer_id":34572533,"question_id":34295088,"body_markdown":"ESAPI does not support SLF4J, even though that in turn supports log4j. Your logging choices for ESAPI are either log4j or java.util.logging, controlled via the ESAPI.logger property in ESAPI.properties. If you decide to use log4j (i.e., ESAPI.Logger=org.owasp.esapi.reference.Log4JLogFactory), then you need the log4j.jar and either a log4j.xml or log4j.properties in your classpath, depending on which version of log4j you are using. Alternately, you can use java.util.logging by setting ESAPI.Logger=org.owasp.esapi.reference.JavaLogFactory in your ESAPI.properties file.\r\n\r\nI see you appear to be doing this for Wells Fargo. If you have further questions, look up &quot;Kevin W. Wall&quot; in Teamworks and send me an email as I am part of the Secure Code Review team there as well as project lead for ESAPI, so given more context, I may be able to suggest other possibilities.  \r\n\r\n-kevin","title":"ESAPI - Getting NoClassDefFoundError (LoggerFactory) with banned dependency","body":"<p>ESAPI does not support SLF4J, even though that in turn supports log4j. Your logging choices for ESAPI are either log4j or java.util.logging, controlled via the ESAPI.logger property in ESAPI.properties. If you decide to use log4j (i.e., ESAPI.Logger=org.owasp.esapi.reference.Log4JLogFactory), then you need the log4j.jar and either a log4j.xml or log4j.properties in your classpath, depending on which version of log4j you are using. Alternately, you can use java.util.logging by setting ESAPI.Logger=org.owasp.esapi.reference.JavaLogFactory in your ESAPI.properties file.</p>\n\n<p>I see you appear to be doing this for Wells Fargo. If you have further questions, look up \"Kevin W. Wall\" in Teamworks and send me an email as I am part of the Secure Code Review team there as well as project lead for ESAPI, so given more context, I may be able to suggest other possibilities.  </p>\n\n<p>-kevin</p>\n"},{"tags":[],"owner":{"account_id":1044767,"reputation":1686,"user_id":1050015,"accept_rate":100,"display_name":"Carlo"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1581321385,"creation_date":1581321385,"answer_id":60146194,"question_id":34295088,"body_markdown":"Just an update: the support for SLF4J has been added, so if you are using ESAPI version 2.2.0.0 you may use it by setting the `ESAPI.Logger` property to the value `org.owasp.esapi.logging.slf4j.Slf4JLogFactory`","title":"ESAPI - Getting NoClassDefFoundError (LoggerFactory) with banned dependency","body":"<p>Just an update: the support for SLF4J has been added, so if you are using ESAPI version 2.2.0.0 you may use it by setting the <code>ESAPI.Logger</code> property to the value <code>org.owasp.esapi.logging.slf4j.Slf4JLogFactory</code></p>\n"},{"comments":[{"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"score":0,"creation_date":1631893786,"post_id":64070973,"comment_id":122355279,"body_markdown":"It helped, although in my case we&#39;re using Log4j2, and I had to use `org.owasp.esapi.logging.log4j.Log4JLogFactory` which was moved to this package from `org.owasp.esapi.reference.Log4JLogFactory`.","body":"It helped, although in my case we&#39;re using Log4j2, and I had to use <code>org.owasp.esapi.logging.log4j.Log4JLogFactory</code> which was moved to this package from <code>org.owasp.esapi.reference.Log4JLogFactory</code>."}],"tags":[],"owner":{"account_id":1548204,"reputation":1114,"user_id":1441210,"display_name":"andre"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1601065702,"creation_date":1601065702,"answer_id":64070973,"question_id":34295088,"body_markdown":"I upgraded to the latest version `2.2.1.1` and I needed to add two additional properties (in addition to the one that @Carlo pointed out) in `ESAPI.properties`:\r\n```\r\nESAPI.Logger=org.owasp.esapi.logging.slf4j.Slf4JLogFactory\r\nLogger.UserInfo=false\r\nLogger.ClientInfo=false\r\n```","title":"ESAPI - Getting NoClassDefFoundError (LoggerFactory) with banned dependency","body":"<p>I upgraded to the latest version <code>2.2.1.1</code> and I needed to add two additional properties (in addition to the one that @Carlo pointed out) in <code>ESAPI.properties</code>:</p>\n<pre><code>ESAPI.Logger=org.owasp.esapi.logging.slf4j.Slf4JLogFactory\nLogger.UserInfo=false\nLogger.ClientInfo=false\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9603898,"reputation":396,"user_id":7130482,"display_name":"Einstein_AB"},"score":0,"creation_date":1653473537,"post_id":66499461,"comment_id":127859318,"body_markdown":"If you have a some reference on how can I integrate a simple springboot with esapi, I would really appreciate the help. I am kind of lost in somewhere","body":"If you have a some reference on how can I integrate a simple springboot with esapi, I would really appreciate the help. I am kind of lost in somewhere"},{"owner":{"account_id":20506725,"reputation":109,"user_id":15049342,"display_name":"MonishGhutke"},"score":0,"creation_date":1653566354,"post_id":66499461,"comment_id":127885489,"body_markdown":"will give some pointers in a day.","body":"will give some pointers in a day."}],"tags":[],"owner":{"account_id":20506725,"reputation":109,"user_id":15049342,"display_name":"MonishGhutke"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1614977353,"creation_date":1614977353,"answer_id":66499461,"question_id":34295088,"body_markdown":"If your SpringBoot project does not have ESAPI.properties, then add file with name ESAPI.properties in src/main/resource folder and add following lines to it.\r\n\r\n    ESAPI.Logger=org.owasp.esapi.logging.slf4j.Slf4JLogFactory\r\n    ESAPI.LogEncodingRequired=false\r\n\r\nAlso check maven referenced libraries and check version of esapi, it should be esapi-2.2.0.0 or esapi-2.2.1.1(basically you should be using these esapi versions)\r\n\r\nNote: You can add more properties based on errors you get when you run your application.\r\n\r\n    ","title":"ESAPI - Getting NoClassDefFoundError (LoggerFactory) with banned dependency","body":"<p>If your SpringBoot project does not have ESAPI.properties, then add file with name ESAPI.properties in src/main/resource folder and add following lines to it.</p>\n<pre><code>ESAPI.Logger=org.owasp.esapi.logging.slf4j.Slf4JLogFactory\nESAPI.LogEncodingRequired=false\n</code></pre>\n<p>Also check maven referenced libraries and check version of esapi, it should be esapi-2.2.0.0 or esapi-2.2.1.1(basically you should be using these esapi versions)</p>\n<p>Note: You can add more properties based on errors you get when you run your application.</p>\n"}],"owner":{"account_id":3027973,"reputation":694,"user_id":2567546,"accept_rate":100,"display_name":"Dinesh M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33375,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":34572533,"answer_count":4,"score":12,"last_activity_date":1681509428,"creation_date":1450198734,"question_id":34295088,"body_markdown":"I am using [tag:ESPAI]ESAPI to encode string value to resolve cross site scripting issue as shown below (code snippet).\r\n\r\n    String encodedString = ESAPI.encoder().encodeForHTML(value);\r\n\r\n**Exception Trace** \r\n\r\n    org.owasp.esapi.errors.ConfigurationException: java.lang.reflect.InvocationTargetException Encoder class (org.owasp.esapi.reference.DefaultEncoder) CTOR threw exception.\r\n    \tat org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:129)\r\n    \tat org.owasp.esapi.ESAPI.encoder(ESAPI.java:99)\r\n    &lt;bold&gt;Caused by: java.lang.NoClassDefFoundError: org/apache/log4j/spi/LoggerFactory&lt;/bold&gt;\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:190)\r\n    \tat org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:74)\r\n    \tat org.owasp.esapi.ESAPI.logFactory(ESAPI.java:137)\r\n    \tat org.owasp.esapi.ESAPI.getLogger(ESAPI.java:154)\r\n    \tat org.owasp.esapi.reference.DefaultEncoder.&lt;init&gt;(DefaultEncoder.java:75)\r\n    \tat org.owasp.esapi.reference.DefaultEncoder.getInstance(DefaultEncoder.java:59)\r\n    \t... 71 more\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.log4j.spi.LoggerFactory\r\n    \tat weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:297)\r\n    \tat weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:270)\r\n    \tat weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:64)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n\r\nMaven repository **pom.xml**\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.owasp.esapi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;esapi&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${org.owasp.esapi.version}&lt;/version&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;xercesImpl&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-digester&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-digester&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;org.owasp.antisamy&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;antisamy&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t&lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nIf I don&#39;t exclude **log4j** then it will throw dependency convergence error because **log4j** is declared in maven banned dependency as shown below\r\n\r\n    &lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;enforce&lt;/id&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;rules&gt;\r\n\t\t\t\t\t&lt;requireJavaVersion&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${java.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/requireJavaVersion&gt;\r\n\t\t\t\t\t&lt;requireMavenVersion&gt;\r\n\t\t\t\t\t\t&lt;version&gt;3.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;/requireMavenVersion&gt;\r\n\t\t\t\t\t&lt;DependencyConvergence /&gt;\r\n\t\t\t\t\t&lt;bannedDependencies&gt;\r\n\t\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t\t&lt;!-- This should not exist as it will force SLF4J calls to be \r\n\t\t\t\t\t\t\t\tdelegated to log4j --&gt;\r\n\t\t\t\t\t\t\t&lt;exclude&gt;org.slf4j:slf4j-log4j12&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t&lt;!-- This should not exist as it will force SLF4J calls to be \r\n\t\t\t\t\t\t\t\tdelegated to jul --&gt;\r\n\t\t\t\t\t\t\t&lt;exclude&gt;org.slf4j:slf4j-jdk14&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t&lt;!-- Ensure only the slf4j binding for logback is on the classpath --&gt;\r\n\t\t\t\t\t\t\t&lt;exclude&gt;log4j:log4j&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t&lt;!-- As recommended from the slf4j guide, exclude commons-logging --&gt;\r\n\t\t\t\t\t\t\t&lt;exclude&gt;commons-logging:commons-logging&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;/excludes&gt;\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t&lt;/bannedDependencies&gt;\r\n\t\t\t\t&lt;/rules&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;enforce&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n\r\nHelp in this regard would be appreciated. Please let me know if you need any more details. Thanks in advance!\r\n\r\n\r\n\r\n","title":"ESAPI - Getting NoClassDefFoundError (LoggerFactory) with banned dependency","body":"<p>I am using <a href=\"/questions/tagged/espai\" class=\"post-tag\" title=\"show questions tagged &#39;espai&#39;\" rel=\"tag\">espai</a>ESAPI to encode string value to resolve cross site scripting issue as shown below (code snippet).</p>\n\n<pre><code>String encodedString = ESAPI.encoder().encodeForHTML(value);\n</code></pre>\n\n<p><strong>Exception Trace</strong> </p>\n\n<pre><code>org.owasp.esapi.errors.ConfigurationException: java.lang.reflect.InvocationTargetException Encoder class (org.owasp.esapi.reference.DefaultEncoder) CTOR threw exception.\n    at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:129)\n    at org.owasp.esapi.ESAPI.encoder(ESAPI.java:99)\n&lt;bold&gt;Caused by: java.lang.NoClassDefFoundError: org/apache/log4j/spi/LoggerFactory&lt;/bold&gt;\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:190)\n    at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:74)\n    at org.owasp.esapi.ESAPI.logFactory(ESAPI.java:137)\n    at org.owasp.esapi.ESAPI.getLogger(ESAPI.java:154)\n    at org.owasp.esapi.reference.DefaultEncoder.&lt;init&gt;(DefaultEncoder.java:75)\n    at org.owasp.esapi.reference.DefaultEncoder.getInstance(DefaultEncoder.java:59)\n    ... 71 more\nCaused by: java.lang.ClassNotFoundException: org.apache.log4j.spi.LoggerFactory\n    at weblogic.utils.classloaders.GenericClassLoader.findLocalClass(GenericClassLoader.java:297)\n    at weblogic.utils.classloaders.GenericClassLoader.findClass(GenericClassLoader.java:270)\n    at weblogic.utils.classloaders.ChangeAwareClassLoader.findClass(ChangeAwareClassLoader.java:64)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n</code></pre>\n\n<p>Maven repository <strong>pom.xml</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.owasp.esapi&lt;/groupId&gt;\n    &lt;artifactId&gt;esapi&lt;/artifactId&gt;\n    &lt;version&gt;${org.owasp.esapi.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;xercesImpl&lt;/groupId&gt;\n            &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n            &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;commons-digester&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-digester&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.owasp.antisamy&lt;/groupId&gt;\n            &lt;artifactId&gt;antisamy&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>If I don't exclude <strong>log4j</strong> then it will throw dependency convergence error because <strong>log4j</strong> is declared in maven banned dependency as shown below</p>\n\n<pre><code>&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;enforce&lt;/id&gt;\n        &lt;configuration&gt;\n            &lt;rules&gt;\n                &lt;requireJavaVersion&gt;\n                    &lt;version&gt;${java.version}&lt;/version&gt;\n                &lt;/requireJavaVersion&gt;\n                &lt;requireMavenVersion&gt;\n                    &lt;version&gt;3.0&lt;/version&gt;\n                &lt;/requireMavenVersion&gt;\n                &lt;DependencyConvergence /&gt;\n                &lt;bannedDependencies&gt;\n                    &lt;excludes&gt;\n                        &lt;!-- This should not exist as it will force SLF4J calls to be \n                            delegated to log4j --&gt;\n                        &lt;exclude&gt;org.slf4j:slf4j-log4j12&lt;/exclude&gt;\n                        &lt;!-- This should not exist as it will force SLF4J calls to be \n                            delegated to jul --&gt;\n                        &lt;exclude&gt;org.slf4j:slf4j-jdk14&lt;/exclude&gt;\n                        &lt;!-- Ensure only the slf4j binding for logback is on the classpath --&gt;\n                        &lt;exclude&gt;log4j:log4j&lt;/exclude&gt;\n                        &lt;!-- As recommended from the slf4j guide, exclude commons-logging --&gt;\n                        &lt;exclude&gt;commons-logging:commons-logging&lt;/exclude&gt;\n                    &lt;/excludes&gt;                                     \n                &lt;/bannedDependencies&gt;\n            &lt;/rules&gt;\n        &lt;/configuration&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;enforce&lt;/goal&gt;\n        &lt;/goals&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n</code></pre>\n\n<p>Help in this regard would be appreciated. Please let me know if you need any more details. Thanks in advance!</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1681511587,"post_id":76019048,"comment_id":134073974,"body_markdown":"Please avoid linking to code on external sites, especially if it could change at any time, like the branch head of a GitHub project. It’s also hard to figure out which of the 990 lines of code you’re referring to. It’s much better to copy the example into the question text.","body":"Please avoid linking to code on external sites, especially if it could change at any time, like the branch head of a GitHub project. It’s also hard to figure out which of the 990 lines of code you’re referring to. It’s much better to copy the example into the question text."},{"owner":{"account_id":19156344,"reputation":47,"user_id":13993098,"display_name":"TravelKidKurty"},"score":0,"creation_date":1681513145,"post_id":76019048,"comment_id":134074143,"body_markdown":"@TimMoore thanks, I will keep that in mind! I only linked the entire code this time as I wasnt sure if I maybe left an important part out of it in my code that could have been causing the issue","body":"@TimMoore thanks, I will keep that in mind! I only linked the entire code this time as I wasnt sure if I maybe left an important part out of it in my code that could have been causing the issue"}],"answers":[{"comments":[{"owner":{"account_id":19156344,"reputation":47,"user_id":13993098,"display_name":"TravelKidKurty"},"score":0,"creation_date":1681510616,"post_id":76019224,"comment_id":134073842,"body_markdown":"Wow, such an easy fix. Thanks a lot, I spent a lot of time trying to fix this, scouring through my code and the templates code. I dont understand why the templates code was fully functional, even though it seems just as recursive to me","body":"Wow, such an easy fix. Thanks a lot, I spent a lot of time trying to fix this, scouring through my code and the templates code. I dont understand why the templates code was fully functional, even though it seems just as recursive to me"},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1681510814,"post_id":76019224,"comment_id":134073871,"body_markdown":"Which templates code are you refering to?","body":"Which templates code are you refering to?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1681511986,"post_id":76019224,"comment_id":134074011,"body_markdown":"In that example, the constructor `CustomSwap(String option, String target)` calls `this(option, target, null, null)`. Notice that it is a constructor with two arguments calling a constructor with four arguments, so this is not recursive. The four argument version of the constructor doesn’t appear in the code, because it is generated by the `@RequiredArgsConstructor` Lombok annotation.","body":"In that example, the constructor <code>CustomSwap(String option, String target)</code> calls <code>this(option, target, null, null)</code>. Notice that it is a constructor with two arguments calling a constructor with four arguments, so this is not recursive. The four argument version of the constructor doesn’t appear in the code, because it is generated by the <code>@RequiredArgsConstructor</code> Lombok annotation."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1681512110,"post_id":76019224,"comment_id":134074023,"body_markdown":"As a beginner, I would recommend _not_ using Lombok. It can make it harder to understand what’s going on. Lombok is better as a shortcut for developers who are already proficient with Java IMHO.","body":"As a beginner, I would recommend <i>not</i> using Lombok. It can make it harder to understand what’s going on. Lombok is better as a shortcut for developers who are already proficient with Java IMHO."},{"owner":{"account_id":19156344,"reputation":47,"user_id":13993098,"display_name":"TravelKidKurty"},"score":0,"creation_date":1681513036,"post_id":76019224,"comment_id":134074128,"body_markdown":"@TimMoore thanks! I wondered why there were 4 arguments in their code, I didnt quite understand it. I tried also passing an extra null argument in my code, but that did not solve it haha. Im not familiar with Lombok yet, so I will take your advice and continue to not use it!","body":"@TimMoore thanks! I wondered why there were 4 arguments in their code, I didnt quite understand it. I tried also passing an extra null argument in my code, but that did not solve it haha. Im not familiar with Lombok yet, so I will take your advice and continue to not use it!"},{"owner":{"account_id":19156344,"reputation":47,"user_id":13993098,"display_name":"TravelKidKurty"},"score":0,"creation_date":1681513064,"post_id":76019224,"comment_id":134074134,"body_markdown":"@jon-hanson theres a link in the OP","body":"@jon-hanson theres a link in the OP"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1681513858,"post_id":76019224,"comment_id":134074206,"body_markdown":"@TravelKidKurty the `@Getter`, `@ToString`, and `@EqualsAndHashCode` annotations that appear in your code are all from Lombok. It is a tool that automatically generates constructor and method implementations for a class based on the fields it declares. When starting out, it’s better to write them out in full to understand how they work.","body":"@TravelKidKurty the <code>@Getter</code>, <code>@ToString</code>, and <code>@EqualsAndHashCode</code> annotations that appear in your code are all from Lombok. It is a tool that automatically generates constructor and method implementations for a class based on the fields it declares. When starting out, it’s better to write them out in full to understand how they work."}],"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681509375,"creation_date":1681509375,"answer_id":76019224,"question_id":76019048,"body_markdown":"The constructor is calling itself:\r\n\r\n        //recursive error comes from here\r\n        Tags(String tag, String value)  \r\n        {\r\n            this(tag, value);\r\n        }\r\n\r\nIf the compiler allowed this the constructor would enter an infinite loop when called.\r\n\r\nRewrite it to simply initialise the two fields from the given arguments, like this:\r\n\r\n        Tags(String tag, String value)  \r\n        {\r\n            this.tag = tag;\r\n            this.value = value;\r\n        }\r\n","title":"Recursive Constructor Invocation in Class","body":"<p>The constructor is calling itself:</p>\n<pre><code>    //recursive error comes from here\n    Tags(String tag, String value)  \n    {\n        this(tag, value);\n    }\n</code></pre>\n<p>If the compiler allowed this the constructor would enter an infinite loop when called.</p>\n<p>Rewrite it to simply initialise the two fields from the given arguments, like this:</p>\n<pre><code>    Tags(String tag, String value)  \n    {\n        this.tag = tag;\n        this.value = value;\n    }\n</code></pre>\n"}],"owner":{"account_id":19156344,"reputation":47,"user_id":13993098,"display_name":"TravelKidKurty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76019224,"answer_count":1,"score":0,"last_activity_date":1681509375,"creation_date":1681507490,"question_id":76019048,"body_markdown":"```\r\n    final List&lt;Tags&gt; tags = new ArrayList&lt;&gt;();\r\n\r\n    public void startUp() {\r\n        //load tags from Config text box\r\n        reloadTags();\r\n    }\r\n\r\n    @Getter\r\n    @ToString\r\n    @EqualsAndHashCode\r\n    static class Tags  \r\n    {\r\n        private final String tag;\r\n        private final String value;\r\n\r\n        //recursive error comes from here\r\n        Tags(String tag, String value)  \r\n        {\r\n            this(tag, value);\r\n        }\r\n    }\r\n\r\n   //detect change in Config textbox, update tags\r\n    @Subscribe\r\n    public void onConfigChanged(ConfigChanged configChanged) {\r\n        if (configChanged.getGroup().equals(&quot;calculatorpro&quot;)) {\r\n            reloadTags();\r\n        }\r\n    }\r\n\r\n    //clear current Tags list &amp; update with new tags from Config Text box\r\n    private void reloadTags()\r\n    {\r\n        tags.clear();\r\n        tags.addAll(loadTags(config.customTags()));\r\n    }\r\n\r\n    //load tags from Config text box\r\n    private Collection&lt;? extends Tags&gt; loadTags(String textbox)\r\n    {\r\n        List&lt;Tags&gt; swaps = new ArrayList&lt;&gt;();\r\n        for (String line : textbox.split(&quot;\\n&quot;))\r\n        {\r\n            if (line.trim().equals(&quot;&quot;)) continue;\r\n            String[] split = line.split(&quot;=&quot;);\r\n            swaps.add(new Tags(\r\n                    split[0].toLowerCase().trim(),\r\n                    split.length &gt; 1 ? split[1].toLowerCase().trim() : &quot;&quot;\r\n            ));\r\n        }\r\n        return swaps;\r\n    }\r\n```\r\nI get the error: &quot;java: recursive constructor invocation&quot; from my &quot;static class Tags&quot; class.\r\n\r\nIm trying to make a list of tag name and value, which I get from a user textbox (config.customTags()). They will be input as a string, in the form of tag=value (oak=255). When a change is detected in the textbox, the old list is cleared, and a new list is created with the new contents of the textbox (done in the function loadTags). \r\n\r\nThe code is actually off another file created by someone else that works, I just took the parts of it that suit my purpose, but the actual contents are the same but with altered names, so Im not sure why theirs works and is not recursive, but mine does not work and is recursive? [Here][1] is a link to their code (there is a lot of extra functionality in their code that I do not use in mine). \r\n\r\nIm a beginner programmer (this is my first java program!), so any information that anyone can provide would be great! (also I apologize if Ive left out any pertinent information, I tried to only share what is related with the error)\r\n\r\n\r\n  [1]: https://github.com/geheur/More-menu-entry-swaps/blob/master/src/main/java/com/hotkeyablemenuswaps/HotkeyableMenuSwapsPlugin.java","title":"Recursive Constructor Invocation in Class","body":"<pre><code>    final List&lt;Tags&gt; tags = new ArrayList&lt;&gt;();\n\n    public void startUp() {\n        //load tags from Config text box\n        reloadTags();\n    }\n\n    @Getter\n    @ToString\n    @EqualsAndHashCode\n    static class Tags  \n    {\n        private final String tag;\n        private final String value;\n\n        //recursive error comes from here\n        Tags(String tag, String value)  \n        {\n            this(tag, value);\n        }\n    }\n\n   //detect change in Config textbox, update tags\n    @Subscribe\n    public void onConfigChanged(ConfigChanged configChanged) {\n        if (configChanged.getGroup().equals(&quot;calculatorpro&quot;)) {\n            reloadTags();\n        }\n    }\n\n    //clear current Tags list &amp; update with new tags from Config Text box\n    private void reloadTags()\n    {\n        tags.clear();\n        tags.addAll(loadTags(config.customTags()));\n    }\n\n    //load tags from Config text box\n    private Collection&lt;? extends Tags&gt; loadTags(String textbox)\n    {\n        List&lt;Tags&gt; swaps = new ArrayList&lt;&gt;();\n        for (String line : textbox.split(&quot;\\n&quot;))\n        {\n            if (line.trim().equals(&quot;&quot;)) continue;\n            String[] split = line.split(&quot;=&quot;);\n            swaps.add(new Tags(\n                    split[0].toLowerCase().trim(),\n                    split.length &gt; 1 ? split[1].toLowerCase().trim() : &quot;&quot;\n            ));\n        }\n        return swaps;\n    }\n</code></pre>\n<p>I get the error: &quot;java: recursive constructor invocation&quot; from my &quot;static class Tags&quot; class.</p>\n<p>Im trying to make a list of tag name and value, which I get from a user textbox (config.customTags()). They will be input as a string, in the form of tag=value (oak=255). When a change is detected in the textbox, the old list is cleared, and a new list is created with the new contents of the textbox (done in the function loadTags).</p>\n<p>The code is actually off another file created by someone else that works, I just took the parts of it that suit my purpose, but the actual contents are the same but with altered names, so Im not sure why theirs works and is not recursive, but mine does not work and is recursive? <a href=\"https://github.com/geheur/More-menu-entry-swaps/blob/master/src/main/java/com/hotkeyablemenuswaps/HotkeyableMenuSwapsPlugin.java\" rel=\"nofollow noreferrer\">Here</a> is a link to their code (there is a lot of extra functionality in their code that I do not use in mine).</p>\n<p>Im a beginner programmer (this is my first java program!), so any information that anyone can provide would be great! (also I apologize if Ive left out any pertinent information, I tried to only share what is related with the error)</p>\n"},{"tags":["java","pcap","jnetpcap"],"answers":[{"tags":[],"owner":{"account_id":3212773,"reputation":36,"user_id":2712365,"display_name":"Mark Bednarczyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681508667,"creation_date":1681508667,"answer_id":76019160,"question_id":75843247,"body_markdown":"A couple of suggestions. Try checking for error codes returned from your two pcap.loop() calls:\r\n\r\n    System.out.println(&quot;Loop1 should start now :&quot;);\r\n        new Thread(() -&gt; {\r\n            int result = pcap.loop(Pcap.LOOP_INFINITE, port1, &quot;pcap1&quot;);\r\n            if (result &lt; 0) \r\n            \tSystem.out.println(pcap.getErr());\r\n            \t\r\n        }).start();\r\n    System.out.println(&quot;Loop2 should start now :&quot;);\r\n        int result = pcap2.loop(Pcap.LOOP_INFINITE, port2,&quot;pcap2&quot;);\r\n        if (result &lt; 0) \r\n        \tSystem.out.println(pcap.getErr());\r\n\r\n\r\nSecond, if possible, please migrate to [jNetpcap v2][1]. It has full support going forward and works well currently. It requires a minimum of JDK19 however because of its use of Foreign Function feature which is still in preview in JDK19/20.\r\n\r\n\r\n  [1]: https://github.com/slytechs-repos/jnetpcap","title":"Java Pcap loop not starting","body":"<p>A couple of suggestions. Try checking for error codes returned from your two pcap.loop() calls:</p>\n<pre><code>System.out.println(&quot;Loop1 should start now :&quot;);\n    new Thread(() -&gt; {\n        int result = pcap.loop(Pcap.LOOP_INFINITE, port1, &quot;pcap1&quot;);\n        if (result &lt; 0) \n            System.out.println(pcap.getErr());\n            \n    }).start();\nSystem.out.println(&quot;Loop2 should start now :&quot;);\n    int result = pcap2.loop(Pcap.LOOP_INFINITE, port2,&quot;pcap2&quot;);\n    if (result &lt; 0) \n        System.out.println(pcap.getErr());\n</code></pre>\n<p>Second, if possible, please migrate to <a href=\"https://github.com/slytechs-repos/jnetpcap\" rel=\"nofollow noreferrer\">jNetpcap v2</a>. It has full support going forward and works well currently. It requires a minimum of JDK19 however because of its use of Foreign Function feature which is still in preview in JDK19/20.</p>\n"}],"owner":{"account_id":27651042,"reputation":1,"user_id":21105949,"display_name":"TeemoPerson534"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681508667,"creation_date":1679763699,"question_id":75843247,"body_markdown":"I using jnetpcap library for listening to network traffic, and basically using the PcapPacketHandlers for listening to packets, after initializing them I start a pcap.loop() method so it will start listening.\r\nHowever about 50% of the time when I run my program the loops will not start and the program just gets stuck, no errors, no exceptions nothing. I only get 1 prinout and nothing more, this printout: loop1DEVICES CHOSEN: \\Device\\NPF_{0A6670EB-FED6-4AD0-9EE6-1F9BA35A75A5},\\Device\\NPF_{E0FB8017-9FFB-4489-A894-8D256394087C}\r\nIP: [removed]\r\nTHS SHOULD BE IT : 192.168.1.2\r\nIP: [removed]\r\nTHS SHOULD BE IT : 147.66.12.4\r\nstart ...\r\nReal start\r\nLoop1 should start now :\r\nLoop2 should start now :\r\n\r\nThis is the code:\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport org.jnetpcap.Pcap;\r\nimport org.jnetpcap.PcapBpfProgram;\r\nimport org.jnetpcap.PcapDumper;\r\nimport org.jnetpcap.PcapIf;\r\nimport org.jnetpcap.nio.JBuffer;\r\nimport org.jnetpcap.packet.PcapPacket;\r\nimport org.jnetpcap.packet.PcapPacketHandler;\r\nimport org.jnetpcap.protocol.network.Ip4;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.awt.desktop.AppEvent;\r\nimport java.io.IOException;\r\nimport java.net.*;\r\nimport java.util.*;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class Switch extends Application\r\n{\r\n    private int pcn1=0;\r\n    private int pcn2=0;\r\n    private int counter =0;\r\n    private Map&lt;String, ScheduledExecutorService&gt; pingThreads;\r\n    public static ArrayList&lt;String&gt; devices;\r\n    private final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n    PcapPacketHashTable packetTable = PcapPacketHashTable.getInstance();\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        //GUI SETUP\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;GUI.fxml&quot;));\r\n        Parent root = loader.load();\r\n        primaryStage.setTitle(&quot;Network Traffic&quot;);\r\n        primaryStage.setScene(new Scene(root, 835, 1000));\r\n        primaryStage.show();\r\n\r\n\r\n        //Switch setup\r\n        SwitchMacTable macT= SwitchMacTable.getInstance();\r\n        Port p1= new Port(null,null,&quot;Fa0/&quot;,null,null,macT);\r\n        Port p2= new Port(null,null,&quot;Fa0/&quot;,null,null,macT);\r\n        Packet statisticsInPort1 = new Packet();\r\n        Packet statisticsOutPort1 = new Packet();\r\n        Packet statisticsInPort2 = new Packet();\r\n        Packet statisticsOutPort2 = new Packet();\r\n        p1.setIn(statisticsInPort1);\r\n        p1.setOut(statisticsOutPort2);\r\n        p2.setIn(statisticsInPort2);\r\n        p2.setOut(statisticsOutPort1);\r\n        // packet sniffer\r\n        int snaplen = 64 * 1024;\r\n        int flags = Pcap.MODE_PROMISCUOUS;\r\n        int timeout = 1000;           // 10ms\r\n        int opt = 0;\r\n        int mask = 0xffffff00;\r\n\r\n\r\n        //start GUI\r\n        GUI gui= loader.getController();\r\n        gui.initialize(p1,p2);\r\n\r\n        devices = new ArrayList&lt;String&gt;();\r\n\r\n\r\n\r\n        List devicelist = new ArrayList();\r\n        List&lt;PcapIf&gt; tempdevices = new ArrayList&lt;PcapIf&gt;();\r\n\r\n        StringBuilder errbuf = new StringBuilder();\r\n        String err = &quot;&quot;;\r\n\r\n        //nacitanie sietovych zariadeni\r\n        int foundd = Pcap.findAllDevs(devicelist, errbuf);\r\n\r\n        if (foundd != Pcap.OK) {\r\n            System.err.printf(&quot;Can&#39;t read list of devices, error is %s&quot;, errbuf.toString());\r\n\r\n            return;\r\n        }\r\n\r\n        for (Object dev : devicelist) {\r\n            tempdevices.add((PcapIf) dev);\r\n            devices.add(dev.toString());\r\n        }\r\n\r\n        System.out.println(tempdevices.size() + &quot; network devices found:&quot;);\r\n\r\n\r\n        int i = 0;\r\n        ArrayList&lt;String&gt; dvar = new ArrayList&lt;&gt;();\r\n        for (PcapIf device : tempdevices) {\r\n            String description = (device.getDescription() != null) ? device.getDescription() : &quot;No description available&quot;;\r\n\r\n            dvar.add(description);\r\n\r\n\r\n\r\n        }\r\n\r\n        gui.addCombos(dvar);\r\n\r\n        new Thread(() -&gt; {\r\n            while (true) {\r\n                int iiii = 1;\r\n                   int b=5;\r\n                   int yt=iiii+b;\r\n               System.out.print(&quot;smp&quot;);\r\n                    try {\r\n\r\n\r\n\r\n                        while(p1.getStop()==0) {\r\n                           System.out.print(&quot;loop2&quot;);\r\n\r\n                            while (p1.getStart() == 0) {\r\n                                //waiting for adapter choice.\r\n                                int ii = 1;int bbb=5;\r\n                                int yttt=iiii+bbb;\r\n                              System.out.print(&quot;loop1&quot;);\r\n                            }\r\n\r\n                            PcapIf device = tempdevices.get(gui.getAdapterC1());\r\n                            Thread.sleep(1000);\r\n\r\n                            PcapIf device2 = tempdevices.get(gui.getAdapterC2());\r\n                            Thread.sleep(1000);\r\n                            byte[] ar = device.getHardwareAddress();\r\n                            byte[] ar2 = device2.getHardwareAddress();\r\n                            Packet np = new Packet();\r\n                            String devname1 = device.getName();\r\n                            String devname2 = device2.getName();\r\n                            System.out.println(&quot;DEVICES CHOSEN: &quot; + devname1 + &quot;,&quot; + devname2);\r\n                            InetAddress adaIp1=null;\r\n                            InetAddress adaIp2=null;\r\n\r\n                            if (ar != null) {\r\n\r\n                                System.out.println(&quot;IP: &quot;+device.getAddresses().get(0).getAddr());\r\n                                byte[] adapip = device.getAddresses().get(0).getAddr().getData();\r\n                                try {\r\n                                    adaIp1 = InetAddress.getByAddress(adapip);\r\n                                    System.out.println(&quot;THS SHOULD BE IT : &quot;+ adaIp1.getHostAddress());\r\n\r\n                                } catch (UnknownHostException e) {\r\n                                    e.printStackTrace();\r\n                                    System.exit(0);\r\n                                }\r\n\r\n\r\n                            }\r\n                            if (ar2 != null) {\r\n\r\n                                System.out.println(&quot;IP: &quot;+device2.getAddresses().get(0).getAddr());\r\n                                byte[] adapip = device2.getAddresses().get(0).getAddr().getData();\r\n                                try {\r\n                                    adaIp2 = InetAddress.getByAddress(adapip);\r\n                                    System.out.println(&quot;THS SHOULD BE IT : &quot;+ adaIp2.getHostAddress());\r\n\r\n                                } catch (UnknownHostException e) {\r\n                                    e.printStackTrace();\r\n                                    System.exit(0);\r\n                                }\r\n\r\n                            }\r\n\r\n\r\n                            //Open the selected device to capture packets\r\n                            Pcap pcap = Pcap.openLive(device.getName(), snaplen, flags, timeout, errbuf);\r\n                            Thread.sleep(1000);\r\n                            Pcap pcap2 = Pcap.openLive(device2.getName(), snaplen, flags, timeout, errbuf);\r\n                            Thread.sleep(1000);\r\n                            if (pcap == null || pcap2 == null) {\r\n                                if (pcap == null) {\r\n                                    System.err.printf(&quot;Error  while opening device for capture: &quot; + errbuf.toString());\r\n                                } else {\r\n                                    System.err.printf(&quot;Error while opening device for capture: &quot; + errbuf.toString());\r\n                                }\r\n                                return;\r\n                            }\r\n\r\n                            PcapBpfProgram program = new PcapBpfProgram();\r\n                            String filter = &quot;ether proto \\\\ip or arp or udp or tcp or icmp or (tcp port 80) or (tcp port 443)&quot;;\r\n\r\n                            if (pcap.compile(program, filter, opt, mask) != Pcap.OK) {\r\n                                System.out.println(pcap.getErr());\r\n                                return;\r\n                            }\r\n\r\n                            if (pcap.setFilter(program) != Pcap.OK) {\r\n                                System.out.println(pcap.getErr());\r\n                                return;\r\n                            }\r\n                            if (pcap2.compile(program, filter, opt, mask) != Pcap.OK) {\r\n                                System.out.println(pcap2.getErr());\r\n                                return;\r\n                            }\r\n\r\n                            if (pcap2.setFilter(program) != Pcap.OK) {\r\n                                System.out.println(pcap2.getErr());\r\n                                return;\r\n                            }\r\n\r\n                            System.out.println(&quot;start ...&quot;);\r\n\r\n                            p1.setInterfaceName(devname1);\r\n                            p2.setInterfaceName(devname2);\r\n                            p1.setPcap(pcap);\r\n                            p2.setPcap(pcap2);\r\n                            PingThread pt1 = new PingThread(null,adaIp1,macT,null);\r\n                            PingThread pt2 = new PingThread(null,adaIp2,macT,null);\r\n                            byte[] adapterMacAddress = device.getHardwareAddress();\r\n                            byte[] adapter2MacAddress = device2.getHardwareAddress();\r\n                            System.out.println(&quot;Real start&quot;);\r\n\r\n                            // LOOP    1 1 1 1 1  LOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOP\r\n\r\n                            PcapPacketHandler&lt;String&gt; port1 = (packet, user) -&gt; {\r\n                                System.out.println(&quot;PICSA&quot;);\r\n                                if (1 == 1) {\r\n\r\n                                    if((Arrays.equals(packet.getByteArray(6, 6), adapterMacAddress)) || (Arrays.equals(packet.getByteArray(6, 6), adapter2MacAddress)))\r\n                                    {\r\n                                        System.out.println(&quot;ret1 + &quot; + p1.getIn().bytesToHexString(packet.getByteArray(0, 6)));\r\n                                        return ;\r\n                                    }\r\n                                    System.out.println(&quot;p total size: &quot;+ packet.getTotalSize() + &quot; size: &quot;+ packet.size());\r\n                                    if (packetTable.contains(packet)) {\r\n                                        System.out.println(&quot;REMOVING PACKET&quot;);\r\n                                        packetTable.remove(packet);\r\n                                        return;\r\n                                    }\r\n\r\n                                    ArrayList&lt;String&gt; ars = p1.getIn().categorize(packet);\r\n                                    String destIP = ars.get(0);\r\n                                    String srcIP = ars.get(1);\r\n                                    String maca = ars.get(2);\r\n\r\n                                    //ICMP PING NOT YET IGNORED, DO IT NEXT TIME !!!!\r\n                                    macT.addToMacTable(packet, 1, p1);  //addmac,refrespack1,setbytepack,sendpcap,categ2,refresh2\r\n\r\n\r\n                                    Platform.runLater(() -&gt; {\r\n                                        gui.refresh(macT.getMacAddress());\r\n                                    });\r\n\r\n\r\n                                    packetTable.put(packet);\r\n                                    pcap2.sendPacket(packet);\r\n\r\n\r\n                                    p1.getOut().categorize(packet);\r\n\r\n                                    System.out.println(&quot;pack sent&quot;);\r\n                                    Platform.runLater(() -&gt; {\r\n\r\n                                        gui.refreshPacketCounters(p1.getIn().getChange(), 0);\r\n                                        gui.refreshPacketCounters(p1.getOut().getChange(), 2);\r\n\r\n                                    });\r\n\r\n                                   // PingThread.startPingThread(srcIP, pt1.getSourceAddresss(), pt1.getSmts(), maca);\r\n\r\n\r\n                                }\r\n                                }\r\n                                ;\r\n\r\n\r\n\r\n\r\n                            // LOOP    2 2 222  LOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOP\r\n\r\n\r\n\r\n                            PcapPacketHandler&lt;String&gt; port2 = (packet, user) -&gt; {\r\n                                System.out.println(&quot;picsa2&quot;);\r\n                                if (1 == 1) {\r\n                                    if((Arrays.equals(packet.getByteArray(6, 6), adapterMacAddress)) || (Arrays.equals(packet.getByteArray(6, 6), adapter2MacAddress)))\r\n                                { System.out.println(&quot;ret2 + &quot; + p1.getIn().bytesToHexString(packet.getByteArray(0, 6))) ;\r\n                                    return ;\r\n                                }\r\n                                if (   packetTable.contains(packet)) {\r\n                                    System.out.println(&quot;REMOVING PACKET&quot;);\r\n                                    packetTable.remove(packet);\r\n                                    return ;\r\n                                }\r\n                                    System.out.println(&quot;GOTR PACK ///////////////////////////////////////&quot;);\r\n                                ArrayList&lt;String&gt; ars = p2.getIn().categorize(packet);\r\n                                String  destIP = ars.get(0);\r\n                                String srcIP = ars.get(1);\r\n                                String maca= ars.get(2);\r\n\r\n                                    macT.addToMacTable(packet, 2, p2);\r\n                                    System.out.println(p1.getIn().bytesToHexString(adapter2MacAddress) + &quot;  or &quot;+ adapter2MacAddress);\r\n\r\n\r\n                                 //   Platform.runLater(() -&gt; {\r\n                                   //     gui.refresh(macT.getMacAddress());\r\n                                    //});\r\n\r\n\r\n                                Platform.runLater(() -&gt; {\r\n                                    gui.refresh(macT.getMacAddress());\r\n                                });\r\n\r\n\r\n\r\n                                int packetH = packet.hashCode();\r\n                                packetTable.put( packet);\r\n                                    pcap.sendPacket(packet);\r\n\r\n\r\n                                            p2.getOut().categorize(packet);\r\n\r\n                                        Platform.runLater(() -&gt; {\r\n                                            gui.refreshPacketCounters(p2.getIn().getChange(), 1);\r\n                                            gui.refreshPacketCounters(p2.getOut().getChange(), 3);\r\n                                        });\r\n\r\n                                //PingThread.startPingThread(srcIP, pt2.getSourceAddresss(),pt2.getSmts());\r\n\r\n                                }\r\n                            }\r\n                                ;\r\n\r\n                            System.out.println(&quot;Loop1 should start now :&quot;);\r\n                                new Thread(() -&gt; {\r\n                                    pcap.loop(Pcap.LOOP_INFINITE, port1, &quot;pcap1&quot;);\r\n                                }).start();\r\n                            System.out.println(&quot;Loop2 should start now :&quot;);\r\n                                pcap2.loop(Pcap.LOOP_INFINITE, port2,&quot;pcap2&quot;);\r\n\r\n\r\n\r\n                        }\r\n\r\n                    } catch (Exception e) {\r\n                        System.out.println(&quot;WTF?&quot;);\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n\r\n\r\n            }\r\n        }).start();\r\n    }\r\n\r\n\r\n```\r\n\r\nI tried everything but I&#39;m running out of ideas how to even understand the cause of this bug.","title":"Java Pcap loop not starting","body":"<p>I using jnetpcap library for listening to network traffic, and basically using the PcapPacketHandlers for listening to packets, after initializing them I start a pcap.loop() method so it will start listening.\nHowever about 50% of the time when I run my program the loops will not start and the program just gets stuck, no errors, no exceptions nothing. I only get 1 prinout and nothing more, this printout: loop1DEVICES CHOSEN: \\Device\\NPF_{0A6670EB-FED6-4AD0-9EE6-1F9BA35A75A5},\\Device\\NPF_{E0FB8017-9FFB-4489-A894-8D256394087C}\nIP: [removed]\nTHS SHOULD BE IT : 192.168.1.2\nIP: [removed]\nTHS SHOULD BE IT : 147.66.12.4\nstart ...\nReal start\nLoop1 should start now :\nLoop2 should start now :</p>\n<p>This is the code:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport org.jnetpcap.Pcap;\nimport org.jnetpcap.PcapBpfProgram;\nimport org.jnetpcap.PcapDumper;\nimport org.jnetpcap.PcapIf;\nimport org.jnetpcap.nio.JBuffer;\nimport org.jnetpcap.packet.PcapPacket;\nimport org.jnetpcap.packet.PcapPacketHandler;\nimport org.jnetpcap.protocol.network.Ip4;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.awt.desktop.AppEvent;\nimport java.io.IOException;\nimport java.net.*;\nimport java.util.*;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\npublic class Switch extends Application\n{\n    private int pcn1=0;\n    private int pcn2=0;\n    private int counter =0;\n    private Map&lt;String, ScheduledExecutorService&gt; pingThreads;\n    public static ArrayList&lt;String&gt; devices;\n    private final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n    PcapPacketHashTable packetTable = PcapPacketHashTable.getInstance();\n\n\n\n\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        //GUI SETUP\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;GUI.fxml&quot;));\n        Parent root = loader.load();\n        primaryStage.setTitle(&quot;Network Traffic&quot;);\n        primaryStage.setScene(new Scene(root, 835, 1000));\n        primaryStage.show();\n\n\n        //Switch setup\n        SwitchMacTable macT= SwitchMacTable.getInstance();\n        Port p1= new Port(null,null,&quot;Fa0/&quot;,null,null,macT);\n        Port p2= new Port(null,null,&quot;Fa0/&quot;,null,null,macT);\n        Packet statisticsInPort1 = new Packet();\n        Packet statisticsOutPort1 = new Packet();\n        Packet statisticsInPort2 = new Packet();\n        Packet statisticsOutPort2 = new Packet();\n        p1.setIn(statisticsInPort1);\n        p1.setOut(statisticsOutPort2);\n        p2.setIn(statisticsInPort2);\n        p2.setOut(statisticsOutPort1);\n        // packet sniffer\n        int snaplen = 64 * 1024;\n        int flags = Pcap.MODE_PROMISCUOUS;\n        int timeout = 1000;           // 10ms\n        int opt = 0;\n        int mask = 0xffffff00;\n\n\n        //start GUI\n        GUI gui= loader.getController();\n        gui.initialize(p1,p2);\n\n        devices = new ArrayList&lt;String&gt;();\n\n\n\n        List devicelist = new ArrayList();\n        List&lt;PcapIf&gt; tempdevices = new ArrayList&lt;PcapIf&gt;();\n\n        StringBuilder errbuf = new StringBuilder();\n        String err = &quot;&quot;;\n\n        //nacitanie sietovych zariadeni\n        int foundd = Pcap.findAllDevs(devicelist, errbuf);\n\n        if (foundd != Pcap.OK) {\n            System.err.printf(&quot;Can't read list of devices, error is %s&quot;, errbuf.toString());\n\n            return;\n        }\n\n        for (Object dev : devicelist) {\n            tempdevices.add((PcapIf) dev);\n            devices.add(dev.toString());\n        }\n\n        System.out.println(tempdevices.size() + &quot; network devices found:&quot;);\n\n\n        int i = 0;\n        ArrayList&lt;String&gt; dvar = new ArrayList&lt;&gt;();\n        for (PcapIf device : tempdevices) {\n            String description = (device.getDescription() != null) ? device.getDescription() : &quot;No description available&quot;;\n\n            dvar.add(description);\n\n\n\n        }\n\n        gui.addCombos(dvar);\n\n        new Thread(() -&gt; {\n            while (true) {\n                int iiii = 1;\n                   int b=5;\n                   int yt=iiii+b;\n               System.out.print(&quot;smp&quot;);\n                    try {\n\n\n\n                        while(p1.getStop()==0) {\n                           System.out.print(&quot;loop2&quot;);\n\n                            while (p1.getStart() == 0) {\n                                //waiting for adapter choice.\n                                int ii = 1;int bbb=5;\n                                int yttt=iiii+bbb;\n                              System.out.print(&quot;loop1&quot;);\n                            }\n\n                            PcapIf device = tempdevices.get(gui.getAdapterC1());\n                            Thread.sleep(1000);\n\n                            PcapIf device2 = tempdevices.get(gui.getAdapterC2());\n                            Thread.sleep(1000);\n                            byte[] ar = device.getHardwareAddress();\n                            byte[] ar2 = device2.getHardwareAddress();\n                            Packet np = new Packet();\n                            String devname1 = device.getName();\n                            String devname2 = device2.getName();\n                            System.out.println(&quot;DEVICES CHOSEN: &quot; + devname1 + &quot;,&quot; + devname2);\n                            InetAddress adaIp1=null;\n                            InetAddress adaIp2=null;\n\n                            if (ar != null) {\n\n                                System.out.println(&quot;IP: &quot;+device.getAddresses().get(0).getAddr());\n                                byte[] adapip = device.getAddresses().get(0).getAddr().getData();\n                                try {\n                                    adaIp1 = InetAddress.getByAddress(adapip);\n                                    System.out.println(&quot;THS SHOULD BE IT : &quot;+ adaIp1.getHostAddress());\n\n                                } catch (UnknownHostException e) {\n                                    e.printStackTrace();\n                                    System.exit(0);\n                                }\n\n\n                            }\n                            if (ar2 != null) {\n\n                                System.out.println(&quot;IP: &quot;+device2.getAddresses().get(0).getAddr());\n                                byte[] adapip = device2.getAddresses().get(0).getAddr().getData();\n                                try {\n                                    adaIp2 = InetAddress.getByAddress(adapip);\n                                    System.out.println(&quot;THS SHOULD BE IT : &quot;+ adaIp2.getHostAddress());\n\n                                } catch (UnknownHostException e) {\n                                    e.printStackTrace();\n                                    System.exit(0);\n                                }\n\n                            }\n\n\n                            //Open the selected device to capture packets\n                            Pcap pcap = Pcap.openLive(device.getName(), snaplen, flags, timeout, errbuf);\n                            Thread.sleep(1000);\n                            Pcap pcap2 = Pcap.openLive(device2.getName(), snaplen, flags, timeout, errbuf);\n                            Thread.sleep(1000);\n                            if (pcap == null || pcap2 == null) {\n                                if (pcap == null) {\n                                    System.err.printf(&quot;Error  while opening device for capture: &quot; + errbuf.toString());\n                                } else {\n                                    System.err.printf(&quot;Error while opening device for capture: &quot; + errbuf.toString());\n                                }\n                                return;\n                            }\n\n                            PcapBpfProgram program = new PcapBpfProgram();\n                            String filter = &quot;ether proto \\\\ip or arp or udp or tcp or icmp or (tcp port 80) or (tcp port 443)&quot;;\n\n                            if (pcap.compile(program, filter, opt, mask) != Pcap.OK) {\n                                System.out.println(pcap.getErr());\n                                return;\n                            }\n\n                            if (pcap.setFilter(program) != Pcap.OK) {\n                                System.out.println(pcap.getErr());\n                                return;\n                            }\n                            if (pcap2.compile(program, filter, opt, mask) != Pcap.OK) {\n                                System.out.println(pcap2.getErr());\n                                return;\n                            }\n\n                            if (pcap2.setFilter(program) != Pcap.OK) {\n                                System.out.println(pcap2.getErr());\n                                return;\n                            }\n\n                            System.out.println(&quot;start ...&quot;);\n\n                            p1.setInterfaceName(devname1);\n                            p2.setInterfaceName(devname2);\n                            p1.setPcap(pcap);\n                            p2.setPcap(pcap2);\n                            PingThread pt1 = new PingThread(null,adaIp1,macT,null);\n                            PingThread pt2 = new PingThread(null,adaIp2,macT,null);\n                            byte[] adapterMacAddress = device.getHardwareAddress();\n                            byte[] adapter2MacAddress = device2.getHardwareAddress();\n                            System.out.println(&quot;Real start&quot;);\n\n                            // LOOP    1 1 1 1 1  LOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOP\n\n                            PcapPacketHandler&lt;String&gt; port1 = (packet, user) -&gt; {\n                                System.out.println(&quot;PICSA&quot;);\n                                if (1 == 1) {\n\n                                    if((Arrays.equals(packet.getByteArray(6, 6), adapterMacAddress)) || (Arrays.equals(packet.getByteArray(6, 6), adapter2MacAddress)))\n                                    {\n                                        System.out.println(&quot;ret1 + &quot; + p1.getIn().bytesToHexString(packet.getByteArray(0, 6)));\n                                        return ;\n                                    }\n                                    System.out.println(&quot;p total size: &quot;+ packet.getTotalSize() + &quot; size: &quot;+ packet.size());\n                                    if (packetTable.contains(packet)) {\n                                        System.out.println(&quot;REMOVING PACKET&quot;);\n                                        packetTable.remove(packet);\n                                        return;\n                                    }\n\n                                    ArrayList&lt;String&gt; ars = p1.getIn().categorize(packet);\n                                    String destIP = ars.get(0);\n                                    String srcIP = ars.get(1);\n                                    String maca = ars.get(2);\n\n                                    //ICMP PING NOT YET IGNORED, DO IT NEXT TIME !!!!\n                                    macT.addToMacTable(packet, 1, p1);  //addmac,refrespack1,setbytepack,sendpcap,categ2,refresh2\n\n\n                                    Platform.runLater(() -&gt; {\n                                        gui.refresh(macT.getMacAddress());\n                                    });\n\n\n                                    packetTable.put(packet);\n                                    pcap2.sendPacket(packet);\n\n\n                                    p1.getOut().categorize(packet);\n\n                                    System.out.println(&quot;pack sent&quot;);\n                                    Platform.runLater(() -&gt; {\n\n                                        gui.refreshPacketCounters(p1.getIn().getChange(), 0);\n                                        gui.refreshPacketCounters(p1.getOut().getChange(), 2);\n\n                                    });\n\n                                   // PingThread.startPingThread(srcIP, pt1.getSourceAddresss(), pt1.getSmts(), maca);\n\n\n                                }\n                                }\n                                ;\n\n\n\n\n                            // LOOP    2 2 222  LOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOP\n\n\n\n                            PcapPacketHandler&lt;String&gt; port2 = (packet, user) -&gt; {\n                                System.out.println(&quot;picsa2&quot;);\n                                if (1 == 1) {\n                                    if((Arrays.equals(packet.getByteArray(6, 6), adapterMacAddress)) || (Arrays.equals(packet.getByteArray(6, 6), adapter2MacAddress)))\n                                { System.out.println(&quot;ret2 + &quot; + p1.getIn().bytesToHexString(packet.getByteArray(0, 6))) ;\n                                    return ;\n                                }\n                                if (   packetTable.contains(packet)) {\n                                    System.out.println(&quot;REMOVING PACKET&quot;);\n                                    packetTable.remove(packet);\n                                    return ;\n                                }\n                                    System.out.println(&quot;GOTR PACK ///////////////////////////////////////&quot;);\n                                ArrayList&lt;String&gt; ars = p2.getIn().categorize(packet);\n                                String  destIP = ars.get(0);\n                                String srcIP = ars.get(1);\n                                String maca= ars.get(2);\n\n                                    macT.addToMacTable(packet, 2, p2);\n                                    System.out.println(p1.getIn().bytesToHexString(adapter2MacAddress) + &quot;  or &quot;+ adapter2MacAddress);\n\n\n                                 //   Platform.runLater(() -&gt; {\n                                   //     gui.refresh(macT.getMacAddress());\n                                    //});\n\n\n                                Platform.runLater(() -&gt; {\n                                    gui.refresh(macT.getMacAddress());\n                                });\n\n\n\n                                int packetH = packet.hashCode();\n                                packetTable.put( packet);\n                                    pcap.sendPacket(packet);\n\n\n                                            p2.getOut().categorize(packet);\n\n                                        Platform.runLater(() -&gt; {\n                                            gui.refreshPacketCounters(p2.getIn().getChange(), 1);\n                                            gui.refreshPacketCounters(p2.getOut().getChange(), 3);\n                                        });\n\n                                //PingThread.startPingThread(srcIP, pt2.getSourceAddresss(),pt2.getSmts());\n\n                                }\n                            }\n                                ;\n\n                            System.out.println(&quot;Loop1 should start now :&quot;);\n                                new Thread(() -&gt; {\n                                    pcap.loop(Pcap.LOOP_INFINITE, port1, &quot;pcap1&quot;);\n                                }).start();\n                            System.out.println(&quot;Loop2 should start now :&quot;);\n                                pcap2.loop(Pcap.LOOP_INFINITE, port2,&quot;pcap2&quot;);\n\n\n\n                        }\n\n                    } catch (Exception e) {\n                        System.out.println(&quot;WTF?&quot;);\n                        e.printStackTrace();\n                    }\n\n\n\n            }\n        }).start();\n    }\n\n\n</code></pre>\n<p>I tried everything but I'm running out of ideas how to even understand the cause of this bug.</p>\n"},{"tags":["java","mysql","spring","spring-mvc","godaddy-api"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1681154712,"post_id":75980057,"comment_id":134007865,"body_markdown":"Do you have a concrete implementation of `DriverService`?","body":"Do you have a concrete implementation of <code>DriverService</code>?"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1681154791,"post_id":75980057,"comment_id":134007885,"body_markdown":"And it’s the concrete class implementing DriverService that should be annotated @Service.","body":"And it’s the concrete class implementing DriverService that should be annotated @Service."}],"answers":[{"tags":[],"owner":{"account_id":28268600,"reputation":1,"user_id":21612166,"display_name":"Kirtan Panchal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681508580,"creation_date":1681157904,"answer_id":75980407,"question_id":75980057,"body_markdown":"Remove `@Service` annotation from the `DriverService` interface and add that into the `DriverServiceImplementation` class.","title":"Spring: Field in --- required a bean of type","body":"<p>Remove <code>@Service</code> annotation from the <code>DriverService</code> interface and add that into the <code>DriverServiceImplementation</code> class.</p>\n"}],"owner":{"account_id":28268192,"reputation":1,"user_id":21611798,"display_name":"Daniel Ortlieb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681508580,"creation_date":1681154517,"question_id":75980057,"body_markdown":"Hello everyone and indeed I have the following problem. I am trying to connect to a GoDaddy DB with my Spring Boot application. \r\n\r\nHere I encounter the following problem: \r\n\r\n`Field driverService in com.example.accounting.controller.ClientController required a bean of type &#39;com.example.accounting.service.DriverService&#39; that could not be found.`\r\n\r\nMy folder structure looks like this: \r\n\r\n```\r\nNova_2_Test-master\r\n    ├───.mvn\r\n    │   └───wrapper\r\n    ├───.vscode\r\n    ├───src\r\n    │   ├───main\r\n    │   │   ├───java\r\n    │   │   │   └───com\r\n    │   │   │       └───example\r\n    │   │   │           └───accounting\r\n    │   │   │               ├───controller\r\n    │   │   │               ├───model\r\n    │   │   │               ├───repo\r\n    │   │   │               └───service\r\n    │   │   └───resources\r\n    │   └───test\r\n    │       └───java\r\n    │           └───com\r\n    │               └───example\r\n    │                   └───accounting\r\n    └───target\r\n        ├───classes\r\n        │   └───com\r\n        │       └───example\r\n        │               ├───controller\r\n        │               ├───model\r\n        │               ├───repo\r\n        │               └───service\r\n        ├───generated-sources\r\n        │   └───annotations\r\n        ├───generated-test-sources\r\n        │   └───test-annotations\r\n        └───test-classes\r\n            └───com\r\n                └───example\r\n                    └───accounting\r\n```\r\n\r\n\r\nClientController\r\n```\r\npackage com.example.accounting.controller;\r\n\r\n\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.PutMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.example.accounting.model.Driver;\r\nimport com.example.accounting.service.DriverService;\r\n//import com.example.accounting.service.DriverServiceImplementation;\r\n\r\n@RestController\r\npublic class ClientController {\r\n    @Autowired\r\n    private DriverService driverService;\r\n    \r\n\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String helloworld(){\r\n        return &quot;Hello World!&quot;;\r\n    }\r\n\r\n    // Rest API Crud - Create Driver - POST\r\n    // Read Driver - GET\r\n    // Delete Driver - DELETE\r\n    // Update Driver - PUT\r\n\r\n    //create Driver\r\n    @PostMapping(&quot;/add&quot;)\r\n    public Driver createDriver(@RequestBody Driver driver){\r\n        Driver driver1 = driverService.createDriver(driver);\r\n        return driver1;\r\n    }\r\n\r\n    // Read Drivers\r\n    @GetMapping(&quot;/drivers&quot;)\r\n    public List&lt;Driver&gt; getDrivers(){\r\n        return driverService.getDrivers();\r\n    }\r\n    \r\n    // Update Drivers By DL_Number\r\n    @PutMapping(&quot;/update/{DL_Number}&quot;)\r\n    public Driver updateDriverById(@RequestBody Driver driver, @PathVariable(&quot;DL_Number&quot;) String DL_Number) {\r\n        return driverService.updateDriver(driver, DL_Number);\r\n    }\r\n\r\n    // Delete Driver By DL_Number\r\n    @DeleteMapping(&quot;/delete/{DL_Number}&quot;)\r\n    public String deleteDriver(@PathVariable(&quot;DL_Number&quot;) String DL_Number) {\r\n        driverService.deleteDriver(DL_Number);\r\n        return &quot;Driver Deleted Successfully..&quot;;\r\n    }\r\n\r\n    // Get Driver By DL_Number\r\n    @GetMapping(&quot;/driver/{DL_Number}&quot;)\r\n    public Driver getDriverById(@PathVariable(&quot;DL_Number&quot;) String DL_Number) {\r\n        return driverService.getDriverById(DL_Number);\r\n    }\r\n\r\n}\r\n\r\n```\r\nDriverService\r\n```\r\npackage com.example.accounting.service;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.example.accounting.model.Driver;\r\n\r\n@Service\r\n\r\npublic interface DriverService {\r\n    // create driver\r\n    public Driver createDriver(Driver driver);\r\n\r\n    // read drivers\r\n    public List&lt;Driver&gt; getDrivers();\r\n\r\n    // read driver by DL_Number\r\n    public Driver getDriverById(String DL_Number);\r\n\r\n    // delete driver by DL_Number\r\n    public void deleteDriver(String DL_Number);\r\n\r\n    // update driver by DL_Number\r\n    public Driver updateDriver(Driver driver, String DL_NumbeString);\r\n}\r\n\r\n```\r\nDriverServiceImplementation\r\n\r\n```\r\npackage com.example.accounting.service;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\n\r\nimport com.example.accounting.model.Driver;\r\nimport com.example.accounting.repo.DriverRepo;\r\n\r\n\r\n\r\npublic class DriverServiceImplementation implements DriverService{\r\n    \r\n@Autowired\r\nprivate DriverRepo driverRepo;\r\n\r\n    @Override\r\n    public Driver createDriver(Driver driver) {\r\n        return driverRepo.save(driver);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Driver&gt; getDrivers() {\r\n        return (List&lt;Driver&gt;) driverRepo.findAll();\r\n    }\r\n\r\n    @Override\r\n    public Driver getDriverById(String DL_Number) {\r\n        return driverRepo.findById(DL_Number).get();\r\n    }\r\n\r\n    @Override\r\n    public void deleteDriver(String DL_Number) {\r\n        driverRepo.deleteById(DL_Number);\r\n    }\r\n\r\n    @Override\r\n    public Driver updateDriver(Driver driver, String DL_Number) {\r\n        Driver driver1 = driverRepo.findById(DL_Number).get();\r\n        driver1.setCell(driver.getCell());\r\n        driver1.setCompanyName(driver.getCompanyName());\r\n        driver1.setDOB(driver.getDOB());\r\n        driver1.setDriving_Under(driver.getDriving_Under());\r\n        driver1.setEmail(driver.getEmail());\r\n        driver1.setFirstname(driver.getFirstname());\r\n        driver1.setLastname(driver.getLastname());\r\n        driver1.setPrepass(driver.getPrepass());\r\n        driver1.setDL_State(driver.getDL_State());\r\n        driver1.setStatus(driver.getStatus());\r\n        return driverRepo.save(driver1);\r\n    }\r\n    \r\n\r\n}\r\n\r\n```\r\n\r\nI would be very grateful if you could help me. I am new to programming and have to do this for university and am pretty hopeless right now.\r\n\r\n\r\nI tried to switch to the class DriverServiceImplementation within the class ClientControler instead of using the interface Driver Service. Only gives more errors","title":"Spring: Field in --- required a bean of type","body":"<p>Hello everyone and indeed I have the following problem. I am trying to connect to a GoDaddy DB with my Spring Boot application.</p>\n<p>Here I encounter the following problem:</p>\n<p><code>Field driverService in com.example.accounting.controller.ClientController required a bean of type 'com.example.accounting.service.DriverService' that could not be found.</code></p>\n<p>My folder structure looks like this:</p>\n<pre><code>Nova_2_Test-master\n    ├───.mvn\n    │   └───wrapper\n    ├───.vscode\n    ├───src\n    │   ├───main\n    │   │   ├───java\n    │   │   │   └───com\n    │   │   │       └───example\n    │   │   │           └───accounting\n    │   │   │               ├───controller\n    │   │   │               ├───model\n    │   │   │               ├───repo\n    │   │   │               └───service\n    │   │   └───resources\n    │   └───test\n    │       └───java\n    │           └───com\n    │               └───example\n    │                   └───accounting\n    └───target\n        ├───classes\n        │   └───com\n        │       └───example\n        │               ├───controller\n        │               ├───model\n        │               ├───repo\n        │               └───service\n        ├───generated-sources\n        │   └───annotations\n        ├───generated-test-sources\n        │   └───test-annotations\n        └───test-classes\n            └───com\n                └───example\n                    └───accounting\n</code></pre>\n<p>ClientController</p>\n<pre><code>package com.example.accounting.controller;\n\n\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.example.accounting.model.Driver;\nimport com.example.accounting.service.DriverService;\n//import com.example.accounting.service.DriverServiceImplementation;\n\n@RestController\npublic class ClientController {\n    @Autowired\n    private DriverService driverService;\n    \n\n\n    @GetMapping(&quot;/&quot;)\n    public String helloworld(){\n        return &quot;Hello World!&quot;;\n    }\n\n    // Rest API Crud - Create Driver - POST\n    // Read Driver - GET\n    // Delete Driver - DELETE\n    // Update Driver - PUT\n\n    //create Driver\n    @PostMapping(&quot;/add&quot;)\n    public Driver createDriver(@RequestBody Driver driver){\n        Driver driver1 = driverService.createDriver(driver);\n        return driver1;\n    }\n\n    // Read Drivers\n    @GetMapping(&quot;/drivers&quot;)\n    public List&lt;Driver&gt; getDrivers(){\n        return driverService.getDrivers();\n    }\n    \n    // Update Drivers By DL_Number\n    @PutMapping(&quot;/update/{DL_Number}&quot;)\n    public Driver updateDriverById(@RequestBody Driver driver, @PathVariable(&quot;DL_Number&quot;) String DL_Number) {\n        return driverService.updateDriver(driver, DL_Number);\n    }\n\n    // Delete Driver By DL_Number\n    @DeleteMapping(&quot;/delete/{DL_Number}&quot;)\n    public String deleteDriver(@PathVariable(&quot;DL_Number&quot;) String DL_Number) {\n        driverService.deleteDriver(DL_Number);\n        return &quot;Driver Deleted Successfully..&quot;;\n    }\n\n    // Get Driver By DL_Number\n    @GetMapping(&quot;/driver/{DL_Number}&quot;)\n    public Driver getDriverById(@PathVariable(&quot;DL_Number&quot;) String DL_Number) {\n        return driverService.getDriverById(DL_Number);\n    }\n\n}\n\n</code></pre>\n<p>DriverService</p>\n<pre><code>package com.example.accounting.service;\n\nimport java.util.List;\n\nimport org.springframework.stereotype.Service;\n\nimport com.example.accounting.model.Driver;\n\n@Service\n\npublic interface DriverService {\n    // create driver\n    public Driver createDriver(Driver driver);\n\n    // read drivers\n    public List&lt;Driver&gt; getDrivers();\n\n    // read driver by DL_Number\n    public Driver getDriverById(String DL_Number);\n\n    // delete driver by DL_Number\n    public void deleteDriver(String DL_Number);\n\n    // update driver by DL_Number\n    public Driver updateDriver(Driver driver, String DL_NumbeString);\n}\n\n</code></pre>\n<p>DriverServiceImplementation</p>\n<pre><code>package com.example.accounting.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\n\nimport com.example.accounting.model.Driver;\nimport com.example.accounting.repo.DriverRepo;\n\n\n\npublic class DriverServiceImplementation implements DriverService{\n    \n@Autowired\nprivate DriverRepo driverRepo;\n\n    @Override\n    public Driver createDriver(Driver driver) {\n        return driverRepo.save(driver);\n    }\n\n    @Override\n    public List&lt;Driver&gt; getDrivers() {\n        return (List&lt;Driver&gt;) driverRepo.findAll();\n    }\n\n    @Override\n    public Driver getDriverById(String DL_Number) {\n        return driverRepo.findById(DL_Number).get();\n    }\n\n    @Override\n    public void deleteDriver(String DL_Number) {\n        driverRepo.deleteById(DL_Number);\n    }\n\n    @Override\n    public Driver updateDriver(Driver driver, String DL_Number) {\n        Driver driver1 = driverRepo.findById(DL_Number).get();\n        driver1.setCell(driver.getCell());\n        driver1.setCompanyName(driver.getCompanyName());\n        driver1.setDOB(driver.getDOB());\n        driver1.setDriving_Under(driver.getDriving_Under());\n        driver1.setEmail(driver.getEmail());\n        driver1.setFirstname(driver.getFirstname());\n        driver1.setLastname(driver.getLastname());\n        driver1.setPrepass(driver.getPrepass());\n        driver1.setDL_State(driver.getDL_State());\n        driver1.setStatus(driver.getStatus());\n        return driverRepo.save(driver1);\n    }\n    \n\n}\n\n</code></pre>\n<p>I would be very grateful if you could help me. I am new to programming and have to do this for university and am pretty hopeless right now.</p>\n<p>I tried to switch to the class DriverServiceImplementation within the class ClientControler instead of using the interface Driver Service. Only gives more errors</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1681509942,"post_id":76018123,"comment_id":134073736,"body_markdown":"Can you provide a reproducible example. Your code is missing the GenericListDTOBuilder.dataList method for example.","body":"Can you provide a reproducible example. Your code is missing the GenericListDTOBuilder.dataList method for example."}],"answers":[{"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1681508663,"post_id":76018455,"comment_id":134073563,"body_markdown":"I&#39;m not convinced this is the problem. The questioner is asking about a compiler error, whereas what you have pointed out would be a runtime problem. I suspect however that this is an artefact of code that hasn&#39;t been anonymised correctly: the code is inconsistent in its use of `data` and `dataList`, and `validUntil` is used but never defined in the class `GenericListDTOBuilder`.","body":"I&#39;m not convinced this is the problem. The questioner is asking about a compiler error, whereas what you have pointed out would be a runtime problem. I suspect however that this is an artefact of code that hasn&#39;t been anonymised correctly: the code is inconsistent in its use of <code>data</code> and <code>dataList</code>, and <code>validUntil</code> is used but never defined in the class <code>GenericListDTOBuilder</code>."}],"tags":[],"owner":{"account_id":539671,"reputation":25438,"user_id":907590,"accept_rate":57,"display_name":"Parvin Gasimzade"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681501343,"creation_date":1681501343,"answer_id":76018455,"question_id":76018123,"body_markdown":"Issue seems to be on the ``GenericListDTOBuilder.data()`` method. You are assigning parameter value instead of `data`.\r\n\r\n    public GenericListDTOBuilder&lt;DTO&gt; data(@NotNull Collection&lt;DTO&gt; data) {\r\n       this.dataList = data;\r\n       return this;\r\n    }","title":"java generic declaration defaulting to type object when calling it via a builder method","body":"<p>Issue seems to be on the <code>GenericListDTOBuilder.data()</code> method. You are assigning parameter value instead of <code>data</code>.</p>\n<pre><code>public GenericListDTOBuilder&lt;DTO&gt; data(@NotNull Collection&lt;DTO&gt; data) {\n   this.dataList = data;\n   return this;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681508509,"creation_date":1681508509,"answer_id":76019145,"question_id":76018123,"body_markdown":"This is probably a problem with inferring the return type of `builder()` in your `just()` method.\r\n\r\nThere are two ways I can see to fix this. Firstly, extract the return value of `builder()` to a local variable, and then call methods on that: \r\n\r\n```java\r\n    GenericListDTOBuilder&lt;DTO&gt; builder = builder();\r\n    return builder.dataList(dataList).total(dataList.size()).build();\r\n```\r\nSecondly, provide the type parameter when calling the `builder()` method. To get the type parameter in, you also need to qualify the static method with the class name:\r\n\r\n\r\n```java\r\n    return GenericListDTOBuilder.&lt;DTO&gt;builder().dataList(dataList).total(dataList.size()).build();\r\n```\r\n\r\nNote that the type variable `DTO` in your static `just` method is not the same as the type variable `DTO` in the class. You would be best off renaming this type variable to avoid any confusion.\r\n\r\nSee also &lt;a href=&quot;https://stackoverflow.com/a/4409195&quot;&gt;this answer&lt;/a&gt;.","title":"java generic declaration defaulting to type object when calling it via a builder method","body":"<p>This is probably a problem with inferring the return type of <code>builder()</code> in your <code>just()</code> method.</p>\n<p>There are two ways I can see to fix this. Firstly, extract the return value of <code>builder()</code> to a local variable, and then call methods on that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    GenericListDTOBuilder&lt;DTO&gt; builder = builder();\n    return builder.dataList(dataList).total(dataList.size()).build();\n</code></pre>\n<p>Secondly, provide the type parameter when calling the <code>builder()</code> method. To get the type parameter in, you also need to qualify the static method with the class name:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    return GenericListDTOBuilder.&lt;DTO&gt;builder().dataList(dataList).total(dataList.size()).build();\n</code></pre>\n<p>Note that the type variable <code>DTO</code> in your static <code>just</code> method is not the same as the type variable <code>DTO</code> in the class. You would be best off renaming this type variable to avoid any confusion.</p>\n<p>See also <a href=\"https://stackoverflow.com/a/4409195\">this answer</a>.</p>\n"}],"owner":{"account_id":19537573,"reputation":1,"user_id":14296031,"display_name":"Steven Keck"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681508509,"creation_date":1681498143,"question_id":76018123,"body_markdown":"I have a series of Data Transport Objects, DTO. They have a few elements that are common to each different DTO. One element is a collection of the DTO, because we can have a list, or series of these DTO&#39;s to process at a time. I&#39;ve used generics so Spring can handle the different DTOs and pass up to the UI. Here are some excerpts from my GenericListDTO() class.\r\n\r\n\r\n```\r\n @XmlElement\r\n    @NotNull\r\n    private Collection&lt;DTO&gt; dataList;\r\n    @XmlElement\r\n    private int totObjs;\r\n```\r\nMy DTO builder is defined like this: \r\n```\r\npublic static &lt;DTO&gt; GenericListDTOBuilder&lt;DTO&gt; builder() { \r\n   return new GenericListDTOBuilder&lt;&gt;(); \r\n}\r\n```\r\nHere is the builder class defined inside my GenericList Class.\r\n\r\n```\r\npublic static class GenericListDTOBuilder&lt;DTO&gt; {\r\n        private Collection&lt;DTO&gt; dataList;\r\n\r\n        public GenericListDTOBuilder&lt;DTO&gt; data(@NotNull Collection&lt;DTO&gt; data) {\r\n            this.dataList = dataList;\r\n            return this;\r\n        }\r\n\r\n        private int total;\r\n        \r\n        public GenericListDTOBuilder&lt;DTO&gt; total(int total) {\r\n            this.total = total;\r\n            return this;\r\n        }\r\n\r\n        public GenericListDTO&lt;DTO&gt; build() {\r\n            return new GenericListDTO&lt;&gt;(this.data, this.total, this.validUntil);\r\n        }\r\n\r\n        \r\n        }\r\n\r\n    }\r\n```\r\n\r\nLater in the class I have this constructor.\r\n\r\n```\r\n@NotNull\r\n    public static &lt;DTO&gt; GenericListDTO&lt;DTO&gt; just(@NotNull Collection&lt;DTO&gt; dataList) {\r\n        \r\n        return  builder().dataList(dataList).total(dataList.size()).build();\r\n    }\r\n```\r\nIntellij at the .dataList(dataList) portion gives this error, &quot;Required type: Collection&lt;Object&gt; Provided:Collection&lt;DTO&gt;.\r\n\r\nI don&#39;t understand why it&#39;s giving that error when dataList has been defined as private Collection&lt;DTO&gt; dataList; and I&#39;m passing in a Collection&lt;DTO&gt; object.\r\n\r\n\r\n\r\n\r\nTo get this to not have an error I have to double cast it.\r\n\r\n return (GenericListDTA&lt;DTO&gt;) builder().dataList((Collection&lt;Object&gt;) dataList).total(dataList.size()).build();\r\n\r\nWhy do wont it recognize dataList as a Collection of DTO? Why is it defaulting to Collection&lt;Object&gt;","title":"java generic declaration defaulting to type object when calling it via a builder method","body":"<p>I have a series of Data Transport Objects, DTO. They have a few elements that are common to each different DTO. One element is a collection of the DTO, because we can have a list, or series of these DTO's to process at a time. I've used generics so Spring can handle the different DTOs and pass up to the UI. Here are some excerpts from my GenericListDTO() class.</p>\n<pre><code> @XmlElement\n    @NotNull\n    private Collection&lt;DTO&gt; dataList;\n    @XmlElement\n    private int totObjs;\n</code></pre>\n<p>My DTO builder is defined like this:</p>\n<pre><code>public static &lt;DTO&gt; GenericListDTOBuilder&lt;DTO&gt; builder() { \n   return new GenericListDTOBuilder&lt;&gt;(); \n}\n</code></pre>\n<p>Here is the builder class defined inside my GenericList Class.</p>\n<pre><code>public static class GenericListDTOBuilder&lt;DTO&gt; {\n        private Collection&lt;DTO&gt; dataList;\n\n        public GenericListDTOBuilder&lt;DTO&gt; data(@NotNull Collection&lt;DTO&gt; data) {\n            this.dataList = dataList;\n            return this;\n        }\n\n        private int total;\n        \n        public GenericListDTOBuilder&lt;DTO&gt; total(int total) {\n            this.total = total;\n            return this;\n        }\n\n        public GenericListDTO&lt;DTO&gt; build() {\n            return new GenericListDTO&lt;&gt;(this.data, this.total, this.validUntil);\n        }\n\n        \n        }\n\n    }\n</code></pre>\n<p>Later in the class I have this constructor.</p>\n<pre><code>@NotNull\n    public static &lt;DTO&gt; GenericListDTO&lt;DTO&gt; just(@NotNull Collection&lt;DTO&gt; dataList) {\n        \n        return  builder().dataList(dataList).total(dataList.size()).build();\n    }\n</code></pre>\n<p>Intellij at the .dataList(dataList) portion gives this error, &quot;Required type: Collection Provided:Collection.</p>\n<p>I don't understand why it's giving that error when dataList has been defined as private Collection dataList; and I'm passing in a Collection object.</p>\n<p>To get this to not have an error I have to double cast it.</p>\n<p>return (GenericListDTA) builder().dataList((Collection) dataList).total(dataList.size()).build();</p>\n<p>Why do wont it recognize dataList as a Collection of DTO? Why is it defaulting to Collection</p>\n"},{"tags":["java","r","selenium","web-scraping","rselenium"],"answers":[{"tags":[],"owner":{"account_id":20178496,"reputation":29,"user_id":14799558,"display_name":"jaechang"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673508425,"creation_date":1673508425,"answer_id":75092837,"question_id":75092535,"body_markdown":"I recommend &#39;remoteDriver&#39; instead of &#39;rsDriver&#39;\r\n```\r\nbinman::list_versions(appname = &#39;chromedriver&#39;)\r\ndriver&lt;-wdman::chrome(port=4576L, version = &#39;108.0.5359.71&#39;)\r\n\r\n# first data\r\nremote&lt;-remoteDriver(port=4576L, browserName=&#39;chrome&#39;)\r\nremote$open()\r\n```","title":"RSelenium fails to open browser","body":"<p>I recommend 'remoteDriver' instead of 'rsDriver'</p>\n<pre><code>binman::list_versions(appname = 'chromedriver')\ndriver&lt;-wdman::chrome(port=4576L, version = '108.0.5359.71')\n\n# first data\nremote&lt;-remoteDriver(port=4576L, browserName='chrome')\nremote$open()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27527281,"reputation":1,"user_id":21006390,"display_name":"jffj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673697670,"creation_date":1673697670,"answer_id":75117759,"question_id":75092535,"body_markdown":"I have experienced exactly the same issue since I upgraded to chromedriver 109.0.5414.74. It might be a problem with the latest chromedriver version.\r\n\r\nThe only way I make rsDriver to run again was by replacing in your code 109.0.5414.74 by 108.0.5359.71.\r\n\r\nTry:\r\n\r\n    library(tidyverse)\r\n    library(RSelenium)\r\n    library(netstat)\r\n    library(Rcpp)\r\n    library(wdman)\r\n        \r\n    binman::list_versions(&quot;chromedriver&quot;)\r\n        \r\n        \r\n    rdriver &lt;- rsDriver(browser = &quot;chrome&quot;,\r\n    chromever = &quot;108.0.5359.71&quot;,\r\n    verbose = TRUE,\r\n    port = free_port())\r\n        \r\n    rdriver$server$log()","title":"RSelenium fails to open browser","body":"<p>I have experienced exactly the same issue since I upgraded to chromedriver 109.0.5414.74. It might be a problem with the latest chromedriver version.</p>\n<p>The only way I make rsDriver to run again was by replacing in your code 109.0.5414.74 by 108.0.5359.71.</p>\n<p>Try:</p>\n<pre><code>library(tidyverse)\nlibrary(RSelenium)\nlibrary(netstat)\nlibrary(Rcpp)\nlibrary(wdman)\n    \nbinman::list_versions(&quot;chromedriver&quot;)\n    \n    \nrdriver &lt;- rsDriver(browser = &quot;chrome&quot;,\nchromever = &quot;108.0.5359.71&quot;,\nverbose = TRUE,\nport = free_port())\n    \nrdriver$server$log()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":354,"reputation":11103,"user_id":443,"accept_rate":100,"display_name":"PaulStock"},"score":0,"creation_date":1674502296,"post_id":75176907,"comment_id":132723544,"body_markdown":"Great answer. Although, could you elaborate on &quot;..finding your chrome driver path using selenium(retcommand = T)&quot;? I already knew where the drivers were, but am curious what the exact syntax you were using to find them? I am unfamiliar with this &quot;retcommand&quot; you mentioned.","body":"Great answer. Although, could you elaborate on &quot;..finding your chrome driver path using selenium(retcommand = T)&quot;? I already knew where the drivers were, but am curious what the exact syntax you were using to find them? I am unfamiliar with this &quot;retcommand&quot; you mentioned."},{"owner":{"account_id":20912442,"reputation":66,"user_id":15363011,"display_name":"bingbongtelecom"},"score":0,"creation_date":1674686973,"post_id":75176907,"comment_id":132770577,"body_markdown":"Yes, sorry. selenium() is a function that is part of the wdman package. It will output the shell command that wdman uses to find the driver. You will see that the issue is that the function output contains an R vector &quot;c()&quot; of two files (caused by a regex ambiguity in read.files() and both the driver and the license file ending in &quot;CHROMEDRIVER&quot;).  I found information about retcommand in other issues on SO and in the vignette for wdman. https://cran.r-project.org/web/packages/wdman/vignettes/basics.html","body":"Yes, sorry. selenium() is a function that is part of the wdman package. It will output the shell command that wdman uses to find the driver. You will see that the issue is that the function output contains an R vector &quot;c()&quot; of two files (caused by a regex ambiguity in read.files() and both the driver and the license file ending in &quot;CHROMEDRIVER&quot;).  I found information about retcommand in other issues on SO and in the vignette for wdman. <a href=\"https://cran.r-project.org/web/packages/wdman/vignettes/basics.html\" rel=\"nofollow noreferrer\">cran.r-project.org/web/packages/wdman/vignettes/basics.html</a>"}],"tags":[],"owner":{"account_id":20912442,"reputation":66,"user_id":15363011,"display_name":"bingbongtelecom"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674153726,"creation_date":1674153726,"answer_id":75176907,"question_id":75092535,"body_markdown":"The chrome driver version &quot;109.0.5414.74&quot; now includes an additional file that confuses wdman/binman. Using an earlier version like `chromever = &quot;108.0.5359.71&quot;` will work. Alternatively you can use the newer drivers by finding your chrome driver path using selenium(retcommand = T) and deleting the LICENSE.chromedriver files ","title":"RSelenium fails to open browser","body":"<p>The chrome driver version &quot;109.0.5414.74&quot; now includes an additional file that confuses wdman/binman. Using an earlier version like <code>chromever = &quot;108.0.5359.71&quot;</code> will work. Alternatively you can use the newer drivers by finding your chrome driver path using selenium(retcommand = T) and deleting the LICENSE.chromedriver files</p>\n"},{"tags":[],"owner":{"account_id":27806571,"reputation":1,"user_id":21229841,"display_name":"user21229841"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676582771,"creation_date":1676582771,"answer_id":75478097,"question_id":75092535,"body_markdown":"Execute this code in a separate script:\r\n\r\n    library(wdman) \r\n    selenium(retcommand=T)\r\n\r\nIn the console read the path where is the file LICENSE.chromedriver in your system. This file will be in the chromedriver folders from version 109 and above.\r\n\r\nDelete LICENSE.chromedriver.\r\n\r\nNow your code shuold be ok again when you run the rsDriver().\r\n\r\n\r\n","title":"RSelenium fails to open browser","body":"<p>Execute this code in a separate script:</p>\n<pre><code>library(wdman) \nselenium(retcommand=T)\n</code></pre>\n<p>In the console read the path where is the file LICENSE.chromedriver in your system. This file will be in the chromedriver folders from version 109 and above.</p>\n<p>Delete LICENSE.chromedriver.</p>\n<p>Now your code shuold be ok again when you run the rsDriver().</p>\n"},{"tags":[],"owner":{"account_id":12727747,"reputation":1955,"user_id":9245623,"display_name":"Emmanuel Hamel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681508186,"creation_date":1681508186,"answer_id":76019108,"question_id":75092535,"body_markdown":"You can consider the two following approaches :\r\n\r\n```\r\nlibrary(RSelenium)\r\nshell(&#39;docker run -d -p 4445:4444 selenium/standalone-firefox&#39;)\r\nremDr &lt;- remoteDriver(remoteServerAddr = &quot;localhost&quot;, port = 4445L, browserName = &quot;firefox&quot;)\r\nremDr$open()\r\nremDr$navigate(&quot;https://www.google.com/&quot;)\r\n```\r\n\r\nand\r\n\r\n```\r\nlibrary(RSelenium)\r\nlibrary(wdman)\r\n\r\nurl &lt;- &quot;https://www.google.com/&quot;\r\nport &lt;- as.integer(4444L + rpois(lambda = 1000, 1))\r\npJS &lt;- wdman::phantomjs(port = port)\r\nremDrPJS &lt;- remoteDriver(browserName = &quot;phantomjs&quot;, port = port)\r\nremDrPJS$open()\r\nremDrPJS$navigate(url)\r\n```\r\n\r\nYou need to install Docker for the first approach. It is easy to install.","title":"RSelenium fails to open browser","body":"<p>You can consider the two following approaches :</p>\n<pre><code>library(RSelenium)\nshell('docker run -d -p 4445:4444 selenium/standalone-firefox')\nremDr &lt;- remoteDriver(remoteServerAddr = &quot;localhost&quot;, port = 4445L, browserName = &quot;firefox&quot;)\nremDr$open()\nremDr$navigate(&quot;https://www.google.com/&quot;)\n</code></pre>\n<p>and</p>\n<pre><code>library(RSelenium)\nlibrary(wdman)\n\nurl &lt;- &quot;https://www.google.com/&quot;\nport &lt;- as.integer(4444L + rpois(lambda = 1000, 1))\npJS &lt;- wdman::phantomjs(port = port)\nremDrPJS &lt;- remoteDriver(browserName = &quot;phantomjs&quot;, port = port)\nremDrPJS$open()\nremDrPJS$navigate(url)\n</code></pre>\n<p>You need to install Docker for the first approach. It is easy to install.</p>\n"}],"owner":{"account_id":18501125,"reputation":43,"user_id":13478435,"display_name":"Etxeberri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":792,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1681508186,"creation_date":1673506129,"question_id":75092535,"body_markdown":"I wan&#39;t to use Selenium for webscrapping from R. \r\n\r\n - My Windows version: Windows 11, 21H2\r\n - I have the latest Java update. (1.8.0_351) Commenting it since I&#39;ve seen it could be a fix in this cases. \r\n\r\nHowever, when defining the driver object I get the following error:\r\n\r\n    Could not open chrome browser.\r\n    Client error message:\r\n    Undefined error in httr call. httr output: Failed to connect to localhost port 14415: Connection refused\r\n    Check server log for further details.\r\n    Warning message:\r\n    In rsDriver(browser = &quot;chrome&quot;, chromever = &quot;109.0.5414.74&quot;, verbose = FALSE,  :\r\n      Could not determine server status. \r\n\r\nWhen checking the server log for further details I get:\r\n\r\n    Could not find or load main class c(-Dwebdriver.chrome.driver=\\&quot;C:\\\\\\\\Users\\\\\\\\xherr\\\\\\\\AppData\\\\\\\\Local\\\\\\\\binman\\\\\\\\binman_chromedriver\\\\\\\\win32\\\\\\\\109.0.5414.74.chromedriver.exe\\&quot;,&quot;\r\n\r\nHere&#39;s my code:\r\n\r\n    library(tidyverse)\r\n    library(RSelenium)\r\n    library(netstat)\r\n    library(Rcpp)\r\n    library(wdman)\r\n    \r\n    binman::list_versions(&quot;chromedriver&quot;)\r\n    \r\n    \r\n    rdriver &lt;- rsDriver(browser = &quot;chrome&quot;,\r\n                        chromever = &quot;109.0.5414.74&quot;,\r\n                        verbose = TRUE,\r\n                        port = free_port())\r\n    \r\n    rdriver$server$log()\r\n\r\nDoes anyone know how to fix this?\r\nThank you very much\r\n\r\n","title":"RSelenium fails to open browser","body":"<p>I wan't to use Selenium for webscrapping from R.</p>\n<ul>\n<li>My Windows version: Windows 11, 21H2</li>\n<li>I have the latest Java update. (1.8.0_351) Commenting it since I've seen it could be a fix in this cases.</li>\n</ul>\n<p>However, when defining the driver object I get the following error:</p>\n<pre><code>Could not open chrome browser.\nClient error message:\nUndefined error in httr call. httr output: Failed to connect to localhost port 14415: Connection refused\nCheck server log for further details.\nWarning message:\nIn rsDriver(browser = &quot;chrome&quot;, chromever = &quot;109.0.5414.74&quot;, verbose = FALSE,  :\n  Could not determine server status. \n</code></pre>\n<p>When checking the server log for further details I get:</p>\n<pre><code>Could not find or load main class c(-Dwebdriver.chrome.driver=\\&quot;C:\\\\\\\\Users\\\\\\\\xherr\\\\\\\\AppData\\\\\\\\Local\\\\\\\\binman\\\\\\\\binman_chromedriver\\\\\\\\win32\\\\\\\\109.0.5414.74.chromedriver.exe\\&quot;,&quot;\n</code></pre>\n<p>Here's my code:</p>\n<pre><code>library(tidyverse)\nlibrary(RSelenium)\nlibrary(netstat)\nlibrary(Rcpp)\nlibrary(wdman)\n\nbinman::list_versions(&quot;chromedriver&quot;)\n\n\nrdriver &lt;- rsDriver(browser = &quot;chrome&quot;,\n                    chromever = &quot;109.0.5414.74&quot;,\n                    verbose = TRUE,\n                    port = free_port())\n\nrdriver$server$log()\n</code></pre>\n<p>Does anyone know how to fix this?\nThank you very much</p>\n"},{"tags":["java","hibernate","nosuchmethoderror"],"answers":[{"tags":[],"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681507949,"creation_date":1681507949,"answer_id":76019088,"question_id":76017943,"body_markdown":"I figured out, what the problem was. If the tests are run in Intellij (or possibly other IDEs) the option to build before running the tests needs to be disabled, otherwise the enhanced classes are overwritten again.\r\n\r\nMy solution in detail:\r\n\r\nRun -&gt; Edit Configurations -&gt; Choose JUnit Test Configuration that should be run -&gt; Modify options (Alt + M) -&gt; Do not build before run","title":"Hibernate Byte Code Enhancement NoSuchMethodError","body":"<p>I figured out, what the problem was. If the tests are run in Intellij (or possibly other IDEs) the option to build before running the tests needs to be disabled, otherwise the enhanced classes are overwritten again.</p>\n<p>My solution in detail:</p>\n<p>Run -&gt; Edit Configurations -&gt; Choose JUnit Test Configuration that should be run -&gt; Modify options (Alt + M) -&gt; Do not build before run</p>\n"}],"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681507949,"creation_date":1681496498,"question_id":76017943,"body_markdown":"I set up byte code enhancement for Hibernate version 5.2.4-Final as follows:\r\n\r\n    &lt;plugin&gt;\r\n       \t&lt;groupId&gt;org.hibernate.orm.tooling&lt;/groupId&gt;\r\n       \t&lt;artifactId&gt;hibernate-enhance-maven-plugin&lt;/artifactId&gt;\r\n       \t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t  &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jta&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.1&lt;/version&gt;\r\n\t\t  &lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n       \t&lt;executions&gt;\r\n       \t  &lt;execution&gt;\r\n            &lt;configuration&gt;\r\n                &lt;failOnError&gt;true&lt;/failOnError&gt;\r\n                &lt;enableLazyInitialization&gt;true&lt;/enableLazyInitialization&gt;\r\n                &lt;enableDirtyTracking&gt;false&lt;/enableDirtyTracking&gt;\r\n                &lt;enableAssociationManagement&gt;false&lt;/enableAssociationManagement&gt;\r\n       \t  \t&lt;/configuration&gt;\r\n\t\t  \t&lt;goals&gt;\r\n              &lt;goal&gt;enhance&lt;/goal&gt;\r\n       \t  \t&lt;/goals&gt;\r\n       \t  &lt;/execution&gt;\r\n       \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nI had to add the jta-dependency since I got [this error][1] on building my project.\r\nNow after building, when I run my tests, it gives me the following error for different classes (seemingly non deterministic) and different attributes. In this example it is the `listAttribute` in `myPackage.MyClass`:\r\n\r\n        Caused by: org.hibernate.PropertyAccessException: Exception occurred inside setter of myPackage.MyClass.listAttribute\r\n    \tat org.hibernate.property.access.spi.EnhancedSetterImpl.set(EnhancedSetterImpl.java:86)\r\n    \tat org.hibernate.tuple.entity.AbstractEntityTuplizer.setPropertyValues(AbstractEntityTuplizer.java:611)\r\n    \tat org.hibernate.tuple.entity.PojoEntityTuplizer.setPropertyValues(PojoEntityTuplizer.java:205)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.setPropertyValues(AbstractEntityPersister.java:4619)\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.copyValues(DefaultMergeEventListener.java:442)\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:233)\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:173)\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:69)\r\n    \tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:863)\r\n    \t... 174 more\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.hibernate.property.access.spi.EnhancedSetterImpl.set(EnhancedSetterImpl.java:61)\r\n    \t... 182 more\r\n    Caused by: java.lang.NoSuchMethodError: myPackage.MyClass.$$_hibernate_read_listAttribute()Ljava/util/List;\r\n    \tat myPackage.MyClass.$$_hibernate_write_listAttribute(MyClass.java)\r\n    \t... 187 more\r\n\r\nWhat can I do to get rid of these types of errors?\r\n\r\n  [1]: https://stackoverflow.com/questions/18125294/hibernate-4-javax-transaction-systemexception-error","title":"Hibernate Byte Code Enhancement NoSuchMethodError","body":"<p>I set up byte code enhancement for Hibernate version 5.2.4-Final as follows:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.hibernate.orm.tooling&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-enhance-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${hibernate.version}&lt;/version&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n        &lt;artifactId&gt;jta&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;configuration&gt;\n            &lt;failOnError&gt;true&lt;/failOnError&gt;\n            &lt;enableLazyInitialization&gt;true&lt;/enableLazyInitialization&gt;\n            &lt;enableDirtyTracking&gt;false&lt;/enableDirtyTracking&gt;\n            &lt;enableAssociationManagement&gt;false&lt;/enableAssociationManagement&gt;\n        &lt;/configuration&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;enhance&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I had to add the jta-dependency since I got <a href=\"https://stackoverflow.com/questions/18125294/hibernate-4-javax-transaction-systemexception-error\">this error</a> on building my project.\nNow after building, when I run my tests, it gives me the following error for different classes (seemingly non deterministic) and different attributes. In this example it is the <code>listAttribute</code> in <code>myPackage.MyClass</code>:</p>\n<pre><code>    Caused by: org.hibernate.PropertyAccessException: Exception occurred inside setter of myPackage.MyClass.listAttribute\n    at org.hibernate.property.access.spi.EnhancedSetterImpl.set(EnhancedSetterImpl.java:86)\n    at org.hibernate.tuple.entity.AbstractEntityTuplizer.setPropertyValues(AbstractEntityTuplizer.java:611)\n    at org.hibernate.tuple.entity.PojoEntityTuplizer.setPropertyValues(PojoEntityTuplizer.java:205)\n    at org.hibernate.persister.entity.AbstractEntityPersister.setPropertyValues(AbstractEntityPersister.java:4619)\n    at org.hibernate.event.internal.DefaultMergeEventListener.copyValues(DefaultMergeEventListener.java:442)\n    at org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:233)\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:173)\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:69)\n    at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:863)\n    ... 174 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.hibernate.property.access.spi.EnhancedSetterImpl.set(EnhancedSetterImpl.java:61)\n    ... 182 more\nCaused by: java.lang.NoSuchMethodError: myPackage.MyClass.$$_hibernate_read_listAttribute()Ljava/util/List;\n    at myPackage.MyClass.$$_hibernate_write_listAttribute(MyClass.java)\n    ... 187 more\n</code></pre>\n<p>What can I do to get rid of these types of errors?</p>\n"},{"tags":["java","integer","numbers"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1681507179,"post_id":76018987,"comment_id":134073347,"body_markdown":"Is this homework? Are you allowed to use arrays?","body":"Is this homework? Are you allowed to use arrays?"},{"owner":{"account_id":539671,"reputation":25438,"user_id":907590,"accept_rate":57,"display_name":"Parvin Gasimzade"},"score":0,"creation_date":1681507324,"post_id":76018987,"comment_id":134073366,"body_markdown":"Move the print statement that displays the ascending order inside the conditional block that checks if sorting is necessary. This way, the numbers will only be displayed in ascending order if they were actually sorted.","body":"Move the print statement that displays the ascending order inside the conditional block that checks if sorting is necessary. This way, the numbers will only be displayed in ascending order if they were actually sorted."}],"owner":{"account_id":28218627,"reputation":3,"user_id":21569731,"display_name":"Rachel Flores"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681507373,"creation_date":1681506894,"question_id":76018987,"body_markdown":"I am having trouble getting the numbers to go in ascending order from least to greatest.\r\n\r\nEnter first integer:6\r\nEnter first integer:1\r\nEnter first integer:5\r\n\r\nCase (2)\r\nEnter first integer:9\r\nEnter first integer:7\r\nEnter first integer:2\r\n\r\n\r\nThis is my code\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\n  public class AscendingOrder\r\n  {\r\n    public static void main(String [] args)\r\n    {\r\n       Scanner input = new Scanner(System.in);\r\n       \r\n       System.out.print(&quot;Enter first integer: &quot;);\r\n       int number1 = input.nextInt();\r\n       \r\n       System.out.print(&quot;Enter second integer: &quot;);\r\n       int number2 = input.nextInt();\r\n       \r\n       System.out.print(&quot;Enter third integer: &quot;);\r\n       int number3 = input.nextInt();\r\n       \r\n       System.out.println(&quot;Order ascending: &quot; + number1 + &quot;, &quot; + number2 + &quot; ,&quot; + number3);\r\n \r\n       \r\n       int temp;\r\n       if(number2 &lt; number1 || number3 &lt; number1)\r\n\r\n       {\r\n       \r\n         if(number2 &lt; number1)\r\n         {\r\n               temp = number1;\r\n               number1 = number2;\r\n               number2 = temp;\r\n          }\r\n          if (number3 &lt; number1)\r\n          {\r\n             temp = number1;\r\n             number1 = number3;\r\n             number3 = temp;\r\n           }\r\n           if (number3 &lt; number2)\r\n           {\r\n                 temp = number2;\r\n                 number2 = number3;\r\n                 number3 = temp; \r\n            }\r\n                       \r\n          }\r\n       }\r\n    }\r\n  \r\n```\r\n","title":"How to get my code to display the numbers entered from least to greatest","body":"<p>I am having trouble getting the numbers to go in ascending order from least to greatest.</p>\n<p>Enter first integer:6\nEnter first integer:1\nEnter first integer:5</p>\n<p>Case (2)\nEnter first integer:9\nEnter first integer:7\nEnter first integer:2</p>\n<p>This is my code</p>\n<pre><code>import java.util.Scanner;\n\n  public class AscendingOrder\n  {\n    public static void main(String [] args)\n    {\n       Scanner input = new Scanner(System.in);\n       \n       System.out.print(&quot;Enter first integer: &quot;);\n       int number1 = input.nextInt();\n       \n       System.out.print(&quot;Enter second integer: &quot;);\n       int number2 = input.nextInt();\n       \n       System.out.print(&quot;Enter third integer: &quot;);\n       int number3 = input.nextInt();\n       \n       System.out.println(&quot;Order ascending: &quot; + number1 + &quot;, &quot; + number2 + &quot; ,&quot; + number3);\n \n       \n       int temp;\n       if(number2 &lt; number1 || number3 &lt; number1)\n\n       {\n       \n         if(number2 &lt; number1)\n         {\n               temp = number1;\n               number1 = number2;\n               number2 = temp;\n          }\n          if (number3 &lt; number1)\n          {\n             temp = number1;\n             number1 = number3;\n             number3 = temp;\n           }\n           if (number3 &lt; number2)\n           {\n                 temp = number2;\n                 number2 = number3;\n                 number3 = temp; \n            }\n                       \n          }\n       }\n    }\n  \n</code></pre>\n"},{"tags":["java","gradle","junit"],"answers":[{"tags":[],"owner":{"account_id":28308484,"reputation":1,"user_id":21646105,"display_name":"Martin Fuller"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681507124,"creation_date":1681507124,"answer_id":76019007,"question_id":73379578,"body_markdown":"You can change the setup method into a test, and use a MethodOrderer to make sure it is run first.  The annotated setup method will be run before all un-annotated tests.\r\n\r\n```\r\n...\r\nimport org.junit.jupiter.api.MethodOrderer;\r\nimport org.junit.jupiter.api.Order;\r\nimport org.junit.jupiter.api.TestMethodOrder;\r\n\r\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\nclass TestWithLongBeforeAll {\r\n\r\n\t@Test\r\n\t@Order(1)\r\n    void setUp() {\r\n        Uninterruptibles.sleepUninterruptibly(5, TimeUnit.SECONDS);\r\n    }\r\n\r\n    ...\r\n}\r\n```   ","title":"Execution Time of JUnit Test class with @BeforeAll in Gradle report","body":"<p>You can change the setup method into a test, and use a MethodOrderer to make sure it is run first.  The annotated setup method will be run before all un-annotated tests.</p>\n<pre><code>...\nimport org.junit.jupiter.api.MethodOrderer;\nimport org.junit.jupiter.api.Order;\nimport org.junit.jupiter.api.TestMethodOrder;\n\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\nclass TestWithLongBeforeAll {\n\n    @Test\n    @Order(1)\n    void setUp() {\n        Uninterruptibles.sleepUninterruptibly(5, TimeUnit.SECONDS);\n    }\n\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":17127609,"reputation":11,"user_id":19778445,"display_name":"bsohdam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681507124,"creation_date":1660679395,"question_id":73379578,"body_markdown":"In order to track full time of test execution, I would like to track all tests per class with @BeforeAll or @AfterAll methods. When tests is done, Gradle generates html-report with tests duration but excluding preparation methods, such as those, who marked as @BeforeAll.\r\nFor example, there is next Test class\r\n\r\n```\r\nimport com.google.common.util.concurrent.Uninterruptibles;\r\nimport org.assertj.core.api.Assertions;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nclass TestWithLongBeforeAll {\r\n\r\n    @BeforeAll\r\n    static void setUp() {\r\n        Uninterruptibles.sleepUninterruptibly(5, TimeUnit.SECONDS);\r\n    }\r\n\r\n    @Test\r\n    void testMathGrade() {\r\n        Assertions.assertThat(2 + 2).isEqualTo(4);\r\n    }\r\n\r\n    @Test\r\n    void testHighMathGrade() {\r\n        Assertions.assertThat(3 + 3).isEqualTo(4);\r\n    }\r\n}\r\n```   \r\nAs a result, all test duration is near 0.2 seconds. Here is report screenshot, generated by gradle: [report][1]\r\n\r\n\r\n_Is there any way to make junit track full test lifecycle per class?_\r\n\r\n  [1]: https://i.stack.imgur.com/o0VqL.jpg","title":"Execution Time of JUnit Test class with @BeforeAll in Gradle report","body":"<p>In order to track full time of test execution, I would like to track all tests per class with @BeforeAll or @AfterAll methods. When tests is done, Gradle generates html-report with tests duration but excluding preparation methods, such as those, who marked as @BeforeAll.\nFor example, there is next Test class</p>\n<pre><code>import com.google.common.util.concurrent.Uninterruptibles;\nimport org.assertj.core.api.Assertions;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.Test;\n\nimport java.util.concurrent.TimeUnit;\n\nclass TestWithLongBeforeAll {\n\n    @BeforeAll\n    static void setUp() {\n        Uninterruptibles.sleepUninterruptibly(5, TimeUnit.SECONDS);\n    }\n\n    @Test\n    void testMathGrade() {\n        Assertions.assertThat(2 + 2).isEqualTo(4);\n    }\n\n    @Test\n    void testHighMathGrade() {\n        Assertions.assertThat(3 + 3).isEqualTo(4);\n    }\n}\n</code></pre>\n<p>As a result, all test duration is near 0.2 seconds. Here is report screenshot, generated by gradle: <a href=\"https://i.stack.imgur.com/o0VqL.jpg\" rel=\"nofollow noreferrer\">report</a></p>\n<p><em>Is there any way to make junit track full test lifecycle per class?</em></p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1681410686,"post_id":76008610,"comment_id":134055982,"body_markdown":"Do you really want a default value? IMHO null would be a reasonable choice if all values are null. Or return an Optional. Thoughts?","body":"Do you really want a default value? IMHO null would be a reasonable choice if all values are null. Or return an Optional. Thoughts?"},{"owner":{"account_id":27903581,"reputation":37,"user_id":21307309,"display_name":"noob555"},"score":0,"creation_date":1681433945,"post_id":76008610,"comment_id":134059641,"body_markdown":"@Bohemian yes, unfortunately the default value is needed for what i am trying to do","body":"@Bohemian yes, unfortunately the default value is needed for what i am trying to do"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1681445066,"post_id":76008610,"comment_id":134060613,"body_markdown":"You could pass the default value into the method as the first parameter. That would make for a cleaner implementation and make its behaviour more obvious.","body":"You could pass the default value into the method as the first parameter. That would make for a cleaner implementation and make its behaviour more obvious."}],"answers":[{"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681410199,"creation_date":1681409889,"answer_id":76008640,"question_id":76008610,"body_markdown":"Use preconditional checks:\r\n\r\n    public Integer getMaxValue(Integer one, Integer two, Integer thr) {\r\n        //Assign nulls min values, or keep if non-null\r\n        one = one == null ? Integer.MIN_VALUE : one;\r\n        two = two == null ? Integer.MIN_VALUE : two;\r\n        thr = thr == null ? Integer.MIN_VALUE : thr;\r\n        //perform comparison on non-null values\r\n        return Math.max(Math.max(one, two), three);\r\n    }\r\n\r\nBy using `Integer.MIN_VALUE`, you ensure any other `Integer` will be greater than (or equal to) the result of the `null` inputs.\r\n\r\nIt should be noted that `getMaxValue(null, null, null)` in this case would result in a `Integer.MIN_VALUE`. If you want that case handled, then you could do a precheck for all three being null, and return something else accordingly.\r\n\r\n(Note the streams solutions works well for N inputs, but in this specific case may be overkill).","title":"Max/Min of three or more Integers if null values are allowed","body":"<p>Use preconditional checks:</p>\n<pre><code>public Integer getMaxValue(Integer one, Integer two, Integer thr) {\n    //Assign nulls min values, or keep if non-null\n    one = one == null ? Integer.MIN_VALUE : one;\n    two = two == null ? Integer.MIN_VALUE : two;\n    thr = thr == null ? Integer.MIN_VALUE : thr;\n    //perform comparison on non-null values\n    return Math.max(Math.max(one, two), three);\n}\n</code></pre>\n<p>By using <code>Integer.MIN_VALUE</code>, you ensure any other <code>Integer</code> will be greater than (or equal to) the result of the <code>null</code> inputs.</p>\n<p>It should be noted that <code>getMaxValue(null, null, null)</code> in this case would result in a <code>Integer.MIN_VALUE</code>. If you want that case handled, then you could do a precheck for all three being null, and return something else accordingly.</p>\n<p>(Note the streams solutions works well for N inputs, but in this specific case may be overkill).</p>\n"},{"comments":[{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1681410416,"post_id":76008658,"comment_id":134055936,"body_markdown":"I&#39;m leaving this up as an example for how to do it for binary functions in general, but I somehow gapped that I could just use the `.max` method on `Stream`.  I would recommend that approach over this one for this specific scenario.","body":"I&#39;m leaving this up as an example for how to do it for binary functions in general, but I somehow gapped that I could just use the <code>.max</code> method on <code>Stream</code>.  I would recommend that approach over this one for this specific scenario."}],"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681410056,"creation_date":1681410056,"answer_id":76008658,"question_id":76008610,"body_markdown":"Here&#39;s a one-liner solution that uses [streams](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html):\r\n\r\n```lang-java\r\nStream.of(value1, value2, value3)\r\n        .filter(Objects::nonNull)\r\n        .reduce(Math::max)\r\n        .orElse(defaultValue);\r\n```\r\n\r\nThis creates a [`Stream`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html) containing the three values, filters out the nulls, calls `Math.max` on the elements pairwise, returning the given value or `defaultValue` if all values were null.","title":"Max/Min of three or more Integers if null values are allowed","body":"<p>Here's a one-liner solution that uses <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">streams</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.of(value1, value2, value3)\n        .filter(Objects::nonNull)\n        .reduce(Math::max)\n        .orElse(defaultValue);\n</code></pre>\n<p>This creates a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>Stream</code></a> containing the three values, filters out the nulls, calls <code>Math.max</code> on the elements pairwise, returning the given value or <code>defaultValue</code> if all values were null.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1681418670,"creation_date":1681410091,"answer_id":76008663,"question_id":76008610,"body_markdown":"How about\r\n\r\n```\r\npublic Integer getMaxValue(Integer... numbers) {\r\n    return Arrays.stream(numbers)\r\n      .filter(Objects::nonNull)\r\n      .max(naturalOrder())\r\n      .orElse(1);\r\n}\r\n```\r\n\r\nThis handles any number of Integers, any or all of which can be null.\r\n\r\n---\r\n\r\nYou could convert this to a generic method that returns [`Optional&lt;T&gt;`][1] rather than `T` since there is no common default value for `T`.\r\n\r\n```\r\npublic &lt;T extends Comparable&lt;? super T&gt;&gt; Optional&lt;T&gt; getMaxValue(T... numbers) {\r\n    return Arrays.stream(numbers)\r\n      .filter(Objects::nonNull)\r\n      .max(naturalOrder());\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Optional.html","title":"Max/Min of three or more Integers if null values are allowed","body":"<p>How about</p>\n<pre><code>public Integer getMaxValue(Integer... numbers) {\n    return Arrays.stream(numbers)\n      .filter(Objects::nonNull)\n      .max(naturalOrder())\n      .orElse(1);\n}\n</code></pre>\n<p>This handles any number of Integers, any or all of which can be null.</p>\n<hr />\n<p>You could convert this to a generic method that returns <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional&lt;T&gt;</code></a> rather than <code>T</code> since there is no common default value for <code>T</code>.</p>\n<pre><code>public &lt;T extends Comparable&lt;? super T&gt;&gt; Optional&lt;T&gt; getMaxValue(T... numbers) {\n    return Arrays.stream(numbers)\n      .filter(Objects::nonNull)\n      .max(naturalOrder());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11955653,"reputation":585,"user_id":8748083,"display_name":"RobOhRob"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681410101,"creation_date":1681410101,"answer_id":76008665,"question_id":76008610,"body_markdown":"I would recommend using Java Streams. They provide a very clean neat way to filter out nulls and return a max value, or default if all of the inputted numbers were null.\r\n\r\n    public Integer getMaxValue( Integer value1, Integer value2, Integer value3 ) {\r\n        Integer defaultValue = 1;\r\n\r\n        return Stream.of( value1, value2, value3 ) // create a stream of the values\r\n                .filter( Objects::nonNull ) // filter out the non-null values\r\n                .max( Comparator.naturalOrder() ) // grab the max value\r\n                .orElse( defaultValue ); // if all of the values were null, return the default\r\n    }","title":"Max/Min of three or more Integers if null values are allowed","body":"<p>I would recommend using Java Streams. They provide a very clean neat way to filter out nulls and return a max value, or default if all of the inputted numbers were null.</p>\n<pre><code>public Integer getMaxValue( Integer value1, Integer value2, Integer value3 ) {\n    Integer defaultValue = 1;\n\n    return Stream.of( value1, value2, value3 ) // create a stream of the values\n            .filter( Objects::nonNull ) // filter out the non-null values\n            .max( Comparator.naturalOrder() ) // grab the max value\n            .orElse( defaultValue ); // if all of the values were null, return the default\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681411944,"creation_date":1681411944,"answer_id":76008898,"question_id":76008610,"body_markdown":"Another approach by sorting nulls first: Add your values into a list, sort them in natural order and nulls first, check if last element after sorting is null, if yes return default value else return the last value:\r\n\r\n    public Integer getMaxValue(Integer... numbers) {\r\n\r\n        List&lt;Integer&gt; list = Arrays.asList(numbers);\r\n        list.sort(Comparator.nullsFirst(Comparator.naturalOrder()));\r\n\r\n        return list.get(list.size() - 1) == null ? 1 : list.get(list.size() - 1);\r\n    }","title":"Max/Min of three or more Integers if null values are allowed","body":"<p>Another approach by sorting nulls first: Add your values into a list, sort them in natural order and nulls first, check if last element after sorting is null, if yes return default value else return the last value:</p>\n<pre><code>public Integer getMaxValue(Integer... numbers) {\n\n    List&lt;Integer&gt; list = Arrays.asList(numbers);\n    list.sort(Comparator.nullsFirst(Comparator.naturalOrder()));\n\n    return list.get(list.size() - 1) == null ? 1 : list.get(list.size() - 1);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":1,"creation_date":1681487247,"post_id":76009852,"comment_id":134069559,"body_markdown":"One inefficiency with this implementation is that the entire stream needs to be copied into an in-memory collection, which depending on the source of the stream, could potentially be incredibly large.  This could be easily fixed by using `.reduce` with an operator that merged two `MinMax` values together, instead of `.collect`.","body":"One inefficiency with this implementation is that the entire stream needs to be copied into an in-memory collection, which depending on the source of the stream, could potentially be incredibly large.  This could be easily fixed by using <code>.reduce</code> with an operator that merged two <code>MinMax</code> values together, instead of <code>.collect</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1681490536,"post_id":76009852,"comment_id":134070382,"body_markdown":"@M.Justin Valid point. I added a disclaimer up top and at bottom. Thank you.","body":"@M.Justin Valid point. I added a disclaimer up top and at bottom. Thank you."},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1681747975,"post_id":76009852,"comment_id":134103295,"body_markdown":"Hm ... why not simply use `Collectors.summarizingInt`? That gives both min and max,  is easier to write, and faster to execute ...","body":"Hm ... why not simply use <code>Collectors.summarizingInt</code>? That gives both min and max,  is easier to write, and faster to execute ..."},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1681748821,"post_id":76009852,"comment_id":134103460,"body_markdown":"Or `Collectors.teeing(Collectors.minBy(order), Collectors.maxBy(order), MinMax::new)`","body":"Or <code>Collectors.teeing(Collectors.minBy(order), Collectors.maxBy(order), MinMax::new)</code>"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681506957,"creation_date":1681420160,"answer_id":76009852,"question_id":76008610,"body_markdown":"Some good Answers already. Here is a variation if you want *both* min and max, and you have a small set of data residing in memory. \r\n\r\n# For min *and* max\r\n\r\nDefine a [record][1] to hold the result.\r\n\r\n    record MinMax( Integer min , Integer max ) { }\r\n\r\nSome example data.\r\n\r\n    List &lt; Integer &gt; integers = List.of( 7 , 99 , 42 , 3 );\r\n\r\nMake a [`Deque`][2] from that list, after (a) skipping nulls, and (b) sorting.\r\n\r\n```java\r\nDeque &lt; Integer &gt; deque =\r\n        integers\r\n                .stream()\r\n                .filter( Objects :: nonNull )\r\n                .sorted()\r\n                .collect( Collectors.toCollection( ArrayDeque :: new ) );\r\n```\r\n\r\nPull the first (min) and last (max) from the deque. Construct a `MinMax` record.\r\n\r\n```java\r\nMinMax minMax = new MinMax( deque.peekFirst() , deque.peekLast() );\r\n```\r\n\r\nWhen run:\r\n\r\n&gt;minMax.toString() = MinMax[min=3, max=99]\r\n\r\nIf the input list contains no integers, both fields of `MinMax` are null.\r\n\r\nIf the input list contains 1 integer, both fields of `MinMax` contain the same number. \r\n\r\n\r\nYou might want to add a convenience method to your record named something like `minEqualsMax` to see [if both fields have the same number or both are null][3].\r\n\r\n```java\r\nrecord MinMax( Integer min , Integer max ) \r\n{ \r\n    boolean minEqualsMax () { return Objects.equals( min , max ) ; }\r\n}\r\n```\r\n\r\nWe can move our deque code into a static factory method on the record `MinMax`. We could name this method `fromList`, but actually, this code works on any [`Collection`][4]. So we name it `fromCollection`.\r\n\r\nFull class example.\r\n\r\n```java\r\npackage work.basil.example.minmax;\r\n\r\nimport java.util.ArrayDeque;\r\nimport java.util.Deque;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.stream.Collectors;\r\n\r\npublic record MinMax( Integer min , Integer max )\r\n{\r\n    static MinMax fromCollection ( final Collection &lt; Integer &gt; integers )\r\n    {\r\n        Deque &lt; Integer &gt; deque =\r\n                integers\r\n                        .stream()\r\n                        .filter( Objects :: nonNull )\r\n                        .sorted()\r\n                        .collect( Collectors.toCollection( ArrayDeque :: new ) );\r\n        return new MinMax( deque.peekFirst() , deque.peekLast() );\r\n    }\r\n\r\n    boolean minEqualsMax ( ) { return Objects.equals( min , max ); }\r\n}\r\n```\r\n\r\nNow we can write simple code like:\r\n\r\n    MinMax minMax = MinMax.fromCollection( List.of( 7 , 99 , 42 , 3 ) ) ;\r\n\r\nDemo code.\r\n\r\n```java\r\nList &lt; List &lt; Integer &gt; &gt; lists =\r\n        List.of(\r\n                List.of( 7 , 99 , 42 , 3 ) ,\r\n                List.of( 42 ) ,\r\n                List.of()\r\n        );\r\nlists.forEach(\r\n        list -&gt; System.out.println( MinMax.fromCollection( list ) )\r\n);\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nMinMax[min=3, max=99]\r\nMinMax[min=42, max=42]\r\nMinMax[min=null, max=null]\r\n```\r\n\r\nCaveat: Sorting is expensive if you have a very large number of elements, or if the elements are not all loaded into memory. For those cases, do not use the approach of this Answer. But for common cases such as processing line items on an invoice, this approach is reasonable. \r\n\r\n\r\n  [1]: https://openjdk.org/jeps/395\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Deque.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Objects.html#equals(java.lang.Object,java.lang.Object)\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html","title":"Max/Min of three or more Integers if null values are allowed","body":"<p>Some good Answers already. Here is a variation if you want <em>both</em> min and max, and you have a small set of data residing in memory.</p>\n<h1>For min <em>and</em> max</h1>\n<p>Define a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a> to hold the result.</p>\n<pre><code>record MinMax( Integer min , Integer max ) { }\n</code></pre>\n<p>Some example data.</p>\n<pre><code>List &lt; Integer &gt; integers = List.of( 7 , 99 , 42 , 3 );\n</code></pre>\n<p>Make a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Deque.html\" rel=\"nofollow noreferrer\"><code>Deque</code></a> from that list, after (a) skipping nulls, and (b) sorting.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Deque &lt; Integer &gt; deque =\n        integers\n                .stream()\n                .filter( Objects :: nonNull )\n                .sorted()\n                .collect( Collectors.toCollection( ArrayDeque :: new ) );\n</code></pre>\n<p>Pull the first (min) and last (max) from the deque. Construct a <code>MinMax</code> record.</p>\n<pre class=\"lang-java prettyprint-override\"><code>MinMax minMax = new MinMax( deque.peekFirst() , deque.peekLast() );\n</code></pre>\n<p>When run:</p>\n<blockquote>\n<p>minMax.toString() = MinMax[min=3, max=99]</p>\n</blockquote>\n<p>If the input list contains no integers, both fields of <code>MinMax</code> are null.</p>\n<p>If the input list contains 1 integer, both fields of <code>MinMax</code> contain the same number.</p>\n<p>You might want to add a convenience method to your record named something like <code>minEqualsMax</code> to see <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Objects.html#equals(java.lang.Object,java.lang.Object)\" rel=\"nofollow noreferrer\">if both fields have the same number or both are null</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record MinMax( Integer min , Integer max ) \n{ \n    boolean minEqualsMax () { return Objects.equals( min , max ) ; }\n}\n</code></pre>\n<p>We can move our deque code into a static factory method on the record <code>MinMax</code>. We could name this method <code>fromList</code>, but actually, this code works on any <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html\" rel=\"nofollow noreferrer\"><code>Collection</code></a>. So we name it <code>fromCollection</code>.</p>\n<p>Full class example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.minmax;\n\nimport java.util.ArrayDeque;\nimport java.util.Deque;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.stream.Collectors;\n\npublic record MinMax( Integer min , Integer max )\n{\n    static MinMax fromCollection ( final Collection &lt; Integer &gt; integers )\n    {\n        Deque &lt; Integer &gt; deque =\n                integers\n                        .stream()\n                        .filter( Objects :: nonNull )\n                        .sorted()\n                        .collect( Collectors.toCollection( ArrayDeque :: new ) );\n        return new MinMax( deque.peekFirst() , deque.peekLast() );\n    }\n\n    boolean minEqualsMax ( ) { return Objects.equals( min , max ); }\n}\n</code></pre>\n<p>Now we can write simple code like:</p>\n<pre><code>MinMax minMax = MinMax.fromCollection( List.of( 7 , 99 , 42 , 3 ) ) ;\n</code></pre>\n<p>Demo code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; List &lt; Integer &gt; &gt; lists =\n        List.of(\n                List.of( 7 , 99 , 42 , 3 ) ,\n                List.of( 42 ) ,\n                List.of()\n        );\nlists.forEach(\n        list -&gt; System.out.println( MinMax.fromCollection( list ) )\n);\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>MinMax[min=3, max=99]\nMinMax[min=42, max=42]\nMinMax[min=null, max=null]\n</code></pre>\n<p>Caveat: Sorting is expensive if you have a very large number of elements, or if the elements are not all loaded into memory. For those cases, do not use the approach of this Answer. But for common cases such as processing line items on an invoice, this approach is reasonable.</p>\n"}],"owner":{"account_id":27903581,"reputation":37,"user_id":21307309,"display_name":"noob555"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":791,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76008663,"answer_count":6,"score":2,"last_activity_date":1681506957,"creation_date":1681409639,"question_id":76008610,"body_markdown":"I am wondering if there a better, short and elegant way to achieve this than what i am trying. Let&#39;s say i have 3 Integers(value1, value2, value3) and i want to find max value out of those Integers and null values are allowed for them. I cannot use below code because it could throw NullPointerException:\r\n\r\n    Math.max(Math.max(value1, value2), value3)\r\n\r\nI have written a barbaric code(shown below) but it won&#39;t scale for more than 3 integers:\r\n\r\n    public Integer getMaxValue(Integer value1, Integer value2, Integer value3) {\r\n\r\n        Integer defaultValue = 1;\r\n\r\n        if (value1 == null &amp;&amp; value2 == null &amp;&amp; value3 == null) {\r\n            return defaultValue;\r\n        } else if (value1 == null &amp;&amp; value2 != null &amp;&amp; value3 != null) {\r\n            return Math.max(value2, value3);\r\n        } else if (value2 == null &amp;&amp; value1 != null &amp;&amp; value3 != null) {\r\n            return Math.max(value1, value3);\r\n        } else if (value3 == null &amp;&amp; value1 != null &amp;&amp; value2 != null) {\r\n            return Math.max(value1, value2);\r\n        } else if (value1 == null &amp;&amp; value2 == null) {\r\n            return value3;\r\n        } else if (value2 == null &amp;&amp; value3 == null) {\r\n            return value1;\r\n        } else if (value1 == null &amp;&amp; value3 == null) {\r\n            return value2;\r\n        } else {\r\n            return Math.max(Math.max(value1, value2), value3);\r\n        }\r\n    }","title":"Max/Min of three or more Integers if null values are allowed","body":"<p>I am wondering if there a better, short and elegant way to achieve this than what i am trying. Let's say i have 3 Integers(value1, value2, value3) and i want to find max value out of those Integers and null values are allowed for them. I cannot use below code because it could throw NullPointerException:</p>\n<pre><code>Math.max(Math.max(value1, value2), value3)\n</code></pre>\n<p>I have written a barbaric code(shown below) but it won't scale for more than 3 integers:</p>\n<pre><code>public Integer getMaxValue(Integer value1, Integer value2, Integer value3) {\n\n    Integer defaultValue = 1;\n\n    if (value1 == null &amp;&amp; value2 == null &amp;&amp; value3 == null) {\n        return defaultValue;\n    } else if (value1 == null &amp;&amp; value2 != null &amp;&amp; value3 != null) {\n        return Math.max(value2, value3);\n    } else if (value2 == null &amp;&amp; value1 != null &amp;&amp; value3 != null) {\n        return Math.max(value1, value3);\n    } else if (value3 == null &amp;&amp; value1 != null &amp;&amp; value2 != null) {\n        return Math.max(value1, value2);\n    } else if (value1 == null &amp;&amp; value2 == null) {\n        return value3;\n    } else if (value2 == null &amp;&amp; value3 == null) {\n        return value1;\n    } else if (value1 == null &amp;&amp; value3 == null) {\n        return value2;\n    } else {\n        return Math.max(Math.max(value1, value2), value3);\n    }\n}\n</code></pre>\n"},{"tags":["java","docker","maven","dockerfile"],"comments":[{"owner":{"account_id":6375533,"reputation":94,"user_id":4946616,"display_name":"aedemirsen"},"score":0,"creation_date":1681501798,"post_id":76018101,"comment_id":134072466,"body_markdown":"are you sure .mvn is not in .dockerignore?","body":"are you sure .mvn is not in .dockerignore?"},{"owner":{"account_id":12249947,"reputation":913,"user_id":8940624,"display_name":"Chris A"},"score":0,"creation_date":1681503036,"post_id":76018101,"comment_id":134072664,"body_markdown":"Yes as I haven&#39;t created a .dockerignore","body":"Yes as I haven&#39;t created a .dockerignore"},{"owner":{"account_id":12249947,"reputation":913,"user_id":8940624,"display_name":"Chris A"},"score":0,"creation_date":1681503833,"post_id":76018101,"comment_id":134072797,"body_markdown":"Is .mvn supposed to be in my project directory? I have mvnw and mvnw.cmd but no .mvn","body":"Is .mvn supposed to be in my project directory? I have mvnw and mvnw.cmd but no .mvn"}],"answers":[{"tags":[],"owner":{"account_id":12249947,"reputation":913,"user_id":8940624,"display_name":"Chris A"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681506158,"creation_date":1681506158,"answer_id":76018924,"question_id":76018101,"body_markdown":"The .mvn folder it was looking for was supposed to be in the project directory. Running `mvn -N wrapper:wrapper` generated this folder https://www.baeldung.com/maven-wrapper","title":".mvn not found in Docker build","body":"<p>The .mvn folder it was looking for was supposed to be in the project directory. Running <code>mvn -N wrapper:wrapper</code> generated this folder <a href=\"https://www.baeldung.com/maven-wrapper\" rel=\"nofollow noreferrer\">https://www.baeldung.com/maven-wrapper</a></p>\n"}],"owner":{"account_id":12249947,"reputation":913,"user_id":8940624,"display_name":"Chris A"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76018924,"answer_count":1,"score":0,"last_activity_date":1681506158,"creation_date":1681497922,"question_id":76018101,"body_markdown":"I&#39;m trying to follow the guide at https://docs.docker.com/language/java/build-images/#create-a-dockerfile-for-java\r\n\r\nbut the build keeps failing on the line `COPY .mvn/ .mvn` because it cannot find .mvn\r\n\r\nMy understanding is that it should be finding .mvn bundled in with the eclipse-temurin:17-jdk-jammy which it downloaded in step 1. I don&#39;t know how to diagnose whether .mvn is indeed there and/or why it&#39;s not able to find it in step 3\r\n\r\n### Full dockerfile\r\n```docker\r\n# syntax=docker/dockerfile:1\r\n\r\nFROM eclipse-temurin:17-jdk-jammy\r\nWORKDIR /app\r\n\r\nCOPY .mvn/ .mvn\r\nCOPY mvnw pom.xml ./\r\nRUN mvnw dependency:resolve\r\n\r\nCOPY src ./src\r\n\r\nCMD [&quot;./mvnw&quot;, &quot;spring-boot:run&quot;]\r\n```\r\n\r\n### Full build output\r\n```\r\nDeploying &#39;&lt;unknown&gt; Dockerfile: backend/Dockerfile&#39;�\r\nBuilding image�\r\nPreparing build context archive�\r\n[==================================================&gt;]112/112 files\r\nDone\r\n\r\nSending build context to Docker daemon�\r\n[==================================================&gt;] 39.91kB\r\nDone\r\n\r\nStep 1/7 : FROM eclipse-temurin:17-jdk-jammy\r\n ---&gt; 700139b9ad2f\r\nStep 2/7 : WORKDIR /app\r\n ---&gt; Using cache\r\n ---&gt; 8ff15cfba104\r\nStep 3/7 : COPY .mvn/ .mvn\r\nError response from daemon: COPY failed: file not found in build context or excluded by .dockerignore: stat .mvn/: file does not exist\r\nFailed to deploy &#39;&lt;unknown&gt; Dockerfile: backend/Dockerfile&#39;: Can&#39;t retrieve image ID from build stream\r\n\r\n```","title":".mvn not found in Docker build","body":"<p>I'm trying to follow the guide at <a href=\"https://docs.docker.com/language/java/build-images/#create-a-dockerfile-for-java\" rel=\"nofollow noreferrer\">https://docs.docker.com/language/java/build-images/#create-a-dockerfile-for-java</a></p>\n<p>but the build keeps failing on the line <code>COPY .mvn/ .mvn</code> because it cannot find .mvn</p>\n<p>My understanding is that it should be finding .mvn bundled in with the eclipse-temurin:17-jdk-jammy which it downloaded in step 1. I don't know how to diagnose whether .mvn is indeed there and/or why it's not able to find it in step 3</p>\n<h3>Full dockerfile</h3>\n<pre><code># syntax=docker/dockerfile:1\n\nFROM eclipse-temurin:17-jdk-jammy\nWORKDIR /app\n\nCOPY .mvn/ .mvn\nCOPY mvnw pom.xml ./\nRUN mvnw dependency:resolve\n\nCOPY src ./src\n\nCMD [&quot;./mvnw&quot;, &quot;spring-boot:run&quot;]\n</code></pre>\n<h3>Full build output</h3>\n<pre><code>Deploying '&lt;unknown&gt; Dockerfile: backend/Dockerfile'�\nBuilding image�\nPreparing build context archive�\n[==================================================&gt;]112/112 files\nDone\n\nSending build context to Docker daemon�\n[==================================================&gt;] 39.91kB\nDone\n\nStep 1/7 : FROM eclipse-temurin:17-jdk-jammy\n ---&gt; 700139b9ad2f\nStep 2/7 : WORKDIR /app\n ---&gt; Using cache\n ---&gt; 8ff15cfba104\nStep 3/7 : COPY .mvn/ .mvn\nError response from daemon: COPY failed: file not found in build context or excluded by .dockerignore: stat .mvn/: file does not exist\nFailed to deploy '&lt;unknown&gt; Dockerfile: backend/Dockerfile': Can't retrieve image ID from build stream\n\n</code></pre>\n"},{"tags":["java","arrays","spring-boot","arraylist","casting"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1680781966,"post_id":75949102,"comment_id":133958033,"body_markdown":"Nothing wrong with this approach.","body":"Nothing wrong with this approach."},{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680782073,"post_id":75949102,"comment_id":133958062,"body_markdown":"Thanks for help. But actually I have never seen 2 map in the same stream and it sounds a little bit weird :) So, there is not a better way to use 2 methods in a single map method via method reference, right?","body":"Thanks for help. But actually I have never seen 2 map in the same stream and it sounds a little bit weird :) So, there is not a better way to use 2 methods in a single map method via method reference, right?"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1680782252,"post_id":75949102,"comment_id":133958101,"body_markdown":"you haven&#39;t seen many streams, then ;-) Chaining `map` calls is fine. Actually if you are already using streams, you might be interested in [Files.lines](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path)), which returns a stream of lines (i.e. could replace your `while` loop).","body":"you haven&#39;t seen many streams, then ;-) Chaining <code>map</code> calls is fine. Actually if you are already using streams, you might be interested in <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path)\" rel=\"nofollow noreferrer\">Files.lines</a>, which returns a stream of lines (i.e. could replace your <code>while</code> loop)."},{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680782936,"post_id":75949102,"comment_id":133958248,"body_markdown":"haha, yes you right :)) Actually, I have look at many examples to improve my knowledge on Streams, but could not find a comprehensive examples. So, would you suggest any tutorial or article for Java Stream with s-examples please? Many thanks.","body":"haha, yes you right :)) Actually, I have look at many examples to improve my knowledge on Streams, but could not find a comprehensive examples. So, would you suggest any tutorial or article for Java Stream with s-examples please? Many thanks."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1680789508,"post_id":75949102,"comment_id":133959847,"body_markdown":"Naming is hard, it always depends on context/domain. I suppose this is from a math problem/algorithm? In that case, it will depend on whether there are any `x` variables nearby that could lead to confusion, e.g. `ax` might be mistaken for &quot;a * x&quot;, or for &quot;x component of vector a&quot;. In case of doubt, use longer, more descriptive names rather than the sometimes extreme brevity of mathematical symbols. As for tutorials, there is always the [official oracle tutorial on streams](https://docs.oracle.com/javase/tutorial/collections/streams/index.html).","body":"Naming is hard, it always depends on context/domain. I suppose this is from a math problem/algorithm? In that case, it will depend on whether there are any <code>x</code> variables nearby that could lead to confusion, e.g. <code>ax</code> might be mistaken for &quot;a * x&quot;, or for &quot;x component of vector a&quot;. In case of doubt, use longer, more descriptive names rather than the sometimes extreme brevity of mathematical symbols. As for tutorials, there is always the <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/index.html\" rel=\"nofollow noreferrer\">official oracle tutorial on streams</a>."}],"answers":[{"comments":[{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680781863,"post_id":75949163,"comment_id":133958012,"body_markdown":"Thanks, just seen your answer after adding an update. I am wondering if I also want to use `.map(String::trim)` before `.map(Integer::parseInt)`, then how should I use it? Could you see my update?","body":"Thanks, just seen your answer after adding an update. I am wondering if I also want to use <code>.map(String::trim)</code> before <code>.map(Integer::parseInt)</code>, then how should I use it? Could you see my update?"},{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1680782030,"post_id":75949163,"comment_id":133958046,"body_markdown":"updated the answer as per updated question","body":"updated the answer as per updated question"}],"tags":[],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680782637,"creation_date":1680781659,"answer_id":75949163,"question_id":75949102,"body_markdown":"You need to split the line on comma before converting it to List of integers\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\r\n    while ((line = reader.readLine()) != null) {\r\n        System.out.println(line); // 000,050,007\r\n        List&lt;Integer&gt; integers = Arrays.stream(line.split(&quot;,&quot;))\r\n            .map(s -&gt; Integer.parseInt(s.trim()))\r\n            .toList();\r\n        list.add(integers);\r\n    }\r\n\r\nNote that having multiple `map` calls doesn&#39;t affect the performance, you just need to decide based on readability here.\r\n        \r\nAs you are using `BufferedReader`, you can replace `while` loop with stream\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; list = reader.lines().map(line -&gt;\r\n        Arrays.stream(line.split(&quot;,&quot;))\r\n            .map(s -&gt; Integer.parseInt(s.trim()))\r\n            .toList()\r\n    ).toList();","title":"Reading 3 digits string numbers to an ArrayList?","body":"<p>You need to split the line on comma before converting it to List of integers</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\nwhile ((line = reader.readLine()) != null) {\n    System.out.println(line); // 000,050,007\n    List&lt;Integer&gt; integers = Arrays.stream(line.split(&quot;,&quot;))\n        .map(s -&gt; Integer.parseInt(s.trim()))\n        .toList();\n    list.add(integers);\n}\n</code></pre>\n<p>Note that having multiple <code>map</code> calls doesn't affect the performance, you just need to decide based on readability here.</p>\n<p>As you are using <code>BufferedReader</code>, you can replace <code>while</code> loop with stream</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; list = reader.lines().map(line -&gt;\n    Arrays.stream(line.split(&quot;,&quot;))\n        .map(s -&gt; Integer.parseInt(s.trim()))\n        .toList()\n).toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680784582,"creation_date":1680784582,"answer_id":75949593,"question_id":75949102,"body_markdown":"A `Scanner` is possible too:\r\n\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    \r\n    public class NScan {\r\n        public static void main(String[] args) {\r\n            try (Scanner s = new Scanner(Files.newBufferedReader(Path.of(args[0]))).useDelimiter(&quot;[\\r\\n,]&quot;)) {\r\n                List&lt;Integer&gt; ints = s.tokens().\r\n                    map(String::trim).\r\n                    map(Integer::valueOf).\r\n                    toList();\r\n                System.out.println(ints);\r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Reading 3 digits string numbers to an ArrayList?","body":"<p>A <code>Scanner</code> is possible too:</p>\n<pre><code>import java.util.List;\nimport java.util.Scanner;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\n\npublic class NScan {\n    public static void main(String[] args) {\n        try (Scanner s = new Scanner(Files.newBufferedReader(Path.of(args[0]))).useDelimiter(&quot;[\\r\\n,]&quot;)) {\n            List&lt;Integer&gt; ints = s.tokens().\n                map(String::trim).\n                map(Integer::valueOf).\n                toList();\n            System.out.println(ints);\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75949163,"answer_count":2,"score":1,"last_activity_date":1681505695,"creation_date":1680781231,"question_id":75949102,"body_markdown":"I am reading values from a text files as shown below:\r\n\r\n```\r\n000,050,007\r\n059,000,157\r\n002,038,000\r\n```\r\n\r\nI get a line in the following block:\r\n\r\n```\r\nwhile ((line = reader.readLine()) != null) {\r\n    System.out.println(line); // 000,050,007\r\n    List&lt;Integer&gt; list = List.of(Integer.parseInt(line))\r\n}\r\n```\r\n\r\nHowever, I cannot cast the 3 digit values (string) to Integer. So, how can I do this in an elegant way? \r\n\r\n\r\n**Update:** I use the following approach, but I am not sure if there is a better way than using `map()` 2 times? \r\n\r\n```\r\nList&lt;Integer&gt; items= Stream.of(line.split(&quot;,&quot;))\r\n                        .map(String::trim)\r\n                        .map(Integer::parseInt)\r\n                        .toList();\r\n```","title":"Reading 3 digits string numbers to an ArrayList?","body":"<p>I am reading values from a text files as shown below:</p>\n<pre><code>000,050,007\n059,000,157\n002,038,000\n</code></pre>\n<p>I get a line in the following block:</p>\n<pre><code>while ((line = reader.readLine()) != null) {\n    System.out.println(line); // 000,050,007\n    List&lt;Integer&gt; list = List.of(Integer.parseInt(line))\n}\n</code></pre>\n<p>However, I cannot cast the 3 digit values (string) to Integer. So, how can I do this in an elegant way?</p>\n<p><strong>Update:</strong> I use the following approach, but I am not sure if there is a better way than using <code>map()</code> 2 times?</p>\n<pre><code>List&lt;Integer&gt; items= Stream.of(line.split(&quot;,&quot;))\n                        .map(String::trim)\n                        .map(Integer::parseInt)\n                        .toList();\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2447599,"reputation":1081,"user_id":2134536,"display_name":"reactive-core"},"score":0,"creation_date":1687814171,"post_id":76018718,"comment_id":134986600,"body_markdown":"Did you find a good solution?  I thought maybe setting the readiness state to refusing traffic after the application starts up, but not sure how stable that will be.","body":"Did you find a good solution?  I thought maybe setting the readiness state to refusing traffic after the application starts up, but not sure how stable that will be."},{"owner":{"account_id":5773,"reputation":3320,"user_id":9458,"accept_rate":67,"display_name":"F&#225;bio"},"score":0,"creation_date":1688509559,"post_id":76018718,"comment_id":135082484,"body_markdown":"@reactive-core I used the solution posted by Poklakni, Spring will wait until all event listeners finish before setting the LivenessState and ReadinessState","body":"@reactive-core I used the solution posted by Poklakni, Spring will wait until all event listeners finish before setting the LivenessState and ReadinessState"}],"answers":[{"tags":[],"owner":{"account_id":14450502,"reputation":314,"user_id":10438187,"display_name":"Poklakni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681505346,"creation_date":1681504647,"answer_id":76018775,"question_id":76018718,"body_markdown":"You can create your own `HealthIndicator` that marks your app as ready after the data is `loaded`\r\n\r\n```java\r\n@Component\r\npublic class DataLoadingHealthIndicator implements HealthIndicator {\r\n\r\n    private boolean dataLoaded = false;\r\n\r\n    @EventListener\r\n    public void handleContextRefresh(ContextRefreshedEvent event) {\r\n        // Load your data here\r\n        dataLoaded = true;\r\n    }\r\n\r\n    @Override\r\n    public Health health() {\r\n        if (dataLoaded) {\r\n            return Health.up().build();\r\n        } else {\r\n            return Health.down().build();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nif you don&#39;t want to load the data in the health indicator, you can fire a custom event right after you load the data and listen to that event in your custom health indicator.\r\n\r\nmore useful info can be found here: https://stackoverflow.com/questions/20275952/java-listen-to-contextrefreshedevent","title":"Start Spring Boot refusing traffic at first","body":"<p>You can create your own <code>HealthIndicator</code> that marks your app as ready after the data is <code>loaded</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class DataLoadingHealthIndicator implements HealthIndicator {\n\n    private boolean dataLoaded = false;\n\n    @EventListener\n    public void handleContextRefresh(ContextRefreshedEvent event) {\n        // Load your data here\n        dataLoaded = true;\n    }\n\n    @Override\n    public Health health() {\n        if (dataLoaded) {\n            return Health.up().build();\n        } else {\n            return Health.down().build();\n        }\n    }\n}\n</code></pre>\n<p>if you don't want to load the data in the health indicator, you can fire a custom event right after you load the data and listen to that event in your custom health indicator.</p>\n<p>more useful info can be found here: <a href=\"https://stackoverflow.com/questions/20275952/java-listen-to-contextrefreshedevent\">java listen to ContextRefreshedEvent</a></p>\n"}],"owner":{"account_id":5773,"reputation":3320,"user_id":9458,"accept_rate":67,"display_name":"F&#225;bio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76018775,"answer_count":1,"score":1,"last_activity_date":1681505346,"creation_date":1681504122,"question_id":76018718,"body_markdown":"Right after all the beans are created and started, Spring Boot sets the *LivenessState* to *CORRECT* and *ReadinessState* to *ACCEPTING_TRAFFIC*.\r\n\r\nHowever, after my application starts, it still needs to load a bunch of data on a *ContextRefreshedEvent* event listener.\r\n\r\nHow do I prevent setting the *ReadinessState* to *ACCEPTING_TRAFFIC* automatically?","title":"Start Spring Boot refusing traffic at first","body":"<p>Right after all the beans are created and started, Spring Boot sets the <em>LivenessState</em> to <em>CORRECT</em> and <em>ReadinessState</em> to <em>ACCEPTING_TRAFFIC</em>.</p>\n<p>However, after my application starts, it still needs to load a bunch of data on a <em>ContextRefreshedEvent</em> event listener.</p>\n<p>How do I prevent setting the <em>ReadinessState</em> to <em>ACCEPTING_TRAFFIC</em> automatically?</p>\n"},{"tags":["java","methods","getter"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1424785799,"post_id":28697484,"comment_id":45685124,"body_markdown":"You might want to look at `java.beans.Introspector`.","body":"You might want to look at <code>java.beans.Introspector</code>."},{"owner":{"account_id":4506745,"reputation":7017,"user_id":3663882,"accept_rate":67,"display_name":"user3663882"},"score":0,"creation_date":1424785953,"post_id":28697484,"comment_id":45685237,"body_markdown":"@JonSkeet Looks like what I&#39;m looking for. Would you mind providing a complete answer?","body":"@JonSkeet Looks like what I&#39;m looking for. Would you mind providing a complete answer?"},{"owner":{"account_id":3785624,"reputation":7670,"user_id":3143670,"accept_rate":50,"display_name":"Neeraj Jain"},"score":1,"creation_date":1424786062,"post_id":28697484,"comment_id":45685330,"body_markdown":"@user3663882  [Check this tutorial](http://www.programcreek.com/java-api-examples/index.php?api=java.beans.BeanInfo)","body":"@user3663882  <a href=\"http://www.programcreek.com/java-api-examples/index.php?api=java.beans.BeanInfo\" rel=\"nofollow noreferrer\">Check this tutorial</a>"}],"answers":[{"comments":[{"owner":{"account_id":4506745,"reputation":7017,"user_id":3663882,"accept_rate":67,"display_name":"user3663882"},"score":0,"creation_date":1424786239,"post_id":28697618,"comment_id":45685468,"body_markdown":"Great, thank you. Couldn&#39;t you amplify your answer with some normative refernces.","body":"Great, thank you. Couldn&#39;t you amplify your answer with some normative refernces."},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1424786535,"post_id":28697618,"comment_id":45685666,"body_markdown":"Read the PropertyDescriptor documentation : `PropertyDescriptor(String propertyName, Class&lt;?&gt; beanClass)` \n*Constructs a PropertyDescriptor for a property that follows the standard Java convention by having getFoo and setFoo accessor methods*.","body":"Read the PropertyDescriptor documentation : <code>PropertyDescriptor(String propertyName, Class&lt;?&gt; beanClass)</code>  <i>Constructs a PropertyDescriptor for a property that follows the standard Java convention by having getFoo and setFoo accessor methods</i>."},{"owner":{"account_id":4506745,"reputation":7017,"user_id":3663882,"accept_rate":67,"display_name":"user3663882"},"score":1,"creation_date":1424792379,"post_id":28697618,"comment_id":45690015,"body_markdown":"@Jean-BaptisteYun&#232;s Will the getter be invoked if we don&#39;t have a corresponding filed and setter, just `getField()`?","body":"@Jean-BaptisteYun&#232;s Will the getter be invoked if we don&#39;t have a corresponding filed and setter, just <code>getField()</code>?"},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1424792582,"post_id":28697618,"comment_id":45690190,"body_markdown":"Yes. You can have readonly, writeonly, readwrite properties. Only methods are necessary, you may not have an associated field.","body":"Yes. You can have readonly, writeonly, readwrite properties. Only methods are necessary, you may not have an associated field."},{"owner":{"account_id":5143608,"reputation":1009,"user_id":4120181,"accept_rate":33,"display_name":"AnirbanDebnath"},"score":0,"creation_date":1471451548,"post_id":28697618,"comment_id":65355523,"body_markdown":"Superb example. I was wandering everywhere to find the most simplistic solution. This helped me at last.","body":"Superb example. I was wandering everywhere to find the most simplistic solution. This helped me at last."},{"owner":{"account_id":6018672,"reputation":381,"user_id":4726572,"display_name":"shivesh verma"},"score":0,"creation_date":1520497450,"post_id":28697618,"comment_id":85341984,"body_markdown":"Very simple, succinct and complete. Thank you.","body":"Very simple, succinct and complete. Thank you."},{"owner":{"account_id":15292555,"reputation":152,"user_id":11036999,"display_name":"ManSamVampire"},"score":1,"creation_date":1681481480,"post_id":28697618,"comment_id":134067969,"body_markdown":"This is a good solution but as @user3663882 suspected, the constructor throws an IntrospectionException if any of the getter/setter is absent. A better solution is to use `Introspector.getBeanInfo(...).getPropertyDescriptors()` as suggested [here](https://stackoverflow.com/a/2638662) - it works fine even when only either is present.","body":"This is a good solution but as @user3663882 suspected, the constructor throws an IntrospectionException if any of the getter/setter is absent. A better solution is to use <code>Introspector.getBeanInfo(...).getPropertyDescriptors()</code> as suggested <a href=\"https://stackoverflow.com/a/2638662\">here</a> - it works fine even when only either is present."}],"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"comment_count":7,"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1681505309,"creation_date":1424786021,"answer_id":28697618,"question_id":28697484,"body_markdown":"How about using [`java.beans.PropertyDescriptor`][1] (assuming your property has correct *setter* and *getter* - so in your case you need to correct your `private String setField(String field)` setter since (a) its return type should be `void` not `String`, (b) it should be `public` not `private`).\r\n\r\n    Object f = new PropertyDescriptor(&quot;field&quot;, A.class).getReadMethod().invoke(a);\r\n\r\nor little longer version (which does exactly same as previous one)\r\n\r\n\tPropertyDescriptor pd = new PropertyDescriptor(&quot;field&quot;, A.class);\r\n\tMethod getter = pd.getReadMethod();\r\n\tObject f = getter.invoke(a);\r\n\r\n`PropertyDescriptor` allows us to do many things, for instance its [`getReadMethod()`][2] \r\n\r\n&gt;Gets the method that should be used to read the property value.\r\n\r\nSo we can get instance of `java.reflect.Method` representing getter for `field`. All we need to do now is simply invoke it on bean from which we want to get result.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/beans/PropertyDescriptor.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/beans/PropertyDescriptor.html#getReadMethod--","title":"How to invoke a getter method by its name?","body":"<p>How about using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/beans/PropertyDescriptor.html\" rel=\"nofollow noreferrer\"><code>java.beans.PropertyDescriptor</code></a> (assuming your property has correct <em>setter</em> and <em>getter</em> - so in your case you need to correct your <code>private String setField(String field)</code> setter since (a) its return type should be <code>void</code> not <code>String</code>, (b) it should be <code>public</code> not <code>private</code>).</p>\n<pre><code>Object f = new PropertyDescriptor(&quot;field&quot;, A.class).getReadMethod().invoke(a);\n</code></pre>\n<p>or little longer version (which does exactly same as previous one)</p>\n<pre><code>PropertyDescriptor pd = new PropertyDescriptor(&quot;field&quot;, A.class);\nMethod getter = pd.getReadMethod();\nObject f = getter.invoke(a);\n</code></pre>\n<p><code>PropertyDescriptor</code> allows us to do many things, for instance its <a href=\"http://docs.oracle.com/javase/8/docs/api/java/beans/PropertyDescriptor.html#getReadMethod--\" rel=\"nofollow noreferrer\"><code>getReadMethod()</code></a></p>\n<blockquote>\n<p>Gets the method that should be used to read the property value.</p>\n</blockquote>\n<p>So we can get instance of <code>java.reflect.Method</code> representing getter for <code>field</code>. All we need to do now is simply invoke it on bean from which we want to get result.</p>\n"},{"tags":[],"owner":{"account_id":5143608,"reputation":1009,"user_id":4120181,"accept_rate":33,"display_name":"AnirbanDebnath"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1471454281,"creation_date":1471454281,"answer_id":39002727,"question_id":28697484,"body_markdown":"Another easy way is to use the basic java reflection.\r\n\r\n    Method fieldGetter = A.getClass().getMethod(&quot;getField&quot;);\r\n    String f = fieldGetter.invoke(A).toString();\r\n\r\nAs simple as that.\r\nCheers !!","title":"How to invoke a getter method by its name?","body":"<p>Another easy way is to use the basic java reflection.</p>\n\n<pre><code>Method fieldGetter = A.getClass().getMethod(\"getField\");\nString f = fieldGetter.invoke(A).toString();\n</code></pre>\n\n<p>As simple as that.\nCheers !!</p>\n"}],"owner":{"account_id":4506745,"reputation":7017,"user_id":3663882,"accept_rate":67,"display_name":"user3663882"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43733,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":2,"score":19,"last_activity_date":1681505309,"creation_date":1424785649,"question_id":28697484,"body_markdown":"I have the following bean class:\r\n\r\n    public class A{\r\n            private String field;\r\n    \r\n        \tpublic String getField() {\r\n    \t\t    return field;\r\n            }\r\n    \r\n            private String setField(String field) {\r\n        \t    this.field = field;\r\n            }\r\n    \r\n        }\r\n\r\nAnd the following class:\r\n\r\n        public class B{\r\n        \r\n             public static void main(String[] args){\r\n                 A a = new A();\r\n                 //do stuff\r\n                 String f = //get a&#39;s field value\r\n             }\r\n        }\r\n\r\nHow can I get the value returned by the getter of a particular object of `class A`? Of course, I can invoke method with `Method.invoke(Object obj, Object... args)` but I wouldn&#39;t like to write `&quot;get&quot;` prefix manually. Is it possible to avoid that?\r\n","title":"How to invoke a getter method by its name?","body":"<p>I have the following bean class:</p>\n\n<pre><code>public class A{\n        private String field;\n\n        public String getField() {\n            return field;\n        }\n\n        private String setField(String field) {\n            this.field = field;\n        }\n\n    }\n</code></pre>\n\n<p>And the following class:</p>\n\n<pre><code>    public class B{\n\n         public static void main(String[] args){\n             A a = new A();\n             //do stuff\n             String f = //get a's field value\n         }\n    }\n</code></pre>\n\n<p>How can I get the value returned by the getter of a particular object of <code>class A</code>? Of course, I can invoke method with <code>Method.invoke(Object obj, Object... args)</code> but I wouldn't like to write <code>\"get\"</code> prefix manually. Is it possible to avoid that?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","resttemplate"],"answers":[{"comments":[{"owner":{"account_id":12817136,"reputation":914,"user_id":9273414,"display_name":"Hubert Bratek"},"score":0,"creation_date":1681638410,"post_id":76018777,"comment_id":134085931,"body_markdown":"I think that&#39;s the best way, but I am still kind of shocked that it wasn&#39;t already handled, cause it is a very common approach...","body":"I think that&#39;s the best way, but I am still kind of shocked that it wasn&#39;t already handled, cause it is a very common approach..."}],"tags":[],"owner":{"account_id":539671,"reputation":25438,"user_id":907590,"accept_rate":57,"display_name":"Parvin Gasimzade"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681504685,"creation_date":1681504685,"answer_id":76018777,"question_id":76016228,"body_markdown":"One option would be to create your own Page class that mimics the structure of the Page class from Spring Data, so that you can deserialize the JSON response from your first microservice into your own Page class.\r\n\r\nEx:\r\n\r\n    public class MyOwnPage&lt;T&gt; {\r\n    private List&lt;T&gt; content;\r\n    private int pageNumber;\r\n    private int pageSize;\r\n    private long totalElements;\r\n\r\n    // getters and setters\r\n}\r\n\r\nThen, you can use it in the RestTemplate in your second microservice without depending on Spring Data.\r\n\r\n    ResponseEntity&lt;MyOwnPage&lt;MyOwnType&gt;&gt; response = ...","title":"Pageable request","body":"<p>One option would be to create your own Page class that mimics the structure of the Page class from Spring Data, so that you can deserialize the JSON response from your first microservice into your own Page class.</p>\n<p>Ex:</p>\n<pre><code>public class MyOwnPage&lt;T&gt; {\nprivate List&lt;T&gt; content;\nprivate int pageNumber;\nprivate int pageSize;\nprivate long totalElements;\n\n// getters and setters\n</code></pre>\n<p>}</p>\n<p>Then, you can use it in the RestTemplate in your second microservice without depending on Spring Data.</p>\n<pre><code>ResponseEntity&lt;MyOwnPage&lt;MyOwnType&gt;&gt; response = ...\n</code></pre>\n"}],"owner":{"account_id":12817136,"reputation":914,"user_id":9273414,"display_name":"Hubert Bratek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76018777,"answer_count":1,"score":0,"last_activity_date":1681504685,"creation_date":1681482842,"question_id":76016228,"body_markdown":"I have two microservices written in Java 17 and Spring Boot 3. One is using Spring Data for connection with the database and have a controller that returns the Page\\&lt;MyOwnType&gt;. The other one, doesnt have spring data dependency and is supposed to make a request to the first one and obtain the results of the MyOwnType and if there are still more results, it should repeat the request.\r\n\r\nI am using restTemplate for it. How can I get the Page type in my microservice without the spring data dependency? I believe it is a common way to request for the pageable data.\r\n\r\n```\r\nResponseEntity&lt;Page&lt;MyOwnType&gt;&gt; response = restTemplate.exchange(myurl, HttpMethod.GET, null, new ParameterizedTypeReference&lt;Page&lt;MyOwnType&gt;&gt;() {});\r\n```","title":"Pageable request","body":"<p>I have two microservices written in Java 17 and Spring Boot 3. One is using Spring Data for connection with the database and have a controller that returns the Page&lt;MyOwnType&gt;. The other one, doesnt have spring data dependency and is supposed to make a request to the first one and obtain the results of the MyOwnType and if there are still more results, it should repeat the request.</p>\n<p>I am using restTemplate for it. How can I get the Page type in my microservice without the spring data dependency? I believe it is a common way to request for the pageable data.</p>\n<pre><code>ResponseEntity&lt;Page&lt;MyOwnType&gt;&gt; response = restTemplate.exchange(myurl, HttpMethod.GET, null, new ParameterizedTypeReference&lt;Page&lt;MyOwnType&gt;&gt;() {});\n</code></pre>\n"},{"tags":["java","debugging","dynatrace"],"answers":[{"comments":[{"owner":{"account_id":4766969,"reputation":31,"user_id":3852850,"display_name":"ravindra nath"},"score":0,"creation_date":1439279081,"post_id":31935327,"comment_id":51782741,"body_markdown":"Hi Klaus thanks for replying I am using java Hotspot JVM with version 1.6.45. And as much as i would love to switch to a newer version of sun JVM the client  business considerations prevents me from doing that :).","body":"Hi Klaus thanks for replying I am using java Hotspot JVM with version 1.6.45. And as much as i would love to switch to a newer version of sun JVM the client  business considerations prevents me from doing that :)."}],"tags":[],"owner":{"account_id":3826913,"reputation":118,"user_id":3173542,"display_name":"user3173542"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681504661,"creation_date":1439276871,"answer_id":31935327,"question_id":31878498,"body_markdown":"For an exact answer I would need to know which JVM(Sun, IBM,..) you are running and also which Java version?\r\nI know that for example the Sun JVM build versions 1.4.2_08, 1.4.2_11, 1.4.2_09, 1.4.2_15, 1.4.2_12 have troubles and bugs in the JVMTI implementation. Also some specific builds in the 1.5 and 1.6 Java.\r\n\r\nHave you tried to update to the latest version of the Sun JVM?","title":"Error while profilling &amp; debugging a Java application simultaneoulsy using Dyna trace and :jdwp","body":"<p>For an exact answer I would need to know which JVM(Sun, IBM,..) you are running and also which Java version?\nI know that for example the Sun JVM build versions 1.4.2_08, 1.4.2_11, 1.4.2_09, 1.4.2_15, 1.4.2_12 have troubles and bugs in the JVMTI implementation. Also some specific builds in the 1.5 and 1.6 Java.</p>\n<p>Have you tried to update to the latest version of the Sun JVM?</p>\n"}],"owner":{"account_id":4766969,"reputation":31,"user_id":3852850,"display_name":"ravindra nath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681504661,"creation_date":1438952759,"question_id":31878498,"body_markdown":"While starting a Java application using the following JVM parameters along with a dyna trace agent :\r\n\r\n    -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5000\r\n    -agentpath:c:\\dynaTrace\\agent\\lib\\dtagent.dll=name=abc,server=abc.com:9998&quot;\r\n\r\nI am getting an error `JDWP unable to get necessary JVMTI capabilities`\r\n\r\n I tried searching few forums where it has been stated that it is not possible to do these two things simultaneously. Is it so ? I was also able to locate a java bug report which stated that JDWP: Loading twice is not properly handled.\r\nhttp://bugs.java.com/bugdatabase/view_bug.do?bug_id=6354345\r\nIs there a way to run these two things simultaneously?","title":"Error while profilling &amp; debugging a Java application simultaneoulsy using Dyna trace and :jdwp","body":"<p>While starting a Java application using the following JVM parameters along with a dyna trace agent :</p>\n\n<pre><code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5000\n-agentpath:c:\\dynaTrace\\agent\\lib\\dtagent.dll=name=abc,server=abc.com:9998\"\n</code></pre>\n\n<p>I am getting an error <code>JDWP unable to get necessary JVMTI capabilities</code></p>\n\n<p>I tried searching few forums where it has been stated that it is not possible to do these two things simultaneously. Is it so ? I was also able to locate a java bug report which stated that JDWP: Loading twice is not properly handled.\n<a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6354345\" rel=\"nofollow\">http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6354345</a>\nIs there a way to run these two things simultaneously?</p>\n"},{"tags":["java","android","xml","scrollview","android-scrollbar"],"owner":{"account_id":26495948,"reputation":5,"user_id":20133708,"display_name":"Kathe Caler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681504519,"creation_date":1681504519,"question_id":76018766,"body_markdown":"I have 5 images arranged horizontally in a scroll view, along with 5 small dots and a scrollbar thumb. and visual representation of the images that users can scroll through horizontally, with navigation dots and a scrollbar to indicate the current position.\r\n\r\nI have XML code below\r\n```\r\n&lt;HorizontalScrollView\r\n        android:id=&quot;@+id/horizontalScrollView2&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:scrollbars=&quot;none&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/horizontalScrollView&quot;&gt;\r\n\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;!-- Add your content here --&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView2&quot;\r\n                android:layout_width=&quot;371dp&quot;\r\n                android:layout_height=&quot;310dp&quot;\r\n                android:src=&quot;@drawable/img_7&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView3&quot;\r\n                android:layout_width=&quot;371dp&quot;\r\n                android:layout_height=&quot;310dp&quot;\r\n                android:src=&quot;@drawable/img_8&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView4&quot;\r\n                android:layout_width=&quot;371dp&quot;\r\n                android:layout_height=&quot;310dp&quot;\r\n                android:src=&quot;@drawable/img_9&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView5&quot;\r\n                android:layout_width=&quot;371dp&quot;\r\n                android:layout_height=&quot;310dp&quot;\r\n                android:src=&quot;@drawable/img_10&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView6&quot;\r\n                android:layout_width=&quot;371dp&quot;\r\n                android:layout_height=&quot;310dp&quot;\r\n                android:src=&quot;@drawable/img_11&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/HorizontalScrollView&gt;\r\n\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;325dp&quot;\r\n        android:layout_height=&quot;297dp&quot;\r\n        android:layout_marginStart=&quot;26dp&quot;\r\n        android:layout_marginTop=&quot;290dp&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@id/horizontalScrollView&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView7&quot;\r\n            android:layout_width=&quot;16dp&quot;\r\n            android:layout_height=&quot;20dp&quot;\r\n            android:layout_marginStart=&quot;136dp&quot;\r\n            android:layout_marginTop=&quot;270dp&quot;\r\n            android:src=&quot;@drawable/blankdot&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n             /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView8&quot;\r\n            android:layout_width=&quot;16dp&quot;\r\n            android:layout_height=&quot;20dp&quot;\r\n            android:layout_marginStart=&quot;156dp&quot;\r\n            android:layout_marginTop=&quot;270dp&quot;\r\n            android:src=&quot;@drawable/blankdot&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView9&quot;\r\n            android:layout_width=&quot;16dp&quot;\r\n            android:layout_height=&quot;20dp&quot;\r\n            android:layout_marginStart=&quot;176dp&quot;\r\n            android:layout_marginTop=&quot;270dp&quot;\r\n            android:src=&quot;@drawable/blankdot&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView10&quot;\r\n            android:layout_width=&quot;16dp&quot;\r\n            android:layout_height=&quot;20dp&quot;\r\n            android:layout_marginStart=&quot;196dp&quot;\r\n            android:layout_marginTop=&quot;270dp&quot;\r\n            android:src=&quot;@drawable/blankdot&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n             /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView11&quot;\r\n            android:layout_width=&quot;16dp&quot;\r\n            android:layout_height=&quot;20dp&quot;\r\n            android:layout_marginStart=&quot;216dp&quot;\r\n            android:layout_marginTop=&quot;270dp&quot;\r\n            android:src=&quot;@drawable/blankdot&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n             /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n```\r\n\r\nBelow is my java code\r\n\r\n```\r\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_search, container, false);\r\n\r\n        final ImageView imageView2 = view.findViewById(R.id.imageView2);\r\n        final ImageView imageView3 = view.findViewById(R.id.imageView3);\r\n        final ImageView imageView4 = view.findViewById(R.id.imageView4);\r\n        final ImageView imageView5 = view.findViewById(R.id.imageView5);\r\n        final ImageView imageView6 = view.findViewById(R.id.imageView6);\r\n        \r\n        //dots images\r\n        final ImageView imageView7 = view.findViewById(R.id.imageView7);\r\n        final ImageView imageView8 = view.findViewById(R.id.imageView8);\r\n        final ImageView imageView9 = view.findViewById(R.id.imageView9);\r\n        final ImageView imageView10 = view.findViewById(R.id.imageView10);\r\n        final ImageView imageView11 = view.findViewById(R.id.imageView11);\r\n\r\n        final HorizontalScrollView horizontalScrollView = view.findViewById(R.id.horizontalScrollView);\r\n\r\n//        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n//            horizontalScrollView.setOnScrollChangeListener(new View.OnScrollChangeListener() {\r\n//                @Override\r\n//                public void onScrollChange(View v, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\r\n//                  \r\n//                }\r\n//            });\r\n//        }\r\n\r\n\r\n        return view;\r\n    }\r\n```\r\n\r\nI don&#39;t know what to do with setOnScrollChangeListener to set respective dot to &quot;colordot&quot; instead of &quot;blankdot&quot; as image Resource. is there any other way we can do it without using setOnScrollChangeListener \r\n\r\n\r\nI don&#39;t know what to do with setOnScrollChangeListener to set respective dot to &quot;colordot&quot; instead of &quot;blankdot&quot; as image Resource. is there any other way we can do it without using setOnScrollChangeListener","title":"ScrollView on Set Change listener","body":"<p>I have 5 images arranged horizontally in a scroll view, along with 5 small dots and a scrollbar thumb. and visual representation of the images that users can scroll through horizontally, with navigation dots and a scrollbar to indicate the current position.</p>\n<p>I have XML code below</p>\n<pre><code>&lt;HorizontalScrollView\n        android:id=&quot;@+id/horizontalScrollView2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:scrollbars=&quot;none&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/horizontalScrollView&quot;&gt;\n\n\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;!-- Add your content here --&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/imageView2&quot;\n                android:layout_width=&quot;371dp&quot;\n                android:layout_height=&quot;310dp&quot;\n                android:src=&quot;@drawable/img_7&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/imageView3&quot;\n                android:layout_width=&quot;371dp&quot;\n                android:layout_height=&quot;310dp&quot;\n                android:src=&quot;@drawable/img_8&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/imageView4&quot;\n                android:layout_width=&quot;371dp&quot;\n                android:layout_height=&quot;310dp&quot;\n                android:src=&quot;@drawable/img_9&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/imageView5&quot;\n                android:layout_width=&quot;371dp&quot;\n                android:layout_height=&quot;310dp&quot;\n                android:src=&quot;@drawable/img_10&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/imageView6&quot;\n                android:layout_width=&quot;371dp&quot;\n                android:layout_height=&quot;310dp&quot;\n                android:src=&quot;@drawable/img_11&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/HorizontalScrollView&gt;\n\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;325dp&quot;\n        android:layout_height=&quot;297dp&quot;\n        android:layout_marginStart=&quot;26dp&quot;\n        android:layout_marginTop=&quot;290dp&quot;\n        app:layout_constraintTop_toTopOf=&quot;@id/horizontalScrollView&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView7&quot;\n            android:layout_width=&quot;16dp&quot;\n            android:layout_height=&quot;20dp&quot;\n            android:layout_marginStart=&quot;136dp&quot;\n            android:layout_marginTop=&quot;270dp&quot;\n            android:src=&quot;@drawable/blankdot&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n             /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView8&quot;\n            android:layout_width=&quot;16dp&quot;\n            android:layout_height=&quot;20dp&quot;\n            android:layout_marginStart=&quot;156dp&quot;\n            android:layout_marginTop=&quot;270dp&quot;\n            android:src=&quot;@drawable/blankdot&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView9&quot;\n            android:layout_width=&quot;16dp&quot;\n            android:layout_height=&quot;20dp&quot;\n            android:layout_marginStart=&quot;176dp&quot;\n            android:layout_marginTop=&quot;270dp&quot;\n            android:src=&quot;@drawable/blankdot&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView10&quot;\n            android:layout_width=&quot;16dp&quot;\n            android:layout_height=&quot;20dp&quot;\n            android:layout_marginStart=&quot;196dp&quot;\n            android:layout_marginTop=&quot;270dp&quot;\n            android:src=&quot;@drawable/blankdot&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n             /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView11&quot;\n            android:layout_width=&quot;16dp&quot;\n            android:layout_height=&quot;20dp&quot;\n            android:layout_marginStart=&quot;216dp&quot;\n            android:layout_marginTop=&quot;270dp&quot;\n            android:src=&quot;@drawable/blankdot&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n             /&gt;\n    &lt;/RelativeLayout&gt;\n</code></pre>\n<p>Below is my java code</p>\n<pre><code>public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_search, container, false);\n\n        final ImageView imageView2 = view.findViewById(R.id.imageView2);\n        final ImageView imageView3 = view.findViewById(R.id.imageView3);\n        final ImageView imageView4 = view.findViewById(R.id.imageView4);\n        final ImageView imageView5 = view.findViewById(R.id.imageView5);\n        final ImageView imageView6 = view.findViewById(R.id.imageView6);\n        \n        //dots images\n        final ImageView imageView7 = view.findViewById(R.id.imageView7);\n        final ImageView imageView8 = view.findViewById(R.id.imageView8);\n        final ImageView imageView9 = view.findViewById(R.id.imageView9);\n        final ImageView imageView10 = view.findViewById(R.id.imageView10);\n        final ImageView imageView11 = view.findViewById(R.id.imageView11);\n\n        final HorizontalScrollView horizontalScrollView = view.findViewById(R.id.horizontalScrollView);\n\n//        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n//            horizontalScrollView.setOnScrollChangeListener(new View.OnScrollChangeListener() {\n//                @Override\n//                public void onScrollChange(View v, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\n//                  \n//                }\n//            });\n//        }\n\n\n        return view;\n    }\n</code></pre>\n<p>I don't know what to do with setOnScrollChangeListener to set respective dot to &quot;colordot&quot; instead of &quot;blankdot&quot; as image Resource. is there any other way we can do it without using setOnScrollChangeListener</p>\n<p>I don't know what to do with setOnScrollChangeListener to set respective dot to &quot;colordot&quot; instead of &quot;blankdot&quot; as image Resource. is there any other way we can do it without using setOnScrollChangeListener</p>\n"},{"tags":["java","google-cloud-functions","character-encoding"],"owner":{"account_id":16628026,"reputation":1,"user_id":12016614,"display_name":"Zineng Yuan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681503614,"creation_date":1681491630,"question_id":76017420,"body_markdown":"Have a encoding problem for java cloud function in GCP, non ascii character can not be displayed, e.g.\r\n\r\n```\r\npublic void accept(PubSubMessage message, Context context) throws Exception {\r\nString text = &quot;最近一篇来自 Blogto 的文章指出“;\r\nlogger.info(text) ;\r\n}\r\n```\r\nWill give me ??????Blogto?????\r\n \r\nI don&#39;t have this problem in local. Options tried but neither works\r\nPlease advise. Thank you!\r\n\r\n1.  Add below to maven properties\r\n`&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n` \r\n2. Add env variable to `gcloud functions deploy` as described: https://stackoverflow.com/questions/70824529/google-cloud-messaging-displays-special-characters-wron...\r\n`--set-build-env-vars=JAVA_TOOL_OPTIONS=-Dfile.encoding=&quot;UTF-8&quot;`\r\n \r\n3. Add system variable to mvn build before gcloud deploy.\r\nRefernece: https://www.cloudhadoop.com/maven-character-encoding/\r\n`mvn -Dproject.build.sourceEncoding=UTF-8  ....\r\n` \r\n","title":"Google Cloud function can&#39;t display non-ascii character","body":"<p>Have a encoding problem for java cloud function in GCP, non ascii character can not be displayed, e.g.</p>\n<pre><code>public void accept(PubSubMessage message, Context context) throws Exception {\nString text = &quot;最近一篇来自 Blogto 的文章指出“;\nlogger.info(text) ;\n}\n</code></pre>\n<p>Will give me ??????Blogto?????</p>\n<p>I don't have this problem in local. Options tried but neither works\nPlease advise. Thank you!</p>\n<ol>\n<li><p>Add below to maven properties\n<code>&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; </code></p>\n</li>\n<li><p>Add env variable to <code>gcloud functions deploy</code> as described: <a href=\"https://stackoverflow.com/questions/70824529/google-cloud-messaging-displays-special-characters-wron..\">Google Cloud Messaging displays special characters wrong</a>.\n<code>--set-build-env-vars=JAVA_TOOL_OPTIONS=-Dfile.encoding=&quot;UTF-8&quot;</code></p>\n</li>\n<li><p>Add system variable to mvn build before gcloud deploy.\nRefernece: <a href=\"https://www.cloudhadoop.com/maven-character-encoding/\" rel=\"nofollow noreferrer\">https://www.cloudhadoop.com/maven-character-encoding/</a>\n<code>mvn -Dproject.build.sourceEncoding=UTF-8  .... </code></p>\n</li>\n</ol>\n"},{"tags":["java","android","android-cardview","android-mvp","presenter"],"owner":{"account_id":14450096,"reputation":45,"user_id":10437913,"display_name":"KoolKeith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681503549,"creation_date":1681503549,"question_id":76018658,"body_markdown":"I need to make a single list row consisting of three items each from a different data types. The data types all have the same properties but I do NOT want to combine them in a single list. \r\n\r\nI&#39;ve tried having the models extend the same data type, but this causes the app to crash - &quot;unable to create converter for the class&quot;. \r\n\r\nIs it possible to have a presenter and a view with three different data types?\r\n","title":"Is there a way to have more than one data type MVP - cardview &amp; presenter","body":"<p>I need to make a single list row consisting of three items each from a different data types. The data types all have the same properties but I do NOT want to combine them in a single list.</p>\n<p>I've tried having the models extend the same data type, but this causes the app to crash - &quot;unable to create converter for the class&quot;.</p>\n<p>Is it possible to have a presenter and a view with three different data types?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":15100580,"reputation":1,"user_id":13199086,"display_name":"Ignacio Reyes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681503130,"creation_date":1681502871,"answer_id":76018587,"question_id":76009529,"body_markdown":"@Autowired only takes effect when the object is handled by the spring context. As you said, the problem is that you created an object using the &#39;new&#39; operator, this object will be not handled by spring.\r\nYou have to use the application context. Also, the @Component default scope is singleton, add the annotation @Scope(&quot;prototype&quot;) to your Team component if you want to get a new object every time you call getBean().\r\n\r\nCheck if this code helps you.\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/teams&quot;)\r\n    public class TeamsController {\r\n        @Autowired\r\n        private ApplicationContext appContext;\r\n    \r\n        @GetMapping(&quot;/new&quot;)\r\n        public String createTeam(Model model) {\r\n            model.addAttribute(&quot;team&quot;,appContext.getBean(Team.class));\r\n            return &quot;/teams/create&quot;;\r\n        }\r\n    } \r\n\r\n","title":"Spring MVC @Autowired field is null","body":"<p>@Autowired only takes effect when the object is handled by the spring context. As you said, the problem is that you created an object using the 'new' operator, this object will be not handled by spring.\nYou have to use the application context. Also, the @Component default scope is singleton, add the annotation @Scope(&quot;prototype&quot;) to your Team component if you want to get a new object every time you call getBean().</p>\n<p>Check if this code helps you.</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/teams&quot;)\npublic class TeamsController {\n    @Autowired\n    private ApplicationContext appContext;\n\n    @GetMapping(&quot;/new&quot;)\n    public String createTeam(Model model) {\n        model.addAttribute(&quot;team&quot;,appContext.getBean(Team.class));\n        return &quot;/teams/create&quot;;\n    }\n} \n</code></pre>\n"}],"owner":{"account_id":28298214,"reputation":1,"user_id":21637337,"display_name":"Doszhan Turar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681503130,"creation_date":1681417202,"question_id":76009529,"body_markdown":"I am learing Spring MVC and creating project using CRUD and In my web application i want to create a new Player in form and add it from a Team class to a List which is in the PlayersDAO class , but when i do it it returns a message &quot;class is null&quot; , i found an answer for the similar problem but it did not help me \r\n\r\n\r\nhere are the parts of my code:\r\n```\r\n@Component\r\npublic class PlayersDAO {\r\n\r\n    private static int PLAYER_ID;\r\n    private static List&lt;Player&gt; players = new ArrayList&lt;&gt;();\r\n    \r\n}\r\n```\r\n\r\nand this is my Team class where I am using this component\r\n\r\n\r\n```\r\n@Component\r\npublic class Team {\r\n    @Autowired\r\n    private PlayersDAO playersDAO;\r\n    private List&lt;Player&gt; players = new ArrayList&lt;&gt;();\r\n    public void addPlayer(Player player) {\r\n        players.add(player);\r\n        if (playersDAO != null) {\r\n            playersDAO.addPlayer(player);\r\n        } else {\r\n            System.out.println(&quot;class of null&quot;);\r\n        }\r\n    }\r\n    \r\n}\r\n```\r\n\r\nand as i read the cause can be also using a &quot;new&quot; operator while creating an instances of that class, in other class i created a new instance of class Team if it is the reason how can i solve it ( I need a new object of that class to ) ? \r\n\r\n```\r\n\r\n@Controller\r\n@RequestMapping(&quot;/teams&quot;)\r\npublic class TeamsController {\r\n    @GetMapping(&quot;/new&quot;)\r\n    public String createTeam(Model model) {\r\n        model.addAttribute(&quot;team&quot;,new Team());\r\n        return &quot;/teams/create&quot;;\r\n    }\r\n} \r\n```","title":"Spring MVC @Autowired field is null","body":"<p>I am learing Spring MVC and creating project using CRUD and In my web application i want to create a new Player in form and add it from a Team class to a List which is in the PlayersDAO class , but when i do it it returns a message &quot;class is null&quot; , i found an answer for the similar problem but it did not help me</p>\n<p>here are the parts of my code:</p>\n<pre><code>@Component\npublic class PlayersDAO {\n\n    private static int PLAYER_ID;\n    private static List&lt;Player&gt; players = new ArrayList&lt;&gt;();\n    \n}\n</code></pre>\n<p>and this is my Team class where I am using this component</p>\n<pre><code>@Component\npublic class Team {\n    @Autowired\n    private PlayersDAO playersDAO;\n    private List&lt;Player&gt; players = new ArrayList&lt;&gt;();\n    public void addPlayer(Player player) {\n        players.add(player);\n        if (playersDAO != null) {\n            playersDAO.addPlayer(player);\n        } else {\n            System.out.println(&quot;class of null&quot;);\n        }\n    }\n    \n}\n</code></pre>\n<p>and as i read the cause can be also using a &quot;new&quot; operator while creating an instances of that class, in other class i created a new instance of class Team if it is the reason how can i solve it ( I need a new object of that class to ) ?</p>\n<pre><code>\n@Controller\n@RequestMapping(&quot;/teams&quot;)\npublic class TeamsController {\n    @GetMapping(&quot;/new&quot;)\n    public String createTeam(Model model) {\n        model.addAttribute(&quot;team&quot;,new Team());\n        return &quot;/teams/create&quot;;\n    }\n} \n</code></pre>\n"},{"tags":["java","http","stream","inputstream","okhttp"],"owner":{"account_id":4370435,"reputation":21,"user_id":3564987,"display_name":"sweet_popcorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681502893,"creation_date":1681487711,"question_id":76016922,"body_markdown":"I&#39;m using the OkHttp client library to make HTTP requests and I&#39;m having trouble with chunked responses. Specifically, if the response is chunked and I don&#39;t use the InputStream to read the response data right away, the connection is closed after receiving the first chunk. The response sends a byte to keep the connection active (as explained here: https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/config-idle-timeout.html) if the request takes more than one hour to get processed.\r\n\r\nThe reason I&#39;m not using the InputStream right away is because it&#39;s actually used by the end user of my app to generate a result, but only when my user needs it. What can I do to keep the connection active and receive all chunks of data even if I don&#39;t process the first chunk right away?\r\n\r\nThanks!","title":"Connection closed on first chunked response","body":"<p>I'm using the OkHttp client library to make HTTP requests and I'm having trouble with chunked responses. Specifically, if the response is chunked and I don't use the InputStream to read the response data right away, the connection is closed after receiving the first chunk. The response sends a byte to keep the connection active (as explained here: <a href=\"https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/config-idle-timeout.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/config-idle-timeout.html</a>) if the request takes more than one hour to get processed.</p>\n<p>The reason I'm not using the InputStream right away is because it's actually used by the end user of my app to generate a result, but only when my user needs it. What can I do to keep the connection active and receive all chunks of data even if I don't process the first chunk right away?</p>\n<p>Thanks!</p>\n"},{"tags":["java","maven","selenium-webdriver","cucumber","selenium-extent-report"],"owner":{"account_id":6196286,"reputation":61,"user_id":4827471,"display_name":"Santhiya s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681502741,"creation_date":1681502741,"question_id":76018576,"body_markdown":"I am able to take the screenshot and the report is stored in the local(project dir) folder.\r\nI want to display the screenshot in the cucumber report.\r\n\r\nWebDriver Library\r\n```\r\n@Configuration\r\npublic class WebDriverLibrary {\r\n    @Value(&quot;${remote.url}&quot;)\r\n    private URL remoteUrl;\r\n\r\n\r\n    @Value(&quot;${browser}&quot;)\r\n    private String browser;\r\n\r\n    @Bean\r\n    public WebDriver getChromeDriver(){\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n        chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n        return new ChromeDriver(chromeOptions);\r\n    }\r\n\r\n``` \r\n\r\nPage Scope:\r\n```\r\n@Component\r\n@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n@Documented\r\n@Target({ElementType.TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface PageScope {\r\n}\r\n```\r\n\r\nFeature file\r\n``` \r\nFeature: Signup Feature\r\n  This feature will deal with Signup Functionality of the application\r\n\r\n  Scenario: Create new User through NavBar\r\n    Given User is on Landing Page\r\n    And User Click on SignUp button in NavBar\r\n    And User enter the Following Details\r\n    And User click Register Button\r\n    Then User should be navigated to Questionnaire Page\r\n```\r\n\r\nTest Runner\r\n```\r\n@CucumberOptions(\r\n        features = {&quot;src/test/java/com/ksupwlt/stepcounttracker/features&quot;},\r\n        glue = &quot;com.ksupwlt.stepcounttracker.steps&quot;\r\n       )\r\npublic class TestRunner extends AbstractTestNGCucumberTests {\r\n    @DataProvider(parallel = true)\r\n    @Override\r\n    public Object[][] scenarios() {\r\n        return super.scenarios();\r\n    }\r\n}\r\n```\r\n\r\nHooks:\r\n```\r\npublic class Hooks {\r\n    @Lazy\r\n    @Autowired\r\n    private WebDriver webDriver;\r\n\r\n    @Value(&quot;${app.url}&quot;)\r\n    private String appUrl;\r\n\r\n    @Before\r\n    public void InitializeTest(Scenario scenario){\r\n        webDriver.get(appUrl);\r\n        webDriver.manage().window().maximize();\r\n        utility.message = scenario;\r\n    }\r\n\r\n    @After\r\n    public void TearDownTest(Scenario scenario) throws IOException {\r\n        if(scenario.isFailed()){\r\n            System.out.println(&quot;failed&quot;);\r\n        }\r\n```\r\n\r\nUtility:\r\n\r\n```\r\npublic class utility {\r\n\r\n    @Autowired\r\n    private static WebDriver webDriver;\r\n\r\n    public static Scenario message;\r\n\r\n    public static String takeScreenShotAfterEveryScenario(WebDriver webDriver) throws IOException {\r\n        DateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy h-m-s&quot;);\r\n        Date date = new Date();\r\n        File scrFile = ((TakesScreenshot)webDriver).getScreenshotAs(OutputType.FILE);\r\n        String destination =System.getProperty(&quot;user.dir&quot;)+&quot;\\\\report\\\\&quot;+dateFormat.format(date)+&quot;.png&quot;;\r\n        FileUtils.copyFile(scrFile, new File(destination));\r\n        return destination;\r\n```\r\n\r\nscenario step where I want to display the screenshot in cucumber output\r\n```\r\n @Then(&quot;User should be navigated to Questionnaire Page&quot;)\r\n    public void userShouldBeNavigatedToQuestionnairePage() throws IOException {\r\n        Assert.assertTrue(questionnairePage.qusTitle.isDisplayed());\r\n        utility.takeScreenShotAfterEveryScenario(webDriver);\r\n        String destiantion = utility.takeScreenShotAfterEveryScenario(webDriver);\r\n        System.out.println(&quot;destination = &quot;+destiantion);\r\n    }\r\n```\r\npom.xml:\r\n```\r\n&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ksu&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;weightLossTracker&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;weightLossTracker&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;selenium.version&gt;4.7.0&lt;/selenium.version&gt;\r\n\t\t&lt;testng.version&gt;7.7.1&lt;/testng.version&gt;\r\n\t\t&lt;seleniumhttp.version&gt;4.5.0&lt;/seleniumhttp.version&gt;\r\n\t\t&lt;cucumberspring.version&gt;7.11.1&lt;/cucumberspring.version&gt;\r\n\t\t&lt;groshopper.version&gt;2.10.0&lt;/groshopper.version&gt;\r\n\t\t&lt;extentReport.version&gt;5.0.9&lt;/extentReport.version&gt;\r\n\t\t&lt;commonio.version&gt;2.11.0&lt;/commonio.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${selenium.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${testng.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-http-jdk-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${seleniumhttp.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-spring --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${cucumberspring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${cucumberspring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-testng --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${cucumberspring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/tech.grasshopper/extent-pdf-report --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;extent-pdf-report&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${groshopper.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.aventstack/extentreports --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${extentReport.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${commonio.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.30&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.22.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t&lt;include&gt;com.ea.SpringBasic.SpringTestNGTest&lt;/include&gt;\r\n\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nI added the extent report dependency not sure this is the correct one.\r\n\r\n","title":"How to add the screenshot at the end of the every scenario in the cucumber report","body":"<p>I am able to take the screenshot and the report is stored in the local(project dir) folder.\nI want to display the screenshot in the cucumber report.</p>\n<p>WebDriver Library</p>\n<pre><code>@Configuration\npublic class WebDriverLibrary {\n    @Value(&quot;${remote.url}&quot;)\n    private URL remoteUrl;\n\n\n    @Value(&quot;${browser}&quot;)\n    private String browser;\n\n    @Bean\n    public WebDriver getChromeDriver(){\n        ChromeOptions chromeOptions = new ChromeOptions();\n        chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\n        return new ChromeDriver(chromeOptions);\n    }\n\n</code></pre>\n<p>Page Scope:</p>\n<pre><code>@Component\n@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n@Documented\n@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface PageScope {\n}\n</code></pre>\n<p>Feature file</p>\n<pre><code>Feature: Signup Feature\n  This feature will deal with Signup Functionality of the application\n\n  Scenario: Create new User through NavBar\n    Given User is on Landing Page\n    And User Click on SignUp button in NavBar\n    And User enter the Following Details\n    And User click Register Button\n    Then User should be navigated to Questionnaire Page\n</code></pre>\n<p>Test Runner</p>\n<pre><code>@CucumberOptions(\n        features = {&quot;src/test/java/com/ksupwlt/stepcounttracker/features&quot;},\n        glue = &quot;com.ksupwlt.stepcounttracker.steps&quot;\n       )\npublic class TestRunner extends AbstractTestNGCucumberTests {\n    @DataProvider(parallel = true)\n    @Override\n    public Object[][] scenarios() {\n        return super.scenarios();\n    }\n}\n</code></pre>\n<p>Hooks:</p>\n<pre><code>public class Hooks {\n    @Lazy\n    @Autowired\n    private WebDriver webDriver;\n\n    @Value(&quot;${app.url}&quot;)\n    private String appUrl;\n\n    @Before\n    public void InitializeTest(Scenario scenario){\n        webDriver.get(appUrl);\n        webDriver.manage().window().maximize();\n        utility.message = scenario;\n    }\n\n    @After\n    public void TearDownTest(Scenario scenario) throws IOException {\n        if(scenario.isFailed()){\n            System.out.println(&quot;failed&quot;);\n        }\n</code></pre>\n<p>Utility:</p>\n<pre><code>public class utility {\n\n    @Autowired\n    private static WebDriver webDriver;\n\n    public static Scenario message;\n\n    public static String takeScreenShotAfterEveryScenario(WebDriver webDriver) throws IOException {\n        DateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy h-m-s&quot;);\n        Date date = new Date();\n        File scrFile = ((TakesScreenshot)webDriver).getScreenshotAs(OutputType.FILE);\n        String destination =System.getProperty(&quot;user.dir&quot;)+&quot;\\\\report\\\\&quot;+dateFormat.format(date)+&quot;.png&quot;;\n        FileUtils.copyFile(scrFile, new File(destination));\n        return destination;\n</code></pre>\n<p>scenario step where I want to display the screenshot in cucumber output</p>\n<pre><code> @Then(&quot;User should be navigated to Questionnaire Page&quot;)\n    public void userShouldBeNavigatedToQuestionnairePage() throws IOException {\n        Assert.assertTrue(questionnairePage.qusTitle.isDisplayed());\n        utility.takeScreenShotAfterEveryScenario(webDriver);\n        String destiantion = utility.takeScreenShotAfterEveryScenario(webDriver);\n        System.out.println(&quot;destination = &quot;+destiantion);\n    }\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ksu&lt;/groupId&gt;\n    &lt;artifactId&gt;weightLossTracker&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;weightLossTracker&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;selenium.version&gt;4.7.0&lt;/selenium.version&gt;\n        &lt;testng.version&gt;7.7.1&lt;/testng.version&gt;\n        &lt;seleniumhttp.version&gt;4.5.0&lt;/seleniumhttp.version&gt;\n        &lt;cucumberspring.version&gt;7.11.1&lt;/cucumberspring.version&gt;\n        &lt;groshopper.version&gt;2.10.0&lt;/groshopper.version&gt;\n        &lt;extentReport.version&gt;5.0.9&lt;/extentReport.version&gt;\n        &lt;commonio.version&gt;2.11.0&lt;/commonio.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;${testng.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-http-jdk-client&lt;/artifactId&gt;\n            &lt;version&gt;${seleniumhttp.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-spring --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n            &lt;version&gt;${cucumberspring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;${cucumberspring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-testng --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n            &lt;version&gt;${cucumberspring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/tech.grasshopper/extent-pdf-report --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\n            &lt;artifactId&gt;extent-pdf-report&lt;/artifactId&gt;\n            &lt;version&gt;${groshopper.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.aventstack/extentreports --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n            &lt;version&gt;${extentReport.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;${commonio.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n            &lt;version&gt;8.0.30&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7.8&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;com.ea.SpringBasic.SpringTestNGTest&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I added the extent report dependency not sure this is the correct one.</p>\n"},{"tags":["java","swing","swingworker"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1681386853,"post_id":76004791,"comment_id":134049837,"body_markdown":"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingWorker.html and https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html","body":"<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingWorker.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java&zwnj;&#8203;x/&hellip;</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/concurrency/index.ht&zwnj;&#8203;ml</a>"}],"answers":[{"comments":[{"owner":{"account_id":8356470,"reputation":125,"user_id":6276545,"display_name":"Ewe"},"score":0,"creation_date":1681386119,"post_id":76004816,"comment_id":134049624,"body_markdown":"The problem with this (that I dont know how to solve) is that in genereteFiles() method I also need to update textArea() . Is it possible to update textArea() with publish() from generateFiles()? Also in genereteFiles() I call DAO methods in which also I need to update textArea()","body":"The problem with this (that I dont know how to solve) is that in genereteFiles() method I also need to update textArea() . Is it possible to update textArea() with publish() from generateFiles()? Also in genereteFiles() I call DAO methods in which also I need to update textArea()"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1681387016,"post_id":76004816,"comment_id":134049897,"body_markdown":"repeating the gist of this answer: you __must not__ update any component from a background thread! Study the references (api doc and tutorial) I added to the question. When still stuck, come back with [mcve] demonstrating what __exactly__ is not working as expected.","body":"repeating the gist of this answer: you <b>must not</b> update any component from a background thread! Study the references (api doc and tutorial) I added to the question. When still stuck, come back with <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating what <b>exactly</b> is not working as expected."},{"owner":{"account_id":8356470,"reputation":125,"user_id":6276545,"display_name":"Ewe"},"score":0,"creation_date":1681390017,"post_id":76004816,"comment_id":134050680,"body_markdown":"Yes, I must not update  component from a background thread, but thats the problem. I have long proccessing database quey and I want to show some messages in textArea so the user will know the status of proccesing, and I dont know how to do this. Because its long proccesing I put it in doInBackground but as I asked, now I dont know how to show status messages to user and I cant use publish() beacuse the status is calculated in genereteFiles() and in other nested methods","body":"Yes, I must not update  component from a background thread, but thats the problem. I have long proccessing database quey and I want to show some messages in textArea so the user will know the status of proccesing, and I dont know how to do this. Because its long proccesing I put it in doInBackground but as I asked, now I dont know how to show status messages to user and I cant use publish() beacuse the status is calculated in genereteFiles() and in other nested methods"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1681395492,"post_id":76004816,"comment_id":134052181,"body_markdown":"Break your database process into several steps.  Each step gets its own SwingWorker.  As each step concludes, you can display the progress in a `JTextArea` using the SwingWorker `process` method.","body":"Break your database process into several steps.  Each step gets its own SwingWorker.  As each step concludes, you can display the progress in a <code>JTextArea</code> using the SwingWorker <code>process</code> method."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1681421107,"post_id":76004816,"comment_id":134058008,"body_markdown":"@Ewe: we can only figure out an answer based on the specific information in your question. If you can figure out and express in your question exactly what data needs to be passed to the GUI and when, then we can provide more specific answers. Otherwise, until then, about the best any can do is to repeat that Swing GUI calls should not be made within a background thread, not unless those calls are explicitly queued onto the event dispatch thread by passing a Runnable into `SwingUtilities.invokeLater(...)`","body":"@Ewe: we can only figure out an answer based on the specific information in your question. If you can figure out and express in your question exactly what data needs to be passed to the GUI and when, then we can provide more specific answers. Otherwise, until then, about the best any can do is to repeat that Swing GUI calls should not be made within a background thread, not unless those calls are explicitly queued onto the event dispatch thread by passing a Runnable into <code>SwingUtilities.invokeLater(...)</code>"},{"owner":{"account_id":8356470,"reputation":125,"user_id":6276545,"display_name":"Ewe"},"score":0,"creation_date":1681502346,"post_id":76004816,"comment_id":134072554,"body_markdown":"I update the question with the rest of the code, hope that helps","body":"I update the question with the rest of the code, hope that helps"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1681502903,"post_id":76004816,"comment_id":134072644,"body_markdown":"Thank you for that, but please again check out the link that @kleopatra gave you above, which I&#39;ll repeat here: [mce]. The reason I am recommending that you check this out is that it is a useful tool both for helping you figure out your own debugging projects, but if you can create a decent MCE program, you can post it here and make it easier for *us* to figure out the bug. This is the type of code that would help you here the best. If anything in the link is confusing, please feel free to comment back.","body":"Thank you for that, but please again check out the link that @kleopatra gave you above, which I&#39;ll repeat here: [mce]. The reason I am recommending that you check this out is that it is a useful tool both for helping you figure out your own debugging projects, but if you can create a decent MCE program, you can post it here and make it easier for <i>us</i> to figure out the bug. This is the type of code that would help you here the best. If anything in the link is confusing, please feel free to comment back."}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681385131,"creation_date":1681384811,"answer_id":76004816,"question_id":76004791,"body_markdown":"You&#39;re making Swing mutational calls from within the doInBackground method:\r\n\r\n```\r\ntextArea.append(...);\r\n```\r\n\r\nAnd this breaks the threading rules and your program.\r\n\r\nThe solution is to not do this, and instead to `publish` the data that needs to be displayed and then `process` the information that was published via the publish/process method pair of the SwingWorker.\r\n\r\ne.g., (code not tested):\r\n\r\n```\r\nworker = new SwingWorker&lt;Void, String&gt;() {\r\n\r\n\t@Override\r\n\tprotected Object doInBackground() throws Exception {\r\n\t\tlong startTime = System.nanoTime();\r\n\t\t\r\n\t\t// textArea.append(&quot;Starting...\\n&quot;);\r\n\t\tpublish(&quot;Starting...\\n&quot;);\r\n\t\t\r\n\t\tgeneratingFilesService.genereteFiles(connectionDBFirst, connectionDBSecond, connectionDBThird, date1, date2);\r\n\t\tlong endTime = System.nanoTime();\r\n\t\tdouble time = (double) ((endTime - startTime) / 1_000_000_000);\r\n\t\tif (ConnectionDBFirst.flag != false) {\r\n\t\t\tif (time &lt; 60d) {\r\n\t\t\t\t// textArea.append(&quot;Genereting ended for &quot; + time + &quot; seconds\\n&quot;);\r\n\t\t\t\t// textArea.setCaretPosition(MainPanel.textArea.getDocument().getLength());\r\n\t\t\t\tpublish(&quot;Genereting ended for &quot; + time + &quot; seconds\\n&quot;);\r\n\t\t\t} else {\r\n\t\t\t\t// textArea.append(&quot;Genereting ended for &quot; + (time / 60) + &quot; minutes\\n&quot;);\r\n\t\t\t\t// textArea.setCaretPosition(MainPanel.textArea.getDocument().getLength());\r\n\t\t\t\tpublish(&quot;Genereting ended for &quot; + (time / 60) + &quot; minutes\\n&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}       \r\n\r\n\t@Override\r\n\tprotected void process(List&lt;String&gt; chunks) {\r\n\t\tfor (String chunk : chunks) {\r\n\t\t\ttextArea.append(chunk);\r\n\t\t\ttextArea.setCaretPosition(MainPanel.textArea.getDocument().getLength());\r\n\t\t}\r\n\t}\r\n\r\n// ....\r\n}\r\nworker.execute();\r\n```","title":"Java swing doInBackground, stopping program, and update GUI","body":"<p>You're making Swing mutational calls from within the doInBackground method:</p>\n<pre><code>textArea.append(...);\n</code></pre>\n<p>And this breaks the threading rules and your program.</p>\n<p>The solution is to not do this, and instead to <code>publish</code> the data that needs to be displayed and then <code>process</code> the information that was published via the publish/process method pair of the SwingWorker.</p>\n<p>e.g., (code not tested):</p>\n<pre><code>worker = new SwingWorker&lt;Void, String&gt;() {\n\n    @Override\n    protected Object doInBackground() throws Exception {\n        long startTime = System.nanoTime();\n        \n        // textArea.append(&quot;Starting...\\n&quot;);\n        publish(&quot;Starting...\\n&quot;);\n        \n        generatingFilesService.genereteFiles(connectionDBFirst, connectionDBSecond, connectionDBThird, date1, date2);\n        long endTime = System.nanoTime();\n        double time = (double) ((endTime - startTime) / 1_000_000_000);\n        if (ConnectionDBFirst.flag != false) {\n            if (time &lt; 60d) {\n                // textArea.append(&quot;Genereting ended for &quot; + time + &quot; seconds\\n&quot;);\n                // textArea.setCaretPosition(MainPanel.textArea.getDocument().getLength());\n                publish(&quot;Genereting ended for &quot; + time + &quot; seconds\\n&quot;);\n            } else {\n                // textArea.append(&quot;Genereting ended for &quot; + (time / 60) + &quot; minutes\\n&quot;);\n                // textArea.setCaretPosition(MainPanel.textArea.getDocument().getLength());\n                publish(&quot;Genereting ended for &quot; + (time / 60) + &quot; minutes\\n&quot;);\n            }\n        }\n        return null;\n    }       \n\n    @Override\n    protected void process(List&lt;String&gt; chunks) {\n        for (String chunk : chunks) {\n            textArea.append(chunk);\n            textArea.setCaretPosition(MainPanel.textArea.getDocument().getLength());\n        }\n    }\n\n// ....\n}\nworker.execute();\n</code></pre>\n"}],"owner":{"account_id":8356470,"reputation":125,"user_id":6276545,"display_name":"Ewe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681502292,"creation_date":1681384646,"question_id":76004791,"body_markdown":"I&#39;m new to java Swing, and I need to make some simple Java desktop app. \r\nI have MainPanel in which I have SwingWorker with doInBackgroung in which I call service which calls a DAO that make a quering data from database. I also have a stop button which on click set worker.cancel(true), but the program is not stopping and I can not even close the window with X button.\r\nI suppose that the proccessing is not stoped imidietly because the querying to database is not ended yet, but why cant I close the window?\r\n\r\nThis is the code:\r\n\r\n    worker = new SwingWorker() {\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tprotected Object doInBackground() throws Exception {\r\n\r\n\t\t\t\t\tlong startTime = System.nanoTime();\r\n\t\t\t\t\ttextArea.append(&quot;Starting...\\n&quot;);\r\n\r\n\t\t\t\t\tgeneratingFilesService.genereteFiles(connectionDBFirst, connectionDBSecond, connectionDBThird,\r\n\t\t\t\t\t\t\tdate1, date2);\r\n\t\t\r\n\t\t\t\t\tlong endTime = System.nanoTime();\r\n\t\t\t\t\tdouble time = (double) ((endTime - startTime) / 1_000_000_000);\r\n\t\t\t\t\tif (ConnectionDBFirst.flag != false) {\r\n\t\t\t\t\t\tif (time &lt; 60d) {\r\n\t\t\t\t\t\t\ttextArea.append(&quot;Genereting ended for &quot; + time + &quot; seconds\\n&quot;);\r\n\t\t\t\t\t\t\ttextArea.setCaretPosition(MainPanel.textArea.getDocument().getLength());\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttextArea.append(&quot;Genereting ended for &quot; + (time / 60) + &quot; minutes\\n&quot;);\r\n\t\t\t\t\t\t\ttextArea.setCaretPosition(MainPanel.textArea.getDocument().getLength());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\t\t\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tprotected void done() {\r\n\t\t\t\t\tif (isCancelled()) {\r\n\t\t\t\t\t\ttextArea.append(&quot;Stopping generating files...\\n&quot;);\r\n\t\t\t\t\t\tcloseConnections();\r\n\t\t\t\t\t\tlogger.info(Messages.PROCCESS_INTERUPTED);\r\n\t\t\t\t\t} else \r\n\t\t\t\t\t\tcloseConnections();\r\n\t\t\t\t}\r\n\t\t\t};worker.execute();\r\n\r\nStopping code:\r\n\r\n    if (e.getSource() == stop) {\r\n\t\r\n\t\t\tworker.cancel(true);\r\n\r\n\t\t\tstop.setEnabled(false);}\r\n\r\n\r\n**UPDATE:**\r\n\r\nBased on the answer and comments, here is the rest of the code:\r\n\r\n\r\n    public void genereteFiles(connectionDBFirst, connectionDBSecond, connectionDBThird,\r\n                            date1, date2) {\r\n    \r\n    \tList&lt;Person&gt; persons1 = daoFirst.getPersons(connectionDBFirst, date1, date2);\r\n    \t\t\r\n    \t//here i want to update the textArea() that the daoFirst.getPersons() is done\r\n    \t//but how to that without MainPanel.textArea.append(...);\r\n    \t\r\n    \tList&lt;Person&gt; persons2 = daoSecond.getPersons(connectionDBSecond, date1, date2);\r\n    \t\r\n    \t//here i want to update the textArea() that the daoSecond.getPersons() is done\r\n    \t//but how to that without MainPanel.textArea.append(...);\r\n    \t\r\n    \t//same with daoThird\r\n    \r\n    \tgenereteFilesService.createFiles(persons1, persons2, persons3);\r\n    \r\n    \t//update textArea() again\r\n    \r\n    }\r\n    \r\nDAO code:\r\n    \r\n    public List&lt;Person&gt; getPersons(connectionDBFirst, date1, date2) {\r\n    \r\n    \t//executeing sql query and geting the Persons\r\n    \t//this takes long time, and from here I calculate \r\n    \t//percentage of persons fetched and I want to show the prcentage in textArea()\r\n    \t//but how to do that without MainPanel.textArea.append(...);\r\n    }\r\n\r\nNow, beside initial question, how can I use publish() and proccess() methods to update the textArea() from generateFiles() and DAO methods?","title":"Java swing doInBackground, stopping program, and update GUI","body":"<p>I'm new to java Swing, and I need to make some simple Java desktop app.\nI have MainPanel in which I have SwingWorker with doInBackgroung in which I call service which calls a DAO that make a quering data from database. I also have a stop button which on click set worker.cancel(true), but the program is not stopping and I can not even close the window with X button.\nI suppose that the proccessing is not stoped imidietly because the querying to database is not ended yet, but why cant I close the window?</p>\n<p>This is the code:</p>\n<pre><code>worker = new SwingWorker() {\n\n            @Override\n            protected Object doInBackground() throws Exception {\n\n                long startTime = System.nanoTime();\n                textArea.append(&quot;Starting...\\n&quot;);\n\n                generatingFilesService.genereteFiles(connectionDBFirst, connectionDBSecond, connectionDBThird,\n                        date1, date2);\n    \n                long endTime = System.nanoTime();\n                double time = (double) ((endTime - startTime) / 1_000_000_000);\n                if (ConnectionDBFirst.flag != false) {\n                    if (time &lt; 60d) {\n                        textArea.append(&quot;Genereting ended for &quot; + time + &quot; seconds\\n&quot;);\n                        textArea.setCaretPosition(MainPanel.textArea.getDocument().getLength());\n                    } else {\n                        textArea.append(&quot;Genereting ended for &quot; + (time / 60) + &quot; minutes\\n&quot;);\n                        textArea.setCaretPosition(MainPanel.textArea.getDocument().getLength());\n                    }\n                }\n                return null;\n            }       \n            \n            @Override\n            protected void done() {\n                if (isCancelled()) {\n                    textArea.append(&quot;Stopping generating files...\\n&quot;);\n                    closeConnections();\n                    logger.info(Messages.PROCCESS_INTERUPTED);\n                } else \n                    closeConnections();\n            }\n        };worker.execute();\n</code></pre>\n<p>Stopping code:</p>\n<pre><code>if (e.getSource() == stop) {\n\n        worker.cancel(true);\n\n        stop.setEnabled(false);}\n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<p>Based on the answer and comments, here is the rest of the code:</p>\n<pre><code>public void genereteFiles(connectionDBFirst, connectionDBSecond, connectionDBThird,\n                        date1, date2) {\n\n    List&lt;Person&gt; persons1 = daoFirst.getPersons(connectionDBFirst, date1, date2);\n        \n    //here i want to update the textArea() that the daoFirst.getPersons() is done\n    //but how to that without MainPanel.textArea.append(...);\n    \n    List&lt;Person&gt; persons2 = daoSecond.getPersons(connectionDBSecond, date1, date2);\n    \n    //here i want to update the textArea() that the daoSecond.getPersons() is done\n    //but how to that without MainPanel.textArea.append(...);\n    \n    //same with daoThird\n\n    genereteFilesService.createFiles(persons1, persons2, persons3);\n\n    //update textArea() again\n\n}\n</code></pre>\n<p>DAO code:</p>\n<pre><code>public List&lt;Person&gt; getPersons(connectionDBFirst, date1, date2) {\n\n    //executeing sql query and geting the Persons\n    //this takes long time, and from here I calculate \n    //percentage of persons fetched and I want to show the prcentage in textArea()\n    //but how to do that without MainPanel.textArea.append(...);\n}\n</code></pre>\n<p>Now, beside initial question, how can I use publish() and proccess() methods to update the textArea() from generateFiles() and DAO methods?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1681502029,"post_id":76018286,"comment_id":134072496,"body_markdown":"Other IDEs also have this feature like IntelliJ IDEA. It shows the parameter names as tip. Orange market however is even for a Dutch a bit much.","body":"Other IDEs also have this feature like IntelliJ IDEA. It shows the parameter names as tip. Orange market however is even for a Dutch a bit much."},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1681526683,"post_id":76018286,"comment_id":134075132,"body_markdown":"@JoopEggen it&#39;s their colour theme. looks like they&#39;re using a high-contrast theme, where &quot;a bit much&quot; is kind of by design.","body":"@JoopEggen it&#39;s their colour theme. looks like they&#39;re using a high-contrast theme, where &quot;a bit much&quot; is kind of by design."}],"owner":{"account_id":28307734,"reputation":1,"user_id":21645468,"display_name":"Sohan Shankar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681696553,"answer_count":0,"score":0,"last_activity_date":1681502217,"creation_date":1681499703,"question_id":76018286,"body_markdown":"[the orange highlights](https://i.stack.imgur.com/nVoC5.png)\r\n\r\nI thought it was just find so I tried to click on them but that does nothing.","title":"Why are there these orange highlights for parameters in Visual Studios java? How can I toggle them off?","body":"<p><a href=\"https://i.stack.imgur.com/nVoC5.png\" rel=\"nofollow noreferrer\">the orange highlights</a></p>\n<p>I thought it was just find so I tried to click on them but that does nothing.</p>\n"},{"tags":["java","mongodb","gridfs"],"answers":[{"tags":[],"owner":{"account_id":15345964,"reputation":31,"user_id":11071363,"display_name":"Kashin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681502055,"creation_date":1681502055,"answer_id":76018507,"question_id":76016581,"body_markdown":"So I solved this issue in a simple way. Instead of getting the gridFSBucket and GridFSFile and trying to migrate that to the new collection which complicated evertything, I just decided to run find() method on the mongoCollections bucket1.files and bucket1.chunks directly.\r\n\r\nThis returns the List&lt;Documents&gt; documentsList which you can insert into bucket2.files and bucket2.chunks\r\n\r\nI tested it and the images I uploaded in bucket1 can be retrieved from the new collection bucket2 after following this process.\r\n\r\n\r\n     MongoCollection&lt;Document&gt; bucket1FileColl = db.getCollection(&quot;bucket1.files&quot;);\r\n     MongoCollection&lt;Document&gt; bucket1ChunkColl = db.getCollection(&quot;bucket1.chunks&quot;);\r\n            \r\n\t\t\t\r\n\t MongoCollection&lt;Document&gt; bucket2FileColl = db.getCollection(&quot;bucket2.files&quot;);\r\n     MongoCollection&lt;Document&gt; bucket2ChunkColl = db.getCollection(&quot;bucket2.chunks&quot;);\r\n\r\n     BasicDBObject searchQuery = new BasicDBObject();\r\n     searchQuery.put(&quot;_id&quot;, new BasicDBObject(&quot;$in&quot;, attachmentFileIdsList));\r\n     ArrayList&lt;Document&gt; bucket1Files=\r\n          bucket1FileColl.find(searchQuery).into(new ArrayList&lt;Document&gt;());\r\n\r\n      \r\n      if(CollectionUtils.isNotEmpty(bucket1Files)){\r\n         bucket2FileColl.insertMany(bucket1Files);\r\n      }\r\n     \r\n\r\n      BasicDBObject searchQueryChunks = new BasicDBObject();\r\n      searchQueryChunks.put(&quot;files_id&quot;, new BasicDBObject(&quot;$in&quot;, attachmentFileIdsList));\r\n      \r\n      ArrayList&lt;Document&gt; bucket1Chunks= bucket1ChunkColl.find(searchQueryChunks).into(new ArrayList&lt;Document&gt;());\r\n\r\n      \r\n      if(CollectionUtils.isNotEmpty(bucket1Chunks)){\r\n        bucket2ChunkColl.insertMany(bucket1Chunks);\r\n      }\r\n     ","title":"How do I move a GridFSFile from one collection to another collection in java","body":"<p>So I solved this issue in a simple way. Instead of getting the gridFSBucket and GridFSFile and trying to migrate that to the new collection which complicated evertything, I just decided to run find() method on the mongoCollections bucket1.files and bucket1.chunks directly.</p>\n<p>This returns the List documentsList which you can insert into bucket2.files and bucket2.chunks</p>\n<p>I tested it and the images I uploaded in bucket1 can be retrieved from the new collection bucket2 after following this process.</p>\n<pre><code> MongoCollection&lt;Document&gt; bucket1FileColl = db.getCollection(&quot;bucket1.files&quot;);\n MongoCollection&lt;Document&gt; bucket1ChunkColl = db.getCollection(&quot;bucket1.chunks&quot;);\n        \n        \n MongoCollection&lt;Document&gt; bucket2FileColl = db.getCollection(&quot;bucket2.files&quot;);\n MongoCollection&lt;Document&gt; bucket2ChunkColl = db.getCollection(&quot;bucket2.chunks&quot;);\n\n BasicDBObject searchQuery = new BasicDBObject();\n searchQuery.put(&quot;_id&quot;, new BasicDBObject(&quot;$in&quot;, attachmentFileIdsList));\n ArrayList&lt;Document&gt; bucket1Files=\n      bucket1FileColl.find(searchQuery).into(new ArrayList&lt;Document&gt;());\n\n  \n  if(CollectionUtils.isNotEmpty(bucket1Files)){\n     bucket2FileColl.insertMany(bucket1Files);\n  }\n \n\n  BasicDBObject searchQueryChunks = new BasicDBObject();\n  searchQueryChunks.put(&quot;files_id&quot;, new BasicDBObject(&quot;$in&quot;, attachmentFileIdsList));\n  \n  ArrayList&lt;Document&gt; bucket1Chunks= bucket1ChunkColl.find(searchQueryChunks).into(new ArrayList&lt;Document&gt;());\n\n  \n  if(CollectionUtils.isNotEmpty(bucket1Chunks)){\n    bucket2ChunkColl.insertMany(bucket1Chunks);\n  }\n \n</code></pre>\n"}],"owner":{"account_id":15345964,"reputation":31,"user_id":11071363,"display_name":"Kashin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76018507,"answer_count":1,"score":0,"last_activity_date":1681502055,"creation_date":1681485175,"question_id":76016581,"body_markdown":"I have two GridFS collections in my mongo db, I need to transfer the files from one GridFS collection to another collection in the same db. \r\n\r\n\r\n\r\n\r\n\r\nI have a List&lt;ObjectId&gt; that I&#39;m using with $in operator to get a list of files which is returned as GridFSFindIterable, now I need to find a way to move these GridFSFiles to the new collection bucket2.\r\n\r\n    GridFSBucket bucket1= GridFSBuckets.create(db, &quot;bucket1&quot;);\r\n    GridFSBucket bucket2= GridFSBuckets.create(db, &quot;bucket2&quot;);\r\n\r\n    BasicDBObject searchQuery = new BasicDBObject();\r\n    searchQuery.put(&quot;_id&quot;, new BasicDBObject(&quot;$in&quot;, fileIdsList));\r\n\r\n    GridFSFindIterable bucket1Files = bucket1.find(searchQuery);\r\n\r\n    for(GridFSFile file: bucket1Files){\r\n\t    \t  \r\n    }\r\n\r\nWhat is the best approach to store these list of files in bucket2 collection?","title":"How do I move a GridFSFile from one collection to another collection in java","body":"<p>I have two GridFS collections in my mongo db, I need to transfer the files from one GridFS collection to another collection in the same db.</p>\n<p>I have a List that I'm using with $in operator to get a list of files which is returned as GridFSFindIterable, now I need to find a way to move these GridFSFiles to the new collection bucket2.</p>\n<pre><code>GridFSBucket bucket1= GridFSBuckets.create(db, &quot;bucket1&quot;);\nGridFSBucket bucket2= GridFSBuckets.create(db, &quot;bucket2&quot;);\n\nBasicDBObject searchQuery = new BasicDBObject();\nsearchQuery.put(&quot;_id&quot;, new BasicDBObject(&quot;$in&quot;, fileIdsList));\n\nGridFSFindIterable bucket1Files = bucket1.find(searchQuery);\n\nfor(GridFSFile file: bucket1Files){\n          \n}\n</code></pre>\n<p>What is the best approach to store these list of files in bucket2 collection?</p>\n"},{"tags":["java","unit-testing","mockito","junit4"],"comments":[{"owner":{"account_id":2038814,"reputation":11604,"user_id":1820501,"display_name":"Florent Bayle"},"score":6,"creation_date":1414748358,"post_id":26671382,"comment_id":41943275,"body_markdown":"As a side note, you should really use prepared statements instead of concatenating parameters into your SQL.","body":"As a side note, you should really use prepared statements instead of concatenating parameters into your SQL."},{"owner":{"account_id":20003,"reputation":2738,"user_id":47392,"display_name":"Flo"},"score":0,"creation_date":1414748435,"post_id":26671382,"comment_id":41943323,"body_markdown":"[Link to documentation for JDBC Prepared Statements](http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html)","body":"<a href=\"http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">Link to documentation for JDBC Prepared Statements</a>"},{"owner":{"account_id":202342,"reputation":13496,"user_id":449355,"accept_rate":91,"display_name":"Umesh K"},"score":0,"creation_date":1414748449,"post_id":26671382,"comment_id":41943332,"body_markdown":"Hi thanks for input. I cant user prepared statements as all of these are fixed queries and change at run time and above all they are normal sql not meant to be executed as prepared statements.","body":"Hi thanks for input. I cant user prepared statements as all of these are fixed queries and change at run time and above all they are normal sql not meant to be executed as prepared statements."},{"owner":{"account_id":28952,"reputation":13127,"user_id":77804,"accept_rate":55,"display_name":"phtrivier"},"score":1,"creation_date":1414748634,"post_id":26671382,"comment_id":41943433,"body_markdown":"You can of change statements at runtime (see the section &quot;Supplying Values for PreparedStatement Parameters&quot;), and it will help you avoid SQL injections.","body":"You can of change statements at runtime (see the section &quot;Supplying Values for PreparedStatement Parameters&quot;), and it will help you avoid SQL injections."}],"answers":[{"tags":[],"owner":{"account_id":2642343,"reputation":2154,"user_id":2285734,"accept_rate":100,"display_name":"Korashen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414748674,"creation_date":1414748674,"answer_id":26671575,"question_id":26671382,"body_markdown":"I can&#39;t see any difficulties to test a method that returns a string.\r\n\r\n\r\n    public void testSqlToDoXYZ()\r\n    {\r\n     MyObj testTarget = new MyObj(/*Parameters if needed*/);\r\n     Config config = new Config();\r\n     /*Config config = new ConfigMock();*/\r\n     String expectedResult = &quot;SELECT BLAH BLACH WHERE ABC=123;&quot;;\r\n     assertEquals(epxectedResult, testTarget.getSqlToDoXYZ(config));\r\n    }\r\n\r\nThe key is, that you have to know your result. If the `config.getABC()` call could return different values, you have to make sure it always provides the same values for your test. So you might have to mock your `config` object or put fake data into your config provider.","title":"How to unit test method returning Java string?","body":"<p>I can't see any difficulties to test a method that returns a string.</p>\n\n<pre><code>public void testSqlToDoXYZ()\n{\n MyObj testTarget = new MyObj(/*Parameters if needed*/);\n Config config = new Config();\n /*Config config = new ConfigMock();*/\n String expectedResult = \"SELECT BLAH BLACH WHERE ABC=123;\";\n assertEquals(epxectedResult, testTarget.getSqlToDoXYZ(config));\n}\n</code></pre>\n\n<p>The key is, that you have to know your result. If the <code>config.getABC()</code> call could return different values, you have to make sure it always provides the same values for your test. So you might have to mock your <code>config</code> object or put fake data into your config provider.</p>\n"},{"comments":[{"owner":{"account_id":202342,"reputation":13496,"user_id":449355,"accept_rate":91,"display_name":"Umesh K"},"score":0,"creation_date":1414749060,"post_id":26671628,"comment_id":41943647,"body_markdown":"Hi thanks for the answer. Sql are more tricky and long I just gave simple example it involves lot of complex joins etc. I dont think risk of SQL injection as my is desktop app will be running under secure firewall. So you are saying whatever my sql is I should know in advance and just validate in assert it.","body":"Hi thanks for the answer. Sql are more tricky and long I just gave simple example it involves lot of complex joins etc. I dont think risk of SQL injection as my is desktop app will be running under secure firewall. So you are saying whatever my sql is I should know in advance and just validate in assert it."},{"owner":{"account_id":28952,"reputation":13127,"user_id":77804,"accept_rate":55,"display_name":"phtrivier"},"score":0,"creation_date":1414749560,"post_id":26671628,"comment_id":41943896,"body_markdown":"Yes, that&#39;s the general idea of unit testing : you get a unit of code to execute with known inputs, and you compare the &quot;actual&quot; result (what your code under test returns) to the &quot;expected&quot; result (the one you know.) In case of Strings, it is actually pretty easy, since Java has comparison built-in. Mocks are helpfull when it&#39;s difficult to build the inputs, or when you need to test code that has side-effects that can not be simulated. When you&#39;re a bit more confortable with unit tests, see http://martinfowler.com/articles/mocksArentStubs.html for *much* more details.","body":"Yes, that&#39;s the general idea of unit testing : you get a unit of code to execute with known inputs, and you compare the &quot;actual&quot; result (what your code under test returns) to the &quot;expected&quot; result (the one you know.) In case of Strings, it is actually pretty easy, since Java has comparison built-in. Mocks are helpfull when it&#39;s difficult to build the inputs, or when you need to test code that has side-effects that can not be simulated. When you&#39;re a bit more confortable with unit tests, see <a href=\"http://martinfowler.com/articles/mocksArentStubs.html\" rel=\"nofollow noreferrer\">martinfowler.com/articles/mocksArentStubs.html</a> for <i>much</i> more details."}],"tags":[],"owner":{"account_id":28952,"reputation":13127,"user_id":77804,"accept_rate":55,"display_name":"phtrivier"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1414748813,"creation_date":1414748813,"answer_id":26671628,"question_id":26671382,"body_markdown":"As pointed elsewhere, using Strings for SQL statements is dangerous, regarding SQL injections. \r\nThat being said, you simply have to call the method, and compare the result to a String you build &quot;by hand&quot; : \r\n\r\n\r\n    public void testBuildSqlToDoXYZ() throws Exception {\r\n\r\n       WhateverYourObjectIs yourObject = new WhateverYourObjectIs();\r\n       MyConfig myConfig = new MyConfig();\r\n       myConfig.setABC(&quot;foo&quot;);\r\n\r\n       String sql = yourObject.getSqlToDoXYZ(myConfig);\r\n       assertEquals(&quot;SELECT BLAH BLAH WHERE ABC=&#39;foo&#39;&quot;, sql);\r\n\r\n    }\r\n\r\nMockito would only be helpfull in this case if is impossible for you to create a &quot;MyConfig&quot; object by hand. \r\n\r\nThere might be something else in your code that makes that difficult, but you haven&#39;t really provided us enough info.","title":"How to unit test method returning Java string?","body":"<p>As pointed elsewhere, using Strings for SQL statements is dangerous, regarding SQL injections. \nThat being said, you simply have to call the method, and compare the result to a String you build \"by hand\" : </p>\n\n<pre><code>public void testBuildSqlToDoXYZ() throws Exception {\n\n   WhateverYourObjectIs yourObject = new WhateverYourObjectIs();\n   MyConfig myConfig = new MyConfig();\n   myConfig.setABC(\"foo\");\n\n   String sql = yourObject.getSqlToDoXYZ(myConfig);\n   assertEquals(\"SELECT BLAH BLAH WHERE ABC='foo'\", sql);\n\n}\n</code></pre>\n\n<p>Mockito would only be helpfull in this case if is impossible for you to create a \"MyConfig\" object by hand. </p>\n\n<p>There might be something else in your code that makes that difficult, but you haven't really provided us enough info.</p>\n"}],"owner":{"account_id":202342,"reputation":13496,"user_id":449355,"accept_rate":91,"display_name":"Umesh K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":26671628,"answer_count":2,"score":0,"last_activity_date":1681501833,"creation_date":1414748051,"question_id":26671382,"body_markdown":"I have plenty of methods which returns string which I need to unit test. Now challenge for me is is how do I do code coverage? For example, my method looks like the following:\r\n\r\n    Public String getSqlToDoXYZ(Myconfig config) {\r\n    StringBuilder sb = new StringBuilder() ;\r\n    sb.append(\t&quot;SELECT BLAH BLAH&quot;);\r\n    sb.append(&quot;WHERE ABC=&quot;+config.getABC());\r\n    return sb.toString() ;\r\n    } \r\n\r\nHow can I unit test such scenario? I am using Mockito to do unit testing. I am new to both Mockito and unit testing.\r\n","title":"How to unit test method returning Java string?","body":"<p>I have plenty of methods which returns string which I need to unit test. Now challenge for me is is how do I do code coverage? For example, my method looks like the following:</p>\n<pre><code>Public String getSqlToDoXYZ(Myconfig config) {\nStringBuilder sb = new StringBuilder() ;\nsb.append(  &quot;SELECT BLAH BLAH&quot;);\nsb.append(&quot;WHERE ABC=&quot;+config.getABC());\nreturn sb.toString() ;\n} \n</code></pre>\n<p>How can I unit test such scenario? I am using Mockito to do unit testing. I am new to both Mockito and unit testing.</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-bigtable","bigtable"],"answers":[{"comments":[{"owner":{"account_id":23714854,"reputation":3,"user_id":17736145,"display_name":"Egor"},"score":1,"creation_date":1681524103,"post_id":76018424,"comment_id":134074955,"body_markdown":"You confirm my guess. I read a lot of Google&#39;s docs, but didn&#39;t find anything related to my question. Thanks.","body":"You confirm my guess. I read a lot of Google&#39;s docs, but didn&#39;t find anything related to my question. Thanks."}],"tags":[],"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681501083,"creation_date":1681501083,"answer_id":76018424,"question_id":76018378,"body_markdown":"With HBase, or BigTable, it&#39;s the same engine, you can only filter on the key (or the prefix of the key). Therefore, request the lines that you want to inspect and then iterate over the line to keep only those who match your conditions.\r\n\r\nThat&#39;s why HBase fit perfectly distributed system like Spark/Dataproc to distribute the post processing on the cluster if you have a large number of rows.","title":"Filtering data in bigtable","body":"<p>With HBase, or BigTable, it's the same engine, you can only filter on the key (or the prefix of the key). Therefore, request the lines that you want to inspect and then iterate over the line to keep only those who match your conditions.</p>\n<p>That's why HBase fit perfectly distributed system like Spark/Dataproc to distribute the post processing on the cluster if you have a large number of rows.</p>\n"}],"owner":{"account_id":23714854,"reputation":3,"user_id":17736145,"display_name":"Egor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76018424,"answer_count":1,"score":0,"last_activity_date":1681501083,"creation_date":1681500632,"question_id":76018378,"body_markdown":"My table contain rowKey and and 2 columns. RowKey looks like `string#timestamp`, first column contain String value and second contain json as String. \r\n        \r\n```\r\n        Query query = Query.create(bigTableTableName).range(rowKeyBegining, rowKeyEnd);\r\n        ServerStream&lt;Row&gt; rows = bigtableDataClient.readRows(query);\r\n        for (Row row : rows) {\r\n            //extract cell from row\r\n        }\r\n```\r\n\r\nFor example:\r\n\r\n```\r\n        rowKey                  First                 Second\r\nGreg#2023-04-01T12:23:00       cookie               &quot;some JSON data&quot;\r\nGreg#2023-04-03T22:20:54       cake                 &quot;some JSON data&quot;\r\nGreg#2023-04-03T15:03:23       cookie               &quot;some JSON data&quot;\r\nGreg#2023-04-10T20:54:33       salad                &quot;some JSON data&quot;\r\nGreg#2023-04-19T18:00:00       cookie               &quot;some JSON data&quot;\r\n...\r\n```\r\n\r\nI need to retrieve range of rows for time range between Greg#2023-04-01T00:00:00 and Greg#2023-04-30T23:59:00 but request should return rows where value in column first is equal &quot;cookie&quot;.\r\n\r\nIs there way to add extra filter for the first column? \r\n","title":"Filtering data in bigtable","body":"<p>My table contain rowKey and and 2 columns. RowKey looks like <code>string#timestamp</code>, first column contain String value and second contain json as String.</p>\n<pre><code>        Query query = Query.create(bigTableTableName).range(rowKeyBegining, rowKeyEnd);\n        ServerStream&lt;Row&gt; rows = bigtableDataClient.readRows(query);\n        for (Row row : rows) {\n            //extract cell from row\n        }\n</code></pre>\n<p>For example:</p>\n<pre><code>        rowKey                  First                 Second\nGreg#2023-04-01T12:23:00       cookie               &quot;some JSON data&quot;\nGreg#2023-04-03T22:20:54       cake                 &quot;some JSON data&quot;\nGreg#2023-04-03T15:03:23       cookie               &quot;some JSON data&quot;\nGreg#2023-04-10T20:54:33       salad                &quot;some JSON data&quot;\nGreg#2023-04-19T18:00:00       cookie               &quot;some JSON data&quot;\n...\n</code></pre>\n<p>I need to retrieve range of rows for time range between Greg#2023-04-01T00:00:00 and Greg#2023-04-30T23:59:00 but request should return rows where value in column first is equal &quot;cookie&quot;.</p>\n<p>Is there way to add extra filter for the first column?</p>\n"},{"tags":["java","android-studio","kotlin","in-app-subscription"],"answers":[{"tags":[],"owner":{"account_id":17058981,"reputation":45,"user_id":12342849,"display_name":"Dingaan Letjane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676293179,"creation_date":1676293179,"answer_id":75436210,"question_id":75070486,"body_markdown":"I&#39;m assuming you are trying to get the ProductId from the Purchase object returned from google play when the user has done purchasing your product.\r\n\r\nPlease note that This `getSku()`  method is deprecated. Use `getProducts()` instead. \r\n\r\nread more: https://developer.android.com/reference/com/android/billingclient/api/Purchase\r\n\r\n`getProducts()`  - Returns the product Ids.\r\nThe trick is to use `.get(index)` on the list.\r\n\r\nCheck the example \r\n\r\n```java\r\n\r\nvoid verifySubPurchase(Purchase purchases) {\r\n    AcknowledgePurchaseParams acknowledgePurchaseParams = AcknowledgePurchaseParams\r\n            .newBuilder()\r\n            .setPurchaseToken(purchases.getPurchaseToken())\r\n            .build();\r\n\r\n    billingClient.acknowledgePurchase(acknowledgePurchaseParams, billingResult -&gt; {\r\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n           \r\n String productId = purchases.getProducts().get(0); /// this one gets the product Id\r\n           \r\n String purchaseToken = purchases.getPurchaseToken(); /// this one gets the purchase token\r\n        }\r\n    });\r\n}\r\n\r\n````\r\n","title":"InApp Billing version 3 to version 5. BillingClient.ProductType.SUBS. codes not working","body":"<p>I'm assuming you are trying to get the ProductId from the Purchase object returned from google play when the user has done purchasing your product.</p>\n<p>Please note that This <code>getSku()</code>  method is deprecated. Use <code>getProducts()</code> instead.</p>\n<p>read more: <a href=\"https://developer.android.com/reference/com/android/billingclient/api/Purchase\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/com/android/billingclient/api/Purchase</a></p>\n<p><code>getProducts()</code>  - Returns the product Ids.\nThe trick is to use <code>.get(index)</code> on the list.</p>\n<p>Check the example</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nvoid verifySubPurchase(Purchase purchases) {\n    AcknowledgePurchaseParams acknowledgePurchaseParams = AcknowledgePurchaseParams\n            .newBuilder()\n            .setPurchaseToken(purchases.getPurchaseToken())\n            .build();\n\n    billingClient.acknowledgePurchase(acknowledgePurchaseParams, billingResult -&gt; {\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n           \n String productId = purchases.getProducts().get(0); /// this one gets the product Id\n           \n String purchaseToken = purchases.getPurchaseToken(); /// this one gets the purchase token\n        }\n    });\n}\n\n</code></pre>\n"}],"owner":{"account_id":21834024,"reputation":115,"user_id":16128598,"display_name":"Angel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681500714,"creation_date":1673356175,"question_id":75070486,"body_markdown":"I tried all the answers on the internet, but nothing works, if anyone has a solution for this, will be really helpful for my application. I&#39;m having a problem migrating the **Google Play billing library** from Version 3 to 5. First of all, I&#39;m not really good with in-app billing. some of the codes are depreciated and not working anymore. some answers from the internet are confusing\r\n\r\nI&#39;m getting errors when I add\r\n\r\n```java\r\nif (purchase.getProducts().equals(sku)) {\r\n    return true;\r\n} else {\r\n    return false;\r\n}\r\n```\r\n\r\nit says &quot;Cannot return a value from a method with void result type&quot;\r\n\r\n\r\nThen (V3.0.3, worked first).\r\n\r\n```java\r\npublic boolean isSubscribedToSubscriptionItem(String sku) {\r\n    if (skuListSubscriptionsList != null) {\r\n        Purchase.PurchasesResult result = billingClient.queryPurchases(BillingClient.SkuType.SUBS);\r\n\r\n        if (result.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; result.getPurchasesList() != null) {\r\n            for (Purchase purchase : result.getPurchasesList()) {\r\n                if (purchase.getSku().equals(sku)) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n```\r\n\r\nNow (V5.1.0, Some errors).\r\n\r\n```java\r\npublic boolean isSubscribedToSubscriptionItem(String sku) {\r\n    if (skuListSubscriptionsList != null) {\r\n        billingClient.queryPurchasesAsync(\r\n            QueryPurchasesParams.newBuilder()\r\n                .setProductType(BillingClient.ProductType.SUBS)\r\n                .build(),\r\n            new PurchasesResponseListener() {\r\n                @Override\r\n                public void onQueryPurchasesResponse(BillingResult billingResult, List&lt;Purchase&gt; purchases) {\r\n                    if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK&amp;&amp;purchases != null) {\r\n                        for (Purchase purchase : purchases) {\r\n                            // ERROR : Cannot return a value from a method with void result type. What to write here ?\r\n                            if (purchase.getProducts().equals(sku)) {\r\n                                return true;\r\n                            } else {\r\n                                return false;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    return false;\r\n}\r\n```\r\n\r\n\r\nThese codes are in my splash activity (kt)\r\n\r\n```java\r\noverride fun displayErrorMessage(message: String?) {\r\n    when {\r\n        message.equals(&quot;done&quot;) -&gt; {\r\n            AppSettings.isUserPaid =\r\n                billingClass!!.isSubscribedToSubscriptionItem(AppSettings.one_month_subscription_id) ||\r\n                billingClass!!.isSubscribedToSubscriptionItem(AppSettings.three_month_subscription_id) ||\r\n                billingClass!!.isSubscribedToSubscriptionItem(AppSettings.one_year_subscription_id)\r\n\r\n            startMainActivity()\r\n        }\r\n\r\n        message.equals(&quot;error&quot;) -&gt; {\r\n            AppSettings.isUserPaid = false;\r\n            startMainActivity()\r\n        } else -&gt; {\r\n            AppSettings.isUserPaid = false;\r\n            startMainActivity()\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"InApp Billing version 3 to version 5. BillingClient.ProductType.SUBS. codes not working","body":"<p>I tried all the answers on the internet, but nothing works, if anyone has a solution for this, will be really helpful for my application. I'm having a problem migrating the <strong>Google Play billing library</strong> from Version 3 to 5. First of all, I'm not really good with in-app billing. some of the codes are depreciated and not working anymore. some answers from the internet are confusing</p>\n<p>I'm getting errors when I add</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (purchase.getProducts().equals(sku)) {\n    return true;\n} else {\n    return false;\n}\n</code></pre>\n<p>it says &quot;Cannot return a value from a method with void result type&quot;</p>\n<p>Then (V3.0.3, worked first).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isSubscribedToSubscriptionItem(String sku) {\n    if (skuListSubscriptionsList != null) {\n        Purchase.PurchasesResult result = billingClient.queryPurchases(BillingClient.SkuType.SUBS);\n\n        if (result.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; result.getPurchasesList() != null) {\n            for (Purchase purchase : result.getPurchasesList()) {\n                if (purchase.getSku().equals(sku)) {\n                    return true;\n                } else {\n                    return false;\n                }\n            }\n        }\n    }\n\n    return false;\n}\n</code></pre>\n<p>Now (V5.1.0, Some errors).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isSubscribedToSubscriptionItem(String sku) {\n    if (skuListSubscriptionsList != null) {\n        billingClient.queryPurchasesAsync(\n            QueryPurchasesParams.newBuilder()\n                .setProductType(BillingClient.ProductType.SUBS)\n                .build(),\n            new PurchasesResponseListener() {\n                @Override\n                public void onQueryPurchasesResponse(BillingResult billingResult, List&lt;Purchase&gt; purchases) {\n                    if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK&amp;&amp;purchases != null) {\n                        for (Purchase purchase : purchases) {\n                            // ERROR : Cannot return a value from a method with void result type. What to write here ?\n                            if (purchase.getProducts().equals(sku)) {\n                                return true;\n                            } else {\n                                return false;\n                            }\n                        }\n                    }\n                }\n            }\n        );\n    }\n\n    return false;\n}\n</code></pre>\n<p>These codes are in my splash activity (kt)</p>\n<pre class=\"lang-java prettyprint-override\"><code>override fun displayErrorMessage(message: String?) {\n    when {\n        message.equals(&quot;done&quot;) -&gt; {\n            AppSettings.isUserPaid =\n                billingClass!!.isSubscribedToSubscriptionItem(AppSettings.one_month_subscription_id) ||\n                billingClass!!.isSubscribedToSubscriptionItem(AppSettings.three_month_subscription_id) ||\n                billingClass!!.isSubscribedToSubscriptionItem(AppSettings.one_year_subscription_id)\n\n            startMainActivity()\n        }\n\n        message.equals(&quot;error&quot;) -&gt; {\n            AppSettings.isUserPaid = false;\n            startMainActivity()\n        } else -&gt; {\n            AppSettings.isUserPaid = false;\n            startMainActivity()\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","io","inputstream","embedded-resource"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1338366260,"post_id":10812559,"comment_id":14071456,"body_markdown":"*&quot;it looks like a very common problem&quot;*  Commonly Java methods will accept an `InputStream`.","body":"<i>&quot;it looks like a very common problem&quot;</i>  Commonly Java methods will accept an <code>InputStream</code>."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1338366337,"post_id":10812559,"comment_id":14071487,"body_markdown":"I _think_ that with Guava, this is more or less `Resources.toByteArray(Resources.getResource(contextClass, resourceName))`?","body":"I <i>think</i> that with Guava, this is more or less <code>Resources.toByteArray(Resources.getResource(contextClass, resourceName))</code>?"},{"owner":{"account_id":1057897,"reputation":19130,"user_id":1060205,"accept_rate":94,"display_name":"Samuel Rossille"},"score":2,"creation_date":1338366868,"post_id":10812559,"comment_id":14071675,"body_markdown":"@AndrewThompson you just prevented me from doing something stupid in this precise case, thank you.","body":"@AndrewThompson you just prevented me from doing something stupid in this precise case, thank you."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1338369412,"post_id":10812559,"comment_id":14072592,"body_markdown":"Entered as (alternate) answer.  ;)","body":"Entered as (alternate) answer.  ;)"}],"answers":[{"comments":[{"owner":{"account_id":4719664,"reputation":3937,"user_id":3817953,"accept_rate":80,"display_name":"yunandtidus"},"score":14,"creation_date":1454595405,"post_id":10812583,"comment_id":58122320,"body_markdown":"more precisely something as `IOUtils.toByteArray(getClass().getClassLoader().getResourceAsStream(&quot;XXX&quot;)`","body":"more precisely something as <code>IOUtils.toByteArray(getClass().getClassLoader().getResourceA&zwnj;&#8203;sStream(&quot;XXX&quot;)</code>"},{"owner":{"account_id":5506939,"reputation":628,"user_id":4374547,"accept_rate":100,"display_name":"cesAR"},"score":0,"creation_date":1479915455,"post_id":10812583,"comment_id":68761057,"body_markdown":"This is useful for me in 2016. I am using the latest version of  IOUtils with Maven: [https://mvnrepository.com/artifact/commons-io/commons-io/2.5](https://mvnrepository.com/artifact/commons-io/commons-io/2.5), through the suggestion of @yunandtidus Thanks.","body":"This is useful for me in 2016. I am using the latest version of  IOUtils with Maven: <a href=\"https://mvnrepository.com/artifact/commons-io/commons-io/2.5\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/commons-io/commons-io/2.5</a>&zwnj;&#8203;, through the suggestion of @yunandtidus Thanks."},{"owner":{"account_id":1425986,"reputation":3033,"user_id":2306595,"display_name":"Innokenty"},"score":1,"creation_date":1633009199,"post_id":10812583,"comment_id":122651774,"body_markdown":"My favourite is `IOUtils.resourceToByteArray(&quot;XXX&quot;, getClass().getClassLoader())` as it&#39;s a tiny bit shorter.","body":"My favourite is <code>IOUtils.resourceToByteArray(&quot;XXX&quot;, getClass().getClassLoader())</code> as it&#39;s a tiny bit shorter."}],"tags":[],"owner":{"account_id":1474276,"reputation":4564,"user_id":1385087,"display_name":"Konstantin V. Salikhov"},"comment_count":3,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1338366284,"creation_date":1338366284,"answer_id":10812583,"question_id":10812559,"body_markdown":"Take a look at Apache [IOUtils][1] - it has a bunch of methods to work with streams\r\n\r\n\r\n  [1]: http://commons.apache.org/io/api-1.2/org/apache/commons/io/IOUtils.html#toByteArray%28java.io.InputStream%29","title":"How to load a classpath resource to an array of byte?","body":"<p>Take a look at Apache <a href=\"http://commons.apache.org/io/api-1.2/org/apache/commons/io/IOUtils.html#toByteArray%28java.io.InputStream%29\">IOUtils</a> - it has a bunch of methods to work with streams</p>\n"},{"tags":[],"owner":{"account_id":1408752,"reputation":1082,"user_id":1335794,"accept_rate":17,"display_name":"user1335794"},"comment_count":0,"down_vote_count":3,"up_vote_count":42,"is_accepted":true,"score":39,"last_activity_date":1338366855,"creation_date":1338366855,"answer_id":10812715,"question_id":10812559,"body_markdown":"Have a look at Google guava `ByteStreams.toByteArray(INPUTSTREAM)`, this is might be what you want.","title":"How to load a classpath resource to an array of byte?","body":"<p>Have a look at Google guava <code>ByteStreams.toByteArray(INPUTSTREAM)</code>, this is might be what you want.</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1338369390,"creation_date":1338369390,"answer_id":10813333,"question_id":10812559,"body_markdown":"Commonly Java methods will accept an `InputStream`.   In that majority of cases, I would recommend passing the stream directly to the method of interest.\r\n\r\nMany of those same methods will also accept an `URL` (e.g. obtained from `getResource(String)`).  That can sometimes be better, since a variety of the methods will require a repositionable `InputStream` and there are times that the stream returned from `getResourceAsStream(String)` will *not* be repositionable.","title":"How to load a classpath resource to an array of byte?","body":"<p>Commonly Java methods will accept an <code>InputStream</code>.   In that majority of cases, I would recommend passing the stream directly to the method of interest.</p>\n\n<p>Many of those same methods will also accept an <code>URL</code> (e.g. obtained from <code>getResource(String)</code>).  That can sometimes be better, since a variety of the methods will require a repositionable <code>InputStream</code> and there are times that the stream returned from <code>getResourceAsStream(String)</code> will <em>not</em> be repositionable.</p>\n"},{"comments":[{"owner":{"account_id":474845,"reputation":352,"user_id":884799,"accept_rate":75,"display_name":"Pablo Thiele"},"score":0,"creation_date":1447096966,"post_id":27969156,"comment_id":55007515,"body_markdown":"Good approach but I think that you means convertStreamToByteArray instead of Steam. :) Nice answer.","body":"Good approach but I think that you means convertStreamToByteArray instead of Steam. :) Nice answer."},{"owner":{"account_id":1309732,"reputation":4219,"user_id":1257986,"accept_rate":63,"display_name":"Simple-Solution"},"score":0,"creation_date":1477395401,"post_id":27969156,"comment_id":67739554,"body_markdown":"@PabloRS I&#39;ve rectified the typo. Ta :)","body":"@PabloRS I&#39;ve rectified the typo. Ta :)"}],"tags":[],"owner":{"account_id":1309732,"reputation":4219,"user_id":1257986,"accept_rate":63,"display_name":"Simple-Solution"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1477395327,"creation_date":1421342173,"answer_id":27969156,"question_id":10812559,"body_markdown":"I usually use the following two approaches to convert `Resource` into `byte[]` array. \r\n\r\n1 - approach\r\n---\r\nWhat you need is to first call `getInputStream()` on `Resource` object, and then pass that to `convertStreamToByteArray` method like below....\r\n\r\n    InputStream stream = resource.getInputStream();\r\n    long size = resource.getFile().lenght();\r\n\r\n    byte[] byteArr = convertStreamToByteArray(stream, size);\r\n    \r\n    public byte[] convertStreamToByteArray(InputStream stream, long size) throws IOException {\r\n\r\n        // check to ensure that file size is not larger than Integer.MAX_VALUE.\r\n        if (size &gt; Integer.MAX_VALUE) {\r\n            return new byte[0];\r\n        }\r\n        \r\n        byte[] buffer = new byte[(int)size];\r\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n\r\n        int line = 0;\r\n        // read bytes from stream, and store them in buffer\r\n        while ((line = stream.read(buffer)) != -1) {\r\n            // Writes bytes from byte array (buffer) into output stream.\r\n            os.write(buffer, 0, line);\r\n        }\r\n        stream.close();\r\n        os.flush();\r\n        os.close();\r\n        return os.toByteArray();\r\n    }\r\n\r\n2 - approach \r\n-\r\nAs Konstantin V. Salikhov suggested, you could use `org.apache.commons.io.IOUtils` and call its `IOUtils.toByteArray(stream)` `static` method and pass to it `InputStream` object like this...\r\n\r\n\r\n    byte[] byteArr = IOUtils.toByteArray(stream);\r\n\r\n`Note - ` Just thought I&#39;ll mention this that under the hood  `toByteArray(...)` checks to ensure that file size is not larger than `Integer.MAX_VALUE`, so you don&#39;t have to check for this. \r\n","title":"How to load a classpath resource to an array of byte?","body":"<p>I usually use the following two approaches to convert <code>Resource</code> into <code>byte[]</code> array. </p>\n\n<h2>1 - approach</h2>\n\n<p>What you need is to first call <code>getInputStream()</code> on <code>Resource</code> object, and then pass that to <code>convertStreamToByteArray</code> method like below....</p>\n\n<pre><code>InputStream stream = resource.getInputStream();\nlong size = resource.getFile().lenght();\n\nbyte[] byteArr = convertStreamToByteArray(stream, size);\n\npublic byte[] convertStreamToByteArray(InputStream stream, long size) throws IOException {\n\n    // check to ensure that file size is not larger than Integer.MAX_VALUE.\n    if (size &gt; Integer.MAX_VALUE) {\n        return new byte[0];\n    }\n\n    byte[] buffer = new byte[(int)size];\n    ByteArrayOutputStream os = new ByteArrayOutputStream();\n\n    int line = 0;\n    // read bytes from stream, and store them in buffer\n    while ((line = stream.read(buffer)) != -1) {\n        // Writes bytes from byte array (buffer) into output stream.\n        os.write(buffer, 0, line);\n    }\n    stream.close();\n    os.flush();\n    os.close();\n    return os.toByteArray();\n}\n</code></pre>\n\n<h2>2 - approach</h2>\n\n<p>As Konstantin V. Salikhov suggested, you could use <code>org.apache.commons.io.IOUtils</code> and call its <code>IOUtils.toByteArray(stream)</code> <code>static</code> method and pass to it <code>InputStream</code> object like this...</p>\n\n<pre><code>byte[] byteArr = IOUtils.toByteArray(stream);\n</code></pre>\n\n<p><code>Note -</code> Just thought I'll mention this that under the hood  <code>toByteArray(...)</code> checks to ensure that file size is not larger than <code>Integer.MAX_VALUE</code>, so you don't have to check for this. </p>\n"},{"comments":[{"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1681500698,"post_id":48950042,"comment_id":134072277,"body_markdown":"And which part appeared since Java 9 ?","body":"And which part appeared since Java 9 ?"},{"owner":{"account_id":213337,"reputation":3691,"user_id":466677,"display_name":"Marek Gregor"},"score":2,"creation_date":1681592293,"post_id":48950042,"comment_id":134082367,"body_markdown":"method InputStream.readAllBytes() is since Java 9","body":"method InputStream.readAllBytes() is since Java 9"}],"tags":[],"owner":{"account_id":213337,"reputation":3691,"user_id":466677,"display_name":"Marek Gregor"},"comment_count":2,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1681500649,"creation_date":1519395992,"answer_id":48950042,"question_id":10812559,"body_markdown":"Java 9 native implementation:\r\n\r\n```java\r\n    byte[] data = this.getClass().getClassLoader()\r\n        .getResourceAsStream(&quot;/assets/myAsset.bin&quot;).readAllBytes();\r\n```","title":"How to load a classpath resource to an array of byte?","body":"<p>Java 9 native implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    byte[] data = this.getClass().getClassLoader()\n        .getResourceAsStream(&quot;/assets/myAsset.bin&quot;).readAllBytes();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":31737,"reputation":95456,"user_id":87399,"accept_rate":77,"display_name":"Joe White"},"score":1,"creation_date":1634589928,"post_id":50852924,"comment_id":123061315,"body_markdown":"If I&#39;m running from a JAR, this fails with a FileSystemNotFoundException. I can get it to work by registering the JAR as a filesystem using FileSystems.newFileSystem, but I have to do that for each JAR I want to read resources from.","body":"If I&#39;m running from a JAR, this fails with a FileSystemNotFoundException. I can get it to work by registering the JAR as a filesystem using FileSystems.newFileSystem, but I have to do that for each JAR I want to read resources from."},{"owner":{"account_id":6783557,"reputation":1252,"user_id":5223047,"display_name":"ltlBeBoy"},"score":0,"creation_date":1652017569,"post_id":50852924,"comment_id":127499027,"body_markdown":"@JoeWhite Depending on the environment it may be required to remove the leading slash. E.g. in newer versions of Payara application server the class loader is able to find the resources only if it&#39;s a relative path.","body":"@JoeWhite Depending on the environment it may be required to remove the leading slash. E.g. in newer versions of Payara application server the class loader is able to find the resources only if it&#39;s a relative path."}],"tags":[],"owner":{"account_id":6783557,"reputation":1252,"user_id":5223047,"display_name":"ltlBeBoy"},"comment_count":2,"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1528964737,"creation_date":1528964737,"answer_id":50852924,"question_id":10812559,"body_markdown":"Although i agree with Andrew Thompson, here is a native implementation that works since Java 7 and uses the NIO-API:\r\n\r\n    byte[] data = Files.readAllBytes(Paths.get(this.getClass().getClassLoader().getResource(&quot;/assets/myAsset.bin&quot;).toURI()));\r\n","title":"How to load a classpath resource to an array of byte?","body":"<p>Although i agree with Andrew Thompson, here is a native implementation that works since Java 7 and uses the NIO-API:</p>\n\n<pre><code>byte[] data = Files.readAllBytes(Paths.get(this.getClass().getClassLoader().getResource(\"/assets/myAsset.bin\").toURI()));\n</code></pre>\n"}],"owner":{"account_id":1057897,"reputation":19130,"user_id":1060205,"accept_rate":94,"display_name":"Samuel Rossille"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74104,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":10812715,"answer_count":6,"score":49,"last_activity_date":1681500649,"creation_date":1338366176,"question_id":10812559,"body_markdown":"***I know*** how to get the inputstream for a given classpath resource, read from the inputstream until i reach the end, but it looks like a very common problem, and i wonder if there an API that I don&#39;t know, or a library that would make things as simple as\r\n\r\n    byte[] data = ResourceUtils.getResourceAsBytes(&quot;/assets/myAsset.bin&quot;)\r\n\r\nor\r\n\r\n    byte[] data = StreamUtils.readStreamToEnd(myInputStream)\r\n\r\nfor example!\r\n\r\n","title":"How to load a classpath resource to an array of byte?","body":"<p><em><strong>I know</em></strong> how to get the inputstream for a given classpath resource, read from the inputstream until i reach the end, but it looks like a very common problem, and i wonder if there an API that I don't know, or a library that would make things as simple as</p>\n\n<pre><code>byte[] data = ResourceUtils.getResourceAsBytes(\"/assets/myAsset.bin\")\n</code></pre>\n\n<p>or</p>\n\n<pre><code>byte[] data = StreamUtils.readStreamToEnd(myInputStream)\n</code></pre>\n\n<p>for example!</p>\n"},{"tags":["java","jsp","tomcat","jstl"],"comments":[{"owner":{"account_id":8652429,"reputation":938,"user_id":6477644,"display_name":"Maxim Kasyanov"},"score":0,"creation_date":1531556007,"post_id":51336523,"comment_id":89647952,"body_markdown":"Did you rebuild project after you add lib?","body":"Did you rebuild project after you add lib?"},{"owner":{"account_id":13878894,"reputation":35,"user_id":10019738,"display_name":"Satnam123"},"score":0,"creation_date":1531556065,"post_id":51336523,"comment_id":89647968,"body_markdown":"yes, I rebuild my project. Please provide the solution.","body":"yes, I rebuild my project. Please provide the solution."}],"answers":[{"comments":[{"owner":{"account_id":8652429,"reputation":938,"user_id":6477644,"display_name":"Maxim Kasyanov"},"score":0,"creation_date":1531556166,"post_id":51336620,"comment_id":89647989,"body_markdown":"Author mentioned, that he has already added lib to web-content/web-inf/lib","body":"Author mentioned, that he has already added lib to web-content/web-inf/lib"},{"owner":{"account_id":7240868,"reputation":82,"user_id":5524488,"display_name":"mehran monster"},"score":0,"creation_date":1531561922,"post_id":51336620,"comment_id":89649180,"body_markdown":"Hi  Maxim Kasyanov, I think that Satnam123 must have some dependency same as  jsp-api-2.2.jar . Using maven may solve the problem i think!","body":"Hi  Maxim Kasyanov, I think that Satnam123 must have some dependency same as  jsp-api-2.2.jar . Using maven may solve the problem i think!"},{"owner":{"account_id":13878894,"reputation":35,"user_id":10019738,"display_name":"Satnam123"},"score":0,"creation_date":1531564876,"post_id":51336620,"comment_id":89649853,"body_markdown":"I have TagLibraryValidator in javax/servlet/jsp/tagext/TagLibraryValidator. But the problem is that it&#39;s definition is not found. As the error is java.lang.NoClassDefFoundError. Please provide any other solution.","body":"I have TagLibraryValidator in javax/servlet/jsp/tagext/TagLibraryValidator. But the problem is that it&#39;s definition is not found. As the error is java.lang.NoClassDefFoundError. Please provide any other solution."},{"owner":{"account_id":7240868,"reputation":82,"user_id":5524488,"display_name":"mehran monster"},"score":0,"creation_date":1531568816,"post_id":51336620,"comment_id":89650784,"body_markdown":"may be this help https://stackoverflow.com/questions/8021370/java-lang-noclassdeffounderror-javax-servlet-jsp-tagext-taglibraryvalidator","body":"may be this help <a href=\"https://stackoverflow.com/questions/8021370/java-lang-noclassdeffounderror-javax-servlet-jsp-tagext-taglibraryvalidator\" title=\"java lang noclassdeffounderror javax servlet jsp tagext taglibraryvalidator\">stackoverflow.com/questions/8021370/&hellip;</a>"},{"owner":{"account_id":13878894,"reputation":35,"user_id":10019738,"display_name":"Satnam123"},"score":0,"creation_date":1531575118,"post_id":51336620,"comment_id":89653423,"body_markdown":"This solution didn&#39;t help me.","body":"This solution didn&#39;t help me."},{"owner":{"account_id":7240868,"reputation":82,"user_id":5524488,"display_name":"mehran monster"},"score":0,"creation_date":1531576032,"post_id":51336620,"comment_id":89653698,"body_markdown":"Can you share your project?","body":"Can you share your project?"}],"tags":[],"owner":{"account_id":7240868,"reputation":82,"user_id":5524488,"display_name":"mehran monster"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531561715,"creation_date":1531556064,"answer_id":51336620,"question_id":51336523,"body_markdown":"It seems that you are getting error during runtime!\r\nIf you are using maven you must **add JSTL dependency**\r\nor if you are not using maven or gradle you must **add the jar to the class path**.\r\n\r\nOh sorry!   TagLibraryValidator its your problem!\r\nadd jsp-api-2.2.jar to your lib folder.\r\n\r\nhttp://www.java2s.com/Code/Jar/j/Downloadjspapi22jar.htm\r\n","title":"JSTL tags are not working in eclipse","body":"<p>It seems that you are getting error during runtime!\nIf you are using maven you must <strong>add JSTL dependency</strong>\nor if you are not using maven or gradle you must <strong>add the jar to the class path</strong>.</p>\n\n<p>Oh sorry!   TagLibraryValidator its your problem!\nadd jsp-api-2.2.jar to your lib folder.</p>\n\n<p><a href=\"http://www.java2s.com/Code/Jar/j/Downloadjspapi22jar.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/j/Downloadjspapi22jar.htm</a></p>\n"},{"tags":[],"owner":{"account_id":13878894,"reputation":35,"user_id":10019738,"display_name":"Satnam123"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531582033,"creation_date":1531582033,"answer_id":51340833,"question_id":51336523,"body_markdown":"At last, I got the solution. I just reinstall my java, eclipse, server and reconfigure jstl-1.2.jar. It start working well. I don&#39;t know how but this is only solution for me.","title":"JSTL tags are not working in eclipse","body":"<p>At last, I got the solution. I just reinstall my java, eclipse, server and reconfigure jstl-1.2.jar. It start working well. I don't know how but this is only solution for me.</p>\n"},{"tags":[],"owner":{"account_id":15341253,"reputation":15,"user_id":11068189,"display_name":"Shan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595529739,"creation_date":1595520277,"answer_id":63058510,"question_id":51336523,"body_markdown":"ADD FOLLOWING DEPENDENCIES TO A WEB APPLICATION\r\n\r\nTo use this distribution with your own web applications, add the following JAR\r\nfiles to the &#39;/WEB-INF/lib&#39; directory of your application:\r\n   - taglibs-standard-spec-1.2.5.jar\r\n   - taglibs-standard-impl-1.2.5.jar\r\n   - taglibs-standard-jstlel-1.2.5.jar\r\n   - xalan-2.7.1.jar\r\n   - serializer-2.7.1.jar\r\n\r\nIf you do not use JSTL 1.0 tags then the &quot;taglibs-standard-jstlel&quot; JAR may be\r\nomitted. If you do not use the XML library, then the Apache Xalan dependencies\r\nmay also be omitted.\r\n\r\n**Sometimes only taglibs-standard-impl-1.2.5.jar library is enough. But if you want to use like forEach loop you should add two libraries to WEB-INF/lib of your project: Impl: taglibs-standard-impl-1.2.5.jar Spec: taglibs-standard-spec-1.2.5.jar**\r\n\r\nhttps://downloads.apache.org/tomcat/taglibs/taglibs-standard-1.2.5/README_bin.txt\r\n","title":"JSTL tags are not working in eclipse","body":"<p>ADD FOLLOWING DEPENDENCIES TO A WEB APPLICATION</p>\n<p>To use this distribution with your own web applications, add the following JAR\nfiles to the '/WEB-INF/lib' directory of your application:</p>\n<ul>\n<li>taglibs-standard-spec-1.2.5.jar</li>\n<li>taglibs-standard-impl-1.2.5.jar</li>\n<li>taglibs-standard-jstlel-1.2.5.jar</li>\n<li>xalan-2.7.1.jar</li>\n<li>serializer-2.7.1.jar</li>\n</ul>\n<p>If you do not use JSTL 1.0 tags then the &quot;taglibs-standard-jstlel&quot; JAR may be\nomitted. If you do not use the XML library, then the Apache Xalan dependencies\nmay also be omitted.</p>\n<p><strong>Sometimes only taglibs-standard-impl-1.2.5.jar library is enough. But if you want to use like forEach loop you should add two libraries to WEB-INF/lib of your project: Impl: taglibs-standard-impl-1.2.5.jar Spec: taglibs-standard-spec-1.2.5.jar</strong></p>\n<p><a href=\"https://downloads.apache.org/tomcat/taglibs/taglibs-standard-1.2.5/README_bin.txt\" rel=\"nofollow noreferrer\">https://downloads.apache.org/tomcat/taglibs/taglibs-standard-1.2.5/README_bin.txt</a></p>\n"},{"tags":[],"owner":{"account_id":26581748,"reputation":11,"user_id":20206292,"display_name":"Youness "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681500613,"creation_date":1680904585,"answer_id":75962215,"question_id":51336523,"body_markdown":"I had the same issue. To resolve it, I added jstl jars in *apache-tomcat/lib* and *web-content/web-inf/lib*.","title":"JSTL tags are not working in eclipse","body":"<p>I had the same issue. To resolve it, I added jstl jars in <em>apache-tomcat/lib</em> and <em>web-content/web-inf/lib</em>.</p>\n"}],"owner":{"account_id":13878894,"reputation":35,"user_id":10019738,"display_name":"Satnam123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2119,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1680955514,"answer_count":4,"score":0,"last_activity_date":1681500613,"creation_date":1531555199,"question_id":51336523,"body_markdown":"I am new to JSTL, I downloaded jstl-1.2.jar from [here][1] to my web-content/web-inf/lib folder.\r\nIn my JSP file, I have mentioned: \r\n\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;\r\nbut everytime when I tries to use any JSTL tag, I got the error:\r\n\r\n&gt; HTTP Status 500 - java.lang.NoClassDefFoundError:\r\n&gt; javax/servlet/jsp/tagext/TagLibraryValidator\r\n\r\nI am using eclipse photon, tomcat server-8.0.52.\r\nWhat should I do? I have searched a lot on the internet about this, but I got the same errors. Please help me.\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/Jar/j/Downloadjstl12jar.htm","title":"JSTL tags are not working in eclipse","body":"<p>I am new to JSTL, I downloaded jstl-1.2.jar from <a href=\"http://www.java2s.com/Code/Jar/j/Downloadjstl12jar.htm\" rel=\"nofollow noreferrer\">here</a> to my web-content/web-inf/lib folder.\nIn my JSP file, I have mentioned: </p>\n\n<pre><code>&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%&gt;\n</code></pre>\n\n<p>but everytime when I tries to use any JSTL tag, I got the error:</p>\n\n<blockquote>\n  <p>HTTP Status 500 - java.lang.NoClassDefFoundError:\n  javax/servlet/jsp/tagext/TagLibraryValidator</p>\n</blockquote>\n\n<p>I am using eclipse photon, tomcat server-8.0.52.\nWhat should I do? I have searched a lot on the internet about this, but I got the same errors. Please help me.</p>\n"},{"tags":["java","android","i2c"],"owner":{"account_id":23818566,"reputation":77,"user_id":17826480,"display_name":"LimetaPeta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681500470,"creation_date":1681500470,"question_id":76018357,"body_markdown":"I have rooted Samsung Galaxy S10+ android phone and I want to write a quick testing app in java to check if a chip I am going to solder (I know where the chip should be and I know what chip it is) on my phone is working properly (if a chip is uvailable on adress 0x20D for instance, then it was soldered properly, otherwise not)\r\n\r\nBut I have no idea where to start\r\n\r\nI read somewhere that you need to write a driver for a device, before you can even see if its working\r\n\r\nSo is there a better way? (I will write a driver, once I know that device is working properly)\r\n\r\nLike a simple library that I can put an i2c adress into and it would return true if device is there, false otherwise?\r\n\r\nThere is also a second problem\r\nIf I want to test the app I would need to see if the app itself is working on a built in i2c device (**i2cdetect -y 1** told me that there is something on 0x50)\r\n\r\nbut all the built in devices already have drivers written so they are holding the address hostge, which means, I cannot get acsess to any build in i2c device just using java even if rooted?\r\n\r\nSo hopefully someone knows what to do\r\n\r\nThanks for Anwsering and Best Regards","title":"Android: acsess to i2c device from java app","body":"<p>I have rooted Samsung Galaxy S10+ android phone and I want to write a quick testing app in java to check if a chip I am going to solder (I know where the chip should be and I know what chip it is) on my phone is working properly (if a chip is uvailable on adress 0x20D for instance, then it was soldered properly, otherwise not)</p>\n<p>But I have no idea where to start</p>\n<p>I read somewhere that you need to write a driver for a device, before you can even see if its working</p>\n<p>So is there a better way? (I will write a driver, once I know that device is working properly)</p>\n<p>Like a simple library that I can put an i2c adress into and it would return true if device is there, false otherwise?</p>\n<p>There is also a second problem\nIf I want to test the app I would need to see if the app itself is working on a built in i2c device (<strong>i2cdetect -y 1</strong> told me that there is something on 0x50)</p>\n<p>but all the built in devices already have drivers written so they are holding the address hostge, which means, I cannot get acsess to any build in i2c device just using java even if rooted?</p>\n<p>So hopefully someone knows what to do</p>\n<p>Thanks for Anwsering and Best Regards</p>\n"},{"tags":["java","file-io"],"comments":[{"owner":{"account_id":21671,"reputation":21944,"user_id":52888,"accept_rate":67,"display_name":"Glen"},"score":1,"creation_date":1254829206,"post_id":1525060,"comment_id":1380100,"body_markdown":"Does the IOException contain a message or anything else that might be helpful?","body":"Does the IOException contain a message or anything else that might be helpful?"},{"owner":{"account_id":150227,"reputation":20754,"user_id":363262,"accept_rate":93,"display_name":"Juan Cort&#233;s"},"score":3,"creation_date":1339253322,"post_id":1525060,"comment_id":14311228,"body_markdown":"May be old, but you&#39;d get the same error if you don&#39;t have permissions to write to where you&#39;re wanting to write to. `&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;` fixes it.","body":"May be old, but you&#39;d get the same error if you don&#39;t have permissions to write to where you&#39;re wanting to write to. <code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; &#47;&gt;</code> fixes it."},{"owner":{"account_id":12236729,"reputation":440,"user_id":8930916,"display_name":"Chetan Oswal"},"score":0,"creation_date":1683203171,"post_id":1525060,"comment_id":134332430,"body_markdown":"None of the below answers seem to be helpful. Did you find any solution?","body":"None of the below answers seem to be helpful. Did you find any solution?"}],"answers":[{"comments":[{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1366908494,"post_id":1525073,"comment_id":23198249,"body_markdown":"@JorgeAntonioD&#237;az-Benito I imagine the upvote is from you? Thank you for that.","body":"@JorgeAntonioD&#237;az-Benito I imagine the upvote is from you? Thank you for that."}],"tags":[],"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1254829136,"creation_date":1254829136,"answer_id":1525073,"question_id":1525060,"body_markdown":"Perhaps the directory the file is being created in doesn&#39;t exist?","title":"File.createNewFile() thowing IOException No such file or directory","body":"<p>Perhaps the directory the file is being created in doesn't exist?</p>\n"},{"comments":[{"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"score":0,"creation_date":1254830570,"post_id":1525085,"comment_id":1380231,"body_markdown":"Have you read the JavaDocs for createNewFile? Checking and creating is indeed an atomic operation and hence thread safe.","body":"Have you read the JavaDocs for createNewFile? Checking and creating is indeed an atomic operation and hence thread safe."},{"owner":{"account_id":50098,"reputation":32608,"user_id":149311,"accept_rate":80,"display_name":"Thomas Jung"},"score":2,"creation_date":1254838681,"post_id":1525085,"comment_id":1381069,"body_markdown":"file.exist() is atomic and file.createNewFile is atomic. But between these two calls concurrent changes can occur.","body":"file.exist() is atomic and file.createNewFile is atomic. But between these two calls concurrent changes can occur."},{"owner":{"account_id":50098,"reputation":32608,"user_id":149311,"accept_rate":80,"display_name":"Thomas Jung"},"score":0,"creation_date":1254838763,"post_id":1525085,"comment_id":1381080,"body_markdown":"just have a look at this answer: http://stackoverflow.com/questions/1525060/file-createnewfile-thowing-ioexception-no-such-file-or-directory/1525132#1525132","body":"just have a look at this answer: <a href=\"http://stackoverflow.com/questions/1525060/file-createnewfile-thowing-ioexception-no-such-file-or-directory/1525132#1525132\" title=\"file createnewfile thowing ioexception no such file or directory\">stackoverflow.com/questions/1525060/&hellip;</a>"},{"owner":{"account_id":1760504,"reputation":828,"user_id":1607762,"display_name":"Leo Lansford"},"score":0,"creation_date":1370445758,"post_id":1525085,"comment_id":24464098,"body_markdown":"agree with Thomas, he&#39;s talking about a threading issue.  The statement &quot;!file.exists() &amp;&amp; !file.createNewFile()&quot; calls two methods on the &quot;file&quot; object.  While both methods are atomic, other code running at the same time can create the file between these two atomic actions.  Refer to: http://en.wikipedia.org/wiki/Race_condition","body":"agree with Thomas, he&#39;s talking about a threading issue.  The statement &quot;!file.exists() &amp;&amp; !file.createNewFile()&quot; calls two methods on the &quot;file&quot; object.  While both methods are atomic, other code running at the same time can create the file between these two atomic actions.  Refer to: <a href=\"http://en.wikipedia.org/wiki/Race_condition\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Race_condition</a>"}],"tags":[],"owner":{"account_id":50098,"reputation":32608,"user_id":149311,"accept_rate":80,"display_name":"Thomas Jung"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1254849840,"creation_date":1254829369,"answer_id":1525085,"question_id":1525060,"body_markdown":"This could be a **threading issue** (checking and creating together are not atomic: `!file.exists() &amp;&amp; !file.createNewFile()`) or the &quot;file&quot; is **already a directory**.\r\n\r\nTry (`file.isFile()`) :\r\n\r\n    if (file.exists() &amp;&amp; !file.isFile()){\r\n       //handle directory is there\r\n    }else if(!file.createNewFile()) {\r\n       //as before\r\n    }\r\n\r\n","title":"File.createNewFile() thowing IOException No such file or directory","body":"<p>This could be a <strong>threading issue</strong> (checking and creating together are not atomic: <code>!file.exists() &amp;&amp; !file.createNewFile()</code>) or the \"file\" is <strong>already a directory</strong>.</p>\n\n<p>Try (<code>file.isFile()</code>) :</p>\n\n<pre><code>if (file.exists() &amp;&amp; !file.isFile()){\n   //handle directory is there\n}else if(!file.createNewFile()) {\n   //as before\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3093195,"reputation":519,"user_id":2618930,"display_name":"Cecilya"},"score":0,"creation_date":1530690679,"post_id":1525132,"comment_id":89319850,"body_markdown":"You shouldn&#39;t just log an exception, except when the operation was really not vital to your program. If `createNewFile` throws an exception then it&#39;s safe to assume that you either wanted that file to be created (it wasn&#39;t -&gt; bad) or you wanted to later write to it (will result in an exception -&gt; bad). In any case it&#39;s good to fail fast and let the caller decide how to procede.","body":"You shouldn&#39;t just log an exception, except when the operation was really not vital to your program. If <code>createNewFile</code> throws an exception then it&#39;s safe to assume that you either wanted that file to be created (it wasn&#39;t -&gt; bad) or you wanted to later write to it (will result in an exception -&gt; bad). In any case it&#39;s good to fail fast and let the caller decide how to procede."}],"tags":[],"owner":{"account_id":21671,"reputation":21944,"user_id":52888,"accept_rate":67,"display_name":"Glen"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1254830066,"creation_date":1254830066,"answer_id":1525132,"question_id":1525060,"body_markdown":"According to the [java docs](http://java.sun.com/j2se/1.5.0/docs/api/java/io/File.html#createNewFile(\\) ) `createNewFile` will create a new file atomically for you. \r\n\r\n`Atomically creates a new, empty file named by this abstract pathname if and only if a file with this name does not yet exist.`\r\n\r\nGiven that `createNewFile` is atomic and won&#39;t over-write an existing file you can re-write your code as\r\n\r\n    try {\r\n        if(!file.createNewFile()) {\r\n            System.out.println(&quot;File already exists&quot;);\r\n        } \r\n    } catch (IOException ex) {\r\n        System.out.println(ex);\r\n    }\r\n\r\n\r\nThis may make any potential threading issues, race-conditions, etc, easier to spot.","title":"File.createNewFile() thowing IOException No such file or directory","body":"<p>According to the [java docs](<a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/io/File.html#createNewFile()\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/java/io/File.html#createNewFile()</a> ) <code>createNewFile</code> will create a new file atomically for you. </p>\n\n<p><code>Atomically creates a new, empty file named by this abstract pathname if and only if a file with this name does not yet exist.</code></p>\n\n<p>Given that <code>createNewFile</code> is atomic and won't over-write an existing file you can re-write your code as</p>\n\n<pre><code>try {\n    if(!file.createNewFile()) {\n        System.out.println(\"File already exists\");\n    } \n} catch (IOException ex) {\n    System.out.println(ex);\n}\n</code></pre>\n\n<p>This may make any potential threading issues, race-conditions, etc, easier to spot.</p>\n"},{"comments":[{"owner":{"account_id":12236729,"reputation":440,"user_id":8930916,"display_name":"Chetan Oswal"},"score":0,"creation_date":1683202694,"post_id":1525148,"comment_id":134332293,"body_markdown":"I have done this but still I get the error - `if (!outputFile.getParentFile().exists())\n                outputFile.getParentFile().mkdirs();\n            if (!outputFile.exists() &amp;&amp; !outputFile.createNewFile())\n                logger.error(&quot;Failed to create file&quot;);\n`","body":"I have done this but still I get the error - <code>if (!outputFile.getParentFile().exists())                 outputFile.getParentFile().mkdirs();             if (!outputFile.exists() &amp;&amp; !outputFile.createNewFile())                 logger.error(&quot;Failed to create file&quot;); </code>"}],"tags":[],"owner":{"account_id":22241,"reputation":31755,"user_id":1930838,"accept_rate":96,"display_name":"Omry Yadan"},"comment_count":1,"down_vote_count":0,"up_vote_count":129,"is_accepted":false,"score":129,"last_activity_date":1254830228,"creation_date":1254830228,"answer_id":1525148,"question_id":1525060,"body_markdown":"try to ensure the parent directory exists with:\r\n\r\n    file.getParentFile().mkdirs()","title":"File.createNewFile() thowing IOException No such file or directory","body":"<p>try to ensure the parent directory exists with:</p>\n\n<pre><code>file.getParentFile().mkdirs()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":54114,"reputation":2786,"user_id":161865,"accept_rate":72,"display_name":"A Jackson"},"score":1,"creation_date":1254832990,"post_id":1525170,"comment_id":1380417,"body_markdown":"Thanks. I spent a while going back through everything and found where it reads the path from a cfg file it wasn&#39;t removing a colon. output_file:path When it was last working I hadn&#39;t done the cfg file yet, it was a hard coded path.","body":"Thanks. I spent a while going back through everything and found where it reads the path from a cfg file it wasn&#39;t removing a colon. output_file:path When it was last working I hadn&#39;t done the cfg file yet, it was a hard coded path."},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":1,"creation_date":1254840912,"post_id":1525170,"comment_id":1381329,"body_markdown":"@Android: Just curious: Is this any different from what I recommended in http://stackoverflow.com/questions/1525060/file-createnewfile-thowing-ioexception-no-such-file-or-directory/1525073#1525073?","body":"@Android: Just curious: Is this any different from what I recommended in <a href=\"http://stackoverflow.com/questions/1525060/file-createnewfile-thowing-ioexception-no-such-file-or-directory/1525073#1525073\" title=\"file createnewfile thowing ioexception no such file or directory\">stackoverflow.com/questions/1525060/&hellip;</a>?"},{"owner":{"account_id":561600,"reputation":638,"user_id":177505,"display_name":"Nicholas Jordan"},"score":1,"creation_date":1255128351,"post_id":1525170,"comment_id":1403524,"body_markdown":"@Hemal Pandya - I saw your comment, and as noted it is correct - I just have been through this so many times i thought I could word it better for the poster.\n\n@Android - remember this lesson well, let it constantly be with you. World class operations have been completely bamboozled by this a sufficient number of times that carefully crafted recovery is a super-critical central skill, one that only comes with doing this type of recovery work. \n\nUse some type of Feed-Forward archive, with gig drives available at hand, there is no reason to lose recoverable trails.","body":"@Hemal Pandya - I saw your comment, and as noted it is correct - I just have been through this so many times i thought I could word it better for the poster.  @Android - remember this lesson well, let it constantly be with you. World class operations have been completely bamboozled by this a sufficient number of times that carefully crafted recovery is a super-critical central skill, one that only comes with doing this type of recovery work.   Use some type of Feed-Forward archive, with gig drives available at hand, there is no reason to lose recoverable trails."},{"owner":{"account_id":1870746,"reputation":1131,"user_id":1693021,"display_name":"Vadim"},"score":0,"creation_date":1484794878,"post_id":1525170,"comment_id":70660239,"body_markdown":"Was no dir in my case.","body":"Was no dir in my case."}],"tags":[],"owner":{"account_id":561600,"reputation":638,"user_id":177505,"display_name":"Nicholas Jordan"},"comment_count":4,"down_vote_count":3,"up_vote_count":11,"is_accepted":true,"score":8,"last_activity_date":1254830518,"creation_date":1254830518,"answer_id":1525170,"question_id":1525060,"body_markdown":"normally this is something you changed recently, first off your sample code is if not file exists and not create new file - you are trying to code away something - what is it?\r\n\r\nThen, look at a directory listing to see if it actually exists and do a println / toString() on the file object and getMessage() on the exception, as well as print stack trace.\r\n\r\nThen, start from zero knowledge again and re factor from the get-go each step you are using to get here. It&#39;s probably a duh you stuck in there somewhere while conceptualizing in code ( because it was working ) - you just retrace each step in detail, you will find it.","title":"File.createNewFile() thowing IOException No such file or directory","body":"<p>normally this is something you changed recently, first off your sample code is if not file exists and not create new file - you are trying to code away something - what is it?</p>\n\n<p>Then, look at a directory listing to see if it actually exists and do a println / toString() on the file object and getMessage() on the exception, as well as print stack trace.</p>\n\n<p>Then, start from zero knowledge again and re factor from the get-go each step you are using to get here. It's probably a duh you stuck in there somewhere while conceptualizing in code ( because it was working ) - you just retrace each step in detail, you will find it.</p>\n"},{"comments":[{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":1,"creation_date":1254840811,"post_id":1525183,"comment_id":1381314,"body_markdown":"Is this any different from my answer?","body":"Is this any different from my answer?"}],"tags":[],"owner":{"account_id":33759,"reputation":36049,"user_id":94813,"accept_rate":70,"display_name":"Rakesh Juyal"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1254830644,"creation_date":1254830644,"answer_id":1525183,"question_id":1525060,"body_markdown":"You are certainly getting this Exception\r\n***&#39;The system cannot find the path specified&#39;***\r\n\r\nJust print &#39;file.getAbsoluteFile()&#39; , this will let you know what is the file you wanted to create. \r\n\r\n***This exception will occur if the Directory where you are creating the file doesn&#39;t exist**.*\r\n","title":"File.createNewFile() thowing IOException No such file or directory","body":"<p>You are certainly getting this Exception\n<strong><em>'The system cannot find the path specified'</em></strong></p>\n\n<p>Just print 'file.getAbsoluteFile()' , this will let you know what is the file you wanted to create. </p>\n\n<p><strong><em>This exception will occur if the Directory where you are creating the file doesn't exist</strong>.</em></p>\n"},{"tags":[],"owner":{"display_name":"user172713"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1681500144,"creation_date":1254855652,"answer_id":1527421,"question_id":1525060,"body_markdown":"I think the exception you get is likely the result from the file check of the atomic method `file.createNewFile()`. The method can&#39;t check if the file does exist because some of the parent directories do not exist or you have no permissions to access them. I would suggest this:\r\n\r\n    if (file.getParentFile() != null &amp;&amp; !file.getParentFile().mkdirs()) {\r\n        // handle permission problems here\r\n    }\r\n    // either no parent directories were there or we have created missing directories\r\n    if (file.createNewFile() || file.isFile()) {\r\n        // ready to write your content\r\n    } else {\r\n        // handle directory here\r\n    }\r\n\r\nIf you take concurrency into account, all these checks are useless because in every case some other thread is able to create, delete or do anything else with your file. In this case you have to use file locks which I would not suggest doing ;)","title":"File.createNewFile() thowing IOException No such file or directory","body":"<p>I think the exception you get is likely the result from the file check of the atomic method <code>file.createNewFile()</code>. The method can't check if the file does exist because some of the parent directories do not exist or you have no permissions to access them. I would suggest this:</p>\n<pre><code>if (file.getParentFile() != null &amp;&amp; !file.getParentFile().mkdirs()) {\n    // handle permission problems here\n}\n// either no parent directories were there or we have created missing directories\nif (file.createNewFile() || file.isFile()) {\n    // ready to write your content\n} else {\n    // handle directory here\n}\n</code></pre>\n<p>If you take concurrency into account, all these checks are useless because in every case some other thread is able to create, delete or do anything else with your file. In this case you have to use file locks which I would not suggest doing ;)</p>\n"},{"tags":[],"owner":{"account_id":3593202,"reputation":2629,"user_id":2998689,"display_name":"dianakarenms"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475526156,"creation_date":1475526156,"answer_id":39839790,"question_id":1525060,"body_markdown":"In my case was just a lack of permission:\r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;`\r\n","title":"File.createNewFile() thowing IOException No such file or directory","body":"<p>In my case was just a lack of permission:</p>\n\n<p><code>&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":16376116,"reputation":578,"user_id":11828164,"display_name":"Ganesan J"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1583494534,"creation_date":1583487576,"answer_id":60561303,"question_id":1525060,"body_markdown":"    //Create New File if not present\r\n    if (!file.exists()) {\r\n        file.getParentFile().mkdirs();\r\n    \r\n        file.createNewFile();\r\n        Log.e(TAG, &quot;File Created&quot;);\r\n    }","title":"File.createNewFile() thowing IOException No such file or directory","body":"<pre><code>//Create New File if not present\nif (!file.exists()) {\n    file.getParentFile().mkdirs();\n\n    file.createNewFile();\n    Log.e(TAG, \"File Created\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634764708,"creation_date":1634764708,"answer_id":69653145,"question_id":1525060,"body_markdown":"Use \r\n\r\n`yourAppsMainActivityContext.getExternalCacheDir()`\r\n\r\ninstead of \r\n\r\n`Environment.getExternalStorageDriectory()` \r\n\r\nto get the file storage path. \r\n\r\nAlternatively, you can also try `getExternalFilesDir(String type), getExternalCacheDir(), getExternalMediaDirs()`. ","title":"File.createNewFile() thowing IOException No such file or directory","body":"<p>Use</p>\n<p><code>yourAppsMainActivityContext.getExternalCacheDir()</code></p>\n<p>instead of</p>\n<p><code>Environment.getExternalStorageDriectory()</code></p>\n<p>to get the file storage path.</p>\n<p>Alternatively, you can also try <code>getExternalFilesDir(String type), getExternalCacheDir(), getExternalMediaDirs()</code>.</p>\n"}],"owner":{"account_id":54114,"reputation":2786,"user_id":161865,"accept_rate":72,"display_name":"A Jackson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98007,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":1525170,"answer_count":10,"score":49,"last_activity_date":1681500144,"creation_date":1254828964,"question_id":1525060,"body_markdown":"I have a method that writes to a log file. If the file exists it should append to it, if not then I want it to create a new file.\r\n\r\n    if (!file.exists() &amp;&amp; !file.createNewFile()) {\r\n    \tSystem.err.println(&quot;Error with output file: &quot; + outFile\r\n    \t\t+ &quot;\\nCannot create new file.&quot;);\r\n    \tcontinue;\r\n    }\r\nI have that to check that a file can be created. file is a java.io.File object. createNewFile is throwing an IOException: No such file or directory. This method has been working perfectly since I wrote it a few weeks ago and has only recently starting doing this although I don&#39;t know what I could have changed. I have checked, the directory exists and I have write permissions for it, but then I thought it should just return false if it can&#39;t make the file for any reason.\r\n\r\nIs there anything that I am missing to get this working?","title":"File.createNewFile() thowing IOException No such file or directory","body":"<p>I have a method that writes to a log file. If the file exists it should append to it, if not then I want it to create a new file.</p>\n\n<pre><code>if (!file.exists() &amp;&amp; !file.createNewFile()) {\n    System.err.println(\"Error with output file: \" + outFile\n        + \"\\nCannot create new file.\");\n    continue;\n}\n</code></pre>\n\n<p>I have that to check that a file can be created. file is a java.io.File object. createNewFile is throwing an IOException: No such file or directory. This method has been working perfectly since I wrote it a few weeks ago and has only recently starting doing this although I don't know what I could have changed. I have checked, the directory exists and I have write permissions for it, but then I thought it should just return false if it can't make the file for any reason.</p>\n\n<p>Is there anything that I am missing to get this working?</p>\n"},{"tags":["java","log4j2"],"owner":{"account_id":13486923,"reputation":1,"user_id":9730458,"display_name":"Ayyoub tiyal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681499637,"creation_date":1681392003,"question_id":76005938,"body_markdown":"I have a problem with my log4j2.properties file, it works locally but not in remote.\r\n\r\n\r\n```\r\nrootLogger.level=all\r\n\r\nrootLogger.appenderRefs=tlogpsc\r\nrootLogger.appenderRef.tlogpsc.ref=tlogpsc\r\n\r\nloggers=tlogpsc\r\nlogger.tlogpsc.name=tlogpsc\r\nlogger.tlogpsc.level=info\r\nlogger.tlogpsc.additivity = false\r\nlogger.tlogpsc.appenderRef.tlogpsc.ref=tlogpsc\r\n\r\n\r\nappenders=tlogpsc\r\nappender.tlogpsc.type=RollingFile\r\nappender.tlogpsc.name=tlogpsc\r\nappender.tlogpsc.fileName=logs/TLOGPSC/tlogpsc\r\nappender.tlogpsc.filePattern=logs/TLOGPSC/tlogpsc.%d{yyyy-MM-dd}\r\nappender.tlogpsc.layout.type=PatternLayout\r\nappender.tlogpsc.layout.pattern=%m%n\r\nappender.tlogpsc.policies.type=Policies\r\nappender.tlogpsc.policies.time.type=TimeBasedTriggeringPolicy\r\nappender.tlogpsc.policies.time.interval=1\r\nappender.tlogpsc.policies.size.type=SizeBasedTriggeringPolicy\r\nappender.tlogpsc.policies.size.size=1MB\r\n```\r\n\r\n\r\nI want to log in `logs/app/app` in a remote (VM).","title":"Logs are not loading using log4j2.properties file","body":"<p>I have a problem with my log4j2.properties file, it works locally but not in remote.</p>\n<pre><code>rootLogger.level=all\n\nrootLogger.appenderRefs=tlogpsc\nrootLogger.appenderRef.tlogpsc.ref=tlogpsc\n\nloggers=tlogpsc\nlogger.tlogpsc.name=tlogpsc\nlogger.tlogpsc.level=info\nlogger.tlogpsc.additivity = false\nlogger.tlogpsc.appenderRef.tlogpsc.ref=tlogpsc\n\n\nappenders=tlogpsc\nappender.tlogpsc.type=RollingFile\nappender.tlogpsc.name=tlogpsc\nappender.tlogpsc.fileName=logs/TLOGPSC/tlogpsc\nappender.tlogpsc.filePattern=logs/TLOGPSC/tlogpsc.%d{yyyy-MM-dd}\nappender.tlogpsc.layout.type=PatternLayout\nappender.tlogpsc.layout.pattern=%m%n\nappender.tlogpsc.policies.type=Policies\nappender.tlogpsc.policies.time.type=TimeBasedTriggeringPolicy\nappender.tlogpsc.policies.time.interval=1\nappender.tlogpsc.policies.size.type=SizeBasedTriggeringPolicy\nappender.tlogpsc.policies.size.size=1MB\n</code></pre>\n<p>I want to log in <code>logs/app/app</code> in a remote (VM).</p>\n"},{"tags":["java","multithreading","performance","timer","2048"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1625449388,"post_id":68249943,"comment_id":120622285,"body_markdown":"&quot;Would reducing method calls produce a noticeable enough difference&quot; - If they are long/heavy methods then yes. You can test this by finding the time difference between the start and end of a method: https://stackoverflow.com/a/34541535/1270000","body":"&quot;Would reducing method calls produce a noticeable enough difference&quot; - If they are long/heavy methods then yes. You can test this by finding the time difference between the start and end of a method: <a href=\"https://stackoverflow.com/a/34541535/1270000\">stackoverflow.com/a/34541535/1270000</a>"},{"owner":{"account_id":86477,"reputation":192896,"user_id":240443,"accept_rate":79,"display_name":"Amadan"},"score":1,"creation_date":1625449427,"post_id":68249943,"comment_id":120622291,"body_markdown":"I can&#39;t see outside the code you posted but it seems your background thread is spinning uselessly a lot; using `wait` instead of `sleep`, and `notify` when there is an update should reduce a lot of unnecessary work. Better yet, instead of doing low-level synchronisation work yourself, use a [`BlockingQueue`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/BlockingQueue.html), this is exactly the scenario it is designed for. Your background thread should be idle if there are no updates to process.","body":"I can&#39;t see outside the code you posted but it seems your background thread is spinning uselessly a lot; using <code>wait</code> instead of <code>sleep</code>, and <code>notify</code> when there is an update should reduce a lot of unnecessary work. Better yet, instead of doing low-level synchronisation work yourself, use a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow noreferrer\"><code>BlockingQueue</code></a>, this is exactly the scenario it is designed for. Your background thread should be idle if there are no updates to process."},{"owner":{"account_id":86477,"reputation":192896,"user_id":240443,"accept_rate":79,"display_name":"Amadan"},"score":2,"creation_date":1625450088,"post_id":68249943,"comment_id":120622351,"body_markdown":"Also, unless a single call to animation takes 18ms, painting every 2ms is mad. No-one needs more than 50 FPS (20ms per frame).","body":"Also, unless a single call to animation takes 18ms, painting every 2ms is mad. No-one needs more than 50 FPS (20ms per frame)."},{"owner":{"account_id":22063206,"reputation":19,"user_id":16325490,"display_name":"babayaga007"},"score":0,"creation_date":1625552468,"post_id":68249943,"comment_id":120648949,"body_markdown":"@Amadan would I still have to use wait and notify to make the BlockingQueue work? from what I can tell with BlockingQueue I would still have to use a runnable with while true in order to make sure it does not only call once, thanks.","body":"@Amadan would I still have to use wait and notify to make the BlockingQueue work? from what I can tell with BlockingQueue I would still have to use a runnable with while true in order to make sure it does not only call once, thanks."},{"owner":{"account_id":86477,"reputation":192896,"user_id":240443,"accept_rate":79,"display_name":"Amadan"},"score":1,"creation_date":1625558647,"post_id":68249943,"comment_id":120651234,"body_markdown":"`BlockingQueue` does the waiting and notifying for you. Yes, you still need `while`, but `BlockingQueue` will block, and not let your code run while waiting for new data. It&#39;s the difference between &quot;Any news yet? Any news yet? Any news yet? Any news yet? Thanks. Any news yet? Any news yet?...&quot; and &quot;Let me know when we have news. Oh? Thanks. Let me know when we have news again. ...&quot; Both of them are in a loop, but only one of them is annoying.","body":"<code>BlockingQueue</code> does the waiting and notifying for you. Yes, you still need <code>while</code>, but <code>BlockingQueue</code> will block, and not let your code run while waiting for new data. It&#39;s the difference between &quot;Any news yet? Any news yet? Any news yet? Any news yet? Thanks. Any news yet? Any news yet?...&quot; and &quot;Let me know when we have news. Oh? Thanks. Let me know when we have news again. ...&quot; Both of them are in a loop, but only one of them is annoying."}],"owner":{"account_id":22063206,"reputation":19,"user_id":16325490,"display_name":"babayaga007"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681498650,"creation_date":1625448594,"question_id":68249943,"body_markdown":"Is there a way to make my 2048 game run faster? \r\n\r\nI made a setting called high speed mode so that if moves were made really fast I would just skip the spawning, combining and moving animations, however even with that I am still usually one or two moves behind when I spam a bunch of keys at once. \r\n\r\nRight now I have a tilePanel class to handle displaying my tiles, and use a timer(very basic code) with paintComponent(drawing the tiles constantly) to make sure it continually updates the board. \r\n```    \r\npublic void doAnimation() {\r\n    \tSystem.nanoTime();\r\n        Timer timer = new Timer(2, this);\r\n        timer.start();\r\n\r\n    }\r\n```\r\nThe way I have structured my game is that I have an ArrayList of commands(ie pressing the right key adds &quot;right&quot; to the arraylist and eventually the arraylist gets to it and executes) I receive to make sure that it always does a move, spawns before doing the next move in the sequence. \r\n\r\nTo make sure the board continually updates itself, i made a very basic run thread:\r\n```\r\npublic void run(){\r\n\r\n\t\t    \twhile(true) {\r\n\t\t    \t\tif(canDoNewMove&amp;&amp;commands.size()&gt;0&amp;&amp;parent.spawnsLeft==0) {\r\n\t\t    \t\t\tmove(commands.get(0));\r\n\t\t    \t\t\tcommands.remove(0);\r\n\t\t    \t\t\tcanDoNewMove=false;\r\n\t\t    \t\t}\r\n\t\t    \t\tif(commands.size()&gt;=2) {\r\n\t\t    \t\t\tboard.isBehind=true;\r\n\t\t    \t\t}\r\n\t\t    \t\telse {\r\n\t\t    \t\t\tboard.isBehind=false;\r\n\t\t    \t\t}\r\n\t\t    \t\tif(totalMovements==0&amp;&amp;moveDone) {\r\n\t\t    \t\t\tmoveDone=false;\r\n\t\t    \t\t\tif(parent.changed) {\r\n\t\t\t    \t\t\tparent.spawn(parent);\r\n\r\n\t\t    \t\t\t}\r\n\t\t    \t\t\tcanDoNewMove=true;\r\n\r\n\t\t    \t\t\t\r\n\t\t    \t\t}\r\n\t\t    \t\t//moveDone=false;\r\n\t\t    \t\ttry {\r\n\t\t\t\t\t\tThread.sleep(0);\r\n\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t    \t}\r\n\t\t    }};\r\n\r\n\t\tThread sampleThread = new Thread(backGroundRunnable);\r\n\t\tsampleThread.start();\r\n\t\t\r\n\t}\r\n```\r\n\r\nWould reducing method calls produce a noticeable enough difference that the actions would finish right after I press the keys or is the problem within the tilePanel class that draws the board?\r\n\r\nthanks guys\r\n\r\n","title":"Making 2048 game faster","body":"<p>Is there a way to make my 2048 game run faster?</p>\n<p>I made a setting called high speed mode so that if moves were made really fast I would just skip the spawning, combining and moving animations, however even with that I am still usually one or two moves behind when I spam a bunch of keys at once.</p>\n<p>Right now I have a tilePanel class to handle displaying my tiles, and use a timer(very basic code) with paintComponent(drawing the tiles constantly) to make sure it continually updates the board.</p>\n<pre><code>public void doAnimation() {\n        System.nanoTime();\n        Timer timer = new Timer(2, this);\n        timer.start();\n\n    }\n</code></pre>\n<p>The way I have structured my game is that I have an ArrayList of commands(ie pressing the right key adds &quot;right&quot; to the arraylist and eventually the arraylist gets to it and executes) I receive to make sure that it always does a move, spawns before doing the next move in the sequence.</p>\n<p>To make sure the board continually updates itself, i made a very basic run thread:</p>\n<pre><code>public void run(){\n\n                while(true) {\n                    if(canDoNewMove&amp;&amp;commands.size()&gt;0&amp;&amp;parent.spawnsLeft==0) {\n                        move(commands.get(0));\n                        commands.remove(0);\n                        canDoNewMove=false;\n                    }\n                    if(commands.size()&gt;=2) {\n                        board.isBehind=true;\n                    }\n                    else {\n                        board.isBehind=false;\n                    }\n                    if(totalMovements==0&amp;&amp;moveDone) {\n                        moveDone=false;\n                        if(parent.changed) {\n                            parent.spawn(parent);\n\n                        }\n                        canDoNewMove=true;\n\n                        \n                    }\n                    //moveDone=false;\n                    try {\n                        Thread.sleep(0);\n                    } catch (InterruptedException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                }\n            }};\n\n        Thread sampleThread = new Thread(backGroundRunnable);\n        sampleThread.start();\n        \n    }\n</code></pre>\n<p>Would reducing method calls produce a noticeable enough difference that the actions would finish right after I press the keys or is the problem within the tilePanel class that draws the board?</p>\n<p>thanks guys</p>\n"},{"tags":["java","sql","oracle"],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681498522,"creation_date":1681498522,"answer_id":76018157,"question_id":76018119,"body_markdown":"&gt; The problems that I have, is that his query will sometimes give me &#39;duplicates&#39;, based on the NID value, and doing distinct won&#39;t work, and also it&#39;t not accurate.\r\n\r\nYou `GROUP BY NID, TYPE, HID, URL` which will give you values for each combination of `NID` and `TYPE` and `HID` and `URL`.\r\n\r\nIf you want to group all the `NID` values together then only `GROUP BY` that one thing.\r\n\r\n```lang-sql\r\nSELECT NID,\r\n       MIN(START_DATE) AS START_DATE_,\r\n       MAX(END_DATE) AS END_DATE_\r\nFROM   (\r\n  SELECT NID, DATESTART AS START_DATE, DATEEND AS END_DATE\r\n  FROM   HISTORICAL\r\n  WHERE  READER = :userId AND DISPLAY = 1\r\nUNION\r\n  SELECT NID, DATE AS START_DATE, DATE AS END_DATE\r\n  FROM   VISUALIZATIONS\r\n  WHERE  READER = :userId AND SHOW = 1\r\nUNION\r\n  SELECT NID, DATE AS START_DATE, DATE AS END_DATE\r\n  FROM   OTHER\r\n  WHERE READER = :userId AND SHOW = 1 AND TYPEREMOTE != &#39;OR&#39;\r\n)\r\nGROUP BY NID\r\nORDER BY MAX(END_DATE) DESC\r\nOFFSET :offset ROWS FETCH NEXT :size ROWS ONLY\r\n```\r\n\r\nIf you want to include `HID`, `TYPE` and `URL` then wrap them in aggregation functions.","title":"Combine results of SQL query that comes from a sub-query","body":"<blockquote>\n<p>The problems that I have, is that his query will sometimes give me 'duplicates', based on the NID value, and doing distinct won't work, and also it't not accurate.</p>\n</blockquote>\n<p>You <code>GROUP BY NID, TYPE, HID, URL</code> which will give you values for each combination of <code>NID</code> and <code>TYPE</code> and <code>HID</code> and <code>URL</code>.</p>\n<p>If you want to group all the <code>NID</code> values together then only <code>GROUP BY</code> that one thing.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT NID,\n       MIN(START_DATE) AS START_DATE_,\n       MAX(END_DATE) AS END_DATE_\nFROM   (\n  SELECT NID, DATESTART AS START_DATE, DATEEND AS END_DATE\n  FROM   HISTORICAL\n  WHERE  READER = :userId AND DISPLAY = 1\nUNION\n  SELECT NID, DATE AS START_DATE, DATE AS END_DATE\n  FROM   VISUALIZATIONS\n  WHERE  READER = :userId AND SHOW = 1\nUNION\n  SELECT NID, DATE AS START_DATE, DATE AS END_DATE\n  FROM   OTHER\n  WHERE READER = :userId AND SHOW = 1 AND TYPEREMOTE != 'OR'\n)\nGROUP BY NID\nORDER BY MAX(END_DATE) DESC\nOFFSET :offset ROWS FETCH NEXT :size ROWS ONLY\n</code></pre>\n<p>If you want to include <code>HID</code>, <code>TYPE</code> and <code>URL</code> then wrap them in aggregation functions.</p>\n"}],"owner":{"account_id":3671091,"reputation":3188,"user_id":3058302,"display_name":"Mangu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681498522,"creation_date":1681498084,"question_id":76018119,"body_markdown":"I have the following query for Oracle SQL, that I run with Java in my API:  \r\n```sql\r\n&quot;SELECT NID, MIN(START_DATE) AS START_DATE_, MAX(END_DATE) AS END_DATE_, HID, TYPE, URL FROM (&quot; +\r\n                    &quot;SELECT NID, DATESTART AS START_DATE, DATEEND AS END_DATE, RID AS HID, &#39;HISTORICAL&#39; AS TYPE,URL &quot; +\r\n                    &quot;FROM HISTORICAL &quot; +\r\n                    &quot;WHERE READER = :userId AND DISPLAY = 1 &quot; +\r\n                    &quot;UNION &quot; +\r\n                    &quot;SELECT NID, DATE AS START_DATE, DATE AS END_DATE, null as HID, &#39;VISUALIZATION&#39; AS TYPE , null &quot; +\r\n                    &quot;FROM VISUALIZATIONS &quot; +\r\n                    &quot;WHERE READER = :userId AND SHOW = 1 &quot; +\r\n                    &quot;UNION &quot; +\r\n                    &quot;SELECT NID, DATE AS START_DATE, DATE AS END_DATE, null as HID, &#39;OTHER&#39; AS TYPE, null &quot; +\r\n                    &quot;FROM OTHER &quot; +\r\n                    &quot;WHERE READER = :userId AND SHOW = 1 AND TYPEREMOTE != &#39;OR&#39; &quot; +\r\n                    &quot;) GROUP BY NID, TYPE, HID, URL &quot; +\r\n                    &quot;ORDER BY MAX(END_DATE) DESC &quot; +\r\n                    &quot;OFFSET :offset ROWS FETCH NEXT :size ROWS ONLY&quot;;\r\n```\r\n\r\nThe problems that I have, is that his query will sometimes give me &#39;duplicates&#39;, based on the `NID` value, and doing `distinct` won&#39;t work, and also it&#39;t not accurate.\r\n\r\nWhat I want is to combine, in these cases that I have more than one row sharing the same `NID`, the `START_DATE_` values and the `END_DATE_`. More accurately, in the `START_DATE_` value, I want to store the earliest possible value of that column (i.e: between &#39;2021-04-30&#39; and &#39;2021-05-01&#39;, I want the first one), and the opposite for `END_DATE_`.\r\n\r\nActual results: \r\n```sql\r\nNID, START_DATE, END_DATE_, HID\r\n5, 2021-04-30, 2021-05-10, 60\r\n5, 2021-04-23, 2021-05-09, 70\r\n5, 2021-01-01, 2021-02-01, 80\r\n```\r\nWhat I want:\r\n```sql\r\nNID, START_DATE, END_DATE_, HID\r\n5, 2021-01-01, 2021-05-10, idc\r\n```\r\n\r\nI have tried using some `min` and `max` functions, and also a subquery, but I can&#39;t make it work so far.","title":"Combine results of SQL query that comes from a sub-query","body":"<p>I have the following query for Oracle SQL, that I run with Java in my API:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>&quot;SELECT NID, MIN(START_DATE) AS START_DATE_, MAX(END_DATE) AS END_DATE_, HID, TYPE, URL FROM (&quot; +\n                    &quot;SELECT NID, DATESTART AS START_DATE, DATEEND AS END_DATE, RID AS HID, 'HISTORICAL' AS TYPE,URL &quot; +\n                    &quot;FROM HISTORICAL &quot; +\n                    &quot;WHERE READER = :userId AND DISPLAY = 1 &quot; +\n                    &quot;UNION &quot; +\n                    &quot;SELECT NID, DATE AS START_DATE, DATE AS END_DATE, null as HID, 'VISUALIZATION' AS TYPE , null &quot; +\n                    &quot;FROM VISUALIZATIONS &quot; +\n                    &quot;WHERE READER = :userId AND SHOW = 1 &quot; +\n                    &quot;UNION &quot; +\n                    &quot;SELECT NID, DATE AS START_DATE, DATE AS END_DATE, null as HID, 'OTHER' AS TYPE, null &quot; +\n                    &quot;FROM OTHER &quot; +\n                    &quot;WHERE READER = :userId AND SHOW = 1 AND TYPEREMOTE != 'OR' &quot; +\n                    &quot;) GROUP BY NID, TYPE, HID, URL &quot; +\n                    &quot;ORDER BY MAX(END_DATE) DESC &quot; +\n                    &quot;OFFSET :offset ROWS FETCH NEXT :size ROWS ONLY&quot;;\n</code></pre>\n<p>The problems that I have, is that his query will sometimes give me 'duplicates', based on the <code>NID</code> value, and doing <code>distinct</code> won't work, and also it't not accurate.</p>\n<p>What I want is to combine, in these cases that I have more than one row sharing the same <code>NID</code>, the <code>START_DATE_</code> values and the <code>END_DATE_</code>. More accurately, in the <code>START_DATE_</code> value, I want to store the earliest possible value of that column (i.e: between '2021-04-30' and '2021-05-01', I want the first one), and the opposite for <code>END_DATE_</code>.</p>\n<p>Actual results:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>NID, START_DATE, END_DATE_, HID\n5, 2021-04-30, 2021-05-10, 60\n5, 2021-04-23, 2021-05-09, 70\n5, 2021-01-01, 2021-02-01, 80\n</code></pre>\n<p>What I want:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>NID, START_DATE, END_DATE_, HID\n5, 2021-01-01, 2021-05-10, idc\n</code></pre>\n<p>I have tried using some <code>min</code> and <code>max</code> functions, and also a subquery, but I can't make it work so far.</p>\n"},{"tags":["java","maven","gradle","gradle-kotlin-dsl","shadowjar"],"comments":[{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1681498574,"post_id":76017737,"comment_id":134071923,"body_markdown":"*but we do not really want to enforcing them to use specific versions that we use* Huh!?!?!  You&#39;re going to let a customer swap out versions of things that your code literally **depends** on?  How do you plan on verifying that your code will work with `foo vX.X.X` when your code uses `foo v12.3.121` and you don&#39;t even know what `X.X.X` is?  If you can isolate the functionality they want into a separate jar, that&#39;s different, but you still have **dependencies**.","body":"<i>but we do not really want to enforcing them to use specific versions that we use</i> Huh!?!?!  You&#39;re going to let a customer swap out versions of things that your code literally <b>depends</b> on?  How do you plan on verifying that your code will work with <code>foo vX.X.X</code> when your code uses <code>foo v12.3.121</code> and you don&#39;t even know what <code>X.X.X</code> is?  If you can isolate the functionality they want into a separate jar, that&#39;s different, but you still have <b>dependencies</b>."},{"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"score":0,"creation_date":1681504609,"post_id":76017737,"comment_id":134072929,"body_markdown":"Ok you are probably right, this approach is bad, then what is your advice to solve the issue? Shade and relocate all dependency except our api in a fat jar?","body":"Ok you are probably right, this approach is bad, then what is your advice to solve the issue? Shade and relocate all dependency except our api in a fat jar?"}],"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681498300,"creation_date":1681494560,"question_id":76017737,"body_markdown":"Our customer want us to provide them a lib from only the data layer of our multimodule spring boot project, that they can use in their whatever (probably spring) project. So they have to use our dependencies, but we do not really want to enforcing them to use specific versions that we use.\r\n\r\nOur aim is to provide **one publishable module** in which:\r\n- our modules are shaded (`very-neat-bigdata`, `very-neat-util`, `very-neat-other`)\r\n- libs not shaded but added to published pom\r\n- don&#39;t want to exclude libs one by one\r\n\r\nOur project looks like this:\r\n\r\n```\r\nvery-neat-project\r\n  very-neat-web\r\n    -&gt; spring-web 1.5.4\r\n  very-neat-bigdata            &lt;- this\r\n    -&gt; spring-context 1.5.4\r\n    -&gt; hbase\r\n    -&gt; very-neat-util\r\n      -&gt; guava 26\r\n    -&gt; very-neat-other\r\n      -&gt; common.util 1.5.6\r\n    -&gt; ...ton of other dependency...\r\n```   \r\nSo our approach would be to create a shaded lib that customer can include to their project like this:\r\n```\r\ncustomer-project\r\n  customer-web\r\n    -&gt; spring-web 1.6.8\r\n    -&gt; spring-context 1.6.8\r\n    -&gt; very-neat-bigdata-shaded &lt;- this\r\n    -&gt; guava 28\r\n    -&gt; hbase\r\n    -&gt; common.util 1.5.4\r\n    -&gt; ..ton of other dependency..\r\n```\r\n\r\nHow to solve this using gradle? Or if is this a bad approach what would be the best practice for this problem?","title":"How to create a publishable shaded jar from specific dependencies only and leave transitive the rest?","body":"<p>Our customer want us to provide them a lib from only the data layer of our multimodule spring boot project, that they can use in their whatever (probably spring) project. So they have to use our dependencies, but we do not really want to enforcing them to use specific versions that we use.</p>\n<p>Our aim is to provide <strong>one publishable module</strong> in which:</p>\n<ul>\n<li>our modules are shaded (<code>very-neat-bigdata</code>, <code>very-neat-util</code>, <code>very-neat-other</code>)</li>\n<li>libs not shaded but added to published pom</li>\n<li>don't want to exclude libs one by one</li>\n</ul>\n<p>Our project looks like this:</p>\n<pre><code>very-neat-project\n  very-neat-web\n    -&gt; spring-web 1.5.4\n  very-neat-bigdata            &lt;- this\n    -&gt; spring-context 1.5.4\n    -&gt; hbase\n    -&gt; very-neat-util\n      -&gt; guava 26\n    -&gt; very-neat-other\n      -&gt; common.util 1.5.6\n    -&gt; ...ton of other dependency...\n</code></pre>\n<p>So our approach would be to create a shaded lib that customer can include to their project like this:</p>\n<pre><code>customer-project\n  customer-web\n    -&gt; spring-web 1.6.8\n    -&gt; spring-context 1.6.8\n    -&gt; very-neat-bigdata-shaded &lt;- this\n    -&gt; guava 28\n    -&gt; hbase\n    -&gt; common.util 1.5.4\n    -&gt; ..ton of other dependency..\n</code></pre>\n<p>How to solve this using gradle? Or if is this a bad approach what would be the best practice for this problem?</p>\n"},{"tags":["java","spring","validation","interface","annotations"],"comments":[{"owner":{"account_id":2324765,"reputation":3704,"user_id":2039546,"display_name":"İsmail Y."},"score":0,"creation_date":1654079739,"post_id":72460003,"comment_id":128005056,"body_markdown":"See https://stackoverflow.com/questions/19419234/how-to-validate-spring-mvc-pathvariable-values","body":"See <a href=\"https://stackoverflow.com/questions/19419234/how-to-validate-spring-mvc-pathvariable-values\" title=\"how to validate spring mvc pathvariable values\">stackoverflow.com/questions/19419234/&hellip;</a>"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1654081410,"post_id":72460003,"comment_id":128005677,"body_markdown":"This code is working fine. See if you are missing anything in project. Try first with standard validation like `@Length(min=2)` etc","body":"This code is working fine. See if you are missing anything in project. Try first with standard validation like <code>@Length(min=2)</code> etc"}],"answers":[{"tags":[],"owner":{"account_id":27984462,"reputation":11,"user_id":21371618,"display_name":"Martin Lang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681496987,"creation_date":1681496987,"answer_id":76018001,"question_id":72460003,"body_markdown":"Just a wild guess, since you asked specifically for `@PathVariable` validation and I just stumbled upon this myself:\r\n\r\nIf you are in a real life project, you might also have an authorization check that prevents the validation. The typical order the validation and pre-authorize checks in spring are done are the following and maybe not intuitive:\r\n\r\n1) Validation of `@RequestBody` parameter\r\n2) Performing `@PreAuthorize` check\r\n3) Validation of `@PathVariable` parameter\r\n\r\nSo it happened to me that I thought the path variable validation was not working in contrast to the request body validation - but it was simply covered by the authorization check ;-)\r\n","title":"Custom validation for @PathVariable","body":"<p>Just a wild guess, since you asked specifically for <code>@PathVariable</code> validation and I just stumbled upon this myself:</p>\n<p>If you are in a real life project, you might also have an authorization check that prevents the validation. The typical order the validation and pre-authorize checks in spring are done are the following and maybe not intuitive:</p>\n<ol>\n<li>Validation of <code>@RequestBody</code> parameter</li>\n<li>Performing <code>@PreAuthorize</code> check</li>\n<li>Validation of <code>@PathVariable</code> parameter</li>\n</ol>\n<p>So it happened to me that I thought the path variable validation was not working in contrast to the request body validation - but it was simply covered by the authorization check ;-)</p>\n"}],"owner":{"account_id":21474568,"reputation":43,"user_id":15823062,"display_name":"Федор Николаев"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":793,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681496987,"creation_date":1654077992,"question_id":72460003,"body_markdown":"There is a controller accepting code as a path variable\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/api/currency&quot;)\r\n@Validated\r\npublic class CurrencyController {\r\n\r\n    @GetMapping(&quot;/gif/{code}&quot;)\r\n    public ResponseEntity&lt;Map&gt; getChangeGif(@PathVariable @Code String code){\r\n        // some implementation\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nI want to use my own annotation to validate code as I want \r\n```\r\n@Target( { FIELD, PARAMETER })\r\n@Retention(RUNTIME)\r\n@Documented\r\n@Constraint(validatedBy =  CodeValidator.class)\r\npublic @interface Code {\r\n\r\n    public String message() default &quot;error message&quot;;\r\n\r\n    public Class&lt;?&gt;[] groups() default {};\r\n\r\n    public Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\nAnd here is the validator\r\n```\r\npublic class CodeValidator implements ConstraintValidator&lt;Code, String&gt; {\r\n    @Override\r\n    public void initialize(Code constraintAnnotation) {\r\n        ConstraintValidator.super.initialize(constraintAnnotation);\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(String code, ConstraintValidatorContext context) {\r\n        // validator implementation\r\n        return false;\r\n    }\r\n}\r\n```\r\nFor some reason when requests come, validation just skipps, and controller continue working without it\r\n","title":"Custom validation for @PathVariable","body":"<p>There is a controller accepting code as a path variable</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/api/currency&quot;)\n@Validated\npublic class CurrencyController {\n\n    @GetMapping(&quot;/gif/{code}&quot;)\n    public ResponseEntity&lt;Map&gt; getChangeGif(@PathVariable @Code String code){\n        // some implementation\n        return null;\n    }\n}\n</code></pre>\n<p>I want to use my own annotation to validate code as I want</p>\n<pre><code>@Target( { FIELD, PARAMETER })\n@Retention(RUNTIME)\n@Documented\n@Constraint(validatedBy =  CodeValidator.class)\npublic @interface Code {\n\n    public String message() default &quot;error message&quot;;\n\n    public Class&lt;?&gt;[] groups() default {};\n\n    public Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>And here is the validator</p>\n<pre><code>public class CodeValidator implements ConstraintValidator&lt;Code, String&gt; {\n    @Override\n    public void initialize(Code constraintAnnotation) {\n        ConstraintValidator.super.initialize(constraintAnnotation);\n    }\n\n    @Override\n    public boolean isValid(String code, ConstraintValidatorContext context) {\n        // validator implementation\n        return false;\n    }\n}\n</code></pre>\n<p>For some reason when requests come, validation just skipps, and controller continue working without it</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1681487010,"post_id":76016668,"comment_id":134069495,"body_markdown":"Make a [mcve] please!","body":"Make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please!"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1681487066,"post_id":76016668,"comment_id":134069510,"body_markdown":"Where is `contador1` defined? Given that it isn&#39;t defined here, other code can interact with it, which is an easy explanation. If no other code interacts with it, why don&#39;t you define it within `run()` / at least within `Hilo3` as private field?","body":"Where is <code>contador1</code> defined? Given that it isn&#39;t defined here, other code can interact with it, which is an easy explanation. If no other code interacts with it, why don&#39;t you define it within <code>run()</code> / at least within <code>Hilo3</code> as private field?"},{"owner":{"account_id":28229349,"reputation":25,"user_id":21578797,"display_name":"Luis Daniels"},"score":0,"creation_date":1681488139,"post_id":76016668,"comment_id":134069753,"body_markdown":"@rzwitserloot contador1 is defined as 0: contador1=0;  The problem is that when the program enters the if clause and activoHilo3 is set to false, the thread is executed one more time after that. And I don&#180;t know why that happens because activoHilo3 is false now and it shouldn&#180;t be executed","body":"@rzwitserloot contador1 is defined as 0: contador1=0;  The problem is that when the program enters the if clause and activoHilo3 is set to false, the thread is executed one more time after that. And I don&#180;t know why that happens because activoHilo3 is false now and it shouldn&#180;t be executed"}],"answers":[{"tags":[],"owner":{"account_id":200481,"reputation":5196,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681488629,"creation_date":1681488629,"answer_id":76017045,"question_id":76016668,"body_markdown":"Your code calls runOnUiThread, and just after this, it test the flag activoHilo3 in the loop. \r\n\r\nBut when it does this test on activoHilo3, the code inside runOnUiThread may not have been run yet.\r\n\r\nAlso: You have multiple threads accessing activoHilo3 at the same time, which is not really supported, and require some kind of locking(Or at least volatile).\r\n\r\n","title":"Why does my thread execute seven times and not six like I think it should do?","body":"<p>Your code calls runOnUiThread, and just after this, it test the flag activoHilo3 in the loop.</p>\n<p>But when it does this test on activoHilo3, the code inside runOnUiThread may not have been run yet.</p>\n<p>Also: You have multiple threads accessing activoHilo3 at the same time, which is not really supported, and require some kind of locking(Or at least volatile).</p>\n"},{"comments":[{"owner":{"account_id":28229349,"reputation":25,"user_id":21578797,"display_name":"Luis Daniels"},"score":0,"creation_date":1681489177,"post_id":76017059,"comment_id":134070057,"body_markdown":"Thank you very much for your answer. I understand what happens. Is there a way to fix that? Is there a way to prevent the thread to be executed a seventh time? Because  I imagine there&#180;s a way to prevent this from happening but I don&#180;t know how it would be. And thank you again for the answer.","body":"Thank you very much for your answer. I understand what happens. Is there a way to fix that? Is there a way to prevent the thread to be executed a seventh time? Because  I imagine there&#180;s a way to prevent this from happening but I don&#180;t know how it would be. And thank you again for the answer."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1681489802,"post_id":76017059,"comment_id":134070202,"body_markdown":"@LuisDaniels The simplest solution would be to move the counting from the `Runnable` into the loop in your thread so that the `Runnable` on calls `Toast.makeText()`","body":"@LuisDaniels The simplest solution would be to move the counting from the <code>Runnable</code> into the loop in your thread so that the <code>Runnable</code> on calls <code>Toast.makeText()</code>"},{"owner":{"account_id":28229349,"reputation":25,"user_id":21578797,"display_name":"Luis Daniels"},"score":0,"creation_date":1681490606,"post_id":76017059,"comment_id":134070406,"body_markdown":"so you mean, moving contador1++; from where it is now to the while loop? Like this?: public void run() { contador++;\n            while (activoHilo3) {\n                try {","body":"so you mean, moving contador1++; from where it is now to the while loop? Like this?: public void run() { contador++;             while (activoHilo3) {                 try {"}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681496939,"creation_date":1681488722,"answer_id":76017059,"question_id":76016668,"body_markdown":"It runs seven times because the moment you set `activoHilo3` to false is to late to stop the seventh pass through the loop.\r\n\r\nLets start the description at the moment where the loop is running the sixth time: `Thread.sleep(5000)` finishes and `contador1` is 5.\r\n\r\nThe next action in your thread is to call `runOnUiThread(...)`. This call schedules the `Runnable` to run some time later and returns immediately. After that the code in your thread checks the condition of the `while` loop and finds `activoHilo3` to be still `true`, so it starts a seventh time into the while loop.\r\n\r\nThen, some time later, the code in the `Runnable` is executed on the UI thread. This code triggers the display of the toast, checks the value of `contador1` and sets `activoHilo3` to `false`. But at this moment your thread is already in the seventh loop, executing the `Thread.sleep(5000)`.\r\n\r\n---\r\nTo fix the problem I would move the loop condition out of the `Runnable` into the `while` loop:\r\n\r\n    class Hilo3 extends Thread {\r\n        @Override\r\n        public void run() {\r\n            while (activoHilo3) {\r\n                try {\r\n                    Thread.sleep(5000);\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            Toast.makeText(Prueba.this, &quot;Hilo3&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                if (contador1 == 5) {\r\n                    activoHilo3 = false;\r\n                }\r\n                contador1++;\r\n            }\r\n        }\r\n    }\r\n\r\nOr, since extending `Thread` is rarely the right choice:\r\n\r\n    class Hilo3 implements Runnable {\r\n        @Override\r\n        public void run() {\r\n            while (activoHilo3) {\r\n                try {\r\n                    Thread.sleep(5000);\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            Toast.makeText(Prueba.this, &quot;Hilo3&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                if (contador1 == 5) {\r\n                    activoHilo3 = false;\r\n                }\r\n                contador1++;\r\n            }\r\n        }\r\n    }\r\n\r\nOr, when using Java Language Level 8\r\n\r\n    class Hilo3 implements Runnable {\r\n        @Override\r\n        public void run() {\r\n            while (activoHilo3) {\r\n                try {\r\n                    Thread.sleep(5000);\r\n                    runOnUiThread(() -&gt; \r\n                        Toast.makeText(Prueba.this, &quot;Hilo3&quot;, Toast.LENGTH_SHORT).show()\r\n                    );\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                if (contador1 == 5) {\r\n                    activoHilo3 = false;\r\n                }\r\n                contador1++;\r\n            }\r\n        }\r\n    }\r\n","title":"Why does my thread execute seven times and not six like I think it should do?","body":"<p>It runs seven times because the moment you set <code>activoHilo3</code> to false is to late to stop the seventh pass through the loop.</p>\n<p>Lets start the description at the moment where the loop is running the sixth time: <code>Thread.sleep(5000)</code> finishes and <code>contador1</code> is 5.</p>\n<p>The next action in your thread is to call <code>runOnUiThread(...)</code>. This call schedules the <code>Runnable</code> to run some time later and returns immediately. After that the code in your thread checks the condition of the <code>while</code> loop and finds <code>activoHilo3</code> to be still <code>true</code>, so it starts a seventh time into the while loop.</p>\n<p>Then, some time later, the code in the <code>Runnable</code> is executed on the UI thread. This code triggers the display of the toast, checks the value of <code>contador1</code> and sets <code>activoHilo3</code> to <code>false</code>. But at this moment your thread is already in the seventh loop, executing the <code>Thread.sleep(5000)</code>.</p>\n<hr />\n<p>To fix the problem I would move the loop condition out of the <code>Runnable</code> into the <code>while</code> loop:</p>\n<pre><code>class Hilo3 extends Thread {\n    @Override\n    public void run() {\n        while (activoHilo3) {\n            try {\n                Thread.sleep(5000);\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        Toast.makeText(Prueba.this, &quot;Hilo3&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            if (contador1 == 5) {\n                activoHilo3 = false;\n            }\n            contador1++;\n        }\n    }\n}\n</code></pre>\n<p>Or, since extending <code>Thread</code> is rarely the right choice:</p>\n<pre><code>class Hilo3 implements Runnable {\n    @Override\n    public void run() {\n        while (activoHilo3) {\n            try {\n                Thread.sleep(5000);\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        Toast.makeText(Prueba.this, &quot;Hilo3&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            if (contador1 == 5) {\n                activoHilo3 = false;\n            }\n            contador1++;\n        }\n    }\n}\n</code></pre>\n<p>Or, when using Java Language Level 8</p>\n<pre><code>class Hilo3 implements Runnable {\n    @Override\n    public void run() {\n        while (activoHilo3) {\n            try {\n                Thread.sleep(5000);\n                runOnUiThread(() -&gt; \n                    Toast.makeText(Prueba.this, &quot;Hilo3&quot;, Toast.LENGTH_SHORT).show()\n                );\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            if (contador1 == 5) {\n                activoHilo3 = false;\n            }\n            contador1++;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28229349,"reputation":25,"user_id":21578797,"display_name":"Luis Daniels"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1681595427,"accepted_answer_id":76017059,"answer_count":2,"score":-3,"last_activity_date":1681496939,"creation_date":1681485866,"question_id":76016668,"body_markdown":"I&#180;m doing a project and I have to use threads. I have done this thread &quot;Hilo1&quot; and I want it to do something a specific number of times. \r\n```\r\nclass Hilo3 extends Thread {\r\n        @Override\r\n        public void run() {\r\n            while (activoHilo3) {\r\n                try {\r\n                    Thread.sleep(5000);\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            Toast.makeText(Prueba.this, &quot;Hilo3&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                                if(contador1==5){\r\n                                    \r\n                                        activoHilo3=false;\r\n                                    \r\n                            }\r\n                            contador1++;\r\n                        }\r\n\r\n\r\n                    });\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }  \r\n```\r\nI want it to show the messaje &quot;hilo3&quot; everytime it is executed, but I have tried it and it does it seven times and not six like I want. \r\nIf I run the app, the message will be displayed seven times and not six and I don&#180;t know why. Because when contador reaches 5, the thread variable &quot;activoHilo3&quot; is set to false so it shouldn&#180;t be executed anymore, but however it is executed one more time.\r\nAny idea why this happens?\r\nThank you.","title":"Why does my thread execute seven times and not six like I think it should do?","body":"<p>I´m doing a project and I have to use threads. I have done this thread &quot;Hilo1&quot; and I want it to do something a specific number of times.</p>\n<pre><code>class Hilo3 extends Thread {\n        @Override\n        public void run() {\n            while (activoHilo3) {\n                try {\n                    Thread.sleep(5000);\n                    runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            Toast.makeText(Prueba.this, &quot;Hilo3&quot;, Toast.LENGTH_SHORT).show();\n\n                                if(contador1==5){\n                                    \n                                        activoHilo3=false;\n                                    \n                            }\n                            contador1++;\n                        }\n\n\n                    });\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }  \n</code></pre>\n<p>I want it to show the messaje &quot;hilo3&quot; everytime it is executed, but I have tried it and it does it seven times and not six like I want.\nIf I run the app, the message will be displayed seven times and not six and I don´t know why. Because when contador reaches 5, the thread variable &quot;activoHilo3&quot; is set to false so it shouldn´t be executed anymore, but however it is executed one more time.\nAny idea why this happens?\nThank you.</p>\n"},{"tags":["java","scala","databricks","drools","azure-databricks"],"answers":[{"comments":[{"owner":{"account_id":28306158,"reputation":13,"user_id":21644142,"display_name":"ninja"},"score":0,"creation_date":1681496519,"post_id":76017907,"comment_id":134071576,"body_markdown":"Thank you @tarilabs for your feedback. Migration to Drools 8 is on my to do list. But would that solve my current issue ? Is it caused by reflection ?","body":"Thank you @tarilabs for your feedback. Migration to Drools 8 is on my to do list. But would that solve my current issue ? Is it caused by reflection ?"},{"owner":{"account_id":28306158,"reputation":13,"user_id":21644142,"display_name":"ninja"},"score":0,"creation_date":1681497187,"post_id":76017907,"comment_id":134071684,"body_markdown":"Can you also share a link to the docs of the static version of the engine (Drools 8) ?","body":"Can you also share a link to the docs of the static version of the engine (Drools 8) ?"},{"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"score":1,"creation_date":1681508404,"post_id":76017907,"comment_id":134073528,"body_markdown":"no it won&#39;t necessarily solve your problem, but given you are using Drools in a Apache Spark deployment, I mainly recommend to be sure not to &quot;compile&quot; the rules at runtime (I&#39;m not experienced in Spark, but that&#39;s what I fear is happening with your snippet). If you could share the reproducer as mentioned, it would be much easier to support further","body":"no it won&#39;t necessarily solve your problem, but given you are using Drools in a Apache Spark deployment, I mainly recommend to be sure not to &quot;compile&quot; the rules at runtime (I&#39;m not experienced in Spark, but that&#39;s what I fear is happening with your snippet). If you could share the reproducer as mentioned, it would be much easier to support further"}],"tags":[],"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681496154,"creation_date":1681496154,"answer_id":76017907,"question_id":76016920,"body_markdown":"I&#39;d recommend using Drools 8 without the reflective dependencies, using the static version of the engine (without reflection).\r\n\r\nAlso, to codegenerate the executable model of the rules at compile time, not at runtime.\r\n\r\nIf you can provide a reproducer of the above, feel free to share for additional support on the [drools-usage][1] mailing list.\r\n\r\n\r\n  [1]: https://groups.google.com/g/drools-usage","title":"Running drools in Databricks","body":"<p>I'd recommend using Drools 8 without the reflective dependencies, using the static version of the engine (without reflection).</p>\n<p>Also, to codegenerate the executable model of the rules at compile time, not at runtime.</p>\n<p>If you can provide a reproducer of the above, feel free to share for additional support on the <a href=\"https://groups.google.com/g/drools-usage\" rel=\"nofollow noreferrer\">drools-usage</a> mailing list.</p>\n"}],"owner":{"account_id":28306158,"reputation":13,"user_id":21644142,"display_name":"ninja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681496154,"creation_date":1681487684,"question_id":76016920,"body_markdown":"I am trying to implement a PoC to run Drools on Azure Databricks using Scala language. I assume  there is no equivalent python client for Drools. I am aware of other BRE python-based frameworks available which I already tested. \r\n\r\nWhen trying to run a sample code in Scala notebook I keep getting the exception below. \r\n\r\nI have imported all necessary Drools libraries. \r\n\r\nDrools lib version: 7.1.17.0-Final\r\n\r\nDatabricks: 11.3 LTS (includes Apache Spark 3.3.0, Scala 2.12)\r\n\r\nCan somebody advise what I am doing wrong ?\r\n\r\nHas anybody come across working example ? \r\n\r\nI would appreciate any support.\r\n\r\n```\r\nNoClassDefFoundError: Could not initialize class org.kie.internal.io.ResourceFactory$LazyHolder\r\n```\r\n\r\n```\r\nimport collection.JavaConverters._\r\nimport org.slf4j.ILoggerFactory\r\nimport org.kie.internal.io.ResourceFactory\r\nimport org.drools.core.impl.KnowledgeBaseFactory\r\nimport org.kie.api.io.ResourceType\r\nimport org.kie.api.runtime.KieSession\r\nimport org.kie.api.runtime.rule.RuleContext\r\nimport org.kie.internal.builder.KnowledgeBuilderFactory\r\nimport org.kie.api.internal.utils.ServiceRegistry\r\n\r\nclass SampleService {\r\n\t\r\n  val resource= ResourceFactory.newClassPathResource(&quot;sample.drl&quot;)\r\n  val kbuilder = KnowledgeBuilderFactory.newKnowledgeBuilder()\r\n  kbuilder.add(resource,ResourceType.DRL)\r\n\r\n  val kbase = KnowledgeBaseFactory.newKnowledgeBase()\r\n  kbase.addPackages(kbuilder.getKnowledgePackages())\r\n\r\n def runAllRulesFor(): String = {\r\n    val session = kbase.newKieSession()\r\n    null  \r\n  }\r\n\r\n}\r\n\r\ndef result = new DroolsRuleService().runAllRulesForUDF;\r\nprintln(result)\r\n\r\n```\r\n\r\n\r\n","title":"Running drools in Databricks","body":"<p>I am trying to implement a PoC to run Drools on Azure Databricks using Scala language. I assume  there is no equivalent python client for Drools. I am aware of other BRE python-based frameworks available which I already tested.</p>\n<p>When trying to run a sample code in Scala notebook I keep getting the exception below.</p>\n<p>I have imported all necessary Drools libraries.</p>\n<p>Drools lib version: 7.1.17.0-Final</p>\n<p>Databricks: 11.3 LTS (includes Apache Spark 3.3.0, Scala 2.12)</p>\n<p>Can somebody advise what I am doing wrong ?</p>\n<p>Has anybody come across working example ?</p>\n<p>I would appreciate any support.</p>\n<pre><code>NoClassDefFoundError: Could not initialize class org.kie.internal.io.ResourceFactory$LazyHolder\n</code></pre>\n<pre><code>import collection.JavaConverters._\nimport org.slf4j.ILoggerFactory\nimport org.kie.internal.io.ResourceFactory\nimport org.drools.core.impl.KnowledgeBaseFactory\nimport org.kie.api.io.ResourceType\nimport org.kie.api.runtime.KieSession\nimport org.kie.api.runtime.rule.RuleContext\nimport org.kie.internal.builder.KnowledgeBuilderFactory\nimport org.kie.api.internal.utils.ServiceRegistry\n\nclass SampleService {\n    \n  val resource= ResourceFactory.newClassPathResource(&quot;sample.drl&quot;)\n  val kbuilder = KnowledgeBuilderFactory.newKnowledgeBuilder()\n  kbuilder.add(resource,ResourceType.DRL)\n\n  val kbase = KnowledgeBaseFactory.newKnowledgeBase()\n  kbase.addPackages(kbuilder.getKnowledgePackages())\n\n def runAllRulesFor(): String = {\n    val session = kbase.newKieSession()\n    null  \n  }\n\n}\n\ndef result = new DroolsRuleService().runAllRulesForUDF;\nprintln(result)\n\n</code></pre>\n"},{"tags":["java","recursion","brute-force"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1681491660,"post_id":76017397,"comment_id":134070626,"body_markdown":"You could always increase the size of the stack.","body":"You could always increase the size of the stack."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681492650,"post_id":76017397,"comment_id":134070829,"body_markdown":"Can you, please, provide a link to the `ZipFile` API you are using? I don&#39;t see methods `setPassword (String)` and `extractAll (String)` in [Oracle&#39;s `ZipFile` API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/zip/ZipFile.html) .","body":"Can you, please, provide a link to the <code>ZipFile</code> API you are using? I don&#39;t see methods <code>setPassword (String)</code> and <code>extractAll (String)</code> in <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/zip/ZipFile.html\" rel=\"nofollow noreferrer\">Oracle&#39;s <code>ZipFile</code> API</a> ."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681492962,"post_id":76017397,"comment_id":134070907,"body_markdown":"Why do you open the Zip file at each recursive call? Why not open it once, and pass it as an argument? Or, have the file an instance variable, and open it in the constructor. (Note the 2nd option will require `brute` to be an instance method.)","body":"Why do you open the Zip file at each recursive call? Why not open it once, and pass it as an argument? Or, have the file an instance variable, and open it in the constructor. (Note the 2nd option will require <code>brute</code> to be an instance method.)"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681493273,"post_id":76017397,"comment_id":134070977,"body_markdown":"The second comment in the example code references &quot;the above alphabet string&quot;, but the referenced string is not present. The example code refers to the variable `alphabet` several times, but the example code includes neither a declaration nor initialization for that variable.","body":"The second comment in the example code references &quot;the above alphabet string&quot;, but the referenced string is not present. The example code refers to the variable <code>alphabet</code> several times, but the example code includes neither a declaration nor initialization for that variable."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":4,"creation_date":1681493281,"post_id":76017397,"comment_id":134070978,"body_markdown":"More importantly, why is this recursive? This is not a problem that needs recursion for its solution.","body":"More importantly, why is this recursive? This is not a problem that needs recursion for its solution."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1681493390,"post_id":76017397,"comment_id":134071004,"body_markdown":"You are getting StackOverflow because in the average case you will consume `len(alphabet)^3/2` stack frames.  The recursive approach is a non-starter.","body":"You are getting StackOverflow because in the average case you will consume <code>len(alphabet)^3&#47;2</code> stack frames.  The recursive approach is a non-starter."},{"owner":{"account_id":21137137,"reputation":1,"user_id":15540382,"display_name":"cyrus60"},"score":0,"creation_date":1681494192,"post_id":76017397,"comment_id":134071146,"body_markdown":"In the project outline there&#39;s a footnote that says &quot;Note that trying to figure out all possible three character strings over an alphabet is a great place to use recursion!&quot;, which is why I took the recursive approach. Reading that again though, and along with your comments I see I may have misinterpreted this a bit. Thanks for the help!","body":"In the project outline there&#39;s a footnote that says &quot;Note that trying to figure out all possible three character strings over an alphabet is a great place to use recursion!&quot;, which is why I took the recursive approach. Reading that again though, and along with your comments I see I may have misinterpreted this a bit. Thanks for the help!"},{"owner":{"account_id":2796564,"reputation":301,"user_id":2405699,"accept_rate":33,"display_name":"alex"},"score":0,"creation_date":1681497274,"post_id":76017397,"comment_id":134071697,"body_markdown":"All recursions can be replaced with a cycle.","body":"All recursions can be replaced with a cycle."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1681518394,"post_id":76017397,"comment_id":134074584,"body_markdown":"@cyrus60 _&quot;...is a great place to use recursion&quot;_ - Whoever wrote that does not understand where recursion is useful.","body":"@cyrus60 <i>&quot;...is a great place to use recursion&quot;</i> - Whoever wrote that does not understand where recursion is useful."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1681563088,"post_id":76017397,"comment_id":134078544,"body_markdown":"If you know the password will always be 3 characters, you could simply have 3 nested `for` loops.","body":"If you know the password will always be 3 characters, you could simply have 3 nested <code>for</code> loops."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681495466,"creation_date":1681495466,"answer_id":76017838,"question_id":76017397,"body_markdown":"Recursion is fine but your algorithm is broken. It needs a depth-first search, ie a level of recursion per letter, ie 3.\r\n\r\nThe problem is that all the logical branches in brute() besides when the unzip works, simply call brute().\r\n\r\nYou need to add a condition for the end of the alphabet to return without calling brute().","title":"Any way to prevent this brute force method from throwing StackOverflowError?","body":"<p>Recursion is fine but your algorithm is broken. It needs a depth-first search, ie a level of recursion per letter, ie 3.</p>\n<p>The problem is that all the logical branches in brute() besides when the unzip works, simply call brute().</p>\n<p>You need to add a condition for the end of the alphabet to return without calling brute().</p>\n"}],"owner":{"account_id":21137137,"reputation":1,"user_id":15540382,"display_name":"cyrus60"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681495466,"creation_date":1681491562,"question_id":76017397,"body_markdown":"    // this is the recursive method used to crack the 3 digit password\r\n    // takes three integer arguments each representing the index of a letter in the above alphabet string\r\n    public static String brute(int a, int b, int c) {\r\n        // boolean signifying whether or not the password was correct\r\n        boolean isCorrect = false;\r\n    \r\n        // string variable representing the password as a concatenation of characters from the alphabet string\r\n        String string = &quot;&quot; + alphabet.charAt(a) + alphabet.charAt(b) + alphabet.charAt(c);\r\n        System.out.println(string);\r\n    \r\n        try {\r\n            ZipFile zip = new ZipFile(&quot;protected3.zip&quot;);\r\n            zip.setPassword(string);\r\n            zip.extractAll(&quot;contents&quot;);\r\n            System.out.println(&quot;Successfully cracked!&quot;);\r\n            isCorrect = true;\r\n        } catch (ZipException ze) {\r\n    \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }  \r\n        \r\n        // base case\r\n        if (isCorrect) {\r\n            return string;\r\n        }\r\n        // recursive steps\r\n        else {\r\n            if (alphabet.length() - 1 &lt;= c) {\r\n                return brute(a, b + 1, 0);\r\n            }\r\n            else if (alphabet.length() - 1 &lt;= b) {\r\n                return brute(a + 1, 0, c);\r\n            }\r\n            else {\r\n                return brute(a, b, c + 1);\r\n            }\r\n        }\r\n    }\r\n\r\nHere I have a method that is meant to brute force a 3 digit lowercase password on a zip file recursively. It works correctly, but once the password attempts get to around &quot;fff&quot; the program throws a StackOverflowError. I know that intense recursion is taxing on the stack, but is there any way around this problem with recursion or will I have to re-implement this as a not-so elegant loop? Thanks for any help. ","title":"Any way to prevent this brute force method from throwing StackOverflowError?","body":"<pre><code>// this is the recursive method used to crack the 3 digit password\n// takes three integer arguments each representing the index of a letter in the above alphabet string\npublic static String brute(int a, int b, int c) {\n    // boolean signifying whether or not the password was correct\n    boolean isCorrect = false;\n\n    // string variable representing the password as a concatenation of characters from the alphabet string\n    String string = &quot;&quot; + alphabet.charAt(a) + alphabet.charAt(b) + alphabet.charAt(c);\n    System.out.println(string);\n\n    try {\n        ZipFile zip = new ZipFile(&quot;protected3.zip&quot;);\n        zip.setPassword(string);\n        zip.extractAll(&quot;contents&quot;);\n        System.out.println(&quot;Successfully cracked!&quot;);\n        isCorrect = true;\n    } catch (ZipException ze) {\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }  \n    \n    // base case\n    if (isCorrect) {\n        return string;\n    }\n    // recursive steps\n    else {\n        if (alphabet.length() - 1 &lt;= c) {\n            return brute(a, b + 1, 0);\n        }\n        else if (alphabet.length() - 1 &lt;= b) {\n            return brute(a + 1, 0, c);\n        }\n        else {\n            return brute(a, b, c + 1);\n        }\n    }\n}\n</code></pre>\n<p>Here I have a method that is meant to brute force a 3 digit lowercase password on a zip file recursively. It works correctly, but once the password attempts get to around &quot;fff&quot; the program throws a StackOverflowError. I know that intense recursion is taxing on the stack, but is there any way around this problem with recursion or will I have to re-implement this as a not-so elegant loop? Thanks for any help.</p>\n"},{"tags":["java","jpa","criteria-api"],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681495290,"creation_date":1681495290,"answer_id":76017819,"question_id":76017197,"body_markdown":"model.get(&quot;employer&quot;) forces an inner join, which filters out nulls. You will need something more along the lines of a left outer join from model-&gt;Employer that you can reuse for the null and employeeBenifits value checks akin to JPQL query `select p from Person p left join p.employer e where ( e is null OR e.employeeBenefits = &quot;No benefits&quot;)`. \r\n\r\nYou can do this in criteria queries using something more like:\r\n\r\n    Join&lt;Person, Company&gt; employer = model.join(&quot;employer&quot;, JoinType.LEFT);\r\n    criteriaBuilder.or(\r\n      criteriaBuilder.isNull(employer),\r\n      criteriaBuilder.equal(employer.get(&quot;employeeBenefits&quot;), &quot;No benefits&quot;)\r\n    );","title":"Java JPA Criteria Builder: Check nested, nullable value","body":"<p>model.get(&quot;employer&quot;) forces an inner join, which filters out nulls. You will need something more along the lines of a left outer join from model-&gt;Employer that you can reuse for the null and employeeBenifits value checks akin to JPQL query <code>select p from Person p left join p.employer e where ( e is null OR e.employeeBenefits = &quot;No benefits&quot;)</code>.</p>\n<p>You can do this in criteria queries using something more like:</p>\n<pre><code>Join&lt;Person, Company&gt; employer = model.join(&quot;employer&quot;, JoinType.LEFT);\ncriteriaBuilder.or(\n  criteriaBuilder.isNull(employer),\n  criteriaBuilder.equal(employer.get(&quot;employeeBenefits&quot;), &quot;No benefits&quot;)\n);\n</code></pre>\n"}],"owner":{"account_id":4436420,"reputation":1834,"user_id":4743630,"accept_rate":77,"display_name":"Elias Strehle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76017819,"answer_count":1,"score":0,"last_activity_date":1681495290,"creation_date":1681489928,"question_id":76017197,"body_markdown":"I have an entity that refers to another entity:\r\n```\r\nclass Person {\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;company_id&quot;)\r\n  Company employer;\r\n}\r\n\r\nclass Company {\r\n  String employeeBenefits;\r\n}\r\n```\r\nIn the example, `employeeBenefits` can have all kinds of values including `&quot;No benefits&quot;`.\r\n\r\nImportantly, a person&#39;s `employer` can be `null`.\r\nI want to use the Criteria Builder to construct a Specification that checks if a person **has no employer OR has an employer with &quot;No benefits&quot;**.\r\n\r\nMy approach was:\r\n```\r\ncriteriaBuilder.or(\r\n  criteriaBuilder.isNull(model.get(&quot;employer&quot;)),\r\n  criteriaBuilder.equal(model.get(&quot;employer&quot;).get(&quot;employeeBenefits&quot;), &quot;No benefits&quot;)\r\n);\r\n```\r\nThis does not work; persons with a `null` employer are not found. I think the reason is that during evaluation of the second expression, the `.get(&quot;employeeBenefits&quot;)` throws a NullPointerException, which silently leads to the person being excluded from the result set.\r\n\r\nI have also tried the inverse `criteriaBuilder.notEqual(model.get(&quot;employer&quot;).get(&quot;employeeBenefits&quot;), &quot;No benefits&quot;).not()` but that does not work either.\r\n\r\nHow can I solve this?","title":"Java JPA Criteria Builder: Check nested, nullable value","body":"<p>I have an entity that refers to another entity:</p>\n<pre><code>class Person {\n  @ManyToOne\n  @JoinColumn(name = &quot;company_id&quot;)\n  Company employer;\n}\n\nclass Company {\n  String employeeBenefits;\n}\n</code></pre>\n<p>In the example, <code>employeeBenefits</code> can have all kinds of values including <code>&quot;No benefits&quot;</code>.</p>\n<p>Importantly, a person's <code>employer</code> can be <code>null</code>.\nI want to use the Criteria Builder to construct a Specification that checks if a person <strong>has no employer OR has an employer with &quot;No benefits&quot;</strong>.</p>\n<p>My approach was:</p>\n<pre><code>criteriaBuilder.or(\n  criteriaBuilder.isNull(model.get(&quot;employer&quot;)),\n  criteriaBuilder.equal(model.get(&quot;employer&quot;).get(&quot;employeeBenefits&quot;), &quot;No benefits&quot;)\n);\n</code></pre>\n<p>This does not work; persons with a <code>null</code> employer are not found. I think the reason is that during evaluation of the second expression, the <code>.get(&quot;employeeBenefits&quot;)</code> throws a NullPointerException, which silently leads to the person being excluded from the result set.</p>\n<p>I have also tried the inverse <code>criteriaBuilder.notEqual(model.get(&quot;employer&quot;).get(&quot;employeeBenefits&quot;), &quot;No benefits&quot;).not()</code> but that does not work either.</p>\n<p>How can I solve this?</p>\n"},{"tags":["java","eclipse","gradle"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1442387613,"post_id":32598678,"comment_id":53056103,"body_markdown":"Look in the .log file in the workspace .metadata directory to see if there any messages about this.","body":"Look in the .log file in the workspace .metadata directory to see if there any messages about this."},{"owner":{"account_id":3777931,"reputation":1,"user_id":3138193,"display_name":"user3138193"},"score":0,"creation_date":1442452396,"post_id":32598678,"comment_id":53092464,"body_markdown":"There isn&#39;t a .log file.","body":"There isn&#39;t a .log file."}],"answers":[{"tags":[],"owner":{"account_id":28307164,"reputation":1,"user_id":21644995,"display_name":"l0ngh0rn_dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681494662,"creation_date":1681494662,"answer_id":76017752,"question_id":32598678,"body_markdown":"This can be the result of an issue with the resolution of your display. If you expand the import window - or, presumably, if you change the screen resolution - the options will appear.","title":"No import options in Eclipse","body":"<p>This can be the result of an issue with the resolution of your display. If you expand the import window - or, presumably, if you change the screen resolution - the options will appear.</p>\n"}],"owner":{"account_id":3777931,"reputation":1,"user_id":3138193,"display_name":"user3138193"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681494662,"creation_date":1442369908,"question_id":32598678,"body_markdown":"I am trying to import a gradle project into eclipse. However, when I do `File -&gt; Import`, it gives no options.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nHow can I fix this? Thanks.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/hH665.png","title":"No import options in Eclipse","body":"<p>I am trying to import a gradle project into eclipse. However, when I do <code>File -&gt; Import</code>, it gives no options.</p>\n\n<p><a href=\"https://i.stack.imgur.com/hH665.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hH665.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I fix this? Thanks.</p>\n"},{"tags":["python","java","html","flask","pycharm"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681496449,"post_id":76017665,"comment_id":134071562,"body_markdown":"*The crash happened outside the Java Virtual Machine in native code.\nSee problematic frame for where to report the bug.* is telling you what the problem is. Try tweaking the JRE version up, and if not, incrementally down","body":"<i>The crash happened outside the Java Virtual Machine in native code. See problematic frame for where to report the bug.</i> is telling you what the problem is. Try tweaking the JRE version up, and if not, incrementally down"},{"owner":{"account_id":27242424,"reputation":39,"user_id":20768374,"display_name":"PolymathCarlos"},"score":0,"creation_date":1681499419,"post_id":76017665,"comment_id":134072052,"body_markdown":"I&#39;m afraid I&#39;m new to coding (I&#39;ve been coding for about a year). What do you mean by &quot;Tweaking the JRE version up&quot;?  What do I need to do?","body":"I&#39;m afraid I&#39;m new to coding (I&#39;ve been coding for about a year). What do you mean by &quot;Tweaking the JRE version up&quot;?  What do I need to do?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681499916,"post_id":76017665,"comment_id":134072143,"body_markdown":"Try to download one with a higher version number","body":"Try to download one with a higher version number"},{"owner":{"account_id":27242424,"reputation":39,"user_id":20768374,"display_name":"PolymathCarlos"},"score":0,"creation_date":1681504166,"post_id":76017665,"comment_id":134072860,"body_markdown":"Thanks, looks like I didn&#39;t have java installed.","body":"Thanks, looks like I didn&#39;t have java installed."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681507125,"post_id":76017665,"comment_id":134073338,"body_markdown":"You did ;) It tells you so","body":"You did ;) It tells you so"}],"owner":{"account_id":27242424,"reputation":39,"user_id":20768374,"display_name":"PolymathCarlos"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681493798,"creation_date":1681493798,"question_id":76017665,"body_markdown":"\r\n\r\nHello everyone and thank you for reading. \r\nI have the following error while running my program and can&#39;t figure out what the solution would be. I also looked at all the topics with a similar error here, but could not resolve my issue. Here the error:\r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00000001a9683664, pid=1214, tid=259\r\n#\r\n# JRE version: OpenJDK Runtime Environment JBR-17.0.6+10-829.5-jcef (17.0.6+10) (build 17.0.6+10-b829.5)\r\n# Java VM: OpenJDK 64-Bit Server VM JBR-17.0.6+10-829.5-jcef (17.0.6+10-b829.5, mixed mode, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-aarch64)\r\n# Problematic frame:\r\n# C  [HIToolbox+0x1d6664]  NotifyItemSelection(SelectionData*, MenuResult*)+0x1c\r\n```\r\n\r\nMy program is a 100 days of code, Python Pro Bootcamp project where I&#39;m working on creating a simple drop down menu where I rate the quality of a coffee shop and add it to a database of coffee shops to work from. My project has been crashing regularly. I&#39;m not sure how to fix this.\r\n\r\nHere is the code, that I&#39;m executing in Pycharm:\r\n\r\n\r\nHere the logfile of the error:\r\n\r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00000001a9683664, pid=1214, tid=259\r\n#\r\n# JRE version: OpenJDK Runtime Environment JBR-17.0.6+10-829.5-jcef (17.0.6+10) (build 17.0.6+10-b829.5)\r\n# Java VM: OpenJDK 64-Bit Server VM JBR-17.0.6+10-829.5-jcef (17.0.6+10-b829.5, mixed mode, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-aarch64)\r\n# Problematic frame:\r\n# C  [HIToolbox+0x1d6664]  NotifyItemSelection(SelectionData*, MenuResult*)+0x1c\r\n#\r\n# No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://youtrack.jetbrains.com/issues/JBR\r\n# The crash happened outside the Java Virtual Machine in native code.\r\n# See problematic frame for where to report the bug.\r\n#\r\n\r\n---------------  S U M M A R Y ------------\r\n\r\nCommand Line: -XX:ErrorFile=/Users/carlosperalta/java_error_in_pycharm_%p.log -XX:HeapDumpPath=/Users/carlosperalta/java_error_in_pycharm.hprof -Xms128m -Xmx750m -XX:ReservedCodeCacheSize=512m -XX:+UseG1GC -XX:SoftRefLRUPolicyMSPerMB=50 -XX:CICompilerCount=2 -XX:+HeapDumpOnOutOfMemoryError -XX:-OmitStackTraceInFastThrow -XX:+IgnoreUnrecognizedVMOptions -XX:CompileCommand=exclude,com/intellij/openapi/vfs/impl/FilePartNodeRoot,trieDescend -ea -Dsun.io.useCanonCaches=false -Dsun.java2d.metal=true -Djbr.catch.SIGABRT=true -Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot; -Djdk.attach.allowAttachSelf=true -Djdk.module.illegalAccess.silent=true -Dkotlinx.coroutines.debug=off -Xmx1024m -Djb.vmOptionsFile=/Users/carlosperalta/Library/Application Support/JetBrains/PyCharmCE2023.1/pycharm.vmoptions --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.ref=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.nio.charset=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/jdk.internal.vm=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.fs=ALL-UNNAMED --add-opens=java.base/sun.security.ssl=ALL-UNNAMED --add-opens=java.base/sun.security.util=ALL-UNNAMED --add-opens=java.desktop/com.apple.eawt=ALL-UNNAMED --add-opens=java.desktop/com.apple.eawt.event=ALL-UNNAMED --add-opens=java.desktop/com.apple.laf=ALL-UNNAMED --add-opens=java.desktop/java.awt=ALL-UNNAMED --add-opens=java.desktop/java.awt.dnd.peer=ALL-UNNAMED --add-opens=java.desktop/java.awt.event=ALL-UNNAMED --add-opens=java.desktop/java.awt.image=ALL-UNNAMED --add-opens=java.desktop/java.awt.peer=ALL-UNNAMED --add-opens=java.desktop/java.awt.font=ALL-UNNAMED --add-opens=java.desktop/javax.swing=ALL-UNNAMED --add-opens=java.desktop/javax.swing.plaf.basic=ALL-UNNAMED --add-opens=java.desktop/javax.swing.text.html=ALL-UNNAMED --add-opens=java.desktop/sun.awt.datatransfer=ALL-UNNAMED --add-opens=java.desktop/sun.awt.image=ALL-UNNAMED --add-opens=java.desktop/sun.awt=ALL-UNNAMED --add-opens=java.desktop/sun.font=ALL-UNNAMED --add-opens=java.desktop/sun.java2d=ALL-UNNAMED --add-opens=java.desktop/sun.lwawt=ALL-UNNAMED --add-opens=java.desktop/sun.lwawt.macosx=ALL-UNNAMED --add-opens=java.desktop/sun.swing=ALL-UNNAMED --add-opens=jdk.attach/sun.tools.attach=ALL-UNNAMED --add-opens=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED --add-opens=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED --add-opens=jdk.jdi/com.sun.tools.jdi=ALL-UNNAMED -Djna.boot.library.path=/Applications/PyCharm CE.app/Contents/lib/jna/aarch64 -Dpty4j.preferred.native.folder=/Applications/PyCharm CE.app/Contents/lib/pty4j -Dsplash=true -Didea.home.path=/Applications/PyCharm CE.app/Contents -Didea.executable=pycharm -Djava.system.class.loader=com.intellij.util.lang.PathClassLoader -Djna.noclasspath=true -Djna.nosys=true -Didea.platform.prefix=PyCharmCore -Didea.paths.selector=PyCharmCE2023.1 -Didea.vendor.name=JetBrains \r\n\r\nHost: &quot;Mac14,7&quot; arm64, 8 cores, 8G, Darwin 22.1.0, macOS 13.0 (22A380)\r\nTime: Fri Apr 14 13:19:53 2023 EDT elapsed time: 165.014992 seconds (0d 0h 2m 45s)\r\n\r\n---------------  T H R E A D  ---------------\r\n\r\nCurrent thread (0x000000011983ae00):  JavaThread &quot;AWT-AppKit&quot; daemon [_thread_in_native, id=259, stack(0x000000016cfb8000,0x000000016d7b4000)]\r\n\r\nStack: [0x000000016cfb8000,0x000000016d7b4000],  sp=0x000000016d7ab290,  free space=8140k\r\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nC  [HIToolbox+0x1d6664]  NotifyItemSelection(SelectionData*, MenuResult*)+0x1c\r\nC  [HIToolbox+0x1d62e4]  SelectItemAndRestoreAllMenuBits(MenuSelectData&amp;, SelectionData*, MenuResult*, MenuResult*)+0x48c\r\nC  [HIToolbox+0x873bc]  SimulateSelection(unsigned char, unsigned char, OpaqueMenuRef**, unsigned short*, unsigned int*)+0x5fc\r\nC  [HIToolbox+0x1d2374]  SimulateMenuSelectionWithOptions(MenuData*, OpaqueMenuRef*, unsigned short, unsigned int, unsigned char)+0xd0\r\nC  [Shortcut+0xc698]  -[SCTMenuItemGRL perform]+0x130\r\nC  [Shortcut+0xc204]  -[SCTSearchManager doPerformResource:]+0x24\r\nC  [Foundation+0x7a090]  __NSFireDelayedPerform+0x174\r\nC  [CoreFoundation+0x9b578]  __CFRUNLOOP_IS_CALLING_OUT_TO_A_TIMER_CALLBACK_FUNCTION__+0x20\r\nC  [CoreFoundation+0x9b220]  __CFRunLoopDoTimer+0x3ac\r\nC  [CoreFoundation+0x9ad78]  __CFRunLoopDoTimers+0x164\r\nC  [CoreFoundation+0x80760]  __CFRunLoopRun+0x768\r\nC  [CoreFoundation+0x7f8a4]  CFRunLoopRunSpecific+0x264\r\nC  [HIToolbox+0x323bc]  RunCurrentEventLoopInMode+0x124\r\nC  [HIToolbox+0x3204c]  ReceiveNextEventCommon+0xec\r\nC  [HIToolbox+0x31f48]  _BlockUntilNextEventMatchingListInModeWithFilter+0x48\r\nC  [AppKit+0x39630]  _DPSNextEvent+0x278\r\nC  [AppKit+0x387c0]  -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:]+0x2d8\r\nC  [libosxapp.dylib+0x36e8]  -[NSApplicationAWT nextEventMatchingMask:untilDate:inMode:dequeue:]+0xf0\r\nC  [libawt_lwawt.dylib+0x86f60]  Java_sun_lwawt_macosx_LWCToolkit_doAWTRunLoopImpl+0x1e8\r\nj  sun.lwawt.macosx.LWCToolkit.doAWTRunLoopImpl(JZZI)Z+0 java.desktop\r\nj  sun.lwawt.macosx.LWCToolkit.doAWTRunLoop(JZI)Z+6 java.desktop\r\nj  sun.lwawt.macosx.LWCToolkit.invokeAndWait(Ljava/lang/Runnable;Ljava/awt/Component;ZI)V+301 java.desktop\r\nj  jdk.internal.reflect.GeneratedMethodAccessor183.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+145 java.base@17.0.6\r\nJ 36866 c2 java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object; java.base@17.0.6 (65 bytes) @ 0x000000014916b04c [0x000000014916adc0+0x000000000000028c]\r\nj  com.intellij.ui.mac.screenmenu.Menu.invokeWithLWCToolkit(Ljava/lang/Runnable;Ljava/lang/Runnable;Ljava/awt/Component;)V+78\r\nj  com.intellij.ui.mac.screenmenu.Menu.invokeMenuClosing()V+45\r\nv  ~StubRoutines::call_stub\r\nV  [libjvm.dylib+0x4583b0]  JavaCalls::call_helper(JavaValue*, methodHandle const&amp;, JavaCallArguments*, JavaThread*)+0x38c\r\nV  [libjvm.dylib+0x4b1634]  jni_invoke_nonstatic(JNIEnv_*, JavaValue*, _jobject*, JNICallType, _jmethodID*, JNI_ArgumentPusher*, JavaThread*)+0x31c\r\nV  [libjvm.dylib+0x4b5c8c]  jni_CallVoidMethod+0x138\r\nC  [libmacscreenmenu64.dylib+0x6f28]  -[Menu menuDidClose:]+0x138\r\nC  [AppKit+0x335908]  -[NSCarbonMenuImpl _carbonCloseEvent:handlerCallRef:]+0x58\r\nC  [AppKit+0x296dec]  NSSLMMenuEventHandler+0x390\r\nC  [HIToolbox+0xa944]  DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x444\r\nC  [HIToolbox+0x9dc4]  SendEventToEventTargetInternal(OpaqueEventRef*, OpaqueEventTargetRef*, HandlerCallRec*)+0x164\r\nC  [HIToolbox+0x9c54]  SendEventToEventTargetWithOptions+0x2c\r\nC  [HIToolbox+0x9e550]  SendMenuClosed(MenuData*, unsigned int, unsigned char)+0xd4\r\nC  [HIToolbox+0x9e304]  HideMenus(MenuSelectData*, __CFArray*)+0x80\r\nC  [HIToolbox+0x6f304]  CancelMenuTracking+0xd8\r\nC  [Shortcut+0xc02c]  -[SCTSearchManager hideSearchWindow]+0x28\r\nC  [Shortcut+0x9e50]  -[SCTSearchManager control:textView:doCommandBySelector:]+0x274\r\nC  [AppKit+0x29a708]  -[NSTextView doCommandBySelector:]+0x8c\r\nC  [AppKit+0x29a63c]  -[NSTextInputContext(NSInputContext_WithCompletion) doCommandBySelector:completionHandler:]+0xe4\r\nC  [AppKit+0x1e83dc]  -[NSKeyBindingManager(NSKeyBindingManager_MultiClients) interpretEventAsCommand:forClient:]+0x608\r\nC  [AppKit+0x1efd14]  __84-[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]_block_invoke_5+0x168\r\nC  [AppKit+0x940c8c]  __84-[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]_block_invoke_3.657+0x64\r\nC  [AppKit+0x1efb68]  -[NSTextInputContext tryHandleEvent_HasMarkedText_withDispatchCondition:dispatchWork:continuation:]+0x94\r\nC  [AppKit+0x940bec]  __84-[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]_block_invoke.654+0x13c\r\nC  [HIToolbox+0x6c58c]  __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_5+0x60\r\nC  [HIToolbox+0x7ceb8]  invocation function for block in DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x94\r\nC  [AppKit+0x93be88]  __55-[NSTextInputContext handleTSMEvent:completionHandler:]_block_invoke.180+0x244\r\nC  [AppKit+0x1ea294]  __55-[NSTextInputContext handleTSMEvent:completionHandler:]_block_invoke_2+0x64\r\nC  [AppKit+0x1ea1e0]  -[NSTextInputContext tryHandleTSMEvent_HasMarkedText_withDispatchCondition:dispatchWork:continuation:]+0x94\r\nC  [AppKit+0x1e9754]  -[NSTextInputContext handleTSMEvent:completionHandler:]+0x7ec\r\nC  [AppKit+0x1e8efc]  _NSTSMEventHandler+0x14c\r\nC  [HIToolbox+0xa944]  DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x444\r\nC  [HIToolbox+0x9dc4]  SendEventToEventTargetInternal(OpaqueEventRef*, OpaqueEventTargetRef*, HandlerCallRec*)+0x164\r\nC  [HIToolbox+0x9c54]  SendEventToEventTargetWithOptions+0x2c\r\nC  [HIToolbox+0x68a28]  SendTSMEvent_WithCompletionHandler+0x1b0\r\nC  [HIToolbox+0x68f78]  __SendUnicodeTextAEToUnicodeDoc_WithCompletionHandler_block_invoke+0x1c8\r\nC  [HIToolbox+0x68d84]  __SendFilterTextEvent_WithCompletionHandler_block_invoke+0xe4\r\nC  [HIToolbox+0x68a80]  SendTSMEvent_WithCompletionHandler+0x208\r\nC  [HIToolbox+0x68830]  SendFilterTextEvent_WithCompletionHandler+0x104\r\nC  [HIToolbox+0x68458]  SendUnicodeTextAEToUnicodeDoc_WithCompletionHandler+0x128\r\nC  [HIToolbox+0x681e4]  __utDeliverTSMEvent_WithCompletionHandler_block_invoke_2+0x140\r\nC  [HIToolbox+0x67f68]  __utDeliverTSMEvent_WithCompletionHandler_block_invoke+0x11c\r\nC  [HIToolbox+0x67dec]  TSMKeyEvent_WithCompletionHandler+0x270\r\nC  [HIToolbox+0x67b6c]  __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_4+0x140\r\nC  [HIToolbox+0x6797c]  __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_3+0x15c\r\nC  [HIToolbox+0x6765c]  __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_2+0x138\r\nC  [HIToolbox+0x67368]  __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke+0x138\r\nC  [HIToolbox+0x54ea0]  TSMProcessRawKeyEventWithOptionsAndCompletionHandler+0x900\r\nC  [AppKit+0x940aa0]  __84-[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]_block_invoke_3.650+0x94\r\nC  [AppKit+0x94077c]  __204-[NSTextInputContext tryTSMProcessRawKeyEvent_orSubstitution:dispatchCondition:setupForDispatch:furtherCondition:doubleSpaceSubstitutionCondition:doubleSpaceSubstitutionWork:dispatchTSMWork:continuation:]_block_invoke.632+0xc0\r\nC  [AppKit+0x1e7c80]  -[NSTextInputContext tryTSMProcessRawKeyEvent_orSubstitution:dispatchCondition:setupForDispatch:furtherCondition:doubleSpaceSubstitutionCondition:doubleSpaceSubstitutionWork:dispatchTSMWork:continuation:]+0x150\r\nC  [AppKit+0x1e7694]  -[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]+0x588\r\nC  [AppKit+0x1e70cc]  -[NSTextInputContext _handleEvent:allowingSyntheticEvent:]+0x84\r\nC  [AppKit+0x1e6f24]  -[NSView interpretKeyEvents:]+0x9c\r\nC  [AppKit+0x1e6d78]  -[NSTextView keyDown:]+0x20c\r\nC  [AppKit+0x16755c]  -[NSWindow(NSEventRouting) _reallySendEvent:isDelayedEvent:]+0x142c\r\nC  [AppKit+0x165f5c]  -[NSWindow(NSEventRouting) sendEvent:]+0x11c\r\nC  [AppKit+0x5b0594]  -[NSMenuWindowManagerWindow _handleKeyEvent:]+0xac\r\nC  [AppKit+0x88c440]  NSMenuWindowManagerMenuItemCarbonEventHandler+0x134\r\nC  [HIToolbox+0xa944]  DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x444\r\nC  [HIToolbox+0x9dc4]  SendEventToEventTargetInternal(OpaqueEventRef*, OpaqueEventTargetRef*, HandlerCallRec*)+0x164\r\nC  [HIToolbox+0x9c54]  SendEventToEventTargetWithOptions+0x2c\r\nC  [HIToolbox+0x4a0c8]  ToolboxEventDispatcherHandler(OpaqueEventHandlerCallRef*, OpaqueEventRef*, void*)+0x4b8\r\nC  [HIToolbox+0xadec]  DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x8ec\r\nC  [HIToolbox+0x9dc4]  SendEventToEventTargetInternal(OpaqueEventRef*, OpaqueEventTargetRef*, HandlerCallRec*)+0x164\r\nC  [HIToolbox+0x1ffd4]  SendEventToEventTarget+0x28\r\nC  [HIToolbox+0x9a2c0]  IsUserStillTracking(MenuSelectData*, unsigned char*)+0x16b4\r\nC  [HIToolbox+0x1d6e5c]  TrackMenuCommon(MenuSelectData&amp;, unsigned char*, SelectionData*, MenuResult*, MenuResult*)+0x574\r\nC  [HIToolbox+0xa458c]  MenuSelectCore(MenuData*, Point, double, unsigned int, OpaqueMenuRef**, unsigned short*)+0x15c\r\nC  [HIToolbox+0xa4380]  _HandleMenuSelection2+0x1a0\r\nC  [AppKit+0x18c0f4]  _NSHandleCarbonMenuEvent+0x100\r\nC  [AppKit+0x18bf18]  _DPSEventHandledByCarbon+0x3c\r\nC  [AppKit+0x38db8]  -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:]+0x8d0\r\nC  [libosxapp.dylib+0x36e8]  -[NSApplicationAWT nextEventMatchingMask:untilDate:inMode:dequeue:]+0xf0\r\nC  [AppKit+0x2cbf0]  -[NSApplication run]+0x1d0\r\nC  [libosxapp.dylib+0x3440]  +[NSApplicationAWT runAWTLoopWithApp:]+0xd0\r\n...&lt;more frames&gt;...\r\n\r\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\nj  sun.lwawt.macosx.LWCToolkit.doAWTRunLoopImpl(JZZI)Z+0 java.desktop\r\nj  sun.lwawt.macosx.LWCToolkit.doAWTRunLoop(JZI)Z+6 java.desktop\r\nj  sun.lwawt.macosx.LWCToolkit.invokeAndWait(Ljava/lang/Runnable;Ljava/awt/Component;ZI)V+301 java.desktop\r\nj  jdk.internal.reflect.GeneratedMethodAccessor183.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+145 java.base@17.0.6\r\nJ 36866 c2 java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object; java.base@17.0.6 (65 bytes) @ 0x000000014916b04c [0x000000014916adc0+0x000000000000028c]\r\nj  com.intellij.ui.mac.screenmenu.Menu.invokeWithLWCToolkit(Ljava/lang/Runnable;Ljava/lang/Runnable;Ljava/awt/Component;)V+78\r\nj  com.intellij.ui.mac.screenmenu.Menu.invokeMenuClosing()V+45\r\nv  ~StubRoutines::call_stub\r\n\r\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 2 (SEGV_ACCERR), si_addr: 0x0000000000000000\r\n\r\nRegister to memory mapping:\r\n\r\n x0=0x0 is NULL\r\n x1=0x0 is NULL\r\n x2=0x0 is NULL\r\n x3=0x0000600003942c40 points into unknown readable memory: 0x0000e0244a9f2c40 | 40 2c 9f 4a 24 e0 00 00\r\n x4=0x0000000000000004 is an unknown value\r\n x5=0x0000000000000960 is an unknown value\r\n x6=0x000060000054bda0 points into unknown readable memory: 0x0000e024495fbda0 | a0 bd 5f 49 24 e0 00 00\r\n x7=0x000000016d7ab27c is pointing into the stack for thread: 0x000000011983ae00\r\n x8=0x9e51358191f80004 is an unknown value\r\n x9=0x9e51358191f80004 is an unknown value\r\nx10=0x0000000000000dc0 is an unknown value\r\nx11=0x00000000000007fb is an unknown value\r\nx12=0x00000000faa43036 is an unknown value\r\nx13=0x00000000000007fd is an unknown value\r\nx14=0x00000000fac43838 is an unknown value\r\nx15=0x00000000faa43036 is an unknown value\r\nx16=0x0000000000000038 is an unknown value\r\nx17=0x000000007ac00000 is an unknown value\r\nx18=0x0 is NULL\r\nx19=0x0 is NULL\r\nx20=0x0 is NULL\r\nx21=0x0 is NULL\r\nx22=0x000000016d7ab2e8 is pointing into the stack for thread: 0x000000011983ae00\r\nx23=0x0 is NULL\r\nx24=0x0000000000000001 is an unknown value\r\nx25=0x0000000000000001 is an unknown value\r\nx26=0x0000000379b12fc0 points into unknown readable memory: 0x00000001fd3fdb70 | 70 db 3f fd 01 00 00 00\r\nx27=0x0000000000010001 is an unknown value\r\nx28=0x0000000379b12fc0 points into unknown readable memory: 0x00000001fd3fdb70 | 70 db 3f fd 01 00 00 00\r\n\r\n\r\nRegisters:\r\n x0=0x0000000000000000  x1=0x0000000000000000  x2=0x0000000000000000  x3=0x0000600003942c40\r\n x4=0x0000000000000004  x5=0x0000000000000960  x6=0x000060000054bda0  x7=0x000000016d7ab27c\r\n x8=0x9e51358191f80004  x9=0x9e51358191f80004 x10=0x0000000000000dc0 x11=0x00000000000007fb\r\nx12=0x00000000faa43036 x13=0x00000000000007fd x14=0x00000000fac43838 x15=0x00000000faa43036\r\nx16=0x0000000000000038 x17=0x000000007ac00000 x18=0x0000000000000000 x19=0x0000000000000000\r\nx20=0x0000000000000000 x21=0x0000000000000000 x22=0x000000016d7ab2e8 x23=0x0000000000000000\r\nx24=0x0000000000000001 x25=0x0000000000000001 x26=0x0000000379b12fc0 x27=0x0000000000010001\r\nx28=0x0000000379b12fc0  fp=0x000000016d7ab2c0  lr=0x3d570001a96832e4  sp=0x000000016d7ab290\r\npc=0x00000001a9683664 cpsr=0x0000000060001000\r\nTop of Stack: (sp=0x000000016d7ab290)\r\n0x000000016d7ab290:   000000016d7ab2c0 1e620001a94f9e40\r\n0x000000016d7ab2a0:   000000016d7ab2e8 0000000000000000\r\n0x000000016d7ab2b0:   000000016d7b1f58 0000000000000000\r\n0x000000016d7ab2c0:   000000016d7ab350 3d570001a96832e4\r\n0x000000016d7ab2d0:   0000000379b12fc0 0000000000000000\r\n0x000000016d7ab2e0:   0000000000000000 0000600001194dc0\r\n0x000000016d7ab2f0:   0000000000000000 0000000379b12fc0\r\n0x000000016d7ab300:   0000000379b12fc0 0000000000010001\r\n0x000000016d7ab310:   0000000379b12fc0 0000000000000001\r\n0x000000016d7ab320:   0000000000000001 0000000379b12fc0\r\n0x000000016d7ab330:   000000011863f7c0 0000000000000022\r\n0x000000016d7ab340:   00000001f90cb000 0000000000000022\r\n0x000000016d7ab350:   000000016d7ab460 934e0001a95343bc\r\n0x000000016d7ab360:   0000000000000000 0000000000000000\r\n0x000000016d7ab370:   0000600000127840 0000000118745b00\r\n0x000000016d7ab380:   000000000000000b 000000006d61676e\r\n0x000000016d7ab390:   0000000000000000 0000000000000000\r\n0x000000016d7ab3a0:   0000000000000000 0000000000000000\r\n0x000000016d7ab3b0:   000000006d7ab410 000000011863f7c0\r\n0x000000016d7ab3c0:   0000000379b12fc0 0001000100000000\r\n0x000000016d7ab3d0:   0000000000000000 0000000000000000\r\n0x000000016d7ab3e0:   0000000000000000 0000000379b12fc0\r\n0x000000016d7ab3f0:   0000000300220000 0000000000000022\r\n0x000000016d7ab400:   0000000000000022 000000011863f7c0\r\n0x000000016d7ab410:   00000001fc425218 ffffffffffffffff\r\n0x000000016d7ab420:   0000600000127840 00000001fc2ffc30\r\n0x000000016d7ab430:   00000001fc2ffc30 00000001f90cb000\r\n0x000000016d7ab440:   000000011863f7c0 0000000379b12fc0\r\n0x000000016d7ab450:   0000000000000022 0000000000000000\r\n0x000000016d7ab460:   000000016d7ab4a0 d6348001a967f374\r\n0x000000016d7ab470:   00000001fc2ffc30 0000000000000040\r\n0x000000016d7ab480:   0000600000453600 000060000051d300 \r\n\r\nInstructions: (pc=0x00000001a9683664)\r\n0x00000001a9683564:   d503237f a9bd57f6 a9014ff4 a9027bfd\r\n0x00000001a9683574:   910083fd aa0103f3 aa0103e0 9403e43e\r\n0x00000001a9683584:   f100041f 5400014b aa0003f4 d2800015\r\n0x00000001a9683594:   aa1303e0 aa1503e1 9403e447 97f9be2e\r\n0x00000001a96835a4:   910006b5 eb15029f 54ffff41 aa1303e0\r\n0x00000001a96835b4:   a9427bfd a9414ff4 a8c357f6 d50323ff\r\n0x00000001a96835c4:   ca1e07d0 b6f00050 d4388e20 1403e6ee\r\n0x00000001a96835d4:   d503237f a9be4ff4 a9017bfd 910043fd\r\n0x00000001a96835e4:   d027d248 39645109 f027d234 37000249\r\n0x00000001a96835f4:   52800029 39245109 b027d228 f947fd00\r\n0x00000001a9683604:   94057447 aa0003f3 f029ec62 9108c042\r\n0x00000001a9683614:   94056d3b b4000100 f029ec62 9108c042\r\n0x00000001a9683624:   aa1303e0 9405698e f100041f 54000048\r\n0x00000001a9683634:   f9050280 f9450280 a9417bfd a8c24ff4\r\n0x00000001a9683644:   d65f0fff d503237f d10103ff a9024ff4\r\n0x00000001a9683654:   a9037bfd 9100c3fd aa0103f4 aa0003f3\r\n0x00000001a9683664:   f9400020 94000db7 f9000fe0 79401688\r\n0x00000001a9683674:   79002fe8 b4000640 f90007ff 2f00e400\r\n0x00000001a9683684:   910023e4 d2800000 528dcea1 72adaca1\r\n0x00000001a9683694:   52801922 52800003 97f8ba3c 35000500\r\n0x00000001a96836a4:   f94007e0 910063e4 5285a5a1 72a5a5a1\r\n0x00000001a96836b4:   528dcea2 72adaca2 52800103 97f8c53f\r\n0x00000001a96836c4:   f94007e0 91005be4 528cada1 72ad2e81\r\n0x00000001a96836d4:   528c8f02 72adad22 52800043 97f8c537\r\n0x00000001a96836e4:   f94007f4 f9400fe0 97f8e1f9 aa0003e1\r\n0x00000001a96836f4:   aa1403e0 97f9262d 350001e0 f8020e7f\r\n0x00000001a9683704:   f94007e0 528e4c81 72aeae61 528e8f22\r\n0x00000001a9683714:   72ac6cc2 d2800003 52800104 d2800005\r\n0x00000001a9683724:   aa1303e6 97f8c313 f9400260 b4000040\r\n0x00000001a9683734:   9403e699 f94007e0 97f8c6fe a9437bfd\r\n0x00000001a9683744:   a9424ff4 910103ff d65f0fff d503237f\r\n0x00000001a9683754:   a9be4ff4 a9017bfd 910043fd aa0103f3 \r\n\r\n\r\nStack slot to memory mapping:\r\nstack at sp + 0 slots: 0x000000016d7ab2c0 is pointing into the stack for thread: 0x000000011983ae00\r\nstack at sp + 1 slots: 0x1e620001a94f9e40: RemoveEventLoopTimer+0x78 in /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox at 0x00000001a94ad000\r\nstack at sp + 2 slots: 0x000000016d7ab2e8 is pointing into the stack for thread: 0x000000011983ae00\r\nstack at sp + 3 slots: 0x0 is NULL\r\nstack at sp + 4 slots: 0x000000016d7b1f58 is pointing into the stack for thread: 0x000000011983ae00\r\nstack at sp + 5 slots: 0x0 is NULL\r\nstack at sp + 6 slots: 0x000000016d7ab350 is pointing into the stack for thread: 0x000000011983ae00\r\nstack at sp + 7 slots: 0x3d570001a96832e4: _ZL31SelectItemAndRestoreAllMenuBitsR14MenuSelectDataP13SelectionDataP10MenuResultS4_+0x48c in /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox at 0x00000001a94ad000\r\n\r\n\r\n\r\n\r\ncom.intellij.diagnostic.JBRCrash\r\n```\r\nI can include my Pycharm and HTML code if it helps solving the matter.\r\nThank you!","title":"How to Troubleshoot the error :A fatal error has been detected by the Java Runtime Environment&quot;?","body":"<p>Hello everyone and thank you for reading.\nI have the following error while running my program and can't figure out what the solution would be. I also looked at all the topics with a similar error here, but could not resolve my issue. Here the error:</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00000001a9683664, pid=1214, tid=259\n#\n# JRE version: OpenJDK Runtime Environment JBR-17.0.6+10-829.5-jcef (17.0.6+10) (build 17.0.6+10-b829.5)\n# Java VM: OpenJDK 64-Bit Server VM JBR-17.0.6+10-829.5-jcef (17.0.6+10-b829.5, mixed mode, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-aarch64)\n# Problematic frame:\n# C  [HIToolbox+0x1d6664]  NotifyItemSelection(SelectionData*, MenuResult*)+0x1c\n</code></pre>\n<p>My program is a 100 days of code, Python Pro Bootcamp project where I'm working on creating a simple drop down menu where I rate the quality of a coffee shop and add it to a database of coffee shops to work from. My project has been crashing regularly. I'm not sure how to fix this.</p>\n<p>Here is the code, that I'm executing in Pycharm:</p>\n<p>Here the logfile of the error:</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00000001a9683664, pid=1214, tid=259\n#\n# JRE version: OpenJDK Runtime Environment JBR-17.0.6+10-829.5-jcef (17.0.6+10) (build 17.0.6+10-b829.5)\n# Java VM: OpenJDK 64-Bit Server VM JBR-17.0.6+10-829.5-jcef (17.0.6+10-b829.5, mixed mode, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-aarch64)\n# Problematic frame:\n# C  [HIToolbox+0x1d6664]  NotifyItemSelection(SelectionData*, MenuResult*)+0x1c\n#\n# No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n# If you would like to submit a bug report, please visit:\n#   https://youtrack.jetbrains.com/issues/JBR\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n\n---------------  S U M M A R Y ------------\n\nCommand Line: -XX:ErrorFile=/Users/carlosperalta/java_error_in_pycharm_%p.log -XX:HeapDumpPath=/Users/carlosperalta/java_error_in_pycharm.hprof -Xms128m -Xmx750m -XX:ReservedCodeCacheSize=512m -XX:+UseG1GC -XX:SoftRefLRUPolicyMSPerMB=50 -XX:CICompilerCount=2 -XX:+HeapDumpOnOutOfMemoryError -XX:-OmitStackTraceInFastThrow -XX:+IgnoreUnrecognizedVMOptions -XX:CompileCommand=exclude,com/intellij/openapi/vfs/impl/FilePartNodeRoot,trieDescend -ea -Dsun.io.useCanonCaches=false -Dsun.java2d.metal=true -Djbr.catch.SIGABRT=true -Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot; -Djdk.attach.allowAttachSelf=true -Djdk.module.illegalAccess.silent=true -Dkotlinx.coroutines.debug=off -Xmx1024m -Djb.vmOptionsFile=/Users/carlosperalta/Library/Application Support/JetBrains/PyCharmCE2023.1/pycharm.vmoptions --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.ref=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.nio.charset=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/jdk.internal.vm=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.fs=ALL-UNNAMED --add-opens=java.base/sun.security.ssl=ALL-UNNAMED --add-opens=java.base/sun.security.util=ALL-UNNAMED --add-opens=java.desktop/com.apple.eawt=ALL-UNNAMED --add-opens=java.desktop/com.apple.eawt.event=ALL-UNNAMED --add-opens=java.desktop/com.apple.laf=ALL-UNNAMED --add-opens=java.desktop/java.awt=ALL-UNNAMED --add-opens=java.desktop/java.awt.dnd.peer=ALL-UNNAMED --add-opens=java.desktop/java.awt.event=ALL-UNNAMED --add-opens=java.desktop/java.awt.image=ALL-UNNAMED --add-opens=java.desktop/java.awt.peer=ALL-UNNAMED --add-opens=java.desktop/java.awt.font=ALL-UNNAMED --add-opens=java.desktop/javax.swing=ALL-UNNAMED --add-opens=java.desktop/javax.swing.plaf.basic=ALL-UNNAMED --add-opens=java.desktop/javax.swing.text.html=ALL-UNNAMED --add-opens=java.desktop/sun.awt.datatransfer=ALL-UNNAMED --add-opens=java.desktop/sun.awt.image=ALL-UNNAMED --add-opens=java.desktop/sun.awt=ALL-UNNAMED --add-opens=java.desktop/sun.font=ALL-UNNAMED --add-opens=java.desktop/sun.java2d=ALL-UNNAMED --add-opens=java.desktop/sun.lwawt=ALL-UNNAMED --add-opens=java.desktop/sun.lwawt.macosx=ALL-UNNAMED --add-opens=java.desktop/sun.swing=ALL-UNNAMED --add-opens=jdk.attach/sun.tools.attach=ALL-UNNAMED --add-opens=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED --add-opens=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED --add-opens=jdk.jdi/com.sun.tools.jdi=ALL-UNNAMED -Djna.boot.library.path=/Applications/PyCharm CE.app/Contents/lib/jna/aarch64 -Dpty4j.preferred.native.folder=/Applications/PyCharm CE.app/Contents/lib/pty4j -Dsplash=true -Didea.home.path=/Applications/PyCharm CE.app/Contents -Didea.executable=pycharm -Djava.system.class.loader=com.intellij.util.lang.PathClassLoader -Djna.noclasspath=true -Djna.nosys=true -Didea.platform.prefix=PyCharmCore -Didea.paths.selector=PyCharmCE2023.1 -Didea.vendor.name=JetBrains \n\nHost: &quot;Mac14,7&quot; arm64, 8 cores, 8G, Darwin 22.1.0, macOS 13.0 (22A380)\nTime: Fri Apr 14 13:19:53 2023 EDT elapsed time: 165.014992 seconds (0d 0h 2m 45s)\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x000000011983ae00):  JavaThread &quot;AWT-AppKit&quot; daemon [_thread_in_native, id=259, stack(0x000000016cfb8000,0x000000016d7b4000)]\n\nStack: [0x000000016cfb8000,0x000000016d7b4000],  sp=0x000000016d7ab290,  free space=8140k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  [HIToolbox+0x1d6664]  NotifyItemSelection(SelectionData*, MenuResult*)+0x1c\nC  [HIToolbox+0x1d62e4]  SelectItemAndRestoreAllMenuBits(MenuSelectData&amp;, SelectionData*, MenuResult*, MenuResult*)+0x48c\nC  [HIToolbox+0x873bc]  SimulateSelection(unsigned char, unsigned char, OpaqueMenuRef**, unsigned short*, unsigned int*)+0x5fc\nC  [HIToolbox+0x1d2374]  SimulateMenuSelectionWithOptions(MenuData*, OpaqueMenuRef*, unsigned short, unsigned int, unsigned char)+0xd0\nC  [Shortcut+0xc698]  -[SCTMenuItemGRL perform]+0x130\nC  [Shortcut+0xc204]  -[SCTSearchManager doPerformResource:]+0x24\nC  [Foundation+0x7a090]  __NSFireDelayedPerform+0x174\nC  [CoreFoundation+0x9b578]  __CFRUNLOOP_IS_CALLING_OUT_TO_A_TIMER_CALLBACK_FUNCTION__+0x20\nC  [CoreFoundation+0x9b220]  __CFRunLoopDoTimer+0x3ac\nC  [CoreFoundation+0x9ad78]  __CFRunLoopDoTimers+0x164\nC  [CoreFoundation+0x80760]  __CFRunLoopRun+0x768\nC  [CoreFoundation+0x7f8a4]  CFRunLoopRunSpecific+0x264\nC  [HIToolbox+0x323bc]  RunCurrentEventLoopInMode+0x124\nC  [HIToolbox+0x3204c]  ReceiveNextEventCommon+0xec\nC  [HIToolbox+0x31f48]  _BlockUntilNextEventMatchingListInModeWithFilter+0x48\nC  [AppKit+0x39630]  _DPSNextEvent+0x278\nC  [AppKit+0x387c0]  -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:]+0x2d8\nC  [libosxapp.dylib+0x36e8]  -[NSApplicationAWT nextEventMatchingMask:untilDate:inMode:dequeue:]+0xf0\nC  [libawt_lwawt.dylib+0x86f60]  Java_sun_lwawt_macosx_LWCToolkit_doAWTRunLoopImpl+0x1e8\nj  sun.lwawt.macosx.LWCToolkit.doAWTRunLoopImpl(JZZI)Z+0 java.desktop\nj  sun.lwawt.macosx.LWCToolkit.doAWTRunLoop(JZI)Z+6 java.desktop\nj  sun.lwawt.macosx.LWCToolkit.invokeAndWait(Ljava/lang/Runnable;Ljava/awt/Component;ZI)V+301 java.desktop\nj  jdk.internal.reflect.GeneratedMethodAccessor183.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+145 java.base@17.0.6\nJ 36866 c2 java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object; java.base@17.0.6 (65 bytes) @ 0x000000014916b04c [0x000000014916adc0+0x000000000000028c]\nj  com.intellij.ui.mac.screenmenu.Menu.invokeWithLWCToolkit(Ljava/lang/Runnable;Ljava/lang/Runnable;Ljava/awt/Component;)V+78\nj  com.intellij.ui.mac.screenmenu.Menu.invokeMenuClosing()V+45\nv  ~StubRoutines::call_stub\nV  [libjvm.dylib+0x4583b0]  JavaCalls::call_helper(JavaValue*, methodHandle const&amp;, JavaCallArguments*, JavaThread*)+0x38c\nV  [libjvm.dylib+0x4b1634]  jni_invoke_nonstatic(JNIEnv_*, JavaValue*, _jobject*, JNICallType, _jmethodID*, JNI_ArgumentPusher*, JavaThread*)+0x31c\nV  [libjvm.dylib+0x4b5c8c]  jni_CallVoidMethod+0x138\nC  [libmacscreenmenu64.dylib+0x6f28]  -[Menu menuDidClose:]+0x138\nC  [AppKit+0x335908]  -[NSCarbonMenuImpl _carbonCloseEvent:handlerCallRef:]+0x58\nC  [AppKit+0x296dec]  NSSLMMenuEventHandler+0x390\nC  [HIToolbox+0xa944]  DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x444\nC  [HIToolbox+0x9dc4]  SendEventToEventTargetInternal(OpaqueEventRef*, OpaqueEventTargetRef*, HandlerCallRec*)+0x164\nC  [HIToolbox+0x9c54]  SendEventToEventTargetWithOptions+0x2c\nC  [HIToolbox+0x9e550]  SendMenuClosed(MenuData*, unsigned int, unsigned char)+0xd4\nC  [HIToolbox+0x9e304]  HideMenus(MenuSelectData*, __CFArray*)+0x80\nC  [HIToolbox+0x6f304]  CancelMenuTracking+0xd8\nC  [Shortcut+0xc02c]  -[SCTSearchManager hideSearchWindow]+0x28\nC  [Shortcut+0x9e50]  -[SCTSearchManager control:textView:doCommandBySelector:]+0x274\nC  [AppKit+0x29a708]  -[NSTextView doCommandBySelector:]+0x8c\nC  [AppKit+0x29a63c]  -[NSTextInputContext(NSInputContext_WithCompletion) doCommandBySelector:completionHandler:]+0xe4\nC  [AppKit+0x1e83dc]  -[NSKeyBindingManager(NSKeyBindingManager_MultiClients) interpretEventAsCommand:forClient:]+0x608\nC  [AppKit+0x1efd14]  __84-[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]_block_invoke_5+0x168\nC  [AppKit+0x940c8c]  __84-[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]_block_invoke_3.657+0x64\nC  [AppKit+0x1efb68]  -[NSTextInputContext tryHandleEvent_HasMarkedText_withDispatchCondition:dispatchWork:continuation:]+0x94\nC  [AppKit+0x940bec]  __84-[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]_block_invoke.654+0x13c\nC  [HIToolbox+0x6c58c]  __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_5+0x60\nC  [HIToolbox+0x7ceb8]  invocation function for block in DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x94\nC  [AppKit+0x93be88]  __55-[NSTextInputContext handleTSMEvent:completionHandler:]_block_invoke.180+0x244\nC  [AppKit+0x1ea294]  __55-[NSTextInputContext handleTSMEvent:completionHandler:]_block_invoke_2+0x64\nC  [AppKit+0x1ea1e0]  -[NSTextInputContext tryHandleTSMEvent_HasMarkedText_withDispatchCondition:dispatchWork:continuation:]+0x94\nC  [AppKit+0x1e9754]  -[NSTextInputContext handleTSMEvent:completionHandler:]+0x7ec\nC  [AppKit+0x1e8efc]  _NSTSMEventHandler+0x14c\nC  [HIToolbox+0xa944]  DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x444\nC  [HIToolbox+0x9dc4]  SendEventToEventTargetInternal(OpaqueEventRef*, OpaqueEventTargetRef*, HandlerCallRec*)+0x164\nC  [HIToolbox+0x9c54]  SendEventToEventTargetWithOptions+0x2c\nC  [HIToolbox+0x68a28]  SendTSMEvent_WithCompletionHandler+0x1b0\nC  [HIToolbox+0x68f78]  __SendUnicodeTextAEToUnicodeDoc_WithCompletionHandler_block_invoke+0x1c8\nC  [HIToolbox+0x68d84]  __SendFilterTextEvent_WithCompletionHandler_block_invoke+0xe4\nC  [HIToolbox+0x68a80]  SendTSMEvent_WithCompletionHandler+0x208\nC  [HIToolbox+0x68830]  SendFilterTextEvent_WithCompletionHandler+0x104\nC  [HIToolbox+0x68458]  SendUnicodeTextAEToUnicodeDoc_WithCompletionHandler+0x128\nC  [HIToolbox+0x681e4]  __utDeliverTSMEvent_WithCompletionHandler_block_invoke_2+0x140\nC  [HIToolbox+0x67f68]  __utDeliverTSMEvent_WithCompletionHandler_block_invoke+0x11c\nC  [HIToolbox+0x67dec]  TSMKeyEvent_WithCompletionHandler+0x270\nC  [HIToolbox+0x67b6c]  __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_4+0x140\nC  [HIToolbox+0x6797c]  __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_3+0x15c\nC  [HIToolbox+0x6765c]  __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_2+0x138\nC  [HIToolbox+0x67368]  __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke+0x138\nC  [HIToolbox+0x54ea0]  TSMProcessRawKeyEventWithOptionsAndCompletionHandler+0x900\nC  [AppKit+0x940aa0]  __84-[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]_block_invoke_3.650+0x94\nC  [AppKit+0x94077c]  __204-[NSTextInputContext tryTSMProcessRawKeyEvent_orSubstitution:dispatchCondition:setupForDispatch:furtherCondition:doubleSpaceSubstitutionCondition:doubleSpaceSubstitutionWork:dispatchTSMWork:continuation:]_block_invoke.632+0xc0\nC  [AppKit+0x1e7c80]  -[NSTextInputContext tryTSMProcessRawKeyEvent_orSubstitution:dispatchCondition:setupForDispatch:furtherCondition:doubleSpaceSubstitutionCondition:doubleSpaceSubstitutionWork:dispatchTSMWork:continuation:]+0x150\nC  [AppKit+0x1e7694]  -[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]+0x588\nC  [AppKit+0x1e70cc]  -[NSTextInputContext _handleEvent:allowingSyntheticEvent:]+0x84\nC  [AppKit+0x1e6f24]  -[NSView interpretKeyEvents:]+0x9c\nC  [AppKit+0x1e6d78]  -[NSTextView keyDown:]+0x20c\nC  [AppKit+0x16755c]  -[NSWindow(NSEventRouting) _reallySendEvent:isDelayedEvent:]+0x142c\nC  [AppKit+0x165f5c]  -[NSWindow(NSEventRouting) sendEvent:]+0x11c\nC  [AppKit+0x5b0594]  -[NSMenuWindowManagerWindow _handleKeyEvent:]+0xac\nC  [AppKit+0x88c440]  NSMenuWindowManagerMenuItemCarbonEventHandler+0x134\nC  [HIToolbox+0xa944]  DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x444\nC  [HIToolbox+0x9dc4]  SendEventToEventTargetInternal(OpaqueEventRef*, OpaqueEventTargetRef*, HandlerCallRec*)+0x164\nC  [HIToolbox+0x9c54]  SendEventToEventTargetWithOptions+0x2c\nC  [HIToolbox+0x4a0c8]  ToolboxEventDispatcherHandler(OpaqueEventHandlerCallRef*, OpaqueEventRef*, void*)+0x4b8\nC  [HIToolbox+0xadec]  DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x8ec\nC  [HIToolbox+0x9dc4]  SendEventToEventTargetInternal(OpaqueEventRef*, OpaqueEventTargetRef*, HandlerCallRec*)+0x164\nC  [HIToolbox+0x1ffd4]  SendEventToEventTarget+0x28\nC  [HIToolbox+0x9a2c0]  IsUserStillTracking(MenuSelectData*, unsigned char*)+0x16b4\nC  [HIToolbox+0x1d6e5c]  TrackMenuCommon(MenuSelectData&amp;, unsigned char*, SelectionData*, MenuResult*, MenuResult*)+0x574\nC  [HIToolbox+0xa458c]  MenuSelectCore(MenuData*, Point, double, unsigned int, OpaqueMenuRef**, unsigned short*)+0x15c\nC  [HIToolbox+0xa4380]  _HandleMenuSelection2+0x1a0\nC  [AppKit+0x18c0f4]  _NSHandleCarbonMenuEvent+0x100\nC  [AppKit+0x18bf18]  _DPSEventHandledByCarbon+0x3c\nC  [AppKit+0x38db8]  -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:]+0x8d0\nC  [libosxapp.dylib+0x36e8]  -[NSApplicationAWT nextEventMatchingMask:untilDate:inMode:dequeue:]+0xf0\nC  [AppKit+0x2cbf0]  -[NSApplication run]+0x1d0\nC  [libosxapp.dylib+0x3440]  +[NSApplicationAWT runAWTLoopWithApp:]+0xd0\n...&lt;more frames&gt;...\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  sun.lwawt.macosx.LWCToolkit.doAWTRunLoopImpl(JZZI)Z+0 java.desktop\nj  sun.lwawt.macosx.LWCToolkit.doAWTRunLoop(JZI)Z+6 java.desktop\nj  sun.lwawt.macosx.LWCToolkit.invokeAndWait(Ljava/lang/Runnable;Ljava/awt/Component;ZI)V+301 java.desktop\nj  jdk.internal.reflect.GeneratedMethodAccessor183.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+145 java.base@17.0.6\nJ 36866 c2 java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object; java.base@17.0.6 (65 bytes) @ 0x000000014916b04c [0x000000014916adc0+0x000000000000028c]\nj  com.intellij.ui.mac.screenmenu.Menu.invokeWithLWCToolkit(Ljava/lang/Runnable;Ljava/lang/Runnable;Ljava/awt/Component;)V+78\nj  com.intellij.ui.mac.screenmenu.Menu.invokeMenuClosing()V+45\nv  ~StubRoutines::call_stub\n\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 2 (SEGV_ACCERR), si_addr: 0x0000000000000000\n\nRegister to memory mapping:\n\n x0=0x0 is NULL\n x1=0x0 is NULL\n x2=0x0 is NULL\n x3=0x0000600003942c40 points into unknown readable memory: 0x0000e0244a9f2c40 | 40 2c 9f 4a 24 e0 00 00\n x4=0x0000000000000004 is an unknown value\n x5=0x0000000000000960 is an unknown value\n x6=0x000060000054bda0 points into unknown readable memory: 0x0000e024495fbda0 | a0 bd 5f 49 24 e0 00 00\n x7=0x000000016d7ab27c is pointing into the stack for thread: 0x000000011983ae00\n x8=0x9e51358191f80004 is an unknown value\n x9=0x9e51358191f80004 is an unknown value\nx10=0x0000000000000dc0 is an unknown value\nx11=0x00000000000007fb is an unknown value\nx12=0x00000000faa43036 is an unknown value\nx13=0x00000000000007fd is an unknown value\nx14=0x00000000fac43838 is an unknown value\nx15=0x00000000faa43036 is an unknown value\nx16=0x0000000000000038 is an unknown value\nx17=0x000000007ac00000 is an unknown value\nx18=0x0 is NULL\nx19=0x0 is NULL\nx20=0x0 is NULL\nx21=0x0 is NULL\nx22=0x000000016d7ab2e8 is pointing into the stack for thread: 0x000000011983ae00\nx23=0x0 is NULL\nx24=0x0000000000000001 is an unknown value\nx25=0x0000000000000001 is an unknown value\nx26=0x0000000379b12fc0 points into unknown readable memory: 0x00000001fd3fdb70 | 70 db 3f fd 01 00 00 00\nx27=0x0000000000010001 is an unknown value\nx28=0x0000000379b12fc0 points into unknown readable memory: 0x00000001fd3fdb70 | 70 db 3f fd 01 00 00 00\n\n\nRegisters:\n x0=0x0000000000000000  x1=0x0000000000000000  x2=0x0000000000000000  x3=0x0000600003942c40\n x4=0x0000000000000004  x5=0x0000000000000960  x6=0x000060000054bda0  x7=0x000000016d7ab27c\n x8=0x9e51358191f80004  x9=0x9e51358191f80004 x10=0x0000000000000dc0 x11=0x00000000000007fb\nx12=0x00000000faa43036 x13=0x00000000000007fd x14=0x00000000fac43838 x15=0x00000000faa43036\nx16=0x0000000000000038 x17=0x000000007ac00000 x18=0x0000000000000000 x19=0x0000000000000000\nx20=0x0000000000000000 x21=0x0000000000000000 x22=0x000000016d7ab2e8 x23=0x0000000000000000\nx24=0x0000000000000001 x25=0x0000000000000001 x26=0x0000000379b12fc0 x27=0x0000000000010001\nx28=0x0000000379b12fc0  fp=0x000000016d7ab2c0  lr=0x3d570001a96832e4  sp=0x000000016d7ab290\npc=0x00000001a9683664 cpsr=0x0000000060001000\nTop of Stack: (sp=0x000000016d7ab290)\n0x000000016d7ab290:   000000016d7ab2c0 1e620001a94f9e40\n0x000000016d7ab2a0:   000000016d7ab2e8 0000000000000000\n0x000000016d7ab2b0:   000000016d7b1f58 0000000000000000\n0x000000016d7ab2c0:   000000016d7ab350 3d570001a96832e4\n0x000000016d7ab2d0:   0000000379b12fc0 0000000000000000\n0x000000016d7ab2e0:   0000000000000000 0000600001194dc0\n0x000000016d7ab2f0:   0000000000000000 0000000379b12fc0\n0x000000016d7ab300:   0000000379b12fc0 0000000000010001\n0x000000016d7ab310:   0000000379b12fc0 0000000000000001\n0x000000016d7ab320:   0000000000000001 0000000379b12fc0\n0x000000016d7ab330:   000000011863f7c0 0000000000000022\n0x000000016d7ab340:   00000001f90cb000 0000000000000022\n0x000000016d7ab350:   000000016d7ab460 934e0001a95343bc\n0x000000016d7ab360:   0000000000000000 0000000000000000\n0x000000016d7ab370:   0000600000127840 0000000118745b00\n0x000000016d7ab380:   000000000000000b 000000006d61676e\n0x000000016d7ab390:   0000000000000000 0000000000000000\n0x000000016d7ab3a0:   0000000000000000 0000000000000000\n0x000000016d7ab3b0:   000000006d7ab410 000000011863f7c0\n0x000000016d7ab3c0:   0000000379b12fc0 0001000100000000\n0x000000016d7ab3d0:   0000000000000000 0000000000000000\n0x000000016d7ab3e0:   0000000000000000 0000000379b12fc0\n0x000000016d7ab3f0:   0000000300220000 0000000000000022\n0x000000016d7ab400:   0000000000000022 000000011863f7c0\n0x000000016d7ab410:   00000001fc425218 ffffffffffffffff\n0x000000016d7ab420:   0000600000127840 00000001fc2ffc30\n0x000000016d7ab430:   00000001fc2ffc30 00000001f90cb000\n0x000000016d7ab440:   000000011863f7c0 0000000379b12fc0\n0x000000016d7ab450:   0000000000000022 0000000000000000\n0x000000016d7ab460:   000000016d7ab4a0 d6348001a967f374\n0x000000016d7ab470:   00000001fc2ffc30 0000000000000040\n0x000000016d7ab480:   0000600000453600 000060000051d300 \n\nInstructions: (pc=0x00000001a9683664)\n0x00000001a9683564:   d503237f a9bd57f6 a9014ff4 a9027bfd\n0x00000001a9683574:   910083fd aa0103f3 aa0103e0 9403e43e\n0x00000001a9683584:   f100041f 5400014b aa0003f4 d2800015\n0x00000001a9683594:   aa1303e0 aa1503e1 9403e447 97f9be2e\n0x00000001a96835a4:   910006b5 eb15029f 54ffff41 aa1303e0\n0x00000001a96835b4:   a9427bfd a9414ff4 a8c357f6 d50323ff\n0x00000001a96835c4:   ca1e07d0 b6f00050 d4388e20 1403e6ee\n0x00000001a96835d4:   d503237f a9be4ff4 a9017bfd 910043fd\n0x00000001a96835e4:   d027d248 39645109 f027d234 37000249\n0x00000001a96835f4:   52800029 39245109 b027d228 f947fd00\n0x00000001a9683604:   94057447 aa0003f3 f029ec62 9108c042\n0x00000001a9683614:   94056d3b b4000100 f029ec62 9108c042\n0x00000001a9683624:   aa1303e0 9405698e f100041f 54000048\n0x00000001a9683634:   f9050280 f9450280 a9417bfd a8c24ff4\n0x00000001a9683644:   d65f0fff d503237f d10103ff a9024ff4\n0x00000001a9683654:   a9037bfd 9100c3fd aa0103f4 aa0003f3\n0x00000001a9683664:   f9400020 94000db7 f9000fe0 79401688\n0x00000001a9683674:   79002fe8 b4000640 f90007ff 2f00e400\n0x00000001a9683684:   910023e4 d2800000 528dcea1 72adaca1\n0x00000001a9683694:   52801922 52800003 97f8ba3c 35000500\n0x00000001a96836a4:   f94007e0 910063e4 5285a5a1 72a5a5a1\n0x00000001a96836b4:   528dcea2 72adaca2 52800103 97f8c53f\n0x00000001a96836c4:   f94007e0 91005be4 528cada1 72ad2e81\n0x00000001a96836d4:   528c8f02 72adad22 52800043 97f8c537\n0x00000001a96836e4:   f94007f4 f9400fe0 97f8e1f9 aa0003e1\n0x00000001a96836f4:   aa1403e0 97f9262d 350001e0 f8020e7f\n0x00000001a9683704:   f94007e0 528e4c81 72aeae61 528e8f22\n0x00000001a9683714:   72ac6cc2 d2800003 52800104 d2800005\n0x00000001a9683724:   aa1303e6 97f8c313 f9400260 b4000040\n0x00000001a9683734:   9403e699 f94007e0 97f8c6fe a9437bfd\n0x00000001a9683744:   a9424ff4 910103ff d65f0fff d503237f\n0x00000001a9683754:   a9be4ff4 a9017bfd 910043fd aa0103f3 \n\n\nStack slot to memory mapping:\nstack at sp + 0 slots: 0x000000016d7ab2c0 is pointing into the stack for thread: 0x000000011983ae00\nstack at sp + 1 slots: 0x1e620001a94f9e40: RemoveEventLoopTimer+0x78 in /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox at 0x00000001a94ad000\nstack at sp + 2 slots: 0x000000016d7ab2e8 is pointing into the stack for thread: 0x000000011983ae00\nstack at sp + 3 slots: 0x0 is NULL\nstack at sp + 4 slots: 0x000000016d7b1f58 is pointing into the stack for thread: 0x000000011983ae00\nstack at sp + 5 slots: 0x0 is NULL\nstack at sp + 6 slots: 0x000000016d7ab350 is pointing into the stack for thread: 0x000000011983ae00\nstack at sp + 7 slots: 0x3d570001a96832e4: _ZL31SelectItemAndRestoreAllMenuBitsR14MenuSelectDataP13SelectionDataP10MenuResultS4_+0x48c in /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox at 0x00000001a94ad000\n\n\n\n\ncom.intellij.diagnostic.JBRCrash\n</code></pre>\n<p>I can include my Pycharm and HTML code if it helps solving the matter.\nThank you!</p>\n"},{"tags":["java","logging","aop","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1681543379,"post_id":76017616,"comment_id":134076279,"body_markdown":"Welcome to SO. Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you. In this case, the question also suffers from the [XY problem](https://meta.stackexchange.com/a/66378/309898). You are describing how you want to solve a problem technically, instead of describing which problem you want to solve, unnecessarily narrowing the scope of possible answers. What you seem to want to do, sounds wrong, but with this unclear description I have no way to be sure.","body":"Welcome to SO. Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you. In this case, the question also suffers from the <a href=\"https://meta.stackexchange.com/a/66378/309898\">XY problem</a>. You are describing how you want to solve a problem technically, instead of describing which problem you want to solve, unnecessarily narrowing the scope of possible answers. What you seem to want to do, sounds wrong, but with this unclear description I have no way to be sure."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681558574,"post_id":76017616,"comment_id":134077933,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":20949911,"reputation":1,"user_id":15391834,"display_name":"Shahnawaz Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681493125,"creation_date":1681493125,"question_id":76017616,"body_markdown":"Basically, I want to create a .java file which can take as input the path to the .class file and name of methods to be logged. Using the aspectJ, we should save the weaved .class file having logs. Is it doable using AspectJ without using ajc on terminal?\r\n\r\nI tried to a way and the best I got was to use *org.aspectj.tools.ajc.Main*. But it requires aspect path as argument which needs to be fixed. I wanted to find a way to change the contents of the .aj file dynamically during runtime of my program and then use it to weave into the provided .class file.","title":"Can we use AspectJ API to weave a .class file by a .aj file at runtime?","body":"<p>Basically, I want to create a .java file which can take as input the path to the .class file and name of methods to be logged. Using the aspectJ, we should save the weaved .class file having logs. Is it doable using AspectJ without using ajc on terminal?</p>\n<p>I tried to a way and the best I got was to use <em>org.aspectj.tools.ajc.Main</em>. But it requires aspect path as argument which needs to be fixed. I wanted to find a way to change the contents of the .aj file dynamically during runtime of my program and then use it to weave into the provided .class file.</p>\n"},{"tags":["java","spring-boot","logging","jboss","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1681330810,"post_id":75998950,"comment_id":134041036,"body_markdown":"It sounds like Spring Boot is doing something to change the log level. If I recall correctly there is some dependency that needs to be excluded because it modifies the log manager.","body":"It sounds like Spring Boot is doing something to change the log level. If I recall correctly there is some dependency that needs to be excluded because it modifies the log manager."},{"owner":{"account_id":2015750,"reputation":493,"user_id":1803097,"accept_rate":92,"display_name":"Victor Bello"},"score":0,"creation_date":1681331892,"post_id":75998950,"comment_id":134041256,"body_markdown":"Dependency related to log? Because I remove all of them from my app. Log4j, slf4, logback, and it still happen.","body":"Dependency related to log? Because I remove all of them from my app. Log4j, slf4, logback, and it still happen."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1681347238,"post_id":75998950,"comment_id":134043292,"body_markdown":"Sorry, no. I mean an exclusion from the Spring Boot dependencies. If you include it in the WAR, then it alters the log manager. I just don&#39;t recall which dependency it is.","body":"Sorry, no. I mean an exclusion from the Spring Boot dependencies. If you include it in the WAR, then it alters the log manager. I just don&#39;t recall which dependency it is."},{"owner":{"account_id":2015750,"reputation":493,"user_id":1803097,"accept_rate":92,"display_name":"Victor Bello"},"score":0,"creation_date":1681398851,"post_id":75998950,"comment_id":134053202,"body_markdown":"yes yes, I got it, I was just wondering if would be a dependency related specify with logs or something else... I`ll search for it","body":"yes yes, I got it, I was just wondering if would be a dependency related specify with logs or something else... I`ll search for it"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1681417149,"post_id":75998950,"comment_id":134057315,"body_markdown":"I think it&#39;s `org.slf4j:jul-to-slf4j`. If you see that in your `mvn dependency:tree` it would need to be excluded from your WAR.","body":"I think it&#39;s <code>org.slf4j:jul-to-slf4j</code>. If you see that in your <code>mvn dependency:tree</code> it would need to be excluded from your WAR."}],"answers":[{"tags":[],"owner":{"account_id":2015750,"reputation":493,"user_id":1803097,"accept_rate":92,"display_name":"Victor Bello"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681492454,"creation_date":1681492454,"answer_id":76017533,"question_id":75998950,"body_markdown":"After 2 days, tested with 2 springboot applications and got it working. \r\n\r\nI didn&#39;t need to change the pom file, it was already excluding &quot;spring-boot-starter-logging&quot; lib. \r\n\r\nTo get it working just need to add inside &quot;src/main/resources/&quot; the file &quot;logging.properties&quot; as follows:\r\n\r\n```\r\n# Define default log level to OFF\r\n.level=OFF\r\n# deactivate org.springframework package logs\r\norg.springframework.level=OFF\r\n```","title":"Wildfly change log level runtime stop working when deploy springboot application","body":"<p>After 2 days, tested with 2 springboot applications and got it working.</p>\n<p>I didn't need to change the pom file, it was already excluding &quot;spring-boot-starter-logging&quot; lib.</p>\n<p>To get it working just need to add inside &quot;src/main/resources/&quot; the file &quot;logging.properties&quot; as follows:</p>\n<pre><code># Define default log level to OFF\n.level=OFF\n# deactivate org.springframework package logs\norg.springframework.level=OFF\n</code></pre>\n"}],"owner":{"account_id":2015750,"reputation":493,"user_id":1803097,"accept_rate":92,"display_name":"Victor Bello"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76017533,"answer_count":1,"score":0,"last_activity_date":1681492454,"creation_date":1681326119,"question_id":75998950,"body_markdown":"I&#39;m using Wildfly 24.0.1 and have a lot of applications running in the same server-group, normal war applications and changing log level using wildfly console work as expected. When I access the wildfly console =&gt; configuration =&gt; profiles =&gt; logging =&gt; categories and change any time and it works. However, when I deploy a SpringBoot application and try to change any application log level it updates de configuration, but keeps logging the last configuration, for example: It was logging INFO level, I deploy springboot application and then change the log level to ERROR. It keeps logging INFO level.\r\n\r\nI tried removing all log libs from my springboot application, change jboss-structure-file, even update springboot version, but nothing works. \r\n\r\nFollowing my springboot pom file:\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;group.id&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;project-name&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t&lt;name&gt;project-name&lt;/name&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;description&gt;&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;!-- Compatibility Wildfly (OVERRIDE SPRINGBOOT) --&gt;\r\n\t\t&lt;classmate.version&gt;1.4.0&lt;/classmate.version&gt;\r\n\t\t&lt;jackson-bom.version&gt;2.9.9.20190807&lt;/jackson-bom.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.10.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-rabbit-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- OUTRAS DEPENDENCIAS --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.reflections&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reflections&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.10.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;profiles&gt;\r\n\t\t\t\t\t\t&lt;profile&gt;dev&lt;/profile&gt;\r\n\t\t\t\t\t\t&lt;profile&gt;prod&lt;/profile&gt;\r\n\t\t\t\t\t&lt;/profiles&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;dev&lt;/id&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;spring.profiles.active&gt;dev&lt;/spring.profiles.active&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;prod&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;spring.profiles.active&gt;prod&lt;/spring.profiles.active&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t\t&lt;!-- &lt;DEPENDENCIES&gt; required to work with wildfly --&gt;\r\n\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t\t&lt;/exclusions&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;/dependencies&gt;\r\n\r\n\t\t&lt;/profile&gt;\r\n\t&lt;/profiles&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\njboss-deployment-structure.xml \r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;jboss-deployment-structure\r\n\txmlns=&quot;urn:jboss:deployment-structure:1.1&quot;&gt;\r\n\t&lt;deployment&gt;\r\n\t&lt;/deployment&gt;\r\n&lt;/jboss-deployment-structure&gt;\r\n```\r\n\r\n\r\nThe project works, starts, even logs correct, but if I try to update log level at runtime it doesn&#39;t work.\r\n","title":"Wildfly change log level runtime stop working when deploy springboot application","body":"<p>I'm using Wildfly 24.0.1 and have a lot of applications running in the same server-group, normal war applications and changing log level using wildfly console work as expected. When I access the wildfly console =&gt; configuration =&gt; profiles =&gt; logging =&gt; categories and change any time and it works. However, when I deploy a SpringBoot application and try to change any application log level it updates de configuration, but keeps logging the last configuration, for example: It was logging INFO level, I deploy springboot application and then change the log level to ERROR. It keeps logging INFO level.</p>\n<p>I tried removing all log libs from my springboot application, change jboss-structure-file, even update springboot version, but nothing works.</p>\n<p>Following my springboot pom file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;group.id&lt;/groupId&gt;\n    &lt;artifactId&gt;project-name&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;name&gt;project-name&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;description&gt;&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;!-- Compatibility Wildfly (OVERRIDE SPRINGBOOT) --&gt;\n        &lt;classmate.version&gt;1.4.0&lt;/classmate.version&gt;\n        &lt;jackson-bom.version&gt;2.9.9.20190807&lt;/jackson-bom.version&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.10.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-rabbit-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- OUTRAS DEPENDENCIAS --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.reflections&lt;/groupId&gt;\n            &lt;artifactId&gt;reflections&lt;/artifactId&gt;\n            &lt;version&gt;0.10.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;profiles&gt;\n                        &lt;profile&gt;dev&lt;/profile&gt;\n                        &lt;profile&gt;prod&lt;/profile&gt;\n                    &lt;/profiles&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;dev&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;spring.profiles.active&gt;dev&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;prod&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;spring.profiles.active&gt;prod&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n            &lt;!-- &lt;DEPENDENCIES&gt; required to work with wildfly --&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n                    &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>jboss-deployment-structure.xml</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;jboss-deployment-structure\n    xmlns=&quot;urn:jboss:deployment-structure:1.1&quot;&gt;\n    &lt;deployment&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n<p>The project works, starts, even logs correct, but if I try to update log level at runtime it doesn't work.</p>\n"},{"tags":["java","spring","hibernate","aspectj","spring-aop"],"owner":{"account_id":19342848,"reputation":1,"user_id":21644546,"display_name":"kiran 05"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681543644,"answer_count":0,"score":0,"last_activity_date":1681492132,"creation_date":1681492132,"question_id":76017490,"body_markdown":"I have a java EE , spring application that uses Hibernate 3. I want to calculate the execution time of queries, so I am trying to intercept hibernation session and query methods to calculate the execution time. \r\n\r\nI have added spring-aop and aspectjweaver jars to my project \r\nThis is where I am excuting hibernate session and query methods\r\n\r\n\r\n```\r\n@Repository\r\npublic abstract class PlatformHibernateDaoSupport {\r\n\r\n\tprivate SessionFactory sessionFactory;\r\n\r\n\tpublic void setSessionFactory(SessionFactory sessionFactory) {\r\n\t\tthis.sessionFactory = sessionFactory;\r\n\t}\r\n\t\r\n\tpublic SessionFactory getSessionFactory(){\r\n\t\treturn this.sessionFactory;\r\n\t}\r\n\t\r\n\tpublic Session getSession(){\r\n\t\treturn this.sessionFactory.getCurrentSession();\r\n\t}\r\n\r\npublic Serializable hibernateSave(Object object){\r\n\t\treturn getSession().save(object);\r\n\t}\r\n\r\npublic Serializable saveEntity(String entityName, Object object){\r\n\t\treturn getSession().save(entityName, object);\r\n\t}\r\n\t\r\n\t\r\n\tpublic void hibernateSaveOrUpdate(Object object){\r\n\t\tgetSession().saveOrUpdate(object);\r\n\t}\r\n\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic &lt;T&gt; List&lt;T&gt; find(String hql, Class&lt;T&gt; clazz){\t\r\n\t\tQuery query = getSession().createQuery(hql);\t\t\r\n\t\treturn (List&lt;T&gt;)query.list();\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n\r\nAnd this is the aspect \r\n\r\n```\r\npublic class HibernateQueryExecutionTimeListener {\r\n\r\n\r\n    public Object find(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        long startTime = System.currentTimeMillis();\r\n        Object result = joinPoint.proceed();\r\n        long elapsedTime = System.currentTimeMillis() - startTime;\r\n        String method = joinPoint.getSignature().getName();\r\n        System.out.println(&quot;MethodName&quot; + method + &quot;, executed in &quot; + elapsedTime + &quot; ms: &quot; );\r\n        return result;\r\n    }\r\n\r\n\r\n    public Object save(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        long startTime = System.currentTimeMillis();\r\n        Object result = joinPoint.proceed();\r\n        long elapsedTime = System.currentTimeMillis() - startTime;\r\n        String method = joinPoint.getSignature().getName();\r\n        System.out.println(&quot;MethodName&quot; + method + &quot;, executed in &quot; + elapsedTime + &quot; ms: &quot; );\r\n        return result;\r\n    }\r\n\r\n\r\n    public Object saveOrUpdate(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        long startTime = System.currentTimeMillis();\r\n        Object result = joinPoint.proceed();\r\n        long elapsedTime = System.currentTimeMillis() - startTime;\r\n        String method = joinPoint.getSignature().getName();\r\n        System.out.println(&quot;MethodName&quot; + method + &quot;, executed in &quot; + elapsedTime + &quot; ms: &quot; );\r\n        return result;\r\n    }\r\n\r\n\r\n    public Object load(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        long startTime = System.currentTimeMillis();\r\n        Object result = joinPoint.proceed();\r\n        long elapsedTime = System.currentTimeMillis() - startTime;\r\n        String method = joinPoint.getSignature().getName();\r\n        System.out.println(&quot;MethodName&quot; + method + &quot;, executed in &quot; + elapsedTime + &quot; ms: &quot; );\r\n        return result;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nAnd this are the configuration\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\nhttp://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd&quot;&gt;\r\n\r\n    &lt;!-- Hibernate SessionFactory --&gt;\r\n    &lt;bean id=&quot;mySessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;\r\n            &lt;ref bean=&quot;myDataSource&quot;/&gt;\r\n        &lt;/property&gt;\r\n\r\n&lt;property name=&quot;mappingResources&quot;&gt;\r\n        \t&lt;list&gt;\r\n        \t\t\t\t&lt;value&gt;com/javaEE/deliver/api/model/Customer.hbm.xml&lt;/value&gt;\r\n        \t\t\t\t\r\n\t\t&lt;/list&gt;\r\n        &lt;/property&gt;\r\n\r\n&lt;aop:aspectj-autoproxy /&gt;\r\n\r\n\r\n     &lt;bean id=&quot;hibernateQueryExecutionTimeListener&quot; class=&quot;com.isa.javaEE.deliver.core.HibernateQueryExecutionTimeListener&quot; /&gt;\r\n\r\n      &lt;aop:config&gt;\r\n        &lt;aop:aspect id=&quot;hibernateaspect&quot; ref=&quot;hibernateQueryExecutionTimeListener&quot; &gt;\r\n           &lt;aop:pointcut id=&quot;queryListAround&quot;   expression=&quot;execution(* org.hibernate.Query.list(..))&quot; /&gt;\r\n           &lt;aop:around method=&quot;find&quot; pointcut-ref=&quot;queryListAround&quot; /&gt;\r\n\r\n           &lt;aop:pointcut id=&quot;saveAround&quot;   expression=&quot;execution(* org.hibernate.Session.save(..))&quot; /&gt;\r\n           &lt;aop:around method=&quot;save&quot; pointcut-ref=&quot;saveAround&quot; /&gt;\r\n\r\n           &lt;aop:pointcut id=&quot;saveOrUpdateAround&quot;   expression=&quot;execution(* org.hibernate.Session.saveOrUpdate(..))&quot; /&gt;\r\n           &lt;aop:around method=&quot;saveOrUpdate&quot; pointcut-ref=&quot;saveOrUpdateAround&quot; /&gt;\r\n\r\n           &lt;aop:pointcut id=&quot;loadAround&quot;   expression=&quot;execution(* org.hibernate.Session.load(..))&quot; /&gt;\r\n           &lt;aop:around method=&quot;load&quot; pointcut-ref=&quot;loadAround&quot; /&gt;\r\n\r\n        &lt;/aop:aspect&gt;\r\n      &lt;/aop:config&gt;\r\n\r\n    &lt;/bean&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\n\r\n\r\nAnd my problem is that this advices are never invoked at all, neither the logs are printing.So, I am not sure where to go next. How can I get a hold of Hibernate&#39;s Session object from my advice such that I can enable Hibernate filters? Thank you in advance!\r\n\r\nI tired changing the aop configurations and all, but I couldn&#39;t figure it out. I don&#39;t know if I even need to configure that anyways.","title":"Configuring Hibernate session methods with Spring AOP","body":"<p>I have a java EE , spring application that uses Hibernate 3. I want to calculate the execution time of queries, so I am trying to intercept hibernation session and query methods to calculate the execution time.</p>\n<p>I have added spring-aop and aspectjweaver jars to my project\nThis is where I am excuting hibernate session and query methods</p>\n<pre><code>@Repository\npublic abstract class PlatformHibernateDaoSupport {\n\n    private SessionFactory sessionFactory;\n\n    public void setSessionFactory(SessionFactory sessionFactory) {\n        this.sessionFactory = sessionFactory;\n    }\n    \n    public SessionFactory getSessionFactory(){\n        return this.sessionFactory;\n    }\n    \n    public Session getSession(){\n        return this.sessionFactory.getCurrentSession();\n    }\n\npublic Serializable hibernateSave(Object object){\n        return getSession().save(object);\n    }\n\npublic Serializable saveEntity(String entityName, Object object){\n        return getSession().save(entityName, object);\n    }\n    \n    \n    public void hibernateSaveOrUpdate(Object object){\n        getSession().saveOrUpdate(object);\n    }\n\n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    public &lt;T&gt; List&lt;T&gt; find(String hql, Class&lt;T&gt; clazz){    \n        Query query = getSession().createQuery(hql);        \n        return (List&lt;T&gt;)query.list();\n    }\n    \n}\n</code></pre>\n<p>And this is the aspect</p>\n<pre><code>public class HibernateQueryExecutionTimeListener {\n\n\n    public Object find(ProceedingJoinPoint joinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object result = joinPoint.proceed();\n        long elapsedTime = System.currentTimeMillis() - startTime;\n        String method = joinPoint.getSignature().getName();\n        System.out.println(&quot;MethodName&quot; + method + &quot;, executed in &quot; + elapsedTime + &quot; ms: &quot; );\n        return result;\n    }\n\n\n    public Object save(ProceedingJoinPoint joinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object result = joinPoint.proceed();\n        long elapsedTime = System.currentTimeMillis() - startTime;\n        String method = joinPoint.getSignature().getName();\n        System.out.println(&quot;MethodName&quot; + method + &quot;, executed in &quot; + elapsedTime + &quot; ms: &quot; );\n        return result;\n    }\n\n\n    public Object saveOrUpdate(ProceedingJoinPoint joinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object result = joinPoint.proceed();\n        long elapsedTime = System.currentTimeMillis() - startTime;\n        String method = joinPoint.getSignature().getName();\n        System.out.println(&quot;MethodName&quot; + method + &quot;, executed in &quot; + elapsedTime + &quot; ms: &quot; );\n        return result;\n    }\n\n\n    public Object load(ProceedingJoinPoint joinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object result = joinPoint.proceed();\n        long elapsedTime = System.currentTimeMillis() - startTime;\n        String method = joinPoint.getSignature().getName();\n        System.out.println(&quot;MethodName&quot; + method + &quot;, executed in &quot; + elapsedTime + &quot; ms: &quot; );\n        return result;\n    }\n\n}\n</code></pre>\n<p>And this are the configuration</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\nhttp://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd&quot;&gt;\n\n    &lt;!-- Hibernate SessionFactory --&gt;\n    &lt;bean id=&quot;mySessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;\n            &lt;ref bean=&quot;myDataSource&quot;/&gt;\n        &lt;/property&gt;\n\n&lt;property name=&quot;mappingResources&quot;&gt;\n            &lt;list&gt;\n                        &lt;value&gt;com/javaEE/deliver/api/model/Customer.hbm.xml&lt;/value&gt;\n                        \n        &lt;/list&gt;\n        &lt;/property&gt;\n\n&lt;aop:aspectj-autoproxy /&gt;\n\n\n     &lt;bean id=&quot;hibernateQueryExecutionTimeListener&quot; class=&quot;com.isa.javaEE.deliver.core.HibernateQueryExecutionTimeListener&quot; /&gt;\n\n      &lt;aop:config&gt;\n        &lt;aop:aspect id=&quot;hibernateaspect&quot; ref=&quot;hibernateQueryExecutionTimeListener&quot; &gt;\n           &lt;aop:pointcut id=&quot;queryListAround&quot;   expression=&quot;execution(* org.hibernate.Query.list(..))&quot; /&gt;\n           &lt;aop:around method=&quot;find&quot; pointcut-ref=&quot;queryListAround&quot; /&gt;\n\n           &lt;aop:pointcut id=&quot;saveAround&quot;   expression=&quot;execution(* org.hibernate.Session.save(..))&quot; /&gt;\n           &lt;aop:around method=&quot;save&quot; pointcut-ref=&quot;saveAround&quot; /&gt;\n\n           &lt;aop:pointcut id=&quot;saveOrUpdateAround&quot;   expression=&quot;execution(* org.hibernate.Session.saveOrUpdate(..))&quot; /&gt;\n           &lt;aop:around method=&quot;saveOrUpdate&quot; pointcut-ref=&quot;saveOrUpdateAround&quot; /&gt;\n\n           &lt;aop:pointcut id=&quot;loadAround&quot;   expression=&quot;execution(* org.hibernate.Session.load(..))&quot; /&gt;\n           &lt;aop:around method=&quot;load&quot; pointcut-ref=&quot;loadAround&quot; /&gt;\n\n        &lt;/aop:aspect&gt;\n      &lt;/aop:config&gt;\n\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>And my problem is that this advices are never invoked at all, neither the logs are printing.So, I am not sure where to go next. How can I get a hold of Hibernate's Session object from my advice such that I can enable Hibernate filters? Thank you in advance!</p>\n<p>I tired changing the aop configurations and all, but I couldn't figure it out. I don't know if I even need to configure that anyways.</p>\n"},{"tags":["java","jfr","jmc"],"answers":[{"comments":[{"owner":{"account_id":6926792,"reputation":113,"user_id":9517026,"display_name":"user9517026"},"score":0,"creation_date":1681714214,"post_id":76017407,"comment_id":134094986,"body_markdown":"Thanks Hirt. It worked. But the result summary is like that: &quot;There are long socket read pauses in this recording (the longest is {longestReadTime}) etc.&quot; Where can I get the values for {longestReadTime} and other variables?","body":"Thanks Hirt. It worked. But the result summary is like that: &quot;There are long socket read pauses in this recording (the longest is {longestReadTime}) etc.&quot; Where can I get the values for {longestReadTime} and other variables?"},{"owner":{"account_id":214082,"reputation":1684,"user_id":467841,"display_name":"Hirt"},"score":0,"creation_date":1681764435,"post_id":76017407,"comment_id":134106784,"body_markdown":"Hm. The result summary should include the actual values.","body":"Hm. The result summary should include the actual values."}],"tags":[],"owner":{"account_id":214082,"reputation":1684,"user_id":467841,"display_name":"Hirt"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681491596,"creation_date":1681491596,"answer_id":76017407,"question_id":76013045,"body_markdown":"Just ensure that you have all the proper bundles on the classpath. \r\n\r\nSee https://github.com/thegreystone/jmc-jshell for an example.","title":"Run JMC tool rools programmatically","body":"<p>Just ensure that you have all the proper bundles on the classpath.</p>\n<p>See <a href=\"https://github.com/thegreystone/jmc-jshell\" rel=\"nofollow noreferrer\">https://github.com/thegreystone/jmc-jshell</a> for an example.</p>\n"}],"owner":{"account_id":6926792,"reputation":113,"user_id":9517026,"display_name":"user9517026"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681491596,"creation_date":1681460890,"question_id":76013045,"body_markdown":"My goal is to write Java class that will analyze jfr dump and give warnings like JMC tool like in attached screenshot. For example: &quot;There are long socket read pauses&quot; or &quot;The JVM was paused for 100 % during ...&quot; etc.\r\n\r\nI saw an example of org.openjdk.jmc.flightrecorder.rules.RuleRegistry. However it contains no rules.\r\nHow can I export all rules that **JMC tool** runs on JFR dump and load them into my RuleRegistry?\r\n\t\t\r\n```\r\n        IItemCollection events = JfrLoaderToolkit.loadEvents(new File(&quot;abcd.jfr&quot;));\r\n\t\tfor (IRule rule : RuleRegistry.getRules())\r\n\t\t{\r\n\t\t\tRunnableFuture&lt;Result&gt; future = rule.evaluate(events, IPreferenceValueProvider.DEFAULT_VALUES); \r\nfuture.run(); \r\n\t\t\tResult result = future.get(); \r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hd3Ub.png","title":"Run JMC tool rools programmatically","body":"<p>My goal is to write Java class that will analyze jfr dump and give warnings like JMC tool like in attached screenshot. For example: &quot;There are long socket read pauses&quot; or &quot;The JVM was paused for 100 % during ...&quot; etc.</p>\n<p>I saw an example of org.openjdk.jmc.flightrecorder.rules.RuleRegistry. However it contains no rules.\nHow can I export all rules that <strong>JMC tool</strong> runs on JFR dump and load them into my RuleRegistry?</p>\n<pre><code>        IItemCollection events = JfrLoaderToolkit.loadEvents(new File(&quot;abcd.jfr&quot;));\n        for (IRule rule : RuleRegistry.getRules())\n        {\n            RunnableFuture&lt;Result&gt; future = rule.evaluate(events, IPreferenceValueProvider.DEFAULT_VALUES); \nfuture.run(); \n            Result result = future.get(); \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Hd3Ub.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hd3Ub.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","database","postgresql","spring-boot","liquibase"],"comments":[{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":1,"creation_date":1666400422,"post_id":74160382,"comment_id":130935455,"body_markdown":"Why do you need both schema.sql and liquibase? They cover the same functionality, with liquibase obviously being more powerful.","body":"Why do you need both schema.sql and liquibase? They cover the same functionality, with liquibase obviously being more powerful."},{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1666401674,"post_id":74160382,"comment_id":130935577,"body_markdown":"Have you tried manually creating databasechangeloglock ?","body":"Have you tried manually creating databasechangeloglock ?"},{"owner":{"account_id":26605019,"reputation":11,"user_id":20226036,"display_name":"Figo"},"score":0,"creation_date":1666404074,"post_id":74160382,"comment_id":130935801,"body_markdown":"I want to use schema.sql before using liquibase, because if I have default-schema and liquibase-schema configured in the application.properties, even if I have changeset to create the database schema, then when starting the application I will first throw an error that the configuration schema database does not exist. Unless you can somehow create another database schema through liqiubase before starting it?","body":"I want to use schema.sql before using liquibase, because if I have default-schema and liquibase-schema configured in the application.properties, even if I have changeset to create the database schema, then when starting the application I will first throw an error that the configuration schema database does not exist. Unless you can somehow create another database schema through liqiubase before starting it?"},{"owner":{"account_id":5712111,"reputation":331,"user_id":4513725,"display_name":"Lewis Florez R"},"score":0,"creation_date":1681491352,"post_id":74160382,"comment_id":134070560,"body_markdown":"I have the same problem with schema creation","body":"I have the same problem with schema creation"}],"owner":{"account_id":26605019,"reputation":11,"user_id":20226036,"display_name":"Figo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":984,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681491301,"creation_date":1666399898,"question_id":74160382,"body_markdown":"in spring boot version below 2.5.0 I had this configuration in application.properties:\r\n\r\n    spring.datasource.initialization-mode=always\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/mydb?currentSchema=myschema\r\n    spring.datasource.username=root\r\n    spring.datasource.password=pass\r\n    spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml\r\n    spring.liquibase.default-schema=myschema\r\n    spring.liquibase.liquibase-schema=myschema\r\n\r\nadditionally, in the schema.sql file I had such a query to create a schema in the database:\r\n\r\n    CREATE SCHEMA IF NOT EXISTS myschema;\r\n\r\nwhile in spring boot from 2.5.0 the configuration field:\r\n\r\n    spring.datasource.initialization-mode=always\r\n\r\nshould be replaced with:\r\n\r\n    spring.sql.init.mode=always\r\n\r\nunfortunately, after applying these changes from version 2.5.0, the liquibase solution does not work as expected and the database schema is not created. What is it caused or how can it be dealt with?\r\n\r\nthe errors that appear are:\r\n\r\n    2022-10-13 15:34:18.741  INFO 28767 --- [           main] liquibase.database                       : Set default schema name to null\r\n    2022-10-13 15:34:18.748  WARN 28767 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liquibase&#39; defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: ERROR: no schema has been selected to create in\r\n      Pozycja: 14 [Failed SQL: (0) CREATE TABLE databasechangeloglock (ID INTEGER NOT NULL, LOCKED BOOLEAN NOT NULL, LOCKGRANTED TIMESTAMP WITHOUT TIME ZONE, LOCKEDBY VARCHAR(255), CONSTRAINT databasechangeloglock_pkey PRIMARY KEY (ID))]\r\n\r\nor\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liquibase&#39; defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: ERROR: schema &quot;myschema&quot; does not exist\r\n      Pozycja: 14 [Failed SQL: (0) CREATE TABLE myschema.databasechangeloglock (ID INTEGER NOT NULL, LOCKED BOOLEAN NOT NULL, LOCKGRANTED TIMESTAMP WITHOUT TIME ZONE, LOCKEDBY VARCHAR(255), CONSTRAINT databasechangeloglock_pkey PRIMARY KEY (ID))]\r\n\r\nThe only solution I came up with was to turn off liqibase during the first start of the application, then the schema is created normally, but I would like to get help, how can I solve it differently?","title":"database schema creation with the use of liquibase at spring does not work","body":"<p>in spring boot version below 2.5.0 I had this configuration in application.properties:</p>\n<pre><code>spring.datasource.initialization-mode=always\nspring.datasource.url=jdbc:postgresql://localhost:5432/mydb?currentSchema=myschema\nspring.datasource.username=root\nspring.datasource.password=pass\nspring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml\nspring.liquibase.default-schema=myschema\nspring.liquibase.liquibase-schema=myschema\n</code></pre>\n<p>additionally, in the schema.sql file I had such a query to create a schema in the database:</p>\n<pre><code>CREATE SCHEMA IF NOT EXISTS myschema;\n</code></pre>\n<p>while in spring boot from 2.5.0 the configuration field:</p>\n<pre><code>spring.datasource.initialization-mode=always\n</code></pre>\n<p>should be replaced with:</p>\n<pre><code>spring.sql.init.mode=always\n</code></pre>\n<p>unfortunately, after applying these changes from version 2.5.0, the liquibase solution does not work as expected and the database schema is not created. What is it caused or how can it be dealt with?</p>\n<p>the errors that appear are:</p>\n<pre><code>2022-10-13 15:34:18.741  INFO 28767 --- [           main] liquibase.database                       : Set default schema name to null\n2022-10-13 15:34:18.748  WARN 28767 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: ERROR: no schema has been selected to create in\n  Pozycja: 14 [Failed SQL: (0) CREATE TABLE databasechangeloglock (ID INTEGER NOT NULL, LOCKED BOOLEAN NOT NULL, LOCKGRANTED TIMESTAMP WITHOUT TIME ZONE, LOCKEDBY VARCHAR(255), CONSTRAINT databasechangeloglock_pkey PRIMARY KEY (ID))]\n</code></pre>\n<p>or</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: ERROR: schema &quot;myschema&quot; does not exist\n  Pozycja: 14 [Failed SQL: (0) CREATE TABLE myschema.databasechangeloglock (ID INTEGER NOT NULL, LOCKED BOOLEAN NOT NULL, LOCKGRANTED TIMESTAMP WITHOUT TIME ZONE, LOCKEDBY VARCHAR(255), CONSTRAINT databasechangeloglock_pkey PRIMARY KEY (ID))]\n</code></pre>\n<p>The only solution I came up with was to turn off liqibase during the first start of the application, then the schema is created normally, but I would like to get help, how can I solve it differently?</p>\n"},{"tags":["java","sql-server","spring","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680970613,"post_id":75966245,"comment_id":133985663,"body_markdown":"It looks like the fields actually stored in the database has been filled with trailing spaces. You can remove it with trim() method of String.","body":"It looks like the fields actually stored in the database has been filled with trailing spaces. You can remove it with trim() method of String."},{"owner":{"account_id":24503013,"reputation":23,"user_id":18418387,"display_name":"Daniel"},"score":0,"creation_date":1680971703,"post_id":75966245,"comment_id":133985797,"body_markdown":"@Mar-Z i don&#39;t think it&#39;s the cause of problem, i also tried change the varlue of nvarchar in database like nvarchar(5) instead of nvarchar(100) and the result alway the maximum number of character in  this case the output will be 5","body":"@Mar-Z i don&#39;t think it&#39;s the cause of problem, i also tried change the varlue of nvarchar in database like nvarchar(5) instead of nvarchar(100) and the result alway the maximum number of character in  this case the output will be 5"},{"owner":{"account_id":24503013,"reputation":23,"user_id":18418387,"display_name":"Daniel"},"score":0,"creation_date":1681048897,"post_id":75966245,"comment_id":133993188,"body_markdown":"@Mar-Z Tks u man, it seem i&#39;v found problems, its all about db, in db nchar type will automatically add space to fit length, when i use varchar instead every just go alright","body":"@Mar-Z Tks u man, it seem i&#39;v found problems, its all about db, in db nchar type will automatically add space to fit length, when i use varchar instead every just go alright"}],"answers":[{"comments":[{"owner":{"account_id":24503013,"reputation":23,"user_id":18418387,"display_name":"Daniel"},"score":0,"creation_date":1680972988,"post_id":75966456,"comment_id":133985970,"body_markdown":"it&#39;s weird that i have tried many solution but it always give me the length of maximum length i set for nvarchar in sql server, if i change in database i will change too","body":"it&#39;s weird that i have tried many solution but it always give me the length of maximum length i set for nvarchar in sql server, if i change in database i will change too"}],"tags":[],"owner":{"account_id":10761390,"reputation":97,"user_id":7917687,"display_name":"Ashad0203"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680973676,"creation_date":1680972104,"answer_id":75966456,"question_id":75966245,"body_markdown":"Use @Size annotation instead of length. It will work\r\n\r\n```java\r\n\r\n@Entity\r\n@Table(name = &quot;Account&quot;)\r\npublic class Account {\r\n\r\n    @Id\r\n    @Column(name = &quot;Id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @Column(name = &quot;Username&quot;)\r\n    @Size(max = 10)\r\n    private String username;\r\n\r\n    @Column(name = &quot;Password&quot;)\r\n    private String password;\r\n\r\n        // getters and setters\r\n    }\r\n\r\n```\r\n\r\nIf it still not works then please use\r\n```java\r\n\r\n@Column(length = 10)\r\n    @org.hibernate.annotations.ColumnTransformer(\r\n        read = &quot;trim(my_column)&quot;,\r\n        write = &quot;trim(?)&quot;\r\n    )\r\n    private String myColumn;\r\n\r\n```","title":"Confused about hibernate in spring mvc","body":"<p>Use @Size annotation instead of length. It will work</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Entity\n@Table(name = &quot;Account&quot;)\npublic class Account {\n\n    @Id\n    @Column(name = &quot;Id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column(name = &quot;Username&quot;)\n    @Size(max = 10)\n    private String username;\n\n    @Column(name = &quot;Password&quot;)\n    private String password;\n\n        // getters and setters\n    }\n\n</code></pre>\n<p>If it still not works then please use</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Column(length = 10)\n    @org.hibernate.annotations.ColumnTransformer(\n        read = &quot;trim(my_column)&quot;,\n        write = &quot;trim(?)&quot;\n    )\n    private String myColumn;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24503013,"reputation":23,"user_id":18418387,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681490486,"creation_date":1681049051,"answer_id":75970988,"question_id":75966245,"body_markdown":"Thanks to everyone that commented in this post. I&#39;ve found the problem. The issue was caused by data type of database. nchar type is fixed length so when you insert data , the database will automatically add a number of space characters to fit in. For solution, just use varchar or nvarchar","title":"Confused about hibernate in spring mvc","body":"<p>Thanks to everyone that commented in this post. I've found the problem. The issue was caused by data type of database. nchar type is fixed length so when you insert data , the database will automatically add a number of space characters to fit in. For solution, just use varchar or nvarchar</p>\n"}],"owner":{"account_id":24503013,"reputation":23,"user_id":18418387,"display_name":"Daniel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681490486,"creation_date":1680969693,"question_id":75966245,"body_markdown":"i&#39;m very new in spring mvc and struggling with hibernate now. I can extract data from ms sql server but the length of string is always to set maximum to field (add duplicate backspace character i think). \r\nmy Entity\r\n```\r\n@Entity\r\n@Table(name = &quot;Account&quot;)\r\npublic class Account {\r\n\r\n    @Id\r\n    @Column(name = &quot;Id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    @Column(name = &quot;Username&quot;, length = 10)\r\n    private String username;\r\n    @Column(name = &quot;Password&quot;)\r\n    private String password;\r\n\r\n   //getter setter\r\n    \r\n}\r\n```\r\n\r\nMy controller \r\n\r\n```\r\n@Controller\r\npublic class HibernateController {\r\n\r\n    @Autowired\r\n    SessionFactory sessionFactory; \r\n\r\n    @GetMapping(&quot;/getu&quot;)\r\n    public String getUser() {\r\n        List&lt;Account&gt; list = getList();\r\n        for (Account account : list) {\r\n            System.out.println(&quot;name: &quot; + account.getUsername());\r\n            System.out.println(&quot;nameLength: &quot; + account.getUsername().length());\r\n            System.out.println(&quot;pass: &quot; + account.getPassword());\r\n\r\n        }\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n    @Transactional\r\n    public List&lt;Account&gt; getList() {\r\n        Session session = getSession();\r\n        String hql = &quot;FROM Account&quot;;\r\n        Query query = session.createQuery(hql);\r\n        return query.list();\r\n    }\r\n\r\n    public Session getSession() {\r\n        Session session;\r\n        try {\r\n            session = sessionFactory.getCurrentSession();\r\n        } catch (HibernateException e) {\r\n            session = sessionFactory.openSession();\r\n        }\r\n        return session;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nThis is my table just have field username(nvarchar100) and password(nvarchar100)\r\nInstead of having length of string exact the length for example &quot;david&quot; length is 5. My output when print account.getUsername().length() always is 100. Please help me with it","title":"Confused about hibernate in spring mvc","body":"<p>i'm very new in spring mvc and struggling with hibernate now. I can extract data from ms sql server but the length of string is always to set maximum to field (add duplicate backspace character i think).\nmy Entity</p>\n<pre><code>@Entity\n@Table(name = &quot;Account&quot;)\npublic class Account {\n\n    @Id\n    @Column(name = &quot;Id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    @Column(name = &quot;Username&quot;, length = 10)\n    private String username;\n    @Column(name = &quot;Password&quot;)\n    private String password;\n\n   //getter setter\n    \n}\n</code></pre>\n<p>My controller</p>\n<pre><code>@Controller\npublic class HibernateController {\n\n    @Autowired\n    SessionFactory sessionFactory; \n\n    @GetMapping(&quot;/getu&quot;)\n    public String getUser() {\n        List&lt;Account&gt; list = getList();\n        for (Account account : list) {\n            System.out.println(&quot;name: &quot; + account.getUsername());\n            System.out.println(&quot;nameLength: &quot; + account.getUsername().length());\n            System.out.println(&quot;pass: &quot; + account.getPassword());\n\n        }\n        return &quot;index&quot;;\n    }\n\n    @Transactional\n    public List&lt;Account&gt; getList() {\n        Session session = getSession();\n        String hql = &quot;FROM Account&quot;;\n        Query query = session.createQuery(hql);\n        return query.list();\n    }\n\n    public Session getSession() {\n        Session session;\n        try {\n            session = sessionFactory.getCurrentSession();\n        } catch (HibernateException e) {\n            session = sessionFactory.openSession();\n        }\n        return session;\n    }\n}\n\n</code></pre>\n<p>This is my table just have field username(nvarchar100) and password(nvarchar100)\nInstead of having length of string exact the length for example &quot;david&quot; length is 5. My output when print account.getUsername().length() always is 100. Please help me with it</p>\n"},{"tags":["java","itext","pdfa"],"answers":[{"comments":[{"owner":{"account_id":2026852,"reputation":678,"user_id":1811590,"accept_rate":40,"display_name":"avinash chavan"},"score":0,"creation_date":1441187624,"post_id":32349744,"comment_id":52573157,"body_markdown":"Understood. Thanks Bruno for such a detailed response.","body":"Understood. Thanks Bruno for such a detailed response."},{"owner":{"account_id":3821995,"reputation":1266,"user_id":3169868,"accept_rate":57,"display_name":"S_S"},"score":0,"creation_date":1539230672,"post_id":32349744,"comment_id":92427984,"body_markdown":"@avinashchavan Could you take a look at this question: https://stackoverflow.com/q/52736441/3169868","body":"@avinashchavan Could you take a look at this question: <a href=\"https://stackoverflow.com/q/52736441/3169868\">stackoverflow.com/q/52736441/3169868</a>"}],"tags":[],"owner":{"account_id":1779372,"reputation":76342,"user_id":1622493,"display_name":"Bruno Lowagie"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1441186879,"creation_date":1441186879,"answer_id":32349744,"question_id":32349517,"body_markdown":"Your claim *I have the ZapfDingbats font embedded* is wrong.\r\n\r\nGranted, you define the font like this:\r\n\r\n    Font font = FontFactory.getFont(FontFactory.ZAPFDINGBATS,\r\n        BaseFont.ZAPFDINGBATS, BaseFont.EMBEDDED, 12);\r\n\r\nAs you use `BaseFont.EMBEDDED`, you might assume that the font will be embedded, **but it isn&#39;t.** You can check this by using that font in any other PDF that isn&#39;t PDF/A: if you go to *Document Properties &gt; Fonts*, you&#39;ll see that the font isn&#39;t embedded.\r\n\r\n**Why is this?**\r\n\r\nThere are 14 special fonts in PDF. We refer to them as the *Standard Type 1 fonts*. Every PDF viewer should be able to render text that uses those fonts, hence these fonts don&#39;t need to be embedded: 4 Helvetica fonts (regular, bold, italic, bold-italic), 4 Times Roman fonts (regular, bold, italic, bold-italic), 4 Courier fonts (regular, bold, italic, bold-italic), Symbol and Zapfdingbats.\r\n\r\niText ships with the AFM files of these fonts. AFM stands for *Adobe Font Metrics* and the files contain data about the widths, bounding boxes, and other metrics of glyphs that are available in each font.\r\n\r\nThe actual description of the *shape* of these fonts isn&#39;t shipped with iText. These are stored in a PFB (Printer Font Binary) file. Without these PFB files, iText can&#39;t (and won&#39;t) embed these Standard Type 1 fonts.\r\n\r\n**In other words:** iText ignores the `BaseFont.EMBEDDED` parameter.\r\n\r\nThis is documented on many places. If you want to create PDF/A, you need font files, such as TTF, OTF, TTC files, or a combination of AFM and PFB files.","title":"Font embedding error PDFA/1a iText 5.5.6","body":"<p>Your claim <em>I have the ZapfDingbats font embedded</em> is wrong.</p>\n\n<p>Granted, you define the font like this:</p>\n\n<pre><code>Font font = FontFactory.getFont(FontFactory.ZAPFDINGBATS,\n    BaseFont.ZAPFDINGBATS, BaseFont.EMBEDDED, 12);\n</code></pre>\n\n<p>As you use <code>BaseFont.EMBEDDED</code>, you might assume that the font will be embedded, <strong>but it isn't.</strong> You can check this by using that font in any other PDF that isn't PDF/A: if you go to <em>Document Properties > Fonts</em>, you'll see that the font isn't embedded.</p>\n\n<p><strong>Why is this?</strong></p>\n\n<p>There are 14 special fonts in PDF. We refer to them as the <em>Standard Type 1 fonts</em>. Every PDF viewer should be able to render text that uses those fonts, hence these fonts don't need to be embedded: 4 Helvetica fonts (regular, bold, italic, bold-italic), 4 Times Roman fonts (regular, bold, italic, bold-italic), 4 Courier fonts (regular, bold, italic, bold-italic), Symbol and Zapfdingbats.</p>\n\n<p>iText ships with the AFM files of these fonts. AFM stands for <em>Adobe Font Metrics</em> and the files contain data about the widths, bounding boxes, and other metrics of glyphs that are available in each font.</p>\n\n<p>The actual description of the <em>shape</em> of these fonts isn't shipped with iText. These are stored in a PFB (Printer Font Binary) file. Without these PFB files, iText can't (and won't) embed these Standard Type 1 fonts.</p>\n\n<p><strong>In other words:</strong> iText ignores the <code>BaseFont.EMBEDDED</code> parameter.</p>\n\n<p>This is documented on many places. If you want to create PDF/A, you need font files, such as TTF, OTF, TTC files, or a combination of AFM and PFB files.</p>\n"},{"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1498746106,"post_id":44822898,"comment_id":76635838,"body_markdown":"The question does not appear JasperReports related at all.","body":"The question does not appear JasperReports related at all."}],"tags":[],"owner":{"account_id":11219662,"reputation":1,"user_id":8231184,"display_name":"karbek"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1498732814,"creation_date":1498732814,"answer_id":44822898,"question_id":32349517,"body_markdown":"you must add the &quot;jasperreports-fonts-&lt;version-number&gt;&quot; jar to your classpath.","title":"Font embedding error PDFA/1a iText 5.5.6","body":"<p>you must add the \"jasperreports-fonts-\" jar to your classpath.</p>\n"},{"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1681512801,"post_id":76017257,"comment_id":134074093,"body_markdown":"*&quot;PDF form fields do not work with PDF-A&quot;* - that is not correct.","body":"<i>&quot;PDF form fields do not work with PDF-A&quot;</i> - that is not correct."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681889780,"post_id":76017257,"comment_id":134128004,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76017257/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28306610,"reputation":1,"user_id":21644527,"display_name":"Noranti"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681490368,"creation_date":1681490368,"answer_id":76017257,"question_id":32349517,"body_markdown":"old thread, but for reference for those who came here, a note: PDF form fields do not work with PDF-A ... if PDF-A is omitted, then the error message to &quot;ZapfDingbats&quot; also disappears","title":"Font embedding error PDFA/1a iText 5.5.6","body":"<p>old thread, but for reference for those who came here, a note: PDF form fields do not work with PDF-A ... if PDF-A is omitted, then the error message to &quot;ZapfDingbats&quot; also disappears</p>\n"}],"owner":{"account_id":2026852,"reputation":678,"user_id":1811590,"accept_rate":40,"display_name":"avinash chavan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32349744,"answer_count":3,"score":0,"last_activity_date":1681490368,"creation_date":1441186250,"question_id":32349517,"body_markdown":"I have a class given below which is giving me Exception: `Exception in thread &quot;main&quot; com.itextpdf.text.DocumentException: com.itextpdf.text.pdf.PdfAConformanceException: All the fonts must be embedded. This one isn&#39;t: ZapfDingbats`\r\nI have the `ZapfDingbats` font embedded but I am still getting this `Exception`.\r\nWhat i am trying to achieve here is create a `list` with a `bullet` in front of every `item` in the `list`.\r\nWhat am i missing here?\r\n\r\n    public class SquareBullet {\r\n    \tpublic static void main(String[] args) throws IOException, DocumentException, XMPException {\r\n    \t\tDocument document = new Document();\r\n    \t\tPdfAWriter writer = PdfAWriter.getInstance(document, new FileOutputStream(&quot;list.pdf&quot;), PdfAConformanceLevel.PDF_A_1A);\r\n    \t\twriter.setViewerPreferences(PdfAWriter.PageModeUseOutlines);\r\n    \t\twriter.setRunDirection(PdfAWriter.RUN_DIRECTION_LTR);\r\n    \t\twriter.setTagged(PdfAWriter.markAll);\r\n    \t\twriter.createXmpMetadata();\r\n    \t\tXmpWriter xmp = writer.getXmpWriter();\r\n    \r\n    \t\tDublinCoreProperties.addSubject(xmp.getXmpMeta(), &quot;Subject&quot;);\r\n    \t\tDublinCoreProperties.setTitle(xmp.getXmpMeta(), &quot;Title&quot;, &quot;en_US&quot;, &quot;en_US&quot;);\r\n    \t\tDublinCoreProperties.setDescription(xmp.getXmpMeta(), &quot;Description&quot;, &quot;en_US&quot;, &quot;en_US&quot;);\r\n    \t\tPdfProperties.setKeywords(xmp.getXmpMeta(), &quot;Keywords&quot;);\r\n    \t\tPdfProperties.setVersion(xmp.getXmpMeta(), &quot;1.4&quot;);\r\n    \t\tdocument.addLanguage(&quot;en_US&quot;);\r\n    \t\tdocument.open();\r\n    \t\tFont font = FontFactory.getFont(FontFactory.ZAPFDINGBATS, BaseFont.ZAPFDINGBATS, BaseFont.EMBEDDED, 12);\r\n    \t\tFont font1 = FontFactory.getFont(FontFactory.HELVETICA, BaseFont.WINANSI, BaseFont.EMBEDDED, 12);\r\n    \t\tICC_Profile icc = ICC_Profile.getInstance(new FileInputStream(&quot;sRGB Color Space Profile.icm&quot;));\r\n    \t\twriter.setOutputIntents(&quot;Custom&quot;, &quot;&quot;, &quot;http://www.color.org&quot;, &quot;sRGB IEC61966-2.1&quot;, icc);\r\n    \t\tList list = new List(10);\r\n    \t\tlist.setListSymbol(new Chunk(String.valueOf((char)110), font));\r\n    \t\tlist.add(new ListItem(new Chunk(&quot;Test 1&quot;, font1)));\r\n    \t\tlist.add(new ListItem(new Chunk(&quot;Test 2&quot;, font1)));\r\n    \t\tlist.add(new ListItem(new Chunk(&quot;Test 3&quot;, font1)));\r\n    \t\tdocument.add(list);\r\n    \t\tdocument.close();\r\n    \t}\r\n    }","title":"Font embedding error PDFA/1a iText 5.5.6","body":"<p>I have a class given below which is giving me Exception: <code>Exception in thread \"main\" com.itextpdf.text.DocumentException: com.itextpdf.text.pdf.PdfAConformanceException: All the fonts must be embedded. This one isn't: ZapfDingbats</code>\nI have the <code>ZapfDingbats</code> font embedded but I am still getting this <code>Exception</code>.\nWhat i am trying to achieve here is create a <code>list</code> with a <code>bullet</code> in front of every <code>item</code> in the <code>list</code>.\nWhat am i missing here?</p>\n\n<pre><code>public class SquareBullet {\n    public static void main(String[] args) throws IOException, DocumentException, XMPException {\n        Document document = new Document();\n        PdfAWriter writer = PdfAWriter.getInstance(document, new FileOutputStream(\"list.pdf\"), PdfAConformanceLevel.PDF_A_1A);\n        writer.setViewerPreferences(PdfAWriter.PageModeUseOutlines);\n        writer.setRunDirection(PdfAWriter.RUN_DIRECTION_LTR);\n        writer.setTagged(PdfAWriter.markAll);\n        writer.createXmpMetadata();\n        XmpWriter xmp = writer.getXmpWriter();\n\n        DublinCoreProperties.addSubject(xmp.getXmpMeta(), \"Subject\");\n        DublinCoreProperties.setTitle(xmp.getXmpMeta(), \"Title\", \"en_US\", \"en_US\");\n        DublinCoreProperties.setDescription(xmp.getXmpMeta(), \"Description\", \"en_US\", \"en_US\");\n        PdfProperties.setKeywords(xmp.getXmpMeta(), \"Keywords\");\n        PdfProperties.setVersion(xmp.getXmpMeta(), \"1.4\");\n        document.addLanguage(\"en_US\");\n        document.open();\n        Font font = FontFactory.getFont(FontFactory.ZAPFDINGBATS, BaseFont.ZAPFDINGBATS, BaseFont.EMBEDDED, 12);\n        Font font1 = FontFactory.getFont(FontFactory.HELVETICA, BaseFont.WINANSI, BaseFont.EMBEDDED, 12);\n        ICC_Profile icc = ICC_Profile.getInstance(new FileInputStream(\"sRGB Color Space Profile.icm\"));\n        writer.setOutputIntents(\"Custom\", \"\", \"http://www.color.org\", \"sRGB IEC61966-2.1\", icc);\n        List list = new List(10);\n        list.setListSymbol(new Chunk(String.valueOf((char)110), font));\n        list.add(new ListItem(new Chunk(\"Test 1\", font1)));\n        list.add(new ListItem(new Chunk(\"Test 2\", font1)));\n        list.add(new ListItem(new Chunk(\"Test 3\", font1)));\n        document.add(list);\n        document.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","date","timestamp","simpledateformat","netbeans-7.1"],"answers":[{"comments":[{"owner":{"account_id":2640488,"reputation":93,"user_id":2284257,"display_name":"user2284257"},"score":0,"creation_date":1382538082,"post_id":19544236,"comment_id":28998631,"body_markdown":"Thanks, bug I forget to say that i want to put that new fecha `fechaNueva` to the same object... something like this: \n\n`SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\nString fechaStr = &quot;2013-10-10 10:49:29.10000&quot;;  \nDate fechaNueva = format.parse(fechaStr);\nfactura.setFecha(fechaNueva);`\n\nBut just with `Date fechaNueva = format.parse(fechaStr);` I got the wrong format `Thu Oct 10 10:49:29 CDT 2013` that i dont want...","body":"Thanks, bug I forget to say that i want to put that new fecha <code>fechaNueva</code> to the same object... something like this:   <code>SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;); String fechaStr = &quot;2013-10-10 10:49:29.10000&quot;;   Date fechaNueva = format.parse(fechaStr); factura.setFecha(fechaNueva);</code>  But just with <code>Date fechaNueva = format.parse(fechaStr);</code> I got the wrong format <code>Thu Oct 10 10:49:29 CDT 2013</code> that i dont want..."},{"owner":{"account_id":963,"reputation":18382,"user_id":37740,"accept_rate":71,"display_name":"Sajal Dutta"},"score":0,"creation_date":1382538329,"post_id":19544236,"comment_id":28998839,"body_markdown":"@user2284257 No, not wrong format. It just prints by default (check the toString method of Date class) that way and of course uses your local timezone as you didn&#39;t specify a locale. You need to format it the way you want it to print as I did inside the print statement. That is not a problem because no matter how you format for your printing needs, the value of fechaNueva is still the same.","body":"@user2284257 No, not wrong format. It just prints by default (check the toString method of Date class) that way and of course uses your local timezone as you didn&#39;t specify a locale. You need to format it the way you want it to print as I did inside the print statement. That is not a problem because no matter how you format for your printing needs, the value of fechaNueva is still the same."},{"owner":{"account_id":2640488,"reputation":93,"user_id":2284257,"display_name":"user2284257"},"score":0,"creation_date":1382538640,"post_id":19544236,"comment_id":28999061,"body_markdown":"Ok, something like `SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.ENGLISH);` ? I have tried that `Locale.ENGLISH` but nothing. Do you know what `Locale` could help me? or how to formatt that `date` to have the formatt i want? Thanks a lot.","body":"Ok, something like <code>SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.ENGLISH);</code> ? I have tried that <code>Locale.ENGLISH</code> but nothing. Do you know what <code>Locale</code> could help me? or how to formatt that <code>date</code> to have the formatt i want? Thanks a lot."},{"owner":{"account_id":963,"reputation":18382,"user_id":37740,"accept_rate":71,"display_name":"Sajal Dutta"},"score":0,"creation_date":1382539175,"post_id":19544236,"comment_id":28999403,"body_markdown":"@user2284257 Locale is for TimeZone, not for formatting. format method of SimpleDateFormat is what you need as I stated before and in my print statement. If you tried the code I provided, you should see the correct output as you stated in your question: 2013-10-10 10:49:29","body":"@user2284257 Locale is for TimeZone, not for formatting. format method of SimpleDateFormat is what you need as I stated before and in my print statement. If you tried the code I provided, you should see the correct output as you stated in your question: 2013-10-10 10:49:29"},{"owner":{"account_id":2640488,"reputation":93,"user_id":2284257,"display_name":"user2284257"},"score":0,"creation_date":1382539449,"post_id":19544236,"comment_id":28999600,"body_markdown":"Yes, that&#39;s right, as a `String` is correct, but how I put that correct format `2013-10-10 10:49:29` to my object `Factura` as a `Date`? this is the problem: `factura.setFecha(fechaNueva);`, what i have to do to `fechaNueva` to have it formatted to `2013-10-10 10:49:29`?","body":"Yes, that&#39;s right, as a <code>String</code> is correct, but how I put that correct format <code>2013-10-10 10:49:29</code> to my object <code>Factura</code> as a <code>Date</code>? this is the problem: <code>factura.setFecha(fechaNueva);</code>, what i have to do to <code>fechaNueva</code> to have it formatted to <code>2013-10-10 10:49:29</code>?"},{"owner":{"account_id":2640488,"reputation":93,"user_id":2284257,"display_name":"user2284257"},"score":0,"creation_date":1382539705,"post_id":19544236,"comment_id":28999780,"body_markdown":"It&#39;s because i use that `Factura` object in a `TableModel`, so its printing at the column `fecha` this: `Thu Oct 10 10:49:29 CDT 2013`","body":"It&#39;s because i use that <code>Factura</code> object in a <code>TableModel</code>, so its printing at the column <code>fecha</code> this: <code>Thu Oct 10 10:49:29 CDT 2013</code>"},{"owner":{"account_id":963,"reputation":18382,"user_id":37740,"accept_rate":71,"display_name":"Sajal Dutta"},"score":0,"creation_date":1382540033,"post_id":19544236,"comment_id":29000034,"body_markdown":"I think you are having problem understanding the concept. You are saving the correct value when you do setFecha. When you are printing it in your TableModel, print it using the format you want. You can create other simple date formats for your printing needs. Just don&#39;t do System.out.print(fechaNueva) or fechaNueva.toString(). You need to format it before you print.","body":"I think you are having problem understanding the concept. You are saving the correct value when you do setFecha. When you are printing it in your TableModel, print it using the format you want. You can create other simple date formats for your printing needs. Just don&#39;t do System.out.print(fechaNueva) or fechaNueva.toString(). You need to format it before you print."}],"tags":[],"owner":{"account_id":963,"reputation":18382,"user_id":37740,"accept_rate":71,"display_name":"Sajal Dutta"},"comment_count":7,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1382537745,"creation_date":1382537745,"answer_id":19544236,"question_id":19544067,"body_markdown":"You do not need to use substring at all since your `format` doesn&#39;t hold that info.\r\n\r\n    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    String fechaStr = &quot;2013-10-10 10:49:29.10000&quot;;\t\r\n    Date fechaNueva = format.parse(fechaStr);\r\n    \r\n    System.out.println(format.format(fechaNueva)); // Prints 2013-10-10 10:49:29","title":"How to format a java.sql.Timestamp(yyyy-MM-dd HH:mm:ss.S) to a date(yyyy-MM-dd HH:mm:ss)","body":"<p>You do not need to use substring at all since your <code>format</code> doesn't hold that info.</p>\n\n<pre><code>SimpleDateFormat format = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\nString fechaStr = \"2013-10-10 10:49:29.10000\";  \nDate fechaNueva = format.parse(fechaStr);\n\nSystem.out.println(format.format(fechaNueva)); // Prints 2013-10-10 10:49:29\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681490020,"creation_date":1471415983,"answer_id":38989706,"question_id":19544067,"body_markdown":"# A date-time object is not a String\r\n\r\nThe java.sql.Timestamp class has no format. Its toString method *generates* a String with a format. \r\n\r\nDo not conflate a date-time object with a String that may represent its value. A date-time object can parse strings and generate strings but is not itself a string.\r\n\r\n# java.time\r\n\r\nFirst convert from the troubled old legacy date-time classes to java.time classes. Use the new methods added to the old classes.\r\n\r\n    Instant instant = mySqlDate.toInstant() ;\r\n\r\nLose the fraction of a second you don&#39;t want.\r\n\r\n    instant = instant.truncatedTo( ChronoUnit.SECONDS );\r\n\r\nAssign the time zone to adjust from UTC used by Instant.\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; ) ;\r\n    ZonedDateTime zdt = instant.atZone( z );\r\n\r\nGenerate a String close to your desired output. Replace its `T` in the middle with a SPACE.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ISO_LOCAL_DATE_TIME ;\r\n    String output = zdt.format( f ).replace( &quot;T&quot; , &quot; &quot; );","title":"How to format a java.sql.Timestamp(yyyy-MM-dd HH:mm:ss.S) to a date(yyyy-MM-dd HH:mm:ss)","body":"<h1>A date-time object is not a String</h1>\n<p>The java.sql.Timestamp class has no format. Its toString method <em>generates</em> a String with a format.</p>\n<p>Do not conflate a date-time object with a String that may represent its value. A date-time object can parse strings and generate strings but is not itself a string.</p>\n<h1>java.time</h1>\n<p>First convert from the troubled old legacy date-time classes to java.time classes. Use the new methods added to the old classes.</p>\n<pre><code>Instant instant = mySqlDate.toInstant() ;\n</code></pre>\n<p>Lose the fraction of a second you don't want.</p>\n<pre><code>instant = instant.truncatedTo( ChronoUnit.SECONDS );\n</code></pre>\n<p>Assign the time zone to adjust from UTC used by Instant.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Montreal&quot; ) ;\nZonedDateTime zdt = instant.atZone( z );\n</code></pre>\n<p>Generate a String close to your desired output. Replace its <code>T</code> in the middle with a SPACE.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ISO_LOCAL_DATE_TIME ;\nString output = zdt.format( f ).replace( &quot;T&quot; , &quot; &quot; );\n</code></pre>\n"}],"owner":{"account_id":2640488,"reputation":93,"user_id":2284257,"display_name":"user2284257"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125059,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":19544236,"answer_count":2,"score":9,"last_activity_date":1681490020,"creation_date":1382537351,"question_id":19544067,"body_markdown":"Well, I&#39;m having a detail using a `Date`, because I&#39;m getting an Object from my DataBase and in the variable &quot;fecha&quot; (date) from that same object I&#39;m getting a `java.sql.Timestamp`, so the formatt is with miliseconds, but i don&#39;t want the miliseconds to appear. So i need to formatt the date that I&#39;m receiving from my DB to a new date that doesn&#39;t have miliseconds.\r\n\r\nThis is the object Factura:\r\n\r\n    public class Factura  implements java.io.Serializable {\r\n\r\n     private FacturaId id;\r\n     ...\r\n     private boolean activo;\r\n     private Date fecha;\r\n    }\r\n\r\nIn the xml that is mapped to the DB I have this code for that variable &quot;fecha&quot;:\r\n\r\n    &lt;property name=&quot;fecha&quot; type=&quot;timestamp&quot;&gt;\r\n      &lt;column length=&quot;19&quot; name=&quot;fecha&quot; not-null=&quot;true&quot;/&gt;\r\n    &lt;/property&gt;\r\n\r\nIn the Database that column is `fecha DATETIME`.\r\n\r\nAnd when I get an object `Factura` from my DB I&#39;m getting this kind of date `2013-10-10 10:49:29.0` but I want it without the `.0` (miliseconds). \r\n\r\nI&#39;ve tried this (`factura` is the `Factura` object):\r\n\r\n    try {\r\n       SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n       Date fechaNueva = null;\r\n       String fechaStr = factura.getFecha().toString();\r\n       int tama&#241;o = fechaStr.length()-2;\r\n       fechaStr = fechaStr.substring(0, tama&#241;o); //I get a string without the miliseconds\r\n       fechaNueva = format.parse(fechaStr);\r\n    } catch(ParseException ex) {\r\n       ...\r\n    }\r\n\r\nBut `fechaNueva` is giving me `Thu Oct 10 10:49:29 CDT 2013` and I only want `2013-10-10 10:49:29`, can you help me, please?\r\n\r\nThanks a lot, in advance.","title":"How to format a java.sql.Timestamp(yyyy-MM-dd HH:mm:ss.S) to a date(yyyy-MM-dd HH:mm:ss)","body":"<p>Well, I'm having a detail using a <code>Date</code>, because I'm getting an Object from my DataBase and in the variable \"fecha\" (date) from that same object I'm getting a <code>java.sql.Timestamp</code>, so the formatt is with miliseconds, but i don't want the miliseconds to appear. So i need to formatt the date that I'm receiving from my DB to a new date that doesn't have miliseconds.</p>\n\n<p>This is the object Factura:</p>\n\n<pre><code>public class Factura  implements java.io.Serializable {\n\n private FacturaId id;\n ...\n private boolean activo;\n private Date fecha;\n}\n</code></pre>\n\n<p>In the xml that is mapped to the DB I have this code for that variable \"fecha\":</p>\n\n<pre><code>&lt;property name=\"fecha\" type=\"timestamp\"&gt;\n  &lt;column length=\"19\" name=\"fecha\" not-null=\"true\"/&gt;\n&lt;/property&gt;\n</code></pre>\n\n<p>In the Database that column is <code>fecha DATETIME</code>.</p>\n\n<p>And when I get an object <code>Factura</code> from my DB I'm getting this kind of date <code>2013-10-10 10:49:29.0</code> but I want it without the <code>.0</code> (miliseconds). </p>\n\n<p>I've tried this (<code>factura</code> is the <code>Factura</code> object):</p>\n\n<pre><code>try {\n   SimpleDateFormat format = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n   Date fechaNueva = null;\n   String fechaStr = factura.getFecha().toString();\n   int tamaño = fechaStr.length()-2;\n   fechaStr = fechaStr.substring(0, tamaño); //I get a string without the miliseconds\n   fechaNueva = format.parse(fechaStr);\n} catch(ParseException ex) {\n   ...\n}\n</code></pre>\n\n<p>But <code>fechaNueva</code> is giving me <code>Thu Oct 10 10:49:29 CDT 2013</code> and I only want <code>2013-10-10 10:49:29</code>, can you help me, please?</p>\n\n<p>Thanks a lot, in advance.</p>\n"},{"tags":["java","spring-boot","junit","cucumber","spring-test"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1681499577,"post_id":76017179,"comment_id":134072082,"body_markdown":"What does your package structure look like?","body":"What does your package structure look like?"}],"owner":{"account_id":26186505,"reputation":11,"user_id":19868973,"display_name":"Ray"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681489873,"creation_date":1681489789,"question_id":76017179,"body_markdown":"I found a strange problem. When I use springboot 2.6.5 + 7.3.8 cucumber, the console prints the cucumber logs but not the springboot logs and it does not run any of the scenario.\r\nI tried to run springtest with just junit which is fine and tested that the feature resources are addressed correctly, but I still have this problem. And when I comment out @springtest and @CucumberContextConfiguration, cucumber still runs and  doesn&#39;t report any errors.\r\nMainTestclass:\r\n```\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(\r\n        features = {&quot;classpath:features&quot;},\r\n        glue = {&quot;com.my.example.project.step&quot;},\r\n        plugin = {&quot;pretty&quot;,&quot;html:target/html-reports.htm&quot;}\r\n)\r\npublic class ApplicationTest {\r\n\r\n}\r\n```\r\ncucumber config\r\n```\r\n@CucumberContextConfiguration\r\n@SpringBootTest(classes = {SpringTestConfig.class, MockObjectConfiguration.class})\r\npublic class CucumberSpringContextConfiguration {\r\n\r\n    @Autowired\r\n    private List&lt;Resetable&gt; resetables;\r\n\r\n    @Before\r\n    public void init() {\r\n        CollectionUtils.emptyIfNull(resetables).stream().forEach(v -&gt; v.reset());\r\n    }\r\n}\r\n```\r\nSpring test config\r\n```\r\n@Configuration\r\n@ComponentScan(\r\n        basePackages = {&quot;com.my.example.project&quot;},\r\n        excludeFilters = {\r\n                @ComponentScan.Filter(type = FilterType.ANNOTATION,classes = ComponentNotScanInTest.class),\r\n                @ComponentScan.Filter(type = FilterType.REGEX,pattern = &quot;.*\\\\.helper\\\\..*&quot;),\r\n                @ComponentScan.Filter(type = FilterType.REGEX,pattern = &quot;.*\\\\.infrastructure\\\\.persistence\\\\repository\\\\..*&quot;)\r\n        }\r\n)\r\npublic class SpringTestConfig {\r\n}\r\n\r\n```\r\n[error page][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Oj3Hn.png\r\n\r\n I hope it can start with spring test","title":"Cucumber with springboot2.6.5 doesn&#39;t work","body":"<p>I found a strange problem. When I use springboot 2.6.5 + 7.3.8 cucumber, the console prints the cucumber logs but not the springboot logs and it does not run any of the scenario.\nI tried to run springtest with just junit which is fine and tested that the feature resources are addressed correctly, but I still have this problem. And when I comment out @springtest and @CucumberContextConfiguration, cucumber still runs and  doesn't report any errors.\nMainTestclass:</p>\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = {&quot;classpath:features&quot;},\n        glue = {&quot;com.my.example.project.step&quot;},\n        plugin = {&quot;pretty&quot;,&quot;html:target/html-reports.htm&quot;}\n)\npublic class ApplicationTest {\n\n}\n</code></pre>\n<p>cucumber config</p>\n<pre><code>@CucumberContextConfiguration\n@SpringBootTest(classes = {SpringTestConfig.class, MockObjectConfiguration.class})\npublic class CucumberSpringContextConfiguration {\n\n    @Autowired\n    private List&lt;Resetable&gt; resetables;\n\n    @Before\n    public void init() {\n        CollectionUtils.emptyIfNull(resetables).stream().forEach(v -&gt; v.reset());\n    }\n}\n</code></pre>\n<p>Spring test config</p>\n<pre><code>@Configuration\n@ComponentScan(\n        basePackages = {&quot;com.my.example.project&quot;},\n        excludeFilters = {\n                @ComponentScan.Filter(type = FilterType.ANNOTATION,classes = ComponentNotScanInTest.class),\n                @ComponentScan.Filter(type = FilterType.REGEX,pattern = &quot;.*\\\\.helper\\\\..*&quot;),\n                @ComponentScan.Filter(type = FilterType.REGEX,pattern = &quot;.*\\\\.infrastructure\\\\.persistence\\\\repository\\\\..*&quot;)\n        }\n)\npublic class SpringTestConfig {\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Oj3Hn.png\" rel=\"nofollow noreferrer\">error page</a></p>\n<p>I hope it can start with spring test</p>\n"},{"tags":["java","spring","amazon-ec2","google-oauth","spring-oauth2"],"answers":[{"tags":[],"owner":{"account_id":1914566,"reputation":410,"user_id":1727416,"accept_rate":29,"display_name":"Will"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681489482,"creation_date":1651267430,"answer_id":72063822,"question_id":72051121,"body_markdown":"It&#39;s always the little things!&lt;br&gt;\r\nTo have google login work in local, you only need `client-id`.&lt;br&gt;\r\nWorks as expected after I added the long forgotten `client-secret`.&lt;br&gt;\r\n","title":"google spring oauth2 client works on local but not on internet","body":"<p>It's always the little things!<br>\nTo have google login work in local, you only need <code>client-id</code>.<br>\nWorks as expected after I added the long forgotten <code>client-secret</code>.<br></p>\n"}],"owner":{"account_id":1914566,"reputation":410,"user_id":1727416,"accept_rate":29,"display_name":"Will"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72063822,"answer_count":1,"score":0,"last_activity_date":1681489482,"creation_date":1651187194,"question_id":72051121,"body_markdown":"&lt;br&gt;\r\nI am here after pulling some hair out.&lt;br&gt;\r\nThe login with google oauth2 works fine in local but failed under public domain.&lt;br&gt;\r\nHere are the logs from both:\r\n\r\n    ==== request in local\r\n    2022-04-28 17:11:26.080 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : HTTP POST https://www.googleapis.com/oauth2/v4/token\r\n    2022-04-28 17:11:26.080 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]\r\n    2022-04-28 17:11:26.080 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Writing [{grant_type=[authorization_code], code=[4/0AX4XfWghwFo-03F8JRldcp8xsqSzg31NkVZpHnPqpdXV4hNcTKehChPzrSaTqRVBfh8g4w], redirect_uri=[http://localhost:8080/login/oauth2/code/google]}] as &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;\r\n    2022-04-28 17:11:26.225 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Response 200 OK\r\n    2022-04-28 17:11:26.225 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Reading to [org.springframework.security.oauth2.core.endpoint.OAuth2AccessTokenResponse] as &quot;application/json;charset=utf-8&quot;\r\n    2022-04-28 17:11:26.226 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : HTTP GET https://www.googleapis.com/oauth2/v3/certs\r\n    2022-04-28 17:11:26.226 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]\r\n    2022-04-28 17:11:26.242 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Response 200 OK\r\n    2022-04-28 17:11:26.242 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as &quot;application/json;charset=UTF-8&quot;\r\n    \r\n    \r\n    =====request under public domain\r\n    2022-04-28 16:54:05.949 DEBUG 13353 --- [nio-8443-exec-3] o.s.web.client.RestTemplate              : HTTP POST https://www.googleapis.com/oauth2/v4/token\r\n    2022-04-28 16:54:05.956 DEBUG 13353 --- [nio-8443-exec-3] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]\r\n    2022-04-28 16:54:05.957 DEBUG 13353 --- [nio-8443-exec-3] o.s.web.client.RestTemplate              : Writing [{grant_type=[authorization_code], code=[4/0AX4XfWjfng4hE-uzmk1CnWgRz922In29TeNs9efZxigfeSaVwvvoCrk-b56rOzFeMEDn0Q], redirect_uri=[https://www.clubspj.com/login/oauth2/code/google]}] as &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;\r\n    2022-04-28 16:54:06.064 DEBUG 13353 --- [nio-8443-exec-3] o.s.web.client.RestTemplate              : Response 400 BAD_REQUEST\r\n\r\nI made sure the url is matching &lt;br&gt;\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NehO5.png\r\n\r\nUsing this library, version is 2.6.7\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nFollowing are the requests made in order when trying to login with google oauth2\r\n\r\n    GET 302 https://www.clubspj.com/oauth2/authorization/google\r\n\r\n    GET 200 https://accounts.google.com/o/oauth2/v2/auth?response_type=code&amp;client_id=294427952059-ngva8hkoa4cl1af249repefc8lnksl87.apps.googleusercontent.com&amp;scope=openid%20profile%20email&amp;state=hiwVEoh6pbzGA4HueQpsF_MydzpyJ5uxnS7FcAoRaKM%3D&amp;redirect_uri=https://www.clubspj.com/login/oauth2/code/google&amp;nonce=3S3BLRPDsdXB6orOGF52YFIHnbyaLLtO8NGjHEDILYo\r\n    \r\n    GET 302 https://accounts.google.com/signin/oauth/consent?authuser=0&amp;part=AJi8hANiL7v0LYZsyPvT1Vg6t-K2lzlwtCjwELEoi84mtcyDyjIAhY3FkooOuQ9YwoG10HrQyEv3f4H4ZNN_mVry937SfMm_68H1Zw9ZJfkgRVkPM5aTYsa7jdctKNJWe4I4mEJFxeQ0iqizcZfEXw-COkk3L_3wW1CxL2gwCygMud5-Qv1nDJMblMV1dl2CtaWamt30GyrWoaG_g14mRGLvcmHHruvQD3Uid7t0PI9hNtYYqewJLTdCi6dmn8pLa7MJPqEHdp2nyKJf5YSPqAskAn4BX-_aaLXKeNnQJhC2Cjzpwnux_zKol50e8ymHU5PQpP5hU23lArmBPXU3shEEi4m_yA2R41p8vFaB3f9HpOqp9ThEgMp8nv_po6C7Kk3qLMoWR2COAYvv4zflcA_157vUt6jhDpKoLw2cf7Fbq_4afG1QKiI8x9LOn4iJq6Q2JBh_AxlX9truJZb45fNbDI1nfnrOEQ&amp;as=S-872222817%3A1651179243534195&amp;pli=1&amp;rapt=AEjHL4MtRiws0sgSbs9qRhpREDRpzEWcleEMkDeuoK78Ie-A3UissN40zZ2GdDLIIqoA4P7tjoqyQgVmVDmgmqt8a2qv_ElA-w\r\n    GET 302 https://www.clubspj.com/login/oauth2/code/google?state=hiwVEoh6pbzGA4HueQpsF_MydzpyJ5uxnS7FcAoRaKM%3D&amp;code=4%2F0AX4XfWjfng4hE-uzmk1CnWgRz922In29TeNs9efZxigfeSaVwvvoCrk-b56rOzFeMEDn0Q&amp;scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&amp;authuser=0&amp;prompt=none\r\nthe last request caused error and redirected to login?error, details of the request:&lt;br&gt;\r\n**Response Header:**&lt;br&gt;\r\n\r\n    HTTP/1.1 302\r\n    X-Content-Type-Options: nosniff\r\n    X-XSS-Protection: 1; mode=block\r\n    Cache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n    Pragma: no-cache\r\n    Expires: 0\r\n    Strict-Transport-Security: max-age=31536000 ; includeSubDomains\r\n    X-Frame-Options: DENY\r\n    Location: https://www.clubspj.com/login?error\r\n    Content-Length: 0\r\n    Date: Thu, 28 Apr 2022 20:54:06 GMT\r\n    Keep-Alive: timeout=60\r\n    Connection: keep-alive\r\n    \r\n**Request Header:**&lt;br&gt;\r\n\r\n    Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\r\n    Accept-Encoding: gzip, deflate, br\r\n    Accept-Language: en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7\r\n    Connection: keep-alive\r\n    Cookie: AWSALBTG=5EB4qie5RCxExuTp2gqDRZuZGDgJBVO8lBlofFhpkZA0J9iQ7JahcSn/jvAmef/eRSL0GALK9P9xcOZgNLSWIwcEEMSRslwigzMPrZQFpQ2pmLPKSx9Apn19TlEENuLOMFmRgG7bbIziTYB+RyqCLZosHMvIIU7Wbcmhsdlz6e1JL9NKYJU=; AWSALBTGCORS=5EB4qie5RCxExuTp2gqDRZuZGDgJBVO8lBlofFhpkZA0J9iQ7JahcSn/jvAmef/eRSL0GALK9P9xcOZgNLSWIwcEEMSRslwigzMPrZQFpQ2pmLPKSx9Apn19TlEENuLOMFmRgG7bbIziTYB+RyqCLZosHMvIIU7Wbcmhsdlz6e1JL9NKYJU=; JSESSIONID=7F3D126AA8A114A2EAB4937EB1A911DA\r\n    Host: www.clubspj.com\r\n    Referer: https://accounts.google.com/\r\n    sec-ch-ua: &quot; Not A;Brand&quot;;v=&quot;99&quot;, &quot;Chromium&quot;;v=&quot;100&quot;, &quot;Google Chrome&quot;;v=&quot;100&quot;\r\n    sec-ch-ua-mobile: ?0\r\n    sec-ch-ua-platform: &quot;Windows&quot;\r\n    Sec-Fetch-Dest: document\r\n    Sec-Fetch-Mode: navigate\r\n    Sec-Fetch-Site: cross-site\r\n    Sec-Fetch-User: ?1\r\n    Upgrade-Insecure-Requests: 1\r\n    User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36\r\n\r\nLastly I am running app on EC2 under elastic IP. Verified that all the JSESSIONID are the same between clubspj.com requests.&lt;br&gt;\r\n\r\nThanks in advance!","title":"google spring oauth2 client works on local but not on internet","body":"<br>\nI am here after pulling some hair out.<br>\nThe login with google oauth2 works fine in local but failed under public domain.<br>\nHere are the logs from both:\n<pre><code>==== request in local\n2022-04-28 17:11:26.080 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : HTTP POST https://www.googleapis.com/oauth2/v4/token\n2022-04-28 17:11:26.080 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]\n2022-04-28 17:11:26.080 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Writing [{grant_type=[authorization_code], code=[4/0AX4XfWghwFo-03F8JRldcp8xsqSzg31NkVZpHnPqpdXV4hNcTKehChPzrSaTqRVBfh8g4w], redirect_uri=[http://localhost:8080/login/oauth2/code/google]}] as &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;\n2022-04-28 17:11:26.225 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Response 200 OK\n2022-04-28 17:11:26.225 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Reading to [org.springframework.security.oauth2.core.endpoint.OAuth2AccessTokenResponse] as &quot;application/json;charset=utf-8&quot;\n2022-04-28 17:11:26.226 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : HTTP GET https://www.googleapis.com/oauth2/v3/certs\n2022-04-28 17:11:26.226 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]\n2022-04-28 17:11:26.242 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Response 200 OK\n2022-04-28 17:11:26.242 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as &quot;application/json;charset=UTF-8&quot;\n\n\n=====request under public domain\n2022-04-28 16:54:05.949 DEBUG 13353 --- [nio-8443-exec-3] o.s.web.client.RestTemplate              : HTTP POST https://www.googleapis.com/oauth2/v4/token\n2022-04-28 16:54:05.956 DEBUG 13353 --- [nio-8443-exec-3] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]\n2022-04-28 16:54:05.957 DEBUG 13353 --- [nio-8443-exec-3] o.s.web.client.RestTemplate              : Writing [{grant_type=[authorization_code], code=[4/0AX4XfWjfng4hE-uzmk1CnWgRz922In29TeNs9efZxigfeSaVwvvoCrk-b56rOzFeMEDn0Q], redirect_uri=[https://www.clubspj.com/login/oauth2/code/google]}] as &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;\n2022-04-28 16:54:06.064 DEBUG 13353 --- [nio-8443-exec-3] o.s.web.client.RestTemplate              : Response 400 BAD_REQUEST\n</code></pre>\n<p>I made sure the url is matching <br>\n<a href=\"https://i.stack.imgur.com/NehO5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NehO5.png\" alt=\"enter image description here\" /></a></p>\n<p>Using this library, version is 2.6.7</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Following are the requests made in order when trying to login with google oauth2</p>\n<pre><code>GET 302 https://www.clubspj.com/oauth2/authorization/google\n\nGET 200 https://accounts.google.com/o/oauth2/v2/auth?response_type=code&amp;client_id=294427952059-ngva8hkoa4cl1af249repefc8lnksl87.apps.googleusercontent.com&amp;scope=openid%20profile%20email&amp;state=hiwVEoh6pbzGA4HueQpsF_MydzpyJ5uxnS7FcAoRaKM%3D&amp;redirect_uri=https://www.clubspj.com/login/oauth2/code/google&amp;nonce=3S3BLRPDsdXB6orOGF52YFIHnbyaLLtO8NGjHEDILYo\n\nGET 302 https://accounts.google.com/signin/oauth/consent?authuser=0&amp;part=AJi8hANiL7v0LYZsyPvT1Vg6t-K2lzlwtCjwELEoi84mtcyDyjIAhY3FkooOuQ9YwoG10HrQyEv3f4H4ZNN_mVry937SfMm_68H1Zw9ZJfkgRVkPM5aTYsa7jdctKNJWe4I4mEJFxeQ0iqizcZfEXw-COkk3L_3wW1CxL2gwCygMud5-Qv1nDJMblMV1dl2CtaWamt30GyrWoaG_g14mRGLvcmHHruvQD3Uid7t0PI9hNtYYqewJLTdCi6dmn8pLa7MJPqEHdp2nyKJf5YSPqAskAn4BX-_aaLXKeNnQJhC2Cjzpwnux_zKol50e8ymHU5PQpP5hU23lArmBPXU3shEEi4m_yA2R41p8vFaB3f9HpOqp9ThEgMp8nv_po6C7Kk3qLMoWR2COAYvv4zflcA_157vUt6jhDpKoLw2cf7Fbq_4afG1QKiI8x9LOn4iJq6Q2JBh_AxlX9truJZb45fNbDI1nfnrOEQ&amp;as=S-872222817%3A1651179243534195&amp;pli=1&amp;rapt=AEjHL4MtRiws0sgSbs9qRhpREDRpzEWcleEMkDeuoK78Ie-A3UissN40zZ2GdDLIIqoA4P7tjoqyQgVmVDmgmqt8a2qv_ElA-w\nGET 302 https://www.clubspj.com/login/oauth2/code/google?state=hiwVEoh6pbzGA4HueQpsF_MydzpyJ5uxnS7FcAoRaKM%3D&amp;code=4%2F0AX4XfWjfng4hE-uzmk1CnWgRz922In29TeNs9efZxigfeSaVwvvoCrk-b56rOzFeMEDn0Q&amp;scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&amp;authuser=0&amp;prompt=none\n</code></pre>\n<p>the last request caused error and redirected to login?error, details of the request:<br>\n<strong>Response Header:</strong><br></p>\n<pre><code>HTTP/1.1 302\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 1; mode=block\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nStrict-Transport-Security: max-age=31536000 ; includeSubDomains\nX-Frame-Options: DENY\nLocation: https://www.clubspj.com/login?error\nContent-Length: 0\nDate: Thu, 28 Apr 2022 20:54:06 GMT\nKeep-Alive: timeout=60\nConnection: keep-alive\n</code></pre>\n<p><strong>Request Header:</strong><br></p>\n<pre><code>Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\nAccept-Encoding: gzip, deflate, br\nAccept-Language: en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7\nConnection: keep-alive\nCookie: AWSALBTG=5EB4qie5RCxExuTp2gqDRZuZGDgJBVO8lBlofFhpkZA0J9iQ7JahcSn/jvAmef/eRSL0GALK9P9xcOZgNLSWIwcEEMSRslwigzMPrZQFpQ2pmLPKSx9Apn19TlEENuLOMFmRgG7bbIziTYB+RyqCLZosHMvIIU7Wbcmhsdlz6e1JL9NKYJU=; AWSALBTGCORS=5EB4qie5RCxExuTp2gqDRZuZGDgJBVO8lBlofFhpkZA0J9iQ7JahcSn/jvAmef/eRSL0GALK9P9xcOZgNLSWIwcEEMSRslwigzMPrZQFpQ2pmLPKSx9Apn19TlEENuLOMFmRgG7bbIziTYB+RyqCLZosHMvIIU7Wbcmhsdlz6e1JL9NKYJU=; JSESSIONID=7F3D126AA8A114A2EAB4937EB1A911DA\nHost: www.clubspj.com\nReferer: https://accounts.google.com/\nsec-ch-ua: &quot; Not A;Brand&quot;;v=&quot;99&quot;, &quot;Chromium&quot;;v=&quot;100&quot;, &quot;Google Chrome&quot;;v=&quot;100&quot;\nsec-ch-ua-mobile: ?0\nsec-ch-ua-platform: &quot;Windows&quot;\nSec-Fetch-Dest: document\nSec-Fetch-Mode: navigate\nSec-Fetch-Site: cross-site\nSec-Fetch-User: ?1\nUpgrade-Insecure-Requests: 1\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36\n</code></pre>\n<p>Lastly I am running app on EC2 under elastic IP. Verified that all the JSESSIONID are the same between clubspj.com requests.<br></p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","jackson","deserialization","json-deserialization"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":2,"creation_date":1681487728,"post_id":76015610,"comment_id":134069670,"body_markdown":"Generally, you would look at the response status rather than assuming the response is valid. If the response status isn&#39;t 200, then deserialize as an error object so you can log the error and then return null.","body":"Generally, you would look at the response status rather than assuming the response is valid. If the response status isn&#39;t 200, then deserialize as an error object so you can log the error and then return null."}],"answers":[{"comments":[{"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"score":0,"creation_date":1681479599,"post_id":76015652,"comment_id":134067498,"body_markdown":"Hi I think you misunderstand my question current implementation initialize POJO class with null values or default for boolean and int I want to return POJO null if the response is not mapped.Thanks","body":"Hi I think you misunderstand my question current implementation initialize POJO class with null values or default for boolean and int I want to return POJO null if the response is not mapped.Thanks"}],"tags":[],"owner":{"display_name":"user15773347"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681479203,"creation_date":1681479203,"answer_id":76015652,"question_id":76015610,"body_markdown":"You can configure Jackson&#39;s `ObjectMapper` to return a null object when deserializing a JSON response that does not match the POJO class. \r\n\r\nHere is some code:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.findAndRegisterModules();\r\n    mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n    mapper.disable(DeserializationFeature.ADJUST_DATES_TO_CONTEXT_TIME_ZONE);\r\n    mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n    mapper.disable(SerializationFeature.WRITE_DATES_WITH_CONTEXT_TIME_ZONE);\r\n    \r\n    String responseBody = response.body().string();\r\n    POJO pojo = null;\r\n    \r\n    try {\r\n        pojo = mapper.readValue(responseBody, POJO.class);\r\n    } catch (JsonProcessingException e) {\r\n        // Handle exception if needed\r\n    }\r\n    \r\n   \r\n    if (pojo == null) {\r\n        pojo = new POJO();\r\n    }\r\n\r\nThis way, if the JSON response does not contain properties that match the POJO class, the resulting POJO object will have all its properties set to null, as per your requirement.","title":"Jakson mapper deserlize null properties if not matches found","body":"<p>You can configure Jackson's <code>ObjectMapper</code> to return a null object when deserializing a JSON response that does not match the POJO class.</p>\n<p>Here is some code:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.findAndRegisterModules();\nmapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\nmapper.disable(DeserializationFeature.ADJUST_DATES_TO_CONTEXT_TIME_ZONE);\nmapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\nmapper.disable(SerializationFeature.WRITE_DATES_WITH_CONTEXT_TIME_ZONE);\n\nString responseBody = response.body().string();\nPOJO pojo = null;\n\ntry {\n    pojo = mapper.readValue(responseBody, POJO.class);\n} catch (JsonProcessingException e) {\n    // Handle exception if needed\n}\n\n\nif (pojo == null) {\n    pojo = new POJO();\n}\n</code></pre>\n<p>This way, if the JSON response does not contain properties that match the POJO class, the resulting POJO object will have all its properties set to null, as per your requirement.</p>\n"},{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681489277,"creation_date":1681489277,"answer_id":76017127,"question_id":76015610,"body_markdown":"You need to read POJO response only and only when valid response status received - normally `HTTP/1.1 200 Ok`. In other cases - read it as a error response:\r\n```\r\n@Getter\r\nclass ErrorStatus {\r\n    int status;\r\n    String message;\r\n}\r\n\r\n@Getter\r\nclass ErrorResponse {\r\n    ErrorStatus error;\r\n}\r\n\r\nif (response.status().code() != 200) {\r\n    ErrorResponse errorResponse = mapper.readValue(response.body().string(), ErrorResponse.class);\r\n    System.out.println(&quot;error: &quot; + errorResponse);\r\n    return;\r\n}\r\n\r\nPOJO pojo = mapper.readValue(response.body().string(), POJO.class);\r\n```","title":"Jakson mapper deserlize null properties if not matches found","body":"<p>You need to read POJO response only and only when valid response status received - normally <code>HTTP/1.1 200 Ok</code>. In other cases - read it as a error response:</p>\n<pre><code>@Getter\nclass ErrorStatus {\n    int status;\n    String message;\n}\n\n@Getter\nclass ErrorResponse {\n    ErrorStatus error;\n}\n\nif (response.status().code() != 200) {\n    ErrorResponse errorResponse = mapper.readValue(response.body().string(), ErrorResponse.class);\n    System.out.println(&quot;error: &quot; + errorResponse);\n    return;\n}\n\nPOJO pojo = mapper.readValue(response.body().string(), POJO.class);\n</code></pre>\n"}],"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681489277,"creation_date":1681478922,"question_id":76015610,"body_markdown":"Hello I am trying to return null object if the response is not relevant to the object.\r\nExample: \r\n\r\n - I send a request and I receive Status code 400 bad request \r\n - Deserialize the response to and POJO class\r\n - After Deserialize, all properties are null or default value for integers\r\n\r\nThis is my mapper configs:\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.findAndRegisterModules();\r\n        mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n        mapper.disable(DeserializationFeature.ADJUST_DATES_TO_CONTEXT_TIME_ZONE);\r\n        mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n        mapper.disable(SerializationFeature.WRITE_DATES_WITH_CONTEXT_TIME_ZONE);\r\n\r\nThis is how I use the mapper:\r\n\r\n     POJO pojo = mapper.readValue(response.body().string(), POJO.class);\r\n\r\nThis is my Class to Deserialize:\r\n\r\n    @Getter\r\n    public class POJO {\r\n        public Object name;\r\n        public String someString;\r\n     }\r\n\r\nAnd I receive `POJO(name=null, someString=null)`\r\n\r\nSimple response: \r\n\r\n    {  &quot;error&quot;: {    &quot;status&quot;: 400,    &quot;message&quot;: &quot;invalid id&quot;  }}\r\n\r\nI need the POJO Class to be null if this is the response. Sorry for bad explanation, I am new to Jackson.\r\n\r\n","title":"Jakson mapper deserlize null properties if not matches found","body":"<p>Hello I am trying to return null object if the response is not relevant to the object.\nExample:</p>\n<ul>\n<li>I send a request and I receive Status code 400 bad request</li>\n<li>Deserialize the response to and POJO class</li>\n<li>After Deserialize, all properties are null or default value for integers</li>\n</ul>\n<p>This is my mapper configs:</p>\n<pre><code>    ObjectMapper mapper = new ObjectMapper();\n    mapper.findAndRegisterModules();\n    mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n    mapper.disable(DeserializationFeature.ADJUST_DATES_TO_CONTEXT_TIME_ZONE);\n    mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n    mapper.disable(SerializationFeature.WRITE_DATES_WITH_CONTEXT_TIME_ZONE);\n</code></pre>\n<p>This is how I use the mapper:</p>\n<pre><code> POJO pojo = mapper.readValue(response.body().string(), POJO.class);\n</code></pre>\n<p>This is my Class to Deserialize:</p>\n<pre><code>@Getter\npublic class POJO {\n    public Object name;\n    public String someString;\n }\n</code></pre>\n<p>And I receive <code>POJO(name=null, someString=null)</code></p>\n<p>Simple response:</p>\n<pre><code>{  &quot;error&quot;: {    &quot;status&quot;: 400,    &quot;message&quot;: &quot;invalid id&quot;  }}\n</code></pre>\n<p>I need the POJO Class to be null if this is the response. Sorry for bad explanation, I am new to Jackson.</p>\n"},{"tags":["java","concurrency","locking"],"comments":[{"owner":{"account_id":16503230,"reputation":48083,"user_id":11923999,"display_name":"Burak Serdar"},"score":0,"creation_date":1681485460,"post_id":76016415,"comment_id":134069070,"body_markdown":"What makes you think this is insecure? One thing to note though: another thread can unlock it using the same uuid when a thread is in its critical section and expecting the lock to remain so. You also need `isLocked` method.","body":"What makes you think this is insecure? One thing to note though: another thread can unlock it using the same uuid when a thread is in its critical section and expecting the lock to remain so. You also need <code>isLocked</code> method."},{"owner":{"account_id":28305773,"reputation":1,"user_id":21643808,"display_name":"ables54"},"score":0,"creation_date":1681486052,"post_id":76016415,"comment_id":134069255,"body_markdown":"I don&#39;t think it is insecure, but I am trying to make sure. The fact that another thread can unlock it is intentional, and this is the reason why I added UUID, so that there has to be some coordination between the locking and unlocking. When would you use isLocked?","body":"I don&#39;t think it is insecure, but I am trying to make sure. The fact that another thread can unlock it is intentional, and this is the reason why I added UUID, so that there has to be some coordination between the locking and unlocking. When would you use isLocked?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681487218,"post_id":76016415,"comment_id":134069549,"body_markdown":"The API is utterly bizarre: if `tryLock` returns `null`, you have the lock. However, if `tryLock` returns a UUID, you don&#39;t.","body":"The API is utterly bizarre: if <code>tryLock</code> returns <code>null</code>, you have the lock. However, if <code>tryLock</code> returns a UUID, you don&#39;t."},{"owner":{"account_id":28305773,"reputation":1,"user_id":21643808,"display_name":"ables54"},"score":0,"creation_date":1681489260,"post_id":76016415,"comment_id":134070080,"body_markdown":"@rzwitserloot Good catch, it was meant to be as above.","body":"@rzwitserloot Good catch, it was meant to be as above."}],"answers":[{"comments":[{"owner":{"account_id":28305773,"reputation":1,"user_id":21643808,"display_name":"ables54"},"score":0,"creation_date":1681489288,"post_id":76016933,"comment_id":134070090,"body_markdown":"Yes, your correction is how I originally intended it.","body":"Yes, your correction is how I originally intended it."}],"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681487815,"creation_date":1681487815,"answer_id":76016933,"question_id":76016415,"body_markdown":"This method is a source of your future problems:\r\n```\r\n    public UUID tryLock(String key){\r\n        UUID uuid = java.util.UUID.randomUUID();\r\n        return locks.putIfAbsent(key, uuid);\r\n    }\r\n```\r\n\r\nThread 1:\r\n```\r\nkeyedLock.tryLock(&quot;asdf&quot;) -&gt; null // UUID(1) registered\r\n```\r\n\r\nThread 2: \r\n```\r\nkeyedLock.tryLock(&quot;asdf&quot;) -&gt; UUID(1) // existing UUID returned\r\n```\r\n\r\nI guess you expect the first call return registered UUID, and the second call to reject locking attempt, e.g. in the following way:\r\n\r\n```\r\n    @Nullable\r\n    public UUID tryLock(String key){\r\n        UUID uuid = java.util.UUID.randomUUID();\r\n        UUID actual = locks.putIfAbsent(key, uuid);\r\n        return actual == null ? uuid : null;\r\n    }\r\n```\r\n\r\nI highly recommend to write unit tests first - it will help you understand what do you want/need from this new class.","title":"Is this a valid keyed lock implementation?","body":"<p>This method is a source of your future problems:</p>\n<pre><code>    public UUID tryLock(String key){\n        UUID uuid = java.util.UUID.randomUUID();\n        return locks.putIfAbsent(key, uuid);\n    }\n</code></pre>\n<p>Thread 1:</p>\n<pre><code>keyedLock.tryLock(&quot;asdf&quot;) -&gt; null // UUID(1) registered\n</code></pre>\n<p>Thread 2:</p>\n<pre><code>keyedLock.tryLock(&quot;asdf&quot;) -&gt; UUID(1) // existing UUID returned\n</code></pre>\n<p>I guess you expect the first call return registered UUID, and the second call to reject locking attempt, e.g. in the following way:</p>\n<pre><code>    @Nullable\n    public UUID tryLock(String key){\n        UUID uuid = java.util.UUID.randomUUID();\n        UUID actual = locks.putIfAbsent(key, uuid);\n        return actual == null ? uuid : null;\n    }\n</code></pre>\n<p>I highly recommend to write unit tests first - it will help you understand what do you want/need from this new class.</p>\n"}],"owner":{"account_id":28305773,"reputation":1,"user_id":21643808,"display_name":"ables54"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681489237,"creation_date":1681484060,"question_id":76016415,"body_markdown":"I have been searching for a way to support a keyed locking mechanism that allows any thread to lock or unlock the lock for a given key (so not Guava Striped). Perhaps due to this loosened requirement, all of the examples I have found look much more complicated than the below, and I have been struggling to find a reason why the below is insecure for my use case.\r\n\r\n````\r\nimport java.util.concurrent.ConcurrentHashMap;\r\n\r\npublic class KeyedLock {\r\n    private ConcurrentHashMap&lt;String, UUID&gt; locks;\r\n\r\n    public KeyedLock(){\r\n        locks = new ConcurrentHashMap&lt;&gt;();\r\n    }\r\n\r\n    public UUID tryLock(String key){\r\n        UUID uuid = java.util.UUID.randomUUID();\r\n        UUID res = locks.putIfAbsent(key, uuid);\r\n        if(res){\r\n            return null;\r\n        }\r\n        return uuid;\r\n    }\r\n\r\n    public boolean unlock(String key, UUID uuid){\r\n        return locks.remove(key, uuid);\r\n    }\r\n}\r\n````\r\n\r\nIn order to prevent the accidental unlocking of a lock that someone else holds (because I don&#39;t want to restrict it to the same thread), I use a UUID. \r\n","title":"Is this a valid keyed lock implementation?","body":"<p>I have been searching for a way to support a keyed locking mechanism that allows any thread to lock or unlock the lock for a given key (so not Guava Striped). Perhaps due to this loosened requirement, all of the examples I have found look much more complicated than the below, and I have been struggling to find a reason why the below is insecure for my use case.</p>\n<pre><code>import java.util.concurrent.ConcurrentHashMap;\n\npublic class KeyedLock {\n    private ConcurrentHashMap&lt;String, UUID&gt; locks;\n\n    public KeyedLock(){\n        locks = new ConcurrentHashMap&lt;&gt;();\n    }\n\n    public UUID tryLock(String key){\n        UUID uuid = java.util.UUID.randomUUID();\n        UUID res = locks.putIfAbsent(key, uuid);\n        if(res){\n            return null;\n        }\n        return uuid;\n    }\n\n    public boolean unlock(String key, UUID uuid){\n        return locks.remove(key, uuid);\n    }\n}\n</code></pre>\n<p>In order to prevent the accidental unlocking of a lock that someone else holds (because I don't want to restrict it to the same thread), I use a UUID.</p>\n"},{"tags":["java","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681480808,"creation_date":1681480808,"answer_id":76015904,"question_id":76015747,"body_markdown":"Your logic is correct, however you might really not need to extend from `AbstractMappingMessageRouter`. It general it is really enough to mark your `MyLogicRouterService.determineChannel` with a `@Router` or use respective `IntegrationFlow` operator:\r\n\r\n\t/**\r\n\t * Populate the {@link MethodInvokingRouter} for provided {@link Function}\r\n\t * and payload type with default options.\r\n\t * Typically, used with a Lambda expression:\r\n\t * &lt;pre class=&quot;code&quot;&gt;\r\n\t * {@code\r\n\t *  .route(Integer.class, p -&gt; p % 2 == 0)\r\n\t * }\r\n\t * &lt;/pre&gt;\r\n\t * @param expectedType the {@link Class} for expected payload type. It can also be\r\n\t * {@code Message.class} if you wish to access the entire message in the router.\r\n\t * Conversion to this type will be attempted, if necessary.\r\n\t * @param router  the {@link Function} to use.\r\n\t * @param &lt;S&gt; the source payload type or {@code Message.class}.\r\n\t * @param &lt;T&gt; the target result type.\r\n\t * @return the current {@link BaseIntegrationFlowDefinition}.\r\n\t * @see LambdaMessageProcessor\r\n\t */\r\n\tpublic &lt;S, T&gt; B route(Class&lt;S&gt; expectedType, Function&lt;S, T&gt; router) {\r\n\r\nSee more info in docs:\r\n\r\nhttps://docs.spring.io/spring-integration/docs/current/reference/html/router.html#router-annotation\r\n\r\nhttps://docs.spring.io/spring-integration/docs/current/reference/html/dsl.html#java-dsl-routers","title":"Spring Integration Java DSL Router with Logic","body":"<p>Your logic is correct, however you might really not need to extend from <code>AbstractMappingMessageRouter</code>. It general it is really enough to mark your <code>MyLogicRouterService.determineChannel</code> with a <code>@Router</code> or use respective <code>IntegrationFlow</code> operator:</p>\n<pre><code>/**\n * Populate the {@link MethodInvokingRouter} for provided {@link Function}\n * and payload type with default options.\n * Typically, used with a Lambda expression:\n * &lt;pre class=&quot;code&quot;&gt;\n * {@code\n *  .route(Integer.class, p -&gt; p % 2 == 0)\n * }\n * &lt;/pre&gt;\n * @param expectedType the {@link Class} for expected payload type. It can also be\n * {@code Message.class} if you wish to access the entire message in the router.\n * Conversion to this type will be attempted, if necessary.\n * @param router  the {@link Function} to use.\n * @param &lt;S&gt; the source payload type or {@code Message.class}.\n * @param &lt;T&gt; the target result type.\n * @return the current {@link BaseIntegrationFlowDefinition}.\n * @see LambdaMessageProcessor\n */\npublic &lt;S, T&gt; B route(Class&lt;S&gt; expectedType, Function&lt;S, T&gt; router) {\n</code></pre>\n<p>See more info in docs:</p>\n<p><a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/router.html#router-annotation\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/router.html#router-annotation</a></p>\n<p><a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/dsl.html#java-dsl-routers\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/dsl.html#java-dsl-routers</a></p>\n"}],"owner":{"account_id":6802882,"reputation":175,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76015904,"answer_count":1,"score":0,"last_activity_date":1681489102,"creation_date":1681479802,"question_id":76015747,"body_markdown":"Spring Integration 5.x here, using the Java (not XML) DSL. I have a use case for a `MessageChannel` router with some fairly sophisticated logic, and I&#39;d like to define that logic in Java.\r\n\r\nMy best attempt thus far is this:\r\n```\r\npublic class MyLogicRouter extends AbstractMappingMessageRouter implements RouteConstants {\r\n\r\n    private MyLogicRouterService routerService;\r\n\r\n    public MyLogicRouter(MyLogicRouterService routerService) {\r\n        this.routerService = routerService;\r\n    }\r\n\r\n    @Override\r\n    protected List&lt;Object&gt; getChannelKeys(Message&lt;?&gt; message) {\r\n\r\n        MessageChannel channel = routingService.determineChannel(message);\r\n\r\n        return null; // ???\r\n\r\n    }\r\n}\r\n```\r\n\r\nBut I feel like I&#39;m way off and not using the API correctly at all. At the end of the day, I want to be able to take the headers and payload on a `Message` and route the message to the appropriate `MessageChannel` based on some advanced logic that I want to write/define in the Java layer.\r\n\r\nCan anyone help point me in the right direction?","title":"Spring Integration Java DSL Router with Logic","body":"<p>Spring Integration 5.x here, using the Java (not XML) DSL. I have a use case for a <code>MessageChannel</code> router with some fairly sophisticated logic, and I'd like to define that logic in Java.</p>\n<p>My best attempt thus far is this:</p>\n<pre><code>public class MyLogicRouter extends AbstractMappingMessageRouter implements RouteConstants {\n\n    private MyLogicRouterService routerService;\n\n    public MyLogicRouter(MyLogicRouterService routerService) {\n        this.routerService = routerService;\n    }\n\n    @Override\n    protected List&lt;Object&gt; getChannelKeys(Message&lt;?&gt; message) {\n\n        MessageChannel channel = routingService.determineChannel(message);\n\n        return null; // ???\n\n    }\n}\n</code></pre>\n<p>But I feel like I'm way off and not using the API correctly at all. At the end of the day, I want to be able to take the headers and payload on a <code>Message</code> and route the message to the appropriate <code>MessageChannel</code> based on some advanced logic that I want to write/define in the Java layer.</p>\n<p>Can anyone help point me in the right direction?</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1681488890,"post_id":76017050,"comment_id":134069958,"body_markdown":"method is not returning anything and parameters are pass-by-value (in short, changing `result` inside the method does not change the corresponding variable on the calling method; `String` is immutable, but you could use a `StringBuilder` instead - or just return the result of concatenation)","body":"method is not returning anything and parameters are pass-by-value (in short, changing <code>result</code> inside the method does not change the corresponding variable on the calling method; <code>String</code> is immutable, but you could use a <code>StringBuilder</code> instead - or just return the result of concatenation)"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1681488895,"post_id":76017050,"comment_id":134069960,"body_markdown":"Strings are immutable.  you need to write this as a function and return the string","body":"Strings are immutable.  you need to write this as a function and return the string"}],"answers":[{"comments":[{"owner":{"account_id":17827392,"reputation":63,"user_id":12948285,"display_name":"Mert Pınarbaşı"},"score":0,"creation_date":1681854391,"post_id":76017095,"comment_id":134123496,"body_markdown":"Is not the String class is a Reference Type ? How can it be copied like primitive int","body":"Is not the String class is a Reference Type ? How can it be copied like primitive int"}],"tags":[],"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681488992,"creation_date":1681488992,"answer_id":76017095,"question_id":76017050,"body_markdown":"Because `result` is a copy of the `res` you are passing onto the `reverse` method. Your original `res` stays the same. \r\n\r\nOne thing  you could do is to use a `StringBuilder` which will modify the underlying storage.\r\n\r\n```Java\r\n    public static void reverse(String str, StringBuilder result) {\r\n        if(str.length()==0) return; \r\n        result.append( str.charAt(str.length()-1) );\r\n        reverse(str.substring(0,str.length()-1),result); \r\n    }\r\n```","title":"Java Reverse String Recursively Returns Empty","body":"<p>Because <code>result</code> is a copy of the <code>res</code> you are passing onto the <code>reverse</code> method. Your original <code>res</code> stays the same.</p>\n<p>One thing  you could do is to use a <code>StringBuilder</code> which will modify the underlying storage.</p>\n<pre><code>    public static void reverse(String str, StringBuilder result) {\n        if(str.length()==0) return; \n        result.append( str.charAt(str.length()-1) );\n        reverse(str.substring(0,str.length()-1),result); \n    }\n</code></pre>\n"}],"owner":{"account_id":17827392,"reputation":63,"user_id":12948285,"display_name":"Mert Pınarbaşı"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1681489024,"answer_count":1,"score":-1,"last_activity_date":1681489038,"creation_date":1681488654,"question_id":76017050,"body_markdown":"\t```\r\n        String res = &quot;&quot;;\r\n\t\tSolution.reverse(&quot;hellowolrd&quot;, res);\r\n\t\tSystem.out.println(res);\r\n```\r\n\r\n    public static void reverse(String str, String result) {\r\n\t    \tif(str.length()==0) return; \r\n\t    \tresult += str.charAt(str.length()-1); \r\n\t    \treverse(str.substring(0,str.length()-1),result); \r\n\t    }\r\n\r\n\r\n```\r\n\r\nWhy the res variable is empty when I print it out after calling reverse()","title":"Java Reverse String Recursively Returns Empty","body":"<pre><code>```\n    String res = &quot;&quot;;\n    Solution.reverse(&quot;hellowolrd&quot;, res);\n    System.out.println(res);\n</code></pre>\n<pre><code>\n    public static void reverse(String str, String result) {\n            if(str.length()==0) return; \n            result += str.charAt(str.length()-1); \n            reverse(str.substring(0,str.length()-1),result); \n        }\n\n\n</code></pre>\n<p>Why the res variable is empty when I print it out after calling reverse()</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1681488838,"post_id":76016127,"comment_id":134069946,"body_markdown":"BTW, the cluster admins need their own JKS/PEM files to setup authentication on the brokers, so they _should_ know what you&#39;re asking for... What do you mean &quot;via API Key&quot;? Do you have some custom authorization? `sasl.jaas.config` is not the same as  SSL/TLS settings... Also, make sure you are connected to the correct port for the bootstrap servers setting since you could have both `PLAINTEXT` (that maybe Conduktor is using?) and `SSL` port addresses that you&#39;ve set and are throwing errors?","body":"BTW, the cluster admins need their own JKS/PEM files to setup authentication on the brokers, so they <i>should</i> know what you&#39;re asking for... What do you mean &quot;via API Key&quot;? Do you have some custom authorization? <code>sasl.jaas.config</code> is not the same as  SSL/TLS settings... Also, make sure you are connected to the correct port for the bootstrap servers setting since you could have both <code>PLAINTEXT</code> (that maybe Conduktor is using?) and <code>SSL</code> port addresses that you&#39;ve set and are throwing errors?"}],"owner":{"account_id":28305438,"reputation":11,"user_id":21643522,"display_name":"MikeMonger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681488801,"creation_date":1681482322,"question_id":76016127,"body_markdown":"I&#39;m creating a consumer and a producer in Java, but I&#39;m getting the &quot;SSL handshake failed&quot; when I attempt to produce a record/consume a topic.\r\n\r\nAll of my research is telling me I&#39;m missing certificates.  But here&#39;s the thing.  We&#39;re connecting via API key, so in theory I shouldn&#39;t NEED any certificates or JKS files.  I know I didn&#39;t need to specify any when I got Conduktor up and running.  I&#39;m using that to produce to and consume from topics without issue.\r\n\r\nGoing back to my platform team, they just keep telling me to confirm my API key credentials are correct. They are.  When I ask them for the JKS files I need, they have no idea what I&#39;m talking about.  So, I&#39;m kind of stuck.\r\n\r\nAny suggestions?\r\n\r\nI tried just specifying the `sasl.jaas.config` property, which everyone keeps assuring me should be all I need.  I&#39;ve confirmed and reconfirmed I&#39;ve specified it properly.","title":"Getting &quot;SSL handshake failed&quot; when creating Kafka Producer and Consumer","body":"<p>I'm creating a consumer and a producer in Java, but I'm getting the &quot;SSL handshake failed&quot; when I attempt to produce a record/consume a topic.</p>\n<p>All of my research is telling me I'm missing certificates.  But here's the thing.  We're connecting via API key, so in theory I shouldn't NEED any certificates or JKS files.  I know I didn't need to specify any when I got Conduktor up and running.  I'm using that to produce to and consume from topics without issue.</p>\n<p>Going back to my platform team, they just keep telling me to confirm my API key credentials are correct. They are.  When I ask them for the JKS files I need, they have no idea what I'm talking about.  So, I'm kind of stuck.</p>\n<p>Any suggestions?</p>\n<p>I tried just specifying the <code>sasl.jaas.config</code> property, which everyone keeps assuring me should be all I need.  I've confirmed and reconfirmed I've specified it properly.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-cassandra"],"comments":[{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1441053910,"post_id":26329300,"comment_id":52514323,"body_markdown":"Any solution to this? It happens with normal spring boot (without cassandra)","body":"Any solution to this? It happens with normal spring boot (without cassandra)"},{"owner":{"account_id":3065312,"reputation":6928,"user_id":2597143,"accept_rate":83,"display_name":"ESala"},"score":1,"creation_date":1441137375,"post_id":26329300,"comment_id":52554200,"body_markdown":"@ACV nope, I just live with it. I learnt that some spring modules spawn threads of their own, e.g. Cassandra has a thread pool for connections, or RabbitMQ when you use listener containers. These take some time to shutdown after you call `context.close()` to stop the application.","body":"@ACV nope, I just live with it. I learnt that some spring modules spawn threads of their own, e.g. Cassandra has a thread pool for connections, or RabbitMQ when you use listener containers. These take some time to shutdown after you call <code>context.close()</code> to stop the application."}],"answers":[{"comments":[{"owner":{"account_id":3065312,"reputation":6928,"user_id":2597143,"accept_rate":83,"display_name":"ESala"},"score":0,"creation_date":1413150655,"post_id":26329785,"comment_id":41324633,"body_markdown":"Ok, I debugged the application with a breakpoint and there are 17: Thread[New I/O worker#(1-17)]. I&#39;m gonna have to investigate about that. About the ConfigurableApplicationContext.close(), it takes about 30 seconds to stop the application, is that normal??","body":"Ok, I debugged the application with a breakpoint and there are 17: Thread[New I/O worker#(1-17)]. I&#39;m gonna have to investigate about that. About the ConfigurableApplicationContext.close(), it takes about 30 seconds to stop the application, is that normal??"},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1413183188,"post_id":26329785,"comment_id":41332034,"body_markdown":"It&#39;s going to have to wait for whatever is working to release the threads. Sounds like a timeout to me.","body":"It&#39;s going to have to wait for whatever is working to release the threads. Sounds like a timeout to me."},{"owner":{"account_id":3065312,"reputation":6928,"user_id":2597143,"accept_rate":83,"display_name":"ESala"},"score":0,"creation_date":1413199560,"post_id":26329785,"comment_id":41340081,"body_markdown":"Exactly, I suspect the Spring Cassandra is keeping these threads running for some reason.","body":"Exactly, I suspect the Spring Cassandra is keeping these threads running for some reason."},{"owner":{"account_id":8869068,"reputation":2015,"user_id":6623277,"display_name":"KCK"},"score":1,"creation_date":1557835761,"post_id":26329785,"comment_id":98891251,"body_markdown":"is closing the application using ConfigurableApplicationContext.close() a good way to shutdown according to current standards?","body":"is closing the application using ConfigurableApplicationContext.close() a good way to shutdown according to current standards?"},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1557845305,"post_id":26329785,"comment_id":98897332,"body_markdown":"Not sure what you mean. It is the only way to close an application context programmatically.","body":"Not sure what you mean. It is the only way to close an application context programmatically."}],"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"comment_count":5,"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1413146663,"creation_date":1413146663,"answer_id":26329785,"question_id":26329300,"body_markdown":"The answer depends on what it is that is still doing work. You can probably find out with a thread dump (eg using jstack). But if it is anything that was started by Spring you should be able to use `ConfigurableApplicationContext.close()` to stop the app in your main() method (or in the `CommandLineRunner`).","title":"How to shut down a Spring Boot command-line application","body":"<p>The answer depends on what it is that is still doing work. You can probably find out with a thread dump (eg using jstack). But if it is anything that was started by Spring you should be able to use <code>ConfigurableApplicationContext.close()</code> to stop the app in your main() method (or in the <code>CommandLineRunner</code>).</p>\n"},{"comments":[{"owner":{"account_id":3065312,"reputation":6928,"user_id":2597143,"accept_rate":83,"display_name":"ESala"},"score":0,"creation_date":1441140551,"post_id":32340007,"comment_id":52555836,"body_markdown":"well yeah.... if you look at the code on the question, I am doing just that. `SpringApplication.run(Main.class, args)` returns a `ConfigurableApplicationContext` which you can store or `@Autowire` later as I do. The problem I am having on this question is that after calling `close()` on the context, the application stalls for some time.","body":"well yeah.... if you look at the code on the question, I am doing just that. <code>SpringApplication.run(Main.class, args)</code> returns a <code>ConfigurableApplicationContext</code> which you can store or <code>@Autowire</code> later as I do. The problem I am having on this question is that after calling <code>close()</code> on the context, the application stalls for some time."},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1441180233,"post_id":32340007,"comment_id":52568538,"body_markdown":"OK, clear. Could be that the files take time to be flushed into the database","body":"OK, clear. Could be that the files take time to be flushed into the database"}],"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"comment_count":2,"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1614002391,"creation_date":1441137867,"answer_id":32340007,"question_id":26329300,"body_markdown":"I found a solution. You can use this:\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(RsscollectorApplication.class, args).close();\r\n        System.out.println(&quot;done&quot;);\r\n    }\r\n\r\nJust use `.close()` on run.","title":"How to shut down a Spring Boot command-line application","body":"<p>I found a solution. You can use this:</p>\n<pre><code>public static void main(String[] args) {\n    SpringApplication.run(RsscollectorApplication.class, args).close();\n    System.out.println(&quot;done&quot;);\n}\n</code></pre>\n<p>Just use <code>.close()</code> on run.</p>\n"},{"tags":[],"owner":{"account_id":2397738,"reputation":1639,"user_id":2096211,"accept_rate":50,"display_name":"Quan Vo"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1444815116,"creation_date":1444815116,"answer_id":33121623,"question_id":26329300,"body_markdown":"I also met this issue in my current project (spring boot application). \r\nMy solution is:\r\n\r\n    // releasing all resources\r\n    ((ConfigurableApplicationContext) ctx).close();\r\n    // Close application\r\n    System.exit(0);\r\n\r\n`context.close()` don&#39;t stop our console application, it is just releasing the resources.","title":"How to shut down a Spring Boot command-line application","body":"<p>I also met this issue in my current project (spring boot application). \nMy solution is:</p>\n\n<pre><code>// releasing all resources\n((ConfigurableApplicationContext) ctx).close();\n// Close application\nSystem.exit(0);\n</code></pre>\n\n<p><code>context.close()</code> don't stop our console application, it is just releasing the resources.</p>\n"},{"tags":[],"owner":{"account_id":3906953,"reputation":11659,"user_id":3233398,"accept_rate":9,"display_name":"EliuX"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1498075066,"creation_date":1498075066,"answer_id":44685225,"question_id":26329300,"body_markdown":"Use `org.springframework.boot.SpringApplication#exit`. E.g.\r\n\r\n    @Component\r\n    public class OneTimeRunner implements CommandLineRunner {\r\n    \r\n        @Autowired\r\n        private ConfigurableApplicationContext context;\r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception { \r\n            SpringApplication.exit(context);\r\n        }\r\n    }","title":"How to shut down a Spring Boot command-line application","body":"<p>Use <code>org.springframework.boot.SpringApplication#exit</code>. E.g.</p>\n\n<pre><code>@Component\npublic class OneTimeRunner implements CommandLineRunner {\n\n    @Autowired\n    private ConfigurableApplicationContext context;\n\n    @Override\n    public void run(String... args) throws Exception { \n        SpringApplication.exit(context);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":536658,"reputation":6119,"user_id":905544,"display_name":"Abel ANEIROS"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1502196166,"creation_date":1502196166,"answer_id":45568716,"question_id":26329300,"body_markdown":"This is a combination of [@EliuX][1] answer with [@Quan Vo][2] one. Thank you both!\r\n\r\nThe main different is I pass the SpringApplication.exit(context) response code as a parameter to the System.exit() so if there is an error closing the Spring context you will notice.\r\n\r\nThe SpringApplication.exit() will close the Spring context.\r\n\r\nThe System.exit() will close the application.\r\n\r\n    @Component\r\n    public class OneTimeRunner implements CommandLineRunner {\r\n\r\n        @Autowired\r\n        private ConfigurableApplicationContext context;\r\n\r\n        @Override\r\n        public void run(String... args) throws Exception { \r\n           System.exit(SpringApplication.exit(context));\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3233398/eliux\r\n  [2]: https://stackoverflow.com/users/2096211/quan-vo","title":"How to shut down a Spring Boot command-line application","body":"<p>This is a combination of <a href=\"https://stackoverflow.com/users/3233398/eliux\">@EliuX</a> answer with <a href=\"https://stackoverflow.com/users/2096211/quan-vo\">@Quan Vo</a> one. Thank you both!</p>\n\n<p>The main different is I pass the SpringApplication.exit(context) response code as a parameter to the System.exit() so if there is an error closing the Spring context you will notice.</p>\n\n<p>The SpringApplication.exit() will close the Spring context.</p>\n\n<p>The System.exit() will close the application.</p>\n\n<pre><code>@Component\npublic class OneTimeRunner implements CommandLineRunner {\n\n    @Autowired\n    private ConfigurableApplicationContext context;\n\n    @Override\n    public void run(String... args) throws Exception { \n       System.exit(SpringApplication.exit(context));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12815705,"reputation":51,"user_id":9272415,"display_name":"Maciej Kaczorowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661506754,"creation_date":1661506754,"answer_id":73499012,"question_id":26329300,"body_markdown":"When there is no hanging threads application stops automatically without `exit()`. I had the same issue and finally I found the reason why it&#39;s happening. I always rely on spring mechanism, which closes all `Closeable` beans when application exits, but it&#39;s invoked on JVM shutdown hook, so it&#39;ll never be invoked until some non-daemon threads are running. I solved the problem by closing all beans with open threads manually in `CommandLineRunner`. Unfortunately it&#39;s also required for all beans created by auto configurations (e.g. `spring-data-elasticsearch` creates such beans).","title":"How to shut down a Spring Boot command-line application","body":"<p>When there is no hanging threads application stops automatically without <code>exit()</code>. I had the same issue and finally I found the reason why it's happening. I always rely on spring mechanism, which closes all <code>Closeable</code> beans when application exits, but it's invoked on JVM shutdown hook, so it'll never be invoked until some non-daemon threads are running. I solved the problem by closing all beans with open threads manually in <code>CommandLineRunner</code>. Unfortunately it's also required for all beans created by auto configurations (e.g. <code>spring-data-elasticsearch</code> creates such beans).</p>\n"},{"tags":[],"owner":{"account_id":2987401,"reputation":182,"user_id":2535829,"display_name":"Eric Badiere"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669917113,"creation_date":1669917113,"answer_id":74646167,"question_id":26329300,"body_markdown":"A command line application should return an exit code when shutting down. This post describes using the ExitCodeGenerator and how to use it in the spring application.  This approach worked for me:\r\n\r\n@SpringBootApplication\r\npublic class ExitCodeGeneratorDemoApplication implements ExitCodeGenerator {\r\n\r\n    public static void main(String[] args) {\r\n        System.exit(SpringApplication\r\n          .exit(SpringApplication.run(DemoApplication.class, args)));\r\n    }\r\n \r\n    @Override\r\n    public int getExitCode() {\r\n        return 42;\r\n    }\r\n}\r\n\r\nhttps://www.baeldung.com/spring-boot-exit-codes","title":"How to shut down a Spring Boot command-line application","body":"<p>A command line application should return an exit code when shutting down. This post describes using the ExitCodeGenerator and how to use it in the spring application.  This approach worked for me:</p>\n<p>@SpringBootApplication\npublic class ExitCodeGeneratorDemoApplication implements ExitCodeGenerator {</p>\n<pre><code>public static void main(String[] args) {\n    System.exit(SpringApplication\n      .exit(SpringApplication.run(DemoApplication.class, args)));\n}\n\n@Override\npublic int getExitCode() {\n    return 42;\n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://www.baeldung.com/spring-boot-exit-codes\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-exit-codes</a></p>\n"},{"tags":[],"owner":{"account_id":17585365,"reputation":194,"user_id":12758199,"display_name":"The_Java_Guy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681488767,"creation_date":1681488767,"answer_id":76017061,"question_id":26329300,"body_markdown":"I have developed a command line spring application (Spring version 2.7) that stops after executing business logic. All I needed was following application configuration that tells spring that this is not a web application.\r\n\r\n**Configuration**\r\n\r\n```yaml\r\nspring:\r\n  main:\r\n    web-application-type: none\r\n```\r\n\r\n**Spring main class** \r\n\r\n```java\r\n@SpringBootApplication\r\npublic class DataInjectionApplication implements CommandLineRunner {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DataInjectionApplication.class, args);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void run(String... args) {\r\n        \r\n        //execute business logic here\r\n\r\n    }\r\n}\r\n```","title":"How to shut down a Spring Boot command-line application","body":"<p>I have developed a command line spring application (Spring version 2.7) that stops after executing business logic. All I needed was following application configuration that tells spring that this is not a web application.</p>\n<p><strong>Configuration</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  main:\n    web-application-type: none\n</code></pre>\n<p><strong>Spring main class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class DataInjectionApplication implements CommandLineRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DataInjectionApplication.class, args);\n    }\n\n\n    @Override\n    public void run(String... args) {\n        \n        //execute business logic here\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3065312,"reputation":6928,"user_id":2597143,"accept_rate":83,"display_name":"ESala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58660,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":26329785,"answer_count":8,"score":56,"last_activity_date":1681488767,"creation_date":1413143453,"question_id":26329300,"body_markdown":"I am building a Command Line java application using Spring Boot to get it working quickly.\r\n\r\nThe application loads different types of files (for example CSV) and loads them into a Cassandra Database. It does NOT use any web components, it is not a web application.\r\n\r\nThe problem I am having is to stop the application when the work is done. I am using the Spring CommandLineRunner interface with a `@Component` to run the tasks, as shown below, but when the work is completed the application does not stop, it keeps running for some reason and I can&#39;t find a way to stop it.\r\n\r\n\r\n    @Component\r\n    public class OneTimeRunner implements CommandLineRunner {\r\n    \r\n        @Autowired\r\n        private CassandraOperations cassandra;\r\n\r\n        @Autowired\r\n        private ConfigurableApplicationContext context;\r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n            // do some work here and then quit\r\n            context.close();\r\n        }\r\n    }\r\n\r\n**UPDATE**: the problem seems to be `spring-cassandra`, since there is nothing else in the project. Does anyone know why it keeps threads running in the background that prevent the application from stopping?\r\n\r\n**UPDATE**: the problem disappeared by updating to the latest spring boot version.","title":"How to shut down a Spring Boot command-line application","body":"<p>I am building a Command Line java application using Spring Boot to get it working quickly.</p>\n\n<p>The application loads different types of files (for example CSV) and loads them into a Cassandra Database. It does NOT use any web components, it is not a web application.</p>\n\n<p>The problem I am having is to stop the application when the work is done. I am using the Spring CommandLineRunner interface with a <code>@Component</code> to run the tasks, as shown below, but when the work is completed the application does not stop, it keeps running for some reason and I can't find a way to stop it.</p>\n\n<pre><code>@Component\npublic class OneTimeRunner implements CommandLineRunner {\n\n    @Autowired\n    private CassandraOperations cassandra;\n\n    @Autowired\n    private ConfigurableApplicationContext context;\n\n    @Override\n    public void run(String... args) throws Exception {\n        // do some work here and then quit\n        context.close();\n    }\n}\n</code></pre>\n\n<p><strong>UPDATE</strong>: the problem seems to be <code>spring-cassandra</code>, since there is nothing else in the project. Does anyone know why it keeps threads running in the background that prevent the application from stopping?</p>\n\n<p><strong>UPDATE</strong>: the problem disappeared by updating to the latest spring boot version.</p>\n"},{"tags":["java","image","jpeg"],"comments":[{"owner":{"account_id":41728,"reputation":37898,"user_id":121364,"accept_rate":72,"display_name":"J&#248;rn Schou-Rode"},"score":3,"creation_date":1246454570,"post_id":1069095,"comment_id":881410,"body_markdown":"http://www.google.com/search?hl=en&amp;q=java+thumbnail+jpg","body":"<a href=\"http://www.google.com/search?hl=en&amp;q=java+thumbnail+jpg\" rel=\"nofollow noreferrer\">google.com/search?hl=en&amp;q=java+thumbnail+jpg</a>"},{"owner":{"account_id":23521,"reputation":7677,"user_id":59009,"accept_rate":60,"display_name":"mfloryan"},"score":1,"creation_date":1246454686,"post_id":1069095,"comment_id":881420,"body_markdown":"Use a library like ImageMagick - lots of examples on the web","body":"Use a library like ImageMagick - lots of examples on the web"},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":0,"creation_date":1246454860,"post_id":1069095,"comment_id":881436,"body_markdown":"Oops, thanks for fixing my typos.  I prolly shouldn&#39;t introduce more typos after editing...","body":"Oops, thanks for fixing my typos.  I prolly shouldn&#39;t introduce more typos after editing..."}],"answers":[{"comments":[{"owner":{"account_id":1415830,"reputation":7284,"user_id":1341526,"accept_rate":96,"display_name":"jacktrades"},"score":0,"creation_date":1357830039,"post_id":1069124,"comment_id":19792635,"body_markdown":"Would this code change with java.nio package? (writing back to disk)","body":"Would this code change with java.nio package? (writing back to disk)"},{"owner":{"account_id":5469774,"reputation":539,"user_id":4349557,"display_name":"kevto"},"score":2,"creation_date":1477662981,"post_id":1069124,"comment_id":67870465,"body_markdown":"@jacktrades no it wouldn&#39;t. You can use `ImageIO.write()` method to write it back to disk. I know, the comment is very old but for those whom are having the same question as jack.","body":"@jacktrades no it wouldn&#39;t. You can use <code>ImageIO.write()</code> method to write it back to disk. I know, the comment is very old but for those whom are having the same question as jack."}],"tags":[],"owner":{"account_id":22694,"reputation":11506,"user_id":56242,"accept_rate":96,"display_name":"Savvas Dalkitsis"},"comment_count":2,"down_vote_count":0,"up_vote_count":82,"is_accepted":false,"score":82,"last_activity_date":1246456231,"creation_date":1246454679,"answer_id":1069124,"question_id":1069095,"body_markdown":"    Image img = ImageIO.read(new File(&quot;test.jpg&quot;)).getScaledInstance(100, 100, BufferedImage.SCALE_SMOOTH);\r\n\r\nThis will create a 100x100 pixels thumbnail as an Image object. If you want to write it back to disk simply convert the code to this:\r\n\r\n    BufferedImage img = new BufferedImage(100, 100, BufferedImage.TYPE_INT_RGB);\r\n    img.createGraphics().drawImage(ImageIO.read(new File(&quot;test.jpg&quot;)).getScaledInstance(100, 100, Image.SCALE_SMOOTH),0,0,null);\r\n    ImageIO.write(img, &quot;jpg&quot;, new File(&quot;test_thumb.jpg&quot;));\r\n\r\nAlso if you are concerned about speed issues (the method described above is rather slow if you want to scale many images) use these methods and the following declaration :\r\n\r\n    private BufferedImage scale(BufferedImage source,double ratio) {\r\n      int w = (int) (source.getWidth() * ratio);\r\n      int h = (int) (source.getHeight() * ratio);\r\n      BufferedImage bi = getCompatibleImage(w, h);\r\n      Graphics2D g2d = bi.createGraphics();\r\n      double xScale = (double) w / source.getWidth();\r\n      double yScale = (double) h / source.getHeight();\r\n      AffineTransform at = AffineTransform.getScaleInstance(xScale,yScale);\r\n      g2d.drawRenderedImage(source, at);\r\n      g2d.dispose();\r\n      return bi;\r\n    }\r\n    \r\n    private BufferedImage getCompatibleImage(int w, int h) {\r\n      GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n      GraphicsDevice gd = ge.getDefaultScreenDevice();\r\n      GraphicsConfiguration gc = gd.getDefaultConfiguration();\r\n      BufferedImage image = gc.createCompatibleImage(w, h);\r\n      return image;\r\n    }\r\n\r\nAnd then call :\r\n\r\n    BufferedImage scaled = scale(img,0.5);\r\n\r\nwhere 0.5 is the scale ratio and img is a BufferedImage containing the normal-sized image.","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<pre><code>Image img = ImageIO.read(new File(\"test.jpg\")).getScaledInstance(100, 100, BufferedImage.SCALE_SMOOTH);\n</code></pre>\n\n<p>This will create a 100x100 pixels thumbnail as an Image object. If you want to write it back to disk simply convert the code to this:</p>\n\n<pre><code>BufferedImage img = new BufferedImage(100, 100, BufferedImage.TYPE_INT_RGB);\nimg.createGraphics().drawImage(ImageIO.read(new File(\"test.jpg\")).getScaledInstance(100, 100, Image.SCALE_SMOOTH),0,0,null);\nImageIO.write(img, \"jpg\", new File(\"test_thumb.jpg\"));\n</code></pre>\n\n<p>Also if you are concerned about speed issues (the method described above is rather slow if you want to scale many images) use these methods and the following declaration :</p>\n\n<pre><code>private BufferedImage scale(BufferedImage source,double ratio) {\n  int w = (int) (source.getWidth() * ratio);\n  int h = (int) (source.getHeight() * ratio);\n  BufferedImage bi = getCompatibleImage(w, h);\n  Graphics2D g2d = bi.createGraphics();\n  double xScale = (double) w / source.getWidth();\n  double yScale = (double) h / source.getHeight();\n  AffineTransform at = AffineTransform.getScaleInstance(xScale,yScale);\n  g2d.drawRenderedImage(source, at);\n  g2d.dispose();\n  return bi;\n}\n\nprivate BufferedImage getCompatibleImage(int w, int h) {\n  GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n  GraphicsDevice gd = ge.getDefaultScreenDevice();\n  GraphicsConfiguration gc = gd.getDefaultConfiguration();\n  BufferedImage image = gc.createCompatibleImage(w, h);\n  return image;\n}\n</code></pre>\n\n<p>And then call :</p>\n\n<pre><code>BufferedImage scaled = scale(img,0.5);\n</code></pre>\n\n<p>where 0.5 is the scale ratio and img is a BufferedImage containing the normal-sized image.</p>\n"},{"comments":[{"owner":{"account_id":945625,"reputation":2558,"user_id":972932,"accept_rate":66,"display_name":"gyorgyabraham"},"score":3,"creation_date":1353322467,"post_id":1069139,"comment_id":18395527,"body_markdown":"This just a native interface around ImageMagick. Problem 1.: external dependency Problem2.: calling native functions from Java. This makes JMagick suboptimal.","body":"This just a native interface around ImageMagick. Problem 1.: external dependency Problem2.: calling native functions from Java. This makes JMagick suboptimal."}],"tags":[],"owner":{"account_id":23521,"reputation":7677,"user_id":59009,"accept_rate":60,"display_name":"mfloryan"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1246454810,"creation_date":1246454810,"answer_id":1069139,"question_id":1069095,"body_markdown":"The [JMagick][1] library (and implementation of [ImageMagick][2] in Java) will have what you need.\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/jmagick/\r\n  [2]: http://www.imagemagick.org/script/index.php","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>The <a href=\"http://sourceforge.net/projects/jmagick/\" rel=\"nofollow noreferrer\">JMagick</a> library (and implementation of <a href=\"http://www.imagemagick.org/script/index.php\" rel=\"nofollow noreferrer\">ImageMagick</a> in Java) will have what you need.</p>\n"},{"tags":[],"owner":{"account_id":171273,"reputation":1580,"user_id":398582,"accept_rate":86,"display_name":"Kem Mason"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681488737,"creation_date":1279757049,"answer_id":3304823,"question_id":1069095,"body_markdown":"the Java code above (with the scale / getCompatibleImage methods) worked great for me, but when I deployed to a server, it stopped working, because the server had no display associated with it -- anyone else with this problem can fix it by using:\r\n\r\n    BufferedImage bi = new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB); \r\n\r\ninstead of \r\n\r\n    BufferedImage bi = getCompatibleImage(w, h);\r\n\r\nand deleting the `getCompatibleImage()` method\r\n\r\n(later note -- it turns out this works great for most images, but I got a bunch from my companys marketing department that are 32 bit color depth jpeg images, and the library throws an unsupported image format exception for all of those :( -- imagemagick / jmagick are starting to look more appealing)","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>the Java code above (with the scale / getCompatibleImage methods) worked great for me, but when I deployed to a server, it stopped working, because the server had no display associated with it -- anyone else with this problem can fix it by using:</p>\n<pre><code>BufferedImage bi = new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB); \n</code></pre>\n<p>instead of</p>\n<pre><code>BufferedImage bi = getCompatibleImage(w, h);\n</code></pre>\n<p>and deleting the <code>getCompatibleImage()</code> method</p>\n<p>(later note -- it turns out this works great for most images, but I got a bunch from my companys marketing department that are 32 bit color depth jpeg images, and the library throws an unsupported image format exception for all of those :( -- imagemagick / jmagick are starting to look more appealing)</p>\n"},{"comments":[{"owner":{"account_id":63738,"reputation":1341,"user_id":188524,"accept_rate":60,"display_name":"cracked_all"},"score":0,"creation_date":1326204022,"post_id":6586065,"comment_id":10985208,"body_markdown":"Thanks this lib is really awesome. None of the methods mentioned above worked on my test image, but your worked like a charm. I love the various resize options you&#39;ve given.","body":"Thanks this lib is really awesome. None of the methods mentioned above worked on my test image, but your worked like a charm. I love the various resize options you&#39;ve given."},{"owner":{"account_id":266126,"reputation":10632,"user_id":553524,"accept_rate":82,"display_name":"Riyad Kalla"},"score":0,"creation_date":1326218560,"post_id":6586065,"comment_id":10990954,"body_markdown":"@cracked_all thank you for the kind words; I am glad to hear it made your life easier!","body":"@cracked_all thank you for the kind words; I am glad to hear it made your life easier!"},{"owner":{"account_id":2876792,"reputation":1939,"user_id":2468620,"accept_rate":56,"display_name":"Jardo"},"score":0,"creation_date":1571148598,"post_id":6586065,"comment_id":103138810,"body_markdown":"This is a great library indeed. You should post it to Maven Central.","body":"This is a great library indeed. You should post it to Maven Central."},{"owner":{"account_id":96550,"reputation":4298,"user_id":262376,"accept_rate":44,"display_name":"rjha94"},"score":0,"creation_date":1598183096,"post_id":6586065,"comment_id":112368696,"body_markdown":"Hi Riyad, is your lib in maven central?","body":"Hi Riyad, is your lib in maven central?"}],"tags":[],"owner":{"account_id":266126,"reputation":10632,"user_id":553524,"accept_rate":82,"display_name":"Riyad Kalla"},"comment_count":4,"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1453991634,"creation_date":1309884460,"answer_id":6586065,"question_id":1069095,"body_markdown":"As you might have found out &quot;easy&quot; and &quot;good looking result&quot; are two very different things. I have encapsulated both of these requirements into a very simple [java image scaling library][1] (Apache 2 license) that just does everything right for you.\r\n\r\nExample code to create a thumbnail looks like this:\r\n\r\n    BufferedImage img = ImageIO.read(...); // load image\r\n    BufferedImage scaledImg = Scalr.resize(img, 150);\r\n\r\nYour image proportions are honored, the library makes a best-guess at the method it should use based on the amount of change in the image due to scaling (FASTEST, BALANCED or QUALITY) and the best supported Java2D image types are always used to do the scaling to avoid the issue of &quot;black&quot; results or really terrible looking output (e.g. overly dithered GIF images).\r\n\r\nAlso, if you want to force it to output the best looking thumbnail possible in Java, the API call would look like this:\r\n\r\n    BufferedImage img = ImageIO.read(...); // load image\r\n    BufferedImage scaledImg = Scalr.resize(img, Method.QUALITY, \r\n                                           150, 100, Scalr.OP_ANTIALIAS);\r\n\r\nNot only will the library use the Java2D recommended incremental scaling for you to give you the best looking result, it will also apply an optional antialiasing effect to the thumbnail (ConvolveOp with a very fine-tuned kernel) to every-so-slightly soften the transitions between pixel values so make the thumbnail look more uniform and not sharp or poppy as you might have seen when you go from very large images down to very small ones.\r\n\r\nYou can read through all the comments in the library (the code itself is doc&#39;ed heavily) to see all the different JDK bugs that are worked around or optimizations that are made to improve the performance or memory usage. I spent a LOT of time tuning this implementation and have had a lot of good feedback from folks deploying it in web apps and other Java projects.\r\n\r\n  [1]: https://github.com/thebuzzmedia/imgscalr","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>As you might have found out \"easy\" and \"good looking result\" are two very different things. I have encapsulated both of these requirements into a very simple <a href=\"https://github.com/thebuzzmedia/imgscalr\" rel=\"noreferrer\">java image scaling library</a> (Apache 2 license) that just does everything right for you.</p>\n\n<p>Example code to create a thumbnail looks like this:</p>\n\n<pre><code>BufferedImage img = ImageIO.read(...); // load image\nBufferedImage scaledImg = Scalr.resize(img, 150);\n</code></pre>\n\n<p>Your image proportions are honored, the library makes a best-guess at the method it should use based on the amount of change in the image due to scaling (FASTEST, BALANCED or QUALITY) and the best supported Java2D image types are always used to do the scaling to avoid the issue of \"black\" results or really terrible looking output (e.g. overly dithered GIF images).</p>\n\n<p>Also, if you want to force it to output the best looking thumbnail possible in Java, the API call would look like this:</p>\n\n<pre><code>BufferedImage img = ImageIO.read(...); // load image\nBufferedImage scaledImg = Scalr.resize(img, Method.QUALITY, \n                                       150, 100, Scalr.OP_ANTIALIAS);\n</code></pre>\n\n<p>Not only will the library use the Java2D recommended incremental scaling for you to give you the best looking result, it will also apply an optional antialiasing effect to the thumbnail (ConvolveOp with a very fine-tuned kernel) to every-so-slightly soften the transitions between pixel values so make the thumbnail look more uniform and not sharp or poppy as you might have seen when you go from very large images down to very small ones.</p>\n\n<p>You can read through all the comments in the library (the code itself is doc'ed heavily) to see all the different JDK bugs that are worked around or optimizations that are made to improve the performance or memory usage. I spent a LOT of time tuning this implementation and have had a lot of good feedback from folks deploying it in web apps and other Java projects.</p>\n"},{"comments":[{"owner":{"account_id":1248514,"reputation":3080,"user_id":1209451,"accept_rate":73,"display_name":"Oleg"},"score":0,"creation_date":1426198085,"post_id":10101739,"comment_id":46285694,"body_markdown":"BufferedImage img2 = new BufferedImage(100, 100 ,BufferedImage.TYPE_INT_RGB);\n\nimg2 = img.getSubimage((int)((percentWidth-100)/2), 0, 100, 100);\n\nmore correct is\n\nBufferedImage img2 = img.getSubimage((int)((percentWidth-100)/2), 0, 100, 100);","body":"BufferedImage img2 = new BufferedImage(100, 100 ,BufferedImage.TYPE_INT_RGB);  img2 = img.getSubimage((int)((percentWidth-100)/2), 0, 100, 100);  more correct is  BufferedImage img2 = img.getSubimage((int)((percentWidth-100)/2), 0, 100, 100);"}],"tags":[],"owner":{"account_id":1396252,"reputation":8947,"user_id":1325942,"accept_rate":56,"display_name":"Ali Imran"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1334129683,"creation_date":1334129683,"answer_id":10101739,"question_id":1069095,"body_markdown":"This is simple way of creating a 100 X 100 thumbnail without any stretch or skew in image.  \r\n\r\n    private  void saveScaledImage(String filePath,String outputFile){\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tBufferedImage sourceImage = ImageIO.read(new File(filePath));\r\n\t\t\tint width = sourceImage.getWidth();\r\n\t\t\tint height = sourceImage.getHeight();\r\n\t\t\t\r\n\t\t\tif(width&gt;height){\r\n\t\t\t\tfloat extraSize=\theight-100;\r\n\t\t\t\tfloat percentHight = (extraSize/height)*100;\r\n\t\t\t\tfloat percentWidth = width - ((width/100)*percentHight);\r\n\t\t\t\tBufferedImage img = new BufferedImage((int)percentWidth, 100, BufferedImage.TYPE_INT_RGB);\r\n\t\t\t\tImage scaledImage = sourceImage.getScaledInstance((int)percentWidth, 100, Image.SCALE_SMOOTH);\r\n\t\t\t\timg.createGraphics().drawImage(scaledImage, 0, 0, null);\r\n\t\t\t\tBufferedImage img2 = new BufferedImage(100, 100 ,BufferedImage.TYPE_INT_RGB);\r\n\t\t\t\timg2 = img.getSubimage((int)((percentWidth-100)/2), 0, 100, 100);\r\n\t\t\t\t\r\n\t\t\t\tImageIO.write(img2, &quot;jpg&quot;, new File(outputFile));    \r\n\t\t\t}else{\r\n\t\t\t\tfloat extraSize=\twidth-100;\r\n\t\t\t \tfloat percentWidth = (extraSize/width)*100;\r\n\t\t\t \tfloat  percentHight = height - ((height/100)*percentWidth);\r\n\t\t\t\tBufferedImage img = new BufferedImage(100, (int)percentHight, BufferedImage.TYPE_INT_RGB);\r\n\t\t\t\tImage scaledImage = sourceImage.getScaledInstance(100,(int)percentHight, Image.SCALE_SMOOTH);\r\n\t\t\t\timg.createGraphics().drawImage(scaledImage, 0, 0, null);\r\n\t\t\t\tBufferedImage img2 = new BufferedImage(100, 100 ,BufferedImage.TYPE_INT_RGB);\r\n\t\t\t\timg2 = img.getSubimage(0, (int)((percentHight-100)/2), 100, 100);\r\n\t\t\t\t\r\n\t\t\t\tImageIO.write(img2, &quot;jpg&quot;, new File(outputFile));\r\n\t\t\t}\r\n\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n    }","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>This is simple way of creating a 100 X 100 thumbnail without any stretch or skew in image.  </p>\n\n<pre><code>private  void saveScaledImage(String filePath,String outputFile){\n    try {\n\n        BufferedImage sourceImage = ImageIO.read(new File(filePath));\n        int width = sourceImage.getWidth();\n        int height = sourceImage.getHeight();\n\n        if(width&gt;height){\n            float extraSize=    height-100;\n            float percentHight = (extraSize/height)*100;\n            float percentWidth = width - ((width/100)*percentHight);\n            BufferedImage img = new BufferedImage((int)percentWidth, 100, BufferedImage.TYPE_INT_RGB);\n            Image scaledImage = sourceImage.getScaledInstance((int)percentWidth, 100, Image.SCALE_SMOOTH);\n            img.createGraphics().drawImage(scaledImage, 0, 0, null);\n            BufferedImage img2 = new BufferedImage(100, 100 ,BufferedImage.TYPE_INT_RGB);\n            img2 = img.getSubimage((int)((percentWidth-100)/2), 0, 100, 100);\n\n            ImageIO.write(img2, \"jpg\", new File(outputFile));    \n        }else{\n            float extraSize=    width-100;\n            float percentWidth = (extraSize/width)*100;\n            float  percentHight = height - ((height/100)*percentWidth);\n            BufferedImage img = new BufferedImage(100, (int)percentHight, BufferedImage.TYPE_INT_RGB);\n            Image scaledImage = sourceImage.getScaledInstance(100,(int)percentHight, Image.SCALE_SMOOTH);\n            img.createGraphics().drawImage(scaledImage, 0, 0, null);\n            BufferedImage img2 = new BufferedImage(100, 100 ,BufferedImage.TYPE_INT_RGB);\n            img2 = img.getSubimage(0, (int)((percentHight-100)/2), 100, 100);\n\n            ImageIO.write(img2, \"jpg\", new File(outputFile));\n        }\n\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3199431,"reputation":194,"user_id":2701795,"display_name":"Mouli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392575661,"creation_date":1392575661,"answer_id":21815609,"question_id":1069095,"body_markdown":"I have created a application called fotovault (sourceforge.net) which can upload images and create thumbnails in java using imagej apis.\r\n\r\nPlease read my blog below\r\n\r\nhttp://www.gingercart.com/Home/java-snippets/create-image-thumbnail-in-java-using-imagej-api","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>I have created a application called fotovault (sourceforge.net) which can upload images and create thumbnails in java using imagej apis.</p>\n\n<p>Please read my blog below</p>\n\n<p><a href=\"http://www.gingercart.com/Home/java-snippets/create-image-thumbnail-in-java-using-imagej-api\" rel=\"nofollow\">http://www.gingercart.com/Home/java-snippets/create-image-thumbnail-in-java-using-imagej-api</a></p>\n"},{"tags":[],"owner":{"account_id":1317070,"reputation":33,"user_id":1263692,"display_name":"Gagan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401772556,"creation_date":1401772556,"answer_id":24007587,"question_id":1069095,"body_markdown":"I have gone through a blog according to which you have following options - \r\n\r\n1. For simple RGB files use ImageScalr . ImageIO class is used for reading files and ImageScalr to create thumbnails\r\n2. For supporting RGB + CYMK, use ImageIO and JAI (Java Advanced Imaging) API for reading files and ImageScalr to create thumbnail.\r\n3. In case you don’t know what file formats, color mode you are going to deal with, safest option is to use ImageMagick. \r\n\r\nHere is [**link**][1] that gives a complete answer with code snippets. \r\n\r\n\r\n  [1]: http://paxcel.net/blog/java-thumbnail-generator-imagescalar-vs-imagemagic/","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>I have gone through a blog according to which you have following options - </p>\n\n<ol>\n<li>For simple RGB files use ImageScalr . ImageIO class is used for reading files and ImageScalr to create thumbnails</li>\n<li>For supporting RGB + CYMK, use ImageIO and JAI (Java Advanced Imaging) API for reading files and ImageScalr to create thumbnail.</li>\n<li>In case you don’t know what file formats, color mode you are going to deal with, safest option is to use ImageMagick. </li>\n</ol>\n\n<p>Here is <a href=\"http://paxcel.net/blog/java-thumbnail-generator-imagescalar-vs-imagemagic/\" rel=\"nofollow\"><strong>link</strong></a> that gives a complete answer with code snippets. </p>\n"},{"tags":[],"owner":{"account_id":2278351,"reputation":1692,"user_id":2004087,"display_name":"martins.tuga"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1439317415,"creation_date":1439317415,"answer_id":31949257,"question_id":1069095,"body_markdown":"I&#39;ve used Thumbnailator! It solved my problem with two lines of code.\r\n\r\nhttps://github.com/coobird/thumbnailator","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>I've used Thumbnailator! It solved my problem with two lines of code.</p>\n\n<p><a href=\"https://github.com/coobird/thumbnailator\" rel=\"nofollow\">https://github.com/coobird/thumbnailator</a></p>\n"},{"tags":[],"owner":{"account_id":2815364,"reputation":4577,"user_id":2420599,"display_name":"Gabriel Archanjo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464617601,"creation_date":1464617601,"answer_id":37527828,"question_id":1069095,"body_markdown":"There are many image processing frameworks available that you can do this with just a few lines. The example below generates the thumbnails in different resolutions (given a width as reference) using [Marvin Framework][1]. The three thumbnails were generated in **92 ms**.\r\n\r\n**input:**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**output:**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\n    import static marvin.MarvinPluginCollection.*;\r\n    \r\n    MarvinImage image = MarvinImageIO.loadImage(&quot;./res/input.jpg&quot;);\r\n    MarvinImage scaledImage = new MarvinImage(1,1);\r\n\r\n    scale(image, scaledImage, 250);\r\n\tMarvinImageIO.saveImage(scaledImage, &quot;./res/output_x250.jpg&quot;);\r\n\t\t\r\n\tscale(image, scaledImage, 150);\r\n\tMarvinImageIO.saveImage(scaledImage, &quot;./res/output_x150.jpg&quot;);\r\n\t\t\r\n\tscale(image, scaledImage, 50);\r\n\tMarvinImageIO.saveImage(scaledImage, &quot;./res/output_x50.jpg&quot;);\r\n\r\n\r\n  [1]: http://marvinproject.sourceforge.net/\r\n  [2]: http://i.stack.imgur.com/ldTwX.jpg\r\n  [3]: http://i.stack.imgur.com/XqTTw.jpg\r\n  [4]: http://i.stack.imgur.com/R7RSm.jpg\r\n  [5]: http://i.stack.imgur.com/cw7CV.jpg","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>There are many image processing frameworks available that you can do this with just a few lines. The example below generates the thumbnails in different resolutions (given a width as reference) using <a href=\"http://marvinproject.sourceforge.net/\" rel=\"nofollow noreferrer\">Marvin Framework</a>. The three thumbnails were generated in <strong>92 ms</strong>.</p>\n\n<p><strong>input:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/ldTwX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ldTwX.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>output:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/XqTTw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XqTTw.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/R7RSm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R7RSm.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/cw7CV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cw7CV.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import static marvin.MarvinPluginCollection.*;\n\nMarvinImage image = MarvinImageIO.loadImage(\"./res/input.jpg\");\nMarvinImage scaledImage = new MarvinImage(1,1);\n\nscale(image, scaledImage, 250);\nMarvinImageIO.saveImage(scaledImage, \"./res/output_x250.jpg\");\n\nscale(image, scaledImage, 150);\nMarvinImageIO.saveImage(scaledImage, \"./res/output_x150.jpg\");\n\nscale(image, scaledImage, 50);\nMarvinImageIO.saveImage(scaledImage, \"./res/output_x50.jpg\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8854545,"reputation":63,"user_id":6612689,"display_name":"Johannes J"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469005058,"creation_date":1469004580,"answer_id":38476552,"question_id":1069095,"body_markdown":"Simple way to create a thumbnail without stretching or a library. Works with transparency in pngs, too.\r\n\r\n\r\n    public File createThumbnail(String imageUrl, String targetPath) {\r\n        final int imageSize = 100;\r\n        File thumbnail = new File(targetPath);\r\n\r\n        try {\r\n            thumbnail.getParentFile().mkdirs();\r\n            thumbnail.createNewFile();\r\n            BufferedImage sourceImage = ImageIO.read(new File(imageUrl));\r\n            float width = sourceImage.getWidth();\r\n            float height = sourceImage.getHeight();\r\n\r\n            BufferedImage img2;\r\n            if (width &gt; height) {\r\n                float scaledWidth = (width / height) * (float) imageSize;\r\n                float scaledHeight = imageSize;\r\n\r\n                BufferedImage img = new BufferedImage((int) scaledWidth, (int) scaledHeight, sourceImage.getType());\r\n                Image scaledImage = sourceImage.getScaledInstance((int) scaledWidth, (int) scaledHeight, Image.SCALE_SMOOTH);\r\n                img.createGraphics().drawImage(scaledImage, 0, 0, null);\r\n\r\n                int offset = (int) ((scaledWidth - scaledHeight) / 2f);\r\n                img2 = img.getSubimage(offset, 0, imageSize, imageSize);\r\n            }\r\n            else if (width &lt; height) {\r\n                float scaledWidth = imageSize;\r\n                float scaledHeight = (height / width) * (float) imageSize;\r\n\r\n                BufferedImage img = new BufferedImage((int) scaledWidth, (int) scaledHeight, sourceImage.getType());\r\n                Image scaledImage = sourceImage.getScaledInstance((int) scaledWidth, (int) scaledHeight, Image.SCALE_SMOOTH);\r\n                img.createGraphics().drawImage(scaledImage, 0, 0, null);\r\n\r\n                int offset = (int) ((scaledHeight - scaledWidth) / 2f);\r\n                img2 = img.getSubimage(0, offset, imageSize, imageSize);\r\n            }\r\n            else {\r\n                img2 = new BufferedImage(imageSize, imageSize, sourceImage.getType());\r\n                Image scaledImage = sourceImage.getScaledInstance(imageSize, imageSize, Image.SCALE_SMOOTH);\r\n                img2.createGraphics().drawImage(scaledImage, 0, 0, null);\r\n            }\r\n            ImageIO.write(img2, &quot;png&quot;, thumbnail);\r\n        }\r\n        catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n        return thumbnail;\r\n    }","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>Simple way to create a thumbnail without stretching or a library. Works with transparency in pngs, too.</p>\n\n<pre><code>public File createThumbnail(String imageUrl, String targetPath) {\n    final int imageSize = 100;\n    File thumbnail = new File(targetPath);\n\n    try {\n        thumbnail.getParentFile().mkdirs();\n        thumbnail.createNewFile();\n        BufferedImage sourceImage = ImageIO.read(new File(imageUrl));\n        float width = sourceImage.getWidth();\n        float height = sourceImage.getHeight();\n\n        BufferedImage img2;\n        if (width &gt; height) {\n            float scaledWidth = (width / height) * (float) imageSize;\n            float scaledHeight = imageSize;\n\n            BufferedImage img = new BufferedImage((int) scaledWidth, (int) scaledHeight, sourceImage.getType());\n            Image scaledImage = sourceImage.getScaledInstance((int) scaledWidth, (int) scaledHeight, Image.SCALE_SMOOTH);\n            img.createGraphics().drawImage(scaledImage, 0, 0, null);\n\n            int offset = (int) ((scaledWidth - scaledHeight) / 2f);\n            img2 = img.getSubimage(offset, 0, imageSize, imageSize);\n        }\n        else if (width &lt; height) {\n            float scaledWidth = imageSize;\n            float scaledHeight = (height / width) * (float) imageSize;\n\n            BufferedImage img = new BufferedImage((int) scaledWidth, (int) scaledHeight, sourceImage.getType());\n            Image scaledImage = sourceImage.getScaledInstance((int) scaledWidth, (int) scaledHeight, Image.SCALE_SMOOTH);\n            img.createGraphics().drawImage(scaledImage, 0, 0, null);\n\n            int offset = (int) ((scaledHeight - scaledWidth) / 2f);\n            img2 = img.getSubimage(0, offset, imageSize, imageSize);\n        }\n        else {\n            img2 = new BufferedImage(imageSize, imageSize, sourceImage.getType());\n            Image scaledImage = sourceImage.getScaledInstance(imageSize, imageSize, Image.SCALE_SMOOTH);\n            img2.createGraphics().drawImage(scaledImage, 0, 0, null);\n        }\n        ImageIO.write(img2, \"png\", thumbnail);\n    }\n    catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    return thumbnail;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4089332,"reputation":147,"user_id":3357788,"display_name":"mike oganyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1472964315,"creation_date":1472964315,"answer_id":39313627,"question_id":1069095,"body_markdown":"I have writtena util class with static methods years ago using JAI. Java Advanced Imaging API is the most reliable API  in Java to deal with images. It&#39;s vector interpolation is closest thing to Photoshop in Java world. Here is one of them:\r\n\r\n    public static ByteArrayOutputStream resize(InputStream inputStream , int IMG_WIDTH,\r\n\t\t\tint IMG_HEIGHT) throws Exception {\r\n\t\tBufferedImage originalImage = ImageIO.read(inputStream);\r\n\t\tint type = originalImage.getType() == 0 ? BufferedImage.TYPE_INT_ARGB\r\n\t\t\t\t: originalImage.getType();\r\n\t\tBufferedImage resizedImage = new BufferedImage(IMG_WIDTH, IMG_HEIGHT,\r\n\t\t\t\ttype);\r\n\t\t{\r\n\t\t\tGraphics2D g = resizedImage.createGraphics();\r\n\t\t\tg.drawImage(originalImage, 0, 0, IMG_WIDTH, IMG_HEIGHT, null);\r\n\t\t\tg.dispose();\r\n\t\t\tg.setComposite(AlphaComposite.Src);\r\n\r\n\t\t\tg.setRenderingHint(RenderingHints.KEY_INTERPOLATION,\r\n\t\t\t\t\tRenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n\t\t\tg.setRenderingHint(RenderingHints.KEY_RENDERING,\r\n\t\t\t\t\tRenderingHints.VALUE_RENDER_QUALITY);\r\n\t\t\tg.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n\t\t\t\t\tRenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\t}\r\n\t\tByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n\t\tImageIO.write(resizedImage, &quot;png&quot;, bos);\r\n\t\treturn bos;\r\n\r\n\t} ","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>I have writtena util class with static methods years ago using JAI. Java Advanced Imaging API is the most reliable API  in Java to deal with images. It's vector interpolation is closest thing to Photoshop in Java world. Here is one of them:</p>\n\n<pre><code>public static ByteArrayOutputStream resize(InputStream inputStream , int IMG_WIDTH,\n        int IMG_HEIGHT) throws Exception {\n    BufferedImage originalImage = ImageIO.read(inputStream);\n    int type = originalImage.getType() == 0 ? BufferedImage.TYPE_INT_ARGB\n            : originalImage.getType();\n    BufferedImage resizedImage = new BufferedImage(IMG_WIDTH, IMG_HEIGHT,\n            type);\n    {\n        Graphics2D g = resizedImage.createGraphics();\n        g.drawImage(originalImage, 0, 0, IMG_WIDTH, IMG_HEIGHT, null);\n        g.dispose();\n        g.setComposite(AlphaComposite.Src);\n\n        g.setRenderingHint(RenderingHints.KEY_INTERPOLATION,\n                RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n        g.setRenderingHint(RenderingHints.KEY_RENDERING,\n                RenderingHints.VALUE_RENDER_QUALITY);\n        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n    }\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\n    ImageIO.write(resizedImage, \"png\", bos);\n    return bos;\n\n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":16483316,"reputation":425,"user_id":11909457,"display_name":"Gara Walid"},"score":0,"creation_date":1638144782,"post_id":43235227,"comment_id":124002897,"body_markdown":"thumbnailator can easily lead to [OutOfMemoryError](https://github.com/coobird/thumbnailator/wiki/Changes#outofmemoryerror-workaround)","body":"thumbnailator can easily lead to <a href=\"https://github.com/coobird/thumbnailator/wiki/Changes#outofmemoryerror-workaround\" rel=\"nofollow noreferrer\">OutOfMemoryError</a>"},{"owner":{"account_id":1305399,"reputation":599,"user_id":1254491,"display_name":"Athar"},"score":0,"creation_date":1638892872,"post_id":43235227,"comment_id":124205926,"body_markdown":"I&#39;ve deployed this code on an AWS Lambda (Serverless). I haven&#39;t had this issue in 4 years.  This again depends on what&#39;s the use case.","body":"I&#39;ve deployed this code on an AWS Lambda (Serverless). I haven&#39;t had this issue in 4 years.  This again depends on what&#39;s the use case."}],"tags":[],"owner":{"account_id":1305399,"reputation":599,"user_id":1254491,"display_name":"Athar"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1491405232,"creation_date":1491405232,"answer_id":43235227,"question_id":1069095,"body_markdown":"I know this is a pretty old post. I have been looking for a solution to generate the thumbnail so end up using this  \r\n\r\n    Thumbnails.of(originalImage).scale(0.25).asBufferedImage();\r\nif you are using for mobile would suggest to set the scale to 0.45\r\n\r\n    Thumbnails.of(originalImage).scale(0.45).asBufferedImage();\r\n\r\nhttps://github.com/coobird/thumbnailator  \r\n\r\nThis is certainly much faster using the Graphics2D as have tested the both options. ","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>I know this is a pretty old post. I have been looking for a solution to generate the thumbnail so end up using this  </p>\n\n<pre><code>Thumbnails.of(originalImage).scale(0.25).asBufferedImage();\n</code></pre>\n\n<p>if you are using for mobile would suggest to set the scale to 0.45</p>\n\n<pre><code>Thumbnails.of(originalImage).scale(0.45).asBufferedImage();\n</code></pre>\n\n<p><a href=\"https://github.com/coobird/thumbnailator\" rel=\"nofollow noreferrer\">https://github.com/coobird/thumbnailator</a>  </p>\n\n<p>This is certainly much faster using the Graphics2D as have tested the both options. </p>\n"},{"tags":[],"owner":{"account_id":2273307,"reputation":2281,"user_id":2000185,"accept_rate":67,"display_name":"luke1985"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595609220,"creation_date":1595609220,"answer_id":63077984,"question_id":1069095,"body_markdown":"Maybe the simplest approach would be:\r\n\r\n    static public BufferedImage scaleImage(BufferedImage image, int max_width, int max_height) {\r\n        int img_width = image.getWidth();\r\n        int img_height = image.getHeight();\r\n\r\n        float horizontal_ratio = 1;\r\n        float vertical_ratio    = 1;\r\n\r\n\r\n        if(img_height &gt; max_height) {\r\n            vertical_ratio = (float)max_height / (float)img_height;\r\n        }\r\n        if(img_width &gt; max_width) {\r\n            horizontal_ratio = (float)max_width / (float)img_width;\r\n        }\r\n\r\n        float scale_ratio = 1;\r\n\r\n        if (vertical_ratio &lt; horizontal_ratio) {\r\n            scale_ratio = vertical_ratio;\r\n        }\r\n        else if (horizontal_ratio &lt; vertical_ratio) {\r\n            scale_ratio = horizontal_ratio;\r\n        }\r\n\r\n        int dest_width  = (int) (img_width * scale_ratio);\r\n        int dest_height = (int) (img_height * scale_ratio);\r\n\r\n        BufferedImage scaled = new BufferedImage(dest_width, dest_height, image.getType());\r\n        Graphics graphics = scaled.getGraphics();\r\n        graphics.drawImage(image, 0, 0, dest_width, dest_height, null);\r\n        graphics.dispose();\r\n\r\n        return scaled;\r\n\r\n    }","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>Maybe the simplest approach would be:</p>\n<pre><code>static public BufferedImage scaleImage(BufferedImage image, int max_width, int max_height) {\n    int img_width = image.getWidth();\n    int img_height = image.getHeight();\n\n    float horizontal_ratio = 1;\n    float vertical_ratio    = 1;\n\n\n    if(img_height &gt; max_height) {\n        vertical_ratio = (float)max_height / (float)img_height;\n    }\n    if(img_width &gt; max_width) {\n        horizontal_ratio = (float)max_width / (float)img_width;\n    }\n\n    float scale_ratio = 1;\n\n    if (vertical_ratio &lt; horizontal_ratio) {\n        scale_ratio = vertical_ratio;\n    }\n    else if (horizontal_ratio &lt; vertical_ratio) {\n        scale_ratio = horizontal_ratio;\n    }\n\n    int dest_width  = (int) (img_width * scale_ratio);\n    int dest_height = (int) (img_height * scale_ratio);\n\n    BufferedImage scaled = new BufferedImage(dest_width, dest_height, image.getType());\n    Graphics graphics = scaled.getGraphics();\n    graphics.drawImage(image, 0, 0, dest_width, dest_height, null);\n    graphics.dispose();\n\n    return scaled;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624003724,"creation_date":1624003724,"answer_id":68031622,"question_id":1069095,"body_markdown":"Solution for the case when you want to create a quadrate `(75x75)` thumbnail from the non-quadrate source. \r\n\r\nCode below first crop original image to quadrate using smaller size than resizes the quadrate image. \r\n\r\n    public static void generateThumbnailWithCrop(String imgPath, String thumbnailPath, int size) throws IOException {\r\n        BufferedImage sourceImage = ImageIO.read(new File(imgPath));\r\n        int width = sourceImage.getWidth();\r\n        int height = sourceImage.getHeight();\r\n        int smallerSize = width &gt; height ? height : width;\r\n        BufferedImage quadrateImage = cropToQuadrate(sourceImage, smallerSize);\r\n        int type = quadrateImage.getType() == 0 ? BufferedImage.TYPE_INT_ARGB : quadrateImage.getType();\r\n        BufferedImage resizedImage = resizeImageWithHint(quadrateImage, type, size, size);\r\n        File thumb = new File(thumbnailPath);\r\n        thumb.getParentFile().mkdirs();\r\n        ImageIO.write(resizedImage, &quot;jpg&quot;, thumb);\r\n    }\r\n\r\n    private static BufferedImage cropToQuadrate(BufferedImage sourceImage, int size) {\r\n        BufferedImage img = sourceImage.getSubimage(0, 0, size, size);\r\n        BufferedImage copyOfImage = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_RGB);\r\n        Graphics g = copyOfImage.createGraphics();\r\n        g.drawImage(img, 0, 0, null);\r\n        return copyOfImage;\r\n    }\r\n    private static BufferedImage resizeImageWithHint(BufferedImage originalImage, int type, int width, int height) {\r\n        BufferedImage resizedImage = new BufferedImage(width, height, type);\r\n        Graphics2D g = resizedImage.createGraphics();\r\n        g.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n        g.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        g.setComposite(AlphaComposite.Src);\r\n        g.drawImage(originalImage, 0, 0, width, height, null);\r\n        g.dispose();\r\n\r\n        return resizedImage;\r\n    }","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>Solution for the case when you want to create a quadrate <code>(75x75)</code> thumbnail from the non-quadrate source.</p>\n<p>Code below first crop original image to quadrate using smaller size than resizes the quadrate image.</p>\n<pre><code>public static void generateThumbnailWithCrop(String imgPath, String thumbnailPath, int size) throws IOException {\n    BufferedImage sourceImage = ImageIO.read(new File(imgPath));\n    int width = sourceImage.getWidth();\n    int height = sourceImage.getHeight();\n    int smallerSize = width &gt; height ? height : width;\n    BufferedImage quadrateImage = cropToQuadrate(sourceImage, smallerSize);\n    int type = quadrateImage.getType() == 0 ? BufferedImage.TYPE_INT_ARGB : quadrateImage.getType();\n    BufferedImage resizedImage = resizeImageWithHint(quadrateImage, type, size, size);\n    File thumb = new File(thumbnailPath);\n    thumb.getParentFile().mkdirs();\n    ImageIO.write(resizedImage, &quot;jpg&quot;, thumb);\n}\n\nprivate static BufferedImage cropToQuadrate(BufferedImage sourceImage, int size) {\n    BufferedImage img = sourceImage.getSubimage(0, 0, size, size);\n    BufferedImage copyOfImage = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_RGB);\n    Graphics g = copyOfImage.createGraphics();\n    g.drawImage(img, 0, 0, null);\n    return copyOfImage;\n}\nprivate static BufferedImage resizeImageWithHint(BufferedImage originalImage, int type, int width, int height) {\n    BufferedImage resizedImage = new BufferedImage(width, height, type);\n    Graphics2D g = resizedImage.createGraphics();\n    g.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n    g.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n    g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n    g.setComposite(AlphaComposite.Src);\n    g.drawImage(originalImage, 0, 0, width, height, null);\n    g.dispose();\n\n    return resizedImage;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13106031,"reputation":85,"user_id":9468818,"display_name":"Shavkat Turakulov"},"score":0,"creation_date":1661606182,"post_id":70599386,"comment_id":129814587,"body_markdown":"I couldn&#39;t use it in Kotlin application","body":"I couldn&#39;t use it in Kotlin application"},{"owner":{"account_id":2890337,"reputation":2345,"user_id":2479282,"display_name":"Sean"},"score":0,"creation_date":1661705604,"post_id":70599386,"comment_id":129830328,"body_markdown":"Sorry to hear that @ShavkatTurakulov - what issues did you encounter? Please feel free to file a github issue. As it&#39;s a JVM project, it should work well with Kotlin, like any other Java library.","body":"Sorry to hear that @ShavkatTurakulov - what issues did you encounter? Please feel free to file a github issue. As it&#39;s a JVM project, it should work well with Kotlin, like any other Java library."}],"tags":[],"owner":{"account_id":2890337,"reputation":2345,"user_id":2479282,"display_name":"Sean"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641504404,"creation_date":1641415594,"answer_id":70599386,"question_id":1069095,"body_markdown":"[Thumbnails4j][1] (I&#39;m a maintainer, but it&#39;s owned by [Elastic][2]) is a java library that can be used to create thumbnails from image files, as well as from other file types.\r\n\r\n```\r\nFile input = new File(&quot;/path/to/my_file.jpeg&quot;);\r\nThumbnailer thumbnailer = new ImageThumbnailer(&quot;png&quot;); // or &quot;jpg&quot;, whichever output format you want\r\nList&lt;Dimensions&gt; outputDimensions = Collections.singletonList(new Dimensions(100, 100));\r\nBufferedImage output = thumbnailer.getThumbnails(input, outputDimensions).get(0);\r\n```\r\n\r\n  [1]: https://github.com/elastic/thumbnails4j\r\n  [2]: https://elastic.co","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p><a href=\"https://github.com/elastic/thumbnails4j\" rel=\"nofollow noreferrer\">Thumbnails4j</a> (I'm a maintainer, but it's owned by <a href=\"https://elastic.co\" rel=\"nofollow noreferrer\">Elastic</a>) is a java library that can be used to create thumbnails from image files, as well as from other file types.</p>\n<pre><code>File input = new File(&quot;/path/to/my_file.jpeg&quot;);\nThumbnailer thumbnailer = new ImageThumbnailer(&quot;png&quot;); // or &quot;jpg&quot;, whichever output format you want\nList&lt;Dimensions&gt; outputDimensions = Collections.singletonList(new Dimensions(100, 100));\nBufferedImage output = thumbnailer.getThumbnails(input, outputDimensions).get(0);\n</code></pre>\n"}],"owner":{"display_name":"mmmmr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88107,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"answer_count":15,"score":49,"last_activity_date":1681488737,"creation_date":1246454354,"question_id":1069095,"body_markdown":"Can someone please help with some code for creating a thumbnail for a JPEG in Java.\r\n\r\nI&#39;m new at this, so a step by step explanation would be appreciated.","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>Can someone please help with some code for creating a thumbnail for a JPEG in Java.</p>\n\n<p>I'm new at this, so a step by step explanation would be appreciated.</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1681481105,"post_id":76015841,"comment_id":134067877,"body_markdown":"Your data model does not make sense.  If the timestamps are supposed to be tied to specific jobs, then why do you have a column for them on `JobStatus` at all?","body":"Your data model does not make sense.  If the timestamps are supposed to be tied to specific jobs, then why do you have a column for them on <code>JobStatus</code> at all?"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1681481404,"post_id":76015841,"comment_id":134067951,"body_markdown":"Also, if multiple jobs must each have independent collections of the same set of statuses, then that&#39;s many-to-many, not one-to-many.  And in that case, you&#39;re probably looking for [JPA 2.0 many-to-many with extra column](https://stackoverflow.com/q/23837561).","body":"Also, if multiple jobs must each have independent collections of the same set of statuses, then that&#39;s many-to-many, not one-to-many.  And in that case, you&#39;re probably looking for <a href=\"https://stackoverflow.com/q/23837561\">JPA 2.0 many-to-many with extra column</a>."},{"owner":{"account_id":14616254,"reputation":1,"user_id":10556266,"display_name":"Marco MM"},"score":0,"creation_date":1681481697,"post_id":76015841,"comment_id":134068046,"body_markdown":"i need oneToMany, one job can have multiple status and i need to see the date in relationTable, not in job table or, as you say, in jobStatus table","body":"i need oneToMany, one job can have multiple status and i need to see the date in relationTable, not in job table or, as you say, in jobStatus table"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1681482125,"post_id":76015841,"comment_id":134068166,"body_markdown":"So if one job has status `COMPLETED`, then no other job can have that status?  That is implied by the &quot;one&quot; part of &quot;one-to-many&quot; in your scheme.  Likewise, at most one with `ERROR`, at most one with `VALIDATED`, *etc*.","body":"So if one job has status <code>COMPLETED</code>, then no other job can have that status?  That is implied by the &quot;one&quot; part of &quot;one-to-many&quot; in your scheme.  Likewise, at most one with <code>ERROR</code>, at most one with <code>VALIDATED</code>, <i>etc</i>."},{"owner":{"account_id":14616254,"reputation":1,"user_id":10556266,"display_name":"Marco MM"},"score":0,"creation_date":1681482232,"post_id":76015841,"comment_id":134068188,"body_markdown":"correct, when the jobs is finished it should not be modified anymore, whatever the state is","body":"correct, when the jobs is finished it should not be modified anymore, whatever the state is"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1681482431,"post_id":76015841,"comment_id":134068232,"body_markdown":"You say &quot;correct&quot;, but what you say afterward does not seem to match what you are agreeing with.  Maybe it would help if you edit the question to explain the application logic that uses these entities.","body":"You say &quot;correct&quot;, but what you say afterward does not seem to match what you are agreeing with.  Maybe it would help if you edit the question to explain the application logic that uses these entities."},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1681561047,"post_id":76015841,"comment_id":134078291,"body_markdown":"What exactly is going wrong when you try to update?","body":"What exactly is going wrong when you try to update?"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681488733,"creation_date":1681487411,"answer_id":76016879,"question_id":76015841,"body_markdown":"JPA models persistent state via entities. You cannot tag relationships with their own state.  If you find yourself wanting to do so then that&#39;s a sign that you need to interpose an additional entity.\r\n\r\nTypical procedures for that are described among the answers to [JPA 2.0 many-to-many with extra column][1].  The same approach can be used for a one-to-many in which the relationship is modeled via a join table, but if the relationship is ***one***-to-many then the data can ordinarily be recorded in the entities on the &quot;many&quot; side instead, since each of those is specific to / owned by exactly one entity on the &quot;one&quot; side anyway.\r\n\r\nAs to the the specifics of your question:\r\n\r\n&gt; JobsStatus is a static table in database\r\n\r\nI take you to mean that this table is never modified.  It serves only to enumerate the allowed status codes such as &quot;COMPLETED&quot;. (A more common variation also associates those codes with surrogate primary keys, but that&#39;s not essential.)\r\n\r\nBut if it is never modified, then it is not useful for this table to have the `sysDate` column that is null for all rows.  This carries no information, and never will carry any information because these rows are not supposed to be modified.  Moreover, if the database must support dates for the same status for different jobs at the same time, then this column is not sufficient anyway.\r\n\r\n&gt; i try to update like this:\r\n&gt; ```\r\n&gt; JobsStatus jobStatus = new IRJobsStatus();\r\n&gt; jobStatus.setJobStatus(&quot;INSERTED&quot;);\r\n&gt; jobStatus.setSysDate(new java.sql.Date(new java.util.Date().getTime()));\r\n&gt; jobStatusList.add(jobStatus);\r\n&gt; ```\r\n\r\nIf you set an entity property such as via `jobStatus.setSysDate()` then you should expect any persistent representation to be stored in the entity&#39;s table.  Moreover, if you create a *new* entity (i.e. a `JobStatus`) and persist it, then you should expect a new row in that entity&#39;s table.  That would not be appropriate for my understanding of a &quot;static&quot; table.\r\n\r\nOverall, I think this is exactly the situation described in the linked question, but you&#39;re coming at it from a different angle.  The things with which your `Job`s have a one-to-many relationship are not statuses, but status *dates*.  And, I presume, there may be many status dates (for different jobs) with for the same status.  Thus, the multiplicities are:\r\n```\r\nJob (1) --- (many) JobStatusDate (many) --- (1) JobStatus\r\n```\r\nIf you collapse that to look at the Job:JobStatus multiplicity, it is many-to-many.\r\n\r\nI hope the direction I&#39;m heading is already clear.  You need to introduce a new entity to carry the dates of each job&#39;s various statuses.  That can be structured multiple ways, but the one that most closely matches your database design would be something like this:\r\n```\r\n@Entity\r\npublic class Job {\r\n    @Id\r\n    private Integer jobId;\r\n\r\n    @OneToMany(mappedBy = job)\r\n    private List&lt;JobStatusDate&gt; statusDates;\r\n}\r\n\r\n@Entity\r\npublic class JobStatusDate {\r\n\r\n    @Id\r\n    @ManyToOne\r\n    private Job job;\r\n\r\n    @Id\r\n    @ManyToOne\r\n    private JobStatus status;\r\n\r\n    private Date date;\r\n}\r\n\r\n@Entity\r\npublic class JobStatus {\r\n\r\n    @Id\r\n    private String status;\r\n\r\n    // optional:\r\n    @OneToMany(mappedBy = status)\r\n    private List&lt;JobStatusDate&gt; statusDates;\r\n}\r\n```\r\n**Alternatively**, if the application needs built-in knowledge of the valid job status codes (likely, since I anticipate that they are associated with specific business logic) then you could consider dropping the JobStatus entity (but keeping the table and the FK relationship in the database).  Then `JobStatusDate` would have a plain `String` status code instead of a relationship with a `JobStatus` entity.  The FK relationship retained in the DB would prevent invalid status codes from being recorded, which I guess is its intended purpose already.\r\n\r\nIn that event, you might consider going even further by mapping the status codes to an appropriate Java `enum` instead of to a `String`.  The ultimate result might go as far as this:\r\n```\r\npublic enum JobStatus {\r\n    COMPLETED, ERROR, INSERTED, PROCESSING, VALIDATED, VALIDATING\r\n}\r\n\r\n@Entity\r\npublic class Job {\r\n    @Id\r\n    private Integer jobId;\r\n\r\n    @OneToMany(mappedBy = job)\r\n    @MapKey(name = status)\r\n    private Map&lt;JobStatus, JobStatusDate&gt; statusDates;\r\n}\r\n\r\n@Entity\r\npublic class JobStatusDate {\r\n\r\n    @Id\r\n    @ManyToOne\r\n    private Job job;\r\n\r\n    @Id\r\n    @Enumerated(EnumType.STRING)\r\n    private JobStatus status;\r\n\r\n    private Date date;\r\n}\r\n\r\n// No JobStatus entity\r\n```\r\nNotably, this allows you to map the `Job` : `JobStatusDate` relationship as a map, which would be a convenience for many of the kinds of things I anticipate you might want to do.\r\n\r\n  [1]: https://stackoverflow.com/q/23837561","title":"@OneToMany on multiple columns","body":"<p>JPA models persistent state via entities. You cannot tag relationships with their own state.  If you find yourself wanting to do so then that's a sign that you need to interpose an additional entity.</p>\n<p>Typical procedures for that are described among the answers to <a href=\"https://stackoverflow.com/q/23837561\">JPA 2.0 many-to-many with extra column</a>.  The same approach can be used for a one-to-many in which the relationship is modeled via a join table, but if the relationship is <em><strong>one</strong></em>-to-many then the data can ordinarily be recorded in the entities on the &quot;many&quot; side instead, since each of those is specific to / owned by exactly one entity on the &quot;one&quot; side anyway.</p>\n<p>As to the the specifics of your question:</p>\n<blockquote>\n<p>JobsStatus is a static table in database</p>\n</blockquote>\n<p>I take you to mean that this table is never modified.  It serves only to enumerate the allowed status codes such as &quot;COMPLETED&quot;. (A more common variation also associates those codes with surrogate primary keys, but that's not essential.)</p>\n<p>But if it is never modified, then it is not useful for this table to have the <code>sysDate</code> column that is null for all rows.  This carries no information, and never will carry any information because these rows are not supposed to be modified.  Moreover, if the database must support dates for the same status for different jobs at the same time, then this column is not sufficient anyway.</p>\n<blockquote>\n<p>i try to update like this:</p>\n<pre><code>JobsStatus jobStatus = new IRJobsStatus();\njobStatus.setJobStatus(&quot;INSERTED&quot;);\njobStatus.setSysDate(new java.sql.Date(new java.util.Date().getTime()));\njobStatusList.add(jobStatus);\n</code></pre>\n</blockquote>\n<p>If you set an entity property such as via <code>jobStatus.setSysDate()</code> then you should expect any persistent representation to be stored in the entity's table.  Moreover, if you create a <em>new</em> entity (i.e. a <code>JobStatus</code>) and persist it, then you should expect a new row in that entity's table.  That would not be appropriate for my understanding of a &quot;static&quot; table.</p>\n<p>Overall, I think this is exactly the situation described in the linked question, but you're coming at it from a different angle.  The things with which your <code>Job</code>s have a one-to-many relationship are not statuses, but status <em>dates</em>.  And, I presume, there may be many status dates (for different jobs) with for the same status.  Thus, the multiplicities are:</p>\n<pre><code>Job (1) --- (many) JobStatusDate (many) --- (1) JobStatus\n</code></pre>\n<p>If you collapse that to look at the Job:JobStatus multiplicity, it is many-to-many.</p>\n<p>I hope the direction I'm heading is already clear.  You need to introduce a new entity to carry the dates of each job's various statuses.  That can be structured multiple ways, but the one that most closely matches your database design would be something like this:</p>\n<pre><code>@Entity\npublic class Job {\n    @Id\n    private Integer jobId;\n\n    @OneToMany(mappedBy = job)\n    private List&lt;JobStatusDate&gt; statusDates;\n}\n\n@Entity\npublic class JobStatusDate {\n\n    @Id\n    @ManyToOne\n    private Job job;\n\n    @Id\n    @ManyToOne\n    private JobStatus status;\n\n    private Date date;\n}\n\n@Entity\npublic class JobStatus {\n\n    @Id\n    private String status;\n\n    // optional:\n    @OneToMany(mappedBy = status)\n    private List&lt;JobStatusDate&gt; statusDates;\n}\n</code></pre>\n<p><strong>Alternatively</strong>, if the application needs built-in knowledge of the valid job status codes (likely, since I anticipate that they are associated with specific business logic) then you could consider dropping the JobStatus entity (but keeping the table and the FK relationship in the database).  Then <code>JobStatusDate</code> would have a plain <code>String</code> status code instead of a relationship with a <code>JobStatus</code> entity.  The FK relationship retained in the DB would prevent invalid status codes from being recorded, which I guess is its intended purpose already.</p>\n<p>In that event, you might consider going even further by mapping the status codes to an appropriate Java <code>enum</code> instead of to a <code>String</code>.  The ultimate result might go as far as this:</p>\n<pre><code>public enum JobStatus {\n    COMPLETED, ERROR, INSERTED, PROCESSING, VALIDATED, VALIDATING\n}\n\n@Entity\npublic class Job {\n    @Id\n    private Integer jobId;\n\n    @OneToMany(mappedBy = job)\n    @MapKey(name = status)\n    private Map&lt;JobStatus, JobStatusDate&gt; statusDates;\n}\n\n@Entity\npublic class JobStatusDate {\n\n    @Id\n    @ManyToOne\n    private Job job;\n\n    @Id\n    @Enumerated(EnumType.STRING)\n    private JobStatus status;\n\n    private Date date;\n}\n\n// No JobStatus entity\n</code></pre>\n<p>Notably, this allows you to map the <code>Job</code> : <code>JobStatusDate</code> relationship as a map, which would be a convenience for many of the kinds of things I anticipate you might want to do.</p>\n"}],"owner":{"account_id":14616254,"reputation":1,"user_id":10556266,"display_name":"Marco MM"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681488733,"creation_date":1681480378,"question_id":76015841,"body_markdown":"i have a problem with @oneToMany relation between 2 class:\r\nMy first class is\r\n\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;job&quot;)\r\npublic class Jobs {\r\n\r\n    @Id\r\n    @Column\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer jobId;\r\n\r\n    @OneToMany\r\n    private List&lt;JobsStatus&gt; jobStatus;\r\n}\r\n```\r\n\r\nand my JobsStatus class\r\n\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;job_status&quot;)\r\npublic class JobsStatus {\r\n\r\n    @Id\r\n    @Column(columnDefinition = &quot;VARCHAR(20)&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private String jobStatus;\r\n\r\n    @Column(name=&quot;sysdate&quot;)\r\n    private Date sysDate;\r\n}\r\n```\r\n\r\nJobsStatus is a static table in database, this is the result when i select on the table\r\n\r\nCOMPLETED\tnull\r\n\r\nERROR\t        null\r\n\r\nINSERTED\tnull\r\n\r\nPROCESSING\tnull\r\n\r\nVALIDATED\tnull\r\n\r\nVALIDATING\tnull\r\n\r\nand this is ok, because the date should be null\r\n\r\nafter i run my code i can see the relation table in my database (job_job_status) and i get this result\r\n\r\nirjobs_job_id\tjob_status_job_status\r\n\r\n1\t        INSERTED\r\n\r\n1\t        PROCESSING\r\n\r\n1\t        VALIDATED\r\n\r\n1\t        VALIDATING\r\n\r\nThis is ok, but, every time i update my job class, i need to see sysDate on job_job_status table like this:\r\n\r\njobs_job_id\tjob_status_job_status   sysDate\r\n\r\n1\t        INSERTED                04/14/2023\r\n\r\n1\t        PROCESSING              04/14/2023\r\n\r\n1\t        VALIDATED               04/14/2023\r\n\r\n1\t        VALIDATING              04/14/2023\r\n\r\nsimply i need one more column, sysDate, on the relation table (job_job_status )\r\n\r\ni try to update like this:\r\n\r\n\r\n```\r\nJobsStatus jobStatus = new IRJobsStatus();\r\njobStatus.setJobStatus(&quot;INSERTED&quot;);\r\njobStatus.setSysDate(new java.sql.Date(new java.util.Date().getTime()));\r\njobStatusList.add(jobStatus);\r\n```\r\n\r\ncan someone help me?\r\n\r\n","title":"@OneToMany on multiple columns","body":"<p>i have a problem with @oneToMany relation between 2 class:\nMy first class is</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;job&quot;)\npublic class Jobs {\n\n    @Id\n    @Column\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer jobId;\n\n    @OneToMany\n    private List&lt;JobsStatus&gt; jobStatus;\n}\n</code></pre>\n<p>and my JobsStatus class</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;job_status&quot;)\npublic class JobsStatus {\n\n    @Id\n    @Column(columnDefinition = &quot;VARCHAR(20)&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private String jobStatus;\n\n    @Column(name=&quot;sysdate&quot;)\n    private Date sysDate;\n}\n</code></pre>\n<p>JobsStatus is a static table in database, this is the result when i select on the table</p>\n<p>COMPLETED   null</p>\n<p>ERROR           null</p>\n<p>INSERTED    null</p>\n<p>PROCESSING  null</p>\n<p>VALIDATED   null</p>\n<p>VALIDATING  null</p>\n<p>and this is ok, because the date should be null</p>\n<p>after i run my code i can see the relation table in my database (job_job_status) and i get this result</p>\n<p>irjobs_job_id   job_status_job_status</p>\n<p>1           INSERTED</p>\n<p>1           PROCESSING</p>\n<p>1           VALIDATED</p>\n<p>1           VALIDATING</p>\n<p>This is ok, but, every time i update my job class, i need to see sysDate on job_job_status table like this:</p>\n<p>jobs_job_id job_status_job_status   sysDate</p>\n<p>1           INSERTED                04/14/2023</p>\n<p>1           PROCESSING              04/14/2023</p>\n<p>1           VALIDATED               04/14/2023</p>\n<p>1           VALIDATING              04/14/2023</p>\n<p>simply i need one more column, sysDate, on the relation table (job_job_status )</p>\n<p>i try to update like this:</p>\n<pre><code>JobsStatus jobStatus = new IRJobsStatus();\njobStatus.setJobStatus(&quot;INSERTED&quot;);\njobStatus.setSysDate(new java.sql.Date(new java.util.Date().getTime()));\njobStatusList.add(jobStatus);\n</code></pre>\n<p>can someone help me?</p>\n"},{"tags":["java","xml","jaxb","unmarshalling"],"answers":[{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298047684,"creation_date":1298047684,"answer_id":5044068,"question_id":5044042,"body_markdown":"You have to use a SAX parser, and a document handler that effectively &quot;skips&quot; the node of non-interest.  You can&#39;t get around reading the bytes, but at least you can get around having them waste extra resources.\r\n\r\nIf your code requires a DOM tree, then you basically use a SAX document handler that generates DOM nodes, but &quot;skips&quot; the nodes of non-interest.  Definitely less convenient that using the supplied DOM tree generators, but a decent trade-off is you can&#39;t live with the extra memory overhead of the unwanted nodes but you need the DOM tree.","title":"JAXB - Ignore element","body":"<p>You have to use a SAX parser, and a document handler that effectively \"skips\" the node of non-interest.  You can't get around reading the bytes, but at least you can get around having them waste extra resources.</p>\n\n<p>If your code requires a DOM tree, then you basically use a SAX document handler that generates DOM nodes, but \"skips\" the nodes of non-interest.  Definitely less convenient that using the supplied DOM tree generators, but a decent trade-off is you can't live with the extra memory overhead of the unwanted nodes but you need the DOM tree.</p>\n"},{"tags":[],"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1298048530,"creation_date":1298048166,"answer_id":5044148,"question_id":5044042,"body_markdown":"JAXB will ignore any unmapped properties.\r\n\r\nImplementation wise (atleast in [EcliseLink JAXB (MOXy)][1], which I lead).  When we are processing the contents via a SAX parser (i.e. the input was a SAXSource) then we swap out our ContentHandler that is responsible for building objects to one that does no processing for that section (org.eclipse.persistence.oxm.unmapped.UnmappedContentHandler).  When a we are using processing the contents via a StAX parser we just advance to the next mapped event.\r\n\r\nIf you do have a property that corresponds to that node you can annotate it with [@XmlTransient][2] to make it an unmapped property.\r\n\r\n\r\n  [1]: http://www.eclipse.org/eclipselink/moxy.php\r\n  [2]: http://download.oracle.com/javase/6/docs/api/javax/xml/bind/annotation/XmlTransient.html","title":"JAXB - Ignore element","body":"<p>JAXB will ignore any unmapped properties.</p>\n\n<p>Implementation wise (atleast in <a href=\"http://www.eclipse.org/eclipselink/moxy.php\" rel=\"noreferrer\">EcliseLink JAXB (MOXy)</a>, which I lead).  When we are processing the contents via a SAX parser (i.e. the input was a SAXSource) then we swap out our ContentHandler that is responsible for building objects to one that does no processing for that section (org.eclipse.persistence.oxm.unmapped.UnmappedContentHandler).  When a we are using processing the contents via a StAX parser we just advance to the next mapped event.</p>\n\n<p>If you do have a property that corresponds to that node you can annotate it with <a href=\"http://download.oracle.com/javase/6/docs/api/javax/xml/bind/annotation/XmlTransient.html\" rel=\"noreferrer\">@XmlTransient</a> to make it an unmapped property.</p>\n"},{"comments":[{"owner":{"account_id":107356,"reputation":94,"user_id":285505,"display_name":"jghost"},"score":2,"creation_date":1348255629,"post_id":5044161,"comment_id":16880744,"body_markdown":"I know it&#39;s been over a year... but that is very much not true for standard JAXB... it complains and throws errors about not finding the missing field. It could be the latest version did this or some older version... or you&#39;re using another API that expanded on the core set. If I&#39;m wrong, let me know but I just tried this and got errored out.","body":"I know it&#39;s been over a year... but that is very much not true for standard JAXB... it complains and throws errors about not finding the missing field. It could be the latest version did this or some older version... or you&#39;re using another API that expanded on the core set. If I&#39;m wrong, let me know but I just tried this and got errored out."},{"owner":{"account_id":107356,"reputation":94,"user_id":285505,"display_name":"jghost"},"score":0,"creation_date":1348256043,"post_id":5044161,"comment_id":16880884,"body_markdown":"here&#39;s the specific error: \n`Exception in thread &quot;main&quot; com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions\nProperty [property_name] appears in @XmlType.propOrder, but no such property exists. Maybe you meant [unmapped_property_name]?\n\tthis problem is related to the following location:\n\t\tat [JAXB_object_name]`","body":"here&#39;s the specific error:  <code>Exception in thread &quot;main&quot; com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions Property [property_name] appears in @XmlType.propOrder, but no such property exists. Maybe you meant [unmapped_property_name]? \tthis problem is related to the following location: \t\tat [JAXB_object_name]</code>"},{"owner":{"account_id":959222,"reputation":3321,"user_id":983949,"display_name":"JBert"},"score":0,"creation_date":1353425210,"post_id":5044161,"comment_id":18436618,"body_markdown":"@jghost: sounds like you have set an XmlType element on your class with a propOrder setting and now XJC is complaining. Maybe you should just remove the field name from that propOrder setting and see how it reacts?","body":"@jghost: sounds like you have set an XmlType element on your class with a propOrder setting and now XJC is complaining. Maybe you should just remove the field name from that propOrder setting and see how it reacts?"},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1474562981,"post_id":5044161,"comment_id":66592810,"body_markdown":"Then it complains that unmapped_property_name is found, but not in propOrder.","body":"Then it complains that unmapped_property_name is found, but not in propOrder."}],"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":4,"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1454329639,"creation_date":1298048242,"answer_id":5044161,"question_id":5044042,"body_markdown":"Assuming your JAXB model looks like this:\r\n\r\n    @XmlRootElement(name=&quot;foo&quot;)\r\n    public class Foo {\r\n    \r\n       @XmlElement(name=&quot;element1&quot;)\r\n       String element1;\r\n    \r\n       @XmlElement(name=&quot;element2&quot;)\r\n       String element2;\r\n    \r\n       @XmlElement(name=&quot;bar&quot;)\r\n       Bar bar;\r\n    }\r\n\r\nthen simply removing the `bar` field from `Foo` will skip the `&lt;bar/&gt;` element in the input document.\r\n\r\nAlternatively, annotated the field with `@XmlTransient` instead of `@XmlElement`, and it will also be skipped.","title":"JAXB - Ignore element","body":"<p>Assuming your JAXB model looks like this:</p>\n\n<pre><code>@XmlRootElement(name=\"foo\")\npublic class Foo {\n\n   @XmlElement(name=\"element1\")\n   String element1;\n\n   @XmlElement(name=\"element2\")\n   String element2;\n\n   @XmlElement(name=\"bar\")\n   Bar bar;\n}\n</code></pre>\n\n<p>then simply removing the <code>bar</code> field from <code>Foo</code> will skip the <code>&lt;bar/&gt;</code> element in the input document.</p>\n\n<p>Alternatively, annotated the field with <code>@XmlTransient</code> instead of <code>@XmlElement</code>, and it will also be skipped.</p>\n"},{"comments":[{"owner":{"account_id":13472868,"reputation":71,"user_id":9720824,"display_name":"Gaurav Dangi"},"score":0,"creation_date":1681500340,"post_id":41444628,"comment_id":134072213,"body_markdown":"did not work solution due to com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 2 counts of IllegalAnnotationExceptions. getting this error after using it","body":"did not work solution due to com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 2 counts of IllegalAnnotationExceptions. getting this error after using it"}],"tags":[],"owner":{"account_id":7322878,"reputation":659,"user_id":5578292,"display_name":"Yahor M"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1483450116,"creation_date":1483450116,"answer_id":41444628,"question_id":5044042,"body_markdown":"All what you need it&#39;s mark field as @XmlTransient (@XmlTransient annotation which should hide fields that are not required). Example below\r\n\r\nJavaEE:\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlRootElement(name = &quot;DeletedIds&quot;)\r\n    public class DeletedIds {\r\n\r\n        @XmlElement(name = &quot;DeletedId&quot;)\r\n        private List&lt;DeletedId&gt; id;    \r\n\r\n        @XmlTransient\r\n        @XmlElement(name = &quot;success&quot;)\r\n        private String success;\r\n\r\n        //getters&amp;setters\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class DeletedId {\r\n    \r\n        private int id;\r\n\r\n        //getters&amp;setters\r\n    }\r\n\r\nXml:\r\n\r\n    &lt;DeletedIds&gt;\r\n        &lt;DeletedId&gt;\r\n            &lt;id&gt;1&lt;/id&gt;\r\n        &lt;/DeletedId&gt;\r\n        &lt;DeletedId&gt;\r\n            &lt;id&gt;2&lt;/id&gt;\r\n        &lt;/DeletedId&gt;\r\n    &lt;/DeletedIds&gt;","title":"JAXB - Ignore element","body":"<p>All what you need it's mark field as @XmlTransient (@XmlTransient annotation which should hide fields that are not required). Example below</p>\n\n<p>JavaEE:</p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = \"DeletedIds\")\npublic class DeletedIds {\n\n    @XmlElement(name = \"DeletedId\")\n    private List&lt;DeletedId&gt; id;    \n\n    @XmlTransient\n    @XmlElement(name = \"success\")\n    private String success;\n\n    //getters&amp;setters\n}\n\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class DeletedId {\n\n    private int id;\n\n    //getters&amp;setters\n}\n</code></pre>\n\n<p>Xml:</p>\n\n<pre><code>&lt;DeletedIds&gt;\n    &lt;DeletedId&gt;\n        &lt;id&gt;1&lt;/id&gt;\n    &lt;/DeletedId&gt;\n    &lt;DeletedId&gt;\n        &lt;id&gt;2&lt;/id&gt;\n    &lt;/DeletedId&gt;\n&lt;/DeletedIds&gt;\n</code></pre>\n"}],"owner":{"account_id":28657,"reputation":775,"user_id":76742,"accept_rate":50,"display_name":"questioner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77828,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":4,"score":30,"last_activity_date":1681488276,"creation_date":1298047497,"question_id":5044042,"body_markdown":"Is there any way to just ignore an element from Jaxb parsing?\r\nI have a large XML file, and if I could ignore one of the large, complex elements, then it would probably parse a lot quicker.\r\n\r\nIt would be even better if it could not even validate the element contents at all and parse the rest of the document even if that element is not correct.\r\n\r\nex:this should only generate Foo.element1 and Foo.element2\r\n\r\n    &lt;foo&gt;\r\n        &lt;element1&gt;I want this&lt;/element1&gt;\r\n        &lt;element2&gt;And this&lt;/element2&gt;\r\n        &lt;bar&gt;\r\n           &lt;a&gt;ALL of bar should be ignored&lt;/a&gt;\r\n           &lt;b&gt;this also should be ignored&lt;/b&gt;\r\n           &lt;c&gt;\r\n               &lt;x&gt;a lot of C that take time to process&lt;/x&gt;\r\n           &lt;/c&gt;\r\n           &lt;c&gt;\r\n                &lt;x&gt;a lot of C that take time to process&lt;/x&gt;\r\n           &lt;/c&gt;\r\n           &lt;c&gt;\r\n              &lt;x&gt;a lot of C that take time to process&lt;/x&gt;\r\n           &lt;/c&gt;\r\n          &lt;c&gt;\r\n              &lt;x&gt;a lot of C that take time to process&lt;/x&gt;\r\n          &lt;/c&gt;\r\n      &lt;/bar&gt;\r\n    &lt;/foo&gt;","title":"JAXB - Ignore element","body":"<p>Is there any way to just ignore an element from Jaxb parsing?\nI have a large XML file, and if I could ignore one of the large, complex elements, then it would probably parse a lot quicker.</p>\n\n<p>It would be even better if it could not even validate the element contents at all and parse the rest of the document even if that element is not correct.</p>\n\n<p>ex:this should only generate Foo.element1 and Foo.element2</p>\n\n<pre><code>&lt;foo&gt;\n    &lt;element1&gt;I want this&lt;/element1&gt;\n    &lt;element2&gt;And this&lt;/element2&gt;\n    &lt;bar&gt;\n       &lt;a&gt;ALL of bar should be ignored&lt;/a&gt;\n       &lt;b&gt;this also should be ignored&lt;/b&gt;\n       &lt;c&gt;\n           &lt;x&gt;a lot of C that take time to process&lt;/x&gt;\n       &lt;/c&gt;\n       &lt;c&gt;\n            &lt;x&gt;a lot of C that take time to process&lt;/x&gt;\n       &lt;/c&gt;\n       &lt;c&gt;\n          &lt;x&gt;a lot of C that take time to process&lt;/x&gt;\n       &lt;/c&gt;\n      &lt;c&gt;\n          &lt;x&gt;a lot of C that take time to process&lt;/x&gt;\n      &lt;/c&gt;\n  &lt;/bar&gt;\n&lt;/foo&gt;\n</code></pre>\n"},{"tags":["java","android","android-viewpager2"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":1,"creation_date":1681450238,"post_id":76011809,"comment_id":134061138,"body_markdown":"Add a [mcve] with question .","body":"Add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with question ."}],"owner":{"account_id":8545696,"reputation":35,"user_id":6404326,"display_name":"Trautman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681487759,"creation_date":1681449570,"question_id":76011809,"body_markdown":"I have a thin bottom info fragment over a map what can be clicked and it expands with more info (bottomsheetbehaviour). This works fine alone and the map can be panned after the bottomsheet is collapsed back. The problem is when I try to put the bottom fragment into viewpager2. It works fine but it will take all the expanded height even it is collapsed and the map cannot be panned or clicked within that area. Viewpager height is wrap_content. Any ideas how this could be fixed so that viewpager height would change when height of the fragment inside viepager changes?   \r\n\r\nI&#39;ve tried different methods and always it takes the same height. This works fine without viewpager with only one fragment but I need viewpager. \r\n\r\nThis can be reproduced with a simple test app\r\n\r\nactivity_main.xml \r\n\r\n       &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/pager&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        /&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\nMainActivity\r\n\r\n     mViewPager = findViewById(R.id.pager);\r\n        mAdapter = new ViewPagerAdapter(getSupportFragmentManager(), getLifecycle());\r\n        mAdapter.addFragment(new BottomInfoFragment());\r\n        mViewPager.setAdapter(mAdapter);\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(MainActivity.this, &quot;CLICK!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\nThis does not work. When floating action button is pressed nothing happens, Toast is not shown.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n--------------------------------------------\r\nBut if only fragment is added it works\r\n\r\nactivity_main.xml\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/bottom_info_view&quot;\r\n        android:name=&quot;com.example.myapplication.BottomInfoFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_anchor=&quot;@+id/constraintLayout&quot;\r\n        app:layout_anchorGravity=&quot;center&quot;\r\n        tools:layout=&quot;@layout/bottom_info_fragment&quot; /&gt;\r\n\r\n    &lt;!--&lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/pager&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        /&gt;--&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\nMainActivity\r\n\r\n     protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        fab = findViewById(R.id.fab);\r\n        /*mViewPager = findViewById(R.id.pager);\r\n        mAdapter = new ViewPagerAdapter(getSupportFragmentManager(), getLifecycle());\r\n        mAdapter.addFragment(new BottomInfoFragment());\r\n        mViewPager.setAdapter(mAdapter);*/\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(MainActivity.this, &quot;CLICK!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n      \r\nbottom_info_fragment\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_width=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;androidx.core.widget.NestedScrollView\r\n        android:id=&quot;@+id/nestedScrollView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        app:behavior_peekHeight=&quot;65dp&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n        android:background=&quot;@color/black&quot;\r\n        app:layout_behavior=\r\n        &quot;com.google.android.material.bottomsheet.BottomSheetBehavior&quot; /&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/linearLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:background=&quot;@color/teal_200&quot;\r\n            android:orientation=&quot;vertical&quot; /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\nWhen pressed floating action button Toast is shown.\r\n[![enter image description here][2]][2]\r\n\r\nAnd in both cases bottomsheet works as should it can be slided up over the button.\r\n\r\n[![enter image description here][3]][3] \r\n\r\n\r\nDoes anyone know how I can add a viewpager with fragments that have bottomsheetbehaviour and that the under layer is responsive also when bottomsheet is collapsed?\r\n\r\n  [1]: https://i.stack.imgur.com/tcNpf.png\r\n  [2]: https://i.stack.imgur.com/ZDm7z.png\r\n  [3]: https://i.stack.imgur.com/dbhK3.png","title":"Android BottomSheetBehavior takes all height in viewpager2 even it is collapsed","body":"<p>I have a thin bottom info fragment over a map what can be clicked and it expands with more info (bottomsheetbehaviour). This works fine alone and the map can be panned after the bottomsheet is collapsed back. The problem is when I try to put the bottom fragment into viewpager2. It works fine but it will take all the expanded height even it is collapsed and the map cannot be panned or clicked within that area. Viewpager height is wrap_content. Any ideas how this could be fixed so that viewpager height would change when height of the fragment inside viepager changes?</p>\n<p>I've tried different methods and always it takes the same height. This works fine without viewpager with only one fragment but I need viewpager.</p>\n<p>This can be reproduced with a simple test app</p>\n<p>activity_main.xml</p>\n<pre><code>   &lt;androidx.viewpager2.widget.ViewPager2\n    android:id=&quot;@+id/pager&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    /&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>MainActivity</p>\n<pre><code> mViewPager = findViewById(R.id.pager);\n    mAdapter = new ViewPagerAdapter(getSupportFragmentManager(), getLifecycle());\n    mAdapter.addFragment(new BottomInfoFragment());\n    mViewPager.setAdapter(mAdapter);\n    fab.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Toast.makeText(MainActivity.this, &quot;CLICK!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n</code></pre>\n<p>This does not work. When floating action button is pressed nothing happens, Toast is not shown.</p>\n<p><a href=\"https://i.stack.imgur.com/tcNpf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tcNpf.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>But if only fragment is added it works</p>\n<p>activity_main.xml</p>\n<pre><code>&lt;fragment\n    android:id=&quot;@+id/bottom_info_view&quot;\n    android:name=&quot;com.example.myapplication.BottomInfoFragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_anchor=&quot;@+id/constraintLayout&quot;\n    app:layout_anchorGravity=&quot;center&quot;\n    tools:layout=&quot;@layout/bottom_info_fragment&quot; /&gt;\n\n&lt;!--&lt;androidx.viewpager2.widget.ViewPager2\n    android:id=&quot;@+id/pager&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    /&gt;--&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>MainActivity</p>\n<pre><code> protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    fab = findViewById(R.id.fab);\n    /*mViewPager = findViewById(R.id.pager);\n    mAdapter = new ViewPagerAdapter(getSupportFragmentManager(), getLifecycle());\n    mAdapter.addFragment(new BottomInfoFragment());\n    mViewPager.setAdapter(mAdapter);*/\n    fab.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Toast.makeText(MainActivity.this, &quot;CLICK!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n  \n</code></pre>\n<p>bottom_info_fragment</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:layout_width=&quot;match_parent&quot;&gt;\n\n&lt;androidx.core.widget.NestedScrollView\n    android:id=&quot;@+id/nestedScrollView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    app:behavior_peekHeight=&quot;65dp&quot;\n    android:layout_height=&quot;200dp&quot;\n    android:background=&quot;@color/black&quot;\n    app:layout_behavior=\n    &quot;com.google.android.material.bottomsheet.BottomSheetBehavior&quot; /&gt;\n\n&lt;RelativeLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/linearLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:background=&quot;@color/teal_200&quot;\n        android:orientation=&quot;vertical&quot; /&gt;\n&lt;/RelativeLayout&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>When pressed floating action button Toast is shown.\n<a href=\"https://i.stack.imgur.com/ZDm7z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZDm7z.png\" alt=\"enter image description here\" /></a></p>\n<p>And in both cases bottomsheet works as should it can be slided up over the button.</p>\n<p><a href=\"https://i.stack.imgur.com/dbhK3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dbhK3.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone know how I can add a viewpager with fragments that have bottomsheetbehaviour and that the under layer is responsive also when bottomsheet is collapsed?</p>\n"},{"tags":["java","spring-boot","asynchronous","completable-future"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1588586265,"post_id":61405655,"comment_id":108944807,"body_markdown":"Related: [What advantage is there to using Spring @Async vs. CompleteableFuture directly?](https://stackoverflow.com/q/44685187/525036)","body":"Related: <a href=\"https://stackoverflow.com/q/44685187/525036\">What advantage is there to using Spring @Async vs. CompleteableFuture directly?</a>"}],"answers":[{"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1587805080,"post_id":61405746,"comment_id":108657110,"body_markdown":"If my answer was helpful, please accept it. Thank you","body":"If my answer was helpful, please accept it. Thank you"},{"owner":{"account_id":16176240,"reputation":45,"user_id":11678823,"display_name":"Eddy Kim"},"score":0,"creation_date":1587812294,"post_id":61405746,"comment_id":108659321,"body_markdown":"To return CompleteFuture, I have to use the complete() method of AsyncResult.\n\n\n--&gt;  return new AsyncResult&lt;&gt;((int) (price * 0.9)).completable();","body":"To return CompleteFuture, I have to use the complete() method of AsyncResult.   --&gt;  return new AsyncResult&lt;&gt;((int) (price * 0.9)).completable();"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1588586102,"post_id":61405746,"comment_id":108944699,"body_markdown":"@EddyKim, you can also use `return CompletableFuture.completedFuture((int)(price * 0.9));`","body":"@EddyKim, you can also use <code>return CompletableFuture.completedFuture((int)(price * 0.9));</code>"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1588590944,"post_id":61405746,"comment_id":108947095,"body_markdown":"I can update my answer but before: Do you really need a CompletableFuture? Wouldn&#39;t Future be good enough?","body":"I can update my answer but before: Do you really need a CompletableFuture? Wouldn&#39;t Future be good enough?"},{"owner":{"account_id":12613723,"reputation":940,"user_id":9171899,"display_name":"yuen26"},"score":0,"creation_date":1626246658,"post_id":61405746,"comment_id":120838288,"body_markdown":"@DidierL I like your comment!","body":"@DidierL I like your comment!"}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":5,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1587722313,"creation_date":1587722313,"answer_id":61405746,"question_id":61405655,"body_markdown":"Option 2 is asynchronous done twice.\r\n\r\nIf you annotated a method withe @Async it will be executed by Spring asynchronously. So you don&#39;t need to use the ThreadPoolExecutor by yourself.\r\n\r\nInstead you could write:\r\n\r\n    @Async\r\n    public CompletableFuture&lt;Integer&gt; getDiscountPriceAsync(Integer price) {\r\n        log.info(&quot;supplyAsync&quot;);\r\n        \r\n        return new AsyncResult&lt;Integer&gt;((int)(price * 0.9)); \r\n    }\r\n\r\nRead more about Async with Spring here: https://www.baeldung.com/spring-async","title":"CompletableFuture VS @Async","body":"<p>Option 2 is asynchronous done twice.</p>\n\n<p>If you annotated a method withe @Async it will be executed by Spring asynchronously. So you don't need to use the ThreadPoolExecutor by yourself.</p>\n\n<p>Instead you could write:</p>\n\n<pre><code>@Async\npublic CompletableFuture&lt;Integer&gt; getDiscountPriceAsync(Integer price) {\n    log.info(\"supplyAsync\");\n\n    return new AsyncResult&lt;Integer&gt;((int)(price * 0.9)); \n}\n</code></pre>\n\n<p>Read more about Async with Spring here: <a href=\"https://www.baeldung.com/spring-async\" rel=\"noreferrer\">https://www.baeldung.com/spring-async</a></p>\n"}],"owner":{"account_id":16176240,"reputation":45,"user_id":11678823,"display_name":"Eddy Kim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5168,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":61405746,"answer_count":1,"score":4,"last_activity_date":1681487612,"creation_date":1587722013,"question_id":61405655,"body_markdown":"I am not good at English.  \r\n\r\nI use asynchronous methods.\r\n\r\n**Option 1**\r\n```java\r\npublic CompletableFuture&lt;Integer&gt; getDiscountPriceAsync(Integer price) {\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n            log.info(&quot;supplyAsync&quot;);\r\n            return (int)(price * 0.9);\r\n        }, threadPoolTaskExecutor);\r\n    }\r\n```\r\n\r\n\r\n**Option 2**\r\n```java\r\n@Async\r\npublic CompletableFuture&lt;Integer&gt; getDiscountPriceAsync(Integer price) {\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n            log.info(&quot;supplyAsync&quot;);\r\n            return (int)(price * 0.9);\r\n        }, threadPoolTaskExecutor);\r\n    }\r\n```\r\n\r\nI wonder what the difference is between using @Async and not using it.\r\n\r\nI think the first Option1 provides enough asynchronous methods.   \r\nHowever, is it correct to use it like Option2?\r\n","title":"CompletableFuture VS @Async","body":"<p>I am not good at English.  </p>\n\n<p>I use asynchronous methods.</p>\n\n<p><strong>Option 1</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public CompletableFuture&lt;Integer&gt; getDiscountPriceAsync(Integer price) {\n        return CompletableFuture.supplyAsync(() -&gt; {\n            log.info(\"supplyAsync\");\n            return (int)(price * 0.9);\n        }, threadPoolTaskExecutor);\n    }\n</code></pre>\n\n<p><strong>Option 2</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Async\npublic CompletableFuture&lt;Integer&gt; getDiscountPriceAsync(Integer price) {\n        return CompletableFuture.supplyAsync(() -&gt; {\n            log.info(\"supplyAsync\");\n            return (int)(price * 0.9);\n        }, threadPoolTaskExecutor);\n    }\n</code></pre>\n\n<p>I wonder what the difference is between using @Async and not using it.</p>\n\n<p>I think the first Option1 provides enough asynchronous methods.<br>\nHowever, is it correct to use it like Option2?</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":17791543,"reputation":47,"user_id":12920420,"display_name":"Atmosphere Of Tech"},"score":0,"creation_date":1582046682,"post_id":60286276,"comment_id":106638695,"body_markdown":"Do I  have to download some additional files like some sdk components of higher android version on my pc in order for my app to work on those versions. Because i downloaded an sdk for nougat and the app only works perfectly on that version and on 10.0 it shows this error.","body":"Do I  have to download some additional files like some sdk components of higher android version on my pc in order for my app to work on those versions. Because i downloaded an sdk for nougat and the app only works perfectly on that version and on 10.0 it shows this error."},{"owner":{"account_id":17791543,"reputation":47,"user_id":12920420,"display_name":"Atmosphere Of Tech"},"score":0,"creation_date":1582047210,"post_id":60286276,"comment_id":106638978,"body_markdown":"Oh okay. Doing just that","body":"Oh okay. Doing just that"},{"owner":{"account_id":6239845,"reputation":3764,"user_id":4853835,"display_name":"Amani"},"score":0,"creation_date":1582047749,"post_id":60286276,"comment_id":106639266,"body_markdown":"@AtmosphereOfTech you always need to download some files like emulator images, the target sdk and build tools,... but it is not relevant to your current problem.","body":"@AtmosphereOfTech you always need to download some files like emulator images, the target sdk and build tools,... but it is not relevant to your current problem."},{"owner":{"account_id":17791543,"reputation":47,"user_id":12920420,"display_name":"Atmosphere Of Tech"},"score":0,"creation_date":1582047947,"post_id":60286276,"comment_id":106639362,"body_markdown":"Ok, Thanks I am  loading the emulator. Taking decades to load","body":"Ok, Thanks I am  loading the emulator. Taking decades to load"},{"owner":{"account_id":17791543,"reputation":47,"user_id":12920420,"display_name":"Atmosphere Of Tech"},"score":0,"creation_date":1582048184,"post_id":60286276,"comment_id":106639480,"body_markdown":"It says section app installation did not succeed in the emulator","body":"It says section app installation did not succeed in the emulator"},{"owner":{"account_id":17791543,"reputation":47,"user_id":12920420,"display_name":"Atmosphere Of Tech"},"score":0,"creation_date":1582049192,"post_id":60286276,"comment_id":106639923,"body_markdown":"Session &#39;app&#39;: Installation did not succeed.\n\t\t\tThe application could not be installed: INSTALL_PARSE_FAILED_NO_CERTIFICATES\n\t\t\tRetry","body":"Session &#39;app&#39;: Installation did not succeed. \t\t\tThe application could not be installed: INSTALL_PARSE_FAILED_NO_CERTIFICATES \t\t\tRetry"},{"owner":{"account_id":17791543,"reputation":47,"user_id":12920420,"display_name":"Atmosphere Of Tech"},"score":0,"creation_date":1582049309,"post_id":60286276,"comment_id":106639985,"body_markdown":"I&#39;m very sorry if I am not able to show the error properly.","body":"I&#39;m very sorry if I am not able to show the error properly."},{"owner":{"account_id":6239845,"reputation":3764,"user_id":4853835,"display_name":"Amani"},"score":0,"creation_date":1582049462,"post_id":60286276,"comment_id":106640047,"body_markdown":"@AtmosphereOfTech rebuild your app. in Android Studio from build menu click on `Rebuild`.","body":"@AtmosphereOfTech rebuild your app. in Android Studio from build menu click on <code>Rebuild</code>."},{"owner":{"account_id":17791543,"reputation":47,"user_id":12920420,"display_name":"Atmosphere Of Tech"},"score":0,"creation_date":1582049571,"post_id":60286276,"comment_id":106640098,"body_markdown":"Okay i will rebuild it.","body":"Okay i will rebuild it."},{"owner":{"account_id":17791543,"reputation":47,"user_id":12920420,"display_name":"Atmosphere Of Tech"},"score":0,"creation_date":1582049874,"post_id":60286276,"comment_id":106640266,"body_markdown":"Till i am launching the emulator is there any other thing that might be the problem?","body":"Till i am launching the emulator is there any other thing that might be the problem?"},{"owner":{"account_id":6239845,"reputation":3764,"user_id":4853835,"display_name":"Amani"},"score":0,"creation_date":1582049931,"post_id":60286276,"comment_id":106640296,"body_markdown":"@AtmosphereOfTech you are testing in debug or signing in release mode?","body":"@AtmosphereOfTech you are testing in debug or signing in release mode?"},{"owner":{"account_id":6239845,"reputation":3764,"user_id":4853835,"display_name":"Amani"},"score":0,"creation_date":1582050135,"post_id":60286276,"comment_id":106640414,"body_markdown":"@AtmosphereOfTech if you are in release mode check both v1 &amp; v2. in debug or release uninstall your app from emulator before installation.","body":"@AtmosphereOfTech if you are in release mode check both v1 &amp; v2. in debug or release uninstall your app from emulator before installation."},{"owner":{"account_id":17791543,"reputation":47,"user_id":12920420,"display_name":"Atmosphere Of Tech"},"score":0,"creation_date":1582050272,"post_id":60286276,"comment_id":106640491,"body_markdown":"Yes, Thank you a lot. It works on 10.0(Real phone). Just in case in further(version) if the error comes what might be the problem?","body":"Yes, Thank you a lot. It works on 10.0(Real phone). Just in case in further(version) if the error comes what might be the problem?"},{"owner":{"account_id":17791543,"reputation":47,"user_id":12920420,"display_name":"Atmosphere Of Tech"},"score":0,"creation_date":1582050538,"post_id":60286276,"comment_id":106640623,"body_markdown":"Like app stops unfortunately. BTW where is the BaseDexClassLoader.class found?","body":"Like app stops unfortunately. BTW where is the BaseDexClassLoader.class found?"},{"owner":{"account_id":17791543,"reputation":47,"user_id":12920420,"display_name":"Atmosphere Of Tech"},"score":0,"creation_date":1582050593,"post_id":60286276,"comment_id":106640644,"body_markdown":"Anyways Thank you a lot for fixing the problem for almost 50 minutes","body":"Anyways Thank you a lot for fixing the problem for almost 50 minutes"},{"owner":{"account_id":6239845,"reputation":3764,"user_id":4853835,"display_name":"Amani"},"score":0,"creation_date":1582050709,"post_id":60286276,"comment_id":106640689,"body_markdown":"@AtmosphereOfTech developers to support their apps always need to follow new Android release news. in new versions of Android we may have some changes that influence old apps.  you are using a legacy library (Apache) thus you should be more worried about this library.","body":"@AtmosphereOfTech developers to support their apps always need to follow new Android release news. in new versions of Android we may have some changes that influence old apps.  you are using a legacy library (Apache) thus you should be more worried about this library."},{"owner":{"account_id":6239845,"reputation":3764,"user_id":4853835,"display_name":"Amani"},"score":0,"creation_date":1582051101,"post_id":60286276,"comment_id":106640850,"body_markdown":"for your app to work for newer version its better to use newer library than `com.google.android.gms:play-services-maps:16.0.0`","body":"for your app to work for newer version its better to use newer library than <code>com.google.android.gms:play-services-maps:16.0.0</code>"}],"tags":[],"owner":{"account_id":6239845,"reputation":3764,"user_id":4853835,"display_name":"Amani"},"comment_count":17,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1582047072,"creation_date":1582046427,"answer_id":60286276,"question_id":60285943,"body_markdown":"&gt; If you are using com.google.android.gms:play-services-maps:16.0.0 or\r\n&gt; below and your app is targeting API level 28 (Android 9.0) or above,\r\n&gt; you must include the following declaration within the &lt;application&gt;\r\n&gt; element of AndroidManifest.xml.\r\n&gt; \r\n   \r\n\r\n    &lt;uses-library\r\n          android:name=&quot;org.apache.http.legacy&quot;\r\n          android:required=&quot;false&quot; /&gt;\r\n\r\n&gt; \r\n&gt; This is handled for you if you are using\r\n&gt; com.google.android.gms:play-services-maps:16.1.0 and is not necessary\r\n&gt; if your app is targeting a lower API level.\r\n\r\n[specify requirement for apache http legacy library][1]\r\n\r\n\r\n  [1]: https://developers.google.com/maps/documentation/android-sdk/config#specify_requirement_for_apache_http_legacy_library","title":"How can I fix error &quot;decompiled .class file bytecode version 52.0 (Java 8)","body":"<blockquote>\n  <p>If you are using com.google.android.gms:play-services-maps:16.0.0 or\n  below and your app is targeting API level 28 (Android 9.0) or above,\n  you must include the following declaration within the \n  element of AndroidManifest.xml.</p>\n</blockquote>\n\n<pre><code>&lt;uses-library\n      android:name=\"org.apache.http.legacy\"\n      android:required=\"false\" /&gt;\n</code></pre>\n\n<blockquote>\n  <p>This is handled for you if you are using\n  com.google.android.gms:play-services-maps:16.1.0 and is not necessary\n  if your app is targeting a lower API level.</p>\n</blockquote>\n\n<p><a href=\"https://developers.google.com/maps/documentation/android-sdk/config#specify_requirement_for_apache_http_legacy_library\" rel=\"nofollow noreferrer\">specify requirement for apache http legacy library</a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681889728,"post_id":76016900,"comment_id":134127989,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76016900/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28306275,"reputation":1,"user_id":21644235,"display_name":"Андрей Пастух"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681487559,"creation_date":1681487559,"answer_id":76016900,"question_id":60285943,"body_markdown":"maven clean helps me with this problem [enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sh2Fa.png","title":"How can I fix error &quot;decompiled .class file bytecode version 52.0 (Java 8)","body":"<p>maven clean helps me with this problem <a href=\"https://i.stack.imgur.com/sh2Fa.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":17791543,"reputation":47,"user_id":12920420,"display_name":"Atmosphere Of Tech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3495,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60286276,"answer_count":2,"score":3,"last_activity_date":1681487559,"creation_date":1582045158,"question_id":60285943,"body_markdown":"When I test my app on the emulator it works fine but when I ran the application on a real android 10.0 (Version) phone the log-cat shows errors which i can&#39;t understand at all. It is very confusing as it works fine on one phone (A lower version) and does not work on the other phone (Android 10.0 version).\r\n\r\nThe errors which I receive are the following:\r\n\r\nDecompiled .class file, byte code version 52.00(Java 8) to be exact.\r\n\r\n\r\nLogcat in error tab:\r\n```\r\n2020-02-18 22:08:23.114 22232-22280/? E/AndroidRuntime: FATAL EXCEPTION: Thread-4\r\n    Process: com.atmosphericproductiveinnovations.worldage, PID: 22232\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Lorg/apache/http/ProtocolVersion;\r\n        at bt.b(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):2)\r\n        at bs.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):2)\r\n        at bu.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):17)\r\n        at com.google.maps.api.android.lib6.drd.ak.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):5)\r\n        at ay.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):8)\r\n        at ay.run(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):44)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;org.apache.http.ProtocolVersion&quot; on path: DexPathList[[zip file &quot;/data/user_de/0/com.google.android.gms/app_chimera/m/000000f6/MapsDynamite.apk&quot;],nativeLibraryDirectories=[/data/user_de/0/com.google.android.gms/app_chimera/m/000000f6/MapsDynamite.apk!/lib/arm64-v8a, /system/lib64, /system/product/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\r\n        at dalvik.system.DelegateLastClassLoader.loadClass(DelegateLastClassLoader.java:137)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at bt.b(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):2)&#160;\r\n        at bs.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):2)&#160;\r\n        at bu.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):17)&#160;\r\n        at com.google.maps.api.android.lib6.drd.ak.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):5)&#160;\r\n        at ay.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):8)&#160;\r\n        at ay.run(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):44)&#160;\r\n2020-02-18 22:08:23.128 22232-22232/? E/libprocessgroup: set_timerslack_ns write failed: Operation not permitted\r\n2020-02-18 22:08:23.206 22232-22232/? E/BufferQueueConsumer: disconnect by : com.atmosphericproductiveinnovations.worldage my_pid = 22232\r\n\r\n```\r\n\r\nMapsActivity.Java:\r\n        \r\n```\r\npackage com.atmosphericproductiveinnovations.worldage;\r\n\r\nimport androidx.fragment.app.FragmentActivity;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.BitmapDescriptorFactory;\r\nimport com.google.android.gms.maps.model.CameraPosition;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\n\r\npublic class MapsActivity extends FragmentActivity implements OnMapReadyCallback {\r\n\r\n    private GoogleMap mMap;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_maps);\r\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n\r\n        // Add a marker in Sydney and move the camera\r\n                    LatLng India = new LatLng(23.52, 78.59);\r\n                   mMap.addMarker(new MarkerOptions()\r\n                           .position(India)\r\n                          .title(&quot;India&quot;))\r\n                            //.setSnippet(&quot;Meow. My name is&quot;);\r\n        .setSnippet(&quot;Information-&quot;+&quot;&quot; +\r\n                &quot;\\n&quot;+&quot;Location:South Asia&quot;+\r\n                &quot;\\n&quot;+&quot;Population:133.92 crores (2017)&quot;+\r\n                &quot;\\n&quot;+&quot;GDP:2.6 lakh crores USD (2017):&quot;);\r\n\r\n        mMap.moveCamera(CameraUpdateFactory.newLatLng(India));\r\n\r\n        mMap.setInfoWindowAdapter(new CustomInfoWindowAdapter(MapsActivity.this));\r\n    }\r\n}\r\n\r\n```\r\nAndroid manifest xml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.atmosphericproductiveinnovations.worldage&quot;&gt;\r\n\r\n    &lt;!--\r\n         The ACCESS_COARSE/FINE_LOCATION permissions are not required to use\r\n         Google Maps Android API v2, but you must specify either coarse or fine\r\n         location permissions for the &#39;MyLocation&#39; functionality.\r\n    --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;com.google.android.providers.gsf.permission.READ_GSERVICES&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n        &lt;!--\r\n             The API key for Google Maps-based APIs is defined as a string resource.\r\n             (See the file &quot;res/values/google_maps_api.xml&quot;).\r\n             Note that the API key is linked to the encryption key used to sign the APK.\r\n             You need a different API key for each encryption key, including the release key that is used to\r\n             sign the APK for publishing.\r\n             You can define the keys for the debug and release targets in src/debug/ and src/release/.\r\n        --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.maps.v2.API_KEY&quot;\r\n            android:value=&quot;AIzaSyD7EYViNqAco_PXl-0CyCgJ6l2eEIzvTzY&quot; /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MapsActivity&quot;\r\n            android:label=&quot;@string/title_activity_maps&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\nBaseDexClassLoader.class:\r\n```\r\npackage dalvik.system;\r\n\r\nimport java.io.File;\r\nimport java.net.URL;\r\nimport java.util.Enumeration;\r\n\r\npublic class BaseDexClassLoader extends ClassLoader {\r\n    public BaseDexClassLoader(String dexPath, File optimizedDirectory, String librarySearchPath, ClassLoader parent) {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    protected URL findResource(String name) {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    protected Enumeration&lt;URL&gt; findResources(String name) {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    public String findLibrary(String name) {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    protected synchronized Package getPackage(String name) {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    public String toString() {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nDelegateLastClassLoader.class:\r\n```\r\npackage dalvik.system;\r\n\r\nimport android.annotation.NonNull;\r\nimport android.annotation.Nullable;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.Enumeration;\r\n\r\npublic final class DelegateLastClassLoader extends PathClassLoader {\r\n    public DelegateLastClassLoader(String dexPath, ClassLoader parent) {\r\n        super((String)null, (ClassLoader)null);\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    public DelegateLastClassLoader(String dexPath, String librarySearchPath, ClassLoader parent) {\r\n        super((String)null, (ClassLoader)null);\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    public DelegateLastClassLoader(@NonNull String dexPath, @Nullable String librarySearchPath, @Nullable ClassLoader parent, boolean delegateResourceLoading) {\r\n        super((String)null, (ClassLoader)null);\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    protected Class&lt;?&gt; loadClass(String name, boolean resolve) throws ClassNotFoundException {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    public URL getResource(String name) {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    public Enumeration&lt;URL&gt; getResources(String name) throws IOException {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI am new to IntelIJ","title":"How can I fix error &quot;decompiled .class file bytecode version 52.0 (Java 8)","body":"<p>When I test my app on the emulator it works fine but when I ran the application on a real android 10.0 (Version) phone the log-cat shows errors which i can't understand at all. It is very confusing as it works fine on one phone (A lower version) and does not work on the other phone (Android 10.0 version).</p>\n\n<p>The errors which I receive are the following:</p>\n\n<p>Decompiled .class file, byte code version 52.00(Java 8) to be exact.</p>\n\n<p>Logcat in error tab:</p>\n\n<pre><code>2020-02-18 22:08:23.114 22232-22280/? E/AndroidRuntime: FATAL EXCEPTION: Thread-4\n    Process: com.atmosphericproductiveinnovations.worldage, PID: 22232\n    java.lang.NoClassDefFoundError: Failed resolution of: Lorg/apache/http/ProtocolVersion;\n        at bt.b(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):2)\n        at bs.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):2)\n        at bu.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):17)\n        at com.google.maps.api.android.lib6.drd.ak.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):5)\n        at ay.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):8)\n        at ay.run(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):44)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"org.apache.http.ProtocolVersion\" on path: DexPathList[[zip file \"/data/user_de/0/com.google.android.gms/app_chimera/m/000000f6/MapsDynamite.apk\"],nativeLibraryDirectories=[/data/user_de/0/com.google.android.gms/app_chimera/m/000000f6/MapsDynamite.apk!/lib/arm64-v8a, /system/lib64, /system/product/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\n        at dalvik.system.DelegateLastClassLoader.loadClass(DelegateLastClassLoader.java:137)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at bt.b(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):2) \n        at bs.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):2) \n        at bu.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):17) \n        at com.google.maps.api.android.lib6.drd.ak.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):5) \n        at ay.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):8) \n        at ay.run(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):44) \n2020-02-18 22:08:23.128 22232-22232/? E/libprocessgroup: set_timerslack_ns write failed: Operation not permitted\n2020-02-18 22:08:23.206 22232-22232/? E/BufferQueueConsumer: disconnect by : com.atmosphericproductiveinnovations.worldage my_pid = 22232\n\n</code></pre>\n\n<p>MapsActivity.Java:</p>\n\n<pre><code>package com.atmosphericproductiveinnovations.worldage;\n\nimport androidx.fragment.app.FragmentActivity;\n\nimport android.os.Bundle;\n\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.BitmapDescriptorFactory;\nimport com.google.android.gms.maps.model.CameraPosition;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\n\npublic class MapsActivity extends FragmentActivity implements OnMapReadyCallback {\n\n    private GoogleMap mMap;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_maps);\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n    }\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n\n        // Add a marker in Sydney and move the camera\n                    LatLng India = new LatLng(23.52, 78.59);\n                   mMap.addMarker(new MarkerOptions()\n                           .position(India)\n                          .title(\"India\"))\n                            //.setSnippet(\"Meow. My name is\");\n        .setSnippet(\"Information-\"+\"\" +\n                \"\\n\"+\"Location:South Asia\"+\n                \"\\n\"+\"Population:133.92 crores (2017)\"+\n                \"\\n\"+\"GDP:2.6 lakh crores USD (2017):\");\n\n        mMap.moveCamera(CameraUpdateFactory.newLatLng(India));\n\n        mMap.setInfoWindowAdapter(new CustomInfoWindowAdapter(MapsActivity.this));\n    }\n}\n\n</code></pre>\n\n<p>Android manifest xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.atmosphericproductiveinnovations.worldage\"&gt;\n\n    &lt;!--\n         The ACCESS_COARSE/FINE_LOCATION permissions are not required to use\n         Google Maps Android API v2, but you must specify either coarse or fine\n         location permissions for the 'MyLocation' functionality.\n    --&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n    &lt;uses-permission android:name=\"com.google.android.providers.gsf.permission.READ_GSERVICES\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\"/&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n\n        &lt;!--\n             The API key for Google Maps-based APIs is defined as a string resource.\n             (See the file \"res/values/google_maps_api.xml\").\n             Note that the API key is linked to the encryption key used to sign the APK.\n             You need a different API key for each encryption key, including the release key that is used to\n             sign the APK for publishing.\n             You can define the keys for the debug and release targets in src/debug/ and src/release/.\n        --&gt;\n        &lt;meta-data\n            android:name=\"com.google.android.maps.v2.API_KEY\"\n            android:value=\"AIzaSyD7EYViNqAco_PXl-0CyCgJ6l2eEIzvTzY\" /&gt;\n\n        &lt;activity\n            android:name=\".MapsActivity\"\n            android:label=\"@string/title_activity_maps\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>BaseDexClassLoader.class:</p>\n\n<pre><code>package dalvik.system;\n\nimport java.io.File;\nimport java.net.URL;\nimport java.util.Enumeration;\n\npublic class BaseDexClassLoader extends ClassLoader {\n    public BaseDexClassLoader(String dexPath, File optimizedDirectory, String librarySearchPath, ClassLoader parent) {\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    protected URL findResource(String name) {\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    protected Enumeration&lt;URL&gt; findResources(String name) {\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    public String findLibrary(String name) {\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    protected synchronized Package getPackage(String name) {\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    public String toString() {\n        throw new RuntimeException(\"Stub!\");\n    }\n}\n</code></pre>\n\n<p>DelegateLastClassLoader.class:</p>\n\n<pre><code>package dalvik.system;\n\nimport android.annotation.NonNull;\nimport android.annotation.Nullable;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.Enumeration;\n\npublic final class DelegateLastClassLoader extends PathClassLoader {\n    public DelegateLastClassLoader(String dexPath, ClassLoader parent) {\n        super((String)null, (ClassLoader)null);\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    public DelegateLastClassLoader(String dexPath, String librarySearchPath, ClassLoader parent) {\n        super((String)null, (ClassLoader)null);\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    public DelegateLastClassLoader(@NonNull String dexPath, @Nullable String librarySearchPath, @Nullable ClassLoader parent, boolean delegateResourceLoading) {\n        super((String)null, (ClassLoader)null);\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    protected Class&lt;?&gt; loadClass(String name, boolean resolve) throws ClassNotFoundException {\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    public URL getResource(String name) {\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    public Enumeration&lt;URL&gt; getResources(String name) throws IOException {\n        throw new RuntimeException(\"Stub!\");\n    }\n}\n\n</code></pre>\n\n<p>I am new to IntelIJ</p>\n"},{"tags":["java","swagger"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1681487692,"post_id":76016882,"comment_id":134069666,"body_markdown":"if you&#39;re viewing it on a webpage, then this is what&#39;s supposed to happen. As per the HTML spec, `\\n` gets treated as generic whitespace, unless you use CSS with an explicit `white-space: pre` to preserve things like newlines, tabs, and multiple spaces. That has nothing to do with Swagger or Java =) Of course, if your annotations target is explicitly HTML, nothing stopping you from adding `&lt;br&gt;` to control line breaks explicitly.","body":"if you&#39;re viewing it on a webpage, then this is what&#39;s supposed to happen. As per the HTML spec, <code>\\n</code> gets treated as generic whitespace, unless you use CSS with an explicit <code>white-space: pre</code> to preserve things like newlines, tabs, and multiple spaces. That has nothing to do with Swagger or Java =) Of course, if your annotations target is explicitly HTML, nothing stopping you from adding <code>&lt;br&gt;</code> to control line breaks explicitly."},{"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"score":0,"creation_date":1681493707,"post_id":76016882,"comment_id":134071055,"body_markdown":"&lt;br&gt; doesn&#39;t work either I&#39;m afraid.  Not in the  @ApiOperation &quot;value&quot; anyway...","body":"&lt;br&gt; doesn&#39;t work either I&#39;m afraid.  Not in the  @ApiOperation &quot;value&quot; anyway..."}],"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681487447,"creation_date":1681487447,"question_id":76016882,"body_markdown":"I&#39;m new to Swagger.  Using Java.  I&#39;ve inherited the app.  I see this import in the gradle file, so I assume I&#39;m working with 3.0.0\r\n\r\nimplementation(&quot;io.springfox:springfox-boot-starter:3.0.0&quot;)\r\n\r\nI need to dramatically upgrade the documentation of this app&#39;s API endpoints and that requires multi-line comments.\r\n\r\nIs there a way to use Swagger annotations to have multi-line comments show up somewhere in the Swagger web page for the specific endpoint?  At this point, I&#39;m not fussy about where the comments show up on the endpoint&#39;s section.\r\n\r\nI&#39;ve tried a few annotations, but Swagger is refusing to &quot;respect&quot; \\n or \\n\\n and instead compresses everything and just wraps it which results in ugly and fairly unreadable documentation.  \r\n\r\nBased on what I read elsewhere, in at least some cases this is because of the type of HTML the annotation contents get turned into...\r\n\r\nIf there isn&#39;t a way to do this with Swagger annotations, is there another way?\r\n\r\nThanks.","title":"Multi Line comments in Swagger","body":"<p>I'm new to Swagger.  Using Java.  I've inherited the app.  I see this import in the gradle file, so I assume I'm working with 3.0.0</p>\n<p>implementation(&quot;io.springfox:springfox-boot-starter:3.0.0&quot;)</p>\n<p>I need to dramatically upgrade the documentation of this app's API endpoints and that requires multi-line comments.</p>\n<p>Is there a way to use Swagger annotations to have multi-line comments show up somewhere in the Swagger web page for the specific endpoint?  At this point, I'm not fussy about where the comments show up on the endpoint's section.</p>\n<p>I've tried a few annotations, but Swagger is refusing to &quot;respect&quot; \\n or \\n\\n and instead compresses everything and just wraps it which results in ugly and fairly unreadable documentation.</p>\n<p>Based on what I read elsewhere, in at least some cases this is because of the type of HTML the annotation contents get turned into...</p>\n<p>If there isn't a way to do this with Swagger annotations, is there another way?</p>\n<p>Thanks.</p>\n"},{"tags":["java","sql-server","azure"],"comments":[{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1681496222,"post_id":76016838,"comment_id":134071528,"body_markdown":"I would avoid jtds, it&#39;s a bit outdated, try microsoft jdbc, and post the code in the quesiton","body":"I would avoid jtds, it&#39;s a bit outdated, try microsoft jdbc, and post the code in the quesiton"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":1,"creation_date":1681523351,"post_id":76016838,"comment_id":134074896,"body_markdown":"Aside... you shouldn&#39;t have Android and iOS devices using the TDS protocol to connect to SQL Servers across the open internet. TDS was designed 30 years ago for LAN applications and, because it&#39;s so chatty, performs horribly as latency increases across the open internet - and especially in mobile WAN environments where time-sharing and packet encapsulation happens at many layers. Consider instead implementing a web service (e.g.: a RESTful API) in front of your SQL Server and use HTTPS for data transfer instead - it&#39;s more efficient and more secure to boot.","body":"Aside... you shouldn&#39;t have Android and iOS devices using the TDS protocol to connect to SQL Servers across the open internet. TDS was designed 30 years ago for LAN applications and, because it&#39;s so chatty, performs horribly as latency increases across the open internet - and especially in mobile WAN environments where time-sharing and packet encapsulation happens at many layers. Consider instead implementing a web service (e.g.: a RESTful API) in front of your SQL Server and use HTTPS for data transfer instead - it&#39;s more efficient and more secure to boot."},{"owner":{"account_id":27810618,"reputation":36,"user_id":21233086,"display_name":"LuciferRules"},"score":0,"creation_date":1681527781,"post_id":76016838,"comment_id":134075199,"body_markdown":"@AlwaysLearning Thanks for rich reply. Would you mind to share a link on how to use RESTful API to connect Azure SQL server? I am pretty new on this RESTful API thing :( assume that I know nothing.","body":"@AlwaysLearning Thanks for rich reply. Would you mind to share a link on how to use RESTful API to connect Azure SQL server? I am pretty new on this RESTful API thing :( assume that I know nothing."}],"owner":{"account_id":27810618,"reputation":36,"user_id":21233086,"display_name":"LuciferRules"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681487153,"creation_date":1681487153,"question_id":76016838,"body_markdown":"I have tried all solutions offered from every post related to TSL version. I have no idea what went wrong.\r\nI still got the same error:\r\n\r\n&gt; E/SQL&#160;Exception:: Reason: Login failed due to client TLS version being less than minimal TLS version allowed by the server.\r\n\r\nThings that I have tried:\r\n\r\n0. configure Azure SQL server database min TSL version 1.0 &gt; 1.1&gt; 1.2 \r\n1. using jtds-1.3.1.jar\r\n2. using mssql-jdbc-12.2.0.jre8.jar\r\n3. connect to Microsoft SSMS (successful)\r\n4. test query at SSMS (successful): &quot;USE userdata;\\n&quot; +\r\n                &quot;SELECT * FROM user;&quot;\r\n\r\n\r\n       public class CheckLogin extends AsyncTask&lt;String,String,String&gt;{\r\n       \r\n\r\n        @Override\r\n        protected String doInBackground(String... params){\r\n\r\n        con = sqlserverconn(); // connect to userdata database\r\n\r\n        String query = &quot;USE userdata;\\n&quot; +\r\n                &quot;SELECT * FROM user;&quot;;\r\n\r\n        try {\r\n             //initialize SSLContext field\r\n            sc = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n            sc.init(null, null, null);\r\n            HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n\r\n            Statement statement = con.createStatement(); // create statements\r\n            ResultSet result = statement.executeQuery(query); // execute query\r\n\r\n            //get data from returned query\r\n            if(result.next()){\r\n                id = result.getInt(&quot;Id&quot;);\r\n                deviceid = result.getString(&quot;deviceId&quot;);\r\n                username = result.getString(&quot;userName&quot;);\r\n                password = result.getString(&quot;password&quot;);\r\n                email = result.getString(&quot;email&quot;);\r\n\r\n                //set text data\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        login_id.setText(String.valueOf(id));\r\n                        login_deviceid.setText(deviceid);\r\n                        login_username.setText(username);\r\n                        login_password.setText(password);\r\n                        login_email.setText(email);\r\n                    }\r\n                });\r\n            }\r\n            result.close();\r\n            statement.close();\r\n            con.close();\r\n\r\n        } catch (SQLException e) {\r\n            Log.e(&quot;SQL Exception: &quot;,e.getMessage());\r\n            throw new RuntimeException(e);\r\n        }\r\n        catch (NoSuchAlgorithmException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (KeyManagementException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        return &quot;&quot;;\r\n        }\r\n        }\r\n\r\n          @SuppressLint(&quot;newApi&quot;)\r\n         public Connection sqlserverconn(){\r\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n        Connection connection = null;\r\n        String ConnectionURL = null;\r\n        try {\r\n            Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\r\n            //database connection string here\r\n            ConnectionURL = &quot;jdbc:jtds:sqlserver://userdata-dataserver.database.windows.net:1433;DatabaseName=userdata;user=userdata@userdata-dataserver;password=xxxxxxx;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;&quot;;\r\n            connection =DriverManager.getConnection(ConnectionURL);\r\n        }\r\n       catch (SQLException e) {\r\n            Log.e(&quot;SQL Exception: &quot;,e.getMessage());\r\n        } catch (ClassNotFoundException e) {\r\n            Log.e(&quot;Class Not Found: &quot;,e.getMessage());\r\n            throw new RuntimeException(e);\r\n        }\r\n        return connection;\r\n        }","title":"Using jtds-1.3.1.jar to connect android app to Microsoft Azure SQL database","body":"<p>I have tried all solutions offered from every post related to TSL version. I have no idea what went wrong.\nI still got the same error:</p>\n<blockquote>\n<p>E/SQL Exception:: Reason: Login failed due to client TLS version being less than minimal TLS version allowed by the server.</p>\n</blockquote>\n<p>Things that I have tried:</p>\n<ol start=\"0\">\n<li><p>configure Azure SQL server database min TSL version 1.0 &gt; 1.1&gt; 1.2</p>\n</li>\n<li><p>using jtds-1.3.1.jar</p>\n</li>\n<li><p>using mssql-jdbc-12.2.0.jre8.jar</p>\n</li>\n<li><p>connect to Microsoft SSMS (successful)</p>\n</li>\n<li><p>test query at SSMS (successful): &quot;USE userdata;\\n&quot; +\n&quot;SELECT * FROM user;&quot;</p>\n<pre><code>public class CheckLogin extends AsyncTask&lt;String,String,String&gt;{\n\n\n @Override\n protected String doInBackground(String... params){\n\n con = sqlserverconn(); // connect to userdata database\n\n String query = &quot;USE userdata;\\n&quot; +\n         &quot;SELECT * FROM user;&quot;;\n\n try {\n      //initialize SSLContext field\n     sc = SSLContext.getInstance(&quot;TLSv1.2&quot;);\n     sc.init(null, null, null);\n     HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n\n     Statement statement = con.createStatement(); // create statements\n     ResultSet result = statement.executeQuery(query); // execute query\n\n     //get data from returned query\n     if(result.next()){\n         id = result.getInt(&quot;Id&quot;);\n         deviceid = result.getString(&quot;deviceId&quot;);\n         username = result.getString(&quot;userName&quot;);\n         password = result.getString(&quot;password&quot;);\n         email = result.getString(&quot;email&quot;);\n\n         //set text data\n         runOnUiThread(new Runnable() {\n             @Override\n             public void run() {\n                 login_id.setText(String.valueOf(id));\n                 login_deviceid.setText(deviceid);\n                 login_username.setText(username);\n                 login_password.setText(password);\n                 login_email.setText(email);\n             }\n         });\n     }\n     result.close();\n     statement.close();\n     con.close();\n\n } catch (SQLException e) {\n     Log.e(&quot;SQL Exception: &quot;,e.getMessage());\n     throw new RuntimeException(e);\n }\n catch (NoSuchAlgorithmException e) {\n     throw new RuntimeException(e);\n } catch (KeyManagementException e) {\n     throw new RuntimeException(e);\n }\n\n return &quot;&quot;;\n }\n }\n\n   @SuppressLint(&quot;newApi&quot;)\n  public Connection sqlserverconn(){\n StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n StrictMode.setThreadPolicy(policy);\n Connection connection = null;\n String ConnectionURL = null;\n try {\n     Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\n     //database connection string here\n     ConnectionURL = &quot;jdbc:jtds:sqlserver://userdata-dataserver.database.windows.net:1433;DatabaseName=userdata;user=userdata@userdata-dataserver;password=xxxxxxx;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;&quot;;\n     connection =DriverManager.getConnection(ConnectionURL);\n }\ncatch (SQLException e) {\n     Log.e(&quot;SQL Exception: &quot;,e.getMessage());\n } catch (ClassNotFoundException e) {\n     Log.e(&quot;Class Not Found: &quot;,e.getMessage());\n     throw new RuntimeException(e);\n }\n return connection;\n }\n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","google-bigquery"],"owner":{"account_id":28026246,"reputation":1,"user_id":21406211,"display_name":"Kittles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681486276,"creation_date":1681485854,"question_id":76016667,"body_markdown":"I am trying to do a BigQuery REST API call, but getting an error:\r\n\r\nThe method setProjectId(String) is undefined for the type BigQueryOptions.Builder\r\n\r\nWhen trying to run this line of code within the Main:\r\n\r\n```\r\nBigQuery BigQuery = BigQueryOptions.newBuilder().setProjectId(“123456789“).build().getService();\r\n```\r\n\r\nI have the following dependencies in my pom file:\r\n- google-cloud-bigquery version 2.24.4\r\n- google-cloud-core version 2.15.0\r\n\r\nI have tried other artifacts too, but doesn’t seem to be working…\r\n\r\nI am trying to get the results from the data table.\r\n\r\n————————————————————————————\r\n\r\nIf I move my code from Eclipse to IntelliJ, I then get a different error message for the same line of code:\r\n\r\nclass file for com.google.cloud.ServiceOptions not found","title":"The method setProjectId(String) is undefined for the type BigQueryOptions.Builder","body":"<p>I am trying to do a BigQuery REST API call, but getting an error:</p>\n<p>The method setProjectId(String) is undefined for the type BigQueryOptions.Builder</p>\n<p>When trying to run this line of code within the Main:</p>\n<pre><code>BigQuery BigQuery = BigQueryOptions.newBuilder().setProjectId(“123456789“).build().getService();\n</code></pre>\n<p>I have the following dependencies in my pom file:</p>\n<ul>\n<li>google-cloud-bigquery version 2.24.4</li>\n<li>google-cloud-core version 2.15.0</li>\n</ul>\n<p>I have tried other artifacts too, but doesn’t seem to be working…</p>\n<p>I am trying to get the results from the data table.</p>\n<p>————————————————————————————</p>\n<p>If I move my code from Eclipse to IntelliJ, I then get a different error message for the same line of code:</p>\n<p>class file for com.google.cloud.ServiceOptions not found</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1681484590,"post_id":76016366,"comment_id":134068799,"body_markdown":"hmm .. this feels like a repost .. is it?","body":"hmm .. this feels like a repost .. is it?"},{"owner":{"account_id":26378841,"reputation":3,"user_id":20032413,"display_name":"shanu"},"score":0,"creation_date":1681484971,"post_id":76016366,"comment_id":134068923,"body_markdown":"Not as of now..","body":"Not as of now.."},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1681485056,"post_id":76016366,"comment_id":134068950,"body_markdown":"I hope this was not your school h/w :( try to solve those your self . If you cant might be good to consider testing instead of software dev or get in to a support or proj mt role. just my 2 cents","body":"I hope this was not your school h/w :( try to solve those your self . If you cant might be good to consider testing instead of software dev or get in to a support or proj mt role. just my 2 cents"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681485921,"post_id":76016366,"comment_id":134069212,"body_markdown":"This seems to be a common problem at coding practice / challenge sites. Can you, please, give us a link to the page where you found the problem?","body":"This seems to be a common problem at coding practice / challenge sites. Can you, please, give us a link to the page where you found the problem?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681486023,"post_id":76016366,"comment_id":134069246,"body_markdown":"Hmmm -- Looks like there are several questions on Stack Overflow about checking balanced parentheses: https://stackoverflow.com/search?q=%5Bjava%5D+balanced+parentheses","body":"Hmmm -- Looks like there are several questions on Stack Overflow about checking balanced parentheses: <a href=\"https://stackoverflow.com/search?q=%5Bjava%5D+balanced+parentheses\">stackoverflow.com/search?q=%5Bjava%5D+balanced+parentheses</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681486300,"post_id":76016366,"comment_id":134069316,"body_markdown":"Please edit the question to describe your efforts to debug this. A question about code with bugs is more likely to draw good answers if the person asking documents efforts to debug.  It might help to read https://ericlippert.com/2014/03/05/how-to-debug-small-programs/","body":"Please edit the question to describe your efforts to debug this. A question about code with bugs is more likely to draw good answers if the person asking documents efforts to debug.  It might help to read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681557490,"post_id":76016366,"comment_id":134077804,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1681484556,"post_id":76016417,"comment_id":134068790,"body_markdown":"please take the time to write real English words (vs. the non-existing _thru_ or _ur_)","body":"please take the time to write real English words (vs. the non-existing <i>thru</i> or <i>ur</i>)"}],"tags":[],"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681486205,"creation_date":1681484062,"answer_id":76016417,"question_id":76016366,"body_markdown":"Your only coding for the positive cases. Do a truth table, go through the code for every entry in  your example. you need to keep a flag when you get a closing bracket but you do  not have a opening bracket. right now your just ignoring it. I have not tested below code for all test cases, but you can add test cases to it. \r\n\r\n    package sel2in.academic;\r\n    \r\n    import java.util.Stack;\r\n    \r\n    public class    CheckBrackets {\r\n    \r\n    \r\n            public boolean isValid(String s) {\r\n                Stack&lt;Character&gt; st = new Stack&lt;&gt;();\r\n                int len = s.length();\r\n                if(len%2!=0){//why? can have a string like &quot;{s}&quot; ?\r\n                    //return false;\r\n                }\r\n                for(int i = 0; i&lt;s.length(); i++){\r\n                    if(s.charAt(i)==&#39;(&#39; || s.charAt(i)==&#39;{&#39; || s.charAt(i)==&#39;[&#39;){\r\n                        st.push(s.charAt(i));\r\n                    }\r\n    \r\n                    else if(!st.isEmpty() &amp;&amp; s.charAt(i)==&#39;)&#39;){\r\n                        if(!st.isEmpty() &amp;&amp; st.peek()==&#39;(&#39;){\r\n                            st.pop();\r\n                        }else{\r\n                          return false; /// need similar in other places too\r\n                    }\r\n    \r\n                    else if(!st.isEmpty() &amp;&amp; s.charAt(i)==&#39;}&#39;){\r\n                        if(st.peek()==&#39;{&#39;){\r\n                            st.pop();\r\n                        }\r\n                    }\r\n    \r\n                    else if(!st.isEmpty() &amp;&amp; s.charAt(i)==&#39;]&#39;){\r\n                        if(st.peek()==&#39;[&#39;){\r\n                            st.pop();\r\n                        }\r\n                    }else  if(s.charAt(i)==&#39;)&#39; || s.charAt(i)==&#39;}&#39; || s.charAt(i)==&#39;]&#39;){//missing test, might be more do more truth tables\r\n                        return false;\r\n                    }\r\n                }\r\n                if(st.isEmpty() ){\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n    \r\n        public static void main(String[] args) {\r\n            CheckBrackets app = new CheckBrackets();\r\n            app.tesCases();\r\n        }\r\n    \r\n        private  void tesCases() {\r\n                test(&quot;{}&quot;, true);\r\n            test(&quot;{x}&quot;, true);\r\n            test(&quot;{}}&quot;, false);\r\n            System.out.println(&quot;Remember for failed test cases check the test case and the logic&quot;);\r\n            System.out.println(&quot;test cases &quot; + testCases + &quot; fails :&quot; + failedTestCases);\r\n        }\r\n        int testCases = 0;\r\n            int failedTestCases=0;\r\n        private void test(String testStr, boolean expectedValue) {\r\n            testCases++;\r\n                boolean actualResult = false;\r\n                try {\r\n                    actualResult=isValid(testStr);\r\n                }catch (Exception e){\r\n                    System.out.println(&quot;Exce &quot; + e + &quot;, input str :&quot; + testStr + &quot;; expected :&quot; + expectedValue);\r\n                }\r\n                if(actualResult != expectedValue){\r\n                    failedTestCases++;\r\n                    System.out.println(&quot;failed test Case, input str :&quot; + testStr + &quot;; expected :&quot; + expectedValue  + &quot; actual :&quot;+ actualResult);\r\n                }\r\n        }\r\n    }\r\n\r\n","title":"I have to find the balance parenthesis. but its showing wrong answer for one test case","body":"<p>Your only coding for the positive cases. Do a truth table, go through the code for every entry in  your example. you need to keep a flag when you get a closing bracket but you do  not have a opening bracket. right now your just ignoring it. I have not tested below code for all test cases, but you can add test cases to it.</p>\n<pre><code>package sel2in.academic;\n\nimport java.util.Stack;\n\npublic class    CheckBrackets {\n\n\n        public boolean isValid(String s) {\n            Stack&lt;Character&gt; st = new Stack&lt;&gt;();\n            int len = s.length();\n            if(len%2!=0){//why? can have a string like &quot;{s}&quot; ?\n                //return false;\n            }\n            for(int i = 0; i&lt;s.length(); i++){\n                if(s.charAt(i)=='(' || s.charAt(i)=='{' || s.charAt(i)=='['){\n                    st.push(s.charAt(i));\n                }\n\n                else if(!st.isEmpty() &amp;&amp; s.charAt(i)==')'){\n                    if(!st.isEmpty() &amp;&amp; st.peek()=='('){\n                        st.pop();\n                    }else{\n                      return false; /// need similar in other places too\n                }\n\n                else if(!st.isEmpty() &amp;&amp; s.charAt(i)=='}'){\n                    if(st.peek()=='{'){\n                        st.pop();\n                    }\n                }\n\n                else if(!st.isEmpty() &amp;&amp; s.charAt(i)==']'){\n                    if(st.peek()=='['){\n                        st.pop();\n                    }\n                }else  if(s.charAt(i)==')' || s.charAt(i)=='}' || s.charAt(i)==']'){//missing test, might be more do more truth tables\n                    return false;\n                }\n            }\n            if(st.isEmpty() ){\n                return true;\n            }\n            return false;\n        }\n\n    public static void main(String[] args) {\n        CheckBrackets app = new CheckBrackets();\n        app.tesCases();\n    }\n\n    private  void tesCases() {\n            test(&quot;{}&quot;, true);\n        test(&quot;{x}&quot;, true);\n        test(&quot;{}}&quot;, false);\n        System.out.println(&quot;Remember for failed test cases check the test case and the logic&quot;);\n        System.out.println(&quot;test cases &quot; + testCases + &quot; fails :&quot; + failedTestCases);\n    }\n    int testCases = 0;\n        int failedTestCases=0;\n    private void test(String testStr, boolean expectedValue) {\n        testCases++;\n            boolean actualResult = false;\n            try {\n                actualResult=isValid(testStr);\n            }catch (Exception e){\n                System.out.println(&quot;Exce &quot; + e + &quot;, input str :&quot; + testStr + &quot;; expected :&quot; + expectedValue);\n            }\n            if(actualResult != expectedValue){\n                failedTestCases++;\n                System.out.println(&quot;failed test Case, input str :&quot; + testStr + &quot;; expected :&quot; + expectedValue  + &quot; actual :&quot;+ actualResult);\n            }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26378841,"reputation":3,"user_id":20032413,"display_name":"shanu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1681486205,"creation_date":1681483769,"question_id":76016366,"body_markdown":"*I have to calculate the valid parenthesis but one test case is missing.. and I don&#39;t know how the output is &quot;True&quot; for this test case only*\r\n\r\n*input : ([}}])   output:- true,    Expected output : false*\r\n\r\n    `class Solution {\r\n        public boolean isValid(String s) {\r\n            Stack &lt;Character&gt; st = new Stack&lt;&gt;();\r\n            int len = s.length();\r\n            if(len%2!=0){\r\n                return false;\r\n            }\r\n            for(int i = 0; i&lt;s.length(); i++){\r\n                if(s.charAt(i)==&#39;(&#39; || s.charAt(i)==&#39;{&#39; || s.charAt(i)==&#39;[&#39;){\r\n                    st.push(s.charAt(i));\r\n                }\r\n\r\n                else if(!st.isEmpty() &amp;&amp; s.charAt(i)==&#39;)&#39;){\r\n                    if(!st.isEmpty() &amp;&amp; st.peek()==&#39;(&#39;){\r\n                        st.pop();\r\n                    }\r\n                }\r\n\r\n                else if(!st.isEmpty() &amp;&amp; s.charAt(i)==&#39;}&#39;){\r\n                    if(st.peek()==&#39;{&#39;){\r\n                        st.pop();\r\n                    }\r\n                } \r\n\r\n                else if(!st.isEmpty() &amp;&amp; s.charAt(i)==&#39;]&#39;){\r\n                    if(st.peek()==&#39;[&#39;){\r\n                        st.pop();\r\n                    }\r\n                }\r\n            }\r\n            if(st.isEmpty() ){\r\n                return true;\r\n            } \r\n            return false;\r\n        }\r\n    }`\r\n\r\n*I am trying the output &quot;false&quot; but it&#39;s showing &quot;true&quot;.*","title":"I have to find the balance parenthesis. but its showing wrong answer for one test case","body":"<p><em>I have to calculate the valid parenthesis but one test case is missing.. and I don't know how the output is &quot;True&quot; for this test case only</em></p>\n<p><em>input : ([}}])   output:- true,    Expected output : false</em></p>\n<pre><code>`class Solution {\n    public boolean isValid(String s) {\n        Stack &lt;Character&gt; st = new Stack&lt;&gt;();\n        int len = s.length();\n        if(len%2!=0){\n            return false;\n        }\n        for(int i = 0; i&lt;s.length(); i++){\n            if(s.charAt(i)=='(' || s.charAt(i)=='{' || s.charAt(i)=='['){\n                st.push(s.charAt(i));\n            }\n\n            else if(!st.isEmpty() &amp;&amp; s.charAt(i)==')'){\n                if(!st.isEmpty() &amp;&amp; st.peek()=='('){\n                    st.pop();\n                }\n            }\n\n            else if(!st.isEmpty() &amp;&amp; s.charAt(i)=='}'){\n                if(st.peek()=='{'){\n                    st.pop();\n                }\n            } \n\n            else if(!st.isEmpty() &amp;&amp; s.charAt(i)==']'){\n                if(st.peek()=='['){\n                    st.pop();\n                }\n            }\n        }\n        if(st.isEmpty() ){\n            return true;\n        } \n        return false;\n    }\n}`\n</code></pre>\n<p><em>I am trying the output &quot;false&quot; but it's showing &quot;true&quot;.</em></p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1779831,"reputation":1317,"user_id":1622858,"accept_rate":57,"display_name":"Michael Platt"},"score":0,"creation_date":1554837663,"post_id":55599808,"comment_id":97895941,"body_markdown":"To fix your longest word coming first error you should take a look at how you are comparing lengths.  I don&#39;t want to spell it out completely just yet as this seems like a learning exercise and I want you to find the answer on your own but ping back if you are struggling.","body":"To fix your longest word coming first error you should take a look at how you are comparing lengths.  I don&#39;t want to spell it out completely just yet as this seems like a learning exercise and I want you to find the answer on your own but ping back if you are struggling."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1554840470,"post_id":55599808,"comment_id":97897094,"body_markdown":"`Pattern.compile(&quot;\\\\p{L}+&quot;).matcher(input).results().map(MatchResult::group).filter(s -&gt; (s.length() &amp; 1) == 0).max(Comparator.comparing(String::length)).orElse(&quot; &quot;)`","body":"<code>Pattern.compile(&quot;\\\\p{L}+&quot;).matcher(input).results().map(Matc&zwnj;&#8203;hResult::group).filt&zwnj;&#8203;er(s -&gt; (s.length() &amp; 1) == 0).max(Comparator.comparing(String::length)).orElse(&quot; &quot;)</code>"}],"answers":[{"comments":[{"owner":{"account_id":14366630,"reputation":59,"user_id":10377474,"display_name":"JohnEgg"},"score":1,"creation_date":1554838020,"post_id":55599866,"comment_id":97896075,"body_markdown":"Thank you this really helped!","body":"Thank you this really helped!"}],"tags":[],"owner":{"account_id":13401372,"reputation":248,"user_id":9670809,"display_name":"brandonx"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554837734,"creation_date":1554837734,"answer_id":55599866,"question_id":55599808,"body_markdown":"Using the % (modulus) operator is a common way of evaluating whether a number is odd or even by inspecting whether dividing by 2 elicits a remainder. You would use it here like so:\r\n```\r\nif (array[i].length() &gt;= longestWord.length() &amp;&amp; array[i].length() % 2 == 0) {\r\n                longestWord = array[i];\r\n         }\r\n\r\n```\r\n\r\nedit: I feel bad because this sounds like an assignment, so I won&#39;t solve the &quot;coming first&quot; part of the problem.","title":"How to find longest word in string that is even","body":"<p>Using the % (modulus) operator is a common way of evaluating whether a number is odd or even by inspecting whether dividing by 2 elicits a remainder. You would use it here like so:</p>\n\n<pre><code>if (array[i].length() &gt;= longestWord.length() &amp;&amp; array[i].length() % 2 == 0) {\n                longestWord = array[i];\n         }\n\n</code></pre>\n\n<p>edit: I feel bad because this sounds like an assignment, so I won't solve the \"coming first\" part of the problem.</p>\n"},{"tags":[],"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554838175,"creation_date":1554837813,"answer_id":55599885,"question_id":55599808,"body_markdown":"You can use the modulo operator (`%`) to check if the string length is even:\r\n\r\n    string.length() % 2 == 0\r\n\r\nTo complete that you can use [`Arrays.stream()`](https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html#stream(T%5B%5D)) to find the longest string with even length:\r\n\r\n    String longestWord = Arrays.stream(sentence.split(&quot; &quot;)) // creates the stream with words\r\n            .filter(s -&gt; s.length() % 2 == 0) // filters only the even length strings\r\n            .max(Comparator.comparingInt(String::length)) // finds the string with the max length\r\n            .orElse(&quot; &quot;); // returns &quot; &quot; if none string is found\r\n","title":"How to find longest word in string that is even","body":"<p>You can use the modulo operator (<code>%</code>) to check if the string length is even:</p>\n\n<pre><code>string.length() % 2 == 0\n</code></pre>\n\n<p>To complete that you can use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html#stream(T%5B%5D)\" rel=\"nofollow noreferrer\"><code>Arrays.stream()</code></a> to find the longest string with even length:</p>\n\n<pre><code>String longestWord = Arrays.stream(sentence.split(\" \")) // creates the stream with words\n        .filter(s -&gt; s.length() % 2 == 0) // filters only the even length strings\n        .max(Comparator.comparingInt(String::length)) // finds the string with the max length\n        .orElse(\" \"); // returns \" \" if none string is found\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9758923,"reputation":327,"user_id":7234630,"display_name":"VSB"},"score":0,"creation_date":1554838280,"post_id":55599930,"comment_id":97896165,"body_markdown":"Welcome @JohnEgg","body":"Welcome @JohnEgg"},{"owner":{"account_id":15189241,"reputation":1478,"user_id":11032188,"display_name":"Mark Melgo"},"score":0,"creation_date":1554858083,"post_id":55599930,"comment_id":97902117,"body_markdown":"This won&#39;t work on input ```&quot;I am good.&quot;``` since it will result into ```&quot;am&quot;``` instead of ```&quot;good&quot;```. Generally on inputs where the longest even word is located before a punctuation mark.","body":"This won&#39;t work on input <code>&quot;I am good.&quot;</code> since it will result into <code>&quot;am&quot;</code> instead of <code>&quot;good&quot;</code>. Generally on inputs where the longest even word is located before a punctuation mark."},{"owner":{"account_id":9758923,"reputation":327,"user_id":7234630,"display_name":"VSB"},"score":0,"creation_date":1554883925,"post_id":55599930,"comment_id":97910089,"body_markdown":"@JohnEgg if you have to consider this, better to go regex approach. I will update the answer soon","body":"@JohnEgg if you have to consider this, better to go regex approach. I will update the answer soon"},{"owner":{"account_id":9758923,"reputation":327,"user_id":7234630,"display_name":"VSB"},"score":0,"creation_date":1554886594,"post_id":55599930,"comment_id":97911568,"body_markdown":"@JohnEgg I have updated the answer with Regex, check","body":"@JohnEgg I have updated the answer with Regex, check"}],"tags":[],"owner":{"account_id":9758923,"reputation":327,"user_id":7234630,"display_name":"VSB"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1554886570,"creation_date":1554838013,"answer_id":55599930,"question_id":55599808,"body_markdown":"The changes are that you compare the &gt; from the longest length and not  &gt;= and check is the length is even.\r\n\r\nTo accommodate the cases where there are other symbols like &#39;.&#39;, use Regex patterns. \r\n\r\n    public static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tString input = &quot;I am good.&quot;;\r\n\t\tString[] input_words = input.split(&quot; &quot;);\r\n\t\tString longestWord = &quot; &quot;;\r\n\t\t\r\n\t\tfor(String word : input_words) {\r\n\t\t\tPattern p = Pattern.compile(&quot;^[a-zA-Z]+&quot;);\r\n\t\t\tMatcher m = p.matcher(word);\r\n\t\t\tm.find();\r\n\t\t\tif(m.group().length() % 2 == 0 &amp;&amp; m.group().length() &gt; longestWord.length()) {\r\n\t\t\t\tlongestWord = m.group();\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;result : &quot; + longestWord);\r\n\t}\r\n\r\n\r\nThis will print the largest first occurring even word","title":"How to find longest word in string that is even","body":"<p>The changes are that you compare the > from the longest length and not  >= and check is the length is even.</p>\n\n<p>To accommodate the cases where there are other symbols like '.', use Regex patterns. </p>\n\n<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n\n    String input = \"I am good.\";\n    String[] input_words = input.split(\" \");\n    String longestWord = \" \";\n\n    for(String word : input_words) {\n        Pattern p = Pattern.compile(\"^[a-zA-Z]+\");\n        Matcher m = p.matcher(word);\n        m.find();\n        if(m.group().length() % 2 == 0 &amp;&amp; m.group().length() &gt; longestWord.length()) {\n            longestWord = m.group();\n        }\n    }\n    System.out.println(\"result : \" + longestWord);\n}\n</code></pre>\n\n<p>This will print the largest first occurring even word</p>\n"},{"comments":[{"owner":{"account_id":8877622,"reputation":999,"user_id":6629148,"display_name":"Anand Vidvat"},"score":0,"creation_date":1618510858,"post_id":67109877,"comment_id":118629984,"body_markdown":"please explain the logic and add comments to the code to highlight the logic.","body":"please explain the logic and add comments to the code to highlight the logic."},{"owner":{"account_id":18859495,"reputation":1,"user_id":13756682,"display_name":"Sneha Riya"},"score":0,"creation_date":1618635926,"post_id":67109877,"comment_id":118667244,"body_markdown":"@Anand vidvat - simply split the sentence using split function where Delimiter is space.. After splitting we will be having array of words. Iterate the array using for loop &amp; check for length of each word.. I have used modulo operator to check if length is even I.e. remainder should be zero.  Now check if the length of previous word is smaller than the length of current word. If true then update the value of Len variable because we need to find Maximum length.. \n\nAt the end return the result","body":"@Anand vidvat - simply split the sentence using split function where Delimiter is space.. After splitting we will be having array of words. Iterate the array using for loop &amp; check for length of each word.. I have used modulo operator to check if length is even I.e. remainder should be zero.  Now check if the length of previous word is smaller than the length of current word. If true then update the value of Len variable because we need to find Maximum length..   At the end return the result"},{"owner":{"account_id":8877622,"reputation":999,"user_id":6629148,"display_name":"Anand Vidvat"},"score":0,"creation_date":1618636418,"post_id":67109877,"comment_id":118667316,"body_markdown":"could you add this to your answer to make it more understandable.","body":"could you add this to your answer to make it more understandable."}],"tags":[],"owner":{"account_id":18859495,"reputation":1,"user_id":13756682,"display_name":"Sneha Riya"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618642748,"creation_date":1618495012,"answer_id":67109877,"question_id":55599808,"body_markdown":"```lang-java\r\npublic class HelloWorld {\r\n\r\n     public static void main(String []args) {\r\n\r\n        String sentence = &quot;this is a sample input for the problem&quot;;\r\n        \r\n        String arr[] = sentence.split(&quot;\\\\s+&quot;); // to split the sentence by space (because words are separated by space) \r\n        \r\n        int len =  0; \r\n        String word = &quot;&quot;;\r\n        for (int i= 0; i&lt; arr.length; i++) {\r\n            if((arr[i].length())%2 == 0) { // check if the length of the word is even \r\n                int len1 = arr[i].length();\r\n                if (len1 &gt; len ) { // if new length is greater than the previous word&#39;s length then assign the value of new length to len variable\r\n                    len = len1;\r\n                    word = arr[i];  // word = highest length word\r\n                }\r\n            }\r\n        }\r\n        System.out.println(word);\r\n     }\r\n}\r\n```","title":"How to find longest word in string that is even","body":"<pre class=\"lang-java prettyprint-override\"><code>public class HelloWorld {\n\n     public static void main(String []args) {\n\n        String sentence = &quot;this is a sample input for the problem&quot;;\n        \n        String arr[] = sentence.split(&quot;\\\\s+&quot;); // to split the sentence by space (because words are separated by space) \n        \n        int len =  0; \n        String word = &quot;&quot;;\n        for (int i= 0; i&lt; arr.length; i++) {\n            if((arr[i].length())%2 == 0) { // check if the length of the word is even \n                int len1 = arr[i].length();\n                if (len1 &gt; len ) { // if new length is greater than the previous word's length then assign the value of new length to len variable\n                    len = len1;\n                    word = arr[i];  // word = highest length word\n                }\n            }\n        }\n        System.out.println(word);\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7412226,"reputation":11,"user_id":5639251,"display_name":"Jaikish Pai"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637193236,"creation_date":1637181051,"answer_id":70011148,"question_id":55599808,"body_markdown":"The solution to the question in python is:\r\n```#This is a solution for the problem for the longest even word in a given sentence.\r\ndef longestevenword(sentence):\r\n  #converting the sentence into lists\r\n  string_list = sentence.split()\r\n  size = 0\r\n  #iteration through each word in the list\r\n  for word in string_list:\r\n    #check to see if the word has even number of characters\r\n    if len(word)%2 == 0:\r\n      #checking if the length of the of the word\r\n      if size &lt;= len(word):\r\n        size = len(word)\r\n        even_word = word\r\n    else:\r\n      continue        \r\n  # printing the longest even word in a given sentence.\r\n  print(even_word)\r\n\r\n\r\n## function call to test\r\nlongestevenword(&quot;This is a cat that had a puppyy&quot;)\r\n\r\nOutput: puppyy\r\n```\r\nIt&#39;s also available on my GitHub https://github.com/jaikishpai/CommonSolutions/blob/main/LongestEvenWord.py","title":"How to find longest word in string that is even","body":"<p>The solution to the question in python is:</p>\n<pre><code>def longestevenword(sentence):\n  #converting the sentence into lists\n  string_list = sentence.split()\n  size = 0\n  #iteration through each word in the list\n  for word in string_list:\n    #check to see if the word has even number of characters\n    if len(word)%2 == 0:\n      #checking if the length of the of the word\n      if size &lt;= len(word):\n        size = len(word)\n        even_word = word\n    else:\n      continue        \n  # printing the longest even word in a given sentence.\n  print(even_word)\n\n\n## function call to test\nlongestevenword(&quot;This is a cat that had a puppyy&quot;)\n\nOutput: puppyy\n</code></pre>\n<p>It's also available on my GitHub <a href=\"https://github.com/jaikishpai/CommonSolutions/blob/main/LongestEvenWord.py\" rel=\"nofollow noreferrer\">https://github.com/jaikishpai/CommonSolutions/blob/main/LongestEvenWord.py</a></p>\n"},{"tags":[],"owner":{"account_id":25315862,"reputation":1,"user_id":19137999,"display_name":"Anilkumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652802678,"creation_date":1652802678,"answer_id":72277126,"question_id":55599808,"body_markdown":"public static void main(String[] args) {\r\n    // TODO Auto-generated method stub\r\n\r\n    String input = &quot;I am good.&quot;;\r\n    String[] input_words = input.split(&quot; &quot;);\r\n    String longestWord = &quot; &quot;;\r\n\r\n    for(String word : input_words) {\r\n        Pattern p = Pattern.compile(&quot;^[a-zA-Z]+&quot;);\r\n        Matcher m = p.matcher(word);\r\n        m.find();\r\n        if(m.group().length() % 2 == 0 &amp;&amp; m.group().length() &gt; longestWord.length()) {\r\n            longestWord = m.group();\r\n        }\r\n    }\r\n    System.out.println(&quot;result : &quot; + longestWord);\r\n}","title":"How to find longest word in string that is even","body":"<p>public static void main(String[] args) {\n// TODO Auto-generated method stub</p>\n<pre><code>String input = &quot;I am good.&quot;;\nString[] input_words = input.split(&quot; &quot;);\nString longestWord = &quot; &quot;;\n\nfor(String word : input_words) {\n    Pattern p = Pattern.compile(&quot;^[a-zA-Z]+&quot;);\n    Matcher m = p.matcher(word);\n    m.find();\n    if(m.group().length() % 2 == 0 &amp;&amp; m.group().length() &gt; longestWord.length()) {\n        longestWord = m.group();\n    }\n}\nSystem.out.println(&quot;result : &quot; + longestWord);\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":24698798,"reputation":21,"user_id":18590377,"display_name":"vishwanath challal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661785937,"creation_date":1661785937,"answer_id":73530914,"question_id":55599808,"body_markdown":"    public class LongestEvenString {\r\n        public static void main(String[] args) {\r\n            String test = &quot;this is a sample input for the problem&quot;;\r\n            System.out.println(longestEvenString(test));\r\n        }\r\n    \r\n        public static String longestEvenString(String test) {\r\n    //        Splits a sentence to array of Strings.\r\n            String[] words = test.split(&quot; &quot;);\r\n    //        curlen stores length of current word in string Array\r\n    //        maxlen stores length of maximum_length word in string Array\r\n            int curlen = 0;\r\n            int maxlen = 0;\r\n            String output = &quot;&quot;;\r\n            for (String word:words) {\r\n                curlen = word.length();\r\n    //            loop runs only if length of the current word is more than\r\n    //            maximum_length thus excluding future same maximum_length words.\r\n    //            and also checks for even_length of that word\r\n                if(curlen &gt; maxlen &amp;&amp; curlen%2 == 0){\r\n                    maxlen = curlen;\r\n                    output = word;\r\n                }\r\n            }\r\n    //        returns maximum_even_length word which occurred first\r\n            return output;\r\n        }\r\n    }\r\n\r\n","title":"How to find longest word in string that is even","body":"<pre><code>public class LongestEvenString {\n    public static void main(String[] args) {\n        String test = &quot;this is a sample input for the problem&quot;;\n        System.out.println(longestEvenString(test));\n    }\n\n    public static String longestEvenString(String test) {\n//        Splits a sentence to array of Strings.\n        String[] words = test.split(&quot; &quot;);\n//        curlen stores length of current word in string Array\n//        maxlen stores length of maximum_length word in string Array\n        int curlen = 0;\n        int maxlen = 0;\n        String output = &quot;&quot;;\n        for (String word:words) {\n            curlen = word.length();\n//            loop runs only if length of the current word is more than\n//            maximum_length thus excluding future same maximum_length words.\n//            and also checks for even_length of that word\n            if(curlen &gt; maxlen &amp;&amp; curlen%2 == 0){\n                maxlen = curlen;\n                output = word;\n            }\n        }\n//        returns maximum_even_length word which occurred first\n        return output;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5069092,"reputation":567,"user_id":4068368,"accept_rate":20,"display_name":"Dinesh Dontha"},"score":0,"creation_date":1670210925,"post_id":74641544,"comment_id":131815479,"body_markdown":"Please post with code block properly. And also try to explain in few words","body":"Please post with code block properly. And also try to explain in few words"}],"tags":[],"owner":{"account_id":18592820,"reputation":1,"user_id":13549644,"display_name":"goolanagouda policepatil"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669896095,"creation_date":1669896095,"answer_id":74641544,"question_id":55599808,"body_markdown":"public class FindLongestEvenWord {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString s = &quot;Be not afraid of greatness some are born great some achieve greatness&quot;;\r\n\t\t\r\n\t\tList&lt;String&gt; strList = Arrays.asList(s.trim().split(&quot; &quot;));\r\n\t\tOptional&lt;String&gt;  maxLengthEvenWord = strList.stream().filter(s3-&gt;s3.length()%2==0).reduce((s1,s2)-&gt;s1.length()&gt;s2.length()?s1:s2);\r\n\t\tif(maxLengthEvenWord.isPresent())\r\n\t\t\tSystem.out.println(maxLengthEvenWord.get());\r\n\t\t\r\n\t}\r\n}","title":"How to find longest word in string that is even","body":"<p>public class FindLongestEvenWord {</p>\n<pre><code>public static void main(String[] args) {\n    String s = &quot;Be not afraid of greatness some are born great some achieve greatness&quot;;\n    \n    List&lt;String&gt; strList = Arrays.asList(s.trim().split(&quot; &quot;));\n    Optional&lt;String&gt;  maxLengthEvenWord = strList.stream().filter(s3-&gt;s3.length()%2==0).reduce((s1,s2)-&gt;s1.length()&gt;s2.length()?s1:s2);\n    if(maxLengthEvenWord.isPresent())\n        System.out.println(maxLengthEvenWord.get());\n    \n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":28305941,"reputation":1,"user_id":21643952,"display_name":"vspatil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681485916,"creation_date":1681485916,"answer_id":76016676,"question_id":55599808,"body_markdown":"    String sentence = &quot;Time to construct great art&quot;;\r\n    String[] array = sentence.split(&quot; &quot;);\r\n    String longestWord = &quot; &quot;;\r\n       for (int i = 0; i &lt; array.length; i ++) {\r\n           if (array[i].length() &gt;= longestWord.length()) {\r\n               if (array[i].length() % 2 == 0) {\r\n                   longestWord = array[i];\r\n               }\r\n           }\r\n       }\r\n    System.out.println(longestWord);","title":"How to find longest word in string that is even","body":"<pre><code>String sentence = &quot;Time to construct great art&quot;;\nString[] array = sentence.split(&quot; &quot;);\nString longestWord = &quot; &quot;;\n   for (int i = 0; i &lt; array.length; i ++) {\n       if (array[i].length() &gt;= longestWord.length()) {\n           if (array[i].length() % 2 == 0) {\n               longestWord = array[i];\n           }\n       }\n   }\nSystem.out.println(longestWord);\n</code></pre>\n"}],"owner":{"account_id":14366630,"reputation":59,"user_id":10377474,"display_name":"JohnEgg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14505,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":9,"score":0,"last_activity_date":1681485916,"creation_date":1554837470,"question_id":55599808,"body_markdown":"I need to find a word in a string that is both the longest as well as even. A few examples:\r\n\r\nThe sentence ```Time to construct great art```. This should return the string ```time``` because it is the greatest ```even``` length word, with the length being ```4```, it is not ```construct``` because construct is length ```9``` which is odd.\r\n\r\nAlso, in the example of ```Time to write great code```. This should return the string ```Time```, because it is even, and has a even length of ```4```. It will not return the word ```code``` because ```Time``` occurs first.\r\n\r\n\r\n        \r\n```\r\n        String[] array = sentence.split(&quot; &quot;);\r\n        String longestWord = &quot; &quot;;\r\n\r\n        for (int i = 0; i &lt; array.length; i ++) {\r\n            if (array[i].length() &gt;= longestWord.length()) {\r\n                longestWord = array[i];\r\n            }\r\n        }\r\n\t\t\r\n\t\tSystem.out.println(longestWord);\r\n```\r\n\r\nMy code successfully prints the longest word, however does not take into account whether the longest strings length is even and if it occurs first. \r\n\r\nI have tried using some modulus characters in my for loop, but it is not tracking whether or not the greatest word is even, if not, move to next greatest word. \r\n\r\nAlso, I am having a hard time tracking if the word comes first or not.\r\n\r\n\r\n\r\n\r\nWhat I&#39;ve tried for accounting for even:\r\n\r\n```\r\nfor (int i = 0; i &lt; array.length; i ++) {\r\n            if (array[i].length() &gt;= longestWord.length()) {\r\n                longestWord = array[i];\r\n                if (longestWord.length() % 2 != 0) {\r\n                \tbreak;\r\n                }\r\n                else {\r\n                \tlongestWord = array[i];\r\n                }\r\n            }\r\n        }\r\n```","title":"How to find longest word in string that is even","body":"<p>I need to find a word in a string that is both the longest as well as even. A few examples:</p>\n\n<p>The sentence <code>Time to construct great art</code>. This should return the string <code>time</code> because it is the greatest <code>even</code> length word, with the length being <code>4</code>, it is not <code>construct</code> because construct is length <code>9</code> which is odd.</p>\n\n<p>Also, in the example of <code>Time to write great code</code>. This should return the string <code>Time</code>, because it is even, and has a even length of <code>4</code>. It will not return the word <code>code</code> because <code>Time</code> occurs first.</p>\n\n<pre><code>        String[] array = sentence.split(\" \");\n        String longestWord = \" \";\n\n        for (int i = 0; i &lt; array.length; i ++) {\n            if (array[i].length() &gt;= longestWord.length()) {\n                longestWord = array[i];\n            }\n        }\n\n        System.out.println(longestWord);\n</code></pre>\n\n<p>My code successfully prints the longest word, however does not take into account whether the longest strings length is even and if it occurs first. </p>\n\n<p>I have tried using some modulus characters in my for loop, but it is not tracking whether or not the greatest word is even, if not, move to next greatest word. </p>\n\n<p>Also, I am having a hard time tracking if the word comes first or not.</p>\n\n<p>What I've tried for accounting for even:</p>\n\n<pre><code>for (int i = 0; i &lt; array.length; i ++) {\n            if (array[i].length() &gt;= longestWord.length()) {\n                longestWord = array[i];\n                if (longestWord.length() % 2 != 0) {\n                    break;\n                }\n                else {\n                    longestWord = array[i];\n                }\n            }\n        }\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1681481310,"post_id":76015757,"comment_id":134067933,"body_markdown":"Can&#39;t say for the fact I&#39;m not in a good place to think at this time, but the following line may be some trouble.    if(bill.equals(prevBill)).   e.g if they bought exactly the same again!  And if the program variable initialised at nothing and updates too late.","body":"Can&#39;t say for the fact I&#39;m not in a good place to think at this time, but the following line may be some trouble.    if(bill.equals(prevBill)).   e.g if they bought exactly the same again!  And if the program variable initialised at nothing and updates too late."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1681484805,"post_id":76015757,"comment_id":134068871,"body_markdown":"Any chance you could [edit] your question and post contents of file `firstConvert.xlsx`? Maybe post it as text in form of comma-separated values, i.e. CSV.","body":"Any chance you could <a href=\"https://stackoverflow.com/posts/76015757/edit\">edit</a> your question and post contents of file <code>firstConvert.xlsx</code>? Maybe post it as text in form of comma-separated values, i.e. CSV."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1681485494,"post_id":76015757,"comment_id":134069076,"body_markdown":"or in other words (as @Abra used): [mcve] please :)","body":"or in other words (as @Abra used): <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please :)"}],"answers":[{"comments":[{"owner":{"account_id":28305124,"reputation":1,"user_id":21643253,"display_name":"Serenity"},"score":0,"creation_date":1681482872,"post_id":76015969,"comment_id":134068352,"body_markdown":"I have already tried to initialize it with the first line to avoid the false but suddenly the program does not write the first line.","body":"I have already tried to initialize it with the first line to avoid the false but suddenly the program does not write the first line."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1681483236,"post_id":76015969,"comment_id":134068458,"body_markdown":"It&#39;s a very bad process to write it like a running script, break it into a set of methods to call so you can make finalised and coherent results from each step by each method. You will also get the benefit of shielding global variables from false update by using local variables inside methods.","body":"It&#39;s a very bad process to write it like a running script, break it into a set of methods to call so you can make finalised and coherent results from each step by each method. You will also get the benefit of shielding global variables from false update by using local variables inside methods."}],"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681481216,"creation_date":1681481216,"answer_id":76015969,"question_id":76015757,"body_markdown":"`prevBill` is an empty string initially. Therefore, in the first iteration, the program will always evaluate `if(bill.equals(prevBill))` as false. \r\n\r\nAsa result, for the first line, `totalAmount` will not be updated (the `amount` will not be added) and the row will line will be written to the file.","title":"my variable &quot;totAmount&quot; shifts one line below in my text file","body":"<p><code>prevBill</code> is an empty string initially. Therefore, in the first iteration, the program will always evaluate <code>if(bill.equals(prevBill))</code> as false.</p>\n<p>Asa result, for the first line, <code>totalAmount</code> will not be updated (the <code>amount</code> will not be added) and the row will line will be written to the file.</p>\n"}],"owner":{"account_id":28305124,"reputation":1,"user_id":21643253,"display_name":"Serenity"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681485399,"creation_date":1681479840,"question_id":76015757,"body_markdown":"I&#39;ve a little problem but I don&#39;t know how to resolve it.\r\n\r\nHere is my code :  \r\n```java\r\n    // Chargement du fichier Excel\r\n    FileInputStream excelFile = new FileInputStream(new File(outputFile + &quot;\\\\firstConvert.xlsx&quot;));\r\n    Workbook workbook = new XSSFWorkbook(excelFile);\r\n    Sheet sheet = workbook.getSheetAt(0);\r\n\r\n    // Ouverture du fichier texte pour &#233;criture\r\n    PrintWriter writer = new PrintWriter(new FileWriter(outputFile + &quot;\\\\HVEN.txt&quot;));\r\n            \r\n    // variables pour stocker la valeur de la colonne &quot;Bill&quot; et la somme des valeurs de la colonne &quot;Amount&quot;\r\n    String prevBill = &quot;&quot;;\r\n    double totalAmount = 0.0;\r\n\r\n    // commencer &#224; la ligne 1 (i=1) au lieu de 0 (premi&#232;re ligne)\r\n    for (int i = 1; i &lt;= sheet.getLastRowNum(); i++) {\r\n        Row row = sheet.getRow(i);\r\n                \r\n        // V&#233;rification de la valeur dans la colonne &quot;Cl&quot;\r\n        String cl = &quot;&quot;;\r\n        if (row.getCell(0).getCellType() == CellType.NUMERIC) {\r\n            cl = String.valueOf((int) row.getCell(0).getNumericCellValue());\r\n        } else {\r\n            cl = row.getCell(0).getStringCellValue();\r\n        }\r\n        if (cl.equals(&quot;600&quot;) || cl.equals(&quot;610&quot;) || cl.equals(&quot;620&quot;)) {\r\n            // passe &#224; la ligne suivante si la valeur est 600, 610 ou 620\r\n            continue;\r\n        }\r\n \r\n        // R&#233;cup&#233;ration des valeurs des colonnes\r\n        String bill = &quot;&quot;;\r\n        if (row.getCell(5).getCellType() == CellType.NUMERIC) {\r\n            bill = String.valueOf((int) row.getCell(5).getNumericCellValue());\r\n        } else {\r\n            bill = row.getCell(5).getStringCellValue();\r\n        }\r\n        // D&#233;finition de la valeur de la variable nomJournal en fonction de la valeur de la colonne &quot;Bill&quot;\r\n        String nomJournal = &quot;&quot;;\r\n        if (bill.startsWith(&quot;Bill&quot;)) {\r\n            nomJournal = &quot;VEN&quot;;\r\n        } else if (bill.startsWith(&quot;Credit note&quot;)) {\r\n            nomJournal = &quot;CVEN&quot;;\r\n        } else if (bill.startsWith(&quot;Invoice&quot;)) {\r\n            nomJournal = &quot;IVEN&quot;;\r\n        }\r\n        String onlyNumb = bill.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\r\n\r\n        String matchNo = &quot;&quot;;\r\n        if (row.getCell(15).getCellType() == CellType.NUMERIC) {\r\n            matchNo = String.valueOf((int) row.getCell(15).getNumericCellValue());\r\n        } else {\r\n            matchNo = row.getCell(15).getStringCellValue();\r\n        }\r\n\r\n        String closedDate = &quot;&quot;;\r\n        if (row.getCell(4).getCellType() == CellType.NUMERIC) {\r\n            closedDate = String.valueOf(row.getCell(4).getNumericCellValue());\r\n        } else {\r\n            closedDate = row.getCell(4).getStringCellValue();\r\n        }\r\n\r\n        String numTVA = &quot;&quot;;\r\n        if (row.getCell(8).getCellType() == CellType.NUMERIC) {\r\n            numTVA = String.valueOf(row.getCell(8).getNumericCellValue());\r\n        } else {\r\n            numTVA = row.getCell(8).getStringCellValue();\r\n        }\r\n        if(numTVA.startsWith(&quot;BE&quot;)){\r\n            numTVA = numTVA.substring(2);\r\n        } else {\r\n            numTVA = &quot;N/A&quot;;\r\n        }\r\n\r\n        String customer = &quot;&quot;;\r\n        if (row.getCell(10).getCellType() == CellType.NUMERIC) {\r\n            customer = String.valueOf(row.getCell(10).getNumericCellValue());\r\n        } else {\r\n            customer = row.getCell(10).getStringCellValue();\r\n        }\r\n\r\n        double amount = 0.0;\r\n        if (row.getCell(14).getCellType() == CellType.NUMERIC) {\r\n            amount = row.getCell(14).getNumericCellValue();\r\n        } else {\r\n            amount = Double.parseDouble(row.getCell(14).getStringCellValue());\r\n        }\r\n\r\n        // R&#233;cup&#233;ration de l&#39;ann&#233;e et du mois de la colonne &quot;Closed&quot;\r\n        // Conversion de la cha&#238;ne de caract&#232;res en double\r\n        double closeDate = Double.parseDouble(closedDate);\r\n        // Conversion de la valeur double en objet java.util.Date\r\n        Date javaDate = DateUtil.getJavaDate(closeDate, false);\r\n        // Formatage de la date en &quot;jj/mm/yyyy&quot;\r\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n        String formattedDate = formatter.format(javaDate);    \r\n\r\n        String[] closedDateParts = formattedDate.split(&quot;/&quot;);\r\n        String year = closedDateParts[2];\r\n        String month = closedDateParts[1];\r\n\r\n        // si la valeur de la colonne &quot;Bill&quot; est la m&#234;me que celle de la ligne pr&#233;c&#233;dente,\r\n        // ajouter la valeur de la colonne &quot;Amount&quot; &#224; la somme des valeurs pour cette facture\r\n        if(bill.equals(prevBill)){\r\n            totalAmount += amount;\r\n        } else {\r\n            // si la valeur de la colonne &quot;Bill&quot; est diff&#233;rente de celle de la ligne pr&#233;c&#233;dente,\r\n            // &#233;crire la ligne pr&#233;c&#233;dente avec la somme des valeurs pour cette facture (si elle existe)\r\n            String totAmount = Double.toString(totalAmount).replace(&quot;.&quot;, &quot;,&quot;);\r\n\r\n            // &#201;criture de la ligne dans le fichier texte avec le format demand&#233;\r\n            String line = &quot;\\&quot;&quot; + nomJournal + &quot;\\&quot;;&quot; \r\n                                + &quot;\\&quot;&quot; + year + &quot;\\&quot;;&quot;\r\n                                + &quot;\\&quot;&quot; + year + &quot;\\&quot;;&quot; \r\n                                + &quot;\\&quot;&quot; + month + &quot;\\&quot;;&quot;\r\n                                + &quot;\\&quot;&quot; + onlyNumb + &quot;\\&quot;;&quot; \r\n                                + &quot;\\&quot;&quot; + formattedDate + &quot;\\&quot;;&quot;\r\n                                + &quot;\\&quot;C\\&quot;;&quot; \r\n                                + &quot;\\&quot;&quot; + numTVA + &quot;\\&quot;;&quot; \r\n                                + &quot;\\&quot;&quot; + formattedDate + &quot;\\&quot;;&quot;\r\n                                + &quot;\\&quot;&quot; + totAmount + &quot;\\&quot;;&quot;\r\n                                + &quot;\\&quot;&quot; + customer + &quot;\\&quot;;&quot;\r\n                                + &quot;\\&quot;&quot; + matchNo + &quot;\\&quot;;&quot;\r\n                                + &quot;\\&quot;S\\&quot;;&quot;;\r\n            writer.println(line);\r\n            // r&#233;initialiser la somme des valeurs pour la facture en cours\r\n            totalAmount = amount;\r\n            // sauvegarder la valeur de la colonne &quot;Bill&quot; pour la ligne en cours\r\n            prevBill = bill;\r\n        }\r\n    }\r\n    // Fermeture du fichier texte et du fichier Excel\r\n    writer.close();\r\n    excelFile.close();\r\n\r\n    System.out.print(&quot;HVEN.txt cr&#233;&#233; !&quot;);\r\n} catch (IOException e){\r\n    e.printStackTrace();\r\n}\r\n```\r\nAnd here is my data from outputFile:\r\n\r\n```none\r\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;01&quot;;&quot;202300005&quot;;&quot;20/01/2023&quot;;&quot;C&quot;;&quot;0629745675&quot;;&quot;20/01/2023&quot;;&quot;0,0&quot;;&quot;Mieke De keersmaecker&quot;;&quot;1&quot;;&quot;S&quot;;\r\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;01&quot;;&quot;202300047&quot;;&quot;30/01/2023&quot;;&quot;C&quot;;&quot;N/A&quot;;&quot;30/01/2023&quot;;&quot;254,5&quot;;&quot;Dick Schuurman&quot;;&quot;2&quot;;&quot;S&quot;;\r\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;02&quot;;&quot;202300050&quot;;&quot;01/02/2023&quot;;&quot;C&quot;;&quot;0445907418&quot;;&quot;01/02/2023&quot;;&quot;278,5&quot;;&quot;Bert Labaere&quot;;&quot;3&quot;;&quot;S&quot;;\r\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;02&quot;;&quot;202300051&quot;;&quot;01/02/2023&quot;;&quot;C&quot;;&quot;N/A&quot;;&quot;01/02/2023&quot;;&quot;297,0&quot;;&quot;Elodie Baranger&quot;;&quot;4&quot;;&quot;S&quot;;\r\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;02&quot;;&quot;202300052&quot;;&quot;01/02/2023&quot;;&quot;C&quot;;&quot;N/A&quot;;&quot;01/02/2023&quot;;&quot;122,5&quot;;&quot;Bert Labaere&quot;;&quot;5&quot;;&quot;S&quot;;\r\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;02&quot;;&quot;202300053&quot;;&quot;01/02/2023&quot;;&quot;C&quot;;&quot;N/A&quot;;&quot;01/02/2023&quot;;&quot;-38,5&quot;;&quot;Panepinto Rebecca&quot;;&quot;6&quot;;&quot;S&quot;;\r\n```\r\nWe see on the first line the value `0,0` just before `Mieke` and in fact it should be 254,5 (i.e. value of the line just after).\r\n\r\nI want move up the value `totAmount` just above.","title":"my variable &quot;totAmount&quot; shifts one line below in my text file","body":"<p>I've a little problem but I don't know how to resolve it.</p>\n<p>Here is my code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // Chargement du fichier Excel\n    FileInputStream excelFile = new FileInputStream(new File(outputFile + &quot;\\\\firstConvert.xlsx&quot;));\n    Workbook workbook = new XSSFWorkbook(excelFile);\n    Sheet sheet = workbook.getSheetAt(0);\n\n    // Ouverture du fichier texte pour écriture\n    PrintWriter writer = new PrintWriter(new FileWriter(outputFile + &quot;\\\\HVEN.txt&quot;));\n            \n    // variables pour stocker la valeur de la colonne &quot;Bill&quot; et la somme des valeurs de la colonne &quot;Amount&quot;\n    String prevBill = &quot;&quot;;\n    double totalAmount = 0.0;\n\n    // commencer à la ligne 1 (i=1) au lieu de 0 (première ligne)\n    for (int i = 1; i &lt;= sheet.getLastRowNum(); i++) {\n        Row row = sheet.getRow(i);\n                \n        // Vérification de la valeur dans la colonne &quot;Cl&quot;\n        String cl = &quot;&quot;;\n        if (row.getCell(0).getCellType() == CellType.NUMERIC) {\n            cl = String.valueOf((int) row.getCell(0).getNumericCellValue());\n        } else {\n            cl = row.getCell(0).getStringCellValue();\n        }\n        if (cl.equals(&quot;600&quot;) || cl.equals(&quot;610&quot;) || cl.equals(&quot;620&quot;)) {\n            // passe à la ligne suivante si la valeur est 600, 610 ou 620\n            continue;\n        }\n \n        // Récupération des valeurs des colonnes\n        String bill = &quot;&quot;;\n        if (row.getCell(5).getCellType() == CellType.NUMERIC) {\n            bill = String.valueOf((int) row.getCell(5).getNumericCellValue());\n        } else {\n            bill = row.getCell(5).getStringCellValue();\n        }\n        // Définition de la valeur de la variable nomJournal en fonction de la valeur de la colonne &quot;Bill&quot;\n        String nomJournal = &quot;&quot;;\n        if (bill.startsWith(&quot;Bill&quot;)) {\n            nomJournal = &quot;VEN&quot;;\n        } else if (bill.startsWith(&quot;Credit note&quot;)) {\n            nomJournal = &quot;CVEN&quot;;\n        } else if (bill.startsWith(&quot;Invoice&quot;)) {\n            nomJournal = &quot;IVEN&quot;;\n        }\n        String onlyNumb = bill.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\n\n        String matchNo = &quot;&quot;;\n        if (row.getCell(15).getCellType() == CellType.NUMERIC) {\n            matchNo = String.valueOf((int) row.getCell(15).getNumericCellValue());\n        } else {\n            matchNo = row.getCell(15).getStringCellValue();\n        }\n\n        String closedDate = &quot;&quot;;\n        if (row.getCell(4).getCellType() == CellType.NUMERIC) {\n            closedDate = String.valueOf(row.getCell(4).getNumericCellValue());\n        } else {\n            closedDate = row.getCell(4).getStringCellValue();\n        }\n\n        String numTVA = &quot;&quot;;\n        if (row.getCell(8).getCellType() == CellType.NUMERIC) {\n            numTVA = String.valueOf(row.getCell(8).getNumericCellValue());\n        } else {\n            numTVA = row.getCell(8).getStringCellValue();\n        }\n        if(numTVA.startsWith(&quot;BE&quot;)){\n            numTVA = numTVA.substring(2);\n        } else {\n            numTVA = &quot;N/A&quot;;\n        }\n\n        String customer = &quot;&quot;;\n        if (row.getCell(10).getCellType() == CellType.NUMERIC) {\n            customer = String.valueOf(row.getCell(10).getNumericCellValue());\n        } else {\n            customer = row.getCell(10).getStringCellValue();\n        }\n\n        double amount = 0.0;\n        if (row.getCell(14).getCellType() == CellType.NUMERIC) {\n            amount = row.getCell(14).getNumericCellValue();\n        } else {\n            amount = Double.parseDouble(row.getCell(14).getStringCellValue());\n        }\n\n        // Récupération de l'année et du mois de la colonne &quot;Closed&quot;\n        // Conversion de la chaîne de caractères en double\n        double closeDate = Double.parseDouble(closedDate);\n        // Conversion de la valeur double en objet java.util.Date\n        Date javaDate = DateUtil.getJavaDate(closeDate, false);\n        // Formatage de la date en &quot;jj/mm/yyyy&quot;\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        String formattedDate = formatter.format(javaDate);    \n\n        String[] closedDateParts = formattedDate.split(&quot;/&quot;);\n        String year = closedDateParts[2];\n        String month = closedDateParts[1];\n\n        // si la valeur de la colonne &quot;Bill&quot; est la même que celle de la ligne précédente,\n        // ajouter la valeur de la colonne &quot;Amount&quot; à la somme des valeurs pour cette facture\n        if(bill.equals(prevBill)){\n            totalAmount += amount;\n        } else {\n            // si la valeur de la colonne &quot;Bill&quot; est différente de celle de la ligne précédente,\n            // écrire la ligne précédente avec la somme des valeurs pour cette facture (si elle existe)\n            String totAmount = Double.toString(totalAmount).replace(&quot;.&quot;, &quot;,&quot;);\n\n            // Écriture de la ligne dans le fichier texte avec le format demandé\n            String line = &quot;\\&quot;&quot; + nomJournal + &quot;\\&quot;;&quot; \n                                + &quot;\\&quot;&quot; + year + &quot;\\&quot;;&quot;\n                                + &quot;\\&quot;&quot; + year + &quot;\\&quot;;&quot; \n                                + &quot;\\&quot;&quot; + month + &quot;\\&quot;;&quot;\n                                + &quot;\\&quot;&quot; + onlyNumb + &quot;\\&quot;;&quot; \n                                + &quot;\\&quot;&quot; + formattedDate + &quot;\\&quot;;&quot;\n                                + &quot;\\&quot;C\\&quot;;&quot; \n                                + &quot;\\&quot;&quot; + numTVA + &quot;\\&quot;;&quot; \n                                + &quot;\\&quot;&quot; + formattedDate + &quot;\\&quot;;&quot;\n                                + &quot;\\&quot;&quot; + totAmount + &quot;\\&quot;;&quot;\n                                + &quot;\\&quot;&quot; + customer + &quot;\\&quot;;&quot;\n                                + &quot;\\&quot;&quot; + matchNo + &quot;\\&quot;;&quot;\n                                + &quot;\\&quot;S\\&quot;;&quot;;\n            writer.println(line);\n            // réinitialiser la somme des valeurs pour la facture en cours\n            totalAmount = amount;\n            // sauvegarder la valeur de la colonne &quot;Bill&quot; pour la ligne en cours\n            prevBill = bill;\n        }\n    }\n    // Fermeture du fichier texte et du fichier Excel\n    writer.close();\n    excelFile.close();\n\n    System.out.print(&quot;HVEN.txt créé !&quot;);\n} catch (IOException e){\n    e.printStackTrace();\n}\n</code></pre>\n<p>And here is my data from outputFile:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;01&quot;;&quot;202300005&quot;;&quot;20/01/2023&quot;;&quot;C&quot;;&quot;0629745675&quot;;&quot;20/01/2023&quot;;&quot;0,0&quot;;&quot;Mieke De keersmaecker&quot;;&quot;1&quot;;&quot;S&quot;;\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;01&quot;;&quot;202300047&quot;;&quot;30/01/2023&quot;;&quot;C&quot;;&quot;N/A&quot;;&quot;30/01/2023&quot;;&quot;254,5&quot;;&quot;Dick Schuurman&quot;;&quot;2&quot;;&quot;S&quot;;\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;02&quot;;&quot;202300050&quot;;&quot;01/02/2023&quot;;&quot;C&quot;;&quot;0445907418&quot;;&quot;01/02/2023&quot;;&quot;278,5&quot;;&quot;Bert Labaere&quot;;&quot;3&quot;;&quot;S&quot;;\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;02&quot;;&quot;202300051&quot;;&quot;01/02/2023&quot;;&quot;C&quot;;&quot;N/A&quot;;&quot;01/02/2023&quot;;&quot;297,0&quot;;&quot;Elodie Baranger&quot;;&quot;4&quot;;&quot;S&quot;;\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;02&quot;;&quot;202300052&quot;;&quot;01/02/2023&quot;;&quot;C&quot;;&quot;N/A&quot;;&quot;01/02/2023&quot;;&quot;122,5&quot;;&quot;Bert Labaere&quot;;&quot;5&quot;;&quot;S&quot;;\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;02&quot;;&quot;202300053&quot;;&quot;01/02/2023&quot;;&quot;C&quot;;&quot;N/A&quot;;&quot;01/02/2023&quot;;&quot;-38,5&quot;;&quot;Panepinto Rebecca&quot;;&quot;6&quot;;&quot;S&quot;;\n</code></pre>\n<p>We see on the first line the value <code>0,0</code> just before <code>Mieke</code> and in fact it should be 254,5 (i.e. value of the line just after).</p>\n<p>I want move up the value <code>totAmount</code> just above.</p>\n"},{"tags":["java","spring","postgresql","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":1,"creation_date":1681388031,"post_id":76005203,"comment_id":134050156,"body_markdown":"So you&#39;ve just copied over code without understanding it and now you want us to fix it? Please clarify your problem after you understand at least a little bit of it. Also, take a look at [ask].","body":"So you&#39;ve just copied over code without understanding it and now you want us to fix it? Please clarify your problem after you understand at least a little bit of it. Also, take a look at <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":24709336,"reputation":15,"user_id":18599720,"display_name":"Maksim1251"},"score":0,"creation_date":1681485418,"post_id":76005203,"comment_id":134069060,"body_markdown":"I have already fixed everything, thanks for these words, they told me which way to dig the information and I found it! thank you, I&#39;m happy!","body":"I have already fixed everything, thanks for these words, they told me which way to dig the information and I found it! thank you, I&#39;m happy!"}],"answers":[{"tags":[],"owner":{"account_id":24709336,"reputation":15,"user_id":18599720,"display_name":"Maksim1251"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681485333,"creation_date":1681485333,"answer_id":76016600,"question_id":76005203,"body_markdown":"\r\nI fixed my problem by encrypting the password that the user enters and making adjustments to SecurityFilterChain\r\n\r\nwas:\r\n\r\n    Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, passwordEncoder.encode(password)));\r\n\r\nbecame:\r\n\r\n    Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\r\n\r\nSecurityFilterChain was:\r\n\r\n    @Bean\r\n\tpublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n\thttp\r\n\t.csrf().disable()\r\n\t.authorizeHttpRequests()\r\n\t.requestMatchers(&quot;/&quot;, &quot;/register&quot;).permitAll()\r\n\t.requestMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\r\n\t.anyRequest().authenticated()\r\n\t.and()\r\n\t.formLogin()\r\n\t.defaultSuccessUrl(&quot;/home&quot;)\r\n\t.loginPage(&quot;/login&quot;)\r\n\t.permitAll()\r\n\t.and()\r\n\t.logout()\r\n\t.permitAll()\r\n\t.and()\r\n\t\t\t\t\t.httpBasic()\r\n\t.disable();\r\n\treturn http.build();\r\n\t}\r\n\r\nbecame:\r\n\r\n    @Bean\r\n\tpublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n\thttp\r\n\t.csrf().disable()\r\n\t.authorizeHttpRequests()\r\n\t.requestMatchers(&quot;/&quot;, &quot;/register&quot;).permitAll()\r\n\t.requestMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\r\n\t.anyRequest().authenticated()\r\n\t.and()\r\n\t.formLogin()\r\n\t.defaultSuccessUrl(&quot;/home&quot;, true)\r\n\t.failureUrl(&quot;/login-error&quot;)\r\n\t.loginPage(&quot;/login&quot;)\r\n\t.permitAll()\r\n\t.and()\r\n\t.logout()\r\n\t.permitAll()\r\n\t.and()\r\n\t.httpBasic()\r\n\t.disable();\r\n\treturn http.build();\r\n\t}\r\n\r\nAdded and changed:\r\n\r\n\t.defaultSuccessUrl(&quot;/home&quot;, true)\r\n\t.failureUrl(&quot;/login-error&quot;)","title":"Spring Security authenticate(Unknown source)","body":"<p>I fixed my problem by encrypting the password that the user enters and making adjustments to SecurityFilterChain</p>\n<p>was:</p>\n<pre><code>Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, passwordEncoder.encode(password)));\n</code></pre>\n<p>became:</p>\n<pre><code>Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\n</code></pre>\n<p>SecurityFilterChain was:</p>\n<pre><code>@Bean\npublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\nhttp\n.csrf().disable()\n.authorizeHttpRequests()\n.requestMatchers(&quot;/&quot;, &quot;/register&quot;).permitAll()\n.requestMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\n.anyRequest().authenticated()\n.and()\n.formLogin()\n.defaultSuccessUrl(&quot;/home&quot;)\n.loginPage(&quot;/login&quot;)\n.permitAll()\n.and()\n.logout()\n.permitAll()\n.and()\n                .httpBasic()\n.disable();\nreturn http.build();\n}\n</code></pre>\n<p>became:</p>\n<pre><code>@Bean\npublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\nhttp\n.csrf().disable()\n.authorizeHttpRequests()\n.requestMatchers(&quot;/&quot;, &quot;/register&quot;).permitAll()\n.requestMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\n.anyRequest().authenticated()\n.and()\n.formLogin()\n.defaultSuccessUrl(&quot;/home&quot;, true)\n.failureUrl(&quot;/login-error&quot;)\n.loginPage(&quot;/login&quot;)\n.permitAll()\n.and()\n.logout()\n.permitAll()\n.and()\n.httpBasic()\n.disable();\nreturn http.build();\n}\n</code></pre>\n<p>Added and changed:</p>\n<pre><code>.defaultSuccessUrl(&quot;/home&quot;, true)\n.failureUrl(&quot;/login-error&quot;)\n</code></pre>\n"}],"owner":{"account_id":24709336,"reputation":15,"user_id":18599720,"display_name":"Maksim1251"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76016600,"answer_count":1,"score":0,"last_activity_date":1681485333,"creation_date":1681387591,"question_id":76005203,"body_markdown":"I&#39;m trying to create an authentication system from Teddy Smith&#39;s YouTube tutorials, now I&#39;ve created a registration system, a PasswordEncoder and everything is fine. but I can&#39;t authenticate the account from the database, there are multiple users in the database and I can&#39;t authenticate until I understand the code I have right now, but I can&#39;t solve this error, it literally stopped my Spring Security training which is almost finished, can you help me with this?\r\n\r\nUserEntity.class:\r\n\r\n    package springsecuritylearn.entity;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    import jakarta.persistence.CascadeType;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.FetchType;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.JoinColumn;\r\n    import jakarta.persistence.JoinTable;\r\n    import jakarta.persistence.ManyToMany;\r\n    import jakarta.persistence.SequenceGenerator;\r\n    import jakarta.persistence.Table;\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class UserEntity {\r\n\t\r\n\t@Id\r\n\t@SequenceGenerator(name = &quot;user_sequence&quot;, sequenceName = &quot;user_sequence&quot;, allocationSize = 1)\r\n\t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;user_sequence&quot;)\r\n\tprivate long id;\r\n\t\r\n\tprivate String username;\r\n\t\r\n\tprivate String password;\r\n\t\r\n\t@ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n\t@JoinTable(name = &quot;user_roles&quot;, \r\n\tjoinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;),\r\n\tinverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;))\r\n\tprivate List&lt;RoleEntity&gt; roles = new ArrayList&lt;&gt;();\r\n\t\r\n\tpublic UserEntity() {}\r\n\r\n\tpublic UserEntity(String username, String password, List&lt;RoleEntity&gt; roles) {\r\n\tthis.username = username;\r\n\tthis.password = password;\r\n\tthis.roles = roles;\r\n\t}\r\n\r\n\tpublic long getId() {\r\n\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(long id) {\r\n\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getUsername() {\r\n\treturn username;\r\n\t}\r\n\r\n\tpublic void setUsername(String username) {\r\n\tthis.username = username;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\tthis.password = password;\r\n\t}\r\n\r\n\tpublic List&lt;RoleEntity&gt; getRoles() {\r\n\treturn roles;\r\n\t}\r\n\r\n\tpublic void setRoles(List&lt;RoleEntity&gt; roles) {\r\n\tthis.roles = roles;\r\n\t}\r\n\t\r\n    }\r\n\r\nRoleEntity.class:\r\n\r\n\tpackage springsecuritylearn.entity;\r\n\r\n\timport jakarta.persistence.Entity;\r\n\timport jakarta.persistence.GeneratedValue;\r\n\timport jakarta.persistence.GenerationType;\r\n\timport jakarta.persistence.Id;\r\n\timport jakarta.persistence.SequenceGenerator;\r\n\timport jakarta.persistence.Table;\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;roles&quot;)\r\n\tpublic class RoleEntity {\r\n\r\n\t@Id\r\n\t@SequenceGenerator(name = &quot;role_sequence&quot;, sequenceName = &quot;role_sequence&quot;, allocationSize = 1)\r\n\t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;role_sequence&quot;)\r\n\tprivate long id;\r\n\t\r\n\tprivate String name;\r\n\t\r\n\tpublic RoleEntity() {}\r\n\r\n\tpublic RoleEntity(String name) {\r\n\tthis.name = name;\r\n\t}\r\n\r\n\tpublic long getId() {\r\n\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(long id) {\r\n\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\tthis.name = name;\r\n\t}\r\n\r\nAuthController.class:\r\n\r\n\tpackage springsecuritylearn.controller;\r\n\r\n\timport java.util.Collections;\r\n\timport java.util.Map;\r\n\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.security.authentication.AuthenticationManager;\r\n\timport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\n\timport org.springframework.security.core.Authentication;\r\n\timport org.springframework.security.core.context.SecurityContextHolder;\r\n\timport org.springframework.security.crypto.password.PasswordEncoder;\r\n\timport org.springframework.stereotype.Controller;\r\n\timport org.springframework.web.bind.annotation.GetMapping;\r\n\timport org.springframework.web.bind.annotation.PostMapping;\r\n\timport org.springframework.web.bind.annotation.RequestMapping;\r\n\timport org.springframework.web.bind.annotation.RequestParam;\r\n\r\n\timport springsecuritylearn.entity.RoleEntity;\r\n\timport springsecuritylearn.entity.UserEntity;\r\n\timport springsecuritylearn.repository.RoleRepository;\r\n\timport springsecuritylearn.repository.UserRepository;\r\n\r\n\t@Controller\r\n\t@RequestMapping(&quot;/&quot;)\r\n\tpublic class AuthController {\r\n\r\n\tprivate AuthenticationManager authenticationManager;\r\n\tprivate PasswordEncoder passwordEncoder;\r\n\tprivate UserRepository userRepository;\r\n\tprivate RoleRepository roleRepository;\r\n\t\r\n\t@Autowired\r\n\tpublic AuthController(AuthenticationManager authenticationManager, PasswordEncoder passwordEncoder,\r\n\tUserRepository userRepository, RoleRepository roleRepository) {\r\n\tthis.authenticationManager = authenticationManager;\r\n\tthis.passwordEncoder = passwordEncoder;\r\n\tthis.userRepository = userRepository;\r\n\tthis.roleRepository = roleRepository;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/login&quot;)\r\n\tpublic String login() {\r\n\treturn &quot;login&quot;;\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/login&quot;)\r\n\tpublic String userAuthenticate(\r\n\tUserEntity userEntity,\r\n\t@RequestParam String username,\r\n\t@RequestParam String password,\r\n\tMap&lt;String, Object&gt; model) {\r\n\tAuthentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\r\n\tSecurityContextHolder.getContext().setAuthentication(authentication);\r\n\treturn &quot;redirect:/home&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/register&quot;)\r\n\tpublic String register() {\r\n\treturn &quot;register&quot;;\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/register&quot;)\r\n\tprivate String addNewUser(\r\n\t@RequestParam String username,\r\n\t@RequestParam String password,\r\n\tMap&lt;String, Object&gt; model) {\r\n\tif (userRepository.existsByUsername(username)) {\r\n\treturn &quot;register&quot;;\r\n\t}\r\n\t\t\r\n\t\t\r\n\tRoleEntity roles = roleRepository.findByName(&quot;USER&quot;).orElse(null);\r\n\tUserEntity user = new UserEntity(username, passwordEncoder.encode(password), Collections.singletonList(roles));\r\n\t\t\r\n\t\t\r\n\tuserRepository.save(user);\r\n\t\t\r\n\treturn &quot;redirect:/login&quot;;\r\n\t}\r\n\t\r\n\t}\r\n\r\nWebController.class:\r\n\r\n\tpackage springsecuritylearn.controller;\r\n\r\n\timport org.springframework.stereotype.Controller;\r\n\timport org.springframework.web.bind.annotation.GetMapping;\r\n\timport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n\t@Controller\r\n\t@RequestMapping(path = &quot;/&quot;)\r\n\tpublic class WebController {\r\n\r\n\t@GetMapping(path = &quot;/home&quot;)\r\n\tpublic String home() {\r\n\treturn &quot;home&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(path = &quot;/user&quot;)\r\n\tpublic String user() {\r\n\treturn &quot;user&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(path = &quot;/admin&quot;)\r\n\tpublic String admin() {\r\n\treturn &quot;admin&quot;;\r\n\t}\r\n\t\r\n\t}\r\n\r\nUserRepository.interface:\r\n\r\n\tpackage springsecuritylearn.repository;\r\n\r\n\timport java.util.Optional;\r\n\r\n\timport org.springframework.data.jpa.repository.JpaRepository;\r\n\timport org.springframework.stereotype.Repository;\r\n\r\n\timport springsecuritylearn.entity.UserEntity;\r\n\r\n\t@Repository\r\n\tpublic interface UserRepository extends JpaRepository&lt;UserEntity, Long&gt; {\r\n\r\n\tOptional&lt;UserEntity&gt; findByUsername(String username);\r\n\tBoolean existsByUsername(String username);\r\n\t\r\n\t}\r\n\r\nRoleRepository.interface:\r\n\r\n\tpackage springsecuritylearn.repository;\r\n\r\n\timport java.util.Optional;\r\n\r\n\timport org.springframework.data.jpa.repository.JpaRepository;\r\n\timport org.springframework.stereotype.Repository;\r\n\r\n\timport springsecuritylearn.entity.RoleEntity;\r\n\r\n\t@Repository\r\n\tpublic interface RoleRepository extends JpaRepository&lt;RoleEntity, Long&gt; {\r\n\r\n\tOptional&lt;RoleEntity&gt; findByName(String name);\r\n\t\r\n\t}\r\n\r\nCustomUserDetailsService.class:\r\n\r\n\tpackage springsecuritylearn.security;\r\n\r\n\timport java.util.Collection;\r\n\timport java.util.List;\r\n\timport java.util.stream.Collectors;\r\n\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.security.core.GrantedAuthority;\r\n\timport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n\timport org.springframework.security.core.userdetails.User;\r\n\timport org.springframework.security.core.userdetails.UserDetails;\r\n\timport org.springframework.security.core.userdetails.UserDetailsService;\r\n\timport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n\timport org.springframework.stereotype.Service;\r\n\r\n\timport springsecuritylearn.entity.RoleEntity;\r\n\timport springsecuritylearn.entity.UserEntity;\r\n\timport springsecuritylearn.repository.UserRepository;\r\n\r\n\t@Service\r\n\tpublic class CustomUserDetailsService implements UserDetailsService {\r\n\r\n\tprivate UserRepository userRepository;\r\n\t\r\n\t@Autowired\r\n\tpublic CustomUserDetailsService(UserRepository userRepository) {\r\n\tthis.userRepository = userRepository;\r\n\t}\r\n\r\n\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\tUserEntity user = userRepository.findByUsername(username).orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Username not found&quot;));\r\n\treturn new User(user.getUsername(), user.getPassword(), mapRolesToAuthorities(user.getRoles()));\r\n\t}\r\n\t\r\n\tprivate Collection&lt;GrantedAuthority&gt; mapRolesToAuthorities(List&lt;RoleEntity&gt; roles) {\r\n\treturn roles.stream().map(role -&gt; new SimpleGrantedAuthority(role.getName())).collect(Collectors.toList());\r\n\t}\r\n\t\r\n\t}\r\n\r\nSecurityConfig.class:\r\n\r\n\tpackage springsecuritylearn.security;\r\n\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.context.annotation.Bean;\r\n\timport org.springframework.context.annotation.Configuration;\r\n\timport org.springframework.security.authentication.AuthenticationManager;\r\n\timport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\n\timport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n\timport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n\timport org.springframework.security.core.userdetails.User;\r\n\timport org.springframework.security.core.userdetails.UserDetails;\r\n\timport org.springframework.security.core.userdetails.UserDetailsService;\r\n\timport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n\timport org.springframework.security.crypto.password.PasswordEncoder;\r\n\timport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\n\timport org.springframework.security.web.SecurityFilterChain;\r\n\r\n\t@EnableWebSecurity\r\n\t@Configuration\r\n\tpublic class SecurityConfig {\r\n\t\r\n\tprivate CustomUserDetailsService userDetailsService;\r\n\t\r\n\t@Autowired\r\n\tpublic SecurityConfig(CustomUserDetailsService userDetailsService) {\r\n\tthis.userDetailsService = userDetailsService;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n\thttp\r\n\t.csrf().disable()\r\n\t.authorizeHttpRequests()\r\n\t.requestMatchers(&quot;/&quot;, &quot;/register&quot;).permitAll()\r\n\t.requestMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\r\n\t.anyRequest().authenticated()\r\n\t.and()\r\n\t.formLogin()\r\n\t.defaultSuccessUrl(&quot;/home&quot;)\r\n\t.loginPage(&quot;/login&quot;)\r\n\t.permitAll()\r\n\t.and()\r\n\t.logout()\r\n\t.permitAll()\r\n\t.and()\r\n\t.httpBasic()\r\n\t.disable();\r\n\treturn http.build();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic UserDetailsService users() {\r\n\tUserDetails user1 = User.builder()\r\n\t.username(&quot;august&quot;)\r\n\t.password(&quot;{noop}august&quot;)\r\n\t.roles(&quot;ADMIN&quot;)\r\n\t.build();\r\n\tUserDetails user2 = User.builder()\r\n\t.username(&quot;maksim&quot;)\r\n\t.password(&quot;{noop}maksim&quot;)\r\n\t.roles(&quot;USER&quot;)\r\n\t.build();\r\n\treturn new InMemoryUserDetailsManager(user1, user2);\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n\treturn authenticationConfiguration.getAuthenticationManager();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tPasswordEncoder passwordEncoder() {\r\n\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\t\r\n\t}\r\n\r\nAnd now the most important thing, console:\r\n\r\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat jdk.proxy7/jdk.proxy7.$Proxy133.authenticate(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\r\nThese lines after authorization clogged the entire console, thank you, i hope you can help me.","title":"Spring Security authenticate(Unknown source)","body":"<p>I'm trying to create an authentication system from Teddy Smith's YouTube tutorials, now I've created a registration system, a PasswordEncoder and everything is fine. but I can't authenticate the account from the database, there are multiple users in the database and I can't authenticate until I understand the code I have right now, but I can't solve this error, it literally stopped my Spring Security training which is almost finished, can you help me with this?</p>\n<p>UserEntity.class:</p>\n<pre><code>package springsecuritylearn.entity;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.JoinTable;\nimport jakarta.persistence.ManyToMany;\nimport jakarta.persistence.SequenceGenerator;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;users&quot;)\npublic class UserEntity {\n\n@Id\n@SequenceGenerator(name = &quot;user_sequence&quot;, sequenceName = &quot;user_sequence&quot;, allocationSize = 1)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;user_sequence&quot;)\nprivate long id;\n\nprivate String username;\n\nprivate String password;\n\n@ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n@JoinTable(name = &quot;user_roles&quot;, \njoinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;),\ninverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;))\nprivate List&lt;RoleEntity&gt; roles = new ArrayList&lt;&gt;();\n\npublic UserEntity() {}\n\npublic UserEntity(String username, String password, List&lt;RoleEntity&gt; roles) {\nthis.username = username;\nthis.password = password;\nthis.roles = roles;\n}\n\npublic long getId() {\nreturn id;\n}\n\npublic void setId(long id) {\nthis.id = id;\n}\n\npublic String getUsername() {\nreturn username;\n}\n\npublic void setUsername(String username) {\nthis.username = username;\n}\n\npublic String getPassword() {\nreturn password;\n}\n\npublic void setPassword(String password) {\nthis.password = password;\n}\n\npublic List&lt;RoleEntity&gt; getRoles() {\nreturn roles;\n}\n\npublic void setRoles(List&lt;RoleEntity&gt; roles) {\nthis.roles = roles;\n}\n\n}\n</code></pre>\n<p>RoleEntity.class:</p>\n<pre><code>package springsecuritylearn.entity;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.SequenceGenerator;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;roles&quot;)\npublic class RoleEntity {\n\n@Id\n@SequenceGenerator(name = &quot;role_sequence&quot;, sequenceName = &quot;role_sequence&quot;, allocationSize = 1)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;role_sequence&quot;)\nprivate long id;\n\nprivate String name;\n\npublic RoleEntity() {}\n\npublic RoleEntity(String name) {\nthis.name = name;\n}\n\npublic long getId() {\nreturn id;\n}\n\npublic void setId(long id) {\nthis.id = id;\n}\n\npublic String getName() {\nreturn name;\n}\n\npublic void setName(String name) {\nthis.name = name;\n}\n</code></pre>\n<p>AuthController.class:</p>\n<pre><code>package springsecuritylearn.controller;\n\nimport java.util.Collections;\nimport java.util.Map;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\nimport springsecuritylearn.entity.RoleEntity;\nimport springsecuritylearn.entity.UserEntity;\nimport springsecuritylearn.repository.RoleRepository;\nimport springsecuritylearn.repository.UserRepository;\n\n@Controller\n@RequestMapping(&quot;/&quot;)\npublic class AuthController {\n\nprivate AuthenticationManager authenticationManager;\nprivate PasswordEncoder passwordEncoder;\nprivate UserRepository userRepository;\nprivate RoleRepository roleRepository;\n\n@Autowired\npublic AuthController(AuthenticationManager authenticationManager, PasswordEncoder passwordEncoder,\nUserRepository userRepository, RoleRepository roleRepository) {\nthis.authenticationManager = authenticationManager;\nthis.passwordEncoder = passwordEncoder;\nthis.userRepository = userRepository;\nthis.roleRepository = roleRepository;\n}\n\n@GetMapping(&quot;/login&quot;)\npublic String login() {\nreturn &quot;login&quot;;\n}\n\n@PostMapping(&quot;/login&quot;)\npublic String userAuthenticate(\nUserEntity userEntity,\n@RequestParam String username,\n@RequestParam String password,\nMap&lt;String, Object&gt; model) {\nAuthentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\nSecurityContextHolder.getContext().setAuthentication(authentication);\nreturn &quot;redirect:/home&quot;;\n}\n\n@GetMapping(&quot;/register&quot;)\npublic String register() {\nreturn &quot;register&quot;;\n}\n\n@PostMapping(&quot;/register&quot;)\nprivate String addNewUser(\n@RequestParam String username,\n@RequestParam String password,\nMap&lt;String, Object&gt; model) {\nif (userRepository.existsByUsername(username)) {\nreturn &quot;register&quot;;\n}\n    \n    \nRoleEntity roles = roleRepository.findByName(&quot;USER&quot;).orElse(null);\nUserEntity user = new UserEntity(username, passwordEncoder.encode(password), Collections.singletonList(roles));\n    \n    \nuserRepository.save(user);\n    \nreturn &quot;redirect:/login&quot;;\n}\n\n}\n</code></pre>\n<p>WebController.class:</p>\n<pre><code>package springsecuritylearn.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping(path = &quot;/&quot;)\npublic class WebController {\n\n@GetMapping(path = &quot;/home&quot;)\npublic String home() {\nreturn &quot;home&quot;;\n}\n\n@GetMapping(path = &quot;/user&quot;)\npublic String user() {\nreturn &quot;user&quot;;\n}\n\n@GetMapping(path = &quot;/admin&quot;)\npublic String admin() {\nreturn &quot;admin&quot;;\n}\n\n}\n</code></pre>\n<p>UserRepository.interface:</p>\n<pre><code>package springsecuritylearn.repository;\n\nimport java.util.Optional;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport springsecuritylearn.entity.UserEntity;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;UserEntity, Long&gt; {\n\nOptional&lt;UserEntity&gt; findByUsername(String username);\nBoolean existsByUsername(String username);\n\n}\n</code></pre>\n<p>RoleRepository.interface:</p>\n<pre><code>package springsecuritylearn.repository;\n\nimport java.util.Optional;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport springsecuritylearn.entity.RoleEntity;\n\n@Repository\npublic interface RoleRepository extends JpaRepository&lt;RoleEntity, Long&gt; {\n\nOptional&lt;RoleEntity&gt; findByName(String name);\n\n}\n</code></pre>\n<p>CustomUserDetailsService.class:</p>\n<pre><code>package springsecuritylearn.security;\n\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport springsecuritylearn.entity.RoleEntity;\nimport springsecuritylearn.entity.UserEntity;\nimport springsecuritylearn.repository.UserRepository;\n\n@Service\npublic class CustomUserDetailsService implements UserDetailsService {\n\nprivate UserRepository userRepository;\n\n@Autowired\npublic CustomUserDetailsService(UserRepository userRepository) {\nthis.userRepository = userRepository;\n}\n\npublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\nUserEntity user = userRepository.findByUsername(username).orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Username not found&quot;));\nreturn new User(user.getUsername(), user.getPassword(), mapRolesToAuthorities(user.getRoles()));\n}\n\nprivate Collection&lt;GrantedAuthority&gt; mapRolesToAuthorities(List&lt;RoleEntity&gt; roles) {\nreturn roles.stream().map(role -&gt; new SimpleGrantedAuthority(role.getName())).collect(Collectors.toList());\n}\n\n}\n</code></pre>\n<p>SecurityConfig.class:</p>\n<pre><code>package springsecuritylearn.security;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@EnableWebSecurity\n@Configuration\npublic class SecurityConfig {\n\nprivate CustomUserDetailsService userDetailsService;\n\n@Autowired\npublic SecurityConfig(CustomUserDetailsService userDetailsService) {\nthis.userDetailsService = userDetailsService;\n}\n\n@Bean\npublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\nhttp\n.csrf().disable()\n.authorizeHttpRequests()\n.requestMatchers(&quot;/&quot;, &quot;/register&quot;).permitAll()\n.requestMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\n.anyRequest().authenticated()\n.and()\n.formLogin()\n.defaultSuccessUrl(&quot;/home&quot;)\n.loginPage(&quot;/login&quot;)\n.permitAll()\n.and()\n.logout()\n.permitAll()\n.and()\n.httpBasic()\n.disable();\nreturn http.build();\n}\n\n@Bean\npublic UserDetailsService users() {\nUserDetails user1 = User.builder()\n.username(&quot;august&quot;)\n.password(&quot;{noop}august&quot;)\n.roles(&quot;ADMIN&quot;)\n.build();\nUserDetails user2 = User.builder()\n.username(&quot;maksim&quot;)\n.password(&quot;{noop}maksim&quot;)\n.roles(&quot;USER&quot;)\n.build();\nreturn new InMemoryUserDetailsManager(user1, user2);\n}\n\n@Bean\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\nreturn authenticationConfiguration.getAuthenticationManager();\n}\n\n@Bean\nPasswordEncoder passwordEncoder() {\nreturn new BCryptPasswordEncoder();\n}\n\n}\n</code></pre>\n<p>And now the most important thing, console:</p>\n<pre><code>at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\nat jdk.proxy7/jdk.proxy7.$Proxy133.authenticate(Unknown Source) ~[na:na]\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n</code></pre>\n<p>These lines after authorization clogged the entire console, thank you, i hope you can help me.</p>\n"},{"tags":["java","node.js","netsuite"],"comments":[{"owner":{"account_id":10714659,"reputation":4676,"user_id":7885772,"display_name":"Krypton"},"score":0,"creation_date":1679408573,"post_id":75801171,"comment_id":133714178,"body_markdown":"&quot;Following the documentation...&quot; - which documentation?  In [the documentation I&#39;m looking at](https://suiteanswers.custhelp.com/app/answers/detail/a_id/42019) (for TBA RESTlet authentication) you must include the HTTP method and URL-encoded base URL in the base string before signing, but I know there are different examples in the docs for different purposes (and the NS docs are a mess, but that&#39;s a different story...)","body":"&quot;Following the documentation...&quot; - which documentation?  In <a href=\"https://suiteanswers.custhelp.com/app/answers/detail/a_id/42019\" rel=\"nofollow noreferrer\">the documentation I&#39;m looking at</a> (for TBA RESTlet authentication) you must include the HTTP method and URL-encoded base URL in the base string before signing, but I know there are different examples in the docs for different purposes (and the NS docs are a mess, but that&#39;s a different story...)"},{"owner":{"account_id":15312215,"reputation":25,"user_id":11047173,"display_name":"Andrew D"},"score":0,"creation_date":1679409963,"post_id":75801171,"comment_id":133714623,"body_markdown":"Sure! I am using the NetSuite web services platform guide. It&#39;s a nearly 400 page PDF they provided. I&#39;ll find a link.","body":"Sure! I am using the NetSuite web services platform guide. It&#39;s a nearly 400 page PDF they provided. I&#39;ll find a link."},{"owner":{"account_id":15312215,"reputation":25,"user_id":11047173,"display_name":"Andrew D"},"score":0,"creation_date":1679410225,"post_id":75801171,"comment_id":133714714,"body_markdown":"On second thought, I&#39;m not sure I am allowed to provide the specific PDF. It was provided to me by NetSuite, but it is the &quot;SuiteTalk SOAP Web Services Platform Guide&quot;. 396 pages and is for Version 2022 Release 2.","body":"On second thought, I&#39;m not sure I am allowed to provide the specific PDF. It was provided to me by NetSuite, but it is the &quot;SuiteTalk SOAP Web Services Platform Guide&quot;. 396 pages and is for Version 2022 Release 2."}],"answers":[{"tags":[],"owner":{"account_id":28305964,"reputation":1,"user_id":21643974,"display_name":"Yuriy Milov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681485266,"creation_date":1681485266,"answer_id":76016592,"question_id":75801171,"body_markdown":"make sure the baseString has proper parameters\r\n\r\ninstead of (account  consumer  key  token  nonce  timestamp) \r\ntry (httpMethod  baseUrl key  token  nonce timestamp oauth_version)\r\n\r\nor find proper base string for your case\r\n\r\nHere is a working Java example - (get base string for Netsuite REST)\r\n==============================\r\n\r\n\tpublic static String getRestletBaseString(String httpMethod, String url, String consumerKey, String tokenKey,\r\n\t\t\tString nonce, String timestamp, String version, String signatureMethod) throws Exception {\r\n\t\t// http method must be upper case\r\n\t\tString baseString = httpMethod.toUpperCase() + &quot;&amp;&quot;;\r\n\r\n\t\t// include url without parameters, schema and hostname must be lower case\r\n\t\tString baseUrl = &quot;&quot;;\r\n\t\tString getParams = &quot;&quot;;\r\n\t\tif (url.contains(&quot;?&quot;)) {\r\n\t\t\tbaseUrl = url.substring(0, url.indexOf(&quot;?&quot;));\r\n\t\t\tgetParams = url.substring(url.indexOf(&quot;?&quot;) + 1);\r\n\t\t} else {\r\n\t\t\tbaseUrl = url;\r\n\t\t}\r\n\t\tString hostname = baseUrl.substring(0, baseUrl.indexOf(&#39;/&#39;, 10)).toLowerCase();\r\n\t\tString path = baseUrl.substring(baseUrl.indexOf(&#39;/&#39;, 10));\r\n\t\tbaseUrl = hostname + path;\r\n\t\tbaseString += URLEncoder.encode(baseUrl, &quot;UTF-8&quot;) + &quot;&amp;&quot;;\r\n\r\n\t\t// all oauth and get params. First they are decoded, next sorted in alphabetical\r\n\t\t// order, next each key and values is encoded and finally whole parameters are\r\n\t\t// encoded\r\n\t\tMap&lt;String, String[]&gt; params = new HashMap&lt;String, String[]&gt;();\r\n\t\tparams.put(&quot;oauth_consumer_key&quot;, new String[] { consumerKey });\r\n\t\tparams.put(&quot;oauth_token&quot;, new String[] { tokenKey });\r\n\t\tparams.put(&quot;oauth_nonce&quot;, new String[] { nonce });\r\n\t\tparams.put(&quot;oauth_timestamp&quot;, new String[] { timestamp });\r\n\t\tparams.put(&quot;oauth_signature_method&quot;, new String[] { signatureMethod });\r\n\t\tparams.put(&quot;oauth_version&quot;, new String[] { version });\r\n\r\n\t\t// for (String param : (getParams + &quot;&amp;&quot; + postParams).split(&quot;&amp;&quot;)) {\r\n\t\tfor (String param : (getParams).split(&quot;&amp;&quot;)) {\r\n\t\t\tif (!param.isEmpty()) {\r\n\t\t\t\tString[] parsed = param.split(&quot;=&quot;);\r\n\t\t\t\tString key = URLDecoder.decode(parsed[0], &quot;UTF-8&quot;);\r\n\t\t\t\tString value = parsed.length &gt; 1 ? URLDecoder.decode(parsed[1], &quot;UTF-8&quot;) : &quot;&quot;;\r\n\t\t\t\tif (params.containsKey(key)) {\r\n\t\t\t\t\tString[] oldValues = params.get(key);\r\n\t\t\t\t\tString[] newValues = Arrays.copyOf(oldValues, oldValues.length + 1);\r\n\t\t\t\t\tnewValues[oldValues.length] = value;\r\n\t\t\t\t\tparams.put(key, newValues);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparams.put(key, new String[] { value });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// all parameters must be sorted in alphabetical order\r\n\t\tObject[] keys = params.keySet().toArray();\r\n\t\tArrays.sort(keys);\r\n\r\n\t\tString paramString = &quot;&quot;;\r\n\t\tfor (Object key : keys) {\r\n\t\t\tString[] valueArray = params.get(key);\r\n\t\t\tArrays.sort(valueArray);\r\n\t\t\tfor (String value : valueArray) {\r\n\t\t\t\tparamString += URLEncoder.encode((String) key, &quot;UTF-8&quot;) + &quot;=&quot; + URLEncoder.encode(value, &quot;UTF-8&quot;) + &quot;&amp;&quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t\tparamString = paramString.substring(0, paramString.length() - 1);\r\n\t\tbaseString += URLEncoder.encode(paramString, &quot;UTF-8&quot;);\r\n\t\treturn baseString;\r\n\t}\r\n\r\n\r\n\r\n","title":"NetSuite - Signature generation differs from documentation (SOAP Web Services API)","body":"<p>make sure the baseString has proper parameters</p>\n<p>instead of (account  consumer  key  token  nonce  timestamp)\ntry (httpMethod  baseUrl key  token  nonce timestamp oauth_version)</p>\n<p>or find proper base string for your case</p>\n<h1>Here is a working Java example - (get base string for Netsuite REST)</h1>\n<pre><code>public static String getRestletBaseString(String httpMethod, String url, String consumerKey, String tokenKey,\n        String nonce, String timestamp, String version, String signatureMethod) throws Exception {\n    // http method must be upper case\n    String baseString = httpMethod.toUpperCase() + &quot;&amp;&quot;;\n\n    // include url without parameters, schema and hostname must be lower case\n    String baseUrl = &quot;&quot;;\n    String getParams = &quot;&quot;;\n    if (url.contains(&quot;?&quot;)) {\n        baseUrl = url.substring(0, url.indexOf(&quot;?&quot;));\n        getParams = url.substring(url.indexOf(&quot;?&quot;) + 1);\n    } else {\n        baseUrl = url;\n    }\n    String hostname = baseUrl.substring(0, baseUrl.indexOf('/', 10)).toLowerCase();\n    String path = baseUrl.substring(baseUrl.indexOf('/', 10));\n    baseUrl = hostname + path;\n    baseString += URLEncoder.encode(baseUrl, &quot;UTF-8&quot;) + &quot;&amp;&quot;;\n\n    // all oauth and get params. First they are decoded, next sorted in alphabetical\n    // order, next each key and values is encoded and finally whole parameters are\n    // encoded\n    Map&lt;String, String[]&gt; params = new HashMap&lt;String, String[]&gt;();\n    params.put(&quot;oauth_consumer_key&quot;, new String[] { consumerKey });\n    params.put(&quot;oauth_token&quot;, new String[] { tokenKey });\n    params.put(&quot;oauth_nonce&quot;, new String[] { nonce });\n    params.put(&quot;oauth_timestamp&quot;, new String[] { timestamp });\n    params.put(&quot;oauth_signature_method&quot;, new String[] { signatureMethod });\n    params.put(&quot;oauth_version&quot;, new String[] { version });\n\n    // for (String param : (getParams + &quot;&amp;&quot; + postParams).split(&quot;&amp;&quot;)) {\n    for (String param : (getParams).split(&quot;&amp;&quot;)) {\n        if (!param.isEmpty()) {\n            String[] parsed = param.split(&quot;=&quot;);\n            String key = URLDecoder.decode(parsed[0], &quot;UTF-8&quot;);\n            String value = parsed.length &gt; 1 ? URLDecoder.decode(parsed[1], &quot;UTF-8&quot;) : &quot;&quot;;\n            if (params.containsKey(key)) {\n                String[] oldValues = params.get(key);\n                String[] newValues = Arrays.copyOf(oldValues, oldValues.length + 1);\n                newValues[oldValues.length] = value;\n                params.put(key, newValues);\n            } else {\n                params.put(key, new String[] { value });\n            }\n        }\n    }\n\n    // all parameters must be sorted in alphabetical order\n    Object[] keys = params.keySet().toArray();\n    Arrays.sort(keys);\n\n    String paramString = &quot;&quot;;\n    for (Object key : keys) {\n        String[] valueArray = params.get(key);\n        Arrays.sort(valueArray);\n        for (String value : valueArray) {\n            paramString += URLEncoder.encode((String) key, &quot;UTF-8&quot;) + &quot;=&quot; + URLEncoder.encode(value, &quot;UTF-8&quot;) + &quot;&amp;&quot;;\n        }\n    }\n    paramString = paramString.substring(0, paramString.length() - 1);\n    baseString += URLEncoder.encode(paramString, &quot;UTF-8&quot;);\n    return baseString;\n}\n</code></pre>\n"}],"owner":{"account_id":15312215,"reputation":25,"user_id":11047173,"display_name":"Andrew D"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681485266,"creation_date":1679401417,"question_id":75801171,"body_markdown":"I&#39;m currently integrating with NetSuite. I am building a Node.JS integration using the token-based authentication flow. \r\n\r\nFollowing the documentation, they give a series of examples for generating the base string, key, etc. I am using the provided values in a set of unit tests confirming my program correctly generates these as I compare against what the documentation provides.\r\n\r\nHere is my issue: given a base string and key which match what the documentation says they should be, when passed in to the HMAC SHA256 hashing algorithm, my output differs. I need a sanity check, is my code correct and their documentation wrong? Or am I missing something. Regardless, I am still receiving invalid credentials, so something is wrong somewhere, regardless of whether this is correct.\r\n\r\nPassing tests here:\r\n```\r\nit(&quot;Generates a base string&quot;, () =&gt; {\r\n    const baseString = shared.exportsForTest.genBaseString(__testConfig, __docNonce, __docTimestamp);\r\n    expect(baseString).toEqual(__docBaseString);\r\n  });\r\n\r\n\r\n\r\n  it(&quot;Generates a key&quot;, () =&gt; {\r\n    const key = shared.exportsForTest.genKey(__testConfig);\r\n    expect(key).toEqual(__docKey);\r\n  });\r\n```\r\nFailing test here:\r\n```\r\n  it(&quot;Generates a signature&quot;, () =&gt; {\r\n    const baseString = shared.exportsForTest.genBaseString(__testConfig, __docNonce, __docTimestamp);\r\n    const key = shared.exportsForTest.genKey(__testConfig);\r\n    const signature = shared.exportsForTest.genSignature({\r\n      baseString,\r\n      key\r\n    });\r\n    expect(signature).toEqual(__docSignature);\r\n  });\r\n```\r\n\r\nDefinition for __genBaseString:\r\n```\r\nfunction __genBaseString(config: INetSuiteConfig, nonce: string, timestamp: DateTime) {\r\n  return _.join([\r\n    config.accountId,\r\n    config.consumerKey,\r\n    config.tokenId,\r\n    nonce,\r\n    timestamp.toUnixInteger() // Timestamp as epoch time.\r\n  ], &#39;&amp;&#39;);\r\n}\r\n```\r\n\r\nDefinition for __genKey:\r\n```\r\nfunction __genKey(config: INetSuiteConfig) {\r\n  return _.join([\r\n    config.consumerSecret,\r\n    config.tokenSecret\r\n  ], &#39;&amp;&#39;);\r\n}\r\n```\r\n\r\nDefinition for `__genSignature`:\r\n```\r\nfunction __genSignature({\r\n  baseString, key\r\n}: {\r\n  baseString: string;\r\n  key: string;\r\n}) {\r\n  const keyAsBytes = Buffer.from(key, &#39;utf-8&#39;);\r\n  const baseStringAsBytes = Buffer.from(baseString, &#39;utf-8&#39;);\r\n\r\n  const hash = crypto.createHmac(&#39;sha256&#39;, keyAsBytes)\r\n    .update(baseStringAsBytes)\r\n    .digest();\r\n\r\n  return hash.toString(&#39;base64&#39;);\r\n}\r\n```\r\n\r\nI&#39;ve also debugged this line by line. The base string and key match the documentation inside the `__genSignature` call.\r\n\r\nMy program outputs `FCghIZqXNetuZY8ILWOFH0ucdfzQOmAuL+q+kF21zPs=` for the signature, whereas the docs output is `fzGxUBu6SZvGqv5hk8P4ou2DPthSxXtJ4zJIeCBQK5A=`\r\n\r\nBelow are the test values from the documentation. Note that these are public values provided in the docs, and in this context are not sensitive.\r\n\r\n```\r\nconst __testConfig: shared.INetSuiteConfig = {\r\n  accountId: &#39;1234567&#39;,\r\n  applicationId: &#39;&#39;,\r\n  consumerKey: &#39;71cc02b731f05895561ef0862d71553a3ac99498a947c3b7beaf4a1e4a29f7c4&#39;,\r\n  consumerSecret: &#39;7278da58caf07f5c336301a601203d10a58e948efa280f0618e25fcee1ef2abd&#39;,\r\n  tokenId: &#39;89e08d9767c5ac85b374415725567d05b54ecf0960ad2470894a52f741020d82&#39;,\r\n  tokenSecret: &#39;060cd9ab3ffbbe1e3d3918e90165ffd37ab12acc76b4691046e2d29c7d7674c2&#39;\r\n};\r\n\r\nconst __docBaseString =\r\n&#39;1234567&amp;71cc02b731f05895561ef0862d71553a3ac99498a947c3b7beaf4a1e4a29f7c4&amp;89e08d9767c5ac85b374415725567d05b54ecf0960ad2470894a52f741020d82&amp;6obMKq0tmY8ylVOdEkA1&amp;1439829974&#39;;\r\nconst __docKey = &#39;7278da58caf07f5c336301a601203d10a58e948efa280f0618e25fcee1ef2abd&amp;060cd9ab3ffbbe1e3d3918e90165ffd37ab12acc76b4691046e2d29c7d7674c2&#39;;\r\nconst __docNonce = &#39;6obMKq0tmY8ylVOdEkA1&#39;;\r\nconst __docSignature = &#39;fzGxUBu6SZvGqv5hk8P4ou2DPthSxXtJ4zJIeCBQK5A=&#39;;\r\nconst __docTimestamp = DateTime.fromSeconds(1439829974);\r\n```\r\n\r\nI&#39;ve also written the program in Java, as that is what the documentation uses as examples. I wanted to eliminate any platform specific encoding issues, handling of strings etc. My Java program outputs the same signature as my node implementation:\r\n\r\n```\r\nimport java.security.InvalidKeyException;\r\nimport java.security.NoSuchAlgorithmException;\r\n\r\nimport javax.crypto.Mac;\r\nimport javax.crypto.spec.SecretKeySpec;\r\n\r\nclass SignatureTestProgram {\r\n\r\n  public static void main(String[] args) throws NoSuchAlgorithmException, InvalidKeyException {\r\n    SignatureTestProgram hello = new SignatureTestProgram();\r\n    String signature = hello.computeShaHash(\r\n      hello.getBaseString(),\r\n      hello.getKey(),\r\n      &quot;HmacSHA256&quot;\r\n    );\r\n    System.out.println(signature);\r\n  }\r\n\r\n\r\n\r\n  public String getBaseString() {\r\n    return &quot;1234567&quot; + // account\r\n      &quot;&amp;&quot; +\r\n      &quot;71cc02b731f05895561ef0862d71553a3ac99498a947c3b7beaf4a1e4a29f7c4&quot; + // consumer key\r\n      &quot;&amp;&quot; +\r\n      &quot;89e08d9767c5ac85b374415725567d05b54ecf0960ad2470894a52f741020d82&quot; + // token\r\n      &quot;&amp;&quot; +\r\n      &quot;6obMKq0tmY8ylVOdEkA1&quot; + // nonce\r\n      &quot;&amp;&quot; +\r\n      &quot;1439829974&quot;; // timestamp\r\n  }\r\n\r\n\r\n\r\n  public String getKey() {\r\n    return &quot;7278da58caf07f5c336301a601203d10a58e948efa280f0618e25fcee1ef2abd&quot; + // consumer secret\r\n      &quot;&amp;&quot; +\r\n      &quot;060cd9ab3ffbbe1e3d3918e90165ffd37ab12acc76b4691046e2d29c7d7674c2&quot;; // token secret\r\n  }\r\n\r\n\r\n\r\n  public String computeShaHash(String baseString, String key, String algorithm) throws NoSuchAlgorithmException, InvalidKeyException {\r\n    byte[] bytes = key.getBytes();\r\n    SecretKeySpec mySigningKey = new SecretKeySpec(bytes, algorithm);\r\n    Mac messageAuthenticationCode = Mac.getInstance(algorithm);\r\n    messageAuthenticationCode.init(mySigningKey);\r\n    byte[] hash = messageAuthenticationCode.doFinal(baseString.getBytes());\r\n    return new String(java.util.Base64.getEncoder().encode(hash));\r\n  }\r\n}\r\n```","title":"NetSuite - Signature generation differs from documentation (SOAP Web Services API)","body":"<p>I'm currently integrating with NetSuite. I am building a Node.JS integration using the token-based authentication flow.</p>\n<p>Following the documentation, they give a series of examples for generating the base string, key, etc. I am using the provided values in a set of unit tests confirming my program correctly generates these as I compare against what the documentation provides.</p>\n<p>Here is my issue: given a base string and key which match what the documentation says they should be, when passed in to the HMAC SHA256 hashing algorithm, my output differs. I need a sanity check, is my code correct and their documentation wrong? Or am I missing something. Regardless, I am still receiving invalid credentials, so something is wrong somewhere, regardless of whether this is correct.</p>\n<p>Passing tests here:</p>\n<pre><code>it(&quot;Generates a base string&quot;, () =&gt; {\n    const baseString = shared.exportsForTest.genBaseString(__testConfig, __docNonce, __docTimestamp);\n    expect(baseString).toEqual(__docBaseString);\n  });\n\n\n\n  it(&quot;Generates a key&quot;, () =&gt; {\n    const key = shared.exportsForTest.genKey(__testConfig);\n    expect(key).toEqual(__docKey);\n  });\n</code></pre>\n<p>Failing test here:</p>\n<pre><code>  it(&quot;Generates a signature&quot;, () =&gt; {\n    const baseString = shared.exportsForTest.genBaseString(__testConfig, __docNonce, __docTimestamp);\n    const key = shared.exportsForTest.genKey(__testConfig);\n    const signature = shared.exportsForTest.genSignature({\n      baseString,\n      key\n    });\n    expect(signature).toEqual(__docSignature);\n  });\n</code></pre>\n<p>Definition for __genBaseString:</p>\n<pre><code>function __genBaseString(config: INetSuiteConfig, nonce: string, timestamp: DateTime) {\n  return _.join([\n    config.accountId,\n    config.consumerKey,\n    config.tokenId,\n    nonce,\n    timestamp.toUnixInteger() // Timestamp as epoch time.\n  ], '&amp;');\n}\n</code></pre>\n<p>Definition for __genKey:</p>\n<pre><code>function __genKey(config: INetSuiteConfig) {\n  return _.join([\n    config.consumerSecret,\n    config.tokenSecret\n  ], '&amp;');\n}\n</code></pre>\n<p>Definition for <code>__genSignature</code>:</p>\n<pre><code>function __genSignature({\n  baseString, key\n}: {\n  baseString: string;\n  key: string;\n}) {\n  const keyAsBytes = Buffer.from(key, 'utf-8');\n  const baseStringAsBytes = Buffer.from(baseString, 'utf-8');\n\n  const hash = crypto.createHmac('sha256', keyAsBytes)\n    .update(baseStringAsBytes)\n    .digest();\n\n  return hash.toString('base64');\n}\n</code></pre>\n<p>I've also debugged this line by line. The base string and key match the documentation inside the <code>__genSignature</code> call.</p>\n<p>My program outputs <code>FCghIZqXNetuZY8ILWOFH0ucdfzQOmAuL+q+kF21zPs=</code> for the signature, whereas the docs output is <code>fzGxUBu6SZvGqv5hk8P4ou2DPthSxXtJ4zJIeCBQK5A=</code></p>\n<p>Below are the test values from the documentation. Note that these are public values provided in the docs, and in this context are not sensitive.</p>\n<pre><code>const __testConfig: shared.INetSuiteConfig = {\n  accountId: '1234567',\n  applicationId: '',\n  consumerKey: '71cc02b731f05895561ef0862d71553a3ac99498a947c3b7beaf4a1e4a29f7c4',\n  consumerSecret: '7278da58caf07f5c336301a601203d10a58e948efa280f0618e25fcee1ef2abd',\n  tokenId: '89e08d9767c5ac85b374415725567d05b54ecf0960ad2470894a52f741020d82',\n  tokenSecret: '060cd9ab3ffbbe1e3d3918e90165ffd37ab12acc76b4691046e2d29c7d7674c2'\n};\n\nconst __docBaseString =\n'1234567&amp;71cc02b731f05895561ef0862d71553a3ac99498a947c3b7beaf4a1e4a29f7c4&amp;89e08d9767c5ac85b374415725567d05b54ecf0960ad2470894a52f741020d82&amp;6obMKq0tmY8ylVOdEkA1&amp;1439829974';\nconst __docKey = '7278da58caf07f5c336301a601203d10a58e948efa280f0618e25fcee1ef2abd&amp;060cd9ab3ffbbe1e3d3918e90165ffd37ab12acc76b4691046e2d29c7d7674c2';\nconst __docNonce = '6obMKq0tmY8ylVOdEkA1';\nconst __docSignature = 'fzGxUBu6SZvGqv5hk8P4ou2DPthSxXtJ4zJIeCBQK5A=';\nconst __docTimestamp = DateTime.fromSeconds(1439829974);\n</code></pre>\n<p>I've also written the program in Java, as that is what the documentation uses as examples. I wanted to eliminate any platform specific encoding issues, handling of strings etc. My Java program outputs the same signature as my node implementation:</p>\n<pre><code>import java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\n\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\n\nclass SignatureTestProgram {\n\n  public static void main(String[] args) throws NoSuchAlgorithmException, InvalidKeyException {\n    SignatureTestProgram hello = new SignatureTestProgram();\n    String signature = hello.computeShaHash(\n      hello.getBaseString(),\n      hello.getKey(),\n      &quot;HmacSHA256&quot;\n    );\n    System.out.println(signature);\n  }\n\n\n\n  public String getBaseString() {\n    return &quot;1234567&quot; + // account\n      &quot;&amp;&quot; +\n      &quot;71cc02b731f05895561ef0862d71553a3ac99498a947c3b7beaf4a1e4a29f7c4&quot; + // consumer key\n      &quot;&amp;&quot; +\n      &quot;89e08d9767c5ac85b374415725567d05b54ecf0960ad2470894a52f741020d82&quot; + // token\n      &quot;&amp;&quot; +\n      &quot;6obMKq0tmY8ylVOdEkA1&quot; + // nonce\n      &quot;&amp;&quot; +\n      &quot;1439829974&quot;; // timestamp\n  }\n\n\n\n  public String getKey() {\n    return &quot;7278da58caf07f5c336301a601203d10a58e948efa280f0618e25fcee1ef2abd&quot; + // consumer secret\n      &quot;&amp;&quot; +\n      &quot;060cd9ab3ffbbe1e3d3918e90165ffd37ab12acc76b4691046e2d29c7d7674c2&quot;; // token secret\n  }\n\n\n\n  public String computeShaHash(String baseString, String key, String algorithm) throws NoSuchAlgorithmException, InvalidKeyException {\n    byte[] bytes = key.getBytes();\n    SecretKeySpec mySigningKey = new SecretKeySpec(bytes, algorithm);\n    Mac messageAuthenticationCode = Mac.getInstance(algorithm);\n    messageAuthenticationCode.init(mySigningKey);\n    byte[] hash = messageAuthenticationCode.doFinal(baseString.getBytes());\n    return new String(java.util.Base64.getEncoder().encode(hash));\n  }\n}\n</code></pre>\n"},{"tags":["java","json","amazon-web-services","spring-boot","aws-api-gateway"],"owner":{"account_id":17108660,"reputation":1251,"user_id":12380096,"display_name":"AylaWinters"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681485213,"creation_date":1681485213,"question_id":76016584,"body_markdown":"I am working on allowing my Java Spring Boot Lambda application to call the ApiGatewayClient in order to getUsage information for my various API keys. The problem is that the data comes back without the API key name *and* without the queried dates. I have crafted a solution that works, but it is quite verbose and I am sure there is a more efficient and elegant way to achieve the same task.\r\n\r\nexample API call:  ```myapi/getUsage?startDate=2023-03-31&amp;endDate=2023-04-04```\r\n\r\nSo, I am trying to turn the following response: \r\n```\r\n{\r\n  &quot;1barly5j0m&quot;: [\r\n    [16664, 0],\r\n    [281, 0],\r\n    [209, 0],\r\n    [16448, 0],\r\n    [15004, 0]\r\n  ],\r\n  &quot;2foo8fk3jb&quot;: [\r\n    [52, 0],\r\n    [301, 0],\r\n    [262, 0],\r\n    [190, 0],\r\n    [349, 0]\r\n  ],\r\n  &quot;3bar9utjr1&quot;: [\r\n    [1773, 0],\r\n    [14779, 0],\r\n    [13994, 0],\r\n    [12448, 0],\r\n    [14208, 0]\r\n  ]\r\n}\r\n```\r\nInto a JSON responseEntity like this: \r\n```\r\n{\r\n  &quot;Agents&quot;: {\r\n    &quot;usage&quot;: {\r\n      &quot;2023-03-31&quot;: &quot;16664&quot;,\r\n      &quot;2023-04-01&quot;: &quot;281&quot;,\r\n      &quot;2023-04-02&quot;: &quot;209&quot;,\r\n      &quot;2023-04-03&quot;: &quot;16448&quot;,\r\n      &quot;2023-04-04&quot;: &quot;15004&quot;\r\n    },\r\n    &quot;id&quot;: &quot;1barly5j0m&quot;\r\n  },\r\n  &quot;Supervisors&quot;: {\r\n    &quot;usage&quot;: {\r\n      &quot;2023-03-31&quot;: &quot;52&quot;,\r\n      &quot;2023-04-01&quot;: &quot;301&quot;,\r\n      &quot;2023-04-02&quot;: &quot;262&quot;,\r\n      &quot;2023-04-03&quot;: &quot;190&quot;,\r\n      &quot;2023-04-04&quot;: &quot;349&quot;\r\n    },\r\n    &quot;id&quot;: &quot;2foo8fk3jb&quot;\r\n  },\r\n  &quot;Customers&quot;: {\r\n    &quot;usage&quot;: {\r\n      &quot;2023-03-31&quot;: &quot;1773&quot;,\r\n      &quot;2023-04-01&quot;: &quot;14779&quot;,\r\n      &quot;2023-04-02&quot;: &quot;13994&quot;,\r\n      &quot;2023-04-03&quot;: &quot;12448&quot;,\r\n      &quot;2023-04-04&quot;: &quot;14208&quot;\r\n    },\r\n    &quot;id&quot;: &quot;3bar9utjr1&quot;\r\n  }\r\n}\r\n```\r\n\r\n**Requirements:** \r\n\r\n 1. Map the Key ID to proper Key Name\r\n 2. Map usage value to date (we are not using quotas so only the first number matters)\r\n 3. Dates must be sorted (I know, I know, JSON is an unordered collection, but they **can** be ordered!) \r\n\r\n\r\n----------\r\n## Current Implementation ##\r\n\r\n```\r\npackage com.contactAPI.service;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.LinkedHashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.deplayer.aws.ApiGatewayConfig;\r\n\r\nimport software.amazon.awssdk.services.apigateway.ApiGatewayClient;\r\nimport software.amazon.awssdk.services.apigateway.model.BadRequestException;\r\nimport software.amazon.awssdk.services.apigateway.model.GetUsageRequest;\r\nimport software.amazon.awssdk.services.apigateway.model.GetUsageResponse;\r\n\r\n@Service\r\npublic class AWSService {\r\n\r\n\tprivate ApiGatewayClient apiGateway;\r\n\r\n\tpublic ResponseEntity&lt;Object&gt; getAllUsage(String startDate, String endDate) {\r\n\t\tResponseEntity&lt;Object&gt; responseEntity;\r\n\t\tapiGateway = ApiGatewayConfig.getApiGatewayClient();\r\n\t\tJSONObject outputObj = new JSONObject();\r\n\t\tGetUsageRequest request = GetUsageRequest.builder()\r\n\t\t\t\t.usagePlanId(&quot;myplanid&quot;)\r\n\t\t\t\t.startDate(startDate)\r\n\t\t\t\t.endDate(endDate)\r\n\t\t\t\t.build();\r\n\t\ttry {\r\n\t\t\tGetUsageResponse response = apiGateway.getUsage(request);\r\n\t\t\tif (!response.items().isEmpty()) {\r\n\t\t\t\toutputObj = outputBuilder(response, startDate);\r\n\t\t\t\tresponseEntity = new ResponseEntity&lt;&gt;(outputObj.toString(), HttpStatus.OK);\r\n\t\t\t} else {\r\n\t\t\t\tresponseEntity = new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n\t\t\t}\r\n\t\t} catch (BadRequestException ex) {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(ex.getMessage(), HttpStatus.BAD_REQUEST);\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t\t}\r\n\t\treturn responseEntity;\r\n\t}\r\n\r\n\tprivate JSONObject outputBuilder(GetUsageResponse response, String startDate) \r\n\t\t\tthrows JSONException {\r\n\t\tJSONObject outputObj = new JSONObject();\r\n\t\tfor (Map.Entry&lt;String, List&lt;List&lt;Long&gt;&gt;&gt; entry : response.items().entrySet()) {\r\n\t\t\tJSONObject tempObj = new JSONObject();\r\n\t\t\tswitch (entry.getKey()) {\r\n\t\t\tcase &quot;1barly5j0m&quot;:\r\n\t\t\t    tempObj.put(&quot;id&quot;, &quot;1barly5j0m&quot;);\r\n\t\t\t    tempObj.put(&quot;usage&quot;, getDateValues(entry.getValue(), startDate));\r\n\t\t\t    outputObj.put(&quot;Agents&quot;, tempObj);\r\n\t\t\tbreak;\r\n\t\t\tcase &quot;2foo8fk3jb&quot;:\r\n\t\t\t    tempObj.put(&quot;id&quot;, &quot;2foo8fk3jb&quot;);\r\n\t\t\t    tempObj.put(&quot;usage&quot;, getDateValues(entry.getValue(), startDate));\r\n\t\t\t    outputObj.put(&quot;Supervisors&quot;, tempObj);\r\n\t\t\tbreak;\r\n\t\t\tcase &quot;3bar9utjr1&quot;:\r\n\t\t\t    tempObj.put(&quot;id&quot;, &quot;3bar9utjr1&quot;);\r\n\t\t\t    tempObj.put(&quot;usage&quot;, getDateValues(entry.getValue(), startDate));\r\n\t\t\t    outputObj.put(&quot;Customers&quot;, tempObj);\r\n\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn outputObj;\r\n\t}\r\n\r\n\tprivate JSONObject getDateValues(List&lt;List&lt;Long&gt;&gt; list, String startDate) {\r\n\t\tLinkedHashMap&lt;String, String&gt; dateMap = new LinkedHashMap&lt;String, String&gt;();\r\n\t\tint count = 0;\r\n\t\tfor (List&lt;Long&gt; arr : list) {\r\n\t\t\tString usageValue = arr.get(0).toString();\r\n\t\t\tString newDate = LocalDate.parse(startDate).plusDays(count).toString();\r\n\t\t\tdateMap.put(newDate, usageValue);\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\tJSONObject orderedJson = new JSONObject(dateMap);\r\n\t\treturn orderedJson;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n----------\r\n## QUESTION ##\r\n\r\nThe big issue that I see is that I have 10 API keys, so it feels like the hard coded switch case is a bit much. Is there a better way to do that? \r\n\r\nShould I be using while(Iterator.hasNext()) instead of the for-each loop with count variable? \r\n\r\nAny other improvements you can see? \r\n\r\n\r\n----------\r\n\r\n**NOTE:**\r\nFor ordered org.json.JSONObject, version 20080701 has a constructor that uses the type of Map you give it rather than later implementations that only use HashMap. So in this case, I am providing a LinkedHashMap, and so &quot;orderedJson&quot; maintains the insertion order when creating the JSONObject. \r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20080701&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n","title":"Efficiency in maping AWS API Gateway GetUsageResponse to add API name and Dates","body":"<p>I am working on allowing my Java Spring Boot Lambda application to call the ApiGatewayClient in order to getUsage information for my various API keys. The problem is that the data comes back without the API key name <em>and</em> without the queried dates. I have crafted a solution that works, but it is quite verbose and I am sure there is a more efficient and elegant way to achieve the same task.</p>\n<p>example API call:  <code>myapi/getUsage?startDate=2023-03-31&amp;endDate=2023-04-04</code></p>\n<p>So, I am trying to turn the following response:</p>\n<pre><code>{\n  &quot;1barly5j0m&quot;: [\n    [16664, 0],\n    [281, 0],\n    [209, 0],\n    [16448, 0],\n    [15004, 0]\n  ],\n  &quot;2foo8fk3jb&quot;: [\n    [52, 0],\n    [301, 0],\n    [262, 0],\n    [190, 0],\n    [349, 0]\n  ],\n  &quot;3bar9utjr1&quot;: [\n    [1773, 0],\n    [14779, 0],\n    [13994, 0],\n    [12448, 0],\n    [14208, 0]\n  ]\n}\n</code></pre>\n<p>Into a JSON responseEntity like this:</p>\n<pre><code>{\n  &quot;Agents&quot;: {\n    &quot;usage&quot;: {\n      &quot;2023-03-31&quot;: &quot;16664&quot;,\n      &quot;2023-04-01&quot;: &quot;281&quot;,\n      &quot;2023-04-02&quot;: &quot;209&quot;,\n      &quot;2023-04-03&quot;: &quot;16448&quot;,\n      &quot;2023-04-04&quot;: &quot;15004&quot;\n    },\n    &quot;id&quot;: &quot;1barly5j0m&quot;\n  },\n  &quot;Supervisors&quot;: {\n    &quot;usage&quot;: {\n      &quot;2023-03-31&quot;: &quot;52&quot;,\n      &quot;2023-04-01&quot;: &quot;301&quot;,\n      &quot;2023-04-02&quot;: &quot;262&quot;,\n      &quot;2023-04-03&quot;: &quot;190&quot;,\n      &quot;2023-04-04&quot;: &quot;349&quot;\n    },\n    &quot;id&quot;: &quot;2foo8fk3jb&quot;\n  },\n  &quot;Customers&quot;: {\n    &quot;usage&quot;: {\n      &quot;2023-03-31&quot;: &quot;1773&quot;,\n      &quot;2023-04-01&quot;: &quot;14779&quot;,\n      &quot;2023-04-02&quot;: &quot;13994&quot;,\n      &quot;2023-04-03&quot;: &quot;12448&quot;,\n      &quot;2023-04-04&quot;: &quot;14208&quot;\n    },\n    &quot;id&quot;: &quot;3bar9utjr1&quot;\n  }\n}\n</code></pre>\n<p><strong>Requirements:</strong></p>\n<ol>\n<li>Map the Key ID to proper Key Name</li>\n<li>Map usage value to date (we are not using quotas so only the first number matters)</li>\n<li>Dates must be sorted (I know, I know, JSON is an unordered collection, but they <strong>can</strong> be ordered!)</li>\n</ol>\n<hr />\n<h2>Current Implementation</h2>\n<pre><code>package com.contactAPI.service;\n\nimport java.time.LocalDate;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Service;\n\nimport com.deplayer.aws.ApiGatewayConfig;\n\nimport software.amazon.awssdk.services.apigateway.ApiGatewayClient;\nimport software.amazon.awssdk.services.apigateway.model.BadRequestException;\nimport software.amazon.awssdk.services.apigateway.model.GetUsageRequest;\nimport software.amazon.awssdk.services.apigateway.model.GetUsageResponse;\n\n@Service\npublic class AWSService {\n\n    private ApiGatewayClient apiGateway;\n\n    public ResponseEntity&lt;Object&gt; getAllUsage(String startDate, String endDate) {\n        ResponseEntity&lt;Object&gt; responseEntity;\n        apiGateway = ApiGatewayConfig.getApiGatewayClient();\n        JSONObject outputObj = new JSONObject();\n        GetUsageRequest request = GetUsageRequest.builder()\n                .usagePlanId(&quot;myplanid&quot;)\n                .startDate(startDate)\n                .endDate(endDate)\n                .build();\n        try {\n            GetUsageResponse response = apiGateway.getUsage(request);\n            if (!response.items().isEmpty()) {\n                outputObj = outputBuilder(response, startDate);\n                responseEntity = new ResponseEntity&lt;&gt;(outputObj.toString(), HttpStatus.OK);\n            } else {\n                responseEntity = new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n            }\n        } catch (BadRequestException ex) {\n            return new ResponseEntity&lt;&gt;(ex.getMessage(), HttpStatus.BAD_REQUEST);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n        return responseEntity;\n    }\n\n    private JSONObject outputBuilder(GetUsageResponse response, String startDate) \n            throws JSONException {\n        JSONObject outputObj = new JSONObject();\n        for (Map.Entry&lt;String, List&lt;List&lt;Long&gt;&gt;&gt; entry : response.items().entrySet()) {\n            JSONObject tempObj = new JSONObject();\n            switch (entry.getKey()) {\n            case &quot;1barly5j0m&quot;:\n                tempObj.put(&quot;id&quot;, &quot;1barly5j0m&quot;);\n                tempObj.put(&quot;usage&quot;, getDateValues(entry.getValue(), startDate));\n                outputObj.put(&quot;Agents&quot;, tempObj);\n            break;\n            case &quot;2foo8fk3jb&quot;:\n                tempObj.put(&quot;id&quot;, &quot;2foo8fk3jb&quot;);\n                tempObj.put(&quot;usage&quot;, getDateValues(entry.getValue(), startDate));\n                outputObj.put(&quot;Supervisors&quot;, tempObj);\n            break;\n            case &quot;3bar9utjr1&quot;:\n                tempObj.put(&quot;id&quot;, &quot;3bar9utjr1&quot;);\n                tempObj.put(&quot;usage&quot;, getDateValues(entry.getValue(), startDate));\n                outputObj.put(&quot;Customers&quot;, tempObj);\n            break;\n            }\n        }\n        return outputObj;\n    }\n\n    private JSONObject getDateValues(List&lt;List&lt;Long&gt;&gt; list, String startDate) {\n        LinkedHashMap&lt;String, String&gt; dateMap = new LinkedHashMap&lt;String, String&gt;();\n        int count = 0;\n        for (List&lt;Long&gt; arr : list) {\n            String usageValue = arr.get(0).toString();\n            String newDate = LocalDate.parse(startDate).plusDays(count).toString();\n            dateMap.put(newDate, usageValue);\n            count++;\n        }\n        JSONObject orderedJson = new JSONObject(dateMap);\n        return orderedJson;\n    }\n\n}\n</code></pre>\n<hr />\n<h2>QUESTION</h2>\n<p>The big issue that I see is that I have 10 API keys, so it feels like the hard coded switch case is a bit much. Is there a better way to do that?</p>\n<p>Should I be using while(Iterator.hasNext()) instead of the for-each loop with count variable?</p>\n<p>Any other improvements you can see?</p>\n<hr />\n<p><strong>NOTE:</strong>\nFor ordered org.json.JSONObject, version 20080701 has a constructor that uses the type of Map you give it rather than later implementations that only use HashMap. So in this case, I am providing a LinkedHashMap, and so &quot;orderedJson&quot; maintains the insertion order when creating the JSONObject.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20080701&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka","slf4j","kafka-producer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1539893094,"post_id":52880915,"comment_id":92676958,"body_markdown":"slf4j is only a facade to a real logging framework. For example, Kafka brokers use Log4J, so you need to find the configurations for this Camuda thing and figure out how to tune the log levels/packages from there. Alternatively, in Maven, for example, you can exclude sl4jj from the kafka-clients library","body":"slf4j is only a facade to a real logging framework. For example, Kafka brokers use Log4J, so you need to find the configurations for this Camuda thing and figure out how to tune the log levels/packages from there. Alternatively, in Maven, for example, you can exclude sl4jj from the kafka-clients library"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1539956963,"post_id":52880915,"comment_id":92700060,"body_markdown":"I&#39;m not really sure which applied to your use case, but feel free to show a solution you came up with below","body":"I&#39;m not really sure which applied to your use case, but feel free to show a solution you came up with below"},{"owner":{"account_id":7006182,"reputation":2025,"user_id":5370480,"display_name":"Dean Jain"},"score":0,"creation_date":1592287173,"post_id":52880915,"comment_id":110363086,"body_markdown":"Here is my Answer to completely disable kafka logging: https://stackoverflow.com/a/62401824/5370480","body":"Here is my Answer to completely disable kafka logging: <a href=\"https://stackoverflow.com/a/62401824/5370480\">stackoverflow.com/a/62401824/5370480</a>"}],"answers":[{"tags":[],"owner":{"account_id":13186125,"reputation":371,"user_id":9524145,"display_name":"Leon"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1539963950,"creation_date":1539963950,"answer_id":52895820,"question_id":52880915,"body_markdown":"The approach to disable SFL4J-Logger for the Maven dependency on apache Kafka worked fine for me. I changed my pom file as follows:\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0&lt;/version&gt;\r\n          &lt;exclusions&gt;\r\n        \t&lt;exclusion&gt;\r\n          \t  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          \t  &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        \t&lt;/exclusion&gt;\r\n      \t &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;","title":"Disable SLF4J Logging in apache Kafka","body":"<p>The approach to disable SFL4J-Logger for the Maven dependency on apache Kafka worked fine for me. I changed my pom file as follows:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n     &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13186125,"reputation":371,"user_id":9524145,"display_name":"Leon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5941,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52895820,"answer_count":1,"score":2,"last_activity_date":1681485124,"creation_date":1539889589,"question_id":52880915,"body_markdown":"i have a problem with logging SLF4J at Apache Kafka. I want to use Tomcats Servlet Container Catalina in connection with Apache Kafka. My Java application has to be integrated into a BPM process from Camunda. The integration of Java coding worked so far also - without the integration of an Apache Kafka Producer.  If I integrate this into a Camunda process I get this error:\r\n\r\n    java.lang.LinkageError: loader constraint violation: when resolving method &quot;org.slf4j.impl.StaticLoggerBinder.getLoggerFactory()Lorg/slf4j/ILoggerFactory;&quot; the class loader (instance of org/apache/catalina/loader/ParallelWebappClassLoader) of the current class, org/slf4j/LoggerFactory, and the class loader (instance of java/net/URLClassLoader) for the method&#39;s defining class, org/slf4j/impl/StaticLoggerBinder, have different Class objects for the type org/slf4j/ILoggerFactory used in the signature\r\n\tat org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:418)\r\n\tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:357)\r\n\tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:383)\r\n\tat org.apache.kafka.clients.CommonClientConfigs.&lt;clinit&gt;(CommonClientConfigs.java:32)\r\n\tat org.apache.kafka.clients.producer.ProducerConfig.&lt;clinit&gt;(ProducerConfig.java:305)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:304)\r\n\r\nAs far as I understand the error, Camunda and Apache Kafka are trying to call the SLF4J logger, aren&#39;t they?\r\nBut in my case I need the Camunda logger. So I would like to disable Apache Kafka logging to work around the problem.\r\nSo far my simple Kafka Producer looks like this:\r\n\r\n```\r\nString topicName = &quot;camunda&quot;;\r\nString test = &quot;test123&quot;;\r\nProperties props = new Properties();\r\nprops.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092,localhost:9093&quot;);\r\nprops.put(&quot;key.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\nprops.put(&quot;value.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n\t\t        \r\nProducer&lt;String, String&gt; producer = new KafkaProducer &lt;&gt;(props);\r\nProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(topicName,test);\r\nproducer.send(record);\r\nproducer.close();\r\n```\r\n\r\nis there a way to solve this problem?  Unfortunately, I couldn&#39;t find any entries on how to disable the Kafka Logger, or is the problem somewhere else?\r\n\r\nMany thanks in advance","title":"Disable SLF4J Logging in apache Kafka","body":"<p>i have a problem with logging SLF4J at Apache Kafka. I want to use Tomcats Servlet Container Catalina in connection with Apache Kafka. My Java application has to be integrated into a BPM process from Camunda. The integration of Java coding worked so far also - without the integration of an Apache Kafka Producer.  If I integrate this into a Camunda process I get this error:</p>\n<pre><code>java.lang.LinkageError: loader constraint violation: when resolving method &quot;org.slf4j.impl.StaticLoggerBinder.getLoggerFactory()Lorg/slf4j/ILoggerFactory;&quot; the class loader (instance of org/apache/catalina/loader/ParallelWebappClassLoader) of the current class, org/slf4j/LoggerFactory, and the class loader (instance of java/net/URLClassLoader) for the method's defining class, org/slf4j/impl/StaticLoggerBinder, have different Class objects for the type org/slf4j/ILoggerFactory used in the signature\nat org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:418)\nat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:357)\nat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:383)\nat org.apache.kafka.clients.CommonClientConfigs.&lt;clinit&gt;(CommonClientConfigs.java:32)\nat org.apache.kafka.clients.producer.ProducerConfig.&lt;clinit&gt;(ProducerConfig.java:305)\nat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:304)\n</code></pre>\n<p>As far as I understand the error, Camunda and Apache Kafka are trying to call the SLF4J logger, aren't they?\nBut in my case I need the Camunda logger. So I would like to disable Apache Kafka logging to work around the problem.\nSo far my simple Kafka Producer looks like this:</p>\n<pre><code>String topicName = &quot;camunda&quot;;\nString test = &quot;test123&quot;;\nProperties props = new Properties();\nprops.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092,localhost:9093&quot;);\nprops.put(&quot;key.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\nprops.put(&quot;value.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n                \nProducer&lt;String, String&gt; producer = new KafkaProducer &lt;&gt;(props);\nProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(topicName,test);\nproducer.send(record);\nproducer.close();\n</code></pre>\n<p>is there a way to solve this problem?  Unfortunately, I couldn't find any entries on how to disable the Kafka Logger, or is the problem somewhere else?</p>\n<p>Many thanks in advance</p>\n"},{"tags":["java","opencsv"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681486650,"post_id":76016507,"comment_id":134069410,"body_markdown":"Did you check [this](https://opencsv.sourceforge.net/apidocs/com/opencsv/bean/CsvToBean.html#setThrowExceptions-boolean-) out?","body":"Did you check <a href=\"https://opencsv.sourceforge.net/apidocs/com/opencsv/bean/CsvToBean.html#setThrowExceptions-boolean-\" rel=\"nofollow noreferrer\">this</a> out?"},{"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"score":0,"creation_date":1681488417,"post_id":76016507,"comment_id":134069831,"body_markdown":"`then I got an exception which is not caught in my code` - then just catch it, what&#39;s the problem with it? `try { ... } catch (...) { ... }`?","body":"<code>then I got an exception which is not caught in my code</code> - then just catch it, what&#39;s the problem with it? <code>try { ... } catch (...) { ... }</code>?"},{"owner":{"account_id":18218,"reputation":1105,"user_id":41572,"accept_rate":52,"display_name":"semantic-dev"},"score":0,"creation_date":1681574995,"post_id":76016507,"comment_id":134080130,"body_markdown":"@ursa the exception is not thrown to the user code so I can&#39;t simply catch it.","body":"@ursa the exception is not thrown to the user code so I can&#39;t simply catch it."},{"owner":{"account_id":18218,"reputation":1105,"user_id":41572,"accept_rate":52,"display_name":"semantic-dev"},"score":0,"creation_date":1681575062,"post_id":76016507,"comment_id":134080138,"body_markdown":"@g00se the malformed exception is an IOException so I can&#39;t use CsvExceptionHandler because it handles CsvException which does not extend IOException","body":"@g00se the malformed exception is an IOException so I can&#39;t use CsvExceptionHandler because it handles CsvException which does not extend IOException"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681578663,"post_id":76016507,"comment_id":134080615,"body_markdown":"I think we need to see a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) We also need to know what input you&#39;re supplying that&#39;s giving you an `IOException`","body":"I think we need to see a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> We also need to know what input you&#39;re supplying that&#39;s giving you an <code>IOException</code>"}],"owner":{"account_id":18218,"reputation":1105,"user_id":41572,"accept_rate":52,"display_name":"semantic-dev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681484675,"creation_date":1681484675,"question_id":76016507,"body_markdown":"we are using OpenCSV java library 5.7.0 and we are using the following piece of code to create the builder and then read the CSV line by line:\r\n\r\n\t        CsvToBean&lt;Protocollo&gt; cb = new CsvToBeanBuilder(reader)\r\n\t         .withType(Bean.class)\r\n\t         .withSeparator(&#39;,&#39;)\r\n\t         .withSkipLines(1)\r\n\t         .build();\r\n\t        \r\n\t\t\twhile(it.hasNext()) {\r\n\t\t\t\tBean b = it.next();\r\n            }\r\n\r\nbut then I noticed if any malformed line happens then I got an exception which is not catched in my code. I would like to catch this kind of exception and log it accordingly.\r\n\r\nmany thanks\r\n","title":"OpenCSV how to get malformed line with CsvToBeanBuilder","body":"<p>we are using OpenCSV java library 5.7.0 and we are using the following piece of code to create the builder and then read the CSV line by line:</p>\n<pre><code>        CsvToBean&lt;Protocollo&gt; cb = new CsvToBeanBuilder(reader)\n         .withType(Bean.class)\n         .withSeparator(',')\n         .withSkipLines(1)\n         .build();\n        \n        while(it.hasNext()) {\n            Bean b = it.next();\n        }\n</code></pre>\n<p>but then I noticed if any malformed line happens then I got an exception which is not catched in my code. I would like to catch this kind of exception and log it accordingly.</p>\n<p>many thanks</p>\n"},{"tags":["java","jar","jenkins-pipeline","javac"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681483337,"post_id":76016158,"comment_id":134068490,"body_markdown":"There&#39;s no real mystery about dependencies. It&#39;s just a question of making sure they are all in the classpath. One caution: if you do `java -jar foo.jar`, you are telling java that *all* dependencies are in the jar mentioned. If you have multiple jars, you must not use `-jar` but need to use `-cp`. Your error message suggests that you made an executable jar OK, but specified your main class incorrectly","body":"There&#39;s no real mystery about dependencies. It&#39;s just a question of making sure they are all in the classpath. One caution: if you do <code>java -jar foo.jar</code>, you are telling java that <i>all</i> dependencies are in the jar mentioned. If you have multiple jars, you must not use <code>-jar</code> but need to use <code>-cp</code>. Your error message suggests that you made an executable jar OK, but specified your main class incorrectly"},{"owner":{"account_id":19958042,"reputation":1,"user_id":21643407,"display_name":"Serega Ilushenko"},"score":0,"creation_date":1681490093,"post_id":76016158,"comment_id":134070273,"body_markdown":"@g00se I didn&#39;t get you. How can I add all dependencies to my .jar if this is the external library? Also with -cp, I do not have a path to the library. Or did I do something wrong?","body":"@g00se I didn&#39;t get you. How can I add all dependencies to my .jar if this is the external library? Also with -cp, I do not have a path to the library. Or did I do something wrong?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681495420,"post_id":76016158,"comment_id":134071386,"body_markdown":"*How can I add all dependencies to my .jar if this is the external library?* You would use a so-called &#39;fat jar&#39;. *Also with -cp, I do not have a path to the library* Sorry, I don&#39;t understand. Of course, you *must* have a path, and specify it","body":"<i>How can I add all dependencies to my .jar if this is the external library?</i> You would use a so-called &#39;fat jar&#39;. <i>Also with -cp, I do not have a path to the library</i> Sorry, I don&#39;t understand. Of course, you <i>must</i> have a path, and specify it"}],"answers":[{"comments":[{"owner":{"account_id":19958042,"reputation":1,"user_id":21643407,"display_name":"Serega Ilushenko"},"score":0,"creation_date":1681491261,"post_id":76016456,"comment_id":134070536,"body_markdown":"Ok, &quot; Put all those dependencies in a directory of your choice.&quot; I cannot do this cuz this is the external library. Should I download it or...?","body":"Ok, &quot; Put all those dependencies in a directory of your choice.&quot; I cannot do this cuz this is the external library. Should I download it or...?"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1681731701,"post_id":76016456,"comment_id":134098783,"body_markdown":"@SeregaIlushenko What do you mean by &quot;external library&quot; and why does this prevent you from getting the dependencies of your java class? In any case, you cannot run a Java application without its dependencies. That is why they are called dependencies.","body":"@SeregaIlushenko What do you mean by &quot;external library&quot; and why does this prevent you from getting the dependencies of your java class? In any case, you cannot run a Java application without its dependencies. That is why they are called dependencies."}],"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681484376,"creation_date":1681484376,"answer_id":76016456,"question_id":76016158,"body_markdown":"Extract your `test.jar` and open `META-INF/MANIFEST.MF` in a text editor. If there is an entry `Class-Path` in the `MANIFEST.MF` file, make sure all the dependencies listed in the `Class-Path` entry are available in the locations specified in the entry (`Class-Path` entries are relative to the location of `test.jar`).\r\nWith all dependencies in place, you should be able to run your application with `java -jar [path to test.jar]`.\r\n\r\nIf there is no `Class-Path` entry, you need to track down the dependencies of your jar in some other way. Put all those dependencies in a directory of your choice. (A `lib` subdirectory in the directory that contains the `test.jar` is usually considered a good choice.) Then run your application using\r\n```\r\njava -cp &lt;classpath&gt; &lt;main class name&gt;\r\n```\r\nE.g. suppose there are two dependencies `dep1.jar` and `dep2.jar` and the qualified class name of your main class is `com.yourcompany.Main`, then the command for Linux would be\r\n```\r\njava -cp test.jar:lib/dep1.jar:lib/dep2.jar com.yourcompany.Main\r\n```\r\nand for Windows\r\n```\r\njava -cp test.jar;lib\\dep1.jar;lib\\dep2.jar com.yourcompany.Main\r\n```\r\nBoth examples assume that you run the `java` command in the directory that contains `test.jar`.\r\n\r\nIf you need to use the same command on Linux and Windows, you need to rebundle `test.jar` such that its `META-INF/MANIFEST.MF` has a `Class-Path` entry (and a `Main-Class` entry).","title":"Run java class with command line with dependencies","body":"<p>Extract your <code>test.jar</code> and open <code>META-INF/MANIFEST.MF</code> in a text editor. If there is an entry <code>Class-Path</code> in the <code>MANIFEST.MF</code> file, make sure all the dependencies listed in the <code>Class-Path</code> entry are available in the locations specified in the entry (<code>Class-Path</code> entries are relative to the location of <code>test.jar</code>).\nWith all dependencies in place, you should be able to run your application with <code>java -jar [path to test.jar]</code>.</p>\n<p>If there is no <code>Class-Path</code> entry, you need to track down the dependencies of your jar in some other way. Put all those dependencies in a directory of your choice. (A <code>lib</code> subdirectory in the directory that contains the <code>test.jar</code> is usually considered a good choice.) Then run your application using</p>\n<pre><code>java -cp &lt;classpath&gt; &lt;main class name&gt;\n</code></pre>\n<p>E.g. suppose there are two dependencies <code>dep1.jar</code> and <code>dep2.jar</code> and the qualified class name of your main class is <code>com.yourcompany.Main</code>, then the command for Linux would be</p>\n<pre><code>java -cp test.jar:lib/dep1.jar:lib/dep2.jar com.yourcompany.Main\n</code></pre>\n<p>and for Windows</p>\n<pre><code>java -cp test.jar;lib\\dep1.jar;lib\\dep2.jar com.yourcompany.Main\n</code></pre>\n<p>Both examples assume that you run the <code>java</code> command in the directory that contains <code>test.jar</code>.</p>\n<p>If you need to use the same command on Linux and Windows, you need to rebundle <code>test.jar</code> such that its <code>META-INF/MANIFEST.MF</code> has a <code>Class-Path</code> entry (and a <code>Main-Class</code> entry).</p>\n"}],"owner":{"account_id":19958042,"reputation":1,"user_id":21643407,"display_name":"Serega Ilushenko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681484376,"creation_date":1681482502,"question_id":76016158,"body_markdown":"I have a java class that uses some external lib. It runs a powershell script and does some stuff after that.\r\nI want to run the script with Jenkinsfile, and local env via IntelliJ, so the command should be universal for Linux and Windows.\r\nHow can I execute a command line to run it? \r\n\r\nSome things that I&#39;ve tried: I have created a artifact and tried to execute it by java -jar but nothing \r\n`java -jar ./out/artifacts/test_jar/test.jar`\r\nI got this\r\n```\r\nError: Could not find or load main class APITestRunner\r\nCaused by: java.lang.ClassNotFoundException: APITestRunner\r\n```\r\nAlso I have tried with javac but got an error\r\n`error: package my.package does not exist`\r\nI have a big root so whould be nice to see any -cp exapmles.\r\nIs that doable? :D","title":"Run java class with command line with dependencies","body":"<p>I have a java class that uses some external lib. It runs a powershell script and does some stuff after that.\nI want to run the script with Jenkinsfile, and local env via IntelliJ, so the command should be universal for Linux and Windows.\nHow can I execute a command line to run it?</p>\n<p>Some things that I've tried: I have created a artifact and tried to execute it by java -jar but nothing\n<code>java -jar ./out/artifacts/test_jar/test.jar</code>\nI got this</p>\n<pre><code>Error: Could not find or load main class APITestRunner\nCaused by: java.lang.ClassNotFoundException: APITestRunner\n</code></pre>\n<p>Also I have tried with javac but got an error\n<code>error: package my.package does not exist</code>\nI have a big root so whould be nice to see any -cp exapmles.\nIs that doable? :D</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":13996510,"reputation":400,"user_id":10109156,"display_name":"tornadoradon"},"score":0,"creation_date":1681481628,"post_id":76015999,"comment_id":134068020,"body_markdown":"what&#39;s your point? conflict between what? where?","body":"what&#39;s your point? conflict between what? where?"},{"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"score":0,"creation_date":1681481748,"post_id":76015999,"comment_id":134068064,"body_markdown":"There should be no conflict based on this, each query is carried by a uniquely associated thread with its own data model.","body":"There should be no conflict based on this, each query is carried by a uniquely associated thread with its own data model."},{"owner":{"account_id":27971586,"reputation":49,"user_id":21361197,"display_name":"xdd"},"score":0,"creation_date":1681481960,"post_id":76015999,"comment_id":134068126,"body_markdown":"@alainlompo can you explain me when to use modelattribute because i can store data in session","body":"@alainlompo can you explain me when to use modelattribute because i can store data in session"}],"owner":{"account_id":27971586,"reputation":49,"user_id":21361197,"display_name":"xdd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681484355,"creation_date":1681481465,"question_id":76015999,"body_markdown":"```java\r\n@ModelAttribute\r\npublic void addAttributes(Model model) {\r\n    System.out.println(&quot;M&#233;thode addAttributes appel&#233;e&quot;);\r\n    model.addAttribute(&quot;Person&quot;, new Person(test,test,123));\r\n}\r\n```\r\n\r\nIf two client Login in same time may conflict happen or no?","title":"is there any conflict in ModelAttribute","body":"<pre class=\"lang-java prettyprint-override\"><code>@ModelAttribute\npublic void addAttributes(Model model) {\n    System.out.println(&quot;Méthode addAttributes appelée&quot;);\n    model.addAttribute(&quot;Person&quot;, new Person(test,test,123));\n}\n</code></pre>\n<p>If two client Login in same time may conflict happen or no?</p>\n"},{"tags":["java","spring-boot","jpa","nullpointerexception"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1681470351,"post_id":76014337,"comment_id":134065324,"body_markdown":"ManagerUtil Does not look like a ‘@Component’. How is managerService created? ‘@Autowired’? What are the packages of SpringBootApplication, ManagerUtil, managerService.","body":"ManagerUtil Does not look like a ‘@Component’. How is managerService created? ‘@Autowired’? What are the packages of SpringBootApplication, ManagerUtil, managerService."},{"owner":{"account_id":11547989,"reputation":23,"user_id":8461462,"display_name":"desta"},"score":0,"creation_date":1681698251,"post_id":76014337,"comment_id":134093262,"body_markdown":"ManagerUtil is already a &#39;@Component&#39;. @John Williams","body":"ManagerUtil is already a &#39;@Component&#39;. @John Williams"}],"answers":[{"comments":[{"owner":{"account_id":11547989,"reputation":23,"user_id":8461462,"display_name":"desta"},"score":0,"creation_date":1681484106,"post_id":76014927,"comment_id":134068687,"body_markdown":"my bad, it should be &#39;manager&#39;. I edited that. The issue is still there. Thanks anyway","body":"my bad, it should be &#39;manager&#39;. I edited that. The issue is still there. Thanks anyway"},{"owner":{"account_id":17257556,"reputation":73,"user_id":12496320,"display_name":"reguieg younes"},"score":0,"creation_date":1698612771,"post_id":76014927,"comment_id":136424595,"body_markdown":"@desta you found answer for that or no?","body":"@desta you found answer for that or no?"}],"tags":[],"owner":{"account_id":3745976,"reputation":1103,"user_id":3114631,"display_name":"Sachin Kumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681473995,"creation_date":1681473995,"answer_id":76014927,"question_id":76014337,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m6zk4.png\r\n\r\nTry to change mappedBy with &quot;manager&quot; .\r\n\r\nThanks\r\n","title":"java - Unable to evaluate the children renderer expression Method threw &#39;java.lang.NullPointerException&#39; exception. Why it happened?","body":"<p><a href=\"https://i.stack.imgur.com/m6zk4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m6zk4.png\" alt=\"enter image description here\" /></a></p>\n<p>Try to change mappedBy with &quot;manager&quot; .</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":11547989,"reputation":23,"user_id":8461462,"display_name":"desta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681484339,"creation_date":1681469471,"question_id":76014337,"body_markdown":"I&#39;m working with a legacy code using jpa. I came accross this issue when getting the PersistentSet of EmployeeMaster Entity\r\n\r\n[![enter image description here](https://i.stack.imgur.com/PYpWD.png)](https://i.stack.imgur.com/PYpWD.png)\r\n\r\nthis is the entity that have relation to the EmployeeMaster and produce the error\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;manager&quot;)\r\npublic class Manager implements java.io.Serializable {\r\n\r\n\tprivate static final long serialVersionUID = -542406941672446211L;\r\n\tprivate Set&lt;EmployeeMaster&gt; employeeMasters = new HashSet&lt;&gt;(0);\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;manager&quot;, cascade = CascadeType.ALL)\r\n\t@JsonBackReference(value = &quot;employeeMasters&quot;)\r\n\tpublic Set&lt;EmployeeMaster&gt; getEmployeeMasters() {\r\n\t\treturn this.employeeMasters;\r\n\t}\r\n.\r\n.\r\n.\r\n}\r\n```\r\n\r\nthis is my EmployeeMaster entity\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;employee_master&quot;, uniqueConstraints = @UniqueConstraint(columnNames = { &quot;COMPANY_EMPLOYEE_ID&quot; }))\r\npublic class EmployeeMaster implements java.io.Serializable {\r\n\r\n\tprivate static final long serialVersionUID = -4956994622541532935L;\r\n\tprivate Integer employeeMasterId;\r\n\tprivate Manager manager;\r\n        \r\n.\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;manager_id&quot;)\r\n\t@JsonIgnore\r\n\tpublic Manager getManager() {\r\n\t\treturn this.manager;\r\n\t}\r\n\r\n\tpublic void setManager(Manager manager ) {\r\n\t\tthis.manager = manager;\r\n\t}\r\n       .\r\n       .\r\n       .\r\n}\r\n```\r\n\r\nAnd this is the method that call the getEmployeeMasters() that produce the error\r\n\r\n```\r\npublic ManagerEmployeesResponseModel buildResponses() {\r\n        List&lt;Manager&gt; managers = managerService.getAllEntities();\r\n        if (!ObjectUtils.isEmpty(managers)) {\r\n\t        for (Manager manager: managers) {\r\n\t               Set&lt;EmployeeMaster&gt; employeeMasters = manager.getEmployeeMasters();\r\n        .\r\n        .\r\n        .\r\n```\r\n\r\nThe error in the console only shows NPE\r\n\r\n&gt; java.lang.NullPointerException: null\r\n&gt; at org.hibernate.collection.internal.AbstractPersistentCollection.openTemporarySessionForLoading(AbstractPersistentCollection.java:298)\r\n&gt; at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:215)\r\n&gt; at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:591)\r\n&gt; at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149)\r\n&gt; at org.hibernate.collection.internal.PersistentSet.iterator(PersistentSet.java:188)\r\n&gt; at com.compcloud.core.util.rest.management.ManagerUtil.buildResponses(ManagerUtil.java:176)\r\n\r\nI need to know why is this happens and how to fix this","title":"java - Unable to evaluate the children renderer expression Method threw &#39;java.lang.NullPointerException&#39; exception. Why it happened?","body":"<p>I'm working with a legacy code using jpa. I came accross this issue when getting the PersistentSet of EmployeeMaster Entity</p>\n<p><a href=\"https://i.stack.imgur.com/PYpWD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PYpWD.png\" alt=\"enter image description here\" /></a></p>\n<p>this is the entity that have relation to the EmployeeMaster and produce the error</p>\n<pre><code>@Entity\n@Table(name = &quot;manager&quot;)\npublic class Manager implements java.io.Serializable {\n\n    private static final long serialVersionUID = -542406941672446211L;\n    private Set&lt;EmployeeMaster&gt; employeeMasters = new HashSet&lt;&gt;(0);\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;manager&quot;, cascade = CascadeType.ALL)\n    @JsonBackReference(value = &quot;employeeMasters&quot;)\n    public Set&lt;EmployeeMaster&gt; getEmployeeMasters() {\n        return this.employeeMasters;\n    }\n.\n.\n.\n}\n</code></pre>\n<p>this is my EmployeeMaster entity</p>\n<pre><code>@Entity\n@Table(name = &quot;employee_master&quot;, uniqueConstraints = @UniqueConstraint(columnNames = { &quot;COMPANY_EMPLOYEE_ID&quot; }))\npublic class EmployeeMaster implements java.io.Serializable {\n\n    private static final long serialVersionUID = -4956994622541532935L;\n    private Integer employeeMasterId;\n    private Manager manager;\n        \n.\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;manager_id&quot;)\n    @JsonIgnore\n    public Manager getManager() {\n        return this.manager;\n    }\n\n    public void setManager(Manager manager ) {\n        this.manager = manager;\n    }\n       .\n       .\n       .\n}\n</code></pre>\n<p>And this is the method that call the getEmployeeMasters() that produce the error</p>\n<pre><code>public ManagerEmployeesResponseModel buildResponses() {\n        List&lt;Manager&gt; managers = managerService.getAllEntities();\n        if (!ObjectUtils.isEmpty(managers)) {\n            for (Manager manager: managers) {\n                   Set&lt;EmployeeMaster&gt; employeeMasters = manager.getEmployeeMasters();\n        .\n        .\n        .\n</code></pre>\n<p>The error in the console only shows NPE</p>\n<blockquote>\n<p>java.lang.NullPointerException: null\nat org.hibernate.collection.internal.AbstractPersistentCollection.openTemporarySessionForLoading(AbstractPersistentCollection.java:298)\nat org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:215)\nat org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:591)\nat org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149)\nat org.hibernate.collection.internal.PersistentSet.iterator(PersistentSet.java:188)\nat com.compcloud.core.util.rest.management.ManagerUtil.buildResponses(ManagerUtil.java:176)</p>\n</blockquote>\n<p>I need to know why is this happens and how to fix this</p>\n"},{"tags":["java","udp","jsse","dtls"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1513849964,"post_id":47920596,"comment_id":82811982,"body_markdown":"Good quest6ion. DTLS isn&#39;t mentioned in the Standard Names page.","body":"Good quest6ion. DTLS isn&#39;t mentioned in the Standard Names page."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1513850834,"post_id":47920596,"comment_id":82812551,"body_markdown":"I think this is a glitch in the website; the docs packages I downloaded several years ago are different here. The table at &#39;Support Classes and Interfaces&#39; halfway down the page correctly shows only SSL3, TLS1, 1.1, 1.2 for 8 and 7, and for 6 the TLS1.1 and 1.2 are only as of 6u111 and 6u121 (i.e. on the paid plan or OpenJDK). Ditto the &#39;standard names&#39; at e.g. https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#SSLContext et pred.","body":"I think this is a glitch in the website; the docs packages I downloaded several years ago are different here. The table at &#39;Support Classes and Interfaces&#39; halfway down the page correctly shows only SSL3, TLS1, 1.1, 1.2 for 8 and 7, and for 6 the TLS1.1 and 1.2 are only as of 6u111 and 6u121 (i.e. on the paid plan or OpenJDK). Ditto the &#39;standard names&#39; at e.g. <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#SSLContext\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/security/&hellip;</a> et pred."}],"answers":[{"comments":[{"owner":{"account_id":433561,"reputation":2685,"user_id":818960,"accept_rate":100,"display_name":"osundblad"},"score":0,"creation_date":1513850972,"post_id":47922451,"comment_id":82812644,"body_markdown":"Thanks, and a follow up question: To use DTLSv1.0 I assume I should use TLSv1.1? (since there is no DTLS based on TLSv1)","body":"Thanks, and a follow up question: To use DTLSv1.0 I assume I should use TLSv1.1? (since there is no DTLS based on TLSv1)"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1513851055,"post_id":47922451,"comment_id":82812692,"body_markdown":"Choosing DTLS comes at the moment of creating the `SSLContext`.","body":"Choosing DTLS comes at the moment of creating the <code>SSLContext</code>."},{"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"score":1,"creation_date":1513851851,"post_id":47922451,"comment_id":82813224,"body_markdown":"You&#39;re assuming right, RFC 4737 which describes DTLS 1.0 says &quot;Where we do not explicitly call out differences, DTLS is the same as in [TLS11]&quot;","body":"You&#39;re assuming right, RFC 4737 which describes DTLS 1.0 says &quot;Where we do not explicitly call out differences, DTLS is the same as in [TLS11]&quot;"},{"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"score":1,"creation_date":1513852122,"post_id":47922451,"comment_id":82813413,"body_markdown":"EJP : no, check again the SSLContext.getInstance(...) methods, it&#39;s impossible at this moment. We very seldom see you give the bad answer, thanks for your great work by the way.","body":"EJP : no, check again the SSLContext.getInstance(...) methods, it&#39;s impossible at this moment. We very seldom see you give the bad answer, thanks for your great work by the way."},{"owner":{"account_id":433561,"reputation":2685,"user_id":818960,"accept_rate":100,"display_name":"osundblad"},"score":4,"creation_date":1513868699,"post_id":47922451,"comment_id":82823615,"body_markdown":"@Eug&#232;neAdell the code example you gave does not compile `factory.createSocket` does not accept a `DatagramSocket`. You don&#39;t happen to have some code that works? Thanks in advance","body":"@Eug&#232;neAdell the code example you gave does not compile <code>factory.createSocket</code> does not accept a <code>DatagramSocket</code>. You don&#39;t happen to have some code that works? Thanks in advance"},{"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"score":0,"creation_date":1513869269,"post_id":47922451,"comment_id":82823961,"body_markdown":"I haven&#39;t any code but I can take some time to make tests later. Have a look at the deprecated which is still supposed to work https://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#Socket(java.lang.String,%20int,%20boolean)","body":"I haven&#39;t any code but I can take some time to make tests later. Have a look at the deprecated which is still supposed to work <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/Socket.html#Socket(java.lang.String,%20int,%20boolean)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/net/&hellip;</a>"},{"owner":{"account_id":2703338,"reputation":464,"user_id":2333532,"display_name":"Neil Madden"},"score":0,"creation_date":1582634745,"post_id":47922451,"comment_id":106838264,"body_markdown":"Note that if you ask for &quot;TLSv1.0&quot; when calling SSLContext.getInstance, SunJSSE will interpret this as the *maximum* protocol version you want to support. You should generally just ask for &quot;TLS&quot; to let it negotiate the most recent version.","body":"Note that if you ask for &quot;TLSv1.0&quot; when calling SSLContext.getInstance, SunJSSE will interpret this as the <i>maximum</i> protocol version you want to support. You should generally just ask for &quot;TLS&quot; to let it negotiate the most recent version."},{"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"score":0,"creation_date":1582655032,"post_id":47922451,"comment_id":106849721,"body_markdown":"@NeilMadden is this documented anywhere ? I can&#39;t find it.","body":"@NeilMadden is this documented anywhere ? I can&#39;t find it."},{"owner":{"account_id":2703338,"reputation":464,"user_id":2333532,"display_name":"Neil Madden"},"score":0,"creation_date":1582717931,"post_id":47922451,"comment_id":106871877,"body_markdown":"Not documented as far as I know. I know it from bitter experience. See the source code: http://hg.openjdk.java.net/jdk/jdk/file/61ee15b9a1ac/src/java.base/share/classes/sun/security/ssl/SSLContextImpl.java#l638 Each TLSXXContext only enables protocols up to that version by default.","body":"Not documented as far as I know. I know it from bitter experience. See the source code: <a href=\"http://hg.openjdk.java.net/jdk/jdk/file/61ee15b9a1ac/src/java.base/share/classes/sun/security/ssl/SSLContextImpl.java#l638\" rel=\"nofollow noreferrer\">hg.openjdk.java.net/jdk/jdk/file/61ee15b9a1ac/src/java.base/&zwnj;&#8203;&hellip;</a> Each TLSXXContext only enables protocols up to that version by default."},{"owner":{"account_id":2371180,"reputation":2428,"user_id":2075782,"accept_rate":62,"display_name":"Paulo Oliveira"},"score":0,"creation_date":1629756962,"post_id":47922451,"comment_id":121766587,"body_markdown":"@osundbladdid you were able to find a solution?","body":"@osundbladdid you were able to find a solution?"},{"owner":{"account_id":433561,"reputation":2685,"user_id":818960,"accept_rate":100,"display_name":"osundblad"},"score":0,"creation_date":1647012510,"post_id":47922451,"comment_id":126273075,"body_markdown":"@PauloOliveira didn&#39;t see your comment until now. No I went with BouncyCastle instead","body":"@PauloOliveira didn&#39;t see your comment until now. No I went with BouncyCastle instead"}],"tags":[],"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"comment_count":11,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1513850666,"creation_date":1513850666,"answer_id":47922451,"question_id":47920596,"body_markdown":"The doc is right and you get an Exception because there is no DTLS protocol :\r\n[https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#SSLContext][1]\r\n\r\nChoosing DTLS comes at the moment of creating the socket, as it will be one of TCP or datagram types. As beginning, it will look like :\r\n\r\n    DatagramSocket s = new DatagramSocket();\r\n    ...\r\n    \r\n    final SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.0&quot;, &quot;SunJSSE&quot;);\r\n    sslContext.init(null, yourSSLTrustManager, null);\r\n    \r\n    SSLSocketFactory factory = (SSLSocketFactory)sslContext.getSocketFactory();\r\n    SSLSocket daSocket = (SSLSocket) factory.createSocket(s, host, port, false);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#SSLContext","title":"Is there a DTLS implementation in JSSE","body":"<p>The doc is right and you get an Exception because there is no DTLS protocol :\n<a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#SSLContext\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#SSLContext</a></p>\n\n<p>Choosing DTLS comes at the moment of creating the socket, as it will be one of TCP or datagram types. As beginning, it will look like :</p>\n\n<pre><code>DatagramSocket s = new DatagramSocket();\n...\n\nfinal SSLContext sslContext = SSLContext.getInstance(\"TLSv1.0\", \"SunJSSE\");\nsslContext.init(null, yourSSLTrustManager, null);\n\nSSLSocketFactory factory = (SSLSocketFactory)sslContext.getSocketFactory();\nSSLSocket daSocket = (SSLSocket) factory.createSocket(s, host, port, false);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1369771,"reputation":1668,"user_id":1305332,"accept_rate":26,"display_name":"Peter Quiring"},"score":0,"creation_date":1522374975,"post_id":49137915,"comment_id":86143254,"body_markdown":"JEP 219 adds support for DTLS &quot;BUT&quot; according to the JEP does NOT implement the actual transport-specific interfaces (see non-goals #1 of the JEP) (http://openjdk.java.net/jeps/219) So i guess we have to transport the actual data thru a standard DatagramSocket???","body":"JEP 219 adds support for DTLS &quot;BUT&quot; according to the JEP does NOT implement the actual transport-specific interfaces (see non-goals #1 of the JEP) (<a href=\"http://openjdk.java.net/jeps/219\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/219</a>) So i guess we have to transport the actual data thru a standard DatagramSocket???"}],"tags":[],"owner":{"account_id":1202323,"reputation":12075,"user_id":1172714,"display_name":"dsh"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564610985,"creation_date":1520361924,"answer_id":49137915,"question_id":47920596,"body_markdown":"DTLS is present in JavaSE 9:  [SSLContext Algorithm Names][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/specs/security/standard-names.html#sslcontext-algorithms","title":"Is there a DTLS implementation in JSSE","body":"<p>DTLS is present in JavaSE 9:  <a href=\"https://docs.oracle.com/javase/9/docs/specs/security/standard-names.html#sslcontext-algorithms\" rel=\"nofollow noreferrer\">SSLContext Algorithm Names</a></p>\n"},{"tags":[],"owner":{"account_id":7980906,"reputation":161,"user_id":6113801,"display_name":"mifritscher"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1565885185,"creation_date":1565885185,"answer_id":57512677,"question_id":47920596,"body_markdown":"You can use https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/test/jdk/javax/net/ssl/DTLS/DTLSOverDatagram.java (or https://github.com/twosigma/OpenJDK/blob/master/test/jdk/javax/net/ssl/DTLS/DTLSOverDatagram.java , its the same)\r\n\r\nFor the person which killed my previous answer because of the links: Even if the link breaks this is no problem - because at looking at the link you&#39;ll see with ease that DTLSOverDatagram is part of the official open-jdk 11 tests - so even if the link vanishes you can easily find other sources.\r\n\r\nWhile these are tests for the DTLS implementation, with little refactoring this can be used as a base for DTLS over (udp-) datagrams. For both client and server - in fact, they are almost the same.\r\n","title":"Is there a DTLS implementation in JSSE","body":"<p>You can use <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/test/jdk/javax/net/ssl/DTLS/DTLSOverDatagram.java\" rel=\"noreferrer\">https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/test/jdk/javax/net/ssl/DTLS/DTLSOverDatagram.java</a> (or <a href=\"https://github.com/twosigma/OpenJDK/blob/master/test/jdk/javax/net/ssl/DTLS/DTLSOverDatagram.java\" rel=\"noreferrer\">https://github.com/twosigma/OpenJDK/blob/master/test/jdk/javax/net/ssl/DTLS/DTLSOverDatagram.java</a> , its the same)</p>\n\n<p>For the person which killed my previous answer because of the links: Even if the link breaks this is no problem - because at looking at the link you'll see with ease that DTLSOverDatagram is part of the official open-jdk 11 tests - so even if the link vanishes you can easily find other sources.</p>\n\n<p>While these are tests for the DTLS implementation, with little refactoring this can be used as a base for DTLS over (udp-) datagrams. For both client and server - in fact, they are almost the same.</p>\n"},{"tags":[],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679926937,"creation_date":1679926937,"answer_id":75856896,"question_id":47920596,"body_markdown":"Bases on the sample from JDK and many try and error I have written the follow code which works in my use case:\r\n\r\n    public static final int      MAXIMUM_PACKET_SIZE = 1500;\r\n    private final DatagramSocket socket;\r\n    private final SSLEngine      engine;\r\n\r\n    public DtlsSocket( @Nonnull DatagramSocket socket, KeyManager km, TrustManager tm, boolean isClient ) {\r\n        try {\r\n            this.socket = socket;\r\n\r\n            SSLContext sslCtx = SSLContext.getInstance( &quot;DTLS&quot; );\r\n            KeyManager[] kms = { km };\r\n            TrustManager[] tms = { tm };\r\n            sslCtx.init( kms, tms, null );\r\n            engine = sslCtx.createSSLEngine();\r\n            engine.setNeedClientAuth( true );\r\n\r\n            engine.setUseClientMode( isClient );\r\n            SSLParameters paras = engine.getSSLParameters();\r\n            paras.setMaximumPacketSize( MAXIMUM_PACKET_SIZE );\r\n            engine.setSSLParameters( paras );\r\n\r\n            engine.beginHandshake();\r\n\r\n            byte[] receiveBytes = new byte[MAXIMUM_PACKET_SIZE];\r\n            DatagramPacket receivePacket = new DatagramPacket( receiveBytes, 0, MAXIMUM_PACKET_SIZE );\r\n            ByteBuffer receiveBuffer = ByteBuffer.wrap( receiveBytes );\r\n            receiveBuffer.limit( 0 );\r\n\r\n            ByteBuffer emptyBuffer = ByteBuffer.allocate( 0 );\r\n\r\n            byte[] sendData = new byte[32768];\r\n            DatagramPacket sendPacket = new DatagramPacket( sendData, 0, 32768 );\r\n            ByteBuffer sendBuffer = ByteBuffer.wrap( sendData );\r\n\r\n            while( true ) {\r\n                SSLEngineResult.HandshakeStatus hs = engine.getHandshakeStatus();\r\n                switch( hs ) {\r\n                    case NEED_UNWRAP:\r\n                    case NEED_UNWRAP_AGAIN:\r\n                        if( !receiveBuffer.hasRemaining() &amp;&amp; hs != SSLEngineResult.HandshakeStatus.NEED_UNWRAP_AGAIN ) {\r\n                            socket.receive( receivePacket );\r\n                            receiveBuffer.position( 0 );\r\n                            receiveBuffer.limit( receivePacket.getLength() );\r\n                        }\r\n                        checkStatus( engine.unwrap( receiveBuffer, emptyBuffer ) );\r\n                        break;\r\n                    case NEED_WRAP:\r\n                        checkStatus( engine.wrap( emptyBuffer, sendBuffer.clear() ) );\r\n                        sendPacket.setLength( sendBuffer.position() );\r\n                        socket.send( sendPacket );\r\n                        break;\r\n                    case NEED_TASK:\r\n                        Runnable runnable;\r\n                        while( (runnable = engine.getDelegatedTask()) != null ) {\r\n                            runnable.run();\r\n                        }\r\n                        break;\r\n                    case NOT_HANDSHAKING:\r\n                        return;\r\n                    default:\r\n                        // should never occur\r\n                        throw new SSLException( &quot;handshake error &quot; + hs );\r\n                }\r\n            }\r\n        } catch( Exception ex ) {\r\n            throw ErrorCode.throwAny( ex );\r\n        }\r\n    }\r\n\r\n    private void checkStatus( SSLEngineResult engineResult ) throws IOException {\r\n        if( engineResult.getStatus() != SSLEngineResult.Status.OK ) {\r\n            throw new SSLException( &quot;handshake error &quot; + engineResult.getStatus() + &quot; with handshake state &quot; + engineResult.getHandshakeStatus() );\r\n        }\r\n    }\r\n","title":"Is there a DTLS implementation in JSSE","body":"<p>Bases on the sample from JDK and many try and error I have written the follow code which works in my use case:</p>\n<pre><code>public static final int      MAXIMUM_PACKET_SIZE = 1500;\nprivate final DatagramSocket socket;\nprivate final SSLEngine      engine;\n\npublic DtlsSocket( @Nonnull DatagramSocket socket, KeyManager km, TrustManager tm, boolean isClient ) {\n    try {\n        this.socket = socket;\n\n        SSLContext sslCtx = SSLContext.getInstance( &quot;DTLS&quot; );\n        KeyManager[] kms = { km };\n        TrustManager[] tms = { tm };\n        sslCtx.init( kms, tms, null );\n        engine = sslCtx.createSSLEngine();\n        engine.setNeedClientAuth( true );\n\n        engine.setUseClientMode( isClient );\n        SSLParameters paras = engine.getSSLParameters();\n        paras.setMaximumPacketSize( MAXIMUM_PACKET_SIZE );\n        engine.setSSLParameters( paras );\n\n        engine.beginHandshake();\n\n        byte[] receiveBytes = new byte[MAXIMUM_PACKET_SIZE];\n        DatagramPacket receivePacket = new DatagramPacket( receiveBytes, 0, MAXIMUM_PACKET_SIZE );\n        ByteBuffer receiveBuffer = ByteBuffer.wrap( receiveBytes );\n        receiveBuffer.limit( 0 );\n\n        ByteBuffer emptyBuffer = ByteBuffer.allocate( 0 );\n\n        byte[] sendData = new byte[32768];\n        DatagramPacket sendPacket = new DatagramPacket( sendData, 0, 32768 );\n        ByteBuffer sendBuffer = ByteBuffer.wrap( sendData );\n\n        while( true ) {\n            SSLEngineResult.HandshakeStatus hs = engine.getHandshakeStatus();\n            switch( hs ) {\n                case NEED_UNWRAP:\n                case NEED_UNWRAP_AGAIN:\n                    if( !receiveBuffer.hasRemaining() &amp;&amp; hs != SSLEngineResult.HandshakeStatus.NEED_UNWRAP_AGAIN ) {\n                        socket.receive( receivePacket );\n                        receiveBuffer.position( 0 );\n                        receiveBuffer.limit( receivePacket.getLength() );\n                    }\n                    checkStatus( engine.unwrap( receiveBuffer, emptyBuffer ) );\n                    break;\n                case NEED_WRAP:\n                    checkStatus( engine.wrap( emptyBuffer, sendBuffer.clear() ) );\n                    sendPacket.setLength( sendBuffer.position() );\n                    socket.send( sendPacket );\n                    break;\n                case NEED_TASK:\n                    Runnable runnable;\n                    while( (runnable = engine.getDelegatedTask()) != null ) {\n                        runnable.run();\n                    }\n                    break;\n                case NOT_HANDSHAKING:\n                    return;\n                default:\n                    // should never occur\n                    throw new SSLException( &quot;handshake error &quot; + hs );\n            }\n        }\n    } catch( Exception ex ) {\n        throw ErrorCode.throwAny( ex );\n    }\n}\n\nprivate void checkStatus( SSLEngineResult engineResult ) throws IOException {\n    if( engineResult.getStatus() != SSLEngineResult.Status.OK ) {\n        throw new SSLException( &quot;handshake error &quot; + engineResult.getStatus() + &quot; with handshake state &quot; + engineResult.getHandshakeStatus() );\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":433561,"reputation":2685,"user_id":818960,"accept_rate":100,"display_name":"osundblad"},"score":0,"creation_date":1681799464,"post_id":76016304,"comment_id":134110501,"body_markdown":"Yes that is an option but that is not what my question was about &#129300;. It was about not using any library. And in my case IoT a native lib was completely out of the question. But thanks for the tip.","body":"Yes that is an option but that is not what my question was about 🤔. It was about not using any library. And in my case IoT a native lib was completely out of the question. But thanks for the tip."}],"tags":[],"owner":{"account_id":476725,"reputation":131,"user_id":887784,"display_name":"szymex"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681483320,"creation_date":1681483320,"answer_id":76016304,"question_id":47920596,"body_markdown":"Another option is to use DTLS from native library like mbedtls. \r\nHere is a library that exposes kotlin (java compatible) API: https://github.com/open-coap/kotlin-mbedtls.","title":"Is there a DTLS implementation in JSSE","body":"<p>Another option is to use DTLS from native library like mbedtls.\nHere is a library that exposes kotlin (java compatible) API: <a href=\"https://github.com/open-coap/kotlin-mbedtls\" rel=\"nofollow noreferrer\">https://github.com/open-coap/kotlin-mbedtls</a>.</p>\n"}],"owner":{"account_id":433561,"reputation":2685,"user_id":818960,"accept_rate":100,"display_name":"osundblad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5836,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":47922451,"answer_count":5,"score":4,"last_activity_date":1681483320,"creation_date":1513843849,"question_id":47920596,"body_markdown":"I want to implement a DTLS 1.0 client in Java and after *googling* a bit I found that the [JSSERefGuide][1] says the following:\r\n\r\n&gt; The JSSE API is capable of supporting SSL versions 2.0 and 3.0 and TLS\r\n&gt; version 1.0. These security protocols encapsulate a normal\r\n&gt; bidirectional stream socket, and the JSSE API adds transparent support\r\n&gt; for authentication, encryption, and integrity protection. **The JSSE\r\n&gt; implementation shipped with the JDK supports SSL 3.0, TLS (1.0, 1.1,\r\n&gt; and 1.2) and DTLS (version 1.0 and 1.2).** It does not implement SSL\r\n&gt; 2.0.\r\n\r\nSo I thought I could implement it in pure Java without using any library (e.g. BouncyCastle)\r\n\r\nBut when I try running (and a few other, like DTLSv1.2, DTLSv1...):\r\n\r\n    final SSLContext sslContext = SSLContext.getInstance(&quot;DTLSv1.0&quot;, &quot;SunJSSE&quot;);\r\n\r\nIt throws:\r\n\r\n    Exception in thread &quot;main&quot; java.security.NoSuchAlgorithmException: no such algorithm: DTLSv1.0 for provider SunJSSE\r\n\tat sun.security.jca.GetInstance.getService(GetInstance.java:87)\r\n\tat sun.security.jca.GetInstance.getInstance(GetInstance.java:206)\r\n\tat javax.net.ssl.SSLContext.getInstance(SSLContext.java:199)\r\n\r\nwhile for example the following works:\r\n\r\n    final SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;, &quot;SunJSSE&quot;);\r\n\r\nListing all Security Providers I find no DTLS stuff at all.\r\n\r\nSo is there actually a DTLS implementation? And if so how are you supposed to use it? \r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html\r\n","title":"Is there a DTLS implementation in JSSE","body":"<p>I want to implement a DTLS 1.0 client in Java and after <em>googling</em> a bit I found that the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html\" rel=\"nofollow noreferrer\">JSSERefGuide</a> says the following:</p>\n\n<blockquote>\n  <p>The JSSE API is capable of supporting SSL versions 2.0 and 3.0 and TLS\n  version 1.0. These security protocols encapsulate a normal\n  bidirectional stream socket, and the JSSE API adds transparent support\n  for authentication, encryption, and integrity protection. <strong>The JSSE\n  implementation shipped with the JDK supports SSL 3.0, TLS (1.0, 1.1,\n  and 1.2) and DTLS (version 1.0 and 1.2).</strong> It does not implement SSL\n  2.0.</p>\n</blockquote>\n\n<p>So I thought I could implement it in pure Java without using any library (e.g. BouncyCastle)</p>\n\n<p>But when I try running (and a few other, like DTLSv1.2, DTLSv1...):</p>\n\n<pre><code>final SSLContext sslContext = SSLContext.getInstance(\"DTLSv1.0\", \"SunJSSE\");\n</code></pre>\n\n<p>It throws:</p>\n\n<pre><code>Exception in thread \"main\" java.security.NoSuchAlgorithmException: no such algorithm: DTLSv1.0 for provider SunJSSE\nat sun.security.jca.GetInstance.getService(GetInstance.java:87)\nat sun.security.jca.GetInstance.getInstance(GetInstance.java:206)\nat javax.net.ssl.SSLContext.getInstance(SSLContext.java:199)\n</code></pre>\n\n<p>while for example the following works:</p>\n\n<pre><code>final SSLContext sslContext = SSLContext.getInstance(\"TLSv1.2\", \"SunJSSE\");\n</code></pre>\n\n<p>Listing all Security Providers I find no DTLS stuff at all.</p>\n\n<p>So is there actually a DTLS implementation? And if so how are you supposed to use it? </p>\n"},{"tags":["java","file","nio"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1681473681,"post_id":76014873,"comment_id":134066045,"body_markdown":"what does file1.createNewFile(); return?","body":"what does file1.createNewFile(); return?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1681473754,"post_id":76014873,"comment_id":134066066,"body_markdown":"does this line actually compile? File file1 = new File(File(&quot;src/main/resources/&quot;).getAbsolutePath() + &quot;/&quot; + &quot;local&quot; + &quot;/&quot; + &quot;newFile.zip&quot;);","body":"does this line actually compile? File file1 = new File(File(&quot;src/main/resources/&quot;).getAbsolutePath() + &quot;/&quot; + &quot;local&quot; + &quot;/&quot; + &quot;newFile.zip&quot;);"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1681473849,"post_id":76014873,"comment_id":134066097,"body_markdown":"You cannot. There is no `src/main/resources` at runtime as that is the classpath and you cannot modify the classpath. So even if this would work in your IDE, it would fail in your actual application and start throwing exceptions. Use the tmp directory or a directory outside of the classpath instead.","body":"You cannot. There is no <code>src&#47;main&#47;resources</code> at runtime as that is the classpath and you cannot modify the classpath. So even if this would work in your IDE, it would fail in your actual application and start throwing exceptions. Use the tmp directory or a directory outside of the classpath instead."},{"owner":{"account_id":3745976,"reputation":1103,"user_id":3114631,"display_name":"Sachin Kumar"},"score":0,"creation_date":1681474057,"post_id":76014873,"comment_id":134066148,"body_markdown":"try to create complete folder structure and then try your code.","body":"try to create complete folder structure and then try your code."},{"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"score":0,"creation_date":1681474302,"post_id":76014873,"comment_id":134066220,"body_markdown":"Stultuske,  it return false","body":"Stultuske,  it return false"},{"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"score":0,"creation_date":1681474404,"post_id":76014873,"comment_id":134066243,"body_markdown":"Sachin Kumar, I don&#39;t understand you clearly. Do you mean, I should create folder &quot;local&quot; in resources first, and then create files ?","body":"Sachin Kumar, I don&#39;t understand you clearly. Do you mean, I should create folder &quot;local&quot; in resources first, and then create files ?"},{"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"score":0,"creation_date":1681474695,"post_id":76014873,"comment_id":134066316,"body_markdown":"M.Deinum, you mean, I need to create new folder in the root of my project ?","body":"M.Deinum, you mean, I need to create new folder in the root of my project ?"},{"owner":{"account_id":8131790,"reputation":4798,"user_id":6124796,"accept_rate":69,"display_name":"Mayday"},"score":0,"creation_date":1681474805,"post_id":76014873,"comment_id":134066339,"body_markdown":"I guess getting the `new File(&quot;src/main/resources/&quot;) ` is not found, therefor, is useless to get absolute path from there. Try writing directly the full path, and if it works, try to get the current working dir, and carry on from there","body":"I guess getting the <code>new File(&quot;src&#47;main&#47;resources&#47;&quot;) </code> is not found, therefor, is useless to get absolute path from there. Try writing directly the full path, and if it works, try to get the current working dir, and carry on from there"},{"owner":{"account_id":22112469,"reputation":74,"user_id":16367144,"display_name":"SquidXTV"},"score":0,"creation_date":1681475034,"post_id":76014873,"comment_id":134066399,"body_markdown":"Why are you not using NIO `Files.createFile()` instead?","body":"Why are you not using NIO <code>Files.createFile()</code> instead?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1681479648,"post_id":76014873,"comment_id":134067516,"body_markdown":"As people have already correctly said, you shouldn&#39;t be using any paths which are particular to your project/IDE. When your app is properly packaged, you cannot know from where it will be run. You therefore need to use a directory off `java.io.tmpdir` or `user.home`. Moreover, resources are read-only, so why are you writing to a resource location at all?","body":"As people have already correctly said, you shouldn&#39;t be using any paths which are particular to your project/IDE. When your app is properly packaged, you cannot know from where it will be run. You therefore need to use a directory off <code>java.io.tmpdir</code> or <code>user.home</code>. Moreover, resources are read-only, so why are you writing to a resource location at all?"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681483273,"creation_date":1681483273,"answer_id":76016301,"question_id":76014873,"body_markdown":"A program should *never* attempt to modify itself.\r\n\r\n* The `src/main/resources` directory is called “source” for a reason.  Source code is compiled into a separate program.  The program only contains the executable program (class files and data), not the source.\r\n* Java programs are distributed as .jar files (or jlink’d images made from .jar files).  A .jar file is **one file,** specifically an archive file, and its individual entries are not files and are not writable.\r\n\r\nIn summary:  when other people run your code, there is nothing you can modify.\r\n\r\nThe correct way to persist user data is to write it to a [known location](https://stackoverflow.com/questions/35388882/find-place-for-dedicated-application-folder), usually somewhere under the user’s home directory.\r\n\r\nIt is perfectly acceptable to keep *read-only default data* bundled with your application, which gets used if the file in the user’s known location isn’t found.\r\n","title":"Create new file in resource directory","body":"<p>A program should <em>never</em> attempt to modify itself.</p>\n<ul>\n<li>The <code>src/main/resources</code> directory is called “source” for a reason.  Source code is compiled into a separate program.  The program only contains the executable program (class files and data), not the source.</li>\n<li>Java programs are distributed as .jar files (or jlink’d images made from .jar files).  A .jar file is <strong>one file,</strong> specifically an archive file, and its individual entries are not files and are not writable.</li>\n</ul>\n<p>In summary:  when other people run your code, there is nothing you can modify.</p>\n<p>The correct way to persist user data is to write it to a <a href=\"https://stackoverflow.com/questions/35388882/find-place-for-dedicated-application-folder\">known location</a>, usually somewhere under the user’s home directory.</p>\n<p>It is perfectly acceptable to keep <em>read-only default data</em> bundled with your application, which gets used if the file in the user’s known location isn’t found.</p>\n"}],"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1681483273,"creation_date":1681473599,"question_id":76014873,"body_markdown":"The task is to create a new file in the existing resource folder (named &quot;local&quot;, for example)\r\n\r\n      File file1 = new File(&quot;src/main/resources/&quot; + &quot;local&quot; + &quot;/&quot; + &quot;newFile.zip&quot;);\r\n      file1.createNewFile();\r\n\r\nBut nothing is created. And no exception is thrown.\r\n\r\nI tried also create, by using absolute path. \r\n\r\n     File file1 = new File(File(&quot;src/main/resources/&quot;).getAbsolutePath() + &quot;/&quot; + &quot;local&quot; + &quot;/&quot; + &quot;newFile.zip&quot;);\r\n      file1.createNewFile();\r\n\r\nBut with the same result.\r\n\r\nWhat am I doing wrong?\r\n\r\n\r\n\r\n\r\n\r\n   ","title":"Create new file in resource directory","body":"<p>The task is to create a new file in the existing resource folder (named &quot;local&quot;, for example)</p>\n<pre><code>  File file1 = new File(&quot;src/main/resources/&quot; + &quot;local&quot; + &quot;/&quot; + &quot;newFile.zip&quot;);\n  file1.createNewFile();\n</code></pre>\n<p>But nothing is created. And no exception is thrown.</p>\n<p>I tried also create, by using absolute path.</p>\n<pre><code> File file1 = new File(File(&quot;src/main/resources/&quot;).getAbsolutePath() + &quot;/&quot; + &quot;local&quot; + &quot;/&quot; + &quot;newFile.zip&quot;);\n  file1.createNewFile();\n</code></pre>\n<p>But with the same result.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","excel","charts","itext","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1678693034,"post_id":75718499,"comment_id":133575868,"body_markdown":"What Apache POI version used?","body":"What Apache POI version used?"},{"owner":{"account_id":22868957,"reputation":1,"user_id":17012271,"display_name":"Mohamed Khalid"},"score":0,"creation_date":1678764126,"post_id":75718499,"comment_id":133592714,"body_markdown":"Actually i have used two apache versions in different classes like poi-3.17 and poi-5.2.3 but didn&#39;t get anything.","body":"Actually i have used two apache versions in different classes like poi-3.17 and poi-5.2.3 but didn&#39;t get anything."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1678769438,"post_id":75718499,"comment_id":133593332,"body_markdown":"[XSSFChart](https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFChart.html) -&gt; [XDDFChart.getChartSeries](https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChart.html#getChartSeries--) -&gt; [XDDFChartData](https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChartData.html)","body":"<a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFChart.html\" rel=\"nofollow noreferrer\">XSSFChart</a> -&gt; <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChart.html#getChartSeries--\" rel=\"nofollow noreferrer\">XDDFChart.getChartSeries</a> -&gt; <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChartData.html\" rel=\"nofollow noreferrer\">XDDFChartData</a>"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1678769451,"post_id":75718499,"comment_id":133593334,"body_markdown":"... then, dependent of what chart data you got, get axes and series -&gt; [XDDFChartData.getCategoryAxis](https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChartData.html#getCategoryAxis--), [XDDFChartData.getValueAxes](https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChartData.html#getValueAxes--) and  [XDDFChartData.getSeries](https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChartData.html#getSeries-int-)","body":"... then, dependent of what chart data you got, get axes and series -&gt; <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChartData.html#getCategoryAxis--\" rel=\"nofollow noreferrer\">XDDFChartData.getCategoryAxis</a>, <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChartData.html#getValueAxes--\" rel=\"nofollow noreferrer\">XDDFChartData.getValueAxes</a> and  <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChartData.html#getSeries-int-\" rel=\"nofollow noreferrer\">XDDFChartData.getSeries</a>"}],"owner":{"account_id":22868957,"reputation":1,"user_id":17012271,"display_name":"Mohamed Khalid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681483197,"creation_date":1678687612,"question_id":75718499,"body_markdown":"I have an Excel file that has charts.\r\nI want to read that chart and add that charts to pdf using Java.\r\nHow can I do that?\r\n\r\nI tried different classes of apache poi like XSSFChart, and XSSFChartData but didn&#39;t get anything.","title":"How to get chart data from excel file using apache poi in java?","body":"<p>I have an Excel file that has charts.\nI want to read that chart and add that charts to pdf using Java.\nHow can I do that?</p>\n<p>I tried different classes of apache poi like XSSFChart, and XSSFChartData but didn't get anything.</p>\n"},{"tags":["java","spring-webflux","junit5"],"comments":[{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":0,"creation_date":1609858321,"post_id":65581067,"comment_id":115949354,"body_markdown":"is it possible for you to share what `sendHttpRequestToSomewhere` does?","body":"is it possible for you to share what <code>sendHttpRequestToSomewhere</code> does?"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1609875337,"post_id":65581067,"comment_id":115957148,"body_markdown":"yup, updated :)","body":"yup, updated :)"}],"answers":[{"tags":[],"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609879577,"creation_date":1609879577,"answer_id":65586329,"question_id":65581067,"body_markdown":"I&#39;m not sure why your test is failing, though it looks to me as if the stubbed out exchange filter is not working the way it should. As a result, it is trying to make an api call when it shouldn&#39;t.\r\n\r\nBelow is an example unit test using the same mechanism you have used to stub out a web client call. I can verify this test passes as expected. This may provide some help in working out why your test is having an issue.\r\n\r\n    @Test\r\n    void webClientTest() {\r\n        WebClient webClient = WebClient.builder()\r\n                .exchangeFunction(clientRequest -&gt;\r\n                        Mono.just(ClientResponse.create(HttpStatus.OK)\r\n                                .header(&quot;content-type&quot;, &quot;application/json&quot;)\r\n                                .body(&quot;test&quot;)\r\n                                .build())\r\n                ).build();\r\n\r\n        Mono&lt;String&gt; stringMono = webClient.mutate().baseUrl(&quot;http://fakeUrl.com&quot;)\r\n                .build()\r\n                .post()\r\n                .body(BodyInserters.fromValue(&quot;abc&quot;))\r\n                .retrieve()\r\n                .bodyToMono(String.class);\r\n\r\n        StepVerifier.create(stringMono)\r\n                .expectNext(&quot;test&quot;)\r\n                .verifyComplete();\r\n    }","title":"org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: /0:0:0:0:0:0:0:1:80;","body":"<p>I'm not sure why your test is failing, though it looks to me as if the stubbed out exchange filter is not working the way it should. As a result, it is trying to make an api call when it shouldn't.</p>\n<p>Below is an example unit test using the same mechanism you have used to stub out a web client call. I can verify this test passes as expected. This may provide some help in working out why your test is having an issue.</p>\n<pre><code>@Test\nvoid webClientTest() {\n    WebClient webClient = WebClient.builder()\n            .exchangeFunction(clientRequest -&gt;\n                    Mono.just(ClientResponse.create(HttpStatus.OK)\n                            .header(&quot;content-type&quot;, &quot;application/json&quot;)\n                            .body(&quot;test&quot;)\n                            .build())\n            ).build();\n\n    Mono&lt;String&gt; stringMono = webClient.mutate().baseUrl(&quot;http://fakeUrl.com&quot;)\n            .build()\n            .post()\n            .body(BodyInserters.fromValue(&quot;abc&quot;))\n            .retrieve()\n            .bodyToMono(String.class);\n\n    StepVerifier.create(stringMono)\n            .expectNext(&quot;test&quot;)\n            .verifyComplete();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":138670,"reputation":5671,"user_id":343759,"accept_rate":70,"display_name":"rewolf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609921879,"creation_date":1609921879,"answer_id":65592487,"question_id":65581067,"body_markdown":"Instead of that, create `WebClient` double that points to a `MockWebServer`.\r\n\r\nSee this post https://www.baeldung.com/spring-mocking-webclient\r\n\r\n`MockWebServer` makes it really ease to stub any responses for testing.\r\n\r\nIf you need to talk to multiple endpoints, it&#39;s common to create a different `WebClient` instance per base URL. That way you wouldn&#39;t be mutating the WebClient in the methods that use it.  Consumers of that WebClient dependency would just specify the path they need to call. So then, when passing in a test double, it would be set up with a base url pointing the MockWebServer and the consuming class (under test) wouldn&#39;t know any different.","title":"org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: /0:0:0:0:0:0:0:1:80;","body":"<p>Instead of that, create <code>WebClient</code> double that points to a <code>MockWebServer</code>.</p>\n<p>See this post <a href=\"https://www.baeldung.com/spring-mocking-webclient\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-mocking-webclient</a></p>\n<p><code>MockWebServer</code> makes it really ease to stub any responses for testing.</p>\n<p>If you need to talk to multiple endpoints, it's common to create a different <code>WebClient</code> instance per base URL. That way you wouldn't be mutating the WebClient in the methods that use it.  Consumers of that WebClient dependency would just specify the path they need to call. So then, when passing in a test double, it would be set up with a base url pointing the MockWebServer and the consuming class (under test) wouldn't know any different.</p>\n"},{"comments":[{"owner":{"account_id":146322,"reputation":392,"user_id":356700,"display_name":"johncurrier"},"score":0,"creation_date":1683676654,"post_id":76016202,"comment_id":134402444,"body_markdown":"Thanks for that detail. That was the source of my grief.","body":"Thanks for that detail. That was the source of my grief."}],"tags":[],"owner":{"account_id":8342762,"reputation":950,"user_id":6267583,"accept_rate":100,"display_name":"morecore"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1681482738,"creation_date":1681482738,"answer_id":76016202,"question_id":65581067,"body_markdown":"Unrelated to you Problem, but maybe it helps someone that steps into the same trap as I did (although you might know this, as I actually did).\r\n\r\nAs stated in multiple tutorials, you have to pay close attention to the version of `.uri(...)` method you use.\r\n\r\nMore details about the `uri(...)` versions can be found in the Spring API: [WebClient.UriSpec][1]\r\n\r\nIf you use e.g. `.uri(URI)` you are overwriting any URL that you might have specified early (using e.g. `.baseUrl(&quot;http://localhost:8888&quot;)`), so if you just want to **append** a path (e.g. `/my-service/booking`) to your base url you must not use this overloaded method, otherwise you will miss the `host` and/or `port`, hence the above mentioned error message.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.UriSpec.html#uri(java.net.URI)","title":"org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: /0:0:0:0:0:0:0:1:80;","body":"<p>Unrelated to you Problem, but maybe it helps someone that steps into the same trap as I did (although you might know this, as I actually did).</p>\n<p>As stated in multiple tutorials, you have to pay close attention to the version of <code>.uri(...)</code> method you use.</p>\n<p>More details about the <code>uri(...)</code> versions can be found in the Spring API: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.UriSpec.html#uri(java.net.URI)\" rel=\"nofollow noreferrer\">WebClient.UriSpec</a></p>\n<p>If you use e.g. <code>.uri(URI)</code> you are overwriting any URL that you might have specified early (using e.g. <code>.baseUrl(&quot;http://localhost:8888&quot;)</code>), so if you just want to <strong>append</strong> a path (e.g. <code>/my-service/booking</code>) to your base url you must not use this overloaded method, otherwise you will miss the <code>host</code> and/or <code>port</code>, hence the above mentioned error message.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24824,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76016202,"answer_count":3,"score":3,"last_activity_date":1681482738,"creation_date":1609857827,"question_id":65581067,"body_markdown":"Small question on unit test with Junit5 + Spring WebClient please.\r\n\r\nI have a basic ```@Service``` class with an ```@Autowired``` WebClient.\r\n\r\n```\r\n@Autowired private final WebClient webClient;\r\nprivate MyAtServiceClass(WebClient webClient) {\r\n this.webClient = webClient;\r\n}\r\n\r\n    public Mono&lt;MyPojo&gt; sendHttpRequestToSomewhere(String payload) {\r\n        return webClient.mutate().baseUrl(&quot;http://...&quot;).build().post().body(BodyInserters.fromValue(payload)).retrieve().bodyToMono(MyPojo.class);\r\n    }\r\n```\r\nSince I just want to unit test, I am doing some “mock” with the following in my test class:\r\n\r\n```\r\nString payload = getSomeHardedCodedJsonPayload();\r\nWebClient webClient = WebClient.builder()\r\n        .exchangeFunction(clientRequest -&gt;\r\n                Mono.just(ClientResponse.create(HttpStatus.OK)\r\n                        .header(&quot;content-type&quot;, &quot;application/json&quot;)\r\n                        .body(payload)\r\n                        .build())\r\n        ).build();\r\n\r\nMyAtServiceClass myAtServiceClass     = new MyAtServiceClass(webClient);\r\nMono&lt;MyPojo&gt; mono = myAtServiceClass.sendHttpRequestToSomewhere();\r\nassertEquals(“foo”, mono.block().getFoo());\r\n```\r\n\r\nHowever, when I am running the unit test, expecting it to just return me my dummy, I am getting the connection refused exception below.\r\n\r\nWhat would be the root cause please?\r\n\r\n```\r\norg.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: /0:0:0:0:0:0:0:1:80; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0:0:0:0:0:0:0:1:80\r\n\r\n\tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:137)\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t|_ checkpoint ⇢ Request to POST /somewhere [DefaultWebClient]\r\nStack trace:\r\n\t\tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:137)\r\n\t\tat reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:70)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4046)\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\r\n\t\tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)\r\n\t\tat reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:224)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:273)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:413)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:250)\r\n\t\tat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:491)\r\n\t\tat reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:299)\r\n\t\tat reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:97)\r\n\t\tat reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:189)\r\n\t\tat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:189)\r\n\t\tat reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:306)\r\n\t\tat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:189)\r\n\t\tat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:166)\r\n\t\tat reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:427)\r\n\t\tat reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$5(SimpleDequePool.java:310)\r\n\t\tat reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186)\r\n\t\tat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:189)\r\n\t\tat reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:565)\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192)\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259)\r\n\t\tat reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:464)\r\n\t\tat reactor.netty.transport.TransportConnector$MonoChannelPromise$1.tryFailure(TransportConnector.java:515)\r\n\t\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:321)\r\n\t\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:337)\r\n\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\r\n\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n\t\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\tSuppressed: java.lang.Exception: #block terminated with an error\r\n\t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n\t\tat reactor.core.publisher.Mono.block(Mono.java:1703)\r\n\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\t\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\t\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\t\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\t\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\r\n\t\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\r\nCaused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0:0:0:0:0:0:0:1:80\r\nCaused by: java.net.ConnectException: Connection refused\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:779)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\r\n\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\nAbove is the entire stack trace.\r\n\r\nThank you","title":"org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: /0:0:0:0:0:0:0:1:80;","body":"<p>Small question on unit test with Junit5 + Spring WebClient please.</p>\n<p>I have a basic <code>@Service</code> class with an <code>@Autowired</code> WebClient.</p>\n<pre><code>@Autowired private final WebClient webClient;\nprivate MyAtServiceClass(WebClient webClient) {\n this.webClient = webClient;\n}\n\n    public Mono&lt;MyPojo&gt; sendHttpRequestToSomewhere(String payload) {\n        return webClient.mutate().baseUrl(&quot;http://...&quot;).build().post().body(BodyInserters.fromValue(payload)).retrieve().bodyToMono(MyPojo.class);\n    }\n</code></pre>\n<p>Since I just want to unit test, I am doing some “mock” with the following in my test class:</p>\n<pre><code>String payload = getSomeHardedCodedJsonPayload();\nWebClient webClient = WebClient.builder()\n        .exchangeFunction(clientRequest -&gt;\n                Mono.just(ClientResponse.create(HttpStatus.OK)\n                        .header(&quot;content-type&quot;, &quot;application/json&quot;)\n                        .body(payload)\n                        .build())\n        ).build();\n\nMyAtServiceClass myAtServiceClass     = new MyAtServiceClass(webClient);\nMono&lt;MyPojo&gt; mono = myAtServiceClass.sendHttpRequestToSomewhere();\nassertEquals(“foo”, mono.block().getFoo());\n</code></pre>\n<p>However, when I am running the unit test, expecting it to just return me my dummy, I am getting the connection refused exception below.</p>\n<p>What would be the root cause please?</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: /0:0:0:0:0:0:0:1:80; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0:0:0:0:0:0:0:1:80\n\n    at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:137)\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    |_ checkpoint ⇢ Request to POST /somewhere [DefaultWebClient]\nStack trace:\n        at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:137)\n        at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:70)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4046)\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n        at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\n        at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)\n        at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:224)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:273)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:413)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:250)\n        at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:491)\n        at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:299)\n        at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:97)\n        at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:189)\n        at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:189)\n        at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:306)\n        at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:189)\n        at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:166)\n        at reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:427)\n        at reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$5(SimpleDequePool.java:310)\n        at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186)\n        at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:189)\n        at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:565)\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192)\n        at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259)\n        at reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:464)\n        at reactor.netty.transport.TransportConnector$MonoChannelPromise$1.tryFailure(TransportConnector.java:515)\n        at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:321)\n        at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:337)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n        at reactor.core.publisher.Mono.block(Mono.java:1703)\n\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n        at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n        at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n        at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n        at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\n        at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\nCaused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0:0:0:0:0:0:0:1:80\nCaused by: java.net.ConnectException: Connection refused\n    at java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\n    at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:779)\n    at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>Above is the entire stack trace.</p>\n<p>Thank you</p>\n"},{"tags":["java","android","compiler-errors","annotations","android-developer-api"],"owner":{"account_id":28305436,"reputation":1,"user_id":21643520,"display_name":"student"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681482284,"creation_date":1681482284,"question_id":76016122,"body_markdown":"\r\n```\r\nimport androidx.annotation.AttrRes;  \r\nimport androidx.annotation.ColorInt;\r\nimport androidx.annotation.IntRange;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.annotation.UnsupportedAppUsage; \r\n```\r\n\r\nSo these are the lines of the code that are giving me errors.\r\nAttrRes,ColorInt etc. are shown as marked red.\r\nI tried some methods to solve this by checking my SDK, and by using this particular implementation in dependencies:\r\n\r\n```\r\nimplementation &#39;androidx.annotation:annotation:1.6.0&#39;\r\n\r\n```\r\n\r\nbut still nothing is working out. I&#39;m a student who is still learning android , it would be helpful if someone helps me to fix this.\r\n\r\nI tried some methods to solve this by checking my SDK, and by using this particular implementation in dependencies:\r\nimplementation &#39;androidx.annotation:annotation:1.6.0&#39;\r\n\r\nbut still nothing is working out. I&#39;m a student who is still learning android , it would be helpful if someone helps me to fix this.","title":"Annotation error in my android studio code","body":"<pre><code>import androidx.annotation.AttrRes;  \nimport androidx.annotation.ColorInt;\nimport androidx.annotation.IntRange;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.annotation.UnsupportedAppUsage; \n</code></pre>\n<p>So these are the lines of the code that are giving me errors.\nAttrRes,ColorInt etc. are shown as marked red.\nI tried some methods to solve this by checking my SDK, and by using this particular implementation in dependencies:</p>\n<pre><code>implementation 'androidx.annotation:annotation:1.6.0'\n\n</code></pre>\n<p>but still nothing is working out. I'm a student who is still learning android , it would be helpful if someone helps me to fix this.</p>\n<p>I tried some methods to solve this by checking my SDK, and by using this particular implementation in dependencies:\nimplementation 'androidx.annotation:annotation:1.6.0'</p>\n<p>but still nothing is working out. I'm a student who is still learning android , it would be helpful if someone helps me to fix this.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1681461033,"post_id":76012659,"comment_id":134063229,"body_markdown":"Can you share the error/Exception?","body":"Can you share the error/Exception?"}],"answers":[{"comments":[{"owner":{"account_id":28301919,"reputation":15,"user_id":21640486,"display_name":"Jocken"},"score":0,"creation_date":1681462686,"post_id":76012842,"comment_id":134063615,"body_markdown":"thank you so much! It works while using this. Great and quick answer.","body":"thank you so much! It works while using this. Great and quick answer."}],"tags":[],"owner":{"account_id":1437244,"reputation":1134,"user_id":1358344,"accept_rate":100,"display_name":"Berkay Kirmizioglu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681459403,"creation_date":1681459403,"answer_id":76012842,"question_id":76012659,"body_markdown":"In some cases, the click action may not work properly due to various reasons, such as the element being obscured by another element, or JavaScript event listeners not being triggered. \r\nIn such cases, you can try using JavaScriptExecutor to perform the click action. In such cases, you can try using JavaScriptExecutor to perform the click action. Here&#39;s an example of how to do that with your current code:\r\n\r\n    import org.openqa.selenium.JavascriptExecutor;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.By;\r\n    \r\n    // Assuming &#39;driver&#39; is your initialized WebDriver instance\r\n    WebElement buttonElement = driver.findElement(By.cssSelector(&quot;.tm-visible &gt; .tm-element .tm-columns .tm-button&quot;));\r\n    \r\n    // Use JavaScriptExecutor to perform the click action\r\n    JavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\r\n    jsExecutor.executeScript(&quot;arguments[0].click();&quot;, buttonElement);\r\n\r\n","title":"Selenium Java - Find Element &amp; Click","body":"<p>In some cases, the click action may not work properly due to various reasons, such as the element being obscured by another element, or JavaScript event listeners not being triggered.\nIn such cases, you can try using JavaScriptExecutor to perform the click action. In such cases, you can try using JavaScriptExecutor to perform the click action. Here's an example of how to do that with your current code:</p>\n<pre><code>import org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.By;\n\n// Assuming 'driver' is your initialized WebDriver instance\nWebElement buttonElement = driver.findElement(By.cssSelector(&quot;.tm-visible &gt; .tm-element .tm-columns .tm-button&quot;));\n\n// Use JavaScriptExecutor to perform the click action\nJavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\njsExecutor.executeScript(&quot;arguments[0].click();&quot;, buttonElement);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681461867,"creation_date":1681461867,"answer_id":76013159,"question_id":76012659,"body_markdown":"The `HTML` you provided, I can see the button you want to click has a class attribute of `tm-button`. So you can try below ways:\r\n\r\n***Using Xpath***\r\n\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    WebElement button = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a[contains(@class, &#39;tm-button&#39;)]&quot;)));\r\n    button.click();\r\n\r\n***CSS Selector***\r\n\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    WebElement button = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;.tm-button&quot;)));\r\n    button.click();\r\n\r\n***Using className***\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    WebElement button = wait.until(ExpectedConditions.elementToBeClickable(By.className(&quot;tm-button&quot;)));\r\n    button.click();\r\n\r\n***Import*** \r\n\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\nHope this will solve your issue.","title":"Selenium Java - Find Element &amp; Click","body":"<p>The <code>HTML</code> you provided, I can see the button you want to click has a class attribute of <code>tm-button</code>. So you can try below ways:</p>\n<p><em><strong>Using Xpath</strong></em></p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nWebElement button = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a[contains(@class, 'tm-button')]&quot;)));\nbutton.click();\n</code></pre>\n<p><em><strong>CSS Selector</strong></em></p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nWebElement button = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;.tm-button&quot;)));\nbutton.click();\n</code></pre>\n<p><em><strong>Using className</strong></em></p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nWebElement button = wait.until(ExpectedConditions.elementToBeClickable(By.className(&quot;tm-button&quot;)));\nbutton.click();\n</code></pre>\n<p><em><strong>Import</strong></em></p>\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n</code></pre>\n<p>Hope this will solve your issue.</p>\n"}],"owner":{"account_id":28301919,"reputation":15,"user_id":21640486,"display_name":"Jocken"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76012842,"answer_count":2,"score":0,"last_activity_date":1681482270,"creation_date":1681457976,"question_id":76012659,"body_markdown":"I am dealing with Selenium-Java.\r\nFor that I need to perform an automatization on a web page.\r\nI am not able to &quot;click&quot; one of the buttons that prevents me from doing further steps.\r\n\r\nThe underlying HTML code is:\r\n\r\n    &lt;div class=&quot;tm-element tm-pb&quot; data-type=&quot;button&quot; data-columns=&quot;1&quot;&gt;\r\n        &lt;div class=&quot;tm-element-inner&quot;&gt;\r\n            &lt;div class=&quot;tm-columns&quot;&gt;\r\n                &lt;div class=&quot;tm-column&quot;&gt;\r\n                    &lt;div class=&quot;tm-button-container&quot;&gt;\r\n                        &lt;a class=&quot;tm-button&quot; data-align=&quot;center&quot;&gt;\r\n                            &lt;div class=&quot;tm-button-label&quot;&gt;\r\n                                &lt;p&gt;Start now&lt;/p&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;span class=&quot;tm-button-icon&quot;&gt;&lt;/span&gt;\r\n                        &lt;/a&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\nI would like to click the Button saying **Start now**.\r\n\r\nI extraced the xpath as well as the css information.\r\nIt seems that I am able to find the element via:\r\n`findElement(By.cssSelector(&quot;.tm-visible &gt; .tm-element .tm-columns .tm-button&quot;));`\r\n\r\nMoreover, I am not able to use the method `click()`.\r\n\r\nDo you have any experience regarding that?\r\nDo I need to find the button in another way or use another method to click?\r\n\r\nThank you in advance.\r\n\r\nSo far i tried to execute the following code:\r\n`driver.findElement(By.cssSelector(&quot;.tm-visible &gt; .tm-element .tm-columns .tm-button&quot;)).click();`","title":"Selenium Java - Find Element &amp; Click","body":"<p>I am dealing with Selenium-Java.\nFor that I need to perform an automatization on a web page.\nI am not able to &quot;click&quot; one of the buttons that prevents me from doing further steps.</p>\n<p>The underlying HTML code is:</p>\n<pre><code>&lt;div class=&quot;tm-element tm-pb&quot; data-type=&quot;button&quot; data-columns=&quot;1&quot;&gt;\n    &lt;div class=&quot;tm-element-inner&quot;&gt;\n        &lt;div class=&quot;tm-columns&quot;&gt;\n            &lt;div class=&quot;tm-column&quot;&gt;\n                &lt;div class=&quot;tm-button-container&quot;&gt;\n                    &lt;a class=&quot;tm-button&quot; data-align=&quot;center&quot;&gt;\n                        &lt;div class=&quot;tm-button-label&quot;&gt;\n                            &lt;p&gt;Start now&lt;/p&gt;\n                        &lt;/div&gt;\n                        &lt;span class=&quot;tm-button-icon&quot;&gt;&lt;/span&gt;\n                    &lt;/a&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>I would like to click the Button saying <strong>Start now</strong>.</p>\n<p>I extraced the xpath as well as the css information.\nIt seems that I am able to find the element via:\n<code>findElement(By.cssSelector(&quot;.tm-visible &gt; .tm-element .tm-columns .tm-button&quot;));</code></p>\n<p>Moreover, I am not able to use the method <code>click()</code>.</p>\n<p>Do you have any experience regarding that?\nDo I need to find the button in another way or use another method to click?</p>\n<p>Thank you in advance.</p>\n<p>So far i tried to execute the following code:\n<code>driver.findElement(By.cssSelector(&quot;.tm-visible &gt; .tm-element .tm-columns .tm-button&quot;)).click();</code></p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1681481909,"post_id":76015961,"comment_id":134068113,"body_markdown":"If you find yourself casting, it usually means you&#39;re doing something wrong.  There are various ways to avoid needing to cast, but it&#39;s not clear from the question which would be most appropriate here.  Chances are good, however, that the assignment anticipates that you will use one or more techniques that you have been learning about in class.","body":"If you find yourself casting, it usually means you&#39;re doing something wrong.  There are various ways to avoid needing to cast, but it&#39;s not clear from the question which would be most appropriate here.  Chances are good, however, that the assignment anticipates that you will use one or more techniques that you have been learning about in class."},{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":0,"creation_date":1681481950,"post_id":76015961,"comment_id":134068124,"body_markdown":"It is a little strange why your &quot;getInstance&quot; method returns &quot;void&quot;?","body":"It is a little strange why your &quot;getInstance&quot; method returns &quot;void&quot;?"},{"owner":{"account_id":28301754,"reputation":3,"user_id":21640346,"display_name":"Dreammcatch"},"score":0,"creation_date":1681482088,"post_id":76015961,"comment_id":134068160,"body_markdown":"@Stone I put void in because I was not sure what needs return type needs to be used. since depending on condition the class name will vary. yeah it would be possible in that scenario","body":"@Stone I put void in because I was not sure what needs return type needs to be used. since depending on condition the class name will vary. yeah it would be possible in that scenario"},{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":0,"creation_date":1681482868,"post_id":76015961,"comment_id":134068351,"body_markdown":"Is it possible to let the caller decide  Eep or Shop should be used?  If yes, Java has a concept of &quot;overload&quot; and you could change it into two methods. For the return object type, you could design one common parent class or interface if you need.\n`private Eep  getInstance(Eep dd) ` and `private Shop  getInstance(Shop dd) `","body":"Is it possible to let the caller decide  Eep or Shop should be used?  If yes, Java has a concept of &quot;overload&quot; and you could change it into two methods. For the return object type, you could design one common parent class or interface if you need. <code>private Eep  getInstance(Eep dd) </code> and <code>private Shop  getInstance(Shop dd) </code>"}],"answers":[{"tags":[],"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681482170,"creation_date":1681481839,"answer_id":76016055,"question_id":76015961,"body_markdown":"In recent versions of Java you can use [JEP 394][1], Pattern Matching for instanceof:\r\n\r\n```Java\r\nprivate void  getInstance(App dd) {\r\nif (dd instanceof Eep e) {\r\n  e.myMethodFromEep();\r\n}\r\nif (dd instanceof Shop s) {\r\n  s.myMethodFromShop();\r\n}\r\n``` \r\n\r\nThis eliminates the need for casting. It&#39;s still verbose with all those `if`. Furthermore, it smells of bad design if you have a method that does different things depending on the actual type of a parameter via `instanceof`. Maybe you need polymorphism instead?\r\n\r\n  [1]: https://openjdk.org/jeps/394","title":"use of dynamic casting , when class object returned","body":"<p>In recent versions of Java you can use <a href=\"https://openjdk.org/jeps/394\" rel=\"nofollow noreferrer\">JEP 394</a>, Pattern Matching for instanceof:</p>\n<pre><code>private void  getInstance(App dd) {\nif (dd instanceof Eep e) {\n  e.myMethodFromEep();\n}\nif (dd instanceof Shop s) {\n  s.myMethodFromShop();\n}\n</code></pre>\n<p>This eliminates the need for casting. It's still verbose with all those <code>if</code>. Furthermore, it smells of bad design if you have a method that does different things depending on the actual type of a parameter via <code>instanceof</code>. Maybe you need polymorphism instead?</p>\n"}],"owner":{"account_id":28301754,"reputation":3,"user_id":21640346,"display_name":"Dreammcatch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76016055,"answer_count":1,"score":0,"last_activity_date":1681482170,"creation_date":1681481160,"question_id":76015961,"body_markdown":"I am new to java while learning dynamic casting I got a doubt like this, for example, I have 2 classes, class a and class b or more, i can cast the class using instanceof to get my desired method fom object and got the output by using multiple if else if statements and casting can be done easily\r\n\r\nhowever the lines of code is too many. \r\n\r\nApp,Eep, Shop are my classes, I have put void as return type because im not sure what to give as return typs since the class varies.\r\n\r\n```\r\nprivate void  getInstance(App dd) {\r\nif (dd instanceof Eep) {\r\n\t\tEep coi = (Eep) dd;\r\n\t}\r\nelse{\r\nShop coi = (Shop) dd;\r\n}\r\n}\r\n```\r\n\r\n\r\nwhat i want to know is will it be possible to return the casted class object which varies depending on condition, i am not able to find the answer. I think we can return using Object but casting it again will be required I think, could anyone help me with this.","title":"use of dynamic casting , when class object returned","body":"<p>I am new to java while learning dynamic casting I got a doubt like this, for example, I have 2 classes, class a and class b or more, i can cast the class using instanceof to get my desired method fom object and got the output by using multiple if else if statements and casting can be done easily</p>\n<p>however the lines of code is too many.</p>\n<p>App,Eep, Shop are my classes, I have put void as return type because im not sure what to give as return typs since the class varies.</p>\n<pre><code>private void  getInstance(App dd) {\nif (dd instanceof Eep) {\n        Eep coi = (Eep) dd;\n    }\nelse{\nShop coi = (Shop) dd;\n}\n}\n</code></pre>\n<p>what i want to know is will it be possible to return the casted class object which varies depending on condition, i am not able to find the answer. I think we can return using Object but casting it again will be required I think, could anyone help me with this.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":6178072,"reputation":279,"user_id":4814403,"display_name":"Gal Weiss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681482051,"creation_date":1681482051,"answer_id":76016088,"question_id":75205228,"body_markdown":"The code would fail for an array with all spots taken:\r\n    inputArray: [1, 2, 3, ..., 1000] \r\n\r\nthe expected solution is 1001\r\n\r\nto fix it, you need to change the external for condition to `jump &lt;= 1001`","title":"Jump right at the point where the coordinates are 0 to find a constant minimum jump length to avoid all elements in a given array","body":"<p>The code would fail for an array with all spots taken:\ninputArray: [1, 2, 3, ..., 1000]</p>\n<p>the expected solution is 1001</p>\n<p>to fix it, you need to change the external for condition to <code>jump &lt;= 1001</code></p>\n"}],"owner":{"account_id":20657073,"reputation":11,"user_id":15165896,"display_name":"roger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681482051,"creation_date":1674440187,"question_id":75205228,"body_markdown":"Working through CodeSignal Arcade : https://app.codesignal.com/arcade/intro/level-5/XC9Q2DhRRKQrfLhb5,\r\n\r\n&gt; You are given an array of integers representing coordinates of obstacles situated on a straight line.\r\n&gt; Assume that you are jumping from the point with coordinate 0 to the right. You are allowed only to make jumps of the same length represented by some integer.\r\n&gt; \r\n&gt; Find the minimal length of the jump enough to avoid all the obstacles.\r\n&gt; \r\n&gt; Example\r\n&gt; \r\n&gt; For inputArray = [5, 3, 6, 7, 9], the output should be\r\n&gt; solution(inputArray) = 4.\r\n&gt; \r\n&gt; Check out the image below for better understanding:\r\n&gt; https://i.stack.imgur.com/54Lty.png\r\n&gt; \r\n&gt; Input/Output\r\n&gt; \r\n&gt; [execution time limit] 3 seconds (java)\r\n&gt; \r\n&gt; [input] array.integer inputArray\r\n&gt; \r\n&gt; Non-empty array of positive integers.\r\n&gt; \r\n&gt; Guaranteed constraints:\r\n&gt; 2 ≤ inputArray.length ≤ 1000,\r\n&gt; 1 ≤ inputArray[i] ≤ 1000.\r\n&gt; \r\n&gt; [output] integer\r\n&gt; \r\n&gt; The desired length.\r\n\r\nThis is my code:\r\n\r\n```java\r\nint solution(int[] a) {\r\n    \r\n    Arrays.sort(a);\r\n    \r\n    int ans = 0;\r\n    \r\n    for (int jump = 2; jump &lt;= 1000; jump++) {\r\n        \r\n        int now = 0;\r\n        boolean flag = true;\r\n        \r\n        while(now&lt;=a[a.length-1]){\r\n            \r\n            int next = now + jump;\r\n            \r\n            if(Arrays.binarySearch(a, next)&lt;0){\r\n                now = next;\r\n            } else{\r\n                flag = false;\r\n                break;\r\n            }\r\n            \r\n        }\r\n        \r\n        if(flag) {\r\n            ans = jump;\r\n            break;\r\n        }    \r\n    }\r\n    \r\n    return ans;\r\n\r\n}\r\n\r\n```\r\nWhat I trying to do in my code is :\r\n1. sort array to get largest element\r\n2. increase &quot;jump&quot; until it can avoid all the elements in input array\r\n\r\n\r\nThese are some given test cases:\r\n&gt; Input:\r\n&gt; inputArray: [5, 3, 6, 7, 9]\r\n&gt; Expected Output:\r\n&gt; 4\r\n&gt; \r\n&gt; Input:\r\n&gt; inputArray: [2, 3]\r\n&gt; Expected Output:\r\n&gt; 4\r\n&gt; \r\n&gt; Input:\r\n&gt; inputArray: [1, 4, 10, 6, 2]\r\n&gt; Expected Output:\r\n&gt; 7\r\n&gt; \r\n&gt; Input:\r\n&gt; inputArray: [1000, 999]\r\n&gt; Expected Output:\r\n&gt; 6\r\n&gt; \r\n&gt; Input:\r\n&gt; inputArray: [19, 32, 11, 23]\r\n&gt; Expected Output:\r\n&gt; 3\r\n&gt; \r\n&gt; Input:\r\n&gt; inputArray: [5, 8, 9, 13, 14]\r\n&gt; Expected Output:\r\n&gt; 6\r\n\r\n\r\nI passed all the test cases, but I get tripped up on one of the hidden tests when submitted.\r\nI can&#39;t find counterexample and error in my code.\r\n\r\nThanks ahead of time for the help. I&#39;m still quite new to coding and appreciate your time.\r\n\r\n","title":"Jump right at the point where the coordinates are 0 to find a constant minimum jump length to avoid all elements in a given array","body":"<p>Working through CodeSignal Arcade : <a href=\"https://app.codesignal.com/arcade/intro/level-5/XC9Q2DhRRKQrfLhb5\" rel=\"nofollow noreferrer\">https://app.codesignal.com/arcade/intro/level-5/XC9Q2DhRRKQrfLhb5</a>,</p>\n<blockquote>\n<p>You are given an array of integers representing coordinates of obstacles situated on a straight line.\nAssume that you are jumping from the point with coordinate 0 to the right. You are allowed only to make jumps of the same length represented by some integer.</p>\n<p>Find the minimal length of the jump enough to avoid all the obstacles.</p>\n<p>Example</p>\n<p>For inputArray = [5, 3, 6, 7, 9], the output should be\nsolution(inputArray) = 4.</p>\n<p>Check out the image below for better understanding:\n<a href=\"https://i.stack.imgur.com/54Lty.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/54Lty.png</a></p>\n<p>Input/Output</p>\n<p>[execution time limit] 3 seconds (java)</p>\n<p>[input] array.integer inputArray</p>\n<p>Non-empty array of positive integers.</p>\n<p>Guaranteed constraints:\n2 ≤ inputArray.length ≤ 1000,\n1 ≤ inputArray[i] ≤ 1000.</p>\n<p>[output] integer</p>\n<p>The desired length.</p>\n</blockquote>\n<p>This is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int solution(int[] a) {\n    \n    Arrays.sort(a);\n    \n    int ans = 0;\n    \n    for (int jump = 2; jump &lt;= 1000; jump++) {\n        \n        int now = 0;\n        boolean flag = true;\n        \n        while(now&lt;=a[a.length-1]){\n            \n            int next = now + jump;\n            \n            if(Arrays.binarySearch(a, next)&lt;0){\n                now = next;\n            } else{\n                flag = false;\n                break;\n            }\n            \n        }\n        \n        if(flag) {\n            ans = jump;\n            break;\n        }    \n    }\n    \n    return ans;\n\n}\n\n</code></pre>\n<p>What I trying to do in my code is :</p>\n<ol>\n<li>sort array to get largest element</li>\n<li>increase &quot;jump&quot; until it can avoid all the elements in input array</li>\n</ol>\n<p>These are some given test cases:</p>\n<blockquote>\n<p>Input:\ninputArray: [5, 3, 6, 7, 9]\nExpected Output:\n4</p>\n<p>Input:\ninputArray: [2, 3]\nExpected Output:\n4</p>\n<p>Input:\ninputArray: [1, 4, 10, 6, 2]\nExpected Output:\n7</p>\n<p>Input:\ninputArray: [1000, 999]\nExpected Output:\n6</p>\n<p>Input:\ninputArray: [19, 32, 11, 23]\nExpected Output:\n3</p>\n<p>Input:\ninputArray: [5, 8, 9, 13, 14]\nExpected Output:\n6</p>\n</blockquote>\n<p>I passed all the test cases, but I get tripped up on one of the hidden tests when submitted.\nI can't find counterexample and error in my code.</p>\n<p>Thanks ahead of time for the help. I'm still quite new to coding and appreciate your time.</p>\n"},{"tags":["java","android","firebase-realtime-database","notifications","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681481816,"creation_date":1681481816,"answer_id":76016048,"question_id":76013969,"body_markdown":"There is no way to reliably do this in just your Android application, as the OS actively works against apps keeping an open connection like that. \r\n\r\nYou&#39;ll need to use something like Cloud Functions, where this is in fact the first use-case in the documentation: [Notify users when something interesting happens](https://firebase.google.com/docs/functions/use-cases#notify_users_when_something_interesting_happens)\r\n\r\nThis has been covered before, so also check out:\r\n\r\n* https://stackoverflow.com/questions/42210186/handling-keepsynced-while-on-background-on-android-and-with-fcm/42210878#42210878\r\n* https://stackoverflow.com/questions/56691306/android-firebase-realtime-database-updated-when-app-destroyed\r\n* https://stackoverflow.com/questions/48426240/listen-to-firebase-database-changes-when-app-is-closed\r\n* https://stackoverflow.com/questions/44826275/keep-data-from-the-firebase-realtime-database-always-in-sync","title":"android app notification if the data in the fire base real time data base is changed even when the app is not running","body":"<p>There is no way to reliably do this in just your Android application, as the OS actively works against apps keeping an open connection like that.</p>\n<p>You'll need to use something like Cloud Functions, where this is in fact the first use-case in the documentation: <a href=\"https://firebase.google.com/docs/functions/use-cases#notify_users_when_something_interesting_happens\" rel=\"nofollow noreferrer\">Notify users when something interesting happens</a></p>\n<p>This has been covered before, so also check out:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/42210186/handling-keepsynced-while-on-background-on-android-and-with-fcm/42210878#42210878\">Handling keepSynced() while on background on Android and with FCM</a></li>\n<li><a href=\"https://stackoverflow.com/questions/56691306/android-firebase-realtime-database-updated-when-app-destroyed\">Android: Firebase realtime database updated when app destroyed</a></li>\n<li><a href=\"https://stackoverflow.com/questions/48426240/listen-to-firebase-database-changes-when-app-is-closed\">Listen to firebase database changes when app is closed</a></li>\n<li><a href=\"https://stackoverflow.com/questions/44826275/keep-data-from-the-firebase-realtime-database-always-in-sync\">Keep data from the Firebase Realtime Database always in sync</a></li>\n</ul>\n"}],"owner":{"account_id":22682619,"reputation":15,"user_id":16852786,"display_name":"Sanjith Kumar M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76016048,"answer_count":1,"score":0,"last_activity_date":1681481816,"creation_date":1681467012,"question_id":76013969,"body_markdown":"I should receive a notification when the data in the Firebase real-time data base is changed.  \r\nThe notification should only be given when the app is not in use. It should not give a notification when the app is being used or opened.\r\n\r\nI have created a new class  MyFirebaseMsgService\r\n\r\nfor My project. and this class contains this code.\r\n\r\nI have added the needed manifest and the dependencies in build gradle app.\r\n\r\ni didn&#39;t receive any notifications and the i didn&#39;t receive any logs in logcat about the firebase messaging.\r\n\r\nbut if I create a new camping in the firebase console it is working.\r\n\r\nadded the screenshots below\r\n\r\n[![enter image description here](https://i.stack.imgur.com/bAqjh.png)](https://i.stack.imgur.com/bAqjh.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/cBwYr.png)](https://i.stack.imgur.com/cBwYr.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/WFqyQ.png)](https://i.stack.imgur.com/WFqyQ.png)\r\n\r\n```\r\n```\r\n\r\n```\r\npublic class MyFirebaseMessagingService extends FirebaseMessagingService {\r\n\r\n    private static final String TAG = &quot;MyFirebaseMsgService&quot;;\r\n    private DatabaseReference mDatabase;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        mDatabase = FirebaseDatabase.getInstance(&quot;XXXXx my url XXXXXX&quot;).getReference();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        Log.i(TAG, &quot;From: &quot; + remoteMessage.getFrom());\r\n\r\n        // Check if message contains a data payload.\r\n        if (remoteMessage.getData().size() &gt; 0) {\r\n            Log.d(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\r\n\r\n            // Get the value of the &quot;attribute&quot; key from the data payload\r\n            String attributeValue = remoteMessage.getData().get(&quot;attribute&quot;);\r\n\r\n            // Check if the app is not running or being used\r\n            if (!isAppInForeground()) {\r\n\r\n                // Send notification only if the attribute value has changed\r\n                mDatabase.child(&quot;data&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(DataSnapshot dataSnapshot) {\r\n                        String currentValue = dataSnapshot.getValue(String.class);\r\n                        if (currentValue != null &amp;&amp; !currentValue.equals(attributeValue)) {\r\n                            sendNotification();\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(DatabaseError databaseError) {\r\n                        Log.w(TAG, &quot;onCancelled&quot;, databaseError.toException());\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    public boolean isAppInForeground() {\r\n        // Check if the app is running in the foreground\r\n        ActivityManager activityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\r\n        List&lt;ActivityManager.RunningAppProcessInfo&gt; runningProcesses = activityManager.getRunningAppProcesses();\r\n        if (runningProcesses != null) {\r\n            for (ActivityManager.RunningAppProcessInfo processInfo : runningProcesses) {\r\n                if (processInfo.processName.equals(getPackageName()) &amp;&amp; processInfo.importance == ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public void sendNotification() {\r\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;channel_id&quot;)\r\n                .setSmallIcon(R.drawable.notlogo)\r\n                .setContentTitle(&quot;hi&quot;)\r\n                .setContentText(&quot;test&quot;)\r\n                .setAutoCancel(true)\r\n                .setPriority(NotificationCompat.PRIORITY_HIGH);\r\n\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n        notificationBuilder.setContentIntent(pendingIntent);\r\n\r\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        if (notificationManager != null) {\r\n            notificationManager.notify(0, notificationBuilder.build());\r\n        }\r\n    }\r\n}\r\n```","title":"android app notification if the data in the fire base real time data base is changed even when the app is not running","body":"<p>I should receive a notification when the data in the Firebase real-time data base is changed.<br />\nThe notification should only be given when the app is not in use. It should not give a notification when the app is being used or opened.</p>\n<p>I have created a new class  MyFirebaseMsgService</p>\n<p>for My project. and this class contains this code.</p>\n<p>I have added the needed manifest and the dependencies in build gradle app.</p>\n<p>i didn't receive any notifications and the i didn't receive any logs in logcat about the firebase messaging.</p>\n<p>but if I create a new camping in the firebase console it is working.</p>\n<p>added the screenshots below</p>\n<p><a href=\"https://i.stack.imgur.com/bAqjh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bAqjh.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/cBwYr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cBwYr.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/WFqyQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WFqyQ.png\" alt=\"enter image description here\" /></a></p>\n<pre><code></code></pre>\n<pre><code>public class MyFirebaseMessagingService extends FirebaseMessagingService {\n\n    private static final String TAG = &quot;MyFirebaseMsgService&quot;;\n    private DatabaseReference mDatabase;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        mDatabase = FirebaseDatabase.getInstance(&quot;XXXXx my url XXXXXX&quot;).getReference();\n\n    }\n\n    @Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        Log.i(TAG, &quot;From: &quot; + remoteMessage.getFrom());\n\n        // Check if message contains a data payload.\n        if (remoteMessage.getData().size() &gt; 0) {\n            Log.d(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\n\n            // Get the value of the &quot;attribute&quot; key from the data payload\n            String attributeValue = remoteMessage.getData().get(&quot;attribute&quot;);\n\n            // Check if the app is not running or being used\n            if (!isAppInForeground()) {\n\n                // Send notification only if the attribute value has changed\n                mDatabase.child(&quot;data&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(DataSnapshot dataSnapshot) {\n                        String currentValue = dataSnapshot.getValue(String.class);\n                        if (currentValue != null &amp;&amp; !currentValue.equals(attributeValue)) {\n                            sendNotification();\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(DatabaseError databaseError) {\n                        Log.w(TAG, &quot;onCancelled&quot;, databaseError.toException());\n                    }\n                });\n            }\n        }\n    }\n\n    public boolean isAppInForeground() {\n        // Check if the app is running in the foreground\n        ActivityManager activityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\n        List&lt;ActivityManager.RunningAppProcessInfo&gt; runningProcesses = activityManager.getRunningAppProcesses();\n        if (runningProcesses != null) {\n            for (ActivityManager.RunningAppProcessInfo processInfo : runningProcesses) {\n                if (processInfo.processName.equals(getPackageName()) &amp;&amp; processInfo.importance == ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    public void sendNotification() {\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;channel_id&quot;)\n                .setSmallIcon(R.drawable.notlogo)\n                .setContentTitle(&quot;hi&quot;)\n                .setContentText(&quot;test&quot;)\n                .setAutoCancel(true)\n                .setPriority(NotificationCompat.PRIORITY_HIGH);\n\n        Intent intent = new Intent(this, MainActivity.class);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n        notificationBuilder.setContentIntent(pendingIntent);\n\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n        if (notificationManager != null) {\n            notificationManager.notify(0, notificationBuilder.build());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","database","orm","sybase","ibatis"],"answers":[{"comments":[{"owner":{"account_id":19050,"reputation":29594,"user_id":44286,"accept_rate":77,"display_name":"Omnipresent"},"score":1,"creation_date":1261655297,"post_id":1955258,"comment_id":1870559,"body_markdown":"actually...in the process of me pasting rest of my code in the question i realized i DID have a type. searchUserId vs. searchUserID\n&gt;_&lt; so thanks!","body":"actually...in the process of me pasting rest of my code in the question i realized i DID have a type. searchUserId vs. searchUserID &gt;_&lt; so thanks!"}],"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1261604326,"creation_date":1261601642,"answer_id":1955258,"question_id":1955052,"body_markdown":"Your parameter element looks ok, after the change to use VARCHAR as jdbcType. Could you include the rest of the parameter element and the procedure element from the mapping file, and the code that creates the parameter map and calls the query?\r\n\r\nIt could be something simple like a typo when constructing the map passed into the query (at least that&#39;s the kind of mistake I would make -- I know I&#39;ve been inconsistent about capitalizing &quot;userId&quot; while using Ibatis).","title":"Unsupported SQL Type 1111 when passing String to a VARCHAR field","body":"<p>Your parameter element looks ok, after the change to use VARCHAR as jdbcType. Could you include the rest of the parameter element and the procedure element from the mapping file, and the code that creates the parameter map and calls the query?</p>\n\n<p>It could be something simple like a typo when constructing the map passed into the query (at least that's the kind of mistake I would make -- I know I've been inconsistent about capitalizing \"userId\" while using Ibatis).</p>\n"},{"tags":[],"owner":{"account_id":6428992,"reputation":81,"user_id":4982952,"accept_rate":43,"display_name":"Pratik Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449828840,"creation_date":1449828840,"answer_id":34221002,"question_id":1955052,"body_markdown":"I too faced a similar situation. After searching a lot, finally I found that  answer to my problem was that I was missing  a particular &#39;key&#39; while constructing map. I was missing a statement:\r\n\r\n    map.put(&quot;job_name&quot;, job.getJobName());\r\n\r\n&amp; I was using JOB_NAME=#{job_name} in CronMapper.xml\r\n\r\nAlso some where else I was using JOB_NAME=#{jobName}\r\n\r\n","title":"Unsupported SQL Type 1111 when passing String to a VARCHAR field","body":"<p>I too faced a similar situation. After searching a lot, finally I found that  answer to my problem was that I was missing  a particular 'key' while constructing map. I was missing a statement:</p>\n\n<pre><code>map.put(\"job_name\", job.getJobName());\n</code></pre>\n\n<p>&amp; I was using JOB_NAME=#{job_name} in CronMapper.xml</p>\n\n<p>Also some where else I was using JOB_NAME=#{jobName}</p>\n"},{"comments":[{"owner":{"account_id":10417670,"reputation":680,"user_id":7686942,"display_name":"quasipolynomial"},"score":0,"creation_date":1562158753,"post_id":41653452,"comment_id":100290072,"body_markdown":"question is, is there a way to still load the data by skipping that column rather than dropping it?","body":"question is, is there a way to still load the data by skipping that column rather than dropping it?"}],"tags":[],"owner":{"account_id":2121156,"reputation":5654,"user_id":1884363,"accept_rate":69,"display_name":"sudo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484418345,"creation_date":1484418345,"answer_id":41653452,"question_id":1955052,"body_markdown":"I ran into this problem for a different reason: The table had a `geometry` (PostGIS extension) column in it that I guess the driver couldn&#39;t parse. Dropping that column made it work.","title":"Unsupported SQL Type 1111 when passing String to a VARCHAR field","body":"<p>I ran into this problem for a different reason: The table had a <code>geometry</code> (PostGIS extension) column in it that I guess the driver couldn't parse. Dropping that column made it work.</p>\n"},{"tags":[],"owner":{"account_id":960456,"reputation":949,"user_id":984929,"accept_rate":50,"display_name":"lincolnadym"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681481218,"creation_date":1681481218,"answer_id":76015970,"question_id":1955052,"body_markdown":"I know this question is ancient, but 1 other thing to consider is does the value in the placeholder for iBatis (MyBatis) is null.  In my case, the error &quot;JZ0SL: Unsupported SQL type 1111&quot; was being thrown because the value being passed into the String parameter was null : \r\n\r\n`&lt;select id = &quot;getInProcessDocsCount&quot; parameterType=&quot;String&quot; resultType =&quot;int&quot;&gt;\r\n \tselect count(*) from my_database..pub_wip_t where wip_stts_cde=&#39;IP&#39; and rfrn_row = #{daemonID}\r\n &lt;/select&gt;`\r\n\r\nwhere #{daemonID} was null.  hth - adym","title":"Unsupported SQL Type 1111 when passing String to a VARCHAR field","body":"<p>I know this question is ancient, but 1 other thing to consider is does the value in the placeholder for iBatis (MyBatis) is null.  In my case, the error &quot;JZ0SL: Unsupported SQL type 1111&quot; was being thrown because the value being passed into the String parameter was null :</p>\n<p><code>&lt;select id = &quot;getInProcessDocsCount&quot; parameterType=&quot;String&quot; resultType =&quot;int&quot;&gt; select count(*) from my_database..pub_wip_t where wip_stts_cde='IP' and rfrn_row = #{daemonID} &lt;/select&gt;</code></p>\n<p>where #{daemonID} was null.  hth - adym</p>\n"}],"owner":{"account_id":19050,"reputation":29594,"user_id":44286,"accept_rate":77,"display_name":"Omnipresent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16412,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":1955258,"answer_count":4,"score":3,"last_activity_date":1681481218,"creation_date":1261599250,"question_id":1955052,"body_markdown":"I have been smashing my head against this for a while now. \r\n\r\nI am using iBatis with my JAVA code to run Stored Proc residing in Sybase DB. \r\n\r\nStored procedure is expecting some parameters. few of them are declared as `VARCHAR (6)`\r\n\r\nSo in my iBatis mapping i did the following for those parameters. \r\n\r\n    &lt;parameter property=&quot;searchUserId&quot; jdbcType=&quot;String&quot; javaType=&quot;java.lang.String&quot; mode=&quot;IN&quot;/&gt;\r\n\r\nHowever, when I do this I get the following error. \r\n\r\n    --- Check the statement (update procedure failed).  \r\n    --- Cause: java.sql.SQLException: JZ006: Caught IOException: java.io.IOException: JZ0SL: Unsupported SQL type 1111.\r\n    Caused by: java.sql.SQLException: JZ006: Caught IOException: java.io.IOException: JZ0SL: Unsupported SQL type 1111.\r\n\r\n\r\nSo I changed my mapping to following:\r\n\r\n    &lt;parameter property=&quot;searchUserId&quot; jdbcType=&quot;VARCHAR&quot; javaType=&quot;java.lang.String&quot; mode=&quot;IN&quot;/&gt;\r\n\r\nwhich got rid of the error above, however, now the parameter `searchUserId` is getting value of `null` passed into the SP.  I know for sure that from my java code I am NOT passing `null`. \r\n\r\nHas someone faced this issue? what should I change my mapping to??\r\n\r\n\r\n\r\n","title":"Unsupported SQL Type 1111 when passing String to a VARCHAR field","body":"<p>I have been smashing my head against this for a while now. </p>\n\n<p>I am using iBatis with my JAVA code to run Stored Proc residing in Sybase DB. </p>\n\n<p>Stored procedure is expecting some parameters. few of them are declared as <code>VARCHAR (6)</code></p>\n\n<p>So in my iBatis mapping i did the following for those parameters. </p>\n\n<pre><code>&lt;parameter property=\"searchUserId\" jdbcType=\"String\" javaType=\"java.lang.String\" mode=\"IN\"/&gt;\n</code></pre>\n\n<p>However, when I do this I get the following error. </p>\n\n<pre><code>--- Check the statement (update procedure failed).  \n--- Cause: java.sql.SQLException: JZ006: Caught IOException: java.io.IOException: JZ0SL: Unsupported SQL type 1111.\nCaused by: java.sql.SQLException: JZ006: Caught IOException: java.io.IOException: JZ0SL: Unsupported SQL type 1111.\n</code></pre>\n\n<p>So I changed my mapping to following:</p>\n\n<pre><code>&lt;parameter property=\"searchUserId\" jdbcType=\"VARCHAR\" javaType=\"java.lang.String\" mode=\"IN\"/&gt;\n</code></pre>\n\n<p>which got rid of the error above, however, now the parameter <code>searchUserId</code> is getting value of <code>null</code> passed into the SP.  I know for sure that from my java code I am NOT passing <code>null</code>. </p>\n\n<p>Has someone faced this issue? what should I change my mapping to??</p>\n"},{"tags":["java","logging","spring-boot","yaml"],"answers":[{"comments":[{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":0,"creation_date":1436364219,"post_id":31294905,"comment_id":50580701,"body_markdown":"ouch, that one was less difficult and more obvious than I thought ;-)","body":"ouch, that one was less difficult and more obvious than I thought ;-)"},{"owner":{"account_id":335028,"reputation":1001,"user_id":661859,"accept_rate":75,"display_name":"Nitul"},"score":3,"creation_date":1521789409,"post_id":31294905,"comment_id":85890059,"body_markdown":"How to change application package log level? E.g. com.myapp.services=TRACE. It is not considering application packages.","body":"How to change application package log level? E.g. com.myapp.services=TRACE. It is not considering application packages."},{"owner":{"account_id":6456733,"reputation":1883,"user_id":5404976,"accept_rate":50,"display_name":"Vinit Solanki"},"score":3,"creation_date":1551437958,"post_id":31294905,"comment_id":96649127,"body_markdown":"can I write `ROOT` as `root`, `logging.level.root: DEBUG`","body":"can I write <code>ROOT</code> as <code>root</code>, <code>logging.level.root: DEBUG</code>"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":2,"creation_date":1551445626,"post_id":31294905,"comment_id":96653338,"body_markdown":"Yes, you can use `root`.","body":"Yes, you can use <code>root</code>."},{"owner":{"account_id":1123950,"reputation":1076,"user_id":1111652,"accept_rate":15,"display_name":"hasdrubal"},"score":2,"creation_date":1560347764,"post_id":31294905,"comment_id":99707340,"body_markdown":"Doesn&#39;t work with me. Set it to WARNING and I&#39;m still getting info messages.","body":"Doesn&#39;t work with me. Set it to WARNING and I&#39;m still getting info messages."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1574063651,"post_id":31294905,"comment_id":104082434,"body_markdown":"How to set different levels for **org.springframework** and for  **org.springframework.web** ?","body":"How to set different levels for <b>org.springframework</b> and for  <b>org.springframework.web</b> ?"},{"owner":{"account_id":272022,"reputation":2174,"user_id":1759987,"accept_rate":59,"display_name":"Aaron"},"score":0,"creation_date":1612397822,"post_id":31294905,"comment_id":116757826,"body_markdown":"Thank you, Andy! This worked for me. And note: indent level matters! It seems to need to be at the top-most level (no indents in the .yml file for this block)","body":"Thank you, Andy! This worked for me. And note: indent level matters! It seems to need to be at the top-most level (no indents in the .yml file for this block)"},{"owner":{"account_id":3119757,"reputation":2028,"user_id":2639772,"display_name":"Jose Manuel Gomez Alvarez"},"score":0,"creation_date":1637162870,"post_id":31294905,"comment_id":123752944,"body_markdown":"@hasdrubal not WARNING, but WARN -hope the answer comes on time :-)","body":"@hasdrubal not WARNING, but WARN -hope the answer comes on time :-)"}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":8,"down_vote_count":0,"up_vote_count":178,"is_accepted":true,"score":178,"last_activity_date":1436363803,"creation_date":1436363803,"answer_id":31294905,"question_id":31290204,"body_markdown":"You can use `ROOT` to configure the root logging level:\r\n\r\n&lt;!-- language: yaml --&gt;\r\n\r\n    logging:\r\n      level:\r\n        ROOT: DEBUG","title":"Set root logging level in application.yml","body":"<p>You can use <code>ROOT</code> to configure the root logging level:</p>\n\n<pre><code>logging:\n  level:\n    ROOT: DEBUG\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":2,"creation_date":1529943545,"post_id":51026767,"comment_id":89048107,"body_markdown":"This is not what I was asking for","body":"This is not what I was asking for"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1574063609,"post_id":51026767,"comment_id":104082408,"body_markdown":"How to set different levels for **org.springframework** and for  **org.springframework.web** ?","body":"How to set different levels for <b>org.springframework</b> and for  <b>org.springframework.web</b> ?"},{"owner":{"account_id":2178256,"reputation":1173,"user_id":1928419,"display_name":"Micha&#235;l COLL"},"score":0,"creation_date":1574079554,"post_id":51026767,"comment_id":104090644,"body_markdown":"@gstackoverflow Just add a new line and specify the other package and the corresponding log level. Hope it helps.","body":"@gstackoverflow Just add a new line and specify the other package and the corresponding log level. Hope it helps."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1574079629,"post_id":51026767,"comment_id":104090684,"body_markdown":"Like **org.springframework: INFO** and **org.springframework.web:DEBUG** ?","body":"Like <b>org.springframework: INFO</b> and <b>org.springframework.web:DEBUG</b> ?"}],"tags":[],"owner":{"account_id":2178256,"reputation":1173,"user_id":1928419,"display_name":"Micha&#235;l COLL"},"comment_count":4,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1574100026,"creation_date":1529939672,"answer_id":51026767,"question_id":31290204,"body_markdown":"If you want level by package, you can use this syntax :\r\n\r\n    logging:\r\n      level:\r\n         org.springframework.web: DEBUG\r\n         guru.springframework.controllers: DEBUG\r\n         org.hibernate: DEBUG\r\n         org: INFO","title":"Set root logging level in application.yml","body":"<p>If you want level by package, you can use this syntax :</p>\n\n<pre><code>logging:\n  level:\n     org.springframework.web: DEBUG\n     guru.springframework.controllers: DEBUG\n     org.hibernate: DEBUG\n     org: INFO\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6379814,"reputation":3935,"user_id":4949653,"display_name":"torina"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1565119699,"creation_date":1565119699,"answer_id":57382793,"question_id":31290204,"body_markdown":"You can even use your *classname* to configure logging level:\r\n\r\n    logging:\r\n      level:\r\n        com.yourorganization.Yourclass: DEBUG\r\n\r\n","title":"Set root logging level in application.yml","body":"<p>You can even use your <em>classname</em> to configure logging level:</p>\n\n<pre><code>logging:\n  level:\n    com.yourorganization.Yourclass: DEBUG\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1676437152,"post_id":57540478,"comment_id":133134665,"body_markdown":"Does this mean that for example we will get all the WARN logs from com.filenet.wcm.* and also the ERROR logs? Or just ERROR logs from com.filenet.wcm.*","body":"Does this mean that for example we will get all the WARN logs from com.filenet.wcm.* and also the ERROR logs? Or just ERROR logs from com.filenet.wcm.*"},{"owner":{"account_id":5216714,"reputation":2112,"user_id":4171429,"display_name":"Joakim"},"score":1,"creation_date":1676532608,"post_id":57540478,"comment_id":133156482,"body_markdown":"This is setting logging levels. A warn logging level means that you get warn, error and fatal. An error logging level means you get only error and fatal logs. The more specific setting will override the root logging level, so that logging level com.filenet.wcm.* is error. As a result, you only get error and fatal logs in that package.","body":"This is setting logging levels. A warn logging level means that you get warn, error and fatal. An error logging level means you get only error and fatal logs. The more specific setting will override the root logging level, so that logging level com.filenet.wcm.* is error. As a result, you only get error and fatal logs in that package."}],"tags":[],"owner":{"account_id":5216714,"reputation":2112,"user_id":4171429,"display_name":"Joakim"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1566082342,"creation_date":1566082342,"answer_id":57540478,"question_id":31290204,"body_markdown":"It&#39;s an old question, but I just had this problem.\r\n\r\nWhile setting\r\n\r\n    org.springframework.web: debug\r\n\r\nor\r\n\r\n    org.hibernate: debug\r\n\r\nworks fine, if you want to do the same for your project files (setting level per package), you have to use wildcards. So, for the example in the question, it would be:\r\n\r\n    logging:\r\n        level:\r\n            root: WARN\r\n            com.filenet.wcm.*: ERROR\r\n            de.mycompany.*: DEBUG\r\n\r\nAlternatively, you can set the logging level per class without using wildcards, as shown in torina&#39;s answer.\r\n","title":"Set root logging level in application.yml","body":"<p>It's an old question, but I just had this problem.</p>\n\n<p>While setting</p>\n\n<pre><code>org.springframework.web: debug\n</code></pre>\n\n<p>or</p>\n\n<pre><code>org.hibernate: debug\n</code></pre>\n\n<p>works fine, if you want to do the same for your project files (setting level per package), you have to use wildcards. So, for the example in the question, it would be:</p>\n\n<pre><code>logging:\n    level:\n        root: WARN\n        com.filenet.wcm.*: ERROR\n        de.mycompany.*: DEBUG\n</code></pre>\n\n<p>Alternatively, you can set the logging level per class without using wildcards, as shown in torina's answer.</p>\n"},{"tags":[],"owner":{"account_id":12565201,"reputation":4559,"user_id":9141437,"display_name":"Thanthu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657902717,"creation_date":1657902717,"answer_id":72997107,"question_id":31290204,"body_markdown":"You can log incoming request by creating `CommonsRequestLoggingFilter` and adding \r\n\r\n    logging.level.org.springframework.web.filter.CommonsRequestLoggingFilter=DEBUG\r\n\r\n to `application.properties` file as explained in detail in this link - [https://www.baeldung.com/spring-http-logging][1]\r\n\r\n    @Configuration\r\n    public class RequestLoggingFilterConfig {\r\n    \r\n        @Bean\r\n        public CommonsRequestLoggingFilter logFilter() {\r\n            CommonsRequestLoggingFilter filter\r\n              = new CommonsRequestLoggingFilter();\r\n            filter.setIncludeQueryString(true);\r\n            filter.setIncludePayload(true);\r\n            filter.setMaxPayloadLength(10000);\r\n            filter.setIncludeHeaders(false);\r\n            filter.setAfterMessagePrefix(&quot;REQUEST DATA : &quot;);\r\n            return filter;\r\n        }\r\n    }\r\n\r\n  [1]: https://www.baeldung.com/spring-http-logging\r\n","title":"Set root logging level in application.yml","body":"<p>You can log incoming request by creating <code>CommonsRequestLoggingFilter</code> and adding</p>\n<pre><code>logging.level.org.springframework.web.filter.CommonsRequestLoggingFilter=DEBUG\n</code></pre>\n<p>to <code>application.properties</code> file as explained in detail in this link - <a href=\"https://www.baeldung.com/spring-http-logging\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-http-logging</a></p>\n<pre><code>@Configuration\npublic class RequestLoggingFilterConfig {\n\n    @Bean\n    public CommonsRequestLoggingFilter logFilter() {\n        CommonsRequestLoggingFilter filter\n          = new CommonsRequestLoggingFilter();\n        filter.setIncludeQueryString(true);\n        filter.setIncludePayload(true);\n        filter.setMaxPayloadLength(10000);\n        filter.setIncludeHeaders(false);\n        filter.setAfterMessagePrefix(&quot;REQUEST DATA : &quot;);\n        return filter;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1820389,"reputation":76,"user_id":1654586,"display_name":"Pankaj Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681481081,"creation_date":1681481081,"answer_id":76015942,"question_id":31290204,"body_markdown":"we can configure logback properties in yml file without defining custom **logback-spring.xml** file. Used following configuration to achieve logging along with daily rolling appender and file size appender.\r\n\r\n    logging:\r\n      logback:\r\n        rollingpolicy:\r\n          max-file-size: 10MB\r\n          file-name-pattern: /logs/archived/application-%d{yyyy-MM-dd}.%i.log\r\n          max-history: 30\r\n      file:\r\n       name: /logs/application.log\r\n      pattern:\r\n        console: &quot;%black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable&quot;\r\n        file: &quot;%d %-5level [%thread] %logger : %msg%n&quot;\r\n        level: &quot;%5p&quot;\r\n      level:\r\n        root: INFO\r\n        com.mypackage: ERROR  (--Package level ERROR only)","title":"Set root logging level in application.yml","body":"<p>we can configure logback properties in yml file without defining custom <strong>logback-spring.xml</strong> file. Used following configuration to achieve logging along with daily rolling appender and file size appender.</p>\n<pre><code>logging:\n  logback:\n    rollingpolicy:\n      max-file-size: 10MB\n      file-name-pattern: /logs/archived/application-%d{yyyy-MM-dd}.%i.log\n      max-history: 30\n  file:\n   name: /logs/application.log\n  pattern:\n    console: &quot;%black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable&quot;\n    file: &quot;%d %-5level [%thread] %logger : %msg%n&quot;\n    level: &quot;%5p&quot;\n  level:\n    root: INFO\n    com.mypackage: ERROR  (--Package level ERROR only)\n</code></pre>\n"}],"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123910,"favorite_count":0,"down_vote_count":0,"up_vote_count":91,"accepted_answer_id":31294905,"answer_count":6,"score":91,"last_activity_date":1681481081,"creation_date":1436351851,"question_id":31290204,"body_markdown":"I used an application.properties with Spring Boot (1.3 M1) and started to translate it into a yaml file because it grew more and more complex.\r\n\r\nBut I have problems translating this into yaml:\r\n\r\n    logging.level.*=WARN\r\n    logging.level.com.filenet.wcm=ERROR\r\n    logging.level.de.mycompany=DEBUG\r\n\r\nThe last two lines are easily translated into this:\r\n\r\n    logging:\r\n        level:\r\n            com.filenet.wcm: ERROR\r\n            de.mycompany: DEBUG\r\n\r\nBut how to add the values for the root logging level ? These two approaches failed:\r\n\r\nFailed approach 1:\r\n\r\n    logging:\r\n        level: WARN\r\n            com.filenet.wcm: ERROR\r\n            de.mycompany: DEBUG    \r\n\r\nFailed approach 2:\r\n\r\n    logging:\r\n        level: \r\n            star: WARN\r\n            com.filenet.wcm: ERROR\r\n            de.mycompany: DEBUG    \r\n\r\nI read the [docs][1], searched stackoverflow and googled but did not find an example for a valid syntax. \r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html","title":"Set root logging level in application.yml","body":"<p>I used an application.properties with Spring Boot (1.3 M1) and started to translate it into a yaml file because it grew more and more complex.</p>\n\n<p>But I have problems translating this into yaml:</p>\n\n<pre><code>logging.level.*=WARN\nlogging.level.com.filenet.wcm=ERROR\nlogging.level.de.mycompany=DEBUG\n</code></pre>\n\n<p>The last two lines are easily translated into this:</p>\n\n<pre><code>logging:\n    level:\n        com.filenet.wcm: ERROR\n        de.mycompany: DEBUG\n</code></pre>\n\n<p>But how to add the values for the root logging level ? These two approaches failed:</p>\n\n<p>Failed approach 1:</p>\n\n<pre><code>logging:\n    level: WARN\n        com.filenet.wcm: ERROR\n        de.mycompany: DEBUG    \n</code></pre>\n\n<p>Failed approach 2:</p>\n\n<pre><code>logging:\n    level: \n        star: WARN\n        com.filenet.wcm: ERROR\n        de.mycompany: DEBUG    \n</code></pre>\n\n<p>I read the <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html\">docs</a>, searched stackoverflow and googled but did not find an example for a valid syntax. </p>\n"},{"tags":["java","maven","jar","maven-jar-plugin"],"answers":[{"comments":[{"owner":{"account_id":1987474,"reputation":907,"user_id":1782309,"accept_rate":71,"display_name":"Vering"},"score":1,"creation_date":1510911021,"post_id":40964626,"comment_id":81646417,"body_markdown":"Thanks for the explanation - I faced the problem even though I&#39;ve set packaging to &quot;war&quot; (and not &quot;jar&quot;), but removing the &lt;phase&gt;package&lt;/phase&gt; inside the jar-plugin fixed the problem.","body":"Thanks for the explanation - I faced the problem even though I&#39;ve set packaging to &quot;war&quot; (and not &quot;jar&quot;), but removing the &lt;phase&gt;package&lt;/phase&gt; inside the jar-plugin fixed the problem."},{"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"score":4,"creation_date":1523288530,"post_id":40964626,"comment_id":86487707,"body_markdown":"I get this error only in a multi module  setup only in an environment using jenkins and linux. On a Mac OS machine things run and they also in the Travis CI environment. There seems to be more trickery going on which is frustrating. IMHO the error message is more confusing then helping and it only points to this stackoverflow article.","body":"I get this error only in a multi module  setup only in an environment using jenkins and linux. On a Mac OS machine things run and they also in the Travis CI environment. There seems to be more trickery going on which is frustrating. IMHO the error message is more confusing then helping and it only points to this stackoverflow article."}],"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":2,"down_vote_count":1,"up_vote_count":75,"is_accepted":true,"score":74,"last_activity_date":1480891642,"creation_date":1480891642,"answer_id":40964626,"question_id":40964500,"body_markdown":"The Jar Plugin is actually getting executed twice with the configuration:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.2&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;jar&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIf you check the logs with such a configuration, you will have something like:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [INFO] --- maven-jar-plugin:3.0.2:jar (default-jar) @ test ---\r\n    [INFO] Building jar: ...\\test\\target\\test-0.0.1-SNAPSHOT.jar\r\n    [INFO] \r\n    [INFO] --- maven-jar-plugin:3.0.2:jar (default) @ test ---\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nmeaning that the plugin was in fact executed twice. What happens, is that the Jar Plugin, in a project that has a packaging of `jar` [has a default execution bound to the `package` phase](http://maven.apache.org/components/ref/3.3.9/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging). This default execution is the one mentioned in the logs with the ID of `default-jar`.\r\n\r\nWhen you configured an `&lt;execution&gt;` in the plugin, you actually configured a new execution, where the `jar` goal of the plugin is to be invoked. Since the [`jar` goal binds by default to the `package` phase](https://maven.apache.org/plugins/maven-jar-plugin/jar-mojo.html), that execution is getting executed at that phase, after the default binding inherent to the `jar` packaging. And since the plugin ran already, it is failing because running it again would actually replace the main artifact already produced during the first run. This error was added in version 3.0.0 of the plugin in [MJAR-198](https://issues.apache.org/jira/browse/MJAR-198), because such a thing happening is very likely a mis-configuration which should be detected early.\r\n\r\nAs such, the fix is simple: don&#39;t have an execution that specifies the goal `jar`, and let the default one (coming from the `jar` packaging) do the work. The JAR will still be created, even without the explicit configuration of the `jar` goal, thanks to the default execution. If you want a test JAR as well, [you will still need to configure the plugin to do that](https://maven.apache.org/plugins/maven-jar-plugin/examples/create-test-jar.html) with:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.2&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;test-jar&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nBut note that the goal `jar` is not specified.","title":"Maven JAR Plugin 3.0.2 Error: You have to use a classifier to attach supplemental artifacts to the project instead of replacing them","body":"<p>The Jar Plugin is actually getting executed twice with the configuration:</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.2&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;jar&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>If you check the logs with such a configuration, you will have something like:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] --- maven-jar-plugin:3.0.2:jar (default-jar) @ test ---\n[INFO] Building jar: ...\\test\\target\\test-0.0.1-SNAPSHOT.jar\n[INFO] \n[INFO] --- maven-jar-plugin:3.0.2:jar (default) @ test ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>meaning that the plugin was in fact executed twice. What happens, is that the Jar Plugin, in a project that has a packaging of <code>jar</code> <a href=\"http://maven.apache.org/components/ref/3.3.9/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging\" rel=\"noreferrer\">has a default execution bound to the <code>package</code> phase</a>. This default execution is the one mentioned in the logs with the ID of <code>default-jar</code>.</p>\n\n<p>When you configured an <code>&lt;execution&gt;</code> in the plugin, you actually configured a new execution, where the <code>jar</code> goal of the plugin is to be invoked. Since the <a href=\"https://maven.apache.org/plugins/maven-jar-plugin/jar-mojo.html\" rel=\"noreferrer\"><code>jar</code> goal binds by default to the <code>package</code> phase</a>, that execution is getting executed at that phase, after the default binding inherent to the <code>jar</code> packaging. And since the plugin ran already, it is failing because running it again would actually replace the main artifact already produced during the first run. This error was added in version 3.0.0 of the plugin in <a href=\"https://issues.apache.org/jira/browse/MJAR-198\" rel=\"noreferrer\">MJAR-198</a>, because such a thing happening is very likely a mis-configuration which should be detected early.</p>\n\n<p>As such, the fix is simple: don't have an execution that specifies the goal <code>jar</code>, and let the default one (coming from the <code>jar</code> packaging) do the work. The JAR will still be created, even without the explicit configuration of the <code>jar</code> goal, thanks to the default execution. If you want a test JAR as well, <a href=\"https://maven.apache.org/plugins/maven-jar-plugin/examples/create-test-jar.html\" rel=\"noreferrer\">you will still need to configure the plugin to do that</a> with:</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.2&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;test-jar&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>But note that the goal <code>jar</code> is not specified.</p>\n"},{"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":3,"creation_date":1482875796,"post_id":41214856,"comment_id":69907249,"body_markdown":"That &quot;works&quot; but is based on the fact that having `default-jar` as the execution ID overrides the default execution from the `jar` packaging. This is a bit of a hack, and there is a better solution.","body":"That &quot;works&quot; but is based on the fact that having <code>default-jar</code> as the execution ID overrides the default execution from the <code>jar</code> packaging. This is a bit of a hack, and there is a better solution."},{"owner":{"account_id":519606,"reputation":330,"user_id":2859149,"display_name":"user23288"},"score":0,"creation_date":1643569929,"post_id":41214856,"comment_id":125369874,"body_markdown":"This is not necessarily a hack. Imagine you want to run the default `jar` goal, but with a custom configuration. In that case, matching the ID `default-jar` becomes a legitimate use case:\n\n`\n&lt;execution&gt;\n    &lt;id&gt;default-jar&lt;/id&gt;\n    &lt;goals&gt;\n        &lt;goal&gt;jar&lt;/goal&gt;\n    &lt;/goals&gt;\n    &lt;configuration&gt;\n        &lt;skipIfEmpty&gt;true&lt;/skipIfEmpty&gt;\n    &lt;/configuration&gt;\n&lt;/execution&gt;\n`","body":"This is not necessarily a hack. Imagine you want to run the default <code>jar</code> goal, but with a custom configuration. In that case, matching the ID <code>default-jar</code> becomes a legitimate use case:  ` &lt;execution&gt;     &lt;id&gt;default-jar&lt;/id&gt;     &lt;goals&gt;         &lt;goal&gt;jar&lt;/goal&gt;     &lt;/goals&gt;     &lt;configuration&gt;         &lt;skipIfEmpty&gt;true&lt;/skipIfEmpty&gt;     &lt;/configuration&gt; &lt;/execution&gt; `"}],"tags":[],"owner":{"account_id":9877384,"reputation":139,"user_id":7314602,"display_name":"Derik"},"comment_count":2,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1666917700,"creation_date":1482112804,"answer_id":41214856,"question_id":40964500,"body_markdown":"In my case, I have set the execution ID to `default-jar`, overriding the default execution. Then the error is gone.\r\n\r\n    &lt;execution&gt;\r\n        &lt;id&gt;default-jar&lt;/id&gt;\r\n        &lt;phase&gt;package&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n            &lt;goal&gt;jar&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n    &lt;/execution&gt;\r\n\r\n\r\n ","title":"Maven JAR Plugin 3.0.2 Error: You have to use a classifier to attach supplemental artifacts to the project instead of replacing them","body":"<p>In my case, I have set the execution ID to <code>default-jar</code>, overriding the default execution. Then the error is gone.</p>\n<pre><code>&lt;execution&gt;\n    &lt;id&gt;default-jar&lt;/id&gt;\n    &lt;phase&gt;package&lt;/phase&gt;\n    &lt;goals&gt;\n        &lt;goal&gt;jar&lt;/goal&gt;\n    &lt;/goals&gt;\n&lt;/execution&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"score":0,"creation_date":1565185789,"post_id":54673725,"comment_id":101273664,"body_markdown":"Thanks for the link! There is also mentioned the case of calling mvn clean verify deploy, which does everything until verify twice. In my case a mvn clean install deploy broke, but mvn clean deploy worked. (Had an empty JAR, too.)","body":"Thanks for the link! There is also mentioned the case of calling mvn clean verify deploy, which does everything until verify twice. In my case a mvn clean install deploy broke, but mvn clean deploy worked. (Had an empty JAR, too.)"},{"owner":{"account_id":5725706,"reputation":1428,"user_id":4524618,"accept_rate":82,"display_name":"Sniper"},"score":1,"creation_date":1630494446,"post_id":54673725,"comment_id":121969595,"body_markdown":"The link seems broken","body":"The link seems broken"},{"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"score":1,"creation_date":1630735723,"post_id":54673725,"comment_id":122042006,"body_markdown":"@Sniper - thx i tried finding an alternative source for the mailing list archive","body":"@Sniper - thx i tried finding an alternative source for the mailing list archive"}],"tags":[],"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1630735697,"creation_date":1550071617,"answer_id":54673725,"question_id":40964500,"body_markdown":"If your logs shows something like:\r\n\r\n    [INFO] --- maven-jar-plugin:3.0.2:jar (default-jar) @ test --\r\n    [WARNING] JAR will be empty - no content was marked for inclusion!\r\n\r\nAdding a single useless class in src/main/java seems to solve the issue see:\r\n\r\nhttp://maven.40175.n5.nabble.com/quot-mvn-clean-verify-deploy-quot-causes-jar-plugin-to-execute-twice-td5877166.html\r\n\r\nSince the above link might be broken as of 2021-09 you might want to try http://mail-archives.apache.org/mod_mbox/maven-users/201608.mbox/thread as an alternative","title":"Maven JAR Plugin 3.0.2 Error: You have to use a classifier to attach supplemental artifacts to the project instead of replacing them","body":"<p>If your logs shows something like:</p>\n<pre><code>[INFO] --- maven-jar-plugin:3.0.2:jar (default-jar) @ test --\n[WARNING] JAR will be empty - no content was marked for inclusion!\n</code></pre>\n<p>Adding a single useless class in src/main/java seems to solve the issue see:</p>\n<p><a href=\"http://maven.40175.n5.nabble.com/quot-mvn-clean-verify-deploy-quot-causes-jar-plugin-to-execute-twice-td5877166.html\" rel=\"nofollow noreferrer\">http://maven.40175.n5.nabble.com/quot-mvn-clean-verify-deploy-quot-causes-jar-plugin-to-execute-twice-td5877166.html</a></p>\n<p>Since the above link might be broken as of 2021-09 you might want to try <a href=\"http://mail-archives.apache.org/mod_mbox/maven-users/201608.mbox/thread\" rel=\"nofollow noreferrer\">http://mail-archives.apache.org/mod_mbox/maven-users/201608.mbox/thread</a> as an alternative</p>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1666917759,"creation_date":1666917759,"answer_id":74229573,"question_id":40964500,"body_markdown":"One reason to have this error may be that the `package` goal is mistakenly executed twice:\r\n\r\n    mvn ... package ... package\r\n\r\nMay happen when the command is built by imperfect scripts :)","title":"Maven JAR Plugin 3.0.2 Error: You have to use a classifier to attach supplemental artifacts to the project instead of replacing them","body":"<p>One reason to have this error may be that the <code>package</code> goal is mistakenly executed twice:</p>\n<pre><code>mvn ... package ... package\n</code></pre>\n<p>May happen when the command is built by imperfect scripts :)</p>\n"},{"tags":[],"owner":{"account_id":367804,"reputation":10671,"user_id":714211,"accept_rate":72,"display_name":"Doua Beri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674324674,"creation_date":1674324674,"answer_id":75195516,"question_id":40964500,"body_markdown":"A little late but you should add `&lt;phase&gt;none&lt;/phase&gt;` to default-jar execution. this will skip it.\r\n```\r\n&lt;execution&gt;\r\n  &lt;id&gt;default-jar&lt;/id&gt;\r\n  &lt;phase&gt;none&lt;/phase&gt;\r\n&lt;/execution&gt;\r\n```\r\n\r\nThis will skip the default-jar but others are executed. Make sure you put `&lt;phase&gt;package&lt;/phase&gt;`  in the rest of the execution threads.","title":"Maven JAR Plugin 3.0.2 Error: You have to use a classifier to attach supplemental artifacts to the project instead of replacing them","body":"<p>A little late but you should add <code>&lt;phase&gt;none&lt;/phase&gt;</code> to default-jar execution. this will skip it.</p>\n<pre><code>&lt;execution&gt;\n  &lt;id&gt;default-jar&lt;/id&gt;\n  &lt;phase&gt;none&lt;/phase&gt;\n&lt;/execution&gt;\n</code></pre>\n<p>This will skip the default-jar but others are executed. Make sure you put <code>&lt;phase&gt;package&lt;/phase&gt;</code>  in the rest of the execution threads.</p>\n"},{"comments":[{"owner":{"account_id":1599577,"reputation":1009,"user_id":1480910,"display_name":"pieroxy"},"score":1,"creation_date":1700038694,"post_id":76015911,"comment_id":136604652,"body_markdown":"Looks like the real answer that is not a hack or a workaround. You did what the message told you to do. Thanks,","body":"Looks like the real answer that is not a hack or a workaround. You did what the message told you to do. Thanks,"}],"tags":[],"owner":{"account_id":2278572,"reputation":1743,"user_id":2004265,"display_name":"DAB"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681480899,"creation_date":1681480899,"answer_id":76015911,"question_id":40964500,"body_markdown":"\r\nI got the error \r\n\r\n&gt; Maven JAR Plugin 3.0.2 Error: You have to use a classifier to attach\r\n&gt; supplemental artifacts to the project instead of replacing them\r\n\r\n\r\nwhen I was building a WAR but needed an extra JAR file to resolve external dependencies in another project. \r\n\r\nI solved the problem simply by adding a configuration element containing a &quot;classifier&quot;. This simply means the JAR file will have the classifier as a suffix in its name.\r\n\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t      &lt;executions&gt;\r\n\t\t        &lt;execution&gt;\r\n\t\t          &lt;phase&gt;install&lt;/phase&gt;\r\n\t\t          &lt;goals&gt;\r\n\t\t            &lt;goal&gt;jar&lt;/goal&gt;\r\n\t\t          &lt;/goals&gt;\r\n\t\t          &lt;configuration&gt;\r\n\t\t\t\t\t  &lt;classifier&gt;identify_your_jar_file_differently&lt;/classifier&gt;\r\n\t\t\t\t  &lt;/configuration&gt;\r\n\t\t        &lt;/execution&gt;\r\n\t\t      &lt;/executions&gt;\r\n\t\t    &lt;/plugin&gt;\t\t\t","title":"Maven JAR Plugin 3.0.2 Error: You have to use a classifier to attach supplemental artifacts to the project instead of replacing them","body":"<p>I got the error</p>\n<blockquote>\n<p>Maven JAR Plugin 3.0.2 Error: You have to use a classifier to attach\nsupplemental artifacts to the project instead of replacing them</p>\n</blockquote>\n<p>when I was building a WAR but needed an extra JAR file to resolve external dependencies in another project.</p>\n<p>I solved the problem simply by adding a configuration element containing a &quot;classifier&quot;. This simply means the JAR file will have the classifier as a suffix in its name.</p>\n<pre><code>        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;phase&gt;install&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;jar&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                  &lt;classifier&gt;identify_your_jar_file_differently&lt;/classifier&gt;\n              &lt;/configuration&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;           \n</code></pre>\n"}],"owner":{"account_id":2493093,"reputation":26492,"user_id":2170192,"accept_rate":100,"display_name":"Alex Shesterov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56458,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":40964626,"answer_count":6,"score":54,"last_activity_date":1681480899,"creation_date":1480890748,"question_id":40964500,"body_markdown":"Maven JAR plugin (version 3.0.2) keeps throwing the following error, __even for a single invocation of the `jar` goal__: \r\n\r\n&gt; [ERROR] Failed to execute goal org.apache.maven.plugins:maven-jar-plugin:3.0.2:jar (default) on project test: You have to use a classifier to attach supplemental artifacts to the project instead of replacing them. -&gt; [Help 1]\r\n\r\n\r\nHere&#39;s a (minimal?) `pom.xml` which demonstrates the problem: \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;test&lt;/groupId&gt;\r\n      &lt;artifactId&gt;test&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;jar&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThe invocation is just `mvn package`. \r\n\r\n* It doesn&#39;t seem to matter whether there are any classes/resources at all — the above error message appears anyway. \r\n* The problem also appears if two goals are specified (`jar` and `test-jar`). \r\n* The problem does NOT appear if **no goals** are specified. But this is not an option, since I really need both `jar` and `test-jar`. \r\n\r\nAccording to the [documentation](https://maven.apache.org/plugins/maven-jar-plugin/jar-mojo.html#classifier), `classifier` only needs to be specified on multiple invocations of the same goal, and there&#39;s a reasonable default for the `test-jar` goal which I don&#39;t intend to change. \r\n\r\nAlso, **the problem doesn&#39;t seem to appear on the 2.x line of the JAR plugin.**\r\n\r\nDid I miss something? \r\nCould anybody please suggest what I am doing wrong? \r\n\r\nP.S. The Maven version is 3.3.9. ","title":"Maven JAR Plugin 3.0.2 Error: You have to use a classifier to attach supplemental artifacts to the project instead of replacing them","body":"<p>Maven JAR plugin (version 3.0.2) keeps throwing the following error, <strong>even for a single invocation of the <code>jar</code> goal</strong>: </p>\n\n<blockquote>\n  <p>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-jar-plugin:3.0.2:jar (default) on project test: You have to use a classifier to attach supplemental artifacts to the project instead of replacing them. -> [Help 1]</p>\n</blockquote>\n\n<p>Here's a (minimal?) <code>pom.xml</code> which demonstrates the problem: </p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;test&lt;/groupId&gt;\n  &lt;artifactId&gt;test&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;jar&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>The invocation is just <code>mvn package</code>. </p>\n\n<ul>\n<li>It doesn't seem to matter whether there are any classes/resources at all — the above error message appears anyway. </li>\n<li>The problem also appears if two goals are specified (<code>jar</code> and <code>test-jar</code>). </li>\n<li>The problem does NOT appear if <strong>no goals</strong> are specified. But this is not an option, since I really need both <code>jar</code> and <code>test-jar</code>. </li>\n</ul>\n\n<p>According to the <a href=\"https://maven.apache.org/plugins/maven-jar-plugin/jar-mojo.html#classifier\" rel=\"noreferrer\">documentation</a>, <code>classifier</code> only needs to be specified on multiple invocations of the same goal, and there's a reasonable default for the <code>test-jar</code> goal which I don't intend to change. </p>\n\n<p>Also, <strong>the problem doesn't seem to appear on the 2.x line of the JAR plugin.</strong></p>\n\n<p>Did I miss something? \nCould anybody please suggest what I am doing wrong? </p>\n\n<p>P.S. The Maven version is 3.3.9. </p>\n"},{"tags":["java","android","kotlin","charts","android-native-library"],"comments":[{"owner":{"account_id":4885279,"reputation":51,"user_id":3937935,"display_name":"Ali.M"},"score":1,"creation_date":1681479034,"post_id":76014933,"comment_id":134067360,"body_markdown":"Please share your code","body":"Please share your code"}],"answers":[{"tags":[],"owner":{"account_id":4885279,"reputation":51,"user_id":3937935,"display_name":"Ali.M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681480722,"creation_date":1681479587,"answer_id":76015719,"question_id":76014933,"body_markdown":"Since you have not shared your code it is difficult to provide a complete solution. But for your first question:\r\n\r\n    getAxisLeft().setEnabled(false);\r\n    getAxisRight().setEnabled(false);\r\n\r\nthese two methods disable the vertical axis.\r\nFor your 2nd and 3rd questions you should use:\r\n\r\n    chart.getXAxis().setValueFormatter();\r\n\r\nYou can find a complete and comprehansive documentation to MPAndroidChart [here][1].\r\n\r\nEspecifically for line chart this is an example. [Here][2]\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/PhilJay/MPAndroidChart\r\n  [2]: https://github.com/PhilJay/MPAndroidChart/blob/master/MPChartExample/src/main/java/com/xxmassdeveloper/mpchartexample/LineChartActivity1.java\r\n\r\n","title":"Line Chart Using MPChartAandroid","body":"<p>Since you have not shared your code it is difficult to provide a complete solution. But for your first question:</p>\n<pre><code>getAxisLeft().setEnabled(false);\ngetAxisRight().setEnabled(false);\n</code></pre>\n<p>these two methods disable the vertical axis.\nFor your 2nd and 3rd questions you should use:</p>\n<pre><code>chart.getXAxis().setValueFormatter();\n</code></pre>\n<p>You can find a complete and comprehansive documentation to MPAndroidChart <a href=\"https://github.com/PhilJay/MPAndroidChart\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Especifically for line chart this is an example. <a href=\"https://github.com/PhilJay/MPAndroidChart/blob/master/MPChartExample/src/main/java/com/xxmassdeveloper/mpchartexample/LineChartActivity1.java\" rel=\"nofollow noreferrer\">Here</a></p>\n"}],"owner":{"account_id":14900539,"reputation":1,"user_id":10759503,"display_name":"Ganpat Kaliya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681480722,"creation_date":1681474031,"question_id":76014933,"body_markdown":"**How to display chart like below ?**\r\n\r\n- Only display XAxis lable\r\n- XAxis lable is in string value with multiline\r\n- show value only on first and last plotted value\r\n\r\nPlease see the screen shot.\r\n[enter image description here](https://i.stack.imgur.com/MOEwn.png)\r\n\r\nPlease help me if anyone have idea about this. Thanks a lot.\r\n\r\nI am using MPChart android library and I have tried so many ways which found on stack overflow but could not able to achieve this.\r\n\r\nSo Please help me if you have any idea about this. ","title":"Line Chart Using MPChartAandroid","body":"<p><strong>How to display chart like below ?</strong></p>\n<ul>\n<li>Only display XAxis lable</li>\n<li>XAxis lable is in string value with multiline</li>\n<li>show value only on first and last plotted value</li>\n</ul>\n<p>Please see the screen shot.\n<a href=\"https://i.stack.imgur.com/MOEwn.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Please help me if anyone have idea about this. Thanks a lot.</p>\n<p>I am using MPChart android library and I have tried so many ways which found on stack overflow but could not able to achieve this.</p>\n<p>So Please help me if you have any idea about this.</p>\n"},{"tags":["java","asynchronous","future","completable-future"],"comments":[{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":0,"creation_date":1681504748,"post_id":76015480,"comment_id":134072949,"body_markdown":"Related: combining a stream of futures into a future for a stream: https://stackoverflow.com/a/74452659/402428","body":"Related: combining a stream of futures into a future for a stream: <a href=\"https://stackoverflow.com/a/74452659/402428\">stackoverflow.com/a/74452659/402428</a>"}],"answers":[{"comments":[{"owner":{"account_id":7470778,"reputation":13323,"user_id":5678853,"accept_rate":61,"display_name":"Blake Rivell"},"score":0,"creation_date":1681479548,"post_id":76015638,"comment_id":134067484,"body_markdown":"Thank you very much for this response. I do have one quick question... if I ultimately need to do logic on those 3 lists and return a single CompleteableFuture&lt;JsonArray&gt; from my function, is .thenRun still the right thing to use?","body":"Thank you very much for this response. I do have one quick question... if I ultimately need to do logic on those 3 lists and return a single CompleteableFuture&lt;JsonArray&gt; from my function, is .thenRun still the right thing to use?"},{"owner":{"account_id":7470778,"reputation":13323,"user_id":5678853,"accept_rate":61,"display_name":"Blake Rivell"},"score":0,"creation_date":1681480302,"post_id":76015638,"comment_id":134067700,"body_markdown":"Sorry maybe you can help me figure this final piece out. Once I have all 3 values inside of the allOf(), I need to do some logic on them and then ultimately return a CompletableFuture&lt;JsonObject&gt; from my function. When I try &quot;return CompletableFuture.allOf(...)&quot; I am getting an error because it is CompletableFuture&lt;Void&gt; when I need to return my final result which needs to be CompletableFuture&lt;JsonObject&gt; (which I construct with my custom logic)","body":"Sorry maybe you can help me figure this final piece out. Once I have all 3 values inside of the allOf(), I need to do some logic on them and then ultimately return a CompletableFuture&lt;JsonObject&gt; from my function. When I try &quot;return CompletableFuture.allOf(...)&quot; I am getting an error because it is CompletableFuture&lt;Void&gt; when I need to return my final result which needs to be CompletableFuture&lt;JsonObject&gt; (which I construct with my custom logic)"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1681480766,"post_id":76015638,"comment_id":134067805,"body_markdown":"hey, i have updated my answer to address this additional question. hope it helps, take a look.","body":"hey, i have updated my answer to address this additional question. hope it helps, take a look."},{"owner":{"account_id":7470778,"reputation":13323,"user_id":5678853,"accept_rate":61,"display_name":"Blake Rivell"},"score":0,"creation_date":1681481258,"post_id":76015638,"comment_id":134067918,"body_markdown":"This helped so much! I was able to use thenApply on the allOf future and then return what I needed. My only remaining question is about the __ added to thenApply(). I am assuming since allOf returns a CompletableFuture&lt;Void&gt;, __ represents void and that is our only option here.","body":"This helped so much! I was able to use thenApply on the allOf future and then return what I needed. My only remaining question is about the __ added to thenApply(). I am assuming since allOf returns a CompletableFuture&lt;Void&gt;, __ represents void and that is our only option here."},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1681481450,"post_id":76015638,"comment_id":134067961,"body_markdown":"yes, the `thenApply` method&#39;s should accept a lambda with an argument to keep the same signature consistent with the others. It&#39;s common practice to use `__` or `igonre` as names for parameters which are not meant to be used. I&#39;m glad it helped!","body":"yes, the <code>thenApply</code> method&#39;s should accept a lambda with an argument to keep the same signature consistent with the others. It&#39;s common practice to use <code>__</code> or <code>igonre</code> as names for parameters which are not meant to be used. I&#39;m glad it helped!"}],"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681480712,"creation_date":1681479130,"answer_id":76015638,"question_id":76015480,"body_markdown":"Let&#39;s use this to simulate the delay (PS: I am returning string instead of json object):\r\n\r\n    public CompletableFuture&lt;String&gt; getProduct() {\r\n    \treturn waitAndReturn(2000, &quot;product  ready&quot;);\r\n    }\r\n    public CompletableFuture&lt;String&gt; getCustomers() {\r\n    \treturn waitAndReturn(2000, &quot;customers ready&quot;);\r\n    }\r\n    public CompletableFuture&lt;String&gt; getOrders() {\r\n    \treturn waitAndReturn(2000, &quot;customers ready&quot;);\r\n    }\r\n\r\n    private CompletableFuture&lt;String&gt; waitAndReturn(int millis, String string) {\r\n    \treturn CompletableFuture.supplyAsync(() -&gt; {\r\n    \t\ttry {\r\n    \t\t\tThread.sleep(millis);\r\n    \t\t\treturn string;\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t});\r\n    }\r\n\r\nNext, as you mentioned, we need to use the `CompletableFuture.allOf` method. This is going to run the 3 methods in parallel and return a `CompletableFuture&lt;Void&gt;` as it&#39;s result.\r\n\r\n    var cust = getCustomers();\r\n    var prod = getProduct();\r\n    var order = getOrders();\r\n    \r\n    CompletableFuture&lt;Void&gt; all = CompletableFuture.allOf(\r\n    \t\tcust, prod, order\r\n    );\r\n\r\nOn this resulting future, we can call the `thenRun` and pass a lambda expression. This is going to be ran when the 3 initial futures are ready, and therefore, we can call the `join` method on each of them, to get the data out:\r\n\r\n\r\n    @Test\r\n    void test() throws InterruptedException {\r\n    \r\n    \tvar cust = getCustomers();\r\n    \tvar prod = getProduct();\r\n    \tvar order = getOrders();\r\n    \r\n    \tSystem.out.println(System.currentTimeMillis());\r\n    \tCompletableFuture.allOf(\r\n    \t\t\tcust, prod, order\r\n    \t).thenRun(() -&gt; {\r\n    \t\tString customerJson = cust.join();\r\n    \t\tString productJson = prod.join();\r\n    \t\tString orderJson = order.join();\r\n    \t\tSystem.out.println(customerJson + productJson + orderJson);\r\n    \t\tSystem.out.println(System.currentTimeMillis());\r\n    \t});\r\n    \r\n    \tThread.sleep(5000);\r\n    }\r\n\r\n\r\n\r\n\r\nLater edited: as per discussed in the comments.\r\n\r\nIf you want to return a `CompletableFuture&lt;&gt;` without blocking and waiting, you can approach it slightly differently: `thenRun` is like the equivalent of forEach for streams, you can imagine it as a final operation.\r\n\r\nHowever, you can use `thenApply`which will be more like a `stream.map`: it will allow you to process the 3 futures and combine them into a new one. I&#39;ll stick to the String example instead of jsonObjects:\r\n\r\n    CompletableFuture&lt;String&gt; result = CompletableFuture.allOf(\r\n\t\t\t\t\tcust, prod, order\r\n\t\t\t).thenApply(__ -&gt; {\r\n\t\t\t\tString customerJson = cust.join();\r\n\t\t\t\tString productJson = prod.join();\r\n\t\t\t\tString orderJson = order.join();\r\n\t\t\t\treturn customerJson + productJson + orderJson;\r\n\t\t\t}); \r\n\r\nAs you can see, the function inside `thenApply` returns a String and the resulting type of is now a `CompletableFuture&lt;String&gt;`. You can now return this from your function and somebody else can continue adding other intermediary steps `thenApply(...)` or consume it `thenRun()`.\r\n\r\nI hope the comparison with streams will make it easier to grasp the information. For a very well explained and more in-depth tutorial, watch this video: https://www.youtube.com/watch?v=9ueIL0SwEWI\r\n\r\n","title":"Merging three Completeable futures into one with Java","body":"<p>Let's use this to simulate the delay (PS: I am returning string instead of json object):</p>\n<pre><code>public CompletableFuture&lt;String&gt; getProduct() {\n    return waitAndReturn(2000, &quot;product  ready&quot;);\n}\npublic CompletableFuture&lt;String&gt; getCustomers() {\n    return waitAndReturn(2000, &quot;customers ready&quot;);\n}\npublic CompletableFuture&lt;String&gt; getOrders() {\n    return waitAndReturn(2000, &quot;customers ready&quot;);\n}\n\nprivate CompletableFuture&lt;String&gt; waitAndReturn(int millis, String string) {\n    return CompletableFuture.supplyAsync(() -&gt; {\n        try {\n            Thread.sleep(millis);\n            return string;\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    });\n}\n</code></pre>\n<p>Next, as you mentioned, we need to use the <code>CompletableFuture.allOf</code> method. This is going to run the 3 methods in parallel and return a <code>CompletableFuture&lt;Void&gt;</code> as it's result.</p>\n<pre><code>var cust = getCustomers();\nvar prod = getProduct();\nvar order = getOrders();\n\nCompletableFuture&lt;Void&gt; all = CompletableFuture.allOf(\n        cust, prod, order\n);\n</code></pre>\n<p>On this resulting future, we can call the <code>thenRun</code> and pass a lambda expression. This is going to be ran when the 3 initial futures are ready, and therefore, we can call the <code>join</code> method on each of them, to get the data out:</p>\n<pre><code>@Test\nvoid test() throws InterruptedException {\n\n    var cust = getCustomers();\n    var prod = getProduct();\n    var order = getOrders();\n\n    System.out.println(System.currentTimeMillis());\n    CompletableFuture.allOf(\n            cust, prod, order\n    ).thenRun(() -&gt; {\n        String customerJson = cust.join();\n        String productJson = prod.join();\n        String orderJson = order.join();\n        System.out.println(customerJson + productJson + orderJson);\n        System.out.println(System.currentTimeMillis());\n    });\n\n    Thread.sleep(5000);\n}\n</code></pre>\n<p>Later edited: as per discussed in the comments.</p>\n<p>If you want to return a <code>CompletableFuture&lt;&gt;</code> without blocking and waiting, you can approach it slightly differently: <code>thenRun</code> is like the equivalent of forEach for streams, you can imagine it as a final operation.</p>\n<p>However, you can use <code>thenApply</code>which will be more like a <code>stream.map</code>: it will allow you to process the 3 futures and combine them into a new one. I'll stick to the String example instead of jsonObjects:</p>\n<pre><code>CompletableFuture&lt;String&gt; result = CompletableFuture.allOf(\n                cust, prod, order\n        ).thenApply(__ -&gt; {\n            String customerJson = cust.join();\n            String productJson = prod.join();\n            String orderJson = order.join();\n            return customerJson + productJson + orderJson;\n        }); \n</code></pre>\n<p>As you can see, the function inside <code>thenApply</code> returns a String and the resulting type of is now a <code>CompletableFuture&lt;String&gt;</code>. You can now return this from your function and somebody else can continue adding other intermediary steps <code>thenApply(...)</code> or consume it <code>thenRun()</code>.</p>\n<p>I hope the comparison with streams will make it easier to grasp the information. For a very well explained and more in-depth tutorial, watch this video: <a href=\"https://www.youtube.com/watch?v=9ueIL0SwEWI\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=9ueIL0SwEWI</a></p>\n"}],"owner":{"account_id":7470778,"reputation":13323,"user_id":5678853,"accept_rate":61,"display_name":"Blake Rivell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681480712,"creation_date":1681477997,"question_id":76015480,"body_markdown":"The following 3 methods return `CompleteableFuture&lt;JsonObject&gt;`, The content I need is on the value property of the JsonObject so ultimately I would need to do something like response.getJsonArray(&quot;value&quot;)\r\n\r\n    CompletableFuture&lt;JsonObject&gt; completeableFuture1 = entityService.getProducts();\r\n    CompletableFuture&lt;JsonObject&gt; completeableFuture2 = entityService.getCustomers();\r\n    CompletableFuture&lt;JsonObject&gt; completeableFuture3 = entityService.getOrders();\r\n\r\nOnce I successfully retrieve these 3 pieces I would like to continue with the remainder of my code that depends on them. I will need access to all 3 lists: products, customers, orders.\r\n\r\nAfter doing some research I think I need to use allOf(), but having trouble figuring out the correct syntax to piece it all together.\r\n\r\n","title":"Merging three Completeable futures into one with Java","body":"<p>The following 3 methods return <code>CompleteableFuture&lt;JsonObject&gt;</code>, The content I need is on the value property of the JsonObject so ultimately I would need to do something like response.getJsonArray(&quot;value&quot;)</p>\n<pre><code>CompletableFuture&lt;JsonObject&gt; completeableFuture1 = entityService.getProducts();\nCompletableFuture&lt;JsonObject&gt; completeableFuture2 = entityService.getCustomers();\nCompletableFuture&lt;JsonObject&gt; completeableFuture3 = entityService.getOrders();\n</code></pre>\n<p>Once I successfully retrieve these 3 pieces I would like to continue with the remainder of my code that depends on them. I will need access to all 3 lists: products, customers, orders.</p>\n<p>After doing some research I think I need to use allOf(), but having trouble figuring out the correct syntax to piece it all together.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9724,"page":501,"page_size":100}
