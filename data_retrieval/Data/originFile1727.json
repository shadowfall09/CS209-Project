{"items":[{"tags":["java","command-line","compilation"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1640645602,"post_id":70501191,"comment_id":124624911,"body_markdown":"`mvn exec:java -Dexec.mainClass=&quot;test.test1&quot;` - see also [this answer](https://stackoverflow.com/a/9846103/2970947).","body":"<code>mvn exec:java -Dexec.mainClass=&quot;test.test1&quot;</code> - see also <a href=\"https://stackoverflow.com/a/9846103/2970947\">this answer</a>."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1640645635,"post_id":70501191,"comment_id":124624916,"body_markdown":"Look at the `-cp` flag.","body":"Look at the <code>-cp</code> flag."}],"answers":[{"tags":[],"owner":{"account_id":4088741,"reputation":6300,"user_id":3357352,"accept_rate":97,"display_name":"OrenIshShalom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640690331,"creation_date":1640690331,"answer_id":70506298,"question_id":70501191,"body_markdown":"Here is a minimal working example to compile java source files from multiple locations and pack them in a single runnable jar.\r\n```\r\n$ tree\r\n.\r\n├── makefile\r\n├── src_folder_1\r\n│&#160;&#160; └── Main.java\r\n└── src_folder_2\r\n    └── Person.java\r\n```\r\nThe contents of java files appear at the end for completeness. Here is the makefile.\r\n```\r\nBIN_DIR = bin\r\nWITH_DEBUG_INFO = -g\r\n\r\n.DEFAULT_GOAL:\r\napp.jar:\r\n\r\ncompile_phase.done: ${SRC_FILES}\r\n\t@mkdir -p ${BIN_DIR}\r\n\t@javac ${WITH_DEBUG_INFO} ${SRC_FILES} -d ${BIN_DIR}\r\n\t@echo &quot;DONE&quot; &gt;&gt; $@\r\n\r\nmanifest.mf:\r\n\t@echo &quot;Class-Path: ${BIN_DIR}/*.class\\nMain-Class: Main\\n&quot; &gt; $@\r\n\r\napp.jar: manifest.mf compile_phase.done\r\n\t@jar cfm $@ $&lt; -C ${BIN_DIR} .\r\n\t@rm -rf ${BIN_DIR}\r\n\t@rm $^\r\n```\r\nSee that *all* java source files are compiled within the *same* rule, and the corresponding `*.class` files are put in a dedicated `bin` directory. To emphasize that *everything needed to run the jar is inside it* I completely removed the `bin` directory and the `manifest.mf`. Now you can run the program with\r\n```\r\n$ java -jar app.jar oren\r\nHello oren\r\n```\r\nHere are the java files for completeness:\r\n```\r\n$ cat src_folder_1/Main.java \r\nclass Main {\r\n    static public void main(String[] args) {\r\n        Person p = new Person(args[0]);\r\n        System.out.format(&quot;Hello %s\\n&quot;,p.toString()); }}\r\n$ cat src_folder_2/Person.java \r\nclass Person {\r\n    private String name;\r\n    public Person(String n) { this.name = n;}\r\n    public String toString() { return name; }}\r\n```","title":"Compiling a java project from linux command line","body":"<p>Here is a minimal working example to compile java source files from multiple locations and pack them in a single runnable jar.</p>\n<pre><code>$ tree\n.\n├── makefile\n├── src_folder_1\n│   └── Main.java\n└── src_folder_2\n    └── Person.java\n</code></pre>\n<p>The contents of java files appear at the end for completeness. Here is the makefile.</p>\n<pre><code>BIN_DIR = bin\nWITH_DEBUG_INFO = -g\n\n.DEFAULT_GOAL:\napp.jar:\n\ncompile_phase.done: ${SRC_FILES}\n    @mkdir -p ${BIN_DIR}\n    @javac ${WITH_DEBUG_INFO} ${SRC_FILES} -d ${BIN_DIR}\n    @echo &quot;DONE&quot; &gt;&gt; $@\n\nmanifest.mf:\n    @echo &quot;Class-Path: ${BIN_DIR}/*.class\\nMain-Class: Main\\n&quot; &gt; $@\n\napp.jar: manifest.mf compile_phase.done\n    @jar cfm $@ $&lt; -C ${BIN_DIR} .\n    @rm -rf ${BIN_DIR}\n    @rm $^\n</code></pre>\n<p>See that <em>all</em> java source files are compiled within the <em>same</em> rule, and the corresponding <code>*.class</code> files are put in a dedicated <code>bin</code> directory. To emphasize that <em>everything needed to run the jar is inside it</em> I completely removed the <code>bin</code> directory and the <code>manifest.mf</code>. Now you can run the program with</p>\n<pre><code>$ java -jar app.jar oren\nHello oren\n</code></pre>\n<p>Here are the java files for completeness:</p>\n<pre><code>$ cat src_folder_1/Main.java \nclass Main {\n    static public void main(String[] args) {\n        Person p = new Person(args[0]);\n        System.out.format(&quot;Hello %s\\n&quot;,p.toString()); }}\n$ cat src_folder_2/Person.java \nclass Person {\n    private String name;\n    public Person(String n) { this.name = n;}\n    public String toString() { return name; }}\n</code></pre>\n"}],"owner":{"account_id":23198033,"reputation":17,"user_id":17293361,"display_name":"wil123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70506298,"answer_count":1,"score":0,"last_activity_date":1640690425,"creation_date":1640645367,"question_id":70501191,"body_markdown":"I am having trouble understanding how to actually use the command line to run a big java project ( by big I mean with multiple files and folder).\r\n\r\nImagine I have a project containing :\r\n```\r\n~/src/main/fr/file1.java\r\n~/src/main/fr/file2.java\r\n\r\n~/src/test/test1.java\r\n\r\n```\r\nAll my life people have done the makefile for me. I just code the java src with vim and compile and run with ```make```. Now there is no makefile ! I compile with maven (that I am still understanding how it works.). After compiling with maven (I just run maven compile). I then have a new folder named target.\r\n\r\n```\r\n~/target/main/fr/file1.class\r\n~/target/main/fr/file2.class\r\n\r\n\r\n~/target/test/test1.class\r\n``` \r\nNow how can I run ```test1``` ? I tried using ``` java -classpath =... test1 ``` but I always get errors ...\r\n\r\nIf can someone help me (or just give me some resources so I can finally understand basic project structuring and scripting) it will be amazing. Thank you !","title":"Compiling a java project from linux command line","body":"<p>I am having trouble understanding how to actually use the command line to run a big java project ( by big I mean with multiple files and folder).</p>\n<p>Imagine I have a project containing :</p>\n<pre><code>~/src/main/fr/file1.java\n~/src/main/fr/file2.java\n\n~/src/test/test1.java\n\n</code></pre>\n<p>All my life people have done the makefile for me. I just code the java src with vim and compile and run with <code>make</code>. Now there is no makefile ! I compile with maven (that I am still understanding how it works.). After compiling with maven (I just run maven compile). I then have a new folder named target.</p>\n<pre><code>~/target/main/fr/file1.class\n~/target/main/fr/file2.class\n\n\n~/target/test/test1.class\n</code></pre>\n<p>Now how can I run <code>test1</code> ? I tried using <code>java -classpath =... test1</code> but I always get errors ...</p>\n<p>If can someone help me (or just give me some resources so I can finally understand basic project structuring and scripting) it will be amazing. Thank you !</p>\n"},{"tags":["java","spring","http","exception","error-handling"],"comments":[{"owner":{"account_id":6932710,"reputation":3956,"user_id":5321729,"accept_rate":67,"display_name":"Ajit Soman"},"score":0,"creation_date":1640692947,"post_id":70506207,"comment_id":124634185,"body_markdown":"This exception `ServicePropagatedException` is sent by you .. right ?","body":"This exception <code>ServicePropagatedException</code> is sent by you .. right ?"},{"owner":{"account_id":6932710,"reputation":3956,"user_id":5321729,"accept_rate":67,"display_name":"Ajit Soman"},"score":0,"creation_date":1640693013,"post_id":70506207,"comment_id":124634210,"body_markdown":"If you are catching and rethrowing exception . Look for `getResponseBodyAsString` method in Exception that you are catching","body":"If you are catching and rethrowing exception . Look for <code>getResponseBodyAsString</code> method in Exception that you are catching"},{"owner":{"account_id":19670013,"reputation":193,"user_id":14399455,"display_name":"wishyouwerehere"},"score":0,"creation_date":1640693460,"post_id":70506207,"comment_id":124634370,"body_markdown":"What is tha class that have getResponseBodyAsString method? In Exception this method doesn&#39;t exist","body":"What is tha class that have getResponseBodyAsString method? In Exception this method doesn&#39;t exist"},{"owner":{"account_id":6932710,"reputation":3956,"user_id":5321729,"accept_rate":67,"display_name":"Ajit Soman"},"score":0,"creation_date":1640693725,"post_id":70506207,"comment_id":124634461,"body_markdown":"@wishyouwerehere https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestClientResponseException.html","body":"@wishyouwerehere <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestClientResponseException.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":19670013,"reputation":193,"user_id":14399455,"display_name":"wishyouwerehere"},"score":0,"creation_date":1640696373,"post_id":70506207,"comment_id":124635317,"body_markdown":"But is from RestClientResponseException, that is not ServicePropagatedException (ServicePropagatedException is the exception that I catch when the service response is not 200 OK)","body":"But is from RestClientResponseException, that is not ServicePropagatedException (ServicePropagatedException is the exception that I catch when the service response is not 200 OK)"}],"owner":{"account_id":21615036,"reputation":51,"user_id":15940981,"display_name":"stackismylifedontyouforget"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640689873,"creation_date":1640689873,"question_id":70506207,"body_markdown":"I&#39;m developing a back-end application using Spring Boot and Java.\r\nThe application uses controllers to implement web services.\r\nMy services call **external services** (not developed by me), which can (of course) fail with various HTTP codes.\r\nThis is an example of a service that fails (I call it `myService`):\r\n\r\n**Input:**\r\n\r\n    {\r\n      &quot;input&quot;: &quot;wrongInput&quot;\r\n    }\r\n\r\n**Output** (status code: 400) **:**\r\n\r\n    {\r\n        &quot;error&quot;: &quot;This is the description of the error&quot;\r\n    }\r\n\r\nIn my application I have implemented a `ResponseEntityExceptionHandler` to catch exceptions when services fail. In this way I can catch the possible `ServicePropagatedException`  use it however I want to show the client that an internal error (due to outside services and not me) has occurred.\r\n\r\nHere&#39;s how I use the custom `MyPropagatedException` exception in code:\r\n\r\n    @ExceptionHandler(value = { MyPropagatedException.class })\r\n    protected ResponseEntity&lt;Object&gt; handlePostePropagatedException(MyPropagatedException ex, WebRequest request) {\r\n    \t    \t\r\n    \tServicePropagatedException spe = (ServicePropagatedException)ex; // Casting to ServicePropagatedException \r\n    \t\r\n        return handleExceptionInternal(ex, getResponse(&quot;PROPAGATE_ERROR&quot;, &quot;WHAT_HAPPENED&quot;), new HttpHeaders(), spe.getHttpStatus(), request);\r\n    }\r\n\r\nMy question is: spe.getHttpStatus() successfully captures **error code 400** from my `myService` service, but **how can I make the client also display the body** in which the error is described? I would like to access the information `&quot;error&quot;: &quot;This is the description of the error&quot;` and manage it as I want (or show it to the client as it is, or change it at will). \r\n\r\nIs it possible to get this body using `ServicePropagatedException`? Or is there another way to do it?","title":"Java Spring Boot: How to view the body of a service that fails?","body":"<p>I'm developing a back-end application using Spring Boot and Java.\nThe application uses controllers to implement web services.\nMy services call <strong>external services</strong> (not developed by me), which can (of course) fail with various HTTP codes.\nThis is an example of a service that fails (I call it <code>myService</code>):</p>\n<p><strong>Input:</strong></p>\n<pre><code>{\n  &quot;input&quot;: &quot;wrongInput&quot;\n}\n</code></pre>\n<p><strong>Output</strong> (status code: 400) <strong>:</strong></p>\n<pre><code>{\n    &quot;error&quot;: &quot;This is the description of the error&quot;\n}\n</code></pre>\n<p>In my application I have implemented a <code>ResponseEntityExceptionHandler</code> to catch exceptions when services fail. In this way I can catch the possible <code>ServicePropagatedException</code>  use it however I want to show the client that an internal error (due to outside services and not me) has occurred.</p>\n<p>Here's how I use the custom <code>MyPropagatedException</code> exception in code:</p>\n<pre><code>@ExceptionHandler(value = { MyPropagatedException.class })\nprotected ResponseEntity&lt;Object&gt; handlePostePropagatedException(MyPropagatedException ex, WebRequest request) {\n            \n    ServicePropagatedException spe = (ServicePropagatedException)ex; // Casting to ServicePropagatedException \n    \n    return handleExceptionInternal(ex, getResponse(&quot;PROPAGATE_ERROR&quot;, &quot;WHAT_HAPPENED&quot;), new HttpHeaders(), spe.getHttpStatus(), request);\n}\n</code></pre>\n<p>My question is: spe.getHttpStatus() successfully captures <strong>error code 400</strong> from my <code>myService</code> service, but <strong>how can I make the client also display the body</strong> in which the error is described? I would like to access the information <code>&quot;error&quot;: &quot;This is the description of the error&quot;</code> and manage it as I want (or show it to the client as it is, or change it at will).</p>\n<p>Is it possible to get this body using <code>ServicePropagatedException</code>? Or is there another way to do it?</p>\n"},{"tags":["java","sap-commerce-cloud","spartacus-storefront"],"answers":[{"tags":[],"owner":{"account_id":12167194,"reputation":21,"user_id":8883132,"display_name":"Leonardo Martinez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613531935,"creation_date":1613531935,"answer_id":66235278,"question_id":65091520,"body_markdown":"You just have to install occaddon in your custom ws extension, \r\nFirst I recommend to you, create your customwebservices extensions from **ycommercewebservices** template, with `ant modulegen` tool\r\n\r\nSecond install occaddon to your customwebservices extension\r\n\r\n    ant addoninstall -Daddonnames=&quot;cmsoccaddon&quot; -DaddonStorefront.ycommercewebservices=&quot;customwebservices&quot;\r\n\r\nremember to list **cmsoccaddon** in your **localextensions**\r\n\r\nFinally, execute `ant clean all` and start up your server, you should be able to see cms endpoints without conflict,\r\n\r\nRegards.","title":"Custom commercewebservices with the new extension in Hybris-Spartacus project","body":"<p>You just have to install occaddon in your custom ws extension,\nFirst I recommend to you, create your customwebservices extensions from <strong>ycommercewebservices</strong> template, with <code>ant modulegen</code> tool</p>\n<p>Second install occaddon to your customwebservices extension</p>\n<pre><code>ant addoninstall -Daddonnames=&quot;cmsoccaddon&quot; -DaddonStorefront.ycommercewebservices=&quot;customwebservices&quot;\n</code></pre>\n<p>remember to list <strong>cmsoccaddon</strong> in your <strong>localextensions</strong></p>\n<p>Finally, execute <code>ant clean all</code> and start up your server, you should be able to see cms endpoints without conflict,</p>\n<p>Regards.</p>\n"}],"owner":{"account_id":4497277,"reputation":316,"user_id":3656785,"display_name":"Hatip Kabak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2511,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1640689667,"creation_date":1606829754,"question_id":65091520,"body_markdown":"We would like to use the Spartacus framework with version 2005 of Sap Commerce Cloud (Hybris).\r\nThere is a custom commercewebservices (created from ycommercewebservices)  extension that is already in use. **We don&#39;t want to touch it.** \r\n\r\nBased on the following documentation, here are the steps for version 2005.\r\n\r\nhttps://help.sap.com/viewer/9d346683b0084da2938be8a285c0c27a/2005/en-US/d46d19516961438f8939718e87ed787b.html\r\n\r\n**1) Create a new custom extension from yocc. Let&#39;s call it xxxocc.**\r\n\r\n**xxxocc requires commercewebservices with the webcontext /occ**\r\n\r\n**2) xxxocc should require out of the box (OOTB) cmsocc to get cms pages and components info for Spartacus.**\r\n\r\n**cmsocc requires commercewebservices with the webcontext /occ.**\r\n\r\n**Current custom commercewebservices has its own commercewebservices settings with the webcontext /rest.**\r\n\r\nAfter creating a new extension from yocc(xxxocc), custom commercewebservices has a lot of conflicts with the new one. (commerceStockFacade, security settings, contextInformationLoader etc.)\r\n\r\nWe could resolve these issues with big efforts but after requiring cmsocc in the xxxocc extension, the same errors are going to happen again because the cmsocc has also its own commercewebservices, and resolving issues for the cmsocc extension is not possible without making it a custom extension like xxxcmsocc.\r\n\r\n**What should be the best approach to use the current commercewebservices along with the new extension in a project?** \r\n\r\n ","title":"Custom commercewebservices with the new extension in Hybris-Spartacus project","body":"<p>We would like to use the Spartacus framework with version 2005 of Sap Commerce Cloud (Hybris).\nThere is a custom commercewebservices (created from ycommercewebservices)  extension that is already in use. <strong>We don't want to touch it.</strong></p>\n<p>Based on the following documentation, here are the steps for version 2005.</p>\n<p><a href=\"https://help.sap.com/viewer/9d346683b0084da2938be8a285c0c27a/2005/en-US/d46d19516961438f8939718e87ed787b.html\" rel=\"nofollow noreferrer\">https://help.sap.com/viewer/9d346683b0084da2938be8a285c0c27a/2005/en-US/d46d19516961438f8939718e87ed787b.html</a></p>\n<p><strong>1) Create a new custom extension from yocc. Let's call it xxxocc.</strong></p>\n<p><strong>xxxocc requires commercewebservices with the webcontext /occ</strong></p>\n<p><strong>2) xxxocc should require out of the box (OOTB) cmsocc to get cms pages and components info for Spartacus.</strong></p>\n<p><strong>cmsocc requires commercewebservices with the webcontext /occ.</strong></p>\n<p><strong>Current custom commercewebservices has its own commercewebservices settings with the webcontext /rest.</strong></p>\n<p>After creating a new extension from yocc(xxxocc), custom commercewebservices has a lot of conflicts with the new one. (commerceStockFacade, security settings, contextInformationLoader etc.)</p>\n<p>We could resolve these issues with big efforts but after requiring cmsocc in the xxxocc extension, the same errors are going to happen again because the cmsocc has also its own commercewebservices, and resolving issues for the cmsocc extension is not possible without making it a custom extension like xxxcmsocc.</p>\n<p><strong>What should be the best approach to use the current commercewebservices along with the new extension in a project?</strong></p>\n"},{"tags":["java","tomcat","web-applications","http-status-code-404"],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479317753,"creation_date":1479315759,"answer_id":40638009,"question_id":40637871,"body_markdown":"You should specify the context root of your web application.\r\nBy default, it uses the filename of the war if not specified but if your war changes because of version change, it is clumsy to change the url of the application for application clients. So, it is a best practice to configure the context root of your application.\r\n\r\n\r\nInstead of `localhost:8080/index.html`, it would be `localhost:8080/yourApp/index.html`\r\n\r\nA`context.xml` file in the `META-INF` folder of you WAR should be present when the war is deployed. If you have a `META-INF` folder in the source of your project, it may do the job.&lt;br&gt; Otherwise, you should detail how you build your war.&lt;br&gt;\r\n\r\nIn this file, specify the docbase which is the root context in this way :\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;Context\r\n      docBase=&quot;yourApp&quot;&gt;\r\n    &lt;/Context&gt;\r\n\r\nFrom the [official doc][1] :\r\n\r\n&gt; In an individual file at /META-INF/context.xml inside the application\r\n&gt; files. Optionally (based on the Host&#39;s copyXML attribute) this may be\r\n&gt; copied to $CATALINA_BASE/conf/[enginename]/[hostname]/ and renamed to\r\n&gt; application&#39;s base file name plus a &quot;.xml&quot; extension.\r\n\r\n \r\nBesides, specifying `index.html` in your browser should not be required since one of default welcome-file page is `index.html`.\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-9.0-doc/config/context.html","title":"IntelliJ JSF basic project doesn&#39;t work in Tomcat","body":"<p>You should specify the context root of your web application.\nBy default, it uses the filename of the war if not specified but if your war changes because of version change, it is clumsy to change the url of the application for application clients. So, it is a best practice to configure the context root of your application.</p>\n\n<p>Instead of <code>localhost:8080/index.html</code>, it would be <code>localhost:8080/yourApp/index.html</code></p>\n\n<p>A<code>context.xml</code> file in the <code>META-INF</code> folder of you WAR should be present when the war is deployed. If you have a <code>META-INF</code> folder in the source of your project, it may do the job.<br> Otherwise, you should detail how you build your war.<br></p>\n\n<p>In this file, specify the docbase which is the root context in this way :</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;Context\n  docBase=\"yourApp\"&gt;\n&lt;/Context&gt;\n</code></pre>\n\n<p>From the <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/context.html\" rel=\"nofollow noreferrer\">official doc</a> :</p>\n\n<blockquote>\n  <p>In an individual file at /META-INF/context.xml inside the application\n  files. Optionally (based on the Host's copyXML attribute) this may be\n  copied to $CATALINA_BASE/conf/[enginename]/[hostname]/ and renamed to\n  application's base file name plus a \".xml\" extension.</p>\n</blockquote>\n\n<p>Besides, specifying <code>index.html</code> in your browser should not be required since one of default welcome-file page is <code>index.html</code>.</p>\n"},{"tags":[],"owner":{"account_id":23765537,"reputation":1,"user_id":17780344,"display_name":"Shane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640689547,"creation_date":1640689547,"answer_id":70506147,"question_id":40637871,"body_markdown":"Here is a summary oh what you need to do.\r\n\r\nDownload tomcat 10 tomcat.apache.org/download-10.cgi\r\n\r\nI downloaded the 64-bit Windows zip file so I can easily restart the server from intellij dlcdn.apache.org/tomcat/tomcat-10/v10.0.14/bin/apache-tomcat-10.0.14-windows-x64.zip\r\n\r\nExtract the folder to an easy to remember location\r\n\r\nIn intellij create a New Project and then select &#39;Java Enterprise&#39; -&gt; Name Project -&gt; Under Project template: select Web application -&gt; Under Application server select Tomcat (If Tomcat is not an option you can click new and navigate to the root directory where you extracted the tomcat zip. If you have already built the project before setting up your Application server then I have detailed instructions below explaining how to add tomcat server to your Java Enterprise project. If your project is not Java Enterprise then START&#160;OVER)\r\n\r\nLanguage: Java\r\n\r\nBuild system: Maven\r\n\r\nTest framework: JUnit\r\n\r\npick whatever you want for the last 3 options and click Next\r\n\r\nUnder Specifications I personally selected Full Platform but I think you can get away with just selecting Server Faces, Servlet and Enterprise Java Beans (EJB)\r\n\r\nUnder Implementations I selected everything labeled Apache and Mojarra Server Faces\r\n\r\nClick Finish\r\n\r\nAllow Project to build then you will need to make some additions to a few files\r\n\r\n*Before doing the next step I highly suggest adding a quick button to clean install your project. You will need to do this A LOT. To add then button in the top right of your intellij window you will see a drop down window. it may say &quot;Edit Configurations&quot; or Tomcat... (if you added tomcat at the project creation stage). Click the drop down and select Edit Configurations, click the plus in the top left of the window that pops up, Select &quot;Maven&quot;. You can name it Build (Project Name) in the Command line field (May be labeled as Command line or be under the word Run with the words &quot;Command Line&quot; in grey (its the same field)).&#160; Type &quot;clean install&quot; do this without the quotes. just clean &#39;space&#39; install then click Apply then OK. Now all you will need to do is click the green triangle next to the drop down to clean install.\r\n\r\nIn your pom.xml file add the following dependencies\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- This dependency is here but its the wrong version so deleted it or comment it out --&gt;\r\n    &lt;!--&lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.faces&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.16&lt;/version&gt;\r\n        &lt;/dependency&gt; --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.faces&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0-M1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNext navigate to your web.xml file located in src-&gt; main-&gt; webapp-&gt; WEB-INF and replace all the text with this below\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;jakarta.ee/xml/ns/jakartaee&quot;\r\n             xmlns:xsi=&quot;w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;jakarta.ee/xml/ns/jakartaee \r\n             jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\r\n             version=&quot;5.0&quot;\r\n             metadata-complete=&quot;true&quot;&gt;\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;javax.faces.CONFIG_FILES&lt;/param-name&gt;\r\n        &lt;param-value&gt;/WEB-INF/faces-config.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;/web-app&gt;\r\n\r\nNow refresh your Maven so that it can download the new dependencies. To do this click the Maven tab on the far right of the intellij window and click the refresh button. &quot;Looks kinda like the recycle symbol&quot; or two arrows circling each other. Now clean install your project. If you did not set up the button then you will need to open the Maven tab then expand the file that shares your project name then expand Lifecycle the double click &quot;clean&quot; once it finishes double click &quot;install&quot; (this is why its better to make the build button this gets annoying)\r\n\r\nFinally start your tomcat server. Once the server is deployed it should open a browser window and run the default index.jsp file it says &quot;Hello World!&quot; and there is a link saying &quot;Hello Servlet&quot;\r\n\r\nSince you are working on *.xhtml files I&#39;m sure you will be wanting to actually use .xhtml files and not .jsp to make sure your project can work with .xhtml files please create one inside the webapp directory. The easiest way is to right click the webapp folder and select New -&gt; JSF/Facelets. Then make your hello world file Something quick and simple. Finally the last two things, to navigate to your .xhtml file shut down the tomcat server, clean install project, redeploy tomcat server and at the end of the URL just type the file name you created including the .xhtml extension. This should take you to your Hello World file. \r\n\r\nLast thing if you want to change which page gets loaded when your Tomcat server is deployed simply add this additional tag to your web.xml file.\r\n\r\nThe welcome file can be whatever you want to link to You can also have multiple files in this list so if one is missing the server will move down the list until it finds one that does exist.\r\n\r\n    \r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;hello-world.xhtml&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n\r\nIn intellij go to &quot;Run/Debug Configurations click the `+` symbol in the top left of the window, select tomcat local. Name the server, then click the &quot;Configure...&quot; button to the right of the Application server: field. In the Application Servers window that pops up Click Tomcat Home: and navigate to the root directory of wherever you extracted the Tomcat 10 zip file. Example C:\\tomcat\\apache-tomcat-10.0.14. If the rest of the fields populate then you did it correctly. Click Ok\r\n\r\nNext Click the Deployment tab below the server name. Click the `+` and select Artifact. Then click the artifact that ends in war exploded (actually it worked with either but that&#39;s the one I chose)","title":"IntelliJ JSF basic project doesn&#39;t work in Tomcat","body":"<p>Here is a summary oh what you need to do.</p>\n<p>Download tomcat 10 tomcat.apache.org/download-10.cgi</p>\n<p>I downloaded the 64-bit Windows zip file so I can easily restart the server from intellij dlcdn.apache.org/tomcat/tomcat-10/v10.0.14/bin/apache-tomcat-10.0.14-windows-x64.zip</p>\n<p>Extract the folder to an easy to remember location</p>\n<p>In intellij create a New Project and then select 'Java Enterprise' -&gt; Name Project -&gt; Under Project template: select Web application -&gt; Under Application server select Tomcat (If Tomcat is not an option you can click new and navigate to the root directory where you extracted the tomcat zip. If you have already built the project before setting up your Application server then I have detailed instructions below explaining how to add tomcat server to your Java Enterprise project. If your project is not Java Enterprise then START OVER)</p>\n<p>Language: Java</p>\n<p>Build system: Maven</p>\n<p>Test framework: JUnit</p>\n<p>pick whatever you want for the last 3 options and click Next</p>\n<p>Under Specifications I personally selected Full Platform but I think you can get away with just selecting Server Faces, Servlet and Enterprise Java Beans (EJB)</p>\n<p>Under Implementations I selected everything labeled Apache and Mojarra Server Faces</p>\n<p>Click Finish</p>\n<p>Allow Project to build then you will need to make some additions to a few files</p>\n<p>*Before doing the next step I highly suggest adding a quick button to clean install your project. You will need to do this A LOT. To add then button in the top right of your intellij window you will see a drop down window. it may say &quot;Edit Configurations&quot; or Tomcat... (if you added tomcat at the project creation stage). Click the drop down and select Edit Configurations, click the plus in the top left of the window that pops up, Select &quot;Maven&quot;. You can name it Build (Project Name) in the Command line field (May be labeled as Command line or be under the word Run with the words &quot;Command Line&quot; in grey (its the same field)).  Type &quot;clean install&quot; do this without the quotes. just clean 'space' install then click Apply then OK. Now all you will need to do is click the green triangle next to the drop down to clean install.</p>\n<p>In your pom.xml file add the following dependencies</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\n    &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- This dependency is here but its the wrong version so deleted it or comment it out --&gt;\n&lt;!--&lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.faces&lt;/artifactId&gt;\n        &lt;version&gt;2.3.16&lt;/version&gt;\n    &lt;/dependency&gt; --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.faces&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0-M1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Next navigate to your web.xml file located in src-&gt; main-&gt; webapp-&gt; WEB-INF and replace all the text with this below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;jakarta.ee/xml/ns/jakartaee&quot;\n         xmlns:xsi=&quot;w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;jakarta.ee/xml/ns/jakartaee \n         jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\n         version=&quot;5.0&quot;\n         metadata-complete=&quot;true&quot;&gt;\n\n&lt;context-param&gt;\n    &lt;param-name&gt;javax.faces.CONFIG_FILES&lt;/param-name&gt;\n    &lt;param-value&gt;/WEB-INF/faces-config.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;servlet&gt;\n    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>Now refresh your Maven so that it can download the new dependencies. To do this click the Maven tab on the far right of the intellij window and click the refresh button. &quot;Looks kinda like the recycle symbol&quot; or two arrows circling each other. Now clean install your project. If you did not set up the button then you will need to open the Maven tab then expand the file that shares your project name then expand Lifecycle the double click &quot;clean&quot; once it finishes double click &quot;install&quot; (this is why its better to make the build button this gets annoying)</p>\n<p>Finally start your tomcat server. Once the server is deployed it should open a browser window and run the default index.jsp file it says &quot;Hello World!&quot; and there is a link saying &quot;Hello Servlet&quot;</p>\n<p>Since you are working on *.xhtml files I'm sure you will be wanting to actually use .xhtml files and not .jsp to make sure your project can work with .xhtml files please create one inside the webapp directory. The easiest way is to right click the webapp folder and select New -&gt; JSF/Facelets. Then make your hello world file Something quick and simple. Finally the last two things, to navigate to your .xhtml file shut down the tomcat server, clean install project, redeploy tomcat server and at the end of the URL just type the file name you created including the .xhtml extension. This should take you to your Hello World file.</p>\n<p>Last thing if you want to change which page gets loaded when your Tomcat server is deployed simply add this additional tag to your web.xml file.</p>\n<p>The welcome file can be whatever you want to link to You can also have multiple files in this list so if one is missing the server will move down the list until it finds one that does exist.</p>\n<pre><code>&lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;hello-world.xhtml&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;\n</code></pre>\n<p>In intellij go to &quot;Run/Debug Configurations click the <code>+</code> symbol in the top left of the window, select tomcat local. Name the server, then click the &quot;Configure...&quot; button to the right of the Application server: field. In the Application Servers window that pops up Click Tomcat Home: and navigate to the root directory of wherever you extracted the Tomcat 10 zip file. Example C:\\tomcat\\apache-tomcat-10.0.14. If the rest of the fields populate then you did it correctly. Click Ok</p>\n<p>Next Click the Deployment tab below the server name. Click the <code>+</code> and select Artifact. Then click the artifact that ends in war exploded (actually it worked with either but that's the one I chose)</p>\n"}],"owner":{"account_id":9262858,"reputation":182,"user_id":6879290,"accept_rate":14,"display_name":"TonyRomero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1607,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1640689547,"creation_date":1479315363,"question_id":40637871,"body_markdown":"I created a new JSF-PrimeFaces project in IntelliJ IDEA using Tomcat 9, it doesn&#39;t work.\r\n\r\nindex.xhtml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;\r\n            &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n          xmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;\r\n          xmlns:ui=&quot;http://xmlns.jcp.org/jsf/facelets&quot;\r\n          xmlns:f=&quot;http://xmlns.jcp.org/jsf/core&quot;\r\n          xmlns:p=&quot;http://primefaces.org/ui&quot;&gt;\r\n       &lt;h:body&gt;\r\n          &lt;h:form&gt;\r\n             &lt;p:panel header=&quot;Keyboard Demo&quot;&gt;\r\n                &lt;p:keyboard value=&quot;#{keyboardBean.value}&quot;/&gt;\r\n             &lt;/p:panel&gt;\r\n             &lt;p:commandButton value=&quot;Submit&quot;/&gt;\r\n          &lt;/h:form&gt;\r\n       &lt;/h:body&gt;\r\n    &lt;/html&gt;\r\n\r\nKeyBoardBean.java\r\n\r\n    package main;\r\n    \r\n    import javax.faces.bean.ManagedBean;\r\n    import javax.faces.bean.SessionScoped;\r\n    \r\n    @ManagedBean\r\n    @SessionScoped\r\n    public class KeyBoardBean {\r\n    \r\n        private String value;\r\n    \r\n        public String getValue() {\r\n            System.out.println(&quot;KeyboardBean::reading value: &quot; +value);\r\n            return value;\r\n        }\r\n    \r\n        public void setValue(String value) {\r\n            System.out.println(&quot;KeyboardBean::setting value: &quot; +value);\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\nweb.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n             version=&quot;3.1&quot;&gt;\r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nWhen I run Tomcat this is what I got:\r\n\r\n[![Error 404][1]][1]\r\n\r\nWhat I have missed? Is my IDEA installation broken?\r\n\r\nEDIT: I tried using Tomcat 8, I have made a new default project using the Primefaces template, Run and the same error above appears, here&#39;s the server output:\r\n\r\n    &quot;C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.8\\bin\\catalina.bat&quot; run\r\n    Using CATALINA_BASE:   &quot;C:\\Users\\Antonio\\.IntelliJIdea2016.2\\system\\tomcat\\Tomcat_8_5_8_untitled&quot;\r\n    Using CATALINA_HOME:   &quot;C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.8&quot;\r\n    Using CATALINA_TMPDIR: &quot;C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.8\\temp&quot;\r\n    Using JRE_HOME:        &quot;C:\\Program Files\\Java\\jdk1.8.0_111&quot;\r\n    Using CLASSPATH:       &quot;C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.8\\bin\\bootstrap.jar;C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.8\\bin\\tomcat-juli.jar&quot;\r\n    17-Nov-2016 19:03:27.101 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Server version:        Apache Tomcat/8.5.8\r\n    17-Nov-2016 19:03:27.102 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Nov 3 2016 21:14:13 UTC\r\n    17-Nov-2016 19:03:27.102 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Server number:         8.5.8.0\r\n    17-Nov-2016 19:03:27.102 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Windows 10\r\n    17-Nov-2016 19:03:27.103 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            10.0\r\n    17-Nov-2016 19:03:27.103 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\r\n    17-Nov-2016 19:03:27.103 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             C:\\Program Files\\Java\\jdk1.8.0_111\\jre\r\n    17-Nov-2016 19:03:27.103 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.8.0_111-b14\r\n    17-Nov-2016 19:03:27.103 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\r\n    17-Nov-2016 19:03:27.103 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         C:\\Users\\Antonio\\.IntelliJIdea2016.2\\system\\tomcat\\Tomcat_8_5_8_untitled\r\n    17-Nov-2016 19:03:27.103 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.8\r\n    17-Nov-2016 19:03:27.103 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote=\r\n    17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.port=1099\r\n    17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.ssl=false\r\n    17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.authenticate=false\r\n    17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.rmi.server.hostname=127.0.0.1\r\n    17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\r\n    17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\r\n    17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=C:\\Users\\Antonio\\.IntelliJIdea2016.2\\system\\tomcat\\Tomcat_8_5_8_untitled\\conf\\logging.properties\r\n    17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n    17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=C:\\Users\\Antonio\\.IntelliJIdea2016.2\\system\\tomcat\\Tomcat_8_5_8_untitled\r\n    17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.8\r\n    17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.8\\temp\r\n    17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded APR based Apache Tomcat Native library 1.2.10 using APR version 1.5.2.\r\n    17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].\r\n    17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]\r\n    17-Nov-2016 19:03:27.952 INFORMAZIONI [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized (OpenSSL 1.0.2j  26 Sep 2016)\r\n    17-Nov-2016 19:03:28.016 INFORMAZIONI [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    17-Nov-2016 19:03:28.057 INFORMAZIONI [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\n    17-Nov-2016 19:03:28.058 INFORMAZIONI [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    17-Nov-2016 19:03:28.059 INFORMAZIONI [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\n    17-Nov-2016 19:03:28.059 INFORMAZIONI [main] org.apache.catalina.startup.Catalina.load Initialization processed in 1134 ms\r\n    17-Nov-2016 19:03:28.073 INFORMAZIONI [main] org.apache.catalina.core.StandardService.startInternal Starting service Catalina\r\n    17-Nov-2016 19:03:28.073 INFORMAZIONI [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet Engine: Apache Tomcat/8.5.8\r\n    17-Nov-2016 19:03:28.079 INFORMAZIONI [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [http-nio-8080]\r\n    17-Nov-2016 19:03:28.084 INFORMAZIONI [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [ajp-nio-8009]\r\n    17-Nov-2016 19:03:28.086 INFORMAZIONI [main] org.apache.catalina.startup.Catalina.start Server startup in 26 ms\r\n    17-Nov-2016 19:03:38.080 INFORMAZIONI [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.8\\webapps\\manager\r\n    17-Nov-2016 19:03:38.267 INFORMAZIONI [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.8\\webapps\\manager has finished in 187 ms\r\n    [2016-11-17 07:03:54,997] Artifact untitled:war exploded: Server is not connected. Deploy is not available.\r\n    Connected to server\r\n    [2016-11-17 07:03:55,018] Artifact untitled:war exploded: Artifact is being deployed, please wait...\r\n    [2016-11-17 07:03:55,073] Artifact untitled:war exploded: Artifact is deployed successfully\r\n    [2016-11-17 07:03:55,074] Artifact untitled:war exploded: Deploy took 56 milliseconds\r\n\r\n[Project.rar][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P7qW5.png\r\n  [2]: https://mega.nz/#!o4N3mDJD!or-OR8WYX0YVetr_ggAnXknEFc6vFhxzwKV57GqbJ9M","title":"IntelliJ JSF basic project doesn&#39;t work in Tomcat","body":"<p>I created a new JSF-PrimeFaces project in IntelliJ IDEA using Tomcat 9, it doesn't work.</p>\n\n<p>index.xhtml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n        \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"\n      xmlns:h=\"http://xmlns.jcp.org/jsf/html\"\n      xmlns:ui=\"http://xmlns.jcp.org/jsf/facelets\"\n      xmlns:f=\"http://xmlns.jcp.org/jsf/core\"\n      xmlns:p=\"http://primefaces.org/ui\"&gt;\n   &lt;h:body&gt;\n      &lt;h:form&gt;\n         &lt;p:panel header=\"Keyboard Demo\"&gt;\n            &lt;p:keyboard value=\"#{keyboardBean.value}\"/&gt;\n         &lt;/p:panel&gt;\n         &lt;p:commandButton value=\"Submit\"/&gt;\n      &lt;/h:form&gt;\n   &lt;/h:body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>KeyBoardBean.java</p>\n\n<pre><code>package main;\n\nimport javax.faces.bean.ManagedBean;\nimport javax.faces.bean.SessionScoped;\n\n@ManagedBean\n@SessionScoped\npublic class KeyBoardBean {\n\n    private String value;\n\n    public String getValue() {\n        System.out.println(\"KeyboardBean::reading value: \" +value);\n        return value;\n    }\n\n    public void setValue(String value) {\n        System.out.println(\"KeyboardBean::setting value: \" +value);\n        this.value = value;\n    }\n}\n</code></pre>\n\n<p>web.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"\n         version=\"3.1\"&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>When I run Tomcat this is what I got:</p>\n\n<p><a href=\"https://i.stack.imgur.com/P7qW5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P7qW5.png\" alt=\"Error 404\"></a></p>\n\n<p>What I have missed? Is my IDEA installation broken?</p>\n\n<p>EDIT: I tried using Tomcat 8, I have made a new default project using the Primefaces template, Run and the same error above appears, here's the server output:</p>\n\n<pre><code>\"C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.8\\bin\\catalina.bat\" run\nUsing CATALINA_BASE:   \"C:\\Users\\Antonio\\.IntelliJIdea2016.2\\system\\tomcat\\Tomcat_8_5_8_untitled\"\nUsing CATALINA_HOME:   \"C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.8\"\nUsing CATALINA_TMPDIR: \"C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.8\\temp\"\nUsing JRE_HOME:        \"C:\\Program Files\\Java\\jdk1.8.0_111\"\nUsing CLASSPATH:       \"C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.8\\bin\\bootstrap.jar;C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.8\\bin\\tomcat-juli.jar\"\n17-Nov-2016 19:03:27.101 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Server version:        Apache Tomcat/8.5.8\n17-Nov-2016 19:03:27.102 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Nov 3 2016 21:14:13 UTC\n17-Nov-2016 19:03:27.102 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Server number:         8.5.8.0\n17-Nov-2016 19:03:27.102 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Windows 10\n17-Nov-2016 19:03:27.103 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            10.0\n17-Nov-2016 19:03:27.103 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\n17-Nov-2016 19:03:27.103 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             C:\\Program Files\\Java\\jdk1.8.0_111\\jre\n17-Nov-2016 19:03:27.103 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.8.0_111-b14\n17-Nov-2016 19:03:27.103 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\n17-Nov-2016 19:03:27.103 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         C:\\Users\\Antonio\\.IntelliJIdea2016.2\\system\\tomcat\\Tomcat_8_5_8_untitled\n17-Nov-2016 19:03:27.103 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.8\n17-Nov-2016 19:03:27.103 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote=\n17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.port=1099\n17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.ssl=false\n17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.authenticate=false\n17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.rmi.server.hostname=127.0.0.1\n17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\n17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\n17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=C:\\Users\\Antonio\\.IntelliJIdea2016.2\\system\\tomcat\\Tomcat_8_5_8_untitled\\conf\\logging.properties\n17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=C:\\Users\\Antonio\\.IntelliJIdea2016.2\\system\\tomcat\\Tomcat_8_5_8_untitled\n17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.8\n17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.8\\temp\n17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded APR based Apache Tomcat Native library 1.2.10 using APR version 1.5.2.\n17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].\n17-Nov-2016 19:03:27.104 INFORMAZIONI [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]\n17-Nov-2016 19:03:27.952 INFORMAZIONI [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized (OpenSSL 1.0.2j  26 Sep 2016)\n17-Nov-2016 19:03:28.016 INFORMAZIONI [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [\"http-nio-8080\"]\n17-Nov-2016 19:03:28.057 INFORMAZIONI [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\n17-Nov-2016 19:03:28.058 INFORMAZIONI [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [\"ajp-nio-8009\"]\n17-Nov-2016 19:03:28.059 INFORMAZIONI [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\n17-Nov-2016 19:03:28.059 INFORMAZIONI [main] org.apache.catalina.startup.Catalina.load Initialization processed in 1134 ms\n17-Nov-2016 19:03:28.073 INFORMAZIONI [main] org.apache.catalina.core.StandardService.startInternal Starting service Catalina\n17-Nov-2016 19:03:28.073 INFORMAZIONI [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet Engine: Apache Tomcat/8.5.8\n17-Nov-2016 19:03:28.079 INFORMAZIONI [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [http-nio-8080]\n17-Nov-2016 19:03:28.084 INFORMAZIONI [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [ajp-nio-8009]\n17-Nov-2016 19:03:28.086 INFORMAZIONI [main] org.apache.catalina.startup.Catalina.start Server startup in 26 ms\n17-Nov-2016 19:03:38.080 INFORMAZIONI [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.8\\webapps\\manager\n17-Nov-2016 19:03:38.267 INFORMAZIONI [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory C:\\Program Files\\Apache Software Foundation\\apache-tomcat-8.5.8\\webapps\\manager has finished in 187 ms\n[2016-11-17 07:03:54,997] Artifact untitled:war exploded: Server is not connected. Deploy is not available.\nConnected to server\n[2016-11-17 07:03:55,018] Artifact untitled:war exploded: Artifact is being deployed, please wait...\n[2016-11-17 07:03:55,073] Artifact untitled:war exploded: Artifact is deployed successfully\n[2016-11-17 07:03:55,074] Artifact untitled:war exploded: Deploy took 56 milliseconds\n</code></pre>\n\n<p><a href=\"https://mega.nz/#!o4N3mDJD!or-OR8WYX0YVetr_ggAnXknEFc6vFhxzwKV57GqbJ9M\" rel=\"nofollow noreferrer\">Project.rar</a></p>\n"},{"tags":["java","polymorphism","overriding"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640689043,"creation_date":1640689043,"answer_id":70506065,"question_id":70505834,"body_markdown":"There is indeed no way once a subclass starts overriding. That&#39;s by design - you don&#39;t get to refer to &quot;The implementation of the `getValue()` method the way class A does it&quot;, that&#39;s the wrong mental model. You merely get to refer to the notion of &quot;the implementation of the `getValue()` method the way this object does it&quot; (note the difference: Think &#39;objects&#39;, not &#39;classes&#39;). Once we talk solely about &#39;the impl from this object&#39;, then the idea of &quot;But I want the unoverridden value&quot; no longer makes any sense, hence _why_ you can&#39;t do it.\r\n\r\n&gt;  want to know if I can protect my Code\r\n\r\nYeah of course. Just mark the method `final`! This is a sometimes-observed pattern:\r\n\r\n```\r\npublic class Parent {\r\n   public final void init() {\r\n     childInit();\r\n     doStuffThatChildClassesCannotStopFromHappening();\r\n   }\r\n\r\n   protected void childInit() {\r\n     // does nothing - child classes can override if they wish\r\n   }\r\n}\r\n```\r\n","title":"How to Ignore Overriding","body":"<p>There is indeed no way once a subclass starts overriding. That's by design - you don't get to refer to &quot;The implementation of the <code>getValue()</code> method the way class A does it&quot;, that's the wrong mental model. You merely get to refer to the notion of &quot;the implementation of the <code>getValue()</code> method the way this object does it&quot; (note the difference: Think 'objects', not 'classes'). Once we talk solely about 'the impl from this object', then the idea of &quot;But I want the unoverridden value&quot; no longer makes any sense, hence <em>why</em> you can't do it.</p>\n<blockquote>\n<p>want to know if I can protect my Code</p>\n</blockquote>\n<p>Yeah of course. Just mark the method <code>final</code>! This is a sometimes-observed pattern:</p>\n<pre><code>public class Parent {\n   public final void init() {\n     childInit();\n     doStuffThatChildClassesCannotStopFromHappening();\n   }\n\n   protected void childInit() {\n     // does nothing - child classes can override if they wish\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":23765114,"reputation":43,"user_id":17779971,"display_name":"g&#252;nnni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70506065,"answer_count":1,"score":0,"last_activity_date":1640689428,"creation_date":1640687747,"question_id":70505834,"body_markdown":"Code first - question later\r\n```java\r\n\r\nclass A {\r\n    int value() { return 1; }   //The value\r\n\r\n    int getThisValue() { return this.value(); }  //gives back the overridden value\r\n    int getValue() { return value(); }           //this too\r\n\r\n    int getSuperValue() { return value(); }     //for overriding in B\r\n    final int getSuperValue2() { return getSuperValue(); }  \r\n    //Here I get the not-overridden value\r\n    //TODO: simplify the process of getting the un-overridden value\r\n\r\n}\r\n\r\nclass B extends A {\r\n    @Override\r\n    final int getSuperValue() { return super.value(); }  //returns the correct value\r\n}\r\n\r\npublic class Test extends B{\r\n    @Override\r\n    int value() { return 3; }    //overriding the value\r\n\r\n    public static void main(String[] args) {  //output\r\n        Test test = new Test();\r\n\r\n        System.out.println(&quot;getValue(): &quot; + test.getValue());                 //3\r\n        System.out.println(&quot;getThisValue(): &quot; + test.getThisValue());         //3\r\n        System.out.println(&quot;getSuperValue(): &quot; + test.getSuperValue());       //1\r\n        System.out.println(&quot;getSuperValue2(): &quot; + test.getSuperValue2());     //1\r\n    }\r\n}\r\n\r\n```\r\n\r\nI have `A` class, in which I access `value`.  \r\nThis `value` gets overridden  \r\n**-&gt; I want to access the un-overrridden `value` in `A`**  \r\nMy Question: Is *getSuperValue2()* the only way get the un-overridden `value` or is there another way?\r\n\r\nI want to know if I can protect my Code, by only accessing Code I know, but making my code overrideable for those, that want to change the functionality a bit","title":"How to Ignore Overriding","body":"<p>Code first - question later</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass A {\n    int value() { return 1; }   //The value\n\n    int getThisValue() { return this.value(); }  //gives back the overridden value\n    int getValue() { return value(); }           //this too\n\n    int getSuperValue() { return value(); }     //for overriding in B\n    final int getSuperValue2() { return getSuperValue(); }  \n    //Here I get the not-overridden value\n    //TODO: simplify the process of getting the un-overridden value\n\n}\n\nclass B extends A {\n    @Override\n    final int getSuperValue() { return super.value(); }  //returns the correct value\n}\n\npublic class Test extends B{\n    @Override\n    int value() { return 3; }    //overriding the value\n\n    public static void main(String[] args) {  //output\n        Test test = new Test();\n\n        System.out.println(&quot;getValue(): &quot; + test.getValue());                 //3\n        System.out.println(&quot;getThisValue(): &quot; + test.getThisValue());         //3\n        System.out.println(&quot;getSuperValue(): &quot; + test.getSuperValue());       //1\n        System.out.println(&quot;getSuperValue2(): &quot; + test.getSuperValue2());     //1\n    }\n}\n\n</code></pre>\n<p>I have <code>A</code> class, in which I access <code>value</code>.<br />\nThis <code>value</code> gets overridden<br />\n<strong>-&gt; I want to access the un-overrridden <code>value</code> in <code>A</code></strong><br />\nMy Question: Is <em>getSuperValue2()</em> the only way get the un-overridden <code>value</code> or is there another way?</p>\n<p>I want to know if I can protect my Code, by only accessing Code I know, but making my code overrideable for those, that want to change the functionality a bit</p>\n"},{"tags":["java","spring","spring-boot","querydsl"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1640686677,"post_id":70505594,"comment_id":124632403,"body_markdown":"So what doesn&#39;t work?","body":"So what doesn&#39;t work?"},{"owner":{"account_id":20152827,"reputation":37,"user_id":14779749,"display_name":"Hamza ATIF"},"score":0,"creation_date":1640687320,"post_id":70505594,"comment_id":124632608,"body_markdown":"@kiner_shah above check &#39;if (!ObjectUtils.isEmpty(code)) { filter.and(QUserAccount.userAccount.userRoles.any().role.contains((Expression&lt;String&gt;) code)); //what should come here }&#39;","body":"@kiner_shah above check &#39;if (!ObjectUtils.isEmpty(code)) { filter.and(QUserAccount.userAccount.userRoles.any().role.con&zwnj;&#8203;tains((Expression&lt;St&zwnj;&#8203;ring&gt;) code)); //what should come here }&#39;"},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1640687392,"post_id":70505594,"comment_id":124632628,"body_markdown":"What do you mean by not working? Do you get any errors or exceptions? Did you try to debug what is the value of `(Expression&lt;String&gt;) code)`?","body":"What do you mean by not working? Do you get any errors or exceptions? Did you try to debug what is the value of <code>(Expression&lt;String&gt;) code)</code>?"},{"owner":{"account_id":20152827,"reputation":37,"user_id":14779749,"display_name":"Hamza ATIF"},"score":0,"creation_date":1640687459,"post_id":70505594,"comment_id":124632655,"body_markdown":"@kiner_shah this is the exception:   class java.util.ArrayList cannot be cast to class com.querydsl.core.types.Expression (java.util.ArrayList is in module java.base of loader &#39;bootstrap&#39;; com.querydsl.core.types.Expression is in unnamed module of loader &#39;app&#39;)","body":"@kiner_shah this is the exception:   class java.util.ArrayList cannot be cast to class com.querydsl.core.types.Expression (java.util.ArrayList is in module java.base of loader &#39;bootstrap&#39;; com.querydsl.core.types.Expression is in unnamed module of loader &#39;app&#39;)"},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1640687602,"post_id":70505594,"comment_id":124632704,"body_markdown":"I am not sure what is this Expression class but you have to manually convert the list to Expression for this to work. Also, what type of argument does `contains` expect? Is `contains` a user-defined function or inbuilt function of `role` container - what is the data type of `role`?","body":"I am not sure what is this Expression class but you have to manually convert the list to Expression for this to work. Also, what type of argument does <code>contains</code> expect? Is <code>contains</code> a user-defined function or inbuilt function of <code>role</code> container - what is the data type of <code>role</code>?"},{"owner":{"account_id":20152827,"reputation":37,"user_id":14779749,"display_name":"Hamza ATIF"},"score":0,"creation_date":1640687857,"post_id":70505594,"comment_id":124632787,"body_markdown":"@kiner_shah .role is an entity in userRole table and .contains is a keyword of querydsl","body":"@kiner_shah .role is an entity in userRole table and .contains is a keyword of querydsl"},{"owner":{"account_id":20152827,"reputation":37,"user_id":14779749,"display_name":"Hamza ATIF"},"score":0,"creation_date":1640688051,"post_id":70505594,"comment_id":124632841,"body_markdown":"@kiner_shah you just assume there is no line where Expression&lt;String&gt; is mentioned. What will be the filter line?","body":"@kiner_shah you just assume there is no line where Expression&lt;String&gt; is mentioned. What will be the filter line?"}],"answers":[{"tags":[],"owner":{"account_id":3151859,"reputation":1180,"user_id":2665139,"accept_rate":36,"display_name":"Tuan Pham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640688873,"creation_date":1640688318,"answer_id":70505964,"question_id":70505594,"body_markdown":"`contains` is not meant to be used with lists. In this case, you should use `in` instead. Please see the example.     \r\n\r\n    public Page&lt;UserAccount&gt; getAllUserAccounts(String status, List&lt;String&gt; code,\r\n                                            Pageable pageable) {\r\n        BooleanBuilder filter = new BooleanBuilder();\r\n\r\n        if (StringUtils.isNotBlank(status)) {\r\n            filter.and(QUserAccount.userAccount.status.eq(UserAccount.UserAccountStatus.valueOf(status)));\r\n        }\r\n        if (!ObjectUtils.isEmpty(code)) {     //this check is not working\r\n            filter.and(QUserAccount.userAccount.userRoles.any().role.in(code));         \r\n        }\r\n    \r\n        return userAccountRepository.findAll(filter, pageable);\r\n    }","title":"How to filter records using Boolean Builder Spring Boot","body":"<p><code>contains</code> is not meant to be used with lists. In this case, you should use <code>in</code> instead. Please see the example.</p>\n<pre><code>public Page&lt;UserAccount&gt; getAllUserAccounts(String status, List&lt;String&gt; code,\n                                        Pageable pageable) {\n    BooleanBuilder filter = new BooleanBuilder();\n\n    if (StringUtils.isNotBlank(status)) {\n        filter.and(QUserAccount.userAccount.status.eq(UserAccount.UserAccountStatus.valueOf(status)));\n    }\n    if (!ObjectUtils.isEmpty(code)) {     //this check is not working\n        filter.and(QUserAccount.userAccount.userRoles.any().role.in(code));         \n    }\n\n    return userAccountRepository.findAll(filter, pageable);\n}\n</code></pre>\n"}],"owner":{"account_id":20152827,"reputation":37,"user_id":14779749,"display_name":"Hamza ATIF"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70505964,"answer_count":1,"score":0,"last_activity_date":1640688873,"creation_date":1640686266,"question_id":70505594,"body_markdown":"JSON of my code:\r\n\r\n    {\r\n            &quot;webId&quot;: 1713,\r\n            &quot;updateDate&quot;: &quot;2021-10-05 09:51 AM&quot;,\r\n            &quot;createdDate&quot;: &quot;2021-10-05 09:51 AM&quot;,\r\n            &quot;clientId&quot;: 1301,\r\n            &quot;createdBy&quot;: null,\r\n            &quot;updatedBy&quot;: &quot;ABC&quot;,\r\n            &quot;createdById&quot;: 1713,\r\n            &quot;updatedById&quot;: 1713,\r\n            &quot;email&quot;: &quot;ABC@gmail.com&quot;,\r\n            &quot;externalId&quot;: &quot;ABC&quot;,\r\n            &quot;userNumber&quot;: &quot;DEF&quot;,\r\n            &quot;firstName&quot;: &quot;ABC&quot;,\r\n            &quot;lastName&quot;: &quot;XYZ&quot;,\r\n            &quot;surName&quot;: &quot;&quot;,\r\n            &quot;password&quot;: &quot;{ZCjP0UXZnP1ai8StklMx07KjKGW681JwVYp6sT3Fi6A=}1f662684556ea6ca39ef11e93ec73de0&quot;,\r\n            &quot;status&quot;: &quot;ACTIVE&quot;,\r\n            &quot;birthday&quot;: null,\r\n            &quot;phoneNumber&quot;: &quot;&quot;,\r\n            &quot;loginCount&quot;: null,\r\n            &quot;lastLogin&quot;: null,\r\n            &quot;language&quot;: null,\r\n            &quot;timeZone&quot;: null,\r\n            &quot;profilePicture&quot;: null,\r\n            &quot;userRoleModels&quot;: [\r\n                {\r\n                    &quot;webId&quot;: 8202,\r\n                    &quot;updateDate&quot;: &quot;2021-10-12 03:46 PM&quot;,\r\n                    &quot;createdDate&quot;: &quot;2021-10-12 03:46 PM&quot;,\r\n                    &quot;clientId&quot;: 1301,\r\n                    &quot;createdBy&quot;: &quot;ABC&quot;,\r\n                    &quot;updatedBy&quot;: &quot;ABC&quot;,\r\n                    &quot;createdById&quot;: 1713,\r\n                    &quot;updatedById&quot;: 1713,\r\n                    &quot;role&quot;: &quot;100&quot;,\r\n                    &quot;roleCodeText&quot;: &quot;Admin&quot;,\r\n                    &quot;userId&quot;: 1713\r\n                },\r\n                {\r\n                    &quot;webId&quot;: 8152,\r\n                    &quot;updateDate&quot;: &quot;2021-10-12 03:46 PM&quot;,\r\n                    &quot;createdDate&quot;: &quot;2021-10-12 03:46 PM&quot;,\r\n                    &quot;clientId&quot;: 1301,\r\n                    &quot;createdBy&quot;: &quot;ABC&quot;,\r\n                    &quot;updatedBy&quot;: &quot;ABC&quot;,\r\n                    &quot;createdById&quot;: 1713,\r\n                    &quot;updatedById&quot;: 1713,\r\n                    &quot;role&quot;: &quot;200&quot;,\r\n                    &quot;roleCodeText&quot;: &quot;Manager&quot;,\r\n                    &quot;userId&quot;: 1713\r\n                }\r\n            ],\r\n            &quot;userPermissionId&quot;: null\r\n        },\r\n        {\r\n            &quot;webId&quot;: 8702,\r\n            &quot;updateDate&quot;: &quot;2021-08-26 08:45 AM&quot;,\r\n            &quot;createdDate&quot;: &quot;2021-08-11 12:00 AM&quot;,\r\n            &quot;clientId&quot;: 1301,\r\n            &quot;createdBy&quot;: &quot;Test&quot;,\r\n            &quot;updatedBy&quot;: &quot;Test&quot;,\r\n            &quot;createdById&quot;: 8702,\r\n            &quot;updatedById&quot;: 8702,\r\n            &quot;email&quot;: null,\r\n            &quot;externalId&quot;: null,\r\n            &quot;userNumber&quot;: null,\r\n            &quot;firstName&quot;: &quot;TEST&quot;,\r\n            &quot;lastName&quot;: &quot;TEST&quot;,\r\n            &quot;surName&quot;: null,\r\n            &quot;password&quot;: &quot;{EwGlmHpntU1ESocNYysUaaXm8bRpAo3j3OmScvUeQlU=}c5b4fc0e67cdc0ab5ab9e1637e52f43c&quot;,\r\n            &quot;status&quot;: &quot;ACTIVE&quot;,\r\n            &quot;birthday&quot;: &quot;2021-08-23&quot;,\r\n            &quot;phoneNumber&quot;: &quot;03041390843&quot;,\r\n            &quot;loginCount&quot;: null,\r\n            &quot;lastLogin&quot;: null,\r\n            &quot;language&quot;: &quot;123&quot;,\r\n            &quot;timeZone&quot;: null,\r\n            &quot;profilePicture&quot;: null,\r\n            &quot;userRoleModels&quot;: [\r\n                {\r\n                    &quot;webId&quot;: 18004,\r\n                    &quot;updateDate&quot;: &quot;2021-09-04 02:26 PM&quot;,\r\n                    &quot;createdDate&quot;: &quot;2021-09-04 02:26 PM&quot;,\r\n                    &quot;clientId&quot;: 1301,\r\n                    &quot;createdBy&quot;: &quot;TEST&quot;,\r\n                    &quot;updatedBy&quot;: &quot;TEST&quot;,\r\n                    &quot;createdById&quot;: 8702,\r\n                    &quot;updatedById&quot;: 8702,\r\n                    &quot;role&quot;: &quot;100&quot;,\r\n                    &quot;roleCodeText&quot;: &quot;Admin&quot;,\r\n                    &quot;userId&quot;: 8702\r\n                }\r\n            ],\r\n            &quot;userPermissionId&quot;: null\r\n        }\r\n\r\n\r\nThere are a lot of records but i am attaching only 2 records.\r\n\r\nThere is an array of userRoleModels which have an element &quot;role&quot;. I have to filter all the records using that role but a user can filter multiple roles on one go. Like\r\n\r\nURL: http://localhost:8183/api/security/userAccounts?status=ACTIVE&amp;code=100,200\r\n\r\nSo the result should be ALL THE RECORDS HAVING userRoleModels role=100 and 200\r\n\r\n    public Page&lt;UserAccount&gt; getAllUserAccounts(String status, List&lt;String&gt; code,\r\n                                                Pageable pageable) {\r\n        BooleanBuilder filter = new BooleanBuilder();\r\n\r\n        if (StringUtils.isNotBlank(status)) {\r\n            filter.and(QUserAccount.userAccount.status.eq(UserAccount.UserAccountStatus.valueOf(status)));\r\n        }\r\n        if (!ObjectUtils.isEmpty(code)) {     //this check is not working\r\n            filter.and(QUserAccount.userAccount.userRoles.any().role.contains((Expression&lt;String&gt;) code));         //what should come here\r\n        }\r\n\r\n        return userAccountRepository.findAll(filter, pageable);\r\n    }","title":"How to filter records using Boolean Builder Spring Boot","body":"<p>JSON of my code:</p>\n<pre><code>{\n        &quot;webId&quot;: 1713,\n        &quot;updateDate&quot;: &quot;2021-10-05 09:51 AM&quot;,\n        &quot;createdDate&quot;: &quot;2021-10-05 09:51 AM&quot;,\n        &quot;clientId&quot;: 1301,\n        &quot;createdBy&quot;: null,\n        &quot;updatedBy&quot;: &quot;ABC&quot;,\n        &quot;createdById&quot;: 1713,\n        &quot;updatedById&quot;: 1713,\n        &quot;email&quot;: &quot;ABC@gmail.com&quot;,\n        &quot;externalId&quot;: &quot;ABC&quot;,\n        &quot;userNumber&quot;: &quot;DEF&quot;,\n        &quot;firstName&quot;: &quot;ABC&quot;,\n        &quot;lastName&quot;: &quot;XYZ&quot;,\n        &quot;surName&quot;: &quot;&quot;,\n        &quot;password&quot;: &quot;{ZCjP0UXZnP1ai8StklMx07KjKGW681JwVYp6sT3Fi6A=}1f662684556ea6ca39ef11e93ec73de0&quot;,\n        &quot;status&quot;: &quot;ACTIVE&quot;,\n        &quot;birthday&quot;: null,\n        &quot;phoneNumber&quot;: &quot;&quot;,\n        &quot;loginCount&quot;: null,\n        &quot;lastLogin&quot;: null,\n        &quot;language&quot;: null,\n        &quot;timeZone&quot;: null,\n        &quot;profilePicture&quot;: null,\n        &quot;userRoleModels&quot;: [\n            {\n                &quot;webId&quot;: 8202,\n                &quot;updateDate&quot;: &quot;2021-10-12 03:46 PM&quot;,\n                &quot;createdDate&quot;: &quot;2021-10-12 03:46 PM&quot;,\n                &quot;clientId&quot;: 1301,\n                &quot;createdBy&quot;: &quot;ABC&quot;,\n                &quot;updatedBy&quot;: &quot;ABC&quot;,\n                &quot;createdById&quot;: 1713,\n                &quot;updatedById&quot;: 1713,\n                &quot;role&quot;: &quot;100&quot;,\n                &quot;roleCodeText&quot;: &quot;Admin&quot;,\n                &quot;userId&quot;: 1713\n            },\n            {\n                &quot;webId&quot;: 8152,\n                &quot;updateDate&quot;: &quot;2021-10-12 03:46 PM&quot;,\n                &quot;createdDate&quot;: &quot;2021-10-12 03:46 PM&quot;,\n                &quot;clientId&quot;: 1301,\n                &quot;createdBy&quot;: &quot;ABC&quot;,\n                &quot;updatedBy&quot;: &quot;ABC&quot;,\n                &quot;createdById&quot;: 1713,\n                &quot;updatedById&quot;: 1713,\n                &quot;role&quot;: &quot;200&quot;,\n                &quot;roleCodeText&quot;: &quot;Manager&quot;,\n                &quot;userId&quot;: 1713\n            }\n        ],\n        &quot;userPermissionId&quot;: null\n    },\n    {\n        &quot;webId&quot;: 8702,\n        &quot;updateDate&quot;: &quot;2021-08-26 08:45 AM&quot;,\n        &quot;createdDate&quot;: &quot;2021-08-11 12:00 AM&quot;,\n        &quot;clientId&quot;: 1301,\n        &quot;createdBy&quot;: &quot;Test&quot;,\n        &quot;updatedBy&quot;: &quot;Test&quot;,\n        &quot;createdById&quot;: 8702,\n        &quot;updatedById&quot;: 8702,\n        &quot;email&quot;: null,\n        &quot;externalId&quot;: null,\n        &quot;userNumber&quot;: null,\n        &quot;firstName&quot;: &quot;TEST&quot;,\n        &quot;lastName&quot;: &quot;TEST&quot;,\n        &quot;surName&quot;: null,\n        &quot;password&quot;: &quot;{EwGlmHpntU1ESocNYysUaaXm8bRpAo3j3OmScvUeQlU=}c5b4fc0e67cdc0ab5ab9e1637e52f43c&quot;,\n        &quot;status&quot;: &quot;ACTIVE&quot;,\n        &quot;birthday&quot;: &quot;2021-08-23&quot;,\n        &quot;phoneNumber&quot;: &quot;03041390843&quot;,\n        &quot;loginCount&quot;: null,\n        &quot;lastLogin&quot;: null,\n        &quot;language&quot;: &quot;123&quot;,\n        &quot;timeZone&quot;: null,\n        &quot;profilePicture&quot;: null,\n        &quot;userRoleModels&quot;: [\n            {\n                &quot;webId&quot;: 18004,\n                &quot;updateDate&quot;: &quot;2021-09-04 02:26 PM&quot;,\n                &quot;createdDate&quot;: &quot;2021-09-04 02:26 PM&quot;,\n                &quot;clientId&quot;: 1301,\n                &quot;createdBy&quot;: &quot;TEST&quot;,\n                &quot;updatedBy&quot;: &quot;TEST&quot;,\n                &quot;createdById&quot;: 8702,\n                &quot;updatedById&quot;: 8702,\n                &quot;role&quot;: &quot;100&quot;,\n                &quot;roleCodeText&quot;: &quot;Admin&quot;,\n                &quot;userId&quot;: 8702\n            }\n        ],\n        &quot;userPermissionId&quot;: null\n    }\n</code></pre>\n<p>There are a lot of records but i am attaching only 2 records.</p>\n<p>There is an array of userRoleModels which have an element &quot;role&quot;. I have to filter all the records using that role but a user can filter multiple roles on one go. Like</p>\n<p>URL: http://localhost:8183/api/security/userAccounts?status=ACTIVE&amp;code=100,200</p>\n<p>So the result should be ALL THE RECORDS HAVING userRoleModels role=100 and 200</p>\n<pre><code>public Page&lt;UserAccount&gt; getAllUserAccounts(String status, List&lt;String&gt; code,\n                                            Pageable pageable) {\n    BooleanBuilder filter = new BooleanBuilder();\n\n    if (StringUtils.isNotBlank(status)) {\n        filter.and(QUserAccount.userAccount.status.eq(UserAccount.UserAccountStatus.valueOf(status)));\n    }\n    if (!ObjectUtils.isEmpty(code)) {     //this check is not working\n        filter.and(QUserAccount.userAccount.userRoles.any().role.contains((Expression&lt;String&gt;) code));         //what should come here\n    }\n\n    return userAccountRepository.findAll(filter, pageable);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":6676441,"reputation":979,"user_id":5150898,"accept_rate":75,"display_name":"Chinmay jain"},"score":0,"creation_date":1680093446,"post_id":70505831,"comment_id":133838179,"body_markdown":"Were you able to solve this problem?","body":"Were you able to solve this problem?"}],"owner":{"account_id":23765257,"reputation":21,"user_id":17780094,"display_name":"cknb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1640688807,"creation_date":1640687725,"question_id":70505831,"body_markdown":"I&#39;m using @StepScope to get the job parameters on runtime. When starting my Spring Batch application for the first time, It&#39;s working fine. On re-run using devtools, getting the following exception\r\n\r\n```\r\nCaused by: java.lang.LinkageError: loader &#39;app&#39; attempted duplicate class definition for org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69. (org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69 is in unnamed module of loader &#39;app&#39;)\r\n```\r\n\r\n**BatchConfig**\r\n\r\n```\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class UserBatchConfig {\r\n\t\r\n    ....\r\n\t\r\n\t@Bean\r\n\t@StepScope\r\n    public JpaPagingItemReader&lt;User&gt; reader(@Value(&quot;#{jobParameters[&#39;ID&#39;]}&quot;) String batchUniqueId) {\r\n        logger.info(batchUniqueId);\r\n\t\tJpaPagingItemReader&lt;User&gt; reader = new JpaPagingItemReader&lt;User&gt;();\r\n\t\t....\r\n        ....\r\n\t    return reader;\r\n    }\r\n\t\r\n\t@Bean\r\n    public RepositoryItemWriter&lt;User&gt; writer() {\r\n        RepositoryItemWriter&lt;User&gt; writer = new RepositoryItemWriter&lt;&gt;();\r\n        ....\r\n        return writer;\r\n    }\r\n\t\r\n\t@Bean\r\n\tpublic UserCustomProcessor processor() {\r\n\t\t....\r\n\t\treturn new UserCustomProcessor();\r\n\t}\r\n\t\r\n\t@Bean\r\n    public Step step1(JpaPagingItemReader&lt;User&gt; itemReader, ItemWriter&lt;User&gt; itemWriter, StepCompletionListener stepCompletionListener)\r\n            throws Exception {\r\n        return this.stepBuilderFactory\r\n                .get(&quot;step1&quot;)\r\n                .&lt;User, User&gt;chunk(5)\r\n                .reader(itemReader)\r\n                // .reader(reader(null)) // Tried\r\n                .processor(processor())\r\n                .writer(itemWriter)\r\n                .listener(stepCompletionListener)\r\n                .build();\r\n    }\r\n\t\r\n\t@Bean\r\n    public Job userUpdateJob(JobCompletionNotificationListener listener, Step step1) throws Exception {\r\n        return this.jobBuilderFactory\r\n                .get(&quot;userUpdateJob&quot;)\r\n                .incrementer(new RunIdIncrementer())\r\n                .listener(listener)\r\n                .start(step1)\r\n                .build();\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Error** \r\n\r\n```\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userController&#39;: Unsatisfied dependency expressed through field &#39;job&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;UserUpdateJob&#39; defined in class path resource [com/java/UserBatchConfig.class]: Unsatisfied dependency expressed through method &#39;userUpdateJob&#39; parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;step1&#39; defined in class path resource [com/java/UserBatchConfig.class]: Unsatisfied dependency expressed through method &#39;step1&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;reader&#39; defined in BeanDefinition defined in class path resource [com/java/UserBatchConfig.class]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class org.springframework.batch.item.database.JpaPagingItemReader: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.LinkageError--&gt;loader &#39;app&#39; attempted duplicate class definition for org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69. (org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69 is in unnamed module of loader &#39;app&#39;)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1422) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:882) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n\tat com.java.MainApplication.main(MainApplication.java:31) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userUpdateJob&#39; defined in class path resource [com/java/UserBatchConfig.class]: Unsatisfied dependency expressed through method &#39;userUpdateJob&#39; parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;step1&#39; defined in class path resource [com/java/UserBatchConfig.class]: Unsatisfied dependency expressed through method &#39;step1&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;reader&#39; defined in BeanDefinition defined in class path resource [com/java/UserBatchConfig.class]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class org.springframework.batch.item.database.JpaPagingItemReader: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.LinkageError--&gt;loader &#39;app&#39; attempted duplicate class definition for org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69. (org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69 is in unnamed module of loader &#39;app&#39;)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:539) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1290) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1210) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\t... 24 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;step1&#39; defined in class path resource [com/java/UserBatchConfig.class]: Unsatisfied dependency expressed through method &#39;step1&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;reader&#39; defined in BeanDefinition defined in class path resource [com/java/UserBatchConfig.class]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class org.springframework.batch.item.database.JpaPagingItemReader: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.LinkageError--&gt;loader &#39;app&#39; attempted duplicate class definition for org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69. (org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69 is in unnamed module of loader &#39;app&#39;)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:539) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1290) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1210) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\t... 37 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;reader&#39; defined in BeanDefinition defined in class path resource [com/java/UserBatchConfig.class]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class org.springframework.batch.item.database.JpaPagingItemReader: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.LinkageError--&gt;loader &#39;app&#39; attempted duplicate class definition for org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69. (org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69 is in unnamed module of loader &#39;app&#39;)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1290) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1210) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\t... 51 common frames omitted\r\nCaused by: org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class org.springframework.batch.item.database.JpaPagingItemReader: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.LinkageError--&gt;loader &#39;app&#39; attempted duplicate class definition for org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69. (org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69 is in unnamed module of loader &#39;app&#39;)\r\n\tat org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:208) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.aop.scope.ScopedProxyFactoryBean.setBeanFactory(ScopedProxyFactoryBean.java:117) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1818) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1783) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\t... 61 common frames omitted\r\nCaused by: org.springframework.cglib.core.CodeGenerationException: java.lang.LinkageError--&gt;loader &#39;app&#39; attempted duplicate class definition for org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69. (org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69 is in unnamed module of loader &#39;app&#39;)\r\n\tat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:558) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:582) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:569) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:416) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:57) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:205) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\t... 66 common frames omitted\r\nCaused by: java.lang.LinkageError: loader &#39;app&#39; attempted duplicate class definition for org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69. (org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69 is in unnamed module of loader &#39;app&#39;)\r\n\tat java.base/java.lang.ClassLoader.defineClass0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.System$2.defineClass(System.java:2307) ~[na:na]\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2439) ~[na:na]\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2416) ~[na:na]\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:1843) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.GeneratedMethodAccessor27.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:555) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n\t... 80 common frames omitted\r\n```\r\n\r\nApplication is running with devtools as expected after removing @StepScope and Job Params. But I want to make use of Job Params to get the parameters from controller","title":"Spring batch @StepScope Could not generate CGLIB and duplicate class definition","body":"<p>I'm using @StepScope to get the job parameters on runtime. When starting my Spring Batch application for the first time, It's working fine. On re-run using devtools, getting the following exception</p>\n<pre><code>Caused by: java.lang.LinkageError: loader 'app' attempted duplicate class definition for org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69. (org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69 is in unnamed module of loader 'app')\n</code></pre>\n<p><strong>BatchConfig</strong></p>\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class UserBatchConfig {\n    \n    ....\n    \n    @Bean\n    @StepScope\n    public JpaPagingItemReader&lt;User&gt; reader(@Value(&quot;#{jobParameters['ID']}&quot;) String batchUniqueId) {\n        logger.info(batchUniqueId);\n        JpaPagingItemReader&lt;User&gt; reader = new JpaPagingItemReader&lt;User&gt;();\n        ....\n        ....\n        return reader;\n    }\n    \n    @Bean\n    public RepositoryItemWriter&lt;User&gt; writer() {\n        RepositoryItemWriter&lt;User&gt; writer = new RepositoryItemWriter&lt;&gt;();\n        ....\n        return writer;\n    }\n    \n    @Bean\n    public UserCustomProcessor processor() {\n        ....\n        return new UserCustomProcessor();\n    }\n    \n    @Bean\n    public Step step1(JpaPagingItemReader&lt;User&gt; itemReader, ItemWriter&lt;User&gt; itemWriter, StepCompletionListener stepCompletionListener)\n            throws Exception {\n        return this.stepBuilderFactory\n                .get(&quot;step1&quot;)\n                .&lt;User, User&gt;chunk(5)\n                .reader(itemReader)\n                // .reader(reader(null)) // Tried\n                .processor(processor())\n                .writer(itemWriter)\n                .listener(stepCompletionListener)\n                .build();\n    }\n    \n    @Bean\n    public Job userUpdateJob(JobCompletionNotificationListener listener, Step step1) throws Exception {\n        return this.jobBuilderFactory\n                .get(&quot;userUpdateJob&quot;)\n                .incrementer(new RunIdIncrementer())\n                .listener(listener)\n                .start(step1)\n                .build();\n    }\n\n}\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userController': Unsatisfied dependency expressed through field 'job'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'UserUpdateJob' defined in class path resource [com/java/UserBatchConfig.class]: Unsatisfied dependency expressed through method 'userUpdateJob' parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'step1' defined in class path resource [com/java/UserBatchConfig.class]: Unsatisfied dependency expressed through method 'step1' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reader' defined in BeanDefinition defined in class path resource [com/java/UserBatchConfig.class]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class org.springframework.batch.item.database.JpaPagingItemReader: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.LinkageError--&gt;loader 'app' attempted duplicate class definition for org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69. (org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69 is in unnamed module of loader 'app')\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1422) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:882) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at com.java.MainApplication.main(MainApplication.java:31) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.2.6.RELEASE.jar:2.2.6.RELEASE]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userUpdateJob' defined in class path resource [com/java/UserBatchConfig.class]: Unsatisfied dependency expressed through method 'userUpdateJob' parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'step1' defined in class path resource [com/java/UserBatchConfig.class]: Unsatisfied dependency expressed through method 'step1' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reader' defined in BeanDefinition defined in class path resource [com/java/UserBatchConfig.class]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class org.springframework.batch.item.database.JpaPagingItemReader: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.LinkageError--&gt;loader 'app' attempted duplicate class definition for org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69. (org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69 is in unnamed module of loader 'app')\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:539) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1290) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1210) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    ... 24 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'step1' defined in class path resource [com/java/UserBatchConfig.class]: Unsatisfied dependency expressed through method 'step1' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reader' defined in BeanDefinition defined in class path resource [com/java/UserBatchConfig.class]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class org.springframework.batch.item.database.JpaPagingItemReader: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.LinkageError--&gt;loader 'app' attempted duplicate class definition for org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69. (org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69 is in unnamed module of loader 'app')\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:539) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1290) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1210) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    ... 37 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reader' defined in BeanDefinition defined in class path resource [com/java/UserBatchConfig.class]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class org.springframework.batch.item.database.JpaPagingItemReader: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.LinkageError--&gt;loader 'app' attempted duplicate class definition for org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69. (org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69 is in unnamed module of loader 'app')\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1290) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1210) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    ... 51 common frames omitted\nCaused by: org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class org.springframework.batch.item.database.JpaPagingItemReader: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.LinkageError--&gt;loader 'app' attempted duplicate class definition for org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69. (org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69 is in unnamed module of loader 'app')\n    at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:208) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.aop.scope.ScopedProxyFactoryBean.setBeanFactory(ScopedProxyFactoryBean.java:117) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1818) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1783) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    ... 61 common frames omitted\nCaused by: org.springframework.cglib.core.CodeGenerationException: java.lang.LinkageError--&gt;loader 'app' attempted duplicate class definition for org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69. (org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69 is in unnamed module of loader 'app')\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:558) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:582) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:569) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:416) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:57) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:205) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    ... 66 common frames omitted\nCaused by: java.lang.LinkageError: loader 'app' attempted duplicate class definition for org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69. (org.springframework.batch.item.database.JpaPagingItemReader$$EnhancerBySpringCGLIB$$396cdb69 is in unnamed module of loader 'app')\n    at java.base/java.lang.ClassLoader.defineClass0(Native Method) ~[na:na]\n    at java.base/java.lang.System$2.defineClass(System.java:2307) ~[na:na]\n    at java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2439) ~[na:na]\n    at java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2416) ~[na:na]\n    at java.base/java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:1843) ~[na:na]\n    at java.base/jdk.internal.reflect.GeneratedMethodAccessor27.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:555) ~[spring-core-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    ... 80 common frames omitted\n</code></pre>\n<p>Application is running with devtools as expected after removing @StepScope and Job Params. But I want to make use of Job Params to get the parameters from controller</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":1894993,"reputation":1129,"user_id":1712172,"display_name":"code_mechanic"},"score":0,"creation_date":1640598476,"post_id":70493734,"comment_id":124611684,"body_markdown":"You cannot use the properties of one module in another like this, but you can do something like this [answer](https://stackoverflow.com/a/23139586/1712172) suggests.","body":"You cannot use the properties of one module in another like this, but you can do something like this <a href=\"https://stackoverflow.com/a/23139586/1712172\">answer</a> suggests."}],"answers":[{"tags":[],"owner":{"account_id":23709817,"reputation":1,"user_id":17731833,"display_name":"user236427"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640688795,"creation_date":1640688795,"answer_id":70506030,"question_id":70493734,"body_markdown":"I have found the cause for why Spring Boot was not autowiring my properties with @Value or @ConfigurationProperties\r\nIt turns out that the project I am trying to migrate implemented a PropertyPlaceholderConfigurer bean which was failing to initialize the properties properly. I have done away with that bean and the application is now loading and autowiring all properties from application.properties (from all modules) ","title":"Spring Boot project not binding @Value from application.properties","body":"<p>I have found the cause for why Spring Boot was not autowiring my properties with @Value or @ConfigurationProperties\nIt turns out that the project I am trying to migrate implemented a PropertyPlaceholderConfigurer bean which was failing to initialize the properties properly. I have done away with that bean and the application is now loading and autowiring all properties from application.properties (from all modules)</p>\n"}],"owner":{"account_id":23709817,"reputation":1,"user_id":17731833,"display_name":"user236427"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":712,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640688795,"creation_date":1640597396,"question_id":70493734,"body_markdown":"I am in the process of migrating an existing multi-module maven project to spring boot 2.6.1 and I&#39;ve populated application.properties in the resources folder of one of the modules (the one with the SpringBootApplication entry point and with the spring boot maven plugin). \r\nI am able to access these properties from any module in the project via the application environment. However binding a property using @Value does not work\r\n\r\nThe following is my project structure\r\n```\r\nPROJ\r\n└── pom.xml\r\n└── ModuleA\r\n    └── src\r\n        └── main\r\n            └── java\r\n                └── com.example\r\n                    └── abc\r\n\t\t\t\t\t\t└── configuration\r\n\t\t\t\t\t\t\t└── TestConfig.java\r\n\t\t\t\t\t\t└── MyApplication.java\r\n            └── resources\r\n\t            └── application.properties\r\n\t└── pom.xml\r\n└── ModuleB\t\t\r\n```\r\n\r\nWhy does property binding fail with either @ConfigurationProperties or @Value? (I am tring to bind all datasource properties to a DataSourceProperties bean in ModuleB using @ConfigurationProperties as described in [the documentation][1] - but this also does not work.)\r\n\r\nThings I&#39;ve tried: \r\n\r\n - placing application.properties in a config directory;\r\n - specifying the location of the resources in the pom file;\r\n - creating a fresh multi-module project with the same structure (It does work in this\r\n   &quot;clean&quot; project so the problem must be in the existing configuration\r\n   of the migrated project. I have tried to compare the differences\r\n   between the two projects but applying similar configuration I still\r\n   cannot get the auto-binding to work in my migrated project.)\r\n\r\nThe code:\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;PROJ&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;name&gt;PROJ&lt;/name&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;ModuleA&lt;/module&gt;\r\n        &lt;module&gt;ModuleB&lt;/module&gt;\r\n        &lt;!-- Other modules --&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;dev&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;develop.mode&gt;true&lt;/develop.mode&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;prod&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;properties&gt;\r\n                &lt;develop.mode&gt;false&lt;/develop.mode&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;!-- Project Properties --&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!-- In House Modules --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ModuleB&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ModuleA&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- Spring --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;!-- Import dependency management from Spring Boot --&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-plugin.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-plugin.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-saml2-service-provider&lt;/artifactId&gt;\r\n                &lt;version&gt;5.5.0-BETA&lt;/version&gt;\r\n                &lt;classifier&gt;BETA&lt;/classifier&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-oauth&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-security-oauth.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-security-oauth.version}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- Various other dependencies --&gt;\r\n            \r\n        &lt;/dependencies&gt;\r\n\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!-- Various plugins  --&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**ModuleA/pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;PROJ&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;ModuleA&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;name&gt;ModuleA&lt;/name&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- In House Modules --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ModuleB&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**application.properties**\r\n```\r\n# My datasource properties\r\napp.datasource.myds.username=TestName\r\n```\r\n\r\n**MyApplication.java**\r\n```\r\n@SpringBootApplication\r\npublic class WSMBootApp {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(WSMBootApp.class, args);\r\n    }\r\n}\r\n```\r\n\r\n**TestConfig.java**\r\n```\r\n@Configuration\r\npublic class TestConfig {\r\n\r\n    @Value(&quot;${app.datasource.myds.username}&quot;)\r\n    public String un;\r\n\r\n    @Bean(name = &quot;testbean1&quot;)\r\n    @Primary\r\n    public Boolean testbean1() {\r\n        System.out.println(&quot;Value un: &quot; + un); // prints null\r\n        return Boolean.FALSE;\r\n    }\r\n\r\n    @Bean(name = &quot;testbean2&quot;)\r\n    public Boolean testbean2(Environment env) {\r\n        System.out.println(&quot;Env property: &quot; + env.getProperty(&quot;app.datasource.myds.username&quot;)); // prints TestName \r\n        return Boolean.TRUE;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.data-access.configure-two-datasources","title":"Spring Boot project not binding @Value from application.properties","body":"<p>I am in the process of migrating an existing multi-module maven project to spring boot 2.6.1 and I've populated application.properties in the resources folder of one of the modules (the one with the SpringBootApplication entry point and with the spring boot maven plugin).\nI am able to access these properties from any module in the project via the application environment. However binding a property using @Value does not work</p>\n<p>The following is my project structure</p>\n<pre><code>PROJ\n└── pom.xml\n└── ModuleA\n    └── src\n        └── main\n            └── java\n                └── com.example\n                    └── abc\n                        └── configuration\n                            └── TestConfig.java\n                        └── MyApplication.java\n            └── resources\n                └── application.properties\n    └── pom.xml\n└── ModuleB     \n</code></pre>\n<p>Why does property binding fail with either @ConfigurationProperties or @Value? (I am tring to bind all datasource properties to a DataSourceProperties bean in ModuleB using @ConfigurationProperties as described in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.data-access.configure-two-datasources\" rel=\"nofollow noreferrer\">the documentation</a> - but this also does not work.)</p>\n<p>Things I've tried:</p>\n<ul>\n<li>placing application.properties in a config directory;</li>\n<li>specifying the location of the resources in the pom file;</li>\n<li>creating a fresh multi-module project with the same structure (It does work in this\n&quot;clean&quot; project so the problem must be in the existing configuration\nof the migrated project. I have tried to compare the differences\nbetween the two projects but applying similar configuration I still\ncannot get the auto-binding to work in my migrated project.)</li>\n</ul>\n<p>The code:</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;PROJ&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;PROJ&lt;/name&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;ModuleA&lt;/module&gt;\n        &lt;module&gt;ModuleB&lt;/module&gt;\n        &lt;!-- Other modules --&gt;\n    &lt;/modules&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;dev&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;develop.mode&gt;true&lt;/develop.mode&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;prod&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;develop.mode&gt;false&lt;/develop.mode&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;properties&gt;\n        &lt;!-- Project Properties --&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!-- In House Modules --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\n                &lt;artifactId&gt;ModuleB&lt;/artifactId&gt;\n                &lt;version&gt;1.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\n                &lt;artifactId&gt;ModuleA&lt;/artifactId&gt;\n                &lt;version&gt;1.0&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- Spring --&gt;\n            &lt;dependency&gt;\n                &lt;!-- Import dependency management from Spring Boot --&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\n                &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n                &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\n                &lt;version&gt;${spring-plugin.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${spring-plugin.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-security-saml2-service-provider&lt;/artifactId&gt;\n                &lt;version&gt;5.5.0-BETA&lt;/version&gt;\n                &lt;classifier&gt;BETA&lt;/classifier&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-security-oauth&lt;/artifactId&gt;\n                &lt;version&gt;${spring-security-oauth.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n                &lt;version&gt;${spring-security-oauth.version}&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- Various other dependencies --&gt;\n            \n        &lt;/dependencies&gt;\n\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;!-- Various plugins  --&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>ModuleA/pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;PROJ&lt;/artifactId&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;ModuleA&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;ModuleA&lt;/name&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- In House Modules --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;ModuleB&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code># My datasource properties\napp.datasource.myds.username=TestName\n</code></pre>\n<p><strong>MyApplication.java</strong></p>\n<pre><code>@SpringBootApplication\npublic class WSMBootApp {\n    public static void main(String[] args) {\n        SpringApplication.run(WSMBootApp.class, args);\n    }\n}\n</code></pre>\n<p><strong>TestConfig.java</strong></p>\n<pre><code>@Configuration\npublic class TestConfig {\n\n    @Value(&quot;${app.datasource.myds.username}&quot;)\n    public String un;\n\n    @Bean(name = &quot;testbean1&quot;)\n    @Primary\n    public Boolean testbean1() {\n        System.out.println(&quot;Value un: &quot; + un); // prints null\n        return Boolean.FALSE;\n    }\n\n    @Bean(name = &quot;testbean2&quot;)\n    public Boolean testbean2(Environment env) {\n        System.out.println(&quot;Env property: &quot; + env.getProperty(&quot;app.datasource.myds.username&quot;)); // prints TestName \n        return Boolean.TRUE;\n    }\n}\n</code></pre>\n"},{"tags":["java","java-8","functional-programming","supplier"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":5,"creation_date":1640273008,"post_id":70464070,"comment_id":124559370,"body_markdown":"`a(() -&gt; param);` should do the trick.","body":"<code>a(() -&gt; param);</code> should do the trick."},{"owner":{"account_id":9669917,"reputation":1002,"user_id":7175213,"accept_rate":53,"display_name":"Catarina Nogueira"},"score":0,"creation_date":1640273090,"post_id":70464070,"comment_id":124559391,"body_markdown":"Thank you @Turing85. Can you explain a bit this solution? :)","body":"Thank you @Turing85. Can you explain a bit this solution? :)"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":1,"creation_date":1640273162,"post_id":70464070,"comment_id":124559416,"body_markdown":"I down voted because \n[No research](http://idownvotedbecau.se/noresearch/)","body":"I down voted because  <a href=\"http://idownvotedbecau.se/noresearch/\" rel=\"nofollow noreferrer\">No research</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1640273194,"post_id":70464070,"comment_id":124559429,"body_markdown":"It is a pretty straight-forward lambda-implementation of the `BooleanSupplier`-interface. A `BooleanSupplier` is a method without parameter, returning a `Boolean`. For details on the lambda syntax, I recommend reading a tutorial on the topic, e.g. [this one from `oracle.com`](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html).","body":"It is a pretty straight-forward lambda-implementation of the <code>BooleanSupplier</code>-interface. A <code>BooleanSupplier</code> is a method without parameter, returning a <code>Boolean</code>. For details on the lambda syntax, I recommend reading a tutorial on the topic, e.g. <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">this one from <code>oracle.com</code></a>."},{"owner":{"account_id":9669917,"reputation":1002,"user_id":7175213,"accept_rate":53,"display_name":"Catarina Nogueira"},"score":0,"creation_date":1640273454,"post_id":70464070,"comment_id":124559516,"body_markdown":"Thank you! I actually tried to read in the javadoc but since I have an Optional of a BooleanSupplier on function &quot;a&quot; this construction a(()-&gt;param) was not working and I thought it was the way I was calling it but now I could confirm that is actually the Optional the problem I think. Thank you again, Turing85, i will do the tutorial!","body":"Thank you! I actually tried to read in the javadoc but since I have an Optional of a BooleanSupplier on function &quot;a&quot; this construction a(()-&gt;param) was not working and I thought it was the way I was calling it but now I could confirm that is actually the Optional the problem I think. Thank you again, Turing85, i will do the tutorial!"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1640688893,"post_id":70464070,"comment_id":124633062,"body_markdown":"**Please read (again)**: Note that we prefer a technical style of writing here. We gently discourage greetings, hope-you-can-helps, thanks, advance thanks, notes of appreciation, regards, kind regards, signatures, please-can-you-helps, chatty material and abbreviated txtspk, pleading, how long you&#39;ve been stuck, voting advice, meta commentary, etc. Just explain your problem, and show what you&#39;ve tried, what you expected, and what actually happened.","body":"<b>Please read (again)</b>: Note that we prefer a technical style of writing here. We gently discourage greetings, hope-you-can-helps, thanks, advance thanks, notes of appreciation, regards, kind regards, signatures, please-can-you-helps, chatty material and abbreviated txtspk, pleading, how long you&#39;ve been stuck, voting advice, meta commentary, etc. Just explain your problem, and show what you&#39;ve tried, what you expected, and what actually happened."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1640688980,"post_id":70464070,"comment_id":124633086,"body_markdown":"In your case Catarina, that means refraining from adding &quot;Any help appreciated&quot; from each new question. Please try to stick to technical writing - it is an expectation here.","body":"In your case Catarina, that means refraining from adding &quot;Any help appreciated&quot; from each new question. Please try to stick to technical writing - it is an expectation here."}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640274011,"creation_date":1640273634,"answer_id":70464233,"question_id":70464070,"body_markdown":"Let us take a closer look at the [`BooleanSupplier`-interface][booleanSupplierApi]. This is a functional interface, i.e. it has only one abstract method `boolean getAsBoolean()`. As we can see, the method has no parameters and returns a `boolean`.\r\n\r\nNow let us look at the code presented. Method `b` receives one parameter `Boolean param`. method `a` receives one parameter of type `BooleanSupplier`. How can we convert the `Boolean` received by `b` to a `BooleanSupplier`? We just need to create a lambda that - when called - returns `param`. When written as lambda, this looks as follows:\r\n\r\n    only expression in the lambda -&gt; return-value\r\n            ^\r\n            |\r\n    () -&gt; param;\r\n     |\r\n     v\r\n    empty parameter list\r\n\r\nThe minor type mismatch between `Boolean` (type of `param`) and `boolean` (expected return-type of `BooleanSupplier`) is resolved through [autoboxing (`oracle.com`)][oracleAutoboxing].\r\n\r\nSo in total, we can now call `a` as follows:\r\n\r\n    a(() -&gt; param);\r\n\r\nFor further information on lambdas and their syntax, I recommend reading a tutorial on the topic, e.g. [this one from `oracle.com`][oracleLambda].\r\n\r\n[booleanSupplierApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BooleanSupplier.html\r\n\r\n[oracleAutoboxing]: https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\r\n\r\n[oracleLambda]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html","title":"Convert from Boolean to BooleanSupplier","body":"<p>Let us take a closer look at the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BooleanSupplier.html\" rel=\"nofollow noreferrer\"><code>BooleanSupplier</code>-interface</a>. This is a functional interface, i.e. it has only one abstract method <code>boolean getAsBoolean()</code>. As we can see, the method has no parameters and returns a <code>boolean</code>.</p>\n<p>Now let us look at the code presented. Method <code>b</code> receives one parameter <code>Boolean param</code>. method <code>a</code> receives one parameter of type <code>BooleanSupplier</code>. How can we convert the <code>Boolean</code> received by <code>b</code> to a <code>BooleanSupplier</code>? We just need to create a lambda that - when called - returns <code>param</code>. When written as lambda, this looks as follows:</p>\n<pre><code>only expression in the lambda -&gt; return-value\n        ^\n        |\n() -&gt; param;\n |\n v\nempty parameter list\n</code></pre>\n<p>The minor type mismatch between <code>Boolean</code> (type of <code>param</code>) and <code>boolean</code> (expected return-type of <code>BooleanSupplier</code>) is resolved through <a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"nofollow noreferrer\">autoboxing (<code>oracle.com</code>)</a>.</p>\n<p>So in total, we can now call <code>a</code> as follows:</p>\n<pre><code>a(() -&gt; param);\n</code></pre>\n<p>For further information on lambdas and their syntax, I recommend reading a tutorial on the topic, e.g. <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">this one from <code>oracle.com</code></a>.</p>\n"}],"owner":{"account_id":9669917,"reputation":1002,"user_id":7175213,"accept_rate":53,"display_name":"Catarina Nogueira"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":796,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70464233,"answer_count":1,"score":-1,"last_activity_date":1640688770,"creation_date":1640272805,"question_id":70464070,"body_markdown":"I have this function a:\r\n\r\n    public void a(BooleanSupplier param){}\r\n\r\nthat is called by function b:\r\n\r\n    public void b(Boolean param){\r\n       a(param)\r\n    }\r\n\r\nThe problem is that function &quot;a&quot; is expecting a `BooleanSupplier` but function b is sending a Boolean. I think I should convert a Boolean into a `BooleanSupplier` but I could not manage to convert one to another.\r\n","title":"Convert from Boolean to BooleanSupplier","body":"<p>I have this function a:</p>\n<pre><code>public void a(BooleanSupplier param){}\n</code></pre>\n<p>that is called by function b:</p>\n<pre><code>public void b(Boolean param){\n   a(param)\n}\n</code></pre>\n<p>The problem is that function &quot;a&quot; is expecting a <code>BooleanSupplier</code> but function b is sending a Boolean. I think I should convert a Boolean into a <code>BooleanSupplier</code> but I could not manage to convert one to another.</p>\n"},{"tags":["java","completable-future","futuretask"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1640629190,"post_id":70498970,"comment_id":124620855,"body_markdown":"Don&#39;t use `whenComplete` which returns a `CompletableFuture&lt;Void&gt;`. Use one of the other methods like `thenApply` or `handle` to return a transformed value.","body":"Don&#39;t use <code>whenComplete</code> which returns a <code>CompletableFuture&lt;Void&gt;</code>. Use one of the other methods like <code>thenApply</code> or <code>handle</code> to return a transformed value."},{"owner":{"account_id":18233830,"reputation":23,"user_id":13272252,"display_name":"renvins"},"score":0,"creation_date":1640629388,"post_id":70498970,"comment_id":124620921,"body_markdown":"Ok, but how can I use clonedWorld as a return value of the new CompletableFuture returned in the method?","body":"Ok, but how can I use clonedWorld as a return value of the new CompletableFuture returned in the method?"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1640629479,"post_id":70498970,"comment_id":124620956,"body_markdown":"`return clonedWorld;` within the `Function`/`BiFunction` passed to those methods.","body":"<code>return clonedWorld;</code> within the <code>Function</code>/<code>BiFunction</code> passed to those methods."}],"answers":[{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640688327,"creation_date":1640688327,"answer_id":70505966,"question_id":70498970,"body_markdown":"Your problem is that `whenComplete()` only takes a `BiConsumer` as parameter, which cannot handle the result of the returned `CompletableFuture` – except if an exception is thrown.\r\n\r\nThe appropriate method to use if you want to change the result (here from something like `Optional&lt;SlimeWorld&gt;` or an exception to just `SlimeWorld` or `null`) is [`handle()`][1]. The lambda passed to `handle()` should thus return the final result (the cloned world or `null`).\r\n\r\nAnd as `CompletableFuture` is a fluent API, you can just return the result of the `handle()` call from `asyncCloneWorld()`:\r\n\r\n```\r\npublic CompletableFuture&lt;SlimeWorld&gt; asyncCloneWorld(String worldName, String newWorld) {\r\n\treturn loadWorldAsync(worldName).handle((slimeWorld, throwable) -&gt; {\r\n\t\tif (throwable != null || slimeWorld.isEmpty()) {\r\n\t\t\tplugin.getLogger().log(Level.SEVERE, &quot;Impossibile caricare il mondo template!&quot;, throwable);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\treturn slimeWorld.get().clone(newWorld, loader, true);\r\n\t\t} catch (IOException e) {\r\n\t\t\tplugin.getLogger().log(Level.SEVERE, &quot;Non &#232; stato possibile clonare il mondo: &quot; + worldName, e);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t});\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#handle-java.util.function.BiFunction-\r\n","title":"Return a value inside a CompletableFuture in another CompletableFuture and return that future","body":"<p>Your problem is that <code>whenComplete()</code> only takes a <code>BiConsumer</code> as parameter, which cannot handle the result of the returned <code>CompletableFuture</code> – except if an exception is thrown.</p>\n<p>The appropriate method to use if you want to change the result (here from something like <code>Optional&lt;SlimeWorld&gt;</code> or an exception to just <code>SlimeWorld</code> or <code>null</code>) is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#handle-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\"><code>handle()</code></a>. The lambda passed to <code>handle()</code> should thus return the final result (the cloned world or <code>null</code>).</p>\n<p>And as <code>CompletableFuture</code> is a fluent API, you can just return the result of the <code>handle()</code> call from <code>asyncCloneWorld()</code>:</p>\n<pre><code>public CompletableFuture&lt;SlimeWorld&gt; asyncCloneWorld(String worldName, String newWorld) {\n    return loadWorldAsync(worldName).handle((slimeWorld, throwable) -&gt; {\n        if (throwable != null || slimeWorld.isEmpty()) {\n            plugin.getLogger().log(Level.SEVERE, &quot;Impossibile caricare il mondo template!&quot;, throwable);\n            return null;\n        }\n        try {\n            return slimeWorld.get().clone(newWorld, loader, true);\n        } catch (IOException e) {\n            plugin.getLogger().log(Level.SEVERE, &quot;Non è stato possibile clonare il mondo: &quot; + worldName, e);\n            return null;\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":18233830,"reputation":23,"user_id":13272252,"display_name":"renvins"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1625,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70505966,"answer_count":1,"score":0,"last_activity_date":1640688327,"creation_date":1640628626,"question_id":70498970,"body_markdown":"I want to get a value inside a CompletableFuture (in this case clonedWorld) in another CompletableFuture and return that future. This is my code, and I&#39;m stuck here:\r\n```\r\n@Override\r\npublic CompletableFuture&lt;SlimeWorld&gt; asyncCloneWorld(String worldName, String newWorld) {\r\n    loadWorldAsync(worldName).whenComplete((slimeWorld, throwable) -&gt; {\r\n        if (throwable != null || slimeWorld.isEmpty()) {\r\n            plugin.getLogger().log(Level.SEVERE, &quot;Impossibile caricare il mondo template!&quot;, throwable);\r\n            return;\r\n        }\r\n        try {\r\n            SlimeWorld clonedWorld = slimeWorld.get().clone(newWorld, loader, true);\r\n        } catch (IOException | WorldAlreadyExistsException e) {\r\n            plugin.getLogger().log(Level.SEVERE, &quot;Non &#232; stato possibile clonare il mondo: &quot; + worldName, e);\r\n        }\r\n    });\r\n  return ?;\r\n}\r\n```","title":"Return a value inside a CompletableFuture in another CompletableFuture and return that future","body":"<p>I want to get a value inside a CompletableFuture (in this case clonedWorld) in another CompletableFuture and return that future. This is my code, and I'm stuck here:</p>\n<pre><code>@Override\npublic CompletableFuture&lt;SlimeWorld&gt; asyncCloneWorld(String worldName, String newWorld) {\n    loadWorldAsync(worldName).whenComplete((slimeWorld, throwable) -&gt; {\n        if (throwable != null || slimeWorld.isEmpty()) {\n            plugin.getLogger().log(Level.SEVERE, &quot;Impossibile caricare il mondo template!&quot;, throwable);\n            return;\n        }\n        try {\n            SlimeWorld clonedWorld = slimeWorld.get().clone(newWorld, loader, true);\n        } catch (IOException | WorldAlreadyExistsException e) {\n            plugin.getLogger().log(Level.SEVERE, &quot;Non è stato possibile clonare il mondo: &quot; + worldName, e);\n        }\n    });\n  return ?;\n}\n</code></pre>\n"},{"tags":["java","inheritance","abstract-class","multiple-inheritance"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1640686952,"post_id":70505650,"comment_id":124632503,"body_markdown":"it is not possible to have multiple inheritance in Java. If Inheritance doesn&#39;t work, try using Composition","body":"it is not possible to have multiple inheritance in Java. If Inheritance doesn&#39;t work, try using Composition"},{"owner":{"account_id":16452952,"reputation":494,"user_id":11885927,"display_name":"Gian Laager"},"score":0,"creation_date":1640687177,"post_id":70505650,"comment_id":124632563,"body_markdown":"If I use Composition would I still be able to use `SequentialCommandGroup` as a `WPI.Command`?","body":"If I use Composition would I still be able to use <code>SequentialCommandGroup</code> as a <code>WPI.Command</code>?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1640687237,"post_id":70505650,"comment_id":124632582,"body_markdown":"have you tried? the only thing I&#39;m certain about: multiple inheritance won&#39;t work in Java (unless we&#39;re talking about interfaces)","body":"have you tried? the only thing I&#39;m certain about: multiple inheritance won&#39;t work in Java (unless we&#39;re talking about interfaces)"},{"owner":{"account_id":16452952,"reputation":494,"user_id":11885927,"display_name":"Gian Laager"},"score":0,"creation_date":1640687371,"post_id":70505650,"comment_id":124632619,"body_markdown":"What exactly do you mean by Composition? And which classes should I compose?","body":"What exactly do you mean by Composition? And which classes should I compose?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1640687544,"post_id":70505650,"comment_id":124632683,"body_markdown":"https://en.wikipedia.org/wiki/Composition_over_inheritance","body":"<a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Composition_over_inheritance</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1640688292,"post_id":70505650,"comment_id":124632902,"body_markdown":"You show `SequentialCommandGroup` extending `CommandBase` via two routes. What exactly are the semantics you want from that?","body":"You show <code>SequentialCommandGroup</code> extending <code>CommandBase</code> via two routes. What exactly are the semantics you want from that?"}],"answers":[{"tags":[],"owner":{"account_id":19594580,"reputation":1380,"user_id":14340917,"display_name":"Monu Rohilla"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640687694,"creation_date":1640687694,"answer_id":70505822,"question_id":70505650,"body_markdown":"Use `Interface` because `java is not supports Multiple Inheritance`. Interfaces are abstract types that specify behaviors for classes to implement. Because they are abstract, interfaces do not contain detailed instructions for their behaviors. Instead, the classes provide concrete implementations of interface behaviors.\r\n\r\n***Interfaces have many defining characteristics:***\r\n\r\n - Unlike classes, you don&#39;t instantiate interfaces. Instead, classes\r\n   implement interfaces\r\n\r\n - Interfaces contain only public constant definitions and method headers\r\n\r\n - Interfaces can only extend other interfaces, not classes\r\n\r\n \r\n\r\n - Interfaces can extend multiple interfaces, and classes can implement \r\n   multiple interfaces\r\n\r\n[Read more about Inheritance][1] \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/multipleinheritance.html","title":"Alternative to Multiple Inheritance to Extend Library","body":"<p>Use <code>Interface</code> because <code>java is not supports Multiple Inheritance</code>. Interfaces are abstract types that specify behaviors for classes to implement. Because they are abstract, interfaces do not contain detailed instructions for their behaviors. Instead, the classes provide concrete implementations of interface behaviors.</p>\n<p><em><strong>Interfaces have many defining characteristics:</strong></em></p>\n<ul>\n<li><p>Unlike classes, you don't instantiate interfaces. Instead, classes\nimplement interfaces</p>\n</li>\n<li><p>Interfaces contain only public constant definitions and method headers</p>\n</li>\n<li><p>Interfaces can only extend other interfaces, not classes</p>\n</li>\n<li><p>Interfaces can extend multiple interfaces, and classes can implement\nmultiple interfaces</p>\n</li>\n</ul>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/multipleinheritance.html\" rel=\"nofollow noreferrer\">Read more about Inheritance</a></p>\n"},{"tags":[],"owner":{"account_id":4303049,"reputation":1414,"user_id":3516279,"display_name":"michal3377"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1640688315,"creation_date":1640688315,"answer_id":70505963,"question_id":70505650,"body_markdown":"If I understood correctly, you want to have your custom classes (SequentialCommandGroup, ParallelCommandGroup) to extend from library classes, but also to have your own implementation for that &quot;Command&quot; part.\r\n\r\nYou cannot have multiple inheritance in Java of course, but I think you could utilize [Proxy pattern][1] here.\r\n\r\nYour classes would still inherit from Library classes, but the implementation of ICommand interface could be delegated to Command object.\r\n\r\nExample:\r\n\r\n    public class MyParallelCommandGroup extends ParallelCommandGroup implements ICommand {\r\n\r\n\t\tprivate Command commandProxy;\r\n\t\t\r\n\t\tpublic MyParallelCommandGroup() {\r\n\t\t\t// instantiate commandProxy here, or inject it as constructor param\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void requires() {\r\n\t\t\tcommandProxy.requires();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nYou could even extract whole Command class to an interface and implement it in your proxy class. I&#39;m not sure whether this covers your use-case, but maybe it will help you to find a proper solution.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-proxy-pattern","title":"Alternative to Multiple Inheritance to Extend Library","body":"<p>If I understood correctly, you want to have your custom classes (SequentialCommandGroup, ParallelCommandGroup) to extend from library classes, but also to have your own implementation for that &quot;Command&quot; part.</p>\n<p>You cannot have multiple inheritance in Java of course, but I think you could utilize <a href=\"https://www.baeldung.com/java-proxy-pattern\" rel=\"nofollow noreferrer\">Proxy pattern</a> here.</p>\n<p>Your classes would still inherit from Library classes, but the implementation of ICommand interface could be delegated to Command object.</p>\n<p>Example:</p>\n<pre><code>public class MyParallelCommandGroup extends ParallelCommandGroup implements ICommand {\n\n    private Command commandProxy;\n    \n    public MyParallelCommandGroup() {\n        // instantiate commandProxy here, or inject it as constructor param\n    }\n    \n    @Override\n    public void requires() {\n        commandProxy.requires();\n    }\n    \n}\n</code></pre>\n<p>You could even extract whole Command class to an interface and implement it in your proxy class. I'm not sure whether this covers your use-case, but maybe it will help you to find a proper solution.</p>\n"}],"owner":{"account_id":16452952,"reputation":494,"user_id":11885927,"display_name":"Gian Laager"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70505963,"answer_count":2,"score":2,"last_activity_date":1640688315,"creation_date":1640686670,"question_id":70505650,"body_markdown":"I&#39;m currently trying to extend [WPILib][1]. Unfortunately I would need multiple inheritance.\r\n\r\nI&#39;ve drawn a uml diagram of the problem (forgive me my crappy handwriting)\r\n[![enter image description here][2]][2]\r\n\r\nAs you can see with the red arrows I would need to extend from two classes.\r\n\r\nI can&#39;t change any thing inside the WPI box and the `requires` method from `ICommand` needs some functions from `CommandBase` so I can&#39;t make it default in `ICommand`. \r\n\r\nHow can I solve this?\r\n\r\nIf you want to try some thing out here&#39;s [my github repo][3].\r\n\r\n\r\n  [1]: https://docs.wpilib.org/en/stable/\r\n  [2]: https://i.stack.imgur.com/FuBjL.png\r\n  [3]: https://github.com/6417/FridoWPI/tree/feature/Command","title":"Alternative to Multiple Inheritance to Extend Library","body":"<p>I'm currently trying to extend <a href=\"https://docs.wpilib.org/en/stable/\" rel=\"nofollow noreferrer\">WPILib</a>. Unfortunately I would need multiple inheritance.</p>\n<p>I've drawn a uml diagram of the problem (forgive me my crappy handwriting)\n<a href=\"https://i.stack.imgur.com/FuBjL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FuBjL.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see with the red arrows I would need to extend from two classes.</p>\n<p>I can't change any thing inside the WPI box and the <code>requires</code> method from <code>ICommand</code> needs some functions from <code>CommandBase</code> so I can't make it default in <code>ICommand</code>.</p>\n<p>How can I solve this?</p>\n<p>If you want to try some thing out here's <a href=\"https://github.com/6417/FridoWPI/tree/feature/Command\" rel=\"nofollow noreferrer\">my github repo</a>.</p>\n"},{"tags":["java","input"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1640687860,"post_id":70505836,"comment_id":124632789,"body_markdown":"What do you mean by &quot;nested methods are not allowed&quot;?","body":"What do you mean by &quot;nested methods are not allowed&quot;?"},{"owner":{"account_id":18418326,"reputation":1,"user_id":13416629,"display_name":"Ashutosh Dubey"},"score":0,"creation_date":1640688001,"post_id":70505836,"comment_id":124632824,"body_markdown":"As in python we can declare a function inside a function. But as far as I have studied, we cannot declare a method inside a method in Java. @tgdavies","body":"As in python we can declare a function inside a function. But as far as I have studied, we cannot declare a method inside a method in Java. @tgdavies"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1640688012,"post_id":70505836,"comment_id":124632830,"body_markdown":"That&#39;s called [method chaining](https://en.wikipedia.org/wiki/Method_chaining). `br.readLine()` returns a String object, so you can call any method of `String` on its return result. It has nothing to do with &quot;nested methods&quot; (whatever you think those are)","body":"That&#39;s called <a href=\"https://en.wikipedia.org/wiki/Method_chaining\" rel=\"nofollow noreferrer\">method chaining</a>. <code>br.readLine()</code> returns a String object, so you can call any method of <code>String</code> on its return result. It has nothing to do with &quot;nested methods&quot; (whatever you think those are)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1640688077,"post_id":70505836,"comment_id":124632847,"body_markdown":"No functions are declared in the code in your question.","body":"No functions are declared in the code in your question."},{"owner":{"account_id":18418326,"reputation":1,"user_id":13416629,"display_name":"Ashutosh Dubey"},"score":0,"creation_date":1640688083,"post_id":70505836,"comment_id":124632850,"body_markdown":"Thanks @OHGODSPIDERS , found exactly what I was looking for.","body":"Thanks @OHGODSPIDERS , found exactly what I was looking for."}],"answers":[{"tags":[],"owner":{"account_id":404578,"reputation":2475,"user_id":772992,"accept_rate":80,"display_name":"hradecek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640688153,"creation_date":1640688153,"answer_id":70505932,"question_id":70505836,"body_markdown":"There&#39;s no nested method.\r\n\r\nCall `br.readLine()` [1] returns instance of `String` (object) on which you directly call its method `split()` [2] without &quot;saving&quot; it to temporary variable.\r\n\r\nThe code can be rewritten as:\r\n\r\n```\r\nBufferedReader br = new BufferedReader(new  InputStreamReader(System.in));\r\nString line  = br.readLine();\r\nString [] parts = line.split(&quot; &quot;);\r\n```\r\n\r\nThe code might be rewritten even like this:\r\n```\r\nString [] parts = new BufferedReader(new  InputStreamReader(System.in)).readLine().split(&quot; &quot;);\r\n```\r\n\r\n--\r\n\r\n[1] https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html#readLine()\r\n\r\n[2] https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#split(java.lang.String)","title":"How does BufferedReader.readline().split(&quot; &quot;) work in Java if nested methods are not allowed?","body":"<p>There's no nested method.</p>\n<p>Call <code>br.readLine()</code> [1] returns instance of <code>String</code> (object) on which you directly call its method <code>split()</code> [2] without &quot;saving&quot; it to temporary variable.</p>\n<p>The code can be rewritten as:</p>\n<pre><code>BufferedReader br = new BufferedReader(new  InputStreamReader(System.in));\nString line  = br.readLine();\nString [] parts = line.split(&quot; &quot;);\n</code></pre>\n<p>The code might be rewritten even like this:</p>\n<pre><code>String [] parts = new BufferedReader(new  InputStreamReader(System.in)).readLine().split(&quot; &quot;);\n</code></pre>\n<p>--</p>\n<p>[1] <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html#readLine()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html#readLine()</a></p>\n<p>[2] <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#split(java.lang.String)</a></p>\n"}],"owner":{"account_id":18418326,"reputation":1,"user_id":13416629,"display_name":"Ashutosh Dubey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1640688518,"answer_count":1,"score":-1,"last_activity_date":1640688153,"creation_date":1640687753,"question_id":70505836,"body_markdown":"I saw a code,\r\n\r\n    BufferedReader br = new BufferedReader(new  InputStreamReader(System.in));\r\n    String []parts = br.readLine().split(&quot; &quot;);\r\nCan anyone help me understand how are we able to split the result of br.readline() in the same line.","title":"How does BufferedReader.readline().split(&quot; &quot;) work in Java if nested methods are not allowed?","body":"<p>I saw a code,</p>\n<pre><code>BufferedReader br = new BufferedReader(new  InputStreamReader(System.in));\nString []parts = br.readLine().split(&quot; &quot;);\n</code></pre>\n<p>Can anyone help me understand how are we able to split the result of br.readline() in the same line.</p>\n"},{"tags":["java","geometry"],"answers":[{"tags":[],"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640688091,"creation_date":1640688091,"answer_id":70505918,"question_id":70505772,"body_markdown":"## Stochastic method\r\n\r\n*Selection probability by shape area*\r\n\r\n- generate a random point within the bounding box of the red shapes\r\n- check if that point intersects with any shape \r\n- repeat while point does not intersect any shape\r\n\r\n## Random shape selected\r\n\r\n*Selection probability equal for each shape*\r\n\r\n- determine the number of shapes (N)\r\n- randomize the shape index to select (0..N-1)\r\n- iterate the shapes until you reach the element with the random index","title":"Generate random tile within a shape","body":"<h2>Stochastic method</h2>\n<p><em>Selection probability by shape area</em></p>\n<ul>\n<li>generate a random point within the bounding box of the red shapes</li>\n<li>check if that point intersects with any shape</li>\n<li>repeat while point does not intersect any shape</li>\n</ul>\n<h2>Random shape selected</h2>\n<p><em>Selection probability equal for each shape</em></p>\n<ul>\n<li>determine the number of shapes (N)</li>\n<li>randomize the shape index to select (0..N-1)</li>\n<li>iterate the shapes until you reach the element with the random index</li>\n</ul>\n"}],"owner":{"account_id":5228861,"reputation":843,"user_id":4179961,"accept_rate":59,"display_name":"Jake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640688091,"creation_date":1640687344,"question_id":70505772,"body_markdown":"\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i4kW6.png\r\n\r\nI&#39;d like to get a coordinate that is within the red tiled shape. Each red tile should be equally probable to be selected.\r\n\r\nI&#39;m looking for is a way to visit a rectangle&#39;s tiles in an order that is random, without pre-processing any data. When visiting, I&#39;ll check if the tile is red and return that coordinate. \r\n\r\n\r\nMy na&#239;ve approach has been to randomly get an offset, then iterate from this coordinate top-left to bottom-right until a red tile is hit, but this favours the leftmost edge of the shape.\r\n","title":"Generate random tile within a shape","body":"<p><a href=\"https://i.stack.imgur.com/i4kW6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i4kW6.png\" alt=\"enter image description here\" /></a></p>\n<p>I'd like to get a coordinate that is within the red tiled shape. Each red tile should be equally probable to be selected.</p>\n<p>I'm looking for is a way to visit a rectangle's tiles in an order that is random, without pre-processing any data. When visiting, I'll check if the tile is red and return that coordinate.</p>\n<p>My naïve approach has been to randomly get an offset, then iterate from this coordinate top-left to bottom-right until a red tile is hit, but this favours the leftmost edge of the shape.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":1,"creation_date":1383581147,"post_id":19771812,"comment_id":29386087,"body_markdown":"Mark the indicated folder as read-write.  This is a file system issue, has nothing to do with java or eclipse.","body":"Mark the indicated folder as read-write.  This is a file system issue, has nothing to do with java or eclipse."},{"owner":{"account_id":436588,"reputation":7495,"user_id":823859,"accept_rate":78,"display_name":"Adam_G"},"score":0,"creation_date":1383581558,"post_id":19771812,"comment_id":29386331,"body_markdown":"The problem is there is no `mockup/bin` folder, I assume since the project hasn&#39;t been built.","body":"The problem is there is no <code>mockup&#47;bin</code> folder, I assume since the project hasn&#39;t been built."}],"answers":[{"tags":[],"owner":{"account_id":4372628,"reputation":106,"user_id":3566519,"display_name":"Alberto Biasao"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1640101413,"creation_date":1398291028,"answer_id":23256163,"question_id":19771812,"body_markdown":"I had the same issue and solved it by granting write access to my workspace folder. \r\n\r\nSome hints of how doing that in Linux can be found at: https://stackoverflow.com/questions/11917786/change-read-write-access-of-a-folder-in-ubuntu-linux","title":"Cannnot build java project in Eclipse: Parent of resource is marked &#39;read-only&#39;","body":"<p>I had the same issue and solved it by granting write access to my workspace folder.</p>\n<p>Some hints of how doing that in Linux can be found at: <a href=\"https://stackoverflow.com/questions/11917786/change-read-write-access-of-a-folder-in-ubuntu-linux\">Change read/write access of a folder in Ubuntu Linux</a></p>\n"},{"tags":[],"owner":{"account_id":931166,"reputation":1517,"user_id":961028,"accept_rate":47,"display_name":"Sumit Bisht"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398320867,"creation_date":1398320867,"answer_id":23261392,"question_id":19771812,"body_markdown":"if changing existing file permissions is not possible, you can also specify the build folder separately (assuming you are able to write your changes into the .project file).\r\n\r\n\r\nRight-click the project and click properties -&gt; Build path\r\n\r\nIn there, change the default output folder.\r\n\r\n","title":"Cannnot build java project in Eclipse: Parent of resource is marked &#39;read-only&#39;","body":"<p>if changing existing file permissions is not possible, you can also specify the build folder separately (assuming you are able to write your changes into the .project file).</p>\n\n<p>Right-click the project and click properties -> Build path</p>\n\n<p>In there, change the default output folder.</p>\n"},{"tags":[],"owner":{"account_id":13015480,"reputation":11,"user_id":9407164,"display_name":"Afonso Henrique Barrenha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519510304,"creation_date":1519510304,"answer_id":48968148,"question_id":19771812,"body_markdown":"I had the same problem, but I resolved by changing the permissions of the project folders I was importing, not the workspace folder. ","title":"Cannnot build java project in Eclipse: Parent of resource is marked &#39;read-only&#39;","body":"<p>I had the same problem, but I resolved by changing the permissions of the project folders I was importing, not the workspace folder. </p>\n"},{"tags":[],"owner":{"account_id":16773846,"reputation":1526,"user_id":12125692,"display_name":"Ashutosh Tiwari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640688064,"creation_date":1613022805,"answer_id":66149441,"question_id":19771812,"body_markdown":"For me the error was showing inside target folder.\r\n\r\nI deleted all content inside target folder and rebuild the project !\r\n\r\n:)","title":"Cannnot build java project in Eclipse: Parent of resource is marked &#39;read-only&#39;","body":"<p>For me the error was showing inside target folder.</p>\n<p>I deleted all content inside target folder and rebuild the project !</p>\n<p>:)</p>\n"},{"tags":[],"owner":{"account_id":17888617,"reputation":11,"user_id":12995662,"display_name":"Vicente Sim&#227;o Vici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617648542,"creation_date":1617648542,"answer_id":66958179,"question_id":19771812,"body_markdown":"I had the same proplem. To solve it you have to open ou create a new project on eclipse as **super user**.\r\n\r\nLinux:\r\nexecute the command `sudo su`\r\n\r\nWindows: Open as Admin\r\n ","title":"Cannnot build java project in Eclipse: Parent of resource is marked &#39;read-only&#39;","body":"<p>I had the same proplem. To solve it you have to open ou create a new project on eclipse as <strong>super user</strong>.</p>\n<p>Linux:\nexecute the command <code>sudo su</code></p>\n<p>Windows: Open as Admin</p>\n"}],"owner":{"account_id":436588,"reputation":7495,"user_id":823859,"accept_rate":78,"display_name":"Adam_G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17510,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":23256163,"answer_count":5,"score":10,"last_activity_date":1640688064,"creation_date":1383581012,"question_id":19771812,"body_markdown":"I am trying to run a java project in Eclipse Kepler. The product runs fine on another machine, and I used `git clone` and `Import` to load the project on my current machine.  \r\n\r\nHowever, upon loading the project, I received the error:  \r\nThe project was not built due to &quot;Parent of resource: /Users/adam/.../mockup/bin is marked as read-only.&quot;. Fix the problem, then try refreshing this project and building it since it may be inconsistent\tmockup\t\tUnknown\tJava Problem  \r\n\r\nHow can this issue be resolved?","title":"Cannnot build java project in Eclipse: Parent of resource is marked &#39;read-only&#39;","body":"<p>I am trying to run a java project in Eclipse Kepler. The product runs fine on another machine, and I used <code>git clone</code> and <code>Import</code> to load the project on my current machine.  </p>\n\n<p>However, upon loading the project, I received the error:<br>\nThe project was not built due to \"Parent of resource: /Users/adam/.../mockup/bin is marked as read-only.\". Fix the problem, then try refreshing this project and building it since it may be inconsistent   mockup      Unknown Java Problem  </p>\n\n<p>How can this issue be resolved?</p>\n"},{"tags":["java","string","append","output","stringbuffer"],"comments":[{"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"score":2,"creation_date":1640683576,"post_id":70505057,"comment_id":124631494,"body_markdown":"`checkIDS..append(&#39;\\&#39;&#39;).append(checkId.split(&quot;,&quot;)).append(&#39;\\&#39;&#39;).append(&#39;,&#39;);`\nbeforethe first append there is 2 dots, delete one","body":"<code>checkIDS..append(&#39;\\&#39;&#39;).append(checkId.split(&quot;,&quot;)).append(&#39;\\&#39;&zwnj;&#8203;&#39;).append(&#39;,&#39;);</code> beforethe first append there is 2 dots, delete one"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1640684508,"post_id":70505057,"comment_id":124631789,"body_markdown":"what is &quot;junk data&quot; ?","body":"what is &quot;junk data&quot; ?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1640685810,"post_id":70505057,"comment_id":124632151,"body_markdown":"You need to show the output you are getting.","body":"You need to show the output you are getting."},{"owner":{"account_id":23642698,"reputation":3,"user_id":17672735,"display_name":"Pratyusha Karra"},"score":0,"creation_date":1640686900,"post_id":70505057,"comment_id":124632485,"body_markdown":"Thanks for your comment but the issue is not the dot, it was a mistake in the code regarding the dot.\nand the junk data i am speaking about is : &#39;[Ljava.lang.String;@d70c109&#39;,....","body":"Thanks for your comment but the issue is not the dot, it was a mistake in the code regarding the dot. and the junk data i am speaking about is : &#39;[Ljava.lang.String;@d70c109&#39;,...."},{"owner":{"account_id":9456016,"reputation":3926,"user_id":7031308,"display_name":"Donnald Cucharo"},"score":0,"creation_date":1640755244,"post_id":70505057,"comment_id":124649922,"body_markdown":"Hi OP. Let us know if any of the answer helped. If it answered your question, then accept it. That way others know that you&#39;ve been (sufficiently) helped. Also see [What should I do when someone answers my question](https://stackoverflow.com/help/someone-answers)?","body":"Hi OP. Let us know if any of the answer helped. If it answered your question, then accept it. That way others know that you&#39;ve been (sufficiently) helped. Also see <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question</a>?"},{"owner":{"account_id":23642698,"reputation":3,"user_id":17672735,"display_name":"Pratyusha Karra"},"score":0,"creation_date":1640757692,"post_id":70505057,"comment_id":124650301,"body_markdown":"Thanks for you comment.. i have got the answer required and marked a green tick for it","body":"Thanks for you comment.. i have got the answer required and marked a green tick for it"}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640685341,"creation_date":1640684635,"answer_id":70505314,"question_id":70505057,"body_markdown":"Try this:\r\n\r\n    var ids = Arrays.stream( ChkboxIds.split( &quot;,&quot; ) ) // Separate the words\r\n      .map( s -&gt; s.replace( &#39;\\&#39;&#39;, &#39;&#39; ) ) // Strip the single quotes\r\n      .map( s -&gt; &quot;DD%s&quot;.formatted( s ) ) // Prepend with &quot;DD&quot;\r\n      .collect( Collectors.joining( &quot;&#39;,&#39;&quot;, &quot;&#39;&quot;, &quot;&#39;&quot; ) );\r\n    System.out.println( ids );\r\n\r\nAlternatively:\r\n\r\n    var ids = Arrays.stream( ChkboxIds.split( &quot;,&quot; ) ) // Separate the words\r\n      .map( s -&gt; s.replaceFirst( &quot;&#39;&quot;, &quot;&#39;DD&quot; ) ) // Replace the first single quote with the prefix\r\n      .collect( Collectors.joining( &quot;,&quot; ) );\r\n    System.out.println( ids );\r\n\r\nRefer to the respective Javadoc for the details.\r\n","title":"How to append String to StringBuffer variable in JAVA","body":"<p>Try this:</p>\n<pre><code>var ids = Arrays.stream( ChkboxIds.split( &quot;,&quot; ) ) // Separate the words\n  .map( s -&gt; s.replace( '\\'', '' ) ) // Strip the single quotes\n  .map( s -&gt; &quot;DD%s&quot;.formatted( s ) ) // Prepend with &quot;DD&quot;\n  .collect( Collectors.joining( &quot;','&quot;, &quot;'&quot;, &quot;'&quot; ) );\nSystem.out.println( ids );\n</code></pre>\n<p>Alternatively:</p>\n<pre><code>var ids = Arrays.stream( ChkboxIds.split( &quot;,&quot; ) ) // Separate the words\n  .map( s -&gt; s.replaceFirst( &quot;'&quot;, &quot;'DD&quot; ) ) // Replace the first single quote with the prefix\n  .collect( Collectors.joining( &quot;,&quot; ) );\nSystem.out.println( ids );\n</code></pre>\n<p>Refer to the respective Javadoc for the details.</p>\n"},{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640685100,"creation_date":1640684764,"answer_id":70505328,"question_id":70505057,"body_markdown":"### Problem\r\n\r\n- issue at `.append(checkId.split(&quot;,&quot;))` where you append an `String[]` so it&#39;s representation is it&#39;s hashcode\r\n\r\n- don&#39;t need a second loop, each word need one loop round, no inner loop needed\r\n\r\n- your split is wrong, you need `ChkboxIds.split(&quot;,&quot;)`, you don&#39;t need with the same string as delimiter\r\n\r\n---\r\n\r\n### Fix\r\n\r\nYou can do much more simpler than that\r\n\r\n- split on comma\r\n- remove quotes, append `DD`, add quotes\r\n- save at same place in array\r\n- join array with comma\r\n\r\n&lt;!-- --&gt;\r\n\r\n    String chkboxIds = &quot;&#39;a1b2c3&#39;,&#39;321cba&#39;,&#39;123abc&#39;&quot;;\r\n\r\n    String[] splitted = chkboxIds.split(&quot;,&quot;);\r\n    String checkBoxId;\r\n\r\n    for (int i = 0; i &lt; splitted.length; i++) {\r\n        checkBoxId = &quot;DD&quot; + splitted[i].replace(&quot;&#39;&quot;, &quot;&quot;);\r\n        splitted[i] = &quot;&#39;&quot; + checkBoxId + &quot;&#39;&quot;;\r\n    }\r\n\r\n    String result = String.join(&quot;,&quot;, splitted);\r\n    System.out.println(result);\r\n    // &#39;DDa1b2c3&#39;,&#39;DD321cba&#39;,&#39;DD123abc&#39;\r\n\r\n\r\n\r\nRegex power\r\n\r\n    String chkboxIds = &quot;&#39;a1b2c3&#39;,&#39;321cba&#39;,&#39;123abc&#39;&quot;;\r\n    String result = chkboxIds.replaceAll(&quot;&#39;(\\\\w+)&#39;&quot;, &quot;&#39;DD$1&#39;&quot;);\r\n\r\n","title":"How to append String to StringBuffer variable in JAVA","body":"<h3>Problem</h3>\n<ul>\n<li><p>issue at <code>.append(checkId.split(&quot;,&quot;))</code> where you append an <code>String[]</code> so it's representation is it's hashcode</p>\n</li>\n<li><p>don't need a second loop, each word need one loop round, no inner loop needed</p>\n</li>\n<li><p>your split is wrong, you need <code>ChkboxIds.split(&quot;,&quot;)</code>, you don't need with the same string as delimiter</p>\n</li>\n</ul>\n<hr />\n<h3>Fix</h3>\n<p>You can do much more simpler than that</p>\n<ul>\n<li>split on comma</li>\n<li>remove quotes, append <code>DD</code>, add quotes</li>\n<li>save at same place in array</li>\n<li>join array with comma</li>\n</ul>\n\n<pre><code>String chkboxIds = &quot;'a1b2c3','321cba','123abc'&quot;;\n\nString[] splitted = chkboxIds.split(&quot;,&quot;);\nString checkBoxId;\n\nfor (int i = 0; i &lt; splitted.length; i++) {\n    checkBoxId = &quot;DD&quot; + splitted[i].replace(&quot;'&quot;, &quot;&quot;);\n    splitted[i] = &quot;'&quot; + checkBoxId + &quot;'&quot;;\n}\n\nString result = String.join(&quot;,&quot;, splitted);\nSystem.out.println(result);\n// 'DDa1b2c3','DD321cba','DD123abc'\n</code></pre>\n<p>Regex power</p>\n<pre><code>String chkboxIds = &quot;'a1b2c3','321cba','123abc'&quot;;\nString result = chkboxIds.replaceAll(&quot;'(\\\\w+)'&quot;, &quot;'DD$1'&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23696739,"reputation":961,"user_id":17720363,"display_name":"Catherine O"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640686957,"creation_date":1640685969,"answer_id":70505531,"question_id":70505057,"body_markdown":"For a simpler solution, you can try the code below.\r\n\r\n&lt;!-- begin snippet: java hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class Main\r\n    {\r\n        public static void main(String[] args) {\r\n            String ChkboxIds = &quot;&#39;a1b2c3&#39;,&#39;321cba&#39;,&#39;123abc&#39;&quot;;\r\n            //Replace all single quotes from the ChkboxIds, split them using comma delimiter, and store it to variable array\r\n            String[] ChkboxIdsNew = ChkboxIds.replace(&quot;&#39;&quot;,&quot;&quot;).split(&quot;,&quot;); \r\n\r\n            String checkIDS = &quot;&quot;; //String variable to be used to store the check ids\r\n\r\n            //Loop through the ChkboxIdsNew array\r\n            for (int i = 0; i &lt; ChkboxIdsNew.length; i++) {\r\n                //Only append comma if i is greater than zero\r\n                if (i &gt; 0) {\r\n                    checkIDS = checkIDS + &quot;,&quot;;\r\n                }\r\n                //Concatenate the single quotes and prefix DD then append it to checkIDS\r\n                checkIDS = checkIDS + &quot;&#39;DD&quot; + ChkboxIdsNew[i] + &quot;&#39;&quot;;\r\n            }\r\n\r\n\r\n            System.out.println(checkIDS);\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nOutput:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3LnEf.png","title":"How to append String to StringBuffer variable in JAVA","body":"<p>For a simpler solution, you can try the code below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main\n{\n    public static void main(String[] args) {\n        String ChkboxIds = &quot;'a1b2c3','321cba','123abc'&quot;;\n        //Replace all single quotes from the ChkboxIds, split them using comma delimiter, and store it to variable array\n        String[] ChkboxIdsNew = ChkboxIds.replace(&quot;'&quot;,&quot;&quot;).split(&quot;,&quot;); \n\n        String checkIDS = &quot;&quot;; //String variable to be used to store the check ids\n\n        //Loop through the ChkboxIdsNew array\n        for (int i = 0; i &lt; ChkboxIdsNew.length; i++) {\n            //Only append comma if i is greater than zero\n            if (i &gt; 0) {\n                checkIDS = checkIDS + &quot;,&quot;;\n            }\n            //Concatenate the single quotes and prefix DD then append it to checkIDS\n            checkIDS = checkIDS + &quot;'DD&quot; + ChkboxIdsNew[i] + &quot;'&quot;;\n        }\n\n\n        System.out.println(checkIDS);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/3LnEf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3LnEf.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":112753,"reputation":772,"user_id":297274,"accept_rate":23,"display_name":"cobp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640688063,"creation_date":1640688063,"answer_id":70505912,"question_id":70505057,"body_markdown":"Using regular expressions:\r\nIf the single words doesnt contain additional single quotes:\r\n\r\n        String ChkboxIds = &quot;&#39;a1b2c3&#39;,&#39;321cba&#39;,&#39;123abc&#39;&quot;;\r\n        ChkboxIds = ChkboxIds.replaceAll(&quot;,&#39;&quot;,&quot;,&#39;DD&quot;).replaceAll(&quot;^&#39;&quot;,&quot;&#39;DD&quot;);\r\n\r\nUsing iteration :\r\n\r\n\t\tString arChkBoxIds[]= ChkboxIds.split(&quot;,&quot;);\r\n\t\tStringBuilder checkIDS1 = new StringBuilder(&quot;&quot;);\r\n\t\tfor (String chkBoxId:arChkBoxIds){\r\n\t\t   \r\n\t\t   checkIDS1.append(&quot;&#39;DD&quot;).append(chkBoxId.substring(1)).append(&quot;,&quot;);\r\n\t\t}\r\n\t\tcheckIDS1.setLength(checkIDS1.length()-1);\r\n\t\tSystem.out.println(checkIDS1);\r\n","title":"How to append String to StringBuffer variable in JAVA","body":"<p>Using regular expressions:\nIf the single words doesnt contain additional single quotes:</p>\n<pre><code>    String ChkboxIds = &quot;'a1b2c3','321cba','123abc'&quot;;\n    ChkboxIds = ChkboxIds.replaceAll(&quot;,'&quot;,&quot;,'DD&quot;).replaceAll(&quot;^'&quot;,&quot;'DD&quot;);\n</code></pre>\n<p>Using iteration :</p>\n<pre><code>    String arChkBoxIds[]= ChkboxIds.split(&quot;,&quot;);\n    StringBuilder checkIDS1 = new StringBuilder(&quot;&quot;);\n    for (String chkBoxId:arChkBoxIds){\n       \n       checkIDS1.append(&quot;'DD&quot;).append(chkBoxId.substring(1)).append(&quot;,&quot;);\n    }\n    checkIDS1.setLength(checkIDS1.length()-1);\n    System.out.println(checkIDS1);\n</code></pre>\n"}],"owner":{"account_id":23642698,"reputation":3,"user_id":17672735,"display_name":"Pratyusha Karra"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":706,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70505328,"answer_count":4,"score":-1,"last_activity_date":1640688063,"creation_date":1640683344,"question_id":70505057,"body_markdown":"My code is as  below. i need to add single quotes for each word in string with single quotes after appending DD to it.\r\n\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t    String ChkboxIds = &quot;&#39;a1b2c3&#39;,&#39;321cba&#39;,&#39;123abc&#39;&quot;;\r\n    \t\tString checkBoxId = null;\r\n    \t\tString checkId = null;\r\n    \t\tStringBuilder checkIDS = new StringBuilder(&quot;&#39;&quot;);\r\n    \t\tfor(int i=0;i&lt;=ChkboxIds.split(ChkboxIds, &#39;,&#39;).length;i++){\r\n    \t\t\tcheckBoxId = &quot;DD&quot;+ChkboxIds.split(&quot;,&quot;)[i].replace(&quot;&#39;&quot;,&quot;&quot;)+&quot;,&quot;+checkBoxId;\r\n    \t\t\tcheckId = checkBoxId.substring(0, checkBoxId.length() - 5);\r\n    \t\t\tSystem.out.println(&quot;---PRINT---&quot;+checkId);\r\n    \t\t\tfor(int j=0;j&lt;i;j++){\r\n    \t\t\t    checkIDS..append(&#39;\\&#39;&#39;).append(checkId.split(&quot;,&quot;)).append(&#39;\\&#39;&#39;).append(&#39;,&#39;);\r\n    \t\t\t\tSystem.out.println(&quot;---PRINT123----&quot;+checkIDS);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nI have tried using StringBuffer too. please point your answers here. The output i get is some junk data while i need the words with dd attached at the start.\r\n\r\nExpected output:`&#39;DDa1b2c3&#39;,&#39;DD321cba&#39;,&#39;DD123abc&#39;`","title":"How to append String to StringBuffer variable in JAVA","body":"<p>My code is as  below. i need to add single quotes for each word in string with single quotes after appending DD to it.</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        String ChkboxIds = &quot;'a1b2c3','321cba','123abc'&quot;;\n        String checkBoxId = null;\n        String checkId = null;\n        StringBuilder checkIDS = new StringBuilder(&quot;'&quot;);\n        for(int i=0;i&lt;=ChkboxIds.split(ChkboxIds, ',').length;i++){\n            checkBoxId = &quot;DD&quot;+ChkboxIds.split(&quot;,&quot;)[i].replace(&quot;'&quot;,&quot;&quot;)+&quot;,&quot;+checkBoxId;\n            checkId = checkBoxId.substring(0, checkBoxId.length() - 5);\n            System.out.println(&quot;---PRINT---&quot;+checkId);\n            for(int j=0;j&lt;i;j++){\n                checkIDS..append('\\'').append(checkId.split(&quot;,&quot;)).append('\\'').append(',');\n                System.out.println(&quot;---PRINT123----&quot;+checkIDS);\n            }\n        }\n    }\n}\n</code></pre>\n<p>I have tried using StringBuffer too. please point your answers here. The output i get is some junk data while i need the words with dd attached at the start.</p>\n<p>Expected output:<code>'DDa1b2c3','DD321cba','DD123abc'</code></p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":3294776,"reputation":143,"user_id":2772291,"accept_rate":17,"display_name":"Dax Joshi"},"score":0,"creation_date":1393386652,"post_id":22031128,"comment_id":33399638,"body_markdown":"Make sure what values is set. You can check that by logging those values before save() call.","body":"Make sure what values is set. You can check that by logging those values before save() call."},{"owner":{"account_id":1849319,"reputation":1716,"user_id":1676219,"display_name":"ciri-cuervo"},"score":0,"creation_date":1440719089,"post_id":22031128,"comment_id":52401965,"body_markdown":"You forgot to implement `equals()` and `hashcode()` in Person. Only consider field `id` when implementing it. That should solve your problem.","body":"You forgot to implement <code>equals()</code> and <code>hashcode()</code> in Person. Only consider field <code>id</code> when implementing it. That should solve your problem."}],"answers":[{"tags":[],"owner":{"account_id":2102773,"reputation":19013,"user_id":1869933,"accept_rate":88,"display_name":"Koitoer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393387007,"creation_date":1393387007,"answer_id":22031406,"question_id":22031128,"body_markdown":"I think the repository should be\r\n\r\n    public interface PersonRepository extends CrudRepository&lt;Person, Integer&gt; {\r\n\r\nAs your Id is Integer not String, also I assume that your\r\n\r\n    personService.createPerson(person); \r\n\r\nInternally use save method of the repo.\r\n\r\nMy second advice is the \r\n\r\n    @DirtiesContext(classMode = ClassMode.AFTER_EACH_TEST_METHOD)}\r\n\r\nThis mean that the app Context need to be generated again also beans, so please be sure that your configuration in persistence.xml is not having h2bml set to create.\r\nAlso consider to call flush method in your service.","title":"how to update an entity with spring data jpa","body":"<p>I think the repository should be</p>\n\n<pre><code>public interface PersonRepository extends CrudRepository&lt;Person, Integer&gt; {\n</code></pre>\n\n<p>As your Id is Integer not String, also I assume that your</p>\n\n<pre><code>personService.createPerson(person); \n</code></pre>\n\n<p>Internally use save method of the repo.</p>\n\n<p>My second advice is the </p>\n\n<pre><code>@DirtiesContext(classMode = ClassMode.AFTER_EACH_TEST_METHOD)}\n</code></pre>\n\n<p>This mean that the app Context need to be generated again also beans, so please be sure that your configuration in persistence.xml is not having h2bml set to create.\nAlso consider to call flush method in your service.</p>\n"},{"tags":[],"owner":{"account_id":4715331,"reputation":1045,"user_id":3814650,"accept_rate":100,"display_name":"chinesewhiteboi"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1406260079,"creation_date":1406260079,"answer_id":24947723,"question_id":22031128,"body_markdown":"The problem is in your updatePerson method in your service class.  Specifically:\r\n\r\n    return personRepository.save(oldPerson);\r\n\r\nAll you are currently doing is saving a Person.  That&#39;s why it is creating a second entry.  \r\nWhat you should do is find the oldPerson first, \r\n\r\n    Person p = personRepository.findOne(oldPerson.getId())\r\n\r\nthen update its attributes, and then save it like you did before.\r\nHope that helps.","title":"how to update an entity with spring data jpa","body":"<p>The problem is in your updatePerson method in your service class.  Specifically:</p>\n\n<pre><code>return personRepository.save(oldPerson);\n</code></pre>\n\n<p>All you are currently doing is saving a Person.  That's why it is creating a second entry.<br>\nWhat you should do is find the oldPerson first, </p>\n\n<pre><code>Person p = personRepository.findOne(oldPerson.getId())\n</code></pre>\n\n<p>then update its attributes, and then save it like you did before.\nHope that helps.</p>\n"},{"tags":[],"owner":{"account_id":1849319,"reputation":1716,"user_id":1676219,"display_name":"ciri-cuervo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1440719458,"creation_date":1440719458,"answer_id":32261227,"question_id":22031128,"body_markdown":"You must implement `equals()` and `hashCode()` in class Person.\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    @Entity(name = &quot;PERSON&quot;)\r\n    public class Person {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;PERSON_ID&quot;)\r\n        private Integer id;\r\n        @Column(name = &quot;FIRST_NAME&quot;)\r\n        private String firstName;\r\n        @Column(name = &quot;LAST_NAME&quot;)\r\n        private String lastName;\r\n        //getters and setters\r\n    \r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (this == obj)\r\n                return true;\r\n            if (id == null || obj == null || getClass() != obj.getClass())\r\n                return false;\r\n            Person that = (Person) obj;\r\n            return id.equals(that.id);\r\n        }\r\n        @Override\r\n        public int hashCode() {\r\n            return id == null ? 0 : id.hashCode();\r\n        }\r\n    }\r\n","title":"how to update an entity with spring data jpa","body":"<p>You must implement <code>equals()</code> and <code>hashCode()</code> in class Person.</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = \"PERSON\")\npublic class Person {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"PERSON_ID\")\n    private Integer id;\n    @Column(name = \"FIRST_NAME\")\n    private String firstName;\n    @Column(name = \"LAST_NAME\")\n    private String lastName;\n    //getters and setters\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (id == null || obj == null || getClass() != obj.getClass())\n            return false;\n        Person that = (Person) obj;\n        return id.equals(that.id);\n    }\n    @Override\n    public int hashCode() {\n        return id == null ? 0 : id.hashCode();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1740852,"reputation":770,"user_id":1592308,"display_name":"Venkata Santhosh Piduri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512194388,"creation_date":1512194388,"answer_id":47605099,"question_id":22031128,"body_markdown":"Two ways to make this work\r\n\r\noverride compareTo method as \r\n\r\n    @Entity(name = &quot;PERSON&quot;)\r\n    public class Person implements Comparable&lt;Person&gt;{\r\n     //... all your attributes goes here\r\n     private Integer id;\r\n     \r\n     @Override\r\n    public int compareTo(Person person) {\r\n       return this.getId().compareTo(person.getId());\r\n    }} \r\n\r\nor \r\n\r\nyou need to override equals and hashcode methods in your entity class as below \r\n\r\n     @Override\r\n    public boolean equals(Object obj) {\r\n        if (this == obj)\r\n            return true;\r\n        if (id == null || obj == null || getClass() != obj.getClass())\r\n            return false;\r\n        Person that = (Person) obj;\r\n        return id.equals(that.id);\r\n    }\r\n    @Override\r\n    public int hashCode() {\r\n        return id == null ? 0 : id.hashCode();\r\n    }\r\n","title":"how to update an entity with spring data jpa","body":"<p>Two ways to make this work</p>\n\n<p>override compareTo method as </p>\n\n<pre><code>@Entity(name = \"PERSON\")\npublic class Person implements Comparable&lt;Person&gt;{\n //... all your attributes goes here\n private Integer id;\n\n @Override\npublic int compareTo(Person person) {\n   return this.getId().compareTo(person.getId());\n}} \n</code></pre>\n\n<p>or </p>\n\n<p>you need to override equals and hashcode methods in your entity class as below </p>\n\n<pre><code> @Override\npublic boolean equals(Object obj) {\n    if (this == obj)\n        return true;\n    if (id == null || obj == null || getClass() != obj.getClass())\n        return false;\n    Person that = (Person) obj;\n    return id.equals(that.id);\n}\n@Override\npublic int hashCode() {\n    return id == null ? 0 : id.hashCode();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13717415,"reputation":1385,"user_id":9898251,"display_name":"Badri Paudel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591106233,"creation_date":1591105896,"answer_id":62153632,"question_id":22031128,"body_markdown":"One doesn&#39;t have to do any complex operations for this. \r\nIn your **service class** you can do something like this. \r\n\r\n     @Service\r\n    public class PersonServiceImpl implements PersonService {\r\n    \r\n        @Autowired\r\n        private PersonRepository personRepository;\r\n    \r\n        @Override\r\n        public Person updatePerson(Person oldPerson) throws Exception { \r\n            \r\n          oldPerson.setId(oldPerson.getId()) ; // pass the associated id for which you want to update and set that id to the same person [ basically setting the same id to the oldPerson ] this way it will not create new entry because here we are not making new ID ] \r\n    \r\n     //oldPerson.set others [ what is to be updated ]  \r\n\r\n    \r\n            return personRepository.save(oldPerson); // now save [old person with updated content but same id as it was before ]\r\n        }\r\n    }\r\n\r\nThis solves the problem of creating new entry to the database and updates the same content with Id associate with that person.\r\n \r\n\r\n","title":"how to update an entity with spring data jpa","body":"<p>One doesn't have to do any complex operations for this. \nIn your <strong>service class</strong> you can do something like this. </p>\n\n<pre><code> @Service\npublic class PersonServiceImpl implements PersonService {\n\n    @Autowired\n    private PersonRepository personRepository;\n\n    @Override\n    public Person updatePerson(Person oldPerson) throws Exception { \n\n      oldPerson.setId(oldPerson.getId()) ; // pass the associated id for which you want to update and set that id to the same person [ basically setting the same id to the oldPerson ] this way it will not create new entry because here we are not making new ID ] \n\n //oldPerson.set others [ what is to be updated ]  \n\n\n        return personRepository.save(oldPerson); // now save [old person with updated content but same id as it was before ]\n    }\n}\n</code></pre>\n\n<p>This solves the problem of creating new entry to the database and updates the same content with Id associate with that person.</p>\n"}],"owner":{"account_id":3888700,"reputation":765,"user_id":3219470,"accept_rate":29,"display_name":"nspessot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79016,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":5,"score":19,"last_activity_date":1640688025,"creation_date":1393385354,"question_id":22031128,"body_markdown":"I have an entity and a Junit, I want to test that update method is working fine, but when I invoke save method from CrudRepository I get a new entry in my table instead of the updated entity.\r\n\r\nThis is my entity:\r\n\r\n    @Entity(name = &quot;PERSON&quot;)\r\n    public class Person {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;PERSON_ID&quot;)\r\n    \tprivate Integer id;\r\n    \t@Column(name = &quot;FIRST_NAME&quot;)\r\n    \tprivate String firstName;\r\n    \t@Column(name = &quot;LAST_NAME&quot;)\r\n    \tprivate String lastName;\r\n    //getters and setters\r\n    }\r\n\r\nThis is my service class:\r\n\r\n    @Service\r\n    public class PersonServiceImpl implements PersonService {\r\n    \r\n    \t@Autowired\r\n    \tprivate PersonRepository personRepository;\r\n    \r\n        @Override\r\n    \tpublic Person updatePerson(Person oldPerson) throws Exception {\t\r\n    \t\r\n    \t\treturn personRepository.save(oldPerson);\r\n    \t}\r\n    }\r\n\r\nThis is my repository\r\n\r\n    public interface PersonRepository extends CrudRepository&lt;Person, String&gt; {\r\n    }\r\n\r\nThis is my test:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = { JPAConfigurationTest.class })\r\n    @DirtiesContext(classMode = ClassMode.AFTER_EACH_TEST_METHOD)\r\n    @Transactional\r\n    public class UpdatePersonServiceIntegrationTest {\r\n            @Autowired\r\n    \tPersonService personService;\r\n    \r\n            @Before\r\n    \tpublic void setUp() throws Exception {\r\n    \t\tPerson person = new Person(1);\r\n    \t\tperson.setFirstName(&quot;Nicolas&quot;);\r\n    \t\tperson.setLastName(&quot;Spessot&quot;);\r\n    \r\n    \t\tpersonService.createPerson(person); //This invokes save\r\n    \t}\r\n    \r\n            @Test\r\n    \tpublic void updatingPerson() throws Exception{\r\n    \t\tPerson person = new Person(1);\r\n    \t\tperson.setFirstName(&quot;Juan&quot;);\r\n    \t\tperson.setLastName(&quot;Riquelme&quot;);\r\n    \t\t\r\n    \t\tpersonService.updatePerson(person);\r\n    \t\t\r\n    \t\tPerson retrieved = personService.retrievePerson(1); //This invokes findOne\r\n    \t\t\r\n    \t\tassertEquals(1, person.getId());\r\n    \t\tassertEquals(&quot;Juan&quot;, person.getFirstName());\r\n    \t\tassertEquals(&quot;Riquelme&quot;, person.getLastName());\r\n    \t}\r\n    }\r\n\r\nThanks in advance","title":"how to update an entity with spring data jpa","body":"<p>I have an entity and a Junit, I want to test that update method is working fine, but when I invoke save method from CrudRepository I get a new entry in my table instead of the updated entity.</p>\n\n<p>This is my entity:</p>\n\n<pre><code>@Entity(name = \"PERSON\")\npublic class Person {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"PERSON_ID\")\n    private Integer id;\n    @Column(name = \"FIRST_NAME\")\n    private String firstName;\n    @Column(name = \"LAST_NAME\")\n    private String lastName;\n//getters and setters\n}\n</code></pre>\n\n<p>This is my service class:</p>\n\n<pre><code>@Service\npublic class PersonServiceImpl implements PersonService {\n\n    @Autowired\n    private PersonRepository personRepository;\n\n    @Override\n    public Person updatePerson(Person oldPerson) throws Exception { \n\n        return personRepository.save(oldPerson);\n    }\n}\n</code></pre>\n\n<p>This is my repository</p>\n\n<pre><code>public interface PersonRepository extends CrudRepository&lt;Person, String&gt; {\n}\n</code></pre>\n\n<p>This is my test:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = { JPAConfigurationTest.class })\n@DirtiesContext(classMode = ClassMode.AFTER_EACH_TEST_METHOD)\n@Transactional\npublic class UpdatePersonServiceIntegrationTest {\n        @Autowired\n    PersonService personService;\n\n        @Before\n    public void setUp() throws Exception {\n        Person person = new Person(1);\n        person.setFirstName(\"Nicolas\");\n        person.setLastName(\"Spessot\");\n\n        personService.createPerson(person); //This invokes save\n    }\n\n        @Test\n    public void updatingPerson() throws Exception{\n        Person person = new Person(1);\n        person.setFirstName(\"Juan\");\n        person.setLastName(\"Riquelme\");\n\n        personService.updatePerson(person);\n\n        Person retrieved = personService.retrievePerson(1); //This invokes findOne\n\n        assertEquals(1, person.getId());\n        assertEquals(\"Juan\", person.getFirstName());\n        assertEquals(\"Riquelme\", person.getLastName());\n    }\n}\n</code></pre>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591027630,"creation_date":1591027630,"answer_id":62136209,"question_id":62135226,"body_markdown":"Your request payload contains [characters which are not allowed to be present in URL][1] so you need to wrap what you put in &quot;Path&quot; section of the HTTP Request sampler into [__urlencode() function][2] \r\n\r\n\r\n\r\nMore information: [Apache JMeter Functions - An Introduction][3]\r\n\r\n\r\n  [1]: https://www.urlencoder.io/learn/\r\n  [2]: https://jmeter.apache.org/usermanual/functions.html#__urlencode\r\n  [3]: https://www.blazemeter.com/blog/apache-jmeter-functions-introduction","title":"JMeter - Java.net.URISyntaxException: Illegal character in path at index","body":"<p>Your request payload contains <a href=\"https://www.urlencoder.io/learn/\" rel=\"nofollow noreferrer\">characters which are not allowed to be present in URL</a> so you need to wrap what you put in \"Path\" section of the HTTP Request sampler into <a href=\"https://jmeter.apache.org/usermanual/functions.html#__urlencode\" rel=\"nofollow noreferrer\">__urlencode() function</a> </p>\n\n<p>More information: <a href=\"https://www.blazemeter.com/blog/apache-jmeter-functions-introduction\" rel=\"nofollow noreferrer\">Apache JMeter Functions - An Introduction</a></p>\n"}],"owner":{"account_id":15965964,"reputation":21,"user_id":11521616,"display_name":"SeleniumIsLove"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640687154,"creation_date":1591024255,"question_id":62135226,"body_markdown":"I&#39;m testing an api in Jmeter\r\n\r\nWhen passing the url in postman I get proper response\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut when use the same in Jmeter I get error\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThe path I&#39;m using:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ORl7g.png\r\n  [2]: https://i.stack.imgur.com/WTkOe.png\r\n  [3]: https://i.stack.imgur.com/jVgJR.png","title":"JMeter - Java.net.URISyntaxException: Illegal character in path at index","body":"<p>I'm testing an api in Jmeter</p>\n\n<p>When passing the url in postman I get proper response\n<a href=\"https://i.stack.imgur.com/ORl7g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ORl7g.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when use the same in Jmeter I get error\n<a href=\"https://i.stack.imgur.com/WTkOe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WTkOe.png\" alt=\"enter image description here\"></a></p>\n\n<p>The path I'm using:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jVgJR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jVgJR.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","executorservice","scheduledexecutorservice"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1640699533,"post_id":70504326,"comment_id":124636293,"body_markdown":"Is it an option to schedule one big task which does the five or ten task in a simple `for` loop inside the `run()` method? Is it an option to immediately schedule the same task five or ten times?","body":"Is it an option to schedule one big task which does the five or ten task in a simple <code>for</code> loop inside the <code>run()</code> method? Is it an option to immediately schedule the same task five or ten times?"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1640712369,"post_id":70504326,"comment_id":124640647,"body_markdown":"Any particular reason why you want to shut it down? Any particular reason why `Executors.newCachedThreadPool()` doesn&#39;t satisfy your requirement?","body":"Any particular reason why you want to shut it down? Any particular reason why <code>Executors.newCachedThreadPool()</code> doesn&#39;t satisfy your requirement?"},{"owner":{"account_id":8542279,"reputation":57,"user_id":6401963,"display_name":"Annylowell"},"score":0,"creation_date":1640762282,"post_id":70504326,"comment_id":124651207,"body_markdown":"Hello, thanks for both your answers.\n@Progman I don&#39;t really like the first option, because this was just an example, it would be more like 100000 tasks and then a for loop seems somewhat clumsy. I don&#39;t see a problem in scheduling the tasks all at once, but also don&#39;t really see the benefit yet?","body":"Hello, thanks for both your answers. @Progman I don&#39;t really like the first option, because this was just an example, it would be more like 100000 tasks and then a for loop seems somewhat clumsy. I don&#39;t see a problem in scheduling the tasks all at once, but also don&#39;t really see the benefit yet?"},{"owner":{"account_id":8542279,"reputation":57,"user_id":6401963,"display_name":"Annylowell"},"score":0,"creation_date":1640762343,"post_id":70504326,"comment_id":124651222,"body_markdown":"@Shark Honestly I just want to shut it down because it seems like that would be the right thing to do - if I don&#39;t use a resource anymore, clean it up. And it will be invoked multiple times, so I don&#39;t want to have many idle executorServices lying around at some point.  I just read up on newCachedThreadPool and it seems quite nice, even though some people still say one should call shutdown here as well. I will read some  more, thanks for the suggestions :)","body":"@Shark Honestly I just want to shut it down because it seems like that would be the right thing to do - if I don&#39;t use a resource anymore, clean it up. And it will be invoked multiple times, so I don&#39;t want to have many idle executorServices lying around at some point.  I just read up on newCachedThreadPool and it seems quite nice, even though some people still say one should call shutdown here as well. I will read some  more, thanks for the suggestions :)"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":1,"creation_date":1640771738,"post_id":70504326,"comment_id":124653818,"body_markdown":"hmm.... i dunno. having one ExecutorService thats initialized on app start and shut down when app should stop  somehow seems better (to me) than initializing ExecutorService, running a batch of tasks, and shutting it down - **every time** you want to perform some tasks.","body":"hmm.... i dunno. having one ExecutorService thats initialized on app start and shut down when app should stop  somehow seems better (to me) than initializing ExecutorService, running a batch of tasks, and shutting it down - <b>every time</b> you want to perform some tasks."}],"answers":[{"tags":[],"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640686871,"creation_date":1640686871,"answer_id":70505692,"question_id":70504326,"body_markdown":"It will be easier to do if you make the tasks reschedule themselves in the executor service:\r\n\r\n    ScheduledThreadPoolExecutor executorService = new ScheduledThreadPoolExecutor(1);\r\n\tCountDownLatch latchOne = new CountDownLatch(1);\r\n\tCountDownLatch latchTwo = new CountDownLatch(1);\r\n\r\n\texecutorService.submit(new MyRunnerOne(executorService, latchOne, 5));\r\n\texecutorService.submit(new MyRunnerTwo(executorService, latchTwo, 10));\r\n\r\n\tlatchTwo.await();\r\n\tlatchOne.await();\r\n\r\n\tSystem.out.println(&quot;Shutting down service...&quot;);\r\n\texecutorService.shutdown();\r\n\texecutorService.awaitTermination(100, TimeUnit.SECONDS);\r\n\tSystem.out.println(&quot;Terminated: &quot; + executorService.isTerminated());\r\n\r\n    //...\r\n\r\n    class MyRunnerOne implements Runnable {\r\n    \tprivate final ExecutorService service;\r\n\t    private final CountDownLatch latch;\r\n    \tprivate final int count;\r\n\r\n    \tMyRunnerOne(ExecutorService service, CountDownLatch latch, int count) {\r\n\t    \tthis.service = service;\r\n\t\t    this.latch = latch;\r\n    \t\tthis.count = count;\r\n\t    }\r\n\r\n    \t@Override\r\n\t    public void run() {\r\n\t\t    System.out.println(&quot;Do Task One : &quot; + count);\r\n\t\t\r\n\t\t    if (count &gt; 1) {\r\n    \t\t\tservice.submit(new MyRunnerOne(service, latch, count - 1));\r\n\t    \t} else {\r\n\t\t    \tlatch.countDown();\r\n    \t\t}\r\n\t    }\r\n    }\r\n\r\n[Full code](https://gist.github.com/ackasaber/fe5f728087990d919f8f5a2ad0d99dc6).","title":"How to correctly shutdown ScheduledExecutorService","body":"<p>It will be easier to do if you make the tasks reschedule themselves in the executor service:</p>\n<pre><code>ScheduledThreadPoolExecutor executorService = new ScheduledThreadPoolExecutor(1);\nCountDownLatch latchOne = new CountDownLatch(1);\nCountDownLatch latchTwo = new CountDownLatch(1);\n\nexecutorService.submit(new MyRunnerOne(executorService, latchOne, 5));\nexecutorService.submit(new MyRunnerTwo(executorService, latchTwo, 10));\n\nlatchTwo.await();\nlatchOne.await();\n\nSystem.out.println(&quot;Shutting down service...&quot;);\nexecutorService.shutdown();\nexecutorService.awaitTermination(100, TimeUnit.SECONDS);\nSystem.out.println(&quot;Terminated: &quot; + executorService.isTerminated());\n\n//...\n\nclass MyRunnerOne implements Runnable {\n    private final ExecutorService service;\n    private final CountDownLatch latch;\n    private final int count;\n\n    MyRunnerOne(ExecutorService service, CountDownLatch latch, int count) {\n        this.service = service;\n        this.latch = latch;\n        this.count = count;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(&quot;Do Task One : &quot; + count);\n    \n        if (count &gt; 1) {\n            service.submit(new MyRunnerOne(service, latch, count - 1));\n        } else {\n            latch.countDown();\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://gist.github.com/ackasaber/fe5f728087990d919f8f5a2ad0d99dc6\" rel=\"nofollow noreferrer\">Full code</a>.</p>\n"}],"owner":{"account_id":8542279,"reputation":57,"user_id":6401963,"display_name":"Annylowell"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1640686871,"creation_date":1640679062,"question_id":70504326,"body_markdown":"I&#39;m still battling to understand how to work with the ScheduledExecutorService. I want to have a single ScheduledExecutorService/ScheduledThreadPoolExecutor, which schedules multiple tasks and lets them run a fixed amount of times. As soon as no more tasks are scheduled, I want to shutdown the ScheduledThreadPoolExecutor. I&#39;m trying to understand how this could work by writing some tests. The first thing I tried is the following:\r\n\r\n```\r\n    @Test\r\n    public void testExecutorService() throws Exception {\r\n        ScheduledThreadPoolExecutor executorService = new ScheduledThreadPoolExecutor(1);\r\n        executorService.setRemoveOnCancelPolicy(true);\r\n        CountDownLatch latchOne = new CountDownLatch(5);\r\n        CountDownLatch latchTwo = new CountDownLatch(10);\r\n\r\n        ScheduledFuture&lt;?&gt; scheduledFutureOne = executorService.scheduleAtFixedRate(new MyRunnerOne(latchOne), 0, 1, TimeUnit.SECONDS);\r\n        ScheduledFuture&lt;?&gt; scheduledFutureTwo = executorService.scheduleAtFixedRate(new MyRunnerTwo(latchTwo), 0, 2, TimeUnit.SECONDS);\r\n        \r\n        latchOne.await();\r\n        scheduledFutureOne.cancel(false);\r\n        latchTwo.await();\r\n        scheduledFutureTwo.cancel(false);\r\n        \r\n        System.out.println(&quot;Shutting down service...&quot;);\r\n        executorService.shutdown();\r\n        Thread.sleep(100);\r\n        assertTrue(executorService.isTerminated());\r\n    }\r\n\r\n    class MyRunnerOne implements Runnable\r\n    {\r\n        CountDownLatch latch;\r\n\r\n        MyRunnerOne(CountDownLatch latch)\r\n        {\r\n            this.latch = latch;\r\n        }\r\n\r\n        @Override\r\n        public void run()\r\n        {\r\n            System.out.println(&quot;Do Task One : &quot; + latch.getCount());\r\n            latch.countDown();\r\n        }\r\n    }\r\n\r\n\r\n    class MyRunnerTwo implements Runnable\r\n    {\r\n        CountDownLatch latch;\r\n\r\n        MyRunnerTwo(CountDownLatch latch)\r\n        {\r\n            this.latch = latch;\r\n        }\r\n\r\n        @Override\r\n        public void run()\r\n        {\r\n            System.out.println(&quot;Do Task Two: &quot; + latch.getCount());\r\n            latch.countDown();\r\n        }\r\n    }\r\n```\r\n\r\nThis works well and I get the expected output:\r\n```\r\nDo Task One : 5\r\nDo Task Two: 10\r\nDo Task One : 4\r\nDo Task One : 3\r\nDo Task Two: 9\r\nDo Task One : 2\r\nDo Task One : 1\r\nDo Task Two: 8\r\nDo Task Two: 7\r\nDo Task Two: 6\r\nDo Task Two: 5\r\nDo Task Two: 4\r\nDo Task Two: 3\r\nDo Task Two: 2\r\nDo Task Two: 1\r\nShutting down service...\r\n```\r\n\r\nHowever, I this only works because I am waiting for latchOne before waiting for latchTwo, since the first task takes less time. If I switch this order, i.e.\r\n\r\n```\r\n        latchTwo.await();\r\n        scheduledFutureTwo.cancel(false);\r\n        latchOne.await();\r\n        scheduledFutureOne.cancel(false);\r\n```\r\n\r\nTask One  will be executed further, even when the latch has reached zero, because it is only cancelled after Task Two. Is there a way to execute something (scheduledFutureOne.cancel(false) in this case) as soon as the latch is zero and doing so for multiple latches at once?\r\n\r\nI also tried to follow the setup described in [this answer][1] which again works well but I do not know where/how I would shutdown the ExecutorService. The setup is similar, an atomic integer is increased until the number of desired invocations is reached and then we cancel the future. This still does not shutdown the ExecutorService though. \r\n\r\nTLDR I would like to schedule multiple tasks with a single ExecutorService, each for a fixed number of invokations. The order in which the tasks are handled by the ExecutorService should be allowed to be random. As soon as no tasks are scheduled anymore, the ExecutorService should be shutdown.\r\n\r\nThank you guys for any ideas :)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/7299823/6401963","title":"How to correctly shutdown ScheduledExecutorService","body":"<p>I'm still battling to understand how to work with the ScheduledExecutorService. I want to have a single ScheduledExecutorService/ScheduledThreadPoolExecutor, which schedules multiple tasks and lets them run a fixed amount of times. As soon as no more tasks are scheduled, I want to shutdown the ScheduledThreadPoolExecutor. I'm trying to understand how this could work by writing some tests. The first thing I tried is the following:</p>\n<pre><code>    @Test\n    public void testExecutorService() throws Exception {\n        ScheduledThreadPoolExecutor executorService = new ScheduledThreadPoolExecutor(1);\n        executorService.setRemoveOnCancelPolicy(true);\n        CountDownLatch latchOne = new CountDownLatch(5);\n        CountDownLatch latchTwo = new CountDownLatch(10);\n\n        ScheduledFuture&lt;?&gt; scheduledFutureOne = executorService.scheduleAtFixedRate(new MyRunnerOne(latchOne), 0, 1, TimeUnit.SECONDS);\n        ScheduledFuture&lt;?&gt; scheduledFutureTwo = executorService.scheduleAtFixedRate(new MyRunnerTwo(latchTwo), 0, 2, TimeUnit.SECONDS);\n        \n        latchOne.await();\n        scheduledFutureOne.cancel(false);\n        latchTwo.await();\n        scheduledFutureTwo.cancel(false);\n        \n        System.out.println(&quot;Shutting down service...&quot;);\n        executorService.shutdown();\n        Thread.sleep(100);\n        assertTrue(executorService.isTerminated());\n    }\n\n    class MyRunnerOne implements Runnable\n    {\n        CountDownLatch latch;\n\n        MyRunnerOne(CountDownLatch latch)\n        {\n            this.latch = latch;\n        }\n\n        @Override\n        public void run()\n        {\n            System.out.println(&quot;Do Task One : &quot; + latch.getCount());\n            latch.countDown();\n        }\n    }\n\n\n    class MyRunnerTwo implements Runnable\n    {\n        CountDownLatch latch;\n\n        MyRunnerTwo(CountDownLatch latch)\n        {\n            this.latch = latch;\n        }\n\n        @Override\n        public void run()\n        {\n            System.out.println(&quot;Do Task Two: &quot; + latch.getCount());\n            latch.countDown();\n        }\n    }\n</code></pre>\n<p>This works well and I get the expected output:</p>\n<pre><code>Do Task One : 5\nDo Task Two: 10\nDo Task One : 4\nDo Task One : 3\nDo Task Two: 9\nDo Task One : 2\nDo Task One : 1\nDo Task Two: 8\nDo Task Two: 7\nDo Task Two: 6\nDo Task Two: 5\nDo Task Two: 4\nDo Task Two: 3\nDo Task Two: 2\nDo Task Two: 1\nShutting down service...\n</code></pre>\n<p>However, I this only works because I am waiting for latchOne before waiting for latchTwo, since the first task takes less time. If I switch this order, i.e.</p>\n<pre><code>        latchTwo.await();\n        scheduledFutureTwo.cancel(false);\n        latchOne.await();\n        scheduledFutureOne.cancel(false);\n</code></pre>\n<p>Task One  will be executed further, even when the latch has reached zero, because it is only cancelled after Task Two. Is there a way to execute something (scheduledFutureOne.cancel(false) in this case) as soon as the latch is zero and doing so for multiple latches at once?</p>\n<p>I also tried to follow the setup described in <a href=\"https://stackoverflow.com/a/7299823/6401963\">this answer</a> which again works well but I do not know where/how I would shutdown the ExecutorService. The setup is similar, an atomic integer is increased until the number of desired invocations is reached and then we cancel the future. This still does not shutdown the ExecutorService though.</p>\n<p>TLDR I would like to schedule multiple tasks with a single ExecutorService, each for a fixed number of invokations. The order in which the tasks are handled by the ExecutorService should be allowed to be random. As soon as no tasks are scheduled anymore, the ExecutorService should be shutdown.</p>\n<p>Thank you guys for any ideas :)</p>\n"},{"tags":["java","android","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":413225,"reputation":88,"user_id":786740,"display_name":"notostraca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640686785,"creation_date":1640686785,"answer_id":70505667,"question_id":70478754,"body_markdown":"I just tried downloading Shattered Pixel Dungeon and building its Android module -- I got the same error, initially. I was able to resolve it by first installing the Android 32 Build Tools from the SDK Manager (I also installed 31, but that didn&#39;t seem to change much), then changing the root build.gradle of Shattered Pixel Dungeon:\r\n\r\n```gradle\r\n        appAndroidCompileSDK = 32\r\n        appAndroidTargetSDK = 32\r\n```\r\n\r\nI also changed the Android Gradle Plugin to 7.0.4, at the top of the same build.gradle file. Note that this version of AGP isn&#39;t new enough to avoid a warning when targeting Android 32, but it doesn&#39;t seem to harm the build.\r\n\r\nOther people who have had this problem on the libGDX Discord have claimed that downgrading both the Android Gradle Plugin (to 4.1.1) and Gradle itself (to 6.7.1, in this case) worked for them. I am not sure if that approach will work very well for the current Shattered Pixel Dungeon release, because some of the Gradle files have comments mentioning extra code present specifically for Gradle 7.x.","title":"Android studio Unable to find method void org.apache.commons.compress.archivers.zip.ZipFile","body":"<p>I just tried downloading Shattered Pixel Dungeon and building its Android module -- I got the same error, initially. I was able to resolve it by first installing the Android 32 Build Tools from the SDK Manager (I also installed 31, but that didn't seem to change much), then changing the root build.gradle of Shattered Pixel Dungeon:</p>\n<pre><code>        appAndroidCompileSDK = 32\n        appAndroidTargetSDK = 32\n</code></pre>\n<p>I also changed the Android Gradle Plugin to 7.0.4, at the top of the same build.gradle file. Note that this version of AGP isn't new enough to avoid a warning when targeting Android 32, but it doesn't seem to harm the build.</p>\n<p>Other people who have had this problem on the libGDX Discord have claimed that downgrading both the Android Gradle Plugin (to 4.1.1) and Gradle itself (to 6.7.1, in this case) worked for them. I am not sure if that approach will work very well for the current Shattered Pixel Dungeon release, because some of the Gradle files have comments mentioning extra code present specifically for Gradle 7.x.</p>\n"}],"owner":{"account_id":19871929,"reputation":2635,"user_id":16383578,"display_name":"Ξένη Γήινος"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":926,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70505667,"answer_count":1,"score":0,"last_activity_date":1640686785,"creation_date":1640420142,"question_id":70478754,"body_markdown":"I am trying to compile a simple Android apk file using Android Studio 2020.3.1 on Windows 10 21H1 x64, the project isn&#39;t mine: https://github.com/00-Evan/shattered-pixel-dungeon, I downloaded the code as a zip file and added it to Android Studio as a project.\r\n\r\nI have tried to build it (I have modified the drop rate and drop weights of items but otherwise left the code alone so it&#39;s likely not my fault) but it doesn&#39;t build, at first it stuck at gradle build so I deleted &#39;.gradle&#39; and &#39;.idea&#39; folders and wrote this file to disk:\r\n```\r\norg.gradle.daemon=true\r\norg.gradle.parallel=true\r\n```\r\n%userprofile%\\.gradle\\gradle.properties\r\n\r\nAnd invalidated cache and restarted Android Studio.\r\n\r\nNow it fails at downloading this library: `org.apache.commons.compress.archivers.zip.ZipFile`\r\n\r\n```\r\nUnable to find method &#39;&#39;void org.apache.commons.compress.archivers.zip.ZipFile.&lt;init&gt;(java.nio.channels.SeekableByteChannel)&#39;&#39;\r\n&#39;void org.apache.commons.compress.archivers.zip.ZipFile.&lt;init&gt;(java.nio.channels.SeekableByteChannel)&#39;\r\n\r\nGradle&#39;s dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)\r\n\r\nRe-download dependencies and sync project (requires network)\r\nThe state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem.\r\n\r\nStop Gradle build processes (requires restart)\r\nYour project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project.\r\n\r\nIn the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes.\r\n\r\n```\r\n\r\n```\r\n&#39;void org.apache.commons.compress.archivers.zip.ZipFile.&lt;init&gt;(java.nio.channels.SeekableByteChannel)&#39;\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\njava.lang.NoSuchMethodError: &#39;void org.apache.commons.compress.archivers.zip.ZipFile.&lt;init&gt;(java.nio.channels.SeekableByteChannel)&#39;\r\n\tat com.android.repository.util.InstallerUtil.unzip(InstallerUtil.java:99)\r\n\tat com.android.repository.impl.installer.BasicInstaller.doPrepare(BasicInstaller.java:90)\r\n\tat com.android.repository.impl.installer.AbstractPackageOperation.prepare(AbstractPackageOperation.java:335)\r\n\tat com.android.builder.sdk.DefaultSdkLoader.installRemotePackages(DefaultSdkLoader.java:365)\r\n\tat com.android.builder.sdk.DefaultSdkLoader.installBuildTools(DefaultSdkLoader.java:318)\r\n\tat com.android.builder.sdk.DefaultSdkLoader.getTargetInfo(DefaultSdkLoader.java:155)\r\n\tat com.android.build.gradle.internal.SdkHandler.initTarget(SdkHandler.java:127)\r\n\tat com.android.build.gradle.internal.SdkFullLoadingStrategy.init(SdkFullLoadingStrategy.kt:49)\r\n\tat com.android.build.gradle.internal.SdkFullLoadingStrategy.getFileFromTarget(SdkFullLoadingStrategy.kt:64)\r\n\tat com.android.build.gradle.internal.SdkFullLoadingStrategy.getAndroidJar(SdkFullLoadingStrategy.kt:66)\r\n\tat com.android.build.gradle.internal.SdkLoadingStrategy.getAndroidJar(SdkLoadingStrategy.kt:30)\r\n\tat com.android.build.gradle.internal.SdkComponentsBuildService$VersionedSdkLoader$sdkSetupCorrectly$1.call(SdkComponents.kt:167)\r\n\tat com.android.build.gradle.internal.SdkComponentsBuildService$VersionedSdkLoader$sdkSetupCorrectly$1.call(SdkComponents.kt:166)\r\n\tat org.gradle.api.internal.provider.DefaultProvider.calculateOwnValue(DefaultProvider.java:66)\r\n\tat org.gradle.api.internal.provider.AbstractMinimalProvider.get(AbstractMinimalProvider.java:84)\r\n\tat com.android.build.gradle.internal.ide.ModelBuilder.buildAndroidProject(ModelBuilder.java:310)\r\n\tat com.android.build.gradle.internal.ide.ModelBuilder.buildAll(ModelBuilder.java:236)\r\n\tat com.android.build.gradle.internal.ide.ModelBuilder.buildAll(ModelBuilder.java:156)\r\n\tat org.gradle.tooling.provider.model.internal.DefaultToolingModelBuilderRegistry$BuilderWithParameter.build(DefaultToolingModelBuilderRegistry.java:248)\r\n\tat org.gradle.tooling.provider.model.internal.DefaultToolingModelBuilderRegistry$UserCodeAssigningBuilder.lambda$build$0(DefaultToolingModelBuilderRegistry.java:322)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext$CurrentApplication.reapply(DefaultUserCodeApplicationContext.java:109)\r\n\tat org.gradle.tooling.provider.model.internal.DefaultToolingModelBuilderRegistry$UserCodeAssigningBuilder.build(DefaultToolingModelBuilderRegistry.java:322)\r\n\tat org.gradle.tooling.provider.model.internal.DefaultToolingModelBuilderRegistry$LockSingleProjectBuilder.lambda$build$0(DefaultToolingModelBuilderRegistry.java:265)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$3(DefaultProjectStateRegistry.java:385)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:385)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:366)\r\n\tat org.gradle.tooling.provider.model.internal.DefaultToolingModelBuilderRegistry$LockSingleProjectBuilder.build(DefaultToolingModelBuilderRegistry.java:265)\r\n\tat org.gradle.tooling.provider.model.internal.DefaultToolingModelBuilderRegistry$BuildOperationWrappingBuilder$1.call(DefaultToolingModelBuilderRegistry.java:300)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)\r\n\tat org.gradle.tooling.provider.model.internal.DefaultToolingModelBuilderRegistry$BuildOperationWrappingBuilder.build(DefaultToolingModelBuilderRegistry.java:297)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getParameterizedModel(DefaultBuildController.java:162)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:110)\r\n\tat org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction$MyBuildController.getModel(ProjectImportAction.java:564)\r\n\tat com.android.tools.idea.gradle.project.sync.AndroidExtraModelProviderWorker.findParameterizedAndroidModel(AndroidExtraModelProviderWorker.kt:236)\r\n\tat com.android.tools.idea.gradle.project.sync.AndroidExtraModelProviderWorker.access$findParameterizedAndroidModel(AndroidExtraModelProviderWorker.kt:48)\r\n\tat com.android.tools.idea.gradle.project.sync.AndroidExtraModelProviderWorker$populateAndroidModels$modules$1$1.invoke(AndroidExtraModelProviderWorker.kt:116)\r\n\tat com.android.tools.idea.gradle.project.sync.AndroidExtraModelProviderWorker$populateAndroidModels$modules$1$1.invoke(AndroidExtraModelProviderWorker.kt:115)\r\n\tat com.android.tools.idea.gradle.project.sync.SequentialSyncActionRunner.runAction(SyncActionRunner.kt:61)\r\n\tat com.android.tools.idea.gradle.project.sync.SequentialSyncActionRunner.runActions(SyncActionRunner.kt:57)\r\n\tat com.android.tools.idea.gradle.project.sync.AndroidExtraModelProviderWorker.populateAndroidModels(AndroidExtraModelProviderWorker.kt:113)\r\n\tat com.android.tools.idea.gradle.project.sync.AndroidExtraModelProviderWorker.populateBuildModels(AndroidExtraModelProviderWorker.kt:65)\r\n\tat com.android.tools.idea.gradle.project.sync.AndroidExtraModelProvider.populateBuildModels(AndroidExtraModelProvider.kt:52)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.addBuildModels(ProjectImportAction.java:246)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:116)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:41)\r\n\tat org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionRunningListener.runAction(AbstractClientProvidedBuildActionRunner.java:160)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionRunningListener.apply(AbstractClientProvidedBuildActionRunner.java:133)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionRunningListener.apply(AbstractClientProvidedBuildActionRunner.java:111)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.fromBuildModel(DefaultBuildTreeModelCreator.java:34)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$0(DefaultBuildTreeLifecycleController.java:76)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:104)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:69)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:56)\r\n\tat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:47)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\r\n\tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:91)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:154)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:56)\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:56)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:38)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:38)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n\tat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.lambda$execute$0(BuildSessionLifecycleBuildActionExecuter.java:56)\r\n\tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:55)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:37)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\tat org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\r\n\r\n\r\n\r\n```\r\n\r\nI have tried to redownload and resync many times and it doesn&#39;t work.\r\n\r\nHow to fix it?\r\n\r\n\r\n----------\r\nI have found this file:\r\n\r\norg.apache.commons.compress_1.19.0.v20200106-2343.jar\r\n\r\nWhere do I put it so that gradle can find it?\r\n\r\nIts hash is AC4608FA367C0247E451BB88EDEB4B9B58E7159088579BF536608182BA37FD43.","title":"Android studio Unable to find method void org.apache.commons.compress.archivers.zip.ZipFile","body":"<p>I am trying to compile a simple Android apk file using Android Studio 2020.3.1 on Windows 10 21H1 x64, the project isn't mine: <a href=\"https://github.com/00-Evan/shattered-pixel-dungeon\" rel=\"nofollow noreferrer\">https://github.com/00-Evan/shattered-pixel-dungeon</a>, I downloaded the code as a zip file and added it to Android Studio as a project.</p>\n<p>I have tried to build it (I have modified the drop rate and drop weights of items but otherwise left the code alone so it's likely not my fault) but it doesn't build, at first it stuck at gradle build so I deleted '.gradle' and '.idea' folders and wrote this file to disk:</p>\n<pre><code>org.gradle.daemon=true\norg.gradle.parallel=true\n</code></pre>\n<p>%userprofile%.gradle\\gradle.properties</p>\n<p>And invalidated cache and restarted Android Studio.</p>\n<p>Now it fails at downloading this library: <code>org.apache.commons.compress.archivers.zip.ZipFile</code></p>\n<pre><code>Unable to find method ''void org.apache.commons.compress.archivers.zip.ZipFile.&lt;init&gt;(java.nio.channels.SeekableByteChannel)''\n'void org.apache.commons.compress.archivers.zip.ZipFile.&lt;init&gt;(java.nio.channels.SeekableByteChannel)'\n\nGradle's dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)\n\nRe-download dependencies and sync project (requires network)\nThe state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem.\n\nStop Gradle build processes (requires restart)\nYour project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project.\n\nIn the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes.\n\n</code></pre>\n<pre><code>'void org.apache.commons.compress.archivers.zip.ZipFile.&lt;init&gt;(java.nio.channels.SeekableByteChannel)'\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\njava.lang.NoSuchMethodError: 'void org.apache.commons.compress.archivers.zip.ZipFile.&lt;init&gt;(java.nio.channels.SeekableByteChannel)'\n    at com.android.repository.util.InstallerUtil.unzip(InstallerUtil.java:99)\n    at com.android.repository.impl.installer.BasicInstaller.doPrepare(BasicInstaller.java:90)\n    at com.android.repository.impl.installer.AbstractPackageOperation.prepare(AbstractPackageOperation.java:335)\n    at com.android.builder.sdk.DefaultSdkLoader.installRemotePackages(DefaultSdkLoader.java:365)\n    at com.android.builder.sdk.DefaultSdkLoader.installBuildTools(DefaultSdkLoader.java:318)\n    at com.android.builder.sdk.DefaultSdkLoader.getTargetInfo(DefaultSdkLoader.java:155)\n    at com.android.build.gradle.internal.SdkHandler.initTarget(SdkHandler.java:127)\n    at com.android.build.gradle.internal.SdkFullLoadingStrategy.init(SdkFullLoadingStrategy.kt:49)\n    at com.android.build.gradle.internal.SdkFullLoadingStrategy.getFileFromTarget(SdkFullLoadingStrategy.kt:64)\n    at com.android.build.gradle.internal.SdkFullLoadingStrategy.getAndroidJar(SdkFullLoadingStrategy.kt:66)\n    at com.android.build.gradle.internal.SdkLoadingStrategy.getAndroidJar(SdkLoadingStrategy.kt:30)\n    at com.android.build.gradle.internal.SdkComponentsBuildService$VersionedSdkLoader$sdkSetupCorrectly$1.call(SdkComponents.kt:167)\n    at com.android.build.gradle.internal.SdkComponentsBuildService$VersionedSdkLoader$sdkSetupCorrectly$1.call(SdkComponents.kt:166)\n    at org.gradle.api.internal.provider.DefaultProvider.calculateOwnValue(DefaultProvider.java:66)\n    at org.gradle.api.internal.provider.AbstractMinimalProvider.get(AbstractMinimalProvider.java:84)\n    at com.android.build.gradle.internal.ide.ModelBuilder.buildAndroidProject(ModelBuilder.java:310)\n    at com.android.build.gradle.internal.ide.ModelBuilder.buildAll(ModelBuilder.java:236)\n    at com.android.build.gradle.internal.ide.ModelBuilder.buildAll(ModelBuilder.java:156)\n    at org.gradle.tooling.provider.model.internal.DefaultToolingModelBuilderRegistry$BuilderWithParameter.build(DefaultToolingModelBuilderRegistry.java:248)\n    at org.gradle.tooling.provider.model.internal.DefaultToolingModelBuilderRegistry$UserCodeAssigningBuilder.lambda$build$0(DefaultToolingModelBuilderRegistry.java:322)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext$CurrentApplication.reapply(DefaultUserCodeApplicationContext.java:109)\n    at org.gradle.tooling.provider.model.internal.DefaultToolingModelBuilderRegistry$UserCodeAssigningBuilder.build(DefaultToolingModelBuilderRegistry.java:322)\n    at org.gradle.tooling.provider.model.internal.DefaultToolingModelBuilderRegistry$LockSingleProjectBuilder.lambda$build$0(DefaultToolingModelBuilderRegistry.java:265)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$3(DefaultProjectStateRegistry.java:385)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:385)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:366)\n    at org.gradle.tooling.provider.model.internal.DefaultToolingModelBuilderRegistry$LockSingleProjectBuilder.build(DefaultToolingModelBuilderRegistry.java:265)\n    at org.gradle.tooling.provider.model.internal.DefaultToolingModelBuilderRegistry$BuildOperationWrappingBuilder$1.call(DefaultToolingModelBuilderRegistry.java:300)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)\n    at org.gradle.tooling.provider.model.internal.DefaultToolingModelBuilderRegistry$BuildOperationWrappingBuilder.build(DefaultToolingModelBuilderRegistry.java:297)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getParameterizedModel(DefaultBuildController.java:162)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:110)\n    at org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction$MyBuildController.getModel(ProjectImportAction.java:564)\n    at com.android.tools.idea.gradle.project.sync.AndroidExtraModelProviderWorker.findParameterizedAndroidModel(AndroidExtraModelProviderWorker.kt:236)\n    at com.android.tools.idea.gradle.project.sync.AndroidExtraModelProviderWorker.access$findParameterizedAndroidModel(AndroidExtraModelProviderWorker.kt:48)\n    at com.android.tools.idea.gradle.project.sync.AndroidExtraModelProviderWorker$populateAndroidModels$modules$1$1.invoke(AndroidExtraModelProviderWorker.kt:116)\n    at com.android.tools.idea.gradle.project.sync.AndroidExtraModelProviderWorker$populateAndroidModels$modules$1$1.invoke(AndroidExtraModelProviderWorker.kt:115)\n    at com.android.tools.idea.gradle.project.sync.SequentialSyncActionRunner.runAction(SyncActionRunner.kt:61)\n    at com.android.tools.idea.gradle.project.sync.SequentialSyncActionRunner.runActions(SyncActionRunner.kt:57)\n    at com.android.tools.idea.gradle.project.sync.AndroidExtraModelProviderWorker.populateAndroidModels(AndroidExtraModelProviderWorker.kt:113)\n    at com.android.tools.idea.gradle.project.sync.AndroidExtraModelProviderWorker.populateBuildModels(AndroidExtraModelProviderWorker.kt:65)\n    at com.android.tools.idea.gradle.project.sync.AndroidExtraModelProvider.populateBuildModels(AndroidExtraModelProvider.kt:52)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.addBuildModels(ProjectImportAction.java:246)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:116)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:41)\n    at org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionRunningListener.runAction(AbstractClientProvidedBuildActionRunner.java:160)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionRunningListener.apply(AbstractClientProvidedBuildActionRunner.java:133)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionRunningListener.apply(AbstractClientProvidedBuildActionRunner.java:111)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.fromBuildModel(DefaultBuildTreeModelCreator.java:34)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$0(DefaultBuildTreeLifecycleController.java:76)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:104)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:69)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:56)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:47)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\n    at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:91)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:154)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:56)\n    at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:56)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:38)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:38)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\n    at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.lambda$execute$0(BuildSessionLifecycleBuildActionExecuter.java:56)\n    at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:55)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:37)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n    at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\n\n\n\n</code></pre>\n<p>I have tried to redownload and resync many times and it doesn't work.</p>\n<p>How to fix it?</p>\n<hr />\n<p>I have found this file:</p>\n<p>org.apache.commons.compress_1.19.0.v20200106-2343.jar</p>\n<p>Where do I put it so that gradle can find it?</p>\n<p>Its hash is AC4608FA367C0247E451BB88EDEB4B9B58E7159088579BF536608182BA37FD43.</p>\n"},{"tags":["java","javafx","interface","extends","implements"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1640636368,"post_id":70496880,"comment_id":124622717,"body_markdown":"Why do all this?  My first thought is to use an event filter on the scene (perhaps only if a particular style class is set) or appropriate individual buttons to filter the mouse events, and consume the events for a single click.  Also and an event handler on the same scene or individual buttons for the double click, that just calls fire() to action the button.  Or, if you really want to change behavior, then use a custom skin rather on the existing button classes rather than trying to create your own button hierarchy.","body":"Why do all this?  My first thought is to use an event filter on the scene (perhaps only if a particular style class is set) or appropriate individual buttons to filter the mouse events, and consume the events for a single click.  Also and an event handler on the same scene or individual buttons for the double click, that just calls fire() to action the button.  Or, if you really want to change behavior, then use a custom skin rather on the existing button classes rather than trying to create your own button hierarchy."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1640637149,"post_id":70496880,"comment_id":124622926,"body_markdown":"Please explain why you want this behavior. (you can edit the question if it requires a lot of explanation).","body":"Please explain why you want this behavior. (you can edit the question if it requires a lot of explanation)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1640638072,"post_id":70496880,"comment_id":124623159,"body_markdown":"If you want to create a skins linking to custom behavior, you can study the default [ButtonBehavior](https://github.com/openjdk/jfx/blob/fdc88341f1df8fb9c99356ada54b25124b77ea6e/modules/javafx.controls/src/main/java/com/sun/javafx/scene/control/behavior/ButtonBehavior.java) and its usage to understand how the in-built system does this.","body":"If you want to create a skins linking to custom behavior, you can study the default <a href=\"https://github.com/openjdk/jfx/blob/fdc88341f1df8fb9c99356ada54b25124b77ea6e/modules/javafx.controls/src/main/java/com/sun/javafx/scene/control/behavior/ButtonBehavior.java\" rel=\"nofollow noreferrer\">ButtonBehavior</a> and its usage to understand how the in-built system does this."},{"owner":{"account_id":19191572,"reputation":93,"user_id":14021197,"display_name":"Daric"},"score":0,"creation_date":1640684769,"post_id":70496880,"comment_id":124631867,"body_markdown":"Hello @jewelsea. My aim is just to &#39;factorize&#39; this behavior. To my opinion, this should be &#39;included&#39; in an abstract Class (such is ButtonBase), as parent of any instanciable children (such are Button, ToggleButton, ...). I am not aware of how to use &#39;CUSTOM SKIN&#39;, but this seems a good option... I&#39;ll dig into it... Thank you !","body":"Hello @jewelsea. My aim is just to &#39;factorize&#39; this behavior. To my opinion, this should be &#39;included&#39; in an abstract Class (such is ButtonBase), as parent of any instanciable children (such are Button, ToggleButton, ...). I am not aware of how to use &#39;CUSTOM SKIN&#39;, but this seems a good option... I&#39;ll dig into it... Thank you !"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1640687557,"post_id":70496880,"comment_id":124632688,"body_markdown":"This is the [UI controls architecture](https://wiki.openjdk.java.net/display/OpenJFX/UI+Controls+Architecture), it isn&#39;t entirely up-to-date.  The best examples to study on how it works are in the JavaFX code itself.  Button is a good place to start, that class defines public API, no need to change it unless you are changing that.  Styling is in modena.css, no need to change it unless you want to change style.  Visual layout is in ButtonSkin and user interaction (mouse/keyboard) is in ButtonBehavior, so that is what you want to change.","body":"This is the <a href=\"https://wiki.openjdk.java.net/display/OpenJFX/UI+Controls+Architecture\" rel=\"nofollow noreferrer\">UI controls architecture</a>, it isn&#39;t entirely up-to-date.  The best examples to study on how it works are in the JavaFX code itself.  Button is a good place to start, that class defines public API, no need to change it unless you are changing that.  Styling is in modena.css, no need to change it unless you want to change style.  Visual layout is in ButtonSkin and user interaction (mouse/keyboard) is in ButtonBehavior, so that is what you want to change."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1640687748,"post_id":70496880,"comment_id":124632746,"body_markdown":"Leave the Button hierarchy alone, define a new button skin based on the existing ButtonSkin which invokes your new behaviour based on ButtonBehavior.  You can attach it to any button you like using CSS -fx-skin.  Unfortunately, there is little documentation on the process.  So mostly just study the code, copy it judiciously and experiment.  This is the thorough, inside-out approach.  Alternately you just attach filters and handlers to existing controls using public API, but I wouldn&#39;t suggest trying to define a new hierarchy for the public API.","body":"Leave the Button hierarchy alone, define a new button skin based on the existing ButtonSkin which invokes your new behaviour based on ButtonBehavior.  You can attach it to any button you like using CSS -fx-skin.  Unfortunately, there is little documentation on the process.  So mostly just study the code, copy it judiciously and experiment.  This is the thorough, inside-out approach.  Alternately you just attach filters and handlers to existing controls using public API, but I wouldn&#39;t suggest trying to define a new hierarchy for the public API."},{"owner":{"account_id":19191572,"reputation":93,"user_id":14021197,"display_name":"Daric"},"score":0,"creation_date":1640693562,"post_id":70496880,"comment_id":124634401,"body_markdown":"@jewelsea : Thanks a lot for these very useful hints... I will dig into this as soon as I got again time to go inside this personal project... Will then propose a solution based on that direction which is probably the way to go ! Thank you again !","body":"@jewelsea : Thanks a lot for these very useful hints... I will dig into this as soon as I got again time to go inside this personal project... Will then propose a solution based on that direction which is probably the way to go ! Thank you again !"}],"owner":{"account_id":19191572,"reputation":93,"user_id":14021197,"display_name":"Daric"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640686347,"creation_date":1640615943,"question_id":70496880,"body_markdown":"**CONTEXT :**\r\n\r\nI have redundant code I want to factorize. The code allows a `Node` descendant to fire a DOUBLE click `EventHandler`, **without** firing a SINGLE click `EventHandler`.\r\n\r\nI need this feature in different `ButtonBase` implementations :\r\n - `Button`\r\n - `ToggleButton`\r\n - `CheckBox`\r\n\r\nFor the moment, I have extended each leaf class written above with the same code allowing this feature.\r\n___\r\n**PROBLEM :**\r\n\r\nI know this is smelling very bad, and I would like to factorize it, at least, to the common parent -&gt; `ButtonBase`... if not `Node` where it should origin from (it is in `Node` that the `onMouseClicked(...)` is implemented).\r\n\r\n[![enter image description here][1]\r\n\r\nI have thus implemented an abstract class `ButtonBaseCustom` extending ButtonBase.\r\n\r\nKnowing, and understanding, that multiple inheritage does not exist in Java, partially due to the diamond problem, I tried to follow [this answer from @SCB][2], using :\r\n\r\n \r\n\r\n 1.  Both as interfaces (I created `ButtonBaseCustomInterface` &amp; `ButtonInterface` for this),\r\n \r\n 2.  `ButtonBaseCustomInterface` as interface, and `Button` as parent (extending from it)\r\n \r\n 3.  `ButtonInterface` as interface and `ButtonBaseCustom` as parent (extending from it)\r\n\r\n___\r\n**QUESTION :**\r\n\r\nHow do I get a ButtonCustom having the parent abilities implemented in ButtonBaseCustom, and still acting as a Button ?\r\n\r\n___\r\n**CLOSEST SOLUTION :**\r\n\r\nI have a very high instinct that the architecture N&#176;3 here above is the one to go with.\r\n\r\nThe next code compiles and runs... even gives me the correct behavior of SINGLE/DOUBLE click caught... But there is an issue with the **SKIN** part : and that&#39;s the top of the iceberg I suppose. Maybe it smells like I&#39;m in the wrong direction ?\r\n\r\n\r\n    import javafx.beans.property.BooleanProperty;\r\n    import javafx.beans.property.ObjectProperty;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.control.Skin;\r\n    import javafx.scene.control.ToggleButton;\r\n    import javafx.scene.control.ToggleGroup;\r\n    import javafx.scene.control.skin.ToggleButtonSkin;\r\n    \r\n    public class ToggleButtonWithDblClick extends ButtonBaseCutom implements ToggleButtonInterface {\r\n    \tToggleButton tglBtn = null;\r\n    \r\n    \tpublic ToggleButtonWithDblClick() {\r\n    \t\tsuper();\r\n    \t\ttglBtn = new ToggleButton();\r\n    \t}\r\n    \r\n    \tpublic ToggleButtonWithDblClick(String text) {\r\n    \t\tsuper(text);\r\n    \t\ttglBtn = new ToggleButton(text);\r\n    \t}\r\n    \r\n    \tpublic ToggleButtonWithDblClick(String text, Node graphic) {\r\n    \t\tsuper(text, graphic);\r\n    \t\ttglBtn = new ToggleButton(text, graphic);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic ToggleGroup getToggleGroup() {\r\n    \t\treturn tglBtn.getToggleGroup();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isSelected() {\r\n    \t\treturn tglBtn.isSelected();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic BooleanProperty selectedProperty() {\r\n    \t\treturn tglBtn.selectedProperty();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void setSelected(boolean value) {\r\n    \t\ttglBtn.setSelected(value);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void setToggleGroup(ToggleGroup value) {\r\n    \t\ttglBtn.setToggleGroup(value);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic ObjectProperty&lt;ToggleGroup&gt; toggleGroupProperty() {\r\n    \t\treturn tglBtn.toggleGroupProperty();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void fire() {\r\n    \t\ttglBtn.fire();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Skin&lt;?&gt; createDefaultSkin() {\r\n    \t\ttglBtn.setSkin(new ToggleButtonSkin(tglBtn));\r\n    \t\treturn tglBtn.getSkin();\r\n    \t}\r\n    \r\n    }\r\n\r\n___\r\n***EXAMPLE***\r\n\r\nFor example, here is a full code of working button :\r\n\r\n    package application;\r\n    \r\n    import java.util.concurrent.CompletableFuture;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.application.Platform;\r\n    import javafx.beans.property.ObjectProperty;\r\n    import javafx.beans.property.SimpleObjectProperty;\r\n    import javafx.event.EventHandler;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.input.MouseEvent;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class DblClickCatchedWithoutSingleClick extends Application {\r\n    \r\n    \tpublic class ButtonWithDblClick extends Button {\r\n    \r\n    \t\tprivate long\t\tsingleClickDelayMillis\t= 250;\r\n    \t\tprivate ClickRunner\tlatestClickRunner\t\t= null;\r\n    \r\n    \t\tprivate ObjectProperty&lt;EventHandler&lt;MouseEvent&gt;&gt;\tonMouseSingleClickedProperty\t= new SimpleObjectProperty&lt;&gt;();\r\n    \t\tprivate ObjectProperty&lt;EventHandler&lt;MouseEvent&gt;&gt;\tonMouseDoubleClickedProperty\t= new SimpleObjectProperty&lt;&gt;();\r\n    \r\n    \t\t// CONSTRUCTORS\r\n    \t\tpublic ButtonWithDblClick() {\r\n    \t\t\tsuper();\r\n    \t\t\taddClickedEventHandler();\r\n    \t\t}\r\n    \r\n    \t\tpublic ButtonWithDblClick(String text) {\r\n    \t\t\tsuper(text);\r\n    \t\t\taddClickedEventHandler();\r\n    \t\t}\r\n    \r\n    \t\tpublic ButtonWithDblClick(String text, Node graphic) {\r\n    \t\t\tsuper(text, graphic);\r\n    \t\t\taddClickedEventHandler();\r\n    \t\t}\r\n    \r\n    \t\tprivate class ClickRunner implements Runnable {\r\n    \r\n    \t\t\tprivate final Runnable\tonClick;\r\n    \t\t\tprivate boolean\t\t\taborted\t= false;\r\n    \r\n    \t\t\tpublic ClickRunner(Runnable onClick) {\r\n    \t\t\t\tthis.onClick = onClick;\r\n    \t\t\t}\r\n    \r\n    \t\t\tpublic void abort() {\r\n    \t\t\t\tthis.aborted = true;\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tThread.sleep(getSingleClickDelayMillis());\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t\tif (!aborted) {\r\n    \t\t\t\t\tPlatform.runLater(onClick::run);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tprivate void addClickedEventHandler() {\r\n    \t\t\t//Handling the mouse clicked event (not using &#39;onMouseClicked&#39; so it can still be used by developer).\r\n    \t\t\taddEventHandler(MouseEvent.MOUSE_CLICKED, me -&gt; {\r\n    \t\t\t\tswitch (me.getButton()) {\r\n    \t\t\t\t\tcase PRIMARY:\r\n    \t\t\t\t\t\tif (me.getClickCount() == 1) {\r\n    \t\t\t\t\t\t\tlatestClickRunner = new ClickRunner(() -&gt; {\r\n    \t\t\t\t\t\t\t\tSystem.out.println(&quot;ButtonWithDblClick : SINGLE Click fired&quot;);\r\n    \t\t\t\t\t\t\t\tonMouseSingleClickedProperty.get().handle(me);\r\n    \t\t\t\t\t\t\t});\r\n    \t\t\t\t\t\t\tCompletableFuture.runAsync(latestClickRunner);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tif (me.getClickCount() == 2) {\r\n    \t\t\t\t\t\t\tif (latestClickRunner != null) {\r\n    \t\t\t\t\t\t\t\tlatestClickRunner.abort();\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;ButtonWithDblClick : DOUBLE Click fired&quot;);\r\n    \t\t\t\t\t\t\tonMouseDoubleClickedProperty.get().handle(me);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase SECONDARY:\r\n    \t\t\t\t\t\t// Right-click operation. Not implemented since usually no double RIGHT click needs to be caught.\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tdefault:\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \r\n    \t\tpublic void setOnMouseSingleClicked(EventHandler&lt;MouseEvent&gt; eventHandler) {\r\n    \t\t\tthis.onMouseSingleClickedProperty.set(eventHandler);\r\n    \t\t}\r\n    \r\n    \t\tpublic void setOnMouseDoubleClicked(EventHandler&lt;MouseEvent&gt; eventHandler) {\r\n    \t\t\tthis.onMouseDoubleClickedProperty.set(eventHandler);\r\n    \t\t}\r\n    \r\n    \t\tpublic long getSingleClickDelayMillis() {\r\n    \t\t\treturn singleClickDelayMillis;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setSingleClickDelayMillis(long singleClickDelayMillis) {\r\n    \t\t\tthis.singleClickDelayMillis = singleClickDelayMillis;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void start(Stage stage) {\r\n    \t\tVBox root = new VBox();\r\n    \r\n    \t\tButton btn = new Button(&quot;Double click me&quot;);\r\n    \t\tbtn.setOnMousePressed(mouseEvent -&gt; {\r\n    \t\t\t// CLICK catches\r\n    \t\t\tif (mouseEvent.getClickCount() == 1) {\r\n    \t\t\t\tSystem.out.println(&quot;Button clicked&quot;);\r\n    \t\t\t} else if (mouseEvent.getClickCount() == 2)\r\n    \t\t\t\tSystem.out.println(&quot;Button double clicked&quot;);\r\n    \t\t});\r\n    \r\n    \t\tButtonWithDblClick btn2 = new ButtonWithDblClick(&quot;Double click me too ;-)&quot;);\r\n    \t\tbtn2.setOnMouseSingleClicked(me -&gt; {\r\n    \t\t\tSystem.out.println(&quot;BUTTON_2 : Fire SINGLE Click&quot;);\r\n    \t\t});\r\n    \t\tbtn2.setOnMouseDoubleClicked(me -&gt; {\r\n    \t\t\tSystem.out.println(&quot;BUTTON_2 : Fire DOUBLE Click&quot;);\r\n    \t\t});\r\n        \r\n    \t\troot.getChildren().add(btn);\r\n    \t\troot.getChildren().add(btn2);\r\n    \r\n    \t\tScene scene = new Scene(root);\r\n    \t\tstage.setScene(scene);\r\n    \t\tstage.show();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch();\r\n    \t}\r\n    \r\n    }\r\n\r\n___\r\n**CUSTOM BUTTON_BASE** :\r\n    \r\n    import java.util.concurrent.CompletableFuture;\r\n    \r\n    import javafx.application.Platform;\r\n    import javafx.beans.property.ObjectProperty;\r\n    import javafx.beans.property.SimpleObjectProperty;\r\n    import javafx.event.EventHandler;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.control.ButtonBase;\r\n    import javafx.scene.input.MouseEvent;\r\n    \r\n    public abstract class ButtonBaseCutom extends ButtonBase {\r\n    \r\n    \tprivate long\t\tsingleClickDelayMillis\t= 250;\r\n    \tprivate ClickRunner\tlatestClickRunner\t\t= null;\r\n    \r\n    \tprivate ObjectProperty&lt;EventHandler&lt;MouseEvent&gt;&gt;\tonMouseSingleClickedProperty\t= new SimpleObjectProperty&lt;&gt;();\r\n    \tprivate ObjectProperty&lt;EventHandler&lt;MouseEvent&gt;&gt;\tonMouseDoubleClickedProperty\t= new SimpleObjectProperty&lt;&gt;();\r\n    \r\n    \t// CONSTRUCTORS\r\n    \tprotected ButtonBaseCutom() {\r\n    \t\tsuper();\r\n    \t\taddClickedEventHandler();\r\n    \t}\r\n    \r\n    \tprotected ButtonBaseCutom(String text) {\r\n    \t\tsuper(text);\r\n    \t\taddClickedEventHandler();\r\n    \t}\r\n    \r\n    \tprotected ButtonBaseCutom(String text, Node graphic) {\r\n    \t\tsuper(text, graphic);\r\n    \t\taddClickedEventHandler();\r\n    \t}\r\n    \r\n    \tprivate class ClickRunner implements Runnable {\r\n    \r\n    \t\tprivate final Runnable\tonClick;\r\n    \t\tprivate boolean\t\t\taborted\t= false;\r\n    \r\n    \t\tpublic ClickRunner(Runnable onClick) {\r\n    \t\t\tthis.onClick = onClick;\r\n    \t\t}\r\n    \r\n    \t\tpublic void abort() {\r\n    \t\t\tthis.aborted = true;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\ttry {\r\n    \t\t\t\tThread.sleep(getSingleClickDelayMillis());\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\tif (!aborted) {\r\n    \t\t\t\tPlatform.runLater(onClick::run);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void addClickedEventHandler() {\r\n    \t\t//Handling the mouse clicked event (not using &#39;onMouseClicked&#39; so it can still be used by developer).\r\n    \t\taddEventHandler(MouseEvent.MOUSE_CLICKED , me -&gt; {\r\n    \t\t\tswitch (me.getButton()) {\r\n    \t\t\t\tcase PRIMARY:\r\n    \t\t\t\t\tif (me.getClickCount() == 1) {\r\n    \t\t\t\t\t\tlatestClickRunner = new ClickRunner(() -&gt; {\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;ButtonWithDblClick : SINGLE Click fired&quot;);\r\n    \t\t\t\t\t\t\tonMouseSingleClickedProperty.get().handle(me);\r\n    \t\t\t\t\t\t});\r\n    \t\t\t\t\t\tCompletableFuture.runAsync(latestClickRunner);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tif (me.getClickCount() == 2) {\r\n    \t\t\t\t\t\tif (latestClickRunner != null) {\r\n    \t\t\t\t\t\t\tlatestClickRunner.abort();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tSystem.out.println(&quot;ButtonWithDblClick : DOUBLE Click fired&quot;);\r\n    \t\t\t\t\t\tonMouseDoubleClickedProperty.get().handle(me);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase SECONDARY:\r\n    \t\t\t\t\t// Right-click operation. Not implemented since usually no double RIGHT click needs to be caught.\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tdefault:\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tpublic void setOnMouseSingleClicked(EventHandler&lt;MouseEvent&gt; eventHandler) {\r\n    \t\tthis.onMouseSingleClickedProperty.set(eventHandler);\r\n    \t}\r\n    \r\n    \tpublic void setOnMouseDoubleClicked(EventHandler&lt;MouseEvent&gt; eventHandler) {\r\n    \t\tthis.onMouseDoubleClickedProperty.set(eventHandler);\r\n    \t}\r\n    \r\n    \tpublic long getSingleClickDelayMillis() {\r\n    \t\treturn singleClickDelayMillis;\r\n    \t}\r\n    \r\n    \tpublic void setSingleClickDelayMillis(long singleClickDelayMillis) {\r\n    \t\tthis.singleClickDelayMillis = singleClickDelayMillis;\r\n    \t}\r\n    \r\n    }\r\n\r\n___\r\n**INTERFACES :**\r\n\r\nHere the interfaces. The `ButtonBaseCutomInterface` :\r\n\r\n    public interface ButtonBaseCutomInterface {\r\n    \tpublic void setOnMouseSingleClicked(EventHandler&lt;MouseEvent&gt; eventHandler) ;\r\n    \r\n    \tpublic void setOnMouseDoubleClicked(EventHandler&lt;MouseEvent&gt; eventHandler) ;\r\n    \r\n    \tpublic long getSingleClickDelayMillis() ;\r\n    \r\n    \tpublic void setSingleClickDelayMillis(long singleClickDelayMillis) ;\r\n    }\r\n\r\nand for example the `ToggleButton` interface :\r\n\r\n    import javafx.beans.property.BooleanProperty;\r\n    import javafx.beans.property.ObjectProperty;\r\n    import javafx.scene.AccessibleAttribute;\r\n    import javafx.scene.control.ToggleGroup;\r\n    \r\n    public interface ToggleButtonInterface {\r\n    \r\n    \t//Skin&lt;?&gt;\tcreateDefaultSkin();\r\n    \r\n    \tpublic void\tfire();\r\n    \r\n    \tpublic ToggleGroup\tgetToggleGroup();\r\n    \r\n    \tpublic boolean\tisSelected();\r\n    \r\n    \tpublic Object\tqueryAccessibleAttribute(AccessibleAttribute attribute, Object... parameters);\r\n    \r\n    \tpublic BooleanProperty\tselectedProperty();\r\n    \r\n    \tpublic void\tsetSelected(boolean value);\r\n    \r\n    \tpublic void\tsetToggleGroup(ToggleGroup value);\r\n    \r\n    \tpublic ObjectProperty&lt;ToggleGroup&gt;\ttoggleGroupProperty();\r\n    \r\n    }\r\n\r\n___\r\nPS : Yes some methods are still missing in my Custom classes, but the question is probably not about these :\r\n\r\n - getOnMouseSingleClicked(...)\r\n - ...\r\n\r\n  [1]: https://i.stack.imgur.com/c6uer.png\r\n  [2]: https://stackoverflow.com/a/30574209/14021197\r\n","title":"javafx new heritage branch from abstract ButtonBase : Where to use interface and extend","body":"<p><strong>CONTEXT :</strong></p>\n<p>I have redundant code I want to factorize. The code allows a <code>Node</code> descendant to fire a DOUBLE click <code>EventHandler</code>, <strong>without</strong> firing a SINGLE click <code>EventHandler</code>.</p>\n<p>I need this feature in different <code>ButtonBase</code> implementations :</p>\n<ul>\n<li><code>Button</code></li>\n<li><code>ToggleButton</code></li>\n<li><code>CheckBox</code></li>\n</ul>\n<p>For the moment, I have extended each leaf class written above with the same code allowing this feature.</p>\n<hr />\n<p><strong>PROBLEM :</strong></p>\n<p>I know this is smelling very bad, and I would like to factorize it, at least, to the common parent -&gt; <code>ButtonBase</code>... if not <code>Node</code> where it should origin from (it is in <code>Node</code> that the <code>onMouseClicked(...)</code> is implemented).</p>\n<p>[<img src=\"https://i.stack.imgur.com/c6uer.png\" alt=\"enter image description here\" /></p>\n<p>I have thus implemented an abstract class <code>ButtonBaseCustom</code> extending ButtonBase.</p>\n<p>Knowing, and understanding, that multiple inheritage does not exist in Java, partially due to the diamond problem, I tried to follow <a href=\"https://stackoverflow.com/a/30574209/14021197\">this answer from @SCB</a>, using :</p>\n<ol>\n<li><p>Both as interfaces (I created <code>ButtonBaseCustomInterface</code> &amp; <code>ButtonInterface</code> for this),</p>\n</li>\n<li><p><code>ButtonBaseCustomInterface</code> as interface, and <code>Button</code> as parent (extending from it)</p>\n</li>\n<li><p><code>ButtonInterface</code> as interface and <code>ButtonBaseCustom</code> as parent (extending from it)</p>\n</li>\n</ol>\n<hr />\n<p><strong>QUESTION :</strong></p>\n<p>How do I get a ButtonCustom having the parent abilities implemented in ButtonBaseCustom, and still acting as a Button ?</p>\n<hr />\n<p><strong>CLOSEST SOLUTION :</strong></p>\n<p>I have a very high instinct that the architecture N°3 here above is the one to go with.</p>\n<p>The next code compiles and runs... even gives me the correct behavior of SINGLE/DOUBLE click caught... But there is an issue with the <strong>SKIN</strong> part : and that's the top of the iceberg I suppose. Maybe it smells like I'm in the wrong direction ?</p>\n<pre><code>import javafx.beans.property.BooleanProperty;\nimport javafx.beans.property.ObjectProperty;\nimport javafx.scene.Node;\nimport javafx.scene.control.Skin;\nimport javafx.scene.control.ToggleButton;\nimport javafx.scene.control.ToggleGroup;\nimport javafx.scene.control.skin.ToggleButtonSkin;\n\npublic class ToggleButtonWithDblClick extends ButtonBaseCutom implements ToggleButtonInterface {\n    ToggleButton tglBtn = null;\n\n    public ToggleButtonWithDblClick() {\n        super();\n        tglBtn = new ToggleButton();\n    }\n\n    public ToggleButtonWithDblClick(String text) {\n        super(text);\n        tglBtn = new ToggleButton(text);\n    }\n\n    public ToggleButtonWithDblClick(String text, Node graphic) {\n        super(text, graphic);\n        tglBtn = new ToggleButton(text, graphic);\n    }\n\n    @Override\n    public ToggleGroup getToggleGroup() {\n        return tglBtn.getToggleGroup();\n    }\n\n    @Override\n    public boolean isSelected() {\n        return tglBtn.isSelected();\n    }\n\n    @Override\n    public BooleanProperty selectedProperty() {\n        return tglBtn.selectedProperty();\n    }\n\n    @Override\n    public void setSelected(boolean value) {\n        tglBtn.setSelected(value);\n    }\n\n    @Override\n    public void setToggleGroup(ToggleGroup value) {\n        tglBtn.setToggleGroup(value);\n    }\n\n    @Override\n    public ObjectProperty&lt;ToggleGroup&gt; toggleGroupProperty() {\n        return tglBtn.toggleGroupProperty();\n    }\n\n    @Override\n    public void fire() {\n        tglBtn.fire();\n    }\n\n    @Override\n    public Skin&lt;?&gt; createDefaultSkin() {\n        tglBtn.setSkin(new ToggleButtonSkin(tglBtn));\n        return tglBtn.getSkin();\n    }\n\n}\n</code></pre>\n<hr />\n<p><em><strong>EXAMPLE</strong></em></p>\n<p>For example, here is a full code of working button :</p>\n<pre><code>package application;\n\nimport java.util.concurrent.CompletableFuture;\n\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.beans.property.ObjectProperty;\nimport javafx.beans.property.SimpleObjectProperty;\nimport javafx.event.EventHandler;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\npublic class DblClickCatchedWithoutSingleClick extends Application {\n\n    public class ButtonWithDblClick extends Button {\n\n        private long        singleClickDelayMillis  = 250;\n        private ClickRunner latestClickRunner       = null;\n\n        private ObjectProperty&lt;EventHandler&lt;MouseEvent&gt;&gt;    onMouseSingleClickedProperty    = new SimpleObjectProperty&lt;&gt;();\n        private ObjectProperty&lt;EventHandler&lt;MouseEvent&gt;&gt;    onMouseDoubleClickedProperty    = new SimpleObjectProperty&lt;&gt;();\n\n        // CONSTRUCTORS\n        public ButtonWithDblClick() {\n            super();\n            addClickedEventHandler();\n        }\n\n        public ButtonWithDblClick(String text) {\n            super(text);\n            addClickedEventHandler();\n        }\n\n        public ButtonWithDblClick(String text, Node graphic) {\n            super(text, graphic);\n            addClickedEventHandler();\n        }\n\n        private class ClickRunner implements Runnable {\n\n            private final Runnable  onClick;\n            private boolean         aborted = false;\n\n            public ClickRunner(Runnable onClick) {\n                this.onClick = onClick;\n            }\n\n            public void abort() {\n                this.aborted = true;\n            }\n\n            @Override\n            public void run() {\n                try {\n                    Thread.sleep(getSingleClickDelayMillis());\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                if (!aborted) {\n                    Platform.runLater(onClick::run);\n                }\n            }\n        }\n\n        private void addClickedEventHandler() {\n            //Handling the mouse clicked event (not using 'onMouseClicked' so it can still be used by developer).\n            addEventHandler(MouseEvent.MOUSE_CLICKED, me -&gt; {\n                switch (me.getButton()) {\n                    case PRIMARY:\n                        if (me.getClickCount() == 1) {\n                            latestClickRunner = new ClickRunner(() -&gt; {\n                                System.out.println(&quot;ButtonWithDblClick : SINGLE Click fired&quot;);\n                                onMouseSingleClickedProperty.get().handle(me);\n                            });\n                            CompletableFuture.runAsync(latestClickRunner);\n                        }\n                        if (me.getClickCount() == 2) {\n                            if (latestClickRunner != null) {\n                                latestClickRunner.abort();\n                            }\n                            System.out.println(&quot;ButtonWithDblClick : DOUBLE Click fired&quot;);\n                            onMouseDoubleClickedProperty.get().handle(me);\n                        }\n                        break;\n                    case SECONDARY:\n                        // Right-click operation. Not implemented since usually no double RIGHT click needs to be caught.\n                        break;\n                    default:\n                        break;\n                }\n            });\n        }\n\n        public void setOnMouseSingleClicked(EventHandler&lt;MouseEvent&gt; eventHandler) {\n            this.onMouseSingleClickedProperty.set(eventHandler);\n        }\n\n        public void setOnMouseDoubleClicked(EventHandler&lt;MouseEvent&gt; eventHandler) {\n            this.onMouseDoubleClickedProperty.set(eventHandler);\n        }\n\n        public long getSingleClickDelayMillis() {\n            return singleClickDelayMillis;\n        }\n\n        public void setSingleClickDelayMillis(long singleClickDelayMillis) {\n            this.singleClickDelayMillis = singleClickDelayMillis;\n        }\n    }\n\n    public void start(Stage stage) {\n        VBox root = new VBox();\n\n        Button btn = new Button(&quot;Double click me&quot;);\n        btn.setOnMousePressed(mouseEvent -&gt; {\n            // CLICK catches\n            if (mouseEvent.getClickCount() == 1) {\n                System.out.println(&quot;Button clicked&quot;);\n            } else if (mouseEvent.getClickCount() == 2)\n                System.out.println(&quot;Button double clicked&quot;);\n        });\n\n        ButtonWithDblClick btn2 = new ButtonWithDblClick(&quot;Double click me too ;-)&quot;);\n        btn2.setOnMouseSingleClicked(me -&gt; {\n            System.out.println(&quot;BUTTON_2 : Fire SINGLE Click&quot;);\n        });\n        btn2.setOnMouseDoubleClicked(me -&gt; {\n            System.out.println(&quot;BUTTON_2 : Fire DOUBLE Click&quot;);\n        });\n    \n        root.getChildren().add(btn);\n        root.getChildren().add(btn2);\n\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n}\n</code></pre>\n<hr />\n<p><strong>CUSTOM BUTTON_BASE</strong> :</p>\n<pre><code>import java.util.concurrent.CompletableFuture;\n\nimport javafx.application.Platform;\nimport javafx.beans.property.ObjectProperty;\nimport javafx.beans.property.SimpleObjectProperty;\nimport javafx.event.EventHandler;\nimport javafx.scene.Node;\nimport javafx.scene.control.ButtonBase;\nimport javafx.scene.input.MouseEvent;\n\npublic abstract class ButtonBaseCutom extends ButtonBase {\n\n    private long        singleClickDelayMillis  = 250;\n    private ClickRunner latestClickRunner       = null;\n\n    private ObjectProperty&lt;EventHandler&lt;MouseEvent&gt;&gt;    onMouseSingleClickedProperty    = new SimpleObjectProperty&lt;&gt;();\n    private ObjectProperty&lt;EventHandler&lt;MouseEvent&gt;&gt;    onMouseDoubleClickedProperty    = new SimpleObjectProperty&lt;&gt;();\n\n    // CONSTRUCTORS\n    protected ButtonBaseCutom() {\n        super();\n        addClickedEventHandler();\n    }\n\n    protected ButtonBaseCutom(String text) {\n        super(text);\n        addClickedEventHandler();\n    }\n\n    protected ButtonBaseCutom(String text, Node graphic) {\n        super(text, graphic);\n        addClickedEventHandler();\n    }\n\n    private class ClickRunner implements Runnable {\n\n        private final Runnable  onClick;\n        private boolean         aborted = false;\n\n        public ClickRunner(Runnable onClick) {\n            this.onClick = onClick;\n        }\n\n        public void abort() {\n            this.aborted = true;\n        }\n\n        @Override\n        public void run() {\n            try {\n                Thread.sleep(getSingleClickDelayMillis());\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            if (!aborted) {\n                Platform.runLater(onClick::run);\n            }\n        }\n    }\n\n    private void addClickedEventHandler() {\n        //Handling the mouse clicked event (not using 'onMouseClicked' so it can still be used by developer).\n        addEventHandler(MouseEvent.MOUSE_CLICKED , me -&gt; {\n            switch (me.getButton()) {\n                case PRIMARY:\n                    if (me.getClickCount() == 1) {\n                        latestClickRunner = new ClickRunner(() -&gt; {\n                            System.out.println(&quot;ButtonWithDblClick : SINGLE Click fired&quot;);\n                            onMouseSingleClickedProperty.get().handle(me);\n                        });\n                        CompletableFuture.runAsync(latestClickRunner);\n                    }\n                    if (me.getClickCount() == 2) {\n                        if (latestClickRunner != null) {\n                            latestClickRunner.abort();\n                        }\n                        System.out.println(&quot;ButtonWithDblClick : DOUBLE Click fired&quot;);\n                        onMouseDoubleClickedProperty.get().handle(me);\n                    }\n                    break;\n                case SECONDARY:\n                    // Right-click operation. Not implemented since usually no double RIGHT click needs to be caught.\n                    break;\n                default:\n                    break;\n            }\n        });\n    }\n\n    public void setOnMouseSingleClicked(EventHandler&lt;MouseEvent&gt; eventHandler) {\n        this.onMouseSingleClickedProperty.set(eventHandler);\n    }\n\n    public void setOnMouseDoubleClicked(EventHandler&lt;MouseEvent&gt; eventHandler) {\n        this.onMouseDoubleClickedProperty.set(eventHandler);\n    }\n\n    public long getSingleClickDelayMillis() {\n        return singleClickDelayMillis;\n    }\n\n    public void setSingleClickDelayMillis(long singleClickDelayMillis) {\n        this.singleClickDelayMillis = singleClickDelayMillis;\n    }\n\n}\n</code></pre>\n<hr />\n<p><strong>INTERFACES :</strong></p>\n<p>Here the interfaces. The <code>ButtonBaseCutomInterface</code> :</p>\n<pre><code>public interface ButtonBaseCutomInterface {\n    public void setOnMouseSingleClicked(EventHandler&lt;MouseEvent&gt; eventHandler) ;\n\n    public void setOnMouseDoubleClicked(EventHandler&lt;MouseEvent&gt; eventHandler) ;\n\n    public long getSingleClickDelayMillis() ;\n\n    public void setSingleClickDelayMillis(long singleClickDelayMillis) ;\n}\n</code></pre>\n<p>and for example the <code>ToggleButton</code> interface :</p>\n<pre><code>import javafx.beans.property.BooleanProperty;\nimport javafx.beans.property.ObjectProperty;\nimport javafx.scene.AccessibleAttribute;\nimport javafx.scene.control.ToggleGroup;\n\npublic interface ToggleButtonInterface {\n\n    //Skin&lt;?&gt;   createDefaultSkin();\n\n    public void fire();\n\n    public ToggleGroup  getToggleGroup();\n\n    public boolean  isSelected();\n\n    public Object   queryAccessibleAttribute(AccessibleAttribute attribute, Object... parameters);\n\n    public BooleanProperty  selectedProperty();\n\n    public void setSelected(boolean value);\n\n    public void setToggleGroup(ToggleGroup value);\n\n    public ObjectProperty&lt;ToggleGroup&gt;  toggleGroupProperty();\n\n}\n</code></pre>\n<hr />\n<p>PS : Yes some methods are still missing in my Custom classes, but the question is probably not about these :</p>\n<ul>\n<li>getOnMouseSingleClicked(...)</li>\n<li>...</li>\n</ul>\n"},{"tags":["java","arraylist","data-structures","bytecode",".class-file"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1640238496,"post_id":70458067,"comment_id":124548914,"body_markdown":"Your assumption is not correct. There are data structures that do not grow linearly. Array lists, for example, normally exhibit a doubling growth if full. This of course approximates to growing by a constant factor per insert, but the actual distribution will look different.","body":"Your assumption is not correct. There are data structures that do not grow linearly. Array lists, for example, normally exhibit a doubling growth if full. This of course approximates to growing by a constant factor per insert, but the actual distribution will look different."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1640239294,"post_id":70458067,"comment_id":124549031,"body_markdown":"For reference: [Here is an Ideone demo](https://ideone.com/t3lpU4) showing the non-linear growth behaviour of `ArrayList`.","body":"For reference: <a href=\"https://ideone.com/t3lpU4\" rel=\"nofollow noreferrer\">Here is an Ideone demo</a> showing the non-linear growth behaviour of <code>ArrayList</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640239708,"post_id":70458067,"comment_id":124549108,"body_markdown":"`HashMap` is another example.  And note that any data structures that preallocates based on a `capacity` argument or a built-in initial size estimate doesn&#39;t grow linearly to start with.","body":"<code>HashMap</code> is another example.  And note that any data structures that preallocates based on a <code>capacity</code> argument or a built-in initial size estimate doesn&#39;t grow linearly to start with."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640239951,"post_id":70458067,"comment_id":124549156,"body_markdown":"Your larger goal of predicting the memory usage of an arbitrary data structure is probably unrealistic.  (In fact, for some formulations, the &quot;problem&quot; is probably non-computable function; e.g. it is analogous to the Halting problem.)","body":"Your larger goal of predicting the memory usage of an arbitrary data structure is probably unrealistic.  (In fact, for some formulations, the &quot;problem&quot; is probably non-computable function; e.g. it is analogous to the Halting problem.)"},{"owner":{"account_id":18660132,"reputation":299,"user_id":13601548,"display_name":"Janitha Nawarathna"},"score":0,"creation_date":1640241339,"post_id":70458067,"comment_id":124549430,"body_markdown":"Thanks for commenting! My goal is not to predict memory usage. It is to predict or know how the particular data structure has grown over the runtime (from the initial capacity to \n the final capacity). Is it possible?","body":"Thanks for commenting! My goal is not to predict memory usage. It is to predict or know how the particular data structure has grown over the runtime (from the initial capacity to   the final capacity). Is it possible?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1640262300,"post_id":70458067,"comment_id":124555688,"body_markdown":"@Turing85 `ArrayList`&#180;s growth is 50% (or factor 1.5), not doubling.","body":"@Turing85 <code>ArrayList</code>&#180;s growth is 50% (or factor 1.5), not doubling."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1640262458,"post_id":70458067,"comment_id":124555742,"body_markdown":"@Holger the actual growth rate is an impelmentation detail. Whether it&#39;s 50% or 100% is irrelevant for the argument; it&#39;s not linear.","body":"@Holger the actual growth rate is an impelmentation detail. Whether it&#39;s 50% or 100% is irrelevant for the argument; it&#39;s not linear."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1640262797,"post_id":70458067,"comment_id":124555836,"body_markdown":"@Turing85 you may call it an implementation detail, yet you decided to say &quot;doubling&quot; in your comment. I’m not even sure whether the non linear growth has any relevance to the OP’s problem in general. The amortized growth or just the resulting capacity seems to be what the analysis is heading for, which still is proportional.","body":"@Turing85 you may call it an implementation detail, yet you decided to say &quot;doubling&quot; in your comment. I’m not even sure whether the non linear growth has any relevance to the OP’s problem in general. The amortized growth or just the resulting capacity seems to be what the analysis is heading for, which still is proportional."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1640262986,"post_id":70458067,"comment_id":124555904,"body_markdown":"@StephenC there’s always an exception to the rule, `java.util.Vector` supports [a growth by a constant](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Vector.html#capacityIncrement).","body":"@StephenC there’s always an exception to the rule, <code>java.util.Vector</code> supports <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Vector.html#capacityIncrement\" rel=\"nofollow noreferrer\">a growth by a constant</a>."},{"owner":{"account_id":18660132,"reputation":299,"user_id":13601548,"display_name":"Janitha Nawarathna"},"score":0,"creation_date":1640275450,"post_id":70458067,"comment_id":124560189,"body_markdown":"Thanks, @Holger! That&#39;s what I need to extract!","body":"Thanks, @Holger! That&#39;s what I need to extract!"}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640686129,"creation_date":1640242421,"answer_id":70458642,"question_id":70458067,"body_markdown":"When you create a heap dump from a running JVM that have eaten up nearly all of the heap available to it, and use a tool like Eclipse MAT to sum up the size of all data structures, the result is usually 10% up to 250% larger than the size of the heap itself … the magical RAM increase! Or that&#39;s because Java knows how to use a single byte of the RAM multiple times …\r\n\r\nThe reason is much more profane: the same (child) data structure is referenced by multiple parent data structures, and that is not always visible without digging deep. A good sample is the old `java.util.Date` class …\r\n\r\nTools like the already mentioned &quot;RamUsage*Estimator*&quot; try to make good *guesses* about the size, they are not named &quot;*Estimator*&quot; out of purpose.\r\n\r\nFor your goal, you should compare the size of your data structures having hundreds or thousands of initial elements with their size after doubling and tripling the number of elements, to get an idea of the behaviour.\r\n\r\nDoing this with one, two, three elements is fruitless at best, misleading at worst.","title":"Can I assume the capacity of a Java data structure is proportional to the memory taken by then data structure instance when the program is executed?","body":"<p>When you create a heap dump from a running JVM that have eaten up nearly all of the heap available to it, and use a tool like Eclipse MAT to sum up the size of all data structures, the result is usually 10% up to 250% larger than the size of the heap itself … the magical RAM increase! Or that's because Java knows how to use a single byte of the RAM multiple times …</p>\n<p>The reason is much more profane: the same (child) data structure is referenced by multiple parent data structures, and that is not always visible without digging deep. A good sample is the old <code>java.util.Date</code> class …</p>\n<p>Tools like the already mentioned &quot;RamUsage<em>Estimator</em>&quot; try to make good <em>guesses</em> about the size, they are not named &quot;<em>Estimator</em>&quot; out of purpose.</p>\n<p>For your goal, you should compare the size of your data structures having hundreds or thousands of initial elements with their size after doubling and tripling the number of elements, to get an idea of the behaviour.</p>\n<p>Doing this with one, two, three elements is fruitless at best, misleading at worst.</p>\n"}],"owner":{"account_id":18660132,"reputation":299,"user_id":13601548,"display_name":"Janitha Nawarathna"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640686129,"creation_date":1640237953,"question_id":70458067,"body_markdown":"My intention is to analyze the bytecode of a Java program and collect the data about the data structures that have been used. That data includes the initial capacity and how the particular data structure has grown throughout the runtime(growing rate, according to the growing policy of the Java data structures).\r\n\r\nCan I assume something like **capacity is proportional to the memory taken by that particular data structure instance**?\r\n\r\n**For example;**\r\n\r\nI used `RamUsageEstimator` from `com.carrotsearch.sizeof.RamUsageEstimator` to get the memory size taken by the particular data structure instance.\r\n\r\n    \r\n        List&lt;Integer&gt; intList = new ArrayList&lt;Integer&gt;(4);\r\n\r\n        for(int i = 0 ; i &lt; 5 ; i++){\r\n                intList.add(i);\r\n                System.out.println(&quot;Size(byte) -&gt; &quot; + RamUsageEstimator.sizeOf(intList));\r\n        }\r\n\r\n\r\nI ran this code with an `ArrayList` of an *initial size* of `4`. I added `5` elements to the list using a loop. According to the growing policy of the Java `ArrayList`, it should grow itself by 50%, which means after the 4rth element when I enter the 5th element new size would be `6`. I got the following results, `Bytes -&gt; 72, 88, 104, 120, 144`. \r\nWe can clearly see here that between the first 4 elements, the byte gap is 16, and eventually, at the 5th element, it has become 24. So, it clearly shows the growth and the rate right?\r\n\r\nIs it possible to achieve my task this way?\r\n\r\nAny answer would be great! Thank you!","title":"Can I assume the capacity of a Java data structure is proportional to the memory taken by then data structure instance when the program is executed?","body":"<p>My intention is to analyze the bytecode of a Java program and collect the data about the data structures that have been used. That data includes the initial capacity and how the particular data structure has grown throughout the runtime(growing rate, according to the growing policy of the Java data structures).</p>\n<p>Can I assume something like <strong>capacity is proportional to the memory taken by that particular data structure instance</strong>?</p>\n<p><strong>For example;</strong></p>\n<p>I used <code>RamUsageEstimator</code> from <code>com.carrotsearch.sizeof.RamUsageEstimator</code> to get the memory size taken by the particular data structure instance.</p>\n<pre><code>    List&lt;Integer&gt; intList = new ArrayList&lt;Integer&gt;(4);\n\n    for(int i = 0 ; i &lt; 5 ; i++){\n            intList.add(i);\n            System.out.println(&quot;Size(byte) -&gt; &quot; + RamUsageEstimator.sizeOf(intList));\n    }\n</code></pre>\n<p>I ran this code with an <code>ArrayList</code> of an <em>initial size</em> of <code>4</code>. I added <code>5</code> elements to the list using a loop. According to the growing policy of the Java <code>ArrayList</code>, it should grow itself by 50%, which means after the 4rth element when I enter the 5th element new size would be <code>6</code>. I got the following results, <code>Bytes -&gt; 72, 88, 104, 120, 144</code>.\nWe can clearly see here that between the first 4 elements, the byte gap is 16, and eventually, at the 5th element, it has become 24. So, it clearly shows the growth and the rate right?</p>\n<p>Is it possible to achieve my task this way?</p>\n<p>Any answer would be great! Thank you!</p>\n"},{"tags":["java","jvm","jvm-hotspot"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1600845991,"post_id":64022796,"comment_id":113213155,"body_markdown":"Because the interpreter runs the compiler when it decides, and otherwise executes the code itself. Not all the code gets compiled to machine code. Otherwise memory usage would be endless.","body":"Because the interpreter runs the compiler when it decides, and otherwise executes the code itself. Not all the code gets compiled to machine code. Otherwise memory usage would be endless."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1600847063,"post_id":64022796,"comment_id":113213657,"body_markdown":"An interpreter does not convert. You simply have a wrong picture of what an interpreter does.","body":"An interpreter does not convert. You simply have a wrong picture of what an interpreter does."},{"owner":{"account_id":2464222,"reputation":885,"user_id":2147690,"display_name":"Jochen Ha&#223;furter"},"score":0,"creation_date":1601018845,"post_id":64022796,"comment_id":113278713,"body_markdown":"Compiler, interpreter and assembler are all translators which convert code between computer languages. They do mix: &quot;A simple interpreter written in a low level language may have similar machine code blocks implementing functions of the high level language stored, and executed when a function&#39;s entry in a look up table points to that code. An interpreter written in a high level language typically uses another approach, such as generating and then walking a parse tree, or by generating and executing intermediate instructions, or both.&quot; (Wikipedia et al.) So I think the question is interesting!","body":"Compiler, interpreter and assembler are all translators which convert code between computer languages. They do mix: &quot;A simple interpreter written in a low level language may have similar machine code blocks implementing functions of the high level language stored, and executed when a function&#39;s entry in a look up table points to that code. An interpreter written in a high level language typically uses another approach, such as generating and then walking a parse tree, or by generating and executing intermediate instructions, or both.&quot; (Wikipedia et al.) So I think the question is interesting!"}],"answers":[{"tags":[],"owner":{"account_id":17477690,"reputation":350,"user_id":12672179,"display_name":"The Grand J"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1600845583,"creation_date":1600845583,"answer_id":64022919,"question_id":64022796,"body_markdown":"An **interpreter allows for on the fly running** and debugging of code. A **compiler must be pre-compiled to run** which means that if there is an error that is not picked up by your preferred environment, then it would require you to make a possible fix and **recompile the entire project**. \r\n\r\nHence it has both an interpreter and a compiler to allow for the speed of a compiler and still allow devs to be able to debug on the fly by making small changes and check the fix without recompiling the entire project every time.\r\n\r\nEssentially in a nutshell the biggest reason is this. \r\n&lt;br&gt;A **Compiler** is the **fastest way to run** for an **end user**\r\n&lt;br&gt;An **Interpreter** is the **fastest way to debug and code** for the **developer**","title":"Why Interpreter is used by JVM when JIT compiler is also used?","body":"<p>An <strong>interpreter allows for on the fly running</strong> and debugging of code. A <strong>compiler must be pre-compiled to run</strong> which means that if there is an error that is not picked up by your preferred environment, then it would require you to make a possible fix and <strong>recompile the entire project</strong>.</p>\n<p>Hence it has both an interpreter and a compiler to allow for the speed of a compiler and still allow devs to be able to debug on the fly by making small changes and check the fix without recompiling the entire project every time.</p>\n<p>Essentially in a nutshell the biggest reason is this.\n<br>A <strong>Compiler</strong> is the <strong>fastest way to run</strong> for an <strong>end user</strong>\n<br>An <strong>Interpreter</strong> is the <strong>fastest way to debug and code</strong> for the <strong>developer</strong></p>\n"},{"tags":[],"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600846654,"creation_date":1600846311,"answer_id":64023087,"question_id":64022796,"body_markdown":"Modern Java implementations like GraalVM do, in fact, offer the option to compile to native code entire classes of Java bytecode -- or even entire applications -- but ahead-of-time, not at runtime. It would certainly be possible for a JIT compiler to be implemented that processed an entire class at runtime, and thus avoided the need for interpretation at all.\r\n\r\nBut, after you&#39;ve had time for a three-course meal while GraalVM&#39;s native-code compiler does it&#39;s stuff, it&#39;s easy enough to understand why bulk pre-compilation _isn&#39;t_ the default compilation mechanism in JVMs. Compilation to native code can be slow, and Java isn&#39;t an inherently compilable language.\r\n\r\nMost JVMs offer some form of adaptive interpretation/compilation balance, implemented at runtime. For code sections that are repeated a great deal, interpretation is &quot;slow&quot;, because the work of interpretation is repeated many times. For code that is executed only once, compilation is &quot;slow&quot;, because the work of compilation has to be done before any program instructions are actually executed.\r\n\r\nSo modern Java implementations offer both strategies, and attempt to balance them to get the best overall performance at runtime. Broadly, what we&#39;d like to do is to (JIT) compile only those parts of the application where the time cost of compilation is most offset by the benefits it brings. How to do this has been the subject of a good deal of research, and new methods continue to be developed.\r\n","title":"Why Interpreter is used by JVM when JIT compiler is also used?","body":"<p>Modern Java implementations like GraalVM do, in fact, offer the option to compile to native code entire classes of Java bytecode -- or even entire applications -- but ahead-of-time, not at runtime. It would certainly be possible for a JIT compiler to be implemented that processed an entire class at runtime, and thus avoided the need for interpretation at all.</p>\n<p>But, after you've had time for a three-course meal while GraalVM's native-code compiler does it's stuff, it's easy enough to understand why bulk pre-compilation <em>isn't</em> the default compilation mechanism in JVMs. Compilation to native code can be slow, and Java isn't an inherently compilable language.</p>\n<p>Most JVMs offer some form of adaptive interpretation/compilation balance, implemented at runtime. For code sections that are repeated a great deal, interpretation is &quot;slow&quot;, because the work of interpretation is repeated many times. For code that is executed only once, compilation is &quot;slow&quot;, because the work of compilation has to be done before any program instructions are actually executed.</p>\n<p>So modern Java implementations offer both strategies, and attempt to balance them to get the best overall performance at runtime. Broadly, what we'd like to do is to (JIT) compile only those parts of the application where the time cost of compilation is most offset by the benefits it brings. How to do this has been the subject of a good deal of research, and new methods continue to be developed.</p>\n"},{"tags":[],"owner":{"account_id":2464222,"reputation":885,"user_id":2147690,"display_name":"Jochen Ha&#223;furter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600846355,"creation_date":1600846355,"answer_id":64023099,"question_id":64022796,"body_markdown":"There is a nice comparison in [this answer][1] which makes it clear to me why Java uses both, AOT and JIT.\r\n\r\nThe &quot;fine-tuning&quot; with JIT mentioned [here][2] is done in the compiler for the JVM, which is optimized for every system it runs on. And you don&#39;t take the disadvantages listed in the link.\r\n\r\n\r\n  [1]: https://www.quora.com/In-Java-what-exactly-will-the-JVM-interpreter-and-the-JIT-compiler-do-with-the-bytecode\r\n  [2]: http://net-informations.com/faq/qk/jit.htm","title":"Why Interpreter is used by JVM when JIT compiler is also used?","body":"<p>There is a nice comparison in <a href=\"https://www.quora.com/In-Java-what-exactly-will-the-JVM-interpreter-and-the-JIT-compiler-do-with-the-bytecode\" rel=\"nofollow noreferrer\">this answer</a> which makes it clear to me why Java uses both, AOT and JIT.</p>\n<p>The &quot;fine-tuning&quot; with JIT mentioned <a href=\"http://net-informations.com/faq/qk/jit.htm\" rel=\"nofollow noreferrer\">here</a> is done in the compiler for the JVM, which is optimized for every system it runs on. And you don't take the disadvantages listed in the link.</p>\n"},{"tags":[],"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600863303,"creation_date":1600863303,"answer_id":64027743,"question_id":64022796,"body_markdown":"The JRockit JVM doesn&#39;t have an interpreter. It compiles all the bytecode, even when doing debugging, so it is not necessary to have. \r\n\r\nOne benefit of an interpreter is faster startup. For example, a static initializer is only executed once, so there is usually little need to compile it.","title":"Why Interpreter is used by JVM when JIT compiler is also used?","body":"<p>The JRockit JVM doesn't have an interpreter. It compiles all the bytecode, even when doing debugging, so it is not necessary to have.</p>\n<p>One benefit of an interpreter is faster startup. For example, a static initializer is only executed once, so there is usually little need to compile it.</p>\n"},{"tags":[],"owner":{"account_id":125486,"reputation":2868,"user_id":321302,"accept_rate":100,"display_name":"Steves"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640685609,"creation_date":1640685148,"answer_id":70505407,"question_id":64022796,"body_markdown":"Not all JVM implementations employ combination of an interpreter and a JIT compiler. Some have only interpreter, some only a JIT compiler or two. \r\n\r\nThe most well known JVM the HotSpot JVM does have two interpreters and JIT two compilers:\r\n\r\n - interpreter written in portable C++. The advantage is that you only need a C++ compiler on your system to run this interpreter\r\n - &quot;templated&quot; interpreter written in sort of assembly language. This interpreter is architecture dependent.\r\n - client compiler: fast compilation, less efficient code\r\n - server compiler: slower compilation, highly optimized code\r\n\r\nDepending on your system or how you configure HotSpot it will contain either the C++ interpreter or the templated one, those two cannot be combined (afaik).\r\n\r\nHere we have first advantage of interpretation: it is more portable. There is a C++ compiler for lots of hardware/OS combinations. The JIT compilers produce machine code and so have to be ported separately to each supported architecture.\r\n\r\nAnother advantage is startup time. JIT compilation takes time, but the interpreter can just start executing the code instantaneously. Moreover, the JIT compiler can just run on the background while the code is interpreted.\r\n\r\nNot only the JIT compiler can compile while the interpreter is running, but it can also generate code that jumps back to the interpreter. This means that the JIT compiler does not have to support all the features/corner cases (for whatever reason). If it comes across something it cannot compile, it can generate a jump to the interpreter from the compiled code or it can even give up on compiling that code altogether - it&#39;s fine (in some sense), because it can still be interpreted.\r\n\r\nGiving a hard evidence for some approach within such complex systems is, well, hard. One data-point could be that other VMs that are considered advanced state-of-the-art employ similar approach with interpreter and two compilers: V8 and SpiderMonkey JavaScript VMs.\r\n\r\nOP also asks why not to compile everything ahead of time. Firstly, this can be done with GraalVM native image and there have been some other similar technologies. Secondly, not compiling ahead of time has some advantages: the thing that you can run the code for a while before you compile it means that you can observe how it behaves and target the optimizations in the JIT compiler more precisely (the else branch of this if was never executed - don&#39;t waste the inlining budget for it) and because you can jump to the interpreter, you can also do &quot;speculative&quot; optimizations (don&#39;t even bother compiling the else branch) where if the speculation fails, the code jumps back to the interpreter. This scheme does not need interpreter, however. Just a JIT compiler that can jump from one compilation (more optimized) to another (more generic) will do. JRockit did that (afaik).","title":"Why Interpreter is used by JVM when JIT compiler is also used?","body":"<p>Not all JVM implementations employ combination of an interpreter and a JIT compiler. Some have only interpreter, some only a JIT compiler or two.</p>\n<p>The most well known JVM the HotSpot JVM does have two interpreters and JIT two compilers:</p>\n<ul>\n<li>interpreter written in portable C++. The advantage is that you only need a C++ compiler on your system to run this interpreter</li>\n<li>&quot;templated&quot; interpreter written in sort of assembly language. This interpreter is architecture dependent.</li>\n<li>client compiler: fast compilation, less efficient code</li>\n<li>server compiler: slower compilation, highly optimized code</li>\n</ul>\n<p>Depending on your system or how you configure HotSpot it will contain either the C++ interpreter or the templated one, those two cannot be combined (afaik).</p>\n<p>Here we have first advantage of interpretation: it is more portable. There is a C++ compiler for lots of hardware/OS combinations. The JIT compilers produce machine code and so have to be ported separately to each supported architecture.</p>\n<p>Another advantage is startup time. JIT compilation takes time, but the interpreter can just start executing the code instantaneously. Moreover, the JIT compiler can just run on the background while the code is interpreted.</p>\n<p>Not only the JIT compiler can compile while the interpreter is running, but it can also generate code that jumps back to the interpreter. This means that the JIT compiler does not have to support all the features/corner cases (for whatever reason). If it comes across something it cannot compile, it can generate a jump to the interpreter from the compiled code or it can even give up on compiling that code altogether - it's fine (in some sense), because it can still be interpreted.</p>\n<p>Giving a hard evidence for some approach within such complex systems is, well, hard. One data-point could be that other VMs that are considered advanced state-of-the-art employ similar approach with interpreter and two compilers: V8 and SpiderMonkey JavaScript VMs.</p>\n<p>OP also asks why not to compile everything ahead of time. Firstly, this can be done with GraalVM native image and there have been some other similar technologies. Secondly, not compiling ahead of time has some advantages: the thing that you can run the code for a while before you compile it means that you can observe how it behaves and target the optimizations in the JIT compiler more precisely (the else branch of this if was never executed - don't waste the inlining budget for it) and because you can jump to the interpreter, you can also do &quot;speculative&quot; optimizations (don't even bother compiling the else branch) where if the speculation fails, the code jumps back to the interpreter. This scheme does not need interpreter, however. Just a JIT compiler that can jump from one compilation (more optimized) to another (more generic) will do. JRockit did that (afaik).</p>\n"}],"owner":{"account_id":11029528,"reputation":31,"user_id":14325513,"display_name":"Abhishek Maji"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":985,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":5,"score":2,"last_activity_date":1640685609,"creation_date":1600845046,"question_id":64022796,"body_markdown":"We know, JVM uses both interpreter and JIT compiler. JIT compiler converts those Byte Codes that are repeated into Machine Code and stores them in  memory. Now when the Interpreter is translating the ByteCode line-by-line and running it, it will simply skip the translation part for a repeated code already converted and stored in memory but will run it directly. Thus reducing the concurrent redundant translation.\r\n\r\nThen why Java uses an interpreter in JVM? A compiler like JIT could have done the whole task of converting Byte Code to Machine Code at once?","title":"Why Interpreter is used by JVM when JIT compiler is also used?","body":"<p>We know, JVM uses both interpreter and JIT compiler. JIT compiler converts those Byte Codes that are repeated into Machine Code and stores them in  memory. Now when the Interpreter is translating the ByteCode line-by-line and running it, it will simply skip the translation part for a repeated code already converted and stored in memory but will run it directly. Thus reducing the concurrent redundant translation.</p>\n<p>Then why Java uses an interpreter in JVM? A compiler like JIT could have done the whole task of converting Byte Code to Machine Code at once?</p>\n"},{"tags":["java","oracle","tomcat","grails","ojdbc"],"comments":[{"owner":{"account_id":343790,"reputation":10861,"user_id":675721,"accept_rate":75,"display_name":"Codebling"},"score":0,"creation_date":1640583942,"post_id":70468982,"comment_id":124608440,"body_markdown":"Can you say which version(s) you&#39;ve tried, and what version your DB is?","body":"Can you say which version(s) you&#39;ve tried, and what version your DB is?"},{"owner":{"account_id":17848922,"reputation":676,"user_id":12965051,"display_name":"Dashzeveg Galbadrakh"},"score":0,"creation_date":1640587788,"post_id":70468982,"comment_id":124609103,"body_markdown":"@Codebling I&#39;ve tried the several versions of OJDBC8. DB version is 12c (12.1).","body":"@Codebling I&#39;ve tried the several versions of OJDBC8. DB version is 12c (12.1)."},{"owner":{"account_id":343790,"reputation":10861,"user_id":675721,"accept_rate":75,"display_name":"Codebling"},"score":1,"creation_date":1640640565,"post_id":70468982,"comment_id":124623828,"body_markdown":"You could try changing `oracle.net.DOWN_HOSTS_TIMEOUT` to 1 (second). Maybe also setting `oracle.net.keepAlive` to `true`. [OracleConnection settings](https://docs.oracle.com/en/database/oracle/oracle-database/21/jajdb/oracle/jdbc/OracleConnection.html). What connection pool does Grails use?","body":"You could try changing <code>oracle.net.DOWN_HOSTS_TIMEOUT</code> to 1 (second). Maybe also setting <code>oracle.net.keepAlive</code> to <code>true</code>. <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/21/jajdb/oracle/jdbc/OracleConnection.html\" rel=\"nofollow noreferrer\">OracleConnection settings</a>. What connection pool does Grails use?"},{"owner":{"account_id":17848922,"reputation":676,"user_id":12965051,"display_name":"Dashzeveg Galbadrakh"},"score":0,"creation_date":1640655803,"post_id":70468982,"comment_id":124626376,"body_markdown":"The connection pool settings of my project is default. As far as I understand the connection pool is Tomcat JDBC Pool.","body":"The connection pool settings of my project is default. As far as I understand the connection pool is Tomcat JDBC Pool."},{"owner":{"account_id":17848922,"reputation":676,"user_id":12965051,"display_name":"Dashzeveg Galbadrakh"},"score":0,"creation_date":1640663338,"post_id":70468982,"comment_id":124627401,"body_markdown":"The default ORM of Grails is Hibernate ORM.","body":"The default ORM of Grails is Hibernate ORM."}],"answers":[{"tags":[],"owner":{"account_id":15628922,"reputation":1,"user_id":11275747,"display_name":"Dong Yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640685172,"creation_date":1640685102,"answer_id":70505393,"question_id":70468982,"body_markdown":"you can try set validationQuery properties is null, check validationQuery properties is confilct other properties.","title":"How to do an automatic pooled reconnection on an Oracle and a grails project when a database connection is interrupted?","body":"<p>you can try set validationQuery properties is null, check validationQuery properties is confilct other properties.</p>\n"}],"owner":{"account_id":17848922,"reputation":676,"user_id":12965051,"display_name":"Dashzeveg Galbadrakh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640685172,"creation_date":1640312021,"question_id":70468982,"body_markdown":"I have a project that used a grails framework 3.X and Oracle DB, and the project is deployed on tomcat 9.0.X. \r\n\r\nThere is a DB connection problem on the project that the DB connection is interrupted and then the project can&#39;t reconnect with the DB automatically when the connection, firewall or any network configuration between the project and DB has changed; or the settings of the DB have changed or the DB has restarted. Because of that, nowadays, I manually redeploy the project on a tomcat sever when this problem is happening.\r\n\r\nIn order to fix the problem, I tried many changes, but the issue hasn&#39;t disappeared yet. For example, I changed properties of a dataSource configuration on application.yml and tried different versions of OJDBC driver.\r\n\r\nThe interrupted connection can reconnect automatically when I changed the value of &quot;pool&quot; to false from true on application.yml. But, I think that &quot;pool: false&quot; configuration has negative consequences because a DB connection operation is an expensive. For instance, to reach a maximum connection limit, ...\r\n\r\nSo, my question is that how to do an automatic pooled reconnection on an Oracle DB and a grails project when a DB connection is interrupted?\r\n\r\nMy current configuration on application.yml (maybe some properties are changed because of the test):\r\n\r\n    dataSources:\r\n        dataSource:\r\n            pooled: true\r\n            jmxExport: true\r\n            driverClassName: oracle.jdbc.OracleDriver\r\n    \r\n    environments:\r\n        development:\r\n            dataSources:\r\n                dataSource:\r\n                    logSql: false\r\n                    dbCreate: update\r\n                    url: jdbc:oracle:thin:@localdomain:1521/test\r\n                    username: test\r\n                    password: test\r\n                    properties:\r\n                        maxActive: 50\r\n                        maxIdle: 25\r\n                        minIdle: 1\r\n                        initialSize: 5\r\n                        numTestsPerEvictionRun: 3\r\n                        maxWait: 1000\r\n                        testOnBorrow: true\r\n                        testWhileIdle: true\r\n                        testOnReturn: true\r\n                        minEvictableIdleTimeMillis: 1000\r\n                        timeBetweenEvictionRunsMillis: 1000\r\n                        validationQuery: SELECT 1 FROM DUAL\r\n                        validationQueryTimeout: 5\r\n                        validationInterval: 5\r\n                        removeAbandoned: true\r\n                        removeAbandonedTimeout: 5\r\n        production:\r\n            dataSources:\r\n                dataSource:\r\n                    dbCreate: none\r\n                    jndiName: &quot;java:comp/env/testDs&quot;\r\n                    properties:\r\n                        maxActive: 50\r\n                        maxIdle: 25\r\n                        minIdle: 1\r\n                        initialSize: 5\r\n                        numTestsPerEvictionRun: 3\r\n                        maxWait: 1000\r\n                        testOnBorrow: true\r\n                        testWhileIdle: true\r\n                        testOnReturn: true\r\n                        minEvictableIdleTimeMillis: 1000\r\n                        timeBetweenEvictionRunsMillis: 1000\r\n                        validationQuery: SELECT 1 FROM DUAL\r\n                        validationQueryTimeout: 5\r\n                        validationInterval: 5\r\n                        removeAbandoned: true\r\n                        removeAbandonedTimeout: 5\r\n\r\n","title":"How to do an automatic pooled reconnection on an Oracle and a grails project when a database connection is interrupted?","body":"<p>I have a project that used a grails framework 3.X and Oracle DB, and the project is deployed on tomcat 9.0.X.</p>\n<p>There is a DB connection problem on the project that the DB connection is interrupted and then the project can't reconnect with the DB automatically when the connection, firewall or any network configuration between the project and DB has changed; or the settings of the DB have changed or the DB has restarted. Because of that, nowadays, I manually redeploy the project on a tomcat sever when this problem is happening.</p>\n<p>In order to fix the problem, I tried many changes, but the issue hasn't disappeared yet. For example, I changed properties of a dataSource configuration on application.yml and tried different versions of OJDBC driver.</p>\n<p>The interrupted connection can reconnect automatically when I changed the value of &quot;pool&quot; to false from true on application.yml. But, I think that &quot;pool: false&quot; configuration has negative consequences because a DB connection operation is an expensive. For instance, to reach a maximum connection limit, ...</p>\n<p>So, my question is that how to do an automatic pooled reconnection on an Oracle DB and a grails project when a DB connection is interrupted?</p>\n<p>My current configuration on application.yml (maybe some properties are changed because of the test):</p>\n<pre><code>dataSources:\n    dataSource:\n        pooled: true\n        jmxExport: true\n        driverClassName: oracle.jdbc.OracleDriver\n\nenvironments:\n    development:\n        dataSources:\n            dataSource:\n                logSql: false\n                dbCreate: update\n                url: jdbc:oracle:thin:@localdomain:1521/test\n                username: test\n                password: test\n                properties:\n                    maxActive: 50\n                    maxIdle: 25\n                    minIdle: 1\n                    initialSize: 5\n                    numTestsPerEvictionRun: 3\n                    maxWait: 1000\n                    testOnBorrow: true\n                    testWhileIdle: true\n                    testOnReturn: true\n                    minEvictableIdleTimeMillis: 1000\n                    timeBetweenEvictionRunsMillis: 1000\n                    validationQuery: SELECT 1 FROM DUAL\n                    validationQueryTimeout: 5\n                    validationInterval: 5\n                    removeAbandoned: true\n                    removeAbandonedTimeout: 5\n    production:\n        dataSources:\n            dataSource:\n                dbCreate: none\n                jndiName: &quot;java:comp/env/testDs&quot;\n                properties:\n                    maxActive: 50\n                    maxIdle: 25\n                    minIdle: 1\n                    initialSize: 5\n                    numTestsPerEvictionRun: 3\n                    maxWait: 1000\n                    testOnBorrow: true\n                    testWhileIdle: true\n                    testOnReturn: true\n                    minEvictableIdleTimeMillis: 1000\n                    timeBetweenEvictionRunsMillis: 1000\n                    validationQuery: SELECT 1 FROM DUAL\n                    validationQueryTimeout: 5\n                    validationInterval: 5\n                    removeAbandoned: true\n                    removeAbandonedTimeout: 5\n</code></pre>\n"},{"tags":["java","sql","postgresql","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":20468563,"reputation":6500,"user_id":15019536,"display_name":"Meysam Asadi"},"score":0,"creation_date":1640682235,"post_id":70504627,"comment_id":124631113,"body_markdown":"please enter sample data and desired out put","body":"please enter sample data and desired out put"},{"owner":{"account_id":23764467,"reputation":3,"user_id":17779401,"display_name":"jack786"},"score":0,"creation_date":1640682446,"post_id":70504627,"comment_id":124631162,"body_markdown":"table contains 3 records, result (count) output: 9 (each entry is selected 3 times)","body":"table contains 3 records, result (count) output: 9 (each entry is selected 3 times)"},{"owner":{"account_id":20468563,"reputation":6500,"user_id":15019536,"display_name":"Meysam Asadi"},"score":0,"creation_date":1640683371,"post_id":70504627,"comment_id":124631439,"body_markdown":"Why do you use cross join? Can&#39;t answer with a simple select?","body":"Why do you use cross join? Can&#39;t answer with a simple select?"},{"owner":{"account_id":23764467,"reputation":3,"user_id":17779401,"display_name":"jack786"},"score":0,"creation_date":1640683890,"post_id":70504627,"comment_id":124631596,"body_markdown":"I use just select count, but hibernate generate cross join","body":"I use just select count, but hibernate generate cross join"}],"answers":[{"tags":[],"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640684984,"creation_date":1640684984,"answer_id":70505368,"question_id":70504627,"body_markdown":"This is a common mistake when working with Criteria queries. You call `query.from` twice, thus a cross join. Call it once instead:\r\n\r\n    query.select(cb.count(root));","title":"Hibernate generate unnecessary cross join and duplicate results","body":"<p>This is a common mistake when working with Criteria queries. You call <code>query.from</code> twice, thus a cross join. Call it once instead:</p>\n<pre><code>query.select(cb.count(root));\n</code></pre>\n"}],"owner":{"account_id":23764467,"reputation":3,"user_id":17779401,"display_name":"jack786"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70505368,"answer_count":1,"score":0,"last_activity_date":1640684984,"creation_date":1640680946,"question_id":70504627,"body_markdown":"I need to write a dynamic query with spring data jpa and criteria api, but hibernate generate unnecessary cross join and duplicate results.\r\n\r\nEntity class\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n    private String id;\r\n    private String accountId;\r\n    @CreationTimestamp\r\n    private LocalDateTime createdTs;\r\n    @UpdateTimestamp\r\n    private LocalDateTime updatedTs;\r\n\r\nQuery:\r\n\r\n        CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Long&gt; query = cb.createQuery(Long.class);\r\n        Root&lt;FavouriteItemEntity&gt; root = query.from(MyEntity.class);\r\n\r\n        Path&lt;String&gt; accountIdPath = root.get(&quot;accountId&quot;);\r\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n        predicates.add(cb.equal(accountIdPath, accountId));\r\n        query.select(cb.count(query.from(MyEntity.class)));\r\n        query.where(predicates.toArray(new Predicate[0]));\r\n        return entityManager.createQuery(query)\r\n                .getSingleResult();\r\n\r\nHql generate cross join and duplicate results\r\n\r\n    Hibernate: select count(favouritei1_.id) as col_0_0_ from favourite favouritei0_ cross join favourite favouritei1_ where favouritei0_.account_id=?\r\ninstead of\r\n\r\n    Hibernate: select count(f.id) from favourite f where f.account_id = ?\r\n\r\nwhy is this happening?","title":"Hibernate generate unnecessary cross join and duplicate results","body":"<p>I need to write a dynamic query with spring data jpa and criteria api, but hibernate generate unnecessary cross join and duplicate results.</p>\n<p>Entity class</p>\n<pre><code>@Id\n@GeneratedValue(generator = &quot;uuid&quot;)\n@GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\nprivate String id;\nprivate String accountId;\n@CreationTimestamp\nprivate LocalDateTime createdTs;\n@UpdateTimestamp\nprivate LocalDateTime updatedTs;\n</code></pre>\n<p>Query:</p>\n<pre><code>    CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n    CriteriaQuery&lt;Long&gt; query = cb.createQuery(Long.class);\n    Root&lt;FavouriteItemEntity&gt; root = query.from(MyEntity.class);\n\n    Path&lt;String&gt; accountIdPath = root.get(&quot;accountId&quot;);\n    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n    predicates.add(cb.equal(accountIdPath, accountId));\n    query.select(cb.count(query.from(MyEntity.class)));\n    query.where(predicates.toArray(new Predicate[0]));\n    return entityManager.createQuery(query)\n            .getSingleResult();\n</code></pre>\n<p>Hql generate cross join and duplicate results</p>\n<pre><code>Hibernate: select count(favouritei1_.id) as col_0_0_ from favourite favouritei0_ cross join favourite favouritei1_ where favouritei0_.account_id=?\n</code></pre>\n<p>instead of</p>\n<pre><code>Hibernate: select count(f.id) from favourite f where f.account_id = ?\n</code></pre>\n<p>why is this happening?</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1640680540,"creation_date":1640676134,"answer_id":70503897,"question_id":70503806,"body_markdown":"A couple of nested loops does the magic but the dimensions of the `retVal` are different:\r\n```java\r\npublic Object[][] someMagic(Object[] suite, Object[] rank) {\r\n    Object[][] retVal = new Object[suite.length * rank.length][];\r\n    int i = 0;\r\n    for (Object s : suite) {\r\n        for (Object r : rank) {\r\n            retVal[i++] = new Object[]{ r, s };\r\n        }\r\n    }\r\n    return retVal;\r\n}\r\n```\r\nTest:\r\n```java\r\nObject[] suite = {&quot;diamonds&quot;,&quot;hearts&quot;,&quot;clubs&quot;,&quot;spades&quot;};\r\nObject[] rank  = {&quot;J&quot;,&quot;Q&quot;,&quot;K&quot;,&quot;A&quot;};\r\nSystem.out.println(Arrays.deepToString(someMagic(suite, rank)));\r\n```\r\nOutput (not pretty-printed):\r\n&gt; [[J, diamonds], [Q, diamonds], [K, diamonds], [A, diamonds], [J, hearts], [Q, hearts], [K, hearts], [A, hearts], [J, clubs], [Q, clubs], [K, clubs], [A, clubs], [J, spades], [Q, spades], [K, spades], [A, spades]]\r\n----\r\nHowever, the shorter spell may be cast using Stream API and `Stream::flatMap` in particular:\r\n```java\r\npublic static Object[][] someMagic(Object[] suite, Object[] rank) {\r\n    return Arrays.stream(suite)\r\n        .flatMap(s -&gt; Arrays.stream(rank).map(r -&gt; new Object[]{ r, s }))\r\n        .toArray(Object[][]::new);\r\n}\r\n```","title":"java - creating 2D array (matrix) from two 1D arrays","body":"<p>A couple of nested loops does the magic but the dimensions of the <code>retVal</code> are different:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Object[][] someMagic(Object[] suite, Object[] rank) {\n    Object[][] retVal = new Object[suite.length * rank.length][];\n    int i = 0;\n    for (Object s : suite) {\n        for (Object r : rank) {\n            retVal[i++] = new Object[]{ r, s };\n        }\n    }\n    return retVal;\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object[] suite = {&quot;diamonds&quot;,&quot;hearts&quot;,&quot;clubs&quot;,&quot;spades&quot;};\nObject[] rank  = {&quot;J&quot;,&quot;Q&quot;,&quot;K&quot;,&quot;A&quot;};\nSystem.out.println(Arrays.deepToString(someMagic(suite, rank)));\n</code></pre>\n<p>Output (not pretty-printed):</p>\n<blockquote>\n<p>[[J, diamonds], [Q, diamonds], [K, diamonds], [A, diamonds], [J, hearts], [Q, hearts], [K, hearts], [A, hearts], [J, clubs], [Q, clubs], [K, clubs], [A, clubs], [J, spades], [Q, spades], [K, spades], [A, spades]]</p>\n</blockquote>\n<hr />\n<p>However, the shorter spell may be cast using Stream API and <code>Stream::flatMap</code> in particular:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Object[][] someMagic(Object[] suite, Object[] rank) {\n    return Arrays.stream(suite)\n        .flatMap(s -&gt; Arrays.stream(rank).map(r -&gt; new Object[]{ r, s }))\n        .toArray(Object[][]::new);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640684344,"creation_date":1640678784,"answer_id":70504283,"question_id":70503806,"body_markdown":"Maybe this is the solution\r\n```\r\npublic class SomeMagic {\r\n\r\n\tpublic Object[] suite = {&quot;diamonds&quot;,&quot;hearts&quot;,&quot;clubs&quot;,&quot;spades&quot;};\r\n\tpublic Object[] rank  = {&quot;J&quot;,&quot;Q&quot;,&quot;K&quot;,&quot;A&quot;};\r\n\t\r\n\tpublic Object[][] someMagic( Object[] suite, Object[] rank) {\r\n\r\n\t\tObject[][] retVal = new Object[suite.length][rank.length];\r\n\t    \r\n\t    \tfor(int s = 0; s &lt; suite.length; s++) {\r\n\t    \t\tfor(int r = 0; r &lt; rank.length; r++) {\r\n\t\t\t\t\tSystem.out.println(&quot;s: &quot; + s + &quot;, r: &quot; + r +  &quot;, card[s][r]: &quot; + suite[s] + &quot;, &quot; + rank[r]);\r\n\t    \t\t\tretVal[s][r] = new Object[] {suite[s], rank[r]}; \r\n\t    \t\t}\r\n\t    \t}\r\n\r\n\t    return retVal;\r\n\t    \r\n\t} // someMagic\r\n\t\r\n\t\r\n\tpublic void doIt() {\r\n\t\tObject[][] card = someMagic(suite, rank);\r\n\t\t\r\n\t\tfor(int s = 0; s &lt; card.length; s++) {\r\n\t\t\tSystem.out.println(&quot;s: &quot; + s + &quot;-----------------------------&quot;);\r\n\t\t\tfor(int r = 0; r &lt; card[s].length; r++) {\r\n\t\t\t\tObject[] item = (Object[]) card[s][r];\r\n\t\t\t\tSystem.out.println(&quot;s: &quot; + s + &quot;, r: &quot; + r +  &quot;, card[s][r]: &quot; + item[0] + &quot;, &quot; + item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t} // doIt\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSomeMagic self = new SomeMagic();\r\n\t\tself.doIt();\r\n\t}\r\n\t\r\n}\r\n```","title":"java - creating 2D array (matrix) from two 1D arrays","body":"<p>Maybe this is the solution</p>\n<pre><code>public class SomeMagic {\n\n    public Object[] suite = {&quot;diamonds&quot;,&quot;hearts&quot;,&quot;clubs&quot;,&quot;spades&quot;};\n    public Object[] rank  = {&quot;J&quot;,&quot;Q&quot;,&quot;K&quot;,&quot;A&quot;};\n    \n    public Object[][] someMagic( Object[] suite, Object[] rank) {\n\n        Object[][] retVal = new Object[suite.length][rank.length];\n        \n            for(int s = 0; s &lt; suite.length; s++) {\n                for(int r = 0; r &lt; rank.length; r++) {\n                    System.out.println(&quot;s: &quot; + s + &quot;, r: &quot; + r +  &quot;, card[s][r]: &quot; + suite[s] + &quot;, &quot; + rank[r]);\n                    retVal[s][r] = new Object[] {suite[s], rank[r]}; \n                }\n            }\n\n        return retVal;\n        \n    } // someMagic\n    \n    \n    public void doIt() {\n        Object[][] card = someMagic(suite, rank);\n        \n        for(int s = 0; s &lt; card.length; s++) {\n            System.out.println(&quot;s: &quot; + s + &quot;-----------------------------&quot;);\n            for(int r = 0; r &lt; card[s].length; r++) {\n                Object[] item = (Object[]) card[s][r];\n                System.out.println(&quot;s: &quot; + s + &quot;, r: &quot; + r +  &quot;, card[s][r]: &quot; + item[0] + &quot;, &quot; + item[1]);\n            }\n        }\n        \n    } // doIt\n    \n    \n    public static void main(String[] args) {\n        SomeMagic self = new SomeMagic();\n        self.doIt();\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":12150509,"reputation":75,"user_id":8870965,"display_name":"code_warrior"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70503897,"answer_count":2,"score":-2,"last_activity_date":1640684344,"creation_date":1640675346,"question_id":70503806,"body_markdown":"Given\r\n\r\n    public Object[] suite = {&quot;diamonds&quot;,&quot;hearts&quot;,&quot;clubs&quot;,&quot;spades&quot;};\r\n    public Object[] rank  = {&quot;J&quot;,&quot;Q&quot;,&quot;K&quot;,&quot;A&quot;};\r\n\r\nHow do I programmatically achieve:\r\n\r\n    Object[][] card = {{&quot;J&quot;,&quot;diamonds&quot;},{&quot;Q&quot;,&quot;diamonds&quot;},{&quot;K&quot;,&quot;diamonds&quot;},{&quot;A&quot;,&quot;diamonds}\r\n                      ,{&quot;J&quot;,&quot;hearts&quot;},  {&quot;Q&quot;,&quot;hearts&quot;},  {&quot;K&quot;,&quot;hearts&quot;},  {&quot;A&quot;,&quot;hearts&quot;}\r\n                      ,{&quot;J&quot;,&quot;clubs&quot;},   {&quot;Q&quot;,&quot;clubs&quot;},   {&quot;K&quot;,&quot;clubs&quot;},   {&quot;A&quot;,&quot;clubs&quot;}\r\n                      ,{&quot;J&quot;,&quot;spades&quot;},  {&quot;Q&quot;,&quot;spades&quot;},  {&quot;K&quot;,&quot;spades&quot;},  {&quot;A&quot;,&quot;spades&quot;}\r\n                      };\r\n\r\nwith\r\n\r\n    public Object[][] someMagic( Object[] suite, Object[] rank) {\r\n        Object[][] retVal = new Object[suite.length][rank.length]\r\n        // insert magic here\r\n        return retVal;\r\n    }\r\n\r\nYes everything needs to be Object, Object[] or Object[][] due to upstream constraints ie. TestNG @DataProvider.","title":"java - creating 2D array (matrix) from two 1D arrays","body":"<p>Given</p>\n<pre><code>public Object[] suite = {&quot;diamonds&quot;,&quot;hearts&quot;,&quot;clubs&quot;,&quot;spades&quot;};\npublic Object[] rank  = {&quot;J&quot;,&quot;Q&quot;,&quot;K&quot;,&quot;A&quot;};\n</code></pre>\n<p>How do I programmatically achieve:</p>\n<pre><code>Object[][] card = {{&quot;J&quot;,&quot;diamonds&quot;},{&quot;Q&quot;,&quot;diamonds&quot;},{&quot;K&quot;,&quot;diamonds&quot;},{&quot;A&quot;,&quot;diamonds}\n                  ,{&quot;J&quot;,&quot;hearts&quot;},  {&quot;Q&quot;,&quot;hearts&quot;},  {&quot;K&quot;,&quot;hearts&quot;},  {&quot;A&quot;,&quot;hearts&quot;}\n                  ,{&quot;J&quot;,&quot;clubs&quot;},   {&quot;Q&quot;,&quot;clubs&quot;},   {&quot;K&quot;,&quot;clubs&quot;},   {&quot;A&quot;,&quot;clubs&quot;}\n                  ,{&quot;J&quot;,&quot;spades&quot;},  {&quot;Q&quot;,&quot;spades&quot;},  {&quot;K&quot;,&quot;spades&quot;},  {&quot;A&quot;,&quot;spades&quot;}\n                  };\n</code></pre>\n<p>with</p>\n<pre><code>public Object[][] someMagic( Object[] suite, Object[] rank) {\n    Object[][] retVal = new Object[suite.length][rank.length]\n    // insert magic here\n    return retVal;\n}\n</code></pre>\n<p>Yes everything needs to be Object, Object[] or Object[][] due to upstream constraints ie. TestNG @DataProvider.</p>\n"},{"tags":["java","android","ksoap2","android-ksoap2"],"comments":[{"owner":{"account_id":189621,"reputation":39951,"user_id":429063,"display_name":"Chris Stratton"},"score":0,"creation_date":1406644612,"post_id":25017968,"comment_id":38904314,"body_markdown":"No, logcat **does not** require root.  If you are doing your network operation in the background, it **will not** freeze your UI, unless you were unwise enough to have your UI thread wait on the background operation or its result.","body":"No, logcat <b>does not</b> require root.  If you are doing your network operation in the background, it <b>will not</b> freeze your UI, unless you were unwise enough to have your UI thread wait on the background operation or its result."},{"owner":{"account_id":2674098,"reputation":49601,"user_id":2310866,"display_name":"Xaver Kapeller"},"score":0,"creation_date":1406644883,"post_id":25017968,"comment_id":38904515,"body_markdown":"You can view the logcat in your IDE, you don&#39;t need an app for that.","body":"You can view the logcat in your IDE, you don&#39;t need an app for that."}],"answers":[{"tags":[],"owner":{"account_id":2674098,"reputation":49601,"user_id":2310866,"display_name":"Xaver Kapeller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406645330,"creation_date":1406645023,"answer_id":25018183,"question_id":25017968,"body_markdown":"Is it possible you are doing something like this:\r\n\r\n    YourAsyncTask task = new YourAsyncTask();\r\n    WebServiceResult result = task.doInBackground();\r\n\r\nBecause that would be wrong, completely wrong. If you call `doInBackground()` directly it will run in the same `Thread` and not in a new one. You need to start the `AsyncTask` with `execute()` like this:\r\n\r\n    YourAsyncTask task = new YourAsyncTask();\r\n    task.execute();\r\n\r\n---\r\n\r\nYou need to implement the `AsyncTask` like this:\r\n\r\n    public class ExampleTask extends AsyncTask&lt;Void, Void, WebServiceResult&gt; {\r\n\r\n        public interface FinishedListener {\r\n            public void onFinished(WebServiceResult result);\r\n        }\r\n\r\n        private final FinishedListener finishedListener;\r\n\r\n        public ExampleTask(FinishedListener listener) {\r\n            this.finishedListener = listener;\r\n        }\r\n\r\n        @Override\r\n        protected WebServiceResult doInBackground(Void... params) {\r\n            WebServiceResult result = ...;\r\n            return result;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(WebServiceResult result) {\r\n            super.onPostExecute(result);\r\n\r\n            if(this.finishedListener != null) {\r\n                this.finishedListener.onFinished(result);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd if you implemented it that way you can use it like this:\r\n\r\n    ExampleTask task = new ExampleTask(new ExampleTask.FinishedListener() {\r\n        @Override\r\n        public void onFinished(WebServiceResult result) {\r\n            // This will be called if the task has finished\r\n        }\r\n    });\r\n    task.execute();","title":"KSoap2 on Android freezing the device instead of making a webservice call","body":"<p>Is it possible you are doing something like this:</p>\n\n<pre><code>YourAsyncTask task = new YourAsyncTask();\nWebServiceResult result = task.doInBackground();\n</code></pre>\n\n<p>Because that would be wrong, completely wrong. If you call <code>doInBackground()</code> directly it will run in the same <code>Thread</code> and not in a new one. You need to start the <code>AsyncTask</code> with <code>execute()</code> like this:</p>\n\n<pre><code>YourAsyncTask task = new YourAsyncTask();\ntask.execute();\n</code></pre>\n\n<hr>\n\n<p>You need to implement the <code>AsyncTask</code> like this:</p>\n\n<pre><code>public class ExampleTask extends AsyncTask&lt;Void, Void, WebServiceResult&gt; {\n\n    public interface FinishedListener {\n        public void onFinished(WebServiceResult result);\n    }\n\n    private final FinishedListener finishedListener;\n\n    public ExampleTask(FinishedListener listener) {\n        this.finishedListener = listener;\n    }\n\n    @Override\n    protected WebServiceResult doInBackground(Void... params) {\n        WebServiceResult result = ...;\n        return result;\n    }\n\n    @Override\n    protected void onPostExecute(WebServiceResult result) {\n        super.onPostExecute(result);\n\n        if(this.finishedListener != null) {\n            this.finishedListener.onFinished(result);\n        }\n    }\n}\n</code></pre>\n\n<p>And if you implemented it that way you can use it like this:</p>\n\n<pre><code>ExampleTask task = new ExampleTask(new ExampleTask.FinishedListener() {\n    @Override\n    public void onFinished(WebServiceResult result) {\n        // This will be called if the task has finished\n    }\n});\ntask.execute();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4591817,"reputation":21,"user_id":3724893,"display_name":"newa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1407084729,"creation_date":1407084729,"answer_id":25106890,"question_id":25017968,"body_markdown":"It seems that I had declared the **minimum SDK as 14** and **target SDK as 17** in *AndroidManifest.xml*. I didn&#39;t use any fancy things in newer sdk&#39;s so i lowered the target SDK to the same level as minimum SDK, 14. I also had an **Avast! Antivirus** service running on the tablet which i removed.\r\n\r\nThis solved my problem. It could be that probably the Avast! antivirus-program wanted to block all communications from applications not downloaded from Play-store. I don&#39;t know if changing the target SDK had much effect really.","title":"KSoap2 on Android freezing the device instead of making a webservice call","body":"<p>It seems that I had declared the <strong>minimum SDK as 14</strong> and <strong>target SDK as 17</strong> in <em>AndroidManifest.xml</em>. I didn't use any fancy things in newer sdk's so i lowered the target SDK to the same level as minimum SDK, 14. I also had an <strong>Avast! Antivirus</strong> service running on the tablet which i removed.</p>\n\n<p>This solved my problem. It could be that probably the Avast! antivirus-program wanted to block all communications from applications not downloaded from Play-store. I don't know if changing the target SDK had much effect really.</p>\n"},{"tags":[],"owner":{"account_id":23447433,"reputation":1,"user_id":17504043,"display_name":"as as"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640683937,"creation_date":1640683533,"answer_id":70505091,"question_id":25017968,"body_markdown":"Well, I had the same question as you. When it goes to the method `transport.call`, it pauses, and for a while, it throws a timeout problem. At first, I thought maybe the network was poor, but the server logcat shows it is not the problem. The request was fine and the response was good. My business process is like below:\r\n\r\nFirst, I get a list from the server through ksoap inner a child thread, then cycle the list, send a ksoap request based on every item of the list. It means it will send another `list.size()` request. When debugging in a real device the above problems occured. I solved it by starting a new child thread after getting the list and making all the `list.size` requests in the new child thread. So, ksoap use in android may cause thread block which leads to ioexception. So when you put it in a new thread, it escapes from the parent catch exception and works fine.","title":"KSoap2 on Android freezing the device instead of making a webservice call","body":"<p>Well, I had the same question as you. When it goes to the method <code>transport.call</code>, it pauses, and for a while, it throws a timeout problem. At first, I thought maybe the network was poor, but the server logcat shows it is not the problem. The request was fine and the response was good. My business process is like below:</p>\n<p>First, I get a list from the server through ksoap inner a child thread, then cycle the list, send a ksoap request based on every item of the list. It means it will send another <code>list.size()</code> request. When debugging in a real device the above problems occured. I solved it by starting a new child thread after getting the list and making all the <code>list.size</code> requests in the new child thread. So, ksoap use in android may cause thread block which leads to ioexception. So when you put it in a new thread, it escapes from the parent catch exception and works fine.</p>\n"}],"owner":{"account_id":4591817,"reputation":21,"user_id":3724893,"display_name":"newa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":25106890,"answer_count":3,"score":1,"last_activity_date":1640683937,"creation_date":1406644421,"question_id":25017968,"body_markdown":"I&#39;m trying to connect to **.NET 4.0** webservice I created for receiving SOAP-calls from Android-devices, now hosted on **local IIS** for testing purposes.\n\nI found out that **ksoap2** would be an excellent class library for doing what i want to do. Downloaded the .jar package from https://code.google.com/p/ksoap2-android/ and started pounding the keyboard in ecstacy... with my fingers.\n\nThe amount of information being sent is from few kilobytes to few megabytes.\n\n## What is working ##\n\n`HttpTransportSE.call(String, SoapSerializationEnvelope)`-method works perfectly while still in Eclipse&#39;s Android emulator, sending the call to webservice hosted in local IIS. Even tested that the webservice receives empty calls from trying to open the service address from a web browser in the same local area network.\n\n## What doesn&#39;t work ##\n\nWhen I copy the .apk-file to an Android device, install it, start it and trying to make the call, the whole program *freezes* without making the call.\n\nAs you can see from a code block presented some lines after that possible errors are being taken into account: In emulated environment a successful call returns a *SoapPrimitive*-object or flows into the correct *catch block* generating an error message for the user according to the current situation.\n\nThen on live Android device, program loses it&#39;s responsivity forever and has to be terminated from application menu.\n\n## What have i tried ##\n\nI removed the call from the asynchronous method, and tried calling it straight from an anonymous inner function assigned for a button click-event.\n\nTried not trying to get a response, just making the call.\n\nTried getting a logcat-program for the device to see what&#39;s happening behind the UI, found two, they needed root access, which i don&#39;t have in the device. This is why i don&#39;t have any logcats to show you, and showing the emulator logcat would probably(?) be useless because it works fine there.\n\nNot trying to connect to localhost.\n\nTried installing the program on older Lenovo-tablet running *Android 4.2.2* and on brand new Samsung Galaxy Tab, both would have the same problem while otherwise working well.\n\n## The code #\n\nHere&#39;s the asynchronous method for making the call in device/emulator, where variables `str_URL` and `soapRequest` are a correct service address (checked) and a well formed SoapObject respectively:\n\n    @Override\n    protected WebServiceResult doInBackground(Void... v) {\n        WebServiceResult _ret;\n        SoapSerializationEnvelope soapEnvelope= new SoapSerializationEnvelope(SoapEnvelope.VER11);\n        soapEnvelope.dotNet=true;\n        soapEnvelope.setAddAdornments(false);\n        soapEnvelope.setOutputSoapObject(soapRequest);\n        HttpTransportSE conn = new HttpTransportSE(str_URL);\n        conn.setXmlVersionTag(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;utf-8\\&quot;?&gt;&quot;);\n        conn.debug = true;\n        try {\n            conn.call(str_ACTION, soapEnvelope); \n            SoapObject o = (SoapObject)soapEnvelope.getResponse();\n            _ret = new WebServiceResult(o, WebServiceResultEnum.ok);\n        } catch (NetworkOnMainThreadException e) {\n            _ret = new WebServiceResult(null, WebServiceResultEnum.keskeytys);\n        } catch (HttpResponseException e) {\n            _ret = new WebServiceResult(null, WebServiceResultEnum.httpVirhe);\n        } catch (XmlPullParserException e) {\n            _ret = new WebServiceResult(null, WebServiceResultEnum.vaara_muoto);\n        } catch (SocketTimeoutException e) {\n            _ret = new WebServiceResult(null, WebServiceResultEnum.aikakatkaisu);\n        } catch (Exception e) {\n            _ret = new WebServiceResult(null, WebServiceResultEnum.keskeytys);\n        }\n        return _ret;\n    }\n    \nThank you in advance!","title":"KSoap2 on Android freezing the device instead of making a webservice call","body":"<p>I'm trying to connect to <strong>.NET 4.0</strong> webservice I created for receiving SOAP-calls from Android-devices, now hosted on <strong>local IIS</strong> for testing purposes.</p>\n<p>I found out that <strong>ksoap2</strong> would be an excellent class library for doing what i want to do. Downloaded the .jar package from <a href=\"https://code.google.com/p/ksoap2-android/\" rel=\"nofollow noreferrer\">https://code.google.com/p/ksoap2-android/</a> and started pounding the keyboard in ecstacy... with my fingers.</p>\n<p>The amount of information being sent is from few kilobytes to few megabytes.</p>\n<h2>What is working</h2>\n<p><code>HttpTransportSE.call(String, SoapSerializationEnvelope)</code>-method works perfectly while still in Eclipse's Android emulator, sending the call to webservice hosted in local IIS. Even tested that the webservice receives empty calls from trying to open the service address from a web browser in the same local area network.</p>\n<h2>What doesn't work</h2>\n<p>When I copy the .apk-file to an Android device, install it, start it and trying to make the call, the whole program <em>freezes</em> without making the call.</p>\n<p>As you can see from a code block presented some lines after that possible errors are being taken into account: In emulated environment a successful call returns a <em>SoapPrimitive</em>-object or flows into the correct <em>catch block</em> generating an error message for the user according to the current situation.</p>\n<p>Then on live Android device, program loses it's responsivity forever and has to be terminated from application menu.</p>\n<h2>What have i tried</h2>\n<p>I removed the call from the asynchronous method, and tried calling it straight from an anonymous inner function assigned for a button click-event.</p>\n<p>Tried not trying to get a response, just making the call.</p>\n<p>Tried getting a logcat-program for the device to see what's happening behind the UI, found two, they needed root access, which i don't have in the device. This is why i don't have any logcats to show you, and showing the emulator logcat would probably(?) be useless because it works fine there.</p>\n<p>Not trying to connect to localhost.</p>\n<p>Tried installing the program on older Lenovo-tablet running <em>Android 4.2.2</em> and on brand new Samsung Galaxy Tab, both would have the same problem while otherwise working well.</p>\n<h2>The code</h2>\n<p>Here's the asynchronous method for making the call in device/emulator, where variables <code>str_URL</code> and <code>soapRequest</code> are a correct service address (checked) and a well formed SoapObject respectively:</p>\n<pre><code>@Override\nprotected WebServiceResult doInBackground(Void... v) {\n    WebServiceResult _ret;\n    SoapSerializationEnvelope soapEnvelope= new SoapSerializationEnvelope(SoapEnvelope.VER11);\n    soapEnvelope.dotNet=true;\n    soapEnvelope.setAddAdornments(false);\n    soapEnvelope.setOutputSoapObject(soapRequest);\n    HttpTransportSE conn = new HttpTransportSE(str_URL);\n    conn.setXmlVersionTag(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;utf-8\\&quot;?&gt;&quot;);\n    conn.debug = true;\n    try {\n        conn.call(str_ACTION, soapEnvelope); \n        SoapObject o = (SoapObject)soapEnvelope.getResponse();\n        _ret = new WebServiceResult(o, WebServiceResultEnum.ok);\n    } catch (NetworkOnMainThreadException e) {\n        _ret = new WebServiceResult(null, WebServiceResultEnum.keskeytys);\n    } catch (HttpResponseException e) {\n        _ret = new WebServiceResult(null, WebServiceResultEnum.httpVirhe);\n    } catch (XmlPullParserException e) {\n        _ret = new WebServiceResult(null, WebServiceResultEnum.vaara_muoto);\n    } catch (SocketTimeoutException e) {\n        _ret = new WebServiceResult(null, WebServiceResultEnum.aikakatkaisu);\n    } catch (Exception e) {\n        _ret = new WebServiceResult(null, WebServiceResultEnum.keskeytys);\n    }\n    return _ret;\n}\n</code></pre>\n<p>Thank you in advance!</p>\n"},{"tags":["java","logging","grails","log4j","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1640693811,"post_id":70505159,"comment_id":124634498,"body_markdown":"It seems the Springloaded chokes on lambdas. Did you try disabling reloading (e.g. [this question](https://stackoverflow.com/q/35226076/11748454))?","body":"It seems the Springloaded chokes on lambdas. Did you try disabling reloading (e.g. <a href=\"https://stackoverflow.com/q/35226076/11748454\">this question</a>)?"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1640865349,"post_id":70505159,"comment_id":124677898,"body_markdown":"See comments at https://stackoverflow.com/questions/70426705/upgrade-log4j-to-last-version, https://stackoverflow.com/questions/70349898/how-can-we-set-a-higher-version-of-log4j-to-grails-app and https://stackoverflow.com/questions/70323880/is-grails-plugin-log4j-2-5-1-affected-by-cve-2021-44228.","body":"See comments at <a href=\"https://stackoverflow.com/questions/70426705/upgrade-log4j-to-last-version\" title=\"upgrade log4j to last version\">stackoverflow.com/questions/70426705/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/70349898/how-can-we-set-a-higher-version-of-log4j-to-grails-app\" title=\"how can we set a higher version of log4j to grails app\">stackoverflow.com/questions/70349898/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/70323880/is-grails-plugin-log4j-2-5-1-affected-by-cve-2021-44228\" title=\"is grails plugin log4j 2 5 1 affected by cve 2021 44228\">stackoverflow.com/questions/70323880/&hellip;</a>."}],"owner":{"account_id":9202247,"reputation":110,"user_id":6838794,"display_name":"dev-eloper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1043,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1640683846,"creation_date":1640683846,"question_id":70505159,"body_markdown":"I&#39;m upgrading log4j dependency in my *grails 2.5.4* application from *1.2.17* to the latest version *2.17*\r\n\r\nI&#39;ve excluded log4j from the *BuildConfig.groovy* and added the following dependencies pertaining to *v2.17*:\r\n\r\n - log4j-api\r\n - log4j-core\r\n - log4j-1.2-api\r\n - log4j-slf4j-impl\r\n\r\nI&#39;m using the log4-1.x bridge to reduce overall codebase change. When the application boots up, I get the following exception, even though the application boots up completely.\r\n\r\n    Error |\r\n    java.lang.RuntimeException: Reloading agent exited via exception, please raise a jira\r\n    Error |\r\n    \tat org.springsource.loaded.agent.ClassPreProcessorAgentAdapter.transform(ClassPreProcessorAgentAdapter.java:110)\r\n    Error |\r\n    \tat sun.instrument.TransformerManager.transform(TransformerManager.java:188)\r\n    Error |\r\n    \tat sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:428)\r\n    Error |\r\n    \tat sun.misc.Unsafe.defineAnonymousClass(Native Method)\r\n    Error |\r\n    \tat java.lang.invoke.InnerClassLambdaMetafactory.spinInnerClass(InnerClassLambdaMetafactory.java:326)\r\n    Error |\r\n    \tat java.lang.invoke.InnerClassLambdaMetafactory.buildCallSite(InnerClassLambdaMetafactory.java:194)\r\n    Error |\r\n    \tat java.lang.invoke.LambdaMetafactory.metafactory(LambdaMetafactory.java:304)\r\n    Error |\r\n    \tat java.lang.invoke.CallSite.makeSite(CallSite.java:302)\r\n    Error |\r\n    \tat java.lang.invoke.MethodHandleNatives.linkCallSiteImpl(MethodHandleNatives.java:307)\r\n    Error |\r\n    \tat java.lang.invoke.MethodHandleNatives.linkCallSite(MethodHandleNatives.java:297)\r\n    Error |\r\n    \tat org.apache.logging.log4j.util.PropertiesUtil$Environment.&lt;init&gt;(PropertiesUtil.java:430)\r\n    Error |\r\n    \tat org.apache.logging.log4j.util.PropertiesUtil$Environment.&lt;init&gt;(PropertiesUtil.java:420)\r\n    Error |\r\n    \tat org.apache.logging.log4j.util.PropertiesUtil.&lt;init&gt;(PropertiesUtil.java:74)\r\n    Error |\r\n    \tat org.apache.logging.log4j.util.PropertiesUtil.&lt;clinit&gt;(PropertiesUtil.java:54)\r\n    Error |\r\n    \tat org.apache.logging.log4j.util.Constants.&lt;clinit&gt;(Constants.java:30)\r\n    Error |\r\n    \tat org.apache.logging.log4j.spi.AbstractLogger.createClassForProperty(AbstractLogger.java:207)\r\n    Error |\r\n    \tat org.apache.logging.log4j.spi.AbstractLogger.&lt;clinit&gt;(AbstractLogger.java:95)\r\n    Error |\r\n    \tat org.apache.logging.slf4j.Log4jLoggerFactory.&lt;clinit&gt;(Log4jLoggerFactory.java:35)\r\n    Error |\r\n    \tat org.slf4j.impl.StaticLoggerBinder.&lt;init&gt;(StaticLoggerBinder.java:53)\r\n    Error |\r\n    \tat org.slf4j.impl.StaticLoggerBinder.&lt;clinit&gt;(StaticLoggerBinder.java:41)\r\n    Error |\r\n    \tat org.slf4j.LoggerFactory.bind(LoggerFactory.java:128)\r\n    Error |\r\n    \tat org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:107)\r\n    Error |\r\n    \tat org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:295)\r\n    Error |\r\n    \tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:269)\r\n    Error |\r\n    \tat org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:156)\r\n    Error |\r\n    \tat org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:132)\r\n    Error |\r\n    \tat org.apache.commons.logging.LogFactory.getLog(LogFactory.java:274)\r\n    Error |\r\n    \tat org.codehaus.groovy.grails.io.support.PathMatchingResourcePatternResolver.&lt;clinit&gt;(PathMatchingResourcePatternResolver.java:151)\r\n    Error |\r\n    \tat org.codehaus.groovy.grails.cli.GrailsScriptRunner.getAvailableScripts(GrailsScriptRunner.java:824)\r\n    Error |\r\n    \tat org.codehaus.groovy.grails.cli.GrailsScriptRunner.executeScriptWithCaching(GrailsScriptRunner.java:427)\r\n    Error |\r\n    \tat org.codehaus.groovy.grails.cli.GrailsScriptRunner.callPluginOrGrailsScript(GrailsScriptRunner.java:414)\r\n    Error |\r\n    \tat org.codehaus.groovy.grails.cli.GrailsScriptRunner.executeCommand(GrailsScriptRunner.java:378)\r\n    Error |\r\n    \tat org.codehaus.groovy.grails.cli.GrailsScriptRunner.main(GrailsScriptRunner.java:226)\r\n    Error |\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    Error |\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    Error |\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    Error |\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    Error |\r\n    \tat org.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke(ReflectiveInterceptor.java:1426)\r\n    Error |\r\n    \tat org.codehaus.groovy.grails.cli.support.GrailsStarter.rootLoader(GrailsStarter.java:236)\r\n    Error |\r\n    \tat org.codehaus.groovy.grails.cli.support.GrailsStarter.main(GrailsStarter.java:264)\r\n    Error |\r\n    Caused by: java.lang.NullPointerException\r\n    Error |\r\n    \tat org.springsource.loaded.SystemPropertyConfiguredIsReloadableTypePlugin.shouldBeMadeReloadable(SystemPropertyConfiguredIsReloadableTypePlugin.java:121)\r\n    Error |\r\n    \tat org.springsource.loaded.TypeRegistry.isReloadableTypeName(TypeRegistry.java:858)\r\n    Error |\r\n    \tat org.springsource.loaded.agent.SpringLoadedPreProcessor.preProcess(SpringLoadedPreProcessor.java:192)\r\n    Error |\r\n    \tat org.springsource.loaded.agent.ClassPreProcessorAgentAdapter.transform(ClassPreProcessorAgentAdapter.java:107)\r\n    Error |\r\n    \t... 39 more\r\n\r\n\r\nI further observed that the application is using the default logging configuration which includes: \r\n\r\n    org.hibernate.engine.internal.StatisticalLoggingSessionEventListener end\r\n    INFO: Session Metrics\r\n\r\n\r\nI&#39;ve configured both *log4j.properties* and *log4j2.properties* file but still it&#39;s not reading any of them.\r\n\r\n\r\nCould someone please help me to understand where I&#39;m going wrong.","title":"Upgrade log4j1.2.x to log4j2.17 in Grails 2.5.4","body":"<p>I'm upgrading log4j dependency in my <em>grails 2.5.4</em> application from <em>1.2.17</em> to the latest version <em>2.17</em></p>\n<p>I've excluded log4j from the <em>BuildConfig.groovy</em> and added the following dependencies pertaining to <em>v2.17</em>:</p>\n<ul>\n<li>log4j-api</li>\n<li>log4j-core</li>\n<li>log4j-1.2-api</li>\n<li>log4j-slf4j-impl</li>\n</ul>\n<p>I'm using the log4-1.x bridge to reduce overall codebase change. When the application boots up, I get the following exception, even though the application boots up completely.</p>\n<pre><code>Error |\njava.lang.RuntimeException: Reloading agent exited via exception, please raise a jira\nError |\n    at org.springsource.loaded.agent.ClassPreProcessorAgentAdapter.transform(ClassPreProcessorAgentAdapter.java:110)\nError |\n    at sun.instrument.TransformerManager.transform(TransformerManager.java:188)\nError |\n    at sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:428)\nError |\n    at sun.misc.Unsafe.defineAnonymousClass(Native Method)\nError |\n    at java.lang.invoke.InnerClassLambdaMetafactory.spinInnerClass(InnerClassLambdaMetafactory.java:326)\nError |\n    at java.lang.invoke.InnerClassLambdaMetafactory.buildCallSite(InnerClassLambdaMetafactory.java:194)\nError |\n    at java.lang.invoke.LambdaMetafactory.metafactory(LambdaMetafactory.java:304)\nError |\n    at java.lang.invoke.CallSite.makeSite(CallSite.java:302)\nError |\n    at java.lang.invoke.MethodHandleNatives.linkCallSiteImpl(MethodHandleNatives.java:307)\nError |\n    at java.lang.invoke.MethodHandleNatives.linkCallSite(MethodHandleNatives.java:297)\nError |\n    at org.apache.logging.log4j.util.PropertiesUtil$Environment.&lt;init&gt;(PropertiesUtil.java:430)\nError |\n    at org.apache.logging.log4j.util.PropertiesUtil$Environment.&lt;init&gt;(PropertiesUtil.java:420)\nError |\n    at org.apache.logging.log4j.util.PropertiesUtil.&lt;init&gt;(PropertiesUtil.java:74)\nError |\n    at org.apache.logging.log4j.util.PropertiesUtil.&lt;clinit&gt;(PropertiesUtil.java:54)\nError |\n    at org.apache.logging.log4j.util.Constants.&lt;clinit&gt;(Constants.java:30)\nError |\n    at org.apache.logging.log4j.spi.AbstractLogger.createClassForProperty(AbstractLogger.java:207)\nError |\n    at org.apache.logging.log4j.spi.AbstractLogger.&lt;clinit&gt;(AbstractLogger.java:95)\nError |\n    at org.apache.logging.slf4j.Log4jLoggerFactory.&lt;clinit&gt;(Log4jLoggerFactory.java:35)\nError |\n    at org.slf4j.impl.StaticLoggerBinder.&lt;init&gt;(StaticLoggerBinder.java:53)\nError |\n    at org.slf4j.impl.StaticLoggerBinder.&lt;clinit&gt;(StaticLoggerBinder.java:41)\nError |\n    at org.slf4j.LoggerFactory.bind(LoggerFactory.java:128)\nError |\n    at org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:107)\nError |\n    at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:295)\nError |\n    at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:269)\nError |\n    at org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:156)\nError |\n    at org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:132)\nError |\n    at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:274)\nError |\n    at org.codehaus.groovy.grails.io.support.PathMatchingResourcePatternResolver.&lt;clinit&gt;(PathMatchingResourcePatternResolver.java:151)\nError |\n    at org.codehaus.groovy.grails.cli.GrailsScriptRunner.getAvailableScripts(GrailsScriptRunner.java:824)\nError |\n    at org.codehaus.groovy.grails.cli.GrailsScriptRunner.executeScriptWithCaching(GrailsScriptRunner.java:427)\nError |\n    at org.codehaus.groovy.grails.cli.GrailsScriptRunner.callPluginOrGrailsScript(GrailsScriptRunner.java:414)\nError |\n    at org.codehaus.groovy.grails.cli.GrailsScriptRunner.executeCommand(GrailsScriptRunner.java:378)\nError |\n    at org.codehaus.groovy.grails.cli.GrailsScriptRunner.main(GrailsScriptRunner.java:226)\nError |\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nError |\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nError |\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nError |\n    at java.lang.reflect.Method.invoke(Method.java:498)\nError |\n    at org.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke(ReflectiveInterceptor.java:1426)\nError |\n    at org.codehaus.groovy.grails.cli.support.GrailsStarter.rootLoader(GrailsStarter.java:236)\nError |\n    at org.codehaus.groovy.grails.cli.support.GrailsStarter.main(GrailsStarter.java:264)\nError |\nCaused by: java.lang.NullPointerException\nError |\n    at org.springsource.loaded.SystemPropertyConfiguredIsReloadableTypePlugin.shouldBeMadeReloadable(SystemPropertyConfiguredIsReloadableTypePlugin.java:121)\nError |\n    at org.springsource.loaded.TypeRegistry.isReloadableTypeName(TypeRegistry.java:858)\nError |\n    at org.springsource.loaded.agent.SpringLoadedPreProcessor.preProcess(SpringLoadedPreProcessor.java:192)\nError |\n    at org.springsource.loaded.agent.ClassPreProcessorAgentAdapter.transform(ClassPreProcessorAgentAdapter.java:107)\nError |\n    ... 39 more\n</code></pre>\n<p>I further observed that the application is using the default logging configuration which includes:</p>\n<pre><code>org.hibernate.engine.internal.StatisticalLoggingSessionEventListener end\nINFO: Session Metrics\n</code></pre>\n<p>I've configured both <em>log4j.properties</em> and <em>log4j2.properties</em> file but still it's not reading any of them.</p>\n<p>Could someone please help me to understand where I'm going wrong.</p>\n"},{"tags":["java","swing","keyboard-shortcuts","jbutton","global-hotkey"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1640684065,"post_id":70505124,"comment_id":124631653,"body_markdown":"What operating system is running on your friend&#39;s laptop?","body":"What operating system is running on your friend&#39;s laptop?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1640688922,"post_id":70505124,"comment_id":124633069,"body_markdown":"If you are referring to this [JIntellitype](https://github.com/melloware/jintellitype) the that Web page states that _This library ONLY works on Windows._ So is your friend&#39;s laptop running Windows? By the way, is there a reason why you aren&#39;t using [key bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html)?","body":"If you are referring to this <a href=\"https://github.com/melloware/jintellitype\" rel=\"nofollow noreferrer\">JIntellitype</a> the that Web page states that <i>This library ONLY works on Windows.</i> So is your friend&#39;s laptop running Windows? By the way, is there a reason why you aren&#39;t using <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings</a>?"},{"owner":{"account_id":18473635,"reputation":23,"user_id":13457806,"display_name":"sreekar reddy"},"score":0,"creation_date":1640691258,"post_id":70505124,"comment_id":124633698,"body_markdown":"Yes we both are using windows 10 OS","body":"Yes we both are using windows 10 OS"},{"owner":{"account_id":18473635,"reputation":23,"user_id":13457806,"display_name":"sreekar reddy"},"score":0,"creation_date":1640691390,"post_id":70505124,"comment_id":124633736,"body_markdown":"I am Not using Key Bindings because it requires the application to be in focus, I want to trigger Button actions even when this application is minimised or while running in background","body":"I am Not using Key Bindings because it requires the application to be in focus, I want to trigger Button actions even when this application is minimised or while running in background"}],"owner":{"account_id":18473635,"reputation":23,"user_id":13457806,"display_name":"sreekar reddy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640683718,"creation_date":1640683718,"question_id":70505124,"body_markdown":"I am developing a java swing application that performs different actions when buttons are pressed.\r\nFor each of the buttons in the application I have configured and unique global hotkey (System Level) for example ALT+C stands for &quot;Clear&quot; This will clear the text entered in a textbox. Later I have exported my code as an executable file with all dependent jars. The Hotkeys declared works fine when running the application on my device. But, when I tried to run the same application on my friend&#39;s laptop hotkeys are not working.\r\n\r\n    import com.melloware.jintellitype.HotkeyListener;\r\n    import com.melloware.jintellitype.JIntellitype;\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.border.Border;\r\n    import java.awt.*;\r\n    import java.awt.Dimension;\r\n    import java.awt.datatransfer.DataFlavor;\r\n    import java.awt.datatransfer.UnsupportedFlavorException;\r\n    import java.awt.event.*;\r\n    import java.io.*;\r\n    import java.security.PublicKey;\r\n    import java.util.*;\r\n    import java.util.List;\r\n    import java.util.logging.Handler;\r\n\r\n    public class test_demo implements ActionListener {\r\n        JTextField text_box;\r\n        JButton Clear_btn;\r\n        public static final int Clearbox = 1;\r\n        public test_demo(){\r\n            JFrame.setDefaultLookAndFeelDecorated(true);\r\n            JFrame frame = new JFrame();\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setTitle(&quot;TEST&quot;);\r\n            frame.setLayout(new GridLayout(2, 1));\r\n            text_box = new JTextField();\r\n            text_box.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 20));\r\n            frame.add(text_box);\r\n            Clear_btn = new JButton(&quot;Clear&quot;);\r\n            Clear_btn.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 20));\r\n            Clear_btn.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    Clear_box();\r\n                }\r\n            });\r\n            frame.add(Clear_btn);\r\n            int frameWidth = 400;\r\n            int frameHeight = 250;\r\n            Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n            frame.setBounds((int) screenSize.getWidth() - frameWidth, 0, frameWidth, frameHeight);\r\n            frame.setVisible(true);\r\n            JIntellitype.getInstance().registerHotKey(Clearbox, JIntellitype.MOD_ALT, (int) &#39;C&#39;);\r\n            JIntellitype.getInstance().addHotKeyListener(new HotkeyListener() {\r\n                @Override\r\n                public void onHotKey(int markcode) {\r\n                    switch (markcode){\r\n                        case Clearbox:\r\n                            Clear_box();\r\n                            break;\r\n                    }\r\n               }\r\n            });\r\n        }\r\n        public static void main(String args[]){\r\n            new test_demo();\r\n        }\r\n        public void Clear_box(){\r\n            text_box.setText(null);\r\n        }\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            if(e.getSource()==Clear_btn) {\r\n                Clear_box();\r\n            }}\r\n    }","title":"Jintellitype Hotkey Declared and configured while developing application code is not working in final .exe file in another device","body":"<p>I am developing a java swing application that performs different actions when buttons are pressed.\nFor each of the buttons in the application I have configured and unique global hotkey (System Level) for example ALT+C stands for &quot;Clear&quot; This will clear the text entered in a textbox. Later I have exported my code as an executable file with all dependent jars. The Hotkeys declared works fine when running the application on my device. But, when I tried to run the same application on my friend's laptop hotkeys are not working.</p>\n<pre><code>import com.melloware.jintellitype.HotkeyListener;\nimport com.melloware.jintellitype.JIntellitype;\n\nimport javax.swing.*;\nimport javax.swing.border.Border;\nimport java.awt.*;\nimport java.awt.Dimension;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.UnsupportedFlavorException;\nimport java.awt.event.*;\nimport java.io.*;\nimport java.security.PublicKey;\nimport java.util.*;\nimport java.util.List;\nimport java.util.logging.Handler;\n\npublic class test_demo implements ActionListener {\n    JTextField text_box;\n    JButton Clear_btn;\n    public static final int Clearbox = 1;\n    public test_demo(){\n        JFrame.setDefaultLookAndFeelDecorated(true);\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setTitle(&quot;TEST&quot;);\n        frame.setLayout(new GridLayout(2, 1));\n        text_box = new JTextField();\n        text_box.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 20));\n        frame.add(text_box);\n        Clear_btn = new JButton(&quot;Clear&quot;);\n        Clear_btn.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 20));\n        Clear_btn.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                Clear_box();\n            }\n        });\n        frame.add(Clear_btn);\n        int frameWidth = 400;\n        int frameHeight = 250;\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n        frame.setBounds((int) screenSize.getWidth() - frameWidth, 0, frameWidth, frameHeight);\n        frame.setVisible(true);\n        JIntellitype.getInstance().registerHotKey(Clearbox, JIntellitype.MOD_ALT, (int) 'C');\n        JIntellitype.getInstance().addHotKeyListener(new HotkeyListener() {\n            @Override\n            public void onHotKey(int markcode) {\n                switch (markcode){\n                    case Clearbox:\n                        Clear_box();\n                        break;\n                }\n           }\n        });\n    }\n    public static void main(String args[]){\n        new test_demo();\n    }\n    public void Clear_box(){\n        text_box.setText(null);\n    }\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if(e.getSource()==Clear_btn) {\n            Clear_box();\n        }}\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"owner":{"account_id":23600769,"reputation":366,"user_id":17637282,"display_name":"Dev007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640683554,"creation_date":1640681947,"question_id":70504806,"body_markdown":"I try create list of checkbox from Map but I get error.  Do you know what I&#39;m doing wrong?\r\n\r\nController\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String index(Model model) {\r\n        model.addAttribute(&quot;userConfig&quot;, new UserConfig());\r\n        return &quot;home&quot;;\r\n    } \r\n\r\n\r\n\r\n\r\nMy class UserConfig\r\n\r\n    @Component public class UserConfig {\r\n    \r\n    private Map&lt;String, Boolean&gt; isEnableMap = new HashMap&lt;&gt;();\r\n    \r\n    public UserConfig(){\r\n        isEnableMap.put(EnableProcess.MONTHLY_TIME_UPDATE.getTitle(), true);\r\n        isEnableMap.put(EnableProcess.SUM.getTitle(), true);\r\n        isEnableMap.put(EnableProcess.HIDE_COLUMNS.getTitle(), true);\r\n    }\r\n    \r\n    public UserConfig(Map&lt;String, Boolean&gt; isEnableMap) {\r\n        this.isEnableMap = isEnableMap;\r\n    }\r\n    \r\n    public Map&lt;String, Boolean&gt; getIsEnableMap() {\r\n        return isEnableMap;\r\n    }\r\n    \r\n    public void setIsEnableMap(Map&lt;String, Boolean&gt; isEnableMap) {\r\n        this.isEnableMap = isEnableMap;\r\n    }\r\n    \r\n\r\n\r\nThis is my home.html snippet\r\n\r\n\r\n\r\n    \r\n    \r\n                &lt;form class=&quot;form-horizontal&quot; th:action=&quot;@{/file/uploadFile}&quot; enctype=&quot;multipart/form-data&quot; method=&quot;POST&quot;\r\n            /&gt;\r\n            &lt;div class=&quot;form-group&quot;&gt;\r\n                &lt;input class=&quot;btn-form&quot; id=&quot;file&quot; name=&quot;file&quot; type=&quot;file&quot; required/&gt;\r\n                &lt;input class=&quot;btn btn-primary&quot; type=&quot;submit&quot; value=&quot;Upload&quot;/&gt;\r\n                &lt;p&gt;\r\n                &lt;!--/*@thymesVar id=&quot;monthlyTimeUpdate&quot; \r\n    \r\n    type=&quot;mypacked.service.UserConfig&quot;*/--&gt;\r\n    &lt;!--                &lt;input type=&quot;checkbox&quot; th:field=&quot;${userConfig.monthlyTimeUpdate}&quot;/&gt; Update monthly time&lt;/p&gt;--&gt;\r\n                &lt;!--/*@thymesVar id=&quot;errorMessageNoFound&quot; type=&quot;&quot;*/--&gt;\r\n                &lt;span th:if=&quot;${errorMessageNoFound}&quot; th:text=&quot;${errorMessageNoFound}&quot;/&gt;\r\n                &lt;p th:each=&quot;item : ${userConfig.isEnableMap}&quot;&gt;\r\n                &lt;input type=&quot;checkbox&quot; th:field=&quot;*{item.key}&quot; th:value=&quot;${item.value}&quot;/&gt;\r\n                &lt;/p&gt;\r\n            &lt;/div&gt;\r\n    \r\n            &lt;/form&gt;\r\n\r\n\r\n\r\n\r\nLine 37   \r\n\r\n    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{item.key}&quot; th:value=&quot;${item.value}&quot;/&gt;\r\n                    &lt;/p&gt;\r\n\r\n\r\n\r\n&gt; &gt; ERROR 20457 --- [nio-8080-exec-1] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-1] Exception processing template\r\n&gt; &quot;home&quot;: Error during execution of processor\r\n&gt; &#39;org.thymeleaf.spring5.processor.SpringInputCheckboxFieldTagProcessor&#39;\r\n&gt; (template: &quot;home&quot; - line 37, col 40)\r\n&gt; \r\n&gt; org.thymeleaf.exceptions.TemplateProcessingException: Error during\r\n&gt; execution of processor\r\n&gt; &#39;org.thymeleaf.spring5.processor.SpringInputCheckboxFieldTagProcessor&#39;\r\n&gt; (template: &quot;home&quot; - line 37, col 40) \tat\r\n&gt; org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\r\n&gt; ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\r\n&gt; ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\r\n&gt; ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918)\r\n&gt; ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.engine.StandaloneElementTag.beHandled(StandaloneElementTag.java:228)\r\n&gt; ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.engine.Model.process(Model.java:282)\r\n&gt; ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.engine.Model.process(Model.java:290)\r\n&gt; ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367)\r\n&gt; ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221)\r\n&gt; ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)\r\n&gt; ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.engine.CloseElementTag.beHandled(CloseElementTag.java:139)\r\n&gt; ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136)\r\n&gt; ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:661)\r\n&gt; ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\r\n&gt; ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\r\n&gt; ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\r\n&gt; ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\r\n&gt; ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1400)\r\n&gt; ~[spring-webmvc-5.3.13.jar:5.3.13] \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\r\n&gt; ~[spring-webmvc-5.3.13.jar:5.3.13] \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\r\n&gt; ~[spring-webmvc-5.3.13.jar:5.3.13] \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n&gt; ~[spring-webmvc-5.3.13.jar:5.3.13] \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n&gt; ~[spring-webmvc-5.3.13.jar:5.3.13] \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n&gt; ~[spring-webmvc-5.3.13.jar:5.3.13] \tat\r\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:4.0.FR] \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n&gt; ~[spring-webmvc-5.3.13.jar:5.3.13] \tat\r\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:4.0.FR] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n&gt; ~[tomcat-embed-websocket-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n&gt; ~[spring-web-5.3.13.jar:5.3.13] \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n&gt; ~[spring-web-5.3.13.jar:5.3.13] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n&gt; ~[spring-web-5.3.13.jar:5.3.13] \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n&gt; ~[spring-web-5.3.13.jar:5.3.13] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n&gt; ~[spring-web-5.3.13.jar:5.3.13] \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n&gt; ~[spring-web-5.3.13.jar:5.3.13] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n&gt; ~[tomcat-embed-core-9.0.55.jar:9.0.55] \tat\r\n&gt; java.base/java.lang.Thread.run(Thread.java:829) ~[na:na] Caused by:\r\n&gt; java.lang.IllegalStateException: Neither BindingResult nor plain\r\n&gt; target object for bean name &#39;item&#39; available as request attribute \tat\r\n&gt; org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153)\r\n&gt; ~[spring-webmvc-5.3.13.jar:5.3.13] \tat\r\n&gt; org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:903)\r\n&gt; ~[spring-webmvc-5.3.13.jar:5.3.13] \tat\r\n&gt; org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227)\r\n&gt; ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306)\r\n&gt; ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253)\r\n&gt; ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227)\r\n&gt; ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.spring5.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174)\r\n&gt; ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE] \tat\r\n&gt; org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\r\n&gt; ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\r\n\r\n\r\nit works but chexbox no :\r\n\r\n                  &lt;p th:each=&quot;item : ${userConfig.isEnableMap}&quot;&gt;\r\n                &lt;span th:text=&quot;*{item.key}&quot;&gt;&lt;/span&gt;\r\n                &lt;span th:text=&quot;*{item.value}&quot;&gt;&lt;/span&gt;\r\n\r\n \r\n\r\n","title":"Create checkbox from map in Thymeleaf. SpringInputCheckboxFieldTagProcessor","body":"<p>I try create list of checkbox from Map but I get error.  Do you know what I'm doing wrong?</p>\n<p>Controller</p>\n<pre><code>@GetMapping(&quot;/&quot;)\npublic String index(Model model) {\n    model.addAttribute(&quot;userConfig&quot;, new UserConfig());\n    return &quot;home&quot;;\n} \n</code></pre>\n<p>My class UserConfig</p>\n<pre><code>@Component public class UserConfig {\n\nprivate Map&lt;String, Boolean&gt; isEnableMap = new HashMap&lt;&gt;();\n\npublic UserConfig(){\n    isEnableMap.put(EnableProcess.MONTHLY_TIME_UPDATE.getTitle(), true);\n    isEnableMap.put(EnableProcess.SUM.getTitle(), true);\n    isEnableMap.put(EnableProcess.HIDE_COLUMNS.getTitle(), true);\n}\n\npublic UserConfig(Map&lt;String, Boolean&gt; isEnableMap) {\n    this.isEnableMap = isEnableMap;\n}\n\npublic Map&lt;String, Boolean&gt; getIsEnableMap() {\n    return isEnableMap;\n}\n\npublic void setIsEnableMap(Map&lt;String, Boolean&gt; isEnableMap) {\n    this.isEnableMap = isEnableMap;\n}\n</code></pre>\n<p>This is my home.html snippet</p>\n<pre><code>            &lt;form class=&quot;form-horizontal&quot; th:action=&quot;@{/file/uploadFile}&quot; enctype=&quot;multipart/form-data&quot; method=&quot;POST&quot;\n        /&gt;\n        &lt;div class=&quot;form-group&quot;&gt;\n            &lt;input class=&quot;btn-form&quot; id=&quot;file&quot; name=&quot;file&quot; type=&quot;file&quot; required/&gt;\n            &lt;input class=&quot;btn btn-primary&quot; type=&quot;submit&quot; value=&quot;Upload&quot;/&gt;\n            &lt;p&gt;\n            &lt;!--/*@thymesVar id=&quot;monthlyTimeUpdate&quot; \n\ntype=&quot;mypacked.service.UserConfig&quot;*/--&gt;\n&lt;!--                &lt;input type=&quot;checkbox&quot; th:field=&quot;${userConfig.monthlyTimeUpdate}&quot;/&gt; Update monthly time&lt;/p&gt;--&gt;\n            &lt;!--/*@thymesVar id=&quot;errorMessageNoFound&quot; type=&quot;&quot;*/--&gt;\n            &lt;span th:if=&quot;${errorMessageNoFound}&quot; th:text=&quot;${errorMessageNoFound}&quot;/&gt;\n            &lt;p th:each=&quot;item : ${userConfig.isEnableMap}&quot;&gt;\n            &lt;input type=&quot;checkbox&quot; th:field=&quot;*{item.key}&quot; th:value=&quot;${item.value}&quot;/&gt;\n            &lt;/p&gt;\n        &lt;/div&gt;\n\n        &lt;/form&gt;\n</code></pre>\n<p>Line 37</p>\n<pre><code>&lt;input type=&quot;checkbox&quot; th:field=&quot;*{item.key}&quot; th:value=&quot;${item.value}&quot;/&gt;\n                &lt;/p&gt;\n</code></pre>\n<blockquote>\n<blockquote>\n<p>ERROR 20457 --- [nio-8080-exec-1] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-1] Exception processing template\n&quot;home&quot;: Error during execution of processor\n'org.thymeleaf.spring5.processor.SpringInputCheckboxFieldTagProcessor'\n(template: &quot;home&quot; - line 37, col 40)</p>\n</blockquote>\n<p>org.thymeleaf.exceptions.TemplateProcessingException: Error during\nexecution of processor\n'org.thymeleaf.spring5.processor.SpringInputCheckboxFieldTagProcessor'\n(template: &quot;home&quot; - line 37, col 40)  at\norg.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\n~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\n~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\n~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918)\n~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.engine.StandaloneElementTag.beHandled(StandaloneElementTag.java:228)\n~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.engine.Model.process(Model.java:282)\n~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.engine.Model.process(Model.java:290)\n~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367)\n~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221)\n~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)\n~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.engine.CloseElementTag.beHandled(CloseElementTag.java:139)\n~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.engine.TemplateModel.process(TemplateModel.java:136)\n~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:661)\n~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\n~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\n~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\n~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\n~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1400)\n~[spring-webmvc-5.3.13.jar:5.3.13]    at\norg.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\n~[spring-webmvc-5.3.13.jar:5.3.13]    at\norg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\n~[spring-webmvc-5.3.13.jar:5.3.13]    at\norg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n~[spring-webmvc-5.3.13.jar:5.3.13]    at\norg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n~[spring-webmvc-5.3.13.jar:5.3.13]    at\norg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n~[spring-webmvc-5.3.13.jar:5.3.13]    at\njavax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n~[tomcat-embed-core-9.0.55.jar:4.0.FR]    at\norg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n~[spring-webmvc-5.3.13.jar:5.3.13]    at\njavax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n~[tomcat-embed-core-9.0.55.jar:4.0.FR]    at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n~[tomcat-embed-websocket-9.0.55.jar:9.0.55]   at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n~[spring-web-5.3.13.jar:5.3.13]   at\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n~[spring-web-5.3.13.jar:5.3.13]   at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n~[spring-web-5.3.13.jar:5.3.13]   at\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n~[spring-web-5.3.13.jar:5.3.13]   at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n~[spring-web-5.3.13.jar:5.3.13]   at\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n~[spring-web-5.3.13.jar:5.3.13]   at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n~[tomcat-embed-core-9.0.55.jar:9.0.55]    at\njava.base/java.lang.Thread.run(Thread.java:829) ~[na:na] Caused by:\njava.lang.IllegalStateException: Neither BindingResult nor plain\ntarget object for bean name 'item' available as request attribute     at\norg.springframework.web.servlet.support.BindStatus.(BindStatus.java:153)\n~[spring-webmvc-5.3.13.jar:5.3.13]    at\norg.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:903)\n~[spring-webmvc-5.3.13.jar:5.3.13]    at\norg.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227)\n~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306)\n~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253)\n~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227)\n~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.spring5.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174)\n~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]    at\norg.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\n~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]</p>\n</blockquote>\n<p>it works but chexbox no :</p>\n<pre><code>              &lt;p th:each=&quot;item : ${userConfig.isEnableMap}&quot;&gt;\n            &lt;span th:text=&quot;*{item.key}&quot;&gt;&lt;/span&gt;\n            &lt;span th:text=&quot;*{item.value}&quot;&gt;&lt;/span&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","mqtt","message"],"comments":[{"owner":{"account_id":9074935,"reputation":1264,"user_id":6756858,"display_name":"ata"},"score":0,"creation_date":1640606770,"post_id":70495247,"comment_id":124614135,"body_markdown":"What is the Object type of the `message` ?","body":"What is the Object type of the <code>message</code> ?"},{"owner":{"account_id":9074935,"reputation":1264,"user_id":6756858,"display_name":"ata"},"score":0,"creation_date":1640606790,"post_id":70495247,"comment_id":124614141,"body_markdown":"And what library are you using.","body":"And what library are you using."},{"owner":{"account_id":7659035,"reputation":58,"user_id":5804899,"display_name":"Rajnish"},"score":0,"creation_date":1640607393,"post_id":70495247,"comment_id":124614308,"body_markdown":"public uploadReading(Message&lt;?&gt; message){ codes are here}\nMessage is generic type. I am using below libraries: 1. Spring-Integration-mqtt-5.2.7\n2.org.eclipse.paho.client.mqttv3-1.2.2\\org.eclipse.paho.client.mqttv3-1.2.2","body":"public uploadReading(Message&lt;?&gt; message){ codes are here} Message is generic type. I am using below libraries: 1. Spring-Integration-mqtt-5.2.7 2.org.eclipse.paho.client.mqttv3-1.2.2\\org.eclipse.paho.clie&zwnj;&#8203;nt.mqttv3-1.2.2"},{"owner":{"account_id":9074935,"reputation":1264,"user_id":6756858,"display_name":"ata"},"score":0,"creation_date":1640607470,"post_id":70495247,"comment_id":124614333,"body_markdown":"add also `import ...` part.","body":"add also <code>import ...</code> part."}],"answers":[{"tags":[],"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640611560,"creation_date":1640611560,"answer_id":70496100,"question_id":70495247,"body_markdown":"MqttMessage.getPayload() returns a byte[]. To convert this into a String object you should use ```new String(message.getPayload())```","title":"Mqtt message into Java Object","body":"<p>MqttMessage.getPayload() returns a byte[]. To convert this into a String object you should use <code>new String(message.getPayload())</code></p>\n"},{"tags":[],"owner":{"account_id":7659035,"reputation":58,"user_id":5804899,"display_name":"Rajnish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640682930,"creation_date":1640682930,"answer_id":70504982,"question_id":70495247,"body_markdown":"I resolved this. Actually, I was passing the message from cmd (mosquitto is installed in my windows) like \r\n*mosquitto_pub -t whatTopic -m &quot;{&quot;name&quot;:abc, &quot;age&quot;:32}&quot;*. \r\nIn this message was coming in spring mvc application like  \r\n *{name:abc,age:32}*. Thus it could not be deserialized into object with Jackson or Gson libraries.  \r\nHowever, when I send the same message with tool MQTTLens the message was coming completely like \r\n*{&quot;name&quot;:abc, &quot;age&quot;:32}*\r\nNow, this can be deserialized into a java object.\r\nSo, I now assume that from the command prompt only string should be sent. If one wants to test an application with JSON format like messages, test with a tool like MQTTLens.","title":"Mqtt message into Java Object","body":"<p>I resolved this. Actually, I was passing the message from cmd (mosquitto is installed in my windows) like\n<em>mosquitto_pub -t whatTopic -m &quot;{&quot;name&quot;:abc, &quot;age&quot;:32}&quot;</em>.\nIn this message was coming in spring mvc application like<br />\n<em>{name:abc,age:32}</em>. Thus it could not be deserialized into object with Jackson or Gson libraries.<br />\nHowever, when I send the same message with tool MQTTLens the message was coming completely like\n<em>{&quot;name&quot;:abc, &quot;age&quot;:32}</em>\nNow, this can be deserialized into a java object.\nSo, I now assume that from the command prompt only string should be sent. If one wants to test an application with JSON format like messages, test with a tool like MQTTLens.</p>\n"}],"owner":{"account_id":7659035,"reputation":58,"user_id":5804899,"display_name":"Rajnish"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1640682930,"creation_date":1640606688,"question_id":70495247,"body_markdown":"I want to populate Java pojo class with mqtt message payload in a spring mvc application. My code is :\r\n\r\n    String messagePayload =  (String) message.getPayload();\r\n    ObjectMapper  objectMapper= new ObjectMapper();\r\n    Test test = null;\r\n    \ttry {\r\n    \t\ttest = objectMapper.readValue(messagePayload, Test.class);\r\n    \t} catch (IOException e) {\r\n    \t\te.printStackTrace();\r\n    \t\treturn;\r\n    \t} \r\n\r\nMQTT MessagePayload is `{&quot;name&quot;:&quot;abc&quot;,&quot;age&quot;: 32}`, but when It get converted into String in variable *messagePayload*, it shows like {name:abc,age:32}. You see, dropping all double quotes. This when goes to try block throws an error\r\n \r\n    com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;n&#39; (code 110)): was expecting double-quote to start field name\r\n     at [Source: (String)&quot;{name:abc,age:34}&quot;; line: 1, column: 3]\r\n\r\nI need help in converting the MQTT message into the Java POJO class. Is there another way to do it? Or how can I correct my existing codes?\r\n        \r\n\r\n","title":"Mqtt message into Java Object","body":"<p>I want to populate Java pojo class with mqtt message payload in a spring mvc application. My code is :</p>\n<pre><code>String messagePayload =  (String) message.getPayload();\nObjectMapper  objectMapper= new ObjectMapper();\nTest test = null;\n    try {\n        test = objectMapper.readValue(messagePayload, Test.class);\n    } catch (IOException e) {\n        e.printStackTrace();\n        return;\n    } \n</code></pre>\n<p>MQTT MessagePayload is <code>{&quot;name&quot;:&quot;abc&quot;,&quot;age&quot;: 32}</code>, but when It get converted into String in variable <em>messagePayload</em>, it shows like {name:abc,age:32}. You see, dropping all double quotes. This when goes to try block throws an error</p>\n<pre><code>com.fasterxml.jackson.core.JsonParseException: Unexpected character ('n' (code 110)): was expecting double-quote to start field name\n at [Source: (String)&quot;{name:abc,age:34}&quot;; line: 1, column: 3]\n</code></pre>\n<p>I need help in converting the MQTT message into the Java POJO class. Is there another way to do it? Or how can I correct my existing codes?</p>\n"},{"tags":["java","android","firebase","android-studio","profile"],"comments":[{"owner":{"display_name":"user5957595"},"score":0,"creation_date":1640682804,"post_id":70504931,"comment_id":124631271,"body_markdown":"Please do some research over this and then ask a question here. Questions without any research are not acceptable here.","body":"Please do some research over this and then ask a question here. Questions without any research are not acceptable here."}],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640682860,"creation_date":1640682860,"answer_id":70504971,"question_id":70504931,"body_markdown":"So if I&#39;m getting this right. You want to have some verified users which will have a blue tick.\r\n\r\nTo do this just add an imageview beside the textView showing the Name of the user which I&#39;m guessing you&#39;re getting from firebase. \r\nThen in your firebase the profile could have a flag like `isVerifiedUser` depending on which you make the visibility of the imageview as View.VISIBLE or View.GONE","title":"How to Add Profile Blue tick in android studio?","body":"<p>So if I'm getting this right. You want to have some verified users which will have a blue tick.</p>\n<p>To do this just add an imageview beside the textView showing the Name of the user which I'm guessing you're getting from firebase.\nThen in your firebase the profile could have a flag like <code>isVerifiedUser</code> depending on which you make the visibility of the imageview as View.VISIBLE or View.GONE</p>\n"}],"owner":{"account_id":23764750,"reputation":11,"user_id":17779646,"display_name":"Jatin "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1640683760,"answer_count":1,"score":-1,"last_activity_date":1640682860,"creation_date":1640682607,"question_id":70504931,"body_markdown":"I am developing a app, and want to provide some users blue tick on profile, how it can be done, I&#39;m using java for development and firebase.\r\nPlease help","title":"How to Add Profile Blue tick in android studio?","body":"<p>I am developing a app, and want to provide some users blue tick on profile, how it can be done, I'm using java for development and firebase.\nPlease help</p>\n"},{"tags":["java","concurrency","reentrantreadwritelock"],"comments":[{"owner":{"account_id":21748,"reputation":11187,"user_id":53120,"accept_rate":92,"display_name":"justinhj"},"score":0,"creation_date":1244050473,"post_id":464784,"comment_id":754171,"body_markdown":"Does your problem come from trying to do an unknowable number of read locks on the same thread you&#39;re doing the writing. Couldn&#39;t you do the writing on another thread?","body":"Does your problem come from trying to do an unknowable number of read locks on the same thread you&#39;re doing the writing. Couldn&#39;t you do the writing on another thread?"}],"answers":[{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":4,"up_vote_count":33,"is_accepted":true,"score":29,"last_activity_date":1617689751,"creation_date":1232535499,"answer_id":464824,"question_id":464784,"body_markdown":"I have made a little progress on this.  By declaring the lock variable explicitly as a `ReentrantReadWriteLock` instead of simply a `ReadWriteLock` (less than ideal, but probably a necessary evil in this case) I can call the [`getReadHoldCount()`][1] method.  This lets me obtain the number of holds for the current thread, and thus I can release the readlock this many times (and reacquire it the same number afterwards).  So this works, as shown by a quick-and-dirty test:\r\n\r\n    final int holdCount = lock.getReadHoldCount();\r\n    for (int i = 0; i &lt; holdCount; i++) {\r\n       lock.readLock().unlock();\r\n    }\r\n    lock.writeLock().lock();\r\n    try {\r\n       // Perform modifications\r\n    } finally {\r\n       // Downgrade by reacquiring read lock before releasing write lock\r\n       for (int i = 0; i &lt; holdCount; i++) {\r\n          lock.readLock().lock();\r\n       }\r\n       lock.writeLock().unlock();\r\n    }\r\n\r\nStill, is this going to be the best I can do?  It doesn&#39;t feel very elegant, and I&#39;m still hoping that there&#39;s a way to handle this in a less &quot;manual&quot; fashion.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html#getReadHoldCount()","title":"Java ReentrantReadWriteLocks - how to safely acquire write lock when in a read lock?","body":"<p>I have made a little progress on this.  By declaring the lock variable explicitly as a <code>ReentrantReadWriteLock</code> instead of simply a <code>ReadWriteLock</code> (less than ideal, but probably a necessary evil in this case) I can call the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html#getReadHoldCount()\" rel=\"nofollow noreferrer\"><code>getReadHoldCount()</code></a> method.  This lets me obtain the number of holds for the current thread, and thus I can release the readlock this many times (and reacquire it the same number afterwards).  So this works, as shown by a quick-and-dirty test:</p>\n<pre><code>final int holdCount = lock.getReadHoldCount();\nfor (int i = 0; i &lt; holdCount; i++) {\n   lock.readLock().unlock();\n}\nlock.writeLock().lock();\ntry {\n   // Perform modifications\n} finally {\n   // Downgrade by reacquiring read lock before releasing write lock\n   for (int i = 0; i &lt; holdCount; i++) {\n      lock.readLock().lock();\n   }\n   lock.writeLock().unlock();\n}\n</code></pre>\n<p>Still, is this going to be the best I can do?  It doesn't feel very elegant, and I'm still hoping that there's a way to handle this in a less &quot;manual&quot; fashion.</p>\n"},{"tags":[],"owner":{"account_id":712,"reputation":6325,"user_id":931,"accept_rate":59,"display_name":"Ran Biron"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1232535558,"creation_date":1232535558,"answer_id":464829,"question_id":464784,"body_markdown":"Use the &quot;fair&quot; flag on the ReentrantReadWriteLock. &quot;fair&quot; means that lock requests are served on first come, first served. You could experience performance depredation since when you&#39;ll issue a &quot;write&quot; request, all of the subsequent &quot;read&quot; requests will be locked, even if they could have been served while the pre-existing read locks are still locked.","title":"Java ReentrantReadWriteLocks - how to safely acquire write lock when in a read lock?","body":"<p>Use the \"fair\" flag on the ReentrantReadWriteLock. \"fair\" means that lock requests are served on first come, first served. You could experience performance depredation since when you'll issue a \"write\" request, all of the subsequent \"read\" requests will be locked, even if they could have been served while the pre-existing read locks are still locked.</p>\n"},{"tags":[],"owner":{"account_id":19881,"reputation":34837,"user_id":46991,"accept_rate":85,"display_name":"falstro"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1232536458,"creation_date":1232535698,"answer_id":464833,"question_id":464784,"body_markdown":"What you&#39;re looking for is a lock upgrade, and is not possible (at least not atomically) using the standard java.concurrent ReentrantReadWriteLock. Your best shot is unlock/lock, and then check that noone made modifications inbetween.\r\n\r\nWhat you&#39;re attempting to do, forcing all read locks out of the way is not a very good idea. Read locks are there for a reason, that you shouldn&#39;t write. :)\r\n\r\n&lt;b&gt;EDIT:&lt;/b&gt;  \r\nAs Ran Biron pointed out, if your problem is starvation (read locks are being set and released all the time, never dropping to zero) you could try using fair queueing. But your question didn&#39;t sound like this was your problem?\r\n\r\n&lt;b&gt;EDIT 2:&lt;/b&gt;  \r\nI now see your problem, you&#39;ve actually acquired multiple read-locks on the stack, and you&#39;d like to convert them to a write-lock (upgrade). This is in fact impossible with the JDK-implementation, as it doesn&#39;t keep track of the owners of the read-lock. There could be others holding read-locks that you wouldn&#39;t see, and it has no idea how many of the read-locks belong to your thread, not to mention your current call-stack (i.e. your loop is killing _all_ read locks, not just your own, so your write lock won&#39;t wait for any concurrent readers to finish, and you&#39;ll end up with a mess on your hands)\r\n\r\nI&#39;ve actually had a similar problem, and I ended up writing my own lock keeping track of who&#39;s got what read-locks and upgrading these to write-locks. Although this was also a Copy-on-Write kind of read/write lock (allowing one writer along the readers), so it was a little different still.","title":"Java ReentrantReadWriteLocks - how to safely acquire write lock when in a read lock?","body":"<p>What you're looking for is a lock upgrade, and is not possible (at least not atomically) using the standard java.concurrent ReentrantReadWriteLock. Your best shot is unlock/lock, and then check that noone made modifications inbetween.</p>\n\n<p>What you're attempting to do, forcing all read locks out of the way is not a very good idea. Read locks are there for a reason, that you shouldn't write. :)</p>\n\n<p><b>EDIT:</b><br>\nAs Ran Biron pointed out, if your problem is starvation (read locks are being set and released all the time, never dropping to zero) you could try using fair queueing. But your question didn't sound like this was your problem?</p>\n\n<p><b>EDIT 2:</b><br>\nI now see your problem, you've actually acquired multiple read-locks on the stack, and you'd like to convert them to a write-lock (upgrade). This is in fact impossible with the JDK-implementation, as it doesn't keep track of the owners of the read-lock. There could be others holding read-locks that you wouldn't see, and it has no idea how many of the read-locks belong to your thread, not to mention your current call-stack (i.e. your loop is killing <em>all</em> read locks, not just your own, so your write lock won't wait for any concurrent readers to finish, and you'll end up with a mess on your hands)</p>\n\n<p>I've actually had a similar problem, and I ended up writing my own lock keeping track of who's got what read-locks and upgrading these to write-locks. Although this was also a Copy-on-Write kind of read/write lock (allowing one writer along the readers), so it was a little different still.</p>\n"},{"tags":[],"owner":{"account_id":21831,"reputation":1232,"user_id":53369,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1232540146,"creation_date":1232540146,"answer_id":465041,"question_id":464784,"body_markdown":"I suppose the `ReentrantLock` is motivated by a recursive traversal of the tree:\r\n\r\n    public void doSomething(Node node) {\r\n      // Acquire reentrant lock\r\n      ... // Do something, possibly acquire write lock\r\n      for (Node child : node.childs) {\r\n        doSomething(child);\r\n      }\r\n      // Release reentrant lock\r\n    }\r\n\r\nCan&#39;t you refactor your code to move the lock handling outside of the recursion ?\r\n\r\n    public void doSomething(Node node) {\r\n      // Acquire NON-reentrant read lock\r\n      recurseDoSomething(node);\r\n      // Release NON-reentrant read lock\r\n    }\r\n\r\n    private void recurseDoSomething(Node node) {\r\n      ... // Do something, possibly acquire write lock\r\n      for (Node child : node.childs) {\r\n        recurseDoSomething(child);\r\n      }\r\n    }\r\n\r\n ","title":"Java ReentrantReadWriteLocks - how to safely acquire write lock when in a read lock?","body":"<p>I suppose the <code>ReentrantLock</code> is motivated by a recursive traversal of the tree:</p>\n\n<pre><code>public void doSomething(Node node) {\n  // Acquire reentrant lock\n  ... // Do something, possibly acquire write lock\n  for (Node child : node.childs) {\n    doSomething(child);\n  }\n  // Release reentrant lock\n}\n</code></pre>\n\n<p>Can't you refactor your code to move the lock handling outside of the recursion ?</p>\n\n<pre><code>public void doSomething(Node node) {\n  // Acquire NON-reentrant read lock\n  recurseDoSomething(node);\n  // Release NON-reentrant read lock\n}\n\nprivate void recurseDoSomething(Node node) {\n  ... // Do something, possibly acquire write lock\n  for (Node child : node.childs) {\n    recurseDoSomething(child);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":584704,"reputation":31,"user_id":258496,"display_name":"xss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1448281833,"creation_date":1269178210,"answer_id":2487231,"question_id":464784,"body_markdown":"to OP:\r\njust unlock as many times as you have entered the lock, simple as that:\r\n\r\n    boolean needWrite = false;\r\n    readLock.lock()\r\n    try{\r\n      needWrite = checkState();\r\n    }finally{\r\n      readLock().unlock()\r\n    }\r\n    \r\n    //the state is free to change right here, but not likely\r\n    //see who has handled it under the write lock, if need be\r\n    if (needWrite){\r\n      writeLock().lock();\r\n      try{\r\n        if (checkState()){//check again under the exclusive write lock\r\n       //modify state\r\n        }\r\n      }finally{\r\n        writeLock.unlock()\r\n      }\r\n    }\r\n\r\nin the write lock as any self-respect concurrent program check the state needed.\r\n\r\nHoldCount shouldn&#39;t be used beyond debug/monitor/fast-fail detect.\r\n","title":"Java ReentrantReadWriteLocks - how to safely acquire write lock when in a read lock?","body":"<p>to OP:\njust unlock as many times as you have entered the lock, simple as that:</p>\n\n<pre><code>boolean needWrite = false;\nreadLock.lock()\ntry{\n  needWrite = checkState();\n}finally{\n  readLock().unlock()\n}\n\n//the state is free to change right here, but not likely\n//see who has handled it under the write lock, if need be\nif (needWrite){\n  writeLock().lock();\n  try{\n    if (checkState()){//check again under the exclusive write lock\n   //modify state\n    }\n  }finally{\n    writeLock.unlock()\n  }\n}\n</code></pre>\n\n<p>in the write lock as any self-respect concurrent program check the state needed.</p>\n\n<p>HoldCount shouldn't be used beyond debug/monitor/fast-fail detect.</p>\n"},{"tags":[],"owner":{"account_id":21009,"reputation":4296,"user_id":50750,"accept_rate":58,"display_name":"Steffen Heil"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1270424744,"creation_date":1270424744,"answer_id":2576312,"question_id":464784,"body_markdown":"What you are trying to do is simply not possible this way.\r\n\r\nYou cannot have a read/write lock that you can upgrade from read to write without problems. Example:\r\n\r\n    void test() {\r\n        lock.readLock().lock();\r\n        ...\r\n        if ( ... ) {\r\n            lock.writeLock.lock();\r\n            ...\r\n            lock.writeLock.unlock();\r\n        }\r\n        lock.readLock().unlock();\r\n    }\r\n\r\nNow suppose, two threads would enter that function. (And you are assuming concurrency, right? Otherwise you would not care about locks in the first place....)\r\n\r\nAssume both threads would start *at the same time* and run *equally fast*. That would mean, both would acquire a read lock, which is perfectly legal. However, then both would eventually try to acquire the write lock, which NONE of them will ever get: The respective other threads hold a read lock!\r\n\r\nLocks that allow upgrading of read locks to write locks are prone to deadlocks by definition. Sorry, but you need to modify your approach.","title":"Java ReentrantReadWriteLocks - how to safely acquire write lock when in a read lock?","body":"<p>What you are trying to do is simply not possible this way.</p>\n\n<p>You cannot have a read/write lock that you can upgrade from read to write without problems. Example:</p>\n\n<pre><code>void test() {\n    lock.readLock().lock();\n    ...\n    if ( ... ) {\n        lock.writeLock.lock();\n        ...\n        lock.writeLock.unlock();\n    }\n    lock.readLock().unlock();\n}\n</code></pre>\n\n<p>Now suppose, two threads would enter that function. (And you are assuming concurrency, right? Otherwise you would not care about locks in the first place....)</p>\n\n<p>Assume both threads would start <em>at the same time</em> and run <em>equally fast</em>. That would mean, both would acquire a read lock, which is perfectly legal. However, then both would eventually try to acquire the write lock, which NONE of them will ever get: The respective other threads hold a read lock!</p>\n\n<p>Locks that allow upgrading of read locks to write locks are prone to deadlocks by definition. Sorry, but you need to modify your approach.</p>\n"},{"tags":[],"owner":{"account_id":701128,"reputation":251,"user_id":594636,"display_name":"Bob"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1296527179,"creation_date":1296266531,"answer_id":4834654,"question_id":464784,"body_markdown":"What you want to do ought to be possible.  The problem is that Java does not provide an implementation that can upgrade read locks to write locks.  Specifically, the javadoc ReentrantReadWriteLock says it does not allow an upgrade from read lock to write lock.  \r\n\r\nIn any case, Jakob Jenkov describes how to implement it.  See http://tutorials.jenkov.com/java-concurrency/read-write-locks.html#upgrade for details.  \r\n\r\nWhy Upgrading Read to Write Locks Is Needed\r\n-------------------------------------------\r\n\r\nAn upgrade from read to write lock is valid (despite the assertions to the contrary in other answers). A deadlock can occur, and so part of the implementation is code to recognize deadlocks and break them by throwing an exception in a thread to break the deadlock.  That means that as part of your transaction, you must handle the DeadlockException, e.g., by doing the work over again.  A typical pattern is:\r\n\r\n    boolean repeat;\r\n    do {\r\n      repeat = false;\r\n      try {\r\n       readSomeStuff();\r\n       writeSomeStuff();\r\n       maybeReadSomeMoreStuff();\r\n      } catch (DeadlockException) {\r\n       repeat = true;\r\n      }\r\n    } while (repeat);\r\n\r\nWithout this ability, the only way to implement a serializable transaction that reads a bunch of data consistently and then writes something based on what was read is to anticipate that writing will be necessary before you begin, and therefore obtain WRITE locks on all data that are read before writing what needs to be written.  This is a KLUDGE that Oracle uses (SELECT FOR UPDATE ...).  Furthermore, it actually reduces concurrency because nobody else can read or write any of the data while the transaction is running!\r\n\r\nIn particular, releasing the read lock before obtaining the write lock will produce inconsistent results.  Consider:\r\n\r\n    int x = someMethod();\r\n    y.writeLock().lock();\r\n    y.setValue(x);\r\n    y.writeLock().unlock();\r\n\r\nYou have to know whether someMethod(), or any method it calls, creates a reentrant read lock on y!  Suppose you know it does.  Then if you release the read lock first:\r\n\r\n    int x = someMethod();\r\n    y.readLock().unlock();\r\n    // problem here!\r\n    y.writeLock().lock();\r\n    y.setValue(x);\r\n    y.writeLock().unlock();\r\n\r\nanother thread may change y after you release its read lock, and before you obtain the write lock on it.  So y&#39;s value will not be equal to x.\r\n\r\n\r\n\r\nTest Code: Upgrading a read lock to a write lock blocks:\r\n-------------------------------------------------------\r\n\r\n    import java.util.*;\r\n    import java.util.concurrent.locks.*;\r\n\r\n    public class UpgradeTest {\r\n\r\n\t\tpublic static void main(String[] args) \r\n\t\t{\t\r\n\t\t\tSystem.out.println(&quot;read to write test&quot;);\r\n\t\t\tReadWriteLock lock = new ReentrantReadWriteLock();\r\n\t\r\n\t\t\tlock.readLock().lock(); // get our own read lock\r\n\t\t\tlock.writeLock().lock(); // upgrade to write lock\r\n\t\t\tSystem.out.println(&quot;passed&quot;);\r\n\t\t}\r\n\r\n    }\r\n\r\n\r\n\r\nOutput using Java 1.6: \r\n---------------------\r\n    read to write test\r\n    &lt;blocks indefinitely&gt;\r\n","title":"Java ReentrantReadWriteLocks - how to safely acquire write lock when in a read lock?","body":"<p>What you want to do ought to be possible.  The problem is that Java does not provide an implementation that can upgrade read locks to write locks.  Specifically, the javadoc ReentrantReadWriteLock says it does not allow an upgrade from read lock to write lock.  </p>\n\n<p>In any case, Jakob Jenkov describes how to implement it.  See <a href=\"http://tutorials.jenkov.com/java-concurrency/read-write-locks.html#upgrade\">http://tutorials.jenkov.com/java-concurrency/read-write-locks.html#upgrade</a> for details.  </p>\n\n<h2>Why Upgrading Read to Write Locks Is Needed</h2>\n\n<p>An upgrade from read to write lock is valid (despite the assertions to the contrary in other answers). A deadlock can occur, and so part of the implementation is code to recognize deadlocks and break them by throwing an exception in a thread to break the deadlock.  That means that as part of your transaction, you must handle the DeadlockException, e.g., by doing the work over again.  A typical pattern is:</p>\n\n<pre><code>boolean repeat;\ndo {\n  repeat = false;\n  try {\n   readSomeStuff();\n   writeSomeStuff();\n   maybeReadSomeMoreStuff();\n  } catch (DeadlockException) {\n   repeat = true;\n  }\n} while (repeat);\n</code></pre>\n\n<p>Without this ability, the only way to implement a serializable transaction that reads a bunch of data consistently and then writes something based on what was read is to anticipate that writing will be necessary before you begin, and therefore obtain WRITE locks on all data that are read before writing what needs to be written.  This is a KLUDGE that Oracle uses (SELECT FOR UPDATE ...).  Furthermore, it actually reduces concurrency because nobody else can read or write any of the data while the transaction is running!</p>\n\n<p>In particular, releasing the read lock before obtaining the write lock will produce inconsistent results.  Consider:</p>\n\n<pre><code>int x = someMethod();\ny.writeLock().lock();\ny.setValue(x);\ny.writeLock().unlock();\n</code></pre>\n\n<p>You have to know whether someMethod(), or any method it calls, creates a reentrant read lock on y!  Suppose you know it does.  Then if you release the read lock first:</p>\n\n<pre><code>int x = someMethod();\ny.readLock().unlock();\n// problem here!\ny.writeLock().lock();\ny.setValue(x);\ny.writeLock().unlock();\n</code></pre>\n\n<p>another thread may change y after you release its read lock, and before you obtain the write lock on it.  So y's value will not be equal to x.</p>\n\n<h2>Test Code: Upgrading a read lock to a write lock blocks:</h2>\n\n<pre><code>import java.util.*;\nimport java.util.concurrent.locks.*;\n\npublic class UpgradeTest {\n\n    public static void main(String[] args) \n    {   \n        System.out.println(\"read to write test\");\n        ReadWriteLock lock = new ReentrantReadWriteLock();\n\n        lock.readLock().lock(); // get our own read lock\n        lock.writeLock().lock(); // upgrade to write lock\n        System.out.println(\"passed\");\n    }\n\n}\n</code></pre>\n\n<h2>Output using Java 1.6:</h2>\n\n<pre><code>read to write test\n&lt;blocks indefinitely&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1081262,"reputation":11,"user_id":1078197,"display_name":"Vishal Angrish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1322859132,"creation_date":1322859132,"answer_id":8362490,"question_id":464784,"body_markdown":"So, Are we expecting java to increment read semaphore count only if this thread has not yet contributed to the readHoldCount? Which means unlike just maintaining a ThreadLocal readholdCount of type int, It should maintain ThreadLocal Set of type Integer (maintaining the hasCode of current thread). If this is fine, I would suggest (at-least for now) not to call multiple read calls within the same class, but instead use a flag to check, whether read lock is already obtained by current object or not.\r\n\r\n    private volatile boolean alreadyLockedForReading = false;\r\n    \r\n    public void lockForReading(Lock readLock){\r\n       if(!alreadyLockedForReading){\r\n          lock.getReadLock().lock();\r\n       }\r\n    }\r\n      \r\n","title":"Java ReentrantReadWriteLocks - how to safely acquire write lock when in a read lock?","body":"<p>So, Are we expecting java to increment read semaphore count only if this thread has not yet contributed to the readHoldCount? Which means unlike just maintaining a ThreadLocal readholdCount of type int, It should maintain ThreadLocal Set of type Integer (maintaining the hasCode of current thread). If this is fine, I would suggest (at-least for now) not to call multiple read calls within the same class, but instead use a flag to check, whether read lock is already obtained by current object or not.</p>\n\n<pre><code>private volatile boolean alreadyLockedForReading = false;\n\npublic void lockForReading(Lock readLock){\n   if(!alreadyLockedForReading){\n      lock.getReadLock().lock();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":429234,"reputation":3009,"user_id":812018,"display_name":"npgall"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1506338279,"creation_date":1379071914,"answer_id":18785300,"question_id":464784,"body_markdown":"This is an old question, but here&#39;s both a solution to the problem, and some background information.\r\n\r\nAs others have pointed out, a classic [readers-writer lock](http://en.wikipedia.org/wiki/Readers%E2%80%93writer_lock) (like the JDK [ReentrantReadWriteLock](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html)) inherently does not support upgrading a read lock to a write lock, because doing so is susceptible to deadlock.\r\n\r\nIf you need to safely acquire a write lock without first releasing a read lock, there is a however a better alternative: take a look at a *read-write-**update*** lock instead.\r\n\r\nI&#39;ve written a ReentrantReadWrite_Update_Lock, and released it as open source under an Apache 2.0 license [here](https://github.com/npgall/concurrent-locks). I also posted details of the approach to the JSR166 [concurrency-interest mailing list](http://cs.oswego.edu/pipermail/concurrency-interest/2013-July/011621.html), and the approach survived some back and forth scrutiny by members on that list.\r\n\r\nThe approach is pretty simple, and as I mentioned on concurrency-interest, the idea is not entirely new as it was discussed on the Linux kernel mailing list at least as far back as the year 2000. Also the .Net platform&#39;s [ReaderWriterLockSlim](http://msdn.microsoft.com/en-us/library/system.threading.readerwriterlockslim.aspx) supports lock upgrade also. So effectively this concept had simply not been implemented on Java (AFAICT) until now.\r\n\r\nThe idea is to provide an _update_ lock in addition to the _read_ lock and the _write_ lock. An update lock is an intermediate type of lock between a read lock and a write lock. Like the write lock, only one thread can acquire an update lock at a time. But like a read lock, it allows read access to the thread which holds it, and concurrently to other threads which hold regular read locks. The key feature is that the update lock can be upgraded from its read-only status, to a write lock, and this is not susceptible to deadlock because only one thread can hold an update lock and be in a position to upgrade at a time.\r\n\r\nThis supports lock upgrade, and furthermore it is more efficient than a conventional readers-writer lock in applications with _read-before-write_ access patterns, because it blocks reading threads for shorter periods of time.\r\n\r\nExample usage is provided on the [site](https://github.com/npgall/concurrent-locks). The library has 100% test coverage and is in Maven central.","title":"Java ReentrantReadWriteLocks - how to safely acquire write lock when in a read lock?","body":"<p>This is an old question, but here's both a solution to the problem, and some background information.</p>\n\n<p>As others have pointed out, a classic <a href=\"http://en.wikipedia.org/wiki/Readers%E2%80%93writer_lock\" rel=\"noreferrer\">readers-writer lock</a> (like the JDK <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html\" rel=\"noreferrer\">ReentrantReadWriteLock</a>) inherently does not support upgrading a read lock to a write lock, because doing so is susceptible to deadlock.</p>\n\n<p>If you need to safely acquire a write lock without first releasing a read lock, there is a however a better alternative: take a look at a <em>read-write-<strong>update</em></strong> lock instead.</p>\n\n<p>I've written a ReentrantReadWrite_Update_Lock, and released it as open source under an Apache 2.0 license <a href=\"https://github.com/npgall/concurrent-locks\" rel=\"noreferrer\">here</a>. I also posted details of the approach to the JSR166 <a href=\"http://cs.oswego.edu/pipermail/concurrency-interest/2013-July/011621.html\" rel=\"noreferrer\">concurrency-interest mailing list</a>, and the approach survived some back and forth scrutiny by members on that list.</p>\n\n<p>The approach is pretty simple, and as I mentioned on concurrency-interest, the idea is not entirely new as it was discussed on the Linux kernel mailing list at least as far back as the year 2000. Also the .Net platform's <a href=\"http://msdn.microsoft.com/en-us/library/system.threading.readerwriterlockslim.aspx\" rel=\"noreferrer\">ReaderWriterLockSlim</a> supports lock upgrade also. So effectively this concept had simply not been implemented on Java (AFAICT) until now.</p>\n\n<p>The idea is to provide an <em>update</em> lock in addition to the <em>read</em> lock and the <em>write</em> lock. An update lock is an intermediate type of lock between a read lock and a write lock. Like the write lock, only one thread can acquire an update lock at a time. But like a read lock, it allows read access to the thread which holds it, and concurrently to other threads which hold regular read locks. The key feature is that the update lock can be upgraded from its read-only status, to a write lock, and this is not susceptible to deadlock because only one thread can hold an update lock and be in a position to upgrade at a time.</p>\n\n<p>This supports lock upgrade, and furthermore it is more efficient than a conventional readers-writer lock in applications with <em>read-before-write</em> access patterns, because it blocks reading threads for shorter periods of time.</p>\n\n<p>Example usage is provided on the <a href=\"https://github.com/npgall/concurrent-locks\" rel=\"noreferrer\">site</a>. The library has 100% test coverage and is in Maven central.</p>\n"},{"tags":[],"owner":{"account_id":1669073,"reputation":550,"user_id":1535887,"display_name":"phi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404313666,"creation_date":1404313666,"answer_id":24534683,"question_id":464784,"body_markdown":"Found in the documentation for [ReentrantReadWriteLock][1]. It clearly says, that reader threads will never succeed when trying to acquire a write lock. What you try to achieve is simply not supported. You **must** release the read lock before acquisition of the write lock. A downgrade is still possible.\r\n\r\n&gt; Reentrancy\r\n&gt; \r\n&gt; This lock allows both readers and writers to reacquire read or write\r\n&gt; locks in the style of a {@link ReentrantLock}. Non-reentrant readers\r\n&gt; are not allowed until all write locks held by the writing thread have\r\n&gt; been released.\r\n&gt; \r\n&gt; Additionally, a writer can acquire the read lock, but not vice-versa.\r\n&gt; Among other applications, reentrancy can be useful when write locks\r\n&gt; are held during calls or callbacks to methods that perform reads under\r\n&gt; read locks. **If a reader tries to acquire the write lock it will never\r\n&gt; succeed.**\r\n\r\nSample usage from the above source:\r\n\r\n     class CachedData {\r\n       Object data;\r\n       volatile boolean cacheValid;\r\n       ReentrantReadWriteLock rwl = new ReentrantReadWriteLock();\r\n    \r\n       void processCachedData() {\r\n         rwl.readLock().lock();\r\n         if (!cacheValid) {\r\n            // Must release read lock before acquiring write lock\r\n            rwl.readLock().unlock();\r\n            rwl.writeLock().lock();\r\n            // Recheck state because another thread might have acquired\r\n            //   write lock and changed state before we did.\r\n            if (!cacheValid) {\r\n              data = ...\r\n              cacheValid = true;\r\n            }\r\n            // Downgrade by acquiring read lock before releasing write lock\r\n            rwl.readLock().lock();\r\n            rwl.writeLock().unlock(); // Unlock write, still hold read\r\n         }\r\n    \r\n         use(data);\r\n         rwl.readLock().unlock();\r\n       }\r\n     }\r\n\r\n \r\n\r\n\r\n  [1]: http://edelstein.pebbles.cs.cmu.edu/jadeite/main.php?api=java6&amp;state=class&amp;package=java.util.concurrent.locks&amp;class=ReentrantReadWriteLock","title":"Java ReentrantReadWriteLocks - how to safely acquire write lock when in a read lock?","body":"<p>Found in the documentation for <a href=\"http://edelstein.pebbles.cs.cmu.edu/jadeite/main.php?api=java6&amp;state=class&amp;package=java.util.concurrent.locks&amp;class=ReentrantReadWriteLock\" rel=\"nofollow\">ReentrantReadWriteLock</a>. It clearly says, that reader threads will never succeed when trying to acquire a write lock. What you try to achieve is simply not supported. You <strong>must</strong> release the read lock before acquisition of the write lock. A downgrade is still possible.</p>\n\n<blockquote>\n  <p>Reentrancy</p>\n  \n  <p>This lock allows both readers and writers to reacquire read or write\n  locks in the style of a {@link ReentrantLock}. Non-reentrant readers\n  are not allowed until all write locks held by the writing thread have\n  been released.</p>\n  \n  <p>Additionally, a writer can acquire the read lock, but not vice-versa.\n  Among other applications, reentrancy can be useful when write locks\n  are held during calls or callbacks to methods that perform reads under\n  read locks. <strong>If a reader tries to acquire the write lock it will never\n  succeed.</strong></p>\n</blockquote>\n\n<p>Sample usage from the above source:</p>\n\n<pre><code> class CachedData {\n   Object data;\n   volatile boolean cacheValid;\n   ReentrantReadWriteLock rwl = new ReentrantReadWriteLock();\n\n   void processCachedData() {\n     rwl.readLock().lock();\n     if (!cacheValid) {\n        // Must release read lock before acquiring write lock\n        rwl.readLock().unlock();\n        rwl.writeLock().lock();\n        // Recheck state because another thread might have acquired\n        //   write lock and changed state before we did.\n        if (!cacheValid) {\n          data = ...\n          cacheValid = true;\n        }\n        // Downgrade by acquiring read lock before releasing write lock\n        rwl.readLock().lock();\n        rwl.writeLock().unlock(); // Unlock write, still hold read\n     }\n\n     use(data);\n     rwl.readLock().unlock();\n   }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4669263,"reputation":121,"user_id":3828348,"display_name":"Henry HO"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405065331,"creation_date":1405065331,"answer_id":24692752,"question_id":464784,"body_markdown":"What about this something like this?  \r\n\r\n    class CachedData\r\n    {\r\n        Object data;\r\n        volatile boolean cacheValid;\r\n        \r\n        private class MyRWLock\r\n        {\r\n            private final ReentrantReadWriteLock rwl = new ReentrantReadWriteLock();\r\n            public synchronized void getReadLock()         { rwl.readLock().lock(); }\r\n            public synchronized void upgradeToWriteLock()  { rwl.readLock().unlock();  rwl.writeLock().lock(); }\r\n            public synchronized void downgradeToReadLock() { rwl.writeLock().unlock(); rwl.readLock().lock();  }\r\n            public synchronized void dropReadLock()        { rwl.readLock().unlock(); }\r\n        }\r\n        private MyRWLock myRWLock = new MyRWLock();\r\n    \r\n        void processCachedData()\r\n        {\r\n            myRWLock.getReadLock();\r\n            try\r\n            {\r\n                if (!cacheValid)\r\n                {\r\n                    myRWLock.upgradeToWriteLock();\r\n                    try\r\n                    {\r\n                        // Recheck state because another thread might have acquired write lock and changed state before we did.\r\n                        if (!cacheValid)\r\n                        {\r\n                            data = ...\r\n                            cacheValid = true;\r\n                        }\r\n                    }\r\n                    finally\r\n                    {\r\n                        myRWLock.downgradeToReadLock();\r\n                    }\r\n                }\r\n                use(data);\r\n            }\r\n            finally\r\n            {\r\n                myRWLock.dropReadLock();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Java ReentrantReadWriteLocks - how to safely acquire write lock when in a read lock?","body":"<p>What about this something like this?  </p>\n\n<pre><code>class CachedData\n{\n    Object data;\n    volatile boolean cacheValid;\n\n    private class MyRWLock\n    {\n        private final ReentrantReadWriteLock rwl = new ReentrantReadWriteLock();\n        public synchronized void getReadLock()         { rwl.readLock().lock(); }\n        public synchronized void upgradeToWriteLock()  { rwl.readLock().unlock();  rwl.writeLock().lock(); }\n        public synchronized void downgradeToReadLock() { rwl.writeLock().unlock(); rwl.readLock().lock();  }\n        public synchronized void dropReadLock()        { rwl.readLock().unlock(); }\n    }\n    private MyRWLock myRWLock = new MyRWLock();\n\n    void processCachedData()\n    {\n        myRWLock.getReadLock();\n        try\n        {\n            if (!cacheValid)\n            {\n                myRWLock.upgradeToWriteLock();\n                try\n                {\n                    // Recheck state because another thread might have acquired write lock and changed state before we did.\n                    if (!cacheValid)\n                    {\n                        data = ...\n                        cacheValid = true;\n                    }\n                }\n                finally\n                {\n                    myRWLock.downgradeToReadLock();\n                }\n            }\n            use(data);\n        }\n        finally\n        {\n            myRWLock.dropReadLock();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":78268,"reputation":3821,"user_id":222867,"accept_rate":78,"display_name":"qwerty"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1424757947,"creation_date":1424757947,"answer_id":28689177,"question_id":464784,"body_markdown":"Java 8 now has a `java.util.concurrent.locks.StampedLock` \r\n with a `tryConvertToWriteLock(long)` API\r\n\r\nMore info at http://www.javaspecialists.eu/archive/Issue215.html\r\n","title":"Java ReentrantReadWriteLocks - how to safely acquire write lock when in a read lock?","body":"<p>Java 8 now has a <code>java.util.concurrent.locks.StampedLock</code> \n with a <code>tryConvertToWriteLock(long)</code> API</p>\n\n<p>More info at <a href=\"http://www.javaspecialists.eu/archive/Issue215.html\" rel=\"noreferrer\">http://www.javaspecialists.eu/archive/Issue215.html</a></p>\n"}],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45464,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":464824,"answer_count":12,"score":75,"last_activity_date":1640682666,"creation_date":1232534538,"question_id":464784,"body_markdown":"I am using in my code at the moment a [ReentrantReadWriteLock][1] to synchronize access over a tree-like structure.  This structure is large, and read by many threads at once with occasional modifications to small parts of it - so it seems to fit the read-write idiom well.  I understand that with this particular class, one cannot elevate a read lock to a write lock, so as per the Javadocs one must release the read lock before obtaining the write lock.  I&#39;ve used this pattern successfully in non-reentrant contexts before.\r\n\r\nWhat I&#39;m finding however is that I cannot reliably acquire the write lock without blocking forever.  Since the read lock is reentrant and I am actually using it as such, the simple code\r\n&lt;pre&gt;&lt;code&gt;lock.getReadLock().unlock();\r\nlock.getWriteLock().lock()&lt;/code&gt;&lt;/pre&gt;\r\ncan block if I have acquired the readlock reentrantly.  Each call to unlock just reduces the hold count, and the lock is only actually released when the hold count hits zero.  \r\n\r\n**EDIT** to clarify this, as I don&#39;t think I explained it too well initially - I am aware that there is no built-in lock escalation in this class, and that I have to simply release the read lock and obtain the write lock.  My problem is/was that regardless of what other threads are doing, calling `getReadLock().unlock()` may not actually release *this* thread&#39;s hold on the lock if it acquired it reentrantly, in which case the call to `getWriteLock().lock()` will block forever as this thread still has a hold on the read lock and thus blocks itself.\r\n\r\nFor example, this code snippet will never reach the println statement, even when run singlethreaded with no other threads accessing the lock:\r\n&lt;pre&gt;&lt;code&gt;final ReadWriteLock lock = new ReentrantReadWriteLock();\r\nlock.getReadLock().lock();\r\n\r\n// In real code we would go call other methods that end up calling back and\r\n// thus locking again\r\nlock.getReadLock().lock();\r\n\r\n// Now we do some stuff and realise we need to write so try to escalate the\r\n// lock as per the Javadocs and the above description\r\nlock.getReadLock().unlock(); // Does not actually release the lock\r\nlock.getWriteLock().lock();  // Blocks as some thread (this one!) holds read lock\r\n\r\nSystem.out.println(&quot;Will never get here&quot;);\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nSo I ask, is there a nice idiom to handle this situation?  Specifically, when a thread that holds a read lock (possibly reentrantly) discovers that it needs to do some writing, and thus wants to &quot;suspend&quot; its own read lock in order to pick up the write lock (blocking as required on other threads to release their holds on the read lock), and then &quot;pick up&quot; its hold on the read lock in the same state afterwards?\r\n\r\nSince this ReadWriteLock implementation was specifically designed to be reentrant, surely there is some sensible way to elevate a read lock to a write lock when the locks may be acquired reentrantly?  This is the critical part that means the naive approach does not work.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html","title":"Java ReentrantReadWriteLocks - how to safely acquire write lock when in a read lock?","body":"<p>I am using in my code at the moment a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html\" rel=\"noreferrer\">ReentrantReadWriteLock</a> to synchronize access over a tree-like structure.  This structure is large, and read by many threads at once with occasional modifications to small parts of it - so it seems to fit the read-write idiom well.  I understand that with this particular class, one cannot elevate a read lock to a write lock, so as per the Javadocs one must release the read lock before obtaining the write lock.  I've used this pattern successfully in non-reentrant contexts before.</p>\n\n<p>What I'm finding however is that I cannot reliably acquire the write lock without blocking forever.  Since the read lock is reentrant and I am actually using it as such, the simple code</p>\n\n<pre><code>lock.getReadLock().unlock();\nlock.getWriteLock().lock()</code></pre>\n\n<p>can block if I have acquired the readlock reentrantly.  Each call to unlock just reduces the hold count, and the lock is only actually released when the hold count hits zero.  </p>\n\n<p><strong>EDIT</strong> to clarify this, as I don't think I explained it too well initially - I am aware that there is no built-in lock escalation in this class, and that I have to simply release the read lock and obtain the write lock.  My problem is/was that regardless of what other threads are doing, calling <code>getReadLock().unlock()</code> may not actually release <em>this</em> thread's hold on the lock if it acquired it reentrantly, in which case the call to <code>getWriteLock().lock()</code> will block forever as this thread still has a hold on the read lock and thus blocks itself.</p>\n\n<p>For example, this code snippet will never reach the println statement, even when run singlethreaded with no other threads accessing the lock:</p>\n\n<pre><code>final ReadWriteLock lock = new ReentrantReadWriteLock();\nlock.getReadLock().lock();\n\n// In real code we would go call other methods that end up calling back and\n// thus locking again\nlock.getReadLock().lock();\n\n// Now we do some stuff and realise we need to write so try to escalate the\n// lock as per the Javadocs and the above description\nlock.getReadLock().unlock(); // Does not actually release the lock\nlock.getWriteLock().lock();  // Blocks as some thread (this one!) holds read lock\n\nSystem.out.println(\"Will never get here\");\n</code></pre>\n\n<p>So I ask, is there a nice idiom to handle this situation?  Specifically, when a thread that holds a read lock (possibly reentrantly) discovers that it needs to do some writing, and thus wants to \"suspend\" its own read lock in order to pick up the write lock (blocking as required on other threads to release their holds on the read lock), and then \"pick up\" its hold on the read lock in the same state afterwards?</p>\n\n<p>Since this ReadWriteLock implementation was specifically designed to be reentrant, surely there is some sensible way to elevate a read lock to a write lock when the locks may be acquired reentrantly?  This is the critical part that means the naive approach does not work.</p>\n"},{"tags":["java","spring","spring-profiles"],"answers":[{"tags":[],"owner":{"account_id":296495,"reputation":17580,"user_id":601493,"accept_rate":73,"display_name":"Jan Zyka"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1417169400,"creation_date":1417169400,"answer_id":27186301,"question_id":27186124,"body_markdown":"If you don&#39;t mix XML and Java config you could use `@Profile` on a bean which has `@ComponentScan` annotation with your target package maybe? \r\n\r\nSimilarly with XML: you can have two different `&lt;beans ...&gt;` sections, each with different profile and in each of the section you define your own `&lt;context:component-scan basePackage=&quot;...&quot; /&gt;`\r\n\r\n    @Configuration\r\n    @Profile(&quot;profile1&quot;)\r\n    @ComponentScan(basePackage=&quot;package1&quot;)\r\n    class Config1 {\r\n    }\r\n    \r\n    @Configuration\r\n    @Profile(&quot;profile2&quot;)\r\n    @ComponentScan(basePackage=&quot;package2&quot;)\r\n    class Config2 {\r\n    }","title":"How to set a Spring profile to a package?","body":"<p>If you don't mix XML and Java config you could use <code>@Profile</code> on a bean which has <code>@ComponentScan</code> annotation with your target package maybe? </p>\n\n<p>Similarly with XML: you can have two different <code>&lt;beans ...&gt;</code> sections, each with different profile and in each of the section you define your own <code>&lt;context:component-scan basePackage=\"...\" /&gt;</code></p>\n\n<pre><code>@Configuration\n@Profile(\"profile1\")\n@ComponentScan(basePackage=\"package1\")\nclass Config1 {\n}\n\n@Configuration\n@Profile(\"profile2\")\n@ComponentScan(basePackage=\"package2\")\nclass Config2 {\n}\n</code></pre>\n"}],"owner":{"account_id":169233,"reputation":779,"user_id":395196,"accept_rate":40,"display_name":"JSPDeveloper01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9914,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":27186301,"answer_count":1,"score":6,"last_activity_date":1640682507,"creation_date":1417168791,"question_id":27186124,"body_markdown":"I want to set a profile name to a whole package and I don&#39;t know how. If where is no easy way then I have to mark every class in the package and sub packages with `@Profile` annotation. \r\n\r\n`&lt;context:component-scan/&gt;` tag does not support attribute like `profile` so I have no idea.","title":"How to set a Spring profile to a package?","body":"<p>I want to set a profile name to a whole package and I don't know how. If where is no easy way then I have to mark every class in the package and sub packages with <code>@Profile</code> annotation. </p>\n\n<p><code>&lt;context:component-scan/&gt;</code> tag does not support attribute like <code>profile</code> so I have no idea.</p>\n"},{"tags":["java","azure","maven","devops"],"answers":[{"tags":[],"owner":{"account_id":22613317,"reputation":1314,"user_id":16793150,"display_name":"SauravDas-MT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640682388,"creation_date":1640682388,"answer_id":70504893,"question_id":70465773,"body_markdown":"The **Build.BuildId** is a predefined variable and it&#39;s **the ID of the record for the completed build**. And similarly **Build.BuildNumber** is the name of the completed build, also known as the run number. You can specify [what is included](https://learn.microsoft.com/en-us/azure/devops/pipelines/process/run-number) in this value. A typical use of this variable is to make it part of the label format, which you specify on the repository tab.\r\n\r\nI checked several Microsoft document and blogs but didn&#39;t found any specific way to add the build id to the Manifest file of an EAR. The only way I found is by adding the variables only. **If you are using YAML or classic build pipelines, see [predefined variables](https://learn.microsoft.com/en-us/azure/devops/pipelines/build/variables?view=azure-devops) for a comprehensive list of system variables**.\r\n\r\nRead this [Understand variable syntax](https://learn.microsoft.com/en-us/azure/devops/pipelines/process/variables?view=azure-devops&amp;tabs=yaml,batch#understand-variable-syntax) to know the three different ways to reference variables.\r\n","title":"Azure DevOps Maven Build PIpeline - Add build id to the Manifest File","body":"<p>The <strong>Build.BuildId</strong> is a predefined variable and it's <strong>the ID of the record for the completed build</strong>. And similarly <strong>Build.BuildNumber</strong> is the name of the completed build, also known as the run number. You can specify <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/process/run-number\" rel=\"nofollow noreferrer\">what is included</a> in this value. A typical use of this variable is to make it part of the label format, which you specify on the repository tab.</p>\n<p>I checked several Microsoft document and blogs but didn't found any specific way to add the build id to the Manifest file of an EAR. The only way I found is by adding the variables only. <strong>If you are using YAML or classic build pipelines, see <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/build/variables?view=azure-devops\" rel=\"nofollow noreferrer\">predefined variables</a> for a comprehensive list of system variables</strong>.</p>\n<p>Read this <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/process/variables?view=azure-devops&amp;tabs=yaml,batch#understand-variable-syntax\" rel=\"nofollow noreferrer\">Understand variable syntax</a> to know the three different ways to reference variables.</p>\n"}],"owner":{"account_id":17655480,"reputation":23,"user_id":12815176,"display_name":"debowsley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70504893,"answer_count":1,"score":0,"last_activity_date":1640682388,"creation_date":1640282121,"question_id":70465773,"body_markdown":"Is there a way to add the build id to the Manifest file of an EAR?\r\nI have tried adding variables,  and I &quot;think&quot; I have added the Maven Options that I would normally put on the command line to set variables in my POM.  BUt nothing seems to work.\r\n\r\n\r\n\r\n```code\r\n# Maven\r\n# Build your Java project and run tests with Apache Maven.\r\n# Add steps that analyze code, save build artifacts, deploy, and more:\r\n# https://learn.microsoft.com/azure/devops/pipelines/languages/java\r\n\r\ntrigger:\r\n- main\r\n- dev\r\n- qa\r\n\r\npool:\r\n  vmImage: ubuntu-latest\r\n\r\nvariables:\r\n  IsMasterBranch: $[ eq(variables[&#39;Build.SourceBranch&#39;], &#39;refs/heads/main&#39;) ]\r\n  IsDevBranch: $[ eq(variables[&#39;Build.SourceBranch&#39;], &#39;refs/heads/dev&#39;) ]\r\n  IsQABranch: $[ eq(variables[&#39;Build.SourceBranch&#39;], &#39;refs/heads/qa&#39;) ]\r\n  BUILD_NUMBER: $(Build.BuildNumber)\r\n\r\nsteps:\r\n- powershell: &gt;\r\n    if(&#39;$(IsMasterBranch)&#39; -eq &#39;True&#39;) {\r\n      Write-Host &quot;##vso[task.setvariable variable=BuildTag;isOutput=true]$(Build.BuildId)-prod&quot;\r\n      Write-Host &quot;##vso[task.setvariable variable=branch;isOutput=true]prod&quot;\r\n      Write-Host &quot;##vso[task.setvariable variable=FullBuildTag;isOutput=true]$(Build.Repository.Name):$(Build.BuildId)-prod&quot;      \r\n    }\r\n     elseif(&#39;$(IsDevBranch)&#39; -eq &#39;True&#39;) {\r\n      Write-Host &quot;##vso[task.setvariable variable=BuildTag;isOutput=true]$(Build.BuildId)-dev&quot;\r\n      Write-Host &quot;##vso[task.setvariable variable=branch;isOutput=true]dev&quot;\r\n      Write-Host &quot;##vso[task.setvariable variable=FullBuildTag;isOutput=true]$(Build.Repository.Name):$(Build.BuildId)-dev&quot;\r\n    }\r\n    elseif(&#39;$(IsQABranch)&#39; -eq &#39;True&#39;) {\r\n      Write-Host &quot;##vso[task.setvariable variable=BuildTag;isOutput=true]$(Build.BuildId)-qa&quot;\r\n      Write-Host &quot;##vso[task.setvariable variable=branch;isOutput=true]qa&quot;\r\n      Write-Host &quot;##vso[task.setvariable variable=FullBuildTag;isOutput=true]$(Build.Repository.Name):$(Build.BuildId)-qa&quot;\r\n    }\r\n\r\n\r\n\r\n\r\n- task: Maven@3\r\n  inputs:\r\n    mavenPomFile: &#39;pom.xml&#39;\r\n    mavenOptions: &#39;-Xmx3072m&#39;\r\n    options: &#39;-Ddevelopment_environment=$(branch) -Dbuildnumber=434&#39;\r\n    javaHomeOption: &#39;JDKVersion&#39;\r\n    jdkVersionOption: &#39;1.8&#39;\r\n    jdkArchitectureOption: &#39;x64&#39;\r\n    publishJUnitResults: true\r\n    testResultsFiles: &#39;**/surefire-reports/TEST-*.xml&#39;\r\n    goals: &#39;package&#39;\r\n\r\n- task: PublishBuildArtifacts@1\r\n  inputs:\r\n    PathtoPublish: &#39;$(Build.SourcesDirectory)/test-hello-world-app-ear/target&#39;\r\n    ArtifactName: &#39;target&#39;\r\n    publishLocation: &#39;Container&#39;","title":"Azure DevOps Maven Build PIpeline - Add build id to the Manifest File","body":"<p>Is there a way to add the build id to the Manifest file of an EAR?\nI have tried adding variables,  and I &quot;think&quot; I have added the Maven Options that I would normally put on the command line to set variables in my POM.  BUt nothing seems to work.</p>\n<pre><code># Maven\n# Build your Java project and run tests with Apache Maven.\n# Add steps that analyze code, save build artifacts, deploy, and more:\n# https://learn.microsoft.com/azure/devops/pipelines/languages/java\n\ntrigger:\n- main\n- dev\n- qa\n\npool:\n  vmImage: ubuntu-latest\n\nvariables:\n  IsMasterBranch: $[ eq(variables['Build.SourceBranch'], 'refs/heads/main') ]\n  IsDevBranch: $[ eq(variables['Build.SourceBranch'], 'refs/heads/dev') ]\n  IsQABranch: $[ eq(variables['Build.SourceBranch'], 'refs/heads/qa') ]\n  BUILD_NUMBER: $(Build.BuildNumber)\n\nsteps:\n- powershell: &gt;\n    if('$(IsMasterBranch)' -eq 'True') {\n      Write-Host &quot;##vso[task.setvariable variable=BuildTag;isOutput=true]$(Build.BuildId)-prod&quot;\n      Write-Host &quot;##vso[task.setvariable variable=branch;isOutput=true]prod&quot;\n      Write-Host &quot;##vso[task.setvariable variable=FullBuildTag;isOutput=true]$(Build.Repository.Name):$(Build.BuildId)-prod&quot;      \n    }\n     elseif('$(IsDevBranch)' -eq 'True') {\n      Write-Host &quot;##vso[task.setvariable variable=BuildTag;isOutput=true]$(Build.BuildId)-dev&quot;\n      Write-Host &quot;##vso[task.setvariable variable=branch;isOutput=true]dev&quot;\n      Write-Host &quot;##vso[task.setvariable variable=FullBuildTag;isOutput=true]$(Build.Repository.Name):$(Build.BuildId)-dev&quot;\n    }\n    elseif('$(IsQABranch)' -eq 'True') {\n      Write-Host &quot;##vso[task.setvariable variable=BuildTag;isOutput=true]$(Build.BuildId)-qa&quot;\n      Write-Host &quot;##vso[task.setvariable variable=branch;isOutput=true]qa&quot;\n      Write-Host &quot;##vso[task.setvariable variable=FullBuildTag;isOutput=true]$(Build.Repository.Name):$(Build.BuildId)-qa&quot;\n    }\n\n\n\n\n- task: Maven@3\n  inputs:\n    mavenPomFile: 'pom.xml'\n    mavenOptions: '-Xmx3072m'\n    options: '-Ddevelopment_environment=$(branch) -Dbuildnumber=434'\n    javaHomeOption: 'JDKVersion'\n    jdkVersionOption: '1.8'\n    jdkArchitectureOption: 'x64'\n    publishJUnitResults: true\n    testResultsFiles: '**/surefire-reports/TEST-*.xml'\n    goals: 'package'\n\n- task: PublishBuildArtifacts@1\n  inputs:\n    PathtoPublish: '$(Build.SourcesDirectory)/test-hello-world-app-ear/target'\n    ArtifactName: 'target'\n    publishLocation: 'Container'\n</code></pre>\n"},{"tags":["java","spring","spring-security","spring-security-oauth2","token-exchange"],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1640599322,"creation_date":1640599322,"answer_id":70494040,"question_id":70493012,"body_markdown":"[RFC 8693 Token Exchange][1] was released jan 2020 and covers this feature. Spring security as of now does not support this fetaure yet, but should be released soon.\r\n\r\nyou can follow the open issue in Spring Security here:\r\n\r\n[Provide support for OAuth 2.0 Token Exchange for client][2]\r\n\r\nyou can read more about the flow in general here [on behalf of flow][3]\r\n\r\n\r\n  [1]: https://tools.ietf.org/html/rfc8693\r\n  [2]: https://github.com/spring-projects/spring-security/issues/5199\r\n  [3]: https://curity.io/resources/learn/on-behalf-of-flow/","title":"Token exchange in Spring OAuth2 client credentials flow","body":"<p><a href=\"https://tools.ietf.org/html/rfc8693\" rel=\"nofollow noreferrer\">RFC 8693 Token Exchange</a> was released jan 2020 and covers this feature. Spring security as of now does not support this fetaure yet, but should be released soon.</p>\n<p>you can follow the open issue in Spring Security here:</p>\n<p><a href=\"https://github.com/spring-projects/spring-security/issues/5199\" rel=\"nofollow noreferrer\">Provide support for OAuth 2.0 Token Exchange for client</a></p>\n<p>you can read more about the flow in general here <a href=\"https://curity.io/resources/learn/on-behalf-of-flow/\" rel=\"nofollow noreferrer\">on behalf of flow</a></p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1595,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70494040,"answer_count":1,"score":0,"last_activity_date":1640682207,"creation_date":1640592379,"question_id":70493012,"body_markdown":"I have following Spring Security configuration:\r\n\r\n&lt;!-- language: yaml --&gt;\r\n\r\n      security:\r\n        oauth2:\r\n          resourceserver:\r\n            jwt:\r\n              issuer-uri: ${issuer-uri-of-identity}\r\n          client:\r\n            registration:\r\n              some-app:\r\n                client-id: ${qwerty.server.client.client-id}\r\n                client-secret: ${qwerty.server.client.client-secret}\r\n                scope: ${qwerty.server.client.some-app-scope}\r\n                authorization-grant-type: client_credentials\r\n                provider: qwerty\r\n    \r\n    qwerty:\r\n      server:\r\n        max-clock-skew: 60\r\n        url: ....\r\n        scope: my-scope\r\n        client:\r\n          client-id: ...\r\n          client-secret: ....\r\n          some-app-scope: my-ticket-scope\r\n\r\nAnd following configuration is used:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n        private static final Authentication ANONYMOUS_AUTHENTICATION = new AnonymousAuthenticationToken(\r\n                &quot;anonymous&quot;, &quot;anonymousUser&quot;, AuthorityUtils.createAuthorityList(&quot;ROLE_ANONYMOUS&quot;));\r\n        ...\r\n        @Bean(&quot;someAppRestTemplate&quot;)\r\n        @Autowired\r\n        public RestTemplate buildRestTemplateForSomeApp(RestTemplateBuilder builder) {\r\n            return builder\r\n                    .messageConverters(converter)\r\n                    .additionalInterceptors(Arrays.asList(contentTypeInterceptor(), oauthInterceptor(&quot;some-app&quot;)))\r\n                    .build();\r\n        }\r\n       ...\r\n       private ClientHttpRequestInterceptor oauthInterceptor(String id) {\r\n            return (r, b, e) -&gt; {\r\n                OAuth2AuthorizedClient client = manager.authorize(\r\n                        OAuth2AuthorizeRequest\r\n                                .withClientRegistrationId(id)\r\n                                .principal(ANONYMOUS_AUTHENTICATION)\r\n                                .build()\r\n                );\r\n                Assert.notNull(client, &quot;Can not access File Storage Service&quot;);\r\n                r.getHeaders().setBearerAuth(client.getAccessToken().getTokenValue());\r\n                return e.execute(r, b);\r\n            };\r\n        }\r\n\r\n\r\nNow I need to do impersonation(https://datatracker.ietf.org/doc/html/rfc8693). So I need to pretend as some user. I need it because of &quot;current user&quot; logic inside some-app application.\r\n\r\nHow can I reconfigure to achieve it ?\r\n\r\n**P.S.** I tried to google it but I haven&#39;t found anything relevant.","title":"Token exchange in Spring OAuth2 client credentials flow","body":"<p>I have following Spring Security configuration:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          issuer-uri: ${issuer-uri-of-identity}\n      client:\n        registration:\n          some-app:\n            client-id: ${qwerty.server.client.client-id}\n            client-secret: ${qwerty.server.client.client-secret}\n            scope: ${qwerty.server.client.some-app-scope}\n            authorization-grant-type: client_credentials\n            provider: qwerty\n\nqwerty:\n  server:\n    max-clock-skew: 60\n    url: ....\n    scope: my-scope\n    client:\n      client-id: ...\n      client-secret: ....\n      some-app-scope: my-ticket-scope\n</code></pre>\n<p>And following configuration is used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static final Authentication ANONYMOUS_AUTHENTICATION = new AnonymousAuthenticationToken(\n            &quot;anonymous&quot;, &quot;anonymousUser&quot;, AuthorityUtils.createAuthorityList(&quot;ROLE_ANONYMOUS&quot;));\n    ...\n    @Bean(&quot;someAppRestTemplate&quot;)\n    @Autowired\n    public RestTemplate buildRestTemplateForSomeApp(RestTemplateBuilder builder) {\n        return builder\n                .messageConverters(converter)\n                .additionalInterceptors(Arrays.asList(contentTypeInterceptor(), oauthInterceptor(&quot;some-app&quot;)))\n                .build();\n    }\n   ...\n   private ClientHttpRequestInterceptor oauthInterceptor(String id) {\n        return (r, b, e) -&gt; {\n            OAuth2AuthorizedClient client = manager.authorize(\n                    OAuth2AuthorizeRequest\n                            .withClientRegistrationId(id)\n                            .principal(ANONYMOUS_AUTHENTICATION)\n                            .build()\n            );\n            Assert.notNull(client, &quot;Can not access File Storage Service&quot;);\n            r.getHeaders().setBearerAuth(client.getAccessToken().getTokenValue());\n            return e.execute(r, b);\n        };\n    }\n</code></pre>\n<p>Now I need to do impersonation(<a href=\"https://datatracker.ietf.org/doc/html/rfc8693\" rel=\"nofollow noreferrer\">https://datatracker.ietf.org/doc/html/rfc8693</a>). So I need to pretend as some user. I need it because of &quot;current user&quot; logic inside some-app application.</p>\n<p>How can I reconfigure to achieve it ?</p>\n<p><strong>P.S.</strong> I tried to google it but I haven't found anything relevant.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":12629306,"reputation":748,"user_id":9181430,"display_name":"Rohit Kumar"},"score":0,"creation_date":1640670764,"post_id":70503197,"comment_id":124628458,"body_markdown":"User data does not count external folders","body":"User data does not count external folders"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640679726,"post_id":70503197,"comment_id":124630379,"body_markdown":"@Rohit Kumar. That data dir is pretty internal.","body":"@Rohit Kumar. That data dir is pretty internal."},{"owner":{"account_id":19455431,"reputation":1,"user_id":14230876,"display_name":"Hiện T&#234;n Kh&#244;ng"},"score":0,"creation_date":1640681594,"post_id":70503197,"comment_id":124630941,"body_markdown":"Sorry but i save the file in internal storage (app private storage) not external.","body":"Sorry but i save the file in internal storage (app private storage) not external."}],"owner":{"account_id":19455431,"reputation":1,"user_id":14230876,"display_name":"Hiện T&#234;n Kh&#244;ng"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640681643,"creation_date":1640670228,"question_id":70503197,"body_markdown":"[![enter image description here][1]][1]My app can get image add in to folder &quot;photo&quot; and delete it, but after deleted image in folder &quot;photo&quot;  user data not free up although i checked files explorer in android studio and log really deleted. I save the file in internal storage (app private storage) not external. How i can fix?\r\n\r\n    public class InternalStorageHelper {\r\n\r\n    public static String saveToInternalStorage(Bitmap bitmapImage, Context context, String fileName) {\r\n       \r\n        File directory = new File(context.getApplicationInfo().dataDir, &quot;photo&quot;);\r\n        if (!directory.exists()) {\r\n            directory.mkdirs();\r\n        }\r\n        // Create imageDir\r\n        File myPath = new File(directory, fileName+ &quot;.jpg&quot;);\r\n        FileOutputStream fos = null;\r\n        if (myPath.exists()) {\r\n            myPath.delete();\r\n        }\r\n        try {\r\n            fos = new FileOutputStream(myPath);\r\n            // Use the compress method on the BitMap object to write image to the OutputStream\r\n            bitmapImage.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        try {\r\n            fos.close();\r\n        } catch (IOException ioException) {\r\n            ioException.printStackTrace();\r\n        }\r\n\r\n        return myPath.getAbsolutePath();\r\n    }\r\n\r\n\r\n    public static Bitmap loadImageFromStorage(String path) {\r\n        try {\r\n            File f = new File(path);\r\n\r\n            Bitmap b = BitmapFactory.decodeStream(new FileInputStream(f));\r\n            return b;\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static void deleteFile(String path) {\r\n        File fdelete = new File(path);\r\n        if (fdelete.exists()) {\r\n            if (fdelete.delete()) {\r\n                Log.d(&quot;progress&quot;, &quot;file Deleted :&quot; + path);\r\n            } else {\r\n                Log.d(&quot;progress&quot;, &quot;file not Deleted :&quot; + path);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NxELo.png","title":"Android: Deleted file but user data not free up. How can fix?","body":"<p><a href=\"https://i.stack.imgur.com/NxELo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NxELo.png\" alt=\"enter image description here\" /></a>My app can get image add in to folder &quot;photo&quot; and delete it, but after deleted image in folder &quot;photo&quot;  user data not free up although i checked files explorer in android studio and log really deleted. I save the file in internal storage (app private storage) not external. How i can fix?</p>\n<pre><code>public class InternalStorageHelper {\n\npublic static String saveToInternalStorage(Bitmap bitmapImage, Context context, String fileName) {\n   \n    File directory = new File(context.getApplicationInfo().dataDir, &quot;photo&quot;);\n    if (!directory.exists()) {\n        directory.mkdirs();\n    }\n    // Create imageDir\n    File myPath = new File(directory, fileName+ &quot;.jpg&quot;);\n    FileOutputStream fos = null;\n    if (myPath.exists()) {\n        myPath.delete();\n    }\n    try {\n        fos = new FileOutputStream(myPath);\n        // Use the compress method on the BitMap object to write image to the OutputStream\n        bitmapImage.compress(Bitmap.CompressFormat.PNG, 100, fos);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    try {\n        fos.close();\n    } catch (IOException ioException) {\n        ioException.printStackTrace();\n    }\n\n    return myPath.getAbsolutePath();\n}\n\n\npublic static Bitmap loadImageFromStorage(String path) {\n    try {\n        File f = new File(path);\n\n        Bitmap b = BitmapFactory.decodeStream(new FileInputStream(f));\n        return b;\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n\npublic static void deleteFile(String path) {\n    File fdelete = new File(path);\n    if (fdelete.exists()) {\n        if (fdelete.delete()) {\n            Log.d(&quot;progress&quot;, &quot;file Deleted :&quot; + path);\n        } else {\n            Log.d(&quot;progress&quot;, &quot;file not Deleted :&quot; + path);\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","windows","java-8"],"comments":[{"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"score":0,"creation_date":1640619113,"post_id":70497379,"comment_id":124617844,"body_markdown":"Maybe [this post](https://stackoverflow.com/questions/34482393/vcruntime140-dll-missing) answers your question.","body":"Maybe <a href=\"https://stackoverflow.com/questions/34482393/vcruntime140-dll-missing\">this post</a> answers your question."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640683071,"post_id":70497379,"comment_id":124631363,"body_markdown":"There are a number of possible fixes for &quot;missing vcruntime140.dll&quot; problems at https://www.softwaretestinghelp.com/vcruntime140-dll-not-found-error-fixed/","body":"There are a number of possible fixes for &quot;missing vcruntime140.dll&quot; problems at <a href=\"https://www.softwaretestinghelp.com/vcruntime140-dll-not-found-error-fixed/\" rel=\"nofollow noreferrer\">softwaretestinghelp.com/vcruntime140-dll-not-found-error-fix&zwnj;&#8203;ed</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640683185,"post_id":70497379,"comment_id":124631397,"body_markdown":"I can&#39;t be more specific ... &#39;cos I don&#39;t run Windows.  ^^^ is something that Googling found for me.  I should also add that Windows Server 2008 is 2 years beyond its &quot;end of life&quot;; see https://learn.microsoft.com/en-us/windows-server/get-started/extended-security-updates-deploy","body":"I can&#39;t be more specific ... &#39;cos I don&#39;t run Windows.  ^^^ is something that Googling found for me.  I should also add that Windows Server 2008 is 2 years beyond its &quot;end of life&quot;; see <a href=\"https://learn.microsoft.com/en-us/windows-server/get-started/extended-security-updates-deploy\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows-server/get-started/&hellip;</a>"},{"owner":{"account_id":23281482,"reputation":63,"user_id":17364877,"display_name":"bootstrap2025"},"score":0,"creation_date":1640684024,"post_id":70497379,"comment_id":124631639,"body_markdown":"The system belongs to a partner company, I cannot upgrade this system!","body":"The system belongs to a partner company, I cannot upgrade this system!"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640691966,"post_id":70497379,"comment_id":124633904,"body_markdown":"But you could tell your contacts at the partner company that they &gt;should&lt; upgrade ... and warn them that you will not be held responsible for problems caused by their running an EOL operating system.  (At some point they will be burned.)","body":"But you could tell your contacts at the partner company that they &gt;should&lt; upgrade ... and warn them that you will not be held responsible for problems caused by their running an EOL operating system.  (At some point they will be burned.)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640692293,"post_id":70497379,"comment_id":124634000,"body_markdown":"And when you think about it ... you are already being impacted by this because you are having to spend extra effort to get you software to run on their out-of-date system.  (I hope that they are paying for the extra work you have to do ...)","body":"And when you think about it ... you are already being impacted by this because you are having to spend extra effort to get you software to run on their out-of-date system.  (I hope that they are paying for the extra work you have to do ...)"},{"owner":{"account_id":23281482,"reputation":63,"user_id":17364877,"display_name":"bootstrap2025"},"score":0,"creation_date":1640943886,"post_id":70497379,"comment_id":124695464,"body_markdown":"Thank you very much for your suggestion, I will follow your suggestion to communicate this","body":"Thank you very much for your suggestion, I will follow your suggestion to communicate this"}],"owner":{"account_id":23281482,"reputation":63,"user_id":17364877,"display_name":"bootstrap2025"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640681591,"creation_date":1640618800,"question_id":70497379,"body_markdown":"When I installed the jdk and executed the java-version command, the error was reported as follows\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jmzBg.png\r\n\r\nI want to install the springboot project on winserver2008 and report an error after installing jdk.\r\nThe system version is ```Windows server2008 R2 Enterprise``` and my jdk version is ```1.8.0_261```.\r\n","title":"An error is reported when the java -verison command is executed in winpowershell","body":"<p>When I installed the jdk and executed the java-version command, the error was reported as follows\n<a href=\"https://i.stack.imgur.com/jmzBg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jmzBg.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to install the springboot project on winserver2008 and report an error after installing jdk.\nThe system version is <code>Windows server2008 R2 Enterprise</code> and my jdk version is <code>1.8.0_261</code>.</p>\n"},{"tags":["java","android","infrared"],"comments":[{"owner":{"account_id":5953715,"reputation":122,"user_id":6615010,"accept_rate":75,"display_name":"user6615010"},"score":0,"creation_date":1471502608,"post_id":39011458,"comment_id":65374235,"body_markdown":"I never done this type of application so please suggest me.thanks","body":"I never done this type of application so please suggest me.thanks"}],"answers":[{"tags":[],"owner":{"account_id":12732679,"reputation":7866,"user_id":9248718,"display_name":"Some random IT boy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640681337,"creation_date":1640681337,"answer_id":70504693,"question_id":39011458,"body_markdown":"While I am not familiar with the Android infra-red API&#39;s I can share some of the knowledge that I&#39;ve gathered with a couple of toy project&#39;s I&#39;ve building in the past.\r\n\r\n## Context\r\n\r\nEssentially I wanted to make an app that controlled the infra-red devices around my house. My problem was that my previous (and current) Android device did not have any Infra-Red capabilities. \r\n\r\n## The solution to my problem\r\nWhat I did to get around that was to have a couple of Arduino sketches that would be able to use an infra-red LED to send signals to these devices and have my Android device use Bluetooth to speak to the Arduinos. When the Arduino receives a certain message over bluetooth then shine a precise infra-red signal mandating a command to some device.\r\n\r\nAnd it worked!\r\n\r\n## Little summary before actual code an answer\r\n\r\nIt was not an easy task for me and had to do some research. Out of the sample code that has been provided I am not able to know _how much you actually know_ about the subject so I think I&#39;ll dump everything I knew when I solved my problem.\r\n\r\n## How does it work?\r\n\r\nWell, you guys might already know this but infra-red is another way of serial communication using _infra-red_ light as a transport. In layman&#39;s terms that means that there&#39;s something that simulates a 1 and a 0 (light-on vs light-off) and a certain frequency both devices need send and read bits in order to make sense out of a message. \r\n\r\n*Sidenote*: It&#39;s quite sensible to light interferences but it works fine in-doors.\r\n*Sidenote2*: Some vendors (like Sony) send bursts of the messages instead of sending the message once. Sony sends a short payload in short bursts of 3 signals before making a longer pause.\r\n\r\n*Easteregg*: I&#39;ve also noticed that some vendors send a static prefix so their devices can filter out interferences from commands. \r\n\r\nFor example: Messages sent at the proper frequency that start with `0xFEFEXXXX` are valid prefixes for Vendor-X\r\n\r\n\r\n## How do I get to know the message and frequency I need to use in order to make my TV/AC go beep-boop? &#129302;\r\n\r\nWell, you&#39;re screwed-ish. Usually the infra-red communication protocols are proprietary and not open-source. That means that there are two main things you can do to tackle such problem:\r\n\r\n1. You can hack the protocol yourself (suggested)\r\n2. You can do your research and see if there&#39;s an online community that has already hacked the protocol for the vendor you&#39;re targeting\r\n\r\n### 1 - Hacking the protocol yourself\r\n\r\nIt may sound as quite a mighty task but it&#39;s not that hard if you already own a vendor device, _really_. Thing is that once a vendor is comfortable with a communication protocol they stuff it into every single other device until a major flaw is found. So it&#39;s likely that once you crack the code for one Vendor-X TV it&#39;s also going to work on other Vendor-X TV&#39;s.\r\n\r\n#### How do I do that?\r\n\r\nThe way I did it for my digital-frame (NIX X08G), Sony Bravia TV and a cheal LED strip was to use a simple Arduino sketch with an infra-red receiver and get the signals out and nicely printed.\r\n\r\n[You can find _all code_ here](https://github.com/NanoSpicer/AIR-Playground)\r\n\r\nWhat you&#39;re looking for is the `.ino` sketch under `ir_code_dump` folder. \r\n**Please also make sure the sensors match the spec described in the `README.md` file.**\r\n\r\nSo just assemble the hardware (very simple and cheap), flash the `ir_code_dump` sketch into the Arduino and then use your infra-red remote pointing to the infra-red sensor and start pulling the outputs into the `Serial console`. You might just copy-paste the outputs from the Arduino IDE to a `.txt` file and use that later on your Android / Arduino project.\r\n\r\nAs you can see in the other folders of the repo I&#39;ve put together very small arduino sketches that toggled the frame, Sony TV and the LED strip-light.\r\n\r\n&gt; Hey, but you mentioned the AC above. Why no sketch for the AC?\r\n\r\nFair. What happenned with the AC is that the messages they spat out were too long and I couldn&#39;t use the `ir_code_dump` arduino sketch to pull the messages out due to memory constraints and implementation details. **Nevertheless**, there are open-source efforts that attempt of pulling out these messages and make them available to the community. [Here&#39;s the repo I&#39;ve used](https://github.com/ToniA/arduino-heatpumpir)\r\n\r\n### 2 - Do your research\r\n\r\nSee all I described above? It&#39;s likely that someone else has already done that for you and published it on github or similar. You can look for it and see if somebody already cracked your vendor&#39;s code.\r\n\r\n## Sending the message on Android\r\n\r\nHere I can just provide guideliness from what I would do if I had to implement that myself as I&#39;ve never had the chance to work with the given API.\r\n\r\n### Open source library\r\n\r\nI am willing to bet that somebody else already solved this problem and it&#39;s likely to have created an open-source library that you can already use. This approach would be the fastest one and the less troublesome as other people would&#39;ve used it and tested that works and solves the problem at hand. You can also take a sneak peak of the code  to see how to implement the same thing yourself. [This one looks like a good fit](https://github.com/OneButtonDeveloper/AndroidInfraRed)\r\n\r\n### Implementing it yourself\r\n\r\nAssuming you have cracked the **payload** you want to send and you&#39;ve also cracked the **frequency** you&#39;re willing to send that payload: What you&#39;re missing is to encode that by using the Android API&#39;s.\r\n\r\nTake a look at the Arduino IR library and see the implementation details on how they actually toggle the infra-red LED and see if you can do that yourself or there are wrapper API&#39;s that simplify the process for you.\r\n\r\n\r\n\r\nFinal note:\r\n\r\nI know I&#39;ve not provided the sample code on Android to solve your specific problem but I hope I&#39;ve been able to shine some light on you and make it easier to find the right path or solve the problem yourself. \r\n\r\n&#127877; Happy holidays!\r\n\r\n\r\n","title":"How to transmit infrared from android for tv power on, volume up and down","body":"<p>While I am not familiar with the Android infra-red API's I can share some of the knowledge that I've gathered with a couple of toy project's I've building in the past.</p>\n<h2>Context</h2>\n<p>Essentially I wanted to make an app that controlled the infra-red devices around my house. My problem was that my previous (and current) Android device did not have any Infra-Red capabilities.</p>\n<h2>The solution to my problem</h2>\n<p>What I did to get around that was to have a couple of Arduino sketches that would be able to use an infra-red LED to send signals to these devices and have my Android device use Bluetooth to speak to the Arduinos. When the Arduino receives a certain message over bluetooth then shine a precise infra-red signal mandating a command to some device.</p>\n<p>And it worked!</p>\n<h2>Little summary before actual code an answer</h2>\n<p>It was not an easy task for me and had to do some research. Out of the sample code that has been provided I am not able to know <em>how much you actually know</em> about the subject so I think I'll dump everything I knew when I solved my problem.</p>\n<h2>How does it work?</h2>\n<p>Well, you guys might already know this but infra-red is another way of serial communication using <em>infra-red</em> light as a transport. In layman's terms that means that there's something that simulates a 1 and a 0 (light-on vs light-off) and a certain frequency both devices need send and read bits in order to make sense out of a message.</p>\n<p><em>Sidenote</em>: It's quite sensible to light interferences but it works fine in-doors.\n<em>Sidenote2</em>: Some vendors (like Sony) send bursts of the messages instead of sending the message once. Sony sends a short payload in short bursts of 3 signals before making a longer pause.</p>\n<p><em>Easteregg</em>: I've also noticed that some vendors send a static prefix so their devices can filter out interferences from commands.</p>\n<p>For example: Messages sent at the proper frequency that start with <code>0xFEFEXXXX</code> are valid prefixes for Vendor-X</p>\n<h2>How do I get to know the message and frequency I need to use in order to make my TV/AC go beep-boop? 🤖</h2>\n<p>Well, you're screwed-ish. Usually the infra-red communication protocols are proprietary and not open-source. That means that there are two main things you can do to tackle such problem:</p>\n<ol>\n<li>You can hack the protocol yourself (suggested)</li>\n<li>You can do your research and see if there's an online community that has already hacked the protocol for the vendor you're targeting</li>\n</ol>\n<h3>1 - Hacking the protocol yourself</h3>\n<p>It may sound as quite a mighty task but it's not that hard if you already own a vendor device, <em>really</em>. Thing is that once a vendor is comfortable with a communication protocol they stuff it into every single other device until a major flaw is found. So it's likely that once you crack the code for one Vendor-X TV it's also going to work on other Vendor-X TV's.</p>\n<h4>How do I do that?</h4>\n<p>The way I did it for my digital-frame (NIX X08G), Sony Bravia TV and a cheal LED strip was to use a simple Arduino sketch with an infra-red receiver and get the signals out and nicely printed.</p>\n<p><a href=\"https://github.com/NanoSpicer/AIR-Playground\" rel=\"nofollow noreferrer\">You can find <em>all code</em> here</a></p>\n<p>What you're looking for is the <code>.ino</code> sketch under <code>ir_code_dump</code> folder.\n<strong>Please also make sure the sensors match the spec described in the <code>README.md</code> file.</strong></p>\n<p>So just assemble the hardware (very simple and cheap), flash the <code>ir_code_dump</code> sketch into the Arduino and then use your infra-red remote pointing to the infra-red sensor and start pulling the outputs into the <code>Serial console</code>. You might just copy-paste the outputs from the Arduino IDE to a <code>.txt</code> file and use that later on your Android / Arduino project.</p>\n<p>As you can see in the other folders of the repo I've put together very small arduino sketches that toggled the frame, Sony TV and the LED strip-light.</p>\n<blockquote>\n<p>Hey, but you mentioned the AC above. Why no sketch for the AC?</p>\n</blockquote>\n<p>Fair. What happenned with the AC is that the messages they spat out were too long and I couldn't use the <code>ir_code_dump</code> arduino sketch to pull the messages out due to memory constraints and implementation details. <strong>Nevertheless</strong>, there are open-source efforts that attempt of pulling out these messages and make them available to the community. <a href=\"https://github.com/ToniA/arduino-heatpumpir\" rel=\"nofollow noreferrer\">Here's the repo I've used</a></p>\n<h3>2 - Do your research</h3>\n<p>See all I described above? It's likely that someone else has already done that for you and published it on github or similar. You can look for it and see if somebody already cracked your vendor's code.</p>\n<h2>Sending the message on Android</h2>\n<p>Here I can just provide guideliness from what I would do if I had to implement that myself as I've never had the chance to work with the given API.</p>\n<h3>Open source library</h3>\n<p>I am willing to bet that somebody else already solved this problem and it's likely to have created an open-source library that you can already use. This approach would be the fastest one and the less troublesome as other people would've used it and tested that works and solves the problem at hand. You can also take a sneak peak of the code  to see how to implement the same thing yourself. <a href=\"https://github.com/OneButtonDeveloper/AndroidInfraRed\" rel=\"nofollow noreferrer\">This one looks like a good fit</a></p>\n<h3>Implementing it yourself</h3>\n<p>Assuming you have cracked the <strong>payload</strong> you want to send and you've also cracked the <strong>frequency</strong> you're willing to send that payload: What you're missing is to encode that by using the Android API's.</p>\n<p>Take a look at the Arduino IR library and see the implementation details on how they actually toggle the infra-red LED and see if you can do that yourself or there are wrapper API's that simplify the process for you.</p>\n<p>Final note:</p>\n<p>I know I've not provided the sample code on Android to solve your specific problem but I hope I've been able to shine some light on you and make it easier to find the right path or solve the problem yourself.</p>\n<p>🎅 Happy holidays!</p>\n"}],"owner":{"account_id":5953715,"reputation":122,"user_id":6615010,"accept_rate":75,"display_name":"user6615010"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":1,"score":6,"last_activity_date":1640681337,"creation_date":1471502384,"question_id":39011458,"body_markdown":"I used this code for samsung tv of power on , volume up and down but it&#39;s not worked for me.so want to know i missed any thing or i am doing any thing wrong please suggest me.\r\n\r\n     power.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    irSend(v);\r\n                }\r\n            });\r\n\r\n            volup.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    irSend(v);\r\n                }\r\n            });\r\n\r\n            voldown.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    irSend(v);\r\n                }\r\n            });\r\n            irData = new SparseArray&lt;String&gt;();\r\n                irData.put(R.id.voldown,\r\n                        hex2dec(&quot;0000 006d 0022 0003 00a9 00a8 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0040 0015 0015 0015 003f 0015 003f 0015 003f 0015 003f 0015 003f 0015 003f 0015 0702 00a9 00a8 0015 0015 0015 0e6e&quot;));\r\n                irData.put(R.id.volup,\r\n                        hex2dec(&quot;0000 006d 0022 0003 00a9 00a8 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 003f 0015 003f 0015 0702 00a9 00a8 0015 0015 0015 0e6e&quot;));\r\n                irData.put(R.id.power,\r\n                        hex2dec(&quot;0000 006d 0022 0003 00a9 00a8 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 0015 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 0015 0015 003f 0015 003f 0015 003f 0015 003f 0015 0702 00a9 00a8 0015 0015 0015 0e6e&quot;));\r\n\r\n\r\n\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\r\n\r\n                irInit4KitKat();\r\n\r\n            }\r\n        }\r\n\r\n    @TargetApi(Build.VERSION_CODES.KITKAT)\r\n    public void irInit4KitKat() {\r\n\r\n        // Get a reference to the ConsumerIrManager\r\n        mCIR = (ConsumerIrManager) getSystemService(Context.CONSUMER_IR_SERVICE);\r\n\r\n    }\r\n\r\n\r\n    public void irSend(View view) {\r\n\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT){\r\n\r\n            irSend4Kitkat(view);\r\n        }\r\n    }\r\n\r\n        @TargetApi(Build.VERSION_CODES.KITKAT)\r\n        private void irSend4Kitkat(View view) {\r\n\r\n    if(mCIR.hasIrEmitter() == true){\r\n        String data = irData.get(view.getId());\r\n        if (data != null) {\r\n        String values[] = data.split(&quot;,&quot;);\r\n        int[] pattern = new int[values.length-1];\r\n\r\n        for (int i=0; i&lt;pattern.length; i++){\r\n            pattern[i] = Integer.parseInt(values[i+1]);\r\n        }\r\n        Log.e(&quot;LOG&quot;, mCIR.getCarrierFrequencies()+ &quot;@&quot; + Integer.parseInt(values[0]) + &quot;@&quot; + pattern);\r\n\r\n        mCIR.transmit(Integer.parseInt(values[0]), pattern);\r\n        }\r\n    }else{\r\n            Log.e(&quot;LOG&quot;, &quot;not supported options&quot;);\r\n            Toast.makeText(MainActivity.this , &quot;This device is not Support infrared.&quot; , Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n\r\n\r\n\r\n        protected String hex2dec(String irData) {\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(irData\r\n            .split(&quot; &quot;)));\r\n        list.remove(0); // dummy\r\n        int frequency = Integer.parseInt(list.remove(0), 16); // frequency\r\n        list.remove(0); // seq1\r\n        list.remove(0); // seq2\r\n\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n        list.set(i, Integer.toString(Integer.parseInt(list.get(i), 16)*26));\r\n        }\r\n\r\n        frequency = (int) (1000000 / (frequency * 0.241246));\r\n            list.add(0, Integer.toString(frequency));\r\n\r\n        irData = &quot;&quot;;\r\n        for (String s : list) {\r\n        irData += s + &quot;,&quot;;\r\n        }\r\n        return irData;\r\n         }\r\n        }\r\nI also set the permission in menifest file.\r\n\r\n     &lt;uses-permission android:name=&quot;android.permission.TRANSMIT_IR&quot;\r\n        android:required=&quot;false&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.consumerir&quot; /&gt;\r\n\r\nI used for only 19 and up version.when we click on Text power then infrared light was burning. ","title":"How to transmit infrared from android for tv power on, volume up and down","body":"<p>I used this code for samsung tv of power on , volume up and down but it's not worked for me.so want to know i missed any thing or i am doing any thing wrong please suggest me.</p>\n\n<pre><code> power.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                irSend(v);\n            }\n        });\n\n        volup.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                irSend(v);\n            }\n        });\n\n        voldown.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                irSend(v);\n            }\n        });\n        irData = new SparseArray&lt;String&gt;();\n            irData.put(R.id.voldown,\n                    hex2dec(\"0000 006d 0022 0003 00a9 00a8 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0040 0015 0015 0015 003f 0015 003f 0015 003f 0015 003f 0015 003f 0015 003f 0015 0702 00a9 00a8 0015 0015 0015 0e6e\"));\n            irData.put(R.id.volup,\n                    hex2dec(\"0000 006d 0022 0003 00a9 00a8 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 003f 0015 003f 0015 0702 00a9 00a8 0015 0015 0015 0e6e\"));\n            irData.put(R.id.power,\n                    hex2dec(\"0000 006d 0022 0003 00a9 00a8 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 003f 0015 0015 0015 003f 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 003f 0015 0015 0015 003f 0015 003f 0015 003f 0015 003f 0015 0702 00a9 00a8 0015 0015 0015 0e6e\"));\n\n\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\n\n            irInit4KitKat();\n\n        }\n    }\n\n@TargetApi(Build.VERSION_CODES.KITKAT)\npublic void irInit4KitKat() {\n\n    // Get a reference to the ConsumerIrManager\n    mCIR = (ConsumerIrManager) getSystemService(Context.CONSUMER_IR_SERVICE);\n\n}\n\n\npublic void irSend(View view) {\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT){\n\n        irSend4Kitkat(view);\n    }\n}\n\n    @TargetApi(Build.VERSION_CODES.KITKAT)\n    private void irSend4Kitkat(View view) {\n\nif(mCIR.hasIrEmitter() == true){\n    String data = irData.get(view.getId());\n    if (data != null) {\n    String values[] = data.split(\",\");\n    int[] pattern = new int[values.length-1];\n\n    for (int i=0; i&lt;pattern.length; i++){\n        pattern[i] = Integer.parseInt(values[i+1]);\n    }\n    Log.e(\"LOG\", mCIR.getCarrierFrequencies()+ \"@\" + Integer.parseInt(values[0]) + \"@\" + pattern);\n\n    mCIR.transmit(Integer.parseInt(values[0]), pattern);\n    }\n}else{\n        Log.e(\"LOG\", \"not supported options\");\n        Toast.makeText(MainActivity.this , \"This device is not Support infrared.\" , Toast.LENGTH_LONG).show();\n        }\n    }\n\n\n\n    protected String hex2dec(String irData) {\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(irData\n        .split(\" \")));\n    list.remove(0); // dummy\n    int frequency = Integer.parseInt(list.remove(0), 16); // frequency\n    list.remove(0); // seq1\n    list.remove(0); // seq2\n\n    for (int i = 0; i &lt; list.size(); i++) {\n    list.set(i, Integer.toString(Integer.parseInt(list.get(i), 16)*26));\n    }\n\n    frequency = (int) (1000000 / (frequency * 0.241246));\n        list.add(0, Integer.toString(frequency));\n\n    irData = \"\";\n    for (String s : list) {\n    irData += s + \",\";\n    }\n    return irData;\n     }\n    }\n</code></pre>\n\n<p>I also set the permission in menifest file.</p>\n\n<pre><code> &lt;uses-permission android:name=\"android.permission.TRANSMIT_IR\"\n    android:required=\"false\" /&gt;\n&lt;uses-feature android:name=\"android.hardware.consumerir\" /&gt;\n</code></pre>\n\n<p>I used for only 19 and up version.when we click on Text power then infrared light was burning. </p>\n"},{"tags":["java","maven","tomcat","log4j"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1636896560,"post_id":69960854,"comment_id":123674545,"body_markdown":"What does visualvm (or another profiler) say is the leak?","body":"What does visualvm (or another profiler) say is the leak?"}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640679835,"creation_date":1637085540,"answer_id":69993981,"question_id":69960854,"body_markdown":"Your hypothesis is correct: `log4j-web` requires support for [`ServletContainerInitializer`s](https://jakarta.ee/specifications/platform/8/apidocs/javax/servlet/servletcontainerinitializer), which were introduced in Servlet 3.0.\r\n\r\nSince Servlet 5.0 (which Tomcat 10 implements), the full name of the class changed from `javax.servlet.ServletContainerInitializer` to `jakarta.servlet.ServletContainerInitializer` due to a copyright dispute between Oracle and the Eclipse Foundation. Therefore all versions of `log4j-web` do not work on Tomcat 10.\r\n\r\n**Edit**: Since Log4j 2.15.0 a version of `log4j-web` supporting Jakarta EE 9+ servers is available: [`log4j-jakarta-web`](https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-jakarta-web), which solves the feature request [LOG4J2-2978](https://issues.apache.org/jira/browse/LOG4J2-2978).\r\n","title":"Log4j 2 memory leak","body":"<p>Your hypothesis is correct: <code>log4j-web</code> requires support for <a href=\"https://jakarta.ee/specifications/platform/8/apidocs/javax/servlet/servletcontainerinitializer\" rel=\"nofollow noreferrer\"><code>ServletContainerInitializer</code>s</a>, which were introduced in Servlet 3.0.</p>\n<p>Since Servlet 5.0 (which Tomcat 10 implements), the full name of the class changed from <code>javax.servlet.ServletContainerInitializer</code> to <code>jakarta.servlet.ServletContainerInitializer</code> due to a copyright dispute between Oracle and the Eclipse Foundation. Therefore all versions of <code>log4j-web</code> do not work on Tomcat 10.</p>\n<p><strong>Edit</strong>: Since Log4j 2.15.0 a version of <code>log4j-web</code> supporting Jakarta EE 9+ servers is available: <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-jakarta-web\" rel=\"nofollow noreferrer\"><code>log4j-jakarta-web</code></a>, which solves the feature request <a href=\"https://issues.apache.org/jira/browse/LOG4J2-2978\" rel=\"nofollow noreferrer\">LOG4J2-2978</a>.</p>\n"}],"owner":{"account_id":17835267,"reputation":3,"user_id":17408205,"display_name":"lani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":799,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69993981,"answer_count":1,"score":0,"last_activity_date":1640679835,"creation_date":1636872208,"question_id":69960854,"body_markdown":"I use Tomcat 10.0.6, log4j 2.14.1. When I shutdown Tomcat I see this logs:\r\n```\r\n13-Nov-2021 22:32:32.915 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [airline] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@59402b8f]) and a value of type [org.apache.logging.log4j.core.impl.MutableLogEvent] (value [org.apache.logging.log4j.core.impl.MutableLogEvent@7188af83]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Nov-2021 22:32:32.915 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [airline] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@6be968ce]) and a value of type [org.apache.logging.log4j.core.pattern.DatePatternConverter.PatternFormatter] (value [org.apache.logging.log4j.core.pattern.DatePatternConverter$PatternFormatter@7c37508a]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Nov-2021 22:32:32.917 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [airline] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@247310d0]) and a value of type [org.apache.logging.log4j.message.ReusableSimpleMessage] (value [org.apache.logging.log4j.message.ReusableSimpleMessage@1033576a]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Nov-2021 22:32:32.917 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [airline] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@303cf2ba]) and a value of type [org.apache.logging.log4j.core.pattern.DatePatternConverter.PatternFormatter] (value [org.apache.logging.log4j.core.pattern.DatePatternConverter$PatternFormatter@76494737]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Nov-2021 22:32:32.921 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [airline] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@59402b8f]) and a value of type [org.apache.logging.log4j.core.impl.MutableLogEvent] (value [org.apache.logging.log4j.core.impl.MutableLogEvent@17fc391b]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Nov-2021 22:32:32.921 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [airline] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@6be968ce]) and a value of type [org.apache.logging.log4j.core.pattern.DatePatternConverter.PatternFormatter] (value [org.apache.logging.log4j.core.pattern.DatePatternConverter$PatternFormatter@2b30a42c]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n13-Nov-2021 22:32:32.926 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [airline] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@247310d0]) and a value of type [org.apache.logging.log4j.message.ReusableSimpleMessage] (value [org.apache.logging.log4j.message.ReusableSimpleMessage@609e8838]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n```\r\nlog4j2.xml\r\n```\r\n&lt;Configuration&gt;\r\n    &lt;Properties&gt;\r\n        &lt;Property name=&quot;property_console&quot;&gt;%d{HH:mm:ss} %-5level %logger{1} - %msg%n&lt;/Property&gt;\r\n        &lt;Property name=&quot;property_file&quot;&gt;\r\n            %d{yyyy-MM-dd HH:mm:ss} %-5level [%t] %logger{6} - %msg%n\r\n        &lt;/Property&gt;\r\n    &lt;/Properties&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${property_console}&quot;/&gt;\r\n        &lt;/Console&gt;\r\n        &lt;RollingFile name=&quot;FileRolling&quot; fileName=&quot;logs/log.txt&quot; append=&quot;true&quot; filePattern=&quot;logs/${date:yyyy-MM-dd}/%d{yyyy-MM-dd_HH-mm}.txt&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${property_file}&quot;/&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;100 K&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;ALL&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;FileRolling&quot;/&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\nMy ```log4j2``` in ```pom.xml```\r\n```\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-web&lt;/artifactId&gt;\r\n        &lt;version&gt;2.14.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nI think it maybe connect with that i use ```jakarta.servlet``` 3.0 dependency but i don&#39;t know. \r\nMoving .jar to tomcat/lib does not get any changes. What can be wrong?","title":"Log4j 2 memory leak","body":"<p>I use Tomcat 10.0.6, log4j 2.14.1. When I shutdown Tomcat I see this logs:</p>\n<pre><code>13-Nov-2021 22:32:32.915 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [airline] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@59402b8f]) and a value of type [org.apache.logging.log4j.core.impl.MutableLogEvent] (value [org.apache.logging.log4j.core.impl.MutableLogEvent@7188af83]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Nov-2021 22:32:32.915 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [airline] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@6be968ce]) and a value of type [org.apache.logging.log4j.core.pattern.DatePatternConverter.PatternFormatter] (value [org.apache.logging.log4j.core.pattern.DatePatternConverter$PatternFormatter@7c37508a]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Nov-2021 22:32:32.917 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [airline] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@247310d0]) and a value of type [org.apache.logging.log4j.message.ReusableSimpleMessage] (value [org.apache.logging.log4j.message.ReusableSimpleMessage@1033576a]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Nov-2021 22:32:32.917 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [airline] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@303cf2ba]) and a value of type [org.apache.logging.log4j.core.pattern.DatePatternConverter.PatternFormatter] (value [org.apache.logging.log4j.core.pattern.DatePatternConverter$PatternFormatter@76494737]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Nov-2021 22:32:32.921 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [airline] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@59402b8f]) and a value of type [org.apache.logging.log4j.core.impl.MutableLogEvent] (value [org.apache.logging.log4j.core.impl.MutableLogEvent@17fc391b]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Nov-2021 22:32:32.921 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [airline] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@6be968ce]) and a value of type [org.apache.logging.log4j.core.pattern.DatePatternConverter.PatternFormatter] (value [org.apache.logging.log4j.core.pattern.DatePatternConverter$PatternFormatter@2b30a42c]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n13-Nov-2021 22:32:32.926 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [airline] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@247310d0]) and a value of type [org.apache.logging.log4j.message.ReusableSimpleMessage] (value [org.apache.logging.log4j.message.ReusableSimpleMessage@609e8838]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n</code></pre>\n<p>log4j2.xml</p>\n<pre><code>&lt;Configuration&gt;\n    &lt;Properties&gt;\n        &lt;Property name=&quot;property_console&quot;&gt;%d{HH:mm:ss} %-5level %logger{1} - %msg%n&lt;/Property&gt;\n        &lt;Property name=&quot;property_file&quot;&gt;\n            %d{yyyy-MM-dd HH:mm:ss} %-5level [%t] %logger{6} - %msg%n\n        &lt;/Property&gt;\n    &lt;/Properties&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${property_console}&quot;/&gt;\n        &lt;/Console&gt;\n        &lt;RollingFile name=&quot;FileRolling&quot; fileName=&quot;logs/log.txt&quot; append=&quot;true&quot; filePattern=&quot;logs/${date:yyyy-MM-dd}/%d{yyyy-MM-dd_HH-mm}.txt&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${property_file}&quot;/&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;100 K&quot;/&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;ALL&quot;&gt;\n            &lt;AppenderRef ref=&quot;FileRolling&quot;/&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>My <code>log4j2</code> in <code>pom.xml</code></p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-web&lt;/artifactId&gt;\n        &lt;version&gt;2.14.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I think it maybe connect with that i use <code>jakarta.servlet</code> 3.0 dependency but i don't know.\nMoving .jar to tomcat/lib does not get any changes. What can be wrong?</p>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1640679983,"post_id":70504362,"comment_id":124630452,"body_markdown":"Well yes. What&#39;s stopping you from trying it out? It should not be that much code to set up a simple base for this - and see there it leads you.","body":"Well yes. What&#39;s stopping you from trying it out? It should not be that much code to set up a simple base for this - and see there it leads you."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1640682020,"post_id":70504362,"comment_id":124631051,"body_markdown":"maybe using a Service Provider, check the [ServiceLoader](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html) class (not related to Annotations) (or the [Introduction to the Service Provider Interfaces](https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html))","body":"maybe using a Service Provider, check the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">ServiceLoader</a> class (not related to Annotations) (or the <a href=\"https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html\" rel=\"nofollow noreferrer\">Introduction to the Service Provider Interfaces</a>)"}],"owner":{"account_id":3594380,"reputation":441,"user_id":2999563,"display_name":"abcdef"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640679257,"creation_date":1640679257,"question_id":70504362,"body_markdown":"I have the following situation : \r\n\r\nBase Jar file with a class file that can be extended, the use of the class file is to be able to load objects of that type from a file.\r\n\r\nExample\r\n\r\nClass file that can be extended = Shape\r\n\r\n.square files are used to load a Square shape class, .circle files are used to load a Circle shape class etc. It could also be the case that .triangle files can load either an IsoscelesTriangle shape class or an EquilateralTriangle shape class, the first 3 bytes of the file could be an identifier to specify which triangle. The basics is each Shape class determines what criteria it is used to determine whether the file is used to load it or not.\r\n\r\nI&#39;d like to be able to have another jar file provided at run time to add the ability for them to process Shape classes that they have defined (one or more shape classes, doesan&#39;t matter). The loader would some how find out about these classes or have then registered with itself. I like the idea of the loader class finding out about the new Shape classes in an automated way. Is there a way this can be done at run time with Annotations?\r\n\r\nLastly is there a better way than using Annotations? This is effectively a plugin type architecture and I would prefer not using OSGI","title":"Can Java Annotations be used for creating a plugin design?","body":"<p>I have the following situation :</p>\n<p>Base Jar file with a class file that can be extended, the use of the class file is to be able to load objects of that type from a file.</p>\n<p>Example</p>\n<p>Class file that can be extended = Shape</p>\n<p>.square files are used to load a Square shape class, .circle files are used to load a Circle shape class etc. It could also be the case that .triangle files can load either an IsoscelesTriangle shape class or an EquilateralTriangle shape class, the first 3 bytes of the file could be an identifier to specify which triangle. The basics is each Shape class determines what criteria it is used to determine whether the file is used to load it or not.</p>\n<p>I'd like to be able to have another jar file provided at run time to add the ability for them to process Shape classes that they have defined (one or more shape classes, doesan't matter). The loader would some how find out about these classes or have then registered with itself. I like the idea of the loader class finding out about the new Shape classes in an automated way. Is there a way this can be done at run time with Annotations?</p>\n<p>Lastly is there a better way than using Annotations? This is effectively a plugin type architecture and I would prefer not using OSGI</p>\n"},{"tags":["java","android","scoped-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1640679815,"post_id":70502746,"comment_id":124630404,"body_markdown":"`want to access the media files/ videos from the shared storage using Media Store` Ok. But then put that in the subject of your post too.","body":"<code>want to access the media files&#47; videos from the shared storage using Media Store</code> Ok. But then put that in the subject of your post too."},{"owner":{"account_id":1198166,"reputation":1484,"user_id":1169441,"display_name":"Varsha Kulkarni"},"score":0,"creation_date":1640696532,"post_id":70502746,"comment_id":124635367,"body_markdown":"Check if it returns any video without adding any filters, pass null for `selection` and `selectionArgs` and see.","body":"Check if it returns any video without adding any filters, pass null for <code>selection</code> and <code>selectionArgs</code> and see."}],"answers":[{"tags":[],"owner":{"account_id":14437669,"reputation":627,"user_id":10429259,"display_name":"Bhavin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640668794,"creation_date":1640668794,"answer_id":70503052,"question_id":70502746,"body_markdown":"There is no issue with you code, But you haven&#39;t asked for External storage read permission.\r\n\r\nAdd following permission in your `AndroidManifest.xml` file\r\n\r\n    &lt;manifest ...&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        ....\r\n    &lt;/manifest&gt;\r\n\r\nAnd ask for this permission at run time like shown in [Request App Permissions](https://developer.android.com/training/permissions/requesting).","title":"Accessing media files using Scoped Storage on Android 10 or higher","body":"<p>There is no issue with you code, But you haven't asked for External storage read permission.</p>\n<p>Add following permission in your <code>AndroidManifest.xml</code> file</p>\n<pre><code>&lt;manifest ...&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    ....\n&lt;/manifest&gt;\n</code></pre>\n<p>And ask for this permission at run time like shown in <a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">Request App Permissions</a>.</p>\n"}],"owner":{"account_id":21583377,"reputation":11,"user_id":15914249,"display_name":"Kartik Thakur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640679231,"creation_date":1640665123,"question_id":70502746,"body_markdown":"I want to access the media files/ videos from the shared storage using Media Store on Android &gt;=10.\r\nI read the google developer documentation but didn&#39;t get the answer( [https://developer.android.com/training/data-storage/shared/media][1] ). \r\n I want to access videos from the shared storage using MediaStore.Video.\r\n\r\nI tried the following code but it didn&#39;t work, even the menu to selection menu was not opened :\r\n\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n \r\n    List&lt;Video&gt; videoList = new ArrayList&lt;Video&gt;(); //Video is a class.\r\n    Uri collection;\r\n \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n \r\n        //Media Store\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            collection = MediaStore.Video.Media.getContentUri(MediaStore.VOLUME_EXTERNAL);\r\n        } else {\r\n            collection = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\r\n \r\n        }\r\n        String[] projection = new String[] {\r\n                MediaStore.Video.Media._ID,\r\n                MediaStore.Video.Media.DISPLAY_NAME,\r\n                MediaStore.Video.Media.DURATION,\r\n                MediaStore.Video.Media.SIZE\r\n        };\r\n        String selection = MediaStore.Video.Media.DURATION +\r\n                &quot; &gt;= ?&quot;;\r\n        String[] selectionArgs = new String[] {\r\n                String.valueOf(TimeUnit.MILLISECONDS.convert(5, TimeUnit.MINUTES))\r\n        };\r\n\r\n        String sortOrder = MediaStore.Video.Media.DISPLAY_NAME + &quot; ASC&quot;;\r\n        try (Cursor cursor = getApplicationContext().getContentResolver().query(\r\n                collection,\r\n                projection,\r\n                selection,\r\n                selectionArgs,\r\n                sortOrder)) {\r\n            // Cache column indices.\r\n            int idColumn = ((Cursor) cursor).getColumnIndexOrThrow(MediaStore.Video.Media._ID);\r\n            int nameColumn = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.DISPLAY_NAME);\r\n            int durationColumn = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.DURATION);\r\n            int sizeColumn = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.SIZE);\r\n \r\n            while (cursor.moveToNext()) {\r\n                // Get values of columns for a given video.\r\n                long id = cursor.getLong(idColumn);\r\n                String name = cursor.getString(nameColumn);\r\n                int duration = cursor.getInt(durationColumn);\r\n                int size = cursor.getInt(sizeColumn);\r\n \r\n                Uri contentUri = ContentUris.withAppendedId(\r\n                        MediaStore.Video.Media.EXTERNAL_CONTENT_URI, id);\r\n \r\n                // Stores column values and the contentUri in a local object\r\n                // that represents the media file.\r\n                videoList.add(new Video(contentUri, name, duration, size));\r\n            }\r\n        }\r\n    }\r\n}\r\n \r\n \r\n//Video Class\r\npublic class Video {\r\n    private final Uri uri;\r\n    private final String name;\r\n    private final int duration;\r\n    private final int size;\r\n \r\n    public Uri getUri() {\r\n        return uri;\r\n    }\r\n \r\n    public String getName() {\r\n        return name;\r\n    }\r\n \r\n    public int getDuration() {\r\n        return duration;\r\n    }\r\n \r\n    public int getSize() {\r\n        return size;\r\n    }\r\n \r\n    public Video(Uri uri, String name, int duration, int size) {\r\n        this.uri = uri;\r\n        this.name = name;\r\n        this.duration = duration;\r\n        this.size = size; \r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/training/data-storage/shared/media","title":"Accessing media files using Scoped Storage on Android 10 or higher","body":"<p>I want to access the media files/ videos from the shared storage using Media Store on Android &gt;=10.\nI read the google developer documentation but didn't get the answer( <a href=\"https://developer.android.com/training/data-storage/shared/media\" rel=\"nofollow noreferrer\">https://developer.android.com/training/data-storage/shared/media</a> ).\nI want to access videos from the shared storage using MediaStore.Video.</p>\n<p>I tried the following code but it didn't work, even the menu to selection menu was not opened :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n \n    List&lt;Video&gt; videoList = new ArrayList&lt;Video&gt;(); //Video is a class.\n    Uri collection;\n \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n \n        //Media Store\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            collection = MediaStore.Video.Media.getContentUri(MediaStore.VOLUME_EXTERNAL);\n        } else {\n            collection = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\n \n        }\n        String[] projection = new String[] {\n                MediaStore.Video.Media._ID,\n                MediaStore.Video.Media.DISPLAY_NAME,\n                MediaStore.Video.Media.DURATION,\n                MediaStore.Video.Media.SIZE\n        };\n        String selection = MediaStore.Video.Media.DURATION +\n                &quot; &gt;= ?&quot;;\n        String[] selectionArgs = new String[] {\n                String.valueOf(TimeUnit.MILLISECONDS.convert(5, TimeUnit.MINUTES))\n        };\n\n        String sortOrder = MediaStore.Video.Media.DISPLAY_NAME + &quot; ASC&quot;;\n        try (Cursor cursor = getApplicationContext().getContentResolver().query(\n                collection,\n                projection,\n                selection,\n                selectionArgs,\n                sortOrder)) {\n            // Cache column indices.\n            int idColumn = ((Cursor) cursor).getColumnIndexOrThrow(MediaStore.Video.Media._ID);\n            int nameColumn = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.DISPLAY_NAME);\n            int durationColumn = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.DURATION);\n            int sizeColumn = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.SIZE);\n \n            while (cursor.moveToNext()) {\n                // Get values of columns for a given video.\n                long id = cursor.getLong(idColumn);\n                String name = cursor.getString(nameColumn);\n                int duration = cursor.getInt(durationColumn);\n                int size = cursor.getInt(sizeColumn);\n \n                Uri contentUri = ContentUris.withAppendedId(\n                        MediaStore.Video.Media.EXTERNAL_CONTENT_URI, id);\n \n                // Stores column values and the contentUri in a local object\n                // that represents the media file.\n                videoList.add(new Video(contentUri, name, duration, size));\n            }\n        }\n    }\n}\n \n \n//Video Class\npublic class Video {\n    private final Uri uri;\n    private final String name;\n    private final int duration;\n    private final int size;\n \n    public Uri getUri() {\n        return uri;\n    }\n \n    public String getName() {\n        return name;\n    }\n \n    public int getDuration() {\n        return duration;\n    }\n \n    public int getSize() {\n        return size;\n    }\n \n    public Video(Uri uri, String name, int duration, int size) {\n        this.uri = uri;\n        this.name = name;\n        this.duration = duration;\n        this.size = size; \n    }\n}\n</code></pre>\n"},{"tags":["java","vert.x","multiplayer","vertx-eventbus","real-time-multiplayer"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1640674521,"post_id":70432706,"comment_id":124629122,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":12732046,"reputation":1,"user_id":9248322,"display_name":"BenatoJ."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640678729,"creation_date":1640098771,"answer_id":70437481,"question_id":70432706,"body_markdown":"Vert.x does not implement a strict actor model, therefore, you won&#39;t have actor specific features like mailboxes and persistent actors, with that said, I would opt for an approach where you have `N` lobby verticles instances where `n = 2 * CPUs`, each of the verticles can handle any existing lobby, I would then share lobby state using clustered shared-data-api (requires cluster manager like `hz`) if persistence is required you could write a verticle that persists data in a write-behind fashion.\r\n\r\nIf you want to go for an actor-oriented approach choose another tool like light bend `akka`","title":"Vert.x Java for multiplayer game","body":"<p>Vert.x does not implement a strict actor model, therefore, you won't have actor specific features like mailboxes and persistent actors, with that said, I would opt for an approach where you have <code>N</code> lobby verticles instances where <code>n = 2 * CPUs</code>, each of the verticles can handle any existing lobby, I would then share lobby state using clustered shared-data-api (requires cluster manager like <code>hz</code>) if persistence is required you could write a verticle that persists data in a write-behind fashion.</p>\n<p>If you want to go for an actor-oriented approach choose another tool like light bend <code>akka</code></p>\n"}],"owner":{"account_id":23708466,"reputation":19,"user_id":17730646,"display_name":"Stardustt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1640678729,"creation_date":1640076516,"question_id":70432706,"body_markdown":"I want make a simple quiz game with a lobby system. I have some doubts about the architecture to use in my system, my idea was to use a central server to manage the lobbies and every time a lobby is created, instantiate a new `LobbyVerticle`, the communication between client and server was entrusted to the event `Vert.x` bus. The game must respect scalability and distribution.  Thanks for your suggestions.","title":"Vert.x Java for multiplayer game","body":"<p>I want make a simple quiz game with a lobby system. I have some doubts about the architecture to use in my system, my idea was to use a central server to manage the lobbies and every time a lobby is created, instantiate a new <code>LobbyVerticle</code>, the communication between client and server was entrusted to the event <code>Vert.x</code> bus. The game must respect scalability and distribution.  Thanks for your suggestions.</p>\n"},{"tags":["java","android","kotlin","samsung-mobile","samsung-galaxy"],"comments":[{"owner":{"account_id":15381842,"reputation":492,"user_id":11097044,"display_name":"MKD"},"score":0,"creation_date":1642561495,"post_id":70493199,"comment_id":125101449,"body_markdown":"same issues. do you have resolve this","body":"same issues. do you have resolve this"},{"owner":{"account_id":6418526,"reputation":283,"user_id":4975906,"display_name":"Kostek"},"score":0,"creation_date":1646127427,"post_id":70493199,"comment_id":126041588,"body_markdown":"Same here. I would like to modify it rather than delete it. Any clue?","body":"Same here. I would like to modify it rather than delete it. Any clue?"}],"owner":{"account_id":23755691,"reputation":11,"user_id":17771838,"display_name":"22x99"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640678403,"creation_date":1640593620,"question_id":70493199,"body_markdown":"When I tried to share some URLs (String type) via `Intent.createChooser` I got an unknown icon on Samsung S10 (Android 11). Can I remove this icon or add an Application icon?\r\n\r\n[Share screen with icon][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b4R8w.png\r\n\r\nHere is my code: \r\n```kotlin\r\noverride fun applyShare(textRes: String) {\r\n    val sendIntent: Intent = Intent().apply {\r\n        action = Intent.ACTION_SEND\r\n        putExtra(Intent.EXTRA_STREAM, textRes)\r\n        type = &quot;text/plain&quot;\r\n    }\r\n     \r\n    val shareIntent = Intent.createChooser(sendIntent, &quot;TITLE&quot;)\r\n    startActivity(shareIntent)\r\n}\r\n```","title":"Is that possible to remove this icon on share on Samsung? | Android 11","body":"<p>When I tried to share some URLs (String type) via <code>Intent.createChooser</code> I got an unknown icon on Samsung S10 (Android 11). Can I remove this icon or add an Application icon?</p>\n<p><a href=\"https://i.stack.imgur.com/b4R8w.png\" rel=\"nofollow noreferrer\">Share screen with icon</a></p>\n<p>Here is my code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun applyShare(textRes: String) {\n    val sendIntent: Intent = Intent().apply {\n        action = Intent.ACTION_SEND\n        putExtra(Intent.EXTRA_STREAM, textRes)\n        type = &quot;text/plain&quot;\n    }\n     \n    val shareIntent = Intent.createChooser(sendIntent, &quot;TITLE&quot;)\n    startActivity(shareIntent)\n}\n</code></pre>\n"},{"tags":["java","hibernate","generics"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1640675351,"post_id":70503713,"comment_id":124629257,"body_markdown":"Post code as text rather than image.","body":"Post code as text rather than image."},{"owner":{"account_id":9642464,"reputation":329,"user_id":7156278,"display_name":"Albert Waninge"},"score":0,"creation_date":1640681146,"post_id":70503713,"comment_id":124630817,"body_markdown":"You say you want to avoid a call to the repository specifying the entity class, am I right? As long as the repository instance is not typed with the entity type, this is inevitable. In your case, MainRepository seems to have no type argument (I guess the autowiring does not provide a MainRepository instance with that actual entity type as type argument). Than it is inevitable that all services will have to specify the entity class. The services, however, can get the entity class from the class declaration via reflection.","body":"You say you want to avoid a call to the repository specifying the entity class, am I right? As long as the repository instance is not typed with the entity type, this is inevitable. In your case, MainRepository seems to have no type argument (I guess the autowiring does not provide a MainRepository instance with that actual entity type as type argument). Than it is inevitable that all services will have to specify the entity class. The services, however, can get the entity class from the class declaration via reflection."},{"owner":{"account_id":2999920,"reputation":142,"user_id":2545589,"display_name":"Sangeeth S Kumar"},"score":0,"creation_date":1640688673,"post_id":70503713,"comment_id":124633001,"body_markdown":"@AlbertWaninge I have separate service classed for each page. My intension is that i dont want to write methods which doesnt require extra code. such as save/ update of an entity and also getting the object using primary key.","body":"@AlbertWaninge I have separate service classed for each page. My intension is that i dont want to write methods which doesnt require extra code. such as save/ update of an entity and also getting the object using primary key."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640678304,"creation_date":1640678304,"answer_id":70504224,"question_id":70503713,"body_markdown":"Yes, here&#39;s an example of doing that:\r\n```\r\nimport java.lang.reflect.ParameterizedType;\r\n\r\npublic class Foo {\r\n    public static abstract class Bar&lt;E&gt; {\r\n        public E returnAnE() throws InstantiationException, IllegalAccessException {\r\n            Class e = (Class)((ParameterizedType)this.getClass().getGenericSuperclass()).getActualTypeArguments()[0];\r\n            return (E)e.newInstance();\r\n        }\r\n    }\r\n\r\n    public static class Baz extends Bar&lt;String&gt; {\r\n\r\n    }\r\n\r\n    public static void main(String[] args) throws InstantiationException, IllegalAccessException {\r\n        Baz baz = new Baz();\r\n        String s = baz.returnAnE();\r\n    }\r\n}\r\n```\r\nThis code will fail with class structures which don&#39;t match what we have here, so you should do instance of checks instead of casts, and check array accesses.","title":"Find the Class Reference Of Genric Type","body":"<p>Yes, here's an example of doing that:</p>\n<pre><code>import java.lang.reflect.ParameterizedType;\n\npublic class Foo {\n    public static abstract class Bar&lt;E&gt; {\n        public E returnAnE() throws InstantiationException, IllegalAccessException {\n            Class e = (Class)((ParameterizedType)this.getClass().getGenericSuperclass()).getActualTypeArguments()[0];\n            return (E)e.newInstance();\n        }\n    }\n\n    public static class Baz extends Bar&lt;String&gt; {\n\n    }\n\n    public static void main(String[] args) throws InstantiationException, IllegalAccessException {\n        Baz baz = new Baz();\n        String s = baz.returnAnE();\n    }\n}\n</code></pre>\n<p>This code will fail with class structures which don't match what we have here, so you should do instance of checks instead of casts, and check array accesses.</p>\n"}],"owner":{"account_id":2999920,"reputation":142,"user_id":2545589,"display_name":"Sangeeth S Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70504224,"answer_count":1,"score":3,"last_activity_date":1640678304,"creation_date":1640674635,"question_id":70503713,"body_markdown":"    @Service\r\n    public abstract class MainService&lt;E extends AbstractEntity, R extends MainRepository&lt;E&gt;&gt; {\r\n    \r\n        @Autowired\r\n\t    MainRepository&lt;E&gt; repository;\r\n\r\n        public E find(long id) throws Exception {\r\n            return this.repository.find(---, id);\r\n        }\r\n    }\r\n\r\nHere is it possible to find the class reference of the generic type **E** to pass through this method as first argument instead of the **---** ...?\r\n\r\nMy expectation about the implementation is to create a generic call to avoid the repetition of the below code in all service classes.\r\n\r\n    return this.repository.find(Entity.class,id);","title":"Find the Class Reference Of Genric Type","body":"<pre><code>@Service\npublic abstract class MainService&lt;E extends AbstractEntity, R extends MainRepository&lt;E&gt;&gt; {\n\n    @Autowired\n    MainRepository&lt;E&gt; repository;\n\n    public E find(long id) throws Exception {\n        return this.repository.find(---, id);\n    }\n}\n</code></pre>\n<p>Here is it possible to find the class reference of the generic type <strong>E</strong> to pass through this method as first argument instead of the <strong>---</strong> ...?</p>\n<p>My expectation about the implementation is to create a generic call to avoid the repetition of the below code in all service classes.</p>\n<pre><code>return this.repository.find(Entity.class,id);\n</code></pre>\n"},{"tags":["java","spring-boot","logging","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640678217,"creation_date":1640678217,"answer_id":70504204,"question_id":70445984,"body_markdown":"Those unwanted messages use [`SpringApplication#getApplicationLog()`](https://github.com/spring-projects/spring-boot/blob/09486b8fc726469dd1321fa9575ba084d28bfc7a/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L649) to retrieve a logger, whose name is the fully qualified class name of your main class. The logger&#39;s name is probably a child of `&quot;com.company.projectName&quot;`, hence it is sent to the file appender. You can confirm it by adding `%c` to your [pattern layout](https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout).\r\n\r\nAssuming your main class is called `com.company.projectName.Application`, you can:\r\n\r\n - either configure a `com.company.projectName.Application` logger that uses only the console appender:\r\n\r\n   ```lang-xml\r\n   &lt;Logger name=&quot;com.company.projectName.Application&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n       &lt;AppenderRef ref=&quot;console&quot;/&gt;\r\n   &lt;/Logger&gt;\r\n   ```\r\n\r\n - or replace the `com.company.projectName` logger with more specific ones:\r\n\r\n   ```lang-xml\r\n   &lt;Logger name=&quot;com.company.projectName.controller&quot; level=&quot;DEBUG&quot;&gt;\r\n       &lt;AppenderRef ref=&quot;fileLogger&quot; /&gt;\r\n   &lt;/Logger&gt;\r\n   &lt;Logger name=&quot;com.company.projectName.controller&quot; level=&quot;DEBUG&quot;&gt;\r\n       &lt;AppenderRef ref=&quot;fileLogger&quot; /&gt;\r\n   &lt;/Logger&gt;\r\n   ```\r\n","title":"How to disable log messages when spring boot application run?","body":"<p>Those unwanted messages use <a href=\"https://github.com/spring-projects/spring-boot/blob/09486b8fc726469dd1321fa9575ba084d28bfc7a/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L649\" rel=\"nofollow noreferrer\"><code>SpringApplication#getApplicationLog()</code></a> to retrieve a logger, whose name is the fully qualified class name of your main class. The logger's name is probably a child of <code>&quot;com.company.projectName&quot;</code>, hence it is sent to the file appender. You can confirm it by adding <code>%c</code> to your <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout\" rel=\"nofollow noreferrer\">pattern layout</a>.</p>\n<p>Assuming your main class is called <code>com.company.projectName.Application</code>, you can:</p>\n<ul>\n<li><p>either configure a <code>com.company.projectName.Application</code> logger that uses only the console appender:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Logger name=&quot;com.company.projectName.Application&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n    &lt;AppenderRef ref=&quot;console&quot;/&gt;\n&lt;/Logger&gt;\n</code></pre>\n</li>\n<li><p>or replace the <code>com.company.projectName</code> logger with more specific ones:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Logger name=&quot;com.company.projectName.controller&quot; level=&quot;DEBUG&quot;&gt;\n    &lt;AppenderRef ref=&quot;fileLogger&quot; /&gt;\n&lt;/Logger&gt;\n&lt;Logger name=&quot;com.company.projectName.controller&quot; level=&quot;DEBUG&quot;&gt;\n    &lt;AppenderRef ref=&quot;fileLogger&quot; /&gt;\n&lt;/Logger&gt;\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1032,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70504204,"answer_count":1,"score":2,"last_activity_date":1640678217,"creation_date":1640160693,"question_id":70445984,"body_markdown":"This is my log4j2.xml file:\r\n\r\n```lang-xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;warn&quot;&gt;\r\n        &lt;Properties&gt;\r\n            &lt;Property name=&quot;basePath&quot;&gt;/folderName/logs/&lt;/Property&gt;\r\n        &lt;/Properties&gt;\r\n    \r\n        &lt;Appenders&gt;\r\n            &lt;RollingFile name=&quot;fileLogger&quot; fileName=&quot;${basePath}/fileName.log&quot;\r\n                         filePattern=&quot;${basePath}/edf-info-%d{MM-yyyy-dd}.log&quot;&gt;\r\n                &lt;PatternLayout&gt;\r\n                    &lt;pattern&gt;%d{MM-yyyy-dd} [%-5level] %l - %msg%n&lt;/pattern&gt;\r\n                &lt;/PatternLayout&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\r\n                &lt;/Policies&gt;\r\n            &lt;/RollingFile&gt;\r\n            &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout&gt;\r\n                    &lt;pattern&gt;%d{MM-yyyy-dd} [%-5level] %l - %msg%n&lt;/pattern&gt;\r\n                &lt;/PatternLayout&gt;\r\n            &lt;/Console&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Logger name=&quot;com.company.projectName&quot; level=&quot;info&quot; additivity=&quot;true&quot;&gt;\r\n                &lt;appender-ref ref=&quot;fileLogger&quot; level=&quot;debug&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n            &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;appender-ref ref=&quot;console&quot;/&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n```\r\n\r\nWhen I used previous versions of Log4j2, only requests sent by my application were being written to my log file in my log folder on my computer. For example:\r\n\r\n```\r\n12-2021-27 [INFO ] com.company.projectname.controller.ClassController.methodName(ClassController.java:21) - paramName1, paramname2\r\n12-2021-27 [INFO ] com.company.projectname.service.ClassServiceImpl.methodName(ClassServiceImpl.java:21) - paramName1, paramname2\r\n```\r\n\r\nBut when I switched to the new version of Log4j, because of the vulnerability, before the messages I showed above, when my spring boot project runs, its messages also written. I mean focus on following.\r\n\r\n```\r\n12-2021-22 [INFO ] org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:55) - Starting ProjectNameApplication using Java 1.8.0_111 on pc-name with PID 00000 (C:\\Workspace\\project-name\\target\\classes started by user.namein C:\\Workspace\\project-name)\r\n12-2021-22 [INFO ] org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:635) - No active profile set, falling back to default profiles: default\r\n12-2021-22 [INFO ] org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:61) - Started ProjectNameApplication in 8.858 seconds (JVM running for 12.962)\r\n```\r\n\r\nbut I don&#39;t want to see these messages in my log file. I just want to write messages when request and response are generated, like before my configuration. How to solve this? I mean I want to only messages to the log file which my requests and responses.\r\n","title":"How to disable log messages when spring boot application run?","body":"<p>This is my log4j2.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;Configuration status=&quot;warn&quot;&gt;\n        &lt;Properties&gt;\n            &lt;Property name=&quot;basePath&quot;&gt;/folderName/logs/&lt;/Property&gt;\n        &lt;/Properties&gt;\n    \n        &lt;Appenders&gt;\n            &lt;RollingFile name=&quot;fileLogger&quot; fileName=&quot;${basePath}/fileName.log&quot;\n                         filePattern=&quot;${basePath}/edf-info-%d{MM-yyyy-dd}.log&quot;&gt;\n                &lt;PatternLayout&gt;\n                    &lt;pattern&gt;%d{MM-yyyy-dd} [%-5level] %l - %msg%n&lt;/pattern&gt;\n                &lt;/PatternLayout&gt;\n                &lt;Policies&gt;\n                    &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\n                &lt;/Policies&gt;\n            &lt;/RollingFile&gt;\n            &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n                &lt;PatternLayout&gt;\n                    &lt;pattern&gt;%d{MM-yyyy-dd} [%-5level] %l - %msg%n&lt;/pattern&gt;\n                &lt;/PatternLayout&gt;\n            &lt;/Console&gt;\n        &lt;/Appenders&gt;\n        &lt;Loggers&gt;\n            &lt;Logger name=&quot;com.company.projectName&quot; level=&quot;info&quot; additivity=&quot;true&quot;&gt;\n                &lt;appender-ref ref=&quot;fileLogger&quot; level=&quot;debug&quot;/&gt;\n            &lt;/Logger&gt;\n            &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n                &lt;appender-ref ref=&quot;console&quot;/&gt;\n            &lt;/Root&gt;\n        &lt;/Loggers&gt;\n    &lt;/Configuration&gt;\n</code></pre>\n<p>When I used previous versions of Log4j2, only requests sent by my application were being written to my log file in my log folder on my computer. For example:</p>\n<pre><code>12-2021-27 [INFO ] com.company.projectname.controller.ClassController.methodName(ClassController.java:21) - paramName1, paramname2\n12-2021-27 [INFO ] com.company.projectname.service.ClassServiceImpl.methodName(ClassServiceImpl.java:21) - paramName1, paramname2\n</code></pre>\n<p>But when I switched to the new version of Log4j, because of the vulnerability, before the messages I showed above, when my spring boot project runs, its messages also written. I mean focus on following.</p>\n<pre><code>12-2021-22 [INFO ] org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:55) - Starting ProjectNameApplication using Java 1.8.0_111 on pc-name with PID 00000 (C:\\Workspace\\project-name\\target\\classes started by user.namein C:\\Workspace\\project-name)\n12-2021-22 [INFO ] org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:635) - No active profile set, falling back to default profiles: default\n12-2021-22 [INFO ] org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:61) - Started ProjectNameApplication in 8.858 seconds (JVM running for 12.962)\n</code></pre>\n<p>but I don't want to see these messages in my log file. I just want to write messages when request and response are generated, like before my configuration. How to solve this? I mean I want to only messages to the log file which my requests and responses.</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":9432262,"reputation":79450,"user_id":7015400,"accept_rate":38,"display_name":"Peter Haddad"},"score":2,"creation_date":1612905100,"post_id":66125681,"comment_id":116911246,"body_markdown":"please add the full error","body":"please add the full error"},{"owner":{"account_id":20502204,"reputation":11,"user_id":15045889,"display_name":"Sahil Kumar"},"score":0,"creation_date":1612932910,"post_id":66125681,"comment_id":116917949,"body_markdown":"@PeterHaddad It is the complete error, shown in the stack trace.","body":"@PeterHaddad It is the complete error, shown in the stack trace."}],"owner":{"account_id":20502204,"reputation":11,"user_id":15045889,"display_name":"Sahil Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640678070,"creation_date":1612898477,"question_id":66125681,"body_markdown":"I created an android app which uses Firebase Database, custom model class and adapters. The app in debug state ran well, but when it was released it showed &#39;DatabaseException&#39;. I checked each and every line of my code thoroughly but I am not able to find out a single error. \r\n\r\n\r\nThe error I get is:\r\n\r\n```\r\ncom.google.firebase.database.DatabaseException: \r\n  at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.&lt;init&gt; (CustomClassMapper.java:11)\r\n  at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.loadOrCreateBeanMapperForClass (CustomClassMapper.java:12)\r\n  at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean (CustomClassMapper.java:4)\r\n  at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass (CustomClassMapper.java:4)\r\n  at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass (CustomClassMapper.java:6)\r\n  at com.google.firebase.database.DataSnapshot.getValue (DataSnapshot.java:6)\r\n  at janabsmile.yuwashastra.Fragments.Activities$2.onDataChange (Activities.java:6)\r\n  at com.google.firebase.database.core.ValueEventRegistration.fireEvent (ValueEventRegistration.java:2)\r\n  at com.google.firebase.database.core.view.DataEvent.fire (DataEvent.java:2)\r\n  at com.google.firebase.database.core.view.EventRaiser$1.run (EventRaiser.java:6)\r\n  at android.os.Handler.handleCallback (Handler.java:883)\r\n  at android.os.Handler.dispatchMessage (Handler.java:100)\r\n  at android.os.Looper.loop (Looper.java:237)\r\n  at android.app.ActivityThread.main (ActivityThread.java:8167)\r\n  at java.lang.reflect.Method.invoke (Method.java)\r\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:496)\r\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1100)\r\n```\r\n\r\nCode snippets of Activites.java (Fragment)\r\n\r\n```\r\npublic class Activities extends Fragment {\r\n\r\n    RecyclerView recyclerView;\r\n    TaskAdapter taskAdapter;\r\n    List&lt;Tasks&gt; tasksList;\r\n    LinearLayout layout;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_updates, container, false);\r\n\r\n\r\n        FirebaseAuth mAuth = FirebaseAuth.getInstance();\r\n        layout = view.findViewById(R.id.layout);\r\n\r\n        recyclerView = view.findViewById(R.id.recyclerView);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL,true));\r\n        tasksList = new ArrayList&lt;&gt;();\r\n        taskAdapter = new TaskAdapter(getContext(), tasksList);\r\n        recyclerView.setAdapter(taskAdapter);\r\n\r\n        readTasks();\r\n\r\n        return view;\r\n    }\r\n\r\n    private void readTasks() {\r\n        FirebaseDatabase.getInstance().getReference().child(&quot;News&quot;).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                tasksList.clear();\r\n                for(DataSnapshot snapshot: dataSnapshot.getChildren())\r\n                {\r\n                    Tasks tasks = snapshot.getValue(Tasks.class);\r\n                    tasksList.add(tasks);\r\n                }\r\n                taskAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n\r\nCode snippet of Tasks.java (Model Class)\r\n\r\n```\r\n\r\npublic class Tasks{\r\n\r\n    public String id;\r\n    public String topic;\r\n    public String description;\r\n\r\n    public Tasks() {\r\n    }\r\n\r\n    public Tasks(String id, String topic, String description) {\r\n        this.id = id;\r\n        this.topic = topic;\r\n        this.description = description;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getTopic() {\r\n        return topic;\r\n    }\r\n\r\n    public void setTopic(String topic) {\r\n        this.topic = topic;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThe TaskAdapter.java is:\r\n```\r\n\r\npublic class TaskAdapter extends RecyclerView.Adapter&lt;TaskAdapter.ViewHolder&gt; {\r\n\r\n\r\n    private final Context mContext;\r\n    private final List&lt;Tasks&gt; mTasks;\r\n\r\n    private DatabaseReference mRef;\r\n\r\n    public TaskAdapter(Context mContext, List&lt;Tasks&gt; mTasks) {\r\n        this.mContext = mContext;\r\n        this.mTasks = mTasks;\r\n\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(mContext).inflate(R.layout.task_item, parent, false);\r\n\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        FirebaseUser fUser = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n        Tasks task = mTasks.get(position);\r\n        holder.topic.setText(task.getTopic());\r\n        holder.description.setText(task.getDescription());\r\n\r\n        FirebaseAuth mAuth = FirebaseAuth.getInstance();\r\n        mRef = FirebaseDatabase.getInstance().getReference();\r\n\r\n        holder.delete.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        holder.progressBar.setVisibility(View.VISIBLE);\r\n                        mRef.child(&quot;News&quot;).child(task.getId()).removeValue().addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Void aVoid) {\r\n                                Toast.makeText(mContext, &quot;Deleted successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                                holder.progressBar.setVisibility(View.GONE);\r\n\r\n                               notifyItemRemoved(position);\r\n                               notifyDataSetChanged();\r\n                            }\r\n                        }).addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                Toast.makeText(mContext, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mTasks.size();\r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView topic;\r\n        TextView description;\r\n        Button delete;\r\n        ProgressBar progressBar;\r\n\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            topic = itemView.findViewById(R.id.topic);\r\n            description = itemView.findViewById(R.id.description);\r\n            delete = itemView.findViewById(R.id.delete);\r\n            progressBar = itemView.findViewById(R.id.progressBar);\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis is how the data in the realtime database is stored:\r\n\r\n![Realtime database ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SSs3d.png\r\n\r\n\r\nCan anyone guide me out through this?","title":"Why I am getting Database Exception in Firebase?","body":"<p>I created an android app which uses Firebase Database, custom model class and adapters. The app in debug state ran well, but when it was released it showed 'DatabaseException'. I checked each and every line of my code thoroughly but I am not able to find out a single error.</p>\n<p>The error I get is:</p>\n<pre><code>com.google.firebase.database.DatabaseException: \n  at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.&lt;init&gt; (CustomClassMapper.java:11)\n  at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.loadOrCreateBeanMapperForClass (CustomClassMapper.java:12)\n  at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean (CustomClassMapper.java:4)\n  at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass (CustomClassMapper.java:4)\n  at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass (CustomClassMapper.java:6)\n  at com.google.firebase.database.DataSnapshot.getValue (DataSnapshot.java:6)\n  at janabsmile.yuwashastra.Fragments.Activities$2.onDataChange (Activities.java:6)\n  at com.google.firebase.database.core.ValueEventRegistration.fireEvent (ValueEventRegistration.java:2)\n  at com.google.firebase.database.core.view.DataEvent.fire (DataEvent.java:2)\n  at com.google.firebase.database.core.view.EventRaiser$1.run (EventRaiser.java:6)\n  at android.os.Handler.handleCallback (Handler.java:883)\n  at android.os.Handler.dispatchMessage (Handler.java:100)\n  at android.os.Looper.loop (Looper.java:237)\n  at android.app.ActivityThread.main (ActivityThread.java:8167)\n  at java.lang.reflect.Method.invoke (Method.java)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:496)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1100)\n</code></pre>\n<p>Code snippets of Activites.java (Fragment)</p>\n<pre><code>public class Activities extends Fragment {\n\n    RecyclerView recyclerView;\n    TaskAdapter taskAdapter;\n    List&lt;Tasks&gt; tasksList;\n    LinearLayout layout;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_updates, container, false);\n\n\n        FirebaseAuth mAuth = FirebaseAuth.getInstance();\n        layout = view.findViewById(R.id.layout);\n\n        recyclerView = view.findViewById(R.id.recyclerView);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL,true));\n        tasksList = new ArrayList&lt;&gt;();\n        taskAdapter = new TaskAdapter(getContext(), tasksList);\n        recyclerView.setAdapter(taskAdapter);\n\n        readTasks();\n\n        return view;\n    }\n\n    private void readTasks() {\n        FirebaseDatabase.getInstance().getReference().child(&quot;News&quot;).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                tasksList.clear();\n                for(DataSnapshot snapshot: dataSnapshot.getChildren())\n                {\n                    Tasks tasks = snapshot.getValue(Tasks.class);\n                    tasksList.add(tasks);\n                }\n                taskAdapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n            }\n        });\n    }\n}\n\n</code></pre>\n<p>Code snippet of Tasks.java (Model Class)</p>\n<pre><code>\npublic class Tasks{\n\n    public String id;\n    public String topic;\n    public String description;\n\n    public Tasks() {\n    }\n\n    public Tasks(String id, String topic, String description) {\n        this.id = id;\n        this.topic = topic;\n        this.description = description;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getTopic() {\n        return topic;\n    }\n\n    public void setTopic(String topic) {\n        this.topic = topic;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n}\n\n</code></pre>\n<p>The TaskAdapter.java is:</p>\n<pre><code>\npublic class TaskAdapter extends RecyclerView.Adapter&lt;TaskAdapter.ViewHolder&gt; {\n\n\n    private final Context mContext;\n    private final List&lt;Tasks&gt; mTasks;\n\n    private DatabaseReference mRef;\n\n    public TaskAdapter(Context mContext, List&lt;Tasks&gt; mTasks) {\n        this.mContext = mContext;\n        this.mTasks = mTasks;\n\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(mContext).inflate(R.layout.task_item, parent, false);\n\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        FirebaseUser fUser = FirebaseAuth.getInstance().getCurrentUser();\n\n        Tasks task = mTasks.get(position);\n        holder.topic.setText(task.getTopic());\n        holder.description.setText(task.getDescription());\n\n        FirebaseAuth mAuth = FirebaseAuth.getInstance();\n        mRef = FirebaseDatabase.getInstance().getReference();\n\n        holder.delete.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                holder.itemView.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        holder.progressBar.setVisibility(View.VISIBLE);\n                        mRef.child(&quot;News&quot;).child(task.getId()).removeValue().addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                            @Override\n                            public void onSuccess(Void aVoid) {\n                                Toast.makeText(mContext, &quot;Deleted successfully&quot;, Toast.LENGTH_SHORT).show();\n                                holder.progressBar.setVisibility(View.GONE);\n\n                               notifyItemRemoved(position);\n                               notifyDataSetChanged();\n                            }\n                        }).addOnFailureListener(new OnFailureListener() {\n                            @Override\n                            public void onFailure(@NonNull Exception e) {\n                                Toast.makeText(mContext, e.getMessage(), Toast.LENGTH_SHORT).show();\n                            }\n                        });\n                    }\n                });\n            }\n        });\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return mTasks.size();\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder{\n\n        TextView topic;\n        TextView description;\n        Button delete;\n        ProgressBar progressBar;\n\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            topic = itemView.findViewById(R.id.topic);\n            description = itemView.findViewById(R.id.description);\n            delete = itemView.findViewById(R.id.delete);\n            progressBar = itemView.findViewById(R.id.progressBar);\n\n        }\n    }\n}\n\n</code></pre>\n<p>This is how the data in the realtime database is stored:</p>\n<p><img src=\"https://i.stack.imgur.com/SSs3d.png\" alt=\"Realtime database \" /></p>\n<p>Can anyone guide me out through this?</p>\n"},{"tags":["java","spring","logging","log4j","sentry"],"answers":[{"tags":[],"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640604368,"creation_date":1640604368,"answer_id":70494857,"question_id":70479407,"body_markdown":"`EventProcessor` interface has two methods:\r\n\r\n- `SentryEvent process(SentryEvent event, Object hint)` - for processing events\r\n- `SentryTransaction process(SentryTransaction transaction, Object hint)` - for processing transactions\r\n\r\nSince you want to filter out transactions created from requests to the health endpoint, you need to implement the second method that takes `SentryTransaction` as the first parameter.","title":"Spring Sentry Integration. Event processor doesn&#39;t work (prevent health check)","body":"<p><code>EventProcessor</code> interface has two methods:</p>\n<ul>\n<li><code>SentryEvent process(SentryEvent event, Object hint)</code> - for processing events</li>\n<li><code>SentryTransaction process(SentryTransaction transaction, Object hint)</code> - for processing transactions</li>\n</ul>\n<p>Since you want to filter out transactions created from requests to the health endpoint, you need to implement the second method that takes <code>SentryTransaction</code> as the first parameter.</p>\n"},{"tags":[],"owner":{"account_id":2635104,"reputation":1293,"user_id":2280027,"accept_rate":39,"display_name":"yazabara"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1640677840,"creation_date":1640677840,"answer_id":70504144,"question_id":70479407,"body_markdown":"I used TracesSamplerCallback (https://docs.sentry.io/platforms/java/guides/spring-boot/configuration/filtering/#using-sampling-to-filter-transaction-events) and it helps. It can prevent all events/transactions (not only custom from application).\r\n\r\n    @Component\r\n    public class SentryTraceSamplerCallback implements TracesSamplerCallback {\r\n    \r\n        /**\r\n         * Excludes transaction paths\r\n         */\r\n        @Value(&quot;${tn.sentry.exclude.transactions}&quot;)\r\n        private List&lt;String&gt; excludes;\r\n    \r\n        @Override\r\n        @SuppressWarnings(&quot;ConstantConditions&quot;)\r\n        public @Nullable Double sample(@NotNull SamplingContext context) {\r\n            HttpServletRequest request = (HttpServletRequest) context.getCustomSamplingContext().get(&quot;request&quot;);\r\n            String url = request.getRequestURI();\r\n            return StringUtils.containsAnyIgnoreCase(url, this.excludes.toArray(String[]::new)) ? 0.0D : 1.0D;\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gxuXh.png","title":"Spring Sentry Integration. Event processor doesn&#39;t work (prevent health check)","body":"<p>I used TracesSamplerCallback (<a href=\"https://docs.sentry.io/platforms/java/guides/spring-boot/configuration/filtering/#using-sampling-to-filter-transaction-events\" rel=\"nofollow noreferrer\">https://docs.sentry.io/platforms/java/guides/spring-boot/configuration/filtering/#using-sampling-to-filter-transaction-events</a>) and it helps. It can prevent all events/transactions (not only custom from application).</p>\n<pre><code>@Component\npublic class SentryTraceSamplerCallback implements TracesSamplerCallback {\n\n    /**\n     * Excludes transaction paths\n     */\n    @Value(&quot;${tn.sentry.exclude.transactions}&quot;)\n    private List&lt;String&gt; excludes;\n\n    @Override\n    @SuppressWarnings(&quot;ConstantConditions&quot;)\n    public @Nullable Double sample(@NotNull SamplingContext context) {\n        HttpServletRequest request = (HttpServletRequest) context.getCustomSamplingContext().get(&quot;request&quot;);\n        String url = request.getRequestURI();\n        return StringUtils.containsAnyIgnoreCase(url, this.excludes.toArray(String[]::new)) ? 0.0D : 1.0D;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gxuXh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gxuXh.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2635104,"reputation":1293,"user_id":2280027,"accept_rate":39,"display_name":"yazabara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":791,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70504144,"answer_count":2,"score":2,"last_activity_date":1640677840,"creation_date":1640428437,"question_id":70479407,"body_markdown":"I need to prevent sending some events by condition. (health check)\r\n\r\nI&#39;m using spring libraries:\r\n\r\n    implementation &quot;io.sentry:sentry-spring-boot-starter:5.4.1&quot;\r\n    implementation &quot;io.sentry:sentry-logback:5.4.1&quot;\r\n\r\nIt works, sentry has a lot of transactions etc. The configuration is:\r\n\r\n    sentry:\r\n      dsn: https://....ingest.sentry.io/....\r\n      traces-sample-rate: 1.0\r\n\r\nI&#39;m going to prevent some events which has health check data using event processor:\r\nhttps://docs.sentry.io/platforms/java/guides/spring-boot/advanced-usage/#registering-custom-event-processor\r\n\r\n    @Component\r\n    public class SentryCallbackExtension implements EventProcessor {\r\n    \r\n        @Value(&quot;${app.sentry.exclude.transactions}&quot;)\r\n        private List&lt;String&gt; excludes;\r\n    \r\n        @Override\r\n        public @Nullable SentryEvent process(@NotNull SentryEvent event, @Nullable Object hint) {\r\n            return StringUtils.containsAnyIgnoreCase(\r\n                event.getTransaction(), excludes.toArray(new String[0])\r\n            ) ? null : event;\r\n        }\r\n    }\r\n\r\nConfiguration for this block is:\r\n\r\n    app:\r\n      sentry:\r\n        exclude:\r\n          transactions: &quot;/actuator/health&quot;\r\n\r\nAnd it doesn&#39;t work. There are a lot of health check events in sentry service.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WTe99.png","title":"Spring Sentry Integration. Event processor doesn&#39;t work (prevent health check)","body":"<p>I need to prevent sending some events by condition. (health check)</p>\n<p>I'm using spring libraries:</p>\n<pre><code>implementation &quot;io.sentry:sentry-spring-boot-starter:5.4.1&quot;\nimplementation &quot;io.sentry:sentry-logback:5.4.1&quot;\n</code></pre>\n<p>It works, sentry has a lot of transactions etc. The configuration is:</p>\n<pre><code>sentry:\n  dsn: https://....ingest.sentry.io/....\n  traces-sample-rate: 1.0\n</code></pre>\n<p>I'm going to prevent some events which has health check data using event processor:\n<a href=\"https://docs.sentry.io/platforms/java/guides/spring-boot/advanced-usage/#registering-custom-event-processor\" rel=\"nofollow noreferrer\">https://docs.sentry.io/platforms/java/guides/spring-boot/advanced-usage/#registering-custom-event-processor</a></p>\n<pre><code>@Component\npublic class SentryCallbackExtension implements EventProcessor {\n\n    @Value(&quot;${app.sentry.exclude.transactions}&quot;)\n    private List&lt;String&gt; excludes;\n\n    @Override\n    public @Nullable SentryEvent process(@NotNull SentryEvent event, @Nullable Object hint) {\n        return StringUtils.containsAnyIgnoreCase(\n            event.getTransaction(), excludes.toArray(new String[0])\n        ) ? null : event;\n    }\n}\n</code></pre>\n<p>Configuration for this block is:</p>\n<pre><code>app:\n  sentry:\n    exclude:\n      transactions: &quot;/actuator/health&quot;\n</code></pre>\n<p>And it doesn't work. There are a lot of health check events in sentry service.\n<a href=\"https://i.stack.imgur.com/WTe99.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WTe99.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","crud","procedure"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639452799,"post_id":70343267,"comment_id":124346636,"body_markdown":"Do you mean that you want a REST endpoint which causes a stored procedure to be executed when a request hits the endpoint? Please clarify your question.","body":"Do you mean that you want a REST endpoint which causes a stored procedure to be executed when a request hits the endpoint? Please clarify your question."},{"owner":{"account_id":22350605,"reputation":34,"user_id":16568836,"display_name":"Jeevan Gyawali"},"score":0,"creation_date":1639502927,"post_id":70343267,"comment_id":124363148,"body_markdown":"@tgdavies yes I mean that","body":"@tgdavies yes I mean that"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639517950,"post_id":70343267,"comment_id":124368096,"body_markdown":"Which part of doing that are you having trouble with?","body":"Which part of doing that are you having trouble with?"},{"owner":{"account_id":22350605,"reputation":34,"user_id":16568836,"display_name":"Jeevan Gyawali"},"score":0,"creation_date":1639518285,"post_id":70343267,"comment_id":124368164,"body_markdown":"@tgdavies I have updated my question. Can you please check it","body":"@tgdavies I have updated my question. Can you please check it"},{"owner":{"account_id":2521222,"reputation":302,"user_id":2191563,"display_name":"glovemobile"},"score":0,"creation_date":1639520550,"post_id":70343267,"comment_id":124368753,"body_markdown":"This link gives example calling oracle stored procedure. It&#39;s not exactly with REST but you can modify with REST. https://stackoverflow.com/questions/26351192/calling-an-oracle-stored-procedure-in-java","body":"This link gives example calling oracle stored procedure. It&#39;s not exactly with REST but you can modify with REST. <a href=\"https://stackoverflow.com/questions/26351192/calling-an-oracle-stored-procedure-in-java\" title=\"calling an oracle stored procedure in java\">stackoverflow.com/questions/26351192/&hellip;</a>"}],"owner":{"account_id":22350605,"reputation":34,"user_id":16568836,"display_name":"Jeevan Gyawali"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640677235,"creation_date":1639450552,"question_id":70343267,"body_markdown":"Using Java, I have built many CRUD applications but I need an idea of how to create an endpoint to invoke the procedure in TempDB -- for development I can create a small procedure in dev env and invoke it from java. \r\n\r\nI am using SQL developer, Oracle database, and Java language. I tried to look at other docs as well but could not find any article related to that. Can anyone point me to the correct link?\r\n\r\n**UPDATE:**\r\n\r\nI wrote one simple stored procedure in SQL Developer. I get an error\r\n\r\n&gt; ORA-01422: exact fetch returns more than requested number of rows\r\n\r\n```\r\nCREATE OR REPLACE PROCEDURE GETWORKFLOWINPUTRECORDS \r\n IS\r\n  R_DATA reorg_automation_workflowinput%ROWTYPE;\r\nBEGIN\r\n  SELECT * INTO R_DATA FROM reorg_automation_workflowinput where REORG_ID = &#39;S-CFO-FULL-65&#39;;\r\nEND GETWORKFLOWINPUTRECORDS;\r\n```\r\n\r\nWhen I run the below query, it gives only 1 result but in the procedure, I am getting the above error.\r\n```\r\nSELECT *  \r\nFROM reorg_automation_workflowinput \r\nWHERE REORG_ID = &#39;S-CFO-FULL-65&#39;;\r\n```\r\n\r\nLet&#39;s resolve this issue and then we can move forward with building API for calling a stored procedure.\r\n\r\n**UPDATE 2**\r\n\r\nIt is fetching empty result while running this procedure. Any suggestion on this?\r\n```\r\ncreate or replace PROCEDURE GETWORKFLOWINPUTRECORDS \r\n AS\r\n  c1 SYS_REFCURSOR;\r\nBEGIN\r\nopen c1 for\r\n  SELECT * FROM reorg_automation_workflowinput;\r\nEND GETWORKFLOWINPUTRECORDS;\r\n```","title":"Create an endpoint to invoke the procedure","body":"<p>Using Java, I have built many CRUD applications but I need an idea of how to create an endpoint to invoke the procedure in TempDB -- for development I can create a small procedure in dev env and invoke it from java.</p>\n<p>I am using SQL developer, Oracle database, and Java language. I tried to look at other docs as well but could not find any article related to that. Can anyone point me to the correct link?</p>\n<p><strong>UPDATE:</strong></p>\n<p>I wrote one simple stored procedure in SQL Developer. I get an error</p>\n<blockquote>\n<p>ORA-01422: exact fetch returns more than requested number of rows</p>\n</blockquote>\n<pre><code>CREATE OR REPLACE PROCEDURE GETWORKFLOWINPUTRECORDS \n IS\n  R_DATA reorg_automation_workflowinput%ROWTYPE;\nBEGIN\n  SELECT * INTO R_DATA FROM reorg_automation_workflowinput where REORG_ID = 'S-CFO-FULL-65';\nEND GETWORKFLOWINPUTRECORDS;\n</code></pre>\n<p>When I run the below query, it gives only 1 result but in the procedure, I am getting the above error.</p>\n<pre><code>SELECT *  \nFROM reorg_automation_workflowinput \nWHERE REORG_ID = 'S-CFO-FULL-65';\n</code></pre>\n<p>Let's resolve this issue and then we can move forward with building API for calling a stored procedure.</p>\n<p><strong>UPDATE 2</strong></p>\n<p>It is fetching empty result while running this procedure. Any suggestion on this?</p>\n<pre><code>create or replace PROCEDURE GETWORKFLOWINPUTRECORDS \n AS\n  c1 SYS_REFCURSOR;\nBEGIN\nopen c1 for\n  SELECT * FROM reorg_automation_workflowinput;\nEND GETWORKFLOWINPUTRECORDS;\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":2100524,"reputation":1074,"user_id":1868281,"accept_rate":92,"display_name":"Selim"},"score":1,"creation_date":1533558094,"post_id":51707330,"comment_id":90375798,"body_markdown":"is your source file inside a folder structure that looks like `foo/com/java/learn/index.java`? If not, that might be your problem.","body":"is your source file inside a folder structure that looks like <code>foo&#47;com&#47;java&#47;learn&#47;index.java</code>? If not, that might be your problem."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1533558603,"creation_date":1533558127,"answer_id":51707548,"question_id":51707330,"body_markdown":"A package is a path of subdirectories. Say your java sources are in (subdirectory of) a directory `src`. All sources immediately under `src` have the &quot;default&quot; package = no package declaration.\r\n\r\nIn `src/com/java/learn` (4 nested directories) the `package com.java.learn;` is expected for java sources.\r\n\r\nIn your case create a path of 3 directories: `com, java`, and `learn` the latter containing your java source.\r\n\r\n-------------\r\n\r\nFor the rest, try to follow the coding conventions of java: class names starting with a capital like `Index`, variable and method names with a small letter.\r\n\r\nIn fact though Microsoft is often underestimated, I would chose a more mainstream IDE for learning java. IntelliJ IDEA (Community edition) is fine; NetBeans IDE is a clean an nice IDE too; eclipse is used very often - though a bit overdone IMHO.\r\n\r\n","title":"How to Start a Java Project with package declaration on Visual Studio Code?","body":"<p>A package is a path of subdirectories. Say your java sources are in (subdirectory of) a directory <code>src</code>. All sources immediately under <code>src</code> have the \"default\" package = no package declaration.</p>\n\n<p>In <code>src/com/java/learn</code> (4 nested directories) the <code>package com.java.learn;</code> is expected for java sources.</p>\n\n<p>In your case create a path of 3 directories: <code>com, java</code>, and <code>learn</code> the latter containing your java source.</p>\n\n<hr>\n\n<p>For the rest, try to follow the coding conventions of java: class names starting with a capital like <code>Index</code>, variable and method names with a small letter.</p>\n\n<p>In fact though Microsoft is often underestimated, I would chose a more mainstream IDE for learning java. IntelliJ IDEA (Community edition) is fine; NetBeans IDE is a clean an nice IDE too; eclipse is used very often - though a bit overdone IMHO.</p>\n"},{"tags":[],"owner":{"account_id":4597459,"reputation":949,"user_id":3729081,"display_name":"Deep"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568121088,"creation_date":1568121088,"answer_id":57871571,"question_id":51707330,"body_markdown":"I faced a similar issue, coming from Eclipse/IDEA background you find it difficult to not have a feature in your java IDE to create a new package.\r\n\r\nAlthough, Joop Eggen&#39;s answer is correct that package is a path of subdirectories but you might find it tedious to create subdirectories when the number of sub packages is greater and name of sub packages is long.\r\n\r\nYou can use the below VSCode extension :\r\nhttps://github.com/jiangdequan/vscode-java-saber\r\n\r\nIt is a very handy extension.It provides support for:\r\n\r\n - New: Java files(annotation/class/interface/enum/package/JSP/HTML)\r\n - Generate Getters and Getters \r\n - Copy Qualified Name \r\n - Sort Project By Name\r\n - Run Maven Goals \r\n - Generate Docs\r\n\r\nYou can try this extension.","title":"How to Start a Java Project with package declaration on Visual Studio Code?","body":"<p>I faced a similar issue, coming from Eclipse/IDEA background you find it difficult to not have a feature in your java IDE to create a new package.</p>\n\n<p>Although, Joop Eggen's answer is correct that package is a path of subdirectories but you might find it tedious to create subdirectories when the number of sub packages is greater and name of sub packages is long.</p>\n\n<p>You can use the below VSCode extension :\n<a href=\"https://github.com/jiangdequan/vscode-java-saber\" rel=\"nofollow noreferrer\">https://github.com/jiangdequan/vscode-java-saber</a></p>\n\n<p>It is a very handy extension.It provides support for:</p>\n\n<ul>\n<li>New: Java files(annotation/class/interface/enum/package/JSP/HTML)</li>\n<li>Generate Getters and Getters </li>\n<li>Copy Qualified Name </li>\n<li>Sort Project By Name</li>\n<li>Run Maven Goals </li>\n<li>Generate Docs</li>\n</ul>\n\n<p>You can try this extension.</p>\n"},{"tags":[],"owner":{"account_id":1134177,"reputation":2143,"user_id":1119602,"accept_rate":70,"display_name":"Winand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640676288,"creation_date":1640675720,"answer_id":70503857,"question_id":51707330,"body_markdown":"You can use `Java Projects` panel to create a new project, package, class.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAlso I think there&#39;s an issue in VSC 1.63.2, because a new item is created but it&#39;s not displayed in project structure until I reload VSC window.\r\n\r\nAnother option is to put right package declaration on the first line of a class file and use inline &#128161;light bulb button to move that class to the package it belongs.\r\n\r\nP. S. I&#39;m learning Java now so I could be missing something\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PuUWk.png\r\n  [2]: https://i.stack.imgur.com/8OOgk.png","title":"How to Start a Java Project with package declaration on Visual Studio Code?","body":"<p>You can use <code>Java Projects</code> panel to create a new project, package, class.</p>\n<p><a href=\"https://i.stack.imgur.com/PuUWk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PuUWk.png\" alt=\"enter image description here\" /></a></p>\n<p>Also I think there's an issue in VSC 1.63.2, because a new item is created but it's not displayed in project structure until I reload VSC window.</p>\n<p>Another option is to put right package declaration on the first line of a class file and use inline 💡light bulb button to move that class to the package it belongs.</p>\n<p>P. S. I'm learning Java now so I could be missing something</p>\n<p><a href=\"https://i.stack.imgur.com/8OOgk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8OOgk.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14036928,"reputation":101,"user_id":10139400,"display_name":"IndiGo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17335,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1640676288,"creation_date":1533557405,"question_id":51707330,"body_markdown":"I am learning Java on Visual Studio Code. I have installed the &quot;Microsoft  extension for Java&quot; in it. My basic Java programs runs fine without package declaration. But I would like to package my program. How ?\r\n\r\nEarlier I used &quot;IntelliJ IDEA&quot;. I used to start a New Project and declare &quot;package com.java.learn&quot;. In Visual Studio Code there is no option to create New java Project. There is an option to create Workspace but I still have the same issue. \r\n\r\nI have two java class. &quot;Index.java&quot; &amp; &quot;InputHelper.java&quot;. Index.java is the main java file. InputHelper is a seperate class which I use in Index.java. I want to make a project and package both ( or more ) files.\r\n\r\nError Message: \r\n```\r\nThe declared package &quot;com.java.learn&quot; does not match the expected package\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/elZ2S.png","title":"How to Start a Java Project with package declaration on Visual Studio Code?","body":"<p>I am learning Java on Visual Studio Code. I have installed the &quot;Microsoft  extension for Java&quot; in it. My basic Java programs runs fine without package declaration. But I would like to package my program. How ?</p>\n<p>Earlier I used &quot;IntelliJ IDEA&quot;. I used to start a New Project and declare &quot;package com.java.learn&quot;. In Visual Studio Code there is no option to create New java Project. There is an option to create Workspace but I still have the same issue.</p>\n<p>I have two java class. &quot;Index.java&quot; &amp; &quot;InputHelper.java&quot;. Index.java is the main java file. InputHelper is a seperate class which I use in Index.java. I want to make a project and package both ( or more ) files.</p>\n<p>Error Message:</p>\n<pre><code>The declared package &quot;com.java.learn&quot; does not match the expected package\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/elZ2S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/elZ2S.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","google-drive-api"],"answers":[{"tags":[],"owner":{"account_id":4548126,"reputation":526,"user_id":3694044,"accept_rate":78,"display_name":"Harald"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1433093847,"creation_date":1433093847,"answer_id":30560512,"question_id":30558508,"body_markdown":"Now I find out the problem:\r\nI had to delete the directory &quot;user.home/.credentials/drive-api-quickstart&quot;.\r\nAfter that I can give the program the authorisation, which it needs.\r\nHope that someone will help this post ;)","title":"Google Drive revokes my token","body":"<p>Now I find out the problem:\nI had to delete the directory \"user.home/.credentials/drive-api-quickstart\".\nAfter that I can give the program the authorisation, which it needs.\nHope that someone will help this post ;)</p>\n"},{"tags":[],"owner":{"account_id":7717417,"reputation":4027,"user_id":5844686,"display_name":"Big Pumpkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640674693,"creation_date":1640674693,"answer_id":70503721,"question_id":30558508,"body_markdown":"I had a slightly different case. After getting the example in the [Quick Start Guide][1] to work a few months ago, I got the following error today when rerunning it.\r\n\r\n        Exception in thread &quot;main&quot; com.google.api.client.auth.oauth2.TokenResponseException: 400 Bad Request \r\n    { \r\n      &quot;error&quot; : &quot;invalid_grant&quot;, \r\n      &quot;error_description&quot; : &quot;Bad Request&quot; \r\n    }\r\n\r\nSince the tokens were stored in `TOKENS_DIRECTORY_PATH (&quot;tokens&quot;)`, the token stored there probably became invalid. Deleting directory `tokens` allowed me to once again get the browser page to select a gmail account to proceed with. Everything worked from there.\r\n\r\n  [1]: https://developers.google.com/gmail/api/quickstart/java\r\n","title":"Google Drive revokes my token","body":"<p>I had a slightly different case. After getting the example in the <a href=\"https://developers.google.com/gmail/api/quickstart/java\" rel=\"nofollow noreferrer\">Quick Start Guide</a> to work a few months ago, I got the following error today when rerunning it.</p>\n<pre><code>    Exception in thread &quot;main&quot; com.google.api.client.auth.oauth2.TokenResponseException: 400 Bad Request \n{ \n  &quot;error&quot; : &quot;invalid_grant&quot;, \n  &quot;error_description&quot; : &quot;Bad Request&quot; \n}\n</code></pre>\n<p>Since the tokens were stored in <code>TOKENS_DIRECTORY_PATH (&quot;tokens&quot;)</code>, the token stored there probably became invalid. Deleting directory <code>tokens</code> allowed me to once again get the browser page to select a gmail account to proceed with. Everything worked from there.</p>\n"}],"owner":{"account_id":4548126,"reputation":526,"user_id":3694044,"accept_rate":78,"display_name":"Harald"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":907,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":30560512,"answer_count":2,"score":0,"last_activity_date":1640674693,"creation_date":1433082229,"question_id":30558508,"body_markdown":"I am new to google drive and started with the tutorial [quickstart][1]. \r\nAfter numerous attampts I run the program successfully. \r\nHowever I had permission and authorisation problems when I was trying to delete files.\r\n\r\n    Drive service = getDriveService();\r\n    service.files().delete(&quot;FileId&quot;).execute();\r\n\r\nSo I decide to change the URL in the client_secret.json,\r\n\r\nFrom: `&quot;auth_provider_x509_cert_url&quot;:&quot;https://www.googleapis.com/oauth2/v1/certs&quot;`\r\n\r\nTo: `&quot;auth_provider_x509_cert_url&quot;:&quot;https://www.googleapis.com/auth/drive&quot;`\r\n\r\nin the hope that I would now get the permission to delete files. However after executing the program again I didn&#39;t get the authorization tab of the internet browser like before. \r\n\r\nAs an example of the mentioned tab, here an image from google playground:\r\n\r\n![asking for permissions in browser][2]\r\n\r\nThat&#39;s the reason why I delted the connection from my app to google drive website: \r\n\r\n![enter image description here][3]\r\n\r\nIn addition i recreated also the client_secret.json file. However when I now execute the program I get only this error, independent what I am doing.\r\n\r\n        Exception in thread &quot;main&quot; com.google.api.client.auth.oauth2.TokenResponseException: 400 Bad Request\r\n    {\r\n      &quot;error&quot; : &quot;invalid_grant&quot;,\r\n      &quot;error_description&quot; : &quot;Token has been revoked.&quot;\r\n    }\r\n    \tat com.google.api.client.auth.oauth2.TokenResponseException.from(TokenResponseException.java:105)\r\n    \tat com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:287)\r\n    \tat com.google.api.client.auth.oauth2.TokenRequest.execute(TokenRequest.java:307)\r\n    \tat com.google.api.client.auth.oauth2.Credential.executeRefreshToken(Credential.java:570)\r\n    \tat com.google.api.client.auth.oauth2.Credential.refreshToken(Credential.java:489)\r\n    \tat com.google.api.client.auth.oauth2.Credential.intercept(Credential.java:217)\r\n    \tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:859)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:419)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:352)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:469)\r\n    \tat main.java.DriveQuickstart.main(DriveQuickstart.java:101)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)\r\n\r\nSo the two questions are what should i do to get the tutorial running again and how to set the permissions so that i can delete files?\r\n\r\n  [1]: https://developers.google.com/drive/web/quickstart/java\r\n  [2]: http://i.stack.imgur.com/cyzBB.png\r\n  [3]: http://i.stack.imgur.com/yBGMa.png\r\n","title":"Google Drive revokes my token","body":"<p>I am new to google drive and started with the tutorial <a href=\"https://developers.google.com/drive/web/quickstart/java\" rel=\"nofollow noreferrer\">quickstart</a>. \nAfter numerous attampts I run the program successfully. \nHowever I had permission and authorisation problems when I was trying to delete files.</p>\n\n<pre><code>Drive service = getDriveService();\nservice.files().delete(\"FileId\").execute();\n</code></pre>\n\n<p>So I decide to change the URL in the client_secret.json,</p>\n\n<p>From: <code>\"auth_provider_x509_cert_url\":\"https://www.googleapis.com/oauth2/v1/certs\"</code></p>\n\n<p>To: <code>\"auth_provider_x509_cert_url\":\"https://www.googleapis.com/auth/drive\"</code></p>\n\n<p>in the hope that I would now get the permission to delete files. However after executing the program again I didn't get the authorization tab of the internet browser like before. </p>\n\n<p>As an example of the mentioned tab, here an image from google playground:</p>\n\n<p><img src=\"https://i.stack.imgur.com/cyzBB.png\" alt=\"asking for permissions in browser\"></p>\n\n<p>That's the reason why I delted the connection from my app to google drive website: </p>\n\n<p><img src=\"https://i.stack.imgur.com/yBGMa.png\" alt=\"enter image description here\"></p>\n\n<p>In addition i recreated also the client_secret.json file. However when I now execute the program I get only this error, independent what I am doing.</p>\n\n<pre><code>    Exception in thread \"main\" com.google.api.client.auth.oauth2.TokenResponseException: 400 Bad Request\n{\n  \"error\" : \"invalid_grant\",\n  \"error_description\" : \"Token has been revoked.\"\n}\n    at com.google.api.client.auth.oauth2.TokenResponseException.from(TokenResponseException.java:105)\n    at com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:287)\n    at com.google.api.client.auth.oauth2.TokenRequest.execute(TokenRequest.java:307)\n    at com.google.api.client.auth.oauth2.Credential.executeRefreshToken(Credential.java:570)\n    at com.google.api.client.auth.oauth2.Credential.refreshToken(Credential.java:489)\n    at com.google.api.client.auth.oauth2.Credential.intercept(Credential.java:217)\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:859)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:419)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:352)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:469)\n    at main.java.DriveQuickstart.main(DriveQuickstart.java:101)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)\n</code></pre>\n\n<p>So the two questions are what should i do to get the tutorial running again and how to set the permissions so that i can delete files?</p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":15463058,"reputation":1730,"user_id":11155207,"display_name":"Max Voisard"},"score":1,"creation_date":1640427526,"post_id":70478630,"comment_id":124586096,"body_markdown":"You definitely need to be more specific. Are you wanting to sort the char array based on the int array&#39;s corresponding ordered integer when converted from char? For example, [ &#39;a&#39;, &#39;d&#39;, &#39;b&#39;, &#39;c&#39;, &#39;e&#39; ] and [ 3, 1, 2, 5, 4 ] becomes [ &#39;c&#39;, &#39;a&#39;, &#39;b&#39;, &#39;e&#39;, &#39;d&#39; ]? Or should the integers in the int array represent indexes for the char array? For example, the last example would now have an output of [ &#39;d&#39;, &#39;b&#39;, &#39;a&#39;, &#39;e&#39;, &#39;c&#39; ]. The question needs more context.","body":"You definitely need to be more specific. Are you wanting to sort the char array based on the int array&#39;s corresponding ordered integer when converted from char? For example, [ &#39;a&#39;, &#39;d&#39;, &#39;b&#39;, &#39;c&#39;, &#39;e&#39; ] and [ 3, 1, 2, 5, 4 ] becomes [ &#39;c&#39;, &#39;a&#39;, &#39;b&#39;, &#39;e&#39;, &#39;d&#39; ]? Or should the integers in the int array represent indexes for the char array? For example, the last example would now have an output of [ &#39;d&#39;, &#39;b&#39;, &#39;a&#39;, &#39;e&#39;, &#39;c&#39; ]. The question needs more context."},{"owner":{"account_id":22570038,"reputation":5,"user_id":16756333,"display_name":"Lokesh Mgm"},"score":0,"creation_date":1640608670,"post_id":70478630,"comment_id":124614683,"body_markdown":"my integer array is like this [3,1,2,5,4] and my character array is like this [a, b, c, d, e] . If i sort the integer array it becomes [1,2,3,4,5] . Now, i want my characters in the character array change their positions according to the numbers in the integer array ,so the resultant char array should be like this **[b, c, a, e, d]** . Understood???","body":"my integer array is like this [3,1,2,5,4] and my character array is like this [a, b, c, d, e] . If i sort the integer array it becomes [1,2,3,4,5] . Now, i want my characters in the character array change their positions according to the numbers in the integer array ,so the resultant char array should be like this <b>[b, c, a, e, d]</b> . Understood???"},{"owner":{"account_id":15463058,"reputation":1730,"user_id":11155207,"display_name":"Max Voisard"},"score":0,"creation_date":1640740304,"post_id":70478630,"comment_id":124647830,"body_markdown":"If that&#39;s the case, check &quot;Case 2&quot; of my answer.","body":"If that&#39;s the case, check &quot;Case 2&quot; of my answer."}],"answers":[{"tags":[],"owner":{"account_id":11639846,"reputation":189,"user_id":8524713,"display_name":"bhaskarkh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640420701,"creation_date":1640420701,"answer_id":70478791,"question_id":70478630,"body_markdown":"Converting it into map can help u in better way as you can sort map easily. Try below code \r\n\r\n        char ele[] = new char[] { &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39; };\r\n        int freq[] = new int[] { 5, 4, 7, 2, 1 };\r\n        int n=ele.length;\r\n        //this will check whether both have same element or not \r\n        if(n!=freq.length)\r\n            return;\r\n\r\n        Map&lt;Character,Integer&gt; unsorted=new HashMap&lt;&gt;();\r\n        //this will merge your both array into single map with key as char and freq as value\r\n        for(int i=0;i&lt;n;i++)\r\n        {\r\n\r\n            unsorted.put(ele[i],freq[i]);\r\n        }\r\n        \r\n        Map&lt;Character, Integer&gt; sorted = new LinkedHashMap&lt;&gt;();\r\n        unsorted.entrySet().stream()\r\n                .sorted(Map.Entry.&lt;Character, Integer&gt;comparingByValue().reversed())\r\n                .forEachOrdered(x -&gt; sorted.put(x.getKey(), x.getValue()));\r\n        sorted.forEach((k,v)-&gt;\r\n        {\r\n\r\n            System.out.println(k+&quot; --&gt; &quot;+v);\r\n        });","title":"I need to sort Character array based on another integer array. Below is my code","body":"<p>Converting it into map can help u in better way as you can sort map easily. Try below code</p>\n<pre><code>    char ele[] = new char[] { 'a', 'b', 'c', 'd', 'e' };\n    int freq[] = new int[] { 5, 4, 7, 2, 1 };\n    int n=ele.length;\n    //this will check whether both have same element or not \n    if(n!=freq.length)\n        return;\n\n    Map&lt;Character,Integer&gt; unsorted=new HashMap&lt;&gt;();\n    //this will merge your both array into single map with key as char and freq as value\n    for(int i=0;i&lt;n;i++)\n    {\n\n        unsorted.put(ele[i],freq[i]);\n    }\n    \n    Map&lt;Character, Integer&gt; sorted = new LinkedHashMap&lt;&gt;();\n    unsorted.entrySet().stream()\n            .sorted(Map.Entry.&lt;Character, Integer&gt;comparingByValue().reversed())\n            .forEachOrdered(x -&gt; sorted.put(x.getKey(), x.getValue()));\n    sorted.forEach((k,v)-&gt;\n    {\n\n        System.out.println(k+&quot; --&gt; &quot;+v);\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640421310,"creation_date":1640421310,"answer_id":70478840,"question_id":70478630,"body_markdown":"In case you do not have duplications in `freq` array, you can use `TreeMap`:\r\n```java\r\npublic static char[] sort(char[] ele, int[] freq) {\r\n    Map&lt;Integer, Character&gt; map = new TreeMap&lt;&gt;();\r\n\r\n    for (int i = 0; i &lt; ele.length; i++)\r\n        map.put(freq[i], ele[i]);\r\n\r\n    int i = 0;\r\n\r\n    for (Character ch : map.values())\r\n        ele[i++] = ch;\r\n\r\n    return ele;\r\n}\r\n```\r\n---\r\nOtherwise, you can use `PriorityQueue`:\r\n```java\r\npublic static char[] sort(char[] ele, int[] freq) {\r\n    class Pair {\r\n\r\n        final char ele;\r\n        final int freq;\r\n\r\n        public Pair(char ele, int freq) {\r\n            this.ele = ele;\r\n            this.freq = freq;\r\n        }\r\n\r\n    }\r\n\r\n    Queue&lt;Pair&gt; queue = new PriorityQueue&lt;&gt;(Comparator.comparingInt(pair -&gt; pair.freq));\r\n\r\n    for (int i = 0; i &lt; ele.length; i++)\r\n        queue.add(new Pair(ele[i], freq[i]));\r\n\r\n    int i = 0;\r\n\r\n    for (Pair pair : queue)\r\n        ele[i++] = pair.ele;\r\n\r\n    return ele;\r\n}\r\n```","title":"I need to sort Character array based on another integer array. Below is my code","body":"<p>In case you do not have duplications in <code>freq</code> array, you can use <code>TreeMap</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static char[] sort(char[] ele, int[] freq) {\n    Map&lt;Integer, Character&gt; map = new TreeMap&lt;&gt;();\n\n    for (int i = 0; i &lt; ele.length; i++)\n        map.put(freq[i], ele[i]);\n\n    int i = 0;\n\n    for (Character ch : map.values())\n        ele[i++] = ch;\n\n    return ele;\n}\n</code></pre>\n<hr />\n<p>Otherwise, you can use <code>PriorityQueue</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static char[] sort(char[] ele, int[] freq) {\n    class Pair {\n\n        final char ele;\n        final int freq;\n\n        public Pair(char ele, int freq) {\n            this.ele = ele;\n            this.freq = freq;\n        }\n\n    }\n\n    Queue&lt;Pair&gt; queue = new PriorityQueue&lt;&gt;(Comparator.comparingInt(pair -&gt; pair.freq));\n\n    for (int i = 0; i &lt; ele.length; i++)\n        queue.add(new Pair(ele[i], freq[i]));\n\n    int i = 0;\n\n    for (Pair pair : queue)\n        ele[i++] = pair.ele;\n\n    return ele;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14747276,"reputation":437,"user_id":10650269,"display_name":"Sri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640428413,"creation_date":1640421689,"answer_id":70478872,"question_id":70478630,"body_markdown":"I hope this works for both way of sorting\r\n\r\n    public static void main(String[] args) {\r\n        char ele[] = new char[]{&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;};\r\n        int freq[] = new int[]{5, 4, 3, 2, 1};\r\n        Map&lt;Character, Integer&gt; inputMap = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; ele.length; i++) {\r\n             inputMap.put(ele[i],freq[i]);\r\n        }\r\n        System.out.println(inputMap);\r\n\r\n        // sort in desc\r\n        Map&lt;Character, Integer&gt; sortedDesc = new LinkedHashMap&lt;&gt;();\r\n        inputMap.entrySet().stream()\r\n                .sorted(Map.Entry.&lt;Character, Integer&gt;comparingByValue().reversed())\r\n                .forEachOrdered(x -&gt; sortedDesc.put(x.getKey(), x.getValue()));\r\n\r\n        System.out.println(sortedDesc);\r\n        System.out.println(sortedDesc.keySet());\r\n\r\n        // sort in asc\r\n        LinkedHashMap&lt;Character, Integer&gt; sortedAsc = new LinkedHashMap&lt;&gt;();\r\n        inputMap.entrySet()\r\n                .stream()\r\n                .sorted(Map.Entry.comparingByValue())\r\n                .forEachOrdered(x -&gt; sortedAsc.put(x.getKey(), x.getValue()));\r\n        System.out.println(sortedAsc);\r\n        System.out.println(sortedAsc.keySet());\r\n\r\n    }\r\n","title":"I need to sort Character array based on another integer array. Below is my code","body":"<p>I hope this works for both way of sorting</p>\n<pre><code>public static void main(String[] args) {\n    char ele[] = new char[]{'a', 'b', 'c', 'd', 'e'};\n    int freq[] = new int[]{5, 4, 3, 2, 1};\n    Map&lt;Character, Integer&gt; inputMap = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; ele.length; i++) {\n         inputMap.put(ele[i],freq[i]);\n    }\n    System.out.println(inputMap);\n\n    // sort in desc\n    Map&lt;Character, Integer&gt; sortedDesc = new LinkedHashMap&lt;&gt;();\n    inputMap.entrySet().stream()\n            .sorted(Map.Entry.&lt;Character, Integer&gt;comparingByValue().reversed())\n            .forEachOrdered(x -&gt; sortedDesc.put(x.getKey(), x.getValue()));\n\n    System.out.println(sortedDesc);\n    System.out.println(sortedDesc.keySet());\n\n    // sort in asc\n    LinkedHashMap&lt;Character, Integer&gt; sortedAsc = new LinkedHashMap&lt;&gt;();\n    inputMap.entrySet()\n            .stream()\n            .sorted(Map.Entry.comparingByValue())\n            .forEachOrdered(x -&gt; sortedAsc.put(x.getKey(), x.getValue()));\n    System.out.println(sortedAsc);\n    System.out.println(sortedAsc.keySet());\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15463058,"reputation":1730,"user_id":11155207,"display_name":"Max Voisard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640428191,"creation_date":1640425994,"answer_id":70479208,"question_id":70478630,"body_markdown":"You definitely need to be more specific. Are you wanting to sort the char array based on the int array&#39;s corresponding ordered integer when converted from char? For example, [ &#39;a&#39;, &#39;d&#39;, &#39;b&#39;, &#39;c&#39;, &#39;e&#39; ] and [ 3, 1, 2, 5, 4 ] becomes [ &#39;c&#39;, &#39;a&#39;, &#39;b&#39;, &#39;e&#39;, &#39;d&#39; ]? Or should the integers in the int array represent indexes for the char array? For example, given the same arrays for the last instance, we would now have an output of [ &#39;d&#39;, &#39;b&#39;, &#39;a&#39;, &#39;e&#39;, &#39;c&#39; ]. The question needs more context. \r\n\r\nI&#39;ve made two simple and elegant solutions to solve both cases, anyway. They are simple in the fact that they avoid any complex data structures like HashMaps or TreeMaps and just use arrays. Enjoy :)\r\n\r\n**Case 1**\r\n\r\n    char ele[] = new char[] { &#39;a&#39;, &#39;d&#39;, &#39;b&#39;, &#39;c&#39;, &#39;e&#39; };\r\n    int freq[] = new int[] { 3, 1, 2, 5, 4 };\r\n    Arrays.sort(ele);\r\n    char sortedEle[] = new char[ele.length];\r\n    int idxCounter = 0;\r\n    for (int i = 0; i &lt; freq.length; i++) {\r\n       for (int j = 0; j &lt; ele.length; j++) {\r\n           if (freq[i] == j + 1) {\r\n               sortedEle[idxCounter] = ele[j];\r\n               idxCounter++;\r\n           }\r\n        }\r\n    }\r\n    System.out.println(Arrays.toString(sortedEle));\r\n\r\n**Case 2**\r\n\r\n    char ele[] = new char[] { &#39;a&#39;, &#39;d&#39;, &#39;b&#39;, &#39;c&#39;, &#39;e&#39; };\r\n    int freq[] = new int[] { 3, 1, 2, 5, 4 };\r\n    char sortedEle[] = new char[ele.length];\r\n    for (int i = 0; i &lt; ele.length; i++) {\r\n        int idx = freq[i] - 1;\r\n        sortedEle[idx] = ele[i];\r\n    }\r\n    System.out.println(Arrays.toString(sortedEle));","title":"I need to sort Character array based on another integer array. Below is my code","body":"<p>You definitely need to be more specific. Are you wanting to sort the char array based on the int array's corresponding ordered integer when converted from char? For example, [ 'a', 'd', 'b', 'c', 'e' ] and [ 3, 1, 2, 5, 4 ] becomes [ 'c', 'a', 'b', 'e', 'd' ]? Or should the integers in the int array represent indexes for the char array? For example, given the same arrays for the last instance, we would now have an output of [ 'd', 'b', 'a', 'e', 'c' ]. The question needs more context.</p>\n<p>I've made two simple and elegant solutions to solve both cases, anyway. They are simple in the fact that they avoid any complex data structures like HashMaps or TreeMaps and just use arrays. Enjoy :)</p>\n<p><strong>Case 1</strong></p>\n<pre><code>char ele[] = new char[] { 'a', 'd', 'b', 'c', 'e' };\nint freq[] = new int[] { 3, 1, 2, 5, 4 };\nArrays.sort(ele);\nchar sortedEle[] = new char[ele.length];\nint idxCounter = 0;\nfor (int i = 0; i &lt; freq.length; i++) {\n   for (int j = 0; j &lt; ele.length; j++) {\n       if (freq[i] == j + 1) {\n           sortedEle[idxCounter] = ele[j];\n           idxCounter++;\n       }\n    }\n}\nSystem.out.println(Arrays.toString(sortedEle));\n</code></pre>\n<p><strong>Case 2</strong></p>\n<pre><code>char ele[] = new char[] { 'a', 'd', 'b', 'c', 'e' };\nint freq[] = new int[] { 3, 1, 2, 5, 4 };\nchar sortedEle[] = new char[ele.length];\nfor (int i = 0; i &lt; ele.length; i++) {\n    int idx = freq[i] - 1;\n    sortedEle[idx] = ele[i];\n}\nSystem.out.println(Arrays.toString(sortedEle));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18725445,"reputation":100,"user_id":15050200,"display_name":"space-ninja-x"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640674115,"creation_date":1640674115,"answer_id":70503645,"question_id":70478630,"body_markdown":"You could use an efficient &quot;[Bubble Sort][1]&quot; algorithm to sort both the arrays. The criteria of the sort will only apply to the array of integers, but when repositioning its elements, you could reposition the elements of the array of characters as well. \r\n\r\nThis approach is straightforward but requires knowledge of the &quot;Bubble Sort&quot;. Some of the answers posted by others are more efficient. But this is just a simple way of doing it.\r\n\r\n```\r\n        char[] arrayOfChars = { &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39; } ;\r\n        int[] arrayOfInts = { 3, 1, 2, 5, 4 } ;\r\n\r\n        int index, limit = 4 ;\r\n        boolean swapped ;        \r\n\r\n        do\r\n        {\r\n            swapped = false ;\r\n            index = 0 ;\r\n\r\n            while(index &lt; limit)\r\n            {\r\n                if(arrayOfInts[index] &gt; arrayOfInts[index+1])\r\n                {\r\n                    // swapping places of the integer elements\r\n                    int tempInt = arrayOfInts[index] ;\r\n                    arrayOfInts[index] = arrayOfInts[index+1] ;\r\n                    arrayOfInts[index+1] = tempInt ;\r\n\r\n                    // swapping places of the adjacent character elements\r\n                    char tempChar = arrayOfChars[index] ;\r\n                    arrayOfChars[index] = arrayOfChars[index+1] ;\r\n                    arrayOfChars[index+1] = tempChar ;\r\n\r\n                    swapped = true ;\r\n                }\r\n\r\n                index++ ;\r\n            }\r\n\r\n            limit-- ;\r\n        }\r\n        while(swapped) ;\r\n\r\n        System.out.println(Arrays.toString(arrayOfInts)) ;\r\n        System.out.println(Arrays.toString(arrayOfChars)) ;\r\n```\r\n\r\n\r\n  [1]: https://www.programiz.com/dsa/bubble-sort","title":"I need to sort Character array based on another integer array. Below is my code","body":"<p>You could use an efficient &quot;<a href=\"https://www.programiz.com/dsa/bubble-sort\" rel=\"nofollow noreferrer\">Bubble Sort</a>&quot; algorithm to sort both the arrays. The criteria of the sort will only apply to the array of integers, but when repositioning its elements, you could reposition the elements of the array of characters as well.</p>\n<p>This approach is straightforward but requires knowledge of the &quot;Bubble Sort&quot;. Some of the answers posted by others are more efficient. But this is just a simple way of doing it.</p>\n<pre><code>        char[] arrayOfChars = { 'a', 'b', 'c', 'd', 'e' } ;\n        int[] arrayOfInts = { 3, 1, 2, 5, 4 } ;\n\n        int index, limit = 4 ;\n        boolean swapped ;        \n\n        do\n        {\n            swapped = false ;\n            index = 0 ;\n\n            while(index &lt; limit)\n            {\n                if(arrayOfInts[index] &gt; arrayOfInts[index+1])\n                {\n                    // swapping places of the integer elements\n                    int tempInt = arrayOfInts[index] ;\n                    arrayOfInts[index] = arrayOfInts[index+1] ;\n                    arrayOfInts[index+1] = tempInt ;\n\n                    // swapping places of the adjacent character elements\n                    char tempChar = arrayOfChars[index] ;\n                    arrayOfChars[index] = arrayOfChars[index+1] ;\n                    arrayOfChars[index+1] = tempChar ;\n\n                    swapped = true ;\n                }\n\n                index++ ;\n            }\n\n            limit-- ;\n        }\n        while(swapped) ;\n\n        System.out.println(Arrays.toString(arrayOfInts)) ;\n        System.out.println(Arrays.toString(arrayOfChars)) ;\n</code></pre>\n"}],"owner":{"account_id":22570038,"reputation":5,"user_id":16756333,"display_name":"Lokesh Mgm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":5,"score":-3,"last_activity_date":1640674115,"creation_date":1640418232,"question_id":70478630,"body_markdown":"my integer array is like this **[3,1,2,5,4]** and my character array is like this **[a, b, c, d, e]** . If i sort the integer array it becomes **[1,2,3,4,5]** . Now, I want my characters in the character array change their positions according to the numbers in the integer array ,so the resultant char array should be like this **[b, c, a, e, d]** . I hope u got the question.\r\n\r\n```java\r\npublic class Comparator1 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tchar[] ele = { &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39; };\r\n\t\tint[] freq = { 3, 1, 2, 5, 4 };\r\n\t\t\r\n\t\tSystem.out.println(Arrays.toString(ele));\r\n//op: char[] ele={b,c,a,e,d};\r\n\t}\r\n\r\n}\r\n```","title":"I need to sort Character array based on another integer array. Below is my code","body":"<p>my integer array is like this <strong>[3,1,2,5,4]</strong> and my character array is like this <strong>[a, b, c, d, e]</strong> . If i sort the integer array it becomes <strong>[1,2,3,4,5]</strong> . Now, I want my characters in the character array change their positions according to the numbers in the integer array ,so the resultant char array should be like this <strong>[b, c, a, e, d]</strong> . I hope u got the question.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Comparator1 {\n\n    public static void main(String[] args) {\n        char[] ele = { 'a', 'b', 'c', 'd', 'e' };\n        int[] freq = { 3, 1, 2, 5, 4 };\n        \n        System.out.println(Arrays.toString(ele));\n//op: char[] ele={b,c,a,e,d};\n    }\n\n}\n</code></pre>\n"},{"tags":["java","sockets","ip","multiplayer","chess"],"comments":[{"owner":{"account_id":7582429,"reputation":5670,"user_id":5752730,"display_name":"DV82XL"},"score":0,"creation_date":1638630942,"post_id":70199333,"comment_id":124141710,"body_markdown":"This can definitely be made with Java. As for how, that&#39;s a bit vague. Stack Overflow is more for specific programming questions. See [how to ask](https://stackoverflow.com/help/how-to-ask).","body":"This can definitely be made with Java. As for how, that&#39;s a bit vague. Stack Overflow is more for specific programming questions. See <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":17843673,"reputation":1414,"user_id":12961033,"display_name":"tyChen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640673839,"creation_date":1640673839,"answer_id":70503611,"question_id":70199333,"body_markdown":"Firstly, you need to learn network programming. If you understand how network runs and wirte some little example of TCP/UDP, you&#39;ll know how to start.\r\n\r\nThen, you need a server to control communication between these two/or more players, that always look like a look below\r\n\r\n```\r\nvoid activate()\r\n{\r\n    while (true)\r\n    {\r\n        // Process Players packages in\r\n        // Process game logic\r\n        // Process packages respond\r\n    }\r\n}\r\n\r\n```\r\n\r\nAfter that, it will look ok as a little game.","title":"How to create a multiplayer lobby room system Java","body":"<p>Firstly, you need to learn network programming. If you understand how network runs and wirte some little example of TCP/UDP, you'll know how to start.</p>\n<p>Then, you need a server to control communication between these two/or more players, that always look like a look below</p>\n<pre><code>void activate()\n{\n    while (true)\n    {\n        // Process Players packages in\n        // Process game logic\n        // Process packages respond\n    }\n}\n\n</code></pre>\n<p>After that, it will look ok as a little game.</p>\n"}],"owner":{"account_id":22257667,"reputation":1,"user_id":16489604,"display_name":"Javarxd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":450,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1640673839,"creation_date":1638447560,"question_id":70199333,"body_markdown":"I am currently working on my biggest project - chess. I want to create lobby / room system where you can type a code and connect with a friend and play real time. The problem is that l have 0 experience with making multiplayer. Can something like this be made in Java and if yes how?","title":"How to create a multiplayer lobby room system Java","body":"<p>I am currently working on my biggest project - chess. I want to create lobby / room system where you can type a code and connect with a friend and play real time. The problem is that l have 0 experience with making multiplayer. Can something like this be made in Java and if yes how?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640673764,"creation_date":1640673338,"answer_id":70503543,"question_id":70503470,"body_markdown":"The `carName` is a field variable of a `Car` object. You must instantiate a `Car` at first, and then access its `carName` field.\r\n\r\n    Car car = new Car();\r\n    \r\n    (...)\r\n\r\n    car.carName = fields[1];\r\n\r\nWhere you should instantiate a `Car` object depends on the situation. I would pass it as an argument to `displayCarList`.\r\n\r\n    public static void displayCarList(Car car) {\r\n        (...)\r\n        car.carName = fields[1];\r\n        (...)\r\n    }\r\n\r\nUsage:\r\n\r\n    public class Car {\r\n        double carRate;\r\n        String carName;\r\n\r\n        public static void main(String[] args) {\r\n            Car car = new Car();\r\n            MenuDisplay carInfo = new MenuDisplay(car);\r\n        }\r\n    }","title":"How to access variables in another class, Java?","body":"<p>The <code>carName</code> is a field variable of a <code>Car</code> object. You must instantiate a <code>Car</code> at first, and then access its <code>carName</code> field.</p>\n<pre><code>Car car = new Car();\n\n(...)\n\ncar.carName = fields[1];\n</code></pre>\n<p>Where you should instantiate a <code>Car</code> object depends on the situation. I would pass it as an argument to <code>displayCarList</code>.</p>\n<pre><code>public static void displayCarList(Car car) {\n    (...)\n    car.carName = fields[1];\n    (...)\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>public class Car {\n    double carRate;\n    String carName;\n\n    public static void main(String[] args) {\n        Car car = new Car();\n        MenuDisplay carInfo = new MenuDisplay(car);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12713444,"reputation":516,"user_id":9236333,"display_name":"Vinit Pillai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640673680,"creation_date":1640673680,"answer_id":70503589,"question_id":70503470,"body_markdown":"Create an object of Car class and set values. Then you can access.","title":"How to access variables in another class, Java?","body":"<p>Create an object of Car class and set values. Then you can access.</p>\n"}],"owner":{"account_id":20867313,"reputation":47,"user_id":15328053,"display_name":"Kris Ellison"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1640673764,"creation_date":1640672826,"question_id":70503470,"body_markdown":"I have multiple classes of the same package and need to access some variables in different classes. How would I access carName from MenuDisplay in the Car class? feels like I&#39;m almost there but just can&#39;t figure it out. Thanks\r\n\r\n    package carrentaltester;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.Scanner;\r\n    \r\n    public class MenuDisplay {\r\n    \r\n        public static void displayCarList() {\r\n    \r\n            String CSVfileName = &quot;CarList.csv&quot;;\r\n            int counter = 0;\r\n            try { //open and read the CSV file\r\n                File file = new File(CSVfileName);\r\n                Scanner input = new Scanner(file);\r\n                System.out.format(&quot;%-8s%-18s%-10s%-16s%-16s%-16s\\n&quot;,\r\n                        &quot;Car No.&quot;, &quot;Car Name&quot;, &quot;Seats&quot;, &quot;Transmission&quot;, &quot;Car Type&quot;,\r\n                        &quot;Rate/Day($&quot;);\r\n                System.out.format(&quot;%-8s%-18s%-10s%-16s%-16s%-16s\\n&quot;, &quot;-------&quot;,\r\n                        &quot;-------&quot;, &quot;----- &quot;, &quot;------------&quot;, &quot;---------&quot;,\r\n                        &quot;--------&quot;);\r\n                while (input.hasNextLine()) {\r\n                    String line = input.nextLine();\r\n                    counter++;\r\n                    String fields[] = line.split(&quot;,&quot;);\r\n                    String carNumber = fields[0];\r\n                    String carName = fields[1];\r\n                    String seats = fields[2];\r\n                    String transmission = fields[3];\r\n                    String carType = fields[4];\r\n                    String ratePerDay = fields[5];\r\n    \r\n                    System.out.format(&quot;%-8s%-18s%-10s%-16s%-16s%-16s\\n&quot;,\r\n                            carNumber, carName, seats, transmission, carType,\r\n                            ratePerDay);\r\n                }\r\n    package carrentaltester;\r\n    \r\n    \r\n    public class Car {\r\n        \r\n        double carRate;\r\n        String carName; \r\n            \r\n        MenuDisplay carInfo = new MenuDisplay();\r\n        \r\n    }\r\n\r\n","title":"How to access variables in another class, Java?","body":"<p>I have multiple classes of the same package and need to access some variables in different classes. How would I access carName from MenuDisplay in the Car class? feels like I'm almost there but just can't figure it out. Thanks</p>\n<pre><code>package carrentaltester;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\n\npublic class MenuDisplay {\n\n    public static void displayCarList() {\n\n        String CSVfileName = &quot;CarList.csv&quot;;\n        int counter = 0;\n        try { //open and read the CSV file\n            File file = new File(CSVfileName);\n            Scanner input = new Scanner(file);\n            System.out.format(&quot;%-8s%-18s%-10s%-16s%-16s%-16s\\n&quot;,\n                    &quot;Car No.&quot;, &quot;Car Name&quot;, &quot;Seats&quot;, &quot;Transmission&quot;, &quot;Car Type&quot;,\n                    &quot;Rate/Day($&quot;);\n            System.out.format(&quot;%-8s%-18s%-10s%-16s%-16s%-16s\\n&quot;, &quot;-------&quot;,\n                    &quot;-------&quot;, &quot;----- &quot;, &quot;------------&quot;, &quot;---------&quot;,\n                    &quot;--------&quot;);\n            while (input.hasNextLine()) {\n                String line = input.nextLine();\n                counter++;\n                String fields[] = line.split(&quot;,&quot;);\n                String carNumber = fields[0];\n                String carName = fields[1];\n                String seats = fields[2];\n                String transmission = fields[3];\n                String carType = fields[4];\n                String ratePerDay = fields[5];\n\n                System.out.format(&quot;%-8s%-18s%-10s%-16s%-16s%-16s\\n&quot;,\n                        carNumber, carName, seats, transmission, carType,\n                        ratePerDay);\n            }\npackage carrentaltester;\n\n\npublic class Car {\n    \n    double carRate;\n    String carName; \n        \n    MenuDisplay carInfo = new MenuDisplay();\n    \n}\n</code></pre>\n"},{"tags":["java","multithreading","swing","swingworker","cancellation"],"comments":[{"owner":{"account_id":15857,"reputation":10459,"user_id":1440720,"display_name":"jfpoilpret"},"score":0,"creation_date":1306268285,"post_id":6113944,"comment_id":7094896,"body_markdown":"Can you confirm that `doInBackground()` returns and doesn&#39;t block inside the `while (true)` loop?","body":"Can you confirm that <code>doInBackground()</code> returns and doesn&#39;t block inside the <code>while (true)</code> loop?"},{"owner":{"account_id":380750,"reputation":35396,"user_id":734984,"accept_rate":88,"display_name":"Renato Dinhani"},"score":0,"creation_date":1306330661,"post_id":6113944,"comment_id":7106926,"body_markdown":"Yes, I debugged the code and it enters in the exception returning false.","body":"Yes, I debugged the code and it enters in the exception returning false."}],"answers":[{"tags":[],"owner":{"account_id":242372,"reputation":23523,"user_id":513838,"accept_rate":100,"display_name":"jzd"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1306256007,"creation_date":1306256007,"answer_id":6113981,"question_id":6113944,"body_markdown":"There is a `cancel()` method.  Your code would have to pay attention to that.  If it keeps running after an exception, it would appear that you code is ignoring an exception that it shouldn&#39;t be.","title":"How cancel the execution of a SwingWorker?","body":"<p>There is a <code>cancel()</code> method.  Your code would have to pay attention to that.  If it keeps running after an exception, it would appear that you code is ignoring an exception that it shouldn't be.</p>\n"},{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1306261021,"creation_date":1306260533,"answer_id":6114890,"question_id":6113944,"body_markdown":"as jzd montioned, there is method [cancel(boolean mayInterruptIfRunning)][1]; for exapmle\r\n\r\nEDIT: with cancel(true); you have to (always) cautgh an exception `java.util.concurrent.CancellationException` \r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.util.ArrayList;\r\n    \r\n    public class SwingWorkerExample extends JFrame implements ActionListener {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private final JButton startButton, stopButton;\r\n        private JScrollPane scrollPane = new JScrollPane();\r\n        private JList listBox = null;\r\n        private DefaultListModel listModel = new DefaultListModel();\r\n        private final JProgressBar progressBar;\r\n        private mySwingWorker swingWorker;\r\n    \r\n        public SwingWorkerExample() {\r\n            super(&quot;SwingWorkerExample&quot;);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            getContentPane().setLayout(new GridLayout(2, 2));\r\n            startButton = makeButton(&quot;Start&quot;);\r\n            stopButton = makeButton(&quot;Stop&quot;);\r\n            stopButton.setEnabled(false);\r\n            progressBar = makeProgressBar(0, 99);\r\n            listBox = new JList(listModel);\r\n            scrollPane.setViewportView(listBox);\r\n            getContentPane().add(scrollPane);\r\n            //Display the window.\r\n            pack();\r\n            setVisible(true);\r\n        }\r\n    //Class SwingWorker&lt;T,V&gt; T - the result type returned by this SwingWorker&#39;s doInBackground\r\n    //and get methods V - the type used for carrying out intermediate results by this SwingWorker&#39;s \r\n    //publish and process methods\r\n    \r\n        private class mySwingWorker extends javax.swing.SwingWorker&lt;ArrayList&lt;Integer&gt;, Integer&gt; {\r\n    //The first template argument, in this case, ArrayList&lt;Integer&gt;, is what s returned by doInBackground(), \r\n    //and by get(). The second template argument, in this case, Integer, is what is published with the \r\n    //publish method. It is also the data type which is stored by the java.util.List that is the parameter\r\n    //for the process method, which recieves the information published by the publish method.\r\n    \r\n            @Override\r\n            protected ArrayList&lt;Integer&gt; doInBackground() {\r\n    //Returns items of the type given as the first template argument to the SwingWorker class.\r\n                if (javax.swing.SwingUtilities.isEventDispatchThread()) {\r\n                    System.out.println(&quot;javax.swing.SwingUtilities.isEventDispatchThread() returned true.&quot;);\r\n                }\r\n                Integer tmpValue = new Integer(1);\r\n                ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n                for (int i = 0; i &lt; 100; i++) {\r\n                    for (int j = 0; j &lt; 100; j++) { //find every 100th prime, just to make it slower\r\n                        tmpValue = FindNextPrime(tmpValue.intValue());\r\n    //isCancelled() returns true if the cancel() method is invoked on this class. That is the proper way\r\n    //to stop this thread. See the actionPerformed method.\r\n                        if (isCancelled()) {\r\n                            System.out.println(&quot;SwingWorker - isCancelled&quot;);\r\n                            return list;\r\n                        }\r\n                    }\r\n    //Successive calls to publish are coalesced into a java.util.List, which is what is received by process, \r\n    //which in this case, isused to update the JProgressBar. Thus, the values passed to publish range from \r\n    //1 to 100.\r\n                    publish(new Integer(i));\r\n                    list.add(tmpValue);\r\n                }\r\n                return list;\r\n            }//Note, always use java.util.List here, or it will use the wrong list.\r\n    \r\n            @Override\r\n            protected void process(java.util.List&lt;Integer&gt; progressList) {\r\n    //This method is processing a java.util.List of items given as successive arguments to the publish method.\r\n    //Note that these calls are coalesced into a java.util.List. This list holds items of the type given as the\r\n    //second template parameter type to SwingWorker. Note that the get method below has nothing to do with the \r\n    //SwingWorker get method; it is the List&#39;s get method. This would be a good place to update a progress bar.\r\n                if (!javax.swing.SwingUtilities.isEventDispatchThread()) {\r\n                    System.out.println(&quot;javax.swing.SwingUtilities.isEventDispatchThread() + returned false.&quot;);\r\n                }\r\n                Integer percentComplete = progressList.get(progressList.size() - 1);\r\n                progressBar.setValue(percentComplete.intValue());\r\n            }\r\n    \r\n            @Override\r\n            protected void done() {\r\n                System.out.println(&quot;doInBackground is complete&quot;);\r\n                if (!javax.swing.SwingUtilities.isEventDispatchThread()) {\r\n                    System.out.println(&quot;javax.swing.SwingUtilities.isEventDispatchThread() + returned false.&quot;);\r\n                }\r\n                try {\r\n    //Here, the SwingWorker&#39;s get method returns an item of the same type as specified as the first type parameter\r\n    //given to the SwingWorker class.\r\n                    ArrayList&lt;Integer&gt; results = get();\r\n                    for (Integer i : results) {\r\n                        listModel.addElement(i.toString());\r\n                    }\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;Caught an exception: &quot; + e);\r\n                }\r\n                startButton();\r\n            }\r\n    \r\n            boolean IsPrime(int num) { //Checks whether a number is prime\r\n                int i;\r\n                for (i = 2; i &lt;= num / 2; i++) {\r\n                    if (num % i == 0) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            }\r\n    \r\n            protected Integer FindNextPrime(int num) { //Returns next prime number from passed arg.       \r\n                do {\r\n                    if (num % 2 == 0) {\r\n                        num++;\r\n                    } else {\r\n                        num += 2;\r\n                    }\r\n                } while (!IsPrime(num));\r\n                return new Integer(num);\r\n            }\r\n        }\r\n    \r\n        private JButton makeButton(String caption) {\r\n            JButton b = new JButton(caption);\r\n            b.setActionCommand(caption);\r\n            b.addActionListener(this);\r\n            getContentPane().add(b);\r\n            return b;\r\n        }\r\n    \r\n        private JProgressBar makeProgressBar(int min, int max) {\r\n            JProgressBar progressBar1 = new JProgressBar();\r\n            progressBar1.setMinimum(min);\r\n            progressBar1.setMaximum(max);\r\n            progressBar1.setStringPainted(true);\r\n            progressBar1.setBorderPainted(true);\r\n            getContentPane().add(progressBar1);\r\n            return progressBar1;\r\n        }\r\n    \r\n        private void startButton() {\r\n            startButton.setEnabled(true);\r\n            stopButton.setEnabled(false);\r\n            System.out.println(&quot;SwingWorker - Done&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            if (&quot;Start&quot; == null ? e.getActionCommand() == null : &quot;Start&quot;.equals(e.getActionCommand())) {\r\n                startButton.setEnabled(false);\r\n                stopButton.setEnabled(true);\r\n    // Note that it creates a new instance of the SwingWorker-derived class. Never reuse an old one.\r\n                (swingWorker = new mySwingWorker()).execute(); // new instance\r\n            } else if (&quot;Stop&quot; == null ? e.getActionCommand() == null : &quot;Stop&quot;.equals(e.getActionCommand())) {\r\n                startButton.setEnabled(true);\r\n                stopButton.setEnabled(false);\r\n                swingWorker.cancel(true); // causes isCancelled to return true in doInBackground\r\n                swingWorker = null;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    // Notice that it kicks it off on the event-dispatching thread, not the main thread.\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    SwingWorkerExample swingWorkerExample = new SwingWorkerExample();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/javax/swing/SwingWorker.html#cancel%28boolean%29","title":"How cancel the execution of a SwingWorker?","body":"<p>as jzd montioned, there is method <a href=\"http://download.oracle.com/javase/6/docs/api/javax/swing/SwingWorker.html#cancel%28boolean%29\" rel=\"noreferrer\">cancel(boolean mayInterruptIfRunning)</a>; for exapmle</p>\n\n<p>EDIT: with cancel(true); you have to (always) cautgh an exception <code>java.util.concurrent.CancellationException</code> </p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.util.ArrayList;\n\npublic class SwingWorkerExample extends JFrame implements ActionListener {\n\n    private static final long serialVersionUID = 1L;\n    private final JButton startButton, stopButton;\n    private JScrollPane scrollPane = new JScrollPane();\n    private JList listBox = null;\n    private DefaultListModel listModel = new DefaultListModel();\n    private final JProgressBar progressBar;\n    private mySwingWorker swingWorker;\n\n    public SwingWorkerExample() {\n        super(\"SwingWorkerExample\");\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        getContentPane().setLayout(new GridLayout(2, 2));\n        startButton = makeButton(\"Start\");\n        stopButton = makeButton(\"Stop\");\n        stopButton.setEnabled(false);\n        progressBar = makeProgressBar(0, 99);\n        listBox = new JList(listModel);\n        scrollPane.setViewportView(listBox);\n        getContentPane().add(scrollPane);\n        //Display the window.\n        pack();\n        setVisible(true);\n    }\n//Class SwingWorker&lt;T,V&gt; T - the result type returned by this SwingWorker's doInBackground\n//and get methods V - the type used for carrying out intermediate results by this SwingWorker's \n//publish and process methods\n\n    private class mySwingWorker extends javax.swing.SwingWorker&lt;ArrayList&lt;Integer&gt;, Integer&gt; {\n//The first template argument, in this case, ArrayList&lt;Integer&gt;, is what s returned by doInBackground(), \n//and by get(). The second template argument, in this case, Integer, is what is published with the \n//publish method. It is also the data type which is stored by the java.util.List that is the parameter\n//for the process method, which recieves the information published by the publish method.\n\n        @Override\n        protected ArrayList&lt;Integer&gt; doInBackground() {\n//Returns items of the type given as the first template argument to the SwingWorker class.\n            if (javax.swing.SwingUtilities.isEventDispatchThread()) {\n                System.out.println(\"javax.swing.SwingUtilities.isEventDispatchThread() returned true.\");\n            }\n            Integer tmpValue = new Integer(1);\n            ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n            for (int i = 0; i &lt; 100; i++) {\n                for (int j = 0; j &lt; 100; j++) { //find every 100th prime, just to make it slower\n                    tmpValue = FindNextPrime(tmpValue.intValue());\n//isCancelled() returns true if the cancel() method is invoked on this class. That is the proper way\n//to stop this thread. See the actionPerformed method.\n                    if (isCancelled()) {\n                        System.out.println(\"SwingWorker - isCancelled\");\n                        return list;\n                    }\n                }\n//Successive calls to publish are coalesced into a java.util.List, which is what is received by process, \n//which in this case, isused to update the JProgressBar. Thus, the values passed to publish range from \n//1 to 100.\n                publish(new Integer(i));\n                list.add(tmpValue);\n            }\n            return list;\n        }//Note, always use java.util.List here, or it will use the wrong list.\n\n        @Override\n        protected void process(java.util.List&lt;Integer&gt; progressList) {\n//This method is processing a java.util.List of items given as successive arguments to the publish method.\n//Note that these calls are coalesced into a java.util.List. This list holds items of the type given as the\n//second template parameter type to SwingWorker. Note that the get method below has nothing to do with the \n//SwingWorker get method; it is the List's get method. This would be a good place to update a progress bar.\n            if (!javax.swing.SwingUtilities.isEventDispatchThread()) {\n                System.out.println(\"javax.swing.SwingUtilities.isEventDispatchThread() + returned false.\");\n            }\n            Integer percentComplete = progressList.get(progressList.size() - 1);\n            progressBar.setValue(percentComplete.intValue());\n        }\n\n        @Override\n        protected void done() {\n            System.out.println(\"doInBackground is complete\");\n            if (!javax.swing.SwingUtilities.isEventDispatchThread()) {\n                System.out.println(\"javax.swing.SwingUtilities.isEventDispatchThread() + returned false.\");\n            }\n            try {\n//Here, the SwingWorker's get method returns an item of the same type as specified as the first type parameter\n//given to the SwingWorker class.\n                ArrayList&lt;Integer&gt; results = get();\n                for (Integer i : results) {\n                    listModel.addElement(i.toString());\n                }\n            } catch (Exception e) {\n                System.out.println(\"Caught an exception: \" + e);\n            }\n            startButton();\n        }\n\n        boolean IsPrime(int num) { //Checks whether a number is prime\n            int i;\n            for (i = 2; i &lt;= num / 2; i++) {\n                if (num % i == 0) {\n                    return false;\n                }\n            }\n            return true;\n        }\n\n        protected Integer FindNextPrime(int num) { //Returns next prime number from passed arg.       \n            do {\n                if (num % 2 == 0) {\n                    num++;\n                } else {\n                    num += 2;\n                }\n            } while (!IsPrime(num));\n            return new Integer(num);\n        }\n    }\n\n    private JButton makeButton(String caption) {\n        JButton b = new JButton(caption);\n        b.setActionCommand(caption);\n        b.addActionListener(this);\n        getContentPane().add(b);\n        return b;\n    }\n\n    private JProgressBar makeProgressBar(int min, int max) {\n        JProgressBar progressBar1 = new JProgressBar();\n        progressBar1.setMinimum(min);\n        progressBar1.setMaximum(max);\n        progressBar1.setStringPainted(true);\n        progressBar1.setBorderPainted(true);\n        getContentPane().add(progressBar1);\n        return progressBar1;\n    }\n\n    private void startButton() {\n        startButton.setEnabled(true);\n        stopButton.setEnabled(false);\n        System.out.println(\"SwingWorker - Done\");\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (\"Start\" == null ? e.getActionCommand() == null : \"Start\".equals(e.getActionCommand())) {\n            startButton.setEnabled(false);\n            stopButton.setEnabled(true);\n// Note that it creates a new instance of the SwingWorker-derived class. Never reuse an old one.\n            (swingWorker = new mySwingWorker()).execute(); // new instance\n        } else if (\"Stop\" == null ? e.getActionCommand() == null : \"Stop\".equals(e.getActionCommand())) {\n            startButton.setEnabled(true);\n            stopButton.setEnabled(false);\n            swingWorker.cancel(true); // causes isCancelled to return true in doInBackground\n            swingWorker = null;\n        }\n    }\n\n    public static void main(String[] args) {\n// Notice that it kicks it off on the event-dispatching thread, not the main thread.\n        SwingUtilities.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                SwingWorkerExample swingWorkerExample = new SwingWorkerExample();\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15857,"reputation":10459,"user_id":1440720,"display_name":"jfpoilpret"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1504862134,"creation_date":1306266003,"answer_id":6115913,"question_id":6113944,"body_markdown":"By default, `SwingWorker` reuses worker threads, so it is perfectly normal that, even though, `doInBackground()` has returned, to still see the thread that executed your method.\r\n\r\nYou can identify this fact by looking at the thread names, as reported by NetBeans: `SwingWorker-pool-1-thread-1`, where that **pool** is managed by `SwingWorker`.\r\n\r\nIf you want more control, you can also pass the `SwingWorker` instance to an `Executor`.\r\n\r\nJust check [SwingWorker](https://docs.oracle.com/javase/8/docs/api/javax/swing/SwingWorker.html) and [Executor](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html) javadoc for further information.\r\n\r\nBesides, `SwingWorker.cancel()` is not supposed to be called from `doInBackground()` but rather from another thread, generally the EDT, e.g. when user clicks a *Cancel* button in a progress dialog.","title":"How cancel the execution of a SwingWorker?","body":"<p>By default, <code>SwingWorker</code> reuses worker threads, so it is perfectly normal that, even though, <code>doInBackground()</code> has returned, to still see the thread that executed your method.</p>\n\n<p>You can identify this fact by looking at the thread names, as reported by NetBeans: <code>SwingWorker-pool-1-thread-1</code>, where that <strong>pool</strong> is managed by <code>SwingWorker</code>.</p>\n\n<p>If you want more control, you can also pass the <code>SwingWorker</code> instance to an <code>Executor</code>.</p>\n\n<p>Just check <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/SwingWorker.html\" rel=\"nofollow noreferrer\">SwingWorker</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html\" rel=\"nofollow noreferrer\">Executor</a> javadoc for further information.</p>\n\n<p>Besides, <code>SwingWorker.cancel()</code> is not supposed to be called from <code>doInBackground()</code> but rather from another thread, generally the EDT, e.g. when user clicks a <em>Cancel</em> button in a progress dialog.</p>\n"},{"tags":[],"owner":{"account_id":751683,"reputation":91,"user_id":740631,"display_name":"Jeff Berkowitz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1640673539,"creation_date":1312334427,"answer_id":6920664,"question_id":6113944,"body_markdown":"FYI for anyone passing through: when a `SwingWorker` is canceled, `done()` is called before `doInBackground()` returns.\r\n\r\nhttps://bugs.java.com/bugdatabase/view_bug?bug_id=6826514\r\n\r\nJeff","title":"How cancel the execution of a SwingWorker?","body":"<p>FYI for anyone passing through: when a <code>SwingWorker</code> is canceled, <code>done()</code> is called before <code>doInBackground()</code> returns.</p>\n<p><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6826514\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=6826514</a></p>\n<p>Jeff</p>\n"},{"tags":[],"owner":{"account_id":1896229,"reputation":2614,"user_id":1713149,"accept_rate":96,"display_name":"Joel Christophel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370419613,"creation_date":1370419613,"answer_id":16934638,"question_id":6113944,"body_markdown":"You need to add `Thread.sleep(1)` calls in your doInBackground() code every so often. In your sleep catch blocks, add `return`. I had the same problem, and this worked like a charm.\r\n\r\nSource:\r\nhttps://blogs.oracle.com/swinger/entry/swingworker_stop_that_train","title":"How cancel the execution of a SwingWorker?","body":"<p>You need to add <code>Thread.sleep(1)</code> calls in your doInBackground() code every so often. In your sleep catch blocks, add <code>return</code>. I had the same problem, and this worked like a charm.</p>\n\n<p>Source:\n<a href=\"https://blogs.oracle.com/swinger/entry/swingworker_stop_that_train\" rel=\"nofollow\">https://blogs.oracle.com/swinger/entry/swingworker_stop_that_train</a></p>\n"},{"tags":[],"owner":{"account_id":3333857,"reputation":374,"user_id":2802054,"display_name":"pknoe3lh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379766963,"creation_date":1379766963,"answer_id":18932679,"question_id":6113944,"body_markdown":"Till The SwingWoker it fixed https://bugs.java.com/bugdatabase/view_bug?bug_id=6826514\r\nHere a simple (tested) version with the basic (similar) functions then SwingWoker \r\n\r\n    /*\r\n     * To change this template, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    package tools;\r\n\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import javax.swing.SwingUtilities;\r\n\r\n    /**\r\n     *\r\n     * @author patrick\r\n     */\r\n    public abstract class MySwingWorker&lt;R,P&gt; {\r\n\r\n        protected abstract R doInBackground() throws Exception;\r\n        protected abstract void done(R rvalue, Exception ex, boolean canceled);\r\n        protected void process(List&lt;P&gt; chunks){}\r\n        protected void progress(int progress){}\r\n\r\n        private boolean cancelled=false;\r\n        private boolean done=false;\r\n        private boolean started=false;\r\n        final private Object syncprogress=new Object();\r\n        boolean progressstate=false;\r\n        private int progress=0;\r\n        final private Object syncprocess=new Object();\r\n        boolean processstate=false;\r\n        private LinkedList&lt;P&gt; chunkes= new LinkedList&lt;&gt;();\r\n\r\n        private Thread t= new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                Exception exception=null;\r\n                R rvalue=null;\r\n                try {\r\n                    rvalue=doInBackground();\r\n                } catch (Exception ex) {\r\n                    exception=ex;\r\n                }\r\n\r\n                //Done:\r\n                synchronized(MySwingWorker.this)\r\n                {\r\n                    done=true;\r\n                    final Exception cexception=exception;\r\n                    final R crvalue=rvalue;\r\n                    final boolean ccancelled=cancelled;\r\n\r\n                    SwingUtilities.invokeLater(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            done(crvalue, cexception, ccancelled);\r\n                        }\r\n                    });\r\n                }\r\n\r\n            }\r\n        });    \r\n\r\n        protected final void publish(P p)\r\n        {\r\n            if(!Thread.currentThread().equals(t))\r\n                throw new UnsupportedOperationException(&quot;Must be called from worker Thread!&quot;);\r\n            synchronized(syncprocess)\r\n            {\r\n                chunkes.add(p);\r\n                if(!processstate)\r\n                {\r\n                    processstate=true;\r\n                    SwingUtilities.invokeLater(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            List&lt;P&gt; list;\r\n                            synchronized(syncprocess)\r\n                            {\r\n                                MySwingWorker.this.processstate=false;\r\n                                list=MySwingWorker.this.chunkes;\r\n                                MySwingWorker.this.chunkes= new LinkedList&lt;&gt;();\r\n                            }\r\n                            process(list);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        protected final void setProgress(int progress)\r\n        {\r\n            if(!Thread.currentThread().equals(t))\r\n                throw new UnsupportedOperationException(&quot;Must be called from worker Thread!&quot;);\r\n            synchronized(syncprogress)\r\n            {\r\n                this.progress=progress;\r\n                if(!progressstate)\r\n                {\r\n                    progressstate=true;\r\n                    SwingUtilities.invokeLater(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            int value;\r\n                            //Acess Value\r\n                            synchronized(syncprogress)\r\n                            {\r\n                                MySwingWorker.this.progressstate=false;\r\n                                value=MySwingWorker.this.progress;\r\n                            }\r\n                            progress(value);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        public final synchronized void execute()\r\n        {\r\n            if(!started)\r\n            {\r\n                started=true;\r\n                t.start();\r\n            }\r\n        }\r\n\r\n        public final synchronized boolean isRunning()\r\n        {\r\n            return started &amp;&amp; !done;\r\n        }\r\n\r\n        public final synchronized boolean isDone()\r\n        {\r\n            return done;\r\n        }\r\n\r\n        public final synchronized boolean isCancelled()\r\n        {\r\n            return cancelled;\r\n        }\r\n\r\n        public final synchronized void cancel()\r\n        {\r\n            if(started &amp;&amp; !cancelled &amp;&amp; !done)\r\n            {\r\n                cancelled=true;\r\n                if(!Thread.currentThread().equals(t))\r\n                    t.interrupt();\r\n            }\r\n        }\r\n\r\n    }\r\n","title":"How cancel the execution of a SwingWorker?","body":"<p>Till The SwingWoker it fixed <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6826514\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=6826514</a>\nHere a simple (tested) version with the basic (similar) functions then SwingWoker</p>\n<pre><code>/*\n * To change this template, choose Tools | Templates\n * and open the template in the editor.\n */\npackage tools;\n\nimport java.util.LinkedList;\nimport java.util.List;\nimport javax.swing.SwingUtilities;\n\n/**\n *\n * @author patrick\n */\npublic abstract class MySwingWorker&lt;R,P&gt; {\n\n    protected abstract R doInBackground() throws Exception;\n    protected abstract void done(R rvalue, Exception ex, boolean canceled);\n    protected void process(List&lt;P&gt; chunks){}\n    protected void progress(int progress){}\n\n    private boolean cancelled=false;\n    private boolean done=false;\n    private boolean started=false;\n    final private Object syncprogress=new Object();\n    boolean progressstate=false;\n    private int progress=0;\n    final private Object syncprocess=new Object();\n    boolean processstate=false;\n    private LinkedList&lt;P&gt; chunkes= new LinkedList&lt;&gt;();\n\n    private Thread t= new Thread(new Runnable() {\n        @Override\n        public void run() {\n            Exception exception=null;\n            R rvalue=null;\n            try {\n                rvalue=doInBackground();\n            } catch (Exception ex) {\n                exception=ex;\n            }\n\n            //Done:\n            synchronized(MySwingWorker.this)\n            {\n                done=true;\n                final Exception cexception=exception;\n                final R crvalue=rvalue;\n                final boolean ccancelled=cancelled;\n\n                SwingUtilities.invokeLater(new Runnable() {\n                    @Override\n                    public void run() {\n                        done(crvalue, cexception, ccancelled);\n                    }\n                });\n            }\n\n        }\n    });    \n\n    protected final void publish(P p)\n    {\n        if(!Thread.currentThread().equals(t))\n            throw new UnsupportedOperationException(&quot;Must be called from worker Thread!&quot;);\n        synchronized(syncprocess)\n        {\n            chunkes.add(p);\n            if(!processstate)\n            {\n                processstate=true;\n                SwingUtilities.invokeLater(new Runnable() {\n                    @Override\n                    public void run() {\n                        List&lt;P&gt; list;\n                        synchronized(syncprocess)\n                        {\n                            MySwingWorker.this.processstate=false;\n                            list=MySwingWorker.this.chunkes;\n                            MySwingWorker.this.chunkes= new LinkedList&lt;&gt;();\n                        }\n                        process(list);\n                    }\n                });\n            }\n        }\n    }\n\n    protected final void setProgress(int progress)\n    {\n        if(!Thread.currentThread().equals(t))\n            throw new UnsupportedOperationException(&quot;Must be called from worker Thread!&quot;);\n        synchronized(syncprogress)\n        {\n            this.progress=progress;\n            if(!progressstate)\n            {\n                progressstate=true;\n                SwingUtilities.invokeLater(new Runnable() {\n                    @Override\n                    public void run() {\n                        int value;\n                        //Acess Value\n                        synchronized(syncprogress)\n                        {\n                            MySwingWorker.this.progressstate=false;\n                            value=MySwingWorker.this.progress;\n                        }\n                        progress(value);\n                    }\n                });\n            }\n        }\n    }\n\n    public final synchronized void execute()\n    {\n        if(!started)\n        {\n            started=true;\n            t.start();\n        }\n    }\n\n    public final synchronized boolean isRunning()\n    {\n        return started &amp;&amp; !done;\n    }\n\n    public final synchronized boolean isDone()\n    {\n        return done;\n    }\n\n    public final synchronized boolean isCancelled()\n    {\n        return cancelled;\n    }\n\n    public final synchronized void cancel()\n    {\n        if(started &amp;&amp; !cancelled &amp;&amp; !done)\n        {\n            cancelled=true;\n            if(!Thread.currentThread().equals(t))\n                t.interrupt();\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":380750,"reputation":35396,"user_id":734984,"accept_rate":88,"display_name":"Renato Dinhani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18175,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":6115913,"answer_count":6,"score":6,"last_activity_date":1640673539,"creation_date":1306255822,"question_id":6113944,"body_markdown":"Currently I have two SwingWorker threads doing job on background. If an exception occurs, the method stop to work, but the thread still runnig. \r\n\r\nHow I do to stop the execution and kill the thread of the `doInBackground()` if an exception occurs?\r\n\r\n`this.cancel(true)` don&#39;t destroy/close the thread. How can I achieve this?\r\n\r\n    @Override\r\n    protected Boolean doInBackground() throws Exception {\r\n            try {\r\n                while (true) {\r\n                    //some code here                   \r\n                    return true;\r\n                }\r\n            } catch (Exception e) {       \r\n                this.cancel(true); //&lt;-- this not cancel the thread               \r\n                return false;\r\n            }\r\n        }\r\n    \r\n\r\nI see these threads in the debug of Netbeans.\r\n\r\n    &#39;AWT-EventQueue-0&#39; em execu&#231;&#227;o\r\n    &#39;AWT-Windows&#39; em execu&#231;&#227;o\r\n    &#39;SwingWorker-pool-1-thread-1&#39; em execu&#231;&#227;o\r\n    &#39;SwingWorker-pool-1-thread-2&#39; em execu&#231;&#227;o\r\n\r\n    //*em execu&#231;&#227;o = in execution\r\n\r\n","title":"How cancel the execution of a SwingWorker?","body":"<p>Currently I have two SwingWorker threads doing job on background. If an exception occurs, the method stop to work, but the thread still runnig. </p>\n\n<p>How I do to stop the execution and kill the thread of the <code>doInBackground()</code> if an exception occurs?</p>\n\n<p><code>this.cancel(true)</code> don't destroy/close the thread. How can I achieve this?</p>\n\n<pre><code>@Override\nprotected Boolean doInBackground() throws Exception {\n        try {\n            while (true) {\n                //some code here                   \n                return true;\n            }\n        } catch (Exception e) {       \n            this.cancel(true); //&lt;-- this not cancel the thread               \n            return false;\n        }\n    }\n</code></pre>\n\n<p>I see these threads in the debug of Netbeans.</p>\n\n<pre><code>'AWT-EventQueue-0' em execução\n'AWT-Windows' em execução\n'SwingWorker-pool-1-thread-1' em execução\n'SwingWorker-pool-1-thread-2' em execução\n\n//*em execução = in execution\n</code></pre>\n"},{"tags":["java","excel"],"answers":[{"tags":[],"owner":{"account_id":318110,"reputation":121,"user_id":635145,"display_name":"Philip"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556632521,"creation_date":1556632521,"answer_id":55922518,"question_id":55730592,"body_markdown":"You have a dependency issue, find out which jar is being used. Perhaps conflicting versions of poi jar, poi-4.1.0.jar is needed and you have poi-4.0.1.jar.\r\n\r\n    ClassLoader classloader = org.apache.poi.poifs.filesystem.POIFSFileSystem.class.getClassLoader();\r\n    URL res = classloader.getResource(&quot;org/apache/poi/util/POILogger.class&quot;);\r\n    String path = res.getPath();\r\n    System.out.println(&quot;POI came from &quot; + path);\r\n\r\nIf you are using maven, run &quot;mvn dependency:tree -Dverbose&quot; to show included jars.\r\n","title":"I get an error when I load an excel in java","body":"<p>You have a dependency issue, find out which jar is being used. Perhaps conflicting versions of poi jar, poi-4.1.0.jar is needed and you have poi-4.0.1.jar.</p>\n\n<pre><code>ClassLoader classloader = org.apache.poi.poifs.filesystem.POIFSFileSystem.class.getClassLoader();\nURL res = classloader.getResource(\"org/apache/poi/util/POILogger.class\");\nString path = res.getPath();\nSystem.out.println(\"POI came from \" + path);\n</code></pre>\n\n<p>If you are using maven, run \"mvn dependency:tree -Dverbose\" to show included jars.</p>\n"}],"owner":{"display_name":"user10805364"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6367,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1640673538,"creation_date":1555513087,"question_id":55730592,"body_markdown":"I&#39;m trying to read a simple .xlsx in java \r\n\r\n    \r\n\tprivate void readExcelData(String excel) throws Exception {\r\n\t\tFileInputStream file = new FileInputStream(excel);\r\n\t\tXSSFWorkbook workbook = new XSSFWorkbook(file);\r\n\t\tXSSFSheet sheet = workbook.getSheetAt(0);\r\n    }\r\n\r\nbut i get `Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.IncompatibleClassChangeError: Found interface org.apache.poi.util.POILogger, but class was expected\r\n`\r\n\r\nI had to add xmlbeans-xmlpublic-2.3.0.jar or it gives me `Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: org/apache/xmlbeans/XmlException\r\n` \r\nMaybe it has something to do with that. \r\n\r\nDoes someone have a solution ?","title":"I get an error when I load an excel in java","body":"<p>I'm trying to read a simple .xlsx in java </p>\n\n<pre><code>private void readExcelData(String excel) throws Exception {\n    FileInputStream file = new FileInputStream(excel);\n    XSSFWorkbook workbook = new XSSFWorkbook(file);\n    XSSFSheet sheet = workbook.getSheetAt(0);\n}\n</code></pre>\n\n<p>but i get <code>Exception in thread \"AWT-EventQueue-0\" java.lang.IncompatibleClassChangeError: Found interface org.apache.poi.util.POILogger, but class was expected\n</code></p>\n\n<p>I had to add xmlbeans-xmlpublic-2.3.0.jar or it gives me <code>Exception in thread \"AWT-EventQueue-0\" java.lang.NoClassDefFoundError: org/apache/xmlbeans/XmlException\n</code> \nMaybe it has something to do with that. </p>\n\n<p>Does someone have a solution ?</p>\n"},{"tags":["java","adapter"],"comments":[{"owner":{"account_id":153349,"reputation":7272,"user_id":368544,"accept_rate":80,"display_name":"Mart&#237;n Schonaker"},"score":0,"creation_date":1308887170,"post_id":6463027,"comment_id":7592721,"body_markdown":"You&#39;re having a ClassCastException because the interfaces and the classes live in different classloaders, right?","body":"You&#39;re having a ClassCastException because the interfaces and the classes live in different classloaders, right?"},{"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"score":0,"creation_date":1308888810,"post_id":6463027,"comment_id":7592901,"body_markdown":"Is there any common interface that each of these interfaces A1-&gt;An share?  Something like:\ninterface A1 extends ARunnable { }","body":"Is there any common interface that each of these interfaces A1-&gt;An share?  Something like: interface A1 extends ARunnable { }"}],"answers":[{"tags":[],"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1308887458,"creation_date":1308887458,"answer_id":6463129,"question_id":6463027,"body_markdown":"Since the interfaces can&#39;t be modified to extend java.lang.Runnable, an option would be to use java.lang.reflect.Proxy to build up instances of Runnable that delegate to your A1, A2... interfaces.\r\n\r\nIt&#39;s not trivial, but take a look at this example using java.lang.reflect.Proxy.  The sample simply delegates to a delegate object based on method name.\r\n\r\n    public class ProxyTest\r\n\t{\r\n\t\tpublic static void main(String... args)\r\n\t\t{\r\n\t\t\tList&lt;?&gt; instances = Arrays.asList(new A1());\r\n\t\t\tList&lt;ARunnable&gt; runnableInstances = new ArrayList&lt;ARunnable&gt;(instances.size());\r\n\t\t\tfor (Object instance : instances)\r\n\t\t\t{\r\n\t\t\t\tARunnable runnableInstance = (ARunnable)Proxy.newProxyInstance(\r\n\t\t\t\t\t\t\t\t\t\t\t\tARunnable.class.getClassLoader(), \r\n\t\t\t\t\t\t\t\t\t\t\t\tnew Class&lt;?&gt;[] {ARunnable.class}, \r\n\t\t\t\t\t\t\t\t\t\t\t\tnew RunnableWrapper(instance));\r\n\t\t\t\trunnableInstances.add(runnableInstance);\r\n\t\t\t}\r\n\t\r\n\t\t\t//Now we have a list of ARunnables!\r\n\t\t\t//Use them for something\r\n\t\t\tfor (ARunnable runnableInstance : runnableInstances)\r\n\t\t\t{\r\n\t\t\t\trunnableInstance.run();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tprivate static class RunnableWrapper implements InvocationHandler\r\n\t\t{\r\n\t\t\tprivate final Object instance;\r\n\t\t\t\r\n\t\t\tpublic RunnableWrapper(Object instance)\r\n\t\t\t{\r\n\t\t\t\tthis.instance = instance;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic Object invoke(Object proxy, Method method, Object[] args)\r\n\t\t\t\t\tthrows Throwable\r\n\t\t\t{\r\n\t\t\t\t//Ensure that your methods match exactly or you&#39;ll get NoSuchMethodExceptions here\r\n\t\t\t\tMethod delegateMethod = instance.getClass().getMethod(method.getName(), method.getParameterTypes());\r\n\t\t\t\treturn(delegateMethod.invoke(instance, args));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic static class A1\r\n\t\t{\r\n\t\t\tpublic void run()\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Something&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic static interface ARunnable\r\n\t\t{\r\n\t\t\tpublic void run();\r\n\t\t}\r\n\t}\r\n\t\t\r\n\r\nAlso I would recommend you fix the line\r\n\r\n    List&lt;ARunnable&gt; runnables = (List&lt;ARunnable&gt;)getARunnables(); \r\n\r\nThat type safety warning you should not ignore.  That list of objects does not actually contain ARunnables, hence the ClassCastException.","title":"Java dynamic adapter","body":"<p>Since the interfaces can't be modified to extend java.lang.Runnable, an option would be to use java.lang.reflect.Proxy to build up instances of Runnable that delegate to your A1, A2... interfaces.</p>\n\n<p>It's not trivial, but take a look at this example using java.lang.reflect.Proxy.  The sample simply delegates to a delegate object based on method name.</p>\n\n<pre><code>public class ProxyTest\n{\n    public static void main(String... args)\n    {\n        List&lt;?&gt; instances = Arrays.asList(new A1());\n        List&lt;ARunnable&gt; runnableInstances = new ArrayList&lt;ARunnable&gt;(instances.size());\n        for (Object instance : instances)\n        {\n            ARunnable runnableInstance = (ARunnable)Proxy.newProxyInstance(\n                                            ARunnable.class.getClassLoader(), \n                                            new Class&lt;?&gt;[] {ARunnable.class}, \n                                            new RunnableWrapper(instance));\n            runnableInstances.add(runnableInstance);\n        }\n\n        //Now we have a list of ARunnables!\n        //Use them for something\n        for (ARunnable runnableInstance : runnableInstances)\n        {\n            runnableInstance.run();\n        }\n    }\n\n    private static class RunnableWrapper implements InvocationHandler\n    {\n        private final Object instance;\n\n        public RunnableWrapper(Object instance)\n        {\n            this.instance = instance;\n        }\n\n        @Override\n        public Object invoke(Object proxy, Method method, Object[] args)\n                throws Throwable\n        {\n            //Ensure that your methods match exactly or you'll get NoSuchMethodExceptions here\n            Method delegateMethod = instance.getClass().getMethod(method.getName(), method.getParameterTypes());\n            return(delegateMethod.invoke(instance, args));\n        }\n    }\n\n    public static class A1\n    {\n        public void run()\n        {\n            System.out.println(\"Something\");\n        }\n    }\n\n    public static interface ARunnable\n    {\n        public void run();\n    }\n}\n</code></pre>\n\n<p>Also I would recommend you fix the line</p>\n\n<pre><code>List&lt;ARunnable&gt; runnables = (List&lt;ARunnable&gt;)getARunnables(); \n</code></pre>\n\n<p>That type safety warning you should not ignore.  That list of objects does not actually contain ARunnables, hence the ClassCastException.</p>\n"},{"tags":[],"owner":{"account_id":153349,"reputation":7272,"user_id":368544,"accept_rate":80,"display_name":"Mart&#237;n Schonaker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1308889084,"creation_date":1308888715,"answer_id":6463246,"question_id":6463027,"body_markdown":"Consider this sample code (doesn&#39;t have the loop for simplicity):\r\n\r\n        import java.lang.reflect.InvocationHandler;\r\n        import java.lang.reflect.Method;\r\n        import java.lang.reflect.Proxy;\r\n\r\n        public class Main {\r\n\r\n          interface Interface {\r\n            public void run();\r\n          }\r\n\r\n          static class Hello /* does&#39;t implement Interface */{\r\n\r\n            public void run() {\r\n              System.out.println(&quot;Hello, world!!&quot;);\r\n            }\r\n          }\r\n\r\n          static &lt;T&gt; T dirtyCast(Class&lt;T&gt; intrface, final Object target) {\r\n\r\n            return intrface.cast(Proxy.newProxyInstance(\r\n              intrface.getClassLoader(),\r\n              new Class&lt;?&gt;[] { intrface }, new InvocationHandler() {\r\n\r\n              @Override\r\n              public Object invoke(Object proxy, Method method,\r\n                Object[] args) throws Throwable {\r\n\r\n                  Method targetMethod = target.getClass().getMethod(\r\n                    method.getName(), method.getParameterTypes());\r\n\r\n                  return targetMethod.invoke(target, args);\r\n              }\r\n\r\n            }));\r\n          }\r\n\r\n          public static void main(String[] args) {\r\n\r\n            Interface proxy = dirtyCast(Interface.class, new Hello());\r\n\r\n            proxy.run();\r\n\r\n          }\r\n        }\r\n\r\nPlease don&#39;t consider this solution as feasible if you want to pass arguments or return values or throw exceptions. The problem is that the shared objects (as arguments and return values and exceptions) need to live in the same (common) classloader. This also means that usual java lang types and exceptions will be okay.\r\n\r\nAlso you have to bear in mind security considerations. Classloaders may have different (incompatible) security constraints.\r\n\r\nIf you run quickly into trouble, I would try a project designed for this like [transloader][1].\r\n\r\nHave fun.\r\n\r\n\r\n  [1]: http://code.google.com/p/transloader/","title":"Java dynamic adapter","body":"<p>Consider this sample code (doesn't have the loop for simplicity):</p>\n\n<pre><code>    import java.lang.reflect.InvocationHandler;\n    import java.lang.reflect.Method;\n    import java.lang.reflect.Proxy;\n\n    public class Main {\n\n      interface Interface {\n        public void run();\n      }\n\n      static class Hello /* does't implement Interface */{\n\n        public void run() {\n          System.out.println(\"Hello, world!!\");\n        }\n      }\n\n      static &lt;T&gt; T dirtyCast(Class&lt;T&gt; intrface, final Object target) {\n\n        return intrface.cast(Proxy.newProxyInstance(\n          intrface.getClassLoader(),\n          new Class&lt;?&gt;[] { intrface }, new InvocationHandler() {\n\n          @Override\n          public Object invoke(Object proxy, Method method,\n            Object[] args) throws Throwable {\n\n              Method targetMethod = target.getClass().getMethod(\n                method.getName(), method.getParameterTypes());\n\n              return targetMethod.invoke(target, args);\n          }\n\n        }));\n      }\n\n      public static void main(String[] args) {\n\n        Interface proxy = dirtyCast(Interface.class, new Hello());\n\n        proxy.run();\n\n      }\n    }\n</code></pre>\n\n<p>Please don't consider this solution as feasible if you want to pass arguments or return values or throw exceptions. The problem is that the shared objects (as arguments and return values and exceptions) need to live in the same (common) classloader. This also means that usual java lang types and exceptions will be okay.</p>\n\n<p>Also you have to bear in mind security considerations. Classloaders may have different (incompatible) security constraints.</p>\n\n<p>If you run quickly into trouble, I would try a project designed for this like <a href=\"http://code.google.com/p/transloader/\" rel=\"nofollow\">transloader</a>.</p>\n\n<p>Have fun.</p>\n"},{"tags":[],"owner":{"account_id":9925001,"reputation":1047,"user_id":7346931,"display_name":"Dharmendrasinh Chudasama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640673384,"creation_date":1640673384,"answer_id":70503550,"question_id":6463027,"body_markdown":"&gt; In your case you can use simply\r\n\r\n    public void someMethod() throws ReflectiveOperationException {\r\n        // getARunnables() returns a list of A1, A2, ... A24\r\n        List runnables = (List)getARunnables(); \r\n    \r\n        for (Object r : runnables) {\r\n\t\t\tr.getClass().getMethod(&quot;run&quot;).invoke(r);\r\n        }\r\n    }","title":"Java dynamic adapter","body":"<blockquote>\n<p>In your case you can use simply</p>\n</blockquote>\n<pre><code>public void someMethod() throws ReflectiveOperationException {\n    // getARunnables() returns a list of A1, A2, ... A24\n    List runnables = (List)getARunnables(); \n\n    for (Object r : runnables) {\n        r.getClass().getMethod(&quot;run&quot;).invoke(r);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":210381,"reputation":1465,"user_id":461971,"accept_rate":82,"display_name":"Justin Wong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":6463129,"answer_count":3,"score":1,"last_activity_date":1640673384,"creation_date":1308886253,"question_id":6463027,"body_markdown":"I&#39;m using some Java code which produces the following interfaces. This code is non-modifiable.\r\n\r\n    interface A1 {\r\n    \tpublic void run();\r\n    }\r\n    \r\n    interface A2 {\r\n    \tpublic void run();\r\n    }\r\n    \r\n    ...\r\n    \r\n    interface A24 {\r\n    \tpublic void run();\r\n    }\r\n\r\nI&#39;m having a class cast error with the following code. How would I dynamically build an adapter to my interface?\r\n\r\n    interface ARunnable {\r\n    \tpublic void run();\r\n    }\r\n        \r\n    public void someMethod() {\r\n        // getARunnables() returns a list of A1, A2, ... A24\r\n    \tList&lt;ARunnable&gt; runnables = (List&lt;ARunnable&gt;)getARunnables(); \r\n\r\n    \tfor (ARunnable a : runnables) {\r\n    \t \ta.run();\r\n    \t}\r\n    }","title":"Java dynamic adapter","body":"<p>I'm using some Java code which produces the following interfaces. This code is non-modifiable.</p>\n\n<pre><code>interface A1 {\n    public void run();\n}\n\ninterface A2 {\n    public void run();\n}\n\n...\n\ninterface A24 {\n    public void run();\n}\n</code></pre>\n\n<p>I'm having a class cast error with the following code. How would I dynamically build an adapter to my interface?</p>\n\n<pre><code>interface ARunnable {\n    public void run();\n}\n\npublic void someMethod() {\n    // getARunnables() returns a list of A1, A2, ... A24\n    List&lt;ARunnable&gt; runnables = (List&lt;ARunnable&gt;)getARunnables(); \n\n    for (ARunnable a : runnables) {\n        a.run();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","animation","button"],"comments":[{"owner":{"account_id":6138760,"reputation":2773,"user_id":4786793,"accept_rate":75,"display_name":"Shubham Sharma"},"score":1,"creation_date":1514131433,"post_id":47961556,"comment_id":82893394,"body_markdown":"what you had tried so far ?","body":"what you had tried so far ?"},{"owner":{"account_id":10669763,"reputation":41,"user_id":7855173,"display_name":"V.Sis"},"score":0,"creation_date":1514228590,"post_id":47961556,"comment_id":82912124,"body_markdown":"@ShubhamSharma actually noting, i just have a simple button with a color background like this:             &lt;gradient\n                android:endColor=&quot;@color/green1&quot;\n                android:startColor=&quot;@color/green2&quot;\n                android:angle=&quot;270&quot; /&gt;","body":"@ShubhamSharma actually noting, i just have a simple button with a color background like this:             &lt;gradient                 android:endColor=&quot;@color/green1&quot;                 android:startColor=&quot;@color/green2&quot;                 android:angle=&quot;270&quot; /&gt;"}],"answers":[{"tags":[],"owner":{"account_id":12181478,"reputation":370,"user_id":8892770,"accept_rate":60,"display_name":"Tarlan Ahad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514129407,"creation_date":1514128014,"answer_id":47961717,"question_id":47961556,"body_markdown":"There are lots of ways doing it but I will give the method that I use more often...\r\n\r\nCreate shapes with a gradient of horizontal and vertical line...\r\n\r\n**vert_line.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:shape=&quot;rectangle&quot; &gt;\r\n\r\n        &lt;gradient\r\n            android:angle=&quot;0&quot;\r\n            android:endColor=&quot;#555994&quot;\r\n            android:centerColor=&quot;#ffffff&quot;\r\n            android:startColor=&quot;#555994&quot;\r\n            android:type=&quot;linear&quot; /&gt;\r\n\r\n        &lt;corners\r\n            android:radius=&quot;0dp&quot;/&gt;\r\n\r\n    &lt;/shape&gt;\r\n\r\n**hor_line.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:shape=&quot;rectangle&quot; &gt;\r\n\r\n        &lt;gradient\r\n            android:angle=&quot;90&quot;\r\n            android:endColor=&quot;#555994&quot;\r\n            android:centerColor=&quot;#ffffff&quot;\r\n            android:startColor=&quot;#555994&quot;\r\n            android:type=&quot;linear&quot; /&gt;\r\n\r\n        &lt;corners\r\n            android:radius=&quot;0dp&quot;/&gt;\r\n\r\n    &lt;/shape&gt;\r\n\r\nThen create a selector in order to make button&#39;s background change when it is pressed and it will give you shine effect...\r\n\r\n**shine_line.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:state_pressed=&quot;true&quot;\r\n            android:drawable=&quot;@drawable/line_vert&quot; /&gt; &lt;!-- pressed --&gt;\r\n\r\n        &lt;item android:drawable=&quot;@drawable/line_hor&quot; /&gt; &lt;!-- default --&gt;\r\n    &lt;/selector&gt;\r\n\r\n&gt;Last set it to your button background.\r\n\r\n       &lt;Button\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@drawable/shine_line&quot;/&gt;\r\n\r\nIt will work like a charm. \r\n","title":"Is it possible to have shine or glint movement animation on button with coding? (not gif or similar way)","body":"<p>There are lots of ways doing it but I will give the method that I use more often...</p>\n\n<p>Create shapes with a gradient of horizontal and vertical line...</p>\n\n<p><strong>vert_line.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\" android:shape=\"rectangle\" &gt;\n\n    &lt;gradient\n        android:angle=\"0\"\n        android:endColor=\"#555994\"\n        android:centerColor=\"#ffffff\"\n        android:startColor=\"#555994\"\n        android:type=\"linear\" /&gt;\n\n    &lt;corners\n        android:radius=\"0dp\"/&gt;\n\n&lt;/shape&gt;\n</code></pre>\n\n<p><strong>hor_line.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\" android:shape=\"rectangle\" &gt;\n\n    &lt;gradient\n        android:angle=\"90\"\n        android:endColor=\"#555994\"\n        android:centerColor=\"#ffffff\"\n        android:startColor=\"#555994\"\n        android:type=\"linear\" /&gt;\n\n    &lt;corners\n        android:radius=\"0dp\"/&gt;\n\n&lt;/shape&gt;\n</code></pre>\n\n<p>Then create a selector in order to make button's background change when it is pressed and it will give you shine effect...</p>\n\n<p><strong>shine_line.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:state_pressed=\"true\"\n        android:drawable=\"@drawable/line_vert\" /&gt; &lt;!-- pressed --&gt;\n\n    &lt;item android:drawable=\"@drawable/line_hor\" /&gt; &lt;!-- default --&gt;\n&lt;/selector&gt;\n</code></pre>\n\n<blockquote>\n  <p>Last set it to your button background.</p>\n</blockquote>\n\n<pre><code>   &lt;Button\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@drawable/shine_line\"/&gt;\n</code></pre>\n\n<p>It will work like a charm. </p>\n"}],"owner":{"account_id":10669763,"reputation":41,"user_id":7855173,"display_name":"V.Sis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1108,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1640673242,"creation_date":1514126819,"question_id":47961556,"body_markdown":"I want to have a button with a shine or glint movement animation on it.\r\nnot so much complicated just a moving shine line on a button.\r\nis it possible with Animation in java in the android studio or not?\r\n","title":"Is it possible to have shine or glint movement animation on button with coding? (not gif or similar way)","body":"<p>I want to have a button with a shine or glint movement animation on it.\nnot so much complicated just a moving shine line on a button.\nis it possible with Animation in java in the android studio or not?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":10805772,"reputation":1669,"user_id":7948109,"display_name":"Rahul Gaur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640673119,"creation_date":1640668574,"answer_id":70503033,"question_id":70501432,"body_markdown":"First you have to listen for internet connection, by referring [algrid&#39;s answer](https://stackoverflow.com/a/58468010/7948109)\r\nuse `registerDefaultNetworkCallback` for API &gt;= 24 (and `registerNetworkCallback` for API &lt; 24)\r\n\r\n```\r\nConnectivityManager.NetworkCallback networkCallback = new ConnectivityManager.NetworkCallback() {\r\n    @Override\r\n    public void onAvailable(Network network) {\r\n        // network available\r\n    }\r\n\r\n    @Override\r\n    public void onLost(Network network) {\r\n        // network unavailable\r\n    }\r\n};\r\n\r\nConnectivityManager connectivityManager =\r\n        (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n    connectivityManager.registerDefaultNetworkCallback(networkCallback);\r\n} else {\r\n    NetworkRequest request = new NetworkRequest.Builder()\r\n            .addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET).build();\r\n    connectivityManager.registerNetworkCallback(request, networkCallback);\r\n}\r\n```\r\n\r\nIn `onAvailable()` you can call reload/refresh using these 2 ways\r\n\r\n```\r\nwebView.loadUrl(mWebView.getUrl().toString());\r\n```\r\nor\r\n```\r\nwebView.reload()\r\n```","title":"Refresh webview after internet connection on Android Studio","body":"<p>First you have to listen for internet connection, by referring <a href=\"https://stackoverflow.com/a/58468010/7948109\">algrid's answer</a>\nuse <code>registerDefaultNetworkCallback</code> for API &gt;= 24 (and <code>registerNetworkCallback</code> for API &lt; 24)</p>\n<pre><code>ConnectivityManager.NetworkCallback networkCallback = new ConnectivityManager.NetworkCallback() {\n    @Override\n    public void onAvailable(Network network) {\n        // network available\n    }\n\n    @Override\n    public void onLost(Network network) {\n        // network unavailable\n    }\n};\n\nConnectivityManager connectivityManager =\n        (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n    connectivityManager.registerDefaultNetworkCallback(networkCallback);\n} else {\n    NetworkRequest request = new NetworkRequest.Builder()\n            .addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET).build();\n    connectivityManager.registerNetworkCallback(request, networkCallback);\n}\n</code></pre>\n<p>In <code>onAvailable()</code> you can call reload/refresh using these 2 ways</p>\n<pre><code>webView.loadUrl(mWebView.getUrl().toString());\n</code></pre>\n<p>or</p>\n<pre><code>webView.reload()\n</code></pre>\n"}],"owner":{"account_id":23601974,"reputation":1,"user_id":17638314,"display_name":"sami lafi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":955,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640673119,"creation_date":1640648040,"question_id":70501432,"body_markdown":"I&#39;m trying to refresh a WebView after regaining internet connection, I have a try again button. If we click on it, the URL will be loaded again. But with the code I&#39;ve written, this feature is not working.\r\n\r\nThis is my code:\r\n\r\nMainActivity.java\r\n\r\n    import android.annotation.SuppressLint;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.net.ConnectivityManager;\r\n    import android.net.NetworkInfo;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import android.widget.Button;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.ProgressBar;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.swiperefreshlayout.widget.SwipeRefreshLayout;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private WebView webView;\r\n    private ProgressBar progressBar;\r\n    private SwipeRefreshLayout swipeRefreshLayout;\r\n    private LinearLayout NoInternetLayout;\r\n        @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            progressBar = findViewById(R.id.progress_horizontal);\r\n            swipeRefreshLayout = findViewById(R.id.SwipeRefresh);\r\n            NoInternetLayout=findViewById(R.id.NoInternetLayout);\r\n\r\n            webView = findViewById(R.id.Webview);\r\n            webView.getSettings().setJavaScriptEnabled(true);\r\n            webView.setWebViewClient(new myWebViewClient());\r\n            chekInternet();\r\n            swipeRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n                @Override\r\n                public void onRefresh() {\r\n                    webView.reload();\r\n                }\r\n            });\r\n        }\r\n        @Override\r\n        public void onBackPressed() {\r\n            if(webView.canGoBack()){\r\n                webView.goBack();\r\n            }\r\n        }\r\n\r\n\r\n        private void chekInternet(){\r\n            ConnectivityManager connectivityManager= (ConnectivityManager) getApplicationContext().getSystemService(Context.CONNECTIVITY_SERVICE);\r\n            NetworkInfo wifi=connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI);\r\n            NetworkInfo mobile=connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\r\n\r\n            if (wifi.isConnected()){\r\n                webView.loadUrl(&quot;https://www.google.com/&quot;);\r\n                webView.setVisibility(View.VISIBLE);\r\n                NoInternetLayout.setVisibility(View.INVISIBLE);\r\n            }\r\n            else if (mobile.isConnected()){\r\n                webView.loadUrl(&quot;https://www.google.com/&quot;);\r\n                webView.setVisibility(View.VISIBLE);\r\n                NoInternetLayout.setVisibility(View.INVISIBLE);\r\n            }\r\n            else {\r\n                webView.setVisibility(View.INVISIBLE);\r\n                NoInternetLayout.setVisibility(View.VISIBLE);\r\n            }\r\n        }\r\n\r\n\r\n        private class myWebViewClient extends WebViewClient {\r\n            @Override\r\n            public void onPageFinished(WebView view, String url) {\r\n                progressBar.setVisibility(View.GONE);\r\n                swipeRefreshLayout.setRefreshing(false);\r\n                super.onPageFinished(view, url);\r\n            }\r\n            public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\r\n                super.onReceivedError(view, errorCode, description, failingUrl);\r\n\r\n              chekInternet();\r\n                Button newButton = findViewById(R.id.new_button);\r\n                newButton.setOnClickListener(new View.OnClickListener() {\r\n                    public void onClick(View v) {\r\n                       \r\n                        Intent intent;\r\n                        intent = new Intent();\r\n                        startActivity(intent);\r\n                        chekInternet();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\nactivity_main.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n        &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\n\r\n            android:id=&quot;@+id/SwipeRefresh&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n            &lt;WebView\r\n                android:id=&quot;@+id/Webview&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;/&gt;\r\n        &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\r\n\r\n        &lt;androidx.core.widget.ContentLoadingProgressBar\r\n            android:id=&quot;@+id/progress_horizontal&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerInParent=&quot;true&quot;/&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/NoInternetLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;#ffff&quot;\r\n            android:gravity=&quot;center_horizontal&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:visibility=&quot;invisible&quot;&gt;\r\n            &lt;Button\r\n                android:id=&quot;@+id/new_button&quot;\r\n                android:layout_width=&quot;fill_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@string/refresh&quot;/&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n\r\n                android:background=&quot;#FFFFFF&quot;\r\n                android:src=&quot;@drawable/nointernet&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/RelativeLayout&gt;","title":"Refresh webview after internet connection on Android Studio","body":"<p>I'm trying to refresh a WebView after regaining internet connection, I have a try again button. If we click on it, the URL will be loaded again. But with the code I've written, this feature is not working.</p>\n<p>This is my code:</p>\n<p>MainActivity.java</p>\n<pre><code>import android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.net.ConnectivityManager;\nimport android.net.NetworkInfo;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.Button;\nimport android.widget.LinearLayout;\nimport android.widget.ProgressBar;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.swiperefreshlayout.widget.SwipeRefreshLayout;\n\npublic class MainActivity extends AppCompatActivity {\nprivate WebView webView;\nprivate ProgressBar progressBar;\nprivate SwipeRefreshLayout swipeRefreshLayout;\nprivate LinearLayout NoInternetLayout;\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        progressBar = findViewById(R.id.progress_horizontal);\n        swipeRefreshLayout = findViewById(R.id.SwipeRefresh);\n        NoInternetLayout=findViewById(R.id.NoInternetLayout);\n\n        webView = findViewById(R.id.Webview);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.setWebViewClient(new myWebViewClient());\n        chekInternet();\n        swipeRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n            @Override\n            public void onRefresh() {\n                webView.reload();\n            }\n        });\n    }\n    @Override\n    public void onBackPressed() {\n        if(webView.canGoBack()){\n            webView.goBack();\n        }\n    }\n\n\n    private void chekInternet(){\n        ConnectivityManager connectivityManager= (ConnectivityManager) getApplicationContext().getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkInfo wifi=connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI);\n        NetworkInfo mobile=connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\n\n        if (wifi.isConnected()){\n            webView.loadUrl(&quot;https://www.google.com/&quot;);\n            webView.setVisibility(View.VISIBLE);\n            NoInternetLayout.setVisibility(View.INVISIBLE);\n        }\n        else if (mobile.isConnected()){\n            webView.loadUrl(&quot;https://www.google.com/&quot;);\n            webView.setVisibility(View.VISIBLE);\n            NoInternetLayout.setVisibility(View.INVISIBLE);\n        }\n        else {\n            webView.setVisibility(View.INVISIBLE);\n            NoInternetLayout.setVisibility(View.VISIBLE);\n        }\n    }\n\n\n    private class myWebViewClient extends WebViewClient {\n        @Override\n        public void onPageFinished(WebView view, String url) {\n            progressBar.setVisibility(View.GONE);\n            swipeRefreshLayout.setRefreshing(false);\n            super.onPageFinished(view, url);\n        }\n        public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\n            super.onReceivedError(view, errorCode, description, failingUrl);\n\n          chekInternet();\n            Button newButton = findViewById(R.id.new_button);\n            newButton.setOnClickListener(new View.OnClickListener() {\n                public void onClick(View v) {\n                   \n                    Intent intent;\n                    intent = new Intent();\n                    startActivity(intent);\n                    chekInternet();\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\n\n        android:id=&quot;@+id/SwipeRefresh&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n        &lt;WebView\n            android:id=&quot;@+id/Webview&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;/&gt;\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\n\n    &lt;androidx.core.widget.ContentLoadingProgressBar\n        android:id=&quot;@+id/progress_horizontal&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerInParent=&quot;true&quot;/&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/NoInternetLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:background=&quot;#ffff&quot;\n        android:gravity=&quot;center_horizontal&quot;\n        android:orientation=&quot;vertical&quot;\n        android:visibility=&quot;invisible&quot;&gt;\n        &lt;Button\n            android:id=&quot;@+id/new_button&quot;\n            android:layout_width=&quot;fill_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/refresh&quot;/&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n\n            android:background=&quot;#FFFFFF&quot;\n            android:src=&quot;@drawable/nointernet&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","function","wildcard"],"comments":[{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":0,"creation_date":1640673444,"post_id":70503495,"comment_id":124628934,"body_markdown":"Wow, I&#39;m surprised that type-inference allows that! I would have guessed that the compiler would complain that it can&#39;t tell what the lambda&#39;s type should be. (But if the compiler is going to accept it, `Number` definitely seems to make more sense than `Object`. Can you clarify why you expect the latter?)","body":"Wow, I&#39;m surprised that type-inference allows that! I would have guessed that the compiler would complain that it can&#39;t tell what the lambda&#39;s type should be. (But if the compiler is going to accept it, <code>Number</code> definitely seems to make more sense than <code>Object</code>. Can you clarify why you expect the latter?)"},{"owner":{"account_id":10255186,"reputation":1,"user_id":7568229,"display_name":"D Garus"},"score":0,"creation_date":1640678651,"post_id":70503495,"comment_id":124630066,"body_markdown":"Because of the following:  What type of object are you guaranteed to receive when you read from `List&lt;? super Integer&gt; foo3`: 1) You aren&#39;t guaranteed an `Integer` because `foo3` could be pointing at a `List&lt;Number&gt;` or `List&lt;Object&gt;`. 2) You aren&#39;t guaranteed a `Number` because `foo3` could be pointing at a `List&lt;Object&gt;`. 3) The only guarantee is that you will get an instance of an `Object` or subclass of `Object` (but you don&#39;t know what subclass).","body":"Because of the following:  What type of object are you guaranteed to receive when you read from <code>List&lt;? super Integer&gt; foo3</code>: 1) You aren&#39;t guaranteed an <code>Integer</code> because <code>foo3</code> could be pointing at a <code>List&lt;Number&gt;</code> or <code>List&lt;Object&gt;</code>. 2) You aren&#39;t guaranteed a <code>Number</code> because <code>foo3</code> could be pointing at a <code>List&lt;Object&gt;</code>. 3) The only guarantee is that you will get an instance of an <code>Object</code> or subclass of <code>Object</code> (but you don&#39;t know what subclass)."},{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":0,"creation_date":1640686457,"post_id":70503495,"comment_id":124632339,"body_markdown":"In addition to distinguishing a *consumer* from a *list*, you also need to distinguish the code that *fulfills* the contract from the code that *relies on* the contract. Note that `Consumer&lt;? super Number&gt; consumer = numberConsumer` is totally valid when `numberConsumer` implements `Consumer&lt;Number&gt;`, because `Number` *is* a supertype of `Number`.","body":"In addition to distinguishing a <i>consumer</i> from a <i>list</i>, you also need to distinguish the code that <i>fulfills</i> the contract from the code that <i>relies on</i> the contract. Note that <code>Consumer&lt;? super Number&gt; consumer = numberConsumer</code> is totally valid when <code>numberConsumer</code> implements <code>Consumer&lt;Number&gt;</code>, because <code>Number</code> <i>is</i> a supertype of <code>Number</code>."}],"owner":{"account_id":10255186,"reputation":1,"user_id":7568229,"display_name":"D Garus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640673035,"creation_date":1640673035,"question_id":70503495,"body_markdown":"I can&#39;t find an answer so...\r\nI have read the post [Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java][1] and understood that instance of `List&lt;? super Number&gt;` can return only `Object` type and that is true.\r\nBut if I try to use a super wildcard with `Consumer` like this\r\n\r\n    Consumer&lt;? super Number&gt; consumerNum = n -&gt; System.out.println(&quot;number &quot; + (n.intValue() + 200));\r\n\r\nVariable n is `Number` not `Object`! \r\nWhy? \r\nI can&#39;t understand.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4343202/difference-between-super-t-and-extends-t-in-java","title":"Super wildcard with consumer function","body":"<p>I can't find an answer so...\nI have read the post <a href=\"https://stackoverflow.com/questions/4343202/difference-between-super-t-and-extends-t-in-java\">Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java</a> and understood that instance of <code>List&lt;? super Number&gt;</code> can return only <code>Object</code> type and that is true.\nBut if I try to use a super wildcard with <code>Consumer</code> like this</p>\n<pre><code>Consumer&lt;? super Number&gt; consumerNum = n -&gt; System.out.println(&quot;number &quot; + (n.intValue() + 200));\n</code></pre>\n<p>Variable n is <code>Number</code> not <code>Object</code>!\nWhy?\nI can't understand.</p>\n"},{"tags":["java","spring","jpa","cascade"],"comments":[{"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"score":0,"creation_date":1640642599,"post_id":70497297,"comment_id":124624259,"body_markdown":"Can you please add the code you use to delete the response? Do you get any exception or just the response is deleted without any other sign.","body":"Can you please add the code you use to delete the response? Do you get any exception or just the response is deleted without any other sign."},{"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"score":0,"creation_date":1640651262,"post_id":70497297,"comment_id":124625726,"body_markdown":"Please see this [answer](https://stackoverflow.com/a/31471415). I think you have same problem.","body":"Please see this <a href=\"https://stackoverflow.com/a/31471415\">answer</a>. I think you have same problem."},{"owner":{"account_id":14195569,"reputation":805,"user_id":10254976,"display_name":"Самир Шахмурадлы"},"score":0,"creation_date":1640673108,"post_id":70497297,"comment_id":124628870,"body_markdown":"@gmanjon added a delete method. Jpa remove record from response without any error","body":"@gmanjon added a delete method. Jpa remove record from response without any error"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1640715572,"post_id":70497297,"comment_id":124641568,"body_markdown":"JPA delete queries are one off database queries that run in the database, so they don&#39;t use the entity mapping model. Delete queries (AKA bulk deletes) are efficient because they assume you know what you are doing - so avoid reading in the entity model, which is required to figure out what references it needs to cascade over. If you want delete to cascade over mappings, you must call em.remove on the entity directly - or use spring remove api on an entity instance.","body":"JPA delete queries are one off database queries that run in the database, so they don&#39;t use the entity mapping model. Delete queries (AKA bulk deletes) are efficient because they assume you know what you are doing - so avoid reading in the entity model, which is required to figure out what references it needs to cascade over. If you want delete to cascade over mappings, you must call em.remove on the entity directly - or use spring remove api on an entity instance."}],"owner":{"account_id":14195569,"reputation":805,"user_id":10254976,"display_name":"Самир Шахмурадлы"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640673022,"creation_date":1640618354,"question_id":70497297,"body_markdown":"The database contains two tables of requests and responses. The request identifier is also the identifier in the responses. When deleting responses, I should also delete the request with the corresponding id. In my case deleting one entry does not delete another\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(schema = &quot;someShema&quot;, name = &quot;request&quot;)\r\n    public class RequestDto {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;request_id&quot;)\r\n        private Long requestId;\r\n    ........\r\n\r\n    }\r\n\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(schema = &quot;someShema&quot;, name = &quot;response&quot;)\r\n    public class ResponseDto {\r\n        @Id\r\n        @Column(name = &quot;request_id&quot;)\r\n        @GeneratedValue(generator = &quot;gen&quot;)\r\n        @GenericGenerator(name = &quot;gen&quot;, strategy = &quot;foreign&quot;, parameters = @Parameter(name=&quot;property&quot;, value=&quot;request&quot;))\r\n        private Long requestId;\r\n        @OneToOne(cascade = CascadeType.REMOVE, orphanRemoval = true)\r\n        @PrimaryKeyJoinColumn(name = &quot;request_id&quot;)\r\n        private RequestDto request;\r\n\r\n   \r\n\r\n     @Transactional\r\n        @Modifying\r\n        @Query(&quot;DELETE FROM ResponseDto r WHERE r.requestId= :id&quot;)\r\n        void deleteResponseAndRequest(@Param(&quot;id&quot;) long id);\r\n\r\nUnfortunately many of the examples did not solve the problem, for example this https://stackoverflow.com/questions/54267954/spring-jpa-onetoone-fk-as-pk-cascade-remove","title":"Delete both objects with Cascade.Remove in OneToOne","body":"<p>The database contains two tables of requests and responses. The request identifier is also the identifier in the responses. When deleting responses, I should also delete the request with the corresponding id. In my case deleting one entry does not delete another</p>\n<pre><code>@Data\n@Entity\n@Table(schema = &quot;someShema&quot;, name = &quot;request&quot;)\npublic class RequestDto {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;request_id&quot;)\n    private Long requestId;\n........\n\n}\n\n\n@Data\n@Entity\n@Table(schema = &quot;someShema&quot;, name = &quot;response&quot;)\npublic class ResponseDto {\n    @Id\n    @Column(name = &quot;request_id&quot;)\n    @GeneratedValue(generator = &quot;gen&quot;)\n    @GenericGenerator(name = &quot;gen&quot;, strategy = &quot;foreign&quot;, parameters = @Parameter(name=&quot;property&quot;, value=&quot;request&quot;))\n    private Long requestId;\n    @OneToOne(cascade = CascadeType.REMOVE, orphanRemoval = true)\n    @PrimaryKeyJoinColumn(name = &quot;request_id&quot;)\n    private RequestDto request;\n\n\n\n @Transactional\n    @Modifying\n    @Query(&quot;DELETE FROM ResponseDto r WHERE r.requestId= :id&quot;)\n    void deleteResponseAndRequest(@Param(&quot;id&quot;) long id);\n</code></pre>\n<p>Unfortunately many of the examples did not solve the problem, for example this <a href=\"https://stackoverflow.com/questions/54267954/spring-jpa-onetoone-fk-as-pk-cascade-remove\">Spring JPA OneToOne FK as PK Cascade.Remove</a></p>\n"},{"tags":["java","linux","spring-boot","jakarta-ee","ssh"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1529239040,"post_id":50896640,"comment_id":88793177,"body_markdown":"Run in background","body":"Run in background"},{"owner":{"account_id":10994990,"reputation":43,"user_id":8077528,"display_name":"androidmanifest2"},"score":0,"creation_date":1529239185,"post_id":50896640,"comment_id":88793211,"body_markdown":"how to run in background ?","body":"how to run in background ?"}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1529239070,"creation_date":1529239070,"answer_id":50896747,"question_id":50896640,"body_markdown":"try `nohup`\r\n\r\n    nohup yourcommandtolauncjava","title":"Spring boot shut down when I close the session","body":"<p>try <code>nohup</code></p>\n\n<pre><code>nohup yourcommandtolauncjava\n</code></pre>\n"},{"tags":[],"owner":{"account_id":939476,"reputation":2581,"user_id":967808,"accept_rate":10,"display_name":"Thiru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529239571,"creation_date":1529239571,"answer_id":50896803,"question_id":50896640,"body_markdown":"You can start your spring application as systemd service. It helps in managing the service in several ways. \r\n\r\nHow to: [Setup systemd service][1]\r\n\r\nOnce the configuration is done, you can use it for starting, stopping and restarting the service. And it also provides a way to auto-restart the application when the service goes down for whatever reason or after the restart of the machine. \r\n\r\nUsage:\r\n\r\n    service &lt;app name&gt; start\r\n    service &lt;app name stop\r\n    service &lt;app name&gt; restart\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/deployment-install.html#deployment-systemd-service","title":"Spring boot shut down when I close the session","body":"<p>You can start your spring application as systemd service. It helps in managing the service in several ways. </p>\n\n<p>How to: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/deployment-install.html#deployment-systemd-service\" rel=\"nofollow noreferrer\">Setup systemd service</a></p>\n\n<p>Once the configuration is done, you can use it for starting, stopping and restarting the service. And it also provides a way to auto-restart the application when the service goes down for whatever reason or after the restart of the machine. </p>\n\n<p>Usage:</p>\n\n<pre><code>service &lt;app name&gt; start\nservice &lt;app name stop\nservice &lt;app name&gt; restart\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21705482,"reputation":625,"user_id":16018007,"display_name":"jerald jacob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640672835,"creation_date":1640672835,"answer_id":70503474,"question_id":50896640,"body_markdown":"**nohup**\r\n\r\nnohupyesno hang up Do not suspend means that if you are running a process and you feel that the process will not end when you exit the account, you can use thenohupCommand. This command can continue to run the corresponding process after you exit the account / close the terminal. ==After the command is run, it is the foreground process==\r\n\r\n**eg: nobup java -jar xxx.jar &amp;**\r\n\r\n&amp; Let the program run in the background\r\n\r\n**eg:  java -jar xxx.jar &amp;**","title":"Spring boot shut down when I close the session","body":"<p><strong>nohup</strong></p>\n<p>nohupyesno hang up Do not suspend means that if you are running a process and you feel that the process will not end when you exit the account, you can use thenohupCommand. This command can continue to run the corresponding process after you exit the account / close the terminal. ==After the command is run, it is the foreground process==</p>\n<p><strong>eg: nobup java -jar xxx.jar &amp;</strong></p>\n<p>&amp; Let the program run in the background</p>\n<p><strong>eg:  java -jar xxx.jar &amp;</strong></p>\n"}],"owner":{"account_id":10994990,"reputation":43,"user_id":8077528,"display_name":"androidmanifest2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1501,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":50896747,"answer_count":3,"score":0,"last_activity_date":1640672835,"creation_date":1529238453,"question_id":50896640,"body_markdown":"My Spring Boot Rest Api works veryy good, but I have problem with him.   \r\nWhen I&#39;m closing the terminal SSH, my application rest shut down also.\r\n\r\nWhat I should do ? How to fix that ?","title":"Spring boot shut down when I close the session","body":"<p>My Spring Boot Rest Api works veryy good, but I have problem with him.<br>\nWhen I'm closing the terminal SSH, my application rest shut down also.</p>\n\n<p>What I should do ? How to fix that ?</p>\n"},{"tags":["java","spring-boot","gradle","build.gradle"],"comments":[{"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"score":0,"creation_date":1640671119,"post_id":70503201,"comment_id":124628530,"body_markdown":"`testimplementation` should be camel-case `testImplementation`","body":"<code>testimplementation</code> should be camel-case <code>testImplementation</code>"},{"owner":{"account_id":2221737,"reputation":11,"user_id":1960957,"display_name":"user1960957"},"score":0,"creation_date":1640671222,"post_id":70503201,"comment_id":124628549,"body_markdown":"Let me try thanks a lot for identification","body":"Let me try thanks a lot for identification"},{"owner":{"account_id":2221737,"reputation":11,"user_id":1960957,"display_name":"user1960957"},"score":0,"creation_date":1640671392,"post_id":70503201,"comment_id":124628580,"body_markdown":"on executing gradle build, I am getting below error now Above implementation issue is resolved.  ``` [ant:taskdef] Could not load definitions from resource org/aspectj/tools/ant/taskdefs/aspectjTaskdefs.properties. It could not be found.```","body":"on executing gradle build, I am getting below error now Above implementation issue is resolved.  ``` [ant:taskdef] Could not load definitions from resource org/aspectj/tools/ant/taskdefs/aspectjTaskdefs.properties. It could not be found.```"}],"owner":{"account_id":2221737,"reputation":11,"user_id":1960957,"display_name":"user1960957"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640671856,"creation_date":1640670308,"question_id":70503201,"body_markdown":"Here is my `build.gradle` , I had upgraded gradle 5.x to 6.9.2 and while executing `gradleW` build I am getting below error.  \r\n\r\n**[ant:taskdef] Could not load definitions from resource org/aspectj/tools/ant/taskdefs/aspectjTaskdefs.properties.** It could not be found.\r\n\r\n&gt; Task :compileJava FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;C:\\Users\\9796te\\Company\\2021\\December\\27\\01\\hopper-api\\build.gradle&#39; line: 180\r\n\r\n What went wrong:\r\nExecution failed for task &#39;:compileJava&#39;.\r\n Problem: failed to create task or type iajc\r\n  Cause: The name is undefined.\r\n  Action: Check the spelling.\r\n  Action: Check that any custom tasks/types have been declared.\r\n  Action: Check that any &lt;presetdef&gt;/&lt;macrodef&gt; declarations have taken place.\r\n\r\n\r\n\r\n\r\nAnd here is the `build.gradle` file:\r\n\r\n```\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.1.4.RELEASE&#39;\r\n    id &#39;com.adarshr.test-logger&#39; version &#39;1.6.0&#39;\r\n    id &#39;com.gorylenko.gradle-git-properties&#39; version &#39;2.0.0&#39;\r\n    id &#39;org.sonarqube&#39; version &#39;2.7&#39;\r\n    id &quot;com.github.ManifestClasspath&quot; version &quot;0.1.0-RELEASE&quot;\r\n}\r\n\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;io.spring.dependency-management&#39;\r\napply plugin: &#39;eclipse&#39;\r\napply plugin: &#39;application&#39;\r\nmainClassName = &#39;com.bp.hopper.Application&#39;\r\n\r\nsourceCompatibility = 11\r\ntargetCompatibility = 11\r\n\r\njar {\r\n    enabled = true\r\n    archiveBaseName = &#39;hopper-api&#39;\r\n    archiveVersion =  &#39;0.1&#39;\r\n}\r\n\r\nbootJar {\r\n    classifier = &#39;application&#39;\r\n}\r\n\r\nsourceSets {\r\n    integration\r\n}\r\n\r\nconfigurations {\r\n    aspects\r\n    compile.extendsFrom aspects\r\n}\r\n\r\nspringBoot  {\r\n    buildInfo()\r\n}\r\n\r\ntestlogger {\r\n    theme &#39;mocha&#39;\r\n}\r\n\r\nsonarqube {\r\n    properties {\r\n        property &quot;sonar.projectKey&quot;, &quot;com.bp.WellHopper:hopper-api&quot;\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    mavenLocal() // For those who can&#39;t access internal BP repos\r\n    //jcenter()\r\n    maven { url &#39;http://dml-prime.bpweb.bp.com:8088/artifactory/bp-upstream-devops-lib-release-local&#39; }\r\n}\r\n\r\n// Non-spring boot versions\r\next.versions = [\r\n    accesstokenvalidator: &#39;2.1.4g&#39;,\r\n    onbehalfof: &#39;2.1.4f&#39;,\r\n    clientcredentials: &#39;2.1.4h&#39;,\r\n    swagger: &#39;2.9.2&#39;,\r\n    applicationinsights: &#39;2.6.0&#39;, // if you change this then change web.config and replace the updated jar in project root\r\n    commonsio: &#39;2.6&#39;,\r\n    mssqljdbc: &#39;7.2.2.jre8&#39;,\r\n    xlxsstreamer: &#39;1.2.0&#39;,\r\n    guava: &#39;27.1-jre&#39;,\r\n    beanutils: &#39;1.9.3&#39;,\r\n    tika: &#39;1.20&#39;,\r\n    jacksondatatypejts: &#39;2.4&#39;,\r\n    azurestorage: &#39;8.2.0&#39;,\r\n    azurekeyvault: &#39;1.2.4&#39;,\r\n    azure: &#39;1.34.0&#39;,\r\n    hibernatesearch: &#39;5.10.5.Final&#39;,\r\n    reflections: &#39;0.9.11&#39;,\r\n    awaitility: &#39;4.0.3&#39;,\r\n    microsoftgraph: &#39;1.2.0&#39;,\r\n    dozer: &#39;6.5.0&#39;,\r\n    lombok: &#39;1.18.12&#39;,\r\n    hibernatetypes: &#39;2.10.0&#39;,\r\n    qpid: &#39;0.55.0&#39;,\r\n    javaobjectdiff: &#39;0.95&#39;\r\n]\r\n\r\nconfigurations.all {\r\n    resolutionStrategy.eachDependency {  details -&gt;\r\n        if (details.requested.group == &#39;org.apache.logging.log4j&#39;) {\r\n            details.useVersion &#39;2.17.0&#39;\r\n        }\r\n    }\r\n}\r\n\r\n\r\ndependencies {\r\n    annotationProcessor &quot;org.projectlombok:lombok:$versions.lombok&quot;\r\n\r\n    aspects &quot;org.springframework:spring-aspects&quot;\r\n\r\n    implementation &quot;org.aspectj:aspectjrt&quot;\r\n    implementation &quot;org.aspectj:aspectjtools&quot;\r\n    implementation &quot;org.aspectj:aspectjweaver&quot;\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-json&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-hateoas&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    implementation &#39;org.springframework:spring-jms&#39;\r\n    implementation &#39;org.springframework.data:spring-data-envers&#39;\r\n    implementation &#39;com.fasterxml.jackson.datatype:jackson-datatype-hibernate5&#39;\r\n    implementation (&quot;org.hibernate:hibernate-spatial&quot;) {\r\n        exclude group: &#39;org.postgresql&#39;, module: &#39;postgresql&#39;\r\n    }\r\n    implementation &quot;org.hibernate:hibernate-search-orm:$versions.hibernatesearch&quot;\r\n    implementation &quot;com.vladmihalcea:hibernate-types-5:$versions.hibernatetypes&quot;\r\n    implementation &quot;com.microsoft.azure:azure-storage:$versions.azurestorage&quot;\r\n    implementation &quot;com.microsoft.graph:microsoft-graph:$versions.microsoftgraph&quot;\r\n    implementation &quot;org.projectlombok:lombok:$versions.lombok&quot;\r\n    implementation &#39;org.flywaydb:flyway-core&#39;\r\n    implementation &quot;org.apache.tika:tika-core:$versions.tika&quot;\r\n    implementation &quot;com.bedatadriven:jackson-datatype-jts:$versions.jacksondatatypejts&quot;\r\n    implementation &quot;org.reflections:reflections:$versions.reflections&quot;\r\n    implementation &quot;com.google.guava:guava:$versions.guava&quot;\r\n    implementation &#39;javax.xml.bind:jaxb-api&#39;\r\n    implementation &#39;org.glassfish.jaxb:jaxb-runtime&#39;\r\n\r\n    implementation &quot;commons-io:commons-io:$versions.commonsio&quot;\r\n    implementation &quot;com.microsoft.sqlserver:mssql-jdbc:$versions.mssqljdbc&quot;\r\n    implementation &quot;com.monitorjbl:xlsx-streamer:$versions.xlxsstreamer&quot;\r\n    implementation &quot;io.springfox:springfox-swagger2:$versions.swagger&quot;\r\n    implementation &quot;io.springfox:springfox-swagger-ui:$versions.swagger&quot;\r\n    implementation &quot;com.bp:access-token-validator:$versions.accesstokenvalidator&quot;\r\n    implementation &quot;com.bp:access-token-on-behalf-of:$versions.onbehalfof&quot;\r\n    implementation &quot;com.bp:access-token-client-credentials:$versions.clientcredentials&quot;\r\n    implementation &quot;com.microsoft.azure:azure-keyvault:$versions.azurekeyvault&quot;\r\n    implementation &quot;com.microsoft.azure:azure:$versions.azure&quot;\r\n    implementation &quot;com.microsoft.azure:applicationinsights-web:$versions.applicationinsights&quot;\r\n    implementation &quot;com.microsoft.azure:applicationinsights-logging-logback:$versions.applicationinsights&quot;\r\n    implementation &#39;org.jsoup:jsoup:1.11.2&#39; // safe html\r\n    implementation (&quot;commons-beanutils:commons-beanutils:$versions.beanutils&quot;) {\r\n        exclude group: &#39;commons-logging&#39;, module: &#39;commons-logging&#39;\r\n    }\r\n    implementation &#39;org.slf4j:jcl-over-slf4j&#39;\r\n    implementation &quot;com.github.dozermapper:dozer-spring-boot-starter:$versions.dozer&quot;\r\n    implementation &quot;org.apache.qpid:qpid-jms-client:$versions.qpid&quot;\r\n    implementation &quot;de.danielbechler:java-object-diff:$versions.javaobjectdiff&quot;\r\n\r\n    testAnnotationProcessor &quot;org.projectlombok:lombok:$versions.lombok&quot;\r\n    testimplementation (&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n    testimplementation &#39;com.vmlens:concurrent-junit:1.0.2&#39;\r\n    testimplementation &#39;io.github.benas:random-beans:3.7.0&#39;\r\n    testimplementation &quot;com.flipkart.zjsonpatch:zjsonpatch:0.4.11&quot;\r\n    testRuntimeOnly &#39;com.h2database:h2&#39;\r\n\r\n    integrationAnnotationProcessor &quot;org.projectlombok:lombok:$versions.lombok&quot;\r\n    integrationimplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    integrationimplementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n    integrationimplementation &#39;org.springframework.boot:spring-boot-starter-json&#39;\r\n    integrationimplementation &quot;org.projectlombok:lombok:$versions.lombok&quot;\r\n    integrationimplementation &quot;io.rest-assured:rest-assured&quot;\r\n    integrationimplementation &quot;com.monitorjbl:xlsx-streamer:$versions.xlxsstreamer&quot;\r\n    integrationimplementation &quot;com.microsoft.sqlserver:mssql-jdbc:$versions.mssqljdbc&quot;\r\n    integrationimplementation &quot;com.google.guava:guava:$versions.guava&quot;\r\n    integrationimplementation &quot;commons-beanutils:commons-beanutils:$versions.beanutils&quot;\r\n    integrationimplementation (&#39;org.hibernate:hibernate-spatial&#39;) {\r\n        exclude group: &#39;org.postgresql&#39;, module: &#39;postgresql&#39;\r\n    }\r\n    integrationimplementation &quot;com.bedatadriven:jackson-datatype-jts:$versions.jacksondatatypejts&quot;\r\n    integrationimplementation &quot;org.awaitility:awaitility:$versions.awaitility&quot;\r\n    integrationimplementation &quot;org.reflections:reflections:$versions.reflections&quot;\r\n    integrationimplementation &quot;com.github.dozermapper:dozer-spring-boot-starter:$versions.dozer&quot;\r\n    integrationimplementation &quot;com.flipkart.zjsonpatch:zjsonpatch:0.4.11&quot;\r\n}\r\n\r\ncompileJava {\r\n    println &#39;Java Version: &#39; + JavaVersion.current()\r\n    println &#39;Java Source Compatibility: &#39; + sourceCompatibility\r\n    println &#39;Java Target Compatibility: &#39; + targetCompatibility\r\n    doLast {\r\n        ant.taskdef(resource: &#39;org/aspectj/tools/ant/taskdefs/aspectjTaskdefs.properties&#39;, classpath: configurations.compile.asPath)\r\n        ant.iajc(inpath: sourceSets.main.output.classesDirs.asPath, classpath: configurations.compile.asPath, aspectPath: configurations.aspects.asPath, destDir: sourceSets.main.output.classesDirs.asPath)\r\n    }\r\n}\r\n\r\ntask integrationTest(type: Test) {\r\n    testClassesDirs = sourceSets.integration.output\r\n    classpath = sourceSets.integration.runtimeClasspath\r\n    outputs.upToDateWhen { false }\r\n}\r\n\r\ntasks.withType(Test) {\r\n    reports.html.destination = file(&quot;${reporting.baseDir}/${name}&quot;)\r\n    minHeapSize = &quot;512m&quot;\r\n    maxHeapSize = &quot;2g&quot;\r\n    jvmArgs = [\r\n            &quot;-Dfile.encoding=UTF-8&quot;,\r\n            &quot;-Duser.timezone=UTC&quot;\r\n    ]\r\n}\r\n\r\nbootRun {\r\n    if (project.hasProperty(&#39;jvmArgs&#39;)) {\r\n        jvmArgs = (project.jvmArgs.split(&quot;\\\\s+&quot; as Closure) as List)\r\n    } else {\r\n        jvmArgs = [\r\n                &quot;-Dapp.security.enable=true&quot;,\r\n                &quot;-Djava.net.preferIPv4Stack=true&quot;,\r\n                &quot;-Dfile.encoding=UTF-8&quot;,\r\n                &quot;-Duser.timezone=UTC&quot;\r\n        ]\r\n    }\r\n}\r\n\r\ndef createLocalDatabaseSql = &quot;create database hopper\\n&quot; +\r\n        &quot;go\\n&quot; +\r\n        &quot;create login bp with password = &#39;bp&#39;, check_policy = off\\n&quot; +\r\n        &quot;go\\n&quot; +\r\n        &quot;use hopper\\n&quot; +\r\n        &quot;go\\n&quot; +\r\n        &quot;create user bp for login bp\\n&quot; +\r\n        &quot;go\\n&quot; +\r\n        &quot;sp_addrolemember &#39;db_owner&#39;, &#39;bp&#39;\\n&quot; +\r\n        &quot;go\\n&quot; +\r\n        &quot;exit\\n&quot;\r\n\r\ndef dropLocalDatabaseSql = &quot;drop database hopper\\n&quot; +\r\n        &quot;go\\n&quot; +\r\n        &quot;drop login bp\\n&quot; +\r\n        &quot;go\\n&quot; +\r\n        &quot;exit\\n&quot;\r\n\r\ntask createLocalDatabase(type: Exec) {\r\n    standardInput = new ByteArrayInputStream(createLocalDatabaseSql.getBytes(&#39;UTF-8&#39;))\r\n    commandLine &#39;cmd&#39;, &#39;/c&#39;, &#39;sqlcmd&#39;\r\n}\r\n\r\ntask createLocalDatabaseDocker(type: Exec) {\r\n    standardInput = new ByteArrayInputStream(createLocalDatabaseSql.getBytes(&#39;UTF-8&#39;))\r\n    commandLine &#39;sqlcmd&#39;, &#39;-U&#39;, &#39;sa&#39;, &#39;-P&#39;, &#39;Passw0rd&#39;\r\n}\r\n\r\ntask dropLocalDatabase(type: Exec) {\r\n    standardInput = new ByteArrayInputStream(dropLocalDatabaseSql.getBytes(&#39;UTF-8&#39;))\r\n    commandLine &#39;cmd&#39;, &#39;/c&#39;, &#39;sqlcmd&#39;\r\n}\r\n\r\ntask dropLocalDatabaseDocker(type: Exec) {\r\n    standardInput = new ByteArrayInputStream(dropLocalDatabaseSql.getBytes(&#39;UTF-8&#39;))\r\n    commandLine &#39;sqlcmd&#39;, &#39;-U&#39;, &#39;sa&#39;, &#39;-P&#39;, &#39;Passw0rd&#39;\r\n}\r\n\r\neclipse {\r\n    classpath {\r\n        plusConfigurations.add configurations.integrationCompile\r\n        plusConfigurations.add configurations.integrationRuntime\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"ant:taskdef Could not load definitions from resource org/aspectj/tools/ant/taskdefs/aspectjTaskdefs.properties","body":"<p>Here is my <code>build.gradle</code> , I had upgraded gradle 5.x to 6.9.2 and while executing <code>gradleW</code> build I am getting below error.</p>\n<p><strong>[ant:taskdef] Could not load definitions from resource org/aspectj/tools/ant/taskdefs/aspectjTaskdefs.properties.</strong> It could not be found.</p>\n<blockquote>\n<p>Task :compileJava FAILED</p>\n</blockquote>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>Where:\nBuild file 'C:\\Users\\9796te\\Company\\2021\\December\\27\\01\\hopper-api\\build.gradle' line: 180</li>\n</ul>\n<p>What went wrong:\nExecution failed for task ':compileJava'.\nProblem: failed to create task or type iajc\nCause: The name is undefined.\nAction: Check the spelling.\nAction: Check that any custom tasks/types have been declared.\nAction: Check that any / declarations have taken place.</p>\n<p>And here is the <code>build.gradle</code> file:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.1.4.RELEASE'\n    id 'com.adarshr.test-logger' version '1.6.0'\n    id 'com.gorylenko.gradle-git-properties' version '2.0.0'\n    id 'org.sonarqube' version '2.7'\n    id &quot;com.github.ManifestClasspath&quot; version &quot;0.1.0-RELEASE&quot;\n}\n\napply plugin: 'java'\napply plugin: 'io.spring.dependency-management'\napply plugin: 'eclipse'\napply plugin: 'application'\nmainClassName = 'com.bp.hopper.Application'\n\nsourceCompatibility = 11\ntargetCompatibility = 11\n\njar {\n    enabled = true\n    archiveBaseName = 'hopper-api'\n    archiveVersion =  '0.1'\n}\n\nbootJar {\n    classifier = 'application'\n}\n\nsourceSets {\n    integration\n}\n\nconfigurations {\n    aspects\n    compile.extendsFrom aspects\n}\n\nspringBoot  {\n    buildInfo()\n}\n\ntestlogger {\n    theme 'mocha'\n}\n\nsonarqube {\n    properties {\n        property &quot;sonar.projectKey&quot;, &quot;com.bp.WellHopper:hopper-api&quot;\n    }\n}\n\nrepositories {\n    mavenCentral()\n    mavenLocal() // For those who can't access internal BP repos\n    //jcenter()\n    maven { url 'http://dml-prime.bpweb.bp.com:8088/artifactory/bp-upstream-devops-lib-release-local' }\n}\n\n// Non-spring boot versions\next.versions = [\n    accesstokenvalidator: '2.1.4g',\n    onbehalfof: '2.1.4f',\n    clientcredentials: '2.1.4h',\n    swagger: '2.9.2',\n    applicationinsights: '2.6.0', // if you change this then change web.config and replace the updated jar in project root\n    commonsio: '2.6',\n    mssqljdbc: '7.2.2.jre8',\n    xlxsstreamer: '1.2.0',\n    guava: '27.1-jre',\n    beanutils: '1.9.3',\n    tika: '1.20',\n    jacksondatatypejts: '2.4',\n    azurestorage: '8.2.0',\n    azurekeyvault: '1.2.4',\n    azure: '1.34.0',\n    hibernatesearch: '5.10.5.Final',\n    reflections: '0.9.11',\n    awaitility: '4.0.3',\n    microsoftgraph: '1.2.0',\n    dozer: '6.5.0',\n    lombok: '1.18.12',\n    hibernatetypes: '2.10.0',\n    qpid: '0.55.0',\n    javaobjectdiff: '0.95'\n]\n\nconfigurations.all {\n    resolutionStrategy.eachDependency {  details -&gt;\n        if (details.requested.group == 'org.apache.logging.log4j') {\n            details.useVersion '2.17.0'\n        }\n    }\n}\n\n\ndependencies {\n    annotationProcessor &quot;org.projectlombok:lombok:$versions.lombok&quot;\n\n    aspects &quot;org.springframework:spring-aspects&quot;\n\n    implementation &quot;org.aspectj:aspectjrt&quot;\n    implementation &quot;org.aspectj:aspectjtools&quot;\n    implementation &quot;org.aspectj:aspectjweaver&quot;\n\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation 'org.springframework.boot:spring-boot-starter-json'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-hateoas'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework:spring-jms'\n    implementation 'org.springframework.data:spring-data-envers'\n    implementation 'com.fasterxml.jackson.datatype:jackson-datatype-hibernate5'\n    implementation (&quot;org.hibernate:hibernate-spatial&quot;) {\n        exclude group: 'org.postgresql', module: 'postgresql'\n    }\n    implementation &quot;org.hibernate:hibernate-search-orm:$versions.hibernatesearch&quot;\n    implementation &quot;com.vladmihalcea:hibernate-types-5:$versions.hibernatetypes&quot;\n    implementation &quot;com.microsoft.azure:azure-storage:$versions.azurestorage&quot;\n    implementation &quot;com.microsoft.graph:microsoft-graph:$versions.microsoftgraph&quot;\n    implementation &quot;org.projectlombok:lombok:$versions.lombok&quot;\n    implementation 'org.flywaydb:flyway-core'\n    implementation &quot;org.apache.tika:tika-core:$versions.tika&quot;\n    implementation &quot;com.bedatadriven:jackson-datatype-jts:$versions.jacksondatatypejts&quot;\n    implementation &quot;org.reflections:reflections:$versions.reflections&quot;\n    implementation &quot;com.google.guava:guava:$versions.guava&quot;\n    implementation 'javax.xml.bind:jaxb-api'\n    implementation 'org.glassfish.jaxb:jaxb-runtime'\n\n    implementation &quot;commons-io:commons-io:$versions.commonsio&quot;\n    implementation &quot;com.microsoft.sqlserver:mssql-jdbc:$versions.mssqljdbc&quot;\n    implementation &quot;com.monitorjbl:xlsx-streamer:$versions.xlxsstreamer&quot;\n    implementation &quot;io.springfox:springfox-swagger2:$versions.swagger&quot;\n    implementation &quot;io.springfox:springfox-swagger-ui:$versions.swagger&quot;\n    implementation &quot;com.bp:access-token-validator:$versions.accesstokenvalidator&quot;\n    implementation &quot;com.bp:access-token-on-behalf-of:$versions.onbehalfof&quot;\n    implementation &quot;com.bp:access-token-client-credentials:$versions.clientcredentials&quot;\n    implementation &quot;com.microsoft.azure:azure-keyvault:$versions.azurekeyvault&quot;\n    implementation &quot;com.microsoft.azure:azure:$versions.azure&quot;\n    implementation &quot;com.microsoft.azure:applicationinsights-web:$versions.applicationinsights&quot;\n    implementation &quot;com.microsoft.azure:applicationinsights-logging-logback:$versions.applicationinsights&quot;\n    implementation 'org.jsoup:jsoup:1.11.2' // safe html\n    implementation (&quot;commons-beanutils:commons-beanutils:$versions.beanutils&quot;) {\n        exclude group: 'commons-logging', module: 'commons-logging'\n    }\n    implementation 'org.slf4j:jcl-over-slf4j'\n    implementation &quot;com.github.dozermapper:dozer-spring-boot-starter:$versions.dozer&quot;\n    implementation &quot;org.apache.qpid:qpid-jms-client:$versions.qpid&quot;\n    implementation &quot;de.danielbechler:java-object-diff:$versions.javaobjectdiff&quot;\n\n    testAnnotationProcessor &quot;org.projectlombok:lombok:$versions.lombok&quot;\n    testimplementation ('org.springframework.boot:spring-boot-starter-test')\n    testimplementation 'com.vmlens:concurrent-junit:1.0.2'\n    testimplementation 'io.github.benas:random-beans:3.7.0'\n    testimplementation &quot;com.flipkart.zjsonpatch:zjsonpatch:0.4.11&quot;\n    testRuntimeOnly 'com.h2database:h2'\n\n    integrationAnnotationProcessor &quot;org.projectlombok:lombok:$versions.lombok&quot;\n    integrationimplementation 'org.springframework.boot:spring-boot-starter-test'\n    integrationimplementation 'org.springframework.boot:spring-boot-starter-jdbc'\n    integrationimplementation 'org.springframework.boot:spring-boot-starter-json'\n    integrationimplementation &quot;org.projectlombok:lombok:$versions.lombok&quot;\n    integrationimplementation &quot;io.rest-assured:rest-assured&quot;\n    integrationimplementation &quot;com.monitorjbl:xlsx-streamer:$versions.xlxsstreamer&quot;\n    integrationimplementation &quot;com.microsoft.sqlserver:mssql-jdbc:$versions.mssqljdbc&quot;\n    integrationimplementation &quot;com.google.guava:guava:$versions.guava&quot;\n    integrationimplementation &quot;commons-beanutils:commons-beanutils:$versions.beanutils&quot;\n    integrationimplementation ('org.hibernate:hibernate-spatial') {\n        exclude group: 'org.postgresql', module: 'postgresql'\n    }\n    integrationimplementation &quot;com.bedatadriven:jackson-datatype-jts:$versions.jacksondatatypejts&quot;\n    integrationimplementation &quot;org.awaitility:awaitility:$versions.awaitility&quot;\n    integrationimplementation &quot;org.reflections:reflections:$versions.reflections&quot;\n    integrationimplementation &quot;com.github.dozermapper:dozer-spring-boot-starter:$versions.dozer&quot;\n    integrationimplementation &quot;com.flipkart.zjsonpatch:zjsonpatch:0.4.11&quot;\n}\n\ncompileJava {\n    println 'Java Version: ' + JavaVersion.current()\n    println 'Java Source Compatibility: ' + sourceCompatibility\n    println 'Java Target Compatibility: ' + targetCompatibility\n    doLast {\n        ant.taskdef(resource: 'org/aspectj/tools/ant/taskdefs/aspectjTaskdefs.properties', classpath: configurations.compile.asPath)\n        ant.iajc(inpath: sourceSets.main.output.classesDirs.asPath, classpath: configurations.compile.asPath, aspectPath: configurations.aspects.asPath, destDir: sourceSets.main.output.classesDirs.asPath)\n    }\n}\n\ntask integrationTest(type: Test) {\n    testClassesDirs = sourceSets.integration.output\n    classpath = sourceSets.integration.runtimeClasspath\n    outputs.upToDateWhen { false }\n}\n\ntasks.withType(Test) {\n    reports.html.destination = file(&quot;${reporting.baseDir}/${name}&quot;)\n    minHeapSize = &quot;512m&quot;\n    maxHeapSize = &quot;2g&quot;\n    jvmArgs = [\n            &quot;-Dfile.encoding=UTF-8&quot;,\n            &quot;-Duser.timezone=UTC&quot;\n    ]\n}\n\nbootRun {\n    if (project.hasProperty('jvmArgs')) {\n        jvmArgs = (project.jvmArgs.split(&quot;\\\\s+&quot; as Closure) as List)\n    } else {\n        jvmArgs = [\n                &quot;-Dapp.security.enable=true&quot;,\n                &quot;-Djava.net.preferIPv4Stack=true&quot;,\n                &quot;-Dfile.encoding=UTF-8&quot;,\n                &quot;-Duser.timezone=UTC&quot;\n        ]\n    }\n}\n\ndef createLocalDatabaseSql = &quot;create database hopper\\n&quot; +\n        &quot;go\\n&quot; +\n        &quot;create login bp with password = 'bp', check_policy = off\\n&quot; +\n        &quot;go\\n&quot; +\n        &quot;use hopper\\n&quot; +\n        &quot;go\\n&quot; +\n        &quot;create user bp for login bp\\n&quot; +\n        &quot;go\\n&quot; +\n        &quot;sp_addrolemember 'db_owner', 'bp'\\n&quot; +\n        &quot;go\\n&quot; +\n        &quot;exit\\n&quot;\n\ndef dropLocalDatabaseSql = &quot;drop database hopper\\n&quot; +\n        &quot;go\\n&quot; +\n        &quot;drop login bp\\n&quot; +\n        &quot;go\\n&quot; +\n        &quot;exit\\n&quot;\n\ntask createLocalDatabase(type: Exec) {\n    standardInput = new ByteArrayInputStream(createLocalDatabaseSql.getBytes('UTF-8'))\n    commandLine 'cmd', '/c', 'sqlcmd'\n}\n\ntask createLocalDatabaseDocker(type: Exec) {\n    standardInput = new ByteArrayInputStream(createLocalDatabaseSql.getBytes('UTF-8'))\n    commandLine 'sqlcmd', '-U', 'sa', '-P', 'Passw0rd'\n}\n\ntask dropLocalDatabase(type: Exec) {\n    standardInput = new ByteArrayInputStream(dropLocalDatabaseSql.getBytes('UTF-8'))\n    commandLine 'cmd', '/c', 'sqlcmd'\n}\n\ntask dropLocalDatabaseDocker(type: Exec) {\n    standardInput = new ByteArrayInputStream(dropLocalDatabaseSql.getBytes('UTF-8'))\n    commandLine 'sqlcmd', '-U', 'sa', '-P', 'Passw0rd'\n}\n\neclipse {\n    classpath {\n        plusConfigurations.add configurations.integrationCompile\n        plusConfigurations.add configurations.integrationRuntime\n    }\n}\n\n</code></pre>\n"},{"tags":["java","dictionary","data-structures","hashmap"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479564911,"creation_date":1479564802,"answer_id":40693862,"question_id":40693845,"body_markdown":"Sure \r\n\r\n    Integer houme = hashMapHouse.get(&quot;houme1&quot;);\r\n\r\n    if (null == houme ) {\r\n        // not exists \r\n    } else {\r\n        // exists \r\n    } \r\n\r\n","title":"HashMap Java get value if it exists","body":"<p>Sure </p>\n\n<pre><code>Integer houme = hashMapHouse.get(\"houme1\");\n\nif (null == houme ) {\n    // not exists \n} else {\n    // exists \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1479565656,"creation_date":1479564875,"answer_id":40693876,"question_id":40693845,"body_markdown":"In Java 8 you can use the [getOrDefault](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-) method:\r\n\r\n    int var = hashMapHouse.getOrDefault(&quot;home1&quot;, 0);\r\n\r\nIt&#39;s the cleanest solution, in a single line you can get either the value for the key if it exists, or a predefined default value to indicate that it doesn&#39;t exist - `0` in this case.","title":"HashMap Java get value if it exists","body":"<p>In Java 8 you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-\" rel=\"noreferrer\">getOrDefault</a> method:</p>\n\n<pre><code>int var = hashMapHouse.getOrDefault(\"home1\", 0);\n</code></pre>\n\n<p>It's the cleanest solution, in a single line you can get either the value for the key if it exists, or a predefined default value to indicate that it doesn't exist - <code>0</code> in this case.</p>\n"},{"tags":[],"owner":{"account_id":2578864,"reputation":2991,"user_id":2235972,"display_name":"denvercoder9"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479568799,"creation_date":1479564999,"answer_id":40693890,"question_id":40693845,"body_markdown":"From the [docs](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#get-java.lang.Object-):\r\n\r\n&gt; A return value of null does not necessarily indicate that the map contains no mapping for the key; it&#39;s also possible that the map explicitly maps the key to null. The containsKey operation may be used to distinguish these two cases.\r\n\r\nIf you are not using `null` as value then you can use the `get()` method once and do it like this:\r\n\r\n\r\n    Integer var = hashMap.get(key);\r\n    if (var != null) {\r\n        // value exists\r\n    }\r\n","title":"HashMap Java get value if it exists","body":"<p>From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#get-java.lang.Object-\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>A return value of null does not necessarily indicate that the map contains no mapping for the key; it's also possible that the map explicitly maps the key to null. The containsKey operation may be used to distinguish these two cases.</p>\n</blockquote>\n\n<p>If you are not using <code>null</code> as value then you can use the <code>get()</code> method once and do it like this:</p>\n\n<pre><code>Integer var = hashMap.get(key);\nif (var != null) {\n    // value exists\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15084568,"reputation":387,"user_id":10886220,"display_name":"zyydoosh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640671657,"creation_date":1640671657,"answer_id":70503346,"question_id":40693845,"body_markdown":"It&#39;s possible to fetch the value while checking the condition, to avoid accessing the HashMap twice. \r\n\r\n\r\n    if ((temp = hashMapHouse.get(&quot;home1&quot;) != null) {\r\n        var = temp;\r\n    }\r\n\r\ntemp variable are set in the same time we verify our condition.","title":"HashMap Java get value if it exists","body":"<p>It's possible to fetch the value while checking the condition, to avoid accessing the HashMap twice.</p>\n<pre><code>if ((temp = hashMapHouse.get(&quot;home1&quot;) != null) {\n    var = temp;\n}\n</code></pre>\n<p>temp variable are set in the same time we verify our condition.</p>\n"}],"owner":{"account_id":8196657,"reputation":157,"user_id":6169276,"accept_rate":50,"display_name":"snorlax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25257,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":40693876,"answer_count":4,"score":10,"last_activity_date":1640671657,"creation_date":1479564685,"question_id":40693845,"body_markdown":"I wish to get a value from a HasMap but some time the value doesn&#39;t exist so I have done this:\r\n\r\n    int var = 0;\r\n    if (hashMapHouse.containsKey(&quot;home1&quot;) {\r\n        var = hashMapHouse.get(&quot;houme1&quot;);\r\n    }\r\n    if(var==0) //do something\r\n    else //do something else\r\n\r\nMy question is: is it possible to have one call of hashMap in order to get the value and to test if the value exist or no?","title":"HashMap Java get value if it exists","body":"<p>I wish to get a value from a HasMap but some time the value doesn't exist so I have done this:</p>\n\n<pre><code>int var = 0;\nif (hashMapHouse.containsKey(\"home1\") {\n    var = hashMapHouse.get(\"houme1\");\n}\nif(var==0) //do something\nelse //do something else\n</code></pre>\n\n<p>My question is: is it possible to have one call of hashMap in order to get the value and to test if the value exist or no?</p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1640582119,"post_id":70491892,"comment_id":124608153,"body_markdown":"The Nimbus look and feel will do this by default, otherwise you&#39;ll have to roll your own solution, for [example](https://stackoverflow.com/questions/25279727/java-abstracttablemodel-2-different-color-for-each-row/25279954#25279954)","body":"The Nimbus look and feel will do this by default, otherwise you&#39;ll have to roll your own solution, for <a href=\"https://stackoverflow.com/questions/25279727/java-abstracttablemodel-2-different-color-for-each-row/25279954#25279954\">example</a>"},{"owner":{"account_id":87845,"reputation":15821,"user_id":243373,"accept_rate":100,"display_name":"TT."},"score":0,"creation_date":1640593496,"post_id":70491892,"comment_id":124610311,"body_markdown":"Some relevant answers [here on SO](https://stackoverflow.com/q/17762214/243373)","body":"Some relevant answers <a href=\"https://stackoverflow.com/q/17762214/243373\">here on SO</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1640631748,"post_id":70491892,"comment_id":124621574,"body_markdown":"Try Googling for ___jtable alternating row colors___","body":"Try Googling for <b><i>jtable alternating row colors</i></b>"}],"answers":[{"tags":[],"owner":{"account_id":18083630,"reputation":11,"user_id":13145131,"display_name":"Mahmoud Samy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640671498,"creation_date":1640668479,"answer_id":70503023,"question_id":70491892,"body_markdown":"It turns out it was because I was running NetBeans on dark mode. When I switched to light mode it works just fine.","title":"JTable how to change row color?","body":"<p>It turns out it was because I was running NetBeans on dark mode. When I switched to light mode it works just fine.</p>\n"}],"owner":{"account_id":18083630,"reputation":11,"user_id":13145131,"display_name":"Mahmoud Samy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640671498,"creation_date":1640581942,"question_id":70491892,"body_markdown":"Why are my table(2) rows are all the same color? How can I make it grey row white row like in the table marked 1?\r\n\r\n[![2 is my table 1 is table on the internet][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XyzRu.png","title":"JTable how to change row color?","body":"<p>Why are my table(2) rows are all the same color? How can I make it grey row white row like in the table marked 1?</p>\n<p><a href=\"https://i.stack.imgur.com/XyzRu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XyzRu.png\" alt=\"2 is my table 1 is table on the internet\" /></a></p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":8322520,"reputation":7732,"user_id":6253640,"display_name":"Gil Gilbert"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1507756444,"creation_date":1507756444,"answer_id":46697657,"question_id":46696463,"body_markdown":"If you only want to perform an update if the document exists, using `update` is exactly the thing to do. The behavior you observed is behavior you can count on.\r\n\r\nWe specifically designed this so that it&#39;s possible to perform a partial update of a document without the possibility of creating incomplete documents your code isn&#39;t otherwise prepared to handle.","title":"Firestore - Check if the document which is being updated exists","body":"<p>If you only want to perform an update if the document exists, using <code>update</code> is exactly the thing to do. The behavior you observed is behavior you can count on.</p>\n\n<p>We specifically designed this so that it's possible to perform a partial update of a document without the possibility of creating incomplete documents your code isn't otherwise prepared to handle.</p>\n"},{"tags":[],"owner":{"account_id":127662,"reputation":24734,"user_id":324977,"accept_rate":83,"display_name":"Sam Stern"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1507887093,"creation_date":1507756493,"answer_id":46697671,"question_id":46696463,"body_markdown":"There are a few ways to write data to Cloud Firestore:\r\n\r\n - **update()** - change fields on a document that already exists. Fails if the document does not exist.\r\n - **set()** - overwrite the data in a document, creating the document if it does not already exist. If you want to only partially update a document, use `SetOptions.merge()`.\r\n - **create()** - only available in the server-side SDKs, similar to `set()` but fails if the document already exists.\r\n\r\nSo you just need to use the correct operation for your use case.  If you want to update a document without knowing if it exists or not, you want to use a `set()` with the `merge()` option like this (this example is for Java):\r\n\r\n    // Update one field, creating the document if it does not already exist.\r\n    Map&lt;String, Object&gt; data = new HashMap&lt;&gt;();\r\n    data.put(&quot;capital&quot;, true);\r\n    \r\n    db.collection(&quot;cities&quot;).document(&quot;BJ&quot;)\r\n            .set(data, SetOptions.merge());\r\n\r\n","title":"Firestore - Check if the document which is being updated exists","body":"<p>There are a few ways to write data to Cloud Firestore:</p>\n\n<ul>\n<li><strong>update()</strong> - change fields on a document that already exists. Fails if the document does not exist.</li>\n<li><strong>set()</strong> - overwrite the data in a document, creating the document if it does not already exist. If you want to only partially update a document, use <code>SetOptions.merge()</code>.</li>\n<li><strong>create()</strong> - only available in the server-side SDKs, similar to <code>set()</code> but fails if the document already exists.</li>\n</ul>\n\n<p>So you just need to use the correct operation for your use case.  If you want to update a document without knowing if it exists or not, you want to use a <code>set()</code> with the <code>merge()</code> option like this (this example is for Java):</p>\n\n<pre><code>// Update one field, creating the document if it does not already exist.\nMap&lt;String, Object&gt; data = new HashMap&lt;&gt;();\ndata.put(\"capital\", true);\n\ndb.collection(\"cities\").document(\"BJ\")\n        .set(data, SetOptions.merge());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9774069,"reputation":158,"user_id":7244787,"display_name":"AmitNayek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614693557,"creation_date":1614693557,"answer_id":66440852,"question_id":46696463,"body_markdown":"We can go with update and set the mask parameter to true \r\nlike this: -\r\n   \r\n\r\n    firestore.updateDocument(&quot;GFrom/&quot;+data.email,data, true);\r\n\r\n    ","title":"Firestore - Check if the document which is being updated exists","body":"<p>We can go with update and set the mask parameter to true\nlike this: -</p>\n<pre><code>firestore.updateDocument(&quot;GFrom/&quot;+data.email,data, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1246669,"reputation":2681,"user_id":1207962,"display_name":"Jan Jarč&#237;k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624956902,"creation_date":1624956902,"answer_id":68175536,"question_id":46696463,"body_markdown":"The easiest way to try to update a document that does not exist is:\r\n\r\n    try {\r\n      await db.collection(&#39;cities&#39;).doc(&#39;BJ&#39;).update(&#39;key&#39;, &#39;value&#39;)\r\n    } catch (error) {\r\n      // document not exists, do nothing  \r\n    }\r\n\r\n","title":"Firestore - Check if the document which is being updated exists","body":"<p>The easiest way to try to update a document that does not exist is:</p>\n<pre><code>try {\n  await db.collection('cities').doc('BJ').update('key', 'value')\n} catch (error) {\n  // document not exists, do nothing  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15955644,"reputation":347,"user_id":11513875,"display_name":"Abdur Rehman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640670589,"creation_date":1640670589,"answer_id":70503229,"question_id":46696463,"body_markdown":"I think in such type of scenario the **set()** with **merge: true** is the best option to use. \r\n**Using Flutter**\r\n\r\n    firestoreInstance.collection(&quot;users&quot;).doc(firebaseUser.uid).set(\r\n    {\r\n    &quot;username&quot; : &quot;userX&quot;,\r\n    },SetOptions(merge: true))","title":"Firestore - Check if the document which is being updated exists","body":"<p>I think in such type of scenario the <strong>set()</strong> with <strong>merge: true</strong> is the best option to use.\n<strong>Using Flutter</strong></p>\n<pre><code>firestoreInstance.collection(&quot;users&quot;).doc(firebaseUser.uid).set(\n{\n&quot;username&quot; : &quot;userX&quot;,\n},SetOptions(merge: true))\n</code></pre>\n"}],"owner":{"account_id":7888941,"reputation":4117,"user_id":7483311,"accept_rate":94,"display_name":"Tal Barda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14505,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":46697671,"answer_count":5,"score":13,"last_activity_date":1640670589,"creation_date":1507751674,"question_id":46696463,"body_markdown":"As far as I know - In order to check whether a `document` exists or not, I should use the `get` function and see if it does. \r\n\r\n**My question is about checking while updating - Is it possible?** (Considering that the `document` might be gone when the update occurs).\r\n\r\nI have tried to update an empty `document` and I got an error which says that the document doesn&#39;t exist, but I think this might not be the successful way to check this.","title":"Firestore - Check if the document which is being updated exists","body":"<p>As far as I know - In order to check whether a <code>document</code> exists or not, I should use the <code>get</code> function and see if it does. </p>\n\n<p><strong>My question is about checking while updating - Is it possible?</strong> (Considering that the <code>document</code> might be gone when the update occurs).</p>\n\n<p>I have tried to update an empty <code>document</code> and I got an error which says that the document doesn't exist, but I think this might not be the successful way to check this.</p>\n"},{"tags":["java","android","json","retrofit2"],"comments":[{"owner":{"account_id":11079440,"reputation":360,"user_id":8135043,"display_name":"Shahnawaz Ansari"},"score":0,"creation_date":1640349502,"post_id":70453691,"comment_id":124574912,"body_markdown":"Your Match class should have `List&lt;MatchResults&gt; MatchResults` instead since your json response has an array in it. And then you can get the first value like this `matchList.get(position).MatchResults.get(0).PointsTeam1`. Is this what you want ?","body":"Your Match class should have <code>List&lt;MatchResults&gt; MatchResults</code> instead since your json response has an array in it. And then you can get the first value like this <code>matchList.get(position).MatchResults.get(0).PointsTeam1</code>. Is this what you want ?"},{"owner":{"account_id":17604997,"reputation":543,"user_id":12774191,"display_name":"MincedMeatMole"},"score":1,"creation_date":1640604185,"post_id":70453691,"comment_id":124613364,"body_markdown":"Yesss - I love you. Best christmas present. If you post this as an Answer I can accept it.","body":"Yesss - I love you. Best christmas present. If you post this as an Answer I can accept it."}],"answers":[{"tags":[],"owner":{"account_id":11079440,"reputation":360,"user_id":8135043,"display_name":"Shahnawaz Ansari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640669657,"creation_date":1640669657,"answer_id":70503144,"question_id":70453691,"body_markdown":"As per the question you are suppose to use `List&lt;MatchResults&gt; MatchResults` since the API response contains a list of match results. \r\n\r\nFurther to use the first position from the matchResults array you cna use it like this in your adapter : \r\n\r\n    matchList.get(position).MatchResults.get(0).PointsTeam1","title":"Android Java - Parse Array Entry of JSON into Recycler View","body":"<p>As per the question you are suppose to use <code>List&lt;MatchResults&gt; MatchResults</code> since the API response contains a list of match results.</p>\n<p>Further to use the first position from the matchResults array you cna use it like this in your adapter :</p>\n<pre><code>matchList.get(position).MatchResults.get(0).PointsTeam1\n</code></pre>\n"}],"owner":{"account_id":17604997,"reputation":543,"user_id":12774191,"display_name":"MincedMeatMole"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70503144,"answer_count":1,"score":0,"last_activity_date":1640669657,"creation_date":1640198216,"question_id":70453691,"body_markdown":"I am trying to parse a Block of JSON into a RecyclerView. So far I was able to achieve this with a quite flat JSON Structure. But now I have an Array-Entry in my JSON File where I always want to get the first Entry.\r\nThe JSON looks like this:\r\n\r\n```\r\n[    \r\n    {\r\n        &quot;MatchID&quot;: 60989,\r\n        &quot;Team1&quot;: {\r\n            &quot;TeamName&quot;: &quot;FC Bayern M&#252;nchen&quot;,\r\n            &quot;TeamIconUrl&quot;: &quot;https://i.imgur.com/jJEsJrj.png&quot;\r\n        },\r\n        &quot;Team2&quot;: {\r\n            &quot;TeamName&quot;: &quot;VfL Wolfsburg&quot;,\r\n            &quot;TeamIconUrl&quot;: &quot;https://i.imgur.com/ucqKV4B.png&quot;\r\n        },\r\n        &quot;MatchResults&quot;: [\r\n            {\r\n                &quot;PointsTeam1&quot;: 4,\r\n                &quot;PointsTeam2&quot;: 0,\r\n                &quot;ResultOrderID&quot;: 1\r\n            },\r\n            {\r\n                &quot;PointsTeam1&quot;: 1,\r\n                &quot;PointsTeam2&quot;: 0,\r\n                &quot;ResultOrderID&quot;: 2\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;MatchID&quot;: 60990,\r\n        &quot;Team1&quot;: {\r\n            &quot;TeamName&quot;: &quot;VfL Bochum&quot;,\r\n            &quot;TeamIconUrl&quot;: &quot;https://i.imgur.com/5jy3Gfr.png&quot;\r\n        },\r\n        &quot;Team2&quot;: {\r\n            &quot;TeamName&quot;: &quot;1. FC Union Berlin&quot;,\r\n            &quot;TeamIconUrl&quot;: &quot;https://upload.wikimedia.org/wikipedia/commons/4/44/1._FC_Union_Berlin_Logo.svg&quot;\r\n        },\r\n        &quot;MatchResults&quot;: [\r\n            {\r\n                &quot;PointsTeam1&quot;: 0,\r\n                &quot;PointsTeam2&quot;: 1,\r\n                &quot;ResultOrderID&quot;: 1\r\n            },\r\n            {\r\n                &quot;PointsTeam1&quot;: 0,\r\n                &quot;PointsTeam2&quot;: 1,\r\n                &quot;ResultOrderID&quot;: 2\r\n            }\r\n        ]\r\n    }\r\n]\r\n```\r\n\r\nMy Activity fetches this JSON from an API using Retrofit2\r\n```\r\n    private void parseJson() {\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;https://www.openligadb.de/api/&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n\r\n        RequestInterface request = retrofit.create(RequestInterface.class);\r\n        Call&lt;List&lt;Match&gt;&gt; call=request.getMatchJson();\r\n        call.enqueue(new Callback&lt;List&lt;Match&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;List&lt;Match&gt;&gt; call, Response&lt;List&lt;Match&gt;&gt; response) {\r\n                if (response.isSuccessful() &amp;&amp; response.body() != null) {\r\n                    matchList = new ArrayList&lt;&gt;(response.body());\r\n                    matchAdapter = new MatchAdapter(matchList, ActivityMatch.this);\r\n                    mRecyclerView.setAdapter(matchAdapter);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;List&lt;Match&gt;&gt; call, Throwable t) {\r\n                Log.println(Log.ERROR, &quot;FAILED&quot;, String.valueOf(t));\r\n                Toast.makeText(ActivityMatch.this, &quot;Oops! Somehting went wrong!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nMy MatchAdapter is then parsing this Data for the View. Here I want to display whatever is the first in MatchResults then using PointsTeam1 and PointsTeam2 to display something like &quot;4 : 0&quot;\r\n\r\nNow in my ModelClass accessing direct Values like the TeamName and TeamIconUrl worked but I am struggeling to get to the first entry of the Array and am really stuck on even how to properly approach this issue.\r\n\r\nThe Adapter Class:\r\n```\r\npublic class MatchAdapter extends RecyclerView.Adapter&lt;MatchAdapter.MatchHolder&gt;{\r\n\r\n    private ArrayList&lt;Match&gt; matchList;\r\n    private Context context;\r\n\r\n    public MatchAdapter(ArrayList&lt;Match&gt; matchList, Context context) {\r\n        this.context = context;\r\n        this.matchList = matchList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MatchAdapter.MatchHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int viewType) {\r\n        View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.match_list_row_layout, viewGroup, false);\r\n        return new MatchHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MatchAdapter.MatchHolder holder, int position) {\r\n        holder.tvTeam1name.setText(matchList.get(position).Team1.TeamName);\r\n        holder.tvTeam2name.setText(matchList.get(position).Team2.TeamName);\r\n        Glide.with(context).load(matchList.get(position).Team1.TeamIconUrl).into(holder.ivTeam1Logo);\r\n        Glide.with(context).load(matchList.get(position).Team2.TeamIconUrl).into(holder.ivTeam2Logo);\r\n        //This is not working\r\n        holder.tvResult.setText(matchList.get(position).MatchResults.PointsTeam1 + &quot; : &quot; + matchList.get(position).MatchResults.PointsTeam2);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return matchList.size();\r\n    }\r\n\r\n    public class MatchHolder extends RecyclerView.ViewHolder {\r\n        private TextView tvTeam1name, tvTeam2name, tvResult;\r\n        private ImageView ivTeam1Logo, ivTeam2Logo;\r\n\r\n        public MatchHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            tvTeam1name = itemView.findViewById(R.id.tv_team1name);\r\n            tvTeam2name = itemView.findViewById(R.id.tv_team2name);\r\n            tvResult = itemView.findViewById(R.id.tv_result);\r\n            ivTeam1Logo = itemView.findViewById(R.id.iv_team1logo);\r\n            ivTeam2Logo = itemView.findViewById(R.id.iv_team2logo);\r\n        }\r\n    }\r\n}\r\n```\r\nMy ModelClass (Left out Getters/Setters for Readability)\r\n```\r\npackage de.eahjena.app.wi.fussball;\r\n\r\npublic class Match {\r\n    Team Team1;\r\n    Team Team2;\r\n    MatchResults MatchResults;\r\n\r\n    public Match(Team Team1, Team Team2, MatchResults MatchResults) {\r\n        this.Team1 = Team1;\r\n        this.Team2 = Team2;\r\n        this.MatchResults = MatchResults;\r\n    }\r\n\r\n}\r\n\r\nclass Team {\r\n    String TeamName;\r\n    String TeamIconUrl;\r\n\r\n    public Team (String TeamName, String TeamIconUrl) {\r\n        this.TeamName = TeamName;\r\n        this.TeamIconUrl = TeamIconUrl;\r\n    }\r\n}\r\n\r\nclass MatchResults {\r\n    String PointsTeam1;\r\n    String PointsTeam2;\r\n\r\n    public MatchResults(String PointsTeam1, String PointsTeam2) {\r\n        this.PointsTeam1 = PointsTeam1;\r\n        this.PointsTeam2 = PointsTeam2;\r\n    }\r\n}\r\n```\r\n","title":"Android Java - Parse Array Entry of JSON into Recycler View","body":"<p>I am trying to parse a Block of JSON into a RecyclerView. So far I was able to achieve this with a quite flat JSON Structure. But now I have an Array-Entry in my JSON File where I always want to get the first Entry.\nThe JSON looks like this:</p>\n<pre><code>[    \n    {\n        &quot;MatchID&quot;: 60989,\n        &quot;Team1&quot;: {\n            &quot;TeamName&quot;: &quot;FC Bayern München&quot;,\n            &quot;TeamIconUrl&quot;: &quot;https://i.imgur.com/jJEsJrj.png&quot;\n        },\n        &quot;Team2&quot;: {\n            &quot;TeamName&quot;: &quot;VfL Wolfsburg&quot;,\n            &quot;TeamIconUrl&quot;: &quot;https://i.imgur.com/ucqKV4B.png&quot;\n        },\n        &quot;MatchResults&quot;: [\n            {\n                &quot;PointsTeam1&quot;: 4,\n                &quot;PointsTeam2&quot;: 0,\n                &quot;ResultOrderID&quot;: 1\n            },\n            {\n                &quot;PointsTeam1&quot;: 1,\n                &quot;PointsTeam2&quot;: 0,\n                &quot;ResultOrderID&quot;: 2\n            }\n        ]\n    },\n    {\n        &quot;MatchID&quot;: 60990,\n        &quot;Team1&quot;: {\n            &quot;TeamName&quot;: &quot;VfL Bochum&quot;,\n            &quot;TeamIconUrl&quot;: &quot;https://i.imgur.com/5jy3Gfr.png&quot;\n        },\n        &quot;Team2&quot;: {\n            &quot;TeamName&quot;: &quot;1. FC Union Berlin&quot;,\n            &quot;TeamIconUrl&quot;: &quot;https://upload.wikimedia.org/wikipedia/commons/4/44/1._FC_Union_Berlin_Logo.svg&quot;\n        },\n        &quot;MatchResults&quot;: [\n            {\n                &quot;PointsTeam1&quot;: 0,\n                &quot;PointsTeam2&quot;: 1,\n                &quot;ResultOrderID&quot;: 1\n            },\n            {\n                &quot;PointsTeam1&quot;: 0,\n                &quot;PointsTeam2&quot;: 1,\n                &quot;ResultOrderID&quot;: 2\n            }\n        ]\n    }\n]\n</code></pre>\n<p>My Activity fetches this JSON from an API using Retrofit2</p>\n<pre><code>    private void parseJson() {\n        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(&quot;https://www.openligadb.de/api/&quot;)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n\n        RequestInterface request = retrofit.create(RequestInterface.class);\n        Call&lt;List&lt;Match&gt;&gt; call=request.getMatchJson();\n        call.enqueue(new Callback&lt;List&lt;Match&gt;&gt;() {\n            @Override\n            public void onResponse(Call&lt;List&lt;Match&gt;&gt; call, Response&lt;List&lt;Match&gt;&gt; response) {\n                if (response.isSuccessful() &amp;&amp; response.body() != null) {\n                    matchList = new ArrayList&lt;&gt;(response.body());\n                    matchAdapter = new MatchAdapter(matchList, ActivityMatch.this);\n                    mRecyclerView.setAdapter(matchAdapter);\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;List&lt;Match&gt;&gt; call, Throwable t) {\n                Log.println(Log.ERROR, &quot;FAILED&quot;, String.valueOf(t));\n                Toast.makeText(ActivityMatch.this, &quot;Oops! Somehting went wrong!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n</code></pre>\n<p>My MatchAdapter is then parsing this Data for the View. Here I want to display whatever is the first in MatchResults then using PointsTeam1 and PointsTeam2 to display something like &quot;4 : 0&quot;</p>\n<p>Now in my ModelClass accessing direct Values like the TeamName and TeamIconUrl worked but I am struggeling to get to the first entry of the Array and am really stuck on even how to properly approach this issue.</p>\n<p>The Adapter Class:</p>\n<pre><code>public class MatchAdapter extends RecyclerView.Adapter&lt;MatchAdapter.MatchHolder&gt;{\n\n    private ArrayList&lt;Match&gt; matchList;\n    private Context context;\n\n    public MatchAdapter(ArrayList&lt;Match&gt; matchList, Context context) {\n        this.context = context;\n        this.matchList = matchList;\n    }\n\n    @NonNull\n    @Override\n    public MatchAdapter.MatchHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int viewType) {\n        View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.match_list_row_layout, viewGroup, false);\n        return new MatchHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MatchAdapter.MatchHolder holder, int position) {\n        holder.tvTeam1name.setText(matchList.get(position).Team1.TeamName);\n        holder.tvTeam2name.setText(matchList.get(position).Team2.TeamName);\n        Glide.with(context).load(matchList.get(position).Team1.TeamIconUrl).into(holder.ivTeam1Logo);\n        Glide.with(context).load(matchList.get(position).Team2.TeamIconUrl).into(holder.ivTeam2Logo);\n        //This is not working\n        holder.tvResult.setText(matchList.get(position).MatchResults.PointsTeam1 + &quot; : &quot; + matchList.get(position).MatchResults.PointsTeam2);\n    }\n\n    @Override\n    public int getItemCount() {\n        return matchList.size();\n    }\n\n    public class MatchHolder extends RecyclerView.ViewHolder {\n        private TextView tvTeam1name, tvTeam2name, tvResult;\n        private ImageView ivTeam1Logo, ivTeam2Logo;\n\n        public MatchHolder(@NonNull View itemView) {\n            super(itemView);\n            tvTeam1name = itemView.findViewById(R.id.tv_team1name);\n            tvTeam2name = itemView.findViewById(R.id.tv_team2name);\n            tvResult = itemView.findViewById(R.id.tv_result);\n            ivTeam1Logo = itemView.findViewById(R.id.iv_team1logo);\n            ivTeam2Logo = itemView.findViewById(R.id.iv_team2logo);\n        }\n    }\n}\n</code></pre>\n<p>My ModelClass (Left out Getters/Setters for Readability)</p>\n<pre><code>package de.eahjena.app.wi.fussball;\n\npublic class Match {\n    Team Team1;\n    Team Team2;\n    MatchResults MatchResults;\n\n    public Match(Team Team1, Team Team2, MatchResults MatchResults) {\n        this.Team1 = Team1;\n        this.Team2 = Team2;\n        this.MatchResults = MatchResults;\n    }\n\n}\n\nclass Team {\n    String TeamName;\n    String TeamIconUrl;\n\n    public Team (String TeamName, String TeamIconUrl) {\n        this.TeamName = TeamName;\n        this.TeamIconUrl = TeamIconUrl;\n    }\n}\n\nclass MatchResults {\n    String PointsTeam1;\n    String PointsTeam2;\n\n    public MatchResults(String PointsTeam1, String PointsTeam2) {\n        this.PointsTeam1 = PointsTeam1;\n        this.PointsTeam2 = PointsTeam2;\n    }\n}\n</code></pre>\n"},{"tags":["java","batch-file"],"comments":[{"owner":{"account_id":3780719,"reputation":495,"user_id":3140274,"display_name":"Sbls"},"score":0,"creation_date":1388246844,"post_id":20816476,"comment_id":31213474,"body_markdown":"You can run the .jar with `java -jar program.jar`","body":"You can run the .jar with <code>java -jar program.jar</code>"},{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1388246901,"post_id":20816476,"comment_id":31213495,"body_markdown":"@Sbls: But there is no Jar here.","body":"@Sbls: But there is no Jar here."},{"owner":{"account_id":2585708,"reputation":3215,"user_id":2241463,"accept_rate":84,"display_name":"Piovezan"},"score":1,"creation_date":1388246994,"post_id":20816476,"comment_id":31213528,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/988403/stop-a-batch-file-from-autoclosing","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/988403/stop-a-batch-file-from-autoclosing\" title=\"stop a batch file from autoclosing\">stackoverflow.com/questions/988403/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":766480,"reputation":1316,"user_id":795870,"display_name":"sachin garg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1388247085,"creation_date":1388247085,"answer_id":20816558,"question_id":20816476,"body_markdown":"use `PAUSE` at end of your batch file","title":"How to run java program using a .bat file exactly?","body":"<p>use <code>PAUSE</code> at end of your batch file</p>\n"}],"owner":{"account_id":3783502,"reputation":1,"user_id":3142242,"display_name":"user3142242"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640669368,"creation_date":1388246658,"question_id":20816476,"body_markdown":"Using\r\n\r\n    @echo off\r\n    javac source.java\r\n    java source\r\n\r\nI am able to create source.class file and also run but the out window is not persisting...\r\nWhen `java` source executes the `cmd` just blinks and goes off but I want that window visible until we close it. Please help me how to do it?\r\nThanks in advance","title":"How to run java program using a .bat file exactly?","body":"<p>Using</p>\n\n<pre><code>@echo off\njavac source.java\njava source\n</code></pre>\n\n<p>I am able to create source.class file and also run but the out window is not persisting...\nWhen <code>java</code> source executes the <code>cmd</code> just blinks and goes off but I want that window visible until we close it. Please help me how to do it?\nThanks in advance</p>\n"},{"tags":["java","hibernate","interceptor","hibernate-5"],"comments":[{"owner":{"account_id":468677,"reputation":7486,"user_id":874814,"display_name":"Babl"},"score":1,"creation_date":1640201191,"post_id":70402034,"comment_id":124542017,"body_markdown":"Can you share the code where you are registering the interceptor within your session factory.","body":"Can you share the code where you are registering the interceptor within your session factory."},{"owner":{"account_id":6150867,"reputation":383,"user_id":4795306,"display_name":"satya prakash Panigrahi"},"score":0,"creation_date":1640331936,"post_id":70402034,"comment_id":124570985,"body_markdown":"You are right. That part is missing. Strangely, the existing setup is working fine with Hibernate3 jars.\nI did some googling &amp; found out different ways of registering Interceptor object.\nCan you share a simple code of how to register Hibernate Interceptor with my Session Object? I will try that and update my findings here.","body":"You are right. That part is missing. Strangely, the existing setup is working fine with Hibernate3 jars. I did some googling &amp; found out different ways of registering Interceptor object. Can you share a simple code of how to register Hibernate Interceptor with my Session Object? I will try that and update my findings here."},{"owner":{"account_id":468677,"reputation":7486,"user_id":874814,"display_name":"Babl"},"score":0,"creation_date":1640332084,"post_id":70402034,"comment_id":124571017,"body_markdown":"There is no autoscan kinda thing, so it should be registered somehow ) But in your case if your interceptor is thread-safe just set it on your session factory config and it should start working.","body":"There is no autoscan kinda thing, so it should be registered somehow ) But in your case if your interceptor is thread-safe just set it on your session factory config and it should start working."},{"owner":{"account_id":6150867,"reputation":383,"user_id":4795306,"display_name":"satya prakash Panigrahi"},"score":0,"creation_date":1640332312,"post_id":70402034,"comment_id":124571046,"body_markdown":"I would prefer registering my Interceptor with Session instance (everytime I open a new Session) rather than doing it at the Initial Configuration time. Would that be Okay?","body":"I would prefer registering my Interceptor with Session instance (everytime I open a new Session) rather than doing it at the Initial Configuration time. Would that be Okay?"},{"owner":{"account_id":468677,"reputation":7486,"user_id":874814,"display_name":"Babl"},"score":1,"creation_date":1640332342,"post_id":70402034,"comment_id":124571052,"body_markdown":"Yes, no difference ....","body":"Yes, no difference ...."}],"answers":[{"tags":[],"owner":{"account_id":2740481,"reputation":539,"user_id":2362206,"display_name":"Noman ali abbasi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640669251,"creation_date":1640669251,"answer_id":70503097,"question_id":70402034,"body_markdown":"Could you please try with the following:\r\n\r\n    Session session = sessionFactory.withOptions()\r\n                      .interceptor(new CustomInterceptor())\r\n                      .openSession();","title":"Hibernate Interceptor not working after upgrading to Hibernate 5","body":"<p>Could you please try with the following:</p>\n<pre><code>Session session = sessionFactory.withOptions()\n                  .interceptor(new CustomInterceptor())\n                  .openSession();\n</code></pre>\n"}],"owner":{"account_id":6150867,"reputation":383,"user_id":4795306,"display_name":"satya prakash Panigrahi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70503097,"answer_count":1,"score":5,"last_activity_date":1640669251,"creation_date":1639816868,"question_id":70402034,"body_markdown":"Earlier my Interceptor code was working fine for Hibernate 3. After I upgraded to Hibernate 5 and made the necessary changes, callback methods like onSave &amp; onFlushDirty stopped working.\r\n\r\nRegarding library changes, below Hibernate 3 jars I replaced with Hibernate 5 jars.\r\n\r\nHibernate 3 jars replaced-\r\n- dom4j.jar\r\n- hibernate-core-4.3.5.Final.jar\r\n- hibernate-jpa-2.1-api-1.0.0.Final.jar\r\n- jboss-logging.jar\r\n\r\nHibernate 5 jars added-\r\n+ byte-buddy-1.9.5.jar\r\n+ classmate-1.3.4.jar\r\n+ dom4j-2.1.1.jar\r\n+ hibernate-commons-annotations-5.1.0.Final.jar\r\n+ hibernate-core-5.4.1.Final.jar\r\n+ javax.persistence-api-2.2.jar\r\n+ javax.transaction.jar \r\n+ jboss-logging-3.3.2.Final.jar\r\n\r\nBelow is my Interceptor code-\r\n```\r\npublic class CustomInterceptor extends EmptyInterceptor {\r\n\r\n@Override\r\npublic boolean onFlushDirty(Object entity, Serializable id, Object[] currentState, Object[] previousState, String[] propertyNames, Type[] types) {\r\n\tSystem.out.println(&quot;onFlushDirty called&quot;);\r\n\treturn super.onFlushDirty(entity, id, currentState, previousState, propertyNames, types);\r\n}\r\n\r\n@Override\r\npublic boolean onSave(Object entity, Serializable id, Object[] state, String[] propertyNames, Type[] types) {\r\n\tSystem.out.println(&quot;onSavecalled&quot;);\r\n\treturn super.onSave(entity, id, state, propertyNames, types);\r\n}\r\n}\r\n```\r\n\r\nIf someone can point out what I am missing or any correction that I need to make, it would be very helpful.\r\n&gt; Please Note- Entire Application is working smoothly except that Interceptor Callback methods are not getting called.","title":"Hibernate Interceptor not working after upgrading to Hibernate 5","body":"<p>Earlier my Interceptor code was working fine for Hibernate 3. After I upgraded to Hibernate 5 and made the necessary changes, callback methods like onSave &amp; onFlushDirty stopped working.</p>\n<p>Regarding library changes, below Hibernate 3 jars I replaced with Hibernate 5 jars.</p>\n<p>Hibernate 3 jars replaced-</p>\n<ul>\n<li>dom4j.jar</li>\n<li>hibernate-core-4.3.5.Final.jar</li>\n<li>hibernate-jpa-2.1-api-1.0.0.Final.jar</li>\n<li>jboss-logging.jar</li>\n</ul>\n<p>Hibernate 5 jars added-</p>\n<ul>\n<li>byte-buddy-1.9.5.jar</li>\n<li>classmate-1.3.4.jar</li>\n<li>dom4j-2.1.1.jar</li>\n<li>hibernate-commons-annotations-5.1.0.Final.jar</li>\n<li>hibernate-core-5.4.1.Final.jar</li>\n<li>javax.persistence-api-2.2.jar</li>\n<li>javax.transaction.jar</li>\n<li>jboss-logging-3.3.2.Final.jar</li>\n</ul>\n<p>Below is my Interceptor code-</p>\n<pre><code>public class CustomInterceptor extends EmptyInterceptor {\n\n@Override\npublic boolean onFlushDirty(Object entity, Serializable id, Object[] currentState, Object[] previousState, String[] propertyNames, Type[] types) {\n    System.out.println(&quot;onFlushDirty called&quot;);\n    return super.onFlushDirty(entity, id, currentState, previousState, propertyNames, types);\n}\n\n@Override\npublic boolean onSave(Object entity, Serializable id, Object[] state, String[] propertyNames, Type[] types) {\n    System.out.println(&quot;onSavecalled&quot;);\n    return super.onSave(entity, id, state, propertyNames, types);\n}\n}\n</code></pre>\n<p>If someone can point out what I am missing or any correction that I need to make, it would be very helpful.</p>\n<blockquote>\n<p>Please Note- Entire Application is working smoothly except that Interceptor Callback methods are not getting called.</p>\n</blockquote>\n"},{"tags":["java","android","exception","zip","zip4j"],"answers":[{"tags":[],"owner":{"account_id":233671,"reputation":1377,"user_id":499321,"accept_rate":100,"display_name":"lord.didger"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1479315624,"creation_date":1479315624,"answer_id":40637963,"question_id":38455387,"body_markdown":"I came across very similar stacktrace. However, I use java and zip4j in version 1.3.2 on desktop. I am not sure how my answer is relevant to android but here it goes.\r\n\r\nMy stacktrace\r\n\r\n    Caused by: net.lingala.zip4j.exception.ZipException: Probably not a zip file or a corrupted zip file\r\n            at net.lingala.zip4j.core.HeaderReader.readEndOfCentralDirectoryRecord(HeaderReader.java:179)\r\n            at net.lingala.zip4j.core.HeaderReader.readAllHeaders(HeaderReader.java:78)\r\n            at net.lingala.zip4j.core.ZipFile.readZipInfo(ZipFile.java:425)\r\n            at net.lingala.zip4j.core.ZipFile.checkZipModel(ZipFile.java:935)\r\n            at net.lingala.zip4j.core.ZipFile.addFolder(ZipFile.java:343)\r\n            at net.lingala.zip4j.core.ZipFile.addFolder(ZipFile.java:330)\r\n    Caused by: java.io.IOException: Negative seek offset\r\n            at java.io.RandomAccessFile.seek(RandomAccessFile.java:555)\r\n            at net.lingala.zip4j.core.HeaderReader.readEndOfCentralDirectoryRecord(HeaderReader.java:117)\r\n            at net.lingala.zip4j.core.HeaderReader.readAllHeaders(HeaderReader.java:78)\r\n\r\nI use zip4j like this\r\n\r\n    Path destination = Files.createTempFile(&quot;export&quot;, &quot;.zip&quot;);\r\n    ZipFile zip = new ZipFile(destination.toFile());\r\n\r\nTo fix the problem I changed to\r\n\r\n    File destination = new File(System.getProperty(&quot;java.io.tmpdir&quot;), UUID.randomUUID().toString());\r\n    ZipFile zip = new ZipFile(destination);\r\n\r\nThe difference is Files.createTempFile() creates empty file and the file must screw up `ZipFile`&#39;s constructor. When I passed `File` with unoccupied path, the problem was gone.","title":"Exception when create zipFile in Android with Zip4j: Probably not a zip file or a corrupted zip file","body":"<p>I came across very similar stacktrace. However, I use java and zip4j in version 1.3.2 on desktop. I am not sure how my answer is relevant to android but here it goes.</p>\n\n<p>My stacktrace</p>\n\n<pre><code>Caused by: net.lingala.zip4j.exception.ZipException: Probably not a zip file or a corrupted zip file\n        at net.lingala.zip4j.core.HeaderReader.readEndOfCentralDirectoryRecord(HeaderReader.java:179)\n        at net.lingala.zip4j.core.HeaderReader.readAllHeaders(HeaderReader.java:78)\n        at net.lingala.zip4j.core.ZipFile.readZipInfo(ZipFile.java:425)\n        at net.lingala.zip4j.core.ZipFile.checkZipModel(ZipFile.java:935)\n        at net.lingala.zip4j.core.ZipFile.addFolder(ZipFile.java:343)\n        at net.lingala.zip4j.core.ZipFile.addFolder(ZipFile.java:330)\nCaused by: java.io.IOException: Negative seek offset\n        at java.io.RandomAccessFile.seek(RandomAccessFile.java:555)\n        at net.lingala.zip4j.core.HeaderReader.readEndOfCentralDirectoryRecord(HeaderReader.java:117)\n        at net.lingala.zip4j.core.HeaderReader.readAllHeaders(HeaderReader.java:78)\n</code></pre>\n\n<p>I use zip4j like this</p>\n\n<pre><code>Path destination = Files.createTempFile(\"export\", \".zip\");\nZipFile zip = new ZipFile(destination.toFile());\n</code></pre>\n\n<p>To fix the problem I changed to</p>\n\n<pre><code>File destination = new File(System.getProperty(\"java.io.tmpdir\"), UUID.randomUUID().toString());\nZipFile zip = new ZipFile(destination);\n</code></pre>\n\n<p>The difference is Files.createTempFile() creates empty file and the file must screw up <code>ZipFile</code>'s constructor. When I passed <code>File</code> with unoccupied path, the problem was gone.</p>\n"},{"tags":[],"owner":{"account_id":11361979,"reputation":9,"user_id":8329885,"display_name":"xiaotianrou"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1500893309,"creation_date":1500889371,"answer_id":45277216,"question_id":38455387,"body_markdown":"I met with the same question because of I used AES encryption but didn&#39;t set the parameters AES data key. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n  [2]: https://i.stack.imgur.com/ikUR3.png","title":"Exception when create zipFile in Android with Zip4j: Probably not a zip file or a corrupted zip file","body":"<p>I met with the same question because of I used AES encryption but didn't set the parameters AES data key. </p>\n\n<p><a href=\"https://i.stack.imgur.com/ikUR3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ikUR3.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":23012720,"reputation":216,"user_id":17135014,"display_name":"Mudit Goel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640668499,"creation_date":1640668499,"answer_id":70503027,"question_id":38455387,"body_markdown":"The working code for this along with the password protected zip is :\r\n\r\n    File dbFile = new File(ctx.getExternalFilesDir(&quot;&quot;) + File.separator +\r\n    \t\t\t\t\t\tAppConstants.DB_PATH + File.separator + AppConstants.DB_NAME);\r\n    zipName = AppConstants.DB_NAME + &quot;-&quot; + getCurrentDateTime() + &quot;.zip&quot;;\r\n    ZipFile zipFile = new ZipFile(folderPath + File.separator + zipName);\r\n    \r\n    ZipParameters parameters = new ZipParameters();\r\n    parameters.setCompressionMethod(Zip4jConstants.COMP_DEFLATE);\r\n    parameters.setCompressionLevel(Zip4jConstants.DEFLATE_LEVEL_NORMAL);\r\n    parameters.setEncryptFiles(true);\r\n    parameters.setEncryptionMethod(Zip4jConstants.ENC_METHOD_AES);\r\n    parameters.setAesKeyStrength(Zip4jConstants.AES_STRENGTH_256);\r\n    parameters.setPassword(AppUtil.decodeStr(AppConstants.DB_PASSWORD));\r\n    zipFile.addFile(dbFile, parameters);\r\n\r\nHowever the issue may still appear because of the following reasons:\r\n\r\n - Either the source file does not exists while adding to zipFile,\r\n - The app do not have permissions to read the source file,\r\n - The target zip file might consist of special symbols or space in the\r\n   file name.","title":"Exception when create zipFile in Android with Zip4j: Probably not a zip file or a corrupted zip file","body":"<p>The working code for this along with the password protected zip is :</p>\n<pre><code>File dbFile = new File(ctx.getExternalFilesDir(&quot;&quot;) + File.separator +\n                        AppConstants.DB_PATH + File.separator + AppConstants.DB_NAME);\nzipName = AppConstants.DB_NAME + &quot;-&quot; + getCurrentDateTime() + &quot;.zip&quot;;\nZipFile zipFile = new ZipFile(folderPath + File.separator + zipName);\n\nZipParameters parameters = new ZipParameters();\nparameters.setCompressionMethod(Zip4jConstants.COMP_DEFLATE);\nparameters.setCompressionLevel(Zip4jConstants.DEFLATE_LEVEL_NORMAL);\nparameters.setEncryptFiles(true);\nparameters.setEncryptionMethod(Zip4jConstants.ENC_METHOD_AES);\nparameters.setAesKeyStrength(Zip4jConstants.AES_STRENGTH_256);\nparameters.setPassword(AppUtil.decodeStr(AppConstants.DB_PASSWORD));\nzipFile.addFile(dbFile, parameters);\n</code></pre>\n<p>However the issue may still appear because of the following reasons:</p>\n<ul>\n<li>Either the source file does not exists while adding to zipFile,</li>\n<li>The app do not have permissions to read the source file,</li>\n<li>The target zip file might consist of special symbols or space in the\nfile name.</li>\n</ul>\n"}],"owner":{"account_id":8847390,"reputation":23,"user_id":6607747,"display_name":"Mic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6430,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":40637963,"answer_count":3,"score":2,"last_activity_date":1640668499,"creation_date":1468922690,"question_id":38455387,"body_markdown":"I meet a problem when using zip4j library to generate zipfile in android, here&#39;s the code :\r\n\r\n    try {\r\n        ZipFile zipFile = new ZipFile(dest);\r\n        zipFile.setFileNameCharset(&quot;GBK&quot;);\r\n        if (srcFile.isDirectory()) {\r\n            zipFile.addFolder(srcFile, parameters);\r\n        } else {\r\n            zipFile.addFile(srcFile, parameters);\r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nand I got the Exception msg:\r\n\r\n        net.lingala.zip4j.exception.ZipException: Probably not a zip file or a corrupted zip file\r\n        at net.lingala.zip4j.core.HeaderReader.readEndOfCentralDirectoryRecord(HeaderReader.java:179)\r\n        at net.lingala.zip4j.core.HeaderReader.readAllHeaders(HeaderReader.java:78)\r\n        at net.lingala.zip4j.core.ZipFile.readZipInfo(ZipFile.java:425)\r\n        at net.lingala.zip4j.core.ZipFile.checkZipModel(ZipFile.java:935)\r\n        at net.lingala.zip4j.core.ZipFile.addFiles(ZipFile.java:263)\r\n        at net.lingala.zip4j.core.ZipFile.addFile(ZipFile.java:250)\r\n    Caused by: java.io.IOException: Negative seek offset\r\n        at java.io.RandomAccessFile.seek(RandomAccessFile.java:555)\r\n        at net.lingala.zip4j.core.HeaderReader.readEndOfCentralDirectoryRecord(HeaderReader.java:117)\r\n\r\nThis code works perfect in Eclipse for local files, but does not work well in Android, I&#39;m pretty sure the destination .zip path is correct, and the zip4j library version is 1.3.2.\r\n\r\ncould anyone give me any suggestion?\r\n\r\n","title":"Exception when create zipFile in Android with Zip4j: Probably not a zip file or a corrupted zip file","body":"<p>I meet a problem when using zip4j library to generate zipfile in android, here's the code :</p>\n\n<pre><code>try {\n    ZipFile zipFile = new ZipFile(dest);\n    zipFile.setFileNameCharset(\"GBK\");\n    if (srcFile.isDirectory()) {\n        zipFile.addFolder(srcFile, parameters);\n    } else {\n        zipFile.addFile(srcFile, parameters);\n    }\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>and I got the Exception msg:</p>\n\n<pre><code>    net.lingala.zip4j.exception.ZipException: Probably not a zip file or a corrupted zip file\n    at net.lingala.zip4j.core.HeaderReader.readEndOfCentralDirectoryRecord(HeaderReader.java:179)\n    at net.lingala.zip4j.core.HeaderReader.readAllHeaders(HeaderReader.java:78)\n    at net.lingala.zip4j.core.ZipFile.readZipInfo(ZipFile.java:425)\n    at net.lingala.zip4j.core.ZipFile.checkZipModel(ZipFile.java:935)\n    at net.lingala.zip4j.core.ZipFile.addFiles(ZipFile.java:263)\n    at net.lingala.zip4j.core.ZipFile.addFile(ZipFile.java:250)\nCaused by: java.io.IOException: Negative seek offset\n    at java.io.RandomAccessFile.seek(RandomAccessFile.java:555)\n    at net.lingala.zip4j.core.HeaderReader.readEndOfCentralDirectoryRecord(HeaderReader.java:117)\n</code></pre>\n\n<p>This code works perfect in Eclipse for local files, but does not work well in Android, I'm pretty sure the destination .zip path is correct, and the zip4j library version is 1.3.2.</p>\n\n<p>could anyone give me any suggestion?</p>\n"},{"tags":["java","for-loop","math","sum","bernoulli-numbers"],"comments":[{"owner":{"account_id":8984727,"reputation":2962,"user_id":6698642,"display_name":"shriakhilc"},"score":0,"creation_date":1640575310,"post_id":70491209,"comment_id":124607343,"body_markdown":"As a side note you can definitely look into caching/memoization of factorial results to speed up the program, because that is being computed repeatedly. But that is not a bug, since you are getting a result. None of these calculations should overflow `double` at n=14. It would be helpful if you can share more about the expected vs actual results for each n value.","body":"As a side note you can definitely look into caching/memoization of factorial results to speed up the program, because that is being computed repeatedly. But that is not a bug, since you are getting a result. None of these calculations should overflow <code>double</code> at n=14. It would be helpful if you can share more about the expected vs actual results for each n value."},{"owner":{"account_id":23753589,"reputation":3,"user_id":17769994,"display_name":"Babai08"},"score":0,"creation_date":1640576088,"post_id":70491209,"comment_id":124607415,"body_markdown":"Expected values are on the Wolfram article.","body":"Expected values are on the Wolfram article."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1640577439,"post_id":70491209,"comment_id":124607568,"body_markdown":"Put any necessary information in your question. And I doubt that the Wolfram article tells us what numbers you are actually seeing.","body":"Put any necessary information in your question. And I doubt that the Wolfram article tells us what numbers you are actually seeing."},{"owner":{"account_id":23753589,"reputation":3,"user_id":17769994,"display_name":"Babai08"},"score":0,"creation_date":1640578209,"post_id":70491209,"comment_id":124607648,"body_markdown":"Sorry, it&#39;s pretty accurate up until 13, all odd numbers should be 0 besides 1 but the values past 14 give weird values. For instance 14 gives a number like 0.9 when it should give something around 7/6 and say 22 gives a very negative number in the order of 10^-4. The odd numbers give strange values like 15 gives around -11.","body":"Sorry, it&#39;s pretty accurate up until 13, all odd numbers should be 0 besides 1 but the values past 14 give weird values. For instance 14 gives a number like 0.9 when it should give something around 7/6 and say 22 gives a very negative number in the order of 10^-4. The odd numbers give strange values like 15 gives around -11."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1640583402,"post_id":70491209,"comment_id":124608345,"body_markdown":"I think that large intermediate values are pushing precision you need in the final result out of the mantissa.","body":"I think that large intermediate values are pushing precision you need in the final result out of the mantissa."},{"owner":{"account_id":23753589,"reputation":3,"user_id":17769994,"display_name":"Babai08"},"score":0,"creation_date":1640583522,"post_id":70491209,"comment_id":124608379,"body_markdown":"So do you think its the size of the factorial because yeah 14! is big","body":"So do you think its the size of the factorial because yeah 14! is big"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640668473,"creation_date":1640584936,"answer_id":70492158,"question_id":70491209,"body_markdown":"The problem here is that floating point arithmetic doesn&#39;t need to overflow to experience catastrophic loss of precision.\r\n\r\nA floating point number has a mantissa and an exponent, where the value of the number is mantissa * 10^exponent (real floating point numbers use binary, I&#39;m using decimal). The mantissa has limited precision.\r\n\r\nWhen we add floating point numbers of different signs we can end up with a final result which has lost precision.\r\n\r\ne.g. let&#39;s say the mantissa is 4 digits.\r\nIf we add:\r\n\r\n1.001 x 10^3 + 1.000 x 10^4 - 1.000 x 10^4\r\n\r\nwe expect to get 1.001 x 10^3.\r\nBut 1.001 x 10^3 + 1.000 x 10^4 = 11.001 x 10^3, which is represented as 1.100 x 10^4, given that our mantissa has only 4 digits.\r\n\r\nSo when we subtract 1.000 x 10^4 we get 0.100 x 10^4, which is represented as 1.000 x 10^3 rather than 1.001 x 10^3.\r\n\r\nHere&#39;s an implementation using `BigDecimal` which gives better results (and is far slower).\r\n```\r\nimport java.math.BigDecimal;\r\nimport java.math.RoundingMode;\r\n\r\npublic class App {\r\n    public static double bernoulliNumber2(int n) {\r\n        BigDecimal bernoulliN = new BigDecimal(0);\r\n        for (long k = 0; k &lt;= n; k++) {\r\n            bernoulliN = bernoulliN.add(sum2(k,n));\r\n            //System.out.println(&quot;B:&quot; + bernoulliN);\r\n        }\r\n        return bernoulliN.doubleValue();\r\n    }\r\n    public static BigDecimal sum2(long k, int n) {\r\n        BigDecimal result = BigDecimal.ZERO;\r\n\r\n        for (long v = 0; v &lt;= k; v++) {\r\n            BigDecimal vTon = BigDecimal.valueOf(v).pow(n);\r\n            result = result.add(BigDecimal.valueOf(Math.pow(-1, v)).multiply(nCr(k,v)).multiply(vTon).divide(BigDecimal.valueOf(k + 1), 1000, RoundingMode.HALF_EVEN));\r\n        }\r\n        return result;\r\n    }\r\n    public static BigDecimal nCr(long n, long r) {\r\n        return factorial(n).divide(factorial(n - r)).divide(factorial(r));\r\n    }\r\n    public static BigDecimal factorial(long n) {\r\n        if (n == 0) return BigDecimal.ONE;\r\n        else return factorial(n-1).multiply(BigDecimal.valueOf(n));\r\n    }\r\n    public static void main(String[] args) {\r\n        for (int i = 0; i &lt; 20; i++) {\r\n            System.out.println(i + &quot;: &quot; + bernoulliNumber2(i));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nTry changing the scale passed to the division in `sum2` and watch the effect on the output.","title":"Issues with accuracy with Bernoulli Number generator in java","body":"<p>The problem here is that floating point arithmetic doesn't need to overflow to experience catastrophic loss of precision.</p>\n<p>A floating point number has a mantissa and an exponent, where the value of the number is mantissa * 10^exponent (real floating point numbers use binary, I'm using decimal). The mantissa has limited precision.</p>\n<p>When we add floating point numbers of different signs we can end up with a final result which has lost precision.</p>\n<p>e.g. let's say the mantissa is 4 digits.\nIf we add:</p>\n<p>1.001 x 10^3 + 1.000 x 10^4 - 1.000 x 10^4</p>\n<p>we expect to get 1.001 x 10^3.\nBut 1.001 x 10^3 + 1.000 x 10^4 = 11.001 x 10^3, which is represented as 1.100 x 10^4, given that our mantissa has only 4 digits.</p>\n<p>So when we subtract 1.000 x 10^4 we get 0.100 x 10^4, which is represented as 1.000 x 10^3 rather than 1.001 x 10^3.</p>\n<p>Here's an implementation using <code>BigDecimal</code> which gives better results (and is far slower).</p>\n<pre><code>import java.math.BigDecimal;\nimport java.math.RoundingMode;\n\npublic class App {\n    public static double bernoulliNumber2(int n) {\n        BigDecimal bernoulliN = new BigDecimal(0);\n        for (long k = 0; k &lt;= n; k++) {\n            bernoulliN = bernoulliN.add(sum2(k,n));\n            //System.out.println(&quot;B:&quot; + bernoulliN);\n        }\n        return bernoulliN.doubleValue();\n    }\n    public static BigDecimal sum2(long k, int n) {\n        BigDecimal result = BigDecimal.ZERO;\n\n        for (long v = 0; v &lt;= k; v++) {\n            BigDecimal vTon = BigDecimal.valueOf(v).pow(n);\n            result = result.add(BigDecimal.valueOf(Math.pow(-1, v)).multiply(nCr(k,v)).multiply(vTon).divide(BigDecimal.valueOf(k + 1), 1000, RoundingMode.HALF_EVEN));\n        }\n        return result;\n    }\n    public static BigDecimal nCr(long n, long r) {\n        return factorial(n).divide(factorial(n - r)).divide(factorial(r));\n    }\n    public static BigDecimal factorial(long n) {\n        if (n == 0) return BigDecimal.ONE;\n        else return factorial(n-1).multiply(BigDecimal.valueOf(n));\n    }\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; 20; i++) {\n            System.out.println(i + &quot;: &quot; + bernoulliNumber2(i));\n        }\n    }\n}\n</code></pre>\n<p>Try changing the scale passed to the division in <code>sum2</code> and watch the effect on the output.</p>\n"}],"owner":{"account_id":23753589,"reputation":3,"user_id":17769994,"display_name":"Babai08"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70492158,"answer_count":1,"score":0,"last_activity_date":1640668473,"creation_date":1640572109,"question_id":70491209,"body_markdown":"I&#39;ve created some code that generates the Bernoulli Numbers based off of formula 33 on MathWorld. This is given at https://mathworld.wolfram.com/BernoulliNumber.html and should work for all integers n but it diverges from the expected results extremely quickly once it gets to n=14. I think the issue may be in the factorial code, although I have no idea.\r\n\r\nIt&#39;s pretty accurate up until 13, all odd numbers should be 0 besides 1 but the values past 14 give weird values. For instance 14 gives a number like 0.9 when it should give something around 7/6 and say 22 gives a very negative number in the order of 10^-4. The odd numbers give strange values like 15 gives around -11.\r\n\r\nHere is all the related code\r\n```    \r\npublic static double bernoulliNumber2(int n) {\r\n    double bernoulliN = 0;\r\n    for (double k = 0D; k &lt;= n; k++) {\r\n        bernoulliN += sum2(k,n)/(k+1);\r\n    }\r\n    return bernoulliN;\r\n}\r\npublic static double sum2(double k, int n) {\r\n    double result = 0;\r\n\r\n    for (double v = 0D; v &lt;= k; v++) {\r\n        result += Math.pow(-1, v) * MathUtils.nCr((int) k,(int) v) * Math.pow(v, n);\r\n    }\r\n\r\n    return result;    \r\n}\r\n```\r\n\r\n```\r\npublic static double nCr(int n, int r) {\r\n    return Factorial.factorial(n) / (Factorial.factorial(n - r) * Factorial.factorial(r));\r\n}\r\n```\r\n\r\n```\r\npublic static double factorial(int n) {\r\n    if (n == 0) return 1;\r\n    else return (n * factorial(n-1));\r\n}\r\n```\r\n\r\n\r\nThank you in advance.\r\n\r\n  [1]: https://i.stack.imgur.com/d4vcc.png","title":"Issues with accuracy with Bernoulli Number generator in java","body":"<p>I've created some code that generates the Bernoulli Numbers based off of formula 33 on MathWorld. This is given at <a href=\"https://mathworld.wolfram.com/BernoulliNumber.html\" rel=\"nofollow noreferrer\">https://mathworld.wolfram.com/BernoulliNumber.html</a> and should work for all integers n but it diverges from the expected results extremely quickly once it gets to n=14. I think the issue may be in the factorial code, although I have no idea.</p>\n<p>It's pretty accurate up until 13, all odd numbers should be 0 besides 1 but the values past 14 give weird values. For instance 14 gives a number like 0.9 when it should give something around 7/6 and say 22 gives a very negative number in the order of 10^-4. The odd numbers give strange values like 15 gives around -11.</p>\n<p>Here is all the related code</p>\n<pre><code>public static double bernoulliNumber2(int n) {\n    double bernoulliN = 0;\n    for (double k = 0D; k &lt;= n; k++) {\n        bernoulliN += sum2(k,n)/(k+1);\n    }\n    return bernoulliN;\n}\npublic static double sum2(double k, int n) {\n    double result = 0;\n\n    for (double v = 0D; v &lt;= k; v++) {\n        result += Math.pow(-1, v) * MathUtils.nCr((int) k,(int) v) * Math.pow(v, n);\n    }\n\n    return result;    \n}\n</code></pre>\n<pre><code>public static double nCr(int n, int r) {\n    return Factorial.factorial(n) / (Factorial.factorial(n - r) * Factorial.factorial(r));\n}\n</code></pre>\n<pre><code>public static double factorial(int n) {\n    if (n == 0) return 1;\n    else return (n * factorial(n-1));\n}\n</code></pre>\n<p>Thank you in advance.</p>\n"},{"tags":["java","cryptography","extract","steganography"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640619364,"post_id":70497403,"comment_id":124617915,"body_markdown":"What was the &quot;termination condition&quot; when you were encrypting the file?","body":"What was the &quot;termination condition&quot; when you were encrypting the file?"},{"owner":{"account_id":23280790,"reputation":13,"user_id":17364272,"display_name":"Vinay Kumar P.V."},"score":0,"creation_date":1640619633,"post_id":70497403,"comment_id":124618000,"body_markdown":"@hfontanez for encryption it is message length and for embedding it is encrypted message length.","body":"@hfontanez for encryption it is message length and for embedding it is encrypted message length."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640619802,"post_id":70497403,"comment_id":124618060,"body_markdown":"Why don&#39;t you post your code for decrypting and allow us to figure out what is wrong with it? If you haven&#39;t written any code, I can assure you not many will be inclined to help you. In today&#39;s StackOverflow, people are more aggressive at closing &quot;bad questions.&quot; You need to post minimal, reproducible code.","body":"Why don&#39;t you post your code for decrypting and allow us to figure out what is wrong with it? If you haven&#39;t written any code, I can assure you not many will be inclined to help you. In today&#39;s StackOverflow, people are more aggressive at closing &quot;bad questions.&quot; You need to post minimal, reproducible code."},{"owner":{"account_id":23280790,"reputation":13,"user_id":17364272,"display_name":"Vinay Kumar P.V."},"score":0,"creation_date":1640619961,"post_id":70497403,"comment_id":124618128,"body_markdown":"@hfontanez Ok. But is encryption and decryption code necessary? Because I need for extraction. I think embedding code would be useful.","body":"@hfontanez Ok. But is encryption and decryption code necessary? Because I need for extraction. I think embedding code would be useful."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640620109,"post_id":70497403,"comment_id":124618175,"body_markdown":"I would post both just to make sure. And, it will not hurt if you attach a test file. If you post both, maybe you don&#39;t need to attach a test file since anyone should be able to do a &quot;round trip&quot; with any image file.","body":"I would post both just to make sure. And, it will not hurt if you attach a test file. If you post both, maybe you don&#39;t need to attach a test file since anyone should be able to do a &quot;round trip&quot; with any image file."}],"answers":[{"tags":[],"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640625132,"creation_date":1640620527,"answer_id":70497679,"question_id":70497403,"body_markdown":"Just evaluate the length of the ciphertext and store it in the target structure too, but on a fixed location. On decryption phase, read this size information as counter for the number of bytes to retrieve. As an alternative solution you can rely on the fact that a ciphertext is written in multiple blocks of fixed length (which depends on used algorithm and keysize). You can with trail and error try to read and decipher block by block until you got a valid deciphered text or you&#39;re out of data.\r\n\r\nEDIT:\r\n\r\nIt&#39;s a simple calculation:\r\n\r\nLet&#39;s say your ciphertext is 1024 bytes long and you use an int for the length information than you need at least 1024 + 4 bytes to store the information. \r\nAnd let&#39;s say you hide your ciphertext in 12345 pixel and you store in the first 4 pixel the length info followed by 1024 pixels with  ciphertext. If you want to retriev ciphertext you first read in the four bytes to get the length and next *length* bytes to get the ciphertext. In the given example you read 1028 bytes/pixel, the remaining 11317 pixel / bytes are not of interest.\r\n\r\nIt&#39;s realy that simple, isn&#39;t it?","title":"How to apply a termination condition while extracting encrypted message?","body":"<p>Just evaluate the length of the ciphertext and store it in the target structure too, but on a fixed location. On decryption phase, read this size information as counter for the number of bytes to retrieve. As an alternative solution you can rely on the fact that a ciphertext is written in multiple blocks of fixed length (which depends on used algorithm and keysize). You can with trail and error try to read and decipher block by block until you got a valid deciphered text or you're out of data.</p>\n<p>EDIT:</p>\n<p>It's a simple calculation:</p>\n<p>Let's say your ciphertext is 1024 bytes long and you use an int for the length information than you need at least 1024 + 4 bytes to store the information.\nAnd let's say you hide your ciphertext in 12345 pixel and you store in the first 4 pixel the length info followed by 1024 pixels with  ciphertext. If you want to retriev ciphertext you first read in the four bytes to get the length and next <em>length</em> bytes to get the ciphertext. In the given example you read 1028 bytes/pixel, the remaining 11317 pixel / bytes are not of interest.</p>\n<p>It's realy that simple, isn't it?</p>\n"}],"owner":{"account_id":23280790,"reputation":13,"user_id":17364272,"display_name":"Vinay Kumar P.V."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70497679,"answer_count":1,"score":-1,"last_activity_date":1640668392,"creation_date":1640618947,"question_id":70497403,"body_markdown":"First I want to encrypt a message with a key using AES cipher.\r\nThen hide each byte of the encrypted message inside random pixel and that too by replacing one random component of the pixel completely (either red or green or blue).\r\n\r\nI use secureRandom to generate same pixels of image and IV for AES/CBC/PKCS5Padding by giving a seed. Let us say no pixel is generated twice to store the byte.\r\n\r\nNow I want to extract it.\r\nWhile extracting, I will generate the same pixels using the secureRandom and with same seed.\r\n\r\nWhat should be the termination condition so that I stop at the last hidden byte&#39;s pixel?\r\nIn the embedding part, the length of the encrypted message is the termination.\r\nHow can we apply a termination condition for the extraction if possible?\r\n\r\nOr else is there any way to embed in such a way that we can extract later from those random pixels?","title":"How to apply a termination condition while extracting encrypted message?","body":"<p>First I want to encrypt a message with a key using AES cipher.\nThen hide each byte of the encrypted message inside random pixel and that too by replacing one random component of the pixel completely (either red or green or blue).</p>\n<p>I use secureRandom to generate same pixels of image and IV for AES/CBC/PKCS5Padding by giving a seed. Let us say no pixel is generated twice to store the byte.</p>\n<p>Now I want to extract it.\nWhile extracting, I will generate the same pixels using the secureRandom and with same seed.</p>\n<p>What should be the termination condition so that I stop at the last hidden byte's pixel?\nIn the embedding part, the length of the encrypted message is the termination.\nHow can we apply a termination condition for the extraction if possible?</p>\n<p>Or else is there any way to embed in such a way that we can extract later from those random pixels?</p>\n"},{"tags":["java","apache-poi","docx-mailmerge"],"answers":[{"tags":[],"owner":{"account_id":11079057,"reputation":16,"user_id":17774882,"display_name":"Sayi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640622746,"creation_date":1640622746,"answer_id":70498043,"question_id":70377863,"body_markdown":"The Poi-tl API is:\r\n```java\r\ncom.deepoove.poi.XWPFTemplate.getElementTemplates()\r\n```\r\n\r\nYou can visit like this:\r\n```java\r\nnew LogProcessor().process(template.getElementTemplates());\r\n```","title":"Extract tags from DOCX using POI-TL","body":"<p>The Poi-tl API is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>com.deepoove.poi.XWPFTemplate.getElementTemplates()\n</code></pre>\n<p>You can visit like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new LogProcessor().process(template.getElementTemplates());\n</code></pre>\n"}],"owner":{"account_id":23461392,"reputation":3,"user_id":17516197,"display_name":"JavaGuy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70498043,"answer_count":1,"score":0,"last_activity_date":1640668219,"creation_date":1639652558,"question_id":70377863,"body_markdown":"POI-TL replaces the tags inside DOCX but I can&#39;t find any API that can give me a list of tags. Does anyone have experience using POI-TL to achieve this?\r\n\r\nI already tried building my own code to find the tags but word transforms tags into multiple runs (sometimes over 5) and so I gave up on writing my own code and started looking into prebuilt open source solutions like POI-TL.","title":"Extract tags from DOCX using POI-TL","body":"<p>POI-TL replaces the tags inside DOCX but I can't find any API that can give me a list of tags. Does anyone have experience using POI-TL to achieve this?</p>\n<p>I already tried building my own code to find the tags but word transforms tags into multiple runs (sometimes over 5) and so I gave up on writing my own code and started looking into prebuilt open source solutions like POI-TL.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1640667133,"post_id":70502888,"comment_id":124627929,"body_markdown":"For some reason, `stabiliteService` has not been wired, and is `null`.  Note that since you explicitly said `required = false` you don&#39;t get an error for the wiring failure.  But the flip-side is that if you are going to do that, your code should be designed to &quot;work&quot; in the case that `stabiliteService` is `null`.  (Hmmm is that a typo?  Do you maybe mean `stabilizeService`?  What is a &quot;stabilite&quot;???)","body":"For some reason, <code>stabiliteService</code> has not been wired, and is <code>null</code>.  Note that since you explicitly said <code>required = false</code> you don&#39;t get an error for the wiring failure.  But the flip-side is that if you are going to do that, your code should be designed to &quot;work&quot; in the case that <code>stabiliteService</code> is <code>null</code>.  (Hmmm is that a typo?  Do you maybe mean <code>stabilizeService</code>?  What is a &quot;stabilite&quot;???)"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1640675473,"post_id":70502888,"comment_id":124629282,"body_markdown":"Terrible title. Rewrite to summarize your specific technical issue.","body":"Terrible title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":1292822,"reputation":114,"user_id":1244566,"accept_rate":38,"display_name":"ParthPatel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640667725,"creation_date":1640667725,"answer_id":70502966,"question_id":70502888,"body_markdown":"Is **StabiliteService** in correct package to read all components?\r\nTry with below annotation with @SpringBootApplication\r\n\r\n    @ComponentScan(basePackages={\r\n            &quot;com.your.package.name&quot;, \r\n            &quot;com.your.another.package.name&quot;\r\n    })","title":"i have the error following and i need help please","body":"<p>Is <strong>StabiliteService</strong> in correct package to read all components?\nTry with below annotation with @SpringBootApplication</p>\n<pre><code>@ComponentScan(basePackages={\n        &quot;com.your.package.name&quot;, \n        &quot;com.your.another.package.name&quot;\n})\n</code></pre>\n"}],"owner":{"account_id":23762973,"reputation":11,"user_id":17778089,"display_name":"Christ Assemien"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1640670636,"answer_count":1,"score":1,"last_activity_date":1640667725,"creation_date":1640666761,"question_id":70502888,"body_markdown":"Error description: \r\n```none\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nCannot invoke &quot;com.example.produits.service.StabiliteService.saveStabilite(com.example.produits.entities.Stabilite)&quot; because &quot;this.stabiliteService&quot; is null\r\njava.lang.NullPointerException: Cannot invoke &quot;com.example.produits.service.StabiliteService.saveStabilite(com.example.produits.entities.Stabilite)&quot; because &quot;this.stabiliteService&quot; is null\r\n```\r\ncontroller class\r\n```java\r\n@Controller\r\npublic class StabiliteController {\r\n\r\n\t@Autowired(required = false)\r\n\tprivate StabiliteService stabiliteService;\r\n\r\n\t@RequestMapping(&quot;/createStabilite&quot;)\r\n\tpublic String createStabilite(ModelMap modelMap) {\r\n\t\tmodelMap.addAttribute(&quot;stabilite&quot;, new Stabilite());\r\n\t\tmodelMap.addAttribute(&quot;mode&quot;, &quot;new&quot;);\r\n\t\treturn &quot;formStabilite&quot;;\r\n\t}\r\n\r\n\t@RequestMapping(&quot;/saveStabilite&quot;)\r\n\tpublic String saveStabilite(@Valid Stabilite stabilite, BindingResult bindingResult) {\r\n\t\tif (bindingResult.hasErrors())\r\n\t\t\treturn &quot;formStabilite&quot;;\r\n\r\n\t\tstabiliteService.saveStabilite(stabilite);\r\n\t\treturn &quot;formStabilite&quot;;\r\n\t}\r\n```\r\nservice class:\r\n```java\r\n@Service\r\npublic interface StabiliteService {\r\n\r\n\tStabilite saveStabilite(Stabilite s);\r\n\r\n\tStabilite updateStabilite(Stabilite s);\r\n\r\n\tvoid deleteStabilite(Stabilite s);\r\n\r\n\tvoid deleteStabiliteById(Long id);\r\n\r\n\tStabilite getStabilite(Long id);\r\n\r\n\tList&lt;Stabilite&gt; getAllStabilites();\r\n\r\n\tList&lt;Stabilite&gt; findByLibelleStabilite(String libelle);\r\n\r\n\tPage&lt;Stabilite&gt; getAllStabillitesParPage(int page, int size);\r\n}\r\n```","title":"i have the error following and i need help please","body":"<p>Error description:</p>\n<pre class=\"lang-none prettyprint-override\"><code>There was an unexpected error (type=Internal Server Error, status=500).\nCannot invoke &quot;com.example.produits.service.StabiliteService.saveStabilite(com.example.produits.entities.Stabilite)&quot; because &quot;this.stabiliteService&quot; is null\njava.lang.NullPointerException: Cannot invoke &quot;com.example.produits.service.StabiliteService.saveStabilite(com.example.produits.entities.Stabilite)&quot; because &quot;this.stabiliteService&quot; is null\n</code></pre>\n<p>controller class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class StabiliteController {\n\n    @Autowired(required = false)\n    private StabiliteService stabiliteService;\n\n    @RequestMapping(&quot;/createStabilite&quot;)\n    public String createStabilite(ModelMap modelMap) {\n        modelMap.addAttribute(&quot;stabilite&quot;, new Stabilite());\n        modelMap.addAttribute(&quot;mode&quot;, &quot;new&quot;);\n        return &quot;formStabilite&quot;;\n    }\n\n    @RequestMapping(&quot;/saveStabilite&quot;)\n    public String saveStabilite(@Valid Stabilite stabilite, BindingResult bindingResult) {\n        if (bindingResult.hasErrors())\n            return &quot;formStabilite&quot;;\n\n        stabiliteService.saveStabilite(stabilite);\n        return &quot;formStabilite&quot;;\n    }\n</code></pre>\n<p>service class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic interface StabiliteService {\n\n    Stabilite saveStabilite(Stabilite s);\n\n    Stabilite updateStabilite(Stabilite s);\n\n    void deleteStabilite(Stabilite s);\n\n    void deleteStabiliteById(Long id);\n\n    Stabilite getStabilite(Long id);\n\n    List&lt;Stabilite&gt; getAllStabilites();\n\n    List&lt;Stabilite&gt; findByLibelleStabilite(String libelle);\n\n    Page&lt;Stabilite&gt; getAllStabillitesParPage(int page, int size);\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1883267,"reputation":7504,"user_id":1702990,"display_name":"Sinkingpoint"},"score":6,"creation_date":1387237189,"post_id":20623184,"comment_id":30866141,"body_markdown":"In Short: No, you can&#39;t.","body":"In Short: No, you can&#39;t."},{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":8,"creation_date":1387237206,"post_id":20623184,"comment_id":30866150,"body_markdown":"What&#39;s the problem with the getter? That is _the_ way to do it in Java.","body":"What&#39;s the problem with the getter? That is <i>the</i> way to do it in Java."},{"owner":{"account_id":437019,"reputation":3051,"user_id":824495,"accept_rate":100,"display_name":"mehmetseckin"},"score":0,"creation_date":1387237211,"post_id":20623184,"comment_id":30866156,"body_markdown":"Why not use a getSize() method instead? &quot;Properties&quot; aren&#39;t in Java&#39;s characteristics, why do you try to make Java look like C#?","body":"Why not use a getSize() method instead? &quot;Properties&quot; aren&#39;t in Java&#39;s characteristics, why do you try to make Java look like C#?"},{"owner":{"account_id":267481,"reputation":17937,"user_id":555690,"accept_rate":74,"display_name":"Saturn"},"score":3,"creation_date":1387237384,"post_id":20623184,"comment_id":30866205,"body_markdown":"@MattBall: I don&#39;t have a problem with the getter, as mentioned in the question. I was just curious.","body":"@MattBall: I don&#39;t have a problem with the getter, as mentioned in the question. I was just curious."},{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":0,"creation_date":1387237454,"post_id":20623184,"comment_id":30866223,"body_markdown":"Only `final` fields (not &quot;properties&quot;) prevent reassignment in Java. That&#39;s all there is to it.","body":"Only <code>final</code> fields (not &quot;properties&quot;) prevent reassignment in Java. That&#39;s all there is to it."}],"answers":[{"tags":[],"owner":{"account_id":439639,"reputation":1363,"user_id":828709,"accept_rate":57,"display_name":"Brandon"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1640667537,"creation_date":1387237276,"answer_id":20623213,"question_id":20623184,"body_markdown":"What you&#39;re describing is not possible in Java.","title":"Can I create read-only properties in Java?","body":"<p>What you're describing is not possible in Java.</p>\n"},{"tags":[],"owner":{"account_id":1248503,"reputation":11789,"user_id":1209443,"accept_rate":50,"display_name":"nl-x"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387237300,"creation_date":1387237300,"answer_id":20623224,"question_id":20623184,"body_markdown":"Make use of getters/setters. Or rather, just getters without the setters in your case.\r\n\r\nLook for an example here: http://docs.oracle.com/javaee/6/tutorial/doc/gjbbp.html\r\n\r\nSo make the property private, and create a public method to &#39;get&#39; its value.","title":"Can I create read-only properties in Java?","body":"<p>Make use of getters/setters. Or rather, just getters without the setters in your case.</p>\n\n<p>Look for an example here: <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/gjbbp.html\" rel=\"nofollow\">http://docs.oracle.com/javaee/6/tutorial/doc/gjbbp.html</a></p>\n\n<p>So make the property private, and create a public method to 'get' its value.</p>\n"},{"tags":[],"owner":{"account_id":1554391,"reputation":1540,"user_id":1445967,"accept_rate":37,"display_name":"user1445967"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1387237380,"creation_date":1387237380,"answer_id":20623243,"question_id":20623184,"body_markdown":"I think what you want is for the user to be able to get the object&#39;s size but not be able to write to it.  In this case, you keep the value of `size` as `private`.  You are absolutely right that making size `public` will allow a user to break your objects by setting the value of `size` to something that it is not!\r\n\r\nWhat you want is a `getSize()` method that is `public` and `return` &#39; s the value of `size`.  The user can call the method to read the value, but has no way of actually writing to the value of `size`.\r\n\r\n\r\nIf you really want to learn about making part or all of your data structure immutable, you could check here:\r\n\r\nImmutable Objects\r\nhttp://docs.oracle.com/javase/tutorial/essential/concurrency/immutable.html\r\n\r\n","title":"Can I create read-only properties in Java?","body":"<p>I think what you want is for the user to be able to get the object's size but not be able to write to it.  In this case, you keep the value of <code>size</code> as <code>private</code>.  You are absolutely right that making size <code>public</code> will allow a user to break your objects by setting the value of <code>size</code> to something that it is not!</p>\n\n<p>What you want is a <code>getSize()</code> method that is <code>public</code> and <code>return</code> ' s the value of <code>size</code>.  The user can call the method to read the value, but has no way of actually writing to the value of <code>size</code>.</p>\n\n<p>If you really want to learn about making part or all of your data structure immutable, you could check here:</p>\n\n<p>Immutable Objects\n<a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/immutable.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/essential/concurrency/immutable.html</a></p>\n"},{"tags":[],"owner":{"account_id":152658,"reputation":9096,"user_id":367319,"accept_rate":85,"display_name":"Saher Ahwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387237736,"creation_date":1387237736,"answer_id":20623316,"question_id":20623184,"body_markdown":"If you want to make a read only array, you can use ImmutableList : http://docs.oracle.com/cd/E15523_01/apirefs.1111/e13403/oracle/javatools/util/ImmutableList.html\r\n","title":"Can I create read-only properties in Java?","body":"<p>If you want to make a read only array, you can use ImmutableList : <a href=\"http://docs.oracle.com/cd/E15523_01/apirefs.1111/e13403/oracle/javatools/util/ImmutableList.html\" rel=\"nofollow\">http://docs.oracle.com/cd/E15523_01/apirefs.1111/e13403/oracle/javatools/util/ImmutableList.html</a></p>\n"},{"tags":[],"owner":{"account_id":411202,"reputation":41987,"user_id":783510,"accept_rate":91,"display_name":"Philipp Cla&#223;en"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387238950,"creation_date":1387238251,"answer_id":20623412,"question_id":20623184,"body_markdown":"A simple getter is the natural approach, as [Java lacks support for properties][1].\r\nSo, a getter is what the typical Java programmer would expect.\r\n\r\nEven if it is possible to use public fields, as in your `public final String title` example, I would not recommend it. For example, it is annoying when you give your code to someone else who wants to write unit tests for it and uses mocking frameworks.\r\n\r\nPublic fields should generally be reserved for (static) constants.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Property_%28programming%29#Support_in_languages","title":"Can I create read-only properties in Java?","body":"<p>A simple getter is the natural approach, as <a href=\"https://en.wikipedia.org/wiki/Property_%28programming%29#Support_in_languages\" rel=\"nofollow\">Java lacks support for properties</a>.\nSo, a getter is what the typical Java programmer would expect.</p>\n\n<p>Even if it is possible to use public fields, as in your <code>public final String title</code> example, I would not recommend it. For example, it is annoying when you give your code to someone else who wants to write unit tests for it and uses mocking frameworks.</p>\n\n<p>Public fields should generally be reserved for (static) constants.</p>\n"}],"owner":{"account_id":267481,"reputation":17937,"user_id":555690,"accept_rate":74,"display_name":"Saturn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17273,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":20623213,"answer_count":5,"score":9,"last_activity_date":1640667537,"creation_date":1387237072,"question_id":20623184,"body_markdown":"I&#39;m creating a custom array class, and it has an `int` property `size`.\r\n\r\nThis property is modified automatically if you do something like `add()` or `remove()`. I want to let the user read this property like `myArray.size`. However, making it `public` allows the user to change it, which doesn&#39;t make much sense for my class, and could break it.\r\n\r\nI could of course make it `private` and create a getter method `size()` and all&#39;s good. I don&#39;t have a problem with that, but still, is there a way to make a read-only property in Java?\r\n\r\nLooking around the web, I found this:\r\n\r\n - http://binkley.blogspot.com/2005/01/read-only-properties-in-java.html\r\n\r\nTheir solution goes like\r\n\r\n    public final String title;\r\n\r\nWhich is tecnically valid, but that of course doesn&#39;t work for my array, since my property is not constant.","title":"Can I create read-only properties in Java?","body":"<p>I'm creating a custom array class, and it has an <code>int</code> property <code>size</code>.</p>\n\n<p>This property is modified automatically if you do something like <code>add()</code> or <code>remove()</code>. I want to let the user read this property like <code>myArray.size</code>. However, making it <code>public</code> allows the user to change it, which doesn't make much sense for my class, and could break it.</p>\n\n<p>I could of course make it <code>private</code> and create a getter method <code>size()</code> and all's good. I don't have a problem with that, but still, is there a way to make a read-only property in Java?</p>\n\n<p>Looking around the web, I found this:</p>\n\n<ul>\n<li><a href=\"http://binkley.blogspot.com/2005/01/read-only-properties-in-java.html\" rel=\"noreferrer\">http://binkley.blogspot.com/2005/01/read-only-properties-in-java.html</a></li>\n</ul>\n\n<p>Their solution goes like</p>\n\n<pre><code>public final String title;\n</code></pre>\n\n<p>Which is tecnically valid, but that of course doesn't work for my array, since my property is not constant.</p>\n"},{"tags":["java","android","google-ad-manager"],"comments":[{"owner":{"account_id":7194850,"reputation":1480,"user_id":5493999,"accept_rate":71,"display_name":"Abdul Mateen"},"score":0,"creation_date":1695639116,"post_id":60005065,"comment_id":136046645,"body_markdown":"What ad unit ID are you using?","body":"What ad unit ID are you using?"}],"answers":[{"tags":[],"owner":{"account_id":17716275,"reputation":119,"user_id":12862527,"display_name":"Akashkumar Golakiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608549213,"creation_date":1608549213,"answer_id":65391746,"question_id":60005065,"body_markdown":"make sure you set your payment method in google admob from payment setting page ","title":"Google Ad Manager - Failed to load ad by using unit id (ERROR - &quot;ad failed to load 1&quot;)","body":"<p>make sure you set your payment method in google admob from payment setting page</p>\n"},{"tags":[],"owner":{"account_id":8853868,"reputation":1,"user_id":6612207,"display_name":"Ahdisli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640667351,"creation_date":1640667351,"answer_id":70502929,"question_id":60005065,"body_markdown":"You cant see your ads instantly. You have to wait couple of days to see your actual ads. Dont forget to add your test devices Ids (You can find from console logs). If you dont you will be suspended if you click your real ads. ","title":"Google Ad Manager - Failed to load ad by using unit id (ERROR - &quot;ad failed to load 1&quot;)","body":"<p>You cant see your ads instantly. You have to wait couple of days to see your actual ads. Dont forget to add your test devices Ids (You can find from console logs). If you dont you will be suspended if you click your real ads.</p>\n"}],"owner":{"account_id":17654553,"reputation":31,"user_id":12814433,"display_name":"Pratiksha Mhatre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1640667351,"creation_date":1580478120,"question_id":60005065,"body_markdown":"I have created ad unit id for native ad style in ad manager, when I m trying to load my ad in the android app it&#39;s not loading ads and it shows &quot;ad failed to load 1&quot;.\r\nBut when I used google test ad unit id it&#39;s working properly and all ads are loaded\r\nI have created an ad unit id using https://support.google.com/admanager/answer/177203?hl=en\r\n","title":"Google Ad Manager - Failed to load ad by using unit id (ERROR - &quot;ad failed to load 1&quot;)","body":"<p>I have created ad unit id for native ad style in ad manager, when I m trying to load my ad in the android app it's not loading ads and it shows \"ad failed to load 1\".\nBut when I used google test ad unit id it's working properly and all ads are loaded\nI have created an ad unit id using <a href=\"https://support.google.com/admanager/answer/177203?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/admanager/answer/177203?hl=en</a></p>\n"},{"tags":["java","spring","ffmpeg","stream","video-streaming"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1640669407,"post_id":70502919,"comment_id":124628242,"body_markdown":"`pv -L` might be useful","body":"<code>pv -L</code> might be useful"},{"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"score":0,"creation_date":1640679494,"post_id":70502919,"comment_id":124630317,"body_markdown":"@Thorbj&#248;rnRavnAndersen What is it, how do you use it?","body":"@Thorbj&#248;rnRavnAndersen What is it, how do you use it?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1640680744,"post_id":70502919,"comment_id":124630697,"body_markdown":"It was for using in a pipe.  After closer inspection of your command it looks like you provide input to the FFMMPEG process yourself?","body":"It was for using in a pipe.  After closer inspection of your command it looks like you provide input to the FFMMPEG process yourself?"},{"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"score":0,"creation_date":1640680832,"post_id":70502919,"comment_id":124630729,"body_markdown":"@Thorbj&#248;rnRavnAndersen The startup line was before me, I&#39;m fixing a problem that now exists.  I didn&#39;t really see how this would help me. Could you add a little bit of information","body":"@Thorbj&#248;rnRavnAndersen The startup line was before me, I&#39;m fixing a problem that now exists.  I didn&#39;t really see how this would help me. Could you add a little bit of information"},{"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"score":0,"creation_date":1640681482,"post_id":70502919,"comment_id":124630909,"body_markdown":"Also, I do not understand how to indicate that I use a stream. After all, in the line I must necessarily specify the file in the parameter -i","body":"Also, I do not understand how to indicate that I use a stream. After all, in the line I must necessarily specify the file in the parameter -i"},{"owner":{"account_id":7405785,"reputation":2672,"user_id":5634769,"display_name":"gpasch"},"score":0,"creation_date":1640686261,"post_id":70502919,"comment_id":124632282,"body_markdown":"I&#39;m not sure what you are trying to do -and what clogging  means but lets  assume  you mean &quot;the  thing aint working&quot; - look  up  the usage of   ffmpeg- as far as i can recall the -i -   means  stdin or so, b) -f concat means youre gonna give it a file after   that etc  -- maybe  the commands have changed or maybe you  are short  on  knowledge  of  ffmpeg.","body":"I&#39;m not sure what you are trying to do -and what clogging  means but lets  assume  you mean &quot;the  thing aint working&quot; - look  up  the usage of   ffmpeg- as far as i can recall the -i -   means  stdin or so, b) -f concat means youre gonna give it a file after   that etc  -- maybe  the commands have changed or maybe you  are short  on  knowledge  of  ffmpeg."}],"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1640667272,"creation_date":1640667272,"question_id":70502919,"body_markdown":"The problem is this. I have a video file (it is in /mnt/....) on remote storage. When I run the command to copy it FFMPEG clogs the entire internet stream. Apparently when converting the video it copies it first. Because of this the whole application is temporarily unavailable.\r\n\r\n**I need to limit the baud rate for this task.** \r\n\r\nI am thinking to solve this problem by reading into BufferStream (or something else) and manually putting the stream into FFMPEG stdin.\r\nBut I can&#39;t find any example code where stream is put into FFMPEG .\r\nThis may not be the best solution, but I have to limit the speed of copying from remote storage.\r\nI would be very happy with Java code examples\r\n\r\nI invoke MMPEG like this\r\n\r\n     ProcessBuilder processBuilder = new ProcessBuilder(\r\n                    getFfmpegPath(),\r\n                    &quot;-safe&quot;, &quot;0&quot;,\r\n                    &quot;-protocol_whitelist&quot;, &quot;pipe,file&quot;,\r\n                    &quot;-y&quot;, &quot;-f&quot;, &quot;concat&quot;,\r\n                    &quot;-i&quot;, &quot;-&quot;,\r\n                    &quot;-c&quot;, &quot;copy&quot;,\r\n                    destination.toString()\r\n            );\r\n            processBuilder.redirectErrorStream(true)\r\n\r\n","title":"FFMPEG clogs up all the traffic","body":"<p>The problem is this. I have a video file (it is in /mnt/....) on remote storage. When I run the command to copy it FFMPEG clogs the entire internet stream. Apparently when converting the video it copies it first. Because of this the whole application is temporarily unavailable.</p>\n<p><strong>I need to limit the baud rate for this task.</strong></p>\n<p>I am thinking to solve this problem by reading into BufferStream (or something else) and manually putting the stream into FFMPEG stdin.\nBut I can't find any example code where stream is put into FFMPEG .\nThis may not be the best solution, but I have to limit the speed of copying from remote storage.\nI would be very happy with Java code examples</p>\n<p>I invoke MMPEG like this</p>\n<pre><code> ProcessBuilder processBuilder = new ProcessBuilder(\n                getFfmpegPath(),\n                &quot;-safe&quot;, &quot;0&quot;,\n                &quot;-protocol_whitelist&quot;, &quot;pipe,file&quot;,\n                &quot;-y&quot;, &quot;-f&quot;, &quot;concat&quot;,\n                &quot;-i&quot;, &quot;-&quot;,\n                &quot;-c&quot;, &quot;copy&quot;,\n                destination.toString()\n        );\n        processBuilder.redirectErrorStream(true)\n</code></pre>\n"},{"tags":["java","android","socket.io","webrtc","turn"],"answers":[{"tags":[],"owner":{"account_id":7162539,"reputation":4062,"user_id":5472819,"display_name":"Sean DuBois"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640666272,"creation_date":1640666272,"answer_id":70502844,"question_id":70497170,"body_markdown":"You will need to do an ICE Restart. You do this by calling [restartIce](https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/restartIce) and then generating a new offer for web.\r\n\r\nSee [this answer](https://stackoverflow.com/questions/47175624/how-to-ice-restart) for a specific android answer.","title":"How can WebRTC reconnect to the same peer after internet disconnect?","body":"<p>You will need to do an ICE Restart. You do this by calling <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/restartIce\" rel=\"nofollow noreferrer\">restartIce</a> and then generating a new offer for web.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/47175624/how-to-ice-restart\">this answer</a> for a specific android answer.</p>\n"}],"owner":{"account_id":18991166,"reputation":25,"user_id":13860409,"display_name":"Abolfazl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1072,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640666272,"creation_date":1640617684,"question_id":70497170,"body_markdown":"I am working on a peer-to-peer Video call system based on WebRTC in android.  my problem is I have no ideas how to reconnect video call when internet disconnect or switch from a network to other network (example switch from Wi-Fi to mobile)?","title":"How can WebRTC reconnect to the same peer after internet disconnect?","body":"<p>I am working on a peer-to-peer Video call system based on WebRTC in android.  my problem is I have no ideas how to reconnect video call when internet disconnect or switch from a network to other network (example switch from Wi-Fi to mobile)?</p>\n"},{"tags":["java","amazon-web-services","aws-cli","aws-java-sdk","aws-java-sdk-2.x"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1614793260,"post_id":66462064,"comment_id":117495577,"body_markdown":"What is your goal?  The `aws configure` commands should only need to be done one time unless the access and secret keys are being passed to you (and I&#39;d question the security of that).  After that you can use the [AWS Java SDK](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html) for things like downloading from S3.  But again, this isn&#39;t too terrible depending on how often it&#39;s called and the amount of work you want to put into it.","body":"What is your goal?  The <code>aws configure</code> commands should only need to be done one time unless the access and secret keys are being passed to you (and I&#39;d question the security of that).  After that you can use the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\" rel=\"nofollow noreferrer\">AWS Java SDK</a> for things like downloading from S3.  But again, this isn&#39;t too terrible depending on how often it&#39;s called and the amount of work you want to put into it."},{"owner":{"account_id":3868910,"reputation":4935,"user_id":3204706,"accept_rate":53,"display_name":"Tina J"},"score":0,"creation_date":1614793527,"post_id":66462064,"comment_id":117495690,"body_markdown":"@stdunbar Sorry, yes. I removed the initialize part which is a one-time thing. The rest can be called up to 100 times per second as a part of HTTP endpoint.","body":"@stdunbar Sorry, yes. I removed the initialize part which is a one-time thing. The rest can be called up to 100 times per second as a part of HTTP endpoint."}],"answers":[{"tags":[],"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614905527,"creation_date":1614795690,"answer_id":66462728,"question_id":66462064,"body_markdown":"A super simple read from S3 in the V2 Java SDK would look something like:\r\n\r\n    Region region = Region.US_WEST_2;\r\n    String bucketName = &quot;file-store&quot;;\r\n    \r\n    S3Client s3Client = S3Client.builder().region(region).build();\r\n\r\n...\r\n\r\n    GetObjectRequest getObjectRequest = GetObjectRequest.builder()\r\n                                             .bucket(bucketName)\r\n                                             .key(id + &quot;/files/&quot; + id + &quot;.txt&quot;)\r\n                                             .build();\r\n    OutputStream os = he.getResponseBody();\r\n    s3Client.getObject(getObjectRequest, ResponseTransformer.toOutputStream(outputStream));\r\n    os.close();\r\n\r\nThis downloads a file from S3 and writes the bytes directly to the output stream in the HTTP response.  If you&#39;re doing this super frequently then the `S3Client` should be created outside of where you&#39;re doing the read (i.e. a constructor) and reused.\r\n\r\nNow, is this faster than what you&#39;re showing?  I strongly expect that it will be but I don&#39;t have a way of testing it at the load you&#39;re running.\r\n\r\nOne other option might be to create a &lt;a href=&quot;https://docs.aws.amazon.com/AmazonS3/latest/userguide/ShareObjectPreSignedURL.html&quot;&gt;presigned URL&lt;/a&gt; that a client would request and then they could download the file directly from S3 and not go through your server.  I&#39;m not sure if that would work for your use case.\r\n\r\n\r\n**EDIT**\r\nI&#39;d strongly encourage you to dig into the &lt;a href=&quot;https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html&quot;&gt;AWS Java SDK docs&lt;/a&gt; and, for your use case, the &lt;a href=&quot;https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-objects.html&quot;&gt;S3 Examples&lt;/a&gt;.  But until that time, below is a simple program to get a file and two different ways to get the content length.  This one uses local credentials - your use case may be different.\r\n\r\n\r\n\r\n    import software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\r\n    import software.amazon.awssdk.core.exception.SdkClientException;\r\n    import software.amazon.awssdk.core.sync.ResponseTransformer;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.s3.S3Client;\r\n    import software.amazon.awssdk.services.s3.model.GetObjectRequest;\r\n    import software.amazon.awssdk.services.s3.model.GetObjectResponse;\r\n    import software.amazon.awssdk.services.s3.model.HeadObjectRequest;\r\n    import software.amazon.awssdk.services.s3.model.HeadObjectResponse;\r\n    import software.amazon.awssdk.services.s3.model.NoSuchKeyException;\r\n    import software.amazon.awssdk.services.s3.model.S3Exception;\r\n    \r\n    import java.io.FileOutputStream;\r\n    import java.io.OutputStream;\r\n    \r\n    \r\n    public class DownloadObjectV2 {\r\n    \r\n        public static void main(String[] args) {\r\n            Region region = Region.US_EAST_1;\r\n            String bucketName = &quot;the-bucket-name&quot;;\r\n            String fileObjKeyName = &quot;file.txt&quot;;\r\n            String fileName = &quot;/tmp/file.txt&quot;;\r\n    \r\n            long startTime = System.currentTimeMillis();\r\n    \r\n            try {\r\n                S3Client s3 = S3Client.builder()\r\n                        .region(region)\r\n                        .credentialsProvider(ProfileCredentialsProvider.create(&quot;profile-name&quot;))\r\n                        .build();\r\n    \r\n                // get meta data about the object without downloading it\r\n                HeadObjectRequest headObjectRequest = HeadObjectRequest.builder()\r\n                        .bucket(bucketName)\r\n                        .key(fileObjKeyName)\r\n                        .build();\r\n                HeadObjectResponse headObjectResponse = s3.headObject(headObjectRequest);\r\n                System.out.println(&quot;object is &quot; + headObjectResponse.contentLength() + &quot; bytes long from head call&quot;);\r\n    \r\n                // get the object, save it to a file\r\n                GetObjectRequest getObjectRequest = GetObjectRequest.builder()\r\n                        .bucket(bucketName)\r\n                        .key(fileObjKeyName)\r\n                        .build();\r\n    \r\n                OutputStream outputStream = new FileOutputStream(fileName);\r\n                GetObjectResponse getObjectResponse = s3.getObject(getObjectRequest, ResponseTransformer.toOutputStream(outputStream));\r\n    \r\n                // meta data is also available from the GetObjectResponse\r\n                System.out.println(&quot;object is &quot; + getObjectResponse.contentLength() + &quot; bytes long from get call&quot;);\r\n            }\r\n            catch( NoSuchKeyException nske ) { // bad key name\r\n                System.out.println( &quot;the key does not exist&quot; );\r\n            }\r\n            catch( S3Exception s3e ) { // errors like bad credentials\r\n                System.out.println( &quot;a general s3 exception occurred: &quot;);\r\n                s3e.printStackTrace();\r\n            }\r\n            catch( SdkClientException sce ) { // other errors\r\n                System.out.println( &quot;a sdk exception occurred: &quot;);\r\n                sce.printStackTrace();\r\n            }\r\n            catch( Exception e ) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            System.out.println( &quot;run took &quot; + (System.currentTimeMillis() - startTime) + &quot;ms&quot;);\r\n            System.exit(0);\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to translate my AWS CLI commands to AWS Java API code?","body":"<p>A super simple read from S3 in the V2 Java SDK would look something like:</p>\n<pre><code>Region region = Region.US_WEST_2;\nString bucketName = &quot;file-store&quot;;\n\nS3Client s3Client = S3Client.builder().region(region).build();\n</code></pre>\n<p>...</p>\n<pre><code>GetObjectRequest getObjectRequest = GetObjectRequest.builder()\n                                         .bucket(bucketName)\n                                         .key(id + &quot;/files/&quot; + id + &quot;.txt&quot;)\n                                         .build();\nOutputStream os = he.getResponseBody();\ns3Client.getObject(getObjectRequest, ResponseTransformer.toOutputStream(outputStream));\nos.close();\n</code></pre>\n<p>This downloads a file from S3 and writes the bytes directly to the output stream in the HTTP response.  If you're doing this super frequently then the <code>S3Client</code> should be created outside of where you're doing the read (i.e. a constructor) and reused.</p>\n<p>Now, is this faster than what you're showing?  I strongly expect that it will be but I don't have a way of testing it at the load you're running.</p>\n<p>One other option might be to create a <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/ShareObjectPreSignedURL.html\" rel=\"nofollow noreferrer\">presigned URL</a> that a client would request and then they could download the file directly from S3 and not go through your server.  I'm not sure if that would work for your use case.</p>\n<p><strong>EDIT</strong>\nI'd strongly encourage you to dig into the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\" rel=\"nofollow noreferrer\">AWS Java SDK docs</a> and, for your use case, the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-objects.html\" rel=\"nofollow noreferrer\">S3 Examples</a>.  But until that time, below is a simple program to get a file and two different ways to get the content length.  This one uses local credentials - your use case may be different.</p>\n<pre><code>import software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.core.exception.SdkClientException;\nimport software.amazon.awssdk.core.sync.ResponseTransformer;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.s3.S3Client;\nimport software.amazon.awssdk.services.s3.model.GetObjectRequest;\nimport software.amazon.awssdk.services.s3.model.GetObjectResponse;\nimport software.amazon.awssdk.services.s3.model.HeadObjectRequest;\nimport software.amazon.awssdk.services.s3.model.HeadObjectResponse;\nimport software.amazon.awssdk.services.s3.model.NoSuchKeyException;\nimport software.amazon.awssdk.services.s3.model.S3Exception;\n\nimport java.io.FileOutputStream;\nimport java.io.OutputStream;\n\n\npublic class DownloadObjectV2 {\n\n    public static void main(String[] args) {\n        Region region = Region.US_EAST_1;\n        String bucketName = &quot;the-bucket-name&quot;;\n        String fileObjKeyName = &quot;file.txt&quot;;\n        String fileName = &quot;/tmp/file.txt&quot;;\n\n        long startTime = System.currentTimeMillis();\n\n        try {\n            S3Client s3 = S3Client.builder()\n                    .region(region)\n                    .credentialsProvider(ProfileCredentialsProvider.create(&quot;profile-name&quot;))\n                    .build();\n\n            // get meta data about the object without downloading it\n            HeadObjectRequest headObjectRequest = HeadObjectRequest.builder()\n                    .bucket(bucketName)\n                    .key(fileObjKeyName)\n                    .build();\n            HeadObjectResponse headObjectResponse = s3.headObject(headObjectRequest);\n            System.out.println(&quot;object is &quot; + headObjectResponse.contentLength() + &quot; bytes long from head call&quot;);\n\n            // get the object, save it to a file\n            GetObjectRequest getObjectRequest = GetObjectRequest.builder()\n                    .bucket(bucketName)\n                    .key(fileObjKeyName)\n                    .build();\n\n            OutputStream outputStream = new FileOutputStream(fileName);\n            GetObjectResponse getObjectResponse = s3.getObject(getObjectRequest, ResponseTransformer.toOutputStream(outputStream));\n\n            // meta data is also available from the GetObjectResponse\n            System.out.println(&quot;object is &quot; + getObjectResponse.contentLength() + &quot; bytes long from get call&quot;);\n        }\n        catch( NoSuchKeyException nske ) { // bad key name\n            System.out.println( &quot;the key does not exist&quot; );\n        }\n        catch( S3Exception s3e ) { // errors like bad credentials\n            System.out.println( &quot;a general s3 exception occurred: &quot;);\n            s3e.printStackTrace();\n        }\n        catch( SdkClientException sce ) { // other errors\n            System.out.println( &quot;a sdk exception occurred: &quot;);\n            sce.printStackTrace();\n        }\n        catch( Exception e ) {\n            e.printStackTrace();\n        }\n\n        System.out.println( &quot;run took &quot; + (System.currentTimeMillis() - startTime) + &quot;ms&quot;);\n        System.exit(0);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3868910,"reputation":4935,"user_id":3204706,"accept_rate":53,"display_name":"Tina J"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":976,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640664933,"creation_date":1614792886,"question_id":66462064,"body_markdown":"I have a piece of code that is called frequently in a HTTP Server. I get the responses on pipes and play with the output String. But apparently using it as AWS CLI pipes as bash scripts may not be very efficient.\r\n\r\nWhat would be the AWS JAVA API equivalent of hese commands? How to convert them? And does it improve efficiency, access latency, etc?\r\n\r\n\tpublic void run() {\r\n\t    String command = &quot;aws --endpoint-url=&quot; + S3server + &quot; s3 cp s3://file-store/&quot; + id + &quot;/files/&quot; + id + &quot;.txt -&quot;;\r\n\t    processBuilder.command(&quot;sh&quot;, &quot;-c&quot;, command + &quot; ; true&quot;);\r\n\t    Process process = processBuilder.start();\r\n        //String command2 = &quot;aws --endpoint-url=https://s3-ourserver.mystore.mycompany.net s3api head-object --bucket file-store --key FILES/3762/files/mytext.scc  --query &#39;ContentLength&#39;&quot;;\r\n\r\n\t    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\t    BufferedReader readerErrors = new BufferedReader(new InputStreamReader(process.getErrorStream()));\r\n\r\n\t    String line;\r\n\t    while ((line = reader.readLine()) != null) {\r\n\t        response += line + &quot;\\n&quot;;\r\n\t    }\r\n\t    //...send the response back via HTTP \r\n\t    OutputStream os = he.getResponseBody();\r\n\t\tos.write(response.toString().getBytes());\r\n\t\tos.close();\r\n\t}","title":"How to translate my AWS CLI commands to AWS Java API code?","body":"<p>I have a piece of code that is called frequently in a HTTP Server. I get the responses on pipes and play with the output String. But apparently using it as AWS CLI pipes as bash scripts may not be very efficient.</p>\n<p>What would be the AWS JAVA API equivalent of hese commands? How to convert them? And does it improve efficiency, access latency, etc?</p>\n<pre><code>public void run() {\n    String command = &quot;aws --endpoint-url=&quot; + S3server + &quot; s3 cp s3://file-store/&quot; + id + &quot;/files/&quot; + id + &quot;.txt -&quot;;\n    processBuilder.command(&quot;sh&quot;, &quot;-c&quot;, command + &quot; ; true&quot;);\n    Process process = processBuilder.start();\n    //String command2 = &quot;aws --endpoint-url=https://s3-ourserver.mystore.mycompany.net s3api head-object --bucket file-store --key FILES/3762/files/mytext.scc  --query 'ContentLength'&quot;;\n\n    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n    BufferedReader readerErrors = new BufferedReader(new InputStreamReader(process.getErrorStream()));\n\n    String line;\n    while ((line = reader.readLine()) != null) {\n        response += line + &quot;\\n&quot;;\n    }\n    //...send the response back via HTTP \n    OutputStream os = he.getResponseBody();\n    os.write(response.toString().getBytes());\n    os.close();\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1640656904,"post_id":70502105,"comment_id":124626539,"body_markdown":"There are 3,600,000 milliseconds in an hour.","body":"There are 3,600,000 milliseconds in an hour."},{"owner":{"account_id":23266771,"reputation":13,"user_id":17352193,"display_name":"Profeta"},"score":0,"creation_date":1640657002,"post_id":70502105,"comment_id":124626556,"body_markdown":"@shmosel sorry edited the question, 3600000, still gives same output","body":"@shmosel sorry edited the question, 3600000, still gives same output"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1640657259,"post_id":70502105,"comment_id":124626598,"body_markdown":"`System.currentTimeMillis() - timeStamp.getTime()` will be negative.... not what you intended, right?  If `16:00` is a typo for `18:00`...","body":"<code>System.currentTimeMillis() - timeStamp.getTime()</code> will be negative.... not what you intended, right?  If <code>16:00</code> is a typo for <code>18:00</code>..."},{"owner":{"account_id":23266771,"reputation":13,"user_id":17352193,"display_name":"Profeta"},"score":0,"creation_date":1640657406,"post_id":70502105,"comment_id":124626626,"body_markdown":"@JimGarrison now using DateFormatUtils.format(timeStamp.getTime()-System.currentTimeMillis(), &quot;HH:mm:ss&quot;) gives me 03:00:00","body":"@JimGarrison now using DateFormatUtils.format(timeStamp.getTime()-System.currentTim&zwnj;&#8203;eMillis(), &quot;HH:mm:ss&quot;) gives me 03:00:00"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1640657924,"post_id":70502105,"comment_id":124626716,"body_markdown":"By the way… Representing elapsed time using “HH:mm” clock-time is inherently ambiguous. Consider using [standard ISO 8601 format](https://en.m.wikipedia.org/wiki/ISO_8601#Durations).","body":"By the way… Representing elapsed time using “HH:mm” clock-time is inherently ambiguous. Consider using <a href=\"https://en.m.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"nofollow noreferrer\">standard ISO 8601 format</a>."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640657418,"creation_date":1640657418,"answer_id":70502155,"question_id":70502105,"body_markdown":"As the name would suggest, `DateFormatUtils` is for formatting dates. What you want is `DurationFormatUtils`. And your calculation is backwards:\r\n    \r\n    long duration = timeStamp.getTime() - System.currentTimeMillis();\r\n    String formatted = DurationFormatUtils.formatDuration(duration, &quot;HH:mm&quot;);","title":"Timestamp calculate time left","body":"<p>As the name would suggest, <code>DateFormatUtils</code> is for formatting dates. What you want is <code>DurationFormatUtils</code>. And your calculation is backwards:</p>\n<pre><code>long duration = timeStamp.getTime() - System.currentTimeMillis();\nString formatted = DurationFormatUtils.formatDuration(duration, &quot;HH:mm&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640664220,"creation_date":1640657708,"answer_id":70502174,"question_id":70502105,"body_markdown":"&gt; new Timestamp(System.currentTimeMillis() + (3600000 * 6)); // +6 hours from now\r\n\r\nNever use `Timestamp` class, as discussed in [another Answer of mine][1] today. The legacy date-time classes were supplanted years ago by the modern *java.time* classes defined in JSR 310. \r\n\r\nThat line should be:\r\n\r\n    Instant then = Instant.now().plus( Duration.ofHours( 6 ) ) ;\r\n\r\nDetermine elapsed time using `Duration` class.\r\n\r\n    Duration d = Duration.between( Instant.now() , then ) ;\r\n\r\nCompare number of hours.\r\n\r\n    if( d.toHours() &gt; 6 ) { … }\r\n\r\nExtract parts.\r\n\r\n    String result = d.toHoursPart() + “h “ + d.toMinutesPart() + &quot;m &quot; ;\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70498935/642706","title":"Timestamp calculate time left","body":"<blockquote>\n<p>new Timestamp(System.currentTimeMillis() + (3600000 * 6)); // +6 hours from now</p>\n</blockquote>\n<p>Never use <code>Timestamp</code> class, as discussed in <a href=\"https://stackoverflow.com/a/70498935/642706\">another Answer of mine</a> today. The legacy date-time classes were supplanted years ago by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>That line should be:</p>\n<pre><code>Instant then = Instant.now().plus( Duration.ofHours( 6 ) ) ;\n</code></pre>\n<p>Determine elapsed time using <code>Duration</code> class.</p>\n<pre><code>Duration d = Duration.between( Instant.now() , then ) ;\n</code></pre>\n<p>Compare number of hours.</p>\n<pre><code>if( d.toHours() &gt; 6 ) { … }\n</code></pre>\n<p>Extract parts.</p>\n<pre><code>String result = d.toHoursPart() + “h “ + d.toMinutesPart() + &quot;m &quot; ;\n</code></pre>\n"}],"owner":{"account_id":23266771,"reputation":13,"user_id":17352193,"display_name":"Profeta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1640660341,"accepted_answer_id":70502155,"answer_count":2,"score":-2,"last_activity_date":1640664220,"creation_date":1640656778,"question_id":70502105,"body_markdown":"I need to calculate the remaining time of a timestamp and the current time, i create the timestamp using \r\n\r\n    new Timestamp(System.currentTimeMillis() + (3600000 * 6)); // +6 hours from now\r\n\r\nthen i compare the times using \r\n\r\n    DateFormatUtils.format(System.currentTimeMillis() - timeStamp.getTime(), &quot;HH:mm&quot;);\r\n\r\nthe problem that this gives 16h:00m, it should be 6 hours or less. ","title":"Timestamp calculate time left","body":"<p>I need to calculate the remaining time of a timestamp and the current time, i create the timestamp using</p>\n<pre><code>new Timestamp(System.currentTimeMillis() + (3600000 * 6)); // +6 hours from now\n</code></pre>\n<p>then i compare the times using</p>\n<pre><code>DateFormatUtils.format(System.currentTimeMillis() - timeStamp.getTime(), &quot;HH:mm&quot;);\n</code></pre>\n<p>the problem that this gives 16h:00m, it should be 6 hours or less.</p>\n"},{"tags":["java","reflection","aop","aspectj","pointcut"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640663561,"creation_date":1640662757,"answer_id":70502556,"question_id":70499733,"body_markdown":"You can either use `jp.getTarget()` to get the target instance for a non-static method or simply bind `target(targetObject)` to an advice method parameter. I am showing you the latter. Here is my [MCVE](https://stackoverflow.com/help/mcve):\r\n\r\n**Log4J configuration:**\r\n\r\n```none\r\nlog4j.rootLogger=DEBUG, consoleAppender\r\nlog4j.appender.consoleAppender=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.consoleAppender.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.consoleAppender.layout.ConversionPattern=[%t] %-5p %c %x - %m%n\r\n```\r\n\r\n**Helper class:**\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic class Person {}\r\n```\r\n\r\n**Driver application class:**\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\nimport org.apache.commons.logging.Log;\r\nimport org.apache.commons.logging.LogFactory;\r\n\r\npublic class Application {\r\n  private static Log log = LogFactory.getLog(Application.class);\r\n  private Person p = new Person();\r\n\r\n  public void methodA() {}\r\n\r\n  public static void main(String[] args) {\r\n    Application application = new Application();\r\n    application.methodA();\r\n  }\r\n}\r\n```\r\n\r\n**Aspect:**\r\n\r\n```java\r\npackage de.scrum_master.aspect;\r\n\r\nimport java.lang.reflect.Modifier;\r\nimport java.util.Arrays;\r\n\r\nimport org.apache.commons.logging.Log;\r\nimport org.aspectj.lang.JoinPoint;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Before;\r\n\r\n@Aspect\r\npublic class MyAspect {\r\n  @Before(&quot;execution(* methodA()) &amp;&amp; target(targetObject)&quot;)\r\n  public void logMethodExecution(JoinPoint jp, Object targetObject) {\r\n    // Filter for static logger, make it accessible and use it for logging \r\n    Arrays.stream(targetObject.getClass().getDeclaredFields())\r\n      .filter(field -&gt; field.getType().equals(Log.class) &amp;&amp; Modifier.isStatic(field.getModifiers()))\r\n      .forEach(field -&gt; {\r\n        try {\r\n          field.setAccessible(true);\r\n          ((Log) field.get(null)).info(jp + &quot; -&gt; logging using apache commons logger&quot;);\r\n        } catch (IllegalArgumentException | IllegalAccessException e) {\r\n          e.printStackTrace();\r\n        }\r\n      });\r\n  }\r\n}\r\n```\r\n\r\n**Console log:**\r\n\r\n```none\r\n[main] INFO  de.scrum_master.app.Application  - execution(void de.scrum_master.app.Application.methodA()) -&gt; logging using apache commons logger\r\n```\r\n\r\nThis kind of reflection stuff is quite ugly and might not work the way you wish in JMS-style modular applications without configurative precautions, if aspect and target class are not in the same module. At least, you could make your loggers public in order to avoid using `field.setAccessible(true)`.","title":"Access user-defined object state using java reflection in @Aspect type class","body":"<p>You can either use <code>jp.getTarget()</code> to get the target instance for a non-static method or simply bind <code>target(targetObject)</code> to an advice method parameter. I am showing you the latter. Here is my <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>:</p>\n<p><strong>Log4J configuration:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>log4j.rootLogger=DEBUG, consoleAppender\nlog4j.appender.consoleAppender=org.apache.log4j.ConsoleAppender\nlog4j.appender.consoleAppender.layout=org.apache.log4j.PatternLayout\nlog4j.appender.consoleAppender.layout.ConversionPattern=[%t] %-5p %c %x - %m%n\n</code></pre>\n<p><strong>Helper class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Person {}\n</code></pre>\n<p><strong>Driver application class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\n\npublic class Application {\n  private static Log log = LogFactory.getLog(Application.class);\n  private Person p = new Person();\n\n  public void methodA() {}\n\n  public static void main(String[] args) {\n    Application application = new Application();\n    application.methodA();\n  }\n}\n</code></pre>\n<p><strong>Aspect:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport java.lang.reflect.Modifier;\nimport java.util.Arrays;\n\nimport org.apache.commons.logging.Log;\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\n\n@Aspect\npublic class MyAspect {\n  @Before(&quot;execution(* methodA()) &amp;&amp; target(targetObject)&quot;)\n  public void logMethodExecution(JoinPoint jp, Object targetObject) {\n    // Filter for static logger, make it accessible and use it for logging \n    Arrays.stream(targetObject.getClass().getDeclaredFields())\n      .filter(field -&gt; field.getType().equals(Log.class) &amp;&amp; Modifier.isStatic(field.getModifiers()))\n      .forEach(field -&gt; {\n        try {\n          field.setAccessible(true);\n          ((Log) field.get(null)).info(jp + &quot; -&gt; logging using apache commons logger&quot;);\n        } catch (IllegalArgumentException | IllegalAccessException e) {\n          e.printStackTrace();\n        }\n      });\n  }\n}\n</code></pre>\n<p><strong>Console log:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>[main] INFO  de.scrum_master.app.Application  - execution(void de.scrum_master.app.Application.methodA()) -&gt; logging using apache commons logger\n</code></pre>\n<p>This kind of reflection stuff is quite ugly and might not work the way you wish in JMS-style modular applications without configurative precautions, if aspect and target class are not in the same module. At least, you could make your loggers public in order to avoid using <code>field.setAccessible(true)</code>.</p>\n"}],"owner":{"account_id":8658836,"reputation":33,"user_id":6482081,"display_name":"Shiv Prakash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70502556,"answer_count":1,"score":0,"last_activity_date":1640663561,"creation_date":1640634035,"question_id":70499733,"body_markdown":"I have a class A which declare a static logger instance and then used in the method of the class. \n\n    class A {\n      static Log log = LogFactory.getLog(A.class);\n       person p = new Person();\n       public void methodA(){\n         // log.info(&quot;logging using apache commons logger&quot;);\n          }\n      }\n\nI have another class B which is @Aspect type. Its method may trigger based on execution of A&#39;s method.\n\n    @Aspect\n     class B{\n\n      @Before(--execution of methodA() pointcut expression--)\n       public void methodB(JoinPoint jp){\n       // How to get the class A&#39;s logger instance to continue logging from same logger instance. As it will print class name   A in logs\n            }\n\n      }\n\n\n\nI want to use the logger instance used in class A to log some message.\n\nHow can I get the object&#39;s state in Aspect class from joinPoint with reflection.\n\n&gt; I am not using spring framework, trying with aspectjrt apectweaver jars\n","title":"Access user-defined object state using java reflection in @Aspect type class","body":"<p>I have a class A which declare a static logger instance and then used in the method of the class.</p>\n<pre><code>class A {\n  static Log log = LogFactory.getLog(A.class);\n   person p = new Person();\n   public void methodA(){\n     // log.info(&quot;logging using apache commons logger&quot;);\n      }\n  }\n</code></pre>\n<p>I have another class B which is @Aspect type. Its method may trigger based on execution of A's method.</p>\n<pre><code>@Aspect\n class B{\n\n  @Before(--execution of methodA() pointcut expression--)\n   public void methodB(JoinPoint jp){\n   // How to get the class A's logger instance to continue logging from same logger instance. As it will print class name   A in logs\n        }\n\n  }\n</code></pre>\n<p>I want to use the logger instance used in class A to log some message.</p>\n<p>How can I get the object's state in Aspect class from joinPoint with reflection.</p>\n<blockquote>\n<p>I am not using spring framework, trying with aspectjrt apectweaver jars</p>\n</blockquote>\n"},{"tags":["java","swing","jframe","awt","jcheckbox"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":1,"creation_date":1640331587,"post_id":70470523,"comment_id":124570925,"body_markdown":"It is not recommended to use null layouts and set bounds manually. Instead, use [layout managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) . Also when `yes` and `no` trigger each other endlessly,  That is why the GUI freezes.","body":"It is not recommended to use null layouts and set bounds manually. Instead, use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">layout managers</a> . Also when <code>yes</code> and <code>no</code> trigger each other endlessly,  That is why the GUI freezes."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640662250,"creation_date":1640332522,"answer_id":70470720,"question_id":70470523,"body_markdown":"Start by having a look at [How to Use Buttons, Check Boxes, and Radio Buttons](https://docs.oracle.com/javase/tutorial/uiswing/components/button.html) and [How to Write an Action Listener](https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html)\r\n\r\nOne thing you want to focus on is the `setActionCommand` for buttons and `getActionCommand` for the `ActionEvent`\r\n\r\nFor example...\r\n\r\n    ActionListener actionListener = new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            System.out.println(&quot;You clicked &quot; + e.getActionCommand());\r\n        }\r\n    };\r\n\r\n    for (int i = 0; i &lt; numberCheckBox; i++) {\r\n        checkBoxList[i] = new JCheckBox(&quot;CheckBox&quot; + i);\r\n        panelCheckBox.add(checkBoxList[i]);\r\n        checkBoxList[i].addActionListener(actionListener);\r\n    }\r\n\r\nYou&#39;re also going to want to take the time to read through [How to Use Scroll Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html) and [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)\r\n\r\nNow, because it annoys me, the following is basically your design using proper layout managers\r\n\r\nYours...\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCompared to mine...\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd now you also have resisability for free\r\n\r\n    import java.awt.Component;\r\n    import java.awt.Container;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JCheckBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JRadioButton;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.border.TitledBorder;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(16, 16, 16, 16));\r\n                setLayout(new GridBagLayout());\r\n\r\n                JTextField textField = new JTextField(40);\r\n\r\n                JRadioButton yes = new JRadioButton(&quot;yes&quot;);\r\n                yes.setSelected(true);\r\n                yes.addActionListener(new ActionListener() {\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (yes.isSelected()) {\r\n                            textField.setEnabled(true);\r\n                        }\r\n                    }\r\n                });\r\n\r\n                JRadioButton no = new JRadioButton(&quot;No&quot;);\r\n                no.addActionListener(new ActionListener() {\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (no.isSelected()) {\r\n                            textField.setEnabled(false);\r\n                        }\r\n                    }\r\n                });\r\n\r\n                JPanel enterClassPane = new JPanel(new GridBagLayout());\r\n                enterClassPane.setBorder(new TitledBorder(null, &quot;Enetr the class&quot;, TitledBorder.LEADING, TitledBorder.TOP, null, null));\r\n                enterClassPane.add(yes);\r\n                enterClassPane.add(no);\r\n\r\n                JPanel panelCheckBox = new JPanel(new WrapLayout(WrapLayout.LEADING));\r\n                int numberCheckBox = 10;\r\n                JCheckBox[] checkBoxList = new JCheckBox[numberCheckBox];\r\n\r\n                for (int i = 0; i &lt; numberCheckBox; i++) {\r\n                    checkBoxList[i] = new JCheckBox(&quot;CheckBox&quot; + i);\r\n                    panelCheckBox.add(checkBoxList[i]);\r\n                    checkBoxList[i].addActionListener(new ActionListener() {\r\n                        @Override\r\n                        public void actionPerformed(ActionEvent e) {\r\n                            System.out.println(&quot;You clicked &quot; + e.getActionCommand());\r\n                        }\r\n                    });\r\n                }\r\n\r\n                JPanel classPane = new JPanel(new GridBagLayout());\r\n                classPane.setBorder(new TitledBorder(null, &quot;Enter Class&quot;, TitledBorder.LEADING, TitledBorder.TOP, null, null));\r\n                classPane.add(textField);\r\n\r\n                JPanel actionsPane = new JPanel(new GridBagLayout());\r\n                JButton btnCancel = new JButton(&quot;Cancel&quot;);\r\n                btnCancel.addActionListener(new ActionListener() {\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        System.exit(1);\r\n                    }\r\n                });\r\n                JButton btnOkay = new JButton(&quot;Okay&quot;);\r\n                btnOkay.addActionListener(new ActionListener() {\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        //Text field\r\n                        System.out.println(textField.getText());\r\n                    }\r\n                });\r\n                actionsPane.add(btnOkay);\r\n                actionsPane.add(btnCancel);\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.insets = new Insets(4, 4, 4, 4);\r\n                gbc.gridwidth = gbc.REMAINDER;\r\n                gbc.fill = gbc.HORIZONTAL;\r\n\r\n                add(enterClassPane, gbc);\r\n                add(new JScrollPane(panelCheckBox), gbc);\r\n                add(classPane, gbc);\r\n                add(actionsPane, gbc);\r\n            }\r\n        }\r\n\r\n        public class WrapLayout extends FlowLayout {\r\n\r\n            private Dimension preferredLayoutSize;\r\n\r\n            /**\r\n             * Constructs a new &lt;code&gt;WrapLayout&lt;/code&gt; with a left alignment and a\r\n             * default 5-unit horizontal and vertical gap.\r\n             */\r\n            public WrapLayout() {\r\n                super();\r\n            }\r\n\r\n            /**\r\n             * Constructs a new &lt;code&gt;FlowLayout&lt;/code&gt; with the specified alignment\r\n             * and a default 5-unit horizontal and vertical gap. The value of the\r\n             * alignment argument must be one of &lt;code&gt;WrapLayout&lt;/code&gt;,\r\n             * &lt;code&gt;WrapLayout&lt;/code&gt;, or &lt;code&gt;WrapLayout&lt;/code&gt;.\r\n             *\r\n             * @param align the alignment value\r\n             */\r\n            public WrapLayout(int align) {\r\n                super(align);\r\n            }\r\n\r\n            /**\r\n             * Creates a new flow layout manager with the indicated alignment and\r\n             * the indicated horizontal and vertical gaps.\r\n             * &lt;p&gt;\r\n             * The value of the alignment argument must be one of\r\n             * &lt;code&gt;WrapLayout&lt;/code&gt;, &lt;code&gt;WrapLayout&lt;/code&gt;, or\r\n             * &lt;code&gt;WrapLayout&lt;/code&gt;.\r\n             *\r\n             * @param align the alignment value\r\n             * @param hgap the horizontal gap between components\r\n             * @param vgap the vertical gap between components\r\n             */\r\n            public WrapLayout(int align, int hgap, int vgap) {\r\n                super(align, hgap, vgap);\r\n            }\r\n\r\n            /**\r\n             * Returns the preferred dimensions for this layout given the\r\n             * &lt;i&gt;visible&lt;/i&gt; components in the specified target container.\r\n             *\r\n             * @param target the component which needs to be laid out\r\n             * @return the preferred dimensions to lay out the subcomponents of the\r\n             * specified container\r\n             */\r\n            @Override\r\n            public Dimension preferredLayoutSize(Container target) {\r\n                return layoutSize(target, true);\r\n            }\r\n\r\n            /**\r\n             * Returns the minimum dimensions needed to layout the &lt;i&gt;visible&lt;/i&gt;\r\n             * components contained in the specified target container.\r\n             *\r\n             * @param target the component which needs to be laid out\r\n             * @return the minimum dimensions to lay out the subcomponents of the\r\n             * specified container\r\n             */\r\n            @Override\r\n            public Dimension minimumLayoutSize(Container target) {\r\n                Dimension minimum = layoutSize(target, false);\r\n                minimum.width -= (getHgap() + 1);\r\n                return minimum;\r\n            }\r\n\r\n            /**\r\n             * Returns the minimum or preferred dimension needed to layout the\r\n             * target container.\r\n             *\r\n             * @param target target to get layout size for\r\n             * @param preferred should preferred size be calculated\r\n             * @return the dimension to layout the target container\r\n             */\r\n            private Dimension layoutSize(Container target, boolean preferred) {\r\n                synchronized (target.getTreeLock()) {\r\n                    //  Each row must fit with the width allocated to the containter.\r\n                    //  When the container width = 0, the preferred width of the container\r\n                    //  has not yet been calculated so lets ask for the maximum.\r\n\r\n                    int targetWidth = target.getSize().width;\r\n                    Container container = target;\r\n\r\n                    while (container.getSize().width == 0 &amp;&amp; container.getParent() != null) {\r\n                        container = container.getParent();\r\n                    }\r\n\r\n                    targetWidth = container.getSize().width;\r\n\r\n                    if (targetWidth == 0) {\r\n                        targetWidth = Integer.MAX_VALUE;\r\n                    }\r\n\r\n                    int hgap = getHgap();\r\n                    int vgap = getVgap();\r\n                    Insets insets = target.getInsets();\r\n                    int horizontalInsetsAndGap = insets.left + insets.right + (hgap * 2);\r\n                    int maxWidth = targetWidth - horizontalInsetsAndGap;\r\n\r\n                    //  Fit components into the allowed width\r\n                    Dimension dim = new Dimension(0, 0);\r\n                    int rowWidth = 0;\r\n                    int rowHeight = 0;\r\n\r\n                    int nmembers = target.getComponentCount();\r\n\r\n                    for (int i = 0; i &lt; nmembers; i++) {\r\n                        Component m = target.getComponent(i);\r\n\r\n                        if (m.isVisible()) {\r\n                            Dimension d = preferred ? m.getPreferredSize() : m.getMinimumSize();\r\n\r\n                            //  Can&#39;t add the component to current row. Start a new row.\r\n                            if (rowWidth + d.width &gt; maxWidth) {\r\n                                addRow(dim, rowWidth, rowHeight);\r\n                                rowWidth = 0;\r\n                                rowHeight = 0;\r\n                            }\r\n\r\n                            //  Add a horizontal gap for all components after the first\r\n                            if (rowWidth != 0) {\r\n                                rowWidth += hgap;\r\n                            }\r\n\r\n                            rowWidth += d.width;\r\n                            rowHeight = Math.max(rowHeight, d.height);\r\n                        }\r\n                    }\r\n\r\n                    addRow(dim, rowWidth, rowHeight);\r\n\r\n                    dim.width += horizontalInsetsAndGap;\r\n                    dim.height += insets.top + insets.bottom + vgap * 2;\r\n\r\n                    //\tWhen using a scroll pane or the DecoratedLookAndFeel we need to\r\n                    //  make sure the preferred size is less than the size of the\r\n                    //  target containter so shrinking the container size works\r\n                    //  correctly. Removing the horizontal gap is an easy way to do this.\r\n                    Container scrollPane = SwingUtilities.getAncestorOfClass(JScrollPane.class, target);\r\n\r\n                    if (scrollPane != null &amp;&amp; target.isValid()) {\r\n                        dim.width -= (hgap + 1);\r\n                    }\r\n\r\n                    return dim;\r\n                }\r\n            }\r\n\r\n            /*\r\n             *  A new row has been completed. Use the dimensions of this row\r\n             *  to update the preferred size for the container.\r\n             *\r\n             *  @param dim update the width and height when appropriate\r\n             *  @param rowWidth the width of the row to add\r\n             *  @param rowHeight the height of the row to add\r\n             */\r\n            private void addRow(Dimension dim, int rowWidth, int rowHeight) {\r\n                dim.width = Math.max(dim.width, rowWidth);\r\n\r\n                if (dim.height &gt; 0) {\r\n                    dim.height += getVgap();\r\n                }\r\n\r\n                dim.height += rowHeight;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n[`WrapLayout`](https://tips4java.wordpress.com/2008/11/06/wrap-layout/)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oK6SV.png\r\n  [2]: https://i.stack.imgur.com/kXnKb.png\r\n\r\n&gt; Actually I want this selected checkbox while I click OKAY Button\r\n\r\nYou have a number of possible options.  One might be to simply add or remove the &quot;action command&quot; of the checkbox from some kind of `List`\r\n\r\nFor example...\r\n\r\n    checkBoxList[i].addActionListener(new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            System.out.println(&quot;You clicked &quot; + e.getActionCommand());\r\n            if (e.getSource() instanceof JCheckBox) {\r\n                JCheckBox cb = (JCheckBox) e.getSource();\r\n                if (cb.isSelected()) {\r\n                    selectedValues.add(cb.getActionCommand());\r\n                } else {\r\n                    selectedValues.remove(cb.getActionCommand());\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n## Runnable example\r\n\r\n\r\n    import java.awt.Component;\r\n    import java.awt.Container;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    import javax.swing.ButtonGroup;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JCheckBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JRadioButton;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.border.TitledBorder;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private Set&lt;String&gt; selectedValues = new HashSet&lt;&gt;(8);\r\n\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(16, 16, 16, 16));\r\n                setLayout(new GridBagLayout());\r\n\r\n                JTextField textField = new JTextField(40);\r\n\r\n                JRadioButton yes = new JRadioButton(&quot;yes&quot;);\r\n                yes.setSelected(true);\r\n                yes.addActionListener(new ActionListener() {\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (yes.isSelected()) {\r\n                            textField.setEnabled(true);\r\n                        }\r\n                    }\r\n                });\r\n\r\n                JRadioButton no = new JRadioButton(&quot;No&quot;);\r\n                no.addActionListener(new ActionListener() {\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (no.isSelected()) {\r\n                            textField.setEnabled(false);\r\n                        }\r\n                    }\r\n                });\r\n\r\n                ButtonGroup bg = new ButtonGroup();\r\n                bg.add(yes);\r\n                bg.add(no);\r\n\r\n                JPanel enterClassPane = new JPanel(new GridBagLayout());\r\n                enterClassPane.setBorder(new TitledBorder(null, &quot;Enetr the class&quot;, TitledBorder.LEADING, TitledBorder.TOP, null, null));\r\n                enterClassPane.add(yes);\r\n                enterClassPane.add(no);\r\n\r\n                JPanel panelCheckBox = new JPanel(new WrapLayout(WrapLayout.LEADING));\r\n                int numberCheckBox = 10;\r\n                JCheckBox[] checkBoxList = new JCheckBox[numberCheckBox];\r\n\r\n                for (int i = 0; i &lt; numberCheckBox; i++) {\r\n                    checkBoxList[i] = new JCheckBox(&quot;CheckBox&quot; + i);\r\n                    panelCheckBox.add(checkBoxList[i]);\r\n                    checkBoxList[i].addActionListener(new ActionListener() {\r\n                        @Override\r\n                        public void actionPerformed(ActionEvent e) {\r\n                            System.out.println(&quot;You clicked &quot; + e.getActionCommand());\r\n                            if (e.getSource() instanceof JCheckBox) {\r\n                                JCheckBox cb = (JCheckBox) e.getSource();\r\n                                if (cb.isSelected()) {\r\n                                    selectedValues.add(cb.getActionCommand());\r\n                                } else {\r\n                                    selectedValues.remove(cb.getActionCommand());\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n\r\n                JPanel classPane = new JPanel(new GridBagLayout());\r\n                classPane.setBorder(new TitledBorder(null, &quot;Enter Class&quot;, TitledBorder.LEADING, TitledBorder.TOP, null, null));\r\n                classPane.add(textField);\r\n\r\n                JPanel actionsPane = new JPanel(new GridBagLayout());\r\n                JButton btnCancel = new JButton(&quot;Cancel&quot;);\r\n                btnCancel.addActionListener(new ActionListener() {\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        System.exit(1);\r\n                    }\r\n                });\r\n                JButton btnOkay = new JButton(&quot;Okay&quot;);\r\n                btnOkay.addActionListener(new ActionListener() {\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        //Text field\r\n                        System.out.println(textField.getText());\r\n\r\n                        for (String command : selectedValues) {\r\n                            System.out.println(command);\r\n                        }\r\n                    }\r\n                });\r\n                actionsPane.add(btnOkay);\r\n                actionsPane.add(btnCancel);\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.insets = new Insets(4, 4, 4, 4);\r\n                gbc.gridwidth = gbc.REMAINDER;\r\n                gbc.fill = gbc.HORIZONTAL;\r\n\r\n                add(enterClassPane, gbc);\r\n                add(new JScrollPane(panelCheckBox), gbc);\r\n                add(classPane, gbc);\r\n                add(actionsPane, gbc);\r\n            }\r\n        }\r\n\r\n        public class WrapLayout extends FlowLayout {\r\n\r\n            private Dimension preferredLayoutSize;\r\n\r\n            /**\r\n             * Constructs a new &lt;code&gt;WrapLayout&lt;/code&gt; with a left alignment and a\r\n             * default 5-unit horizontal and vertical gap.\r\n             */\r\n            public WrapLayout() {\r\n                super();\r\n            }\r\n\r\n            /**\r\n             * Constructs a new &lt;code&gt;FlowLayout&lt;/code&gt; with the specified alignment\r\n             * and a default 5-unit horizontal and vertical gap. The value of the\r\n             * alignment argument must be one of &lt;code&gt;WrapLayout&lt;/code&gt;,\r\n             * &lt;code&gt;WrapLayout&lt;/code&gt;, or &lt;code&gt;WrapLayout&lt;/code&gt;.\r\n             *\r\n             * @param align the alignment value\r\n             */\r\n            public WrapLayout(int align) {\r\n                super(align);\r\n            }\r\n\r\n            /**\r\n             * Creates a new flow layout manager with the indicated alignment and\r\n             * the indicated horizontal and vertical gaps.\r\n             * &lt;p&gt;\r\n             * The value of the alignment argument must be one of\r\n             * &lt;code&gt;WrapLayout&lt;/code&gt;, &lt;code&gt;WrapLayout&lt;/code&gt;, or\r\n             * &lt;code&gt;WrapLayout&lt;/code&gt;.\r\n             *\r\n             * @param align the alignment value\r\n             * @param hgap the horizontal gap between components\r\n             * @param vgap the vertical gap between components\r\n             */\r\n            public WrapLayout(int align, int hgap, int vgap) {\r\n                super(align, hgap, vgap);\r\n            }\r\n\r\n            /**\r\n             * Returns the preferred dimensions for this layout given the\r\n             * &lt;i&gt;visible&lt;/i&gt; components in the specified target container.\r\n             *\r\n             * @param target the component which needs to be laid out\r\n             * @return the preferred dimensions to lay out the subcomponents of the\r\n             * specified container\r\n             */\r\n            @Override\r\n            public Dimension preferredLayoutSize(Container target) {\r\n                return layoutSize(target, true);\r\n            }\r\n\r\n            /**\r\n             * Returns the minimum dimensions needed to layout the &lt;i&gt;visible&lt;/i&gt;\r\n             * components contained in the specified target container.\r\n             *\r\n             * @param target the component which needs to be laid out\r\n             * @return the minimum dimensions to lay out the subcomponents of the\r\n             * specified container\r\n             */\r\n            @Override\r\n            public Dimension minimumLayoutSize(Container target) {\r\n                Dimension minimum = layoutSize(target, false);\r\n                minimum.width -= (getHgap() + 1);\r\n                return minimum;\r\n            }\r\n\r\n            /**\r\n             * Returns the minimum or preferred dimension needed to layout the\r\n             * target container.\r\n             *\r\n             * @param target target to get layout size for\r\n             * @param preferred should preferred size be calculated\r\n             * @return the dimension to layout the target container\r\n             */\r\n            private Dimension layoutSize(Container target, boolean preferred) {\r\n                synchronized (target.getTreeLock()) {\r\n                    //  Each row must fit with the width allocated to the containter.\r\n                    //  When the container width = 0, the preferred width of the container\r\n                    //  has not yet been calculated so lets ask for the maximum.\r\n\r\n                    int targetWidth = target.getSize().width;\r\n                    Container container = target;\r\n\r\n                    while (container.getSize().width == 0 &amp;&amp; container.getParent() != null) {\r\n                        container = container.getParent();\r\n                    }\r\n\r\n                    targetWidth = container.getSize().width;\r\n\r\n                    if (targetWidth == 0) {\r\n                        targetWidth = Integer.MAX_VALUE;\r\n                    }\r\n\r\n                    int hgap = getHgap();\r\n                    int vgap = getVgap();\r\n                    Insets insets = target.getInsets();\r\n                    int horizontalInsetsAndGap = insets.left + insets.right + (hgap * 2);\r\n                    int maxWidth = targetWidth - horizontalInsetsAndGap;\r\n\r\n                    //  Fit components into the allowed width\r\n                    Dimension dim = new Dimension(0, 0);\r\n                    int rowWidth = 0;\r\n                    int rowHeight = 0;\r\n\r\n                    int nmembers = target.getComponentCount();\r\n\r\n                    for (int i = 0; i &lt; nmembers; i++) {\r\n                        Component m = target.getComponent(i);\r\n\r\n                        if (m.isVisible()) {\r\n                            Dimension d = preferred ? m.getPreferredSize() : m.getMinimumSize();\r\n\r\n                            //  Can&#39;t add the component to current row. Start a new row.\r\n                            if (rowWidth + d.width &gt; maxWidth) {\r\n                                addRow(dim, rowWidth, rowHeight);\r\n                                rowWidth = 0;\r\n                                rowHeight = 0;\r\n                            }\r\n\r\n                            //  Add a horizontal gap for all components after the first\r\n                            if (rowWidth != 0) {\r\n                                rowWidth += hgap;\r\n                            }\r\n\r\n                            rowWidth += d.width;\r\n                            rowHeight = Math.max(rowHeight, d.height);\r\n                        }\r\n                    }\r\n\r\n                    addRow(dim, rowWidth, rowHeight);\r\n\r\n                    dim.width += horizontalInsetsAndGap;\r\n                    dim.height += insets.top + insets.bottom + vgap * 2;\r\n\r\n                    //  When using a scroll pane or the DecoratedLookAndFeel we need to\r\n                    //  make sure the preferred size is less than the size of the\r\n                    //  target containter so shrinking the container size works\r\n                    //  correctly. Removing the horizontal gap is an easy way to do this.\r\n                    Container scrollPane = SwingUtilities.getAncestorOfClass(JScrollPane.class, target);\r\n\r\n                    if (scrollPane != null &amp;&amp; target.isValid()) {\r\n                        dim.width -= (hgap + 1);\r\n                    }\r\n\r\n                    return dim;\r\n                }\r\n            }\r\n\r\n            /*\r\n             *  A new row has been completed. Use the dimensions of this row\r\n             *  to update the preferred size for the container.\r\n             *\r\n             *  @param dim update the width and height when appropriate\r\n             *  @param rowWidth the width of the row to add\r\n             *  @param rowHeight the height of the row to add\r\n             */\r\n            private void addRow(Dimension dim, int rowWidth, int rowHeight) {\r\n                dim.width = Math.max(dim.width, rowWidth);\r\n\r\n                if (dim.height &gt; 0) {\r\n                    dim.height += getVgap();\r\n                }\r\n\r\n                dim.height += rowHeight;\r\n            }\r\n        }\r\n    }\r\n","title":"Print dynamic selected checkbox using JFrame","body":"<p>Start by having a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">How to Use Buttons, Check Boxes, and Radio Buttons</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\">How to Write an Action Listener</a></p>\n<p>One thing you want to focus on is the <code>setActionCommand</code> for buttons and <code>getActionCommand</code> for the <code>ActionEvent</code></p>\n<p>For example...</p>\n<pre><code>ActionListener actionListener = new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        System.out.println(&quot;You clicked &quot; + e.getActionCommand());\n    }\n};\n\nfor (int i = 0; i &lt; numberCheckBox; i++) {\n    checkBoxList[i] = new JCheckBox(&quot;CheckBox&quot; + i);\n    panelCheckBox.add(checkBoxList[i]);\n    checkBoxList[i].addActionListener(actionListener);\n}\n</code></pre>\n<p>You're also going to want to take the time to read through <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">How to Use Scroll Panes</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a></p>\n<p>Now, because it annoys me, the following is basically your design using proper layout managers</p>\n<p>Yours...</p>\n<p><a href=\"https://i.stack.imgur.com/oK6SV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oK6SV.png\" alt=\"enter image description here\" /></a></p>\n<p>Compared to mine...</p>\n<p><a href=\"https://i.stack.imgur.com/kXnKb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kXnKb.png\" alt=\"enter image description here\" /></a></p>\n<p>And now you also have resisability for free</p>\n<pre><code>import java.awt.Component;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FlowLayout;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JCheckBox;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JRadioButton;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.border.TitledBorder;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setBorder(new EmptyBorder(16, 16, 16, 16));\n            setLayout(new GridBagLayout());\n\n            JTextField textField = new JTextField(40);\n\n            JRadioButton yes = new JRadioButton(&quot;yes&quot;);\n            yes.setSelected(true);\n            yes.addActionListener(new ActionListener() {\n                public void actionPerformed(ActionEvent e) {\n                    if (yes.isSelected()) {\n                        textField.setEnabled(true);\n                    }\n                }\n            });\n\n            JRadioButton no = new JRadioButton(&quot;No&quot;);\n            no.addActionListener(new ActionListener() {\n                public void actionPerformed(ActionEvent e) {\n                    if (no.isSelected()) {\n                        textField.setEnabled(false);\n                    }\n                }\n            });\n\n            JPanel enterClassPane = new JPanel(new GridBagLayout());\n            enterClassPane.setBorder(new TitledBorder(null, &quot;Enetr the class&quot;, TitledBorder.LEADING, TitledBorder.TOP, null, null));\n            enterClassPane.add(yes);\n            enterClassPane.add(no);\n\n            JPanel panelCheckBox = new JPanel(new WrapLayout(WrapLayout.LEADING));\n            int numberCheckBox = 10;\n            JCheckBox[] checkBoxList = new JCheckBox[numberCheckBox];\n\n            for (int i = 0; i &lt; numberCheckBox; i++) {\n                checkBoxList[i] = new JCheckBox(&quot;CheckBox&quot; + i);\n                panelCheckBox.add(checkBoxList[i]);\n                checkBoxList[i].addActionListener(new ActionListener() {\n                    @Override\n                    public void actionPerformed(ActionEvent e) {\n                        System.out.println(&quot;You clicked &quot; + e.getActionCommand());\n                    }\n                });\n            }\n\n            JPanel classPane = new JPanel(new GridBagLayout());\n            classPane.setBorder(new TitledBorder(null, &quot;Enter Class&quot;, TitledBorder.LEADING, TitledBorder.TOP, null, null));\n            classPane.add(textField);\n\n            JPanel actionsPane = new JPanel(new GridBagLayout());\n            JButton btnCancel = new JButton(&quot;Cancel&quot;);\n            btnCancel.addActionListener(new ActionListener() {\n                public void actionPerformed(ActionEvent e) {\n                    System.exit(1);\n                }\n            });\n            JButton btnOkay = new JButton(&quot;Okay&quot;);\n            btnOkay.addActionListener(new ActionListener() {\n                public void actionPerformed(ActionEvent e) {\n                    //Text field\n                    System.out.println(textField.getText());\n                }\n            });\n            actionsPane.add(btnOkay);\n            actionsPane.add(btnCancel);\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.insets = new Insets(4, 4, 4, 4);\n            gbc.gridwidth = gbc.REMAINDER;\n            gbc.fill = gbc.HORIZONTAL;\n\n            add(enterClassPane, gbc);\n            add(new JScrollPane(panelCheckBox), gbc);\n            add(classPane, gbc);\n            add(actionsPane, gbc);\n        }\n    }\n\n    public class WrapLayout extends FlowLayout {\n\n        private Dimension preferredLayoutSize;\n\n        /**\n         * Constructs a new &lt;code&gt;WrapLayout&lt;/code&gt; with a left alignment and a\n         * default 5-unit horizontal and vertical gap.\n         */\n        public WrapLayout() {\n            super();\n        }\n\n        /**\n         * Constructs a new &lt;code&gt;FlowLayout&lt;/code&gt; with the specified alignment\n         * and a default 5-unit horizontal and vertical gap. The value of the\n         * alignment argument must be one of &lt;code&gt;WrapLayout&lt;/code&gt;,\n         * &lt;code&gt;WrapLayout&lt;/code&gt;, or &lt;code&gt;WrapLayout&lt;/code&gt;.\n         *\n         * @param align the alignment value\n         */\n        public WrapLayout(int align) {\n            super(align);\n        }\n\n        /**\n         * Creates a new flow layout manager with the indicated alignment and\n         * the indicated horizontal and vertical gaps.\n         * &lt;p&gt;\n         * The value of the alignment argument must be one of\n         * &lt;code&gt;WrapLayout&lt;/code&gt;, &lt;code&gt;WrapLayout&lt;/code&gt;, or\n         * &lt;code&gt;WrapLayout&lt;/code&gt;.\n         *\n         * @param align the alignment value\n         * @param hgap the horizontal gap between components\n         * @param vgap the vertical gap between components\n         */\n        public WrapLayout(int align, int hgap, int vgap) {\n            super(align, hgap, vgap);\n        }\n\n        /**\n         * Returns the preferred dimensions for this layout given the\n         * &lt;i&gt;visible&lt;/i&gt; components in the specified target container.\n         *\n         * @param target the component which needs to be laid out\n         * @return the preferred dimensions to lay out the subcomponents of the\n         * specified container\n         */\n        @Override\n        public Dimension preferredLayoutSize(Container target) {\n            return layoutSize(target, true);\n        }\n\n        /**\n         * Returns the minimum dimensions needed to layout the &lt;i&gt;visible&lt;/i&gt;\n         * components contained in the specified target container.\n         *\n         * @param target the component which needs to be laid out\n         * @return the minimum dimensions to lay out the subcomponents of the\n         * specified container\n         */\n        @Override\n        public Dimension minimumLayoutSize(Container target) {\n            Dimension minimum = layoutSize(target, false);\n            minimum.width -= (getHgap() + 1);\n            return minimum;\n        }\n\n        /**\n         * Returns the minimum or preferred dimension needed to layout the\n         * target container.\n         *\n         * @param target target to get layout size for\n         * @param preferred should preferred size be calculated\n         * @return the dimension to layout the target container\n         */\n        private Dimension layoutSize(Container target, boolean preferred) {\n            synchronized (target.getTreeLock()) {\n                //  Each row must fit with the width allocated to the containter.\n                //  When the container width = 0, the preferred width of the container\n                //  has not yet been calculated so lets ask for the maximum.\n\n                int targetWidth = target.getSize().width;\n                Container container = target;\n\n                while (container.getSize().width == 0 &amp;&amp; container.getParent() != null) {\n                    container = container.getParent();\n                }\n\n                targetWidth = container.getSize().width;\n\n                if (targetWidth == 0) {\n                    targetWidth = Integer.MAX_VALUE;\n                }\n\n                int hgap = getHgap();\n                int vgap = getVgap();\n                Insets insets = target.getInsets();\n                int horizontalInsetsAndGap = insets.left + insets.right + (hgap * 2);\n                int maxWidth = targetWidth - horizontalInsetsAndGap;\n\n                //  Fit components into the allowed width\n                Dimension dim = new Dimension(0, 0);\n                int rowWidth = 0;\n                int rowHeight = 0;\n\n                int nmembers = target.getComponentCount();\n\n                for (int i = 0; i &lt; nmembers; i++) {\n                    Component m = target.getComponent(i);\n\n                    if (m.isVisible()) {\n                        Dimension d = preferred ? m.getPreferredSize() : m.getMinimumSize();\n\n                        //  Can't add the component to current row. Start a new row.\n                        if (rowWidth + d.width &gt; maxWidth) {\n                            addRow(dim, rowWidth, rowHeight);\n                            rowWidth = 0;\n                            rowHeight = 0;\n                        }\n\n                        //  Add a horizontal gap for all components after the first\n                        if (rowWidth != 0) {\n                            rowWidth += hgap;\n                        }\n\n                        rowWidth += d.width;\n                        rowHeight = Math.max(rowHeight, d.height);\n                    }\n                }\n\n                addRow(dim, rowWidth, rowHeight);\n\n                dim.width += horizontalInsetsAndGap;\n                dim.height += insets.top + insets.bottom + vgap * 2;\n\n                //  When using a scroll pane or the DecoratedLookAndFeel we need to\n                //  make sure the preferred size is less than the size of the\n                //  target containter so shrinking the container size works\n                //  correctly. Removing the horizontal gap is an easy way to do this.\n                Container scrollPane = SwingUtilities.getAncestorOfClass(JScrollPane.class, target);\n\n                if (scrollPane != null &amp;&amp; target.isValid()) {\n                    dim.width -= (hgap + 1);\n                }\n\n                return dim;\n            }\n        }\n\n        /*\n         *  A new row has been completed. Use the dimensions of this row\n         *  to update the preferred size for the container.\n         *\n         *  @param dim update the width and height when appropriate\n         *  @param rowWidth the width of the row to add\n         *  @param rowHeight the height of the row to add\n         */\n        private void addRow(Dimension dim, int rowWidth, int rowHeight) {\n            dim.width = Math.max(dim.width, rowWidth);\n\n            if (dim.height &gt; 0) {\n                dim.height += getVgap();\n            }\n\n            dim.height += rowHeight;\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://tips4java.wordpress.com/2008/11/06/wrap-layout/\" rel=\"nofollow noreferrer\"><code>WrapLayout</code></a></p>\n<blockquote>\n<p>Actually I want this selected checkbox while I click OKAY Button</p>\n</blockquote>\n<p>You have a number of possible options.  One might be to simply add or remove the &quot;action command&quot; of the checkbox from some kind of <code>List</code></p>\n<p>For example...</p>\n<pre><code>checkBoxList[i].addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        System.out.println(&quot;You clicked &quot; + e.getActionCommand());\n        if (e.getSource() instanceof JCheckBox) {\n            JCheckBox cb = (JCheckBox) e.getSource();\n            if (cb.isSelected()) {\n                selectedValues.add(cb.getActionCommand());\n            } else {\n                selectedValues.remove(cb.getActionCommand());\n            }\n        }\n    }\n});\n</code></pre>\n<h2>Runnable example</h2>\n<pre><code>import java.awt.Component;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FlowLayout;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.HashSet;\nimport java.util.Set;\nimport javax.swing.ButtonGroup;\nimport javax.swing.JButton;\nimport javax.swing.JCheckBox;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JRadioButton;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.border.TitledBorder;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private Set&lt;String&gt; selectedValues = new HashSet&lt;&gt;(8);\n\n        public TestPane() {\n            setBorder(new EmptyBorder(16, 16, 16, 16));\n            setLayout(new GridBagLayout());\n\n            JTextField textField = new JTextField(40);\n\n            JRadioButton yes = new JRadioButton(&quot;yes&quot;);\n            yes.setSelected(true);\n            yes.addActionListener(new ActionListener() {\n                public void actionPerformed(ActionEvent e) {\n                    if (yes.isSelected()) {\n                        textField.setEnabled(true);\n                    }\n                }\n            });\n\n            JRadioButton no = new JRadioButton(&quot;No&quot;);\n            no.addActionListener(new ActionListener() {\n                public void actionPerformed(ActionEvent e) {\n                    if (no.isSelected()) {\n                        textField.setEnabled(false);\n                    }\n                }\n            });\n\n            ButtonGroup bg = new ButtonGroup();\n            bg.add(yes);\n            bg.add(no);\n\n            JPanel enterClassPane = new JPanel(new GridBagLayout());\n            enterClassPane.setBorder(new TitledBorder(null, &quot;Enetr the class&quot;, TitledBorder.LEADING, TitledBorder.TOP, null, null));\n            enterClassPane.add(yes);\n            enterClassPane.add(no);\n\n            JPanel panelCheckBox = new JPanel(new WrapLayout(WrapLayout.LEADING));\n            int numberCheckBox = 10;\n            JCheckBox[] checkBoxList = new JCheckBox[numberCheckBox];\n\n            for (int i = 0; i &lt; numberCheckBox; i++) {\n                checkBoxList[i] = new JCheckBox(&quot;CheckBox&quot; + i);\n                panelCheckBox.add(checkBoxList[i]);\n                checkBoxList[i].addActionListener(new ActionListener() {\n                    @Override\n                    public void actionPerformed(ActionEvent e) {\n                        System.out.println(&quot;You clicked &quot; + e.getActionCommand());\n                        if (e.getSource() instanceof JCheckBox) {\n                            JCheckBox cb = (JCheckBox) e.getSource();\n                            if (cb.isSelected()) {\n                                selectedValues.add(cb.getActionCommand());\n                            } else {\n                                selectedValues.remove(cb.getActionCommand());\n                            }\n                        }\n                    }\n                });\n            }\n\n            JPanel classPane = new JPanel(new GridBagLayout());\n            classPane.setBorder(new TitledBorder(null, &quot;Enter Class&quot;, TitledBorder.LEADING, TitledBorder.TOP, null, null));\n            classPane.add(textField);\n\n            JPanel actionsPane = new JPanel(new GridBagLayout());\n            JButton btnCancel = new JButton(&quot;Cancel&quot;);\n            btnCancel.addActionListener(new ActionListener() {\n                public void actionPerformed(ActionEvent e) {\n                    System.exit(1);\n                }\n            });\n            JButton btnOkay = new JButton(&quot;Okay&quot;);\n            btnOkay.addActionListener(new ActionListener() {\n                public void actionPerformed(ActionEvent e) {\n                    //Text field\n                    System.out.println(textField.getText());\n\n                    for (String command : selectedValues) {\n                        System.out.println(command);\n                    }\n                }\n            });\n            actionsPane.add(btnOkay);\n            actionsPane.add(btnCancel);\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.insets = new Insets(4, 4, 4, 4);\n            gbc.gridwidth = gbc.REMAINDER;\n            gbc.fill = gbc.HORIZONTAL;\n\n            add(enterClassPane, gbc);\n            add(new JScrollPane(panelCheckBox), gbc);\n            add(classPane, gbc);\n            add(actionsPane, gbc);\n        }\n    }\n\n    public class WrapLayout extends FlowLayout {\n\n        private Dimension preferredLayoutSize;\n\n        /**\n         * Constructs a new &lt;code&gt;WrapLayout&lt;/code&gt; with a left alignment and a\n         * default 5-unit horizontal and vertical gap.\n         */\n        public WrapLayout() {\n            super();\n        }\n\n        /**\n         * Constructs a new &lt;code&gt;FlowLayout&lt;/code&gt; with the specified alignment\n         * and a default 5-unit horizontal and vertical gap. The value of the\n         * alignment argument must be one of &lt;code&gt;WrapLayout&lt;/code&gt;,\n         * &lt;code&gt;WrapLayout&lt;/code&gt;, or &lt;code&gt;WrapLayout&lt;/code&gt;.\n         *\n         * @param align the alignment value\n         */\n        public WrapLayout(int align) {\n            super(align);\n        }\n\n        /**\n         * Creates a new flow layout manager with the indicated alignment and\n         * the indicated horizontal and vertical gaps.\n         * &lt;p&gt;\n         * The value of the alignment argument must be one of\n         * &lt;code&gt;WrapLayout&lt;/code&gt;, &lt;code&gt;WrapLayout&lt;/code&gt;, or\n         * &lt;code&gt;WrapLayout&lt;/code&gt;.\n         *\n         * @param align the alignment value\n         * @param hgap the horizontal gap between components\n         * @param vgap the vertical gap between components\n         */\n        public WrapLayout(int align, int hgap, int vgap) {\n            super(align, hgap, vgap);\n        }\n\n        /**\n         * Returns the preferred dimensions for this layout given the\n         * &lt;i&gt;visible&lt;/i&gt; components in the specified target container.\n         *\n         * @param target the component which needs to be laid out\n         * @return the preferred dimensions to lay out the subcomponents of the\n         * specified container\n         */\n        @Override\n        public Dimension preferredLayoutSize(Container target) {\n            return layoutSize(target, true);\n        }\n\n        /**\n         * Returns the minimum dimensions needed to layout the &lt;i&gt;visible&lt;/i&gt;\n         * components contained in the specified target container.\n         *\n         * @param target the component which needs to be laid out\n         * @return the minimum dimensions to lay out the subcomponents of the\n         * specified container\n         */\n        @Override\n        public Dimension minimumLayoutSize(Container target) {\n            Dimension minimum = layoutSize(target, false);\n            minimum.width -= (getHgap() + 1);\n            return minimum;\n        }\n\n        /**\n         * Returns the minimum or preferred dimension needed to layout the\n         * target container.\n         *\n         * @param target target to get layout size for\n         * @param preferred should preferred size be calculated\n         * @return the dimension to layout the target container\n         */\n        private Dimension layoutSize(Container target, boolean preferred) {\n            synchronized (target.getTreeLock()) {\n                //  Each row must fit with the width allocated to the containter.\n                //  When the container width = 0, the preferred width of the container\n                //  has not yet been calculated so lets ask for the maximum.\n\n                int targetWidth = target.getSize().width;\n                Container container = target;\n\n                while (container.getSize().width == 0 &amp;&amp; container.getParent() != null) {\n                    container = container.getParent();\n                }\n\n                targetWidth = container.getSize().width;\n\n                if (targetWidth == 0) {\n                    targetWidth = Integer.MAX_VALUE;\n                }\n\n                int hgap = getHgap();\n                int vgap = getVgap();\n                Insets insets = target.getInsets();\n                int horizontalInsetsAndGap = insets.left + insets.right + (hgap * 2);\n                int maxWidth = targetWidth - horizontalInsetsAndGap;\n\n                //  Fit components into the allowed width\n                Dimension dim = new Dimension(0, 0);\n                int rowWidth = 0;\n                int rowHeight = 0;\n\n                int nmembers = target.getComponentCount();\n\n                for (int i = 0; i &lt; nmembers; i++) {\n                    Component m = target.getComponent(i);\n\n                    if (m.isVisible()) {\n                        Dimension d = preferred ? m.getPreferredSize() : m.getMinimumSize();\n\n                        //  Can't add the component to current row. Start a new row.\n                        if (rowWidth + d.width &gt; maxWidth) {\n                            addRow(dim, rowWidth, rowHeight);\n                            rowWidth = 0;\n                            rowHeight = 0;\n                        }\n\n                        //  Add a horizontal gap for all components after the first\n                        if (rowWidth != 0) {\n                            rowWidth += hgap;\n                        }\n\n                        rowWidth += d.width;\n                        rowHeight = Math.max(rowHeight, d.height);\n                    }\n                }\n\n                addRow(dim, rowWidth, rowHeight);\n\n                dim.width += horizontalInsetsAndGap;\n                dim.height += insets.top + insets.bottom + vgap * 2;\n\n                //  When using a scroll pane or the DecoratedLookAndFeel we need to\n                //  make sure the preferred size is less than the size of the\n                //  target containter so shrinking the container size works\n                //  correctly. Removing the horizontal gap is an easy way to do this.\n                Container scrollPane = SwingUtilities.getAncestorOfClass(JScrollPane.class, target);\n\n                if (scrollPane != null &amp;&amp; target.isValid()) {\n                    dim.width -= (hgap + 1);\n                }\n\n                return dim;\n            }\n        }\n\n        /*\n         *  A new row has been completed. Use the dimensions of this row\n         *  to update the preferred size for the container.\n         *\n         *  @param dim update the width and height when appropriate\n         *  @param rowWidth the width of the row to add\n         *  @param rowHeight the height of the row to add\n         */\n        private void addRow(Dimension dim, int rowWidth, int rowHeight) {\n            dim.width = Math.max(dim.width, rowWidth);\n\n            if (dim.height &gt; 0) {\n                dim.height += getVgap();\n            }\n\n            dim.height += rowHeight;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640335162,"creation_date":1640335162,"answer_id":70471025,"question_id":70470523,"body_markdown":"Instead of using null layouts and setting bounds manually, I would suggest using a combination of basic layout managers for the job. &lt;/br&gt;\r\nNote the comments and the use of `ButtonGroup` for the `JRadioButton`s: \r\n\r\n\t\r\n\timport java.awt.*;\r\n\timport javax.swing.*;\r\n\timport javax.swing.border.*;\r\n\t\r\n\tpublic class JFrameMain extends JFrame {\r\n\t\tprivate final JPanel contentPane;\r\n\t\tprivate final JButton btnOkay;\r\n\t\tprivate JTextField textField = null;\r\n\t\tprivate final JRadioButton yes;\r\n\t\tprivate final JRadioButton no;\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tEventQueue.invokeLater(() -&gt; {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tJFrameMain frame = new JFrameMain();\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t\tcatch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\r\n\t\tpublic JFrameMain() {\r\n\t\r\n\t\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tcontentPane = new JPanel();\r\n\t\t\tcontentPane.setBorder(new BevelBorder(BevelBorder.LOWERED, null, null, null, null));\r\n\t\t\tcontentPane.setLayout(new BoxLayout(contentPane, BoxLayout.PAGE_AXIS));\r\n\t\t\tsetContentPane(contentPane);\r\n\t\r\n\t\t\tJPanel panel = new JPanel(); //use the default FlowLayoyt\r\n\t\t\tpanel.setBorder(new TitledBorder(null, &quot;Enetr the class&quot;, TitledBorder.LEADING, TitledBorder.TOP, null, null));\r\n\t\t\tcontentPane.add(panel);\r\n\t\r\n\t\t\tyes = new JRadioButton(&quot;yes&quot;);\r\n\t\t\tyes.setSelected(true);\r\n\t\t\tpanel.add(yes);\r\n\t\t    yes.addActionListener(e -&gt; {\r\n\t\t        if(yes.isSelected()) {\r\n\t\t          textField.setEnabled(true);\r\n\t\t        }\r\n\t\t      });\r\n\t\r\n\t\t\tno = new JRadioButton(&quot;No&quot;);\r\n\t\t\tpanel.add(no);\r\n\t\t    no.addActionListener(e -&gt; {\r\n\t\t        if(no.isSelected())\t        {\r\n\t\t          textField.setEnabled(false);\r\n\t\t        }\r\n\t\t      });\r\n\t\r\n\t\t\t//for the required functionality add the radio buttons to ButtonGroup\r\n\t\t\tButtonGroup bg = new ButtonGroup();\r\n\t\t\tbg.add(yes);  bg.add(no);\r\n\t\r\n\t\t\tJPanel panelCheckBox = new JPanel();\r\n\t\t\tpanelCheckBox.setBorder(new BevelBorder(BevelBorder.LOWERED, null, null, null, null));\r\n\t\t\tcontentPane.add(panelCheckBox); //or  contentPane.add(new JScrollPane(panelCheckBox));\r\n\t\r\n\t\t\tcontentPane.add(panelCheckBox);\r\n\t\t\tpanelCheckBox.setLayout(new GridLayout(0, 4, 5, 5)); //GridLayout is a better choice for mre than MigLayout\r\n\t\t\tint numberCheckBox = 10;\r\n\t\t\tJCheckBox[] checkBoxList = new JCheckBox[numberCheckBox];\r\n\t\r\n\t\t\tfor(int i = 0; i &lt; numberCheckBox; i++) {\r\n\t\t\t\tJCheckBox cb  = new JCheckBox(&quot;CheckBox&quot; + i);\r\n\t\t\t\tpanelCheckBox.add(cb);\r\n\t\t\t\tcb.addActionListener(e-&gt;System.out.println(cb.getText() +&quot; selected&quot;));\r\n\t\t\t\tcheckBoxList[i] = cb;\r\n\t\t\t}\r\n\t\r\n\t\t\tJPanel panel_1 = new JPanel();//use the default FlowLayoyt\r\n\t\t\tpanel_1.setBorder(new TitledBorder(null, &quot;Enter Class&quot;, TitledBorder.LEADING, TitledBorder.TOP, null, null));\r\n\t\t\tcontentPane.add(panel_1);\r\n\t\r\n\t\t\ttextField = new JTextField();\r\n\t\t\ttextField.setColumns(40);\r\n\t\t\tpanel_1.add(textField);\r\n\t\r\n\t\t\tJPanel buttonspane = new JPanel(); //use a panel with the default FlowLayoyt for the buttons\r\n\t\t\tcontentPane.add(buttonspane);\r\n\t\t\tbtnOkay = new JButton(&quot;Okay&quot;);\r\n\t\t\tbtnOkay.addActionListener(e -&gt; System.out.println(textField.getText()));\r\n\t\t\tbuttonspane.add(btnOkay);\r\n\t\r\n\t\t\tJButton btnCancel = new JButton(&quot;Cancel&quot;);\r\n\t\t\tbtnCancel.addActionListener(e -&gt; System.exit(1));\r\n\t\t\tbuttonspane.add(btnCancel);\r\n\t\r\n\t\t\tpack();\r\n\t\t}\r\n\t}\r\n","title":"Print dynamic selected checkbox using JFrame","body":"<p>Instead of using null layouts and setting bounds manually, I would suggest using a combination of basic layout managers for the job. \nNote the comments and the use of <code>ButtonGroup</code> for the <code>JRadioButton</code>s:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.border.*;\n\npublic class JFrameMain extends JFrame {\n    private final JPanel contentPane;\n    private final JButton btnOkay;\n    private JTextField textField = null;\n    private final JRadioButton yes;\n    private final JRadioButton no;\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; {\n            try {\n                JFrameMain frame = new JFrameMain();\n                frame.setVisible(true);\n            }\n            catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n    }\n\n    public JFrameMain() {\n\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        contentPane = new JPanel();\n        contentPane.setBorder(new BevelBorder(BevelBorder.LOWERED, null, null, null, null));\n        contentPane.setLayout(new BoxLayout(contentPane, BoxLayout.PAGE_AXIS));\n        setContentPane(contentPane);\n\n        JPanel panel = new JPanel(); //use the default FlowLayoyt\n        panel.setBorder(new TitledBorder(null, &quot;Enetr the class&quot;, TitledBorder.LEADING, TitledBorder.TOP, null, null));\n        contentPane.add(panel);\n\n        yes = new JRadioButton(&quot;yes&quot;);\n        yes.setSelected(true);\n        panel.add(yes);\n        yes.addActionListener(e -&gt; {\n            if(yes.isSelected()) {\n              textField.setEnabled(true);\n            }\n          });\n\n        no = new JRadioButton(&quot;No&quot;);\n        panel.add(no);\n        no.addActionListener(e -&gt; {\n            if(no.isSelected())         {\n              textField.setEnabled(false);\n            }\n          });\n\n        //for the required functionality add the radio buttons to ButtonGroup\n        ButtonGroup bg = new ButtonGroup();\n        bg.add(yes);  bg.add(no);\n\n        JPanel panelCheckBox = new JPanel();\n        panelCheckBox.setBorder(new BevelBorder(BevelBorder.LOWERED, null, null, null, null));\n        contentPane.add(panelCheckBox); //or  contentPane.add(new JScrollPane(panelCheckBox));\n\n        contentPane.add(panelCheckBox);\n        panelCheckBox.setLayout(new GridLayout(0, 4, 5, 5)); //GridLayout is a better choice for mre than MigLayout\n        int numberCheckBox = 10;\n        JCheckBox[] checkBoxList = new JCheckBox[numberCheckBox];\n\n        for(int i = 0; i &lt; numberCheckBox; i++) {\n            JCheckBox cb  = new JCheckBox(&quot;CheckBox&quot; + i);\n            panelCheckBox.add(cb);\n            cb.addActionListener(e-&gt;System.out.println(cb.getText() +&quot; selected&quot;));\n            checkBoxList[i] = cb;\n        }\n\n        JPanel panel_1 = new JPanel();//use the default FlowLayoyt\n        panel_1.setBorder(new TitledBorder(null, &quot;Enter Class&quot;, TitledBorder.LEADING, TitledBorder.TOP, null, null));\n        contentPane.add(panel_1);\n\n        textField = new JTextField();\n        textField.setColumns(40);\n        panel_1.add(textField);\n\n        JPanel buttonspane = new JPanel(); //use a panel with the default FlowLayoyt for the buttons\n        contentPane.add(buttonspane);\n        btnOkay = new JButton(&quot;Okay&quot;);\n        btnOkay.addActionListener(e -&gt; System.out.println(textField.getText()));\n        buttonspane.add(btnOkay);\n\n        JButton btnCancel = new JButton(&quot;Cancel&quot;);\n        btnCancel.addActionListener(e -&gt; System.exit(1));\n        buttonspane.add(btnCancel);\n\n        pack();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22885890,"reputation":45,"user_id":17026777,"display_name":"vinoth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70470720,"answer_count":2,"score":1,"last_activity_date":1640662250,"creation_date":1640330952,"question_id":70470523,"body_markdown":"I&#39;m new to `JFrame`, I was trying to populate dynamic checkboxes with a scroll pane. I tried with some code as seen below. My Focus is: \r\n\r\n1. Get the selected dynamic checkbox&#39;s name. \r\n2. While I click no (Radio button) the check box panel is set to disabled/frozen/uncheckable.\r\n\r\n```\r\nimport java.awt.EventQueue;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JCheckBox;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JRadioButton;\r\nimport javax.swing.JScrollBar;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.border.BevelBorder;\r\nimport javax.swing.border.TitledBorder;\r\n\r\nimport net.miginfocom.swing.MigLayout;\r\npublic class JFrameMain extends JFrame {\r\n  private JPanel contentPane;\r\n  private JButton btnOkay;\r\n  private JTextField textField;\r\n  private JRadioButton yes;\r\n  private JRadioButton no;\r\n  // Launch the application.\r\n  \r\n  public static void main(String[] args) {\r\n    EventQueue.invokeLater(new Runnable() {\r\n      public void run() {\r\n        try {\r\n          JFrameMain frame = new JFrameMain();\r\n          frame.setVisible(true);\r\n        }\r\n        catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  \r\n   // Create the frame.\r\n  public JFrameMain() {\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    setBounds(100, 100, 556, 383);\r\n    contentPane = new JPanel();\r\n    contentPane.setBorder(new BevelBorder(BevelBorder.LOWERED, null, null, null, null));\r\n    setContentPane(contentPane);\r\n    contentPane.setLayout(null);\r\n    \r\n    JPanel panel = new JPanel();\r\n    panel.setBorder(new TitledBorder(null, &quot;Enetr the class&quot;, TitledBorder.LEADING, TitledBorder.TOP, null, null));\r\n    panel.setBounds(44, 23, 443, 53);\r\n    contentPane.add(panel);\r\n    panel.setLayout(null);\r\n    \r\n    yes = new JRadioButton(&quot;yes&quot;);\r\n    yes.setSelected(true);\r\n    yes.setBounds(144, 20, 64, 25);\r\n    panel.add(yes);\r\n    yes.addActionListener(new ActionListener() {\r\n      public void actionPerformed(ActionEvent e) {\r\n        if(yes.isSelected())\r\n        {\r\n          no.setSelected(false);\r\n          textField.setEnabled(true);       \r\n        }\r\n      }\r\n    });\r\n    \r\n    no = new JRadioButton(&quot;No&quot;);\r\n    no.setBounds(212, 20, 64, 25);\r\n    panel.add(no);\r\n    no.addActionListener(new ActionListener() {\r\n      public void actionPerformed(ActionEvent e) {\r\n        if(no.isSelected())\r\n        {\r\n          yes.setSelected(false);\r\n          textField.setEnabled(false);\r\n        }\r\n      }\r\n    });\r\n    \r\n    btnOkay = new JButton(&quot;Okay&quot;);\r\n    btnOkay.addActionListener(new ActionListener() {\r\n      public void actionPerformed(ActionEvent e) {\r\n        //Text field\r\n        System.out.println(textField.getText());\r\n      }\r\n    });\r\n    btnOkay.setBounds(120, 281, 97, 25);\r\n    contentPane.add(btnOkay);\r\n    \r\n    JPanel panelCheckBox = new JPanel();\r\n    panelCheckBox.setBorder(new BevelBorder(BevelBorder.LOWERED, null, null, null, null));\r\n    panelCheckBox.setBounds(44, 89, 443, 90);\r\n    contentPane.add(panelCheckBox);\r\n    panelCheckBox.setLayout(new MigLayout(&quot;&quot;, &quot;[]&quot;, &quot;[]&quot;));\r\n    int numberCheckBox = 10;\r\n    JCheckBox[] checkBoxList = new JCheckBox[numberCheckBox];\r\n\r\n    for(int i = 0; i &lt; numberCheckBox; i++) {\r\n        checkBoxList[i] = new JCheckBox(&quot;CheckBox&quot; + i);\r\n        panelCheckBox.add(checkBoxList[i]);\r\n    }\r\n    JScrollBar scrollBar = new JScrollBar();\r\n    scrollBar.setBounds(492, 89, 21, 90);\r\n    contentPane.add(scrollBar);\r\n    \r\n    JPanel panel_1 = new JPanel();\r\n    panel_1.setBorder(new TitledBorder(null, &quot;Enter Class&quot;, TitledBorder.LEADING, TitledBorder.TOP, null, null));\r\n    panel_1.setBounds(44, 192, 443, 66);\r\n    contentPane.add(panel_1);\r\n    panel_1.setLayout(null);\r\n    \r\n    textField = new JTextField();\r\n    //textField.setEnabled(false);\r\n    textField.setBounds(55, 23, 336, 22);\r\n    panel_1.add(textField);\r\n    textField.setColumns(10);\r\n   \r\n    \r\n    JButton btnCancel = new JButton(&quot;Cancel&quot;);\r\n    btnCancel.addActionListener(new ActionListener() {\r\n      public void actionPerformed(ActionEvent e) {\r\n        System.exit(1);\r\n      }\r\n    });\r\n    btnCancel.setBounds(263, 281, 97, 25);\r\n    contentPane.add(btnCancel);\r\n     }\r\n}\r\n  \r\n```\r\n\r\nI was stuck with this for the past 3 days. Can&#39;t get the selected checkbox name in dynamic checkboxes. Can anyone help me with this? \r\n","title":"Print dynamic selected checkbox using JFrame","body":"<p>I'm new to <code>JFrame</code>, I was trying to populate dynamic checkboxes with a scroll pane. I tried with some code as seen below. My Focus is:</p>\n<ol>\n<li>Get the selected dynamic checkbox's name.</li>\n<li>While I click no (Radio button) the check box panel is set to disabled/frozen/uncheckable.</li>\n</ol>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JButton;\nimport javax.swing.JCheckBox;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JRadioButton;\nimport javax.swing.JScrollBar;\nimport javax.swing.JTextField;\nimport javax.swing.border.BevelBorder;\nimport javax.swing.border.TitledBorder;\n\nimport net.miginfocom.swing.MigLayout;\npublic class JFrameMain extends JFrame {\n  private JPanel contentPane;\n  private JButton btnOkay;\n  private JTextField textField;\n  private JRadioButton yes;\n  private JRadioButton no;\n  // Launch the application.\n  \n  public static void main(String[] args) {\n    EventQueue.invokeLater(new Runnable() {\n      public void run() {\n        try {\n          JFrameMain frame = new JFrameMain();\n          frame.setVisible(true);\n        }\n        catch (Exception e) {\n          e.printStackTrace();\n        }\n      }\n    });\n  }\n\n  \n   // Create the frame.\n  public JFrameMain() {\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setBounds(100, 100, 556, 383);\n    contentPane = new JPanel();\n    contentPane.setBorder(new BevelBorder(BevelBorder.LOWERED, null, null, null, null));\n    setContentPane(contentPane);\n    contentPane.setLayout(null);\n    \n    JPanel panel = new JPanel();\n    panel.setBorder(new TitledBorder(null, &quot;Enetr the class&quot;, TitledBorder.LEADING, TitledBorder.TOP, null, null));\n    panel.setBounds(44, 23, 443, 53);\n    contentPane.add(panel);\n    panel.setLayout(null);\n    \n    yes = new JRadioButton(&quot;yes&quot;);\n    yes.setSelected(true);\n    yes.setBounds(144, 20, 64, 25);\n    panel.add(yes);\n    yes.addActionListener(new ActionListener() {\n      public void actionPerformed(ActionEvent e) {\n        if(yes.isSelected())\n        {\n          no.setSelected(false);\n          textField.setEnabled(true);       \n        }\n      }\n    });\n    \n    no = new JRadioButton(&quot;No&quot;);\n    no.setBounds(212, 20, 64, 25);\n    panel.add(no);\n    no.addActionListener(new ActionListener() {\n      public void actionPerformed(ActionEvent e) {\n        if(no.isSelected())\n        {\n          yes.setSelected(false);\n          textField.setEnabled(false);\n        }\n      }\n    });\n    \n    btnOkay = new JButton(&quot;Okay&quot;);\n    btnOkay.addActionListener(new ActionListener() {\n      public void actionPerformed(ActionEvent e) {\n        //Text field\n        System.out.println(textField.getText());\n      }\n    });\n    btnOkay.setBounds(120, 281, 97, 25);\n    contentPane.add(btnOkay);\n    \n    JPanel panelCheckBox = new JPanel();\n    panelCheckBox.setBorder(new BevelBorder(BevelBorder.LOWERED, null, null, null, null));\n    panelCheckBox.setBounds(44, 89, 443, 90);\n    contentPane.add(panelCheckBox);\n    panelCheckBox.setLayout(new MigLayout(&quot;&quot;, &quot;[]&quot;, &quot;[]&quot;));\n    int numberCheckBox = 10;\n    JCheckBox[] checkBoxList = new JCheckBox[numberCheckBox];\n\n    for(int i = 0; i &lt; numberCheckBox; i++) {\n        checkBoxList[i] = new JCheckBox(&quot;CheckBox&quot; + i);\n        panelCheckBox.add(checkBoxList[i]);\n    }\n    JScrollBar scrollBar = new JScrollBar();\n    scrollBar.setBounds(492, 89, 21, 90);\n    contentPane.add(scrollBar);\n    \n    JPanel panel_1 = new JPanel();\n    panel_1.setBorder(new TitledBorder(null, &quot;Enter Class&quot;, TitledBorder.LEADING, TitledBorder.TOP, null, null));\n    panel_1.setBounds(44, 192, 443, 66);\n    contentPane.add(panel_1);\n    panel_1.setLayout(null);\n    \n    textField = new JTextField();\n    //textField.setEnabled(false);\n    textField.setBounds(55, 23, 336, 22);\n    panel_1.add(textField);\n    textField.setColumns(10);\n   \n    \n    JButton btnCancel = new JButton(&quot;Cancel&quot;);\n    btnCancel.addActionListener(new ActionListener() {\n      public void actionPerformed(ActionEvent e) {\n        System.exit(1);\n      }\n    });\n    btnCancel.setBounds(263, 281, 97, 25);\n    contentPane.add(btnCancel);\n     }\n}\n  \n</code></pre>\n<p>I was stuck with this for the past 3 days. Can't get the selected checkbox name in dynamic checkboxes. Can anyone help me with this?</p>\n"},{"tags":["java","instanceof"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1640660539,"post_id":70502365,"comment_id":124627051,"body_markdown":"You can only use `instanceof` with non-primitive types, meaning classes. `String` is a class while both `double` and `int` are primitives. There is no need for that check at all, remove it. `nLPair` can only be a `String` (not even a subclass since `String` is `final`), `nLStartingBalance` can only be a `double` and `nLRisk` can only be `int`.","body":"You can only use <code>instanceof</code> with non-primitive types, meaning classes. <code>String</code> is a class while both <code>double</code> and <code>int</code> are primitives. There is no need for that check at all, remove it. <code>nLPair</code> can only be a <code>String</code> (not even a subclass since <code>String</code> is <code>final</code>), <code>nLStartingBalance</code> can only be a <code>double</code> and <code>nLRisk</code> can only be <code>int</code>."},{"owner":{"account_id":19293703,"reputation":1,"user_id":14103057,"display_name":"mghaby"},"score":0,"creation_date":1640660652,"post_id":70502365,"comment_id":124627061,"body_markdown":"This fixed it thank you! I just wanted to check if the inputs were valid datatypes.","body":"This fixed it thank you! I just wanted to check if the inputs were valid datatypes."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1640660736,"post_id":70502365,"comment_id":124627076,"body_markdown":"Checking the data types is already done by `Scanner`&#39;s methods. The call to `nextDouble()` will throw an Exception if the input is not a double. You cannot squeeze a non-double into a double, which makes checking irrelevant.","body":"Checking the data types is already done by <code>Scanner</code>&#39;s methods. The call to <code>nextDouble()</code> will throw an Exception if the input is not a double. You cannot squeeze a non-double into a double, which makes checking irrelevant."},{"owner":{"account_id":19293703,"reputation":1,"user_id":14103057,"display_name":"mghaby"},"score":0,"creation_date":1640661031,"post_id":70502365,"comment_id":124627121,"body_markdown":"I did not know this. Thanks for the help, next time I&#39;ll read the documentation more thoroughly","body":"I did not know this. Thanks for the help, next time I&#39;ll read the documentation more thoroughly"}],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640660783,"creation_date":1640660578,"answer_id":70502392,"question_id":70502365,"body_markdown":"The `instanceof` operator can only be applied to reference types (or null).  `double` and `int` are primitive types, not reference types.\r\n\r\n[Java Language Specification, 15.20.02](https://docs.oracle.com/javase/specs/jls/se14/html/jls-15.html#jls-15.20.2)\r\n\r\nIn your case, for example, an `int` is an instance of an `int`, and cannot be otherwise.  So there&#39;s no need to be able to ask that particular question.\r\n","title":"Incompatible conditional operand types double and double Java(16777232) when using instanceof","body":"<p>The <code>instanceof</code> operator can only be applied to reference types (or null).  <code>double</code> and <code>int</code> are primitive types, not reference types.</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se14/html/jls-15.html#jls-15.20.2\" rel=\"nofollow noreferrer\">Java Language Specification, 15.20.02</a></p>\n<p>In your case, for example, an <code>int</code> is an instance of an <code>int</code>, and cannot be otherwise.  So there's no need to be able to ask that particular question.</p>\n"}],"owner":{"account_id":19293703,"reputation":1,"user_id":14103057,"display_name":"mghaby"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":467,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":70502392,"answer_count":1,"score":-3,"last_activity_date":1640660783,"creation_date":1640660277,"question_id":70502365,"body_markdown":"I&#39;ve been working on a personal Java project which essentially is mimicking a trading common backtesting spreadsheet. Everything has been fine up until the use of multiple `instanceof` operators in one line. I&#39;ve had a look online and to no avail have found nothing relevant. I receive an incompatible conditional operand on the comparison of the `double` type and `int` however the string is fine. The editor I use is VSCode. Code is below\r\n\r\n                while (newLogBool){\r\n                Scanner newLog = new Scanner(System.in);\r\n                String nLPair = newLog.nextLine();\r\n                double nLStartingBalance = newLog.nextDouble();\r\n                int nLRisk = newLog.nextInt();\r\n\r\n                try { Thread.sleep(100); } catch (InterruptedException e) { e.printStackTrace(); }\r\n\r\n                if ((nLPair instanceof String) &amp;&amp; (nLStartingBalance instanceof double) &amp;&amp; (nLRisk instanceof int)){\r\n                    Logger logger = new Logger(nLPair, nLStartingBalance, nLRisk);\r\n                    newLogBool = false;\r\n                } else {\r\n                    System.out.println(&quot;Inccorect Type: Pair, Starting Balance or Risk. Please try again.&quot;);\r\n                }\r\n            }\r\n\r\nThanks","title":"Incompatible conditional operand types double and double Java(16777232) when using instanceof","body":"<p>I've been working on a personal Java project which essentially is mimicking a trading common backtesting spreadsheet. Everything has been fine up until the use of multiple <code>instanceof</code> operators in one line. I've had a look online and to no avail have found nothing relevant. I receive an incompatible conditional operand on the comparison of the <code>double</code> type and <code>int</code> however the string is fine. The editor I use is VSCode. Code is below</p>\n<pre><code>            while (newLogBool){\n            Scanner newLog = new Scanner(System.in);\n            String nLPair = newLog.nextLine();\n            double nLStartingBalance = newLog.nextDouble();\n            int nLRisk = newLog.nextInt();\n\n            try { Thread.sleep(100); } catch (InterruptedException e) { e.printStackTrace(); }\n\n            if ((nLPair instanceof String) &amp;&amp; (nLStartingBalance instanceof double) &amp;&amp; (nLRisk instanceof int)){\n                Logger logger = new Logger(nLPair, nLStartingBalance, nLRisk);\n                newLogBool = false;\n            } else {\n                System.out.println(&quot;Inccorect Type: Pair, Starting Balance or Risk. Please try again.&quot;);\n            }\n        }\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","spring","generics","java-8"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1640663469,"post_id":70502361,"comment_id":124627422,"body_markdown":"So please show us your attempt at solving this for yourself.  (The mapping looks straightforward, even trivial, so we need to know what about is giving you problems.)","body":"So please show us your attempt at solving this for yourself.  (The mapping looks straightforward, even trivial, so we need to know what about is giving you problems.)"},{"owner":{"account_id":20553950,"reputation":41,"user_id":15085988,"display_name":"mathew thomas"},"score":0,"creation_date":1640666156,"post_id":70502361,"comment_id":124627781,"body_markdown":"@StephenC Here, Class RatePlan is same in both the packages with some change in fields. so, importing the RatePlan class is confusing...","body":"@StephenC Here, Class RatePlan is same in both the packages with some change in fields. so, importing the RatePlan class is confusing..."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1640666451,"post_id":70502361,"comment_id":124627817,"body_markdown":"You should not have two different versions of the `RatePlan` class.  Use a different name for the two classes ... or at least, different package names.  That is probably the solution to your problem.   (I noticed that, but I thought ... &quot;Nah.  It has got to be a typo!&quot;)  The point is that unless you do some nasty tricks with dynamic class loaders, you won&#39;t be able to load both versions of the class into the same JVM.   You should just not go down that rabbit hole.  It is just a bad, bad, idea.","body":"You should not have two different versions of the <code>RatePlan</code> class.  Use a different name for the two classes ... or at least, different package names.  That is probably the solution to your problem.   (I noticed that, but I thought ... &quot;Nah.  It has got to be a typo!&quot;)  The point is that unless you do some nasty tricks with dynamic class loaders, you won&#39;t be able to load both versions of the class into the same JVM.   You should just not go down that rabbit hole.  It is just a bad, bad, idea."}],"owner":{"account_id":20553950,"reputation":41,"user_id":15085988,"display_name":"mathew thomas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640660681,"creation_date":1640660202,"question_id":70502361,"body_markdown":"Here, I have to get fields from list of objects and set to another collection of object\r\n\r\n    class RoomType {\r\n    \r\n    private List&lt;RatePlan&gt; ratePlans = null;\r\n    \r\n    \r\n    }\r\n    \r\n    class RatePlan {\r\n    \r\n    private String ratePlanCode;\r\n    private String ratePanName;\r\n    }\r\n    \r\n    =============================\r\n    to map to...\r\n    \r\n    class TravelResponse {\r\n    \r\n    private Collection&lt;RatePlan&gt; ratePlans = null;\r\n    \r\n    \r\n    }\r\n    \r\n    class RatePlan {\r\n    \r\n    private String ratePlanCode;\r\n    private String ratePanDescription;\r\n    }\r\n\r\nRoomType contains the data, this data has to be mapped to TravelResponse.\r\nRoomType -&gt; RatePlan is list and TravelResponse -&gt; RatePlan is collection\r\n\r\nMapping should be .....\r\nRoomType.RatePlan.ratePlanCode = TravelResponse.RatePlan.ratePlanCode\r\nRoomType.RatePlan.ratePanName  = TravelResponse.RatePlan.ratePanDescription","title":"How to get fields from list of objects and set to another collection of object","body":"<p>Here, I have to get fields from list of objects and set to another collection of object</p>\n<pre><code>class RoomType {\n\nprivate List&lt;RatePlan&gt; ratePlans = null;\n\n\n}\n\nclass RatePlan {\n\nprivate String ratePlanCode;\nprivate String ratePanName;\n}\n\n=============================\nto map to...\n\nclass TravelResponse {\n\nprivate Collection&lt;RatePlan&gt; ratePlans = null;\n\n\n}\n\nclass RatePlan {\n\nprivate String ratePlanCode;\nprivate String ratePanDescription;\n}\n</code></pre>\n<p>RoomType contains the data, this data has to be mapped to TravelResponse.\nRoomType -&gt; RatePlan is list and TravelResponse -&gt; RatePlan is collection</p>\n<p>Mapping should be .....\nRoomType.RatePlan.ratePlanCode = TravelResponse.RatePlan.ratePlanCode\nRoomType.RatePlan.ratePanName  = TravelResponse.RatePlan.ratePanDescription</p>\n"},{"tags":["java","android","kotlin","exception","search"],"comments":[{"owner":{"account_id":6540092,"reputation":1270,"user_id":5058026,"accept_rate":62,"display_name":"Martin CR"},"score":0,"creation_date":1640896663,"post_id":70491110,"comment_id":124687382,"body_markdown":"I&#39;m glad that you solved your problem. Please could you consider editing your initial question in order to remove detail that turned out to be not important?  Thanks","body":"I&#39;m glad that you solved your problem. Please could you consider editing your initial question in order to remove detail that turned out to be not important?  Thanks"}],"answers":[{"tags":[],"owner":{"account_id":23727999,"reputation":90,"user_id":17747654,"display_name":"Kevin Cloud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640590679,"creation_date":1640590679,"answer_id":70492794,"question_id":70491110,"body_markdown":"Try to use android:iconifiedByDefault=&quot;false&quot; not app:iconifiedByDefault.\r\nIf it does not work, share your java or Kotlin code please","title":"How avoid java.lang.NullPointerException","body":"<p>Try to use android:iconifiedByDefault=&quot;false&quot; not app:iconifiedByDefault.\nIf it does not work, share your java or Kotlin code please</p>\n"},{"tags":[],"owner":{"account_id":21284792,"reputation":310,"user_id":15662614,"display_name":"misterios"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640660388,"creation_date":1640644967,"answer_id":70501152,"question_id":70491110,"body_markdown":"So I fixed it, The problem  was that I used theme style in search View and style was inherited from EditTextView I changed it to SearchView  And problem was fixed \r\n\r\nBefore - `&lt;style name=&quot;SearchStyle&quot; parent=&quot;Widget.AppCompat.EditText&quot;&gt;`\r\nAfter - `&lt;style name=&quot;SearchStyle&quot; parent=&quot;Widget.AppCompat.SearchView&quot;&gt;`","title":"How avoid java.lang.NullPointerException","body":"<p>So I fixed it, The problem  was that I used theme style in search View and style was inherited from EditTextView I changed it to SearchView  And problem was fixed</p>\n<p>Before - <code>&lt;style name=&quot;SearchStyle&quot; parent=&quot;Widget.AppCompat.EditText&quot;&gt;</code>\nAfter - <code>&lt;style name=&quot;SearchStyle&quot; parent=&quot;Widget.AppCompat.SearchView&quot;&gt;</code></p>\n"}],"owner":{"account_id":21284792,"reputation":310,"user_id":15662614,"display_name":"misterios"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":70501152,"answer_count":2,"score":-1,"last_activity_date":1640660388,"creation_date":1640570592,"question_id":70491110,"body_markdown":"I&#39;m using `androidx.appcompat.widget.SearchView`  as I noticed when I set  this `app:iconifiedByDefault=&quot;false&quot;`  property in my searchView  app throws  `java.lang.NullPointerException: Attempt to invoke virtual method &#39;int android.graphics.drawable.Drawable.getIntrinsicWidth()&#39; on a null object reference` is there a way to avoid throwing this exception?\r\n\r\n \r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:padding=&quot;15dp&quot;\r\n            tools:context=&quot;.navigation.home.search.GameSearchFragment&quot;&gt;\r\n    \r\n            &lt;com.google.android.material.appbar.MaterialToolbar\r\n                android:id=&quot;@+id/searchToolbar&quot;\r\n                style=&quot;@style/TextAppearance.AppCompat.Widget.ActionBar.Title&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;50dp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                android:contentInsetStart=&quot;0dp&quot;\r\n                app:contentInsetStartWithNavigation=&quot;0dp&quot;\r\n                app:contentInsetStart=&quot;0dp&quot;&gt;\r\n    \r\n                &lt;androidx.appcompat.widget.SearchView\r\n                    android:id=&quot;@+id/search&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;30dp&quot;\r\n                    android:background=&quot;@color/primaryColor&quot;\r\n                    app:defaultQueryHint=&quot;Search Games&quot;\r\n                    app:iconifiedByDefault=&quot;false&quot;\r\n                    android:theme=&quot;@style/SearchStyle&quot;\r\n                    app:searchIcon=&quot;@null&quot;\r\n                    app:queryBackground=&quot;@android:color/transparent&quot;&gt;\r\n    \r\n                &lt;/androidx.appcompat.widget.SearchView&gt;\r\n    \r\n            &lt;/com.google.android.material.appbar.MaterialToolbar&gt;\r\n    \r\n            &lt;View\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;1dp&quot;\r\n                android:background=&quot;@color/searchViewBorder&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;@+id/searchToolbar&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;@+id/searchToolbar&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/searchToolbar&quot;&gt;\r\n    \r\n            &lt;/View&gt;\r\n    \r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nException \r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;int android.graphics.drawable.Drawable.getIntrinsicWidth()&#39; on a null object reference","title":"How avoid java.lang.NullPointerException","body":"<p>I'm using <code>androidx.appcompat.widget.SearchView</code>  as I noticed when I set  this <code>app:iconifiedByDefault=&quot;false&quot;</code>  property in my searchView  app throws  <code>java.lang.NullPointerException: Attempt to invoke virtual method 'int android.graphics.drawable.Drawable.getIntrinsicWidth()' on a null object reference</code> is there a way to avoid throwing this exception?</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:padding=&quot;15dp&quot;\n        tools:context=&quot;.navigation.home.search.GameSearchFragment&quot;&gt;\n\n        &lt;com.google.android.material.appbar.MaterialToolbar\n            android:id=&quot;@+id/searchToolbar&quot;\n            style=&quot;@style/TextAppearance.AppCompat.Widget.ActionBar.Title&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;50dp&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            android:contentInsetStart=&quot;0dp&quot;\n            app:contentInsetStartWithNavigation=&quot;0dp&quot;\n            app:contentInsetStart=&quot;0dp&quot;&gt;\n\n            &lt;androidx.appcompat.widget.SearchView\n                android:id=&quot;@+id/search&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;30dp&quot;\n                android:background=&quot;@color/primaryColor&quot;\n                app:defaultQueryHint=&quot;Search Games&quot;\n                app:iconifiedByDefault=&quot;false&quot;\n                android:theme=&quot;@style/SearchStyle&quot;\n                app:searchIcon=&quot;@null&quot;\n                app:queryBackground=&quot;@android:color/transparent&quot;&gt;\n\n            &lt;/androidx.appcompat.widget.SearchView&gt;\n\n        &lt;/com.google.android.material.appbar.MaterialToolbar&gt;\n\n        &lt;View\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;1dp&quot;\n            android:background=&quot;@color/searchViewBorder&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/searchToolbar&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/searchToolbar&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/searchToolbar&quot;&gt;\n\n        &lt;/View&gt;\n\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Exception</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'int android.graphics.drawable.Drawable.getIntrinsicWidth()' on a null object reference\n</code></pre>\n"},{"tags":["java","date","datetime","user-input"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1640656245,"post_id":70502027,"comment_id":124626440,"body_markdown":"`dd-mm-yyyy` specifies a *representation* of a date, why would you want to store it in any particular format?","body":"<code>dd-mm-yyyy</code> specifies a <i>representation</i> of a date, why would you want to store it in any particular format?"},{"owner":{"account_id":20867313,"reputation":47,"user_id":15328053,"display_name":"Kris Ellison"},"score":0,"creation_date":1640656379,"post_id":70502027,"comment_id":124626464,"body_markdown":"It is going to be used in another class and the required format is dd-mm-yyyy","body":"It is going to be used in another class and the required format is dd-mm-yyyy"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":3,"creation_date":1640656438,"post_id":70502027,"comment_id":124626481,"body_markdown":"Java includes a complete API to work with dates.  There&#39;s no need to reinvent the wheel by trying to figure out the number of days in a month, that&#39;s all handled for you.   As @MaartenBodewes suggests, it is important to learn the difference between a data type and its _representation_.","body":"Java includes a complete API to work with dates.  There&#39;s no need to reinvent the wheel by trying to figure out the number of days in a month, that&#39;s all handled for you.   As @MaartenBodewes suggests, it is important to learn the difference between a data type and its <i>representation</i>."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1640656694,"post_id":70502027,"comment_id":124626514,"body_markdown":"`LocalDate startDate() = ` will not compile, remove the `()`.","body":"<code>LocalDate startDate() = </code> will not compile, remove the <code>()</code>."}],"answers":[{"tags":[],"owner":{"account_id":3458132,"reputation":68,"user_id":2896131,"display_name":"Sajjad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1640659482,"creation_date":1640657606,"answer_id":70502166,"question_id":70502027,"body_markdown":"\r\nFirst of all, you can use the Java 8 Date Time API to get the number of days in a month instead of using a manual switch case for making the code more readable.\r\n\r\n    import java.time.YearMonth;\r\n\r\nThen:\r\n\r\n    // 2021 is the year and 2 is the month\r\n    int daysInMonth = YearMonth.of(2021,2).lengthOfMonth());\r\n\r\nNow to form the date in dd-mm-yyyy format :\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n\r\nThen:\r\n\r\n    // pass your date value here under LocalDate.of method\r\n    LocalDate.of(2021,2,16).format(DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;));\r\n\r\n","title":"How do I format user input into a date variable?","body":"<p>First of all, you can use the Java 8 Date Time API to get the number of days in a month instead of using a manual switch case for making the code more readable.</p>\n<pre><code>import java.time.YearMonth;\n</code></pre>\n<p>Then:</p>\n<pre><code>// 2021 is the year and 2 is the month\nint daysInMonth = YearMonth.of(2021,2).lengthOfMonth());\n</code></pre>\n<p>Now to form the date in dd-mm-yyyy format :</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\n</code></pre>\n<p>Then:</p>\n<pre><code>// pass your date value here under LocalDate.of method\nLocalDate.of(2021,2,16).format(DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;));\n</code></pre>\n"}],"owner":{"account_id":20867313,"reputation":47,"user_id":15328053,"display_name":"Kris Ellison"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70502166,"answer_count":1,"score":3,"last_activity_date":1640659482,"creation_date":1640655948,"question_id":70502027,"body_markdown":"How do i take the user inputted day, month and year then store in a dd-mm-yyyy format? I can get everything to work except combining them into a date and storing them in the startDate variable. I also don&#39;t think startMonth will be accessible as it&#39;s in a switch case but I&#39;m very new to java and unsure.\r\n\r\n\r\n    public static void carBookingDates() {\r\n\r\n        int carNumber;\r\n        int startYear;\r\n        int startDay;\r\n        int startMonth;\r\n        int daysInMonth = 0;\r\n        int endYear;\r\n        int endMonth;\r\n        int endDay;\r\n       \r\n        Scanner input = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;To make a booking:&quot;);\r\n        System.out.printf(&quot;        Select a car number from the car list: &quot;);\r\n        carNumber = input.nextInt();\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;Enter a booking start date.&quot;);\r\n        System.out.printf(&quot;Please enter the year - for example &#39;2022&#39;: &quot;);\r\n        startYear = input.nextInt();\r\n        while (startYear &lt; 2022 || startYear &gt; 2030) {\r\n            System.out.println(&quot;Invalid year, please try again: &quot;);\r\n            System.out.printf(&quot;Please enter the year - for example &#39;2022&#39;: &quot;);\r\n            startYear = input.nextInt();\r\n        }\r\n        System.out.printf(&quot;Please enter the month - for example &#39;6&#39;: &quot;);\r\n        startMonth = input.nextInt();\r\n        while (startMonth &lt; 1 || startMonth &gt; 12) {\r\n            System.out.println(&quot;Invalid month, please try again: &quot;);\r\n            System.out.printf(&quot;Please enter the month - for example &#39;6&#39;: &quot;);\r\n            startMonth = input.nextInt();\r\n        }\r\n        switch (startMonth) {\r\n            case 1:\r\n            case 3:\r\n            case 5:\r\n            case 7:\r\n            case 8:\r\n            case 10:\r\n            case 12:\r\n                daysInMonth = 31;\r\n                break;\r\n            case 4:\r\n            case 6:\r\n            case 9:\r\n            case 11:\r\n                daysInMonth = 30;\r\n                break;\r\n            case 2:\r\n                if (((startYear % 4 == 0)\r\n                        &amp;&amp; !(startYear % 100 == 0))\r\n                        || (startYear % 400 == 0)) {\r\n                    daysInMonth = 29;\r\n                } else {\r\n                    daysInMonth = 28;\r\n                }\r\n                break;\r\n            default:\r\n                System.out.println(&quot;Invalid month.&quot;);\r\n                break;\r\n        }\r\n        System.out.printf(&quot;Please enter the day number - for&quot;\r\n                + &quot; example &#39;18&#39;: &quot;);\r\n        startDay = input.nextInt();\r\n        while (startDay &gt; daysInMonth || startDay &lt;= 0) {\r\n            System.out.println(&quot;Invalid day, plese try again&quot;);\r\n            System.out.printf(&quot;Please enter the day number - for&quot;\r\n                    + &quot; example &#39;18&#39;: &quot;);\r\n            startDay = input.nextInt(); \r\n            LocalDate startDate() = LocalDate.parse(startDay + &quot;-&quot; + StartMonth &quot;-&quot; + startYear);\r\n        }\r\n    }\r\n","title":"How do I format user input into a date variable?","body":"<p>How do i take the user inputted day, month and year then store in a dd-mm-yyyy format? I can get everything to work except combining them into a date and storing them in the startDate variable. I also don't think startMonth will be accessible as it's in a switch case but I'm very new to java and unsure.</p>\n<pre><code>public static void carBookingDates() {\n\n    int carNumber;\n    int startYear;\n    int startDay;\n    int startMonth;\n    int daysInMonth = 0;\n    int endYear;\n    int endMonth;\n    int endDay;\n   \n    Scanner input = new Scanner(System.in);\n\n    System.out.println(&quot;To make a booking:&quot;);\n    System.out.printf(&quot;        Select a car number from the car list: &quot;);\n    carNumber = input.nextInt();\n    System.out.println(&quot;&quot;);\n    System.out.println(&quot;Enter a booking start date.&quot;);\n    System.out.printf(&quot;Please enter the year - for example '2022': &quot;);\n    startYear = input.nextInt();\n    while (startYear &lt; 2022 || startYear &gt; 2030) {\n        System.out.println(&quot;Invalid year, please try again: &quot;);\n        System.out.printf(&quot;Please enter the year - for example '2022': &quot;);\n        startYear = input.nextInt();\n    }\n    System.out.printf(&quot;Please enter the month - for example '6': &quot;);\n    startMonth = input.nextInt();\n    while (startMonth &lt; 1 || startMonth &gt; 12) {\n        System.out.println(&quot;Invalid month, please try again: &quot;);\n        System.out.printf(&quot;Please enter the month - for example '6': &quot;);\n        startMonth = input.nextInt();\n    }\n    switch (startMonth) {\n        case 1:\n        case 3:\n        case 5:\n        case 7:\n        case 8:\n        case 10:\n        case 12:\n            daysInMonth = 31;\n            break;\n        case 4:\n        case 6:\n        case 9:\n        case 11:\n            daysInMonth = 30;\n            break;\n        case 2:\n            if (((startYear % 4 == 0)\n                    &amp;&amp; !(startYear % 100 == 0))\n                    || (startYear % 400 == 0)) {\n                daysInMonth = 29;\n            } else {\n                daysInMonth = 28;\n            }\n            break;\n        default:\n            System.out.println(&quot;Invalid month.&quot;);\n            break;\n    }\n    System.out.printf(&quot;Please enter the day number - for&quot;\n            + &quot; example '18': &quot;);\n    startDay = input.nextInt();\n    while (startDay &gt; daysInMonth || startDay &lt;= 0) {\n        System.out.println(&quot;Invalid day, plese try again&quot;);\n        System.out.printf(&quot;Please enter the day number - for&quot;\n                + &quot; example '18': &quot;);\n        startDay = input.nextInt(); \n        LocalDate startDate() = LocalDate.parse(startDay + &quot;-&quot; + StartMonth &quot;-&quot; + startYear);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":1,"creation_date":1640598969,"post_id":70493948,"comment_id":124611825,"body_markdown":"Such questions are [off topic](https://stackoverflow.com/help/on-topic) here, but [here you go](https://github.com/apache/maven-dependency-plugin/blob/master/src/main/java/org/apache/maven/plugins/dependency/tree/TreeMojo.java)","body":"Such questions are <a href=\"https://stackoverflow.com/help/on-topic\">off topic</a> here, but <a href=\"https://github.com/apache/maven-dependency-plugin/blob/master/src/main/java/org/apache/maven/plugins/dependency/tree/TreeMojo.java\" rel=\"nofollow noreferrer\">here you go</a>"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1640599210,"post_id":70493948,"comment_id":124611900,"body_markdown":"Run it using Maven, no? I don&#39;t really undestand &quot;run the source code&quot;, but I seem to see what you mean. It&#39;s a Maven plugin and it does not have (and cannot have) a dedicated main-method-like entrypoint, thus it only can run using Maven or an environment that mimics Maven heavily/entirely (why not use Maven anyway).","body":"Run it using Maven, no? I don&#39;t really undestand &quot;run the source code&quot;, but I seem to see what you mean. It&#39;s a Maven plugin and it does not have (and cannot have) a dedicated main-method-like entrypoint, thus it only can run using Maven or an environment that mimics Maven heavily/entirely (why not use Maven anyway)."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1640599399,"post_id":70493948,"comment_id":124611958,"body_markdown":"In each class which is named `*Mojo.java` you will find an `execute(..` method. This is the entrance into a plugin... more documentation about the existing goals: https://maven.apache.org/plugins/maven-dependency-plugin/","body":"In each class which is named <code>*Mojo.java</code> you will find an <code>execute(..</code> method. This is the entrance into a plugin... more documentation about the existing goals: <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-dependency-plugin</a>"},{"owner":{"account_id":13486506,"reputation":154,"user_id":9730155,"display_name":"HuLu"},"score":0,"creation_date":1640600849,"post_id":70493948,"comment_id":124612418,"body_markdown":"@fluffy yes I could run it using maven. But I want to debug the source code (or I want to find test cases), I want to know how maven realizes this function through step-by-step debugging code","body":"@fluffy yes I could run it using maven. But I want to debug the source code (or I want to find test cases), I want to know how maven realizes this function through step-by-step debugging code"},{"owner":{"account_id":13486506,"reputation":154,"user_id":9730155,"display_name":"HuLu"},"score":0,"creation_date":1640600979,"post_id":70493948,"comment_id":124612465,"body_markdown":"@khmarbaisek thank you very much. I will learn this function entry right away","body":"@khmarbaisek thank you very much. I will learn this function entry right away"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1640603389,"post_id":70493948,"comment_id":124613158,"body_markdown":"If you want to figure out how the plugin works using a debugger, you need to run `mvn dependency:tree` in a Java debugger, set a breakpoint in the mojo&#39;s `execute` method and then start it.  But if you are just trying to figure our why something isn&#39;t working as expected, *first* try running the `mvn` command with `--debug`","body":"If you want to figure out how the plugin works using a debugger, you need to run <code>mvn dependency:tree</code> in a Java debugger, set a breakpoint in the mojo&#39;s <code>execute</code> method and then start it.  But if you are just trying to figure our why something isn&#39;t working as expected, <i>first</i> try running the <code>mvn</code> command with <code>--debug</code>"},{"owner":{"account_id":13486506,"reputation":154,"user_id":9730155,"display_name":"HuLu"},"score":0,"creation_date":1640657354,"post_id":70493948,"comment_id":124626616,"body_markdown":"@StephenC  Can you be more detailed? I don&#39;t know how to do it . This code `@Mojo( name = &quot;tree&quot;, requiresDependencyCollection = ResolutionScope.TEST, threadSafe = true )\npublic class TreeMojo\n    extends AbstractMojo`","body":"@StephenC  Can you be more detailed? I don&#39;t know how to do it . This code <code>@Mojo( name = &quot;tree&quot;, requiresDependencyCollection = ResolutionScope.TEST, threadSafe = true ) public class TreeMojo     extends AbstractMojo</code>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640657589,"post_id":70493948,"comment_id":124626659,"body_markdown":"Detail of what?  Of how to use a debugger?","body":"Detail of what?  Of how to use a debugger?"},{"owner":{"account_id":13486506,"reputation":154,"user_id":9730155,"display_name":"HuLu"},"score":0,"creation_date":1640658521,"post_id":70493948,"comment_id":124626784,"body_markdown":"@StephenC Can you turn comments into answers? Show me the process of setting a breakpoint, thank you very much！","body":"@StephenC Can you turn comments into answers? Show me the process of setting a breakpoint, thank you very much！"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640658657,"post_id":70493948,"comment_id":124626816,"body_markdown":"No sorry.  You can look up how to set a breakpoint in your IDE&#39;s documentation.  Please don&#39;t use StackOverflow as an excuse for not doing your own research.  (Now if you were paying me by the hour to tutor you, maybe I would agree to your request.)","body":"No sorry.  You can look up how to set a breakpoint in your IDE&#39;s documentation.  Please don&#39;t use StackOverflow as an excuse for not doing your own research.  (Now if you were paying me by the hour to tutor you, maybe I would agree to your request.)"},{"owner":{"account_id":13486506,"reputation":154,"user_id":9730155,"display_name":"HuLu"},"score":0,"creation_date":1640658867,"post_id":70493948,"comment_id":124626843,"body_markdown":"Thank you very much, I will first check out how to make the&#39;mvn dependency:tree&#39; command run in the `debugger`","body":"Thank you very much, I will first check out how to make the&#39;mvn dependency:tree&#39; command run in the <code>debugger</code>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640658905,"post_id":70493948,"comment_id":124626848,"body_markdown":"Start by getting it to run *without* the debugger.  &#39;Cos I suspect that the cause of command syntax error was that the POM it was using didn&#39;t have the dependency tree plugin configured.","body":"Start by getting it to run <i>without</i> the debugger.  &#39;Cos I suspect that the cause of command syntax error was that the POM it was using didn&#39;t have the dependency tree plugin configured."},{"owner":{"account_id":13486506,"reputation":154,"user_id":9730155,"display_name":"HuLu"},"score":0,"creation_date":1640659409,"post_id":70493948,"comment_id":124626915,"body_markdown":"@StephenCS I re-edited the question and provided a screenshot of the problem I encountered","body":"@StephenCS I re-edited the question and provided a screenshot of the problem I encountered"}],"owner":{"account_id":13486506,"reputation":154,"user_id":9730155,"display_name":"HuLu"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1640659325,"creation_date":1640598777,"question_id":70493948,"body_markdown":"I want to know the details of the `mvn dependency:tree` command.    \r\nI got the source code from `https://github.com/apache/maven-dependency-tree`,   \r\nbut I didn&#39;t find the main method of the main class.    \r\nHow should I run this source code?  \r\n\r\nBelow is a screenshot of the source code after I downloaded it\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI create a `Run/Debug Configurations`,as follow   \r\nand I debug it,I got a error, as follow \r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/seIz8.png\r\n  [2]: https://i.stack.imgur.com/12qQe.png\r\n  [3]: https://i.stack.imgur.com/xSJkg.png","title":"How to run the source code of “mvn dependency:tree”?","body":"<p>I want to know the details of the <code>mvn dependency:tree</code> command.<br />\nI got the source code from <code>https://github.com/apache/maven-dependency-tree</code>,<br />\nbut I didn't find the main method of the main class.<br />\nHow should I run this source code?</p>\n<p>Below is a screenshot of the source code after I downloaded it</p>\n<p><a href=\"https://i.stack.imgur.com/seIz8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/seIz8.png\" alt=\"enter image description here\" /></a></p>\n<p>I create a <code>Run/Debug Configurations</code>,as follow<br />\nand I debug it,I got a error, as follow</p>\n<p><a href=\"https://i.stack.imgur.com/12qQe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/12qQe.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/xSJkg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xSJkg.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","hibernate","frameworks"],"comments":[{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1640581431,"post_id":70491829,"comment_id":124608051,"body_markdown":"You can find a reference here https://docs.atlassian.com/hibernate2/2.1.8/reference/session-configuration.html","body":"You can find a reference here <a href=\"https://docs.atlassian.com/hibernate2/2.1.8/reference/session-configuration.html\" rel=\"nofollow noreferrer\">docs.atlassian.com/hibernate2/2.1.8/reference/&hellip;</a>"},{"owner":{"account_id":5951263,"reputation":4554,"user_id":4679143,"accept_rate":80,"display_name":"Soniya Mohan"},"score":0,"creation_date":1640583518,"post_id":70491829,"comment_id":124608378,"body_markdown":"https://dzone.com/articles/hibernate-5-java-configuration-example","body":"<a href=\"https://dzone.com/articles/hibernate-5-java-configuration-example\" rel=\"nofollow noreferrer\">dzone.com/articles/hibernate-5-java-configuration-example</a>"}],"owner":{"account_id":20200719,"reputation":11,"user_id":14816490,"display_name":"Yasiru Dahanayaka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640659049,"creation_date":1640581232,"question_id":70491829,"body_markdown":"    public class HibernateUtil {\r\n    \r\n        private static SessionFactory sessionFactory = buildSessionFactory();\r\n    \r\n        private static SessionFactory buildSessionFactory(){\r\n            StandardServiceRegistry standardServiceRegistry = new StandardServiceRegistryBuilder().\r\n                    loadProperties(&quot;hibernate.properties&quot;).build();\r\n    \r\n            Metadata metadata = new MetadataSources(standardServiceRegistry)\r\n                    .addAnnotatedClass(Student.class)\r\n                    .addAnnotatedClass(Course.class)\r\n                    .getMetadataBuilder().build();\r\n    \r\n            return metadata.getSessionFactoryBuilder().build();\r\n        }\r\n    \r\n        public static SessionFactory getSessionFactory(){\r\n            return sessionFactory;\r\n        }\r\n    \r\n    }\r\nIts not working. I  also want to configure hibernate using property file (well known to xml configuration).","title":"How to Configure Hibernate Property File Config","body":"<pre><code>public class HibernateUtil {\n\n    private static SessionFactory sessionFactory = buildSessionFactory();\n\n    private static SessionFactory buildSessionFactory(){\n        StandardServiceRegistry standardServiceRegistry = new StandardServiceRegistryBuilder().\n                loadProperties(&quot;hibernate.properties&quot;).build();\n\n        Metadata metadata = new MetadataSources(standardServiceRegistry)\n                .addAnnotatedClass(Student.class)\n                .addAnnotatedClass(Course.class)\n                .getMetadataBuilder().build();\n\n        return metadata.getSessionFactoryBuilder().build();\n    }\n\n    public static SessionFactory getSessionFactory(){\n        return sessionFactory;\n    }\n\n}\n</code></pre>\n<p>Its not working. I  also want to configure hibernate using property file (well known to xml configuration).</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1640613033,"post_id":70495719,"comment_id":124615996,"body_markdown":"Possible duplicate of [*Create action handler for custom component in FXML*](https://stackoverflow.com/q/9964638/230513).","body":"Possible duplicate of <a href=\"https://stackoverflow.com/q/9964638/230513\"><i>Create action handler for custom component in FXML</i></a>."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1640619293,"post_id":70495719,"comment_id":124617896,"body_markdown":"Please post [mre]. All you need to demonstrate the problem is one button in the fxml. All the rest can be removed. Also, you code includes two fxml files but only one is posted.","body":"Please post <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. All you need to demonstrate the problem is one button in the fxml. All the rest can be removed. Also, you code includes two fxml files but only one is posted."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1640629261,"post_id":70495719,"comment_id":124620878,"body_markdown":"You have the wrong import for `ActionEvent` in the controller.","body":"You have the wrong import for <code>ActionEvent</code> in the controller."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640658560,"creation_date":1640658560,"answer_id":70502240,"question_id":70495719,"body_markdown":"Don&#39;t mix Swing/AWT code and JavaFX code by mistake (and usually not intentionally either).\r\n\r\nDon&#39;t write:\r\n \r\n    import java.awt.event.ActionEvent;\r\n\r\nDo write: \r\n\r\n    import javafx.event.ActionEvent;","title":"onAction=&quot;#handleButton1&quot; not working in JavaFX FXML","body":"<p>Don't mix Swing/AWT code and JavaFX code by mistake (and usually not intentionally either).</p>\n<p>Don't write:</p>\n<pre><code>import java.awt.event.ActionEvent;\n</code></pre>\n<p>Do write:</p>\n<pre><code>import javafx.event.ActionEvent;\n</code></pre>\n"}],"owner":{"account_id":23757449,"reputation":5,"user_id":17773388,"display_name":"Muhammed Furkan Doğan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70502240,"answer_count":1,"score":-1,"last_activity_date":1640658898,"creation_date":1640609417,"question_id":70495719,"body_markdown":"I use IntelliJ IDEA 2021.3 and JavaFx17.\r\n\r\nI am trying to change the screen that appears, but the program does not even open. Because of onAction button cannot resolve the handleButton1. I create the screens in SceneBuilder I added the controller class and I add the button function in the import button but it is not working.\r\n\r\nMy Controller Class\r\n\r\n    package com.example.family_tree;\r\n    \r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.stage.Stage;\r\n    import java.awt.event.ActionEvent;\r\n    import java.io.IOException;\r\n    public class Controller {\r\n        Stage stage;\r\n        Scene scene;\r\n        Parent root;\r\n    \r\n        @FXML\r\n        //Button createButton, importButton;\r\n    \r\n        public void handleButton1(ActionEvent event) throws IOException {\r\n    \r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;import.fxml&quot;));\r\n            stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\r\n            scene = new Scene(root, 750, 750);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    }\r\n\r\nMain Class\r\n\r\n    public class Main extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;Main.fxml&quot;));\r\n            stage.setScene(new Scene(root,750,750));\r\n            stage.setTitle(&quot;Family Tree Application&quot;);\r\n           // stage.initStyle(StageStyle.DECORATED);\r\n    \r\n            stage.show();\r\n            stage.setResizable(true);\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nand the fxml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.Cursor?&gt;\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.effect.ColorAdjust?&gt;\r\n    &lt;?import javafx.scene.image.Image?&gt;\r\n    &lt;?import javafx.scene.image.ImageView?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    &lt;?import javafx.scene.layout.Pane?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n\r\n    &lt;AnchorPane focusTraversable=&quot;true&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;719.0&quot; prefWidth=&quot;1217.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.family_tree.Controller&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;VBox layoutY=&quot;-7.0&quot; prefHeight=&quot;719.0&quot; prefWidth=&quot;310.0&quot; style=&quot;-fx-background-color: #26a69a;&quot;&gt;\r\n             &lt;children&gt;\r\n                &lt;Pane prefHeight=&quot;234.0&quot; prefWidth=&quot;309.0&quot;&gt;\r\n                   &lt;children&gt;\r\n                      &lt;Label alignment=&quot;TOP_LEFT&quot; layoutX=&quot;48.0&quot; layoutY=&quot;164.0&quot; prefHeight=&quot;56.0&quot; prefWidth=&quot;207.0&quot; text=&quot;FAMILY TREE  &quot; textAlignment=&quot;CENTER&quot; textOverrun=&quot;CLIP&quot;&gt;\r\n                         &lt;font&gt;\r\n                            &lt;Font name=&quot;Symbol&quot; size=&quot;33.0&quot; /&gt;\r\n                         &lt;/font&gt;\r\n                         &lt;effect&gt;\r\n                            &lt;ColorAdjust brightness=&quot;-0.54&quot; contrast=&quot;0.45&quot; hue=&quot;-0.96&quot; /&gt;\r\n                         &lt;/effect&gt;\r\n                         &lt;cursor&gt;\r\n                            &lt;Cursor fx:constant=&quot;TEXT&quot; /&gt;\r\n                         &lt;/cursor&gt;\r\n                      &lt;/Label&gt;\r\n                      &lt;ImageView fitHeight=&quot;150.0&quot; fitWidth=&quot;200.0&quot; layoutX=&quot;87.0&quot; layoutY=&quot;14.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n                         &lt;image&gt;\r\n                            &lt;Image url=&quot;@family_tree.png&quot; /&gt;\r\n                         &lt;/image&gt;\r\n                      &lt;/ImageView&gt;\r\n                   &lt;/children&gt;\r\n                &lt;/Pane&gt;\r\n                &lt;Button alignment=&quot;BASELINE_LEFT&quot; graphicTextGap=&quot;10.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;55.0&quot; prefWidth=&quot;309.0&quot; style=&quot;-fx-background-color: #0097A7;&quot; text=&quot;CREATE FAMILY TREE&quot;&gt;\r\n                   &lt;padding&gt;\r\n                      &lt;Insets left=&quot;50.0&quot; /&gt;\r\n                   &lt;/padding&gt;\r\n                   &lt;font&gt;\r\n                      &lt;Font name=&quot;Arial&quot; size=&quot;15.0&quot; /&gt;\r\n                   &lt;/font&gt;\r\n                &lt;/Button&gt;\r\n                &lt;Button alignment=&quot;BASELINE_LEFT&quot; graphicTextGap=&quot;10.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleButton1&quot; prefHeight=&quot;56.0&quot; prefWidth=&quot;309.0&quot; style=&quot;-fx-background-color: #0097A7;&quot; text=&quot;IMPORT FAMILY TREE&quot;&gt;\r\n                   &lt;padding&gt;\r\n                      &lt;Insets left=&quot;50.0&quot; /&gt;\r\n                   &lt;/padding&gt;\r\n                   &lt;font&gt;\r\n                      &lt;Font name=&quot;Arial&quot; size=&quot;15.0&quot; /&gt;\r\n                   &lt;/font&gt;\r\n                &lt;/Button&gt;\r\n                &lt;Button alignment=&quot;BASELINE_LEFT&quot; graphicTextGap=&quot;10.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;56.0&quot; prefWidth=&quot;309.0&quot; style=&quot;-fx-background-color: #0097A7;&quot; text=&quot;HELP&quot;&gt;\r\n                   &lt;padding&gt;\r\n                      &lt;Insets left=&quot;50.0&quot; /&gt;\r\n                   &lt;/padding&gt;\r\n                   &lt;font&gt;\r\n                      &lt;Font name=&quot;Arial&quot; size=&quot;15.0&quot; /&gt;\r\n                   &lt;/font&gt;\r\n                &lt;/Button&gt;\r\n                &lt;Button alignment=&quot;BASELINE_LEFT&quot; graphicTextGap=&quot;10.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;56.0&quot; prefWidth=&quot;309.0&quot; style=&quot;-fx-background-color: #0097A7;&quot; text=&quot;MADE BY&quot; wrapText=&quot;true&quot;&gt;\r\n                   &lt;padding&gt;\r\n                      &lt;Insets left=&quot;50.0&quot; /&gt;\r\n                   &lt;/padding&gt;\r\n                   &lt;font&gt;\r\n                      &lt;Font name=&quot;Arial&quot; size=&quot;15.0&quot; /&gt;\r\n                   &lt;/font&gt;\r\n                &lt;/Button&gt;\r\n             &lt;/children&gt;\r\n          &lt;/VBox&gt;\r\n          &lt;Button layoutX=&quot;587.0&quot; layoutY=&quot;208.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;339.0&quot; prefWidth=&quot;339.0&quot; style=&quot;-fx-background-color: #4CAF50;&quot;&gt;\r\n             &lt;graphic&gt;\r\n                &lt;ImageView fitHeight=&quot;339.0&quot; fitWidth=&quot;391.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n                   &lt;image&gt;\r\n                      &lt;Image url=&quot;@Adsız.png&quot; /&gt;\r\n                   &lt;/image&gt;\r\n                &lt;/ImageView&gt;\r\n             &lt;/graphic&gt;\r\n          &lt;/Button&gt;\r\n          &lt;Pane layoutX=&quot;309.0&quot; layoutY=&quot;82.0&quot; prefHeight=&quot;80.0&quot; prefWidth=&quot;907.0&quot;&gt;\r\n             &lt;children&gt;\r\n                &lt;Label layoutY=&quot;-14.0&quot; prefHeight=&quot;80.0&quot; prefWidth=&quot;907.0&quot; style=&quot;-fx-background-color: #26a69a;&quot; text=&quot;CREATE NEW FAMILY TREE&quot; textAlignment=&quot;CENTER&quot;&gt;\r\n                   &lt;font&gt;\r\n                      &lt;Font name=&quot;Times New Roman&quot; size=&quot;31.0&quot; /&gt;\r\n                   &lt;/font&gt;\r\n                &lt;/Label&gt;\r\n             &lt;/children&gt;\r\n          &lt;/Pane&gt;\r\n          &lt;VBox layoutX=&quot;983.0&quot; layoutY=&quot;208.0&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\n\r\n","title":"onAction=&quot;#handleButton1&quot; not working in JavaFX FXML","body":"<p>I use IntelliJ IDEA 2021.3 and JavaFx17.</p>\n<p>I am trying to change the screen that appears, but the program does not even open. Because of onAction button cannot resolve the handleButton1. I create the screens in SceneBuilder I added the controller class and I add the button function in the import button but it is not working.</p>\n<p>My Controller Class</p>\n<pre><code>package com.example.family_tree;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.stage.Stage;\nimport java.awt.event.ActionEvent;\nimport java.io.IOException;\npublic class Controller {\n    Stage stage;\n    Scene scene;\n    Parent root;\n\n    @FXML\n    //Button createButton, importButton;\n\n    public void handleButton1(ActionEvent event) throws IOException {\n\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;import.fxml&quot;));\n        stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\n        scene = new Scene(root, 750, 750);\n        stage.setScene(scene);\n        stage.show();\n    }\n}\n</code></pre>\n<p>Main Class</p>\n<pre><code>public class Main extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;Main.fxml&quot;));\n        stage.setScene(new Scene(root,750,750));\n        stage.setTitle(&quot;Family Tree Application&quot;);\n       // stage.initStyle(StageStyle.DECORATED);\n\n        stage.show();\n        stage.setResizable(true);\n\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>and the fxml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.Cursor?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.effect.ColorAdjust?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane focusTraversable=&quot;true&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;719.0&quot; prefWidth=&quot;1217.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.family_tree.Controller&quot;&gt;\n   &lt;children&gt;\n      &lt;VBox layoutY=&quot;-7.0&quot; prefHeight=&quot;719.0&quot; prefWidth=&quot;310.0&quot; style=&quot;-fx-background-color: #26a69a;&quot;&gt;\n         &lt;children&gt;\n            &lt;Pane prefHeight=&quot;234.0&quot; prefWidth=&quot;309.0&quot;&gt;\n               &lt;children&gt;\n                  &lt;Label alignment=&quot;TOP_LEFT&quot; layoutX=&quot;48.0&quot; layoutY=&quot;164.0&quot; prefHeight=&quot;56.0&quot; prefWidth=&quot;207.0&quot; text=&quot;FAMILY TREE  &quot; textAlignment=&quot;CENTER&quot; textOverrun=&quot;CLIP&quot;&gt;\n                     &lt;font&gt;\n                        &lt;Font name=&quot;Symbol&quot; size=&quot;33.0&quot; /&gt;\n                     &lt;/font&gt;\n                     &lt;effect&gt;\n                        &lt;ColorAdjust brightness=&quot;-0.54&quot; contrast=&quot;0.45&quot; hue=&quot;-0.96&quot; /&gt;\n                     &lt;/effect&gt;\n                     &lt;cursor&gt;\n                        &lt;Cursor fx:constant=&quot;TEXT&quot; /&gt;\n                     &lt;/cursor&gt;\n                  &lt;/Label&gt;\n                  &lt;ImageView fitHeight=&quot;150.0&quot; fitWidth=&quot;200.0&quot; layoutX=&quot;87.0&quot; layoutY=&quot;14.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n                     &lt;image&gt;\n                        &lt;Image url=&quot;@family_tree.png&quot; /&gt;\n                     &lt;/image&gt;\n                  &lt;/ImageView&gt;\n               &lt;/children&gt;\n            &lt;/Pane&gt;\n            &lt;Button alignment=&quot;BASELINE_LEFT&quot; graphicTextGap=&quot;10.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;55.0&quot; prefWidth=&quot;309.0&quot; style=&quot;-fx-background-color: #0097A7;&quot; text=&quot;CREATE FAMILY TREE&quot;&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;50.0&quot; /&gt;\n               &lt;/padding&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Arial&quot; size=&quot;15.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Button&gt;\n            &lt;Button alignment=&quot;BASELINE_LEFT&quot; graphicTextGap=&quot;10.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleButton1&quot; prefHeight=&quot;56.0&quot; prefWidth=&quot;309.0&quot; style=&quot;-fx-background-color: #0097A7;&quot; text=&quot;IMPORT FAMILY TREE&quot;&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;50.0&quot; /&gt;\n               &lt;/padding&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Arial&quot; size=&quot;15.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Button&gt;\n            &lt;Button alignment=&quot;BASELINE_LEFT&quot; graphicTextGap=&quot;10.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;56.0&quot; prefWidth=&quot;309.0&quot; style=&quot;-fx-background-color: #0097A7;&quot; text=&quot;HELP&quot;&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;50.0&quot; /&gt;\n               &lt;/padding&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Arial&quot; size=&quot;15.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Button&gt;\n            &lt;Button alignment=&quot;BASELINE_LEFT&quot; graphicTextGap=&quot;10.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;56.0&quot; prefWidth=&quot;309.0&quot; style=&quot;-fx-background-color: #0097A7;&quot; text=&quot;MADE BY&quot; wrapText=&quot;true&quot;&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;50.0&quot; /&gt;\n               &lt;/padding&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Arial&quot; size=&quot;15.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Button&gt;\n         &lt;/children&gt;\n      &lt;/VBox&gt;\n      &lt;Button layoutX=&quot;587.0&quot; layoutY=&quot;208.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;339.0&quot; prefWidth=&quot;339.0&quot; style=&quot;-fx-background-color: #4CAF50;&quot;&gt;\n         &lt;graphic&gt;\n            &lt;ImageView fitHeight=&quot;339.0&quot; fitWidth=&quot;391.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n               &lt;image&gt;\n                  &lt;Image url=&quot;@Adsız.png&quot; /&gt;\n               &lt;/image&gt;\n            &lt;/ImageView&gt;\n         &lt;/graphic&gt;\n      &lt;/Button&gt;\n      &lt;Pane layoutX=&quot;309.0&quot; layoutY=&quot;82.0&quot; prefHeight=&quot;80.0&quot; prefWidth=&quot;907.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Label layoutY=&quot;-14.0&quot; prefHeight=&quot;80.0&quot; prefWidth=&quot;907.0&quot; style=&quot;-fx-background-color: #26a69a;&quot; text=&quot;CREATE NEW FAMILY TREE&quot; textAlignment=&quot;CENTER&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Times New Roman&quot; size=&quot;31.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n         &lt;/children&gt;\n      &lt;/Pane&gt;\n      &lt;VBox layoutX=&quot;983.0&quot; layoutY=&quot;208.0&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n"},{"tags":["java","json","javafx","visual-studio-code"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1617678024,"post_id":66961474,"comment_id":118364181,"body_markdown":"Is the javafx.controls module in the location you have specified in your vmArgs `/javafx/lib/src/javafx.controls`, and is that parth correct relative to your application? Have you included all the javaFX dependencies in your library folder?","body":"Is the javafx.controls module in the location you have specified in your vmArgs <code>&#47;javafx&#47;lib&#47;src&#47;javafx.controls</code>, and is that parth correct relative to your application? Have you included all the javaFX dependencies in your library folder?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1617684331,"post_id":66961474,"comment_id":118365162,"body_markdown":"Try this: `--module-path /javafx/lib/src/javafx.controls.jar`","body":"Try this: <code>--module-path &#47;javafx&#47;lib&#47;src&#47;javafx.controls.jar</code>"}],"answers":[{"tags":[],"owner":{"account_id":16084364,"reputation":1,"user_id":11609487,"display_name":"David Gonzalez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640657918,"creation_date":1640657918,"answer_id":70502193,"question_id":66961474,"body_markdown":"you path is wrong, You must specify the path of your folder and in the modules load the module you need, ej\r\n\r\n&quot;vmArgs&quot;: &quot;--module-path */javafx/lib/src/javafx.controls* change for\r\n&quot;vmArgs&quot;: &quot;--module-path /javafx/lib/src/ --add-modules javafx.controls","title":"Error occurred during initialization of boot layer java.lang.module.FindException: Module javafx.controls not found When working with JavaFX in vscode","body":"<p>you path is wrong, You must specify the path of your folder and in the modules load the module you need, ej</p>\n<p>&quot;vmArgs&quot;: &quot;--module-path <em>/javafx/lib/src/javafx.controls</em> change for\n&quot;vmArgs&quot;: &quot;--module-path /javafx/lib/src/ --add-modules javafx.controls</p>\n"}],"owner":{"account_id":19862926,"reputation":31,"user_id":14550927,"display_name":"Jeff Aub&#233;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1593,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640657918,"creation_date":1617670750,"question_id":66961474,"body_markdown":"I&#39;m trying to use vscode to work in JavaFX (I&#39;m on macOS if it makes any difference), and no matter what when I try to run my code it gives me this error:\r\n```\r\nError occurred during initialization of boot layer \r\njava.lang.module.FindException: Module javafx.controls not found\r\n```\r\n\r\nThis only happens when I have these vmArgs in the launch.json file: \r\n```\r\n&quot;vmArgs&quot;: &quot;--module-path /javafx/lib/src/javafx.controls --add-modules javafx.controls&quot;\r\n```\r\nIf I don&#39;t have those vmArgs in the json, I get this error instead:\r\n```\r\nError: JavaFX runtime components are missing, and are required to run this application.\r\n```\r\nWhat should I do to get this to run? Why is it not recognizing that I have referenced the javafx.controls module in my json but yet when I don&#39;t have it, I get another error? Any help would be appreciated because I really have no clue which direction to take here.\r\n","title":"Error occurred during initialization of boot layer java.lang.module.FindException: Module javafx.controls not found When working with JavaFX in vscode","body":"<p>I'm trying to use vscode to work in JavaFX (I'm on macOS if it makes any difference), and no matter what when I try to run my code it gives me this error:</p>\n<pre><code>Error occurred during initialization of boot layer \njava.lang.module.FindException: Module javafx.controls not found\n</code></pre>\n<p>This only happens when I have these vmArgs in the launch.json file:</p>\n<pre><code>&quot;vmArgs&quot;: &quot;--module-path /javafx/lib/src/javafx.controls --add-modules javafx.controls&quot;\n</code></pre>\n<p>If I don't have those vmArgs in the json, I get this error instead:</p>\n<pre><code>Error: JavaFX runtime components are missing, and are required to run this application.\n</code></pre>\n<p>What should I do to get this to run? Why is it not recognizing that I have referenced the javafx.controls module in my json but yet when I don't have it, I get another error? Any help would be appreciated because I really have no clue which direction to take here.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1532456949,"post_id":51505264,"comment_id":89979650,"body_markdown":"You&#39;ve manually checked that it&#39;s there in the .jar file?","body":"You&#39;ve manually checked that it&#39;s there in the .jar file?"},{"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"score":0,"creation_date":1532456992,"post_id":51505264,"comment_id":89979671,"body_markdown":"Good question but yes, I&#39;ve opened the jar file with 7Zip and I can see the *.properties files under src","body":"Good question but yes, I&#39;ve opened the jar file with 7Zip and I can see the *.properties files under src"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1532457301,"post_id":51505264,"comment_id":89979834,"body_markdown":"Your .jar file has a &quot;src&quot; folder? That doesn&#39;t sound right. At the least it&#39;s not part of the bundle name you&#39;re passing in.","body":"Your .jar file has a &quot;src&quot; folder? That doesn&#39;t sound right. At the least it&#39;s not part of the bundle name you&#39;re passing in."},{"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"score":0,"creation_date":1532457390,"post_id":51505264,"comment_id":89979883,"body_markdown":"No, I don&#39;t pass the src in the bundle name (see my code in my question). But my jar has an src folder right at the root at the jar, is that not correct ?","body":"No, I don&#39;t pass the src in the bundle name (see my code in my question). But my jar has an src folder right at the root at the jar, is that not correct ?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1532457796,"post_id":51505264,"comment_id":89980094,"body_markdown":"Are the properties files in the root folder of the jar?","body":"Are the properties files in the root folder of the jar?"},{"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"score":0,"creation_date":1532466297,"post_id":51505264,"comment_id":89984079,"body_markdown":"Like I mentioned i my question, they&#39;re in the src folder","body":"Like I mentioned i my question, they&#39;re in the src folder"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1532495574,"post_id":51505264,"comment_id":89990882,"body_markdown":"What are the full paths of the class file and properties file when they&#39;re in the jar? You might want to debug and step through the loading in Eclipse so you understand where it&#39;s expecting the properties file to be.","body":"What are the full paths of the class file and properties file when they&#39;re in the jar? You might want to debug and step through the loading in Eclipse so you understand where it&#39;s expecting the properties file to be."},{"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"score":0,"creation_date":1532531262,"post_id":51505264,"comment_id":90013317,"body_markdown":"Sure, I could debug and I might but since it&#39;s working when launching from Eclipse, it will be hard to see a potential clue as it will work fine","body":"Sure, I could debug and I might but since it&#39;s working when launching from Eclipse, it will be hard to see a potential clue as it will work fine"}],"answers":[{"tags":[],"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1532548703,"creation_date":1532548703,"answer_id":51526779,"question_id":51505264,"body_markdown":"I just found the solution to my own issue. The reason was that in the `.classpath` file, only the .java files were outputted. Hence, my properties files were outputted in a different directory and were not found by the resourceLoader.\r\n\r\nOriginal .classpath entry :\r\n\r\n    &lt;classpathentry including=&quot;**/*.java&quot; kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src&quot;&gt;\r\n\r\nResolved by modifying the line entry to :\r\n\r\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src&quot;&gt;","title":"java.util.MissingResourceException: Can&#39;t find bundle for base name Bundle","body":"<p>I just found the solution to my own issue. The reason was that in the <code>.classpath</code> file, only the .java files were outputted. Hence, my properties files were outputted in a different directory and were not found by the resourceLoader.</p>\n\n<p>Original .classpath entry :</p>\n\n<pre><code>&lt;classpathentry including=\"**/*.java\" kind=\"src\" output=\"target/classes\" path=\"src\"&gt;\n</code></pre>\n\n<p>Resolved by modifying the line entry to :</p>\n\n<pre><code>&lt;classpathentry kind=\"src\" output=\"target/classes\" path=\"src\"&gt;\n</code></pre>\n"}],"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1931,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51526779,"answer_count":1,"score":0,"last_activity_date":1640657343,"creation_date":1532456592,"question_id":51505264,"body_markdown":"I am encountering an issue when trying to load a resource.\r\n\r\n    java.util.ResourceBundle bundle = java.util.ResourceBundle.getBundle(&quot;Bundle&quot;);\r\n\r\nMy file is correctly named `Bundle_en_US.properties` in the `src` folder.\r\n\r\nWhile I am aware of [this solution](https://stackoverflow.com/questions/2083159/cant-find-bundle-for-base-name#2083186) (and [many others](https://www.google.com/search?q=java.util.MissingResourceException:+Can%27t+find+bundle+for+base+name+Bundle+site:stackoverflow.com&amp;sa=X&amp;ved=0ahUKEwiNkrTBrrjcAhWEGDQIHX9DCDUQrQIIQSgEMAE)), **my case is different because my Java program runs fine from Eclipse but the error below is triggered when ran from an executable jar file.**\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.util.MissingResourceException: Can&#39;t find bundle for base name Bundle, locale en_US\r\n    \r\n                    at java.util.ResourceBundle.throwMissingResourceException(Unknown Source)\r\n    \r\n                    at java.util.ResourceBundle.getBundleImpl(Unknown Source)\r\n    \r\n                    at java.util.ResourceBundle.getBundle(Unknown Source)\r\n\r\nI am using: Windows 10, Eclipse Photon, JDK 8 and JDK 10, JRE 8 and JRE 10\r\n\r\nAnd I can see all my *.properties files in the jar file when opening with an archive manager :\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bb0Yr.png","title":"java.util.MissingResourceException: Can&#39;t find bundle for base name Bundle","body":"<p>I am encountering an issue when trying to load a resource.</p>\n\n<pre><code>java.util.ResourceBundle bundle = java.util.ResourceBundle.getBundle(\"Bundle\");\n</code></pre>\n\n<p>My file is correctly named <code>Bundle_en_US.properties</code> in the <code>src</code> folder.</p>\n\n<p>While I am aware of <a href=\"https://stackoverflow.com/questions/2083159/cant-find-bundle-for-base-name#2083186\">this solution</a> (and <a href=\"https://www.google.com/search?q=java.util.MissingResourceException:+Can%27t+find+bundle+for+base+name+Bundle+site:stackoverflow.com&amp;sa=X&amp;ved=0ahUKEwiNkrTBrrjcAhWEGDQIHX9DCDUQrQIIQSgEMAE\" rel=\"nofollow noreferrer\">many others</a>), <strong>my case is different because my Java program runs fine from Eclipse but the error below is triggered when ran from an executable jar file.</strong></p>\n\n<pre><code>Exception in thread \"AWT-EventQueue-0\" java.util.MissingResourceException: Can't find bundle for base name Bundle, locale en_US\n\n                at java.util.ResourceBundle.throwMissingResourceException(Unknown Source)\n\n                at java.util.ResourceBundle.getBundleImpl(Unknown Source)\n\n                at java.util.ResourceBundle.getBundle(Unknown Source)\n</code></pre>\n\n<p>I am using: Windows 10, Eclipse Photon, JDK 8 and JDK 10, JRE 8 and JRE 10</p>\n\n<p>And I can see all my *.properties files in the jar file when opening with an archive manager :\n<a href=\"https://i.stack.imgur.com/Bb0Yr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bb0Yr.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","opengl","optimization","render","lwjgl"],"comments":[{"owner":{"account_id":4768650,"reputation":1454,"user_id":3854096,"accept_rate":100,"display_name":"Nick Clark"},"score":0,"creation_date":1635916206,"post_id":69654576,"comment_id":123416905,"body_markdown":"glDrawElements takes the number of indices, not vertices.  Does changing `glDrawElements(GL_TRIANGLES, model.createModel().getVertexCount(), GL_UNSIGNED_INT, 0);` from vertex count to index count fix your problem?","body":"glDrawElements takes the number of indices, not vertices.  Does changing <code>glDrawElements(GL_TRIANGLES, model.createModel().getVertexCount(), GL_UNSIGNED_INT, 0);</code> from vertex count to index count fix your problem?"},{"owner":{"account_id":22557601,"reputation":11,"user_id":16745679,"display_name":"Renan Lima"},"score":0,"creation_date":1635950861,"post_id":69654576,"comment_id":123429237,"body_markdown":"The &quot;getVertexCount()&quot; method actually pulls the indice count, it&#39;s just a naming problem. And in the &quot;createModel()&quot;, the one that works, uses this method as well.","body":"The &quot;getVertexCount()&quot; method actually pulls the indice count, it&#39;s just a naming problem. And in the &quot;createModel()&quot;, the one that works, uses this method as well."},{"owner":{"account_id":4768650,"reputation":1454,"user_id":3854096,"accept_rate":100,"display_name":"Nick Clark"},"score":0,"creation_date":1636038322,"post_id":69654576,"comment_id":123455837,"body_markdown":"Just to sanity check, there is a element array buffer associated with the vao?","body":"Just to sanity check, there is a element array buffer associated with the vao?"}],"answers":[{"tags":[],"owner":{"account_id":22557601,"reputation":11,"user_id":16745679,"display_name":"Renan Lima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640657273,"creation_date":1640657273,"answer_id":70502139,"question_id":69654576,"body_markdown":"So, after dealing with college and work stuff, I finally returned to this code, and I could at last fix my mistakes. Shoutouts to Nick Clark for it&#39;s comment on the buffers associated with the VAO.\r\n\r\nThe problem seems to happen because of this line of code\r\n\r\n     glDrawElements(GL_TRIANGLES, model.createModel().getVertexCount(), GL_UNSIGNED_INT, 0);\r\n\r\nSpecifically on the &quot;model.createModel()&quot; part. It creates another clean mesh, with no buffers associated with it&#39;s VAO. The old method worked because I called the &quot;vertex count&quot; (which is actually the index count, and I named it wrong) directly from an mesh object, as in:\r\n\r\n    MeshLoader mesh = model.createModel();\r\n    ...\r\n    glDrawElements(GL_TRIANGLES, mesh.getVertexCount(), GL_UNSIGNED_INT, 0);\r\n\r\nSo, to fix the error, I kind of merged the two methods into a new one:\r\n\r\n    //Optimized method\r\n    \r\n    public void render(Map&lt;ModelLoader, List&lt;EntityLoader&gt;&gt; entities) {\r\n    \tfor(ModelLoader model:entities.keySet()) {\r\n    \t\tMeshLoader mesh = model.createModel();\r\n    \t\tglBindVertexArray(mesh.getVaoId());\r\n    \t\tglEnableVertexAttribArray(0);\r\n    \t\tglEnableVertexAttribArray(1);\r\n    \t\tglEnableVertexAttribArray(2);\r\n    \t\tshader.setUniformFloat(&quot;shineDamper&quot;, model.getShineDamper());\r\n    \t\tshader.setUniformFloat(&quot;reflectivity&quot;, model.getReflectivity());\r\n    \t\tglActiveTexture(GL_TEXTURE0);\r\n    \t\tglBindTexture(GL_TEXTURE_2D, model.getTexture());\r\n    \t\tglUniform1i(glGetUniformLocation(shader.getID(), &quot;texture&quot;), 0); \r\n    \t\tList&lt;EntityLoader&gt; batch = entities.get(model);\r\n    \t\tfor(EntityLoader entity : batch) {\r\n    \t\t\tprepareEntity(entity);\r\n    \t\t\tglDrawElements(GL_TRIANGLES, mesh.getVertexCount(), GL_UNSIGNED_INT, 0);\r\n    \t\t}\r\n    \t\tmesh.cleanUp();\r\n    \t}\r\n    \t\r\n    }\r\n\r\nAnd now I can render objects in a *theoretically* optimized way\r\n\r\n    //main class\r\n    List&lt;EntityLoader&gt; allIcos = new ArrayList&lt;EntityLoader&gt;();\r\n\t    allIcos.add(new EntityLoader(squareModel, new Vector3f(0,0,-5),0,0,0,1));\r\n\t    allIcos.add(new EntityLoader(squareModel, new Vector3f(0,5,-5),0,0,0,1));\r\n\t    allIcos.add(new EntityLoader(squareModel, new Vector3f(0,-5,-5),0,0,0,1));\r\n    ...\r\n    render.render(light, camera);\r\n\t    \tfor(EntityLoader Ico : allIcos) {\r\n\t    \t\trender.processEntity(Ico);\r\n\t    \t}\r\n\t    \trender.renderEntity();\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Jo3A.png\r\n\r\nI&#39;ll try to optimize and clean this code, but for now that&#39;s how it&#39;s going to work.\r\nFeel free to correct any naming/terminology mistakes in this answer, it&#39;s mostly because of my bad grasp of both english and Java lingo.","title":"Java/LWJGL 3 Optimization and Render error","body":"<p>So, after dealing with college and work stuff, I finally returned to this code, and I could at last fix my mistakes. Shoutouts to Nick Clark for it's comment on the buffers associated with the VAO.</p>\n<p>The problem seems to happen because of this line of code</p>\n<pre><code> glDrawElements(GL_TRIANGLES, model.createModel().getVertexCount(), GL_UNSIGNED_INT, 0);\n</code></pre>\n<p>Specifically on the &quot;model.createModel()&quot; part. It creates another clean mesh, with no buffers associated with it's VAO. The old method worked because I called the &quot;vertex count&quot; (which is actually the index count, and I named it wrong) directly from an mesh object, as in:</p>\n<pre><code>MeshLoader mesh = model.createModel();\n...\nglDrawElements(GL_TRIANGLES, mesh.getVertexCount(), GL_UNSIGNED_INT, 0);\n</code></pre>\n<p>So, to fix the error, I kind of merged the two methods into a new one:</p>\n<pre><code>//Optimized method\n\npublic void render(Map&lt;ModelLoader, List&lt;EntityLoader&gt;&gt; entities) {\n    for(ModelLoader model:entities.keySet()) {\n        MeshLoader mesh = model.createModel();\n        glBindVertexArray(mesh.getVaoId());\n        glEnableVertexAttribArray(0);\n        glEnableVertexAttribArray(1);\n        glEnableVertexAttribArray(2);\n        shader.setUniformFloat(&quot;shineDamper&quot;, model.getShineDamper());\n        shader.setUniformFloat(&quot;reflectivity&quot;, model.getReflectivity());\n        glActiveTexture(GL_TEXTURE0);\n        glBindTexture(GL_TEXTURE_2D, model.getTexture());\n        glUniform1i(glGetUniformLocation(shader.getID(), &quot;texture&quot;), 0); \n        List&lt;EntityLoader&gt; batch = entities.get(model);\n        for(EntityLoader entity : batch) {\n            prepareEntity(entity);\n            glDrawElements(GL_TRIANGLES, mesh.getVertexCount(), GL_UNSIGNED_INT, 0);\n        }\n        mesh.cleanUp();\n    }\n    \n}\n</code></pre>\n<p>And now I can render objects in a <em>theoretically</em> optimized way</p>\n<pre><code>//main class\nList&lt;EntityLoader&gt; allIcos = new ArrayList&lt;EntityLoader&gt;();\n    allIcos.add(new EntityLoader(squareModel, new Vector3f(0,0,-5),0,0,0,1));\n    allIcos.add(new EntityLoader(squareModel, new Vector3f(0,5,-5),0,0,0,1));\n    allIcos.add(new EntityLoader(squareModel, new Vector3f(0,-5,-5),0,0,0,1));\n...\nrender.render(light, camera);\n        for(EntityLoader Ico : allIcos) {\n            render.processEntity(Ico);\n        }\n        render.renderEntity();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7Jo3A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Jo3A.png\" alt=\"enter image description here\" /></a></p>\n<p>I'll try to optimize and clean this code, but for now that's how it's going to work.\nFeel free to correct any naming/terminology mistakes in this answer, it's mostly because of my bad grasp of both english and Java lingo.</p>\n"}],"owner":{"account_id":22557601,"reputation":11,"user_id":16745679,"display_name":"Renan Lima"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70502139,"answer_count":1,"score":0,"last_activity_date":1640657273,"creation_date":1634777257,"question_id":69654576,"body_markdown":"I was following ThinMatrix&#39;s tutorial on OPENGL/LWJGL 3 3D Game Tutorial series [(here)][1], even though my code was wrote a little different from his, it was going well.\r\n\r\nI could render an object like the image below using basic LWJGL 3 methods for rendering/shading. Basically, using this method in the **Render** class:\r\n\r\n  \r\n\r\n     //Old method\r\n        \r\n        public void createModel(EntityLoader entity, StaticShader shader) {\r\n    \t\t\r\n        \tModelLoader model = entity.getModel();\r\n    \t\tMeshLoader mesh = model.createModel();\r\n    \t\tglBindVertexArray(mesh.getVaoId());\r\n    \t\tglEnableVertexAttribArray(0);\r\n    \t\tglEnableVertexAttribArray(1);\r\n    \t\tglEnableVertexAttribArray(2);\r\n    \t\tshader.setUniformFloat(&quot;shineDamper&quot;, model.getShineDamper());\r\n    \t\tshader.setUniformFloat(&quot;reflectivity&quot;, model.getReflectivity());\r\n    \t\t\r\n    \t\tMatrix4f transformationMatrix = Maths.createTransfMatrix(entity.getPosition(), entity.getRotX(), entity.getRotY(), \r\n    \t\t\t\tentity.getRotZ(), entity.getScale());\r\n    \t\tshader.setUniformMatrix(&quot;transformationMatrix&quot;, transformationMatrix);\r\n    \t\t\r\n    \t\tglActiveTexture(GL_TEXTURE0);\r\n    \t\tglBindTexture(GL_TEXTURE_2D, model.getTexture());\r\n    \t\tglUniform1i(glGetUniformLocation(shader.getID(), &quot;texture&quot;), 0); \r\n    \r\n    \t\tglDrawElements(GL_TRIANGLES, mesh.getVertexCount(), GL_UNSIGNED_INT, 0);\r\n    \t\t\r\n    \t\tmesh.cleanUp();\r\n    \t}\r\n\r\nAnd calling it out in the **main** class like this:\r\n\r\n    public static void main(String[] args){\r\n    \t\t\r\n    \t\tRender render = new Render();\r\n    \t\twindow = render.init();\r\n    \t\tglfwMakeContextCurrent(window);\r\n    \t    glfwSwapInterval(1);\r\n    \t    \r\n    \t    glfwShowWindow(window);\r\n    \t    \r\n    \t\tcreateCapabilities(); \r\n    \t\tLight light = new Light(new Vector3f(0,0,20), new Vector3f(1,1,1));\r\n    \t\t\r\n    \t\tObjLoader obj = new ObjLoader();\r\n    \t    ModelLoader squareModel = obj.loadObj(&quot;game_engine/src/Objetos/Ico.obj&quot;);\r\n    \t    EntityLoader squareEntity = new EntityLoader(squareModel, new Vector3f(0,0,-5),0,0,0,1);\r\n    \t    \r\n    \t    squareModel.setShineDamper(10);\r\n    \t\tsquareModel.setReflectivity(1);\r\n    \t\tsquareModel.loadTexture(&quot;game_engine/src/Texturas/awesomeface.png&quot;);\r\n    \t\t\r\n    \t    Camera camera = new Camera();\r\n    \t    \r\n    \t    StaticShader shader = new StaticShader();\r\n    \t    shader.start();\r\n    \t\tshader.use();\r\n    \t    \r\n    \t    while(!glfwWindowShouldClose(window))\r\n    \t    {\r\n    \t    \trender.prepare();\r\n    \t    \tprocessInput(window);\r\n    \t    \t\r\n    \t    \tglfwSetFramebufferSizeCallback(window, resizeWindow);\r\n    \t    \tGLFW.glfwSetScrollCallback(window, new GLFWScrollCallback() {\r\n    \t    \t    @Override public void invoke (long win, double dx, double dy) {\r\n    \t    \t    \tXScroll = (float) dx;\r\n    \t                YScroll = (float) dy;\r\n    \t    \t    }\r\n    \t    \t});\r\n    \t    \t\r\n    \t    \tcamera.move(window, YScroll);\r\n    \t    \tYScroll = 0;\r\n    \t    \t\r\n    \t    \tshader.setUniformVector(&quot;lightPosition&quot;, light.getPosition());\r\n    \t\t    shader.setUniformVector(&quot;lightColour&quot;, light.getColour());\r\n    \t\t\r\n    \t\t    Matrix4f viewMatrix = Maths.createViewMatrix(camera);\r\n    \t\t    shader.setUniformMatrix(&quot;viewMatrix&quot;, viewMatrix);\r\n    \t\t\r\n    \t\t    shader.setUniformMatrix(&quot;projectionMatrix&quot;, render.getProjectionMatrix());\r\n    \t    \t\r\n    \t    \trender.createModel(squareEntity, shader);\r\n    \t    \t\r\n    \t        glfwSwapBuffers(window);\r\n    \t        glfwPollEvents();    \r\n    \t    }\r\n    \t    shader.cleanup();\r\n    \t\tglfwTerminate();\r\n    \r\n    \t}\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nUntil the 13 video, Optimizing, where he teached how to do the same procedure in a more optimized way, using HashMaps and ArrayLists to store the entities and calling the VAO elements only once per list of entities.\r\nSo, I made this **MasterRender** class:\r\n\r\n    public class Master {\r\n    \t\r\n    \tprivate StaticShader shader = new StaticShader();\r\n    \tprivate Render renderer = new Render(shader);\r\n    \t\r\n    \tprivate Map&lt;ModelLoader, List&lt;EntityLoader&gt;&gt; entities = new HashMap&lt;ModelLoader, List&lt;EntityLoader&gt;&gt;();\r\n    \t\r\n    \tpublic void render(Light sun, Camera camera){\r\n    \t\trenderer.prepare();\r\n    \t\tshader.start();\r\n    \t\tshader.use();\r\n    \t\t\r\n    \t\tshader.setUniformVector(&quot;lightPosition&quot;, sun.getPosition());\r\n    \t\tshader.setUniformVector(&quot;lightColour&quot;, sun.getColour());\r\n    \t\t\r\n    \t\tMatrix4f viewMatrix = Maths.createViewMatrix(camera);\r\n    \t\tshader.setUniformMatrix(&quot;viewMatrix&quot;, viewMatrix);\r\n    \t\t\r\n    \t\tshader.setUniformMatrix(&quot;projectionMatrix&quot;, renderer.getProjectionMatrix());\r\n    \t}\r\n    \t\r\n    \tpublic void processEntity(EntityLoader entity) {\r\n    \t\tModelLoader entityModel = entity.getModel();\r\n    \t\tList&lt;EntityLoader&gt; batch = entities.get(entityModel);\r\n    \t\tif(batch!=null) {\r\n    \t\t\tbatch.add(entity);\r\n    \t\t}else {\r\n    \t\t\tList&lt;EntityLoader&gt; newBatch = new ArrayList&lt;EntityLoader&gt;();\r\n    \t\t\tnewBatch.add(entity);\r\n    \t\t\tentities.put(entityModel, newBatch);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic void renderEntity() {\r\n    \t\t\r\n    \t\trenderer.render(entities);\r\n    \t\t\r\n    \t\tshader.stop();\r\n    \t\tentities.clear();\r\n    \t}\r\n    \t\r\n    \tpublic long loadWindow() {\r\n    \t\treturn renderer.init();\r\n    \t}\r\n    \t\r\n    \tpublic void cleanup() {\r\n    \t\tshader.cleanup();\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd used new methods in the Render class:\r\n\r\n    //Optimized methods\r\n        \r\n        public void render(Map&lt;ModelLoader, List&lt;EntityLoader&gt;&gt; entities) {\r\n        \tfor(ModelLoader model:entities.keySet()) {\r\n        \t\tprepareModel(model);\r\n        \t\tList&lt;EntityLoader&gt; batch = entities.get(model);\r\n        \t\tfor(EntityLoader entity : batch) {\r\n        \t\t\tprepareEntity(entity);\r\n        \t\t\tglDrawElements(GL_TRIANGLES, model.createModel().getVertexCount(), GL_UNSIGNED_INT, 0);\r\n        \t\t}\r\n        \t\tunbindModel();\r\n        \t}\r\n        \t\r\n        }\r\n        \r\n        private void prepareModel(ModelLoader model) {\r\n        \tMeshLoader mesh = model.createModel();\r\n    \t\tglBindVertexArray(mesh.getVaoId());\r\n    \t\tglEnableVertexAttribArray(0);\r\n    \t\tglEnableVertexAttribArray(1);\r\n    \t\tglEnableVertexAttribArray(2);\r\n    \t\tshader.setUniformFloat(&quot;shineDamper&quot;, model.getShineDamper());\r\n    \t\tshader.setUniformFloat(&quot;reflectivity&quot;, model.getReflectivity());\r\n    \t\tglActiveTexture(GL_TEXTURE0);\r\n    \t\tglBindTexture(GL_TEXTURE_2D, model.getTexture());\r\n    \t\tglUniform1i(glGetUniformLocation(shader.getID(), &quot;texture&quot;), 0); \r\n        \t\r\n        }\r\n        \r\n        private void unbindModel() {\r\n        \tglDisableVertexAttribArray(0);\r\n            glDisableVertexAttribArray(1);\r\n            glDisableVertexAttribArray(2);\r\n            glBindVertexArray(0);\r\n    \r\n            glBindTexture(GL_TEXTURE_2D, 0);\r\n    \r\n        }\r\n        \r\n        private void prepareEntity(EntityLoader entity) {\r\n        \tMatrix4f transformationMatrix = Maths.createTransfMatrix(entity.getPosition(), entity.getRotX(), entity.getRotY(), \r\n    \t\t\t\tentity.getRotZ(), entity.getScale());\r\n    \t\tshader.setUniformMatrix(&quot;transformationMatrix&quot;, transformationMatrix);\r\n        \t\r\n        }\r\n\r\nFinally, I adjusted the **main** class, much like he did in the video\r\n\r\n    public static void main(String[] args){\r\n    \t\t\r\n    \t\tMaster render = new Master();\r\n    \t\twindow = render.loadWindow();\r\n    ...\r\n    List&lt;EntityLoader&gt; allIcos = new ArrayList&lt;EntityLoader&gt;();\r\n    \t    allIcos.add(new EntityLoader(squareModel, new Vector3f(0,0,-5),0,0,0,1));\r\n    \t    \r\n    \t    while(!glfwWindowShouldClose(window))\r\n    \t    {\r\n    \t    \tprocessInput(window);\r\n    \t    \t\r\n    \t    \tglfwSetFramebufferSizeCallback(window, resizeWindow);\r\n    \t    \tGLFW.glfwSetScrollCallback(window, new GLFWScrollCallback() {\r\n    \t    \t    @Override public void invoke (long win, double dx, double dy) {\r\n    \t    \t    \tXScroll = (float) dx;\r\n    \t                YScroll = (float) dy;\r\n    \t    \t    }\r\n    \t    \t});\r\n    \t    \t\r\n    \t    \tcamera.move(window, YScroll);\r\n    \t    \tYScroll = 0;\r\n    \r\n    \t    \trender.render(light, camera);\r\n    \t    \tfor(EntityLoader Ico : allIcos) {\r\n    \t    \t\trender.processEntity(Ico);\r\n    \t    \t\tIco.changeRot(0, 3, 0);\r\n    \t    \t}\r\n    \t    \trender.renderEntity();\r\n    \t    \t\r\n    \t        glfwSwapBuffers(window);\r\n    \t        glfwPollEvents();    \r\n    \t    }\r\nNot only it didn&#39;t work, it bought up a log error:\r\n\r\n    #\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ff8b8cd07b0, pid=11800, tid=7260\r\n    #\r\n    # JRE version: OpenJDK Runtime Environment (16.0.2+7) (build 16.0.2+7-67)\r\n    # Java VM: OpenJDK 64-Bit Server VM (16.0.2+7-67, mixed mode, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\r\n    # Problematic frame:\r\n    # C  [nvoglv64.dll+0x8507b0]\r\n    #\r\n    # No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   https://bugreport.java.com/bugreport/crash.jsp\r\n    # The crash happened outside the Java Virtual Machine in native code.\r\n    # See problematic frame for where to report the bug.\r\n    #\r\n    \r\n    ---------------  S U M M A R Y ------------\r\n    \r\n    Command Line: -Dfile.encoding=Cp1252 -XX:+ShowCodeDetailsInExceptionMessages br.com.renanlima.git.main\r\n    \r\n    ---------------  T H R E A D  ---------------\r\n    \r\n    Current thread (0x000001ae5e0ce780):  JavaThread &quot;main&quot; [_thread_in_native, id=7260, stack(0x0000007d29000000,0x0000007d29100000)]\r\n    \r\n    Stack: [0x0000007d29000000,0x0000007d29100000],  sp=0x0000007d290ff350,  free space=1020k\r\n    Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\n    C  [nvoglv64.dll+0x8507b0]\r\n    \r\n    Java frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\n    j  org.lwjgl.opengl.GL11C.nglDrawElements(IIIJ)V+0\r\n    j  org.lwjgl.opengl.GL11C.glDrawElements(IIIJ)V+4\r\n    j  org.lwjgl.opengl.GL11.glDrawElements(IIIJ)V+4\r\n    j  br.com.renanlima.render.Render.render(Ljava/util/Map;)V+84\r\n    j  br.com.renanlima.render.Master.renderEntity()V+8\r\n    j  br.com.renanlima.git.main.main([Ljava/lang/String;)V+254\r\n    v  ~StubRoutines::call_stub\r\n    \r\n    siginfo: EXCEPTION_ACCESS_VIOLATION (0xc0000005), reading address 0x0000000000000000\r\n    ...\r\n\r\nMy question is:What did I do wrong in this new method of rendering? I looked up other tutorials besides ThinMatrix&#39;s one and they seen to all do it in a similar way. \r\n\r\n**EDIT 1:** So, using Eclipse&#39;s debugger I found out 2 things:\r\n1 - For some reason, the &quot;transformationMatrix&quot; is loading different, even though the two methods are the same and the parameters they are getting are the same.\r\n\r\n[This][3] are the matrix variables using the &quot;createModel()&quot; method, the one that works\r\n\r\n[And this][4] are the matrix variables using the optimized method, the one that doesn&#39;t work\r\n\r\nThis seems to be the only matrix/vertex in which this happens, but I could be overlooking something\r\n\r\n2 - I think I&#39;ve pinpointed the specific part where the crash happens.\r\nWhen running the &quot;glDrawElements&quot; method. \r\n\r\n[![enter image description here][5]][5]\r\n\r\nMore especificaly, on this part of the method: \r\n\r\n[![enter image description here][6]][6]\r\n\r\nBut none of the variables seem to be wrong before that method is called. Again, I could be overlooking something, but there are a sh*tton of variables at the &quot;findNative()&quot; part, so I will look better into it.\r\n\r\n**EDIT 1.2:** I solved the transformationMatrix error. It was because of the &quot;changeRot(0, 3, 0);&quot; being called early. But I still can&#39;t find out why the crash at &quot;glDrawElements&quot; happens. Can someone please help me with this? If the question is confusing, please tell me so I can try to explain it better.\r\n\r\n\r\n  [1]: https://www.youtube.com/playlist?list=PLRIWtICgwaX0u7Rf9zkZhLoLuZVfUksDP\r\n  [2]: https://i.stack.imgur.com/Jyaig.png\r\n  [3]: https://i.stack.imgur.com/l3n0q.png\r\n  [4]: https://i.stack.imgur.com/wOkeq.png\r\n  [5]: https://i.stack.imgur.com/Pe6zw.png\r\n  [6]: https://i.stack.imgur.com/GlYxl.png","title":"Java/LWJGL 3 Optimization and Render error","body":"<p>I was following ThinMatrix's tutorial on OPENGL/LWJGL 3 3D Game Tutorial series <a href=\"https://www.youtube.com/playlist?list=PLRIWtICgwaX0u7Rf9zkZhLoLuZVfUksDP\" rel=\"nofollow noreferrer\">(here)</a>, even though my code was wrote a little different from his, it was going well.</p>\n<p>I could render an object like the image below using basic LWJGL 3 methods for rendering/shading. Basically, using this method in the <strong>Render</strong> class:</p>\n<pre><code> //Old method\n    \n    public void createModel(EntityLoader entity, StaticShader shader) {\n        \n        ModelLoader model = entity.getModel();\n        MeshLoader mesh = model.createModel();\n        glBindVertexArray(mesh.getVaoId());\n        glEnableVertexAttribArray(0);\n        glEnableVertexAttribArray(1);\n        glEnableVertexAttribArray(2);\n        shader.setUniformFloat(&quot;shineDamper&quot;, model.getShineDamper());\n        shader.setUniformFloat(&quot;reflectivity&quot;, model.getReflectivity());\n        \n        Matrix4f transformationMatrix = Maths.createTransfMatrix(entity.getPosition(), entity.getRotX(), entity.getRotY(), \n                entity.getRotZ(), entity.getScale());\n        shader.setUniformMatrix(&quot;transformationMatrix&quot;, transformationMatrix);\n        \n        glActiveTexture(GL_TEXTURE0);\n        glBindTexture(GL_TEXTURE_2D, model.getTexture());\n        glUniform1i(glGetUniformLocation(shader.getID(), &quot;texture&quot;), 0); \n\n        glDrawElements(GL_TRIANGLES, mesh.getVertexCount(), GL_UNSIGNED_INT, 0);\n        \n        mesh.cleanUp();\n    }\n</code></pre>\n<p>And calling it out in the <strong>main</strong> class like this:</p>\n<pre><code>public static void main(String[] args){\n        \n        Render render = new Render();\n        window = render.init();\n        glfwMakeContextCurrent(window);\n        glfwSwapInterval(1);\n        \n        glfwShowWindow(window);\n        \n        createCapabilities(); \n        Light light = new Light(new Vector3f(0,0,20), new Vector3f(1,1,1));\n        \n        ObjLoader obj = new ObjLoader();\n        ModelLoader squareModel = obj.loadObj(&quot;game_engine/src/Objetos/Ico.obj&quot;);\n        EntityLoader squareEntity = new EntityLoader(squareModel, new Vector3f(0,0,-5),0,0,0,1);\n        \n        squareModel.setShineDamper(10);\n        squareModel.setReflectivity(1);\n        squareModel.loadTexture(&quot;game_engine/src/Texturas/awesomeface.png&quot;);\n        \n        Camera camera = new Camera();\n        \n        StaticShader shader = new StaticShader();\n        shader.start();\n        shader.use();\n        \n        while(!glfwWindowShouldClose(window))\n        {\n            render.prepare();\n            processInput(window);\n            \n            glfwSetFramebufferSizeCallback(window, resizeWindow);\n            GLFW.glfwSetScrollCallback(window, new GLFWScrollCallback() {\n                @Override public void invoke (long win, double dx, double dy) {\n                    XScroll = (float) dx;\n                    YScroll = (float) dy;\n                }\n            });\n            \n            camera.move(window, YScroll);\n            YScroll = 0;\n            \n            shader.setUniformVector(&quot;lightPosition&quot;, light.getPosition());\n            shader.setUniformVector(&quot;lightColour&quot;, light.getColour());\n        \n            Matrix4f viewMatrix = Maths.createViewMatrix(camera);\n            shader.setUniformMatrix(&quot;viewMatrix&quot;, viewMatrix);\n        \n            shader.setUniformMatrix(&quot;projectionMatrix&quot;, render.getProjectionMatrix());\n            \n            render.createModel(squareEntity, shader);\n            \n            glfwSwapBuffers(window);\n            glfwPollEvents();    \n        }\n        shader.cleanup();\n        glfwTerminate();\n\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Jyaig.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jyaig.png\" alt=\"enter image description here\" /></a></p>\n<p>Until the 13 video, Optimizing, where he teached how to do the same procedure in a more optimized way, using HashMaps and ArrayLists to store the entities and calling the VAO elements only once per list of entities.\nSo, I made this <strong>MasterRender</strong> class:</p>\n<pre><code>public class Master {\n    \n    private StaticShader shader = new StaticShader();\n    private Render renderer = new Render(shader);\n    \n    private Map&lt;ModelLoader, List&lt;EntityLoader&gt;&gt; entities = new HashMap&lt;ModelLoader, List&lt;EntityLoader&gt;&gt;();\n    \n    public void render(Light sun, Camera camera){\n        renderer.prepare();\n        shader.start();\n        shader.use();\n        \n        shader.setUniformVector(&quot;lightPosition&quot;, sun.getPosition());\n        shader.setUniformVector(&quot;lightColour&quot;, sun.getColour());\n        \n        Matrix4f viewMatrix = Maths.createViewMatrix(camera);\n        shader.setUniformMatrix(&quot;viewMatrix&quot;, viewMatrix);\n        \n        shader.setUniformMatrix(&quot;projectionMatrix&quot;, renderer.getProjectionMatrix());\n    }\n    \n    public void processEntity(EntityLoader entity) {\n        ModelLoader entityModel = entity.getModel();\n        List&lt;EntityLoader&gt; batch = entities.get(entityModel);\n        if(batch!=null) {\n            batch.add(entity);\n        }else {\n            List&lt;EntityLoader&gt; newBatch = new ArrayList&lt;EntityLoader&gt;();\n            newBatch.add(entity);\n            entities.put(entityModel, newBatch);\n        }\n    }\n    \n    public void renderEntity() {\n        \n        renderer.render(entities);\n        \n        shader.stop();\n        entities.clear();\n    }\n    \n    public long loadWindow() {\n        return renderer.init();\n    }\n    \n    public void cleanup() {\n        shader.cleanup();\n    }\n\n}\n</code></pre>\n<p>And used new methods in the Render class:</p>\n<pre><code>//Optimized methods\n    \n    public void render(Map&lt;ModelLoader, List&lt;EntityLoader&gt;&gt; entities) {\n        for(ModelLoader model:entities.keySet()) {\n            prepareModel(model);\n            List&lt;EntityLoader&gt; batch = entities.get(model);\n            for(EntityLoader entity : batch) {\n                prepareEntity(entity);\n                glDrawElements(GL_TRIANGLES, model.createModel().getVertexCount(), GL_UNSIGNED_INT, 0);\n            }\n            unbindModel();\n        }\n        \n    }\n    \n    private void prepareModel(ModelLoader model) {\n        MeshLoader mesh = model.createModel();\n        glBindVertexArray(mesh.getVaoId());\n        glEnableVertexAttribArray(0);\n        glEnableVertexAttribArray(1);\n        glEnableVertexAttribArray(2);\n        shader.setUniformFloat(&quot;shineDamper&quot;, model.getShineDamper());\n        shader.setUniformFloat(&quot;reflectivity&quot;, model.getReflectivity());\n        glActiveTexture(GL_TEXTURE0);\n        glBindTexture(GL_TEXTURE_2D, model.getTexture());\n        glUniform1i(glGetUniformLocation(shader.getID(), &quot;texture&quot;), 0); \n        \n    }\n    \n    private void unbindModel() {\n        glDisableVertexAttribArray(0);\n        glDisableVertexAttribArray(1);\n        glDisableVertexAttribArray(2);\n        glBindVertexArray(0);\n\n        glBindTexture(GL_TEXTURE_2D, 0);\n\n    }\n    \n    private void prepareEntity(EntityLoader entity) {\n        Matrix4f transformationMatrix = Maths.createTransfMatrix(entity.getPosition(), entity.getRotX(), entity.getRotY(), \n                entity.getRotZ(), entity.getScale());\n        shader.setUniformMatrix(&quot;transformationMatrix&quot;, transformationMatrix);\n        \n    }\n</code></pre>\n<p>Finally, I adjusted the <strong>main</strong> class, much like he did in the video</p>\n<pre><code>public static void main(String[] args){\n        \n        Master render = new Master();\n        window = render.loadWindow();\n...\nList&lt;EntityLoader&gt; allIcos = new ArrayList&lt;EntityLoader&gt;();\n        allIcos.add(new EntityLoader(squareModel, new Vector3f(0,0,-5),0,0,0,1));\n        \n        while(!glfwWindowShouldClose(window))\n        {\n            processInput(window);\n            \n            glfwSetFramebufferSizeCallback(window, resizeWindow);\n            GLFW.glfwSetScrollCallback(window, new GLFWScrollCallback() {\n                @Override public void invoke (long win, double dx, double dy) {\n                    XScroll = (float) dx;\n                    YScroll = (float) dy;\n                }\n            });\n            \n            camera.move(window, YScroll);\n            YScroll = 0;\n\n            render.render(light, camera);\n            for(EntityLoader Ico : allIcos) {\n                render.processEntity(Ico);\n                Ico.changeRot(0, 3, 0);\n            }\n            render.renderEntity();\n            \n            glfwSwapBuffers(window);\n            glfwPollEvents();    \n        }\n</code></pre>\n<p>Not only it didn't work, it bought up a log error:</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ff8b8cd07b0, pid=11800, tid=7260\n#\n# JRE version: OpenJDK Runtime Environment (16.0.2+7) (build 16.0.2+7-67)\n# Java VM: OpenJDK 64-Bit Server VM (16.0.2+7-67, mixed mode, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\n# Problematic frame:\n# C  [nvoglv64.dll+0x8507b0]\n#\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\n#\n# If you would like to submit a bug report, please visit:\n#   https://bugreport.java.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n\n---------------  S U M M A R Y ------------\n\nCommand Line: -Dfile.encoding=Cp1252 -XX:+ShowCodeDetailsInExceptionMessages br.com.renanlima.git.main\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x000001ae5e0ce780):  JavaThread &quot;main&quot; [_thread_in_native, id=7260, stack(0x0000007d29000000,0x0000007d29100000)]\n\nStack: [0x0000007d29000000,0x0000007d29100000],  sp=0x0000007d290ff350,  free space=1020k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  [nvoglv64.dll+0x8507b0]\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  org.lwjgl.opengl.GL11C.nglDrawElements(IIIJ)V+0\nj  org.lwjgl.opengl.GL11C.glDrawElements(IIIJ)V+4\nj  org.lwjgl.opengl.GL11.glDrawElements(IIIJ)V+4\nj  br.com.renanlima.render.Render.render(Ljava/util/Map;)V+84\nj  br.com.renanlima.render.Master.renderEntity()V+8\nj  br.com.renanlima.git.main.main([Ljava/lang/String;)V+254\nv  ~StubRoutines::call_stub\n\nsiginfo: EXCEPTION_ACCESS_VIOLATION (0xc0000005), reading address 0x0000000000000000\n...\n</code></pre>\n<p>My question is:What did I do wrong in this new method of rendering? I looked up other tutorials besides ThinMatrix's one and they seen to all do it in a similar way.</p>\n<p><strong>EDIT 1:</strong> So, using Eclipse's debugger I found out 2 things:\n1 - For some reason, the &quot;transformationMatrix&quot; is loading different, even though the two methods are the same and the parameters they are getting are the same.</p>\n<p><a href=\"https://i.stack.imgur.com/l3n0q.png\" rel=\"nofollow noreferrer\">This</a> are the matrix variables using the &quot;createModel()&quot; method, the one that works</p>\n<p><a href=\"https://i.stack.imgur.com/wOkeq.png\" rel=\"nofollow noreferrer\">And this</a> are the matrix variables using the optimized method, the one that doesn't work</p>\n<p>This seems to be the only matrix/vertex in which this happens, but I could be overlooking something</p>\n<p>2 - I think I've pinpointed the specific part where the crash happens.\nWhen running the &quot;glDrawElements&quot; method.</p>\n<p><a href=\"https://i.stack.imgur.com/Pe6zw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pe6zw.png\" alt=\"enter image description here\" /></a></p>\n<p>More especificaly, on this part of the method:</p>\n<p><a href=\"https://i.stack.imgur.com/GlYxl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GlYxl.png\" alt=\"enter image description here\" /></a></p>\n<p>But none of the variables seem to be wrong before that method is called. Again, I could be overlooking something, but there are a sh*tton of variables at the &quot;findNative()&quot; part, so I will look better into it.</p>\n<p><strong>EDIT 1.2:</strong> I solved the transformationMatrix error. It was because of the &quot;changeRot(0, 3, 0);&quot; being called early. But I still can't find out why the crash at &quot;glDrawElements&quot; happens. Can someone please help me with this? If the question is confusing, please tell me so I can try to explain it better.</p>\n"},{"tags":["java","go","jna"],"comments":[{"owner":{"account_id":2183925,"reputation":2212,"user_id":1932789,"display_name":"Zachary Craig"},"score":3,"creation_date":1524504415,"post_id":49986729,"comment_id":86989757,"body_markdown":"Are you asking how to call your &quot;Add&quot; function from java? I&#39;m really confused, because that code you just posted is GO, not java, maybe if that is in fact the goal post the java code you&#39;ve tried to use to access this function?","body":"Are you asking how to call your &quot;Add&quot; function from java? I&#39;m really confused, because that code you just posted is GO, not java, maybe if that is in fact the goal post the java code you&#39;ve tried to use to access this function?"},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1524504561,"post_id":49986729,"comment_id":86989856,"body_markdown":"@zack6849 hes trying to use JNA, there is a tag but its not specified in the question body.","body":"@zack6849 hes trying to use JNA, there is a tag but its not specified in the question body."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1524504820,"post_id":49986729,"comment_id":86989976,"body_markdown":"[This](https://medium.com/learning-the-go-programming-language/calling-go-functions-from-other-languages-4c7d8bcc69bf) seems to be a relatively recent article on the topic. I have not verified its content though.","body":"<a href=\"https://medium.com/learning-the-go-programming-language/calling-go-functions-from-other-languages-4c7d8bcc69bf\" rel=\"nofollow noreferrer\">This</a> seems to be a relatively recent article on the topic. I have not verified its content though."},{"owner":{"account_id":372122,"reputation":52335,"user_id":720999,"accept_rate":100,"display_name":"kostix"},"score":1,"creation_date":1524505114,"post_id":49986729,"comment_id":86990107,"body_markdown":"I&#39;m voting to close this question as off-topic because it displays no attempt to do even a minimal research and does not present a clear narrow problem.","body":"I&#39;m voting to close this question as off-topic because it displays no attempt to do even a minimal research and does not present a clear narrow problem."},{"owner":{"account_id":259413,"reputation":1853,"user_id":542271,"accept_rate":0,"display_name":"dmotta"},"score":0,"creation_date":1524510582,"post_id":49986729,"comment_id":86992890,"body_markdown":"Yes, I need to move some logic from Java &#39;Spring Batch&#39;  to Golang, in order to improve the performance. My idea is use JNA as Interface to access to Golang functions.","body":"Yes, I need to move some logic from Java &#39;Spring Batch&#39;  to Golang, in order to improve the performance. My idea is use JNA as Interface to access to Golang functions."}],"answers":[{"tags":[],"owner":{"account_id":259413,"reputation":1853,"user_id":542271,"accept_rate":0,"display_name":"dmotta"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1640657046,"creation_date":1524524626,"answer_id":49991098,"question_id":49986729,"body_markdown":"After review of the documentation about [Go Shared Libraries][1]:\r\n\r\nIt is possible to integrate the call of Go functions from Java Spring Batch. Below is a short example:\r\n\r\nGo function:\r\n\r\n    package main\r\n\r\n    import &quot;fmt&quot;\r\n\r\n    import &quot;C&quot;\r\n\r\n    //export Add\r\n    func Add(x, y int) int {\r\n        fmt.Printf(&quot;Go says: adding %v and %v\\n&quot;, x, y)\r\n        return x + y\r\n    }\r\n\r\nAfter that, execute the command to generate the binary files:\r\n\r\n    go build -buildmode=c-shared -o bin/lib-cqm-transformer.so src/cqm_transformer.go\r\n\r\nThis generates the binary files:\r\n\r\n```lang-none\r\nls -la bin/\r\ntotal 2860\r\ndrwxrwxr-x 2 dmotta dmotta    4096 abr 23 01:13 .\r\ndrwxrwxr-x 5 dmotta dmotta    4096 abr 23 00:35 ..\r\n-rw-r--r-- 1 root   root      1558 abr 23 01:13 lib-cqm-transformer.h\r\n-rw-r--r-- 1 root   root   2915112 abr 23 01:13 lib-cqm-transformer.so\r\n```\r\n\r\nFinally, create the JNA class:\r\n\r\n    package com.XX.XX.batch.engine.transformer;\r\n\r\n    import com.sun.jna.Library;\r\n    import com.sun.jna.Native;\r\n\r\n    public class GoEngineTransformerTest {\r\n      static GoCqmTransformer GO_CQM_TRANSFORMER;\r\n      static {\r\n        String os = System.getProperty(&quot;os.name&quot;).toLowerCase();\r\n        String libExtension;\r\n        if (os.contains(&quot;mac os&quot;)) {\r\n          libExtension = &quot;dylib&quot;;\r\n        } else if (os.contains(&quot;windows&quot;)) {\r\n          libExtension = &quot;dll&quot;;\r\n        } else {\r\n          libExtension = &quot;so&quot;;\r\n        }\r\n\r\n        String pwd = System.getProperty(&quot;user.dir&quot;);\r\n        String lib = pwd + &quot;/golang/bin/lib-cqm-transformer.&quot; + libExtension;\r\n        GO_CQM_TRANSFORMER = (GoCqmTransformer) Native.loadLibrary(lib, GoCqmTransformer.class);\r\n      }\r\n\r\n      public interface GoCqmTransformer extends Library {\r\n        long Add(long x, long y);\r\n      }\r\n\r\n      public static void main(String[] args) {\r\n        System.out.println(&quot;Java says: about to call Go ..&quot;);\r\n        long total = GO_CQM_TRANSFORMER.Add(30, 12);\r\n        System.out.println(&quot;Java says: result is &quot; + total);\r\n      }\r\n    }\r\n\r\nAfter that, execute from the main Java class. Results:\r\n\r\n```lang-none\r\nJava HotSpot(TM) 64-Bit Server VM warning: You have loaded library /tmp/jna1412558273325390219.tmp which might have disabled stack guard. The VM will try to fix the stack guard now.\r\nIt&#39;s highly recommended that you fix the library with &#39;execstack -c &lt;libfile&gt;&#39;, or link it with &#39;-z noexecstack&#39;.\r\nJava says: about to call Go ..\r\nGo says: adding 30 and 12\r\nJava says: result is 42\r\n```\r\n\r\n  [1]: https://github.com/jbuberel/buildmodeshared\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I call a Go function from Java using the Java native interface?","body":"<p>After review of the documentation about <a href=\"https://github.com/jbuberel/buildmodeshared\" rel=\"noreferrer\">Go Shared Libraries</a>:</p>\n<p>It is possible to integrate the call of Go functions from Java Spring Batch. Below is a short example:</p>\n<p>Go function:</p>\n<pre><code>package main\n\nimport &quot;fmt&quot;\n\nimport &quot;C&quot;\n\n//export Add\nfunc Add(x, y int) int {\n    fmt.Printf(&quot;Go says: adding %v and %v\\n&quot;, x, y)\n    return x + y\n}\n</code></pre>\n<p>After that, execute the command to generate the binary files:</p>\n<pre><code>go build -buildmode=c-shared -o bin/lib-cqm-transformer.so src/cqm_transformer.go\n</code></pre>\n<p>This generates the binary files:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ls -la bin/\ntotal 2860\ndrwxrwxr-x 2 dmotta dmotta    4096 abr 23 01:13 .\ndrwxrwxr-x 5 dmotta dmotta    4096 abr 23 00:35 ..\n-rw-r--r-- 1 root   root      1558 abr 23 01:13 lib-cqm-transformer.h\n-rw-r--r-- 1 root   root   2915112 abr 23 01:13 lib-cqm-transformer.so\n</code></pre>\n<p>Finally, create the JNA class:</p>\n<pre><code>package com.XX.XX.batch.engine.transformer;\n\nimport com.sun.jna.Library;\nimport com.sun.jna.Native;\n\npublic class GoEngineTransformerTest {\n  static GoCqmTransformer GO_CQM_TRANSFORMER;\n  static {\n    String os = System.getProperty(&quot;os.name&quot;).toLowerCase();\n    String libExtension;\n    if (os.contains(&quot;mac os&quot;)) {\n      libExtension = &quot;dylib&quot;;\n    } else if (os.contains(&quot;windows&quot;)) {\n      libExtension = &quot;dll&quot;;\n    } else {\n      libExtension = &quot;so&quot;;\n    }\n\n    String pwd = System.getProperty(&quot;user.dir&quot;);\n    String lib = pwd + &quot;/golang/bin/lib-cqm-transformer.&quot; + libExtension;\n    GO_CQM_TRANSFORMER = (GoCqmTransformer) Native.loadLibrary(lib, GoCqmTransformer.class);\n  }\n\n  public interface GoCqmTransformer extends Library {\n    long Add(long x, long y);\n  }\n\n  public static void main(String[] args) {\n    System.out.println(&quot;Java says: about to call Go ..&quot;);\n    long total = GO_CQM_TRANSFORMER.Add(30, 12);\n    System.out.println(&quot;Java says: result is &quot; + total);\n  }\n}\n</code></pre>\n<p>After that, execute from the main Java class. Results:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Java HotSpot(TM) 64-Bit Server VM warning: You have loaded library /tmp/jna1412558273325390219.tmp which might have disabled stack guard. The VM will try to fix the stack guard now.\nIt's highly recommended that you fix the library with 'execstack -c &lt;libfile&gt;', or link it with '-z noexecstack'.\nJava says: about to call Go ..\nGo says: adding 30 and 12\nJava says: result is 42\n</code></pre>\n"}],"owner":{"account_id":259413,"reputation":1853,"user_id":542271,"accept_rate":0,"display_name":"dmotta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16813,"favorite_count":0,"down_vote_count":8,"up_vote_count":14,"accepted_answer_id":49991098,"answer_count":1,"score":6,"last_activity_date":1640657046,"creation_date":1524504298,"question_id":49986729,"body_markdown":"It is possible to call C methods through the [JNA][1] interface in Java. How can I reach the same functionality with Go?\r\n\r\n    package main\r\n    \r\n    import &quot;fmt&quot;\r\n    \r\n    import &quot;C&quot;\r\n    \r\n    //export Add\r\n    func Add(x, y int) int {\r\n    \tfmt.Printf(&quot;Go says: adding %v and %v\\n&quot;, x, y)\r\n    \treturn x + y\r\n    }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Native_Access\r\n","title":"How can I call a Go function from Java using the Java native interface?","body":"<p>It is possible to call C methods through the <a href=\"https://en.wikipedia.org/wiki/Java_Native_Access\" rel=\"nofollow noreferrer\">JNA</a> interface in Java. How can I reach the same functionality with Go?</p>\n<pre><code>package main\n\nimport &quot;fmt&quot;\n\nimport &quot;C&quot;\n\n//export Add\nfunc Add(x, y int) int {\n    fmt.Printf(&quot;Go says: adding %v and %v\\n&quot;, x, y)\n    return x + y\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","javafx","fxml"],"comments":[{"owner":{"account_id":13601639,"reputation":13,"user_id":9812149,"display_name":"Phantom"},"score":0,"creation_date":1640647120,"post_id":70500591,"comment_id":124625188,"body_markdown":"@jewelsea \nA simple JavaFX router to switch between application scenes(You can switch between your scenes from anywhere through a simple method, without worrying about annoying Stage settings.)\nHere is a link to it. https://github.com/Marcotrombino/FXRouter\n\nI would like to set the Controllers to FXML from this method, because It already controls a lot of the changing scenes in my application.","body":"@jewelsea  A simple JavaFX router to switch between application scenes(You can switch between your scenes from anywhere through a simple method, without worrying about annoying Stage settings.) Here is a link to it. <a href=\"https://github.com/Marcotrombino/FXRouter\" rel=\"nofollow noreferrer\">github.com/Marcotrombino/FXRouter</a>  I would like to set the Controllers to FXML from this method, because It already controls a lot of the changing scenes in my application."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640656869,"creation_date":1640648263,"answer_id":70501458,"question_id":70500591,"body_markdown":"**Without FXMLRouter**\r\n\r\nA standard way to manually configure a controller for an FXML (without the FXMLRouter library) is demonstrated in the answer to this question: \r\n\r\n * https://stackoverflow.com/questions/33387009/javafx-how-to-set-values-during-in-fxml-controller-initialize\r\n\r\nNote that if you set the controller manually, you should *not* also provide a `fx:controller` attribute in your fxml file.\r\n\r\n*If you are not using the FXMLRouter library, then just follow the example in the answer to the linked question and ignore the rest of this answer.*\r\n\r\n----\r\n\r\n**With FXMLRouter**\r\n\r\nI looked at the code, FXMLRouter can&#39;t do what you want.  \r\n\r\nIt uses a [static load function](https://github.com/Marcotrombino/FXRouter/blob/master/src/com/github/fxrouter/FXRouter.java#L220).  If you want to set a controller you created, then you *must* use a loader instance as demonstrated in the prior referenced answer.  \r\n\r\nThe whole router thing is just one class.  \r\n\r\nIf you want to use it: \r\n\r\n 1. Copy the source code into your project.\r\n\r\n 2. Modify the [loadNewRoute](https://github.com/Marcotrombino/FXRouter/blob/master/src/com/github/fxrouter/FXRouter.java#L209) method (and the methods calling it) to pass in a controller you created. \r\n\r\n    * If you want to retain the current public interfaces, you could do that and also add new overloaded interfaces which also accept your locally constructed controller class.\r\n\r\n 3. If manually setting a controller, change the implementation to create a new FXMLLoader and set the controller on the new loader instance rather than using the static load method.  \r\n\r\nThe required modifications to the loading implementation are demonstrated in the previously referenced answer.\r\n\r\n*Or, you can modify the FXMLLoader code to use a custom FXML controller factory method as discussed elsewhere in this answer.*\r\n\r\n**Example FXMLRouter Implementation**\r\n\r\nThis is not my code, I have modified it though as per previous modification suggestions in this answer, original code and the license info are at:\r\n\r\n * https://github.com/Marcotrombino/FXRouter\r\n\r\nI have not tested these modifications at all, and provide no guarantee that they would work.  The code is just provided as an example.\r\n\r\n    import java.io.IOException;\r\n    import java.util.AbstractMap;\r\n    import java.util.HashMap;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.Parent;\r\n    import javafx.util.Duration;\r\n    import javafx.animation.FadeTransition;\r\n\r\n    /**\r\n     * FXRouter allows to manage scenes switching on JavaFX Application with an easy API\r\n     * Inspired by Angular JS $routeProvider\r\n     * @author Marco Trombino\r\n     * @version 1.0.0\r\n     */\r\n    public final class FXRouter {\r\n        private static final String WINDOW_TITLE = &quot;&quot;;\r\n        private static final Double WINDOW_WIDTH = 800.0;\r\n        private static final Double WINDOW_HEIGHT = 600.0;\r\n        private static final Double FADE_ANIMATION_DURATION = 800.0;\r\n    \r\n        // FXRouter Singleton\r\n        private static FXRouter router;\r\n        // FXRouter Main Class reference to get main package\r\n        private static Object mainRef;\r\n        // FXRouter Application Stage reference to set scenes\r\n        private static Stage window;\r\n    \r\n        // Application Stage title\r\n        private static String windowTitle;\r\n        // Application Stage size\r\n        private static Double windowWidth;\r\n        private static Double windowHeight;\r\n    \r\n        // routes switching animation\r\n        private static String animationType;\r\n        private static Double animationDuration;\r\n    \r\n        // FXRouter routes map\r\n        private static AbstractMap&lt;String, RouteScene&gt; routes = new HashMap&lt;&gt;();\r\n        // FXRouter current route\r\n        private static RouteScene currentRoute;\r\n    \r\n        /**\r\n         * FXRouter Inner Class used into routes map\r\n         */\r\n        private static class RouteScene {\r\n            // route .fxml Scene path\r\n            private String scenePath;\r\n            // Scene (Stage) title\r\n            private String windowTitle;\r\n            private double sceneWidth;\r\n            private double sceneHeight;\r\n            // route data passed from goTo()\r\n            private Object data;\r\n    \r\n            private RouteScene(String scenePath) {\r\n                this(scenePath, getWindowTitle(), getWindowWidth(), getWindowHeight());\r\n            }\r\n    \r\n            private RouteScene(String scenePath, String windowTitle) {\r\n                this(scenePath, windowTitle, getWindowWidth(), getWindowHeight());\r\n            }\r\n    \r\n            private RouteScene(String scenePath, double sceneWidth, double sceneHeight) {\r\n                this(scenePath, getWindowTitle(), sceneWidth, sceneHeight);\r\n            }\r\n    \r\n            /** Route scene constructor\r\n             * @param scenePath: .FXML scene file\r\n             * @param windowTitle: Scene (Stage) title\r\n             * @param sceneWidth: Scene Width\r\n             * @param sceneHeight: Scene Height\r\n             */\r\n            private RouteScene(String scenePath, String windowTitle, double sceneWidth, double sceneHeight) {\r\n                this.scenePath = scenePath;\r\n                this.windowTitle = windowTitle;\r\n                this.sceneWidth = sceneWidth;\r\n                this.sceneHeight = sceneHeight;\r\n            }\r\n    \r\n            private static String getWindowTitle() {\r\n                return FXRouter.windowTitle != null ? FXRouter.windowTitle : WINDOW_TITLE;\r\n            }\r\n    \r\n            private static double getWindowWidth() {\r\n                return FXRouter.windowWidth != null ? FXRouter.windowWidth : WINDOW_WIDTH;\r\n            }\r\n    \r\n            private static double getWindowHeight() {\r\n                return FXRouter.windowHeight != null ? FXRouter.windowHeight : WINDOW_HEIGHT;\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * FXRouter constructor kept private to apply Singleton pattern\r\n         */\r\n        private FXRouter() {}\r\n    \r\n        public static void bind(Object ref, Stage win) {\r\n            checkInstances(ref, win);\r\n        }\r\n    \r\n        public static void bind(Object ref, Stage win, String winTitle) {\r\n            checkInstances(ref, win);\r\n            windowTitle = winTitle;\r\n        }\r\n    \r\n        public static void bind(Object ref, Stage win, double winWidth, double winHeight) {\r\n            checkInstances(ref, win);\r\n            windowWidth = winWidth;\r\n            windowHeight = winHeight;\r\n        }\r\n    \r\n        /** FXRouter binder with Application Stage and main package\r\n         * @param ref: Main Class reference\r\n         * @param win: Application Stage\r\n         * @param winTitle: Application Stage title\r\n         * @param winWidth: Application Stage width\r\n         * @param winHeight: Application Stage height\r\n         */\r\n        public static void bind(Object ref, Stage win, String winTitle, double winWidth, double winHeight) {\r\n            checkInstances(ref, win);\r\n            windowTitle = winTitle;\r\n            windowWidth = winWidth;\r\n            windowHeight = winHeight;\r\n        }\r\n    \r\n        /** set FXRouter references only if they are not set yet\r\n         * @param ref: Main Class reference\r\n         * @param win: Application Stage\r\n         */\r\n        private static void checkInstances(Object ref, Stage win) {\r\n            if(mainRef == null)\r\n                mainRef = ref;\r\n            if(router == null)\r\n                router = new FXRouter();\r\n            if(window == null)\r\n                window = win;\r\n        }\r\n    \r\n        public static void when(String routeLabel, String scenePath) {\r\n            RouteScene routeScene = new RouteScene(scenePath);\r\n            routes.put(routeLabel, routeScene);\r\n        }\r\n    \r\n        public static void when(String routeLabel, String scenePath, String winTitle) {\r\n            RouteScene routeScene = new RouteScene(scenePath, winTitle);\r\n            routes.put(routeLabel, routeScene);\r\n        }\r\n    \r\n        public static void when(String routeLabel, String scenePath, double sceneWidth, double sceneHeight) {\r\n            RouteScene routeScene = new RouteScene(scenePath, sceneWidth, sceneHeight);\r\n            routes.put(routeLabel, routeScene);\r\n        }\r\n    \r\n        /** Define a FXRouter route\r\n         * @param routeLabel: Route label identifier\r\n         * @param scenePath: .FXML scene file\r\n         * @param winTitle: Scene (Stage) title\r\n         * @param sceneWidth: Scene Width\r\n         * @param sceneHeight: Scene Height\r\n         */\r\n        public static void when(String routeLabel, String scenePath, String winTitle, double sceneWidth, double sceneHeight) {\r\n            RouteScene routeScene = new RouteScene(scenePath, winTitle, sceneWidth, sceneHeight);\r\n            routes.put(routeLabel, routeScene);\r\n        }\r\n    \r\n        public static void goTo(String routeLabel) throws IOException {\r\n            goTo(routeLabel, null, null);\r\n        }\r\n    \r\n        public static void goTo(String routeLabel, Object data) throws IOException {\r\n            goTo(routeLabel, data, null);\r\n        }\r\n    \r\n        /** Switch between FXRouter route and show corresponding scenes\r\n         * @param routeLabel: Route label identifier\r\n         * @param data: Data passed to route\r\n         * @oaram controller: Controller instance to use.\r\n         * @throws Exception: throw FXMLLoader exception if file is not loaded correctly\r\n         */\r\n        public static void goTo(String routeLabel, Object data, Object controller) throws IOException {\r\n            // get corresponding route\r\n            RouteScene route = routes.get(routeLabel);\r\n            // set route data\r\n            route.data = data;\r\n            loadNewRoute(route, controller);\r\n        }\r\n    \r\n        /** Helper method of goTo() which load and show new scene\r\n         * @throws Exception: throw FXMLLoader exception if file is not loaded correctly\r\n         */\r\n        private static void loadNewRoute(RouteScene route, Object controller) throws IOException {\r\n            // get Main Class package name to get correct files path\r\n            String pathRef = mainRef.getClass().getPackage().getName();\r\n    \r\n            // set FXRouter current route reference\r\n            currentRoute = route;\r\n    \r\n            // create correct file path.  &quot;/&quot; doesn&#39;t affect any OS\r\n            String scenePath = &quot;/&quot; + pathRef + &quot;/&quot; + route.scenePath;\r\n    \r\n            // load .fxml resource\r\n            FXMLLoader loader = new FXMLLoader();\r\n            loader.setController(controller);\r\n            Parent resource = loader.load(new Object() { }.getClass().getResource(scenePath));\r\n    \r\n            // set window title from route settings or default setting\r\n            window.setTitle(route.windowTitle);\r\n            // set new route scene\r\n            window.setScene(new Scene(resource, route.sceneWidth, route.sceneHeight));\r\n            // show the window\r\n            window.show();\r\n    \r\n            // set scene animation\r\n            routeAnimation(resource);\r\n        }\r\n    \r\n        /* Syntactic sugar for goTo() method when FXRouter get set */\r\n        public static void startFrom(String routeLabel) throws Exception {\r\n            goTo(routeLabel);\r\n        }\r\n    \r\n        public static void startFrom(String routeLabel, Object data) throws Exception {\r\n            goTo(routeLabel, data);\r\n        }\r\n    \r\n        public static void startFrom(String routeLabel, Object data, Object controller) throws Exception {\r\n            goTo(routeLabel, data, controller);\r\n        }\r\n    \r\n        /** set FXRouter switching animation\r\n         * @param anType: Animation type\r\n         */\r\n        public static void setAnimationType(String anType) {\r\n            animationType = anType;\r\n        }\r\n    \r\n        /** set FXRouter switching animation\r\n         * @param anType: Animation type\r\n         * @param anDuration: Animation duration\r\n         */\r\n        public static void setAnimationType(String anType, double anDuration) {\r\n            animationType = anType;\r\n            animationDuration = anDuration;\r\n        }\r\n    \r\n        /** Animate routes switching based on animation type\r\n         */\r\n        private static void routeAnimation(Parent node) {\r\n            String anType = animationType != null ? animationType.toLowerCase() : &quot;&quot;;\r\n            switch(anType) {\r\n                case &quot;fade&quot;:\r\n                    Double fd = animationDuration != null ? animationDuration : FADE_ANIMATION_DURATION;\r\n                    FadeTransition ftCurrent = new FadeTransition(Duration.millis(fd), node);\r\n                    ftCurrent.setFromValue(0.0);\r\n                    ftCurrent.setToValue(1.0);\r\n                    ftCurrent.play();\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    \r\n        /** Get current route data\r\n         */\r\n        public static Object getData() {\r\n            return currentRoute.data;\r\n        }\r\n    \r\n    }\r\n\r\n**Alternate Implementation**\r\n\r\nIgnore this section if you don&#39;t need it.  The FXMLRouter is pretty simple and if the modifications meet your requirements, then great.\r\n\r\nThere are alternate libraries available that accomplish similar things, I won&#39;t recommend any here, but I advise you review this tutorial by eden coding:\r\n\r\n * https://edencoding.com/dependency-injection/\r\n\r\nThere is a box in the Eden tutorial titled &quot;Dependency Injector – Full Code&quot;, after you have read the tutorial, expand the box and study the code to see if you can understand it, if you can understand it, then you understand advanced usage of the FXMLLoader well, if not, that is OK.\r\n\r\nYou don&#39;t need to use the concepts from it if you don&#39;t want to or if what you currently have already suits your purposes.  I just provide the tutorial link as a reference as it helps explain some complex topics quite well.  \r\n\r\nMore sophisticated again is to integrate JavaFX with SpringBoot, but that is more complex, so I won&#39;t recommend that here unless it was something you really wanted to do to take advantage of other features of SpringBoot.\r\n\r\n**FAQ**\r\n\r\n&gt; Do you think it would be possible to take out the need for a Controller to be passed, if you used a switch? \r\n\r\nIf you look at the example code I provided, I already did that. \r\n\r\nA switch is not needed, you can just use overloaded methods (which is the way I did it). \r\n\r\nIf you don&#39;t want to pass the controller, then don&#39;t use the method which passes the controller. \r\n\r\nFor example, if you don&#39;t want to pass a controller, call `goTo(routeLabel)` or `goTo(routeLabel, data)` rather than `goTo(routeLabel, data, controller)`. \r\n\r\nThe new code is backward compatible with the existing implementation, so if you don&#39;t add the extra parameter in the call, no controller will be set (just like how the original code worked).\r\n\r\nBut if you don&#39;t pass a controller, you should specify the controller in the FXML in an `fx:controller` attribute.  \r\n\r\n&gt; How would you then create the object from the controller classes? &gt; I currently have\r\n&gt;\r\n&gt;     public void SwitchToMainScene (ActionEvent event) throws IOException {FXRouter.goTo(&quot;Home&quot;);}\r\n&gt;\r\n&gt; Would I just add in my BuyController name at the end?\r\n\r\nThere are two ways you can do this.\r\n\r\nThe simplest way would be to manually create and pass the controller for each call:\r\n\r\n&gt;     public void switchToMainScene(ActionEvent event) throws IOException {\r\n&gt;         FXRouter.goTo(\r\n&gt;             &quot;Home&quot;, \r\n&gt;             null, \r\n&gt;             new BuyController(\r\n&gt;                 &lt;whatever parameters you want to pass to your new instance&gt;\r\n&gt;             )\r\n&gt;         );\r\n&gt;     }\r\n\r\nNote: I changed the case for the method example, always write code that follows the Java naming conventions.  If you don&#39;t want to pass any parameters to the controller constructor, then don&#39;t, in such a case the behavior will be the same as if the FXMLLoader constructed the controller from the `fx:controller` attribute in the FXML.\r\n\r\nThe alternate method is to use a [controller factory][1].  This is discussed in the eden coding dependency injection tutorial I referred you to previously.  \r\n\r\nTo use a factory with the FXMLRouter, modify the FXMLRouter implementation to:\r\n\r\n 1. Create a factory that maps your FXML files to controller instance (either via a stored hash map or a switch statement or using a dependency injection framework).\r\n 2. Set the factory on the FXMLRouter instance (could be statically set for the entire application if you wanted).\r\n 3. Set the controller factory on the loader instance rather than setting the controller instance on the loader instance.\r\n\r\nI won&#39;t provide code for this here at this time, perhaps you could work out what to do from the Javadoc, the eden tutorial, and the prior example for setting the constructor manually.\r\n\r\n&gt; Whenever I remove the fx:Controller from my .fxml, all of my onAction refuses to work, even though I have them assigned in the controller.\r\n\r\nWhen you remove the fx:controller reference, the Idea IDE can&#39;t work out what controller is associated with an FXML file, and will highlight errors for references to methods it can&#39;t resolve for intelligent editing and navigation. \r\n\r\nHowever, at runtime the controller is set and resolves and so do the method references (as long as you have correctly named them, not forgetting the names are case-sensitive), so it is not an actual error, and you can ignore it, though you do lose some of the benefits of Idea&#39;s intelligent editing. \r\n\r\nAlternately, to allow you to both specify an `fx:controller` value in the fxml (which retains intelligent editing) and manually configure a controller, you can use a controller factory.  There is an example implementation in the answer to:\r\n\r\n * https://stackoverflow.com/questions/46104049/how-to-tell-intellij-get-fxml-controller-from-fxmlloader-for-syntax-hilighting\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.fxml/javafx/fxml/FXMLLoader.html#setControllerFactory(javafx.util.Callback)","title":"How to manually instantiated FXML controller with FXrouter, or another way?","body":"<p><strong>Without FXMLRouter</strong></p>\n<p>A standard way to manually configure a controller for an FXML (without the FXMLRouter library) is demonstrated in the answer to this question:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/33387009/javafx-how-to-set-values-during-in-fxml-controller-initialize\">JavaFX - How to set values during in fxml controller initialize</a></li>\n</ul>\n<p>Note that if you set the controller manually, you should <em>not</em> also provide a <code>fx:controller</code> attribute in your fxml file.</p>\n<p><em>If you are not using the FXMLRouter library, then just follow the example in the answer to the linked question and ignore the rest of this answer.</em></p>\n<hr />\n<p><strong>With FXMLRouter</strong></p>\n<p>I looked at the code, FXMLRouter can't do what you want.</p>\n<p>It uses a <a href=\"https://github.com/Marcotrombino/FXRouter/blob/master/src/com/github/fxrouter/FXRouter.java#L220\" rel=\"nofollow noreferrer\">static load function</a>.  If you want to set a controller you created, then you <em>must</em> use a loader instance as demonstrated in the prior referenced answer.</p>\n<p>The whole router thing is just one class.</p>\n<p>If you want to use it:</p>\n<ol>\n<li><p>Copy the source code into your project.</p>\n</li>\n<li><p>Modify the <a href=\"https://github.com/Marcotrombino/FXRouter/blob/master/src/com/github/fxrouter/FXRouter.java#L209\" rel=\"nofollow noreferrer\">loadNewRoute</a> method (and the methods calling it) to pass in a controller you created.</p>\n<ul>\n<li>If you want to retain the current public interfaces, you could do that and also add new overloaded interfaces which also accept your locally constructed controller class.</li>\n</ul>\n</li>\n<li><p>If manually setting a controller, change the implementation to create a new FXMLLoader and set the controller on the new loader instance rather than using the static load method.</p>\n</li>\n</ol>\n<p>The required modifications to the loading implementation are demonstrated in the previously referenced answer.</p>\n<p><em>Or, you can modify the FXMLLoader code to use a custom FXML controller factory method as discussed elsewhere in this answer.</em></p>\n<p><strong>Example FXMLRouter Implementation</strong></p>\n<p>This is not my code, I have modified it though as per previous modification suggestions in this answer, original code and the license info are at:</p>\n<ul>\n<li><a href=\"https://github.com/Marcotrombino/FXRouter\" rel=\"nofollow noreferrer\">https://github.com/Marcotrombino/FXRouter</a></li>\n</ul>\n<p>I have not tested these modifications at all, and provide no guarantee that they would work.  The code is just provided as an example.</p>\n<pre><code>import java.io.IOException;\nimport java.util.AbstractMap;\nimport java.util.HashMap;\nimport javafx.fxml.FXMLLoader;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.Parent;\nimport javafx.util.Duration;\nimport javafx.animation.FadeTransition;\n\n/**\n * FXRouter allows to manage scenes switching on JavaFX Application with an easy API\n * Inspired by Angular JS $routeProvider\n * @author Marco Trombino\n * @version 1.0.0\n */\npublic final class FXRouter {\n    private static final String WINDOW_TITLE = &quot;&quot;;\n    private static final Double WINDOW_WIDTH = 800.0;\n    private static final Double WINDOW_HEIGHT = 600.0;\n    private static final Double FADE_ANIMATION_DURATION = 800.0;\n\n    // FXRouter Singleton\n    private static FXRouter router;\n    // FXRouter Main Class reference to get main package\n    private static Object mainRef;\n    // FXRouter Application Stage reference to set scenes\n    private static Stage window;\n\n    // Application Stage title\n    private static String windowTitle;\n    // Application Stage size\n    private static Double windowWidth;\n    private static Double windowHeight;\n\n    // routes switching animation\n    private static String animationType;\n    private static Double animationDuration;\n\n    // FXRouter routes map\n    private static AbstractMap&lt;String, RouteScene&gt; routes = new HashMap&lt;&gt;();\n    // FXRouter current route\n    private static RouteScene currentRoute;\n\n    /**\n     * FXRouter Inner Class used into routes map\n     */\n    private static class RouteScene {\n        // route .fxml Scene path\n        private String scenePath;\n        // Scene (Stage) title\n        private String windowTitle;\n        private double sceneWidth;\n        private double sceneHeight;\n        // route data passed from goTo()\n        private Object data;\n\n        private RouteScene(String scenePath) {\n            this(scenePath, getWindowTitle(), getWindowWidth(), getWindowHeight());\n        }\n\n        private RouteScene(String scenePath, String windowTitle) {\n            this(scenePath, windowTitle, getWindowWidth(), getWindowHeight());\n        }\n\n        private RouteScene(String scenePath, double sceneWidth, double sceneHeight) {\n            this(scenePath, getWindowTitle(), sceneWidth, sceneHeight);\n        }\n\n        /** Route scene constructor\n         * @param scenePath: .FXML scene file\n         * @param windowTitle: Scene (Stage) title\n         * @param sceneWidth: Scene Width\n         * @param sceneHeight: Scene Height\n         */\n        private RouteScene(String scenePath, String windowTitle, double sceneWidth, double sceneHeight) {\n            this.scenePath = scenePath;\n            this.windowTitle = windowTitle;\n            this.sceneWidth = sceneWidth;\n            this.sceneHeight = sceneHeight;\n        }\n\n        private static String getWindowTitle() {\n            return FXRouter.windowTitle != null ? FXRouter.windowTitle : WINDOW_TITLE;\n        }\n\n        private static double getWindowWidth() {\n            return FXRouter.windowWidth != null ? FXRouter.windowWidth : WINDOW_WIDTH;\n        }\n\n        private static double getWindowHeight() {\n            return FXRouter.windowHeight != null ? FXRouter.windowHeight : WINDOW_HEIGHT;\n        }\n    }\n\n    /**\n     * FXRouter constructor kept private to apply Singleton pattern\n     */\n    private FXRouter() {}\n\n    public static void bind(Object ref, Stage win) {\n        checkInstances(ref, win);\n    }\n\n    public static void bind(Object ref, Stage win, String winTitle) {\n        checkInstances(ref, win);\n        windowTitle = winTitle;\n    }\n\n    public static void bind(Object ref, Stage win, double winWidth, double winHeight) {\n        checkInstances(ref, win);\n        windowWidth = winWidth;\n        windowHeight = winHeight;\n    }\n\n    /** FXRouter binder with Application Stage and main package\n     * @param ref: Main Class reference\n     * @param win: Application Stage\n     * @param winTitle: Application Stage title\n     * @param winWidth: Application Stage width\n     * @param winHeight: Application Stage height\n     */\n    public static void bind(Object ref, Stage win, String winTitle, double winWidth, double winHeight) {\n        checkInstances(ref, win);\n        windowTitle = winTitle;\n        windowWidth = winWidth;\n        windowHeight = winHeight;\n    }\n\n    /** set FXRouter references only if they are not set yet\n     * @param ref: Main Class reference\n     * @param win: Application Stage\n     */\n    private static void checkInstances(Object ref, Stage win) {\n        if(mainRef == null)\n            mainRef = ref;\n        if(router == null)\n            router = new FXRouter();\n        if(window == null)\n            window = win;\n    }\n\n    public static void when(String routeLabel, String scenePath) {\n        RouteScene routeScene = new RouteScene(scenePath);\n        routes.put(routeLabel, routeScene);\n    }\n\n    public static void when(String routeLabel, String scenePath, String winTitle) {\n        RouteScene routeScene = new RouteScene(scenePath, winTitle);\n        routes.put(routeLabel, routeScene);\n    }\n\n    public static void when(String routeLabel, String scenePath, double sceneWidth, double sceneHeight) {\n        RouteScene routeScene = new RouteScene(scenePath, sceneWidth, sceneHeight);\n        routes.put(routeLabel, routeScene);\n    }\n\n    /** Define a FXRouter route\n     * @param routeLabel: Route label identifier\n     * @param scenePath: .FXML scene file\n     * @param winTitle: Scene (Stage) title\n     * @param sceneWidth: Scene Width\n     * @param sceneHeight: Scene Height\n     */\n    public static void when(String routeLabel, String scenePath, String winTitle, double sceneWidth, double sceneHeight) {\n        RouteScene routeScene = new RouteScene(scenePath, winTitle, sceneWidth, sceneHeight);\n        routes.put(routeLabel, routeScene);\n    }\n\n    public static void goTo(String routeLabel) throws IOException {\n        goTo(routeLabel, null, null);\n    }\n\n    public static void goTo(String routeLabel, Object data) throws IOException {\n        goTo(routeLabel, data, null);\n    }\n\n    /** Switch between FXRouter route and show corresponding scenes\n     * @param routeLabel: Route label identifier\n     * @param data: Data passed to route\n     * @oaram controller: Controller instance to use.\n     * @throws Exception: throw FXMLLoader exception if file is not loaded correctly\n     */\n    public static void goTo(String routeLabel, Object data, Object controller) throws IOException {\n        // get corresponding route\n        RouteScene route = routes.get(routeLabel);\n        // set route data\n        route.data = data;\n        loadNewRoute(route, controller);\n    }\n\n    /** Helper method of goTo() which load and show new scene\n     * @throws Exception: throw FXMLLoader exception if file is not loaded correctly\n     */\n    private static void loadNewRoute(RouteScene route, Object controller) throws IOException {\n        // get Main Class package name to get correct files path\n        String pathRef = mainRef.getClass().getPackage().getName();\n\n        // set FXRouter current route reference\n        currentRoute = route;\n\n        // create correct file path.  &quot;/&quot; doesn't affect any OS\n        String scenePath = &quot;/&quot; + pathRef + &quot;/&quot; + route.scenePath;\n\n        // load .fxml resource\n        FXMLLoader loader = new FXMLLoader();\n        loader.setController(controller);\n        Parent resource = loader.load(new Object() { }.getClass().getResource(scenePath));\n\n        // set window title from route settings or default setting\n        window.setTitle(route.windowTitle);\n        // set new route scene\n        window.setScene(new Scene(resource, route.sceneWidth, route.sceneHeight));\n        // show the window\n        window.show();\n\n        // set scene animation\n        routeAnimation(resource);\n    }\n\n    /* Syntactic sugar for goTo() method when FXRouter get set */\n    public static void startFrom(String routeLabel) throws Exception {\n        goTo(routeLabel);\n    }\n\n    public static void startFrom(String routeLabel, Object data) throws Exception {\n        goTo(routeLabel, data);\n    }\n\n    public static void startFrom(String routeLabel, Object data, Object controller) throws Exception {\n        goTo(routeLabel, data, controller);\n    }\n\n    /** set FXRouter switching animation\n     * @param anType: Animation type\n     */\n    public static void setAnimationType(String anType) {\n        animationType = anType;\n    }\n\n    /** set FXRouter switching animation\n     * @param anType: Animation type\n     * @param anDuration: Animation duration\n     */\n    public static void setAnimationType(String anType, double anDuration) {\n        animationType = anType;\n        animationDuration = anDuration;\n    }\n\n    /** Animate routes switching based on animation type\n     */\n    private static void routeAnimation(Parent node) {\n        String anType = animationType != null ? animationType.toLowerCase() : &quot;&quot;;\n        switch(anType) {\n            case &quot;fade&quot;:\n                Double fd = animationDuration != null ? animationDuration : FADE_ANIMATION_DURATION;\n                FadeTransition ftCurrent = new FadeTransition(Duration.millis(fd), node);\n                ftCurrent.setFromValue(0.0);\n                ftCurrent.setToValue(1.0);\n                ftCurrent.play();\n                break;\n            default:\n                break;\n        }\n    }\n\n    /** Get current route data\n     */\n    public static Object getData() {\n        return currentRoute.data;\n    }\n\n}\n</code></pre>\n<p><strong>Alternate Implementation</strong></p>\n<p>Ignore this section if you don't need it.  The FXMLRouter is pretty simple and if the modifications meet your requirements, then great.</p>\n<p>There are alternate libraries available that accomplish similar things, I won't recommend any here, but I advise you review this tutorial by eden coding:</p>\n<ul>\n<li><a href=\"https://edencoding.com/dependency-injection/\" rel=\"nofollow noreferrer\">https://edencoding.com/dependency-injection/</a></li>\n</ul>\n<p>There is a box in the Eden tutorial titled &quot;Dependency Injector – Full Code&quot;, after you have read the tutorial, expand the box and study the code to see if you can understand it, if you can understand it, then you understand advanced usage of the FXMLLoader well, if not, that is OK.</p>\n<p>You don't need to use the concepts from it if you don't want to or if what you currently have already suits your purposes.  I just provide the tutorial link as a reference as it helps explain some complex topics quite well.</p>\n<p>More sophisticated again is to integrate JavaFX with SpringBoot, but that is more complex, so I won't recommend that here unless it was something you really wanted to do to take advantage of other features of SpringBoot.</p>\n<p><strong>FAQ</strong></p>\n<blockquote>\n<p>Do you think it would be possible to take out the need for a Controller to be passed, if you used a switch?</p>\n</blockquote>\n<p>If you look at the example code I provided, I already did that.</p>\n<p>A switch is not needed, you can just use overloaded methods (which is the way I did it).</p>\n<p>If you don't want to pass the controller, then don't use the method which passes the controller.</p>\n<p>For example, if you don't want to pass a controller, call <code>goTo(routeLabel)</code> or <code>goTo(routeLabel, data)</code> rather than <code>goTo(routeLabel, data, controller)</code>.</p>\n<p>The new code is backward compatible with the existing implementation, so if you don't add the extra parameter in the call, no controller will be set (just like how the original code worked).</p>\n<p>But if you don't pass a controller, you should specify the controller in the FXML in an <code>fx:controller</code> attribute.</p>\n<blockquote>\n<p>How would you then create the object from the controller classes? &gt; I currently have</p>\n<pre><code>public void SwitchToMainScene (ActionEvent event) throws IOException {FXRouter.goTo(&quot;Home&quot;);}\n</code></pre>\n<p>Would I just add in my BuyController name at the end?</p>\n</blockquote>\n<p>There are two ways you can do this.</p>\n<p>The simplest way would be to manually create and pass the controller for each call:</p>\n<blockquote>\n<pre><code>public void switchToMainScene(ActionEvent event) throws IOException {\n    FXRouter.goTo(\n        &quot;Home&quot;, \n        null, \n        new BuyController(\n            &lt;whatever parameters you want to pass to your new instance&gt;\n        )\n    );\n}\n</code></pre>\n</blockquote>\n<p>Note: I changed the case for the method example, always write code that follows the Java naming conventions.  If you don't want to pass any parameters to the controller constructor, then don't, in such a case the behavior will be the same as if the FXMLLoader constructed the controller from the <code>fx:controller</code> attribute in the FXML.</p>\n<p>The alternate method is to use a <a href=\"https://openjfx.io/javadoc/17/javafx.fxml/javafx/fxml/FXMLLoader.html#setControllerFactory(javafx.util.Callback)\" rel=\"nofollow noreferrer\">controller factory</a>.  This is discussed in the eden coding dependency injection tutorial I referred you to previously.</p>\n<p>To use a factory with the FXMLRouter, modify the FXMLRouter implementation to:</p>\n<ol>\n<li>Create a factory that maps your FXML files to controller instance (either via a stored hash map or a switch statement or using a dependency injection framework).</li>\n<li>Set the factory on the FXMLRouter instance (could be statically set for the entire application if you wanted).</li>\n<li>Set the controller factory on the loader instance rather than setting the controller instance on the loader instance.</li>\n</ol>\n<p>I won't provide code for this here at this time, perhaps you could work out what to do from the Javadoc, the eden tutorial, and the prior example for setting the constructor manually.</p>\n<blockquote>\n<p>Whenever I remove the fx:Controller from my .fxml, all of my onAction refuses to work, even though I have them assigned in the controller.</p>\n</blockquote>\n<p>When you remove the fx:controller reference, the Idea IDE can't work out what controller is associated with an FXML file, and will highlight errors for references to methods it can't resolve for intelligent editing and navigation.</p>\n<p>However, at runtime the controller is set and resolves and so do the method references (as long as you have correctly named them, not forgetting the names are case-sensitive), so it is not an actual error, and you can ignore it, though you do lose some of the benefits of Idea's intelligent editing.</p>\n<p>Alternately, to allow you to both specify an <code>fx:controller</code> value in the fxml (which retains intelligent editing) and manually configure a controller, you can use a controller factory.  There is an example implementation in the answer to:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/46104049/how-to-tell-intellij-get-fxml-controller-from-fxmlloader-for-syntax-hilighting\">How to tell IntelliJ get FXML controller from FXMLLoader for syntax hilighting?</a></li>\n</ul>\n"}],"owner":{"account_id":13601639,"reputation":13,"user_id":9812149,"display_name":"Phantom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70501458,"answer_count":1,"score":0,"last_activity_date":1640656869,"creation_date":1640640471,"question_id":70500591,"body_markdown":"Good afternoon all. I am trying to initiate a controller to an FXML page, but not sure how. I am currently using the FXRouter GitHub API. \r\n\r\nI would like to bind controller pages to FXML pages OUTSIDE of the FXML file. I have a &quot;LoadNewRoute&quot; Method below that currently does it, but I would like to improve this, so it will assign the Controllers to FXML pages outside. What is the best way to do this? \r\n \r\n\r\n\r\nMethod to Load the page\r\n```\r\nprivate static void loadNewRoute(RouteScene route) throws IOException {\r\n        // get Main Class package name to get correct files path\r\n\r\n        String pathRef = mainRef.getClass().getPackage().getName();\r\n\r\n\r\n        // set FXRouter current route reference\r\n        currentRoute = route;\r\n\r\n        // create correct file path.  &quot;/&quot; doesn&#39;t affect any OS\r\n        String scenePath = &quot;/&quot; + pathRef + &quot;/&quot; + route.scenePath;\r\n\r\n\r\n        // load .fxml resource\r\n        FXMLLoader loader = new FXMLLoader(new Object() { }.getClass().getResource(scenePath));\r\n        Parent resource = loader.load();\r\n\r\n\r\n\r\n\r\n      //  resource.setController(BuyController);\r\n\r\n        // set window title from route settings or default setting\r\n        window.setTitle(route.windowTitle);\r\n        // set new route scene\r\n        window.setScene(new Scene(resource, route.sceneWidth, route.sceneHeight));\r\n        // show the window\r\n        window.show();\r\n\r\n        // set scene animation\r\n        routeAnimation(resource);\r\n    }\r\n```\r\n\r\nFXML page-\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.CheckBox?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.Menu?&gt;\r\n&lt;?import javafx.scene.control.MenuBar?&gt;\r\n&lt;?import javafx.scene.control.MenuItem?&gt;\r\n&lt;?import javafx.scene.control.RadioButton?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.Pane?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.gradle.Controllers.BuyController&quot; &gt;\r\n\r\n    &lt;MenuBar layoutX=&quot;676.0&quot; layoutY=&quot;2.0&quot;&gt;\r\n        &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Pages&quot;&gt;\r\n            &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToMainScene&quot; text=&quot;Home&quot; /&gt;\r\n            &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToBuyScene&quot; text=&quot;Buy&quot; /&gt;\r\n            &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToSellScene&quot; text=&quot;Sell&quot; /&gt;\r\n        &lt;/Menu&gt;\r\n        &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Options&quot;&gt;\r\n            &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#CloseApp&quot; text=&quot;Exit&quot; /&gt;\r\n            &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToProfileScene&quot; text=&quot;Profile&quot; /&gt;\r\n        &lt;/Menu&gt;\r\n    &lt;/MenuBar&gt;\r\n    &lt;Pane layoutX=&quot;14.0&quot; layoutY=&quot;67.0&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n        &lt;CheckBox layoutX=&quot;7.0&quot; layoutY=&quot;116.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;82.0&quot; text=&quot;DogeCoin&quot; /&gt;\r\n        &lt;CheckBox layoutX=&quot;7.0&quot; layoutY=&quot;153.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;72.0&quot; text=&quot;Bitcoin&quot; /&gt;\r\n        &lt;CheckBox layoutX=&quot;7.0&quot; layoutY=&quot;83.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Etherium&quot; /&gt;\r\n        &lt;Label layoutX=&quot;27.0&quot; layoutY=&quot;26.0&quot; text=&quot;Select your CryptoCurrency&quot; /&gt;\r\n    &lt;/Pane&gt;\r\n    &lt;Pane layoutX=&quot;528.0&quot; layoutY=&quot;-1.0&quot; prefHeight=&quot;37.0&quot; prefWidth=&quot;272.0&quot;&gt;\r\n        &lt;Button layoutX=&quot;222.0&quot; layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#CloseApp&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;50.0&quot; text=&quot;Exit&quot; /&gt;\r\n        &lt;Button layoutX=&quot;166.0&quot; layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToProfileScene&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Profile&quot; /&gt;\r\n        &lt;Button layoutX=&quot;118.0&quot; layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToSellScene&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;48.0&quot; text=&quot;Sell&quot; /&gt;\r\n        &lt;Button layoutX=&quot;70.0&quot; layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToBuyScene&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;48.0&quot; text=&quot;Buy&quot; /&gt;\r\n        &lt;Button layoutX=&quot;14.0&quot; layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToMainScene&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Home&quot; /&gt;\r\n    &lt;/Pane&gt;\r\n    &lt;Pane layoutX=&quot;300.0&quot; layoutY=&quot;88.0&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n        &lt;RadioButton layoutX=&quot;13.0&quot; layoutY=&quot;38.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Amount in coin&quot; /&gt;\r\n        &lt;RadioButton layoutX=&quot;13.0&quot; layoutY=&quot;67.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Amount in cash&quot; /&gt;\r\n        &lt;TextField layoutX=&quot;13.0&quot; layoutY=&quot;139.0&quot; /&gt;\r\n        &lt;Label layoutX=&quot;-1.0&quot; prefHeight=&quot;34.0&quot; prefWidth=&quot;200.0&quot; text=&quot;Choose type of buying, and enter amount&quot; wrapText=&quot;true&quot; /&gt;\r\n    &lt;/Pane&gt;\r\n    &lt;Button layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#BackButton&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;64.0&quot; text=&quot;Back&quot; /&gt;\r\n    &lt;Button layoutX=&quot;237.0&quot; layoutY=&quot;447.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#BuyButton&quot; prefHeight=&quot;82.0&quot; prefWidth=&quot;278.0&quot; text=&quot;Buy&quot;&gt;\r\n        &lt;font&gt;\r\n          &lt;Font size=&quot;31.0&quot; /&gt;\r\n        &lt;/font&gt;\r\n     &lt;/Button&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nController- \r\n \r\n```\r\n   package com.gradle.Controllers;\r\n   import com.gradle.Controller;\r\n  import com.gradle.FXRouter;\r\n  import javafx.event.ActionEvent;\r\n  import javafx.fxml.FXMLLoader;\r\n\r\n  import java.io.IOException;\r\n\r\n  public class BuyController extends com.gradle.Controller {\r\n\r\n  public void example () {\r\n\r\n  }\r\n\r\n    \r\n```\r\n-----------------------------------------------\r\n\r\n\r\nHome Controller\r\n```\r\npublic class HomeController extends com.gradle.Controller {\r\n\r\n\r\n    public void SwitchToMainScene (ActionEvent event) throws IOException {\r\n        FXRouter.goTo(&quot;Home&quot;, new HomeController());}\r\n\r\n    public void SwitchToBuyScene (ActionEvent event) throws IOException {\r\n        FXRouter.goTo(&quot;Buy&quot;, new BuyController());}\r\n\r\n    public void SwitchToSellScene (ActionEvent event) throws IOException {\r\n        FXRouter.goTo(&quot;Sell&quot;, new SellController());}\r\n\r\n    public void SwitchToProfileScene (ActionEvent event) throws IOException {\r\n        FXRouter.goTo(&quot;Profile&quot;, new ProfileController());}\r\n\r\n    @Override\r\n    public void initilize(URL url, ResourceBundle rb) {\r\n\r\n    }\r\n}\r\n```\r\ncall-\r\n```\r\n FXRouter.goTo(&quot;Home&quot;, new HomeController());\r\n```\r\nFXML-\r\n```\r\n  &lt;Button fx:id=&quot;exit&quot; layoutX=&quot;222.0&quot; layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#CloseApp&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;50.0&quot; text=&quot;Exit&quot; /&gt;\r\n        &lt;Button layoutX=&quot;166.0&quot; layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToProfileScene&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Profile&quot; /&gt;\r\n        &lt;Button layoutX=&quot;118.0&quot; layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToSellScene&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;48.0&quot; text=&quot;Sell&quot; /&gt;\r\n        &lt;Button layoutX=&quot;70.0&quot; layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToBuyScene&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;48.0&quot; text=&quot;Buy&quot; /&gt;\r\n        &lt;Button layoutX=&quot;14.0&quot; layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToMainScene&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Home&quot; /&gt;\r\n    &lt;/Pane&gt;\r\n   &lt;Button layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#BackButton&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;64.0&quot; text=&quot;Back&quot; /&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\n\r\nAll of the onAction are giving me errors that it cannot find the calls\r\n\r\n","title":"How to manually instantiated FXML controller with FXrouter, or another way?","body":"<p>Good afternoon all. I am trying to initiate a controller to an FXML page, but not sure how. I am currently using the FXRouter GitHub API.</p>\n<p>I would like to bind controller pages to FXML pages OUTSIDE of the FXML file. I have a &quot;LoadNewRoute&quot; Method below that currently does it, but I would like to improve this, so it will assign the Controllers to FXML pages outside. What is the best way to do this?</p>\n<p>Method to Load the page</p>\n<pre><code>private static void loadNewRoute(RouteScene route) throws IOException {\n        // get Main Class package name to get correct files path\n\n        String pathRef = mainRef.getClass().getPackage().getName();\n\n\n        // set FXRouter current route reference\n        currentRoute = route;\n\n        // create correct file path.  &quot;/&quot; doesn't affect any OS\n        String scenePath = &quot;/&quot; + pathRef + &quot;/&quot; + route.scenePath;\n\n\n        // load .fxml resource\n        FXMLLoader loader = new FXMLLoader(new Object() { }.getClass().getResource(scenePath));\n        Parent resource = loader.load();\n\n\n\n\n      //  resource.setController(BuyController);\n\n        // set window title from route settings or default setting\n        window.setTitle(route.windowTitle);\n        // set new route scene\n        window.setScene(new Scene(resource, route.sceneWidth, route.sceneHeight));\n        // show the window\n        window.show();\n\n        // set scene animation\n        routeAnimation(resource);\n    }\n</code></pre>\n<p>FXML page-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.CheckBox?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.Menu?&gt;\n&lt;?import javafx.scene.control.MenuBar?&gt;\n&lt;?import javafx.scene.control.MenuItem?&gt;\n&lt;?import javafx.scene.control.RadioButton?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.gradle.Controllers.BuyController&quot; &gt;\n\n    &lt;MenuBar layoutX=&quot;676.0&quot; layoutY=&quot;2.0&quot;&gt;\n        &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Pages&quot;&gt;\n            &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToMainScene&quot; text=&quot;Home&quot; /&gt;\n            &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToBuyScene&quot; text=&quot;Buy&quot; /&gt;\n            &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToSellScene&quot; text=&quot;Sell&quot; /&gt;\n        &lt;/Menu&gt;\n        &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Options&quot;&gt;\n            &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#CloseApp&quot; text=&quot;Exit&quot; /&gt;\n            &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToProfileScene&quot; text=&quot;Profile&quot; /&gt;\n        &lt;/Menu&gt;\n    &lt;/MenuBar&gt;\n    &lt;Pane layoutX=&quot;14.0&quot; layoutY=&quot;67.0&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot;&gt;\n        &lt;CheckBox layoutX=&quot;7.0&quot; layoutY=&quot;116.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;82.0&quot; text=&quot;DogeCoin&quot; /&gt;\n        &lt;CheckBox layoutX=&quot;7.0&quot; layoutY=&quot;153.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;72.0&quot; text=&quot;Bitcoin&quot; /&gt;\n        &lt;CheckBox layoutX=&quot;7.0&quot; layoutY=&quot;83.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Etherium&quot; /&gt;\n        &lt;Label layoutX=&quot;27.0&quot; layoutY=&quot;26.0&quot; text=&quot;Select your CryptoCurrency&quot; /&gt;\n    &lt;/Pane&gt;\n    &lt;Pane layoutX=&quot;528.0&quot; layoutY=&quot;-1.0&quot; prefHeight=&quot;37.0&quot; prefWidth=&quot;272.0&quot;&gt;\n        &lt;Button layoutX=&quot;222.0&quot; layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#CloseApp&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;50.0&quot; text=&quot;Exit&quot; /&gt;\n        &lt;Button layoutX=&quot;166.0&quot; layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToProfileScene&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Profile&quot; /&gt;\n        &lt;Button layoutX=&quot;118.0&quot; layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToSellScene&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;48.0&quot; text=&quot;Sell&quot; /&gt;\n        &lt;Button layoutX=&quot;70.0&quot; layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToBuyScene&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;48.0&quot; text=&quot;Buy&quot; /&gt;\n        &lt;Button layoutX=&quot;14.0&quot; layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToMainScene&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Home&quot; /&gt;\n    &lt;/Pane&gt;\n    &lt;Pane layoutX=&quot;300.0&quot; layoutY=&quot;88.0&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot;&gt;\n        &lt;RadioButton layoutX=&quot;13.0&quot; layoutY=&quot;38.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Amount in coin&quot; /&gt;\n        &lt;RadioButton layoutX=&quot;13.0&quot; layoutY=&quot;67.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Amount in cash&quot; /&gt;\n        &lt;TextField layoutX=&quot;13.0&quot; layoutY=&quot;139.0&quot; /&gt;\n        &lt;Label layoutX=&quot;-1.0&quot; prefHeight=&quot;34.0&quot; prefWidth=&quot;200.0&quot; text=&quot;Choose type of buying, and enter amount&quot; wrapText=&quot;true&quot; /&gt;\n    &lt;/Pane&gt;\n    &lt;Button layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#BackButton&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;64.0&quot; text=&quot;Back&quot; /&gt;\n    &lt;Button layoutX=&quot;237.0&quot; layoutY=&quot;447.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#BuyButton&quot; prefHeight=&quot;82.0&quot; prefWidth=&quot;278.0&quot; text=&quot;Buy&quot;&gt;\n        &lt;font&gt;\n          &lt;Font size=&quot;31.0&quot; /&gt;\n        &lt;/font&gt;\n     &lt;/Button&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Controller-</p>\n<pre><code>   package com.gradle.Controllers;\n   import com.gradle.Controller;\n  import com.gradle.FXRouter;\n  import javafx.event.ActionEvent;\n  import javafx.fxml.FXMLLoader;\n\n  import java.io.IOException;\n\n  public class BuyController extends com.gradle.Controller {\n\n  public void example () {\n\n  }\n\n    \n</code></pre>\n<hr />\n<p>Home Controller</p>\n<pre><code>public class HomeController extends com.gradle.Controller {\n\n\n    public void SwitchToMainScene (ActionEvent event) throws IOException {\n        FXRouter.goTo(&quot;Home&quot;, new HomeController());}\n\n    public void SwitchToBuyScene (ActionEvent event) throws IOException {\n        FXRouter.goTo(&quot;Buy&quot;, new BuyController());}\n\n    public void SwitchToSellScene (ActionEvent event) throws IOException {\n        FXRouter.goTo(&quot;Sell&quot;, new SellController());}\n\n    public void SwitchToProfileScene (ActionEvent event) throws IOException {\n        FXRouter.goTo(&quot;Profile&quot;, new ProfileController());}\n\n    @Override\n    public void initilize(URL url, ResourceBundle rb) {\n\n    }\n}\n</code></pre>\n<p>call-</p>\n<pre><code> FXRouter.goTo(&quot;Home&quot;, new HomeController());\n</code></pre>\n<p>FXML-</p>\n<pre><code>  &lt;Button fx:id=&quot;exit&quot; layoutX=&quot;222.0&quot; layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#CloseApp&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;50.0&quot; text=&quot;Exit&quot; /&gt;\n        &lt;Button layoutX=&quot;166.0&quot; layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToProfileScene&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Profile&quot; /&gt;\n        &lt;Button layoutX=&quot;118.0&quot; layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToSellScene&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;48.0&quot; text=&quot;Sell&quot; /&gt;\n        &lt;Button layoutX=&quot;70.0&quot; layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToBuyScene&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;48.0&quot; text=&quot;Buy&quot; /&gt;\n        &lt;Button layoutX=&quot;14.0&quot; layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#SwitchToMainScene&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Home&quot; /&gt;\n    &lt;/Pane&gt;\n   &lt;Button layoutY=&quot;-1.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#BackButton&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;64.0&quot; text=&quot;Back&quot; /&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>All of the onAction are giving me errors that it cannot find the calls</p>\n"},{"tags":["java","unit-testing","testing","drools"],"answers":[{"tags":[],"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1477027362,"creation_date":1477027362,"answer_id":40168970,"question_id":40166008,"body_markdown":"The code for evaluating rule conditions results from a combination of all rules, possibly combining identical conditions or parts of conditions such as patterns or constraints in a way that reduces the overall effort. Thus, there is no way the *evaluation* of conditions of individual rules can be suppressed at runtime.","title":"Why does Drools validate all other rules when using an Agenda Filter to fire a specifc rule?","body":"<p>The code for evaluating rule conditions results from a combination of all rules, possibly combining identical conditions or parts of conditions such as patterns or constraints in a way that reduces the overall effort. Thus, there is no way the <em>evaluation</em> of conditions of individual rules can be suppressed at runtime.</p>\n"},{"tags":[],"owner":{"account_id":9468090,"reputation":23,"user_id":7039702,"display_name":"secbro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640655744,"creation_date":1640655744,"answer_id":70502004,"question_id":40166008,"body_markdown":"You can put the rules in different packages, then load them through different KieSession.","title":"Why does Drools validate all other rules when using an Agenda Filter to fire a specifc rule?","body":"<p>You can put the rules in different packages, then load them through different KieSession.</p>\n"}],"owner":{"account_id":121721,"reputation":1702,"user_id":315015,"accept_rate":78,"display_name":"Seephor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2188,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":40168970,"answer_count":2,"score":3,"last_activity_date":1640655744,"creation_date":1477005527,"question_id":40166008,"body_markdown":"I have a whole bunch of rules and I am trying to write some unit tests for them. In my tests, I am using this:\r\n\r\n    int rulesFired = kSession.fireAllRules(new RuleNameEqualsAgendaFilter(&quot;rule name 1&quot;));\r\n\r\nThe thing I have noticed is that although the amount of rules fired returned is 1, Drools still tries to validate against any other rule where the conditions are met. I sometimes receive error messages from other rules that are not defined in my rule name equals agenda filter because the conditions match based on what I am inserting in my kSession for the unit test. \r\n\r\nFor example I have:\r\n\r\n    rule &quot;test1&quot;\r\n    \twhen\r\n    \t    $var : Map(this[&quot;key&quot;] == &quot;gold&quot;)\r\n        then\r\n    \t    do something\r\n    \tend\r\n    \r\n    rule &quot;test2&quot;\r\n    \twhen\r\n    \t    $var : Map(this[&quot;key&quot;] == &quot;gold&quot; &amp;&amp; this[&quot;other&quot;] == &quot;silver&quot;)\r\n        then\r\n    \t    do something\r\n    \tend\r\n\r\nand in my test for rule1 I have a map with just &quot;key&quot;. When I run the test with a filter for &quot;test1&quot;, I will receive a null pointer because I do not have a value for &quot;other&quot; in my map, even though the rule I am filtering for does not care about &quot;other&quot;\r\n\r\n\r\nWhy does this happen? I can&#39;t find any documentation on it anywhere. It&#39;s as if Drools has to validate all the rules and syntax in my DRL file before filtering.","title":"Why does Drools validate all other rules when using an Agenda Filter to fire a specifc rule?","body":"<p>I have a whole bunch of rules and I am trying to write some unit tests for them. In my tests, I am using this:</p>\n\n<pre><code>int rulesFired = kSession.fireAllRules(new RuleNameEqualsAgendaFilter(\"rule name 1\"));\n</code></pre>\n\n<p>The thing I have noticed is that although the amount of rules fired returned is 1, Drools still tries to validate against any other rule where the conditions are met. I sometimes receive error messages from other rules that are not defined in my rule name equals agenda filter because the conditions match based on what I am inserting in my kSession for the unit test. </p>\n\n<p>For example I have:</p>\n\n<pre><code>rule \"test1\"\n    when\n        $var : Map(this[\"key\"] == \"gold\")\n    then\n        do something\n    end\n\nrule \"test2\"\n    when\n        $var : Map(this[\"key\"] == \"gold\" &amp;&amp; this[\"other\"] == \"silver\")\n    then\n        do something\n    end\n</code></pre>\n\n<p>and in my test for rule1 I have a map with just \"key\". When I run the test with a filter for \"test1\", I will receive a null pointer because I do not have a value for \"other\" in my map, even though the rule I am filtering for does not care about \"other\"</p>\n\n<p>Why does this happen? I can't find any documentation on it anywhere. It's as if Drools has to validate all the rules and syntax in my DRL file before filtering.</p>\n"},{"tags":["java","logging","log4j","log4j2"],"comments":[{"owner":{"account_id":24269,"reputation":63221,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":0,"creation_date":1421783844,"post_id":28054063,"comment_id":44490007,"body_markdown":"Interesting question.  Perhaps look at the source of log4j and see how they do it.","body":"Interesting question.  Perhaps look at the source of log4j and see how they do it."},{"owner":{"account_id":5315063,"reputation":93,"user_id":4240227,"accept_rate":50,"display_name":"Habeshaw"},"score":1,"creation_date":1422021272,"post_id":28054063,"comment_id":44596504,"body_markdown":"Log4j also used stack trace to identify those information.","body":"Log4j also used stack trace to identify those information."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1421784173,"creation_date":1421784173,"answer_id":28054179,"question_id":28054063,"body_markdown":"You can use\r\n\r\n    StackTraceElement[] stes = Thread.currentThread().getStackTrace();\r\n\r\nhowever I am not sure this is much cheaper.\r\n\r\nWhat I do is make each message unique (for the class) and avoid including the line number. You can search for the unique message in your IDE to find the line number.  The class should be in the name of the logger.\r\n","title":"Log4j2: How can I get Class Name and Line Number without using Throwable?","body":"<p>You can use</p>\n\n<pre><code>StackTraceElement[] stes = Thread.currentThread().getStackTrace();\n</code></pre>\n\n<p>however I am not sure this is much cheaper.</p>\n\n<p>What I do is make each message unique (for the class) and avoid including the line number. You can search for the unique message in your IDE to find the line number.  The class should be in the name of the logger.</p>\n"},{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1422519409,"creation_date":1422519409,"answer_id":28209898,"question_id":28054063,"body_markdown":"Log4j2 internally walks the stacktrace to extract location information. It knows where to stop in the stack trace by specifying the correct FQCN (fully qualified class name) to the `org.apache.logging.log4j.spi.ExtendedLogger#logMessage` method.\r\n\r\nLog4j2 contains a tool that generates code for logger wrappers. The documentation is here (in the Custom Log Levels manual page):\r\nhttp://logging.apache.org/log4j/2.x/manual/customloglevels.html#CustomLoggers\r\n\r\nTry generating a logger wrapper with this tool and base your custom wrapper on the generated code. This generated code will use the correct FQCN and will be able to produce the correct location information.","title":"Log4j2: How can I get Class Name and Line Number without using Throwable?","body":"<p>Log4j2 internally walks the stacktrace to extract location information. It knows where to stop in the stack trace by specifying the correct FQCN (fully qualified class name) to the <code>org.apache.logging.log4j.spi.ExtendedLogger#logMessage</code> method.</p>\n\n<p>Log4j2 contains a tool that generates code for logger wrappers. The documentation is here (in the Custom Log Levels manual page):\n<a href=\"http://logging.apache.org/log4j/2.x/manual/customloglevels.html#CustomLoggers\" rel=\"nofollow\">http://logging.apache.org/log4j/2.x/manual/customloglevels.html#CustomLoggers</a></p>\n\n<p>Try generating a logger wrapper with this tool and base your custom wrapper on the generated code. This generated code will use the correct FQCN and will be able to produce the correct location information.</p>\n"},{"tags":[],"owner":{"account_id":3154242,"reputation":307,"user_id":2666964,"display_name":"kissLife"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640655431,"creation_date":1640424185,"answer_id":70479069,"question_id":28054063,"body_markdown":"as @Remko Popma said, here is a simple implementation:\r\n&lt;br&gt;\r\nFirst create your ExtendedLogger class:\r\n\r\n```\r\nimport org.apache.logging.log4j.Level;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.apache.logging.log4j.spi.AbstractLogger;\r\nimport org.apache.logging.log4j.spi.ExtendedLoggerWrapper;\r\n\r\npublic class ExtLogWithLine extends ExtendedLoggerWrapper {\r\n    private static final long serialVersionUID = 8239280349129059055L;\r\n\r\n    // define your wrapper class here\r\n    private static final String FQCN = WrapperLog.class.getName();\r\n\r\n    private final ExtendedLoggerWrapper logger;\r\n\r\n    private ExtLogWithLine(final Logger logger) {\r\n        super((AbstractLogger) logger, logger.getName(), logger.getMessageFactory());\r\n        this.logger = this;\r\n    }\r\n\r\n    public static ExtLogWithLine create(final String name) {\r\n        final Logger wrapped = LogManager.getLogger(name);\r\n        return new ExtLogWithLine(wrapped);\r\n    }\r\n\r\n    @Override\r\n    public void debug(String info) {\r\n        if (isDebugEnabled()) {\r\n            logger.logIfEnabled(FQCN, Level.DEBUG, null, info, (Throwable) null);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void info(String info) {\r\n        if (isInfoEnabled()) {\r\n            logger.logIfEnabled(FQCN, Level.INFO, null, info, (Throwable) null);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void warn(String info) {\r\n        if (isWarnEnabled()) {\r\n            logger.logIfEnabled(FQCN, Level.WARN, null, info, (Throwable) null);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void error(String info) {\r\n        if (isErrorEnabled()) {\r\n            logger.logIfEnabled(FQCN, Level.ERROR, null, info, (Throwable) null);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n&lt;br&gt;\r\nThen user the exetended logger to print log:\r\n\r\n```\r\npublic class WrapperLog {\r\n\r\n    public void testLog() {\r\n\t   ExtLogWithLine logger = ExtLogWithLine.create(&quot;xxx&quot;);\r\n\t   \r\n\t   // log will print out with correct line number\r\n\t   logger.info(&quot;see the line number&quot;);\r\n\t}\r\n}\r\n```","title":"Log4j2: How can I get Class Name and Line Number without using Throwable?","body":"<p>as @Remko Popma said, here is a simple implementation:\n<br>\nFirst create your ExtendedLogger class:</p>\n<pre><code>import org.apache.logging.log4j.Level;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.spi.AbstractLogger;\nimport org.apache.logging.log4j.spi.ExtendedLoggerWrapper;\n\npublic class ExtLogWithLine extends ExtendedLoggerWrapper {\n    private static final long serialVersionUID = 8239280349129059055L;\n\n    // define your wrapper class here\n    private static final String FQCN = WrapperLog.class.getName();\n\n    private final ExtendedLoggerWrapper logger;\n\n    private ExtLogWithLine(final Logger logger) {\n        super((AbstractLogger) logger, logger.getName(), logger.getMessageFactory());\n        this.logger = this;\n    }\n\n    public static ExtLogWithLine create(final String name) {\n        final Logger wrapped = LogManager.getLogger(name);\n        return new ExtLogWithLine(wrapped);\n    }\n\n    @Override\n    public void debug(String info) {\n        if (isDebugEnabled()) {\n            logger.logIfEnabled(FQCN, Level.DEBUG, null, info, (Throwable) null);\n        }\n    }\n\n    @Override\n    public void info(String info) {\n        if (isInfoEnabled()) {\n            logger.logIfEnabled(FQCN, Level.INFO, null, info, (Throwable) null);\n        }\n    }\n\n    @Override\n    public void warn(String info) {\n        if (isWarnEnabled()) {\n            logger.logIfEnabled(FQCN, Level.WARN, null, info, (Throwable) null);\n        }\n    }\n\n    @Override\n    public void error(String info) {\n        if (isErrorEnabled()) {\n            logger.logIfEnabled(FQCN, Level.ERROR, null, info, (Throwable) null);\n        }\n    }\n}\n</code></pre>\n<br>\nThen user the exetended logger to print log:\n<pre><code>public class WrapperLog {\n\n    public void testLog() {\n       ExtLogWithLine logger = ExtLogWithLine.create(&quot;xxx&quot;);\n       \n       // log will print out with correct line number\n       logger.info(&quot;see the line number&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5315063,"reputation":93,"user_id":4240227,"accept_rate":50,"display_name":"Habeshaw"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5040,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":28054179,"answer_count":3,"score":5,"last_activity_date":1640655431,"creation_date":1421783740,"question_id":28054063,"body_markdown":"I have developed a wrapper class on Log4j2. Using declarative services of OSGi I have published a custom logger service using my own logger interface with the wrapper class being the implementation. The wrapper class is only used to configure the logger programmatically, message formatting &amp; add a few more methods, at last it is calling the logging methods of Log4j2. \r\n\r\nI want to print source class/file name and line number of each logs requested in the log file. The options %C/%F and %L only print information about the location inside my wrapper class where I actually call the *log* method. \r\n\r\nSo as a workout I am passing *new Throwable* as an argument each time so that I can use the layout *%throwable{short.lineNumber}*. But this is an expensive process for embedded applications. \r\n\r\nMy main problem is in getting the line number because for the file name I could at least request a new logger from Log4j2 with the name of each service requesting for logger service and keep it in a map. \r\n\r\nIs there a solution to trace back the caller? I hope there is a similar solution for applications where you don&#39;t want to have the LOG4j2 jars on each consumer of the logger service. Just for info, I don&#39;t want to use any XML files, all configurations are made programmatically. ","title":"Log4j2: How can I get Class Name and Line Number without using Throwable?","body":"<p>I have developed a wrapper class on Log4j2. Using declarative services of OSGi I have published a custom logger service using my own logger interface with the wrapper class being the implementation. The wrapper class is only used to configure the logger programmatically, message formatting &amp; add a few more methods, at last it is calling the logging methods of Log4j2. </p>\n\n<p>I want to print source class/file name and line number of each logs requested in the log file. The options %C/%F and %L only print information about the location inside my wrapper class where I actually call the <em>log</em> method. </p>\n\n<p>So as a workout I am passing <em>new Throwable</em> as an argument each time so that I can use the layout <em>%throwable{short.lineNumber}</em>. But this is an expensive process for embedded applications. </p>\n\n<p>My main problem is in getting the line number because for the file name I could at least request a new logger from Log4j2 with the name of each service requesting for logger service and keep it in a map. </p>\n\n<p>Is there a solution to trace back the caller? I hope there is a similar solution for applications where you don't want to have the LOG4j2 jars on each consumer of the logger service. Just for info, I don't want to use any XML files, all configurations are made programmatically. </p>\n"},{"tags":["java","spring","spring-boot","http","zipoutputstream"],"comments":[{"owner":{"account_id":6596185,"reputation":33,"user_id":5095901,"display_name":"ZeeG"},"score":0,"creation_date":1640613445,"post_id":70496400,"comment_id":124616139,"body_markdown":"tried calling `zipOutputStream.finish()` instead of `outputStream.close()`, didn&#39;t help at all, the archive is good and well and even can be unzipped properly.","body":"tried calling <code>zipOutputStream.finish()</code> instead of <code>outputStream.close()</code>, didn&#39;t help at all, the archive is good and well and even can be unzipped properly."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1640613776,"post_id":70496400,"comment_id":124616227,"body_markdown":"why not removing the zip if an exception is caught?","body":"why not removing the zip if an exception is caught?"},{"owner":{"account_id":6596185,"reputation":33,"user_id":5095901,"display_name":"ZeeG"},"score":0,"creation_date":1640624463,"post_id":70496400,"comment_id":124619444,"body_markdown":"@jhamon not entirely understand what you mean by &quot;removing a zip&quot;. There&#39;s no zip to remove at any point, there&#39;s only a ZipOutputStream that is streaming the data to the client resulting in a zip archive on a client side","body":"@jhamon not entirely understand what you mean by &quot;removing a zip&quot;. There&#39;s no zip to remove at any point, there&#39;s only a ZipOutputStream that is streaming the data to the client resulting in a zip archive on a client side"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640655324,"creation_date":1640617099,"answer_id":70497087,"question_id":70496400,"body_markdown":"There isn&#39;t a (clean) way to do what you want:\r\n\r\nOnce you have started writing the ZIP file to the output stream, it is too late to change the HTTP response code.  The response code is sent at the start of response.\r\n\r\nTherefore, there is no proper way for the HTTP server to tell the HTTP client: &quot;Hey ... ignore that ZIP file I sent you &#39;cos it is corrupt&quot;.\r\n\r\nSo what are the alternatives?\r\n\r\n1.  On the server side, create the entire ZIP as an in-memory object or write it to a temporary file.  If you succeed, send an 2xx response followed by the ZIP data.  If you fail, send a 4xx or 5xx response.  \r\n\r\n    The main problem is that you need enough memory or file system space to hold the ZIP file.\r\n\r\n2.  Redesign your HTTP API so that the client can sent a second request to check if the first request&#39;s response contained a complete ZIP file.\r\n\r\n3.  You might be able to exploit MIME multipart encoding; see [RFC 1341][1].  Each part of a well-formed MIME multipart has a start marker and an end-marker.  What you *could* try is to have your web-app construct the multipart stream containing the ZIP &quot;by hand&quot;.  If it decides it must abort the ZIP, it could just close the output stream without adding the required end marker.  \r\n\r\n    The main problem with this is that you are depending on the HTTP stack on the client side to tell the browser (or whatever) that the multipart is corrupted.  Furthermore, the browser (or whatever) must not pass on the partial (i.e. corrupt) ZIP file on to the user.  I&#39;m not sure if you can rely on (particular) web browsers to do that.\r\n\r\n4.  If you are running the download via custom code on the client side, you could conceivably implement your own encapsulation protocol.  The effect would be the same as for 3 ... but you wouldn&#39;t be abusing the MIME spec.\r\n\r\n\r\n  [1]: https://www.w3.org/Protocols/rfc1341/7_2_Multipart.html","title":"How to completely abort the output stream download?","body":"<p>There isn't a (clean) way to do what you want:</p>\n<p>Once you have started writing the ZIP file to the output stream, it is too late to change the HTTP response code.  The response code is sent at the start of response.</p>\n<p>Therefore, there is no proper way for the HTTP server to tell the HTTP client: &quot;Hey ... ignore that ZIP file I sent you 'cos it is corrupt&quot;.</p>\n<p>So what are the alternatives?</p>\n<ol>\n<li><p>On the server side, create the entire ZIP as an in-memory object or write it to a temporary file.  If you succeed, send an 2xx response followed by the ZIP data.  If you fail, send a 4xx or 5xx response.</p>\n<p>The main problem is that you need enough memory or file system space to hold the ZIP file.</p>\n</li>\n<li><p>Redesign your HTTP API so that the client can sent a second request to check if the first request's response contained a complete ZIP file.</p>\n</li>\n<li><p>You might be able to exploit MIME multipart encoding; see <a href=\"https://www.w3.org/Protocols/rfc1341/7_2_Multipart.html\" rel=\"nofollow noreferrer\">RFC 1341</a>.  Each part of a well-formed MIME multipart has a start marker and an end-marker.  What you <em>could</em> try is to have your web-app construct the multipart stream containing the ZIP &quot;by hand&quot;.  If it decides it must abort the ZIP, it could just close the output stream without adding the required end marker.</p>\n<p>The main problem with this is that you are depending on the HTTP stack on the client side to tell the browser (or whatever) that the multipart is corrupted.  Furthermore, the browser (or whatever) must not pass on the partial (i.e. corrupt) ZIP file on to the user.  I'm not sure if you can rely on (particular) web browsers to do that.</p>\n</li>\n<li><p>If you are running the download via custom code on the client side, you could conceivably implement your own encapsulation protocol.  The effect would be the same as for 3 ... but you wouldn't be abusing the MIME spec.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":6596185,"reputation":33,"user_id":5095901,"display_name":"ZeeG"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640655324,"creation_date":1640613327,"question_id":70496400,"body_markdown":"we&#39;re currently working on the service that would archive the data and return it to the user as a `ZipOutputStream`. What we&#39;re currently looking for is an option to completely terminate the operation if something goes wrong on the server side. With our current implementation (just closing the response output stream) errors result in a malformed zip at the user side, but it can&#39;t be told if the archive is malformed or not before attempting to unzip it. The desired behavior would be something like download termination (from a browser perspective, for instance, it would result in an unsuccessful download indication (red cross icon or something similar, depending on the browser) explicitly telling the user that something went wrong). We&#39;re using Spring Boot, so any java code examples would really be appreciated, but if you know the underlying `HTTP` mechanism that is responsible for this kind of behavior, and can point in the right direction, that would be much appreciated too.\r\nHere&#39;s what we have as of now (output being a response output stream of a Spring REST controller (`HttpServletResponse.getOutputStream()`) :\r\n\r\n```\r\ntry (ZipOutputStream zipOutputStream = new ZipOutputStream(outputStream)) {\r\n    try {\r\n        for (ZipRecordFile fileInfo : zipRecord.listZipFileOverride()) {\r\n            InputStream fileStream = getFileStream(fileInfo.s3region(), fileInfo.s3bucket(),\r\n            fileInfo.s3key());\r\n            ZipEntry zipEntry = new ZipEntry(fileInfo.fileName());\r\n            zipOutputStream.putNextEntry(zipEntry);\r\n            fileStream.transferTo(zipOutputStream);\r\n        }\r\n    }\r\n    catch (Exception e) {\r\n        outputStream.close();\r\n    }\r\n}\r\n```","title":"How to completely abort the output stream download?","body":"<p>we're currently working on the service that would archive the data and return it to the user as a <code>ZipOutputStream</code>. What we're currently looking for is an option to completely terminate the operation if something goes wrong on the server side. With our current implementation (just closing the response output stream) errors result in a malformed zip at the user side, but it can't be told if the archive is malformed or not before attempting to unzip it. The desired behavior would be something like download termination (from a browser perspective, for instance, it would result in an unsuccessful download indication (red cross icon or something similar, depending on the browser) explicitly telling the user that something went wrong). We're using Spring Boot, so any java code examples would really be appreciated, but if you know the underlying <code>HTTP</code> mechanism that is responsible for this kind of behavior, and can point in the right direction, that would be much appreciated too.\nHere's what we have as of now (output being a response output stream of a Spring REST controller (<code>HttpServletResponse.getOutputStream()</code>) :</p>\n<pre><code>try (ZipOutputStream zipOutputStream = new ZipOutputStream(outputStream)) {\n    try {\n        for (ZipRecordFile fileInfo : zipRecord.listZipFileOverride()) {\n            InputStream fileStream = getFileStream(fileInfo.s3region(), fileInfo.s3bucket(),\n            fileInfo.s3key());\n            ZipEntry zipEntry = new ZipEntry(fileInfo.fileName());\n            zipOutputStream.putNextEntry(zipEntry);\n            fileStream.transferTo(zipOutputStream);\n        }\n    }\n    catch (Exception e) {\n        outputStream.close();\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10882653,"reputation":300,"user_id":8001051,"display_name":"Cwift"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640590177,"creation_date":1640590177,"answer_id":70492723,"question_id":70492670,"body_markdown":"You shouldn&#39;t edit list with for-loop(both add and remove), instead of use iterator like:\r\n```java\r\n        List&lt;Integer&gt; listArr = new ArrayList&lt;&gt;();\r\n\r\n        listArr.add(5);\r\n        listArr.add(7);\r\n        listArr.add(90);\r\n        listArr.add(11);\r\n        listArr.add(55);\r\n        listArr.add(60);\r\n        var it = listArr.iterator();\r\n        while (it.hasNext()) {\r\n            var n = it.next();\r\n            if (n % 2 == 0) {\r\n                it.remove();\r\n            }\r\n        }\r\n```","title":"Way to remove odd values using for or forEach loop from Java arraylist","body":"<p>You shouldn't edit list with for-loop(both add and remove), instead of use iterator like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        List&lt;Integer&gt; listArr = new ArrayList&lt;&gt;();\n\n        listArr.add(5);\n        listArr.add(7);\n        listArr.add(90);\n        listArr.add(11);\n        listArr.add(55);\n        listArr.add(60);\n        var it = listArr.iterator();\n        while (it.hasNext()) {\n            var n = it.next();\n            if (n % 2 == 0) {\n                it.remove();\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":544427,"reputation":534,"user_id":913872,"display_name":"keshin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640590210,"creation_date":1640590210,"answer_id":70492724,"question_id":70492670,"body_markdown":"Because when you remove a item in the arraylist, you&#39;ve changed the list, try to iterate it in reverse mode.\r\nbreak down:\r\n1. when i = 0, your code removed it from list, then index 0 in your list is 7\r\n2. when i = 1, the index on 1 is 90, so your code doesn&#39;t remove it.\r\n3. when i =2, the index on 2 is 11, so your code remove it, then index on 2 in the list is 55,\r\n4. when i = 3, the index on 3 i 60, so it will be kept.\r\n\r\nEnd of loop, that&#39;s why your code output what you see, and that&#39;s why you should run it in reverse mode","title":"Way to remove odd values using for or forEach loop from Java arraylist","body":"<p>Because when you remove a item in the arraylist, you've changed the list, try to iterate it in reverse mode.\nbreak down:</p>\n<ol>\n<li>when i = 0, your code removed it from list, then index 0 in your list is 7</li>\n<li>when i = 1, the index on 1 is 90, so your code doesn't remove it.</li>\n<li>when i =2, the index on 2 is 11, so your code remove it, then index on 2 in the list is 55,</li>\n<li>when i = 3, the index on 3 i 60, so it will be kept.</li>\n</ol>\n<p>End of loop, that's why your code output what you see, and that's why you should run it in reverse mode</p>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640599979,"creation_date":1640592299,"answer_id":70493001,"question_id":70492670,"body_markdown":"The answer is just one simple line, indeed you can achieve it with many approaches with stream api, here we use Collector interface.\r\n\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n        \r\n            //question values\r\n            List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n            list.add(5);\r\n            list.add(7);\r\n            list.add(90);\r\n            list.add(11);\r\n            list.add(55);\r\n            list.add(60);\r\n            \r\n            //answer\r\n            List&lt;Integer&gt; result = list.stream().collect(ArrayList::new, (u, v) -&gt; {if(v % 2 == 0)           u.add(v);}, List::addAll);\r\n            \r\n            //validating result\r\n            result.forEach(System.out::println);\r\n        }\r\n    }\r\n\r\nMore over you can achive the same result with creating custom collector like below \r\n\r\n\r\n    public class OddNumbersCollector implements Collector&lt;Integer, List&lt;Integer&gt;, List&lt;Integer&gt;&gt; {\r\n        @Override\r\n        public Supplier&lt;List&lt;Integer&gt;&gt; supplier() {\r\n            return ArrayList::new;\r\n        }\r\n\r\n        @Override\r\n        public BiConsumer&lt;List&lt;Integer&gt;, Integer&gt; accumulator() {\r\n            return (u, v) -&gt; {\r\n                if(v % 2 == 0)\r\n                    u.add(v);\r\n            };\r\n        }\r\n\r\n        @Override\r\n        public BinaryOperator&lt;List&lt;Integer&gt;&gt; combiner() {\r\n            return (u, v) -&gt; {\r\n                u.addAll(v);\r\n                return u;\r\n            };\r\n        }\r\n\r\n        @Override\r\n        public Function&lt;List&lt;Integer&gt;, List&lt;Integer&gt;&gt; finisher() {\r\n            return Function.identity();\r\n        }\r\n\r\n        @Override\r\n        public Set&lt;Characteristics&gt; characteristics() {\r\n            return Collections.unmodifiableSet(EnumSet.of(Characteristics.IDENTITY_FINISH, Characteristics.CONCURRENT));\r\n        }\r\n    }\r\n\r\n\r\nAnd answer int this case becomes \r\n\r\n\r\n\r\n    List&lt;Integer&gt; result = list.stream().collect(new OddNumbersCollector());\r\n\r\n\r\nThat&#39;s all, no need to extra efforts .","title":"Way to remove odd values using for or forEach loop from Java arraylist","body":"<p>The answer is just one simple line, indeed you can achieve it with many approaches with stream api, here we use Collector interface.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n    \n        //question values\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n        list.add(5);\n        list.add(7);\n        list.add(90);\n        list.add(11);\n        list.add(55);\n        list.add(60);\n        \n        //answer\n        List&lt;Integer&gt; result = list.stream().collect(ArrayList::new, (u, v) -&gt; {if(v % 2 == 0)           u.add(v);}, List::addAll);\n        \n        //validating result\n        result.forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>More over you can achive the same result with creating custom collector like below</p>\n<pre><code>public class OddNumbersCollector implements Collector&lt;Integer, List&lt;Integer&gt;, List&lt;Integer&gt;&gt; {\n    @Override\n    public Supplier&lt;List&lt;Integer&gt;&gt; supplier() {\n        return ArrayList::new;\n    }\n\n    @Override\n    public BiConsumer&lt;List&lt;Integer&gt;, Integer&gt; accumulator() {\n        return (u, v) -&gt; {\n            if(v % 2 == 0)\n                u.add(v);\n        };\n    }\n\n    @Override\n    public BinaryOperator&lt;List&lt;Integer&gt;&gt; combiner() {\n        return (u, v) -&gt; {\n            u.addAll(v);\n            return u;\n        };\n    }\n\n    @Override\n    public Function&lt;List&lt;Integer&gt;, List&lt;Integer&gt;&gt; finisher() {\n        return Function.identity();\n    }\n\n    @Override\n    public Set&lt;Characteristics&gt; characteristics() {\n        return Collections.unmodifiableSet(EnumSet.of(Characteristics.IDENTITY_FINISH, Characteristics.CONCURRENT));\n    }\n}\n</code></pre>\n<p>And answer int this case becomes</p>\n<pre><code>List&lt;Integer&gt; result = list.stream().collect(new OddNumbersCollector());\n</code></pre>\n<p>That's all, no need to extra efforts .</p>\n"}],"owner":{"account_id":19340378,"reputation":23,"user_id":14140070,"display_name":"Vukasin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1640600114,"answer_count":3,"score":0,"last_activity_date":1640654433,"creation_date":1640589720,"question_id":70492670,"body_markdown":"    List&lt;Integer&gt; listArr = new ArrayList&lt;&gt;();\r\n    \r\n            listArr.add(5);\r\n            listArr.add(7);\r\n            listArr.add(90);\r\n            listArr.add(11);\r\n            listArr.add(55);\r\n            listArr.add(60);\r\n    for(int i = 0; i &lt; listArr.size(); i++) {\r\n                if (listArr.get(i) % 2 != 0) {\r\n                    listArr.remove(i);\r\n                }\r\n            }\r\nI&#39;m trying to remove all odd numbers from the ArrayList and it must be **for** or **foreEach** loop. The result would be 7, 90, 55, 60 for the numbers that are remaining in the ArrayList after loop is finished. When I set a condition:\r\n\r\n    if(listArr.get(i) % 2 == 0)\r\nEverything is working fine. All even numbers are removed, but in the first example that&#39;s not the case for odd numbers. Why is this happening?","title":"Way to remove odd values using for or forEach loop from Java arraylist","body":"<pre><code>List&lt;Integer&gt; listArr = new ArrayList&lt;&gt;();\n\n        listArr.add(5);\n        listArr.add(7);\n        listArr.add(90);\n        listArr.add(11);\n        listArr.add(55);\n        listArr.add(60);\nfor(int i = 0; i &lt; listArr.size(); i++) {\n            if (listArr.get(i) % 2 != 0) {\n                listArr.remove(i);\n            }\n        }\n</code></pre>\n<p>I'm trying to remove all odd numbers from the ArrayList and it must be <strong>for</strong> or <strong>foreEach</strong> loop. The result would be 7, 90, 55, 60 for the numbers that are remaining in the ArrayList after loop is finished. When I set a condition:</p>\n<pre><code>if(listArr.get(i) % 2 == 0)\n</code></pre>\n<p>Everything is working fine. All even numbers are removed, but in the first example that's not the case for odd numbers. Why is this happening?</p>\n"},{"tags":["java","spring","spring-boot","spring-tool-suite","spring-tools-4"],"comments":[{"owner":{"account_id":17849762,"reputation":104,"user_id":12965752,"display_name":"Bhushan"},"score":0,"creation_date":1640579642,"post_id":70491543,"comment_id":124607826,"body_markdown":"Check this one https://stackoverflow.com/questions/54155605/spring-tool-suite-autocomplete-content-assist-not-working-no-proposal-kinds","body":"Check this one <a href=\"https://stackoverflow.com/questions/54155605/spring-tool-suite-autocomplete-content-assist-not-working-no-proposal-kinds\" title=\"spring tool suite autocomplete content assist not working no proposal kinds\">stackoverflow.com/questions/54155605/&hellip;</a>"},{"owner":{"account_id":22883760,"reputation":101,"user_id":17024974,"display_name":"Vinayak"},"score":2,"creation_date":1640588922,"post_id":70491543,"comment_id":124609303,"body_markdown":"I forgot to hit mvn clean install command for my project. After downloading all dependencies now I am able to get suggestions.\nThank you.","body":"I forgot to hit mvn clean install command for my project. After downloading all dependencies now I am able to get suggestions. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":23560615,"reputation":21,"user_id":17602031,"display_name":"Luke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640651612,"creation_date":1640589605,"answer_id":70492654,"question_id":70491543,"body_markdown":"\r\n\r\n 1. Download the latest(sts-4.13.0.RELEASE) STS4 version\r\n    from https://spring.io/tools\r\n\r\n  \r\n\r\n 1. Open the STS4 and click &quot;Window&quot; -&gt; &quot;Preferences&quot; -&gt; &quot;Java&quot;\r\n    -&gt; &quot;Editor&quot; -&gt; &quot;Content Assist&quot; and input `.ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz` into &quot;Auto\r\n    activation triggers for Java:&quot;.\r\n\r\n \r\n\r\n 1. Create a new Java project to try auto-complete.","title":"Autocomplete in Spring tool suite 4 is not working","body":"<ol>\n<li><p>Download the latest(sts-4.13.0.RELEASE) STS4 version\nfrom <a href=\"https://spring.io/tools\" rel=\"nofollow noreferrer\">https://spring.io/tools</a></p>\n</li>\n<li><p>Open the STS4 and click &quot;Window&quot; -&gt; &quot;Preferences&quot; -&gt; &quot;Java&quot;\n-&gt; &quot;Editor&quot; -&gt; &quot;Content Assist&quot; and input <code>.ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz</code> into &quot;Auto\nactivation triggers for Java:&quot;.</p>\n</li>\n<li><p>Create a new Java project to try auto-complete.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":22883760,"reputation":101,"user_id":17024974,"display_name":"Vinayak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":914,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640651612,"creation_date":1640577417,"question_id":70491543,"body_markdown":"I am using STS4 and I am new to it. I did all possible ways to make work auto-complete but it&#39;s not working.\r\nBelow are the preferences setting screenshots\r\n[![Preference screenshot 1][1]][1]\r\n[![Preference screenshot 1][2]][2]\r\n\r\n\r\nInstead of getting autocomplete suggestions, I am getting below pop-up window\r\n[![Autocomplete Pop-up][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XQf9j.jpg\r\n  [2]: https://i.stack.imgur.com/Zj22Z.jpg\r\n  [3]: https://i.stack.imgur.com/eGjw6.png\r\n\r\nCould anyone tell me how to solve this?","title":"Autocomplete in Spring tool suite 4 is not working","body":"<p>I am using STS4 and I am new to it. I did all possible ways to make work auto-complete but it's not working.\nBelow are the preferences setting screenshots\n<a href=\"https://i.stack.imgur.com/XQf9j.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XQf9j.jpg\" alt=\"Preference screenshot 1\" /></a>\n<a href=\"https://i.stack.imgur.com/Zj22Z.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zj22Z.jpg\" alt=\"Preference screenshot 1\" /></a></p>\n<p>Instead of getting autocomplete suggestions, I am getting below pop-up window\n<a href=\"https://i.stack.imgur.com/eGjw6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eGjw6.png\" alt=\"Autocomplete Pop-up\" /></a></p>\n<p>Could anyone tell me how to solve this?</p>\n"},{"tags":["java","android","android-studio","android-intent"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1640392730,"post_id":70477307,"comment_id":124582881,"body_markdown":"`Uri.fromFile()` has been useless for five years, as `file://` `Uri` values are banned on Android 7.0 and higher. You should be crashing with a `FileUriExposedException`. Please use `FileProvider` instead of `Uri.fromFile()`. See [this book section](https://commonsware.com/Jetpack/pages/chap-files-005.html) for more information and samples of using `FileProvider` in an Android app.","body":"<code>Uri.fromFile()</code> has been useless for five years, as <code>file:&#47;&#47;</code> <code>Uri</code> values are banned on Android 7.0 and higher. You should be crashing with a <code>FileUriExposedException</code>. Please use <code>FileProvider</code> instead of <code>Uri.fromFile()</code>. See <a href=\"https://commonsware.com/Jetpack/pages/chap-files-005.html\" rel=\"nofollow noreferrer\">this book section</a> for more information and samples of using <code>FileProvider</code> in an Android app."}],"answers":[{"tags":[],"owner":{"account_id":14365119,"reputation":96,"user_id":10376393,"display_name":"Kman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640651537,"creation_date":1640651537,"answer_id":70501708,"question_id":70477307,"body_markdown":"CommonsWare was correct about using FileProvider. The [documentation][1] says Uri.fromFile() is less secure than FileProvider. \r\n\r\nOnce I added 3 main things, it worked as expected.\r\nThe first thing is adding providers in the manifest file: \r\n```\r\n   &lt;provider\r\n            android:authorities=&quot;com.example.counter&quot;\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot;\r\n                /&gt;\r\n        &lt;/provider&gt;\r\n```\r\n\r\nThe second thing is adding the paths. I created another directory in my res file called xml. I then added an xml file called provider_paths.xml. Here is that code:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;external-path &lt;!-- there are several different types of paths to use see the documentation--&gt;\r\n        name=&quot;external_files&quot;\r\n        path=&quot;.&quot;  /&gt; &lt;!-- consider changing this to more specific path--&gt;\r\n&lt;/paths&gt;\r\n```\r\nLastly, this is how I implemented it.\r\n\r\n```\r\nString nowDateTime = System.currentTimeMillis()+&quot;&quot;;\r\n            File filePath = new File(Environment.getExternalStorageDirectory()+&quot;/Download/&quot;+&quot;ExcelFile_&quot;+nowDateTime+&quot;.xls&quot;);\r\n\r\n            if(!filePath.exists()){\r\n                filePath.createNewFile();\r\n            }\r\n\r\n            FileOutputStream fileOutputStream = new FileOutputStream(filePath);\r\n            hssfWorkbook.write(fileOutputStream);\r\n\r\n            fileOutputStream.flush();\r\n            fileOutputStream.close();\r\n\r\n            Intent emailIntent = new Intent(Intent.ACTION_SEND);\r\n            Uri uri = FileProvider.getUriForFile(this.getContext(),&quot;com.example.counter&quot;, filePath);\r\n            emailIntent.setType(&quot;application/excel&quot;);\r\n            emailIntent.putExtra(Intent.EXTRA_STREAM, uri);\r\n            emailIntent.putExtra(Intent.EXTRA_SUBJECT, getString(R.string.Email_Subject_Line));\r\n            emailIntent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n            emailIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            this.startActivity(emailIntent);\r\n\r\n```\r\n\r\n  [1]: https://developer.android.com/reference/androidx/core/content/FileProvider#getUriForFile(android.content.Context,%20java.lang.String,%20java.io.File)","title":"Couldn&#39;t Attach .xls File Email Intent -Android","body":"<p>CommonsWare was correct about using FileProvider. The <a href=\"https://developer.android.com/reference/androidx/core/content/FileProvider#getUriForFile(android.content.Context,%20java.lang.String,%20java.io.File)\" rel=\"nofollow noreferrer\">documentation</a> says Uri.fromFile() is less secure than FileProvider.</p>\n<p>Once I added 3 main things, it worked as expected.\nThe first thing is adding providers in the manifest file:</p>\n<pre><code>   &lt;provider\n            android:authorities=&quot;com.example.counter&quot;\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/provider_paths&quot;\n                /&gt;\n        &lt;/provider&gt;\n</code></pre>\n<p>The second thing is adding the paths. I created another directory in my res file called xml. I then added an xml file called provider_paths.xml. Here is that code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;external-path &lt;!-- there are several different types of paths to use see the documentation--&gt;\n        name=&quot;external_files&quot;\n        path=&quot;.&quot;  /&gt; &lt;!-- consider changing this to more specific path--&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>Lastly, this is how I implemented it.</p>\n<pre><code>String nowDateTime = System.currentTimeMillis()+&quot;&quot;;\n            File filePath = new File(Environment.getExternalStorageDirectory()+&quot;/Download/&quot;+&quot;ExcelFile_&quot;+nowDateTime+&quot;.xls&quot;);\n\n            if(!filePath.exists()){\n                filePath.createNewFile();\n            }\n\n            FileOutputStream fileOutputStream = new FileOutputStream(filePath);\n            hssfWorkbook.write(fileOutputStream);\n\n            fileOutputStream.flush();\n            fileOutputStream.close();\n\n            Intent emailIntent = new Intent(Intent.ACTION_SEND);\n            Uri uri = FileProvider.getUriForFile(this.getContext(),&quot;com.example.counter&quot;, filePath);\n            emailIntent.setType(&quot;application/excel&quot;);\n            emailIntent.putExtra(Intent.EXTRA_STREAM, uri);\n            emailIntent.putExtra(Intent.EXTRA_SUBJECT, getString(R.string.Email_Subject_Line));\n            emailIntent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n            emailIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            this.startActivity(emailIntent);\n\n</code></pre>\n"}],"owner":{"account_id":14365119,"reputation":96,"user_id":10376393,"display_name":"Kman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640651537,"creation_date":1640391917,"question_id":70477307,"body_markdown":"I am creating a .xls file and saving it to the Downloads folder. I am trying to send the .xls file as an email attachment. However, when Gmail opens up I get a toast error message that says Couldn&#39;t Attach File. This error message is coming from Gmail. I have verified that the file is being created properly. I am not sure why it&#39;s not attached to the email.\r\n\r\nHere is the code that creates the file and emailIntent.\r\n```\r\n try{\r\n           String nowDateTime = System.currentTimeMillis()+&quot;&quot;;\r\n            File filePath = new File(Environment.getExternalStorageDirectory()+&quot;/Download/&quot;+&quot;ExcelFile_&quot;+nowDateTime+&quot;.xls&quot;);\r\n\r\n            if(!filePath.exists()){\r\n                filePath.createNewFile();\r\n            }\r\n\r\n            FileOutputStream fileOutputStream = new FileOutputStream(filePath);\r\n            hssfWorkbook.write(fileOutputStream);\r\n\r\n            fileOutputStream.flush();\r\n            fileOutputStream.close();\r\n\r\n            Intent emailIntent = new Intent(Intent.ACTION_SEND);\r\n            Uri uri = Uri.fromFile(filePath);\r\n            Log.e(&quot;FilePath&quot;, filePath.toString());\r\n            Log.e(&quot;Uri&quot;, uri.toString());\r\n            emailIntent.setType(&quot;application/excel&quot;);\r\n            emailIntent.putExtra(Intent.EXTRA_STREAM, uri);\r\n            emailIntent.putExtra(Intent.EXTRA_SUBJECT, getString(R.string.Email_Subject_Line));\r\n            emailIntent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n            emailIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            this.startActivity(emailIntent);\r\n\r\n        }catch(Exception e){\r\n            Log.e(&quot;GraphReportDialog&quot;, &quot;Creating Excel Sheet File Output Stream Error &quot;+ e.getMessage());\r\n        }\r\n```\r\n\r\nManifest Permissions:\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n```\r\n\r\n","title":"Couldn&#39;t Attach .xls File Email Intent -Android","body":"<p>I am creating a .xls file and saving it to the Downloads folder. I am trying to send the .xls file as an email attachment. However, when Gmail opens up I get a toast error message that says Couldn't Attach File. This error message is coming from Gmail. I have verified that the file is being created properly. I am not sure why it's not attached to the email.</p>\n<p>Here is the code that creates the file and emailIntent.</p>\n<pre><code> try{\n           String nowDateTime = System.currentTimeMillis()+&quot;&quot;;\n            File filePath = new File(Environment.getExternalStorageDirectory()+&quot;/Download/&quot;+&quot;ExcelFile_&quot;+nowDateTime+&quot;.xls&quot;);\n\n            if(!filePath.exists()){\n                filePath.createNewFile();\n            }\n\n            FileOutputStream fileOutputStream = new FileOutputStream(filePath);\n            hssfWorkbook.write(fileOutputStream);\n\n            fileOutputStream.flush();\n            fileOutputStream.close();\n\n            Intent emailIntent = new Intent(Intent.ACTION_SEND);\n            Uri uri = Uri.fromFile(filePath);\n            Log.e(&quot;FilePath&quot;, filePath.toString());\n            Log.e(&quot;Uri&quot;, uri.toString());\n            emailIntent.setType(&quot;application/excel&quot;);\n            emailIntent.putExtra(Intent.EXTRA_STREAM, uri);\n            emailIntent.putExtra(Intent.EXTRA_SUBJECT, getString(R.string.Email_Subject_Line));\n            emailIntent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n            emailIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            this.startActivity(emailIntent);\n\n        }catch(Exception e){\n            Log.e(&quot;GraphReportDialog&quot;, &quot;Creating Excel Sheet File Output Stream Error &quot;+ e.getMessage());\n        }\n</code></pre>\n<p>Manifest Permissions:</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1640659392,"post_id":70501615,"comment_id":124626912,"body_markdown":"`cool.png` and `cool.PNG` are not the same thing.  jar entries are case sensitive.  I suspect it worked in your IDE because you’re running on Windows, where file names, unlike .jar entry names, are not case sensitive.","body":"<code>cool.png</code> and <code>cool.PNG</code> are not the same thing.  jar entries are case sensitive.  I suspect it worked in your IDE because you’re running on Windows, where file names, unlike .jar entry names, are not case sensitive."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1640663190,"post_id":70501615,"comment_id":124627381,"body_markdown":"I&#39;d also check that the image has been included within your resulting Jar. There just zip files, so you can change the extension to .zip and unzip it to check","body":"I&#39;d also check that the image has been included within your resulting Jar. There just zip files, so you can change the extension to .zip and unzip it to check"},{"owner":{"account_id":23761667,"reputation":1,"user_id":17776971,"display_name":"Goksi"},"score":0,"creation_date":1640683268,"post_id":70501615,"comment_id":124631419,"body_markdown":"I already done that (picture is under &quot;Also final jar file&quot;). Also solution from @VGR works, thank you guys","body":"I already done that (picture is under &quot;Also final jar file&quot;). Also solution from @VGR works, thank you guys"}],"owner":{"account_id":23761667,"reputation":1,"user_id":17776971,"display_name":"Goksi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640651210,"creation_date":1640650429,"question_id":70501615,"body_markdown":"It works perfectly when I run application inside IDE, but when I build artifact it throws NPE.\r\nNPE is thrown on this line\r\n\r\n    frame.setIconImage(new ImageIcon(ConnectF.class.getResource(&quot;/cool.PNG&quot;)).getImage());\r\n\r\nAlso &quot;cool.png&quot; is compiled in same jar with all other classes \r\n[cool.jpg placement][1]\r\n\r\n\r\n\r\n[Also final jar file][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qAxZM.png\r\n  [2]: https://i.stack.imgur.com/cOZY7.png","title":"JFrame setIconImage() not working outside Intellij","body":"<p>It works perfectly when I run application inside IDE, but when I build artifact it throws NPE.\nNPE is thrown on this line</p>\n<pre><code>frame.setIconImage(new ImageIcon(ConnectF.class.getResource(&quot;/cool.PNG&quot;)).getImage());\n</code></pre>\n<p>Also &quot;cool.png&quot; is compiled in same jar with all other classes\n<a href=\"https://i.stack.imgur.com/qAxZM.png\" rel=\"nofollow noreferrer\">cool.jpg placement</a></p>\n<p><a href=\"https://i.stack.imgur.com/cOZY7.png\" rel=\"nofollow noreferrer\">Also final jar file</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8265,"page":1727,"page_size":100}
