{"items":[{"tags":["java","spring-boot","spring-mvc","spring-data-jpa","mysql-connector"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1684281059,"post_id":76267738,"comment_id":134494557,"body_markdown":"Never post images of code.","body":"Never post images of code."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1684281082,"post_id":76267738,"comment_id":134494559,"body_markdown":"Your POST endpoint is expecting a single `BmiUser`, but you&#39;re passing an array.","body":"Your POST endpoint is expecting a single <code>BmiUser</code>, but you&#39;re passing an array."},{"owner":{"account_id":23025130,"reputation":25,"user_id":21105235,"display_name":"bruno adller"},"score":0,"creation_date":1684281402,"post_id":76267738,"comment_id":134494589,"body_markdown":"when passing the json am I passing an array?","body":"when passing the json am I passing an array?"},{"owner":{"account_id":23025130,"reputation":25,"user_id":21105235,"display_name":"bruno adller"},"score":0,"creation_date":1684281495,"post_id":76267738,"comment_id":134494602,"body_markdown":"Ok, I managed to solve. thank you, and I will not post more photos kk","body":"Ok, I managed to solve. thank you, and I will not post more photos kk"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1684282202,"post_id":76267738,"comment_id":134494656,"body_markdown":"Yes, `[ ]` represents an array in JSON.","body":"Yes, <code>[ ]</code> represents an array in JSON."}],"answers":[{"tags":[],"owner":{"account_id":20119240,"reputation":16,"user_id":14754025,"display_name":"MilkyGreen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684286854,"creation_date":1684286854,"answer_id":76268019,"question_id":76267738,"body_markdown":"remove the [] in your request body, They represent that the data you transmitted is an array.","title":"JSON parse error: Cannot deserialize value of type from Array value (token `JsonToken.START_ARRAY`)","body":"<p>remove the [] in your request body, They represent that the data you transmitted is an array.</p>\n"}],"owner":{"account_id":23025130,"reputation":25,"user_id":21105235,"display_name":"bruno adller"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76268019,"answer_count":1,"score":1,"last_activity_date":1684286854,"creation_date":1684280792,"question_id":76267738,"body_markdown":"[![error here](https://i.stack.imgur.com/Kj5QU.png)](https://i.stack.imgur.com/Kj5QU.png)\r\n\r\n[![controller here](https://i.stack.imgur.com/hvmyQ.png)](https://i.stack.imgur.com/hvmyQ.png)\r\n\r\n[![service here](https://i.stack.imgur.com/cSTWJ.png)](https://i.stack.imgur.com/cSTWJ.png)\r\n\r\n&#39;m not getting it at all, I already changed the database, I changed the project entities and nothing.I would like to understand what I am doing wrong to be able to make the post.I attended some courses to be able to understand how to do it and to do it works. Alone there is always something.If anyone can help me, thanks in advance. because the similar questions here on the stack are not related to postMapping","title":"JSON parse error: Cannot deserialize value of type from Array value (token `JsonToken.START_ARRAY`)","body":"<p><a href=\"https://i.stack.imgur.com/Kj5QU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kj5QU.png\" alt=\"error here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hvmyQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hvmyQ.png\" alt=\"controller here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/cSTWJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cSTWJ.png\" alt=\"service here\" /></a></p>\n<p>'m not getting it at all, I already changed the database, I changed the project entities and nothing.I would like to understand what I am doing wrong to be able to make the post.I attended some courses to be able to understand how to do it and to do it works. Alone there is always something.If anyone can help me, thanks in advance. because the similar questions here on the stack are not related to postMapping</p>\n"},{"tags":["java","firebase","nullpointerexception"],"comments":[{"owner":{"account_id":19896142,"reputation":167,"user_id":14577209,"display_name":"Maleesha97"},"score":0,"creation_date":1684261445,"post_id":76265994,"comment_id":134491722,"body_markdown":"Seems like the error is indicating that your `passwordFromDB.equals(userPassword)` is returning a null. Add a null checker before calling `.equals()`. Like this, `if (passwordFromDB != null &amp;&amp; passwordFromDB.equals(userPassword))` This would prevent this error.","body":"Seems like the error is indicating that your <code>passwordFromDB.equals(userPassword)</code> is returning a null. Add a null checker before calling <code>.equals()</code>. Like this, <code>if (passwordFromDB != null &amp;&amp; passwordFromDB.equals(userPassword))</code> This would prevent this error."},{"owner":{"account_id":28614633,"reputation":1,"user_id":21908917,"display_name":"HSN I"},"score":0,"creation_date":1684263367,"post_id":76265994,"comment_id":134492078,"body_markdown":"@Maleesha97 Hi thanks for the answer. This did turn out to remove the error but not the problem. The code doesn&#39;t retrieve the password data from the database, do you have any idea on why the code isn&#39;t pulling any data? Any help would be greatly appreciated, thanks.","body":"@Maleesha97 Hi thanks for the answer. This did turn out to remove the error but not the problem. The code doesn&#39;t retrieve the password data from the database, do you have any idea on why the code isn&#39;t pulling any data? Any help would be greatly appreciated, thanks."},{"owner":{"account_id":29802,"reputation":11140,"user_id":80779,"accept_rate":90,"display_name":"LordOfThePigs"},"score":0,"creation_date":1684263549,"post_id":76265994,"comment_id":134492120,"body_markdown":"I hope this is a homework question and not for a production project. This code implies that passwords are stored in clear in the DB without any form of hashing. This is very dangerous security wise. If this is destined for production, I highly encourage you to read about password hashing (using bcrypt, pbkdf2, etc...), or external authentication solutions that can handle this sensitive process for you.","body":"I hope this is a homework question and not for a production project. This code implies that passwords are stored in clear in the DB without any form of hashing. This is very dangerous security wise. If this is destined for production, I highly encourage you to read about password hashing (using bcrypt, pbkdf2, etc...), or external authentication solutions that can handle this sensitive process for you."},{"owner":{"account_id":19896142,"reputation":167,"user_id":14577209,"display_name":"Maleesha97"},"score":0,"creation_date":1684269265,"post_id":76265994,"comment_id":134493088,"body_markdown":"@HSN I don&#39;t think it is a good idea to retrieve the password from database to client side code either. However, your issue is in the way you are fetching from the database. I would suggest you to try and log the snapshot to see what sort of data you are fetching. See if your reference(Path) is correct for the DB.","body":"@HSN I don&#39;t think it is a good idea to retrieve the password from database to client side code either. However, your issue is in the way you are fetching from the database. I would suggest you to try and log the snapshot to see what sort of data you are fetching. See if your reference(Path) is correct for the DB."},{"owner":{"account_id":28614633,"reputation":1,"user_id":21908917,"display_name":"HSN I"},"score":0,"creation_date":1684275277,"post_id":76265994,"comment_id":134494045,"body_markdown":"@LordOfThePigs and Maleesha97 Hi, you are correct this is not a production project and so it&#39;s not an issue for me that the passwords are being stored in this way. Thanks for the advice. I will look into the reference(Path) and see what data it&#39;s trying to collect vs. what it should be collecting.","body":"@LordOfThePigs and Maleesha97 Hi, you are correct this is not a production project and so it&#39;s not an issue for me that the passwords are being stored in this way. Thanks for the advice. I will look into the reference(Path) and see what data it&#39;s trying to collect vs. what it should be collecting."}],"answers":[{"comments":[{"owner":{"account_id":28614633,"reputation":1,"user_id":21908917,"display_name":"HSN I"},"score":0,"creation_date":1684263266,"post_id":76266041,"comment_id":134492057,"body_markdown":"Hi, thanks for your answer. This fixes the error I&#39;m getting but it means that the code is not retrieving the password from the database. Do you have any ideas of why that&#39;s the case?","body":"Hi, thanks for your answer. This fixes the error I&#39;m getting but it means that the code is not retrieving the password from the database. Do you have any ideas of why that&#39;s the case?"}],"tags":[],"owner":{"account_id":28593435,"reputation":18,"user_id":21892142,"display_name":"Nikola Jovanovic"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684284819,"creation_date":1684261160,"answer_id":76266041,"question_id":76265994,"body_markdown":"The console error says that the variable `passwordFromDB` is `null`.\r\n\r\nPlease check if the variable isn&#39;t `null`.\r\n\r\n    if (passwordFromDB.equals(userPassword)) {\r\n         loginUsername.setError(null);\r\n         Intent intent = new Intent(Login.this, MainActivity.class);\r\n         startActivity(intent);\r\n        }\r\n     else {\r\n        loginPassword.setError(&quot;Invalid&quot;);\r\n        loginPassword.requestFocus();\r\n     }\r\n\r\nHope this helpfull to you.","title":"Fatal Exception: java.lang.NullPointerException - Attempt to invoke virtual method &#39;boolean java.lang.String.equals(java.lang.Object)&#39; on null object","body":"<p>The console error says that the variable <code>passwordFromDB</code> is <code>null</code>.</p>\n<p>Please check if the variable isn't <code>null</code>.</p>\n<pre><code>if (passwordFromDB.equals(userPassword)) {\n     loginUsername.setError(null);\n     Intent intent = new Intent(Login.this, MainActivity.class);\n     startActivity(intent);\n    }\n else {\n    loginPassword.setError(&quot;Invalid&quot;);\n    loginPassword.requestFocus();\n }\n</code></pre>\n<p>Hope this helpfull to you.</p>\n"}],"owner":{"account_id":28614633,"reputation":1,"user_id":21908917,"display_name":"HSN I"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684289661,"accepted_answer_id":76266041,"answer_count":1,"score":0,"last_activity_date":1684284819,"creation_date":1684260669,"question_id":76265994,"body_markdown":"I&#39;m trying to create a login and register application with Google Firebase and Android Studio.\r\n\r\nThe error:\r\n\r\n```\r\nFatal Exception: java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean java.lang.String.equals(java.lang.Object)&#39; on a null object reference\r\n       at com.example.cmp6213_2.Login$3.onDataChange(Login.java:79)\r\n       at com.google.firebase.database.Query$1.onDataChange(Query.java:191)\r\n       at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\r\n       at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\r\n       at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\r\n       at android.os.Handler.handleCallback(Handler.java:942)\r\n       at android.os.Handler.dispatchMessage(Handler.java:99)\r\n       at android.os.Looper.loopOnce(Looper.java:201)\r\n       at android.os.Looper.loop(Looper.java:288)\r\n       at android.app.ActivityThread.main(ActivityThread.java:7872)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n```\r\n\r\n**LoginActivity.java**\r\n```\r\n    public void checkUser(){\r\n        String userEmail = loginUsername.getText().toString().trim();\r\n        String userId = userEmail.substring(0, 4);\r\n        String userPassword = loginPassword.getText().toString().trim();\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\r\n        Query checkUserDatabase = reference.orderByChild(&quot;email&quot;).equalTo(userEmail);\r\n        checkUserDatabase.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()){\r\n                    loginUsername.setError(null);\r\n                    String passwordFromDB = snapshot.child(userId).child(&quot;password&quot;).getValue(String.class);\r\n                    if (passwordFromDB.equals(userPassword)) {\r\n                        loginUsername.setError(null);\r\n                        Intent intent = new Intent(Login.this, MainActivity.class);\r\n                        startActivity(intent);\r\n                    } else {\r\n                        loginPassword.setError(&quot;Invalid&quot;);\r\n                        loginPassword.requestFocus();\r\n                    }\r\n                } else {\r\n                    loginUsername.setError(&quot;User does not exist&quot;);\r\n                    loginUsername.requestFocus();\r\n                }\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n            }\r\n        });\r\n```\r\n\r\nI appreciate any help, thank you for your time.\r\n\r\nI can&#39;t figure out where the issue is coming from and what to do to fix it and I would appreciate anyone who could help me guide me to the culprit.","title":"Fatal Exception: java.lang.NullPointerException - Attempt to invoke virtual method &#39;boolean java.lang.String.equals(java.lang.Object)&#39; on null object","body":"<p>I'm trying to create a login and register application with Google Firebase and Android Studio.</p>\n<p>The error:</p>\n<pre><code>Fatal Exception: java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.lang.String.equals(java.lang.Object)' on a null object reference\n       at com.example.cmp6213_2.Login$3.onDataChange(Login.java:79)\n       at com.google.firebase.database.Query$1.onDataChange(Query.java:191)\n       at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\n       at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\n       at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\n       at android.os.Handler.handleCallback(Handler.java:942)\n       at android.os.Handler.dispatchMessage(Handler.java:99)\n       at android.os.Looper.loopOnce(Looper.java:201)\n       at android.os.Looper.loop(Looper.java:288)\n       at android.app.ActivityThread.main(ActivityThread.java:7872)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n</code></pre>\n<p><strong>LoginActivity.java</strong></p>\n<pre><code>    public void checkUser(){\n        String userEmail = loginUsername.getText().toString().trim();\n        String userId = userEmail.substring(0, 4);\n        String userPassword = loginPassword.getText().toString().trim();\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\n        Query checkUserDatabase = reference.orderByChild(&quot;email&quot;).equalTo(userEmail);\n        checkUserDatabase.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.exists()){\n                    loginUsername.setError(null);\n                    String passwordFromDB = snapshot.child(userId).child(&quot;password&quot;).getValue(String.class);\n                    if (passwordFromDB.equals(userPassword)) {\n                        loginUsername.setError(null);\n                        Intent intent = new Intent(Login.this, MainActivity.class);\n                        startActivity(intent);\n                    } else {\n                        loginPassword.setError(&quot;Invalid&quot;);\n                        loginPassword.requestFocus();\n                    }\n                } else {\n                    loginUsername.setError(&quot;User does not exist&quot;);\n                    loginUsername.requestFocus();\n                }\n            }\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n            }\n        });\n</code></pre>\n<p>I appreciate any help, thank you for your time.</p>\n<p>I can't figure out where the issue is coming from and what to do to fix it and I would appreciate anyone who could help me guide me to the culprit.</p>\n"},{"tags":["java","html","web","repository","nexus"],"owner":{"account_id":19583656,"reputation":1,"user_id":14332177,"display_name":"Hadow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684284661,"creation_date":1684284661,"question_id":76267922,"body_markdown":"When access pypi nexus repository in html view, we get 500 http return code and error message like this:\r\n```\r\nERROR:(ID ***) java.lang.NullPointerException\r\n```\r\n\r\nWe have update nexus from version 3.19.1 to 3.47.1. After update, when we browse pypi repository in html view, some pypi modules return such error message, while other modules seem normal.\r\n\r\nWe have tried delete the module, and download this module from client again, hope to rebuild the index. But we failed, the question still exist.\r\n\r\nFinally we delete the pypi repository, and create new blob storage and pypi repository, and the question disapper.\r\nBut what&#39;s the really reason to cause such problem? Is the bug of new version of nexus?","title":"Access nexus repository in html view, return 500 code and java.lang.NullPointerException error","body":"<p>When access pypi nexus repository in html view, we get 500 http return code and error message like this:</p>\n<pre><code>ERROR:(ID ***) java.lang.NullPointerException\n</code></pre>\n<p>We have update nexus from version 3.19.1 to 3.47.1. After update, when we browse pypi repository in html view, some pypi modules return such error message, while other modules seem normal.</p>\n<p>We have tried delete the module, and download this module from client again, hope to rebuild the index. But we failed, the question still exist.</p>\n<p>Finally we delete the pypi repository, and create new blob storage and pypi repository, and the question disapper.\nBut what's the really reason to cause such problem? Is the bug of new version of nexus?</p>\n"},{"tags":["java","calculator","infix-notation"],"owner":{"account_id":23117333,"reputation":1,"user_id":17224333,"display_name":"Cody bandrowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684284178,"creation_date":1684217722,"question_id":76259872,"body_markdown":"My method works for `(2+2)*(3+3)` to `22+33+*`\r\nbut the issue is when I do `9/3*3` it goes to  `933+/` but needs to be `93/3*`\r\nneed it to work both ways but stuck\r\n\r\n\r\n\r\n\r\nI tired tracing output but when I try to adjust I end up ruining the original with ( ) to stop working\r\nsimple functions seem to trip up the whole thing and idk if it simple and I might be overlooking it staring at it too long\r\n\r\n\r\n\r\n\r\n\r\n     public String infixToPostfix(String textfield ) throws StackFullException, StackEmptyException{\r\n\t\t   String result=&quot;&quot;;\r\n\t\t   ArrayStack &lt;String&gt; operators = new ArrayStack&lt;String&gt;();\r\n\t\t   String postFix = &quot;3 2 * 1 5 * -&quot;;\r\n\t\t   String expression = textfield;\r\n\t\t   String delims = &quot;+-*/() &quot;;\r\n\t\t   StringTokenizer strToken = new StringTokenizer(expression, delims, true);\r\n\t\t  while(strToken.hasMoreTokens()){\r\n\t\t \tString token = strToken.nextToken();\r\n\t\t\tif (!delims.contains(token)) {\r\n\t\t\t\tSystem.out.println(token + &quot;pop &quot;);\r\n\t\t\t\tresult = result + token+&quot; &quot;;\r\n\t\t\t}\r\n\t\t\telse if(token.equals(&quot;(&quot;)){\r\n\t\toperators.push(token);\r\n\r\n\r\n\t\t\t}\r\n\t\t\telse if(token.equals(&quot;)&quot;)) {\r\n\t\t\t\twhile(!operators.peek().equals(&quot;(&quot;)) {\r\n\t\t\t\t\tString pop1 = operators.pop();\r\n\t\t\t\t\tSystem.out.println(pop1+&quot;&quot;);\r\n\t\t\t\t\tresult = result + pop1+&quot; &quot;;\r\n\t\t\t\t}\r\n\t\t\t\tString pop2 = operators.pop();\r\n\t\t\t\tSystem.out.println(pop2);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t}\r\n\t\t\telse if (delims.contains(token)) {\r\n\t\t\t\tSystem.out.println(token +&quot;push&quot;);\r\n\t\t\t\t\r\n\r\n\t\t\t\tif(!operators.isEmpty()) {\r\n\r\n\t\t\t\t\tint newtoken =precedence(token);\r\n\r\n\t\t\t\t\tint peek = precedence(operators.peek());\r\n\t\t\t\t\tSystem.out.println(peek+ &quot; &lt;=&quot;+ newtoken);\r\n\r\n\t\t\t\t}\r\n\t\t\t\toperators.push(token);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t   while(!operators.isEmpty()) {\r\n\t\t\tString popl = operators.pop();\r\n\t\t\tSystem.out.println(popl);\r\n\r\n\t\t\tresult = result + popl;\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\t\t  return result;\r\n\r\n\t}\r\n\t     public  int precedence(String cc) {\r\n\t\tString base=cc;\r\n\t\tint num;\r\n\t\tif (base.equals(&quot;-&quot;)|| base.equals(&quot;+&quot;)) \r\n\t\t\tnum =1;\r\n\t\telse if (base.equals(&quot;*&quot;)|| base.equals(&quot;/&quot;)) \r\n\t\t\tnum=2;\r\n\t\telse if(base.equals(&quot;(&quot;)) \r\n\t\t\tnum =3;\r\n\t\telse \r\n\t\t\tnum=0;\r\n\t\treturn num;","title":"java calculator infix to postfix","body":"<p>My method works for <code>(2+2)*(3+3)</code> to <code>22+33+*</code>\nbut the issue is when I do <code>9/3*3</code> it goes to  <code>933+/</code> but needs to be <code>93/3*</code>\nneed it to work both ways but stuck</p>\n<p>I tired tracing output but when I try to adjust I end up ruining the original with ( ) to stop working\nsimple functions seem to trip up the whole thing and idk if it simple and I might be overlooking it staring at it too long</p>\n<pre><code> public String infixToPostfix(String textfield ) throws StackFullException, StackEmptyException{\n       String result=&quot;&quot;;\n       ArrayStack &lt;String&gt; operators = new ArrayStack&lt;String&gt;();\n       String postFix = &quot;3 2 * 1 5 * -&quot;;\n       String expression = textfield;\n       String delims = &quot;+-*/() &quot;;\n       StringTokenizer strToken = new StringTokenizer(expression, delims, true);\n      while(strToken.hasMoreTokens()){\n        String token = strToken.nextToken();\n        if (!delims.contains(token)) {\n            System.out.println(token + &quot;pop &quot;);\n            result = result + token+&quot; &quot;;\n        }\n        else if(token.equals(&quot;(&quot;)){\n    operators.push(token);\n\n\n        }\n        else if(token.equals(&quot;)&quot;)) {\n            while(!operators.peek().equals(&quot;(&quot;)) {\n                String pop1 = operators.pop();\n                System.out.println(pop1+&quot;&quot;);\n                result = result + pop1+&quot; &quot;;\n            }\n            String pop2 = operators.pop();\n            System.out.println(pop2);\n            \n            \n\n        }\n        else if (delims.contains(token)) {\n            System.out.println(token +&quot;push&quot;);\n            \n\n            if(!operators.isEmpty()) {\n\n                int newtoken =precedence(token);\n\n                int peek = precedence(operators.peek());\n                System.out.println(peek+ &quot; &lt;=&quot;+ newtoken);\n\n            }\n            operators.push(token);\n        }\n    }\n\n       while(!operators.isEmpty()) {\n        String popl = operators.pop();\n        System.out.println(popl);\n\n        result = result + popl;\n    }\n\n\n\n\n      return result;\n\n}\n     public  int precedence(String cc) {\n    String base=cc;\n    int num;\n    if (base.equals(&quot;-&quot;)|| base.equals(&quot;+&quot;)) \n        num =1;\n    else if (base.equals(&quot;*&quot;)|| base.equals(&quot;/&quot;)) \n        num=2;\n    else if(base.equals(&quot;(&quot;)) \n        num =3;\n    else \n        num=0;\n    return num;\n</code></pre>\n"},{"tags":["java","android","android-studio","android-permissions"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1684226864,"post_id":76258370,"comment_id":134483001,"body_markdown":"All works as before. The only thing is that you should not ask this permission at runtime for Android 13 devices.","body":"All works as before. The only thing is that you should not ask this permission at runtime for Android 13 devices."}],"answers":[{"tags":[],"owner":{"account_id":2262457,"reputation":672,"user_id":1992152,"accept_rate":80,"display_name":"Juanjo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684192215,"creation_date":1684191497,"answer_id":76258402,"question_id":76258370,"body_markdown":"You need to setup the permission beforehand in the android manifest file with the `&lt;uses-permission&gt;` and maybe `&lt;uses-feature&gt;` if you need to access external storage. \r\n\r\nAlso, Android have moved to Kotlin and Jetpack / Jetpack Compose. Legacy code will work... but things are quite different now. Specially with permissions. You don&#39;t request them anymore. You announce them in the Android Manifest file. Also, Android limits the maximum Android Version that is *allowed* to write to external storage. So the Manifest file needs to call a tool:\r\n\r\n```\r\n&lt;uses-permission\r\n  android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n  tools:remove=&quot;android:maxSdkVersion&quot; /&gt;\r\n```","title":"How do I get READ_EXTERNAL_STORAGE runtime permission to work for my app in android studio?","body":"<p>You need to setup the permission beforehand in the android manifest file with the <code>&lt;uses-permission&gt;</code> and maybe <code>&lt;uses-feature&gt;</code> if you need to access external storage.</p>\n<p>Also, Android have moved to Kotlin and Jetpack / Jetpack Compose. Legacy code will work... but things are quite different now. Specially with permissions. You don't request them anymore. You announce them in the Android Manifest file. Also, Android limits the maximum Android Version that is <em>allowed</em> to write to external storage. So the Manifest file needs to call a tool:</p>\n<pre><code>&lt;uses-permission\n  android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n  tools:remove=&quot;android:maxSdkVersion&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5849714,"reputation":92,"user_id":5362509,"display_name":"Lakshmi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684209694,"creation_date":1684209694,"answer_id":76259315,"question_id":76258370,"body_markdown":"The right way would be to have\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\nin the manifest file. Sometimes you need, \r\n\r\n    android:requestLegacyExternalStorage=&quot;true&quot; \r\n\r\nalso in the manifest file.\r\n\r\nAlso,\r\n\r\n    ActivityCompat.requestPermissions(this,\r\n                new String[] {Manifest.permission.READ_EXTERNAL_STORAGE},\r\n                PackageManager.PERMISSION_GRANTED);\r\n\r\nin the java file.","title":"How do I get READ_EXTERNAL_STORAGE runtime permission to work for my app in android studio?","body":"<p>The right way would be to have</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>in the manifest file. Sometimes you need,</p>\n<pre><code>android:requestLegacyExternalStorage=&quot;true&quot; \n</code></pre>\n<p>also in the manifest file.</p>\n<p>Also,</p>\n<pre><code>ActivityCompat.requestPermissions(this,\n            new String[] {Manifest.permission.READ_EXTERNAL_STORAGE},\n            PackageManager.PERMISSION_GRANTED);\n</code></pre>\n<p>in the java file.</p>\n"},{"tags":[],"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684222436,"creation_date":1684222436,"answer_id":76260390,"question_id":76258370,"body_markdown":"From [here][1]\r\n\r\n&gt;Note: Starting in API level 33, this permission has no effect. If your app accesses other apps&#39; media files, request one or more of these permissions instead: READ_MEDIA_IMAGES, READ_MEDIA_VIDEO, READ_MEDIA_AUDIO. Learn more about the [storage permissions][2] that are associated with media files.\r\n\r\n```xml\r\n&lt;!-- Required only if your app needs to access images or photos\r\n     that other apps created. --&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;\r\n\r\n&lt;!-- Required only if your app needs to access videos\r\n     that other apps created. --&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot; /&gt;\r\n\r\n&lt;!-- Required only if your app needs to access audio files\r\n     that other apps created. --&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot; /&gt;\r\n\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n                 android:maxSdkVersion=&quot;29&quot; /&gt;\r\n```\r\n\r\n  [1]: https://developer.android.com/reference/android/Manifest.permission#READ_EXTERNAL_STORAGE\r\n  [2]: https://developer.android.com/training/data-storage/shared/media#storage-permission","title":"How do I get READ_EXTERNAL_STORAGE runtime permission to work for my app in android studio?","body":"<p>From <a href=\"https://developer.android.com/reference/android/Manifest.permission#READ_EXTERNAL_STORAGE\" rel=\"nofollow noreferrer\">here</a></p>\n<blockquote>\n<p>Note: Starting in API level 33, this permission has no effect. If your app accesses other apps' media files, request one or more of these permissions instead: READ_MEDIA_IMAGES, READ_MEDIA_VIDEO, READ_MEDIA_AUDIO. Learn more about the <a href=\"https://developer.android.com/training/data-storage/shared/media#storage-permission\" rel=\"nofollow noreferrer\">storage permissions</a> that are associated with media files.</p>\n</blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Required only if your app needs to access images or photos\n     that other apps created. --&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;\n\n&lt;!-- Required only if your app needs to access videos\n     that other apps created. --&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot; /&gt;\n\n&lt;!-- Required only if your app needs to access audio files\n     that other apps created. --&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n                 android:maxSdkVersion=&quot;29&quot; /&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27471919,"reputation":57,"user_id":20960654,"display_name":"Marfog509"},"score":0,"creation_date":1684246056,"post_id":76260501,"comment_id":134487809,"body_markdown":"the code for Activity.java has multiple problem, onRequestPermissionsResult has an error its reccommended to have a super call, grantResults[0] == PackageManager.PERMISSION_GRANTED;) is not a statement and &quot;else&quot; has no &quot;if&quot;","body":"the code for Activity.java has multiple problem, onRequestPermissionsResult has an error its reccommended to have a super call, grantResults[0] == PackageManager.PERMISSION_GRANTED;) is not a statement and &quot;else&quot; has no &quot;if&quot;"},{"owner":{"account_id":28020964,"reputation":1207,"user_id":21401783,"display_name":"Dinux"},"score":0,"creation_date":1684259423,"post_id":76260501,"comment_id":134491261,"body_markdown":"@Marfog509 I have edited my answer. Pls check. However, there isn&#39;t any `else` statement without an `if` statement.","body":"@Marfog509 I have edited my answer. Pls check. However, there isn&#39;t any <code>else</code> statement without an <code>if</code> statement."}],"tags":[],"owner":{"account_id":28020964,"reputation":1207,"user_id":21401783,"display_name":"Dinux"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684259352,"creation_date":1684223170,"answer_id":76260501,"question_id":76258370,"body_markdown":"To ask for the `READ_EXTERNAL_STORAGE` permission to the user, first you need to add the permission in your manifest file like below:\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n```\r\n\r\nThen in your `Activity.java` file, you need to add the following code:\r\n```\r\npublic class Activity extends AppCompatActivity {\r\n    //Create a request code\r\n    public static final int REQUEST_PERMISSION_CODE = 1;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity);\r\n\r\n        //Check if permission has been granted\r\n        if (checkPermissions()) {\r\n            //Your code\r\n        }\r\n        //Otherwise request permission \r\n        else {\r\n            requestPermissions();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch (requestCode) {\r\n            case REQUEST_PERMISSION_CODE:\r\n                if (grantResults.length &gt; 0) {\r\n                    if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                        Toast.makeText(getApplicationContext(), &quot;Permission granted&quot;, Toast.LENGTH_LONG).show();\r\n                    } \r\n                    else {\r\n                        Toast.makeText(getApplicationContext(), &quot;Permission denied&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    public boolean checkPermissions() {\r\n        int result = ContextCompat.checkSelfPermission(getApplicationContext(), READ_EXTERNAL_STORAGE);\r\n        return result == PackageManager.PERMISSION_GRANTED;\r\n    }\r\n\r\n    private void requestPermissions() {\r\n        ActivityCompat.requestPermissions(Activity.this, new String[]{READ_EXTERNAL_STORAGE}, REQUEST_PERMISSION_CODE);\r\n    }\r\n}\r\n```\r\nYou also need to add the following import:\r\n```\r\nimport static android.Manifest.permission.READ_EXTERNAL_STORAGE;\r\n```","title":"How do I get READ_EXTERNAL_STORAGE runtime permission to work for my app in android studio?","body":"<p>To ask for the <code>READ_EXTERNAL_STORAGE</code> permission to the user, first you need to add the permission in your manifest file like below:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n</code></pre>\n<p>Then in your <code>Activity.java</code> file, you need to add the following code:</p>\n<pre><code>public class Activity extends AppCompatActivity {\n    //Create a request code\n    public static final int REQUEST_PERMISSION_CODE = 1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity);\n\n        //Check if permission has been granted\n        if (checkPermissions()) {\n            //Your code\n        }\n        //Otherwise request permission \n        else {\n            requestPermissions();\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        switch (requestCode) {\n            case REQUEST_PERMISSION_CODE:\n                if (grantResults.length &gt; 0) {\n                    if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                        Toast.makeText(getApplicationContext(), &quot;Permission granted&quot;, Toast.LENGTH_LONG).show();\n                    } \n                    else {\n                        Toast.makeText(getApplicationContext(), &quot;Permission denied&quot;, Toast.LENGTH_LONG).show();\n                    }\n                }\n                break;\n        }\n    }\n\n    public boolean checkPermissions() {\n        int result = ContextCompat.checkSelfPermission(getApplicationContext(), READ_EXTERNAL_STORAGE);\n        return result == PackageManager.PERMISSION_GRANTED;\n    }\n\n    private void requestPermissions() {\n        ActivityCompat.requestPermissions(Activity.this, new String[]{READ_EXTERNAL_STORAGE}, REQUEST_PERMISSION_CODE);\n    }\n}\n</code></pre>\n<p>You also need to add the following import:</p>\n<pre><code>import static android.Manifest.permission.READ_EXTERNAL_STORAGE;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27471919,"reputation":57,"user_id":20960654,"display_name":"Marfog509"},"score":0,"creation_date":1684246145,"post_id":76262179,"comment_id":134487839,"body_markdown":"I only need permission to read pdf files. What is the specific code for this in MainActivity.java?","body":"I only need permission to read pdf files. What is the specific code for this in MainActivity.java?"},{"owner":{"account_id":25747617,"reputation":58,"user_id":19500625,"display_name":"Mohan Raj"},"score":0,"creation_date":1684246569,"post_id":76262179,"comment_id":134487958,"body_markdown":"`&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n` This will be permission to access the files in your android device","body":"<code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;&#47;&gt; </code> This will be permission to access the files in your android device"}],"tags":[],"owner":{"account_id":25747617,"reputation":58,"user_id":19500625,"display_name":"Mohan Raj"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684234352,"creation_date":1684234318,"answer_id":76262179,"question_id":76258370,"body_markdown":"Please use this snippet to include the external storage permission \r\n\r\n   \r\n\r\n         if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU){\r\n            arrayOf(\r\n               Manifest.permission.READ_MEDIA_IMAGES,\r\n               Manifest.permission.READ_MEDIA_VIDEO,\r\n               Manifest.permission.READ_MEDIA_AUDIO\r\n            ) \r\n          }\r\n          else {\r\n            arrayOf(\r\n             Manifest.permission.WRITE_EXTERNAL_STORAGE,\r\n             Manifest.permission.READ_EXTERNAL_STORAGE\r\n            )\r\n          }\r\n\r\nThis will be safe when it comes to the new android API.","title":"How do I get READ_EXTERNAL_STORAGE runtime permission to work for my app in android studio?","body":"<p>Please use this snippet to include the external storage permission</p>\n<pre><code>     if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU){\n        arrayOf(\n           Manifest.permission.READ_MEDIA_IMAGES,\n           Manifest.permission.READ_MEDIA_VIDEO,\n           Manifest.permission.READ_MEDIA_AUDIO\n        ) \n      }\n      else {\n        arrayOf(\n         Manifest.permission.WRITE_EXTERNAL_STORAGE,\n         Manifest.permission.READ_EXTERNAL_STORAGE\n        )\n      }\n</code></pre>\n<p>This will be safe when it comes to the new android API.</p>\n"},{"tags":[],"owner":{"account_id":17628023,"reputation":1,"user_id":12792705,"display_name":"HASSNA AIT-ALI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684284054,"creation_date":1684284054,"answer_id":76267889,"question_id":76258370,"body_markdown":"Step1: add permission on android manifest.xml:\r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;`\r\n\r\nStep2: check for a permission and to request a permission from the user when necessary:\r\n\r\n    if(ContextCompat.checkSelfPermission(Manifest.permission.READ_EXTERNAL_STORAGE)!= PackageManager.PERMISSION_GRANTED) {\r\n    // Should we show an explanation?\r\n    if (shouldShowRequestPermissionRationale(\r\n            Manifest.permission.READ_EXTERNAL_STORAGE)) {\r\n     \r\n    }\r\n\r\n    requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},\r\n            MY_PERMISSIONS_REQUEST_READ_EXTERNAL_STORAGE);\r\n\r\n    return;\r\n}\r\n\r\n\r\n\r\nStep3: Callback\r\n\r\n    public void onRequestPermissionsResult(final int requestCode, @NonNull final String[] permissions, @NonNull final int[] grantResults) {\r\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    if (requestCode == REQUEST_PERMISSION) {\r\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n            // Permission granted.\r\n        } else {\r\n            //  Permission Refused.\r\n        }\r\n    }\r\n    }\r\n\r\n\r\n","title":"How do I get READ_EXTERNAL_STORAGE runtime permission to work for my app in android studio?","body":"<p>Step1: add permission on android manifest.xml:</p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;</code></p>\n<p>Step2: check for a permission and to request a permission from the user when necessary:</p>\n<pre><code>if(ContextCompat.checkSelfPermission(Manifest.permission.READ_EXTERNAL_STORAGE)!= PackageManager.PERMISSION_GRANTED) {\n// Should we show an explanation?\nif (shouldShowRequestPermissionRationale(\n        Manifest.permission.READ_EXTERNAL_STORAGE)) {\n \n}\n\nrequestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},\n        MY_PERMISSIONS_REQUEST_READ_EXTERNAL_STORAGE);\n\nreturn;\n</code></pre>\n<p>}</p>\n<p>Step3: Callback</p>\n<pre><code>public void onRequestPermissionsResult(final int requestCode, @NonNull final String[] permissions, @NonNull final int[] grantResults) {\nsuper.onRequestPermissionsResult(requestCode, permissions, grantResults);\nif (requestCode == REQUEST_PERMISSION) {\n    if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n        // Permission granted.\n    } else {\n        //  Permission Refused.\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":27471919,"reputation":57,"user_id":20960654,"display_name":"Marfog509"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1684284054,"creation_date":1684191008,"question_id":76258370,"body_markdown":"I am trying to add in code to ask for permission in runtime to user for read_external_storage, I used in the past dexter implementation in my build gradle file and added the code in my MainActivity.java but this doesn&#39;t work anymore. Does anyone know what the current and most up to date method for asking for runtime permission for read_external_storage in android studio for sdks between 21 to 32?","title":"How do I get READ_EXTERNAL_STORAGE runtime permission to work for my app in android studio?","body":"<p>I am trying to add in code to ask for permission in runtime to user for read_external_storage, I used in the past dexter implementation in my build gradle file and added the code in my MainActivity.java but this doesn't work anymore. Does anyone know what the current and most up to date method for asking for runtime permission for read_external_storage in android studio for sdks between 21 to 32?</p>\n"},{"tags":["java","csv","enums","opencsv","enumset"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":3,"creation_date":1683214980,"post_id":76174967,"comment_id":134335785,"body_markdown":"Why do you want to use an enum for this? Why not a collection of Java records, or beans? I see you &quot;don&#39;t want to&quot;, but why not?","body":"Why do you want to use an enum for this? Why not a collection of Java records, or beans? I see you &quot;don&#39;t want to&quot;, but why not?"},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":2,"creation_date":1683214990,"post_id":76174967,"comment_id":134335790,"body_markdown":"An enum of 50000 items?  Can you explain why you want something like this?  This really looks better suited for a database table.  This is not something I&#39;d use an enum for.","body":"An enum of 50000 items?  Can you explain why you want something like this?  This really looks better suited for a database table.  This is not something I&#39;d use an enum for."},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":1,"creation_date":1683215976,"post_id":76174967,"comment_id":134336028,"body_markdown":"Enums are specifically for naming the object instances for use in code so unless you are directly accessing each enum by it&#39;s enum name directly from code, you don&#39;t want an enum, you just want a collection of objects, an array or a hash.  You may want to load this collection from your original csv file at runtime, no need to pre-process it into code or anything.","body":"Enums are specifically for naming the object instances for use in code so unless you are directly accessing each enum by it&#39;s enum name directly from code, you don&#39;t want an enum, you just want a collection of objects, an array or a hash.  You may want to load this collection from your original csv file at runtime, no need to pre-process it into code or anything."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1683216016,"post_id":76174967,"comment_id":134336039,"body_markdown":"`Ville` should be a class, not an `enum`","body":"<code>Ville</code> should be a class, not an <code>enum</code>"},{"owner":{"account_id":28506543,"reputation":3,"user_id":21817135,"display_name":"Apage"},"score":0,"creation_date":1683238200,"post_id":76174967,"comment_id":134340504,"body_markdown":"This exercise takes place in a bigger one, in which I have to compare which one works better between the HashSet and the EnumSet. This is why I &quot;absolutly&quot; need the EnumSet","body":"This exercise takes place in a bigger one, in which I have to compare which one works better between the HashSet and the EnumSet. This is why I &quot;absolutly&quot; need the EnumSet"}],"answers":[{"comments":[{"owner":{"account_id":28506543,"reputation":3,"user_id":21817135,"display_name":"Apage"},"score":0,"creation_date":1683237610,"post_id":76175166,"comment_id":134340434,"body_markdown":"Well the big picture of my exercise is to compare the performances between the HashSet and the EnumSet. The HashSet works with datas from csv. But I am stuck with the EnumSet, I don&#39;t know how to import the datas from the csv to the EnumSet","body":"Well the big picture of my exercise is to compare the performances between the HashSet and the EnumSet. The HashSet works with datas from csv. But I am stuck with the EnumSet, I don&#39;t know how to import the datas from the csv to the EnumSet"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1683243726,"post_id":76175166,"comment_id":134341266,"body_markdown":"@Apage HashSet and EnumSet serve two different purposes. Comparing them for performance does not make sense. If you have enum objects, an `EnumSet` will be faster; that’s why it exists, for the benefits of a [bit array](https://en.wikipedia.org/wiki/Bit_array). (And a `EnumSet` takes little memory.) But if enums are not an appropriate solution, as seen in your situation, the performance difference is irrelevant.","body":"@Apage HashSet and EnumSet serve two different purposes. Comparing them for performance does not make sense. If you have enum objects, an <code>EnumSet</code> will be faster; that’s why it exists, for the benefits of a <a href=\"https://en.wikipedia.org/wiki/Bit_array\" rel=\"nofollow noreferrer\">bit array</a>. (And a <code>EnumSet</code> takes little memory.) But if enums are not an appropriate solution, as seen in your situation, the performance difference is irrelevant."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684282783,"creation_date":1683216240,"answer_id":76175166,"question_id":76174967,"body_markdown":"# Enum not appropriate to your needs\r\n\r\nAn enum is meant to represent a small set of values known at compile-time. The names of these values are meant to be used within your source code, as discussed in the correct [Answer by Bill K][1].\r\n\r\nThat does not match your situation. \r\n\r\nYou have a large number of values loaded at runtime. Representing such values is the purpose of a custom class. Grouping objects of your custom class is the purpose of the [Java Collections Framework][2] with lists, sets, queues, maps, and such. \r\n\r\n\r\n## `record`\r\n\r\nIf the main purpose of your custom class is to communicate data transparently and immutably, define your class as a [record][3]. The compiler implicitly creates the constructor, getters, `equals` &amp; `hashCode`, and `toString`. \r\n\r\n    record Ville (String pays, String codePostal, String nom, String region, String departement, String numDepartement, String prefecture, String codeCommune, String latitude, String longitude) {}\r\n\r\nBy the way, know that as of Java 16 a record can be defined locally within a method, or nested within a class, or separately. (Ditto for enums and interfaces.)\r\n\r\nAs your CSV library imports each row of input, instantiate an object of your record class. Add to a collection object, likely an implementation of `List`. You may choose to instead use a [`NavigableSet`][4]/`SortedSet` after implementing the [`Comparable`][5] interface. In Java 21+, see [`SequencedSet`][6].\r\n\r\nIf your inputs were to change during runtime, you can replace the collection of objects with fresh ones based on another data import.  With enums, you can change the value of any member fields, but you cannot add or remove the named enum objects at runtime. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76175199/642706\r\n  [2]: https://en.wikipedia.org/wiki/Java_collections_framework\r\n  [3]: https://openjdk.org/jeps/395\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html\r\n  [5]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Comparable.html\r\n  [6]: https://openjdk.org/jeps/431","title":"Generate enum from CSV file","body":"<h1>Enum not appropriate to your needs</h1>\n<p>An enum is meant to represent a small set of values known at compile-time. The names of these values are meant to be used within your source code, as discussed in the correct <a href=\"https://stackoverflow.com/a/76175199/642706\">Answer by Bill K</a>.</p>\n<p>That does not match your situation.</p>\n<p>You have a large number of values loaded at runtime. Representing such values is the purpose of a custom class. Grouping objects of your custom class is the purpose of the <a href=\"https://en.wikipedia.org/wiki/Java_collections_framework\" rel=\"nofollow noreferrer\">Java Collections Framework</a> with lists, sets, queues, maps, and such.</p>\n<h2><code>record</code></h2>\n<p>If the main purpose of your custom class is to communicate data transparently and immutably, define your class as a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>. The compiler implicitly creates the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>.</p>\n<pre><code>record Ville (String pays, String codePostal, String nom, String region, String departement, String numDepartement, String prefecture, String codeCommune, String latitude, String longitude) {}\n</code></pre>\n<p>By the way, know that as of Java 16 a record can be defined locally within a method, or nested within a class, or separately. (Ditto for enums and interfaces.)</p>\n<p>As your CSV library imports each row of input, instantiate an object of your record class. Add to a collection object, likely an implementation of <code>List</code>. You may choose to instead use a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html\" rel=\"nofollow noreferrer\"><code>NavigableSet</code></a>/<code>SortedSet</code> after implementing the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a> interface. In Java 21+, see <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\"><code>SequencedSet</code></a>.</p>\n<p>If your inputs were to change during runtime, you can replace the collection of objects with fresh ones based on another data import.  With enums, you can change the value of any member fields, but you cannot add or remove the named enum objects at runtime.</p>\n"},{"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1683232995,"post_id":76175199,"comment_id":134339657,"body_markdown":"Annotation Processors cannot *modify* source files, they can only create new source files that will be compile in a successive compilation cycle. Consequently, the pre-processor is the better option here.","body":"Annotation Processors cannot <i>modify</i> source files, they can only create new source files that will be compile in a successive compilation cycle. Consequently, the pre-processor is the better option here."},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":0,"creation_date":1683563013,"post_id":76175199,"comment_id":134382187,"body_markdown":"@tquadrat I&#39;ll admit I&#39;ve only reviewed the annotation processors and not actually made code using that compile step so I&#39;ll have to look again--but I&#39;m pretty sure there is a way to make the annotaiton processor work even if it involves adding a few text files with the pre and post text and generating your source file from scratch.  The advantage, however, of having your IDE be able to use it immideatly as a java source file is immense.","body":"@tquadrat I&#39;ll admit I&#39;ve only reviewed the annotation processors and not actually made code using that compile step so I&#39;ll have to look again--but I&#39;m pretty sure there is a way to make the annotaiton processor work even if it involves adding a few text files with the pre and post text and generating your source file from scratch.  The advantage, however, of having your IDE be able to use it immideatly as a java source file is immense."}],"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1683218289,"creation_date":1683216357,"answer_id":76175199,"question_id":76174967,"body_markdown":"Although you absolutely would not use an enum for this, but there actually is a valid use case so It&#39;s worth an answer in case anyone else comes here.\r\n\r\nThe actual direct answer to your question is that you would want to generate the code for the enum progmatically. One way (the wrong way) is to just write a pre-compiler to build the file manually by emitting the beginning of the class as a constant string, the repeated lines for each group of data from the csv file and then the end of the class as another constant string.  This pre-compiler is called by your buildfile before launching the actual java compiler.\r\n\r\nThis has problems--it will require a pre-compile step and will probably not integrate with your IDE.\r\n\r\nThe more correct way to do it would be to create an annotation processor.  Annotations can be processed before your code is compiled and allows you to insert arbitrary code into the file.\r\n\r\nIf your annotation was inside the enum, your Annotation Processor could just emit the lines like this:\r\n\r\n    Paris(&quot;FR&quot;, &quot;75000&quot;, &quot;Paris&quot;, &quot;Ile de France&quot;, &quot;Paris&quot;, &quot;75&quot;, &quot;Paris&quot;, &quot;751&quot;, &quot;48.8534&quot;, &quot;2.3488&quot;),\r\n\r\nand the rest of the file would be an actual java classfile contining an annotation that causes your Processor to be called.\r\n\r\nThe annotation processor is passed to the java compiler via a command line switch like &quot;javac -processor (fullClassName)&quot;.\r\n\r\nThe nice thing about doing it this way is that you can tell the IDE that this is an annotation processor and it will ensure that adding a record to your CSV file makes the enum immideately available.  It also prevents a temporary source file from being generated (Those almost always lead to trouble as people try to edit them by hand or something)","title":"Generate enum from CSV file","body":"<p>Although you absolutely would not use an enum for this, but there actually is a valid use case so It's worth an answer in case anyone else comes here.</p>\n<p>The actual direct answer to your question is that you would want to generate the code for the enum progmatically. One way (the wrong way) is to just write a pre-compiler to build the file manually by emitting the beginning of the class as a constant string, the repeated lines for each group of data from the csv file and then the end of the class as another constant string.  This pre-compiler is called by your buildfile before launching the actual java compiler.</p>\n<p>This has problems--it will require a pre-compile step and will probably not integrate with your IDE.</p>\n<p>The more correct way to do it would be to create an annotation processor.  Annotations can be processed before your code is compiled and allows you to insert arbitrary code into the file.</p>\n<p>If your annotation was inside the enum, your Annotation Processor could just emit the lines like this:</p>\n<pre><code>Paris(&quot;FR&quot;, &quot;75000&quot;, &quot;Paris&quot;, &quot;Ile de France&quot;, &quot;Paris&quot;, &quot;75&quot;, &quot;Paris&quot;, &quot;751&quot;, &quot;48.8534&quot;, &quot;2.3488&quot;),\n</code></pre>\n<p>and the rest of the file would be an actual java classfile contining an annotation that causes your Processor to be called.</p>\n<p>The annotation processor is passed to the java compiler via a command line switch like &quot;javac -processor (fullClassName)&quot;.</p>\n<p>The nice thing about doing it this way is that you can tell the IDE that this is an annotation processor and it will ensure that adding a record to your CSV file makes the enum immideately available.  It also prevents a temporary source file from being generated (Those almost always lead to trouble as people try to edit them by hand or something)</p>\n"}],"owner":{"account_id":28506543,"reputation":3,"user_id":21817135,"display_name":"Apage"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76175166,"answer_count":2,"score":0,"last_activity_date":1684282783,"creation_date":1683214802,"question_id":76174967,"body_markdown":"My goal is to to generate an enum in order to create an EnumSet. This part works if I write the enum. Instead of writing an enum of 50000 lines, I would like to import the 50000 rows CSV. The trouble starts when I try to replace the enum I wrote by the the CSV import.\r\n```java\r\npackage VilleEnumSet;\r\n\r\npublic class VilleEnumSet {\r\n\t\r\n\t\r\n\t//ENUM SANS CSV\r\n\tenum Ville {\r\n\t\tParis(&quot;FR&quot;, &quot;75000&quot;, &quot;Paris&quot;, &quot;Ile de France&quot;, &quot;Paris&quot;, &quot;75&quot;, &quot;Paris&quot;, &quot;751&quot;, &quot;48.8534&quot;, &quot;2.3488&quot;),\r\n\t\tLyon(&quot;FR&quot;, &quot;69000&quot;, &quot;Lyon&quot;, &quot;Auvergne-Rhone-Alpes&quot;, &quot;Rhone&quot;, &quot;69&quot;, &quot;Lyon&quot;, &quot;691&quot;, &quot;45.7485&quot;, &quot;4.8467&quot;),\r\n\t\tMarseille(&quot;FR&quot;, &quot;13000&quot;, &quot;Marseille&quot;, &quot;Provence-Alpes-Cote d&#39;Azure&quot;, &quot;Bouches-du-Rhone&quot;, &quot;13&quot;, &quot;Marseille&quot;, &quot;133&quot;, &quot;43.2969&quot;, &quot;5.3811&quot;),\r\n\t\tMontpellier(&quot;FR&quot;, &quot;34000&quot;, &quot;Montpellier&quot;, &quot;Occitanie&quot;, &quot;Herault&quot;, &quot;34&quot;, &quot;Montpellier&quot;, &quot;343&quot;, &quot;43.6109&quot;, &quot;3.8764&quot;);\r\n\t\r\n\t\t\r\n\t//ATTRIBUTS\r\n\tprivate final String pays;\r\n\tprivate final String codePostal;\r\n\tprivate final String nom;\r\n\tprivate final String region;\r\n\tprivate final String departement;\r\n\tprivate final String numDepartement;\r\n\tprivate final String prefecture;\r\n\tprivate final String codeCommune;\r\n\tprivate final String latitude;\r\n\tprivate final String longitude;\r\n\t\r\n\t\r\n\r\n\t//CONSTRUCTEUR\r\n\tprivate Ville(String pays, String codePostal, String nom, String region, String departement, String numDepartement,\r\n\t\t\tString prefecture, String codeCommune, String latitude, String longitude) {\r\n\t\tthis.pays = pays;\r\n\t\tthis.codePostal = codePostal;\r\n\t\tthis.nom = nom;\r\n\t\tthis.region = region;\r\n\t\tthis.departement = departement;\r\n\t\tthis.numDepartement = numDepartement;\r\n\t\tthis.prefecture = prefecture;\r\n\t\tthis.codeCommune = codeCommune;\r\n\t\tthis.latitude = latitude;\r\n\t\tthis.longitude = longitude;\r\n\t}\r\n\r\n\t\r\n\t//GETTERS\r\n\tpublic String getPays() {\r\n\t\treturn pays;\r\n\t}\r\n\r\n\tpublic String getCodePostal() {\r\n\t\treturn codePostal;\r\n\t}\r\n\r\n\tpublic String getNom() {\r\n\t\treturn nom;\r\n\t}\r\n\r\n\tpublic String getRegion() {\r\n\t\treturn region;\r\n\t}\r\n\r\n\tpublic String getDepartement() {\r\n\t\treturn departement;\r\n\t}\r\n\r\n\tpublic String getNumDeprtement() {\r\n\t\treturn numDepartement;\r\n\t}\r\n\r\n\tpublic String getPrefecture() {\r\n\t\treturn prefecture;\r\n\t}\r\n\r\n\tpublic String getCodeCommune() {\r\n\t\treturn codeCommune;\r\n\t}\r\n\r\n\tpublic String getLatitude() {\r\n\t\treturn latitude;\r\n\t}\r\n\r\n\tpublic String getLongitude() {\r\n\t\treturn longitude;\r\n\t}\r\n\t\r\n\t\r\n\t//TOSTRING\r\n\tpublic String toString() {\r\n\t    return String.format(&quot;%-40s%-10s\\n&quot;, &quot;Pays: &quot; + pays, &quot;Code Postal: &quot; + codePostal) \r\n\t            + String.format(&quot;%-40s%-10s\\n&quot;, &quot;Nom: &quot; + nom, &quot;Region: &quot; + region) \r\n\t            + String.format(&quot;%-40s%-10s\\n&quot;, &quot;Departement: &quot; + departement, &quot;Num Departement: &quot; + numDepartement)\r\n\t            + String.format(&quot;%-40s%-10s\\n&quot;, &quot;Prefecture: &quot; + prefecture, &quot;Code Commune: &quot; + codeCommune)\r\n\t            + String.format(&quot;%-40s%-10s\\n\\n&quot;, &quot;Latitude: &quot; + latitude, &quot;Longitude: &quot; + longitude);\r\n\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\npackage VilleEnumSet;\r\n\r\nimport java.util.EnumSet;\r\nimport java.util.Iterator;\r\n\r\nimport VilleEnumSet.VilleEnumSet.Ville;\r\n\r\npublic class MainVilleEnumSet {\r\n\t\r\npublic static void main(String[] args) {\r\n\t\t\r\n\t\t// Creating an EnumSet using allOf()\r\n\t\tEnumSet&lt;Ville&gt; villes = EnumSet.allOf(Ville.class);\r\n\t\t\r\n\t\t// Creating an iterator on games\r\n\t\tIterator&lt;Ville&gt; iterate = villes.iterator();\r\n\t\t\r\n\t\t// Message\r\n\t\tSystem.out.println(&quot;EnumSet: &quot; + &quot;\\n&quot;);\r\n\t\t\r\n\t\twhile (iterate.hasNext()) {\r\n\t\t\tSystem.out.println(iterate.next());\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nmy code returns this: \r\n```\r\nEnumSet: \r\n\r\nPays: FR                                Code Postal: 75000\r\nNom: Paris                              Region: Ile de France\r\nDepartement: Paris                      Num Departement: 75\r\nPrefecture: Paris                       Code Commune: 751\r\nLatitude: 48.8534                       Longitude: 2.3488\r\n\r\n\r\nPays: FR                                Code Postal: 69000\r\nNom: Lyon                               Region: Auvergne-Rhone-Alpes\r\nDepartement: Rhone                      Num Departement: 69\r\nPrefecture: Lyon                        Code Commune: 691\r\nLatitude: 45.7485                       Longitude: 4.8467\r\n```\r\n\r\n\r\nFor the CSV structure, each column corresponds to an attribute in the class &quot;VilleEnumSet&quot;.\r\n\r\n\r\nI have no idea what to do. I&#39;ve looked for help, but many suggest to switch to list which I don&#39;t want to.","title":"Generate enum from CSV file","body":"<p>My goal is to to generate an enum in order to create an EnumSet. This part works if I write the enum. Instead of writing an enum of 50000 lines, I would like to import the 50000 rows CSV. The trouble starts when I try to replace the enum I wrote by the the CSV import.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package VilleEnumSet;\n\npublic class VilleEnumSet {\n    \n    \n    //ENUM SANS CSV\n    enum Ville {\n        Paris(&quot;FR&quot;, &quot;75000&quot;, &quot;Paris&quot;, &quot;Ile de France&quot;, &quot;Paris&quot;, &quot;75&quot;, &quot;Paris&quot;, &quot;751&quot;, &quot;48.8534&quot;, &quot;2.3488&quot;),\n        Lyon(&quot;FR&quot;, &quot;69000&quot;, &quot;Lyon&quot;, &quot;Auvergne-Rhone-Alpes&quot;, &quot;Rhone&quot;, &quot;69&quot;, &quot;Lyon&quot;, &quot;691&quot;, &quot;45.7485&quot;, &quot;4.8467&quot;),\n        Marseille(&quot;FR&quot;, &quot;13000&quot;, &quot;Marseille&quot;, &quot;Provence-Alpes-Cote d'Azure&quot;, &quot;Bouches-du-Rhone&quot;, &quot;13&quot;, &quot;Marseille&quot;, &quot;133&quot;, &quot;43.2969&quot;, &quot;5.3811&quot;),\n        Montpellier(&quot;FR&quot;, &quot;34000&quot;, &quot;Montpellier&quot;, &quot;Occitanie&quot;, &quot;Herault&quot;, &quot;34&quot;, &quot;Montpellier&quot;, &quot;343&quot;, &quot;43.6109&quot;, &quot;3.8764&quot;);\n    \n        \n    //ATTRIBUTS\n    private final String pays;\n    private final String codePostal;\n    private final String nom;\n    private final String region;\n    private final String departement;\n    private final String numDepartement;\n    private final String prefecture;\n    private final String codeCommune;\n    private final String latitude;\n    private final String longitude;\n    \n    \n\n    //CONSTRUCTEUR\n    private Ville(String pays, String codePostal, String nom, String region, String departement, String numDepartement,\n            String prefecture, String codeCommune, String latitude, String longitude) {\n        this.pays = pays;\n        this.codePostal = codePostal;\n        this.nom = nom;\n        this.region = region;\n        this.departement = departement;\n        this.numDepartement = numDepartement;\n        this.prefecture = prefecture;\n        this.codeCommune = codeCommune;\n        this.latitude = latitude;\n        this.longitude = longitude;\n    }\n\n    \n    //GETTERS\n    public String getPays() {\n        return pays;\n    }\n\n    public String getCodePostal() {\n        return codePostal;\n    }\n\n    public String getNom() {\n        return nom;\n    }\n\n    public String getRegion() {\n        return region;\n    }\n\n    public String getDepartement() {\n        return departement;\n    }\n\n    public String getNumDeprtement() {\n        return numDepartement;\n    }\n\n    public String getPrefecture() {\n        return prefecture;\n    }\n\n    public String getCodeCommune() {\n        return codeCommune;\n    }\n\n    public String getLatitude() {\n        return latitude;\n    }\n\n    public String getLongitude() {\n        return longitude;\n    }\n    \n    \n    //TOSTRING\n    public String toString() {\n        return String.format(&quot;%-40s%-10s\\n&quot;, &quot;Pays: &quot; + pays, &quot;Code Postal: &quot; + codePostal) \n                + String.format(&quot;%-40s%-10s\\n&quot;, &quot;Nom: &quot; + nom, &quot;Region: &quot; + region) \n                + String.format(&quot;%-40s%-10s\\n&quot;, &quot;Departement: &quot; + departement, &quot;Num Departement: &quot; + numDepartement)\n                + String.format(&quot;%-40s%-10s\\n&quot;, &quot;Prefecture: &quot; + prefecture, &quot;Code Commune: &quot; + codeCommune)\n                + String.format(&quot;%-40s%-10s\\n\\n&quot;, &quot;Latitude: &quot; + latitude, &quot;Longitude: &quot; + longitude);\n    }\n    }\n\n}\n</code></pre>\n<pre><code>package VilleEnumSet;\n\nimport java.util.EnumSet;\nimport java.util.Iterator;\n\nimport VilleEnumSet.VilleEnumSet.Ville;\n\npublic class MainVilleEnumSet {\n    \npublic static void main(String[] args) {\n        \n        // Creating an EnumSet using allOf()\n        EnumSet&lt;Ville&gt; villes = EnumSet.allOf(Ville.class);\n        \n        // Creating an iterator on games\n        Iterator&lt;Ville&gt; iterate = villes.iterator();\n        \n        // Message\n        System.out.println(&quot;EnumSet: &quot; + &quot;\\n&quot;);\n        \n        while (iterate.hasNext()) {\n            System.out.println(iterate.next());\n        }\n    }\n\n}\n</code></pre>\n<p>my code returns this:</p>\n<pre><code>EnumSet: \n\nPays: FR                                Code Postal: 75000\nNom: Paris                              Region: Ile de France\nDepartement: Paris                      Num Departement: 75\nPrefecture: Paris                       Code Commune: 751\nLatitude: 48.8534                       Longitude: 2.3488\n\n\nPays: FR                                Code Postal: 69000\nNom: Lyon                               Region: Auvergne-Rhone-Alpes\nDepartement: Rhone                      Num Departement: 69\nPrefecture: Lyon                        Code Commune: 691\nLatitude: 45.7485                       Longitude: 4.8467\n</code></pre>\n<p>For the CSV structure, each column corresponds to an attribute in the class &quot;VilleEnumSet&quot;.</p>\n<p>I have no idea what to do. I've looked for help, but many suggest to switch to list which I don't want to.</p>\n"},{"tags":["javascript","java","selenium","selenium-webdriver","rest-assured-jsonpath"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1569881819,"post_id":49415256,"comment_id":102732493,"body_markdown":"I think Selenium only has access to the DOM, so you&#39;d need to do something sort of odd using javascript which would dirty your test case a bit.   The DOM should have everything that is being sent... HTML5 storage-cache included... but to get the headers, you&#39;d need to execute javascript.   One thing that seems possible here is to get into the framework the site is using and modify it to route/duplicate requests... so if they were using jQuery for instance, put hooks into the AJAX calls that return or write to the DOM the information you need.","body":"I think Selenium only has access to the DOM, so you&#39;d need to do something sort of odd using javascript which would dirty your test case a bit.   The DOM should have everything that is being sent... HTML5 storage-cache included... but to get the headers, you&#39;d need to execute javascript.   One thing that seems possible here is to get into the framework the site is using and modify it to route/duplicate requests... so if they were using jQuery for instance, put hooks into the AJAX calls that return or write to the DOM the information you need."}],"answers":[{"tags":[],"owner":{"account_id":1279679,"reputation":15503,"user_id":1234087,"display_name":"Mos&#232; Raguzzini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570098775,"creation_date":1570098775,"answer_id":58217270,"question_id":49415256,"body_markdown":"If you are using a library like Axios to make XHR calls, you can take advantage of *request interceptors* and *response interceptors* as middlewares to intercept and eventually log every XHR call with its response without relying on headless browsers interfaces.\r\n\r\n**Request example**\r\n\r\n    client.interceptors.request.use(\r\n      req =&gt; {\r\n         // req contains your request data \r\n      },\r\n      err =&gt; Promise.reject(err),\r\n    );\r\n\r\n**Response example**\r\n\r\n    client.interceptors.response.use(\r\n      response =&gt; response, // XHR Response\r\n      error =&gt; {\r\n        const originalRequest = error.config; // Error.config contains too the original request\r\n        // ...code\r\n      })\r\n\r\n","title":"Capture Network XHR logs(request/response with parameters) with Selenium","body":"<p>If you are using a library like Axios to make XHR calls, you can take advantage of <em>request interceptors</em> and <em>response interceptors</em> as middlewares to intercept and eventually log every XHR call with its response without relying on headless browsers interfaces.</p>\n\n<p><strong>Request example</strong></p>\n\n<pre><code>client.interceptors.request.use(\n  req =&gt; {\n     // req contains your request data \n  },\n  err =&gt; Promise.reject(err),\n);\n</code></pre>\n\n<p><strong>Response example</strong></p>\n\n<pre><code>client.interceptors.response.use(\n  response =&gt; response, // XHR Response\n  error =&gt; {\n    const originalRequest = error.config; // Error.config contains too the original request\n    // ...code\n  })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4872208,"reputation":1786,"user_id":3928295,"accept_rate":80,"display_name":"Manmohan_singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684282006,"creation_date":1570360335,"answer_id":58256675,"question_id":49415256,"body_markdown":"You can use [browsermobproxy][1]. \r\n\r\nFollowing code snippet captures all request and response logs.\r\n   \r\n\r\n        // start the proxy\r\n        BrowserMobProxy proxy = new BrowserMobProxyServer();\r\n        proxy.start(0);\r\n    \r\n        // get the Selenium proxy object\r\n        Proxy seleniumProxy = ClientUtil.createSeleniumProxy(proxy);\r\n    \r\n        // configure it as a desired capability\r\n        DesiredCapabilities capabilities = new DesiredCapabilities();\r\n        capabilities.setCapability(CapabilityType.PROXY, seleniumProxy);\r\n    \r\n        // start the browser up\r\n        WebDriver driver = new FirefoxDriver(capabilities);\r\n    \r\n        // enable more detailed HAR capture, if desired (see CaptureType for the complete list)\r\n        proxy.enableHarCaptureTypes(CaptureType.REQUEST_CONTENT, CaptureType.RESPONSE_CONTENT);\r\n    \r\n        // create a new HAR with the label &quot;yahoo.com&quot;\r\n        proxy.newHar(&quot;yahoo.com&quot;);\r\n    \r\n        // open yahoo.com\r\n        driver.get(&quot;http://yahoo.com&quot;);\r\n    \r\n        // get the HAR data\r\n        Har har = proxy.getHar();\r\n\r\nThe captured response can be viewed by any har viewer. \r\n\r\n[![HARReport][2]][2]\r\n\r\n\r\n  [1]: https://github.com/lightbody/browsermob-proxy\r\n  [2]: https://i.stack.imgur.com/JwYYh.jpg","title":"Capture Network XHR logs(request/response with parameters) with Selenium","body":"<p>You can use <a href=\"https://github.com/lightbody/browsermob-proxy\" rel=\"nofollow noreferrer\">browsermobproxy</a>.</p>\n<p>Following code snippet captures all request and response logs.</p>\n<pre><code>    // start the proxy\n    BrowserMobProxy proxy = new BrowserMobProxyServer();\n    proxy.start(0);\n\n    // get the Selenium proxy object\n    Proxy seleniumProxy = ClientUtil.createSeleniumProxy(proxy);\n\n    // configure it as a desired capability\n    DesiredCapabilities capabilities = new DesiredCapabilities();\n    capabilities.setCapability(CapabilityType.PROXY, seleniumProxy);\n\n    // start the browser up\n    WebDriver driver = new FirefoxDriver(capabilities);\n\n    // enable more detailed HAR capture, if desired (see CaptureType for the complete list)\n    proxy.enableHarCaptureTypes(CaptureType.REQUEST_CONTENT, CaptureType.RESPONSE_CONTENT);\n\n    // create a new HAR with the label &quot;yahoo.com&quot;\n    proxy.newHar(&quot;yahoo.com&quot;);\n\n    // open yahoo.com\n    driver.get(&quot;http://yahoo.com&quot;);\n\n    // get the HAR data\n    Har har = proxy.getHar();\n</code></pre>\n<p>The captured response can be viewed by any har viewer.</p>\n<p><a href=\"https://i.stack.imgur.com/JwYYh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JwYYh.jpg\" alt=\"HARReport\" /></a></p>\n"}],"owner":{"account_id":8246164,"reputation":186,"user_id":6202177,"accept_rate":0,"display_name":"Suresh Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13856,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1684282006,"creation_date":1521661347,"question_id":49415256,"body_markdown":"I tried to capture Network XHR logs (chrome browser) that generally shows Request(MethodType, Headers, parameters) and Response with Selenium webdriver but i was only able to get api&#39;s request that client sent to server(without parameter), while searching i found below code and it only provides me apis request:-\r\n\r\n    LogEntries logEntries = driver.manage().logs().get(LogType.BROWSER);\r\n              for (LogEntry entry : logEntries) {\r\n            \tSystem.out.println(new Date(entry.getTimestamp()) + &quot; &quot; + entry.getLevel() + &quot; &quot; + entry.getMessage())\r\n    }\r\nBut i want to get also all the parameters that sent by client(browser) to server and also response.\r\n*how the same feature will work for firefox.\r\n\r\nThanks in advance!!\r\n","title":"Capture Network XHR logs(request/response with parameters) with Selenium","body":"<p>I tried to capture Network XHR logs (chrome browser) that generally shows Request(MethodType, Headers, parameters) and Response with Selenium webdriver but i was only able to get api's request that client sent to server(without parameter), while searching i found below code and it only provides me apis request:-</p>\n\n<pre><code>LogEntries logEntries = driver.manage().logs().get(LogType.BROWSER);\n          for (LogEntry entry : logEntries) {\n            System.out.println(new Date(entry.getTimestamp()) + \" \" + entry.getLevel() + \" \" + entry.getMessage())\n}\n</code></pre>\n\n<p>But i want to get also all the parameters that sent by client(browser) to server and also response.\n*how the same feature will work for firefox.</p>\n\n<p>Thanks in advance!!</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"answers":[{"comments":[{"owner":{"account_id":11799233,"reputation":60,"user_id":8633311,"accept_rate":60,"display_name":"Karl Wolf"},"score":0,"creation_date":1507462319,"post_id":46630555,"comment_id":80210728,"body_markdown":"should I use the App signature certificate or the Uploadcertificate?","body":"should I use the App signature certificate or the Uploadcertificate?"},{"owner":{"account_id":1445477,"reputation":775,"user_id":1364138,"display_name":"merterpam"},"score":0,"creation_date":1507463527,"post_id":46630555,"comment_id":80210996,"body_markdown":"App signature certificate, upload certificate is the one you have uploaded and should be the same as the one in the Android Studio. After adding the key, it may take up several minutes for it to effect.","body":"App signature certificate, upload certificate is the one you have uploaded and should be the same as the one in the Android Studio. After adding the key, it may take up several minutes for it to effect."}],"tags":[],"owner":{"account_id":1445477,"reputation":775,"user_id":1364138,"display_name":"merterpam"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1507461838,"creation_date":1507461838,"answer_id":46630555,"question_id":46630300,"body_markdown":"I think you have two SHA-1 keys, one you use in Android Studio and one that is used when you upload the app to the Store. You can check the SHA-1 key with the keytool command:\r\n\r\nkeytool -list -v -keystore **keystorename** -alias **alias** -storepass **storepass** -keypass **keypass**\r\n\r\nAdditionally, if you have enabled App Signing, Google will create a new certificate which will be used to sign the APK on the user&#39;s device.\r\n\r\nhttps://support.google.com/googleplay/android-developer/answer/7384423\r\n\r\nIn the Release Management section, check App Signing. App Signing Certificate is the certificate sent to a user&#39;s device and Upload Certificate is the one you uploaded. Add the SHA-1 in the App Signing Certificate to your Firebase Project.","title":"Firebase Phone Authentication","body":"<p>I think you have two SHA-1 keys, one you use in Android Studio and one that is used when you upload the app to the Store. You can check the SHA-1 key with the keytool command:</p>\n\n<p>keytool -list -v -keystore <strong>keystorename</strong> -alias <strong>alias</strong> -storepass <strong>storepass</strong> -keypass <strong>keypass</strong></p>\n\n<p>Additionally, if you have enabled App Signing, Google will create a new certificate which will be used to sign the APK on the user's device.</p>\n\n<p><a href=\"https://support.google.com/googleplay/android-developer/answer/7384423\" rel=\"nofollow noreferrer\">https://support.google.com/googleplay/android-developer/answer/7384423</a></p>\n\n<p>In the Release Management section, check App Signing. App Signing Certificate is the certificate sent to a user's device and Upload Certificate is the one you uploaded. Add the SHA-1 in the App Signing Certificate to your Firebase Project.</p>\n"}],"owner":{"account_id":11799233,"reputation":60,"user_id":8633311,"accept_rate":60,"display_name":"Karl Wolf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46630555,"answer_count":1,"score":0,"last_activity_date":1684280632,"creation_date":1507460155,"question_id":46630300,"body_markdown":"I tried to build a messenger in which the user should be able to login via their phone number. I set up my project in Firebase with the correct SHA-1 code and the correct packagename. But when I try to verify my phone number, I am getting this error:\r\n\r\n&gt;This app is not authorized to use Firebase Authentication.  \r\nPlease verify that the correct package name and SHA-1 are configured in the Firebase Console. [App validation failed]\r\n\r\nWhen I start my App from Android Studio, it is working fine. But when I upload the App to the Google Play Store, it is **not** working. What am I doing wrong?\r\n\r\nI am starting the verification with this code: \r\n\r\n    startActivityForResult(\r\n                    AuthUI.getInstance()\r\n                            .createSignInIntentBuilder()\r\n                            .setAvailableProviders(\r\n                                    Arrays.asList(\r\n                                            new AuthUI.IdpConfig.Builder(AuthUI.PHONE_VERIFICATION_PROVIDER).build()\r\n                                    ))\r\n                            .build(),\r\n                    RC_SIGN_IN);\r\n\r\nI have this library for authentication:\r\n\r\n    compile &#39;com.google.firebase:firebase-auth:11.0.1&#39;\r\n\r\nand this for the UI:\r\n\r\n    compile &#39;com.firebaseui:firebase-ui:2.0.1&#39;","title":"Firebase Phone Authentication","body":"<p>I tried to build a messenger in which the user should be able to login via their phone number. I set up my project in Firebase with the correct SHA-1 code and the correct packagename. But when I try to verify my phone number, I am getting this error:</p>\n<blockquote>\n<p>This app is not authorized to use Firebase Authentication.<br />\nPlease verify that the correct package name and SHA-1 are configured in the Firebase Console. [App validation failed]</p>\n</blockquote>\n<p>When I start my App from Android Studio, it is working fine. But when I upload the App to the Google Play Store, it is <strong>not</strong> working. What am I doing wrong?</p>\n<p>I am starting the verification with this code:</p>\n<pre><code>startActivityForResult(\n                AuthUI.getInstance()\n                        .createSignInIntentBuilder()\n                        .setAvailableProviders(\n                                Arrays.asList(\n                                        new AuthUI.IdpConfig.Builder(AuthUI.PHONE_VERIFICATION_PROVIDER).build()\n                                ))\n                        .build(),\n                RC_SIGN_IN);\n</code></pre>\n<p>I have this library for authentication:</p>\n<pre><code>compile 'com.google.firebase:firebase-auth:11.0.1'\n</code></pre>\n<p>and this for the UI:</p>\n<pre><code>compile 'com.firebaseui:firebase-ui:2.0.1'\n</code></pre>\n"},{"tags":["java","spring","post","thymeleaf"],"comments":[{"owner":{"account_id":5031827,"reputation":420,"user_id":5599966,"accept_rate":71,"display_name":"Mor Blau"},"score":0,"creation_date":1684249567,"post_id":76264394,"comment_id":134488811,"body_markdown":"Can you show the Get.vremeGet() method?","body":"Can you show the Get.vremeGet() method?"},{"owner":{"account_id":21080219,"reputation":1,"user_id":15494721,"display_name":"Aleksa Petrovic"},"score":0,"creation_date":1684250308,"post_id":76264394,"comment_id":134489037,"body_markdown":"@MorBlau Thank you for responding. I edited my question to show the Get.vremeGet() method.","body":"@MorBlau Thank you for responding. I edited my question to show the Get.vremeGet() method."}],"answers":[{"tags":[],"owner":{"account_id":21080219,"reputation":1,"user_id":15494721,"display_name":"Aleksa Petrovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684278603,"creation_date":1684278603,"answer_id":76267626,"question_id":76264394,"body_markdown":"I have found the little error that crept up on me. In the HTML the name of the variable is ime-grada, while on the corresponding server mapping it is imeGrada.","title":"Getting empty value in Spring post mapping","body":"<p>I have found the little error that crept up on me. In the HTML the name of the variable is ime-grada, while on the corresponding server mapping it is imeGrada.</p>\n"}],"owner":{"account_id":21080219,"reputation":1,"user_id":15494721,"display_name":"Aleksa Petrovic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684278603,"creation_date":1684248410,"question_id":76264394,"body_markdown":"When the browser sends a POST request to this mapping, the parameter it is supposed to send is empty.\r\n\r\nHTML:\r\n\r\n```\r\n&lt;form method=&quot;post&quot; th:action=&quot;@{/}&quot;&gt;\r\n    &lt;input type=&quot;search&quot; name=&quot;ime-grada&quot; placeholder=&quot;ime grada&quot;&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\n\r\nPOST mapping:\r\n```\r\n@Controller\r\npublic class Post implements WebMvcConfigurer {\r\n\r\n\tpublic static String slikaUrl = &quot;https://openweathermap.org/img/w/&quot;;\r\n\r\n\t@PostMapping(&quot;/&quot;)\r\n\tpublic String vremePost(Model model, String imeGrada) {\r\n\t\tSystem.out.println(&quot;post &quot; + imeGrada); // prints null\r\n\t\timeGrada = &quot;Beograd&quot;; // hardcoded for testing\r\n\t\tArrayList&lt;Root&gt; gradovi = new ArrayList&lt;Root&gt;();\r\n\t\tgradovi = PodaciOVremenu.podaciOVremenu(imeGrada);\r\n\t\tmodel.addAttribute(&quot;gradovi&quot;, gradovi);\r\n\t\tmodel.addAttribute(&quot;slikaUrl&quot;, slikaUrl);\r\n\t\treturn Get.vremeGet(model, gradovi);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nGET Mapping - Get.vremeGet()\r\n```\r\n@Controller\r\npublic class Get implements WebMvcConfigurer {\r\n\r\n\tpublic static String slikaUrl = &quot;https://openweathermap.org/img/w/&quot;;\r\n\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic static String vremeGet(Model model, ArrayList&lt;Root&gt; gradovi) {\r\n\t\tif (gradovi.size() == 0) {\r\n\t\t\tgradovi = PodaciOVremenu.podaciOVremenu(null);\r\n\t\t}\r\n\t\tmodel.addAttribute(&quot;gradovi&quot;, gradovi);\r\n\t\tmodel.addAttribute(&quot;slikaUrl&quot;, slikaUrl);\r\n\t\treturn &quot;vreme&quot;;\r\n\t}\r\n}\r\n```\r\n\r\nIt is expected that the print statement print the parameter sent by the POST request,\r\nbut it prints null instead.\r\nI&#39;m using Java 15, Spring 2.4.3, Thymeleaf 3.0.12.RELEASE","title":"Getting empty value in Spring post mapping","body":"<p>When the browser sends a POST request to this mapping, the parameter it is supposed to send is empty.</p>\n<p>HTML:</p>\n<pre><code>&lt;form method=&quot;post&quot; th:action=&quot;@{/}&quot;&gt;\n    &lt;input type=&quot;search&quot; name=&quot;ime-grada&quot; placeholder=&quot;ime grada&quot;&gt;\n&lt;/form&gt;\n</code></pre>\n<p>POST mapping:</p>\n<pre><code>@Controller\npublic class Post implements WebMvcConfigurer {\n\n    public static String slikaUrl = &quot;https://openweathermap.org/img/w/&quot;;\n\n    @PostMapping(&quot;/&quot;)\n    public String vremePost(Model model, String imeGrada) {\n        System.out.println(&quot;post &quot; + imeGrada); // prints null\n        imeGrada = &quot;Beograd&quot;; // hardcoded for testing\n        ArrayList&lt;Root&gt; gradovi = new ArrayList&lt;Root&gt;();\n        gradovi = PodaciOVremenu.podaciOVremenu(imeGrada);\n        model.addAttribute(&quot;gradovi&quot;, gradovi);\n        model.addAttribute(&quot;slikaUrl&quot;, slikaUrl);\n        return Get.vremeGet(model, gradovi);\n    }\n\n}\n</code></pre>\n<p>GET Mapping - Get.vremeGet()</p>\n<pre><code>@Controller\npublic class Get implements WebMvcConfigurer {\n\n    public static String slikaUrl = &quot;https://openweathermap.org/img/w/&quot;;\n\n    @GetMapping(&quot;/&quot;)\n    public static String vremeGet(Model model, ArrayList&lt;Root&gt; gradovi) {\n        if (gradovi.size() == 0) {\n            gradovi = PodaciOVremenu.podaciOVremenu(null);\n        }\n        model.addAttribute(&quot;gradovi&quot;, gradovi);\n        model.addAttribute(&quot;slikaUrl&quot;, slikaUrl);\n        return &quot;vreme&quot;;\n    }\n}\n</code></pre>\n<p>It is expected that the print statement print the parameter sent by the POST request,\nbut it prints null instead.\nI'm using Java 15, Spring 2.4.3, Thymeleaf 3.0.12.RELEASE</p>\n"},{"tags":["android","linux","oracle","android-studio","java"],"answers":[{"comments":[{"owner":{"account_id":31194,"reputation":7628,"user_id":85472,"accept_rate":70,"display_name":"Maks"},"score":1,"creation_date":1465265266,"post_id":35741440,"comment_id":62816832,"body_markdown":"I don&#39;t see where it says that in the &quot;documentation&quot;. The Android Studio page now just says &quot;Java Development Kit (JDK) 8&quot; for the requirements for Linux (https://developer.android.com/studio/index.html?gclid=CPb8v8jplM0CFVh6vQodptoKaA)","body":"I don&#39;t see where it says that in the &quot;documentation&quot;. The Android Studio page now just says &quot;Java Development Kit (JDK) 8&quot; for the requirements for Linux (<a href=\"https://developer.android.com/studio/index.html?gclid=CPb8v8jplM0CFVh6vQodptoKaA\" rel=\"nofollow noreferrer\">developer.android.com/studio/&hellip;</a>)"},{"owner":{"account_id":185616,"reputation":1303,"user_id":422443,"accept_rate":71,"display_name":"barakisbrown"},"score":0,"creation_date":1473582534,"post_id":35741440,"comment_id":66191153,"body_markdown":"It does when you launch the installer. I am running OpenJDK on manjaro linux and the installer tells you the following:\n\nSYSTEM HEALTH\nOpenJDK shows intermitten performance and UI issues. We recommend using the Oracle JRE/JDK&quot;","body":"It does when you launch the installer. I am running OpenJDK on manjaro linux and the installer tells you the following:  SYSTEM HEALTH OpenJDK shows intermitten performance and UI issues. We recommend using the Oracle JRE/JDK&quot;"},{"owner":{"account_id":12839044,"reputation":4876,"user_id":9287628,"display_name":"Abilogos"},"score":2,"creation_date":1592379686,"post_id":35741440,"comment_id":110401224,"body_markdown":"i have read this section in developer.android.com: https://developer.android.com/studio/intro/studio-config#jdk and it recommends to use openjdk.","body":"i have read this section in developer.android.com: <a href=\"https://developer.android.com/studio/intro/studio-config#jdk\" rel=\"nofollow noreferrer\">developer.android.com/studio/intro/studio-config#jdk</a> and it recommends to use openjdk."},{"owner":{"account_id":4996539,"reputation":1287,"user_id":4016922,"accept_rate":95,"display_name":"sam nikzad"},"score":0,"creation_date":1631478126,"post_id":35741440,"comment_id":122226503,"body_markdown":"Wrong information ! There is no such thing in the documentations of android. openjdk is suggested","body":"Wrong information ! There is no such thing in the documentations of android. openjdk is suggested"},{"owner":{"account_id":14740018,"reputation":1091,"user_id":10644878,"display_name":"D&#225;vid Laczk&#243;"},"score":0,"creation_date":1691701042,"post_id":35741440,"comment_id":135531003,"body_markdown":"@SAYE Well, it might have been true back then, but now isn&#39;t, and probably that old version can&#39;t be downloaded from anywhere. This answer better be removed as there are others explaining newer versions, if Grant isn&#39;t doing it I flagged it (sorry Grant, old questions need new, up-to-date answers).","body":"@SAYE Well, it might have been true back then, but now isn&#39;t, and probably that old version can&#39;t be downloaded from anywhere. This answer better be removed as there are others explaining newer versions, if Grant isn&#39;t doing it I flagged it (sorry Grant, old questions need new, up-to-date answers)."}],"tags":[],"owner":{"account_id":5669023,"reputation":472,"user_id":4484362,"display_name":"Grant Rostig"},"comment_count":5,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1456906006,"creation_date":1456905422,"answer_id":35741440,"question_id":35741439,"body_markdown":"No, just as the android documentations says, Oracle JDK is required.  I got a &quot;null pointer exception&quot; on render on when running a simple build of an empty project with openJDK.  This error probably came from the IDE, not the build of the APK file.\r\n\r\nAfter running studio with Oracle&#39;s JDK, it all worked properly with no change to the code.\r\n\r\nActually it gets more complicated than that because, I have both versions on my system.  Oracle JDK is used to launch the studio.sh file, but inside studio I still have the OpenJDK specified under &quot;Project Structure&gt; JDK&quot; as:\r\n\r\n    /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.72-4.b15.fc23.x86_64\r\n\r\nI&#39;ll report back if this hybrid situation fails.","title":"Can Android Studio use OpenJDK or does it require Oracle JDK on Linux?","body":"<p>No, just as the android documentations says, Oracle JDK is required.  I got a \"null pointer exception\" on render on when running a simple build of an empty project with openJDK.  This error probably came from the IDE, not the build of the APK file.</p>\n\n<p>After running studio with Oracle's JDK, it all worked properly with no change to the code.</p>\n\n<p>Actually it gets more complicated than that because, I have both versions on my system.  Oracle JDK is used to launch the studio.sh file, but inside studio I still have the OpenJDK specified under \"Project Structure> JDK\" as:</p>\n\n<pre><code>/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.72-4.b15.fc23.x86_64\n</code></pre>\n\n<p>I'll report back if this hybrid situation fails.</p>\n"},{"tags":[],"owner":{"account_id":154294,"reputation":17410,"user_id":1283554,"display_name":"bwt"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1456923264,"creation_date":1456911331,"answer_id":35743306,"question_id":35741439,"body_markdown":"I am using Android Studio since version 1.0 (currently 2.0 beta) on Fedora 64 bit (currently 23) and OpenJDK.  It used to display a warning saying something like &quot;*OpenJDK is not supported, do not open bug reports if something goes wrong*&quot;, I don&#39;t know if it it still does (I may have clicked on &quot;*Don&#39;t show this again*&quot;).\r\n\r\nThere was also a warning about libinput but I think it is not related to OpenJDK.\r\n\r\nAnyway in my case it works quite well, as far as I can remember I did not have to use special tricks. Obviously your mileage may vary.","title":"Can Android Studio use OpenJDK or does it require Oracle JDK on Linux?","body":"<p>I am using Android Studio since version 1.0 (currently 2.0 beta) on Fedora 64 bit (currently 23) and OpenJDK.  It used to display a warning saying something like \"<em>OpenJDK is not supported, do not open bug reports if something goes wrong</em>\", I don't know if it it still does (I may have clicked on \"<em>Don't show this again</em>\").</p>\n\n<p>There was also a warning about libinput but I think it is not related to OpenJDK.</p>\n\n<p>Anyway in my case it works quite well, as far as I can remember I did not have to use special tricks. Obviously your mileage may vary.</p>\n"},{"tags":[],"owner":{"account_id":7049112,"reputation":1696,"user_id":5398884,"accept_rate":100,"display_name":"Tim"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1613606360,"creation_date":1613606360,"answer_id":66251680,"question_id":35741439,"body_markdown":"Below found in android docs\r\n\r\n&gt; [OpenJDK comes bundled with Android Studio 2.2 and higher, and this is the JDK version we recommend you use for your Android projects.][1] \r\n\r\n\r\n  [1]: https://developer.android.com/studio/intro/studio-config#jdk\r\n\r\nshout out to @Abilogos\r\n\r\nDocs: https://developer.android.com/studio/intro/studio-config#jdk","title":"Can Android Studio use OpenJDK or does it require Oracle JDK on Linux?","body":"<p>Below found in android docs</p>\n<blockquote>\n<p><a href=\"https://developer.android.com/studio/intro/studio-config#jdk\" rel=\"nofollow noreferrer\">OpenJDK comes bundled with Android Studio 2.2 and higher, and this is the JDK version we recommend you use for your Android projects.</a></p>\n</blockquote>\n<p>shout out to @Abilogos</p>\n<p>Docs: <a href=\"https://developer.android.com/studio/intro/studio-config#jdk\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/intro/studio-config#jdk</a></p>\n"},{"tags":[],"owner":{"account_id":17782,"reputation":18600,"user_id":40161,"accept_rate":85,"display_name":"DavGarcia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684278305,"creation_date":1684278305,"answer_id":76267606,"question_id":35741439,"body_markdown":"Adding an answer in 2023 in case you too stumble here. OpenJDK is now packaged and recommended for use with Android Studio.\r\n\r\nhttps://developer.android.com/studio/intro/studio-config#jdk","title":"Can Android Studio use OpenJDK or does it require Oracle JDK on Linux?","body":"<p>Adding an answer in 2023 in case you too stumble here. OpenJDK is now packaged and recommended for use with Android Studio.</p>\n<p><a href=\"https://developer.android.com/studio/intro/studio-config#jdk\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/intro/studio-config#jdk</a></p>\n"}],"owner":{"account_id":5669023,"reputation":472,"user_id":4484362,"display_name":"Grant Rostig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26324,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":4,"score":17,"last_activity_date":1684278305,"creation_date":1456905422,"question_id":35741439,"body_markdown":"Can Android Studio use OpenJDK 1.8 or does it require Oracle JDK on Linux?  It would be easier to use OpenJDK because it comes installed on Fedora.\r\n\r\nI&#39;m running 64 bit Fedora-23 linux with Android Studio 1.5.1.build AI-141.2456560 on an Intel Haswell i7 chip.\r\n\r\n    $ java -version\r\n    openjdk version &quot;1.8.0_72&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_72-b15)\r\n    OpenJDK 64-Bit Server VM (build 25.72-b15, mixed mode)\r\n    \r\n    $ ./java -version\r\n    java version &quot;1.8.0_73&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_73-b02)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.73-b02, mixed mode)\r\n    \r\n    $ uname -a\r\n    Linux localhost.localdomain 4.3.5-300.fc23.x86_64 #1 SMP Mon Feb 1 03:18:41 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\r\n    \r\n    $ more build.txt \r\n    AI-141.2456560\r\n\r\n","title":"Can Android Studio use OpenJDK or does it require Oracle JDK on Linux?","body":"<p>Can Android Studio use OpenJDK 1.8 or does it require Oracle JDK on Linux?  It would be easier to use OpenJDK because it comes installed on Fedora.</p>\n\n<p>I'm running 64 bit Fedora-23 linux with Android Studio 1.5.1.build AI-141.2456560 on an Intel Haswell i7 chip.</p>\n\n<pre><code>$ java -version\nopenjdk version \"1.8.0_72\"\nOpenJDK Runtime Environment (build 1.8.0_72-b15)\nOpenJDK 64-Bit Server VM (build 25.72-b15, mixed mode)\n\n$ ./java -version\njava version \"1.8.0_73\"\nJava(TM) SE Runtime Environment (build 1.8.0_73-b02)\nJava HotSpot(TM) 64-Bit Server VM (build 25.73-b02, mixed mode)\n\n$ uname -a\nLinux localhost.localdomain 4.3.5-300.fc23.x86_64 #1 SMP Mon Feb 1 03:18:41 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\n\n$ more build.txt \nAI-141.2456560\n</code></pre>\n"},{"tags":["java","number-formatting","arabic","parseexception"],"comments":[{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1656038836,"post_id":72738425,"comment_id":128479623,"body_markdown":"I&#39;m unfamiliar with Arabic numbering.. can you confirm that &quot;55-&quot; represents negative 55? and &quot;-55&quot; is not valid?","body":"I&#39;m unfamiliar with Arabic numbering.. can you confirm that &quot;55-&quot; represents negative 55? and &quot;-55&quot; is not valid?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1656042369,"post_id":72738425,"comment_id":128480077,"body_markdown":"Shouldn&#39;t that be ٥٥- ? Refer to the [Wikipedia] page [Modern Arabic mathematical notation](https://en.wikipedia.org/wiki/Modern_Arabic_mathematical_notation)","body":"Shouldn&#39;t that be ٥٥- ? Refer to the [Wikipedia] page <a href=\"https://en.wikipedia.org/wiki/Modern_Arabic_mathematical_notation\" rel=\"nofollow noreferrer\">Modern Arabic mathematical notation</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656698887,"post_id":72738425,"comment_id":128644060,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1550314,"reputation":1563,"user_id":1442870,"accept_rate":100,"display_name":"Enwired"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684278032,"creation_date":1684277453,"answer_id":76267557,"question_id":72738425,"body_markdown":"Starting with Java 9, the JDK gives priority to CLDR locale data.  (Unicode Common Locale Data Repository)\r\n\r\nIf you want to get the behavior seen in Java 8, you can use command-line parameter -Djava.locale.providers=COMPAT,SPI,CLDR\r\n\r\nWith this, it will use the older &quot;COMPAT&quot; locale data and only use SPI or CLDR if COMPAT doesn&#39;t have locale data for your locale.\r\n\r\nhttps://www.oracle.com/java/technologies/javase/9-relnotes.html#JDK-8008577\r\n\r\nThis same java change also affects parsing negative numbers in Sweden, first day of the week in Germany, and probably many other things.\r\n","title":"NumberFormating issue with negative numbers in RTL Locale like Arabic","body":"<p>Starting with Java 9, the JDK gives priority to CLDR locale data.  (Unicode Common Locale Data Repository)</p>\n<p>If you want to get the behavior seen in Java 8, you can use command-line parameter -Djava.locale.providers=COMPAT,SPI,CLDR</p>\n<p>With this, it will use the older &quot;COMPAT&quot; locale data and only use SPI or CLDR if COMPAT doesn't have locale data for your locale.</p>\n<p><a href=\"https://www.oracle.com/java/technologies/javase/9-relnotes.html#JDK-8008577\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/9-relnotes.html#JDK-8008577</a></p>\n<p>This same java change also affects parsing negative numbers in Sweden, first day of the week in Germany, and probably many other things.</p>\n"}],"owner":{"account_id":25634323,"reputation":11,"user_id":19404149,"display_name":"igce"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684278032,"creation_date":1656038064,"question_id":72738425,"body_markdown":"    Locale locale = new Locale(&quot;ar&quot;, &quot;AE&quot;);\r\n    NumberFormat format = NumberFormat.getNumberInstance(locale);                \r\n    System.out.println(format.parse(&quot;55-&quot;));\r\n\r\nThe above code returns -55 with JDK 8 and returns 55 with 11. Also format.parse(&quot;-55&quot;) throws parseException. Any idea why is this change? How to parse negative numbers in Arabic (RTL) with java 11?","title":"NumberFormating issue with negative numbers in RTL Locale like Arabic","body":"<pre><code>Locale locale = new Locale(&quot;ar&quot;, &quot;AE&quot;);\nNumberFormat format = NumberFormat.getNumberInstance(locale);                \nSystem.out.println(format.parse(&quot;55-&quot;));\n</code></pre>\n<p>The above code returns -55 with JDK 8 and returns 55 with 11. Also format.parse(&quot;-55&quot;) throws parseException. Any idea why is this change? How to parse negative numbers in Arabic (RTL) with java 11?</p>\n"},{"tags":["java","kotlin","android-videoview"],"answers":[{"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684273805,"creation_date":1684273805,"answer_id":76267266,"question_id":76267236,"body_markdown":"Add type to your variable:\r\n\r\n```kotlin\r\nval videoView: VideoView = findViewById(R.id.testView)\r\n// or\r\nval videoView = findViewById&lt;VideoView&gt;(R.id.testView)\r\n```","title":"ERROR: &quot;Not enough information to infer type variable T&quot; in Kotlin, how to fix it?","body":"<p>Add type to your variable:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val videoView: VideoView = findViewById(R.id.testView)\n// or\nval videoView = findViewById&lt;VideoView&gt;(R.id.testView)\n</code></pre>\n"}],"owner":{"account_id":26739039,"reputation":25,"user_id":20340127,"display_name":"Mira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76267266,"answer_count":1,"score":1,"last_activity_date":1684277863,"creation_date":1684273307,"question_id":76267236,"body_markdown":"I encounteres the problem on Android Studio using Kotlin, the code should play a video file in the `res/raw` folder but it stops at: `val videoView = findViewById(R.id.testView)`\r\n\r\nReturning the error: `Not enough information to infer type variable T`\r\n\r\n```\r\nimport android.net.Uri\r\nimport android.net.Uri.*\r\nimport android.os.Bundle\r\nimport android.widget.MediaController\r\nimport android.widget.VideoView\r\nimport androidx.appcompat.app.AppCompatActivity\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        //Find the VideoView class by its id\r\n        val videoView = findViewById(R.id.testView) \r\n        // Not enough information to infer type variable T\r\n    }\r\n}\r\n```\r\n\r\nThe video file is in MP4 format, i had to import the \\*.mp4 file type in the Android Studio settings.\r\n\r\nThe .xml file looks correct to me, and in the right folder: `res/layout/activity_main.xml`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;com.example.video_player.MainActivity&quot;&gt;\r\n    &lt;VideoView\r\n        android:id=&quot;@+id/testView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;308dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```","title":"ERROR: &quot;Not enough information to infer type variable T&quot; in Kotlin, how to fix it?","body":"<p>I encounteres the problem on Android Studio using Kotlin, the code should play a video file in the <code>res/raw</code> folder but it stops at: <code>val videoView = findViewById(R.id.testView)</code></p>\n<p>Returning the error: <code>Not enough information to infer type variable T</code></p>\n<pre><code>import android.net.Uri\nimport android.net.Uri.*\nimport android.os.Bundle\nimport android.widget.MediaController\nimport android.widget.VideoView\nimport androidx.appcompat.app.AppCompatActivity\n\nclass MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        //Find the VideoView class by its id\n        val videoView = findViewById(R.id.testView) \n        // Not enough information to infer type variable T\n    }\n}\n</code></pre>\n<p>The video file is in MP4 format, i had to import the *.mp4 file type in the Android Studio settings.</p>\n<p>The .xml file looks correct to me, and in the right folder: <code>res/layout/activity_main.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;com.example.video_player.MainActivity&quot;&gt;\n    &lt;VideoView\n        android:id=&quot;@+id/testView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;308dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","kotlin","retrofit"],"answers":[{"tags":[],"owner":{"account_id":15018144,"reputation":411,"user_id":10840484,"display_name":"Hamza Israr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684277683,"creation_date":1684277683,"answer_id":76267571,"question_id":76239660,"body_markdown":"To retrieve the value(s) from the response, you will need to traverse through the response data.\r\n\r\n    retrofit.requestLogin(obj).enqueue(object : Callback&lt;ResponseLogin&gt; {\r\n        override fun onResponse(\r\n            call: Call&lt;ResponseLogin&gt;,\r\n            response: Response&lt;ResponseLogin&gt;\r\n        ) {\r\n            if (response.isSuccessful) {\r\n                val recordsets = response.body()?.recordsets\r\n                recordsets?.forEach { usuarioList -&gt;\r\n                    usuarioList.forEach { usuario -&gt;\r\n                        val usuarioId = usuario.UsuarioId\r\n                        val correo = usuario.Correo\r\n\r\n                        Toast.makeText(\r\n                            this@MainActivity,\r\n                            &quot;Usuario Id: $usuarioId, Correo: $correo&quot;,\r\n                            Toast.LENGTH_SHORT\r\n                        ).show()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    })\r\n","title":"Kotlin get value for response json list","body":"<p>To retrieve the value(s) from the response, you will need to traverse through the response data.</p>\n<pre><code>retrofit.requestLogin(obj).enqueue(object : Callback&lt;ResponseLogin&gt; {\n    override fun onResponse(\n        call: Call&lt;ResponseLogin&gt;,\n        response: Response&lt;ResponseLogin&gt;\n    ) {\n        if (response.isSuccessful) {\n            val recordsets = response.body()?.recordsets\n            recordsets?.forEach { usuarioList -&gt;\n                usuarioList.forEach { usuario -&gt;\n                    val usuarioId = usuario.UsuarioId\n                    val correo = usuario.Correo\n\n                    Toast.makeText(\n                        this@MainActivity,\n                        &quot;Usuario Id: $usuarioId, Correo: $correo&quot;,\n                        Toast.LENGTH_SHORT\n                    ).show()\n                }\n            }\n        }\n    }\n})\n</code></pre>\n"}],"owner":{"account_id":10426166,"reputation":267,"user_id":7687372,"display_name":"MexiCano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684277683,"creation_date":1683922416,"question_id":76239660,"body_markdown":"I am new to Kotlin.\r\nI trying to make an API call with retrofit.\r\n\r\nwhen making the call to the api it responds to me:\r\n\r\n    {\r\n    &quot;recordsets&quot;: [\r\n        [\r\n            {\r\n                &quot;UsuarioId&quot;: 2101,\r\n                &quot;Nombre&quot;: &quot;Jose Perez&quot;,\r\n                &quot;UsuarioDominio&quot;: &quot;jose.perez&quot;,            \r\n                &quot;Correo&quot;: &quot;jose.p@correo.com.mx&quot;\r\n            }\r\n        ]\r\n    ],\r\n    &quot;recordset&quot;: [\r\n         {\r\n                &quot;UsuarioId&quot;: 2101,\r\n                &quot;Nombre&quot;: &quot;Jose Perez&quot;,\r\n                &quot;UsuarioDominio&quot;: &quot;jose.perez&quot;,            \r\n                &quot;Correo&quot;: &quot;jose.p@correo.com.mx&quot;\r\n            }\r\n    ],\r\n    &quot;output&quot;: {},\r\n    &quot;rowsAffected&quot;: [],\r\n    &quot;returnValue&quot;: 0,}\r\n\r\nI need get value  &quot;UsuarioId&quot;: 2101 and &quot;Correo&quot;: &quot;jose.p@correo.com.mx&quot;\r\n\r\nModel:\r\n\r\n        data class ResponseLogin(\r\n        val recordsets: List&lt;List&lt;Recordset2&gt;&gt;)\r\n    \r\n    \r\n    data class Recordset2(\r\n        val Activo: Boolean,\r\n        @SerializedName(&quot;correo&quot;)  val Correo: String,\r\n        val IdDepartamento: Int,\r\n        val IdEmpleado: Int,\r\n        val IdEmpresa: Any,\r\n        val IdPlaza: Int,\r\n        val IdPuesto: Int,\r\n        val Nombre: String,\r\n        val Plaza: String,\r\n        val UsuarioDominio: String,\r\n        val UsuarioId: Int)\r\n\r\n\r\nCode MainActivity\r\n\r\n      retrofit.requestLogin(obj).enqueue(\r\n                    object: Callback&lt;ResponseLogin&gt;{\r\n                        override fun onResponse(\r\n                            call: Call&lt;ResponseLogin&gt;,\r\n                            response: Response&lt;ResponseLogin&gt;\r\n                        ) {\r\n                            Toast.makeText(this@MainActivity,response.message().Correo.toString(),Toast.LENGTH_LONG).show()\r\n                              }\r\n\r\nI need get value  &quot;UsuarioId&quot;: 2101 and &quot;Correo&quot;: &quot;jose.p@correo.com.mx&quot;\r\n\r\n","title":"Kotlin get value for response json list","body":"<p>I am new to Kotlin.\nI trying to make an API call with retrofit.</p>\n<p>when making the call to the api it responds to me:</p>\n<pre><code>{\n&quot;recordsets&quot;: [\n    [\n        {\n            &quot;UsuarioId&quot;: 2101,\n            &quot;Nombre&quot;: &quot;Jose Perez&quot;,\n            &quot;UsuarioDominio&quot;: &quot;jose.perez&quot;,            \n            &quot;Correo&quot;: &quot;jose.p@correo.com.mx&quot;\n        }\n    ]\n],\n&quot;recordset&quot;: [\n     {\n            &quot;UsuarioId&quot;: 2101,\n            &quot;Nombre&quot;: &quot;Jose Perez&quot;,\n            &quot;UsuarioDominio&quot;: &quot;jose.perez&quot;,            \n            &quot;Correo&quot;: &quot;jose.p@correo.com.mx&quot;\n        }\n],\n&quot;output&quot;: {},\n&quot;rowsAffected&quot;: [],\n&quot;returnValue&quot;: 0,}\n</code></pre>\n<p>I need get value  &quot;UsuarioId&quot;: 2101 and &quot;Correo&quot;: &quot;jose.p@correo.com.mx&quot;</p>\n<p>Model:</p>\n<pre><code>    data class ResponseLogin(\n    val recordsets: List&lt;List&lt;Recordset2&gt;&gt;)\n\n\ndata class Recordset2(\n    val Activo: Boolean,\n    @SerializedName(&quot;correo&quot;)  val Correo: String,\n    val IdDepartamento: Int,\n    val IdEmpleado: Int,\n    val IdEmpresa: Any,\n    val IdPlaza: Int,\n    val IdPuesto: Int,\n    val Nombre: String,\n    val Plaza: String,\n    val UsuarioDominio: String,\n    val UsuarioId: Int)\n</code></pre>\n<p>Code MainActivity</p>\n<pre><code>  retrofit.requestLogin(obj).enqueue(\n                object: Callback&lt;ResponseLogin&gt;{\n                    override fun onResponse(\n                        call: Call&lt;ResponseLogin&gt;,\n                        response: Response&lt;ResponseLogin&gt;\n                    ) {\n                        Toast.makeText(this@MainActivity,response.message().Correo.toString(),Toast.LENGTH_LONG).show()\n                          }\n</code></pre>\n<p>I need get value  &quot;UsuarioId&quot;: 2101 and &quot;Correo&quot;: &quot;jose.p@correo.com.mx&quot;</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","aws-sdk"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1684278460,"post_id":76267504,"comment_id":134494326,"body_markdown":"See [checking object integrity](https://docs.aws.amazon.com/AmazonS3/latest/userguide/checking-object-integrity.html).","body":"See <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/checking-object-integrity.html\" rel=\"nofollow noreferrer\">checking object integrity</a>."},{"owner":{"account_id":2775840,"reputation":67,"user_id":2389441,"display_name":"Pale Blue Dot"},"score":0,"creation_date":1684351024,"post_id":76267504,"comment_id":134507375,"body_markdown":"is aws sdk 2.x.x is compoatble with Java 8?","body":"is aws sdk 2.x.x is compoatble with Java 8?"}],"answers":[{"comments":[{"owner":{"account_id":2775840,"reputation":67,"user_id":2389441,"display_name":"Pale Blue Dot"},"score":0,"creation_date":1684277502,"post_id":76267539,"comment_id":134494267,"body_markdown":"thats not really effecient.i have the checksum for the File from the path.i need to get the checksum once the file is uploaded.","body":"thats not really effecient.i have the checksum for the File from the path.i need to get the checksum once the file is uploaded."},{"owner":{"account_id":1782311,"reputation":6381,"user_id":2157862,"accept_rate":83,"display_name":"Adil Hindistan"},"score":0,"creation_date":1684277962,"post_id":76267539,"comment_id":134494298,"body_markdown":"I mean the whole checksum thing is inefficient. You know that file will either be uploaded properly or will be discarded, right? So, if your purpose is really to make sure file uploaded successfully, then you should wrap your upload code with error checking to see if upload failed. \nWhen you ask the question how do I do this &#39;by this&#39;, then you already determined a method. If you instead ask how do I do this, then you would get a different answer.","body":"I mean the whole checksum thing is inefficient. You know that file will either be uploaded properly or will be discarded, right? So, if your purpose is really to make sure file uploaded successfully, then you should wrap your upload code with error checking to see if upload failed.  When you ask the question how do I do this &#39;by this&#39;, then you already determined a method. If you instead ask how do I do this, then you would get a different answer."}],"tags":[],"owner":{"account_id":1782311,"reputation":6381,"user_id":2157862,"accept_rate":83,"display_name":"Adil Hindistan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684277231,"creation_date":1684277231,"answer_id":76267539,"question_id":76267504,"body_markdown":"There may be different ways to go about this but you could for example upload the checksum with the file, maybe to a different /checksums/ path, then wire up your s3 bucket to trigger a lambda to create checksums for uploaded files and compare the results to the uploaded checksums. ","title":"Calculate checksum of file uploaded in AWS S3 bucket","body":"<p>There may be different ways to go about this but you could for example upload the checksum with the file, maybe to a different /checksums/ path, then wire up your s3 bucket to trigger a lambda to create checksums for uploaded files and compare the results to the uploaded checksums.</p>\n"}],"owner":{"account_id":2775840,"reputation":67,"user_id":2389441,"display_name":"Pale Blue Dot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684277595,"creation_date":1684276752,"question_id":76267504,"body_markdown":"I have the below code which uploads file to AWS S3 bucket.\r\n\r\nHow can i verify if the file has been uploaded successfully or not using checksum?\r\n\r\nHow to calculate checksum of file in the path and the file uploaded in the S3 bucket are same?\r\n\r\n    public class S3Uploader {\r\n\r\n    \t@Autowired\r\n    \tprivate S3TransferManager transferManager;\r\n\r\n    \tpublic String uploadFile( String bucketName, String key, String filePath) {\r\n    \t\tUploadFileRequest uploadFileRequest = UploadFileRequest.builder()\r\n    \t\t\t\t.putObjectRequest(b -&gt; b.bucket(bucketName).key(key))\r\n    \t\t\t\t.addTransferListener(LoggingTransferListener.create())\r\n    \t\t\t\t.source(Paths.get(filePath))\r\n    \t\t\t\t.build();\r\n    \t\tFileUpload fileUpload = transferManager.uploadFile(uploadFileRequest);\r\n    \t\tCompletedFileUpload uploadResult = fileUpload.completionFuture().join();\r\n    \t\treturn uploadResult.response().eTag();\r\n    \t}\r\n    }\r\n\r\n","title":"Calculate checksum of file uploaded in AWS S3 bucket","body":"<p>I have the below code which uploads file to AWS S3 bucket.</p>\n<p>How can i verify if the file has been uploaded successfully or not using checksum?</p>\n<p>How to calculate checksum of file in the path and the file uploaded in the S3 bucket are same?</p>\n<pre><code>public class S3Uploader {\n\n    @Autowired\n    private S3TransferManager transferManager;\n\n    public String uploadFile( String bucketName, String key, String filePath) {\n        UploadFileRequest uploadFileRequest = UploadFileRequest.builder()\n                .putObjectRequest(b -&gt; b.bucket(bucketName).key(key))\n                .addTransferListener(LoggingTransferListener.create())\n                .source(Paths.get(filePath))\n                .build();\n        FileUpload fileUpload = transferManager.uploadFile(uploadFileRequest);\n        CompletedFileUpload uploadResult = fileUpload.completionFuture().join();\n        return uploadResult.response().eTag();\n    }\n}\n</code></pre>\n"},{"tags":["java","optimization","lambda","java-stream","refactoring"],"answers":[{"comments":[{"owner":{"account_id":27813651,"reputation":13,"user_id":21235535,"display_name":"OptimusPrime98"},"score":0,"creation_date":1684277959,"post_id":76267559,"comment_id":134494297,"body_markdown":"thanks man, Thats what I expected.... I have huge problems with streams...","body":"thanks man, Thats what I expected.... I have huge problems with streams..."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684324760,"post_id":76267559,"comment_id":134501138,"body_markdown":"I’d probably avoid repeating the `input.getField()` call for every element: `var inputField = input.getField(); return objects.stream().anyMatch(o -&gt; o.getField().equals(inputField))? methodA(input): methodB(input);` Or capture the value with a method reference: `return objects.stream().map(ObjTest::getField).anyMatch(input.getField()::equals)? methodA(input): methodB(input);`","body":"I’d probably avoid repeating the <code>input.getField()</code> call for every element: <code>var inputField = input.getField(); return objects.stream().anyMatch(o -&gt; o.getField().equals(inputField))? methodA(input): methodB(input);</code> Or capture the value with a method reference: <code>return objects.stream().map(ObjTest::getField).anyMatch(input.getFi&zwnj;&#8203;eld()::equals)? methodA(input): methodB(input);</code>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1684349710,"post_id":76267559,"comment_id":134507089,"body_markdown":"@Holger I was going to do the latter, but this way was shorter, arguably more readable, and safer (in case `input.getField()` is nullable).","body":"@Holger I was going to do the latter, but this way was shorter, arguably more readable, and safer (in case <code>input.getField()</code> is nullable)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684751423,"post_id":76267559,"comment_id":134557627,"body_markdown":"Since both, the original variant and your variant, assume that `o.getField()` is never `null`, it would be weird to assume that `input.getField()` could be `null`. But *if* that’s possible, I’d add another pre-check as there is no point in iterating over the entire list when the test can never succeed.","body":"Since both, the original variant and your variant, assume that <code>o.getField()</code> is never <code>null</code>, it would be weird to assume that <code>input.getField()</code> could be <code>null</code>. But <i>if</i> that’s possible, I’d add another pre-check as there is no point in iterating over the entire list when the test can never succeed."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1684782537,"post_id":76267559,"comment_id":134564347,"body_markdown":"@Holger Sure, but that&#39;s true for OP&#39;s example too. My point is this is slightly more faithful to the original logic.","body":"@Holger Sure, but that&#39;s true for OP&#39;s example too. My point is this is slightly more faithful to the original logic."}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684277515,"creation_date":1684277515,"answer_id":76267559,"question_id":76267546,"body_markdown":"You can use `anyMatch()`:\r\n\r\n    if (objects.stream().anyMatch(o -&gt; o.getField().equals(input.getField()))) {\r\n        return methodA(input);\r\n    } else {\r\n        return methodB(input);\r\n    }\r\n","title":"How to optymalize iteration by list and calling method","body":"<p>You can use <code>anyMatch()</code>:</p>\n<pre><code>if (objects.stream().anyMatch(o -&gt; o.getField().equals(input.getField()))) {\n    return methodA(input);\n} else {\n    return methodB(input);\n}\n</code></pre>\n"}],"owner":{"account_id":27813651,"reputation":13,"user_id":21235535,"display_name":"OptimusPrime98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76267559,"answer_count":1,"score":0,"last_activity_date":1684277515,"creation_date":1684277326,"question_id":76267546,"body_markdown":"I would like to optymalize my process of iteration by list and filltering it.\r\nFor example:\r\nI have a short list of some similar objects where the difference will be one field:\r\n\r\n    List&lt;ObjTest&gt; objects = getListOfObjects();\r\n\r\n\r\nNext, I would like to check if list is not empty and iter by each object, compare fields with input andi if fields will match I would like to call methodA. Otherwise, when fields of objects not match I would like to call after iteration methodB. \r\n\r\nSomething like:\r\n\r\n    for (ObjTest objTest : objects) {\r\n        if (objTest.getField().equals(input.getField()) {\r\n            return methodA(input);\r\n        }\r\n    }\r\n    return methodB(input)\r\n\r\nIs it possible to do by objects.stream?\r\n","title":"How to optymalize iteration by list and calling method","body":"<p>I would like to optymalize my process of iteration by list and filltering it.\nFor example:\nI have a short list of some similar objects where the difference will be one field:</p>\n<pre><code>List&lt;ObjTest&gt; objects = getListOfObjects();\n</code></pre>\n<p>Next, I would like to check if list is not empty and iter by each object, compare fields with input andi if fields will match I would like to call methodA. Otherwise, when fields of objects not match I would like to call after iteration methodB.</p>\n<p>Something like:</p>\n<pre><code>for (ObjTest objTest : objects) {\n    if (objTest.getField().equals(input.getField()) {\n        return methodA(input);\n    }\n}\nreturn methodB(input)\n</code></pre>\n<p>Is it possible to do by objects.stream?</p>\n"},{"tags":["java","spring","spring-boot","gradle","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1684319423,"post_id":76267370,"comment_id":134500024,"body_markdown":"Assuming that you use Spring AOP and not native AspectJ and that you also use component scan, you should add `@Component` to the aspect class and make sure that component scan also picks up the packages in which all code involved (controller, annotation, aspect) resides. If this hint does not help, please post a full [MCVE](https://stackoverflow.com/help/mcve) on GitHub. Your &quot;approximate&quot; layout without configuration or package names does not help much, because the devil is in the details in programming, not in approximate descriptions.","body":"Assuming that you use Spring AOP and not native AspectJ and that you also use component scan, you should add <code>@Component</code> to the aspect class and make sure that component scan also picks up the packages in which all code involved (controller, annotation, aspect) resides. If this hint does not help, please post a full <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub. Your &quot;approximate&quot; layout without configuration or package names does not help much, because the devil is in the details in programming, not in approximate descriptions."}],"owner":{"account_id":13740809,"reputation":29,"user_id":9915969,"display_name":"Clayn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684277072,"creation_date":1684274987,"question_id":76267370,"body_markdown":"I have simple Gradle Spring Boot project with following approximate structure:\r\n```\r\nmyproject\r\n├───core\r\n│   └───src\r\n│   │   └───EntryDescription.java\r\n│   └───build.gradle\r\n├───core-web\r\n│   └───src\r\n│   │   └───EntryAspect.java\r\n│   └───build.gradle\r\n├───server\r\n│   └───src\r\n│   │   └───LoginController.java\r\n│   └───build.gradle\r\n├───build.gradle\r\n└───settings.gradle.kts\r\n```\r\nI try to log whenever methods anotated with `@EntryDescription` are called. But the code doesn&#39;t seem to even enter Aspect code when conditions are met.\r\n\r\nHere&#39;s my annotation:\r\n```\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface EntryDescription {\r\n    String value();\r\n}\r\n```\r\nAspect:\r\n```\r\n@Aspect\r\n@Slf4j\r\npublic class EntryAspect {\r\n    @Around(&quot;execution(public * *(..)) &amp;&amp; @annotation(EntryDescription)&quot;)\r\n    public Object logMethodName(ProceedingJoinPoint call) throws Throwable {\r\n        Method method = ((MethodSignature) call.getSignature()).getMethod();\r\n        EntryDescription entryDescription = method.getAnnotation(EntryDescription.class);\r\n        log.info(entryDescription.value());\r\n        return call.proceed();\r\n    }\r\n}\r\n```\r\nAnd my controller:\r\n```\r\n@RestController\r\npublic class LoginController {\r\n    @PostMapping(value = &quot;/login&quot;)\r\n    @EntryDescription(&quot;Customer login process started&quot;)\r\n    public void login(@RequestBody LoginRequest request, BindingResult bindingResult, HttpServletRequest req, HttpServletResponse response) {\r\n        // Login logic\r\n    }\r\n}\r\n```\r\nI suppose the culprit is the **Gradle** as I managed to get it to work in single module enviroment.\r\n\r\n`server/build.gradle`:\r\n```\r\ndependencies {\r\n    ...\r\n    implementation project(&quot;:core&quot;)\r\n    implementation project(&quot;:core-web&quot;)\r\n    ...\r\n}\r\n```\r\n`myproject/build.gradle`:\r\n```\r\nbuildscript {\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n}\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &quot;3.0.0&quot; apply false\r\n    id &quot;io.freefair.aspectj.post-compile-weaving&quot; version &quot;8.0.1&quot;\r\n}\r\nsubprojects {\r\n    apply plugin: &#39;java-library&#39;\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    apply plugin: &#39;idea&#39;\r\n\r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &quot;org.springframework.boot:spring-boot-dependencies:3.0.0&quot;\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        implementation(&quot;org.aspectj:aspectjrt:1.9.19&quot;)\r\n        implementation(&quot;org.aspectj:aspectjweaver:1.9.19&quot;)\r\n    }\r\n}\r\n```\r\n`settings.gradle.kts`:\r\n```\r\nrootProject.name = &quot;myproject&quot;\r\n\r\ninclude(&quot;core&quot;)\r\ninclude(&quot;core-web&quot;)\r\n```\r\nNOTE: I tried using `@EnableAspectJAutoProxy` on Application class but no help.","title":"AspectJ @Around is not working in multi-module project","body":"<p>I have simple Gradle Spring Boot project with following approximate structure:</p>\n<pre><code>myproject\n├───core\n│   └───src\n│   │   └───EntryDescription.java\n│   └───build.gradle\n├───core-web\n│   └───src\n│   │   └───EntryAspect.java\n│   └───build.gradle\n├───server\n│   └───src\n│   │   └───LoginController.java\n│   └───build.gradle\n├───build.gradle\n└───settings.gradle.kts\n</code></pre>\n<p>I try to log whenever methods anotated with <code>@EntryDescription</code> are called. But the code doesn't seem to even enter Aspect code when conditions are met.</p>\n<p>Here's my annotation:</p>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface EntryDescription {\n    String value();\n}\n</code></pre>\n<p>Aspect:</p>\n<pre><code>@Aspect\n@Slf4j\npublic class EntryAspect {\n    @Around(&quot;execution(public * *(..)) &amp;&amp; @annotation(EntryDescription)&quot;)\n    public Object logMethodName(ProceedingJoinPoint call) throws Throwable {\n        Method method = ((MethodSignature) call.getSignature()).getMethod();\n        EntryDescription entryDescription = method.getAnnotation(EntryDescription.class);\n        log.info(entryDescription.value());\n        return call.proceed();\n    }\n}\n</code></pre>\n<p>And my controller:</p>\n<pre><code>@RestController\npublic class LoginController {\n    @PostMapping(value = &quot;/login&quot;)\n    @EntryDescription(&quot;Customer login process started&quot;)\n    public void login(@RequestBody LoginRequest request, BindingResult bindingResult, HttpServletRequest req, HttpServletResponse response) {\n        // Login logic\n    }\n}\n</code></pre>\n<p>I suppose the culprit is the <strong>Gradle</strong> as I managed to get it to work in single module enviroment.</p>\n<p><code>server/build.gradle</code>:</p>\n<pre><code>dependencies {\n    ...\n    implementation project(&quot;:core&quot;)\n    implementation project(&quot;:core-web&quot;)\n    ...\n}\n</code></pre>\n<p><code>myproject/build.gradle</code>:</p>\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n    }\n}\nplugins {\n    id 'java'\n    id 'org.springframework.boot' version &quot;3.0.0&quot; apply false\n    id &quot;io.freefair.aspectj.post-compile-weaving&quot; version &quot;8.0.1&quot;\n}\nsubprojects {\n    apply plugin: 'java-library'\n    apply plugin: 'io.spring.dependency-management'\n    apply plugin: 'idea'\n\n    dependencyManagement {\n        imports {\n            mavenBom &quot;org.springframework.boot:spring-boot-dependencies:3.0.0&quot;\n        }\n    }\n\n    dependencies {\n        implementation(&quot;org.aspectj:aspectjrt:1.9.19&quot;)\n        implementation(&quot;org.aspectj:aspectjweaver:1.9.19&quot;)\n    }\n}\n</code></pre>\n<p><code>settings.gradle.kts</code>:</p>\n<pre><code>rootProject.name = &quot;myproject&quot;\n\ninclude(&quot;core&quot;)\ninclude(&quot;core-web&quot;)\n</code></pre>\n<p>NOTE: I tried using <code>@EnableAspectJAutoProxy</code> on Application class but no help.</p>\n"},{"tags":["java","postgresql","hibernate","jpql","nativequery"],"answers":[{"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684224940,"creation_date":1684224940,"answer_id":76260751,"question_id":76258864,"body_markdown":"Do not use the `::` cast operator in your native queries. Try a `CAST( smth AS target-type)` instead:\r\n\r\n```sql\r\nselect contactid, CAST(flag AS jsonb) -&gt;&gt; &#39;priority&#39; as priority from contact\r\n```\r\nUsing a `::` cast operator leads to an error since `:name` is used to represent named parameters in the queries.\r\n","title":"Does Hibernate CreateNativeQuery allow JSON cast?","body":"<p>Do not use the <code>::</code> cast operator in your native queries. Try a <code>CAST( smth AS target-type)</code> instead:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select contactid, CAST(flag AS jsonb) -&gt;&gt; 'priority' as priority from contact\n</code></pre>\n<p>Using a <code>::</code> cast operator leads to an error since <code>:name</code> is used to represent named parameters in the queries.</p>\n"},{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684276724,"creation_date":1684275117,"answer_id":76267379,"question_id":76258864,"body_markdown":"&lt;s&gt;I would report this. It&#39;s true, as Mark states, that `:name` is supposed to be parsed in native SQL queries in JPA.\r\n\r\nBut I would say that we should be _easily_ able to recognize `::` and leave it alone.\r\n\r\nSo I would call this a bug.&lt;/s&gt;\r\n\r\n### UPDATE\r\n\r\nSo, it turns out that this is something that someone implemented *intentionally* as an (undocumented) feature. The idea is that you can use a double colon as an escape to write a single colon.\r\n\r\nI must say don&#39;t like it at all, and I doubt it&#39;s a spec-compliant thing to do. I would like to roll it back, but on the other hand it&#39;s been there for quite a while.\r\n\r\nSooooo, that said, you could write your query like this:\r\n\r\n    select contactid, flag::::jsonb-&gt;&gt;&#39;priority&#39; as priority from contact\r\n\r\nwith *four* colons.\r\n","title":"Does Hibernate CreateNativeQuery allow JSON cast?","body":"<p><s>I would report this. It's true, as Mark states, that <code>:name</code> is supposed to be parsed in native SQL queries in JPA.</p>\n<p>But I would say that we should be <em>easily</em> able to recognize <code>::</code> and leave it alone.</p>\n<p>So I would call this a bug.</s></p>\n<h3>UPDATE</h3>\n<p>So, it turns out that this is something that someone implemented <em>intentionally</em> as an (undocumented) feature. The idea is that you can use a double colon as an escape to write a single colon.</p>\n<p>I must say don't like it at all, and I doubt it's a spec-compliant thing to do. I would like to roll it back, but on the other hand it's been there for quite a while.</p>\n<p>Sooooo, that said, you could write your query like this:</p>\n<pre><code>select contactid, flag::::jsonb-&gt;&gt;'priority' as priority from contact\n</code></pre>\n<p>with <em>four</em> colons.</p>\n"}],"owner":{"account_id":10988759,"reputation":1,"user_id":8073494,"display_name":"Z. Suja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684276780,"creation_date":1684201293,"question_id":76258864,"body_markdown":"Using **Java** and **Hibernate 6.1.7 Final**:\r\n\r\nIs it possible to use a JSON key in the select statement when using `createNativeQuery()`?\r\n\r\nExample:\r\n\r\n```\r\nQuery&lt;Object[]&gt; query = new SessionManager().fetch()\r\n    .createNativeQuery(\r\n        &quot;select contactid, flag::jsonb-&gt;&gt;&#39;priority&#39; as priority from contact&quot;, \r\n         Object[].class);\r\n```\r\n\r\nStepping through the program, I can see that `query.sqlString` is:\r\n\r\n    select contactid, flag:jsonb-&gt;&gt;&#39;priority&#39; as priority from contact\r\n\r\nEven though `query.originalSqlString` is:\r\n\r\n    select contactid, flag::jsonb-&gt;&gt;&#39;priority&#39; as priority from contact \r\n\r\nException:\r\n\r\n&gt; 16-May-2023 11:18:34.801 ERROR [http-nio-65501-exec-8] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: syntax error at or near &quot;:&quot;\r\n  Position: 31\r\njakarta.persistence.PersistenceException: Converting `org.hibernate.exception.SQLGrammarException` to JPA `PersistenceException` : JDBC exception executing SQL [select\r\n    contactid,\r\n    flag:jsonb-&gt;&gt;&#39;priority&#39; as priority\r\nfrom\r\n    contact]\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)\r\n...\r\n\r\nWhy is the other colon removed?","title":"Does Hibernate CreateNativeQuery allow JSON cast?","body":"<p>Using <strong>Java</strong> and <strong>Hibernate 6.1.7 Final</strong>:</p>\n<p>Is it possible to use a JSON key in the select statement when using <code>createNativeQuery()</code>?</p>\n<p>Example:</p>\n<pre><code>Query&lt;Object[]&gt; query = new SessionManager().fetch()\n    .createNativeQuery(\n        &quot;select contactid, flag::jsonb-&gt;&gt;'priority' as priority from contact&quot;, \n         Object[].class);\n</code></pre>\n<p>Stepping through the program, I can see that <code>query.sqlString</code> is:</p>\n<pre><code>select contactid, flag:jsonb-&gt;&gt;'priority' as priority from contact\n</code></pre>\n<p>Even though <code>query.originalSqlString</code> is:</p>\n<pre><code>select contactid, flag::jsonb-&gt;&gt;'priority' as priority from contact \n</code></pre>\n<p>Exception:</p>\n<blockquote>\n<p>16-May-2023 11:18:34.801 ERROR [http-nio-65501-exec-8] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions ERROR: syntax error at or near &quot;:&quot;\nPosition: 31\njakarta.persistence.PersistenceException: Converting <code>org.hibernate.exception.SQLGrammarException</code> to JPA <code>PersistenceException</code> : JDBC exception executing SQL [select\ncontactid,\nflag:jsonb-&gt;&gt;'priority' as priority\nfrom\ncontact]\nat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)\n...</p>\n</blockquote>\n<p>Why is the other colon removed?</p>\n"},{"tags":["java","char","short"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684256557,"post_id":76265239,"comment_id":134490673,"body_markdown":"If you want to say 2 bytes into a short integer please say it so. &#39;B&#39; is not clear.","body":"If you want to say 2 bytes into a short integer please say it so. &#39;B&#39; is not clear."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684256702,"post_id":76265239,"comment_id":134490708,"body_markdown":"The real question should be why are you trying to out text into integers. What are trying to achieve? What is the language and the encoding of the input file?","body":"The real question should be why are you trying to out text into integers. What are trying to achieve? What is the language and the encoding of the input file?"},{"owner":{"account_id":27111669,"reputation":51,"user_id":20656737,"display_name":"Michał Jagodzinski"},"score":0,"creation_date":1684256994,"post_id":76265239,"comment_id":134490767,"body_markdown":"UTF-8 I am trying to print on Stdout all the words that are in the file. I don&#39;t understand what you mean by trying to out text into integers","body":"UTF-8 I am trying to print on Stdout all the words that are in the file. I don&#39;t understand what you mean by trying to out text into integers"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684257460,"post_id":76265239,"comment_id":134490883,"body_markdown":"In C strings are just sequences of characters and C doesn&#39;t care about encodings. In other languages like Java Strings are not just characters and internally use UTF-16 encoding.","body":"In C strings are just sequences of characters and C doesn&#39;t care about encodings. In other languages like Java Strings are not just characters and internally use UTF-16 encoding."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684257497,"post_id":76265239,"comment_id":134490893,"body_markdown":"When you say word do you mean words in the text? Like &quot;house&quot;, &quot;car&quot;?","body":"When you say word do you mean words in the text? Like &quot;house&quot;, &quot;car&quot;?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1684258374,"post_id":76265239,"comment_id":134491074,"body_markdown":"Are you sure you should be reading this as text file, and not as a binary file (e.g. using a `FileInputStream`)?","body":"Are you sure you should be reading this as text file, and not as a binary file (e.g. using a <code>FileInputStream</code>)?"},{"owner":{"account_id":27111669,"reputation":51,"user_id":20656737,"display_name":"Michał Jagodzinski"},"score":0,"creation_date":1684259393,"post_id":76265239,"comment_id":134491254,"body_markdown":"Yeah, i tried reading it as FileInputStream but it doesn&#39;t change anything","body":"Yeah, i tried reading it as FileInputStream but it doesn&#39;t change anything"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684259899,"post_id":76265239,"comment_id":134491373,"body_markdown":"The last question you posted on this was somewhat different. Did you delete that question?","body":"The last question you posted on this was somewhat different. Did you delete that question?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1684261119,"post_id":76265239,"comment_id":134491648,"body_markdown":"Are you using the term “words” to mean language elements, like the four words “I” “have” “a” “file”?  Or are you using “words” in the assembly language sense, where a word is a two-byte value, a dword is four bytes, etc.?","body":"Are you using the term “words” to mean language elements, like the four words “I” “have” “a” “file”?  Or are you using “words” in the assembly language sense, where a word is a two-byte value, a dword is four bytes, etc.?"},{"owner":{"account_id":27111669,"reputation":51,"user_id":20656737,"display_name":"Michał Jagodzinski"},"score":0,"creation_date":1684261463,"post_id":76265239,"comment_id":134491725,"body_markdown":"Words as a characters like &#39;a&#39; &#39;b&#39; &#39;c&#39; and the two bytes &#39;ą&#39; &#39;ł&#39; &#39;ć&#39;","body":"Words as a characters like &#39;a&#39; &#39;b&#39; &#39;c&#39; and the two bytes &#39;ą&#39; &#39;ł&#39; &#39;ć&#39;"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684263592,"post_id":76265239,"comment_id":134492133,"body_markdown":"characters and words are different concepts. Mixing the terms introduces confusions. You should use characters and clarify when you expect multi-byte characters.","body":"characters and words are different concepts. Mixing the terms introduces confusions. You should use characters and clarify when you expect multi-byte characters."},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1684276909,"post_id":76265239,"comment_id":134494217,"body_markdown":"&quot;So f.e. i have a file ala.xs that contains: &quot;sąłs&quot; and i would like to read those symbols from this file and then put them into the table of shorts and then printf them on stdout.&quot; Exactly what do you think should be the result for this input, and why? Exactly how many bytes do you think are in the file, and why? (Did you try to check? How?) What happens when you try using your existing code, and how is that different from what is supposed to happen? What is a `.xs` file (e.g., how did you create it)?","body":"&quot;So f.e. i have a file ala.xs that contains: &quot;sąłs&quot; and i would like to read those symbols from this file and then put them into the table of shorts and then printf them on stdout.&quot; Exactly what do you think should be the result for this input, and why? Exactly how many bytes do you think are in the file, and why? (Did you try to check? How?) What happens when you try using your existing code, and how is that different from what is supposed to happen? What is a <code>.xs</code> file (e.g., how did you create it)?"},{"owner":{"account_id":27111669,"reputation":51,"user_id":20656737,"display_name":"Michał Jagodzinski"},"score":0,"creation_date":1684313809,"post_id":76265239,"comment_id":134498760,"body_markdown":"Well this file was created by my program written in C that is a simple compressor. It compresses files like .txt .mp4 e.t.c. (generally all files), and it produces this file .xs that contains all information about the compressed file and information needed to decompress it. In java i wanted to write a decompressor for this file and i am having difficulty with chars, couse in C the compiler or i don&#39;t know what (maybe god) split the characters like ą into two characters and then when u printed those two characters in the good order it joined it again into ą. And i can&#39;t seem to do this in java","body":"Well this file was created by my program written in C that is a simple compressor. It compresses files like .txt .mp4 e.t.c. (generally all files), and it produces this file .xs that contains all information about the compressed file and information needed to decompress it. In java i wanted to write a decompressor for this file and i am having difficulty with chars, couse in C the compiler or i don&#39;t know what (maybe god) split the characters like ą into two characters and then when u printed those two characters in the good order it joined it again into ą. And i can&#39;t seem to do this in java"},{"owner":{"account_id":27111669,"reputation":51,"user_id":20656737,"display_name":"Michał Jagodzinski"},"score":0,"creation_date":1684313866,"post_id":76265239,"comment_id":134498772,"body_markdown":"I will probably post another question with more code and explanation on what is the problem, sorry for all the trouble and thanks a lot 4 your help. What should i do with this question then?","body":"I will probably post another question with more code and explanation on what is the problem, sorry for all the trouble and thanks a lot 4 your help. What should i do with this question then?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684314986,"post_id":76265239,"comment_id":134499039,"body_markdown":"Compression has certainly nothing at all to do with characters or words. You should probably have stated your [goal](https://technojeeves.com/index.php/aliasjava1/15-smart-questions) and not your *steps*. You can correct that in your new question","body":"Compression has certainly nothing at all to do with characters or words. You should probably have stated your <a href=\"https://technojeeves.com/index.php/aliasjava1/15-smart-questions\" rel=\"nofollow noreferrer\">goal</a> and not your <i>steps</i>. You can correct that in your new question"}],"answers":[{"comments":[{"owner":{"account_id":27111669,"reputation":51,"user_id":20656737,"display_name":"Michał Jagodzinski"},"score":0,"creation_date":1684259434,"post_id":76265699,"comment_id":134491263,"body_markdown":"Yeah but the problem is that i have to use this char table","body":"Yeah but the problem is that i have to use this char table"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684260047,"post_id":76265699,"comment_id":134491408,"body_markdown":"Why? That&#39;s what I&#39;m trying to understand. Are you using the array later for something else?","body":"Why? That&#39;s what I&#39;m trying to understand. Are you using the array later for something else?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684260110,"post_id":76265699,"comment_id":134491420,"body_markdown":"@aled The last question on this was printing the character codes as numbers. That question was deleted","body":"@aled The last question on this was printing the character codes as numbers. That question was deleted"},{"owner":{"account_id":27111669,"reputation":51,"user_id":20656737,"display_name":"Michał Jagodzinski"},"score":0,"creation_date":1684261404,"post_id":76265699,"comment_id":134491714,"body_markdown":"@aled Yes this is just a part of a bigger project, I need to have characters in the table","body":"@aled Yes this is just a part of a bigger project, I need to have characters in the table"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684261887,"post_id":76265699,"comment_id":134491817,"body_markdown":"Than have an array of `char`, not `short`. If at some point need a string you can use `StringBuilder.append(charArray)` or to print each character use `Character.toString(c)` from https://stackoverflow.com/a/7870173/721855","body":"Than have an array of <code>char</code>, not <code>short</code>. If at some point need a string you can use <code>StringBuilder.append(charArray)</code> or to print each character use <code>Character.toString(c)</code> from <a href=\"https://stackoverflow.com/a/7870173/721855\">stackoverflow.com/a/7870173/721855</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1684263045,"post_id":76265699,"comment_id":134492030,"body_markdown":"As I explained in your previous question, before you deleted it without explanation, you need to be careful about the character encoding. Just using the default encoding might not work","body":"As I explained in your previous question, before you deleted it without explanation, you need to be careful about the character encoding. Just using the default encoding might not work"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684271751,"post_id":76265699,"comment_id":134493532,"body_markdown":"Unicode (which is what you&#39;re dealing with) is unfortunately not that simple. Firstly, not only can the *codepoints* in your text file exceed the capacity of a 16 bit numeric type such as `char` or `short` but if you were to maintain your original plan for `short[]` then some values might be negative, depending on what is in the text file","body":"Unicode (which is what you&#39;re dealing with) is unfortunately not that simple. Firstly, not only can the <i>codepoints</i> in your text file exceed the capacity of a 16 bit numeric type such as <code>char</code> or <code>short</code> but if you were to maintain your original plan for <code>short[]</code> then some values might be negative, depending on what is in the text file"}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684258003,"creation_date":1684258003,"answer_id":76265699,"question_id":76265239,"body_markdown":"Assuming you are trying to read all the characters of the input file then instead of using the array of `short` directly concatenate the characters into a String. Using a StringBuilder is more efficient than concatenating directly to a String because Strings in Java are immutable.\r\n\r\nIt should be something like this:\r\n``` lang-java\r\nchar character;\r\nStringBuilder text;\r\nwhile ((character = (char) reading.read()) != -1) {\r\n   text.append(character);\r\n}\r\nString words=text.toString();\r\n```","title":"How to read 2 bytes symbols in java into short?","body":"<p>Assuming you are trying to read all the characters of the input file then instead of using the array of <code>short</code> directly concatenate the characters into a String. Using a StringBuilder is more efficient than concatenating directly to a String because Strings in Java are immutable.</p>\n<p>It should be something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char character;\nStringBuilder text;\nwhile ((character = (char) reading.read()) != -1) {\n   text.append(character);\n}\nString words=text.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684276511,"creation_date":1684276511,"answer_id":76267489,"question_id":76265239,"body_markdown":"From my comment above, it follows that the proper container for your codes is `int[]`. Knowing that your encoding is UTF-8, the following should give you what you want\r\n\r\n    public static int[] fileToCodepointArray(Path p) throws IOException {\r\n        byte[] fileContents = Files.readAllBytes(p);\r\n        return new String(fileContents, StandardCharsets.UTF_8).codePoints().\r\n            toArray();\r\n    }\r\n","title":"How to read 2 bytes symbols in java into short?","body":"<p>From my comment above, it follows that the proper container for your codes is <code>int[]</code>. Knowing that your encoding is UTF-8, the following should give you what you want</p>\n<pre><code>public static int[] fileToCodepointArray(Path p) throws IOException {\n    byte[] fileContents = Files.readAllBytes(p);\n    return new String(fileContents, StandardCharsets.UTF_8).codePoints().\n        toArray();\n}\n</code></pre>\n"}],"owner":{"account_id":27111669,"reputation":51,"user_id":20656737,"display_name":"Michał Jagodzinski"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1684359335,"answer_count":2,"score":-1,"last_activity_date":1684276511,"creation_date":1684254119,"question_id":76265239,"body_markdown":"So f.e. i have a file ala.xs that contains: &quot;sąłs&quot; and i would like to read those symbols from this file and then put them into the table of shorts and then printf them on stdout. I am having some trouble with this becouse I have to read them as single chars and then join this chars into shorts.\r\nHere is my code:\r\n\r\n```\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.io.Reader;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException {\r\n        short [] words = new short[10];\r\n        for(int i = 0 ; i &lt; 10; i++)\r\n            words[i] = 0;\r\n        Reader reading = new FileReader(&quot;ala.xs&quot;);\r\n        short character;\r\n        int i = 0;\r\n        while ((character = (short) reading.read()) != -1) {\r\n            words[i] = character;\r\n            System.out.println(words[i]);\r\n            i++;\r\n        }\r\n        reading.close();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried to printf them like `System.out.println((char)words[i]);` but this is just stupid. I had this same task to do in C and in C i just had to printf them as %c and stdout joined them automaticly (that is my theory)","title":"How to read 2 bytes symbols in java into short?","body":"<p>So f.e. i have a file ala.xs that contains: &quot;sąłs&quot; and i would like to read those symbols from this file and then put them into the table of shorts and then printf them on stdout. I am having some trouble with this becouse I have to read them as single chars and then join this chars into shorts.\nHere is my code:</p>\n<pre><code>import java.io.FileReader;\nimport java.io.IOException;\nimport java.io.Reader;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        short [] words = new short[10];\n        for(int i = 0 ; i &lt; 10; i++)\n            words[i] = 0;\n        Reader reading = new FileReader(&quot;ala.xs&quot;);\n        short character;\n        int i = 0;\n        while ((character = (short) reading.read()) != -1) {\n            words[i] = character;\n            System.out.println(words[i]);\n            i++;\n        }\n        reading.close();\n    }\n}\n</code></pre>\n<p>I tried to printf them like <code>System.out.println((char)words[i]);</code> but this is just stupid. I had this same task to do in C and in C i just had to printf them as %c and stdout joined them automaticly (that is my theory)</p>\n"},{"tags":["java","kerberos","gssapi"],"comments":[{"owner":{"account_id":2107430,"reputation":1505,"user_id":1873438,"display_name":"Paul Bastide"},"score":0,"creation_date":1395748133,"post_id":22566644,"comment_id":34468771,"body_markdown":"what IBM JDK are you using? a version of WebSphere? if so, what one?","body":"what IBM JDK are you using? a version of WebSphere? if so, what one?"},{"owner":{"account_id":1254635,"reputation":942,"user_id":1214373,"accept_rate":0,"display_name":"Darran L"},"score":0,"creation_date":1395752613,"post_id":22566644,"comment_id":34471936,"body_markdown":"This is not using WebSphere.  Java version currently 1.7.0 but 1.6 would also be desirable.","body":"This is not using WebSphere.  Java version currently 1.7.0 but 1.6 would also be desirable."}],"answers":[{"comments":[{"owner":{"account_id":1254635,"reputation":942,"user_id":1214373,"accept_rate":0,"display_name":"Darran L"},"score":0,"creation_date":1395934589,"post_id":22682022,"comment_id":34573252,"body_markdown":"Thank but I have tried that approach, if I could write my own implementation of GSSUtil I would consider that but digging into even the internal APIs that I could discover the IBMs implementation of GSSCredential is substantially different with no way to even get to the required classes.","body":"Thank but I have tried that approach, if I could write my own implementation of GSSUtil I would consider that but digging into even the internal APIs that I could discover the IBMs implementation of GSSCredential is substantially different with no way to even get to the required classes."}],"tags":[],"owner":{"account_id":1106320,"reputation":20178,"user_id":1097634,"display_name":"Dror Bereznitsky"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395909689,"creation_date":1395908993,"answer_id":22682022,"question_id":22566644,"body_markdown":"The [source code][1] of the OpenJDK version of `GSSUtil` is available online. Looking at the code (and the comments) you can see it relies on package private APIs of the Sun&#39;s implementations of GSSName and GSSCredential, specifically: `GSSNameImpl`, `GSSNameSpi`, `Krb5NameElement` and `GSSCredentialImpl`.&lt;br&gt;\r\nThe IBM Java SDK `ibmjgssprovider.jar` contains similar IBM implementations which can be used to achieve the same functionality. Take a look at the `com.ibm.security.jgss` and `com.ibm.security.krb5` packages.\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/sun/security/jgss/GSSUtil.java","title":"IBM JDK Convert GSSCredential to Subject","body":"<p>The <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/sun/security/jgss/GSSUtil.java\" rel=\"nofollow\">source code</a> of the OpenJDK version of <code>GSSUtil</code> is available online. Looking at the code (and the comments) you can see it relies on package private APIs of the Sun's implementations of GSSName and GSSCredential, specifically: <code>GSSNameImpl</code>, <code>GSSNameSpi</code>, <code>Krb5NameElement</code> and <code>GSSCredentialImpl</code>.<br>\nThe IBM Java SDK <code>ibmjgssprovider.jar</code> contains similar IBM implementations which can be used to achieve the same functionality. Take a look at the <code>com.ibm.security.jgss</code> and <code>com.ibm.security.krb5</code> packages.</p>\n"},{"comments":[{"owner":{"account_id":1254635,"reputation":942,"user_id":1214373,"accept_rate":0,"display_name":"Darran L"},"score":0,"creation_date":1396347018,"post_id":22682489,"comment_id":34736079,"body_markdown":"Unfortunately this approach does not work as there is code that relies on the private credentials of the Subject containing a KerberosTicket and not a GSSCredential such as JDBC drivers from Oracle.","body":"Unfortunately this approach does not work as there is code that relies on the private credentials of the Subject containing a KerberosTicket and not a GSSCredential such as JDBC drivers from Oracle."},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1396351018,"post_id":22682489,"comment_id":34738862,"body_markdown":"@DarranL, if the Oracle driver requires a private API class, then it is ill-designed. You should file a ticket with Oracle. This is what I have been doing for several JDBC bugs via My Oracle Support.","body":"@DarranL, if the Oracle driver requires a private API class, then it is ill-designed. You should file a ticket with Oracle. This is what I have been doing for several JDBC bugs via My Oracle Support."},{"owner":{"account_id":1254635,"reputation":942,"user_id":1214373,"accept_rate":0,"display_name":"Darran L"},"score":0,"creation_date":1396434752,"post_id":22682489,"comment_id":34782895,"body_markdown":"But if you take the alternative approach and call a LoginContext configured with the Krb5LoginModule to populate the Subject before using it in a doAs call which obtains a database connection the login module does not add a GSSCredential to the private credentials so if the driver expected it then it would be missing for that scenario.","body":"But if you take the alternative approach and call a LoginContext configured with the Krb5LoginModule to populate the Subject before using it in a doAs call which obtains a database connection the login module does not add a GSSCredential to the private credentials so if the driver expected it then it would be missing for that scenario."},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1396436600,"post_id":22682489,"comment_id":34784297,"body_markdown":"This makes no sense because the Driver should hand-off everything to the JGSS context. The internal implementations are fine using private API as long as they are consistent but the Driver is an exernal JAR which should know external APIs only.","body":"This makes no sense because the Driver should hand-off everything to the JGSS context. The internal implementations are fine using private API as long as they are consistent but the Driver is an exernal JAR which should know external APIs only."},{"owner":{"account_id":1254635,"reputation":942,"user_id":1214373,"accept_rate":0,"display_name":"Darran L"},"score":0,"creation_date":1396456642,"post_id":22682489,"comment_id":34799580,"body_markdown":"What should happen and what actually happens seem to be different things in this area ;-)","body":"What should happen and what actually happens seem to be different things in this area ;-)"},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1396464697,"post_id":22682489,"comment_id":34804566,"body_markdown":"@DarranL, you *must* file a bug with Oracle. This is the only way to have it fixed.","body":"@DarranL, you <i>must</i> file a bug with Oracle. This is the only way to have it fixed."}],"tags":[],"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395910425,"creation_date":1395910425,"answer_id":22682489,"question_id":22566644,"body_markdown":"They way you work is incorrect! Never use private classes and the `GSSUtil` is a private one. What you should do is\r\n\r\n    Subject sub = new Subject();\r\n    sub.getPrivateCredentials().add(gssCredential);\r\n    ...\r\n    Subject.doAs(sub, action);\r\n\r\n\r\n","title":"IBM JDK Convert GSSCredential to Subject","body":"<p>They way you work is incorrect! Never use private classes and the <code>GSSUtil</code> is a private one. What you should do is</p>\n\n<pre><code>Subject sub = new Subject();\nsub.getPrivateCredentials().add(gssCredential);\n...\nSubject.doAs(sub, action);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28612865,"reputation":1,"user_id":21907498,"display_name":"YC Chen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684276174,"creation_date":1684244695,"answer_id":76263784,"question_id":22566644,"body_markdown":" 1. From `com.ibm.security.jgss.GSSCredentialImpl` object to get `com.ibm.security.jgss.spi.GSSCredentialSpi` object. \r\n 2. Find `com.ibm.security.krb5.Credentials` object in `GSSCredentialSpi` object.\r\n 3. Call `com.ibm.security.jgss.mech.krb5.Krb5Util.credsToTicket`(Credentials) to create `KerberosTicket`\r\n 4. The final step is to use `KerberosTicket` object plus `KerberosPrincipal` to create a subject object.","title":"IBM JDK Convert GSSCredential to Subject","body":"<ol>\n<li>From <code>com.ibm.security.jgss.GSSCredentialImpl</code> object to get <code>com.ibm.security.jgss.spi.GSSCredentialSpi</code> object.</li>\n<li>Find <code>com.ibm.security.krb5.Credentials</code> object in <code>GSSCredentialSpi</code> object.</li>\n<li>Call <code>com.ibm.security.jgss.mech.krb5.Krb5Util.credsToTicket</code>(Credentials) to create <code>KerberosTicket</code></li>\n<li>The final step is to use <code>KerberosTicket</code> object plus <code>KerberosPrincipal</code> to create a subject object.</li>\n</ol>\n"}],"owner":{"account_id":1254635,"reputation":942,"user_id":1214373,"accept_rate":0,"display_name":"Darran L"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1684276174,"creation_date":1395426145,"question_id":22566644,"body_markdown":"When working with the Oracle JDK it is possible to take a &#39;org.ietf.jgss.GSSCredential&#39; and use the class &#39;com.sun.security.jgss.GSSUtil.class&#39; to create a Subject from this.\r\n\r\nWhat I am looking for is how to achieve the equivalent using the IBM JDK.\r\n\r\nOn the Oracle JDK the Subject that is obtained is then used in a Subject.doAs call for an ongoing outbound connection but I can not achieve this on IBM as I can not convert the GSSCredential to a usable Subject.\r\n\r\nI have seen the following IBM ticket but I can not see how the SPI class they mention provides this: -\r\nhttp://www-01.ibm.com/support/docview.wss?uid=swg1IZ45390","title":"IBM JDK Convert GSSCredential to Subject","body":"<p>When working with the Oracle JDK it is possible to take a 'org.ietf.jgss.GSSCredential' and use the class 'com.sun.security.jgss.GSSUtil.class' to create a Subject from this.</p>\n\n<p>What I am looking for is how to achieve the equivalent using the IBM JDK.</p>\n\n<p>On the Oracle JDK the Subject that is obtained is then used in a Subject.doAs call for an ongoing outbound connection but I can not achieve this on IBM as I can not convert the GSSCredential to a usable Subject.</p>\n\n<p>I have seen the following IBM ticket but I can not see how the SPI class they mention provides this: -\n<a href=\"http://www-01.ibm.com/support/docview.wss?uid=swg1IZ45390\" rel=\"nofollow\">http://www-01.ibm.com/support/docview.wss?uid=swg1IZ45390</a></p>\n"},{"tags":["java","swing","gridbaglayout"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1684231689,"post_id":76261701,"comment_id":134484175,"body_markdown":"Why do you add cells that you don&#39;t want?","body":"Why do you add cells that you don&#39;t want?"},{"owner":{"account_id":8356470,"reputation":125,"user_id":6276545,"display_name":"Ewe"},"score":0,"creation_date":1684232320,"post_id":76261701,"comment_id":134484294,"body_markdown":"just to show that it works if they are there (I found this somewhere on internet, and wanted to use it without second row, and its not working)","body":"just to show that it works if they are there (I found this somewhere on internet, and wanted to use it without second row, and its not working)"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1684233521,"post_id":76261701,"comment_id":134484557,"body_markdown":"I would start by adding 1 &amp; 2 to seperate container","body":"I would start by adding 1 &amp; 2 to seperate container"},{"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"score":0,"creation_date":1684242687,"post_id":76261701,"comment_id":134486818,"body_markdown":"GridBagLayouts are never as expected ;) You should really look at another layout manager, such as MigLayout.","body":"GridBagLayouts are never as expected ;) You should really look at another layout manager, such as MigLayout."}],"answers":[{"comments":[{"owner":{"account_id":8356470,"reputation":125,"user_id":6276545,"display_name":"Ewe"},"score":0,"creation_date":1684238387,"post_id":76262489,"comment_id":134485626,"body_markdown":"I tried to add panels/labels with height 0 in the second row, and that was not working (it still had a space between second and third row), but this works, also I tried to add 4 labels and the first two buttons on y=0 and it is also ok. But now I&#39;m curious, why this is not recommended?","body":"I tried to add panels/labels with height 0 in the second row, and that was not working (it still had a space between second and third row), but this works, also I tried to add 4 labels and the first two buttons on y=0 and it is also ok. But now I&#39;m curious, why this is not recommended?"},{"owner":{"account_id":8356470,"reputation":125,"user_id":6276545,"display_name":"Ewe"},"score":0,"creation_date":1684238747,"post_id":76262489,"comment_id":134485731,"body_markdown":"*My mistake, it also works with adding labels with height 0 in the second row","body":"*My mistake, it also works with adding labels with height 0 in the second row"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1684238913,"post_id":76262489,"comment_id":134485772,"body_markdown":"@Ewe: These types of hacks lead to hard to maintain, hard to modify correctly code that breaks in mysterious ways.  In this simple example, you can understand what&#39;s going on.  In a 100 `JPanel` GUI, it&#39;s not so obvious.","body":"@Ewe: These types of hacks lead to hard to maintain, hard to modify correctly code that breaks in mysterious ways.  In this simple example, you can understand what&#39;s going on.  In a 100 <code>JPanel</code> GUI, it&#39;s not so obvious."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1684275902,"post_id":76262489,"comment_id":134494125,"body_markdown":"*The reason this GUI is difficult to achieve is that the GridBagLayout has nothing to use to size the four columns* - I posted an answer showing how to use properties of the GridBagLayout without creating extra components.","body":"<i>The reason this GUI is difficult to achieve is that the GridBagLayout has nothing to use to size the four columns</i> - I posted an answer showing how to use properties of the GridBagLayout without creating extra components."}],"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684237290,"creation_date":1684236441,"answer_id":76262489,"question_id":76261701,"body_markdown":"I finally got this GUI to work, but I had to use two hacks that I don&#39;t recommend using.\r\n\r\n[![Example][1]][1]\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  \r\n\r\nThe reason this GUI is difficult to achieve is that the `GridBagLayout` has nothing to use to size the four columns.  So, borrowing from the OP, I created a row of empty `JLabels` before creating the rows of `JButtons`.  I sized the `JLabels` based on the size of a `JButton`.\r\n\r\nI wasn&#39;t sure until I tried it, but a `gridheight` of zero keeps the `JLabels` in the same physical location as the first row of `JButtons`.\r\n\r\nHere&#39;s the complete, ugly, runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class GridBagLayoutTest2 implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new GridBagLayoutTest2());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createPanels(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createPanels() {\r\n    \t\tJPanel panel = new JPanel(new GridBagLayout());\r\n    \r\n    \t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \t\tgbc.anchor = GridBagConstraints.LINE_START;\r\n    \t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n    \t\tgbc.insets = new Insets(5, 5, 5, 5);\r\n    \t\tgbc.weightx = 0.0;\r\n    \t\t\r\n    \t\tJButton button1 = new JButton(&quot;Button 1&quot;);\r\n    \t\tDimension d = button1.getPreferredSize();\r\n    \t\t\r\n    \t\tgbc.gridheight = 0;\r\n    \t\tgbc.gridwidth = 1;\r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy = 0;\r\n    \t\tfor (int index = 0; index &lt; 4; index++) {\r\n    \t\t\tJLabel label = new JLabel();\r\n    \t\t\tlabel.setPreferredSize(d);\r\n    \t\t\tpanel.add(label, gbc);\r\n    \t\t\tgbc.gridx++;\r\n    \t\t}\r\n    \r\n    \t\tgbc.gridheight = 1;\r\n    \t\tgbc.gridwidth = 2;\r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy++;\r\n    \t\tgbc.weightx = 1.0;\r\n    \t\tpanel.add(button1, gbc);\r\n    \t\t\r\n    \t\tgbc.gridx += 2;\r\n    \t\tJButton button2 = new JButton(&quot;Button 2&quot;);\r\n    \t\tpanel.add(button2, gbc);\r\n    \t\t\r\n    \t\tgbc.gridwidth = 1;\r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy++;\r\n    \t\tJButton button3 = new JButton(&quot;Button 3&quot;);\r\n    \t\tpanel.add(button3, gbc);\r\n    \t\t\r\n    \t\tgbc.gridwidth = 2;\r\n    \t\tgbc.gridx += 1;\r\n    \t\tJButton button4 = new JButton(&quot;Button 4&quot;);\r\n    \t\tpanel.add(button4, gbc);\r\n    \t\t\r\n    \t\tgbc.gridwidth = 1;\r\n    \t\tgbc.gridx += 2;\r\n    \t\tJButton button5 = new JButton(&quot;Button 5&quot;);\r\n    \t\tpanel.add(button5, gbc);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hYhIL.png","title":"Java Swing GridBagLayout not as expected","body":"<p>I finally got this GUI to work, but I had to use two hacks that I don't recommend using.</p>\n<p><a href=\"https://i.stack.imgur.com/hYhIL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hYhIL.png\" alt=\"Example\" /></a></p>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>The reason this GUI is difficult to achieve is that the <code>GridBagLayout</code> has nothing to use to size the four columns.  So, borrowing from the OP, I created a row of empty <code>JLabels</code> before creating the rows of <code>JButtons</code>.  I sized the <code>JLabels</code> based on the size of a <code>JButton</code>.</p>\n<p>I wasn't sure until I tried it, but a <code>gridheight</code> of zero keeps the <code>JLabels</code> in the same physical location as the first row of <code>JButtons</code>.</p>\n<p>Here's the complete, ugly, runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class GridBagLayoutTest2 implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new GridBagLayoutTest2());\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createPanels(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createPanels() {\n        JPanel panel = new JPanel(new GridBagLayout());\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.anchor = GridBagConstraints.LINE_START;\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        gbc.insets = new Insets(5, 5, 5, 5);\n        gbc.weightx = 0.0;\n        \n        JButton button1 = new JButton(&quot;Button 1&quot;);\n        Dimension d = button1.getPreferredSize();\n        \n        gbc.gridheight = 0;\n        gbc.gridwidth = 1;\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        for (int index = 0; index &lt; 4; index++) {\n            JLabel label = new JLabel();\n            label.setPreferredSize(d);\n            panel.add(label, gbc);\n            gbc.gridx++;\n        }\n\n        gbc.gridheight = 1;\n        gbc.gridwidth = 2;\n        gbc.gridx = 0;\n        gbc.gridy++;\n        gbc.weightx = 1.0;\n        panel.add(button1, gbc);\n        \n        gbc.gridx += 2;\n        JButton button2 = new JButton(&quot;Button 2&quot;);\n        panel.add(button2, gbc);\n        \n        gbc.gridwidth = 1;\n        gbc.gridx = 0;\n        gbc.gridy++;\n        JButton button3 = new JButton(&quot;Button 3&quot;);\n        panel.add(button3, gbc);\n        \n        gbc.gridwidth = 2;\n        gbc.gridx += 1;\n        JButton button4 = new JButton(&quot;Button 4&quot;);\n        panel.add(button4, gbc);\n        \n        gbc.gridwidth = 1;\n        gbc.gridx += 2;\n        JButton button5 = new JButton(&quot;Button 5&quot;);\n        panel.add(button5, gbc);\n\n        return panel;\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8356470,"reputation":125,"user_id":6276545,"display_name":"Ewe"},"score":0,"creation_date":1684238170,"post_id":76262625,"comment_id":134485568,"body_markdown":"this looks nice, but with a little bit different layout. button 4 (and 7 in your layout) should be same size as buttons 1 and 2, but in your case they are 2/3 of the size of 1 and 2, and buttons 3 and 5 should be 1/2 of 1 and 2, and here they are 2/3. Anyway, the information that it&#39;s better to use multiple components is helpful, thank you","body":"this looks nice, but with a little bit different layout. button 4 (and 7 in your layout) should be same size as buttons 1 and 2, but in your case they are 2/3 of the size of 1 and 2, and buttons 3 and 5 should be 1/2 of 1 and 2, and here they are 2/3. Anyway, the information that it&#39;s better to use multiple components is helpful, thank you"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1684239150,"post_id":76262625,"comment_id":134485842,"body_markdown":"@Ewe Then change the `weightx` properties appropriately - but beware, that the preferred size of each component will have an effect on the layout, as all three elements in the row have the same preferred size, they can be layed out at the same size","body":"@Ewe Then change the <code>weightx</code> properties appropriately - but beware, that the preferred size of each component will have an effect on the layout, as all three elements in the row have the same preferred size, they can be layed out at the same size"},{"owner":{"account_id":8356470,"reputation":125,"user_id":6276545,"display_name":"Ewe"},"score":1,"creation_date":1684239812,"post_id":76262625,"comment_id":134486011,"body_markdown":"Now, this is great. One more question: When setting weightx on the cells in one component should I make them always to sum up to 1? (ex. as in your case 0.25, 0.5, 0.25)","body":"Now, this is great. One more question: When setting weightx on the cells in one component should I make them always to sum up to 1? (ex. as in your case 0.25, 0.5, 0.25)"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1684272008,"post_id":76262625,"comment_id":134493566,"body_markdown":"@Ewe no, you don&#39;t have to.  In my original example, I made them all equal to one, so the remaining available space was divided between them equally.  You may find you only need to specify the middle button, but there are times when you want to make your desires very clear","body":"@Ewe no, you don&#39;t have to.  In my original example, I made them all equal to one, so the remaining available space was divided between them equally.  You may find you only need to specify the middle button, but there are times when you want to make your desires very clear"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684239442,"creation_date":1684237284,"answer_id":76262625,"question_id":76261701,"body_markdown":"Any suitable complex UI/layout should be split into multiple components.  This is commonly known as &quot;compound layouts&quot;.\r\n\r\nThis allows you to better focus on the individual needs of each &quot;area&quot; of the layout independently.\r\n\r\nSometimes, you just need to fake it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n*Please note, I&#39;ve used labels instead of button as a demonstration only, as MacOs buttons have a lot of space around them and this better illustrates the use of the `GridBagConstraints#insets`*\r\n\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.weightx = 1;\r\n                gbc.fill = gbc.HORIZONTAL;\r\n                gbc.insets = new Insets(4, 0, 4, 0);\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n                add(makeFirstRow(), gbc);\r\n                add(makeSecondRow(), gbc);\r\n                add(makeThirdRow(), gbc);\r\n            }\r\n\r\n            protected JLabel makeLabel(String text) {\r\n                JLabel label = new JLabel(text);\r\n                label.setHorizontalAlignment(JLabel.CENTER);\r\n                label.setOpaque(true);\r\n                label.setBackground(Color.RED);\r\n                label.setBorder(new EmptyBorder(8, 32, 8, 32));\r\n                return label;\r\n            }\r\n\r\n            protected JPanel makeFirstRow() {\r\n                JPanel rowPane = new JPanel(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.weightx = 1;\r\n                gbc.fill = gbc.HORIZONTAL;\r\n                gbc.insets = new Insets(0, 4, 0, 4);\r\n\r\n                rowPane.add(makeLabel(&quot;1&quot;), gbc);\r\n                rowPane.add(makeLabel(&quot;2&quot;), gbc);\r\n\r\n                return rowPane;\r\n            }\r\n\r\n            protected JPanel makeSecondRow() {\r\n                JPanel rowPane = new JPanel(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.weightx = 1;\r\n                gbc.fill = gbc.HORIZONTAL;\r\n                gbc.insets = new Insets(0, 4, 0, 4);\r\n\r\n                rowPane.add(makeLabel(&quot;3&quot;), gbc);\r\n                rowPane.add(makeLabel(&quot;4&quot;), gbc);\r\n                rowPane.add(makeLabel(&quot;5&quot;), gbc);\r\n\r\n                return rowPane;\r\n            }\r\n\r\n            protected JPanel makeThirdRow() {\r\n                JPanel rowPane = new JPanel(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.weightx = 1;\r\n                gbc.fill = gbc.HORIZONTAL;\r\n                gbc.insets = new Insets(0, 4, 0, 4);\r\n\r\n                rowPane.add(makeLabel(&quot;6&quot;), gbc);\r\n                rowPane.add(makeLabel(&quot;7&quot;), gbc);\r\n                rowPane.add(makeLabel(&quot;8&quot;), gbc);\r\n\r\n                return rowPane;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nNow, I don&#39;t know about you, but I was tempted to create some kind of factory method which would create each row, based on the number of elements I needed in each row ... but that&#39;s me &#128521;\r\n\r\n&gt; but with a little bit different layout. button 4 (and 7 in your layout) should be same size as buttons 1 and 2, but in your case they are 2/3 of the size of 1 and 2, and buttons 3 and 5 should be 1/2 of 1 and 2, and here they are 2/3\r\n\r\nThen change the columns `weightx` property accordingly, for example...\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    protected JPanel makeSecondRow() {\r\n        JPanel rowPane = new JPanel(new GridBagLayout());\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.fill = gbc.HORIZONTAL;\r\n        gbc.insets = new Insets(0, 4, 0, 4);\r\n\r\n        gbc.weightx = 0.25;\r\n        rowPane.add(makeLabel(&quot;3&quot;), gbc);\r\n        gbc.weightx = 0.5;\r\n        // This is simply adding an addition padding to the\r\n        // labels preferred size, otherwise all three buttons\r\n        // can be layed out at there preferred size with the\r\n        // avaliable space\r\n        gbc.ipadx = 64;\r\n        rowPane.add(makeLabel(&quot;4&quot;), gbc);\r\n        gbc.weightx = 0.25;\r\n        gbc.ipadx = 0;\r\n        rowPane.add(makeLabel(&quot;5&quot;), gbc);\r\n\r\n        return rowPane;\r\n    }\r\n\r\nNow, remember, the components own preferred size plays into this.  Without the additional `ipadx`, all three elements can be layed out their preferred size with in the available container area.\r\n\r\nAnd, no, you don&#39;t &quot;need&quot; to specify the `weightx` for each column, this is just a demonstration, but sometimes, you might find it more useful to be absolute in your desires.\r\n\r\n  [1]: https://i.stack.imgur.com/U9BFL.png\r\n  [2]: https://i.stack.imgur.com/7GwLe.png","title":"Java Swing GridBagLayout not as expected","body":"<p>Any suitable complex UI/layout should be split into multiple components.  This is commonly known as &quot;compound layouts&quot;.</p>\n<p>This allows you to better focus on the individual needs of each &quot;area&quot; of the layout independently.</p>\n<p>Sometimes, you just need to fake it.</p>\n<p><a href=\"https://i.stack.imgur.com/U9BFL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U9BFL.png\" alt=\"enter image description here\" /></a></p>\n<p><em>Please note, I've used labels instead of button as a demonstration only, as MacOs buttons have a lot of space around them and this better illustrates the use of the <code>GridBagConstraints#insets</code></em></p>\n<pre><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.weightx = 1;\n            gbc.fill = gbc.HORIZONTAL;\n            gbc.insets = new Insets(4, 0, 4, 0);\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            add(makeFirstRow(), gbc);\n            add(makeSecondRow(), gbc);\n            add(makeThirdRow(), gbc);\n        }\n\n        protected JLabel makeLabel(String text) {\n            JLabel label = new JLabel(text);\n            label.setHorizontalAlignment(JLabel.CENTER);\n            label.setOpaque(true);\n            label.setBackground(Color.RED);\n            label.setBorder(new EmptyBorder(8, 32, 8, 32));\n            return label;\n        }\n\n        protected JPanel makeFirstRow() {\n            JPanel rowPane = new JPanel(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.weightx = 1;\n            gbc.fill = gbc.HORIZONTAL;\n            gbc.insets = new Insets(0, 4, 0, 4);\n\n            rowPane.add(makeLabel(&quot;1&quot;), gbc);\n            rowPane.add(makeLabel(&quot;2&quot;), gbc);\n\n            return rowPane;\n        }\n\n        protected JPanel makeSecondRow() {\n            JPanel rowPane = new JPanel(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.weightx = 1;\n            gbc.fill = gbc.HORIZONTAL;\n            gbc.insets = new Insets(0, 4, 0, 4);\n\n            rowPane.add(makeLabel(&quot;3&quot;), gbc);\n            rowPane.add(makeLabel(&quot;4&quot;), gbc);\n            rowPane.add(makeLabel(&quot;5&quot;), gbc);\n\n            return rowPane;\n        }\n\n        protected JPanel makeThirdRow() {\n            JPanel rowPane = new JPanel(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.weightx = 1;\n            gbc.fill = gbc.HORIZONTAL;\n            gbc.insets = new Insets(0, 4, 0, 4);\n\n            rowPane.add(makeLabel(&quot;6&quot;), gbc);\n            rowPane.add(makeLabel(&quot;7&quot;), gbc);\n            rowPane.add(makeLabel(&quot;8&quot;), gbc);\n\n            return rowPane;\n        }\n    }\n\n}\n</code></pre>\n<p>Now, I don't know about you, but I was tempted to create some kind of factory method which would create each row, based on the number of elements I needed in each row ... but that's me 😉</p>\n<blockquote>\n<p>but with a little bit different layout. button 4 (and 7 in your layout) should be same size as buttons 1 and 2, but in your case they are 2/3 of the size of 1 and 2, and buttons 3 and 5 should be 1/2 of 1 and 2, and here they are 2/3</p>\n</blockquote>\n<p>Then change the columns <code>weightx</code> property accordingly, for example...</p>\n<p><a href=\"https://i.stack.imgur.com/7GwLe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7GwLe.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>protected JPanel makeSecondRow() {\n    JPanel rowPane = new JPanel(new GridBagLayout());\n    GridBagConstraints gbc = new GridBagConstraints();\n    gbc.fill = gbc.HORIZONTAL;\n    gbc.insets = new Insets(0, 4, 0, 4);\n\n    gbc.weightx = 0.25;\n    rowPane.add(makeLabel(&quot;3&quot;), gbc);\n    gbc.weightx = 0.5;\n    // This is simply adding an addition padding to the\n    // labels preferred size, otherwise all three buttons\n    // can be layed out at there preferred size with the\n    // avaliable space\n    gbc.ipadx = 64;\n    rowPane.add(makeLabel(&quot;4&quot;), gbc);\n    gbc.weightx = 0.25;\n    gbc.ipadx = 0;\n    rowPane.add(makeLabel(&quot;5&quot;), gbc);\n\n    return rowPane;\n}\n</code></pre>\n<p>Now, remember, the components own preferred size plays into this.  Without the additional <code>ipadx</code>, all three elements can be layed out their preferred size with in the available container area.</p>\n<p>And, no, you don't &quot;need&quot; to specify the <code>weightx</code> for each column, this is just a demonstration, but sometimes, you might find it more useful to be absolute in your desires.</p>\n"},{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684246958,"creation_date":1684244452,"answer_id":76263741,"question_id":76261701,"body_markdown":"I would use one additional `JPanel` for each line, and would not extend `JFrame` (unless needed, that is, adding functionality to it)):\r\n\r\n````\r\npublic class SwingApp2 {\r\n    \r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(SwingApp2::new);\r\n    }\r\n\r\n    private SwingApp2()\r\n    {\r\n        var jb1 = new JButton(&quot;1&quot;);\r\n        var jb2 = new JButton(&quot;2&quot;);\r\n        var jb3 = new JButton(&quot;3&quot;);\r\n        var jb4 = new JButton(&quot;4&quot;);\r\n        var jb5 = new JButton(&quot;5&quot;);\r\n\r\n        var line1 = new JPanel(new GridBagLayout());\r\n        var gbc = new GridBagConstraints(RELATIVE, 0, 1, 1, 1.0, 1.0, CENTER, BOTH, new Insets(0, 0, 0, 0), 0, 0);\r\n        line1.add(jb1, gbc);\r\n        line1.add(jb2, gbc);\r\n\r\n        var line2 = new JPanel(new GridBagLayout());\r\n        line2.add(jb3, gbc);\r\n        gbc.weightx *= 2;\r\n        line2.add(jb4, gbc);\r\n        gbc.weightx /= 2;\r\n        line2.add(jb5, gbc);\r\n\r\n        var frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n        // using GridLayout so the lines are same height\r\n        frame.setLayout(new GridLayout(0, 1));\r\n        frame.add(line1);\r\n        frame.add(line2);\r\n        frame.setSize(700,200);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n````\r\n\r\nResult:   \r\n[![enter image description here][1]][1]\r\n\r\n&lt;sub&gt;Just one way to do it, very dependent of how the components should be resized if the GUI size is changed&lt;/sub&gt;  \r\n&lt;sub&gt;Also be aware that sizes will change according to preferred size, that is, labels content&lt;/sub&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RZT63.png","title":"Java Swing GridBagLayout not as expected","body":"<p>I would use one additional <code>JPanel</code> for each line, and would not extend <code>JFrame</code> (unless needed, that is, adding functionality to it)):</p>\n<pre><code>public class SwingApp2 {\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(SwingApp2::new);\n    }\n\n    private SwingApp2()\n    {\n        var jb1 = new JButton(&quot;1&quot;);\n        var jb2 = new JButton(&quot;2&quot;);\n        var jb3 = new JButton(&quot;3&quot;);\n        var jb4 = new JButton(&quot;4&quot;);\n        var jb5 = new JButton(&quot;5&quot;);\n\n        var line1 = new JPanel(new GridBagLayout());\n        var gbc = new GridBagConstraints(RELATIVE, 0, 1, 1, 1.0, 1.0, CENTER, BOTH, new Insets(0, 0, 0, 0), 0, 0);\n        line1.add(jb1, gbc);\n        line1.add(jb2, gbc);\n\n        var line2 = new JPanel(new GridBagLayout());\n        line2.add(jb3, gbc);\n        gbc.weightx *= 2;\n        line2.add(jb4, gbc);\n        gbc.weightx /= 2;\n        line2.add(jb5, gbc);\n\n        var frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        // using GridLayout so the lines are same height\n        frame.setLayout(new GridLayout(0, 1));\n        frame.add(line1);\n        frame.add(line2);\n        frame.setSize(700,200);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>Result:<br />\n<a href=\"https://i.stack.imgur.com/RZT63.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RZT63.png\" alt=\"enter image description here\" /></a></p>\n<p><sub>Just one way to do it, very dependent of how the components should be resized if the GUI size is changed</sub><br />\n<sub>Also be aware that sizes will change according to preferred size, that is, labels content</sub></p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684246825,"creation_date":1684246825,"answer_id":76264144,"question_id":76261701,"body_markdown":"GridBagLayout is concerned with alignment, not proportions.  Occasionally it can be used to lay out components with equal sizes, but it’s not good at that.\r\n\r\n[SpringLayout](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/SpringLayout.html), however, is quite good at that, and has methods specifically for doing that.  The trade-off is that SpringLayout is hard to use and easy to use incorrectly.  It works like the “form layouts” of the 1990s.  For each component in the layout, you have to state where at least one horizontal edge and one vertical edge should be located, relative to the edges of the container or relative to the edges of other child components.\r\n\r\nFirst, it’s better to create your container, rather than extending JFrame.  It doesn’t make sense to subclass JFrame, since you’re merely using JFrame, not changing its behavior:\r\n\r\n    SpringLayout layout = new SpringLayout();\r\n    JPanel panel = new JPanel(layout);\r\n\r\nNext, let’s compute a consistent size for the small buttons:\r\n\r\n    JButton[] buttons = { jb1, jb2, jb3, jb4, jb5 };\r\n\r\n    Spring width = Spring.constant(0);\r\n    Spring height = Spring.constant(0);\r\n    for (JButton button : buttons) {\r\n        width = Spring.max(width, Spring.width(button));\r\n        height = Spring.max(height, Spring.height(button));\r\n    }\r\n\r\nNext, let’s make buttons 1, 2, and 4 twice as wide:\r\n\r\n    Spring largeButtonWidth = Spring.scale(width, 2);\r\n\r\nNow we can use those Springs to create [constraints](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/SpringLayout.Constraints.html) for each button:\r\n\r\n    Spring zero = Spring.constant(0);\r\n\r\n    panel.add(jb1, new SpringLayout.Constraints(\r\n        zero, zero, largeButtonWidth, height));\r\n\r\n    panel.add(jb2, new SpringLayout.Constraints(\r\n        largeButtonWidth, zero, largeButtonWidth, height));\r\n\r\n    panel.add(jb3, new SpringLayout.Constraints(\r\n        zero, height, width, height));\r\n\r\n    panel.add(jb4, new SpringLayout.Constraints(\r\n        width, height, largeButtonWidth, height));\r\n\r\n    panel.add(jb5, new SpringLayout.Constraints(\r\n        Spring.sum(width, largeButtonWidth), height, width, height));\r\n\r\nFinally, we need to tell the layout how big the container itself should be.  It needs to be wide enough to accommodate jb2 and jb5, and tall enough to accommodate jb3, jb4, and jb5.  We could use any of those to specify the container’s preferred size, but jb5 is probably the easiest choice:\r\n\r\n    layout.putConstraint(\r\n        SpringLayout.EAST, panel, 0, SpringLayout.EAST, jb5);\r\n    layout.putConstraint(\r\n        SpringLayout.SOUTH, panel, 0, SpringLayout.SOUTH, jb5);\r\n\r\nPutting it all together looks like this:\r\n\r\n    import java.awt.EventQueue;\r\n\r\n    import javax.swing.JButton;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.Spring;\r\n    import javax.swing.SpringLayout;\r\n\r\n    public class RelativeButtonSizesDemo {\r\n        private final JFrame frame;\r\n\r\n        public RelativeButtonSizesDemo() {\r\n            JButton jb1 = new JButton(&quot;1&quot;);\r\n            JButton jb2 = new JButton(&quot;2&quot;);\r\n            JButton jb3 = new JButton(&quot;3&quot;);\r\n            JButton jb4 = new JButton(&quot;4&quot;);\r\n            JButton jb5 = new JButton(&quot;5&quot;);\r\n\r\n            JButton[] buttons = { jb1, jb2, jb3, jb4, jb5 };\r\n\r\n            Spring width = Spring.constant(0);\r\n            Spring height = Spring.constant(0);\r\n            for (JButton button : buttons) {\r\n                width = Spring.max(width, Spring.width(button));\r\n                height = Spring.max(height, Spring.height(button));\r\n            }\r\n\r\n            // jb1, jb2, and jb4 will be twice as wide as the other buttons.\r\n            Spring largeButtonWidth = Spring.scale(width, 2);\r\n\r\n            SpringLayout layout = new SpringLayout();\r\n            JPanel panel = new JPanel(layout);\r\n\r\n            Spring zero = Spring.constant(0);\r\n\r\n            panel.add(jb1, new SpringLayout.Constraints(\r\n                zero, zero, largeButtonWidth, height));\r\n\r\n            panel.add(jb2, new SpringLayout.Constraints(\r\n                largeButtonWidth, zero, largeButtonWidth, height));\r\n\r\n            panel.add(jb3, new SpringLayout.Constraints(\r\n                zero, height, width, height));\r\n\r\n            panel.add(jb4, new SpringLayout.Constraints(\r\n                width, height, largeButtonWidth, height));\r\n\r\n            panel.add(jb5, new SpringLayout.Constraints(\r\n                Spring.sum(width, largeButtonWidth), height, width, height));\r\n\r\n            // Set preferred size of panel itself to accommodate buttons.\r\n            layout.putConstraint(\r\n                SpringLayout.EAST, panel, 0, SpringLayout.EAST, jb5);\r\n            layout.putConstraint(\r\n                SpringLayout.SOUTH, panel, 0, SpringLayout.SOUTH, jb5);\r\n\r\n            frame = new JFrame(&quot;Relative Button Sizes Demo&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.getContentPane().add(panel);\r\n            frame.pack();\r\n            frame.setLocationByPlatform(true);\r\n        }\r\n\r\n        public void show() {\r\n            frame.setVisible(true);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(() -&gt; new RelativeButtonSizesDemo().show());\r\n        }\r\n    }\r\n","title":"Java Swing GridBagLayout not as expected","body":"<p>GridBagLayout is concerned with alignment, not proportions.  Occasionally it can be used to lay out components with equal sizes, but it’s not good at that.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/SpringLayout.html\" rel=\"nofollow noreferrer\">SpringLayout</a>, however, is quite good at that, and has methods specifically for doing that.  The trade-off is that SpringLayout is hard to use and easy to use incorrectly.  It works like the “form layouts” of the 1990s.  For each component in the layout, you have to state where at least one horizontal edge and one vertical edge should be located, relative to the edges of the container or relative to the edges of other child components.</p>\n<p>First, it’s better to create your container, rather than extending JFrame.  It doesn’t make sense to subclass JFrame, since you’re merely using JFrame, not changing its behavior:</p>\n<pre><code>SpringLayout layout = new SpringLayout();\nJPanel panel = new JPanel(layout);\n</code></pre>\n<p>Next, let’s compute a consistent size for the small buttons:</p>\n<pre><code>JButton[] buttons = { jb1, jb2, jb3, jb4, jb5 };\n\nSpring width = Spring.constant(0);\nSpring height = Spring.constant(0);\nfor (JButton button : buttons) {\n    width = Spring.max(width, Spring.width(button));\n    height = Spring.max(height, Spring.height(button));\n}\n</code></pre>\n<p>Next, let’s make buttons 1, 2, and 4 twice as wide:</p>\n<pre><code>Spring largeButtonWidth = Spring.scale(width, 2);\n</code></pre>\n<p>Now we can use those Springs to create <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/SpringLayout.Constraints.html\" rel=\"nofollow noreferrer\">constraints</a> for each button:</p>\n<pre><code>Spring zero = Spring.constant(0);\n\npanel.add(jb1, new SpringLayout.Constraints(\n    zero, zero, largeButtonWidth, height));\n\npanel.add(jb2, new SpringLayout.Constraints(\n    largeButtonWidth, zero, largeButtonWidth, height));\n\npanel.add(jb3, new SpringLayout.Constraints(\n    zero, height, width, height));\n\npanel.add(jb4, new SpringLayout.Constraints(\n    width, height, largeButtonWidth, height));\n\npanel.add(jb5, new SpringLayout.Constraints(\n    Spring.sum(width, largeButtonWidth), height, width, height));\n</code></pre>\n<p>Finally, we need to tell the layout how big the container itself should be.  It needs to be wide enough to accommodate jb2 and jb5, and tall enough to accommodate jb3, jb4, and jb5.  We could use any of those to specify the container’s preferred size, but jb5 is probably the easiest choice:</p>\n<pre><code>layout.putConstraint(\n    SpringLayout.EAST, panel, 0, SpringLayout.EAST, jb5);\nlayout.putConstraint(\n    SpringLayout.SOUTH, panel, 0, SpringLayout.SOUTH, jb5);\n</code></pre>\n<p>Putting it all together looks like this:</p>\n<pre><code>import java.awt.EventQueue;\n\nimport javax.swing.JButton;\nimport javax.swing.JPanel;\nimport javax.swing.JFrame;\nimport javax.swing.Spring;\nimport javax.swing.SpringLayout;\n\npublic class RelativeButtonSizesDemo {\n    private final JFrame frame;\n\n    public RelativeButtonSizesDemo() {\n        JButton jb1 = new JButton(&quot;1&quot;);\n        JButton jb2 = new JButton(&quot;2&quot;);\n        JButton jb3 = new JButton(&quot;3&quot;);\n        JButton jb4 = new JButton(&quot;4&quot;);\n        JButton jb5 = new JButton(&quot;5&quot;);\n\n        JButton[] buttons = { jb1, jb2, jb3, jb4, jb5 };\n\n        Spring width = Spring.constant(0);\n        Spring height = Spring.constant(0);\n        for (JButton button : buttons) {\n            width = Spring.max(width, Spring.width(button));\n            height = Spring.max(height, Spring.height(button));\n        }\n\n        // jb1, jb2, and jb4 will be twice as wide as the other buttons.\n        Spring largeButtonWidth = Spring.scale(width, 2);\n\n        SpringLayout layout = new SpringLayout();\n        JPanel panel = new JPanel(layout);\n\n        Spring zero = Spring.constant(0);\n\n        panel.add(jb1, new SpringLayout.Constraints(\n            zero, zero, largeButtonWidth, height));\n\n        panel.add(jb2, new SpringLayout.Constraints(\n            largeButtonWidth, zero, largeButtonWidth, height));\n\n        panel.add(jb3, new SpringLayout.Constraints(\n            zero, height, width, height));\n\n        panel.add(jb4, new SpringLayout.Constraints(\n            width, height, largeButtonWidth, height));\n\n        panel.add(jb5, new SpringLayout.Constraints(\n            Spring.sum(width, largeButtonWidth), height, width, height));\n\n        // Set preferred size of panel itself to accommodate buttons.\n        layout.putConstraint(\n            SpringLayout.EAST, panel, 0, SpringLayout.EAST, jb5);\n        layout.putConstraint(\n            SpringLayout.SOUTH, panel, 0, SpringLayout.SOUTH, jb5);\n\n        frame = new JFrame(&quot;Relative Button Sizes Demo&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(panel);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n    }\n\n    public void show() {\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new RelativeButtonSizesDemo().show());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684275800,"creation_date":1684275800,"answer_id":76267435,"question_id":76261701,"body_markdown":"&gt; The reason this GUI is difficult to achieve is that the GridBagLayout has nothing to use to size the four columns\r\n\r\n`GridBagLayout` does have properties that allow you to define default values for columns that don&#39;t have components as is demonstrated below:\r\n\r\n    import java.util.*;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class GridBagLayoutTest3 implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new GridBagLayoutTest3());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createPanels(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createPanels() {\r\n    \r\n    \t\t//  Create the GridBagLayout and GridBagConstraints to be used by the panel\r\n    \r\n    \t\tGridBagLayout gbl = new GridBagLayout();\r\n    \t\tJPanel panel = new JPanel(gbl);\r\n    \r\n    \t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \t\tgbc.anchor = GridBagConstraints.LINE_START;\r\n    \t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n    \t\tgbc.insets = new Insets(5, 5, 5, 5);\r\n    \r\n    \t\t//  Create and add components to the panel\r\n    \r\n    \t\tJButton button1 = new JButton(&quot;Button 1&quot;);\r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy = 0;\r\n    \t\tgbc.gridwidth = 2;\r\n    \t\tpanel.add(button1, gbc);\r\n    \r\n    \t\tgbc.gridx += 2;\r\n    \t\tJButton button2 = new JButton(&quot;Button 2&quot;);\r\n    \t\tpanel.add(button2, gbc);\r\n    \r\n    \t\tgbc.gridwidth = 1;\r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy++;\r\n    \t\tJButton button3 = new JButton(&quot;Button 3&quot;);\r\n    \t\tpanel.add(button3, gbc);\r\n    \r\n    \t\tgbc.gridwidth = 2;\r\n    \t\tgbc.gridx += 1;\r\n    \t\tJButton button4 = new JButton(&quot;Button 4&quot;);\r\n    \t\tpanel.add(button4, gbc);\r\n    \r\n    \t\tgbc.gridwidth = 1;\r\n    \t\tgbc.gridx += 2;\r\n    \t\tJButton button5 = new JButton(&quot;Button 5&quot;);\r\n    \t\tpanel.add(button5, gbc);\r\n    \r\n    \t\t//  Set properties of the GridBagLayout for columns without components in a single column\r\n    \r\n    \t\tint[] columns = new int[4];\r\n    \t\tArrays.fill(columns, button1.getPreferredSize().width);\r\n    \t\tgbl.columnWidths = columns;\r\n    \t\tdouble[] weights = new double[4];\r\n    \t\tArrays.fill(weights, 1.0);\r\n    \t\tgbl.columnWeights = weights;\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    }\r\n\r\nNote: you can also check out: https://stackoverflow.com/a/57463596/131872 which has a more involved example showing how to use this approach for a &quot;keyboard&quot; layout of buttons.","title":"Java Swing GridBagLayout not as expected","body":"<blockquote>\n<p>The reason this GUI is difficult to achieve is that the GridBagLayout has nothing to use to size the four columns</p>\n</blockquote>\n<p><code>GridBagLayout</code> does have properties that allow you to define default values for columns that don't have components as is demonstrated below:</p>\n<pre><code>import java.util.*;\nimport java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class GridBagLayoutTest3 implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new GridBagLayoutTest3());\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createPanels(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createPanels() {\n\n        //  Create the GridBagLayout and GridBagConstraints to be used by the panel\n\n        GridBagLayout gbl = new GridBagLayout();\n        JPanel panel = new JPanel(gbl);\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.anchor = GridBagConstraints.LINE_START;\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        gbc.insets = new Insets(5, 5, 5, 5);\n\n        //  Create and add components to the panel\n\n        JButton button1 = new JButton(&quot;Button 1&quot;);\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.gridwidth = 2;\n        panel.add(button1, gbc);\n\n        gbc.gridx += 2;\n        JButton button2 = new JButton(&quot;Button 2&quot;);\n        panel.add(button2, gbc);\n\n        gbc.gridwidth = 1;\n        gbc.gridx = 0;\n        gbc.gridy++;\n        JButton button3 = new JButton(&quot;Button 3&quot;);\n        panel.add(button3, gbc);\n\n        gbc.gridwidth = 2;\n        gbc.gridx += 1;\n        JButton button4 = new JButton(&quot;Button 4&quot;);\n        panel.add(button4, gbc);\n\n        gbc.gridwidth = 1;\n        gbc.gridx += 2;\n        JButton button5 = new JButton(&quot;Button 5&quot;);\n        panel.add(button5, gbc);\n\n        //  Set properties of the GridBagLayout for columns without components in a single column\n\n        int[] columns = new int[4];\n        Arrays.fill(columns, button1.getPreferredSize().width);\n        gbl.columnWidths = columns;\n        double[] weights = new double[4];\n        Arrays.fill(weights, 1.0);\n        gbl.columnWeights = weights;\n\n        return panel;\n    }\n\n}\n</code></pre>\n<p>Note: you can also check out: <a href=\"https://stackoverflow.com/a/57463596/131872\">https://stackoverflow.com/a/57463596/131872</a> which has a more involved example showing how to use this approach for a &quot;keyboard&quot; layout of buttons.</p>\n"}],"owner":{"account_id":8356470,"reputation":125,"user_id":6276545,"display_name":"Ewe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76262625,"answer_count":5,"score":2,"last_activity_date":1684275800,"creation_date":1684231058,"question_id":76261701,"body_markdown":"Some how I can&#39;t get gridwidth to work in GridBagLayout in my simple SwingApp.\r\n\r\nI have this code in Java Swing:\r\n\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.Border;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.GridBagConstraints;\r\n    \r\n    class GridBagLayt extends JFrame {\r\n     \r\n        GridBagLayt()\r\n        {\r\n    \t\tJButton jb1 = new JButton(&quot;1&quot;);\r\n            JButton jb2 = new JButton(&quot;2&quot;);\r\n            JButton jb3 = new JButton(&quot;3&quot;);\r\n            JButton jb4 = new JButton(&quot;4&quot;);\r\n            JButton jb5 = new JButton(&quot;5&quot;);\r\n    \t\t\r\n            GridBagLayout lay = new GridBagLayout();\r\n            GridBagConstraints cons = new GridBagConstraints();\r\n            \r\n            setLayout(lay);\r\n            cons.fill = GridBagConstraints.BOTH;\r\n            cons.gridheight = 1;\r\n            cons.weightx = 1;\r\n            cons.weighty = 1;\r\n    \r\n    \r\n            cons.gridx = 0; cons.gridy = 0; \r\n            cons.gridwidth = 2;\r\n            lay.setConstraints(jb1, cons);\r\n            add(jb1);\r\n            \r\n            cons.gridx = 2; \r\n            lay.setConstraints(jb2, cons);\r\n            add(jb2);\r\n             \r\n            cons.gridx = 0; cons.gridy = 1; \r\n            cons.gridwidth = 1;\r\n            lay.setConstraints(jb3, cons);\r\n            add(jb3);\r\n            \r\n            cons.gridx = 1;\r\n            cons.gridwidth = 2;\r\n            lay.setConstraints(jb4, cons);\r\n            add(jb4);\r\n            \r\n            cons.gridx = 3;\r\n            cons.gridwidth = 1;\r\n            lay.setConstraints(jb5, cons);\r\n            add(jb5);\r\n            \r\n    \t\t\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setSize(700,200);\r\n            setVisible(true);\r\n        }\r\n      }\r\n    \r\n    \tpublic class SwingApp {\r\n     \r\n    \t\tpublic static void main(String[] args) {\r\n         \r\n    \t\t\tnew GridBagLayt();\r\n    \t\t}\r\n    \t}\r\n\r\nThis is what I want to get:\r\n[![enter image description here][1]][1]\r\n\r\nBut instead I get this: \r\n\r\n[![enter image description here][2]][2]\r\n\r\nI really don&#39;t know what the problem is, the coordinate and gridwidth seems ok to me, and I expected this to work, but it&#39;s not. And if I add four more buttons between this two rows, then the third row seems OK, but I don&#39;t want that:\r\n\r\nExample: If I add this code\r\n\r\n     \r\n    cons.gridx = 0; cons.gridy = 0; \r\n            cons.gridwidth = 2;\r\n            lay.setConstraints(jb1, cons);\r\n            add(jb1);\r\n            \r\n            cons.gridx = 2; \r\n            lay.setConstraints(jb2, cons);\r\n            add(jb2);\r\n            \r\n            \r\n            cons.gridx = 0; cons.gridy = 1; \r\n            cons.gridwidth = 1;\r\n            lay.setConstraints(jb3, cons);\r\n            add(jb3);\r\n            \r\n            cons.gridx = 1;\r\n            lay.setConstraints(jb4, cons);\r\n            add(jb4);\r\n            \r\n            cons.gridx = 2;\r\n            lay.setConstraints(jb5, cons);\r\n            add(jb5);\r\n          \r\n            cons.gridx = 3;\r\n            lay.setConstraints(jb6, cons);\r\n            add(jb6);\r\n            \r\n            cons.gridx = 0; cons.gridy = 2; \r\n            lay.setConstraints(jb7, cons);\r\n            add(jb7);\r\n            \r\n            \r\n            cons.gridx = 1; cons.gridy = 2; \r\n            cons.gridwidth = 2;\r\n            lay.setConstraints(jb8, cons);\r\n            add(jb8);\r\n            \r\n            cons.gridx = 3; cons.gridy = 2; \r\n            cons.gridwidth = 1;\r\n            lay.setConstraints(jb9, cons);\r\n            add(jb9);\r\n\r\nThen I got this:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n**But I don&#39;t want this second row**\r\n\r\n\r\n \r\n  [1]: https://i.stack.imgur.com/Jtcf4.png\r\n  [2]: https://i.stack.imgur.com/ZtvvA.png\r\n  [3]: https://i.stack.imgur.com/uOShA.png","title":"Java Swing GridBagLayout not as expected","body":"<p>Some how I can't get gridwidth to work in GridBagLayout in my simple SwingApp.</p>\n<p>I have this code in Java Swing:</p>\n<pre><code>import javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.Border;\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport java.awt.GridBagLayout;\nimport java.awt.GridBagConstraints;\n\nclass GridBagLayt extends JFrame {\n \n    GridBagLayt()\n    {\n        JButton jb1 = new JButton(&quot;1&quot;);\n        JButton jb2 = new JButton(&quot;2&quot;);\n        JButton jb3 = new JButton(&quot;3&quot;);\n        JButton jb4 = new JButton(&quot;4&quot;);\n        JButton jb5 = new JButton(&quot;5&quot;);\n        \n        GridBagLayout lay = new GridBagLayout();\n        GridBagConstraints cons = new GridBagConstraints();\n        \n        setLayout(lay);\n        cons.fill = GridBagConstraints.BOTH;\n        cons.gridheight = 1;\n        cons.weightx = 1;\n        cons.weighty = 1;\n\n\n        cons.gridx = 0; cons.gridy = 0; \n        cons.gridwidth = 2;\n        lay.setConstraints(jb1, cons);\n        add(jb1);\n        \n        cons.gridx = 2; \n        lay.setConstraints(jb2, cons);\n        add(jb2);\n         \n        cons.gridx = 0; cons.gridy = 1; \n        cons.gridwidth = 1;\n        lay.setConstraints(jb3, cons);\n        add(jb3);\n        \n        cons.gridx = 1;\n        cons.gridwidth = 2;\n        lay.setConstraints(jb4, cons);\n        add(jb4);\n        \n        cons.gridx = 3;\n        cons.gridwidth = 1;\n        lay.setConstraints(jb5, cons);\n        add(jb5);\n        \n        \n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(700,200);\n        setVisible(true);\n    }\n  }\n\n    public class SwingApp {\n \n        public static void main(String[] args) {\n     \n            new GridBagLayt();\n        }\n    }\n</code></pre>\n<p>This is what I want to get:\n<a href=\"https://i.stack.imgur.com/Jtcf4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jtcf4.png\" alt=\"enter image description here\" /></a></p>\n<p>But instead I get this:</p>\n<p><a href=\"https://i.stack.imgur.com/ZtvvA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZtvvA.png\" alt=\"enter image description here\" /></a></p>\n<p>I really don't know what the problem is, the coordinate and gridwidth seems ok to me, and I expected this to work, but it's not. And if I add four more buttons between this two rows, then the third row seems OK, but I don't want that:</p>\n<p>Example: If I add this code</p>\n<pre><code>cons.gridx = 0; cons.gridy = 0; \n        cons.gridwidth = 2;\n        lay.setConstraints(jb1, cons);\n        add(jb1);\n        \n        cons.gridx = 2; \n        lay.setConstraints(jb2, cons);\n        add(jb2);\n        \n        \n        cons.gridx = 0; cons.gridy = 1; \n        cons.gridwidth = 1;\n        lay.setConstraints(jb3, cons);\n        add(jb3);\n        \n        cons.gridx = 1;\n        lay.setConstraints(jb4, cons);\n        add(jb4);\n        \n        cons.gridx = 2;\n        lay.setConstraints(jb5, cons);\n        add(jb5);\n      \n        cons.gridx = 3;\n        lay.setConstraints(jb6, cons);\n        add(jb6);\n        \n        cons.gridx = 0; cons.gridy = 2; \n        lay.setConstraints(jb7, cons);\n        add(jb7);\n        \n        \n        cons.gridx = 1; cons.gridy = 2; \n        cons.gridwidth = 2;\n        lay.setConstraints(jb8, cons);\n        add(jb8);\n        \n        cons.gridx = 3; cons.gridy = 2; \n        cons.gridwidth = 1;\n        lay.setConstraints(jb9, cons);\n        add(jb9);\n</code></pre>\n<p>Then I got this:</p>\n<p><a href=\"https://i.stack.imgur.com/uOShA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uOShA.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>But I don't want this second row</strong></p>\n"},{"tags":["java","precision"],"answers":[{"tags":[],"owner":{"account_id":28614784,"reputation":86,"user_id":21909039,"display_name":"user21909039"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1684271844,"creation_date":1684271806,"answer_id":76267109,"question_id":76267044,"body_markdown":"From jshell (interactive java shell):\r\njshell&gt; d1+d2-d2\r\n$6 ==&gt; 0.2097619047619048\r\n\r\nWhich does not equal d1, so you can quickly confirm that the errors won’t cancel each other out.\r\n\r\nAn extreme example for the strange behavior of floating point numbers would be to add a very small amount to a very large one — this addition might not even change the large value, so in general d1 + d2 can be equal to d1, even when d2 is not zero.\r\n\r\nFloating point math is tricky, where numeric accuracy is very important make sure you use/understand the algorithm at hand, use libraries written by experts, or use BigDecimal, or other arbitrary precision numbers.","title":"java double precision error when adding and subtracting the same number","body":"<p>From jshell (interactive java shell):\njshell&gt; d1+d2-d2\n$6 ==&gt; 0.2097619047619048</p>\n<p>Which does not equal d1, so you can quickly confirm that the errors won’t cancel each other out.</p>\n<p>An extreme example for the strange behavior of floating point numbers would be to add a very small amount to a very large one — this addition might not even change the large value, so in general d1 + d2 can be equal to d1, even when d2 is not zero.</p>\n<p>Floating point math is tricky, where numeric accuracy is very important make sure you use/understand the algorithm at hand, use libraries written by experts, or use BigDecimal, or other arbitrary precision numbers.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1684274020,"creation_date":1684274020,"answer_id":76267282,"question_id":76267044,"body_markdown":"It sounds like you&#39;re confused about how IEEE754 floating point math works (this is how `double` and `float` behave in java - according to the IEEE754 spec). That&#39;s.. not surprising; it is quite a complicated system, all told!\r\n\r\nThere are a few easy to understand mental models that should help. Once you know these, you should be able to intuit the answer to your question.\r\n\r\n## Remember, computers are decimal\r\n\r\nI have a challenge for you. Grab a small piece of paper and write down, in decimal notation, the value of 1 divided by 5. This should be easy, you just write down &quot;0.2&quot; and you&#39;re done.\r\n\r\nNow flip it over and write down 1 divided by 3.\r\n\r\nYou can&#39;t do it. You can try to get close, depending on the size of your piece of paper you end up with &quot;0.333333333333333&quot; but then you run out of room. It doesn&#39;t matter how large your paper is, _given the restriction that you must write it down in decimal and not as a fraction_, you cannot do the job.\r\n\r\nSo what&#39;s so special about 3 versus 5?\r\n\r\nThe trick is, 5 is a common factor of the base we use in decimal: 5 is divisible by 10, and the decimal system is base 10. For the same reason, 1/2 works (0.5), and even 3/4 works (When you break four down into prime factors, it is `2*2` - and _all_ of those are cleanly divisible by 10, our base. That&#39;s why 3/4ths &#39;works&#39; in decimal perfectly). But 1/7 does not work just like 1/6 doesn&#39;t work (6 broken down is `2*3` - that 3 isn&#39;t cleanly divisible into 10, so, you can&#39;t write 1/6th cleanly in decimal).\r\n\r\nComputers count in binary though, which immediately results in a nasty surprise: The only common factor in decimal is 2 itself. So, IEEE754 math can accurately represent e.g. 1/8 or even 7/4096, but it&#39;s quite limited. 1/3, 1/5, 1/7, 1/9, even 1/10 does not work. Only multiples of 2 &#39;work&#39; without errors in decimal. We can trivially observe this:\r\n\r\n```\r\ndouble x = 0;\r\nfor (int i = 0; i &lt; 10; i++) x += 0.1;\r\nSystem.out.println(1.0 == x); // prints &#39;false&#39;. What the....???\r\n```\r\n\r\nTry the same chicanery with e.g. `0.75` and you can never get wonky results as 0.25 also works out perfectly well in IEEE754.\r\n\r\nIn other words, &quot;0.1&quot; (1/10th) works great in our decimal system but in binary it&#39;s as problematic as 1/3rd is in decimal: We run out of &#39;room&#39; on our piece of paper, so the computer has to round it.\r\n\r\n\r\n## The number line is biased.\r\n\r\nComputers are binary beasts and CPUs love fixed width notions - computers can __only__ store zeroes and ones, they can&#39;t store anything else, not even how lage things are, so unless an external factor dictates how large things are, computers don&#39;t know where to look. When writing numbers on piece of paper we have the digits 0 through 9, but we use more than that: We use a dot for fractional nation (1.75 for example), and we use spacing on the page to indicate where things start and end. Computers don&#39;t have any of that, so unless you want to expend zeroes and ones to store how large things are, the easiest way to do things is to just decree that the number is 64-bit. Now we know where to start and stop.\r\n\r\nGiven 64 bits, you can only represent at most `2^64` unique numbers. That&#39;s _a lot_ of numbers, but not an infinite amount.\r\n\r\nImagine a number line, from negative infinity to positive infinity. Which is what `double` at least theoretically is capable of representing. There are an infinite amount of numbers between 0 and 1, let alone across that number line.\r\n\r\nNevertheless, 0.0000000000% of them can be accurately represented by a double. After all, our double can only represent at most 2^64 numbers whereas our number line has an infinite expanse of them.\r\n\r\nSo how does `double` work? First, it picks slightly less than 2^64 unique numbers. Imagine we throw that many darts at the number line. We call these &#39;the blessed numbers&#39; - `double` can _only_ represent the darts, not any other number. And then IEEE754 makes a very simple decree: Any number (so, any input, any intermediate result) is always __silently__ rounded to the nearest dart.\r\n\r\nIn other words, if we call `dart(x)` the function that rounds a result to the nearest dart, writing `d1 + d2 - d2 - d1` breaks down to `(((d1 + d2) - d2) - d1)`, which turns into `dart(dart(dart(dart(d1) + dart(d2)) - dart(d2)) - dart(d1))`. _That is a lot of darts!!_\r\n\r\nThe darts aren&#39;t uniformly distributed. In fact, half the darts are very close to 0). As you move away from zero, the distance between any two darts grows bigger and bigger.\r\n\r\nAt 2^53, the distance between 2 darts starts exceeding 1.0. 2^53? That is a blessed number. In fact, all integers from 0 to 2^53 are blessed. But 2^53 + 1? Not blessed. Let&#39;s try it!\r\n\r\n```\r\nlong a = 2L &lt;&lt; 52;\r\nsysout(a); // 9007199254740992\r\n\r\ndouble b = Math.pow(2.0, 53);\r\nsysout(b); // 9.007199254740992E15\r\nsysout((long) b); // 9007199254740992\r\nsysout(a == (long) b); // true\r\n```\r\n\r\nSo far, so good - the `System.out.println` code prints large doubles in exponential notation but it is exactly correct, as &#39;cast that back to a long&#39; shows. But now...\r\n\r\n```\r\ndouble c = b + 1;\r\nsysout(c); // 9.007199254740992E15\r\nsysout(b == c); // true - wait what?\r\n```\r\n\r\nAdding 1 __did nothing__. b and c are in fact the same value still. `dart(b + 1)` is the same as b because 2^53 really is the closest dart to the result of calculating 2^53+1.\r\n\r\n```\r\ndouble d = b - 1;\r\nsysout(d); // 9.007199254740991E15\r\nsysout(b == d); // false\r\n```\r\n\r\nBut going one down does work fine.\r\n\r\n## Explaining your question\r\n\r\nNow we can trivially explain your question:\r\n\r\n* Your 2 numbers are rounded to the nearest dart. No problem.\r\n* Then we add darted `d1` and darted `d2` together and this number doesn&#39;t perfectly fit on a dart (why would it - it rarely does). So that too is rounded to the nearest dart.\r\n* We then subtract darted `d2` again, and then dart that result. That doesn&#39;t get us to the same number. This shouldn&#39;t be too surprising - the darts aren&#39;t equally distributed - adding d1 and d2 together moves to a &#39;less dart-dense&#39; area of the number line. Less dart-dense means less accuracy. That sidestep into higher numbers (add d2, then subtract again - in the middle of that, we are in the less dart-dense area) costs us.\r\n* Finally you subtract `d1` from what you have. Given that we are now moving closer to the 0, there are _lots_ of darts here, so the dart-rounding doesn&#39;t get us back to 0, but gets us to some dart really close to 0.\r\n\r\nSure, in theory java could have gone: Oh, hey, `d1+d2-d2-d1`, I can get rid of `d2-d2`, and then that leaves `d1-d1` and get rid of that too, and that leaves `0`, but that&#39;s just not how it works: The java spec clearly says that `+` and `-` are binary operators (not any-amount operators), and they are resolved left-to-right. Java is not a mathematician simplifying formulas on a whiteboard. Java simply does what the spec says it does. Which is to break that down to `(((d1+d2)-d2)-d1)`, and then apply IEEE753 (i.e. round to nearest dart for all the things).\r\n","title":"java double precision error when adding and subtracting the same number","body":"<p>It sounds like you're confused about how IEEE754 floating point math works (this is how <code>double</code> and <code>float</code> behave in java - according to the IEEE754 spec). That's.. not surprising; it is quite a complicated system, all told!</p>\n<p>There are a few easy to understand mental models that should help. Once you know these, you should be able to intuit the answer to your question.</p>\n<h2>Remember, computers are decimal</h2>\n<p>I have a challenge for you. Grab a small piece of paper and write down, in decimal notation, the value of 1 divided by 5. This should be easy, you just write down &quot;0.2&quot; and you're done.</p>\n<p>Now flip it over and write down 1 divided by 3.</p>\n<p>You can't do it. You can try to get close, depending on the size of your piece of paper you end up with &quot;0.333333333333333&quot; but then you run out of room. It doesn't matter how large your paper is, <em>given the restriction that you must write it down in decimal and not as a fraction</em>, you cannot do the job.</p>\n<p>So what's so special about 3 versus 5?</p>\n<p>The trick is, 5 is a common factor of the base we use in decimal: 5 is divisible by 10, and the decimal system is base 10. For the same reason, 1/2 works (0.5), and even 3/4 works (When you break four down into prime factors, it is <code>2*2</code> - and <em>all</em> of those are cleanly divisible by 10, our base. That's why 3/4ths 'works' in decimal perfectly). But 1/7 does not work just like 1/6 doesn't work (6 broken down is <code>2*3</code> - that 3 isn't cleanly divisible into 10, so, you can't write 1/6th cleanly in decimal).</p>\n<p>Computers count in binary though, which immediately results in a nasty surprise: The only common factor in decimal is 2 itself. So, IEEE754 math can accurately represent e.g. 1/8 or even 7/4096, but it's quite limited. 1/3, 1/5, 1/7, 1/9, even 1/10 does not work. Only multiples of 2 'work' without errors in decimal. We can trivially observe this:</p>\n<pre><code>double x = 0;\nfor (int i = 0; i &lt; 10; i++) x += 0.1;\nSystem.out.println(1.0 == x); // prints 'false'. What the....???\n</code></pre>\n<p>Try the same chicanery with e.g. <code>0.75</code> and you can never get wonky results as 0.25 also works out perfectly well in IEEE754.</p>\n<p>In other words, &quot;0.1&quot; (1/10th) works great in our decimal system but in binary it's as problematic as 1/3rd is in decimal: We run out of 'room' on our piece of paper, so the computer has to round it.</p>\n<h2>The number line is biased.</h2>\n<p>Computers are binary beasts and CPUs love fixed width notions - computers can <strong>only</strong> store zeroes and ones, they can't store anything else, not even how lage things are, so unless an external factor dictates how large things are, computers don't know where to look. When writing numbers on piece of paper we have the digits 0 through 9, but we use more than that: We use a dot for fractional nation (1.75 for example), and we use spacing on the page to indicate where things start and end. Computers don't have any of that, so unless you want to expend zeroes and ones to store how large things are, the easiest way to do things is to just decree that the number is 64-bit. Now we know where to start and stop.</p>\n<p>Given 64 bits, you can only represent at most <code>2^64</code> unique numbers. That's <em>a lot</em> of numbers, but not an infinite amount.</p>\n<p>Imagine a number line, from negative infinity to positive infinity. Which is what <code>double</code> at least theoretically is capable of representing. There are an infinite amount of numbers between 0 and 1, let alone across that number line.</p>\n<p>Nevertheless, 0.0000000000% of them can be accurately represented by a double. After all, our double can only represent at most 2^64 numbers whereas our number line has an infinite expanse of them.</p>\n<p>So how does <code>double</code> work? First, it picks slightly less than 2^64 unique numbers. Imagine we throw that many darts at the number line. We call these 'the blessed numbers' - <code>double</code> can <em>only</em> represent the darts, not any other number. And then IEEE754 makes a very simple decree: Any number (so, any input, any intermediate result) is always <strong>silently</strong> rounded to the nearest dart.</p>\n<p>In other words, if we call <code>dart(x)</code> the function that rounds a result to the nearest dart, writing <code>d1 + d2 - d2 - d1</code> breaks down to <code>(((d1 + d2) - d2) - d1)</code>, which turns into <code>dart(dart(dart(dart(d1) + dart(d2)) - dart(d2)) - dart(d1))</code>. <em>That is a lot of darts!!</em></p>\n<p>The darts aren't uniformly distributed. In fact, half the darts are very close to 0). As you move away from zero, the distance between any two darts grows bigger and bigger.</p>\n<p>At 2^53, the distance between 2 darts starts exceeding 1.0. 2^53? That is a blessed number. In fact, all integers from 0 to 2^53 are blessed. But 2^53 + 1? Not blessed. Let's try it!</p>\n<pre><code>long a = 2L &lt;&lt; 52;\nsysout(a); // 9007199254740992\n\ndouble b = Math.pow(2.0, 53);\nsysout(b); // 9.007199254740992E15\nsysout((long) b); // 9007199254740992\nsysout(a == (long) b); // true\n</code></pre>\n<p>So far, so good - the <code>System.out.println</code> code prints large doubles in exponential notation but it is exactly correct, as 'cast that back to a long' shows. But now...</p>\n<pre><code>double c = b + 1;\nsysout(c); // 9.007199254740992E15\nsysout(b == c); // true - wait what?\n</code></pre>\n<p>Adding 1 <strong>did nothing</strong>. b and c are in fact the same value still. <code>dart(b + 1)</code> is the same as b because 2^53 really is the closest dart to the result of calculating 2^53+1.</p>\n<pre><code>double d = b - 1;\nsysout(d); // 9.007199254740991E15\nsysout(b == d); // false\n</code></pre>\n<p>But going one down does work fine.</p>\n<h2>Explaining your question</h2>\n<p>Now we can trivially explain your question:</p>\n<ul>\n<li>Your 2 numbers are rounded to the nearest dart. No problem.</li>\n<li>Then we add darted <code>d1</code> and darted <code>d2</code> together and this number doesn't perfectly fit on a dart (why would it - it rarely does). So that too is rounded to the nearest dart.</li>\n<li>We then subtract darted <code>d2</code> again, and then dart that result. That doesn't get us to the same number. This shouldn't be too surprising - the darts aren't equally distributed - adding d1 and d2 together moves to a 'less dart-dense' area of the number line. Less dart-dense means less accuracy. That sidestep into higher numbers (add d2, then subtract again - in the middle of that, we are in the less dart-dense area) costs us.</li>\n<li>Finally you subtract <code>d1</code> from what you have. Given that we are now moving closer to the 0, there are <em>lots</em> of darts here, so the dart-rounding doesn't get us back to 0, but gets us to some dart really close to 0.</li>\n</ul>\n<p>Sure, in theory java could have gone: Oh, hey, <code>d1+d2-d2-d1</code>, I can get rid of <code>d2-d2</code>, and then that leaves <code>d1-d1</code> and get rid of that too, and that leaves <code>0</code>, but that's just not how it works: The java spec clearly says that <code>+</code> and <code>-</code> are binary operators (not any-amount operators), and they are resolved left-to-right. Java is not a mathematician simplifying formulas on a whiteboard. Java simply does what the spec says it does. Which is to break that down to <code>(((d1+d2)-d2)-d1)</code>, and then apply IEEE753 (i.e. round to nearest dart for all the things).</p>\n"}],"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684275401,"creation_date":1684271005,"question_id":76267044,"body_markdown":"Due to floating point inaccuracies, java&#39;s double cannot represent every decimal number exactly, i.e. precision errors are introduced.\r\nGiven the following code:\r\n\r\n    double d1=0.20976190476190476;\r\n    double d2=0.062142857142857146;\r\n    System.out.println(&quot;d1-d1= &quot;+(d1-d1)); //Prints 0.0.\r\n    System.out.println(&quot;d1+d2-d2-d1= &quot;+(d1+d2-d2-d1)); //Prints 2.7755575615628914E-17\r\n\r\nI&#39;m curious how the last line could produce a precision error? I would assume that the expression is evaluated as: ((d1+d2)-d2)-d1. So even if d1, d2, or (d1+d2) are not represented exactly, I would assume that the precision errors would cancel each other out?","title":"java double precision error when adding and subtracting the same number","body":"<p>Due to floating point inaccuracies, java's double cannot represent every decimal number exactly, i.e. precision errors are introduced.\nGiven the following code:</p>\n<pre><code>double d1=0.20976190476190476;\ndouble d2=0.062142857142857146;\nSystem.out.println(&quot;d1-d1= &quot;+(d1-d1)); //Prints 0.0.\nSystem.out.println(&quot;d1+d2-d2-d1= &quot;+(d1+d2-d2-d1)); //Prints 2.7755575615628914E-17\n</code></pre>\n<p>I'm curious how the last line could produce a precision error? I would assume that the expression is evaluated as: ((d1+d2)-d2)-d1. So even if d1, d2, or (d1+d2) are not represented exactly, I would assume that the precision errors would cancel each other out?</p>\n"},{"tags":["java","netbeans","windows-installer","glassfish-3"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684274929,"post_id":76267314,"comment_id":134494000,"body_markdown":"*and adding %JAVA_HOME5\\bin to PATH at the top of the list.* But that wouldn&#39;t be quite right. You would **pre**pend  `%JAVA_HOME%\\bin;`","body":"<i>and adding %JAVA_HOME5\\bin to PATH at the top of the list.</i> But that wouldn&#39;t be quite right. You would <b>pre</b>pend  <code>%JAVA_HOME%\\bin;</code>"},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":2,"creation_date":1684274933,"post_id":76267314,"comment_id":134494001,"body_markdown":"I can&#39;t find Glassfish 3.2.2 on the [Oracle Downloads](https://www.oracle.com/java/technologies/ogs-v3122-downloads.html) page, nor on the [Eclipse page](https://glassfish.org/).  If you&#39;re using the Oracle one the last supported JDK was Java 1.7. I think you&#39;re trying to mix a prehistoric Glassfish with the newest Java and they are not compatible.","body":"I can&#39;t find Glassfish 3.2.2 on the <a href=\"https://www.oracle.com/java/technologies/ogs-v3122-downloads.html\" rel=\"nofollow noreferrer\">Oracle Downloads</a> page, nor on the <a href=\"https://glassfish.org/\" rel=\"nofollow noreferrer\">Eclipse page</a>.  If you&#39;re using the Oracle one the last supported JDK was Java 1.7. I think you&#39;re trying to mix a prehistoric Glassfish with the newest Java and they are not compatible."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1684274953,"post_id":76267314,"comment_id":134494004,"body_markdown":"Take a look at [this answer](https://stackoverflow.com/a/76222963/12567365) to a related question. It covers how to run GlassFish 7 using Java 17 and NetBeans 17.","body":"Take a look at <a href=\"https://stackoverflow.com/a/76222963/12567365\">this answer</a> to a related question. It covers how to run GlassFish 7 using Java 17 and NetBeans 17."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684275137,"post_id":76267314,"comment_id":134494029,"body_markdown":"*I think you&#39;re trying to mix a prehistoric Glassfish...* Hehe, yes. Considering version 4 came out in 2013","body":"<i>I think you&#39;re trying to mix a prehistoric Glassfish...</i> Hehe, yes. Considering version 4 came out in 2013"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684284946,"post_id":76267314,"comment_id":134494873,"body_markdown":"FYI, the current version of [Eclipse Glassfish](https://glassfish.org/) is 7.0.4. Supports Jakarta EE 10. Runs on (Java) JDK 11 to JDK 20.","body":"FYI, the current version of <a href=\"https://glassfish.org/\" rel=\"nofollow noreferrer\">Eclipse Glassfish</a> is 7.0.4. Supports Jakarta EE 10. Runs on (Java) JDK 11 to JDK 20."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1684296320,"post_id":76267314,"comment_id":134495878,"body_markdown":"@g00se The sentiment of your comment is completely valid, but just because version 4 came out in 2013, it doesn&#39;t automatically follow that version 3.2.2 preceded it. GlassFish 3.x support probably continued for several years after the release of GlassFish 4. The larger issue for the OP of course, is that the unsupported use of GlassFish 3.2.2 would probably also require using an unsupported JDK which would then mean that no supported version of NetBeans could be used either.","body":"@g00se The sentiment of your comment is completely valid, but just because version 4 came out in 2013, it doesn&#39;t automatically follow that version 3.2.2 preceded it. GlassFish 3.x support probably continued for several years after the release of GlassFish 4. The larger issue for the OP of course, is that the unsupported use of GlassFish 3.2.2 would probably also require using an unsupported JDK which would then mean that no supported version of NetBeans could be used either."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1684296568,"post_id":76267314,"comment_id":134495891,"body_markdown":"Just FYI, regarding your comments about `JAVA_HOME` and `PATH` in your question, none of that configuration is relevant or necessary if you only intend to run GlassFish within NetBeans. But as others have already pointed out, your larger problem is that you are trying to use an old and unsupported version of GlassFish.","body":"Just FYI, regarding your comments about <code>JAVA_HOME</code> and <code>PATH</code> in your question, none of that configuration is relevant or necessary if you only intend to run GlassFish within NetBeans. But as others have already pointed out, your larger problem is that you are trying to use an old and unsupported version of GlassFish."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684296653,"post_id":76267314,"comment_id":134495905,"body_markdown":"*it doesn&#39;t automatically follow that version 3.2.2 preceded it.* I see. Though that wouldn&#39;t be exactly brilliant version control","body":"<i>it doesn&#39;t automatically follow that version 3.2.2 preceded it.</i> I see. Though that wouldn&#39;t be exactly brilliant version control"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1684395726,"post_id":76267314,"comment_id":134512605,"body_markdown":"@g00se It&#39;s a common situation that an old release of major software is maintained long after a new one comes out, if only for fixes for critical bugs and security issues. A maintenance release of JDK 11 came out last month, and Oracle have committed to supporting Java 8 until 2030!","body":"@g00se It&#39;s a common situation that an old release of major software is maintained long after a new one comes out, if only for fixes for critical bugs and security issues. A maintenance release of JDK 11 came out last month, and Oracle have committed to supporting Java 8 until 2030!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684400849,"post_id":76267314,"comment_id":134513507,"body_markdown":"Yes granted but the point generally is that there would have to be special reasons to cling to such an ancient version. I suspect there are none","body":"Yes granted but the point generally is that there would have to be special reasons to cling to such an ancient version. I suspect there are none"}],"answers":[{"comments":[{"owner":{"account_id":28615783,"reputation":25,"user_id":21909811,"display_name":"aapt"},"score":0,"creation_date":1684358892,"post_id":76267378,"comment_id":134508859,"body_markdown":"This answer helped me. [Answer](https://stackoverflow.com/questions/76222165/what-version-of-java-supports-glassfish-7-0-0-on-a-mac/76222963#76222963)","body":"This answer helped me. <a href=\"https://stackoverflow.com/questions/76222165/what-version-of-java-supports-glassfish-7-0-0-on-a-mac/76222963#76222963\">Answer</a>"}],"tags":[],"owner":{"account_id":16775075,"reputation":24,"user_id":17282508,"display_name":"INF"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1684275116,"creation_date":1684275116,"answer_id":76267378,"question_id":76267314,"body_markdown":"ensure that the JDK version you&#39;re using is compatible with GlassFish 3.2.2. You can consult the GlassFish documentation or system requirements for more information on compatible versions.","title":"Cannot find required version of java tm runtime environment when trying to install Glassfish","body":"<p>ensure that the JDK version you're using is compatible with GlassFish 3.2.2. You can consult the GlassFish documentation or system requirements for more information on compatible versions.</p>\n"}],"owner":{"account_id":28615783,"reputation":25,"user_id":21909811,"display_name":"aapt"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76267378,"answer_count":1,"score":0,"last_activity_date":1684275116,"creation_date":1684274331,"question_id":76267314,"body_markdown":"I installed NetBeans and I installed jdk 20.\r\n\r\nBut when I try installing glassfish 3.2.2 I get the following error: &quot;Could not find required version of java(TM) runtime environment in &#39;C:\\\\ProgramFiles\\\\Java\\\\jdk-20&#39;&quot;\r\n\r\n[See snapshot of error message](https://i.stack.imgur.com/J22vh.png)\r\n\r\nWhen I run java -version it seems like everything is installed correctly.\r\n\r\nSee snapshot of java -version result\r\n\r\nI tried setting JAVA_HOME to the jdk path and adding %JAVA_HOME5\\bin to PATH at the top of the list.\r\n\r\nI also tried uninstalling a different version jre that was installed and uninstalling the sdk and reinstalling it.\r\n\r\nNothing of the above helped. What is the problem?","title":"Cannot find required version of java tm runtime environment when trying to install Glassfish","body":"<p>I installed NetBeans and I installed jdk 20.</p>\n<p>But when I try installing glassfish 3.2.2 I get the following error: &quot;Could not find required version of java(TM) runtime environment in 'C:\\ProgramFiles\\Java\\jdk-20'&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/J22vh.png\" rel=\"nofollow noreferrer\">See snapshot of error message</a></p>\n<p>When I run java -version it seems like everything is installed correctly.</p>\n<p>See snapshot of java -version result</p>\n<p>I tried setting JAVA_HOME to the jdk path and adding %JAVA_HOME5\\bin to PATH at the top of the list.</p>\n<p>I also tried uninstalling a different version jre that was installed and uninstalling the sdk and reinstalling it.</p>\n<p>Nothing of the above helped. What is the problem?</p>\n"},{"tags":["java","mocking","powermock","powermockito","java-17"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1636452344,"post_id":69896191,"comment_id":123554652,"body_markdown":"Have you taken a look if there are newer versions of powermockito that might be required for more recent versions of java?","body":"Have you taken a look if there are newer versions of powermockito that might be required for more recent versions of java?"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":2,"creation_date":1636453777,"post_id":69896191,"comment_id":123555221,"body_markdown":"Could it be that you encountered open issue [1099](https://github.com/powermock/powermock/issues/1099) and/or [1094](https://github.com/powermock/powermock/issues/1094)?","body":"Could it be that you encountered open issue <a href=\"https://github.com/powermock/powermock/issues/1099\" rel=\"nofollow noreferrer\">1099</a> and/or <a href=\"https://github.com/powermock/powermock/issues/1094\" rel=\"nofollow noreferrer\">1094</a>?"},{"owner":{"account_id":12057793,"reputation":211,"user_id":8817925,"display_name":"sanchit relan"},"score":0,"creation_date":1636457692,"post_id":69896191,"comment_id":123556750,"body_markdown":"I am using the latest 2.0.9 powermock version","body":"I am using the latest 2.0.9 powermock version"},{"owner":{"account_id":6303614,"reputation":4396,"user_id":4897413,"display_name":"gjoranv"},"score":3,"creation_date":1636465483,"post_id":69896191,"comment_id":123559915,"body_markdown":"If you want to stay up-to-date with recent JDK versions, I suggest to stay with mockito. Historically, Powermock has taken longer time to keep up, while mockito has a bigger ecosystem around it, both in terms of users and developers.","body":"If you want to stay up-to-date with recent JDK versions, I suggest to stay with mockito. Historically, Powermock has taken longer time to keep up, while mockito has a bigger ecosystem around it, both in terms of users and developers."},{"owner":{"account_id":51633,"reputation":37763,"user_id":154306,"accept_rate":98,"display_name":"Paul Lammertsma"},"score":2,"creation_date":1679845892,"post_id":69896191,"comment_id":133789925,"body_markdown":"After encountering this incompatibility once again, I&#39;ve used it as an opportunity to review whether I truly needed Powermock. In my case, I was only using it for mocking static classes, which is since supported in Mockito.","body":"After encountering this incompatibility once again, I&#39;ve used it as an opportunity to review whether I truly needed Powermock. In my case, I was only using it for mocking static classes, which is since supported in Mockito."}],"answers":[{"comments":[{"owner":{"account_id":20066502,"reputation":133,"user_id":14712110,"display_name":"Efecan AHMETOĞLU"},"score":3,"creation_date":1650440777,"post_id":71203428,"comment_id":127113543,"body_markdown":"Also you can use these:   \n--add-opens java.base/java.lang=ALL-UNNAMED\n--add-opens java.base/java.io=ALL-UNNAMED\n--add-opens java.base/java.util=ALL-UNNAMED\n--add-opens java.base/java.base=ALL-UNNAMED","body":"Also you can use these:    --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.io=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.base=ALL-UNNAMED"},{"owner":{"account_id":3756646,"reputation":390,"user_id":3122869,"display_name":"Roy Wasse"},"score":1,"creation_date":1651085452,"post_id":71203428,"comment_id":127281132,"body_markdown":"Worked for me (JDK 17)","body":"Worked for me (JDK 17)"},{"owner":{"account_id":6704312,"reputation":322,"user_id":5169840,"accept_rate":0,"display_name":"Imtiaz Ali"},"score":0,"creation_date":1673957044,"post_id":71203428,"comment_id":132607762,"body_markdown":"how to use it in gradle?","body":"how to use it in gradle?"},{"owner":{"account_id":278490,"reputation":169,"user_id":573103,"display_name":"Vladimir Atanasov"},"score":1,"creation_date":1678206046,"post_id":71203428,"comment_id":133486467,"body_markdown":"@ImtiazAli this worked for me: test {  jvmArgs &quot;--add-opens&quot;, &quot;java.base/java.lang=ALL-UNNAMED&quot; }","body":"@ImtiazAli this worked for me: test {  jvmArgs &quot;--add-opens&quot;, &quot;java.base/java.lang=ALL-UNNAMED&quot; }"},{"owner":{"account_id":12431448,"reputation":956,"user_id":9053712,"display_name":"MA1"},"score":3,"creation_date":1683138509,"post_id":71203428,"comment_id":134322064,"body_markdown":"How to make this work in case I want to run the tests in Intellij? \nIn other words, if I right click on the test class, then I click run, it will still throw the exception mentioned above.","body":"How to make this work in case I want to run the tests in Intellij?  In other words, if I right click on the test class, then I click run, it will still throw the exception mentioned above."},{"owner":{"account_id":130055,"reputation":3722,"user_id":329034,"accept_rate":76,"display_name":"mbwasi"},"score":0,"creation_date":1684274390,"post_id":71203428,"comment_id":134493944,"body_markdown":"@MA1 If you re using gradle check my answer.","body":"@MA1 If you re using gradle check my answer."},{"owner":{"account_id":5004770,"reputation":418,"user_id":4814658,"accept_rate":75,"display_name":"KuldeeP ChoudharY"},"score":0,"creation_date":1700636723,"post_id":71203428,"comment_id":136677567,"body_markdown":"@MA I am also facing while debugging with intellij. Can you tell me if you got any success","body":"@MA I am also facing while debugging with intellij. Can you tell me if you got any success"}],"tags":[],"owner":{"account_id":24327133,"reputation":321,"user_id":18266527,"display_name":"julmud"},"comment_count":7,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1645787295,"creation_date":1645433232,"answer_id":71203428,"question_id":69896191,"body_markdown":"As a stop gap measure (until Powermock gets updated), you should be able to run your tests by passing the following argument to your JVM: \r\n```\r\n--add-opens java.base/java.lang=ALL-UNNAMED\r\n```\r\nIf you&#39;re running your tests with `Maven`, you can configure the `surefire-plugin` like this:\r\n```\r\n&lt;plugin&gt;\r\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;${plugin.surefire.version}&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;argLine&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/argLine&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Powermock Compatibility with JDK 17","body":"<p>As a stop gap measure (until Powermock gets updated), you should be able to run your tests by passing the following argument to your JVM:</p>\n<pre><code>--add-opens java.base/java.lang=ALL-UNNAMED\n</code></pre>\n<p>If you're running your tests with <code>Maven</code>, you can configure the <code>surefire-plugin</code> like this:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;${plugin.surefire.version}&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;argLine&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/argLine&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14718981,"reputation":1715,"user_id":10630172,"display_name":"Greg Moens"},"score":0,"creation_date":1691439323,"post_id":76267308,"comment_id":135489247,"body_markdown":"this is a great answer, it fixed Android Studio and my failing Jenkins build!","body":"this is a great answer, it fixed Android Studio and my failing Jenkins build!"}],"tags":[],"owner":{"account_id":130055,"reputation":3722,"user_id":329034,"accept_rate":76,"display_name":"mbwasi"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1684274283,"creation_date":1684274283,"answer_id":76267308,"question_id":69896191,"body_markdown":"This shoudl allow the solution to work with tests ran from inside the IDE, Android Studio in my case.\r\n\r\nI had to do this because PowerMock doesn&#39;t play nice with Java 17 on Android.\r\n\r\nIn your top level project build.gradle, at the bottom just add\r\n\r\n    subprojects{\r\n        tasks.withType(Test).configureEach{\r\n            jvmArgs = jvmArgs + [&#39;--add-opens=java.base/java.lang=ALL-UNNAMED&#39;]\r\n        }\r\n    }\r\n\r\nIf you are using Kotlin for your Gradle files see\r\nhttps://github.com/square/okhttp/blob/f9901627431be098ad73abd725fbb3738747461c/build.gradle.kts#L153","title":"Powermock Compatibility with JDK 17","body":"<p>This shoudl allow the solution to work with tests ran from inside the IDE, Android Studio in my case.</p>\n<p>I had to do this because PowerMock doesn't play nice with Java 17 on Android.</p>\n<p>In your top level project build.gradle, at the bottom just add</p>\n<pre><code>subprojects{\n    tasks.withType(Test).configureEach{\n        jvmArgs = jvmArgs + ['--add-opens=java.base/java.lang=ALL-UNNAMED']\n    }\n}\n</code></pre>\n<p>If you are using Kotlin for your Gradle files see\n<a href=\"https://github.com/square/okhttp/blob/f9901627431be098ad73abd725fbb3738747461c/build.gradle.kts#L153\" rel=\"noreferrer\">https://github.com/square/okhttp/blob/f9901627431be098ad73abd725fbb3738747461c/build.gradle.kts#L153</a></p>\n"}],"owner":{"account_id":12057793,"reputation":211,"user_id":8817925,"display_name":"sanchit relan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21002,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":2,"score":21,"last_activity_date":1684274283,"creation_date":1636452217,"question_id":69896191,"body_markdown":"Recently I was upgrading my project from JDK 11 to JDK 17. After upgrading, powermock seems to have an issue. While running AUT&#39;s , I am getting following error:\r\n\r\n    java.lang.RuntimeException: PowerMock internal error: Should never throw exception at this level\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected native java.lang.Object java.lang.Object.clone() throws java.lang.CloneNotSupportedException accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @3fc34119\r\n\r\nDo you know any workaround this issue, If so can you please provide the solution.\r\n","title":"Powermock Compatibility with JDK 17","body":"<p>Recently I was upgrading my project from JDK 11 to JDK 17. After upgrading, powermock seems to have an issue. While running AUT's , I am getting following error:</p>\n<pre><code>java.lang.RuntimeException: PowerMock internal error: Should never throw exception at this level\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected native java.lang.Object java.lang.Object.clone() throws java.lang.CloneNotSupportedException accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @3fc34119\n</code></pre>\n<p>Do you know any workaround this issue, If so can you please provide the solution.</p>\n"},{"tags":["java","aws-batch"],"comments":[{"owner":{"account_id":28344158,"reputation":1,"user_id":21676648,"display_name":"AlejoPolo"},"score":1,"creation_date":1685053619,"post_id":76265840,"comment_id":134611595,"body_markdown":"Find the solution is the following: \n\n List&lt;String&gt; command = new ArrayList&lt;&gt;();\n        command.add(&quot;main.py&quot;);\n        command.add(&quot;--file&quot;);\n        command.add(&quot;sql_scripts/test_test.sql&quot;);\n\nSystem.out.println(&quot;response: &quot; command);\n\nconsole response: [&quot;main.py&quot;,&quot;--file&quot;,&quot;sql_scripts/test_test.sql&quot;]","body":"Find the solution is the following:    List&lt;String&gt; command = new ArrayList&lt;&gt;();         command.add(&quot;main.py&quot;);         command.add(&quot;--file&quot;);         command.add(&quot;sql_scripts/test_test.sql&quot;);  System.out.println(&quot;response: &quot; command);  console response: [&quot;main.py&quot;,&quot;--file&quot;,&quot;sql_scripts/test_test.sql&quot;]"}],"owner":{"account_id":28344158,"reputation":1,"user_id":21676648,"display_name":"AlejoPolo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684274238,"creation_date":1684259315,"question_id":76265840,"body_markdown":"Build a solution at the java code level which is consumed by an AWS service called batch, it asks me for the following parameters:\r\n- custom job name\r\n- queue name\r\n- job definition\r\n\r\n- finally a **command** (this command tells me the AWS documentation that I should work with the following method)\r\n\r\n**withContainerOverrides**(&quot;Here you receive a value of type ContainerOverrides&quot;)\r\n\r\n*My problem is the following; I send the value that it requests, when inserting said &quot;value&quot; it is modified a bit by the theme that has double quotes, but even so the id accepts the syntax of the java code, once it is executed in the environment, I get the following error inside cloudWatch*\r\n\r\nLOG - CloudWatch\r\n\r\n&gt; python: can&#39;t open file\r\n&gt; &#39;/app/[&quot;main.py&quot;,&quot;--file&quot;,&quot;sql_scripts/test_test.sql&quot;]&#39;: [Errno 2]\r\n&gt; No such file or directory\r\n\r\nThis is the code that I have implemented\r\n\r\n    AWSBatch client = AWSBatchClientBuilder.standard().build();\r\n             ContainerOverrides command = new ContainerOverrides().withCommand(&quot;[\\&quot;main.py\\&quot;,\\&quot;--file\\&quot;,\\&quot;sql_scripts/test_test.sql\\&quot;]&quot;);\r\n            SubmitJobRequest request = new SubmitJobRequest()\r\n                    .withJobName(&quot;test-Automation&quot;)\r\n                    .withJobQueue(&quot;test-Queue&quot;)\r\n                    .withJobDefinition(&quot;test-Batch&quot;)\r\n                    .withContainerOverrides(command); //no string - yes value type ContainerOverrides\r\n            SubmitJobResult response = client.submitJob(request);\r\n            LOGGER.info(&quot;Response {} : &quot;, response);\r\n            String idBatch = response.getJobId();\r\n\r\n\r\nI hope that when executing this code, the AWS batch service will tell me in the console that it is in a running state","title":"I&#39;m having trouble running a (AWS batch) that requires a parameter called ContainerOverrides","body":"<p>Build a solution at the java code level which is consumed by an AWS service called batch, it asks me for the following parameters:</p>\n<ul>\n<li><p>custom job name</p>\n</li>\n<li><p>queue name</p>\n</li>\n<li><p>job definition</p>\n</li>\n<li><p>finally a <strong>command</strong> (this command tells me the AWS documentation that I should work with the following method)</p>\n</li>\n</ul>\n<p><strong>withContainerOverrides</strong>(&quot;Here you receive a value of type ContainerOverrides&quot;)</p>\n<p><em>My problem is the following; I send the value that it requests, when inserting said &quot;value&quot; it is modified a bit by the theme that has double quotes, but even so the id accepts the syntax of the java code, once it is executed in the environment, I get the following error inside cloudWatch</em></p>\n<p>LOG - CloudWatch</p>\n<blockquote>\n<p>python: can't open file\n'/app/[&quot;main.py&quot;,&quot;--file&quot;,&quot;sql_scripts/test_test.sql&quot;]': [Errno 2]\nNo such file or directory</p>\n</blockquote>\n<p>This is the code that I have implemented</p>\n<pre><code>AWSBatch client = AWSBatchClientBuilder.standard().build();\n         ContainerOverrides command = new ContainerOverrides().withCommand(&quot;[\\&quot;main.py\\&quot;,\\&quot;--file\\&quot;,\\&quot;sql_scripts/test_test.sql\\&quot;]&quot;);\n        SubmitJobRequest request = new SubmitJobRequest()\n                .withJobName(&quot;test-Automation&quot;)\n                .withJobQueue(&quot;test-Queue&quot;)\n                .withJobDefinition(&quot;test-Batch&quot;)\n                .withContainerOverrides(command); //no string - yes value type ContainerOverrides\n        SubmitJobResult response = client.submitJob(request);\n        LOGGER.info(&quot;Response {} : &quot;, response);\n        String idBatch = response.getJobId();\n</code></pre>\n<p>I hope that when executing this code, the AWS batch service will tell me in the console that it is in a running state</p>\n"},{"tags":["java","makefile","gson"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684275863,"post_id":76267261,"comment_id":134494121,"body_markdown":"what command do you use to execute the jar?","body":"what command do you use to execute the jar?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1684275907,"post_id":76267261,"comment_id":134494126,"body_markdown":"What specifically do you mean by “want to use the LogAppend”? Are you including gson.jar on the classpath when you run it?","body":"What specifically do you mean by “want to use the LogAppend”? Are you including gson.jar on the classpath when you run it?"},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1684296643,"post_id":76267261,"comment_id":134495901,"body_markdown":"Out of curiosity, why a makefile instead of a build tool for Java, like Maven or Gradle?","body":"Out of curiosity, why a makefile instead of a build tool for Java, like Maven or Gradle?"},{"owner":{"account_id":18786702,"reputation":59,"user_id":13700145,"display_name":"24Doggi"},"score":0,"creation_date":1684305887,"post_id":76267261,"comment_id":134497029,"body_markdown":"I use java l_append.LogAppend to execute. I include gson in the classpath when running the makefile. Isn&#39;t that enough? And the makefile is a requierement for that project.","body":"I use java l_append.LogAppend to execute. I include gson in the classpath when running the makefile. Isn&#39;t that enough? And the makefile is a requierement for that project."}],"owner":{"account_id":18786702,"reputation":59,"user_id":13700145,"display_name":"24Doggi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1684274209,"creation_date":1684273712,"question_id":76267261,"body_markdown":"I have the following folder structure:\r\n\r\n```\r\nl_append\r\n--LogAppend.java\r\n--User.java\r\nl_read\r\n--LogRead.java\r\nmakefile\r\ngson.jar\r\n```\r\n\r\nthe makefile looks like:\r\n```\r\nLIBRARY_PATHS = gson.jar\r\n\r\n\r\nCLASS_FILES = l_append/LogAppend.class l_append/User.class l_read/LogRead.class\r\n\r\nDefault: $(CLASS_FILES) create_bin\r\n\r\n%.class: %.java\r\n\t$(JC) -cp .:$(LIBRARY_PATHS) $&lt;\r\n\r\ncreate_bin:\r\n\tjar -cvmf MANIFEST_LA.MF logappend.jar  l_append/LogAppend.class\r\n\tcat stub.sh logappend.jar &gt; logappend &amp;&amp; chmod +x logappend\r\n\r\n\tjar -cvmf MANIFEST_LR.MF logread.jar l_read/LogRead.class\r\n\tcat stub.sh logread.jar &gt; logread &amp;&amp; chmod +x logread\r\n\r\nclean:\r\n\t$(RM)  l_read/*.class l_append/*.class log*\r\n\r\n```\r\n\r\nThe LogAppend.java \r\n```\r\nimport com.google.gson.Gson;\r\n....\r\nGson gson = new Gson();\r\n```\r\n\r\nAfter I run the make command and want to use the LogAppend I get &lt;br&gt;\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/gson/Gson\r\n        at l_append.LogAppend.writeToLog(LogAppend.java:165)\r\n        at l_append.LogAppend.main(LogAppend.java:90)\r\nCaused by: java.lang.ClassNotFoundException: com.google.gson.Gson\r\n```\r\n\r\nAny suggestions what I could try?","title":"How to import Gson with makefile","body":"<p>I have the following folder structure:</p>\n<pre><code>l_append\n--LogAppend.java\n--User.java\nl_read\n--LogRead.java\nmakefile\ngson.jar\n</code></pre>\n<p>the makefile looks like:</p>\n<pre><code>LIBRARY_PATHS = gson.jar\n\n\nCLASS_FILES = l_append/LogAppend.class l_append/User.class l_read/LogRead.class\n\nDefault: $(CLASS_FILES) create_bin\n\n%.class: %.java\n    $(JC) -cp .:$(LIBRARY_PATHS) $&lt;\n\ncreate_bin:\n    jar -cvmf MANIFEST_LA.MF logappend.jar  l_append/LogAppend.class\n    cat stub.sh logappend.jar &gt; logappend &amp;&amp; chmod +x logappend\n\n    jar -cvmf MANIFEST_LR.MF logread.jar l_read/LogRead.class\n    cat stub.sh logread.jar &gt; logread &amp;&amp; chmod +x logread\n\nclean:\n    $(RM)  l_read/*.class l_append/*.class log*\n\n</code></pre>\n<p>The LogAppend.java</p>\n<pre><code>import com.google.gson.Gson;\n....\nGson gson = new Gson();\n</code></pre>\n<p>After I run the make command and want to use the LogAppend I get <br></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/gson/Gson\n        at l_append.LogAppend.writeToLog(LogAppend.java:165)\n        at l_append.LogAppend.main(LogAppend.java:90)\nCaused by: java.lang.ClassNotFoundException: com.google.gson.Gson\n</code></pre>\n<p>Any suggestions what I could try?</p>\n"},{"tags":["java","variables"],"comments":[{"owner":{"account_id":992647,"reputation":120434,"user_id":1009479,"accept_rate":64,"display_name":"Yu Hao"},"score":0,"creation_date":1425191741,"post_id":28790825,"comment_id":45856842,"body_markdown":"Give it a valid initial value. What&#39;s the language?","body":"Give it a valid initial value. What&#39;s the language?"}],"answers":[{"tags":[],"owner":{"account_id":5496671,"reputation":567,"user_id":4367554,"accept_rate":43,"display_name":"Kev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1425191753,"creation_date":1425191753,"answer_id":28790843,"question_id":28790825,"body_markdown":"Why don&#39;t you just write a petiteComm = 0 before the if.\nThat should help.","title":"Variable might not have been initiialized but should be because of an if else if","body":"<p>Why don't you just write a petiteComm = 0 before the if.\nThat should help.</p>\n"},{"tags":[],"owner":{"account_id":1325646,"reputation":12996,"user_id":1270504,"accept_rate":100,"display_name":"Matthew Haugen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425192215,"creation_date":1425192215,"answer_id":28790896,"question_id":28790825,"body_markdown":"It&#39;s hard to know what language you&#39;re working with here, but it sounds like you&#39;re overestimating the compiler, regardless.\r\n\r\nAs others have mentioned, you need to give it an initial value. You can do that however you see so fit, but looking at the syntax you&#39;ve given us, \r\n\r\n    petiteComm = 0;\r\n\r\nshould work. I&#39;d probably be tempted to set it to `null` or `-1`, but without knowing more about the circumstances, I wouldn&#39;t want to assume anything more about it.\r\n\r\nIn general, compilers don&#39;t look for second-tier consequences. That is, they&#39;ll tell you if a variable is never given a value, as you&#39;re seeing here, but they aren&#39;t &quot;smart&quot; enough to infer whether they&#39;ll be given a value.\r\n\r\nConsider the following code block, which illustrates the same error as you&#39;re seeing, but a bit more succinctly:\r\n\r\n    x = 0\r\n    \r\n    if(x == 0) {\r\n        y = 10;\r\n    }\r\n\r\n    print(y);\r\n\r\n`x` will *always* be zero, so that `if` block will always execute, but (most, including yours) compilers won&#39;t be able to detect that. They&#39;ll just see an uninitialized `y` variable being used out of nowhere. The simple solution is to initialize `y` with a default value. Alternatively, you could throw an exception in the `else` block to indicate that something unexpected has happened, or operations were run out of order. That exception should, again depending on the language, count as an exit route and consequently evade any more checks like you&#39;re seeing.\r\n\r\nIt&#39;s all just a matter of circumstances.","title":"Variable might not have been initiialized but should be because of an if else if","body":"<p>It's hard to know what language you're working with here, but it sounds like you're overestimating the compiler, regardless.</p>\n\n<p>As others have mentioned, you need to give it an initial value. You can do that however you see so fit, but looking at the syntax you've given us, </p>\n\n<pre><code>petiteComm = 0;\n</code></pre>\n\n<p>should work. I'd probably be tempted to set it to <code>null</code> or <code>-1</code>, but without knowing more about the circumstances, I wouldn't want to assume anything more about it.</p>\n\n<p>In general, compilers don't look for second-tier consequences. That is, they'll tell you if a variable is never given a value, as you're seeing here, but they aren't \"smart\" enough to infer whether they'll be given a value.</p>\n\n<p>Consider the following code block, which illustrates the same error as you're seeing, but a bit more succinctly:</p>\n\n<pre><code>x = 0\n\nif(x == 0) {\n    y = 10;\n}\n\nprint(y);\n</code></pre>\n\n<p><code>x</code> will <em>always</em> be zero, so that <code>if</code> block will always execute, but (most, including yours) compilers won't be able to detect that. They'll just see an uninitialized <code>y</code> variable being used out of nowhere. The simple solution is to initialize <code>y</code> with a default value. Alternatively, you could throw an exception in the <code>else</code> block to indicate that something unexpected has happened, or operations were run out of order. That exception should, again depending on the language, count as an exit route and consequently evade any more checks like you're seeing.</p>\n\n<p>It's all just a matter of circumstances.</p>\n"}],"owner":{"account_id":5865423,"reputation":35,"user_id":4619566,"display_name":"F&#233;lix Montreuil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":28790843,"answer_count":2,"score":-1,"last_activity_date":1684272589,"creation_date":1425191565,"question_id":28790825,"body_markdown":"    \r\n    compteur = compteur + 1;\r\n    if ( compteur == 1 ) {\r\n        petiteComm = commTotal;\r\n        grandeComm = commTotal;\r\n    } else {\r\n        if ( commTotal &lt; petiteComm ) {\r\n            petiteComm = commTotal; \r\n        }\r\n        if ( commTotal &gt; grandeComm ) {\r\n             grandeComm = commTotal;\r\n        }\r\n    }\r\n\r\nit says petiteComm might not have been initiliazed but it will be because of the first if since the compteur will be at 1 the first time. I dont know what to do to fix that.","title":"Variable might not have been initiialized but should be because of an if else if","body":"<pre><code>compteur = compteur + 1;\nif ( compteur == 1 ) {\n    petiteComm = commTotal;\n    grandeComm = commTotal;\n} else {\n    if ( commTotal &lt; petiteComm ) {\n        petiteComm = commTotal; \n    }\n    if ( commTotal &gt; grandeComm ) {\n         grandeComm = commTotal;\n    }\n}\n</code></pre>\n<p>it says petiteComm might not have been initiliazed but it will be because of the first if since the compteur will be at 1 the first time. I dont know what to do to fix that.</p>\n"},{"tags":["java","cucumber"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684271646,"creation_date":1684271646,"answer_id":76267098,"question_id":76266731,"body_markdown":"You need to transform the data table into something for the transformation to be invoked. You could implement your own table like object that has variabele with and height.\r\n\r\n```java\r\n    @DataTableType\r\n    public MyTranformedTable transformAndLog(DataTable table \r\n\r\n) {\r\n        // Do logging and transformation here\r\n        return new MyTranformedTable(table);\r\n    }\r\n```\r\n\r\nThen use `MyTranformedTable` as the argument for your step definitions.\r\n\r\n&gt; Additionally, could it also be possible to do for the Examples datatable when the scenario is with the Outline keyword ?\r\n\r\nExample tables are syntactic sugar for repeating the scenario.\r\n\r\nSo only with a parameter type. You&#39;d have to declare this in your step definitions. E.g. `@Given(&quot;My {transformedString}&quot;)`.","title":"Cucumber datatable parameter: How to automatically apply custom method to all cells&#39; data?","body":"<p>You need to transform the data table into something for the transformation to be invoked. You could implement your own table like object that has variabele with and height.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @DataTableType\n    public MyTranformedTable transformAndLog(DataTable table \n\n) {\n        // Do logging and transformation here\n        return new MyTranformedTable(table);\n    }\n</code></pre>\n<p>Then use <code>MyTranformedTable</code> as the argument for your step definitions.</p>\n<blockquote>\n<p>Additionally, could it also be possible to do for the Examples datatable when the scenario is with the Outline keyword ?</p>\n</blockquote>\n<p>Example tables are syntactic sugar for repeating the scenario.</p>\n<p>So only with a parameter type. You'd have to declare this in your step definitions. E.g. <code>@Given(&quot;My {transformedString}&quot;)</code>.</p>\n"}],"owner":{"account_id":362721,"reputation":415,"user_id":706058,"accept_rate":68,"display_name":"user706058"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76267098,"answer_count":1,"score":1,"last_activity_date":1684271646,"creation_date":1684267860,"question_id":76266731,"body_markdown":"I would like to apply a custom method to any cell of a datatable without having to explicitly do so in the glue step code for each cell manually. My scenarios can have 1 to n columns so I cannot use a &#39;mapping&#39; class with corresponding properties, AND the phrase may be something totally different as well but still with a datatable that needs its cells&#39; data to be converted automatically.\r\n\r\n**Note:** obviously the idea behind the custom method is not as simple as replacing &quot;_&quot; with &quot; &quot; that could be done in the glue file straight away, it has much more complex logic behind which cannot be done in the static feature file itself.\r\n\r\nConsider a feature file with a scenario such as:\r\n\r\n      Scenario: Verify datatable cell transformation\r\n\t\tThen Verify default datatable cells automatic converter:\r\n\t\t| row_1_cell_1_value | row_1_cell_2_value | row_1_cell_3_value |\r\n\t\t| row_2_cell_1_value | row_2_cell_2_value | row_2_cell_3_value |\r\n\r\nAnd the glue file with the corresponding method:\r\n\r\n    @Then(&quot;Verify default datatable cells automatic converter:&quot;)\r\n\tpublic void VerifyDatatableCellsAutomaticConverter(DataTable datatable)\r\n\t{\r\n\t\tSystem.out.println(&quot;datatable.row(0).get(0) = &#39;&quot; + datatable.row(0).get(0) + &quot;&#39;&quot;);\r\n\t}\r\n\r\nOutput would be:\r\n\r\n```datatable.row(0).get(0) = &#39;row_1_cell_1_value&#39;```\r\n\r\nI would like to perform a call to a custom method on every cell of the datable, without an explicit call in the glue method itself because I need to do it for every scenario.\r\nI tried some code with the @DefaultParameterTransformer, @DefaultDataTableEntryTransformer and @DefaultDataTableCellTransformer in my ParameterTypes class, but if I do any output, nothing is ever printed out.\r\n\r\nLet&#39;s imagine my &#39;customMethod&#39; would replace all &quot;_&quot; characters with &quot; &quot; of the cells of the datable; how can I achieve the same as:\r\n\r\n    @Then(&quot;Verify default datatable cells automatic converter:&quot;)\r\n\tpublic void VerifyDatatableCellsAutomaticConverter(DataTable datatable)\r\n\t{\r\n\t\t// Pseudo code to make it shorter\r\n\t\tDataTable datatable = foreachrows(i).foreachcells(j){ customMethod(datatable.row(i).get(j)); }\r\n\t\tSystem.out.println(&quot;datatable.row(0).get(0) = &#39;&quot; + datatable.row(0).get(0) + &quot;&#39;&quot;);\r\n\t\tSystem.out.println(&quot;datatable.row(0).get(1) = &#39;&quot; + datatable.row(0).get(1) + &quot;&#39;&quot;);\r\n\t\t// etc.\r\n\t\tSystem.out.println(&quot;datatable.row(1).get(2) = &#39;&quot; + datatable.row(1).get(2) + &quot;&#39;&quot;);\r\n\t}\r\n\r\nOutput would be:\r\n\r\n```datatable.row(0).get(0) = &#39;row 1 cell 1 value&#39;```\r\n```datatable.row(0).get(1) = &#39;row 1 cell 2 value&#39;```\r\n```...```\r\n```datatable.row(1).get(2) = &#39;row 2 cell 3 value&#39;```\r\n\r\nSomething such as:\r\n\r\n    public class ParameterTypes\r\n    {\r\n        @DefaultParameterTransformer\r\n        @DefaultDataTableEntryTransformer\r\n        @DefaultDataTableCellTransformer\r\n        public Object transformer(Object fromValue, Type toValueType)\r\n\t    {\r\n\t\t    System.out.println(&quot;fromValue = &#39;&quot; + fromValue.toString());\r\n\t\t    return &quot;&quot;;\r\n\t    }\r\n    }\r\n\r\nWould not even output the line as if the method was not actually used.\r\n\r\nHow can I do this ?\r\nAdditionally, could it also be possible to do for the ```Examples``` datatable when the scenario is with the ```Outline``` keyword ?\r\n\r\nThank you\r\n\r\nPS: I use &lt;cucumber.version&gt;7.11.1&lt;/cucumber.version&gt;\r\n","title":"Cucumber datatable parameter: How to automatically apply custom method to all cells&#39; data?","body":"<p>I would like to apply a custom method to any cell of a datatable without having to explicitly do so in the glue step code for each cell manually. My scenarios can have 1 to n columns so I cannot use a 'mapping' class with corresponding properties, AND the phrase may be something totally different as well but still with a datatable that needs its cells' data to be converted automatically.</p>\n<p><strong>Note:</strong> obviously the idea behind the custom method is not as simple as replacing &quot;_&quot; with &quot; &quot; that could be done in the glue file straight away, it has much more complex logic behind which cannot be done in the static feature file itself.</p>\n<p>Consider a feature file with a scenario such as:</p>\n<pre><code>  Scenario: Verify datatable cell transformation\n    Then Verify default datatable cells automatic converter:\n    | row_1_cell_1_value | row_1_cell_2_value | row_1_cell_3_value |\n    | row_2_cell_1_value | row_2_cell_2_value | row_2_cell_3_value |\n</code></pre>\n<p>And the glue file with the corresponding method:</p>\n<pre><code>@Then(&quot;Verify default datatable cells automatic converter:&quot;)\npublic void VerifyDatatableCellsAutomaticConverter(DataTable datatable)\n{\n    System.out.println(&quot;datatable.row(0).get(0) = '&quot; + datatable.row(0).get(0) + &quot;'&quot;);\n}\n</code></pre>\n<p>Output would be:</p>\n<p><code>datatable.row(0).get(0) = 'row_1_cell_1_value'</code></p>\n<p>I would like to perform a call to a custom method on every cell of the datable, without an explicit call in the glue method itself because I need to do it for every scenario.\nI tried some code with the @DefaultParameterTransformer, @DefaultDataTableEntryTransformer and @DefaultDataTableCellTransformer in my ParameterTypes class, but if I do any output, nothing is ever printed out.</p>\n<p>Let's imagine my 'customMethod' would replace all &quot;_&quot; characters with &quot; &quot; of the cells of the datable; how can I achieve the same as:</p>\n<pre><code>@Then(&quot;Verify default datatable cells automatic converter:&quot;)\npublic void VerifyDatatableCellsAutomaticConverter(DataTable datatable)\n{\n    // Pseudo code to make it shorter\n    DataTable datatable = foreachrows(i).foreachcells(j){ customMethod(datatable.row(i).get(j)); }\n    System.out.println(&quot;datatable.row(0).get(0) = '&quot; + datatable.row(0).get(0) + &quot;'&quot;);\n    System.out.println(&quot;datatable.row(0).get(1) = '&quot; + datatable.row(0).get(1) + &quot;'&quot;);\n    // etc.\n    System.out.println(&quot;datatable.row(1).get(2) = '&quot; + datatable.row(1).get(2) + &quot;'&quot;);\n}\n</code></pre>\n<p>Output would be:</p>\n<p><code>datatable.row(0).get(0) = 'row 1 cell 1 value'</code>\n<code>datatable.row(0).get(1) = 'row 1 cell 2 value'</code>\n<code>...</code>\n<code>datatable.row(1).get(2) = 'row 2 cell 3 value'</code></p>\n<p>Something such as:</p>\n<pre><code>public class ParameterTypes\n{\n    @DefaultParameterTransformer\n    @DefaultDataTableEntryTransformer\n    @DefaultDataTableCellTransformer\n    public Object transformer(Object fromValue, Type toValueType)\n    {\n        System.out.println(&quot;fromValue = '&quot; + fromValue.toString());\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>Would not even output the line as if the method was not actually used.</p>\n<p>How can I do this ?\nAdditionally, could it also be possible to do for the <code>Examples</code> datatable when the scenario is with the <code>Outline</code> keyword ?</p>\n<p>Thank you</p>\n<p>PS: I use &lt;cucumber.version&gt;7.11.1&lt;/cucumber.version&gt;</p>\n"},{"tags":["java","triangulation","delaunay"],"comments":[{"owner":{"account_id":4792116,"reputation":7079,"user_id":3871028,"display_name":"Ripi2"},"score":0,"creation_date":1684351623,"post_id":76266944,"comment_id":134507521,"body_markdown":"Welcome to SO! Unfortunately debugging a triangulation code is hard. You may go point by point watching vars to see the culprit code. Draw all at each point insertion, so you can &quot;quickly&quot; detect the point that fired the issue. Antoher thing you can&#39;t miss is accuracy of tests is NOT always enough with double type, but depends a lot of points coordinates, take a look at [Robust Predicates](http://www.cs.cmu.edu/~quake/robust.html)","body":"Welcome to SO! Unfortunately debugging a triangulation code is hard. You may go point by point watching vars to see the culprit code. Draw all at each point insertion, so you can &quot;quickly&quot; detect the point that fired the issue. Antoher thing you can&#39;t miss is accuracy of tests is NOT always enough with double type, but depends a lot of points coordinates, take a look at <a href=\"http://www.cs.cmu.edu/~quake/robust.html\" rel=\"nofollow noreferrer\">Robust Predicates</a>"},{"owner":{"account_id":28615279,"reputation":1,"user_id":21909430,"display_name":"steve"},"score":0,"creation_date":1684846220,"post_id":76266944,"comment_id":134574287,"body_markdown":"Thank you for your answer! For many hours we were looking for a logical problem in the triangulation. But as it turned out we were plotting the triangles incorrectly....","body":"Thank you for your answer! For many hours we were looking for a logical problem in the triangulation. But as it turned out we were plotting the triangles incorrectly...."}],"owner":{"account_id":28615279,"reputation":1,"user_id":21909430,"display_name":"steve"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684270080,"creation_date":1684270080,"question_id":76266944,"body_markdown":"I am working on a school project where we are implementing Bowyer Watson triangulation algorithm. The code when triangulating creates all the correct triangles needed for the triangulation and removes the super triangle correctly. But when removing the bad triangles, it removes too many of the triangles, not removing any bad triangles and second when removing all. A &#39;bad triangle&#39; is defined as a triangle who&#39;s CircumCentre contains the current point. My thought is that the fault is when checking if the point is in the CircumCentre, either the calculation or the way of doing it. But I could be wrong, and I have been struggling with this for a while so If someone knows how to solve this I would be very grateful. \r\n\r\nThe code is inspired by Scotty Anderson : https://github.com/ScottyRAnderson/Delaunay-Triangulation\r\n\r\nPictures of the execution and calculation of circumcentre:\r\n [Not removing any bad triangles](https://i.stack.imgur.com/tqZHL.png)\r\n [Removing all bad triangles](https://i.stack.imgur.com/fnsMH.png)\r\n [Calculating circumcentre](https://i.stack.imgur.com/Idg2I.png)`\r\n\r\n\r\n \r\n\r\n\r\n    \r\n```\r\npublic class Triangulation {\r\n\tprivate List&lt;Point&gt; points;\r\n\tprivate List&lt;Triangle&gt; triangles;\r\n\tprivate Point superPoint1, superPoint2, superPoint3;\r\n\r\n\tpublic Triangulation(List&lt;Point&gt; points) { \r\n\t\tthis.points = points;\r\n\t\tthis.triangles = new ArrayList&lt;&gt;();\r\n\t}\r\n\r\n\tpublic List&lt;Triangle&gt; getTriangulation() {\r\n\r\n\r\n\t\ttriangles.add(createSuperTriangle());\r\n\t\tList&lt;Triangle&gt; badTriangles = new ArrayList&lt;&gt;();\r\n\r\n\t\tfor (int pIndex = 0; pIndex &lt; points.size(); pIndex++) {\r\n\t\t\tbadTriangles.clear();\r\n\r\n\t\t\tPoint point = points.get(pIndex);\r\n\r\n\t\t\t\r\n\t\t\t//Identify &#39;bad triangles&#39;\r\n\t\t\tfor (int triIndex = triangles.size() - 1; triIndex &gt;= 0; triIndex--) {\r\n\t\t\t\tTriangle triangle = triangles.get(triIndex);\r\n\r\n\t\t\t\tdouble xDelta = point.x - triangle.circumCentre().x;\r\n\t\t\t\tdouble yDelta = point.y - triangle.circumCentre().y;\r\n\t\t\t\tdouble distance = Math.hypot(yDelta, xDelta);\r\n\t\t\t\t\r\n\t\t\t\t// A &#39;bad triangle&#39; is defined as a triangle who&#39;s\r\n\t\t\t\t// CircumCentre contains the current point\r\n\t\t\t\tif (distance &lt; triangle.circumRadius()) {\r\n\r\n\t\t\t\t\tbadTriangles.add(triangle);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tList&lt;Edge&gt; polygon = new ArrayList&lt;Edge&gt;();\r\n\t\t\t\r\n\t\t\t// Contruct a polygon from unique edges, \r\n\t\t\t// i.e. ignoring duplicate edges inclusively\r\n\t\t\tfor (int i = 0; i &lt; badTriangles.size(); i++) {\r\n\t\t\t\tTriangle triangle = badTriangles.get(i);\r\n\t\t\t\tList&lt;Edge&gt; edges = new ArrayList&lt;&gt;();\r\n\t\t\t\tedges = triangle.getEdges();\r\n\r\n\t\t\t\tfor (int j = 0; j &lt; edges.size(); j++) {\r\n\t\t\t\t\tboolean badEdge = false;\r\n\r\n\t\t\t\t\tfor (int t = 0; t &lt; badTriangles.size(); t++) {\r\n\t\t\t\t\t\tif (t != i &amp;&amp; badTriangles.get(t).\r\n\t\t\t\t\t\t\t\tContainsEdge(edges.get(j))) {\r\n\t\t\t\t\t\t\tbadEdge = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!badEdge) {\r\n\t\t\t\t\t\tpolygon.add(edges.get(j));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//Remove bad triangles from the triangulation\r\n\t\t\tfor (int i = badTriangles.size() - 1; i &gt;= 0; i--) {\r\n\t\t\t\ttriangles.remove(badTriangles.get(i));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//Create new triangles\r\n\t\t\tfor (int polygonIndex = 0; polygonIndex &lt; polygon.size(); polygonIndex++) {\r\n\t\t\t\tEdge edge1 = polygon.get(polygonIndex);\r\n\t\t\t\tPoint pointA = new Point(point.x, point.y);\r\n\t\t\t\tPoint pointB = new Point(edge1.p1);\r\n\t\t\t\tPoint pointC = new Point(edge1.p2);\r\n\t\t\t\ttriangles.add(new Triangle(pointA, pointB, pointC));\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// if corner connected to superTriangle -&gt; remove \r\n\t\ttriangles.removeIf(triangle -&gt; triangleContainsPoint(triangle, superPoint1)\t\t\r\n\t\t\t\t|| triangleContainsPoint(triangle, superPoint2) \r\n\t\t\t\t|| triangleContainsPoint(triangle, superPoint3));\r\n\r\n\t\treturn triangles;\r\n\t}\r\n\r\n\tpublic Triangle createSuperTriangle() {\r\n\r\n\t\tdouble minX = Double.POSITIVE_INFINITY;\r\n\t\tdouble minY = Double.POSITIVE_INFINITY;\r\n\t\tdouble maxX = Double.NEGATIVE_INFINITY;\r\n\t\tdouble maxY = Double.NEGATIVE_INFINITY;\r\n\r\n\t\tfor (Point point : points) {\r\n\t\t\tminX = Math.min(minX, point.x);\r\n\t\t\tminY = Math.min(minY, point.y);\r\n\t\t\tmaxX = Math.max(maxX, point.x);\r\n\t\t\tmaxY = Math.max(maxY, point.y);\r\n\t\t}\r\n\r\n\t\tdouble deltaX = maxX - minX;\r\n\t\tdouble deltaY = maxY - minY;\r\n\t\tdouble deltaMax = Math.max(deltaX, deltaY);\r\n\r\n\t\tsuperPoint1 = new Point(minX - deltaMax, minY - 2 * deltaMax);\r\n\t\tsuperPoint2 = new Point(minX + 3 * deltaMax, minY - deltaMax);\r\n\t\tsuperPoint3 = new Point(minX + deltaMax, minY + 3 * deltaMax);\r\n\r\n\t\treturn new Triangle(superPoint1, superPoint2, superPoint3);\r\n\t}\r\n\r\n\tprivate boolean triangleContainsPoint(Triangle triangle, Point point) {\r\n\t\tdouble d1 = sign(point, triangle.p1, triangle.p2);\r\n\t\tdouble d2 = sign(point, triangle.p2, triangle.p3);\r\n\t\tdouble d3 = sign(point, triangle.p3, triangle.p1);\r\n\r\n\t\tboolean hasNeg = (d1 &lt; 0) || (d2 &lt; 0) || (d3 &lt; 0);\r\n\t\tboolean hasPos = (d1 &gt; 0) || (d2 &gt; 0) || (d3 &gt; 0);\r\n\r\n\t\treturn !(hasNeg &amp;&amp; hasPos);\r\n\t}\r\n\r\n\tprivate double sign(Point p1, Point p2, Point p3) {\r\n\t\treturn (p1.x - p3.x) * (p2.y - p3.y) - (p2.x - p3.x) * (p1.y - p3.y);\r\n\t}\r\n}\r\n\r\n    public class Triangle {\r\n\r\n\tpublic Point p1, p2, p3;\r\n\tprivate List&lt;Point&gt; points = new ArrayList&lt;Point&gt;();\r\n\r\n\tpublic Triangle(Point p1, Point p2, Point p3) {\r\n\r\n\t\tthis.p1 = p1;\r\n\t\tthis.p2 = p2;\r\n\t\tthis.p3 = p3;\r\n\r\n\t\tpoints.add(p1);\r\n\t\tpoints.add(p2);\r\n\t\tpoints.add(p3);\r\n\r\n\t}\r\n\r\n\tpublic boolean ContainsEdge1(Edge edge) {\r\n\t\tint sharedVerts = 0;\r\n\t\tfor (int i = 0; i &lt; points.size(); i++) {\r\n\t\t\tif (points.get(i).equals(edge.p1) || points.get(i).equals(edge.p2)) {\r\n\t\t\t\tsharedVerts++;\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sharedVerts == 2;\r\n\r\n\t}\r\n\r\n\tpublic boolean ContainsEdge(Edge edge) {\r\n\t\treturn points.contains(edge.p1) &amp;&amp; points.contains(edge.p2);\r\n\t}\r\n\r\n\tpublic List&lt;Edge&gt; getEdges() {\r\n\t\tList&lt;Edge&gt; edges = new ArrayList&lt;Edge&gt;();\r\n\t\tfor (int i = 0; i &lt; points.size() - 1; i++) {\r\n\t\t\tedges.add(new Edge(points.get(i), points.get(i + 1)));\r\n\t\t}\r\n\t\treturn edges;\r\n\t}\r\n\r\n\tpublic List&lt;Point&gt; getPoints() {\r\n\t\treturn points;\r\n\t}\r\n\r\n\tpublic double circumRadius() {\r\n\t\tPoint circumCentre = circumCentre();\r\n\t\tdouble xDelta = p1.x - circumCentre.x;\r\n\t\tdouble yDelta = p1.y - circumCentre.y;\r\n\t\tdouble distance = Math.hypot(xDelta, yDelta);\r\n\t\treturn distance;\r\n\t}\r\n\r\n\tpublic Point circumCentre() {\r\n\r\n\t\tdouble ax = p1.x;\r\n\t\tdouble ay = p1.y;\r\n\t\tdouble bx = p2.x;\r\n\t\tdouble by = p2.y;\r\n\t\tdouble cx = p3.x;\r\n\t\tdouble cy = p3.y;\r\n\r\n\t\tdouble d = (ax * (by - cy) + bx * (cy - ay) + cx * (ay - by)) * 2;\r\n\r\n\t\tdouble centerX = (((Math.pow(ax, 2) + Math.pow(ay, 2)) * (by - cy))\r\n\t\t\t\t+ ((Math.pow(bx, 2) + Math.pow(by, 2)) * (cy - ay)) \r\n\t\t\t\t+ (Math.pow(cx, 2) + Math.pow(cy, 2)) * (ay - by)) / d;\r\n\r\n\t\tdouble centerY = (((Math.pow(ax, 2) + Math.pow(ay, 2)) * (cx - bx))\r\n\t\t\t\t+ ((Math.pow(bx, 2) + Math.pow(by, 2)) * (ax - cx)) \r\n\t\t\t\t+ (Math.pow(cx, 2) + Math.pow(cy, 2)) * (bx - ax)) / d;\r\n\r\n\t\treturn new Point(centerX, centerY);\r\n\t}\r\n    }\t\r\n```","title":"Delaunay Triangulation, JAVA. Bowyer Watson algorithm, too many triangles being added to &quot;badTriangles&quot;?","body":"<p>I am working on a school project where we are implementing Bowyer Watson triangulation algorithm. The code when triangulating creates all the correct triangles needed for the triangulation and removes the super triangle correctly. But when removing the bad triangles, it removes too many of the triangles, not removing any bad triangles and second when removing all. A 'bad triangle' is defined as a triangle who's CircumCentre contains the current point. My thought is that the fault is when checking if the point is in the CircumCentre, either the calculation or the way of doing it. But I could be wrong, and I have been struggling with this for a while so If someone knows how to solve this I would be very grateful.</p>\n<p>The code is inspired by Scotty Anderson : <a href=\"https://github.com/ScottyRAnderson/Delaunay-Triangulation\" rel=\"nofollow noreferrer\">https://github.com/ScottyRAnderson/Delaunay-Triangulation</a></p>\n<p>Pictures of the execution and calculation of circumcentre:\n<a href=\"https://i.stack.imgur.com/tqZHL.png\" rel=\"nofollow noreferrer\">Not removing any bad triangles</a>\n<a href=\"https://i.stack.imgur.com/fnsMH.png\" rel=\"nofollow noreferrer\">Removing all bad triangles</a>\n<a href=\"https://i.stack.imgur.com/Idg2I.png\" rel=\"nofollow noreferrer\">Calculating circumcentre</a>`</p>\n<pre><code>public class Triangulation {\n    private List&lt;Point&gt; points;\n    private List&lt;Triangle&gt; triangles;\n    private Point superPoint1, superPoint2, superPoint3;\n\n    public Triangulation(List&lt;Point&gt; points) { \n        this.points = points;\n        this.triangles = new ArrayList&lt;&gt;();\n    }\n\n    public List&lt;Triangle&gt; getTriangulation() {\n\n\n        triangles.add(createSuperTriangle());\n        List&lt;Triangle&gt; badTriangles = new ArrayList&lt;&gt;();\n\n        for (int pIndex = 0; pIndex &lt; points.size(); pIndex++) {\n            badTriangles.clear();\n\n            Point point = points.get(pIndex);\n\n            \n            //Identify 'bad triangles'\n            for (int triIndex = triangles.size() - 1; triIndex &gt;= 0; triIndex--) {\n                Triangle triangle = triangles.get(triIndex);\n\n                double xDelta = point.x - triangle.circumCentre().x;\n                double yDelta = point.y - triangle.circumCentre().y;\n                double distance = Math.hypot(yDelta, xDelta);\n                \n                // A 'bad triangle' is defined as a triangle who's\n                // CircumCentre contains the current point\n                if (distance &lt; triangle.circumRadius()) {\n\n                    badTriangles.add(triangle);\n                }\n            }\n\n            List&lt;Edge&gt; polygon = new ArrayList&lt;Edge&gt;();\n            \n            // Contruct a polygon from unique edges, \n            // i.e. ignoring duplicate edges inclusively\n            for (int i = 0; i &lt; badTriangles.size(); i++) {\n                Triangle triangle = badTriangles.get(i);\n                List&lt;Edge&gt; edges = new ArrayList&lt;&gt;();\n                edges = triangle.getEdges();\n\n                for (int j = 0; j &lt; edges.size(); j++) {\n                    boolean badEdge = false;\n\n                    for (int t = 0; t &lt; badTriangles.size(); t++) {\n                        if (t != i &amp;&amp; badTriangles.get(t).\n                                ContainsEdge(edges.get(j))) {\n                            badEdge = true;\n                        }\n                    }\n                    if (!badEdge) {\n                        polygon.add(edges.get(j));\n                    }\n                }\n            }\n            \n            //Remove bad triangles from the triangulation\n            for (int i = badTriangles.size() - 1; i &gt;= 0; i--) {\n                triangles.remove(badTriangles.get(i));\n            }\n            \n            //Create new triangles\n            for (int polygonIndex = 0; polygonIndex &lt; polygon.size(); polygonIndex++) {\n                Edge edge1 = polygon.get(polygonIndex);\n                Point pointA = new Point(point.x, point.y);\n                Point pointB = new Point(edge1.p1);\n                Point pointC = new Point(edge1.p2);\n                triangles.add(new Triangle(pointA, pointB, pointC));\n            }\n\n        }\n\n        // if corner connected to superTriangle -&gt; remove \n        triangles.removeIf(triangle -&gt; triangleContainsPoint(triangle, superPoint1)     \n                || triangleContainsPoint(triangle, superPoint2) \n                || triangleContainsPoint(triangle, superPoint3));\n\n        return triangles;\n    }\n\n    public Triangle createSuperTriangle() {\n\n        double minX = Double.POSITIVE_INFINITY;\n        double minY = Double.POSITIVE_INFINITY;\n        double maxX = Double.NEGATIVE_INFINITY;\n        double maxY = Double.NEGATIVE_INFINITY;\n\n        for (Point point : points) {\n            minX = Math.min(minX, point.x);\n            minY = Math.min(minY, point.y);\n            maxX = Math.max(maxX, point.x);\n            maxY = Math.max(maxY, point.y);\n        }\n\n        double deltaX = maxX - minX;\n        double deltaY = maxY - minY;\n        double deltaMax = Math.max(deltaX, deltaY);\n\n        superPoint1 = new Point(minX - deltaMax, minY - 2 * deltaMax);\n        superPoint2 = new Point(minX + 3 * deltaMax, minY - deltaMax);\n        superPoint3 = new Point(minX + deltaMax, minY + 3 * deltaMax);\n\n        return new Triangle(superPoint1, superPoint2, superPoint3);\n    }\n\n    private boolean triangleContainsPoint(Triangle triangle, Point point) {\n        double d1 = sign(point, triangle.p1, triangle.p2);\n        double d2 = sign(point, triangle.p2, triangle.p3);\n        double d3 = sign(point, triangle.p3, triangle.p1);\n\n        boolean hasNeg = (d1 &lt; 0) || (d2 &lt; 0) || (d3 &lt; 0);\n        boolean hasPos = (d1 &gt; 0) || (d2 &gt; 0) || (d3 &gt; 0);\n\n        return !(hasNeg &amp;&amp; hasPos);\n    }\n\n    private double sign(Point p1, Point p2, Point p3) {\n        return (p1.x - p3.x) * (p2.y - p3.y) - (p2.x - p3.x) * (p1.y - p3.y);\n    }\n}\n\n    public class Triangle {\n\n    public Point p1, p2, p3;\n    private List&lt;Point&gt; points = new ArrayList&lt;Point&gt;();\n\n    public Triangle(Point p1, Point p2, Point p3) {\n\n        this.p1 = p1;\n        this.p2 = p2;\n        this.p3 = p3;\n\n        points.add(p1);\n        points.add(p2);\n        points.add(p3);\n\n    }\n\n    public boolean ContainsEdge1(Edge edge) {\n        int sharedVerts = 0;\n        for (int i = 0; i &lt; points.size(); i++) {\n            if (points.get(i).equals(edge.p1) || points.get(i).equals(edge.p2)) {\n                sharedVerts++;\n\n            }\n        }\n        return sharedVerts == 2;\n\n    }\n\n    public boolean ContainsEdge(Edge edge) {\n        return points.contains(edge.p1) &amp;&amp; points.contains(edge.p2);\n    }\n\n    public List&lt;Edge&gt; getEdges() {\n        List&lt;Edge&gt; edges = new ArrayList&lt;Edge&gt;();\n        for (int i = 0; i &lt; points.size() - 1; i++) {\n            edges.add(new Edge(points.get(i), points.get(i + 1)));\n        }\n        return edges;\n    }\n\n    public List&lt;Point&gt; getPoints() {\n        return points;\n    }\n\n    public double circumRadius() {\n        Point circumCentre = circumCentre();\n        double xDelta = p1.x - circumCentre.x;\n        double yDelta = p1.y - circumCentre.y;\n        double distance = Math.hypot(xDelta, yDelta);\n        return distance;\n    }\n\n    public Point circumCentre() {\n\n        double ax = p1.x;\n        double ay = p1.y;\n        double bx = p2.x;\n        double by = p2.y;\n        double cx = p3.x;\n        double cy = p3.y;\n\n        double d = (ax * (by - cy) + bx * (cy - ay) + cx * (ay - by)) * 2;\n\n        double centerX = (((Math.pow(ax, 2) + Math.pow(ay, 2)) * (by - cy))\n                + ((Math.pow(bx, 2) + Math.pow(by, 2)) * (cy - ay)) \n                + (Math.pow(cx, 2) + Math.pow(cy, 2)) * (ay - by)) / d;\n\n        double centerY = (((Math.pow(ax, 2) + Math.pow(ay, 2)) * (cx - bx))\n                + ((Math.pow(bx, 2) + Math.pow(by, 2)) * (ax - cx)) \n                + (Math.pow(cx, 2) + Math.pow(cy, 2)) * (bx - ax)) / d;\n\n        return new Point(centerX, centerY);\n    }\n    }   \n</code></pre>\n"},{"tags":["java","android","android-cursor"],"comments":[{"owner":{"account_id":443025,"reputation":3252,"user_id":834003,"display_name":"Londeren"},"score":0,"creation_date":1310916069,"post_id":6724714,"comment_id":7965020,"body_markdown":"Try http://stackoverflow.com/questions/6528452/remove-item-from-cursor","body":"Try <a href=\"http://stackoverflow.com/questions/6528452/remove-item-from-cursor\" title=\"remove item from cursor\">stackoverflow.com/questions/6528452/remove-item-from-cursor</a>"}],"answers":[{"comments":[{"owner":{"account_id":311346,"reputation":16468,"user_id":624869,"accept_rate":82,"display_name":"JDS"},"score":0,"creation_date":1310929220,"post_id":6724929,"comment_id":7967106,"body_markdown":"alright thanks i&#39;ll leave it open for a bit more in case others want to chime in.","body":"alright thanks i&#39;ll leave it open for a bit more in case others want to chime in."}],"tags":[],"owner":{"account_id":400583,"reputation":1458,"user_id":766639,"accept_rate":62,"display_name":"MikeWallaceDev"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1310917481,"creation_date":1310917481,"answer_id":6724929,"question_id":6724714,"body_markdown":"\r\nSorry mate you can&#39;t delete from a cursor.\r\n\r\nYou must either use your ContentResolver or a SQL call of some sort..","title":"Android - how to delete item from a cursor?","body":"<p>Sorry mate you can't delete from a cursor.</p>\n\n<p>You must either use your ContentResolver or a SQL call of some sort..</p>\n"},{"tags":[],"owner":{"account_id":189206,"reputation":6121,"user_id":428400,"accept_rate":83,"display_name":"Glenn Bech"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1549326898,"creation_date":1376078513,"answer_id":18154738,"question_id":6724714,"body_markdown":"You can to a trick with a MatrixCursor. With this strategy, you copy the cursor, and leave out the one row you want to exclude. This is - obviously,  not very efficient for large cursors as you will keep the entire dataset in memory.\r\n\r\nYou also have to repeat the String array of column names in the constructor of the MatrixCursor. You should keep this as a Constant. \r\n\r\n       //TODO: put the value you want to exclude\r\n       String exclueRef = &quot;Some id to exclude for the new&quot;;\r\n       MatrixCursor newCursor = new MatrixCursor(new String[] {&quot;column A&quot;, &quot;column B&quot;);\r\n             if (cursor.moveToFirst()) {\r\n                do {\r\n                    // skip the copy of this one .... \r\n                    if (cursor.getString(0).equals(exclueRef))\r\n                        continue;\r\n                    newCursor.addRow(new Object[]{cursor.getString(0), cursor.getString(1)});\r\n                } while (cursor.moveToNext());\r\n            }\r\n\r\nI constantly battle with this; trying to make my apps with cursors and content providers only, keeping away from object mapping as long as I can. You should see some of my ViewBinders ... :-)\r\n","title":"Android - how to delete item from a cursor?","body":"<p>You can to a trick with a MatrixCursor. With this strategy, you copy the cursor, and leave out the one row you want to exclude. This is - obviously,  not very efficient for large cursors as you will keep the entire dataset in memory.</p>\n\n<p>You also have to repeat the String array of column names in the constructor of the MatrixCursor. You should keep this as a Constant. </p>\n\n<pre><code>   //TODO: put the value you want to exclude\n   String exclueRef = \"Some id to exclude for the new\";\n   MatrixCursor newCursor = new MatrixCursor(new String[] {\"column A\", \"column B\");\n         if (cursor.moveToFirst()) {\n            do {\n                // skip the copy of this one .... \n                if (cursor.getString(0).equals(exclueRef))\n                    continue;\n                newCursor.addRow(new Object[]{cursor.getString(0), cursor.getString(1)});\n            } while (cursor.moveToNext());\n        }\n</code></pre>\n\n<p>I constantly battle with this; trying to make my apps with cursors and content providers only, keeping away from object mapping as long as I can. You should see some of my ViewBinders ... :-)</p>\n"}],"owner":{"account_id":311346,"reputation":16468,"user_id":624869,"accept_rate":82,"display_name":"JDS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13014,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":6724929,"answer_count":2,"score":3,"last_activity_date":1684269679,"creation_date":1310915356,"question_id":6724714,"body_markdown":"Let&#39;s say I make the following cursor to get the call log of someone:\r\n    \r\n    String[] strFields = {\r\n        android.provider.CallLog.Calls.NUMBER, \r\n        android.provider.CallLog.Calls.TYPE,\r\n        android.provider.CallLog.Calls.CACHED_NAME,\r\n        android.provider.CallLog.Calls.CACHED_NUMBER_TYPE\r\n        };\r\n\r\n    String strOrder = android.provider.CallLog.Calls.DATE + &quot; DESC&quot;; \r\n     \r\n    Cursor mCallCursor = getContentResolver().query(\r\n            android.provider.CallLog.Calls.CONTENT_URI,\r\n            strFields,\r\n            null,\r\n            null,\r\n            strOrder\r\n            );\r\n\r\nNow how would I go about deleted the ith item in this cursor? This could also be a cursor getting list of music, etc. So then I must ask - is this even possible? I can understand for certain cursors that 3rd party apps wouldn&#39;t be allowed to delete from. \r\n\r\nThanks. \r\n","title":"Android - how to delete item from a cursor?","body":"<p>Let's say I make the following cursor to get the call log of someone:</p>\n\n<pre><code>String[] strFields = {\n    android.provider.CallLog.Calls.NUMBER, \n    android.provider.CallLog.Calls.TYPE,\n    android.provider.CallLog.Calls.CACHED_NAME,\n    android.provider.CallLog.Calls.CACHED_NUMBER_TYPE\n    };\n\nString strOrder = android.provider.CallLog.Calls.DATE + \" DESC\"; \n\nCursor mCallCursor = getContentResolver().query(\n        android.provider.CallLog.Calls.CONTENT_URI,\n        strFields,\n        null,\n        null,\n        strOrder\n        );\n</code></pre>\n\n<p>Now how would I go about deleted the ith item in this cursor? This could also be a cursor getting list of music, etc. So then I must ask - is this even possible? I can understand for certain cursors that 3rd party apps wouldn't be allowed to delete from. </p>\n\n<p>Thanks. </p>\n"},{"tags":["java","android","api","retrofit","android-tabbed-activity"],"owner":{"account_id":28613688,"reputation":1,"user_id":21908165,"display_name":"aleex_arteaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684268962,"creation_date":1684268962,"question_id":76266842,"body_markdown":"I have a tabbed activity with three fragments and each fragment make a request to an API that shows the matches of the selected day in a date picker, the previous and the next one. When doing that, the entire title is not put on the tabs and to see the data I have to swipe down. If I comment the API petition lines, the title of the tabs change like I want to do.\r\n\r\nThis is the part when I change the fragments.\r\n\r\n```\r\nDatePickerDialog.OnDateSetListener listenerFecha = new DatePickerDialog.OnDateSetListener() {\r\n@Override\r\npublic void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth) {\r\nString fechaSeleccionada = String.format(&quot;%04d-%02d-%02d&quot;, year, monthOfYear + 1, dayOfMonth);\r\n\r\n                    Calendar calendar = Calendar.getInstance();\r\n                    calendar.set(Calendar.YEAR, year);\r\n                    calendar.set(Calendar.MONTH, monthOfYear);\r\n                    calendar.set(Calendar.DAY_OF_MONTH, dayOfMonth);\r\n    \r\n                    Calendar calendarAnterior = (Calendar) calendar.clone();\r\n                    calendarAnterior.add(Calendar.DATE, -1);\r\n    \r\n                    Calendar calendarSiguiente = (Calendar) calendar.clone();\r\n                    calendarSiguiente.add(Calendar.DATE, 1);\r\n    \r\n                    SimpleDateFormat formatoDiaSemana = new SimpleDateFormat(&quot;EEE dd MMM&quot;, new Locale(&quot;es&quot;));\r\n    \r\n                    String textoAnterior = formatoDiaSemana.format(calendarAnterior.getTime());\r\n                    String textoSeleccionado = formatoDiaSemana.format(calendar.getTime());\r\n                    String textoSiguiente = formatoDiaSemana.format(calendarSiguiente.getTime());\r\n    \r\n    \r\n                    tabLayout.removeAllTabs();\r\n    \r\n                    viewPagerCalendario = new ViewPagerCalendario(MenuPrincipalTabbed.this, fechaSeleccionada);\r\n                    viewPager2.setAdapter(viewPagerCalendario);\r\n    \r\n                    TabLayout.Tab tabAnterior = tabLayout.newTab().setText(textoAnterior);\r\n                    TabLayout.Tab tabSeleccionado = tabLayout.newTab().setText(textoSeleccionado);\r\n                    TabLayout.Tab tabSiguiente = tabLayout.newTab().setText(textoSiguiente);\r\n    \r\n                    tabLayout.addTab(tabAnterior);\r\n                    tabLayout.addTab(tabSeleccionado);\r\n                    tabLayout.addTab(tabSiguiente);\r\n                    viewPager2.setAdapter(viewPagerCalendario);\r\n    \r\n                    viewPager2.setCurrentItem(1);\r\n                    tabSeleccionado.select();\r\n                    \r\n    \r\n                }\r\n            };\r\n```\r\n\r\nThis is the viewPager\r\n\r\n```\r\npublic class ViewPagerCalendario extends FragmentStateAdapter {\r\n\r\n    private String fecha;\r\n    private String fechaAnterior;\r\n    private String fechaSiguiente;\r\n    private Retrofit retrofit;\r\n    \r\n    public ViewPagerCalendario(@NonNull FragmentActivity fragmentActivity, String fecha) {\r\n        super(fragmentActivity);\r\n        this.retrofit = APIClient.getRetrofitInstance();\r\n    \r\n    \r\n        if (fecha != null){\r\n            this.fecha = fecha;\r\n            // Obtener la fecha anterior y la fecha siguiente\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            try {\r\n                Date date = sdf.parse(fecha);\r\n                Calendar calendar = Calendar.getInstance();\r\n                calendar.setTime(date);\r\n                calendar.add(Calendar.DATE, -1);\r\n                fechaAnterior = sdf.format(calendar.getTime());\r\n                calendar.add(Calendar.DATE, 2);\r\n                fechaSiguiente = sdf.format(calendar.getTime());\r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    }\r\n    \r\n    @NonNull\r\n    @Override\r\n    public Fragment createFragment(int position) {\r\n        switch (position) {\r\n            case 0:\r\n                return new AnteriorFragment(fechaAnterior, retrofit);\r\n            case 1:\r\n                return new SeleccionadoFragment(fecha, retrofit);\r\n            case 2:\r\n                return new SiguienteFragment(fechaSiguiente, retrofit);\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public int getItemCount() {\r\n        return 3;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd this one of the three fragments. All have the same structure\r\n\r\n```\r\npublic class SeleccionadoFragment extends Fragment {\r\nString fecha;\r\nRetrofit retrofit;\r\npublic SeleccionadoFragment(String fecha, Retrofit retrofit) {\r\nthis.fecha = fecha;\r\nthis.retrofit = retrofit;\r\n}\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View rootView = inflater.inflate(R.layout.fragment_ayer, container, false);\r\n    \r\n        System.out.println(&quot;AYER&quot;);\r\n        RecyclerView recyclerView = rootView.findViewById(R.id.recyclerViewTabbedAyer);\r\n    \r\n        AdaptadorListaLigas adaptadorListaLigas = new AdaptadorListaLigas(getContext());\r\n    \r\n        recyclerView.setAdapter(adaptadorListaLigas);\r\n    \r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n    \r\n        ServicioAPI apiService = retrofit.create(ServicioAPI.class);\r\n    \r\n        Call&lt;PartidosResponse&gt; call = apiService.getPartidosPorDia(fecha);\r\n        call.enqueue(new Callback&lt;PartidosResponse&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;PartidosResponse&gt; call, Response&lt;PartidosResponse&gt; response) {\r\n                if (response.isSuccessful() &amp;&amp; response.body() != null) {\r\n                    List&lt;com.example.footballscore.entidades.Response&gt; partidos = response.body().getResponse();\r\n    \r\n                    ArrayList&lt;LigaDTO&gt; ligas = new ArrayList&lt;&gt;();\r\n    \r\n                    for (com.example.footballscore.entidades.Response partido : partidos) {\r\n                        // Obtener la informaci&#243;n de la liga\r\n                        int ligaId = partido.getLeague().getId();\r\n                        String ligaNombre = partido.getLeague().getName();\r\n                        String ligaLogo = partido.getLeague().getLogo();\r\n                        String ligaBandera = partido.getLeague().getFlag();\r\n    \r\n                        // Buscar la liga en el ArrayList de ligas\r\n                        LigaDTO liga = null;\r\n                        for (LigaDTO l : ligas) {\r\n                            if (l.getId() == ligaId) {\r\n                                liga = l;\r\n                                break;\r\n                            }\r\n                        }\r\n    \r\n                        // Si la liga no est&#225; en el ArrayList, crear una nueva Liga y agregarla al ArrayList\r\n                        if (liga == null) {\r\n                            liga = new LigaDTO(ligaId, ligaNombre, ligaLogo, ligaBandera);\r\n                            ligas.add(liga);\r\n                        }\r\n    \r\n                        // Agregar el partido a la liga correspondiente\r\n                        PartidoDTO partidoNuevo = new PartidoDTO(\r\n                                partido.getFixture().getId(),\r\n                                partido.getFixture().getReferee(),\r\n                                partido.getFixture().getTimezone(),\r\n                                partido.getFixture().getDate(),\r\n                                partido.getFixture().getTimestamp(),\r\n                                partido.getFixture().getStatus().getElapsed(),\r\n                                partido.getTeams().getHome().getName(),\r\n                                partido.getTeams().getAway().getName(),\r\n                                partido.getGoals().getHome(),\r\n                                partido.getGoals().getAway(),\r\n                                partido.getFixture().getStatus().getIsAcabadoLargo(),\r\n                                partido.getLeague().getRound(),\r\n                                partido.getTeams().getHome().getLogo(),\r\n                                partido.getTeams().getAway().getLogo()\r\n                        );\r\n    \r\n                        liga.getPartidos().add(partidoNuevo);\r\n    \r\n    \r\n                    }\r\n                    adaptadorListaLigas.agregarListaLigas(ligas);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void onFailure(Call&lt;PartidosResponse&gt; call, Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        });\r\n    \r\n        return rootView;\r\n    }\r\n    \r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI want to select a date in a DatePicker and that the title of the tabs shows the selected day, the previous and the next, also making the request to the API and showing me the data without having to slide down","title":"Tabbed Activity didn&#180;t refresh the fragments data until I swipe down","body":"<p>I have a tabbed activity with three fragments and each fragment make a request to an API that shows the matches of the selected day in a date picker, the previous and the next one. When doing that, the entire title is not put on the tabs and to see the data I have to swipe down. If I comment the API petition lines, the title of the tabs change like I want to do.</p>\n<p>This is the part when I change the fragments.</p>\n<pre><code>DatePickerDialog.OnDateSetListener listenerFecha = new DatePickerDialog.OnDateSetListener() {\n@Override\npublic void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth) {\nString fechaSeleccionada = String.format(&quot;%04d-%02d-%02d&quot;, year, monthOfYear + 1, dayOfMonth);\n\n                    Calendar calendar = Calendar.getInstance();\n                    calendar.set(Calendar.YEAR, year);\n                    calendar.set(Calendar.MONTH, monthOfYear);\n                    calendar.set(Calendar.DAY_OF_MONTH, dayOfMonth);\n    \n                    Calendar calendarAnterior = (Calendar) calendar.clone();\n                    calendarAnterior.add(Calendar.DATE, -1);\n    \n                    Calendar calendarSiguiente = (Calendar) calendar.clone();\n                    calendarSiguiente.add(Calendar.DATE, 1);\n    \n                    SimpleDateFormat formatoDiaSemana = new SimpleDateFormat(&quot;EEE dd MMM&quot;, new Locale(&quot;es&quot;));\n    \n                    String textoAnterior = formatoDiaSemana.format(calendarAnterior.getTime());\n                    String textoSeleccionado = formatoDiaSemana.format(calendar.getTime());\n                    String textoSiguiente = formatoDiaSemana.format(calendarSiguiente.getTime());\n    \n    \n                    tabLayout.removeAllTabs();\n    \n                    viewPagerCalendario = new ViewPagerCalendario(MenuPrincipalTabbed.this, fechaSeleccionada);\n                    viewPager2.setAdapter(viewPagerCalendario);\n    \n                    TabLayout.Tab tabAnterior = tabLayout.newTab().setText(textoAnterior);\n                    TabLayout.Tab tabSeleccionado = tabLayout.newTab().setText(textoSeleccionado);\n                    TabLayout.Tab tabSiguiente = tabLayout.newTab().setText(textoSiguiente);\n    \n                    tabLayout.addTab(tabAnterior);\n                    tabLayout.addTab(tabSeleccionado);\n                    tabLayout.addTab(tabSiguiente);\n                    viewPager2.setAdapter(viewPagerCalendario);\n    \n                    viewPager2.setCurrentItem(1);\n                    tabSeleccionado.select();\n                    \n    \n                }\n            };\n</code></pre>\n<p>This is the viewPager</p>\n<pre><code>public class ViewPagerCalendario extends FragmentStateAdapter {\n\n    private String fecha;\n    private String fechaAnterior;\n    private String fechaSiguiente;\n    private Retrofit retrofit;\n    \n    public ViewPagerCalendario(@NonNull FragmentActivity fragmentActivity, String fecha) {\n        super(fragmentActivity);\n        this.retrofit = APIClient.getRetrofitInstance();\n    \n    \n        if (fecha != null){\n            this.fecha = fecha;\n            // Obtener la fecha anterior y la fecha siguiente\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n            try {\n                Date date = sdf.parse(fecha);\n                Calendar calendar = Calendar.getInstance();\n                calendar.setTime(date);\n                calendar.add(Calendar.DATE, -1);\n                fechaAnterior = sdf.format(calendar.getTime());\n                calendar.add(Calendar.DATE, 2);\n                fechaSiguiente = sdf.format(calendar.getTime());\n            } catch (ParseException e) {\n                e.printStackTrace();\n            }\n        }\n    \n    }\n    \n    @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n        switch (position) {\n            case 0:\n                return new AnteriorFragment(fechaAnterior, retrofit);\n            case 1:\n                return new SeleccionadoFragment(fecha, retrofit);\n            case 2:\n                return new SiguienteFragment(fechaSiguiente, retrofit);\n            default:\n                return null;\n        }\n    }\n    \n    @Override\n    public int getItemCount() {\n        return 3;\n    }\n\n}\n</code></pre>\n<p>And this one of the three fragments. All have the same structure</p>\n<pre><code>public class SeleccionadoFragment extends Fragment {\nString fecha;\nRetrofit retrofit;\npublic SeleccionadoFragment(String fecha, Retrofit retrofit) {\nthis.fecha = fecha;\nthis.retrofit = retrofit;\n}\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View rootView = inflater.inflate(R.layout.fragment_ayer, container, false);\n    \n        System.out.println(&quot;AYER&quot;);\n        RecyclerView recyclerView = rootView.findViewById(R.id.recyclerViewTabbedAyer);\n    \n        AdaptadorListaLigas adaptadorListaLigas = new AdaptadorListaLigas(getContext());\n    \n        recyclerView.setAdapter(adaptadorListaLigas);\n    \n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n    \n        ServicioAPI apiService = retrofit.create(ServicioAPI.class);\n    \n        Call&lt;PartidosResponse&gt; call = apiService.getPartidosPorDia(fecha);\n        call.enqueue(new Callback&lt;PartidosResponse&gt;() {\n            @Override\n            public void onResponse(Call&lt;PartidosResponse&gt; call, Response&lt;PartidosResponse&gt; response) {\n                if (response.isSuccessful() &amp;&amp; response.body() != null) {\n                    List&lt;com.example.footballscore.entidades.Response&gt; partidos = response.body().getResponse();\n    \n                    ArrayList&lt;LigaDTO&gt; ligas = new ArrayList&lt;&gt;();\n    \n                    for (com.example.footballscore.entidades.Response partido : partidos) {\n                        // Obtener la información de la liga\n                        int ligaId = partido.getLeague().getId();\n                        String ligaNombre = partido.getLeague().getName();\n                        String ligaLogo = partido.getLeague().getLogo();\n                        String ligaBandera = partido.getLeague().getFlag();\n    \n                        // Buscar la liga en el ArrayList de ligas\n                        LigaDTO liga = null;\n                        for (LigaDTO l : ligas) {\n                            if (l.getId() == ligaId) {\n                                liga = l;\n                                break;\n                            }\n                        }\n    \n                        // Si la liga no está en el ArrayList, crear una nueva Liga y agregarla al ArrayList\n                        if (liga == null) {\n                            liga = new LigaDTO(ligaId, ligaNombre, ligaLogo, ligaBandera);\n                            ligas.add(liga);\n                        }\n    \n                        // Agregar el partido a la liga correspondiente\n                        PartidoDTO partidoNuevo = new PartidoDTO(\n                                partido.getFixture().getId(),\n                                partido.getFixture().getReferee(),\n                                partido.getFixture().getTimezone(),\n                                partido.getFixture().getDate(),\n                                partido.getFixture().getTimestamp(),\n                                partido.getFixture().getStatus().getElapsed(),\n                                partido.getTeams().getHome().getName(),\n                                partido.getTeams().getAway().getName(),\n                                partido.getGoals().getHome(),\n                                partido.getGoals().getAway(),\n                                partido.getFixture().getStatus().getIsAcabadoLargo(),\n                                partido.getLeague().getRound(),\n                                partido.getTeams().getHome().getLogo(),\n                                partido.getTeams().getAway().getLogo()\n                        );\n    \n                        liga.getPartidos().add(partidoNuevo);\n    \n    \n                    }\n                    adaptadorListaLigas.agregarListaLigas(ligas);\n                }\n            }\n    \n            @Override\n            public void onFailure(Call&lt;PartidosResponse&gt; call, Throwable t) {\n                t.printStackTrace();\n            }\n        });\n    \n        return rootView;\n    }\n    \n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n    }\n\n}\n</code></pre>\n<p>I want to select a date in a DatePicker and that the title of the tabs shows the selected day, the previous and the next, also making the request to the API and showing me the data without having to slide down</p>\n"},{"tags":["java","avro"],"owner":{"account_id":6973249,"reputation":411,"user_id":5348803,"accept_rate":33,"display_name":"developer2015"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684268796,"creation_date":1683653416,"question_id":76212003,"body_markdown":"I have a code where I am trying to serialize List of Generic Records to Byte Array and eventually write that into File, but getting a UnresolvedUnionException\r\n\r\nListed below is the source code \r\n\r\n```\r\npublic static byte[] encode(List&lt;GenericRecord&gt; records) throws IOException {\r\n    Schema schema =\r\n        new Schema.Parser()\r\n            .parse(new File(&quot;schema.avsc&quot;));\r\n    SpecificDatumWriter&lt;GenericRecord&gt; datumWriter = new SpecificDatumWriter&lt;&gt;(schema);\r\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n    byteArrayOutputStream.reset();\r\n    BinaryEncoder binaryEncoder = new EncoderFactory().binaryEncoder(byteArrayOutputStream, null);\r\n    for (GenericRecord segment : records) {\r\n      datumWriter.write(segment, binaryEncoder);\r\n    }\r\n    binaryEncoder.flush();\r\n    byte[] bytes = byteArrayOutputStream.toByteArray();\r\n    Files.write(Path.of(&quot;file.avro&quot;), bytes);\r\n    return bytes;\r\n  }\r\n```\r\n\r\nThe error occurs where the field type is a record type, the code is able to parse successfully for primitive types string , int, but fails on type record","title":"Serialization Apache Avro Generic Records using schema to File","body":"<p>I have a code where I am trying to serialize List of Generic Records to Byte Array and eventually write that into File, but getting a UnresolvedUnionException</p>\n<p>Listed below is the source code</p>\n<pre><code>public static byte[] encode(List&lt;GenericRecord&gt; records) throws IOException {\n    Schema schema =\n        new Schema.Parser()\n            .parse(new File(&quot;schema.avsc&quot;));\n    SpecificDatumWriter&lt;GenericRecord&gt; datumWriter = new SpecificDatumWriter&lt;&gt;(schema);\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n    byteArrayOutputStream.reset();\n    BinaryEncoder binaryEncoder = new EncoderFactory().binaryEncoder(byteArrayOutputStream, null);\n    for (GenericRecord segment : records) {\n      datumWriter.write(segment, binaryEncoder);\n    }\n    binaryEncoder.flush();\n    byte[] bytes = byteArrayOutputStream.toByteArray();\n    Files.write(Path.of(&quot;file.avro&quot;), bytes);\n    return bytes;\n  }\n</code></pre>\n<p>The error occurs where the field type is a record type, the code is able to parse successfully for primitive types string , int, but fails on type record</p>\n"},{"tags":["java","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1684247002,"post_id":76262569,"comment_id":134488095,"body_markdown":"The proper answer would be to remove the cycles. Can you post more infos about the affected classes and their dependencies?","body":"The proper answer would be to remove the cycles. Can you post more infos about the affected classes and their dependencies?"}],"answers":[{"tags":[],"owner":{"account_id":2669818,"reputation":715,"user_id":2307460,"accept_rate":60,"display_name":"Yogesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684243837,"creation_date":1684243837,"answer_id":76263631,"question_id":76262569,"body_markdown":"By default all Autowired dependencies are eagerly created and configured at startup. When the @Lazy annotation is present together with the @Component annotation on class level, then the component will not be eagerly created by the container, but when the component is first requested. Together with the @Autowired injection point, you need to mark it with @Lazy annotation.\r\n\r\nSo in your case \r\nThe **PublicationsImpl** bean will be created eagerly. But the Autowired **Publications** bean is annotated with the @Lazy annotation, which tells the spring container to initialize the bean only when it’s first requested.","title":"Cycles in custom JPA repository","body":"<p>By default all Autowired dependencies are eagerly created and configured at startup. When the @Lazy annotation is present together with the @Component annotation on class level, then the component will not be eagerly created by the container, but when the component is first requested. Together with the @Autowired injection point, you need to mark it with @Lazy annotation.</p>\n<p>So in your case\nThe <strong>PublicationsImpl</strong> bean will be created eagerly. But the Autowired <strong>Publications</strong> bean is annotated with the @Lazy annotation, which tells the spring container to initialize the bean only when it’s first requested.</p>\n"}],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684266446,"creation_date":1684236951,"question_id":76262569,"body_markdown":"I recently update my Spring Boot from 2.3.4 to 2.7.11 and my tests (but not the application) seem to have stopped working.  The error I got was \r\n\r\n&gt; The dependencies of some of the beans in the application context form a cycle\r\n\r\nThe custom JPA code I had looks like this\r\n\r\n```java\r\n@Repository\r\npublic class PublicationsImpl {\r\n\r\n    @Autowired\r\n    private Publications publications;\r\n\r\n    public Foo someCustomOperation(String id, LocalDate xyz) {\r\n      var myStuff = publications.findById(id).orElseThrow();\r\n      // ... some complicated operations\r\n      var moreStuff = publications.findBySomeComplexQuery(myStuff, xyz);\r\n      // ...\r\n      return ...;\r\n    }\r\n}\r\n```\r\n\r\n`Publications` has complex JPQL queries as well.\r\n\r\nThe way I fixed it was to add\r\n\r\n    @Autowired\r\n    @Lazy // added this line\r\n    private Publications publications;\r\n\r\nBut I am not sure if that&#39;s the proper answer.","title":"Cycles in custom JPA repository","body":"<p>I recently update my Spring Boot from 2.3.4 to 2.7.11 and my tests (but not the application) seem to have stopped working.  The error I got was</p>\n<blockquote>\n<p>The dependencies of some of the beans in the application context form a cycle</p>\n</blockquote>\n<p>The custom JPA code I had looks like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic class PublicationsImpl {\n\n    @Autowired\n    private Publications publications;\n\n    public Foo someCustomOperation(String id, LocalDate xyz) {\n      var myStuff = publications.findById(id).orElseThrow();\n      // ... some complicated operations\n      var moreStuff = publications.findBySomeComplexQuery(myStuff, xyz);\n      // ...\n      return ...;\n    }\n}\n</code></pre>\n<p><code>Publications</code> has complex JPQL queries as well.</p>\n<p>The way I fixed it was to add</p>\n<pre><code>@Autowired\n@Lazy // added this line\nprivate Publications publications;\n</code></pre>\n<p>But I am not sure if that's the proper answer.</p>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1684268836,"post_id":76266555,"comment_id":134493012,"body_markdown":"The TIME_WAIT state is caused by the OS I don&#39;t think you can change that in Java. For a ServerSocket you could set `setReuseAddress` to true to ignore the wait time but for a client socket I don&#39;t know.","body":"The TIME_WAIT state is caused by the OS I don&#39;t think you can change that in Java. For a ServerSocket you could set <code>setReuseAddress</code> to true to ignore the wait time but for a client socket I don&#39;t know."},{"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":1,"creation_date":1684269862,"post_id":76266555,"comment_id":134493195,"body_markdown":"@Robert the `Socket` class has a [`setReuseAddress()`](https://docs.oracle.com/javase/8/docs/api/java/net/Socket.html#setReuseAddress-boolean-) method, too. The underling `SO_REUSEADDR` (and `SO_REUSEPORT`) option works for both clients and servers.","body":"@Robert the <code>Socket</code> class has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/Socket.html#setReuseAddress-boolean-\" rel=\"nofollow noreferrer\"><code>setReuseAddress()</code></a> method, too. The underling <code>SO_REUSEADDR</code> (and <code>SO_REUSEPORT</code>) option works for both clients and servers."},{"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":1,"creation_date":1684270233,"post_id":76266555,"comment_id":134493263,"body_markdown":"@BurakTopcu Do you *absolutely* need to `bind()` the client to a specific ip/port before calling `connect()`? Typically one lets the OS chose the ip and random port to connect from. If you are trying to ensure your client connects using a specific network adapter, you should be able to just `bind()` to the adapter ip and let the OS pick a random port for you.","body":"@BurakTopcu Do you <i>absolutely</i> need to <code>bind()</code> the client to a specific ip/port before calling <code>connect()</code>? Typically one lets the OS chose the ip and random port to connect from. If you are trying to ensure your client connects using a specific network adapter, you should be able to just <code>bind()</code> to the adapter ip and let the OS pick a random port for you."},{"owner":{"account_id":22341888,"reputation":11,"user_id":16561546,"display_name":"Burak Topcu"},"score":0,"creation_date":1684273710,"post_id":76266555,"comment_id":134493849,"body_markdown":"@RemyLebeau Yes, I didn&#39;t try SO_REUSEPORT option.","body":"@RemyLebeau Yes, I didn&#39;t try SO_REUSEPORT option."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684294519,"post_id":76266555,"comment_id":134495677,"body_markdown":"The goal of reusing the same client port instantly cannot safely be met. It would violate a key part of TCP security. NB The `SO_LINGER`mechanism has nothing to do with the TIME_WAIT state. It provides a timeout on `close()` while there is still outbound data in flight. All that precedes the TIME_WAIT state, which starts after the socket is closed. It has no bearing on &#39;port in use&#39; whatsoever. Setting it to `(true, 0)` as you have causes the connection to be *reset* on close, which loses all the data in flight. You don&#39;t want that. It can upset the peer as well.","body":"The goal of reusing the same client port instantly cannot safely be met. It would violate a key part of TCP security. NB The <code>SO_LINGER</code>mechanism has nothing to do with the TIME_WAIT state. It provides a timeout on <code>close()</code> while there is still outbound data in flight. All that precedes the TIME_WAIT state, which starts after the socket is closed. It has no bearing on &#39;port in use&#39; whatsoever. Setting it to <code>(true, 0)</code> as you have causes the connection to be <i>reset</i> on close, which loses all the data in flight. You don&#39;t want that. It can upset the peer as well."}],"owner":{"account_id":22341888,"reputation":11,"user_id":16561546,"display_name":"Burak Topcu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684266117,"creation_date":1684266117,"question_id":76266555,"body_markdown":"I am trying to prevent TCP ports from waiting in TIME_WAIT state after it closed with following logic:\r\n\r\n``` \r\nSocket sock = new Socket();\r\nsock.setSoLinger(true, 0); // Set it as &quot;0&quot; before bind and connect.\r\nsock.bind(new InetSocketAddress(clientAddress, clientPort));\r\nsock.connect(new InetSocketAddress(serverAddress, serverPort), 8000);\r\n// sock.close() will be called at the end.\r\n```\r\nAfter that I verified this port not waits in TIME_WAIT state in my local(Windows) and server side (RedHat Linux) with netstat. But I still couldn&#39;t bind to same clientPort without waiting for a while.\r\n\r\nNote that clientAddress and clientPort taken from company VPN (Virtual Ethernet Adapter).\r\n\r\nWhat is that am I missing here?\r\n\r\n","title":"Completely Canceling TCP Connection Timeout / Linger Time Mechanism to Use Same Port Again Instantly after it Closed","body":"<p>I am trying to prevent TCP ports from waiting in TIME_WAIT state after it closed with following logic:</p>\n<pre><code>Socket sock = new Socket();\nsock.setSoLinger(true, 0); // Set it as &quot;0&quot; before bind and connect.\nsock.bind(new InetSocketAddress(clientAddress, clientPort));\nsock.connect(new InetSocketAddress(serverAddress, serverPort), 8000);\n// sock.close() will be called at the end.\n</code></pre>\n<p>After that I verified this port not waits in TIME_WAIT state in my local(Windows) and server side (RedHat Linux) with netstat. But I still couldn't bind to same clientPort without waiting for a while.</p>\n<p>Note that clientAddress and clientPort taken from company VPN (Virtual Ethernet Adapter).</p>\n<p>What is that am I missing here?</p>\n"},{"tags":["java","spring-boot","spring-restdocs"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684266036,"creation_date":1684255512,"answer_id":76265423,"question_id":76265193,"body_markdown":"The security configuration is missing in your question, but you obviously have configured your application as an OAuth2 client (with Google as authorization server), and redirection to login for requests having a session which do not have an authorized client.\r\n\r\nYou are redirected to login because you didn&#39;t set or mock the security context for your test request. I suggest you read this [Baeldung article][1] I wrote.\r\n\r\nIn your case, what might be needed is:\r\n```java\r\nimport static org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.oauth2Login;\r\n\r\n...\r\n    get(&quot;/app/alarms/42&quot;).with(oauth2Login()/* configure user identity details there */)\r\n```\r\n\r\nAnother option is to use [this libs I wrote][2] and decorate your tests methods or classes with `@WithOAuth2Login` or `@WithOidcLogin`.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-oauth-testing-access-control\r\n  [2]: https://github.com/ch4mpy/spring-addons","title":"mockMVC test code I wrote call other controller&#39;s api (maybe)","body":"<p>The security configuration is missing in your question, but you obviously have configured your application as an OAuth2 client (with Google as authorization server), and redirection to login for requests having a session which do not have an authorized client.</p>\n<p>You are redirected to login because you didn't set or mock the security context for your test request. I suggest you read this <a href=\"https://www.baeldung.com/spring-oauth-testing-access-control\" rel=\"nofollow noreferrer\">Baeldung article</a> I wrote.</p>\n<p>In your case, what might be needed is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.oauth2Login;\n\n...\n    get(&quot;/app/alarms/42&quot;).with(oauth2Login()/* configure user identity details there */)\n</code></pre>\n<p>Another option is to use <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">this libs I wrote</a> and decorate your tests methods or classes with <code>@WithOAuth2Login</code> or <code>@WithOidcLogin</code>.</p>\n"}],"owner":{"account_id":28613893,"reputation":1,"user_id":21908331,"display_name":"Chanmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684266036,"creation_date":1684253816,"question_id":76265193,"body_markdown":"First I ask for your understanding of my poor eng.\r\n\r\nI&#39;m writing test code for make api specification by Spring Rest Docs library.\r\n\r\n\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.10&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n\tid &quot;org.asciidoctor.jvm.convert&quot; version &quot;3.3.2&quot;\r\n}\r\n\r\ngroup = &#39;com.jogijo&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11&#39;\r\n\r\ncompileJava.options.encoding = &#39;UTF-8&#39;\r\n\r\nconfigurations {\r\n\tasciidoctorExt\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;com.vladmihalcea:hibernate-types-52:2.17.3&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestCompileOnly &#39;org.projectlombok:lombok&#39;\r\n\ttestAnnotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39; // JPA\r\n\timplementation &#39;org.apache.httpcomponents:httpcore:4.4.15&#39;\r\n\timplementation &#39;org.apache.httpcomponents:httpclient:4.5.13&#39;\r\n\r\n\t//implementation &#39;org.springframework.boot:spring-boot-starter-log4j2&#39;\r\n\timplementation &#39;jakarta.xml.bind:jakarta.xml.bind-api:2.3.2&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\r\n\t// 유효성\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\r\n\t// model struct\r\n\timplementation &#39;org.mapstruct:mapstruct:1.5.4.Final&#39;\r\n\tannotationProcessor &#39;org.mapstruct:mapstruct-processor:1.5.4.Final&#39;\r\n\r\n\t// security\r\n\timplementation(&#39;org.springframework.boot:spring-boot-starter-security&#39;)\r\n\r\n\t// DB\r\n\t//runtimeOnly (&#39;mysql:mysql-connector-java:8.0.32&#39;) //mysql8\r\n\truntimeOnly(&quot;com.mysql:mysql-connector-j&quot;)\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\t//implementation&#39;mysql:mysql-connector-java&#39;\r\n\r\n\r\n\t// mybatis\r\n\timplementation &#39;org.mybatis.spring.boot:mybatis-spring-boot-starter:2.3.0&#39;\r\n\r\n\t// aws s3\r\n\timplementation &#39;org.springframework.cloud:spring-cloud-starter-aws:2.2.6.RELEASE&#39;\r\n\r\n\t//jwt\r\n\truntimeOnly &#39;io.jsonwebtoken:jjwt-jackson:0.11.5&#39;\r\n\truntimeOnly &#39;io.jsonwebtoken:jjwt-impl:0.11.5&#39;\r\n\timplementation &#39;io.jsonwebtoken:jjwt-api:0.11.5&#39;\r\n\r\n\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n\r\n\t// Validation\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\r\n\t//oauth\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-oauth2-client&#39;\r\n\r\n\t// Spring Rest Docs\r\n\ttestImplementation &#39;org.springframework.restdocs:spring-restdocs-mockmvc&#39;\r\n\tasciidoctorExt &#39;org.springframework.restdocs:spring-restdocs-asciidoctor&#39;\r\n}\r\n\r\next {\r\n\tsnippetsDir = file(&#39;build/generated-snippets&#39;)\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\toutputs.dir snippetsDir\r\n\tuseJUnitPlatform()\r\n}\r\n\r\nasciidoctor {\r\n\tinputs.dir snippetsDir\r\n\tconfigurations &#39;asciidoctorExt&#39;\r\n\tdependsOn test\r\n\r\n}\r\n\r\ntask copyDocument(type: Copy) {\r\n\tdependsOn asciidoctor\r\n\tdoFirst{\r\n\t\tdelete file(&#39;src/main/resources/static/docs&#39;)\r\n\t}\r\n\tfrom file(&quot;build/docs/asciidoc&quot;)\r\n\tinto file(&quot;src/main/resources/static/docs&quot;)\r\n}\r\n\r\nbuild {\r\n\tdependsOn copyDocument\r\n}\r\n\r\nbootJar {\r\n\tdependsOn asciidoctor\r\n\tfrom(&quot;${asciidoctor.outputDir}/html5&quot;) {\r\n\t\tinto &#39;static/docs&#39;\r\n\t}\r\n}\r\n```\r\nthis is `build.gradle`\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/app/alarms&quot;)\r\n@RequiredArgsConstructor\r\npublic class AlarmController {\r\n    private final AlarmService alarmService;\r\n    private final AlarmProvider alarmProvider;\r\n    private final JwtService jwtService;\r\n\r\n    /**\r\n     * 알람 1개 불러오기\r\n     * @param alarmId\r\n     * @return\r\n     */\r\n    @GetMapping(&quot;/{alarmId}&quot;)\r\n    public BaseResponse&lt;AlarmRes&gt; GetAlarm(@PathVariable Integer alarmId){\r\n        AlarmRes alarmRes = alarmProvider.getAlarm(alarmId);\r\n\r\n        return new BaseResponse&lt;&gt;(ResponseStatus.SUCCESS, alarmRes);\r\n    }\r\n```\r\nthis is the api that I want to test.\r\n\r\n```\r\npackage com.wakeUpTogetUp.togetUp.alarms;\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.wakeUpTogetUp.togetUp.alarms.dto.response.AlarmRes;\r\nimport com.wakeUpTogetUp.togetUp.common.ResponseStatus;\r\nimport com.wakeUpTogetUp.togetUp.common.dto.BaseResponse;\r\nimport com.wakeUpTogetUp.togetUp.utils.JwtService;\r\nimport org.junit.jupiter.api.DisplayName;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.restdocs.AutoConfigureRestDocs;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.ResultActions;\r\n\r\nimport static org.mockito.BDDMockito.*;\r\nimport static org.springframework.restdocs.mockmvc.MockMvcRestDocumentation.document;\r\nimport static org.springframework.restdocs.payload.PayloadDocumentation.*;\r\nimport static org.springframework.restdocs.request.RequestDocumentation.parameterWithName;\r\nimport static org.springframework.restdocs.request.RequestDocumentation.requestParameters;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\n\r\n@WebMvcTest(AlarmController.class)\r\n@AutoConfigureRestDocs\r\nclass AlarmControllerTest {\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n    @MockBean\r\n    private AlarmService alarmService;\r\n    @MockBean\r\n    private AlarmProvider alarmProvider;\r\n    @MockBean\r\n    private JwtService jwtService;\r\n\r\n    @Test\r\n    @DisplayName(&quot;getAlarm - [Get] /alarm/{alarmId}&quot;)\r\n    void getAlarm() throws Exception{\r\n        //given\r\n        AlarmRes response = AlarmRes.builder()\r\n                .id(42)\r\n                .userId(9)\r\n                .missionId(1)\r\n                .name(&quot;기상알람&quot;)\r\n                .icon(&quot;⏰&quot;)\r\n                .sound(&quot;default&quot;)\r\n                .volume(80)\r\n                .isVibrate(true)\r\n                .isRoutineOn(true)\r\n                .snoozeInterval(5)\r\n                .snoozeCnt(3)\r\n                .startHour(6)\r\n                .startMinute(0)\r\n                .monday(true)\r\n                .tuesday(true)\r\n                .wednesday(true)\r\n                .thursday(true)\r\n                .friday(true)\r\n                .saturday(true)\r\n                .sunday(false)\r\n                .isActivated(true)\r\n                .build();\r\n\r\n        given(alarmProvider.getAlarm(42)).willReturn(response);\r\n\r\n        Integer alarmId = 42;\r\n\r\n        //when\r\n        ResultActions action = mockMvc.perform(get(&quot;/app/alarms/42&quot;))\r\n                .andDo(print());\r\n\r\n        //then\r\n        BaseResponse&lt;AlarmRes&gt; responseData = new BaseResponse&lt;&gt;(ResponseStatus.SUCCESS, response);\r\n\r\n        action.andExpect(status().isOk())\r\n                .andExpect(content().json(objectMapper.writeValueAsString(responseData)))\r\n                .andExpect(jsonPath(&quot;$.result.userId&quot;).value(9))\r\n                .andDo(\r\n                        // rest docs 문서 작성 시작\r\n                        document(&quot;alarm/getAlarm&quot;, // directory명 위에서 설정한 build/generated-snippets 하위에 생성\r\n                                // --&gt; build/generated-snippets/member/create\r\n                                requestParameters( // queryString 관련 변수 정보 입력\r\n                                        parameterWithName(&quot;alarmId&quot;).description(&quot;알람 Id&quot;)\r\n                                ),\r\n                                responseFields( // response data 필드 정보 입력\r\n                                        fieldWithPath(&quot;httpStatusCode&quot;).description(&quot;http 상태코드&quot;),\r\n                                        fieldWithPath(&quot;httpReasonPhrase&quot;).description(&quot;http 상태코드 설명문구&quot;),\r\n                                        fieldWithPath(&quot;message&quot;).description(&quot;설명 메시지&quot;),\r\n                                        subsectionWithPath(&quot;result&quot;).description(&quot;결과&quot;),\r\n                                        fieldWithPath(&quot;id&quot;).description(&quot;알람 Id&quot;),\r\n                                        fieldWithPath(&quot;userId&quot;).description(&quot;사용자 Id&quot;)\r\n                                )\r\n                        )\r\n                );\r\n    }\r\n```\r\nthis is test code.\r\n\r\n```\r\nMockHttpServletRequest:\r\n      HTTP Method = GET\r\n      Request URI = /app/alarms/42\r\n       Parameters = {}\r\n          Headers = []\r\n             Body = null\r\n    Session Attrs = {SPRING_SECURITY_SAVED_REQUEST=DefaultSavedRequest [http://localhost:8080/app/alarms/42]}\r\n\r\nHandler:\r\n             Type = null\r\n\r\nAsync:\r\n    Async started = false\r\n     Async result = null\r\n\r\nResolved Exception:\r\n             Type = null\r\n\r\nModelAndView:\r\n        View name = null\r\n             View = null\r\n            Model = null\r\n\r\nFlashMap:\r\n       Attributes = null\r\n\r\nMockHttpServletResponse:\r\n           Status = 302\r\n    Error message = null\r\n          Headers = [X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;, Location:&quot;http://localhost:8080/oauth2/authorization/google&quot;]\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = [HERE IS REDIRECT URL BUT IT COULD BE SPAM POST. LOCALHOST:8080 / OAUTH2\r\nAUTHORIZATION / GOOGLE]\r\n          Cookies = []\r\n\r\nMockHttpServletRequest:\r\n      HTTP Method = GET\r\n      Request URI = /app/alarms/42\r\n       Parameters = {}\r\n          Headers = []\r\n             Body = null\r\n    Session Attrs = {SPRING_SECURITY_SAVED_REQUEST=DefaultSavedRequest [http://localhost:8080/app/alarms/42]}\r\n\r\nHandler:\r\n             Type = null\r\n\r\nAsync:\r\n    Async started = false\r\n     Async result = null\r\n\r\nResolved Exception:\r\n             Type = null\r\n\r\nModelAndView:\r\n        View name = null\r\n             View = null\r\n            Model = null\r\n\r\nFlashMap:\r\n       Attributes = null\r\n\r\nMockHttpServletResponse:\r\n           Status = 302\r\n    Error message = null\r\n          Headers = [X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;, Location:&quot;http://localhost:8080/oauth2/authorization/google&quot;]\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = http://localhost:8080/oauth2/authorization/google\r\n          Cookies = []\r\n\r\nStatus expected:&lt;200&gt; but was:&lt;302&gt;\r\nExpected :200\r\nActual   :302\r\n&lt;Click to see difference&gt;\r\n\r\njava.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;302&gt;\r\n\r\nAlarmControllerTest &gt; getAlarm - [Get] /alarm/{alarmId} FAILED\r\n    java.lang.AssertionError at AlarmControllerTest.java:79\r\n1 test completed, 1 failed\r\n&gt; Task :test FAILED\r\nFAILURE: Build failed with an exception.\r\n* What went wrong:\r\nExecution failed for task &#39;:test&#39;.\r\n&gt; There were failing tests. See the report at: file:///C:/Users/anyti/IdeaProjects/TogetUp/build/reports/tests/test/index.html\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n* Get more help at https://help.gradle.org\r\nBUILD FAILED in 9s\r\n4 actionable tasks: 2 executed, 2 up-to-date\r\n```\r\nThis is error code.\r\n\r\nThere is google oauth login code that redirect to url. But I don&#39;t know why this test code get that response. They&#39;re in different controller and also there&#39;s no api that reply the url &quot;http://localhost:8080/oauth2/authorization/google&quot;\r\n\r\nI annotated all code related with oauth but It didn&#39;t work.\r\nand I check the url but It&#39;s right I think.\r\n\r\nI&#39;m really exhausted now. I would so glad if someone help me.","title":"mockMVC test code I wrote call other controller&#39;s api (maybe)","body":"<p>First I ask for your understanding of my poor eng.</p>\n<p>I'm writing test code for make api specification by Spring Rest Docs library.</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.10'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n    id &quot;org.asciidoctor.jvm.convert&quot; version &quot;3.3.2&quot;\n}\n\ngroup = 'com.jogijo'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\ncompileJava.options.encoding = 'UTF-8'\n\nconfigurations {\n    asciidoctorExt\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'com.vladmihalcea:hibernate-types-52:2.17.3'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testCompileOnly 'org.projectlombok:lombok'\n    testAnnotationProcessor 'org.projectlombok:lombok'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa' // JPA\n    implementation 'org.apache.httpcomponents:httpcore:4.4.15'\n    implementation 'org.apache.httpcomponents:httpclient:4.5.13'\n\n    //implementation 'org.springframework.boot:spring-boot-starter-log4j2'\n    implementation 'jakarta.xml.bind:jakarta.xml.bind-api:2.3.2'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n\n    // 유효성\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n\n    // model struct\n    implementation 'org.mapstruct:mapstruct:1.5.4.Final'\n    annotationProcessor 'org.mapstruct:mapstruct-processor:1.5.4.Final'\n\n    // security\n    implementation('org.springframework.boot:spring-boot-starter-security')\n\n    // DB\n    //runtimeOnly ('mysql:mysql-connector-java:8.0.32') //mysql8\n    runtimeOnly(&quot;com.mysql:mysql-connector-j&quot;)\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    //implementation'mysql:mysql-connector-java'\n\n\n    // mybatis\n    implementation 'org.mybatis.spring.boot:mybatis-spring-boot-starter:2.3.0'\n\n    // aws s3\n    implementation 'org.springframework.cloud:spring-cloud-starter-aws:2.2.6.RELEASE'\n\n    //jwt\n    runtimeOnly 'io.jsonwebtoken:jjwt-jackson:0.11.5'\n    runtimeOnly 'io.jsonwebtoken:jjwt-impl:0.11.5'\n    implementation 'io.jsonwebtoken:jjwt-api:0.11.5'\n\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n\n    // Validation\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n\n    //oauth\n    implementation 'org.springframework.boot:spring-boot-starter-oauth2-client'\n\n    // Spring Rest Docs\n    testImplementation 'org.springframework.restdocs:spring-restdocs-mockmvc'\n    asciidoctorExt 'org.springframework.restdocs:spring-restdocs-asciidoctor'\n}\n\next {\n    snippetsDir = file('build/generated-snippets')\n}\n\ntasks.named('test') {\n    outputs.dir snippetsDir\n    useJUnitPlatform()\n}\n\nasciidoctor {\n    inputs.dir snippetsDir\n    configurations 'asciidoctorExt'\n    dependsOn test\n\n}\n\ntask copyDocument(type: Copy) {\n    dependsOn asciidoctor\n    doFirst{\n        delete file('src/main/resources/static/docs')\n    }\n    from file(&quot;build/docs/asciidoc&quot;)\n    into file(&quot;src/main/resources/static/docs&quot;)\n}\n\nbuild {\n    dependsOn copyDocument\n}\n\nbootJar {\n    dependsOn asciidoctor\n    from(&quot;${asciidoctor.outputDir}/html5&quot;) {\n        into 'static/docs'\n    }\n}\n</code></pre>\n<p>this is <code>build.gradle</code></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/app/alarms&quot;)\n@RequiredArgsConstructor\npublic class AlarmController {\n    private final AlarmService alarmService;\n    private final AlarmProvider alarmProvider;\n    private final JwtService jwtService;\n\n    /**\n     * 알람 1개 불러오기\n     * @param alarmId\n     * @return\n     */\n    @GetMapping(&quot;/{alarmId}&quot;)\n    public BaseResponse&lt;AlarmRes&gt; GetAlarm(@PathVariable Integer alarmId){\n        AlarmRes alarmRes = alarmProvider.getAlarm(alarmId);\n\n        return new BaseResponse&lt;&gt;(ResponseStatus.SUCCESS, alarmRes);\n    }\n</code></pre>\n<p>this is the api that I want to test.</p>\n<pre><code>package com.wakeUpTogetUp.togetUp.alarms;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.wakeUpTogetUp.togetUp.alarms.dto.response.AlarmRes;\nimport com.wakeUpTogetUp.togetUp.common.ResponseStatus;\nimport com.wakeUpTogetUp.togetUp.common.dto.BaseResponse;\nimport com.wakeUpTogetUp.togetUp.utils.JwtService;\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.restdocs.AutoConfigureRestDocs;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.ResultActions;\n\nimport static org.mockito.BDDMockito.*;\nimport static org.springframework.restdocs.mockmvc.MockMvcRestDocumentation.document;\nimport static org.springframework.restdocs.payload.PayloadDocumentation.*;\nimport static org.springframework.restdocs.request.RequestDocumentation.parameterWithName;\nimport static org.springframework.restdocs.request.RequestDocumentation.requestParameters;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\n\n@WebMvcTest(AlarmController.class)\n@AutoConfigureRestDocs\nclass AlarmControllerTest {\n    @Autowired\n    private MockMvc mockMvc;\n    @Autowired\n    private ObjectMapper objectMapper;\n    @MockBean\n    private AlarmService alarmService;\n    @MockBean\n    private AlarmProvider alarmProvider;\n    @MockBean\n    private JwtService jwtService;\n\n    @Test\n    @DisplayName(&quot;getAlarm - [Get] /alarm/{alarmId}&quot;)\n    void getAlarm() throws Exception{\n        //given\n        AlarmRes response = AlarmRes.builder()\n                .id(42)\n                .userId(9)\n                .missionId(1)\n                .name(&quot;기상알람&quot;)\n                .icon(&quot;⏰&quot;)\n                .sound(&quot;default&quot;)\n                .volume(80)\n                .isVibrate(true)\n                .isRoutineOn(true)\n                .snoozeInterval(5)\n                .snoozeCnt(3)\n                .startHour(6)\n                .startMinute(0)\n                .monday(true)\n                .tuesday(true)\n                .wednesday(true)\n                .thursday(true)\n                .friday(true)\n                .saturday(true)\n                .sunday(false)\n                .isActivated(true)\n                .build();\n\n        given(alarmProvider.getAlarm(42)).willReturn(response);\n\n        Integer alarmId = 42;\n\n        //when\n        ResultActions action = mockMvc.perform(get(&quot;/app/alarms/42&quot;))\n                .andDo(print());\n\n        //then\n        BaseResponse&lt;AlarmRes&gt; responseData = new BaseResponse&lt;&gt;(ResponseStatus.SUCCESS, response);\n\n        action.andExpect(status().isOk())\n                .andExpect(content().json(objectMapper.writeValueAsString(responseData)))\n                .andExpect(jsonPath(&quot;$.result.userId&quot;).value(9))\n                .andDo(\n                        // rest docs 문서 작성 시작\n                        document(&quot;alarm/getAlarm&quot;, // directory명 위에서 설정한 build/generated-snippets 하위에 생성\n                                // --&gt; build/generated-snippets/member/create\n                                requestParameters( // queryString 관련 변수 정보 입력\n                                        parameterWithName(&quot;alarmId&quot;).description(&quot;알람 Id&quot;)\n                                ),\n                                responseFields( // response data 필드 정보 입력\n                                        fieldWithPath(&quot;httpStatusCode&quot;).description(&quot;http 상태코드&quot;),\n                                        fieldWithPath(&quot;httpReasonPhrase&quot;).description(&quot;http 상태코드 설명문구&quot;),\n                                        fieldWithPath(&quot;message&quot;).description(&quot;설명 메시지&quot;),\n                                        subsectionWithPath(&quot;result&quot;).description(&quot;결과&quot;),\n                                        fieldWithPath(&quot;id&quot;).description(&quot;알람 Id&quot;),\n                                        fieldWithPath(&quot;userId&quot;).description(&quot;사용자 Id&quot;)\n                                )\n                        )\n                );\n    }\n</code></pre>\n<p>this is test code.</p>\n<pre><code>MockHttpServletRequest:\n      HTTP Method = GET\n      Request URI = /app/alarms/42\n       Parameters = {}\n          Headers = []\n             Body = null\n    Session Attrs = {SPRING_SECURITY_SAVED_REQUEST=DefaultSavedRequest [http://localhost:8080/app/alarms/42]}\n\nHandler:\n             Type = null\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 302\n    Error message = null\n          Headers = [X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;, Location:&quot;http://localhost:8080/oauth2/authorization/google&quot;]\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = [HERE IS REDIRECT URL BUT IT COULD BE SPAM POST. LOCALHOST:8080 / OAUTH2\nAUTHORIZATION / GOOGLE]\n          Cookies = []\n\nMockHttpServletRequest:\n      HTTP Method = GET\n      Request URI = /app/alarms/42\n       Parameters = {}\n          Headers = []\n             Body = null\n    Session Attrs = {SPRING_SECURITY_SAVED_REQUEST=DefaultSavedRequest [http://localhost:8080/app/alarms/42]}\n\nHandler:\n             Type = null\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 302\n    Error message = null\n          Headers = [X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;, Location:&quot;http://localhost:8080/oauth2/authorization/google&quot;]\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = http://localhost:8080/oauth2/authorization/google\n          Cookies = []\n\nStatus expected:&lt;200&gt; but was:&lt;302&gt;\nExpected :200\nActual   :302\n&lt;Click to see difference&gt;\n\njava.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;302&gt;\n\nAlarmControllerTest &gt; getAlarm - [Get] /alarm/{alarmId} FAILED\n    java.lang.AssertionError at AlarmControllerTest.java:79\n1 test completed, 1 failed\n&gt; Task :test FAILED\nFAILURE: Build failed with an exception.\n* What went wrong:\nExecution failed for task ':test'.\n&gt; There were failing tests. See the report at: file:///C:/Users/anyti/IdeaProjects/TogetUp/build/reports/tests/test/index.html\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n* Get more help at https://help.gradle.org\nBUILD FAILED in 9s\n4 actionable tasks: 2 executed, 2 up-to-date\n</code></pre>\n<p>This is error code.</p>\n<p>There is google oauth login code that redirect to url. But I don't know why this test code get that response. They're in different controller and also there's no api that reply the url &quot;http://localhost:8080/oauth2/authorization/google&quot;</p>\n<p>I annotated all code related with oauth but It didn't work.\nand I check the url but It's right I think.</p>\n<p>I'm really exhausted now. I would so glad if someone help me.</p>\n"},{"tags":["java","web-services","junit"],"comments":[{"owner":{"account_id":3224223,"reputation":1697,"user_id":2720934,"accept_rate":64,"display_name":"Edmond Wang"},"score":0,"creation_date":1498185851,"post_id":44689265,"comment_id":76407044,"body_markdown":"@GhostCat,I have shared my solution. Thanks.","body":"@GhostCat,I have shared my solution. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":3224223,"reputation":1697,"user_id":2720934,"accept_rate":64,"display_name":"Edmond Wang"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1498185363,"creation_date":1498185363,"answer_id":44712206,"question_id":44689265,"body_markdown":"I just found the root cause by myself.\r\n\r\nPer [Oracle Documentation][1], The java.lang.AbstractMethodError is thrown when an application tries to call an abstract method. Normally, this error is caught by the compiler; this error can only occur at run time if the definition of some class has incompatibly changed since the currently executing method was last compiled.\r\n\r\nSeems I have not specified the implementation for the abstract class javax.xml.transform.TransformerFactory in the rt.jar.\r\n\r\nAdding below inside Junit\r\n\r\n    &lt;sysproperty key=&quot;javax.xml.transform.TransformerFactory&quot;\r\n\t\t\t\t\t\t\tvalue=&quot;com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl&quot;/&gt;\r\n\r\n make it works.\r\n\r\nSo the final Junit task looks like below:\r\n\r\n    &lt;junit showoutput=&quot;true&quot; printsummary=&quot;yes&quot; fork=&quot;true&quot; forkmode=&quot;once&quot;&gt;\r\n\t\t\t\t&lt;classpath refid=&quot;junit.runtime.classpath&quot; /&gt;\r\n\t\t\t\t&lt;sysproperty key=&quot;javax.xml.transform.TransformerFactory&quot;\r\n\t\t\t\t\t\t\tvalue=&quot;com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl&quot;/&gt;\r\n\t\t\t\t&lt;batchtest haltonfailure=&quot;no&quot; todir=&quot;${test.result.dir}&quot;&gt;\r\n\t\t\t\t\t&lt;fileset dir=&quot;${test.src.dir}&quot;&gt;\r\n\t\t\t\t\t\t&lt;include name=&quot;**/*Test.java&quot; /&gt;\r\n\t\t\t\t\t&lt;/fileset&gt;\r\n\t\t\t\t\t&lt;formatter type=&quot;xml&quot; /&gt;\r\n\t\t\t\t&lt;/batchtest&gt;\r\n\t\t\t&lt;/junit&gt;\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/AbstractMethodError.html","title":"How to resolve this AbstractMethodError?","body":"<p>I just found the root cause by myself.</p>\n\n<p>Per <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/AbstractMethodError.html\" rel=\"noreferrer\">Oracle Documentation</a>, The java.lang.AbstractMethodError is thrown when an application tries to call an abstract method. Normally, this error is caught by the compiler; this error can only occur at run time if the definition of some class has incompatibly changed since the currently executing method was last compiled.</p>\n\n<p>Seems I have not specified the implementation for the abstract class javax.xml.transform.TransformerFactory in the rt.jar.</p>\n\n<p>Adding below inside Junit</p>\n\n<pre><code>&lt;sysproperty key=\"javax.xml.transform.TransformerFactory\"\n                        value=\"com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl\"/&gt;\n</code></pre>\n\n<p>make it works.</p>\n\n<p>So the final Junit task looks like below:</p>\n\n<pre><code>&lt;junit showoutput=\"true\" printsummary=\"yes\" fork=\"true\" forkmode=\"once\"&gt;\n            &lt;classpath refid=\"junit.runtime.classpath\" /&gt;\n            &lt;sysproperty key=\"javax.xml.transform.TransformerFactory\"\n                        value=\"com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl\"/&gt;\n            &lt;batchtest haltonfailure=\"no\" todir=\"${test.result.dir}\"&gt;\n                &lt;fileset dir=\"${test.src.dir}\"&gt;\n                    &lt;include name=\"**/*Test.java\" /&gt;\n                &lt;/fileset&gt;\n                &lt;formatter type=\"xml\" /&gt;\n            &lt;/batchtest&gt;\n        &lt;/junit&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":51748,"reputation":6271,"user_id":154630,"accept_rate":69,"display_name":"Mikeb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684265877,"creation_date":1684265877,"answer_id":76266526,"question_id":44689265,"body_markdown":"Alternate explanation specifically for `TransformerFactory.setFeature` : it appears that some implementations (e.g. xalan-2.6.0) provide TransformerFactory implementations that do not implement that method; newer versions of xalan (e.g. 2.7.3) do provide that method and the AbstractMethodError goes away.","title":"How to resolve this AbstractMethodError?","body":"<p>Alternate explanation specifically for <code>TransformerFactory.setFeature</code> : it appears that some implementations (e.g. xalan-2.6.0) provide TransformerFactory implementations that do not implement that method; newer versions of xalan (e.g. 2.7.3) do provide that method and the AbstractMethodError goes away.</p>\n"}],"owner":{"account_id":3224223,"reputation":1697,"user_id":2720934,"accept_rate":64,"display_name":"Edmond Wang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4989,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":44712206,"answer_count":2,"score":3,"last_activity_date":1684265877,"creation_date":1498099337,"question_id":44689265,"body_markdown":"I got below error when I run junit test in the ant.\r\nThe test class needs call web service API.\r\n\r\nCan someone help to resolve it? \r\n\r\n    &lt;error message=&quot;javax.xml.transform.TransformerFactory.setFeature(Ljava/lang/String;Z)V&quot; type=&quot;java.lang.AbstractMethodError&quot;&gt;java.lang.AbstractMethodError: javax.xml.transform.TransformerFactory.setFeature(Ljava/lang/String;Z)V\r\n\tat com.sun.xml.ws.util.xml.XmlUtil.newTransformerFactory(XmlUtil.java:392)\r\n\tat com.sun.xml.ws.util.xml.XmlUtil.newTransformerFactory(XmlUtil.java:400)\r\n\tat com.sun.xml.ws.util.xml.XmlUtil.&amp;lt;clinit&amp;gt;(XmlUtil.java:233)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.createCatalogResolver(WSServiceDelegate.java:377)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.parseWSDL(WSServiceDelegate.java:363)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.&amp;lt;init&amp;gt;(WSServiceDelegate.java:321)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.&amp;lt;init&amp;gt;(WSServiceDelegate.java:230)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.&amp;lt;init&amp;gt;(WSServiceDelegate.java:211)\r\n\tat com.sun.xml.ws.client.WSServiceDelegate.&amp;lt;init&amp;gt;(WSServiceDelegate.java:207)\r\n\tat com.sun.xml.ws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:114)\r\n\tat javax.xml.ws.Service.&amp;lt;init&amp;gt;(Service.java:77)\r\n\tat com.citi.isg.amg.ws.client.AccountManagerWs.&amp;lt;init&amp;gt;(AccountManagerWs.java:42)\r\n\tat ... ...\r\n&lt;/error&gt;","title":"How to resolve this AbstractMethodError?","body":"<p>I got below error when I run junit test in the ant.\nThe test class needs call web service API.</p>\n\n<p>Can someone help to resolve it? </p>\n\n<pre><code>&lt;error message=\"javax.xml.transform.TransformerFactory.setFeature(Ljava/lang/String;Z)V\" type=\"java.lang.AbstractMethodError\"&gt;java.lang.AbstractMethodError: javax.xml.transform.TransformerFactory.setFeature(Ljava/lang/String;Z)V\nat com.sun.xml.ws.util.xml.XmlUtil.newTransformerFactory(XmlUtil.java:392)\nat com.sun.xml.ws.util.xml.XmlUtil.newTransformerFactory(XmlUtil.java:400)\nat com.sun.xml.ws.util.xml.XmlUtil.&amp;lt;clinit&amp;gt;(XmlUtil.java:233)\nat com.sun.xml.ws.client.WSServiceDelegate.createCatalogResolver(WSServiceDelegate.java:377)\nat com.sun.xml.ws.client.WSServiceDelegate.parseWSDL(WSServiceDelegate.java:363)\nat com.sun.xml.ws.client.WSServiceDelegate.&amp;lt;init&amp;gt;(WSServiceDelegate.java:321)\nat com.sun.xml.ws.client.WSServiceDelegate.&amp;lt;init&amp;gt;(WSServiceDelegate.java:230)\nat com.sun.xml.ws.client.WSServiceDelegate.&amp;lt;init&amp;gt;(WSServiceDelegate.java:211)\nat com.sun.xml.ws.client.WSServiceDelegate.&amp;lt;init&amp;gt;(WSServiceDelegate.java:207)\nat com.sun.xml.ws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:114)\nat javax.xml.ws.Service.&amp;lt;init&amp;gt;(Service.java:77)\nat com.citi.isg.amg.ws.client.AccountManagerWs.&amp;lt;init&amp;gt;(AccountManagerWs.java:42)\nat ... ...\n</code></pre>\n\n<p></p>\n"},{"tags":["java","postgresql","spring-boot"],"comments":[{"owner":{"account_id":3395647,"reputation":8928,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"score":0,"creation_date":1437347280,"post_id":31506805,"comment_id":50976456,"body_markdown":"Could you post your implementation of &quot;getUserByEmail&quot;? I suspect the way you query the EntityManager (via JPA) behind this error.","body":"Could you post your implementation of &quot;getUserByEmail&quot;? I suspect the way you query the EntityManager (via JPA) behind this error."},{"owner":{"account_id":904738,"reputation":617095,"user_id":939860,"accept_rate":100,"display_name":"Erwin Brandstetter"},"score":0,"creation_date":1437351055,"post_id":31506805,"comment_id":50977175,"body_markdown":"`I&#39;m getting this error when I try to create a user.` You are selecting from a *table*, how is this related to &quot;creating a user&quot;? Either way: use [legal, lower-case, unquoted identifiers](http://stackoverflow.com/a/20880247/939860) in Postgres and save yourself the trouble.","body":"<code>I&#39;m getting this error when I try to create a user.</code> You are selecting from a <i>table</i>, how is this related to &quot;creating a user&quot;? Either way: use <a href=\"http://stackoverflow.com/a/20880247/939860\">legal, lower-case, unquoted identifiers</a> in Postgres and save yourself the trouble."},{"owner":{"account_id":6651173,"reputation":399,"user_id":5133174,"accept_rate":71,"display_name":"Rafael Lima"},"score":0,"creation_date":1437354390,"post_id":31506805,"comment_id":50977842,"body_markdown":"@ErwinBrandstetter, I was just trying to explain the whole situation.  off course it didn&#39;t work as well.","body":"@ErwinBrandstetter, I was just trying to explain the whole situation.  off course it didn&#39;t work as well."}],"answers":[{"comments":[{"owner":{"account_id":6651173,"reputation":399,"user_id":5133174,"accept_rate":71,"display_name":"Rafael Lima"},"score":0,"creation_date":1437356558,"post_id":31507467,"comment_id":50978243,"body_markdown":"It works. I create a new table with a lowercase name and fields, just in case.\n\nJust as an information: I&#39;ve created the table in PG Admin. I only put the names in uppercase. I didn&#39;t put any &quot;.\n\nThanks!","body":"It works. I create a new table with a lowercase name and fields, just in case.  Just as an information: I&#39;ve created the table in PG Admin. I only put the names in uppercase. I didn&#39;t put any &quot;.  Thanks!"},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1437376924,"post_id":31507467,"comment_id":50983559,"body_markdown":"Actually Postgres is *not* following the SQL standard. Because the SQL standard requires that un-quoted identifiers are forced to **upper** case.","body":"Actually Postgres is <i>not</i> following the SQL standard. Because the SQL standard requires that un-quoted identifiers are forced to <b>upper</b> case."}],"tags":[],"owner":{"account_id":4011084,"reputation":30107,"user_id":3304426,"accept_rate":100,"display_name":"Patrick"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1437352916,"creation_date":1437352916,"answer_id":31507467,"question_id":31506805,"body_markdown":"PostgreSQL is following the SQL standard and in that case that means that identifiers (table names, column names, etc) are forced to lowercase, except when they are quoted. So when you create a table like this:\r\n\r\n    CREATE TABLE APP_USER ...\r\n\r\nyou actually get a table `app_user`. You apparently did:\r\n\r\n    CREATE TABLE &quot;APP_USER&quot; ...\r\n\r\nand then you get a table `&quot;APP_USER&quot;`.\r\n\r\nIn Spring, you specify a regular string for the table name, in capital letters, but that gets spliced into a query to the PostgreSQL server without quotes. You can check this by reading the PostgreSQL log files: it should show the query that Spring generated followed by the error at the top of your message.\r\n\r\nSince you have very little control over how Spring constructs queries from entities, you are better off using SQL-standard lower-case identifiers.\r\n","title":"org.postgresql.util.PSQLException: ERROR: relation &quot;app_user&quot; does not exist","body":"<p>PostgreSQL is following the SQL standard and in that case that means that identifiers (table names, column names, etc) are forced to lowercase, except when they are quoted. So when you create a table like this:</p>\n\n<pre><code>CREATE TABLE APP_USER ...\n</code></pre>\n\n<p>you actually get a table <code>app_user</code>. You apparently did:</p>\n\n<pre><code>CREATE TABLE \"APP_USER\" ...\n</code></pre>\n\n<p>and then you get a table <code>\"APP_USER\"</code>.</p>\n\n<p>In Spring, you specify a regular string for the table name, in capital letters, but that gets spliced into a query to the PostgreSQL server without quotes. You can check this by reading the PostgreSQL log files: it should show the query that Spring generated followed by the error at the top of your message.</p>\n\n<p>Since you have very little control over how Spring constructs queries from entities, you are better off using SQL-standard lower-case identifiers.</p>\n"},{"comments":[{"owner":{"account_id":3888314,"reputation":365,"user_id":3219155,"accept_rate":64,"display_name":"Tushar Patel"},"score":0,"creation_date":1479873595,"post_id":36474482,"comment_id":68737172,"body_markdown":"In JPA configuration mapping the entry was like                          &lt;value&gt;META-INF/testMapping.xml                                                   &lt;/value&gt;                The new line character was there between testMapping.xml and &lt;/value&gt;. Due to this the mapping was not being read and it also not throwing any error.","body":"In JPA configuration mapping the entry was like                          &lt;value&gt;META-INF/testMapping.xml                                                   &lt;/value&gt;                The new line character was there between testMapping.xml and &lt;/value&gt;. Due to this the mapping was not being read and it also not throwing any error."}],"tags":[],"owner":{"account_id":3888314,"reputation":365,"user_id":3219155,"accept_rate":64,"display_name":"Tushar Patel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460027527,"creation_date":1460027527,"answer_id":36474482,"question_id":31506805,"body_markdown":"This could also happen if your mapping file is not defined properly in jpa configuration file. In my case, there was a new line character before &lt;/value&gt; (end tag where mapping file is defined) in jpa configuration.","title":"org.postgresql.util.PSQLException: ERROR: relation &quot;app_user&quot; does not exist","body":"<p>This could also happen if your mapping file is not defined properly in jpa configuration file. In my case, there was a new line character before  (end tag where mapping file is defined) in jpa configuration.</p>\n"},{"tags":[],"owner":{"account_id":2156100,"reputation":11279,"user_id":1911306,"accept_rate":83,"display_name":"Marcin Szymczak"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1475007552,"creation_date":1475007552,"answer_id":39733596,"question_id":31506805,"body_markdown":"It might be also caused missing `default schema` declaration in hibernate config.\r\n\r\n\r\n\r\n        Properties jpaProperties = new Properties();\r\n\r\n        ..\r\n\r\n        jpaProperties.put(&quot;hibernate.default_schema&quot;, &quot;my_default_schema&quot;);\r\n        entityManagerFactoryBean.setJpaProperties(jpaProperties);\r\n\r\n\r\n\r\n\r\n","title":"org.postgresql.util.PSQLException: ERROR: relation &quot;app_user&quot; does not exist","body":"<p>It might be also caused missing <code>default schema</code> declaration in hibernate config.</p>\n\n<pre><code>    Properties jpaProperties = new Properties();\n\n    ..\n\n    jpaProperties.put(\"hibernate.default_schema\", \"my_default_schema\");\n    entityManagerFactoryBean.setJpaProperties(jpaProperties);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1603367,"reputation":1627,"user_id":1483978,"accept_rate":100,"display_name":"Israelm"},"score":2,"creation_date":1585179168,"post_id":53419410,"comment_id":107675899,"body_markdown":"Adding the schema name, in my case for PostgreSQL is by default &quot;public&quot;. Thanks!","body":"Adding the schema name, in my case for PostgreSQL is by default &quot;public&quot;. Thanks!"}],"tags":[],"owner":{"account_id":14796931,"reputation":389,"user_id":10686345,"display_name":"Ayush Goyal"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1542830432,"creation_date":1542829128,"answer_id":53419410,"question_id":31506805,"body_markdown":"**Give schema name also along with table name**. It solved the issue for me.\r\n\r\n    @Entity\r\n    @Table(name = &quot;APP_USER&quot;,schema=&quot;xxxxx&quot;)\r\n\r\n    public class User implements Serializable {\r\n\r\n        private static final long serialVersionUID = -1152779434213289790L;\r\n\r\n        @Id\r\n        @Column(name=&quot;ID&quot;, nullable = false, updatable = false)\r\n        @GeneratedValue(strategy=GenerationType.AUTO) \r\n        private long id;\r\n\r\n        @Column(name=&quot;NAME&quot;, nullable = false)\r\n        private String name;\r\n\r\n        @Column(name=&quot;USER_NAME&quot;, nullable = false, unique = true)\r\n        private String username;\r\n\r\n        @Column(name=&quot;PASSWORD&quot;, nullable = false)\r\n        private String password;\r\n\r\n        @Column(name=&quot;EMAIL&quot;, nullable = false, unique = true)\r\n        private String email;\r\n\r\n        @Column(name=&quot;ROLE&quot;, nullable = false)\r\n        private RoleEnum role;","title":"org.postgresql.util.PSQLException: ERROR: relation &quot;app_user&quot; does not exist","body":"<p><strong>Give schema name also along with table name</strong>. It solved the issue for me.</p>\n\n<pre><code>@Entity\n@Table(name = \"APP_USER\",schema=\"xxxxx\")\n\npublic class User implements Serializable {\n\n    private static final long serialVersionUID = -1152779434213289790L;\n\n    @Id\n    @Column(name=\"ID\", nullable = false, updatable = false)\n    @GeneratedValue(strategy=GenerationType.AUTO) \n    private long id;\n\n    @Column(name=\"NAME\", nullable = false)\n    private String name;\n\n    @Column(name=\"USER_NAME\", nullable = false, unique = true)\n    private String username;\n\n    @Column(name=\"PASSWORD\", nullable = false)\n    private String password;\n\n    @Column(name=\"EMAIL\", nullable = false, unique = true)\n    private String email;\n\n    @Column(name=\"ROLE\", nullable = false)\n    private RoleEnum role;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13707516,"reputation":1,"user_id":9890690,"display_name":"none digit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557993978,"creation_date":1557993978,"answer_id":56163768,"question_id":31506805,"body_markdown":"You should check permissions from your app database login to your scheme.\r\n\r\nThere were not permissions to my scheme and I had the same problem.","title":"org.postgresql.util.PSQLException: ERROR: relation &quot;app_user&quot; does not exist","body":"<p>You should check permissions from your app database login to your scheme.</p>\n\n<p>There were not permissions to my scheme and I had the same problem.</p>\n"},{"tags":[],"owner":{"account_id":5635704,"reputation":3288,"user_id":4461271,"accept_rate":0,"display_name":"midi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633469784,"creation_date":1633469784,"answer_id":69457526,"question_id":31506805,"body_markdown":"For me changing `spring.jpa.hibernate.ddl-auto` to the following to create and drop the scheme at each test run solved the issue.\r\n\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n","title":"org.postgresql.util.PSQLException: ERROR: relation &quot;app_user&quot; does not exist","body":"<p>For me changing <code>spring.jpa.hibernate.ddl-auto</code> to the following to create and drop the scheme at each test run solved the issue.</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=create-drop\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1634740267,"post_id":69647510,"comment_id":123107265,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/69647510/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23091687,"reputation":1,"user_id":17202475,"display_name":"user17202475"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634738669,"creation_date":1634738669,"answer_id":69647510,"question_id":31506805,"body_markdown":"Must be set &quot;&quot; when u want to write the name of a table or field  ","title":"org.postgresql.util.PSQLException: ERROR: relation &quot;app_user&quot; does not exist","body":"<p>Must be set &quot;&quot; when u want to write the name of a table or field</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1642064262,"post_id":70693221,"comment_id":124973984,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70693221/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18213303,"reputation":91,"user_id":13255397,"display_name":"Le Vu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643687573,"creation_date":1642061135,"answer_id":70693221,"question_id":31506805,"body_markdown":"In your application configuration, ensure that your `datasource.url` links to the right database name.","title":"org.postgresql.util.PSQLException: ERROR: relation &quot;app_user&quot; does not exist","body":"<p>In your application configuration, ensure that your <code>datasource.url</code> links to the right database name.</p>\n"},{"comments":[{"owner":{"account_id":27882256,"reputation":73,"user_id":21290471,"display_name":"geno"},"score":0,"creation_date":1698492996,"post_id":72198923,"comment_id":136414505,"body_markdown":"it worked for me","body":"it worked for me"}],"tags":[],"owner":{"account_id":6770482,"reputation":53,"user_id":5213972,"display_name":"Praveen Narahari"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652262628,"creation_date":1652262628,"answer_id":72198923,"question_id":31506805,"body_markdown":"Adding Schema information in @Table annotation worked for me.\r\n\r\n    @Table(name = &quot;table_name&quot;, schema = &quot;schema_name&quot;)","title":"org.postgresql.util.PSQLException: ERROR: relation &quot;app_user&quot; does not exist","body":"<p>Adding Schema information in @Table annotation worked for me.</p>\n<pre><code>@Table(name = &quot;table_name&quot;, schema = &quot;schema_name&quot;)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":989232,"reputation":422,"user_id":1006964,"display_name":"Kartik Narayana Maringanti"},"score":0,"creation_date":1678028210,"post_id":74273407,"comment_id":133449763,"body_markdown":"Yes the other one `spring.jpa.hibernate.ddl-auto: update` solves the problem, though the schema attribute in the @Table is not mentioned. This config helped in case of using testcontainers for postgresql","body":"Yes the other one <code>spring.jpa.hibernate.ddl-auto: update</code> solves the problem, though the schema attribute in the @Table is not mentioned. This config helped in case of using testcontainers for postgresql"}],"tags":[],"owner":{"account_id":26770476,"reputation":61,"user_id":20366943,"display_name":"DOĞUŞ İZGİ"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1667292197,"creation_date":1667292197,"answer_id":74273407,"question_id":31506805,"body_markdown":"Changing spring.jpa.hibernate.ddl-auto to below to create and drop schema on every test run solves the problem but it constantly recreates table.\r\n\r\n&gt; spring.jpa.hibernate.ddl-auto=create-drop\r\n\r\nInstead of the top one, I used the bottom one, and the continuous table was not created and my error was resolved. The choice is yours.\r\n\r\n&gt; spring.jpa.hibernate.ddl-auto= update\r\n\r\n\r\n","title":"org.postgresql.util.PSQLException: ERROR: relation &quot;app_user&quot; does not exist","body":"<p>Changing spring.jpa.hibernate.ddl-auto to below to create and drop schema on every test run solves the problem but it constantly recreates table.</p>\n<blockquote>\n<p>spring.jpa.hibernate.ddl-auto=create-drop</p>\n</blockquote>\n<p>Instead of the top one, I used the bottom one, and the continuous table was not created and my error was resolved. The choice is yours.</p>\n<blockquote>\n<p>spring.jpa.hibernate.ddl-auto= update</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":20417816,"reputation":1,"user_id":15402564,"display_name":"Suleiman Div&#233;rio Sallum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677357351,"creation_date":1676504051,"answer_id":75466416,"question_id":31506805,"body_markdown":"\r\n\r\nI changed a setting in application.yaml and it resolved, as described in an answer here.\r\n\r\nOld\r\n\r\nspring.jpa.hibernate.ddl-auto= create-drop\r\n\r\nnew\r\n\r\nspring.jpa.hibernate.ddl-auto= update\r\n\r\nRelation does not exist, Spring Boot postgresql\r\n","title":"org.postgresql.util.PSQLException: ERROR: relation &quot;app_user&quot; does not exist","body":"<p>I changed a setting in application.yaml and it resolved, as described in an answer here.</p>\n<p>Old</p>\n<p>spring.jpa.hibernate.ddl-auto= create-drop</p>\n<p>new</p>\n<p>spring.jpa.hibernate.ddl-auto= update</p>\n<p>Relation does not exist, Spring Boot postgresql</p>\n"},{"tags":[],"owner":{"account_id":2772267,"reputation":21,"user_id":2386639,"display_name":"M.A. Hogendoorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684265742,"creation_date":1684265742,"answer_id":76266512,"question_id":31506805,"body_markdown":"You can add a schema name to your connection-url, which saves you from repeating that schema in each Hibernate Entity.\r\n\r\nFor example, to use schema &#39;public&#39;:\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:postgresql://localhost:5432/some_database?currentSchema=public\r\n    username: some_user_name\r\n    password: some_password\r\n  jpa:\r\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n```","title":"org.postgresql.util.PSQLException: ERROR: relation &quot;app_user&quot; does not exist","body":"<p>You can add a schema name to your connection-url, which saves you from repeating that schema in each Hibernate Entity.</p>\n<p>For example, to use schema 'public':</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:postgresql://localhost:5432/some_database?currentSchema=public\n    username: some_user_name\n    password: some_password\n  jpa:\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n"}],"owner":{"account_id":6651173,"reputation":399,"user_id":5133174,"accept_rate":71,"display_name":"Rafael Lima"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138846,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":31507467,"answer_count":12,"score":31,"last_activity_date":1684265742,"creation_date":1437346656,"question_id":31506805,"body_markdown":"I have an application that I&#39;m using spring boot and postgres. I&#39;m getting this error when I try to create a user.\r\n\r\nWhen I run this query on my database, I get the same error:\r\n\r\n    select * from APP_USER\r\n\r\n    ERROR:  relation &quot;app_user&quot; does not exist\r\n    LINE 1: select * from APP_USER\r\n                          ^\r\n    ********** Error **********\r\n    \r\n    ERROR: relation &quot;app_user&quot; does not exist\r\n    SQL state: 42P01\r\n\r\nBut if I change that to:\r\n\r\n    select * from &quot;APP_USER&quot;\r\n\r\nIt works.\r\n\r\nHow can I configure that on my spring boot app?\r\n\r\ndependencies in pom.xml:\r\n\r\n    &lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-extras-tiles2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;9.4-1201-jdbc41&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\napplication.properties:\r\n\r\n    spring.datasource.driverClassName=org.postgresql.Driver\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/boek\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=ABCD123$\r\n    \r\n    spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\n    spring.jpa.generate-ddl=false\r\n    \r\n    #spring.jpa.hibernate.ddl-auto=create\r\n    spring.jpa.show-sql=true\r\n\r\nMy entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;APP_USER&quot;)\r\n    public class User implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = -1152779434213289790L;\r\n    \t\r\n    \t@Id\r\n    \t@Column(name=&quot;ID&quot;, nullable = false, updatable = false)\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO) \r\n    \tprivate long id;\r\n    \t\r\n    \t@Column(name=&quot;NAME&quot;, nullable = false)\r\n    \tprivate String name;\r\n    \t\r\n    \t@Column(name=&quot;USER_NAME&quot;, nullable = false, unique = true)\r\n    \tprivate String username;\r\n    \t\r\n    \t@Column(name=&quot;PASSWORD&quot;, nullable = false)\r\n    \tprivate String password;\r\n    \t\r\n    \t@Column(name=&quot;EMAIL&quot;, nullable = false, unique = true)\r\n    \tprivate String email;\r\n    \t\r\n    \t@Column(name=&quot;ROLE&quot;, nullable = false)\r\n    \tprivate RoleEnum role;\r\n\r\nI&#39;m calling this action from a form:\r\n\r\n    &lt;form role=&quot;form&quot; action=&quot;#&quot; th:action=&quot;@{/user/create}&quot; th:object=&quot;${userDTO}&quot; method=&quot;post&quot;&gt;\r\n\r\nand this is my controller:\r\n\r\n    @RequestMapping(value = &quot;/user/create&quot;, method = RequestMethod.POST)\r\n        public String handleUserCreateForm(@Valid @ModelAttribute(&quot;form&quot;) UserDTO form, BindingResult bindingResult) {\r\n            if (bindingResult.hasErrors()) {\r\n                return &quot;user_create&quot;;\r\n            }\r\n            try {\r\n                userService.create(form);\r\n            } catch (DataIntegrityViolationException e) {\r\n                bindingResult.reject(&quot;email.exists&quot;, &quot;Email already exists&quot;);\r\n                return &quot;user_create&quot;;\r\n            }\r\n            return &quot;redirect:/users&quot;;\r\n        }\r\n\r\nThe validator that cath the error:\r\n\r\n    private void validateEmail(Errors errors, UserDTO form) {\r\n            if (userService.getUserByEmail(form.getEmail()).isPresent()) {\r\n                errors.reject(&quot;email.exists&quot;, &quot;User with this email already exists&quot;);\r\n            }\r\n        }\r\n\r\nUserServiceImpl (@Service):\r\n\r\n    @Override\r\n        public Optional&lt;User&gt; getUserByEmail(String email) {\r\n            return userRepository.findOneByEmail(email);\r\n        }\r\n\r\nAnd the repository is a CrudRepository interface, and have no implementation:\r\n\r\n    @Repository\r\n    public interface UserRepository extends CrudRepository&lt;User, Serializable&gt; {\r\n    \t\r\n    \tOptional&lt;User&gt; findOneByEmail(String email);\r\n    }\r\n\r\nAnd debuging the validator I could get this stack:\r\n\r\n\r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:238)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:221)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:417)\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59)\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodIntercceptor.invoke(CrudMethodMetadataPostProcessor.java:122)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n    \tat com.sun.proxy.$Proxy75.findOneByEmail(Unknown Source)\r\n    \tat com.myapp.service.impl.UserServiceImpl.getUserByEmail(UserServiceImpl.java:32)\r\n    \tat com.myapp.model.validator.UserValidator.validateEmail(UserValidator.java:40)\r\n    \tat com.myapp.model.validator.UserValidator.validate(UserValidator.java:30)\r\n    \tat org.springframework.validation.DataBinder.validate(DataBinder.java:785)\r\n    \tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.validateIfApplicable(ModelAttributeMethodProcessor.java:164)\r\n    \tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:111)\r\n    \tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:77)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:162)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:129)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:776)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:967)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n    \tat org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration$ApplicationContextHeaderFilter.doFilterInternal(EndpointWebMvcAutoConfiguration.java:295)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n    \tat org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:102)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:105)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:57)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n    \tat org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:68)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:518)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1091)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:668)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1521)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1478)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:91)\r\n    \tat org.hibernate.loader.Loader.getResultSet(Loader.java:2066)\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1863)\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1839)\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:910)\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2554)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2540)\r\n    \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370)\r\n    \tat org.hibernate.loader.Loader.list(Loader.java:2365)\r\n    \tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:497)\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:387)\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:236)\r\n    \tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1300)\r\n    \tat org.hibernate.internal.QueryImpl.list(QueryImpl.java:103)\r\n    \tat org.hibernate.jpa.internal.QueryImpl.list(QueryImpl.java:573)\r\n    \tat org.hibernate.jpa.internal.QueryImpl.getSingleResult(QueryImpl.java:495)\r\n    \tat org.hibernate.jpa.criteria.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:71)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:202)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:74)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:99)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:90)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:415)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:393)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$DefaultMethodInvokingMethodInterceptor.invoke(RepositoryFactorySupport.java:506)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\r\n    \t... 98 more\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;app_user&quot; does not exist\r\n      Posi&#231;&#227;o: 177\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2270)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1998)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:255)\r\n    \tat org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:570)\r\n    \tat org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:420)\r\n    \tat org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:305)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:82)\r\n    \t... 129 more\r\n\r\n \r\n\r\nThanks for the help!","title":"org.postgresql.util.PSQLException: ERROR: relation &quot;app_user&quot; does not exist","body":"<p>I have an application that I'm using spring boot and postgres. I'm getting this error when I try to create a user.</p>\n\n<p>When I run this query on my database, I get the same error:</p>\n\n<pre><code>select * from APP_USER\n\nERROR:  relation \"app_user\" does not exist\nLINE 1: select * from APP_USER\n                      ^\n********** Error **********\n\nERROR: relation \"app_user\" does not exist\nSQL state: 42P01\n</code></pre>\n\n<p>But if I change that to:</p>\n\n<pre><code>select * from \"APP_USER\"\n</code></pre>\n\n<p>It works.</p>\n\n<p>How can I configure that on my spring boot app?</p>\n\n<p>dependencies in pom.xml:</p>\n\n<pre><code>&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-extras-tiles2&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;9.4-1201-jdbc41&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>application.properties:</p>\n\n<pre><code>spring.datasource.driverClassName=org.postgresql.Driver\nspring.datasource.url=jdbc:postgresql://localhost:5432/boek\nspring.datasource.username=postgres\nspring.datasource.password=ABCD123$\n\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.generate-ddl=false\n\n#spring.jpa.hibernate.ddl-auto=create\nspring.jpa.show-sql=true\n</code></pre>\n\n<p>My entity:</p>\n\n<pre><code>@Entity\n@Table(name = \"APP_USER\")\npublic class User implements Serializable {\n\n    private static final long serialVersionUID = -1152779434213289790L;\n\n    @Id\n    @Column(name=\"ID\", nullable = false, updatable = false)\n    @GeneratedValue(strategy=GenerationType.AUTO) \n    private long id;\n\n    @Column(name=\"NAME\", nullable = false)\n    private String name;\n\n    @Column(name=\"USER_NAME\", nullable = false, unique = true)\n    private String username;\n\n    @Column(name=\"PASSWORD\", nullable = false)\n    private String password;\n\n    @Column(name=\"EMAIL\", nullable = false, unique = true)\n    private String email;\n\n    @Column(name=\"ROLE\", nullable = false)\n    private RoleEnum role;\n</code></pre>\n\n<p>I'm calling this action from a form:</p>\n\n<pre><code>&lt;form role=\"form\" action=\"#\" th:action=\"@{/user/create}\" th:object=\"${userDTO}\" method=\"post\"&gt;\n</code></pre>\n\n<p>and this is my controller:</p>\n\n<pre><code>@RequestMapping(value = \"/user/create\", method = RequestMethod.POST)\n    public String handleUserCreateForm(@Valid @ModelAttribute(\"form\") UserDTO form, BindingResult bindingResult) {\n        if (bindingResult.hasErrors()) {\n            return \"user_create\";\n        }\n        try {\n            userService.create(form);\n        } catch (DataIntegrityViolationException e) {\n            bindingResult.reject(\"email.exists\", \"Email already exists\");\n            return \"user_create\";\n        }\n        return \"redirect:/users\";\n    }\n</code></pre>\n\n<p>The validator that cath the error:</p>\n\n<pre><code>private void validateEmail(Errors errors, UserDTO form) {\n        if (userService.getUserByEmail(form.getEmail()).isPresent()) {\n            errors.reject(\"email.exists\", \"User with this email already exists\");\n        }\n    }\n</code></pre>\n\n<p>UserServiceImpl (@Service):</p>\n\n<pre><code>@Override\n    public Optional&lt;User&gt; getUserByEmail(String email) {\n        return userRepository.findOneByEmail(email);\n    }\n</code></pre>\n\n<p>And the repository is a CrudRepository interface, and have no implementation:</p>\n\n<pre><code>@Repository\npublic interface UserRepository extends CrudRepository&lt;User, Serializable&gt; {\n\n    Optional&lt;User&gt; findOneByEmail(String email);\n}\n</code></pre>\n\n<p>And debuging the validator I could get this stack:</p>\n\n<pre><code>org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:238)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:221)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:417)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodIntercceptor.invoke(CrudMethodMetadataPostProcessor.java:122)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\n    at com.sun.proxy.$Proxy75.findOneByEmail(Unknown Source)\n    at com.myapp.service.impl.UserServiceImpl.getUserByEmail(UserServiceImpl.java:32)\n    at com.myapp.model.validator.UserValidator.validateEmail(UserValidator.java:40)\n    at com.myapp.model.validator.UserValidator.validate(UserValidator.java:30)\n    at org.springframework.validation.DataBinder.validate(DataBinder.java:785)\n    at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.validateIfApplicable(ModelAttributeMethodProcessor.java:164)\n    at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:111)\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:77)\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:162)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:129)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:776)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:967)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration$ApplicationContextHeaderFilter.doFilterInternal(EndpointWebMvcAutoConfiguration.java:295)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:102)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:105)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:57)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:68)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:518)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1091)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:668)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1521)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1478)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:91)\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:2066)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1863)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1839)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:910)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355)\n    at org.hibernate.loader.Loader.doList(Loader.java:2554)\n    at org.hibernate.loader.Loader.doList(Loader.java:2540)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370)\n    at org.hibernate.loader.Loader.list(Loader.java:2365)\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:497)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:387)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:236)\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1300)\n    at org.hibernate.internal.QueryImpl.list(QueryImpl.java:103)\n    at org.hibernate.jpa.internal.QueryImpl.list(QueryImpl.java:573)\n    at org.hibernate.jpa.internal.QueryImpl.getSingleResult(QueryImpl.java:495)\n    at org.hibernate.jpa.criteria.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:71)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:202)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:74)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:99)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:90)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:415)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:393)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$DefaultMethodInvokingMethodInterceptor.invoke(RepositoryFactorySupport.java:506)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\n    ... 98 more\nCaused by: org.postgresql.util.PSQLException: ERROR: relation \"app_user\" does not exist\n  Posição: 177\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2270)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1998)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:255)\n    at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:570)\n    at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:420)\n    at org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:305)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:82)\n    ... 129 more\n</code></pre>\n\n<p>Thanks for the help!</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","selenium-ide"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":2,"creation_date":1684264219,"post_id":76266338,"comment_id":134492242,"body_markdown":"Move declaration of `v1` before creating `ActionListener`. Moreover, it will have to be `final`","body":"Move declaration of <code>v1</code> before creating <code>ActionListener</code>. Moreover, it will have to be <code>final</code>"}],"owner":{"account_id":28607198,"reputation":11,"user_id":21902910,"display_name":"darwisht277"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684265350,"creation_date":1684264100,"question_id":76266338,"body_markdown":"[![Screenshot of the error][1]][1]\r\n\r\ncurrently, i&#39;m stuck specifically on :&lt;br&gt;\r\n`v1.setText(value1);`&lt;br&gt;\r\n`v2.setText(value2);`&lt;br&gt;\r\n`v3.setText(value3);`&lt;br&gt;\r\n`v4.setText(value4);`&lt;br&gt;\r\n`v5.setText(value5);`\r\n\r\n`v1 cannot be resolved`&lt;br&gt;\r\n`v2 cannot be resolved`&lt;br&gt;\r\n`v3 cannot be resolved`&lt;br&gt;\r\n`v4 cannot be resolved`&lt;br&gt;\r\n`v5 cannot be resolved`\r\n\r\n```\r\npackage Hummus;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Cursor;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Font;\r\nimport java.awt.Frame;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.SwingConstants;\r\nimport javax.swing.border.LineBorder;\r\nimport javax.swing.JTextArea;\r\nimport javax.swing.JScrollBar;\r\nimport javax.swing.JScrollPane;\r\n\r\npublic class Dashboard extends JFrame {\r\n\r\n\t/**\r\n\t * @author Mohamed Gharib\r\n\t * @category E-Commerce\r\n\t */\r\n\t\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate JPanel contentPane;\r\n\t\r\n\t/**\r\n\t * Launch the application.\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tDashboard frame = new Dashboard();\r\n\t\t\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Create the frame.\r\n\t */\r\n\tpublic Dashboard() {\r\n\t\tsetUndecorated(true);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetBounds(100, 100, 700, 500);\r\n\t\tcontentPane = new JPanel();\r\n\t\tcontentPane.setBackground(Color.BLACK);\r\n\t\tcontentPane.setBorder(null);\r\n\r\n\t\tsetContentPane(contentPane);\r\n\t\tcontentPane.setLayout(null);\r\n\t\t\r\n\t\tJPanel navigation = new JPanel();\r\n\t\tnavigation.setBackground(new Color(40, 40, 40));\r\n\t\tnavigation.setBounds(0, 0, 700, 24);\r\n\t\tcontentPane.add(navigation);\r\n\t\tnavigation.setLayout(null);\r\n\t\t\r\n\t\tJButton exit = new JButton(&quot;X&quot;);\r\n\t\texit.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}\r\n\t\t});\r\n\t\texit.addMouseListener(new MouseAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseEntered(MouseEvent e) {\r\n\t\t\t\texit.setBackground(Color.DARK_GRAY);\r\n\t\t\t}\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseExited(MouseEvent e) {\r\n\t\t\t\texit.setBackground(new Color(40, 40, 40));\r\n\t\t\t}\r\n\t\t});\r\n\t\texit.setForeground(Color.GRAY);\r\n\t\texit.setBackground(new Color(40, 40, 40));\r\n\t\texit.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\texit.setFocusPainted(false);\r\n\t\texit.setContentAreaFilled(false);\r\n\t\texit.setOpaque(true);\r\n\t\texit.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\t\texit.setBorder(null);\r\n\t\texit.setBounds(650, 0, 50, 24);\r\n\t\tnavigation.add(exit);\r\n\t\t\r\n\t\tJButton maximize = new JButton(&quot;⬜&quot;);\r\n\t\tmaximize.setEnabled(false);\r\n\t\tmaximize.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 10));\r\n\t\tmaximize.setForeground(Color.GRAY);\r\n\t\tmaximize.setBackground(new Color(40, 40, 40));\r\n\t\tmaximize.setFocusPainted(false);\r\n\t\tmaximize.setContentAreaFilled(false);\r\n\t\tmaximize.setOpaque(true);\r\n\t\tmaximize.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\t\tmaximize.setBorder(null);\r\n\t\tmaximize.setBounds(600, 1, 50, 24);\r\n\t\tnavigation.add(maximize);\r\n\t\t\r\n\t\tJButton minimize = new JButton(&quot;–&quot;);\r\n\t\tminimize.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tsetExtendedState(Frame.ICONIFIED);\r\n\t\t\t}\r\n\t\t});\r\n\t\tminimize.addMouseListener(new MouseAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseEntered(MouseEvent e) {\r\n\t\t\t\tminimize.setBackground(Color.DARK_GRAY);\r\n\t\t\t}\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseExited(MouseEvent e) {\r\n\t\t\t\tminimize.setBackground(new Color(40, 40, 40));\r\n\t\t\t}\r\n\t\t});\r\n\t\tminimize.setForeground(Color.GRAY);\r\n\t\tminimize.setBackground(new Color(40, 40, 40));\r\n\t\tminimize.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 11));\r\n\t\tminimize.setFocusPainted(false);\r\n\t\tminimize.setContentAreaFilled(false);\r\n\t\tminimize.setOpaque(true);\r\n\t\tminimize.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\t\tminimize.setBorder(null);\r\n\t\tminimize.setBounds(550, 1, 50, 24);\r\n\t\tnavigation.add(minimize);\r\n        \r\n        JPanel container = new JPanel();\r\n        container.setBackground(Color.BLACK);\r\n        container.setBorder(null);\r\n        container.setBounds(44, 69, 613, 386);\r\n        contentPane.add(container);\r\n        container.setLayout(null);\r\n        \r\n        JTextArea textarea = new JTextArea();\r\n        textarea.setBackground(Color.WHITE);\r\n        textarea.setFont(new Font(&quot;SansSerif&quot;, Font.PLAIN, 12));\r\n        textarea.setBounds(0, 0, 250, 284);\r\n        textarea.setBorder(null);\r\n                \r\n        JScrollPane scrollPane = new JScrollPane(textarea);\r\n        scrollPane.setBounds(0, 0, 250, 284);\r\n        container.add(scrollPane);\r\n                        \r\n        JScrollBar scrollBar = new JScrollBar(JScrollBar.VERTICAL);\r\n        scrollBar.setBounds(277, 69, 17, 284);\r\n        scrollPane.setVerticalScrollBar(scrollBar);\r\n        \r\n        JButton reset = new JButton(&quot;R E S E T&quot;);\r\n        reset.setBounds(0, 346, 250, 40);\r\n        container.add(reset);\r\n        reset.addActionListener(new ActionListener() {\r\n        \tpublic void actionPerformed(ActionEvent e) {\r\n        \t\t\r\n        \t\tString textArea = textarea.getText();\r\n        \t\tif(textArea.isBlank() || textArea.isEmpty()) {\r\n        \t\t\tassert false;\r\n        \t\t} else {\r\n        \t\t\ttextarea.setText(&quot;&quot;);\r\n        \t\t}\r\n        \t\t\r\n        \t}\r\n        });\r\n        reset.setBorder(new LineBorder(Color.WHITE, 1, true));\r\n        reset.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n        reset.setFocusPainted(false);\r\n        reset.setContentAreaFilled(false);\r\n        reset.setOpaque(true);\r\n        reset.setBackground(Color.BLACK);\r\n        reset.setForeground(Color.WHITE);\r\n        reset.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n        \r\n        JButton stop = new JButton(&quot;S T O P&quot;);\r\n        stop.setBounds(130, 295, 120, 40);\r\n        container.add(stop);\r\n        stop.addActionListener(new ActionListener() {\r\n        \tpublic void actionPerformed(ActionEvent e) {\r\n        \t\t\r\n        \t}\r\n        });\r\n        stop.setBackground(Color.BLACK);\r\n        stop.setForeground(Color.WHITE);\r\n        stop.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n        stop.setFocusPainted(false);\r\n        stop.setContentAreaFilled(false);\r\n        stop.setOpaque(true);\r\n        stop.setBorder(new LineBorder(Color.WHITE, 1, true));\r\n        stop.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\t\t\r\n\t\tJButton start = new JButton(&quot;S T A R T&quot;);\r\n\t\tstart.setBounds(0, 295, 120, 40);\r\n\t\tcontainer.add(start);\r\n\t\tstart.addActionListener(new ActionListener() {\r\n\t\t    public void actionPerformed(ActionEvent e) {\r\n\t\t    \t\r\n\t\t    \tString text = textarea.getText();\r\n\r\n\t\t    \tString[] lines = text.split(&quot;\\\\r?\\\\n&quot;);\r\n\r\n\t\t    \tfor (int i = 0; i &lt; lines.length; i += 5) {\r\n\t\t    \t    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\t\t    \t    \r\n\t\t    \t    for (int j = i; j &lt; Math.min(i + 5, lines.length); j++) {\r\n\t\t    \t        list.add(lines[j]);\r\n\t\t    \t    }\r\n\r\n\t\t    \t    String value1 = (list.size() &gt; 0) ? list.get(0) : &quot;&quot;;\r\n\t\t    \t    String value2 = (list.size() &gt; 1) ? list.get(1) : &quot;&quot;;\r\n\t\t    \t    String value3 = (list.size() &gt; 2) ? list.get(2) : &quot;&quot;;\r\n\t\t    \t    String value4 = (list.size() &gt; 3) ? list.get(3) : &quot;&quot;;\r\n\t\t    \t    String value5 = (list.size() &gt; 4) ? list.get(4) : &quot;&quot;;\r\n\r\n\t\t    \t    v1.setText(value1);\r\n\t\t    \t    v2.setText(value2);\r\n\t\t    \t    v3.setText(value3);\r\n\t\t    \t    v4.setText(value4);\r\n\t\t    \t    v5.setText(value5);\r\n\t\t    \t    \r\n\t\t    \t}\r\n\t\t    \t\r\n\t\t    \t\r\n\t\t    }\r\n\t\t});\r\n\t\tstart.setBackground(Color.BLACK);\r\n\t\tstart.setForeground(Color.WHITE);\r\n\t\tstart.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tstart.setBorder(new LineBorder(Color.WHITE, 1, true));\r\n\t\tstart.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\t\tstart.setFocusPainted(false);\r\n\t\tstart.setContentAreaFilled(false);\r\n\t\tstart.setOpaque(true);\r\n\t\t\r\n\t\tJPanel table = new JPanel();\r\n\t\ttable.setBounds(263, 0, 350, 386);\r\n\t\tcontainer.add(table);\r\n\t\ttable.setBorder(new LineBorder(Color.GRAY, 2, true));\r\n\t\ttable.setBackground(Color.BLACK);\r\n\t\ttable.setLayout(null);\r\n\t\t\r\n\t\tJPanel x = new JPanel();\r\n\t\tx.setBackground(Color.GRAY);\r\n\t\tx.setBounds(175, 0, 2, 386);\r\n\t\ttable.add(x);\r\n\t\t\r\n\t\tJPanel xxx = new JPanel();\r\n\t\txxx.setBackground(Color.GRAY);\r\n\t\txxx.setBounds(0, 64, 350, 2);\r\n\t\ttable.add(xxx);\r\n\t\t\r\n\t\tJPanel xxxx = new JPanel();\r\n\t\txxxx.setBackground(Color.GRAY);\r\n\t\txxxx.setBounds(0, 128, 350, 2);\r\n\t\ttable.add(xxxx);\r\n\t\t\r\n\t\tJPanel xxxxx = new JPanel();\r\n\t\txxxxx.setBackground(Color.GRAY);\r\n\t\txxxxx.setBounds(0, 192, 350, 2);\r\n\t\ttable.add(xxxxx);\r\n\t\t\r\n\t\tJPanel xxxxxx = new JPanel();\r\n\t\txxxxxx.setBackground(Color.GRAY);\r\n\t\txxxxxx.setBounds(0, 256, 350, 2);\r\n\t\ttable.add(xxxxxx);\r\n\t\t\r\n\t\tJPanel xxxxxxx = new JPanel();\r\n\t\txxxxxxx.setBackground(Color.GRAY);\r\n\t\txxxxxxx.setBounds(0, 320, 350, 2);\r\n\t\ttable.add(xxxxxxx);\r\n\t\t\r\n\t\tJLabel link = new JLabel(&quot;L I N K&quot;);\r\n\t\tlink.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tlink.setForeground(Color.LIGHT_GRAY);\r\n\t\tlink.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlink.setBounds(0, 0, 175, 64);\r\n\t\ttable.add(link);\r\n\t\t\r\n\t\tJLabel v1 = new JLabel(&quot;&quot;);\r\n\t\tv1.setLabelFor(link);\r\n\t\tv1.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 12));\r\n\t\tv1.setForeground(Color.LIGHT_GRAY);\r\n\t\tv1.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tv1.setBounds(0, 64, 175, 64);\r\n\t\ttable.add(v1);\r\n\t\t\r\n\t\tJLabel v2 = new JLabel(&quot;&quot;);\r\n\t\tv2.setLabelFor(link);\r\n\t\tv2.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tv2.setForeground(Color.LIGHT_GRAY);\r\n\t\tv2.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tv2.setBounds(0, 128, 175, 64);\r\n\t\ttable.add(v2);\r\n\t\t\r\n\t\tJLabel v3 = new JLabel(&quot;&quot;);\r\n\t\tv3.setLabelFor(link);\r\n\t\tv3.setForeground(Color.LIGHT_GRAY);\r\n\t\tv3.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tv3.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tv3.setBounds(0, 192, 175, 64);\r\n\t\ttable.add(v3);\r\n\t\t\r\n\t\tJLabel v4 = new JLabel(&quot;&quot;);\r\n\t\tv4.setLabelFor(link);\r\n\t\tv4.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tv4.setForeground(Color.LIGHT_GRAY);\r\n\t\tv4.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tv4.setBounds(0, 256, 175, 64);\r\n\t\ttable.add(v4);\r\n\t\t\r\n\t\tJLabel v5 = new JLabel(&quot;&quot;);\r\n\t\tv5.setLabelFor(link);\r\n\t\tv5.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tv5.setForeground(Color.LIGHT_GRAY);\r\n\t\tv5.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tv5.setBounds(0, 320, 175, 64);\r\n\t\ttable.add(v5);\r\n\t\t\r\n\t\tJLabel status = new JLabel(&quot;S T A T U S&quot;);\r\n\t\tstatus.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tstatus.setForeground(Color.LIGHT_GRAY);\r\n\t\tstatus.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tstatus.setBounds(175, 0, 175, 64);\r\n\t\ttable.add(status);\r\n\t\t\r\n\t\tJLabel x1 = new JLabel(&quot;&quot;);\r\n\t\tx1.setLabelFor(status);\r\n\t\tx1.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tx1.setForeground(Color.LIGHT_GRAY);\r\n\t\tx1.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tx1.setBounds(175, 64, 175, 64);\r\n\t\ttable.add(x1);\r\n\t\t\r\n\t\tJLabel x2 = new JLabel(&quot;&quot;);\r\n\t\tx2.setLabelFor(status);\r\n\t\tx2.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tx2.setForeground(Color.LIGHT_GRAY);\r\n\t\tx2.setHorizontalAlignment(SwingConstants.RIGHT);\r\n\t\tx2.setBounds(175, 128, 175, 64);\r\n\t\ttable.add(x2);\r\n\t\t\r\n\t\tJLabel x3 = new JLabel(&quot;&quot;);\r\n\t\tx3.setLabelFor(status);\r\n\t\tx3.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tx3.setForeground(Color.LIGHT_GRAY);\r\n\t\tx3.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tx3.setBounds(175, 192, 175, 64);\r\n\t\ttable.add(x3);\r\n\t\t\r\n\t\tJLabel x4 = new JLabel(&quot;&quot;);\r\n\t\tx4.setLabelFor(status);\r\n\t\tx4.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tx4.setForeground(Color.LIGHT_GRAY);\r\n\t\tx4.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tx4.setBounds(175, 256, 175, 64);\r\n\t\ttable.add(x4);\r\n\t\t\r\n\t\tJLabel x5 = new JLabel(&quot;&quot;);\r\n\t\tx5.setLabelFor(status);\r\n\t\tx5.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tx5.setForeground(Color.LIGHT_GRAY);\r\n\t\tx5.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tx5.setBounds(175, 320, 175, 64);\r\n\t\ttable.add(x5);\r\n\t\t\r\n\t\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GBPLq.png","title":"How to solve setText on JLabel?","body":"<p><a href=\"https://i.stack.imgur.com/GBPLq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GBPLq.png\" alt=\"Screenshot of the error\" /></a></p>\n<p>currently, i'm stuck specifically on :<br>\n<code>v1.setText(value1);</code><br>\n<code>v2.setText(value2);</code><br>\n<code>v3.setText(value3);</code><br>\n<code>v4.setText(value4);</code><br>\n<code>v5.setText(value5);</code></p>\n<p><code>v1 cannot be resolved</code><br>\n<code>v2 cannot be resolved</code><br>\n<code>v3 cannot be resolved</code><br>\n<code>v4 cannot be resolved</code><br>\n<code>v5 cannot be resolved</code></p>\n<pre><code>package Hummus;\n\nimport java.awt.Color;\nimport java.awt.Cursor;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.Frame;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.util.List;\nimport java.util.ArrayList;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JLabel;\nimport javax.swing.SwingConstants;\nimport javax.swing.border.LineBorder;\nimport javax.swing.JTextArea;\nimport javax.swing.JScrollBar;\nimport javax.swing.JScrollPane;\n\npublic class Dashboard extends JFrame {\n\n    /**\n     * @author Mohamed Gharib\n     * @category E-Commerce\n     */\n    \n    private static final long serialVersionUID = 1L;\n    private JPanel contentPane;\n    \n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    Dashboard frame = new Dashboard();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the frame.\n     */\n    public Dashboard() {\n        setUndecorated(true);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 700, 500);\n        contentPane = new JPanel();\n        contentPane.setBackground(Color.BLACK);\n        contentPane.setBorder(null);\n\n        setContentPane(contentPane);\n        contentPane.setLayout(null);\n        \n        JPanel navigation = new JPanel();\n        navigation.setBackground(new Color(40, 40, 40));\n        navigation.setBounds(0, 0, 700, 24);\n        contentPane.add(navigation);\n        navigation.setLayout(null);\n        \n        JButton exit = new JButton(&quot;X&quot;);\n        exit.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                System.exit(0);\n            }\n        });\n        exit.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseEntered(MouseEvent e) {\n                exit.setBackground(Color.DARK_GRAY);\n            }\n            @Override\n            public void mouseExited(MouseEvent e) {\n                exit.setBackground(new Color(40, 40, 40));\n            }\n        });\n        exit.setForeground(Color.GRAY);\n        exit.setBackground(new Color(40, 40, 40));\n        exit.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        exit.setFocusPainted(false);\n        exit.setContentAreaFilled(false);\n        exit.setOpaque(true);\n        exit.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        exit.setBorder(null);\n        exit.setBounds(650, 0, 50, 24);\n        navigation.add(exit);\n        \n        JButton maximize = new JButton(&quot;⬜&quot;);\n        maximize.setEnabled(false);\n        maximize.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 10));\n        maximize.setForeground(Color.GRAY);\n        maximize.setBackground(new Color(40, 40, 40));\n        maximize.setFocusPainted(false);\n        maximize.setContentAreaFilled(false);\n        maximize.setOpaque(true);\n        maximize.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        maximize.setBorder(null);\n        maximize.setBounds(600, 1, 50, 24);\n        navigation.add(maximize);\n        \n        JButton minimize = new JButton(&quot;–&quot;);\n        minimize.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                setExtendedState(Frame.ICONIFIED);\n            }\n        });\n        minimize.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseEntered(MouseEvent e) {\n                minimize.setBackground(Color.DARK_GRAY);\n            }\n            @Override\n            public void mouseExited(MouseEvent e) {\n                minimize.setBackground(new Color(40, 40, 40));\n            }\n        });\n        minimize.setForeground(Color.GRAY);\n        minimize.setBackground(new Color(40, 40, 40));\n        minimize.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 11));\n        minimize.setFocusPainted(false);\n        minimize.setContentAreaFilled(false);\n        minimize.setOpaque(true);\n        minimize.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        minimize.setBorder(null);\n        minimize.setBounds(550, 1, 50, 24);\n        navigation.add(minimize);\n        \n        JPanel container = new JPanel();\n        container.setBackground(Color.BLACK);\n        container.setBorder(null);\n        container.setBounds(44, 69, 613, 386);\n        contentPane.add(container);\n        container.setLayout(null);\n        \n        JTextArea textarea = new JTextArea();\n        textarea.setBackground(Color.WHITE);\n        textarea.setFont(new Font(&quot;SansSerif&quot;, Font.PLAIN, 12));\n        textarea.setBounds(0, 0, 250, 284);\n        textarea.setBorder(null);\n                \n        JScrollPane scrollPane = new JScrollPane(textarea);\n        scrollPane.setBounds(0, 0, 250, 284);\n        container.add(scrollPane);\n                        \n        JScrollBar scrollBar = new JScrollBar(JScrollBar.VERTICAL);\n        scrollBar.setBounds(277, 69, 17, 284);\n        scrollPane.setVerticalScrollBar(scrollBar);\n        \n        JButton reset = new JButton(&quot;R E S E T&quot;);\n        reset.setBounds(0, 346, 250, 40);\n        container.add(reset);\n        reset.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                \n                String textArea = textarea.getText();\n                if(textArea.isBlank() || textArea.isEmpty()) {\n                    assert false;\n                } else {\n                    textarea.setText(&quot;&quot;);\n                }\n                \n            }\n        });\n        reset.setBorder(new LineBorder(Color.WHITE, 1, true));\n        reset.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        reset.setFocusPainted(false);\n        reset.setContentAreaFilled(false);\n        reset.setOpaque(true);\n        reset.setBackground(Color.BLACK);\n        reset.setForeground(Color.WHITE);\n        reset.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        \n        JButton stop = new JButton(&quot;S T O P&quot;);\n        stop.setBounds(130, 295, 120, 40);\n        container.add(stop);\n        stop.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                \n            }\n        });\n        stop.setBackground(Color.BLACK);\n        stop.setForeground(Color.WHITE);\n        stop.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        stop.setFocusPainted(false);\n        stop.setContentAreaFilled(false);\n        stop.setOpaque(true);\n        stop.setBorder(new LineBorder(Color.WHITE, 1, true));\n        stop.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        \n        JButton start = new JButton(&quot;S T A R T&quot;);\n        start.setBounds(0, 295, 120, 40);\n        container.add(start);\n        start.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                \n                String text = textarea.getText();\n\n                String[] lines = text.split(&quot;\\\\r?\\\\n&quot;);\n\n                for (int i = 0; i &lt; lines.length; i += 5) {\n                    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n                    \n                    for (int j = i; j &lt; Math.min(i + 5, lines.length); j++) {\n                        list.add(lines[j]);\n                    }\n\n                    String value1 = (list.size() &gt; 0) ? list.get(0) : &quot;&quot;;\n                    String value2 = (list.size() &gt; 1) ? list.get(1) : &quot;&quot;;\n                    String value3 = (list.size() &gt; 2) ? list.get(2) : &quot;&quot;;\n                    String value4 = (list.size() &gt; 3) ? list.get(3) : &quot;&quot;;\n                    String value5 = (list.size() &gt; 4) ? list.get(4) : &quot;&quot;;\n\n                    v1.setText(value1);\n                    v2.setText(value2);\n                    v3.setText(value3);\n                    v4.setText(value4);\n                    v5.setText(value5);\n                    \n                }\n                \n                \n            }\n        });\n        start.setBackground(Color.BLACK);\n        start.setForeground(Color.WHITE);\n        start.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        start.setBorder(new LineBorder(Color.WHITE, 1, true));\n        start.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        start.setFocusPainted(false);\n        start.setContentAreaFilled(false);\n        start.setOpaque(true);\n        \n        JPanel table = new JPanel();\n        table.setBounds(263, 0, 350, 386);\n        container.add(table);\n        table.setBorder(new LineBorder(Color.GRAY, 2, true));\n        table.setBackground(Color.BLACK);\n        table.setLayout(null);\n        \n        JPanel x = new JPanel();\n        x.setBackground(Color.GRAY);\n        x.setBounds(175, 0, 2, 386);\n        table.add(x);\n        \n        JPanel xxx = new JPanel();\n        xxx.setBackground(Color.GRAY);\n        xxx.setBounds(0, 64, 350, 2);\n        table.add(xxx);\n        \n        JPanel xxxx = new JPanel();\n        xxxx.setBackground(Color.GRAY);\n        xxxx.setBounds(0, 128, 350, 2);\n        table.add(xxxx);\n        \n        JPanel xxxxx = new JPanel();\n        xxxxx.setBackground(Color.GRAY);\n        xxxxx.setBounds(0, 192, 350, 2);\n        table.add(xxxxx);\n        \n        JPanel xxxxxx = new JPanel();\n        xxxxxx.setBackground(Color.GRAY);\n        xxxxxx.setBounds(0, 256, 350, 2);\n        table.add(xxxxxx);\n        \n        JPanel xxxxxxx = new JPanel();\n        xxxxxxx.setBackground(Color.GRAY);\n        xxxxxxx.setBounds(0, 320, 350, 2);\n        table.add(xxxxxxx);\n        \n        JLabel link = new JLabel(&quot;L I N K&quot;);\n        link.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        link.setForeground(Color.LIGHT_GRAY);\n        link.setHorizontalAlignment(SwingConstants.CENTER);\n        link.setBounds(0, 0, 175, 64);\n        table.add(link);\n        \n        JLabel v1 = new JLabel(&quot;&quot;);\n        v1.setLabelFor(link);\n        v1.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 12));\n        v1.setForeground(Color.LIGHT_GRAY);\n        v1.setHorizontalAlignment(SwingConstants.CENTER);\n        v1.setBounds(0, 64, 175, 64);\n        table.add(v1);\n        \n        JLabel v2 = new JLabel(&quot;&quot;);\n        v2.setLabelFor(link);\n        v2.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        v2.setForeground(Color.LIGHT_GRAY);\n        v2.setHorizontalAlignment(SwingConstants.CENTER);\n        v2.setBounds(0, 128, 175, 64);\n        table.add(v2);\n        \n        JLabel v3 = new JLabel(&quot;&quot;);\n        v3.setLabelFor(link);\n        v3.setForeground(Color.LIGHT_GRAY);\n        v3.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        v3.setHorizontalAlignment(SwingConstants.CENTER);\n        v3.setBounds(0, 192, 175, 64);\n        table.add(v3);\n        \n        JLabel v4 = new JLabel(&quot;&quot;);\n        v4.setLabelFor(link);\n        v4.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        v4.setForeground(Color.LIGHT_GRAY);\n        v4.setHorizontalAlignment(SwingConstants.CENTER);\n        v4.setBounds(0, 256, 175, 64);\n        table.add(v4);\n        \n        JLabel v5 = new JLabel(&quot;&quot;);\n        v5.setLabelFor(link);\n        v5.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        v5.setForeground(Color.LIGHT_GRAY);\n        v5.setHorizontalAlignment(SwingConstants.CENTER);\n        v5.setBounds(0, 320, 175, 64);\n        table.add(v5);\n        \n        JLabel status = new JLabel(&quot;S T A T U S&quot;);\n        status.setHorizontalAlignment(SwingConstants.CENTER);\n        status.setForeground(Color.LIGHT_GRAY);\n        status.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        status.setBounds(175, 0, 175, 64);\n        table.add(status);\n        \n        JLabel x1 = new JLabel(&quot;&quot;);\n        x1.setLabelFor(status);\n        x1.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        x1.setForeground(Color.LIGHT_GRAY);\n        x1.setHorizontalAlignment(SwingConstants.CENTER);\n        x1.setBounds(175, 64, 175, 64);\n        table.add(x1);\n        \n        JLabel x2 = new JLabel(&quot;&quot;);\n        x2.setLabelFor(status);\n        x2.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        x2.setForeground(Color.LIGHT_GRAY);\n        x2.setHorizontalAlignment(SwingConstants.RIGHT);\n        x2.setBounds(175, 128, 175, 64);\n        table.add(x2);\n        \n        JLabel x3 = new JLabel(&quot;&quot;);\n        x3.setLabelFor(status);\n        x3.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        x3.setForeground(Color.LIGHT_GRAY);\n        x3.setHorizontalAlignment(SwingConstants.CENTER);\n        x3.setBounds(175, 192, 175, 64);\n        table.add(x3);\n        \n        JLabel x4 = new JLabel(&quot;&quot;);\n        x4.setLabelFor(status);\n        x4.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        x4.setForeground(Color.LIGHT_GRAY);\n        x4.setHorizontalAlignment(SwingConstants.CENTER);\n        x4.setBounds(175, 256, 175, 64);\n        table.add(x4);\n        \n        JLabel x5 = new JLabel(&quot;&quot;);\n        x5.setLabelFor(status);\n        x5.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        x5.setForeground(Color.LIGHT_GRAY);\n        x5.setHorizontalAlignment(SwingConstants.CENTER);\n        x5.setBounds(175, 320, 175, 64);\n        table.add(x5);\n        \n        \n    }\n}\n\n</code></pre>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1684265397,"post_id":76266474,"comment_id":134492456,"body_markdown":"Seems like a silly question to me. What insight does the interview hope to gain by asking this? Would `int[] x = { 0 };` count? An array is an object...","body":"Seems like a silly question to me. What insight does the interview hope to gain by asking this? Would <code>int[] x = { 0 };</code> count? An array is an object..."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684265486,"post_id":76266474,"comment_id":134492478,"body_markdown":"Welcome to Stack Overflow! See the \n[How to Ask page](https://stackoverflow.com/help/how-to-ask) for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to \nreproduce the issue. Also share what you already investigated on this topic.","body":"Welcome to Stack Overflow! See the  <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask page</a> for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to  reproduce the issue. Also share what you already investigated on this topic."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1684265509,"post_id":76266474,"comment_id":134492483,"body_markdown":"`Double df = 3.14159` would also do it","body":"<code>Double df = 3.14159</code> would also do it"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1684265742,"post_id":76266474,"comment_id":134492525,"body_markdown":"As a gentle nudge, btw: I found the linked duplicate by googling the exact text of this question&#39;s subject line. It was the top result.","body":"As a gentle nudge, btw: I found the linked duplicate by googling the exact text of this question&#39;s subject line. It was the top result."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684338907,"post_id":76266474,"comment_id":134504831,"body_markdown":"`&quot;x = &quot; + Math.random()`","body":"<code>&quot;x = &quot; + Math.random()</code>"}],"owner":{"account_id":28615158,"reputation":1,"user_id":21909335,"display_name":"Rohan Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684265583,"answer_count":0,"score":0,"last_activity_date":1684265333,"creation_date":1684265333,"question_id":76266474,"body_markdown":"(I was asked this in my interview)\r\n\r\nI said yes but when he asked  to do it I wasnt able to ","title":"Can we create an object without using the new keyword in java?","body":"<p>(I was asked this in my interview)</p>\n<p>I said yes but when he asked  to do it I wasnt able to</p>\n"},{"tags":["java","apache-kafka","spring-kafka","apache-kafka-streams"],"owner":{"account_id":14247880,"reputation":21,"user_id":10292343,"display_name":"Radik Gimadiev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684265212,"creation_date":1684243131,"question_id":76263499,"body_markdown":"I have an application with\r\n1. Spring Kafka listener, listening to topic1\r\n2. Class with defined KafkaStreams instance, with own application.id app-id-1, listening to topic2, producing messages to topic2-inner. app-id-1 was implement by KafkaStreams DSL\r\ntopic1, topic2 and topic2-inner has only 1 partition.\r\nEverything worked well.\r\n\r\nI need implement new KafkaStreams instance with localStore and Punctuator, so I implemented it by Processor API. I create new Topology() etc., set another application.id app-id-2.\r\nThis new streams instance must listen topic1 in parallel with first Kafka listener.\r\nBut this new streams instance does not receive messages from topic1, but listener does.\r\nIn logs I see, that new KafkaStreams app-id-2 does not receive assignment from broker.\r\nIs this my configuration mistake, or Kafka broker error?\r\nHow I should configurate new streams application?\r\nAny help appreciated)\r\n\r\nSpringBoot 2.7.3\r\njava 17\r\nKakfa streams 3.1.0\r\n\r\napplication.yaml:\r\n\r\n```\r\n  kafka:\r\n    bootstrap-servers: &#39;kafka1, kafka2&#39;\r\n    listener:\r\n      concurrency: 3\r\n    consumer:\r\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n      isolation-level: read_committed\r\n      properties:\r\n        partition.assignment.strategy: org.apache.kafka.clients.consumer.StickyAssignor\r\n    streams:\r\n      application-id: app-id-1\r\n      properties:\r\n        bootstrap.servers: &#39;kafka1, kafka2&#39;\r\n        commit.interval.ms: 100\r\n        metrics.recording.level: TRACE\r\n        auto.offset.reset: latest\r\n```\r\n\r\n\r\n\r\nListener:\r\n\r\n```\r\n    @KafkaListener(topics = &quot;topic1&quot;, groupId = &quot;group1&quot;, autoStartup = &quot;true&quot;)\r\n    public void receive(@Payload String message,\r\n                                  @Header(KafkaHeaders.RECEIVED_TIMESTAMP) String messageTimestamp,\r\n                                  @Header(KafkaHeaders.RECEIVED_TOPIC) String topic) {\r\n        log.info(&quot;Listener start message processing&quot;);\r\n}\r\n```\r\n\r\nKafkaStreams instance app-id-1:\r\n\r\n\r\n```\r\nprivate final StreamsBuilder streamsBuilder;\r\nprivate final KafkaStreamsConfiguration configuration;\r\nprivate final UncaughtExceptionHandler exceptionHandler;\r\n\r\n    @PostConstruct\r\n    private void startStream() {\r\n        streamsBuilder.stream(&quot;topic2&quot;, Consumed.with(Serdes.String(), Serdes.String()))\r\n                .peek(($, message) -&gt; log(message))               \r\n                .to(&quot;topic2-inner&quot;, Produced.with(Serdes.String(), Serdes.String()));\r\n        KafkaStreams streams = new KafkaStreams(streamsBuilder.build(), configuration.asProperties());\r\n        streams.setUncaughtExceptionHandler(exceptionHandler);\r\n        streams.start();\r\n    }\r\n```\r\n\r\nKafkaStreams instance app-id-2:\r\n\r\nProcessor\r\n```\r\n  public LastPriceProcessor(String stateStoreName, Duration duration, ObjectMapper objectMapper) {\r\n    this.stateStoreName = stateStoreName;\r\n    this.pauseDuration = duration;\r\n    this.objectMapper = objectMapper;\r\n  }\r\n\r\n  @Override\r\n  public void init(ProcessorContext&lt;String, PriceStore&gt; context) {\r\n    log.info(&quot;Processor initiated&quot;);\r\n    super.init(context);\r\n    keyValueStore = context().getStateStore(stateStoreName);\r\n    Punctuator punctuator = new Punctuator((org.apache.kafka.streams.processor.ProcessorContext) context(),\r\n        keyValueStore);\r\n    context().schedule(pauseDuration, PunctuationType.WALL_CLOCK_TIME, punctuator);\r\n  }\r\n\r\n  @Override\r\n  public void process(Record&lt;String, String&gt; record) {\r\n    log.info(&quot;LastPriceProcessor start process&quot;);\r\n}\r\n\r\n```\r\n\r\nStream starting service:\r\n\r\n```\r\nprivate final KafkaStreamsConfiguration configuration;\r\nprivate final KafkaStreamsProperties kafkaStreamsProperties;\r\n\r\n\r\n\r\n  @PostConstruct\r\n  private void startStream() {\r\nTopology topology = new Topology();\r\n\r\n    KeyValueBytesStoreSupplier storeSupplier = Stores.inMemoryKeyValueStore(PRICE_STORE);\r\n    Serializer&lt;PriceStore&gt; priceStoreSerializer = new PriceStoreSerializer(objectMapper);\r\n    Deserializer&lt;PriceStore&gt; priceStoreDeserializer = new PriceStoreSerializer(objectMapper);\r\n    StoreBuilder&lt;KeyValueStore&lt;String, PriceStore&gt;&gt; storeBuilder = Stores.keyValueStoreBuilder(storeSupplier,\r\n        Serdes.String(), Serdes.serdeFrom(priceStoreSerializer, priceStoreDeserializer));\r\n\r\n    String destinationTopic = &quot;topic4&quot;;\r\n\r\n    topology.addSource(&quot;price-source&quot;,\r\n        Serdes.String().deserializer(),\r\n        Serdes.String().deserializer(),\r\n        &quot;topic1&quot;)\r\n        .addProcessor(&quot;processor-name&quot;,\r\n            () -&gt; new Processor(&quot;store-name&quot;, kafkaStreamsProperties, objectMapper),\r\n            &quot;price-source&quot;)\r\n        .addStateStore(storeBuilder, &quot;processor-name&quot;)\r\n        .addSink(&quot;sink-name&quot;, destinationTopic, Serdes.String().serializer(), priceStoreSerializer, &quot;processor-name&quot;);\r\n\r\n    StreamsConfig streamsConfig = new StreamsConfig(getProperties());\r\n    KafkaStreams kafkaStreams = new KafkaStreams(topology, streamsConfig);\r\n    kafkaStreams.start();\r\n}\r\n\r\n  private Properties getProperties() {\r\n    Properties properties = configuration.asProperties();\r\n    properties.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;app-id-2&quot;);\r\n    return properties;\r\n  }\r\n```","title":"Kafka streams listener does not receive assignment, but spring KafkaListener does","body":"<p>I have an application with</p>\n<ol>\n<li>Spring Kafka listener, listening to topic1</li>\n<li>Class with defined KafkaStreams instance, with own application.id app-id-1, listening to topic2, producing messages to topic2-inner. app-id-1 was implement by KafkaStreams DSL\ntopic1, topic2 and topic2-inner has only 1 partition.\nEverything worked well.</li>\n</ol>\n<p>I need implement new KafkaStreams instance with localStore and Punctuator, so I implemented it by Processor API. I create new Topology() etc., set another application.id app-id-2.\nThis new streams instance must listen topic1 in parallel with first Kafka listener.\nBut this new streams instance does not receive messages from topic1, but listener does.\nIn logs I see, that new KafkaStreams app-id-2 does not receive assignment from broker.\nIs this my configuration mistake, or Kafka broker error?\nHow I should configurate new streams application?\nAny help appreciated)</p>\n<p>SpringBoot 2.7.3\njava 17\nKakfa streams 3.1.0</p>\n<p>application.yaml:</p>\n<pre><code>  kafka:\n    bootstrap-servers: 'kafka1, kafka2'\n    listener:\n      concurrency: 3\n    consumer:\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      isolation-level: read_committed\n      properties:\n        partition.assignment.strategy: org.apache.kafka.clients.consumer.StickyAssignor\n    streams:\n      application-id: app-id-1\n      properties:\n        bootstrap.servers: 'kafka1, kafka2'\n        commit.interval.ms: 100\n        metrics.recording.level: TRACE\n        auto.offset.reset: latest\n</code></pre>\n<p>Listener:</p>\n<pre><code>    @KafkaListener(topics = &quot;topic1&quot;, groupId = &quot;group1&quot;, autoStartup = &quot;true&quot;)\n    public void receive(@Payload String message,\n                                  @Header(KafkaHeaders.RECEIVED_TIMESTAMP) String messageTimestamp,\n                                  @Header(KafkaHeaders.RECEIVED_TOPIC) String topic) {\n        log.info(&quot;Listener start message processing&quot;);\n}\n</code></pre>\n<p>KafkaStreams instance app-id-1:</p>\n<pre><code>private final StreamsBuilder streamsBuilder;\nprivate final KafkaStreamsConfiguration configuration;\nprivate final UncaughtExceptionHandler exceptionHandler;\n\n    @PostConstruct\n    private void startStream() {\n        streamsBuilder.stream(&quot;topic2&quot;, Consumed.with(Serdes.String(), Serdes.String()))\n                .peek(($, message) -&gt; log(message))               \n                .to(&quot;topic2-inner&quot;, Produced.with(Serdes.String(), Serdes.String()));\n        KafkaStreams streams = new KafkaStreams(streamsBuilder.build(), configuration.asProperties());\n        streams.setUncaughtExceptionHandler(exceptionHandler);\n        streams.start();\n    }\n</code></pre>\n<p>KafkaStreams instance app-id-2:</p>\n<p>Processor</p>\n<pre><code>  public LastPriceProcessor(String stateStoreName, Duration duration, ObjectMapper objectMapper) {\n    this.stateStoreName = stateStoreName;\n    this.pauseDuration = duration;\n    this.objectMapper = objectMapper;\n  }\n\n  @Override\n  public void init(ProcessorContext&lt;String, PriceStore&gt; context) {\n    log.info(&quot;Processor initiated&quot;);\n    super.init(context);\n    keyValueStore = context().getStateStore(stateStoreName);\n    Punctuator punctuator = new Punctuator((org.apache.kafka.streams.processor.ProcessorContext) context(),\n        keyValueStore);\n    context().schedule(pauseDuration, PunctuationType.WALL_CLOCK_TIME, punctuator);\n  }\n\n  @Override\n  public void process(Record&lt;String, String&gt; record) {\n    log.info(&quot;LastPriceProcessor start process&quot;);\n}\n\n</code></pre>\n<p>Stream starting service:</p>\n<pre><code>private final KafkaStreamsConfiguration configuration;\nprivate final KafkaStreamsProperties kafkaStreamsProperties;\n\n\n\n  @PostConstruct\n  private void startStream() {\nTopology topology = new Topology();\n\n    KeyValueBytesStoreSupplier storeSupplier = Stores.inMemoryKeyValueStore(PRICE_STORE);\n    Serializer&lt;PriceStore&gt; priceStoreSerializer = new PriceStoreSerializer(objectMapper);\n    Deserializer&lt;PriceStore&gt; priceStoreDeserializer = new PriceStoreSerializer(objectMapper);\n    StoreBuilder&lt;KeyValueStore&lt;String, PriceStore&gt;&gt; storeBuilder = Stores.keyValueStoreBuilder(storeSupplier,\n        Serdes.String(), Serdes.serdeFrom(priceStoreSerializer, priceStoreDeserializer));\n\n    String destinationTopic = &quot;topic4&quot;;\n\n    topology.addSource(&quot;price-source&quot;,\n        Serdes.String().deserializer(),\n        Serdes.String().deserializer(),\n        &quot;topic1&quot;)\n        .addProcessor(&quot;processor-name&quot;,\n            () -&gt; new Processor(&quot;store-name&quot;, kafkaStreamsProperties, objectMapper),\n            &quot;price-source&quot;)\n        .addStateStore(storeBuilder, &quot;processor-name&quot;)\n        .addSink(&quot;sink-name&quot;, destinationTopic, Serdes.String().serializer(), priceStoreSerializer, &quot;processor-name&quot;);\n\n    StreamsConfig streamsConfig = new StreamsConfig(getProperties());\n    KafkaStreams kafkaStreams = new KafkaStreams(topology, streamsConfig);\n    kafkaStreams.start();\n}\n\n  private Properties getProperties() {\n    Properties properties = configuration.asProperties();\n    properties.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;app-id-2&quot;);\n    return properties;\n  }\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1684270648,"post_id":76266434,"comment_id":134493328,"body_markdown":"This seems to be a &quot;problem&quot; with your IDE, not your application. What IDE are you using?","body":"This seems to be a &quot;problem&quot; with your IDE, not your application. What IDE are you using?"},{"owner":{"account_id":19326678,"reputation":33,"user_id":14129168,"display_name":"Wulfen"},"score":0,"creation_date":1684270946,"post_id":76266434,"comment_id":134493387,"body_markdown":"I am using Eclipse IDE for Java Developers 2023-03 which I got from https://www.eclipse.org/downloads/packages/installer","body":"I am using Eclipse IDE for Java Developers 2023-03 which I got from <a href=\"https://www.eclipse.org/downloads/packages/installer\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages/installer</a>"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1684271196,"post_id":76266434,"comment_id":134493429,"body_markdown":"Ok. nothing wrong with it, but Spring has a &quot;special&quot; flavor of it, called [Spring Tools Suite](https://spring.io/tools). It&#39;s just a reskin of Eclipse, really. Additionally, you could try the [suggestions from the docs](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.hotswapping).","body":"Ok. nothing wrong with it, but Spring has a &quot;special&quot; flavor of it, called <a href=\"https://spring.io/tools\" rel=\"nofollow noreferrer\">Spring Tools Suite</a>. It&#39;s just a reskin of Eclipse, really. Additionally, you could try the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.hotswapping\" rel=\"nofollow noreferrer\">suggestions from the docs</a>."}],"owner":{"account_id":19326678,"reputation":33,"user_id":14129168,"display_name":"Wulfen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684264919,"creation_date":1684264919,"question_id":76266434,"body_markdown":"For an university assignment, I am supposed to encode a certain string using SHA-256. The file to edit is called ServerApplication.java, and it originally has this code: \r\n\r\n \r\n\r\n        package com.snhu.sslserver;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    \r\n    \r\n    @SpringBootApplication\r\n    public class ServerApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(ServerApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n    \r\n    @RestController\r\n    class ServerController{\r\n    //FIXME:  Add hash function to return the checksum value for the data string that should contain your name.    \r\n        @RequestMapping(&quot;/hash&quot;)\r\n        public String myHash(){\r\n        \tString data = &quot;Hello Joe Smith!&quot;;\r\n           \r\n            return &quot;&lt;p&gt;data:&quot;+data;\r\n        }\r\n    }\r\n\r\nUpon running the application I can then access https:/localhost:8443/hash and I will see the following output:\r\n\r\n    data: Hello Joe Smith!\r\n\r\nIf I edit the code above on String data = &quot;Hello My Name!&quot; Instead of Joe Smith, and rerun the application, and refresh localhost, it still says Hello Joe Smith! I have tried using different browsers to test and my changes are not saved.\r\n\r\nCould I get some help please? Let me know if additional code is needed, there are some Maven dependencies and the Spring framework.","title":"Java Spring application does not reflect updated code changes","body":"<p>For an university assignment, I am supposed to encode a certain string using SHA-256. The file to edit is called ServerApplication.java, and it originally has this code:</p>\n<pre><code>    package com.snhu.sslserver;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n\n\n@SpringBootApplication\npublic class ServerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ServerApplication.class, args);\n    }\n\n}\n\n@RestController\nclass ServerController{\n//FIXME:  Add hash function to return the checksum value for the data string that should contain your name.    \n    @RequestMapping(&quot;/hash&quot;)\n    public String myHash(){\n        String data = &quot;Hello Joe Smith!&quot;;\n       \n        return &quot;&lt;p&gt;data:&quot;+data;\n    }\n}\n</code></pre>\n<p>Upon running the application I can then access https:/localhost:8443/hash and I will see the following output:</p>\n<pre><code>data: Hello Joe Smith!\n</code></pre>\n<p>If I edit the code above on String data = &quot;Hello My Name!&quot; Instead of Joe Smith, and rerun the application, and refresh localhost, it still says Hello Joe Smith! I have tried using different browsers to test and my changes are not saved.</p>\n<p>Could I get some help please? Let me know if additional code is needed, there are some Maven dependencies and the Spring framework.</p>\n"},{"tags":["java","apache-nifi"],"owner":{"account_id":28614852,"reputation":11,"user_id":21909087,"display_name":"Galzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684264875,"creation_date":1684262561,"question_id":76266182,"body_markdown":"I got the Nifi extracted to /opt/nifi/nifi-current\r\nand start it with /bin/nifi.sh start\r\n\r\nThe log as below:\r\n\r\n```\r\nStarting NiFi service\r\n\r\nJava home: /home/dev/.sdkman/candidates/java/current\r\nNiFi home: /opt/nifi/nifi-current\r\n\r\nBootstrap Config File: /opt/nifi/nifi-current/conf/bootstrap.conf\r\n\r\nException in thread &quot;main&quot; java.io.IOException: /opt/nifi/nifi-current could not be created\r\n\tat org.apache.nifi.util.file.FileUtils.ensureDirectoryExistAndCanAccess(FileUtils.java:85)\r\n\tat org.apache.nifi.bootstrap.RunNiFi.getBootstrapFile(RunNiFi.java:453)\r\n\tat org.apache.nifi.bootstrap.RunNiFi.getStatusFile(RunNiFi.java:464)\r\n\tat org.apache.nifi.bootstrap.RunNiFi.loadProperties(RunNiFi.java:477)\r\n\tat org.apache.nifi.bootstrap.RunNiFi.getCurrentPort(RunNiFi.java:583)\r\n\tat org.apache.nifi.bootstrap.RunNiFi.start(RunNiFi.java:1118)\r\n\tat org.apache.nifi.bootstrap.RunNiFi.main(RunNiFi.java:294)\r\n```\r\n\r\nCheck RunNifi show that it check for /opt/nifi/nifi-current path with this piece of code:\r\n\r\n```\r\n   protected File getBootstrapFile(final Logger logger, String directory, String defaultDirectory, String fileName) throws IOException {\r\n\r\n        final File confDir = bootstrapConfigFile.getParentFile();\r\n        final File nifiHome = confDir.getParentFile();\r\n\r\n        String confFileDir = System.getProperty(directory);\r\n\r\n        final File fileDir;\r\n\r\n        if (confFileDir != null) {\r\n            fileDir = new File(confFileDir.trim());\r\n        } else {\r\n            fileDir = new File(nifiHome, defaultDirectory);\r\n        }\r\n\r\n        FileUtils.ensureDirectoryExistAndCanAccess(fileDir);\r\n        final File statusFile = new File(fileDir, fileName);\r\n        logger.debug(&quot;Status File: {}&quot;, statusFile);\r\n        return statusFile;\r\n    }\r\n```\r\n\r\n```\r\n    public static void ensureDirectoryExistAndCanAccess(final File dir) throws IOException {\r\n        if (dir.exists() &amp;&amp; !dir.isDirectory()) {\r\n            throw new IOException(dir.getAbsolutePath() + &quot; is not a directory&quot;);\r\n        } else if (!dir.exists()) {\r\n            final boolean made = dir.mkdirs();\r\n            if (!made) {\r\n                throw new IOException(dir.getAbsolutePath() + &quot; could not be created&quot;);\r\n            }\r\n        }\r\n        if (!(dir.canRead() &amp;&amp; dir.canWrite())) {\r\n            throw new IOException(dir.getAbsolutePath() + &quot; directory does not have read/write privilege&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nBut this seem wrong as:\r\n\r\n- the folder is exist but the logic still jump into the throw case\r\n\r\n\r\n- permission is ok (I change owner and permissions of the folder)\r\n\r\nWhat I could do further to resolve this ? \r\n\r\n- Tried to start Nifi with nifi.sh start\r\n- Set all the owner and permission","title":"Apache Nifi - Cannot start Nifi due to /opt/nifi/nifi-current cound not be created","body":"<p>I got the Nifi extracted to /opt/nifi/nifi-current\nand start it with /bin/nifi.sh start</p>\n<p>The log as below:</p>\n<pre><code>Starting NiFi service\n\nJava home: /home/dev/.sdkman/candidates/java/current\nNiFi home: /opt/nifi/nifi-current\n\nBootstrap Config File: /opt/nifi/nifi-current/conf/bootstrap.conf\n\nException in thread &quot;main&quot; java.io.IOException: /opt/nifi/nifi-current could not be created\n    at org.apache.nifi.util.file.FileUtils.ensureDirectoryExistAndCanAccess(FileUtils.java:85)\n    at org.apache.nifi.bootstrap.RunNiFi.getBootstrapFile(RunNiFi.java:453)\n    at org.apache.nifi.bootstrap.RunNiFi.getStatusFile(RunNiFi.java:464)\n    at org.apache.nifi.bootstrap.RunNiFi.loadProperties(RunNiFi.java:477)\n    at org.apache.nifi.bootstrap.RunNiFi.getCurrentPort(RunNiFi.java:583)\n    at org.apache.nifi.bootstrap.RunNiFi.start(RunNiFi.java:1118)\n    at org.apache.nifi.bootstrap.RunNiFi.main(RunNiFi.java:294)\n</code></pre>\n<p>Check RunNifi show that it check for /opt/nifi/nifi-current path with this piece of code:</p>\n<pre><code>   protected File getBootstrapFile(final Logger logger, String directory, String defaultDirectory, String fileName) throws IOException {\n\n        final File confDir = bootstrapConfigFile.getParentFile();\n        final File nifiHome = confDir.getParentFile();\n\n        String confFileDir = System.getProperty(directory);\n\n        final File fileDir;\n\n        if (confFileDir != null) {\n            fileDir = new File(confFileDir.trim());\n        } else {\n            fileDir = new File(nifiHome, defaultDirectory);\n        }\n\n        FileUtils.ensureDirectoryExistAndCanAccess(fileDir);\n        final File statusFile = new File(fileDir, fileName);\n        logger.debug(&quot;Status File: {}&quot;, statusFile);\n        return statusFile;\n    }\n</code></pre>\n<pre><code>    public static void ensureDirectoryExistAndCanAccess(final File dir) throws IOException {\n        if (dir.exists() &amp;&amp; !dir.isDirectory()) {\n            throw new IOException(dir.getAbsolutePath() + &quot; is not a directory&quot;);\n        } else if (!dir.exists()) {\n            final boolean made = dir.mkdirs();\n            if (!made) {\n                throw new IOException(dir.getAbsolutePath() + &quot; could not be created&quot;);\n            }\n        }\n        if (!(dir.canRead() &amp;&amp; dir.canWrite())) {\n            throw new IOException(dir.getAbsolutePath() + &quot; directory does not have read/write privilege&quot;);\n        }\n    }\n</code></pre>\n<p>But this seem wrong as:</p>\n<ul>\n<li><p>the folder is exist but the logic still jump into the throw case</p>\n</li>\n<li><p>permission is ok (I change owner and permissions of the folder)</p>\n</li>\n</ul>\n<p>What I could do further to resolve this ?</p>\n<ul>\n<li>Tried to start Nifi with nifi.sh start</li>\n<li>Set all the owner and permission</li>\n</ul>\n"},{"tags":["java","android","ios","flutter","pdf"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684272454,"post_id":76266424,"comment_id":134493639,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76266424/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":26291989,"reputation":1,"user_id":21908786,"display_name":"InPivko"},"score":0,"creation_date":1684309765,"post_id":76266424,"comment_id":134497833,"body_markdown":"I did everything as you wrote, but got this: \n&quot;E/AndroidRuntime( 5942): java.lang.IllegalArgumentException: Failed to find configured root that contains /data/data/com.example.testingv2/app_flutter/fileName.pdf\nE/AndroidRuntime( 5942): \tat androidx.core.content.FileProvider$SimplePathStrategy.getUriForFile(FileProvider.java:825)\nLost connection to device.\nFailed to send request: {&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:&quot;33&quot;,&quot;method&quot;:&quot;getMemoryUsage&quot;,&quot;params&quot;:{&quot;isolateId&quot;:&quot;isolates/2817579040777927&quot;}}&quot;","body":"I did everything as you wrote, but got this:  &quot;E/AndroidRuntime( 5942): java.lang.IllegalArgumentException: Failed to find configured root that contains /data/data/com.example.testingv2/app_flutter/fileName.pdf E/AndroidRuntime( 5942): \tat androidx.core.content.FileProvider$SimplePathStrategy.getUri&zwnj;&#8203;ForFile(FileProvider&zwnj;&#8203;.java:825) Lost connection to device. Failed to send request: {&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:&quot;33&quot;,&quot;method&quot;:&quot;getMemoryUsage&quot;,&quot;params&zwnj;&#8203;&quot;:{&quot;isolateId&quot;:&quot;isol&zwnj;&#8203;ates/281757904077792&zwnj;&#8203;7&quot;}}&quot;"}],"tags":[],"owner":{"account_id":14624945,"reputation":1,"user_id":10562571,"display_name":"Кемал Каландаров"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684264845,"creation_date":1684264845,"answer_id":76266424,"question_id":76265974,"body_markdown":"I&#39;m not sure just guessing may be this will help:\r\n\r\n 1. Open the provider_paths.xml file located at android/app/src/main/res/xml/provider_paths.xml.\r\n 2. Replace the existing content with the following code:\r\n\r\n        &lt;paths&gt;\r\n          &lt;external-path\r\n            name=&quot;external_files&quot;\r\n            path=&quot;.&quot; /&gt;\r\n         &lt;cache-path\r\n            name=&quot;cache_files&quot;\r\n            path=&quot;.&quot; /&gt;\r\n        &lt;/paths&gt;\r\n 3. In your AndroidManifest.xml, update the android.support.FILE_PROVIDER_PATHS metadata value\r\nto use:\r\n\r\n    @xml/provider_paths\r\n\r\n    instead of:\r\n\r\n    @xml/path_provider:\r\n\r\n 4. Update the savePdfFile method in your CreaterPdf class as follows:\r\n\r\n    final output = await getApplicationDocumentsDirectory();","title":"Why does flutter crash when I try to open a previously created pdf?","body":"<p>I'm not sure just guessing may be this will help:</p>\n<ol>\n<li><p>Open the provider_paths.xml file located at android/app/src/main/res/xml/provider_paths.xml.</p>\n</li>\n<li><p>Replace the existing content with the following code:</p>\n<pre><code>&lt;paths&gt;\n  &lt;external-path\n    name=&quot;external_files&quot;\n    path=&quot;.&quot; /&gt;\n &lt;cache-path\n    name=&quot;cache_files&quot;\n    path=&quot;.&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n</li>\n<li><p>In your AndroidManifest.xml, update the android.support.FILE_PROVIDER_PATHS metadata value\nto use:</p>\n<p>@xml/provider_paths</p>\n<p>instead of:</p>\n<p>@xml/path_provider:</p>\n</li>\n<li><p>Update the savePdfFile method in your CreaterPdf class as follows:</p>\n<p>final output = await getApplicationDocumentsDirectory();</p>\n</li>\n</ol>\n"}],"owner":{"account_id":26291989,"reputation":1,"user_id":21908786,"display_name":"InPivko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684264845,"creation_date":1684260547,"question_id":76265974,"body_markdown":"I&#39;m trying to make an application to create a PDF. Using 3 libraries on `flutter`: `pdf 3.10.3`, `path_provider 2.0.15`, `open_document 1.0.6+2`. The code will be just below. The bottom line is that everything works fine on iOS, but it&#39;s different with android: when you click the button the app just crashes, and the console has this output:\r\n\r\n```\r\nD/EGL_emulation(32619): app_time_stats: avg=4177.76ms min=631.96ms max=7723.56ms \r\n\r\n    count=2\r\n    D/DART/NATIVE(32619): onMethodCall openDocument\r\n    E/AndroidRuntime(32619): FATAL EXCEPTION: Thread-4\r\n    E/AndroidRuntime(32619): Process: com.example.testingv2, PID: 32619\r\n    E/AndroidRuntime(32619): java.lang.IllegalArgumentException: Couldn&#39;t find meta-data for provider with authority com.example.testingv2.fileprovider\r\n    E/AndroidRuntime(32619): \tat androidx.core.content.FileProvider.getFileProviderPathsMetaData(FileProvider.java:664)\r\n    E/AndroidRuntime(32619): \tat androidx.core.content.FileProvider.parsePathStrategy(FileProvider.java:695)\r\n    E/AndroidRuntime(32619): \tat androidx.core.content.FileProvider.getPathStrategy(FileProvider.java:645)\r\n    E/AndroidRuntime(32619): \tat androidx.core.content.FileProvider.getUriForFile(FileProvider.java:449)\r\n    E/AndroidRuntime(32619): \tat com.fsconceicao.open_document.OpenDocument.openDocument$open_document_debug(OpenDocument.kt:37)\r\n    E/AndroidRuntime(32619): \tat com.fsconceicao.open_document.OpenDocumentImpl.onMethodCall$lambda-5(OpenDocumentImpl.kt:55)\r\n    E/AndroidRuntime(32619): \tat com.fsconceicao.open_document.OpenDocumentImpl.$r8$lambda$dC68NxXnNWsal4uI2taad3gzBJ8(Unknown Source:0)\r\n    E/AndroidRuntime(32619): \tat com.fsconceicao.open_document.OpenDocumentImpl$$ExternalSyntheticLambda4.run(Unknown Source:6)\r\n    E/AndroidRuntime(32619): \tat java.lang.Thread.run(Thread.java:1012)\r\n    I/Process (32619): Sending signal. PID: 32619 SIG: 9\r\n    Lost connection to device.\r\n```\r\nAs I understood, all problems come from the ISP. I, according to the documentation from `open_document 1.0.6+2` did everything exactly as described there (just copied and pasted). In the folder `android/app/src/main/AndroidManifest.xml`.\r\n\r\nManifest code: \r\n\r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;application\r\n            android:label=&quot;testingv2&quot;\r\n            android:name=&quot;${applicationName}&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:launchMode=&quot;singleTop&quot;\r\n                android:theme=&quot;@style/LaunchTheme&quot;\r\n                android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\r\n                android:hardwareAccelerated=&quot;true&quot;\r\n                android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n                &lt;!-- Specifies an Android theme to apply to this Activity as soon as\r\n                     the Android process has started. This theme is visible to the user\r\n                     while the Flutter UI initializes. After that, this theme continues\r\n                     to determine the Window background behind the Flutter UI. --&gt;\r\n                &lt;meta-data\r\n                  android:name=&quot;io.flutter.embedding.android.NormalTheme&quot;\r\n                  android:resource=&quot;@style/NormalTheme&quot;\r\n                  /&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;!-- Don&#39;t delete the meta-data below.\r\n                 This is used by the Flutter tool to generate GeneratedPluginRegistrant.java --&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;flutterEmbedding&quot;\r\n                android:value=&quot;2&quot; /&gt;\r\n            &lt;provider\r\n                android:name=&quot;androidx.core.content.FileProvider&quot;\r\n                android:authorities=&quot;com.example.testingv2.fileprovider&quot;\r\n                android:exported=&quot;false&quot;\r\n                android:grantUriPermissions=&quot;true&quot;&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                    android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n            &lt;/provider&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n```\r\n\r\nI created a folder and a file inside (`android/app/src/main/res/xml/provider_paths.xml`) and just threw in everything from the documentation without changing anything (maybe I should):\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n     &lt;paths&gt;\r\n       &lt;external-path\r\n         name=&quot;external_files&quot;\r\n         path=&quot;.&quot; /&gt;\r\n     &lt;/paths&gt;\r\n```\r\n\r\nHere is the application code itself:\r\n\r\n`main.dart`:\r\n\r\n```\r\nimport &#39;package:flutter/material.dart&#39;;\r\n    import &#39;package:pdf/widgets.dart&#39; as pw;\r\n    import &#39;package:pdf/pdf.dart&#39;;\r\n    import &#39;package:flutter/services.dart&#39; show ByteData, rootBundle;\r\n    import &#39;dart:io&#39;;\r\n    import &#39;package:path_provider/path_provider.dart&#39;;\r\n    import &#39;package:printing/printing.dart&#39;;\r\n    \r\n    import &#39;creat/create.dart&#39;;\r\n    \r\n    void main() =&gt; runApp(MyApp());\r\n    \r\n    class MyApp extends StatelessWidget {\r\n      final CreaterPdf service = CreaterPdf();\r\n      @override\r\n      Widget build(BuildContext context) {\r\n        return MaterialApp(\r\n          home: Scaffold(\r\n            appBar: AppBar(\r\n              title: Text(&#39;demka&#39;),\r\n            ),\r\n            body: Center(\r\n              child: Row(\r\n                children: [\r\n                  TextButton(\r\n                    onPressed: () async {\r\n                      final data = await service.generatePDF();\r\n                      service.savePdfFile(&#39;fileName&#39;, data);\r\n                    },\r\n                    child: Text(&#39;demka&#39;),\r\n                  )\r\n                ],\r\n              ),\r\n            ),\r\n          ),\r\n        );\r\n      }\r\n    }\r\n```\r\n\r\n`create.dart`:\r\n\r\n```\r\nimport &#39;dart:io&#39;;\r\n    import &#39;package:flutter/services.dart&#39;;\r\n    import &#39;package:open_document/open_document.dart&#39;;\r\n    import &#39;package:path_provider/path_provider.dart&#39;;\r\n    import &#39;package:pdf/pdf.dart&#39;;\r\n    import &#39;package:pdf/widgets.dart&#39; as pw;\r\n    \r\n    class CreaterPdf {\r\n      Future&lt;Uint8List&gt; generatePDF() async {\r\n        final pdf = pw.Document(); \r\n        final ttf = await rootBundle\r\n            .load(&quot;assets/fonts/Roboto-Bold.ttf&quot;); \r\n        final font = pw.Font.ttf(ttf);\r\n        final page = pw.Page(\r\n          pageFormat: PdfPageFormat.a4,\r\n          build: (pw.Context context) {\r\n            return pw.Column(\r\n              crossAxisAlignment: pw.CrossAxisAlignment.end,\r\n              children: &lt;pw.Widget&gt;[\r\n                pw.Text(\r\n                  &quot;Кому-то короче:&quot;,\r\n                  style: pw.TextStyle(fontSize: 14, font: font),\r\n                ),\r\n                pw.Text(&#39;Пупкин Олег Букин&#39;,\r\n                    style: pw.TextStyle(fontSize: 14, font: font)),\r\n                pw.SizedBox(height: 50),\r\n                pw.Center(\r\n                    child: pw.Text(&quot;мир&quot;,\r\n                        style: pw.TextStyle(fontSize: 30, font: font))),\r\n                pw.SizedBox(height: 50),\r\n                pw.Text(&quot;пока&quot;, style: pw.TextStyle(fontSize: 20, font: font)),\r\n              ],\r\n            );\r\n          },\r\n        );\r\n        pdf.addPage(page); \r\n        final bytes = await pdf.save();\r\n        final directory = await getApplicationDocumentsDirectory();\r\n        final file = File(&quot;${directory.path}/example.pdf&quot;);\r\n        await file.writeAsBytes(bytes);\r\n        return pdf.save();\r\n      }\r\n    \r\n      Future&lt;void&gt; savePdfFile(String fileName, Uint8List byteList) async {\r\n        final output = await getTemporaryDirectory();\r\n        var filePath = &quot;${output.path}/$fileName.pdf&quot;;\r\n        final file = File(filePath);\r\n        await file.writeAsBytes(byteList);\r\n        await OpenDocument.openDocument(filePath: filePath);\r\n      }\r\n    }\r\n```\r\n\r\nOn iOS, when you press the button, it goes like this:\r\n[when pressing a button on iOS](https://i.stack.imgur.com/6ytE4.png)\r\n\r\nIn `andriod studio`:\r\n\r\n[android studio](https://i.stack.imgur.com/zGlAA.png)\r\n\r\nThe crash happens when I try to open a previously created pdf, but it does not find it and the crash follows (again, as I understand it). But how to solve it?\r\n\r\nI changed the line in the manifest, but it didn&#39;t help. What I want to get: When I click on the button, as on iOS, the created pdf will open in the application (as shown in the screenshot), and then it would be simply possible to save or send (as on iOS) this PDF","title":"Why does flutter crash when I try to open a previously created pdf?","body":"<p>I'm trying to make an application to create a PDF. Using 3 libraries on <code>flutter</code>: <code>pdf 3.10.3</code>, <code>path_provider 2.0.15</code>, <code>open_document 1.0.6+2</code>. The code will be just below. The bottom line is that everything works fine on iOS, but it's different with android: when you click the button the app just crashes, and the console has this output:</p>\n<pre><code>D/EGL_emulation(32619): app_time_stats: avg=4177.76ms min=631.96ms max=7723.56ms \n\n    count=2\n    D/DART/NATIVE(32619): onMethodCall openDocument\n    E/AndroidRuntime(32619): FATAL EXCEPTION: Thread-4\n    E/AndroidRuntime(32619): Process: com.example.testingv2, PID: 32619\n    E/AndroidRuntime(32619): java.lang.IllegalArgumentException: Couldn't find meta-data for provider with authority com.example.testingv2.fileprovider\n    E/AndroidRuntime(32619):    at androidx.core.content.FileProvider.getFileProviderPathsMetaData(FileProvider.java:664)\n    E/AndroidRuntime(32619):    at androidx.core.content.FileProvider.parsePathStrategy(FileProvider.java:695)\n    E/AndroidRuntime(32619):    at androidx.core.content.FileProvider.getPathStrategy(FileProvider.java:645)\n    E/AndroidRuntime(32619):    at androidx.core.content.FileProvider.getUriForFile(FileProvider.java:449)\n    E/AndroidRuntime(32619):    at com.fsconceicao.open_document.OpenDocument.openDocument$open_document_debug(OpenDocument.kt:37)\n    E/AndroidRuntime(32619):    at com.fsconceicao.open_document.OpenDocumentImpl.onMethodCall$lambda-5(OpenDocumentImpl.kt:55)\n    E/AndroidRuntime(32619):    at com.fsconceicao.open_document.OpenDocumentImpl.$r8$lambda$dC68NxXnNWsal4uI2taad3gzBJ8(Unknown Source:0)\n    E/AndroidRuntime(32619):    at com.fsconceicao.open_document.OpenDocumentImpl$$ExternalSyntheticLambda4.run(Unknown Source:6)\n    E/AndroidRuntime(32619):    at java.lang.Thread.run(Thread.java:1012)\n    I/Process (32619): Sending signal. PID: 32619 SIG: 9\n    Lost connection to device.\n</code></pre>\n<p>As I understood, all problems come from the ISP. I, according to the documentation from <code>open_document 1.0.6+2</code> did everything exactly as described there (just copied and pasted). In the folder <code>android/app/src/main/AndroidManifest.xml</code>.</p>\n<p>Manifest code:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n        &lt;application\n            android:label=&quot;testingv2&quot;\n            android:name=&quot;${applicationName}&quot;\n            android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\n            &lt;activity\n                android:name=&quot;.MainActivity&quot;\n                android:exported=&quot;true&quot;\n                android:launchMode=&quot;singleTop&quot;\n                android:theme=&quot;@style/LaunchTheme&quot;\n                android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\n                android:hardwareAccelerated=&quot;true&quot;\n                android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\n                &lt;!-- Specifies an Android theme to apply to this Activity as soon as\n                     the Android process has started. This theme is visible to the user\n                     while the Flutter UI initializes. After that, this theme continues\n                     to determine the Window background behind the Flutter UI. --&gt;\n                &lt;meta-data\n                  android:name=&quot;io.flutter.embedding.android.NormalTheme&quot;\n                  android:resource=&quot;@style/NormalTheme&quot;\n                  /&gt;\n                &lt;intent-filter&gt;\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n                &lt;/intent-filter&gt;\n            &lt;/activity&gt;\n            &lt;!-- Don't delete the meta-data below.\n                 This is used by the Flutter tool to generate GeneratedPluginRegistrant.java --&gt;\n            &lt;meta-data\n                android:name=&quot;flutterEmbedding&quot;\n                android:value=&quot;2&quot; /&gt;\n            &lt;provider\n                android:name=&quot;androidx.core.content.FileProvider&quot;\n                android:authorities=&quot;com.example.testingv2.fileprovider&quot;\n                android:exported=&quot;false&quot;\n                android:grantUriPermissions=&quot;true&quot;&gt;\n                &lt;meta-data\n                    android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                    android:resource=&quot;@xml/provider_paths&quot; /&gt;\n            &lt;/provider&gt;\n        &lt;/application&gt;\n    &lt;/manifest&gt;\n</code></pre>\n<p>I created a folder and a file inside (<code>android/app/src/main/res/xml/provider_paths.xml</code>) and just threw in everything from the documentation without changing anything (maybe I should):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n     &lt;paths&gt;\n       &lt;external-path\n         name=&quot;external_files&quot;\n         path=&quot;.&quot; /&gt;\n     &lt;/paths&gt;\n</code></pre>\n<p>Here is the application code itself:</p>\n<p><code>main.dart</code>:</p>\n<pre><code>import 'package:flutter/material.dart';\n    import 'package:pdf/widgets.dart' as pw;\n    import 'package:pdf/pdf.dart';\n    import 'package:flutter/services.dart' show ByteData, rootBundle;\n    import 'dart:io';\n    import 'package:path_provider/path_provider.dart';\n    import 'package:printing/printing.dart';\n    \n    import 'creat/create.dart';\n    \n    void main() =&gt; runApp(MyApp());\n    \n    class MyApp extends StatelessWidget {\n      final CreaterPdf service = CreaterPdf();\n      @override\n      Widget build(BuildContext context) {\n        return MaterialApp(\n          home: Scaffold(\n            appBar: AppBar(\n              title: Text('demka'),\n            ),\n            body: Center(\n              child: Row(\n                children: [\n                  TextButton(\n                    onPressed: () async {\n                      final data = await service.generatePDF();\n                      service.savePdfFile('fileName', data);\n                    },\n                    child: Text('demka'),\n                  )\n                ],\n              ),\n            ),\n          ),\n        );\n      }\n    }\n</code></pre>\n<p><code>create.dart</code>:</p>\n<pre><code>import 'dart:io';\n    import 'package:flutter/services.dart';\n    import 'package:open_document/open_document.dart';\n    import 'package:path_provider/path_provider.dart';\n    import 'package:pdf/pdf.dart';\n    import 'package:pdf/widgets.dart' as pw;\n    \n    class CreaterPdf {\n      Future&lt;Uint8List&gt; generatePDF() async {\n        final pdf = pw.Document(); \n        final ttf = await rootBundle\n            .load(&quot;assets/fonts/Roboto-Bold.ttf&quot;); \n        final font = pw.Font.ttf(ttf);\n        final page = pw.Page(\n          pageFormat: PdfPageFormat.a4,\n          build: (pw.Context context) {\n            return pw.Column(\n              crossAxisAlignment: pw.CrossAxisAlignment.end,\n              children: &lt;pw.Widget&gt;[\n                pw.Text(\n                  &quot;Кому-то короче:&quot;,\n                  style: pw.TextStyle(fontSize: 14, font: font),\n                ),\n                pw.Text('Пупкин Олег Букин',\n                    style: pw.TextStyle(fontSize: 14, font: font)),\n                pw.SizedBox(height: 50),\n                pw.Center(\n                    child: pw.Text(&quot;мир&quot;,\n                        style: pw.TextStyle(fontSize: 30, font: font))),\n                pw.SizedBox(height: 50),\n                pw.Text(&quot;пока&quot;, style: pw.TextStyle(fontSize: 20, font: font)),\n              ],\n            );\n          },\n        );\n        pdf.addPage(page); \n        final bytes = await pdf.save();\n        final directory = await getApplicationDocumentsDirectory();\n        final file = File(&quot;${directory.path}/example.pdf&quot;);\n        await file.writeAsBytes(bytes);\n        return pdf.save();\n      }\n    \n      Future&lt;void&gt; savePdfFile(String fileName, Uint8List byteList) async {\n        final output = await getTemporaryDirectory();\n        var filePath = &quot;${output.path}/$fileName.pdf&quot;;\n        final file = File(filePath);\n        await file.writeAsBytes(byteList);\n        await OpenDocument.openDocument(filePath: filePath);\n      }\n    }\n</code></pre>\n<p>On iOS, when you press the button, it goes like this:\n<a href=\"https://i.stack.imgur.com/6ytE4.png\" rel=\"nofollow noreferrer\">when pressing a button on iOS</a></p>\n<p>In <code>andriod studio</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/zGlAA.png\" rel=\"nofollow noreferrer\">android studio</a></p>\n<p>The crash happens when I try to open a previously created pdf, but it does not find it and the crash follows (again, as I understand it). But how to solve it?</p>\n<p>I changed the line in the manifest, but it didn't help. What I want to get: When I click on the button, as on iOS, the created pdf will open in the application (as shown in the screenshot), and then it would be simply possible to save or send (as on iOS) this PDF</p>\n"},{"tags":["java","maven","mule","mulesoft","mule4"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684263665,"post_id":76265745,"comment_id":134492145,"body_markdown":"Please share your pom.","body":"Please share your pom."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684264691,"creation_date":1684264691,"answer_id":76266411,"question_id":76265745,"body_markdown":"The error indicates that it is related to using Java 20. Downgrade to Java 8 or [change the source level][1] to Java 8 in the pom.\r\n\r\n``` lang-xml\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n```\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html","title":"Error Publishing Mule JSON Logger to Anypoint Exchange","body":"<p>The error indicates that it is related to using Java 20. Downgrade to Java 8 or <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">change the source level</a> to Java 8 in the pom.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":6117163,"reputation":51,"user_id":4771802,"display_name":"Andy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76266411,"answer_count":1,"score":-1,"last_activity_date":1684264691,"creation_date":1684258459,"question_id":76265745,"body_markdown":"I am trying to publish the Mule JSON Logger to my Anypoint Exchange based from the following repo - https://github.com/mulesoft-consulting/json-logger\r\n\r\nWhen the execute the deploy-to-exchange.sh script with the ORG ID provided I keep getting Java Build Failures with a huge stack trace.\r\n\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n[WARNING] diagnostic: warning: Supported source version &#39;RELEASE_8&#39; from annotation processor &#39;org.mule.runtime.ast.internal.extension.loader.ASTExtensionResourcesGeneratorAnnotationProcessor&#39; less than -source &#39;20&#39;\r\n[INFO] diagnostic: Note: Starting Resources generator for Extensions\r\n[ERROR] error on execute: use -X to have details \r\n[DEBUG] \r\njava.lang.RuntimeException: java.lang.ExceptionInInitializerError\r\n    at com.sun.tools.javac.api.JavacTaskImpl.invocationHelper (JavacTaskImpl.java:168)\r\n    at com.sun.tools.javac.api.JavacTaskImpl.doCall (JavacTaskImpl.java:100)\r\n    at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:94)\r\n    at org.bsc.maven.plugin.processor.AbstractAnnotationProcessorMojo.executeWithExceptionsHandled (AbstractAnnotationProcessorMojo.java:778)\r\n    at org.bsc.maven.plugin.processor.AbstractAnnotationProcessorMojo.execute (AbstractAnnotationProcessorMojo.java:429)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:827)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:272)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:195)\r\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke ..........\r\n```\r\n\r\nI have JDK 20 installed on my machine but I was getting the same error even with JDK 8 which I had earlier. Any ideas what could be causing this issue?","title":"Error Publishing Mule JSON Logger to Anypoint Exchange","body":"<p>I am trying to publish the Mule JSON Logger to my Anypoint Exchange based from the following repo - <a href=\"https://github.com/mulesoft-consulting/json-logger\" rel=\"nofollow noreferrer\">https://github.com/mulesoft-consulting/json-logger</a></p>\n<p>When the execute the deploy-to-exchange.sh script with the ORG ID provided I keep getting Java Build Failures with a huge stack trace.</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n[WARNING] diagnostic: warning: Supported source version 'RELEASE_8' from annotation processor 'org.mule.runtime.ast.internal.extension.loader.ASTExtensionResourcesGeneratorAnnotationProcessor' less than -source '20'\n[INFO] diagnostic: Note: Starting Resources generator for Extensions\n[ERROR] error on execute: use -X to have details \n[DEBUG] \njava.lang.RuntimeException: java.lang.ExceptionInInitializerError\n    at com.sun.tools.javac.api.JavacTaskImpl.invocationHelper (JavacTaskImpl.java:168)\n    at com.sun.tools.javac.api.JavacTaskImpl.doCall (JavacTaskImpl.java:100)\n    at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:94)\n    at org.bsc.maven.plugin.processor.AbstractAnnotationProcessorMojo.executeWithExceptionsHandled (AbstractAnnotationProcessorMojo.java:778)\n    at org.bsc.maven.plugin.processor.AbstractAnnotationProcessorMojo.execute (AbstractAnnotationProcessorMojo.java:429)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:827)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:272)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:195)\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke ..........\n</code></pre>\n<p>I have JDK 20 installed on my machine but I was getting the same error even with JDK 8 which I had earlier. Any ideas what could be causing this issue?</p>\n"},{"tags":["java","google-cloud-functions","dependencies","google-play-integrity-api"],"comments":[{"owner":{"account_id":24326192,"reputation":1039,"user_id":18265702,"display_name":"Sandeep Vokkareni"},"score":1,"creation_date":1684223832,"post_id":76259630,"comment_id":134482279,"body_markdown":"Can you try deploying your code locally and check whether it is deploying successfully or not? Also to complete all the missing parts of the build.gradle you must include `com.google.oauth-client:google-oauth-client:1.32.1` under dependencies part.","body":"Can you try deploying your code locally and check whether it is deploying successfully or not? Also to complete all the missing parts of the build.gradle you must include <code>com.google.oauth-client:google-oauth-client:1.32.1</code> under dependencies part."}],"owner":{"account_id":1835474,"reputation":4777,"user_id":1665964,"accept_rate":33,"display_name":"Tapa Save"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684264674,"creation_date":1684214987,"question_id":76259630,"body_markdown":"I&#39;m trying to run a next code on Google Cloud Functions platform:\r\n\r\nGradle:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    configurations {\r\n        invoker\r\n    }\r\n    \r\n    java {\r\n        sourceCompatibility = JavaVersion.VERSION_17\r\n        targetCompatibility = JavaVersion.VERSION_17\r\n    }\r\n    \r\n    dependencies {\r\n        compileOnly &#39;com.google.cloud.functions:functions-framework-api:1.0.4&#39;\r\n        invoker &#39;com.google.cloud.functions.invoker:java-function-invoker:1.2.1&#39;\r\n        implementation &#39;com.google.cloud:google-cloud-storage:2.1.1&#39;\r\n        implementation &#39;com.google.code.gson:gson:2.10.1&#39;\r\n        implementation &#39;com.google.apis:google-api-services-playintegrity:v1-rev20230105-2.0.0&#39;\r\n    }\r\n    \r\n    tasks.register(&quot;runFunctionGetMetadata&quot;, JavaExec) {\r\n        main = &#39;com.google.cloud.functions.invoker.runner.Invoker&#39;\r\n        classpath(configurations.invoker)\r\n        inputs.files(configurations.runtimeClasspath, sourceSets.main.output)\r\n        args(&#39;--target&#39;, &#39;com.k.backend.GetMetadata&#39;, &#39;--port&#39;, 8081)\r\n        doFirst {\r\n            args(&#39;--classpath&#39;, files(configurations.runtimeClasspath, sourceSets.main.output).asPath)\r\n        }\r\n    }\r\n\r\nJava:\r\n\r\n    package com.k.backend;\r\n    \r\n    import com.google.api.client.googleapis.services.GoogleClientRequestInitializer;\r\n    import com.google.api.client.http.HttpRequestInitializer;\r\n    import com.google.api.client.http.HttpTransport;\r\n    import com.google.api.client.http.javanet.NetHttpTransport;\r\n    import com.google.api.client.json.JsonFactory;\r\n    import com.google.api.client.json.jackson2.JacksonFactory;\r\n    import com.google.api.services.playintegrity.v1.PlayIntegrity;\r\n    import com.google.api.services.playintegrity.v1.PlayIntegrityRequestInitializer;\r\n    import com.google.api.services.playintegrity.v1.model.DecodeIntegrityTokenRequest;\r\n    import com.google.api.services.playintegrity.v1.model.DecodeIntegrityTokenResponse;\r\n    import com.google.auth.http.HttpCredentialsAdapter;\r\n    import com.google.auth.oauth2.GoogleCredentials;\r\n    import com.google.cloud.functions.HttpFunction;\r\n    import com.google.cloud.functions.HttpRequest;\r\n    import com.google.cloud.functions.HttpResponse;\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.JsonArray;\r\n    import com.google.gson.JsonObject;\r\n    \r\n    import java.io.BufferedWriter;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.util.Optional;\r\n    \r\n    public class GetMetadata implements HttpFunction {\r\n    \r\n        @Override\r\n        public void service(HttpRequest request, HttpResponse response) throws IOException {\r\n            JsonObject object = new JsonObject();\r\n            object.addProperty(&quot;calc1&quot;, calc(arg + 1)); // arg is just random string\r\n            object.addProperty(&quot;calc2&quot;, calc(arg));\r\n            String result = new Gson().toJson(object);\r\n            response.setContentType(&quot;application/json&quot;);\r\n            BufferedWriter writer = response.getWriter();\r\n            writer.write(result);\r\n        }\r\n    \r\n        private String calc(String integrityToken) {\r\n            try {\r\n                DecodeIntegrityTokenRequest requestObj = new DecodeIntegrityTokenRequest();\r\n                requestObj.setIntegrityToken(integrityToken);\r\n    \r\n                GoogleCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(&quot;../client_secret.json&quot;));\r\n                HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\r\n    \r\n                HttpTransport HTTP_TRANSPORT = new NetHttpTransport();\r\n                JsonFactory JSON_FACTORY = new JacksonFactory();\r\n                GoogleClientRequestInitializer initialiser = new PlayIntegrityRequestInitializer();\r\n    \r\n                PlayIntegrity.Builder playIntegrity = new PlayIntegrity.Builder(HTTP_TRANSPORT, JSON_FACTORY, requestInitializer).setApplicationName(&quot;AppName&quot;)\r\n                        .setGoogleClientRequestInitializer(initialiser);\r\n                PlayIntegrity play = playIntegrity.build();\r\n    \r\n                DecodeIntegrityTokenResponse response = play.v1().decodeIntegrityToken(&quot;com.k&quot;, requestObj).execute();\r\n                return someActionOnResponse(response);\r\n            } catch (Exception exception) {\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\nOnce I&#39;m trying to deploy my code to Goole Cloud Functions backend I get error:\r\n\r\n    ERROR: (gcloud.functions.deploy) OperationError: code=3, message=Build failed with status: FAILURE and message: ...k.backend.GetMetadata\r\n    [INFO] 11 errors \r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  3.054 s\r\n    [INFO] Finished at: 2023-05-16T05:03:52Z\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project backend: Compilation failure: Compilation failure: \r\n    [ERROR] /workspace/src/main/java/com/k/backend/GetMetadata.java:[9,48] package com.google.api.services.playintegrity.v1 does not exist\r\n    [ERROR] /workspace/src/main/java/com/k/backend/GetMetadata.java:[10,48] package com.google.api.services.playintegrity.v1 does not exist\r\n    [ERROR] /workspace/src/main/java/com/k/backend/GetMetadata.java:[11,54] package com.google.api.services.playintegrity.v1.model does not exist\r\n    [ERROR] /workspace/src/main/java/com/k/backend/GetMetadata.java:[12,54] package com.google.api.services.playintegrity.v1.model does not exist\r\n    [ERROR] /workspace/src/main/java/com/k/backend/GetMetadata.java:[78,9] cannot find symbol\r\n    [ERROR]   symbol:   class DecodeIntegrityTokenRequest\r\n    [ERROR]   location: class com.k.backend.GetMetadata\r\n    ....\r\n\r\nWhat is wrong with my code? Thanks in advance :)\r\n\r\n\r\nUpdate: sorry, my bad, I forgot add dependencies to POM file:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n      &lt;artifactId&gt;google-api-services-playintegrity&lt;/artifactId&gt;\r\n      &lt;version&gt;v1-rev20230105-2.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNow it working fine, thanks!","title":"Issue with run Google Play Intergity code on Google Cloud Functions","body":"<p>I'm trying to run a next code on Google Cloud Functions platform:</p>\n<p>Gradle:</p>\n<pre><code>apply plugin: 'java'\n\nrepositories {\n    mavenCentral()\n}\n\nconfigurations {\n    invoker\n}\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_17\n    targetCompatibility = JavaVersion.VERSION_17\n}\n\ndependencies {\n    compileOnly 'com.google.cloud.functions:functions-framework-api:1.0.4'\n    invoker 'com.google.cloud.functions.invoker:java-function-invoker:1.2.1'\n    implementation 'com.google.cloud:google-cloud-storage:2.1.1'\n    implementation 'com.google.code.gson:gson:2.10.1'\n    implementation 'com.google.apis:google-api-services-playintegrity:v1-rev20230105-2.0.0'\n}\n\ntasks.register(&quot;runFunctionGetMetadata&quot;, JavaExec) {\n    main = 'com.google.cloud.functions.invoker.runner.Invoker'\n    classpath(configurations.invoker)\n    inputs.files(configurations.runtimeClasspath, sourceSets.main.output)\n    args('--target', 'com.k.backend.GetMetadata', '--port', 8081)\n    doFirst {\n        args('--classpath', files(configurations.runtimeClasspath, sourceSets.main.output).asPath)\n    }\n}\n</code></pre>\n<p>Java:</p>\n<pre><code>package com.k.backend;\n\nimport com.google.api.client.googleapis.services.GoogleClientRequestInitializer;\nimport com.google.api.client.http.HttpRequestInitializer;\nimport com.google.api.client.http.HttpTransport;\nimport com.google.api.client.http.javanet.NetHttpTransport;\nimport com.google.api.client.json.JsonFactory;\nimport com.google.api.client.json.jackson2.JacksonFactory;\nimport com.google.api.services.playintegrity.v1.PlayIntegrity;\nimport com.google.api.services.playintegrity.v1.PlayIntegrityRequestInitializer;\nimport com.google.api.services.playintegrity.v1.model.DecodeIntegrityTokenRequest;\nimport com.google.api.services.playintegrity.v1.model.DecodeIntegrityTokenResponse;\nimport com.google.auth.http.HttpCredentialsAdapter;\nimport com.google.auth.oauth2.GoogleCredentials;\nimport com.google.cloud.functions.HttpFunction;\nimport com.google.cloud.functions.HttpRequest;\nimport com.google.cloud.functions.HttpResponse;\nimport com.google.gson.Gson;\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonObject;\n\nimport java.io.BufferedWriter;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.util.Optional;\n\npublic class GetMetadata implements HttpFunction {\n\n    @Override\n    public void service(HttpRequest request, HttpResponse response) throws IOException {\n        JsonObject object = new JsonObject();\n        object.addProperty(&quot;calc1&quot;, calc(arg + 1)); // arg is just random string\n        object.addProperty(&quot;calc2&quot;, calc(arg));\n        String result = new Gson().toJson(object);\n        response.setContentType(&quot;application/json&quot;);\n        BufferedWriter writer = response.getWriter();\n        writer.write(result);\n    }\n\n    private String calc(String integrityToken) {\n        try {\n            DecodeIntegrityTokenRequest requestObj = new DecodeIntegrityTokenRequest();\n            requestObj.setIntegrityToken(integrityToken);\n\n            GoogleCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(&quot;../client_secret.json&quot;));\n            HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\n\n            HttpTransport HTTP_TRANSPORT = new NetHttpTransport();\n            JsonFactory JSON_FACTORY = new JacksonFactory();\n            GoogleClientRequestInitializer initialiser = new PlayIntegrityRequestInitializer();\n\n            PlayIntegrity.Builder playIntegrity = new PlayIntegrity.Builder(HTTP_TRANSPORT, JSON_FACTORY, requestInitializer).setApplicationName(&quot;AppName&quot;)\n                    .setGoogleClientRequestInitializer(initialiser);\n            PlayIntegrity play = playIntegrity.build();\n\n            DecodeIntegrityTokenResponse response = play.v1().decodeIntegrityToken(&quot;com.k&quot;, requestObj).execute();\n            return someActionOnResponse(response);\n        } catch (Exception exception) {\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Once I'm trying to deploy my code to Goole Cloud Functions backend I get error:</p>\n<pre><code>ERROR: (gcloud.functions.deploy) OperationError: code=3, message=Build failed with status: FAILURE and message: ...k.backend.GetMetadata\n[INFO] 11 errors \n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.054 s\n[INFO] Finished at: 2023-05-16T05:03:52Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project backend: Compilation failure: Compilation failure: \n[ERROR] /workspace/src/main/java/com/k/backend/GetMetadata.java:[9,48] package com.google.api.services.playintegrity.v1 does not exist\n[ERROR] /workspace/src/main/java/com/k/backend/GetMetadata.java:[10,48] package com.google.api.services.playintegrity.v1 does not exist\n[ERROR] /workspace/src/main/java/com/k/backend/GetMetadata.java:[11,54] package com.google.api.services.playintegrity.v1.model does not exist\n[ERROR] /workspace/src/main/java/com/k/backend/GetMetadata.java:[12,54] package com.google.api.services.playintegrity.v1.model does not exist\n[ERROR] /workspace/src/main/java/com/k/backend/GetMetadata.java:[78,9] cannot find symbol\n[ERROR]   symbol:   class DecodeIntegrityTokenRequest\n[ERROR]   location: class com.k.backend.GetMetadata\n....\n</code></pre>\n<p>What is wrong with my code? Thanks in advance :)</p>\n<p>Update: sorry, my bad, I forgot add dependencies to POM file:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n  &lt;artifactId&gt;google-api-services-playintegrity&lt;/artifactId&gt;\n  &lt;version&gt;v1-rev20230105-2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Now it working fine, thanks!</p>\n"},{"tags":["java","spring","maven","tomcat"],"owner":{"account_id":28580050,"reputation":1,"user_id":21881134,"display_name":"Victor Miranda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684264584,"creation_date":1684261520,"question_id":76266077,"body_markdown":"I&#39;m trying to run a legacy project from the company&#39;s years and I&#39;m stuck. This http link is in another project folder how do I address it? or how do i solve this? all the settings for the project to run are in a .properties file\r\n\r\n    `java.io.FileNotFoundException: http://127.0.0.1:8080/services/InternalService\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1890)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\r\n    \tat neumann.utility.HTTPMessageSender.sendHTTPMessage(HTTPMessageSender.java:73)\r\n    \tat neumann.gameserver.games.services.externalcommunications.ExtBalancerSender.getBalancerStatusSavedData(ExtBalancerSender.java:106)\r\n    \tat neumann.gameserver.games.services.GamesTrafficLight.getGameServerData(GamesTrafficLight.java:220)\r\n    \tat neumann.gameserver.games.services.GamesTrafficLight.updateEnabledGameList(GamesTrafficLight.java:201)\r\n    \tat neumann.gameserver.games.services.GamesTrafficLight.init(GamesTrafficLight.java:122)\r\n    \tat neumann.gameserver.games.services.GamesTrafficLight.&lt;init&gt;(GamesTrafficLight.java:88)\r\n    \tat neumann.gameserver.games.services.GamesTrafficLight.getInstance(GamesTrafficLight.java:138)\r\n    \tat neumann.gameserver.games.GamesMain.main(GamesMain.java:89)\r\n    Exception in thread &quot;main&quot; neumann.exception.AppException: [GameTrafficLight.getGameServerData] Unable to get Server data from balancer\r\n    \tat neumann.gameserver.games.services.GamesTrafficLight.getGameServerData(GamesTrafficLight.java:222)\r\n    \tat neumann.gameserver.games.services.GamesTrafficLight.updateEnabledGameList(GamesTrafficLight.java:201)\r\n    \tat neumann.gameserver.games.services.GamesTrafficLight.init(GamesTrafficLight.java:122)\r\n    \tat neumann.gameserver.games.services.GamesTrafficLight.&lt;init&gt;(GamesTrafficLight.java:88)\r\n    \tat neumann.gameserver.games.services.GamesTrafficLight.getInstance(GamesTrafficLight.java:138)\r\n    \tat neumann.gameserver.games.GamesMain.main(GamesMain.java:89)\r\n\r\n`\r\n\r\n\r\n\r\nand here is the .properties file\r\n\r\n\r\n\r\n\r\n    app_name=[GS-WS] \r\n    \r\n    email_address0=system.c@egaming.net\r\n    \r\n    smtp_address0=mail.egaming.net\r\n    \r\n    #server_socket_host=10.10.30.12\r\n    server_socket_host=127.0.0.1\r\n    \r\n    server_socket_port=40001:websocketconn\r\n    \r\n    server_running_mode=live\r\n    \r\n    server_logger_name=webapp;applogger;systemmonitor;flashlogger;admintool;1011;1012;1013;1019;1035;1038;1048;1049;1051;1054;1055;1057;1058;1059;2006;4001;4002;4003;5001;5002;5006;9005;9007\r\n    \r\n    server_logger_path=/var/log/services/gs/casinows/\r\n    \r\n    games_list_enabled_game = 1011:100~1012:100~1013:100~1019:100~1035:100~1038:100~1048:100~1049:100~1051:100~1054:100~1055:100~1057:100~1058:100~1059:100~2006:100~4001:100~4002:100~4003:100~5001:100~5002:100~5006:100~6001:100~9003:100~9005:100~9007\r\n    \r\n    \r\n    system_currency = 1\r\n    \r\n    games_cashier_jurisdiction_level = nation\r\n    \r\n    games_initial_cashier = 1\r\n    \r\n    server_database_pool_name=BoneCP:pool:pool_slave\r\n    \r\n    \r\n    #cache_server_data=cache_server_data~192.168.0.1:60001~10~pool\r\n    \r\n    \r\n    \r\n    #balancer_server_data=balancer_server_data~192.168.0.1:60002~10~pool\r\n    \r\n    server_group_type = 1\r\n    \r\n    \r\n    admin_tool_trafficlight = false\r\n    \r\n    internal_service_path =\r\n    login_server_data = http://127.0.0.1:8080/services/InternalService\r\n    \r\n    \r\n    internal_service_url = http://127.0.0.1:8080/services/InternalService\r\n    \r\n    \r\n    \r\n    #cache_system = redis:127.0.0.1:8080\r\n    cache_system = memory\r\n    \r\n    \r\n    \r\n    enable_ping_service =  true\r\n\r\n`\r\n\r\nwhat can i be doing to resolve this?\r\n","title":"How do I address the link folder that returns in the log?","body":"<p>I'm trying to run a legacy project from the company's years and I'm stuck. This http link is in another project folder how do I address it? or how do i solve this? all the settings for the project to run are in a .properties file</p>\n<pre><code>`java.io.FileNotFoundException: http://127.0.0.1:8080/services/InternalService\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1890)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\n    at neumann.utility.HTTPMessageSender.sendHTTPMessage(HTTPMessageSender.java:73)\n    at neumann.gameserver.games.services.externalcommunications.ExtBalancerSender.getBalancerStatusSavedData(ExtBalancerSender.java:106)\n    at neumann.gameserver.games.services.GamesTrafficLight.getGameServerData(GamesTrafficLight.java:220)\n    at neumann.gameserver.games.services.GamesTrafficLight.updateEnabledGameList(GamesTrafficLight.java:201)\n    at neumann.gameserver.games.services.GamesTrafficLight.init(GamesTrafficLight.java:122)\n    at neumann.gameserver.games.services.GamesTrafficLight.&lt;init&gt;(GamesTrafficLight.java:88)\n    at neumann.gameserver.games.services.GamesTrafficLight.getInstance(GamesTrafficLight.java:138)\n    at neumann.gameserver.games.GamesMain.main(GamesMain.java:89)\nException in thread &quot;main&quot; neumann.exception.AppException: [GameTrafficLight.getGameServerData] Unable to get Server data from balancer\n    at neumann.gameserver.games.services.GamesTrafficLight.getGameServerData(GamesTrafficLight.java:222)\n    at neumann.gameserver.games.services.GamesTrafficLight.updateEnabledGameList(GamesTrafficLight.java:201)\n    at neumann.gameserver.games.services.GamesTrafficLight.init(GamesTrafficLight.java:122)\n    at neumann.gameserver.games.services.GamesTrafficLight.&lt;init&gt;(GamesTrafficLight.java:88)\n    at neumann.gameserver.games.services.GamesTrafficLight.getInstance(GamesTrafficLight.java:138)\n    at neumann.gameserver.games.GamesMain.main(GamesMain.java:89)\n</code></pre>\n<p>`</p>\n<p>and here is the .properties file</p>\n<pre><code>app_name=[GS-WS] \n\nemail_address0=system.c@egaming.net\n\nsmtp_address0=mail.egaming.net\n\n#server_socket_host=10.10.30.12\nserver_socket_host=127.0.0.1\n\nserver_socket_port=40001:websocketconn\n\nserver_running_mode=live\n\nserver_logger_name=webapp;applogger;systemmonitor;flashlogger;admintool;1011;1012;1013;1019;1035;1038;1048;1049;1051;1054;1055;1057;1058;1059;2006;4001;4002;4003;5001;5002;5006;9005;9007\n\nserver_logger_path=/var/log/services/gs/casinows/\n\ngames_list_enabled_game = 1011:100~1012:100~1013:100~1019:100~1035:100~1038:100~1048:100~1049:100~1051:100~1054:100~1055:100~1057:100~1058:100~1059:100~2006:100~4001:100~4002:100~4003:100~5001:100~5002:100~5006:100~6001:100~9003:100~9005:100~9007\n\n\nsystem_currency = 1\n\ngames_cashier_jurisdiction_level = nation\n\ngames_initial_cashier = 1\n\nserver_database_pool_name=BoneCP:pool:pool_slave\n\n\n#cache_server_data=cache_server_data~192.168.0.1:60001~10~pool\n\n\n\n#balancer_server_data=balancer_server_data~192.168.0.1:60002~10~pool\n\nserver_group_type = 1\n\n\nadmin_tool_trafficlight = false\n\ninternal_service_path =\nlogin_server_data = http://127.0.0.1:8080/services/InternalService\n\n\ninternal_service_url = http://127.0.0.1:8080/services/InternalService\n\n\n\n#cache_system = redis:127.0.0.1:8080\ncache_system = memory\n\n\n\nenable_ping_service =  true\n</code></pre>\n<p>`</p>\n<p>what can i be doing to resolve this?</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684264334,"creation_date":1684263177,"question_id":76266250,"body_markdown":"I&#39;m following  [this guide][1] on serving static resources with Spring.\r\n\r\nI have this configuration class:\r\n\r\n```\r\n@Configuration\r\npublic class Config implements WebMvcConfigurer  {\r\n \r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n       registry.addResourceHandler(&quot;/files/**&quot;)\r\n            .addResourceLocations(&quot;file:/home/username/springfiles&quot;);\r\n    }\r\n}\r\n```\r\n\r\nthe `/home/username/springfiles` contains:\r\n\r\n```\r\ntest.txt\r\npic.jpg\r\n```\r\n\r\nI try to access each at \r\n\r\n```\r\nhttp://localhost:8082/files/test.txt\r\n```\r\n```\r\nhttp://localhost:8082/files/pic.jpg\r\n```\r\n\r\nand\r\n\r\n```\r\nhttp://localhost:8082/test.txt\r\n```\r\n```\r\nhttp://localhost:8082/pic.jpg\r\n```\r\n\r\nHowever I get \r\n```\r\nWhitelabel Error Page\r\n```\r\nerror.\r\n\r\nWhat am I doing wrong?\r\n\r\nI need my application to be able to save files (images and audio) in `/home/username/springfiles` (as I&#39;ve read it&#39;s better practice as opposed to saving in a database as blobs), and retrieve those files (but only to verified users).\r\n\r\n  [1]: https://www.baeldung.com/spring-mvc-static-resources","title":"Spring serve static resource with addResourceHandlers: doesn&#39;t load file from /home/username/ folder: Whitelabel Error Page","body":"<p>I'm following  <a href=\"https://www.baeldung.com/spring-mvc-static-resources\" rel=\"nofollow noreferrer\">this guide</a> on serving static resources with Spring.</p>\n<p>I have this configuration class:</p>\n<pre><code>@Configuration\npublic class Config implements WebMvcConfigurer  {\n \n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n       registry.addResourceHandler(&quot;/files/**&quot;)\n            .addResourceLocations(&quot;file:/home/username/springfiles&quot;);\n    }\n}\n</code></pre>\n<p>the <code>/home/username/springfiles</code> contains:</p>\n<pre><code>test.txt\npic.jpg\n</code></pre>\n<p>I try to access each at</p>\n<pre><code>http://localhost:8082/files/test.txt\n</code></pre>\n<pre><code>http://localhost:8082/files/pic.jpg\n</code></pre>\n<p>and</p>\n<pre><code>http://localhost:8082/test.txt\n</code></pre>\n<pre><code>http://localhost:8082/pic.jpg\n</code></pre>\n<p>However I get</p>\n<pre><code>Whitelabel Error Page\n</code></pre>\n<p>error.</p>\n<p>What am I doing wrong?</p>\n<p>I need my application to be able to save files (images and audio) in <code>/home/username/springfiles</code> (as I've read it's better practice as opposed to saving in a database as blobs), and retrieve those files (but only to verified users).</p>\n"},{"tags":["java","visual-studio-code","lint"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":5,"creation_date":1636280782,"post_id":69871531,"comment_id":123509934,"body_markdown":"The easiest way to get rid of that warning is by removing any _unused_ import statement.","body":"The easiest way to get rid of that warning is by removing any <i>unused</i> import statement."},{"owner":{"account_id":4099822,"reputation":1256,"user_id":3365667,"display_name":"Roslan Amir"},"score":1,"creation_date":1636292927,"post_id":69871531,"comment_id":123512465,"body_markdown":"I don&#39;t know about VSCode but in IntelliJ/AndroidStudio and Eclipse it&#39;s one combination of keystroke will remove unused imports. I use VSCode for Golang and at every save, all unused imports are removed.","body":"I don&#39;t know about VSCode but in IntelliJ/AndroidStudio and Eclipse it&#39;s one combination of keystroke will remove unused imports. I use VSCode for Golang and at every save, all unused imports are removed."},{"owner":{"account_id":6649964,"reputation":3130,"user_id":5132509,"accept_rate":48,"display_name":"Regis May"},"score":0,"creation_date":1636296031,"post_id":69871531,"comment_id":123513278,"body_markdown":"@RoslanAmir Automatic removal does not happen in VSCode. At least not by default. And I&#39;m not aware of such a functionality: Would be great if it existed, so if someone knows about such kind of features, please tell. I couldn&#39;t find anything like that in the documentation of the VSCode extension.","body":"@RoslanAmir Automatic removal does not happen in VSCode. At least not by default. And I&#39;m not aware of such a functionality: Would be great if it existed, so if someone knows about such kind of features, please tell. I couldn&#39;t find anything like that in the documentation of the VSCode extension."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1684051252,"post_id":69871531,"comment_id":134457776,"body_markdown":"@RegisMay - See https://stackoverflow.com/questions/73104111","body":"@RegisMay - See <a href=\"https://stackoverflow.com/questions/73104111\">stackoverflow.com/questions/73104111</a>"}],"answers":[{"tags":[],"owner":{"account_id":6649964,"reputation":3130,"user_id":5132509,"accept_rate":48,"display_name":"Regis May"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1638349041,"creation_date":1638349041,"answer_id":70181406,"question_id":69871531,"body_markdown":"I finally figured it out. It seems that you need to configure this on project level.\r\n\r\nFor ignoring all unused imports edit the file `.settings/org.eclipse.jdt.core.prefs` and add the following line:\r\n\r\n`org.eclipse.jdt.core.compiler.problem.unusedImport=ignore`","title":"How to disable warnings for unused imports in Java in Visual Studio Code?","body":"<p>I finally figured it out. It seems that you need to configure this on project level.</p>\n<p>For ignoring all unused imports edit the file <code>.settings/org.eclipse.jdt.core.prefs</code> and add the following line:</p>\n<p><code>org.eclipse.jdt.core.compiler.problem.unusedImport=ignore</code></p>\n"},{"comments":[{"owner":{"account_id":6649964,"reputation":3130,"user_id":5132509,"accept_rate":48,"display_name":"Regis May"},"score":0,"creation_date":1686227149,"post_id":76230040,"comment_id":134771894,"body_markdown":"VSCode says &quot;Specify how to enable the annotation-based null analysis&quot; with automatic|interactive|disabled is not really helpful. Is there any kind of documentation on the feature you named? I can&#39;t find any.","body":"VSCode says &quot;Specify how to enable the annotation-based null analysis&quot; with automatic|interactive|disabled is not really helpful. Is there any kind of documentation on the feature you named? I can&#39;t find any."}],"tags":[],"owner":{"account_id":22783060,"reputation":25,"user_id":16938680,"display_name":"skull"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684263923,"creation_date":1683824732,"answer_id":76230040,"question_id":69871531,"body_markdown":"It could have been the VSCode setting. Go to the \r\n.vscode -&gt; settings.json\r\nand set;\r\n\r\n    {\r\n        &quot;java.compile.nullAnalysis.mode&quot;: &quot;disabled&quot;\r\n    }","title":"How to disable warnings for unused imports in Java in Visual Studio Code?","body":"<p>It could have been the VSCode setting. Go to the\n.vscode -&gt; settings.json\nand set;</p>\n<pre><code>{\n    &quot;java.compile.nullAnalysis.mode&quot;: &quot;disabled&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":6649964,"reputation":3130,"user_id":5132509,"accept_rate":48,"display_name":"Regis May"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3146,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70181406,"answer_count":2,"score":3,"last_activity_date":1684263923,"creation_date":1636280304,"question_id":69871531,"body_markdown":"I&#39;m using the standard extension &quot;Language Support for Java(TM) by Red Hat&quot;. How can I disable warnings for unused imports for Java projects in Visual Studio Code?\r\n\r\nMaybe someone knows this and can help, because despite some extensive Google searches I can&#39;t find sufficient information on this. For other languages yes, but not for Java.\r\n","title":"How to disable warnings for unused imports in Java in Visual Studio Code?","body":"<p>I'm using the standard extension &quot;Language Support for Java(TM) by Red Hat&quot;. How can I disable warnings for unused imports for Java projects in Visual Studio Code?</p>\n<p>Maybe someone knows this and can help, because despite some extensive Google searches I can't find sufficient information on this. For other languages yes, but not for Java.</p>\n"},{"tags":["java","spring","dependency-injection","configuration","autowired"],"owner":{"account_id":28212129,"reputation":94,"user_id":21564193,"display_name":"sh-at-cs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684263499,"creation_date":1684263499,"question_id":76266280,"body_markdown":"## Question\r\n\r\nLet&#39;s say that I have a class that takes a lot of constructor parameters which are mostly things that I want to be configurable through the application&#39;s non-hardcoded configuration (e.g. `application.yml` in Spring Boot):\r\n\r\n```java\r\npublic class WantThisConfigured {\r\n    public WantThisConfigured(String configValue1, Integer configValue2, ... many more ...) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nNow I have several Spring Components that need to use instances of this class and importantly, it should be possible to have a different configuration for it in each Component - pseudocode:\r\n\r\n\r\n```java\r\npublic class ComponentThatNeedsToUseIt1 {\r\n    @ConfigureItSomehow(for use in component 1)\r\n    private WantThisConfigured wantThisConfigured;\r\n    ...\r\n}\r\n\r\npublic class ComponentThatNeedsToUseIt2 {\r\n    @ConfigureItSomehow(for use in component 2)\r\n    private WantThisConfigured wantThisConfigured;\r\n    ...\r\n}\r\n\r\n...\r\n```\r\n\r\nWhat would be the least repetitious way to achieve this?\r\n\r\n## Possible approaches I have considered\r\n\r\n### Repetitious option 1: Separate Bean classes for each case, configuration via lots of `@Value` annotations\r\n\r\nThis is probably the simplest option: Just create a new `@Bean`-annotated class for each possible usage of the class and configure it via `@Value` annotations, then have these Beans autowired into the classes that need them by type. You can see how this gets repetitious fast for a large number of configuration values, as I&#39;ll need a lot of Beans that all look the same except for different sections in their `@Value` annotations, e.g. `@Value(&quot;component1.wantthisconfigured.value1&quot;)`, `@Value(&quot;component1.wantthisconfigured.value2&quot;)`, ... for the first component, then `@Value(&quot;component2.wantthisconfigured.value1&quot;)`, `@Value(&quot;component2.wantthisconfigured.value2&quot;)`, ... for the second, and so on.\r\n\r\nThis can be made less repetitious by subclassing so that the `@Value` annotations and their associated variables are the only things that need to be repeated within each class, but still.\r\n\r\n### Repetitious option 2: Separate Beans wired by name, configuration via lots of `@Value` annotations\r\n\r\nVariation on option 1 except we wire Beans in by name instead of by type, so we can get away with just having different methods that produce them for the different cases instead of separate classes. Otherwise the amount of repetition is about the same.\r\n\r\n### Less repetitious option: `@ConfigurationProperties` on subclasses\r\n\r\nI guess what could work would be to define a class that holds all the configuration values named as they should appear in the config, then create subclasses of that class and annotate each with `@ConfigurationProperties(&quot;componentN.wantthisconfigured&quot;)` so that no `@Value` annotations are necessary. When I tried this, there were several issues that make life harder, such as `@ConfigurationProperties` either working via getters and setters (=&gt; need another mechanism to actually instantiate the `WantThisConfigured` instance on demand) or via `@ConstructorBinding` which, AFAICT, needs a constructor in the derived class so again there is repeated boilerplate. There would also always be the remaining repetitious aspect in needing all those different subclasses for each component, plus I&#39;m not sure how idiomatic this is, considering one has to first enable configuration properties globally to make this work at all, SpEL won&#39;t work with this, etc.\r\n\r\n### Impossible option: &quot;Indirect parametrization&quot; (e.g. via `@Value` constructing POJO)\r\n\r\nWhat I&#39;d really want, but don&#39;t think is possible in Spring, would be something that allows me to annotate the variables holding the `WantThisConfigured` instances in the classes where they are used and only determine which config prefix to load their configs from there, e.g.:\r\n\r\n```java\r\npublic class ComponentThatNeedsToUseIt1 {\r\n    @ValuesFrom(&quot;component1.wantthisconfigured&quot;);\r\n    private WantThisConfigured wantThisConfigured;\r\n    ...\r\n}\r\n```\r\n\r\nI thought one workaround to make this work might have been to try and make `@Value` deserialize into a POJO that holds all the config options and takes care of providing an instance of `WantThisConfigured`, but as the answers to the question https://stackoverflow.com/q/65365181/21564193 explain, this isn&#39;t possible.\r\n\r\n## Related questions\r\n\r\n- https://stackoverflow.com/q/56764728/21564193 is effectively the same question, except its author seems fine with some repetition. If I were to implement [its accepted answer](https://stackoverflow.com/a/56764989/21564193) in the scenario described above, I&#39;d have to repeat all the configuration parameters for both `@ConfigurationProperties`-annotated methods, which is exactly what I&#39;m trying to avoid.\r\n- The same for https://stackoverflow.com/q/62641093/21564193 where you can actually see the repetition I&#39;m trying to avoid in the accepted answer.\r\n- https://stackoverflow.com/q/26542150/21564193 is also similar, except its author wants to have the parts of the configuration to use depend on the *Application Context* (a term with a clear definition in Spring, different from &quot;context&quot; in the general sense in which I use it here). \r\n","title":"DRYly configuring &quot;the same&quot; class differently in different user classes in Spring","body":"<h2>Question</h2>\n<p>Let's say that I have a class that takes a lot of constructor parameters which are mostly things that I want to be configurable through the application's non-hardcoded configuration (e.g. <code>application.yml</code> in Spring Boot):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WantThisConfigured {\n    public WantThisConfigured(String configValue1, Integer configValue2, ... many more ...) {\n        ...\n    }\n}\n</code></pre>\n<p>Now I have several Spring Components that need to use instances of this class and importantly, it should be possible to have a different configuration for it in each Component - pseudocode:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ComponentThatNeedsToUseIt1 {\n    @ConfigureItSomehow(for use in component 1)\n    private WantThisConfigured wantThisConfigured;\n    ...\n}\n\npublic class ComponentThatNeedsToUseIt2 {\n    @ConfigureItSomehow(for use in component 2)\n    private WantThisConfigured wantThisConfigured;\n    ...\n}\n\n...\n</code></pre>\n<p>What would be the least repetitious way to achieve this?</p>\n<h2>Possible approaches I have considered</h2>\n<h3>Repetitious option 1: Separate Bean classes for each case, configuration via lots of <code>@Value</code> annotations</h3>\n<p>This is probably the simplest option: Just create a new <code>@Bean</code>-annotated class for each possible usage of the class and configure it via <code>@Value</code> annotations, then have these Beans autowired into the classes that need them by type. You can see how this gets repetitious fast for a large number of configuration values, as I'll need a lot of Beans that all look the same except for different sections in their <code>@Value</code> annotations, e.g. <code>@Value(&quot;component1.wantthisconfigured.value1&quot;)</code>, <code>@Value(&quot;component1.wantthisconfigured.value2&quot;)</code>, ... for the first component, then <code>@Value(&quot;component2.wantthisconfigured.value1&quot;)</code>, <code>@Value(&quot;component2.wantthisconfigured.value2&quot;)</code>, ... for the second, and so on.</p>\n<p>This can be made less repetitious by subclassing so that the <code>@Value</code> annotations and their associated variables are the only things that need to be repeated within each class, but still.</p>\n<h3>Repetitious option 2: Separate Beans wired by name, configuration via lots of <code>@Value</code> annotations</h3>\n<p>Variation on option 1 except we wire Beans in by name instead of by type, so we can get away with just having different methods that produce them for the different cases instead of separate classes. Otherwise the amount of repetition is about the same.</p>\n<h3>Less repetitious option: <code>@ConfigurationProperties</code> on subclasses</h3>\n<p>I guess what could work would be to define a class that holds all the configuration values named as they should appear in the config, then create subclasses of that class and annotate each with <code>@ConfigurationProperties(&quot;componentN.wantthisconfigured&quot;)</code> so that no <code>@Value</code> annotations are necessary. When I tried this, there were several issues that make life harder, such as <code>@ConfigurationProperties</code> either working via getters and setters (=&gt; need another mechanism to actually instantiate the <code>WantThisConfigured</code> instance on demand) or via <code>@ConstructorBinding</code> which, AFAICT, needs a constructor in the derived class so again there is repeated boilerplate. There would also always be the remaining repetitious aspect in needing all those different subclasses for each component, plus I'm not sure how idiomatic this is, considering one has to first enable configuration properties globally to make this work at all, SpEL won't work with this, etc.</p>\n<h3>Impossible option: &quot;Indirect parametrization&quot; (e.g. via <code>@Value</code> constructing POJO)</h3>\n<p>What I'd really want, but don't think is possible in Spring, would be something that allows me to annotate the variables holding the <code>WantThisConfigured</code> instances in the classes where they are used and only determine which config prefix to load their configs from there, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ComponentThatNeedsToUseIt1 {\n    @ValuesFrom(&quot;component1.wantthisconfigured&quot;);\n    private WantThisConfigured wantThisConfigured;\n    ...\n}\n</code></pre>\n<p>I thought one workaround to make this work might have been to try and make <code>@Value</code> deserialize into a POJO that holds all the config options and takes care of providing an instance of <code>WantThisConfigured</code>, but as the answers to the question <a href=\"https://stackoverflow.com/q/65365181/21564193\">Spring possibility to @Value on a Pojo / object</a> explain, this isn't possible.</p>\n<h2>Related questions</h2>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/56764728/21564193\">How to declare multiple object with same class but using different properties in spring boot</a> is effectively the same question, except its author seems fine with some repetition. If I were to implement <a href=\"https://stackoverflow.com/a/56764989/21564193\">its accepted answer</a> in the scenario described above, I'd have to repeat all the configuration parameters for both <code>@ConfigurationProperties</code>-annotated methods, which is exactly what I'm trying to avoid.</li>\n<li>The same for <a href=\"https://stackoverflow.com/q/62641093/21564193\">Autowire 2 instances of the same class in Spring</a> where you can actually see the repetition I'm trying to avoid in the accepted answer.</li>\n<li><a href=\"https://stackoverflow.com/q/26542150/21564193\">Load same class with different set of properties</a> is also similar, except its author wants to have the parts of the configuration to use depend on the <em>Application Context</em> (a term with a clear definition in Spring, different from &quot;context&quot; in the general sense in which I use it here).</li>\n</ul>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","selenium-ide"],"owner":{"account_id":28607198,"reputation":11,"user_id":21902910,"display_name":"darwisht277"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684263330,"creation_date":1684221748,"question_id":76260318,"body_markdown":"There&#39;s &quot;textarea&quot; on &quot;Dashboard&quot; JFrame &amp; &quot;main&quot; java class, need to read data from dashboard textarea into Java Class and do some tasks\r\n\r\n\r\n\r\n1- get data from textarea (links).&lt;br&gt;\r\n2- open it by default browser.&lt;br&gt;\r\n3- wait element to be clickable and click.&lt;br&gt;\r\n4- Thread.sleep with try &amp; catch.&lt;br&gt;\r\n5- wait element to be clickable and click (again).&lt;br&gt;\r\n6- Sync and update the table data faster and accurately.\r\n\r\n\r\n```\r\nJTextArea textarea = new JTextArea();\r\n        textarea.setBackground(Color.WHITE);\r\n        textarea.setFont(new Font(&quot;SansSerif&quot;, Font.PLAIN, 12));\r\n        textarea.setBounds(0, 0, 250, 284);\r\n        textarea.setBorder(null);\r\n\r\n        JScrollPane scrollPane = new JScrollPane(textarea);\r\n        scrollPane.setBounds(44, 69, 250, 284);\r\n\r\n        JScrollBar scrollBar = new JScrollBar(JScrollBar.VERTICAL);\r\n        scrollBar.setBounds(277, 69, 17, 284);\r\n        scrollPane.setVerticalScrollBar(scrollBar);\r\n\r\n        contentPane.add(scrollPane);\r\n\t\t\r\n\t\tJButton start = new JButton(&quot;S T A R T&quot;);\r\n\t\tstart.addActionListener(new ActionListener() {\r\n\t\t    public void actionPerformed(ActionEvent e) {\r\n\t\t    \t\r\n\t\t    String text = textarea.getText();\r\n\r\n\t\t    \tString[] lines = text.split(&quot;\\\\r?\\\\n&quot;);\r\n\r\n\t\t    \tfor (int i = 0; i &lt; lines.length; i += 5) {\r\n\t\t    \t    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\t\t    \t    \r\n\t\t    \t    for (int j = i; j &lt; Math.min(i + 5, lines.length); j++) {\r\n\t\t    \t        list.add(lines[j]);\r\n\t\t    \t    }\r\n\r\n\t\t    \t    String value1 = (list.size() &gt; 0) ? list.get(0) : &quot;&quot;;\r\n\t\t    \t    String value2 = (list.size() &gt; 1) ? list.get(1) : &quot;&quot;;\r\n\t\t    \t    String value3 = (list.size() &gt; 2) ? list.get(2) : &quot;&quot;;\r\n\t\t    \t    String value4 = (list.size() &gt; 3) ? list.get(3) : &quot;&quot;;\r\n\t\t    \t    String value5 = (list.size() &gt; 4) ? list.get(4) : &quot;&quot;;\r\n\r\n\t\t    \t    v1.setText(value1);\r\n\t\t    \t    v2.setText(value2);\r\n\t\t    \t    v3.setText(value3);\r\n\t\t    \t    v4.setText(value4);\r\n\t\t    \t    v5.setText(value5);\r\n\t\t    \t    \r\n\t\t    \t}\r\n\t\t    \t\r\n\t\t    }\r\n\t\t});\r\n\t\tstart.setBackground(Color.BLACK);\r\n\t\tstart.setForeground(Color.WHITE);\r\n\t\tstart.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tstart.setBorder(new LineBorder(Color.WHITE, 1, true));\r\n\t\tstart.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\t\tstart.setFocusPainted(false);\r\n\t\tstart.setContentAreaFilled(false);\r\n\t\tstart.setOpaque(true);\r\n\t\tstart.setBounds(44, 364, 120, 40);\r\n\t\tcontentPane.add(start);\r\n\t\t\r\n\t\tJButton stop = new JButton(&quot;S T O P&quot;);\r\n\t\tstop.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\tstop.setBackground(Color.BLACK);\r\n\t\tstop.setForeground(Color.WHITE);\r\n\t\tstop.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tstop.setFocusPainted(false);\r\n\t\tstop.setContentAreaFilled(false);\r\n\t\tstop.setOpaque(true);\r\n\t\tstop.setBorder(new LineBorder(Color.WHITE, 1, true));\r\n\t\tstop.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\t\tstop.setBounds(174, 364, 120, 40);\r\n\t\tcontentPane.add(stop);\r\n\t\t\r\n\t\tJButton reset = new JButton(&quot;R E S E T&quot;);\r\n\t\treset.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\r\n\t\t\t\tString textArea = textarea.getText();\r\n\t\t\t\tif(textArea.isBlank() || textArea.isEmpty()) {\r\n\t\t\t\t\tassert false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttextarea.setText(&quot;&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\treset.setBorder(new LineBorder(Color.WHITE, 1, true));\r\n\t\treset.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\t\treset.setFocusPainted(false);\r\n\t\treset.setContentAreaFilled(false);\r\n\t\treset.setOpaque(true);\r\n\t\treset.setBackground(Color.BLACK);\r\n\t\treset.setForeground(Color.WHITE);\r\n\t\treset.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\treset.setBounds(44, 415, 250, 40);\r\n\t\tcontentPane.add(reset);\r\n\t\t\r\n\t\tJPanel table = new JPanel();\r\n\t\ttable.setBorder(new LineBorder(Color.GRAY, 2, true));\r\n\t\ttable.setBackground(Color.BLACK);\r\n\t\ttable.setBounds(307, 69, 350, 386);\r\n\t\tcontentPane.add(table);\r\n\t\ttable.setLayout(null);\r\n\t\t\r\n\t\tJPanel x = new JPanel();\r\n\t\tx.setBackground(Color.GRAY);\r\n\t\tx.setBounds(175, 0, 2, 386);\r\n\t\ttable.add(x);\r\n\t\t\r\n\t\tJPanel xxx = new JPanel();\r\n\t\txxx.setBackground(Color.GRAY);\r\n\t\txxx.setBounds(0, 64, 350, 2);\r\n\t\ttable.add(xxx);\r\n\t\t\r\n\t\tJPanel xxxx = new JPanel();\r\n\t\txxxx.setBackground(Color.GRAY);\r\n\t\txxxx.setBounds(0, 128, 350, 2);\r\n\t\ttable.add(xxxx);\r\n\t\t\r\n\t\tJPanel xxxxx = new JPanel();\r\n\t\txxxxx.setBackground(Color.GRAY);\r\n\t\txxxxx.setBounds(0, 192, 350, 2);\r\n\t\ttable.add(xxxxx);\r\n\t\t\r\n\t\tJPanel xxxxxx = new JPanel();\r\n\t\txxxxxx.setBackground(Color.GRAY);\r\n\t\txxxxxx.setBounds(0, 256, 350, 2);\r\n\t\ttable.add(xxxxxx);\r\n\t\t\r\n\t\tJPanel xxxxxxx = new JPanel();\r\n\t\txxxxxxx.setBackground(Color.GRAY);\r\n\t\txxxxxxx.setBounds(0, 320, 350, 2);\r\n\t\ttable.add(xxxxxxx);\r\n\t\t\r\n\t\tJLabel line = new JLabel(&quot;L I N E&quot;);\r\n\t\tline.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tline.setForeground(Color.LIGHT_GRAY);\r\n\t\tline.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tline.setBounds(0, 0, 175, 64);\r\n\t\ttable.add(line);\r\n\t\t\r\n\t\tJLabel x1 = new JLabel(&quot;&quot;);\r\n\t\tx1.setLabelFor(line);\r\n\t\tx1.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 12));\r\n\t\tx1.setForeground(Color.LIGHT_GRAY);\r\n\t\tx1.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tx1.setBounds(0, 64, 175, 64);\r\n\t\ttable.add(x1);\r\n\t\t\r\n\t\tJLabel x2 = new JLabel(&quot;&quot;);\r\n\t\tx2.setLabelFor(line);\r\n\t\tx2.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tx2.setForeground(Color.LIGHT_GRAY);\r\n\t\tx2.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tx2.setBounds(0, 128, 175, 64);\r\n\t\ttable.add(x2);\r\n\t\t\r\n\t\tJLabel x3 = new JLabel(&quot;&quot;);\r\n\t\tx3.setLabelFor(line);\r\n\t\tx3.setForeground(Color.LIGHT_GRAY);\r\n\t\tx3.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tx3.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tx3.setBounds(0, 192, 175, 64);\r\n\t\ttable.add(x3);\r\n\t\t\r\n\t\tJLabel x4 = new JLabel(&quot;&quot;);\r\n\t\tx4.setLabelFor(line);\r\n\t\tx4.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tx4.setForeground(Color.LIGHT_GRAY);\r\n\t\tx4.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tx4.setBounds(0, 256, 175, 64);\r\n\t\ttable.add(x4);\r\n\t\t\r\n\t\tJLabel x5 = new JLabel(&quot;&quot;);\r\n\t\tx5.setLabelFor(line);\r\n\t\tx5.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tx5.setForeground(Color.LIGHT_GRAY);\r\n\t\tx5.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tx5.setBounds(0, 320, 175, 64);\r\n\t\ttable.add(x5);\r\n\t\t\r\n\t\tJLabel link = new JLabel(&quot;L I N K&quot;);\r\n\t\tlink.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlink.setForeground(Color.LIGHT_GRAY);\r\n\t\tlink.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tlink.setBounds(175, 0, 175, 64);\r\n\t\ttable.add(link);\r\n\t\t\r\n\t\tJLabel v1 = new JLabel(&quot;&quot;);\r\n\t\tv1.setLabelFor(link);\r\n\t\tv1.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tv1.setForeground(Color.LIGHT_GRAY);\r\n\t\tv1.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tv1.setBounds(175, 64, 175, 64);\r\n\t\ttable.add(v1);\r\n\t\t\r\n\t\tJLabel v2 = new JLabel(&quot;&quot;);\r\n\t\tv2.setLabelFor(link);\r\n\t\tv2.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tv2.setForeground(Color.LIGHT_GRAY);\r\n\t\tv2.setHorizontalAlignment(SwingConstants.RIGHT);\r\n\t\tv2.setBounds(175, 128, 175, 64);\r\n\t\ttable.add(v2);\r\n\t\t\r\n\t\tJLabel v3 = new JLabel(&quot;&quot;);\r\n\t\tv3.setLabelFor(link);\r\n\t\tv3.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tv3.setForeground(Color.LIGHT_GRAY);\r\n\t\tv3.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tv3.setBounds(175, 192, 175, 64);\r\n\t\ttable.add(v3);\r\n\t\t\r\n\t\tJLabel v4 = new JLabel(&quot;&quot;);\r\n\t\tv4.setLabelFor(link);\r\n\t\tv4.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tv4.setForeground(Color.LIGHT_GRAY);\r\n\t\tv4.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tv4.setBounds(175, 256, 175, 64);\r\n\t\ttable.add(v4);\r\n\t\t\r\n\t\tJLabel v5 = new JLabel(&quot;&quot;);\r\n\t\tv5.setLabelFor(link);\r\n\t\tv5.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tv5.setForeground(Color.LIGHT_GRAY);\r\n\t\tv5.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tv5.setBounds(175, 320, 175, 64);\r\n\t\ttable.add(v5);\r\n```\r\n\r\n```\r\npublic class main {\r\n}\r\n\r\n```","title":"How to read data from JFrame on Java Class?","body":"<p>There's &quot;textarea&quot; on &quot;Dashboard&quot; JFrame &amp; &quot;main&quot; java class, need to read data from dashboard textarea into Java Class and do some tasks</p>\n<p>1- get data from textarea (links).<br>\n2- open it by default browser.<br>\n3- wait element to be clickable and click.<br>\n4- Thread.sleep with try &amp; catch.<br>\n5- wait element to be clickable and click (again).<br>\n6- Sync and update the table data faster and accurately.</p>\n<pre><code>JTextArea textarea = new JTextArea();\n        textarea.setBackground(Color.WHITE);\n        textarea.setFont(new Font(&quot;SansSerif&quot;, Font.PLAIN, 12));\n        textarea.setBounds(0, 0, 250, 284);\n        textarea.setBorder(null);\n\n        JScrollPane scrollPane = new JScrollPane(textarea);\n        scrollPane.setBounds(44, 69, 250, 284);\n\n        JScrollBar scrollBar = new JScrollBar(JScrollBar.VERTICAL);\n        scrollBar.setBounds(277, 69, 17, 284);\n        scrollPane.setVerticalScrollBar(scrollBar);\n\n        contentPane.add(scrollPane);\n        \n        JButton start = new JButton(&quot;S T A R T&quot;);\n        start.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                \n            String text = textarea.getText();\n\n                String[] lines = text.split(&quot;\\\\r?\\\\n&quot;);\n\n                for (int i = 0; i &lt; lines.length; i += 5) {\n                    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n                    \n                    for (int j = i; j &lt; Math.min(i + 5, lines.length); j++) {\n                        list.add(lines[j]);\n                    }\n\n                    String value1 = (list.size() &gt; 0) ? list.get(0) : &quot;&quot;;\n                    String value2 = (list.size() &gt; 1) ? list.get(1) : &quot;&quot;;\n                    String value3 = (list.size() &gt; 2) ? list.get(2) : &quot;&quot;;\n                    String value4 = (list.size() &gt; 3) ? list.get(3) : &quot;&quot;;\n                    String value5 = (list.size() &gt; 4) ? list.get(4) : &quot;&quot;;\n\n                    v1.setText(value1);\n                    v2.setText(value2);\n                    v3.setText(value3);\n                    v4.setText(value4);\n                    v5.setText(value5);\n                    \n                }\n                \n            }\n        });\n        start.setBackground(Color.BLACK);\n        start.setForeground(Color.WHITE);\n        start.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        start.setBorder(new LineBorder(Color.WHITE, 1, true));\n        start.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        start.setFocusPainted(false);\n        start.setContentAreaFilled(false);\n        start.setOpaque(true);\n        start.setBounds(44, 364, 120, 40);\n        contentPane.add(start);\n        \n        JButton stop = new JButton(&quot;S T O P&quot;);\n        stop.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                \n            }\n        });\n        stop.setBackground(Color.BLACK);\n        stop.setForeground(Color.WHITE);\n        stop.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        stop.setFocusPainted(false);\n        stop.setContentAreaFilled(false);\n        stop.setOpaque(true);\n        stop.setBorder(new LineBorder(Color.WHITE, 1, true));\n        stop.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        stop.setBounds(174, 364, 120, 40);\n        contentPane.add(stop);\n        \n        JButton reset = new JButton(&quot;R E S E T&quot;);\n        reset.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                \n                String textArea = textarea.getText();\n                if(textArea.isBlank() || textArea.isEmpty()) {\n                    assert false;\n                } else {\n                    textarea.setText(&quot;&quot;);\n                }\n                \n            }\n        });\n        reset.setBorder(new LineBorder(Color.WHITE, 1, true));\n        reset.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        reset.setFocusPainted(false);\n        reset.setContentAreaFilled(false);\n        reset.setOpaque(true);\n        reset.setBackground(Color.BLACK);\n        reset.setForeground(Color.WHITE);\n        reset.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        reset.setBounds(44, 415, 250, 40);\n        contentPane.add(reset);\n        \n        JPanel table = new JPanel();\n        table.setBorder(new LineBorder(Color.GRAY, 2, true));\n        table.setBackground(Color.BLACK);\n        table.setBounds(307, 69, 350, 386);\n        contentPane.add(table);\n        table.setLayout(null);\n        \n        JPanel x = new JPanel();\n        x.setBackground(Color.GRAY);\n        x.setBounds(175, 0, 2, 386);\n        table.add(x);\n        \n        JPanel xxx = new JPanel();\n        xxx.setBackground(Color.GRAY);\n        xxx.setBounds(0, 64, 350, 2);\n        table.add(xxx);\n        \n        JPanel xxxx = new JPanel();\n        xxxx.setBackground(Color.GRAY);\n        xxxx.setBounds(0, 128, 350, 2);\n        table.add(xxxx);\n        \n        JPanel xxxxx = new JPanel();\n        xxxxx.setBackground(Color.GRAY);\n        xxxxx.setBounds(0, 192, 350, 2);\n        table.add(xxxxx);\n        \n        JPanel xxxxxx = new JPanel();\n        xxxxxx.setBackground(Color.GRAY);\n        xxxxxx.setBounds(0, 256, 350, 2);\n        table.add(xxxxxx);\n        \n        JPanel xxxxxxx = new JPanel();\n        xxxxxxx.setBackground(Color.GRAY);\n        xxxxxxx.setBounds(0, 320, 350, 2);\n        table.add(xxxxxxx);\n        \n        JLabel line = new JLabel(&quot;L I N E&quot;);\n        line.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        line.setForeground(Color.LIGHT_GRAY);\n        line.setHorizontalAlignment(SwingConstants.CENTER);\n        line.setBounds(0, 0, 175, 64);\n        table.add(line);\n        \n        JLabel x1 = new JLabel(&quot;&quot;);\n        x1.setLabelFor(line);\n        x1.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 12));\n        x1.setForeground(Color.LIGHT_GRAY);\n        x1.setHorizontalAlignment(SwingConstants.CENTER);\n        x1.setBounds(0, 64, 175, 64);\n        table.add(x1);\n        \n        JLabel x2 = new JLabel(&quot;&quot;);\n        x2.setLabelFor(line);\n        x2.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        x2.setForeground(Color.LIGHT_GRAY);\n        x2.setHorizontalAlignment(SwingConstants.CENTER);\n        x2.setBounds(0, 128, 175, 64);\n        table.add(x2);\n        \n        JLabel x3 = new JLabel(&quot;&quot;);\n        x3.setLabelFor(line);\n        x3.setForeground(Color.LIGHT_GRAY);\n        x3.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        x3.setHorizontalAlignment(SwingConstants.CENTER);\n        x3.setBounds(0, 192, 175, 64);\n        table.add(x3);\n        \n        JLabel x4 = new JLabel(&quot;&quot;);\n        x4.setLabelFor(line);\n        x4.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        x4.setForeground(Color.LIGHT_GRAY);\n        x4.setHorizontalAlignment(SwingConstants.CENTER);\n        x4.setBounds(0, 256, 175, 64);\n        table.add(x4);\n        \n        JLabel x5 = new JLabel(&quot;&quot;);\n        x5.setLabelFor(line);\n        x5.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        x5.setForeground(Color.LIGHT_GRAY);\n        x5.setHorizontalAlignment(SwingConstants.CENTER);\n        x5.setBounds(0, 320, 175, 64);\n        table.add(x5);\n        \n        JLabel link = new JLabel(&quot;L I N K&quot;);\n        link.setHorizontalAlignment(SwingConstants.CENTER);\n        link.setForeground(Color.LIGHT_GRAY);\n        link.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        link.setBounds(175, 0, 175, 64);\n        table.add(link);\n        \n        JLabel v1 = new JLabel(&quot;&quot;);\n        v1.setLabelFor(link);\n        v1.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        v1.setForeground(Color.LIGHT_GRAY);\n        v1.setHorizontalAlignment(SwingConstants.CENTER);\n        v1.setBounds(175, 64, 175, 64);\n        table.add(v1);\n        \n        JLabel v2 = new JLabel(&quot;&quot;);\n        v2.setLabelFor(link);\n        v2.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        v2.setForeground(Color.LIGHT_GRAY);\n        v2.setHorizontalAlignment(SwingConstants.RIGHT);\n        v2.setBounds(175, 128, 175, 64);\n        table.add(v2);\n        \n        JLabel v3 = new JLabel(&quot;&quot;);\n        v3.setLabelFor(link);\n        v3.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        v3.setForeground(Color.LIGHT_GRAY);\n        v3.setHorizontalAlignment(SwingConstants.CENTER);\n        v3.setBounds(175, 192, 175, 64);\n        table.add(v3);\n        \n        JLabel v4 = new JLabel(&quot;&quot;);\n        v4.setLabelFor(link);\n        v4.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        v4.setForeground(Color.LIGHT_GRAY);\n        v4.setHorizontalAlignment(SwingConstants.CENTER);\n        v4.setBounds(175, 256, 175, 64);\n        table.add(v4);\n        \n        JLabel v5 = new JLabel(&quot;&quot;);\n        v5.setLabelFor(link);\n        v5.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        v5.setForeground(Color.LIGHT_GRAY);\n        v5.setHorizontalAlignment(SwingConstants.CENTER);\n        v5.setBounds(175, 320, 175, 64);\n        table.add(v5);\n</code></pre>\n<pre><code>public class main {\n}\n\n</code></pre>\n"},{"tags":["java","android","ios","flutter","kotlin"],"comments":[{"owner":{"account_id":19664084,"reputation":1054,"user_id":14394936,"display_name":"BabC"},"score":1,"creation_date":1629128444,"post_id":68805428,"comment_id":121599434,"body_markdown":"I suggest you to select the latest langage/version (like kotlin over java for android). So you won&#39;t have any trouble during your process. But as you said it&#39;s not important for you, until you have to inject some code in each native part.","body":"I suggest you to select the latest langage/version (like kotlin over java for android). So you won&#39;t have any trouble during your process. But as you said it&#39;s not important for you, until you have to inject some code in each native part."}],"answers":[{"tags":[],"owner":{"account_id":22481751,"reputation":31,"user_id":16680739,"display_name":"Aman Kumar Sinha"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629128938,"creation_date":1629128938,"answer_id":68805794,"question_id":68805428,"body_markdown":"Depends on whether your app will be requiring access to Android or iOS Platform API. In most cases, there are plugins available at [pub.dev][1] for many of the APIs. But in case there is no plugin available for the API you need(rare cases), you will need to write platform specific code ([refer platform integration docs][2]) in the language you selected at beginning.\r\n\r\nIn most cases, selecting the language won&#39;t matter but it is recommended to use Kotlin for Android and Swift for iOS.\r\n\r\n\r\n  [1]: https://pub.dev\r\n  [2]: https://flutter.dev/docs/development/platform-integration/platform-channels","title":"How important selecting android language while creating a new flutter project?","body":"<p>Depends on whether your app will be requiring access to Android or iOS Platform API. In most cases, there are plugins available at <a href=\"https://pub.dev\" rel=\"nofollow noreferrer\">pub.dev</a> for many of the APIs. But in case there is no plugin available for the API you need(rare cases), you will need to write platform specific code (<a href=\"https://flutter.dev/docs/development/platform-integration/platform-channels\" rel=\"nofollow noreferrer\">refer platform integration docs</a>) in the language you selected at beginning.</p>\n<p>In most cases, selecting the language won't matter but it is recommended to use Kotlin for Android and Swift for iOS.</p>\n"},{"tags":[],"owner":{"account_id":17975311,"reputation":232,"user_id":13063054,"display_name":"Aniket kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629267751,"creation_date":1629267751,"answer_id":68827432,"question_id":68805428,"body_markdown":"Although for now you won&#39;t be coding in those native languages and most probably there is a good chance that all the platform related APIs you may need to integrate in future might be available in form of flutter plugin, but assuming at some point in future you might plan to scale your project further, then at some point you might have to deal with the native code for some specific feature.\r\n\r\nSo IMO it is a good practice to choose the programming language for native code wisely. I will recommend to always choose Kotlin for android because google follows Kotlin first approach along with that kotlin is a modern language and it has lots of advantages over java.\r\n\r\nFor ios Swift is recommended language due to similar reasons as kotlin.","title":"How important selecting android language while creating a new flutter project?","body":"<p>Although for now you won't be coding in those native languages and most probably there is a good chance that all the platform related APIs you may need to integrate in future might be available in form of flutter plugin, but assuming at some point in future you might plan to scale your project further, then at some point you might have to deal with the native code for some specific feature.</p>\n<p>So IMO it is a good practice to choose the programming language for native code wisely. I will recommend to always choose Kotlin for android because google follows Kotlin first approach along with that kotlin is a modern language and it has lots of advantages over java.</p>\n<p>For ios Swift is recommended language due to similar reasons as kotlin.</p>\n"},{"tags":[],"owner":{"account_id":16954121,"reputation":138,"user_id":12262956,"display_name":"Muhammad Afzal"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1684263130,"creation_date":1684263130,"answer_id":76266243,"question_id":68805428,"body_markdown":"Normally, it doesn&#39;t matter whether you choose Kotlin or Java for Android, Swift, or Objective-C for iOS because you won&#39;t need these languages in Flutter app development unless you want to add platform-specific features.\r\n\r\nFor example, suppose you are working on a Flutter app and you need to add a specific functionality called &#39;XYZ.&#39; But Flutter doesn&#39;t support that functionality. Normally, this won&#39;t be the case because Flutter provides built-in libraries or plugins to solve most problems. However, let&#39;s assume that the specific functionality is not supported in Flutter but is available in Kotlin and Swift.\r\n\r\nIn such cases, you would implement that specific functionality using Java or Kotlin for the Android app and Swift or Objective-C for the iOS app.\r\n\r\nSo, in those particular scenarios, you should have knowledge of either Java or Kotlin, and either Swift or Objective-C.\r\n\r\nIf you are familiar with Java, choose Java. If you are familiar with Kotlin, choose Kotlin. And if you are not familiar with any of these languages, then for Android, select Kotlin, and for iOS, select Swift. Kotlin is a modern and recommended language for Android app development by Google, while Swift is recommended over Objective-C by Apple.\r\n\r\nThe language you choose will be used to generate the code for both the Android and iOS apps, which I will demonstrate at the end of this video","title":"How important selecting android language while creating a new flutter project?","body":"<p>Normally, it doesn't matter whether you choose Kotlin or Java for Android, Swift, or Objective-C for iOS because you won't need these languages in Flutter app development unless you want to add platform-specific features.</p>\n<p>For example, suppose you are working on a Flutter app and you need to add a specific functionality called 'XYZ.' But Flutter doesn't support that functionality. Normally, this won't be the case because Flutter provides built-in libraries or plugins to solve most problems. However, let's assume that the specific functionality is not supported in Flutter but is available in Kotlin and Swift.</p>\n<p>In such cases, you would implement that specific functionality using Java or Kotlin for the Android app and Swift or Objective-C for the iOS app.</p>\n<p>So, in those particular scenarios, you should have knowledge of either Java or Kotlin, and either Swift or Objective-C.</p>\n<p>If you are familiar with Java, choose Java. If you are familiar with Kotlin, choose Kotlin. And if you are not familiar with any of these languages, then for Android, select Kotlin, and for iOS, select Swift. Kotlin is a modern and recommended language for Android app development by Google, while Swift is recommended over Objective-C by Apple.</p>\n<p>The language you choose will be used to generate the code for both the Android and iOS apps, which I will demonstrate at the end of this video</p>\n"}],"owner":{"account_id":19487248,"reputation":207,"user_id":14256324,"display_name":"Ertuğrul &#199;akıcı"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1922,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1684263130,"creation_date":1629127431,"question_id":68805428,"body_markdown":"When I create a flutter app with the android studio I see the options for selecting the specified language for both android and IOS. I do not know how to code with these languages so, I won&#39;t code with them. Therefore, I thought selecting one of them is not important for me, isn&#39;t it? ","title":"How important selecting android language while creating a new flutter project?","body":"<p>When I create a flutter app with the android studio I see the options for selecting the specified language for both android and IOS. I do not know how to code with these languages so, I won't code with them. Therefore, I thought selecting one of them is not important for me, isn't it?</p>\n"},{"tags":["java","mysql","hibernate","blob"],"answers":[{"comments":[{"owner":{"account_id":10951822,"reputation":145,"user_id":8048032,"accept_rate":8,"display_name":"user8048032"},"score":0,"creation_date":1495457128,"post_id":44113152,"comment_id":75245742,"body_markdown":"First do I need to convert this image to byte ?  or is there any other way ?","body":"First do I need to convert this image to byte ?  or is there any other way ?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1495457550,"post_id":44113152,"comment_id":75246020,"body_markdown":"I&#39;ve used `byte[] fileData = FileUtil.getBytes(file);`","body":"I&#39;ve used <code>byte[] fileData = FileUtil.getBytes(file);</code>"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1495457941,"post_id":44113152,"comment_id":75246292,"body_markdown":"If you use Struts it directly stores files to the action bean, you don&#39;t need to maze with other frameworks like commons-fileupload.","body":"If you use Struts it directly stores files to the action bean, you don&#39;t need to maze with other frameworks like commons-fileupload."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495456934,"creation_date":1495456934,"answer_id":44113152,"question_id":44112940,"body_markdown":"The equivalent mapping type for Blob in Java for MySQL is `byte[]`. You should use the corresponding dialect in Hibernate and annotate a property something like\r\n\r\n  \r\n\r\n    @Lob\r\n    @Column(name = &quot;data&quot;, columnDefinition = &quot;blob&quot;, length = 16777215)\r\n    public byte[] getData() {\r\n      return this.data;\r\n    }\r\n\r\n","title":"How to save this image to MySQL database using HIbernate as BLOB?","body":"<p>The equivalent mapping type for Blob in Java for MySQL is <code>byte[]</code>. You should use the corresponding dialect in Hibernate and annotate a property something like</p>\n\n<pre><code>@Lob\n@Column(name = \"data\", columnDefinition = \"blob\", length = 16777215)\npublic byte[] getData() {\n  return this.data;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10344652,"reputation":192,"user_id":7629986,"accept_rate":40,"display_name":"Harshad_Kenjale"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495458132,"creation_date":1495458132,"answer_id":44113601,"question_id":44112940,"body_markdown":"This is a demo example please go through it and ask if any problem u have \r\n\r\nhttps://github.com/loiane/hibernate-image-example\r\n\r\nexplanation of above example:\r\n\r\nhttps://dzone.com/articles/how-load-or-save-image-using\r\n","title":"How to save this image to MySQL database using HIbernate as BLOB?","body":"<p>This is a demo example please go through it and ask if any problem u have </p>\n\n<p><a href=\"https://github.com/loiane/hibernate-image-example\" rel=\"nofollow noreferrer\">https://github.com/loiane/hibernate-image-example</a></p>\n\n<p>explanation of above example:</p>\n\n<p><a href=\"https://dzone.com/articles/how-load-or-save-image-using\" rel=\"nofollow noreferrer\">https://dzone.com/articles/how-load-or-save-image-using</a></p>\n"}],"owner":{"account_id":10951822,"reputation":145,"user_id":8048032,"accept_rate":8,"display_name":"user8048032"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1017,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1684263104,"creation_date":1495456286,"question_id":44112940,"body_markdown":"How can I save this uploaded image to MySQL database using Hibernate?  Do I need to convert this image to byte array or is there any other way to do this?\r\n\r\n    try {\r\n        // parses the request&#39;s content to extract file data\r\n        List formItems = upload.parseRequest(request);\r\n        Iterator iter = formItems.iterator();\r\n\r\n        // iterates over form&#39;s fields\r\n        while (iter.hasNext()) {\r\n            FileItem item = (FileItem) iter.next();\r\n            // processes only fields that are not form fields\r\n            if (!item.isFormField()) {\r\n                String fileName = new File(item.getName()).getName();\r\n                String filePath = uploadPath + File.separator + fileName;\r\n                File storeFile = new File(filePath);\r\n\r\n                System.out.println(&quot;Image file name is :&quot; + fileName);\r\n\r\n                // saves the file on disk\r\n                item.write(storeFile);\r\n\r\n            }\r\n        }\r\n    }\r\n","title":"How to save this image to MySQL database using HIbernate as BLOB?","body":"<p>How can I save this uploaded image to MySQL database using Hibernate?  Do I need to convert this image to byte array or is there any other way to do this?</p>\n<pre><code>try {\n    // parses the request's content to extract file data\n    List formItems = upload.parseRequest(request);\n    Iterator iter = formItems.iterator();\n\n    // iterates over form's fields\n    while (iter.hasNext()) {\n        FileItem item = (FileItem) iter.next();\n        // processes only fields that are not form fields\n        if (!item.isFormField()) {\n            String fileName = new File(item.getName()).getName();\n            String filePath = uploadPath + File.separator + fileName;\n            File storeFile = new File(filePath);\n\n            System.out.println(&quot;Image file name is :&quot; + fileName);\n\n            // saves the file on disk\n            item.write(storeFile);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","cassandra","spring-data","spring-data-cassandra"],"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684262651,"creation_date":1684262651,"question_id":76266189,"body_markdown":"I have a Spring Cassandra entity class as follows:\r\n\r\n```\r\n@Builder\r\n@Table(value = &quot;#{@environment.getProperty(&#39;my.table.name&#39;)}&quot;)\r\npublic class UserEntity {\r\n  @PrimaryKeyColumn(name = &quot;id&quot;, ordinal = 0, type = PrimaryKeyType.PARTITIONED)\r\n    private String id;\r\n  // Other fields defined\r\n}\r\n```\r\n\r\nThis is my configuration\r\n```\r\nmy.table.name: User\r\n```\r\n\r\nHere, &quot;my.table.name&quot; is being passed from my config [equivalent to a @Value] file using SpEL support. This works as expected.\r\n\r\nNow, the problem is with my Repository class.\r\n\r\n```\r\n@Repository\r\npublic interface UserRepository extends ReactiveCassandraRepository&lt;UserEntity, String&gt; {\r\n    @Query(&quot;UPDATE User SET count = count + 1 WHERE id = ?0&quot;)\r\n    Flux&lt;UserEntity&gt; incrementCount(String id);\r\n}\r\n```\r\n\r\nHere I am unable to find an expression [SpEL] to replace the table name &quot;User&quot; in @Query with a variable [a configuration such as @Value]. Is there a possibility to get this done?","title":"Spring Data and Cassandra @Query with variable table names","body":"<p>I have a Spring Cassandra entity class as follows:</p>\n<pre><code>@Builder\n@Table(value = &quot;#{@environment.getProperty('my.table.name')}&quot;)\npublic class UserEntity {\n  @PrimaryKeyColumn(name = &quot;id&quot;, ordinal = 0, type = PrimaryKeyType.PARTITIONED)\n    private String id;\n  // Other fields defined\n}\n</code></pre>\n<p>This is my configuration</p>\n<pre><code>my.table.name: User\n</code></pre>\n<p>Here, &quot;my.table.name&quot; is being passed from my config [equivalent to a @Value] file using SpEL support. This works as expected.</p>\n<p>Now, the problem is with my Repository class.</p>\n<pre><code>@Repository\npublic interface UserRepository extends ReactiveCassandraRepository&lt;UserEntity, String&gt; {\n    @Query(&quot;UPDATE User SET count = count + 1 WHERE id = ?0&quot;)\n    Flux&lt;UserEntity&gt; incrementCount(String id);\n}\n</code></pre>\n<p>Here I am unable to find an expression [SpEL] to replace the table name &quot;User&quot; in @Query with a variable [a configuration such as @Value]. Is there a possibility to get this done?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1684194001,"post_id":76258378,"comment_id":134478766,"body_markdown":"Spring is not JPA, and will change the naming formats used by Hibernate by default so that camel case gets translated to snake format - there are numerous questions on it, but what works for JPA (which would default to a column &#39;ATTRB&#39; or &#39;attrb&#39; because dbs are generally case insensitive, works to be &#39;attr_b&#39; in spring.  In your code, what is the &quot;attrBValue&quot; that you are passing to the setAttrB method? You are printing the existing DB attrB value, but not the one you are setting it to - could it be null?","body":"Spring is not JPA, and will change the naming formats used by Hibernate by default so that camel case gets translated to snake format - there are numerous questions on it, but what works for JPA (which would default to a column &#39;ATTRB&#39; or &#39;attrb&#39; because dbs are generally case insensitive, works to be &#39;attr_b&#39; in spring.  In your code, what is the &quot;attrBValue&quot; that you are passing to the setAttrB method? You are printing the existing DB attrB value, but not the one you are setting it to - could it be null?"},{"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"score":0,"creation_date":1684195527,"post_id":76258378,"comment_id":134478900,"body_markdown":"@Chris, thanks for answering the name convention concern. For the printing value, I didn&#39;t have a new value for it. As you can see, I load the entity from db and only update the attrA (not attrB) and then want to save it back to db. To summarize, only the attrA&#39;s value needs to be changed. I expect the rest column value stay the same.","body":"@Chris, thanks for answering the name convention concern. For the printing value, I didn&#39;t have a new value for it. As you can see, I load the entity from db and only update the attrA (not attrB) and then want to save it back to db. To summarize, only the attrA&#39;s value needs to be changed. I expect the rest column value stay the same."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1684245842,"post_id":76258378,"comment_id":134487746,"body_markdown":"It will be something you haven&#39;t shown, as what you&#39;ve outlined as happening isn&#39;t normal for what you have. What is your save method doing exactly? Does this happen for all instances or just on this field in one entity in one situation?","body":"It will be something you haven&#39;t shown, as what you&#39;ve outlined as happening isn&#39;t normal for what you have. What is your save method doing exactly? Does this happen for all instances or just on this field in one entity in one situation?"},{"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"score":0,"creation_date":1684249641,"post_id":76258378,"comment_id":134488837,"body_markdown":"The save method is being used by some other callers, I believe. I also edit my post including the save() method.","body":"The save method is being used by some other callers, I believe. I also edit my post including the save() method."},{"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"score":0,"creation_date":1684262390,"post_id":76258378,"comment_id":134491927,"body_markdown":"@Chris, you are right. Some folks recently added PrePersist and PreUpdate in the Entity file, which overwrites the attrB. Please make your comment to be an answer. I will accept it. Thanks again for your help.","body":"@Chris, you are right. Some folks recently added PrePersist and PreUpdate in the Entity file, which overwrites the attrB. Please make your comment to be an answer. I will accept it. Thanks again for your help."}],"answers":[{"tags":[],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684262309,"creation_date":1684262309,"answer_id":76266165,"question_id":76258378,"body_markdown":"The issue was found. Some other folks recently added @preUpdate and @prePersist methods in the Entity file, which overwrites attrB. ","title":"why I got an exception complaining that I have a null value of the attribute (which is not as I printed out in code)","body":"<p>The issue was found. Some other folks recently added @preUpdate and @prePersist methods in the Entity file, which overwrites attrB.</p>\n"}],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684262309,"creation_date":1684191162,"question_id":76258378,"body_markdown":"I have a code for updating a db table record - load the entity from the db and then set attribute A and save it back to the db (attrB should stay the same value as before). However, I keep getting an exception as below: \r\n\r\n```ConstraintViolationImpl{interpolatedMessage=&#39;must not be null&#39;, propertyPath=attrB, rootBeanClass=class ......```\r\n\r\nBelow is my entity file and code\r\n\r\nEntity file: \r\n\r\n    @Getter\r\n    @Setter\r\n    @SuperBuilder\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;myEntity&quot;)\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    public class BaseMyEntity extends BaseEntity {\r\n    \t@NotNull\r\n    \tprivate String attrA;\r\n    \r\n    \t@NotNull\r\n    \tprivate UUID attrC;\r\n    \r\n        ......\r\n    }\r\n\r\nand base entity file is \r\n\r\n    public class BaseEntity {\r\n    \t@Id\r\n    \tprivate UUID id;\r\n    \r\n    \t@NotNull\r\n    \tprotected UUID attrB;\r\n    \r\n        ......\r\n    }\r\n\r\nAnd the update code is \r\n\r\n        @Transactional\r\n    \tpublic boolean updateAttrB(UUID attrBValue) {\r\n    \t\tOptional&lt;T&gt; entityOptional = getRepository().findById(id);\r\n    \t\tT entity = entityOptional.get();\r\n            entity.setAttrA(attrBValue);  // change A&#39;s value, keep B same\r\n    \t\tSystem.out.printlin(&quot;attrB: &quot; + entity.getAttrB());  // print out and see\r\n    \t\t\r\n    \t\tsave(entity);\r\n\r\n    \t\treturn true;\r\n    \t}\r\n\r\n        protected T save(T entity) {\r\n    \t\treturn getRepository().saveAndFlush(entity);\r\n    \t}\r\n\r\nAs you can see from the code, I try to see the attrB value. It did has an UUID value printed out, which is the value existed in the db.\r\n\r\nMoreover, please note the attrB field in the entity file should corresponds to a column called attr_b in the table. The code was there from day one. It is still mystery for me to find out how does attr_b map to attrB without specify any annotation. Not sure if it is related. But thought worth to mention. \r\n\r\nPlease help. Thanks in advance. ","title":"why I got an exception complaining that I have a null value of the attribute (which is not as I printed out in code)","body":"<p>I have a code for updating a db table record - load the entity from the db and then set attribute A and save it back to the db (attrB should stay the same value as before). However, I keep getting an exception as below:</p>\n<p><code>ConstraintViolationImpl{interpolatedMessage='must not be null', propertyPath=attrB, rootBeanClass=class ......</code></p>\n<p>Below is my entity file and code</p>\n<p>Entity file:</p>\n<pre><code>@Getter\n@Setter\n@SuperBuilder\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;myEntity&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class BaseMyEntity extends BaseEntity {\n    @NotNull\n    private String attrA;\n\n    @NotNull\n    private UUID attrC;\n\n    ......\n}\n</code></pre>\n<p>and base entity file is</p>\n<pre><code>public class BaseEntity {\n    @Id\n    private UUID id;\n\n    @NotNull\n    protected UUID attrB;\n\n    ......\n}\n</code></pre>\n<p>And the update code is</p>\n<pre><code>    @Transactional\n    public boolean updateAttrB(UUID attrBValue) {\n        Optional&lt;T&gt; entityOptional = getRepository().findById(id);\n        T entity = entityOptional.get();\n        entity.setAttrA(attrBValue);  // change A's value, keep B same\n        System.out.printlin(&quot;attrB: &quot; + entity.getAttrB());  // print out and see\n        \n        save(entity);\n\n        return true;\n    }\n\n    protected T save(T entity) {\n        return getRepository().saveAndFlush(entity);\n    }\n</code></pre>\n<p>As you can see from the code, I try to see the attrB value. It did has an UUID value printed out, which is the value existed in the db.</p>\n<p>Moreover, please note the attrB field in the entity file should corresponds to a column called attr_b in the table. The code was there from day one. It is still mystery for me to find out how does attr_b map to attrB without specify any annotation. Not sure if it is related. But thought worth to mention.</p>\n<p>Please help. Thanks in advance.</p>\n"},{"tags":["java","eclipse","javafx","installation","efxclipse"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1684261884,"post_id":76265957,"comment_id":134491813,"body_markdown":"I would start by uninstalling the plugin and reinstalling it. It that doesn&#39;t work, I would uninstall Eclipse and reinstall Eclipse and the plugin.","body":"I would start by uninstalling the plugin and reinstalling it. It that doesn&#39;t work, I would uninstall Eclipse and reinstall Eclipse and the plugin."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1684262017,"post_id":76265957,"comment_id":134491854,"body_markdown":"It&#39;s been a while since I switched from Eclipse to IntelliJ. I remember an error like this (though I can&#39;t be sure if it&#39;s exactly the same). I think I resolved it by selecting a very minimal part of E(fx)clipse, which included the basic plugins etc.","body":"It&#39;s been a while since I switched from Eclipse to IntelliJ. I remember an error like this (though I can&#39;t be sure if it&#39;s exactly the same). I think I resolved it by selecting a very minimal part of E(fx)clipse, which included the basic plugins etc."}],"owner":{"account_id":19519702,"reputation":19,"user_id":14281861,"display_name":"Saynov Dias"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684261056,"creation_date":1684260387,"question_id":76265957,"body_markdown":"Calculating requirements and dependencies takes very long time and got this [strange request to login][2]  \r\nAnd during installing time this comes\r\n[Install error][1]  \r\nFull text:\r\n`An error occurred while collecting items to be installed\r\nsession context was:(profile=C__Users_Диас_Desktop_JAVA_eclipse, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\r\nResult of processing steps.    \r\nOK\r\nOK\r\nOK\r\nPublic key not found for -9147676190077153272.\r\nOK\r\nResult of processing steps.\r\nOK\r\nOK\r\nOK\r\nPublic key not found for -9147676190077153272.\r\nOK `\r\n\r\nMy eclipse version:   \r\nVersion: 2021-06 (4.20.0)  \r\nBuild id: 20210612-2011\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XBFQK.png\r\n  [2]: https://i.stack.imgur.com/KC2GI.png\r\n\r\n\r\nDoes someone have same problem ?\r\nWhat I can do?","title":"Error while installing e(fx)clipse plugin","body":"<p>Calculating requirements and dependencies takes very long time and got this <a href=\"https://i.stack.imgur.com/KC2GI.png\" rel=\"nofollow noreferrer\">strange request to login</a><br />\nAnd during installing time this comes\n<a href=\"https://i.stack.imgur.com/XBFQK.png\" rel=\"nofollow noreferrer\">Install error</a><br />\nFull text:\n<code>An error occurred while collecting items to be installed session context was:(profile=C__Users_Диас_Desktop_JAVA_eclipse, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=). Result of processing steps.     OK OK OK Public key not found for -9147676190077153272. OK Result of processing steps. OK OK OK Public key not found for -9147676190077153272. OK </code></p>\n<p>My eclipse version:<br />\nVersion: 2021-06 (4.20.0)<br />\nBuild id: 20210612-2011</p>\n<p>Does someone have same problem ?\nWhat I can do?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1684256932,"post_id":76265356,"comment_id":134490753,"body_markdown":"Just change the package of the main class to be a root of all other packages. Like com.example. This will help Spring to auto-configure.","body":"Just change the package of the main class to be a root of all other packages. Like com.example. This will help Spring to auto-configure."}],"answers":[{"tags":[],"owner":{"account_id":7888329,"reputation":58,"user_id":5959501,"display_name":"Lucas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684260764,"creation_date":1684260764,"answer_id":76266001,"question_id":76265356,"body_markdown":"Please remove trailing slash from url in postman\r\n\r\n&gt; Currently, an endpoint registered in controller matches by default the defined path with trailing slash – for example, @GetMapping(“/some/greeting”) will match both /some/greeting and /some/greeting/ paths. In Spring Boot 3 this will no longer be supported by default due to security concerns. The previous behavior can be activated with appropriate configuration, although it is recommended to adjust the web application to use the new approach. \r\n\r\nhttps://github.com/spring-projects/spring-framework/issues/28552","title":"404 error for post request using springboot","body":"<p>Please remove trailing slash from url in postman</p>\n<blockquote>\n<p>Currently, an endpoint registered in controller matches by default the defined path with trailing slash – for example, @GetMapping(“/some/greeting”) will match both /some/greeting and /some/greeting/ paths. In Spring Boot 3 this will no longer be supported by default due to security concerns. The previous behavior can be activated with appropriate configuration, although it is recommended to adjust the web application to use the new approach.</p>\n</blockquote>\n<p><a href=\"https://github.com/spring-projects/spring-framework/issues/28552\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/28552</a></p>\n"}],"owner":{"account_id":23126238,"reputation":63,"user_id":17231999,"display_name":"Sahil Sahu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684260840,"creation_date":1684255000,"question_id":76265356,"body_markdown":"I am getting a 404 error for the following post request. This is the first API I am making using spring-boot. Is there something I am missing? What&#39;s going wrong?\r\n\r\nThis is how I am calling the request from postman:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMain file\r\n\r\n```\r\n\r\n@SpringBootApplication\r\n@EntityScan(basePackages = { &quot;com.example.entities.*&quot; })\r\n@EnableAutoConfiguration\r\npublic class BloggingAppApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(BloggingAppApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nController file. It just has one function for adding a user. \r\n```\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/users&quot;)\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    //POST: create user\r\n    @PostMapping(&quot;/&quot;)\r\n    public ResponseEntity&lt;UserDto&gt; createUser(@RequestBody UserDto userDto){\r\n        UserDto createdUser = this.userService.createUser(userDto);\r\n        return new ResponseEntity&lt;&gt;(createdUser, HttpStatus.CREATED);\r\n    }\r\n\r\n    //GET: get user\r\n\r\n    //PUT: update user\r\n\r\n    //DELETE: delete user\r\n}\r\n```\r\nService \r\n\r\n```\r\n\r\n@Service\r\npublic class UserServiceImp implements UserService {\r\n\r\n    private UserRepo userRepo;\r\n    @Override\r\n    public UserDto createUser(UserDto userDto) {\r\n        User user = this.dtoToUser(userDto);\r\n        User savedUser = this.userRepo.save(user);\r\n\r\n        return this.userToDto(savedUser);\r\n    }\r\n}\r\n\r\n```\r\n\r\nUser Repo\r\n```\r\n\r\npublic interface UserRepo extends JpaRepository&lt;User, Integer&gt; {\r\n}\r\n\r\n```\r\n\r\nLogs\r\n\r\n```\r\n9:58:05 pm: Executing &#39;:BloggingAppApplication.main()&#39;...\r\n\r\n&gt; Task :compileJava\r\n&gt; Task :processResources UP-TO-DATE\r\n&gt; Task :classes\r\n\r\n&gt; Task :BloggingAppApplication.main()\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.6)\r\n\r\n2023-05-16T21:58:07.212+05:30  INFO 87851 --- [  restartedMain] c.e.blogging.app.BloggingAppApplication  : Starting BloggingAppApplication using Java 17.0.1 with PID 87851 (/Users/sahilsahu/Springboot-Projects/BloggingApp/build/classes/java/main started by sahilsahu in /Users/sahilsahu/Springboot-Projects/BloggingApp)\r\n2023-05-16T21:58:07.217+05:30  INFO 87851 --- [  restartedMain] c.e.blogging.app.BloggingAppApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-05-16T21:58:07.293+05:30  INFO 87851 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2023-05-16T21:58:07.293+05:30  INFO 87851 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2023-05-16T21:58:08.033+05:30  INFO 87851 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-05-16T21:58:08.063+05:30  INFO 87851 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 JPA repository interfaces.\r\n2023-05-16T21:58:08.926+05:30  INFO 87851 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-05-16T21:58:08.940+05:30  INFO 87851 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-05-16T21:58:08.941+05:30  INFO 87851 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\r\n2023-05-16T21:58:09.021+05:30  INFO 87851 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-05-16T21:58:09.024+05:30  INFO 87851 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1728 ms\r\n2023-05-16T21:58:09.233+05:30  INFO 87851 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-05-16T21:58:09.290+05:30  INFO 87851 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n2023-05-16T21:58:09.623+05:30  INFO 87851 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-05-16T21:58:10.008+05:30  INFO 87851 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@8a123ef\r\n2023-05-16T21:58:10.010+05:30  INFO 87851 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-05-16T21:58:10.059+05:30  INFO 87851 --- [  restartedMain] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\n2023-05-16T21:58:10.084+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2c90ea34) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@39b5bd89)\r\n2023-05-16T21:58:10.084+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2f5c3b05) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@267cd5c2)\r\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@d965a73) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@195bf7bd)\r\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@57917380) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@17837e75)\r\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2879fb34) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6ed91799)\r\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@328874b1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3ef4c443)\r\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@593328f2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7f708992)\r\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@eac4731) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@16624c7b)\r\n2023-05-16T21:58:10.086+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@565682fd) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2d11adbc)\r\n2023-05-16T21:58:10.436+05:30  INFO 87851 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-05-16T21:58:10.448+05:30  INFO 87851 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-05-16T21:58:10.495+05:30  WARN 87851 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-05-16T21:58:10.945+05:30  INFO 87851 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n2023-05-16T21:58:10.981+05:30  INFO 87851 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-05-16T21:58:10.993+05:30  INFO 87851 --- [  restartedMain] c.e.blogging.app.BloggingAppApplication  : Started BloggingAppApplication in 4.207 seconds (process running for 4.709)\r\n2023-05-16T21:58:16.081+05:30  INFO 87851 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-05-16T21:58:16.081+05:30  INFO 87851 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-05-16T21:58:16.083+05:30  INFO 87851 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xPWyG.png","title":"404 error for post request using springboot","body":"<p>I am getting a 404 error for the following post request. This is the first API I am making using spring-boot. Is there something I am missing? What's going wrong?</p>\n<p>This is how I am calling the request from postman:</p>\n<p><a href=\"https://i.stack.imgur.com/xPWyG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xPWyG.png\" alt=\"enter image description here\" /></a></p>\n<p>Main file</p>\n<pre><code>\n@SpringBootApplication\n@EntityScan(basePackages = { &quot;com.example.entities.*&quot; })\n@EnableAutoConfiguration\npublic class BloggingAppApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BloggingAppApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>Controller file. It just has one function for adding a user.</p>\n<pre><code>\n@RestController\n@RequestMapping(&quot;/api/users&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    //POST: create user\n    @PostMapping(&quot;/&quot;)\n    public ResponseEntity&lt;UserDto&gt; createUser(@RequestBody UserDto userDto){\n        UserDto createdUser = this.userService.createUser(userDto);\n        return new ResponseEntity&lt;&gt;(createdUser, HttpStatus.CREATED);\n    }\n\n    //GET: get user\n\n    //PUT: update user\n\n    //DELETE: delete user\n}\n</code></pre>\n<p>Service</p>\n<pre><code>\n@Service\npublic class UserServiceImp implements UserService {\n\n    private UserRepo userRepo;\n    @Override\n    public UserDto createUser(UserDto userDto) {\n        User user = this.dtoToUser(userDto);\n        User savedUser = this.userRepo.save(user);\n\n        return this.userToDto(savedUser);\n    }\n}\n\n</code></pre>\n<p>User Repo</p>\n<pre><code>\npublic interface UserRepo extends JpaRepository&lt;User, Integer&gt; {\n}\n\n</code></pre>\n<p>Logs</p>\n<pre><code>9:58:05 pm: Executing ':BloggingAppApplication.main()'...\n\n&gt; Task :compileJava\n&gt; Task :processResources UP-TO-DATE\n&gt; Task :classes\n\n&gt; Task :BloggingAppApplication.main()\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.6)\n\n2023-05-16T21:58:07.212+05:30  INFO 87851 --- [  restartedMain] c.e.blogging.app.BloggingAppApplication  : Starting BloggingAppApplication using Java 17.0.1 with PID 87851 (/Users/sahilsahu/Springboot-Projects/BloggingApp/build/classes/java/main started by sahilsahu in /Users/sahilsahu/Springboot-Projects/BloggingApp)\n2023-05-16T21:58:07.217+05:30  INFO 87851 --- [  restartedMain] c.e.blogging.app.BloggingAppApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-05-16T21:58:07.293+05:30  INFO 87851 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-05-16T21:58:07.293+05:30  INFO 87851 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-05-16T21:58:08.033+05:30  INFO 87851 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-05-16T21:58:08.063+05:30  INFO 87851 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 JPA repository interfaces.\n2023-05-16T21:58:08.926+05:30  INFO 87851 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-05-16T21:58:08.940+05:30  INFO 87851 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-05-16T21:58:08.941+05:30  INFO 87851 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\n2023-05-16T21:58:09.021+05:30  INFO 87851 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-05-16T21:58:09.024+05:30  INFO 87851 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1728 ms\n2023-05-16T21:58:09.233+05:30  INFO 87851 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-05-16T21:58:09.290+05:30  INFO 87851 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-05-16T21:58:09.623+05:30  INFO 87851 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-05-16T21:58:10.008+05:30  INFO 87851 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@8a123ef\n2023-05-16T21:58:10.010+05:30  INFO 87851 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-05-16T21:58:10.059+05:30  INFO 87851 --- [  restartedMain] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\n2023-05-16T21:58:10.084+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2c90ea34) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@39b5bd89)\n2023-05-16T21:58:10.084+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2f5c3b05) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@267cd5c2)\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@d965a73) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@195bf7bd)\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@57917380) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@17837e75)\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2879fb34) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6ed91799)\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@328874b1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3ef4c443)\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@593328f2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7f708992)\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@eac4731) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@16624c7b)\n2023-05-16T21:58:10.086+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@565682fd) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2d11adbc)\n2023-05-16T21:58:10.436+05:30  INFO 87851 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-05-16T21:58:10.448+05:30  INFO 87851 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-05-16T21:58:10.495+05:30  WARN 87851 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-05-16T21:58:10.945+05:30  INFO 87851 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2023-05-16T21:58:10.981+05:30  INFO 87851 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-05-16T21:58:10.993+05:30  INFO 87851 --- [  restartedMain] c.e.blogging.app.BloggingAppApplication  : Started BloggingAppApplication in 4.207 seconds (process running for 4.709)\n2023-05-16T21:58:16.081+05:30  INFO 87851 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-05-16T21:58:16.081+05:30  INFO 87851 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-05-16T21:58:16.083+05:30  INFO 87851 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":8553517,"reputation":15,"user_id":6409801,"display_name":"Nikhil Mollay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684260661,"creation_date":1684260661,"question_id":76265991,"body_markdown":"I have a strange issue which has made me completely run out of ideas. I have a config class which fetches stuff like:\r\n```\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;n-config&quot;)\r\n@Getter\r\n@Setter\r\npublic class Config {\r\n  ...\r\n}\r\n```\r\nI have different settings.yml and different profile specific ones settings-{profile}.yml. These files are imported in the application.yml and the other profile specific ones, which is application-dev.yml and application-stage.yml.\r\n\r\nThe strange thing is the Config class is properly loaded in the stage profile and the application-stage.yml is something like this\r\n\r\n```\r\nspring:\r\n  config:\r\n    import: optional:classpath:conf/settings.yml, optional:classpath:conf/settings-staging.yml\r\n```\r\nThis works and imports everything properly and my class has all the attributes from the settings.yml file.\r\n\r\nNow application.yml is something like :\r\n```\r\nspring:\r\n  application:\r\n    name: Some app\r\n  devtools:\r\n    restart:\r\n      enabled: false\r\n  graphql:\r\n    schema:\r\n      ...\r\n  datasource:\r\n    ...\r\n    hikari:\r\n      ...\r\n  jpa:\r\n    ...\r\n  config:\r\n    import: classpath:conf/notification-settings.yml\r\n```\r\nThis doesn&#39;t import the file and all the attributes inside the Config class but the stage ones work.\r\n\r\nI have another for dev which looks like this\r\n```\r\nspring:\r\n  config:\r\n    import: classpath:conf/settings.yml, optional:classpath:conf/settings-dev.yml\r\n  devtools:\r\n    ...\r\n  datasource:\r\n    ...\r\n    jpa:\r\n      ...\r\n```\r\nand this doesn&#39;t load anything into the Config class. I have tried everything but I can&#39;t make any sense of it.\r\nI have checked the path. I have switched names. I tried the path in local and put it in application-stage and that worked. Everything works in the stage one but not in application.yml and application-dev.yml ","title":"Import in applications.yml not loading the file in spring.config.import","body":"<p>I have a strange issue which has made me completely run out of ideas. I have a config class which fetches stuff like:</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;n-config&quot;)\n@Getter\n@Setter\npublic class Config {\n  ...\n}\n</code></pre>\n<p>I have different settings.yml and different profile specific ones settings-{profile}.yml. These files are imported in the application.yml and the other profile specific ones, which is application-dev.yml and application-stage.yml.</p>\n<p>The strange thing is the Config class is properly loaded in the stage profile and the application-stage.yml is something like this</p>\n<pre><code>spring:\n  config:\n    import: optional:classpath:conf/settings.yml, optional:classpath:conf/settings-staging.yml\n</code></pre>\n<p>This works and imports everything properly and my class has all the attributes from the settings.yml file.</p>\n<p>Now application.yml is something like :</p>\n<pre><code>spring:\n  application:\n    name: Some app\n  devtools:\n    restart:\n      enabled: false\n  graphql:\n    schema:\n      ...\n  datasource:\n    ...\n    hikari:\n      ...\n  jpa:\n    ...\n  config:\n    import: classpath:conf/notification-settings.yml\n</code></pre>\n<p>This doesn't import the file and all the attributes inside the Config class but the stage ones work.</p>\n<p>I have another for dev which looks like this</p>\n<pre><code>spring:\n  config:\n    import: classpath:conf/settings.yml, optional:classpath:conf/settings-dev.yml\n  devtools:\n    ...\n  datasource:\n    ...\n    jpa:\n      ...\n</code></pre>\n<p>and this doesn't load anything into the Config class. I have tried everything but I can't make any sense of it.\nI have checked the path. I have switched names. I tried the path in local and put it in application-stage and that worked. Everything works in the stage one but not in application.yml and application-dev.yml</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","repository"],"answers":[{"tags":[],"owner":{"account_id":27960485,"reputation":185,"user_id":21352393,"display_name":"MarcelMM"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684260387,"creation_date":1684260387,"answer_id":76265958,"question_id":76265832,"body_markdown":"You are mixing jpa query with native query.\r\nIn your case you should:\r\n\r\nNative query:\r\n\r\n    @Query(value = &quot;SELECT IS_ACTIVE FROM T_MYTABLE WHERE ID = ?1&quot;, nativeQuery = true)\r\n\r\nJPQL:\r\n\r\n    @Query(&quot;SELECT isActive FROM MyClass WHERE id= ?1&quot;)\r\n   \r\n","title":"Spring JPA query for checking boolean property","body":"<p>You are mixing jpa query with native query.\nIn your case you should:</p>\n<p>Native query:</p>\n<pre><code>@Query(value = &quot;SELECT IS_ACTIVE FROM T_MYTABLE WHERE ID = ?1&quot;, nativeQuery = true)\n</code></pre>\n<p>JPQL:</p>\n<pre><code>@Query(&quot;SELECT isActive FROM MyClass WHERE id= ?1&quot;)\n</code></pre>\n"}],"owner":{"account_id":12249909,"reputation":125,"user_id":13121591,"display_name":"user13121591"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76265958,"answer_count":1,"score":0,"last_activity_date":1684260387,"creation_date":1684259243,"question_id":76265832,"body_markdown":"Suppose i have the following entity:\r\n\r\n    @Entity\r\n    public class MyClass {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n\r\n        private Boolean isActive;\r\n    }\r\n\r\nI want to check if an object &quot;MyClass&quot; isActive this is what i have done:\r\n\r\n    public interface MyClassRepository extends Repository&lt;MyClass, Long&gt; {\r\n        @Query(&quot;SELECT IS_ACTIVE FROM T_MYTABLE WHERE ID = ?1&quot;)\r\n        public Boolean isActive(Long id);\r\n    }\r\n\r\nHowever i get the following error\r\n\r\n    org.springframework.orm.jpa.JpaSystemException: Specified result type [java.lang.Boolean] did not match Query selection type [com.myapp.MyClass] - multiple selections: use Tuple or array\r\n\r\nWhat is the correct why to implement this?","title":"Spring JPA query for checking boolean property","body":"<p>Suppose i have the following entity:</p>\n<pre><code>@Entity\npublic class MyClass {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private Boolean isActive;\n}\n</code></pre>\n<p>I want to check if an object &quot;MyClass&quot; isActive this is what i have done:</p>\n<pre><code>public interface MyClassRepository extends Repository&lt;MyClass, Long&gt; {\n    @Query(&quot;SELECT IS_ACTIVE FROM T_MYTABLE WHERE ID = ?1&quot;)\n    public Boolean isActive(Long id);\n}\n</code></pre>\n<p>However i get the following error</p>\n<pre><code>org.springframework.orm.jpa.JpaSystemException: Specified result type [java.lang.Boolean] did not match Query selection type [com.myapp.MyClass] - multiple selections: use Tuple or array\n</code></pre>\n<p>What is the correct why to implement this?</p>\n"},{"tags":["java","postgresql","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":2,"creation_date":1684255918,"post_id":76265281,"comment_id":134490529,"body_markdown":"The import should be org.springframework.transaction.annotation.Transactional.","body":"The import should be org.springframework.transaction.annotation.Transactional."},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1684257719,"post_id":76265281,"comment_id":134490945,"body_markdown":"@Mar-Z no, that did not work. Same result.","body":"@Mar-Z no, that did not work. Same result."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684258399,"post_id":76265281,"comment_id":134491081,"body_markdown":"@EnableTransactionManagement annotation is present in configuration? Or equivalent like spring-boot-starter-data-jpa dependency.","body":"@EnableTransactionManagement annotation is present in configuration? Or equivalent like spring-boot-starter-data-jpa dependency."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684259061,"post_id":76265281,"comment_id":134491200,"body_markdown":"A dumbed down code which doesn&#39;t show the actual issue, we love that here on stack overflow. If it doesn&#39;t work with the Spring `@Transactional` either this code isn&#39;t a fair representation of what you are trying to achieve. Maybe your class or method is `final`, it isn&#39;t `public` or you are creating a new instance of the repository yourself. Or you are calling this method from the same class instead of externally calling it. To be short there is far too little information here to help you. We need calling code, configuration and your full stacktrace and actual code (obfuscated is fine).","body":"A dumbed down code which doesn&#39;t show the actual issue, we love that here on stack overflow. If it doesn&#39;t work with the Spring <code>@Transactional</code> either this code isn&#39;t a fair representation of what you are trying to achieve. Maybe your class or method is <code>final</code>, it isn&#39;t <code>public</code> or you are creating a new instance of the repository yourself. Or you are calling this method from the same class instead of externally calling it. To be short there is far too little information here to help you. We need calling code, configuration and your full stacktrace and actual code (obfuscated is fine)."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684259229,"post_id":76265281,"comment_id":134491227,"body_markdown":"In additional some version of the Spring and Spring Boot would be good to know as well, as it depends on the version (ideally some dependency management of your maven or gradle build).","body":"In additional some version of the Spring and Spring Boot would be good to know as well, as it depends on the version (ideally some dependency management of your maven or gradle build)."},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1684259723,"post_id":76265281,"comment_id":134491336,"body_markdown":"@M.Deinum I don&#39;t know why you say my dumbed down is not representative. If absolutely is I believe. If you copy and past all my code and set of a simple java app and database tables in postGres and it rolls back the way I am attempting, then you have demonstrated there is something different about your environment than mine. Otherwise I guess you are ASSUMING it will work in your environment. I gave the detailed information to see of other people get the same or different results. I think that is worthwhile.","body":"@M.Deinum I don&#39;t know why you say my dumbed down is not representative. If absolutely is I believe. If you copy and past all my code and set of a simple java app and database tables in postGres and it rolls back the way I am attempting, then you have demonstrated there is something different about your environment than mine. Otherwise I guess you are ASSUMING it will work in your environment. I gave the detailed information to see of other people get the same or different results. I think that is worthwhile."},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1684259831,"post_id":76265281,"comment_id":134491358,"body_markdown":"@M.Deinum I wasn&#39;t saying it didn&#39;t work with the Spring annotation, I said it gets the same results as the javax Transactional. Also, class and method are public. No final either","body":"@M.Deinum I wasn&#39;t saying it didn&#39;t work with the Spring annotation, I said it gets the same results as the javax Transactional. Also, class and method are public. No final either"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684261296,"post_id":76265281,"comment_id":134491688,"body_markdown":"You clearly stated in the comments that you have the same result, it didn&#39;t work. Also there is far too little code here for a working sample. As stated how are you calling this, what is your configuration like and what versions are you using. You also haven&#39;t shown a stack trace which holds crucial information. So with what little you posted here it is impossible to determine what is different or wrong in your setup.","body":"You clearly stated in the comments that you have the same result, it didn&#39;t work. Also there is far too little code here for a working sample. As stated how are you calling this, what is your configuration like and what versions are you using. You also haven&#39;t shown a stack trace which holds crucial information. So with what little you posted here it is impossible to determine what is different or wrong in your setup."},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1684263958,"post_id":76265281,"comment_id":134492198,"body_markdown":"@M.Deinum well, I got it to work in another project that may have different spring dependencies, so you made me think it through that it could be something with the various differences between the two projects, including one is java 8 and the other 11...","body":"@M.Deinum well, I got it to work in another project that may have different spring dependencies, so you made me think it through that it could be something with the various differences between the two projects, including one is java 8 and the other 11..."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684305406,"post_id":76265281,"comment_id":134496948,"body_markdown":"The java version shouldn&#39;t matter. The spring version could as older ones don&#39;t support the `javax.transaction.Transactional` howver you stated that it doesn&#39;t work with the Spring `@Transactional` either. could you include your calling code for the repository and if possible the stacktrace for the error you get? The latter generally contains valuable information.","body":"The java version shouldn&#39;t matter. The spring version could as older ones don&#39;t support the <code>javax.transaction.Transactional</code> howver you stated that it doesn&#39;t work with the Spring <code>@Transactional</code> either. could you include your calling code for the repository and if possible the stacktrace for the error you get? The latter generally contains valuable information."}],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684260278,"creation_date":1684254424,"question_id":76265281,"body_markdown":"I have a SpringBoot rest application using jdbcTemplate and postGres database. There is a certain endpoint that is supposed to be executed as an atomic transaction, or else rolled back. I am not getting the rollback to work as I had intended. I can&#39;t show the actual code, but I have a very simple example that fails the same way (below).\r\n\r\nHere is the issue:  since this is set up as a transaction, I would have expected the first update in the Orders table to rollback (since the 2nd updated failed with exception), but it doesn&#39;t (PersonID remains null). \r\n\r\nThis example is VERY contrived, but it exactly replicates my issue. I simply need for the transaction to rollback the 1st update command. \r\n\r\nI would rather the solution continue to use annotation-based transaction boundaries, rather than setting up the transaction in JDBC or similar in the java code. I would be grateful for any ideas. Thanks.\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.stereotype.Repository;\r\n    import javax.transaction.Transactional;\r\n\r\n    @Repository\r\n    public class DeletionRepository {\r\n\r\n    @Autowired\r\n    protected JdbcTemplate jdbcTemplate;\r\n\r\n    @Transactional(rollbackOn = Exception.class)\r\n    public int deleteWithCascade() {\r\n        int status = 0;\r\n\r\n        // this succeeds as expected because the PersonId field is nullable\r\n        status = jdbcTemplate.update(&quot;UPDATE Orders SET PersonId = NULL WHERE OrderID = 123&quot;);\r\n\r\n        // this throws an integrity constraint violation because the PersonId field is NOT NULL\r\n        status = jdbcTemplate.update(&quot;UPDATE Reservations SET PersonId = NULL WHERE ReservationID = 123&quot;);\r\n\r\n        // we never get here due to above exception\r\n        status = jdbcTemplate.update(&quot;DELETE FROM Persons WHERE PersonID = &#39;ABC123&quot;);\r\n        return status\r\n    }\r\n\r\n\r\nThe exception is:\r\n\r\n    [UPDATE Reservations SET PersonId = NULL WHERE ReservationID = 123]; ERROR: null value in column \\&quot;personid\\&quot; violates not-null constraint\\n  Detail: Failing row contains (123, hotel room, null).; nested exception is org.postgresql.util.PSQLException: ERROR: null value in column \\&quot;personid\\&quot; violates not-null constraint\\n  Detail: Failing row contains (123, hotel room, null).&quot;\r\n\r\nHere are the SQL commands for the test data the above example is using:\r\n\r\n    CREATE TABLE Persons (personID varchar(45) NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Age int, PRIMARY KEY (personID));\r\n    INSERT INTO Persons (personID, LastName, FirstName, Age) values (&#39;ABC123&#39;, &#39;Jones&#39;, &#39;Janet&#39;, 35)\r\n\r\n    CREATE TABLE Orders (  OrderID int NOT NULL, OrderNumber int NOT NULL, PersonID varchar(45), PRIMARY KEY (OrderID), FOREIGN KEY (PersonID) REFERENCES Persons(PersonID));\r\n    INSERT INTO Orders (OrderID, OrderNumber, PersonID) values (123, 456, &#39;ABC123&#39;)\r\n\r\n    CREATE TABLE Reservations (  ReservationID int NOT NULL, ReservationDetail varchar(255), PersonID varchar(45) NOT NULL, PRIMARY KEY (ReservationID), FOREIGN KEY (PersonID) REFERENCES Persons(PersonID));\r\n    INSERT INTO Reservations (ReservationID, ReservationDetail, PersonID) values (123, &#39;hotel room&#39;, &#39;ABC123&#39;)\r\n\r\nUpdate: based on initial feedback, I also tried below. It still did not roll back\r\n\r\n    import  org.springframework.transaction.annotation.Transactional;\r\n\r\n    @Repository\r\n    public class DeletionRepository {\r\n\r\n    @Autowired\r\n    protected JdbcTemplate jdbcTemplate;\r\n\r\n     @Transactional(rollbackFor = Exception.class)\r\n    public int deleteWithCascade() {\r\n        int status = 0;\r\n","title":"Javax-based Transactional Does NOT Rollback As Intended","body":"<p>I have a SpringBoot rest application using jdbcTemplate and postGres database. There is a certain endpoint that is supposed to be executed as an atomic transaction, or else rolled back. I am not getting the rollback to work as I had intended. I can't show the actual code, but I have a very simple example that fails the same way (below).</p>\n<p>Here is the issue:  since this is set up as a transaction, I would have expected the first update in the Orders table to rollback (since the 2nd updated failed with exception), but it doesn't (PersonID remains null).</p>\n<p>This example is VERY contrived, but it exactly replicates my issue. I simply need for the transaction to rollback the 1st update command.</p>\n<p>I would rather the solution continue to use annotation-based transaction boundaries, rather than setting up the transaction in JDBC or similar in the java code. I would be grateful for any ideas. Thanks.</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.stereotype.Repository;\nimport javax.transaction.Transactional;\n\n@Repository\npublic class DeletionRepository {\n\n@Autowired\nprotected JdbcTemplate jdbcTemplate;\n\n@Transactional(rollbackOn = Exception.class)\npublic int deleteWithCascade() {\n    int status = 0;\n\n    // this succeeds as expected because the PersonId field is nullable\n    status = jdbcTemplate.update(&quot;UPDATE Orders SET PersonId = NULL WHERE OrderID = 123&quot;);\n\n    // this throws an integrity constraint violation because the PersonId field is NOT NULL\n    status = jdbcTemplate.update(&quot;UPDATE Reservations SET PersonId = NULL WHERE ReservationID = 123&quot;);\n\n    // we never get here due to above exception\n    status = jdbcTemplate.update(&quot;DELETE FROM Persons WHERE PersonID = 'ABC123&quot;);\n    return status\n}\n</code></pre>\n<p>The exception is:</p>\n<pre><code>[UPDATE Reservations SET PersonId = NULL WHERE ReservationID = 123]; ERROR: null value in column \\&quot;personid\\&quot; violates not-null constraint\\n  Detail: Failing row contains (123, hotel room, null).; nested exception is org.postgresql.util.PSQLException: ERROR: null value in column \\&quot;personid\\&quot; violates not-null constraint\\n  Detail: Failing row contains (123, hotel room, null).&quot;\n</code></pre>\n<p>Here are the SQL commands for the test data the above example is using:</p>\n<pre><code>CREATE TABLE Persons (personID varchar(45) NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Age int, PRIMARY KEY (personID));\nINSERT INTO Persons (personID, LastName, FirstName, Age) values ('ABC123', 'Jones', 'Janet', 35)\n\nCREATE TABLE Orders (  OrderID int NOT NULL, OrderNumber int NOT NULL, PersonID varchar(45), PRIMARY KEY (OrderID), FOREIGN KEY (PersonID) REFERENCES Persons(PersonID));\nINSERT INTO Orders (OrderID, OrderNumber, PersonID) values (123, 456, 'ABC123')\n\nCREATE TABLE Reservations (  ReservationID int NOT NULL, ReservationDetail varchar(255), PersonID varchar(45) NOT NULL, PRIMARY KEY (ReservationID), FOREIGN KEY (PersonID) REFERENCES Persons(PersonID));\nINSERT INTO Reservations (ReservationID, ReservationDetail, PersonID) values (123, 'hotel room', 'ABC123')\n</code></pre>\n<p>Update: based on initial feedback, I also tried below. It still did not roll back</p>\n<pre><code>import  org.springframework.transaction.annotation.Transactional;\n\n@Repository\npublic class DeletionRepository {\n\n@Autowired\nprotected JdbcTemplate jdbcTemplate;\n\n @Transactional(rollbackFor = Exception.class)\npublic int deleteWithCascade() {\n    int status = 0;\n</code></pre>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":1541492,"reputation":2288,"user_id":1436031,"display_name":"Andrew Nguonly"},"score":0,"creation_date":1522511799,"post_id":49579110,"comment_id":86186992,"body_markdown":"There isn&#39;t a way to do this natively in Apache Beam. You may be able to manipulate or query the input source in a specific way to only select the first X number of elements. What input source are you reading from?","body":"There isn&#39;t a way to do this natively in Apache Beam. You may be able to manipulate or query the input source in a specific way to only select the first X number of elements. What input source are you reading from?"},{"owner":{"account_id":5148441,"reputation":699,"user_id":4123678,"accept_rate":100,"display_name":"shockawave123"},"score":0,"creation_date":1522512820,"post_id":49579110,"comment_id":86187380,"body_markdown":"Originally the input is the result of a query from a BigQuery Table. Then it goes through a few steps of processing and further filtration  before getting to the step where I need only the first million. However, I can’t put a limit on the query.","body":"Originally the input is the result of a query from a BigQuery Table. Then it goes through a few steps of processing and further filtration  before getting to the step where I need only the first million. However, I can’t put a limit on the query."},{"owner":{"account_id":1541492,"reputation":2288,"user_id":1436031,"display_name":"Andrew Nguonly"},"score":0,"creation_date":1522534149,"post_id":49579110,"comment_id":86193370,"body_markdown":"Maybe you could use the [Top](https://beam.apache.org/documentation/sdks/javadoc/2.4.0/org/apache/beam/sdk/transforms/Top.html) transform?","body":"Maybe you could use the <a href=\"https://beam.apache.org/documentation/sdks/javadoc/2.4.0/org/apache/beam/sdk/transforms/Top.html\" rel=\"nofollow noreferrer\">Top</a> transform?"}],"answers":[{"tags":[],"owner":{"account_id":5666430,"reputation":8004,"user_id":4482491,"display_name":"dsesto"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523263234,"creation_date":1523263234,"answer_id":49728787,"question_id":49579110,"body_markdown":"As explained by @Andrew in his comments, maybe you can use the `Top` transform in Apache Beam (for [Java][1] or for [Python][2]). Specifically, the `Top.of()` function returns a *PTransform* with a *PCollection*, ordered by a comparator transform.\r\n\r\n[Here][3] you can find a simple example of use:\r\n\r\n    PCollection&lt;Student&gt; students = ...;\r\n    PCollection&lt;List&lt;Student&gt;&gt; top10Students = students.apply(Top.of(10, new CompareStudentsByAvgGrade()));\r\n\r\nAnd [here][4] another example using the Apache Beam Python SDK, which works around the fact that a single element is returned in the *PCollection*.\r\n\r\n\r\n  [1]: https://beam.apache.org/documentation/sdks/javadoc/2.4.0/org/apache/beam/sdk/transforms/Top.html\r\n  [2]: https://beam.apache.org/documentation/sdks/pydoc/2.4.0/apache_beam.transforms.combiners.html?highlight=top#apache_beam.transforms.combiners.Top.Of\r\n  [3]: https://beam.apache.org/documentation/sdks/javadoc/2.4.0/org/apache/beam/sdk/transforms/Top.html#of-int-ComparatorT-\r\n  [4]: https://stackoverflow.com/a/40370679/4482491","title":"Dataflow/ApacheBeam Limit input to the first X amount?","body":"<p>As explained by @Andrew in his comments, maybe you can use the <code>Top</code> transform in Apache Beam (for <a href=\"https://beam.apache.org/documentation/sdks/javadoc/2.4.0/org/apache/beam/sdk/transforms/Top.html\" rel=\"nofollow noreferrer\">Java</a> or for <a href=\"https://beam.apache.org/documentation/sdks/pydoc/2.4.0/apache_beam.transforms.combiners.html?highlight=top#apache_beam.transforms.combiners.Top.Of\" rel=\"nofollow noreferrer\">Python</a>). Specifically, the <code>Top.of()</code> function returns a <em>PTransform</em> with a <em>PCollection</em>, ordered by a comparator transform.</p>\n\n<p><a href=\"https://beam.apache.org/documentation/sdks/javadoc/2.4.0/org/apache/beam/sdk/transforms/Top.html#of-int-ComparatorT-\" rel=\"nofollow noreferrer\">Here</a> you can find a simple example of use:</p>\n\n<pre><code>PCollection&lt;Student&gt; students = ...;\nPCollection&lt;List&lt;Student&gt;&gt; top10Students = students.apply(Top.of(10, new CompareStudentsByAvgGrade()));\n</code></pre>\n\n<p>And <a href=\"https://stackoverflow.com/a/40370679/4482491\">here</a> another example using the Apache Beam Python SDK, which works around the fact that a single element is returned in the <em>PCollection</em>.</p>\n"},{"tags":[],"owner":{"account_id":1029904,"reputation":4128,"user_id":1100654,"accept_rate":40,"display_name":"countunique"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616637722,"creation_date":1616637722,"answer_id":66792026,"question_id":49579110,"body_markdown":"For a random sample of X elements, you can use the built-in Sample transform (for [Python](https://beam.apache.org/releases/pydoc/2.28.0/apache_beam.transforms.combiners.html#apache_beam.transforms.combiners.Sample) or [Java](https://beam.apache.org/releases/javadoc/2.6.0/org/apache/beam/sdk/transforms/Sample.html)).\r\n\r\nHere is an example that shows how to sample 10 elements from an example input of 100 elements:\r\n```\r\nimport apache_beam as beam\r\nfrom apache_beam.transforms.combiners import Sample\r\n\r\nwith beam.Pipeline(runner=&#39;DirectRunner&#39;) as p:\r\n    input = p | beam.Create(range(100))\r\n    output = input | Sample.FixedSizeGlobally(10)\r\n    output | beam.io.WriteToText(&#39;output&#39;)\r\n```\r\n","title":"Dataflow/ApacheBeam Limit input to the first X amount?","body":"<p>For a random sample of X elements, you can use the built-in Sample transform (for <a href=\"https://beam.apache.org/releases/pydoc/2.28.0/apache_beam.transforms.combiners.html#apache_beam.transforms.combiners.Sample\" rel=\"nofollow noreferrer\">Python</a> or <a href=\"https://beam.apache.org/releases/javadoc/2.6.0/org/apache/beam/sdk/transforms/Sample.html\" rel=\"nofollow noreferrer\">Java</a>).</p>\n<p>Here is an example that shows how to sample 10 elements from an example input of 100 elements:</p>\n<pre><code>import apache_beam as beam\nfrom apache_beam.transforms.combiners import Sample\n\nwith beam.Pipeline(runner='DirectRunner') as p:\n    input = p | beam.Create(range(100))\n    output = input | Sample.FixedSizeGlobally(10)\n    output | beam.io.WriteToText('output')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2336026,"reputation":1551,"user_id":2048353,"accept_rate":62,"display_name":"happyhuman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684260042,"creation_date":1684260042,"answer_id":76265924,"question_id":49579110,"body_markdown":"If you don&#39;t care about the order and just want a sample of N items, then I think you should be able to use `beam.combiners.Sample.FixedSizeGlobally` as described here: https://beam.apache.org/documentation/transforms/python/aggregation/sample/","title":"Dataflow/ApacheBeam Limit input to the first X amount?","body":"<p>If you don't care about the order and just want a sample of N items, then I think you should be able to use <code>beam.combiners.Sample.FixedSizeGlobally</code> as described here: <a href=\"https://beam.apache.org/documentation/transforms/python/aggregation/sample/\" rel=\"nofollow noreferrer\">https://beam.apache.org/documentation/transforms/python/aggregation/sample/</a></p>\n"}],"owner":{"account_id":5148441,"reputation":699,"user_id":4123678,"accept_rate":100,"display_name":"shockawave123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2329,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1684260042,"creation_date":1522432626,"question_id":49579110,"body_markdown":"I have a bounded PCollection but i only want to get the first X amount of inputs and discard the rest. Is there a way to do this using Dataflow 2.X/ApacheBeam?","title":"Dataflow/ApacheBeam Limit input to the first X amount?","body":"<p>I have a bounded PCollection but i only want to get the first X amount of inputs and discard the rest. Is there a way to do this using Dataflow 2.X/ApacheBeam?</p>\n"},{"tags":["java","spring","spring-boot","cookies","samesite"],"answers":[{"comments":[{"owner":{"account_id":5582102,"reputation":1071,"user_id":4423695,"display_name":"ThilankaD"},"score":0,"creation_date":1600366833,"post_id":63939775,"comment_id":113073441,"body_markdown":"Appreciate your help @Pratapi. But this hasn&#39;t resolved the problem either. Does this work in Localhost as well?","body":"Appreciate your help @Pratapi. But this hasn&#39;t resolved the problem either. Does this work in Localhost as well?"},{"owner":{"account_id":1442180,"reputation":3180,"user_id":3295987,"accept_rate":64,"display_name":"Hemant Patel"},"score":0,"creation_date":1600392881,"post_id":63939775,"comment_id":113080959,"body_markdown":"Yes, it worked for me. Please ensure `secure` attribute is not set on localhost. You can add a check to not add secure on localhost by request.getRemoteHost() (method name may differ) method.","body":"Yes, it worked for me. Please ensure <code>secure</code> attribute is not set on localhost. You can add a check to not add secure on localhost by request.getRemoteHost() (method name may differ) method."},{"owner":{"account_id":5582102,"reputation":1071,"user_id":4423695,"display_name":"ThilankaD"},"score":0,"creation_date":1600412060,"post_id":63939775,"comment_id":113085055,"body_markdown":"but none from SameSite nor secure was set on mine.","body":"but none from SameSite nor secure was set on mine."},{"owner":{"account_id":5582102,"reputation":1071,"user_id":4423695,"display_name":"ThilankaD"},"score":0,"creation_date":1600414935,"post_id":63939775,"comment_id":113086184,"body_markdown":"I&#39;m using an older version of spring boot versoin 2.0.3 RELEASE.","body":"I&#39;m using an older version of spring boot versoin 2.0.3 RELEASE."},{"owner":{"account_id":5582102,"reputation":1071,"user_id":4423695,"display_name":"ThilankaD"},"score":0,"creation_date":1600419394,"post_id":63939775,"comment_id":113088311,"body_markdown":"Sorry, This has resolved my issue. Surprisingly Google Chrome is not showing the cookie attributes which sets but it passes the cookie through the cross-site request. Previously I have only checked against Session cookie shown in dev tools only. Thanks @Pratapi. Anyway it was needed to mark The Filter as a Component in order to spring to identify it as a filter","body":"Sorry, This has resolved my issue. Surprisingly Google Chrome is not showing the cookie attributes which sets but it passes the cookie through the cross-site request. Previously I have only checked against Session cookie shown in dev tools only. Thanks @Pratapi. Anyway it was needed to mark The Filter as a Component in order to spring to identify it as a filter"},{"owner":{"account_id":1442180,"reputation":3180,"user_id":3295987,"accept_rate":64,"display_name":"Hemant Patel"},"score":0,"creation_date":1600434321,"post_id":63939775,"comment_id":113095341,"body_markdown":"If it worked for you, please accept the answer, so that other people with same problem know that it&#39;s a working solution. Since it&#39;s a new issue and lots of people will be facing the same issue.","body":"If it worked for you, please accept the answer, so that other people with same problem know that it&#39;s a working solution. Since it&#39;s a new issue and lots of people will be facing the same issue."},{"owner":{"account_id":5582102,"reputation":1071,"user_id":4423695,"display_name":"ThilankaD"},"score":0,"creation_date":1600447181,"post_id":63939775,"comment_id":113101499,"body_markdown":"This has fixed the Issue in my localhost with the test service for the third party service. but this was not worked against the production service of the third-party components. Do you have any idea about this?","body":"This has fixed the Issue in my localhost with the test service for the third party service. but this was not worked against the production service of the third-party components. Do you have any idea about this?"},{"owner":{"account_id":1442180,"reputation":3180,"user_id":3295987,"accept_rate":64,"display_name":"Hemant Patel"},"score":0,"creation_date":1600478138,"post_id":63939775,"comment_id":113109864,"body_markdown":"On localhost you might be not setting secure, but in production it requires secure.","body":"On localhost you might be not setting secure, but in production it requires secure."},{"owner":{"account_id":6422734,"reputation":73,"user_id":4978964,"accept_rate":50,"display_name":"Daniel Henao"},"score":0,"creation_date":1631108155,"post_id":63939775,"comment_id":122134857,"body_markdown":"This solution worked, but not working on `JSESSIONID` cookie set by spring security on a basic auth kind of security, any ideas?","body":"This solution worked, but not working on <code>JSESSIONID</code> cookie set by spring security on a basic auth kind of security, any ideas?"},{"owner":{"account_id":1442180,"reputation":3180,"user_id":3295987,"accept_rate":64,"display_name":"Hemant Patel"},"score":0,"creation_date":1631196880,"post_id":63939775,"comment_id":122162644,"body_markdown":"You can try using some spring flavoured filters like GenericFilterBean or interceptors.","body":"You can try using some spring flavoured filters like GenericFilterBean or interceptors."}],"tags":[],"owner":{"account_id":1442180,"reputation":3180,"user_id":3295987,"accept_rate":64,"display_name":"Hemant Patel"},"comment_count":10,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600351285,"creation_date":1600351285,"answer_id":63939775,"question_id":63939078,"body_markdown":"I was in same situation earlier. Since there is nothing like `SameSite` in `javax.servlet.http.Cookie` class so it&#39;s not possible to add that.\r\n\r\n**Part 1:** So what I did is wrote a filter which intercepts the required third party request only.\r\n\r\n    public class CustomFilter implements Filter {\r\n    \r\n        private static final String THIRD_PARTY_URI = &quot;/third/party/uri&quot;;\r\n    \r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n            HttpServletRequest request = (HttpServletRequest) req;\r\n            HttpServletResponse response = (HttpServletResponse) res;\r\n            if(THIRD_PARTY_URI.equals(request.getRequestURI())) {\r\n                chain.doFilter(request, new CustomHttpServletResponseWrapper(response));\r\n            } else {\r\n                chain.doFilter(request, response);\r\n            }\r\n        }\r\n    enter code here\r\n        // ... init destroy methods here\r\n        \r\n    }\r\n \r\n**Part 2:** Cookies are sent as `Set-Cookie` response header. So this `CustomHttpServletResponseWrapper` overrides the `addCookie` method and check, if it is the required cookie (`JSESSIONID`), instead of adding it to cookie, it adds directly to response header `Set-Cookie` with `SameSite=None` attribute.\r\n\r\n    public class CustomHttpServletResponseWrapper extends HttpServletResponseWrapper {\r\n\r\n        public CustomHttpServletResponseWrapper(HttpServletResponse response) {\r\n            super(response);\r\n        }\r\n\r\n        @Override\r\n        public void addCookie(Cookie cookie) {\r\n            if (&quot;JSESSIONID&quot;.equals(cookie.getName())) {\r\n                super.addHeader(&quot;Set-Cookie&quot;, getCookieValue(cookie));\r\n            } else {\r\n                super.addCookie(cookie);\r\n            }\r\n        }\r\n\r\n        private String getCookieValue(Cookie cookie) {\r\n\r\n            StringBuilder builder = new StringBuilder();\r\n            builder.append(cookie.getName()).append(&#39;=&#39;).append(cookie.getValue());\r\n            builder.append(&quot;;Path=&quot;).append(cookie.getPath());\r\n            if (cookie.isHttpOnly()) {\r\n                builder.append(&quot;;HttpOnly&quot;);\r\n            }\r\n            if (cookie.getSecure()) {\r\n                builder.append(&quot;;Secure&quot;);\r\n            }\r\n            // here you can append other attributes like domain / max-age etc.\r\n            builder.append(&quot;;SameSite=None&quot;);\r\n            return builder.toString();\r\n        }\r\n    }","title":"How to set SameSite and Secure attribute to JSESSIONID cookie","body":"<p>I was in same situation earlier. Since there is nothing like <code>SameSite</code> in <code>javax.servlet.http.Cookie</code> class so it's not possible to add that.</p>\n<p><strong>Part 1:</strong> So what I did is wrote a filter which intercepts the required third party request only.</p>\n<pre><code>public class CustomFilter implements Filter {\n\n    private static final String THIRD_PARTY_URI = &quot;/third/party/uri&quot;;\n\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n        HttpServletRequest request = (HttpServletRequest) req;\n        HttpServletResponse response = (HttpServletResponse) res;\n        if(THIRD_PARTY_URI.equals(request.getRequestURI())) {\n            chain.doFilter(request, new CustomHttpServletResponseWrapper(response));\n        } else {\n            chain.doFilter(request, response);\n        }\n    }\nenter code here\n    // ... init destroy methods here\n    \n}\n</code></pre>\n<p><strong>Part 2:</strong> Cookies are sent as <code>Set-Cookie</code> response header. So this <code>CustomHttpServletResponseWrapper</code> overrides the <code>addCookie</code> method and check, if it is the required cookie (<code>JSESSIONID</code>), instead of adding it to cookie, it adds directly to response header <code>Set-Cookie</code> with <code>SameSite=None</code> attribute.</p>\n<pre><code>public class CustomHttpServletResponseWrapper extends HttpServletResponseWrapper {\n\n    public CustomHttpServletResponseWrapper(HttpServletResponse response) {\n        super(response);\n    }\n\n    @Override\n    public void addCookie(Cookie cookie) {\n        if (&quot;JSESSIONID&quot;.equals(cookie.getName())) {\n            super.addHeader(&quot;Set-Cookie&quot;, getCookieValue(cookie));\n        } else {\n            super.addCookie(cookie);\n        }\n    }\n\n    private String getCookieValue(Cookie cookie) {\n\n        StringBuilder builder = new StringBuilder();\n        builder.append(cookie.getName()).append('=').append(cookie.getValue());\n        builder.append(&quot;;Path=&quot;).append(cookie.getPath());\n        if (cookie.isHttpOnly()) {\n            builder.append(&quot;;HttpOnly&quot;);\n        }\n        if (cookie.getSecure()) {\n            builder.append(&quot;;Secure&quot;);\n        }\n        // here you can append other attributes like domain / max-age etc.\n        builder.append(&quot;;SameSite=None&quot;);\n        return builder.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5582102,"reputation":1071,"user_id":4423695,"display_name":"ThilankaD"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1625588214,"creation_date":1603813779,"answer_id":64558083,"question_id":63939078,"body_markdown":"---\r\n***UPDATE** on 06/07/2021 - Added correct `Path` attribute with new sameSite attributes to avoid session cookie duplication with `GenericFilterBean` approach.*\r\n\r\n---\r\nI was able to come up with my own solution for this.\r\n\r\nI have two kinds of applications which run on Spring boot which has different Spring security configurations and they needed different solutions to fix this. \r\n\r\n**CASE 1: No user authentication**\r\n\r\n**Solution 1**\r\n\r\nIn here you might have created an endpoint for the 3rd party response, in your application. You are safe until you access httpSession in a controller method. If you are accessing session in different controller method then send a temporary redirect request to there like follows.\r\n\r\n    @Controller\r\n    public class ThirdPartyResponseController{\r\n\r\n    @RequestMapping(value=3rd_party_response_URL, method=RequestMethod.POST)\r\n    public void thirdPartyresponse(HttpServletRequest request, HttpServletResponse httpServletResponse){\r\n        // your logic\r\n        // and you can set any data as an session attribute which you want to access over the 2nd controller \r\n        request.getSession().setAttribute(&lt;data&gt;)\r\n        try {\r\n            httpServletResponse.sendRedirect(&lt;redirect_URL&gt;);\r\n        } catch (IOException e) {\r\n            // handle error\r\n        }\r\n    }\r\n\r\n    @RequestMapping(value=redirect_URL, method=RequestMethod.GET)\r\n    public String thirdPartyresponse(HttpServletRequest request,  HttpServletResponse httpServletResponse, Model model,  RedirectAttributes redirectAttributes, HttpSession session){\r\n        // your logic\r\n            return &lt;to_view&gt;;\r\n        }\r\n    }\r\n\r\nStill, you need to allow the 3rd_party_response_url in your security configuration. \r\n\r\n**Solution 2**\r\n\r\nYou can try the same `GenericFilterBean` approach described below.\r\n\r\n**Case 2: Users need to be authenticated/sign in**\r\n\r\nIn a Spring Web application where you have configured most of your security rules either through [HttpSecurity][1] or [WebSecurity][2], check this solution. \r\n\r\nSample security config which I have tested the solution:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.\r\n              ......\r\n              ..antMatchers(&lt;3rd_party_response_URL&gt;).permitAll();\r\n              .....\r\n              ..csrf().ignoringAntMatchers(&lt;3rd_party_response_URL&gt;);\r\n        }\r\n    }\r\n\r\nThe Important points which I want to highlight in this configuration are you should allow the 3rd party response URL from Spring Security and CSRF protection(if it&#39;s enabled).\r\n\r\nThen we need to create a HttpServletRequest Filter by extending [GenericFilterBean][3] class ([Filter][4] class did not work for me) and setting the `SameSite` Attributes to the `JSESSIONID` cookie by intercepting each `HttpServletRequest` and setting the response headers.\r\n\r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.web.filter.GenericFilterBean;\r\n    \r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.ServletRequest;\r\n    import javax.servlet.ServletResponse;\r\n    import javax.servlet.http.Cookie;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class SessionCookieFilter extends GenericFilterBean {\r\n    \r\n        private final List&lt;String&gt; PATHS_TO_IGNORE_SETTING_SAMESITE = Arrays.asList(&quot;resources&quot;, &lt;add other paths you want to exclude&gt;);\r\n        private final String SESSION_COOKIE_NAME = &quot;JSESSIONID&quot;;\r\n        private final String SESSION_PATH_ATTRIBUTE = &quot;;Path=&quot;;\r\n        private final String ROOT_CONTEXT = &quot;/&quot;;\r\n        private final String SAME_SITE_ATTRIBUTE_VALUES = &quot;;HttpOnly;Secure;SameSite=None&quot;;\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            HttpServletRequest req = (HttpServletRequest) request;\r\n            HttpServletResponse resp = (HttpServletResponse) response;\r\n            String requestUrl = req.getRequestURL().toString();\r\n            boolean isResourceRequest = requestUrl != null ? StringUtils.isNoneBlank(PATHS_TO_IGNORE_SETTING_SAMESITE.stream().filter(s -&gt; requestUrl.contains(s)).findFirst().orElse(null)) : null;\r\n            if (!isResourceRequest) {\r\n                Cookie[] cookies = ((HttpServletRequest) request).getCookies();\r\n                if (cookies != null &amp;&amp; cookies.length &gt; 0) {\r\n                    List&lt;Cookie&gt; cookieList = Arrays.asList(cookies);\r\n                    Cookie sessionCookie = cookieList.stream().filter(cookie -&gt; SESSION_COOKIE_NAME.equals(cookie.getName())).findFirst().orElse(null);\r\n                    if (sessionCookie != null) {\r\n                        String contextPath = request.getServletContext() != null &amp;&amp; StringUtils.isNotBlank(request.getServletContext().getContextPath()) ? request.getServletContext().getContextPath() : ROOT_CONTEXT;\r\n                        resp.setHeader(HttpHeaders.SET_COOKIE, sessionCookie.getName() + &quot;=&quot; + sessionCookie.getValue() + SESSION_PATH_ATTRIBUTE + contextPath + SAME_SITE_ATTRIBUTE_VALUES);\r\n                    }\r\n                }\r\n            }\r\n            chain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\nThen add this filter to the Spring Security filter chain by \r\n\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n            http.\r\n               ....\r\n               .addFilterAfter(new SessionCookieFilter(), BasicAuthenticationFilter.class);\r\n    }\r\n\r\nin order to determine where you need to place the new filter in Spring’s security filter chain, you can [debug](https://docs.spring.io/spring-security/site/docs/4.0.x/apidocs/org/springframework/security/config/annotation/web/configuration/EnableWebSecurity.html#debug--) the Spring security filter chain easily and identify a proper location in the filter chain. Apart from the `BasicAuthenticationFilter`, after the [SecurityContextPersistanceFilter](https://docs.spring.io/spring-security/site/docs/3.2.8.RELEASE/apidocs/org/springframework/security/web/context/SecurityContextPersistenceFilter.html) would be an another ideal place.\r\n\r\nThis `SameSite` cookie attribute will not support some [old browser versions][5] and in that case, check the browser and avoid setting `SameSite` in incompatible clients.\r\n\r\n   \r\n\r\n    private static final String _I_PHONE_IOS_12 = &quot;iPhone OS 12_&quot;;\r\n        private static final String _I_PAD_IOS_12 = &quot;iPad; CPU OS 12_&quot;;\r\n        private static final String _MAC_OS_10_14 = &quot; OS X 10_14_&quot;;\r\n        private static final String _VERSION = &quot;Version/&quot;;\r\n        private static final String _SAFARI = &quot;Safari&quot;;\r\n        private static final String _EMBED_SAFARI = &quot;(KHTML, like Gecko)&quot;;\r\n        private static final String _CHROME = &quot;Chrome/&quot;;\r\n        private static final String _CHROMIUM = &quot;Chromium/&quot;;\r\n        private static final String _UC_BROWSER = &quot;UCBrowser/&quot;;\r\n        private static final String _ANDROID = &quot;Android&quot;;\r\n    \r\n        /*\r\n         * checks SameSite=None;Secure incompatible Browsers\r\n         * https://www.chromium.org/updates/same-site/incompatible-clients\r\n         */\r\n        public static boolean isSameSiteInCompatibleClient(HttpServletRequest request) {\r\n            String userAgent = request.getHeader(&quot;user-agent&quot;);\r\n            if (StringUtils.isNotBlank(userAgent)) {\r\n                boolean isIos12 = isIos12(userAgent), isMacOs1014 = isMacOs1014(userAgent), isChromeChromium51To66 = isChromeChromium51To66(userAgent), isUcBrowser = isUcBrowser(userAgent);\r\n                //TODO : Added for testing purpose. remove before Prod release.\r\n                LOG.info(&quot;*********************************************************************************&quot;);\r\n                LOG.info(&quot;is iOS 12 = {}, is MacOs 10.14 = {}, is Chrome 51-66 = {}, is Android UC Browser = {}&quot;, isIos12, isMacOs1014, isChromeChromium51To66, isUcBrowser);\r\n                LOG.info(&quot;*********************************************************************************&quot;);\r\n                return isIos12 || isMacOs1014 || isChromeChromium51To66 || isUcBrowser;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        private static boolean isIos12(String userAgent) {\r\n            return StringUtils.contains(userAgent, _I_PHONE_IOS_12) || StringUtils.contains(userAgent, _I_PAD_IOS_12);\r\n        }\r\n    \r\n        private static boolean isMacOs1014(String userAgent) {\r\n            return StringUtils.contains(userAgent, _MAC_OS_10_14)\r\n                &amp;&amp; ((StringUtils.contains(userAgent, _VERSION) &amp;&amp; StringUtils.contains(userAgent, _SAFARI))  //Safari on MacOS 10.14\r\n                || StringUtils.contains(userAgent, _EMBED_SAFARI)); // Embedded browser on MacOS 10.14\r\n        }\r\n    \r\n        private static boolean isChromeChromium51To66(String userAgent) {\r\n            boolean isChrome = StringUtils.contains(userAgent, _CHROME), isChromium = StringUtils.contains(userAgent, _CHROMIUM);\r\n            if (isChrome || isChromium) {\r\n                int version = isChrome ? Integer.valueOf(StringUtils.substringAfter(userAgent, _CHROME).substring(0, 2))\r\n                    : Integer.valueOf(StringUtils.substringAfter(userAgent, _CHROMIUM).substring(0, 2));\r\n                return ((version &gt;= 51) &amp;&amp; (version &lt;= 66));    //Chrome or Chromium V51-66\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        private static boolean isUcBrowser(String userAgent) {\r\n            if (StringUtils.contains(userAgent, _UC_BROWSER) &amp;&amp; StringUtils.contains(userAgent, _ANDROID)) {\r\n                String[] version = StringUtils.splitByWholeSeparator(StringUtils.substringAfter(userAgent, _UC_BROWSER).substring(0, 7), &quot;.&quot;);\r\n                int major = Integer.valueOf(version[0]), minor = Integer.valueOf(version[1]), build = Integer.valueOf(version[2]);\r\n                return ((major != 0) &amp;&amp; ((major &lt; 12) || (major == 12 &amp;&amp; (minor &lt; 13)) || (major == 12 &amp;&amp; minor == 13 &amp;&amp; (build &lt; 2)))); //UC browser below v12.13.2 in android\r\n            }\r\n            return false;\r\n        }\r\n\r\nAdd above check in SessionCookieFilter like follows, \r\n\r\n    if (!isResourceRequest &amp;&amp; !UserAgentUtils.isSameSiteInCompatibleClient(req)) {\r\n\r\nThis filter won&#39;t work in localhost environments as it requires a Secured(HTTPS) connection to set `Secure` cookie attribute.\r\n\r\nFor a detailed explanation read this [blog post][6].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html\r\n  [2]: https://docs.spring.io/spring-security/site/docs/4.2.15.RELEASE/apidocs/org/springframework/security/config/annotation/web/builders/WebSecurity.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/GenericFilterBean.html\r\n  [4]: https://docs.oracle.com/javaee/7/api/javax/servlet/Filter.html?is-external=true\r\n  [5]: https://www.chromium.org/updates/same-site/incompatible-clients\r\n  [6]: https://thilankadeshan.wordpress.com/2020/11/09/jsession-new-samesite-cookie-policy-in-google-chrome-and-spring/","title":"How to set SameSite and Secure attribute to JSESSIONID cookie","body":"<hr />\n<p><em><strong>UPDATE</strong> on 06/07/2021 - Added correct <code>Path</code> attribute with new sameSite attributes to avoid session cookie duplication with <code>GenericFilterBean</code> approach.</em></p>\n<hr />\n<p>I was able to come up with my own solution for this.</p>\n<p>I have two kinds of applications which run on Spring boot which has different Spring security configurations and they needed different solutions to fix this.</p>\n<p><strong>CASE 1: No user authentication</strong></p>\n<p><strong>Solution 1</strong></p>\n<p>In here you might have created an endpoint for the 3rd party response, in your application. You are safe until you access httpSession in a controller method. If you are accessing session in different controller method then send a temporary redirect request to there like follows.</p>\n<pre><code>@Controller\npublic class ThirdPartyResponseController{\n\n@RequestMapping(value=3rd_party_response_URL, method=RequestMethod.POST)\npublic void thirdPartyresponse(HttpServletRequest request, HttpServletResponse httpServletResponse){\n    // your logic\n    // and you can set any data as an session attribute which you want to access over the 2nd controller \n    request.getSession().setAttribute(&lt;data&gt;)\n    try {\n        httpServletResponse.sendRedirect(&lt;redirect_URL&gt;);\n    } catch (IOException e) {\n        // handle error\n    }\n}\n\n@RequestMapping(value=redirect_URL, method=RequestMethod.GET)\npublic String thirdPartyresponse(HttpServletRequest request,  HttpServletResponse httpServletResponse, Model model,  RedirectAttributes redirectAttributes, HttpSession session){\n    // your logic\n        return &lt;to_view&gt;;\n    }\n}\n</code></pre>\n<p>Still, you need to allow the 3rd_party_response_url in your security configuration.</p>\n<p><strong>Solution 2</strong></p>\n<p>You can try the same <code>GenericFilterBean</code> approach described below.</p>\n<p><strong>Case 2: Users need to be authenticated/sign in</strong></p>\n<p>In a Spring Web application where you have configured most of your security rules either through <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html\" rel=\"noreferrer\">HttpSecurity</a> or <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.15.RELEASE/apidocs/org/springframework/security/config/annotation/web/builders/WebSecurity.html\" rel=\"noreferrer\">WebSecurity</a>, check this solution.</p>\n<p>Sample security config which I have tested the solution:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.\n          ......\n          ..antMatchers(&lt;3rd_party_response_URL&gt;).permitAll();\n          .....\n          ..csrf().ignoringAntMatchers(&lt;3rd_party_response_URL&gt;);\n    }\n}\n</code></pre>\n<p>The Important points which I want to highlight in this configuration are you should allow the 3rd party response URL from Spring Security and CSRF protection(if it's enabled).</p>\n<p>Then we need to create a HttpServletRequest Filter by extending <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/GenericFilterBean.html\" rel=\"noreferrer\">GenericFilterBean</a> class (<a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/Filter.html?is-external=true\" rel=\"noreferrer\">Filter</a> class did not work for me) and setting the <code>SameSite</code> Attributes to the <code>JSESSIONID</code> cookie by intercepting each <code>HttpServletRequest</code> and setting the response headers.</p>\n<pre><code>import org.apache.commons.lang3.StringUtils;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.web.filter.GenericFilterBean;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.http.Cookie;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class SessionCookieFilter extends GenericFilterBean {\n\n    private final List&lt;String&gt; PATHS_TO_IGNORE_SETTING_SAMESITE = Arrays.asList(&quot;resources&quot;, &lt;add other paths you want to exclude&gt;);\n    private final String SESSION_COOKIE_NAME = &quot;JSESSIONID&quot;;\n    private final String SESSION_PATH_ATTRIBUTE = &quot;;Path=&quot;;\n    private final String ROOT_CONTEXT = &quot;/&quot;;\n    private final String SAME_SITE_ATTRIBUTE_VALUES = &quot;;HttpOnly;Secure;SameSite=None&quot;;\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        HttpServletRequest req = (HttpServletRequest) request;\n        HttpServletResponse resp = (HttpServletResponse) response;\n        String requestUrl = req.getRequestURL().toString();\n        boolean isResourceRequest = requestUrl != null ? StringUtils.isNoneBlank(PATHS_TO_IGNORE_SETTING_SAMESITE.stream().filter(s -&gt; requestUrl.contains(s)).findFirst().orElse(null)) : null;\n        if (!isResourceRequest) {\n            Cookie[] cookies = ((HttpServletRequest) request).getCookies();\n            if (cookies != null &amp;&amp; cookies.length &gt; 0) {\n                List&lt;Cookie&gt; cookieList = Arrays.asList(cookies);\n                Cookie sessionCookie = cookieList.stream().filter(cookie -&gt; SESSION_COOKIE_NAME.equals(cookie.getName())).findFirst().orElse(null);\n                if (sessionCookie != null) {\n                    String contextPath = request.getServletContext() != null &amp;&amp; StringUtils.isNotBlank(request.getServletContext().getContextPath()) ? request.getServletContext().getContextPath() : ROOT_CONTEXT;\n                    resp.setHeader(HttpHeaders.SET_COOKIE, sessionCookie.getName() + &quot;=&quot; + sessionCookie.getValue() + SESSION_PATH_ATTRIBUTE + contextPath + SAME_SITE_ATTRIBUTE_VALUES);\n                }\n            }\n        }\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>Then add this filter to the Spring Security filter chain by</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n        http.\n           ....\n           .addFilterAfter(new SessionCookieFilter(), BasicAuthenticationFilter.class);\n}\n</code></pre>\n<p>in order to determine where you need to place the new filter in Spring’s security filter chain, you can <a href=\"https://docs.spring.io/spring-security/site/docs/4.0.x/apidocs/org/springframework/security/config/annotation/web/configuration/EnableWebSecurity.html#debug--\" rel=\"noreferrer\">debug</a> the Spring security filter chain easily and identify a proper location in the filter chain. Apart from the <code>BasicAuthenticationFilter</code>, after the <a href=\"https://docs.spring.io/spring-security/site/docs/3.2.8.RELEASE/apidocs/org/springframework/security/web/context/SecurityContextPersistenceFilter.html\" rel=\"noreferrer\">SecurityContextPersistanceFilter</a> would be an another ideal place.</p>\n<p>This <code>SameSite</code> cookie attribute will not support some <a href=\"https://www.chromium.org/updates/same-site/incompatible-clients\" rel=\"noreferrer\">old browser versions</a> and in that case, check the browser and avoid setting <code>SameSite</code> in incompatible clients.</p>\n<pre><code>private static final String _I_PHONE_IOS_12 = &quot;iPhone OS 12_&quot;;\n    private static final String _I_PAD_IOS_12 = &quot;iPad; CPU OS 12_&quot;;\n    private static final String _MAC_OS_10_14 = &quot; OS X 10_14_&quot;;\n    private static final String _VERSION = &quot;Version/&quot;;\n    private static final String _SAFARI = &quot;Safari&quot;;\n    private static final String _EMBED_SAFARI = &quot;(KHTML, like Gecko)&quot;;\n    private static final String _CHROME = &quot;Chrome/&quot;;\n    private static final String _CHROMIUM = &quot;Chromium/&quot;;\n    private static final String _UC_BROWSER = &quot;UCBrowser/&quot;;\n    private static final String _ANDROID = &quot;Android&quot;;\n\n    /*\n     * checks SameSite=None;Secure incompatible Browsers\n     * https://www.chromium.org/updates/same-site/incompatible-clients\n     */\n    public static boolean isSameSiteInCompatibleClient(HttpServletRequest request) {\n        String userAgent = request.getHeader(&quot;user-agent&quot;);\n        if (StringUtils.isNotBlank(userAgent)) {\n            boolean isIos12 = isIos12(userAgent), isMacOs1014 = isMacOs1014(userAgent), isChromeChromium51To66 = isChromeChromium51To66(userAgent), isUcBrowser = isUcBrowser(userAgent);\n            //TODO : Added for testing purpose. remove before Prod release.\n            LOG.info(&quot;*********************************************************************************&quot;);\n            LOG.info(&quot;is iOS 12 = {}, is MacOs 10.14 = {}, is Chrome 51-66 = {}, is Android UC Browser = {}&quot;, isIos12, isMacOs1014, isChromeChromium51To66, isUcBrowser);\n            LOG.info(&quot;*********************************************************************************&quot;);\n            return isIos12 || isMacOs1014 || isChromeChromium51To66 || isUcBrowser;\n        }\n        return false;\n    }\n\n    private static boolean isIos12(String userAgent) {\n        return StringUtils.contains(userAgent, _I_PHONE_IOS_12) || StringUtils.contains(userAgent, _I_PAD_IOS_12);\n    }\n\n    private static boolean isMacOs1014(String userAgent) {\n        return StringUtils.contains(userAgent, _MAC_OS_10_14)\n            &amp;&amp; ((StringUtils.contains(userAgent, _VERSION) &amp;&amp; StringUtils.contains(userAgent, _SAFARI))  //Safari on MacOS 10.14\n            || StringUtils.contains(userAgent, _EMBED_SAFARI)); // Embedded browser on MacOS 10.14\n    }\n\n    private static boolean isChromeChromium51To66(String userAgent) {\n        boolean isChrome = StringUtils.contains(userAgent, _CHROME), isChromium = StringUtils.contains(userAgent, _CHROMIUM);\n        if (isChrome || isChromium) {\n            int version = isChrome ? Integer.valueOf(StringUtils.substringAfter(userAgent, _CHROME).substring(0, 2))\n                : Integer.valueOf(StringUtils.substringAfter(userAgent, _CHROMIUM).substring(0, 2));\n            return ((version &gt;= 51) &amp;&amp; (version &lt;= 66));    //Chrome or Chromium V51-66\n        }\n        return false;\n    }\n\n    private static boolean isUcBrowser(String userAgent) {\n        if (StringUtils.contains(userAgent, _UC_BROWSER) &amp;&amp; StringUtils.contains(userAgent, _ANDROID)) {\n            String[] version = StringUtils.splitByWholeSeparator(StringUtils.substringAfter(userAgent, _UC_BROWSER).substring(0, 7), &quot;.&quot;);\n            int major = Integer.valueOf(version[0]), minor = Integer.valueOf(version[1]), build = Integer.valueOf(version[2]);\n            return ((major != 0) &amp;&amp; ((major &lt; 12) || (major == 12 &amp;&amp; (minor &lt; 13)) || (major == 12 &amp;&amp; minor == 13 &amp;&amp; (build &lt; 2)))); //UC browser below v12.13.2 in android\n        }\n        return false;\n    }\n</code></pre>\n<p>Add above check in SessionCookieFilter like follows,</p>\n<pre><code>if (!isResourceRequest &amp;&amp; !UserAgentUtils.isSameSiteInCompatibleClient(req)) {\n</code></pre>\n<p>This filter won't work in localhost environments as it requires a Secured(HTTPS) connection to set <code>Secure</code> cookie attribute.</p>\n<p>For a detailed explanation read this <a href=\"https://thilankadeshan.wordpress.com/2020/11/09/jsession-new-samesite-cookie-policy-in-google-chrome-and-spring/\" rel=\"noreferrer\">blog post</a>.</p>\n"},{"comments":[{"owner":{"account_id":5582102,"reputation":1071,"user_id":4423695,"display_name":"ThilankaD"},"score":0,"creation_date":1645357709,"post_id":71145687,"comment_id":125845109,"body_markdown":"as you said, the above solutions will work for the latest versions of Spring boot (Assume it is somewhere after 2.6 - https://github.com/spring-projects/spring-framework/issues/27596) and with the latest Tomcat version. If there is anyone who needs a workaround by staying at the same Spring boot version (because we know the struggles we need to go through when it is needed to update a particular spring boot version) like me(v 2.0.3), the solution mentioned in the top answer may help. But if you are using Spring Boot 2.6/7 or latter, then the above answer is way more easier to implement with.","body":"as you said, the above solutions will work for the latest versions of Spring boot (Assume it is somewhere after 2.6 - <a href=\"https://github.com/spring-projects/spring-framework/issues/27596\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/27596</a>) and with the latest Tomcat version. If there is anyone who needs a workaround by staying at the same Spring boot version (because we know the struggles we need to go through when it is needed to update a particular spring boot version) like me(v 2.0.3), the solution mentioned in the top answer may help. But if you are using Spring Boot 2.6/7 or latter, then the above answer is way more easier to implement with."},{"owner":{"account_id":5582102,"reputation":1071,"user_id":4423695,"display_name":"ThilankaD"},"score":0,"creation_date":1645358204,"post_id":71145687,"comment_id":125845202,"body_markdown":"Tomcat update - https://shibboleth.atlassian.net/wiki/spaces/DEV/pages/1192624401/Tomcat+and+Jetty+SameSite+Workarounds#TomcatandJettySameSiteWorkarounds-Tomcat","body":"Tomcat update - <a href=\"https://shibboleth.atlassian.net/wiki/spaces/DEV/pages/1192624401/Tomcat+and+Jetty+SameSite+Workarounds#TomcatandJettySameSiteWorkarounds-Tomcat\" rel=\"nofollow noreferrer\">shibboleth.atlassian.net/wiki/spaces/DEV/pages/1192624401/&hellip;</a>"}],"tags":[],"owner":{"account_id":6734,"reputation":3954,"user_id":11451,"accept_rate":82,"display_name":"Kristof Neirynck"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645030234,"creation_date":1645029224,"answer_id":71145687,"question_id":63939078,"body_markdown":"As mentioned in this answer:\r\nhttps://stackoverflow.com/questions/42998367/same-site-flag-for-session-cookie-in-spring-security\r\n\r\n\t@Configuration\r\n\tpublic static class WebConfig implements WebMvcConfigurer {\r\n\t\t@Bean\r\n\t\tpublic TomcatContextCustomizer sameSiteCookiesConfig() {\r\n\t\t\treturn context -&gt; {\r\n\t\t\t\tfinal Rfc6265CookieProcessor cookieProcessor = new Rfc6265CookieProcessor();\r\n\t\t\t\tcookieProcessor.setSameSiteCookies(SameSiteCookies.NONE.getValue());\r\n\t\t\t\tcontext.setCookieProcessor(cookieProcessor);\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\nbut this seems even simpler\r\n\r\n\t@Configuration\r\n\tpublic static class WebConfig implements WebMvcConfigurer {\r\n\t\t@Bean\r\n\t\tpublic CookieSameSiteSupplier cookieSameSiteSupplier(){\r\n\t\t\treturn CookieSameSiteSupplier.ofNone();\r\n\t\t}\r\n\t}\r\n\r\nOr ... even simpler, spring boot since 2.6.0 supports setting it in application.properties.\r\n\r\n[Spring documentation about SameSite Cookies][1]\r\n\r\n    server.servlet.session.cookie.same-site = none\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.6.0/reference/html/web.html#web.servlet.embedded-container.customizing.samesite","title":"How to set SameSite and Secure attribute to JSESSIONID cookie","body":"<p>As mentioned in this answer:\n<a href=\"https://stackoverflow.com/questions/42998367/same-site-flag-for-session-cookie-in-spring-security\">Same-Site flag for session cookie in Spring Security</a></p>\n<pre><code>@Configuration\npublic static class WebConfig implements WebMvcConfigurer {\n    @Bean\n    public TomcatContextCustomizer sameSiteCookiesConfig() {\n        return context -&gt; {\n            final Rfc6265CookieProcessor cookieProcessor = new Rfc6265CookieProcessor();\n            cookieProcessor.setSameSiteCookies(SameSiteCookies.NONE.getValue());\n            context.setCookieProcessor(cookieProcessor);\n        };\n    }\n}\n</code></pre>\n<p>but this seems even simpler</p>\n<pre><code>@Configuration\npublic static class WebConfig implements WebMvcConfigurer {\n    @Bean\n    public CookieSameSiteSupplier cookieSameSiteSupplier(){\n        return CookieSameSiteSupplier.ofNone();\n    }\n}\n</code></pre>\n<p>Or ... even simpler, spring boot since 2.6.0 supports setting it in application.properties.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.6.0/reference/html/web.html#web.servlet.embedded-container.customizing.samesite\" rel=\"nofollow noreferrer\">Spring documentation about SameSite Cookies</a></p>\n<pre><code>server.servlet.session.cookie.same-site = none\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14676735,"reputation":139,"user_id":10599548,"display_name":"GioPoe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684259852,"creation_date":1684259852,"answer_id":76265901,"question_id":63939078,"body_markdown":"Adding to this chain for future devs, depending on the spring version, modifying the configuration via code (as seen in other replies) might only be modifying the embedded tomcat server. If your project is deployed in an existing Tomcat server, adding Samesite to JSessionid would be doable through context.xml. Although, there are several ways to set a context so check this reference to identify your scenario. \r\nhttps://octopus.com/blog/defining-tomcat-context-paths","title":"How to set SameSite and Secure attribute to JSESSIONID cookie","body":"<p>Adding to this chain for future devs, depending on the spring version, modifying the configuration via code (as seen in other replies) might only be modifying the embedded tomcat server. If your project is deployed in an existing Tomcat server, adding Samesite to JSessionid would be doable through context.xml. Although, there are several ways to set a context so check this reference to identify your scenario.\n<a href=\"https://octopus.com/blog/defining-tomcat-context-paths\" rel=\"nofollow noreferrer\">https://octopus.com/blog/defining-tomcat-context-paths</a></p>\n"}],"owner":{"account_id":5582102,"reputation":1071,"user_id":4423695,"display_name":"ThilankaD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39372,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":64558083,"answer_count":4,"score":14,"last_activity_date":1684259852,"creation_date":1600349168,"question_id":63939078,"body_markdown":"I have a Spring Boot Web Application (Spring boot version 2.0.3.RELEASE) and running in an Apache Tomcat 8.5.5 server.\r\n\r\nWith the recent security policy which has imposed by Google Chrome (Rolled out since 80.0), it is requested to apply the new `SameSite` attribute to make the Cross-site cookie access in a more secure way instead of the CSRF. As I have done nothing related that and Chrome has set default value `SameSite=Lax` for the first-party cookies, one of my third-party service integration is failing due to the reason that chrome is restricting access of cross-site cookies when `SameSite=Lax` and if the third party response is coming from a `POST` request (O*nce the procedure completes third-party service redirect to our site with a `POST` request*). in there Tomcat unable to find the session so it appends a new `JSESSIONID` (with a new session and the previous session was killed) at the end of the URL. So Spring rejects the URL as it contains a semicolon which was introduced by the new `JSESSIONID` append.\r\n\r\nSo I need to change the `JSESSIONID` cookie attributes(`SameSite=None; Secure`) and tried it in several ways including WebFilters.I have seen the same question and answers in Stackoverflow and tried most of them but ended up in nowhere.\r\n\r\ncan someone come up with a solution to change those headers in Spring Boot, please?","title":"How to set SameSite and Secure attribute to JSESSIONID cookie","body":"<p>I have a Spring Boot Web Application (Spring boot version 2.0.3.RELEASE) and running in an Apache Tomcat 8.5.5 server.</p>\n<p>With the recent security policy which has imposed by Google Chrome (Rolled out since 80.0), it is requested to apply the new <code>SameSite</code> attribute to make the Cross-site cookie access in a more secure way instead of the CSRF. As I have done nothing related that and Chrome has set default value <code>SameSite=Lax</code> for the first-party cookies, one of my third-party service integration is failing due to the reason that chrome is restricting access of cross-site cookies when <code>SameSite=Lax</code> and if the third party response is coming from a <code>POST</code> request (O<em>nce the procedure completes third-party service redirect to our site with a <code>POST</code> request</em>). in there Tomcat unable to find the session so it appends a new <code>JSESSIONID</code> (with a new session and the previous session was killed) at the end of the URL. So Spring rejects the URL as it contains a semicolon which was introduced by the new <code>JSESSIONID</code> append.</p>\n<p>So I need to change the <code>JSESSIONID</code> cookie attributes(<code>SameSite=None; Secure</code>) and tried it in several ways including WebFilters.I have seen the same question and answers in Stackoverflow and tried most of them but ended up in nowhere.</p>\n<p>can someone come up with a solution to change those headers in Spring Boot, please?</p>\n"},{"tags":["java","vert.x"],"comments":[{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1684317801,"post_id":76265896,"comment_id":134499683,"body_markdown":"There&#39;s no other solution, the template handler is built to look for a template named after the relative http path","body":"There&#39;s no other solution, the template handler is built to look for a template named after the relative http path"}],"owner":{"account_id":23696452,"reputation":195,"user_id":17720111,"display_name":"Qori"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684259812,"creation_date":1684259812,"question_id":76265896,"body_markdown":"Given code below that handle GET request to `/article/:id`. If i make request to `/article/1` VertX would look for template file in `article/1.hbs` instead of `article.hbs`.\r\n\r\n```java\r\nTemplateEngine engine = HandlebarsTemplateEngine.create();\r\nTemplateHandler handler = TemplateHandler.create(engine);\r\n\r\nrouter.get(&quot;/article/:id&quot;).handler(handler);\r\n```\r\n\r\nHow do i reuse `article.hbs` with dynamic url without manually calling `engine.render()`?\r\n\r\nThis is my current solution by manually calling `engine.render()`\r\n\r\n```java\r\n    Handler&lt;RoutingContext&gt; render(String template) {\r\n\r\n        return (ctx) -&gt; {\r\n            engine.render(ctx.data(), &quot;templates/&quot; + template, res -&gt; {\r\n                if (res.succeeded()) {\r\n                    ctx.response().end(res.result());\r\n                } else {\r\n                    ctx.fail(res.cause());\r\n                }\r\n            });\r\n        };\r\n    }\r\n```\r\n\r\nis there any solution more elegant? like express&#39; `res.render()`?","title":"How to use VertX web template with dynamic url?","body":"<p>Given code below that handle GET request to <code>/article/:id</code>. If i make request to <code>/article/1</code> VertX would look for template file in <code>article/1.hbs</code> instead of <code>article.hbs</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>TemplateEngine engine = HandlebarsTemplateEngine.create();\nTemplateHandler handler = TemplateHandler.create(engine);\n\nrouter.get(&quot;/article/:id&quot;).handler(handler);\n</code></pre>\n<p>How do i reuse <code>article.hbs</code> with dynamic url without manually calling <code>engine.render()</code>?</p>\n<p>This is my current solution by manually calling <code>engine.render()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    Handler&lt;RoutingContext&gt; render(String template) {\n\n        return (ctx) -&gt; {\n            engine.render(ctx.data(), &quot;templates/&quot; + template, res -&gt; {\n                if (res.succeeded()) {\n                    ctx.response().end(res.result());\n                } else {\n                    ctx.fail(res.cause());\n                }\n            });\n        };\n    }\n</code></pre>\n<p>is there any solution more elegant? like express' <code>res.render()</code>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1683572040,"post_id":76203526,"comment_id":134384157,"body_markdown":"Using `echo %PATH%` and `where java` inside CMD window should tell you enough to work out what is wrong with your PATH setup. Make sure it does not contain oracle javapath or other JRE before your preferred JRE","body":"Using <code>echo %PATH%</code> and <code>where java</code> inside CMD window should tell you enough to work out what is wrong with your PATH setup. Make sure it does not contain oracle javapath or other JRE before your preferred JRE"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1683572090,"post_id":76203526,"comment_id":134384170,"body_markdown":"Is java on your path? I think you can do something like `set PATH=c:\\\\Program\\ Files\\\\Java\\\\JDK-20\\\\Java\\\\bin:%PATH%`","body":"Is java on your path? I think you can do something like <code>set PATH=c:\\\\Program\\ Files\\\\Java\\\\JDK-20\\\\Java\\\\bin:%PATH%</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1683572173,"post_id":76203526,"comment_id":134384194,"body_markdown":"Is c:\\dev where you are trying to run your program from?","body":"Is c:\\dev where you are trying to run your program from?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683572663,"post_id":76203526,"comment_id":134384301,"body_markdown":"* I think you can do something like set PATH=...*c:\\\\Program\\ Files\\\\Java\\\\JDK-20\\\\Java\\\\bin:%PATH% – \nmatt\n8 mins ago","body":"* I think you can do something like set PATH=...*c:\\\\Program\\ Files\\\\Java\\\\JDK-20\\\\Java\\\\bin:%PATH% –  matt 8 mins ago"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1683572703,"post_id":76203526,"comment_id":134384305,"body_markdown":"`c:\\Program files\\Java\\JDK-20\\Java\\bin` Are you sure about that? On my machine, `java.exe` is in this folder: `C:\\Program Files\\Java\\jdk-20\\bin`. I suggest that you post a screen capture of your _File Explorer_ showing the location of file `java.exe` See here: https://imgur.com/5M7pcom","body":"<code>c:\\Program files\\Java\\JDK-20\\Java\\bin</code> Are you sure about that? On my machine, <code>java.exe</code> is in this folder: <code>C:\\Program Files\\Java\\jdk-20\\bin</code>. I suggest that you post a screen capture of your <i>File Explorer</i> showing the location of file <code>java.exe</code> See here: <a href=\"https://imgur.com/5M7pcom\" rel=\"nofollow noreferrer\">imgur.com/5M7pcom</a>"},{"owner":{"account_id":931519,"reputation":2174,"user_id":961331,"accept_rate":88,"display_name":"DontPanic"},"score":0,"creation_date":1683731754,"post_id":76203526,"comment_id":134412498,"body_markdown":"I have posted the requested screen shot to my question,","body":"I have posted the requested screen shot to my question,"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1683781174,"post_id":76203526,"comment_id":134419707,"body_markdown":"I don&#39;t know what [environment variable] `JAVA_PATH` is. I don&#39;t think Java recognizes that variable. Open a command prompt window and enter the command `echo %PATH%` and see if folder `C:\\Program Files\\Java\\jdk-20\\bin` appears in the command output. If it doesn&#39;t, then you need to add it. How you add it depends on which Windows version you have. Do you have Windows 11? Also, which JDK did you install? Is it Oracle&#39;s?","body":"I don&#39;t know what [environment variable] <code>JAVA_PATH</code> is. I don&#39;t think Java recognizes that variable. Open a command prompt window and enter the command <code>echo %PATH%</code> and see if folder <code>C:\\Program Files\\Java\\jdk-20\\bin</code> appears in the command output. If it doesn&#39;t, then you need to add it. How you add it depends on which Windows version you have. Do you have Windows 11? Also, which JDK did you install? Is it Oracle&#39;s?"},{"owner":{"account_id":931519,"reputation":2174,"user_id":961331,"accept_rate":88,"display_name":"DontPanic"},"score":0,"creation_date":1684260126,"post_id":76203526,"comment_id":134491425,"body_markdown":"I have added screen shot of my PATH setting and YES, java.exe is on that path. I am trying to run &quot;java.exe  -version&quot; from different places. Should work, no? I am running Windows 10.","body":"I have added screen shot of my PATH setting and YES, java.exe is on that path. I am trying to run &quot;java.exe  -version&quot; from different places. Should work, no? I am running Windows 10."}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683572815,"post_id":76203536,"comment_id":134384326,"body_markdown":"Yes, edit Environment variables and **pre**pend `%JAVA_HOME%\\bin;` to PATH  There&#39;s nothing called JAVA_PATH that I know of","body":"Yes, edit Environment variables and <b>pre</b>pend <code>%JAVA_HOME%\\bin;</code> to PATH  There&#39;s nothing called JAVA_PATH that I know of"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683573001,"post_id":76203536,"comment_id":134384369,"body_markdown":"Prepend or append depends on your configuration and if you really want to put Java before the operating systems and every other applications in the path.","body":"Prepend or append depends on your configuration and if you really want to put Java before the operating systems and every other applications in the path."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1683586836,"post_id":76203536,"comment_id":134386621,"body_markdown":"Prepending removes any possibility that you will get the wrong Java executing. Append will only work if you&#39;re *certain* that no other Java exists already. If it did, you&#39;d have to remove it first","body":"Prepending removes any possibility that you will get the wrong Java executing. Append will only work if you&#39;re <i>certain</i> that no other Java exists already. If it did, you&#39;d have to remove it first"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683595829,"post_id":76203536,"comment_id":134387442,"body_markdown":"That&#39;s my point; depends on the system and what you are trying to do.","body":"That&#39;s my point; depends on the system and what you are trying to do."}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683571897,"creation_date":1683571897,"answer_id":76203536,"question_id":76203526,"body_markdown":"You need to add `%JAVA_HOME%\\bin` to the PATH variable so the operating system can find the `java.exe` executable.\r\n","title":"How to run Java from command line?","body":"<p>You need to add <code>%JAVA_HOME%\\bin</code> to the PATH variable so the operating system can find the <code>java.exe</code> executable.</p>\n"}],"owner":{"account_id":931519,"reputation":2174,"user_id":961331,"accept_rate":88,"display_name":"DontPanic"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684259535,"creation_date":1683571816,"question_id":76203526,"body_markdown":"I am trying to run java from the command line but having no luck. I have the Java JDK installed in  \r\n\r\n    c:\\Program files\\Java\\JDK-20\\  \r\nwith java.exe in  \r\n\r\n    c:\\Program files\\Java\\JDK-20\\Java\\bin\r\n\r\n\r\n\r\nand have put the above directory in my PATH. \r\nI have also set environment variables  \r\n\r\n      JAVA_HOME=c:\\Program Files\\Java\\JDK-20  \r\n      JAVA_PATH=c:\\Program Files\\Java\\JDK-20\\bin\\java.exe\r\n\r\n \r\n If I run &quot;java.exe -version&quot; from the above dir it appears to work OK: I get a dump of java info  \r\n  \r\n    java version &quot;20&quot; 2023-03-21\r\n    Java(TM) SE Runtime Environment (build 20+36-2344)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 20+36-2344, mixed mode, sharing)  \r\n\r\n  If I try to run that command from any other directory, I get the error  \r\n\r\n    Error: missing &#39;server&#39; JVM at &#39;c:\\dev\\bin\\server\\jvm.dll  \r\n    Please install or use the  JRE or JDK that contains these missing components  \r\n\r\n  **I&#39;m confused. What am I doing wrong?**\r\n\r\nBelow is an image of my JDK/bin directory and PATH:\r\n [![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IwmCv.jpg\r\n  [2]: https://i.stack.imgur.com/PP6YD.png","title":"How to run Java from command line?","body":"<p>I am trying to run java from the command line but having no luck. I have the Java JDK installed in</p>\n<pre><code>c:\\Program files\\Java\\JDK-20\\  \n</code></pre>\n<p>with java.exe in</p>\n<pre><code>c:\\Program files\\Java\\JDK-20\\Java\\bin\n</code></pre>\n<p>and have put the above directory in my PATH.\nI have also set environment variables</p>\n<pre><code>  JAVA_HOME=c:\\Program Files\\Java\\JDK-20  \n  JAVA_PATH=c:\\Program Files\\Java\\JDK-20\\bin\\java.exe\n</code></pre>\n<p>If I run &quot;java.exe -version&quot; from the above dir it appears to work OK: I get a dump of java info</p>\n<pre><code>java version &quot;20&quot; 2023-03-21\nJava(TM) SE Runtime Environment (build 20+36-2344)\nJava HotSpot(TM) 64-Bit Server VM (build 20+36-2344, mixed mode, sharing)  \n</code></pre>\n<p>If I try to run that command from any other directory, I get the error</p>\n<pre><code>Error: missing 'server' JVM at 'c:\\dev\\bin\\server\\jvm.dll  \nPlease install or use the  JRE or JDK that contains these missing components  \n</code></pre>\n<p><strong>I'm confused. What am I doing wrong?</strong></p>\n<p>Below is an image of my JDK/bin directory and PATH:\n<a href=\"https://i.stack.imgur.com/IwmCv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IwmCv.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/PP6YD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PP6YD.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":1,"creation_date":1676078044,"post_id":75407765,"comment_id":133071639,"body_markdown":"What are your dependencies? Did you read the migration guide? https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide","body":"What are your dependencies? Did you read the migration guide? <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>"},{"owner":{"account_id":27750725,"reputation":81,"user_id":21185196,"display_name":"Davis"},"score":0,"creation_date":1676547139,"post_id":75407765,"comment_id":133160725,"body_markdown":"&lt;parent&gt;\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n\t&lt;/parent&gt;","body":"&lt;parent&gt; \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; \t\t&lt;version&gt;3.0.2&lt;/version&gt; \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt; \t&lt;/parent&gt;"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":1,"creation_date":1676550828,"post_id":75407765,"comment_id":133161797,"body_markdown":"This is not all dependencies, this a parent. Also, you need to provide your conf and the code throwing that if you expect an answer. Edit your question.","body":"This is not all dependencies, this a parent. Also, you need to provide your conf and the code throwing that if you expect an answer. Edit your question."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1677483763,"post_id":75407765,"comment_id":133339352,"body_markdown":"Looks like spring-security-oauth2-client version is not Spring Boot 3 compatible  - directly or via spring-boot-starter-oauth2-client. Needs to be v6. If you post your entire pom file we can investigate.","body":"Looks like spring-security-oauth2-client version is not Spring Boot 3 compatible  - directly or via spring-boot-starter-oauth2-client. Needs to be v6. If you post your entire pom file we can investigate."}],"answers":[{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1681977712,"creation_date":1677480609,"answer_id":75577453,"question_id":75407765,"body_markdown":"You have made a major version jump, from `spring-boot` 2.X to `spring-boot` 3.X - you *must* expect that there will be incompatible changes. Now this offending method has changed the return value, [check the source][1]. I think the problem is clear - in JVM bytecode you have a versions of the method with different signatures than you expect (Note, that for JVM [return type is a part of the invoke instruction and is a part of signature][2]):\r\n\r\n1. You have different `spring-web` JARs during your compilation and runtime. It can happen, there is even a concept in CS called [dependencies hell][3]. Because this return types change is incompatible so your code shouldn&#39;t even compile, but still you was able to do so. You need to ensure that your compilation classpath has the same `spring-web` jar as runtime classpath.\r\n\r\n2. You have code that is already compiled with old `spring-web` verison, and now you are launching a jar providing a classpath with newer version of `spring-web`. It is unlikely, but still, worth mentioning.\r\n\r\nFinally, there are [some good articles][4] that illustrate the problem that you encountered. Consider taking a look.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/main/spring-web/src/main/java/org/springframework/http/client/ClientHttpResponse.java\r\n  [2]: https://stackoverflow.com/questions/1134054/changing-return-type-of-method-gives-java-lang-nosuchmethoderror\r\n  [3]: https://en.wikipedia.org/wiki/Dependency_hell\r\n  [4]: https://web.archive.org/web/20210418055531/http://thegordian.blogspot.com/2014/12/when-you-change-method-return-type.html","title":"java.lang.NoSuchMethodError: &#39;org.springframework.http.HttpStatus org.springframework.http.client.ClientHttpResponse.getStatusCode()&#39;","body":"<p>You have made a major version jump, from <code>spring-boot</code> 2.X to <code>spring-boot</code> 3.X - you <em>must</em> expect that there will be incompatible changes. Now this offending method has changed the return value, <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-web/src/main/java/org/springframework/http/client/ClientHttpResponse.java\" rel=\"nofollow noreferrer\">check the source</a>. I think the problem is clear - in JVM bytecode you have a versions of the method with different signatures than you expect (Note, that for JVM <a href=\"https://stackoverflow.com/questions/1134054/changing-return-type-of-method-gives-java-lang-nosuchmethoderror\">return type is a part of the invoke instruction and is a part of signature</a>):</p>\n<ol>\n<li><p>You have different <code>spring-web</code> JARs during your compilation and runtime. It can happen, there is even a concept in CS called <a href=\"https://en.wikipedia.org/wiki/Dependency_hell\" rel=\"nofollow noreferrer\">dependencies hell</a>. Because this return types change is incompatible so your code shouldn't even compile, but still you was able to do so. You need to ensure that your compilation classpath has the same <code>spring-web</code> jar as runtime classpath.</p>\n</li>\n<li><p>You have code that is already compiled with old <code>spring-web</code> verison, and now you are launching a jar providing a classpath with newer version of <code>spring-web</code>. It is unlikely, but still, worth mentioning.</p>\n</li>\n</ol>\n<p>Finally, there are <a href=\"https://web.archive.org/web/20210418055531/http://thegordian.blogspot.com/2014/12/when-you-change-method-return-type.html\" rel=\"nofollow noreferrer\">some good articles</a> that illustrate the problem that you encountered. Consider taking a look.</p>\n"},{"tags":[],"owner":{"account_id":9466837,"reputation":161,"user_id":7038893,"display_name":"David G."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681977227,"creation_date":1681977227,"answer_id":76061731,"question_id":75407765,"body_markdown":"I was in the same situation, and needed code that could work with both Spring Boot 2 and 3.\r\nIf that&#39;s your case, the simplest solution is to use instead the (now deprecated) method [getStatusCodeValue()][1] this will work the same in spring-web from 4.x to 6.x (it returns an int value instead of a String, but you should be able to manage that).\r\n\r\nMind you, there have been lots of other incompatible changes (a ton more than there were between spring-web 4.x and 5.x) so you might still encounter problems...\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html#getStatusCodeValue()","title":"java.lang.NoSuchMethodError: &#39;org.springframework.http.HttpStatus org.springframework.http.client.ClientHttpResponse.getStatusCode()&#39;","body":"<p>I was in the same situation, and needed code that could work with both Spring Boot 2 and 3.\nIf that's your case, the simplest solution is to use instead the (now deprecated) method <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html#getStatusCodeValue()\" rel=\"nofollow noreferrer\">getStatusCodeValue()</a> this will work the same in spring-web from 4.x to 6.x (it returns an int value instead of a String, but you should be able to manage that).</p>\n<p>Mind you, there have been lots of other incompatible changes (a ton more than there were between spring-web 4.x and 5.x) so you might still encounter problems...</p>\n"}],"owner":{"account_id":27750725,"reputation":81,"user_id":21185196,"display_name":"Davis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10988,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"closed_date":1684259326,"answer_count":2,"score":8,"last_activity_date":1684259184,"creation_date":1676011782,"question_id":75407765,"body_markdown":"I have updated spring boot version from 2.7.5 to 3.0.2 . I have updated Jakarta too . Only when trying to fatch url it is getting following error:\r\n```\r\njava.lang.NoSuchMethodError: &#39;org.springframework.http.HttpStatus org.springframework.http.client.ClientHttpResponse.getStatusCode()&#39;\r\nat org.springframework.security.oauth2.client.http.OAuth2ErrorHandler.hasError(OAuth2ErrorHandler.java:76) \\~\\[spring-security-oauth2-2.0.17.RELEASE.jar:na\\]\r\nat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:904) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:804) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:665) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat com.mbusa.gm.repository.OneApiRepository.getVehicleFromSWT(OneApiRepository.java:178) \\~\\[classes/:na\\]\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\~\\[na:na\\]\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) \\~\\[na:na\\]\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \\~\\[na:na\\]\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) \\~\\[na:na\\]\r\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\r\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\r\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\r\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\r\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) \\~\\[spring-tx-6.0.4.jar:6.0.4\\]\r\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\r\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\r\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\r\nat com.mbusa.gm.repository.OneApiRepository$$SpringCGLIB$$0.getVehicleFromSWT(\\&lt;generated\\&gt;) \\~\\[classes/:na\\]\r\nat com.mbusa.gm.service.GreyMarketService.addVehicleExport(GreyMarketService.java:47) \\~\\[classes/:na\\]\r\nat com.mbusa.gm.controller.GreyMarketController.addVehicleExport(GreyMarketController.java:98) \\~\\[classes/:na\\]\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\~\\[na:na\\]\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) \\~\\[na:na\\]\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \\~\\[na:na\\]\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) \\~\\[na:na\\]\r\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\r\nat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731) \\~\\[tomcat-embed-core-10.1.5.jar:6.0\\]\r\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\r\nat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) \\~\\[tomcat-embed-core-10.1.5.jar:6.0\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) \\~\\[tomcat-embed-websocket-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat java.base/java.lang.Thread.run(Thread.java:833) \\~\\[na:na\\]\r\n```\r\nWhat should i update or change for this error?","title":"java.lang.NoSuchMethodError: &#39;org.springframework.http.HttpStatus org.springframework.http.client.ClientHttpResponse.getStatusCode()&#39;","body":"<p>I have updated spring boot version from 2.7.5 to 3.0.2 . I have updated Jakarta too . Only when trying to fatch url it is getting following error:</p>\n<pre><code>java.lang.NoSuchMethodError: 'org.springframework.http.HttpStatus org.springframework.http.client.ClientHttpResponse.getStatusCode()'\nat org.springframework.security.oauth2.client.http.OAuth2ErrorHandler.hasError(OAuth2ErrorHandler.java:76) \\~\\[spring-security-oauth2-2.0.17.RELEASE.jar:na\\]\nat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:904) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:804) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:665) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat com.mbusa.gm.repository.OneApiRepository.getVehicleFromSWT(OneApiRepository.java:178) \\~\\[classes/:na\\]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\~\\[na:na\\]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) \\~\\[na:na\\]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \\~\\[na:na\\]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) \\~\\[na:na\\]\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) \\~\\[spring-tx-6.0.4.jar:6.0.4\\]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\nat com.mbusa.gm.repository.OneApiRepository$$SpringCGLIB$$0.getVehicleFromSWT(\\&lt;generated\\&gt;) \\~\\[classes/:na\\]\nat com.mbusa.gm.service.GreyMarketService.addVehicleExport(GreyMarketService.java:47) \\~\\[classes/:na\\]\nat com.mbusa.gm.controller.GreyMarketController.addVehicleExport(GreyMarketController.java:98) \\~\\[classes/:na\\]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\~\\[na:na\\]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) \\~\\[na:na\\]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \\~\\[na:na\\]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) \\~\\[na:na\\]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\nat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731) \\~\\[tomcat-embed-core-10.1.5.jar:6.0\\]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\nat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) \\~\\[tomcat-embed-core-10.1.5.jar:6.0\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) \\~\\[tomcat-embed-websocket-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat java.base/java.lang.Thread.run(Thread.java:833) \\~\\[na:na\\]\n</code></pre>\n<p>What should i update or change for this error?</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-dataflow","beam"],"answers":[{"tags":[],"owner":{"account_id":25604480,"reputation":1167,"user_id":19378826,"display_name":"Nestor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684259044,"creation_date":1684259044,"answer_id":76265814,"question_id":76262718,"body_markdown":"I looked upon the same [inquiry][1] and the solution uses the Dofn interface, It is mentioned that it is within the [Dofn Process Element][2] method.&#160;\r\n\r\n\r\n[1]: https://stackoverflow.com/a/60872140/19378826\r\n[2]: https://beam.apache.org/releases/javadoc/2.2.0/org/apache/beam/sdk/transforms/DoFn.ProcessElement.html","title":"How to cancel a GCP Dataflow job programmingly using Beam and just the job ID","body":"<p>I looked upon the same <a href=\"https://stackoverflow.com/a/60872140/19378826\">inquiry</a> and the solution uses the Dofn interface, It is mentioned that it is within the <a href=\"https://beam.apache.org/releases/javadoc/2.2.0/org/apache/beam/sdk/transforms/DoFn.ProcessElement.html\" rel=\"nofollow noreferrer\">Dofn Process Element</a> method. </p>\n"}],"owner":{"account_id":11565609,"reputation":799,"user_id":8473984,"display_name":"ZZZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684259044,"creation_date":1684237891,"question_id":76262718,"body_markdown":"We have a GCP Dataflow project which requires us to cancel a running Dataflow job.\r\n\r\nAll we have at the time of cancellation is the Job ID. \r\n\r\nFrom other posts on Stackoverflow, I learned we can cancel a job using something like this:\r\n\r\n    PipelineResult pipelineResult = pipeline.run();\r\n    result.cancel();\r\n\r\nHowever, we don&#39;t store the pipelineResult when we create it.\r\n\r\nThe PipelineResult is just a DataflowPipelineJob. I am wondering if there are any ways I can retrieve a DataflowPipelineJob using its job and cancel it. Something like:\r\n\r\n    DataflowPipelineJob job = &lt;Get DataflowPipelineJob using Job ID&gt;;\r\n    job.cancel();\r\n\r\n\r\n\r\n","title":"How to cancel a GCP Dataflow job programmingly using Beam and just the job ID","body":"<p>We have a GCP Dataflow project which requires us to cancel a running Dataflow job.</p>\n<p>All we have at the time of cancellation is the Job ID.</p>\n<p>From other posts on Stackoverflow, I learned we can cancel a job using something like this:</p>\n<pre><code>PipelineResult pipelineResult = pipeline.run();\nresult.cancel();\n</code></pre>\n<p>However, we don't store the pipelineResult when we create it.</p>\n<p>The PipelineResult is just a DataflowPipelineJob. I am wondering if there are any ways I can retrieve a DataflowPipelineJob using its job and cancel it. Something like:</p>\n<pre><code>DataflowPipelineJob job = &lt;Get DataflowPipelineJob using Job ID&gt;;\njob.cancel();\n</code></pre>\n"},{"tags":["java","paint","graphics2d"],"comments":[{"owner":{"account_id":21329059,"reputation":43,"user_id":15701076,"display_name":"Elia123456"},"score":0,"creation_date":1684258000,"post_id":76265604,"comment_id":134491006,"body_markdown":"I fixed it but by separating the loops. One loop for filling the sections, and another loop for entering the text. I appreciate if someone can help me fix it using 1 loop.\n\nAdded the split loop to the code above","body":"I fixed it but by separating the loops. One loop for filling the sections, and another loop for entering the text. I appreciate if someone can help me fix it using 1 loop.  Added the split loop to the code above"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1684258121,"post_id":76265604,"comment_id":134491027,"body_markdown":"basically code was drawing colors in one direction and number in the other, so arcs after half are overdrawing the numbers (basically the iteration that would come next on second image) - if you use `-sin` for label (`... centerY - labelRadius * Math.sin( ...`) it should work","body":"basically code was drawing colors in one direction and number in the other, so arcs after half are overdrawing the numbers (basically the iteration that would come next on second image) - if you use <code>-sin</code> for label (<code>... centerY - labelRadius * Math.sin( ...</code>) it should work"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1684258514,"post_id":76265604,"comment_id":134491108,"body_markdown":"from [documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics.html#fillArc(int,int,int,int,int,int)) of `fillArc`: &quot;Angles are interpreted such that 0 degrees is at the 3 o&#39;clock position. A positive value indicates a **counter-clockwise** rotation...&quot; (emphasis mine) but positive y is *downwards*","body":"from <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics.html#fillArc(int,int,int,int,int,int)\" rel=\"nofollow noreferrer\">documentation</a> of <code>fillArc</code>: &quot;Angles are interpreted such that 0 degrees is at the 3 o&#39;clock position. A positive value indicates a <b>counter-clockwise</b> rotation...&quot; (emphasis mine) but positive y is <i>downwards</i>"}],"owner":{"account_id":21329059,"reputation":43,"user_id":15701076,"display_name":"Elia123456"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684258696,"creation_date":1684257066,"question_id":76265604,"body_markdown":"I want to draw a circle, then divide it into 24 equal sections, with different colors. Then add the corresponding number to each section (1 to 24)\r\n\r\nI&#39;m facing an issue having all the numbers displayed, where only 13 until 24 are visible as seen here\r\n[![13 to 24 numbers][1]][1]\r\n\r\n\r\nHowever if I change my condition to traverse only 12 numbers, they will be displayed but the section won&#39;t be filled as seen here\r\n\r\n[![1 to 12 without section color][2]][2]\r\n\r\nHere&#39;s my code:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class DividedCircleWithColorsAndNumbersExample extends JFrame {\r\n        private final Color[] segmentColors = {\r\n                Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW, Color.ORANGE, Color.CYAN,\r\n                Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY, Color.DARK_GRAY, Color.GRAY,\r\n                Color.BLACK, Color.CYAN, Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW,\r\n                Color.ORANGE, Color.CYAN, Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY,\r\n                Color.DARK_GRAY, Color.GRAY, Color.BLACK\r\n        };\r\n    \r\n        public DividedCircleWithColorsAndNumbersExample() {\r\n            setTitle(&quot;Divided Circle with Colors and Numbers Example&quot;);\r\n            setSize(400, 400);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setLocationRelativeTo(null);\r\n            setVisible(true);\r\n        }\r\n    \r\n        @Override\r\n        public void paint(Graphics g) {\r\n            super.paint(g);\r\n    \r\n            Graphics2D g2d = (Graphics2D) g;\r\n    \r\n            int centerX = getWidth() / 2;\r\n            int centerY = getHeight() / 2;\r\n            int radius = 150;\r\n    \r\n            int x = centerX - radius;\r\n            int y = centerY - radius;\r\n            int diameter = 2 * radius;\r\n    \r\n            double angle = 2 * Math.PI / 24; // Angle between each segment\r\n    \r\n            for (int i = 0; i &lt; 24; i++) {\r\n                g2d.setColor(segmentColors[i]);\r\n                int startAngle = (int) Math.toDegrees(i * angle);\r\n                int arcAngle = (int) Math.toDegrees(angle);\r\n                g2d.fillArc(x, y, diameter, diameter, startAngle, arcAngle);\r\n    \r\n                g2d.setColor(Color.WHITE);\r\n                Font font = new Font(&quot;Arial&quot;, Font.BOLD, 16);\r\n                g2d.setFont(font);\r\n    \r\n                int labelRadius = radius - 30;\r\n                int labelX = (int) (centerX + labelRadius * Math.cos(i * angle + angle / 2));\r\n                int labelY = (int) (centerY + labelRadius * Math.sin(i * angle + angle / 2));\r\n                drawCenteredString(g2d, String.valueOf(i + 1), labelX, labelY);\r\n            }\r\n        }\r\n    \r\n        private void drawCenteredString(Graphics2D g2d, String text, int x, int y) {\r\n            FontMetrics fm = g2d.getFontMetrics();\r\n            int textWidth = fm.stringWidth(text);\r\n            int textHeight = fm.getHeight();\r\n            g2d.drawString(text, x - textWidth / 2, y + textHeight / 4);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                new DividedCircleWithColorsAndNumbersExample();\r\n            });\r\n        }\r\n    }\r\n\r\nI can&#39;t figure out the problem\r\n\r\n**Update: If I split the section filling and setting the text into 2 separate loops it works**\r\n[![Split][3]][3]\r\n\r\nThe code will be\r\n\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class DividedCircleWithColorsAndNumbersExample extends JFrame {\r\n    \r\n        private final Color[] segmentColors = {\r\n            Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW, Color.ORANGE, Color.CYAN,\r\n            Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY, Color.DARK_GRAY, Color.GRAY,\r\n            Color.BLACK, Color.WHITE, Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW,\r\n            Color.ORANGE, Color.CYAN, Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY,\r\n            Color.DARK_GRAY, Color.GRAY, Color.BLACK\r\n        };\r\n    \r\n        public DividedCircleWithColorsAndNumbersExample() {\r\n            setTitle(&quot;Divided Circle with Colors and Numbers Example&quot;);\r\n            setSize(400, 400);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setLocationRelativeTo(null);\r\n    //        setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n            setVisible(true);\r\n        }\r\n    \r\n        @Override\r\n        public void paint(Graphics g) {\r\n            super.paint(g);\r\n    \r\n            Graphics2D g2d = (Graphics2D) g;\r\n    \r\n            int centerX = getWidth() / 2;\r\n            int centerY = getHeight() / 2;\r\n            int radius = 150;\r\n    \r\n            int x = centerX - radius;\r\n            int y = centerY - radius;\r\n            int diameter = 2 * radius;\r\n    \r\n            double angle = 2 * Math.PI / 24; // Angle between each segment\r\n    \r\n            for (int i = 0; i &lt; 24; i++) {\r\n                g2d.setColor(segmentColors[i]);\r\n                int startAngle = (int) Math.toDegrees(i * angle);\r\n                int arcAngle = (int) Math.toDegrees(angle);\r\n                g2d.fillArc(x, y, diameter, diameter, startAngle, arcAngle);\r\n    \r\n            }\r\n    \r\n            for (int i = 0; i &lt; 24; i++) {\r\n    \r\n                g2d.setColor(Color.black);\r\n                Font font = new Font(&quot;Arial&quot;, Font.BOLD, 16);\r\n                g2d.setFont(font);\r\n    \r\n                int labelRadius = radius - 30;\r\n                int labelX = (int) (centerX + labelRadius * Math.cos(i * angle + angle / 2));\r\n                int labelY = (int) (centerY + labelRadius * Math.sin(i * angle + angle / 2));\r\n                drawCenteredString(g2d, String.valueOf(i + 1), labelX, labelY);\r\n            }\r\n        }\r\n    \r\n        private void drawCenteredString(Graphics2D g2d, String text, int x, int y) {\r\n            FontMetrics fm = g2d.getFontMetrics();\r\n            int textWidth = fm.stringWidth(text);\r\n            int textHeight = fm.getHeight();\r\n            g2d.drawString(text, x - textWidth / 2, y + textHeight / 4);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                new DividedCircleWithColorsAndNumbersExample();\r\n            });\r\n        }\r\n    }\r\n\r\nIt seems that the section filling is overlapping the numbering\r\n\r\n**Update by taking into consideration the comment here&#39;s the updated code**\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class DividedCircleWithColorsAndNumbersExample extends JFrame {\r\n        private final Color[] segmentColors = {\r\n                Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW, Color.ORANGE, Color.CYAN,\r\n                Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY, Color.DARK_GRAY, Color.GRAY,\r\n                Color.BLACK, Color.WHITE, Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW,\r\n                Color.ORANGE, Color.CYAN, Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY,\r\n                Color.DARK_GRAY, Color.GRAY, Color.BLACK\r\n        };\r\n    \r\n        public DividedCircleWithColorsAndNumbersExample() {\r\n            setTitle(&quot;Divided Circle with Colors and Numbers Example&quot;);\r\n            setSize(400, 400);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setLocationRelativeTo(null);\r\n    //        setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n            setVisible(true);\r\n        }\r\n    \r\n        @Override\r\n        public void paint(Graphics g) {\r\n            super.paint(g);\r\n    \r\n            Graphics2D g2d = (Graphics2D) g;\r\n    \r\n            int centerX = getWidth() / 2;\r\n            int centerY = getHeight() / 2;\r\n            int radius = 150;\r\n    \r\n            int x = centerX - radius;\r\n            int y = centerY - radius;\r\n            int diameter = 2 * radius;\r\n    \r\n            double angle = 2 * Math.PI / 24; // Angle between each segment\r\n    \r\n            for (int i = 0; i &lt; 24; i++) {\r\n                g2d.setColor(segmentColors[i]);\r\n                int startAngle = (int) Math.toDegrees(i * angle);\r\n                int arcAngle = (int) Math.toDegrees(angle);\r\n                g2d.fillArc(x, y, diameter, diameter, startAngle, arcAngle);\r\n    \r\n                g2d.setColor(Color.black);\r\n                Font font = new Font(&quot;Arial&quot;, Font.BOLD, 16);\r\n                g2d.setFont(font);\r\n    \r\n                int labelRadius = radius - 30;\r\n                int labelX = (int) (centerX + labelRadius * Math.cos(i * angle + angle / 2));\r\n                int labelY = (int) (centerY + labelRadius * Math.sin(i * angle + angle / 2) * (-1));\r\n                drawCenteredString(g2d, String.valueOf(i + 1), labelX, labelY);\r\n            }\r\n        }\r\n    \r\n        private void drawCenteredString(Graphics2D g2d, String text, int x, int y) {\r\n            FontMetrics fm = g2d.getFontMetrics();\r\n            int textWidth = fm.stringWidth(text);\r\n            int textHeight = fm.getHeight();\r\n            g2d.drawString(text, x - textWidth / 2, y + textHeight / 4);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                new DividedCircleWithColorsAndNumbersExample();\r\n            });\r\n        }\r\n    }\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yyb5m.png\r\n  [2]: https://i.stack.imgur.com/qeR2T.png\r\n  [3]: https://i.stack.imgur.com/bKa7W.png\r\n  [4]: https://i.stack.imgur.com/pM1xN.png\r\n","title":"Value not displayed in circle section","body":"<p>I want to draw a circle, then divide it into 24 equal sections, with different colors. Then add the corresponding number to each section (1 to 24)</p>\n<p>I'm facing an issue having all the numbers displayed, where only 13 until 24 are visible as seen here\n<a href=\"https://i.stack.imgur.com/yyb5m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yyb5m.png\" alt=\"13 to 24 numbers\" /></a></p>\n<p>However if I change my condition to traverse only 12 numbers, they will be displayed but the section won't be filled as seen here</p>\n<p><a href=\"https://i.stack.imgur.com/qeR2T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qeR2T.png\" alt=\"1 to 12 without section color\" /></a></p>\n<p>Here's my code:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class DividedCircleWithColorsAndNumbersExample extends JFrame {\n    private final Color[] segmentColors = {\n            Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW, Color.ORANGE, Color.CYAN,\n            Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY, Color.DARK_GRAY, Color.GRAY,\n            Color.BLACK, Color.CYAN, Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW,\n            Color.ORANGE, Color.CYAN, Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY,\n            Color.DARK_GRAY, Color.GRAY, Color.BLACK\n    };\n\n    public DividedCircleWithColorsAndNumbersExample() {\n        setTitle(&quot;Divided Circle with Colors and Numbers Example&quot;);\n        setSize(400, 400);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n        setVisible(true);\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n\n        Graphics2D g2d = (Graphics2D) g;\n\n        int centerX = getWidth() / 2;\n        int centerY = getHeight() / 2;\n        int radius = 150;\n\n        int x = centerX - radius;\n        int y = centerY - radius;\n        int diameter = 2 * radius;\n\n        double angle = 2 * Math.PI / 24; // Angle between each segment\n\n        for (int i = 0; i &lt; 24; i++) {\n            g2d.setColor(segmentColors[i]);\n            int startAngle = (int) Math.toDegrees(i * angle);\n            int arcAngle = (int) Math.toDegrees(angle);\n            g2d.fillArc(x, y, diameter, diameter, startAngle, arcAngle);\n\n            g2d.setColor(Color.WHITE);\n            Font font = new Font(&quot;Arial&quot;, Font.BOLD, 16);\n            g2d.setFont(font);\n\n            int labelRadius = radius - 30;\n            int labelX = (int) (centerX + labelRadius * Math.cos(i * angle + angle / 2));\n            int labelY = (int) (centerY + labelRadius * Math.sin(i * angle + angle / 2));\n            drawCenteredString(g2d, String.valueOf(i + 1), labelX, labelY);\n        }\n    }\n\n    private void drawCenteredString(Graphics2D g2d, String text, int x, int y) {\n        FontMetrics fm = g2d.getFontMetrics();\n        int textWidth = fm.stringWidth(text);\n        int textHeight = fm.getHeight();\n        g2d.drawString(text, x - textWidth / 2, y + textHeight / 4);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            new DividedCircleWithColorsAndNumbersExample();\n        });\n    }\n}\n</code></pre>\n<p>I can't figure out the problem</p>\n<p><strong>Update: If I split the section filling and setting the text into 2 separate loops it works</strong>\n<a href=\"https://i.stack.imgur.com/bKa7W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bKa7W.png\" alt=\"Split\" /></a></p>\n<p>The code will be</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class DividedCircleWithColorsAndNumbersExample extends JFrame {\n\n    private final Color[] segmentColors = {\n        Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW, Color.ORANGE, Color.CYAN,\n        Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY, Color.DARK_GRAY, Color.GRAY,\n        Color.BLACK, Color.WHITE, Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW,\n        Color.ORANGE, Color.CYAN, Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY,\n        Color.DARK_GRAY, Color.GRAY, Color.BLACK\n    };\n\n    public DividedCircleWithColorsAndNumbersExample() {\n        setTitle(&quot;Divided Circle with Colors and Numbers Example&quot;);\n        setSize(400, 400);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n//        setExtendedState(JFrame.MAXIMIZED_BOTH);\n        setVisible(true);\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n\n        Graphics2D g2d = (Graphics2D) g;\n\n        int centerX = getWidth() / 2;\n        int centerY = getHeight() / 2;\n        int radius = 150;\n\n        int x = centerX - radius;\n        int y = centerY - radius;\n        int diameter = 2 * radius;\n\n        double angle = 2 * Math.PI / 24; // Angle between each segment\n\n        for (int i = 0; i &lt; 24; i++) {\n            g2d.setColor(segmentColors[i]);\n            int startAngle = (int) Math.toDegrees(i * angle);\n            int arcAngle = (int) Math.toDegrees(angle);\n            g2d.fillArc(x, y, diameter, diameter, startAngle, arcAngle);\n\n        }\n\n        for (int i = 0; i &lt; 24; i++) {\n\n            g2d.setColor(Color.black);\n            Font font = new Font(&quot;Arial&quot;, Font.BOLD, 16);\n            g2d.setFont(font);\n\n            int labelRadius = radius - 30;\n            int labelX = (int) (centerX + labelRadius * Math.cos(i * angle + angle / 2));\n            int labelY = (int) (centerY + labelRadius * Math.sin(i * angle + angle / 2));\n            drawCenteredString(g2d, String.valueOf(i + 1), labelX, labelY);\n        }\n    }\n\n    private void drawCenteredString(Graphics2D g2d, String text, int x, int y) {\n        FontMetrics fm = g2d.getFontMetrics();\n        int textWidth = fm.stringWidth(text);\n        int textHeight = fm.getHeight();\n        g2d.drawString(text, x - textWidth / 2, y + textHeight / 4);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            new DividedCircleWithColorsAndNumbersExample();\n        });\n    }\n}\n</code></pre>\n<p>It seems that the section filling is overlapping the numbering</p>\n<p><strong>Update by taking into consideration the comment here's the updated code</strong></p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class DividedCircleWithColorsAndNumbersExample extends JFrame {\n    private final Color[] segmentColors = {\n            Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW, Color.ORANGE, Color.CYAN,\n            Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY, Color.DARK_GRAY, Color.GRAY,\n            Color.BLACK, Color.WHITE, Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW,\n            Color.ORANGE, Color.CYAN, Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY,\n            Color.DARK_GRAY, Color.GRAY, Color.BLACK\n    };\n\n    public DividedCircleWithColorsAndNumbersExample() {\n        setTitle(&quot;Divided Circle with Colors and Numbers Example&quot;);\n        setSize(400, 400);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n//        setExtendedState(JFrame.MAXIMIZED_BOTH);\n        setVisible(true);\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n\n        Graphics2D g2d = (Graphics2D) g;\n\n        int centerX = getWidth() / 2;\n        int centerY = getHeight() / 2;\n        int radius = 150;\n\n        int x = centerX - radius;\n        int y = centerY - radius;\n        int diameter = 2 * radius;\n\n        double angle = 2 * Math.PI / 24; // Angle between each segment\n\n        for (int i = 0; i &lt; 24; i++) {\n            g2d.setColor(segmentColors[i]);\n            int startAngle = (int) Math.toDegrees(i * angle);\n            int arcAngle = (int) Math.toDegrees(angle);\n            g2d.fillArc(x, y, diameter, diameter, startAngle, arcAngle);\n\n            g2d.setColor(Color.black);\n            Font font = new Font(&quot;Arial&quot;, Font.BOLD, 16);\n            g2d.setFont(font);\n\n            int labelRadius = radius - 30;\n            int labelX = (int) (centerX + labelRadius * Math.cos(i * angle + angle / 2));\n            int labelY = (int) (centerY + labelRadius * Math.sin(i * angle + angle / 2) * (-1));\n            drawCenteredString(g2d, String.valueOf(i + 1), labelX, labelY);\n        }\n    }\n\n    private void drawCenteredString(Graphics2D g2d, String text, int x, int y) {\n        FontMetrics fm = g2d.getFontMetrics();\n        int textWidth = fm.stringWidth(text);\n        int textHeight = fm.getHeight();\n        g2d.drawString(text, x - textWidth / 2, y + textHeight / 4);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            new DividedCircleWithColorsAndNumbersExample();\n        });\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pM1xN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pM1xN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":12558590,"reputation":131,"user_id":9137427,"display_name":"Franco Rolando"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1629851005,"creation_date":1629851005,"answer_id":68915429,"question_id":68912971,"body_markdown":"I was using the:\r\nES server : &quot;https://cluster:port&quot;\r\nand that was my fault\r\nTo correct that I used \r\nES Server: &quot;cluster:port&quot;\r\nand added usingSsl() method\r\n\r\n`final ClientConfiguration clientConfiguration = ClientConfiguration.builder()  \r\n            .connectedTo(&quot;ES server&quot;)\r\n            .withBasicAuth(&quot;user&quot;, &quot;password&quot;).build();\r\n`","title":"Spring boot with elastic fail while index exists","body":"<p>I was using the:\nES server : &quot;https://cluster:port&quot;\nand that was my fault\nTo correct that I used\nES Server: &quot;cluster:port&quot;\nand added usingSsl() method</p>\n<p><code>final ClientConfiguration clientConfiguration = ClientConfiguration.builder()   .connectedTo(&quot;ES server&quot;) .withBasicAuth(&quot;user&quot;, &quot;password&quot;).build(); </code></p>\n"}],"owner":{"account_id":12558590,"reputation":131,"user_id":9137427,"display_name":"Franco Rolando"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1404,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68915429,"answer_count":1,"score":2,"last_activity_date":1684258599,"creation_date":1629832715,"question_id":68912971,"body_markdown":"I&#39;m trying to connect a Spring boot application with ElasticSearch, but I get the next error:\r\n\r\nConstructor threw exception; nested exception is org.springframework.data.elasticsearch.ElasticsearchException: Error while for indexExists request: org.elasticsearch.action.admin.indices.get.GetIndexRequest\r\n\r\nConfiguration class\r\n\r\n    @Configuration\r\n    @EnableElasticsearchRepositories(basePackages = &quot;com.repository&quot;)\r\n    public class ESConfig extends AbstractElasticsearchConfiguration {\r\n    \r\n        @Override\r\n        @Bean\r\n        public RestHighLevelClient elasticsearchClient() {\r\n    \r\n            final ClientConfiguration clientConfiguration = ClientConfiguration.builder()  \r\n                .connectedTo(&quot;ElasticSearch Server&quot;)\r\n                .withBasicAuth(&quot;user&quot;, &quot;password&quot;).build();\r\n    \r\n            return RestClients.create(clientConfiguration).rest();                         \r\n        }\r\n    \r\n    }\r\n\r\nEntity :\r\n\r\n    @Document(indexName = &quot;flight&quot;)\r\n    public class FlightPositionES {\r\n    \r\n        @Id\r\n        private Long id;\r\n        private String ident;\r\n        private String airGround;\r\n        private Double altitude;\r\n        private Integer clock;\r\n        private String flightId;\r\n        private Double groundSpeed;\r\n        private Double heading;\r\n        private GeoPoint location;\r\n        private String aircraftRegistration;\r\n    }\r\n\r\nRepository:\r\n\r\n    public interface IFlightPositionESRepository extends ElasticsearchCrudRepository&lt;FlightPositionES, Long&gt; {\r\n    \r\n    }","title":"Spring boot with elastic fail while index exists","body":"<p>I'm trying to connect a Spring boot application with ElasticSearch, but I get the next error:</p>\n<p>Constructor threw exception; nested exception is org.springframework.data.elasticsearch.ElasticsearchException: Error while for indexExists request: org.elasticsearch.action.admin.indices.get.GetIndexRequest</p>\n<p>Configuration class</p>\n<pre><code>@Configuration\n@EnableElasticsearchRepositories(basePackages = &quot;com.repository&quot;)\npublic class ESConfig extends AbstractElasticsearchConfiguration {\n\n    @Override\n    @Bean\n    public RestHighLevelClient elasticsearchClient() {\n\n        final ClientConfiguration clientConfiguration = ClientConfiguration.builder()  \n            .connectedTo(&quot;ElasticSearch Server&quot;)\n            .withBasicAuth(&quot;user&quot;, &quot;password&quot;).build();\n\n        return RestClients.create(clientConfiguration).rest();                         \n    }\n\n}\n</code></pre>\n<p>Entity :</p>\n<pre><code>@Document(indexName = &quot;flight&quot;)\npublic class FlightPositionES {\n\n    @Id\n    private Long id;\n    private String ident;\n    private String airGround;\n    private Double altitude;\n    private Integer clock;\n    private String flightId;\n    private Double groundSpeed;\n    private Double heading;\n    private GeoPoint location;\n    private String aircraftRegistration;\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>public interface IFlightPositionESRepository extends ElasticsearchCrudRepository&lt;FlightPositionES, Long&gt; {\n\n}\n</code></pre>\n"},{"tags":["java","apache-camel","quarkus"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1684171991,"post_id":76256246,"comment_id":134475181,"body_markdown":"The root cause is probably the injected CamelContext which seems to be an empty one (with no route at all). Put a breakpoint an examine the contents of `camelContext` variable","body":"The root cause is probably the injected CamelContext which seems to be an empty one (with no route at all). Put a breakpoint an examine the contents of <code>camelContext</code> variable"},{"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"score":0,"creation_date":1684178761,"post_id":76256246,"comment_id":134476560,"body_markdown":"After a bit  of debugging, I have found what looks like a fully fleshed out Camel Context with the routes I would expect","body":"After a bit  of debugging, I have found what looks like a fully fleshed out Camel Context with the routes I would expect"},{"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"score":0,"creation_date":1684245095,"post_id":76256246,"comment_id":134487521,"body_markdown":"Realized that it works, but only once. Updated the question","body":"Realized that it works, but only once. Updated the question"},{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1684255301,"post_id":76256246,"comment_id":134490376,"body_markdown":"See the IMPORTANT note at: https://camel.apache.org/manual/advice-with.html#_enabling_advice_during_testing","body":"See the IMPORTANT note at: <a href=\"https://camel.apache.org/manual/advice-with.html#_enabling_advice_during_testing\" rel=\"nofollow noreferrer\">camel.apache.org/manual/&hellip;</a>"},{"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"score":1,"creation_date":1684255643,"post_id":76256246,"comment_id":134490475,"body_markdown":"I have seen that, but was honestly unsure of the applicability in Quarkus, esp. since `@AdviceWith` doesn&#39;t seem present.","body":"I have seen that, but was honestly unsure of the applicability in Quarkus, esp. since <code>@AdviceWith</code> doesn&#39;t seem present."}],"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684258565,"creation_date":1684169119,"question_id":76256246,"body_markdown":"I have the following route:\r\n\r\n```java\r\nfrom(&quot;direct:someRoute&quot;)\r\n.id(&quot;someRoute&quot;)\r\n.log(...)\r\n.to(&quot;sql-stored:someProcedure(BIGINT ${exchangeProperty.someVal})&quot;)\r\n.id(&quot;someCall&quot;)\r\n.log(...)\r\n.end()\r\n```\r\n\r\nI am attempting to replace the `someCall` REST call with canned data for tests.\r\n\r\nI have setup my tests as such:\r\n\r\n```java\r\n@QuarkusTest\r\npublic Class Tests{\r\n\r\n    @Inject\r\n    CamelContext camelContext\r\n\r\n    @BeforeEach\r\n    public void setup(){\r\n        AdviceWith.adviceWith(\r\n            this.camelContext,\r\n            &quot;someRoute&quot;,\r\n            a -&gt; {\r\n                a.weaveById(&quot;someCall&quot;)\r\n                    .replace()\r\n                    .setBody()\r\n                    .constant(&quot;{}&quot;)\r\n            }\r\n        );\r\n    }\r\n\r\n    @Test\r\n    public void testOne(){\r\n        //...\r\n    }\r\n    @Test\r\n    public void testTwo(){\r\n        //...\r\n    }\r\n}\r\n```\r\n\r\nHowever, when I run the tests, I get the following errors:\r\n\r\n - First test error: \r\n   - `Cannot advice route as route with id: someRoute does not exists`\r\n - Second test error:\r\n   - `There are no outputs with matches: someCall in the route: &lt;routeToString, oddly with no mention of the someCall route, or even an sql route&gt;`\r\n\r\nSeem like strange errors to me, looking through the logs and the route is definitely being picked up, and even stranger that the `someCall` reference isn&#39;t in the toString...\r\n\r\n## Update\r\n\r\nJust realized that this occurrs in tests _after_ the first one. It seems that my issue is related to the face that this is in an `@BeforeEach`... Should I rework to only be called once, or is there a way to reset the camel context before re-applying the mock?\r\n\r\n## Update 2\r\n\r\nTried calling `context.stop()` and `context.start()` at the beginning of the tests, but got an error saying it is unsupported.\r\n\r\nTrying with `CamelQuarkusTestSupport` ended up with the first test working out, but every additional test having an empty `CamelQuarkus` with no routes...","title":"Camel/Quarkus - AdviceWith can&#39;t find route by id","body":"<p>I have the following route:</p>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;direct:someRoute&quot;)\n.id(&quot;someRoute&quot;)\n.log(...)\n.to(&quot;sql-stored:someProcedure(BIGINT ${exchangeProperty.someVal})&quot;)\n.id(&quot;someCall&quot;)\n.log(...)\n.end()\n</code></pre>\n<p>I am attempting to replace the <code>someCall</code> REST call with canned data for tests.</p>\n<p>I have setup my tests as such:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@QuarkusTest\npublic Class Tests{\n\n    @Inject\n    CamelContext camelContext\n\n    @BeforeEach\n    public void setup(){\n        AdviceWith.adviceWith(\n            this.camelContext,\n            &quot;someRoute&quot;,\n            a -&gt; {\n                a.weaveById(&quot;someCall&quot;)\n                    .replace()\n                    .setBody()\n                    .constant(&quot;{}&quot;)\n            }\n        );\n    }\n\n    @Test\n    public void testOne(){\n        //...\n    }\n    @Test\n    public void testTwo(){\n        //...\n    }\n}\n</code></pre>\n<p>However, when I run the tests, I get the following errors:</p>\n<ul>\n<li>First test error:\n<ul>\n<li><code>Cannot advice route as route with id: someRoute does not exists</code></li>\n</ul>\n</li>\n<li>Second test error:\n<ul>\n<li><code>There are no outputs with matches: someCall in the route: &lt;routeToString, oddly with no mention of the someCall route, or even an sql route&gt;</code></li>\n</ul>\n</li>\n</ul>\n<p>Seem like strange errors to me, looking through the logs and the route is definitely being picked up, and even stranger that the <code>someCall</code> reference isn't in the toString...</p>\n<h2>Update</h2>\n<p>Just realized that this occurrs in tests <em>after</em> the first one. It seems that my issue is related to the face that this is in an <code>@BeforeEach</code>... Should I rework to only be called once, or is there a way to reset the camel context before re-applying the mock?</p>\n<h2>Update 2</h2>\n<p>Tried calling <code>context.stop()</code> and <code>context.start()</code> at the beginning of the tests, but got an error saying it is unsupported.</p>\n<p>Trying with <code>CamelQuarkusTestSupport</code> ended up with the first test working out, but every additional test having an empty <code>CamelQuarkus</code> with no routes...</p>\n"},{"tags":["java","spring","spring-cloud-contract"],"answers":[{"comments":[{"owner":{"account_id":989178,"reputation":3110,"user_id":1042273,"accept_rate":85,"display_name":"Tarek"},"score":0,"creation_date":1525619170,"post_id":50199662,"comment_id":87418837,"body_markdown":"hi Marcin, thanks for the reply. I did read the documentation, but I don&#39;t want to skip all tests (since I have other unit and integration tests) and I do want to generate the stubs (so I can&#39;t skip the contract verifier altogether), I just want to skip the automatic test generation from the contract.","body":"hi Marcin, thanks for the reply. I did read the documentation, but I don&#39;t want to skip all tests (since I have other unit and integration tests) and I do want to generate the stubs (so I can&#39;t skip the contract verifier altogether), I just want to skip the automatic test generation from the contract."},{"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"score":0,"creation_date":1525619467,"post_id":50199662,"comment_id":87418962,"body_markdown":"We skip the test generation when `spring.cloud.contract.verifier.skip`, `skipTests` or `maven.test.skip` are passed. You can always execute the goal related to stub generation. BTW what you&#39;re doing smells of bad practice, so I hope you know what you&#39;re doing :)","body":"We skip the test generation when <code>spring.cloud.contract.verifier.skip</code>, <code>skipTests</code> or <code>maven.test.skip</code> are passed. You can always execute the goal related to stub generation. BTW what you&#39;re doing smells of bad practice, so I hope you know what you&#39;re doing :)"},{"owner":{"account_id":989178,"reputation":3110,"user_id":1042273,"accept_rate":85,"display_name":"Tarek"},"score":0,"creation_date":1525711709,"post_id":50199662,"comment_id":87454821,"body_markdown":"Maybe you&#39;re right. I gave up and implemented the TestBase to run the tests for my contracts, along with my other integration tests.","body":"Maybe you&#39;re right. I gave up and implemented the TestBase to run the tests for my contracts, along with my other integration tests."}],"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1525609474,"creation_date":1525609474,"answer_id":50199662,"question_id":50191885,"body_markdown":"If you check the documentation (https://cloud.spring.io/spring-cloud-static/spring-cloud-contract/1.2.4.RELEASE/spring-cloud-contract-maven-plugin/generateTests-mojo.html) you&#39;ll see that you can do a number of things. `-DskipTests`, `-Dspring.cloud.contract.verifier.skip=true`. Always read the documentation.","title":"How to skip the test generation maven goal with Spring Cloud Contract Verifier?","body":"<p>If you check the documentation (<a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-contract/1.2.4.RELEASE/spring-cloud-contract-maven-plugin/generateTests-mojo.html\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-static/spring-cloud-contract/1.2.4.RELEASE/spring-cloud-contract-maven-plugin/generateTests-mojo.html</a>) you'll see that you can do a number of things. <code>-DskipTests</code>, <code>-Dspring.cloud.contract.verifier.skip=true</code>. Always read the documentation.</p>\n"},{"tags":[],"owner":{"account_id":8886178,"reputation":499,"user_id":6634372,"display_name":"KarthikaSrinivasan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684258350,"creation_date":1684258350,"answer_id":76265734,"question_id":50191885,"body_markdown":"If you want to skip contract tests use `&lt;skipTests&gt;true&lt;/skipTests&gt;` in your cloud contract plugin. This will create stubs and skipTests will skip running contracts","title":"How to skip the test generation maven goal with Spring Cloud Contract Verifier?","body":"<p>If you want to skip contract tests use <code>&lt;skipTests&gt;true&lt;/skipTests&gt;</code> in your cloud contract plugin. This will create stubs and skipTests will skip running contracts</p>\n"}],"owner":{"account_id":989178,"reputation":3110,"user_id":1042273,"accept_rate":85,"display_name":"Tarek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50199662,"answer_count":2,"score":0,"last_activity_date":1684258350,"creation_date":1525539180,"question_id":50191885,"body_markdown":"I want to test a service Consumer that uses FeignClient to call another service, Producer, that I have. In order to stub the service called, I&#39;m using spring-cloud-contract-verifier for the producer and spring-cloud-contract-stub-runner on the consumer.\r\n\r\nMy problem is that I already have written integration tests for the producer, so I&#39;d just like to generate the stubs and skip the tests generation. Using the spring-cloud-contract-maven-plugin, I&#39;ve tried to set up only the goals I need, but it&#39;s still trying to run the tests anyway. I suspect I&#39;m not setting it up correctly...\r\n\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-contract-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-cloud-contract.version}&lt;/version&gt;\r\n        &lt;extensions&gt;true&lt;/extensions&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;convert&lt;/goal&gt;\r\n                    &lt;goal&gt;generateStubs&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;basePackageForTests&gt;com.example&lt;/basePackageForTests&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nwhen I run mvn clean install, it&#39;s still expecting a TestBase. How can I skip this goal?","title":"How to skip the test generation maven goal with Spring Cloud Contract Verifier?","body":"<p>I want to test a service Consumer that uses FeignClient to call another service, Producer, that I have. In order to stub the service called, I'm using spring-cloud-contract-verifier for the producer and spring-cloud-contract-stub-runner on the consumer.</p>\n\n<p>My problem is that I already have written integration tests for the producer, so I'd just like to generate the stubs and skip the tests generation. Using the spring-cloud-contract-maven-plugin, I've tried to set up only the goals I need, but it's still trying to run the tests anyway. I suspect I'm not setting it up correctly...</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-contract-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${spring-cloud-contract.version}&lt;/version&gt;\n    &lt;extensions&gt;true&lt;/extensions&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;convert&lt;/goal&gt;\n                &lt;goal&gt;generateStubs&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;basePackageForTests&gt;com.example&lt;/basePackageForTests&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>when I run mvn clean install, it's still expecting a TestBase. How can I skip this goal?</p>\n"},{"tags":["java","string","algorithm","hash"],"comments":[{"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"score":1,"creation_date":1274280631,"post_id":299304,"comment_id":2911348,"body_markdown":"Compare also http://stackoverflow.com/questions/1835976/what-is-a-sensible-prime-for-hashcode-calculation - I think 31 is a bad choice if you write your own hashCode functions.","body":"Compare also <a href=\"http://stackoverflow.com/questions/1835976/what-is-a-sensible-prime-for-hashcode-calculation\" title=\"what is a sensible prime for hashcode calculation\">stackoverflow.com/questions/1835976/&hellip;</a> - I think 31 is a bad choice if you write your own hashCode functions."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":16,"creation_date":1499905967,"post_id":299304,"comment_id":77112291,"body_markdown":"If it was 29, or 37, or even 97, you would be asking &#39;why not 31?&#39;","body":"If it was 29, or 37, or even 97, you would be asking &#39;why not 31?&#39;"},{"owner":{"account_id":1708076,"reputation":325,"user_id":1566735,"display_name":"Dushyant Sabharwal"},"score":3,"creation_date":1504616938,"post_id":299304,"comment_id":79071125,"body_markdown":"@EJP it is important to know the reason behind the choice of a no. unless the number is outcome of a black magic trick.","body":"@EJP it is important to know the reason behind the choice of a no. unless the number is outcome of a black magic trick."},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1570094231,"post_id":299304,"comment_id":102808123,"body_markdown":"There is a blog post by @peter-lawrey about it here: https://vanilla-java.github.io/2018/08/12/Why-do-I-think-Stringhash-Code-is-poor.html and here: https://vanilla-java.github.io/2018/08/15/Looking-at-randomness-and-performance-for-hash-codes.html","body":"There is a blog post by @peter-lawrey about it here: <a href=\"https://vanilla-java.github.io/2018/08/12/Why-do-I-think-Stringhash-Code-is-poor.html\" rel=\"nofollow noreferrer\">vanilla-java.github.io/2018/08/12/&hellip;</a> and here: <a href=\"https://vanilla-java.github.io/2018/08/15/Looking-at-randomness-and-performance-for-hash-codes.html\" rel=\"nofollow noreferrer\">vanilla-java.github.io/2018/08/15/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1578888770,"post_id":299304,"comment_id":105572819,"body_markdown":"@DushyantSabharwal My point is that it could have *been* 29 or 37 or 97, or 41, or many other values, without making much practical difference. We were using 37 in 1976.","body":"@DushyantSabharwal My point is that it could have <i>been</i> 29 or 37 or 97, or 41, or many other values, without making much practical difference. We were using 37 in 1976."}],"answers":[{"tags":[],"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"comment_count":0,"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1227027483,"creation_date":1227027483,"answer_id":299369,"question_id":299304,"body_markdown":"I&#39;m not sure, but I would guess they tested some sample of prime numbers and found that 31 gave the best distribution over some sample of possible Strings.","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>I'm not sure, but I would guess they tested some sample of prime numbers and found that 31 gave the best distribution over some sample of possible Strings.</p>\n"},{"comments":[{"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"score":7,"creation_date":1273560859,"post_id":299385,"comment_id":2847054,"body_markdown":"Funny enough, the multiplication with 31 is on my desktop machine actually a little bit slower than multiplication with, say, 92821. I guess the compiler tries to &quot;optimize&quot; it into shift and add as well. :-)","body":"Funny enough, the multiplication with 31 is on my desktop machine actually a little bit slower than multiplication with, say, 92821. I guess the compiler tries to &quot;optimize&quot; it into shift and add as well. :-)"},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":1,"creation_date":1395957757,"post_id":299385,"comment_id":34588067,"body_markdown":"I don&#39;t think I&#39;ve ever used an ARM which was not equally fast with all values in the range +/-255.  Use of a power of 2 minus one has the unfortunate effect that a matching change to two values changes the hash code by a power of two.  A value of -31 would have been better, and I would think something like -83 (64+16+2+1) might have been better yet (blenderize bits somewhat better).","body":"I don&#39;t think I&#39;ve ever used an ARM which was not equally fast with all values in the range +/-255.  Use of a power of 2 minus one has the unfortunate effect that a matching change to two values changes the hash code by a power of two.  A value of -31 would have been better, and I would think something like -83 (64+16+2+1) might have been better yet (blenderize bits somewhat better)."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1396006023,"post_id":299385,"comment_id":34608267,"body_markdown":"@supercat Not convinced by the minus. Seems you&#39;d be heading back towards zeros. / `String.hashCode` predates the StrongARM which, IIRC, introduced an 8-bit multiplier and possibly increased to two cycles for the combined arithmetic/logical with shift operations.","body":"@supercat Not convinced by the minus. Seems you&#39;d be heading back towards zeros. / <code>String.hashCode</code> predates the StrongARM which, IIRC, introduced an 8-bit multiplier and possibly increased to two cycles for the combined arithmetic/logical with shift operations."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":1,"creation_date":1396024253,"post_id":299385,"comment_id":34620730,"body_markdown":"@TomHawtin-tackline: Using 31, the hash of four values would be 29791*a + 961*b + 31*c + d; using -31, it would be -29791*a + 961*b - 31*c + d.  I don&#39;t think the difference would be significant if the four items are independent, but if pairs of adjacent items match, the resulting hash code will be the contribution of all unpaired items, plus some multiple of 32 (from the paired ones).  For strings it may not matter too much, but if one is writing a general-purpose method for hashing aggregations, the situation where adjacent items match will be disproportionately common.","body":"@TomHawtin-tackline: Using 31, the hash of four values would be 29791*a + 961*b + 31*c + d; using -31, it would be -29791*a + 961*b - 31*c + d.  I don&#39;t think the difference would be significant if the four items are independent, but if pairs of adjacent items match, the resulting hash code will be the contribution of all unpaired items, plus some multiple of 32 (from the paired ones).  For strings it may not matter too much, but if one is writing a general-purpose method for hashing aggregations, the situation where adjacent items match will be disproportionately common."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1396024479,"post_id":299385,"comment_id":34620868,"body_markdown":"The situation isn&#39;t quite so bad as the one resulting by taking the xor of items which are supposed to be unsequenced (as opposed to using an arithmetic sum).  If one has an `UnorderedPair` where A and B things are &quot;equal&quot; if `(a.first.equals(b.first) &amp;&amp; a.second.equals(b.second)) || ((a.first.equals(b.second) &amp;&amp; a.second.equals(b.first))`, using a hash of `first.hashCode()+second.hashCode()` will lose one bit of information if `first` and `second` match; using `first.hashCode() ^ second.hashCode()` (which I&#39;ve seen done) would lose all 32 bits of information.","body":"The situation isn&#39;t quite so bad as the one resulting by taking the xor of items which are supposed to be unsequenced (as opposed to using an arithmetic sum).  If one has an <code>UnorderedPair</code> where A and B things are &quot;equal&quot; if <code>(a.first.equals(b.first) &amp;&amp; a.second.equals(b.second)) || ((a.first.equals(b.second) &amp;&amp; a.second.equals(b.first))</code>, using a hash of <code>first.hashCode()+second.hashCode()</code> will lose one bit of information if <code>first</code> and <code>second</code> match; using <code>first.hashCode() ^ second.hashCode()</code> (which I&#39;ve seen done) would lose all 32 bits of information."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1396030850,"post_id":299385,"comment_id":34624710,"body_markdown":"@supercat Yeah, it seems to me + gives a bit of &quot;blurring&quot; across adjacent bits which can be further shuffling. ^ doesn&#39;t have that, so seems a poorer choice. I believe early protocols used xor in check codes as it was mistakenly believed that hardware implementations would be easier by a worthwhile factor.","body":"@supercat Yeah, it seems to me + gives a bit of &quot;blurring&quot; across adjacent bits which can be further shuffling. ^ doesn&#39;t have that, so seems a poorer choice. I believe early protocols used xor in check codes as it was mistakenly believed that hardware implementations would be easier by a worthwhile factor."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1396034063,"post_id":299385,"comment_id":34626400,"body_markdown":"@TomHawtin-tackline: There are a number of advantages to using xor in hardware implementations.  Further, behavior of xor is orthogonal to that of addition and multiplication, using it in combination with those other methods may improve &quot;blending&quot;.  The big thing to watch out for in any event is cases where the disproportionate appearance of certain patterns of input (e.g. pairs of things which match) will cause some hash codes to appear much more often than they should.","body":"@TomHawtin-tackline: There are a number of advantages to using xor in hardware implementations.  Further, behavior of xor is orthogonal to that of addition and multiplication, using it in combination with those other methods may improve &quot;blending&quot;.  The big thing to watch out for in any event is cases where the disproportionate appearance of certain patterns of input (e.g. pairs of things which match) will cause some hash codes to appear much more often than they should."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1567156379,"post_id":299385,"comment_id":101888199,"body_markdown":"@supercat fun fact, the hash code of `Map.Entry` has been fixed by specification to be `key.hashCode() ^ value.hashCode()` despite it is not even an unordered pair, as `key` and `value` have entirely different meaning. Yes, that implies that `Map.of(42, 42).hashCode()` or `Map.of(&quot;foo&quot;, &quot;foo&quot;, &quot;bar&quot;, &quot;bar&quot;).hashCode()`, etc, are predictably zero. So don’t use maps as keys for other maps…","body":"@supercat fun fact, the hash code of <code>Map.Entry</code> has been fixed by specification to be <code>key.hashCode() ^ value.hashCode()</code> despite it is not even an unordered pair, as <code>key</code> and <code>value</code> have entirely different meaning. Yes, that implies that <code>Map.of(42, 42).hashCode()</code> or <code>Map.of(&quot;foo&quot;, &quot;foo&quot;, &quot;bar&quot;, &quot;bar&quot;).hashCode()</code>, etc, are predictably zero. So don’t use maps as keys for other maps…"},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1567177146,"post_id":299385,"comment_id":101898519,"body_markdown":"@Holger: What&#39;s sad about that is that using `+` rather than `^` would have been just as fast, but only lose one bit of hashcode (and sometimes not even that, since some types&#39; hashcodes are never negative).","body":"@Holger: What&#39;s sad about that is that using <code>+</code> rather than <code>^</code> would have been just as fast, but only lose one bit of hashcode (and sometimes not even that, since some types&#39; hashcodes are never negative)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1567183449,"post_id":299385,"comment_id":101901239,"body_markdown":"@supercat and the performance losses due to hash collisions outclass any savings of a few CPU cycles in the hash calculation anyway…","body":"@supercat and the performance losses due to hash collisions outclass any savings of a few CPU cycles in the hash calculation anyway…"},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1567184368,"post_id":299385,"comment_id":101901562,"body_markdown":"@Holger: Using a complicated hash to prevent the loss of a hash bit from `x+y` would probably not pay off, but a hash that returns zero for all keys is just plain tragic.","body":"@Holger: Using a complicated hash to prevent the loss of a hash bit from <code>x+y</code> would probably not pay off, but a hash that returns zero for all keys is just plain tragic."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1567407731,"post_id":299385,"comment_id":101942016,"body_markdown":"@supercat exactly, you have make the right trade off. Even on a hypothetical CPU that could save a cycle when using `^` instead of `+`, the significantly higher number of collisions would eat that advantage. It’s only when the key and value have the same hash code, but it’s not too far-fetched to have such mappings.","body":"@supercat exactly, you have make the right trade off. Even on a hypothetical CPU that could save a cycle when using <code>^</code> instead of <code>+</code>, the significantly higher number of collisions would eat that advantage. It’s only when the key and value have the same hash code, but it’s not too far-fetched to have such mappings."}],"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":12,"down_vote_count":1,"up_vote_count":62,"is_accepted":false,"score":61,"last_activity_date":1260279782,"creation_date":1227027705,"answer_id":299385,"question_id":299304,"body_markdown":"On (mostly) old processors, multiplying by 31 can be relatively cheap. On an ARM, for instance, it is only one instruction:\r\n\r\n    RSB       r1, r0, r0, ASL #5    ; r1 := - r0 + (r0&lt;&lt;5)\r\n\r\nMost other processors would require a separate shift and subtract instruction. However, if your multiplier is slow this is still a win. Modern processors tend to have fast multipliers so it doesn&#39;t make much difference, so long as 32 goes on the correct side.\r\n\r\nIt&#39;s not a great hash algorithm, but it&#39;s good enough and better than the 1.0 code (and very much better than the 1.0 spec!).","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>On (mostly) old processors, multiplying by 31 can be relatively cheap. On an ARM, for instance, it is only one instruction:</p>\n\n<pre><code>RSB       r1, r0, r0, ASL #5    ; r1 := - r0 + (r0&lt;&lt;5)\n</code></pre>\n\n<p>Most other processors would require a separate shift and subtract instruction. However, if your multiplier is slow this is still a win. Modern processors tend to have fast multipliers so it doesn't make much difference, so long as 32 goes on the correct side.</p>\n\n<p>It's not a great hash algorithm, but it's good enough and better than the 1.0 code (and very much better than the 1.0 spec!).</p>\n"},{"comments":[{"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"score":407,"creation_date":1227039358,"post_id":299748,"comment_id":145752,"body_markdown":"Well all primes are odd, except 2.  Just sayin.","body":"Well all primes are odd, except 2.  Just sayin."},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":48,"creation_date":1227041290,"post_id":299748,"comment_id":145815,"body_markdown":"I don&#39;t think Bloch is saying it was chosen because it was an odd prime, but because it was odd AND because it was prime (AND because it can easily be optimized into a shift/subtract).","body":"I don&#39;t think Bloch is saying it was chosen because it was an odd prime, but because it was odd AND because it was prime (AND because it can easily be optimized into a shift/subtract)."},{"owner":{"account_id":9345,"reputation":4351,"user_id":17224,"display_name":"computinglife"},"score":58,"creation_date":1227211247,"post_id":299748,"comment_id":150515,"body_markdown":"31 was chosen coz it is an odd prime??? That doesnt make any sense - I say 31 was chosen because it gave the best distribution - check \nhttp://computinglife.wordpress.com/2008/11/20/why-do-hash-functions-use-prime-numbers/","body":"31 was chosen coz it is an odd prime??? That doesnt make any sense - I say 31 was chosen because it gave the best distribution - check  <a href=\"http://computinglife.wordpress.com/2008/11/20/why-do-hash-functions-use-prime-numbers/\" rel=\"nofollow noreferrer\">computinglife.wordpress.com/2008/11/20/&hellip;</a>"},{"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"score":72,"creation_date":1259588638,"post_id":299748,"comment_id":1709979,"body_markdown":"I think the choice of 31 is rather unfortunate. Sure, it might save a few CPU cycles on old machines, but you have hash collisions already on short ascii strings like &quot;@ and #! , or  Ca and DB . This does not happen if you choose, for instance, 1327144003, or at least 524287 which also allows bitshift: 524287 * i == i &lt;&lt; 19 - i.","body":"I think the choice of 31 is rather unfortunate. Sure, it might save a few CPU cycles on old machines, but you have hash collisions already on short ascii strings like &quot;@ and #! , or  Ca and DB . This does not happen if you choose, for instance, 1327144003, or at least 524287 which also allows bitshift: 524287 * i == i &lt;&lt; 19 - i."},{"owner":{"account_id":22774,"reputation":18102,"user_id":56524,"accept_rate":45,"display_name":"mP."},"score":0,"creation_date":1272495841,"post_id":299748,"comment_id":2761539,"body_markdown":"But why multiply it just pushes the low order bits from the item to the left, after enough items all your bits are pushed left and overflow. perhaps if they underflowed then things might be better.","body":"But why multiply it just pushes the low order bits from the item to the left, after enough items all your bits are pushed left and overflow. perhaps if they underflowed then things might be better."},{"owner":{"account_id":129609,"reputation":3070,"user_id":328304,"display_name":"Jason"},"score":2,"creation_date":1273262958,"post_id":299748,"comment_id":2827632,"body_markdown":"@hstoerr:  I&#39;d like to see your math on that.  Even if you&#39;re right (which you most likely are for the 2 digit example), I think if you look at how hashes are used in Java, it doesn&#39;t really hurt things very much for there to be collisions in very short strings.  They&#39;re not used for keys all that often.","body":"@hstoerr:  I&#39;d like to see your math on that.  Even if you&#39;re right (which you most likely are for the 2 digit example), I think if you look at how hashes are used in Java, it doesn&#39;t really hurt things very much for there to be collisions in very short strings.  They&#39;re not used for keys all that often."},{"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"score":15,"creation_date":1273650158,"post_id":299748,"comment_id":2856302,"body_markdown":"@Jason See my answer http://stackoverflow.com/questions/1835976/what-is-a-sensible-prime-for-hashcode-calculation/2816747#2816747 . My point is: you get much less collisions if you use a larger prime, and lose nothing these days. The problem is worse if you use non-english languages with common non-ascii chars. And 31 served as a bad example for many programmers when writing their own hashCode functions.","body":"@Jason See my answer <a href=\"http://stackoverflow.com/questions/1835976/what-is-a-sensible-prime-for-hashcode-calculation/2816747#2816747\" title=\"what is a sensible prime for hashcode calculation\">stackoverflow.com/questions/1835976/&hellip;</a> . My point is: you get much less collisions if you use a larger prime, and lose nothing these days. The problem is worse if you use non-english languages with common non-ascii chars. And 31 served as a bad example for many programmers when writing their own hashCode functions."},{"owner":{"account_id":401474,"reputation":717,"user_id":768050,"accept_rate":100,"display_name":"Richard Corfield"},"score":0,"creation_date":1398185746,"post_id":299748,"comment_id":35532302,"body_markdown":"Does the optimisation really help now, given arithmetic units in modern processors?","body":"Does the optimisation really help now, given arithmetic units in modern processors?"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1401544572,"post_id":299748,"comment_id":36932337,"body_markdown":"@hstoerr I fully agree with your. Using 31 was a terrible idea. There should be no collisions for strings of length two and no collisions for ASCII strings of length four, but there are plenty. Reusing 31 everywhere is even worse, see e.g. [this tiny rant of mine](http://code.google.com/p/projectlombok/issues/detail?id=625).","body":"@hstoerr I fully agree with your. Using 31 was a terrible idea. There should be no collisions for strings of length two and no collisions for ASCII strings of length four, but there are plenty. Reusing 31 everywhere is even worse, see e.g. <a href=\"http://code.google.com/p/projectlombok/issues/detail?id=625\" rel=\"nofollow noreferrer\">this tiny rant of mine</a>."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1401544811,"post_id":299748,"comment_id":36932418,"body_markdown":"@RichardCorfield I&#39;m unsure if it makes sense, but the compiler still use it (see the comments to [this answer](http://stackoverflow.com/a/21754471/581205)).","body":"@RichardCorfield I&#39;m unsure if it makes sense, but the compiler still use it (see the comments to <a href=\"http://stackoverflow.com/a/21754471/581205\">this answer</a>)."},{"owner":{"account_id":32045,"reputation":26603,"user_id":88442,"accept_rate":54,"display_name":"J-16 SDiZ"},"score":2,"creation_date":1417085703,"post_id":299748,"comment_id":42829045,"body_markdown":"Every math student should know why it is prime ---  It forms a group if and only if it is coprime with the group size.","body":"Every math student should know why it is prime ---  It forms a group if and only if it is coprime with the group size."},{"owner":{"account_id":1752749,"reputation":1119,"user_id":1601471,"accept_rate":69,"display_name":"Raj"},"score":0,"creation_date":1501939877,"post_id":299748,"comment_id":78005112,"body_markdown":"I am not sure why was this accepted as an answer. I mean it is simply copy paste from a reputed book!! A non math and a non computer science graduate like me was looking for an answer from a layman perspective. I am sorry but the answer is too intellectual for me. I have to do more google search now.","body":"I am not sure why was this accepted as an answer. I mean it is simply copy paste from a reputed book!! A non math and a non computer science graduate like me was looking for an answer from a layman perspective. I am sorry but the answer is too intellectual for me. I have to do more google search now."},{"owner":{"account_id":94974,"reputation":6111,"user_id":258956,"accept_rate":86,"display_name":"Frank Q."},"score":2,"creation_date":1507080365,"post_id":299748,"comment_id":80065418,"body_markdown":"How is &quot;multiplication by even number overflowed&quot; ? Overflow can happen even with odd numbers correct ?","body":"How is &quot;multiplication by even number overflowed&quot; ? Overflow can happen even with odd numbers correct ?"},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":5,"creation_date":1519872217,"post_id":299748,"comment_id":85088873,"body_markdown":"@FrankQ. The issue isn&#39;t overflowing: that is inevitable, as you say. The issue is that multiplying by an even number guarantees that fewer bits contain &quot;varying&quot; information - the low bit becomes zero. Always zero. You&#39;ve lost one bit of &quot;variability&quot;. The result is a poorer distribution over possible hash values.","body":"@FrankQ. The issue isn&#39;t overflowing: that is inevitable, as you say. The issue is that multiplying by an even number guarantees that fewer bits contain &quot;varying&quot; information - the low bit becomes zero. Always zero. You&#39;ve lost one bit of &quot;variability&quot;. The result is a poorer distribution over possible hash values."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1684257876,"post_id":299748,"comment_id":134490980,"body_markdown":"Note that Google&#39;s AutoValue chose a much larger prime (1000003) for value object hash code calculation, since they found it to perform better than 31: https://stackoverflow.com/a/76264617/1108305","body":"Note that Google&#39;s AutoValue chose a much larger prime (1000003) for value object hash code calculation, since they found it to perform better than 31: <a href=\"https://stackoverflow.com/a/76264617/1108305\">stackoverflow.com/a/76264617/1108305</a>"}],"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"comment_count":15,"down_vote_count":4,"up_vote_count":479,"is_accepted":true,"score":475,"last_activity_date":1684258347,"creation_date":1227034404,"answer_id":299748,"question_id":299304,"body_markdown":"According to Joshua Bloch&#39;s [Effective Java, Second Edition][1] (a book that can&#39;t be recommended enough, and which I bought thanks to continual mentions on Stack Overflow):\r\n\r\n&gt;The value 31 was chosen because it is an odd prime. If it were even and the multiplication overflowed, information would be lost, as multiplication by 2 is equivalent to shifting. The advantage of using a prime is less clear, but it is traditional. A nice property of 31 is that the multiplication can be replaced by a shift and a subtraction for better performance: `31 * i == (i &lt;&lt; 5) - i`. Modern VMs do this sort of optimization automatically.\r\n\r\n*(from Chapter 3, Item 9: Always override `hashCode` when you override `equals`, page 48)*\r\n\r\n\r\n  [1]: http://www.amazon.com/Effective-Java-2nd-Joshua-Bloch/dp/0321356683/ref=sr_1_1?ie=UTF8&amp;s=books&amp;qid=1227034282&amp;sr=1-1","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>According to Joshua Bloch's <a href=\"https://rads.stackoverflow.com/amzn/click/com/0321356683\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Effective Java, Second Edition</a> (a book that can't be recommended enough, and which I bought thanks to continual mentions on Stack Overflow):</p>\n<blockquote>\n<p>The value 31 was chosen because it is an odd prime. If it were even and the multiplication overflowed, information would be lost, as multiplication by 2 is equivalent to shifting. The advantage of using a prime is less clear, but it is traditional. A nice property of 31 is that the multiplication can be replaced by a shift and a subtraction for better performance: <code>31 * i == (i &lt;&lt; 5) - i</code>. Modern VMs do this sort of optimization automatically.</p>\n</blockquote>\n<p><em>(from Chapter 3, Item 9: Always override <code>hashCode</code> when you override <code>equals</code>, page 48)</em></p>\n"},{"comments":[{"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"score":8,"creation_date":1273561131,"post_id":300111,"comment_id":2847078,"body_markdown":"Note however that you might get WAY more collisions if you use any kind of international charset with common characters outside the ASCII range. At least, I checked this for 31 and German. So I think the choice of 31 is broken.","body":"Note however that you might get WAY more collisions if you use any kind of international charset with common characters outside the ASCII range. At least, I checked this for 31 and German. So I think the choice of 31 is broken."}],"tags":[],"owner":{"account_id":17330,"reputation":3120,"user_id":38696,"accept_rate":66,"display_name":"JohnZaj"},"comment_count":1,"down_vote_count":1,"up_vote_count":98,"is_accepted":false,"score":97,"last_activity_date":1599944726,"creation_date":1227041788,"answer_id":300111,"question_id":299304,"body_markdown":"Goodrich and Tamassia computed from over 50,000 English words (formed as the union of the word lists provided in two variants of Unix) that using the constants 31, 33, 37, 39, and 41 will produce fewer than 7 collisions in each case. This may be the reason that so many Java implementations choose such constants. \r\n\r\nSee section 9.2 Hash Tables (page 522) of [Data Structures and Algorithms in Java][2].\r\n\r\n\r\n  [2]: https://enos.itcollege.ee/~jpoial/algorithms/GT/Data%20Structures%20and%20Algorithms%20in%20Java%20Fourth%20Edition.pdf","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>Goodrich and Tamassia computed from over 50,000 English words (formed as the union of the word lists provided in two variants of Unix) that using the constants 31, 33, 37, 39, and 41 will produce fewer than 7 collisions in each case. This may be the reason that so many Java implementations choose such constants.</p>\n<p>See section 9.2 Hash Tables (page 522) of <a href=\"https://enos.itcollege.ee/%7Ejpoial/algorithms/GT/Data%20Structures%20and%20Algorithms%20in%20Java%20Fourth%20Edition.pdf\" rel=\"noreferrer\">Data Structures and Algorithms in Java</a>.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":0,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1242756657,"creation_date":1242756657,"answer_id":884257,"question_id":299304,"body_markdown":"By multiplying, bits are shifted to the left. This uses more of the available space of hash codes, reducing collisions.\r\n\r\nBy not using a power of two, the lower-order, rightmost bits are populated as well, to be mixed with the next piece of data going into the hash.\r\n\r\nThe expression `n * 31` is equivalent to `(n &lt;&lt; 5) - n`.","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>By multiplying, bits are shifted to the left. This uses more of the available space of hash codes, reducing collisions.</p>\n\n<p>By not using a power of two, the lower-order, rightmost bits are populated as well, to be mixed with the next piece of data going into the hash.</p>\n\n<p>The expression <code>n * 31</code> is equivalent to <code>(n &lt;&lt; 5) - n</code>.</p>\n"},{"tags":[],"owner":{"account_id":129609,"reputation":3070,"user_id":328304,"display_name":"Jason"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1272495512,"creation_date":1272494353,"answer_id":2733601,"question_id":299304,"body_markdown":"Bloch doesn&#39;t quite go into this, but the rationale I&#39;ve always heard/believed is that this is basic algebra.  Hashes boil down to multiplication and modulus operations, which means that you never want to use numbers with common factors if you can help it.  In other words, relatively prime numbers provide an even distribution of answers.\r\n\r\nThe numbers that make up using a hash are typically:\r\n\r\n - modulus of the data type you put it into\r\n   (2^32 or 2^64)\r\n - modulus of the bucket count in your hashtable (varies.  In java used to be prime, now 2^n)\r\n - multiply or shift by a magic number in your mixing function\r\n - The input value\r\n\r\nYou really only get to control a couple of these values, so a little extra care is due.","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>Bloch doesn't quite go into this, but the rationale I've always heard/believed is that this is basic algebra.  Hashes boil down to multiplication and modulus operations, which means that you never want to use numbers with common factors if you can help it.  In other words, relatively prime numbers provide an even distribution of answers.</p>\n\n<p>The numbers that make up using a hash are typically:</p>\n\n<ul>\n<li>modulus of the data type you put it into\n(2^32 or 2^64)</li>\n<li>modulus of the bucket count in your hashtable (varies.  In java used to be prime, now 2^n)</li>\n<li>multiply or shift by a magic number in your mixing function</li>\n<li>The input value</li>\n</ul>\n\n<p>You really only get to control a couple of these values, so a little extra care is due.</p>\n"},{"comments":[{"owner":{"account_id":1662511,"reputation":14161,"user_id":1530508,"accept_rate":100,"display_name":"ApproachingDarknessFish"},"score":11,"creation_date":1388116380,"post_id":6850231,"comment_id":31173546,"body_markdown":"@Mainguy It&#39;s actually ALGOL syntax and is used fairly often in pseudo-code.","body":"@Mainguy It&#39;s actually ALGOL syntax and is used fairly often in pseudo-code."},{"owner":{"account_id":433754,"reputation":38783,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":4,"creation_date":1429604805,"post_id":6850231,"comment_id":47664589,"body_markdown":"but in ARM assembly multiplication by 31 can be done in a single instruction","body":"but in ARM assembly multiplication by 31 can be done in a single instruction"},{"owner":{"account_id":433754,"reputation":38783,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":5,"creation_date":1429606331,"post_id":6850231,"comment_id":47665523,"body_markdown":"@Mainguy [In pseudo code what does := mean?](http://programmers.stackexchange.com/questions/101716/in-pseudo-code-what-does-mean)","body":"@Mainguy <a href=\"http://programmers.stackexchange.com/questions/101716/in-pseudo-code-what-does-mean\">In pseudo code what does := mean?</a>"},{"owner":{"account_id":32277,"reputation":183150,"user_id":89391,"accept_rate":79,"display_name":"miku"},"score":0,"creation_date":1484440599,"post_id":6850231,"comment_id":70511936,"body_markdown":"In [TPOP](https://en.wikipedia.org/wiki/The_Practice_of_Programming) (1999) one can read about early Java (p.57): &quot;... The problem was resolved by replacing the hash with one equivalent to the one we have shown (with a multiplier of **37**) ...&quot;","body":"In <a href=\"https://en.wikipedia.org/wiki/The_Practice_of_Programming\" rel=\"nofollow noreferrer\">TPOP</a> (1999) one can read about early Java (p.57): &quot;... The problem was resolved by replacing the hash with one equivalent to the one we have shown (with a multiplier of <b>37</b>) ...&quot;"}],"tags":[],"owner":{"account_id":346719,"reputation":1817,"user_id":680410,"accept_rate":100,"display_name":"hrr"},"comment_count":4,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1502267594,"creation_date":1311795464,"answer_id":6850231,"question_id":299304,"body_markdown":"Actually, 37 would work pretty well!  z := 37 * x can be computed as `y := x + 8 * x; z := x + 4 * y`.  Both steps correspond to one LEA x86 instructions, so this is extremely fast.  \r\n\r\nIn fact, multiplication with the even-larger prime **73** could be done at the same speed by setting `y := x + 8 * x; z := x + 8 * y`.\r\n\r\nUsing 73 or 37 (instead of 31) might be better, because it leads to _denser code_:  The two LEA instructions only take 6 bytes vs. the 7 bytes for move+shift+subtract for the multiplication by 31.  One possible caveat is that the 3-argument LEA instructions used here became slower on Intel&#39;s Sandy bridge architecture, with an increased latency of 3 cycles.\r\n\r\nMoreover, [73](http://bigbangtheory.wikia.com/wiki/73) is Sheldon Cooper&#39;s favorite number.","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>Actually, 37 would work pretty well!  z := 37 * x can be computed as <code>y := x + 8 * x; z := x + 4 * y</code>.  Both steps correspond to one LEA x86 instructions, so this is extremely fast.  </p>\n\n<p>In fact, multiplication with the even-larger prime <strong>73</strong> could be done at the same speed by setting <code>y := x + 8 * x; z := x + 8 * y</code>.</p>\n\n<p>Using 73 or 37 (instead of 31) might be better, because it leads to <em>denser code</em>:  The two LEA instructions only take 6 bytes vs. the 7 bytes for move+shift+subtract for the multiplication by 31.  One possible caveat is that the 3-argument LEA instructions used here became slower on Intel's Sandy bridge architecture, with an increased latency of 3 cycles.</p>\n\n<p>Moreover, <a href=\"http://bigbangtheory.wikia.com/wiki/73\" rel=\"noreferrer\">73</a> is Sheldon Cooper's favorite number.</p>\n"},{"tags":[],"owner":{"account_id":36890,"reputation":4474,"user_id":105344,"accept_rate":75,"display_name":"TheJuice"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1323271638,"creation_date":1323271638,"answer_id":8417835,"question_id":299304,"body_markdown":"Neil Coffey [explains][1] why 31 is used under *Ironing out the bias*.\r\n\r\nBasically using 31 gives you a more even set-bit probability distribution for the hash function.\r\n\r\n\r\n  [1]: http://www.javamex.com/tutorials/collections/hash_function_technical_2.shtml","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>Neil Coffey <a href=\"http://www.javamex.com/tutorials/collections/hash_function_technical_2.shtml\" rel=\"noreferrer\">explains</a> why 31 is used under <em>Ironing out the bias</em>.</p>\n\n<p>Basically using 31 gives you a more even set-bit probability distribution for the hash function.</p>\n"},{"tags":[],"owner":{"account_id":3232410,"reputation":3637,"user_id":2727750,"display_name":"David Ongaro"},"comment_count":0,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1548526789,"creation_date":1455065186,"answer_id":35304979,"question_id":299304,"body_markdown":"You can read Bloch&#39;s original reasoning under &quot;Comments&quot; in http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4045622. He investigated the performance of different hash functions in regards to the resulting &quot;average chain size&quot; in a hash table. `P(31)` was one of the common functions during that time which he found in K&amp;R&#39;s book (but even Kernighan and Ritchie couldn&#39;t remember where it came from). In the end he basically had to choose one and so he took `P(31)` since it seemed to perform well enough. Even though `P(33)` was not really worse and multiplication by 33 is equally fast to calculate (just a shift by 5 and an addition), he opted for 31 since 33 is not a prime:\r\n\r\n&gt; Of the remaining\r\nfour, I&#39;d probably select P(31), as it&#39;s the cheapest to calculate on a RISC\r\nmachine (because 31 is the difference of two powers of two).  P(33) is\r\nsimilarly cheap to calculate, but it&#39;s performance is marginally worse, and\r\n33 is composite, which makes me a bit nervous.\r\n\r\nSo the reasoning was not as rational as many of the answers here seem to imply. But we&#39;re all good in coming up with rational reasons after gut decisions (and even Bloch might be prone to that).\r\n","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>You can read Bloch's original reasoning under \"Comments\" in <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4045622\" rel=\"noreferrer\">http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4045622</a>. He investigated the performance of different hash functions in regards to the resulting \"average chain size\" in a hash table. <code>P(31)</code> was one of the common functions during that time which he found in K&amp;R's book (but even Kernighan and Ritchie couldn't remember where it came from). In the end he basically had to choose one and so he took <code>P(31)</code> since it seemed to perform well enough. Even though <code>P(33)</code> was not really worse and multiplication by 33 is equally fast to calculate (just a shift by 5 and an addition), he opted for 31 since 33 is not a prime:</p>\n\n<blockquote>\n  <p>Of the remaining\n  four, I'd probably select P(31), as it's the cheapest to calculate on a RISC\n  machine (because 31 is the difference of two powers of two).  P(33) is\n  similarly cheap to calculate, but it's performance is marginally worse, and\n  33 is composite, which makes me a bit nervous.</p>\n</blockquote>\n\n<p>So the reasoning was not as rational as many of the answers here seem to imply. But we're all good in coming up with rational reasons after gut decisions (and even Bloch might be prone to that).</p>\n"},{"tags":[],"owner":{"account_id":66439,"reputation":23650,"user_id":194894,"accept_rate":94,"display_name":"Flow"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1515950821,"creation_date":1497302223,"answer_id":44508855,"question_id":299304,"body_markdown":"From [JDK-4045622][1], where Joshua Bloch describes the reasons why that particular (new) `String.hashCode()` implementation was chosen\r\n\r\n&gt; The table below summarizes the performance of the various hash\r\n&gt; functions described above, for three data sets:\r\n&gt; \r\n&gt; 1) All of the words and phrases with entries in Merriam-Webster&#39;s\r\n&gt;        2nd Int&#39;l Unabridged Dictionary (311,141 strings, avg length 10 chars).\r\n&gt;\r\n&gt;  2) All of the strings in /bin/*, /usr/bin/*, /usr/lib/*, /usr/ucb/*\r\n&gt;        and /usr/openwin/bin/*  (66,304 strings, avg length 21 characters).\r\n&gt; \r\n&gt;  3) A list of URLs gathered by a web-crawler that ran for several\r\n&gt;        hours last night (28,372 strings, avg length 49 characters).\r\n&gt; \r\n&gt; The performance metric shown in the table is the &quot;average chain size&quot;\r\n&gt; over all elements in the hash table (i.e., the expected value of the\r\n&gt; number of key compares to look up an element).\r\n&gt; \r\n&gt;     \t\t\t                Webster&#39;s\tCode Strings\tURLs\r\n&gt;     \t\t\t                ---------   ------------\t----\r\n&gt;     Current Java Fn.\t        1.2509\t\t1.2738  \t    13.2560\r\n&gt;     P(37)    [Java]\t\t    1.2508\t\t1.2481  \t\t1.2454\r\n&gt;     P(65599) [Aho et al]\t    1.2490\t\t1.2510  \t\t1.2450\r\n&gt;     P(31)\t   [K+R]\t        1.2500\t\t1.2488  \t\t1.2425\r\n&gt;     P(33)    [Torek]\t        1.2500\t\t1.2500  \t\t1.2453\r\n&gt;     Vo&#39;s Fn\t\t\t        1.2487\t\t1.2471  \t\t1.2462\r\n&gt;     WAIS Fn\t\t        \t1.2497\t\t1.2519  \t\t1.2452\r\n&gt;     Weinberger&#39;s Fn(MatPak)   6.5169\t\t7.2142  \t    30.6864\r\n&gt;     Weinberger&#39;s Fn(24)    \t1.3222\t\t1.2791  \t\t1.9732\r\n&gt;     Weinberger&#39;s Fn(28)\t    1.2530\t\t1.2506  \t\t1.2439\r\n&gt; \r\n&gt; Looking at this table, it&#39;s clear that all of the functions except for\r\n&gt; the current Java function and the two broken versions of Weinberger&#39;s\r\n&gt; function offer excellent, nearly indistinguishable performance.  I\r\n&gt; strongly conjecture that this performance is essentially the\r\n&gt; &quot;theoretical ideal&quot;, which is what you&#39;d get if you used a true random\r\n&gt; number generator in place of a hash function.\r\n&gt; \r\n&gt; I&#39;d rule out the WAIS function as its specification contains pages of random numbers, and its performance is no better than any of the\r\n&gt; far simpler functions.  Any of the remaining six functions seem like\r\n&gt; excellent choices, but we have to pick one.  I suppose I&#39;d rule out\r\n&gt; Vo&#39;s variant and Weinberger&#39;s function because of their added\r\n&gt; complexity, albeit minor.  Of the remaining four, I&#39;d probably select\r\n&gt; P(31), as it&#39;s the cheapest to calculate on a RISC machine (because 31\r\n&gt; is the difference of two powers of two).  P(33) is similarly cheap to\r\n&gt; calculate, but it&#39;s performance is marginally worse, and 33 is\r\n&gt; composite, which makes me a bit nervous.\r\n&gt; \r\n&gt; Josh\r\n\r\n\r\n  [1]: http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4045622","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>From <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4045622\" rel=\"noreferrer\">JDK-4045622</a>, where Joshua Bloch describes the reasons why that particular (new) <code>String.hashCode()</code> implementation was chosen</p>\n\n<blockquote>\n  <p>The table below summarizes the performance of the various hash\n  functions described above, for three data sets:</p>\n  \n  <p>1) All of the words and phrases with entries in Merriam-Webster's\n         2nd Int'l Unabridged Dictionary (311,141 strings, avg length 10 chars).</p>\n  \n  <p>2) All of the strings in /bin/<em>, /usr/bin/</em>, /usr/lib/<em>, /usr/ucb/</em>\n         and /usr/openwin/bin/*  (66,304 strings, avg length 21 characters).</p>\n  \n  <p>3) A list of URLs gathered by a web-crawler that ran for several\n         hours last night (28,372 strings, avg length 49 characters).</p>\n  \n  <p>The performance metric shown in the table is the \"average chain size\"\n  over all elements in the hash table (i.e., the expected value of the\n  number of key compares to look up an element).</p>\n\n<pre><code>                          Webster's   Code Strings    URLs\n                          ---------   ------------    ----\nCurrent Java Fn.          1.2509      1.2738          13.2560\nP(37)    [Java]           1.2508      1.2481          1.2454\nP(65599) [Aho et al]      1.2490      1.2510          1.2450\nP(31)    [K+R]            1.2500      1.2488          1.2425\nP(33)    [Torek]          1.2500      1.2500          1.2453\nVo's Fn                   1.2487      1.2471          1.2462\nWAIS Fn                   1.2497      1.2519          1.2452\nWeinberger's Fn(MatPak)   6.5169      7.2142          30.6864\nWeinberger's Fn(24)       1.3222      1.2791          1.9732\nWeinberger's Fn(28)       1.2530      1.2506          1.2439\n</code></pre>\n  \n  <p>Looking at this table, it's clear that all of the functions except for\n  the current Java function and the two broken versions of Weinberger's\n  function offer excellent, nearly indistinguishable performance.  I\n  strongly conjecture that this performance is essentially the\n  \"theoretical ideal\", which is what you'd get if you used a true random\n  number generator in place of a hash function.</p>\n  \n  <p>I'd rule out the WAIS function as its specification contains pages of random numbers, and its performance is no better than any of the\n  far simpler functions.  Any of the remaining six functions seem like\n  excellent choices, but we have to pick one.  I suppose I'd rule out\n  Vo's variant and Weinberger's function because of their added\n  complexity, albeit minor.  Of the remaining four, I'd probably select\n  P(31), as it's the cheapest to calculate on a RISC machine (because 31\n  is the difference of two powers of two).  P(33) is similarly cheap to\n  calculate, but it's performance is marginally worse, and 33 is\n  composite, which makes me a bit nervous.</p>\n  \n  <p>Josh</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1564406388,"creation_date":1550455422,"answer_id":54739533,"question_id":299304,"body_markdown":"In latest version of JDK, 31 is still used. https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html#hashCode()\r\n\r\n\r\nThe purpose of hash string is\r\n\r\n- unique (Let see operator `^` in hashcode calculation document, it help unique)\r\n- cheap cost for calculating\r\n\r\n31 is max value can put in 8 bit (= 1 byte) register, is largest prime number can put in 1 byte register, is odd number.\r\n\r\nMultiply 31 is &lt;&lt;5 then subtract itself, therefore need cheap resources.\r\n","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>In latest version of JDK, 31 is still used. <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html#hashCode()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html#hashCode()</a></p>\n\n<p>The purpose of hash string is</p>\n\n<ul>\n<li>unique (Let see operator <code>^</code> in hashcode calculation document, it help unique)</li>\n<li>cheap cost for calculating</li>\n</ul>\n\n<p>31 is max value can put in 8 bit (= 1 byte) register, is largest prime number can put in 1 byte register, is odd number.</p>\n\n<p>Multiply 31 is &lt;&lt;5 then subtract itself, therefore need cheap resources.</p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1639942747,"creation_date":1563473106,"answer_id":57100339,"question_id":299304,"body_markdown":"**Java String hashCode() and 31**\r\n\r\nThis is because 31 has a nice property – it&#39;s multiplication can be replaced by a bitwise shift which is faster than the standard multiplication:\r\n\r\n```\r\n31 * i == (i &lt;&lt; 5) - i\r\n```","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p><strong>Java String hashCode() and 31</strong></p>\n<p>This is because 31 has a nice property – it's multiplication can be replaced by a bitwise shift which is faster than the standard multiplication:</p>\n<pre><code>31 * i == (i &lt;&lt; 5) - i\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5501958,"reputation":103,"user_id":4415649,"display_name":"Altan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592957030,"creation_date":1592956478,"answer_id":62545515,"question_id":299304,"body_markdown":"A big expectation from hash functions is that their result&#39;s uniform randomness survives an operation such as `hash(x) % N` where N is an arbitrary number (and in many cases, a power of two), one reason being that such operations are used commonly in hash tables for determining slots. Using prime number multipliers when computing the hash decreases the probability that your multiplier and the N share divisors, which would make the result of the operation less uniformly random.\r\n\r\nOthers have pointed out the nice property that multiplication by 31 can be done by a multiplication and a subtraction. I just want to point out that there is a mathematical term for such primes: [Mersenne Prime][1]\r\n\r\nAll mersenne primes are one less than a power of two so we can write them as:\r\n\r\n    p = 2^n - 1\r\n\r\nMultiplying x by p:\r\n\r\n    x * p = x * (2^n - 1) = x * 2^n - x = (x &lt;&lt; n) - x\r\n\r\nShifts (SAL/SHL) and subtractions (SUB) are generally faster than multiplications (MUL) on many machines. See [instruction tables from Agner Fog][2]\r\n\r\nThat&#39;s why GCC seems to optimize multiplications by mersenne primes by replacing them with shifts and subs, [see here][3].\r\n\r\nHowever, in my opinion, such a small prime is a bad choice for a hash function. With a relatively good hash function, you would expect to have randomness at the higher bits of the hash. However, with the Java hash function, there is almost no randomness at the higher bits with shorter strings (and still highly questionable randomness at the lower bits). This makes it more difficult to build efficient hash tables. See [this nice trick you couldn&#39;t do with the Java hash function][4].\r\n\r\nSome answers mention that they believe it is good that 31 fits into a byte. This is actually useless since:\r\n\r\n(1) We execute shifts instead of multiplications, so the size of the multiplier does not matter.\r\n\r\n(2) As far as I know, there is no specific x86 instruction to multiply an 8 byte value with a 1 byte value so you would have needed to convert &quot;31&quot; to a 8 byte value anyway even if you were multiplying. See [here][5], you multiply entire 64bit registers.\r\n\r\n(And 127 is actually the largest mersenne prime that could fit in a byte.)\r\n\r\nDoes a smaller value increase randomness in the middle-lower bits? Maybe, but it also seems to greatly increase the possible collisions :).\r\n\r\nOne could list many different issues but they generally boil down to two core principles not being fulfilled well: [Confusion and Diffusion][6]\r\n\r\nBut is it fast? Probably, since it doesn&#39;t do much. However, if performance is really the focus here, one character per loop is quite inefficient. Why not do 4 characters at a time (8 bytes) per loop iteration for longer strings, [like this][7]?  Well, that would be difficult to do with the current definition of hash where you need to multiply every character individually (please tell me if there is a bit hack to solve this :D).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Mersenne_prime\r\n  [2]: https://www.agner.org/optimize/instruction_tables.pdf\r\n  [3]: https://godbolt.org/z/jpeZEB\r\n  [4]: https://lemire.me/blog/2016/06/27/a-fast-alternative-to-the-modulo-reduction/\r\n  [5]: https://godbolt.org/z/HqArTp\r\n  [6]: https://en.wikipedia.org/wiki/Confusion_and_diffusion\r\n  [7]: https://godbolt.org/z/b2TKFs","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>A big expectation from hash functions is that their result's uniform randomness survives an operation such as <code>hash(x) % N</code> where N is an arbitrary number (and in many cases, a power of two), one reason being that such operations are used commonly in hash tables for determining slots. Using prime number multipliers when computing the hash decreases the probability that your multiplier and the N share divisors, which would make the result of the operation less uniformly random.</p>\n<p>Others have pointed out the nice property that multiplication by 31 can be done by a multiplication and a subtraction. I just want to point out that there is a mathematical term for such primes: <a href=\"https://en.wikipedia.org/wiki/Mersenne_prime\" rel=\"nofollow noreferrer\">Mersenne Prime</a></p>\n<p>All mersenne primes are one less than a power of two so we can write them as:</p>\n<pre><code>p = 2^n - 1\n</code></pre>\n<p>Multiplying x by p:</p>\n<pre><code>x * p = x * (2^n - 1) = x * 2^n - x = (x &lt;&lt; n) - x\n</code></pre>\n<p>Shifts (SAL/SHL) and subtractions (SUB) are generally faster than multiplications (MUL) on many machines. See <a href=\"https://www.agner.org/optimize/instruction_tables.pdf\" rel=\"nofollow noreferrer\">instruction tables from Agner Fog</a></p>\n<p>That's why GCC seems to optimize multiplications by mersenne primes by replacing them with shifts and subs, <a href=\"https://godbolt.org/z/jpeZEB\" rel=\"nofollow noreferrer\">see here</a>.</p>\n<p>However, in my opinion, such a small prime is a bad choice for a hash function. With a relatively good hash function, you would expect to have randomness at the higher bits of the hash. However, with the Java hash function, there is almost no randomness at the higher bits with shorter strings (and still highly questionable randomness at the lower bits). This makes it more difficult to build efficient hash tables. See <a href=\"https://lemire.me/blog/2016/06/27/a-fast-alternative-to-the-modulo-reduction/\" rel=\"nofollow noreferrer\">this nice trick you couldn't do with the Java hash function</a>.</p>\n<p>Some answers mention that they believe it is good that 31 fits into a byte. This is actually useless since:</p>\n<p>(1) We execute shifts instead of multiplications, so the size of the multiplier does not matter.</p>\n<p>(2) As far as I know, there is no specific x86 instruction to multiply an 8 byte value with a 1 byte value so you would have needed to convert &quot;31&quot; to a 8 byte value anyway even if you were multiplying. See <a href=\"https://godbolt.org/z/HqArTp\" rel=\"nofollow noreferrer\">here</a>, you multiply entire 64bit registers.</p>\n<p>(And 127 is actually the largest mersenne prime that could fit in a byte.)</p>\n<p>Does a smaller value increase randomness in the middle-lower bits? Maybe, but it also seems to greatly increase the possible collisions :).</p>\n<p>One could list many different issues but they generally boil down to two core principles not being fulfilled well: <a href=\"https://en.wikipedia.org/wiki/Confusion_and_diffusion\" rel=\"nofollow noreferrer\">Confusion and Diffusion</a></p>\n<p>But is it fast? Probably, since it doesn't do much. However, if performance is really the focus here, one character per loop is quite inefficient. Why not do 4 characters at a time (8 bytes) per loop iteration for longer strings, <a href=\"https://godbolt.org/z/b2TKFs\" rel=\"nofollow noreferrer\">like this</a>?  Well, that would be difficult to do with the current definition of hash where you need to multiply every character individually (please tell me if there is a bit hack to solve this :D).</p>\n"}],"owner":{"account_id":994,"reputation":8800,"user_id":1318,"accept_rate":100,"display_name":"jacobko"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181707,"favorite_count":0,"down_vote_count":1,"up_vote_count":579,"accepted_answer_id":299748,"answer_count":13,"score":578,"last_activity_date":1684258347,"creation_date":1227026383,"question_id":299304,"body_markdown":"Per the Java documentation, the [hash code][1] for a `String` object is computed as:\r\n\r\n&gt;     s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]\r\n&gt; using &lt;code&gt;int&lt;/code&gt; arithmetic, where &lt;code&gt;s[i]&lt;/code&gt; is the\r\n &lt;i&gt;i&lt;/i&gt;th character of the string, &lt;code&gt;n&lt;/code&gt; is the length of\r\n the string, and &lt;code&gt;^&lt;/code&gt; indicates exponentiation.\r\n\r\nWhy is 31 used as a multiplier?\r\n\r\nI understand that the multiplier should be a relatively large prime number. So why not 29, or 37, or even 97?\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/String.html#hashCode()","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>Per the Java documentation, the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#hashCode()\" rel=\"noreferrer\">hash code</a> for a <code>String</code> object is computed as:</p>\n\n<blockquote>\n<pre><code>s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]\n</code></pre>\n  \n  <p>using <code>int</code> arithmetic, where <code>s[i]</code> is the\n   <i>i</i>th character of the string, <code>n</code> is the length of\n   the string, and <code>^</code> indicates exponentiation.</p>\n</blockquote>\n\n<p>Why is 31 used as a multiplier?</p>\n\n<p>I understand that the multiplier should be a relatively large prime number. So why not 29, or 37, or even 97?</p>\n"},{"tags":["java","android","android-studio","gradle","qr-code"],"comments":[{"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"score":2,"creation_date":1684257986,"post_id":76265670,"comment_id":134491003,"body_markdown":"Have you added Jitpack to your list of repositories, as described in the setup instructions? https://github.com/androidmads/QRGenerator#how-to-import-the-library","body":"Have you added Jitpack to your list of repositories, as described in the setup instructions? <a href=\"https://github.com/androidmads/QRGenerator#how-to-import-the-library\" rel=\"nofollow noreferrer\">github.com/androidmads/QRGenerator#how-to-import-the-library</a>"},{"owner":{"account_id":17554756,"reputation":51,"user_id":12734445,"display_name":"Andrei"},"score":0,"creation_date":1684259633,"post_id":76265670,"comment_id":134491316,"body_markdown":"It did not work to add Jitpack in allprojects as reccomended but to add it to root settings.gradle, here: dependencyResolutionManagement","body":"It did not work to add Jitpack in allprojects as reccomended but to add it to root settings.gradle, here: dependencyResolutionManagement"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1684265154,"post_id":76265670,"comment_id":134492405,"body_markdown":"Having the repositories in settings.gradle is the new project layout used by AS for new projects. Originally everything was located in build.gradle.","body":"Having the repositories in settings.gradle is the new project layout used by AS for new projects. Originally everything was located in build.gradle."}],"owner":{"account_id":17554756,"reputation":51,"user_id":12734445,"display_name":"Andrei"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684257744,"creation_date":1684257744,"question_id":76265670,"body_markdown":"I am new to Android and I am trying to create a QR code but when I add the library in gradle I get: **Failed to resolve: com.github.androidmads:QRGenerator:1.0.3**\r\n\r\nThe project has just been created but I could not find any solution to make it work. What could be the solution for this?\r\n\r\nThe code in my grade is:\r\n\r\n        plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    ext {\r\n        qrgeneratorVersion = qrgeneratorVersion\r\n    }\r\n    android {\r\n        namespace &#39;com.example.androidqrpayment&#39;\r\n        compileSdk 33\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.androidqrpayment&quot;\r\n            minSdk 24\r\n            targetSdk 33\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        buildFeatures {\r\n            viewBinding true\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n        implementation &#39;androidx.navigation:navigation-fragment:2.5.2&#39;\r\n        implementation &#39;androidx.navigation:navigation-ui:2.5.2&#39;\r\n        implementation &#39;com.github.androidmads:QRGenerator:1.0.3&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    \r\n    }\r\n\r\n","title":"Failed to resolve: com.github.androidmads:QRGenerator:1.0.3","body":"<p>I am new to Android and I am trying to create a QR code but when I add the library in gradle I get: <strong>Failed to resolve: com.github.androidmads:QRGenerator:1.0.3</strong></p>\n<p>The project has just been created but I could not find any solution to make it work. What could be the solution for this?</p>\n<p>The code in my grade is:</p>\n<pre><code>    plugins {\n    id 'com.android.application'\n}\n\next {\n    qrgeneratorVersion = qrgeneratorVersion\n}\nandroid {\n    namespace 'com.example.androidqrpayment'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.androidqrpayment&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'androidx.navigation:navigation-fragment:2.5.2'\n    implementation 'androidx.navigation:navigation-ui:2.5.2'\n    implementation 'com.github.androidmads:QRGenerator:1.0.3'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":2,"creation_date":1684193289,"post_id":76258473,"comment_id":134478677,"body_markdown":"Please include the full stack trace.","body":"Please include the full stack trace."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1684194179,"post_id":76258473,"comment_id":134478780,"body_markdown":"Because: &quot;Could not initialize class io.jsonwebtoken.impl.crypto.RsaSignatureValidator&quot;.   The static initialization of the class failed; i.e. it threw an exception that wasn&#39;t caught.  Look for &gt;that&lt; stacktrace.","body":"Because: &quot;Could not initialize class io.jsonwebtoken.impl.crypto.RsaSignatureValidator&quot;.   The static initialization of the class failed; i.e. it threw an exception that wasn&#39;t caught.  Look for &gt;that&lt; stacktrace."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684228804,"post_id":76258473,"comment_id":134483497,"body_markdown":"Check [this](https://stackoverflow.com/questions/49334095/error-during-digital-signature-verification-nosuchfielderror-id-ta-ecdsa-sha-1) out","body":"Check <a href=\"https://stackoverflow.com/questions/49334095/error-during-digital-signature-verification-nosuchfielderror-id-ta-ecdsa-sha-1\">this</a> out"}],"answers":[{"tags":[],"owner":{"account_id":17654983,"reputation":115,"user_id":12814777,"display_name":"dataman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684257133,"creation_date":1684257133,"answer_id":76265609,"question_id":76258473,"body_markdown":"The fix for Spring 3 was to update one of the bouncyCastle jars in the pom from bcprov-jdk15on to bcprov-jdk18on (which is for Java 1.8+)","title":"Why is NoClassDefFoundError thrown when class appears to be in classpath?","body":"<p>The fix for Spring 3 was to update one of the bouncyCastle jars in the pom from bcprov-jdk15on to bcprov-jdk18on (which is for Java 1.8+)</p>\n"}],"owner":{"account_id":17654983,"reputation":115,"user_id":12814777,"display_name":"dataman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76265609,"answer_count":1,"score":0,"last_activity_date":1684257133,"creation_date":1684192703,"question_id":76258473,"body_markdown":"I migrated a webservice from Spring boot 2 to 3, and now I get a NoClassDefFoundError when the code in DefaultSignatureValidatorFactory tries to create a RsaSignatureValidator object.  \r\n\r\nI see the RsaSignatureValidator class in the jar file and I can open the code for that class by cmd-clicking the class from the calling class in Intellij debugger.  \r\n\r\nThe same code locates the class just fine in the springboot 2 version.\r\n\r\nHow can I determine why that NoClassDefFoundError is being thrown?\r\n\r\nThe code does not even get into the constructor but throws a java.lang.NoClassDefFoundError: Could not initialize class io.jsonwebtoken.impl.crypto.RsaSignatureValidator\r\n\r\nEDIT: Here is the stacktrace when I get the first exception where I believe the static initialization failed:\r\n\r\n    java.lang.NoSuchFieldError: id_TA_ECDSA_SHA_1\r\n    \tat org.bouncycastle.jce.provider.asymmetric.ECMappings.&lt;init&gt;(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n    \tat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\r\n    \tat java.base/java.lang.Class.newInstance(Class.java:645)\r\n    \tat org.bouncycastle.jce.provider.BouncyCastleProvider.loadAlgorithms(Unknown Source)\r\n    \tat org.bouncycastle.jce.provider.BouncyCastleProvider.setup(Unknown Source)\r\n    \tat org.bouncycastle.jce.provider.BouncyCastleProvider.access$000(Unknown Source)\r\n    \tat org.bouncycastle.jce.provider.BouncyCastleProvider$1.run(Unknown Source)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n    \tat org.bouncycastle.jce.provider.BouncyCastleProvider.&lt;init&gt;(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n    \tat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\r\n    \tat java.base/java.lang.Class.newInstance(Class.java:645)\r\n    \tat io.jsonwebtoken.lang.Classes.newInstance(Classes.java:156)\r\n    \tat io.jsonwebtoken.lang.RuntimeEnvironment.enableBouncyCastleIfPossible(RuntimeEnvironment.java:53)\r\n    \tat io.jsonwebtoken.lang.RuntimeEnvironment.&lt;clinit&gt;(RuntimeEnvironment.java:62)\r\n    \tat io.jsonwebtoken.impl.crypto.RsaProvider.&lt;clinit&gt;(RsaProvider.java:59)\r\n    \tat io.jsonwebtoken.impl.crypto.DefaultSignatureValidatorFactory.createSignatureValidator(DefaultSignatureValidatorFactory.java:43)\r\n    \tat io.jsonwebtoken.impl.crypto.DefaultJwtSignatureValidator.&lt;init&gt;(DefaultJwtSignatureValidator.java:50)\r\n    \tat io.jsonwebtoken.impl.crypto.DefaultJwtSignatureValidator.&lt;init&gt;(DefaultJwtSignatureValidator.java:39)\r\n    \tat io.jsonwebtoken.impl.DefaultJwtParser.createSignatureValidator(DefaultJwtParser.java:541)\r\n    \tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:402)\r\n    \tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:550)\r\n    \tat io.jsonwebtoken.impl.ImmutableJwtParser.parse(ImmutableJwtParser.java:153)\r\n    \tat com.okta.jwt.impl.jjwt.TokenVerifierSupport.decode(TokenVerifierSupport.java:81)\r\n    \tat com.okta.jwt.impl.jjwt.JjwtAccessTokenVerifier.decode(JjwtAccessTokenVerifier.java:56)\r\n    \tat io.onq.service.security.AuthTokenUtil.getClaimsFromOktaToken(AuthTokenUtil.java:108)\r\n    \tat io.onq.service.security.AuthTokenUtil.getFromAuthProviderToken(AuthTokenUtil.java:125)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\r\n    \tat org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:49)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\r\n    \tat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\r\n    \tat io.onq.service.security.AuthTokenUtil$$SpringCGLIB$$0.getFromAuthProviderToken(&lt;generated&gt;)\r\n    \tat io.onq.web.filter.UserAuthenticationTokenFilter.doFilterInternal(UserAuthenticationTokenFilter.java:61)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\r\n    \tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n","title":"Why is NoClassDefFoundError thrown when class appears to be in classpath?","body":"<p>I migrated a webservice from Spring boot 2 to 3, and now I get a NoClassDefFoundError when the code in DefaultSignatureValidatorFactory tries to create a RsaSignatureValidator object.</p>\n<p>I see the RsaSignatureValidator class in the jar file and I can open the code for that class by cmd-clicking the class from the calling class in Intellij debugger.</p>\n<p>The same code locates the class just fine in the springboot 2 version.</p>\n<p>How can I determine why that NoClassDefFoundError is being thrown?</p>\n<p>The code does not even get into the constructor but throws a java.lang.NoClassDefFoundError: Could not initialize class io.jsonwebtoken.impl.crypto.RsaSignatureValidator</p>\n<p>EDIT: Here is the stacktrace when I get the first exception where I believe the static initialization failed:</p>\n<pre><code>java.lang.NoSuchFieldError: id_TA_ECDSA_SHA_1\n    at org.bouncycastle.jce.provider.asymmetric.ECMappings.&lt;init&gt;(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\n    at java.base/java.lang.Class.newInstance(Class.java:645)\n    at org.bouncycastle.jce.provider.BouncyCastleProvider.loadAlgorithms(Unknown Source)\n    at org.bouncycastle.jce.provider.BouncyCastleProvider.setup(Unknown Source)\n    at org.bouncycastle.jce.provider.BouncyCastleProvider.access$000(Unknown Source)\n    at org.bouncycastle.jce.provider.BouncyCastleProvider$1.run(Unknown Source)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at org.bouncycastle.jce.provider.BouncyCastleProvider.&lt;init&gt;(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\n    at java.base/java.lang.Class.newInstance(Class.java:645)\n    at io.jsonwebtoken.lang.Classes.newInstance(Classes.java:156)\n    at io.jsonwebtoken.lang.RuntimeEnvironment.enableBouncyCastleIfPossible(RuntimeEnvironment.java:53)\n    at io.jsonwebtoken.lang.RuntimeEnvironment.&lt;clinit&gt;(RuntimeEnvironment.java:62)\n    at io.jsonwebtoken.impl.crypto.RsaProvider.&lt;clinit&gt;(RsaProvider.java:59)\n    at io.jsonwebtoken.impl.crypto.DefaultSignatureValidatorFactory.createSignatureValidator(DefaultSignatureValidatorFactory.java:43)\n    at io.jsonwebtoken.impl.crypto.DefaultJwtSignatureValidator.&lt;init&gt;(DefaultJwtSignatureValidator.java:50)\n    at io.jsonwebtoken.impl.crypto.DefaultJwtSignatureValidator.&lt;init&gt;(DefaultJwtSignatureValidator.java:39)\n    at io.jsonwebtoken.impl.DefaultJwtParser.createSignatureValidator(DefaultJwtParser.java:541)\n    at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:402)\n    at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:550)\n    at io.jsonwebtoken.impl.ImmutableJwtParser.parse(ImmutableJwtParser.java:153)\n    at com.okta.jwt.impl.jjwt.TokenVerifierSupport.decode(TokenVerifierSupport.java:81)\n    at com.okta.jwt.impl.jjwt.JjwtAccessTokenVerifier.decode(JjwtAccessTokenVerifier.java:56)\n    at io.onq.service.security.AuthTokenUtil.getClaimsFromOktaToken(AuthTokenUtil.java:108)\n    at io.onq.service.security.AuthTokenUtil.getFromAuthProviderToken(AuthTokenUtil.java:125)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:49)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n    at io.onq.service.security.AuthTokenUtil$$SpringCGLIB$$0.getFromAuthProviderToken(&lt;generated&gt;)\n    at io.onq.web.filter.UserAuthenticationTokenFilter.doFilterInternal(UserAuthenticationTokenFilter.java:61)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","security"],"answers":[{"comments":[{"owner":{"account_id":253423,"reputation":295,"user_id":532115,"display_name":"ghallas"},"score":0,"creation_date":1684315947,"post_id":76265519,"comment_id":134499248,"body_markdown":"great work, thank you! \nEnriching the security SpEL DSL is indeed much trickier than I expected (or I should expect I guess), tweaking your implementation to work with my code was quite fast and straightforward however","body":"great work, thank you!  Enriching the security SpEL DSL is indeed much trickier than I expected (or I should expect I guess), tweaking your implementation to work with my code was quite fast and straightforward however"},{"owner":{"account_id":10307815,"reputation":1103,"user_id":7604532,"accept_rate":50,"display_name":"laurentius"},"score":0,"creation_date":1696419087,"post_id":76265519,"comment_id":136149778,"body_markdown":"This really worked perfectly. Thank you.","body":"This really worked perfectly. Thank you."}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1684256943,"creation_date":1684256304,"answer_id":76265519,"question_id":76261787,"body_markdown":"First, what you did is not quite adapted to authorities mapping: there are authentication (and authorities) converters for that. I have written a tutorial for configuring a quite universal authorities mapper [there][1]. It is compatible with Keycloak roles defined at realm level (those you found in `realm_access.roles` claim) as well as client level (`resource-access.{client-id}.roles` claims).\r\n\r\nEnriching the security SpEL DSL is actually a bit tricky (I had to copy a Spring protected class to get it working) and should be used when needing more than **R**ole **B**ased **A**ccess **C**ontrol. I have [another tutorial][2] for that, but it is quite adherent to my libs and starters (the previous one I linked is not).\r\n\r\nHere is a sample expression handler configuration:\r\n```java\r\n@Bean\r\nstatic MethodSecurityExpressionHandler methodSecurityExpressionHandler() {\r\n\treturn new C4MethodSecurityExpressionHandler(ProxiesMethodSecurityExpressionRoot::new);\r\n}\r\n```\r\nWith this expression root:\r\n```java\r\nstatic final class ProxiesMethodSecurityExpressionRoot extends C4MethodSecurityExpressionRoot {\r\n\r\n\tpublic boolean is(String preferredUsername) {\r\n\t\treturn Objects.equals(preferredUsername, getAuthentication().getName());\r\n\t}\r\n\r\n\tpublic Proxy onBehalfOf(String proxiedUsername) {\r\n\t\treturn get(ProxiesAuthentication.class).map(a -&gt; a.getProxyFor(proxiedUsername))\r\n\t\t\t\t.orElse(new Proxy(proxiedUsername, getAuthentication().getName(), List.of()));\r\n\t}\r\n\r\n\tpublic boolean isNice() {\r\n\t\treturn hasAnyAuthority(&quot;NICE&quot;, &quot;SUPER_COOL&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nAnd here is the code I had to copy from Spring Security:\r\n```java\r\n@RequiredArgsConstructor\r\npublic class C4MethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\r\n    private final Supplier&lt;C4MethodSecurityExpressionRoot&gt; expressionRootSupplier;\r\n\r\n    /**\r\n     * Creates the root object for expression evaluation.\r\n     */\r\n    @Override\r\n    protected MethodSecurityExpressionOperations createSecurityExpressionRoot(Authentication authentication,\r\n            MethodInvocation invocation) {\r\n        return createSecurityExpressionRoot(() -&gt; authentication, invocation);\r\n    }\r\n\r\n    @Override\r\n    public EvaluationContext createEvaluationContext(Supplier&lt;Authentication&gt; authentication, MethodInvocation mi) {\r\n        var root = createSecurityExpressionRoot(authentication, mi);\r\n        var ctx = new C4MethodSecurityEvaluationContext(root, mi, getParameterNameDiscoverer());\r\n        ctx.setBeanResolver(getBeanResolver());\r\n        return ctx;\r\n    }\r\n\r\n    private MethodSecurityExpressionOperations createSecurityExpressionRoot(Supplier&lt;Authentication&gt; authentication,\r\n            MethodInvocation invocation) {\r\n        final var root = expressionRootSupplier.get();\r\n        root.setThis(invocation.getThis());\r\n        root.setPermissionEvaluator(getPermissionEvaluator());\r\n        root.setTrustResolver(getTrustResolver());\r\n        root.setRoleHierarchy(getRoleHierarchy());\r\n        root.setDefaultRolePrefix(getDefaultRolePrefix());\r\n        return root;\r\n    }\r\n\r\n    static class C4MethodSecurityEvaluationContext extends MethodBasedEvaluationContext {\r\n\r\n        C4MethodSecurityEvaluationContext(MethodSecurityExpressionOperations root, MethodInvocation mi,\r\n                ParameterNameDiscoverer parameterNameDiscoverer) {\r\n            super(root, getSpecificMethod(mi), mi.getArguments(), parameterNameDiscoverer);\r\n        }\r\n\r\n        private static Method getSpecificMethod(MethodInvocation mi) {\r\n            return AopUtils.getMostSpecificMethod(mi.getMethod(), AopProxyUtils.ultimateTargetClass(mi.getThis()));\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n```java\r\npublic class C4MethodSecurityExpressionRoot extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\r\n\r\n\tprivate Object filterObject;\r\n\tprivate Object returnObject;\r\n\tprivate Object target;\r\n\r\n\tpublic C4MethodSecurityExpressionRoot() {\r\n\t\tsuper(SecurityContextHolder.getContext().getAuthentication());\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tprotected &lt;T extends Authentication&gt; Optional&lt;T&gt; get(Class&lt;T&gt; expectedAuthType) {\r\n\t\treturn Optional.ofNullable(getAuthentication()).map(a -&gt; a.getClass().isAssignableFrom(expectedAuthType) ? (T) a : null).flatMap(Optional::ofNullable);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setFilterObject(Object filterObject) {\r\n\t\tthis.filterObject = filterObject;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getFilterObject() {\r\n\t\treturn filterObject;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setReturnObject(Object returnObject) {\r\n\t\tthis.returnObject = returnObject;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getReturnObject() {\r\n\t\treturn returnObject;\r\n\t}\r\n\r\n\tpublic void setThis(Object target) {\r\n\t\tthis.target = target;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getThis() {\r\n\t\treturn target;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-resource-server\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_specialized_oauthentication","title":"Implementing Custom Expression Handling with Spring Security 6","body":"<p>First, what you did is not quite adapted to authorities mapping: there are authentication (and authorities) converters for that. I have written a tutorial for configuring a quite universal authorities mapper <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-resource-server\" rel=\"nofollow noreferrer\">there</a>. It is compatible with Keycloak roles defined at realm level (those you found in <code>realm_access.roles</code> claim) as well as client level (<code>resource-access.{client-id}.roles</code> claims).</p>\n<p>Enriching the security SpEL DSL is actually a bit tricky (I had to copy a Spring protected class to get it working) and should be used when needing more than <strong>R</strong>ole <strong>B</strong>ased <strong>A</strong>ccess <strong>C</strong>ontrol. I have <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_specialized_oauthentication\" rel=\"nofollow noreferrer\">another tutorial</a> for that, but it is quite adherent to my libs and starters (the previous one I linked is not).</p>\n<p>Here is a sample expression handler configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nstatic MethodSecurityExpressionHandler methodSecurityExpressionHandler() {\n    return new C4MethodSecurityExpressionHandler(ProxiesMethodSecurityExpressionRoot::new);\n}\n</code></pre>\n<p>With this expression root:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final class ProxiesMethodSecurityExpressionRoot extends C4MethodSecurityExpressionRoot {\n\n    public boolean is(String preferredUsername) {\n        return Objects.equals(preferredUsername, getAuthentication().getName());\n    }\n\n    public Proxy onBehalfOf(String proxiedUsername) {\n        return get(ProxiesAuthentication.class).map(a -&gt; a.getProxyFor(proxiedUsername))\n                .orElse(new Proxy(proxiedUsername, getAuthentication().getName(), List.of()));\n    }\n\n    public boolean isNice() {\n        return hasAnyAuthority(&quot;NICE&quot;, &quot;SUPER_COOL&quot;);\n    }\n}\n</code></pre>\n<p>And here is the code I had to copy from Spring Security:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic class C4MethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\n    private final Supplier&lt;C4MethodSecurityExpressionRoot&gt; expressionRootSupplier;\n\n    /**\n     * Creates the root object for expression evaluation.\n     */\n    @Override\n    protected MethodSecurityExpressionOperations createSecurityExpressionRoot(Authentication authentication,\n            MethodInvocation invocation) {\n        return createSecurityExpressionRoot(() -&gt; authentication, invocation);\n    }\n\n    @Override\n    public EvaluationContext createEvaluationContext(Supplier&lt;Authentication&gt; authentication, MethodInvocation mi) {\n        var root = createSecurityExpressionRoot(authentication, mi);\n        var ctx = new C4MethodSecurityEvaluationContext(root, mi, getParameterNameDiscoverer());\n        ctx.setBeanResolver(getBeanResolver());\n        return ctx;\n    }\n\n    private MethodSecurityExpressionOperations createSecurityExpressionRoot(Supplier&lt;Authentication&gt; authentication,\n            MethodInvocation invocation) {\n        final var root = expressionRootSupplier.get();\n        root.setThis(invocation.getThis());\n        root.setPermissionEvaluator(getPermissionEvaluator());\n        root.setTrustResolver(getTrustResolver());\n        root.setRoleHierarchy(getRoleHierarchy());\n        root.setDefaultRolePrefix(getDefaultRolePrefix());\n        return root;\n    }\n\n    static class C4MethodSecurityEvaluationContext extends MethodBasedEvaluationContext {\n\n        C4MethodSecurityEvaluationContext(MethodSecurityExpressionOperations root, MethodInvocation mi,\n                ParameterNameDiscoverer parameterNameDiscoverer) {\n            super(root, getSpecificMethod(mi), mi.getArguments(), parameterNameDiscoverer);\n        }\n\n        private static Method getSpecificMethod(MethodInvocation mi) {\n            return AopUtils.getMostSpecificMethod(mi.getMethod(), AopProxyUtils.ultimateTargetClass(mi.getThis()));\n        }\n\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class C4MethodSecurityExpressionRoot extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\n\n    private Object filterObject;\n    private Object returnObject;\n    private Object target;\n\n    public C4MethodSecurityExpressionRoot() {\n        super(SecurityContextHolder.getContext().getAuthentication());\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    protected &lt;T extends Authentication&gt; Optional&lt;T&gt; get(Class&lt;T&gt; expectedAuthType) {\n        return Optional.ofNullable(getAuthentication()).map(a -&gt; a.getClass().isAssignableFrom(expectedAuthType) ? (T) a : null).flatMap(Optional::ofNullable);\n    }\n\n    @Override\n    public void setFilterObject(Object filterObject) {\n        this.filterObject = filterObject;\n    }\n\n    @Override\n    public Object getFilterObject() {\n        return filterObject;\n    }\n\n    @Override\n    public void setReturnObject(Object returnObject) {\n        this.returnObject = returnObject;\n    }\n\n    @Override\n    public Object getReturnObject() {\n        return returnObject;\n    }\n\n    public void setThis(Object target) {\n        this.target = target;\n    }\n\n    @Override\n    public Object getThis() {\n        return target;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":253423,"reputation":295,"user_id":532115,"display_name":"ghallas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1141,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76265519,"answer_count":1,"score":2,"last_activity_date":1684256943,"creation_date":1684231572,"question_id":76261787,"body_markdown":"In my Java Spring Boot 3 application, I want to use Spring Security with `@PreAuthorize` / `@PostAuthorize`. For some reason, the Keycloak-generated tokens I receive do not have Roles under `Authorities` as Spring expects them, but under a `&quot;realm_access&quot;` attribute.  \r\nSo, I decided to go ahead and implement a custom Expession handler, following pretty much what I found in https://docs.spring.io/spring-security/reference/servlet/authorization/method-security.html#customizing-expression-handling \r\n\r\nSo, some code  \r\n**Expression Root**\r\n\r\n```\r\npublic class CustomMethodSecurityExpressionRoot\r\n        extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\r\n\r\n    public CustomMethodSecurityExpressionRoot(Authentication authentication) {\r\n        super(authentication);\r\n    }\r\n\r\n    public boolean hasRealmRole(String role) {\r\n        var principal = ((OAuth2AuthenticatedPrincipal)this.getPrincipal());\r\n        if (principal == null) {\r\n            return false;\r\n        }\r\n\r\n        var realmAccess = (JSONObject)principal.getAttribute(&quot;realm_access&quot;);\r\n        if (realmAccess == null) {\r\n            return false;\r\n        }\r\n\r\n        var roles = (JSONArray)realmAccess.get(&quot;roles&quot;);\r\n        if (roles == null || roles.isEmpty()) {\r\n            return false;\r\n        }\r\n\r\n        return roles.stream().anyMatch(x -&gt; x.equals(role));\r\n    }\r\n\r\n    @Override\r\n    public void setFilterObject(Object filterObject) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public Object getFilterObject() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void setReturnObject(Object returnObject) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public Object getReturnObject() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Object getThis() {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n**Expression Handler**\r\n```\r\npublic class CustomMethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\r\n    private AuthenticationTrustResolver trustResolver = new AuthenticationTrustResolverImpl();\r\n\r\n    @Override\r\n    protected MethodSecurityExpressionOperations createSecurityExpressionRoot(\r\n            Authentication authentication, MethodInvocation invocation) {\r\n        CustomMethodSecurityExpressionRoot root =\r\n                new CustomMethodSecurityExpressionRoot(authentication);\r\n        root.setPermissionEvaluator(getPermissionEvaluator());\r\n        root.setTrustResolver(this.trustResolver);\r\n        root.setRoleHierarchy(getRoleHierarchy());\r\n        return root;\r\n    }\r\n}\r\n```\r\n\r\n**Security Config**\r\n```\r\n@Configuration\r\n@EnableMethodSecurity\r\npublic class SecurityConfig {\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n            .authorizeHttpRequests(auth -&gt; auth\r\n                    .requestMatchers(&quot;/health/**&quot;).permitAll()\r\n                    .requestMatchers(&quot;/swagger-ui/**&quot;).permitAll()\r\n                    .requestMatchers(&quot;/swagger/**&quot;).permitAll()\r\n                    .requestMatchers(&quot;/v3/api-docs/**&quot;).permitAll()\r\n                    // Cloud config related endpoint\r\n                    .requestMatchers(&quot;/configuration/**&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n            )\r\n            .oauth2ResourceServer(OAuth2ResourceServerConfigurer::opaqueToken);\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n**Controller**\r\n```\r\n    @PreAuthorize(&quot;hasRealmRole(&#39;FOOBAR&#39;)&quot;)\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Asset&gt; getAsset(@UUIDConstraint @PathVariable(&quot;id&quot;) String id) {\r\n    ...\r\n```\r\n\r\nand finally, the **Beans** based on the Spring reference added above\r\n\r\n```\r\n@Configuration\r\npublic class BaseConfig {\r\n    @Bean\r\n    public RoleHierarchy roleHierarchy() {\r\n        return new RoleHierarchyImpl();\r\n    }\r\n\r\n    @Bean\r\n    static MethodSecurityExpressionHandler methodSecurityExpressionHandler(RoleHierarchy roleHierarchy) {\r\n        var handler = new CustomMethodSecurityExpressionHandler();\r\n        handler.setRoleHierarchy(roleHierarchy);\r\n        return handler;\r\n    }\r\n}\r\n```\r\n\r\nNow, when I am sending a request to the `/GET` endpoint, I get the following error:\r\n\r\n```\r\njava.lang.IllegalArgumentException: Failed to evaluate expression &#39;hasRealmRole(&#39;FOOBAR&#39;)&#39;  \r\n...  \r\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1004E: Method call: Method hasRealmRole(java.lang.String) cannot be found on type org.springframework.security.access.expression.method.MethodSecurityExpressionRoot\r\n```\r\n\r\nAny idea why my `CustomMethodSecurityExpressionRoot` is not properly registered?\r\n","title":"Implementing Custom Expression Handling with Spring Security 6","body":"<p>In my Java Spring Boot 3 application, I want to use Spring Security with <code>@PreAuthorize</code> / <code>@PostAuthorize</code>. For some reason, the Keycloak-generated tokens I receive do not have Roles under <code>Authorities</code> as Spring expects them, but under a <code>&quot;realm_access&quot;</code> attribute.<br />\nSo, I decided to go ahead and implement a custom Expession handler, following pretty much what I found in <a href=\"https://docs.spring.io/spring-security/reference/servlet/authorization/method-security.html#customizing-expression-handling\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/authorization/method-security.html#customizing-expression-handling</a></p>\n<p>So, some code<br />\n<strong>Expression Root</strong></p>\n<pre><code>public class CustomMethodSecurityExpressionRoot\n        extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\n\n    public CustomMethodSecurityExpressionRoot(Authentication authentication) {\n        super(authentication);\n    }\n\n    public boolean hasRealmRole(String role) {\n        var principal = ((OAuth2AuthenticatedPrincipal)this.getPrincipal());\n        if (principal == null) {\n            return false;\n        }\n\n        var realmAccess = (JSONObject)principal.getAttribute(&quot;realm_access&quot;);\n        if (realmAccess == null) {\n            return false;\n        }\n\n        var roles = (JSONArray)realmAccess.get(&quot;roles&quot;);\n        if (roles == null || roles.isEmpty()) {\n            return false;\n        }\n\n        return roles.stream().anyMatch(x -&gt; x.equals(role));\n    }\n\n    @Override\n    public void setFilterObject(Object filterObject) {\n\n    }\n\n    @Override\n    public Object getFilterObject() {\n        return null;\n    }\n\n    @Override\n    public void setReturnObject(Object returnObject) {\n\n    }\n\n    @Override\n    public Object getReturnObject() {\n        return null;\n    }\n\n    @Override\n    public Object getThis() {\n        return null;\n    }\n}\n</code></pre>\n<p><strong>Expression Handler</strong></p>\n<pre><code>public class CustomMethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\n    private AuthenticationTrustResolver trustResolver = new AuthenticationTrustResolverImpl();\n\n    @Override\n    protected MethodSecurityExpressionOperations createSecurityExpressionRoot(\n            Authentication authentication, MethodInvocation invocation) {\n        CustomMethodSecurityExpressionRoot root =\n                new CustomMethodSecurityExpressionRoot(authentication);\n        root.setPermissionEvaluator(getPermissionEvaluator());\n        root.setTrustResolver(this.trustResolver);\n        root.setRoleHierarchy(getRoleHierarchy());\n        return root;\n    }\n}\n</code></pre>\n<p><strong>Security Config</strong></p>\n<pre><code>@Configuration\n@EnableMethodSecurity\npublic class SecurityConfig {\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n            .authorizeHttpRequests(auth -&gt; auth\n                    .requestMatchers(&quot;/health/**&quot;).permitAll()\n                    .requestMatchers(&quot;/swagger-ui/**&quot;).permitAll()\n                    .requestMatchers(&quot;/swagger/**&quot;).permitAll()\n                    .requestMatchers(&quot;/v3/api-docs/**&quot;).permitAll()\n                    // Cloud config related endpoint\n                    .requestMatchers(&quot;/configuration/**&quot;).permitAll()\n                    .anyRequest().authenticated()\n            )\n            .oauth2ResourceServer(OAuth2ResourceServerConfigurer::opaqueToken);\n        return http.build();\n    }\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>    @PreAuthorize(&quot;hasRealmRole('FOOBAR')&quot;)\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Asset&gt; getAsset(@UUIDConstraint @PathVariable(&quot;id&quot;) String id) {\n    ...\n</code></pre>\n<p>and finally, the <strong>Beans</strong> based on the Spring reference added above</p>\n<pre><code>@Configuration\npublic class BaseConfig {\n    @Bean\n    public RoleHierarchy roleHierarchy() {\n        return new RoleHierarchyImpl();\n    }\n\n    @Bean\n    static MethodSecurityExpressionHandler methodSecurityExpressionHandler(RoleHierarchy roleHierarchy) {\n        var handler = new CustomMethodSecurityExpressionHandler();\n        handler.setRoleHierarchy(roleHierarchy);\n        return handler;\n    }\n}\n</code></pre>\n<p>Now, when I am sending a request to the <code>/GET</code> endpoint, I get the following error:</p>\n<pre><code>java.lang.IllegalArgumentException: Failed to evaluate expression 'hasRealmRole('FOOBAR')'  \n...  \nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1004E: Method call: Method hasRealmRole(java.lang.String) cannot be found on type org.springframework.security.access.expression.method.MethodSecurityExpressionRoot\n</code></pre>\n<p>Any idea why my <code>CustomMethodSecurityExpressionRoot</code> is not properly registered?</p>\n"},{"tags":["java","amazon-sqs","spring-cloud-aws"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1684259694,"post_id":76265548,"comment_id":134491331,"body_markdown":"Have you tried to do it without Spring?  I&#39;ve scaled to many threads reading from a single SQS queue and can get very good throughput.","body":"Have you tried to do it without Spring?  I&#39;ve scaled to many threads reading from a single SQS queue and can get very good throughput."},{"owner":{"account_id":964191,"reputation":119,"user_id":987940,"display_name":"la00"},"score":0,"creation_date":1684310800,"post_id":76265548,"comment_id":134498045,"body_markdown":"Was trying to avoid doing custom code, but probably will have to do it for performance reasons. Reading https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-SNAPSHOT/reference/html/index.html#default-polling-behavior doesn&#39;t help as I don&#39;t see how batches are handled.","body":"Was trying to avoid doing custom code, but probably will have to do it for performance reasons. Reading <a href=\"https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-SNAPSHOT/reference/html/index.html#default-polling-behavior\" rel=\"nofollow noreferrer\">docs.awspring.io/spring-cloud-aws/docs/3.0.0-SNAPSHOT/refere&zwnj;&#8203;nce/&hellip;</a> doesn&#39;t help as I don&#39;t see how batches are handled."},{"owner":{"account_id":126088,"reputation":225,"user_id":1353245,"display_name":"Suresh"},"score":0,"creation_date":1695738547,"post_id":76265548,"comment_id":136062796,"body_markdown":"Hi @la00, was your task cpu bound or IO bound? If it is IO bound, why can&#39;t you set the maxConcurrentMessages to a higher limit like 100 as most of the threads will be waiting for the response like how tomcat does?","body":"Hi @la00, was your task cpu bound or IO bound? If it is IO bound, why can&#39;t you set the maxConcurrentMessages to a higher limit like 100 as most of the threads will be waiting for the response like how tomcat does?"},{"owner":{"account_id":964191,"reputation":119,"user_id":987940,"display_name":"la00"},"score":0,"creation_date":1695828625,"post_id":76265548,"comment_id":136076968,"body_markdown":"It was IO, but still with all configs it was slow. I wrote some complex code where I have only 1 thread polling, but if there&#39;s many messages I scale to a limit number of threads. I would expect the lib to work like this, but It think they have a coordinator thread that poll and distribute to others, but was not fast enough for me.","body":"It was IO, but still with all configs it was slow. I wrote some complex code where I have only 1 thread polling, but if there&#39;s many messages I scale to a limit number of threads. I would expect the lib to work like this, but It think they have a coordinator thread that poll and distribute to others, but was not fast enough for me."}],"owner":{"account_id":964191,"reputation":119,"user_id":987940,"display_name":"la00"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684256531,"creation_date":1684256531,"question_id":76265548,"body_markdown":"Trying to consume from SQS as fast and reliable as possible using the [@SqsListener][1] annotation. \r\n\r\nHere is my code:\r\n\r\n```java\r\n@SqsListener(value = &quot;${sqs-url}&quot;, maxConcurrentMessages = &quot;${maxConcurrentMessages:30}&quot;, \r\nmaxMessagesPerPoll = &quot;${maxMessagesPerPoll:15}&quot;, pollTimeoutSeconds = &quot;${pollTimeoutSeconds:5}&quot;)\r\n    public void listenEvent(List&lt;Message&lt;String&gt;&gt; messages, BatchAcknowledgement ack) {\r\n        var successfullyProcessed = new HashSet&lt;&gt;();\r\n        // https://docs.awspring.io/spring-cloud-aws/docs/3.0.0/reference/html/index.html#batchacknowledgement\r\n\r\n        messages.forEach(message -&gt; {\r\n            try {\r\n                // ... my logic ....\r\n\r\n                successfullyProcessed.add(message);\r\n            } catch (Exception e) {\r\n                log.error(&quot;Failed message={}&quot;, message, e);\r\n            }\r\n        });\r\n        ack.acknowledge(successfullyProcessed);\r\n        log.info(&quot;Acknowledged {} messages&quot;, successfullyProcessed.size());\r\n    }\r\n```\r\n\r\nextra config for manual acknowledge:\r\n\r\n```java \r\n        //...\r\n        // https://docs.awspring.io/spring-cloud-aws/docs/3.0.0/reference/html/index.html#acknowledging-messages\r\n        factory.configure(options -&gt; options\r\n                .maxDelayBetweenPolls(Duration.ofSeconds(5))\r\n                .acknowledgementMode(AcknowledgementMode.MANUAL) \r\n                .acknowledgementInterval(Duration.ofSeconds(5))\r\n                .acknowledgementThreshold(10)\r\n                .acknowledgementOrdering(AcknowledgementOrdering.PARALLEL));\r\n```\r\n\r\nI believe maxConcurrentMessages is the number of threads to run in parallel, but not sure. If it is, Then don&#39;t want to have that number to high as I have limited CPU. Problem is that maxMessagesPerPoll cannot be higher than maxConcurrentMessages and therefore I cannot do polls for 100 messages using 8 threads. How can I make this efficient using low maxConcurrentMessages?\r\n\r\n\r\n  [1]: https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-SNAPSHOT/reference/html/index.html#sqslistener-annotation","title":"Scale @SqsListener from spring-cloud-aws 3.0.0","body":"<p>Trying to consume from SQS as fast and reliable as possible using the <a href=\"https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-SNAPSHOT/reference/html/index.html#sqslistener-annotation\" rel=\"nofollow noreferrer\">@SqsListener</a> annotation.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SqsListener(value = &quot;${sqs-url}&quot;, maxConcurrentMessages = &quot;${maxConcurrentMessages:30}&quot;, \nmaxMessagesPerPoll = &quot;${maxMessagesPerPoll:15}&quot;, pollTimeoutSeconds = &quot;${pollTimeoutSeconds:5}&quot;)\n    public void listenEvent(List&lt;Message&lt;String&gt;&gt; messages, BatchAcknowledgement ack) {\n        var successfullyProcessed = new HashSet&lt;&gt;();\n        // https://docs.awspring.io/spring-cloud-aws/docs/3.0.0/reference/html/index.html#batchacknowledgement\n\n        messages.forEach(message -&gt; {\n            try {\n                // ... my logic ....\n\n                successfullyProcessed.add(message);\n            } catch (Exception e) {\n                log.error(&quot;Failed message={}&quot;, message, e);\n            }\n        });\n        ack.acknowledge(successfullyProcessed);\n        log.info(&quot;Acknowledged {} messages&quot;, successfullyProcessed.size());\n    }\n</code></pre>\n<p>extra config for manual acknowledge:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        //...\n        // https://docs.awspring.io/spring-cloud-aws/docs/3.0.0/reference/html/index.html#acknowledging-messages\n        factory.configure(options -&gt; options\n                .maxDelayBetweenPolls(Duration.ofSeconds(5))\n                .acknowledgementMode(AcknowledgementMode.MANUAL) \n                .acknowledgementInterval(Duration.ofSeconds(5))\n                .acknowledgementThreshold(10)\n                .acknowledgementOrdering(AcknowledgementOrdering.PARALLEL));\n</code></pre>\n<p>I believe maxConcurrentMessages is the number of threads to run in parallel, but not sure. If it is, Then don't want to have that number to high as I have limited CPU. Problem is that maxMessagesPerPoll cannot be higher than maxConcurrentMessages and therefore I cannot do polls for 100 messages using 8 threads. How can I make this efficient using low maxConcurrentMessages?</p>\n"},{"tags":["java","button","javafx","tableview"],"answers":[{"comments":[{"owner":{"account_id":4297575,"reputation":323,"user_id":3512209,"accept_rate":100,"display_name":"Dante Cervantes"},"score":0,"creation_date":1539035638,"post_id":29490190,"comment_id":92347381,"body_markdown":"getTableView().getItems().get(getIndex()); is not a function, i tried to added but is not working","body":"getTableView().getItems().get(getIndex()); is not a function, i tried to added but is not working"},{"owner":{"account_id":15411576,"reputation":1138,"user_id":11118152,"display_name":"Martin Mbae"},"score":0,"creation_date":1600670661,"post_id":29490190,"comment_id":113148984,"body_markdown":"Anyone using JFXTreeTableView Use this on the button click event -&gt;  \n                                        User user = getTreeTableView().getTreeItem(getIndex()).getValue();","body":"Anyone using JFXTreeTableView Use this on the button click event -&gt;                                           User user = getTreeTableView().getTreeItem(getIndex()).getValue();"}],"tags":[],"owner":{"account_id":348041,"reputation":48805,"user_id":682495,"accept_rate":77,"display_name":"Uluk Biy"},"comment_count":2,"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1498126388,"creation_date":1428405088,"answer_id":29490190,"question_id":29489366,"body_markdown":"To be able to render the column, `TableColumn` needs cellValueFactory. But the &quot;action&quot; column does not exist in underlying data model. In this case, I just give some dummy value to cellValueFactory and move on:\r\n\r\n    public class JustDoIt extends Application {\r\n    \r\n        private final TableView&lt;Person&gt; table = new TableView&lt;&gt;();\r\n        private final ObservableList&lt;Person&gt; data\r\n                = FXCollections.observableArrayList(\r\n                        new Person(&quot;Jacob&quot;, &quot;Smith&quot;),\r\n                        new Person(&quot;Isabella&quot;, &quot;Johnson&quot;),\r\n                        new Person(&quot;Ethan&quot;, &quot;Williams&quot;),\r\n                        new Person(&quot;Emma&quot;, &quot;Jones&quot;),\r\n                        new Person(&quot;Michael&quot;, &quot;Brown&quot;)\r\n                );\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            stage.setWidth(450);\r\n            stage.setHeight(500);\r\n    \r\n            TableColumn firstNameCol = new TableColumn(&quot;First Name&quot;);\r\n            firstNameCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;firstName&quot;));\r\n    \r\n            TableColumn lastNameCol = new TableColumn(&quot;Last Name&quot;);\r\n            lastNameCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;lastName&quot;));\r\n    \r\n            TableColumn actionCol = new TableColumn(&quot;Action&quot;);\r\n            actionCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;DUMMY&quot;));\r\n    \r\n            Callback&lt;TableColumn&lt;Person, String&gt;, TableCell&lt;Person, String&gt;&gt; cellFactory\r\n                    = //\r\n                    new Callback&lt;TableColumn&lt;Person, String&gt;, TableCell&lt;Person, String&gt;&gt;() {\r\n                @Override\r\n                public TableCell call(final TableColumn&lt;Person, String&gt; param) {\r\n                    final TableCell&lt;Person, String&gt; cell = new TableCell&lt;Person, String&gt;() {\r\n    \r\n                        final Button btn = new Button(&quot;Just Do It&quot;);\r\n    \r\n                        @Override\r\n                        public void updateItem(String item, boolean empty) {\r\n                            super.updateItem(item, empty);\r\n                            if (empty) {\r\n                                setGraphic(null);\r\n                                setText(null);\r\n                            } else {\r\n                                btn.setOnAction(event -&gt; {\r\n                                    Person person = getTableView().getItems().get(getIndex());\r\n                                    System.out.println(person.getFirstName()\r\n                                            + &quot;   &quot; + person.getLastName());\r\n                                });\r\n                                setGraphic(btn);\r\n                                setText(null);\r\n                            }\r\n                        }\r\n                    };\r\n                    return cell;\r\n                }\r\n            };\r\n    \r\n            actionCol.setCellFactory(cellFactory);\r\n    \r\n            table.setItems(data);\r\n            table.getColumns().addAll(firstNameCol, lastNameCol, actionCol);\r\n    \r\n            Scene scene = new Scene(new Group());\r\n    \r\n            ((Group) scene.getRoot()).getChildren().addAll(table);\r\n    \r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static class Person {\r\n    \r\n            private final SimpleStringProperty firstName;\r\n            private final SimpleStringProperty lastName;\r\n    \r\n            private Person(String fName, String lName) {\r\n                this.firstName = new SimpleStringProperty(fName);\r\n                this.lastName = new SimpleStringProperty(lName);\r\n            }\r\n    \r\n            public String getFirstName() {\r\n                return firstName.get();\r\n            }\r\n    \r\n            public void setFirstName(String fName) {\r\n                firstName.set(fName);\r\n            }\r\n    \r\n            public String getLastName() {\r\n                return lastName.get();\r\n            }\r\n    \r\n            public void setLastName(String fName) {\r\n                lastName.set(fName);\r\n            }\r\n    \r\n        }\r\n    }","title":"How to add button in JavaFX table view","body":"<p>To be able to render the column, <code>TableColumn</code> needs cellValueFactory. But the \"action\" column does not exist in underlying data model. In this case, I just give some dummy value to cellValueFactory and move on:</p>\n\n<pre><code>public class JustDoIt extends Application {\n\n    private final TableView&lt;Person&gt; table = new TableView&lt;&gt;();\n    private final ObservableList&lt;Person&gt; data\n            = FXCollections.observableArrayList(\n                    new Person(\"Jacob\", \"Smith\"),\n                    new Person(\"Isabella\", \"Johnson\"),\n                    new Person(\"Ethan\", \"Williams\"),\n                    new Person(\"Emma\", \"Jones\"),\n                    new Person(\"Michael\", \"Brown\")\n            );\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) {\n        stage.setWidth(450);\n        stage.setHeight(500);\n\n        TableColumn firstNameCol = new TableColumn(\"First Name\");\n        firstNameCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(\"firstName\"));\n\n        TableColumn lastNameCol = new TableColumn(\"Last Name\");\n        lastNameCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(\"lastName\"));\n\n        TableColumn actionCol = new TableColumn(\"Action\");\n        actionCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(\"DUMMY\"));\n\n        Callback&lt;TableColumn&lt;Person, String&gt;, TableCell&lt;Person, String&gt;&gt; cellFactory\n                = //\n                new Callback&lt;TableColumn&lt;Person, String&gt;, TableCell&lt;Person, String&gt;&gt;() {\n            @Override\n            public TableCell call(final TableColumn&lt;Person, String&gt; param) {\n                final TableCell&lt;Person, String&gt; cell = new TableCell&lt;Person, String&gt;() {\n\n                    final Button btn = new Button(\"Just Do It\");\n\n                    @Override\n                    public void updateItem(String item, boolean empty) {\n                        super.updateItem(item, empty);\n                        if (empty) {\n                            setGraphic(null);\n                            setText(null);\n                        } else {\n                            btn.setOnAction(event -&gt; {\n                                Person person = getTableView().getItems().get(getIndex());\n                                System.out.println(person.getFirstName()\n                                        + \"   \" + person.getLastName());\n                            });\n                            setGraphic(btn);\n                            setText(null);\n                        }\n                    }\n                };\n                return cell;\n            }\n        };\n\n        actionCol.setCellFactory(cellFactory);\n\n        table.setItems(data);\n        table.getColumns().addAll(firstNameCol, lastNameCol, actionCol);\n\n        Scene scene = new Scene(new Group());\n\n        ((Group) scene.getRoot()).getChildren().addAll(table);\n\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static class Person {\n\n        private final SimpleStringProperty firstName;\n        private final SimpleStringProperty lastName;\n\n        private Person(String fName, String lName) {\n            this.firstName = new SimpleStringProperty(fName);\n            this.lastName = new SimpleStringProperty(lName);\n        }\n\n        public String getFirstName() {\n            return firstName.get();\n        }\n\n        public void setFirstName(String fName) {\n            firstName.set(fName);\n        }\n\n        public String getLastName() {\n            return lastName.get();\n        }\n\n        public void setLastName(String fName) {\n            lastName.set(fName);\n        }\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7100578,"reputation":2612,"user_id":5432315,"accept_rate":71,"display_name":"Brad Turek"},"score":1,"creation_date":1521820900,"post_id":49066796,"comment_id":85910557,"body_markdown":"Great solution. I&#39;m curious as to what role the `observable` plays.","body":"Great solution. I&#39;m curious as to what role the <code>observable</code> plays."},{"owner":{"account_id":3260364,"reputation":1649,"user_id":2746057,"display_name":"Darrel K."},"score":1,"creation_date":1522054296,"post_id":49066796,"comment_id":85977393,"body_markdown":"This is for future reference, but for this answer it can be remove as it is not used. Will update the answer. Thanks","body":"This is for future reference, but for this answer it can be remove as it is not used. Will update the answer. Thanks"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1684159713,"post_id":49066796,"comment_id":134472132,"body_markdown":"This answer is not a good answer and should be avoided. A quote from James_D, &quot;TableView, TableColumn, TableCell, etc., should be types of data, not types of UI control. So you should never have, e.g., TableCell&lt;S, Button&gt;. Button is not a data type.&quot;.  https://stackoverflow.com/questions/76248808/how-do-i-add-a-button-into-a-jfx-tableview","body":"This answer is not a good answer and should be avoided. A quote from James_D, &quot;TableView, TableColumn, TableCell, etc., should be types of data, not types of UI control. So you should never have, e.g., TableCell&lt;S, Button&gt;. Button is not a data type.&quot;.  <a href=\"https://stackoverflow.com/questions/76248808/how-do-i-add-a-button-into-a-jfx-tableview\" title=\"how do i add a button into a jfx tableview\">stackoverflow.com/questions/76248808/&hellip;</a>"}],"tags":[],"owner":{"account_id":3260364,"reputation":1649,"user_id":2746057,"display_name":"Darrel K."},"comment_count":3,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1684256448,"creation_date":1519984808,"answer_id":49066796,"question_id":29489366,"body_markdown":"Here is my example using awesome Java 8 Functionality and extending TableCell class.\r\n\r\nLet me give a quick explanation of what I am doing:\r\nI created a ActionButtonTableCell class that extends TableCell. And then you can use java 8 lamda functions to create an Action for the button.\r\n\t\r\n\timport java.util.function.Function;\r\n\timport javafx.event.ActionEvent;\r\n\timport javafx.scene.control.Button;\r\n\timport javafx.scene.control.TableCell;\r\n\timport javafx.scene.control.TableColumn;\r\n\timport javafx.util.Callback;\r\n\t\r\n    public class ActionButtonTableCell&lt;S&gt; extends TableCell&lt;S, Button&gt; {\r\n\r\n\t\tprivate final Button actionButton;\r\n\r\n\t\tpublic ActionButtonTableCell(String label, Function&lt; S, S&gt; function) {\r\n\t\t\tthis.getStyleClass().add(&quot;action-button-table-cell&quot;);\r\n\r\n\t\t\tthis.actionButton = new Button(label);\r\n\t\t\tthis.actionButton.setOnAction((ActionEvent e) -&gt; {\r\n\t\t\t\tfunction.apply(getCurrentItem());\r\n\t\t\t});\r\n\t\t\tthis.actionButton.setMaxWidth(Double.MAX_VALUE);\r\n\t\t}\r\n\r\n\t\tpublic S getCurrentItem() {\r\n\t\t\treturn (S) getTableView().getItems().get(getIndex());\r\n\t\t}\r\n\r\n\t\tpublic static &lt;S&gt; Callback&lt;TableColumn&lt;S, Button&gt;, TableCell&lt;S, Button&gt;&gt; forTableColumn(String label, Function&lt; S, S&gt; function) {\r\n\t\t\treturn param -&gt; new ActionButtonTableCell&lt;&gt;(label, function);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void updateItem(Button item, boolean empty) {\r\n\t\t\tsuper.updateItem(item, empty);\r\n\r\n\t\t\tif (empty) {\r\n\t\t\t\tsetGraphic(null);\r\n\t\t\t} else {\t\t\t\t\r\n\t\t\t\tsetGraphic(actionButton);\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\nThe implementation is then as simple as this, This is a sample button to remove the item from the table:\r\n\r\n    column.setCellFactory(ActionButtonTableCell.&lt;Person&gt;forTableColumn(&quot;Remove&quot;, (Person p) -&gt; {\r\n\t\ttable.getItems().remove(p);\r\n\t\treturn p;\r\n\t}));\r\n\r\n**Update based on comments**:\r\nWhile the approach of using a Button within a TableCell goes against recommended design principles, it can still be used in certain situations if the drawbacks mentioned below are not significant concerns for your use case:\r\n\r\n1. Violation of Separation of Concerns: Mixing UI controls with data representation classes can make the code less modular and harder to maintain.\r\n\r\n2. Limited Flexibility: Embedding a Button directly within a TableCell limits the customization options for the button and the cell itself, making it difficult to implement complex interactions or customize styling.\r\n\r\n3. Inefficient Memory Usage: Each TableCell instance with a Button consumes additional memory, which can be problematic for large TableViews with many rows.\r\n\r\n4. UI Control Focus: Placing a Button within a TableCell may shift the focus from the underlying data to the UI control, potentially affecting the user experience.\r\n\r\nConsidering these drawbacks, it is generally recommended to follow the recommended design principles and separate the concerns of data representation and UI controls. However, if these drawbacks are not significant for your specific use case and you prefer the simplicity of the original approach, you can proceed with it.\r\n\t","title":"How to add button in JavaFX table view","body":"<p>Here is my example using awesome Java 8 Functionality and extending TableCell class.</p>\n<p>Let me give a quick explanation of what I am doing:\nI created a ActionButtonTableCell class that extends TableCell. And then you can use java 8 lamda functions to create an Action for the button.</p>\n<pre><code>import java.util.function.Function;\nimport javafx.event.ActionEvent;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableCell;\nimport javafx.scene.control.TableColumn;\nimport javafx.util.Callback;\n\npublic class ActionButtonTableCell&lt;S&gt; extends TableCell&lt;S, Button&gt; {\n\n    private final Button actionButton;\n\n    public ActionButtonTableCell(String label, Function&lt; S, S&gt; function) {\n        this.getStyleClass().add(&quot;action-button-table-cell&quot;);\n\n        this.actionButton = new Button(label);\n        this.actionButton.setOnAction((ActionEvent e) -&gt; {\n            function.apply(getCurrentItem());\n        });\n        this.actionButton.setMaxWidth(Double.MAX_VALUE);\n    }\n\n    public S getCurrentItem() {\n        return (S) getTableView().getItems().get(getIndex());\n    }\n\n    public static &lt;S&gt; Callback&lt;TableColumn&lt;S, Button&gt;, TableCell&lt;S, Button&gt;&gt; forTableColumn(String label, Function&lt; S, S&gt; function) {\n        return param -&gt; new ActionButtonTableCell&lt;&gt;(label, function);\n    }\n\n    @Override\n    public void updateItem(Button item, boolean empty) {\n        super.updateItem(item, empty);\n\n        if (empty) {\n            setGraphic(null);\n        } else {                \n            setGraphic(actionButton);\n        }\n    }\n}\n</code></pre>\n<p>The implementation is then as simple as this, This is a sample button to remove the item from the table:</p>\n<pre><code>column.setCellFactory(ActionButtonTableCell.&lt;Person&gt;forTableColumn(&quot;Remove&quot;, (Person p) -&gt; {\n    table.getItems().remove(p);\n    return p;\n}));\n</code></pre>\n<p><strong>Update based on comments</strong>:\nWhile the approach of using a Button within a TableCell goes against recommended design principles, it can still be used in certain situations if the drawbacks mentioned below are not significant concerns for your use case:</p>\n<ol>\n<li><p>Violation of Separation of Concerns: Mixing UI controls with data representation classes can make the code less modular and harder to maintain.</p>\n</li>\n<li><p>Limited Flexibility: Embedding a Button directly within a TableCell limits the customization options for the button and the cell itself, making it difficult to implement complex interactions or customize styling.</p>\n</li>\n<li><p>Inefficient Memory Usage: Each TableCell instance with a Button consumes additional memory, which can be problematic for large TableViews with many rows.</p>\n</li>\n<li><p>UI Control Focus: Placing a Button within a TableCell may shift the focus from the underlying data to the UI control, potentially affecting the user experience.</p>\n</li>\n</ol>\n<p>Considering these drawbacks, it is generally recommended to follow the recommended design principles and separate the concerns of data representation and UI controls. However, if these drawbacks are not significant for your specific use case and you prefer the simplicity of the original approach, you can proceed with it.</p>\n"}],"owner":{"account_id":1897772,"reputation":4354,"user_id":1714329,"accept_rate":83,"display_name":"botenvouwer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51527,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":29490190,"answer_count":2,"score":35,"last_activity_date":1684256448,"creation_date":1428402423,"question_id":29489366,"body_markdown":"I have searched at Google and Stackoverflow for this and I just don&#39;t get the given examples. Can someone please explain it to me. \r\n\r\nI want to add a button to the last column of a table view and when it gets clicked it should trigger a listener and pass the object of the buttons row. I just do not get the following example from *[gist.github.com][1]*:\r\n\r\nThis is my full current code:\r\n\r\n    public class SchermdeelWerkplaats extends BorderPane{\r\n        \r\n        //ATD moeder klasse met alle collecties etc.\r\n        private ATD $;\r\n        \r\n        TableView tabel = new TableView();\r\n        Button nieuwTaak = new Button(&quot;Nieuwe taak inboeken&quot;);\r\n        final ObservableList&lt;Task&gt; data = FXCollections.observableArrayList();\r\n        \r\n        public SchermdeelWerkplaats(ATD a) {\r\n            \r\n            $ = a;\r\n            \r\n            data.addAll($.agenda);\r\n            \r\n            tabel.setEditable(false);\r\n            tabel.setPlaceholder(new Label(&quot;Geen taken&quot;));\r\n            \r\n            TableColumn c1 = new TableColumn(&quot;datum&quot;);\r\n            c1.setMinWidth(200);\r\n            TableColumn c2 = new TableColumn(&quot;type&quot;);\r\n            c2.setMinWidth(100);\r\n            TableColumn c3 = new TableColumn(&quot;uren&quot;);\r\n            c3.setMinWidth(100);\r\n            TableColumn c4 = new TableColumn(&quot;klaar&quot;);\r\n            c4.setMinWidth(200);\r\n            TableColumn c5 = new TableColumn(&quot;Werknemer&quot;);\r\n            c5.setMinWidth(100);\r\n            TableColumn c6= new TableColumn(&quot;Auto&quot;);\r\n            c6.setMinWidth(400);\r\n            TableColumn c7= new TableColumn(&quot;Actie&quot;);\r\n            c7.setMinWidth(400);\r\n            \r\n            TableColumn col_action = new TableColumn&lt;&gt;(&quot;Action&quot;);\r\n            \r\n            col_action.setCellValueFactory(\r\n                    new Callback&lt;TableColumn.CellDataFeatures&lt;Task, Boolean&gt;, \r\n                    ObservableValue&lt;Boolean&gt;&gt;() {\r\n     \r\n                @Override\r\n                public ObservableValue&lt;Boolean&gt; call(TableColumn.CellDataFeatures&lt;Task, Boolean&gt; p) {\r\n                    return new SimpleBooleanProperty(p.getValue() != null);\r\n                }\r\n            });\r\n            \r\n            col_action.setCellFactory(\r\n                new Callback&lt;TableColumn&lt;Task, Task&gt;, TableCell&lt;Task, Task&gt;&gt;() {\r\n    \r\n                    @Override\r\n                    public TableCell&lt;Task, Task&gt; call(TableColumn&lt;Task, Task&gt; p) {\r\n                        return new ButtonCell();\r\n                    }\r\n                }\r\n            );\r\n            \r\n            c1.setCellValueFactory(\r\n                new PropertyValueFactory&lt;Task,Date&gt;(&quot;date&quot;)\r\n            );\r\n            c2.setCellValueFactory(\r\n                new PropertyValueFactory&lt;Task,Task.TaskType&gt;(&quot;type&quot;)\r\n            );\r\n            c3.setCellValueFactory(\r\n                new PropertyValueFactory&lt;Task,Double&gt;(&quot;hours&quot;)\r\n            );\r\n            c4.setCellValueFactory(\r\n                new PropertyValueFactory&lt;Task,Boolean&gt;(&quot;done&quot;)\r\n            );\r\n            c5.setCellValueFactory(\r\n                new PropertyValueFactory&lt;Task,Employee&gt;(&quot;employee&quot;)\r\n            );\r\n            c6.setCellValueFactory(\r\n                new PropertyValueFactory&lt;Task,Car&gt;(&quot;car&quot;)\r\n            );\r\n            \r\n            tabel.getColumns().addAll(c1, c2, c3, c4, c5, c6, c7);\r\n            tabel.setItems(data);\r\n            \r\n            setCenter(tabel);\r\n            setBottom(nieuwTaak);\r\n            \r\n        }\r\n        \r\n        //letterlijk van internet geplukt en datatype aangepast\r\n        private class ButtonCell extends TableCell&lt;Task, Task&gt; {\r\n    \r\n    \r\n            private Button cellButton;\r\n    \r\n            ButtonCell(){\r\n                  cellButton = new Button(&quot;jjhjhjh&quot;);\r\n                cellButton.setOnAction(new EventHandler&lt;ActionEvent&gt;(){\r\n    \r\n                    @Override\r\n                    public void handle(ActionEvent t) {\r\n                        // do something when button clicked\r\n                        Task record = getItem();\r\n                        // do something with record....\r\n                    }\r\n                });\r\n            }\r\n    \r\n            //Display button if the row is not empty\r\n            @Override\r\n            protected void updateItem(Task record, boolean empty) {\r\n                super.updateItem(record, empty);\r\n                if(!empty){\r\n                    cellButton.setText(&quot;Something with &quot;+record);\r\n                    setGraphic(cellButton);\r\n                } else {\r\n                    setGraphic(null);\r\n                }\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\nNow the part where I have to create a `ButtonCell extends TableCell` is understandable. But how to assign this to the column?\r\n\r\nI understand this:\r\n    \r\n\r\n    c1.setCellValueFactory(\r\n            new PropertyValueFactory&lt;Task,Date&gt;(&quot;date&quot;)\r\n        );\r\n\r\nBut not this:\r\n\r\n               TableColumn col_action = new TableColumn&lt;&gt;(&quot;Action&quot;);\r\n                \r\n                col_action.setCellValueFactory(\r\n                        new Callback&lt;TableColumn.CellDataFeatures&lt;Task, Boolean&gt;, \r\n                        ObservableValue&lt;Boolean&gt;&gt;() {\r\n         \r\n                    @Override\r\n                    public ObservableValue&lt;Boolean&gt; call(TableColumn.CellDataFeatures&lt;Task, Boolean&gt; p) {\r\n                        return new SimpleBooleanProperty(p.getValue() != null);\r\n                    }\r\n                });\r\n                \r\n                col_action.setCellFactory(\r\n                    new Callback&lt;TableColumn&lt;Task, Task&gt;, TableCell&lt;Task, Task&gt;&gt;() {\r\n        \r\n                        @Override\r\n                        public TableCell&lt;Task, Task&gt; call(TableColumn&lt;Task, Task&gt; p) {\r\n                            return new ButtonCell();\r\n                        }\r\n                    }\r\n                );\r\n\r\n  [1]: https://gist.github.com/jewelsea/3081826","title":"How to add button in JavaFX table view","body":"<p>I have searched at Google and Stackoverflow for this and I just don't get the given examples. Can someone please explain it to me. </p>\n\n<p>I want to add a button to the last column of a table view and when it gets clicked it should trigger a listener and pass the object of the buttons row. I just do not get the following example from <em><a href=\"https://gist.github.com/jewelsea/3081826\">gist.github.com</a></em>:</p>\n\n<p>This is my full current code:</p>\n\n<pre><code>public class SchermdeelWerkplaats extends BorderPane{\n\n    //ATD moeder klasse met alle collecties etc.\n    private ATD $;\n\n    TableView tabel = new TableView();\n    Button nieuwTaak = new Button(\"Nieuwe taak inboeken\");\n    final ObservableList&lt;Task&gt; data = FXCollections.observableArrayList();\n\n    public SchermdeelWerkplaats(ATD a) {\n\n        $ = a;\n\n        data.addAll($.agenda);\n\n        tabel.setEditable(false);\n        tabel.setPlaceholder(new Label(\"Geen taken\"));\n\n        TableColumn c1 = new TableColumn(\"datum\");\n        c1.setMinWidth(200);\n        TableColumn c2 = new TableColumn(\"type\");\n        c2.setMinWidth(100);\n        TableColumn c3 = new TableColumn(\"uren\");\n        c3.setMinWidth(100);\n        TableColumn c4 = new TableColumn(\"klaar\");\n        c4.setMinWidth(200);\n        TableColumn c5 = new TableColumn(\"Werknemer\");\n        c5.setMinWidth(100);\n        TableColumn c6= new TableColumn(\"Auto\");\n        c6.setMinWidth(400);\n        TableColumn c7= new TableColumn(\"Actie\");\n        c7.setMinWidth(400);\n\n        TableColumn col_action = new TableColumn&lt;&gt;(\"Action\");\n\n        col_action.setCellValueFactory(\n                new Callback&lt;TableColumn.CellDataFeatures&lt;Task, Boolean&gt;, \n                ObservableValue&lt;Boolean&gt;&gt;() {\n\n            @Override\n            public ObservableValue&lt;Boolean&gt; call(TableColumn.CellDataFeatures&lt;Task, Boolean&gt; p) {\n                return new SimpleBooleanProperty(p.getValue() != null);\n            }\n        });\n\n        col_action.setCellFactory(\n            new Callback&lt;TableColumn&lt;Task, Task&gt;, TableCell&lt;Task, Task&gt;&gt;() {\n\n                @Override\n                public TableCell&lt;Task, Task&gt; call(TableColumn&lt;Task, Task&gt; p) {\n                    return new ButtonCell();\n                }\n            }\n        );\n\n        c1.setCellValueFactory(\n            new PropertyValueFactory&lt;Task,Date&gt;(\"date\")\n        );\n        c2.setCellValueFactory(\n            new PropertyValueFactory&lt;Task,Task.TaskType&gt;(\"type\")\n        );\n        c3.setCellValueFactory(\n            new PropertyValueFactory&lt;Task,Double&gt;(\"hours\")\n        );\n        c4.setCellValueFactory(\n            new PropertyValueFactory&lt;Task,Boolean&gt;(\"done\")\n        );\n        c5.setCellValueFactory(\n            new PropertyValueFactory&lt;Task,Employee&gt;(\"employee\")\n        );\n        c6.setCellValueFactory(\n            new PropertyValueFactory&lt;Task,Car&gt;(\"car\")\n        );\n\n        tabel.getColumns().addAll(c1, c2, c3, c4, c5, c6, c7);\n        tabel.setItems(data);\n\n        setCenter(tabel);\n        setBottom(nieuwTaak);\n\n    }\n\n    //letterlijk van internet geplukt en datatype aangepast\n    private class ButtonCell extends TableCell&lt;Task, Task&gt; {\n\n\n        private Button cellButton;\n\n        ButtonCell(){\n              cellButton = new Button(\"jjhjhjh\");\n            cellButton.setOnAction(new EventHandler&lt;ActionEvent&gt;(){\n\n                @Override\n                public void handle(ActionEvent t) {\n                    // do something when button clicked\n                    Task record = getItem();\n                    // do something with record....\n                }\n            });\n        }\n\n        //Display button if the row is not empty\n        @Override\n        protected void updateItem(Task record, boolean empty) {\n            super.updateItem(record, empty);\n            if(!empty){\n                cellButton.setText(\"Something with \"+record);\n                setGraphic(cellButton);\n            } else {\n                setGraphic(null);\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>Now the part where I have to create a <code>ButtonCell extends TableCell</code> is understandable. But how to assign this to the column?</p>\n\n<p>I understand this:</p>\n\n<pre><code>c1.setCellValueFactory(\n        new PropertyValueFactory&lt;Task,Date&gt;(\"date\")\n    );\n</code></pre>\n\n<p>But not this:</p>\n\n<pre><code>           TableColumn col_action = new TableColumn&lt;&gt;(\"Action\");\n\n            col_action.setCellValueFactory(\n                    new Callback&lt;TableColumn.CellDataFeatures&lt;Task, Boolean&gt;, \n                    ObservableValue&lt;Boolean&gt;&gt;() {\n\n                @Override\n                public ObservableValue&lt;Boolean&gt; call(TableColumn.CellDataFeatures&lt;Task, Boolean&gt; p) {\n                    return new SimpleBooleanProperty(p.getValue() != null);\n                }\n            });\n\n            col_action.setCellFactory(\n                new Callback&lt;TableColumn&lt;Task, Task&gt;, TableCell&lt;Task, Task&gt;&gt;() {\n\n                    @Override\n                    public TableCell&lt;Task, Task&gt; call(TableColumn&lt;Task, Task&gt; p) {\n                        return new ButtonCell();\n                    }\n                }\n            );\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1684085756,"post_id":76248808,"comment_id":134461719,"body_markdown":"Looks like you are confusing `cellFactory` and `cellValueFactory`. Also, don’t use raw types.","body":"Looks like you are confusing <code>cellFactory</code> and <code>cellValueFactory</code>. Also, don’t use raw types."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1684099215,"post_id":76248808,"comment_id":134463390,"body_markdown":"This is something that’s usually necessary in web UIs, but in a desktop UI, a much better design is to have *one* delete button which is not in the table at all.  When the user presses that button, the selected rows in the table are deleted.  You can even enable the button based on the selection: `deleteButton.disableProperty().bind(table.getSelectionModel().selectedItemProperty().isNull())`","body":"This is something that’s usually necessary in web UIs, but in a desktop UI, a much better design is to have <i>one</i> delete button which is not in the table at all.  When the user presses that button, the selected rows in the table are deleted.  You can even enable the button based on the selection: <code>deleteButton.disableProperty().bind(table.getSelectionModel(&zwnj;&#8203;).selectedItemProper&zwnj;&#8203;ty().isNull())</code>"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1684164344,"creation_date":1684086701,"answer_id":76248931,"question_id":76248808,"body_markdown":"There are a number of issues with your code. The primary problem is that you seem to be confusing the `cellFactory` (which is used to generate cells to display in the table column) with the `cellValueFactory` (which is used to provide the value that is displayed by the cells). In this case, the cell doesn&#39;t really need a value (it only relies on the value for the entire row), so you don&#39;t need a `cellValueFactory` (though you could use one to return the value for the row). \r\n\r\nYou should also never use raw types (such as `TableView` and `TableColumn`) without type parameters.\r\n\r\nSince your action implementations never use the value they return, it seems to make more sense to use a `Consumer&lt;S&gt;` to represent them, instead of a `Function&lt;S,S&gt;` which seems to arbitrarily return the value passed as a parameter.\r\n\r\nAnd finally, the types for `TableView`, `TableColumn`, `TableCell`, etc., should be types of *data*, not types of UI control. So you should never have, e.g., `TableCell&lt;S, Button&gt;`. `Button` is not a data type.\r\n\r\nYour table cell implementation can look like\r\n\r\n    public class ActionButtonTableCell&lt;S, T&gt; extends TableCell&lt;S, T&gt; {\r\n        private final Button actionButton;\r\n    \r\n        public ActionButtonTableCell(String label, Consumer&lt;S&gt; function) {\r\n            this.getStyleClass().add(&quot;action-button-table-cell&quot;);\r\n            this.actionButton = new Button(label);\r\n            this.actionButton.setOnAction(e -&gt; function.accept(getCurrentItem());\r\n            this.actionButton.setMaxWidth(Double.MAX_VALUE);\r\n        }\r\n        public S getCurrentItem() {\r\n            // No need for a cast here:\r\n            return getTableView().getItems().get(getIndex());\r\n        }\r\n    \r\n        public static &lt;S, T&gt; Callback&lt;TableColumn&lt;S, T&gt;, TableCell&lt;S, T&gt;&gt; forTableColumn(String label, Consumer&lt;S&gt; function) {\r\n            return param -&gt; new ActionButtonTableCell&lt;&gt;(label, function);\r\n        }\r\n        @Override\r\n        public void updateItem(T item, boolean empty) {\r\n            super.updateItem(item, empty);\r\n            if (empty) {\r\n                setGraphic(null);\r\n            } else {\r\n                setGraphic(actionButton);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd now your application code should be something like\r\n\r\n        TableView&lt;Customer&gt; tableView = new TableView&lt;&gt;();\r\n        // ...\r\n        TableColumn&lt;Customer, Void&gt; viewCol = new TableColumn&lt;&gt;(&quot;&quot;);\r\n        TableColumn deleteCol&lt;Customer, Void&gt; = new TableColumn&lt;&gt;(&quot;&quot;);\r\n\r\n        // ...\r\n\r\n        // note setCellFactory, not setCellValueFactory:\r\n        viewCol.setCellFactory(ActionButtonTableCell.&lt;Customer, Void&gt;forTableColumn(&quot;View/Edit&quot;, c -&gt; \r\n            new CustomerEditView(stage, user, c.getCustomerId())));\r\n        deleteCol.setCellFactory(ActionButtonTableCell.&lt;Customer, Void&gt;forTableColumn(&quot;Delete&quot;, c -&gt; {\r\n            Alert confirm = new Alert(Alert.AlertType.CONFIRMATION, &quot;Are you sure you want to delete this customer?&quot;);\r\n            confirm.show();\r\n            JDBC.deleteCustomer(c.getCustomerId());\r\n            new CustomerList(stage, user);\r\n        }));\r\n\r\n---\r\n\r\nGenerally, you might consider other user experience options here. As mentioned in a comment on the original post, a better approach might be to have a single edit button and a single delete button outside of the table which just operates on the selected item.\r\n\r\nI would definitely suggest not having a column for every action if you have multiple actions to perform. Just for the sake of demonstrating the other approach I alluded to above (the cell value factory returning the value for the row), here is an example of an action-based table column which uses that approach and supports multiple actions (buttons) in the same column. This is written in more of a fluid-API style:\r\n\r\n    import javafx.beans.property.SimpleObjectProperty;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.TableCell;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.layout.HBox;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.function.Consumer;\r\n    \r\n    public class ActionColumn&lt;S&gt; {\r\n    \r\n        private final List&lt;Action&lt;S&gt;&gt; actions = new ArrayList&lt;&gt;();\r\n        private String title ;\r\n    \r\n        private ActionColumn() {}\r\n    \r\n        public static &lt;S&gt; ActionColumn&lt;S&gt; forType(Class&lt;S&gt; type) {\r\n            return new ActionColumn&lt;&gt;();\r\n        }\r\n    \r\n        public ActionColumn&lt;S&gt; withTitle(String title) {\r\n            this.title = title ;\r\n            return this;\r\n        }\r\n    \r\n        public ActionColumn&lt;S&gt; withAction(String name, Consumer&lt;S&gt; action) {\r\n            actions.add(new Action&lt;&gt;(name, action));\r\n            return this;\r\n        }\r\n    \r\n    \r\n        public TableColumn&lt;S, ?&gt; build() {\r\n            TableColumn&lt;S, S&gt; column = new TableColumn&lt;&gt;(title);\r\n            column.setCellValueFactory(data -&gt; new SimpleObjectProperty&lt;&gt;(data.getValue()));\r\n            column.setCellFactory(tc -&gt; new ActionColumnCell&lt;&gt;(actions));\r\n            return column;\r\n        }\r\n    \r\n        private record Action&lt;S&gt;(String name, Consumer&lt;S&gt; action) {}\r\n    \r\n        private static class ActionColumnCell&lt;S&gt; extends TableCell&lt;S, S&gt; {\r\n            private final HBox buttons ;\r\n            private ActionColumnCell(List&lt;Action&lt;S&gt;&gt; actions) {\r\n                buttons = new HBox(2);\r\n                actions.stream()\r\n                        .map(this::createButton)\r\n                        .forEach(buttons.getChildren()::add);\r\n            }\r\n    \r\n            private Button createButton(Action&lt;S&gt; action) {\r\n                Button button = new Button(action.name());\r\n                button.setOnAction(e -&gt; action.action().accept(getItem()));\r\n                return button;\r\n            }\r\n    \r\n            @Override\r\n            protected void updateItem(S item, boolean empty) {\r\n                super.updateItem(item, empty);\r\n                setGraphic(empty ? null : buttons);\r\n            }\r\n        }\r\n    }\r\n\r\nUsage is something like:\r\n\r\n    TableColumn&lt;Item, ?&gt; actionColumn = ActionColumn.forType(Item.class)\r\n        .withTitle(&quot;Action&quot;)\r\n        .withAction(&quot;Edit&quot;, this::editItem)\r\n        .withAction(&quot;Delete&quot;, table.getItems()::remove)\r\n        .build();\r\n\r\nHere is a complete working example:\r\n\r\n    import javafx.application.Application;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.beans.property.StringProperty;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n            ObservableList&lt;Item&gt; items = FXCollections.observableArrayList();\r\n            for (int i = 1 ; i &lt;= 20 ; i++) items.add(new Item(&quot;Item &quot;+i));\r\n            TableView&lt;Item&gt; table = new TableView&lt;&gt;(items);\r\n    \r\n            TableColumn&lt;Item, String&gt; itemColumn = new TableColumn&lt;&gt;(&quot;Item&quot;);\r\n            itemColumn.setCellValueFactory(data -&gt; data.getValue().nameProperty());\r\n            table.getColumns().add(itemColumn);\r\n    \r\n    \r\n            table.getColumns().add(\r\n                    ActionColumn.forType(Item.class).withTitle(&quot;Action&quot;)\r\n                            .withAction(&quot;Edit&quot;, this::editItem)\r\n                            .withAction(&quot;Delete&quot;, items::remove)\r\n                            .build()\r\n            );\r\n    \r\n            BorderPane root = new BorderPane(table);\r\n            Scene scene = new Scene(root);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        private void editItem(Item item) {\r\n            new TextInputDialog(item.getName()).showAndWait()\r\n                .ifPresent(item::setName);\r\n        }\r\n    \r\n        public static class Item {\r\n            private final StringProperty name = new SimpleStringProperty();\r\n    \r\n            public String getName() {\r\n                return name.get();\r\n            }\r\n    \r\n            public StringProperty nameProperty() {\r\n                return name;\r\n            }\r\n    \r\n            public void setName(String name) {\r\n                this.name.set(name);\r\n            }\r\n    \r\n            public Item(String name) {\r\n                setName(name);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }","title":"How do I add a button into a JFX TableView?","body":"<p>There are a number of issues with your code. The primary problem is that you seem to be confusing the <code>cellFactory</code> (which is used to generate cells to display in the table column) with the <code>cellValueFactory</code> (which is used to provide the value that is displayed by the cells). In this case, the cell doesn't really need a value (it only relies on the value for the entire row), so you don't need a <code>cellValueFactory</code> (though you could use one to return the value for the row).</p>\n<p>You should also never use raw types (such as <code>TableView</code> and <code>TableColumn</code>) without type parameters.</p>\n<p>Since your action implementations never use the value they return, it seems to make more sense to use a <code>Consumer&lt;S&gt;</code> to represent them, instead of a <code>Function&lt;S,S&gt;</code> which seems to arbitrarily return the value passed as a parameter.</p>\n<p>And finally, the types for <code>TableView</code>, <code>TableColumn</code>, <code>TableCell</code>, etc., should be types of <em>data</em>, not types of UI control. So you should never have, e.g., <code>TableCell&lt;S, Button&gt;</code>. <code>Button</code> is not a data type.</p>\n<p>Your table cell implementation can look like</p>\n<pre><code>public class ActionButtonTableCell&lt;S, T&gt; extends TableCell&lt;S, T&gt; {\n    private final Button actionButton;\n\n    public ActionButtonTableCell(String label, Consumer&lt;S&gt; function) {\n        this.getStyleClass().add(&quot;action-button-table-cell&quot;);\n        this.actionButton = new Button(label);\n        this.actionButton.setOnAction(e -&gt; function.accept(getCurrentItem());\n        this.actionButton.setMaxWidth(Double.MAX_VALUE);\n    }\n    public S getCurrentItem() {\n        // No need for a cast here:\n        return getTableView().getItems().get(getIndex());\n    }\n\n    public static &lt;S, T&gt; Callback&lt;TableColumn&lt;S, T&gt;, TableCell&lt;S, T&gt;&gt; forTableColumn(String label, Consumer&lt;S&gt; function) {\n        return param -&gt; new ActionButtonTableCell&lt;&gt;(label, function);\n    }\n    @Override\n    public void updateItem(T item, boolean empty) {\n        super.updateItem(item, empty);\n        if (empty) {\n            setGraphic(null);\n        } else {\n            setGraphic(actionButton);\n        }\n    }\n}\n</code></pre>\n<p>And now your application code should be something like</p>\n<pre><code>    TableView&lt;Customer&gt; tableView = new TableView&lt;&gt;();\n    // ...\n    TableColumn&lt;Customer, Void&gt; viewCol = new TableColumn&lt;&gt;(&quot;&quot;);\n    TableColumn deleteCol&lt;Customer, Void&gt; = new TableColumn&lt;&gt;(&quot;&quot;);\n\n    // ...\n\n    // note setCellFactory, not setCellValueFactory:\n    viewCol.setCellFactory(ActionButtonTableCell.&lt;Customer, Void&gt;forTableColumn(&quot;View/Edit&quot;, c -&gt; \n        new CustomerEditView(stage, user, c.getCustomerId())));\n    deleteCol.setCellFactory(ActionButtonTableCell.&lt;Customer, Void&gt;forTableColumn(&quot;Delete&quot;, c -&gt; {\n        Alert confirm = new Alert(Alert.AlertType.CONFIRMATION, &quot;Are you sure you want to delete this customer?&quot;);\n        confirm.show();\n        JDBC.deleteCustomer(c.getCustomerId());\n        new CustomerList(stage, user);\n    }));\n</code></pre>\n<hr />\n<p>Generally, you might consider other user experience options here. As mentioned in a comment on the original post, a better approach might be to have a single edit button and a single delete button outside of the table which just operates on the selected item.</p>\n<p>I would definitely suggest not having a column for every action if you have multiple actions to perform. Just for the sake of demonstrating the other approach I alluded to above (the cell value factory returning the value for the row), here is an example of an action-based table column which uses that approach and supports multiple actions (buttons) in the same column. This is written in more of a fluid-API style:</p>\n<pre><code>import javafx.beans.property.SimpleObjectProperty;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableCell;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.layout.HBox;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.function.Consumer;\n\npublic class ActionColumn&lt;S&gt; {\n\n    private final List&lt;Action&lt;S&gt;&gt; actions = new ArrayList&lt;&gt;();\n    private String title ;\n\n    private ActionColumn() {}\n\n    public static &lt;S&gt; ActionColumn&lt;S&gt; forType(Class&lt;S&gt; type) {\n        return new ActionColumn&lt;&gt;();\n    }\n\n    public ActionColumn&lt;S&gt; withTitle(String title) {\n        this.title = title ;\n        return this;\n    }\n\n    public ActionColumn&lt;S&gt; withAction(String name, Consumer&lt;S&gt; action) {\n        actions.add(new Action&lt;&gt;(name, action));\n        return this;\n    }\n\n\n    public TableColumn&lt;S, ?&gt; build() {\n        TableColumn&lt;S, S&gt; column = new TableColumn&lt;&gt;(title);\n        column.setCellValueFactory(data -&gt; new SimpleObjectProperty&lt;&gt;(data.getValue()));\n        column.setCellFactory(tc -&gt; new ActionColumnCell&lt;&gt;(actions));\n        return column;\n    }\n\n    private record Action&lt;S&gt;(String name, Consumer&lt;S&gt; action) {}\n\n    private static class ActionColumnCell&lt;S&gt; extends TableCell&lt;S, S&gt; {\n        private final HBox buttons ;\n        private ActionColumnCell(List&lt;Action&lt;S&gt;&gt; actions) {\n            buttons = new HBox(2);\n            actions.stream()\n                    .map(this::createButton)\n                    .forEach(buttons.getChildren()::add);\n        }\n\n        private Button createButton(Action&lt;S&gt; action) {\n            Button button = new Button(action.name());\n            button.setOnAction(e -&gt; action.action().accept(getItem()));\n            return button;\n        }\n\n        @Override\n        protected void updateItem(S item, boolean empty) {\n            super.updateItem(item, empty);\n            setGraphic(empty ? null : buttons);\n        }\n    }\n}\n</code></pre>\n<p>Usage is something like:</p>\n<pre><code>TableColumn&lt;Item, ?&gt; actionColumn = ActionColumn.forType(Item.class)\n    .withTitle(&quot;Action&quot;)\n    .withAction(&quot;Edit&quot;, this::editItem)\n    .withAction(&quot;Delete&quot;, table.getItems()::remove)\n    .build();\n</code></pre>\n<p>Here is a complete working example:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) {\n        ObservableList&lt;Item&gt; items = FXCollections.observableArrayList();\n        for (int i = 1 ; i &lt;= 20 ; i++) items.add(new Item(&quot;Item &quot;+i));\n        TableView&lt;Item&gt; table = new TableView&lt;&gt;(items);\n\n        TableColumn&lt;Item, String&gt; itemColumn = new TableColumn&lt;&gt;(&quot;Item&quot;);\n        itemColumn.setCellValueFactory(data -&gt; data.getValue().nameProperty());\n        table.getColumns().add(itemColumn);\n\n\n        table.getColumns().add(\n                ActionColumn.forType(Item.class).withTitle(&quot;Action&quot;)\n                        .withAction(&quot;Edit&quot;, this::editItem)\n                        .withAction(&quot;Delete&quot;, items::remove)\n                        .build()\n        );\n\n        BorderPane root = new BorderPane(table);\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private void editItem(Item item) {\n        new TextInputDialog(item.getName()).showAndWait()\n            .ifPresent(item::setName);\n    }\n\n    public static class Item {\n        private final StringProperty name = new SimpleStringProperty();\n\n        public String getName() {\n            return name.get();\n        }\n\n        public StringProperty nameProperty() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name.set(name);\n        }\n\n        public Item(String name) {\n            setName(name);\n        }\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28540418,"reputation":3,"user_id":21846562,"display_name":"Gray"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76248931,"answer_count":1,"score":0,"last_activity_date":1684256367,"creation_date":1684085036,"question_id":76248808,"body_markdown":"I am trying to add a button into a GUI app in JFX for dealing with a database of customers and appointments. I want to put two buttons in each row of the table that will open other views when clocked.\r\n\r\n\r\n\r\nBelow is what I currently have (which does not work). The compiler doesn&#39;t complain about this code but I get the following `ClassCastException` at runtime (which did not seem to be an issue in the place I saw `ActionButtonTableCell` originally used for a case analogous to this one; https://stackoverflow.com/questions/29489366/how-to-add-button-in-javafx-table-view). \r\n\r\nHere is the stack trace:\r\n\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.ClassCastException: class javafx.scene.control.TableColumn$CellDataFeatures cannot be cast to class javafx.scene.control.TableColumn (javafx.scene.control.TableColumn$CellDataFeatures and javafx.scene.control.TableColumn are in module javafx.controls of loader &#39;app&#39;)\r\n    \tat javafx.controls/javafx.scene.control.TableColumn.getCellObservableValue(TableColumn.java:593)\r\n    \tat javafx.controls/javafx.scene.control.TableColumn.getCellObservableValue(TableColumn.java:578)\r\n    \tat javafx.controls/javafx.scene.control.TableCell.updateItem(TableCell.java:646)\r\n    \tat javafx.controls/javafx.scene.control.TableCell.indexChanged(TableCell.java:469)\r\n    \tat javafx.controls/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:120)\r\n    \tat javafx.controls/javafx.scene.control.skin.TableSkinUtils.resizeColumnToFitContent(TableSkinUtils.java:119)\r\n    \tat javafx.controls/javafx.scene.control.skin.TableSkinUtils.resizeColumnToFitContent(TableSkinUtils.java:86)\r\n    \tat javafx.controls/javafx.scene.control.skin.TableColumnHeader.doColumnAutoSize(TableColumnHeader.java:573)\r\n    \tat javafx.controls/javafx.scene.control.skin.TableColumnHeader.updateScene(TableColumnHeader.java:516)\r\n    \tat javafx.controls/javafx.scene.control.skin.TableColumnHeader.lambda$new$0(TableColumnHeader.java:159)\r\n    \tat javafx.controls/com.sun.javafx.scene.control.LambdaMultiplePropertyChangeListenerHandler.lambda$new$1(LambdaMultiplePropertyChangeListenerHandler.java:49)\r\n    \tat javafx.base/javafx.beans.value.WeakChangeListener.changed(WeakChangeListener.java:86)\r\n    \tat javafx.base/com.sun.javafx.binding.ExpressionHelper$SingleChange.fireValueChangedEvent(ExpressionHelper.java:181)\r\n    \tat javafx.base/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:80)\r\n    \tat javafx.base/javafx.beans.property.ReadOnlyObjectPropertyBase.fireValueChangedEvent(ReadOnlyObjectPropertyBase.java:74)\r\n    \tat javafx.base/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:102)\r\n    \tat javafx.graphics/javafx.scene.Node$ReadOnlyObjectWrapperManualFire.fireSuperValueChangedEvent(Node.java:1054)\r\n    \tat javafx.graphics/javafx.scene.Node.invalidatedScenes(Node.java:1114)\r\n    \tat javafx.graphics/javafx.scene.Node.setScenes(Node.java:1152)\r\n    \tat javafx.graphics/javafx.scene.Parent$2.onChanged(Parent.java:369)\r\n    \tat javafx.base/com.sun.javafx.collections.TrackableObservableList.lambda$new$0(TrackableObservableList.java:45)\r\n    \tat javafx.base/com.sun.javafx.collections.ListListenerHelper$Generic.fireValueChangedEvent(ListListenerHelper.java:329)\r\n    \tat javafx.base/com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)\r\n    \tat javafx.base/javafx.collections.ObservableListBase.fireChange(ObservableListBase.java:233)\r\n    \tat javafx.base/javafx.collections.ListChangeBuilder.commit(ListChangeBuilder.java:482)\r\n    \tat javafx.base/javafx.collections.ListChangeBuilder.endChange(ListChangeBuilder.java:541)\r\n    \tat javafx.base/javafx.collections.ObservableListBase.endChange(ObservableListBase.java:205)\r\n    \tat javafx.base/javafx.collections.ModifiableObservableListBase.setAll(ModifiableObservableListBase.java:90)\r\n    \tat javafx.base/com.sun.javafx.collections.VetoableListDecorator.setAll(VetoableListDecorator.java:116)\r\n    \tat javafx.controls/javafx.scene.control.skin.NestedTableColumnHeader.updateContent(NestedTableColumnHeader.java:578)\r\n    \tat javafx.controls/javafx.scene.control.skin.NestedTableColumnHeader.updateTableColumnHeaders(NestedTableColumnHeader.java:504)\r\n    \tat javafx.controls/javafx.scene.control.skin.NestedTableColumnHeader.checkState(NestedTableColumnHeader.java:638)\r\n    \tat javafx.controls/javafx.scene.control.skin.NestedTableColumnHeader.computePrefHeight(NestedTableColumnHeader.java:345)\r\n    \tat javafx.graphics/javafx.scene.Parent.prefHeight(Parent.java:1031)\r\n    \tat javafx.graphics/javafx.scene.layout.Region.prefHeight(Region.java:1559)\r\n    \tat javafx.controls/javafx.scene.control.skin.TableHeaderRow.computePrefHeight(TableHeaderRow.java:376)\r\n    \tat javafx.controls/javafx.scene.control.skin.TableHeaderRow.computeMinHeight(TableHeaderRow.java:369)\r\n    \tat javafx.graphics/javafx.scene.Parent.minHeight(Parent.java:1059)\r\n    \tat javafx.graphics/javafx.scene.layout.Region.minHeight(Region.java:1525)\r\n    \tat javafx.controls/javafx.scene.control.SkinBase.computeMinHeight(SkinBase.java:311)\r\n    \tat javafx.controls/javafx.scene.control.Control.computeMinHeight(Control.java:512)\r\n    \tat javafx.graphics/javafx.scene.Parent.minHeight(Parent.java:1059)\r\n    \tat javafx.graphics/javafx.scene.layout.Region.minHeight(Region.java:1525)\r\n    \tat javafx.graphics/javafx.scene.layout.Region.computeChildPrefAreaHeight(Region.java:1980)\r\n    \tat javafx.graphics/javafx.scene.layout.GridPane.computePrefHeights(GridPane.java:1436)\r\n    \tat javafx.graphics/javafx.scene.layout.GridPane.computePrefHeight(GridPane.java:1265)\r\n    \tat javafx.graphics/javafx.scene.Parent.prefHeight(Parent.java:1031)\r\n    \tat javafx.graphics/javafx.scene.layout.Region.prefHeight(Region.java:1559)\r\n    \tat javafx.graphics/javafx.scene.Scene.getPreferredHeight(Scene.java:1811)\r\n    \tat javafx.graphics/javafx.scene.Scene.resizeRootToPreferredSize(Scene.java:1776)\r\n    \tat javafx.graphics/javafx.scene.Scene.preferredSize(Scene.java:1747)\r\n    \tat javafx.graphics/javafx.scene.Scene$2.preferredSize(Scene.java:393)\r\n    \tat javafx.graphics/com.sun.javafx.scene.SceneHelper.preferredSize(SceneHelper.java:66)\r\n    \tat javafx.graphics/javafx.stage.Window$SceneModel.invalidated(Window.java:814)\r\n    \tat javafx.base/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:112)\r\n    \tat javafx.base/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)\r\n    \tat javafx.graphics/javafx.stage.Window.setScene(Window.java:770)\r\n    \tat javafx.graphics/javafx.stage.Stage.setScene(Stage.java:266)\r\n    \tat app.jfx.CustomerList.&lt;init&gt;(CustomerList.java:79)\r\n    \tat app.jfx.CustomerList.&lt;init&gt;(CustomerList.java:19)\r\n    \tat app.jfx.LoggedInView$1.handle(LoggedInView.java:44)\r\n    \tat app.jfx.LoggedInView$1.handle(LoggedInView.java:41)\r\n    \tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n    \tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n    \tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n    \tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8879)\r\n    \tat javafx.controls/javafx.scene.control.Button.fire(Button.java:200)\r\n    \tat javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:206)\r\n    \tat javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n    \tat javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\r\n    \tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n    \tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n    \tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n    \tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3851)\r\n    \tat javafx.graphics/javafx.scene.Scene$MouseHandler.access$1200(Scene.java:3579)\r\n    \tat javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1849)\r\n    \tat javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2588)\r\n    \tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:397)\r\n    \tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:434)\r\n    \tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:390)\r\n    \tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:433)\r\n    \tat javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:556)\r\n    \tat javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:942)\r\n    \tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\nI just want the buttons to display as part of the table, but the exception results in the entire table (apart from the column headers) failing to display any data. \r\n\r\n`Customer` class looks like this (`Model` is an application-specific class that just reduces code duplication for several properties that have the same name across other classes):\r\n\r\n```\r\npublic class Customer extends Model {\r\n    //primary key    \r\n    private int customerId;\r\n    //customer data\r\n    private String customerName; \r\n    private String address;    \r\n    private String postalCode;\r\n    private String phone;\r\n    //foreign key to FirstLevelDivision\r\n    private int divisionId;\r\n    \r\n    //all-arg constructor\r\n\r\n    //getters and setters\r\n}\r\n```\r\n\r\nThe button is meant to be added with `ActionButtonTableCell`, which looks like this:\r\n```\r\npackage app.jfx;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ButtonBase;\r\nimport javafx.scene.control.TableCell;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.util.Callback;\r\nimport java.util.function.Function;\r\n\r\npublic class ActionButtonTableCell&lt;S&gt; extends TableCell&lt;S, Button&gt; {\r\n    private final Button actionButton;\r\n\r\n    public ActionButtonTableCell(String label, Function&lt; S, S&gt; function) {\r\n        this.getStyleClass().add(&quot;action-button-table-cell&quot;);\r\n        this.actionButton = new Button(label);\r\n        this.actionButton.setOnAction((ActionEvent e) -&gt; {\r\n            function.apply(getCurrentItem());        });\r\n            this.actionButton.setMaxWidth(Double.MAX_VALUE);\r\n        }\r\n    public S getCurrentItem() {\r\n        return (S) getTableView().getItems().get(getIndex());\r\n    }\r\n\r\n    public static &lt;S&gt; Callback&lt;TableColumn&lt;S, Button&gt;, TableCell&lt;S, Button&gt;&gt; forTableColumn(String label, Function&lt; S, S&gt; function) {\r\n        return param -&gt; new ActionButtonTableCell&lt;&gt;(label, function);\r\n    }\r\n    @Override\r\n    public void updateItem(Button item, boolean empty) {\r\n        super.updateItem(item, empty);\r\n        if (empty) {\r\n            setGraphic(null);\r\n        } else {\r\n            setGraphic(actionButton);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIt appears in `CustomerList`, which looks like this:\r\n```\r\npackage app.jfx;\r\nimport app.JDBC;\r\nimport app.model.*;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport javafx.scene.layout.GridPane;import javafx.stage.Stage;\r\nimport javafx.util.Callback;\r\nimport java.util.List;\r\nimport java.util.function.Function;\r\n\r\npublic class CustomerList extends Scene {\r\n    private User user;\r\n    public CustomerList(Stage stage) {\r\n        this(stage, null, new GridPane());\r\n    }    public CustomerList(Stage stage, User user) {\r\n        this(stage, user, new GridPane());\r\n    }\r\n    private CustomerList(Stage stage, User user, GridPane gridPane) {\r\n        super(gridPane);\r\n        Label label = new Label(&quot;Customer Records&quot;);\r\n        TableView tableView = new TableView();\r\n        Button back = new Button(&quot;Back&quot;);\r\n        back.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent actionEvent) {\r\n                new LoggedInView(stage, user);\r\n            }\r\n        });\r\n        gridPane.add(label, 0, 0);\r\n        gridPane.add(tableView, 0, 1);\r\n        gridPane.add(back, 0, 2);\r\n        List&lt;Customer&gt; customers = JDBC.getCustomers();\r\n        customers.forEach( customer -&gt; tableView.getItems().add(customer));\r\n\r\n        //define columns\r\n        TableColumn&lt;Customer, Integer&gt; customerId = new TableColumn&lt;&gt;(&quot;Customer ID&quot;);\r\n        TableColumn&lt;Customer, String&gt; customerName = new TableColumn&lt;&gt;(&quot;Customer Name&quot;);\r\n        TableColumn&lt;Customer, String&gt; address = new TableColumn&lt;&gt;(&quot;Address&quot;);\r\n        TableColumn&lt;Customer, String&gt; postalCode = new TableColumn&lt;&gt;(&quot;Postal Code&quot;);\r\n        TableColumn&lt;Customer, String&gt; phone = new TableColumn&lt;&gt;(&quot;Phone&quot;);\r\n        TableColumn&lt;Customer, Integer&gt; divisionId = new TableColumn&lt;&gt;(&quot;Division ID&quot;);\r\n        TableColumn viewCol = new TableColumn(&quot;&quot;);\r\n        TableColumn deleteCol = new TableColumn(&quot;&quot;);\r\n\r\n        //set cell values\r\n        customerId.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;customerId&quot;));\r\n        customerName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;customerName&quot;));\r\n        address.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;address&quot;));\r\n        postalCode.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;postalCode&quot;));\r\n        phone.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;phone&quot;));\r\n        divisionId.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;divisionId&quot;));\r\n        viewCol.setCellValueFactory(ActionButtonTableCell.&lt;Customer&gt;forTableColumn(&quot;View/Edit&quot;, (Customer c) -&gt; {\r\n            new CustomerEditView(stage, user, c.getCustomerId());\r\n            return c;\r\n        }));\r\n        deleteCol.setCellValueFactory(ActionButtonTableCell.&lt;Customer&gt;forTableColumn(&quot;Delete&quot;, (Customer c) -&gt; {\r\n            Alert confirm = new Alert(Alert.AlertType.CONFIRMATION, &quot;Are you sure you want to delete this customer?&quot;);\r\n            confirm.show();\r\n            JDBC.deleteCustomer(c.getCustomerId());\r\n            new CustomerList(stage, user);\r\n            return c;        }));\r\n\r\n        //render table\r\n        tableView.getColumns().add(customerId);\r\n        tableView.getColumns().add(customerName);\r\n        tableView.getColumns().add(address);\r\n        tableView.getColumns().add(postalCode);\r\n        tableView.getColumns().add(phone);\r\n        tableView.getColumns().add(divisionId);\r\n        tableView.getColumns().add(viewCol);\r\n        tableView.getColumns().add(deleteCol);\r\n        stage.setScene(this);    }}\r\n```\r\n\r\n\r\nAdding in `deleteCol` is where the breaking started, yielding the exception above. If I specify `viewCol` and `deleteCol` as `TableColumn&lt;Customer, Button&gt;`, the compiler warns that `setCellValueFactory` requires a `Callback&lt;CellDataFeatures&lt;Customer, Button&gt;, ObservableValue&lt;Button&gt;&gt;` and I&#39;ve provided a `Callback&lt;TableColumn&lt;Customer, Button&gt;, TableCell&lt;Customer, Button&gt;` instead (but not if the types for `TableColumn` are not specified). Altering the return type of the `ActionButtonTableCell` method used breaks the `@Override`. What can I do to make this cast work (or make it unnecessary)? Is there another way to add the buttons in?","title":"How do I add a button into a JFX TableView?","body":"<p>I am trying to add a button into a GUI app in JFX for dealing with a database of customers and appointments. I want to put two buttons in each row of the table that will open other views when clocked.</p>\n<p>Below is what I currently have (which does not work). The compiler doesn't complain about this code but I get the following <code>ClassCastException</code> at runtime (which did not seem to be an issue in the place I saw <code>ActionButtonTableCell</code> originally used for a case analogous to this one; <a href=\"https://stackoverflow.com/questions/29489366/how-to-add-button-in-javafx-table-view\">How to add button in JavaFX table view</a>).</p>\n<p>Here is the stack trace:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.ClassCastException: class javafx.scene.control.TableColumn$CellDataFeatures cannot be cast to class javafx.scene.control.TableColumn (javafx.scene.control.TableColumn$CellDataFeatures and javafx.scene.control.TableColumn are in module javafx.controls of loader 'app')\n    at javafx.controls/javafx.scene.control.TableColumn.getCellObservableValue(TableColumn.java:593)\n    at javafx.controls/javafx.scene.control.TableColumn.getCellObservableValue(TableColumn.java:578)\n    at javafx.controls/javafx.scene.control.TableCell.updateItem(TableCell.java:646)\n    at javafx.controls/javafx.scene.control.TableCell.indexChanged(TableCell.java:469)\n    at javafx.controls/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:120)\n    at javafx.controls/javafx.scene.control.skin.TableSkinUtils.resizeColumnToFitContent(TableSkinUtils.java:119)\n    at javafx.controls/javafx.scene.control.skin.TableSkinUtils.resizeColumnToFitContent(TableSkinUtils.java:86)\n    at javafx.controls/javafx.scene.control.skin.TableColumnHeader.doColumnAutoSize(TableColumnHeader.java:573)\n    at javafx.controls/javafx.scene.control.skin.TableColumnHeader.updateScene(TableColumnHeader.java:516)\n    at javafx.controls/javafx.scene.control.skin.TableColumnHeader.lambda$new$0(TableColumnHeader.java:159)\n    at javafx.controls/com.sun.javafx.scene.control.LambdaMultiplePropertyChangeListenerHandler.lambda$new$1(LambdaMultiplePropertyChangeListenerHandler.java:49)\n    at javafx.base/javafx.beans.value.WeakChangeListener.changed(WeakChangeListener.java:86)\n    at javafx.base/com.sun.javafx.binding.ExpressionHelper$SingleChange.fireValueChangedEvent(ExpressionHelper.java:181)\n    at javafx.base/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:80)\n    at javafx.base/javafx.beans.property.ReadOnlyObjectPropertyBase.fireValueChangedEvent(ReadOnlyObjectPropertyBase.java:74)\n    at javafx.base/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:102)\n    at javafx.graphics/javafx.scene.Node$ReadOnlyObjectWrapperManualFire.fireSuperValueChangedEvent(Node.java:1054)\n    at javafx.graphics/javafx.scene.Node.invalidatedScenes(Node.java:1114)\n    at javafx.graphics/javafx.scene.Node.setScenes(Node.java:1152)\n    at javafx.graphics/javafx.scene.Parent$2.onChanged(Parent.java:369)\n    at javafx.base/com.sun.javafx.collections.TrackableObservableList.lambda$new$0(TrackableObservableList.java:45)\n    at javafx.base/com.sun.javafx.collections.ListListenerHelper$Generic.fireValueChangedEvent(ListListenerHelper.java:329)\n    at javafx.base/com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)\n    at javafx.base/javafx.collections.ObservableListBase.fireChange(ObservableListBase.java:233)\n    at javafx.base/javafx.collections.ListChangeBuilder.commit(ListChangeBuilder.java:482)\n    at javafx.base/javafx.collections.ListChangeBuilder.endChange(ListChangeBuilder.java:541)\n    at javafx.base/javafx.collections.ObservableListBase.endChange(ObservableListBase.java:205)\n    at javafx.base/javafx.collections.ModifiableObservableListBase.setAll(ModifiableObservableListBase.java:90)\n    at javafx.base/com.sun.javafx.collections.VetoableListDecorator.setAll(VetoableListDecorator.java:116)\n    at javafx.controls/javafx.scene.control.skin.NestedTableColumnHeader.updateContent(NestedTableColumnHeader.java:578)\n    at javafx.controls/javafx.scene.control.skin.NestedTableColumnHeader.updateTableColumnHeaders(NestedTableColumnHeader.java:504)\n    at javafx.controls/javafx.scene.control.skin.NestedTableColumnHeader.checkState(NestedTableColumnHeader.java:638)\n    at javafx.controls/javafx.scene.control.skin.NestedTableColumnHeader.computePrefHeight(NestedTableColumnHeader.java:345)\n    at javafx.graphics/javafx.scene.Parent.prefHeight(Parent.java:1031)\n    at javafx.graphics/javafx.scene.layout.Region.prefHeight(Region.java:1559)\n    at javafx.controls/javafx.scene.control.skin.TableHeaderRow.computePrefHeight(TableHeaderRow.java:376)\n    at javafx.controls/javafx.scene.control.skin.TableHeaderRow.computeMinHeight(TableHeaderRow.java:369)\n    at javafx.graphics/javafx.scene.Parent.minHeight(Parent.java:1059)\n    at javafx.graphics/javafx.scene.layout.Region.minHeight(Region.java:1525)\n    at javafx.controls/javafx.scene.control.SkinBase.computeMinHeight(SkinBase.java:311)\n    at javafx.controls/javafx.scene.control.Control.computeMinHeight(Control.java:512)\n    at javafx.graphics/javafx.scene.Parent.minHeight(Parent.java:1059)\n    at javafx.graphics/javafx.scene.layout.Region.minHeight(Region.java:1525)\n    at javafx.graphics/javafx.scene.layout.Region.computeChildPrefAreaHeight(Region.java:1980)\n    at javafx.graphics/javafx.scene.layout.GridPane.computePrefHeights(GridPane.java:1436)\n    at javafx.graphics/javafx.scene.layout.GridPane.computePrefHeight(GridPane.java:1265)\n    at javafx.graphics/javafx.scene.Parent.prefHeight(Parent.java:1031)\n    at javafx.graphics/javafx.scene.layout.Region.prefHeight(Region.java:1559)\n    at javafx.graphics/javafx.scene.Scene.getPreferredHeight(Scene.java:1811)\n    at javafx.graphics/javafx.scene.Scene.resizeRootToPreferredSize(Scene.java:1776)\n    at javafx.graphics/javafx.scene.Scene.preferredSize(Scene.java:1747)\n    at javafx.graphics/javafx.scene.Scene$2.preferredSize(Scene.java:393)\n    at javafx.graphics/com.sun.javafx.scene.SceneHelper.preferredSize(SceneHelper.java:66)\n    at javafx.graphics/javafx.stage.Window$SceneModel.invalidated(Window.java:814)\n    at javafx.base/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:112)\n    at javafx.base/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)\n    at javafx.graphics/javafx.stage.Window.setScene(Window.java:770)\n    at javafx.graphics/javafx.stage.Stage.setScene(Stage.java:266)\n    at app.jfx.CustomerList.&lt;init&gt;(CustomerList.java:79)\n    at app.jfx.CustomerList.&lt;init&gt;(CustomerList.java:19)\n    at app.jfx.LoggedInView$1.handle(LoggedInView.java:44)\n    at app.jfx.LoggedInView$1.handle(LoggedInView.java:41)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8879)\n    at javafx.controls/javafx.scene.control.Button.fire(Button.java:200)\n    at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:206)\n    at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3851)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.access$1200(Scene.java:3579)\n    at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1849)\n    at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2588)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:397)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:434)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:390)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:433)\n    at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:556)\n    at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:942)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>I just want the buttons to display as part of the table, but the exception results in the entire table (apart from the column headers) failing to display any data.</p>\n<p><code>Customer</code> class looks like this (<code>Model</code> is an application-specific class that just reduces code duplication for several properties that have the same name across other classes):</p>\n<pre><code>public class Customer extends Model {\n    //primary key    \n    private int customerId;\n    //customer data\n    private String customerName; \n    private String address;    \n    private String postalCode;\n    private String phone;\n    //foreign key to FirstLevelDivision\n    private int divisionId;\n    \n    //all-arg constructor\n\n    //getters and setters\n}\n</code></pre>\n<p>The button is meant to be added with <code>ActionButtonTableCell</code>, which looks like this:</p>\n<pre><code>package app.jfx;\nimport javafx.event.ActionEvent;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ButtonBase;\nimport javafx.scene.control.TableCell;\nimport javafx.scene.control.TableColumn;\nimport javafx.util.Callback;\nimport java.util.function.Function;\n\npublic class ActionButtonTableCell&lt;S&gt; extends TableCell&lt;S, Button&gt; {\n    private final Button actionButton;\n\n    public ActionButtonTableCell(String label, Function&lt; S, S&gt; function) {\n        this.getStyleClass().add(&quot;action-button-table-cell&quot;);\n        this.actionButton = new Button(label);\n        this.actionButton.setOnAction((ActionEvent e) -&gt; {\n            function.apply(getCurrentItem());        });\n            this.actionButton.setMaxWidth(Double.MAX_VALUE);\n        }\n    public S getCurrentItem() {\n        return (S) getTableView().getItems().get(getIndex());\n    }\n\n    public static &lt;S&gt; Callback&lt;TableColumn&lt;S, Button&gt;, TableCell&lt;S, Button&gt;&gt; forTableColumn(String label, Function&lt; S, S&gt; function) {\n        return param -&gt; new ActionButtonTableCell&lt;&gt;(label, function);\n    }\n    @Override\n    public void updateItem(Button item, boolean empty) {\n        super.updateItem(item, empty);\n        if (empty) {\n            setGraphic(null);\n        } else {\n            setGraphic(actionButton);\n        }\n    }\n}\n</code></pre>\n<p>It appears in <code>CustomerList</code>, which looks like this:</p>\n<pre><code>package app.jfx;\nimport app.JDBC;\nimport app.model.*;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.layout.GridPane;import javafx.stage.Stage;\nimport javafx.util.Callback;\nimport java.util.List;\nimport java.util.function.Function;\n\npublic class CustomerList extends Scene {\n    private User user;\n    public CustomerList(Stage stage) {\n        this(stage, null, new GridPane());\n    }    public CustomerList(Stage stage, User user) {\n        this(stage, user, new GridPane());\n    }\n    private CustomerList(Stage stage, User user, GridPane gridPane) {\n        super(gridPane);\n        Label label = new Label(&quot;Customer Records&quot;);\n        TableView tableView = new TableView();\n        Button back = new Button(&quot;Back&quot;);\n        back.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent actionEvent) {\n                new LoggedInView(stage, user);\n            }\n        });\n        gridPane.add(label, 0, 0);\n        gridPane.add(tableView, 0, 1);\n        gridPane.add(back, 0, 2);\n        List&lt;Customer&gt; customers = JDBC.getCustomers();\n        customers.forEach( customer -&gt; tableView.getItems().add(customer));\n\n        //define columns\n        TableColumn&lt;Customer, Integer&gt; customerId = new TableColumn&lt;&gt;(&quot;Customer ID&quot;);\n        TableColumn&lt;Customer, String&gt; customerName = new TableColumn&lt;&gt;(&quot;Customer Name&quot;);\n        TableColumn&lt;Customer, String&gt; address = new TableColumn&lt;&gt;(&quot;Address&quot;);\n        TableColumn&lt;Customer, String&gt; postalCode = new TableColumn&lt;&gt;(&quot;Postal Code&quot;);\n        TableColumn&lt;Customer, String&gt; phone = new TableColumn&lt;&gt;(&quot;Phone&quot;);\n        TableColumn&lt;Customer, Integer&gt; divisionId = new TableColumn&lt;&gt;(&quot;Division ID&quot;);\n        TableColumn viewCol = new TableColumn(&quot;&quot;);\n        TableColumn deleteCol = new TableColumn(&quot;&quot;);\n\n        //set cell values\n        customerId.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;customerId&quot;));\n        customerName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;customerName&quot;));\n        address.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;address&quot;));\n        postalCode.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;postalCode&quot;));\n        phone.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;phone&quot;));\n        divisionId.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;divisionId&quot;));\n        viewCol.setCellValueFactory(ActionButtonTableCell.&lt;Customer&gt;forTableColumn(&quot;View/Edit&quot;, (Customer c) -&gt; {\n            new CustomerEditView(stage, user, c.getCustomerId());\n            return c;\n        }));\n        deleteCol.setCellValueFactory(ActionButtonTableCell.&lt;Customer&gt;forTableColumn(&quot;Delete&quot;, (Customer c) -&gt; {\n            Alert confirm = new Alert(Alert.AlertType.CONFIRMATION, &quot;Are you sure you want to delete this customer?&quot;);\n            confirm.show();\n            JDBC.deleteCustomer(c.getCustomerId());\n            new CustomerList(stage, user);\n            return c;        }));\n\n        //render table\n        tableView.getColumns().add(customerId);\n        tableView.getColumns().add(customerName);\n        tableView.getColumns().add(address);\n        tableView.getColumns().add(postalCode);\n        tableView.getColumns().add(phone);\n        tableView.getColumns().add(divisionId);\n        tableView.getColumns().add(viewCol);\n        tableView.getColumns().add(deleteCol);\n        stage.setScene(this);    }}\n</code></pre>\n<p>Adding in <code>deleteCol</code> is where the breaking started, yielding the exception above. If I specify <code>viewCol</code> and <code>deleteCol</code> as <code>TableColumn&lt;Customer, Button&gt;</code>, the compiler warns that <code>setCellValueFactory</code> requires a <code>Callback&lt;CellDataFeatures&lt;Customer, Button&gt;, ObservableValue&lt;Button&gt;&gt;</code> and I've provided a <code>Callback&lt;TableColumn&lt;Customer, Button&gt;, TableCell&lt;Customer, Button&gt;</code> instead (but not if the types for <code>TableColumn</code> are not specified). Altering the return type of the <code>ActionButtonTableCell</code> method used breaks the <code>@Override</code>. What can I do to make this cast work (or make it unnecessary)? Is there another way to add the buttons in?</p>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1684252037,"post_id":76264714,"comment_id":134489552,"body_markdown":"You have a data race, which is a common issue when working on concurrent threads. **Concurrency is hard**.","body":"You have a data race, which is a common issue when working on concurrent threads. <b>Concurrency is hard</b>."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":2,"creation_date":1684252430,"post_id":76264714,"comment_id":134489644,"body_markdown":"Re, &quot;...what&#39;s even happening.&quot; You&#39;d have to look at the source code for `ArrayList` to know what&#39;s _really_ happening. But why not start with one of those examples where two threads increment a counter variable, and some of the increments get lost? An `ArrayList` basically is an array with a counter variable that tells where to `add` the next item.","body":"Re, &quot;...what&#39;s even happening.&quot; You&#39;d have to look at the source code for <code>ArrayList</code> to know what&#39;s <i>really</i> happening. But why not start with one of those examples where two threads increment a counter variable, and some of the increments get lost? An <code>ArrayList</code> basically is an array with a counter variable that tells where to <code>add</code> the next item."},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1684254840,"post_id":76264714,"comment_id":134490267,"body_markdown":"Even looking at source won&#39;t clarify all of it, because in the absence of synchronization different optimizations like reordering of instructions are allowed.","body":"Even looking at source won&#39;t clarify all of it, because in the absence of synchronization different optimizations like reordering of instructions are allowed."}],"answers":[{"tags":[],"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684255384,"creation_date":1684252661,"answer_id":76265015,"question_id":76264714,"body_markdown":"`ArrayList` is not thread-safe. If two threads try to call `add()` at the same time, anything might happen. \r\nFrom the [Arraylist documentation][1]:\r\n\r\n&gt; **Note that this implementation is not synchronized.** If multiple threads\r\n&gt; access an ArrayList instance concurrently, and at least one of the\r\n&gt; threads modifies the list structurally, it must be synchronized\r\n&gt; externally.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html","title":"Lost list element in a concurrency program","body":"<p><code>ArrayList</code> is not thread-safe. If two threads try to call <code>add()</code> at the same time, anything might happen.\nFrom the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">Arraylist documentation</a>:</p>\n<blockquote>\n<p><strong>Note that this implementation is not synchronized.</strong> If multiple threads\naccess an ArrayList instance concurrently, and at least one of the\nthreads modifies the list structurally, it must be synchronized\nexternally.</p>\n</blockquote>\n"}],"owner":{"account_id":5461170,"reputation":101,"user_id":4343242,"display_name":"CDO"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684255464,"answer_count":1,"score":0,"last_activity_date":1684255384,"creation_date":1684250468,"question_id":76264714,"body_markdown":"This is a task from the book *Head First Java*, where the reader is asked to find out what happens in the following code block:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class TwoThreadsWriting {\r\n    public static void main(String[] args) {\r\n        ExecutorService threadPool = Executors.newFixedThreadPool(2);\r\n        Data data = new Data();\r\n        threadPool.execute(()-&gt; addLetterToData(&#39;a&#39;, data));\r\n        threadPool.execute(()-&gt; addLetterToData(&#39;A&#39;, data));\r\n        threadPool.shutdown();\r\n    }\r\n\r\n    private static void addLetterToData(char letter, Data data) {\r\n        for(int i = 0; i &lt; 26; i++){\r\n            data.addLetter(letter++);\r\n            try {\r\n                Thread.sleep(50);\r\n            } catch (InterruptedException ignored) {}\r\n        }\r\n        System.out.println(Thread.currentThread().getName() + data.getLetters());\r\n        System.out.println(Thread.currentThread().getName() + &quot; size: &quot; + data.getLetters().size());\r\n    }\r\n}\r\nclass Data {\r\n    private final List&lt;String&gt; letters = new ArrayList&lt;&gt;();\r\n    public List&lt;String&gt; getLetters() {return letters;}\r\n    public void addLetter(char letter){\r\n        letters.add(String.valueOf(letter));\r\n    }\r\n}\r\n```\r\n\r\nI expected that the output lists contain 52 characters like this\r\n\r\n```\r\n[&#39;a&#39;, &#39;A&#39;, &#39;b&#39;, &#39;B&#39;, ...]\r\n```\r\n\r\nBut sometimes the number of elements is less than 52 and some characters are missing in `letters`, like here for example (`&#39;K&#39;` is missing):\r\n\r\n```\r\npool-1-thread-2[A, a, B, b, c, C, d, D, e, E, f, F, G, g, H, h, i, I, J, j, k, L, l, m, M, N, n, O, o, p, P, q, Q, r, R, s, S, t, T, u, U, V, v, w, W, X, x, y, Y, Z, z]\r\n\r\npool-1-thread-1[A, a, B, b, c, C, d, D, e, E, f, F, G, g, H, h, i, I, J, j, k, L, l, m, M, N, n, O, o, p, P, q, Q, r, R, s, S, t, T, u, U, V, v, w, W, X, x, y, Y, Z, z]\r\n\r\npool-1-thread-2 size: 51\r\npool-1-thread-1 size: 51\r\n```\r\n\r\nI do not understand why this happens. I tried debugging it by printing the value of the local variable `letter` of `addLetter` but it only shows me that the `&#39;K&#39;` was actually added.\r\n\r\nI do know that this all happens solely due to using the non-thread-safe `ArrayList` or `addLetter` not being declared as `synchronized`, but I want to understand what&#39;s even happening here in the first place.","title":"Lost list element in a concurrency program","body":"<p>This is a task from the book <em>Head First Java</em>, where the reader is asked to find out what happens in the following code block:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class TwoThreadsWriting {\n    public static void main(String[] args) {\n        ExecutorService threadPool = Executors.newFixedThreadPool(2);\n        Data data = new Data();\n        threadPool.execute(()-&gt; addLetterToData('a', data));\n        threadPool.execute(()-&gt; addLetterToData('A', data));\n        threadPool.shutdown();\n    }\n\n    private static void addLetterToData(char letter, Data data) {\n        for(int i = 0; i &lt; 26; i++){\n            data.addLetter(letter++);\n            try {\n                Thread.sleep(50);\n            } catch (InterruptedException ignored) {}\n        }\n        System.out.println(Thread.currentThread().getName() + data.getLetters());\n        System.out.println(Thread.currentThread().getName() + &quot; size: &quot; + data.getLetters().size());\n    }\n}\nclass Data {\n    private final List&lt;String&gt; letters = new ArrayList&lt;&gt;();\n    public List&lt;String&gt; getLetters() {return letters;}\n    public void addLetter(char letter){\n        letters.add(String.valueOf(letter));\n    }\n}\n</code></pre>\n<p>I expected that the output lists contain 52 characters like this</p>\n<pre><code>['a', 'A', 'b', 'B', ...]\n</code></pre>\n<p>But sometimes the number of elements is less than 52 and some characters are missing in <code>letters</code>, like here for example (<code>'K'</code> is missing):</p>\n<pre><code>pool-1-thread-2[A, a, B, b, c, C, d, D, e, E, f, F, G, g, H, h, i, I, J, j, k, L, l, m, M, N, n, O, o, p, P, q, Q, r, R, s, S, t, T, u, U, V, v, w, W, X, x, y, Y, Z, z]\n\npool-1-thread-1[A, a, B, b, c, C, d, D, e, E, f, F, G, g, H, h, i, I, J, j, k, L, l, m, M, N, n, O, o, p, P, q, Q, r, R, s, S, t, T, u, U, V, v, w, W, X, x, y, Y, Z, z]\n\npool-1-thread-2 size: 51\npool-1-thread-1 size: 51\n</code></pre>\n<p>I do not understand why this happens. I tried debugging it by printing the value of the local variable <code>letter</code> of <code>addLetter</code> but it only shows me that the <code>'K'</code> was actually added.</p>\n<p>I do know that this all happens solely due to using the non-thread-safe <code>ArrayList</code> or <code>addLetter</code> not being declared as <code>synchronized</code>, but I want to understand what's even happening here in the first place.</p>\n"},{"tags":["java","docker","7zip"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684248104,"post_id":76264296,"comment_id":134488397,"body_markdown":"Does it work when execute the same command from the command line? What is the output of `cmd.split(&quot;\\\\s+&quot;)`?","body":"Does it work when execute the same command from the command line? What is the output of <code>cmd.split(&quot;\\\\s+&quot;)</code>?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684248115,"post_id":76264296,"comment_id":134488406,"body_markdown":"Use [code format](https://stackoverflow.com/editing-help#code) for logs, not quote format. Quote is for human text, not logs and other pre formatted text. Quote breaks the existing format of the log, makes it very hard to read and gets in the way of trying to copy text for investigation.","body":"Use <a href=\"https://stackoverflow.com/editing-help#code\">code format</a> for logs, not quote format. Quote is for human text, not logs and other pre formatted text. Quote breaks the existing format of the log, makes it very hard to read and gets in the way of trying to copy text for investigation."},{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":1,"creation_date":1684249588,"post_id":76264296,"comment_id":134488819,"body_markdown":"Just FYI: You don&#39;t need to use external tools to create ZIP files in Java. It comes with classes for handling ZIP files. See for example https://www.baeldung.com/java-compress-and-uncompress","body":"Just FYI: You don&#39;t need to use external tools to create ZIP files in Java. It comes with classes for handling ZIP files. See for example <a href=\"https://www.baeldung.com/java-compress-and-uncompress\" rel=\"nofollow noreferrer\">baeldung.com/java-compress-and-uncompress</a>"},{"owner":{"account_id":22555920,"reputation":3,"user_id":16744310,"display_name":"GouthamRio"},"score":0,"creation_date":1684249915,"post_id":76264296,"comment_id":134488915,"body_markdown":"@aled the `cmd.split(&quot;\\\\s+&quot;)` output will be as follows `ProcessBuilder processBuilder = new ProcessBuilder(&quot;7za&quot;, &quot;a&quot;, &quot;-ptest123&quot;, &quot;/data01/cfm/encrypted/test.7z&quot;, &quot;/data01/cfm/files/test.txt&quot;);`","body":"@aled the <code>cmd.split(&quot;\\\\s+&quot;)</code> output will be as follows <code>ProcessBuilder processBuilder = new ProcessBuilder(&quot;7za&quot;, &quot;a&quot;, &quot;-ptest123&quot;, &quot;&#47;data01&#47;cfm&#47;encrypted&#47;test.7z&quot;, &quot;&#47;data01&#47;cfm&#47;files&#47;test.txt&quot;);</code>"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684250127,"post_id":76264296,"comment_id":134488980,"body_markdown":"Does it work when you execute the same command from the command line?","body":"Does it work when you execute the same command from the command line?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1684250209,"post_id":76264296,"comment_id":134489008,"body_markdown":"@RoToRa 7zip files are not supported by the ZIP functionality in Java.","body":"@RoToRa 7zip files are not supported by the ZIP functionality in Java."},{"owner":{"account_id":22555920,"reputation":3,"user_id":16744310,"display_name":"GouthamRio"},"score":1,"creation_date":1684250253,"post_id":76264296,"comment_id":134489023,"body_markdown":"@RoToRa yes but in don&#39;t think so it can compress with password protect. i have tried compressing using zip classes and then encryption it with aes256 algo. but after that when i try to open that archive in 7zip windows app its not opening properly, i have a specific use case where i need to compress with password through program and sent it to users where they will decompress in there windows machine using 7zip application.","body":"@RoToRa yes but in don&#39;t think so it can compress with password protect. i have tried compressing using zip classes and then encryption it with aes256 algo. but after that when i try to open that archive in 7zip windows app its not opening properly, i have a specific use case where i need to compress with password through program and sent it to users where they will decompress in there windows machine using 7zip application."},{"owner":{"account_id":22555920,"reputation":3,"user_id":16744310,"display_name":"GouthamRio"},"score":0,"creation_date":1684251054,"post_id":76264296,"comment_id":134489274,"body_markdown":"@aled i tested in cmd line during docker build and add the output in the body, please check. since its a ecs fargate container i dont have full control over to connect and run the cmd. so i ran it during docker build","body":"@aled i tested in cmd line during docker build and add the output in the body, please check. since its a ecs fargate container i dont have full control over to connect and run the cmd. so i ran it during docker build"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1684251896,"post_id":76264296,"comment_id":134489518,"body_markdown":"Strictly speaking, unless you add `processBuilder.redirectErrorStream(true);` you haven&#39;t shown the error log, just standard output. The error log might - or not - tell you what happened.","body":"Strictly speaking, unless you add <code>processBuilder.redirectErrorStream(true);</code> you haven&#39;t shown the error log, just standard output. The error log might - or not - tell you what happened."},{"owner":{"account_id":22555920,"reputation":3,"user_id":16744310,"display_name":"GouthamRio"},"score":0,"creation_date":1684255526,"post_id":76264296,"comment_id":134490438,"body_markdown":"@DuncG i have added processBuilder.redirectErrorStream(true); updated the code and error log above. i still dont know why its trying to open test.7z as archive.","body":"@DuncG i have added processBuilder.redirectErrorStream(true); updated the code and error log above. i still dont know why its trying to open test.7z as archive."},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1684255543,"post_id":76264296,"comment_id":134490445,"body_markdown":"&quot;Operation is not permitted&quot; is a very specific error. Look at your file permissions.","body":"&quot;Operation is not permitted&quot; is a very specific error. Look at your file permissions."},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1684255603,"post_id":76264296,"comment_id":134490464,"body_markdown":"(You might also think of making Java run `strace -f -o /path/to/log.strace -s 2048 7z ...` and comparing `log.strace` generated that way with the `log.strace` you get from running the same command with no JVM involved; if the JVM really _is_ doing something different, like injecting whitespace or special characters in the environment, or setting you up with a materially different set of environment variables, or whatever else... you&#39;ll be able to see it there).","body":"(You might also think of making Java run <code>strace -f -o &#47;path&#47;to&#47;log.strace -s 2048 7z ...</code> and comparing <code>log.strace</code> generated that way with the <code>log.strace</code> you get from running the same command with no JVM involved; if the JVM really <i>is</i> doing something different, like injecting whitespace or special characters in the environment, or setting you up with a materially different set of environment variables, or whatever else... you&#39;ll be able to see it there)."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1684257772,"post_id":76264296,"comment_id":134490957,"body_markdown":"You might also verify read before the call: `System.out.println(&quot;size=&quot;+Files.readAllBytes(Path.of(&quot;/data/app/encrypted/test.7z&quot;)).length);`","body":"You might also verify read before the call: <code>System.out.println(&quot;size=&quot;+Files.readAllBytes(Path.of(&quot;&#47;data&zwnj;&#8203;&#47;app&#47;encrypted&#47;test.&zwnj;&#8203;7z&quot;)).length);</code>"}],"owner":{"account_id":22555920,"reputation":3,"user_id":16744310,"display_name":"GouthamRio"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684255336,"creation_date":1684247823,"question_id":76264296,"body_markdown":"I have a Docker container where the base image is Corretto 17. I have also installed p7zip in the image using &#39;yum install -y p7zip&#39;. Additionally, I created a user, switched to that user, and copied my Spring Boot JAR file to the Docker image. Currently, I&#39;m running this Docker container in an AWS ECS Fargate cluster, and I&#39;m encountering an issue when trying to execute the &#39;7za&#39; command line using Process Builder.\r\n\r\nBelow is the cmd I&#39;m trying to run.\r\n\r\n\r\n```\r\n7za a -ptest123 /data/app/encrypted/test.7z /data/app/files/test.txt\r\n```\r\n\r\nBut when I run the above cmd the 7za is trying to open the archive test.7z which is not supposed to. It should create the archive with the file test.txt. Below is the error log.\r\n\r\n```\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; 7-Zip (a) [64] 16.02 : Copyright (c) 1999-2016 Igor Pavlov : 2016-05-21\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; p7zip Version 16.02 (locale=C.UTF-8,Utf16=on,HugeFiles=on,64 bits,2 CPUs Intel(R) Xeon(R) CPU E5-2666 v3 @ 2.90GHz (306F2),ASM,AES-NI)\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; Open archive: /data/app/encrypted/test.7z\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; ERROR: /data/app/encrypted/test.7z\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; /data/app/encrypted/test.7z\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; Open ERROR: Can not open the file as [7z] archive\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; ERRORS:\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; Is not archive\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; System ERROR:\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; Operation not permitted\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; Exit Code: 2\r\n```\r\n\r\nbelow is the code im using\r\n\r\n\r\n```\r\n\tprivate static synchronized void linuxCmd(String cmd) {\r\n        try {\r\n            // Create a ProcessBuilder for the command\r\n            ProcessBuilder processBuilder = new ProcessBuilder(cmd.split(&quot;\\\\s+&quot;));\r\n\r\n            // Merge error stream with output stream\r\n            processBuilder.redirectErrorStream(true);\r\n\r\n            // Start the process\r\n            Process process = processBuilder.start();\r\n\r\n            // Read the output of the process\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            String line;\r\n            StringBuilder output = new StringBuilder();\r\n            while ((line = reader.readLine()) != null) {\r\n                output.append(line).append(&quot;\\n&quot;);\r\n            }\r\n\r\n            // Wait for the process to finish\r\n            int exitCode = process.waitFor();\r\n\r\n            // Print the output and exit code\r\n            System.out.println(&quot;Output:\\n&quot; + output.toString());\r\n            System.out.println(&quot;Exit Code: &quot; + exitCode);\r\n        } catch (IOException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\ni will be calling the above method with the 7za cmd i provided earlier\r\n\r\nI have tried the same from docker file. i have created file written the same cmd in docker file and executed it while building the image. it worked properly. \r\n\r\n```\r\nStep 16/19 : RUN 7za a -ptest123 /data/app/encrypted/test.7z /data/app/files/test.txt\r\n ---&gt; Running in 44786d829af4\r\n\r\n7-Zip (a) [64] 16.02 : Copyright (c) 1999-2016 Igor Pavlov : 2016-05-21\r\np7zip Version 16.02 (locale=C.UTF-8,Utf16=on,HugeFiles=on,64 bits,2 CPUs AMD PRO A8-8600B R6, 10 Compute Cores 4C+6G     (660F01),ASM,AES-NI)\r\n\r\nScanning the drive:\r\n1 file, 15457 bytes (16 KiB)\r\n\r\nCreating archive: /data/app/encrypted/test.7z\r\n\r\nItems to compress: 1\r\n\r\n\r\nFiles read from disk: 1\r\nArchive size: 2690 bytes (3 KiB)\r\nEverything is Ok\r\nRemoving intermediate container 44786d829af4\r\n ---&gt; 10ab11bb503c\r\n\r\n```\r\n","title":"7za command line from java process builder","body":"<p>I have a Docker container where the base image is Corretto 17. I have also installed p7zip in the image using 'yum install -y p7zip'. Additionally, I created a user, switched to that user, and copied my Spring Boot JAR file to the Docker image. Currently, I'm running this Docker container in an AWS ECS Fargate cluster, and I'm encountering an issue when trying to execute the '7za' command line using Process Builder.</p>\n<p>Below is the cmd I'm trying to run.</p>\n<pre><code>7za a -ptest123 /data/app/encrypted/test.7z /data/app/files/test.txt\n</code></pre>\n<p>But when I run the above cmd the 7za is trying to open the archive test.7z which is not supposed to. It should create the archive with the file test.txt. Below is the error log.</p>\n<pre><code>2023-05-16T10:28:08.440-06:00    7-Zip (a) [64] 16.02 : Copyright (c) 1999-2016 Igor Pavlov : 2016-05-21\n2023-05-16T10:28:08.440-06:00    p7zip Version 16.02 (locale=C.UTF-8,Utf16=on,HugeFiles=on,64 bits,2 CPUs Intel(R) Xeon(R) CPU E5-2666 v3 @ 2.90GHz (306F2),ASM,AES-NI)\n2023-05-16T10:28:08.440-06:00    Open archive: /data/app/encrypted/test.7z\n2023-05-16T10:28:08.440-06:00    ERROR: /data/app/encrypted/test.7z\n2023-05-16T10:28:08.440-06:00    /data/app/encrypted/test.7z\n2023-05-16T10:28:08.440-06:00    Open ERROR: Can not open the file as [7z] archive\n2023-05-16T10:28:08.440-06:00    ERRORS:\n2023-05-16T10:28:08.440-06:00    Is not archive\n2023-05-16T10:28:08.440-06:00    System ERROR:\n2023-05-16T10:28:08.440-06:00    Operation not permitted\n2023-05-16T10:28:08.440-06:00    Exit Code: 2\n</code></pre>\n<p>below is the code im using</p>\n<pre><code>    private static synchronized void linuxCmd(String cmd) {\n        try {\n            // Create a ProcessBuilder for the command\n            ProcessBuilder processBuilder = new ProcessBuilder(cmd.split(&quot;\\\\s+&quot;));\n\n            // Merge error stream with output stream\n            processBuilder.redirectErrorStream(true);\n\n            // Start the process\n            Process process = processBuilder.start();\n\n            // Read the output of the process\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n            String line;\n            StringBuilder output = new StringBuilder();\n            while ((line = reader.readLine()) != null) {\n                output.append(line).append(&quot;\\n&quot;);\n            }\n\n            // Wait for the process to finish\n            int exitCode = process.waitFor();\n\n            // Print the output and exit code\n            System.out.println(&quot;Output:\\n&quot; + output.toString());\n            System.out.println(&quot;Exit Code: &quot; + exitCode);\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>i will be calling the above method with the 7za cmd i provided earlier</p>\n<p>I have tried the same from docker file. i have created file written the same cmd in docker file and executed it while building the image. it worked properly.</p>\n<pre><code>Step 16/19 : RUN 7za a -ptest123 /data/app/encrypted/test.7z /data/app/files/test.txt\n ---&gt; Running in 44786d829af4\n\n7-Zip (a) [64] 16.02 : Copyright (c) 1999-2016 Igor Pavlov : 2016-05-21\np7zip Version 16.02 (locale=C.UTF-8,Utf16=on,HugeFiles=on,64 bits,2 CPUs AMD PRO A8-8600B R6, 10 Compute Cores 4C+6G     (660F01),ASM,AES-NI)\n\nScanning the drive:\n1 file, 15457 bytes (16 KiB)\n\nCreating archive: /data/app/encrypted/test.7z\n\nItems to compress: 1\n\n\nFiles read from disk: 1\nArchive size: 2690 bytes (3 KiB)\nEverything is Ok\nRemoving intermediate container 44786d829af4\n ---&gt; 10ab11bb503c\n\n</code></pre>\n"},{"tags":["java","intellij-idea","makefile","filenotfoundexception"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684253929,"post_id":76264755,"comment_id":134490065,"body_markdown":"fyi it&#39;s not necessary to use ugly doubled backslashes Forward slashes work fine in file paths for any OS","body":"fyi it&#39;s not necessary to use ugly doubled backslashes Forward slashes work fine in file paths for any OS"},{"owner":{"account_id":28538177,"reputation":7,"user_id":21844603,"display_name":"BuchuleSidondi"},"score":0,"creation_date":1689311739,"post_id":76264755,"comment_id":135198237,"body_markdown":"what difference does it make, a slash is a slash","body":"what difference does it make, a slash is a slash"}],"answers":[{"tags":[],"owner":{"account_id":27801719,"reputation":1,"user_id":21226054,"display_name":"Prit "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684254839,"creation_date":1684252637,"answer_id":76265008,"question_id":76264755,"body_markdown":"Of course this is run time error; at compile time it can not go and check whether the file located at right place or not. You hard coded that file path in code instead of that some other person put some variable also that value enter run time and it go for reading that file. At compile time compiler only checks for a syntax error. ","title":"Run Time Error or Compile Time error FileNotFoundException","body":"<p>Of course this is run time error; at compile time it can not go and check whether the file located at right place or not. You hard coded that file path in code instead of that some other person put some variable also that value enter run time and it go for reading that file. At compile time compiler only checks for a syntax error.</p>\n"}],"owner":{"account_id":28538177,"reputation":7,"user_id":21844603,"display_name":"BuchuleSidondi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1684302507,"answer_count":1,"score":0,"last_activity_date":1684254839,"creation_date":1684250682,"question_id":76264755,"body_markdown":"[enter image description here](https://i.stack.imgur.com/AKlH9.png)\r\n\r\n\r\n\r\n\r\nMy markers say my code doesn&#39;t compile because the file path is obviously not correct if I run the project on another computer. Let&#39;s forget about the solution, I know what it is.\r\n\r\nIs this true ? Is this error a run time or compile time error and does the code compile or not\r\n\r\nException in thread &quot;main&quot; java.io.FileNotFoundException: C:\\path\\to\\hamlet.xml (The system cannot find the path specified)","title":"Run Time Error or Compile Time error FileNotFoundException","body":"<p><a href=\"https://i.stack.imgur.com/AKlH9.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>My markers say my code doesn't compile because the file path is obviously not correct if I run the project on another computer. Let's forget about the solution, I know what it is.</p>\n<p>Is this true ? Is this error a run time or compile time error and does the code compile or not</p>\n<p>Exception in thread &quot;main&quot; java.io.FileNotFoundException: C:\\path\\to\\hamlet.xml (The system cannot find the path specified)</p>\n"},{"tags":["java","spring","spring-boot","google-chrome"],"answers":[{"tags":[],"owner":{"account_id":2783463,"reputation":390,"user_id":2395495,"accept_rate":100,"display_name":"Mimerr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684254175,"creation_date":1684254175,"answer_id":76265249,"question_id":76105743,"body_markdown":"In case anyone ends up here with something similar. Turns out that there is a big difference in the way Chrome and Firefox handle cookies by default. And Spring backend also defaults to match Chrome. Specifically, the same site policy for Chrome is Lax. Spring defaults to Lax. Firefox defaults to None.\r\n\r\nIn the end my problem was our Spring configuration nulled the same site policy, so it was allowing browsers to handle things and this is why Firefox was not causing a 302 when the request from the 3rd party site came through.\r\n\r\nSetting spring to None; Secure allows both browsers to function the same. Specifically in regards to the session cookie, which was being lost on Chrome.","title":"Spring Boot endpoint gets interupted with 302 unexpectedly after multiple requests on Chrome","body":"<p>In case anyone ends up here with something similar. Turns out that there is a big difference in the way Chrome and Firefox handle cookies by default. And Spring backend also defaults to match Chrome. Specifically, the same site policy for Chrome is Lax. Spring defaults to Lax. Firefox defaults to None.</p>\n<p>In the end my problem was our Spring configuration nulled the same site policy, so it was allowing browsers to handle things and this is why Firefox was not causing a 302 when the request from the 3rd party site came through.</p>\n<p>Setting spring to None; Secure allows both browsers to function the same. Specifically in regards to the session cookie, which was being lost on Chrome.</p>\n"}],"owner":{"account_id":2783463,"reputation":390,"user_id":2395495,"accept_rate":100,"display_name":"Mimerr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76265249,"answer_count":1,"score":0,"last_activity_date":1684254175,"creation_date":1682460094,"question_id":76105743,"body_markdown":"Apologies for the long read but I really don&#39;t know how to ask for help on this and have exhausted everything else I can think of. So if anyone can give me any clues or paths forward I would be very appreciative. \r\n\r\nWe have a Java Spring backend (Spring Boot 2.4.13 currently.) It started as an MVC project so we have some controllers that return ModelAndView objects but we&#39;re moving to a fully rest API situation with a vue frontend.\r\n\r\nThe situation is, we have a 3rd party vendor (LS) that we are trying to integrate with our system. LS has a Single Sign On (SSO) process for logins. The exchange is pretty simple, on their site there is an SSO button the user clicks. They send us a POST request with a string token at a URL we provide. Then they expect us to send a form over POST back to a URL they provide. And now the user will be logged into LS with the information we send over with the form.\r\n\r\nOur solution was to create an endpoint at /sso that accepts a POST request (the URL we provide them.) This endpoint is relatively simple, it stores their token in a session variable and directs the user with ModelAndView to a jsp where the form is auto filled and auto submitted to do the POST back and log the user into LS. There is a separate GET endpoint we use to get the user data to auto fill the form.\r\n\r\nIf the user is not logged into our system yet, they get directed to our login page and have to go through the process all over again.\r\n\r\nSo, this all works perfectly fine. If the user is using Firefox browser. You can log in and out of LS using the SSO button over and over or even let your session completely expire, login on our site and then go do the SSO button on LS and it will log you in fine every time as far as I can tell.\r\n\r\nHowever, on Chrome (and Edge and presumably any chromium browser) it works fine at first. You can log in with the SSO button as expected. You can even logout and back in some before the issue occurs. Or you can just wait a few minutes. But it consistently happens after a few minutes. Clicking the SSO button after those first few minutes instead will send the POST request and our server will respond with a 302 and direct the user to our home page (still logged in.) This happens every time after that until browser cache is cleared.\r\n\r\nThe POST request from LS has no-cache, no-store, max-age=0, must-revalidate as its cache-control header. I have tried adding this to the response of our POST controller method as well. Thinking it has to be some kind of weird Chrome browser cache issue. None of that helped.\r\n\r\nAfter doing some more tests I realized when the 302 starts, the call never actually makes it into our controller endpoint. Nothing in there gets triggered at all. I also tried making a servlet filter that just logs the status codes of every call coming into our server and I never see a 302 occur.\r\n\r\nWe don&#39;t have any kind of manually created 302 responses in our entire project either.\r\n\r\nThe location in the 302 response header has an extension to the login URL that is errorKey=rs.home.loginRequired. I tracked this down to a bean in our web security configuration. It is our LoginUrlAuthenticationEntryPoint. So I&#39;m guessing Chrome for some reason makes our server think the user is not logged in, but they are. It just ends up on our home page.\r\n\r\nI&#39;m at a complete loss here. The fact that it works on Firefox but not on Chrome AND it works on Chrome at first but doesn&#39;t after a while, makes me think it is some kind of cache issue specific to the browser but I tried all the cache related things I could think of... and since it seems like our server is sending the user to the home page under the 302&#39;s location of a login required redirect makes me wonder if there is some session saving problem, but since the user is still logged in, it doesn&#39;t seem to be a problem there either.\r\n\r\nAny ideas, even if just to point me at a new path to start down would be greatly appreciated!\r\n\r\n","title":"Spring Boot endpoint gets interupted with 302 unexpectedly after multiple requests on Chrome","body":"<p>Apologies for the long read but I really don't know how to ask for help on this and have exhausted everything else I can think of. So if anyone can give me any clues or paths forward I would be very appreciative.</p>\n<p>We have a Java Spring backend (Spring Boot 2.4.13 currently.) It started as an MVC project so we have some controllers that return ModelAndView objects but we're moving to a fully rest API situation with a vue frontend.</p>\n<p>The situation is, we have a 3rd party vendor (LS) that we are trying to integrate with our system. LS has a Single Sign On (SSO) process for logins. The exchange is pretty simple, on their site there is an SSO button the user clicks. They send us a POST request with a string token at a URL we provide. Then they expect us to send a form over POST back to a URL they provide. And now the user will be logged into LS with the information we send over with the form.</p>\n<p>Our solution was to create an endpoint at /sso that accepts a POST request (the URL we provide them.) This endpoint is relatively simple, it stores their token in a session variable and directs the user with ModelAndView to a jsp where the form is auto filled and auto submitted to do the POST back and log the user into LS. There is a separate GET endpoint we use to get the user data to auto fill the form.</p>\n<p>If the user is not logged into our system yet, they get directed to our login page and have to go through the process all over again.</p>\n<p>So, this all works perfectly fine. If the user is using Firefox browser. You can log in and out of LS using the SSO button over and over or even let your session completely expire, login on our site and then go do the SSO button on LS and it will log you in fine every time as far as I can tell.</p>\n<p>However, on Chrome (and Edge and presumably any chromium browser) it works fine at first. You can log in with the SSO button as expected. You can even logout and back in some before the issue occurs. Or you can just wait a few minutes. But it consistently happens after a few minutes. Clicking the SSO button after those first few minutes instead will send the POST request and our server will respond with a 302 and direct the user to our home page (still logged in.) This happens every time after that until browser cache is cleared.</p>\n<p>The POST request from LS has no-cache, no-store, max-age=0, must-revalidate as its cache-control header. I have tried adding this to the response of our POST controller method as well. Thinking it has to be some kind of weird Chrome browser cache issue. None of that helped.</p>\n<p>After doing some more tests I realized when the 302 starts, the call never actually makes it into our controller endpoint. Nothing in there gets triggered at all. I also tried making a servlet filter that just logs the status codes of every call coming into our server and I never see a 302 occur.</p>\n<p>We don't have any kind of manually created 302 responses in our entire project either.</p>\n<p>The location in the 302 response header has an extension to the login URL that is errorKey=rs.home.loginRequired. I tracked this down to a bean in our web security configuration. It is our LoginUrlAuthenticationEntryPoint. So I'm guessing Chrome for some reason makes our server think the user is not logged in, but they are. It just ends up on our home page.</p>\n<p>I'm at a complete loss here. The fact that it works on Firefox but not on Chrome AND it works on Chrome at first but doesn't after a while, makes me think it is some kind of cache issue specific to the browser but I tried all the cache related things I could think of... and since it seems like our server is sending the user to the home page under the 302's location of a login required redirect makes me wonder if there is some session saving problem, but since the user is still logged in, it doesn't seem to be a problem there either.</p>\n<p>Any ideas, even if just to point me at a new path to start down would be greatly appreciated!</p>\n"},{"tags":["java","spring","security","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684258651,"post_id":76265087,"comment_id":134491130,"body_markdown":"Yes you can, should you probably not as it is insecure as ****.","body":"Yes you can, should you probably not as it is insecure as ****."}],"owner":{"account_id":27453363,"reputation":21,"user_id":20945210,"display_name":"Igor Bukur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684253599,"creation_date":1684253111,"question_id":76265087,"body_markdown":"In spring security for manage urls and authorities used SecuirtyFilterChain. How to manage autority linked with url from request. Something like: request: localhost:8080/authority/1(this is id authority in db)?method=Post?url=/producst/add\r\nto generate in SecurityFilterChain somethins like this:\r\n.requestMatchers(HttpMethod.POST, &quot;/producst/add&quot;).hasAuthority(&quot;ADMIN&quot;)\r\n\r\nMaybe need to make custom SecurityFilterChain?\r\n\r\nSomeone know it&#39;s possible to make? Becouse i don&#39;t know for what make autorities saved in db if you can&#39;t manage out of app this new authorities to link in app.\r\n\r\nDon&#39;t know how to normal make my question for google search.\r\n","title":"Spring Security, how to manage SpringSecurityChain from url request?","body":"<p>In spring security for manage urls and authorities used SecuirtyFilterChain. How to manage autority linked with url from request. Something like: request: localhost:8080/authority/1(this is id authority in db)?method=Post?url=/producst/add\nto generate in SecurityFilterChain somethins like this:\n.requestMatchers(HttpMethod.POST, &quot;/producst/add&quot;).hasAuthority(&quot;ADMIN&quot;)</p>\n<p>Maybe need to make custom SecurityFilterChain?</p>\n<p>Someone know it's possible to make? Becouse i don't know for what make autorities saved in db if you can't manage out of app this new authorities to link in app.</p>\n<p>Don't know how to normal make my question for google search.</p>\n"},{"tags":["java","macos","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1684174413,"post_id":76256907,"comment_id":134475702,"body_markdown":"show the content of `maven.config` file here?","body":"show the content of <code>maven.config</code> file here?"},{"owner":{"account_id":11628650,"reputation":463,"user_id":9184839,"accept_rate":77,"display_name":"Aravind S"},"score":0,"creation_date":1684174894,"post_id":76256907,"comment_id":134475790,"body_markdown":"Added just now.","body":"Added just now."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684175193,"post_id":76256907,"comment_id":134475851,"body_markdown":"Use [code format](https://stackoverflow.com/editing-help#code) for logs, not quote format. Quote is for human text, not logs and other pre formatted text. Quote breaks the existing format of the log, makes it very hard to read and gets in the way of trying to copy text for investigation.","body":"Use <a href=\"https://stackoverflow.com/editing-help#code\">code format</a> for logs, not quote format. Quote is for human text, not logs and other pre formatted text. Quote breaks the existing format of the log, makes it very hard to read and gets in the way of trying to copy text for investigation."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1684175918,"post_id":76256907,"comment_id":134476002,"body_markdown":"That&#39;s not the content of the `maven.config` file... Why using `env.JAVA_HOME` in your toolchains.xml file that does not make sense.. it&#39;s easier to use only `JAVA_HOME` via `sdkmain.io` or alike instead of indirecting via toolchains.xml ...?","body":"That&#39;s not the content of the <code>maven.config</code> file... Why using <code>env.JAVA_HOME</code> in your toolchains.xml file that does not make sense.. it&#39;s easier to use only <code>JAVA_HOME</code> via <code>sdkmain.io</code> or alike instead of indirecting via toolchains.xml ...?"},{"owner":{"account_id":11628650,"reputation":463,"user_id":9184839,"accept_rate":77,"display_name":"Aravind S"},"score":0,"creation_date":1684177254,"post_id":76256907,"comment_id":134476265,"body_markdown":"I am not sure. I am still trying to get the entire picture here. I have never come across the file like toolchains.xml so far. Is it okay if I gave the actual Java path itself?","body":"I am not sure. I am still trying to get the entire picture here. I have never come across the file like toolchains.xml so far. Is it okay if I gave the actual Java path itself?"}],"answers":[{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684253402,"creation_date":1684253402,"answer_id":76265146,"question_id":76256907,"body_markdown":"From https://maven.apache.org/docs/3.9.2/release-notes.html\r\n\r\nStarting from Maven 3.9.x - Each line in `.mvn/maven.config` is now interpreted as a single argument.\r\n\r\nSo your `.mvn/maven.config` should be like:\r\n\r\n\r\n```\r\n-am\r\n-gt\r\ntoolchains.xml\r\n```","title":"Maven : Unable to parse maven.config file options: Unrecognized option: -am -gt toolchains.xml","body":"<p>From <a href=\"https://maven.apache.org/docs/3.9.2/release-notes.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/docs/3.9.2/release-notes.html</a></p>\n<p>Starting from Maven 3.9.x - Each line in <code>.mvn/maven.config</code> is now interpreted as a single argument.</p>\n<p>So your <code>.mvn/maven.config</code> should be like:</p>\n<pre><code>-am\n-gt\ntoolchains.xml\n</code></pre>\n"}],"owner":{"account_id":11628650,"reputation":463,"user_id":9184839,"accept_rate":77,"display_name":"Aravind S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":822,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684253402,"creation_date":1684174333,"question_id":76256907,"body_markdown":"I have been trying to execute basic Maven command after importing project into intellij on Mac.\r\nI am not trying to run the project. When I try to run the command : mvn --version I get this message with a huge list of options. Not sure, what is causing this behaviour. \r\n\r\n    aravind.s@A2141-TI13169-B recopp % mvn --version\r\n    Unable to parse maven.config file options: Unrecognized option: -am -gt toolchains.xml\r\n\r\n    usage: mvn [options] [&lt;goal(s)&gt;] [&lt;phase(s)&gt;]\r\n\r\nContents of the maven config file just contains this : \r\n\r\n-am -gt toolchains.xml\r\n\r\nAnd toolchains.xml contains this : \r\n\r\n    &lt;toolchains&gt;\r\n        &lt;toolchain&gt;\r\n            &lt;type&gt;jdk&lt;/type&gt;\r\n            &lt;provides&gt;\r\n                &lt;version&gt;1.8&lt;/version&gt;\r\n            &lt;/provides&gt;\r\n            &lt;configuration&gt;\r\n                &lt;!-- set the env JAVA_HOME to jdk8 before mvn package  --&gt;\r\n                &lt;jdkHome&gt;${env.JAVA_HOME}&lt;/jdkHome&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/toolchain&gt;\r\n        &lt;toolchain&gt;\r\n            &lt;type&gt;jdk&lt;/type&gt;\r\n            &lt;provides&gt;\r\n                &lt;version&gt;11&lt;/version&gt;\r\n            &lt;/provides&gt;\r\n            &lt;configuration&gt;\r\n                &lt;!-- set the env JAVA_HOME to jdk11 before mvn package  --&gt;\r\n                &lt;jdkHome&gt;${env.JAVA_HOME}&lt;/jdkHome&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/toolchain&gt;\r\n    &lt;/toolchains&gt;\r\n\r\n\r\nand java version is 1.8.\r\n    \r\nWill be glad to receive any inputs regarding this. Thanks in advance.\r\n","title":"Maven : Unable to parse maven.config file options: Unrecognized option: -am -gt toolchains.xml","body":"<p>I have been trying to execute basic Maven command after importing project into intellij on Mac.\nI am not trying to run the project. When I try to run the command : mvn --version I get this message with a huge list of options. Not sure, what is causing this behaviour.</p>\n<pre><code>aravind.s@A2141-TI13169-B recopp % mvn --version\nUnable to parse maven.config file options: Unrecognized option: -am -gt toolchains.xml\n\nusage: mvn [options] [&lt;goal(s)&gt;] [&lt;phase(s)&gt;]\n</code></pre>\n<p>Contents of the maven config file just contains this :</p>\n<p>-am -gt toolchains.xml</p>\n<p>And toolchains.xml contains this :</p>\n<pre><code>&lt;toolchains&gt;\n    &lt;toolchain&gt;\n        &lt;type&gt;jdk&lt;/type&gt;\n        &lt;provides&gt;\n            &lt;version&gt;1.8&lt;/version&gt;\n        &lt;/provides&gt;\n        &lt;configuration&gt;\n            &lt;!-- set the env JAVA_HOME to jdk8 before mvn package  --&gt;\n            &lt;jdkHome&gt;${env.JAVA_HOME}&lt;/jdkHome&gt;\n        &lt;/configuration&gt;\n    &lt;/toolchain&gt;\n    &lt;toolchain&gt;\n        &lt;type&gt;jdk&lt;/type&gt;\n        &lt;provides&gt;\n            &lt;version&gt;11&lt;/version&gt;\n        &lt;/provides&gt;\n        &lt;configuration&gt;\n            &lt;!-- set the env JAVA_HOME to jdk11 before mvn package  --&gt;\n            &lt;jdkHome&gt;${env.JAVA_HOME}&lt;/jdkHome&gt;\n        &lt;/configuration&gt;\n    &lt;/toolchain&gt;\n&lt;/toolchains&gt;\n</code></pre>\n<p>and java version is 1.8.</p>\n<p>Will be glad to receive any inputs regarding this. Thanks in advance.</p>\n"},{"tags":["java","maven","visual-studio-code","javafx","jar"],"answers":[{"comments":[{"owner":{"account_id":7409253,"reputation":435,"user_id":5637176,"display_name":"Giorgos Kavalieratos"},"score":0,"creation_date":1654720701,"post_id":72551908,"comment_id":128162151,"body_markdown":"you&#39;re right and I feel stupid... too may hours.. thanks","body":"you&#39;re right and I feel stupid... too may hours.. thanks"}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1654721902,"creation_date":1654720468,"answer_id":72551908,"question_id":72551590,"body_markdown":"You are adding the module path of the jdk, not the JavaFX sdk.  \r\n\r\nDownload the JavaFX sdk or modules from openjfx.io and place the lib directory from that on your module path instead of the jdk (which is there automatically). \r\n\r\nOr use a distribution like liberica “full jdk” that includes JavaFX modules.","title":"Module javafx.controls not found error in VS Code","body":"<p>You are adding the module path of the jdk, not the JavaFX sdk.</p>\n<p>Download the JavaFX sdk or modules from openjfx.io and place the lib directory from that on your module path instead of the jdk (which is there automatically).</p>\n<p>Or use a distribution like liberica “full jdk” that includes JavaFX modules.</p>\n"}],"owner":{"account_id":7409253,"reputation":435,"user_id":5637176,"display_name":"Giorgos Kavalieratos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72551908,"answer_count":1,"score":1,"last_activity_date":1684253332,"creation_date":1654718682,"question_id":72551590,"body_markdown":"I have spent half a day trying to find a working solution for this, but either I&#39;m doing everything wrong, or nothing is working for me. I&#39;m new to Java and JavaFX specifically.\r\n\r\nI&#39;m using VSCode on Windows, and having installed the &quot;Extension Pack for Java&quot; and &quot;Maven for Java&quot; extensions, I created a project using JAVAFX archetype as a build method.\r\n\r\nA sample project is generated and I run it without problems, even without adding a &quot;launch.json&quot; with &quot;VMargs&quot; etc.\r\n\r\nMy problem is when I run `mvn package` to make a jar file. \r\n\r\nTrying to run the jar file like any other file does nothing. \r\nThen I tried to add the path for the JavaFX sdk and the modules by running:\r\n\r\n    java --module-path &#39;C:\\Program Files\\Eclipse Adoptium\\jdk-11.0.15.10-hotspot\\lib&#39; --add-modules=javafx.controls,javafx.fxml -jar .\\test.jar\r\nthat gives me the error:\r\n&gt;Error occurred during initialization of boot layer\\\r\n&gt;java.lang.module.FindException: Module javafx.controls not found\r\n\r\nI didn&#39;t put any code because I didn&#39;t change anything from the auto-generated code from VSCode. If you want it, I can paste it though.\r\n\r\nAny help is appreciated. Thanks","title":"Module javafx.controls not found error in VS Code","body":"<p>I have spent half a day trying to find a working solution for this, but either I'm doing everything wrong, or nothing is working for me. I'm new to Java and JavaFX specifically.</p>\n<p>I'm using VSCode on Windows, and having installed the &quot;Extension Pack for Java&quot; and &quot;Maven for Java&quot; extensions, I created a project using JAVAFX archetype as a build method.</p>\n<p>A sample project is generated and I run it without problems, even without adding a &quot;launch.json&quot; with &quot;VMargs&quot; etc.</p>\n<p>My problem is when I run <code>mvn package</code> to make a jar file.</p>\n<p>Trying to run the jar file like any other file does nothing.\nThen I tried to add the path for the JavaFX sdk and the modules by running:</p>\n<pre><code>java --module-path 'C:\\Program Files\\Eclipse Adoptium\\jdk-11.0.15.10-hotspot\\lib' --add-modules=javafx.controls,javafx.fxml -jar .\\test.jar\n</code></pre>\n<p>that gives me the error:</p>\n<blockquote>\n<p>Error occurred during initialization of boot layer<br />\njava.lang.module.FindException: Module javafx.controls not found</p>\n</blockquote>\n<p>I didn't put any code because I didn't change anything from the auto-generated code from VSCode. If you want it, I can paste it though.</p>\n<p>Any help is appreciated. Thanks</p>\n"},{"tags":["java","logic","system"],"owner":{"account_id":28613907,"reputation":1,"user_id":21908339,"display_name":"Oumar B Bengaly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684253277,"creation_date":1684253277,"question_id":76265111,"body_markdown":"I have recently encountered a problem while implementing a learning system where I need to determine the activity of different courses based on student submissions. I have written code to calculate this, but I am getting incorrect results that do not meet the specific requirements of the task.\r\n\r\nHere&#39;s an overview of the situation :\r\n\r\n```\r\nI have a list of course names: [&quot;RIP&quot;, &quot;Java&quot;, &quot;AppMob&quot;, &quot;BDD&quot;]\r\nI have a list of students with their grades for each course:\r\nstudents = [\r\n{id: 1, points: [8, 7, 7, 5]},\r\n{id: 1, points: [7, 6, 9, 7]},\r\n{id: 1, points: [6, 5, 5, 0]},\r\n{id: 2, points: [8, 0, 8, 6]},\r\n{id: 2, points: [7, 0, 0, 0]},\r\n{id: 2, points: [9, 0, 0, 5]}\r\n]\r\n```\r\n\r\n\r\nAccording to the task, the activity of a course is determined by the number of non-zero submissions from students. I need to find the course with the highest level of activity and the course with the lowest level of activity.\r\n\r\nHowever, the code I have written so far does not seem to meet these requirements. It returns incorrect results where multiple courses are included in both the &quot;highest activity&quot; and &quot;lowest activity&quot; category. For example, the course &quot;RIP&quot; is listed as having both high activity and low activity.\r\n\r\nHere&#39;s the code I used to calculate the course activity:\r\n   \r\n```\r\n public static class Activity {\r\n        public static String getHighestActivityCourse() {\r\n            int[] courseSubmissions = new int[courseNames.length];\r\n            int highestSubmissions = 0;\r\n\r\n            for (Etudiant etudiant : students) {\r\n                int[] points = etudiant.getPoints();\r\n                for (int i = 0; i &lt; points.length; i++) {\r\n                    if (points[i] &gt; 0) {\r\n                        courseSubmissions[i]++;\r\n                        if (courseSubmissions[i] &gt; highestSubmissions) {\r\n                            highestSubmissions = courseSubmissions[i];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            List&lt;String&gt; highestActivityCourses = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; courseSubmissions.length; i++) {\r\n                if (courseSubmissions[i] == highestSubmissions) {\r\n                    highestActivityCourses.add(courseNames[i]);\r\n                }\r\n            }\r\n\r\n            if (highestActivityCourses.isEmpty()) {\r\n                return &quot;n/a&quot;;\r\n            } else {\r\n                return String.join(&quot;, &quot;, highestActivityCourses);\r\n            }\r\n        }\r\n\r\n        public static String getLowestActivityCourse() {\r\n            String highestActivityCourses = getHighestActivityCourse();\r\n            List&lt;String&gt; lowestActivityCourses = new ArrayList&lt;&gt;();\r\n\r\n            if (highestActivityCourses.equals(&quot;n/a&quot;)) {\r\n                return &quot;n/a&quot;;\r\n            }\r\n\r\n            Set&lt;String&gt; highestActivityCourseSet = new HashSet&lt;&gt;(Arrays.asList(highestActivityCourses.split(&quot;, &quot;)));\r\n\r\n            for (String courseName : courseNames) {\r\n                if (!highestActivityCourseSet.contains(courseName)) {\r\n                    lowestActivityCourses.add(courseName);\r\n                }\r\n            }\r\n\r\n            if (lowestActivityCourses.isEmpty()) {\r\n                return &quot;n/a&quot;;\r\n            }\r\n\r\n            return String.join(&quot;, &quot;, lowestActivityCourses);\r\n        }\r\n    }\r\n\r\n```\r\nI am aware that there is a problem in my calculation logic, but I am unable to resolve it correctly. I believe it has to do with how I count the student submissions and determine the highest level of activity.\r\n\r\nI would like to ask for your assistance in understanding this issue and finding a proper solution. If you have any suggestions or modifications to improve my code, I am open to all ideas.\r\n\r\nThank you in advance for your valuable help!\r\n\r\nBest regards\r\n\r\n\r\nI tried implementing a code to calculate the activity of courses based on student submissions. I expected the code to correctly determine the course with the highest activity level and the course with the lowest activity level, considering the number of non-zero submissions for each course.\r\n\r\nHowever, the results I obtained were not as expected. The code returned incorrect outcomes where multiple courses were listed in both the &quot;highest activity&quot; and &quot;lowest activity&quot; categories. This contradicts the requirements, as each course should only be included in one category.\r\n\r\nI attempted to modify the logic for calculating activity by considering the number of non-zero submissions for each course. Unfortunately, my attempts did not yield the desired results.\r\n\r\nI am now seeking guidance and assistance from the community to understand the issue and find a suitable solution.\r\n","title":"Issue with Calculating Course Activity in a Learning System","body":"<p>I have recently encountered a problem while implementing a learning system where I need to determine the activity of different courses based on student submissions. I have written code to calculate this, but I am getting incorrect results that do not meet the specific requirements of the task.</p>\n<p>Here's an overview of the situation :</p>\n<pre><code>I have a list of course names: [&quot;RIP&quot;, &quot;Java&quot;, &quot;AppMob&quot;, &quot;BDD&quot;]\nI have a list of students with their grades for each course:\nstudents = [\n{id: 1, points: [8, 7, 7, 5]},\n{id: 1, points: [7, 6, 9, 7]},\n{id: 1, points: [6, 5, 5, 0]},\n{id: 2, points: [8, 0, 8, 6]},\n{id: 2, points: [7, 0, 0, 0]},\n{id: 2, points: [9, 0, 0, 5]}\n]\n</code></pre>\n<p>According to the task, the activity of a course is determined by the number of non-zero submissions from students. I need to find the course with the highest level of activity and the course with the lowest level of activity.</p>\n<p>However, the code I have written so far does not seem to meet these requirements. It returns incorrect results where multiple courses are included in both the &quot;highest activity&quot; and &quot;lowest activity&quot; category. For example, the course &quot;RIP&quot; is listed as having both high activity and low activity.</p>\n<p>Here's the code I used to calculate the course activity:</p>\n<pre><code> public static class Activity {\n        public static String getHighestActivityCourse() {\n            int[] courseSubmissions = new int[courseNames.length];\n            int highestSubmissions = 0;\n\n            for (Etudiant etudiant : students) {\n                int[] points = etudiant.getPoints();\n                for (int i = 0; i &lt; points.length; i++) {\n                    if (points[i] &gt; 0) {\n                        courseSubmissions[i]++;\n                        if (courseSubmissions[i] &gt; highestSubmissions) {\n                            highestSubmissions = courseSubmissions[i];\n                        }\n                    }\n                }\n            }\n\n            List&lt;String&gt; highestActivityCourses = new ArrayList&lt;&gt;();\n            for (int i = 0; i &lt; courseSubmissions.length; i++) {\n                if (courseSubmissions[i] == highestSubmissions) {\n                    highestActivityCourses.add(courseNames[i]);\n                }\n            }\n\n            if (highestActivityCourses.isEmpty()) {\n                return &quot;n/a&quot;;\n            } else {\n                return String.join(&quot;, &quot;, highestActivityCourses);\n            }\n        }\n\n        public static String getLowestActivityCourse() {\n            String highestActivityCourses = getHighestActivityCourse();\n            List&lt;String&gt; lowestActivityCourses = new ArrayList&lt;&gt;();\n\n            if (highestActivityCourses.equals(&quot;n/a&quot;)) {\n                return &quot;n/a&quot;;\n            }\n\n            Set&lt;String&gt; highestActivityCourseSet = new HashSet&lt;&gt;(Arrays.asList(highestActivityCourses.split(&quot;, &quot;)));\n\n            for (String courseName : courseNames) {\n                if (!highestActivityCourseSet.contains(courseName)) {\n                    lowestActivityCourses.add(courseName);\n                }\n            }\n\n            if (lowestActivityCourses.isEmpty()) {\n                return &quot;n/a&quot;;\n            }\n\n            return String.join(&quot;, &quot;, lowestActivityCourses);\n        }\n    }\n\n</code></pre>\n<p>I am aware that there is a problem in my calculation logic, but I am unable to resolve it correctly. I believe it has to do with how I count the student submissions and determine the highest level of activity.</p>\n<p>I would like to ask for your assistance in understanding this issue and finding a proper solution. If you have any suggestions or modifications to improve my code, I am open to all ideas.</p>\n<p>Thank you in advance for your valuable help!</p>\n<p>Best regards</p>\n<p>I tried implementing a code to calculate the activity of courses based on student submissions. I expected the code to correctly determine the course with the highest activity level and the course with the lowest activity level, considering the number of non-zero submissions for each course.</p>\n<p>However, the results I obtained were not as expected. The code returned incorrect outcomes where multiple courses were listed in both the &quot;highest activity&quot; and &quot;lowest activity&quot; categories. This contradicts the requirements, as each course should only be included in one category.</p>\n<p>I attempted to modify the logic for calculating activity by considering the number of non-zero submissions for each course. Unfortunately, my attempts did not yield the desired results.</p>\n<p>I am now seeking guidance and assistance from the community to understand the issue and find a suitable solution.</p>\n"},{"tags":["java","node.js","http","sockets","server"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1645984056,"post_id":71285989,"comment_id":126007134,"body_markdown":"The `http` module, as one might be able to guess from its name, implements HTTP: when it receives a request _in HTTP format_, it processes the request by passing to code (in your case using `express`) which generates a response _in HTTP format_. Your Java code is not sending an HTTP request. See [wikipedia](https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol).","body":"The <code>http</code> module, as one might be able to guess from its name, implements HTTP: when it receives a request <i>in HTTP format</i>, it processes the request by passing to code (in your case using <code>express</code>) which generates a response <i>in HTTP format</i>. Your Java code is not sending an HTTP request. See <a href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\" rel=\"nofollow noreferrer\">wikipedia</a>."}],"owner":{"account_id":14989006,"reputation":175,"user_id":10820760,"display_name":"ludicrous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684253186,"creation_date":1645975260,"question_id":71285989,"body_markdown":"I&#39;m trying to connect to my server (which runs `nodejs` with `sockets.io`) from my Java client. I want it to detect whenever the client reaches the server and print something to the console.\r\n\r\nAfter the connection is successful, 2nd step would be to the client to be able to send a string to the server via sockets. \r\n\r\nI run the JAVA code but the server is not detecting the client connection and I don&#39;t understand why is that happening and I can&#39;t find good resources for sockets communication with nodejs.\r\n\r\nserver-side code:\r\n\r\n    var app = require(&#39;express&#39;)();\r\n    var server = require(&#39;http&#39;).Server(app);\r\n    var io = require(&#39;socket.io&#39;)(server);\r\n    \r\n    server.listen(65432, () =&gt; {\r\n            console.log(&#39;listening on *:65432&#39;);\r\n    });\r\n    \r\n    app.get(&#39;/&#39;, function(req, res) {\r\n            res.send(&#39;connection successfull&#39;);\r\n    });\r\n    \r\n    \r\n    io.on(&#39;connection&#39;, function(socket) {\r\n            socket.on(&#39;send coordinates&#39;, function(data){\r\n                    console.log(&#39;a user connected&#39;);\r\n            });\r\n    });\r\n    \r\n    console.log(&#39;listening to port&#39;);\r\n\r\n\r\nClient side code:\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Socket socket = null;\r\n        OutputStreamWriter osw;\r\n        String str = &quot;Hello World&quot;;\r\n        try {\r\n            socket = new Socket(**[serverIP]**, 65432);\r\n            osw =new OutputStreamWriter(socket.getOutputStream(), &quot;UTF-8&quot;);\r\n            osw.write(str, 0, str.length());\r\n        } catch (IOException e) {\r\n            System.err.print(e);\r\n        } finally {\r\n            try {\r\n                socket.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n","title":"Connect node.js and java through sockets","body":"<p>I'm trying to connect to my server (which runs <code>nodejs</code> with <code>sockets.io</code>) from my Java client. I want it to detect whenever the client reaches the server and print something to the console.</p>\n<p>After the connection is successful, 2nd step would be to the client to be able to send a string to the server via sockets.</p>\n<p>I run the JAVA code but the server is not detecting the client connection and I don't understand why is that happening and I can't find good resources for sockets communication with nodejs.</p>\n<p>server-side code:</p>\n<pre><code>var app = require('express')();\nvar server = require('http').Server(app);\nvar io = require('socket.io')(server);\n\nserver.listen(65432, () =&gt; {\n        console.log('listening on *:65432');\n});\n\napp.get('/', function(req, res) {\n        res.send('connection successfull');\n});\n\n\nio.on('connection', function(socket) {\n        socket.on('send coordinates', function(data){\n                console.log('a user connected');\n        });\n});\n\nconsole.log('listening to port');\n</code></pre>\n<p>Client side code:</p>\n<pre><code>public static void main(String[] args) {\n    Socket socket = null;\n    OutputStreamWriter osw;\n    String str = &quot;Hello World&quot;;\n    try {\n        socket = new Socket(**[serverIP]**, 65432);\n        osw =new OutputStreamWriter(socket.getOutputStream(), &quot;UTF-8&quot;);\n        osw.write(str, 0, str.length());\n    } catch (IOException e) {\n        System.err.print(e);\n    } finally {\n        try {\n            socket.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hadoop","google-cloud-dataflow","apache-beam","parquet"],"owner":{"account_id":1189646,"reputation":1123,"user_id":1162792,"accept_rate":56,"display_name":"Rodrigo.C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684252959,"creation_date":1684252959,"question_id":76265072,"body_markdown":"I&#39;m trying to extend Google&#39;s Dataflow template to move data from BQ to parquet files on Cloud Storage, and I&#39;m blocked trying to control parquet file sizes.\r\nhttps://cloud.google.com/dataflow/docs/guides/templates/provided/bigquery-to-parquet\r\n\r\nI&#39;m running the pipeline locally using Direct runner, and it works fine but I&#39;m not able to control the size of the parquet files. The main target is to ensure a file size of 1GB that is the recommended size.\r\n\r\nSome facts and tests I did:\r\n\r\n- I can control the number of shards using .withNumShards(xxx) that impact directly on the amount of files generated in the output folder, because this is related to the parallelism in the pipeline, if I set 1 shard I have only 1 file with all the data, if I set 5 shards I get 5 parquet files, and if I use the default the amount of parquet files will depend on how many shards are assigned to the pipeline.\r\n\r\n- There&#39;s a .withRowGroupSize() configuration but it&#39;s only to modify how data is stored in the parquet file, it doesn&#39;t impact on the final size directly.\r\n\r\n- I found a FixedWindows configuration, but it&#39;s a time-based configuration, so it&#39;s not deterministic for the file size.\r\n\r\n- I also was trying to use the page size configuration, but it&#39;s not directly available in the version I&#39;m using (Apache beam 2.46.0, including all the sdk and runners dependencies)\r\n\r\nI&#39;m running out of ideas, and couldn&#39;t find information related to this issue.  So I would like to understand if this is a common practice considering there&#39;s a recommended file size for Parquet, and if someone can provide more info about how to achieve this.\r\n\r\nA short version of the code (not completed, but it&#39;s basically based on the template mentioned above)\r\n```\r\n        TypedRead&lt;GenericRecord&gt; readFromBQ =\r\n            BigQueryIO.read(SchemaAndRecord::getRecord)\r\n                .from(options.getTableRef())\r\n                .withTemplateCompatibility()\r\n                .withMethod(Method.DIRECT_READ)\r\n                .withCoder(AvroCoder.of(schema));\r\n\r\n        /*\r\n         * Steps: 1) Read records from BigQuery via BigQueryIO.\r\n         *        2) Write records to Google Cloud Storage in Parquet format.\r\n         */\r\n        pipeline\r\n            /*\r\n             * Step 1: Read records via BigQueryIO using supplied schema as a PCollection of\r\n             *         {@link GenericRecord}.\r\n             */\r\n            .apply(&quot;ReadFromBigQuery&quot;, readFromBQ)\r\n            /*\r\n             * Step 2: Write records to Google Cloud Storage as one or more Parquet files\r\n             *         via {@link ParquetIO}.\r\n             */\r\n            .apply(\r\n                &quot;WriteToParquet&quot;,\r\n                FileIO.&lt;GenericRecord&gt;write()\r\n                    .via(\r\n                        ParquetIO.sink(schema))\r\n                    .to(&quot;/my/path/to/local/bucket&quot;)\r\n//                    .withNumShards(1)\r\n                    .withSuffix(FILE_SUFFIX));\r\n\r\n        // Execute the pipeline and return the result.\r\n        return pipeline.run();\r\n```\r\n\r\nThanks","title":"Specify parquet file size when using Apache Beam","body":"<p>I'm trying to extend Google's Dataflow template to move data from BQ to parquet files on Cloud Storage, and I'm blocked trying to control parquet file sizes.\n<a href=\"https://cloud.google.com/dataflow/docs/guides/templates/provided/bigquery-to-parquet\" rel=\"nofollow noreferrer\">https://cloud.google.com/dataflow/docs/guides/templates/provided/bigquery-to-parquet</a></p>\n<p>I'm running the pipeline locally using Direct runner, and it works fine but I'm not able to control the size of the parquet files. The main target is to ensure a file size of 1GB that is the recommended size.</p>\n<p>Some facts and tests I did:</p>\n<ul>\n<li><p>I can control the number of shards using .withNumShards(xxx) that impact directly on the amount of files generated in the output folder, because this is related to the parallelism in the pipeline, if I set 1 shard I have only 1 file with all the data, if I set 5 shards I get 5 parquet files, and if I use the default the amount of parquet files will depend on how many shards are assigned to the pipeline.</p>\n</li>\n<li><p>There's a .withRowGroupSize() configuration but it's only to modify how data is stored in the parquet file, it doesn't impact on the final size directly.</p>\n</li>\n<li><p>I found a FixedWindows configuration, but it's a time-based configuration, so it's not deterministic for the file size.</p>\n</li>\n<li><p>I also was trying to use the page size configuration, but it's not directly available in the version I'm using (Apache beam 2.46.0, including all the sdk and runners dependencies)</p>\n</li>\n</ul>\n<p>I'm running out of ideas, and couldn't find information related to this issue.  So I would like to understand if this is a common practice considering there's a recommended file size for Parquet, and if someone can provide more info about how to achieve this.</p>\n<p>A short version of the code (not completed, but it's basically based on the template mentioned above)</p>\n<pre><code>        TypedRead&lt;GenericRecord&gt; readFromBQ =\n            BigQueryIO.read(SchemaAndRecord::getRecord)\n                .from(options.getTableRef())\n                .withTemplateCompatibility()\n                .withMethod(Method.DIRECT_READ)\n                .withCoder(AvroCoder.of(schema));\n\n        /*\n         * Steps: 1) Read records from BigQuery via BigQueryIO.\n         *        2) Write records to Google Cloud Storage in Parquet format.\n         */\n        pipeline\n            /*\n             * Step 1: Read records via BigQueryIO using supplied schema as a PCollection of\n             *         {@link GenericRecord}.\n             */\n            .apply(&quot;ReadFromBigQuery&quot;, readFromBQ)\n            /*\n             * Step 2: Write records to Google Cloud Storage as one or more Parquet files\n             *         via {@link ParquetIO}.\n             */\n            .apply(\n                &quot;WriteToParquet&quot;,\n                FileIO.&lt;GenericRecord&gt;write()\n                    .via(\n                        ParquetIO.sink(schema))\n                    .to(&quot;/my/path/to/local/bucket&quot;)\n//                    .withNumShards(1)\n                    .withSuffix(FILE_SUFFIX));\n\n        // Execute the pipeline and return the result.\n        return pipeline.run();\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","date-format","json-patch"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1684252252,"post_id":76264929,"comment_id":134489600,"body_markdown":"What is `patch`? What JSON libraries are you using? Please provide a minimal reproducible example as explained in the help center page: http://stackoverflow.com/help/minimal-reproducible-example","body":"What is <code>patch</code>? What JSON libraries are you using? Please provide a minimal reproducible example as explained in the help center page: <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1684252256,"post_id":76264929,"comment_id":134489601,"body_markdown":"Where exactly is the &quot;output&quot; coming from? Is it possible that you&#39;re actually seeing the result of calling `toString()` on a `java.util.Date`? (In which case it&#39;s got nothing to do with the patch.)","body":"Where exactly is the &quot;output&quot; coming from? Is it possible that you&#39;re actually seeing the result of calling <code>toString()</code> on a <code>java.util.Date</code>? (In which case it&#39;s got nothing to do with the patch.)"},{"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"score":0,"creation_date":1684252899,"post_id":76264929,"comment_id":134489787,"body_markdown":"The formatted date i am seeing on patched object.  I can see the formatted date when i am calling toString on that Object.","body":"The formatted date i am seeing on patched object.  I can see the formatted date when i am calling toString on that Object."},{"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"score":0,"creation_date":1684253112,"post_id":76264929,"comment_id":134489844,"body_markdown":"In another way to explain , say i am applying same date on patch like [\n{\n    &quot;op&quot;: &quot;replace&quot;,\n    &quot;path&quot;: &quot;/expirationDate&quot;,\n    &quot;value&quot;: &quot;2022-05-15T02:59:59&quot;\n}\n] So the existing and new object have same value . But if i call \n   existingObject.equals(newpatchedObjt)   should say its same . But in this case because of the Date format difference its saying the objects are not equal.","body":"In another way to explain , say i am applying same date on patch like [ {     &quot;op&quot;: &quot;replace&quot;,     &quot;path&quot;: &quot;/expirationDate&quot;,     &quot;value&quot;: &quot;2022-05-15T02:59:59&quot; } ] So the existing and new object have same value . But if i call     existingObject.equals(newpatchedObjt)   should say its same . But in this case because of the Date format difference its saying the objects are not equal."}],"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684252900,"creation_date":1684251846,"question_id":76264929,"body_markdown":"I am using json patch 1.13 version to apply patch on my json payload .\r\n\r\nThis is the POM Entry using for json patch \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.java-json-tools&lt;/groupId&gt;\r\n      &lt;artifactId&gt;json-patch&lt;/artifactId&gt;\r\n      &lt;version&gt;1.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nThe existing payload have value like \r\n\r\n    {\r\n     &quot;expirationDate&quot;: &quot;2022-05-15T01:59:59&quot;\r\n    }\r\n\r\nI am applying the patch with below patch operation, . This is to update the value with new date . \r\n\r\n    [\r\n    {\r\n        &quot;op&quot;: &quot;replace&quot;,\r\n        &quot;path&quot;: &quot;/expirationDate&quot;,\r\n        &quot;value&quot;: &quot;2023-05-15T02:59:59&quot;\r\n    }\r\n    ]\r\n\r\nBut after applying the patch the new object have differently formatted Date value like \r\n    \r\n    Java code\r\n    JsonNode patched = patch.apply(objectMapper.convertValue(targetCustomer, JsonNode.class));\r\n    return objectMapper.treeToValue(patched, Customer.class);\r\n\r\n    Output\r\n    expirationDate=Mon May 15 01:59:59 EDT 2023\r\n\r\n    Expected Output\r\n    expirationDate: &quot;2023-05-15T01:59:59&quot;\r\n\r\n    Any reason its changing the format or how i can fix this.\r\n\r\n\r\n\r\n","title":"Why json-patch changing the Date format","body":"<p>I am using json patch 1.13 version to apply patch on my json payload .</p>\n<p>This is the POM Entry using for json patch</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.github.java-json-tools&lt;/groupId&gt;\n  &lt;artifactId&gt;json-patch&lt;/artifactId&gt;\n  &lt;version&gt;1.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The existing payload have value like</p>\n<pre><code>{\n &quot;expirationDate&quot;: &quot;2022-05-15T01:59:59&quot;\n}\n</code></pre>\n<p>I am applying the patch with below patch operation, . This is to update the value with new date .</p>\n<pre><code>[\n{\n    &quot;op&quot;: &quot;replace&quot;,\n    &quot;path&quot;: &quot;/expirationDate&quot;,\n    &quot;value&quot;: &quot;2023-05-15T02:59:59&quot;\n}\n]\n</code></pre>\n<p>But after applying the patch the new object have differently formatted Date value like</p>\n<pre><code>Java code\nJsonNode patched = patch.apply(objectMapper.convertValue(targetCustomer, JsonNode.class));\nreturn objectMapper.treeToValue(patched, Customer.class);\n\nOutput\nexpirationDate=Mon May 15 01:59:59 EDT 2023\n\nExpected Output\nexpirationDate: &quot;2023-05-15T01:59:59&quot;\n\nAny reason its changing the format or how i can fix this.\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":17629753,"reputation":89,"user_id":12794090,"display_name":"Martin Kršek"},"score":0,"creation_date":1684251104,"post_id":76264632,"comment_id":134489291,"body_markdown":"Can You try to use org.hibernate.dialect.MySQL8Dialect if You use MySQL8, or other version according with Your MySQL version. \nCan You show us logs? Also, can You add @EnableAutoConfiguration if it is missing in configurations?","body":"Can You try to use org.hibernate.dialect.MySQL8Dialect if You use MySQL8, or other version according with Your MySQL version.  Can You show us logs? Also, can You add @EnableAutoConfiguration if it is missing in configurations?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684251541,"post_id":76264632,"comment_id":134489400,"body_markdown":"Please add this property: spring.jpa.generate-ddl=true","body":"Please add this property: spring.jpa.generate-ddl=true"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684251758,"post_id":76264632,"comment_id":134489472,"body_markdown":"And add packages to be scanned for entities: @EntityScan(basePackages = &quot;com.example.entities&quot;). This is necessary because your main application class is in a different package.","body":"And add packages to be scanned for entities: @EntityScan(basePackages = &quot;com.example.entities&quot;). This is necessary because your main application class is in a different package."},{"owner":{"account_id":23126238,"reputation":63,"user_id":17231999,"display_name":"Sahil Sahu"},"score":0,"creation_date":1684253432,"post_id":76264632,"comment_id":134489922,"body_markdown":"thanks @Mar-Z those suggestions worked","body":"thanks @Mar-Z those suggestions worked"},{"owner":{"account_id":23126238,"reputation":63,"user_id":17231999,"display_name":"Sahil Sahu"},"score":0,"creation_date":1684255036,"post_id":76264632,"comment_id":134490311,"body_markdown":"@Mar-Z could you check this out too? \nhttps://stackoverflow.com/questions/76265356/404-error-for-post-request-using-springboot","body":"@Mar-Z could you check this out too?  <a href=\"https://stackoverflow.com/questions/76265356/404-error-for-post-request-using-springboot\" title=\"404 error for post request using springboot\">stackoverflow.com/questions/76265356/&hellip;</a>"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684256464,"post_id":76264632,"comment_id":134490654,"body_markdown":"You have similar problem with base packages for JPA repositories. Add EnableJPARepositories annotation.","body":"You have similar problem with base packages for JPA repositories. Add EnableJPARepositories annotation."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684256553,"post_id":76264632,"comment_id":134490672,"body_markdown":"It would be easier just to change the package of main class to com.example","body":"It would be easier just to change the package of main class to com.example"}],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684251883,"creation_date":1684251883,"answer_id":76264931,"question_id":76264632,"body_markdown":"As your entity package is different than spring boot main class, you will have to specify the package in `@EntityScan`\r\n\r\n    @EntityScan(&quot;com.example.entities.*&quot;)","title":"@Entity table isn&#39;t getting generate in mysql","body":"<p>As your entity package is different than spring boot main class, you will have to specify the package in <code>@EntityScan</code></p>\n<pre><code>@EntityScan(&quot;com.example.entities.*&quot;)\n</code></pre>\n"}],"owner":{"account_id":23126238,"reputation":63,"user_id":17231999,"display_name":"Sahil Sahu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76264931,"answer_count":1,"score":0,"last_activity_date":1684251883,"creation_date":1684249874,"question_id":76264632,"body_markdown":"After running the project, shouldnt the user table be generated automatically in my database? I am refreshing it after running the server as well, but the user table isn&#39;t showing up in mysql.\r\n\r\napplication.properties\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/BloggingApp\r\nspring.datasource.username=root\r\nspring.datasource.password=\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\r\nspring.jpa.hibernate.ddl-auto = create\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nlogging.level.org.hibernate.SQL=debug\r\nlogging.level.org.hibernate.type.descriptor.sql=trace\r\n```\r\n\r\nUser class\r\n```\r\npackage com.example.entities;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int id;\r\n\r\n    private String name;\r\n    private String email;\r\n    private String password;\r\n    private String about;\r\n}\r\n```\r\nMain\r\n```\r\npackage com.example.blogging.app;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.AutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n\r\n@SpringBootApplication\r\n@EnableConfigurationProperties\r\n@EntityScan\r\npublic class BloggingAppApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(BloggingAppApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nProject structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vwvAu.png","title":"@Entity table isn&#39;t getting generate in mysql","body":"<p>After running the project, shouldnt the user table be generated automatically in my database? I am refreshing it after running the server as well, but the user table isn't showing up in mysql.</p>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/BloggingApp\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\nspring.jpa.hibernate.ddl-auto = create\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nlogging.level.org.hibernate.SQL=debug\nlogging.level.org.hibernate.type.descriptor.sql=trace\n</code></pre>\n<p>User class</p>\n<pre><code>package com.example.entities;\n\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n\n    private String name;\n    private String email;\n    private String password;\n    private String about;\n}\n</code></pre>\n<p>Main</p>\n<pre><code>package com.example.blogging.app;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.AutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\n\n@SpringBootApplication\n@EnableConfigurationProperties\n@EntityScan\npublic class BloggingAppApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BloggingAppApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/vwvAu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vwvAu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","list","hashmap"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1684253558,"post_id":76264844,"comment_id":134489951,"body_markdown":"*that sort a HashMap by a rand number* How do you sort *by* a random number?","body":"<i>that sort a HashMap by a rand number</i> How do you sort <i>by</i> a random number?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1684254993,"post_id":76264844,"comment_id":134490302,"body_markdown":"Rewrite your Question to ask for exactly what you want, with example inputs and outputs.  “a &quot;simple way&quot;” to do *what* exactly?","body":"Rewrite your Question to ask for exactly what you want, with example inputs and outputs.  “a &quot;simple way&quot;” to do <i>what</i> exactly?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684255066,"post_id":76264844,"comment_id":134490321,"body_markdown":"You seem to be working too hard. Learn about `NavigableMap`/`SortedMap` such as `TreeMap`, and in Java 21+, `SequencedMap` ([JEP 431](https://openjdk.org/jeps/431)).","body":"You seem to be working too hard. Learn about <code>NavigableMap</code>/<code>SortedMap</code> such as <code>TreeMap</code>, and in Java 21+, <code>SequencedMap</code> (<a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">JEP 431</a>)."}],"owner":{"account_id":27958469,"reputation":1,"user_id":21350818,"display_name":"servidor ocaloka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684251334,"creation_date":1684251334,"question_id":76264844,"body_markdown":"So I&#39;m new in Java and I have a method that sort a HashMap by a rand number (big to small) and i want to pass the Players from the Hash in a List and use this sorted List to iterate with an order.\r\n\r\nThis is the method that gives a sorted Hash\r\n\r\n```\r\n    private void triarOrdre(PlayerOffline currentPlayer, HashMap&lt;String, Integer&gt; playerDiceMap) {\r\n\r\n        if (currentPlayer.getPrimeraTirada() == 0) {\r\n            currentPlayer.setPrimeraTirada(rollDice());\r\n            playerDiceMap.put(currentPlayer.getName(), rollValue);\r\n            currentPlayer.setaTiratPrimeraTirada(true);\r\n        }\r\n\r\n        List&lt;Map.Entry&lt;String, Integer&gt;&gt; sortedEntries = new ArrayList&lt;&gt;(playerDiceMap.entrySet());\r\n\r\n        Collections.sort(sortedEntries, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;() {\r\n            @Override\r\n            public int compare(Map.Entry&lt;String, Integer&gt; entry1, Map.Entry&lt;String, Integer&gt; entry2) {\r\n                return entry2.getValue().compareTo(entry1.getValue());\r\n            }\r\n        });\r\n\r\n        Log.e(&quot;Sorted Player Dice Map:&quot;, &quot;Player - Dice Value&quot;);\r\n        for (Map.Entry&lt;String, Integer&gt; entry : sortedEntries) {\r\n            String playerName = entry.getKey();\r\n            rollValue = entry.getValue();\r\n            Log.e(&quot;Sorted Player Dice Map:&quot;,currentPlayer.getColor()+&quot; &quot;+ playerName + &quot; - &quot; + rollValue);\r\n        }\r\n\r\n\r\n    }\r\n\r\n```\r\nAnd this is the onClickListener where i want to iterate with the sorted list\r\n\r\n```\r\n        iv_dau.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                PlayerOffline currentPlayer = playersIntent.get(currentPlayerIndex);\r\n\r\n                if (!currentPlayer.isaTiratPrimeraTirada()) {\r\n                    triarOrdre(currentPlayer, playerDiceMap); // Triar ordre\r\n                    currentPlayerIndex = (currentPlayerIndex + 1) % playersIntent.size();\r\n                    return; // Skip moving the piece in the current turn\r\n                }\r\n\r\n                movePiece(currentPlayer); // Move the piece in UI\r\n\r\n\r\n                currentPlayerIndex = (currentPlayerIndex + 1) % playersIntent.size();\r\n            }\r\n        });\r\n```\r\n\r\nHow can i do this in a &quot;simple way&quot;? Im getting so confused and trying no sense things.\r\n\r\nThanks!\r\n\r\nI been trying a bunch of diferents ways to do it and im not seeing how","title":"Retrive the value of sorted array in java and iterate in it","body":"<p>So I'm new in Java and I have a method that sort a HashMap by a rand number (big to small) and i want to pass the Players from the Hash in a List and use this sorted List to iterate with an order.</p>\n<p>This is the method that gives a sorted Hash</p>\n<pre><code>    private void triarOrdre(PlayerOffline currentPlayer, HashMap&lt;String, Integer&gt; playerDiceMap) {\n\n        if (currentPlayer.getPrimeraTirada() == 0) {\n            currentPlayer.setPrimeraTirada(rollDice());\n            playerDiceMap.put(currentPlayer.getName(), rollValue);\n            currentPlayer.setaTiratPrimeraTirada(true);\n        }\n\n        List&lt;Map.Entry&lt;String, Integer&gt;&gt; sortedEntries = new ArrayList&lt;&gt;(playerDiceMap.entrySet());\n\n        Collections.sort(sortedEntries, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;() {\n            @Override\n            public int compare(Map.Entry&lt;String, Integer&gt; entry1, Map.Entry&lt;String, Integer&gt; entry2) {\n                return entry2.getValue().compareTo(entry1.getValue());\n            }\n        });\n\n        Log.e(&quot;Sorted Player Dice Map:&quot;, &quot;Player - Dice Value&quot;);\n        for (Map.Entry&lt;String, Integer&gt; entry : sortedEntries) {\n            String playerName = entry.getKey();\n            rollValue = entry.getValue();\n            Log.e(&quot;Sorted Player Dice Map:&quot;,currentPlayer.getColor()+&quot; &quot;+ playerName + &quot; - &quot; + rollValue);\n        }\n\n\n    }\n\n</code></pre>\n<p>And this is the onClickListener where i want to iterate with the sorted list</p>\n<pre><code>        iv_dau.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                PlayerOffline currentPlayer = playersIntent.get(currentPlayerIndex);\n\n                if (!currentPlayer.isaTiratPrimeraTirada()) {\n                    triarOrdre(currentPlayer, playerDiceMap); // Triar ordre\n                    currentPlayerIndex = (currentPlayerIndex + 1) % playersIntent.size();\n                    return; // Skip moving the piece in the current turn\n                }\n\n                movePiece(currentPlayer); // Move the piece in UI\n\n\n                currentPlayerIndex = (currentPlayerIndex + 1) % playersIntent.size();\n            }\n        });\n</code></pre>\n<p>How can i do this in a &quot;simple way&quot;? Im getting so confused and trying no sense things.</p>\n<p>Thanks!</p>\n<p>I been trying a bunch of diferents ways to do it and im not seeing how</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6456424,"reputation":426,"user_id":5001659,"display_name":"Zach Pedigo"},"score":0,"creation_date":1684419743,"post_id":76264764,"comment_id":134517351,"body_markdown":"I&#39;ve tried adding a listener to each element, but none of them have been acting like a listener is even there. I&#39;m beginning to think that these buttons don&#39;t handle the enter key at all","body":"I&#39;ve tried adding a listener to each element, but none of them have been acting like a listener is even there. I&#39;m beginning to think that these buttons don&#39;t handle the enter key at all"}],"owner":{"account_id":6456424,"reputation":426,"user_id":5001659,"display_name":"Zach Pedigo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684251063,"creation_date":1684250733,"question_id":76264764,"body_markdown":"I have a CheckboxTableViewer. This table contains some checkboxes, however they are technically &quot;TableItem&quot; elements. I am trying to add an enter key listener to each element because they do not natively handle the enter key. However, after adding a listener to each element, when I hit the enter key the event is not getting triggered.\r\n\r\nHere is the private method where I set the event on each element in the CheckboxTableViewer:\r\n\r\n    private static void configureCheckboxListeners(CheckboxTableViewer resourcesTableViewer,\r\n            List&lt;Resource&gt; resources)\r\n    {\r\n        for (Resource resource : resources)\r\n        {\r\n            for (TableItem item : resourcesTableViewer.getTable().getItems())\r\n            {\r\n                item.addListener(SWT.Traverse, e -&gt; {\r\n                    if (e.detail == SWT.TRAVERSE_RETURN)\r\n                    {\r\n                        e.doit = false;\r\n                        item.setChecked(!item.getChecked());\r\n                        item.notifyListeners(SWT.Selection, null);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\nI am aware that this is not the best way to iterate through the list, but I am not worried about that right now, I know that this hits each element in the list properly. Is there another way to hit this enter key event?\r\n\r\nAny help at all is much appreciated!\r\n\r\nI tried to add a listener to each TableItem element in the list of items in the CheckboxTableViewer. I expected these enter key events to get hit as I tab through each checkbox and hit enter on them. However, this did not happen. In fact, none of the enter key events are being triggered. I use this exact same selection event to set listeners for the enter key on Button controls in the same Composite however it just doesn&#39;t seem to work for the CheckboxTableViewer.","title":"Enter key listener on TableItem inside CheckboxTableViewer not being triggered by enter key","body":"<p>I have a CheckboxTableViewer. This table contains some checkboxes, however they are technically &quot;TableItem&quot; elements. I am trying to add an enter key listener to each element because they do not natively handle the enter key. However, after adding a listener to each element, when I hit the enter key the event is not getting triggered.</p>\n<p>Here is the private method where I set the event on each element in the CheckboxTableViewer:</p>\n<pre><code>private static void configureCheckboxListeners(CheckboxTableViewer resourcesTableViewer,\n        List&lt;Resource&gt; resources)\n{\n    for (Resource resource : resources)\n    {\n        for (TableItem item : resourcesTableViewer.getTable().getItems())\n        {\n            item.addListener(SWT.Traverse, e -&gt; {\n                if (e.detail == SWT.TRAVERSE_RETURN)\n                {\n                    e.doit = false;\n                    item.setChecked(!item.getChecked());\n                    item.notifyListeners(SWT.Selection, null);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>I am aware that this is not the best way to iterate through the list, but I am not worried about that right now, I know that this hits each element in the list properly. Is there another way to hit this enter key event?</p>\n<p>Any help at all is much appreciated!</p>\n<p>I tried to add a listener to each TableItem element in the list of items in the CheckboxTableViewer. I expected these enter key events to get hit as I tab through each checkbox and hit enter on them. However, this did not happen. In fact, none of the enter key events are being triggered. I use this exact same selection event to set listeners for the enter key on Button controls in the same Composite however it just doesn't seem to work for the CheckboxTableViewer.</p>\n"},{"tags":["java","arraylist","hashmap"],"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1684248992,"post_id":76264447,"comment_id":134488655,"body_markdown":"Please share a reproductible code. [edit] and add classes and a main so we can try it. Also share the output, that&#39;s always better than words","body":"Please share a reproductible code. <a href=\"https://stackoverflow.com/posts/76264447/edit\">edit</a> and add classes and a main so we can try it. Also share the output, that&#39;s always better than words"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1684249175,"post_id":76264447,"comment_id":134488707,"body_markdown":"I&#39;d also *strongly* recommend that you start following Java naming conventions - at the moment, the convention violations are really, really distracting, at least to me. (I&#39;d focus on providing a [mcve] - both complete *and* minimal are important. I suspect your complete example doesn&#39;t need to be any longer than the incomplete example you&#39;ve provided so far...)","body":"I&#39;d also <i>strongly</i> recommend that you start following Java naming conventions - at the moment, the convention violations are really, really distracting, at least to me. (I&#39;d focus on providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - both complete <i>and</i> minimal are important. I suspect your complete example doesn&#39;t need to be any longer than the incomplete example you&#39;ve provided so far...)"}],"answers":[{"comments":[{"owner":{"account_id":27451940,"reputation":11,"user_id":20944030,"display_name":"hsn saed"},"score":0,"creation_date":1684347531,"post_id":76264603,"comment_id":134506680,"body_markdown":"thanks so much u solved it . i&#39;m currently in uni and not supposed to use methods that i haven&#39;t learned . and i&#39;m also pretty new to here sorry if my question was a bit stupid.i couldn&#39;t add my full project because its about a 1000 lines . thanks","body":"thanks so much u solved it . i&#39;m currently in uni and not supposed to use methods that i haven&#39;t learned . and i&#39;m also pretty new to here sorry if my question was a bit stupid.i couldn&#39;t add my full project because its about a 1000 lines . thanks"},{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1684427440,"post_id":76264603,"comment_id":134519230,"body_markdown":"@hsnsaed you’re welcome. I didn’t meant your whole code, but the minimal amount required to run the method and test it","body":"@hsnsaed you’re welcome. I didn’t meant your whole code, but the minimal amount required to run the method and test it"}],"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684250887,"creation_date":1684249699,"answer_id":76264603,"question_id":76264447,"body_markdown":"#### Problem\r\n\r\nThe issue is that you add a person to its gender list, no matter the year, then use this list of the person&#39;s year, so every year ends up pointing to the same and unique genderlist\r\n\r\n    Males.add(entry.getValue());\r\n    AccBirthDateMale.put(entry.getValue().getYearOfBirth(), Males);\r\n\r\n---\r\n\r\n#### Fix\r\n\r\nYou add the outer mapping directly at initialisation of the resulting map\r\n\r\nIterate directly over the values of the map, then you gendered map per year, and add the mapping if it&#39;s missing, add the person to its year, and finally year\r\n\r\n    Map&lt;Gender, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; result = Map.of(Gender.M, accBirthDateMale, Gender.F, accBirthDateFemale);\r\n\r\n    for (Person person : allCustomers.values()) {\r\n        switch (person.getGender()) {\r\n            case M:\r\n                if(!accBirthDateMale.containsKey(person.getYearOfBirth())){\r\n                    accBirthDateMale.put(person.getYearOfBirth(), new ArrayList&lt;&gt;());\r\n                }\r\n                accBirthDateMale.get(person.getYearOfBirth()).add(person);\r\n                break;\r\n            case F:\r\n                if(!accBirthDateFemale.containsKey(person.getYearOfBirth())){\r\n                    accBirthDateFemale.put(person.getYearOfBirth(), new ArrayList&lt;&gt;());\r\n                }\r\n                accBirthDateFemale.get(person.getYearOfBirth()).add(person);\r\n                break;\r\n        }\r\n    }\r\n    result.put(Gender.M, accBirthDateMale);\r\n    result.put(Gender.F, accBirthDateFemale);\r\n\r\n----\r\n\r\n#### Improve\r\n\r\nThe previous code is quite verbose, and map offers nice methods to handle the missing-key case (`computeIfAbsent`)\r\n\r\n    public static Map&lt;Gender, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; personsByGenderAndYearOfBirth() {\r\n        Map&lt;Gender, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; result = Map.of(Gender.M, new HashMap&lt;&gt;(), Gender.F, new HashMap&lt;&gt;());\r\n        for(Collection&lt;? extends Person&gt; people : List.of(allCustomers.values(), allEmployees.values())){\r\n            for (Person person : people) {\r\n                result.get(person.getGender()).computeIfAbsent(person.getYearOfBirth(), k -&gt; new ArrayList&lt;&gt;()).add(person);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n#### Improve bis\r\n\r\nUsing `Streams`\r\n\r\n    public static Map&lt;Gender, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; personsByGenderAndYearOfBirthBis() {\r\n        return Stream.of(allCustomers.values(), allEmployees.values())\r\n                .flatMap(Collection::stream)\r\n                .collect(Collectors.groupingBy(Person::getGender, Collectors.groupingBy(Person::getYearOfBirth, Collectors.toList())));\r\n    }\r\n","title":"whty is my hashmap adding duplicate details","body":"<h4>Problem</h4>\n<p>The issue is that you add a person to its gender list, no matter the year, then use this list of the person's year, so every year ends up pointing to the same and unique genderlist</p>\n<pre><code>Males.add(entry.getValue());\nAccBirthDateMale.put(entry.getValue().getYearOfBirth(), Males);\n</code></pre>\n<hr />\n<h4>Fix</h4>\n<p>You add the outer mapping directly at initialisation of the resulting map</p>\n<p>Iterate directly over the values of the map, then you gendered map per year, and add the mapping if it's missing, add the person to its year, and finally year</p>\n<pre><code>Map&lt;Gender, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; result = Map.of(Gender.M, accBirthDateMale, Gender.F, accBirthDateFemale);\n\nfor (Person person : allCustomers.values()) {\n    switch (person.getGender()) {\n        case M:\n            if(!accBirthDateMale.containsKey(person.getYearOfBirth())){\n                accBirthDateMale.put(person.getYearOfBirth(), new ArrayList&lt;&gt;());\n            }\n            accBirthDateMale.get(person.getYearOfBirth()).add(person);\n            break;\n        case F:\n            if(!accBirthDateFemale.containsKey(person.getYearOfBirth())){\n                accBirthDateFemale.put(person.getYearOfBirth(), new ArrayList&lt;&gt;());\n            }\n            accBirthDateFemale.get(person.getYearOfBirth()).add(person);\n            break;\n    }\n}\nresult.put(Gender.M, accBirthDateMale);\nresult.put(Gender.F, accBirthDateFemale);\n</code></pre>\n<hr />\n<h4>Improve</h4>\n<p>The previous code is quite verbose, and map offers nice methods to handle the missing-key case (<code>computeIfAbsent</code>)</p>\n<pre><code>public static Map&lt;Gender, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; personsByGenderAndYearOfBirth() {\n    Map&lt;Gender, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; result = Map.of(Gender.M, new HashMap&lt;&gt;(), Gender.F, new HashMap&lt;&gt;());\n    for(Collection&lt;? extends Person&gt; people : List.of(allCustomers.values(), allEmployees.values())){\n        for (Person person : people) {\n            result.get(person.getGender()).computeIfAbsent(person.getYearOfBirth(), k -&gt; new ArrayList&lt;&gt;()).add(person);\n        }\n    }\n    return result;\n}\n</code></pre>\n<h4>Improve bis</h4>\n<p>Using <code>Streams</code></p>\n<pre><code>public static Map&lt;Gender, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; personsByGenderAndYearOfBirthBis() {\n    return Stream.of(allCustomers.values(), allEmployees.values())\n            .flatMap(Collection::stream)\n            .collect(Collectors.groupingBy(Person::getGender, Collectors.groupingBy(Person::getYearOfBirth, Collectors.toList())));\n}\n</code></pre>\n"}],"owner":{"account_id":27451940,"reputation":11,"user_id":20944030,"display_name":"hsn saed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76264603,"answer_count":1,"score":-2,"last_activity_date":1684250887,"creation_date":1684248751,"question_id":76264447,"body_markdown":"I have this block of code.\r\n\r\nI need to return  hashmap that has the gender as key,and another hashmaap  value the second hash map has yearofbirth as key and arraylist of all people with that saame yearofbear in it .\r\n\r\nwrote this code but when i print it prints duplicates of the same customer and employees\r\n\r\n```java\r\npublic HashMap&lt;Gender, HashMap &lt;Integer, ArrayList&lt;Person&gt;&gt;&gt; personsByGenderAndYearOfBirth() {\r\n\tArrayList&lt;Person&gt; Males=new ArrayList&lt;Person&gt;();\r\n\tArrayList&lt;Person&gt; Females=new ArrayList&lt;Person&gt;();\r\n\tHashMap&lt;Integer,ArrayList&lt;Person&gt;&gt; AccBirthDateMale=new HashMap&lt;&gt;();\r\n\tHashMap&lt;Integer,ArrayList&lt;Person&gt;&gt; AccBirthDateFemale=new HashMap&lt;&gt;();\r\n\tHashMap&lt;Gender, HashMap&lt;Integer,ArrayList&lt;Person&gt;&gt;&gt; AccGender=new HashMap&lt;&gt;();\r\n\tfor(HashMap.Entry&lt;String, Customer&gt; entry : allCustomers.entrySet())\r\n\t{\r\n\t\t{\r\n\t\t\tswitch(entry.getValue().getGender())\r\n\t\t\t{\r\n\t\t\tcase M:\r\n\t\t\t\tMales.add(entry.getValue());\r\n\t\t\t\tAccBirthDateMale.put(entry.getValue().getYearOfBirth(),Males);\r\n\t\t\t\tbreak;\r\n\t\t\tcase F:\r\n\r\n\t\t\t\tFemales.add(entry.getValue());\r\n\t\t\t\tAccBirthDateFemale.put(entry.getValue().getYearOfBirth(),Females);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tAccGender.put(Gender.F, AccBirthDateFemale);\r\n\tAccGender.put(Gender.M, AccBirthDateMale);\r\n\tfor(HashMap.Entry&lt;String, Employee&gt; entry : allEmployees.entrySet())\r\n\t{\r\n\t\tswitch(entry.getValue().getGender())\r\n\t\t{\r\n\t\t\tcase M:\r\n\t\t\t\tMales.add(entry.getValue());\r\n\t\t\t\tAccBirthDateMale.put(entry.getValue().getYearOfBirth(),Males);\r\n\t\t\t\tbreak;\r\n\t\t\tcase F:\r\n\t\t\t\tFemales.add(entry.getValue());\r\n\t\t\t\tAccBirthDateFemale.put(entry.getValue().getYearOfBirth(),Females);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tAccGender.put(Gender.F, AccBirthDateFemale);\r\n\tAccGender.put(Gender.M, AccBirthDateMale);\r\n\tSystem.out.println(AccBirthDateMale.toString());\r\n\tSystem.out.println(AccGender.toString());\r\n\treturn AccGender;\r\n}\r\n```","title":"whty is my hashmap adding duplicate details","body":"<p>I have this block of code.</p>\n<p>I need to return  hashmap that has the gender as key,and another hashmaap  value the second hash map has yearofbirth as key and arraylist of all people with that saame yearofbear in it .</p>\n<p>wrote this code but when i print it prints duplicates of the same customer and employees</p>\n<pre class=\"lang-java prettyprint-override\"><code>public HashMap&lt;Gender, HashMap &lt;Integer, ArrayList&lt;Person&gt;&gt;&gt; personsByGenderAndYearOfBirth() {\n    ArrayList&lt;Person&gt; Males=new ArrayList&lt;Person&gt;();\n    ArrayList&lt;Person&gt; Females=new ArrayList&lt;Person&gt;();\n    HashMap&lt;Integer,ArrayList&lt;Person&gt;&gt; AccBirthDateMale=new HashMap&lt;&gt;();\n    HashMap&lt;Integer,ArrayList&lt;Person&gt;&gt; AccBirthDateFemale=new HashMap&lt;&gt;();\n    HashMap&lt;Gender, HashMap&lt;Integer,ArrayList&lt;Person&gt;&gt;&gt; AccGender=new HashMap&lt;&gt;();\n    for(HashMap.Entry&lt;String, Customer&gt; entry : allCustomers.entrySet())\n    {\n        {\n            switch(entry.getValue().getGender())\n            {\n            case M:\n                Males.add(entry.getValue());\n                AccBirthDateMale.put(entry.getValue().getYearOfBirth(),Males);\n                break;\n            case F:\n\n                Females.add(entry.getValue());\n                AccBirthDateFemale.put(entry.getValue().getYearOfBirth(),Females);\n                break;\n            }\n        }\n    }\n    AccGender.put(Gender.F, AccBirthDateFemale);\n    AccGender.put(Gender.M, AccBirthDateMale);\n    for(HashMap.Entry&lt;String, Employee&gt; entry : allEmployees.entrySet())\n    {\n        switch(entry.getValue().getGender())\n        {\n            case M:\n                Males.add(entry.getValue());\n                AccBirthDateMale.put(entry.getValue().getYearOfBirth(),Males);\n                break;\n            case F:\n                Females.add(entry.getValue());\n                AccBirthDateFemale.put(entry.getValue().getYearOfBirth(),Females);\n                break;\n        }\n    }\n    AccGender.put(Gender.F, AccBirthDateFemale);\n    AccGender.put(Gender.M, AccBirthDateMale);\n    System.out.println(AccBirthDateMale.toString());\n    System.out.println(AccGender.toString());\n    return AccGender;\n}\n</code></pre>\n"},{"tags":["java","web-services","jaxb","jax-ws"],"answers":[{"comments":[{"owner":{"account_id":238007,"reputation":2961,"user_id":506598,"accept_rate":68,"display_name":"surlac"},"score":1,"creation_date":1373875235,"post_id":14721084,"comment_id":25701878,"body_markdown":"Awesome, it works! But where have you defined namespace for JAXB-bean? Must be in the bean itself, because when I run your example with DivisionRequestHandler created manually, the fields are nulls. I remove xmlns from XML, and it works.","body":"Awesome, it works! But where have you defined namespace for JAXB-bean? Must be in the bean itself, because when I run your example with DivisionRequestHandler created manually, the fields are nulls. I remove xmlns from XML, and it works."}],"tags":[],"owner":{"account_id":1181871,"reputation":403,"user_id":1156638,"display_name":"Andy Hebert"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1386274217,"creation_date":1360122095,"answer_id":14721084,"question_id":14700562,"body_markdown":"You&#39;ll need to do 2 things.  \r\n\r\n 1. xmlns in your root: `&lt;requestOptions xmlns=\\&quot;http://www.company.com/ns\\&quot;&gt;`. This reaches back to your XSD.\r\n 2. Since it sounds like RequestData is not a @XmlRootElement you will have to unmarshall it wrapping it in a JAXBElement\r\n\r\nIllustrated here:\r\n\r\n    public class Test\r\n    {\r\n      static String randomXml =\r\n          &quot;&lt;divisionRequestHeader xmlns=\\&quot;http://www.company.com/ns/\\&quot;&gt;&quot;\r\n            + &quot;&lt;id&gt;fake id&lt;/id&gt;&quot;\r\n            + &quot;&lt;CoName&gt;My Co Name&lt;/CoName&gt;&quot; + &quot;&lt;User&gt;&quot;\r\n            + &quot;&lt;Type&gt;EXTERNAL&lt;/Type&gt;&quot; + &quot;&lt;Value&gt;me&lt;/Value&gt;&quot; + &quot;&lt;/User&gt;&quot;\r\n            + &quot;&lt;Count&gt;100&lt;/Count&gt;&quot;\r\n            + &quot;&lt;Requestor&gt;My App Requesting&lt;/Requestor&gt;&quot;\r\n            + &quot;&lt;/divisionRequestHeader&gt;&quot;;\r\n\r\n      public static void main(String[] args) throws Exception\r\n      {\r\n        JAXBContext context = JAXBContext.newInstance(DivisionRequestHeader.class);\r\n        Unmarshaller unmarshaller = context.createUnmarshaller();\r\n        Source source = new StreamSource(new StringReader(randomXml));\r\n\r\n        JAXBElement&lt;DivisionRequestHeader&gt; jaxbElement = unmarshaller.unmarshal(source,\r\n                DivisionRequestHeader.class);\r\n        DivisionRequestHeader header = jaxbElement.getValue();\r\n\r\n        System.out.println(header.toString());\r\n      }\r\n    }\r\n\r\nOutput with jaxb toString plugin:\r\n \r\n    com.company.ns.DivisionRequestHeader@620c620c[id=fake id, coName=My Co Name,\r\n        user=com.company.ns.User@79e479e4[type=EXTERNAL, value=me], count=100,\r\n        requestor=My App Requesting]\r\n\r\n\r\n","title":"Java-WS: is it possible to use raw XML for one argument and still use JAXB objects for the rest?","body":"<p>You'll need to do 2 things.  </p>\n\n<ol>\n<li>xmlns in your root: <code>&lt;requestOptions xmlns=\\\"http://www.company.com/ns\\\"&gt;</code>. This reaches back to your XSD.</li>\n<li>Since it sounds like RequestData is not a @XmlRootElement you will have to unmarshall it wrapping it in a JAXBElement</li>\n</ol>\n\n<p>Illustrated here:</p>\n\n<pre><code>public class Test\n{\n  static String randomXml =\n      \"&lt;divisionRequestHeader xmlns=\\\"http://www.company.com/ns/\\\"&gt;\"\n        + \"&lt;id&gt;fake id&lt;/id&gt;\"\n        + \"&lt;CoName&gt;My Co Name&lt;/CoName&gt;\" + \"&lt;User&gt;\"\n        + \"&lt;Type&gt;EXTERNAL&lt;/Type&gt;\" + \"&lt;Value&gt;me&lt;/Value&gt;\" + \"&lt;/User&gt;\"\n        + \"&lt;Count&gt;100&lt;/Count&gt;\"\n        + \"&lt;Requestor&gt;My App Requesting&lt;/Requestor&gt;\"\n        + \"&lt;/divisionRequestHeader&gt;\";\n\n  public static void main(String[] args) throws Exception\n  {\n    JAXBContext context = JAXBContext.newInstance(DivisionRequestHeader.class);\n    Unmarshaller unmarshaller = context.createUnmarshaller();\n    Source source = new StreamSource(new StringReader(randomXml));\n\n    JAXBElement&lt;DivisionRequestHeader&gt; jaxbElement = unmarshaller.unmarshal(source,\n            DivisionRequestHeader.class);\n    DivisionRequestHeader header = jaxbElement.getValue();\n\n    System.out.println(header.toString());\n  }\n}\n</code></pre>\n\n<p>Output with jaxb toString plugin:</p>\n\n<pre><code>com.company.ns.DivisionRequestHeader@620c620c[id=fake id, coName=My Co Name,\n    user=com.company.ns.User@79e479e4[type=EXTERNAL, value=me], count=100,\n    requestor=My App Requesting]\n</code></pre>\n"}],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1142,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":14721084,"answer_count":1,"score":-1,"last_activity_date":1684250753,"creation_date":1360040913,"question_id":14700562,"body_markdown":"I&#39;m writing a Java webservice client that will be running on WebSphere. I created a new &quot;Web Service Client&quot; project in RAD Developer, gave it my WSDL, specified &quot;Top down Java Bean&quot;, and it autogenerated a bunch of files.\r\n\r\nOne of the operations is &quot;GetAddressData&quot;. RAD Developer auto-generated &quot;GetAddressData.java&quot; and &quot;GetAddressDataResonse.java&quot;, both annotated with &quot;XmlRootElement&quot;.\r\n\r\nOne of the arguments in &quot;GetAddressData&quot; is &quot;RequestData&quot;, a simple object consisting of four strings: worfklow, module, username, and id. RAD Developer generated a &quot;RequestData.java&quot; for me too.\r\n\r\nIs there any way that I can substitute raw XML for the JAXB &quot;RequestData&quot; object, instead of packing and unpacking the record a field at a time?\r\n\r\nI tried something like this:\r\n\r\n    private static String theXml =   \r\n        &quot;&lt;requestOptions&gt;\\n&quot; +  \r\n        &quot;  &lt;WorkflowName&gt;unmarshalTestWorkflow&lt;/WorkflowName&gt;\\n&quot; +  \r\n        &quot;  &lt;ModuleName&gt;unmarshalTestModule&lt;/ModuleName&gt;\\n&quot; +  \r\n        &quot;  &lt;UserName&gt;unmarshalTestName&lt;/UserName&gt;\\n&quot; +  \r\n        &quot;  &lt;TransactionId&gt;0099&lt;/TransactionId&gt;\\n&quot; +  \r\n        &quot;&lt;/requestOptions&gt;\\n&quot;;  \r\n  \r\n    private RequestOptions mkRequestOptions () throws Exception {  \r\n        JAXBContext context = JAXBContext.newInstance(RequestOptions.class);  \r\n        Unmarshaller unmarshaller = context.createUnmarshaller();  \r\n        Object obj = unmarshaller.unmarshal(new StringReader (theXml));  \r\n        RequestOptions requestOptions = (RequestOptions)obj;\r\n        ...\r\n\r\nBut I keep getting:\r\n\r\n    error: Unexpected element &quot;requestOptions&quot;. Expected elements are &quot;&quot;.\r\n","title":"Java-WS: is it possible to use raw XML for one argument and still use JAXB objects for the rest?","body":"<p>I'm writing a Java webservice client that will be running on WebSphere. I created a new &quot;Web Service Client&quot; project in RAD Developer, gave it my WSDL, specified &quot;Top down Java Bean&quot;, and it autogenerated a bunch of files.</p>\n<p>One of the operations is &quot;GetAddressData&quot;. RAD Developer auto-generated &quot;GetAddressData.java&quot; and &quot;GetAddressDataResonse.java&quot;, both annotated with &quot;XmlRootElement&quot;.</p>\n<p>One of the arguments in &quot;GetAddressData&quot; is &quot;RequestData&quot;, a simple object consisting of four strings: worfklow, module, username, and id. RAD Developer generated a &quot;RequestData.java&quot; for me too.</p>\n<p>Is there any way that I can substitute raw XML for the JAXB &quot;RequestData&quot; object, instead of packing and unpacking the record a field at a time?</p>\n<p>I tried something like this:</p>\n<pre><code>private static String theXml =   \n    &quot;&lt;requestOptions&gt;\\n&quot; +  \n    &quot;  &lt;WorkflowName&gt;unmarshalTestWorkflow&lt;/WorkflowName&gt;\\n&quot; +  \n    &quot;  &lt;ModuleName&gt;unmarshalTestModule&lt;/ModuleName&gt;\\n&quot; +  \n    &quot;  &lt;UserName&gt;unmarshalTestName&lt;/UserName&gt;\\n&quot; +  \n    &quot;  &lt;TransactionId&gt;0099&lt;/TransactionId&gt;\\n&quot; +  \n    &quot;&lt;/requestOptions&gt;\\n&quot;;  \n\nprivate RequestOptions mkRequestOptions () throws Exception {  \n    JAXBContext context = JAXBContext.newInstance(RequestOptions.class);  \n    Unmarshaller unmarshaller = context.createUnmarshaller();  \n    Object obj = unmarshaller.unmarshal(new StringReader (theXml));  \n    RequestOptions requestOptions = (RequestOptions)obj;\n    ...\n</code></pre>\n<p>But I keep getting:</p>\n<pre><code>error: Unexpected element &quot;requestOptions&quot;. Expected elements are &quot;&quot;.\n</code></pre>\n"},{"tags":["java","pdf","pkcs#11","iaik-jce","sunpkcs11"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1684139897,"post_id":76250205,"comment_id":134467589,"body_markdown":"Can you share an example file signed with your code for analysis?","body":"Can you share an example file signed with your code for analysis?"},{"owner":{"account_id":8116165,"reputation":63,"user_id":6114605,"display_name":"tulak.hord"},"score":0,"creation_date":1684220656,"post_id":76250205,"comment_id":134481593,"body_markdown":"here is the link with valid and invalid signed pdf: https://drive.google.com/drive/folders/1GaOb-_o6jUGGsxRKopydUaLa5wFch75Z?usp=sharing","body":"here is the link with valid and invalid signed pdf: <a href=\"https://drive.google.com/drive/folders/1GaOb-_o6jUGGsxRKopydUaLa5wFch75Z?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/drive/folders/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1684243919,"post_id":76250205,"comment_id":134487161,"body_markdown":"Could it be that you misnamed the files? Adobe Acrobat shows `validSignature_oldMethod.pdf` as having invalid signatures while it shows `invalidSignature_newMethod.pdf` as having mathematically valid signatures.","body":"Could it be that you misnamed the files? Adobe Acrobat shows <code>validSignature_oldMethod.pdf</code> as having invalid signatures while it shows <code>invalidSignature_newMethod.pdf</code> as having mathematically valid signatures."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1684246562,"post_id":76250205,"comment_id":134487951,"body_markdown":"You use the mechanism `PKCS11Constants.CKM_SHA256_RSA_PKCS`. But that mechanism does calculate the hash of the data, wrap it in a `DigestInfo` structure, apply PKCS#1 1.5 padding, and encrypt. As far as I understand your code, though, you already have calculated the hash and wrapped it in a `DigestInfo` structure and only want PKCS#1 1.5 padding and encryption to be applied. Thus, you may want to use the mechanism `PKCS11Constants.CKM_RSA_PKCS` instead.","body":"You use the mechanism <code>PKCS11Constants.CKM_SHA256_RSA_PKCS</code>. But that mechanism does calculate the hash of the data, wrap it in a <code>DigestInfo</code> structure, apply PKCS#1 1.5 padding, and encrypt. As far as I understand your code, though, you already have calculated the hash and wrapped it in a <code>DigestInfo</code> structure and only want PKCS#1 1.5 padding and encryption to be applied. Thus, you may want to use the mechanism <code>PKCS11Constants.CKM_RSA_PKCS</code> instead."},{"owner":{"account_id":8116165,"reputation":63,"user_id":6114605,"display_name":"tulak.hord"},"score":0,"creation_date":1684249501,"post_id":76250205,"comment_id":134488795,"body_markdown":"Yes, looked like I misnamed the file. Just tried with mechanism PKCS11Constants.CKM_RSA_PKCS and the signature is coming out to be valid. Thanks very much !","body":"Yes, looked like I misnamed the file. Just tried with mechanism PKCS11Constants.CKM_RSA_PKCS and the signature is coming out to be valid. Thanks very much !"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1684250535,"post_id":76250205,"comment_id":134489110,"body_markdown":"Ok, I&#39;ll make that an actual answer, not a mere comment.","body":"Ok, I&#39;ll make that an actual answer, not a mere comment."},{"owner":{"account_id":8116165,"reputation":63,"user_id":6114605,"display_name":"tulak.hord"},"score":0,"creation_date":1684598244,"post_id":76250205,"comment_id":134541938,"body_markdown":"Out of curiosity, Given a pdf document, is there any way on how to check why the document got corrupted?\n\nI am implementing a digital signature validation tool like adobe has Signature Validation Status but it just says the document is alerted or corrupted since the signature was applied. How to debug the same, like there could be multiple reasons: \n\n- Mismatch in digital signature algorithm used\n- Alteration in the document\n- Integrity of signature container","body":"Out of curiosity, Given a pdf document, is there any way on how to check why the document got corrupted?  I am implementing a digital signature validation tool like adobe has Signature Validation Status but it just says the document is alerted or corrupted since the signature was applied. How to debug the same, like there could be multiple reasons:   - Mismatch in digital signature algorithm used - Alteration in the document - Integrity of signature container"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1684703931,"post_id":76250205,"comment_id":134551860,"body_markdown":"Well, there are some issues you can identify. E.g. if the signer certificate public key is a RSA key but the claimed signature algorithm is ECDSA, you can try to validate the signature assuming the signature algorithm is actually based on RSA. Or if the hash value calculated with the claimed signature hash algorithm does not validate, you can try using hash values calculated with other algorithms. But seriously, does it really make sense to try and identify such reasons for signature validation failures? You still don&#39;t know whether they are caused by a bug or by some manipulation.","body":"Well, there are some issues you can identify. E.g. if the signer certificate public key is a RSA key but the claimed signature algorithm is ECDSA, you can try to validate the signature assuming the signature algorithm is actually based on RSA. Or if the hash value calculated with the claimed signature hash algorithm does not validate, you can try using hash values calculated with other algorithms. But seriously, does it really make sense to try and identify such reasons for signature validation failures? You still don&#39;t know whether they are caused by a bug or by some manipulation."},{"owner":{"account_id":8116165,"reputation":63,"user_id":6114605,"display_name":"tulak.hord"},"score":0,"creation_date":1684830565,"post_id":76250205,"comment_id":134570573,"body_markdown":"Yes, that&#39;s what it doesn&#39;t make sense. It could be because of anything, how to go about making a digital signature validation tool? Any documentation to follow or anything as such.","body":"Yes, that&#39;s what it doesn&#39;t make sense. It could be because of anything, how to go about making a digital signature validation tool? Any documentation to follow or anything as such."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1684880317,"post_id":76250205,"comment_id":134581606,"body_markdown":"Well, usually digital signature validation tools only determine whether they consider a signature valid or not and don&#39;t try to guess the cause in the latter case. Also validation itself depends on the validation policy to be applied. For qualified signatures in the EU, for example, ETSI EN 319 102-1 describes in detail how to validate.","body":"Well, usually digital signature validation tools only determine whether they consider a signature valid or not and don&#39;t try to guess the cause in the latter case. Also validation itself depends on the validation policy to be applied. For qualified signatures in the EU, for example, ETSI EN 319 102-1 describes in detail how to validate."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684250669,"creation_date":1684250669,"answer_id":76264751,"question_id":76250205,"body_markdown":"You use the mechanism `PKCS11Constants.CKM_SHA256_RSA_PKCS`. But that mechanism does calculate the hash of the data, wrap it in a `DigestInfo` structure, apply PKCS#1 1.5 padding, and encrypt.\r\n\r\nAs far as I understand your code, though, you already have calculated the hash and wrapped it in a `DigestInfo` structure. So you only want PKCS#1 1.5 padding and encryption to be applied.\r\n\r\nThus, you may want to use the mechanism `PKCS11Constants.CKM_RSA_PKCS` instead.","title":"Document altered/corrupted while attaching IAIK PKCS11 signing Hash","body":"<p>You use the mechanism <code>PKCS11Constants.CKM_SHA256_RSA_PKCS</code>. But that mechanism does calculate the hash of the data, wrap it in a <code>DigestInfo</code> structure, apply PKCS#1 1.5 padding, and encrypt.</p>\n<p>As far as I understand your code, though, you already have calculated the hash and wrapped it in a <code>DigestInfo</code> structure. So you only want PKCS#1 1.5 padding and encryption to be applied.</p>\n<p>Thus, you may want to use the mechanism <code>PKCS11Constants.CKM_RSA_PKCS</code> instead.</p>\n"}],"owner":{"account_id":8116165,"reputation":63,"user_id":6114605,"display_name":"tulak.hord"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76264751,"answer_count":1,"score":1,"last_activity_date":1684250669,"creation_date":1684110120,"question_id":76250205,"body_markdown":"I have a base64 encoded message digest (signing bytes of a pdf), which I want to sign and return PKCS7. Previously, I was using SUNPKCS11 and was able to attach the same to the pdf.\r\n\r\nI have started using IAIK PKCS11 Wrapper. Below is the process, I have a IAIKPKCS11ContentSigner defined like: \r\n\r\n    public class IAIKPKCS11ContentSigner implements ContentSigner {\r\n       private final Session session;\r\n       private final RSAPrivateKey privateKey;\r\n       private final ByteArrayOutputStream outputStream;\r\n\r\n       public IAIKPKCS11ContentSigner(Session session, RSAPrivateKey privateKey) {\r\n         this.session = session;\r\n         this.privateKey = privateKey;\r\n         this.outputStream = new ByteArrayOutputStream();\r\n       }\r\n\r\n       @Override\r\n       public byte[] getSignature() {\r\n         try {\r\n           AlgorithmIdentifier sha256Aid = new DefaultDigestAlgorithmIdentifierFinder().find(&quot;SHA-256&quot;);\r\n           DigestInfo digestInfo = new DigestInfo(sha256Aid, this.outputStream.toByteArray());\r\n           byte[] encodedDigestInfo = digestInfo.getEncoded();\r\n           Mechanism signingMechanism = Mechanism.get(PKCS11Constants.CKM_SHA256_RSA_PKCS);\r\n           session.signInit(signingMechanism, privateKey);\r\n           return session.sign(encodedDigestInfo);\r\n           } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Error&quot;, e);\r\n           }\r\n       }\r\n\r\n       @Override\r\n       public org.bouncycastle.asn1.x509.AlgorithmIdentifier getAlgorithmIdentifier() {\r\n          return new org.bouncycastle.asn1.x509.AlgorithmIdentifier(\r\n                org.bouncycastle.asn1.pkcs.PKCSObjectIdentifiers.sha256WithRSAEncryption);\r\n       }\r\n\r\n       @Override\r\n       public OutputStream getOutputStream() {\r\n          return outputStream;\r\n       }\r\n    }\r\n\r\n\r\nand now I am signing the hash like: \r\n\r\n    //already initialize session and extracted RSAPrivateKey\r\n    //taking current session (iaik.pkcs.pkcs11) and RSAPrivateKey\r\n    IAIKPKCS11ContentSigner signer = new IAIKPKCS11ContentSigner(session, pk); \r\n\r\n    OutputStream outputStream = signer.getOutputStream();\r\n    outputStream.write(hash); //writing the hash of the document to sign \r\n\r\n    byte[] signature = signer.getSignature(); //fetching signature from the content signer\r\n    ContentInfo contentInfo = new ContentInfo(ContentInfo.DATA_OID, null);\r\n    X509Certificate[] certificates; //certificate for the key above;\r\n    AlgorithmId[] digestAlgorithmIds; // SHA-256 \r\n    SignerInfo si; //creating signer info using cert attributes and signed content signature;\r\n    SignerInfo[] signerInfos = {si};\r\n    PKCS7 p7 = new PKCS7(digestAlgorithmIds, contentInfo, certificates, signerInfos);\r\n    ByteArrayOutputStream bytes = new ByteArrayOutputStream();\r\n    p7.encodeSignedData(bytes);\r\n    output = bytes.toByteArray();\r\n\r\n\r\nBut while attaching this pkcs7 as deferred signature on a pdf, getting document has been altered or corrupted. Is this the right approach to sign? Any pointers if I am doing anything wrong here?  ","title":"Document altered/corrupted while attaching IAIK PKCS11 signing Hash","body":"<p>I have a base64 encoded message digest (signing bytes of a pdf), which I want to sign and return PKCS7. Previously, I was using SUNPKCS11 and was able to attach the same to the pdf.</p>\n<p>I have started using IAIK PKCS11 Wrapper. Below is the process, I have a IAIKPKCS11ContentSigner defined like:</p>\n<pre><code>public class IAIKPKCS11ContentSigner implements ContentSigner {\n   private final Session session;\n   private final RSAPrivateKey privateKey;\n   private final ByteArrayOutputStream outputStream;\n\n   public IAIKPKCS11ContentSigner(Session session, RSAPrivateKey privateKey) {\n     this.session = session;\n     this.privateKey = privateKey;\n     this.outputStream = new ByteArrayOutputStream();\n   }\n\n   @Override\n   public byte[] getSignature() {\n     try {\n       AlgorithmIdentifier sha256Aid = new DefaultDigestAlgorithmIdentifierFinder().find(&quot;SHA-256&quot;);\n       DigestInfo digestInfo = new DigestInfo(sha256Aid, this.outputStream.toByteArray());\n       byte[] encodedDigestInfo = digestInfo.getEncoded();\n       Mechanism signingMechanism = Mechanism.get(PKCS11Constants.CKM_SHA256_RSA_PKCS);\n       session.signInit(signingMechanism, privateKey);\n       return session.sign(encodedDigestInfo);\n       } catch (Exception e) {\n        throw new RuntimeException(&quot;Error&quot;, e);\n       }\n   }\n\n   @Override\n   public org.bouncycastle.asn1.x509.AlgorithmIdentifier getAlgorithmIdentifier() {\n      return new org.bouncycastle.asn1.x509.AlgorithmIdentifier(\n            org.bouncycastle.asn1.pkcs.PKCSObjectIdentifiers.sha256WithRSAEncryption);\n   }\n\n   @Override\n   public OutputStream getOutputStream() {\n      return outputStream;\n   }\n}\n</code></pre>\n<p>and now I am signing the hash like:</p>\n<pre><code>//already initialize session and extracted RSAPrivateKey\n//taking current session (iaik.pkcs.pkcs11) and RSAPrivateKey\nIAIKPKCS11ContentSigner signer = new IAIKPKCS11ContentSigner(session, pk); \n\nOutputStream outputStream = signer.getOutputStream();\noutputStream.write(hash); //writing the hash of the document to sign \n\nbyte[] signature = signer.getSignature(); //fetching signature from the content signer\nContentInfo contentInfo = new ContentInfo(ContentInfo.DATA_OID, null);\nX509Certificate[] certificates; //certificate for the key above;\nAlgorithmId[] digestAlgorithmIds; // SHA-256 \nSignerInfo si; //creating signer info using cert attributes and signed content signature;\nSignerInfo[] signerInfos = {si};\nPKCS7 p7 = new PKCS7(digestAlgorithmIds, contentInfo, certificates, signerInfos);\nByteArrayOutputStream bytes = new ByteArrayOutputStream();\np7.encodeSignedData(bytes);\noutput = bytes.toByteArray();\n</code></pre>\n<p>But while attaching this pkcs7 as deferred signature on a pdf, getting document has been altered or corrupted. Is this the right approach to sign? Any pointers if I am doing anything wrong here?</p>\n"},{"tags":["java","spring","mybatis"],"answers":[{"tags":[],"owner":{"account_id":20903700,"reputation":75,"user_id":20091628,"display_name":"Montana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684250577,"creation_date":1684250577,"answer_id":76264737,"question_id":76264062,"body_markdown":"\r\nDuring debugging i have found, that into `ScheduledTaskService` field `scheduledTaskRepository` injecting `org.apache.ibatis.binding.MapperProxy` with mapperInterface `ru.test.app.common.scheduling.repository.ScheduledTaskRepository`\r\n\r\nSo, problem was solved by moving child interface that annotated with `@Mapper` to the another package (ru.test.app.common.scheduling.repository.impl), and by adding annotation `@MapperScan(&quot;ru.test.app.common.scheduling.repository.impl&quot;)` \r\nto Application.class.\r\n","title":"How to use mybatis mapper as common repository for different modules","body":"<p>During debugging i have found, that into <code>ScheduledTaskService</code> field <code>scheduledTaskRepository</code> injecting <code>org.apache.ibatis.binding.MapperProxy</code> with mapperInterface <code>ru.test.app.common.scheduling.repository.ScheduledTaskRepository</code></p>\n<p>So, problem was solved by moving child interface that annotated with <code>@Mapper</code> to the another package (ru.test.app.common.scheduling.repository.impl), and by adding annotation <code>@MapperScan(&quot;ru.test.app.common.scheduling.repository.impl&quot;)</code>\nto Application.class.</p>\n"}],"owner":{"account_id":20903700,"reputation":75,"user_id":20091628,"display_name":"Montana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76264737,"answer_count":1,"score":1,"last_activity_date":1684250577,"creation_date":1684246336,"question_id":76264062,"body_markdown":"I want to create a common module, which i will use in different modules.\r\nMost of modules are using mybatis, and some modules are using Spring Data with Hibernate.\r\n\r\nI have an idea to create a common interface and default implementation for Mybatis.\r\n\r\nSo im trying to create common interface \r\n\r\n    public interface ScheduledTaskRepository {\r\n    \r\n        List&lt;ScheduledTask&gt; getTasksByStateAndType( ScheduledTaskState state, ScheduledTaskType type, int maxRunCount );\r\n    \r\n        void create( ScheduledTask task );\r\n    \r\n        void update( ScheduledTask task );\r\n    \r\n        List&lt;ScheduledTask&gt; getTasksForReset( ScheduledTaskState state, ScheduledTaskType type, int runCount );\r\n    \r\n        void resetTask( long id );\r\n    \r\n        ScheduledTask get( long id );\r\n    \r\n    }\r\n\r\nand it&#39;s mybatis implementation\r\n\r\n    @Mapper\r\n    @ConditionalOnBean(MybatisAutoConfiguration.class)\r\n    public interface MybatisScheduledTaskRepository extends ScheduledTaskRepository {\r\n    \r\n        @Override\r\n        @Select(&quot;SELECT * FROM scheduled_tasks WHERE state = #{state} AND type = #{type} AND run_count &lt; #{maxRunCount}&quot;)\r\n        List&lt;ScheduledTask&gt; getTasksByStateAndType( @Param(&quot;state&quot;) ScheduledTaskState state,\r\n                                                    @Param(&quot;type&quot;) ScheduledTaskType type,\r\n                                                    @Param(&quot;maxRunCount&quot;) int maxRunCount );\r\n    \r\n        @Override\r\n        @Insert(&quot;INSERT INTO scheduled_tasks (creation_time, last_run, state, run_count, type, obj_id) &quot; +\r\n            &quot;VALUES (#{creationTime}, #{lastRun}, #{state}, #{runCount}, #{type}, #{objId})&quot;)\r\n        void create( ScheduledTask task );\r\n    \r\n        @Override\r\n        @Update(&quot;UPDATE scheduled_tasks SET creation_time = #{creationTime}, last_run = #{lastRun}, state = #{state}, &quot; +\r\n            &quot;run_count = #{runCount}, type = #{type}, obj_id = #{objId} WHERE id = #{id}&quot;)\r\n        void update( ScheduledTask task );\r\n    \r\n        @Override\r\n        @Select(&quot;SELECT * FROM scheduled_tasks WHERE state = #{state} AND type = #{type} AND run_count &gt;= #{runCount}&quot;)\r\n        List&lt;ScheduledTask&gt; getTasksForReset( @Param(&quot;state&quot;) ScheduledTaskState state,\r\n                                              @Param(&quot;type&quot;) ScheduledTaskType type,\r\n                                              @Param(&quot;runCount&quot;) int runCount );\r\n    \r\n        @Override\r\n        @Update(&quot;UPDATE scheduled_tasks SET run_count = 0 where id = #{id}&quot;)\r\n        void resetTask( @Param(&quot;id&quot;) long id );\r\n    \r\n        @Override\r\n        @Select(&quot;SELECT * FROM scheduled_tasks WHERE od = #{id}&quot;)\r\n        ScheduledTask get( @Param(&quot;id&quot;) long id );\r\n    }\r\n\r\nThen i create service in the common module for working with mapper\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class ScheduledTaskService {\r\n    \r\n        private final ScheduledTaskRepository scheduledTaskRepository;\r\n    \r\n        public void create( ScheduledTask scheduledTask ) {\r\n            scheduledTaskRepository.create( scheduledTask );\r\n        }\r\n    \r\n        public void create( ScheduledTaskType scheduledTaskType, Long objId ) {\r\n            ScheduledTask scheduledTask = new ScheduledTask();\r\n            scheduledTask.setCreationTime( LocalDateTime.now() )\r\n                .setState( ScheduledTaskState.AWAIT )\r\n                .setType( scheduledTaskType )\r\n                .setObjId( objId )\r\n                .setRunCount( 0 );\r\n            scheduledTaskRepository.create( scheduledTask );\r\n        }\r\n    \r\n        public void resetTasksTryCount( ScheduledTaskType type, int runCount ) {\r\n            List&lt;ScheduledTask&gt; tasksToReset = scheduledTaskRepository.getTasksForReset( ScheduledTaskState.AWAIT, type, runCount );\r\n            tasksToReset.forEach( task -&gt; {\r\n                task.setRunCount( 0 );\r\n                update( task );\r\n            } );\r\n        }\r\n    \r\n        public void resetTaskTryCount( long id ) {\r\n            scheduledTaskRepository.resetTask( id );\r\n        }\r\n    \r\n        public void update( ScheduledTask scheduledTask ) {\r\n            scheduledTaskRepository.update( scheduledTask );\r\n        }\r\n    \r\n        public List&lt;ScheduledTask&gt; getTasksByStateAndType( ScheduledTaskState state, ScheduledTaskType type, int maxRunCount ) {\r\n            return scheduledTaskRepository.getTasksByStateAndType( state, type, maxRunCount );\r\n        }\r\n    \r\n        public ScheduledTask get( long id ) {\r\n            return scheduledTaskRepository.get( id );\r\n        }\r\n\r\nThis is my build.gradle of common module\r\n\r\n    dependencies {\r\n        implementation project(&#39;:common-modules:general&#39;)\r\n    \r\n        compileOnly &#39;org.mybatis.spring.boot:mybatis-spring-boot-starter:2.1.3&#39;\r\n        compileOnly &#39;org.projectlombok:lombok&#39;\r\n    \r\n        api &quot;io.springfox:springfox-swagger2:${swagger_version}&quot;\r\n    \r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \r\n    }\r\n\r\nspring.factories in common module\r\n\r\n    org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\r\n      ru.test.app.common.scheduling.CommonScheduling\r\n\r\nAnd the problem is that when i include common module as dependency of another module and trying to run test, where im calling service, i get the exception\r\n\r\n        Invalid bound statement (not found): ru.test.app.common.scheduling.repository.ScheduledTaskRepository.getTasksByStateAndType\r\n    org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): ru.test.app.common.scheduling.repository.ScheduledTaskRepository.getTasksByStateAndType\r\n    \tat org.apache.ibatis.binding.MapperMethod$SqlCommand.&lt;init&gt;(MapperMethod.java:235)\r\n    \tat org.apache.ibatis.binding.MapperMethod.&lt;init&gt;(MapperMethod.java:53)\r\n    \tat org.apache.ibatis.binding.MapperProxy.lambda$cachedMapperMethod$0(MapperProxy.java:98)\r\n    \tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\r\n    \tat org.apache.ibatis.binding.MapperProxy.cachedMapperMethod(MapperProxy.java:97)\r\n    \tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:92)\r\n    \tat com.sun.proxy.$Proxy193.getTasksByStateAndType(Unknown Source)\r\n    \tat ru.test.app.common.scheduling.service.ScheduledTaskService.getTasksByStateAndType(ScheduledTaskService.java:50)\r\n    \tat ru.test.app.common.scheduling.processor.AbstractTaskProcessor.getPendingTasks(AbstractTaskProcessor.java:28)\r\n    \tat ru.test.app.egron.sheduling.processor.SendStatusUpdateEventProcessor.prepareTasks(SendStatusUpdateEventProcessor.java:27)\r\n    \tat ru.test.app.common.scheduling.processor.AbstractListTaskProcessor.process(AbstractListTaskProcessor.java:25)\r\n    \tat ru.test.app.egron.scheduling.SendMortgageStatusUpdateEventProcessorTest.testProcess(SendMortgageStatusUpdateEventProcessorTest.java:32)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:686)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:212)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:208)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n    \tat com.sun.proxy.$Proxy5.stop(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)","title":"How to use mybatis mapper as common repository for different modules","body":"<p>I want to create a common module, which i will use in different modules.\nMost of modules are using mybatis, and some modules are using Spring Data with Hibernate.</p>\n<p>I have an idea to create a common interface and default implementation for Mybatis.</p>\n<p>So im trying to create common interface</p>\n<pre><code>public interface ScheduledTaskRepository {\n\n    List&lt;ScheduledTask&gt; getTasksByStateAndType( ScheduledTaskState state, ScheduledTaskType type, int maxRunCount );\n\n    void create( ScheduledTask task );\n\n    void update( ScheduledTask task );\n\n    List&lt;ScheduledTask&gt; getTasksForReset( ScheduledTaskState state, ScheduledTaskType type, int runCount );\n\n    void resetTask( long id );\n\n    ScheduledTask get( long id );\n\n}\n</code></pre>\n<p>and it's mybatis implementation</p>\n<pre><code>@Mapper\n@ConditionalOnBean(MybatisAutoConfiguration.class)\npublic interface MybatisScheduledTaskRepository extends ScheduledTaskRepository {\n\n    @Override\n    @Select(&quot;SELECT * FROM scheduled_tasks WHERE state = #{state} AND type = #{type} AND run_count &lt; #{maxRunCount}&quot;)\n    List&lt;ScheduledTask&gt; getTasksByStateAndType( @Param(&quot;state&quot;) ScheduledTaskState state,\n                                                @Param(&quot;type&quot;) ScheduledTaskType type,\n                                                @Param(&quot;maxRunCount&quot;) int maxRunCount );\n\n    @Override\n    @Insert(&quot;INSERT INTO scheduled_tasks (creation_time, last_run, state, run_count, type, obj_id) &quot; +\n        &quot;VALUES (#{creationTime}, #{lastRun}, #{state}, #{runCount}, #{type}, #{objId})&quot;)\n    void create( ScheduledTask task );\n\n    @Override\n    @Update(&quot;UPDATE scheduled_tasks SET creation_time = #{creationTime}, last_run = #{lastRun}, state = #{state}, &quot; +\n        &quot;run_count = #{runCount}, type = #{type}, obj_id = #{objId} WHERE id = #{id}&quot;)\n    void update( ScheduledTask task );\n\n    @Override\n    @Select(&quot;SELECT * FROM scheduled_tasks WHERE state = #{state} AND type = #{type} AND run_count &gt;= #{runCount}&quot;)\n    List&lt;ScheduledTask&gt; getTasksForReset( @Param(&quot;state&quot;) ScheduledTaskState state,\n                                          @Param(&quot;type&quot;) ScheduledTaskType type,\n                                          @Param(&quot;runCount&quot;) int runCount );\n\n    @Override\n    @Update(&quot;UPDATE scheduled_tasks SET run_count = 0 where id = #{id}&quot;)\n    void resetTask( @Param(&quot;id&quot;) long id );\n\n    @Override\n    @Select(&quot;SELECT * FROM scheduled_tasks WHERE od = #{id}&quot;)\n    ScheduledTask get( @Param(&quot;id&quot;) long id );\n}\n</code></pre>\n<p>Then i create service in the common module for working with mapper</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class ScheduledTaskService {\n\n    private final ScheduledTaskRepository scheduledTaskRepository;\n\n    public void create( ScheduledTask scheduledTask ) {\n        scheduledTaskRepository.create( scheduledTask );\n    }\n\n    public void create( ScheduledTaskType scheduledTaskType, Long objId ) {\n        ScheduledTask scheduledTask = new ScheduledTask();\n        scheduledTask.setCreationTime( LocalDateTime.now() )\n            .setState( ScheduledTaskState.AWAIT )\n            .setType( scheduledTaskType )\n            .setObjId( objId )\n            .setRunCount( 0 );\n        scheduledTaskRepository.create( scheduledTask );\n    }\n\n    public void resetTasksTryCount( ScheduledTaskType type, int runCount ) {\n        List&lt;ScheduledTask&gt; tasksToReset = scheduledTaskRepository.getTasksForReset( ScheduledTaskState.AWAIT, type, runCount );\n        tasksToReset.forEach( task -&gt; {\n            task.setRunCount( 0 );\n            update( task );\n        } );\n    }\n\n    public void resetTaskTryCount( long id ) {\n        scheduledTaskRepository.resetTask( id );\n    }\n\n    public void update( ScheduledTask scheduledTask ) {\n        scheduledTaskRepository.update( scheduledTask );\n    }\n\n    public List&lt;ScheduledTask&gt; getTasksByStateAndType( ScheduledTaskState state, ScheduledTaskType type, int maxRunCount ) {\n        return scheduledTaskRepository.getTasksByStateAndType( state, type, maxRunCount );\n    }\n\n    public ScheduledTask get( long id ) {\n        return scheduledTaskRepository.get( id );\n    }\n</code></pre>\n<p>This is my build.gradle of common module</p>\n<pre><code>dependencies {\n    implementation project(':common-modules:general')\n\n    compileOnly 'org.mybatis.spring.boot:mybatis-spring-boot-starter:2.1.3'\n    compileOnly 'org.projectlombok:lombok'\n\n    api &quot;io.springfox:springfox-swagger2:${swagger_version}&quot;\n\n    annotationProcessor 'org.projectlombok:lombok'\n\n}\n</code></pre>\n<p>spring.factories in common module</p>\n<pre><code>org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\n  ru.test.app.common.scheduling.CommonScheduling\n</code></pre>\n<p>And the problem is that when i include common module as dependency of another module and trying to run test, where im calling service, i get the exception</p>\n<pre><code>    Invalid bound statement (not found): ru.test.app.common.scheduling.repository.ScheduledTaskRepository.getTasksByStateAndType\norg.apache.ibatis.binding.BindingException: Invalid bound statement (not found): ru.test.app.common.scheduling.repository.ScheduledTaskRepository.getTasksByStateAndType\n    at org.apache.ibatis.binding.MapperMethod$SqlCommand.&lt;init&gt;(MapperMethod.java:235)\n    at org.apache.ibatis.binding.MapperMethod.&lt;init&gt;(MapperMethod.java:53)\n    at org.apache.ibatis.binding.MapperProxy.lambda$cachedMapperMethod$0(MapperProxy.java:98)\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\n    at org.apache.ibatis.binding.MapperProxy.cachedMapperMethod(MapperProxy.java:97)\n    at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:92)\n    at com.sun.proxy.$Proxy193.getTasksByStateAndType(Unknown Source)\n    at ru.test.app.common.scheduling.service.ScheduledTaskService.getTasksByStateAndType(ScheduledTaskService.java:50)\n    at ru.test.app.common.scheduling.processor.AbstractTaskProcessor.getPendingTasks(AbstractTaskProcessor.java:28)\n    at ru.test.app.egron.sheduling.processor.SendStatusUpdateEventProcessor.prepareTasks(SendStatusUpdateEventProcessor.java:27)\n    at ru.test.app.common.scheduling.processor.AbstractListTaskProcessor.process(AbstractListTaskProcessor.java:25)\n    at ru.test.app.egron.scheduling.SendMortgageStatusUpdateEventProcessorTest.testProcess(SendMortgageStatusUpdateEventProcessorTest.java:32)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:686)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:212)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:208)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy5.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n"},{"tags":["java","android","tabs","fragment"],"answers":[{"comments":[{"owner":{"account_id":16100418,"reputation":221,"user_id":11621341,"display_name":"rav"},"score":0,"creation_date":1574750804,"post_id":59045057,"comment_id":104331773,"body_markdown":"I tried , the problem is onViewCreated() is called even when fragment (tab2) is not visible. What I want , is when second fragment is visible I want to show progress dialog then display the data","body":"I tried , the problem is onViewCreated() is called even when fragment (tab2) is not visible. What I want , is when second fragment is visible I want to show progress dialog then display the data"}],"tags":[],"owner":{"account_id":3396576,"reputation":987,"user_id":2850044,"accept_rate":56,"display_name":"Vinay Jayaram"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574751174,"creation_date":1574750283,"answer_id":59045057,"question_id":59044965,"body_markdown":"You should call API&#39;s inside the fragment probably in **setUserVisibleHint** method in android \r\n\r\n    boolean _areLecturesLoaded = false;\r\n    \r\n    @Override\r\n     public void setUserVisibleHint(boolean isVisibleToUser) {\r\n         super.setUserVisibleHint(isVisibleToUser);\r\n         if (isVisibleToUser &amp;&amp; !_areLecturesLoaded ) {\r\n          loadYourRetrofitData(); //Load your data here  \r\n          _areLecturesLoaded = true;\r\n         }\r\n     }\r\n\r\n","title":"Calling API when swiping tabs","body":"<p>You should call API's inside the fragment probably in <strong>setUserVisibleHint</strong> method in android </p>\n\n<pre><code>boolean _areLecturesLoaded = false;\n\n@Override\n public void setUserVisibleHint(boolean isVisibleToUser) {\n     super.setUserVisibleHint(isVisibleToUser);\n     if (isVisibleToUser &amp;&amp; !_areLecturesLoaded ) {\n      loadYourRetrofitData(); //Load your data here  \n      _areLecturesLoaded = true;\n     }\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16100418,"reputation":221,"user_id":11621341,"display_name":"rav"},"score":0,"creation_date":1574750831,"post_id":59045081,"comment_id":104331782,"body_markdown":"what should I return at the end?","body":"what should I return at the end?"},{"owner":{"account_id":4869796,"reputation":5586,"user_id":3926727,"accept_rate":100,"display_name":"Rasel"},"score":0,"creation_date":1574750985,"post_id":59045081,"comment_id":104331835,"body_markdown":"Edited .check now","body":"Edited .check now"},{"owner":{"account_id":16100418,"reputation":221,"user_id":11621341,"display_name":"rav"},"score":0,"creation_date":1574751206,"post_id":59045081,"comment_id":104331907,"body_markdown":"from which method in fragment should I call getUserVisibleHint()","body":"from which method in fragment should I call getUserVisibleHint()"},{"owner":{"account_id":4869796,"reputation":5586,"user_id":3926727,"accept_rate":100,"display_name":"Rasel"},"score":0,"creation_date":1574751652,"post_id":59045081,"comment_id":104332071,"body_markdown":"you should override this method in fragment and this method isVisibleToUser give you true if user is currently seeing this tab fragment. so you can call your api here","body":"you should override this method in fragment and this method isVisibleToUser give you true if user is currently seeing this tab fragment. so you can call your api here"},{"owner":{"account_id":16100418,"reputation":221,"user_id":11621341,"display_name":"rav"},"score":0,"creation_date":1574752015,"post_id":59045081,"comment_id":104332223,"body_markdown":"But it&#39;s never getting called","body":"But it&#39;s never getting called"}],"tags":[],"owner":{"account_id":4869796,"reputation":5586,"user_id":3926727,"accept_rate":100,"display_name":"Rasel"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574750951,"creation_date":1574750379,"answer_id":59045081,"question_id":59044965,"body_markdown":"Use this method in your fragment to get visibility state of fragment and then call your api thre.\r\n\r\n    @Override \r\n    boolean getUserVisibleHint() {\r\n        super.getUserVisibleHint()\r\n        boolean isVisibleToUser=super.getUserVisibleHint()\r\n        if(isVisibleToUser){\r\n            //call api here\r\n        }\r\n        return isVisibleToUser\r\n    }","title":"Calling API when swiping tabs","body":"<p>Use this method in your fragment to get visibility state of fragment and then call your api thre.</p>\n\n<pre><code>@Override \nboolean getUserVisibleHint() {\n    super.getUserVisibleHint()\n    boolean isVisibleToUser=super.getUserVisibleHint()\n    if(isVisibleToUser){\n        //call api here\n    }\n    return isVisibleToUser\n}\n</code></pre>\n"}],"owner":{"account_id":16100418,"reputation":221,"user_id":11621341,"display_name":"rav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1709,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1684250328,"creation_date":1574749748,"question_id":59044965,"body_markdown":"I have a tab layout with 3 tabs.Each one of the tabs need to display some data from API calling (I&#39;m using Retrofit).\r\n\r\nSo , I have the main activity when user opens that activity I fetch the data for the first tab then display the view \r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            context = this;\r\n    \r\n            if (Application.isConnected()) {\r\n                getTrips();\r\n    \r\n            } else {\r\n                Toast.makeText(this , &quot;No internet Connection&quot; , Toast.LENGTH_LONG).show();\r\n                setContentView(R.layout.no_internet_connection);\r\n            }\r\n       }\r\n\r\nSo in the success of the API call I inflate the view as below \r\n\r\n \r\n\r\n       public void inflatingView () {\r\n    \r\n            setContentView(R.layout.activity_mytrip);\r\n            context = this;\r\n    \r\n            tvTitle = findViewById(R.id.tv_title);\r\n            tabLayout = findViewById(R.id.tablayout);\r\n            tvTitle.setText(&quot;Trips&quot;);\r\n            tabLayout.addTab(tabLayout.newTab().setText(&quot;My Trips&quot;));\r\n            tabLayout.addTab(tabLayout.newTab().setText(&quot;Unclosed Trips&quot;));\r\n            tabLayout.addTab(tabLayout.newTab().setText(&quot;UnApproved Trips&quot;));\r\n    \r\n    \r\n            viewPager = findViewById(R.id.viewpager);\r\n            myTripAdapter = new MyTripAdapter(getSupportFragmentManager(),tabLayout.getTabCount());\r\n            viewPager.setAdapter(myTripAdapter);\r\n            viewPager.setOffscreenPageLimit(3);\r\n    \r\n    \r\n            tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n                @Override\r\n                public void onTabSelected(TabLayout.Tab tab) {\r\n    \r\n                    switch (tabLayout.getSelectedTabPosition()) { \r\n    \r\n                        case 0 :\r\n                            Log.d(&quot;test&quot; , &quot;first tab&quot;);\r\n                            break;\r\n                        case 1 :\r\n                            Log.d(&quot;test&quot; , &quot;Second tab&quot;);\r\n                            getTab2Data();\r\n                            break;\r\n                        case 2 :\r\n                            Log.d(&quot;test&quot; , &quot;Third tab&quot;);\r\n                            break;\r\n                    }\r\n    \r\n                    viewPager.setCurrentItem(tabLayout.getSelectedTabPosition());\r\n                }\r\n    \r\n                @Override\r\n                public void onTabUnselected(TabLayout.Tab tab) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onTabReselected(TabLayout.Tab tab) {\r\n                    \r\n                }\r\n            });\r\n    \r\n            viewPager.addOnPageChangeListener(new TabLayout.TabLayoutOnPageChangeListener(tabLayout));\r\n    \r\n        }\r\n\r\n\r\nSo , The data for first fragment in first tab is obtained , My problem is with fragment 2 and 3.I only want to call the API when user swiping. As you see above I tried to detect when user swipe to second tab then I call method to fetch data but unfortunately it&#39;s now working.\r\n\r\nDo you have any idea on how to do this?","title":"Calling API when swiping tabs","body":"<p>I have a tab layout with 3 tabs.Each one of the tabs need to display some data from API calling (I'm using Retrofit).</p>\n\n<p>So , I have the main activity when user opens that activity I fetch the data for the first tab then display the view </p>\n\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        context = this;\n\n        if (Application.isConnected()) {\n            getTrips();\n\n        } else {\n            Toast.makeText(this , \"No internet Connection\" , Toast.LENGTH_LONG).show();\n            setContentView(R.layout.no_internet_connection);\n        }\n   }\n</code></pre>\n\n<p>So in the success of the API call I inflate the view as below </p>\n\n<pre><code>   public void inflatingView () {\n\n        setContentView(R.layout.activity_mytrip);\n        context = this;\n\n        tvTitle = findViewById(R.id.tv_title);\n        tabLayout = findViewById(R.id.tablayout);\n        tvTitle.setText(\"Trips\");\n        tabLayout.addTab(tabLayout.newTab().setText(\"My Trips\"));\n        tabLayout.addTab(tabLayout.newTab().setText(\"Unclosed Trips\"));\n        tabLayout.addTab(tabLayout.newTab().setText(\"UnApproved Trips\"));\n\n\n        viewPager = findViewById(R.id.viewpager);\n        myTripAdapter = new MyTripAdapter(getSupportFragmentManager(),tabLayout.getTabCount());\n        viewPager.setAdapter(myTripAdapter);\n        viewPager.setOffscreenPageLimit(3);\n\n\n        tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n            @Override\n            public void onTabSelected(TabLayout.Tab tab) {\n\n                switch (tabLayout.getSelectedTabPosition()) { \n\n                    case 0 :\n                        Log.d(\"test\" , \"first tab\");\n                        break;\n                    case 1 :\n                        Log.d(\"test\" , \"Second tab\");\n                        getTab2Data();\n                        break;\n                    case 2 :\n                        Log.d(\"test\" , \"Third tab\");\n                        break;\n                }\n\n                viewPager.setCurrentItem(tabLayout.getSelectedTabPosition());\n            }\n\n            @Override\n            public void onTabUnselected(TabLayout.Tab tab) {\n\n            }\n\n            @Override\n            public void onTabReselected(TabLayout.Tab tab) {\n\n            }\n        });\n\n        viewPager.addOnPageChangeListener(new TabLayout.TabLayoutOnPageChangeListener(tabLayout));\n\n    }\n</code></pre>\n\n<p>So , The data for first fragment in first tab is obtained , My problem is with fragment 2 and 3.I only want to call the API when user swiping. As you see above I tried to detect when user swipe to second tab then I call method to fetch data but unfortunately it's now working.</p>\n\n<p>Do you have any idea on how to do this?</p>\n"},{"tags":["java","ssl","jenkins","certificate","cacerts"],"answers":[{"comments":[{"owner":{"account_id":5931149,"reputation":137,"user_id":4665536,"accept_rate":60,"display_name":"John Fisher"},"score":0,"creation_date":1684279773,"post_id":76264677,"comment_id":134494439,"body_markdown":"Your example is for the keystore, not the cacerts file -- isn&#39;t that different?\n\nAlso, how do I get the new file inside the jenkins container?","body":"Your example is for the keystore, not the cacerts file -- isn&#39;t that different?  Also, how do I get the new file inside the jenkins container?"}],"tags":[],"owner":{"account_id":4221608,"reputation":43,"user_id":3456260,"display_name":"Hanuman"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684250235,"creation_date":1684250235,"answer_id":76264677,"question_id":76263992,"body_markdown":"You can create custom values yaml file, and provide the details that are different from values.yaml, use the custom  values yaml when applying your helm chart \r\n\r\n     javaOpts: &gt;\r\n        -Djavax.net.ssl.trustStore=/var/jenkins_keystore/keystore.jks\r\n        -Djavax.net.ssl.trustStorePassword=changeit\r\n        -Dcom.sun.jndi.ldap.object.disableEndpointIdentification=true \r\n        -Dcom.sun.jndi.ldapURLParsing=&quot;legacy&quot;","title":"Jenkins Helm container and custom cacerts","body":"<p>You can create custom values yaml file, and provide the details that are different from values.yaml, use the custom  values yaml when applying your helm chart</p>\n<pre><code> javaOpts: &gt;\n    -Djavax.net.ssl.trustStore=/var/jenkins_keystore/keystore.jks\n    -Djavax.net.ssl.trustStorePassword=changeit\n    -Dcom.sun.jndi.ldap.object.disableEndpointIdentification=true \n    -Dcom.sun.jndi.ldapURLParsing=&quot;legacy&quot;\n</code></pre>\n"}],"owner":{"account_id":5931149,"reputation":137,"user_id":4665536,"accept_rate":60,"display_name":"John Fisher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684250235,"creation_date":1684245910,"question_id":76263992,"body_markdown":"\r\nOur company injects self-signed SSL certificates. Therefore, we need a custom cacerts file in Java applications to make connections out to the internet. Otherwise, we get certificate authority errors.\r\n\r\nWe are attempting to install Jenkins on our local Kubernetes cluster using the Jenkins Helm chart (https://artifacthub.io/packages/helm/jenkinsci/jenkins), which comes with it&#39;s own Java VM. When Jenkins starts up, it is reaching out to the updats.jenkins.io, and failing with an error of:\r\n\r\n```\r\nUnable to retrieve JSON from https://updates.jenkins.io/update-center.json?version=2.387.1:\r\nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException:\r\nunable to find valid certification path to requested target\r\n```\r\n\r\nI&#39;m guessing that replacing the cacerts file in the included Java VM will fix the problem, but I&#39;m not sure how to do it. How do you modify files on Docker image that are referenced by a Helm chart?\r\n\r\nAny ideas out there?\r\n","title":"Jenkins Helm container and custom cacerts","body":"<p>Our company injects self-signed SSL certificates. Therefore, we need a custom cacerts file in Java applications to make connections out to the internet. Otherwise, we get certificate authority errors.</p>\n<p>We are attempting to install Jenkins on our local Kubernetes cluster using the Jenkins Helm chart (<a href=\"https://artifacthub.io/packages/helm/jenkinsci/jenkins\" rel=\"nofollow noreferrer\">https://artifacthub.io/packages/helm/jenkinsci/jenkins</a>), which comes with it's own Java VM. When Jenkins starts up, it is reaching out to the updats.jenkins.io, and failing with an error of:</p>\n<pre><code>Unable to retrieve JSON from https://updates.jenkins.io/update-center.json?version=2.387.1:\nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException:\nunable to find valid certification path to requested target\n</code></pre>\n<p>I'm guessing that replacing the cacerts file in the included Java VM will fix the problem, but I'm not sure how to do it. How do you modify files on Docker image that are referenced by a Helm chart?</p>\n<p>Any ideas out there?</p>\n"},{"tags":["java","cdi","quarkus","custom-scope"],"comments":[{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1684228213,"post_id":76261145,"comment_id":134483333,"body_markdown":"I&#39;m not sure you need the `CustomScopeBuildItem`, registering the context should be enough. What I&#39;m sure you _do_ need is to call the `done()` method on the `ContextConfigurator` -- without that, your custom context will not be registered.","body":"I&#39;m not sure you need the <code>CustomScopeBuildItem</code>, registering the context should be enough. What I&#39;m sure you <i>do</i> need is to call the <code>done()</code> method on the <code>ContextConfigurator</code> -- without that, your custom context will not be registered."},{"owner":{"account_id":6963528,"reputation":6523,"user_id":5342297,"display_name":"Siliarus"},"score":1,"creation_date":1684228923,"post_id":76261145,"comment_id":134483528,"body_markdown":"What you are doing seems correct in terms of context registration. If you try to retrieve a `Bean` object and query it for the scope, which scope are you seeing? I.e. try something like this: `Arc.container().instance(AtomicLong.class).getBean().getScope();`\nAlso, have you checked if your Quarkus extensions is invoked and registration methods (`registerContext` and `customScope`) are called during build?","body":"What you are doing seems correct in terms of context registration. If you try to retrieve a <code>Bean</code> object and query it for the scope, which scope are you seeing? I.e. try something like this: <code>Arc.container().instance(AtomicLong.class).getBean().getScop&zwnj;&#8203;e();</code> Also, have you checked if your Quarkus extensions is invoked and registration methods (<code>registerContext</code> and <code>customScope</code>) are called during build?"},{"owner":{"account_id":6963528,"reputation":6523,"user_id":5342297,"display_name":"Siliarus"},"score":0,"creation_date":1684229064,"post_id":76261145,"comment_id":134483564,"body_markdown":"The `CustomScopeBuildItem` allows the newly added context annotation to be recognized as bean defining annotation so it&#39;s better to have it there. Good point about calling `done()` though!","body":"The <code>CustomScopeBuildItem</code> allows the newly added context annotation to be recognized as bean defining annotation so it&#39;s better to have it there. Good point about calling <code>done()</code> though!"},{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1684229626,"post_id":76261145,"comment_id":134483688,"body_markdown":"OK, both my suggestions above are wrong. I believe ArC internally wouldn&#39;t need a second declaration of custom scope, registering custom context should be enough, but there are other parts of Quarkus that do require the `CustomScopeBuildItem` to be produced. So certainly keep that. Also calling `done()` doesn&#39;t seem to be necessary, as Quarkus will do that automatically (in `ArcProcessor.registerBeans()`). So the issue must be somewhere else.","body":"OK, both my suggestions above are wrong. I believe ArC internally wouldn&#39;t need a second declaration of custom scope, registering custom context should be enough, but there are other parts of Quarkus that do require the <code>CustomScopeBuildItem</code> to be produced. So certainly keep that. Also calling <code>done()</code> doesn&#39;t seem to be necessary, as Quarkus will do that automatically (in <code>ArcProcessor.registerBeans()</code>). So the issue must be somewhere else."},{"owner":{"account_id":3580881,"reputation":5060,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"score":0,"creation_date":1684230105,"post_id":76261145,"comment_id":134483803,"body_markdown":"I just gave it a try with `Arc.container().instance(AtomicLong.class).getBean().getScope();` It actually says it is TenantScoped, which would be correct. But still my context implementation is not getting called. No stop on breakpoints or log point hits. As said, it does work with `QuarkusUnitTest` which makes the whole thing more wierd.","body":"I just gave it a try with <code>Arc.container().instance(AtomicLong.class).getBean().getScop&zwnj;&#8203;e();</code> It actually says it is TenantScoped, which would be correct. But still my context implementation is not getting called. No stop on breakpoints or log point hits. As said, it does work with <code>QuarkusUnitTest</code> which makes the whole thing more wierd."},{"owner":{"account_id":6963528,"reputation":6523,"user_id":5342297,"display_name":"Siliarus"},"score":1,"creation_date":1684231423,"post_id":76261145,"comment_id":134484109,"body_markdown":"That would indicate the scope gets registered correctly. We might need a small GH reproducer project to be able to look into your impl and what happens there.","body":"That would indicate the scope gets registered correctly. We might need a small GH reproducer project to be able to look into your impl and what happens there."},{"owner":{"account_id":3580881,"reputation":5060,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"score":0,"creation_date":1684247028,"post_id":76261145,"comment_id":134488106,"body_markdown":"I&#39;ve build a reproducer and while doing that figured out, that it is a problem when producing a `AtomicLong` bean. Switching the type to a custom type makes the whole thing working as expected. So I think it is an issue/behaviour of the CDI with certain types. Does that ring any bell?","body":"I&#39;ve build a reproducer and while doing that figured out, that it is a problem when producing a <code>AtomicLong</code> bean. Switching the type to a custom type makes the whole thing working as expected. So I think it is an issue/behaviour of the CDI with certain types. Does that ring any bell?"},{"owner":{"account_id":3580881,"reputation":5060,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"score":0,"creation_date":1684249990,"post_id":76261145,"comment_id":134488942,"body_markdown":"@Siliarus I ended up opening an issue: https://github.com/quarkusio/quarkus/issues/33417","body":"@Siliarus I ended up opening an issue: <a href=\"https://github.com/quarkusio/quarkus/issues/33417\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/33417</a>"}],"owner":{"account_id":3580881,"reputation":5060,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684250070,"creation_date":1684227648,"question_id":76261145,"body_markdown":"I have a custom `@InjectableContext` which I register during my build step\r\n\r\n```\r\n    @BuildStep\r\n    ContextConfiguratorBuildItem registerContext(ContextRegistrationPhaseBuildItem contextRegistrationPhase) {\r\n        return new ContextConfiguratorBuildItem(\r\n            contextRegistrationPhase.getContext().configure(TenantScoped.class).normal().contextClass(TenantScopeContext.class));\r\n    }\r\n\r\n    @BuildStep\r\n    CustomScopeBuildItem customScope() {\r\n        return new CustomScopeBuildItem(TenantScoped.class);\r\n    }\r\n```\r\n\r\nThe annotation looks like this\r\n```\r\n@NormalScope\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.TYPE, ElementType.METHOD, ElementType.FIELD})\r\npublic @interface TenantScoped {}\r\n```\r\n\r\nWhen I run a `QuarkusUnitTest` in my deployment module, the context seems to work and is beeing applied. The get(..) methods of the injectable context implementation are called.\r\n\r\nWhen I add the extension to an actual application, it seems not to work anymore. With `@TenantScope` annotated beans are produced as regular `@ApplicationScoped`, with my custom injectable context completely skipped.\r\n\r\nMy test service looks like this:\r\n```\r\n@ApplicationScoped\r\npublic class Service {\r\n\r\n    @Inject\r\n    @Named(&quot;tenantLong&quot;)\r\n    AtomicLong tenantScopedString;\r\n\r\n    public void setLong(long number) {\r\n        tenantScopedString.set(number);\r\n    }\r\n\r\n    public long getLong() {\r\n        return tenantScopedString.get();\r\n    }\r\n\r\n    @TenantScoped\r\n    @Named(&quot;tenantLong&quot;)\r\n    @Produces\r\n    AtomicLong tenantLong() {\r\n        return new AtomicLong(-1);\r\n    }\r\n}\r\n```\r\n\r\nI had a look at the implementation of the `io.quarkus.narayana.jta.runtime.context.TransactionContext` which seems to be done exactly the same way. So apparently something must be wrong or missing with my implementation.\r\n\r\nIs there any obvious mistake or is there a detail somewhere else which I might have missed?\r\n\r\nEDIT\r\nThe issue is the bean type which I am using here. Somehow when using a type like `AtomicLong` it does skip the context implementation. Pobably know more soon: https://github.com/quarkusio/quarkus/issues/33417","title":"My custom &quot;cdi&quot; context is not getting applied/ called","body":"<p>I have a custom <code>@InjectableContext</code> which I register during my build step</p>\n<pre><code>    @BuildStep\n    ContextConfiguratorBuildItem registerContext(ContextRegistrationPhaseBuildItem contextRegistrationPhase) {\n        return new ContextConfiguratorBuildItem(\n            contextRegistrationPhase.getContext().configure(TenantScoped.class).normal().contextClass(TenantScopeContext.class));\n    }\n\n    @BuildStep\n    CustomScopeBuildItem customScope() {\n        return new CustomScopeBuildItem(TenantScoped.class);\n    }\n</code></pre>\n<p>The annotation looks like this</p>\n<pre><code>@NormalScope\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.TYPE, ElementType.METHOD, ElementType.FIELD})\npublic @interface TenantScoped {}\n</code></pre>\n<p>When I run a <code>QuarkusUnitTest</code> in my deployment module, the context seems to work and is beeing applied. The get(..) methods of the injectable context implementation are called.</p>\n<p>When I add the extension to an actual application, it seems not to work anymore. With <code>@TenantScope</code> annotated beans are produced as regular <code>@ApplicationScoped</code>, with my custom injectable context completely skipped.</p>\n<p>My test service looks like this:</p>\n<pre><code>@ApplicationScoped\npublic class Service {\n\n    @Inject\n    @Named(&quot;tenantLong&quot;)\n    AtomicLong tenantScopedString;\n\n    public void setLong(long number) {\n        tenantScopedString.set(number);\n    }\n\n    public long getLong() {\n        return tenantScopedString.get();\n    }\n\n    @TenantScoped\n    @Named(&quot;tenantLong&quot;)\n    @Produces\n    AtomicLong tenantLong() {\n        return new AtomicLong(-1);\n    }\n}\n</code></pre>\n<p>I had a look at the implementation of the <code>io.quarkus.narayana.jta.runtime.context.TransactionContext</code> which seems to be done exactly the same way. So apparently something must be wrong or missing with my implementation.</p>\n<p>Is there any obvious mistake or is there a detail somewhere else which I might have missed?</p>\n<p>EDIT\nThe issue is the bean type which I am using here. Somehow when using a type like <code>AtomicLong</code> it does skip the context implementation. Pobably know more soon: <a href=\"https://github.com/quarkusio/quarkus/issues/33417\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/issues/33417</a></p>\n"},{"tags":["java","spring","spring-boot","pageable"],"comments":[{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1684241943,"post_id":76263222,"comment_id":134486592,"body_markdown":"Did you try the solution mentioned here? https://stackoverflow.com/questions/33675349/spring-data-rest-max-page-size-does-not-seem-to-be-working","body":"Did you try the solution mentioned here? <a href=\"https://stackoverflow.com/questions/33675349/spring-data-rest-max-page-size-does-not-seem-to-be-working\" title=\"spring data rest max page size does not seem to be working\">stackoverflow.com/questions/33675349/&hellip;</a>"},{"owner":{"account_id":20962427,"reputation":25,"user_id":15401560,"display_name":"Vitaliy"},"score":0,"creation_date":1684244863,"post_id":76263222,"comment_id":134487448,"body_markdown":"@Joan, yes. It doesn&#39;t work. But thank you.","body":"@Joan, yes. It doesn&#39;t work. But thank you."}],"answers":[{"tags":[],"owner":{"account_id":20962427,"reputation":25,"user_id":15401560,"display_name":"Vitaliy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684250055,"creation_date":1684250055,"answer_id":76264651,"question_id":76263222,"body_markdown":"Thank you, guys. I&#39;ve found a solution. \r\nI had a config class with following code:\r\n\r\n    @Override\r\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n        argumentResolvers.add(new SpecificationArgumentResolver(abstractApplicationContext));\r\n        argumentResolvers.add(new PageableHandlerMethodArgumentResolver());\r\n    }\r\n\r\nYou can see here \r\n\r\n&gt; PageableHandlerMethodArgumentResolver\r\n\r\nWhich I tried to change. I think it was a problem why my other configuration classes didn&#39;t work. \r\nAs I changed that code to: \r\n\r\n    @Override\r\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n        argumentResolvers.add(new SpecificationArgumentResolver(abstractApplicationContext));\r\n        PageableHandlerMethodArgumentResolver pageableHandlerMethodArgumentResolver = new PageableHandlerMethodArgumentResolver();\r\n        pageableHandlerMethodArgumentResolver.setMaxPageSize(100_000);\r\n        argumentResolvers.add(pageableHandlerMethodArgumentResolver);\r\n    }\r\n\r\nNow everything works fine. Thanks again!","title":"How to change Pageable defaulte maxSize behaviour?","body":"<p>Thank you, guys. I've found a solution.\nI had a config class with following code:</p>\n<pre><code>@Override\npublic void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n    argumentResolvers.add(new SpecificationArgumentResolver(abstractApplicationContext));\n    argumentResolvers.add(new PageableHandlerMethodArgumentResolver());\n}\n</code></pre>\n<p>You can see here</p>\n<blockquote>\n<p>PageableHandlerMethodArgumentResolver</p>\n</blockquote>\n<p>Which I tried to change. I think it was a problem why my other configuration classes didn't work.\nAs I changed that code to:</p>\n<pre><code>@Override\npublic void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n    argumentResolvers.add(new SpecificationArgumentResolver(abstractApplicationContext));\n    PageableHandlerMethodArgumentResolver pageableHandlerMethodArgumentResolver = new PageableHandlerMethodArgumentResolver();\n    pageableHandlerMethodArgumentResolver.setMaxPageSize(100_000);\n    argumentResolvers.add(pageableHandlerMethodArgumentResolver);\n}\n</code></pre>\n<p>Now everything works fine. Thanks again!</p>\n"}],"owner":{"account_id":20962427,"reputation":25,"user_id":15401560,"display_name":"Vitaliy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684250055,"creation_date":1684241454,"question_id":76263222,"body_markdown":"everyone. I have a controller with Specification and Pageable parameters. If I need to return data form db in a usual way - everything works fine. I get my data by 20 size pages. Like this:\r\n  \r\n\r\n        ............\r\n        &quot;totalElements&quot;: 2612,\r\n        &quot;totalPages&quot;: 131,\r\n        &quot;last&quot;: false,\r\n        &quot;size&quot;: 20,\r\n        &quot;number&quot;: 0,\r\n\r\n\r\nBut also, I need to return all my elements. Acording to the example, if I get totalElements: 2612 - I want to get all 2612. \r\nAs I understant, Spring has default max-page-size = 2000. Because of it, If I have a query with size = 2612\r\n\r\n    http://localhost:7038/api/get-journal/2c9a508179b2933a0179b2be69fd0003?yearReg=2023&amp;page=0&amp;size=2612\r\n\r\nI get an answer : \r\n\r\n        &quot;totalElements&quot;: 2612,\r\n        &quot;totalPages&quot;: 2,\r\n        &quot;last&quot;: false,\r\n        &quot;size&quot;: 2000,\r\n\r\n\r\nYou can see, that instead of 2612, I have 2000 and two pages. \r\n\r\nSimilar problems didn&#39;t help me:\r\n\r\n    https://stackoverflow.com/questions/23751193/spring-data-jpa-limit-pagesize-how-to-set-to-maxsize\r\n\r\nI&#39;ve already tried to create ConfigClass or add into app.properties : `spring.data.web.pageable.max-page-size=10000\r\nor\r\nspring.data.web.pageable.max-page-size=10000`\r\n\r\nI use Spring Boot 2.3.3.\r\n\r\n**EDIT**\r\nI get a changed variable even in my rest controller: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XcASU.png","title":"How to change Pageable defaulte maxSize behaviour?","body":"<p>everyone. I have a controller with Specification and Pageable parameters. If I need to return data form db in a usual way - everything works fine. I get my data by 20 size pages. Like this:</p>\n<pre><code>    ............\n    &quot;totalElements&quot;: 2612,\n    &quot;totalPages&quot;: 131,\n    &quot;last&quot;: false,\n    &quot;size&quot;: 20,\n    &quot;number&quot;: 0,\n</code></pre>\n<p>But also, I need to return all my elements. Acording to the example, if I get totalElements: 2612 - I want to get all 2612.\nAs I understant, Spring has default max-page-size = 2000. Because of it, If I have a query with size = 2612</p>\n<pre><code>http://localhost:7038/api/get-journal/2c9a508179b2933a0179b2be69fd0003?yearReg=2023&amp;page=0&amp;size=2612\n</code></pre>\n<p>I get an answer :</p>\n<pre><code>    &quot;totalElements&quot;: 2612,\n    &quot;totalPages&quot;: 2,\n    &quot;last&quot;: false,\n    &quot;size&quot;: 2000,\n</code></pre>\n<p>You can see, that instead of 2612, I have 2000 and two pages.</p>\n<p>Similar problems didn't help me:</p>\n<pre><code>https://stackoverflow.com/questions/23751193/spring-data-jpa-limit-pagesize-how-to-set-to-maxsize\n</code></pre>\n<p>I've already tried to create ConfigClass or add into app.properties : <code>spring.data.web.pageable.max-page-size=10000 or spring.data.web.pageable.max-page-size=10000</code></p>\n<p>I use Spring Boot 2.3.3.</p>\n<p><strong>EDIT</strong>\nI get a changed variable even in my rest controller:</p>\n<p><a href=\"https://i.stack.imgur.com/XcASU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XcASU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading","apache-camel"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1684249945,"post_id":76264627,"comment_id":134488925,"body_markdown":"I suppose you could use a `ThreadLocal`...","body":"I suppose you could use a <code>ThreadLocal</code>..."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684250305,"post_id":76264627,"comment_id":134489035,"body_markdown":"“Since I can&#39;t fix the the &quot;thread-unsafety&quot; of myResource” — but you can. If nothing else, `synchronize` every method on your resource.","body":"“Since I can&#39;t fix the the &quot;thread-unsafety&quot; of myResource” — but you can. If nothing else, <code>synchronize</code> every method on your resource."},{"owner":{"account_id":8584769,"reputation":111,"user_id":6431293,"display_name":"Alef"},"score":0,"creation_date":1684251359,"post_id":76264627,"comment_id":134489355,"body_markdown":"@BasilBourque : well, if that&#39;s the only answer, I might as well just configure my app so that Camel-Jetty is restrict to use only a single thread, that should be roughly the same performance but with less risks of interlocking.","body":"@BasilBourque : well, if that&#39;s the only answer, I might as well just configure my app so that Camel-Jetty is restrict to use only a single thread, that should be roughly the same performance but with less risks of interlocking."},{"owner":{"account_id":8584769,"reputation":111,"user_id":6431293,"display_name":"Alef"},"score":0,"creation_date":1684251463,"post_id":76264627,"comment_id":134489379,"body_markdown":"@Jorn : Never heard of it until now, but it seems pretty useful. I&#39;m however not sure of how to access the threads used by Apache Camel, so I don&#39;t know where I could place one of those ThreadLocal variables.","body":"@Jorn : Never heard of it until now, but it seems pretty useful. I&#39;m however not sure of how to access the threads used by Apache Camel, so I don&#39;t know where I could place one of those ThreadLocal variables."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1684252418,"post_id":76264627,"comment_id":134489639,"body_markdown":"@Alef You don&#39;t have to manage that yourself, ThreadLocal will use the current thread automatically.","body":"@Alef You don&#39;t have to manage that yourself, ThreadLocal will use the current thread automatically."}],"owner":{"account_id":8584769,"reputation":111,"user_id":6431293,"display_name":"Alef"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684249851,"creation_date":1684249851,"question_id":76264627,"body_markdown":"I have a web service based on Camel that can be summarised like this in Java DSL :\r\n\r\n```\r\npublic class MyRoute extends RouteBuilder {\r\n\t\r\n\t@Override\r\n\tpublic void configure() throws Exception {\r\n\t\tMyResource myResource = new MyResource();\r\n\t\t\r\n\t\tfrom(&quot;jetty:...&quot;)\r\n\t\t\t.setHeader(&quot;myResource&quot;, constant(myResource))\r\n\t\t\t.bean(MyProcessor.class)\r\n\t\t;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nThe data stored in `myResource` is necessary for the processing in the bean `MyProcessor`.\r\n\r\nThe initialisation of `myResource` can be quite long (few seconds), so I want to prepare it ahead of time when the app is starting, rather than initialising a throwaway copy at runtime every time there is a request on the service (aiming for milliseconds response times).\r\n\r\nThe code above worked fine when I was the only user of the service, but after doing some automated load testing, it appeared that some parts of `myResource` that are beyond my reach (external libraries) are not thread-safe.\r\n\r\nSince I can&#39;t fix the the &quot;thread-unsafety&quot; of `myResource`, I was hoping for a way to instantiate *N* distinct copies of `myResource`, so that each Camel-Jetty thread can use safely their own copy of `myResource`, but I didn&#39;t find any info on doing that in the documentation page about threads : https://camel.apache.org/manual/threading-model.html  \r\n\r\nHas anyone encountered and solved that issue before?\r\n\r\n","title":"Apache Camel : is there a way to reuse resources that aren&#39;t thread-safe in a threaded environment?","body":"<p>I have a web service based on Camel that can be summarised like this in Java DSL :</p>\n<pre><code>public class MyRoute extends RouteBuilder {\n    \n    @Override\n    public void configure() throws Exception {\n        MyResource myResource = new MyResource();\n        \n        from(&quot;jetty:...&quot;)\n            .setHeader(&quot;myResource&quot;, constant(myResource))\n            .bean(MyProcessor.class)\n        ;\n    }\n}\n</code></pre>\n<p>The data stored in <code>myResource</code> is necessary for the processing in the bean <code>MyProcessor</code>.</p>\n<p>The initialisation of <code>myResource</code> can be quite long (few seconds), so I want to prepare it ahead of time when the app is starting, rather than initialising a throwaway copy at runtime every time there is a request on the service (aiming for milliseconds response times).</p>\n<p>The code above worked fine when I was the only user of the service, but after doing some automated load testing, it appeared that some parts of <code>myResource</code> that are beyond my reach (external libraries) are not thread-safe.</p>\n<p>Since I can't fix the the &quot;thread-unsafety&quot; of <code>myResource</code>, I was hoping for a way to instantiate <em>N</em> distinct copies of <code>myResource</code>, so that each Camel-Jetty thread can use safely their own copy of <code>myResource</code>, but I didn't find any info on doing that in the documentation page about threads : <a href=\"https://camel.apache.org/manual/threading-model.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/manual/threading-model.html</a></p>\n<p>Has anyone encountered and solved that issue before?</p>\n"},{"tags":["java","equals","hashcode","equality","auto-value"],"comments":[{"owner":{"display_name":"user5182794"},"score":1,"creation_date":1530141806,"post_id":51072644,"comment_id":89135033,"body_markdown":"Im pretty sure 10^6+3 is a prime, which makes it less likely for a hash collision to happen than a composite number.","body":"Im pretty sure 10^6+3 is a prime, which makes it less likely for a hash collision to happen than a composite number."},{"owner":{"account_id":2434272,"reputation":696,"user_id":2124562,"display_name":"tune5ths"},"score":2,"creation_date":1530142562,"post_id":51072644,"comment_id":89135182,"body_markdown":"A prime number is needed to avoid hash collisions as @AJC mentions.  My guess is someone might have decided to &quot;use the 1st prime number over a million&quot; for possibly arbitrary reasons.  It would be interesting to know if there is a deeper reason.","body":"A prime number is needed to avoid hash collisions as @AJC mentions.  My guess is someone might have decided to &quot;use the 1st prime number over a million&quot; for possibly arbitrary reasons.  It would be interesting to know if there is a deeper reason."},{"owner":{"account_id":3335571,"reputation":3834,"user_id":2809294,"accept_rate":56,"display_name":"ARK"},"score":0,"creation_date":1530143159,"post_id":51072644,"comment_id":89135300,"body_markdown":"yeah, that seems like a googly thing to do..","body":"yeah, that seems like a googly thing to do.."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1684166723,"post_id":51072644,"comment_id":134474001,"body_markdown":"Note that Java&#39;s [`Object.hash`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Objects.html#hashCode(java.lang.Object)), [`Arrays.hashCode`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#hashCode(java.lang.Object%5B%5D)) and [`List.hashCode`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#hashCode()) all use the same implementation with 31 as their prime number.  If that&#39;s what Java is using, I suspect there&#39;s no benefit to 1000003 instead of 31.","body":"Note that Java&#39;s <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Objects.html#hashCode(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Object.hash</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#hashCode(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\"><code>Arrays.hashCode</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#hashCode()\" rel=\"nofollow noreferrer\"><code>List.hashCode</code></a> all use the same implementation with 31 as their prime number.  If that&#39;s what Java is using, I suspect there&#39;s no benefit to 1000003 instead of 31."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1684166824,"post_id":51072644,"comment_id":134474035,"body_markdown":"@M.Justin: &quot;why was this chosen&quot; questions are notoriously hard to do on SO, because they tend to not have &quot;correct&quot; answers unless the designers themselves show up. My suggestion is to contact the authors of the code directly and ask if anyone can remember the specific reasons for choosing that number.","body":"@M.Justin: &quot;why was this chosen&quot; questions are notoriously hard to do on SO, because they tend to not have &quot;correct&quot; answers unless the designers themselves show up. My suggestion is to contact the authors of the code directly and ask if anyone can remember the specific reasons for choosing that number."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1684167360,"post_id":51072644,"comment_id":134474161,"body_markdown":"@JoachimSauer Fair enough.  One thing that&#39;s not always apparent as a Stack Overflow curator is whether a question should be reopened because its close reason is invalid, or whether it should remain closed because although its close reason is invalid, it is still not a good fit for the site for other reasons.  I don&#39;t think Stack Overflow currently has a good solution to this problem, since people don&#39;t want to waste their time reopening and reclosing a question closed for the wrong reason.  Though maybe that&#39;s actually implemented now: https://meta.stackexchange.com/a/382937/308327.","body":"@JoachimSauer Fair enough.  One thing that&#39;s not always apparent as a Stack Overflow curator is whether a question should be reopened because its close reason is invalid, or whether it should remain closed because although its close reason is invalid, it is still not a good fit for the site for other reasons.  I don&#39;t think Stack Overflow currently has a good solution to this problem, since people don&#39;t want to waste their time reopening and reclosing a question closed for the wrong reason.  Though maybe that&#39;s actually implemented now: <a href=\"https://meta.stackexchange.com/a/382937/308327\">meta.stackexchange.com/a/382937/308327</a>."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1684167588,"post_id":51072644,"comment_id":134474217,"body_markdown":"True, I&#39;ve run into this issue myself a few times and usually simply stop interacting with the question ;-) Unrelated, I was curious if the history of autovalue gives a hint as to the answer of this question, but it seems that all public history of this project already contained that magic constant: https://github.com/google/auto/commit/d67532c38d7fb39906b2ee7de6567e6c2620ca2e","body":"True, I&#39;ve run into this issue myself a few times and usually simply stop interacting with the question ;-) Unrelated, I was curious if the history of autovalue gives a hint as to the answer of this question, but it seems that all public history of this project already contained that magic constant: <a href=\"https://github.com/google/auto/commit/d67532c38d7fb39906b2ee7de6567e6c2620ca2e\" rel=\"nofollow noreferrer\">github.com/google/auto/commit/&hellip;</a>"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1684167664,"post_id":51072644,"comment_id":134474230,"body_markdown":"@JoachimSauer Yep, that&#39;s where my personal investigations stalled out as well.  &quot;An initial import of @autovalue&quot;","body":"@JoachimSauer Yep, that&#39;s where my personal investigations stalled out as well.  &quot;An initial import of @autovalue&quot;"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":1,"creation_date":1684174830,"post_id":51072644,"comment_id":134475771,"body_markdown":"@JoachimSauer Your advice has been followed, authors have been asked, and an explanation has been given: https://github.com/google/auto/discussions/1516.  Kevin Bourrillion: &quot;use a hash calculation that was found by [another person] to perform far better than `*31+`&quot;; &quot;[…] I don&#39;t remember the details […] shift things over a golden-ratio fraction of the way. […] I guess I also thought it should be a nice simple number to the human eye. […] the idea of making it bigger was just to eat up all those initial zeros more quickly and get the bits to come back around and interfere with each other.&quot;","body":"@JoachimSauer Your advice has been followed, authors have been asked, and an explanation has been given: <a href=\"https://github.com/google/auto/discussions/1516\" rel=\"nofollow noreferrer\">github.com/google/auto/discussions/1516</a>.  Kevin Bourrillion: &quot;use a hash calculation that was found by [another person] to perform far better than <code>*31+</code>&quot;; &quot;[…] I don&#39;t remember the details […] shift things over a golden-ratio fraction of the way. […] I guess I also thought it should be a nice simple number to the human eye. […] the idea of making it bigger was just to eat up all those initial zeros more quickly and get the bits to come back around and interfere with each other.&quot;"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1684174861,"post_id":51072644,"comment_id":134475782,"body_markdown":"@JoachimSauer Which means that in addition to not being a duplicate, this question now has a concrete answer that can be given.  Which I&#39;d say argues much more strongly for reopening the question.","body":"@JoachimSauer Which means that in addition to not being a duplicate, this question now has a concrete answer that can be given.  Which I&#39;d say argues much more strongly for reopening the question."},{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":0,"creation_date":1684235697,"post_id":51072644,"comment_id":134485036,"body_markdown":"Just a guess: when using 31 as multiplier, the number pairs (0, 31) and (1, 0) produce the same hash code. By using a prime number that is larger than the typical numbers that are hashed, there is less chance of such a conflict.","body":"Just a guess: when using 31 as multiplier, the number pairs (0, 31) and (1, 0) produce the same hash code. By using a prime number that is larger than the typical numbers that are hashed, there is less chance of such a conflict."}],"answers":[{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684249809,"creation_date":1684249809,"answer_id":76264617,"question_id":51072644,"body_markdown":"According to [an internal Google commit](https://github.com/google/auto/discussions/1516#discussioncomment-5907729), 1000003 was chosen because a former Google employee found it to perform better than 31:\r\n\r\n&gt; use a hash calculation that was found by [another person] to perform far better than `*31+`\r\n\r\nWhen asked about this, AutoValue developer Kevin Bourrillion [explained reasons the number might have been chosen](https://github.com/google/auto/discussions/1516#discussioncomment-5907978):\r\n\r\n&gt; Although I don&#39;t remember the details.... it is kind of exactly like me to shift things over a golden-ratio fraction of the way. Though that might argue for a multiplier of 898,459, so I guess I also thought it should be a nice simple number to the human eye.\r\n&gt;\r\n&gt; But yeah, the idea of making it bigger was just to eat up all those initial zeros more quickly and get the bits to come back around and interfere with each other.\r\n\r\nHe also pointed out that a larger number reduces the chance of a hash collision in real-world scenarios:\r\n\r\n&gt; Also: (using `Integers` for simplicity) with `List.of(a, b)` and `List.of(c, d)` you get a collision if `b - d` happens to be 31 times `c - a`. And it&#39;s just a little easier to imagine real-world circumstances where that might happen to be true than it is with a much larger multiplier. No exact science here, though. `Object.hashCode` is never exactly going to be a high-quality hash function in any case.","title":"Why @AutoValue annotation uses the specific integer 1000003 for calculating hash code?","body":"<p>According to <a href=\"https://github.com/google/auto/discussions/1516#discussioncomment-5907729\" rel=\"nofollow noreferrer\">an internal Google commit</a>, 1000003 was chosen because a former Google employee found it to perform better than 31:</p>\n<blockquote>\n<p>use a hash calculation that was found by [another person] to perform far better than <code>*31+</code></p>\n</blockquote>\n<p>When asked about this, AutoValue developer Kevin Bourrillion <a href=\"https://github.com/google/auto/discussions/1516#discussioncomment-5907978\" rel=\"nofollow noreferrer\">explained reasons the number might have been chosen</a>:</p>\n<blockquote>\n<p>Although I don't remember the details.... it is kind of exactly like me to shift things over a golden-ratio fraction of the way. Though that might argue for a multiplier of 898,459, so I guess I also thought it should be a nice simple number to the human eye.</p>\n<p>But yeah, the idea of making it bigger was just to eat up all those initial zeros more quickly and get the bits to come back around and interfere with each other.</p>\n</blockquote>\n<p>He also pointed out that a larger number reduces the chance of a hash collision in real-world scenarios:</p>\n<blockquote>\n<p>Also: (using <code>Integers</code> for simplicity) with <code>List.of(a, b)</code> and <code>List.of(c, d)</code> you get a collision if <code>b - d</code> happens to be 31 times <code>c - a</code>. And it's just a little easier to imagine real-world circumstances where that might happen to be true than it is with a much larger multiplier. No exact science here, though. <code>Object.hashCode</code> is never exactly going to be a high-quality hash function in any case.</p>\n</blockquote>\n"}],"owner":{"account_id":3335571,"reputation":3834,"user_id":2809294,"accept_rate":56,"display_name":"ARK"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1684249809,"creation_date":1530141298,"question_id":51072644,"body_markdown":"Java hash code generation code often uses prime numbers in its calculations.  There are good reasons for this, as explained in https://stackoverflow.com/questions/3613102/why-use-a-prime-number-in-hashcode and elsewhere.\r\n\r\nFor example, [AutoValue](https://github.com/google/auto/tree/main/value) will generate the following hash code for a given value class:\r\n\r\n```lang-java\r\n@Override\r\npublic int hashCode() {\r\n  int h = 1;\r\n  h *= 1000003;\r\n  h ^= this.firstName.hashCode();\r\n  h *= 1000003;\r\n  h ^= this.lastName.hashCode();\r\n  h *= 1000003;\r\n  h ^= this.age;\r\n  return h;\r\n}\r\n```\r\n\r\nWhat is the reason behind AutoValue using the specific integer `1000003` instead of some other prime number? If I use IntelliJ to create an overridden `hashCode` method, it uses integer `31`.  Is there some logical and mathematical reasoning behind using the integer `1000003` to calculate hash codes, rather than some other prime number?  A Google search did not give me any answer to this.\r\n\r\nIts curious to know what the authors were thinking.\r\n","title":"Why @AutoValue annotation uses the specific integer 1000003 for calculating hash code?","body":"<p>Java hash code generation code often uses prime numbers in its calculations.  There are good reasons for this, as explained in <a href=\"https://stackoverflow.com/questions/3613102/why-use-a-prime-number-in-hashcode\">Why use a prime number in hashCode?</a> and elsewhere.</p>\n<p>For example, <a href=\"https://github.com/google/auto/tree/main/value\" rel=\"nofollow noreferrer\">AutoValue</a> will generate the following hash code for a given value class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int hashCode() {\n  int h = 1;\n  h *= 1000003;\n  h ^= this.firstName.hashCode();\n  h *= 1000003;\n  h ^= this.lastName.hashCode();\n  h *= 1000003;\n  h ^= this.age;\n  return h;\n}\n</code></pre>\n<p>What is the reason behind AutoValue using the specific integer <code>1000003</code> instead of some other prime number? If I use IntelliJ to create an overridden <code>hashCode</code> method, it uses integer <code>31</code>.  Is there some logical and mathematical reasoning behind using the integer <code>1000003</code> to calculate hash codes, rather than some other prime number?  A Google search did not give me any answer to this.</p>\n<p>Its curious to know what the authors were thinking.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1684237979,"post_id":76262175,"comment_id":134485523,"body_markdown":"I just wonder why you want to do this; specifically why you want to wait for a tab to be selected to load its content. This might create a poor UX as there will potentially be slight pauses before the UI appears after the user changes tabs. Why not just load the content for all the tabs immediately?","body":"I just wonder why you want to do this; specifically why you want to wait for a tab to be selected to load its content. This might create a poor UX as there will potentially be slight pauses before the UI appears after the user changes tabs. Why not just load the content for all the tabs immediately?"},{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1684239475,"post_id":76262175,"comment_id":134485920,"body_markdown":"The idea is good. I just don&#39;t understand now how can I switch to another Scene if I have it in another fxml file without loading it?","body":"The idea is good. I just don&#39;t understand now how can I switch to another Scene if I have it in another fxml file without loading it?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1684243481,"post_id":76262175,"comment_id":134487052,"body_markdown":"If you mean you have the content of each tab in a different FXML file, just use [`&lt;fx:include&gt;`](https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#include_elements). I don&#39;t really know what you mean by &quot;switch to another Scene&quot; in this context.","body":"If you mean you have the content of each tab in a different FXML file, just use <a href=\"https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#include_elements\" rel=\"nofollow noreferrer\"><code>&lt;fx:include&gt;</code></a>. I don&#39;t really know what you mean by &quot;switch to another Scene&quot; in this context."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1684244146,"post_id":76262175,"comment_id":134487226,"body_markdown":"Is this what you are trying to do? https://stackoverflow.com/q/39164050/2189127","body":"Is this what you are trying to do? <a href=\"https://stackoverflow.com/q/39164050/2189127\">stackoverflow.com/q/39164050/2189127</a>"}],"answers":[{"comments":[{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1684249702,"post_id":76262473,"comment_id":134488855,"body_markdown":"I have a slightly different startup class. I have updated my question","body":"I have a slightly different startup class. I have updated my question"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1684252390,"post_id":76262473,"comment_id":134489630,"body_markdown":"@Vanish What difference does that make?","body":"@Vanish What difference does that make?"}],"tags":[],"owner":{"account_id":28588403,"reputation":31,"user_id":21888185,"display_name":"Mukul Jahagirdar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684236315,"creation_date":1684236315,"answer_id":76262473,"question_id":76262175,"body_markdown":"If you want to navigate and load another FXML on clicking on specific TabPane, you need to use the `setOnSelectionChanged` event handler for the desired tab. \r\n\r\n    public class ABC extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        try {\r\n            TabPane tabPane = new TabPane();\r\n\r\n            Tab tab1 = new Tab(&quot;Tab 1&quot;);\r\n            tab1.setOnSelectionChanged(event -&gt; {\r\n                if (tab1.isSelected()) {\r\n                    loadFXML(&quot;file_1.fxml&quot;, tab1);\r\n                }\r\n            });\r\n\r\n            Tab tab2 = new Tab(&quot;Tab 2&quot;);\r\n            tab2.setOnSelectionChanged(event -&gt; {\r\n                if (tab2.isSelected()) {\r\n                    loadFXML(&quot;file_2.fxml&quot;, tab2);\r\n                }\r\n            });\r\n\r\n            tabPane.getTabs().addAll(tab1, tab2);\r\n\r\n            Scene scene = new Scene(tabPane, 400, 300);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void loadFXML(String fxmlPath, Tab tab) {\r\n        try {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(fxmlPath));\r\n            AnchorPane root = loader.load();\r\n\r\n            tab.setContent(root);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"How to make transition between tabs in JavaFX TabPane?","body":"<p>If you want to navigate and load another FXML on clicking on specific TabPane, you need to use the <code>setOnSelectionChanged</code> event handler for the desired tab.</p>\n<pre><code>public class ABC extends Application {\n\n@Override\npublic void start(Stage primaryStage) {\n    try {\n        TabPane tabPane = new TabPane();\n\n        Tab tab1 = new Tab(&quot;Tab 1&quot;);\n        tab1.setOnSelectionChanged(event -&gt; {\n            if (tab1.isSelected()) {\n                loadFXML(&quot;file_1.fxml&quot;, tab1);\n            }\n        });\n\n        Tab tab2 = new Tab(&quot;Tab 2&quot;);\n        tab2.setOnSelectionChanged(event -&gt; {\n            if (tab2.isSelected()) {\n                loadFXML(&quot;file_2.fxml&quot;, tab2);\n            }\n        });\n\n        tabPane.getTabs().addAll(tab1, tab2);\n\n        Scene scene = new Scene(tabPane, 400, 300);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void loadFXML(String fxmlPath, Tab tab) {\n    try {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(fxmlPath));\n        AnchorPane root = loader.load();\n\n        tab.setContent(root);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1684252421,"answer_count":1,"score":-1,"last_activity_date":1684249802,"creation_date":1684234293,"question_id":76262175,"body_markdown":"I have a TabPane with two Tabs and I want to load another FXML when I click on one Tab\r\n\r\n\r\n```\r\n&lt;TabPane fx:id=&quot;tabPaneGet&quot; layoutY=&quot;-7.0&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;560.0&quot; tabClosingPolicy=&quot;UNAVAILABLE&quot;&gt;\r\n              &lt;tabs&gt;\r\n                &lt;Tab disable=&quot;true&quot; text=&quot;Получить сообщение из очереди&quot;&gt;\r\n                  &lt;content&gt;\r\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot; /&gt;\r\n                  &lt;/content&gt;\r\n                &lt;/Tab&gt;\r\n                &lt;Tab text=&quot;Отправить сообщение в очередь&quot; fx:id=&quot;tabPaneSendMessage&quot;&gt;\r\n                  &lt;content&gt;\r\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot; /&gt;\r\n                  &lt;/content&gt;\r\n                &lt;/Tab&gt;\r\n              &lt;/tabs&gt;\r\n            &lt;/TabPane&gt;\r\n```\r\n\r\nClass start Application\r\n\r\n    public class TestFrame extends Application {\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        FXMLLoader loader = new FXMLLoader();\r\n        URL xmlUrl = getClass().getResource(&quot;/Test.fxml&quot;);\r\n        loader.setLocation(xmlUrl);\r\n        Parent root = loader.load();\r\n        stage.setTitle(&quot;Title&quot;);\r\n        stage.setScene(new Scene(root));\r\n        stage.show();\r\n    }\r\n}\r\n\r\n\r\nMaybe something needs to be added to the controller? And if so, where and what?","title":"How to make transition between tabs in JavaFX TabPane?","body":"<p>I have a TabPane with two Tabs and I want to load another FXML when I click on one Tab</p>\n<pre><code>&lt;TabPane fx:id=&quot;tabPaneGet&quot; layoutY=&quot;-7.0&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;560.0&quot; tabClosingPolicy=&quot;UNAVAILABLE&quot;&gt;\n              &lt;tabs&gt;\n                &lt;Tab disable=&quot;true&quot; text=&quot;Получить сообщение из очереди&quot;&gt;\n                  &lt;content&gt;\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot; /&gt;\n                  &lt;/content&gt;\n                &lt;/Tab&gt;\n                &lt;Tab text=&quot;Отправить сообщение в очередь&quot; fx:id=&quot;tabPaneSendMessage&quot;&gt;\n                  &lt;content&gt;\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot; /&gt;\n                  &lt;/content&gt;\n                &lt;/Tab&gt;\n              &lt;/tabs&gt;\n            &lt;/TabPane&gt;\n</code></pre>\n<p>Class start Application</p>\n<pre><code>public class TestFrame extends Application {\npublic static void main(String[] args) {\n    launch(args);\n}\n\n@Override\npublic void start(Stage stage) throws Exception {\n    FXMLLoader loader = new FXMLLoader();\n    URL xmlUrl = getClass().getResource(&quot;/Test.fxml&quot;);\n    loader.setLocation(xmlUrl);\n    Parent root = loader.load();\n    stage.setTitle(&quot;Title&quot;);\n    stage.setScene(new Scene(root));\n    stage.show();\n}\n</code></pre>\n<p>}</p>\n<p>Maybe something needs to be added to the controller? And if so, where and what?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9794,"page":431,"page_size":100}
