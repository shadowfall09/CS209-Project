{"items":[{"tags":["java","amazon-web-services","static","mockito"],"owner":{"account_id":284924,"reputation":431,"user_id":583309,"accept_rate":24,"display_name":"Hussain Ashruf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661772343,"creation_date":1661765511,"question_id":73526769,"body_markdown":"I have written the code to test Utils class with static method: static String getParameterValue(&quot;keyname&quot;); it is having software.amazon.awssdk.services.ssm.SsmClient initialization. How to unit test String Utils.staticMethod(String); with mock SsmClient.class. Using mockito-inline 4.7: Is there a way to do it with PowerMockito?\r\n   \r\n    @Test\r\n    public void testSsmClient() {\r\n\r\n        try (MockedStatic&lt;Utils&gt; Utils = Mockito.mockStatic(Utils.class)) {\r\n\r\n            // given\r\n            GetParameterResponse getParameterResponse = mock(GetParameterResponse.class);\r\n            when(getParameterResponse.parameter().value()).thenReturn(&quot;10&quot;);\r\n\r\n            when(ssmClient.getParameter(any(GetParameterRequest.class))).thenReturn(getParameterResponse);\r\n\r\n            GetParameterRequest getParameterRequest = GetParameterRequest.builder().name(&quot;mongo/password&quot;).withDecryption(true).build();\r\n\r\n            // when\r\n            getParameterResponse = Utils.getParameterValue(&quot;/prj/test/queues/batchSize&quot;); \r\n            \r\n            // then\r\n            assertEquals(&quot;10&quot;, getParameterResponse.parameter().value());\r\n        }\r\n    }","title":"Mocking SsmClient within Utils.staticMethod(&quot;keyName&quot;);","body":"<p>I have written the code to test Utils class with static method: static String getParameterValue(&quot;keyname&quot;); it is having software.amazon.awssdk.services.ssm.SsmClient initialization. How to unit test String Utils.staticMethod(String); with mock SsmClient.class. Using mockito-inline 4.7: Is there a way to do it with PowerMockito?</p>\n<pre><code>@Test\npublic void testSsmClient() {\n\n    try (MockedStatic&lt;Utils&gt; Utils = Mockito.mockStatic(Utils.class)) {\n\n        // given\n        GetParameterResponse getParameterResponse = mock(GetParameterResponse.class);\n        when(getParameterResponse.parameter().value()).thenReturn(&quot;10&quot;);\n\n        when(ssmClient.getParameter(any(GetParameterRequest.class))).thenReturn(getParameterResponse);\n\n        GetParameterRequest getParameterRequest = GetParameterRequest.builder().name(&quot;mongo/password&quot;).withDecryption(true).build();\n\n        // when\n        getParameterResponse = Utils.getParameterValue(&quot;/prj/test/queues/batchSize&quot;); \n        \n        // then\n        assertEquals(&quot;10&quot;, getParameterResponse.parameter().value());\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","camera","android-emulator"],"comments":[{"owner":{"account_id":23340523,"reputation":305,"user_id":17415483,"display_name":"Krahmal"},"score":0,"creation_date":1647583834,"post_id":71415423,"comment_id":126412314,"body_markdown":"Me too. Only on Android 12 emulator. What is your cameraX version?","body":"Me too. Only on Android 12 emulator. What is your cameraX version?"},{"owner":{"account_id":21373830,"reputation":595,"user_id":15740938,"display_name":"ladytoky0"},"score":0,"creation_date":1647603953,"post_id":71415423,"comment_id":126418110,"body_markdown":"Hi! the version is 1.0.2 and yours?","body":"Hi! the version is 1.0.2 and yours?"},{"owner":{"account_id":21373830,"reputation":595,"user_id":15740938,"display_name":"ladytoky0"},"score":0,"creation_date":1647604009,"post_id":71415423,"comment_id":126418121,"body_markdown":"If you have the same question, can you give un up to the post? so more people can see it, and maybe answer it? @Krahmal","body":"If you have the same question, can you give un up to the post? so more people can see it, and maybe answer it? @Krahmal"},{"owner":{"account_id":23340523,"reputation":305,"user_id":17415483,"display_name":"Krahmal"},"score":1,"creation_date":1647823821,"post_id":71415423,"comment_id":126461029,"body_markdown":"I voted. Mine is 1.1.0-alpha04. I think this may caused by emulator bug...","body":"I voted. Mine is 1.1.0-alpha04. I think this may caused by emulator bug..."},{"owner":{"account_id":23340523,"reputation":305,"user_id":17415483,"display_name":"Krahmal"},"score":8,"creation_date":1647827983,"post_id":71415423,"comment_id":126461578,"body_markdown":"Device Manager&gt;Edit&gt;Show Advanced Settings&gt;Camera&gt;Back, change it from virtual scene to emulated, and the emulator can take picture now for me.","body":"Device Manager&gt;Edit&gt;Show Advanced Settings&gt;Camera&gt;Back, change it from virtual scene to emulated, and the emulator can take picture now for me."},{"owner":{"account_id":21373830,"reputation":595,"user_id":15740938,"display_name":"ladytoky0"},"score":0,"creation_date":1647907490,"post_id":71415423,"comment_id":126484844,"body_markdown":"yes but I need to take a real picture :/","body":"yes but I need to take a real picture :/"},{"owner":{"account_id":3116741,"reputation":1030,"user_id":2637343,"accept_rate":79,"display_name":"Lahiru Prasanna"},"score":0,"creation_date":1661272659,"post_id":71415423,"comment_id":129730883,"body_markdown":"I have Samsung A32 phone with android 12 , my code working on it and when i am using pixel 2 xl with api level 33 emulator it gives this error","body":"I have Samsung A32 phone with android 12 , my code working on it and when i am using pixel 2 xl with api level 33 emulator it gives this error"},{"owner":{"account_id":12418721,"reputation":849,"user_id":9362683,"display_name":"SVG"},"score":0,"creation_date":1664436481,"post_id":71415423,"comment_id":130472342,"body_markdown":"@ladytoky0 did u find any solution. I am also facing the same issue.","body":"@ladytoky0 did u find any solution. I am also facing the same issue."},{"owner":{"account_id":21373830,"reputation":595,"user_id":15740938,"display_name":"ladytoky0"},"score":0,"creation_date":1664490405,"post_id":71415423,"comment_id":130490365,"body_markdown":"@SVG I did not find any solution, only that apparently it&#39;s impossible lol","body":"@SVG I did not find any solution, only that apparently it&#39;s impossible lol"}],"answers":[{"tags":[],"owner":{"account_id":14352030,"reputation":710,"user_id":10367178,"display_name":"Md Adilur Rashid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661772194,"creation_date":1661772194,"answer_id":73528042,"question_id":71415423,"body_markdown":"I&#39;ve also faced this same problem in pixel 3 (sdk 31). This was indeed the problem with the emulator.\r\n\r\nThanks to #Krahmal (Topic&#39;s main comment section) helped to fixed a part of the  problem but not 100% \r\n\r\nFor my case pixel 4 with android 10 (sdk 29) working fine(which may not in your case).\r\nAlthough it works with physical device. \r\n\r\nThanks","title":"AndroidStudio emulator cannot take photo: The camera device has encountered a serious error","body":"<p>I've also faced this same problem in pixel 3 (sdk 31). This was indeed the problem with the emulator.</p>\n<p>Thanks to #Krahmal (Topic's main comment section) helped to fixed a part of the  problem but not 100%</p>\n<p>For my case pixel 4 with android 10 (sdk 29) working fine(which may not in your case).\nAlthough it works with physical device.</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":21373830,"reputation":595,"user_id":15740938,"display_name":"ladytoky0"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3469,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1661772194,"creation_date":1646856523,"question_id":71415423,"body_markdown":"I&#39;m working with an Android emulator (api 29) and when I try to capture a photo like this:\r\n\r\n```\r\nimageCapture?.takePicture(cameraExecutor, object : ImageCapture.OnImageCapturedCallback() {\r\n...\r\n  override fun onCaptureSuccess(image: ImageProxy) {\r\n   ....\r\n   // should show a preview before sending the picture to the web service\r\n  }\r\n\r\n}\r\n```\r\nit freezes. This only happens with an emulator!\r\n\r\n\r\nI have the following error:\r\n\r\n```\r\nD/Camera2CameraImpl: {Camera@683e74c[id=0]} Resetting Capture Session\r\nE/CameraCaptureSession: Session 0: Exception while stopping repeating: \r\n    android.hardware.camera2.CameraAccessException: CAMERA_ERROR (3): The camera device has encountered a serious error\r\n        at android.hardware.camera2.impl.CameraDeviceImpl.checkIfCameraClosedOrInError(CameraDeviceImpl.java:2521)\r\n        at android.hardware.camera2.impl.CameraDeviceImpl.stopRepeating(CameraDeviceImpl.java:1128)\r\n        at android.hardware.camera2.impl.CameraCaptureSessionImpl.close(CameraCaptureSessionImpl.java:526)\r\n```","title":"AndroidStudio emulator cannot take photo: The camera device has encountered a serious error","body":"<p>I'm working with an Android emulator (api 29) and when I try to capture a photo like this:</p>\n<pre><code>imageCapture?.takePicture(cameraExecutor, object : ImageCapture.OnImageCapturedCallback() {\n...\n  override fun onCaptureSuccess(image: ImageProxy) {\n   ....\n   // should show a preview before sending the picture to the web service\n  }\n\n}\n</code></pre>\n<p>it freezes. This only happens with an emulator!</p>\n<p>I have the following error:</p>\n<pre><code>D/Camera2CameraImpl: {Camera@683e74c[id=0]} Resetting Capture Session\nE/CameraCaptureSession: Session 0: Exception while stopping repeating: \n    android.hardware.camera2.CameraAccessException: CAMERA_ERROR (3): The camera device has encountered a serious error\n        at android.hardware.camera2.impl.CameraDeviceImpl.checkIfCameraClosedOrInError(CameraDeviceImpl.java:2521)\n        at android.hardware.camera2.impl.CameraDeviceImpl.stopRepeating(CameraDeviceImpl.java:1128)\n        at android.hardware.camera2.impl.CameraCaptureSessionImpl.close(CameraCaptureSessionImpl.java:526)\n</code></pre>\n"},{"tags":["java","ios","appium"],"answers":[{"tags":[],"owner":{"account_id":4292069,"reputation":3097,"user_id":3622606,"accept_rate":83,"display_name":"Jess"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405970697,"creation_date":1405963994,"answer_id":24871200,"question_id":24858987,"body_markdown":"**You should not use send_keys on iOS. It is notoriously unreliable.** ([read more about that here][1])\r\n\r\nHere&#39;s my implementation in python:\r\n\r\n    textfield = driver.find_element_by_class_name(&#39;UIATextField&#39;)\r\n    text = &#39;ABCDEF&#39;\r\n    driver.execute_script(&quot;au.getElement(&#39;%s&#39;).setValue(&#39;%s&#39;)&quot; % (textfield.id, text))\r\n    driver.hide_keyboard(&#39;return&#39;) # Close the keyboard with the return button\r\n\r\nSo what you need to do is:\r\n\r\n* Get the webelement/textfield\r\n* On the driver, call ExecuteScript\r\n* Pass in the the webelement&#39;s id and the value you want to set the textfield to\r\n* Optional: Hide the keyboard afterward\r\n\r\n[1]: https://groups.google.com/forum/#!topic/appium-discuss/Rxo8WNA1oGg","title":"Appium ios app in JAVA : How to open a keyboard view in appium for ios app","body":"<p><strong>You should not use send_keys on iOS. It is notoriously unreliable.</strong> (<a href=\"https://groups.google.com/forum/#!topic/appium-discuss/Rxo8WNA1oGg\" rel=\"nofollow\">read more about that here</a>)</p>\n\n<p>Here's my implementation in python:</p>\n\n<pre><code>textfield = driver.find_element_by_class_name('UIATextField')\ntext = 'ABCDEF'\ndriver.execute_script(\"au.getElement('%s').setValue('%s')\" % (textfield.id, text))\ndriver.hide_keyboard('return') # Close the keyboard with the return button\n</code></pre>\n\n<p>So what you need to do is:</p>\n\n<ul>\n<li>Get the webelement/textfield</li>\n<li>On the driver, call ExecuteScript</li>\n<li>Pass in the the webelement's id and the value you want to set the textfield to</li>\n<li>Optional: Hide the keyboard afterward</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2377507,"reputation":389,"user_id":3894496,"display_name":"SthQA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406795195,"creation_date":1406795195,"answer_id":25054142,"question_id":24858987,"body_markdown":"To add some clarity: \r\nWhen you use sendkeys, do the textfield appear clicked? \r\nWhat is the response from the server regarding the request of the sendkeys action?\r\nCan you show the line where you do the inputing part?\r\n\r\nThis may be caused by a) Appium doesn&#39;t see the UItextbox b) The action is called before the textbox is usable(init phase) c)there is sth completely wrong with your line of code :)\r\n\r\nAwaiting your answer","title":"Appium ios app in JAVA : How to open a keyboard view in appium for ios app","body":"<p>To add some clarity: \nWhen you use sendkeys, do the textfield appear clicked? \nWhat is the response from the server regarding the request of the sendkeys action?\nCan you show the line where you do the inputing part?</p>\n\n<p>This may be caused by a) Appium doesn't see the UItextbox b) The action is called before the textbox is usable(init phase) c)there is sth completely wrong with your line of code :)</p>\n\n<p>Awaiting your answer</p>\n"}],"owner":{"account_id":2463872,"reputation":4439,"user_id":2147409,"display_name":"Amit Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661772077,"creation_date":1405924699,"question_id":24858987,"body_markdown":"We are automating an iOS app using Appium and JAVA\r\n\r\nWe stuck at below point \r\n\r\nHow to open a keyboard view in appium to type in UIAtextbox field as sendkeys of webdriver is not working without it ?\r\n\r\nPlease help ....","title":"Appium ios app in JAVA : How to open a keyboard view in appium for ios app","body":"<p>We are automating an iOS app using Appium and JAVA</p>\n\n<p>We stuck at below point </p>\n\n<p>How to open a keyboard view in appium to type in UIAtextbox field as sendkeys of webdriver is not working without it ?</p>\n\n<p>Please help ....</p>\n"},{"tags":["java","eclipse","maven","installation","build"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1661772019,"creation_date":1661720210,"answer_id":73522219,"question_id":73521848,"body_markdown":"com.sun.tools.jar is not sufficiently properly licensed to be capable of even being in the mavencentral repo. It&#39;s also.. 20 years old. Presumably someone in the project either adding that to their local clone of mavencentral or otherwise modified things so that it does exist, or, someone at some point added it to mavencentral, and since then it has been removed due to licensing issues.\r\n\r\ncom.sun.tools is, primarily, `javac`. Most likely you&#39;re using JSP (another 23 year old obsolete tech you really don&#39;t want to be using in 2022) which needs this. Upgrade things, from the context of your question it&#39;s not clear what, but it&#39;s 20 years out of date, whatever it is.\r\n\r\nNB: More recent versions of java _are_ sufficiently licensed, I believe, also, java has a built in way to get a compiler which doesn&#39;t require a separate dep. So it&#39;s not just a matter of &#39;okay which maven group/artefact/version DO I use&#39;. Whatever code needs this needs some slight reworking.\r\n","title":"Missing artifact com.sun:tools:jar:1.4.2","body":"<p>com.sun.tools.jar is not sufficiently properly licensed to be capable of even being in the mavencentral repo. It's also.. 20 years old. Presumably someone in the project either adding that to their local clone of mavencentral or otherwise modified things so that it does exist, or, someone at some point added it to mavencentral, and since then it has been removed due to licensing issues.</p>\n<p>com.sun.tools is, primarily, <code>javac</code>. Most likely you're using JSP (another 23 year old obsolete tech you really don't want to be using in 2022) which needs this. Upgrade things, from the context of your question it's not clear what, but it's 20 years out of date, whatever it is.</p>\n<p>NB: More recent versions of java <em>are</em> sufficiently licensed, I believe, also, java has a built in way to get a compiler which doesn't require a separate dep. So it's not just a matter of 'okay which maven group/artefact/version DO I use'. Whatever code needs this needs some slight reworking.</p>\n"}],"owner":{"account_id":8542902,"reputation":1,"user_id":6402329,"display_name":"Raveendra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661721938,"answer_count":1,"score":0,"last_activity_date":1661772019,"creation_date":1661716916,"question_id":73521848,"body_markdown":"While building java project in eclipse, I am seeing error &quot;Missing artifact com.sun:tools:jar:1.4.2&quot;\r\nAnd I am unable to proceed mvn clean install of the project.\r\nDoes anybody resolved this issue before?","title":"Missing artifact com.sun:tools:jar:1.4.2","body":"<p>While building java project in eclipse, I am seeing error &quot;Missing artifact com.sun:tools:jar:1.4.2&quot;\nAnd I am unable to proceed mvn clean install of the project.\nDoes anybody resolved this issue before?</p>\n"},{"tags":["java","appium","appium-android","browserstack","browserstack-app-automate"],"answers":[{"tags":[],"owner":{"account_id":26188010,"reputation":1,"user_id":19870281,"display_name":"Sachin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661771883,"creation_date":1661771883,"answer_id":73527984,"question_id":73527604,"body_markdown":"You can refer: https://www.browserstack.com/docs/app-automate/appium/advanced-features/appium-gestures for using swipe gestures on BrowserStack.\r\n\r\nAlso, try using different Appium versions including the one that you are using at your end to run your test locally. Take help from: https://www.browserstack.com/app-automate/capabilities","title":"swipeGesture not supported by BrowserStack - Automation using Appium - Android","body":"<p>You can refer: <a href=\"https://www.browserstack.com/docs/app-automate/appium/advanced-features/appium-gestures\" rel=\"nofollow noreferrer\">https://www.browserstack.com/docs/app-automate/appium/advanced-features/appium-gestures</a> for using swipe gestures on BrowserStack.</p>\n<p>Also, try using different Appium versions including the one that you are using at your end to run your test locally. Take help from: <a href=\"https://www.browserstack.com/app-automate/capabilities\" rel=\"nofollow noreferrer\">https://www.browserstack.com/app-automate/capabilities</a></p>\n"}],"owner":{"account_id":914075,"reputation":365,"user_id":947280,"accept_rate":64,"display_name":"figuedmundo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661771883,"creation_date":1661769794,"question_id":73527604,"body_markdown":"Testing Mobile native app with Appium using BroswerStack (Android device) and it throws an UnsupportedCommandException (please see below) when trying to execute the swipeGesture to perform a swipe up. Btw, it is working in a local execution using real devices or Emulators.\r\n\r\n    org.openqa.selenium.UnsupportedCommandException: Unknown mobile command &quot;swipeGesture&quot;. \r\n    Only shell,scrollBackTo,viewportScreenshot,deepLink,startLogsBroadcast,stopLogsBroadcast, \r\n    acceptAlert,dismissAlert,batteryInfo,deviceInfo,changePermissions,getPermissions, \r\n    performEditorAction,startScreenStreaming,stopScreenStreaming,getNotifications,listSms, \r\n    type commands are supported.\r\n\r\nMy code is as follows\r\n\r\n```\r\n            ((JavascriptExecutor) driver).executeScript(&quot;mobile: swipeGesture&quot;, Map.of(\r\n                    &quot;left&quot;, location.x, &quot;top&quot;, location.y - swipeBoxHigh,\r\n                    &quot;width&quot;, 100, &quot;height&quot;, swipeBoxHigh,\r\n                    &quot;direction&quot;, &quot;up&quot;,\r\n                    &quot;percent&quot;, 1,\r\n                    &quot;speed&quot;, 1500\r\n            ));\r\n```\r\n\r\nAny idea why I am getting this Exception in browswerStack?\r\n\r\nAny suggestion how to perform a swipe gesture in android using browserStack? ","title":"swipeGesture not supported by BrowserStack - Automation using Appium - Android","body":"<p>Testing Mobile native app with Appium using BroswerStack (Android device) and it throws an UnsupportedCommandException (please see below) when trying to execute the swipeGesture to perform a swipe up. Btw, it is working in a local execution using real devices or Emulators.</p>\n<pre><code>org.openqa.selenium.UnsupportedCommandException: Unknown mobile command &quot;swipeGesture&quot;. \nOnly shell,scrollBackTo,viewportScreenshot,deepLink,startLogsBroadcast,stopLogsBroadcast, \nacceptAlert,dismissAlert,batteryInfo,deviceInfo,changePermissions,getPermissions, \nperformEditorAction,startScreenStreaming,stopScreenStreaming,getNotifications,listSms, \ntype commands are supported.\n</code></pre>\n<p>My code is as follows</p>\n<pre><code>            ((JavascriptExecutor) driver).executeScript(&quot;mobile: swipeGesture&quot;, Map.of(\n                    &quot;left&quot;, location.x, &quot;top&quot;, location.y - swipeBoxHigh,\n                    &quot;width&quot;, 100, &quot;height&quot;, swipeBoxHigh,\n                    &quot;direction&quot;, &quot;up&quot;,\n                    &quot;percent&quot;, 1,\n                    &quot;speed&quot;, 1500\n            ));\n</code></pre>\n<p>Any idea why I am getting this Exception in browswerStack?</p>\n<p>Any suggestion how to perform a swipe gesture in android using browserStack?</p>\n"},{"tags":["java","html","selenium"],"comments":[{"owner":{"account_id":7669964,"reputation":169,"user_id":5812557,"display_name":"Frederick Jaime"},"score":0,"creation_date":1463025834,"post_id":37176903,"comment_id":61888415,"body_markdown":"do you have a demo to view, i am a little unclear on what you are asking. Do you mean click Programmatically?","body":"do you have a demo to view, i am a little unclear on what you are asking. Do you mean click Programmatically?"},{"owner":{"account_id":8051881,"reputation":21,"user_id":6070138,"display_name":"Harihara"},"score":0,"creation_date":1463029851,"post_id":37176903,"comment_id":61889643,"body_markdown":"Yes, i want to click programmatically only(Automation).  I use Selenium and Java for Scripting. I used    &quot;WebElement element = driver.findElement(By.xpath(&quot;//a[contains(@href,&#39;#Init_Get_Grid&#39;)]&quot;)).findElement(By.linkText(&quot;Get&quot;));      &quot; for getting the xpath and clicked the element. But control is not clicking the Tab. Is there any other way to click the Tab.","body":"Yes, i want to click programmatically only(Automation).  I use Selenium and Java for Scripting. I used    &quot;WebElement element = driver.findElement(By.xpath(&quot;//a[contains(@href,&#39;#Init_Get_G&zwnj;&#8203;rid&#39;)]&quot;)).findElemen&zwnj;&#8203;t(By.linkText(&quot;Get&quot;)&zwnj;&#8203;);      &quot; for getting the xpath and clicked the element. But control is not clicking the Tab. Is there any other way to click the Tab."},{"owner":{"account_id":26115396,"reputation":66,"user_id":19808625,"display_name":"Xyu"},"score":0,"creation_date":1661561478,"post_id":37176903,"comment_id":129808841,"body_markdown":"Please show us what you&#39;ve tried so far.","body":"Please show us what you&#39;ve tried so far."},{"owner":{"account_id":10575026,"reputation":67,"user_id":7790584,"display_name":"Manu Gopinathan"},"score":0,"creation_date":1661838677,"post_id":37176903,"comment_id":129859727,"body_markdown":"Have you tried the below option? If yes, what issue/error did you got?\n\n    WebElement element = driver.findElement(By.linkText(&quot;Get&quot;));","body":"Have you tried the below option? If yes, what issue/error did you got?      WebElement element = driver.findElement(By.linkText(&quot;Get&quot;));"}],"answers":[{"tags":[],"owner":{"account_id":10817194,"reputation":373,"user_id":7955728,"accept_rate":33,"display_name":"Syed Sarek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661771454,"creation_date":1661771454,"answer_id":73527908,"question_id":37176903,"body_markdown":"You can try this:\r\n\r\n    WebElement element = driver.findElement(By.xpath(&quot;//a[contains(@href,&#39;#Init_Get_Grid&#39;)]&quot;)).findElement(By.linkText(&quot;Get&quot;)); \r\n    element.click();","title":"How to Click the Tab","body":"<p>You can try this:</p>\n<pre><code>WebElement element = driver.findElement(By.xpath(&quot;//a[contains(@href,'#Init_Get_Grid')]&quot;)).findElement(By.linkText(&quot;Get&quot;)); \nelement.click();\n</code></pre>\n"}],"owner":{"account_id":8051881,"reputation":21,"user_id":6070138,"display_name":"Harihara"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661771454,"creation_date":1463024936,"question_id":37176903,"body_markdown":"I want to click the &quot;Get&quot; tab illustrated in [this screenshot][1]. But unable to click. Can someone please help me?\r\n\r\n[1]: http://i.stack.imgur.com/8R8VO.png\r\n\r\nHTML is:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     &lt;div id=&quot;schemeSlabTab&quot; class=&quot;ui-tabs ui-widget ui-widget-content ui-corner-all&quot;&gt;\r\n        &lt;ul class=&quot;ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all&quot;&gt;\r\n        &lt;li class=&quot;ui-state-default ui-corner-top&quot;&gt;\r\n        &lt;a href=&quot;#Init_Buy_Grid&quot;&gt;Buy&lt;/a&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=&quot;ui-state-default ui-corner-top ui-tabs-selected ui-state-active&quot;&gt;\r\n        &lt;a href=&quot;#Init_Get_Grid&quot; style=&quot;background-color: transparent;&quot;&gt;Get&lt;/a&gt;\r\n        &lt;/li&gt;\r\n        &lt;/ul&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to Click the Tab","body":"<p>I want to click the &quot;Get&quot; tab illustrated in <a href=\"https://i.stack.imgur.com/8R8VO.png\" rel=\"nofollow noreferrer\">this screenshot</a>. But unable to click. Can someone please help me?</p>\n<p>HTML is:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &lt;div id=\"schemeSlabTab\" class=\"ui-tabs ui-widget ui-widget-content ui-corner-all\"&gt;\n    &lt;ul class=\"ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all\"&gt;\n    &lt;li class=\"ui-state-default ui-corner-top\"&gt;\n    &lt;a href=\"#Init_Buy_Grid\"&gt;Buy&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"ui-state-default ui-corner-top ui-tabs-selected ui-state-active\"&gt;\n    &lt;a href=\"#Init_Get_Grid\" style=\"background-color: transparent;\"&gt;Get&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1661771469,"post_id":73527855,"comment_id":129842992,"body_markdown":"use absolute path to smbclient.","body":"use absolute path to smbclient."},{"owner":{"account_id":15316038,"reputation":1,"user_id":11049912,"display_name":"sai"},"score":0,"creation_date":1661771678,"post_id":73527855,"comment_id":129843065,"body_markdown":"Sorry din&#39;t get, you mean /usr/bin/smbclient?","body":"Sorry din&#39;t get, you mean /usr/bin/smbclient?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1661771693,"post_id":73527855,"comment_id":129843078,"body_markdown":"for example, yes","body":"for example, yes"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661771724,"post_id":73527855,"comment_id":129843087,"body_markdown":"```-L``` ? That&#39;s a listing command is it not? Does that command actually work at the command line?","body":"<code>-L</code> ? That&#39;s a listing command is it not? Does that command actually work at the command line?"},{"owner":{"account_id":15316038,"reputation":1,"user_id":11049912,"display_name":"sai"},"score":0,"creation_date":1661771769,"post_id":73527855,"comment_id":129843110,"body_markdown":"Tried that, but didn&#39;t work. Moreover when we deploy the code on servers, we would not have smbclient and absolute path","body":"Tried that, but didn&#39;t work. Moreover when we deploy the code on servers, we would not have smbclient and absolute path"},{"owner":{"account_id":15316038,"reputation":1,"user_id":11049912,"display_name":"sai"},"score":0,"creation_date":1661771892,"post_id":73527855,"comment_id":129843164,"body_markdown":"@goose tried to install SmbClient on command line to check this but don&#39;t have permissions to install, downloaded samba-4.16.4 tar file and extracted but can&#39;t move further","body":"@goose tried to install SmbClient on command line to check this but don&#39;t have permissions to install, downloaded samba-4.16.4 tar file and extracted but can&#39;t move further"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661774013,"post_id":73527855,"comment_id":129843887,"body_markdown":"*Tried that, but didn&#39;t work. Moreover when we deploy the code on servers, we would not have smbclient and absolute path*. Baffling. How do you hope to execute smbclient if it&#39;s not even installed?","body":"<i>Tried that, but didn&#39;t work. Moreover when we deploy the code on servers, we would not have smbclient and absolute path</i>. Baffling. How do you hope to execute smbclient if it&#39;s not even installed?"},{"owner":{"account_id":15316038,"reputation":1,"user_id":11049912,"display_name":"sai"},"score":0,"creation_date":1661775427,"post_id":73527855,"comment_id":129844381,"body_markdown":"Is there any other way to make more than 100k images of more than 90GB to copy faster from one folder to another folder through java in remote server? currently it&#39;s working using jcifs.smb.SmbFile .copyTo method inside forEach but it is taking more than 2 days to copy","body":"Is there any other way to make more than 100k images of more than 90GB to copy faster from one folder to another folder through java in remote server? currently it&#39;s working using jcifs.smb.SmbFile .copyTo method inside forEach but it is taking more than 2 days to copy"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661794308,"post_id":73527855,"comment_id":129851202,"body_markdown":"It might be worth posting that code - there could be something wrong with it","body":"It might be worth posting that code - there could be something wrong with it"},{"owner":{"account_id":15316038,"reputation":1,"user_id":11049912,"display_name":"sai"},"score":0,"creation_date":1661846236,"post_id":73527855,"comment_id":129861971,"body_markdown":"@g00se private void copy(List&lt;String&gt; fileList) {\nNtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(nasDomain, nasUsername, nasPassword);\nfileList.parallelStream().forEach((filepath) -&gt; {\n\t\t\tString sourcePath = new StringBuilder(&quot;//naiy83e00txe2/Pay_NP/&quot;).append(&quot;Sai/testPay/&quot;).append(filepath)\n\t\t\t\t\t.toString();\n\t\t\tString targetPath = new StringBuilder(&quot;//naiy83e00txe2/Pay_NP/&quot;).append(&quot;Sai/job/&quot;).toString();\n\t\t\ttry {\n\t\t\t\tSmbFile targetSMBPath = new SmbFile(&quot;smb:&quot; + targetPath, auth);\n\t\t\t\tif (!targetSMBPath.exists()) {\n\t\t\t\t\ttargetSMBPath.mkdir();\n\t\t\t\t}","body":"@g00se private void copy(List&lt;String&gt; fileList) { NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(nasDomain, nasUsername, nasPassword); fileList.parallelStream().forEach((filepath) -&gt; { \t\t\tString sourcePath = new StringBuilder(&quot;//naiy83e00txe2/Pay_NP/&quot;).append(&quot;Sai/testPay&zwnj;&#8203;/&quot;).append(filepath) \t\t\t\t\t.toString(); \t\t\tString targetPath = new StringBuilder(&quot;//naiy83e00txe2/Pay_NP/&quot;).append(&quot;Sai/job/&quot;).&zwnj;&#8203;toString(); \t\t\ttry { \t\t\t\tSmbFile targetSMBPath = new SmbFile(&quot;smb:&quot; + targetPath, auth); \t\t\t\tif (!targetSMBPath.exists()) { \t\t\t\t\ttargetSMBPath.mkdir(); \t\t\t\t}"},{"owner":{"account_id":15316038,"reputation":1,"user_id":11049912,"display_name":"sai"},"score":0,"creation_date":1661846245,"post_id":73527855,"comment_id":129861976,"body_markdown":"SmbFile imageSMBpath = new SmbFile(&quot;smb:&quot; + actualPathToSearch, auth);\ndestPathToSearch = new StringBuilder(&quot;//naiy83e00txe2/Pay_NP/&quot;).append(&quot;Sai/job/&quot;).append(filepath).toString(); SmbFile destSMBPathFile = new SmbFile(&quot;smb:&quot; + destPathToSearch, auth);\n\t\t\t\tif (!targetSMBPath.exists()) {\n\t\t\t\t\timageSMBpath.copyTo(targetSMBPath);\n\t\t\t\t}\n\t\t\t} catch (MalformedURLException | SmbException e) {\n\t\t\t\te.printStacktrace();\n\t\t\t}\n\t\t});\n}","body":"SmbFile imageSMBpath = new SmbFile(&quot;smb:&quot; + actualPathToSearch, auth); destPathToSearch = new StringBuilder(&quot;//naiy83e00txe2/Pay_NP/&quot;).append(&quot;Sai/job/&quot;).&zwnj;&#8203;append(filepath).toS&zwnj;&#8203;tring(); SmbFile destSMBPathFile = new SmbFile(&quot;smb:&quot; + destPathToSearch, auth); \t\t\t\tif (!targetSMBPath.exists()) { \t\t\t\t\timageSMBpath.copyTo(targetSMBPath); \t\t\t\t} \t\t\t} catch (MalformedURLException | SmbException e) { \t\t\t\te.printStacktrace(); \t\t\t} \t\t}); }"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661848207,"post_id":73527855,"comment_id":129862773,"body_markdown":"I think it would be better for you to delete those comments and put the code in your actual question","body":"I think it would be better for you to delete those comments and put the code in your actual question"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661850480,"post_id":73527855,"comment_id":129863629,"body_markdown":"I don&#39;t see anything immediately wrong there. I was looking for repeated authentication but fortunately that&#39;s absent. I don&#39;t know JCIFS but afaik it&#39;s a very professional thing. My best guess is that the &#39;default&#39; environment settings in it are different from smbclient. You might need to dig into the API docs more. Maybe stuff like default copy buffer sizes(?) And, if they&#39;ve got logging right, you ought to be able to turn on log debug for the API and find out something about bottlenecks. Of course a JCIFS user group could be informative","body":"I don&#39;t see anything immediately wrong there. I was looking for repeated authentication but fortunately that&#39;s absent. I don&#39;t know JCIFS but afaik it&#39;s a very professional thing. My best guess is that the &#39;default&#39; environment settings in it are different from smbclient. You might need to dig into the API docs more. Maybe stuff like default copy buffer sizes(?) And, if they&#39;ve got logging right, you ought to be able to turn on log debug for the API and find out something about bottlenecks. Of course a JCIFS user group could be informative"}],"owner":{"account_id":15316038,"reputation":1,"user_id":11049912,"display_name":"sai"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661771174,"creation_date":1661771174,"question_id":73527855,"body_markdown":"I wanted to copy 100k images(90 GB) from one folder to another folder in server using SMBClient in Java. So tried one file(index.xlsx) first, but I am getting the following error\r\n\r\nSource location : //naiy83e00txe2/Pay_NP/Sai/testPay/index.xlsx \r\n\r\nTargetr location : //naiy83e00txe2/Pay_NP/Sai/job/index.xlsx\r\nException in thread &quot;main&quot; java.io.IOException: Cannot run program &quot;smbclient&quot;: CreateProcess error=2, The system cannot find the file specified\r\n\tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\r\n\tat java.lang.Runtime.exec(Runtime.java:621)\r\n\r\nFollowing is the program\r\n\r\npublic static void main(String[] args) throws IOException {\r\n\t\r\n\tStringBuilder str = new StringBuilder(\r\n\t\t\t&quot;smbclient Image2 &quot;\r\n\t\t\t+ &quot;-L naiy83e00txe2 -M naiy83e00txe2 -W RTX1 -U PaySupport -c &quot;\r\n\t\t\t+ &quot;\\&quot;put //naiy83e00txe2/Pay_NP/Sai/testPay/index.xlsx //naiy83e00txe2/Pay_NP/Sai/job/index.xlsx\\&quot; -m SMB2&quot;);\r\n\t\t\r\n\t\tString dest = str.toString();\r\n\t\tSystem.out.println(&quot;Smbclinet command:&quot; + dest);\r\n\t\t  try {\r\n\t    Process p = Runtime.getRuntime().exec(dest);\r\n\t  \r\n\t\t\tint waitFor = p.waitFor();\r\n\t\t\tSystem.out.println(waitFor);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nActually I was using jcifs.smb.SmbFile copyTo method in forEach stream to do this but it was taking more than 3 days to copy 100k images, moreover it is getting truncated in the middle.\r\n\r\nSo thought of runninng SMbclient command instead of jcifs.smbfile.copyTO, but I was getting above error.\r\n\r\nCan somebody help me with these Smbcommands to run with ProcessBuilder in java to achieve 100kImages copied faster?","title":"When I try to run SmbClient command to copy image under one folder to another folder over server using Java Process it is giving FileNotFound","body":"<p>I wanted to copy 100k images(90 GB) from one folder to another folder in server using SMBClient in Java. So tried one file(index.xlsx) first, but I am getting the following error</p>\n<p>Source location : //naiy83e00txe2/Pay_NP/Sai/testPay/index.xlsx</p>\n<p>Targetr location : //naiy83e00txe2/Pay_NP/Sai/job/index.xlsx\nException in thread &quot;main&quot; java.io.IOException: Cannot run program &quot;smbclient&quot;: CreateProcess error=2, The system cannot find the file specified\nat java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\nat java.lang.Runtime.exec(Runtime.java:621)</p>\n<p>Following is the program</p>\n<p>public static void main(String[] args) throws IOException {</p>\n<pre><code>StringBuilder str = new StringBuilder(\n        &quot;smbclient Image2 &quot;\n        + &quot;-L naiy83e00txe2 -M naiy83e00txe2 -W RTX1 -U PaySupport -c &quot;\n        + &quot;\\&quot;put //naiy83e00txe2/Pay_NP/Sai/testPay/index.xlsx //naiy83e00txe2/Pay_NP/Sai/job/index.xlsx\\&quot; -m SMB2&quot;);\n    \n    String dest = str.toString();\n    System.out.println(&quot;Smbclinet command:&quot; + dest);\n      try {\n    Process p = Runtime.getRuntime().exec(dest);\n  \n        int waitFor = p.waitFor();\n        System.out.println(waitFor);\n    } catch (InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Actually I was using jcifs.smb.SmbFile copyTo method in forEach stream to do this but it was taking more than 3 days to copy 100k images, moreover it is getting truncated in the middle.</p>\n<p>So thought of runninng SMbclient command instead of jcifs.smbfile.copyTO, but I was getting above error.</p>\n<p>Can somebody help me with these Smbcommands to run with ProcessBuilder in java to achieve 100kImages copied faster?</p>\n"},{"tags":["java","performance","dictionary","collections","hashmap"],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1525533288,"creation_date":1525533288,"answer_id":50190954,"question_id":50190877,"body_markdown":"Below is the copied implementation of `Map.values()` in `java.util.HashMap`:\r\n\r\n    public Collection&lt;V&gt; values() {\r\n        Collection&lt;V&gt; vs = values;\r\n        if (vs == null) {\r\n            vs = new Values();\r\n            values = vs;\r\n        }\r\n        return vs;\r\n    }\r\n\r\nThis clearly shows that the value collection isn&#39;t created unless necessary. So, there should not be additional overhead caused by calls to `values()`\r\n","title":"java.util.Map values() method performance","body":"<p>Below is the copied implementation of <code>Map.values()</code> in <code>java.util.HashMap</code>:</p>\n\n<pre><code>public Collection&lt;V&gt; values() {\n    Collection&lt;V&gt; vs = values;\n    if (vs == null) {\n        vs = new Values();\n        values = vs;\n    }\n    return vs;\n}\n</code></pre>\n\n<p>This clearly shows that the value collection isn't created unless necessary. So, there should not be additional overhead caused by calls to <code>values()</code></p>\n"},{"tags":[],"owner":{"account_id":2331623,"reputation":25,"user_id":2044911,"display_name":"Daryl Handley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525534729,"creation_date":1525534729,"answer_id":50191184,"question_id":50190877,"body_markdown":"As others have mentioned you can see this by looking at the code. You can also code up a quick example to prove it to yourself. The code below will print true 10 times as the object identity will always be the same for values. \r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, String&gt; myMap = new HashMap();\r\n        Collection&lt;String&gt; lastValues = myMap.values();\r\n        for (int i=0; i &lt; 10; i++) {\r\n            System.out.println(lastValues == myMap.values());\r\n            lastValues = myMap.values();\r\n        }\r\n    }\r\n\r\nThe following code will print true the first time and then false the next 9 times. \r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, String&gt; myMap = new HashMap();\r\n        Collection&lt;String&gt; lastValues = myMap.values();\r\n        for (int i=0; i &lt; 10; i++) {\r\n            System.out.println(lastValues == myMap.values());\r\n            lastValues = myMap.values();\r\n            myMap = new HashMap();\r\n        }\r\n    }","title":"java.util.Map values() method performance","body":"<p>As others have mentioned you can see this by looking at the code. You can also code up a quick example to prove it to yourself. The code below will print true 10 times as the object identity will always be the same for values. </p>\n\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, String&gt; myMap = new HashMap();\n    Collection&lt;String&gt; lastValues = myMap.values();\n    for (int i=0; i &lt; 10; i++) {\n        System.out.println(lastValues == myMap.values());\n        lastValues = myMap.values();\n    }\n}\n</code></pre>\n\n<p>The following code will print true the first time and then false the next 9 times. </p>\n\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, String&gt; myMap = new HashMap();\n    Collection&lt;String&gt; lastValues = myMap.values();\n    for (int i=0; i &lt; 10; i++) {\n        System.out.println(lastValues == myMap.values());\n        lastValues = myMap.values();\n        myMap = new HashMap();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525536300,"creation_date":1525536300,"answer_id":50191429,"question_id":50190877,"body_markdown":"One important point here may be: **It does not matter!**\r\n\r\n---\r\n\r\nBut first, referring to the other answers so far: The collection that is returned there is usually &quot;cached&quot;, in that it is lazily created, and afterwards, the same instance will be returned. For example, considering the implementation in the `HashMap` class:\r\n\r\n    public Collection&lt;V&gt; values() {\r\n        Collection&lt;V&gt; vs;\r\n        return (vs = values) == null ? (values = new Values()) : vs;\r\n    }\r\n\r\nThis is even specified (as part of the contract, as an implementation specification) in the [documentation of the `AbstractMap` class](https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html#values--) (which most `Map` implementations are based on) :\r\n\r\n&gt; The collection is created the first time this method is called, and returned in response to all subsequent calls. No synchronization is performed, so there is a slight chance that multiple calls to this method will not all return the same collection.\r\n\r\n---\r\n\r\nBut now, one could argue that the implementation might change later. The implementation of the `HashMap` class could change, or one might switch to another `Map` implementation that does not extend `AbstractMap`, and which is implemented differently. The fact that it is *currently* implemented like this is (for itself) no guarantee that it will *always* be implemented like this.\r\n\r\nSo the more important point (and the reason why **it does not matter**) is that the `values()` method is indeed supposed to return a **collection view**. As stated in the [documentation of the `Map` interface](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html) :\r\n\r\n&gt; The Map interface provides three *collection views*, which allow a map&#39;s contents to be viewed as a set of keys, collection of values, or set of key-value mappings. \r\n\r\nand specifically, the [documentation of the `Map#values()` method](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#values--) :\r\n\r\n&gt; Returns a Collection view of the values contained in this map. The collection is backed by the map, so changes to the map are reflected in the collection, and vice-versa. \r\n\r\nI cannot imagine a reasonable way of implementing such a *view* that involves processing all values of the `Map`. \r\n\r\n---\r\n\r\nSo for example, imagine the implementation in `HashMap` was like this:\r\n\r\n    public Collection&lt;V&gt; values() {\r\n        return new Values();\r\n    }\r\n\r\nThen it would return a **new** collection each time that it was called. But creating this collection does **not** involve processing the values at all. \r\n\r\nOr to put it that way: The cost of calling this method is *independent* of the size of the map. It basically has the cost of a single object creation, regardless of whether the map contains 10 or 10000 elements.\r\n","title":"java.util.Map values() method performance","body":"<p>One important point here may be: <strong>It does not matter!</strong></p>\n\n<hr>\n\n<p>But first, referring to the other answers so far: The collection that is returned there is usually \"cached\", in that it is lazily created, and afterwards, the same instance will be returned. For example, considering the implementation in the <code>HashMap</code> class:</p>\n\n<pre><code>public Collection&lt;V&gt; values() {\n    Collection&lt;V&gt; vs;\n    return (vs = values) == null ? (values = new Values()) : vs;\n}\n</code></pre>\n\n<p>This is even specified (as part of the contract, as an implementation specification) in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html#values--\" rel=\"nofollow noreferrer\">documentation of the <code>AbstractMap</code> class</a> (which most <code>Map</code> implementations are based on) :</p>\n\n<blockquote>\n  <p>The collection is created the first time this method is called, and returned in response to all subsequent calls. No synchronization is performed, so there is a slight chance that multiple calls to this method will not all return the same collection.</p>\n</blockquote>\n\n<hr>\n\n<p>But now, one could argue that the implementation might change later. The implementation of the <code>HashMap</code> class could change, or one might switch to another <code>Map</code> implementation that does not extend <code>AbstractMap</code>, and which is implemented differently. The fact that it is <em>currently</em> implemented like this is (for itself) no guarantee that it will <em>always</em> be implemented like this.</p>\n\n<p>So the more important point (and the reason why <strong>it does not matter</strong>) is that the <code>values()</code> method is indeed supposed to return a <strong>collection view</strong>. As stated in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">documentation of the <code>Map</code> interface</a> :</p>\n\n<blockquote>\n  <p>The Map interface provides three <em>collection views</em>, which allow a map's contents to be viewed as a set of keys, collection of values, or set of key-value mappings. </p>\n</blockquote>\n\n<p>and specifically, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#values--\" rel=\"nofollow noreferrer\">documentation of the <code>Map#values()</code> method</a> :</p>\n\n<blockquote>\n  <p>Returns a Collection view of the values contained in this map. The collection is backed by the map, so changes to the map are reflected in the collection, and vice-versa. </p>\n</blockquote>\n\n<p>I cannot imagine a reasonable way of implementing such a <em>view</em> that involves processing all values of the <code>Map</code>. </p>\n\n<hr>\n\n<p>So for example, imagine the implementation in <code>HashMap</code> was like this:</p>\n\n<pre><code>public Collection&lt;V&gt; values() {\n    return new Values();\n}\n</code></pre>\n\n<p>Then it would return a <strong>new</strong> collection each time that it was called. But creating this collection does <strong>not</strong> involve processing the values at all. </p>\n\n<p>Or to put it that way: The cost of calling this method is <em>independent</em> of the size of the map. It basically has the cost of a single object creation, regardless of whether the map contains 10 or 10000 elements.</p>\n"},{"tags":[],"owner":{"account_id":4495291,"reputation":21,"user_id":3655220,"display_name":"ashish gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525561295,"creation_date":1525561295,"answer_id":50194761,"question_id":50190877,"body_markdown":"One more suggestion after reading this thread, if the Map&lt;String, SomeItem&gt; tops declared contents are not changed - you could use google guava ImmutableMap object. For more info- https://stackoverflow.com/questions/22636575/unmodifiablemap-java-collections-vs-immutablemap-google\r\n\r\n","title":"java.util.Map values() method performance","body":"<p>One more suggestion after reading this thread, if the Map tops declared contents are not changed - you could use google guava ImmutableMap object. For more info- <a href=\"https://stackoverflow.com/questions/22636575/unmodifiablemap-java-collections-vs-immutablemap-google\">UnmodifiableMap (Java Collections) vs ImmutableMap (Google)</a></p>\n"}],"owner":{"account_id":9927857,"reputation":1692,"user_id":7348815,"accept_rate":73,"display_name":"Aliaksei Stadnik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2183,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50190954,"answer_count":4,"score":3,"last_activity_date":1661771009,"creation_date":1525532849,"question_id":50190877,"body_markdown":"I have a map like this with several million entries: \r\n\r\n    private final Map&lt;String, SomeItem&gt; tops = new HashMap&lt;&gt;();\r\n\r\nI need to get list of values, which could be done by calling  `java.util.Map values()` method.\r\n\r\n\r\nIs `Collection` of values created every time I call `values()` method or is it pre-computed from performance perspective? \r\n\r\nAs my `Map` has several millions elements, I do not want to create new list object every time `values()` is called. ","title":"java.util.Map values() method performance","body":"<p>I have a map like this with several million entries:</p>\n<pre><code>private final Map&lt;String, SomeItem&gt; tops = new HashMap&lt;&gt;();\n</code></pre>\n<p>I need to get list of values, which could be done by calling  <code>java.util.Map values()</code> method.</p>\n<p>Is <code>Collection</code> of values created every time I call <code>values()</code> method or is it pre-computed from performance perspective?</p>\n<p>As my <code>Map</code> has several millions elements, I do not want to create new list object every time <code>values()</code> is called.</p>\n"},{"tags":["java","php","encryption","3des"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661770754,"creation_date":1661770754,"answer_id":73527766,"question_id":73524060,"body_markdown":"The `build3DesKey()` function expands a too short 3DES key to 24 bytes by padding the end with 0x00 values, for too long keys the end is simply truncated. `build3DesKey()` can be implemented in PHP as follows:\r\n\r\n```php\r\n$key = substr(str_pad($key, 24, &quot;\\0&quot;), 0, 24);\r\n```\r\n\r\nAlthough the `str2ByteArray()` function is missing, its functionality can be deduced. Since in your example the ciphertext is hexadecimal encoded, this function seems to simply perform a hex decoding. In PHP, the analog to `str2ByteArray()` is `hex2bin()`. \r\n\r\nThus, a possible implementation for decryption is (using PHP/OpenSSL): \r\n\r\n```php\r\n$key = &quot;12345&quot;;\r\n$ciphertext = &quot;84b24172c57752385251d142abadbed1d9945301a3aee429ce00c1e291a605c30ad18c5e00007f6db394fc6138a2ee4c&quot;;\r\n$key = substr(str_pad($key, 24, &quot;\\0&quot;), 0, 24);\r\n$plaintext = openssl_decrypt(hex2bin($ciphertext), &quot;des-ede3&quot;, $key, OPENSSL_RAW_DATA);\r\nprint($plaintext. PHP_EOL); // The quick brown fox jumps over the lazy dog\r\n```\r\n\r\nThe Java code returns the same plain text for these input data!\r\n\r\n--------------\r\n\r\nDifferences to your code:&lt;br&gt;\r\nYour code uses the deprecated `mcrypt`. This should not be applied nowadays for security reasons. A better alternative is PHP/OpenSSL, which is used in the code above. Also, the implemented key derivation is wrong, e.g. it applies the digest MD5, which is not used in the Java code at all.\r\n\r\n-------------\r\n\r\nSecurity:&lt;br&gt;\r\nEven though this is probably a legacy application, a few words about security:\r\n- The key derivation `build3DesKey()` is insecure. If the key material is a string, it is generally not a key, but a password. Therefore a reliable key derivation function should be used, e.g. Argon2 or PBKDF2.\r\n- des-ede3 applies ECB mode, which is also insecure. Nowadays authenticated encryption, e.g. AES-GCM should be used.\r\n- 3DES/TripleDES is outdated and the only not yet deprecated variant, triple-length keys or 3TDEA will be soon, and is comparatively slow. Today&#39;s standard AES should be applied here.\r\n","title":"How to decrypt a string in PHP that was encrypted in Java?","body":"<p>The <code>build3DesKey()</code> function expands a too short 3DES key to 24 bytes by padding the end with 0x00 values, for too long keys the end is simply truncated. <code>build3DesKey()</code> can be implemented in PHP as follows:</p>\n<pre class=\"lang-php prettyprint-override\"><code>$key = substr(str_pad($key, 24, &quot;\\0&quot;), 0, 24);\n</code></pre>\n<p>Although the <code>str2ByteArray()</code> function is missing, its functionality can be deduced. Since in your example the ciphertext is hexadecimal encoded, this function seems to simply perform a hex decoding. In PHP, the analog to <code>str2ByteArray()</code> is <code>hex2bin()</code>.</p>\n<p>Thus, a possible implementation for decryption is (using PHP/OpenSSL):</p>\n<pre class=\"lang-php prettyprint-override\"><code>$key = &quot;12345&quot;;\n$ciphertext = &quot;84b24172c57752385251d142abadbed1d9945301a3aee429ce00c1e291a605c30ad18c5e00007f6db394fc6138a2ee4c&quot;;\n$key = substr(str_pad($key, 24, &quot;\\0&quot;), 0, 24);\n$plaintext = openssl_decrypt(hex2bin($ciphertext), &quot;des-ede3&quot;, $key, OPENSSL_RAW_DATA);\nprint($plaintext. PHP_EOL); // The quick brown fox jumps over the lazy dog\n</code></pre>\n<p>The Java code returns the same plain text for these input data!</p>\n<hr />\n<p>Differences to your code:<br>\nYour code uses the deprecated <code>mcrypt</code>. This should not be applied nowadays for security reasons. A better alternative is PHP/OpenSSL, which is used in the code above. Also, the implemented key derivation is wrong, e.g. it applies the digest MD5, which is not used in the Java code at all.</p>\n<hr />\n<p>Security:<br>\nEven though this is probably a legacy application, a few words about security:</p>\n<ul>\n<li>The key derivation <code>build3DesKey()</code> is insecure. If the key material is a string, it is generally not a key, but a password. Therefore a reliable key derivation function should be used, e.g. Argon2 or PBKDF2.</li>\n<li>des-ede3 applies ECB mode, which is also insecure. Nowadays authenticated encryption, e.g. AES-GCM should be used.</li>\n<li>3DES/TripleDES is outdated and the only not yet deprecated variant, triple-length keys or 3TDEA will be soon, and is comparatively slow. Today's standard AES should be applied here.</li>\n</ul>\n"}],"owner":{"account_id":16172701,"reputation":103,"user_id":11676138,"display_name":"Naruto Saitama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73527766,"answer_count":1,"score":1,"last_activity_date":1661770917,"creation_date":1661746469,"question_id":73524060,"body_markdown":"I tried to decrypt en encrypted string in JAVA with to code below.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    SecretKey secretKey = new SecretKeySpec(build3DesKey(key), &quot;DESede&quot;);\r\n    Cipher cipher = Cipher.getInstance(&quot;DESede&quot;);\r\n    cipher.init(Cipher.DECRYPT_MODE, secretKey);\r\n    byte[] b = cipher.doFinal(str2ByteArray(dest));\r\n    String decoder = new String(b, &quot;utf-8&quot;);\r\n\r\n&lt;!-- language: lang-java --&gt;    \r\n    private static byte[] build3DesKey(String keyStr) throws Exception {\r\n        byte[] key = new byte[24];\r\n        byte[] temp = keyStr.getBytes(&quot;utf-8&quot;);\r\n        if (key.length &gt; temp.length) {\r\n            System.arraycopy(temp, 0, key, 0, temp.length);\r\n        } else {\r\n            System.arraycopy(temp, 0, key, 0, key.length);\r\n        }\r\n        return key;\r\n    }\r\n\r\n\r\nHow can I get the same result with PHP version? I tried to write in PHP and It outputs with wrong result.\r\n\r\n&lt;!-- language: lang-php--&gt;    \r\n    $data = &#39;69C16E8142F2BDDE7569842BB0D68A3176624264E...&#39;;\r\n    $key = &#39;rpwdvbppnrvr56m123+#&#39;;\r\n    function decrypt($data, $secret)\r\n    {\r\n        //Generate a key from a hash\r\n        $key = md5(utf8_encode($secret), true);\r\n        //Take first 8 bytes of $key and append them to the end of $key.\r\n        $key .= substr($key, 0, 8);\r\n        $data = base64_decode($data);\r\n        $data = mcrypt_decrypt(&#39;tripledes&#39;, $key, $data, &#39;ecb&#39;);\r\n        $block = mcrypt_get_block_size(&#39;tripledes&#39;, &#39;ecb&#39;);\r\n        $len = strlen($data);\r\n        $pad = ord($data[$len-1]);\r\n        return substr($data, 0, strlen($data) - $pad);\r\n    }\r\n    \r\n    var_dump(utf8_encode(Decrypt($data, $key)));\r\n\r\n","title":"How to decrypt a string in PHP that was encrypted in Java?","body":"<p>I tried to decrypt en encrypted string in JAVA with to code below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SecretKey secretKey = new SecretKeySpec(build3DesKey(key), &quot;DESede&quot;);\nCipher cipher = Cipher.getInstance(&quot;DESede&quot;);\ncipher.init(Cipher.DECRYPT_MODE, secretKey);\nbyte[] b = cipher.doFinal(str2ByteArray(dest));\nString decoder = new String(b, &quot;utf-8&quot;);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private static byte[] build3DesKey(String keyStr) throws Exception {\n    byte[] key = new byte[24];\n    byte[] temp = keyStr.getBytes(&quot;utf-8&quot;);\n    if (key.length &gt; temp.length) {\n        System.arraycopy(temp, 0, key, 0, temp.length);\n    } else {\n        System.arraycopy(temp, 0, key, 0, key.length);\n    }\n    return key;\n}\n</code></pre>\n<p>How can I get the same result with PHP version? I tried to write in PHP and It outputs with wrong result.</p>\n    \n<pre><code>$data = '69C16E8142F2BDDE7569842BB0D68A3176624264E...';\n$key = 'rpwdvbppnrvr56m123+#';\nfunction decrypt($data, $secret)\n{\n    //Generate a key from a hash\n    $key = md5(utf8_encode($secret), true);\n    //Take first 8 bytes of $key and append them to the end of $key.\n    $key .= substr($key, 0, 8);\n    $data = base64_decode($data);\n    $data = mcrypt_decrypt('tripledes', $key, $data, 'ecb');\n    $block = mcrypt_get_block_size('tripledes', 'ecb');\n    $len = strlen($data);\n    $pad = ord($data[$len-1]);\n    return substr($data, 0, strlen($data) - $pad);\n}\n\nvar_dump(utf8_encode(Decrypt($data, $key)));\n</code></pre>\n"},{"tags":["java","multithreading","sockets","runnable"],"comments":[{"owner":{"account_id":26158037,"reputation":1,"user_id":19845021,"display_name":"Ljonja2107"},"score":0,"creation_date":1661766151,"post_id":73525828,"comment_id":129841327,"body_markdown":"there is a mistake in ClientHorcher. datenRein.readUTF(datenReinn); is the correct line.","body":"there is a mistake in ClientHorcher. datenRein.readUTF(datenReinn); is the correct line."}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661770043,"creation_date":1661765800,"answer_id":73526823,"question_id":73525828,"body_markdown":"Multiple possibilities.\r\n\r\n1) Use static variables. Normally you would not do that, but because your code is all-static, you could\r\n\r\n2) Use member variables in an OO-style code.\r\n\r\n3) If you wanted to do it properly, you&#39;d split the server into two parts:  \r\n   1) The ServerSocket listener that only listens to connections (`Socket connectionToClient = ss.accept`), and whenever a connection comes in, creates a new   \r\n   2) ClientHandler, passes in the Socket, and the ClientHandler then starts its own thread internally\r\n\r\nThis way, the ClientHandler has all the data it needs (again as member variables) and can work on its own concerns (aka &#39;separation of concerns).\r\n\r\nUpdate\r\n--\r\n\r\nThis is what I created. Really simple.\r\n1) Start Server\r\n2) Start 1st client\r\n3) Start 2nd client\r\n4) In any client, type message\r\n5) Other client receives it\r\n\r\n\r\nClasses:\r\n\r\nSimpleServer\r\n\r\n\r\n    package stackoverflow.simplemtserver;\r\n    \r\n    import java.io.IOException;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.util.concurrent.LinkedBlockingDeque;\r\n    \r\n    public class SimpleServer { // make it closeable and close sockets if this is not standalone\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) throws IOException {\r\n    \t\tfinal int port = 7623;\r\n    \t\tnew SimpleServer(port);\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tfinal LinkedBlockingDeque&lt;SimpleServerClientHandler&gt; clientHandlers = new LinkedBlockingDeque&lt;&gt;();\r\n    \r\n    \tprivate final ServerSocket mServerSocket;\r\n    \r\n    \tpublic SimpleServer(final int pPort) throws IOException {\r\n    \t\tmServerSocket = new ServerSocket(pPort);\r\n    \r\n    \t\tfinal Thread m = new Thread(() -&gt; runLoop(), getClass().getSimpleName() + &quot; Main Loop&quot;);\r\n    \t\tm.start();\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tprivate void runLoop() {\r\n    \t\twhile (true) {\r\n    \t\t\ttry {\r\n    \t\t\t\tSystem.out.println(&quot;Server waiting for connection...&quot;);\r\n    \t\t\t\t@SuppressWarnings(&quot;resource&quot;) final Socket cs = mServerSocket.accept(); // do NOT close the socket here, no try-resource, will interrupt threaded communication!\r\n    \t\t\t\tfinal SimpleServerClientHandler ch = new SimpleServerClientHandler(this, cs);\r\n    \t\t\t\tclientHandlers.add(ch);\r\n    \t\t\t\tSystem.out.println(&quot;Connection accepted, handler started. Handlers active: &quot; + clientHandlers.size());\r\n    \r\n    \t\t\t} catch (final IOException e) {\r\n    \t\t\t\t// handle this how you need it\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic void signOffClientHandler(final SimpleServerClientHandler pClientHandler) {\r\n    \t\tclientHandlers.remove(pClientHandler); // we could also accommplish this using stack trace to avoid access from outside, but this is the easier solution\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic void spreadMessageToClients(final String pMessageFromClient, final SimpleServerClientHandler pSimpleServerClientHandler) {\r\n    \t\tfor (final SimpleServerClientHandler ch : clientHandlers) {\r\n    \t\t\tif (ch != pSimpleServerClientHandler) ch.relayMessageToClient(pMessageFromClient); // we can work with identity == and != here\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n    \r\n\r\nSimpleServerClientHandler\r\n\r\n    \r\n    package stackoverflow.simplemtserver;\r\n    \r\n    import java.io.DataInputStream;\r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.net.Socket;\r\n    \r\n    public class SimpleServerClientHandler {\r\n    \r\n    \r\n    \r\n    \tprivate final SimpleServer\t\tmParentServer;\r\n    \tprivate final Socket\t\t\tmClientSocket;\r\n    \tprivate final DataInputStream\tmDIS;\r\n    \tprivate final DataOutputStream\tmDOS;\r\n    \r\n    \tpublic SimpleServerClientHandler(final SimpleServer pSimpleServer, final Socket pCS) throws IOException {\r\n    \t\tmParentServer = pSimpleServer;\r\n    \t\tmClientSocket = pCS;\r\n    \r\n    \t\tmDIS = new DataInputStream(mClientSocket.getInputStream());\r\n    \t\tmDOS = new DataOutputStream(mClientSocket.getOutputStream());\r\n    \t\tfinal Thread t = new Thread(() -&gt; runComms(), getClass().getSimpleName() + &quot; Comms Loop&quot;);\r\n    \t\tt.setDaemon(true); // threads now stop once server stops. this is NOT a soft exit\r\n    \t\tt.start();\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tprivate void runComms() {\r\n    \t\ttry {\r\n    \t\t\ttry {\r\n    \t\t\t\twhile (true) {\r\n    \t\t\t\t\t// do all your logic here, work with DIS and DOS\r\n    \r\n    \t\t\t\t\tfinal String messageFromClient = mDIS.readUTF();\r\n    \t\t\t\t\tif (messageFromClient == null) break;\r\n    \r\n    \t\t\t\t\tif (!messageFromClient.startsWith(&quot;*&quot;)) mParentServer.spreadMessageToClients(messageFromClient, this);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t} catch (final Exception e) {\r\n    \t\t\t\t// TODO: handle exception\r\n    \t\t\t}\r\n    \r\n    \t\t} finally {\r\n    \t\t\ttry {\r\n    \t\t\t\tmClientSocket.close(); // also closes DataIn/Out\r\n    \t\t\t} catch (final IOException e) { /* ignore */ }\r\n    \t\t\tmParentServer.signOffClientHandler(this);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic void relayMessageToClient(final String pMessageFromClient) {\r\n    \t\ttry {\r\n    \t\t\tmDOS.writeUTF(&quot;*&quot; + pMessageFromClient);\r\n    \t\t} catch (final IOException e) {\r\n    \t\t\t// ignore unless needed otherwise\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n    \r\n    \r\nSimpleClient\r\n    \r\n    \r\n    package stackoverflow.simplemtserver;\r\n    \r\n    import java.io.DataInputStream;\r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.net.Socket;\r\n    import java.net.SocketException;\r\n    import java.net.UnknownHostException;\r\n    import java.util.Scanner;\r\n    \r\n    public class SimpleClient {\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) throws UnknownHostException, IOException {\r\n    \t\tfinal String hostname = &quot;localhost&quot;;\r\n    \t\tfinal int port = 7623;\r\n    \r\n    \t\ttry (final Socket s = new Socket(hostname, port);\r\n    \t\t\t\tfinal DataInputStream dis = new DataInputStream(s.getInputStream());\r\n    \t\t\t\tfinal DataOutputStream dos = new DataOutputStream(s.getOutputStream());\r\n    \t\t\t\tfinal Scanner scanner = new Scanner(System.in);) {\r\n    \r\n    \t\t\tfinal Thread t = new Thread(() -&gt; runListenerLoop(dis), SimpleClient.class.getSimpleName() + &quot; Reader Thread&quot;);\r\n    \t\t\tt.setDaemon(true);\r\n    \t\t\tt.start();\r\n    \r\n    \t\t\twhile (true) {\r\n    \t\t\t\tSystem.out.println(&quot;Enter message:&quot;);\r\n    \t\t\t\tSystem.out.flush();\r\n    \t\t\t\tfinal String msg = scanner.nextLine();\r\n    \t\t\t\tif (msg == null) break;\r\n    \r\n    \t\t\t\tSystem.out.println(&quot;Spreading message: &quot; + msg);\r\n    \t\t\t\tdos.writeUTF(msg);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void runListenerLoop(final DataInputStream pDis) {\r\n    \t\twhile (true) {\r\n    \t\t\ttry {\r\n    \t\t\t\tSystem.out.println(&quot;Waiting for incoming messages...&quot;);\r\n    \t\t\t\tfinal String msg = pDis.readUTF();\r\n    \t\t\t\tSystem.out.println(&quot;Received: &quot; + msg);\r\n    \r\n    \t\t\t} catch (final SocketException e) {\r\n    \t\t\t\t//\t\t\t\tif (&quot;java.net.SocketException: Connection reset&quot;.equals(e.getMessage())) \r\n    \t\t\t\tbreak;\r\n    \t\t\t} catch (final IOException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\nFrom here on, there&#39;s now more ways you can extend this client/server communication:\r\n - use opcodes (read/write int constants or enums before data) to distinguish for special operations and/or messages (like this here puts an asterisk in front of the string to prevent re-re-laying the same message indefinitely over the network)\r\n - read multiple strings for user, message, additional options\r\n - implement this is a user friendly UI so you dont have to use console I/O\r\n\r\n\r\nUpdate 2\r\n--\r\n\r\nThe pure peer-to-peer solution is this one.\r\n\r\n- If the app is run without params, it goes into listening mode, waiting for a connection.\r\n- If the app is run with one arguments, it interprets it as listening port and also goes into listening mode.\r\n- If the app is un with [hostname] [port] arguments, it will try to connect there\r\n\r\nExample:\r\n- start first app without arguments (listening)\r\n- start second app with arguments &quot;localhost 7642&quot; (connecting)\r\n- both apps will now \r\n - - connect, \r\n - - then set up I/O resources, \r\n - - then start the listening thread for incoming messages\r\n - - then go into the read-keyboard-and-write-to-socket loop\r\n- now you can type a message in one of the apps, the other one will receive it\r\n\r\n\r\np2p code:\r\n\r\n    package stackoverflow.simplemtserver;\r\n    \r\n    import java.io.DataInputStream;\r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.net.SocketException;\r\n    import java.net.UnknownHostException;\r\n    import java.util.Scanner;\r\n    \r\n    public class SimplePeerToPeerClient {\r\n    \r\n    \r\n    \r\n    \tstatic public final int DEFAULT_PORT = 7642;\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) throws UnknownHostException, IOException {\r\n    \t\tif (args.length == 0) {\r\n    \t\t\tSystem.out.println(&quot;Waiting on default port &quot; + DEFAULT_PORT);\r\n    \t\t\twaitForConnection(DEFAULT_PORT);\r\n    \t\t} else if (args.length == 1) {\r\n    \t\t\tfinal int port = Integer.parseInt(args[0]);\r\n    \t\t\tSystem.out.println(&quot;Waiting on port &quot; + port);\r\n    \t\t\twaitForConnection(port);\r\n    \t\t} else if (args.length == 2) {\r\n    \t\t\tfinal String hostName = args[0];\r\n    \t\t\tfinal int port = Integer.parseInt(args[1]);\r\n    \t\t\tSystem.out.println(&quot;Connecting to &quot; + hostName + &quot; on port &quot; + port);\r\n    \t\t\tconnectToOtherSide(hostName, port);\r\n    \t\t} else throw new IllegalArgumentException(&quot;Invalid amount of argument! Need none (listen) or 2: [hostname] [port] (connect)&quot;);\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tprivate static void waitForConnection(final int pPort) throws IOException {\r\n    \t\ttry (final ServerSocket ss = new ServerSocket(pPort);) {\r\n    \t\t\t@SuppressWarnings(&quot;resource&quot;) final Socket socket = ss.accept(); // will get closed later\r\n    \t\t\tstartComms(socket);\r\n    \t\t} // closes ServerSocket after 1st connection\r\n    \t}\r\n    \tprivate static void connectToOtherSide(final String pHostName, final int pPort) throws UnknownHostException, IOException {\r\n    \t\t@SuppressWarnings(&quot;resource&quot;) final Socket socket = new Socket(pHostName, pPort); // will get closed later\r\n    \t\tstartComms(socket);\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tprivate static void startComms(final Socket pSocket) throws IOException {\r\n    \t\ttry (\r\n    \t\t\t\tfinal DataInputStream dis = new DataInputStream(pSocket.getInputStream());\r\n    \t\t\t\tfinal DataOutputStream dos = new DataOutputStream(pSocket.getOutputStream());\r\n    \t\t\t\tfinal Scanner scanner = new Scanner(System.in);) {\r\n    \r\n    \t\t\t// run the listener loop\r\n    \t\t\tfinal Thread t = new Thread(() -&gt; runListenerLoop(dis), SimpleClient.class.getSimpleName() + &quot; Reader Thread&quot;);\r\n    \t\t\tt.setDaemon(true);\r\n    \t\t\tt.start();\r\n    \r\n    \t\t\t// run my keyboard-input-send loop\r\n    \t\t\twhile (true) {\r\n    \t\t\t\tSystem.out.println(&quot;Enter message:&quot;);\r\n    \t\t\t\tSystem.out.flush();\r\n    \t\t\t\tfinal String msg = scanner.nextLine();\r\n    \t\t\t\tif (msg == null) break; // empty input ends client\r\n    \r\n    \t\t\t\tSystem.out.println(&quot;Spreading message: &quot; + msg);\r\n    \t\t\t\tdos.writeUTF(msg);\r\n    \t\t\t}\r\n    \r\n    \t\t} finally {\r\n    \t\t\ttry {\r\n    \t\t\t\tpSocket.close();\r\n    \t\t\t} catch (final IOException e) { /* ignore */ }\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tprivate static void runListenerLoop(final DataInputStream pDis) {\r\n    \t\twhile (true) {\r\n    \t\t\ttry {\r\n    \t\t\t\tSystem.out.println(&quot;Waiting for incoming messages...&quot;);\r\n    \t\t\t\tfinal String msg = pDis.readUTF();\r\n    \t\t\t\tSystem.out.println(&quot;Received: &quot; + msg);\r\n    \r\n    \t\t\t} catch (final SocketException e) {\r\n    \t\t\t\t//\t\t\t\tif (&quot;java.net.SocketException: Connection reset&quot;.equals(e.getMessage()))\r\n    \t\t\t\tbreak;\r\n    \t\t\t} catch (final IOException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n","title":"How to use existing Objects in an overwritten run() Method?","body":"<p>Multiple possibilities.</p>\n<ol>\n<li><p>Use static variables. Normally you would not do that, but because your code is all-static, you could</p>\n</li>\n<li><p>Use member variables in an OO-style code.</p>\n</li>\n<li><p>If you wanted to do it properly, you'd split the server into two parts:</p>\n<ol>\n<li>The ServerSocket listener that only listens to connections (<code>Socket connectionToClient = ss.accept</code>), and whenever a connection comes in, creates a new</li>\n<li>ClientHandler, passes in the Socket, and the ClientHandler then starts its own thread internally</li>\n</ol>\n</li>\n</ol>\n<p>This way, the ClientHandler has all the data it needs (again as member variables) and can work on its own concerns (aka 'separation of concerns).</p>\n<h2>Update</h2>\n<p>This is what I created. Really simple.</p>\n<ol>\n<li>Start Server</li>\n<li>Start 1st client</li>\n<li>Start 2nd client</li>\n<li>In any client, type message</li>\n<li>Other client receives it</li>\n</ol>\n<p>Classes:</p>\n<p>SimpleServer</p>\n<pre><code>package stackoverflow.simplemtserver;\n\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.concurrent.LinkedBlockingDeque;\n\npublic class SimpleServer { // make it closeable and close sockets if this is not standalone\n\n\n\n    public static void main(final String[] args) throws IOException {\n        final int port = 7623;\n        new SimpleServer(port);\n    }\n\n\n\n    final LinkedBlockingDeque&lt;SimpleServerClientHandler&gt; clientHandlers = new LinkedBlockingDeque&lt;&gt;();\n\n    private final ServerSocket mServerSocket;\n\n    public SimpleServer(final int pPort) throws IOException {\n        mServerSocket = new ServerSocket(pPort);\n\n        final Thread m = new Thread(() -&gt; runLoop(), getClass().getSimpleName() + &quot; Main Loop&quot;);\n        m.start();\n    }\n\n\n\n    private void runLoop() {\n        while (true) {\n            try {\n                System.out.println(&quot;Server waiting for connection...&quot;);\n                @SuppressWarnings(&quot;resource&quot;) final Socket cs = mServerSocket.accept(); // do NOT close the socket here, no try-resource, will interrupt threaded communication!\n                final SimpleServerClientHandler ch = new SimpleServerClientHandler(this, cs);\n                clientHandlers.add(ch);\n                System.out.println(&quot;Connection accepted, handler started. Handlers active: &quot; + clientHandlers.size());\n\n            } catch (final IOException e) {\n                // handle this how you need it\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n\n    public void signOffClientHandler(final SimpleServerClientHandler pClientHandler) {\n        clientHandlers.remove(pClientHandler); // we could also accommplish this using stack trace to avoid access from outside, but this is the easier solution\n    }\n\n\n\n    public void spreadMessageToClients(final String pMessageFromClient, final SimpleServerClientHandler pSimpleServerClientHandler) {\n        for (final SimpleServerClientHandler ch : clientHandlers) {\n            if (ch != pSimpleServerClientHandler) ch.relayMessageToClient(pMessageFromClient); // we can work with identity == and != here\n        }\n    }\n\n\n\n}\n</code></pre>\n<p>SimpleServerClientHandler</p>\n<pre><code>package stackoverflow.simplemtserver;\n\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.net.Socket;\n\npublic class SimpleServerClientHandler {\n\n\n\n    private final SimpleServer      mParentServer;\n    private final Socket            mClientSocket;\n    private final DataInputStream   mDIS;\n    private final DataOutputStream  mDOS;\n\n    public SimpleServerClientHandler(final SimpleServer pSimpleServer, final Socket pCS) throws IOException {\n        mParentServer = pSimpleServer;\n        mClientSocket = pCS;\n\n        mDIS = new DataInputStream(mClientSocket.getInputStream());\n        mDOS = new DataOutputStream(mClientSocket.getOutputStream());\n        final Thread t = new Thread(() -&gt; runComms(), getClass().getSimpleName() + &quot; Comms Loop&quot;);\n        t.setDaemon(true); // threads now stop once server stops. this is NOT a soft exit\n        t.start();\n    }\n\n\n\n    private void runComms() {\n        try {\n            try {\n                while (true) {\n                    // do all your logic here, work with DIS and DOS\n\n                    final String messageFromClient = mDIS.readUTF();\n                    if (messageFromClient == null) break;\n\n                    if (!messageFromClient.startsWith(&quot;*&quot;)) mParentServer.spreadMessageToClients(messageFromClient, this);\n                }\n\n            } catch (final Exception e) {\n                // TODO: handle exception\n            }\n\n        } finally {\n            try {\n                mClientSocket.close(); // also closes DataIn/Out\n            } catch (final IOException e) { /* ignore */ }\n            mParentServer.signOffClientHandler(this);\n        }\n    }\n\n\n\n    public void relayMessageToClient(final String pMessageFromClient) {\n        try {\n            mDOS.writeUTF(&quot;*&quot; + pMessageFromClient);\n        } catch (final IOException e) {\n            // ignore unless needed otherwise\n        }\n    }\n\n\n\n}\n</code></pre>\n<p>SimpleClient</p>\n<pre><code>package stackoverflow.simplemtserver;\n\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.net.Socket;\nimport java.net.SocketException;\nimport java.net.UnknownHostException;\nimport java.util.Scanner;\n\npublic class SimpleClient {\n\n\n\n    public static void main(final String[] args) throws UnknownHostException, IOException {\n        final String hostname = &quot;localhost&quot;;\n        final int port = 7623;\n\n        try (final Socket s = new Socket(hostname, port);\n                final DataInputStream dis = new DataInputStream(s.getInputStream());\n                final DataOutputStream dos = new DataOutputStream(s.getOutputStream());\n                final Scanner scanner = new Scanner(System.in);) {\n\n            final Thread t = new Thread(() -&gt; runListenerLoop(dis), SimpleClient.class.getSimpleName() + &quot; Reader Thread&quot;);\n            t.setDaemon(true);\n            t.start();\n\n            while (true) {\n                System.out.println(&quot;Enter message:&quot;);\n                System.out.flush();\n                final String msg = scanner.nextLine();\n                if (msg == null) break;\n\n                System.out.println(&quot;Spreading message: &quot; + msg);\n                dos.writeUTF(msg);\n            }\n        }\n    }\n\n    private static void runListenerLoop(final DataInputStream pDis) {\n        while (true) {\n            try {\n                System.out.println(&quot;Waiting for incoming messages...&quot;);\n                final String msg = pDis.readUTF();\n                System.out.println(&quot;Received: &quot; + msg);\n\n            } catch (final SocketException e) {\n                //              if (&quot;java.net.SocketException: Connection reset&quot;.equals(e.getMessage())) \n                break;\n            } catch (final IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n\n}\n</code></pre>\n<p>From here on, there's now more ways you can extend this client/server communication:</p>\n<ul>\n<li>use opcodes (read/write int constants or enums before data) to distinguish for special operations and/or messages (like this here puts an asterisk in front of the string to prevent re-re-laying the same message indefinitely over the network)</li>\n<li>read multiple strings for user, message, additional options</li>\n<li>implement this is a user friendly UI so you dont have to use console I/O</li>\n</ul>\n<h2>Update 2</h2>\n<p>The pure peer-to-peer solution is this one.</p>\n<ul>\n<li>If the app is run without params, it goes into listening mode, waiting for a connection.</li>\n<li>If the app is run with one arguments, it interprets it as listening port and also goes into listening mode.</li>\n<li>If the app is un with [hostname] [port] arguments, it will try to connect there</li>\n</ul>\n<p>Example:</p>\n<ul>\n<li>start first app without arguments (listening)</li>\n<li>start second app with arguments &quot;localhost 7642&quot; (connecting)</li>\n<li>both apps will now</li>\n<li>\n<ul>\n<li>connect,</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>then set up I/O resources,</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>then start the listening thread for incoming messages</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>then go into the read-keyboard-and-write-to-socket loop</li>\n</ul>\n</li>\n<li>now you can type a message in one of the apps, the other one will receive it</li>\n</ul>\n<p>p2p code:</p>\n<pre><code>package stackoverflow.simplemtserver;\n\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.net.SocketException;\nimport java.net.UnknownHostException;\nimport java.util.Scanner;\n\npublic class SimplePeerToPeerClient {\n\n\n\n    static public final int DEFAULT_PORT = 7642;\n\n\n\n    public static void main(final String[] args) throws UnknownHostException, IOException {\n        if (args.length == 0) {\n            System.out.println(&quot;Waiting on default port &quot; + DEFAULT_PORT);\n            waitForConnection(DEFAULT_PORT);\n        } else if (args.length == 1) {\n            final int port = Integer.parseInt(args[0]);\n            System.out.println(&quot;Waiting on port &quot; + port);\n            waitForConnection(port);\n        } else if (args.length == 2) {\n            final String hostName = args[0];\n            final int port = Integer.parseInt(args[1]);\n            System.out.println(&quot;Connecting to &quot; + hostName + &quot; on port &quot; + port);\n            connectToOtherSide(hostName, port);\n        } else throw new IllegalArgumentException(&quot;Invalid amount of argument! Need none (listen) or 2: [hostname] [port] (connect)&quot;);\n    }\n\n\n\n    private static void waitForConnection(final int pPort) throws IOException {\n        try (final ServerSocket ss = new ServerSocket(pPort);) {\n            @SuppressWarnings(&quot;resource&quot;) final Socket socket = ss.accept(); // will get closed later\n            startComms(socket);\n        } // closes ServerSocket after 1st connection\n    }\n    private static void connectToOtherSide(final String pHostName, final int pPort) throws UnknownHostException, IOException {\n        @SuppressWarnings(&quot;resource&quot;) final Socket socket = new Socket(pHostName, pPort); // will get closed later\n        startComms(socket);\n    }\n\n\n\n    private static void startComms(final Socket pSocket) throws IOException {\n        try (\n                final DataInputStream dis = new DataInputStream(pSocket.getInputStream());\n                final DataOutputStream dos = new DataOutputStream(pSocket.getOutputStream());\n                final Scanner scanner = new Scanner(System.in);) {\n\n            // run the listener loop\n            final Thread t = new Thread(() -&gt; runListenerLoop(dis), SimpleClient.class.getSimpleName() + &quot; Reader Thread&quot;);\n            t.setDaemon(true);\n            t.start();\n\n            // run my keyboard-input-send loop\n            while (true) {\n                System.out.println(&quot;Enter message:&quot;);\n                System.out.flush();\n                final String msg = scanner.nextLine();\n                if (msg == null) break; // empty input ends client\n\n                System.out.println(&quot;Spreading message: &quot; + msg);\n                dos.writeUTF(msg);\n            }\n\n        } finally {\n            try {\n                pSocket.close();\n            } catch (final IOException e) { /* ignore */ }\n        }\n    }\n\n\n\n    private static void runListenerLoop(final DataInputStream pDis) {\n        while (true) {\n            try {\n                System.out.println(&quot;Waiting for incoming messages...&quot;);\n                final String msg = pDis.readUTF();\n                System.out.println(&quot;Received: &quot; + msg);\n\n            } catch (final SocketException e) {\n                //              if (&quot;java.net.SocketException: Connection reset&quot;.equals(e.getMessage()))\n                break;\n            } catch (final IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":26158037,"reputation":1,"user_id":19845021,"display_name":"Ljonja2107"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661770043,"creation_date":1661760468,"question_id":73525828,"body_markdown":"I&#39;m a beginner in programming and do strugle a bit.\r\nSo I&#39;m building a TCP peer to peer Chat and that requires me to divide the tasks -&gt; Threads.\r\nSo I want to built a Thread for the &quot;writing&quot; part of that connection (Scanner, DataOutputStream etc.) In order to do that i implemented Runnable and that forces me to write my Thread in the overwritten run() method. \r\nNow I have a bit of a problem, because in Order to send my messages out to the &quot;other end (another client) I need the &quot;socket.getOutputStream&quot; but I cant use it in the run() method and i dont know how to fix this problem, sitting already a week on this problem. Any ideas ?\r\n\r\n    public class ClientHorcher implements Runnable {\r\n    \r\n        public static void main(String[] args) {\r\n            \r\n            try {\r\n                ServerSocket serverSocket = new ServerSocket(11111);\r\n                System.out.println(&quot;Waiting For Connection:-&quot;);\r\n                Socket socket = serverSocket.accept();\r\n                Scanner scanner = new Scanner(System.in);\r\n                DataInputStream datenRein = new DataInputStream(socket.getInputStream());\r\n                DataOutputStream datenRaus = new DataOutputStream(socket.getOutputStream());\r\n                String nickname;\r\n                System.out.print(&quot;Gib einen Nickname ein: &quot;);\r\n                nickname = scanner.nextLine();\r\n                while (true) {\r\n                    String vonMsg = datenRein.readUTF(in);\r\n                    System.out.println(&quot;Client:-&quot; + vonMsg);\r\n                    if (vonMsg.equals(&quot;exit&quot;)) {\r\n                        System.out.println(&quot;Beenden!!!&quot;);\r\n                        datenRein.close();\r\n                        datenRaus.close();\r\n                        scanner.close();\r\n                        socket.close();\r\n                        serverSocket.close();\r\n                        System.exit(0);\r\n                    }\r\n    \r\n                    System.out.print(nickname + &quot;:-&quot;);\r\n                    String zuMsg = scanner.nextLine();\r\n                    datenRaus.writeUTF(zuMsg);\r\n                    if (zuMsg.equals(&quot;exit&quot;)) {\r\n                        System.out.println(&quot;Quiting!!!&quot;);\r\n                        datenRein.close();\r\n                        datenRaus.close();\r\n                        scanner.close();\r\n                        socket.close();\r\n                        serverSocket.close();\r\n                        System.exit(0);\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n            \r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n           \r\n            \r\n        }\r\n    \r\n    }`\r\n    `public class ClientVerbinder implements Runnable  {\r\n        \r\n    \r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            try {\r\n                Socket socket = new Socket(&quot;Localhost&quot;, 11111);\r\n                System.out.println(&quot;Connected&quot;);\r\n                Scanner scanner = new Scanner(System.in);\r\n                DataInputStream datenRein = new DataInputStream(socket.getInputStream());\r\n                DataOutputStream datenRaus = new DataOutputStream(socket.getOutputStream());\r\n                String nickname;\r\n                System.out.print(&quot;Gib einen Nickname ein: &quot;);\r\n                nickname = scanner.nextLine();\r\n    \r\n                while (true) {\r\n                    System.out.print(nickname+&quot;:-&quot;);\r\n                    String zuMsg = scanner.nextLine();\r\n                    datenRaus.writeUTF(zuMsg);\r\n                    if (zuMsg.equals(&quot;exit&quot;)) {\r\n                        System.out.println(&quot;Beenden!!!&quot;);\r\n                        datenRein.close();\r\n                        datenRaus.close();\r\n                        scanner.close();\r\n                        socket.close();\r\n                        System.exit(0);\r\n                    }\r\n                    String vonMsg = datenRein.readUTF();\r\n                    System.out.println(&quot;CLient&quot;+&quot;:-&quot; + vonMsg);\r\n                    if (vonMsg.equals(&quot;exit&quot;)) {\r\n                        System.out.println(&quot;Quiting!!!&quot;);\r\n                        datenRein.close();\r\n                        datenRaus.close();\r\n                        scanner.close();\r\n                        socket.close();\r\n                        System.exit(0);\r\n                    }\r\n                }\r\n            } catch (UnknownHostException e) {\r\n                \r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                \r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n        @Override\r\n        public void run() {\r\n           \r\n            \r\n        \r\n        }\r\n    \r\n    }","title":"How to use existing Objects in an overwritten run() Method?","body":"<p>I'm a beginner in programming and do strugle a bit.\nSo I'm building a TCP peer to peer Chat and that requires me to divide the tasks -&gt; Threads.\nSo I want to built a Thread for the &quot;writing&quot; part of that connection (Scanner, DataOutputStream etc.) In order to do that i implemented Runnable and that forces me to write my Thread in the overwritten run() method.\nNow I have a bit of a problem, because in Order to send my messages out to the &quot;other end (another client) I need the &quot;socket.getOutputStream&quot; but I cant use it in the run() method and i dont know how to fix this problem, sitting already a week on this problem. Any ideas ?</p>\n<pre><code>public class ClientHorcher implements Runnable {\n\n    public static void main(String[] args) {\n        \n        try {\n            ServerSocket serverSocket = new ServerSocket(11111);\n            System.out.println(&quot;Waiting For Connection:-&quot;);\n            Socket socket = serverSocket.accept();\n            Scanner scanner = new Scanner(System.in);\n            DataInputStream datenRein = new DataInputStream(socket.getInputStream());\n            DataOutputStream datenRaus = new DataOutputStream(socket.getOutputStream());\n            String nickname;\n            System.out.print(&quot;Gib einen Nickname ein: &quot;);\n            nickname = scanner.nextLine();\n            while (true) {\n                String vonMsg = datenRein.readUTF(in);\n                System.out.println(&quot;Client:-&quot; + vonMsg);\n                if (vonMsg.equals(&quot;exit&quot;)) {\n                    System.out.println(&quot;Beenden!!!&quot;);\n                    datenRein.close();\n                    datenRaus.close();\n                    scanner.close();\n                    socket.close();\n                    serverSocket.close();\n                    System.exit(0);\n                }\n\n                System.out.print(nickname + &quot;:-&quot;);\n                String zuMsg = scanner.nextLine();\n                datenRaus.writeUTF(zuMsg);\n                if (zuMsg.equals(&quot;exit&quot;)) {\n                    System.out.println(&quot;Quiting!!!&quot;);\n                    datenRein.close();\n                    datenRaus.close();\n                    scanner.close();\n                    socket.close();\n                    serverSocket.close();\n                    System.exit(0);\n                }\n            }\n        } catch (IOException e) {\n        \n            e.printStackTrace();\n        }\n\n    }\n\n    @Override\n    public void run() {\n       \n        \n    }\n\n}`\n`public class ClientVerbinder implements Runnable  {\n    \n\n\n    public static void main(String[] args) {\n\n        try {\n            Socket socket = new Socket(&quot;Localhost&quot;, 11111);\n            System.out.println(&quot;Connected&quot;);\n            Scanner scanner = new Scanner(System.in);\n            DataInputStream datenRein = new DataInputStream(socket.getInputStream());\n            DataOutputStream datenRaus = new DataOutputStream(socket.getOutputStream());\n            String nickname;\n            System.out.print(&quot;Gib einen Nickname ein: &quot;);\n            nickname = scanner.nextLine();\n\n            while (true) {\n                System.out.print(nickname+&quot;:-&quot;);\n                String zuMsg = scanner.nextLine();\n                datenRaus.writeUTF(zuMsg);\n                if (zuMsg.equals(&quot;exit&quot;)) {\n                    System.out.println(&quot;Beenden!!!&quot;);\n                    datenRein.close();\n                    datenRaus.close();\n                    scanner.close();\n                    socket.close();\n                    System.exit(0);\n                }\n                String vonMsg = datenRein.readUTF();\n                System.out.println(&quot;CLient&quot;+&quot;:-&quot; + vonMsg);\n                if (vonMsg.equals(&quot;exit&quot;)) {\n                    System.out.println(&quot;Quiting!!!&quot;);\n                    datenRein.close();\n                    datenRaus.close();\n                    scanner.close();\n                    socket.close();\n                    System.exit(0);\n                }\n            }\n        } catch (UnknownHostException e) {\n            \n            e.printStackTrace();\n        } catch (IOException e) {\n            \n            e.printStackTrace();\n        }\n\n    }\n    @Override\n    public void run() {\n       \n        \n    \n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1655277254,"creation_date":1533482577,"answer_id":51695630,"question_id":51688924,"body_markdown":"See [the documentation](https://docs.spring.io/spring-kafka/reference/html/#json-serde).\r\n\r\n&gt;Starting with version 2.1, type information can be conveyed in record Headers, allowing the handling of multiple types. In addition, the serializer/deserializer can be configured using Kafka properties.\r\n&gt;\r\n&gt;JsonSerializer.ADD_TYPE_INFO_HEADERS (default true); set to false to disable this feature on the JsonSerializer (sets the addTypeInfo property).\r\n&gt;\r\n&gt;JsonDeserializer.KEY_DEFAULT_TYPE; fallback type for deserialization of keys if no header information is present.\r\n&gt;\r\n&gt;JsonDeserializer.VALUE_DEFAULT_TYPE; fallback type for deserialization of values if no header information is present.\r\n&gt;\r\n&gt;JsonDeserializer.TRUSTED_PACKAGES (default java.util, java.lang); comma-delimited list of package patterns allowed for deserialization; * means deserialize all.\r\n\r\nBy default, the serializer will add type information to the headers.\r\n\r\nsee [the boot documentation](https://docs.spring.io/spring-boot/docs/2.0.4.RELEASE/reference/htmlsingle/#boot-features-kafka-extra-props).\r\n\r\n&gt;Similarly, you can disable the JsonSerializer default behavior of sending type information in headers:\r\n&gt;\r\n&gt;``` java\r\n&gt;spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\r\n&gt;spring.kafka.producer.properties.spring.json.add.type.headers=false\r\n&gt;```\r\n\r\n\r\nOr you can add type mapping to the inbound message converter to map the source type to the destination type.\r\n\r\n__EDIT__\r\n\r\nHaving said that, what version are you using? ","title":"Spring Kafka The class is not in the trusted packages","body":"<p>See <a href=\"https://docs.spring.io/spring-kafka/reference/html/#json-serde\" rel=\"noreferrer\">the documentation</a>.</p>\n<blockquote>\n<p>Starting with version 2.1, type information can be conveyed in record Headers, allowing the handling of multiple types. In addition, the serializer/deserializer can be configured using Kafka properties.</p>\n<p>JsonSerializer.ADD_TYPE_INFO_HEADERS (default true); set to false to disable this feature on the JsonSerializer (sets the addTypeInfo property).</p>\n<p>JsonDeserializer.KEY_DEFAULT_TYPE; fallback type for deserialization of keys if no header information is present.</p>\n<p>JsonDeserializer.VALUE_DEFAULT_TYPE; fallback type for deserialization of values if no header information is present.</p>\n<p>JsonDeserializer.TRUSTED_PACKAGES (default java.util, java.lang); comma-delimited list of package patterns allowed for deserialization; * means deserialize all.</p>\n</blockquote>\n<p>By default, the serializer will add type information to the headers.</p>\n<p>see <a href=\"https://docs.spring.io/spring-boot/docs/2.0.4.RELEASE/reference/htmlsingle/#boot-features-kafka-extra-props\" rel=\"noreferrer\">the boot documentation</a>.</p>\n<blockquote>\n<p>Similarly, you can disable the JsonSerializer default behavior of sending type information in headers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\nspring.kafka.producer.properties.spring.json.add.type.headers=false\n</code></pre>\n</blockquote>\n<p>Or you can add type mapping to the inbound message converter to map the source type to the destination type.</p>\n<p><strong>EDIT</strong></p>\n<p>Having said that, what version are you using?</p>\n"},{"tags":[],"owner":{"account_id":6947123,"reputation":349,"user_id":5331149,"display_name":"Iroshan"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1553747091,"creation_date":1553747091,"answer_id":55390144,"question_id":51688924,"body_markdown":"There are two key points should be mentioned.\r\n\r\n 1. There are two separated project for Producer and Consumer.\r\n 2. Then sending message(value) is an Object type rather primitive type.\r\n\r\nThe problem is that the producing message object is not available in consumer side because those are two separate projects.\r\n\r\nTwo overcome this issue please follow below mention steps in Spring boot Producer and Consumer applications.\r\n\r\n----Producer App -------------\r\n\r\n** Producer Configuration Class **\r\n\r\n    import com.kafka.producer.models.Container;    \r\n    import org.apache.kafka.clients.producer.ProducerConfig;\r\n    import org.apache.kafka.common.serialization.StringSerializer;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.kafka.core.DefaultKafkaProducerFactory;\r\n    import org.springframework.kafka.core.KafkaTemplate;\r\n    import org.springframework.kafka.core.ProducerFactory;\r\n    import org.springframework.kafka.support.serializer.JsonSerializer;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    @Configuration\r\n    public class KafkaProducerConfig {\r\n    \r\n    @Bean\r\n    public ProducerFactory&lt;String, Container&gt; producerFactory(){\r\n    \r\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n    \r\n    config.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n    config.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n    config.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n    \r\n        return new DefaultKafkaProducerFactory(config);\r\n    }\r\n    \r\n    @Bean\r\n    public KafkaTemplate&lt;String, Container&gt; kafkaTemplate(){\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n    }\r\n\r\nNote : Container is the custom Object to be posted in a kafka topic.\r\n\r\n---------------------------------------------------------------------\r\n** Producer Class **\r\n\r\n    import com.kafka.producer.models.Container;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.kafka.core.KafkaTemplate;\r\n    import org.springframework.kafka.support.KafkaHeaders;\r\n    import org.springframework.messaging.Message;\r\n    import org.springframework.messaging.support.MessageBuilder;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class Producer {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(Producer.class);\r\n    private static final String TOPIC = &quot;final-topic&quot;;\r\n\r\n    @Autowired\r\n    private KafkaTemplate&lt;String, Container&gt; kafkaTemplate;\r\n\r\n    public void sendUserMessage(Container msg) {\r\n        LOGGER.info(String.format(&quot;\\n ===== Producing message in JSON ===== \\n&quot;+msg));\r\n        Message&lt;Container&gt; message = MessageBuilder\r\n                .withPayload(msg)\r\n                .setHeader(KafkaHeaders.TOPIC, TOPIC)\r\n                .build();\r\n        this.kafkaTemplate.send(message);\r\n    }\r\n    }\r\n\r\n-------------------------------------------------------------------------------\r\n** Producer Controller **\r\n\r\n    import com.kafka.producer.models.Container;\r\n    import com.kafka.producer.services.Producer;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/message&quot;)\r\n    public class MessageController {\r\n\r\n    @Autowired\r\n    private Producer producer;\r\n\r\n    @PostMapping(value = &quot;/publish&quot;)\r\n    public String sendMessageToKafkaTopic(@RequestBody Container containerMsg) {\r\n        this.producer.sendUserMessage(containerMsg);\r\n        return &quot;Successfully Published !!&quot;;\r\n    }\r\n    }\r\n\r\nNote: The message with type Container will be published to the kafka topic name :final-topic as JSON message.\r\n\r\n\r\n===============================================================================\r\n\r\n-- Consumer App --\r\n\r\n** Configuration Class **\r\n\r\n    import com.kafka.consumer.models.Container;\r\n    import org.apache.kafka.clients.consumer.ConsumerConfig;\r\n    import org.apache.kafka.common.serialization.StringDeserializer;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.kafka.annotation.EnableKafka;\r\n    import org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\n    import org.springframework.kafka.core.ConsumerFactory;\r\n    import org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\n    import org.springframework.kafka.support.serializer.JsonDeserializer;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    @Configuration\r\n    @EnableKafka\r\n    public class KafkaConsumerOneConfig {\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, Container&gt; consumerFactory(){\r\n        JsonDeserializer&lt;Container&gt; deserializer = new JsonDeserializer&lt;&gt;(Container.class);\r\n        deserializer.setRemoveTypeHeaders(false);\r\n        deserializer.addTrustedPackages(&quot;*&quot;);\r\n        deserializer.setUseTypeMapperForKey(true);\r\n\r\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n\r\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        config.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;group_one&quot;);\r\n        config.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        config.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, deserializer);\r\n\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(config, new StringDeserializer(), deserializer);\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Container&gt; kafkaListenerContainerFactory(){\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, Container&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n\r\n    }\r\n    }\r\n\r\nNote: Here you can see, instead of using default JsonDeserializer() we have to use custom JsonDeserializer to consume Container object type Json Messages from final-topic(topic name). \r\n\r\n----------------------------------------------------------------------------------\r\n** Consumer Service **\r\n\r\n    import com.kafka.consumer.models.Container;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.kafka.annotation.KafkaListener;\r\n    import org.springframework.messaging.MessageHeaders;\r\n    import org.springframework.messaging.handler.annotation.Headers;\r\n    import org.springframework.messaging.handler.annotation.Payload;\r\n    import org.springframework.stereotype.Service;\r\n    import java.io.IOException;\r\n    \r\n    @Service\r\n    public class ConsumerOne {\r\n\r\n    private final Logger LOGGER = LoggerFactory.getLogger(ConsumerOne.class);\r\n\r\n    @KafkaListener(topics = &quot;final-topic&quot;, groupId = &quot;group_one&quot;, containerFactory = &quot;kafkaListenerContainerFactory&quot;)\r\n    public void consumeUserMessage(@Payload Container msg, @Headers MessageHeaders headers) throws IOException {\r\n        System.out.println(&quot;received data in Consumer One =&quot;+ msg.getMessageTypes());\r\n    }\r\n    }","title":"Spring Kafka The class is not in the trusted packages","body":"<p>There are two key points should be mentioned.</p>\n\n<ol>\n<li>There are two separated project for Producer and Consumer.</li>\n<li>Then sending message(value) is an Object type rather primitive type.</li>\n</ol>\n\n<p>The problem is that the producing message object is not available in consumer side because those are two separate projects.</p>\n\n<p>Two overcome this issue please follow below mention steps in Spring boot Producer and Consumer applications.</p>\n\n<p>----Producer App -------------</p>\n\n<p>** Producer Configuration Class **</p>\n\n<pre><code>import com.kafka.producer.models.Container;    \nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.common.serialization.StringSerializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.core.DefaultKafkaProducerFactory;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.core.ProducerFactory;\nimport org.springframework.kafka.support.serializer.JsonSerializer;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Configuration\npublic class KafkaProducerConfig {\n\n@Bean\npublic ProducerFactory&lt;String, Container&gt; producerFactory(){\n\n    Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n\nconfig.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, \"localhost:9092\");\nconfig.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\nconfig.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n\n    return new DefaultKafkaProducerFactory(config);\n}\n\n@Bean\npublic KafkaTemplate&lt;String, Container&gt; kafkaTemplate(){\n    return new KafkaTemplate&lt;&gt;(producerFactory());\n}\n}\n</code></pre>\n\n<p>Note : Container is the custom Object to be posted in a kafka topic.</p>\n\n<hr>\n\n<p>** Producer Class **</p>\n\n<pre><code>import com.kafka.producer.models.Container;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.support.KafkaHeaders;\nimport org.springframework.messaging.Message;\nimport org.springframework.messaging.support.MessageBuilder;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class Producer {\n\nprivate static final Logger LOGGER = LoggerFactory.getLogger(Producer.class);\nprivate static final String TOPIC = \"final-topic\";\n\n@Autowired\nprivate KafkaTemplate&lt;String, Container&gt; kafkaTemplate;\n\npublic void sendUserMessage(Container msg) {\n    LOGGER.info(String.format(\"\\n ===== Producing message in JSON ===== \\n\"+msg));\n    Message&lt;Container&gt; message = MessageBuilder\n            .withPayload(msg)\n            .setHeader(KafkaHeaders.TOPIC, TOPIC)\n            .build();\n    this.kafkaTemplate.send(message);\n}\n}\n</code></pre>\n\n<hr>\n\n<p>** Producer Controller **</p>\n\n<pre><code>import com.kafka.producer.models.Container;\nimport com.kafka.producer.services.Producer;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\n@RequestMapping(\"/message\")\npublic class MessageController {\n\n@Autowired\nprivate Producer producer;\n\n@PostMapping(value = \"/publish\")\npublic String sendMessageToKafkaTopic(@RequestBody Container containerMsg) {\n    this.producer.sendUserMessage(containerMsg);\n    return \"Successfully Published !!\";\n}\n}\n</code></pre>\n\n<p>Note: The message with type Container will be published to the kafka topic name :final-topic as JSON message.</p>\n\n<p>===============================================================================</p>\n\n<p>-- Consumer App --</p>\n\n<p>** Configuration Class **</p>\n\n<pre><code>import com.kafka.consumer.models.Container;\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\nimport org.springframework.kafka.support.serializer.JsonDeserializer;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Configuration\n@EnableKafka\npublic class KafkaConsumerOneConfig {\n\n@Bean\npublic ConsumerFactory&lt;String, Container&gt; consumerFactory(){\n    JsonDeserializer&lt;Container&gt; deserializer = new JsonDeserializer&lt;&gt;(Container.class);\n    deserializer.setRemoveTypeHeaders(false);\n    deserializer.addTrustedPackages(\"*\");\n    deserializer.setUseTypeMapperForKey(true);\n\n    Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n\n    config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, \"localhost:9092\");\n    config.put(ConsumerConfig.GROUP_ID_CONFIG, \"group_one\");\n    config.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, \"earliest\");\n    config.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n    config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, deserializer);\n\n    return new DefaultKafkaConsumerFactory&lt;&gt;(config, new StringDeserializer(), deserializer);\n}\n\n@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, Container&gt; kafkaListenerContainerFactory(){\n    ConcurrentKafkaListenerContainerFactory&lt;String, Container&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory());\n    return factory;\n\n}\n}\n</code></pre>\n\n<p>Note: Here you can see, instead of using default JsonDeserializer() we have to use custom JsonDeserializer to consume Container object type Json Messages from final-topic(topic name). </p>\n\n<hr>\n\n<p>** Consumer Service **</p>\n\n<pre><code>import com.kafka.consumer.models.Container;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.kafka.annotation.KafkaListener;\nimport org.springframework.messaging.MessageHeaders;\nimport org.springframework.messaging.handler.annotation.Headers;\nimport org.springframework.messaging.handler.annotation.Payload;\nimport org.springframework.stereotype.Service;\nimport java.io.IOException;\n\n@Service\npublic class ConsumerOne {\n\nprivate final Logger LOGGER = LoggerFactory.getLogger(ConsumerOne.class);\n\n@KafkaListener(topics = \"final-topic\", groupId = \"group_one\", containerFactory = \"kafkaListenerContainerFactory\")\npublic void consumeUserMessage(@Payload Container msg, @Headers MessageHeaders headers) throws IOException {\n    System.out.println(\"received data in Consumer One =\"+ msg.getMessageTypes());\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1607664488,"creation_date":1569831672,"answer_id":58164006,"question_id":51688924,"body_markdown":"````\r\njsonDeserializer.addTrustedPackages(&quot;*&quot;);\r\n````\r\nsolved my issue for spring-kafka-2.2.8.\r\n\r\n&lt;br&gt;\r\n\r\nTo add it in `application.properties`:\r\n\r\n    spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer\r\n    spring.kafka.consumer.properties.spring.json.trusted.packages=*\r\n\r\n**IMPORTANT NOTE:**\r\n\r\n&gt; They have no effect if you have provided Serializer and Deserializer\r\n&gt; instances for KafkaConsumer and KafkaProducer, respectively.\r\n\r\n\r\nReferences:&lt;br&gt;\r\n[1] https://docs.spring.io/spring-kafka/reference/html/#json-serde&lt;br&gt;\r\n[2] https://github.com/spring-projects/spring-kafka/issues/535","title":"Spring Kafka The class is not in the trusted packages","body":"<pre><code>jsonDeserializer.addTrustedPackages(&quot;*&quot;);\n</code></pre>\n<p>solved my issue for spring-kafka-2.2.8.</p>\n<br>\n<p>To add it in <code>application.properties</code>:</p>\n<pre><code>spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer\nspring.kafka.consumer.properties.spring.json.trusted.packages=*\n</code></pre>\n<p><strong>IMPORTANT NOTE:</strong></p>\n<blockquote>\n<p>They have no effect if you have provided Serializer and Deserializer\ninstances for KafkaConsumer and KafkaProducer, respectively.</p>\n</blockquote>\n<p>References:<br>\n[1] <a href=\"https://docs.spring.io/spring-kafka/reference/html/#json-serde\" rel=\"noreferrer\">https://docs.spring.io/spring-kafka/reference/html/#json-serde</a><br>\n[2] <a href=\"https://github.com/spring-projects/spring-kafka/issues/535\" rel=\"noreferrer\">https://github.com/spring-projects/spring-kafka/issues/535</a></p>\n"},{"tags":[],"owner":{"account_id":10512827,"reputation":6163,"user_id":7747942,"display_name":"Sylhare"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1595519603,"creation_date":1590181536,"answer_id":61963869,"question_id":51688924,"body_markdown":"For this one there are two ways of doing it, either in your deserializer or in your application.yml.\r\n\r\n\r\n### Either in your deserializer\r\nIn your deserializer, that you use within your `DefaultKafkaConsumerFactory` (to create your consumer factory). \r\nLet&#39;s say you want to make a `ConsumerFactory&lt;String, Foo&gt; ` with `Foo` being the model/POJO you want to use for your kafka messages.\r\n\r\n\r\nYou need to `addTrustedPackages` from `JsonDeserializer` I have an example in Kotlin, but it&#39;s almost the same syntax in java:\r\n\r\n```kotlin\r\n val deserializer = JsonDeserializer&lt;Foo&gt;()\r\n deserializer.addTrustedPackages(&quot;com.example.entity.Foo&quot;) // Adding Foo to our trusted packages\r\n\r\n val consumerFactory = DefaultKafkaConsumerFactory(\r\n      consumerConfigs(),  // your consumer config\r\n      StringDeserializer(), \r\n      deserializer // Using our newly created deserializer\r\n )\r\n```\r\n\r\n\r\n### Or in your application.yml\r\nIn your application.yml file following [spring-kafka](https://github.com/spring-projects/spring-kafka/issues/535) instructions. We add the Foo class from _com.example.entity.Foo_ package in the trusted store using:\r\n\r\n```yml\r\nspring:\r\n  kafka:\r\n    consumer:\r\n      properties:\r\n        spring.json.trusted.packages: &quot;com.example.entity.Foo&quot;\r\n```\r\n\r\nWith `spring.json.trusted.packages` accepting an array of packages. You can specify a class package, or use `*` for any packages. In that case you don&#39;t need to pass your `deserializer` in `DefaultKafkaConsumerFactory()` only in the consumer config.","title":"Spring Kafka The class is not in the trusted packages","body":"<p>For this one there are two ways of doing it, either in your deserializer or in your application.yml.</p>\n<h3>Either in your deserializer</h3>\n<p>In your deserializer, that you use within your <code>DefaultKafkaConsumerFactory</code> (to create your consumer factory).\nLet's say you want to make a <code>ConsumerFactory&lt;String, Foo&gt; </code> with <code>Foo</code> being the model/POJO you want to use for your kafka messages.</p>\n<p>You need to <code>addTrustedPackages</code> from <code>JsonDeserializer</code> I have an example in Kotlin, but it's almost the same syntax in java:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code> val deserializer = JsonDeserializer&lt;Foo&gt;()\n deserializer.addTrustedPackages(&quot;com.example.entity.Foo&quot;) // Adding Foo to our trusted packages\n\n val consumerFactory = DefaultKafkaConsumerFactory(\n      consumerConfigs(),  // your consumer config\n      StringDeserializer(), \n      deserializer // Using our newly created deserializer\n )\n</code></pre>\n<h3>Or in your application.yml</h3>\n<p>In your application.yml file following <a href=\"https://github.com/spring-projects/spring-kafka/issues/535\" rel=\"noreferrer\">spring-kafka</a> instructions. We add the Foo class from <em>com.example.entity.Foo</em> package in the trusted store using:</p>\n<pre><code>spring:\n  kafka:\n    consumer:\n      properties:\n        spring.json.trusted.packages: &quot;com.example.entity.Foo&quot;\n</code></pre>\n<p>With <code>spring.json.trusted.packages</code> accepting an array of packages. You can specify a class package, or use <code>*</code> for any packages. In that case you don't need to pass your <code>deserializer</code> in <code>DefaultKafkaConsumerFactory()</code> only in the consumer config.</p>\n"},{"tags":[],"owner":{"account_id":6369472,"reputation":517,"user_id":4942371,"display_name":"mareck_ste"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1595057544,"creation_date":1594224178,"answer_id":62798842,"question_id":51688924,"body_markdown":"I have also faced this issue, however solutions above did not work for me. What did the trick, though, was configuring kafka consumer factory as follows:\r\n\r\n    props.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;your.package.name&quot;);","title":"Spring Kafka The class is not in the trusted packages","body":"<p>I have also faced this issue, however solutions above did not work for me. What did the trick, though, was configuring kafka consumer factory as follows:</p>\n<pre><code>props.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;your.package.name&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5272541,"reputation":151,"user_id":4210386,"display_name":"davidleongz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605276106,"creation_date":1605276106,"answer_id":64822282,"question_id":51688924,"body_markdown":"My version of spring-kafka is 2.2.11 and also I had this error.\r\n\r\nI got this error because I had configurated two consumers in the same kafta topic with diferent configuration. One of them had ConsumerFactory&lt;String, OrderDTO&gt; and other had ConsumerFactory&lt;String, String&gt;.\r\n\r\nI solved the error changing the configuration of one Consumer because was wrong.\r\n\r\nSimply you check the consumers of the topic","title":"Spring Kafka The class is not in the trusted packages","body":"<p>My version of spring-kafka is 2.2.11 and also I had this error.</p>\n<p>I got this error because I had configurated two consumers in the same kafta topic with diferent configuration. One of them had ConsumerFactory&lt;String, OrderDTO&gt; and other had ConsumerFactory&lt;String, String&gt;.</p>\n<p>I solved the error changing the configuration of one Consumer because was wrong.</p>\n<p>Simply you check the consumers of the topic</p>\n"},{"tags":[],"owner":{"account_id":8714272,"reputation":158,"user_id":6519469,"display_name":"mi_mo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1659596564,"creation_date":1632552521,"answer_id":69323796,"question_id":51688924,"body_markdown":"i had a similar problem when i wanted to consume messages in a consumer app I getting 2 errors :\r\n\r\n1-`The class &#39;someClass&#39; is not in the trusted packages: [java.util, java.lang,If you believe this class is safe to deserialize, please provide its name. If the serialization is only done by a trusted source, you can also enable trust all (*)`\r\n\r\n2-`org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition partion at offset 9902. If needed, please seek past the record to continue consumption.`\r\n\r\nI could solve that with add this properties (JsonDeserializer.TRUSTED_PACKAGE) into kafka consumer config generator method(makeConfig) at the KafkaConfig class for consuming configs with this approach my problem has been solved:\r\n\r\n    private Map&lt;String, Object&gt; makeConfig(ServiceMessagePriority input)\r\n    {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n        configProps.put(ErrorHandlingDeserializer.KEY_DESERIALIZER_CLASS, ErrorHandlingDeserializer.class);\r\n        configProps.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS, ErrorHandlingDeserializer.class);\r\n        configProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        configProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n        configProps.put(JsonDeserializer.VALUE_DEFAULT_TYPE, &quot;com.core.model.ServiceMsgDTO&quot;);\r\n        configProps.put(JsonDeserializer.USE_TYPE_INFO_HEADERS,false);\r\n        configProps.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;*&quot;);\r\n    return configProps;\r\n    }\r\n\r\n","title":"Spring Kafka The class is not in the trusted packages","body":"<p>i had a similar problem when i wanted to consume messages in a consumer app I getting 2 errors :</p>\n<p>1-<code>The class 'someClass' is not in the trusted packages: [java.util, java.lang,If you believe this class is safe to deserialize, please provide its name. If the serialization is only done by a trusted source, you can also enable trust all (*)</code></p>\n<p>2-<code>org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition partion at offset 9902. If needed, please seek past the record to continue consumption.</code></p>\n<p>I could solve that with add this properties (JsonDeserializer.TRUSTED_PACKAGE) into kafka consumer config generator method(makeConfig) at the KafkaConfig class for consuming configs with this approach my problem has been solved:</p>\n<pre><code>private Map&lt;String, Object&gt; makeConfig(ServiceMessagePriority input)\n{\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n    configProps.put(ErrorHandlingDeserializer.KEY_DESERIALIZER_CLASS, ErrorHandlingDeserializer.class);\n    configProps.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS, ErrorHandlingDeserializer.class);\n    configProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    configProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n    configProps.put(JsonDeserializer.VALUE_DEFAULT_TYPE, &quot;com.core.model.ServiceMsgDTO&quot;);\n    configProps.put(JsonDeserializer.USE_TYPE_INFO_HEADERS,false);\n    configProps.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;*&quot;);\nreturn configProps;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2392124,"reputation":1068,"user_id":2091779,"display_name":"alban maillere"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1637508101,"creation_date":1637508101,"answer_id":70055851,"question_id":51688924,"body_markdown":"For those facing this when working with **streams**, you have to specify trusted packages for both consumer and streams, as Kafka initializes 2 different deserializers\r\n\r\n    spring:\r\n      kafka:\r\n        bootstrap-servers: localhost:9092\r\n      producer:\r\n        value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\r\n\r\n      consumer:\r\n    ...\r\n        properties:\r\n           spring.json.trusted.packages:  &quot;YOUR ENTTIES PACKAGE&quot;\r\n      streams:\r\n    ...\r\n        properties:\r\n          spring.json.trusted.packages: &quot;YOUR ENTTIES PACKAGE&quot;\r\n\r\n","title":"Spring Kafka The class is not in the trusted packages","body":"<p>For those facing this when working with <strong>streams</strong>, you have to specify trusted packages for both consumer and streams, as Kafka initializes 2 different deserializers</p>\n<pre><code>spring:\n  kafka:\n    bootstrap-servers: localhost:9092\n  producer:\n    value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\n\n  consumer:\n...\n    properties:\n       spring.json.trusted.packages:  &quot;YOUR ENTTIES PACKAGE&quot;\n  streams:\n...\n    properties:\n      spring.json.trusted.packages: &quot;YOUR ENTTIES PACKAGE&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2042719,"reputation":1361,"user_id":1823512,"accept_rate":71,"display_name":"Awn Ali"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643119289,"creation_date":1643118960,"answer_id":70849871,"question_id":51688924,"body_markdown":"There&#39;re two ways to solve the problem:\r\n\r\n 1. Disable type headers in the producer\r\n 2. Add a list of trusted producers in the consumer\r\n \r\n\r\n**Disable type headers in the producer**\r\n\r\nYour producer properties files should look like following,\r\n\r\n    spring:\r\n      profiles: dev\r\n      kafka:\r\n        producer:\r\n          bootstrap-servers: localhost:9092, localhost:9093\r\n          key-serializer: org.apache.kafka.common.serialization.IntegerSerializer\r\n          value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\r\n          properties:\r\n            acks: 1\r\n            spring:\r\n              json:\r\n                add:\r\n                  type:\r\n                    headers: false\r\n\r\nAnd your consumer properties files should be as follows,\r\n\r\n    spring:\r\n      profiles: dev\r\n      kafka:\r\n        consumer:\r\n          bootstrap-servers: localhost:9092\r\n          key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n          value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\r\n          group-id: consumer-group-1\r\n          properties:\r\n            spring:\r\n              json:\r\n                value:\r\n                  default:\r\n                    type: &#39;com.kafka.consumer.Message&#39;\r\n\r\n**Add a list of trusted producers in the consumer**\r\n\r\nIf you don&#39;t want to change anything in the producer properties file, then update your consumer properties file as follows,\r\n\r\n    spring:\r\n      profiles: dev\r\n      kafka:\r\n        consumer:\r\n          bootstrap-servers: localhost:9092\r\n          key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n          value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\r\n          group-id: consumer-group-1\r\n          properties:\r\n            spring:\r\n              json:\r\n                value:\r\n                  default:\r\n                    type: &#39;com.kafka.consumer.Message&#39;\r\n                type:\r\n                  mapping: &#39;com.kafka.producer.Message:com.kafka.consumer.Message&#39;\r\n                trusted:\r\n                  packages: &#39;com.kafka.producer&#39;\r\n\r\nIn my `Message` class, make sure you have the setters and getters along with NoArgsConstructor, otherwise, it won&#39;t work.\r\n\r\n    @AllArgsConstructor\r\n    @Setter\r\n    @Getter\r\n    @NoArgsConstructor\r\n    public\r\n    class Message {\r\n    \r\n        Integer id;\r\n    \r\n        String name;\r\n    \r\n        String address;\r\n    \r\n        String phone;\r\n    \r\n        boolean isActive;\r\n    }\r\n\r\nConsumer Listener:\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class KafkaMessageListener {\r\n    \r\n        @KafkaListener(topics = {&quot;test_json&quot;})\r\n        public void OnMessage(Message rc){\r\n            log.info(rc.getName());\r\n        }\r\n    }\r\n\r\nNote: My Producer and Consumers are two different projects and their package names as these,\r\n\r\nProducer: `com.kafka.producer.Message`\r\n\r\nConsumer: `com.kafka.consumer.Message`","title":"Spring Kafka The class is not in the trusted packages","body":"<p>There're two ways to solve the problem:</p>\n<ol>\n<li>Disable type headers in the producer</li>\n<li>Add a list of trusted producers in the consumer</li>\n</ol>\n<p><strong>Disable type headers in the producer</strong></p>\n<p>Your producer properties files should look like following,</p>\n<pre><code>spring:\n  profiles: dev\n  kafka:\n    producer:\n      bootstrap-servers: localhost:9092, localhost:9093\n      key-serializer: org.apache.kafka.common.serialization.IntegerSerializer\n      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\n      properties:\n        acks: 1\n        spring:\n          json:\n            add:\n              type:\n                headers: false\n</code></pre>\n<p>And your consumer properties files should be as follows,</p>\n<pre><code>spring:\n  profiles: dev\n  kafka:\n    consumer:\n      bootstrap-servers: localhost:9092\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\n      group-id: consumer-group-1\n      properties:\n        spring:\n          json:\n            value:\n              default:\n                type: 'com.kafka.consumer.Message'\n</code></pre>\n<p><strong>Add a list of trusted producers in the consumer</strong></p>\n<p>If you don't want to change anything in the producer properties file, then update your consumer properties file as follows,</p>\n<pre><code>spring:\n  profiles: dev\n  kafka:\n    consumer:\n      bootstrap-servers: localhost:9092\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\n      group-id: consumer-group-1\n      properties:\n        spring:\n          json:\n            value:\n              default:\n                type: 'com.kafka.consumer.Message'\n            type:\n              mapping: 'com.kafka.producer.Message:com.kafka.consumer.Message'\n            trusted:\n              packages: 'com.kafka.producer'\n</code></pre>\n<p>In my <code>Message</code> class, make sure you have the setters and getters along with NoArgsConstructor, otherwise, it won't work.</p>\n<pre><code>@AllArgsConstructor\n@Setter\n@Getter\n@NoArgsConstructor\npublic\nclass Message {\n\n    Integer id;\n\n    String name;\n\n    String address;\n\n    String phone;\n\n    boolean isActive;\n}\n</code></pre>\n<p>Consumer Listener:</p>\n<pre><code>@Component\n@Slf4j\npublic class KafkaMessageListener {\n\n    @KafkaListener(topics = {&quot;test_json&quot;})\n    public void OnMessage(Message rc){\n        log.info(rc.getName());\n    }\n}\n</code></pre>\n<p>Note: My Producer and Consumers are two different projects and their package names as these,</p>\n<p>Producer: <code>com.kafka.producer.Message</code></p>\n<p>Consumer: <code>com.kafka.consumer.Message</code></p>\n"},{"tags":[],"owner":{"account_id":17469533,"reputation":1,"user_id":12665608,"display_name":"HelloChamith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652465959,"creation_date":1652465959,"answer_id":72233924,"question_id":51688924,"body_markdown":"Use same package name for both consumer and producer , It solved my error ","title":"Spring Kafka The class is not in the trusted packages","body":"<p>Use same package name for both consumer and producer , It solved my error</p>\n"},{"tags":[],"owner":{"account_id":9622365,"reputation":490,"user_id":7143156,"display_name":"Rami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661770000,"creation_date":1661770000,"answer_id":73527642,"question_id":51688924,"body_markdown":"I had the same problem and it turned out I had one too many indentations in my application.yml file. I am completely new to Springboot.\r\n\r\n\r\nBefore:\r\n\r\n```server:\r\n  port: 5000\r\n\r\nspring:\r\n  data:\r\n    mongodb:\r\n      host: localhost\r\n      port: 27017\r\n      database: bankaccount\r\n    kafka:\r\n      producer:\r\n        bootstrap-servers: localhost:9092\r\n        key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n        value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\r\n```\r\n\r\nAfter:\r\n\r\n```server:\r\n  port: 5000\r\n\r\nspring:\r\n  data:\r\n    mongodb:\r\n      host: localhost\r\n      port: 27017\r\n      database: bankaccount\r\n  kafka:\r\n    producer:\r\n      bootstrap-servers: localhost:9092\r\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\r\n```","title":"Spring Kafka The class is not in the trusted packages","body":"<p>I had the same problem and it turned out I had one too many indentations in my application.yml file. I am completely new to Springboot.</p>\n<p>Before:</p>\n<pre><code>  port: 5000\n\nspring:\n  data:\n    mongodb:\n      host: localhost\n      port: 27017\n      database: bankaccount\n    kafka:\n      producer:\n        bootstrap-servers: localhost:9092\n        key-serializer: org.apache.kafka.common.serialization.StringSerializer\n        value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\n</code></pre>\n<p>After:</p>\n<pre><code>  port: 5000\n\nspring:\n  data:\n    mongodb:\n      host: localhost\n      port: 27017\n      database: bankaccount\n  kafka:\n    producer:\n      bootstrap-servers: localhost:9092\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\n</code></pre>\n"}],"owner":{"account_id":1261634,"reputation":24551,"user_id":1219755,"accept_rate":84,"display_name":"alexanoid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85615,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":51695630,"answer_count":11,"score":48,"last_activity_date":1661770000,"creation_date":1533410828,"question_id":51688924,"body_markdown":"In my Spring Boot/Kafka application before the library update, I used the following class `org.telegram.telegrambots.api.objects.Update` in order to post messages to the Kafka topic. Right now I use the following `org.telegram.telegrambots.meta.api.objects.Update`. As you may see - they have different packages.\r\n\r\nAfter application restart I ran into the following issue:\r\n\r\n    [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.kafka.listener.LoggingErrorHandler : Error while processing: null\r\n    \r\n    org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition telegram.fenix.bot.update-0 at offset 4223. If needed, please seek past the record to continue consumption.\r\n    Caused by: java.lang.IllegalArgumentException: The class &#39;org.telegram.telegrambots.api.objects.Update&#39; is not in the trusted packages: [java.util, java.lang, org.telegram.telegrambots.meta.api.objects]. If you believe this class is safe to deserialize, please provide its name. If the serialization is only done by a trusted source, you can also enable trust all (*).\r\n    at org.springframework.kafka.support.converter.DefaultJackson2JavaTypeMapper.getClassIdType(DefaultJackson2JavaTypeMapper.java:139) ~[spring-kafka-2.1.8.RELEASE.jar!/:2.1.8.RELEASE]\r\n    at org.springframework.kafka.support.converter.DefaultJackson2JavaTypeMapper.toJavaType(DefaultJackson2JavaTypeMapper.java:113) ~[spring-kafka-2.1.8.RELEASE.jar!/:2.1.8.RELEASE]\r\n    at org.springframework.kafka.support.serializer.JsonDeserializer.deserialize(JsonDeserializer.java:221) ~[spring-kafka-2.1.8.RELEASE.jar!/:2.1.8.RELEASE]\r\n    at org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:967) ~[kafka-clients-1.1.0.jar!/:na]\r\n    at org.apache.kafka.clients.consumer.internals.Fetcher.access$3300(Fetcher.java:93) ~[kafka-clients-1.1.0.jar!/:na]\r\n    at org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.fetchRecords(Fetcher.java:1144) ~[kafka-clients-1.1.0.jar!/:na]\r\n    at org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.access$1400(Fetcher.java:993) ~[kafka-clients-1.1.0.jar!/:na]\r\n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:527) ~[kafka-clients-1.1.0.jar!/:na]\r\n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:488) ~[kafka-clients-1.1.0.jar!/:na]\r\n    at org.apache.kafka.clients.consumer.KafkaConsumer.pollOnce(KafkaConsumer.java:1155) ~[kafka-clients-1.1.0.jar!/:na]\r\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1115) ~[kafka-clients-1.1.0.jar!/:na]\r\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:699) ~[spring-kafka-2.1.8.RELEASE.jar!/:2.1.8.RELEASE]\r\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_171]\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_171]\r\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_171]\r\n\r\nThis is my config:\r\n\r\n    @EnableAsync\r\n    @Configuration\r\n    public class ApplicationConfig {\r\n    \r\n        @Bean\r\n        public StringJsonMessageConverter jsonConverter() {\r\n            return new StringJsonMessageConverter();\r\n        }\r\n    \r\n    }\r\n    \r\n    @Configuration\r\n    public class KafkaProducerConfig {\r\n    \r\n    \t@Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n    \tprivate String bootstrapServers;\r\n    \r\n    \t@Bean\r\n    \tpublic Map&lt;String, Object&gt; producerConfigs() {\r\n    \r\n    \t\tMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n    \r\n    \t\tprops.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n    \t\tprops.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n    \t\tprops.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n    \t\tprops.put(ProducerConfig.MAX_REQUEST_SIZE_CONFIG, 15000000);\r\n    \r\n    \t\treturn props;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ProducerFactory&lt;String, Update&gt; updateProducerFactory() {\r\n    \t\treturn new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic KafkaTemplate&lt;String, Update&gt; updateKafkaTemplate() {\r\n    \t\treturn new KafkaTemplate&lt;&gt;(updateProducerFactory());\r\n    \t}\r\n    \r\n    }\r\n    \r\n    @Configuration\r\n    public class KafkaConsumerConfig {\r\n    \t\r\n    \t@Value(&quot;${kafka.consumer.max.poll.interval.ms}&quot;)\r\n    \tprivate String kafkaConsumerMaxPollIntervalMs;\r\n    \t\r\n    \t@Value(&quot;${kafka.consumer.max.poll.records}&quot;)\r\n    \tprivate String kafkaConsumerMaxPollRecords;\r\n    \t\r\n    \t@Value(&quot;${kafka.topic.telegram.fenix.bot.update.consumer.concurrency}&quot;)\r\n    \tprivate Integer updateConsumerConcurrency;\r\n    \r\n    \t@Bean\r\n    \tpublic ConsumerFactory&lt;String, String&gt; consumerFactory(KafkaProperties kafkaProperties) {\r\n    \t\treturn new DefaultKafkaConsumerFactory&lt;&gt;(kafkaProperties.buildConsumerProperties(), new StringDeserializer(), new JsonDeserializer&lt;&gt;(String.class));\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory(KafkaProperties kafkaProperties) {\r\n    \t\t\r\n    \t\tkafkaProperties.getProperties().put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, kafkaConsumerMaxPollIntervalMs);\r\n    \t\tkafkaProperties.getProperties().put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, kafkaConsumerMaxPollRecords);\r\n    \r\n    \t\tConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n    \t\tfactory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\r\n    \t\tfactory.setConsumerFactory(consumerFactory(kafkaProperties));\r\n    \r\n    \t\treturn factory;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ConsumerFactory&lt;String, Update&gt; updateConsumerFactory(KafkaProperties kafkaProperties) {\r\n    \t\treturn new DefaultKafkaConsumerFactory&lt;&gt;(kafkaProperties.buildConsumerProperties(), new StringDeserializer(), new JsonDeserializer&lt;&gt;(Update.class));\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ConcurrentKafkaListenerContainerFactory&lt;String, Update&gt; updateKafkaListenerContainerFactory(KafkaProperties kafkaProperties) {\r\n    \t\t\r\n    \t\tkafkaProperties.getProperties().put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, kafkaConsumerMaxPollIntervalMs);\r\n    \t\tkafkaProperties.getProperties().put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, kafkaConsumerMaxPollRecords);\r\n    \r\n    \t\tConcurrentKafkaListenerContainerFactory&lt;String, Update&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n    \t\tfactory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\r\n    \t\tfactory.setConsumerFactory(updateConsumerFactory(kafkaProperties));\r\n    \t\tfactory.setConcurrency(updateConsumerConcurrency);\r\n    \r\n    \t\treturn factory;\r\n    \t}\r\n    \r\n    }\r\n\r\napplication.properties\r\n\r\n    spring.kafka.bootstrap-servers=${kafka.host}:${kafka.port}\r\n    spring.kafka.consumer.auto-offset-reset=earliest\r\n    spring.kafka.consumer.group-id=postfenix\r\n    spring.kafka.consumer.enable-auto-commit=false\r\n    spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\r\n\r\nHow to solve this issue and let Kafka deserialize old messages into the new ones ?\r\n\r\n**UPDATED**\r\n\r\nThis is my listener\r\n\r\n    @Component\r\n    public class UpdateConsumer {\r\n    \r\n    \t@KafkaListener(topics = &quot;${kafka.topic.update}&quot;, containerFactory = &quot;updateKafkaListenerContainerFactory&quot;)\r\n    \tpublic void onUpdateReceived(ConsumerRecord&lt;String, Update&gt; consumerRecord, Acknowledgment ack) {\r\n    \t\t\t\r\n    \t\t//do some logic here\r\n    \r\n    \t\tack.acknowledge();\r\n    \t}\r\n    \r\n    }","title":"Spring Kafka The class is not in the trusted packages","body":"<p>In my Spring Boot/Kafka application before the library update, I used the following class <code>org.telegram.telegrambots.api.objects.Update</code> in order to post messages to the Kafka topic. Right now I use the following <code>org.telegram.telegrambots.meta.api.objects.Update</code>. As you may see - they have different packages.</p>\n\n<p>After application restart I ran into the following issue:</p>\n\n<pre><code>[org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.kafka.listener.LoggingErrorHandler : Error while processing: null\n\norg.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition telegram.fenix.bot.update-0 at offset 4223. If needed, please seek past the record to continue consumption.\nCaused by: java.lang.IllegalArgumentException: The class 'org.telegram.telegrambots.api.objects.Update' is not in the trusted packages: [java.util, java.lang, org.telegram.telegrambots.meta.api.objects]. If you believe this class is safe to deserialize, please provide its name. If the serialization is only done by a trusted source, you can also enable trust all (*).\nat org.springframework.kafka.support.converter.DefaultJackson2JavaTypeMapper.getClassIdType(DefaultJackson2JavaTypeMapper.java:139) ~[spring-kafka-2.1.8.RELEASE.jar!/:2.1.8.RELEASE]\nat org.springframework.kafka.support.converter.DefaultJackson2JavaTypeMapper.toJavaType(DefaultJackson2JavaTypeMapper.java:113) ~[spring-kafka-2.1.8.RELEASE.jar!/:2.1.8.RELEASE]\nat org.springframework.kafka.support.serializer.JsonDeserializer.deserialize(JsonDeserializer.java:221) ~[spring-kafka-2.1.8.RELEASE.jar!/:2.1.8.RELEASE]\nat org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:967) ~[kafka-clients-1.1.0.jar!/:na]\nat org.apache.kafka.clients.consumer.internals.Fetcher.access$3300(Fetcher.java:93) ~[kafka-clients-1.1.0.jar!/:na]\nat org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.fetchRecords(Fetcher.java:1144) ~[kafka-clients-1.1.0.jar!/:na]\nat org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.access$1400(Fetcher.java:993) ~[kafka-clients-1.1.0.jar!/:na]\nat org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:527) ~[kafka-clients-1.1.0.jar!/:na]\nat org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:488) ~[kafka-clients-1.1.0.jar!/:na]\nat org.apache.kafka.clients.consumer.KafkaConsumer.pollOnce(KafkaConsumer.java:1155) ~[kafka-clients-1.1.0.jar!/:na]\nat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1115) ~[kafka-clients-1.1.0.jar!/:na]\nat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:699) ~[spring-kafka-2.1.8.RELEASE.jar!/:2.1.8.RELEASE]\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_171]\nat java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_171]\nat java.lang.Thread.run(Thread.java:748) [na:1.8.0_171]\n</code></pre>\n\n<p>This is my config:</p>\n\n<pre><code>@EnableAsync\n@Configuration\npublic class ApplicationConfig {\n\n    @Bean\n    public StringJsonMessageConverter jsonConverter() {\n        return new StringJsonMessageConverter();\n    }\n\n}\n\n@Configuration\npublic class KafkaProducerConfig {\n\n    @Value(\"${spring.kafka.bootstrap-servers}\")\n    private String bootstrapServers;\n\n    @Bean\n    public Map&lt;String, Object&gt; producerConfigs() {\n\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n        props.put(ProducerConfig.MAX_REQUEST_SIZE_CONFIG, 15000000);\n\n        return props;\n    }\n\n    @Bean\n    public ProducerFactory&lt;String, Update&gt; updateProducerFactory() {\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, Update&gt; updateKafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(updateProducerFactory());\n    }\n\n}\n\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Value(\"${kafka.consumer.max.poll.interval.ms}\")\n    private String kafkaConsumerMaxPollIntervalMs;\n\n    @Value(\"${kafka.consumer.max.poll.records}\")\n    private String kafkaConsumerMaxPollRecords;\n\n    @Value(\"${kafka.topic.telegram.fenix.bot.update.consumer.concurrency}\")\n    private Integer updateConsumerConcurrency;\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory(KafkaProperties kafkaProperties) {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(kafkaProperties.buildConsumerProperties(), new StringDeserializer(), new JsonDeserializer&lt;&gt;(String.class));\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory(KafkaProperties kafkaProperties) {\n\n        kafkaProperties.getProperties().put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, kafkaConsumerMaxPollIntervalMs);\n        kafkaProperties.getProperties().put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, kafkaConsumerMaxPollRecords);\n\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\n        factory.setConsumerFactory(consumerFactory(kafkaProperties));\n\n        return factory;\n    }\n\n    @Bean\n    public ConsumerFactory&lt;String, Update&gt; updateConsumerFactory(KafkaProperties kafkaProperties) {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(kafkaProperties.buildConsumerProperties(), new StringDeserializer(), new JsonDeserializer&lt;&gt;(Update.class));\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Update&gt; updateKafkaListenerContainerFactory(KafkaProperties kafkaProperties) {\n\n        kafkaProperties.getProperties().put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, kafkaConsumerMaxPollIntervalMs);\n        kafkaProperties.getProperties().put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, kafkaConsumerMaxPollRecords);\n\n        ConcurrentKafkaListenerContainerFactory&lt;String, Update&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\n        factory.setConsumerFactory(updateConsumerFactory(kafkaProperties));\n        factory.setConcurrency(updateConsumerConcurrency);\n\n        return factory;\n    }\n\n}\n</code></pre>\n\n<p>application.properties</p>\n\n<pre><code>spring.kafka.bootstrap-servers=${kafka.host}:${kafka.port}\nspring.kafka.consumer.auto-offset-reset=earliest\nspring.kafka.consumer.group-id=postfenix\nspring.kafka.consumer.enable-auto-commit=false\nspring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\n</code></pre>\n\n<p>How to solve this issue and let Kafka deserialize old messages into the new ones ?</p>\n\n<p><strong>UPDATED</strong></p>\n\n<p>This is my listener</p>\n\n<pre><code>@Component\npublic class UpdateConsumer {\n\n    @KafkaListener(topics = \"${kafka.topic.update}\", containerFactory = \"updateKafkaListenerContainerFactory\")\n    public void onUpdateReceived(ConsumerRecord&lt;String, Update&gt; consumerRecord, Acknowledgment ack) {\n\n        //do some logic here\n\n        ack.acknowledge();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jackson","objectmapper","spring-cloud-feign","feign"],"answers":[{"tags":[],"owner":{"account_id":14670164,"reputation":1217,"user_id":10594845,"display_name":"aratata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661769677,"creation_date":1661769677,"answer_id":73527577,"question_id":73467179,"body_markdown":"Try using \r\n\r\n    @QueryMap Map&lt;String, Object&gt; \r\n\r\nparams instead of \r\n\r\n    @RequestParam Map&lt;String, Object&gt; params)","title":"Feign client doesn’t encode request param correctly","body":"<p>Try using</p>\n<pre><code>@QueryMap Map&lt;String, Object&gt; \n</code></pre>\n<p>params instead of</p>\n<pre><code>@RequestParam Map&lt;String, Object&gt; params)\n</code></pre>\n"}],"owner":{"account_id":7552947,"reputation":491,"user_id":5735224,"display_name":"user5735224"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661769677,"creation_date":1661312555,"question_id":73467179,"body_markdown":"I have a feign client with the following structure \r\n\r\n   \r\n\r\n    Result getResult(@RequestParam String id, @RequestParam Map&lt;String, Object&gt; params)\r\n\r\nWhere the value in the map in the second argument can be of any primitive type (int, long) or object (String, BigDecimal).\r\n\r\nUnfortunately, the values in the client request don’t seem to be deserialized correctly on the server side. For instance, sending a `Map.of(“userId”, 1234567893L)` is parsed as “userId”-&gt;”1234567893L”, instead of “userId”-&gt;1234567893L. Is there a way to tell the objectmapper to parse Long values as expected?","title":"Feign client doesn’t encode request param correctly","body":"<p>I have a feign client with the following structure</p>\n<pre><code>Result getResult(@RequestParam String id, @RequestParam Map&lt;String, Object&gt; params)\n</code></pre>\n<p>Where the value in the map in the second argument can be of any primitive type (int, long) or object (String, BigDecimal).</p>\n<p>Unfortunately, the values in the client request don’t seem to be deserialized correctly on the server side. For instance, sending a <code>Map.of(“userId”, 1234567893L)</code> is parsed as “userId”-&gt;”1234567893L”, instead of “userId”-&gt;1234567893L. Is there a way to tell the objectmapper to parse Long values as expected?</p>\n"},{"tags":["java","mapping"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1661768914,"post_id":73527412,"comment_id":129842225,"body_markdown":"I&#39;d say manually, one field at a time. Or you could make a `Map` that maps one field of A to a field of `B` and use it to copy values from one class to the other. At which point you basically created a bug-ridden library and you were better off using [mapstruct](https://mapstruct.org) (which is a library, not a framework, btw) from the start...","body":"I&#39;d say manually, one field at a time. Or you could make a <code>Map</code> that maps one field of A to a field of <code>B</code> and use it to copy values from one class to the other. At which point you basically created a bug-ridden library and you were better off using <a href=\"https://mapstruct.org\" rel=\"nofollow noreferrer\">mapstruct</a> (which is a library, not a framework, btw) from the start..."},{"owner":{"account_id":26127260,"reputation":1,"user_id":19818498,"display_name":"nah"},"score":0,"creation_date":1661772234,"post_id":73527412,"comment_id":129843281,"body_markdown":"just like `public static A mapToA() { b.name = a.firstName?; ... }` ?","body":"just like <code>public static A mapToA() { b.name = a.firstName?; ... }</code> ?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1661772890,"post_id":73527412,"comment_id":129843502,"body_markdown":"Except for that `?` which I guess is a typo, yes, basically. But as I said, that&#39;s error-prone and is basically what mapstruct already does. Except it also generates null checks for intermediate operations in case you have other objects as instance members instead of strings or primitives.","body":"Except for that <code>?</code> which I guess is a typo, yes, basically. But as I said, that&#39;s error-prone and is basically what mapstruct already does. Except it also generates null checks for intermediate operations in case you have other objects as instance members instead of strings or primitives."}],"owner":{"account_id":26127260,"reputation":1,"user_id":19818498,"display_name":"nah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661769277,"creation_date":1661768789,"question_id":73527412,"body_markdown":"The question is trivial, but I couldn&#39;t find an example.\r\nI have to map one data model to another data model (common data model). How to do it without using any frameworks? These are very simple models, so frameworks are unnecessary. \r\n\r\n\r\n```\r\npublic class A {\r\nString name;\r\nString lastName;\r\nint age;\r\n}\r\n```\r\n\r\n```\r\npublic class B {\r\nString firstName;\r\nString lastName;\r\n}\r\n```","title":"Map one data model to another","body":"<p>The question is trivial, but I couldn't find an example.\nI have to map one data model to another data model (common data model). How to do it without using any frameworks? These are very simple models, so frameworks are unnecessary.</p>\n<pre><code>public class A {\nString name;\nString lastName;\nint age;\n}\n</code></pre>\n<pre><code>public class B {\nString firstName;\nString lastName;\n}\n</code></pre>\n"},{"tags":["java","animation","javafx","mouseevent","effect"],"answers":[{"tags":[],"owner":{"account_id":26183044,"reputation":3,"user_id":19866075,"display_name":"skver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661769143,"creation_date":1661763644,"answer_id":73526396,"question_id":73526243,"body_markdown":"I brought the function to this form, and for some reason the problem was solved.\r\n\r\n    ColorAdjust effect= (ColorAdjust) group.getEffect();\r\n    group.setOnMouseEntered(mouseEvent -&gt; effect.setBrightness(effect.getBrightness()+0.5));\r\n    group.setOnMouseExited(mouseEvent -&gt; effect.setBrightness(effect.getBrightness()-0.5));\r\n    group.setOnMousePressed(mouseEvent -&gt; effect.setBrightness(effect.getBrightness()-0.3));\r\n    group.setOnMouseReleased(mouseEvent -&gt; effect.setBrightness(effect.getBrightness()+0.3));","title":"mouseEntered and mouseExited are triggered simultaneously","body":"<p>I brought the function to this form, and for some reason the problem was solved.</p>\n<pre><code>ColorAdjust effect= (ColorAdjust) group.getEffect();\ngroup.setOnMouseEntered(mouseEvent -&gt; effect.setBrightness(effect.getBrightness()+0.5));\ngroup.setOnMouseExited(mouseEvent -&gt; effect.setBrightness(effect.getBrightness()-0.5));\ngroup.setOnMousePressed(mouseEvent -&gt; effect.setBrightness(effect.getBrightness()-0.3));\ngroup.setOnMouseReleased(mouseEvent -&gt; effect.setBrightness(effect.getBrightness()+0.3));\n</code></pre>\n"}],"owner":{"account_id":26183044,"reputation":3,"user_id":19866075,"display_name":"skver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73526396,"answer_count":1,"score":0,"last_activity_date":1661769143,"creation_date":1661762830,"question_id":73526243,"body_markdown":"I have created a function that will highlight the image when you hover over it.\r\n\r\n\r\n    public class HelloController {\r\n\r\n        @FXML\r\n        private ImageView exitButton;\r\n\r\n        public static void mouseWork(ImageView group){\r\n            Effect effect=group.getEffect();\r\n            group.setOnMouseEntered(mouseEvent -&gt; {\r\n                ColorAdjust colorAdjust=new ColorAdjust(0,0,0.05,0);\r\n                group.setEffect(colorAdjust);\r\n            });\r\n            group.setOnMouseExited(mouseEvent -&gt; group.setEffect(effect));\r\n        }\r\n\r\n        @FXML\r\n        void initialize() {\r\n            mouseWork(exitButton);\r\n        }\r\n    }\r\n\r\n   \r\n\r\nEverything works fine, but if I hover the cursor over the edge of the picture, then the image starts flashing, then adding a glow, then removing it.\r\nWhy is this happening and how to fix it?","title":"mouseEntered and mouseExited are triggered simultaneously","body":"<p>I have created a function that will highlight the image when you hover over it.</p>\n<pre><code>public class HelloController {\n\n    @FXML\n    private ImageView exitButton;\n\n    public static void mouseWork(ImageView group){\n        Effect effect=group.getEffect();\n        group.setOnMouseEntered(mouseEvent -&gt; {\n            ColorAdjust colorAdjust=new ColorAdjust(0,0,0.05,0);\n            group.setEffect(colorAdjust);\n        });\n        group.setOnMouseExited(mouseEvent -&gt; group.setEffect(effect));\n    }\n\n    @FXML\n    void initialize() {\n        mouseWork(exitButton);\n    }\n}\n</code></pre>\n<p>Everything works fine, but if I hover the cursor over the edge of the picture, then the image starts flashing, then adding a glow, then removing it.\nWhy is this happening and how to fix it?</p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":1203347,"reputation":2104,"user_id":1173560,"display_name":"K.C."},"score":0,"creation_date":1359539125,"post_id":14596242,"comment_id":20384713,"body_markdown":"Can you clarify your question please? It&#39;s too abstract. Maybe some code of what you are trying to do? thanks","body":"Can you clarify your question please? It&#39;s too abstract. Maybe some code of what you are trying to do? thanks"}],"answers":[{"tags":[],"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1495188384,"creation_date":1495188384,"answer_id":44067175,"question_id":14596242,"body_markdown":"Since Java Persistence 2.0 you can use [`Metamodel`](http://docs.oracle.com/javaee/7/api/javax/persistence/metamodel/Metamodel.html) to do so:\r\n\r\n    public Class&lt;?&gt; getTypeForTableName(String tableName) {\r\n      for (EntityType&lt;?&gt; entityType : getEntityManager().getMetamodel().getEntities()) {\r\n        if (entityType.getJavaType().getAnnotation(Table.class).name().equals(tableName)) {\r\n          return entityType.getJavaType();\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n","title":"How to get entity class by database table name?","body":"<p>Since Java Persistence 2.0 you can use <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/metamodel/Metamodel.html\" rel=\"nofollow noreferrer\"><code>Metamodel</code></a> to do so:</p>\n\n<pre><code>public Class&lt;?&gt; getTypeForTableName(String tableName) {\n  for (EntityType&lt;?&gt; entityType : getEntityManager().getMetamodel().getEntities()) {\n    if (entityType.getJavaType().getAnnotation(Table.class).name().equals(tableName)) {\n      return entityType.getJavaType();\n    }\n  }\n  return null;\n}\n</code></pre>\n"}],"owner":{"account_id":2160168,"reputation":43,"user_id":1914500,"display_name":"JavaDeveloper1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661769081,"creation_date":1359516908,"question_id":14596242,"body_markdown":"Is it possible to get the Entity class Name from table Name? I am using JPA. \r\n\r\nI have the table name. I am able to get the primary keys of the table. Now i want to retrieve a tuple from the table. I need the tuple in the form of entity object or in the form of string array. \r\n\r\nThanks in advance.","title":"How to get entity class by database table name?","body":"<p>Is it possible to get the Entity class Name from table Name? I am using JPA. </p>\n\n<p>I have the table name. I am able to get the primary keys of the table. Now i want to retrieve a tuple from the table. I need the tuple in the form of entity object or in the form of string array. </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","selenium","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":10575026,"reputation":67,"user_id":7790584,"display_name":"Manu Gopinathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661765029,"creation_date":1661765029,"answer_id":73526682,"question_id":73526227,"body_markdown":"Your wait statement is not working because even during the loading time of half a second the element you used to wait for visibility is visible. For proper wait delays, I would suggest you use any option that was not available during the load time. \r\n\r\nFor example, in your case, the highlighted &#39;SAMSUNG&#39; text in the Filter section was not available during the load time. So if you wait for the visibility of that element, it may work.\r\n\r\n[![Flipkart filter][1]][1]\r\n\r\nPlease give the below statement a try:\r\n\r\n wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[text()=&#39;Filters&#39;]/ancestor::section//*[text()=&#39;SAMSUNG&#39;]&quot;)));\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IV2Zg.png","title":"Perform the task using WebDriverWait and not thread.sleep()","body":"<p>Your wait statement is not working because even during the loading time of half a second the element you used to wait for visibility is visible. For proper wait delays, I would suggest you use any option that was not available during the load time.</p>\n<p>For example, in your case, the highlighted 'SAMSUNG' text in the Filter section was not available during the load time. So if you wait for the visibility of that element, it may work.</p>\n<p><a href=\"https://i.stack.imgur.com/IV2Zg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IV2Zg.png\" alt=\"Flipkart filter\" /></a></p>\n<p>Please give the below statement a try:</p>\n<p>wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[text()='Filters']/ancestor::section//*[text()='SAMSUNG']&quot;)));</p>\n"},{"tags":[],"owner":{"account_id":10001672,"reputation":511,"user_id":7397403,"display_name":"ketanvj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661768716,"creation_date":1661768716,"answer_id":73527396,"question_id":73526227,"body_markdown":"@Codeception See the following code. I have given the explanation within my code as comments. \r\n\r\n\tWebDriverWait wait = (new WebDriverWait(driver, Duration.ofSeconds(10)));\r\n\r\n\tdriver.get(\r\n\t\t\t&quot;https://www.flipkart.com/search?q=fridge&amp;otracker=search&amp;otracker1=search&amp;marketplace=FLIPKART&amp;as-show=on&amp;as=off&amp;as-pos=1&amp;as-type=HISTORY&quot;);\r\n\r\n\t// Waiting for the visibility of Samsung Brand before clicking it.\r\n\tWebElement samsung = wait.until(ExpectedConditions.visibilityOfElementLocated(\r\n\t\t\tBy.xpath(&quot;//div[text()=&#39;Brand&#39;]/parent::div//following-sibling::div//div[@title=&#39;SAMSUNG&#39;]&quot;)));\r\n\tsamsung.click();\r\n\t\r\n\t// Since the page is getting refreshed after above action, to avoid the\r\n\t// StaleElemenetReferenceException,\r\n\t// waiting for Samsung checkbox to be selected.\r\n\twait.until(ExpectedConditions.elementSelectionStateToBe(\r\n\t\t\tBy.xpath(&quot;//div[text()=&#39;Brand&#39;]/parent::div//following-sibling::div//div[@title=&#39;SAMSUNG&#39;]//input&quot;),\r\n\t\t\ttrue));\r\n\r\n\t// By the time above action happens, Capacity is already available so not\r\n\t// waiting it.\r\n\tWebElement capacity = driver.findElement(By.xpath(&quot;//div[text()=&#39;Capacity&#39;]/parent::div&quot;));\r\n\tcapacity.click();\r\n\r\n\t// Waiting for the visibility of a particular option to be visible.\r\n\t// In the below case waiting for visibility of &quot;251 - 300 L&quot; option\r\n\tWebElement specificCapacity = wait.until(ExpectedConditions.visibilityOfElementLocated(\r\n\t\t\tBy.xpath(&quot;//div[text()=&#39;Capacity&#39;]/parent::div//following-sibling::div//div[@title=&#39;251 - 300 L&#39;]&quot;)));\r\n\tspecificCapacity.click();","title":"Perform the task using WebDriverWait and not thread.sleep()","body":"<p>@Codeception See the following code. I have given the explanation within my code as comments.</p>\n<pre><code>WebDriverWait wait = (new WebDriverWait(driver, Duration.ofSeconds(10)));\n\ndriver.get(\n        &quot;https://www.flipkart.com/search?q=fridge&amp;otracker=search&amp;otracker1=search&amp;marketplace=FLIPKART&amp;as-show=on&amp;as=off&amp;as-pos=1&amp;as-type=HISTORY&quot;);\n\n// Waiting for the visibility of Samsung Brand before clicking it.\nWebElement samsung = wait.until(ExpectedConditions.visibilityOfElementLocated(\n        By.xpath(&quot;//div[text()='Brand']/parent::div//following-sibling::div//div[@title='SAMSUNG']&quot;)));\nsamsung.click();\n\n// Since the page is getting refreshed after above action, to avoid the\n// StaleElemenetReferenceException,\n// waiting for Samsung checkbox to be selected.\nwait.until(ExpectedConditions.elementSelectionStateToBe(\n        By.xpath(&quot;//div[text()='Brand']/parent::div//following-sibling::div//div[@title='SAMSUNG']//input&quot;),\n        true));\n\n// By the time above action happens, Capacity is already available so not\n// waiting it.\nWebElement capacity = driver.findElement(By.xpath(&quot;//div[text()='Capacity']/parent::div&quot;));\ncapacity.click();\n\n// Waiting for the visibility of a particular option to be visible.\n// In the below case waiting for visibility of &quot;251 - 300 L&quot; option\nWebElement specificCapacity = wait.until(ExpectedConditions.visibilityOfElementLocated(\n        By.xpath(&quot;//div[text()='Capacity']/parent::div//following-sibling::div//div[@title='251 - 300 L']&quot;)));\nspecificCapacity.click();\n</code></pre>\n"}],"owner":{"account_id":26164049,"reputation":25,"user_id":19850106,"display_name":"Codeception"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73526682,"answer_count":2,"score":0,"last_activity_date":1661768716,"creation_date":1661762742,"question_id":73526227,"body_markdown":"URL : https://www.flipkart.com/search?q=fridge&amp;otracker=search&amp;otracker1=search&amp;marketplace=FLIPKART&amp;as-show=on&amp;as=off&amp;as-pos=1&amp;as-type=HISTORY\r\n\r\nMy scenario is that when I clicked on Samsung checkbox it loads for half a sec. Then after I have to click on Capacity and click on one of the options(checkbox).\r\n\r\nI need to perform the task using WebDriverWait and not thread.sleep().\r\n\r\nWhen i use this statement it does nothing\r\n```\r\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[contains(text(),&#39;Whirlpool&#39;)]&quot;)));\r\n```\r\n\r\n```\r\nList&lt;WebElement&gt; filterOnProduct = driver.findElements(By.xpath(&quot;(//div[@class=&#39;_3FPh42&#39;])[1]/div/div&quot;));\r\n\t\t\r\n\t\t\r\n\t\tfor(int i=0; i&lt;filterOnProduct.size();i++) {\r\n\t\t\tSystem.out.println(filterOnProduct.get(i).getText());\r\n\t\t\tString fridge = filterOnProduct.get(i).getText();\r\n\t\t\tif(fridge.contains(&quot;SAMSUNG&quot;)) {\r\n\t\t\t\tfilterOnProduct.get(i).click();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// Thread.sleep(1000);\r\n\t\t\r\n\t\twait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[contains(text(),&#39;Whirlpool&#39;)]&quot;)));\r\n\t\t\r\n\t\tJavascriptExecutor js = (JavascriptExecutor) driver;\r\n\t\tjs.executeScript(&quot;window.scrollBy(0,250)&quot;);\r\n\t\t\r\n\t\tWebElement capacity = driver.findElement(By.xpath(&quot;//div[contains(text(),&#39;Capacity&#39;)]&quot;));\r\n\t\taction = new Actions(driver);\r\n\t\taction.moveToElement(capacity).click().build().perform();\r\n```","title":"Perform the task using WebDriverWait and not thread.sleep()","body":"<p>URL : <a href=\"https://www.flipkart.com/search?q=fridge&amp;otracker=search&amp;otracker1=search&amp;marketplace=FLIPKART&amp;as-show=on&amp;as=off&amp;as-pos=1&amp;as-type=HISTORY\" rel=\"nofollow noreferrer\">https://www.flipkart.com/search?q=fridge&amp;otracker=search&amp;otracker1=search&amp;marketplace=FLIPKART&amp;as-show=on&amp;as=off&amp;as-pos=1&amp;as-type=HISTORY</a></p>\n<p>My scenario is that when I clicked on Samsung checkbox it loads for half a sec. Then after I have to click on Capacity and click on one of the options(checkbox).</p>\n<p>I need to perform the task using WebDriverWait and not thread.sleep().</p>\n<p>When i use this statement it does nothing</p>\n<pre><code>wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[contains(text(),'Whirlpool')]&quot;)));\n</code></pre>\n<pre><code>List&lt;WebElement&gt; filterOnProduct = driver.findElements(By.xpath(&quot;(//div[@class='_3FPh42'])[1]/div/div&quot;));\n        \n        \n        for(int i=0; i&lt;filterOnProduct.size();i++) {\n            System.out.println(filterOnProduct.get(i).getText());\n            String fridge = filterOnProduct.get(i).getText();\n            if(fridge.contains(&quot;SAMSUNG&quot;)) {\n                filterOnProduct.get(i).click();\n                break;\n            }\n        }\n        \n        // Thread.sleep(1000);\n        \n        wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[contains(text(),'Whirlpool')]&quot;)));\n        \n        JavascriptExecutor js = (JavascriptExecutor) driver;\n        js.executeScript(&quot;window.scrollBy(0,250)&quot;);\n        \n        WebElement capacity = driver.findElement(By.xpath(&quot;//div[contains(text(),'Capacity')]&quot;));\n        action = new Actions(driver);\n        action.moveToElement(capacity).click().build().perform();\n</code></pre>\n"},{"tags":["java","android","reactjs","react-native","gradle"],"comments":[{"owner":{"account_id":4523707,"reputation":6025,"user_id":3676184,"accept_rate":17,"display_name":"Pavya"},"score":0,"creation_date":1661769659,"post_id":73527387,"comment_id":129842473,"body_markdown":"have you added  plugins: [\n    &#39;react-native-reanimated/plugin&#39;,\n  ],\n in babel.config.js file","body":"have you added  plugins: [     &#39;react-native-reanimated/plugin&#39;,   ],  in babel.config.js file"},{"owner":{"account_id":13970408,"reputation":145,"user_id":10089156,"display_name":"Sai Jeevan Balla"},"score":0,"creation_date":1661771263,"post_id":73527387,"comment_id":129842934,"body_markdown":"yes added in babel.config.js","body":"yes added in babel.config.js"}],"owner":{"account_id":13970408,"reputation":145,"user_id":10089156,"display_name":"Sai Jeevan Balla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661768694,"creation_date":1661768694,"question_id":73527387,"body_markdown":"I just clone a new React Native project. And though I tried many stack overflow solutions, even though those weren&#39;t helpful to me, I am still receiving this error while executing this.\r\n\r\nfollowed these solution but those not helpful from stack overflow\r\n 1. npx jetify\r\n 2. cd android &amp;&amp; ./gradlew clean\r\n 3. rm -rf node_modules &amp;&amp; yarn install &amp;&amp; react-native run-android\r\n\r\nnode version\r\n```\r\n$ node --version\r\nv14.17.0\r\n```\r\njava version\r\n```\r\njava version &quot;1.8.0_202&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_202-b08)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.202-b08, mixed mode)\r\n```\r\n\r\ngradle version\r\n```\r\n------------------------------------------------------------\r\nGradle 6.7.1\r\n------------------------------------------------------------\r\n\r\nBuild time:   2020-11-16 17:09:24 UTC\r\nRevision:     2972ff02f3210d2ceed2f1ea880f026acfbab5c0\r\n\r\nKotlin:       1.3.72\r\nGroovy:       2.5.12\r\nAnt:          Apache Ant(TM) version 1.10.8 compiled on May 10 2020\r\nJVM:          1.8.0_202 (Oracle Corporation 25.202-b08)\r\nOS:           Windows 10 10.0 amd64\r\n```\r\n\r\npackage.json versions\r\n```\r\n&quot;react&quot;: &quot;16.13.1&quot;,\r\n&quot;react-native&quot;: &quot;0.63.4&quot;,\r\n&quot;react-native-reanimated&quot;: &quot;2.9.1&quot;,\r\n```\r\n\r\n\r\n\r\nHere i paste error message\r\n```\r\n\r\n&gt; Configure project :react-native-reanimated\r\nNo AAR for react-native-reanimated found. Attempting to build from source.\r\nNative libs debug enabled: false\r\nAndroid gradle plugin: 4.1.1\r\nGradle: 6.7.1\r\nbuilding Reanimated2\r\n\r\nThe Kotlin Gradle plugin was loaded multiple times in different subprojects, which is not supported and may break the build.\r\nThis might happen in subprojects that apply the Kotlin plugins with the Gradle &#39;plugins { ... }&#39; DSL if they specify explicit versions, even if the versions are equal.\r\nPlease add the Kotlin plugin to the common parent project or the root project, then remove the versions in the subprojects.\r\nIf the parent project does not need the plugin, add &#39;apply false&#39; to the plugin line.\r\nSee: https://docs.gradle.org/current/userguide/plugins.html#sec:subprojects_plugins_dsl\r\nThe Kotlin plugin was loaded in the following projects: &#39;:react-native-pager-view&#39;, &#39;:react-native-webview&#39;\r\n\r\n&gt; Task :react-native-reanimated:compileDebugJavaWithJavac FAILED\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\nSee https://docs.gradle.org/6.7.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n341 actionable tasks: 2 executed, 339 up-to-date\r\nC:\\Users\\demo\\Desktop\\project\\node_modules\\react-native-reanimated\\android\\src\\main\\java\\com\\swmansion\\reanimated\\layoutReanimation\\ReanimatedUIImplementation.java:13: error: cannot find symbol\r\n      ViewManagerResolver viewManagerResolver,\r\n      ^\r\n  symbol:   class ViewManagerResolver\r\n  location: class ReanimatedUIImplementation\r\nC:\\Users\\demo\\Desktop\\project\\node_modules\\react-native-reanimated\\android\\src\\main\\java\\com\\swmansion\\reanimated\\layoutReanimation\\ReanimatedUIImplementation.java:11: error: recursive constructor invocation\r\n  public ReanimatedUIImplementation(\r\n         ^\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\nNote: Some input files use unchecked or unsafe operations.\r\nNote: Recompile with -Xlint:unchecked for details.\r\n2 errors\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:react-native-reanimated:compileDebugJavaWithJavac&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 12s\r\n\r\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\r\n```","title":"React Native - react-native-reanimated:compileDebugJavaWithJavac FAILED","body":"<p>I just clone a new React Native project. And though I tried many stack overflow solutions, even though those weren't helpful to me, I am still receiving this error while executing this.</p>\n<p>followed these solution but those not helpful from stack overflow</p>\n<ol>\n<li>npx jetify</li>\n<li>cd android &amp;&amp; ./gradlew clean</li>\n<li>rm -rf node_modules &amp;&amp; yarn install &amp;&amp; react-native run-android</li>\n</ol>\n<p>node version</p>\n<pre><code>$ node --version\nv14.17.0\n</code></pre>\n<p>java version</p>\n<pre><code>java version &quot;1.8.0_202&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_202-b08)\nJava HotSpot(TM) 64-Bit Server VM (build 25.202-b08, mixed mode)\n</code></pre>\n<p>gradle version</p>\n<pre><code>------------------------------------------------------------\nGradle 6.7.1\n------------------------------------------------------------\n\nBuild time:   2020-11-16 17:09:24 UTC\nRevision:     2972ff02f3210d2ceed2f1ea880f026acfbab5c0\n\nKotlin:       1.3.72\nGroovy:       2.5.12\nAnt:          Apache Ant(TM) version 1.10.8 compiled on May 10 2020\nJVM:          1.8.0_202 (Oracle Corporation 25.202-b08)\nOS:           Windows 10 10.0 amd64\n</code></pre>\n<p>package.json versions</p>\n<pre><code>&quot;react&quot;: &quot;16.13.1&quot;,\n&quot;react-native&quot;: &quot;0.63.4&quot;,\n&quot;react-native-reanimated&quot;: &quot;2.9.1&quot;,\n</code></pre>\n<p>Here i paste error message</p>\n<pre><code>\n&gt; Configure project :react-native-reanimated\nNo AAR for react-native-reanimated found. Attempting to build from source.\nNative libs debug enabled: false\nAndroid gradle plugin: 4.1.1\nGradle: 6.7.1\nbuilding Reanimated2\n\nThe Kotlin Gradle plugin was loaded multiple times in different subprojects, which is not supported and may break the build.\nThis might happen in subprojects that apply the Kotlin plugins with the Gradle 'plugins { ... }' DSL if they specify explicit versions, even if the versions are equal.\nPlease add the Kotlin plugin to the common parent project or the root project, then remove the versions in the subprojects.\nIf the parent project does not need the plugin, add 'apply false' to the plugin line.\nSee: https://docs.gradle.org/current/userguide/plugins.html#sec:subprojects_plugins_dsl\nThe Kotlin plugin was loaded in the following projects: ':react-native-pager-view', ':react-native-webview'\n\n&gt; Task :react-native-reanimated:compileDebugJavaWithJavac FAILED\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.7.1/userguide/command_line_interface.html#sec:command_line_warnings\n341 actionable tasks: 2 executed, 339 up-to-date\nC:\\Users\\demo\\Desktop\\project\\node_modules\\react-native-reanimated\\android\\src\\main\\java\\com\\swmansion\\reanimated\\layoutReanimation\\ReanimatedUIImplementation.java:13: error: cannot find symbol\n      ViewManagerResolver viewManagerResolver,\n      ^\n  symbol:   class ViewManagerResolver\n  location: class ReanimatedUIImplementation\nC:\\Users\\demo\\Desktop\\project\\node_modules\\react-native-reanimated\\android\\src\\main\\java\\com\\swmansion\\reanimated\\layoutReanimation\\ReanimatedUIImplementation.java:11: error: recursive constructor invocation\n  public ReanimatedUIImplementation(\n         ^\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n2 errors\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':react-native-reanimated:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 12s\n\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661768569,"post_id":73527327,"comment_id":129842122,"body_markdown":"remove the directory from your local m2 repository and try to build again","body":"remove the directory from your local m2 repository and try to build again"},{"owner":{"account_id":25180581,"reputation":47,"user_id":19022141,"display_name":"54V4G3208"},"score":0,"creation_date":1661768803,"post_id":73527327,"comment_id":129842188,"body_markdown":"Sorry, Which directory are you reffering to","body":"Sorry, Which directory are you reffering to"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661769015,"post_id":73527327,"comment_id":129842247,"body_markdown":"in your user home directory should be a .m2 folder in this a repository and there the `org/spring-framework-boot/2.7.3","body":"in your user home directory should be a .m2 folder in this a repository and there the `org/spring-framework-boot/2.7.3"}],"owner":{"account_id":25180581,"reputation":47,"user_id":19022141,"display_name":"54V4G3208"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1661768621,"creation_date":1661768357,"question_id":73527327,"body_markdown":"I&#39;ve created a new springboot project using spring Initializer. When i view it in vs code i get an error in `pom.xml` on the `Parent` tag saying \r\n\r\n&gt; Project build error: Non-resolvable parent POM for\r\n&gt; com.example:demo:0.0.1-SNAPSHOT:\r\n&gt; org.springframework.boot:spring-boot-starter-parent:pom:2.7.3 failed\r\n&gt; to transfer from https://repo.maven.apache.org/maven2 during a\r\n&gt; previous attempt. This failure was cached in the local repository and\r\n&gt; resolution is not reattempted until the update interval of central has\r\n&gt; elapsed or updates are forced. Original error: Could not transfer\r\n&gt; artifact org.springframework.boot:spring-boot-starter-parent:pom:2.7.3\r\n&gt; from/to central (https://repo.maven.apache.org/maven2):\r\n&gt; repo.maven.apache.org and &#39;parent.relativePath&#39; points at no local\r\n&gt; POM`\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n      https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t   &lt;/parent&gt;\r\n\t   &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t   &lt;name&gt;demo&lt;/name&gt;\r\n\t   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t  &lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t  &lt;/properties&gt;\r\n\t  &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t  &lt;/dependencies&gt;\r\n\r\n\t  &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t   &lt;/build&gt;\r\n\r\n       &lt;/project&gt;\r\n\r\nCan somebody help please.\r\n","title":"org.springframework.boot:spring-boot-starter-parent:pom:2.7.3 failed to transfer from https://repo.maven.apache.org/maven2 during a previous attempt","body":"<p>I've created a new springboot project using spring Initializer. When i view it in vs code i get an error in <code>pom.xml</code> on the <code>Parent</code> tag saying</p>\n<blockquote>\n<p>Project build error: Non-resolvable parent POM for\ncom.example:demo:0.0.1-SNAPSHOT:\norg.springframework.boot:spring-boot-starter-parent:pom:2.7.3 failed\nto transfer from <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a> during a\nprevious attempt. This failure was cached in the local repository and\nresolution is not reattempted until the update interval of central has\nelapsed or updates are forced. Original error: Could not transfer\nartifact org.springframework.boot:spring-boot-starter-parent:pom:2.7.3\nfrom/to central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>):\nrepo.maven.apache.org and 'parent.relativePath' points at no local\nPOM`</p>\n</blockquote>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n  https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.3&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n   &lt;/parent&gt;\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;demo&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n   &lt;name&gt;demo&lt;/name&gt;\n   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n  &lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n   &lt;/build&gt;\n\n   &lt;/project&gt;\n</code></pre>\n<p>Can somebody help please.</p>\n"},{"tags":["java","spring-boot","vaadin"],"comments":[{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":2,"creation_date":1661768805,"post_id":73527278,"comment_id":129842190,"body_markdown":"Please build your application in production mode and see if the error stays the same.","body":"Please build your application in production mode and see if the error stays the same."},{"owner":{"account_id":15855975,"reputation":37,"user_id":11440340,"display_name":"Till Gl&#246;ckner"},"score":0,"creation_date":1661769781,"post_id":73527278,"comment_id":129842503,"body_markdown":"I think I start the application in production mode because I found this tag in the pom.xml:  &lt;productionMode&gt;true&lt;/productionMode&gt;","body":"I think I start the application in production mode because I found this tag in the pom.xml:  &lt;productionMode&gt;true&lt;/productionMode&gt;"},{"owner":{"account_id":15855975,"reputation":37,"user_id":11440340,"display_name":"Till Gl&#246;ckner"},"score":0,"creation_date":1661770216,"post_id":73527278,"comment_id":129842613,"body_markdown":"And this in the application proberties: vaadin.servlet.productionMode=true","body":"And this in the application proberties: vaadin.servlet.productionMode=true"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1661773204,"post_id":73527278,"comment_id":129843614,"body_markdown":"Please do what @Knoobie suggested: https://vaadin.com/docs/v22/flow/production/production-build","body":"Please do what @Knoobie suggested: <a href=\"https://vaadin.com/docs/v22/flow/production/production-build\" rel=\"nofollow noreferrer\">vaadin.com/docs/v22/flow/production/production-build</a>"},{"owner":{"account_id":15855975,"reputation":37,"user_id":11440340,"display_name":"Till Gl&#246;ckner"},"score":0,"creation_date":1661773842,"post_id":73527278,"comment_id":129843828,"body_markdown":"now I have the following exception: java.io.UncheckedIOException: java.io.IOException: Failed to load content of &#39;C:\\Vaadin\\Workspace\\online-statisitikcenter\\frontend\\index.html&#39;.","body":"now I have the following exception: java.io.UncheckedIOException: java.io.IOException: Failed to load content of &#39;C:\\Vaadin\\Workspace\\online-statisitikcenter\\frontend\\index.&zwnj;&#8203;html&#39;."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1661923530,"post_id":73527278,"comment_id":129884031,"body_markdown":"Did you build the application with mvn package -Pproduction","body":"Did you build the application with mvn package -Pproduction"}],"owner":{"account_id":15855975,"reputation":37,"user_id":11440340,"display_name":"Till Gl&#246;ckner"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661768088,"creation_date":1661768088,"question_id":73527278,"body_markdown":"I developed a vaadin website including spring boot. The generated jar file can be started locally.\r\nIf I want to start this on a windows server, the following exception occurs:\r\n\r\n\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nMon Aug 29 12:05:00 CEST 2022\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\njava.lang.IllegalStateException: Webpack exited prematurely\r\ncom.vaadin.flow.server.ServiceException: java.lang.IllegalStateException: Webpack exited prematurely\r\n\tat com.vaadin.flow.server.VaadinService.handleExceptionDuringRequest(VaadinService.java:1617)\r\n\tat com.vaadin.flow.server.VaadinService.handleRequest(VaadinService.java:1580)\r\n\tat com.vaadin.flow.server.VaadinServlet.service(VaadinServlet.java:299)\r\n\tat com.vaadin.flow.spring.SpringServlet.service(SpringServlet.java:109)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:353)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)\r\n\tat org.springframework.web.servlet.mvc.ServletForwardingController.handleRequestInternal(ServletForwardingController.java:141)\r\n\tat org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:177)\r\n\tat org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:51)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Unknown Source)\r\nCaused by: java.lang.IllegalStateException: Webpack exited prematurely\r\n\tat com.vaadin.base.devserver.AbstractDevServerRunner.doStartDevModeServer(AbstractDevServerRunner.java:218)\r\n\tat com.vaadin.base.devserver.AbstractDevServerRunner.runOnFutureComplete(AbstractDevServerRunner.java:170)\r\n\tat com.vaadin.base.devserver.AbstractDevServerRunner.lambda$new$0(AbstractDevServerRunner.java:161)\r\n\tat java.util.concurrent.CompletableFuture.uniWhenComplete(Unknown Source)\r\n\tat java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(Unknown Source)\r\n\tat java.util.concurrent.CompletableFuture$Completion.exec(Unknown Source)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(Unknown Source)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(Unknown Source)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(Unknown Source)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(Unknown Source)\r\n\r\nProject-Info:\r\n```   \r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;vaadin.version&gt;22.0.21&lt;/vaadin.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nMicrosoft Windows Server 2022 Standard\r\n```\r\n\r\nUnfortunately I can not find the error.\r\n","title":"Vaadin website with spring boot does not start on the server","body":"<p>I developed a vaadin website including spring boot. The generated jar file can be started locally.\nIf I want to start this on a windows server, the following exception occurs:</p>\n<p>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n<p>Mon Aug 29 12:05:00 CEST 2022\nThere was an unexpected error (type=Internal Server Error, status=500).\njava.lang.IllegalStateException: Webpack exited prematurely\ncom.vaadin.flow.server.ServiceException: java.lang.IllegalStateException: Webpack exited prematurely\nat com.vaadin.flow.server.VaadinService.handleExceptionDuringRequest(VaadinService.java:1617)\nat com.vaadin.flow.server.VaadinService.handleRequest(VaadinService.java:1580)\nat com.vaadin.flow.server.VaadinServlet.service(VaadinServlet.java:299)\nat com.vaadin.flow.spring.SpringServlet.service(SpringServlet.java:109)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)\nat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\nat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:353)\nat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)\nat org.springframework.web.servlet.mvc.ServletForwardingController.handleRequestInternal(ServletForwardingController.java:141)\nat org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:177)\nat org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:51)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.IllegalStateException: Webpack exited prematurely\nat com.vaadin.base.devserver.AbstractDevServerRunner.doStartDevModeServer(AbstractDevServerRunner.java:218)\nat com.vaadin.base.devserver.AbstractDevServerRunner.runOnFutureComplete(AbstractDevServerRunner.java:170)\nat com.vaadin.base.devserver.AbstractDevServerRunner.lambda$new$0(AbstractDevServerRunner.java:161)\nat java.util.concurrent.CompletableFuture.uniWhenComplete(Unknown Source)\nat java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(Unknown Source)\nat java.util.concurrent.CompletableFuture$Completion.exec(Unknown Source)\nat java.util.concurrent.ForkJoinTask.doExec(Unknown Source)\nat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(Unknown Source)\nat java.util.concurrent.ForkJoinPool.runWorker(Unknown Source)\nat java.util.concurrent.ForkJoinWorkerThread.run(Unknown Source)</p>\n<p>Project-Info:</p>\n<pre><code>    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;vaadin.version&gt;22.0.21&lt;/vaadin.version&gt;\n    &lt;/properties&gt;\n\nMicrosoft Windows Server 2022 Standard\n</code></pre>\n<p>Unfortunately I can not find the error.</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1661492458,"post_id":73496234,"comment_id":129789524,"body_markdown":"Where exactly are you stuck? I would open the source sheet and loop through all rows in it. For each row I would get the content of the column where &quot;Broker&quot; is stored. Then, if that content equals &quot;Edelweiss&quot; I would get that row into a Java collection, a list of rows for example. After that I would write the content of that Java collection into the result sheet.","body":"Where exactly are you stuck? I would open the source sheet and loop through all rows in it. For each row I would get the content of the column where &quot;Broker&quot; is stored. Then, if that content equals &quot;Edelweiss&quot; I would get that row into a Java collection, a list of rows for example. After that I would write the content of that Java collection into the result sheet."},{"owner":{"account_id":18529576,"reputation":101,"user_id":13500687,"display_name":"Prashant Naik"},"score":0,"creation_date":1661493628,"post_id":73496234,"comment_id":129789753,"body_markdown":"@AxelRichter Thank you for quick reply. Presently i have programmed only to read the excel sheet and printing it out. i have no idea how to put the filtered content in another excel sheet. i will share the code","body":"@AxelRichter Thank you for quick reply. Presently i have programmed only to read the excel sheet and printing it out. i have no idea how to put the filtered content in another excel sheet. i will share the code"},{"owner":{"account_id":18529576,"reputation":101,"user_id":13500687,"display_name":"Prashant Naik"},"score":0,"creation_date":1661494203,"post_id":73496234,"comment_id":129789881,"body_markdown":"@AxelRichter Can you please give me a sample code","body":"@AxelRichter Can you please give me a sample code"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1661495690,"post_id":73496234,"comment_id":129790241,"body_markdown":"You told in your question: &quot;I am aware how to copy all the data from one excel to another excel using java.&quot; That seems not true. At least your code does not do something like that.","body":"You told in your question: &quot;I am aware how to copy all the data from one excel to another excel using java.&quot; That seems not true. At least your code does not do something like that."},{"owner":{"account_id":18529576,"reputation":101,"user_id":13500687,"display_name":"Prashant Naik"},"score":0,"creation_date":1661496181,"post_id":73496234,"comment_id":129790362,"body_markdown":"@AxelRichter i have written one more program which reads entire excel sheet and writes in another sheet. its a copy. i am not aware how to write only specific columns when my criteria is met . Anyways you have given me some suggestion how to do it. i will try to find it. Thanks a lot for you help","body":"@AxelRichter i have written one more program which reads entire excel sheet and writes in another sheet. its a copy. i am not aware how to write only specific columns when my criteria is met . Anyways you have given me some suggestion how to do it. i will try to find it. Thanks a lot for you help"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1661512093,"post_id":73496234,"comment_id":129795386,"body_markdown":"If you encounter a specific problem, please [edit] your question to include a [mre] that reproduces the problem you describe.","body":"If you encounter a specific problem, please <a href=\"https://stackoverflow.com/posts/73496234/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that reproduces the problem you describe."},{"owner":{"account_id":18529576,"reputation":101,"user_id":13500687,"display_name":"Prashant Naik"},"score":0,"creation_date":1661533702,"post_id":73496234,"comment_id":129803082,"body_markdown":"@AxelRichter. Thank you for solving my problem. Highly appreciate it.","body":"@AxelRichter. Thank you for solving my problem. Highly appreciate it."},{"owner":{"account_id":18529576,"reputation":101,"user_id":13500687,"display_name":"Prashant Naik"},"score":0,"creation_date":1661608941,"post_id":73496234,"comment_id":129815104,"body_markdown":"@AxelRichter i am getting some error which i pasted in my question above. Can you please tell which all jars you have included in your classpath","body":"@AxelRichter i am getting some error which i pasted in my question above. Can you please tell which all jars you have included in your classpath"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1661609642,"post_id":73496234,"comment_id":129815245,"body_markdown":"There seems to be an old version of `commons-io` somewhere in your class-path. The `commons-io-2.11.0.jar` contains the class `org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream`. But if an old version of `commons-io` is somewhere in your class-path then the class loader might use this old version and thus does not find that class.","body":"There seems to be an old version of <code>commons-io</code> somewhere in your class-path. The <code>commons-io-2.11.0.jar</code> contains the class <code>org.apache.commons.io.output.UnsynchronizedByteArrayOutputSt&zwnj;&#8203;ream</code>. But if an old version of <code>commons-io</code> is somewhere in your class-path then the class loader might use this old version and thus does not find that class."},{"owner":{"account_id":18529576,"reputation":101,"user_id":13500687,"display_name":"Prashant Naik"},"score":0,"creation_date":1661610140,"post_id":73496234,"comment_id":129815342,"body_markdown":"@AxelRichter. Issue got fixed. after including the below jar\n\nPOI_EXAM_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/poi-examples-5.2.2.jar\nPOI_EXCEL_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/poi-excelant-5.2.2.jar\nPOI_JAVA_DOC_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/poi-javadoc-5.2.2.jar\nPOI_SCRATCH_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/poi-scratchpad-5.2.2.jar","body":"@AxelRichter. Issue got fixed. after including the below jar  POI_EXAM_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/poi-examples-5.2.2&zwnj;&#8203;.jar POI_EXCEL_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/poi-excelant-5.2.&zwnj;&#8203;2.jar POI_JAVA_DOC_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/poi-javadoc-5.&zwnj;&#8203;2.2.jar POI_SCRATCH_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/poi-scratchpad-&zwnj;&#8203;5.2.2.jar"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1661610999,"post_id":73496234,"comment_id":129815531,"body_markdown":"Those jars have nothing to do with that problem. But maybe your IDE made some class-path-cleaning process after that.","body":"Those jars have nothing to do with that problem. But maybe your IDE made some class-path-cleaning process after that."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661573333,"creation_date":1661529299,"answer_id":73503655,"question_id":73496234,"body_markdown":"I will make my comment an answer.\r\n\r\nI would open the source sheet and loop through all rows in it. For each row I would get the content of the column where &quot;Broker&quot; is stored. Then, if that content equals &quot;Edelweiss&quot; I would get that row into a Java collection, a list of rows for example. After that I would write the content of that Java collection into the result sheet.\r\n\r\nThe following complete example shows this. \r\n\r\nIt contains methods to get the last filled row in a special column of a sheet and to get the last filled column in a special row of a sheet. That is to determine the used cell range of a sheet.\r\n\r\nIt also contains a method to get the headings, which maps headings to column indexes. The headings must be in first row of the used cell range of the sheet.\r\n\r\nIt also shows how to use [CellUtil.copyCell](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/util/CellUtil.html#copyCell-org.apache.poi.ss.usermodel.Cell-org.apache.poi.ss.usermodel.Cell-org.apache.poi.ss.usermodel.CellCopyPolicy-org.apache.poi.ss.usermodel.CellCopyContext-) to copy cells from one sheet to another.\r\n\r\nThe code is tested and works using current `apache poi 5.2.2`.\r\n\r\nThe first sheet of `broker.xlsx` looks like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCode:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.FileInputStream;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.ss.util.CellUtil;\r\n    \r\n    import java.util.Locale;\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    \r\n    class ExcelFilterRowsToNewWorkbook {\r\n        \r\n     static int getLastFilledRow(Sheet sheet, int col) {\r\n      int lastStoredRowNum = sheet.getLastRowNum();\r\n      for (int r = lastStoredRowNum; r &gt;= 0; r--) {\r\n       Row row = sheet.getRow(r);\r\n       if (row != null) {\r\n        Cell cell = row.getCell(col);\r\n        if (cell != null &amp;&amp; cell.getCellType() != CellType.BLANK) return row.getRowNum();  \r\n       }       \r\n      }\r\n      return -1; // the sheet is empty in that col \r\n     }\r\n     \r\n     static int getLastFilledColumn(Sheet sheet, int rowIdx) {\r\n      int lastStoredCellNum = sheet.getRow(rowIdx).getLastCellNum();\r\n      Row row = sheet.getRow(rowIdx);\r\n      if (row != null) {\r\n       for (int c = lastStoredCellNum; c &gt;= 0; c--) {\r\n        Cell cell = row.getCell(c);\r\n        if (cell != null &amp;&amp; cell.getCellType() != CellType.BLANK) return cell.getColumnIndex();  \r\n       }       \r\n      }\r\n      return -1; // the sheet is empty in that row \r\n     }\r\n     \r\n     static Map&lt;Integer, String&gt; getHeadings(Sheet sheet) {\r\n      DataFormatter dataFormatter = new DataFormatter(new Locale(&quot;en&quot;, &quot;US&quot;));\r\n      dataFormatter.setUseCachedValuesForFormulaCells(true);\r\n      int firstRow = sheet.getFirstRowNum();\r\n      int firstCol = sheet.getRow(firstRow).getFirstCellNum();\r\n      int lastCol = getLastFilledColumn(sheet, firstRow);   \r\n      Map&lt;Integer, String&gt; headings = new HashMap&lt;Integer, String&gt;();\r\n      Row row = sheet.getRow(firstRow);\r\n      if (row != null) {\r\n       for (int c = firstCol; c &lt;= lastCol; c++) {\r\n        Cell cell = row.getCell(c);\r\n        headings.put(c, dataFormatter.formatCellValue(cell));      \r\n       }\r\n      }\r\n      return headings;\r\n     }\r\n    \r\n     static List&lt;Row&gt; filterRows(Sheet sheet, String filterHeading, String filterValue) {\r\n      int filterCol = -1;\r\n      Map&lt;Integer, String&gt; headings = getHeadings(sheet);\r\n      for (Map.Entry&lt;Integer, String&gt; entry : headings.entrySet()) {\r\n       if (entry.getValue().equals(filterHeading)) {\r\n        filterCol = entry.getKey();\r\n        break;\r\n       }       \r\n      }\r\n      List&lt;Row&gt; rows = new ArrayList&lt;Row&gt;();\r\n      // add the headings row\r\n      int firstRow = sheet.getFirstRowNum();\r\n      rows.add(sheet.getRow(firstRow));\r\n      // add the fildered rows\r\n      if (filterCol &gt; -1) {\r\n       DataFormatter dataFormatter = new DataFormatter(new Locale(&quot;en&quot;, &quot;US&quot;));\r\n       dataFormatter.setUseCachedValuesForFormulaCells(true);\r\n       int firstCol = sheet.getRow(firstRow).getFirstCellNum();\r\n       int lastCol = getLastFilledColumn(sheet, firstRow);   \r\n       int lastRow = getLastFilledRow(sheet, firstCol);\r\n       for (int r = firstRow; r &lt;= lastRow; r++) {\r\n        Row row = sheet.getRow(r);\r\n        if (row != null &amp;&amp; lastCol &gt;= filterCol) {\r\n         Cell cell = row.getCell(filterCol);\r\n         String cellContent = dataFormatter.formatCellValue(cell);\r\n         if (cellContent.equals(filterValue)) {\r\n          rows.add(row);   \r\n         }\r\n        }\r\n       }\r\n      }\r\n      return rows;  \r\n     }\r\n     \r\n     public static void main(String[] args) throws Exception {\r\n      \r\n      try (Workbook workbookSrc = WorkbookFactory.create(new FileInputStream(&quot;./broker.xlsx&quot;)) ) {\r\n    \r\n       Sheet sheetSrc = workbookSrc.getSheetAt(0);\r\n       // get filtered rows\r\n       List&lt;Row&gt; rowsSrc = filterRows(sheetSrc, &quot;Broker&quot;, &quot;Edelweiss&quot;);\r\n       \r\n       // add filtered rows in new workbook\r\n       try (Workbook workbookDest = WorkbookFactory.create(true);\r\n            FileOutputStream fileout = new FileOutputStream(&quot;./brokerFiltered.xlsx&quot;) ) {\r\n        Sheet sheetDest = workbookDest.createSheet();\r\n        int r = 0;\r\n        for (Row rowSrc : rowsSrc) {\r\n         Row rowDest = sheetDest.createRow(r++);\r\n         for (Cell cellSrc : rowSrc) {\r\n          Cell cellDest = rowDest.createCell(cellSrc.getColumnIndex());\r\n          CellUtil.copyCell(cellSrc, \r\n           cellDest, \r\n           new CellCopyPolicy(),\r\n           new CellCopyContext()\r\n          );\r\n         }         \r\n        }  \r\n        workbookDest.write(fileout);\r\n       }\r\n       \r\n      }   \r\n      \r\n     }\r\n    }\r\n\r\nThe first sheet of `brokerFiltered.xlsx` then looks like:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aEh0P.png\r\n  [2]: https://i.stack.imgur.com/qIKQN.png","title":"How to write specific row when condition is met in another Excel sheet","body":"<p>I will make my comment an answer.</p>\n<p>I would open the source sheet and loop through all rows in it. For each row I would get the content of the column where &quot;Broker&quot; is stored. Then, if that content equals &quot;Edelweiss&quot; I would get that row into a Java collection, a list of rows for example. After that I would write the content of that Java collection into the result sheet.</p>\n<p>The following complete example shows this.</p>\n<p>It contains methods to get the last filled row in a special column of a sheet and to get the last filled column in a special row of a sheet. That is to determine the used cell range of a sheet.</p>\n<p>It also contains a method to get the headings, which maps headings to column indexes. The headings must be in first row of the used cell range of the sheet.</p>\n<p>It also shows how to use <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/util/CellUtil.html#copyCell-org.apache.poi.ss.usermodel.Cell-org.apache.poi.ss.usermodel.Cell-org.apache.poi.ss.usermodel.CellCopyPolicy-org.apache.poi.ss.usermodel.CellCopyContext-\" rel=\"nofollow noreferrer\">CellUtil.copyCell</a> to copy cells from one sheet to another.</p>\n<p>The code is tested and works using current <code>apache poi 5.2.2</code>.</p>\n<p>The first sheet of <code>broker.xlsx</code> looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/aEh0P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aEh0P.png\" alt=\"enter image description here\" /></a></p>\n<p>Code:</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.io.FileInputStream;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.ss.util.CellUtil;\n\nimport java.util.Locale;\nimport java.util.List;\nimport java.util.ArrayList;\nimport java.util.Map;\nimport java.util.HashMap;\n\nclass ExcelFilterRowsToNewWorkbook {\n    \n static int getLastFilledRow(Sheet sheet, int col) {\n  int lastStoredRowNum = sheet.getLastRowNum();\n  for (int r = lastStoredRowNum; r &gt;= 0; r--) {\n   Row row = sheet.getRow(r);\n   if (row != null) {\n    Cell cell = row.getCell(col);\n    if (cell != null &amp;&amp; cell.getCellType() != CellType.BLANK) return row.getRowNum();  \n   }       \n  }\n  return -1; // the sheet is empty in that col \n }\n \n static int getLastFilledColumn(Sheet sheet, int rowIdx) {\n  int lastStoredCellNum = sheet.getRow(rowIdx).getLastCellNum();\n  Row row = sheet.getRow(rowIdx);\n  if (row != null) {\n   for (int c = lastStoredCellNum; c &gt;= 0; c--) {\n    Cell cell = row.getCell(c);\n    if (cell != null &amp;&amp; cell.getCellType() != CellType.BLANK) return cell.getColumnIndex();  \n   }       \n  }\n  return -1; // the sheet is empty in that row \n }\n \n static Map&lt;Integer, String&gt; getHeadings(Sheet sheet) {\n  DataFormatter dataFormatter = new DataFormatter(new Locale(&quot;en&quot;, &quot;US&quot;));\n  dataFormatter.setUseCachedValuesForFormulaCells(true);\n  int firstRow = sheet.getFirstRowNum();\n  int firstCol = sheet.getRow(firstRow).getFirstCellNum();\n  int lastCol = getLastFilledColumn(sheet, firstRow);   \n  Map&lt;Integer, String&gt; headings = new HashMap&lt;Integer, String&gt;();\n  Row row = sheet.getRow(firstRow);\n  if (row != null) {\n   for (int c = firstCol; c &lt;= lastCol; c++) {\n    Cell cell = row.getCell(c);\n    headings.put(c, dataFormatter.formatCellValue(cell));      \n   }\n  }\n  return headings;\n }\n\n static List&lt;Row&gt; filterRows(Sheet sheet, String filterHeading, String filterValue) {\n  int filterCol = -1;\n  Map&lt;Integer, String&gt; headings = getHeadings(sheet);\n  for (Map.Entry&lt;Integer, String&gt; entry : headings.entrySet()) {\n   if (entry.getValue().equals(filterHeading)) {\n    filterCol = entry.getKey();\n    break;\n   }       \n  }\n  List&lt;Row&gt; rows = new ArrayList&lt;Row&gt;();\n  // add the headings row\n  int firstRow = sheet.getFirstRowNum();\n  rows.add(sheet.getRow(firstRow));\n  // add the fildered rows\n  if (filterCol &gt; -1) {\n   DataFormatter dataFormatter = new DataFormatter(new Locale(&quot;en&quot;, &quot;US&quot;));\n   dataFormatter.setUseCachedValuesForFormulaCells(true);\n   int firstCol = sheet.getRow(firstRow).getFirstCellNum();\n   int lastCol = getLastFilledColumn(sheet, firstRow);   \n   int lastRow = getLastFilledRow(sheet, firstCol);\n   for (int r = firstRow; r &lt;= lastRow; r++) {\n    Row row = sheet.getRow(r);\n    if (row != null &amp;&amp; lastCol &gt;= filterCol) {\n     Cell cell = row.getCell(filterCol);\n     String cellContent = dataFormatter.formatCellValue(cell);\n     if (cellContent.equals(filterValue)) {\n      rows.add(row);   \n     }\n    }\n   }\n  }\n  return rows;  \n }\n \n public static void main(String[] args) throws Exception {\n  \n  try (Workbook workbookSrc = WorkbookFactory.create(new FileInputStream(&quot;./broker.xlsx&quot;)) ) {\n\n   Sheet sheetSrc = workbookSrc.getSheetAt(0);\n   // get filtered rows\n   List&lt;Row&gt; rowsSrc = filterRows(sheetSrc, &quot;Broker&quot;, &quot;Edelweiss&quot;);\n   \n   // add filtered rows in new workbook\n   try (Workbook workbookDest = WorkbookFactory.create(true);\n        FileOutputStream fileout = new FileOutputStream(&quot;./brokerFiltered.xlsx&quot;) ) {\n    Sheet sheetDest = workbookDest.createSheet();\n    int r = 0;\n    for (Row rowSrc : rowsSrc) {\n     Row rowDest = sheetDest.createRow(r++);\n     for (Cell cellSrc : rowSrc) {\n      Cell cellDest = rowDest.createCell(cellSrc.getColumnIndex());\n      CellUtil.copyCell(cellSrc, \n       cellDest, \n       new CellCopyPolicy(),\n       new CellCopyContext()\n      );\n     }         \n    }  \n    workbookDest.write(fileout);\n   }\n   \n  }   \n  \n }\n}\n</code></pre>\n<p>The first sheet of <code>brokerFiltered.xlsx</code> then looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/qIKQN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qIKQN.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18529576,"reputation":101,"user_id":13500687,"display_name":"Prashant Naik"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1661768136,"accepted_answer_id":73503655,"answer_count":1,"score":1,"last_activity_date":1661768001,"creation_date":1661489803,"question_id":73496234,"body_markdown":"I am in a learning stage of Java. I want to write a program in Java which reads one Excel file (.xlsx). This file has some columns and many rows. I want to write the data in another Excel file (.xlsx) only the condition is met not all the data from existing file.\r\n\r\nMy Excel sheet looks like below\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ljwma.png\r\n\r\nI want to filter only those rows with broker Edelweiss and put it in another Excel sheet. I am aware how to copy all the data from one Excel to another Excel using Java. I don&#39;t know how to filter a specific row and put it in another Excel.\r\n\r\nHere is my code.\r\n\r\n```java\r\n     FileInputStream file = new FileInputStream(new File(&quot;broker.xlsx&quot;));\r\n    //Create Workbook instance holding reference to .xlsx file\r\n    XSSFWorkbook workbook = new XSSFWorkbook(file);\r\n \r\n    //Get first/desired sheet from the workbook\r\n    XSSFSheet sheet = workbook.getSheetAt(0);\r\n \r\n    //Iterate through each rows one by one\r\n    Iterator&lt;Row&gt; rowIterator = sheet.iterator();\r\n    while (rowIterator.hasNext()) \r\n    {\r\n        Row row = rowIterator.next();\r\n        //For each row, iterate through all the columns\r\n        Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n         \r\n        while (cellIterator.hasNext()) \r\n        {\r\n            Cell cell = cellIterator.next();\r\n            //Check the cell type and format accordingly\r\n            switch (cell.getCellType()) \r\n            {\r\n                case Cell.CELL_TYPE_NUMERIC:\r\n                    System.out.print(cell.getNumericCellValue() + &quot;t&quot;);\r\n                    break;\r\n                case Cell.CELL_TYPE_STRING:\r\n                    System.out.print(cell.getStringCellValue() + &quot;t&quot;);\r\n                    break;\r\n            }\r\n        }\r\n        System.out.println(&quot;&quot;);\r\n    }\r\n    file.close();\r\n} \r\ncatch (Exception e) \r\n{\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nI am getting the below error when I run Axel Richter&#39;s code which is shared below\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/io/output/UnsynchronizedByteArrayOutputStream\r\n    at org.apache.poi.poifs.filesystem.FileMagic.valueOf(FileMagic.java:209)\r\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:222)\r\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:185)\r\n    at writefile.main(writefile.java:92)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream\r\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n```\r\n \r\nI have included below jars in my classpath\r\n\r\n```none\r\nPOI_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/poi-5.2.2.jar\r\nPOI_OOXML_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/poi-ooxml-full-5.2.2.jar\r\nXML_BEANS_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/ooxml-lib/xmlbeans-5.0.3.jar\r\nCOM_COLL_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/lib/commons-collections4-4.4.jar\r\n\r\nCOM_COMPRESS_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/ooxml-lib/commons-compress-1.21.jar\r\nCOM_CODEC_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/lib/commons-codec-1.15.jar\r\nCOM_IO_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/lib/commons-io-2.11.0.jar\r\nCOM_MATH_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/lib/commons-math3-3.6.1.jar\r\nLOG_J4_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/lib/log4j-api-2.17.2.jar\r\nSPARSE_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/lib/SparseBitSet-1.2.jar\r\nCOM_LOGG_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/ooxml-lib/commons-logging-1.2.jar\r\nCURVE_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/ooxml-lib/curvesapi-1.07.jar\r\nSLF4_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/ooxml-lib/slf4j-api-1.7.36.jar\r\n```","title":"How to write specific row when condition is met in another Excel sheet","body":"<p>I am in a learning stage of Java. I want to write a program in Java which reads one Excel file (.xlsx). This file has some columns and many rows. I want to write the data in another Excel file (.xlsx) only the condition is met not all the data from existing file.</p>\n<p>My Excel sheet looks like below</p>\n<p><a href=\"https://i.stack.imgur.com/Ljwma.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ljwma.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to filter only those rows with broker Edelweiss and put it in another Excel sheet. I am aware how to copy all the data from one Excel to another Excel using Java. I don't know how to filter a specific row and put it in another Excel.</p>\n<p>Here is my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>     FileInputStream file = new FileInputStream(new File(&quot;broker.xlsx&quot;));\n    //Create Workbook instance holding reference to .xlsx file\n    XSSFWorkbook workbook = new XSSFWorkbook(file);\n \n    //Get first/desired sheet from the workbook\n    XSSFSheet sheet = workbook.getSheetAt(0);\n \n    //Iterate through each rows one by one\n    Iterator&lt;Row&gt; rowIterator = sheet.iterator();\n    while (rowIterator.hasNext()) \n    {\n        Row row = rowIterator.next();\n        //For each row, iterate through all the columns\n        Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n         \n        while (cellIterator.hasNext()) \n        {\n            Cell cell = cellIterator.next();\n            //Check the cell type and format accordingly\n            switch (cell.getCellType()) \n            {\n                case Cell.CELL_TYPE_NUMERIC:\n                    System.out.print(cell.getNumericCellValue() + &quot;t&quot;);\n                    break;\n                case Cell.CELL_TYPE_STRING:\n                    System.out.print(cell.getStringCellValue() + &quot;t&quot;);\n                    break;\n            }\n        }\n        System.out.println(&quot;&quot;);\n    }\n    file.close();\n} \ncatch (Exception e) \n{\n    e.printStackTrace();\n}\n</code></pre>\n<p>I am getting the below error when I run Axel Richter's code which is shared below</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/io/output/UnsynchronizedByteArrayOutputStream\n    at org.apache.poi.poifs.filesystem.FileMagic.valueOf(FileMagic.java:209)\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:222)\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:185)\n    at writefile.main(writefile.java:92)\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n</code></pre>\n<p>I have included below jars in my classpath</p>\n<pre class=\"lang-none prettyprint-override\"><code>POI_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/poi-5.2.2.jar\nPOI_OOXML_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/poi-ooxml-full-5.2.2.jar\nXML_BEANS_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/ooxml-lib/xmlbeans-5.0.3.jar\nCOM_COLL_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/lib/commons-collections4-4.4.jar\n\nCOM_COMPRESS_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/ooxml-lib/commons-compress-1.21.jar\nCOM_CODEC_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/lib/commons-codec-1.15.jar\nCOM_IO_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/lib/commons-io-2.11.0.jar\nCOM_MATH_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/lib/commons-math3-3.6.1.jar\nLOG_J4_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/lib/log4j-api-2.17.2.jar\nSPARSE_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/lib/SparseBitSet-1.2.jar\nCOM_LOGG_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/ooxml-lib/commons-logging-1.2.jar\nCURVE_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/ooxml-lib/curvesapi-1.07.jar\nSLF4_LIB=$(TOP_DIR)/jar/poi-bin-5.2.2/ooxml-lib/slf4j-api-1.7.36.jar\n</code></pre>\n"},{"tags":["java","spring-boot","intellij-idea","ide","keystore"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1661681137,"post_id":73517439,"comment_id":129825242,"body_markdown":"enable ssl-debug then compare outputs between those.","body":"enable ssl-debug then compare outputs between those."}],"answers":[{"tags":[],"owner":{"account_id":14918632,"reputation":11,"user_id":10771690,"display_name":"Raph1mm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661767986,"creation_date":1661767986,"answer_id":73527260,"question_id":73517439,"body_markdown":"The solution is not to use &quot;&#39;&quot; in IntelliJ:\r\n\r\n```-Djavax.net.ssl.keyStore=&#39;/path/to/transport_keystore.jks&#39;```\r\n\r\nworks fine with jar running from CLI, but not in IntelliJ. \r\n\r\nFor IntelliJ this one is fine:\r\n\r\n```-Djavax.net.ssl.keyStore=/path/to/transport_keystore.jks```","title":"Running Spring Boot app with custom key store from IntelliJ - &quot;No such file or directory&quot; for key store path","body":"<p>The solution is not to use &quot;'&quot; in IntelliJ:</p>\n<p><code>-Djavax.net.ssl.keyStore='/path/to/transport_keystore.jks'</code></p>\n<p>works fine with jar running from CLI, but not in IntelliJ.</p>\n<p>For IntelliJ this one is fine:</p>\n<p><code>-Djavax.net.ssl.keyStore=/path/to/transport_keystore.jks</code></p>\n"}],"owner":{"account_id":14918632,"reputation":11,"user_id":10771690,"display_name":"Raph1mm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661767986,"creation_date":1661678338,"question_id":73517439,"body_markdown":"I have a Spring Boot (Maven) app which I run as &quot;jar&quot; this way:\r\n\r\n```\r\njava  -Dspring.profiles.active=prod -Djavax.net.ssl.keyStore=&#39;/path/to/transport_keystore.jks&#39; -Djavax.net.ssl.keyStorePassword=&#39;xxx&#39; -jar app-1.1.0.jar\r\n```\r\n\r\nIt works perfectly fine this way.\r\n\r\nI need to run this application via IntelliJ (for debugging), so I setup &quot;Run/Debug Configurations&quot;:\r\n\r\n[IntelliJ config][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M4zKK.png\r\n\r\nWhen I run it from IntelliJ, I&#39;ve got: &quot;java.io.FileNotFoundException: &#39;/path/to/transport_keystore.jks&#39; (No such file or directory)&quot; exception error, so app cannot see custom keystore. \r\n\r\nWhat I&#39;m doing wrong?","title":"Running Spring Boot app with custom key store from IntelliJ - &quot;No such file or directory&quot; for key store path","body":"<p>I have a Spring Boot (Maven) app which I run as &quot;jar&quot; this way:</p>\n<pre><code>java  -Dspring.profiles.active=prod -Djavax.net.ssl.keyStore='/path/to/transport_keystore.jks' -Djavax.net.ssl.keyStorePassword='xxx' -jar app-1.1.0.jar\n</code></pre>\n<p>It works perfectly fine this way.</p>\n<p>I need to run this application via IntelliJ (for debugging), so I setup &quot;Run/Debug Configurations&quot;:</p>\n<p><a href=\"https://i.stack.imgur.com/M4zKK.png\" rel=\"nofollow noreferrer\">IntelliJ config</a></p>\n<p>When I run it from IntelliJ, I've got: &quot;java.io.FileNotFoundException: '/path/to/transport_keystore.jks' (No such file or directory)&quot; exception error, so app cannot see custom keystore.</p>\n<p>What I'm doing wrong?</p>\n"},{"tags":["java","serialization","apache-kafka"],"comments":[{"owner":{"account_id":382603,"reputation":9058,"user_id":737936,"accept_rate":77,"display_name":"ravthiru"},"score":0,"creation_date":1481754875,"post_id":41141924,"comment_id":69508741,"body_markdown":"Other option is to convert to JSON format and send","body":"Other option is to convert to JSON format and send"}],"answers":[{"tags":[],"owner":{"account_id":7561534,"reputation":292,"user_id":5738913,"display_name":"Abhishek Kumar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1481719658,"creation_date":1481719658,"answer_id":41143059,"question_id":41141924,"body_markdown":"Since you are using `ByteArraySerializer`,you need to instantiate a byte[] producer.\r\n\r\n    Producer&lt;byte[],byte[]&gt; producer = new KafkaProducer&lt;&gt;(props);\r\nand then while producing pass the byte[] after serializing or some other method,for instance,\r\n\r\n    producer.send(new ProducerRecord&lt;byte[],byte[]&gt;(&quot;test&quot;, new Payload().toString().getBytes()));\r\n\r\nIf you are passing just a Payload Object to the producer then it will be better to have key serializer and value serializer as whatever you intend to pass and while reading you need to read from that data.\r\n\r\nIt is good practice to use Serializable and ByteArraySerializer/ByteArrayDeserializer.\r\n","title":"Send Custom Java Objects to Kafka Topic","body":"<p>Since you are using <code>ByteArraySerializer</code>,you need to instantiate a byte[] producer.</p>\n\n<pre><code>Producer&lt;byte[],byte[]&gt; producer = new KafkaProducer&lt;&gt;(props);\n</code></pre>\n\n<p>and then while producing pass the byte[] after serializing or some other method,for instance,</p>\n\n<pre><code>producer.send(new ProducerRecord&lt;byte[],byte[]&gt;(\"test\", new Payload().toString().getBytes()));\n</code></pre>\n\n<p>If you are passing just a Payload Object to the producer then it will be better to have key serializer and value serializer as whatever you intend to pass and while reading you need to read from that data.</p>\n\n<p>It is good practice to use Serializable and ByteArraySerializer/ByteArrayDeserializer.</p>\n"},{"tags":[],"owner":{"account_id":1509295,"reputation":3758,"user_id":1411812,"accept_rate":63,"display_name":"Vinod Jayachandran"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1661767889,"creation_date":1481779959,"answer_id":41157068,"question_id":41141924,"body_markdown":"We have 2 Options as listed below\r\n\r\n\r\n1) If we intend to send custom java objects to producer, We need to create a serializer which implements **org.apache.kafka.common.serialization.Serializer** and pass that Serializer class during creation of your producer\r\n\r\nCode Reference below\r\n\r\n    public class PayloadSerializer implements org.apache.kafka.common.serialization.Serializer {\r\n    \r\n        public void configure(Map map, boolean b) {\r\n    \r\n        }\r\n    \r\n        public byte[] serialize(String s, Object o) {\r\n           \r\n           try {\r\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                ObjectOutputStream oos = new ObjectOutputStream(baos);\r\n                oos.writeObject(o);\r\n                oos.close();\r\n                byte[] b = baos.toByteArray();\r\n                return b;\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        public void close() {\r\n    \r\n        }\r\n    }\r\n\r\nAnd set the value serializer accordingly\r\n\r\n    &lt;entry key=&quot;value.serializer&quot;\r\n                           value=&quot;com.spring.kafka.PayloadSerializer&quot; /&gt;\r\n\r\n2) No need to create custom serializer class. Use the existing ByteArraySerializer, but during send follow the process \r\n\r\n&gt; Java Object -&gt; String (Preferrably JSON represenation instead of\r\n&gt; toString)-&gt;byteArray","title":"Send Custom Java Objects to Kafka Topic","body":"<p>We have 2 Options as listed below</p>\n<ol>\n<li>If we intend to send custom java objects to producer, We need to create a serializer which implements <strong>org.apache.kafka.common.serialization.Serializer</strong> and pass that Serializer class during creation of your producer</li>\n</ol>\n<p>Code Reference below</p>\n<pre><code>public class PayloadSerializer implements org.apache.kafka.common.serialization.Serializer {\n\n    public void configure(Map map, boolean b) {\n\n    }\n\n    public byte[] serialize(String s, Object o) {\n       \n       try {\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            ObjectOutputStream oos = new ObjectOutputStream(baos);\n            oos.writeObject(o);\n            oos.close();\n            byte[] b = baos.toByteArray();\n            return b;\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public void close() {\n\n    }\n}\n</code></pre>\n<p>And set the value serializer accordingly</p>\n<pre><code>&lt;entry key=&quot;value.serializer&quot;\n                       value=&quot;com.spring.kafka.PayloadSerializer&quot; /&gt;\n</code></pre>\n<ol start=\"2\">\n<li>No need to create custom serializer class. Use the existing ByteArraySerializer, but during send follow the process</li>\n</ol>\n<blockquote>\n<p>Java Object -&gt; String (Preferrably JSON represenation instead of\ntoString)-&gt;byteArray</p>\n</blockquote>\n"}],"owner":{"account_id":1509295,"reputation":3758,"user_id":1411812,"accept_rate":63,"display_name":"Vinod Jayachandran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26720,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":41157068,"answer_count":2,"score":15,"last_activity_date":1661767889,"creation_date":1481716314,"question_id":41141924,"body_markdown":"I have my custom Java Object and wish to leverage JVM&#39;s in built serialization to send it to a Kafka topic, but serialization fails with below error\r\n\r\n&gt; org.apache.kafka.common.errors.SerializationException: Can&#39;t convert\r\n&gt; value of class com.spring.kafka.Payload to class\r\n&gt; org.apache.kafka.common.serialization.ByteArraySerializer specified in\r\n&gt; value.serializer\r\n\r\n**Payload.java**\r\n\r\n    public class Payload implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 123L;\r\n    \r\n        private String name=&quot;vinod&quot;;\r\n    \r\n        private int anInt = 5;\r\n    \r\n        private Double aDouble = new Double(&quot;5.0&quot;);\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getAnInt() {\r\n            return anInt;\r\n        }\r\n    \r\n        public void setAnInt(int anInt) {\r\n            this.anInt = anInt;\r\n        }\r\n    \r\n        public Double getaDouble() {\r\n            return aDouble;\r\n        }\r\n    \r\n        public void setaDouble(Double aDouble) {\r\n            this.aDouble = aDouble;\r\n        }\r\n    \r\n    }\r\n\r\nDuring my creation of producer, I have the following properties set\r\n\r\n    &lt;entry key=&quot;key.serializer&quot;\r\n                           value=&quot;org.apache.kafka.common.serialization.ByteArraySerializer&quot; /&gt;\r\n                    &lt;entry key=&quot;value.serializer&quot;\r\n                           value=&quot;org.apache.kafka.common.serialization.ByteArraySerializer&quot; /&gt;\r\n\r\nMy send invoke is as below\r\n\r\n    kafkaProducer.send(new ProducerRecord&lt;String, Payload&gt;(&quot;test&quot;, new Payload()));\r\n\r\nWhat is correct way to send a custom java object through a producer to a kafka topic ?","title":"Send Custom Java Objects to Kafka Topic","body":"<p>I have my custom Java Object and wish to leverage JVM's in built serialization to send it to a Kafka topic, but serialization fails with below error</p>\n\n<blockquote>\n  <p>org.apache.kafka.common.errors.SerializationException: Can't convert\n  value of class com.spring.kafka.Payload to class\n  org.apache.kafka.common.serialization.ByteArraySerializer specified in\n  value.serializer</p>\n</blockquote>\n\n<p><strong>Payload.java</strong></p>\n\n<pre><code>public class Payload implements Serializable {\n\n    private static final long serialVersionUID = 123L;\n\n    private String name=\"vinod\";\n\n    private int anInt = 5;\n\n    private Double aDouble = new Double(\"5.0\");\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAnInt() {\n        return anInt;\n    }\n\n    public void setAnInt(int anInt) {\n        this.anInt = anInt;\n    }\n\n    public Double getaDouble() {\n        return aDouble;\n    }\n\n    public void setaDouble(Double aDouble) {\n        this.aDouble = aDouble;\n    }\n\n}\n</code></pre>\n\n<p>During my creation of producer, I have the following properties set</p>\n\n<pre><code>&lt;entry key=\"key.serializer\"\n                       value=\"org.apache.kafka.common.serialization.ByteArraySerializer\" /&gt;\n                &lt;entry key=\"value.serializer\"\n                       value=\"org.apache.kafka.common.serialization.ByteArraySerializer\" /&gt;\n</code></pre>\n\n<p>My send invoke is as below</p>\n\n<pre><code>kafkaProducer.send(new ProducerRecord&lt;String, Payload&gt;(\"test\", new Payload()));\n</code></pre>\n\n<p>What is correct way to send a custom java object through a producer to a kafka topic ?</p>\n"},{"tags":["java","android","android-studio","android-fragments","android-recyclerview"],"comments":[{"owner":{"account_id":13367928,"reputation":2165,"user_id":9647447,"display_name":"Vanshaj Daga"},"score":0,"creation_date":1661017241,"post_id":73426528,"comment_id":129672861,"body_markdown":"Can you kindly share your code for helping you with best option available. Regard","body":"Can you kindly share your code for helping you with best option available. Regard"},{"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"score":0,"creation_date":1661020666,"post_id":73426528,"comment_id":129673541,"body_markdown":"This is called communication between fragments. https://developer.android.com/guide/fragments/communicate","body":"This is called communication between fragments. <a href=\"https://developer.android.com/guide/fragments/communicate\" rel=\"nofollow noreferrer\">developer.android.com/guide/fragments/communicate</a>"},{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1661097121,"post_id":73426528,"comment_id":129685376,"body_markdown":"@VanshajDaga I have already shared it.","body":"@VanshajDaga I have already shared it."},{"owner":{"account_id":13367928,"reputation":2165,"user_id":9647447,"display_name":"Vanshaj Daga"},"score":0,"creation_date":1661115336,"post_id":73426528,"comment_id":129689263,"body_markdown":"Best practice would be to add a function which has a loop for the length of the data adding the values and the amount from 0. Run this function at the last line of afterTextChanged and Remove button. Adding and substracting is not a good option, recalculate in loop will keep you out of trouble","body":"Best practice would be to add a function which has a loop for the length of the data adding the values and the amount from 0. Run this function at the last line of afterTextChanged and Remove button. Adding and substracting is not a good option, recalculate in loop will keep you out of trouble"},{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1661148733,"post_id":73426528,"comment_id":129693727,"body_markdown":"@VanshajDaga I am new to android dev.. if you can share me any sample code it would be benificial for me","body":"@VanshajDaga I am new to android dev.. if you can share me any sample code it would be benificial for me"},{"owner":{"account_id":14961787,"reputation":264,"user_id":10801322,"display_name":"Waqas Yousaf"},"score":0,"creation_date":1661232578,"post_id":73426528,"comment_id":129715855,"body_markdown":"Every time you click the (add new  product) a new card added in recyclerview . you should check on click of (add new product) that if this item is already added then you should edit it or update it .","body":"Every time you click the (add new  product) a new card added in recyclerview . you should check on click of (add new product) that if this item is already added then you should edit it or update it ."}],"answers":[{"tags":[],"owner":{"account_id":14961787,"reputation":264,"user_id":10801322,"display_name":"Waqas Yousaf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661255543,"creation_date":1661232763,"answer_id":73453585,"question_id":73426528,"body_markdown":" implement interface between adapter and fragment like this (it is just sodu to tell how you have to implement things  also you have to check it out how to implement interfaces \r\n\r\n===============================================================\r\n\r\n\r\n\r\n    public frgment extends Fragment implements GetValueInterface{\r\n    \r\n    in onCreate function{\r\n    int totalquantity;\r\n    \r\n    call this after adapter initialization \r\n    adapter.registergetValueInterface(this)\r\n    \r\n    }\r\n    \r\n     \r\n    @Override Void setQuantity(Int _gotquantity){\r\n    _gotquantity+=_gotquantity;\r\n    totalquantityedittext.setText(_gotquantity,TextView.BufferType.EDITABLE)\r\n    \r\n    \r\n    }\r\n    \r\n    }\r\n\r\nand in adapter class\r\n\r\n    Adapter class\r\n    {\r\n    \r\n    public GetValueInterface instance;\r\n    \r\n    function registergetValueInterface(GetValueInterface obj){\r\n    \r\n    instance=obj;\r\n    \r\n    }\r\n    \r\n    \r\n     //and in quantity edittext text watcher \r\n    \r\n    call instance.setQuantity(quanity)\r\n    \r\n    }\r\n\r\nlike this you can minus the quantity as well on removal of item \r\n\r\n\r\n","title":"How to update edittext whenever a quantity is added in android studio","body":"<p>implement interface between adapter and fragment like this (it is just sodu to tell how you have to implement things  also you have to check it out how to implement interfaces</p>\n<p>===============================================================</p>\n<pre><code>public frgment extends Fragment implements GetValueInterface{\n\nin onCreate function{\nint totalquantity;\n\ncall this after adapter initialization \nadapter.registergetValueInterface(this)\n\n}\n\n \n@Override Void setQuantity(Int _gotquantity){\n_gotquantity+=_gotquantity;\ntotalquantityedittext.setText(_gotquantity,TextView.BufferType.EDITABLE)\n\n\n}\n\n}\n</code></pre>\n<p>and in adapter class</p>\n<pre><code>Adapter class\n{\n\npublic GetValueInterface instance;\n\nfunction registergetValueInterface(GetValueInterface obj){\n\ninstance=obj;\n\n}\n\n\n //and in quantity edittext text watcher \n\ncall instance.setQuantity(quanity)\n\n}\n</code></pre>\n<p>like this you can minus the quantity as well on removal of item</p>\n"},{"tags":[],"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661252503,"creation_date":1661252503,"answer_id":73457545,"question_id":73426528,"body_markdown":"I will disappoint you by not sharing code. I will share you a simple graphic of what you need to do.\r\n\r\n* [`Fragment`]: displays your list of orders. When an event is triggered (user tapped something or changed something), forwards this event to a ViewModel. Also _Observes_ for the ViewModel data **state**.\r\n\r\n* [`ViewModel`]: exposes a series of functions to listen for user events (e.g. the user tapped this order, or the user changed the quantity of this order to NN, etc.). Also offers a `LiveData` (or `Flow`) with the **State** and **Data** your Fragment needs. Maybe even talks to the repository where this data originates from (where you save your Orders in your persistent or backend).\r\n\r\n### Interactions:\r\nWhen the UI modified *something*, you tell the viewModel: &quot;This data changed, the order X, now has a quantity of Y&quot;. \r\nThe ViewModel will process this, update the `State` of the screen, and send the new data via your `Livedata/Flow` that the Fragment observes.\r\nWhen the Fragment receives this new data, it will update the UI accordingly, as that&#39;s its most important job.\r\n\r\nThis whole thing has been greatly [documented in the official Android recommended architecture guides](https://developer.android.com/topic/architecture). I suggest you start from there instead of trying to fight the framework and making your life more complicated. \r\n\r\n","title":"How to update edittext whenever a quantity is added in android studio","body":"<p>I will disappoint you by not sharing code. I will share you a simple graphic of what you need to do.</p>\n<ul>\n<li><p>[<code>Fragment</code>]: displays your list of orders. When an event is triggered (user tapped something or changed something), forwards this event to a ViewModel. Also <em>Observes</em> for the ViewModel data <strong>state</strong>.</p>\n</li>\n<li><p>[<code>ViewModel</code>]: exposes a series of functions to listen for user events (e.g. the user tapped this order, or the user changed the quantity of this order to NN, etc.). Also offers a <code>LiveData</code> (or <code>Flow</code>) with the <strong>State</strong> and <strong>Data</strong> your Fragment needs. Maybe even talks to the repository where this data originates from (where you save your Orders in your persistent or backend).</p>\n</li>\n</ul>\n<h3>Interactions:</h3>\n<p>When the UI modified <em>something</em>, you tell the viewModel: &quot;This data changed, the order X, now has a quantity of Y&quot;.\nThe ViewModel will process this, update the <code>State</code> of the screen, and send the new data via your <code>Livedata/Flow</code> that the Fragment observes.\nWhen the Fragment receives this new data, it will update the UI accordingly, as that's its most important job.</p>\n<p>This whole thing has been greatly <a href=\"https://developer.android.com/topic/architecture\" rel=\"nofollow noreferrer\">documented in the official Android recommended architecture guides</a>. I suggest you start from there instead of trying to fight the framework and making your life more complicated.</p>\n"},{"tags":[],"owner":{"account_id":3720263,"reputation":1076,"user_id":3095500,"display_name":"utrucceh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661266040,"creation_date":1661266040,"answer_id":73460801,"question_id":73426528,"body_markdown":"Actually it&#39;s releated with Interactions like `LiveData`. \r\n\r\nBut rather than write a looot of code, simply I&#39;m passing runnable to childs for call it when somethink changed :)\r\n\r\nFor example:\r\n\r\n    class Root{\r\n       ...\r\n       public void addItem(){\r\n          ItemController cont = new ItemController(() -&gt; updateSums());\r\n          ...\r\n       }\r\n    \r\n       public void updateSums(){\r\n          //TODO\r\n       }\r\n    }\r\n    \r\n    class ItemController{\r\n       Runnable updater;\r\n       public ItemController(Runnable updater){\r\n          this.updater = updater;\r\n       }\r\n       public void onSomethingChanged(){\r\n          updater.run();\r\n       }\r\n    }\r\n\r\n","title":"How to update edittext whenever a quantity is added in android studio","body":"<p>Actually it's releated with Interactions like <code>LiveData</code>.</p>\n<p>But rather than write a looot of code, simply I'm passing runnable to childs for call it when somethink changed :)</p>\n<p>For example:</p>\n<pre><code>class Root{\n   ...\n   public void addItem(){\n      ItemController cont = new ItemController(() -&gt; updateSums());\n      ...\n   }\n\n   public void updateSums(){\n      //TODO\n   }\n}\n\nclass ItemController{\n   Runnable updater;\n   public ItemController(Runnable updater){\n      this.updater = updater;\n   }\n   public void onSomethingChanged(){\n      updater.run();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7004992,"reputation":728,"user_id":5369727,"display_name":"Aorlinn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661592753,"creation_date":1661464997,"answer_id":73494115,"question_id":73426528,"body_markdown":"You should work with [LiveData][1] and [DataBinding][2]\r\n\r\nIn order to do so you activate it in your build.gradle file:\r\n\r\n    android {\r\n        ...\r\n        buildFeatures {\r\n            dataBinding true\r\n        }\r\n    }\r\n\r\nThen add the following code.\r\n\r\nAdd a ViewModel class:\r\n\r\n    public class ViewModel extends AndroidViewModel\r\n    {\r\n    \tprivate final MediatorLiveData&lt;Integer&gt; mTotalQuantity = new MediatorLiveData&lt;&gt;();\r\n    \tprivate final MediatorLiveData&lt;Integer&gt; mTotalOrder = new MediatorLiveData&lt;&gt;();\r\n    \tprivate final List&lt;LiveData&lt;Integer&gt;&gt; mOrders = new ArrayList&lt;&gt;();\r\n    \tprivate final List&lt;LiveData&lt;Integer&gt;&gt; mQuantities = new ArrayList&lt;&gt;();\r\n    \r\n    \tpublic ViewModel(@NonNull Application application)\r\n    \t{\r\n    \t\tsuper(application);\r\n    \t\tmTotalOrder.setValue(0);\r\n    \t\tmTotalQuantity.setValue(0);\r\n    \t}\r\n    \r\n    \tpublic LiveData&lt;Integer&gt; getTotal()\r\n    \t{\r\n    \t\treturn mTotalOrder;\r\n    \t}\r\n    \r\n    \tpublic LiveData&lt;Integer&gt; getQuantity()\r\n    \t{\r\n    \t\treturn mTotalQuantity;\r\n    \t}\r\n    \r\n    \tpublic void attachQuantity(LiveData&lt;Integer&gt; quantity)\r\n    \t{\r\n    \t\tmQuantities.add(quantity);\r\n    \t\tmTotalQuantity.addSource(quantity, (q) -&gt; calculateQuantities());\r\n    \t}\r\n    \r\n    \tpublic void detachQuantity(LiveData&lt;Integer&gt; quantity)\r\n    \t{\r\n    \t\tmQuantities.remove(quantity);\r\n    \t\tmTotalQuantity.removeSource(quantity);\r\n    \t\tcalculateQuantities();\r\n    \t}\r\n    \r\n    \tprivate void calculateQuantities()\r\n    \t{\r\n    \t\tint total = 0;\r\n    \t\tfor (LiveData&lt;Integer&gt; quantity : mQuantities)\r\n    \t\t{\r\n    \t\t\tInteger value = quantity.getValue();\r\n    \t\t\tif (value != null)\r\n    \t\t\t{\r\n    \t\t\t\ttotal += value;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tmTotalQuantity.setValue(total);\r\n    \t}\r\n    \r\n    \tpublic void attachTotal(LiveData&lt;Integer&gt; total)\r\n    \t{\r\n    \t\tmOrders.add(total);\r\n    \t\tmTotalOrder.addSource(total, (q) -&gt; calculateOrders());\r\n    \t}\r\n    \r\n    \tpublic void detachTotal(LiveData&lt;Integer&gt; total)\r\n    \t{\r\n    \t\tmOrders.remove(total);\r\n    \t\tmTotalOrder.removeSource(total);\r\n    \t\tcalculateOrders();\r\n    \t}\r\n    \r\n    \tprivate void calculateOrders()\r\n    \t{\r\n    \t\tint total = 0;\r\n    \t\tfor (LiveData&lt;Integer&gt; order : mOrders)\r\n    \t\t{\r\n    \t\t\tInteger value = order.getValue();\r\n    \t\t\tif (value != null)\r\n    \t\t\t{\r\n    \t\t\t\ttotal += value;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tmTotalOrder.setValue(total);\r\n    \t}\r\n    }\r\n\r\nIn your fragment class add the following:\r\n\r\n\tprivate LiveData&lt;Integer&gt; mQuantity = new MutableLiveData&lt;&gt;(0);\r\n\tprivate LiveData&lt;Integer&gt; mOrderValue = new MutableLiveData&lt;&gt;(0);\r\n\tprivate ViewModel mViewModel;\r\n\tprivate FragmentBinding mBinding;\r\n\r\n\t@Override\r\n\tpublic void onCreate(@Nullable Bundle savedInstanceState)\r\n\t{\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tmViewModel = new ViewModelProvider(requireActivity()).get(ViewModel.class);\r\n\t\tmViewModel.attachQuantity(mQuantity);\r\n\t\tmViewModel.attachTotal(mOrderValue);\r\n\t}\r\n\r\n\t@Nullable\r\n\t@Override\r\n\tpublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState)\r\n\t{\r\n\t\tmBinding = DataBindingUtil.setContentView(this, R.layout.fragment);\r\n\t\tmBinding.quantity = mQuantity;\r\n\t\tmBinding.order_value = mOrderValue;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onDestroy()\r\n\t{\r\n\t\tsuper.onDestroy();\r\n\t\tmViewModel.detachQuantity(mQuantity);\r\n\t\tmViewModel.detachTotal(mOrderValue);\r\n\t}\r\n\r\nAdd this to your product layout:\r\n\r\n    &lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n        &lt;data&gt;\r\n    \r\n            &lt;variable\r\n                name=&quot;quantity&quot;\r\n                type=&quot;android.arch.lifecycle.MutableLiveData&amp;lt;Integer&amp;gt;&quot; /&gt;\r\n    \r\n            &lt;variable\r\n                name=&quot;order_value&quot;\r\n                type=&quot;android.arch.lifecycle.MutableLiveData&amp;lt;Integer&amp;gt;&quot; /&gt;\r\n        &lt;/data&gt;\r\n    \t\t\t...\r\n    \r\n    \t\t\t&lt;EditText\r\n    \t\t\t\tandroid:id=&quot;@+id/prod_qty&quot;\r\n    \t\t\t\t\r\n    \t\t\t\t// This does the magic\r\n    \t\t\t\tandroid:text=&quot;@{quantity}&quot; /&gt;\r\n    \t\t\t...\r\n    \r\n    \t\t\t&lt;EditText\r\n    \t\t\t\tandroid:id=&quot;@+id/prod_price&quot;\r\n    \t\t\t\t\r\n    \t\t\t\t// And this of course...\r\n    \t\t\t\tandroid:text=&quot;@{order_value}&quot; /&gt;\r\n    \t\t\t...\r\n    &lt;/layout&gt;\r\n\r\nAnd this to your fragment layout:\r\n\r\n    &lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \t&lt;data&gt;\r\n    \r\n            &lt;variable\r\n                name=&quot;viewmodel&quot;\r\n                type=&quot;yourpackage.ViewModel&quot; /&gt;\r\n        &lt;/data&gt;\r\n    \t\t\t...\r\n    \r\n    \t\t\t&lt;EditText\r\n    \t\t\t\tandroid:id=&quot;@+id/total_qty&quot;\r\n    \t\t\t\t\r\n    \t\t\t\t// This does the magic\r\n    \t\t\t\tandroid:text=&quot;@{viewmodel.quantity}&quot; /&gt;\r\n    \t\t\t...\r\n    \r\n    \t\t\t&lt;EditText\r\n    \t\t\t\tandroid:id=&quot;@+id/order_value&quot;\r\n    \t\t\t\t\r\n    \t\t\t\t// And this of course..\r\n    \t\t\t\tandroid:text=&quot;@{viewmodel.total}&quot; /&gt;\r\n    \t\t\t...\r\n    &lt;/layout&gt;\r\n\r\nNote that in both classes you need to get the viewmodel from the **activity, not from the fragment** itself, so you share the same viewmodel for both classes:\r\n\r\n    ViewModelProvider(requireActivity()).get(ViewModel.class);\r\n\r\nIf you only get values of LiveData objects from within the UI Thread (which is the case in my code, as onChange of LiveData and binding updates are always called from the UI thread), you do not need to synchronize the lists in the ViewModel. Otherwise you need to make the whole story thread safe.\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/livedata\r\n  [2]: https://developer.android.com/topic/libraries/data-binding","title":"How to update edittext whenever a quantity is added in android studio","body":"<p>You should work with <a href=\"https://developer.android.com/topic/libraries/architecture/livedata\" rel=\"nofollow noreferrer\">LiveData</a> and <a href=\"https://developer.android.com/topic/libraries/data-binding\" rel=\"nofollow noreferrer\">DataBinding</a></p>\n<p>In order to do so you activate it in your build.gradle file:</p>\n<pre><code>android {\n    ...\n    buildFeatures {\n        dataBinding true\n    }\n}\n</code></pre>\n<p>Then add the following code.</p>\n<p>Add a ViewModel class:</p>\n<pre><code>public class ViewModel extends AndroidViewModel\n{\n    private final MediatorLiveData&lt;Integer&gt; mTotalQuantity = new MediatorLiveData&lt;&gt;();\n    private final MediatorLiveData&lt;Integer&gt; mTotalOrder = new MediatorLiveData&lt;&gt;();\n    private final List&lt;LiveData&lt;Integer&gt;&gt; mOrders = new ArrayList&lt;&gt;();\n    private final List&lt;LiveData&lt;Integer&gt;&gt; mQuantities = new ArrayList&lt;&gt;();\n\n    public ViewModel(@NonNull Application application)\n    {\n        super(application);\n        mTotalOrder.setValue(0);\n        mTotalQuantity.setValue(0);\n    }\n\n    public LiveData&lt;Integer&gt; getTotal()\n    {\n        return mTotalOrder;\n    }\n\n    public LiveData&lt;Integer&gt; getQuantity()\n    {\n        return mTotalQuantity;\n    }\n\n    public void attachQuantity(LiveData&lt;Integer&gt; quantity)\n    {\n        mQuantities.add(quantity);\n        mTotalQuantity.addSource(quantity, (q) -&gt; calculateQuantities());\n    }\n\n    public void detachQuantity(LiveData&lt;Integer&gt; quantity)\n    {\n        mQuantities.remove(quantity);\n        mTotalQuantity.removeSource(quantity);\n        calculateQuantities();\n    }\n\n    private void calculateQuantities()\n    {\n        int total = 0;\n        for (LiveData&lt;Integer&gt; quantity : mQuantities)\n        {\n            Integer value = quantity.getValue();\n            if (value != null)\n            {\n                total += value;\n            }\n        }\n        mTotalQuantity.setValue(total);\n    }\n\n    public void attachTotal(LiveData&lt;Integer&gt; total)\n    {\n        mOrders.add(total);\n        mTotalOrder.addSource(total, (q) -&gt; calculateOrders());\n    }\n\n    public void detachTotal(LiveData&lt;Integer&gt; total)\n    {\n        mOrders.remove(total);\n        mTotalOrder.removeSource(total);\n        calculateOrders();\n    }\n\n    private void calculateOrders()\n    {\n        int total = 0;\n        for (LiveData&lt;Integer&gt; order : mOrders)\n        {\n            Integer value = order.getValue();\n            if (value != null)\n            {\n                total += value;\n            }\n        }\n        mTotalOrder.setValue(total);\n    }\n}\n</code></pre>\n<p>In your fragment class add the following:</p>\n<pre><code>private LiveData&lt;Integer&gt; mQuantity = new MutableLiveData&lt;&gt;(0);\nprivate LiveData&lt;Integer&gt; mOrderValue = new MutableLiveData&lt;&gt;(0);\nprivate ViewModel mViewModel;\nprivate FragmentBinding mBinding;\n\n@Override\npublic void onCreate(@Nullable Bundle savedInstanceState)\n{\n    super.onCreate(savedInstanceState);\n    mViewModel = new ViewModelProvider(requireActivity()).get(ViewModel.class);\n    mViewModel.attachQuantity(mQuantity);\n    mViewModel.attachTotal(mOrderValue);\n}\n\n@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState)\n{\n    mBinding = DataBindingUtil.setContentView(this, R.layout.fragment);\n    mBinding.quantity = mQuantity;\n    mBinding.order_value = mOrderValue;\n}\n\n@Override\npublic void onDestroy()\n{\n    super.onDestroy();\n    mViewModel.detachQuantity(mQuantity);\n    mViewModel.detachTotal(mOrderValue);\n}\n</code></pre>\n<p>Add this to your product layout:</p>\n<pre><code>&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n    &lt;data&gt;\n\n        &lt;variable\n            name=&quot;quantity&quot;\n            type=&quot;android.arch.lifecycle.MutableLiveData&amp;lt;Integer&amp;gt;&quot; /&gt;\n\n        &lt;variable\n            name=&quot;order_value&quot;\n            type=&quot;android.arch.lifecycle.MutableLiveData&amp;lt;Integer&amp;gt;&quot; /&gt;\n    &lt;/data&gt;\n            ...\n\n            &lt;EditText\n                android:id=&quot;@+id/prod_qty&quot;\n                \n                // This does the magic\n                android:text=&quot;@{quantity}&quot; /&gt;\n            ...\n\n            &lt;EditText\n                android:id=&quot;@+id/prod_price&quot;\n                \n                // And this of course...\n                android:text=&quot;@{order_value}&quot; /&gt;\n            ...\n&lt;/layout&gt;\n</code></pre>\n<p>And this to your fragment layout:</p>\n<pre><code>&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n    &lt;data&gt;\n\n        &lt;variable\n            name=&quot;viewmodel&quot;\n            type=&quot;yourpackage.ViewModel&quot; /&gt;\n    &lt;/data&gt;\n            ...\n\n            &lt;EditText\n                android:id=&quot;@+id/total_qty&quot;\n                \n                // This does the magic\n                android:text=&quot;@{viewmodel.quantity}&quot; /&gt;\n            ...\n\n            &lt;EditText\n                android:id=&quot;@+id/order_value&quot;\n                \n                // And this of course..\n                android:text=&quot;@{viewmodel.total}&quot; /&gt;\n            ...\n&lt;/layout&gt;\n</code></pre>\n<p>Note that in both classes you need to get the viewmodel from the <strong>activity, not from the fragment</strong> itself, so you share the same viewmodel for both classes:</p>\n<pre><code>ViewModelProvider(requireActivity()).get(ViewModel.class);\n</code></pre>\n<p>If you only get values of LiveData objects from within the UI Thread (which is the case in my code, as onChange of LiveData and binding updates are always called from the UI thread), you do not need to synchronize the lists in the ViewModel. Otherwise you need to make the whole story thread safe.</p>\n"},{"tags":[],"owner":{"account_id":2558875,"reputation":1292,"user_id":2220318,"accept_rate":83,"display_name":"Rahul Shukla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661767614,"creation_date":1661767614,"answer_id":73527195,"question_id":73426528,"body_markdown":"It is easy to understand that you want to take action when changing the value in a text field. So the first thing is to add a TextChangeListener or TextWatcher. Then, you have to work on the received text value to update the rest of the dependencies: Your product list or whatever it is.\r\n\r\nJust a few basic things you need to take care of:\r\n\r\n1. If you are working with fragment communication, propagate your changes by reloading in onResume of the fragment or activity. Or you can use EventBus or any other suitable mechanism.\r\n\r\n2. Be sure to notify the adapter once you have changed the underlying data. I see a call to &quot;notify**&quot; after your code mProducts.get(position).setQuantity(val); is missing in your Product adapter. When modifying the underlying data, it is necessary to notify the adapter using &quot;notify**&quot; calls to update the recycler view.\r\n\r\n3. The MutableLiveData error you posted above can be cleared with MutableLiveData declaration such as private final MutableLiveData&lt;Integer&gt; mutableData = new MutableLiveData&lt;Integer&gt;(0) in your case. You can have a function to just return LiveData&lt;Integer&gt; as LiveData&lt;Integer&gt; getData() { return mutableData; } \r\n\r\n","title":"How to update edittext whenever a quantity is added in android studio","body":"<p>It is easy to understand that you want to take action when changing the value in a text field. So the first thing is to add a TextChangeListener or TextWatcher. Then, you have to work on the received text value to update the rest of the dependencies: Your product list or whatever it is.</p>\n<p>Just a few basic things you need to take care of:</p>\n<ol>\n<li><p>If you are working with fragment communication, propagate your changes by reloading in onResume of the fragment or activity. Or you can use EventBus or any other suitable mechanism.</p>\n</li>\n<li><p>Be sure to notify the adapter once you have changed the underlying data. I see a call to &quot;notify**&quot; after your code mProducts.get(position).setQuantity(val); is missing in your Product adapter. When modifying the underlying data, it is necessary to notify the adapter using &quot;notify**&quot; calls to update the recycler view.</p>\n</li>\n<li><p>The MutableLiveData error you posted above can be cleared with MutableLiveData declaration such as private final MutableLiveData mutableData = new MutableLiveData(0) in your case. You can have a function to just return LiveData as LiveData getData() { return mutableData; }</p>\n</li>\n</ol>\n"}],"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1080,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":5,"score":4,"last_activity_date":1661767614,"creation_date":1660996752,"question_id":73426528,"body_markdown":"I am working on android studio. I am using fragments to make the app workflow. The app is basically for order taking. One customer can have more than one order. So for it, I have used [RecyclerView][1]. Below is my GUI\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**What do I want to do?**\r\n\r\nI want to update my `Total Qty` and `Order Value` in such a way that whenever the user enters the quantity both `edittexts` should be updated. For example, in the above image, I searched for one product, its rate is **287.30** and when I entered the quantity **5** then `Total Qty: 5` and `Order Value: 287.30`. After that, I select another product and enter its quantity 8 then both edit text should be updated like `Total Qty: 13` and `Order Value: 509.15`, and when I remove any product then it should subtract the total quantity and order value.\r\n\r\nThe `Total Qty: ` and `Order Value: ` is in my main fragment. Below is my code\r\n\r\n\r\n**Fragment Layout**\r\n            \r\n\r\n              &lt;LinearLayout\r\n              android:layout_width=&quot;match_parent&quot;\r\n              android:layout_height=&quot;wrap_content&quot;\r\n              android:layout_gravity=&quot;center&quot;\r\n              android:orientation=&quot;vertical&quot;&gt;\r\n                &lt;android.support.v7.widget.RecyclerView\r\n                    android:id=&quot;@+id/products&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center_horizontal&quot;\r\n                    android:focusable=&quot;true&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/product_info&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;10sp&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/tv_product&quot;&gt;\r\n\r\n\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;.5&quot;\r\n                    android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                    &lt;TextView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n\r\n                        android:text=&quot;Total Qty:&quot; /&gt;\r\n\r\n                    &lt;EditText\r\n                        android:id=&quot;@+id/total_qty&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:editable=&quot;false&quot;\r\n                        android:focusable=&quot;false&quot;\r\n                        android:focusableInTouchMode=&quot;false&quot;\r\n                        android:gravity=&quot;center_horizontal&quot;\r\n                        android:hint=&quot;&quot;\r\n                        android:inputType=&quot;number&quot; /&gt;\r\n                &lt;/LinearLayout&gt;\r\n\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;.5&quot;\r\n                    android:orientation=&quot;horizontal&quot;&gt;\r\n                    &lt;TextView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n\r\n                        android:text=&quot;Order Value :&quot; /&gt;\r\n                    &lt;EditText\r\n                        android:id=&quot;@+id/order_value&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:editable=&quot;false&quot;\r\n                        android:focusable=&quot;false&quot;\r\n                        android:focusableInTouchMode=&quot;false&quot;\r\n                        android:gravity=&quot;center_horizontal&quot;\r\n                        android:hint=&quot;&quot;\r\n                        android:inputType=&quot;none&quot; /&gt;\r\n\r\n                &lt;/LinearLayout&gt;\r\n\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n**Fragment Code**\r\n\r\n    // created getter setters\r\n    public EditText totalQty,totalOrder;\r\n    public EditText getTotalQty(){\r\n        return totalQty;\r\n    }\r\n\r\n    public void setTotalQty(EditText et){\r\n        this.totalQty = et;\r\n    }\r\n\r\n    public EditText getTotalOrder(){return totalOrder;}\r\n\r\n    public void setTotalOrder(EditText ett){this.totalOrder=ett;}\r\n     addProduct.setOnClickListener(v -&gt; {\r\n            mProducts.add(new ProductDetail());\r\n            mProductsAdapter.setProducts(mProducts);\r\n            productsRecyclerView.smoothScrollToPosition(mProducts.size() - 1);\r\n        });\r\n\r\n\r\n**Product Layout**\r\n\r\n    &lt;AutoCompleteTextView\r\n        android:id=&quot;@+id/tv_product&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;10sp&quot;\r\n        android:gravity=&quot;start&quot;\r\n        android:hint=&quot;Enter Product&quot;\r\n        android:inputType=&quot;text&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/product_info&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;10sp&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/tv_product&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;.5&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/prod_qty&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:editable=&quot;false&quot;\r\n                android:focusable=&quot;true&quot;\r\n                android:focusableInTouchMode=&quot;true&quot;\r\n                android:gravity=&quot;left&quot;\r\n                android:hint=&quot;Enter Quantity&quot;\r\n                android:inputType=&quot;number&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;.5&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/prod_price&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:editable=&quot;false&quot;\r\n                android:focusable=&quot;false&quot;\r\n                android:focusableInTouchMode=&quot;false&quot;\r\n                android:gravity=&quot;left&quot;\r\n                android:hint=&quot;Prod Price&quot;\r\n                android:inputType=&quot;numberDecimal&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;.5&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/prod_specs&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:editable=&quot;false&quot;\r\n                android:focusable=&quot;false&quot;\r\n                android:focusableInTouchMode=&quot;false&quot;\r\n                android:gravity=&quot;left&quot;\r\n                android:hint=&quot;Prod Specs&quot;\r\n                android:inputType=&quot;none&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n    \r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_rmv&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;1dp&quot;\r\n        android:layout_marginBottom=&quot;1dp&quot;\r\n        android:text=&quot;Remove Product&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/product_infos&quot; /&gt;\r\n\r\n**Product Adapter**\r\n\r\n    View productView = inflater.inflate(R.layout.product_layout, parent, false);\r\n    ProductViewHolder viewHolder = new ProductViewHolder(productView);\r\n    viewHolder.tvProduct.setAdapter(prodAdapter);\r\n    viewHolder.tvProduct.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count)\r\n            {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n                mProductManager = new ProductManager(context);\r\n                int position = viewHolder.getAdapterPosition();\r\n                if (position != -1) {\r\n                    ProductDetail productDetail = mProductManager.getProductByPrdName(s.toString());\r\n                    mProducts.get(position).setProductNameFull(s.toString());\r\n                    viewHolder.price.setText(productDetail.getPrice());\r\n                    viewHolder.spec.setText(productDetail.getProductSpec());\r\n                    viewHolder.pgrp.setText(productDetail.getProductGroup());\r\n                    viewHolder.ccode.setText(productDetail.getCompanyCode());\r\n                    viewHolder.cname.setText(productDetail.getCompanyName());\r\n                    viewHolder.pcode.setText(productDetail.getProductCode());\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n     viewHolder.quantity.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n                int position = viewHolder.getAdapterPosition();\r\n                if (position != -1) {\r\n                    Integer val = null;\r\n                    try {\r\n                        val = Integer.valueOf(s.toString());\r\n                    } catch (Exception e) {\r\n                    }\r\n                    mProducts.get(position).setQuantity(val);\r\n\r\n                }\r\n            }\r\n        });\r\n    viewHolder.removeBtn.setOnClickListener(v -&gt; {\r\n            int position = viewHolder.getAdapterPosition();\r\n            if (position != -1) {\r\n                mProducts.remove(position);\r\n                notifyItemRemoved(position);\r\n            }\r\n        });\r\n    return viewHolder;\r\n\r\n**Update 1**\r\n\r\nBelow is my `Fragment Class`\r\n\r\n    public class SurveyFormFragment extends Fragment {\r\n      .\r\n      .\r\n      .\r\n      .\r\n       private final LiveData&lt;Integer&gt; mQuantity = new MutableLiveData&lt;&gt;(0);\r\n       private final LiveData&lt;Integer&gt; mOrderValue = new MutableLiveData&lt;&gt;(0);\r\n       private ViewModel mViewModel;\r\n       private FragmentBinding mBinding;\r\n        @RequiresApi(api = Build.VERSION_CODES.M)\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        Log.d(&quot;myfragment&quot;, &quot;onCreateView&quot;);\r\n        getActivity().setTitle(getString(R.string.title_new_survey));\r\n        mContext = getActivity();\r\n\r\n        if (view == null) {\r\n            view = inflater.inflate(R.layout.new_survey_form_layout, container, false);\r\n            mLinearLayout = view.findViewById(R.id.ll_prod);\r\n\r\n\r\n\r\n            this.initElements(view);\r\n\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                this.initListeners(getActivity());\r\n            }\r\n\r\n            Bundle arguments = getArguments();\r\n            if (arguments != null &amp;&amp; arguments.containsKey(&quot;booking_id&quot;)) {\r\n                isNewSurvey = false;\r\n                initSurveyData(arguments.getString(&quot;booking_id&quot;));\r\n                this.updatingSurveyId = arguments.getString(&quot;booking_id&quot;);\r\n\r\n            }\r\n        }\r\n        Log.d(&quot;package&quot;, getActivity().getPackageName());\r\n        Log.d(TAG, Common.getCarrierName(getActivity()));\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n    }\r\n\r\n    @Override\r\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n        super.onActivityCreated(savedInstanceState);\r\n        Log.d(&quot;myfragment&quot;, &quot;onActivityCreated&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setRetainInstance(true);\r\n        IntentFilter filter = new IntentFilter(BluetoothAdapter.ACTION_STATE_CHANGED);\r\n\r\n        Log.d(&quot;myfragment&quot;, &quot;onCreate&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        Log.d(&quot;myfragment&quot;, &quot;onDestroy&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onSaveInstanceState(Bundle savedInstanceState) {\r\n        //save now\r\n        savedInstanceState.putString(&quot;faisal_qayyum&quot;, consumerNameEditText.getText().toString());\r\n        super.onSaveInstanceState(savedInstanceState);\r\n        Log.d(&quot;myfragment&quot;, &quot;onSaveInstanceState saving &quot; + consumerNameEditText.getText().toString());\r\n    }\r\n\r\n    @Override\r\n    public void onViewStateRestored(Bundle savedInstanceState) {\r\n        super.onViewStateRestored(savedInstanceState);\r\n        //restore now\r\n\r\n        Log.d(&quot;myfragment&quot;, &quot;onViewStateRestored&quot;);\r\n    }\r\n     .\r\n     .\r\n     .\r\n     .\r\n    }\r\n\r\n **Error**\r\n\r\n[![enter image description here][3]][3]\r\n\r\nHow can I add and then update the values?\r\n\r\nAny help would be highly appreciated.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/ui/layout/recyclerview?gclid=Cj0KCQjwjIKYBhC6ARIsAGEds-K_wHUgYKeTM49D36yCZR1rKlwY10EFB1kL8Zzw9wyuKrKHQFNkqvsaAqEaEALw_wcB&amp;gclsrc=aw.ds\r\n  [2]: https://i.stack.imgur.com/qETlu.gif\r\n  [3]: https://i.stack.imgur.com/Jluy7.png","title":"How to update edittext whenever a quantity is added in android studio","body":"<p>I am working on android studio. I am using fragments to make the app workflow. The app is basically for order taking. One customer can have more than one order. So for it, I have used <a href=\"https://developer.android.com/guide/topics/ui/layout/recyclerview?gclid=Cj0KCQjwjIKYBhC6ARIsAGEds-K_wHUgYKeTM49D36yCZR1rKlwY10EFB1kL8Zzw9wyuKrKHQFNkqvsaAqEaEALw_wcB&amp;gclsrc=aw.ds\" rel=\"nofollow noreferrer\">RecyclerView</a>. Below is my GUI</p>\n<p><a href=\"https://i.stack.imgur.com/qETlu.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qETlu.gif\" alt=\"enter image description here\" /></a></p>\n<p><strong>What do I want to do?</strong></p>\n<p>I want to update my <code>Total Qty</code> and <code>Order Value</code> in such a way that whenever the user enters the quantity both <code>edittexts</code> should be updated. For example, in the above image, I searched for one product, its rate is <strong>287.30</strong> and when I entered the quantity <strong>5</strong> then <code>Total Qty: 5</code> and <code>Order Value: 287.30</code>. After that, I select another product and enter its quantity 8 then both edit text should be updated like <code>Total Qty: 13</code> and <code>Order Value: 509.15</code>, and when I remove any product then it should subtract the total quantity and order value.</p>\n<p>The <code>Total Qty: </code> and <code>Order Value: </code> is in my main fragment. Below is my code</p>\n<p><strong>Fragment Layout</strong></p>\n<pre><code>          &lt;LinearLayout\n          android:layout_width=&quot;match_parent&quot;\n          android:layout_height=&quot;wrap_content&quot;\n          android:layout_gravity=&quot;center&quot;\n          android:orientation=&quot;vertical&quot;&gt;\n            &lt;android.support.v7.widget.RecyclerView\n                android:id=&quot;@+id/products&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center_horizontal&quot;\n                android:focusable=&quot;true&quot; /&gt;\n        &lt;/LinearLayout&gt;\n        &lt;LinearLayout\n            android:id=&quot;@+id/product_info&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;10sp&quot;\n            android:orientation=&quot;horizontal&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/tv_product&quot;&gt;\n\n\n            &lt;LinearLayout\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;.5&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n\n                    android:text=&quot;Total Qty:&quot; /&gt;\n\n                &lt;EditText\n                    android:id=&quot;@+id/total_qty&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:editable=&quot;false&quot;\n                    android:focusable=&quot;false&quot;\n                    android:focusableInTouchMode=&quot;false&quot;\n                    android:gravity=&quot;center_horizontal&quot;\n                    android:hint=&quot;&quot;\n                    android:inputType=&quot;number&quot; /&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;.5&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n\n                    android:text=&quot;Order Value :&quot; /&gt;\n                &lt;EditText\n                    android:id=&quot;@+id/order_value&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:editable=&quot;false&quot;\n                    android:focusable=&quot;false&quot;\n                    android:focusableInTouchMode=&quot;false&quot;\n                    android:gravity=&quot;center_horizontal&quot;\n                    android:hint=&quot;&quot;\n                    android:inputType=&quot;none&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n\n        &lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>Fragment Code</strong></p>\n<pre><code>// created getter setters\npublic EditText totalQty,totalOrder;\npublic EditText getTotalQty(){\n    return totalQty;\n}\n\npublic void setTotalQty(EditText et){\n    this.totalQty = et;\n}\n\npublic EditText getTotalOrder(){return totalOrder;}\n\npublic void setTotalOrder(EditText ett){this.totalOrder=ett;}\n addProduct.setOnClickListener(v -&gt; {\n        mProducts.add(new ProductDetail());\n        mProductsAdapter.setProducts(mProducts);\n        productsRecyclerView.smoothScrollToPosition(mProducts.size() - 1);\n    });\n</code></pre>\n<p><strong>Product Layout</strong></p>\n<pre><code>&lt;AutoCompleteTextView\n    android:id=&quot;@+id/tv_product&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;10sp&quot;\n    android:gravity=&quot;start&quot;\n    android:hint=&quot;Enter Product&quot;\n    android:inputType=&quot;text&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;LinearLayout\n    android:id=&quot;@+id/product_info&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;10sp&quot;\n    android:orientation=&quot;horizontal&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/tv_product&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;.5&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/prod_qty&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:editable=&quot;false&quot;\n            android:focusable=&quot;true&quot;\n            android:focusableInTouchMode=&quot;true&quot;\n            android:gravity=&quot;left&quot;\n            android:hint=&quot;Enter Quantity&quot;\n            android:inputType=&quot;number&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;.5&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/prod_price&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:editable=&quot;false&quot;\n            android:focusable=&quot;false&quot;\n            android:focusableInTouchMode=&quot;false&quot;\n            android:gravity=&quot;left&quot;\n            android:hint=&quot;Prod Price&quot;\n            android:inputType=&quot;numberDecimal&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;.5&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/prod_specs&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:editable=&quot;false&quot;\n            android:focusable=&quot;false&quot;\n            android:focusableInTouchMode=&quot;false&quot;\n            android:gravity=&quot;left&quot;\n            android:hint=&quot;Prod Specs&quot;\n            android:inputType=&quot;none&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n\n&lt;/LinearLayout&gt;\n\n&lt;Button\n    android:id=&quot;@+id/btn_rmv&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;1dp&quot;\n    android:layout_marginBottom=&quot;1dp&quot;\n    android:text=&quot;Remove Product&quot;\n    android:textColor=&quot;@color/white&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/product_infos&quot; /&gt;\n</code></pre>\n<p><strong>Product Adapter</strong></p>\n<pre><code>View productView = inflater.inflate(R.layout.product_layout, parent, false);\nProductViewHolder viewHolder = new ProductViewHolder(productView);\nviewHolder.tvProduct.setAdapter(prodAdapter);\nviewHolder.tvProduct.addTextChangedListener(new TextWatcher() {\n        @Override\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n        }\n\n        @Override\n        public void onTextChanged(CharSequence s, int start, int before, int count)\n        {\n\n        }\n\n        @Override\n        public void afterTextChanged(Editable s) {\n            mProductManager = new ProductManager(context);\n            int position = viewHolder.getAdapterPosition();\n            if (position != -1) {\n                ProductDetail productDetail = mProductManager.getProductByPrdName(s.toString());\n                mProducts.get(position).setProductNameFull(s.toString());\n                viewHolder.price.setText(productDetail.getPrice());\n                viewHolder.spec.setText(productDetail.getProductSpec());\n                viewHolder.pgrp.setText(productDetail.getProductGroup());\n                viewHolder.ccode.setText(productDetail.getCompanyCode());\n                viewHolder.cname.setText(productDetail.getCompanyName());\n                viewHolder.pcode.setText(productDetail.getProductCode());\n            }\n        }\n    });\n\n\n viewHolder.quantity.addTextChangedListener(new TextWatcher() {\n        @Override\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n        }\n\n        @Override\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\n\n        }\n\n        @Override\n        public void afterTextChanged(Editable s) {\n            int position = viewHolder.getAdapterPosition();\n            if (position != -1) {\n                Integer val = null;\n                try {\n                    val = Integer.valueOf(s.toString());\n                } catch (Exception e) {\n                }\n                mProducts.get(position).setQuantity(val);\n\n            }\n        }\n    });\nviewHolder.removeBtn.setOnClickListener(v -&gt; {\n        int position = viewHolder.getAdapterPosition();\n        if (position != -1) {\n            mProducts.remove(position);\n            notifyItemRemoved(position);\n        }\n    });\nreturn viewHolder;\n</code></pre>\n<p><strong>Update 1</strong></p>\n<p>Below is my <code>Fragment Class</code></p>\n<pre><code>public class SurveyFormFragment extends Fragment {\n  .\n  .\n  .\n  .\n   private final LiveData&lt;Integer&gt; mQuantity = new MutableLiveData&lt;&gt;(0);\n   private final LiveData&lt;Integer&gt; mOrderValue = new MutableLiveData&lt;&gt;(0);\n   private ViewModel mViewModel;\n   private FragmentBinding mBinding;\n    @RequiresApi(api = Build.VERSION_CODES.M)\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    Log.d(&quot;myfragment&quot;, &quot;onCreateView&quot;);\n    getActivity().setTitle(getString(R.string.title_new_survey));\n    mContext = getActivity();\n\n    if (view == null) {\n        view = inflater.inflate(R.layout.new_survey_form_layout, container, false);\n        mLinearLayout = view.findViewById(R.id.ll_prod);\n\n\n\n        this.initElements(view);\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            this.initListeners(getActivity());\n        }\n\n        Bundle arguments = getArguments();\n        if (arguments != null &amp;&amp; arguments.containsKey(&quot;booking_id&quot;)) {\n            isNewSurvey = false;\n            initSurveyData(arguments.getString(&quot;booking_id&quot;));\n            this.updatingSurveyId = arguments.getString(&quot;booking_id&quot;);\n\n        }\n    }\n    Log.d(&quot;package&quot;, getActivity().getPackageName());\n    Log.d(TAG, Common.getCarrierName(getActivity()));\n    return view;\n}\n\n@Override\npublic void onStart() {\n    super.onStart();\n}\n\n@Override\npublic void onActivityCreated(@Nullable Bundle savedInstanceState) {\n    super.onActivityCreated(savedInstanceState);\n    Log.d(&quot;myfragment&quot;, &quot;onActivityCreated&quot;);\n}\n\n@Override\npublic void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setRetainInstance(true);\n    IntentFilter filter = new IntentFilter(BluetoothAdapter.ACTION_STATE_CHANGED);\n\n    Log.d(&quot;myfragment&quot;, &quot;onCreate&quot;);\n}\n\n@Override\npublic void onDestroy() {\n    super.onDestroy();\n    Log.d(&quot;myfragment&quot;, &quot;onDestroy&quot;);\n}\n\n@Override\npublic void onSaveInstanceState(Bundle savedInstanceState) {\n    //save now\n    savedInstanceState.putString(&quot;faisal_qayyum&quot;, consumerNameEditText.getText().toString());\n    super.onSaveInstanceState(savedInstanceState);\n    Log.d(&quot;myfragment&quot;, &quot;onSaveInstanceState saving &quot; + consumerNameEditText.getText().toString());\n}\n\n@Override\npublic void onViewStateRestored(Bundle savedInstanceState) {\n    super.onViewStateRestored(savedInstanceState);\n    //restore now\n\n    Log.d(&quot;myfragment&quot;, &quot;onViewStateRestored&quot;);\n}\n .\n .\n .\n .\n}\n</code></pre>\n<p><strong>Error</strong></p>\n<p><a href=\"https://i.stack.imgur.com/Jluy7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jluy7.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I add and then update the values?</p>\n<p>Any help would be highly appreciated.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1661686016,"post_id":73518253,"comment_id":129826139,"body_markdown":"Stop using the old outdated xml configuration. Switch to the java based way","body":"Stop using the old outdated xml configuration. Switch to the java based way"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661767308,"creation_date":1661687785,"answer_id":73518426,"question_id":73518253,"body_markdown":"The name of your property is the problem. It must match with the property name in the class, so:\r\n\r\n```xml\r\n&lt;property name=&quot;dependency2&quot; ref=&quot;dependency2&quot;&gt;\r\n```\r\n\r\nmust be:\r\n\r\n```xml\r\n&lt;property name=&quot;dependencySecond&quot; ref=&quot;dependency2&quot;&gt;\r\n```\r\n\r\nBTW: Stop using the old outdated XML configuration. Switch to the modern Java based configuration.","title":"Error while trying to do setter injection in spring via beans","body":"<p>The name of your property is the problem. It must match with the property name in the class, so:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;dependency2&quot; ref=&quot;dependency2&quot;&gt;\n</code></pre>\n<p>must be:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;dependencySecond&quot; ref=&quot;dependency2&quot;&gt;\n</code></pre>\n<p>BTW: Stop using the old outdated XML configuration. Switch to the modern Java based configuration.</p>\n"}],"owner":{"account_id":16765025,"reputation":1192,"user_id":12118888,"display_name":"Payel Senapati"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73518426,"answer_count":1,"score":0,"last_activity_date":1661767534,"creation_date":1661685943,"question_id":73518253,"body_markdown":"Here I am trying to do setter injection of two properties\r\n\r\nI have two interface / class pair - `dependency` and `dependecySecond`.\r\n\r\nIDependency.java:\r\n\r\n```java\r\npublic interface IDependency {\r\n\tpublic void printDependency();\r\n}\r\n```\r\n\r\nIDependencySecond.java:\r\n\r\n```java\r\npublic interface IDependencySecond {\r\n\tpublic void printSecondDependency();\r\n}\r\n```\r\n\r\nDependency.java:\r\n\r\n```java\r\npublic class Dependency implements IDependency {\r\n\tDependency() {\r\n\t\tSystem.out.println(&quot;Inside dependency constructor&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void printDependency() {\r\n\t\tSystem.out.println(&quot;I am dependency&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nDependencySecond.java:\r\n\r\n```java\r\npublic class DependencySecond implements IDependencySecond {\r\n\tDependencySecond() {\r\n\t\tSystem.out.println(&quot;Inside second dependency constructor&quot;);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void printSecondDependency() {\r\n\t\tSystem.out.println(&quot;I am second depedency&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nNow I have IGame / BaseBallGame interface / class pair.\r\n\r\nIGame.java:\r\n\r\n```java\r\npublic interface IGame {\r\n\tpublic void printDependency();\r\n\tpublic void playGame();\r\n}\r\n```\r\n\r\nBaseBallGame.java:\r\n\r\n```java\r\npublic class BaseBallGame implements IGame {\r\n\tprivate IDependency dependency;\r\n\tprivate IDependencySecond dependencySecond;\r\n\r\n\tBaseBallGame(){\r\n\t\tSystem.out.println(&quot;Inside baseball game constructor&quot;);\r\n\t}\r\n\t\r\n\tpublic void setDependency(IDependency dependency) {\r\n\t\tthis.dependency = dependency;\r\n\t}\r\n\t\r\n\tpublic void setDependencySecond(IDependencySecond dependencySecond) {\r\n\t\tthis.dependencySecond = dependencySecond;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void printDependency() {\r\n\t\tdependency.printDependency();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void playGame() {\r\n\t\tSystem.out.println(&quot;Playing baseball&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nNow, at first I have the following bean code: \r\n\r\n```xml\r\n&lt;bean\tid=&quot;dependency&quot;\r\n\t\tclass=&quot;com.lonelychild.springdemo.Dependency&quot;&gt;\r\n&lt;/bean&gt;\r\n\r\n&lt;bean\tid=&quot;dependency2&quot;\r\n\t\tclass=&quot;com.lonelychild.springdemo.DependencySecond&quot;&gt;\r\n&lt;/bean&gt;\r\n\r\n&lt;bean\tid=&quot;game&quot;\r\n\t\tclass=&quot;com.lonelychild.springdemo.BaseBallGame&quot;&gt;\r\n\t&lt;property name=&quot;dependency&quot; ref=&quot;dependency&quot;&gt;&lt;/property&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nand I have following main code:\r\n\r\n```java\r\nClassPathXmlApplicationContext context = \r\n\t\tnew ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\r\n\r\nIGame game = context.getBean(&quot;game&quot;, IGame.class);\r\n\r\ngame.printDependency();\r\ngame.playGame();\r\n\r\ncontext.close();\r\n```\r\n\r\n\r\nIt runs without error, but when I add &quot;dependencySecond&quot; in bean:\r\n\r\n```xml\r\n&lt;bean\tid=&quot;game&quot;\r\n\t\tclass=&quot;com.lonelychild.springdemo.BaseBallGame&quot;&gt;\r\n\t&lt;property name=&quot;dependency&quot; ref=&quot;dependency&quot;&gt;&lt;/property&gt;\r\n\t&lt;property name=&quot;dependency2&quot; ref=&quot;dependency2&quot;&gt;&lt;/property&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nI get \r\n\r\n&gt; illegal depedencySecond setter method exception\r\n\r\nSo how can I add the second property?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Error while trying to do setter injection in spring via beans","body":"<p>Here I am trying to do setter injection of two properties</p>\n<p>I have two interface / class pair - <code>dependency</code> and <code>dependecySecond</code>.</p>\n<p>IDependency.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface IDependency {\n    public void printDependency();\n}\n</code></pre>\n<p>IDependencySecond.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface IDependencySecond {\n    public void printSecondDependency();\n}\n</code></pre>\n<p>Dependency.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Dependency implements IDependency {\n    Dependency() {\n        System.out.println(&quot;Inside dependency constructor&quot;);\n    }\n\n    @Override\n    public void printDependency() {\n        System.out.println(&quot;I am dependency&quot;);\n    }\n}\n</code></pre>\n<p>DependencySecond.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DependencySecond implements IDependencySecond {\n    DependencySecond() {\n        System.out.println(&quot;Inside second dependency constructor&quot;);\n    }\n    \n    @Override\n    public void printSecondDependency() {\n        System.out.println(&quot;I am second depedency&quot;);\n    }\n}\n</code></pre>\n<p>Now I have IGame / BaseBallGame interface / class pair.</p>\n<p>IGame.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface IGame {\n    public void printDependency();\n    public void playGame();\n}\n</code></pre>\n<p>BaseBallGame.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BaseBallGame implements IGame {\n    private IDependency dependency;\n    private IDependencySecond dependencySecond;\n\n    BaseBallGame(){\n        System.out.println(&quot;Inside baseball game constructor&quot;);\n    }\n    \n    public void setDependency(IDependency dependency) {\n        this.dependency = dependency;\n    }\n    \n    public void setDependencySecond(IDependencySecond dependencySecond) {\n        this.dependencySecond = dependencySecond;\n    }\n\n    @Override\n    public void printDependency() {\n        dependency.printDependency();\n    }\n\n    @Override\n    public void playGame() {\n        System.out.println(&quot;Playing baseball&quot;);\n    }\n}\n</code></pre>\n<p>Now, at first I have the following bean code:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean   id=&quot;dependency&quot;\n        class=&quot;com.lonelychild.springdemo.Dependency&quot;&gt;\n&lt;/bean&gt;\n\n&lt;bean   id=&quot;dependency2&quot;\n        class=&quot;com.lonelychild.springdemo.DependencySecond&quot;&gt;\n&lt;/bean&gt;\n\n&lt;bean   id=&quot;game&quot;\n        class=&quot;com.lonelychild.springdemo.BaseBallGame&quot;&gt;\n    &lt;property name=&quot;dependency&quot; ref=&quot;dependency&quot;&gt;&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>and I have following main code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassPathXmlApplicationContext context = \n        new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\n\nIGame game = context.getBean(&quot;game&quot;, IGame.class);\n\ngame.printDependency();\ngame.playGame();\n\ncontext.close();\n</code></pre>\n<p>It runs without error, but when I add &quot;dependencySecond&quot; in bean:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean   id=&quot;game&quot;\n        class=&quot;com.lonelychild.springdemo.BaseBallGame&quot;&gt;\n    &lt;property name=&quot;dependency&quot; ref=&quot;dependency&quot;&gt;&lt;/property&gt;\n    &lt;property name=&quot;dependency2&quot; ref=&quot;dependency2&quot;&gt;&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>I get</p>\n<blockquote>\n<p>illegal depedencySecond setter method exception</p>\n</blockquote>\n<p>So how can I add the second property?</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1611090262,"post_id":65799405,"comment_id":116337658,"body_markdown":"Is `getScopes()` returning a defensive copy?","body":"Is <code>getScopes()</code> returning a defensive copy?"},{"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"score":0,"creation_date":1611090395,"post_id":65799405,"comment_id":116337700,"body_markdown":"@matt I&#39;m debugging and yes, Role::getScopes does return a `Set` through Lombok&#39;s `@Data`.","body":"@matt I&#39;m debugging and yes, Role::getScopes does return a <code>Set</code> through Lombok&#39;s <code>@Data</code>."},{"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"score":0,"creation_date":1611090470,"post_id":65799405,"comment_id":116337726,"body_markdown":"@AndyTurner do you mind to explain?","body":"@AndyTurner do you mind to explain?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1611090512,"post_id":65799405,"comment_id":116337742,"body_markdown":"@Henri is it, for example, returning `new HashSet&lt;&gt;(scopes)` rather than `scopes`?","body":"@Henri is it, for example, returning <code>new HashSet&lt;&gt;(scopes)</code> rather than <code>scopes</code>?"},{"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"score":0,"creation_date":1611090610,"post_id":65799405,"comment_id":116337784,"body_markdown":"@AndyTurner It returns the set itself. See https://projectlombok.org/features/delombok","body":"@AndyTurner It returns the set itself. See <a href=\"https://projectlombok.org/features/delombok\" rel=\"nofollow noreferrer\">projectlombok.org/features/delombok</a>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1611090657,"post_id":65799405,"comment_id":116337803,"body_markdown":"@Henri I&#39;m not sure what I&#39;m meant to be looking at on that page. What happens if you invoke `role.getScopes().removeIf(unused -&gt; true)` directly inside your unit test? Does that remove things as you&#39;d expect? What is the return value?","body":"@Henri I&#39;m not sure what I&#39;m meant to be looking at on that page. What happens if you invoke <code>role.getScopes().removeIf(unused -&gt; true)</code> directly inside your unit test? Does that remove things as you&#39;d expect? What is the return value?"},{"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"score":0,"creation_date":1611090863,"post_id":65799405,"comment_id":116337873,"body_markdown":"@AndyTurner delomboking shows the implicit Lombok&#39;s getter (and setter) algorithm, on which you were asking me about. Calling `Set::removeIf` within the unit test does not remove the elements either.","body":"@AndyTurner delomboking shows the implicit Lombok&#39;s getter (and setter) algorithm, on which you were asking me about. Calling <code>Set::removeIf</code> within the unit test does not remove the elements either."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1611090875,"post_id":65799405,"comment_id":116337880,"body_markdown":"You&#39;re using [Collectors.toSet](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#toSet()) that isn&#39;t necessarily modifiable.","body":"You&#39;re using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#toSet()\" rel=\"nofollow noreferrer\">Collectors.toSet</a> that isn&#39;t necessarily modifiable."},{"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"score":0,"creation_date":1611091027,"post_id":65799405,"comment_id":116337944,"body_markdown":"@matt that was my only guess, although calling `Set::clear` does modify the set. By the way, `Collectors.toSet` shouldn&#39;t return an unmodifiable set, as there&#39;s a function for this (`Collectors.toUnmodifiableSet`). I&#39;ve ran out of assumptions.","body":"@matt that was my only guess, although calling <code>Set::clear</code> does modify the set. By the way, <code>Collectors.toSet</code> shouldn&#39;t return an unmodifiable set, as there&#39;s a function for this (<code>Collectors.toUnmodifiableSet</code>). I&#39;ve ran out of assumptions."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1611091180,"post_id":65799405,"comment_id":116338003,"body_markdown":"@Henri for toSet it says there isn&#39;t a guarantee in the documentation. I would replace it with, toCollection and use a HashSet as a test.","body":"@Henri for toSet it says there isn&#39;t a guarantee in the documentation. I would replace it with, toCollection and use a HashSet as a test."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1611091218,"post_id":65799405,"comment_id":116338016,"body_markdown":"@matt if the returned collection didn&#39;t support removal, it would throw an exception when you attempted to remove from it.","body":"@matt if the returned collection didn&#39;t support removal, it would throw an exception when you attempted to remove from it."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1611091236,"post_id":65799405,"comment_id":116338024,"body_markdown":"@Henri and what about the return value from `removeIf`?","body":"@Henri and what about the return value from <code>removeIf</code>?"},{"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"score":0,"creation_date":1611091260,"post_id":65799405,"comment_id":116338029,"body_markdown":"@matt indeed, whats strange, though, is that changing from `Stream.of(scopes).collect(Collectors.toSet())` to `new HashSet&lt;&gt;(Arrays.asList(scopes))` on `Role` constructor, does not solve this either. Very weird.","body":"@matt indeed, whats strange, though, is that changing from <code>Stream.of(scopes).collect(Collectors.toSet())</code> to <code>new HashSet&lt;&gt;(Arrays.asList(scopes))</code> on <code>Role</code> constructor, does not solve this either. Very weird."},{"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"score":0,"creation_date":1611091372,"post_id":65799405,"comment_id":116338071,"body_markdown":"@AndyTurner it returns true.. wtf.","body":"@AndyTurner it returns true.. wtf."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1611091382,"post_id":65799405,"comment_id":116338075,"body_markdown":"How are you verifying that the items are not being removed? By using the debugger?","body":"How are you verifying that the items are not being removed? By using the debugger?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1611091404,"post_id":65799405,"comment_id":116338088,"body_markdown":"@Henri that would suggest that `role.getScopes() != role.getScopes()`.","body":"@Henri that would suggest that <code>role.getScopes() != role.getScopes()</code>."},{"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"score":0,"creation_date":1611091708,"post_id":65799405,"comment_id":116338196,"body_markdown":"@AndyTurner why would that suggest `role.getScopes() != role.getScopes()`? `Role::getScopes` returns the `scopes` memory address, not a new one. What&#39;s your point?","body":"@AndyTurner why would that suggest <code>role.getScopes() != role.getScopes()</code>? <code>Role::getScopes</code> returns the <code>scopes</code> memory address, not a new one. What&#39;s your point?"}],"answers":[{"tags":[],"owner":{"account_id":26187414,"reputation":11,"user_id":19869771,"display_name":"Boris Belka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661767244,"creation_date":1661767244,"answer_id":73527128,"question_id":65799405,"body_markdown":"It is because of overridden `equals` and `hashCode` that is done by `@Data` annotation on your `Scope` class.\r\nIf you remove it or replace with `@Getter @Setter` it will work","title":"Set::removeIf with true predicate does not delete elements","body":"<p>It is because of overridden <code>equals</code> and <code>hashCode</code> that is done by <code>@Data</code> annotation on your <code>Scope</code> class.\nIf you remove it or replace with <code>@Getter @Setter</code> it will work</p>\n"}],"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661767244,"creation_date":1611089697,"question_id":65799405,"body_markdown":"I have a quite simple problem, yet a very weird behaviour on which a `Set` does not delete elements on `true` predicates for some reason.\r\n\r\nThe entities (for reference only, as this does not have anything to do with the set item - or shouldn&#39;t):\r\n\r\n    @Data\r\n    @MappedSuperclass\r\n    @EqualsAndHashCode(of = &quot;uuid&quot;)\r\n    public abstract class Model&lt;ID&gt; {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        protected ID id;\r\n    \r\n        protected UUID uuid; // Hybrid model\r\n    \r\n        @PrePersist\r\n        private void onPersisting() {\r\n            uuid = UUID.randomUUID();\r\n        }\r\n    \r\n    }\r\n\r\n    @Data\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @EqualsAndHashCode(callSuper = true, of = &quot;name&quot;)\r\n    @Table(uniqueConstraints = @UniqueConstraint(name = &quot;scope_name&quot;, columnNames = &quot;name&quot;))\r\n    public class Scope extends Model&lt;Long&gt; {\r\n    \r\n        private String name;\r\n    \r\n        public Scope(UUID uuid) {\r\n            this.uuid = uuid;\r\n        }\r\n    \r\n        public Scope(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n    }\r\n\r\n    @Data\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @EqualsAndHashCode(callSuper = true, of = &quot;name&quot;)\r\n    @Table(uniqueConstraints = @UniqueConstraint(name = &quot;role_name&quot;, columnNames = &quot;name&quot;))\r\n    public class Role extends Model&lt;Long&gt; {\r\n    \r\n        private String name;\r\n    \r\n        @ManyToMany(cascade = { CascadeType.PERSIST, CascadeType.MERGE })\r\n        @JoinTable(name = &quot;role_scopes&quot;, joinColumns = @JoinColumn(name = &quot;role_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;scope_id&quot;))\r\n        private Set&lt;Scope&gt; scopes = new HashSet&lt;&gt;();\r\n    \r\n        public Role(UUID uuid, Scope... scopes) {\r\n            this.scopes = Stream.of(scopes).collect(Collectors.toSet());\r\n            this.uuid = uuid;\r\n        }\r\n    \r\n        public Role(String name, Scope... scopes) {\r\n            this.scopes = Stream.of(scopes).collect(Collectors.toSet());\r\n            this.name = name;\r\n        }\r\n    \r\n    }\r\n\r\nThe following snippet, called within a JUnit test case, does not delete the set elements (simplified for readability):\r\n\r\n    @Transactional\r\n    public Role create(Role role) {\r\n        role.getScopes().removeIf(unused -&gt; true); // &lt;----\r\n        return role;\r\n    }\r\n\r\nFor some reason, that snippet does work:\r\n\r\n    Set&lt;String&gt; strings = new HashSet&lt;&gt;();\r\n    strings.add(&quot;FOO&quot;);\r\n    strings.add(&quot;BAR&quot;);\r\n    strings.removeIf(unused -&gt; true);\r\n\r\nWhat&#39;s going on here?","title":"Set::removeIf with true predicate does not delete elements","body":"<p>I have a quite simple problem, yet a very weird behaviour on which a <code>Set</code> does not delete elements on <code>true</code> predicates for some reason.</p>\n<p>The entities (for reference only, as this does not have anything to do with the set item - or shouldn't):</p>\n<pre><code>@Data\n@MappedSuperclass\n@EqualsAndHashCode(of = &quot;uuid&quot;)\npublic abstract class Model&lt;ID&gt; {\n\n    @Id\n    @GeneratedValue\n    protected ID id;\n\n    protected UUID uuid; // Hybrid model\n\n    @PrePersist\n    private void onPersisting() {\n        uuid = UUID.randomUUID();\n    }\n\n}\n\n@Data\n@Entity\n@NoArgsConstructor\n@EqualsAndHashCode(callSuper = true, of = &quot;name&quot;)\n@Table(uniqueConstraints = @UniqueConstraint(name = &quot;scope_name&quot;, columnNames = &quot;name&quot;))\npublic class Scope extends Model&lt;Long&gt; {\n\n    private String name;\n\n    public Scope(UUID uuid) {\n        this.uuid = uuid;\n    }\n\n    public Scope(String name) {\n        this.name = name;\n    }\n\n}\n\n@Data\n@Entity\n@NoArgsConstructor\n@EqualsAndHashCode(callSuper = true, of = &quot;name&quot;)\n@Table(uniqueConstraints = @UniqueConstraint(name = &quot;role_name&quot;, columnNames = &quot;name&quot;))\npublic class Role extends Model&lt;Long&gt; {\n\n    private String name;\n\n    @ManyToMany(cascade = { CascadeType.PERSIST, CascadeType.MERGE })\n    @JoinTable(name = &quot;role_scopes&quot;, joinColumns = @JoinColumn(name = &quot;role_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;scope_id&quot;))\n    private Set&lt;Scope&gt; scopes = new HashSet&lt;&gt;();\n\n    public Role(UUID uuid, Scope... scopes) {\n        this.scopes = Stream.of(scopes).collect(Collectors.toSet());\n        this.uuid = uuid;\n    }\n\n    public Role(String name, Scope... scopes) {\n        this.scopes = Stream.of(scopes).collect(Collectors.toSet());\n        this.name = name;\n    }\n\n}\n</code></pre>\n<p>The following snippet, called within a JUnit test case, does not delete the set elements (simplified for readability):</p>\n<pre><code>@Transactional\npublic Role create(Role role) {\n    role.getScopes().removeIf(unused -&gt; true); // &lt;----\n    return role;\n}\n</code></pre>\n<p>For some reason, that snippet does work:</p>\n<pre><code>Set&lt;String&gt; strings = new HashSet&lt;&gt;();\nstrings.add(&quot;FOO&quot;);\nstrings.add(&quot;BAR&quot;);\nstrings.removeIf(unused -&gt; true);\n</code></pre>\n<p>What's going on here?</p>\n"},{"tags":["java","azure-ad-graph-api"],"comments":[{"owner":{"account_id":24067318,"reputation":13425,"user_id":18043665,"display_name":"Sridevi"},"score":0,"creation_date":1661736928,"post_id":73517402,"comment_id":129835306,"body_markdown":"Does this answer your question [List appRoleAssignments granted to a service principal](https://learn.microsoft.com/en-us/graph/api/serviceprincipal-list-approleassignments?view=graph-rest-1.0&amp;tabs=java#example)?","body":"Does this answer your question <a href=\"https://learn.microsoft.com/en-us/graph/api/serviceprincipal-list-approleassignments?view=graph-rest-1.0&amp;tabs=java#example\" rel=\"nofollow noreferrer\">List appRoleAssignments granted to a service principal</a>?"},{"owner":{"account_id":24140407,"reputation":571,"user_id":18106676,"display_name":"vicky kumar"},"score":0,"creation_date":1661761766,"post_id":73517402,"comment_id":129839991,"body_markdown":"Have you tried by checking the permissions in graph explorer , to make sure , you are having application permission as well ? link - https://developer.microsoft.com/en-us/graph/graph-explorer","body":"Have you tried by checking the permissions in graph explorer , to make sure , you are having application permission as well ? link - <a href=\"https://developer.microsoft.com/en-us/graph/graph-explorer\" rel=\"nofollow noreferrer\">developer.microsoft.com/en-us/graph/graph-explorer</a>"},{"owner":{"account_id":25604770,"reputation":27,"user_id":19379062,"display_name":"user137062"},"score":0,"creation_date":1661771226,"post_id":73517402,"comment_id":129842927,"body_markdown":"I&#39;m sure I consented to application permissions in Portal","body":"I&#39;m sure I consented to application permissions in Portal"}],"answers":[{"tags":[],"owner":{"account_id":24067318,"reputation":13425,"user_id":18043665,"display_name":"Sridevi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661767016,"creation_date":1661767016,"answer_id":73527075,"question_id":73517402,"body_markdown":"***I tried to reproduce the same in my environment and got the below results:***\r\n\r\nI registered one Azure AD application and granted **Application permissions** like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/IvV3M.png)\r\n\r\nTo get those **Application permissions** list, you can make use of below query:\r\n```json\r\nGET https://graph.microsoft.com/v1.0/servicePrincipals/your_sp_objectID/appRoleAssignments\r\n```\r\n\r\n**Response:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/KUkoW.png)\r\n\r\n**Code sample in Java:**\r\n```java\r\nGraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\r\n\r\nAppRoleAssignmentCollectionPage appRoleAssignments = graphClient.servicePrincipals(&quot;000xxx-54xx-40xx-b8xx-56124xxxxxx&quot;).appRoleAssignments()\r\n\t.buildRequest()\r\n\t.get();\r\n```\r\nYou can note the above **`appRoleId`** and check their ***names*** with below query:\r\n\r\n```json\r\nGET  https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId eq &#39;00000003-0000-0000-c000-000000000000&#39;&amp;$select=appRoles\r\n```\r\n\r\n\r\n**Response:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/tedQB.png)\r\n\r\n**Code Sample in Java:**\r\n```java\r\nGraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\r\n\r\nServicePrincipalCollectionPage servicePrincipals = graphClient.servicePrincipals()\r\n.buildRequest()\r\n.filter(&quot;appId eq &#39;00000003-0000-0000-c000-000000000000&#39;&quot;)\r\n.select(&quot;appRoles&quot;)\r\n.get();\r\n```\r\n\r\n**Reference:**\r\n\r\n[List appRoleAssignments granted to a service principal  | Microsoft Docs](https://learn.microsoft.com/en-us/graph/api/serviceprincipal-list-approleassignments?view=graph-rest-1.0&amp;tabs=http)","title":"Unable to list graph permissions granted to the application from Java","body":"<p><em><strong>I tried to reproduce the same in my environment and got the below results:</strong></em></p>\n<p>I registered one Azure AD application and granted <strong>Application permissions</strong> like below:</p>\n<p><img src=\"https://i.stack.imgur.com/IvV3M.png\" alt=\"enter image description here\" /></p>\n<p>To get those <strong>Application permissions</strong> list, you can make use of below query:</p>\n<pre class=\"lang-json prettyprint-override\"><code>GET https://graph.microsoft.com/v1.0/servicePrincipals/your_sp_objectID/appRoleAssignments\n</code></pre>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/KUkoW.png\" alt=\"enter image description here\" /></p>\n<p><strong>Code sample in Java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\n\nAppRoleAssignmentCollectionPage appRoleAssignments = graphClient.servicePrincipals(&quot;000xxx-54xx-40xx-b8xx-56124xxxxxx&quot;).appRoleAssignments()\n    .buildRequest()\n    .get();\n</code></pre>\n<p>You can note the above <strong><code>appRoleId</code></strong> and check their <em><strong>names</strong></em> with below query:</p>\n<pre class=\"lang-json prettyprint-override\"><code>GET  https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId eq '00000003-0000-0000-c000-000000000000'&amp;$select=appRoles\n</code></pre>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/tedQB.png\" alt=\"enter image description here\" /></p>\n<p><strong>Code Sample in Java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\n\nServicePrincipalCollectionPage servicePrincipals = graphClient.servicePrincipals()\n.buildRequest()\n.filter(&quot;appId eq '00000003-0000-0000-c000-000000000000'&quot;)\n.select(&quot;appRoles&quot;)\n.get();\n</code></pre>\n<p><strong>Reference:</strong></p>\n<p><a href=\"https://learn.microsoft.com/en-us/graph/api/serviceprincipal-list-approleassignments?view=graph-rest-1.0&amp;tabs=http\" rel=\"nofollow noreferrer\">List appRoleAssignments granted to a service principal  | Microsoft Docs</a></p>\n"}],"owner":{"account_id":25604770,"reputation":27,"user_id":19379062,"display_name":"user137062"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73527075,"answer_count":1,"score":0,"last_activity_date":1661767016,"creation_date":1661677962,"question_id":73517402,"body_markdown":"I want to get the list of graph permissions granted to an application using Java.\r\n\r\nI am able to get the permissions from this code\r\n\r\n```java\r\nGraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\r\n\r\nOAuth2PermissionGrantCollectionWithReferencesPage oauth2PermissionGrants = graphClient.servicePrincipals(&quot;000xxxx-xxxx-40xx-b8xx-561247xxxxx&quot;).oauth2PermissionGrants()\r\n\t.buildRequest()\r\n\t.get();\r\n```\r\n\r\nIn the output, I can see the permissions in the scope parameter. But I am getting only delegated permissions. Why am I not getting application permissions?\r\n\r\nIs there a way to get application permissions too? Has anyone tried this and got it?\r\n\r\nTIA","title":"Unable to list graph permissions granted to the application from Java","body":"<p>I want to get the list of graph permissions granted to an application using Java.</p>\n<p>I am able to get the permissions from this code</p>\n<pre class=\"lang-java prettyprint-override\"><code>GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\n\nOAuth2PermissionGrantCollectionWithReferencesPage oauth2PermissionGrants = graphClient.servicePrincipals(&quot;000xxxx-xxxx-40xx-b8xx-561247xxxxx&quot;).oauth2PermissionGrants()\n    .buildRequest()\n    .get();\n</code></pre>\n<p>In the output, I can see the permissions in the scope parameter. But I am getting only delegated permissions. Why am I not getting application permissions?</p>\n<p>Is there a way to get application permissions too? Has anyone tried this and got it?</p>\n<p>TIA</p>\n"},{"tags":["java","spring-boot","controller"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1661764871,"post_id":73526515,"comment_id":129840911,"body_markdown":"It just indicates that this method returns a body and not a view. If you would remove it it would fallback to the default request to view handling and try to render a few. So currently it is only preventing that. I would ditch the void and just return the map and thus also remove the `JsonMapper`.","body":"It just indicates that this method returns a body and not a view. If you would remove it it would fallback to the default request to view handling and try to render a few. So currently it is only preventing that. I would ditch the void and just return the map and thus also remove the <code>JsonMapper</code>."},{"owner":{"account_id":25463405,"reputation":16,"user_id":19262829,"display_name":"Vaibhav Ambule"},"score":0,"creation_date":1661767781,"post_id":73526515,"comment_id":129841881,"body_markdown":"Yes..that will work ..but in this case how it is identifying the body to return...Beacuse it is void method and it is generating response..","body":"Yes..that will work ..but in this case how it is identifying the body to return...Beacuse it is void method and it is generating response.."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1661772904,"post_id":73526515,"comment_id":129843508,"body_markdown":"It doesn&#39;t (as I said) it only prevents it from doing the regular view lookup for void methods. As the response is written in the method itself.","body":"It doesn&#39;t (as I said) it only prevents it from doing the regular view lookup for void methods. As the response is written in the method itself."},{"owner":{"account_id":25463405,"reputation":16,"user_id":19262829,"display_name":"Vaibhav Ambule"},"score":0,"creation_date":1661775072,"post_id":73526515,"comment_id":129844253,"body_markdown":"Thanks a lot sir....After your first comment I did more research on it and now i got it...actually I&#39;m new to spring framework ,that&#39;s why i got confused when i saw such type of method in a controller.","body":"Thanks a lot sir....After your first comment I did more research on it and now i got it...actually I&#39;m new to spring framework ,that&#39;s why i got confused when i saw such type of method in a controller."}],"answers":[{"tags":[],"owner":{"account_id":24350641,"reputation":125,"user_id":18286518,"display_name":"Find Bugs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661766750,"creation_date":1661766750,"answer_id":73527010,"question_id":73526515,"body_markdown":"    @ResponseBody \r\nmust defined a return type. If you really don’t need to define a method with return type. You can use `HttpServletResponse`.getOutputStream() to write back the response content.\r\n","title":"How Does @ResponseBody annotation binds data on void methods in a controller?","body":"<pre><code>@ResponseBody \n</code></pre>\n<p>must defined a return type. If you really don’t need to define a method with return type. You can use <code>HttpServletResponse</code>.getOutputStream() to write back the response content.</p>\n"}],"owner":{"account_id":25463405,"reputation":16,"user_id":19262829,"display_name":"Vaibhav Ambule"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661766750,"creation_date":1661764173,"question_id":73526515,"body_markdown":"I searched for the use of @ResponseBody annotation and I found that this annotation binds data to the response according to the return type of the method here(https://zetcode.com/springboot/responsebody/),But today I got an old project where I saw a controller method like this:-\r\n```\r\n@Controller\r\npublic class MyConroller {\r\n    @Autowired\r\n\tJsonMapper mapper;\r\n\r\n@RequestMapping(value = &quot;/methodURL&quot;, method = RequestMethod.GET)\r\n@ResponseBody \r\npublic void controllerMethod(HttpServletRequest req, HttpServletResponse res) {\r\n\t\r\n\t\t\tHttpSession hs = req.getSession(false);\r\n\t\t\tMap&lt;String, Object&gt; map = service.getList();\r\n            mapper.WritecInJson(res, map);\r\n\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\nJASON Mapper-:\r\n\r\n```\r\npublic class JsonMapper {\r\n\t\t\r\n\t\tpublic void WritecInJson(HttpServletResponse res,Object object)\r\n\t\t{\r\n\r\n\t\tMappingJackson2HttpMessageConverter jsonConverter = new MappingJackson2HttpMessageConverter();\r\n\t\tMediaType jsonMimeType = MediaType.APPLICATION_JSON;\r\n\t\tif(jsonConverter.canWrite(object.getClass(), jsonMimeType)){\r\n\t\t\t\r\n\t\t\tjsonConverter.write(object , jsonMimeType, new ServletServerHttpResponse(res));\r\n\r\n\t\t}\r\n\t}\r\n```\r\nAs you can see the method in the controller class has void as its return type. So, How @ResponseBody binds data to the response through this void method?","title":"How Does @ResponseBody annotation binds data on void methods in a controller?","body":"<p>I searched for the use of @ResponseBody annotation and I found that this annotation binds data to the response according to the return type of the method here(<a href=\"https://zetcode.com/springboot/responsebody/\" rel=\"nofollow noreferrer\">https://zetcode.com/springboot/responsebody/</a>),But today I got an old project where I saw a controller method like this:-</p>\n<pre><code>@Controller\npublic class MyConroller {\n    @Autowired\n    JsonMapper mapper;\n\n@RequestMapping(value = &quot;/methodURL&quot;, method = RequestMethod.GET)\n@ResponseBody \npublic void controllerMethod(HttpServletRequest req, HttpServletResponse res) {\n    \n            HttpSession hs = req.getSession(false);\n            Map&lt;String, Object&gt; map = service.getList();\n            mapper.WritecInJson(res, map);\n\n        \n    }\n\n}\n</code></pre>\n<p>JASON Mapper-:</p>\n<pre><code>public class JsonMapper {\n        \n        public void WritecInJson(HttpServletResponse res,Object object)\n        {\n\n        MappingJackson2HttpMessageConverter jsonConverter = new MappingJackson2HttpMessageConverter();\n        MediaType jsonMimeType = MediaType.APPLICATION_JSON;\n        if(jsonConverter.canWrite(object.getClass(), jsonMimeType)){\n            \n            jsonConverter.write(object , jsonMimeType, new ServletServerHttpResponse(res));\n\n        }\n    }\n</code></pre>\n<p>As you can see the method in the controller class has void as its return type. So, How @ResponseBody binds data to the response through this void method?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661753617,"post_id":73524698,"comment_id":129837693,"body_markdown":"What is the output you get, what is the output you want?","body":"What is the output you get, what is the output you want?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661753659,"post_id":73524698,"comment_id":129837711,"body_markdown":"Why you concat `str` with an empty string? Take care of javav naming conventions. variable names should start with lower case character","body":"Why you concat <code>str</code> with an empty string? Take care of javav naming conventions. variable names should start with lower case character"},{"owner":{"account_id":22394545,"reputation":11,"user_id":16611987,"display_name":"Ganesh Kulkarni"},"score":0,"creation_date":1661753675,"post_id":73524698,"comment_id":129837716,"body_markdown":"@Jens, output should be : ABC\nACB\nBAC\nBCA\nCBA\nCAB","body":"@Jens, output should be : ABC ACB BAC BCA CBA CAB"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661753707,"post_id":73524698,"comment_id":129837725,"body_markdown":"Now is a good time to learn how to debug. It is very helpfull if you have such issues","body":"Now is a good time to learn how to debug. It is very helpfull if you have such issues"},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1661753751,"post_id":73524698,"comment_id":129837736,"body_markdown":"it also looks like you are trying to imitate a recursive function but using iterative method.","body":"it also looks like you are trying to imitate a recursive function but using iterative method."},{"owner":{"account_id":22394545,"reputation":11,"user_id":16611987,"display_name":"Ganesh Kulkarni"},"score":0,"creation_date":1661753751,"post_id":73524698,"comment_id":129837737,"body_markdown":"@Tan Yu Hau Sean, it would be great, if you could help me to fix the code and post it as answer? Thank you. :)","body":"@Tan Yu Hau Sean, it would be great, if you could help me to fix the code and post it as answer? Thank you. :)"},{"owner":{"account_id":22341068,"reputation":692,"user_id":16560836,"display_name":"yezper"},"score":0,"creation_date":1661753800,"post_id":73524698,"comment_id":129837752,"body_markdown":"It is not clear what your want as an output. You want all possible permutations? Please update your question and be more concrete.","body":"It is not clear what your want as an output. You want all possible permutations? Please update your question and be more concrete."},{"owner":{"account_id":22394545,"reputation":11,"user_id":16611987,"display_name":"Ganesh Kulkarni"},"score":0,"creation_date":1661754044,"post_id":73524698,"comment_id":129837818,"body_markdown":"Tan Yu Hau Sean, No, I&#39;m trying out different approach and this tutorial link is different.","body":"Tan Yu Hau Sean, No, I&#39;m trying out different approach and this tutorial link is different."},{"owner":{"account_id":22341068,"reputation":692,"user_id":16560836,"display_name":"yezper"},"score":0,"creation_date":1661754052,"post_id":73524698,"comment_id":129837820,"body_markdown":"And what do these guys mean: BCAABC ACBABC ABCABC?","body":"And what do these guys mean: BCAABC ACBABC ABCABC?"},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1661754105,"post_id":73524698,"comment_id":129837831,"body_markdown":"[This one](https://www.geeksforgeeks.org/print-all-permutations-of-a-string-in-java/) is the closest I can find that is similar to your code.","body":"<a href=\"https://www.geeksforgeeks.org/print-all-permutations-of-a-string-in-java/\" rel=\"nofollow noreferrer\">This one</a> is the closest I can find that is similar to your code."},{"owner":{"account_id":22394545,"reputation":11,"user_id":16611987,"display_name":"Ganesh Kulkarni"},"score":0,"creation_date":1661754117,"post_id":73524698,"comment_id":129837835,"body_markdown":"This is the output which I&#39;m getting, which I have already mentioned in the question.","body":"This is the output which I&#39;m getting, which I have already mentioned in the question."},{"owner":{"account_id":22341068,"reputation":692,"user_id":16560836,"display_name":"yezper"},"score":0,"creation_date":1661755063,"post_id":73524698,"comment_id":129838076,"body_markdown":"Because your question was unclear. A clear and concise way to ask your question would have been: `How to compute all the possible permutations given the characters of a given string?`","body":"Because your question was unclear. A clear and concise way to ask your question would have been: <code>How to compute all the possible permutations given the characters of a given string?</code>"},{"owner":{"account_id":22394545,"reputation":11,"user_id":16611987,"display_name":"Ganesh Kulkarni"},"score":0,"creation_date":1661755155,"post_id":73524698,"comment_id":129838097,"body_markdown":"yezper, updated :), I did mention everything in the description though.","body":"yezper, updated :), I did mention everything in the description though."},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1661757418,"post_id":73524698,"comment_id":129838726,"body_markdown":"alright, [this](https://stackoverflow.com/a/14444037/10671013) is a link that shows how to permutate an array if you are interested. I came across it as I was trying to emulate the method shown on this [link](https://www.geeksforgeeks.org/permutations-string-using-iteration/) in your case. So, what you could do if you arent interested in earlier links, is to treat your string as a char array and permutate the array.","body":"alright, <a href=\"https://stackoverflow.com/a/14444037/10671013\">this</a> is a link that shows how to permutate an array if you are interested. I came across it as I was trying to emulate the method shown on this <a href=\"https://www.geeksforgeeks.org/permutations-string-using-iteration/\" rel=\"nofollow noreferrer\">link</a> in your case. So, what you could do if you arent interested in earlier links, is to treat your string as a char array and permutate the array."},{"owner":{"account_id":22394545,"reputation":11,"user_id":16611987,"display_name":"Ganesh Kulkarni"},"score":0,"creation_date":1661758012,"post_id":73524698,"comment_id":129838901,"body_markdown":"Tan Yu Hau Sean, thank you, now it make sence. Acually I was asked this, question in interview, to print it iteratively, That&#39;s why I&#39;m trying to achive it,recursive approach is easy. I did check : Johnson and Trotter algorithm as well.","body":"Tan Yu Hau Sean, thank you, now it make sence. Acually I was asked this, question in interview, to print it iteratively, That&#39;s why I&#39;m trying to achive it,recursive approach is easy. I did check : Johnson and Trotter algorithm as well."},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1661763709,"post_id":73524698,"comment_id":129840573,"body_markdown":"then you could check this out. its one of the few iterative solutions i could find. everything else uses recursion somewhere https://www.techiedelight.com/find-permutations-string-cpp-java-iterative/","body":"then you could check this out. its one of the few iterative solutions i could find. everything else uses recursion somewhere <a href=\"https://www.techiedelight.com/find-permutations-string-cpp-java-iterative/\" rel=\"nofollow noreferrer\">techiedelight.com/find-permutations-string-cpp-java-iterativ&zwnj;&#8203;e</a>"}],"answers":[{"tags":[],"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661766104,"creation_date":1661766104,"answer_id":73526870,"question_id":73524698,"body_markdown":"This is a solution I found online. This one is interesting, because rather than using recursion or some complex iterative algorithm, they make the solution simpler by using some mathematical understanding. [link here](https://www.pepcoding.com/resources/online-java-foundation/string,-string-builder-and-arraylist/print_all_permutations_of_a_string_iteratively/topic)\r\n\r\n    public static void permutateString2(String s){\r\n            int len = s.length();\r\n            int factorial = factorial(s.length());\r\n    \r\n            for (int i=0; i&lt;factorial; i++){\r\n                String str = s;\r\n                int counter = 0;\r\n                StringBuilder permutation = new StringBuilder();\r\n    \r\n                while (counter &lt; len){\r\n                    \r\n                    int idx = i % (len - counter);\r\n                    \r\n                    permutation.append(str.charAt(idx));\r\n                    \r\n                    if (idx == 0){\r\n                        str = str.substring(idx+1);\r\n                    }else if (idx == str.length()-1){\r\n                        str = str.substring(0, str.length()-1);\r\n                    }else{\r\n                        str = str.substring(0, idx) + str.substring(idx+1, str.length());\r\n                    }\r\n                    \r\n                    counter++;\r\n                }\r\n                System.out.println(permutation.toString());\r\n            }\r\n        }\r\n    \r\n        private static int factorial(int n){\r\n            int result = 1;\r\n            for (int i=1; i&lt;= n; i++){\r\n                result *= i;\r\n            }\r\n            return result;\r\n        }","title":"How to compute all the possible permutations given the characters of a given string?","body":"<p>This is a solution I found online. This one is interesting, because rather than using recursion or some complex iterative algorithm, they make the solution simpler by using some mathematical understanding. <a href=\"https://www.pepcoding.com/resources/online-java-foundation/string,-string-builder-and-arraylist/print_all_permutations_of_a_string_iteratively/topic\" rel=\"nofollow noreferrer\">link here</a></p>\n<pre><code>public static void permutateString2(String s){\n        int len = s.length();\n        int factorial = factorial(s.length());\n\n        for (int i=0; i&lt;factorial; i++){\n            String str = s;\n            int counter = 0;\n            StringBuilder permutation = new StringBuilder();\n\n            while (counter &lt; len){\n                \n                int idx = i % (len - counter);\n                \n                permutation.append(str.charAt(idx));\n                \n                if (idx == 0){\n                    str = str.substring(idx+1);\n                }else if (idx == str.length()-1){\n                    str = str.substring(0, str.length()-1);\n                }else{\n                    str = str.substring(0, idx) + str.substring(idx+1, str.length());\n                }\n                \n                counter++;\n            }\n            System.out.println(permutation.toString());\n        }\n    }\n\n    private static int factorial(int n){\n        int result = 1;\n        for (int i=1; i&lt;= n; i++){\n            result *= i;\n        }\n        return result;\n    }\n</code></pre>\n"}],"owner":{"account_id":22394545,"reputation":11,"user_id":16611987,"display_name":"Ganesh Kulkarni"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1661766104,"creation_date":1661753214,"question_id":73524698,"body_markdown":"I have written this code to find the possible permutation of string using iterative approach, but it&#39;s giving wrong output as follows. Please advise, what&#39;s wrong in the code?  \r\nOutput I&#39;m getting: \r\n\r\n - BCAABC ACBABC ABCABC\r\n\r\nExpetced output is : \r\n\r\n - ABC ACB BAC BCA CBA CAB\r\n\r\n  \r\n\r\n\r\n        \r\n        public class PrintPermutation {\r\n        \r\n        \tpublic static void main(String[] args) throws Exception {\r\n        \r\n        \t\tString str = &quot;ABC&quot;;\r\n        \t\tString permutation = str + &quot;&quot;;\r\n        \t\r\n        \t\tif (str.length() == 0) {\r\n        \t\t\tSystem.out.println(&quot;String length is zero and can&#39;t make the permutation&quot;);\r\n        \t\t\treturn;\r\n        \t\t}\r\n        \r\n        \t\tfor (int i = 0; i &lt; str.length(); i++) \r\n        \t\t{\r\n        \r\n        \t\t\tchar ch = str.charAt(i);\r\n        \t\t\tString left = str.substring(0, i);\r\n        \t\t\tString right = str.substring(i + 1);\r\n        \r\n        \t\t\tString Merge = left + right;\r\n        \r\n        \t\t\tSystem.out.println(Merge+ch+permutation);\r\n        \r\n        \t\t}\r\n        \t}\r\n        }\r\n\r\n","title":"How to compute all the possible permutations given the characters of a given string?","body":"<p>I have written this code to find the possible permutation of string using iterative approach, but it's giving wrong output as follows. Please advise, what's wrong in the code?<br />\nOutput I'm getting:</p>\n<ul>\n<li>BCAABC ACBABC ABCABC</li>\n</ul>\n<p>Expetced output is :</p>\n<ul>\n<li><p>ABC ACB BAC BCA CBA CAB</p>\n<pre><code> public class PrintPermutation {\n\n     public static void main(String[] args) throws Exception {\n\n         String str = &quot;ABC&quot;;\n         String permutation = str + &quot;&quot;;\n\n         if (str.length() == 0) {\n             System.out.println(&quot;String length is zero and can't make the permutation&quot;);\n             return;\n         }\n\n         for (int i = 0; i &lt; str.length(); i++) \n         {\n\n             char ch = str.charAt(i);\n             String left = str.substring(0, i);\n             String right = str.substring(i + 1);\n\n             String Merge = left + right;\n\n             System.out.println(Merge+ch+permutation);\n\n         }\n     }\n }\n</code></pre>\n</li>\n</ul>\n"},{"tags":["java","gradle","micronaut","micronaut-test"],"answers":[{"tags":[],"owner":{"account_id":1478006,"reputation":1520,"user_id":1387951,"display_name":"melix"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661765735,"creation_date":1661765735,"answer_id":73526809,"question_id":73503877,"body_markdown":"You will need to add the following dependencies to your `build.gradle` file:\r\n\r\n```gradle\r\ndependencies {\r\n    testResourcesImplementation platform(&quot;io.micronaut:micronaut-bom:3.6.1&quot;)\r\n    testResourcesImplementation &quot;io.micronaut.testresources:micronaut-test-resources-testcontainers&quot;\r\n}\r\n```\r\n\r\n(note that I&#39;m importing the Micronaut BOM so that you don&#39;t have to specify the test resources version, but you could use it directly)","title":"Micronaut Test Resources: How to extend AbstractTestContainersProvider class","body":"<p>You will need to add the following dependencies to your <code>build.gradle</code> file:</p>\n<pre><code>dependencies {\n    testResourcesImplementation platform(&quot;io.micronaut:micronaut-bom:3.6.1&quot;)\n    testResourcesImplementation &quot;io.micronaut.testresources:micronaut-test-resources-testcontainers&quot;\n}\n</code></pre>\n<p>(note that I'm importing the Micronaut BOM so that you don't have to specify the test resources version, but you could use it directly)</p>\n"}],"owner":{"account_id":23539421,"reputation":47,"user_id":17583866,"display_name":"HeavyLifter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73526809,"answer_count":1,"score":0,"last_activity_date":1661765735,"creation_date":1661530511,"question_id":73503877,"body_markdown":"Micronaut documentation says: \r\n\r\n&gt; For test resources which make use of Testcontainers, you may extend\r\n&gt; the base AbstractTestContainersProvider class.\r\n\r\nMy question is: how to add this class properly to the classpath of the test resources sourceset (I am using Gradle)","title":"Micronaut Test Resources: How to extend AbstractTestContainersProvider class","body":"<p>Micronaut documentation says:</p>\n<blockquote>\n<p>For test resources which make use of Testcontainers, you may extend\nthe base AbstractTestContainersProvider class.</p>\n</blockquote>\n<p>My question is: how to add this class properly to the classpath of the test resources sourceset (I am using Gradle)</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1477675546,"post_id":40305474,"comment_id":67877660,"body_markdown":"What error are you getting?","body":"What error are you getting?"},{"owner":{"account_id":9321722,"reputation":99,"user_id":6920269,"accept_rate":100,"display_name":"Ramsha Khan"},"score":1,"creation_date":1477739854,"post_id":40305474,"comment_id":67893205,"body_markdown":"@Gagravarr i actually got it working, I realised i don&#39;t need getRange(). Just use getParagraphs() and getRuns().","body":"@Gagravarr i actually got it working, I realised i don&#39;t need getRange(). Just use getParagraphs() and getRuns()."}],"answers":[{"tags":[],"owner":{"account_id":17076275,"reputation":596,"user_id":12355831,"display_name":"stefan-dan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661765445,"creation_date":1661765445,"answer_id":73526762,"question_id":40305474,"body_markdown":"You don&#39;t need the **.getRange()** method, just use the **.getParagraphs()** method like this:\r\n\r\n    try (FileInputStream fileInputStream = new FileInputStream(inputFilename)) {\r\n            \r\n            XWPFDocument document = new XWPFDocument(fileInputStream);\r\n\r\n            for (XWPFParagraph paragraph : document.getParagraphs()) {\r\n                // do something with it\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n","title":"How to use getRange() method with XWPFDocument and getParagraphText() with XWPFWordExtractor?","body":"<p>You don't need the <strong>.getRange()</strong> method, just use the <strong>.getParagraphs()</strong> method like this:</p>\n<pre><code>try (FileInputStream fileInputStream = new FileInputStream(inputFilename)) {\n        \n        XWPFDocument document = new XWPFDocument(fileInputStream);\n\n        for (XWPFParagraph paragraph : document.getParagraphs()) {\n            // do something with it\n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9321722,"reputation":99,"user_id":6920269,"accept_rate":100,"display_name":"Ramsha Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1432,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661765445,"creation_date":1477658886,"question_id":40305474,"body_markdown":"I am getting error when i am trying to use getRange with `XWPFDocument` and `getParagraphText()` with `XWPFWordExtractor`. How can i use them together? Do i need to convert my .docx to .doc? If yes then how to do that?\r\n\r\n    XWPFDocument docx = new XWPFDocument(new FileInputStream(&quot;textDocx.docx&quot;));\r\n    XWPFWordExtractor we = new XWPFWordExtractor(docx);\r\n    Range range = docx.getRange();\r\n    String[] paragraphs = we.getParagraphText();\r\n\r\n","title":"How to use getRange() method with XWPFDocument and getParagraphText() with XWPFWordExtractor?","body":"<p>I am getting error when i am trying to use getRange with <code>XWPFDocument</code> and <code>getParagraphText()</code> with <code>XWPFWordExtractor</code>. How can i use them together? Do i need to convert my .docx to .doc? If yes then how to do that?</p>\n\n<pre><code>XWPFDocument docx = new XWPFDocument(new FileInputStream(\"textDocx.docx\"));\nXWPFWordExtractor we = new XWPFWordExtractor(docx);\nRange range = docx.getRange();\nString[] paragraphs = we.getParagraphText();\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","springfox"],"answers":[{"tags":[],"owner":{"account_id":16139017,"reputation":129,"user_id":15817444,"display_name":"Mazhar Ibna Zahur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661757843,"creation_date":1661757843,"answer_id":73525383,"question_id":73523412,"body_markdown":"try it \r\n\r\n    springdoc.api-docs.enabled=false\r\n    springdoc.swagger-ui.enabled=false","title":"Setting springfox.documentation.enabled=false doesn&#39;t disable swagger 3.0","body":"<p>try it</p>\n<pre><code>springdoc.api-docs.enabled=false\nspringdoc.swagger-ui.enabled=false\n</code></pre>\n"}],"owner":{"account_id":4409803,"reputation":43,"user_id":3593086,"display_name":"user3593086"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1464,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73525383,"answer_count":1,"score":1,"last_activity_date":1661765270,"creation_date":1661737015,"question_id":73523412,"body_markdown":"I tried to disable Swagger 3.0 in production. Some people posted a solution: add `springfox.documentation.enabled=false` to application-prod.properties, but it doesn&#39;t work in my Spring Boot application.\r\n\r\nI use Spring Initializr to select Spring Boot 2.7.1, Maven, Java 8, spring-boot-starter-web, and spring-boot-starter-actuator. Then I add dependency below to my pom.xml:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nDoes anyone have any idea?","title":"Setting springfox.documentation.enabled=false doesn&#39;t disable swagger 3.0","body":"<p>I tried to disable Swagger 3.0 in production. Some people posted a solution: add <code>springfox.documentation.enabled=false</code> to application-prod.properties, but it doesn't work in my Spring Boot application.</p>\n<p>I use Spring Initializr to select Spring Boot 2.7.1, Maven, Java 8, spring-boot-starter-web, and spring-boot-starter-actuator. Then I add dependency below to my pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Does anyone have any idea?</p>\n"},{"tags":["java","mysql","jdbc"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661608302,"creation_date":1661608302,"answer_id":73511557,"question_id":73511205,"body_markdown":"Use try-with-resources:\r\n```\r\npublic static int howManyPassengersInCabin(int i) throws SQLException {\r\n    String query = &quot;SELECT Capacity FROM cabin WHERE Cabin_ID = &quot;+ i;\r\n    try (Connection con = connectionForDB();\r\n         Statement st = con.createStatement();\r\n         ResultSet rs = st.executeQuery(query)) {\r\n\r\n        rs.next();\r\n        return  rs.getInt(&quot;Capacity&quot;);\r\n    }\r\n}\r\n```\r\nI could have used three nested try statements, but by reordering the code a bit I could combine them.","title":"How to close Connection and statement inside return method?","body":"<p>Use try-with-resources:</p>\n<pre><code>public static int howManyPassengersInCabin(int i) throws SQLException {\n    String query = &quot;SELECT Capacity FROM cabin WHERE Cabin_ID = &quot;+ i;\n    try (Connection con = connectionForDB();\n         Statement st = con.createStatement();\n         ResultSet rs = st.executeQuery(query)) {\n\n        rs.next();\n        return  rs.getInt(&quot;Capacity&quot;);\n    }\n}\n</code></pre>\n<p>I could have used three nested try statements, but by reordering the code a bit I could combine them.</p>\n"},{"tags":[],"owner":{"account_id":24350641,"reputation":125,"user_id":18286518,"display_name":"Find Bugs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661765210,"creation_date":1661765133,"answer_id":73526707,"question_id":73511205,"body_markdown":"- Try to use `try-with-resources`\r\n- Try to use prepared statement\r\n\r\nFor Examples:\r\n\r\n    private static final QUERY_SQL = &quot;SELECT Capacity FROM cabin WHERE Cabin_ID=?”;\r\n    \r\n    public static int howManyPassengersInCabin(int i) throws SQLException {\r\n                    try (Connection con = connectionForDB()){\r\n                 try(PreparedStatement pstmt = con.preparedStatement(QUERY_SQL)){\r\n                     pstmt.setInt(1, i);\r\n                     try(ResultSet rs = st.executeQuery()){\r\n                         while(rs.next()){\r\n                             return  rs.getInt(&quot;Capacity&quot;);\r\n                         }\r\n                     }\r\n                 }\r\n            }\r\n        }","title":"How to close Connection and statement inside return method?","body":"<ul>\n<li>Try to use <code>try-with-resources</code></li>\n<li>Try to use prepared statement</li>\n</ul>\n<p>For Examples:</p>\n<pre><code>private static final QUERY_SQL = &quot;SELECT Capacity FROM cabin WHERE Cabin_ID=?”;\n\npublic static int howManyPassengersInCabin(int i) throws SQLException {\n                try (Connection con = connectionForDB()){\n             try(PreparedStatement pstmt = con.preparedStatement(QUERY_SQL)){\n                 pstmt.setInt(1, i);\n                 try(ResultSet rs = st.executeQuery()){\n                     while(rs.next()){\n                         return  rs.getInt(&quot;Capacity&quot;);\n                     }\n                 }\n             }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":23979799,"reputation":1,"user_id":17967424,"display_name":"chanuka vidanapathirana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1661765210,"creation_date":1661604995,"question_id":73511205,"body_markdown":"This is one method in my project. I want to close &#39;con&#39; and &#39;st&#39;. How to do that?\r\n\r\n    public static int howManyPassengersInCabin(int i) throws SQLException {\r\n        Connection con = connectionForDB();\r\n        String query = &quot;SELECT Capacity FROM cabin WHERE Cabin_ID = &quot;+ i;\r\n        Statement st = con.createStatement();\r\n        ResultSet rs = st.executeQuery(query);\r\n        rs.next();\r\n        return  rs.getInt(&quot;Capacity&quot;);\r\n    }","title":"How to close Connection and statement inside return method?","body":"<p>This is one method in my project. I want to close 'con' and 'st'. How to do that?</p>\n<pre><code>public static int howManyPassengersInCabin(int i) throws SQLException {\n    Connection con = connectionForDB();\n    String query = &quot;SELECT Capacity FROM cabin WHERE Cabin_ID = &quot;+ i;\n    Statement st = con.createStatement();\n    ResultSet rs = st.executeQuery(query);\n    rs.next();\n    return  rs.getInt(&quot;Capacity&quot;);\n}\n</code></pre>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1661766541,"post_id":73526694,"comment_id":129841461,"body_markdown":"You can say `Mercury has mass {@value MERCURY_MASS} kg and radius {@value MERCURY_RADIUS} m` assuming those constants are defined, but I guess that is not what you are looking for? You are looking for a way to write this just once?","body":"You can say <code>Mercury has mass {@value MERCURY_MASS} kg and radius {@value MERCURY_RADIUS} m</code> assuming those constants are defined, but I guess that is not what you are looking for? You are looking for a way to write this just once?"},{"owner":{"account_id":82244,"reputation":16374,"user_id":231397,"accept_rate":24,"display_name":"Christian Fries"},"score":0,"creation_date":1662024064,"post_id":73526694,"comment_id":129912171,"body_markdown":"Yes. Your workaround would require to define a separate constant MERCURY_MASS. That would work, and is even a bit better to duplicate the value in the JavaDoc. So it is maybe &quot;halfway&quot;.","body":"Yes. Your workaround would require to define a separate constant MERCURY_MASS. That would work, and is even a bit better to duplicate the value in the JavaDoc. So it is maybe &quot;halfway&quot;."}],"owner":{"account_id":82244,"reputation":16374,"user_id":231397,"accept_rate":24,"display_name":"Christian Fries"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661765071,"creation_date":1661765071,"question_id":73526694,"body_markdown":"Is it possible to incorporate properties of an enum (the values of its fields) automatically into its JavaDoc?\r\n\r\n**Example:**\r\n\r\nGiven an enum\r\n\r\n    public enum Planet {\r\n        MERCURY (3.303e+23, 2.4397e6),\r\n        VENUS   (4.869e+24, 6.0518e6),\r\n        EARTH   (5.976e+24, 6.37814e6),\r\n        MARS    (6.421e+23, 3.3972e6),\r\n        JUPITER (1.9e+27,   7.1492e7),\r\n        SATURN  (5.688e+26, 6.0268e7),\r\n        URANUS  (8.686e+25, 2.5559e7),\r\n        NEPTUNE (1.024e+26, 2.4746e7);\r\n\r\n        private final double mass;   // in kilograms\r\n        private final double radius; // in meters\r\n\r\n        Planet(double mass, double radius) {\r\n            this.mass = mass;\r\n            this.radius = radius;\r\n        }\r\n    }\r\n\r\nThe JavaDoc of MERCURY should automatically list the values, i.e. 3.303e+23 and 2.4397e6. It would be nice if one could define a template, like\r\n\r\n    Defines the enum with mass {$mass} and radius {$radius}.\r\n\r\n","title":"How to incorparate properties of an enum (the values of its fields) automatically into its JavaDoc","body":"<p>Is it possible to incorporate properties of an enum (the values of its fields) automatically into its JavaDoc?</p>\n<p><strong>Example:</strong></p>\n<p>Given an enum</p>\n<pre><code>public enum Planet {\n    MERCURY (3.303e+23, 2.4397e6),\n    VENUS   (4.869e+24, 6.0518e6),\n    EARTH   (5.976e+24, 6.37814e6),\n    MARS    (6.421e+23, 3.3972e6),\n    JUPITER (1.9e+27,   7.1492e7),\n    SATURN  (5.688e+26, 6.0268e7),\n    URANUS  (8.686e+25, 2.5559e7),\n    NEPTUNE (1.024e+26, 2.4746e7);\n\n    private final double mass;   // in kilograms\n    private final double radius; // in meters\n\n    Planet(double mass, double radius) {\n        this.mass = mass;\n        this.radius = radius;\n    }\n}\n</code></pre>\n<p>The JavaDoc of MERCURY should automatically list the values, i.e. 3.303e+23 and 2.4397e6. It would be nice if one could define a template, like</p>\n<pre><code>Defines the enum with mass {$mass} and radius {$radius}.\n</code></pre>\n"},{"tags":["java","maven","nexus"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1661760692,"post_id":73525739,"comment_id":129839644,"body_markdown":"Sounds like a &quot;proxy/network/intranet/firewall/permission&quot; issue to me.. please check your access to http://scm0.access.nsn.com, your (system/java) proxy settings + (eventually) servers+credentials/secrets in your settings.xml..(colleagues should know;)","body":"Sounds like a &quot;proxy/network/intranet/firewall/permission&quot; issue to me.. please check your access to <a href=\"http://scm0.access.nsn.com\" rel=\"nofollow noreferrer\">scm0.access.nsn.com</a>, your (system/java) proxy settings + (eventually) servers+credentials/secrets in your settings.xml..(colleagues should know;)"},{"owner":{"display_name":"user19616096"},"score":0,"creation_date":1661760860,"post_id":73525739,"comment_id":129839698,"body_markdown":"Sorry can you please elaborate what exactly you are trying to say..?","body":"Sorry can you please elaborate what exactly you are trying to say..?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1661761425,"post_id":73525739,"comment_id":129839875,"body_markdown":"I assume: you are trying to set up a development environment .. so summarized, this: https://www.baeldung.com/maven-behind-proxy","body":"I assume: you are trying to set up a development environment .. so summarized, this: <a href=\"https://www.baeldung.com/maven-behind-proxy\" rel=\"nofollow noreferrer\">baeldung.com/maven-behind-proxy</a>"},{"owner":{"display_name":"user19616096"},"score":0,"creation_date":1661763040,"post_id":73525739,"comment_id":129840373,"body_markdown":"I dont think so this will work..?","body":"I dont think so this will work..?"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1661774742,"post_id":73525739,"comment_id":129844136,"body_markdown":"The previous question was closed for a reason (and now deleted i guess because i cant find my comments anymore). Add the contents of your configuration files. Or maybe check with someone else in the company who can help?","body":"The previous question was closed for a reason (and now deleted i guess because i cant find my comments anymore). Add the contents of your configuration files. Or maybe check with someone else in the company who can help?"}],"owner":{"display_name":"user19616096"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1661764900,"creation_date":1661760021,"question_id":73525739,"body_markdown":"[ERROR] Error resolving version for plugin from the repositories [local (/root/.m2/repository), internal (http://scm0.access.nsn.com/nexus/content/groups/internal), central-mirror (http://scm0.access.nsn.com/nexus/content/groups/public/)]: Plugin not found in any plugin repository -&gt; [Help 1]\r\n\r\n\r\npom.xml---&gt;file:///C:/Users/sopatil/Desktop/pom.xml\r\n\r\nsettings.xml--&gt;file:///C:/Users/sopatil/AppData/Local/Temp/scp46182/home/rocky/SVN_CO/trunk/Settings1.xml\r\n\r\nthese are the files\r\nplease help me with the solution...","title":"Regarding resolving version for plugin maven-compiler-plugin from the repositories","body":"<p>[ERROR] Error resolving version for plugin from the repositories [local (/root/.m2/repository), internal (http://scm0.access.nsn.com/nexus/content/groups/internal), central-mirror (http://scm0.access.nsn.com/nexus/content/groups/public/)]: Plugin not found in any plugin repository -&gt; [Help 1]</p>\n<p>pom.xml---&gt;file:///C:/Users/sopatil/Desktop/pom.xml</p>\n<p>settings.xml--&gt;file:///C:/Users/sopatil/AppData/Local/Temp/scp46182/home/rocky/SVN_CO/trunk/Settings1.xml</p>\n<p>these are the files\nplease help me with the solution...</p>\n"},{"tags":["java","android","android-activity","lockscreen","resume"],"comments":[{"owner":{"account_id":11533028,"reputation":303,"user_id":8451417,"accept_rate":50,"display_name":"SomethingCool"},"score":0,"creation_date":1567429453,"post_id":57757329,"comment_id":101951237,"body_markdown":"just use something like this I guess https://stackoverflow.com/questions/3446202/android-detect-phone-unlock-event-not-screen-on","body":"just use something like this I guess <a href=\"https://stackoverflow.com/questions/3446202/android-detect-phone-unlock-event-not-screen-on\" title=\"android detect phone unlock event not screen on\">stackoverflow.com/questions/3446202/&hellip;</a>"},{"owner":{"account_id":11024743,"reputation":135,"user_id":8097976,"display_name":"Sebi"},"score":0,"creation_date":1567429681,"post_id":57757329,"comment_id":101951345,"body_markdown":"It is not that i want to know when the phone is unlocked/locked but when my app comes to foreground and then redirekt to my startup activity. But without the infinity loop. but thanks for the link.","body":"It is not that i want to know when the phone is unlocked/locked but when my app comes to foreground and then redirekt to my startup activity. But without the infinity loop. but thanks for the link."}],"answers":[{"tags":[],"owner":{"account_id":420454,"reputation":6809,"user_id":798165,"accept_rate":57,"display_name":"eleven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567430447,"creation_date":1567430447,"answer_id":57757704,"question_id":57757329,"body_markdown":"`onResume` is a proper place to start. But you need to add also something which handles lock/unlock logic and define non-lockable screens to avoid loops.\r\n\r\n`Lock/unlock` logic could be placed into something like `PinManager`\r\n\r\n```\r\ninterface PinManager {\r\n\r\n  /**\r\n   * it&#39;s up to you how to define logic inside.\r\n   * It could be locked after some time \r\n   * or locked when app is destroyed and removed from memory\r\n   */\r\n  fun isLocked():Boolean\r\n\r\n  fun unlock(pin:List&lt;Integer&gt;)\r\n\r\n  fun clear()\r\n}\r\n```\r\nTo avoid loops you can define interface:\r\n```\r\ninterface NonLockedActivity {\r\n\r\n}\r\n```\r\nAnd use it with actvity which verifies pin:\r\n```\r\nclass VerifiyPinActivity: BaseActivity(), NonLockedActivity {\r\n  fun verifiy(pin:List&lt;Int&gt;){\r\n\r\n    if(pinManager.unlock(pin)){\r\n      finish()//and show previous activity\r\n    } else {\r\n      //show invalid pin message\r\n    } \r\n  }\r\n}\r\n```\r\nand in base activities `onResume` could look like this \r\n```\r\nclass BaseActivity: Activity(){\r\n  fun onResume(){\r\n    \r\n    if(pinManager.isLocked()){\r\n      navigator.verifyPin(this)\r\n    }\r\n    \r\n  }\r\n}\r\n```\r\nAnd hide implementation of opening activity in `navigator`:\r\n```\r\nclass Navigator {\r\n  fun verifyPin(acitvity:Activity) {\r\n    if(activity is not NonLockedActivity) {\r\n      startActivity(VerifiyPinActivity::class)\r\n    }\r\n  }\r\n}\r\n```","title":"How can i redirect my app to a lock screen when reenter app","body":"<p><code>onResume</code> is a proper place to start. But you need to add also something which handles lock/unlock logic and define non-lockable screens to avoid loops.</p>\n\n<p><code>Lock/unlock</code> logic could be placed into something like <code>PinManager</code></p>\n\n<pre><code>interface PinManager {\n\n  /**\n   * it's up to you how to define logic inside.\n   * It could be locked after some time \n   * or locked when app is destroyed and removed from memory\n   */\n  fun isLocked():Boolean\n\n  fun unlock(pin:List&lt;Integer&gt;)\n\n  fun clear()\n}\n</code></pre>\n\n<p>To avoid loops you can define interface:</p>\n\n<pre><code>interface NonLockedActivity {\n\n}\n</code></pre>\n\n<p>And use it with actvity which verifies pin:</p>\n\n<pre><code>class VerifiyPinActivity: BaseActivity(), NonLockedActivity {\n  fun verifiy(pin:List&lt;Int&gt;){\n\n    if(pinManager.unlock(pin)){\n      finish()//and show previous activity\n    } else {\n      //show invalid pin message\n    } \n  }\n}\n</code></pre>\n\n<p>and in base activities <code>onResume</code> could look like this </p>\n\n<pre><code>class BaseActivity: Activity(){\n  fun onResume(){\n\n    if(pinManager.isLocked()){\n      navigator.verifyPin(this)\n    }\n\n  }\n}\n</code></pre>\n\n<p>And hide implementation of opening activity in <code>navigator</code>:</p>\n\n<pre><code>class Navigator {\n  fun verifyPin(acitvity:Activity) {\n    if(activity is not NonLockedActivity) {\n      startActivity(VerifiyPinActivity::class)\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11024743,"reputation":135,"user_id":8097976,"display_name":"Sebi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1567430778,"creation_date":1567430778,"answer_id":57757796,"question_id":57757329,"body_markdown":"I was able to do the check described in this answer: https://stackoverflow.com/questions/4414171/how-to-detect-when-an-android-app-goes-to-the-background-and-come-back-to-the-fo \r\n\r\nWith this I could check if the app came from the background or from an internal activity. \r\nAnd then I could call the Intent to my Start Up Activity. ","title":"How can i redirect my app to a lock screen when reenter app","body":"<p>I was able to do the check described in this answer: <a href=\"https://stackoverflow.com/questions/4414171/how-to-detect-when-an-android-app-goes-to-the-background-and-come-back-to-the-fo\">How to detect when an Android app goes to the background and come back to the foreground</a> </p>\n\n<p>With this I could check if the app came from the background or from an internal activity. \nAnd then I could call the Intent to my Start Up Activity. </p>\n"},{"tags":[],"owner":{"account_id":12731869,"reputation":15110,"user_id":9248201,"display_name":"Pavlo Ostasha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567430873,"creation_date":1567430873,"answer_id":57757819,"question_id":57757329,"body_markdown":"It depends of how you&#39;ve done your pin locking.\r\n\r\nFrom the question I assume you&#39;ve used some library or self made approach for that. In this case you may store some value ```isLocked``` in ```SharedPreferences``` and change it every time in ```onDestroy``` or in ```onStop``` to ```true```. When user enters your app you should check if ```isLocked == true``` and prompt pin screen and change it to false on successful unlock, and if ```isLocked == false``` you can proceed with you app flow. If you want this to do it easier way - you may just have some static variable and manipulate its value - but on the app process recreation it will be changed to default value.\r\n\r\nBut I would recommend you to look into these methods - they are default for the Android OS.\r\n\r\nWith [```KeyguardManager```](https://developer.android.com/reference/android/app/KeyguardManager.html) you should use ```Intent intent = keyguardManager.createConfirmDeviceCredentialIntent(title, description)``` in conjunction with ```startActivityForResult(intent)``` which will handle all the stuff you need and in ```onActivityResult``` you can handle moving forward.\r\n\r\nStarting from API 28 you can use [```BiometricPrompt```](https://developer.android.com/reference/kotlin/android/hardware/biometrics/BiometricPrompt.html). You can use its ```Builder```&#39;s method ```setDeviceCredentialAllowed(true)``` that will handle the pin stuff in similar way as ```KeyguardManager``` only with face/fingerprint options. ```BiometricPrompt``` has method ```authenticate``` that will actually prompt pin screen. It receives listener as argument so you won&#39;t need ```onActivityResult```.  ","title":"How can i redirect my app to a lock screen when reenter app","body":"<p>It depends of how you've done your pin locking.</p>\n\n<p>From the question I assume you've used some library or self made approach for that. In this case you may store some value <code>isLocked</code> in <code>SharedPreferences</code> and change it every time in <code>onDestroy</code> or in <code>onStop</code> to <code>true</code>. When user enters your app you should check if <code>isLocked == true</code> and prompt pin screen and change it to false on successful unlock, and if <code>isLocked == false</code> you can proceed with you app flow. If you want this to do it easier way - you may just have some static variable and manipulate its value - but on the app process recreation it will be changed to default value.</p>\n\n<p>But I would recommend you to look into these methods - they are default for the Android OS.</p>\n\n<p>With <a href=\"https://developer.android.com/reference/android/app/KeyguardManager.html\" rel=\"nofollow noreferrer\"><code>KeyguardManager</code></a> you should use <code>Intent intent = keyguardManager.createConfirmDeviceCredentialIntent(title, description)</code> in conjunction with <code>startActivityForResult(intent)</code> which will handle all the stuff you need and in <code>onActivityResult</code> you can handle moving forward.</p>\n\n<p>Starting from API 28 you can use <a href=\"https://developer.android.com/reference/kotlin/android/hardware/biometrics/BiometricPrompt.html\" rel=\"nofollow noreferrer\"><code>BiometricPrompt</code></a>. You can use its <code>Builder</code>'s method <code>setDeviceCredentialAllowed(true)</code> that will handle the pin stuff in similar way as <code>KeyguardManager</code> only with face/fingerprint options. <code>BiometricPrompt</code> has method <code>authenticate</code> that will actually prompt pin screen. It receives listener as argument so you won't need <code>onActivityResult</code>.  </p>\n"}],"owner":{"account_id":11024743,"reputation":135,"user_id":8097976,"display_name":"Sebi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2517,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57757796,"answer_count":3,"score":0,"last_activity_date":1661764166,"creation_date":1567428959,"question_id":57757329,"body_markdown":"My App could be locked with pin or fingerprint. I was able to do this on App Start with an &quot;Start Up&quot; Activity handle the pin/fingerprint stuff. But when it is once handled it is unlocked. But I want that when app was in background the lock screen is shown when the app is resumed. How can i manage this?\r\n\r\nI was trying to start an intent when `OnResume()` of MainActivity is called.\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n\r\n        Intent settingsIntent = new Intent(this, StartUpActivity.class);\r\n        startActivity(settingsIntent);\r\n\r\n    }\r\n\r\n\r\n\r\nBut then it goes to an infinity loop ... :(. And with the resume I can not distinguish whether i came from another activity in my app or if the app was getting back in foreground.\r\n\r\nI was also searching a bit but i didn&#39;t find a solution to this problem. If i was missed a solution, please provide a link.\r\n\r\nThanks, \r\nSebi","title":"How can i redirect my app to a lock screen when reenter app","body":"<p>My App could be locked with pin or fingerprint. I was able to do this on App Start with an \"Start Up\" Activity handle the pin/fingerprint stuff. But when it is once handled it is unlocked. But I want that when app was in background the lock screen is shown when the app is resumed. How can i manage this?</p>\n\n<p>I was trying to start an intent when <code>OnResume()</code> of MainActivity is called.</p>\n\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n\n    Intent settingsIntent = new Intent(this, StartUpActivity.class);\n    startActivity(settingsIntent);\n\n}\n</code></pre>\n\n<p>But then it goes to an infinity loop ... :(. And with the resume I can not distinguish whether i came from another activity in my app or if the app was getting back in foreground.</p>\n\n<p>I was also searching a bit but i didn't find a solution to this problem. If i was missed a solution, please provide a link.</p>\n\n<p>Thanks, \nSebi</p>\n"},{"tags":["java","ocr","tesseract"],"owner":{"account_id":25851431,"reputation":51,"user_id":19585355,"display_name":"Kipoti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661764001,"creation_date":1661764001,"question_id":73526482,"body_markdown":"I want to get data from an image. In this case, the picture and the text on it may not be known in advance. Imagine that this is an (unknown in advance) input image:[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/MCI7D.png\r\n\r\nI am using tesseractOCR via Apache Tika. Here is my implementation:\r\n\r\n``` \r\n//other objects\r\nAutoDetectParser parser = new AutoDetectParser();\r\nParseContext pc = new ParseContext(); \r\nMetadata metadata = new Metadata();\r\nTika tika = new Tika();\r\nBodyContentHandler ch = new BodyContentHandler(-1); \r\nInputStream is = new FileInputStream(new File(&quot;src/main/resources/sample.txt&quot;));\r\n\r\n//init\r\nTesseractOCRConfig tesserConfig = new TesseractOCRConfig();\r\ntesserConfig.setTesseractPath(&quot;E:\\\\Program Files\\\\tesseractOCR&quot;);\r\ntesserConfig.setTessdataPath(&quot;E:\\\\Program Files\\\\tesseractOCR\\\\tessdata&quot;); \r\n\r\n//add\r\npc.set(TesseractOCRConfig.class, tesserConfig);\r\n\r\n//using\r\nparser.parse(is, ch, metadata, pc);  \r\n``` \r\n\r\nIf we take into account that when processing the image inside tesseract, the English language is saved by default, then looking at the result, you can see that everything was successfully decomposed.\r\n\r\nBut it was in our case that a coincidence occurred:\r\n1) the language of the text in the picture - eng,\r\n2) processing language inside tesseract - eng.\r\n\r\nBut in the logic of my program there will be no such correspondence. Therefore, there may be text in any other language that will be different from eng.\r\n\r\n----------\r\n\r\nAfter reading the documentation, I found out that it is possible to store multiple languages ​​inside tesseract.\r\n\r\n\r\nIn doing so, I tried to add multiple languages, since there are over 100 languages ​​available, I tried to make such a large string of 80-100 languages. I passed this line to tesseract:\r\n\r\n\r\n``` \r\ntesserConfig.setLanguage(&quot;LANG1+LANG2+...+LANG100&quot;);\r\n``` \r\n\r\nAt the same time, the text in the picture on this and others could not be determined. I have seen 2 modes of operation after that:\r\n\r\n1) an empty string is returned with no content and therefore no test from the picture,\r\n2) a string is returned in which there is some text, but it is not readable, because the language of the text was incorrectly determined.\r\n\r\nTherefore, hence the question, is it possible to determine the language of the text in the picture before OCR or in time, using other libraries or algorithms? I understand that tesseract can determine the language, but if I enter all 100 available languages ​​into it, then the accuracy of the determination drops very much.\r\n\r\nMaybe there is a way to help tesseract in detecting the language using other libraries or algorithms. The idea is that I always don&#39;t know the language of the text in the picture in advance, and I can&#39;t setLanguage by passing eng or all languages ​​there, this solution does not work for me","title":"Can&#39;t get data from image (TesseractOCR)","body":"<p>I want to get data from an image. In this case, the picture and the text on it may not be known in advance. Imagine that this is an (unknown in advance) input image:<a href=\"https://i.stack.imgur.com/MCI7D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MCI7D.png\" alt=\"enter image description here\" /></a></p>\n<p>I am using tesseractOCR via Apache Tika. Here is my implementation:</p>\n<pre><code>//other objects\nAutoDetectParser parser = new AutoDetectParser();\nParseContext pc = new ParseContext(); \nMetadata metadata = new Metadata();\nTika tika = new Tika();\nBodyContentHandler ch = new BodyContentHandler(-1); \nInputStream is = new FileInputStream(new File(&quot;src/main/resources/sample.txt&quot;));\n\n//init\nTesseractOCRConfig tesserConfig = new TesseractOCRConfig();\ntesserConfig.setTesseractPath(&quot;E:\\\\Program Files\\\\tesseractOCR&quot;);\ntesserConfig.setTessdataPath(&quot;E:\\\\Program Files\\\\tesseractOCR\\\\tessdata&quot;); \n\n//add\npc.set(TesseractOCRConfig.class, tesserConfig);\n\n//using\nparser.parse(is, ch, metadata, pc);  \n</code></pre>\n<p>If we take into account that when processing the image inside tesseract, the English language is saved by default, then looking at the result, you can see that everything was successfully decomposed.</p>\n<p>But it was in our case that a coincidence occurred:</p>\n<ol>\n<li>the language of the text in the picture - eng,</li>\n<li>processing language inside tesseract - eng.</li>\n</ol>\n<p>But in the logic of my program there will be no such correspondence. Therefore, there may be text in any other language that will be different from eng.</p>\n<hr />\n<p>After reading the documentation, I found out that it is possible to store multiple languages ​​inside tesseract.</p>\n<p>In doing so, I tried to add multiple languages, since there are over 100 languages ​​available, I tried to make such a large string of 80-100 languages. I passed this line to tesseract:</p>\n<pre><code>tesserConfig.setLanguage(&quot;LANG1+LANG2+...+LANG100&quot;);\n</code></pre>\n<p>At the same time, the text in the picture on this and others could not be determined. I have seen 2 modes of operation after that:</p>\n<ol>\n<li>an empty string is returned with no content and therefore no test from the picture,</li>\n<li>a string is returned in which there is some text, but it is not readable, because the language of the text was incorrectly determined.</li>\n</ol>\n<p>Therefore, hence the question, is it possible to determine the language of the text in the picture before OCR or in time, using other libraries or algorithms? I understand that tesseract can determine the language, but if I enter all 100 available languages ​​into it, then the accuracy of the determination drops very much.</p>\n<p>Maybe there is a way to help tesseract in detecting the language using other libraries or algorithms. The idea is that I always don't know the language of the text in the picture in advance, and I can't setLanguage by passing eng or all languages ​​there, this solution does not work for me</p>\n"},{"tags":["java","spring","spring-webflux","project-reactor","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":10728310,"reputation":53,"user_id":7895169,"display_name":"KonradK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661763493,"creation_date":1661763493,"answer_id":73526371,"question_id":73526111,"body_markdown":"The mistake was using `.bodyValue(BodyInserters.fromResource(resource))` instead of `.body(BodyInserters.fromResource(resource))` in the webClient call.\r\n\r\nThe working code is: \r\n\r\n        this.webClient\r\n                .put()\r\n                .uri(location)\r\n                .contentType(WebClientConfiguration.MEDIA_TYPE_TEXT_CSV)\r\n                .body(BodyInserters.fromResource(resource))\r\n                .retrieve()\r\n                .toBodilessEntity()","title":"Writing CSV file to a request body of Spring Reactive WebClient","body":"<p>The mistake was using <code>.bodyValue(BodyInserters.fromResource(resource))</code> instead of <code>.body(BodyInserters.fromResource(resource))</code> in the webClient call.</p>\n<p>The working code is:</p>\n<pre><code>    this.webClient\n            .put()\n            .uri(location)\n            .contentType(WebClientConfiguration.MEDIA_TYPE_TEXT_CSV)\n            .body(BodyInserters.fromResource(resource))\n            .retrieve()\n            .toBodilessEntity()\n</code></pre>\n"}],"owner":{"account_id":10728310,"reputation":53,"user_id":7895169,"display_name":"KonradK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":830,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73526371,"answer_count":1,"score":0,"last_activity_date":1661763493,"creation_date":1661762126,"question_id":73526111,"body_markdown":"I have a CSV file that I want to add as a request body of a WebClient PUT call. The server only accepts calls with `Content-type : text/csv` (the server is external, so this isn&#39;t something I can change).\r\n\r\nCurrently I&#39;m using `BodyInsertors.fromResource()` method along with a `PathResource` however I&#39;m getting the following exception:\r\n\r\n    org.springframework.web.reactive.function.client.WebClientRequestException: Content type &#39;text/csv;charset=UTF-8&#39; not supported for bodyType=org.springframework.web.reactive.function.BodyInserters$$Lambda$1298/0x00000001008ae440; nested exception is org.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type &#39;text/csv;charset=UTF-8&#39; not supported for bodyType=org.springframework.web.reactive.function.BodyInserters$$Lambda$1298/0x00000001008ae440\r\n\r\n\r\nMy code is:\r\n\r\n    Resource resource = new PathResource(Path.of(&quot;file.txt&quot;));\r\n    assert resource.exists(); // true\r\n    assert resource.isReadable(); // true\r\n    this.webClient\r\n        .put()\r\n        .uri(location)\r\n        .contentType(WebClientConfiguration.MEDIA_TYPE_TEXT_CSV) // new MediaType(&quot;text&quot;, &quot;csv&quot;)\r\n        .bodyValue(BodyInserters.fromResource(resource))\r\n        .retrieve()\r\n        .toBodilessEntity();\r\n\r\nI imagine I may have to register proper codecs when building my WebClient but I&#39;m unaware how to do that.","title":"Writing CSV file to a request body of Spring Reactive WebClient","body":"<p>I have a CSV file that I want to add as a request body of a WebClient PUT call. The server only accepts calls with <code>Content-type : text/csv</code> (the server is external, so this isn't something I can change).</p>\n<p>Currently I'm using <code>BodyInsertors.fromResource()</code> method along with a <code>PathResource</code> however I'm getting the following exception:</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientRequestException: Content type 'text/csv;charset=UTF-8' not supported for bodyType=org.springframework.web.reactive.function.BodyInserters$$Lambda$1298/0x00000001008ae440; nested exception is org.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type 'text/csv;charset=UTF-8' not supported for bodyType=org.springframework.web.reactive.function.BodyInserters$$Lambda$1298/0x00000001008ae440\n</code></pre>\n<p>My code is:</p>\n<pre><code>Resource resource = new PathResource(Path.of(&quot;file.txt&quot;));\nassert resource.exists(); // true\nassert resource.isReadable(); // true\nthis.webClient\n    .put()\n    .uri(location)\n    .contentType(WebClientConfiguration.MEDIA_TYPE_TEXT_CSV) // new MediaType(&quot;text&quot;, &quot;csv&quot;)\n    .bodyValue(BodyInserters.fromResource(resource))\n    .retrieve()\n    .toBodilessEntity();\n</code></pre>\n<p>I imagine I may have to register proper codecs when building my WebClient but I'm unaware how to do that.</p>\n"},{"tags":["java","spring","hibernate","phpmyadmin","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":10309282,"reputation":81,"user_id":7605623,"display_name":"Harun &#199;ETİN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640144616,"creation_date":1639837125,"answer_id":70404156,"question_id":70403003,"body_markdown":"You should check if the user entity ID is null before sending the repository. If the user entity has no ID, spring data jpa will try to add a new record, but your old record will be in the database with the same login constraint.\r\nSecond, you can check login text if null. \r\nThird, you can add an id line with login at uniq contraits.","title":"Why can&#39;t i update an entity when it has a unique constraint on a column","body":"<p>You should check if the user entity ID is null before sending the repository. If the user entity has no ID, spring data jpa will try to add a new record, but your old record will be in the database with the same login constraint.\nSecond, you can check login text if null.\nThird, you can add an id line with login at uniq contraits.</p>\n"},{"tags":[],"owner":{"account_id":20867359,"reputation":101,"user_id":15328090,"display_name":"Igor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639837209,"creation_date":1639837209,"answer_id":70404172,"question_id":70403003,"body_markdown":"SkyMth. Tried to recreate your issue, but it worked fine for me. I might have missed something in your code that makes it fail. However, i will try to help you find the root of the issue.\r\n\r\nI can see you are using Spring Data Jpa to update your entity by calling save() method on your SimpleJpaRepository. This method&#39;s behaviour depends on whether **id** attribute is set to your entity. If it is set, then it tries to update the entity with that id, otherwise it tries to insert your entity into db. In your case it definitely tries to execute insert which is shown in your exception stacktrace:\r\n\r\n    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\r\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)\r\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)\r\n\r\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\r\n\r\n\r\nSo the first thing you need to check is whether the id is present in your entity before the call of save() method.\r\nFor better debugging you also might want the queries generated to be shown in your logs(console), which is turned on by adding this line to your application.properties:\r\n\r\n    spring.jpa.show-sql=true\r\n\r\nThis will let you know for sure which query is executed.\r\n\r\nHope you find this helpful!","title":"Why can&#39;t i update an entity when it has a unique constraint on a column","body":"<p>SkyMth. Tried to recreate your issue, but it worked fine for me. I might have missed something in your code that makes it fail. However, i will try to help you find the root of the issue.</p>\n<p>I can see you are using Spring Data Jpa to update your entity by calling save() method on your SimpleJpaRepository. This method's behaviour depends on whether <strong>id</strong> attribute is set to your entity. If it is set, then it tries to update the entity with that id, otherwise it tries to insert your entity into db. In your case it definitely tries to execute insert which is shown in your exception stacktrace:</p>\n<pre><code>at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\nat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)\nat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)\n\nat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\n</code></pre>\n<p>So the first thing you need to check is whether the id is present in your entity before the call of save() method.\nFor better debugging you also might want the queries generated to be shown in your logs(console), which is turned on by adding this line to your application.properties:</p>\n<pre><code>spring.jpa.show-sql=true\n</code></pre>\n<p>This will let you know for sure which query is executed.</p>\n<p>Hope you find this helpful!</p>\n"},{"tags":[],"owner":{"account_id":26122963,"reputation":1,"user_id":19814953,"display_name":"Hitesh Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661762504,"creation_date":1661762488,"answer_id":73526172,"question_id":70403003,"body_markdown":"@Igor suggestion worked for me. Try to:\r\n1. fetch the record from DB\r\n2. Fetch the id (PK) \r\n3. set the fetched id to user object\r\n4. then call save()\r\nand boom!!!! it&#39;s so simple :D ","title":"Why can&#39;t i update an entity when it has a unique constraint on a column","body":"<p>@Igor suggestion worked for me. Try to:</p>\n<ol>\n<li>fetch the record from DB</li>\n<li>Fetch the id (PK)</li>\n<li>set the fetched id to user object</li>\n<li>then call save()\nand boom!!!! it's so simple :D</li>\n</ol>\n"}],"owner":{"account_id":17862708,"reputation":1,"user_id":12975822,"display_name":"SkyMth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3085,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1661762504,"creation_date":1639826702,"question_id":70403003,"body_markdown":"i am working on my first school project with springboot and thymeleaf . I am supposed to create a crud for two OneToMANY related entities : User and Comments.\r\nI succeded in making the comments&#39; CRUD but i&#39;m having a hard time with the users&#39; Update portion , there seems to be an error related to the UniqueConstraint on the login column but i don&#39;t understand why, so can someone enlighten me as to what i&#39;m doing wrong and how to fix it ? Here is my work :\r\n\r\n 1. User Entity :\r\n----------\r\n\r\n\r\n    @Entity\r\n    @Table(name=&quot;users&quot;,uniqueConstraints = { @UniqueConstraint( \r\n         name=&quot;UniqueUser&quot; , columnNames = {&quot;login&quot;} )})\r\n    public class User implements Serializable{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    \r\n    @Column\r\n   \r\n    private String nom;\r\n    @Column\r\n    \r\n\r\n    private String prenom;\r\n    @Column\r\n     \r\n    private String login;\r\n    @Column\r\n    \r\n    private String password;\r\n    \r\n    @OneToMany(cascade = CascadeType.ALL , fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private List&lt;Comment&gt; comments = new ArrayList&lt;&gt;();\r\n\r\n    public User() {\r\n    }\r\n    public User(String nom, String prenom, String login, String password) {\r\n        this.nom = nom;\r\n        this.prenom = prenom;\r\n        this.login = login;\r\n        this.password = password;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long Id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getNom() {\r\n        return nom;\r\n    }\r\n\r\n    public void setNom(String nom) {\r\n        this.nom = nom;\r\n    }\r\n\r\n    public String getPrenom() {\r\n        return prenom;\r\n    }\r\n\r\n    public void setPrenom(String prenom) {\r\n        this.prenom = prenom;\r\n    }\r\n\r\n    public String getLogin() {\r\n        return login;\r\n    }\r\n\r\n    public void setLogin(String login) {\r\n        this.login = login;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public List&lt;Comment&gt; getComments() {\r\n        return comments;\r\n    }\r\n\r\n    public void setComments(List&lt;Comment&gt; comments) {\r\n        this.comments = comments;\r\n    }    \r\n}\r\n\r\n2.Update form :\r\n\r\n    &lt;form action=&quot;#&quot; th:action=&quot;@{/saveUpdateUser}&quot; th:object=&quot;${user}&quot; method=&quot;POST&quot;&gt;\r\n                        \r\n                        &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;/&gt;\r\n                        &lt;input type=&quot;hidden&quot; th:field=&quot;*{comments}&quot;/&gt;\r\n                        &lt;label for=&quot;nom&quot;&gt;Nom:&lt;/label&gt;\r\n                       \r\n                             &lt;input id=&quot;nom&quot; type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{nom}&quot;/&gt;\r\n                        &lt;/div&gt;\r\n                        \r\n                        &lt;label for=&quot;prenom&quot; class=&quot;form-label&quot;&gt;Prenom:&lt;/label&gt;\r\n                      \r\n                             &lt;input id=&quot;prenom&quot; type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{prenom}&quot;/&gt;\r\n                                                \r\n                         &lt;label for=&quot;login&quot; class=&quot;form-label&quot;&gt;Login:&lt;/label&gt;\r\n                    \r\n                             &lt;input id=&quot;login&quot; type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{login}&quot;/&gt;\r\n                        \r\n                         \r\n                        &lt;label for=&quot;pass&quot; class=&quot;form-label&quot;&gt;Password:&lt;/label&gt;\r\n                      \r\n                             &lt;input id=&quot;pass&quot; type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{password}&quot;/&gt;\r\n                      \r\n          \r\n                        &lt;div&gt;\r\n                            &lt;button type=&quot;submit&quot; class=&quot;btn btn-danger&quot;&gt;Submit&lt;/button&gt;\r\n                       &lt;/div&gt;\r\n                    &lt;/form&gt;\r\n\r\n3.Controller portion for the users&#39; update\r\n\r\n        @GetMapping(&quot;/updateUser/{id}&quot;)\r\n    public String viewUpdateUser(@PathVariable (value=&quot;id&quot;) long id,Model model)\r\n    {\r\n         Optional&lt;User&gt; optional = userRepository.findById(id);\r\n        User user = null;\r\n        if(optional.isPresent())\r\n            user = optional.get();\r\n        else\r\n            throw new RuntimeException (&quot;User not found for id:: &quot; + id);\r\n        model.addAttribute(&quot;user&quot;,user);\r\n        return &quot;update_user&quot;;\r\n    }\r\n    @PostMapping(&quot;saveUpdateUser&quot;)\r\n    public String saveUpdateUser(@ModelAttribute(&quot;user&quot;) @Valid User user,Errors errors)\r\n    {\r\n        if(errors.hasErrors())\r\n            return &quot;update_user&quot;;\r\n        userRepository.save(user);\r\n        return &quot;redirect:/Users&quot;;\r\n    }\r\n2.The error :\r\n\r\n   \r\n\r\n     Whitelabel Error Page\r\n    This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n    \r\n    Sat Dec 18 11:28:09 CET 2021\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n    \tat com.sun.proxy.$Proxy110.save(Unknown Source)\r\n    \tat projet.sgbd.controller.CommentController.saveUpdateUser(CommentController.java:165)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    \tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n    \tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57)\r\n    \tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)\r\n    \tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\r\n    \tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\r\n    \tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\r\n    \tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\r\n    \tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n    \tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:774)\r\n    \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:760)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\r\n    \tat com.sun.proxy.$Proxy104.persist(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\r\n    \tat com.sun.proxy.$Proxy104.persist(Unknown Source)\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:624)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:638)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n    \t... 58 more\r\n    Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicata du champ &#39;Siri&#39; pour la clef &#39;UniqueUser&#39;\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031)\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n    \t... 111 more\r\n\r\nI hope it&#39;s fine to add all this error page . Please tell me in case i should provide more details \r\n\r\n","title":"Why can&#39;t i update an entity when it has a unique constraint on a column","body":"<p>i am working on my first school project with springboot and thymeleaf . I am supposed to create a crud for two OneToMANY related entities : User and Comments.\nI succeded in making the comments' CRUD but i'm having a hard time with the users' Update portion , there seems to be an error related to the UniqueConstraint on the login column but i don't understand why, so can someone enlighten me as to what i'm doing wrong and how to fix it ? Here is my work :</p>\n<ol>\n<li>User Entity :</li>\n</ol>\n<hr />\n<pre><code>@Entity\n@Table(name=&quot;users&quot;,uniqueConstraints = { @UniqueConstraint( \n     name=&quot;UniqueUser&quot; , columnNames = {&quot;login&quot;} )})\npublic class User implements Serializable{\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long id;\n\n@Column\n\nprivate String nom;\n@Column\n\n\nprivate String prenom;\n@Column\n \nprivate String login;\n@Column\n\nprivate String password;\n\n@OneToMany(cascade = CascadeType.ALL , fetch = FetchType.EAGER)\n@JoinColumn(name = &quot;user_id&quot;)\nprivate List&lt;Comment&gt; comments = new ArrayList&lt;&gt;();\n\npublic User() {\n}\npublic User(String nom, String prenom, String login, String password) {\n    this.nom = nom;\n    this.prenom = prenom;\n    this.login = login;\n    this.password = password;\n}\n\npublic long getId() {\n    return id;\n}\n\npublic void setId(long Id) {\n    this.id = id;\n}\n\npublic String getNom() {\n    return nom;\n}\n\npublic void setNom(String nom) {\n    this.nom = nom;\n}\n\npublic String getPrenom() {\n    return prenom;\n}\n\npublic void setPrenom(String prenom) {\n    this.prenom = prenom;\n}\n\npublic String getLogin() {\n    return login;\n}\n\npublic void setLogin(String login) {\n    this.login = login;\n}\n\npublic String getPassword() {\n    return password;\n}\n\npublic void setPassword(String password) {\n    this.password = password;\n}\n\npublic List&lt;Comment&gt; getComments() {\n    return comments;\n}\n\npublic void setComments(List&lt;Comment&gt; comments) {\n    this.comments = comments;\n}    \n</code></pre>\n<p>}</p>\n<p>2.Update form :</p>\n<pre><code>&lt;form action=&quot;#&quot; th:action=&quot;@{/saveUpdateUser}&quot; th:object=&quot;${user}&quot; method=&quot;POST&quot;&gt;\n                    \n                    &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;/&gt;\n                    &lt;input type=&quot;hidden&quot; th:field=&quot;*{comments}&quot;/&gt;\n                    &lt;label for=&quot;nom&quot;&gt;Nom:&lt;/label&gt;\n                   \n                         &lt;input id=&quot;nom&quot; type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{nom}&quot;/&gt;\n                    &lt;/div&gt;\n                    \n                    &lt;label for=&quot;prenom&quot; class=&quot;form-label&quot;&gt;Prenom:&lt;/label&gt;\n                  \n                         &lt;input id=&quot;prenom&quot; type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{prenom}&quot;/&gt;\n                                            \n                     &lt;label for=&quot;login&quot; class=&quot;form-label&quot;&gt;Login:&lt;/label&gt;\n                \n                         &lt;input id=&quot;login&quot; type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{login}&quot;/&gt;\n                    \n                     \n                    &lt;label for=&quot;pass&quot; class=&quot;form-label&quot;&gt;Password:&lt;/label&gt;\n                  \n                         &lt;input id=&quot;pass&quot; type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{password}&quot;/&gt;\n                  \n      \n                    &lt;div&gt;\n                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-danger&quot;&gt;Submit&lt;/button&gt;\n                   &lt;/div&gt;\n                &lt;/form&gt;\n</code></pre>\n<p>3.Controller portion for the users' update</p>\n<pre><code>    @GetMapping(&quot;/updateUser/{id}&quot;)\npublic String viewUpdateUser(@PathVariable (value=&quot;id&quot;) long id,Model model)\n{\n     Optional&lt;User&gt; optional = userRepository.findById(id);\n    User user = null;\n    if(optional.isPresent())\n        user = optional.get();\n    else\n        throw new RuntimeException (&quot;User not found for id:: &quot; + id);\n    model.addAttribute(&quot;user&quot;,user);\n    return &quot;update_user&quot;;\n}\n@PostMapping(&quot;saveUpdateUser&quot;)\npublic String saveUpdateUser(@ModelAttribute(&quot;user&quot;) @Valid User user,Errors errors)\n{\n    if(errors.hasErrors())\n        return &quot;update_user&quot;;\n    userRepository.save(user);\n    return &quot;redirect:/Users&quot;;\n}\n</code></pre>\n<p>2.The error :</p>\n<pre><code> Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nSat Dec 18 11:28:09 CET 2021\nThere was an unexpected error (type=Internal Server Error, status=500).\ncould not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\norg.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy110.save(Unknown Source)\n    at projet.sgbd.controller.CommentController.saveUpdateUser(CommentController.java:165)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n    at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57)\n    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:774)\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:760)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\n    at com.sun.proxy.$Proxy104.persist(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\n    at com.sun.proxy.$Proxy104.persist(Unknown Source)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:624)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:638)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 58 more\nCaused by: java.sql.SQLIntegrityConstraintViolationException: Duplicata du champ 'Siri' pour la clef 'UniqueUser'\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n    ... 111 more\n</code></pre>\n<p>I hope it's fine to add all this error page . Please tell me in case i should provide more details</p>\n"},{"tags":["java","annotations","lombok"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1661748104,"post_id":73524176,"comment_id":129836718,"body_markdown":"Does this answer your question? [Create custom annotation for Lombok 1.16.8](https://stackoverflow.com/questions/73175224/create-custom-annotation-for-lombok-1-16-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/73175224/create-custom-annotation-for-lombok-1-16-8\">Create custom annotation for Lombok 1.16.8</a>"}],"answers":[{"tags":[],"owner":{"account_id":24350641,"reputation":125,"user_id":18286518,"display_name":"Find Bugs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661762475,"creation_date":1661762475,"answer_id":73526171,"question_id":73524176,"body_markdown":"Try to use `JavaAnnotationProcessor` to parse the custom annotation and generate the target code while compiling. ","title":"how to create like lombok annotation @getter?","body":"<p>Try to use <code>JavaAnnotationProcessor</code> to parse the custom annotation and generate the target code while compiling.</p>\n"}],"owner":{"account_id":19066078,"reputation":73,"user_id":13921155,"display_name":"TomYOON"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661762475,"creation_date":1661747857,"question_id":73524176,"body_markdown":"I want to create an annotation(=@MyGetter) that does this \r\n\r\n```java\r\n@MyGetter\r\npublic class AnyClass {\r\n\r\n    private String fieldVariable;\r\n\r\n}\r\n```\r\nconvert to (on compile)\r\n```java\r\n@MyGetter\r\npublic class AnyClass {\r\n\r\n    private String fieldVariable;\r\n\r\n    public String getFieldVariable() {\r\n        if (isHexString()) {\r\n            return ... // process\r\n        }\r\n        return fieldVariable\r\n    }\r\n}\r\n```\r\n\r\nIn short, I want to create a getter that returns a string according to a specific condition when I put the annotation I made.\r\n\r\nhow can create this? &#128514;\r\n\r\n","title":"how to create like lombok annotation @getter?","body":"<p>I want to create an annotation(=@MyGetter) that does this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MyGetter\npublic class AnyClass {\n\n    private String fieldVariable;\n\n}\n</code></pre>\n<p>convert to (on compile)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MyGetter\npublic class AnyClass {\n\n    private String fieldVariable;\n\n    public String getFieldVariable() {\n        if (isHexString()) {\n            return ... // process\n        }\n        return fieldVariable\n    }\n}\n</code></pre>\n<p>In short, I want to create a getter that returns a string according to a specific condition when I put the annotation I made.</p>\n<p>how can create this? 😂</p>\n"},{"tags":["java","spring-boot","hibernate","kotlin"],"comments":[{"owner":{"account_id":19701987,"reputation":56,"user_id":14906828,"display_name":"rlowell"},"score":0,"creation_date":1661609060,"post_id":73510291,"comment_id":129815128,"body_markdown":"user and job are @entity?","body":"user and job are @entity?"},{"owner":{"account_id":12612034,"reputation":226,"user_id":9170790,"display_name":"JamieRhys"},"score":0,"creation_date":1661609228,"post_id":73510291,"comment_id":129815162,"body_markdown":"Yes they are both @entity","body":"Yes they are both @entity"},{"owner":{"account_id":19701987,"reputation":56,"user_id":14906828,"display_name":"rlowell"},"score":0,"creation_date":1661610542,"post_id":73510291,"comment_id":129815436,"body_markdown":"maybe u have another fields without annotation &quot;@Column&quot;?","body":"maybe u have another fields without annotation &quot;@Column&quot;?"},{"owner":{"account_id":12612034,"reputation":226,"user_id":9170790,"display_name":"JamieRhys"},"score":0,"creation_date":1661610834,"post_id":73510291,"comment_id":129815493,"body_markdown":"I don&#39;t understand what you mean?","body":"I don&#39;t understand what you mean?"},{"owner":{"account_id":19701987,"reputation":56,"user_id":14906828,"display_name":"rlowell"},"score":0,"creation_date":1661610971,"post_id":73510291,"comment_id":129815525,"body_markdown":"Are there any fields in your classes that are not annotated with the @Column annotation?","body":"Are there any fields in your classes that are not annotated with the @Column annotation?"},{"owner":{"account_id":12612034,"reputation":226,"user_id":9170790,"display_name":"JamieRhys"},"score":0,"creation_date":1661612803,"post_id":73510291,"comment_id":129815874,"body_markdown":"Everything has @Column attached to them.","body":"Everything has @Column attached to them."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661762441,"creation_date":1661762441,"answer_id":73526164,"question_id":73510291,"body_markdown":"The way you are declaring this, you are telling Hibernate that `creationUser` is a basic typed field, where basic types are things like `String`, `Integer` etc.\r\n\r\nYou should instead mark this as an association and use the `@JoinColumn` annotation.\r\n\r\n```java\r\n@ManyToOne(fetch = FetchType.LAZY)\r\n@JoinColumn(name = &quot;creationUser&quot;)\r\nval creationUser: User? = null,\r\n```","title":"Creating a OneToMany relationship between two objects in Spring Boot Kotlin","body":"<p>The way you are declaring this, you are telling Hibernate that <code>creationUser</code> is a basic typed field, where basic types are things like <code>String</code>, <code>Integer</code> etc.</p>\n<p>You should instead mark this as an association and use the <code>@JoinColumn</code> annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;creationUser&quot;)\nval creationUser: User? = null,\n</code></pre>\n"}],"owner":{"account_id":12612034,"reputation":226,"user_id":9170790,"display_name":"JamieRhys"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73526164,"answer_count":1,"score":0,"last_activity_date":1661762441,"creation_date":1661597000,"question_id":73510291,"body_markdown":"I&#39;m struggling to wrap my head around how relationships are supposed to be set out in Spring Boot.\r\n\r\nAt the moment I have a User class (unfortunately in Java as I&#39;ve not gotten around to converting it to Kotlin) and a Job class (in Kotlin).\r\n\r\nWhen a Job is created, I need the user to be assigned to it. I also want to be able to see who created the job from Job.\r\n\r\nHere&#39;s what I&#39;ve tried so far:\r\n\r\nUser.java\r\n```\r\n@OneToMany(mappedBy=&quot;creationUser&quot;)\r\nprivate Set&lt;Job&gt; createdJobs = new HashSet&lt;&gt;()\r\n\r\n...\r\n\r\npublic Set&lt;Job&gt; getCreatedJobs() { return createdJobs; }\r\n\r\npublic void setCreatedJobs(Set&lt;Job&gt; createdJobs) { this.createdJobs = createdJobs; }\r\n```\r\n\r\nJob (Kotlin data class):\r\n```\r\n@Column(name = &quot;creationUser&quot;)\r\nval creationUser: User? = null,\r\n```\r\n\r\nI get the following error when I try and run it (still a little new to Spring Boot so not sure what it&#39;s saying)\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: com.jre.hireout.database.entities.users.User, at table: table_jobs, for columns: [org.hibernate.mapping.Column(creation_user)]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat com.jre.hireout.HireOutApplication.main(HireOutApplication.java:26) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.3.jar:2.7.3]\r\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: com.jre.hireout.database.entities.users.User, at table: table_jobs, for columns: [org.hibernate.mapping.Column(creation_user)]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\t... 19 common frames omitted\r\nCaused by: org.hibernate.MappingException: Could not determine type for: com.jre.hireout.database.entities.users.User, at table: table_jobs, for columns: [org.hibernate.mapping.Column(creation_user)]\r\n\tat org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:515) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:482) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.mapping.Property.isValid(Property.java:231) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:627) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.mapping.RootClass.validate(RootClass.java:267) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:359) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:314) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\t... 23 common frames omitted\r\n```","title":"Creating a OneToMany relationship between two objects in Spring Boot Kotlin","body":"<p>I'm struggling to wrap my head around how relationships are supposed to be set out in Spring Boot.</p>\n<p>At the moment I have a User class (unfortunately in Java as I've not gotten around to converting it to Kotlin) and a Job class (in Kotlin).</p>\n<p>When a Job is created, I need the user to be assigned to it. I also want to be able to see who created the job from Job.</p>\n<p>Here's what I've tried so far:</p>\n<p>User.java</p>\n<pre><code>@OneToMany(mappedBy=&quot;creationUser&quot;)\nprivate Set&lt;Job&gt; createdJobs = new HashSet&lt;&gt;()\n\n...\n\npublic Set&lt;Job&gt; getCreatedJobs() { return createdJobs; }\n\npublic void setCreatedJobs(Set&lt;Job&gt; createdJobs) { this.createdJobs = createdJobs; }\n</code></pre>\n<p>Job (Kotlin data class):</p>\n<pre><code>@Column(name = &quot;creationUser&quot;)\nval creationUser: User? = null,\n</code></pre>\n<p>I get the following error when I try and run it (still a little new to Spring Boot so not sure what it's saying)</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: com.jre.hireout.database.entities.users.User, at table: table_jobs, for columns: [org.hibernate.mapping.Column(creation_user)]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.3.jar:2.7.3]\n    at com.jre.hireout.HireOutApplication.main(HireOutApplication.java:26) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.3.jar:2.7.3]\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not determine type for: com.jre.hireout.database.entities.users.User, at table: table_jobs, for columns: [org.hibernate.mapping.Column(creation_user)]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\n    ... 19 common frames omitted\nCaused by: org.hibernate.MappingException: Could not determine type for: com.jre.hireout.database.entities.users.User, at table: table_jobs, for columns: [org.hibernate.mapping.Column(creation_user)]\n    at org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:515) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:482) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.mapping.Property.isValid(Property.java:231) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:627) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.mapping.RootClass.validate(RootClass.java:267) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:359) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:314) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.22.jar:5.3.22]\n    ... 23 common frames omitted\n</code></pre>\n"},{"tags":["java","android-studio","opencv","image-processing","contour"],"comments":[{"owner":{"account_id":17547232,"reputation":5322,"user_id":12728244,"display_name":"stateMachine"},"score":0,"creation_date":1592813323,"post_id":62509460,"comment_id":110547784,"body_markdown":"What if you use the blob centroids to order the words from top left corner to right bottom? The first centroid is also the closest to (0,0)...","body":"What if you use the blob centroids to order the words from top left corner to right bottom? The first centroid is also the closest to (0,0)..."},{"owner":{"account_id":3407423,"reputation":27749,"user_id":2858170,"display_name":"Piglet"},"score":0,"creation_date":1592826234,"post_id":62509460,"comment_id":110554155,"body_markdown":"I&#39;m not willing to read through uncommented code, but this is actually trivial. you find words of each line through similar y coordinates and then sort those line words by ascending x.","body":"I&#39;m not willing to read through uncommented code, but this is actually trivial. you find words of each line through similar y coordinates and then sort those line words by ascending x."}],"owner":{"account_id":16422259,"reputation":69,"user_id":11863196,"display_name":"Ali Raza Abbasi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661762417,"creation_date":1592811137,"question_id":62509460,"body_markdown":"I have a text image and I have found the contours for every word. Now I want to crop all the contours in the order they appear in the text. I have tried to sort the contours from left to right but did not succeed. How do I do this?\r\n\r\nWhat I am getting in `result` is the word images in random order but I want them in the same order as in the image.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/te4Re.jpg\r\n\r\n```\r\n            Mat finalMat = mats[1];\r\n            Mat mat2 = mats[0];\r\n            Mat gray = new Mat(finalMat.rows(),finalMat.height(),CvType.CV_8UC1);\r\n            Imgproc.cvtColor(finalMat,gray,Imgproc.COLOR_BGR2GRAY);\r\n\r\n            Mat mat = new Mat();\r\n\r\n            Imgproc.dilate(mat2, mat, Imgproc.getStructuringElement(Imgproc.MORPH_RECT, new Size(12, 5)));\r\n\r\n            Mat hierarchy = new Mat();\r\n            List&lt;MatOfPoint&gt; contours = new ArrayList&lt;&gt;();\r\n\r\n            Imgproc.findContours(mat,contours,hierarchy,Imgproc.RETR_EXTERNAL, \r\n            Imgproc.CHAIN_APPROX_SIMPLE);\r\n\r\n            Collections.sort(contours, new Comparator&lt;MatOfPoint&gt;() {\r\n            @Override\r\n            public int compare(MatOfPoint o1, MatOfPoint o2) {\r\n                Rect rect1 = Imgproc.boundingRect(o1);\r\n                Rect rect2 = Imgproc.boundingRect(o2);\r\n                int result = 0;\r\n                double total = rect1.tl().y/rect2.tl().y;\r\n                if (total&gt;=0.9 &amp;&amp; total&lt;=1.4 ){\r\n                    result = Double.compare(rect1.tl().x, rect2.tl().x);\r\n                }\r\n                return result;\r\n            }\r\n        });\r\n\r\n          for (int contourIdx = 0; contourIdx &lt; contours.size(); contourIdx++) {\r\n\r\n                if (Imgproc.contourArea(contours.get(contourIdx)) &gt; 50 ){\r\n                    Rect rect = Imgproc.boundingRect(contours.get(contourIdx));\r\n                    if (rect.height &gt; 28){\r\n                        Mat crop;\r\n                        if((rect.y + rect.height+15)&lt;gray.rows() &amp;&amp; rect.y-3&gt;1)\r\n                        {\r\n                            Imgproc.rectangle(finalMat, new Point(rect.x,rect.y-3), new Point(rect.x+rect.width,rect.y-3+rect.height+15),new Scalar(255,0,0));\r\n                            crop = gray.submat(rect.y-3, rect.y-3 + rect.height+15, rect.x, rect.x + rect.width);\r\n\r\n                        }\r\n                        else {\r\n                            Imgproc.rectangle(finalMat, new Point(rect.x,rect.y), new Point(rect.x+rect.width,rect.y+rect.height),new Scalar(255,0,0));\r\n                            crop = gray.submat(rect.y, rect.y + rect.height, rect.x, rect.x + rect.width);\r\n                        }\r\n\r\n                        Bitmap bmp = Bitmap.createBitmap(crop.width(), crop.height(), Bitmap.Config.ARGB_8888);\r\n                        Utils.matToBitmap(crop, bmp);\r\n                        MediaStore.Images.Media.insertImage(getContentResolver(), bmp, contourIdx+&quot;.jpg&quot; , null);\r\n                    }\r\n                }\r\n            }\r\n\r\n```","title":"How to crop the words in order as they appear in the text image","body":"<p>I have a text image and I have found the contours for every word. Now I want to crop all the contours in the order they appear in the text. I have tried to sort the contours from left to right but did not succeed. How do I do this?</p>\n<p>What I am getting in <code>result</code> is the word images in random order but I want them in the same order as in the image.</p>\n<p><a href=\"https://i.stack.imgur.com/te4Re.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/te4Re.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>            Mat finalMat = mats[1];\n            Mat mat2 = mats[0];\n            Mat gray = new Mat(finalMat.rows(),finalMat.height(),CvType.CV_8UC1);\n            Imgproc.cvtColor(finalMat,gray,Imgproc.COLOR_BGR2GRAY);\n\n            Mat mat = new Mat();\n\n            Imgproc.dilate(mat2, mat, Imgproc.getStructuringElement(Imgproc.MORPH_RECT, new Size(12, 5)));\n\n            Mat hierarchy = new Mat();\n            List&lt;MatOfPoint&gt; contours = new ArrayList&lt;&gt;();\n\n            Imgproc.findContours(mat,contours,hierarchy,Imgproc.RETR_EXTERNAL, \n            Imgproc.CHAIN_APPROX_SIMPLE);\n\n            Collections.sort(contours, new Comparator&lt;MatOfPoint&gt;() {\n            @Override\n            public int compare(MatOfPoint o1, MatOfPoint o2) {\n                Rect rect1 = Imgproc.boundingRect(o1);\n                Rect rect2 = Imgproc.boundingRect(o2);\n                int result = 0;\n                double total = rect1.tl().y/rect2.tl().y;\n                if (total&gt;=0.9 &amp;&amp; total&lt;=1.4 ){\n                    result = Double.compare(rect1.tl().x, rect2.tl().x);\n                }\n                return result;\n            }\n        });\n\n          for (int contourIdx = 0; contourIdx &lt; contours.size(); contourIdx++) {\n\n                if (Imgproc.contourArea(contours.get(contourIdx)) &gt; 50 ){\n                    Rect rect = Imgproc.boundingRect(contours.get(contourIdx));\n                    if (rect.height &gt; 28){\n                        Mat crop;\n                        if((rect.y + rect.height+15)&lt;gray.rows() &amp;&amp; rect.y-3&gt;1)\n                        {\n                            Imgproc.rectangle(finalMat, new Point(rect.x,rect.y-3), new Point(rect.x+rect.width,rect.y-3+rect.height+15),new Scalar(255,0,0));\n                            crop = gray.submat(rect.y-3, rect.y-3 + rect.height+15, rect.x, rect.x + rect.width);\n\n                        }\n                        else {\n                            Imgproc.rectangle(finalMat, new Point(rect.x,rect.y), new Point(rect.x+rect.width,rect.y+rect.height),new Scalar(255,0,0));\n                            crop = gray.submat(rect.y, rect.y + rect.height, rect.x, rect.x + rect.width);\n                        }\n\n                        Bitmap bmp = Bitmap.createBitmap(crop.width(), crop.height(), Bitmap.Config.ARGB_8888);\n                        Utils.matToBitmap(crop, bmp);\n                        MediaStore.Images.Media.insertImage(getContentResolver(), bmp, contourIdx+&quot;.jpg&quot; , null);\n                    }\n                }\n            }\n\n</code></pre>\n"},{"tags":["java","hibernate","ehcache"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661762078,"creation_date":1661762078,"answer_id":73526104,"question_id":73507689,"body_markdown":"Since `saveOrUpdate` was deprecated in 6.0 with `merge` being the replacement for it, the migration is good. This method will be removed in the future and there will be no further feature development for it.","title":"Hibernate Session.merge() hits second level cache, but saveOrUpdate does not","body":"<p>Since <code>saveOrUpdate</code> was deprecated in 6.0 with <code>merge</code> being the replacement for it, the migration is good. This method will be removed in the future and there will be no further feature development for it.</p>\n"}],"owner":{"account_id":26170042,"reputation":13,"user_id":19855191,"display_name":"MZ820"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73526104,"answer_count":1,"score":1,"last_activity_date":1661762078,"creation_date":1661562039,"question_id":73507689,"body_markdown":"I have a requirement to frequently synchronize a large collection of detached entities to the database, and am wanting to do so with `Session.saveOrUpdate()`. These entities are of the same type and have several OneToMany CascadeType.ALL associations.\r\n\r\nThis is currently a performance hotspot that slows down my application (it&#39;s taking minutes and I need it to take seconds). To solve this, I&#39;ve looked to Hibernate&#39;s second level cache (with EhCache).\r\n\r\nMy problem is that each time I attempt a `saveOrUpdate` on these entities, Hibernate&#39;s statistics show I accumulate many puts, but always 0 hits and 0 misses. And (interestingly) the puts continue to accumulate each time I attempt the `saveOrUpdate` again.\r\n\r\nThe good news is I have been able to refactor my application to use `Session.merge()` instead of `saveOrUpdate`. With this, I am successfully hitting the second level cache and achieving a noticeable performance improvement, and my detached entities and their associations are synchronized to the database correctly.\r\n\r\nMy question is why isn&#39;t the second level cache hit when I invoke `saveOrUpdate`? If I could use `saveOrUpdate`, my code changes would have been minimal. I&#39;ve glanced at the Hibernate source code&#39;s `saveOrUpdate` implementation and found this `TODO` that seemingly (without fully understanding the code) bypasses the second level cache:\r\n\r\nhttps://github.com/hibernate/hibernate-orm/blob/5.2.10/hibernate-core/src/main/java/org/hibernate/event/internal/DefaultSaveOrUpdateEventListener.java#L295-L305\r\n\r\nIs that the answer? This capability just hasn&#39;t been implemented yet? My Hibernate version is 5.2.10, and I confirmed the current Hibernate version (6.1.2) still contains to the TODO.\r\n\r\n","title":"Hibernate Session.merge() hits second level cache, but saveOrUpdate does not","body":"<p>I have a requirement to frequently synchronize a large collection of detached entities to the database, and am wanting to do so with <code>Session.saveOrUpdate()</code>. These entities are of the same type and have several OneToMany CascadeType.ALL associations.</p>\n<p>This is currently a performance hotspot that slows down my application (it's taking minutes and I need it to take seconds). To solve this, I've looked to Hibernate's second level cache (with EhCache).</p>\n<p>My problem is that each time I attempt a <code>saveOrUpdate</code> on these entities, Hibernate's statistics show I accumulate many puts, but always 0 hits and 0 misses. And (interestingly) the puts continue to accumulate each time I attempt the <code>saveOrUpdate</code> again.</p>\n<p>The good news is I have been able to refactor my application to use <code>Session.merge()</code> instead of <code>saveOrUpdate</code>. With this, I am successfully hitting the second level cache and achieving a noticeable performance improvement, and my detached entities and their associations are synchronized to the database correctly.</p>\n<p>My question is why isn't the second level cache hit when I invoke <code>saveOrUpdate</code>? If I could use <code>saveOrUpdate</code>, my code changes would have been minimal. I've glanced at the Hibernate source code's <code>saveOrUpdate</code> implementation and found this <code>TODO</code> that seemingly (without fully understanding the code) bypasses the second level cache:</p>\n<p><a href=\"https://github.com/hibernate/hibernate-orm/blob/5.2.10/hibernate-core/src/main/java/org/hibernate/event/internal/DefaultSaveOrUpdateEventListener.java#L295-L305\" rel=\"nofollow noreferrer\">https://github.com/hibernate/hibernate-orm/blob/5.2.10/hibernate-core/src/main/java/org/hibernate/event/internal/DefaultSaveOrUpdateEventListener.java#L295-L305</a></p>\n<p>Is that the answer? This capability just hasn't been implemented yet? My Hibernate version is 5.2.10, and I confirmed the current Hibernate version (6.1.2) still contains to the TODO.</p>\n"},{"tags":["java","xml","hibernate"],"owner":{"account_id":25913929,"reputation":11,"user_id":19637592,"display_name":"StormBreaker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661761985,"creation_date":1661754863,"question_id":73524914,"body_markdown":"I am facing this issue and I am not able to find the solution, have looked on many online solution but didn&#39;t get anything precise\r\n\r\nI am getting this error related to the dialect\r\n\r\n    org.hibernate.HibernateException: Use of DefaultSchemaNameResolver requires Dialect to provide the proper SQL statement/command but provided Dialect [org.hibernate.dialect.DB2Dialect] did not return anything from Dialect#getCurrentSchemaCommand\r\n    \tat org.hibernate.engine.jdbc.env.internal.DefaultSchemaNameResolver$SchemaNameResolverFallbackDelegate.resolveSchemaName(DefaultSchemaNameResolver.java:100) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.hibernate.engine.jdbc.env.internal.DefaultSchemaNameResolver.resolveSchemaName(DefaultSchemaNameResolver.java:76) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentImpl.determineCurrentSchemaName(JdbcEnvironmentImpl.java:315) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentImpl.&lt;init&gt;(JdbcEnvironmentImpl.java:273) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:114) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:179) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:176) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:86) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:479) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:85) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:709) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:744) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\r\n    \tat org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:616) ~[spring-orm-5.1.10.RELEASE.jar:5.1.10.RELEASE]\r\n    \tat org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:600) ~[spring-orm-5.1.10.RELEASE.jar:5.1.10.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) [spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) [spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) [spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:934) [spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) [spring-context-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) [spring-context-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144) [spring-context-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85) [spring-context-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.batch.core.launch.support.CommandLineJobRunner.start(CommandLineJobRunner.java:307) [spring-batch-core-4.3.4.jar:4.3.4]\r\n    \tat org.springframework.batch.core.launch.support.CommandLineJobRunner.main(CommandLineJobRunner.java:582) [spring-batch-core-4.3.4.jar:4.3.4]\r\n\r\nMy Hibernate Context XML is having these properties and Dialect the problem is coming for DB2 plz suggest me the fix following is the HibernateContext.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t http://www.springframework.org/schema/tx \r\n    \thttp://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;\r\n        \t\r\n    \t&lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;edbDataSource&quot; /&gt;\r\n    \t\t&lt;property name=&quot;mappingLocations&quot; &gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;value&gt;com\\/uhg\\/esbdb\\/common\\/configs\\/CommonDBMapping.hbm.xml&lt;/value&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.Oracle10gDialect&lt;/prop&gt;\r\n    \t\t&lt;/props&gt;\r\n    \t\t\t&lt;!--&lt;value&gt;\r\n    \t\t\t\t&lt;![CDATA[hibernate.show_sql=true\t\r\n    \t\t\t\thibernate.format_sql=false]]&gt;\r\n    \t\t\t&lt;/value&gt;\r\n    \t\t--&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t\r\n    \t&lt;/bean&gt;\t\r\n    \r\n    \t&lt;bean id=&quot;esbBulkScheduleReqMmrSessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;MMRDataSource&quot; /&gt;\r\n    \t\t&lt;property name=&quot;mappingLocations&quot; &gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;value&gt;com\\/uhg\\/esbdb\\/common\\/configs\\/EsbBulkScheduleReqMmrDBMapping.hbm.xml&lt;/value&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\r\n    \t\t&lt;props&gt;\r\n    \t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.DB2Dialect&lt;/prop&gt;\r\n    \t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\r\n    \r\n    \t&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot; lazy-init=&quot;true&quot;&gt;\r\n    \t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;tx:annotation-driven transaction-manager=&quot;mmrTransactionManager&quot; /&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;mmrTransactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot; lazy-init=&quot;true&quot;&gt;\r\n    \t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;esbBulkScheduleReqMmrSessionFactory&quot; /&gt;\r\n    \t\t&lt;property name=&quot;defaultTimeout&quot; value=&quot;300&quot; /&gt;\r\n    \t&lt;/bean&gt;\t\r\n    \r\n    &lt;/beans&gt;","title":"org.hibernate.HibernateException: Use of DefaultSchemaNameResolver requires Dialect to provide the proper SQL statement/command-&gt;aftrUpdatingHbrntV3-5","body":"<p>I am facing this issue and I am not able to find the solution, have looked on many online solution but didn't get anything precise</p>\n<p>I am getting this error related to the dialect</p>\n<pre><code>org.hibernate.HibernateException: Use of DefaultSchemaNameResolver requires Dialect to provide the proper SQL statement/command but provided Dialect [org.hibernate.dialect.DB2Dialect] did not return anything from Dialect#getCurrentSchemaCommand\n    at org.hibernate.engine.jdbc.env.internal.DefaultSchemaNameResolver$SchemaNameResolverFallbackDelegate.resolveSchemaName(DefaultSchemaNameResolver.java:100) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.hibernate.engine.jdbc.env.internal.DefaultSchemaNameResolver.resolveSchemaName(DefaultSchemaNameResolver.java:76) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentImpl.determineCurrentSchemaName(JdbcEnvironmentImpl.java:315) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentImpl.&lt;init&gt;(JdbcEnvironmentImpl.java:273) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:114) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:179) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:176) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:86) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:479) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:85) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:709) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:744) ~[hibernate-core-5.5.4.Final.jar:5.5.4.Final]\n    at org.springframework.orm.hibernate5.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:616) ~[spring-orm-5.1.10.RELEASE.jar:5.1.10.RELEASE]\n    at org.springframework.orm.hibernate5.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:600) ~[spring-orm-5.1.10.RELEASE.jar:5.1.10.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) [spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) [spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) [spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:934) [spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) [spring-context-5.3.14.jar:5.3.14]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) [spring-context-5.3.14.jar:5.3.14]\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144) [spring-context-5.3.14.jar:5.3.14]\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85) [spring-context-5.3.14.jar:5.3.14]\n    at org.springframework.batch.core.launch.support.CommandLineJobRunner.start(CommandLineJobRunner.java:307) [spring-batch-core-4.3.4.jar:4.3.4]\n    at org.springframework.batch.core.launch.support.CommandLineJobRunner.main(CommandLineJobRunner.java:582) [spring-batch-core-4.3.4.jar:4.3.4]\n</code></pre>\n<p>My Hibernate Context XML is having these properties and Dialect the problem is coming for DB2 plz suggest me the fix following is the HibernateContext.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n     http://www.springframework.org/schema/tx \n    http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;\n        \n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;edbDataSource&quot; /&gt;\n        &lt;property name=&quot;mappingLocations&quot; &gt;\n            &lt;list&gt;\n                &lt;value&gt;com\\/uhg\\/esbdb\\/common\\/configs\\/CommonDBMapping.hbm.xml&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\n            &lt;props&gt;\n            &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.Oracle10gDialect&lt;/prop&gt;\n        &lt;/props&gt;\n            &lt;!--&lt;value&gt;\n                &lt;![CDATA[hibernate.show_sql=true    \n                hibernate.format_sql=false]]&gt;\n            &lt;/value&gt;\n        --&gt;\n        &lt;/property&gt;\n        \n    &lt;/bean&gt; \n\n    &lt;bean id=&quot;esbBulkScheduleReqMmrSessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;MMRDataSource&quot; /&gt;\n        &lt;property name=&quot;mappingLocations&quot; &gt;\n            &lt;list&gt;\n                &lt;value&gt;com\\/uhg\\/esbdb\\/common\\/configs\\/EsbBulkScheduleReqMmrDBMapping.hbm.xml&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\n        \n        &lt;props&gt;\n            &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.DB2Dialect&lt;/prop&gt;\n        &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\n\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot; lazy-init=&quot;true&quot;&gt;\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\n    &lt;/bean&gt;\n    \n    &lt;tx:annotation-driven transaction-manager=&quot;mmrTransactionManager&quot; /&gt;\n    \n    &lt;bean id=&quot;mmrTransactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot; lazy-init=&quot;true&quot;&gt;\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;esbBulkScheduleReqMmrSessionFactory&quot; /&gt;\n        &lt;property name=&quot;defaultTimeout&quot; value=&quot;300&quot; /&gt;\n    &lt;/bean&gt; \n\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","jlink"],"owner":{"account_id":2253556,"reputation":1857,"user_id":1985273,"accept_rate":60,"display_name":"user1985273"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661761926,"creation_date":1661761926,"question_id":73526081,"body_markdown":"I would like to create a java project and package it in a way that when I send it to a user he can run it without installing the correct java.\r\n\r\nFor that I have created a small java project and created a custom jre with jlink to run it:\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk-17.0.4.1\\bin\\jlink&quot; --launcher customjrelauncher=hello/hello.Main --module-path &quot;C:\\Program Files\\Java\\jdk-17.0.4.1\\jmods&quot;;out --add-modules hello --output customjre\r\n\r\n\r\nThis created a &quot;customjre&quot; folder and bin\\customjrelauncher.bat which I can use to run my project.\r\n\r\nThis is pretty much what I need, but sending a zip of the &quot;customjre&quot; and making the user unpack it and instructing him to launch bin\\customjrelauncher.bat is a bit clunky.\r\n\r\nHow could I package customjre into a single runnable file?","title":"How to package jlink output?","body":"<p>I would like to create a java project and package it in a way that when I send it to a user he can run it without installing the correct java.</p>\n<p>For that I have created a small java project and created a custom jre with jlink to run it:</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk-17.0.4.1\\bin\\jlink&quot; --launcher customjrelauncher=hello/hello.Main --module-path &quot;C:\\Program Files\\Java\\jdk-17.0.4.1\\jmods&quot;;out --add-modules hello --output customjre\n</code></pre>\n<p>This created a &quot;customjre&quot; folder and bin\\customjrelauncher.bat which I can use to run my project.</p>\n<p>This is pretty much what I need, but sending a zip of the &quot;customjre&quot; and making the user unpack it and instructing him to launch bin\\customjrelauncher.bat is a bit clunky.</p>\n<p>How could I package customjre into a single runnable file?</p>\n"},{"tags":["java","jooq"],"answers":[{"tags":[],"owner":{"account_id":5645,"reputation":168040,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1553600756,"creation_date":1553600756,"answer_id":55356372,"question_id":55355879,"body_markdown":"&gt; [A full-fledged SQL parser is available from `DSLContext.parser()` and from `DSLContext.parsingConnection()` (see the manual&#39;s section about parsing connections for the latter).][1]\r\n\r\nThe [SQL Parsing API][2] page gives this trivial example:\r\n\r\n    ResultQuery&lt;?&gt; query = \r\n    DSL.using(configuration)\r\n       .parser()\r\n       .parseResultQuery(&quot;SELECT * FROM (VALUES (1, &#39;a&#39;), (2, &#39;b&#39;)) t(a, b)&quot;);\r\n\r\n`parseResultQuery` is the method you need for a single SELECT query, use [`parse(String)`][3] if you may have multiple queries.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/3.11/manual/sql-building/sql-parser/\r\n  [2]: https://www.jooq.org/doc/3.11/manual/sql-building/sql-parser/sql-parser-api/\r\n  [3]: https://www.jooq.org/javadoc/3.11.x/org/jooq/Parser.html#parse(java.lang-String)\r\n","title":"Can I use JOOQ as an SQL parser?","body":"<blockquote>\n  <p><a href=\"https://www.jooq.org/doc/3.11/manual/sql-building/sql-parser/\" rel=\"nofollow noreferrer\">A full-fledged SQL parser is available from <code>DSLContext.parser()</code> and from <code>DSLContext.parsingConnection()</code> (see the manual's section about parsing connections for the latter).</a></p>\n</blockquote>\n\n<p>The <a href=\"https://www.jooq.org/doc/3.11/manual/sql-building/sql-parser/sql-parser-api/\" rel=\"nofollow noreferrer\">SQL Parsing API</a> page gives this trivial example:</p>\n\n<pre><code>ResultQuery&lt;?&gt; query = \nDSL.using(configuration)\n   .parser()\n   .parseResultQuery(\"SELECT * FROM (VALUES (1, 'a'), (2, 'b')) t(a, b)\");\n</code></pre>\n\n<p><code>parseResultQuery</code> is the method you need for a single SELECT query, use <a href=\"https://www.jooq.org/javadoc/3.11.x/org/jooq/Parser.html#parse(java.lang-String)\" rel=\"nofollow noreferrer\"><code>parse(String)</code></a> if you may have multiple queries.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661761888,"creation_date":1553703469,"answer_id":55381945,"question_id":55355879,"body_markdown":"Yes, you can. [jOOQ has a parser][1] that can be used:\r\n\r\n- [Programmatically][2]\r\n- [As a CLI][3]\r\n- [Online, as a SQL dialect translator][4]\r\n\r\nAs of jOOQ 3.17, there&#39;s [an experimental model API][5] which can be used to traverse your expression tree externally, e.g. using pattern matching, or [internally][6] using the new [`Traverser`][7] API. It is also still possible to traverse the expression tree using a [`VisitListener`][8] when rendering the expression tree back to SQL.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/sql-parser/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/sql-parser/sql-parser-api/\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-building/sql-parser/sql-parser-cli/\r\n  [4]: https://www.jooq.org/translate/\r\n  [5]: https://www.jooq.org/doc/latest/manual/sql-building/model-api/\r\n  [6]: https://www.jooq.org/doc/latest/manual/sql-building/model-api/model-api-traversal/\r\n  [7]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Traverser.html\r\n  [8]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/VisitListener.html","title":"Can I use JOOQ as an SQL parser?","body":"<p>Yes, you can. <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-parser/\" rel=\"nofollow noreferrer\">jOOQ has a parser</a> that can be used:</p>\n<ul>\n<li><a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-parser/sql-parser-api/\" rel=\"nofollow noreferrer\">Programmatically</a></li>\n<li><a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-parser/sql-parser-cli/\" rel=\"nofollow noreferrer\">As a CLI</a></li>\n<li><a href=\"https://www.jooq.org/translate/\" rel=\"nofollow noreferrer\">Online, as a SQL dialect translator</a></li>\n</ul>\n<p>As of jOOQ 3.17, there's <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/model-api/\" rel=\"nofollow noreferrer\">an experimental model API</a> which can be used to traverse your expression tree externally, e.g. using pattern matching, or <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/model-api/model-api-traversal/\" rel=\"nofollow noreferrer\">internally</a> using the new <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Traverser.html\" rel=\"nofollow noreferrer\"><code>Traverser</code></a> API. It is also still possible to traverse the expression tree using a <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/VisitListener.html\" rel=\"nofollow noreferrer\"><code>VisitListener</code></a> when rendering the expression tree back to SQL.</p>\n"}],"owner":{"account_id":15496383,"reputation":83,"user_id":11179156,"display_name":"dblike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1664,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":55381945,"answer_count":2,"score":8,"last_activity_date":1661761888,"creation_date":1553599123,"question_id":55355879,"body_markdown":"I&#39;m trying to parse a SELECT statement in Java. I&#39;m familiar with JOOQ, and was hoping to use that. I know it&#39;s not explicitly designed as an SQL parser&amp;mdash;it&#39;s actually a lot more than that, so I was thinking there might be a way to use its internal parsers to parse SELECT queries.\r\n\r\nI saw some information on how to access some of JOOQ&#39;s internals using the Visitor pattern, but I need to navigate inside the query using a tree-like structure that will allow access to each part of the query individually. I don&#39;t want to use the Visitor pattern for all use cases.\r\n\r\nIs this possible? How would I go about doing it?","title":"Can I use JOOQ as an SQL parser?","body":"<p>I'm trying to parse a SELECT statement in Java. I'm familiar with JOOQ, and was hoping to use that. I know it's not explicitly designed as an SQL parser&mdash;it's actually a lot more than that, so I was thinking there might be a way to use its internal parsers to parse SELECT queries.</p>\n\n<p>I saw some information on how to access some of JOOQ's internals using the Visitor pattern, but I need to navigate inside the query using a tree-like structure that will allow access to each part of the query individually. I don't want to use the Visitor pattern for all use cases.</p>\n\n<p>Is this possible? How would I go about doing it?</p>\n"},{"tags":["java","selenium","string-formatting","ui-testing","selenide"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661515712,"creation_date":1661515712,"answer_id":73500810,"question_id":73500706,"body_markdown":"You can format the XPath String expression with the use of `String.format`, as following:\r\n```java\r\npublic void addImage(String imageNr){\r\n    String xpath = &quot;(//input[@name=&#39;image&#39;])[{0}]&quot;;\r\n    xpath = String.format(xpath,imageNr);\r\n     $(By.xpath(xpath));\r\n}\r\n```\r\n","title":"How do I make an xpath with a variable for a selenide test","body":"<p>You can format the XPath String expression with the use of <code>String.format</code>, as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void addImage(String imageNr){\n    String xpath = &quot;(//input[@name='image'])[{0}]&quot;;\n    xpath = String.format(xpath,imageNr);\n     $(By.xpath(xpath));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26186592,"reputation":36,"user_id":19869050,"display_name":"Hetjavier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661761779,"creation_date":1661761779,"answer_id":73526054,"question_id":73500706,"body_markdown":"within Selenide you have something called the ElementsCollection. More information can be found on this page: https://selenide.gitbooks.io/user-guide/content/en/selenide-api/elements-collection.html\r\n\r\nWhat you can do is transform the SelenideElement to an ElementsCollection by using double dollar signs:\r\n\r\nFor example:\r\n\r\n- This .get requires an Integer type. It will give you first all elements and you can take the second element from the returned list.\r\n\r\n$$(By.xpath(&quot;(//input[@name=&#39;image&#39;])).get(pageNr) \r\n\r\nYou will still need to do an action after getting this. for Example .click();\r\n\r\nGood luck with it. \r\n\r\n","title":"How do I make an xpath with a variable for a selenide test","body":"<p>within Selenide you have something called the ElementsCollection. More information can be found on this page: <a href=\"https://selenide.gitbooks.io/user-guide/content/en/selenide-api/elements-collection.html\" rel=\"nofollow noreferrer\">https://selenide.gitbooks.io/user-guide/content/en/selenide-api/elements-collection.html</a></p>\n<p>What you can do is transform the SelenideElement to an ElementsCollection by using double dollar signs:</p>\n<p>For example:</p>\n<ul>\n<li>This .get requires an Integer type. It will give you first all elements and you can take the second element from the returned list.</li>\n</ul>\n<p>$$(By.xpath(&quot;(//input[@name='image'])).get(pageNr)</p>\n<p>You will still need to do an action after getting this. for Example .click();</p>\n<p>Good luck with it.</p>\n"}],"owner":{"account_id":3339959,"reputation":59,"user_id":2806445,"display_name":"KVG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73526054,"answer_count":2,"score":0,"last_activity_date":1661761779,"creation_date":1661515141,"question_id":73500706,"body_markdown":"I want to write a testmethod which I can give a parameter which will define which element to test. \r\n\r\nSomething like;\r\n\r\n    public void addImage(String imageNr){\r\n         $(By.xpath(&quot;(//input[@name=&#39;image&#39;])[&#39;&quot; + imageNr + &quot;&#39;]&quot;));\r\n    }\r\n\r\nTo get i.e. `(//input[@name=&#39;image&#39;])[2] or (//input[@name=&#39;image&#39;])[3]`\r\n\r\nHow would I go about that? ","title":"How do I make an xpath with a variable for a selenide test","body":"<p>I want to write a testmethod which I can give a parameter which will define which element to test.</p>\n<p>Something like;</p>\n<pre><code>public void addImage(String imageNr){\n     $(By.xpath(&quot;(//input[@name='image'])['&quot; + imageNr + &quot;']&quot;));\n}\n</code></pre>\n<p>To get i.e. <code>(//input[@name='image'])[2] or (//input[@name='image'])[3]</code></p>\n<p>How would I go about that?</p>\n"},{"tags":["java","spring-boot","docker","maven"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661761624,"creation_date":1661761624,"answer_id":73526025,"question_id":73525932,"body_markdown":"As the error message say: \r\n\r\n&gt; No compiler is provided in this environment.\r\n\r\nYou only have a JRE in your container which does not include a compiler:\r\n\r\n    FROM openjdk:11-jre-slim\r\n\r\nUse a container with a JDK","title":"Maven compilation failure when building Dockerfile","body":"<p>As the error message say:</p>\n<blockquote>\n<p>No compiler is provided in this environment.</p>\n</blockquote>\n<p>You only have a JRE in your container which does not include a compiler:</p>\n<pre><code>FROM openjdk:11-jre-slim\n</code></pre>\n<p>Use a container with a JDK</p>\n"},{"tags":[],"owner":{"account_id":5321138,"reputation":1209,"user_id":4244550,"display_name":"advay rajhansa"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1661761692,"creation_date":1661761692,"answer_id":73526039,"question_id":73525932,"body_markdown":"The error itself gives you the answer. Try switching the image to `maven:3.8.6-openjdk-11`.\r\nWith maven image, you don&#39;t need to copy maven wrapper also.  \r\n\r\nI&#39;ll suggest you to build the JAR in a different env (maybe a docker stage). Once you build the JDK, copy only that to the final release image. ","title":"Maven compilation failure when building Dockerfile","body":"<p>The error itself gives you the answer. Try switching the image to <code>maven:3.8.6-openjdk-11</code>.\nWith maven image, you don't need to copy maven wrapper also.</p>\n<p>I'll suggest you to build the JAR in a different env (maybe a docker stage). Once you build the JDK, copy only that to the final release image.</p>\n"}],"owner":{"account_id":22250524,"reputation":181,"user_id":16483521,"display_name":"ServletException"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2789,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73526039,"answer_count":2,"score":3,"last_activity_date":1661761692,"creation_date":1661761044,"question_id":73525932,"body_markdown":"I have a Springboot application that I&#39;m trying to dockerize, this is my Dockerfile.\r\n\r\n```\r\nFROM openjdk:11-jre-slim as build\r\nWORKDIR /app\r\nCOPY mvnw .\r\nCOPY .mvn .mvn\r\nCOPY pom.xml .\r\nRUN ./mvnw dependency:go-offline -B\r\n\r\n# Copy the project source\r\nCOPY src src\r\n\r\n# Package the application\r\nRUN ./mvnw package -DskipTests\r\n\r\nRUN mkdir -p target/dependency &amp;&amp; (cd target/dependency; jar -xf ../*.jar)\r\n\r\nFROM openjdk:11-jre-slim\r\n\r\nARG DEPENDENCY=/app/target/dependency\r\nCOPY --from=build ${DEPENDENCY}/BOOT-INF/lib /app/lib\r\nCOPY --from=build ${DEPENDENCY}/META-INF /app/META-INF\r\nCOPY --from=build ${DEPENDENCY}/BOOT-INF/classes /app\r\n\r\nENTRYPOINT [&quot;java&quot;,&quot;-cp&quot;,&quot;app:app/lib/*&quot;, Path to my main class]\r\n```\r\n\r\nWhen trying to build a Docker image I get this Compilation error, this occurs at this specific step after downloading a bunch of dependencies, which takes some time.\r\n\r\n``` RUN ./mvnw package -DskipTests```\r\n\r\n```\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 38 source files to /app/target/classes\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] COMPILATION ERROR : \r\n[INFO] -------------------------------------------------------------\r\n[ERROR] No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?\r\n[INFO] 1 error\r\n[INFO] -------------------------------------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  11.804 s\r\n[INFO] Finished at: 2022-08-29T08:07:50Z\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project xxx: Compilation failure\r\n[ERROR] No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?\r\n\r\n```\r\n\r\n\r\n**my pom**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.springbootreact&lt;/groupId&gt;\r\n    &lt;artifactId&gt;xxx&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;xxxx&lt;/name&gt;\r\n    &lt;description&gt;xxxx&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-rest-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;3.5.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nI tried using many jdk images but still seem to get an error, I tried googling and most of the issues resulted from an issue related to an IDE and the java path variables, but I don&#39;t know how I could fix that error in my case.","title":"Maven compilation failure when building Dockerfile","body":"<p>I have a Springboot application that I'm trying to dockerize, this is my Dockerfile.</p>\n<pre><code>FROM openjdk:11-jre-slim as build\nWORKDIR /app\nCOPY mvnw .\nCOPY .mvn .mvn\nCOPY pom.xml .\nRUN ./mvnw dependency:go-offline -B\n\n# Copy the project source\nCOPY src src\n\n# Package the application\nRUN ./mvnw package -DskipTests\n\nRUN mkdir -p target/dependency &amp;&amp; (cd target/dependency; jar -xf ../*.jar)\n\nFROM openjdk:11-jre-slim\n\nARG DEPENDENCY=/app/target/dependency\nCOPY --from=build ${DEPENDENCY}/BOOT-INF/lib /app/lib\nCOPY --from=build ${DEPENDENCY}/META-INF /app/META-INF\nCOPY --from=build ${DEPENDENCY}/BOOT-INF/classes /app\n\nENTRYPOINT [&quot;java&quot;,&quot;-cp&quot;,&quot;app:app/lib/*&quot;, Path to my main class]\n</code></pre>\n<p>When trying to build a Docker image I get this Compilation error, this occurs at this specific step after downloading a bunch of dependencies, which takes some time.</p>\n<p><code> RUN ./mvnw package -DskipTests</code></p>\n<pre><code>[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 38 source files to /app/target/classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?\n[INFO] 1 error\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  11.804 s\n[INFO] Finished at: 2022-08-29T08:07:50Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project xxx: Compilation failure\n[ERROR] No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?\n\n</code></pre>\n<p><strong>my pom</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.springbootreact&lt;/groupId&gt;\n    &lt;artifactId&gt;xxx&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;xxxx&lt;/name&gt;\n    &lt;description&gt;xxxx&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-rest-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;3.5.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I tried using many jdk images but still seem to get an error, I tried googling and most of the issues resulted from an issue related to an IDE and the java path variables, but I don't know how I could fix that error in my case.</p>\n"},{"tags":["java","hibernate","joincolumn"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661761637,"creation_date":1660563801,"answer_id":73360543,"question_id":73308888,"body_markdown":"That&#39;s not so easy. If you want that, you have to introduce another attribute for storing the client id and maintain this denormalization:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;SSI&quot;)\r\npublic class SSI {\r\n\r\n  @Column(name = &quot;CLIENT_ID&quot;)\r\n  private String clientId;\r\n\r\n  @Column(name = &quot;SUBJECT_ID&quot;)\r\n  private String subjectId;\r\n\r\n  @Column(name = &quot;SUBJECT_IDENTIFIER_ID&quot;)\r\n  private String subjectIdentifierId;\r\n\r\n  @ManyToOne\r\n  @JoinColumns({\r\n      @JoinColumn(name = &quot;SUBJECT_ID&quot;, referencedColumnName = &quot;ID&quot;, insertable = false,\r\n          updatable = false),\r\n      @JoinColumn(name = &quot;CLIENT_ID&quot;, referencedColumnName = &quot;CLIENT_ID&quot;, insertable =\r\n          false, updatable = false)\r\n  })\r\n  private Subject subject;\r\n\r\n  @OneToOne(cascade = CascadeType.ALL)\r\n  @JoinColumns({\r\n      @JoinColumn(name = &quot;SUBJECT_IDENTIFIER_ID&quot;, referencedColumnName = &quot;ID&quot;, insertable = false,\r\n          updatable = false),\r\n      @JoinColumn(name = &quot;CLIENT_ID&quot;, referencedColumnName = &quot;CLIENT_ID&quot;, insertable =\r\n          false, updatable = false)\r\n  })\r\n  private SubjectIdentifier subjectIdentifier;\r\n\r\n  // getters and setters\r\n  ...\r\n}\r\n```","title":"hibernate @joincolumns with insertable true not allowing insert","body":"<p>That's not so easy. If you want that, you have to introduce another attribute for storing the client id and maintain this denormalization:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;SSI&quot;)\npublic class SSI {\n\n  @Column(name = &quot;CLIENT_ID&quot;)\n  private String clientId;\n\n  @Column(name = &quot;SUBJECT_ID&quot;)\n  private String subjectId;\n\n  @Column(name = &quot;SUBJECT_IDENTIFIER_ID&quot;)\n  private String subjectIdentifierId;\n\n  @ManyToOne\n  @JoinColumns({\n      @JoinColumn(name = &quot;SUBJECT_ID&quot;, referencedColumnName = &quot;ID&quot;, insertable = false,\n          updatable = false),\n      @JoinColumn(name = &quot;CLIENT_ID&quot;, referencedColumnName = &quot;CLIENT_ID&quot;, insertable =\n          false, updatable = false)\n  })\n  private Subject subject;\n\n  @OneToOne(cascade = CascadeType.ALL)\n  @JoinColumns({\n      @JoinColumn(name = &quot;SUBJECT_IDENTIFIER_ID&quot;, referencedColumnName = &quot;ID&quot;, insertable = false,\n          updatable = false),\n      @JoinColumn(name = &quot;CLIENT_ID&quot;, referencedColumnName = &quot;CLIENT_ID&quot;, insertable =\n          false, updatable = false)\n  })\n  private SubjectIdentifier subjectIdentifier;\n\n  // getters and setters\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":465887,"reputation":3812,"user_id":870291,"accept_rate":81,"display_name":"techBeginner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":793,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661761637,"creation_date":1660145044,"question_id":73308888,"body_markdown":"I have a couple of tables with relation as in the image below\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI created hibernate data model as follows\r\n```\r\n@Entity\r\n@Table(name = &quot;SUBJECT&quot;)\r\npublic class Subject {\r\n\r\n  @Column(name = &quot;NAME&quot;)\r\n  private String name;\r\n\r\n  @Column(name = &quot;ADDRESS&quot;)\r\n  private String address;\r\n\r\n  @Column(name = &quot;CLIENT_ID&quot;)\r\n  private String clientId;\r\n\r\n  @OneToMany(mappedBy = &quot;subject&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n  private List&lt;SSI&gt; SSIs;\r\n\r\n  // getters and setters\r\n  ...\r\n  \r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;SUBJECT_IDENTIFIER&quot;)\r\npublic class SubjectIdentifier {\r\n\r\n  @Column(name = &quot;VALUE&quot;)\r\n  private String value;\r\n\r\n\r\n  @Column(name = &quot;AUTHORITY&quot;)\r\n  private String authority;\r\n\r\n\r\n  @Column(name = &quot;TYPE&quot;)\r\n  private String type;\r\n\r\n\r\n  @ManyToOne\r\n  @JoinColumns({\r\n      @JoinColumn(name = &quot;SUBJECT_ID&quot;, referencedColumnName = &quot;ID&quot;, insertable = true,\r\n          updatable = true,\r\n      @JoinColumn(name = &quot;CLIENT_ID&quot;, referencedColumnName = &quot;CLIENT_ID&quot;, insertable =\r\n          true, updatable = true)\r\n  })\r\n  private Subject subject;\r\n\r\n  // getters and setters\r\n  ...\r\n}\r\n```\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;SSI&quot;)\r\npublic class SSI {\r\n  @ManyToOne\r\n  @JoinColumns({\r\n      @JoinColumn(name = &quot;SUBJECT_ID&quot;, referencedColumnName = &quot;ID&quot;, insertable = true,\r\n          updatable = true),\r\n      @JoinColumn(name = &quot;CLIENT_ID&quot;, referencedColumnName = &quot;CLIENT_ID&quot;, insertable =\r\n          true, updatable = true)\r\n  })\r\n  private Subject subject;\r\n\r\n  @OneToOne(cascade = CascadeType.ALL)\r\n  @JoinColumns({\r\n      @JoinColumn(name = &quot;SUBJECT_IDENTIFIER_ID&quot;, referencedColumnName = &quot;ID&quot;, insertable = true,\r\n          updatable = true),\r\n      @JoinColumn(name = &quot;CLIENT_ID&quot;, referencedColumnName = &quot;CLIENT_ID&quot;, insertable =\r\n          true, updatable = true)\r\n  })\r\n  private SubjectIdentifier subjectIdentifier;\r\n\r\n  // getters and setters\r\n  ...\r\n}\r\n```\r\nI intend to create the entities as follows\r\n```\r\n  ...\r\n  Subject s = new Subject();\r\n  //.. initialization of s goes here\r\n\r\n  SubjectIdentifier si = new SubjectIdentifier();\r\n  //.. initialization of si goes here\r\n\r\n  SSI ssi = new SSI();\r\n  ssi.setSubject(s);\r\n  ssi.setSubjectIdentifier(si);\r\n\r\n  s.setSSI(ssi);\r\n\r\n  ...\r\n  emProvider.get().persist(s); \r\n```\r\n\r\nWhen I run this, I get following error\r\n\r\n&gt; org.hibernate.MappingException: Repeated column in mapping for entity: *.SSI column: CLIENT_ID (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;)\r\n\r\nIf I set `insert=&quot;false&quot; update=&quot;false&quot;` for CLIENT_ID, it would error again about mixing of insert &amp; update with other column in the @Joincolumns\r\n\r\nIf I set `insert=&quot;false&quot; update=&quot;false&quot;` for all the @JoinColumns then it will not persist the objects.\r\n\r\nHow to really handle this kind of entity creation?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZHuOz.png","title":"hibernate @joincolumns with insertable true not allowing insert","body":"<p>I have a couple of tables with relation as in the image below</p>\n<p><a href=\"https://i.stack.imgur.com/ZHuOz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZHuOz.png\" alt=\"enter image description here\" /></a></p>\n<p>I created hibernate data model as follows</p>\n<pre><code>@Entity\n@Table(name = &quot;SUBJECT&quot;)\npublic class Subject {\n\n  @Column(name = &quot;NAME&quot;)\n  private String name;\n\n  @Column(name = &quot;ADDRESS&quot;)\n  private String address;\n\n  @Column(name = &quot;CLIENT_ID&quot;)\n  private String clientId;\n\n  @OneToMany(mappedBy = &quot;subject&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n  private List&lt;SSI&gt; SSIs;\n\n  // getters and setters\n  ...\n  \n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;SUBJECT_IDENTIFIER&quot;)\npublic class SubjectIdentifier {\n\n  @Column(name = &quot;VALUE&quot;)\n  private String value;\n\n\n  @Column(name = &quot;AUTHORITY&quot;)\n  private String authority;\n\n\n  @Column(name = &quot;TYPE&quot;)\n  private String type;\n\n\n  @ManyToOne\n  @JoinColumns({\n      @JoinColumn(name = &quot;SUBJECT_ID&quot;, referencedColumnName = &quot;ID&quot;, insertable = true,\n          updatable = true,\n      @JoinColumn(name = &quot;CLIENT_ID&quot;, referencedColumnName = &quot;CLIENT_ID&quot;, insertable =\n          true, updatable = true)\n  })\n  private Subject subject;\n\n  // getters and setters\n  ...\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;SSI&quot;)\npublic class SSI {\n  @ManyToOne\n  @JoinColumns({\n      @JoinColumn(name = &quot;SUBJECT_ID&quot;, referencedColumnName = &quot;ID&quot;, insertable = true,\n          updatable = true),\n      @JoinColumn(name = &quot;CLIENT_ID&quot;, referencedColumnName = &quot;CLIENT_ID&quot;, insertable =\n          true, updatable = true)\n  })\n  private Subject subject;\n\n  @OneToOne(cascade = CascadeType.ALL)\n  @JoinColumns({\n      @JoinColumn(name = &quot;SUBJECT_IDENTIFIER_ID&quot;, referencedColumnName = &quot;ID&quot;, insertable = true,\n          updatable = true),\n      @JoinColumn(name = &quot;CLIENT_ID&quot;, referencedColumnName = &quot;CLIENT_ID&quot;, insertable =\n          true, updatable = true)\n  })\n  private SubjectIdentifier subjectIdentifier;\n\n  // getters and setters\n  ...\n}\n</code></pre>\n<p>I intend to create the entities as follows</p>\n<pre><code>  ...\n  Subject s = new Subject();\n  //.. initialization of s goes here\n\n  SubjectIdentifier si = new SubjectIdentifier();\n  //.. initialization of si goes here\n\n  SSI ssi = new SSI();\n  ssi.setSubject(s);\n  ssi.setSubjectIdentifier(si);\n\n  s.setSSI(ssi);\n\n  ...\n  emProvider.get().persist(s); \n</code></pre>\n<p>When I run this, I get following error</p>\n<blockquote>\n<p>org.hibernate.MappingException: Repeated column in mapping for entity: *.SSI column: CLIENT_ID (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;)</p>\n</blockquote>\n<p>If I set <code>insert=&quot;false&quot; update=&quot;false&quot;</code> for CLIENT_ID, it would error again about mixing of insert &amp; update with other column in the @Joincolumns</p>\n<p>If I set <code>insert=&quot;false&quot; update=&quot;false&quot;</code> for all the @JoinColumns then it will not persist the objects.</p>\n<p>How to really handle this kind of entity creation?</p>\n"},{"tags":["java","hibernate","spring-data-jpa","many-to-many","criteria"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661761544,"creation_date":1661761544,"answer_id":73526016,"question_id":73515319,"body_markdown":"If duplicity matters to you, you should really model this by making the messages unique through some sort of surrogate key. I guess you have a join table for `sentMessages`? Probably it&#39;s better to model this as an entity and work with that instead of with `User`. Then you&#39;d have to create a `SentMessageRepository`, but it would work with the Spring Data restrictions. Also, it is semantically more correct IMO.","title":"Return nested collection using JPA Specification","body":"<p>If duplicity matters to you, you should really model this by making the messages unique through some sort of surrogate key. I guess you have a join table for <code>sentMessages</code>? Probably it's better to model this as an entity and work with that instead of with <code>User</code>. Then you'd have to create a <code>SentMessageRepository</code>, but it would work with the Spring Data restrictions. Also, it is semantically more correct IMO.</p>\n"}],"owner":{"account_id":21413627,"reputation":3,"user_id":15773268,"display_name":"Riddick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73526016,"answer_count":1,"score":0,"last_activity_date":1661761544,"creation_date":1661648011,"question_id":73515319,"body_markdown":"I&#39;m new in JPA Specification and I&#39;m trying to get objects from nested collection by user id.\r\n\r\nThere are 2 entities:\r\n\r\n    @Entity\r\n    @Table(name = &quot;message&quot;)\r\n    public class Message implements Serializable\r\n    {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;id&quot;)\r\n        private int id;\r\n    \r\n        @Column(name = &quot;title&quot;)\r\n        private String title;\r\n    \t\r\n    \t@Column(name = &quot;message&quot;)\r\n        private String message;\r\n    \r\n        // getters and setters\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;user&quot;)\r\n    public class User implements Serializable\r\n    {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;id&quot;)\r\n        private int id;\r\n    \r\n        @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n        @JoinTable(\r\n                name = &quot;user_message_items&quot;,\r\n                joinColumns = { @JoinColumn(name = &quot;user_id&quot;) },\r\n                inverseJoinColumns = { @JoinColumn(name = &quot;message_id&quot;) }\r\n        )\r\n        private List&lt;Message&gt; sentMessages = new ArrayList&lt;&gt;();\r\n    \r\n        // getters and setters\r\n    }\r\n\r\nIf I use JPQL it works\r\n\r\n    @Repository\r\n    public interface MessageRepository extends JpaRepository&lt;Message, Integer&gt;, JpaSpecificationExecutor&lt;Message&gt;\r\n    {\r\n        \r\n        @Query(value = &quot;select messages from User user inner join user.sentMessages messages where user.id = :userId&quot;)\r\n        Page&lt;Message&gt; findSentMessagesByUserId(@Param(&quot;userId&quot;) int userId, Pageable pageable);\r\n    }\r\n\r\nBut I&#39;d like to have Specification instead to filter values in the future, so I made one.\r\n\r\n    public Page&lt;Message&gt; getMessagePageByUserId(int pushUserId)\r\n    {\r\n    \tPageable paging = new OffsetLimitRequest(0, 10);\r\n    \tSpecification&lt;Message&gt; specification = (root, query, criteriaBuilder) -&gt; {\r\n    \t\tRoot&lt;Message&gt; messageRoot = root;\r\n    \t\tRoot&lt;User&gt; userRoot = query.from(User.class);\r\n    \t\tExpression&lt;List&lt;Message&gt;&gt; messages = userRoot.get(&quot;sentMessages&quot;);\r\n    \t\treturn criteriaBuilder.and(criteriaBuilder.equal(userRoot.get(&quot;id&quot;), pushUserId), criteriaBuilder.isMember(messageRoot, messages));\r\n    \t};\r\n    \treturn messageRepository.findAll(specification, paging);\r\n    }\r\n\r\nUnfortunately this method returns collection as Set :( In collection can be duplicates messages. I need to get collection with duplicates. Could you help me please to rewrite code and find a solution. Many thanks.","title":"Return nested collection using JPA Specification","body":"<p>I'm new in JPA Specification and I'm trying to get objects from nested collection by user id.</p>\n<p>There are 2 entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;message&quot;)\npublic class Message implements Serializable\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Basic(optional = false)\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @Column(name = &quot;title&quot;)\n    private String title;\n    \n    @Column(name = &quot;message&quot;)\n    private String message;\n\n    // getters and setters\n}\n\n@Entity\n@Table(name = &quot;user&quot;)\npublic class User implements Serializable\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Basic(optional = false)\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\n    @JoinTable(\n            name = &quot;user_message_items&quot;,\n            joinColumns = { @JoinColumn(name = &quot;user_id&quot;) },\n            inverseJoinColumns = { @JoinColumn(name = &quot;message_id&quot;) }\n    )\n    private List&lt;Message&gt; sentMessages = new ArrayList&lt;&gt;();\n\n    // getters and setters\n}\n</code></pre>\n<p>If I use JPQL it works</p>\n<pre><code>@Repository\npublic interface MessageRepository extends JpaRepository&lt;Message, Integer&gt;, JpaSpecificationExecutor&lt;Message&gt;\n{\n    \n    @Query(value = &quot;select messages from User user inner join user.sentMessages messages where user.id = :userId&quot;)\n    Page&lt;Message&gt; findSentMessagesByUserId(@Param(&quot;userId&quot;) int userId, Pageable pageable);\n}\n</code></pre>\n<p>But I'd like to have Specification instead to filter values in the future, so I made one.</p>\n<pre><code>public Page&lt;Message&gt; getMessagePageByUserId(int pushUserId)\n{\n    Pageable paging = new OffsetLimitRequest(0, 10);\n    Specification&lt;Message&gt; specification = (root, query, criteriaBuilder) -&gt; {\n        Root&lt;Message&gt; messageRoot = root;\n        Root&lt;User&gt; userRoot = query.from(User.class);\n        Expression&lt;List&lt;Message&gt;&gt; messages = userRoot.get(&quot;sentMessages&quot;);\n        return criteriaBuilder.and(criteriaBuilder.equal(userRoot.get(&quot;id&quot;), pushUserId), criteriaBuilder.isMember(messageRoot, messages));\n    };\n    return messageRepository.findAll(specification, paging);\n}\n</code></pre>\n<p>Unfortunately this method returns collection as Set :( In collection can be duplicates messages. I need to get collection with duplicates. Could you help me please to rewrite code and find a solution. Many thanks.</p>\n"},{"tags":["java","time","simpledateformat"],"comments":[{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":2,"creation_date":1661418196,"post_id":73483536,"comment_id":129769342,"body_markdown":"Does this answer your question? [What does &#39;PT&#39; prefix stand for in Duration?](https://stackoverflow.com/questions/51168022/what-does-pt-prefix-stand-for-in-duration)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51168022/what-does-pt-prefix-stand-for-in-duration\">What does &#39;PT&#39; prefix stand for in Duration?</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1661594067,"post_id":73483536,"comment_id":129812377,"body_markdown":"`PT461486H44M42.24S` is how long the presentation takes, its duration. `SimpleDateFormat` cannot handle durations, you are right. Which is somehow good because the `SimpleDateFormat` class is also notoriously troublesome and long outdated, nothing that you should want to struggle with under any circumstances at all. As the answer already says use `Duration` from [`java.time`, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/).","body":"<code>PT461486H44M42.24S</code> is how long the presentation takes, its duration. <code>SimpleDateFormat</code> cannot handle durations, you are right. Which is somehow good because the <code>SimpleDateFormat</code> class is also notoriously troublesome and long outdated, nothing that you should want to struggle with under any circumstances at all. As the answer already says use <code>Duration</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API,</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1661674141,"post_id":73483536,"comment_id":129824110,"body_markdown":"I don’t know Dash, but suspect there may be something wrong with your data. [One example I found here](https://ottverse.com/single-period-vs-multi-period-dash/) has `&lt;Period start=&quot;PT32S&quot; id=&quot;2&quot;&gt;`, so `start` is 32 seconds, not 52 years like yours. I can’t understand how both can make sense. [This page](https://dashif-documents.azurewebsites.net/Guidelines-TimingModel/master/Guidelines-TimingModel.html) has example that are 20 seconds and 300 seconds (5 minutes).","body":"I don’t know Dash, but suspect there may be something wrong with your data. <a href=\"https://ottverse.com/single-period-vs-multi-period-dash/\" rel=\"nofollow noreferrer\">One example I found here</a> has <code>&lt;Period start=&quot;PT32S&quot; id=&quot;2&quot;&gt;</code>, so <code>start</code> is 32 seconds, not 52 years like yours. I can’t understand how both can make sense. <a href=\"https://dashif-documents.azurewebsites.net/Guidelines-TimingModel/master/Guidelines-TimingModel.html\" rel=\"nofollow noreferrer\">This page</a> has example that are 20 seconds and 300 seconds (5 minutes)."}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661761444,"creation_date":1661423936,"answer_id":73486073,"question_id":73483536,"body_markdown":"Your `String` seems to represent a duration in ISO-8601 format.\r\n\r\nYou can use [`java.time.Duration.parse`](https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-) in order to create a `Duration` which may give you information about specific unit. Since a duration is an amount of time in contrast to epoch millis, you should not convert `Duration.toMillis()` to any date or datetime. They are basically totally different.\r\n\r\nHere&#39;s an example usage of a `Duration` derived from your `String`:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\t// your example String\r\n\tString durStr = &quot;PT461486H44M42.24S&quot;;\r\n\t// parse it to a Duration\r\n\tDuration duration = Duration.parse(durStr);\r\n\t// create a result message from the units of a Duration\r\n\tString durMsg = String.format(&quot;%d milliseconds are %d days, %d hours, %d minutes, %d seconds and %d milliseconds&quot;,\r\n\t\t\t\t\t\t\t\tduration.toMillis(),\r\n\t\t\t\t\t\t\t\tduration.toDays(),\r\n\t\t\t\t\t\t\t\tduration.toHoursPart(), \r\n\t\t\t\t\t\t\t\tduration.toMinutesPart(), \r\n\t\t\t\t\t\t\t\tduration.toSecondsPart(), \r\n\t\t\t\t\t\t\t\tduration.toMillisPart());\r\n\t// print the result message\r\n\tSystem.out.println(durMsg);\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\n1661352282240 milliseconds are 19228 days, 14 hours, 44 minutes, 42 seconds and 240 milliseconds\r\n```\r\n\r\n---\r\n\r\nIf you suspect the result of `duration.toMillis()` not to be the length of the video but , for example, the creation timestamp (in epoch millis) or the age in millis, don&#39;t use the outdated API (`Date`, `SimpleDateFormat` and so on) but use `java.time`. You can use those millis to create an `Instant` which you can then use to create a `ZonedDateTime` of `OffsetDateTime`:\r\n\r\n```java\r\n// create a Temporal using an Instant and a fixed offset (UTC / +00:00 here)\r\nOffsetDateTime odt = Instant.EPOCH.plus(duration)\r\n\t\t\t\t\t\t\t\t  .atOffset(ZoneOffset.UTC);\r\n// print the result\r\nSystem.out.println(odt);\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\n2022-08-24T14:44:42.240Z\r\n```\r\n\r\n---\r\n\r\nDifferent idea:\r\n\r\nYou can subtract the parsed `Duration` from a current moment in time, which –&#160;under circumstances – may give you the *moment in* time of the first media presentation (like when it was released):\r\n\r\n```java\r\nInstant instant = Instant.now().minus(duration);\r\nOffsetDateTime odt = instant.atOffset(ZoneOffset.UTC);\r\nSystem.out.println(odt);\r\n```\r\n\r\nThis just output the following:\r\n\r\n```none\r\n1970-01-01T21:37:52.460090Z\r\n```\r\n\r\nThis approach is just an idea and it heavily depends on the duration between receiving the media presentation time (your `String`) and the calculation involving `Instant.now()`, which should ideally be the same moment in time in order to get the (most) correct time of the media presentation.","title":"Parse media presentation time from dash manifest java?","body":"<p>Your <code>String</code> seems to represent a duration in ISO-8601 format.</p>\n<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#parse-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>java.time.Duration.parse</code></a> in order to create a <code>Duration</code> which may give you information about specific unit. Since a duration is an amount of time in contrast to epoch millis, you should not convert <code>Duration.toMillis()</code> to any date or datetime. They are basically totally different.</p>\n<p>Here's an example usage of a <code>Duration</code> derived from your <code>String</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // your example String\n    String durStr = &quot;PT461486H44M42.24S&quot;;\n    // parse it to a Duration\n    Duration duration = Duration.parse(durStr);\n    // create a result message from the units of a Duration\n    String durMsg = String.format(&quot;%d milliseconds are %d days, %d hours, %d minutes, %d seconds and %d milliseconds&quot;,\n                                duration.toMillis(),\n                                duration.toDays(),\n                                duration.toHoursPart(), \n                                duration.toMinutesPart(), \n                                duration.toSecondsPart(), \n                                duration.toMillisPart());\n    // print the result message\n    System.out.println(durMsg);\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1661352282240 milliseconds are 19228 days, 14 hours, 44 minutes, 42 seconds and 240 milliseconds\n</code></pre>\n<hr />\n<p>If you suspect the result of <code>duration.toMillis()</code> not to be the length of the video but , for example, the creation timestamp (in epoch millis) or the age in millis, don't use the outdated API (<code>Date</code>, <code>SimpleDateFormat</code> and so on) but use <code>java.time</code>. You can use those millis to create an <code>Instant</code> which you can then use to create a <code>ZonedDateTime</code> of <code>OffsetDateTime</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// create a Temporal using an Instant and a fixed offset (UTC / +00:00 here)\nOffsetDateTime odt = Instant.EPOCH.plus(duration)\n                                  .atOffset(ZoneOffset.UTC);\n// print the result\nSystem.out.println(odt);\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-08-24T14:44:42.240Z\n</code></pre>\n<hr />\n<p>Different idea:</p>\n<p>You can subtract the parsed <code>Duration</code> from a current moment in time, which – under circumstances – may give you the <em>moment in</em> time of the first media presentation (like when it was released):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Instant instant = Instant.now().minus(duration);\nOffsetDateTime odt = instant.atOffset(ZoneOffset.UTC);\nSystem.out.println(odt);\n</code></pre>\n<p>This just output the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1970-01-01T21:37:52.460090Z\n</code></pre>\n<p>This approach is just an idea and it heavily depends on the duration between receiving the media presentation time (your <code>String</code>) and the calculation involving <code>Instant.now()</code>, which should ideally be the same moment in time in order to get the (most) correct time of the media presentation.</p>\n"}],"owner":{"account_id":3030715,"reputation":11451,"user_id":2569793,"accept_rate":58,"display_name":"WISHY"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73486073,"answer_count":1,"score":0,"last_activity_date":1661761444,"creation_date":1661412697,"question_id":73483536,"body_markdown":"In a streaming video dash manifest we receive the period start time as `PT461486H44M42.24S`. This is basically a timestamp for the media segment to be loaded.\r\nSample will be \r\n\r\n      &lt;Period id=&quot;C 2022-08-26 08-45-41&quot; start=&quot;PT461486H44M42.24S&quot;&gt;\r\n\r\n\r\n \r\nI want to know what is this time format? And how can I convert it to long milliseconds.\r\nI checked the `[SimpleDateFormat]` [SDF][1] but it doesn&#39;t matches. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","title":"Parse media presentation time from dash manifest java?","body":"<p>In a streaming video dash manifest we receive the period start time as <code>PT461486H44M42.24S</code>. This is basically a timestamp for the media segment to be loaded.\nSample will be</p>\n<pre><code>  &lt;Period id=&quot;C 2022-08-26 08-45-41&quot; start=&quot;PT461486H44M42.24S&quot;&gt;\n</code></pre>\n<p>I want to know what is this time format? And how can I convert it to long milliseconds.\nI checked the <code>[SimpleDateFormat]</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">SDF</a> but it doesn't matches.</p>\n"},{"tags":["java","android","android-studio","android-download-manager"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1641945169,"post_id":70674758,"comment_id":124939797,"body_markdown":"What does &quot;doesn&#39;t seem to work&quot; mean?","body":"What does &quot;doesn&#39;t seem to work&quot; mean?"},{"owner":{"account_id":23911576,"reputation":1,"user_id":17908467,"display_name":"Numitoor"},"score":0,"creation_date":1641946162,"post_id":70674758,"comment_id":124940014,"body_markdown":"It starts the download, but is stuck in &quot;waiting for connection&quot; phase. When I connect to the web, it goes to &quot;Retry&quot;, since it didn&#39;t find the specified endpoint.","body":"It starts the download, but is stuck in &quot;waiting for connection&quot; phase. When I connect to the web, it goes to &quot;Retry&quot;, since it didn&#39;t find the specified endpoint."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641947140,"post_id":70674758,"comment_id":124940225,"body_markdown":"I did some test where DownloadManager had to download from a server on the phone itself. It did not go when wifi was off. It did not go when wifi was not connected to a router. Will try without internet later... Is big brother watching us??? Can you tell type of Olympus camera? How do you know the filename(s)? Are there commands to list a directory?","body":"I did some test where DownloadManager had to download from a server on the phone itself. It did not go when wifi was off. It did not go when wifi was not connected to a router. Will try without internet later... Is big brother watching us??? Can you tell type of Olympus camera? How do you know the filename(s)? Are there commands to list a directory?"},{"owner":{"account_id":12721843,"reputation":16003,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1641948045,"post_id":70674758,"comment_id":124940394,"body_markdown":"Devices have to ping somewhere on the web to determine that current connection is actually internet capable, it&#39;s not even exclusive to phones. I&#39;d assume download manager is waiting for that ping to succeed so device enters &quot;online&quot; state. I don&#39;t believe there&#39;s an option for download manager to operate purely within local network (there are question from 2019 without answer), you&#39;ll need to look for third party solutions.","body":"Devices have to ping somewhere on the web to determine that current connection is actually internet capable, it&#39;s not even exclusive to phones. I&#39;d assume download manager is waiting for that ping to succeed so device enters &quot;online&quot; state. I don&#39;t believe there&#39;s an option for download manager to operate purely within local network (there are question from 2019 without answer), you&#39;ll need to look for third party solutions."},{"owner":{"account_id":23911576,"reputation":1,"user_id":17908467,"display_name":"Numitoor"},"score":0,"creation_date":1641969427,"post_id":70674758,"comment_id":124943953,"body_markdown":"@blackapps it&#39;s an om d em-10 mark II camera and yeah, there is a command to list each photo taken.","body":"@blackapps it&#39;s an om d em-10 mark II camera and yeah, there is a command to list each photo taken."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641975149,"post_id":70674758,"comment_id":124945687,"body_markdown":"`Devices have to ping somewhere on the web to determine that current connection is actually internet capable,` @Pawel. Not the device but some software called DownloadManager. Well there is not any need to have internet as other client and server apps just work in local w(lan) or with wifi direct without needing internet. Its a terribke &#39;feature&#39;.","body":"<code>Devices have to ping somewhere on the web to determine that current connection is actually internet capable,</code> @Pawel. Not the device but some software called DownloadManager. Well there is not any need to have internet as other client and server apps just work in local w(lan) or with wifi direct without needing internet. Its a terribke &#39;feature&#39;."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641975253,"post_id":70674758,"comment_id":124945725,"body_markdown":"But no big problem. Throw away DownloadManager. There are plenty of other solutions. Ten code lines will do.","body":"But no big problem. Throw away DownloadManager. There are plenty of other solutions. Ten code lines will do."},{"owner":{"account_id":12721843,"reputation":16003,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1641987643,"post_id":70674758,"comment_id":124950625,"body_markdown":"@blackapps I&#39;m not going to say I&#39;m certain because that&#39;d require specific knowledge of ASOP source but since download manager is a system service I assume it hooks into the same &quot;device online state&quot; as other system components rather than pinging something itself hence calling it a &quot;device ping&quot; is not wrong.","body":"@blackapps I&#39;m not going to say I&#39;m certain because that&#39;d require specific knowledge of ASOP source but since download manager is a system service I assume it hooks into the same &quot;device online state&quot; as other system components rather than pinging something itself hence calling it a &quot;device ping&quot; is not wrong."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641991818,"post_id":70674758,"comment_id":124952349,"body_markdown":"@Pawel. Ok. But i see no reason for checking internet connection if it is a local address.","body":"@Pawel. Ok. But i see no reason for checking internet connection if it is a local address."},{"owner":{"account_id":12721843,"reputation":16003,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1641996033,"post_id":70674758,"comment_id":124954404,"body_markdown":"@blackapps download manager only gives each download a bunch of retries before its considered failed so it doesn&#39;t even try unless it determines device is online and those tries have a chance to succeed. Sadly local addresses are a victim of this behavior.","body":"@blackapps download manager only gives each download a bunch of retries before its considered failed so it doesn&#39;t even try unless it determines device is online and those tries have a chance to succeed. Sadly local addresses are a victim of this behavior."}],"answers":[{"tags":[],"owner":{"account_id":26186583,"reputation":1,"user_id":19869043,"display_name":"JPP"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661761323,"creation_date":1661761323,"answer_id":73525980,"question_id":70674758,"body_markdown":"I have the same issue : as soon as I use my mobile as a hotspot, DownloadManager is not working. I get a download failure notification with no additional information.\r\nThere is nothing in the intent get in onReceive method of the registered BroadcastReceiver\r\nI works like a charm if the 2 devices are connected to my home WIFI.","title":"DownloadManager not working without internet connection","body":"<p>I have the same issue : as soon as I use my mobile as a hotspot, DownloadManager is not working. I get a download failure notification with no additional information.\nThere is nothing in the intent get in onReceive method of the registered BroadcastReceiver\nI works like a charm if the 2 devices are connected to my home WIFI.</p>\n"}],"owner":{"account_id":23911576,"reputation":1,"user_id":17908467,"display_name":"Numitoor"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661761323,"creation_date":1641944957,"question_id":70674758,"body_markdown":"I am trying to write an app that allows me to connect to my Olympus camera through wifi, and use it&#39;s built-in server to pull my raw images from it. My problem is that, when I&#39;m on the camera&#39;s wifi, downloadManager doesn&#39;t seem to work, only when I connect my phone to the web. Am I missing something here, or is this tool really not fit for this task?\r\n\r\nMy DownloadManager:\r\n\r\n    public void getImage(String imageName, Context context) {\r\n        File file = new File(Environment\r\n                .getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM).toString(), imageName);\r\n\r\n        DownloadManager.Request request = new DownloadManager.Request(Uri.parse(&quot;http://192.168.0.10/DCIM/100OLYMP/&quot; + imageName))\r\n                .setTitle(imageName + &quot;: OlyRaw Image&quot;)\r\n                .setDescription(&quot;Downloading&quot;)\r\n                .setDestinationInExternalFilesDir(context, Environment.DIRECTORY_DCIM, imageName)\r\n                .setAllowedOverMetered(true)\r\n                .setRequiresCharging(false)\r\n                .addRequestHeader(&quot;user-agent&quot;, &quot;OlympusCameraKit&quot;)\r\n                .addRequestHeader(&quot;host&quot;, &quot;192.168.0.10&quot;)\r\n                .setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI);\r\n\r\n        Log.d(&quot;Response&quot;, &quot;http://192.168.0.10/DCIM/100OLYMP/&quot; + imageName);\r\n\r\n        DownloadManager downloadManager = (DownloadManager) context.getSystemService(DOWNLOAD_SERVICE);\r\n        try{\r\n            downloadId = downloadManager.enqueue(request);\r\n            Log.d(&quot;Response&quot;, String.valueOf(downloadId));\r\n        }\r\n        catch (Exception e) {\r\n            Log.d(&quot;Response&quot;, e.toString());\r\n        }\r\n    }","title":"DownloadManager not working without internet connection","body":"<p>I am trying to write an app that allows me to connect to my Olympus camera through wifi, and use it's built-in server to pull my raw images from it. My problem is that, when I'm on the camera's wifi, downloadManager doesn't seem to work, only when I connect my phone to the web. Am I missing something here, or is this tool really not fit for this task?</p>\n<p>My DownloadManager:</p>\n<pre><code>public void getImage(String imageName, Context context) {\n    File file = new File(Environment\n            .getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM).toString(), imageName);\n\n    DownloadManager.Request request = new DownloadManager.Request(Uri.parse(&quot;http://192.168.0.10/DCIM/100OLYMP/&quot; + imageName))\n            .setTitle(imageName + &quot;: OlyRaw Image&quot;)\n            .setDescription(&quot;Downloading&quot;)\n            .setDestinationInExternalFilesDir(context, Environment.DIRECTORY_DCIM, imageName)\n            .setAllowedOverMetered(true)\n            .setRequiresCharging(false)\n            .addRequestHeader(&quot;user-agent&quot;, &quot;OlympusCameraKit&quot;)\n            .addRequestHeader(&quot;host&quot;, &quot;192.168.0.10&quot;)\n            .setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI);\n\n    Log.d(&quot;Response&quot;, &quot;http://192.168.0.10/DCIM/100OLYMP/&quot; + imageName);\n\n    DownloadManager downloadManager = (DownloadManager) context.getSystemService(DOWNLOAD_SERVICE);\n    try{\n        downloadId = downloadManager.enqueue(request);\n        Log.d(&quot;Response&quot;, String.valueOf(downloadId));\n    }\n    catch (Exception e) {\n        Log.d(&quot;Response&quot;, e.toString());\n    }\n}\n</code></pre>\n"},{"tags":["java","proxy","google-api"],"answers":[{"tags":[],"owner":{"account_id":15121473,"reputation":945,"user_id":10912170,"display_name":"Sha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661761128,"creation_date":1661761128,"answer_id":73525949,"question_id":73433095,"body_markdown":"Data Center proxies aren’t good idea for country based requests. Use residential-proxy for these kind of requests. Best options according to price look like: \r\n\r\n 1. shifter.io\r\n 2. Smart-Proxy\r\n 3. Bright-Data","title":"How Can I use proxy properly on Java?","body":"<p>Data Center proxies aren’t good idea for country based requests. Use residential-proxy for these kind of requests. Best options according to price look like:</p>\n<ol>\n<li>shifter.io</li>\n<li>Smart-Proxy</li>\n<li>Bright-Data</li>\n</ol>\n"}],"owner":{"account_id":15121473,"reputation":945,"user_id":10912170,"display_name":"Sha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73525949,"answer_count":1,"score":1,"last_activity_date":1661761128,"creation_date":1661073777,"question_id":73433095,"body_markdown":"I try to crawl some app-data from google-play-store (https://play-fe.googleapis.com). When I try to fetch it without proxy, it works properly according to my location. But when I try to fetch it with proxy and with specific country, it doesn’t work properly.\r\n\r\nAs a proxy provider, I used Bright-Data, Smart-Proxy and https://proxy.webshare.io/. All of them behave similar.\r\n\r\n 1. Proxy Type: Data Center\r\n \r\n 2. URL: https://play-fe.googleapis.com\r\n\r\nMy java code looks like:\r\n\r\n        CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n        credentialsProvider.setCredentials(new AuthScope(PROXY_HOST, PROXY_PORT), new UsernamePasswordCredentials(PROXY_USER, PROXY_PASSWORD));\r\n\r\n        var client = HttpClientBuilder.create()\r\n                .useSystemProperties()\r\n                .setProxy(new HttpHost(PROXY_HOST, PROXY_PORT))\r\n                .setDefaultCredentialsProvider(credentialsProvider)\r\n                .setProxyAuthenticationStrategy(new ProxyAuthenticationStrategy())\r\n                .setDefaultSocketConfig(SocketConfig.custom().setSoTimeout(30000).build())\r\n                .build();\r\n        var requestFactory = new HttpComponentsClientHttpRequestFactory(client); \r\n\r\nNote: By the way, I check the ip country via https://api.myip.com/ and proxy provides proper ip-address.\r\n\r\nNote: And I know that I can handle it via **residential-proxy** but residential-proxy is not cheap.\r\n\r\nIs there any suggestion or comment?","title":"How Can I use proxy properly on Java?","body":"<p>I try to crawl some app-data from google-play-store (<a href=\"https://play-fe.googleapis.com\" rel=\"nofollow noreferrer\">https://play-fe.googleapis.com</a>). When I try to fetch it without proxy, it works properly according to my location. But when I try to fetch it with proxy and with specific country, it doesn’t work properly.</p>\n<p>As a proxy provider, I used Bright-Data, Smart-Proxy and <a href=\"https://proxy.webshare.io/\" rel=\"nofollow noreferrer\">https://proxy.webshare.io/</a>. All of them behave similar.</p>\n<ol>\n<li><p>Proxy Type: Data Center</p>\n</li>\n<li><p>URL: <a href=\"https://play-fe.googleapis.com\" rel=\"nofollow noreferrer\">https://play-fe.googleapis.com</a></p>\n</li>\n</ol>\n<p>My java code looks like:</p>\n<pre><code>    CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n    credentialsProvider.setCredentials(new AuthScope(PROXY_HOST, PROXY_PORT), new UsernamePasswordCredentials(PROXY_USER, PROXY_PASSWORD));\n\n    var client = HttpClientBuilder.create()\n            .useSystemProperties()\n            .setProxy(new HttpHost(PROXY_HOST, PROXY_PORT))\n            .setDefaultCredentialsProvider(credentialsProvider)\n            .setProxyAuthenticationStrategy(new ProxyAuthenticationStrategy())\n            .setDefaultSocketConfig(SocketConfig.custom().setSoTimeout(30000).build())\n            .build();\n    var requestFactory = new HttpComponentsClientHttpRequestFactory(client); \n</code></pre>\n<p>Note: By the way, I check the ip country via <a href=\"https://api.myip.com/\" rel=\"nofollow noreferrer\">https://api.myip.com/</a> and proxy provides proper ip-address.</p>\n<p>Note: And I know that I can handle it via <strong>residential-proxy</strong> but residential-proxy is not cheap.</p>\n<p>Is there any suggestion or comment?</p>\n"},{"tags":["java","logback","slf4j"],"owner":{"account_id":23456861,"reputation":301,"user_id":17512207,"display_name":"ildvzg68472"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661761057,"creation_date":1661761057,"question_id":73525935,"body_markdown":"the `logback.xml` is in a dependency jar and cannot be changed.\r\n\r\nIt is unacceptable to add a new `logback.xml` in my project because it will make all log configurations in `logback.xml` in that jar disabled but I just want to set a few configurations.\r\n\r\nFor example, in that `logback.xml`, there is a such configuration:\r\n\r\n```\r\n\t&lt;if condition=&#39;property(&quot;IS_CONSOLE_LOG_PATTER_MINI&quot;).equals(&quot;true&quot;)&#39;&gt;\r\n\t\t&lt;then&gt;\r\n\t\t\t&lt;property name=&quot;CONSOLE_LOG_PATTERN_VAR&quot; value=&quot;${CONSOLE_LOG_PATTERN_MINI}&quot; /&gt;\r\n\t\t&lt;/then&gt;\r\n\t&lt;/if&gt;\r\n```\r\n\r\nI want to set value for property **IS_CONSOLE_LOG_PATTER_MINI** and **CONSOLE_LOG_PATTERN_MINI**,\r\n\r\n\r\nCould you please help advise on it? Thanks a lot.","title":"how to set some property based on a logback.xml in a depndency jar?","body":"<p>the <code>logback.xml</code> is in a dependency jar and cannot be changed.</p>\n<p>It is unacceptable to add a new <code>logback.xml</code> in my project because it will make all log configurations in <code>logback.xml</code> in that jar disabled but I just want to set a few configurations.</p>\n<p>For example, in that <code>logback.xml</code>, there is a such configuration:</p>\n<pre><code>    &lt;if condition='property(&quot;IS_CONSOLE_LOG_PATTER_MINI&quot;).equals(&quot;true&quot;)'&gt;\n        &lt;then&gt;\n            &lt;property name=&quot;CONSOLE_LOG_PATTERN_VAR&quot; value=&quot;${CONSOLE_LOG_PATTERN_MINI}&quot; /&gt;\n        &lt;/then&gt;\n    &lt;/if&gt;\n</code></pre>\n<p>I want to set value for property <strong>IS_CONSOLE_LOG_PATTER_MINI</strong> and <strong>CONSOLE_LOG_PATTERN_MINI</strong>,</p>\n<p>Could you please help advise on it? Thanks a lot.</p>\n"},{"tags":["java","rest","automated-tests","rest-assured"],"comments":[{"owner":{"account_id":6456733,"reputation":1883,"user_id":5404976,"accept_rate":50,"display_name":"Vinit Solanki"},"score":0,"creation_date":1661759877,"post_id":73525678,"comment_id":129839412,"body_markdown":"Sticky_agent data = new Sticky_agent(true, &quot;5d&quot;); would be enough dont need to create arraylist","body":"Sticky_agent data = new Sticky_agent(true, &quot;5d&quot;); would be enough dont need to create arraylist"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661795275,"post_id":73525678,"comment_id":129851571,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":24350641,"reputation":125,"user_id":18286518,"display_name":"Find Bugs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661760839,"creation_date":1661760754,"answer_id":73525883,"question_id":73525678,"body_markdown":"key: [{key:value, key:value}]\r\n\r\nThe Square brackets [] sometimes means the array or list, and the element is the content wrapped in the Curly bracket {}.\r\n\r\nIf you want to remove the [], just define the attribute as a struct not an array or list. e.g:\r\n\r\n \r\n\r\n       \r\n    public class Demo {\r\n    \r\n         private StickyAgent stickyAgent;\r\n    \r\n         public String toJsonString(){\r\n            return new Gson().toJson(this);\r\n         }\r\n    \r\n        @Data\r\n        public class StickyAgent {\r\n            private boolean enable;\r\n            private String time;\r\n        }\r\n    }\r\n     \r\n\r\n\r\n\r\n\r\n","title":"POST request body which has nested JSON","body":"<p>key: [{key:value, key:value}]</p>\n<p>The Square brackets [] sometimes means the array or list, and the element is the content wrapped in the Curly bracket {}.</p>\n<p>If you want to remove the [], just define the attribute as a struct not an array or list. e.g:</p>\n<pre><code>public class Demo {\n\n     private StickyAgent stickyAgent;\n\n     public String toJsonString(){\n        return new Gson().toJson(this);\n     }\n\n    @Data\n    public class StickyAgent {\n        private boolean enable;\n        private String time;\n    }\n}\n \n</code></pre>\n"}],"owner":{"account_id":23345943,"reputation":11,"user_id":17420237,"display_name":"Developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661760839,"creation_date":1661759657,"question_id":73525678,"body_markdown":"I am succefully able to sent \r\n&quot;sticky_agent&quot;: [\r\n        {\r\n            &quot;enable&quot;: true,\r\n            &quot;time&quot;: &quot;5d&quot;\r\n        }\r\n    ],\r\nin my request body but I need to send it like this \r\n&quot;sticky_agent&quot;: \r\n        {\r\n            &quot;enable&quot;: true,\r\n            &quot;time&quot;: &quot;5d&quot;\r\n        },\r\n\r\nList&lt;Sticky_agent&gt; stickyList = new ArrayList&lt;&gt;();\r\n\t\tstickyList.add(new Sticky_agent(true, &quot;5d&quot;));\r\n\r\nwhat changes I should make here \r\n\r\n    ","title":"POST request body which has nested JSON","body":"<p>I am succefully able to sent\n&quot;sticky_agent&quot;: [\n{\n&quot;enable&quot;: true,\n&quot;time&quot;: &quot;5d&quot;\n}\n],\nin my request body but I need to send it like this\n&quot;sticky_agent&quot;:\n{\n&quot;enable&quot;: true,\n&quot;time&quot;: &quot;5d&quot;\n},</p>\n<p>List&lt;Sticky_agent&gt; stickyList = new ArrayList&lt;&gt;();\nstickyList.add(new Sticky_agent(true, &quot;5d&quot;));</p>\n<p>what changes I should make here</p>\n"},{"tags":["java","android","android-studio","kotlin","android-fragments"],"comments":[{"owner":{"account_id":25931676,"reputation":86,"user_id":19652639,"display_name":"Farshad Molazeinali"},"score":0,"creation_date":1661752112,"post_id":73521094,"comment_id":129837313,"body_markdown":"in order to destroying the fragment, if you are using binding, you can just add this to your fragment\n`override fun onDestroyView() {\n        super.onDestroyView()\n        _binding = null\n    }`","body":"in order to destroying the fragment, if you are using binding, you can just add this to your fragment <code>override fun onDestroyView() {         super.onDestroyView()         _binding = null     }</code>"}],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661719238,"creation_date":1661713289,"answer_id":73521424,"question_id":73521094,"body_markdown":"[`remove()`][1] takes a *Fragment instance*, you&#39;re just passing it the name of the *Fragment class*.\r\n\r\n````\r\nclass MyFragment : Fragment()\r\n\r\n// Not this\r\nremove(MyFragment)\r\n\r\n// You have to get a reference to the Fragment object\r\n// Either use the ID of a Fragment added in XML, or the ID of the container you\r\n// added it to in a FragmentTransaction\r\nval actualFragment =  fragmentManager.findFragmentById(R.id.that_id)\r\n// Or use a Tag you added in XML or through a transaction\r\nval actualFragment = fragmentManager.findFragmentByTag(&quot;some tag&quot;)\r\n\r\n// now you have the Fragment, you can remove it\r\nremove(actualFragment)\r\n````\r\n\r\nBecause in Kotlin you can shorten `MyFragment.Companion.someProperty` to `MyFragment.someProperty`, just using `MyFragment` as a value (like you&#39;re doing here - `remove` expects an *object*) means you&#39;re actually referring to `MyFragment.Companion`. So the fact you have a companion object here isn&#39;t the problem, you&#39;re just doing the wrong thing with it by trying to pass it to `remove`.\r\n\r\n  [1]: https://developer.android.com/reference/androidx/fragment/app/FragmentTransaction#remove(androidx.fragment.app.Fragment)","title":"How to destroy fragment in kotlin?","body":"<p><a href=\"https://developer.android.com/reference/androidx/fragment/app/FragmentTransaction#remove(androidx.fragment.app.Fragment)\" rel=\"nofollow noreferrer\"><code>remove()</code></a> takes a <em>Fragment instance</em>, you're just passing it the name of the <em>Fragment class</em>.</p>\n<pre><code>class MyFragment : Fragment()\n\n// Not this\nremove(MyFragment)\n\n// You have to get a reference to the Fragment object\n// Either use the ID of a Fragment added in XML, or the ID of the container you\n// added it to in a FragmentTransaction\nval actualFragment =  fragmentManager.findFragmentById(R.id.that_id)\n// Or use a Tag you added in XML or through a transaction\nval actualFragment = fragmentManager.findFragmentByTag(&quot;some tag&quot;)\n\n// now you have the Fragment, you can remove it\nremove(actualFragment)\n</code></pre>\n<p>Because in Kotlin you can shorten <code>MyFragment.Companion.someProperty</code> to <code>MyFragment.someProperty</code>, just using <code>MyFragment</code> as a value (like you're doing here - <code>remove</code> expects an <em>object</em>) means you're actually referring to <code>MyFragment.Companion</code>. So the fact you have a companion object here isn't the problem, you're just doing the wrong thing with it by trying to pass it to <code>remove</code>.</p>\n"}],"owner":{"account_id":24141999,"reputation":53,"user_id":18108080,"display_name":"Tommy -"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661760755,"creation_date":1661710349,"question_id":73521094,"body_markdown":"I am trying to destroy the previous `fragment` when switching to another `fragment` on the same `activity` by using `getFragmentManager()?.beginTransaction()?.remove(MyFragment)?.commitAllowingStateLoss()` but on the `remove()` part, where I put my fragment&#39;s name, it says **Required: Fragment! Found: MyFragment.Companion** well I assume this is because I am using companion object in this `fragment` because I need it for the `putExtra` function. **How to destroy fragment even though there is a companion object in it?** Thanks.","title":"How to destroy fragment in kotlin?","body":"<p>I am trying to destroy the previous <code>fragment</code> when switching to another <code>fragment</code> on the same <code>activity</code> by using <code>getFragmentManager()?.beginTransaction()?.remove(MyFragment)?.commitAllowingStateLoss()</code> but on the <code>remove()</code> part, where I put my fragment's name, it says <strong>Required: Fragment! Found: MyFragment.Companion</strong> well I assume this is because I am using companion object in this <code>fragment</code> because I need it for the <code>putExtra</code> function. <strong>How to destroy fragment even though there is a companion object in it?</strong> Thanks.</p>\n"},{"tags":["java","compilation","javac","java-6","underscore-java"],"comments":[{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":3,"creation_date":1661760622,"post_id":73525770,"comment_id":129839623,"body_markdown":"You need to use at least Java 8 to compile your entire project, otherwise it will not be able to recognize class files compiled with Java 8. That said: Java 6 is 16 years old and unsupported, and Java 8 is 8 years old at this point, with minimal support. Consider switching to Java 17 (LTS) or 18, or failing that, 11 (also LTS).","body":"You need to use at least Java 8 to compile your entire project, otherwise it will not be able to recognize class files compiled with Java 8. That said: Java 6 is 16 years old and unsupported, and Java 8 is 8 years old at this point, with minimal support. Consider switching to Java 17 (LTS) or 18, or failing that, 11 (also LTS)."},{"owner":{"account_id":2380334,"reputation":2167,"user_id":2082488,"accept_rate":32,"display_name":"benchpresser"},"score":0,"creation_date":1661762171,"post_id":73525770,"comment_id":129840109,"body_markdown":"yes, it seems the only way. but I am confused: I got this error when compile using javac or ant scripts. But on eclipse, I generated a dummy project which has jdk 1.6.45 as jre system library in the build path and project compilance is 1.6. I add the external jar (unerscore) and write a simple call as stated in the question above  and it compiles fine?","body":"yes, it seems the only way. but I am confused: I got this error when compile using javac or ant scripts. But on eclipse, I generated a dummy project which has jdk 1.6.45 as jre system library in the build path and project compilance is 1.6. I add the external jar (unerscore) and write a simple call as stated in the question above  and it compiles fine?"},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1661762268,"post_id":73525770,"comment_id":129840137,"body_markdown":"Eclipse has its own compiler called `ecj`, perhaps it&#39;s a higher Java version than your JRE?","body":"Eclipse has its own compiler called <code>ecj</code>, perhaps it&#39;s a higher Java version than your JRE?"},{"owner":{"account_id":2380334,"reputation":2167,"user_id":2082488,"accept_rate":32,"display_name":"benchpresser"},"score":0,"creation_date":1661762376,"post_id":73525770,"comment_id":129840175,"body_markdown":"prject properties/java build path/has two entires: the underscore and JRE Sysem library 1.6.45 which is set as alternate JRE. Maybe eclipse ecj can handle it different than javac even if it is using 1.6?","body":"prject properties/java build path/has two entires: the underscore and JRE Sysem library 1.6.45 which is set as alternate JRE. Maybe eclipse ecj can handle it different than javac even if it is using 1.6?"},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1661763085,"post_id":73525770,"comment_id":129840383,"body_markdown":"Right-click your project, go to Properties, and check under Java Compiler (not Build Path). I&#39;m guessing your compliance level is set higher than Java 6","body":"Right-click your project, go to Properties, and check under Java Compiler (not Build Path). I&#39;m guessing your compliance level is set higher than Java 6"},{"owner":{"account_id":2380334,"reputation":2167,"user_id":2082488,"accept_rate":32,"display_name":"benchpresser"},"score":0,"creation_date":1661764212,"post_id":73525770,"comment_id":129840727,"body_markdown":"no compiler compilance level is set to 1.6 explicitily. that is why i get confused. and the classes are generated? Maybe eclipse adds a parameter while compiling etc, which resolves the issue? I also added some java 1.7 or 1.8 feature to my simple main function to check whether it is really 1.6 specific and it does not get compiled.","body":"no compiler compilance level is set to 1.6 explicitily. that is why i get confused. and the classes are generated? Maybe eclipse adds a parameter while compiling etc, which resolves the issue? I also added some java 1.7 or 1.8 feature to my simple main function to check whether it is really 1.6 specific and it does not get compiled."},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":1,"creation_date":1661764448,"post_id":73525770,"comment_id":129840791,"body_markdown":"To be fair I rarely use Eclipse (IntelliJ user), so if the compliance level is not set to a higher version then I&#39;m out of ideas why this works in Eclipse. Either way upgrading your project should solve it for all compilers","body":"To be fair I rarely use Eclipse (IntelliJ user), so if the compliance level is not set to a higher version then I&#39;m out of ideas why this works in Eclipse. Either way upgrading your project should solve it for all compilers"}],"owner":{"account_id":2380334,"reputation":2167,"user_id":2082488,"accept_rate":32,"display_name":"benchpresser"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661760333,"creation_date":1661760141,"question_id":73525770,"body_markdown":"I have a large project which is build using Java 1.6 and I can not update its build path to Java 1.8 because it causes too many compile errors.\r\n\r\nI have to use an external library (underscore) https://mvnrepository.com/artifact/com.github.javadev/underscore/1.73 which is build using Java 1.8 and it seems it is not backwards compatible.\r\n\r\nWhen I try to compile I get the following error for a sample code:\r\n\r\n    import com.github.underscore.lodash.U;\r\n    \r\n    public static void main(String args[]) {\r\n        U.xmlToJson(&quot;foo&quot;)\r\n    }\r\n\r\nI get the following errors:\r\n\r\n**cannot access com.github.underscore.lodash.U bad class file has wrong version 52.0, should be 50.0.\r\nPlease remove or make sure it appears in the correct subdirectory of the classpath.**\r\n\r\nThe runtime can be 1.6 or 1.8 it is not problem, the main problem is the compile process fails.\r\n","title":"Compile a java 1.6 project using external library which was build using Java 1.8","body":"<p>I have a large project which is build using Java 1.6 and I can not update its build path to Java 1.8 because it causes too many compile errors.</p>\n<p>I have to use an external library (underscore) <a href=\"https://mvnrepository.com/artifact/com.github.javadev/underscore/1.73\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.github.javadev/underscore/1.73</a> which is build using Java 1.8 and it seems it is not backwards compatible.</p>\n<p>When I try to compile I get the following error for a sample code:</p>\n<pre><code>import com.github.underscore.lodash.U;\n\npublic static void main(String args[]) {\n    U.xmlToJson(&quot;foo&quot;)\n}\n</code></pre>\n<p>I get the following errors:</p>\n<p><strong>cannot access com.github.underscore.lodash.U bad class file has wrong version 52.0, should be 50.0.\nPlease remove or make sure it appears in the correct subdirectory of the classpath.</strong></p>\n<p>The runtime can be 1.6 or 1.8 it is not problem, the main problem is the compile process fails.</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661759374,"creation_date":1661759374,"answer_id":73525634,"question_id":73525474,"body_markdown":"An empty collection means a collection with no documents. If you want to delete all documents in a collection, I recommend you see my answer in the following post:\r\n\r\n* https://stackoverflow.com/questions/49125183/how-to-model-this-structure-to-handle-delete/49125226\r\n\r\nWhy your code is not working? Is because of the following line of code:\r\n\r\n    db.collection(&quot;AddPlaces&quot;).document()\r\n\r\nWhich basically generates a document with a random ID, and nothing more. So when you call delete(), you&#39;re trying to delete a single document and **not** all documents in the collection, hence that behavior.\r\n\r\nOne more thing to note is that if you delete all documents in the collection, that collection will not exist anymore. It will exist again when you&#39;ll write a new document in it.","title":"Delete documents of cloud firestore collection after I close the app","body":"<p>An empty collection means a collection with no documents. If you want to delete all documents in a collection, I recommend you see my answer in the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/49125183/how-to-model-this-structure-to-handle-delete/49125226\">How delete a collection or subcollection from Firestore?</a></li>\n</ul>\n<p>Why your code is not working? Is because of the following line of code:</p>\n<pre><code>db.collection(&quot;AddPlaces&quot;).document()\n</code></pre>\n<p>Which basically generates a document with a random ID, and nothing more. So when you call delete(), you're trying to delete a single document and <strong>not</strong> all documents in the collection, hence that behavior.</p>\n<p>One more thing to note is that if you delete all documents in the collection, that collection will not exist anymore. It will exist again when you'll write a new document in it.</p>\n"}],"owner":{"account_id":25652696,"reputation":29,"user_id":19419705,"display_name":"Oana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73525634,"answer_count":1,"score":1,"last_activity_date":1661759403,"creation_date":1661758418,"question_id":73525474,"body_markdown":"So I have a collection in Cloud Firestore which I populate by clicking some buttons in my application. Once I close the app, I want the collection to be empty. Is there any way I can do that? I tried to implement onStop() method, but it does nothing.\r\n\r\n    protected void onStop() {\r\n        super.onStop();\r\n        db.collection(&quot;AddPlaces&quot;).document()\r\n                .delete()\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        Log.d(&quot;SUCCES&quot;, &quot;DocumentSnapshot successfully deleted!&quot;);\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Log.w(&quot;FAILURE&quot;, &quot;Error deleting document&quot;, e);\r\n                    }\r\n                });\r\n    }\r\n\r\nAny ideas if I can achieve that?","title":"Delete documents of cloud firestore collection after I close the app","body":"<p>So I have a collection in Cloud Firestore which I populate by clicking some buttons in my application. Once I close the app, I want the collection to be empty. Is there any way I can do that? I tried to implement onStop() method, but it does nothing.</p>\n<pre><code>protected void onStop() {\n    super.onStop();\n    db.collection(&quot;AddPlaces&quot;).document()\n            .delete()\n            .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                @Override\n                public void onSuccess(Void aVoid) {\n                    Log.d(&quot;SUCCES&quot;, &quot;DocumentSnapshot successfully deleted!&quot;);\n                }\n            })\n            .addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    Log.w(&quot;FAILURE&quot;, &quot;Error deleting document&quot;, e);\n                }\n            });\n}\n</code></pre>\n<p>Any ideas if I can achieve that?</p>\n"},{"tags":["java","android","android-manifest","okhttp","android-network-security-config"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1661175743,"post_id":73444288,"comment_id":129702691,"body_markdown":"Regular sockets are a clear-text protocol and thus disabled by default sind an Android version I don&#39;t remember. Check `adb logcat` and you should see an error message about `Cleartext HTTP traffic to xyz not permitted`.","body":"Regular sockets are a clear-text protocol and thus disabled by default sind an Android version I don&#39;t remember. Check <code>adb logcat</code> and you should see an error message about <code>Cleartext HTTP traffic to xyz not permitted</code>."},{"owner":{"display_name":"user19718250"},"score":0,"creation_date":1661176469,"post_id":73444288,"comment_id":129703053,"body_markdown":"Thank you very much for your reply. I edited it after I wrote adb logcat above.","body":"Thank you very much for your reply. I edited it after I wrote adb logcat above."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1661177829,"post_id":73444288,"comment_id":129703602,"body_markdown":"What is the packageName of your app? What is `IO.socket` (this is not a regular Java API method).","body":"What is the packageName of your app? What is <code>IO.socket</code> (this is not a regular Java API method)."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1661178426,"post_id":73444288,"comment_id":129703882,"body_markdown":"That seems to be the app name. I was referring to the package name. based on logcat it can be `com.applogist.filomotive`.","body":"That seems to be the app name. I was referring to the package name. based on logcat it can be <code>com.applogist.filomotive</code>."},{"owner":{"display_name":"user19718250"},"score":0,"creation_date":1661178642,"post_id":73444288,"comment_id":129703983,"body_markdown":"I did not write the application. so i got a little lost in the codes. package name is: com.applogist.filomotive as you said.","body":"I did not write the application. so i got a little lost in the codes. package name is: com.applogist.filomotive as you said."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1661178901,"post_id":73444288,"comment_id":129704097,"body_markdown":"Sorry but that message `Socket connection can not be established` is strange. AFAIK it does not belong to Java/Android so it must be printed by the app. Check the source code  and the used libraries for the message to find where it is printed and if it is a `catch` block print the exception and it&#39;s stack trace to get the real error message.","body":"Sorry but that message <code>Socket connection can not be established</code> is strange. AFAIK it does not belong to Java/Android so it must be printed by the app. Check the source code  and the used libraries for the message to find where it is printed and if it is a <code>catch</code> block print the exception and it&#39;s stack trace to get the real error message."},{"owner":{"display_name":"user19718250"},"score":0,"creation_date":1661179303,"post_id":73444288,"comment_id":129704263,"body_markdown":"thank you for your time. I am sharing the java file containing the message above.","body":"thank you for your time. I am sharing the java file containing the message above."},{"owner":{"account_id":2436240,"reputation":3410,"user_id":2126077,"accept_rate":75,"display_name":"Heshan Sandeepa"},"score":0,"creation_date":1661239007,"post_id":73444288,"comment_id":129717475,"body_markdown":"Have you verified your socket is up &amp; running? Try via this https://hoppscotch.io/realtime/websocket","body":"Have you verified your socket is up &amp; running? Try via this <a href=\"https://hoppscotch.io/realtime/websocket\" rel=\"nofollow noreferrer\">hoppscotch.io/realtime/websocket</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1661240089,"post_id":73444288,"comment_id":129717809,"body_markdown":"When `onError()` is called, surely the arguments contain information about the error? You should log those, and supply them here, rather than just telling us what your own error message said.","body":"When <code>onError()</code> is called, surely the arguments contain information about the error? You should log those, and supply them here, rather than just telling us what your own error message said."},{"owner":{"display_name":"user19718250"},"score":0,"creation_date":1661251989,"post_id":73444288,"comment_id":129722026,"body_markdown":"@user207421 I have attached the logcat outputs above","body":"@user207421 I have attached the logcat outputs above"},{"owner":{"display_name":"user19718250"},"score":0,"creation_date":1661351748,"post_id":73444288,"comment_id":129752488,"body_markdown":"I think socket is not running @Heshan Sandeepa","body":"I think socket is not running @Heshan Sandeepa"},{"owner":{"account_id":2436240,"reputation":3410,"user_id":2126077,"accept_rate":75,"display_name":"Heshan Sandeepa"},"score":0,"creation_date":1661406354,"post_id":73444288,"comment_id":129765513,"body_markdown":"But as you said, socket is working with the IOS app, so the issue has to be in the Android app @grsnkck","body":"But as you said, socket is working with the IOS app, so the issue has to be in the Android app @grsnkck"},{"owner":{"display_name":"user19718250"},"score":0,"creation_date":1661406569,"post_id":73444288,"comment_id":129765559,"body_markdown":"I think so too. But I couldn&#39;t solve the problem even though I made the network security config settings. @Heshan Sandeepa","body":"I think so too. But I couldn&#39;t solve the problem even though I made the network security config settings. @Heshan Sandeepa"},{"owner":{"account_id":2436240,"reputation":3410,"user_id":2126077,"accept_rate":75,"display_name":"Heshan Sandeepa"},"score":0,"creation_date":1661410068,"post_id":73444288,"comment_id":129766504,"body_markdown":"whats the socket URL &amp; auth, so we can give a try","body":"whats the socket URL &amp; auth, so we can give a try"},{"owner":{"display_name":"user19718250"},"score":0,"creation_date":1661523609,"post_id":73444288,"comment_id":129799479,"body_markdown":"have you seen my edit with console output?@Robert @user207421","body":"have you seen my edit with console output?@Robert @user207421"}],"owner":{"display_name":"user19718250"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1661759365,"creation_date":1661167398,"question_id":73444288,"body_markdown":"I&#39;ve been dealing with NPE for a few days. Finally I found where I didn&#39;t create instance\r\n\r\n    private UserModel userInfo = new UserModel();\r\n\r\nNow I get error: Socket connection can not be established\r\n\r\nSo, my app is not working well.\r\n\r\nThe error message comes from this Java code. \r\n\r\n\r\nEdit:\r\nMy console/errors:\r\n\r\n    E/RecyclerView: No adapter attached; skipping layout\r\n    E/Socket: Socket connection can not be established\r\n\r\nAfter adding this .retryOnConnectionFailure(true) two errors remained as seen above. &quot;Socket connection can not be established&quot; is not a regular message and is sent from VehicleBidFragmentPresenterImp.java.\r\n\r\nVehicleBidFragmentPresenterImp.java:\r\n\r\n    public void initSocketHelper(String userId, int auctionId) {\r\n            SocketHelper.getInstance().connect(new SocketHelper.SocketCallBack() {\r\n                @Override\r\n                public void onConnect(Object... args) {\r\n                    // send first bid for wake up socket\r\n                    sendBid(userId, 4, &quot;1&quot;, String.valueOf(auctionId), Calendar.getInstance(TimeZone.getTimeZone(&quot;UTC&quot;)).getTimeInMillis());\r\n                }\r\n    \r\n                @Override\r\n                public void onDisConnect(Object... args) {\r\n                    Log.d(&quot;Socket&quot;, &quot;Socket connection close&quot;);\r\n                }\r\n    \r\n    \r\n                @Override\r\n                public void onError(Object... args) {\r\n                    Log.e(&quot;Socket&quot;, &quot;Socket connection can not be established&quot;);\r\n                }\r\n    \r\n    \r\n                @Override\r\n                public void onTimeOut(Object... args) {\r\n                    if (getView() != null &amp;&amp; getView().get() != null)\r\n                        getView().get().bidError(&quot;Bağlantınız zaman aşımına uğradı l&#252;tfen tekrar bağlanmayı deneyiniz.&quot;);\r\n                }\r\n    \r\n    \r\n                @Override\r\n                public void onBidError(Object... args) {\r\n    \r\n                    if (args != null &amp;&amp; args.length &gt; 0) {\r\n                        try {\r\n                            for (Object data : args) {\r\n    \r\n                                if (data == null)\r\n                                    break;\r\n    \r\n                                AuctionBidErrorModel bidModel = parseSocketError(data.toString());\r\n    \r\n                                if (bidModel == null) {\r\n                                    getView().get().bidError(&quot;Bir hata oluştu daha sonra tekrar deneyiniz.&quot;);\r\n                                    return;\r\n                                }\r\n    \r\n                                long id = bidModel.getAuctionId();\r\n    \r\n                                if (id == auctionId &amp;&amp; userId.equals(bidModel.getKey())) {\r\n    \r\n                                    Log.d(&quot;Socket&quot;, &quot; Error --&gt; &quot; + data.toString());\r\n    \r\n                                    getView().get().bidError(bidModel.getMessage());\r\n                                }\r\n                            }\r\n                        } catch (Exception ignore) {\r\n                            ignore.printStackTrace();\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onBidPublish(Object... args) {\r\n                    try {\r\n                        if (getView() != null &amp;&amp; getView().get() != null) {\r\n    \r\n                            for (Object data : args) {\r\n    \r\n                                if (data == null)\r\n                                    break;\r\n    \r\n                                AuctionBidModel bidModel = parseSocket(data.toString());\r\n    \r\n                                if (bidModel == null) {\r\n                                    getView().get().bidError(&quot;Bir hata oluştu daha sonra tekrar deneyiniz.&quot;);\r\n                                    return;\r\n                                }\r\n    \r\n                                long id = bidModel.getAuctionId();\r\n    \r\n                                if (id == auctionId &amp;&amp; bidModel.getSendType() != 4) {\r\n    \r\n                                    Log.d(&quot;Socket&quot;, &quot; BidPublish --&gt; &quot; + data.toString());\r\n    \r\n                                    getView().get().bidSend(bidModel);\r\n                                }\r\n                            }\r\n    \r\n                        }\r\n                    } catch (Exception ignore) {\r\n                        ignore.printStackTrace();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onClose(Object... args) {\r\n    \r\n                    try {\r\n                        if (args != null)\r\n                            Log.d(&quot;SocketHelper&quot;, &quot;&quot; + Arrays.toString(args));\r\n    \r\n                        if (getView() != null &amp;&amp; getView().get() != null &amp;&amp; args != null) {\r\n    \r\n                            for (Object data : args) {\r\n    \r\n                                if (data == null)\r\n                                    break;\r\n    \r\n                                AuctionBidModel bidModel = parseSocket(data.toString());\r\n    \r\n                                if (bidModel == null) {\r\n                                    return;\r\n                                }\r\n    \r\n                                long id = bidModel.getAuctionId();\r\n    \r\n                                if (id == auctionId &amp;&amp; bidModel.getSendType() != 4) {\r\n    \r\n                                    Log.d(&quot;Socket&quot;, &quot; Close --&gt; &quot; + data.toString());\r\n    \r\n                                    getView().get().auctionClose();\r\n                                }\r\n                            }\r\n    \r\n                        }\r\n                    } catch (Exception ignore) {\r\n                        ignore.printStackTrace();\r\n                    }\r\n    \r\n                }\r\n    \r\n    \r\n                @Override\r\n                public void autoSellCancel(Object... args) {\r\n                    try {\r\n                        if (args != null)\r\n                            Log.d(&quot;SocketHelper&quot;, &quot;&quot; + Arrays.toString(args));\r\n    \r\n                        if (getView() != null &amp;&amp; getView().get() != null &amp;&amp; args != null) {\r\n    \r\n                            for (Object data : args) {\r\n    \r\n                                if (data == null)\r\n                                    break;\r\n    \r\n                                AuctionBidModel bidModel = parseSocket(data.toString());\r\n    \r\n                                if (bidModel == null) {\r\n                                    return;\r\n                                }\r\n    \r\n                                long id = bidModel.getAuctionId();\r\n    \r\n                                if (id == auctionId &amp;&amp; bidModel.getSendType() != 4) {\r\n    \r\n                                    Log.d(&quot;Socket&quot;, &quot; SellCancel --&gt; &quot; + data.toString());\r\n    \r\n                                    getView().get().autoSellCancel();\r\n                                }\r\n                            }\r\n    \r\n                        }\r\n                    } catch (Exception ignore) {\r\n                        ignore.printStackTrace();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void autoSell(Object... args) {\r\n                    try {\r\n                        if (args != null)\r\n                            Log.d(&quot;SocketHelper&quot;, &quot;&quot; + Arrays.toString(args));\r\n    \r\n                        if (getView() != null &amp;&amp; getView().get() != null &amp;&amp; args != null) {\r\n    \r\n                            for (Object data : args) {\r\n    \r\n                                if (data == null)\r\n                                    break;\r\n    \r\n                                AuctionBidModel bidModel = parseSocket(data.toString());\r\n    \r\n                                if (bidModel == null) {\r\n                                    return;\r\n                                }\r\n    \r\n                                long id = bidModel.getAuctionId();\r\n    \r\n                                if (id == auctionId &amp;&amp; bidModel.getSendType() != 4) {\r\n    \r\n                                    Log.d(&quot;Socket&quot;, &quot; AutoSell --&gt; &quot; + data.toString());\r\n    \r\n                                    getView().get().autoSell();\r\n                                }\r\n                            }\r\n    \r\n                        }\r\n                    } catch (Exception ignore) {\r\n                        ignore.printStackTrace();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void auctionCounterUpdate(Object... args) {\r\n                    try {\r\n                        if (args != null)\r\n                            Log.d(&quot;SocketHelper&quot;, &quot;&quot; + Arrays.toString(args));\r\n    \r\n                        if (getView() != null &amp;&amp; getView().get() != null &amp;&amp; args != null) {\r\n    \r\n                            for (Object data : args) {\r\n    \r\n                                if (data == null)\r\n                                    break;\r\n    \r\n                                AuctionBidModel bidModel = parseSocket(data.toString());\r\n    \r\n                                if (bidModel == null) {\r\n                                    return;\r\n                                }\r\n    \r\n                                long id = bidModel.getAuctionId();\r\n    \r\n                                if (id == auctionId &amp;&amp; bidModel.getSendType() != 4) {\r\n    \r\n                                    Log.d(&quot;Socket&quot;, &quot; CounterUpdate --&gt; &quot; + data.toString());\r\n    \r\n                                    getView().get().auctionCounterUpdate(bidModel.getNewTotalSeconds());\r\n                                }\r\n                            }\r\n    \r\n                        }\r\n                    } catch (Exception ignore) {\r\n                        ignore.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\nWhat I understand is that the socket somehow gets corrupted after it is installed.\r\n\r\n[logcat][1]\r\n[logcat][2]\r\n\r\nCan you please help me where to look in logcat?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JNAv9.png\r\n  [2]: https://i.stack.imgur.com/mJULi.png","title":"E/Socket: Socket connection can not be established","body":"<p>I've been dealing with NPE for a few days. Finally I found where I didn't create instance</p>\n<pre><code>private UserModel userInfo = new UserModel();\n</code></pre>\n<p>Now I get error: Socket connection can not be established</p>\n<p>So, my app is not working well.</p>\n<p>The error message comes from this Java code.</p>\n<p>Edit:\nMy console/errors:</p>\n<pre><code>E/RecyclerView: No adapter attached; skipping layout\nE/Socket: Socket connection can not be established\n</code></pre>\n<p>After adding this .retryOnConnectionFailure(true) two errors remained as seen above. &quot;Socket connection can not be established&quot; is not a regular message and is sent from VehicleBidFragmentPresenterImp.java.</p>\n<p>VehicleBidFragmentPresenterImp.java:</p>\n<pre><code>public void initSocketHelper(String userId, int auctionId) {\n        SocketHelper.getInstance().connect(new SocketHelper.SocketCallBack() {\n            @Override\n            public void onConnect(Object... args) {\n                // send first bid for wake up socket\n                sendBid(userId, 4, &quot;1&quot;, String.valueOf(auctionId), Calendar.getInstance(TimeZone.getTimeZone(&quot;UTC&quot;)).getTimeInMillis());\n            }\n\n            @Override\n            public void onDisConnect(Object... args) {\n                Log.d(&quot;Socket&quot;, &quot;Socket connection close&quot;);\n            }\n\n\n            @Override\n            public void onError(Object... args) {\n                Log.e(&quot;Socket&quot;, &quot;Socket connection can not be established&quot;);\n            }\n\n\n            @Override\n            public void onTimeOut(Object... args) {\n                if (getView() != null &amp;&amp; getView().get() != null)\n                    getView().get().bidError(&quot;Bağlantınız zaman aşımına uğradı lütfen tekrar bağlanmayı deneyiniz.&quot;);\n            }\n\n\n            @Override\n            public void onBidError(Object... args) {\n\n                if (args != null &amp;&amp; args.length &gt; 0) {\n                    try {\n                        for (Object data : args) {\n\n                            if (data == null)\n                                break;\n\n                            AuctionBidErrorModel bidModel = parseSocketError(data.toString());\n\n                            if (bidModel == null) {\n                                getView().get().bidError(&quot;Bir hata oluştu daha sonra tekrar deneyiniz.&quot;);\n                                return;\n                            }\n\n                            long id = bidModel.getAuctionId();\n\n                            if (id == auctionId &amp;&amp; userId.equals(bidModel.getKey())) {\n\n                                Log.d(&quot;Socket&quot;, &quot; Error --&gt; &quot; + data.toString());\n\n                                getView().get().bidError(bidModel.getMessage());\n                            }\n                        }\n                    } catch (Exception ignore) {\n                        ignore.printStackTrace();\n                    }\n                }\n            }\n\n            @Override\n            public void onBidPublish(Object... args) {\n                try {\n                    if (getView() != null &amp;&amp; getView().get() != null) {\n\n                        for (Object data : args) {\n\n                            if (data == null)\n                                break;\n\n                            AuctionBidModel bidModel = parseSocket(data.toString());\n\n                            if (bidModel == null) {\n                                getView().get().bidError(&quot;Bir hata oluştu daha sonra tekrar deneyiniz.&quot;);\n                                return;\n                            }\n\n                            long id = bidModel.getAuctionId();\n\n                            if (id == auctionId &amp;&amp; bidModel.getSendType() != 4) {\n\n                                Log.d(&quot;Socket&quot;, &quot; BidPublish --&gt; &quot; + data.toString());\n\n                                getView().get().bidSend(bidModel);\n                            }\n                        }\n\n                    }\n                } catch (Exception ignore) {\n                    ignore.printStackTrace();\n                }\n            }\n\n            @Override\n            public void onClose(Object... args) {\n\n                try {\n                    if (args != null)\n                        Log.d(&quot;SocketHelper&quot;, &quot;&quot; + Arrays.toString(args));\n\n                    if (getView() != null &amp;&amp; getView().get() != null &amp;&amp; args != null) {\n\n                        for (Object data : args) {\n\n                            if (data == null)\n                                break;\n\n                            AuctionBidModel bidModel = parseSocket(data.toString());\n\n                            if (bidModel == null) {\n                                return;\n                            }\n\n                            long id = bidModel.getAuctionId();\n\n                            if (id == auctionId &amp;&amp; bidModel.getSendType() != 4) {\n\n                                Log.d(&quot;Socket&quot;, &quot; Close --&gt; &quot; + data.toString());\n\n                                getView().get().auctionClose();\n                            }\n                        }\n\n                    }\n                } catch (Exception ignore) {\n                    ignore.printStackTrace();\n                }\n\n            }\n\n\n            @Override\n            public void autoSellCancel(Object... args) {\n                try {\n                    if (args != null)\n                        Log.d(&quot;SocketHelper&quot;, &quot;&quot; + Arrays.toString(args));\n\n                    if (getView() != null &amp;&amp; getView().get() != null &amp;&amp; args != null) {\n\n                        for (Object data : args) {\n\n                            if (data == null)\n                                break;\n\n                            AuctionBidModel bidModel = parseSocket(data.toString());\n\n                            if (bidModel == null) {\n                                return;\n                            }\n\n                            long id = bidModel.getAuctionId();\n\n                            if (id == auctionId &amp;&amp; bidModel.getSendType() != 4) {\n\n                                Log.d(&quot;Socket&quot;, &quot; SellCancel --&gt; &quot; + data.toString());\n\n                                getView().get().autoSellCancel();\n                            }\n                        }\n\n                    }\n                } catch (Exception ignore) {\n                    ignore.printStackTrace();\n                }\n            }\n\n            @Override\n            public void autoSell(Object... args) {\n                try {\n                    if (args != null)\n                        Log.d(&quot;SocketHelper&quot;, &quot;&quot; + Arrays.toString(args));\n\n                    if (getView() != null &amp;&amp; getView().get() != null &amp;&amp; args != null) {\n\n                        for (Object data : args) {\n\n                            if (data == null)\n                                break;\n\n                            AuctionBidModel bidModel = parseSocket(data.toString());\n\n                            if (bidModel == null) {\n                                return;\n                            }\n\n                            long id = bidModel.getAuctionId();\n\n                            if (id == auctionId &amp;&amp; bidModel.getSendType() != 4) {\n\n                                Log.d(&quot;Socket&quot;, &quot; AutoSell --&gt; &quot; + data.toString());\n\n                                getView().get().autoSell();\n                            }\n                        }\n\n                    }\n                } catch (Exception ignore) {\n                    ignore.printStackTrace();\n                }\n            }\n\n            @Override\n            public void auctionCounterUpdate(Object... args) {\n                try {\n                    if (args != null)\n                        Log.d(&quot;SocketHelper&quot;, &quot;&quot; + Arrays.toString(args));\n\n                    if (getView() != null &amp;&amp; getView().get() != null &amp;&amp; args != null) {\n\n                        for (Object data : args) {\n\n                            if (data == null)\n                                break;\n\n                            AuctionBidModel bidModel = parseSocket(data.toString());\n\n                            if (bidModel == null) {\n                                return;\n                            }\n\n                            long id = bidModel.getAuctionId();\n\n                            if (id == auctionId &amp;&amp; bidModel.getSendType() != 4) {\n\n                                Log.d(&quot;Socket&quot;, &quot; CounterUpdate --&gt; &quot; + data.toString());\n\n                                getView().get().auctionCounterUpdate(bidModel.getNewTotalSeconds());\n                            }\n                        }\n\n                    }\n                } catch (Exception ignore) {\n                    ignore.printStackTrace();\n                }\n            }\n        });\n    }\n</code></pre>\n<p>What I understand is that the socket somehow gets corrupted after it is installed.</p>\n<p><a href=\"https://i.stack.imgur.com/JNAv9.png\" rel=\"nofollow noreferrer\">logcat</a>\n<a href=\"https://i.stack.imgur.com/mJULi.png\" rel=\"nofollow noreferrer\">logcat</a></p>\n<p>Can you please help me where to look in logcat?</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","azure-active-directory"],"comments":[{"owner":{"account_id":17013844,"reputation":107,"user_id":12308243,"display_name":"Deewens"},"score":0,"creation_date":1652706259,"post_id":71819125,"comment_id":127663378,"body_markdown":"I have the exact same issue. Did you manage to solve it with a clean way and how? The below answer seems ok, but I don&#39;t want to use native SQL if possible...","body":"I have the exact same issue. Did you manage to solve it with a clean way and how? The below answer seems ok, but I don&#39;t want to use native SQL if possible..."},{"owner":{"account_id":17151936,"reputation":111,"user_id":13802851,"display_name":"Aleksandar"},"score":0,"creation_date":1652796398,"post_id":71819125,"comment_id":127689707,"body_markdown":"Sadly I haven&#39;t solved it, and I don&#39;t like the below answer as well, seems more like a hack than a solution. Apparently though there is very little information on how to achieve this, which is weird because I assumed that this is a common feature...","body":"Sadly I haven&#39;t solved it, and I don&#39;t like the below answer as well, seems more like a hack than a solution. Apparently though there is very little information on how to achieve this, which is weird because I assumed that this is a common feature..."},{"owner":{"account_id":17013844,"reputation":107,"user_id":12308243,"display_name":"Deewens"},"score":0,"creation_date":1652943812,"post_id":71819125,"comment_id":127731125,"body_markdown":"Anyway, thanks for your post, it helped me a bit ^^. To &quot;solve&quot; the issue, I just added a UNIQUE constraint on my Azure Object Id field and when I do &quot;userRepository.save()&quot; I am just catching the exception that occurs.\nIt still gives me some error logs (which is weird, I couldn&#39;t find a way to prevent these logs), but at least the exception is gone. I don&#39;t understand why there is no better solution for a probl&#232;me like this one which should be common. And, it arises only the first time the user log in, so I am gonna do with it while I don&#39;t have a better solution.","body":"Anyway, thanks for your post, it helped me a bit ^^. To &quot;solve&quot; the issue, I just added a UNIQUE constraint on my Azure Object Id field and when I do &quot;userRepository.save()&quot; I am just catching the exception that occurs. It still gives me some error logs (which is weird, I couldn&#39;t find a way to prevent these logs), but at least the exception is gone. I don&#39;t understand why there is no better solution for a probl&#232;me like this one which should be common. And, it arises only the first time the user log in, so I am gonna do with it while I don&#39;t have a better solution."}],"answers":[{"tags":[],"owner":{"account_id":127329,"reputation":2592,"user_id":324407,"accept_rate":25,"display_name":"Delta George"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650035756,"creation_date":1650035756,"answer_id":71885783,"question_id":71819125,"body_markdown":"Providing a custom INSERT statement for the User entity may work:\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    @SQLInsert(sql = &quot;INSERT IGNORE INTO users(name, role) VALUES (?, ?)&quot;\r\n    public class User {\r\n\r\nThen you would not need to perform a read in Java. You would need a unique constraint on the user name:\r\n\r\n    name VARCHAR(50) NOT NULL UNIQUE\r\n\r\nAlternatively, a custom insert on the repository may work (would also require an index on the name for efficiency):\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User,Long&gt; {\r\n        @Modifying\r\n        @Query(&quot;insert into User (name,role) values(:name,:role) where (select count(*) from User where name == :name) == 0&quot;)\r\n        public int conditionallySaveUser(@Param(&quot;name&quot;) String name, @Param(&quot;role&quot;) String role);\r\n    }\r\n\r\nNOTE: only two fields are used for simplicity while the syntax may need adjusting or a native SQL query may have to be created (native=true)\r\n\r\n","title":"Automatically register users in resource server","body":"<p>Providing a custom INSERT statement for the User entity may work:</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\n@SQLInsert(sql = &quot;INSERT IGNORE INTO users(name, role) VALUES (?, ?)&quot;\npublic class User {\n</code></pre>\n<p>Then you would not need to perform a read in Java. You would need a unique constraint on the user name:</p>\n<pre><code>name VARCHAR(50) NOT NULL UNIQUE\n</code></pre>\n<p>Alternatively, a custom insert on the repository may work (would also require an index on the name for efficiency):</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User,Long&gt; {\n    @Modifying\n    @Query(&quot;insert into User (name,role) values(:name,:role) where (select count(*) from User where name == :name) == 0&quot;)\n    public int conditionallySaveUser(@Param(&quot;name&quot;) String name, @Param(&quot;role&quot;) String role);\n}\n</code></pre>\n<p>NOTE: only two fields are used for simplicity while the syntax may need adjusting or a native SQL query may have to be created (native=true)</p>\n"},{"tags":[],"owner":{"account_id":26149083,"reputation":1,"user_id":19837295,"display_name":"Bj&#246;rn Ebner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661759289,"creation_date":1661341620,"answer_id":73472580,"question_id":71819125,"body_markdown":"I am late to the party but since I searched for a solution for this and found this post I want to provide you my personal solution. This way you can also add your personal Authorities. In your SecurityConfig, create a Bean like so:\r\n\r\n    private final MyGrantedAuthoritiesConverter myGrantedAuthoritiesConverter;\r\n\r\n    @Bean\r\n    public JwtAuthenticationConverter jwtAuthenticationConverter() {\r\n    \tJwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\r\n    \tjwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(myGrantedAuthoritiesConverter);\r\n    \treturn jwtAuthenticationConverter;\r\n    }\r\n\r\nAnd then\r\n\r\n    public class MyGrantedAuthoritiesConverter implements Converter&lt;Jwt, Collection&lt;GrantedAuthority&gt;&gt; {\r\n    \r\n    \tprivate final UserService userService;\r\n    \r\n    \t@Override\r\n    \tpublic Collection&lt;GrantedAuthority&gt; convert(Jwt source) {\r\n    \t\tUserEntity user = findOrCreate(source);\r\n    \t\tCollection&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;();\r\n    \t\tif (user.getSomeAuthority() != null) {\r\n    \t\t\tgrantedAuthorities.add(new SimpleGrantedAuthority(user.getSomeAuthority()));\r\n    \t\t}\r\n    \t\treturn grantedAuthorities;\r\n    \t}\r\n    \r\n    \tprivate UserEntity findOrCreate(Jwt source) {\r\n    \t\tString id = source.getSubject();\r\n    \t\tUserEntity user = userService.findById(id);\r\n    \t\tif (user == null) {\r\n    \t\t\tString name = source.getClaimAsString(&quot;name&quot;);\r\n    \t\t\tuser = userService.create(id, name);\r\n    \t\t}\r\n    \t\treturn user;\r\n    \t}\r\n    \r\n    }\r\n\r\nHope this still helps someone! \r\n\r\nAdditional docs: [https://docs.spring.io/spring-security/site/docs/5.4.4/reference/html5/#oauth2resourceserver-jwt-authorization-extraction][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/5.4.4/reference/html5/#oauth2resourceserver-jwt-authorization-extraction","title":"Automatically register users in resource server","body":"<p>I am late to the party but since I searched for a solution for this and found this post I want to provide you my personal solution. This way you can also add your personal Authorities. In your SecurityConfig, create a Bean like so:</p>\n<pre><code>private final MyGrantedAuthoritiesConverter myGrantedAuthoritiesConverter;\n\n@Bean\npublic JwtAuthenticationConverter jwtAuthenticationConverter() {\n    JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\n    jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(myGrantedAuthoritiesConverter);\n    return jwtAuthenticationConverter;\n}\n</code></pre>\n<p>And then</p>\n<pre><code>public class MyGrantedAuthoritiesConverter implements Converter&lt;Jwt, Collection&lt;GrantedAuthority&gt;&gt; {\n\n    private final UserService userService;\n\n    @Override\n    public Collection&lt;GrantedAuthority&gt; convert(Jwt source) {\n        UserEntity user = findOrCreate(source);\n        Collection&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;();\n        if (user.getSomeAuthority() != null) {\n            grantedAuthorities.add(new SimpleGrantedAuthority(user.getSomeAuthority()));\n        }\n        return grantedAuthorities;\n    }\n\n    private UserEntity findOrCreate(Jwt source) {\n        String id = source.getSubject();\n        UserEntity user = userService.findById(id);\n        if (user == null) {\n            String name = source.getClaimAsString(&quot;name&quot;);\n            user = userService.create(id, name);\n        }\n        return user;\n    }\n\n}\n</code></pre>\n<p>Hope this still helps someone!</p>\n<p>Additional docs: <a href=\"https://docs.spring.io/spring-security/site/docs/5.4.4/reference/html5/#oauth2resourceserver-jwt-authorization-extraction\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/5.4.4/reference/html5/#oauth2resourceserver-jwt-authorization-extraction</a></p>\n"}],"owner":{"account_id":17151936,"reputation":111,"user_id":13802851,"display_name":"Aleksandar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":753,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"answer_count":2,"score":5,"last_activity_date":1661759289,"creation_date":1649612689,"question_id":71819125,"body_markdown":"I&#39;m trying to configure spring security with oauth2, however I am new to this topic and ran into a problem.\r\n\r\nI have a spring backend and an angular frontend. I use Azure AD (Authorization code flow with PKCE) for my user authentication (OIDC) and authorization. In my application I have a user table in the database and I want to **save any user that is not present in the database**.\r\n\r\nBasically, what this means is that I want all the users who are using my API to be automatically registered (saved in the DB) if they aren&#39;t already registered, kinda like an auto registration feature.\r\n\r\nWhat I have tried so far is to configure an ApplicationListener based on AuthenticationSuccessEvent, however I&#39;m running into a problem (I&#39;m assuming due to race condition). When I load the Angular application and login to Azure AD, I get redirected to a page that automatically sends a couple of http requests to the backend. When the first one goes through the filter chain and hits the ApplicationListener, it registers the sees that there is no user with the specified username in the DB and goes and registers him, but by the time that happens the other requests have already gone through the if statement and end up registering the user again. So basically the same user gets registered 6 times and that obviously is not the desired behavior. Below is the ApplicationListener and the SecurityConfig. If you need any other information post a comment and I will update the question. \r\n\r\nAlso, if you guys know a better way of &quot;auto registering users&quot; feel free to share that as well!\r\n\r\n```\r\n@Component\r\npublic class MyAuthenticationSuccessListener implements ApplicationListener&lt;AuthenticationSuccessEvent&gt; {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    public MyAuthenticationSuccessListener(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    @Override\r\n    public void onApplicationEvent(AuthenticationSuccessEvent event) {\r\n        Authentication authentication = event.getAuthentication();\r\n\r\n        if (!userRepository.findByUsername(((Jwt) authentication.getPrincipal()).getClaimAsString(&quot;preferred_username&quot;)).isPresent()) {\r\n            User newUser = new User();\r\n            newUser.setUsername(((Jwt) authentication.getPrincipal()).getClaimAsString(&quot;preferred_username&quot;));\r\n            newUser.setName(((Jwt) authentication.getPrincipal()).getClaimAsString(&quot;given_name&quot;));\r\n            newUser.setSurname(((Jwt) authentication.getPrincipal()).getClaimAsString(&quot;family_name&quot;));\r\n            if (((JSONArray) ((Jwt) authentication.getPrincipal()).getClaim(&quot;roles&quot;)).isEmpty()) {\r\n                newUser.setRole(Role.USER);\r\n            } else {\r\n                newUser.setRole(Role.ADMIN);\r\n            }\r\n            userRepository.save(newUser);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors().and()\r\n                .authorizeRequests().anyRequest().authenticated()\r\n                .and()\r\n                .oauth2ResourceServer().jwt();\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        web\r\n                .ignoring()\r\n                .antMatchers(&quot;/h2/**&quot;);\r\n    }\r\n}\r\n```","title":"Automatically register users in resource server","body":"<p>I'm trying to configure spring security with oauth2, however I am new to this topic and ran into a problem.</p>\n<p>I have a spring backend and an angular frontend. I use Azure AD (Authorization code flow with PKCE) for my user authentication (OIDC) and authorization. In my application I have a user table in the database and I want to <strong>save any user that is not present in the database</strong>.</p>\n<p>Basically, what this means is that I want all the users who are using my API to be automatically registered (saved in the DB) if they aren't already registered, kinda like an auto registration feature.</p>\n<p>What I have tried so far is to configure an ApplicationListener based on AuthenticationSuccessEvent, however I'm running into a problem (I'm assuming due to race condition). When I load the Angular application and login to Azure AD, I get redirected to a page that automatically sends a couple of http requests to the backend. When the first one goes through the filter chain and hits the ApplicationListener, it registers the sees that there is no user with the specified username in the DB and goes and registers him, but by the time that happens the other requests have already gone through the if statement and end up registering the user again. So basically the same user gets registered 6 times and that obviously is not the desired behavior. Below is the ApplicationListener and the SecurityConfig. If you need any other information post a comment and I will update the question.</p>\n<p>Also, if you guys know a better way of &quot;auto registering users&quot; feel free to share that as well!</p>\n<pre><code>@Component\npublic class MyAuthenticationSuccessListener implements ApplicationListener&lt;AuthenticationSuccessEvent&gt; {\n\n    private final UserRepository userRepository;\n\n    public MyAuthenticationSuccessListener(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @Override\n    public void onApplicationEvent(AuthenticationSuccessEvent event) {\n        Authentication authentication = event.getAuthentication();\n\n        if (!userRepository.findByUsername(((Jwt) authentication.getPrincipal()).getClaimAsString(&quot;preferred_username&quot;)).isPresent()) {\n            User newUser = new User();\n            newUser.setUsername(((Jwt) authentication.getPrincipal()).getClaimAsString(&quot;preferred_username&quot;));\n            newUser.setName(((Jwt) authentication.getPrincipal()).getClaimAsString(&quot;given_name&quot;));\n            newUser.setSurname(((Jwt) authentication.getPrincipal()).getClaimAsString(&quot;family_name&quot;));\n            if (((JSONArray) ((Jwt) authentication.getPrincipal()).getClaim(&quot;roles&quot;)).isEmpty()) {\n                newUser.setRole(Role.USER);\n            } else {\n                newUser.setRole(Role.ADMIN);\n            }\n            userRepository.save(newUser);\n        }\n    }\n\n}\n</code></pre>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and()\n                .authorizeRequests().anyRequest().authenticated()\n                .and()\n                .oauth2ResourceServer().jwt();\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web\n                .ignoring()\n                .antMatchers(&quot;/h2/**&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-data-redis","lettuce","redis-streams","spring-data-redis-reactive"],"answers":[{"tags":[],"owner":{"account_id":8182134,"reputation":81,"user_id":6158928,"display_name":"sk l"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595814662,"creation_date":1595814662,"answer_id":63107648,"question_id":63107493,"body_markdown":"I think you shoud use **xgroupCreate** method to create the link betweent the consumer and group,otherwise you will get the error.\r\n\r\n    exception in thread &quot;main&quot; java.util.concurrent.ExecutionException: io.lettuce.core.RedisCommandExecutionException: NOGROUP No such key &#39;my-stream1&#39; or consumer group &#39;group1&#39; in XREADGROUP with GROUP option\r\n    \tat java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)\r\n    \tat java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895)\r\n    \tat com.test.TestList.main(TestList.java:57)\r\n    Caused by: io.lettuce.core.RedisCommandExecutionException: NOGROUP No such key &#39;my-stream1&#39; or consumer group &#39;group1&#39; in XREADGROUP with GROUP option\r\n    \tat io.lettuce.core.ExceptionFactory.createExecutionException(ExceptionFactory.java:135)\r\n    \tat io.lettuce.core.ExceptionFactory.createExecutionException(ExceptionFactory.java:108)\r\n    \tat io.lettuce.core.protocol.AsyncCommand.completeResult(AsyncCommand.java:120)\r\n    \tat io.lettuce.core.protocol.AsyncCommand.complete(AsyncCommand.java:111)\r\n    \tat io.lettuce.core.protocol.CommandHandler.complete(CommandHandler.java:654)\r\n    \tat io.lettuce.core.protocol.CommandHandler.decode(CommandHandler.java:614)\r\n    \tat io.lettuce.core.protocol.CommandHandler.channelRead(CommandHandler.java:565)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1422)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:931)\r\n    \tat io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544)\r\n    \tat io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:381)\r\n    \tat io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:211)\r\n    \tat io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:289)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\nthe example code is following:\r\n\r\n    package com.test;\r\n    \r\n    import io.lettuce.core.Consumer;\r\n    import io.lettuce.core.RedisClient;\r\n    import io.lettuce.core.RedisFuture;\r\n    import io.lettuce.core.StreamMessage;\r\n    import io.lettuce.core.XGroupCreateArgs;\r\n    import io.lettuce.core.XReadArgs.StreamOffset;\r\n    import io.lettuce.core.api.StatefulRedisConnection;\r\n    import io.lettuce.core.api.async.RedisAsyncCommands;\r\n    \r\n    import java.util.List;\r\n    public class TestList {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tRedisClient redisClient = RedisClient.create(&quot;redis://localhost:6379/&quot;);\r\n    \t\tStatefulRedisConnection&lt;String, String&gt; connection = redisClient.connect();\r\n    \t\tRedisAsyncCommands commands = connection.async();\r\n    \t\tRedisFuture&lt;String&gt; redisFuture = commands.xadd(&quot;my-stream1&quot;, &quot;test&quot;, &quot;1234&quot;);\r\n    \t\tString redisFutureGet = redisFuture.get();\r\n    \t\tSystem.out.println(redisFutureGet);\r\n    \t\tcommands.xgroupCreate(StreamOffset.latest(&quot;my-stream1&quot;), &quot;group1&quot;, new XGroupCreateArgs()); // add a group pointing to the stream\r\n    \t\tRedisFuture&lt;List&lt;StreamMessage&lt;String, String&gt;&gt;&gt; messages = commands.xreadgroup(Consumer.from(&quot;group1&quot;, &quot;my-stream1&quot;),\r\n    \t\t\t\tStreamOffset.lastConsumed(&quot;my-stream1&quot;));\r\n    \t\tList&lt;StreamMessage&lt;String, String&gt;&gt; res = messages.get();\r\n    \t\tSystem.out.println(res);\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"How to continuosly listen on redis stream using lettuce java library","body":"<p>I think you shoud use <strong>xgroupCreate</strong> method to create the link betweent the consumer and group,otherwise you will get the error.</p>\n<pre><code>exception in thread &quot;main&quot; java.util.concurrent.ExecutionException: io.lettuce.core.RedisCommandExecutionException: NOGROUP No such key 'my-stream1' or consumer group 'group1' in XREADGROUP with GROUP option\n    at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)\n    at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895)\n    at com.test.TestList.main(TestList.java:57)\nCaused by: io.lettuce.core.RedisCommandExecutionException: NOGROUP No such key 'my-stream1' or consumer group 'group1' in XREADGROUP with GROUP option\n    at io.lettuce.core.ExceptionFactory.createExecutionException(ExceptionFactory.java:135)\n    at io.lettuce.core.ExceptionFactory.createExecutionException(ExceptionFactory.java:108)\n    at io.lettuce.core.protocol.AsyncCommand.completeResult(AsyncCommand.java:120)\n    at io.lettuce.core.protocol.AsyncCommand.complete(AsyncCommand.java:111)\n    at io.lettuce.core.protocol.CommandHandler.complete(CommandHandler.java:654)\n    at io.lettuce.core.protocol.CommandHandler.decode(CommandHandler.java:614)\n    at io.lettuce.core.protocol.CommandHandler.channelRead(CommandHandler.java:565)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1422)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:931)\n    at io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544)\n    at io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:381)\n    at io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:211)\n    at io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:289)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1050)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>the example code is following:</p>\n<pre><code>package com.test;\n\nimport io.lettuce.core.Consumer;\nimport io.lettuce.core.RedisClient;\nimport io.lettuce.core.RedisFuture;\nimport io.lettuce.core.StreamMessage;\nimport io.lettuce.core.XGroupCreateArgs;\nimport io.lettuce.core.XReadArgs.StreamOffset;\nimport io.lettuce.core.api.StatefulRedisConnection;\nimport io.lettuce.core.api.async.RedisAsyncCommands;\n\nimport java.util.List;\npublic class TestList {\n    public static void main(String[] args) throws Exception {\n        RedisClient redisClient = RedisClient.create(&quot;redis://localhost:6379/&quot;);\n        StatefulRedisConnection&lt;String, String&gt; connection = redisClient.connect();\n        RedisAsyncCommands commands = connection.async();\n        RedisFuture&lt;String&gt; redisFuture = commands.xadd(&quot;my-stream1&quot;, &quot;test&quot;, &quot;1234&quot;);\n        String redisFutureGet = redisFuture.get();\n        System.out.println(redisFutureGet);\n        commands.xgroupCreate(StreamOffset.latest(&quot;my-stream1&quot;), &quot;group1&quot;, new XGroupCreateArgs()); // add a group pointing to the stream\n        RedisFuture&lt;List&lt;StreamMessage&lt;String, String&gt;&gt;&gt; messages = commands.xreadgroup(Consumer.from(&quot;group1&quot;, &quot;my-stream1&quot;),\n                StreamOffset.lastConsumed(&quot;my-stream1&quot;));\n        List&lt;StreamMessage&lt;String, String&gt;&gt; res = messages.get();\n        System.out.println(res);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19379210,"reputation":1,"user_id":14170863,"display_name":"rdo82"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1598454619,"creation_date":1598452678,"answer_id":63600032,"question_id":63107493,"body_markdown":"You could use the Redis reactive commands to achieve this:\r\n\r\n```\r\nRedisReactiveCommands&lt;String, String&gt; commands = connection.reactive();\r\ncommands.xgroupCreate(StreamOffset.latest(&quot;my-stream&quot;), &quot;G1&quot;, new XGroupCreateArgs());\r\ncommands\r\n    .xreadgroup(Consumer.from(&quot;G1&quot;, &quot;c1&quot;), StreamOffset.lastConsumed(&quot;my-stream&quot;))\r\n    .subscribe(System.out::println, Throwable::printStackTrace);\r\n```\r\n\r\n","title":"How to continuosly listen on redis stream using lettuce java library","body":"<p>You could use the Redis reactive commands to achieve this:</p>\n<pre><code>RedisReactiveCommands&lt;String, String&gt; commands = connection.reactive();\ncommands.xgroupCreate(StreamOffset.latest(&quot;my-stream&quot;), &quot;G1&quot;, new XGroupCreateArgs());\ncommands\n    .xreadgroup(Consumer.from(&quot;G1&quot;, &quot;c1&quot;), StreamOffset.lastConsumed(&quot;my-stream&quot;))\n    .subscribe(System.out::println, Throwable::printStackTrace);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2480858,"reputation":11,"user_id":2160372,"display_name":"user2160372"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612780084,"creation_date":1612780084,"answer_id":66099816,"question_id":63107493,"body_markdown":"I think Lettuce is only response for communicating with Redis，wether in sync，async or stream way。it is a low-level library。 so if you want such high-level function，using spinrg-data something like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    StreamListener&lt;String, MapRecord&lt;String, String, String&gt;&gt; streamListener = new ExampleStreamListener();\r\n\r\n       StreamMessageListenerContainer.StreamMessageListenerContainerOptions&lt;String, MapRecord&lt;String, String, String&gt;&gt; containerOptions = StreamMessageListenerContainer.StreamMessageListenerContainerOptions\r\n                    .builder().pollTimeout(Duration.ofMillis(100)).build();\r\n\r\n    StreamMessageListenerContainer&lt;String, MapRecord&lt;String, String, String&gt;&gt; container = StreamMessageListenerContainer.create(connectionFactory,\r\n                    containerOptions);\r\n    Subscription subscription = container.receive(StreamOffset.fromStart(&quot;key2&quot;), streamListener);\r\n    container.start();\r\n    //----------------------------------------------------------------\r\n\r\n    public class ExampleStreamListener implements StreamListener&lt;String, MapRecord&lt;String, String, String&gt;&gt; {\r\n\r\n        @Override\r\n        public void onMessage(MapRecord&lt;String, String, String&gt; message) {\r\n\r\n            System.out.println(&quot;MessageId: &quot; + message.getId());\r\n            System.out.println(&quot;Stream: &quot; + message.getStream());\r\n            System.out.println(&quot;Body: &quot; + message.getValue());\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to continuosly listen on redis stream using lettuce java library","body":"<p>I think Lettuce is only response for communicating with Redis，wether in sync，async or stream way。it is a low-level library。 so if you want such high-level function，using spinrg-data something like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>StreamListener&lt;String, MapRecord&lt;String, String, String&gt;&gt; streamListener = new ExampleStreamListener();\n\n   StreamMessageListenerContainer.StreamMessageListenerContainerOptions&lt;String, MapRecord&lt;String, String, String&gt;&gt; containerOptions = StreamMessageListenerContainer.StreamMessageListenerContainerOptions\n                .builder().pollTimeout(Duration.ofMillis(100)).build();\n\nStreamMessageListenerContainer&lt;String, MapRecord&lt;String, String, String&gt;&gt; container = StreamMessageListenerContainer.create(connectionFactory,\n                containerOptions);\nSubscription subscription = container.receive(StreamOffset.fromStart(\"key2\"), streamListener);\ncontainer.start();\n//----------------------------------------------------------------\n\npublic class ExampleStreamListener implements StreamListener&lt;String, MapRecord&lt;String, String, String&gt;&gt; {\n\n    @Override\n    public void onMessage(MapRecord&lt;String, String, String&gt; message) {\n\n        System.out.println(\"MessageId: \" + message.getId());\n        System.out.println(\"Stream: \" + message.getStream());\n        System.out.println(\"Body: \" + message.getValue());\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":5384281,"reputation":247,"user_id":4288707,"accept_rate":40,"display_name":"Lakmal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661758855,"creation_date":1661758855,"answer_id":73525547,"question_id":63107493,"body_markdown":"I know this question is a bit old but the answer could be helpful for someone else. You could repeatedly subscribe to the same ```Flux``` like below and it worked for me with ```xread```. I think the same should work for ```xreadgroup``` as well.\r\n```java\r\nRedisPubSubReactiveCommands&lt;String, String&gt; commands = connection.reactive();\r\ncommands.xread(new XReadArgs().block(Duration.ofSeconds(20)), XReadArgs.StreamOffset.from(&quot;some-stream&quot;, &quot;$&quot;))\r\n                .doOnNext(msg -&gt; {\r\n                    sink.tryEmitNext(msg.getBody().get(&quot;key&quot;));\r\n                })\r\n                .repeat()\r\n                .subscribe();\r\n```","title":"How to continuosly listen on redis stream using lettuce java library","body":"<p>I know this question is a bit old but the answer could be helpful for someone else. You could repeatedly subscribe to the same <code>Flux</code> like below and it worked for me with <code>xread</code>. I think the same should work for <code>xreadgroup</code> as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>RedisPubSubReactiveCommands&lt;String, String&gt; commands = connection.reactive();\ncommands.xread(new XReadArgs().block(Duration.ofSeconds(20)), XReadArgs.StreamOffset.from(&quot;some-stream&quot;, &quot;$&quot;))\n                .doOnNext(msg -&gt; {\n                    sink.tryEmitNext(msg.getBody().get(&quot;key&quot;));\n                })\n                .repeat()\n                .subscribe();\n</code></pre>\n"}],"owner":{"account_id":441455,"reputation":1362,"user_id":831553,"accept_rate":67,"display_name":"falcon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2906,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1661758855,"creation_date":1595813204,"question_id":63107493,"body_markdown":"I am trying to listen on a redis stream and process the message as and when they arrive. I am using async command and I expect the message to be pushed instead of being pulled. So I don&#39;t think a while loop is required. But the following code seems to not work.\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        RedisClient redisClient = RedisClient\r\n            .create(&quot;redis://localhost:6379/&quot;);\r\n        StatefulRedisConnection&lt;String, String&gt; connection\r\n            = redisClient.connect();\r\n        RedisAsyncCommands commands = connection.async();\r\n        commands.xgroupCreate(StreamOffset.latest(&quot;my-stream&quot;), &quot;G1&quot;, new XGroupCreateArgs());\r\n        commands\r\n            .xreadgroup(Consumer.from(&quot;G1&quot;, &quot;c1&quot;), StreamOffset.lastConsumed(&quot;my-stream&quot;))\r\n            .thenAccept(System.out::println);\r\n\r\n        Thread.currentThread().join();\r\n    }\r\n\r\nIt just prints whatever the stream has when the program starts and does not print the messages that are added when the program is running. Isn&#39;t the callback supposed to be called for every message that is newly added into the stream?","title":"How to continuosly listen on redis stream using lettuce java library","body":"<p>I am trying to listen on a redis stream and process the message as and when they arrive. I am using async command and I expect the message to be pushed instead of being pulled. So I don't think a while loop is required. But the following code seems to not work.</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n\n    RedisClient redisClient = RedisClient\n        .create(&quot;redis://localhost:6379/&quot;);\n    StatefulRedisConnection&lt;String, String&gt; connection\n        = redisClient.connect();\n    RedisAsyncCommands commands = connection.async();\n    commands.xgroupCreate(StreamOffset.latest(&quot;my-stream&quot;), &quot;G1&quot;, new XGroupCreateArgs());\n    commands\n        .xreadgroup(Consumer.from(&quot;G1&quot;, &quot;c1&quot;), StreamOffset.lastConsumed(&quot;my-stream&quot;))\n        .thenAccept(System.out::println);\n\n    Thread.currentThread().join();\n}\n</code></pre>\n<p>It just prints whatever the stream has when the program starts and does not print the messages that are added when the program is running. Isn't the callback supposed to be called for every message that is newly added into the stream?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661758832,"creation_date":1661758832,"answer_id":73525543,"question_id":73490480,"body_markdown":"Use the following mapping and just merge/save the `A` entity, and Hibernate will take care of removing/persisting/updating.\r\n\r\n```java\r\npublic class A {\r\n    @javax.persistence.Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    \r\n    private String name;\r\n    \r\n    @OneToMany(orphanRemoval = true, cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;a_id&quot;, nullable = false)\r\n    private List&lt;B&gt; b;\r\n}\r\n\r\npublic class B {\r\n    @javax.persistence.Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    \r\n    private String name;\r\n}\r\n```\r\n\r\nIf you want to keep the `a` association in `B`, then you will have to do the persist/update/remove manually, by calling `EntityManager.persist`/`EntityManager.merge`/`EntityManager.remove` respectively for the various `B` entities.","title":"update data in database with specific condition in spring boot","body":"<p>Use the following mapping and just merge/save the <code>A</code> entity, and Hibernate will take care of removing/persisting/updating.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {\n    @javax.persistence.Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    private String name;\n    \n    @OneToMany(orphanRemoval = true, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;a_id&quot;, nullable = false)\n    private List&lt;B&gt; b;\n}\n\npublic class B {\n    @javax.persistence.Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    private String name;\n}\n</code></pre>\n<p>If you want to keep the <code>a</code> association in <code>B</code>, then you will have to do the persist/update/remove manually, by calling <code>EntityManager.persist</code>/<code>EntityManager.merge</code>/<code>EntityManager.remove</code> respectively for the various <code>B</code> entities.</p>\n"}],"owner":{"account_id":26147430,"reputation":13,"user_id":19835874,"display_name":"simon nesk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73525543,"answer_count":1,"score":1,"last_activity_date":1661758832,"creation_date":1661442747,"question_id":73490480,"body_markdown":"I am trying to update list of data that is foreignkey in another table.\r\n\r\nScenario:\r\n\r\nI have class A:\r\n\r\n    public class A{\r\n    \t@javax.persistence.Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n    \t\r\n    \tprivate String name;\r\n    \t\r\n    \t\r\n    \t@OneToMany(mappedBy = &quot;A&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    \tprivate List&lt;B&gt; b;\r\n    }\r\n\r\ni have also another class B:\r\n\r\n    public class B  {\r\n    \t@javax.persistence.Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n    \t\r\n    \tprivate String name;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.EAGER, optional = false)\r\n    \t@JoinColumn(name = &quot;a_id&quot;, nullable = false)\r\n    \tprivate A a;\r\n    }\r\n\r\nMy goal is: to update list of b in perfect way.\r\n\r\nExample: \r\n\r\ni have this id list for table B :\r\n\r\n| id| name| a_id|\r\n|:---- |:------:| -----:|\r\n| 1  | n1| 1|\r\n| 2  | n2| 1|\r\n| 3  | n3| 1|\r\n| 4  | n4| 2|\r\n| 5  | n5| 1|\r\n| 6  | n6| 3|\r\n\r\nI have this list to update :\r\n\r\n    [n3,n9,n2,n7,n8]\r\n\r\nthis list must be updated for a_id = 1 so in this case i have 2 things to do:\r\n\r\n    first : adding n7, n8, n9 (with a_id = 1)\r\n    second: remove n1, n5 (because they are not included in the list above)\r\n\r\n\r\nMy expected output :\r\n\r\n| id| name| a_id|\r\n|:---- |:------:| -----:|\r\n| 2  | n2| 1|\r\n| 3  | n3| 1|\r\n| 4  | n4| 2|\r\n| 6  | n6| 3|\r\n| 7  | n7| 1|\r\n| 8  | n8| 1|\r\n| 9  | n9| 1|\r\n\r\nHow can we achieve this result in the best way?\r\n\r\n","title":"update data in database with specific condition in spring boot","body":"<p>I am trying to update list of data that is foreignkey in another table.</p>\n<p>Scenario:</p>\n<p>I have class A:</p>\n<pre><code>public class A{\n    @javax.persistence.Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    private String name;\n    \n    \n    @OneToMany(mappedBy = &quot;A&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    private List&lt;B&gt; b;\n}\n</code></pre>\n<p>i have also another class B:</p>\n<pre><code>public class B  {\n    @javax.persistence.Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    private String name;\n    \n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\n    @JoinColumn(name = &quot;a_id&quot;, nullable = false)\n    private A a;\n}\n</code></pre>\n<p>My goal is: to update list of b in perfect way.</p>\n<p>Example:</p>\n<p>i have this id list for table B :</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">id</th>\n<th style=\"text-align: center;\">name</th>\n<th style=\"text-align: right;\">a_id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: center;\">n1</td>\n<td style=\"text-align: right;\">1</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">2</td>\n<td style=\"text-align: center;\">n2</td>\n<td style=\"text-align: right;\">1</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: center;\">n3</td>\n<td style=\"text-align: right;\">1</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">4</td>\n<td style=\"text-align: center;\">n4</td>\n<td style=\"text-align: right;\">2</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">5</td>\n<td style=\"text-align: center;\">n5</td>\n<td style=\"text-align: right;\">1</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">6</td>\n<td style=\"text-align: center;\">n6</td>\n<td style=\"text-align: right;\">3</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I have this list to update :</p>\n<pre><code>[n3,n9,n2,n7,n8]\n</code></pre>\n<p>this list must be updated for a_id = 1 so in this case i have 2 things to do:</p>\n<pre><code>first : adding n7, n8, n9 (with a_id = 1)\nsecond: remove n1, n5 (because they are not included in the list above)\n</code></pre>\n<p>My expected output :</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">id</th>\n<th style=\"text-align: center;\">name</th>\n<th style=\"text-align: right;\">a_id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">2</td>\n<td style=\"text-align: center;\">n2</td>\n<td style=\"text-align: right;\">1</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: center;\">n3</td>\n<td style=\"text-align: right;\">1</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">4</td>\n<td style=\"text-align: center;\">n4</td>\n<td style=\"text-align: right;\">2</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">6</td>\n<td style=\"text-align: center;\">n6</td>\n<td style=\"text-align: right;\">3</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">7</td>\n<td style=\"text-align: center;\">n7</td>\n<td style=\"text-align: right;\">1</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">8</td>\n<td style=\"text-align: center;\">n8</td>\n<td style=\"text-align: right;\">1</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">9</td>\n<td style=\"text-align: center;\">n9</td>\n<td style=\"text-align: right;\">1</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>How can we achieve this result in the best way?</p>\n"},{"tags":["java","netty","grpc-java","maven-shade-plugin"],"answers":[{"tags":[],"owner":{"account_id":7761784,"reputation":21,"user_id":5874334,"display_name":"Patrick Klampfl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661758731,"creation_date":1661440897,"answer_id":73490088,"question_id":73227867,"body_markdown":"I did spend hours resolving the same issue, but finally found the root cause.\r\n\r\nWhen running your `mvn package` command, you most likely get a warning similar to the following:\r\n\r\n```\r\n[WARNING] grpc-core-1.48.1.jar, grpc-netty-shaded-1.48.1.jar define 1 overlapping resource: \r\n[WARNING]   - META-INF/services/io.grpc.NameResolverProvider\r\n```\r\n\r\nthose 2 files need to be merged (otherwise maven won&#39;t take any of them).\r\n\r\nthis can be done by adding the following to your `pom.xml` within your maven shade plugin `&lt;configuration&gt;`\r\n\r\n```xml\r\n&lt;transformers&gt;\r\n    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n&lt;/transformers&gt;\r\n```\r\n\r\nthis will merge your duplicate files and also respect potential relocations from the shade plugin.\r\n\r\nalso see\r\n* https://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html#ServicesResourceTransformer\r\n* https://stackoverflow.com/questions/31586697/maven-shade-change-file-name-and-replace-text \r\n","title":"Does grpc-core work when embedded in a shaded jar?","body":"<p>I did spend hours resolving the same issue, but finally found the root cause.</p>\n<p>When running your <code>mvn package</code> command, you most likely get a warning similar to the following:</p>\n<pre><code>[WARNING] grpc-core-1.48.1.jar, grpc-netty-shaded-1.48.1.jar define 1 overlapping resource: \n[WARNING]   - META-INF/services/io.grpc.NameResolverProvider\n</code></pre>\n<p>those 2 files need to be merged (otherwise maven won't take any of them).</p>\n<p>this can be done by adding the following to your <code>pom.xml</code> within your maven shade plugin <code>&lt;configuration&gt;</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;transformers&gt;\n    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n&lt;/transformers&gt;\n</code></pre>\n<p>this will merge your duplicate files and also respect potential relocations from the shade plugin.</p>\n<p>also see</p>\n<ul>\n<li><a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html#ServicesResourceTransformer\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html#ServicesResourceTransformer</a></li>\n<li><a href=\"https://stackoverflow.com/questions/31586697/maven-shade-change-file-name-and-replace-text\">Maven Shade - change file name and replace text</a></li>\n</ul>\n"}],"owner":{"account_id":1746243,"reputation":788,"user_id":1596398,"accept_rate":58,"display_name":"Hmmmmm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1207,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661758731,"creation_date":1659561197,"question_id":73227867,"body_markdown":"**TL;DR**\r\n\r\nThe grpc-core jar file doesn&#39;t work when embedded in a shaded jar but does work when placed on the classpath as a separate jar file. I can&#39;t tell if the issue is with grpc-core or grpc-netty (or grpc-netty-shaded) which seems to depend on grpc-core, but when grpc-core is embedded in my shaded jar, I get a *java.nio.channels.UnsupportedAddressTypeException* exception.\r\n\r\n**Longer Explanation**\r\n\r\nUntil recently my Java web application (that deploys as a .war file) did **not** make use of shaded jar files. That is, in the *WEB-INF* folder contained all the jar files individually laid out. I recently made a change to use a shaded jar and everything works fine except for an integration that makes use of grpc-netty-shaded. I have tried using different versions of the grpc-* libraries and using both the shaded and unshaded version of grpc-netty, but neither of those work when I create a shaded jar. \r\n\r\nHowever, if I produce a shaded jar **and** place the grpc-core library separately (as a sibling to the shaded jar in the *WEB-INF* folder) then everything works. I should also say that it doesn&#39;t matter if I run the application from within Tomcat or deploy it from the command line, the result is the same. I have also tried switching the JRE I am using but that made no difference.\r\n\r\nHere is the exception I get:\r\n```\r\nException in thread &quot;main&quot; io.grpc.StatusRuntimeException: UNKNOWN\r\n\tat io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:271)\r\n\tat io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:252)\r\n\tat io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:165)\r\n\tat com.ibm.crypto.grep11.grpc.CryptoGrpc$CryptoBlockingStub.generateKey(CryptoGrpc.java:2964)\r\n\tat ibm.TestHpcsGrep11.main(TestHpcsGrep11.java:77)\r\nCaused by: java.nio.channels.UnsupportedAddressTypeException\r\n\tat sun.nio.ch.Net.checkAddress(Unknown Source)\r\n\tat sun.nio.ch.SocketChannelImpl.connect(Unknown Source)\r\n\tat io.grpc.netty.shaded.io.netty.util.internal.SocketUtils$3.run(SocketUtils.java:91)\r\n\tat io.grpc.netty.shaded.io.netty.util.internal.SocketUtils$3.run(SocketUtils.java:88)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat io.grpc.netty.shaded.io.netty.util.internal.SocketUtils.connect(SocketUtils.java:88)\r\n\tat io.grpc.netty.shaded.io.netty.channel.socket.nio.NioSocketChannel.doConnect(NioSocketChannel.java:315)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.connect(AbstractNioChannel.java:248)\r\n\tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:533)\r\n\tat io.grpc.netty.shaded.io.netty.channel.ChannelDuplexHandler.connect(ChannelDuplexHandler.java:54)\r\n\tat io.grpc.netty.shaded.io.grpc.netty.WriteBufferingAndExceptionHandler.connect(WriteBufferingAndExceptionHandler.java:157)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.access$1000(AbstractChannelHandlerContext.java:61)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext$9.run(AbstractChannelHandlerContext.java:538)\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:503)\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n\tat io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n```\r\n\r\n[This](https://github.com/IBM/signingserver) is the project I am integrating with. While the project makes use of version 1.44.0 of the grpc libraries, I have tried it with 1.44.0, 1.47.0, and 1.48.1 and always get the same result.\r\n\r\nHere is the Maven plugin configuration I am using to produce the shaded jar:\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.2.4&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;&lt;goal&gt;shade&lt;/goal&gt;&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;filters&gt;\r\n\t\t\t\t\t&lt;filter&gt;\r\n\t\t\t\t\t\t&lt;artifact&gt;*:*&lt;/artifact&gt;\r\n\t\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t\t&lt;/filter&gt;\r\n\t\t\t\t&lt;/filters&gt;\r\n\t\t\t\t&lt;artifactSet&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;junit:junit&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;org.testng:testng&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;javax.servlet:servlet-api&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/artifactSet&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Does grpc-core work when embedded in a shaded jar?","body":"<p><strong>TL;DR</strong></p>\n<p>The grpc-core jar file doesn't work when embedded in a shaded jar but does work when placed on the classpath as a separate jar file. I can't tell if the issue is with grpc-core or grpc-netty (or grpc-netty-shaded) which seems to depend on grpc-core, but when grpc-core is embedded in my shaded jar, I get a <em>java.nio.channels.UnsupportedAddressTypeException</em> exception.</p>\n<p><strong>Longer Explanation</strong></p>\n<p>Until recently my Java web application (that deploys as a .war file) did <strong>not</strong> make use of shaded jar files. That is, in the <em>WEB-INF</em> folder contained all the jar files individually laid out. I recently made a change to use a shaded jar and everything works fine except for an integration that makes use of grpc-netty-shaded. I have tried using different versions of the grpc-* libraries and using both the shaded and unshaded version of grpc-netty, but neither of those work when I create a shaded jar.</p>\n<p>However, if I produce a shaded jar <strong>and</strong> place the grpc-core library separately (as a sibling to the shaded jar in the <em>WEB-INF</em> folder) then everything works. I should also say that it doesn't matter if I run the application from within Tomcat or deploy it from the command line, the result is the same. I have also tried switching the JRE I am using but that made no difference.</p>\n<p>Here is the exception I get:</p>\n<pre><code>Exception in thread &quot;main&quot; io.grpc.StatusRuntimeException: UNKNOWN\n    at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:271)\n    at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:252)\n    at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:165)\n    at com.ibm.crypto.grep11.grpc.CryptoGrpc$CryptoBlockingStub.generateKey(CryptoGrpc.java:2964)\n    at ibm.TestHpcsGrep11.main(TestHpcsGrep11.java:77)\nCaused by: java.nio.channels.UnsupportedAddressTypeException\n    at sun.nio.ch.Net.checkAddress(Unknown Source)\n    at sun.nio.ch.SocketChannelImpl.connect(Unknown Source)\n    at io.grpc.netty.shaded.io.netty.util.internal.SocketUtils$3.run(SocketUtils.java:91)\n    at io.grpc.netty.shaded.io.netty.util.internal.SocketUtils$3.run(SocketUtils.java:88)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at io.grpc.netty.shaded.io.netty.util.internal.SocketUtils.connect(SocketUtils.java:88)\n    at io.grpc.netty.shaded.io.netty.channel.socket.nio.NioSocketChannel.doConnect(NioSocketChannel.java:315)\n    at io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.connect(AbstractNioChannel.java:248)\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:533)\n    at io.grpc.netty.shaded.io.netty.channel.ChannelDuplexHandler.connect(ChannelDuplexHandler.java:54)\n    at io.grpc.netty.shaded.io.grpc.netty.WriteBufferingAndExceptionHandler.connect(WriteBufferingAndExceptionHandler.java:157)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.access$1000(AbstractChannelHandlerContext.java:61)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext$9.run(AbstractChannelHandlerContext.java:538)\n    at io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n    at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:503)\n    at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n    at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p><a href=\"https://github.com/IBM/signingserver\" rel=\"nofollow noreferrer\">This</a> is the project I am integrating with. While the project makes use of version 1.44.0 of the grpc libraries, I have tried it with 1.44.0, 1.47.0, and 1.48.1 and always get the same result.</p>\n<p>Here is the Maven plugin configuration I am using to produce the shaded jar:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.4&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;&lt;goal&gt;shade&lt;/goal&gt;&lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;filters&gt;\n                    &lt;filter&gt;\n                        &lt;artifact&gt;*:*&lt;/artifact&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                            &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                            &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/filter&gt;\n                &lt;/filters&gt;\n                &lt;artifactSet&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;junit:junit&lt;/exclude&gt;\n                        &lt;exclude&gt;org.testng:testng&lt;/exclude&gt;\n                        &lt;exclude&gt;javax.servlet:servlet-api&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/artifactSet&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","stream","distinct"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1661755278,"post_id":73524792,"comment_id":129838133,"body_markdown":"What is the exact distinction, level.id?","body":"What is the exact distinction, level.id?"},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1661755389,"post_id":73524792,"comment_id":129838161,"body_markdown":"@Chaosfire just a long value to from primary column of an sql database.","body":"@Chaosfire just a long value to from primary column of an sql database."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1661755782,"post_id":73524792,"comment_id":129838282,"body_markdown":"Perhaps i did not phrase the question well, how do you consider 2 `BeanLevel`s to be equal? Their ids are the same?","body":"Perhaps i did not phrase the question well, how do you consider 2 <code>BeanLevel</code>s to be equal? Their ids are the same?"},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1661756827,"post_id":73524792,"comment_id":129838562,"body_markdown":"@Chaosfire the link you have sent definitely explains it","body":"@Chaosfire the link you have sent definitely explains it"}],"answers":[{"tags":[],"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661758521,"creation_date":1661755215,"answer_id":73524967,"question_id":73524792,"body_markdown":"Solution 1\r\n\r\nOnce you tie your equals functions in your Objects/Beans, you can use distinct function in streams.\r\n\r\n\r\n```\r\npublic class BeanLevel {\r\n\r\n    public long id;\r\n\t\r\n    @Override\r\n    public int hashCode() {\r\n        int hash = 7;\r\n        hash = 43 * hash + (int) (this.id ^ (this.id &gt;&gt;&gt; 32));\r\n        return hash;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (this == obj) {\r\n            return true;\r\n        }\r\n        if (obj == null) {\r\n            return false;\r\n        }\r\n        if (getClass() != obj.getClass()) {\r\n            return false;\r\n        }\r\n        BeanLevel other = (BeanLevel) obj;\r\n        return Objects.equals(id, other.id);\r\n    }\r\n}\r\n\r\npublic static List&lt;BeanLevel&gt; sniff(List&lt;BeanTask&gt; tasks) {\r\n    return tasks.stream().map(task-&gt; task.level).distinct().toList();\r\n}\r\n```\r\n\r\n\r\nSolution 2 \r\n\r\nas [in here][1] shown, without overriding anything in Bean/Object, you can distict objects.\r\n\r\n```\r\npublic static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(Function&lt;? super T, ?&gt; keyExtractor) {\r\n    Set&lt;Object&gt; seen = ConcurrentHashMap.newKeySet();\r\n    return t -&gt; seen.add(keyExtractor.apply(t));\r\n}\r\n\r\npublic static List&lt;BeanLevel&gt; sniff(List&lt;BeanTask&gt; tasks) {\r\n   return tasks.stream().map(task-&gt; task.level).filter(distinctByKey(BeanLevel::getId)).toList();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23699371/java-8-distinct-by-property","title":"Java Streams fetching distinct items in one line","body":"<p>Solution 1</p>\n<p>Once you tie your equals functions in your Objects/Beans, you can use distinct function in streams.</p>\n<pre><code>public class BeanLevel {\n\n    public long id;\n    \n    @Override\n    public int hashCode() {\n        int hash = 7;\n        hash = 43 * hash + (int) (this.id ^ (this.id &gt;&gt;&gt; 32));\n        return hash;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj) {\n            return true;\n        }\n        if (obj == null) {\n            return false;\n        }\n        if (getClass() != obj.getClass()) {\n            return false;\n        }\n        BeanLevel other = (BeanLevel) obj;\n        return Objects.equals(id, other.id);\n    }\n}\n\npublic static List&lt;BeanLevel&gt; sniff(List&lt;BeanTask&gt; tasks) {\n    return tasks.stream().map(task-&gt; task.level).distinct().toList();\n}\n</code></pre>\n<p>Solution 2</p>\n<p>as <a href=\"https://stackoverflow.com/questions/23699371/java-8-distinct-by-property\">in here</a> shown, without overriding anything in Bean/Object, you can distict objects.</p>\n<pre><code>public static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(Function&lt;? super T, ?&gt; keyExtractor) {\n    Set&lt;Object&gt; seen = ConcurrentHashMap.newKeySet();\n    return t -&gt; seen.add(keyExtractor.apply(t));\n}\n\npublic static List&lt;BeanLevel&gt; sniff(List&lt;BeanTask&gt; tasks) {\n   return tasks.stream().map(task-&gt; task.level).filter(distinctByKey(BeanLevel::getId)).toList();\n}\n</code></pre>\n"}],"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1661757951,"answer_count":1,"score":-1,"last_activity_date":1661758521,"creation_date":1661753951,"question_id":73524792,"body_markdown":"When using streams, is there any smarter way to create a distinct list without using *new ArrayList()* and *return lst* lines?\r\n\r\n``` \r\npublic static List&lt;BeanLevel&gt; sniff(List&lt;BeanTask&gt; tasks) {\r\n    List&lt;BeanLevel&gt; lst = new ArrayList();\r\n    tasks.stream().map(task-&gt; task.level).forEach(level-&gt; {\r\n        if (lst.stream().filter(distinctLevel-&gt; level.id == distinctLevel.id).findAny().isPresent()) {\r\n            return;\r\n        }\r\n        lst.add(level);\r\n    });\r\n    return lst;\r\n}\r\n``` ","title":"Java Streams fetching distinct items in one line","body":"<p>When using streams, is there any smarter way to create a distinct list without using <em>new ArrayList()</em> and <em>return lst</em> lines?</p>\n<pre><code>public static List&lt;BeanLevel&gt; sniff(List&lt;BeanTask&gt; tasks) {\n    List&lt;BeanLevel&gt; lst = new ArrayList();\n    tasks.stream().map(task-&gt; task.level).forEach(level-&gt; {\n        if (lst.stream().filter(distinctLevel-&gt; level.id == distinctLevel.id).findAny().isPresent()) {\n            return;\n        }\n        lst.add(level);\n    });\n    return lst;\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"score":0,"creation_date":1655380617,"post_id":72645213,"comment_id":128321721,"body_markdown":"Might be a silly question, but did you try building the project? Sometimes IDEs don&#39;t pick up on all the class libraries until a full build is completed.","body":"Might be a silly question, but did you try building the project? Sometimes IDEs don&#39;t pick up on all the class libraries until a full build is completed."},{"owner":{"account_id":25046594,"reputation":31,"user_id":18902960,"display_name":"gadaubac1984"},"score":0,"creation_date":1655381702,"post_id":72645213,"comment_id":128322070,"body_markdown":"@GregBurghardt yes I thought that I built the project because I set it build automatically.","body":"@GregBurghardt yes I thought that I built the project because I set it build automatically."},{"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"score":0,"creation_date":1655382891,"post_id":72645213,"comment_id":128322538,"body_markdown":"Please include the full compiler error as plain text. There is more to the message, but it is hidden. Generally screenshots of code or errors get down-voted unless it is supplemented with the code and errors as plain text in the question.","body":"Please include the full compiler error as plain text. There is more to the message, but it is hidden. Generally screenshots of code or errors get down-voted unless it is supplemented with the code and errors as plain text in the question."},{"owner":{"account_id":25046594,"reputation":31,"user_id":18902960,"display_name":"gadaubac1984"},"score":0,"creation_date":1655383385,"post_id":72645213,"comment_id":128322721,"body_markdown":"@GregBurghardt sorry for my mistake, I updated my error by text and you can see it","body":"@GregBurghardt sorry for my mistake, I updated my error by text and you can see it"},{"owner":{"account_id":8578,"reputation":5445,"user_id":15527,"display_name":"Martin Spamer"},"score":0,"creation_date":1655389928,"post_id":72645213,"comment_id":128325218,"body_markdown":"The libraries that make up Selenium WebDriver need to be added to your project. To your IDE&#39;s project and/or your (maven) build project if run stand alone. See the Getting started page. https://www.selenium.dev/documentation/webdriver/getting_started/","body":"The libraries that make up Selenium WebDriver need to be added to your project. To your IDE&#39;s project and/or your (maven) build project if run stand alone. See the Getting started page. <a href=\"https://www.selenium.dev/documentation/webdriver/getting_started/\" rel=\"nofollow noreferrer\">selenium.dev/documentation/webdriver/getting_started</a>"}],"answers":[{"tags":[],"owner":{"account_id":12029266,"reputation":54,"user_id":17612457,"display_name":"javier Pi&#241;a"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655389466,"creation_date":1655386321,"answer_id":72646729,"question_id":72645213,"body_markdown":"I think that I could occur due to you didn&#39;t load maven project and you have the dependencies.\r\nSo you can create a maven project [How do you create maven project][1] and later you must put inside pom.xml those dependencies\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n       &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n       &lt;version&gt;4.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n       &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n       &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n[More information about maven][2]\r\n\r\n\r\n  [1]: https://www.vogella.com/tutorials/EclipseMaven/article.html\r\n  [2]: https://maven.apache.org/","title":"problem when write test code for selenium using java, some methods is undefined?","body":"<p>I think that I could occur due to you didn't load maven project and you have the dependencies.\nSo you can create a maven project <a href=\"https://www.vogella.com/tutorials/EclipseMaven/article.html\" rel=\"nofollow noreferrer\">How do you create maven project</a> and later you must put inside pom.xml those dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n   &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n   &lt;version&gt;4.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n   &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n   &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">More information about maven</a></p>\n"},{"tags":[],"owner":{"display_name":"user18264677"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661758503,"creation_date":1655901086,"answer_id":72715558,"question_id":72645213,"body_markdown":"In above error lies here in these 2 lines.\r\n```\r\nSystem.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:\\\\geckodriver.exe&quot;);\r\nChromeDriver driver = new ChromeDriver();\r\n```\r\nYou are setting the property of geckodriver[i.e. Firefox Driver], and below you are calling ChromeDriver Class.\r\n\r\nYou can do this by putting the below code in replace of that.\r\n```\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, # path of chromedriver #);\r\nWebDriver driver = new ChromeDriver();\r\n```\r\n\r\nSo the explanation goes this way.\r\nHere you&#39;re setting the property of chromedriver in 1st statement.\r\nAnd in the last statement, you have to use the WebDriver driver instead of the ChromeDriver driver.\r\n\r\nThe line says that it is creating a ChromeDriver instance and storing it in a variable called driver which is of type &quot;WebDriver&quot; interface.\r\nNow all your methods as per above example **get()**, **getTitle()**, **close()** **are implemented in WebDriver**. Therefore, you cannot use methods of WebDriver Interface while creating an object of ChromeDriver class. By doing this we can achieve runtime polymorphism by running the same script on a different browser.\r\n","title":"problem when write test code for selenium using java, some methods is undefined?","body":"<p>In above error lies here in these 2 lines.</p>\n<pre><code>System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:\\\\geckodriver.exe&quot;);\nChromeDriver driver = new ChromeDriver();\n</code></pre>\n<p>You are setting the property of geckodriver[i.e. Firefox Driver], and below you are calling ChromeDriver Class.</p>\n<p>You can do this by putting the below code in replace of that.</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, # path of chromedriver #);\nWebDriver driver = new ChromeDriver();\n</code></pre>\n<p>So the explanation goes this way.\nHere you're setting the property of chromedriver in 1st statement.\nAnd in the last statement, you have to use the WebDriver driver instead of the ChromeDriver driver.</p>\n<p>The line says that it is creating a ChromeDriver instance and storing it in a variable called driver which is of type &quot;WebDriver&quot; interface.\nNow all your methods as per above example <strong>get()</strong>, <strong>getTitle()</strong>, <strong>close()</strong> <strong>are implemented in WebDriver</strong>. Therefore, you cannot use methods of WebDriver Interface while creating an object of ChromeDriver class. By doing this we can achieve runtime polymorphism by running the same script on a different browser.</p>\n"}],"owner":{"account_id":25046594,"reputation":31,"user_id":18902960,"display_name":"gadaubac1984"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1661758503,"creation_date":1655379472,"question_id":72645213,"body_markdown":"I am newbie with Java and Selenium and here is my problem.\r\n\r\nI wrote a very simple test code by java and I added selenium webdriver java 3.141 as the tutorial and have no problem.\r\n\r\nMy problem is, my code has some bugs as you can see in this picture&#39;\r\n\r\nHere is my code\r\n\r\n    package seleniumFirstProject;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    //comment the above line and uncomment below line to use Chrome\r\n    //import org.openqa.selenium.chrome.ChromeDriver;\r\n    public class SeleniumFirstTest {\r\n    public static void main(String[] args) {\r\n        // declaration and instantiation of objects/variables\r\n    \tSystem.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:\\\\geckodriver.exe&quot;);\r\n\t\tChromeDriver driver = new ChromeDriver();\r\n\t\t//comment the above 2 lines and uncomment below 2 lines to use Chrome\r\n\t\t//System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;G:\\\\chromedriver.exe&quot;);\r\n\t\t//WebDriver driver = new ChromeDriver();\r\n    \t\r\n        String baseUrl = &quot;http://demo.guru99.com/test/newtours/&quot;;\r\n        String expectedTitle = &quot;Welcome: Mercury Tours&quot;;\r\n        String actualTitle = &quot;&quot;;\r\n\r\n        // launch Chrome and direct it to the Base URL\r\n        driver.get(baseUrl);\r\n\r\n        // get the actual value of the title\r\n        actualTitle = driver.getTitle();\r\n\r\n        /*\r\n         * compare the actual title of the page with the expected one and print\r\n         * the result as &quot;Passed&quot; or &quot;Failed&quot;\r\n         */\r\n        if (actualTitle.contentEquals(expectedTitle)){\r\n            System.out.println(&quot;Test Passed!&quot;);\r\n        } else {\r\n            System.out.println(&quot;Test Failed&quot;);\r\n        }\r\n        //close Chrome\r\n        driver.close();\r\n       }\r\n    }\r\n\r\nHere is the picture\r\n\r\n[picture about my problem][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/12tpy.jpg\r\n\r\nHere is my error :\r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n\tThe method get(String) is undefined for the type ChromeDriver\r\n\tThe method getTitle() is undefined for the type ChromeDriver\r\n\tThe method close() is undefined for the type ChromeDriver\r\n\r\n\tat seleniumFirstProject/seleniumFirstProject.SeleniumFirstTest.main(SeleniumFirstTest.java:22)\r\n\r\nAs you can see at the bottom of the picture, there are 3 messages about my errors.\r\nAll of them are the method xxx is undefined ...\r\n\r\nSo how can I fix them ?\r\n\r\nSorry because I am newbie with java and selenium. Thank you for your help.\r\n ","title":"problem when write test code for selenium using java, some methods is undefined?","body":"<p>I am newbie with Java and Selenium and here is my problem.</p>\n<p>I wrote a very simple test code by java and I added selenium webdriver java 3.141 as the tutorial and have no problem.</p>\n<p>My problem is, my code has some bugs as you can see in this picture'</p>\n<p>Here is my code</p>\n<pre><code>package seleniumFirstProject;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n//comment the above line and uncomment below line to use Chrome\n//import org.openqa.selenium.chrome.ChromeDriver;\npublic class SeleniumFirstTest {\npublic static void main(String[] args) {\n    // declaration and instantiation of objects/variables\n    System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:\\\\geckodriver.exe&quot;);\n    ChromeDriver driver = new ChromeDriver();\n    //comment the above 2 lines and uncomment below 2 lines to use Chrome\n    //System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;G:\\\\chromedriver.exe&quot;);\n    //WebDriver driver = new ChromeDriver();\n    \n    String baseUrl = &quot;http://demo.guru99.com/test/newtours/&quot;;\n    String expectedTitle = &quot;Welcome: Mercury Tours&quot;;\n    String actualTitle = &quot;&quot;;\n\n    // launch Chrome and direct it to the Base URL\n    driver.get(baseUrl);\n\n    // get the actual value of the title\n    actualTitle = driver.getTitle();\n\n    /*\n     * compare the actual title of the page with the expected one and print\n     * the result as &quot;Passed&quot; or &quot;Failed&quot;\n     */\n    if (actualTitle.contentEquals(expectedTitle)){\n        System.out.println(&quot;Test Passed!&quot;);\n    } else {\n        System.out.println(&quot;Test Failed&quot;);\n    }\n    //close Chrome\n    driver.close();\n   }\n}\n</code></pre>\n<p>Here is the picture</p>\n<p><a href=\"https://i.stack.imgur.com/12tpy.jpg\" rel=\"nofollow noreferrer\">picture about my problem</a></p>\n<p>Here is my error :</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \nThe method get(String) is undefined for the type ChromeDriver\nThe method getTitle() is undefined for the type ChromeDriver\nThe method close() is undefined for the type ChromeDriver\n\nat seleniumFirstProject/seleniumFirstProject.SeleniumFirstTest.main(SeleniumFirstTest.java:22)\n</code></pre>\n<p>As you can see at the bottom of the picture, there are 3 messages about my errors.\nAll of them are the method xxx is undefined ...</p>\n<p>So how can I fix them ?</p>\n<p>Sorry because I am newbie with java and selenium. Thank you for your help.</p>\n"},{"tags":["java","sql","hibernate","jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1661369234,"post_id":73478610,"comment_id":129758945,"body_markdown":"I&#39;m not sure Hibernate mapping supports this as, if I remember correctly, this isn&#39;t supported by all databases and hard to emulate otherwise. - This might help or at least provide some more info: https://stackoverflow.com/questions/12025844/how-to-annotate-unique-constraint-with-where-clause-in-jpa","body":"I&#39;m not sure Hibernate mapping supports this as, if I remember correctly, this isn&#39;t supported by all databases and hard to emulate otherwise. - This might help or at least provide some more info: <a href=\"https://stackoverflow.com/questions/12025844/how-to-annotate-unique-constraint-with-where-clause-in-jpa\" title=\"how to annotate unique constraint with where clause in jpa\">stackoverflow.com/questions/12025844/&hellip;</a>"},{"owner":{"account_id":22901505,"reputation":1,"user_id":17040147,"display_name":"Sergey Bogdanov"},"score":0,"creation_date":1661370018,"post_id":73478610,"comment_id":129759167,"body_markdown":"Thank you for sharing the link, I couldn&#39;t find how to do it with Hibernate, I thought maybe I was missing something, but your answer confirms that most of all it will have to be done manually","body":"Thank you for sharing the link, I couldn&#39;t find how to do it with Hibernate, I thought maybe I was missing something, but your answer confirms that most of all it will have to be done manually"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661758041,"creation_date":1661758041,"answer_id":73525422,"question_id":73478610,"body_markdown":"You can&#39;t do that with plain Hibernate annotations. You should use a schema management tool like [Liquibase][1] or [Flyway][2] anyway, as Hibernate is not meant to be used for schema migration or these database specific things.\r\n\r\n\r\n  [1]: https://www.liquibase.org/\r\n  [2]: https://flywaydb.org/","title":"Hibernate Annotation mapping for UNIQUE INDEX (Constraint)","body":"<p>You can't do that with plain Hibernate annotations. You should use a schema management tool like <a href=\"https://www.liquibase.org/\" rel=\"nofollow noreferrer\">Liquibase</a> or <a href=\"https://flywaydb.org/\" rel=\"nofollow noreferrer\">Flyway</a> anyway, as Hibernate is not meant to be used for schema migration or these database specific things.</p>\n"}],"owner":{"account_id":22901505,"reputation":1,"user_id":17040147,"display_name":"Sergey Bogdanov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661758041,"creation_date":1661369031,"question_id":73478610,"body_markdown":"```\r\nCREATE TABLE image_info\r\n(\r\n    id BIGSERIAL PRIMARY KEY,\r\n    is_main boolean,\r\n    image_id BIGINT REFERENCES image(id) NOT NULL,\r\n    good_id BIGINT REFERENCES good(id) NOT NULL\r\n);\r\n```\r\nI need to add a constraint that only unique good_id must have one is_main = true, but many is_main = false\r\nfor example :\r\n\r\n    INSERT INTO image_info (is_main, good_id, image_id) VALUES (true, 2,1);\r\n    INSERT INTO image_info (is_main, good_id, image_id) VALUES (false, 2,2);\r\n    INSERT INTO image_info (is_main, good_id, image_id) VALUES (false, 3,1);\r\n    INSERT INTO image_info (is_main, good_id, image_id) VALUES (true, 3,2);\r\n    INSERT INTO image_info (is_main, good_id, image_id) VALUES (false, 3,3);\r\n    INSERT INTO image_info (is_main, good_id, image_id) VALUES (true, 3,4); // - error because of constraint\r\n\r\n I can add this constraint via SQL script:\r\n```\r\nCREATE UNIQUE INDEX &quot;only_one_good_with_is_main_true_uix&quot; ON image_info(good_id) WHERE is_main = true;\r\n```\r\n**My question is how can I add the same constraint with hibernate mapping?**","title":"Hibernate Annotation mapping for UNIQUE INDEX (Constraint)","body":"<pre><code>CREATE TABLE image_info\n(\n    id BIGSERIAL PRIMARY KEY,\n    is_main boolean,\n    image_id BIGINT REFERENCES image(id) NOT NULL,\n    good_id BIGINT REFERENCES good(id) NOT NULL\n);\n</code></pre>\n<p>I need to add a constraint that only unique good_id must have one is_main = true, but many is_main = false\nfor example :</p>\n<pre><code>INSERT INTO image_info (is_main, good_id, image_id) VALUES (true, 2,1);\nINSERT INTO image_info (is_main, good_id, image_id) VALUES (false, 2,2);\nINSERT INTO image_info (is_main, good_id, image_id) VALUES (false, 3,1);\nINSERT INTO image_info (is_main, good_id, image_id) VALUES (true, 3,2);\nINSERT INTO image_info (is_main, good_id, image_id) VALUES (false, 3,3);\nINSERT INTO image_info (is_main, good_id, image_id) VALUES (true, 3,4); // - error because of constraint\n</code></pre>\n<p>I can add this constraint via SQL script:</p>\n<pre><code>CREATE UNIQUE INDEX &quot;only_one_good_with_is_main_true_uix&quot; ON image_info(good_id) WHERE is_main = true;\n</code></pre>\n<p><strong>My question is how can I add the same constraint with hibernate mapping?</strong></p>\n"},{"tags":["java","linux","maven","jar","export"],"owner":{"account_id":22656364,"reputation":13,"user_id":16830214,"display_name":"Ho&#224;ng Phạm Kim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661758003,"creation_date":1661756937,"question_id":73525227,"body_markdown":"Eclipse has an option is &quot;Copy required libraries into a sub-folder next to the generated JAR&quot;. The result return build_project.xml. Can I do that just by command line in Linux, or in a java file ? The java project that I use is Maven project.\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pDMdp.png","title":"Export required libraries by command line Linux","body":"<p>Eclipse has an option is &quot;Copy required libraries into a sub-folder next to the generated JAR&quot;. The result return build_project.xml. Can I do that just by command line in Linux, or in a java file ? The java project that I use is Maven project.\n<img src=\"https://i.stack.imgur.com/pDMdp.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","redis"],"owner":{"account_id":4094821,"reputation":634,"user_id":3361917,"accept_rate":75,"display_name":"vaibhav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661757377,"creation_date":1661757377,"question_id":73525290,"body_markdown":"I am building a match-making service where matching will be FIFO based. so on every 2nd user, I want both users to get clubbed.\r\nHow can I achieve it using Redis without locks?\r\n\r\nMy TPS is 10k for finding a match\r\n\r\n","title":"bucketing data on redis based on list size","body":"<p>I am building a match-making service where matching will be FIFO based. so on every 2nd user, I want both users to get clubbed.\nHow can I achieve it using Redis without locks?</p>\n<p>My TPS is 10k for finding a match</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":62515,"reputation":45036,"user_id":185722,"accept_rate":100,"display_name":"Alexander Pogrebnyak"},"score":1,"creation_date":1374155630,"post_id":17725196,"comment_id":25836950,"body_markdown":"Take a look at configuration profiles: http://blog.springsource.org/2011/02/14/spring-3-1-m1-introducing-profile/","body":"Take a look at configuration profiles: <a href=\"http://blog.springsource.org/2011/02/14/spring-3-1-m1-introducing-profile/\" rel=\"nofollow noreferrer\">blog.springsource.org/2011/02/14/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":44204,"reputation":9823,"user_id":129599,"accept_rate":100,"display_name":"Ophidian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374155292,"creation_date":1374155292,"answer_id":17725290,"question_id":17725196,"body_markdown":"This may not fit your needs, and I&#39;m assuming that you have control over the class in question (i.e. not vendor code), but have you considered marking the the bean to be lazy loaded?  At least, that way it won&#39;t get instantiated until it actually gets used, which may happen conditionally depending on the rest of your configuration.","title":"Instantiate a spring bean conditionally based on a property placeholder","body":"<p>This may not fit your needs, and I'm assuming that you have control over the class in question (i.e. not vendor code), but have you considered marking the the bean to be lazy loaded?  At least, that way it won't get instantiated until it actually gets used, which may happen conditionally depending on the rest of your configuration.</p>\n"},{"tags":[],"owner":{"account_id":684166,"reputation":2518,"user_id":532383,"display_name":"Ayub Malik"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1374229548,"creation_date":1374159403,"answer_id":17726977,"question_id":17725196,"body_markdown":"I think you should be using Spring **profiles** to configure different behaviours. However if you are using annotations you could create an @Configuration object and and a factory method to create a bean based on the property value\r\n\r\ne.g.\r\n\r\n    @Configuration\r\n    class ExampleConfig {\r\n        private final String prop;\r\n\r\n        public ExampleConfig(@Value(&quot;${your.prop.name}&quot; prop} {\r\n           this.prop = prop;\r\n        }\r\n\r\n        @Bean \r\n        public YourBeanClass create() {\r\n             if (prop.equals(&quot;someValue&quot;) {\r\n                return new YourBeanClass();\r\n             }\r\n             return new OtherClass(); // must be subclass/implementation of YBC\r\n        } \r\n    }","title":"Instantiate a spring bean conditionally based on a property placeholder","body":"<p>I think you should be using Spring <strong>profiles</strong> to configure different behaviours. However if you are using annotations you could create an @Configuration object and and a factory method to create a bean based on the property value</p>\n\n<p>e.g.</p>\n\n<pre><code>@Configuration\nclass ExampleConfig {\n    private final String prop;\n\n    public ExampleConfig(@Value(\"${your.prop.name}\" prop} {\n       this.prop = prop;\n    }\n\n    @Bean \n    public YourBeanClass create() {\n         if (prop.equals(\"someValue\") {\n            return new YourBeanClass();\n         }\n         return new OtherClass(); // must be subclass/implementation of YBC\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6461914,"reputation":301,"user_id":5005391,"display_name":"Ruchi Saini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483299457,"creation_date":1483299457,"answer_id":41418360,"question_id":17725196,"body_markdown":"You can also use @Conditional\r\n\r\nStep 1 : Create a class that implements Condition\r\n\r\n    public class ProdDataSourceCondition implements Condition {\r\n\r\n\t@Override\r\n\tpublic boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n\t\tString dbname = context.getEnvironment().getProperty(&quot;database.name&quot;);\r\n\t\treturn dbname.equalsIgnoreCase(&quot;prod&quot;);\r\n\t}}\r\nStep 2 : Use the above class with @Conditional\r\n\r\n        @Configuration\r\n        public class EmployeeDataSourceConfig {\r\n\t\r\n\r\n\t  ....\r\n\r\n\t    @Bean(name=&quot;dataSource&quot;)\r\n\t    @Conditional(ProdDataSourceCondition.class)\r\n\t    public DataSource getProdDataSource() {\r\n\t\t  return new ProductionDatabaseUtil();\r\n\t    }\r\n        }\r\n\r\nhttp://javapapers.com/spring/spring-conditional-annotation/","title":"Instantiate a spring bean conditionally based on a property placeholder","body":"<p>You can also use @Conditional</p>\n\n<p>Step 1 : Create a class that implements Condition</p>\n\n<pre><code>public class ProdDataSourceCondition implements Condition {\n\n@Override\npublic boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n    String dbname = context.getEnvironment().getProperty(\"database.name\");\n    return dbname.equalsIgnoreCase(\"prod\");\n}}\n</code></pre>\n\n<p>Step 2 : Use the above class with @Conditional</p>\n\n<pre><code>    @Configuration\n    public class EmployeeDataSourceConfig {\n\n\n  ....\n\n    @Bean(name=\"dataSource\")\n    @Conditional(ProdDataSourceCondition.class)\n    public DataSource getProdDataSource() {\n      return new ProductionDatabaseUtil();\n    }\n    }\n</code></pre>\n\n<p><a href=\"http://javapapers.com/spring/spring-conditional-annotation/\" rel=\"nofollow noreferrer\">http://javapapers.com/spring/spring-conditional-annotation/</a></p>\n"},{"tags":[],"owner":{"account_id":1534622,"reputation":1593,"user_id":1430991,"display_name":"gce"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1539259789,"creation_date":1539259789,"answer_id":52759755,"question_id":17725196,"body_markdown":"You can use *ConditionalOnProperty*:\r\n\r\n    @Bean\r\n\t@ConditionalOnProperty(value = &quot;property&quot;, havingValue = &quot;value&quot;, matchIfMissing = true)\r\n\tpublic MyBean myBean() ...\r\n\r\nAlso, check [this][1] answer.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/34351004","title":"Instantiate a spring bean conditionally based on a property placeholder","body":"<p>You can use <em>ConditionalOnProperty</em>:</p>\n\n<pre><code>@Bean\n@ConditionalOnProperty(value = \"property\", havingValue = \"value\", matchIfMissing = true)\npublic MyBean myBean() ...\n</code></pre>\n\n<p>Also, check <a href=\"https://stackoverflow.com/a/34351004\">this</a> answer.</p>\n"},{"tags":[],"owner":{"account_id":6443880,"reputation":438,"user_id":4992961,"display_name":"Hamdhan Azeez T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661756758,"creation_date":1661756758,"answer_id":73525202,"question_id":17725196,"body_markdown":"We can use ConditionalOnProperty . Just define a property deployment.environemnt in application.properties file . And based on this property you can control the creation of objects.\r\n\r\n    @Bean(name = &quot;prodDatasource&quot;)\r\n    @ConditionalOnProperty(prefix = &quot;deployment&quot; name = &quot;environment&quot;havingValue = &quot;production&quot;)\r\n     public DataSource getProdDataSource() {\r\n          return new ProductionDatasource();\r\n      }\r\n    \r\n    \r\n    @Bean(name = &quot;devDatasource&quot;)\r\n    @ConditionalOnProperty(prefix = &quot;deployment&quot; name = &quot;environment&quot;havingValue = &quot;dev&quot;)\r\n     public DataSource getDevDataSource() {\r\n          return new devDatasource();\r\n      }","title":"Instantiate a spring bean conditionally based on a property placeholder","body":"<p>We can use ConditionalOnProperty . Just define a property deployment.environemnt in application.properties file . And based on this property you can control the creation of objects.</p>\n<pre><code>@Bean(name = &quot;prodDatasource&quot;)\n@ConditionalOnProperty(prefix = &quot;deployment&quot; name = &quot;environment&quot;havingValue = &quot;production&quot;)\n public DataSource getProdDataSource() {\n      return new ProductionDatasource();\n  }\n\n\n@Bean(name = &quot;devDatasource&quot;)\n@ConditionalOnProperty(prefix = &quot;deployment&quot; name = &quot;environment&quot;havingValue = &quot;dev&quot;)\n public DataSource getDevDataSource() {\n      return new devDatasource();\n  }\n</code></pre>\n"}],"owner":{"account_id":256707,"reputation":8015,"user_id":537623,"accept_rate":81,"display_name":"kgautron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15299,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1661756758,"creation_date":1374155041,"question_id":17725196,"body_markdown":"Is it possible to configure spring to instantiate a bean or not, depending on a boolean placeholder property? Or at least to exclude a package from annotation scanning based on such a property?","title":"Instantiate a spring bean conditionally based on a property placeholder","body":"<p>Is it possible to configure spring to instantiate a bean or not, depending on a boolean placeholder property? Or at least to exclude a package from annotation scanning based on such a property?</p>\n"},{"tags":["java","pojo","camunda","dmn"],"answers":[{"tags":[],"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661660616,"creation_date":1661660616,"answer_id":73515984,"question_id":73499131,"body_markdown":"A DMN evaluation, in testing done as shown here:\r\nhttps://docs.camunda.org/manual/7.17/user-guide/dmn-engine/testing/\r\nwill return you a [DmnDecisionResult][1].\r\nThis is a Java Object, you can use to access the results.\r\n\r\n\r\n  [1]: https://docs.camunda.org/javadoc/camunda-bpm-platform/7.17/org/camunda/bpm/dmn/engine/DmnDecisionResult.html\r\n\r\nExample:\r\n\r\n    package org.camunda.demo;\r\n    \r\n    import org.camunda.bpm.dmn.engine.DmnDecisionTableResult;\r\n    import org.camunda.bpm.engine.test.Deployment;\r\n    import org.camunda.bpm.engine.test.ProcessEngineRule;\r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n    \r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    import static org.assertj.core.api.Assertions.entry;\r\n    import static org.camunda.bpm.engine.test.assertions.ProcessEngineTests.withVariables;\r\n    import static org.camunda.bpm.engine.test.assertions.bpmn.BpmnAwareTests.decisionService;\r\n    \r\n    public class DMNUnitTest {\r\n    \r\n        @Rule\r\n        public ProcessEngineRule rule = new ProcessEngineRule();\r\n    \r\n        @Test\r\n        @Deployment(resources = {&quot;Buyer.dmn&quot;})\r\n        public void testTweetApprovalAlwaysApprovedContent() {\r\n            DmnDecisionTableResult results = decisionService().evaluateDecisionTableByKey(&quot;Decision_Buyer&quot;, withVariables(\r\n                    &quot;productGroup&quot;, &quot;Food&quot;,\r\n                    &quot;productDepartment&quot;,&quot;Fruit&quot;,\r\n                    &quot;productClass&quot;, &quot;&quot;,\r\n                    &quot;halal&quot;,false));\r\n            assertThat(results).hasSize(1);\r\n            assertThat(results.getSingleResult()).containsOnly(entry(&quot;candidateGroups&quot;, &quot;Fruit&quot;));\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n","title":"Create POJO Class using XML during run time","body":"<p>A DMN evaluation, in testing done as shown here:\n<a href=\"https://docs.camunda.org/manual/7.17/user-guide/dmn-engine/testing/\" rel=\"nofollow noreferrer\">https://docs.camunda.org/manual/7.17/user-guide/dmn-engine/testing/</a>\nwill return you a <a href=\"https://docs.camunda.org/javadoc/camunda-bpm-platform/7.17/org/camunda/bpm/dmn/engine/DmnDecisionResult.html\" rel=\"nofollow noreferrer\">DmnDecisionResult</a>.\nThis is a Java Object, you can use to access the results.</p>\n<p>Example:</p>\n<pre><code>package org.camunda.demo;\n\nimport org.camunda.bpm.dmn.engine.DmnDecisionTableResult;\nimport org.camunda.bpm.engine.test.Deployment;\nimport org.camunda.bpm.engine.test.ProcessEngineRule;\nimport org.junit.Rule;\nimport org.junit.Test;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.assertj.core.api.Assertions.entry;\nimport static org.camunda.bpm.engine.test.assertions.ProcessEngineTests.withVariables;\nimport static org.camunda.bpm.engine.test.assertions.bpmn.BpmnAwareTests.decisionService;\n\npublic class DMNUnitTest {\n\n    @Rule\n    public ProcessEngineRule rule = new ProcessEngineRule();\n\n    @Test\n    @Deployment(resources = {&quot;Buyer.dmn&quot;})\n    public void testTweetApprovalAlwaysApprovedContent() {\n        DmnDecisionTableResult results = decisionService().evaluateDecisionTableByKey(&quot;Decision_Buyer&quot;, withVariables(\n                &quot;productGroup&quot;, &quot;Food&quot;,\n                &quot;productDepartment&quot;,&quot;Fruit&quot;,\n                &quot;productClass&quot;, &quot;&quot;,\n                &quot;halal&quot;,false));\n        assertThat(results).hasSize(1);\n        assertThat(results.getSingleResult()).containsOnly(entry(&quot;candidateGroups&quot;, &quot;Fruit&quot;));\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":23684886,"reputation":21,"user_id":17709971,"display_name":"Nvr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661756400,"creation_date":1661507322,"question_id":73499131,"body_markdown":"I am working on Camunda DMN file. Here I want to test the DMN Decision Table. So I prepared java code to test it.\r\n\r\nHere my doubt is, can we create POJO class(getter and setter) using DMN xml during runtime?\r\n\r\nWe don&#39;t have to included any hared coded value like variable name/ variable datatype. Those variables/datatype should pick from xml and include in our code.\r\n\r\n","title":"Create POJO Class using XML during run time","body":"<p>I am working on Camunda DMN file. Here I want to test the DMN Decision Table. So I prepared java code to test it.</p>\n<p>Here my doubt is, can we create POJO class(getter and setter) using DMN xml during runtime?</p>\n<p>We don't have to included any hared coded value like variable name/ variable datatype. Those variables/datatype should pick from xml and include in our code.</p>\n"},{"tags":["python","java","spring-boot","jython-2.7"],"owner":{"account_id":26181592,"reputation":3,"user_id":19864896,"display_name":"Skyliam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661756361,"creation_date":1661756361,"question_id":73525132,"body_markdown":"Hello fellows Programmers,\r\nI&#39;m currently working on my first hobby project. And I want to create an API that collects data with webscrapping done through some python scripts.\r\nI found out that the module Jython might be the solution for that but I ran into some problems with it. Maybe you can help to initialise Jython or have a solution to make my code working without Jython.\r\n\r\nFirst what I would like to do with the script:\r\nThe Script should be scheduled and run every 6 Hours. After the script is finished the collected data should be used to patch an existing enitity in my API.\r\n\r\nMy guess was to use the scriptengine with Jython to run the script and use the output to internally patch the entity. An alternative would be to send a PATCH request from the script to the API to patch the object.\r\n\r\nBut my API does not recognize Jython:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.python&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jython-slim&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\nthis is the dependency I injected and I also installed Jython.\r\n\r\n    @Test\r\n    void testOutput() throws Exception{\r\n        StringWriter writer = new StringWriter();\r\n        ScriptContext context = new SimpleScriptContext();\r\n        context.setWriter(writer);\r\n\r\n        ScriptEngineManager manager = new ScriptEngineManager();\r\n        ScriptEngine engine = manager.getEngineByName(&quot;python&quot;);\r\n        engine.eval(new FileReader(&quot;hello.py&quot;), context);\r\n        assertEquals(&quot;Hello World!&quot;, writer.toString());\r\n    }\r\n\r\nwith this test I wanted to test running my script via Jython. But the ScriptEngine is always null? Why is that? I saw some similiar post there the solution was to put Jython to the classpath. How do I do that?\r\n\r\nThank you in advance.\r\n\r\n","title":"How to run Python Scripts in my SpringBoot API?","body":"<p>Hello fellows Programmers,\nI'm currently working on my first hobby project. And I want to create an API that collects data with webscrapping done through some python scripts.\nI found out that the module Jython might be the solution for that but I ran into some problems with it. Maybe you can help to initialise Jython or have a solution to make my code working without Jython.</p>\n<p>First what I would like to do with the script:\nThe Script should be scheduled and run every 6 Hours. After the script is finished the collected data should be used to patch an existing enitity in my API.</p>\n<p>My guess was to use the scriptengine with Jython to run the script and use the output to internally patch the entity. An alternative would be to send a PATCH request from the script to the API to patch the object.</p>\n<p>But my API does not recognize Jython:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.python&lt;/groupId&gt;\n            &lt;artifactId&gt;jython-slim&lt;/artifactId&gt;\n            &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>this is the dependency I injected and I also installed Jython.</p>\n<pre><code>@Test\nvoid testOutput() throws Exception{\n    StringWriter writer = new StringWriter();\n    ScriptContext context = new SimpleScriptContext();\n    context.setWriter(writer);\n\n    ScriptEngineManager manager = new ScriptEngineManager();\n    ScriptEngine engine = manager.getEngineByName(&quot;python&quot;);\n    engine.eval(new FileReader(&quot;hello.py&quot;), context);\n    assertEquals(&quot;Hello World!&quot;, writer.toString());\n}\n</code></pre>\n<p>with this test I wanted to test running my script via Jython. But the ScriptEngine is always null? Why is that? I saw some similiar post there the solution was to put Jython to the classpath. How do I do that?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661756437,"post_id":73525129,"comment_id":129838462,"body_markdown":"*CustomerMapper* is not a bean, so you can not autowire it. Beans are classes which are annotated with `@Service`, `@Controller`...)","body":"<i>CustomerMapper</i> is not a bean, so you can not autowire it. Beans are classes which are annotated with <code>@Service</code>, <code>@Controller</code>...)"},{"owner":{"account_id":20471625,"reputation":11,"user_id":15021895,"display_name":"Thushan kavinda"},"score":0,"creation_date":1661756960,"post_id":73525129,"comment_id":129838602,"body_markdown":"@Jens but same problem showing to me with using `@Service`,  `@Controller`","body":"@Jens but same problem showing to me with using <code>@Service</code>,  <code>@Controller</code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661757030,"post_id":73525129,"comment_id":129838623,"body_markdown":"Is the componentScan configured for the package?","body":"Is the componentScan configured for the package?"},{"owner":{"account_id":20471625,"reputation":11,"user_id":15021895,"display_name":"Thushan kavinda"},"score":0,"creation_date":1661757565,"post_id":73525129,"comment_id":129838768,"body_markdown":"`@Configuration\npublic class CustomerMappeerConfig {\n\n    @Bean\n    public CustomerMapper customerMapper(){\n        return customerMapper();\n    }\n}`","body":"<code>@Configuration public class CustomerMappeerConfig {      @Bean     public CustomerMapper customerMapper(){         return customerMapper();     } }</code>"},{"owner":{"account_id":20471625,"reputation":11,"user_id":15021895,"display_name":"Thushan kavinda"},"score":0,"creation_date":1661757809,"post_id":73525129,"comment_id":129838835,"body_markdown":"@Jens I did like that any solution?","body":"@Jens I did like that any solution?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661757893,"post_id":73525129,"comment_id":129838859,"body_markdown":"That should work if the class with the `@Configuration` annotation is in the component scan path","body":"That should work if the class with the <code>@Configuration</code> annotation is in the component scan path"},{"owner":{"account_id":20471625,"reputation":11,"user_id":15021895,"display_name":"Thushan kavinda"},"score":0,"creation_date":1661840315,"post_id":73525129,"comment_id":129860106,"body_markdown":"Use this two **Dependency** and input below code line to **properties** line\n   \n             `&lt;dependency&gt;\n    \t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    \t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n    \t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n    \t\t&lt;/dependency&gt;  \n    \t\t&lt;dependency&gt;\n    \t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    \t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n    \t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\n    \t\t&lt;/dependency&gt;`","body":"Use this two <b>Dependency</b> and input below code line to <b>properties</b> line                  <code>&lt;dependency&gt;     \t\t\t&lt;groupId&gt;org.mapstruct&lt;&#47;groupId&gt;     \t\t\t&lt;artifactId&gt;mapstruct&lt;&#47;artifactId&gt;     \t\t\t&lt;version&gt;${org.mapstruct.version}&lt;&#47;version&gt;     \t\t&lt;&#47;dependency&gt;       \t\t&lt;dependency&gt;     \t\t\t&lt;groupId&gt;org.mapstruct&lt;&#47;groupId&gt;     \t\t\t&lt;artifactId&gt;mapstruct-processor&lt;&#47;artifactId&gt;     \t\t\t&lt;version&gt;${org.mapstruct.version}&lt;&#47;version&gt;     \t\t\t&lt;scope&gt;provided&lt;&#47;scope&gt;     \t\t&lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":20471625,"reputation":11,"user_id":15021895,"display_name":"Thushan kavinda"},"score":0,"creation_date":1661840360,"post_id":73525129,"comment_id":129860122,"body_markdown":"**properties** line  \n   \n     `&lt;properties&gt;\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\n    \t\t&lt;org.mapstruct.version&gt;1.5.2.Final&lt;/org.mapstruct.version&gt;\n    \t&lt;/properties&gt;`","body":"<b>properties</b> line            <code>&lt;properties&gt;     \t\t&lt;java.version&gt;1.8&lt;&#47;java.version&gt;     \t\t&lt;org.mapstruct.version&gt;1.5.2.Final&lt;&#47;org.mapstruct.version&gt;     \t&lt;&#47;properties&gt;</code>"}],"owner":{"account_id":20471625,"reputation":11,"user_id":15021895,"display_name":"Thushan kavinda"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661756343,"creation_date":1661756343,"question_id":73525129,"body_markdown":"**My Customer mapper classs**\r\n\r\n   \r\n    import org.mapstruct.Mapper;\r\n  \r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface CustomerMapper {\r\n    \r\n    \r\n        ResponseCustomerFilterDTO entityToResponseDTO(Customer customer);\r\n    }  \r\nmy customer mapper class. \r\n \r\n**Customer Service class**   \r\n\r\n    package com.class3.poinofsaleclass3.service;\r\n    \r\n    import java.util.List;\r\n    \r\n    public interface CustomerService {\r\n    \r\n        String addCustomer(CustomerSaveRequestDTO customerSaveRequestDTO);\r\n        String updateCustomer(CustomerUpdateRequestDTO customerUpdateRequestDTO);\r\n        CustomerDto getCustomerById(int id);\r\n        List&lt;CustomerDto&gt; getAllCustomers();\r\n        CustomerDto getCustomerByNic(String nic);\r\n        ResponseCustomerFilterDTO getCustomerByIdFilter(int id);\r\n    }   \r\n\r\nmy Customer Service class code   \r\n  \r\n**ResponseCustomerDilterDTO class**\r\n\r\n    package com.class3.poinofsaleclass3.dto.responce;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Data\r\n    public class ResponseCustomerFilterDTO {\r\n        private int customerId;\r\n        private String customerAddress;\r\n        private double customerSalary;\r\n    }   \r\n\r\nmy ResponseCustomerDilterDTO class  include there\r\n\r\n**CustomerServiceIMPL class**   \r\n\r\n    package com.class3.poinofsaleclass3.service.impl;\r\n   \r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    @Service\r\n    public class CustomerServiceIMPL implements CustomerService {\r\n    \r\n        @Autowired\r\n        private CustomerRepo customerRepo;\r\n    \r\n        @Autowired\r\n        private ModelMapper modelMapper;\r\n    \r\n        @Autowired\r\n        private CustomerMapper customerMapper;  \r\n\r\n        @Override\r\n        public String addCustomer(CustomerSaveRequestDTO customerSaveRequestDTO) {\r\n    \r\n            Customer customer = new Customer(\r\n                    customerSaveRequestDTO.getCustomerName(),\r\n                    customerSaveRequestDTO.getCustomerAddress(),\r\n                    customerSaveRequestDTO.getCustomerSalary(),\r\n                    customerSaveRequestDTO.getContactNumber(),\r\n                    customerSaveRequestDTO.getNic(),\r\n                    false\r\n    \r\n            );\r\n            if (!customerRepo.existsById(customer.getCustomerId())) {\r\n                customerRepo.save(customer);\r\n                return customer.getCustomerName() + &quot;saved&quot;;\r\n            } else {\r\n                System.out.println(&quot;customer id already exsit&quot;);\r\n                return &quot;customer id already exsit&quot;;\r\n            }}\r\n    \r\n        @Override\r\n        public String updateCustomer(CustomerUpdateRequestDTO customerUpdateRequestDTO) {\r\n            if (customerRepo.existsById(customerUpdateRequestDTO.getCustomerId())) {\r\n                Customer customer = customerRepo.getById(customerUpdateRequestDTO.getCustomerId());\r\n                customer.setCustomerName(customerUpdateRequestDTO.getCustomerName());\r\n                customer.setCustomerAddress(customerUpdateRequestDTO.getCustomerAddress());\r\n                customer.setCustomerSalary(customerUpdateRequestDTO.getCustomerSalary());\r\n                customer.setContactNumber(customerUpdateRequestDTO.getContactNumber());\r\n                customer.setNic(customerUpdateRequestDTO.getNic());\r\n                customer.setActivestate(customerUpdateRequestDTO.isActivestate());\r\n                // System.out.println(&quot;customer come&quot;+customer);\r\n                return customerRepo.save(customer).getCustomerName() + &quot;Updated&quot;;\r\n            } else {\r\n                System.out.println(&quot;this customer not at database&quot;);\r\n                return &quot;this customer not at database&quot;;\r\n            }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public CustomerDto getCustomerById(int id) {\r\n            Optional&lt;Customer&gt; customer = customerRepo.findById(id);\r\n            if (customer.isPresent()) {\r\n                CustomerDto customerDto =  modelMapper.map(customer.get(),CustomerDto.class);\r\n                return  customerDto;\r\n            }else{\r\n                return  null;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;CustomerDto&gt; getAllCustomers() {\r\n            List&lt;Customer&gt; getCustomers = customerRepo.findAll();\r\n            List&lt;CustomerDto&gt; customerDtoList = new ArrayList&lt;&gt;();\r\n            List&lt;CustomerDto&gt; customerDtos = modelMapper.map(getCustomers,new TypeToken&lt;List&lt;CustomerDto&gt;&gt;(){}.getType());\r\n     \r\n            return customerDtos;\r\n        }\r\n    \r\n        @Override\r\n        public CustomerDto getCustomerByNic(String nic) {\r\n            Optional &lt;Customer&gt; customer = customerRepo.findByNicEquals(nic);\r\n            if (customer.isPresent()){\r\n                CustomerDto customerDto = modelMapper.map(customer.get(),CustomerDto.class);\r\n                return customerDto;\r\n            }else {\r\n                throw new NotFoundException(&quot;not found&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public ResponseCustomerFilterDTO getCustomerByIdFilter(int id) {\r\n            Optional&lt;Customer&gt; customer = customerRepo.findById(id);\r\n            if (customer.isPresent()) {\r\n                ResponseCustomerFilterDTO responseCustomerFilterDTO =  customerMapper.entityToResponseDTO(customer.get());\r\n                return responseCustomerFilterDTO;\r\n            }else{\r\n                throw  new  NotFoundException(&quot;Not Found&quot;);\r\n            }\r\n        }\r\n    }  \r\n    \r\ncan I use autowired CustomerMapper to my CustomerServiceIMPL? It&#39;s showing Could not autowired. No beans of &#39;CustomerMapper&#39; type found.\r\n\r\n","title":"Could not autowire. No beans of &#39;CustomerMapper&#39; type found. can i solved this?","body":"<p><strong>My Customer mapper classs</strong></p>\n<pre><code>import org.mapstruct.Mapper;\n\n@Mapper(componentModel = &quot;spring&quot;)\npublic interface CustomerMapper {\n\n\n    ResponseCustomerFilterDTO entityToResponseDTO(Customer customer);\n}  \n</code></pre>\n<p>my customer mapper class.</p>\n<p><strong>Customer Service class</strong></p>\n<pre><code>package com.class3.poinofsaleclass3.service;\n\nimport java.util.List;\n\npublic interface CustomerService {\n\n    String addCustomer(CustomerSaveRequestDTO customerSaveRequestDTO);\n    String updateCustomer(CustomerUpdateRequestDTO customerUpdateRequestDTO);\n    CustomerDto getCustomerById(int id);\n    List&lt;CustomerDto&gt; getAllCustomers();\n    CustomerDto getCustomerByNic(String nic);\n    ResponseCustomerFilterDTO getCustomerByIdFilter(int id);\n}   \n</code></pre>\n<p>my Customer Service class code</p>\n<p><strong>ResponseCustomerDilterDTO class</strong></p>\n<pre><code>package com.class3.poinofsaleclass3.dto.responce;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class ResponseCustomerFilterDTO {\n    private int customerId;\n    private String customerAddress;\n    private double customerSalary;\n}   \n</code></pre>\n<p>my ResponseCustomerDilterDTO class  include there</p>\n<p><strong>CustomerServiceIMPL class</strong></p>\n<pre><code>package com.class3.poinofsaleclass3.service.impl;\n\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\n@Service\npublic class CustomerServiceIMPL implements CustomerService {\n\n    @Autowired\n    private CustomerRepo customerRepo;\n\n    @Autowired\n    private ModelMapper modelMapper;\n\n    @Autowired\n    private CustomerMapper customerMapper;  \n\n    @Override\n    public String addCustomer(CustomerSaveRequestDTO customerSaveRequestDTO) {\n\n        Customer customer = new Customer(\n                customerSaveRequestDTO.getCustomerName(),\n                customerSaveRequestDTO.getCustomerAddress(),\n                customerSaveRequestDTO.getCustomerSalary(),\n                customerSaveRequestDTO.getContactNumber(),\n                customerSaveRequestDTO.getNic(),\n                false\n\n        );\n        if (!customerRepo.existsById(customer.getCustomerId())) {\n            customerRepo.save(customer);\n            return customer.getCustomerName() + &quot;saved&quot;;\n        } else {\n            System.out.println(&quot;customer id already exsit&quot;);\n            return &quot;customer id already exsit&quot;;\n        }}\n\n    @Override\n    public String updateCustomer(CustomerUpdateRequestDTO customerUpdateRequestDTO) {\n        if (customerRepo.existsById(customerUpdateRequestDTO.getCustomerId())) {\n            Customer customer = customerRepo.getById(customerUpdateRequestDTO.getCustomerId());\n            customer.setCustomerName(customerUpdateRequestDTO.getCustomerName());\n            customer.setCustomerAddress(customerUpdateRequestDTO.getCustomerAddress());\n            customer.setCustomerSalary(customerUpdateRequestDTO.getCustomerSalary());\n            customer.setContactNumber(customerUpdateRequestDTO.getContactNumber());\n            customer.setNic(customerUpdateRequestDTO.getNic());\n            customer.setActivestate(customerUpdateRequestDTO.isActivestate());\n            // System.out.println(&quot;customer come&quot;+customer);\n            return customerRepo.save(customer).getCustomerName() + &quot;Updated&quot;;\n        } else {\n            System.out.println(&quot;this customer not at database&quot;);\n            return &quot;this customer not at database&quot;;\n        }\n\n    }\n\n    @Override\n    public CustomerDto getCustomerById(int id) {\n        Optional&lt;Customer&gt; customer = customerRepo.findById(id);\n        if (customer.isPresent()) {\n            CustomerDto customerDto =  modelMapper.map(customer.get(),CustomerDto.class);\n            return  customerDto;\n        }else{\n            return  null;\n        }\n    }\n\n    @Override\n    public List&lt;CustomerDto&gt; getAllCustomers() {\n        List&lt;Customer&gt; getCustomers = customerRepo.findAll();\n        List&lt;CustomerDto&gt; customerDtoList = new ArrayList&lt;&gt;();\n        List&lt;CustomerDto&gt; customerDtos = modelMapper.map(getCustomers,new TypeToken&lt;List&lt;CustomerDto&gt;&gt;(){}.getType());\n \n        return customerDtos;\n    }\n\n    @Override\n    public CustomerDto getCustomerByNic(String nic) {\n        Optional &lt;Customer&gt; customer = customerRepo.findByNicEquals(nic);\n        if (customer.isPresent()){\n            CustomerDto customerDto = modelMapper.map(customer.get(),CustomerDto.class);\n            return customerDto;\n        }else {\n            throw new NotFoundException(&quot;not found&quot;);\n        }\n    }\n\n    @Override\n    public ResponseCustomerFilterDTO getCustomerByIdFilter(int id) {\n        Optional&lt;Customer&gt; customer = customerRepo.findById(id);\n        if (customer.isPresent()) {\n            ResponseCustomerFilterDTO responseCustomerFilterDTO =  customerMapper.entityToResponseDTO(customer.get());\n            return responseCustomerFilterDTO;\n        }else{\n            throw  new  NotFoundException(&quot;Not Found&quot;);\n        }\n    }\n}  \n</code></pre>\n<p>can I use autowired CustomerMapper to my CustomerServiceIMPL? It's showing Could not autowired. No beans of 'CustomerMapper' type found.</p>\n"},{"tags":["java","deserialization","jooq","jooq-codegen"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661756211,"creation_date":1661755851,"answer_id":73525058,"question_id":73500036,"body_markdown":"### `DefaultRecordMapper` vs `DefaultConverterProvider`\r\n\r\n&gt; The XML column definition MUST be in the very same order of the one in POJO class?\r\n\r\nIt&#39;s obviously recommended that you match the order of columns from the database also in generated code, because otherwise, you&#39;ll run into problems like these. \r\n\r\nBut it isn&#39;t strictly required, nor is your problem strictly related to code generation. It&#39;s rather caused by the behaviour of the [`DefaultRecordMapper`][1]. You say:\r\n\r\n&gt; I have a POJO, a pretty simple one \r\n\r\nBut it isn&#39;t simple. You&#39;re mixing Jackson and this `@Builder` annotation stuff, which both compete for [`DefaultRecordMapper`][1] behaviour. You&#39;re probably thinking that Jackson should kick in, mapping database column names to attributes, but that&#39;s not the case. The Jackson mapping logic is implemented in the [`ConverterProvider`][2] default implementation, when mapping an individual JSON value to a POJO. In your case, that doesn&#39;t apply.\r\n\r\n### `DefaultRecordMapper` and constructors\r\n\r\nInstead, the record is mapped to the POJO by jOOQ&#39;s [`DefaultRecordMapper`][1], and your `@Builder` and `@Value` annotations probably produce a constructor with fields in the wrong order, given your `SELECT *` doesn&#39;t match your XML column definition. But Java constructors, like any Java methods, don&#39;t retain their parameter names, so jOOQ can only map by parameter index, which doesn&#39;t match in your case.\r\n\r\n### The real problem: Usage of explicit `SELECT *` in jOOQ\r\n\r\nSo, the main problem here is that you&#39;re explicitly using the `asterisk()` (or `*`), effectively delegating the projection to the effective database schema, rather than using the default projection by jOOQ, which corresponds to that of the generated code. The `asterisk()` was added *explicitly* to allow for using this feature, for whatever reason. There&#39;s hardly any reason why users should use `asterisk()`, unless they *want* this from jOOQ. Better just write:\r\n\r\n```java\r\ncontext.selectFrom(ALERTS).where(ALERTS.ERRORID.eq(1661367543364l)).fetch()\r\n```\r\n\r\n[This is also documented in the manual][3], or [the Javadoc][4].\r\n\r\n&gt; Whenever jOOQ generates an asterisk (explicitly, or because jOOQ doesn&#39;t know the exact projection), the column order, and the column set are defined by the database server, not jOOQ. If you&#39;re using generated code, this may lead to problems as there might be a different column order than expected, as well as too many or too few columns might be projected.\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DefaultRecordMapper.html\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/converter-provider/\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/select-clause/select-clause-asterisk/\r\n  [4]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Table.html#asterisk()","title":"Error in deserializing pojo object with Jooq","body":"<h3><code>DefaultRecordMapper</code> vs <code>DefaultConverterProvider</code></h3>\n<blockquote>\n<p>The XML column definition MUST be in the very same order of the one in POJO class?</p>\n</blockquote>\n<p>It's obviously recommended that you match the order of columns from the database also in generated code, because otherwise, you'll run into problems like these.</p>\n<p>But it isn't strictly required, nor is your problem strictly related to code generation. It's rather caused by the behaviour of the <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DefaultRecordMapper.html\" rel=\"nofollow noreferrer\"><code>DefaultRecordMapper</code></a>. You say:</p>\n<blockquote>\n<p>I have a POJO, a pretty simple one</p>\n</blockquote>\n<p>But it isn't simple. You're mixing Jackson and this <code>@Builder</code> annotation stuff, which both compete for <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DefaultRecordMapper.html\" rel=\"nofollow noreferrer\"><code>DefaultRecordMapper</code></a> behaviour. You're probably thinking that Jackson should kick in, mapping database column names to attributes, but that's not the case. The Jackson mapping logic is implemented in the <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/converter-provider/\" rel=\"nofollow noreferrer\"><code>ConverterProvider</code></a> default implementation, when mapping an individual JSON value to a POJO. In your case, that doesn't apply.</p>\n<h3><code>DefaultRecordMapper</code> and constructors</h3>\n<p>Instead, the record is mapped to the POJO by jOOQ's <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DefaultRecordMapper.html\" rel=\"nofollow noreferrer\"><code>DefaultRecordMapper</code></a>, and your <code>@Builder</code> and <code>@Value</code> annotations probably produce a constructor with fields in the wrong order, given your <code>SELECT *</code> doesn't match your XML column definition. But Java constructors, like any Java methods, don't retain their parameter names, so jOOQ can only map by parameter index, which doesn't match in your case.</p>\n<h3>The real problem: Usage of explicit <code>SELECT *</code> in jOOQ</h3>\n<p>So, the main problem here is that you're explicitly using the <code>asterisk()</code> (or <code>*</code>), effectively delegating the projection to the effective database schema, rather than using the default projection by jOOQ, which corresponds to that of the generated code. The <code>asterisk()</code> was added <em>explicitly</em> to allow for using this feature, for whatever reason. There's hardly any reason why users should use <code>asterisk()</code>, unless they <em>want</em> this from jOOQ. Better just write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>context.selectFrom(ALERTS).where(ALERTS.ERRORID.eq(1661367543364l)).fetch()\n</code></pre>\n<p><a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/select-clause/select-clause-asterisk/\" rel=\"nofollow noreferrer\">This is also documented in the manual</a>, or <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Table.html#asterisk()\" rel=\"nofollow noreferrer\">the Javadoc</a>.</p>\n<blockquote>\n<p>Whenever jOOQ generates an asterisk (explicitly, or because jOOQ doesn't know the exact projection), the column order, and the column set are defined by the database server, not jOOQ. If you're using generated code, this may lead to problems as there might be a different column order than expected, as well as too many or too few columns might be projected.</p>\n</blockquote>\n"}],"owner":{"account_id":12616725,"reputation":1228,"user_id":9614332,"display_name":"Stefano Bossi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73525058,"answer_count":1,"score":1,"last_activity_date":1661756211,"creation_date":1661511828,"question_id":73500036,"body_markdown":"I am facing a strange, at least for me, deserialization problem using Jooq. \r\nI have a POJO, a pretty simple one (with some custom Deserilizers but not related to this problem):\r\n \r\n```java\r\n@Builder\r\n@Value\r\n@Jacksonized\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class AlertVector implements Serializable {\r\n\r\n    @JsonProperty(ERROR_ID)\r\n    @Column(name = ALERTS_ERROR_ID_COLUMN, nullable=false)\r\n    private long alertVectorId;\r\n\r\n    /**\r\n     * The GTM instant of the Alert log.\r\n     */\r\n    @JsonProperty(ERROR_TIMESTAMP)\r\n    @Column(name = ALERTS_ERROR_TIMESTAMP_COLUMN)\r\n    private Instant alertVectorTimestamp;\r\n    \r\n    /**\r\n     * Machine Serial Number\r\n     */\r\n    @JsonProperty(MACHINE_SERIAL_NUMBER)\r\n    @Column(name = ALERTS_MACHINE_SERIAL_NUMBER_COLUMN)\r\n    @Builder.Default private int machineSerialNumber = -1;\r\n\r\n    /**\r\n     * Status of the record \r\n     * (i.e. the data are sent or not to ES)\r\n     */\r\n    @JsonIgnore\r\n    @Column(name = ALERTS_RECORD_STATUS_COLUMN)\r\n    private int recordStatus;\r\n\r\n        /**\r\n     * Array of Safety Faults bits\r\n     */\r\n    @JsonDeserialize(using = ByteArrayDeserializer.class)\r\n    @JsonSerialize(using = ByteArraySerializer.class)\r\n    @JsonProperty(SAFETY_FAULTS_NAME)\r\n    @Column(name = ALERTS_SAFETY_FAULTS_COLUMN)\r\n    private byte[] safetyFaults;\r\n\r\n    /**\r\n     * Array of Errors bits\r\n     */\r\n    @JsonDeserialize(using = ByteArrayDeserializer.class)\r\n    @JsonSerialize(using = ByteArraySerializer.class)\r\n    @JsonProperty(ERRORS_NAME)\r\n    @Column(name = ALERTS_ERRORS_COLUMN)\r\n    private byte[] errors;\r\n    \r\n    /**\r\n     * Array of Warnings bits\r\n     */\r\n    @JsonDeserialize(using = ByteArrayDeserializer.class)\r\n    @JsonSerialize(using = ByteArraySerializer.class)\r\n    @JsonProperty(WARNINGS_NAME)\r\n    @Column(name = ALERTS_WARNINGS_COLUMN)\r\n    private byte[] warnings;\r\n}\r\n```\r\n\r\nI build a test database with H2 to write some Junit tests. The test databases is fed with 24 records of data with: \r\n```java\r\nURI alertURI = getClass().getClassLoader().getResource(&quot;alerts.csv&quot;).toURI();\r\nString strAlerts = Files.readString(Path.of(alertURI), StandardCharsets.US_ASCII);\r\nResult&lt;AlertsRecord&gt; alertsRecordsResult = context.fetchFromCSV(strAlerts).into(it.fox.mysql.tables.Alerts.ALERTS);\r\ncontext.insertInto(ALERTS).columns(ALERTS.fields()).valuesOfRecords(alertsRecordsResult).execute();\r\n```\r\nI have checked that the data are correctly ingested in the DB like I expect reading back a record and visually checking it:\r\n```java\r\ncontext.select(ALERTS.asterisk()).from(ALERTS).where(ALERTS.ERRORID.eq(1661367543364l)).fetch()\r\n```\r\n```\r\n&quot;+-------------+--------------------+------------+-------------------+----------------------------------------+----------------------------+----------------------------+\r\n|      errorId|errorTimestamp      |recordStatus|machineSerialNumber|safetyFaults                            |errors                      |warnings                    |\r\n+-------------+--------------------+------------+-------------------+----------------------------------------+----------------------------+----------------------------+\r\n|1661367543364|2022-08-24T18:59:03Z|           0|                  5|AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA|AAAAAAAAAAAAAAAAAAAAAAAAAAA=|AAAAAAAAAAAAAAAxAAAAAAAAAAA=|\r\n+-------------+--------------------+------------+-------------------+----------------------------------------+----------------------------+----------------------------+\r\n```\r\nThe strange thing I found is that, even if the data are correct in the DataBase, the deserialization of my POJO is wrong:\r\n```java\r\ncontext.select().from(ALERTS).where(ALERTS.ERRORID.eq(1661367543364l)).fetchOneInto(AlertVector.class);\r\n```\r\nThe returned POJO has the filed `machineSerialNumber` and `recordStatus` inverted:\r\n```\r\nAlertVector@111 &quot;AlertVector(alertVectorId=1661367536365, alertVectorTimestamp=2022-08-24T18:58:56Z, machineSerialNumber=0, recordStatus=5, safetyFaults=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], errors=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 49], warnings=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])&quot;\r\n```\r\n\r\nIf I modify the POJO &quot;inverting&quot; the position of the two variables like this:\r\n```java\r\n/**\r\n * Status of the record \r\n * (i.e. the data are sent or not to ES)\r\n */\r\n@JsonIgnore\r\n@Column(name = ALERTS_RECORD_STATUS_COLUMN)\r\nprivate int recordStatus;\r\n\r\n/**\r\n * Machine Serial Number\r\n */\r\n@JsonProperty(MACHINE_SERIAL_NUMBER)\r\n@Column(name = ALERTS_MACHINE_SERIAL_NUMBER_COLUMN)\r\n@Builder.Default private int machineSerialNumber = -1;\r\n```\r\nThe same code give me a correct `AlertVector` POJO. \r\n\r\nI build the Jooq classes from XML and I have noted that I wrote the definition of `recordStatus` before the definition of `machineSerialNumber`:\r\n```xml\r\n        &lt;column&gt;\r\n            &lt;table_catalog&gt;&lt;/table_catalog&gt;\r\n            &lt;table_schema&gt;plc_data&lt;/table_schema&gt;\r\n            &lt;table_name&gt;alerts&lt;/table_name&gt;\r\n            &lt;column_name&gt;recordStatus&lt;/column_name&gt;\r\n            &lt;data_type&gt;int(11)&lt;/data_type&gt;\r\n            &lt;character_maximum_length&gt;0&lt;/character_maximum_length&gt;\r\n            &lt;numeric_precision&gt;10&lt;/numeric_precision&gt;\r\n            &lt;numeric_scale&gt;0&lt;/numeric_scale&gt;\r\n            &lt;ordinal_position&gt;3&lt;/ordinal_position&gt;\r\n            &lt;is_nullable&gt;true&lt;/is_nullable&gt;\r\n            &lt;comment&gt;&lt;/comment&gt;\r\n        &lt;/column&gt;\r\n        &lt;column&gt;\r\n            &lt;table_catalog&gt;&lt;/table_catalog&gt;\r\n            &lt;table_schema&gt;plc_data&lt;/table_schema&gt;\r\n            &lt;table_name&gt;alerts&lt;/table_name&gt;\r\n            &lt;column_name&gt;machineSerialNumber&lt;/column_name&gt;\r\n            &lt;data_type&gt;int(11)&lt;/data_type&gt;\r\n            &lt;character_maximum_length&gt;0&lt;/character_maximum_length&gt;\r\n            &lt;numeric_precision&gt;10&lt;/numeric_precision&gt;\r\n            &lt;numeric_scale&gt;0&lt;/numeric_scale&gt;\r\n            &lt;ordinal_position&gt;4&lt;/ordinal_position&gt;\r\n            &lt;is_nullable&gt;true&lt;/is_nullable&gt;\r\n            &lt;column_default&gt;NULL&lt;/column_default&gt;\r\n            &lt;comment&gt;&lt;/comment&gt;\r\n        &lt;/column&gt;\r\n```\r\nCould someone explain me the behaviour here? \r\nThe XML column definition MUST be in the very same order of the one in POJO class? \r\n\r\nThanks,\r\nS.","title":"Error in deserializing pojo object with Jooq","body":"<p>I am facing a strange, at least for me, deserialization problem using Jooq.\nI have a POJO, a pretty simple one (with some custom Deserilizers but not related to this problem):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder\n@Value\n@Jacksonized\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class AlertVector implements Serializable {\n\n    @JsonProperty(ERROR_ID)\n    @Column(name = ALERTS_ERROR_ID_COLUMN, nullable=false)\n    private long alertVectorId;\n\n    /**\n     * The GTM instant of the Alert log.\n     */\n    @JsonProperty(ERROR_TIMESTAMP)\n    @Column(name = ALERTS_ERROR_TIMESTAMP_COLUMN)\n    private Instant alertVectorTimestamp;\n    \n    /**\n     * Machine Serial Number\n     */\n    @JsonProperty(MACHINE_SERIAL_NUMBER)\n    @Column(name = ALERTS_MACHINE_SERIAL_NUMBER_COLUMN)\n    @Builder.Default private int machineSerialNumber = -1;\n\n    /**\n     * Status of the record \n     * (i.e. the data are sent or not to ES)\n     */\n    @JsonIgnore\n    @Column(name = ALERTS_RECORD_STATUS_COLUMN)\n    private int recordStatus;\n\n        /**\n     * Array of Safety Faults bits\n     */\n    @JsonDeserialize(using = ByteArrayDeserializer.class)\n    @JsonSerialize(using = ByteArraySerializer.class)\n    @JsonProperty(SAFETY_FAULTS_NAME)\n    @Column(name = ALERTS_SAFETY_FAULTS_COLUMN)\n    private byte[] safetyFaults;\n\n    /**\n     * Array of Errors bits\n     */\n    @JsonDeserialize(using = ByteArrayDeserializer.class)\n    @JsonSerialize(using = ByteArraySerializer.class)\n    @JsonProperty(ERRORS_NAME)\n    @Column(name = ALERTS_ERRORS_COLUMN)\n    private byte[] errors;\n    \n    /**\n     * Array of Warnings bits\n     */\n    @JsonDeserialize(using = ByteArrayDeserializer.class)\n    @JsonSerialize(using = ByteArraySerializer.class)\n    @JsonProperty(WARNINGS_NAME)\n    @Column(name = ALERTS_WARNINGS_COLUMN)\n    private byte[] warnings;\n}\n</code></pre>\n<p>I build a test database with H2 to write some Junit tests. The test databases is fed with 24 records of data with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URI alertURI = getClass().getClassLoader().getResource(&quot;alerts.csv&quot;).toURI();\nString strAlerts = Files.readString(Path.of(alertURI), StandardCharsets.US_ASCII);\nResult&lt;AlertsRecord&gt; alertsRecordsResult = context.fetchFromCSV(strAlerts).into(it.fox.mysql.tables.Alerts.ALERTS);\ncontext.insertInto(ALERTS).columns(ALERTS.fields()).valuesOfRecords(alertsRecordsResult).execute();\n</code></pre>\n<p>I have checked that the data are correctly ingested in the DB like I expect reading back a record and visually checking it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>context.select(ALERTS.asterisk()).from(ALERTS).where(ALERTS.ERRORID.eq(1661367543364l)).fetch()\n</code></pre>\n<pre><code>&quot;+-------------+--------------------+------------+-------------------+----------------------------------------+----------------------------+----------------------------+\n|      errorId|errorTimestamp      |recordStatus|machineSerialNumber|safetyFaults                            |errors                      |warnings                    |\n+-------------+--------------------+------------+-------------------+----------------------------------------+----------------------------+----------------------------+\n|1661367543364|2022-08-24T18:59:03Z|           0|                  5|AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA|AAAAAAAAAAAAAAAAAAAAAAAAAAA=|AAAAAAAAAAAAAAAxAAAAAAAAAAA=|\n+-------------+--------------------+------------+-------------------+----------------------------------------+----------------------------+----------------------------+\n</code></pre>\n<p>The strange thing I found is that, even if the data are correct in the DataBase, the deserialization of my POJO is wrong:</p>\n<pre class=\"lang-java prettyprint-override\"><code>context.select().from(ALERTS).where(ALERTS.ERRORID.eq(1661367543364l)).fetchOneInto(AlertVector.class);\n</code></pre>\n<p>The returned POJO has the filed <code>machineSerialNumber</code> and <code>recordStatus</code> inverted:</p>\n<pre><code>AlertVector@111 &quot;AlertVector(alertVectorId=1661367536365, alertVectorTimestamp=2022-08-24T18:58:56Z, machineSerialNumber=0, recordStatus=5, safetyFaults=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], errors=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 49], warnings=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])&quot;\n</code></pre>\n<p>If I modify the POJO &quot;inverting&quot; the position of the two variables like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Status of the record \n * (i.e. the data are sent or not to ES)\n */\n@JsonIgnore\n@Column(name = ALERTS_RECORD_STATUS_COLUMN)\nprivate int recordStatus;\n\n/**\n * Machine Serial Number\n */\n@JsonProperty(MACHINE_SERIAL_NUMBER)\n@Column(name = ALERTS_MACHINE_SERIAL_NUMBER_COLUMN)\n@Builder.Default private int machineSerialNumber = -1;\n</code></pre>\n<p>The same code give me a correct <code>AlertVector</code> POJO.</p>\n<p>I build the Jooq classes from XML and I have noted that I wrote the definition of <code>recordStatus</code> before the definition of <code>machineSerialNumber</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;column&gt;\n            &lt;table_catalog&gt;&lt;/table_catalog&gt;\n            &lt;table_schema&gt;plc_data&lt;/table_schema&gt;\n            &lt;table_name&gt;alerts&lt;/table_name&gt;\n            &lt;column_name&gt;recordStatus&lt;/column_name&gt;\n            &lt;data_type&gt;int(11)&lt;/data_type&gt;\n            &lt;character_maximum_length&gt;0&lt;/character_maximum_length&gt;\n            &lt;numeric_precision&gt;10&lt;/numeric_precision&gt;\n            &lt;numeric_scale&gt;0&lt;/numeric_scale&gt;\n            &lt;ordinal_position&gt;3&lt;/ordinal_position&gt;\n            &lt;is_nullable&gt;true&lt;/is_nullable&gt;\n            &lt;comment&gt;&lt;/comment&gt;\n        &lt;/column&gt;\n        &lt;column&gt;\n            &lt;table_catalog&gt;&lt;/table_catalog&gt;\n            &lt;table_schema&gt;plc_data&lt;/table_schema&gt;\n            &lt;table_name&gt;alerts&lt;/table_name&gt;\n            &lt;column_name&gt;machineSerialNumber&lt;/column_name&gt;\n            &lt;data_type&gt;int(11)&lt;/data_type&gt;\n            &lt;character_maximum_length&gt;0&lt;/character_maximum_length&gt;\n            &lt;numeric_precision&gt;10&lt;/numeric_precision&gt;\n            &lt;numeric_scale&gt;0&lt;/numeric_scale&gt;\n            &lt;ordinal_position&gt;4&lt;/ordinal_position&gt;\n            &lt;is_nullable&gt;true&lt;/is_nullable&gt;\n            &lt;column_default&gt;NULL&lt;/column_default&gt;\n            &lt;comment&gt;&lt;/comment&gt;\n        &lt;/column&gt;\n</code></pre>\n<p>Could someone explain me the behaviour here?\nThe XML column definition MUST be in the very same order of the one in POJO class?</p>\n<p>Thanks,\nS.</p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":4869796,"reputation":5586,"user_id":3926727,"accept_rate":100,"display_name":"Rasel"},"score":2,"creation_date":1570596627,"post_id":58297208,"comment_id":102957381,"body_markdown":"show logcat error","body":"show logcat error"},{"owner":{"account_id":15010990,"reputation":1358,"user_id":10835478,"display_name":"niceumang"},"score":0,"creation_date":1570597848,"post_id":58297208,"comment_id":102957670,"body_markdown":"as @Rasel says show your logcat","body":"as @Rasel says show your logcat"},{"owner":{"account_id":16069383,"reputation":616,"user_id":11598177,"display_name":"L2_Paver"},"score":0,"creation_date":1570600385,"post_id":58297208,"comment_id":102958352,"body_markdown":"if you have this implementation `&#39;androidx.appcompat:appcompat:1.1.0&#39;` then you should be using this `androidx.cardview.widget.CardView`. learn more about migrating to androidx topics https://developer.android.com/jetpack/androidx/migrate","body":"if you have this implementation <code>&#39;androidx.appcompat:appcompat:1.1.0&#39;</code> then you should be using this <code>androidx.cardview.widget.CardView</code>. learn more about migrating to androidx topics <a href=\"https://developer.android.com/jetpack/androidx/migrate\" rel=\"nofollow noreferrer\">developer.android.com/jetpack/androidx/migrate</a>"}],"answers":[{"tags":[],"owner":{"account_id":8501466,"reputation":21,"user_id":6374271,"display_name":"Ajit singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570599996,"creation_date":1570599996,"answer_id":58297741,"question_id":58297208,"body_markdown":"Use this code\r\n\r\n       &lt;androidx.cardview.widget.CardView \r\n            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;5dp&quot;\r\n            app:elevation=&quot;5dp&quot;&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n      ","title":"Android development. CardView not working?","body":"<p>Use this code</p>\n\n<pre><code>   &lt;androidx.cardview.widget.CardView \n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"5dp\"\n        app:elevation=\"5dp\"&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12637572,"reputation":99,"user_id":9186263,"display_name":"Rahul Mishra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570601481,"creation_date":1570601481,"answer_id":58297981,"question_id":58297208,"body_markdown":"I had the same issue after updating \r\nmy library to androidX\r\n\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n\r\nTo overcome this problem.\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n\tandroid:layout_width=&quot;match_parent&quot;\r\n\tandroid:layout_height=&quot;wrap_content&quot;&gt;\r\n\t&lt;TextView\r\n\t\tandroid:id=&quot;@+id/dersName&quot;\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\tandroid:layout_marginLeft=&quot;10dp&quot;\r\n\t\tandroid:layout_marginTop=&quot;10dp&quot;\r\n\t\tandroid:layout_marginRight=&quot;10dp&quot;/&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\n","title":"Android development. CardView not working?","body":"<p>I had the same issue after updating \nmy library to androidX</p>\n\n<pre><code>implementation 'androidx.cardview:cardview:1.0.0'\n</code></pre>\n\n<p>To overcome this problem.</p>\n\n<pre><code>&lt;androidx.cardview.widget.CardView\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"&gt;\n&lt;TextView\n    android:id=\"@+id/dersName\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"10dp\"\n    android:layout_marginTop=\"10dp\"\n    android:layout_marginRight=\"10dp\"/&gt;\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23778881,"reputation":1,"user_id":17791886,"display_name":"Nesar Khodayar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661755770,"creation_date":1661755770,"answer_id":73525041,"question_id":58297208,"body_markdown":"If your manifest file has a android:hardwareAccelerated=&quot;false&quot; line, delete it.\r\n\r\nsee for details\r\nhttps://developer.android.com/guide/topics/graphics/hardware-accel.html?hl=ru","title":"Android development. CardView not working?","body":"<p>If your manifest file has a android:hardwareAccelerated=&quot;false&quot; line, delete it.</p>\n<p>see for details\n<a href=\"https://developer.android.com/guide/topics/graphics/hardware-accel.html?hl=ru\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/graphics/hardware-accel.html?hl=ru</a></p>\n"}],"owner":{"account_id":14704626,"reputation":21,"user_id":10619736,"display_name":"maksnurgazy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3844,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1661755770,"creation_date":1570596312,"question_id":58297208,"body_markdown":"    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;\r\n        android:background=&quot;#F3F3F3F3&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n        &lt;android.support.v7.widget.CardView\r\n            xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/dersName&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;/&gt;\r\n            \r\n        &lt;/android.support.v7.widget.CardView&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n[Unfortunately,ProjectTry has stopped][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rhT2G.png\r\n\r\nAlso I added  this code \r\n\r\n    implementation &#39;com.android.support:recyclerview-v7:28.0.0&#39;\r\n    //noinspection GradleCompatible\r\n    implementation &#39;com.android.support:cardview-v7:28.0.0&#39;\r\n\r\n**compilation was successfull but, it gives me Unfortunately ProjectTry has stopped**\r\n*How can i overcome this problem?* When I type &lt;android.support - android studio didn&#39;t gave me autocomplete but when I try outside of cardview and type inside Linearlaut, android:background it gives me autocomplete(hint). After that I assumed problem was in the &quot;CardLayout&quot;? ","title":"Android development. CardView not working?","body":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\" android:layout_width=\"match_parent\"\n    android:background=\"#F3F3F3F3\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;android.support.v7.widget.CardView\n        xmlns:card_view=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/dersName\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginLeft=\"10dp\"\n            android:layout_marginTop=\"10dp\"\n            android:layout_marginRight=\"10dp\"/&gt;\n\n    &lt;/android.support.v7.widget.CardView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/rhT2G.png\" rel=\"nofollow noreferrer\">Unfortunately,ProjectTry has stopped</a></p>\n\n<p>Also I added  this code </p>\n\n<pre><code>implementation 'com.android.support:recyclerview-v7:28.0.0'\n//noinspection GradleCompatible\nimplementation 'com.android.support:cardview-v7:28.0.0'\n</code></pre>\n\n<p><strong>compilation was successfull but, it gives me Unfortunately ProjectTry has stopped</strong>\n<em>How can i overcome this problem?</em> When I type \n"},{"tags":["java","spring","spring-boot","heroku","deployment"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661755777,"post_id":73525011,"comment_id":129838278,"body_markdown":"*java.version* should 1.8 not 11","body":"<i>java.version</i> should 1.8 not 11"},{"owner":{"account_id":26185718,"reputation":1,"user_id":19868277,"display_name":"pazulewski"},"score":0,"creation_date":1661757021,"post_id":73525011,"comment_id":129838620,"body_markdown":"still the same error:\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project dziennik-uksw: Fatal error compiling: invalid flag: --release -&gt; [Help 1]","body":"still the same error: [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project dziennik-uksw: Fatal error compiling: invalid flag: --release -&gt; [Help 1]"}],"owner":{"account_id":26185718,"reputation":1,"user_id":19868277,"display_name":"pazulewski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661756997,"answer_count":0,"score":0,"last_activity_date":1661755528,"creation_date":1661755528,"question_id":73525011,"body_markdown":"Local instance of my app working well, but when I am trying to deploy it using Heroku, there some errors that I can&#39;t manage.\r\n\r\nI am using MySQL database.\r\n\r\nMy pom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;pl.edu.uksw&lt;/groupId&gt;\r\n    &lt;artifactId&gt;dziennik-uksw&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;name&gt;dziennik-uksw&lt;/name&gt;\r\n    &lt;description&gt;dziennik-uksw&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer\r\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;pl.edu.uksw.dziennikuksw.DziennikUkswApplication&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;\r\n                        --illegal-access=permit\r\n                    &lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;\r\n                        --illegal-access=permit\r\n                    &lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\napplication.properties:\r\n```\r\n# DATASOURCE\r\nspring.datasource.url=jdbc:mysql://localhost:3306/dziennik_uksw?serverTimezone=CET\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\n\r\n# HIBERNATE\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\nspring.jpa.hibernate.ddl-auto=validate\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type=TRACE\r\n\r\n#SECURITY\r\nspring.security.user.name=******\r\nspring.security.user.password=******\r\n\r\n#JAVA\r\njava.runtime.version=11\r\n\r\n\r\n```\r\nI think, it can be a problem with JDK version. Every time, I trying to deploy app, it instaling JDK 1.8:\r\n\r\n    -----&gt; Installing OpenJDK 1.8... done\r\n\r\nIt also can be a problem with maven plugins:\r\n\r\n       [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project dziennik-uksw: Fatal error compiling: invalid flag: --release -&gt; [Help 1]\r\n\r\nAnyone had similar issue an can help me?","title":"Problem with deployind JAVA SpringBoot App using Heroku","body":"<p>Local instance of my app working well, but when I am trying to deploy it using Heroku, there some errors that I can't manage.</p>\n<p>I am using MySQL database.</p>\n<p>My pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;pl.edu.uksw&lt;/groupId&gt;\n    &lt;artifactId&gt;dziennik-uksw&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;dziennik-uksw&lt;/name&gt;\n    &lt;description&gt;dziennik-uksw&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;pl.edu.uksw.dziennikuksw.DziennikUkswApplication&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;\n                        --illegal-access=permit\n                    &lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;\n                        --illegal-access=permit\n                    &lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>application.properties:</p>\n<pre><code># DATASOURCE\nspring.datasource.url=jdbc:mysql://localhost:3306/dziennik_uksw?serverTimezone=CET\nspring.datasource.username=root\nspring.datasource.password=root\n\n# HIBERNATE\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.hibernate.ddl-auto=validate\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type=TRACE\n\n#SECURITY\nspring.security.user.name=******\nspring.security.user.password=******\n\n#JAVA\njava.runtime.version=11\n\n\n</code></pre>\n<p>I think, it can be a problem with JDK version. Every time, I trying to deploy app, it instaling JDK 1.8:</p>\n<pre><code>-----&gt; Installing OpenJDK 1.8... done\n</code></pre>\n<p>It also can be a problem with maven plugins:</p>\n<pre><code>   [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project dziennik-uksw: Fatal error compiling: invalid flag: --release -&gt; [Help 1]\n</code></pre>\n<p>Anyone had similar issue an can help me?</p>\n"},{"tags":["java","process","runtime","kill"],"comments":[{"owner":{"account_id":5870718,"reputation":3152,"user_id":4623129,"display_name":"Khalid Shah"},"score":0,"creation_date":1539339339,"post_id":52777306,"comment_id":92476213,"body_markdown":"will it give you any exception?  when the process is not stop ?","body":"will it give you any exception?  when the process is not stop ?"},{"owner":{"account_id":14529038,"reputation":1,"user_id":10494476,"display_name":"JJJoker"},"score":0,"creation_date":1539339940,"post_id":52777306,"comment_id":92476544,"body_markdown":"@Khalid Shah unfortunately not...","body":"@Khalid Shah unfortunately not..."},{"owner":{"account_id":1671271,"reputation":1283,"user_id":1537706,"accept_rate":59,"display_name":"CrazySabbath"},"score":0,"creation_date":1539340342,"post_id":52777306,"comment_id":92476780,"body_markdown":"@JJJoker How do you make sure that process is not destroyed? `destroy` method is asynchronous, it is possible that process was not yet destroyed by the time you check its status.","body":"@JJJoker How do you make sure that process is not destroyed? <code>destroy</code> method is asynchronous, it is possible that process was not yet destroyed by the time you check its status."},{"owner":{"account_id":14529038,"reputation":1,"user_id":10494476,"display_name":"JJJoker"},"score":0,"creation_date":1539340726,"post_id":52777306,"comment_id":92477003,"body_markdown":"@CrazySabbath I know that the process hasn&#39;t been closed yet because I can see in the logs that it still works and is in the task manager.","body":"@CrazySabbath I know that the process hasn&#39;t been closed yet because I can see in the logs that it still works and is in the task manager."}],"answers":[{"tags":[],"owner":{"account_id":16482688,"reputation":51,"user_id":11909008,"display_name":"Guram Kankava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661755456,"creation_date":1661329418,"answer_id":73469788,"question_id":52777306,"body_markdown":"had similar problem, resolved it by replacing `processBuilder.start()` with\r\n\r\n    java.lang.Process process = java.lang.Runtime.getRuntime().exec(&quot;command java -jar some.jar&quot;);\r\n    proccess.destroy();","title":"Process doesn&#39;t stop in Java","body":"<p>had similar problem, resolved it by replacing <code>processBuilder.start()</code> with</p>\n<pre><code>java.lang.Process process = java.lang.Runtime.getRuntime().exec(&quot;command java -jar some.jar&quot;);\nproccess.destroy();\n</code></pre>\n"}],"owner":{"account_id":14529038,"reputation":1,"user_id":10494476,"display_name":"JJJoker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661755456,"creation_date":1539339173,"question_id":52777306,"body_markdown":"I have following problem...I created a `Process` via `ProcessBuilder` in this way :\r\n\r\n    private ProcessBuilder processBuilder;\r\n    private Process process;\r\n\r\n        public void init() {\r\n            processBuilder = new ProcessBuilder(\r\n                    &quot;java&quot;, &quot;-jar&quot;,\r\n                    &quot;bam.jar&quot;,\r\n                    host,\r\n            );\r\n            processBuilder.redirectOutput(ProcessBuilder.Redirect.INHERIT);\r\n            processBuilder.redirectError(ProcessBuilder.Redirect.INHERIT);\r\n            try {\r\n                process = processBuilder.start();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nand I have function who should a kill process : \r\n\r\n    public void stop() {\r\n        process.destroy();\r\n        try {\r\n            process.waitFor(5, TimeUnit.SECONDS);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        if (process.isAlive()) {\r\n            try {\r\n                Thread.sleep(5000L);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            process.destroyForcibly();\r\n        }\r\n    }\r\n\r\nBut killing `process` sometimes work, but sometimes doesn&#39;t work. Any idea?\r\n","title":"Process doesn&#39;t stop in Java","body":"<p>I have following problem...I created a <code>Process</code> via <code>ProcessBuilder</code> in this way :</p>\n\n<pre><code>private ProcessBuilder processBuilder;\nprivate Process process;\n\n    public void init() {\n        processBuilder = new ProcessBuilder(\n                \"java\", \"-jar\",\n                \"bam.jar\",\n                host,\n        );\n        processBuilder.redirectOutput(ProcessBuilder.Redirect.INHERIT);\n        processBuilder.redirectError(ProcessBuilder.Redirect.INHERIT);\n        try {\n            process = processBuilder.start();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p>and I have function who should a kill process : </p>\n\n<pre><code>public void stop() {\n    process.destroy();\n    try {\n        process.waitFor(5, TimeUnit.SECONDS);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    if (process.isAlive()) {\n        try {\n            Thread.sleep(5000L);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        process.destroyForcibly();\n    }\n}\n</code></pre>\n\n<p>But killing <code>process</code> sometimes work, but sometimes doesn't work. Any idea?</p>\n"},{"tags":["java","oop","design-patterns"],"comments":[{"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"score":0,"creation_date":1661834961,"post_id":73521931,"comment_id":129859074,"body_markdown":"Feel free to ask any question. If you feel that my reply is helpful, then you can upvote or mark my reply as an answer to simplify the future search of other users. [How does accepting an answer work?](https://meta.stackexchange.com/a/5235/309682)","body":"Feel free to ask any question. If you feel that my reply is helpful, then you can upvote or mark my reply as an answer to simplify the future search of other users. <a href=\"https://meta.stackexchange.com/a/5235/309682\">How does accepting an answer work?</a>"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1661848888,"post_id":73521931,"comment_id":129863011,"body_markdown":"In the context of a state automaton, it&#39;s a bad idea to throw an exception when some unexpected input is received: the automaton should be able to deal with any input whatever state it is in. Either ignore the error, or give the user some kind of feedback if you have this possibility.","body":"In the context of a state automaton, it&#39;s a bad idea to throw an exception when some unexpected input is received: the automaton should be able to deal with any input whatever state it is in. Either ignore the error, or give the user some kind of feedback if you have this possibility."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661744183,"creation_date":1661744183,"answer_id":73523894,"question_id":73521931,"body_markdown":"The [interface segregation principle](https://en.wikipedia.org/wiki/Interface_segregation_principle) is about the interface supplied to _clients_ of a service. The idea is that if the caller of an interface only uses a subset of methods on the interface, it suggests that the interface has too many responsibilities: the ones used by this caller, and the ones that are only used by other callers can be separated.\r\n\r\nOn the implementation side, implementations of all interface methods need to be provided. There&#39;s no way for the caller to know which methods are valid for the current state without violating encapsulation.\r\n\r\nIn this specific example, you can think of the interface methods as the physical controls on a mechanical vending machine, and the caller as the person standing in front of it. In a real vending machine, the physical controls can&#39;t rearrange themselves whenever the state changes. There&#39;s no way to prevent a person from pressing the &quot;wrong&quot; button for the current state, so there needs to be a defined behaviour for when that does happen. In practice, the machine may choose to show an error on a display, flash an LED, play a sound, or do nothing at all. These are all valid implementations of these methods!\r\n\r\nAn alternative design might be to have each state implement a different interface, and have each method on a state return the new state. This option can be good when there really is a different interface to present to the caller. To stretch this example, maybe the vending machine uses a touch screen display instead of mechanical controls.\r\n\r\nOne drawback of this alternative is that there is no way to guarantee that a caller won&#39;t retain a reference to an outdated state and call methods on it. You can turn this into a runtime error by ensuring that each state instance changes to throw exceptions from every method after it has been &quot;used&quot;. In some cases, you may be able to allow calls on the old state to continue working, as if time-travelling back to the earlier state. Whether this makes sense for a particular use case is application dependent —&#160;you wouldn&#39;t want it for a vending machine, for example.","title":"How to implement state design pattern without violating Interface Segregation Principle (ISP)?","body":"<p>The <a href=\"https://en.wikipedia.org/wiki/Interface_segregation_principle\" rel=\"nofollow noreferrer\">interface segregation principle</a> is about the interface supplied to <em>clients</em> of a service. The idea is that if the caller of an interface only uses a subset of methods on the interface, it suggests that the interface has too many responsibilities: the ones used by this caller, and the ones that are only used by other callers can be separated.</p>\n<p>On the implementation side, implementations of all interface methods need to be provided. There's no way for the caller to know which methods are valid for the current state without violating encapsulation.</p>\n<p>In this specific example, you can think of the interface methods as the physical controls on a mechanical vending machine, and the caller as the person standing in front of it. In a real vending machine, the physical controls can't rearrange themselves whenever the state changes. There's no way to prevent a person from pressing the &quot;wrong&quot; button for the current state, so there needs to be a defined behaviour for when that does happen. In practice, the machine may choose to show an error on a display, flash an LED, play a sound, or do nothing at all. These are all valid implementations of these methods!</p>\n<p>An alternative design might be to have each state implement a different interface, and have each method on a state return the new state. This option can be good when there really is a different interface to present to the caller. To stretch this example, maybe the vending machine uses a touch screen display instead of mechanical controls.</p>\n<p>One drawback of this alternative is that there is no way to guarantee that a caller won't retain a reference to an outdated state and call methods on it. You can turn this into a runtime error by ensuring that each state instance changes to throw exceptions from every method after it has been &quot;used&quot;. In some cases, you may be able to allow calls on the old state to continue working, as if time-travelling back to the earlier state. Whether this makes sense for a particular use case is application dependent — you wouldn't want it for a vending machine, for example.</p>\n"},{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661755375,"creation_date":1661751660,"answer_id":73524511,"question_id":73521931,"body_markdown":"There is a super book about design patterns &quot;[Head First Design Patterns, 2nd Edition][1]&quot;. And this book has a chapter about &quot;State pattern&quot;. Its code has the following methods of State pattern:\r\n\r\n\tpublic interface State \r\n\t{\r\n\t\tvoid InsertQuarter();\r\n\r\n\t\tvoid EjectQuarter();\r\n\r\n\t\tvoid TurnCrank();\r\n\r\n\t\tvoid Dispense();\r\n\t}\r\n\t\r\nIn my view, these list of methods should be enough for your requirements:\r\n\r\n\tpublic interface State \r\n\t{\r\n\t\tvoid InsertCoins(List&lt;Coin&gt; coins);\r\n\r\n\t\tList&lt;Coin&gt; EjectCoins();\r\n\r\n\t\tvoid ChooseProduct(Product product);\r\n\r\n\t\tvoid Dispense();\r\n\t}\r\n\t\r\nand other code will look like this. Let me show an example via C#. C# has almost the same API with Java and I have not used any special feature of C# which cannot be converted to Java.\r\n\r\nModel of `Coin`:\r\n\r\n\tpublic class Coin \r\n\t{\r\n\t\tpublic string Name { get; set; }\r\n\r\n\t\tpublic string Count { get; set; }\r\n\t}\t\r\n\t\r\n\r\nModel of `Product`:\r\n\t\r\n\tpublic class Product \r\n\t{\r\n\t\tpublic int Code { get; set; }\r\n\r\n\t\tpublic string Name { get; set; }\r\n\r\n\t\tpublic string Count { get; set; }\r\n\t}\r\n\t\r\nModel of `Inventory`:\r\n\r\n\tpublic class Inventory\r\n\t{\r\n\t\tList&lt;Product&gt; products = new List&lt;Product&gt;();\r\n\t\tProduct selectedProduct;\r\n\r\n\t\tpublic void Add(Product product) { }\r\n\r\n\t\tpublic void ReturnProduct() \r\n\t\t{\r\n\t\t\tif (selectedProduct != null)\r\n\t\t\t{\r\n\t\t\t\tproducts.Remove(selectedProduct);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic  void ChooseProduct(Product product) \r\n\t\t{\r\n\t\t\tselectedProduct = product;\r\n\t\t}\r\n\t}\r\n\t\r\nModel of `VendingMoney`:\r\n\r\n\tclass VendingMoney \r\n\t{\r\n\t\tList&lt;Coin&gt; coins = new List&lt;Coin&gt;();\r\n\r\n\t\tList&lt;Coin&gt; insertedCoins;\r\n\r\n\t\tpublic void Add() \r\n\t\t{\r\n\t\t\tif (insertedCoins != null)\r\n\t\t\t\tcoins.AddRange(insertedCoins);\r\n\t\t}\r\n\r\n\t\tpublic void Minus(List&lt;Coin&gt; coins) { }\r\n\r\n\t\tpublic void Insert(List&lt;Coin&gt; coins) \r\n\t\t{\r\n\t\t\tinsertedCoins = coins;\r\n\t\t}\r\n\r\n\t\tpublic List&lt;Coin&gt; Eject()\r\n\t\t{\r\n\t\t\tList&lt;Coin&gt; tempCoins = new List&lt;Coin&gt;(insertedCoins);\r\n\t\t\tinsertedCoins = null;\r\n\t\t\treturn tempCoins;\r\n\t\t}\r\n\t}\r\n\t\r\nAnd `VendingMachine`:\r\n\r\n\tpublic class VendingMachine\r\n\t{\r\n\t\tInventory inventory = new Inventory();\r\n\t\tVendingMoney vendingMoney = new VendingMoney();\r\n\r\n\t\tState _state;\r\n\r\n\t\tpublic void ReturnProductIntoInventory() \r\n\t\t{\r\n\t\t\tinventory.ReturnProduct();\r\n\t\t}\r\n\r\n\t\tpublic void AddProduct(Product product)\r\n\t\t{\r\n\t\t\tinventory.Add(product);\r\n\t\t}\r\n\r\n\t\t// Take money and then give a product\r\n\t\tpublic void AddCoins()\r\n\t\t{\r\n\t\t\tvendingMoney.Add();\r\n\t\t}\r\n\r\n\t\tpublic void ChooseProduct(Product product)\r\n\t\t{   \r\n\t\t\t_state.ChooseProduct(product);\r\n\t\t}\r\n\r\n\t\tpublic List&lt;Coin&gt; EjectCoins()\r\n\t\t{   \r\n\t\t\treturn _state.EjectCoins();\r\n\t\t}\r\n\r\n\t\t// Just put money to Vending machine without buying a product\r\n\t\tpublic void InsertCoins(List&lt;Coin&gt; coins)\r\n\t\t{\r\n\t\t\t_state.InsertCoins(coins);\r\n\t\t}\r\n\r\n\t\t// give a product, take money\r\n\t\tpublic void Dispense() \r\n\t\t{\r\n\t\t\t_state.Dispense();\r\n\t\t}\r\n\r\n\t\tpublic void SetState(State state)\r\n\t\t{ \r\n\t\t\t_state = state;\r\n\t\t}\r\n\t}\r\n\t\r\nAnd one othe implementations of `State`:\r\n\r\n\tpublic class HasCoinsState : State\r\n\t{\r\n\t\tVendingMachine _vendingMachine;\r\n\r\n\t\tpublic HasCoinsState(VendingMachine vendingMachine)\r\n\t\t{\r\n\t\t\t_vendingMachine = vendingMachine;\r\n\t\t}\r\n\r\n\t\tpublic void ChooseProduct(Product product)\r\n\t\t{\r\n\t\t\t_vendingMachine.ChooseProduct(product);\r\n\t\t}\r\n\r\n\t\tpublic void Dispense()\r\n\t\t{\r\n\t\t\t_vendingMachine.ReturnProductIntoInventory();\r\n\t\t\t_vendingMachine.AddCoins();\r\n\t\t}\r\n\r\n\t\tpublic List&lt;Coin&gt; EjectCoins()\r\n\t\t{\r\n\t\t\t_vendingMachine.ReturnProductIntoInventory();\r\n\t\t\treturn _vendingMachine.EjectCoins();\r\n\t\t}\r\n\r\n\t\tpublic void InsertCoins(List&lt;Coin&gt; coins)\r\n\t\t{\r\n\t\t\t_vendingMachine.InsertCoins(coins);\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: https://www.oreilly.com/library/view/head-first-design/9781492077992/","title":"How to implement state design pattern without violating Interface Segregation Principle (ISP)?","body":"<p>There is a super book about design patterns &quot;<a href=\"https://www.oreilly.com/library/view/head-first-design/9781492077992/\" rel=\"nofollow noreferrer\">Head First Design Patterns, 2nd Edition</a>&quot;. And this book has a chapter about &quot;State pattern&quot;. Its code has the following methods of State pattern:</p>\n<pre><code>public interface State \n{\n    void InsertQuarter();\n\n    void EjectQuarter();\n\n    void TurnCrank();\n\n    void Dispense();\n}\n</code></pre>\n<p>In my view, these list of methods should be enough for your requirements:</p>\n<pre><code>public interface State \n{\n    void InsertCoins(List&lt;Coin&gt; coins);\n\n    List&lt;Coin&gt; EjectCoins();\n\n    void ChooseProduct(Product product);\n\n    void Dispense();\n}\n</code></pre>\n<p>and other code will look like this. Let me show an example via C#. C# has almost the same API with Java and I have not used any special feature of C# which cannot be converted to Java.</p>\n<p>Model of <code>Coin</code>:</p>\n<pre><code>public class Coin \n{\n    public string Name { get; set; }\n\n    public string Count { get; set; }\n}   \n</code></pre>\n<p>Model of <code>Product</code>:</p>\n<pre><code>public class Product \n{\n    public int Code { get; set; }\n\n    public string Name { get; set; }\n\n    public string Count { get; set; }\n}\n</code></pre>\n<p>Model of <code>Inventory</code>:</p>\n<pre><code>public class Inventory\n{\n    List&lt;Product&gt; products = new List&lt;Product&gt;();\n    Product selectedProduct;\n\n    public void Add(Product product) { }\n\n    public void ReturnProduct() \n    {\n        if (selectedProduct != null)\n        {\n            products.Remove(selectedProduct);\n        }\n    }\n\n    public  void ChooseProduct(Product product) \n    {\n        selectedProduct = product;\n    }\n}\n</code></pre>\n<p>Model of <code>VendingMoney</code>:</p>\n<pre><code>class VendingMoney \n{\n    List&lt;Coin&gt; coins = new List&lt;Coin&gt;();\n\n    List&lt;Coin&gt; insertedCoins;\n\n    public void Add() \n    {\n        if (insertedCoins != null)\n            coins.AddRange(insertedCoins);\n    }\n\n    public void Minus(List&lt;Coin&gt; coins) { }\n\n    public void Insert(List&lt;Coin&gt; coins) \n    {\n        insertedCoins = coins;\n    }\n\n    public List&lt;Coin&gt; Eject()\n    {\n        List&lt;Coin&gt; tempCoins = new List&lt;Coin&gt;(insertedCoins);\n        insertedCoins = null;\n        return tempCoins;\n    }\n}\n</code></pre>\n<p>And <code>VendingMachine</code>:</p>\n<pre><code>public class VendingMachine\n{\n    Inventory inventory = new Inventory();\n    VendingMoney vendingMoney = new VendingMoney();\n\n    State _state;\n\n    public void ReturnProductIntoInventory() \n    {\n        inventory.ReturnProduct();\n    }\n\n    public void AddProduct(Product product)\n    {\n        inventory.Add(product);\n    }\n\n    // Take money and then give a product\n    public void AddCoins()\n    {\n        vendingMoney.Add();\n    }\n\n    public void ChooseProduct(Product product)\n    {   \n        _state.ChooseProduct(product);\n    }\n\n    public List&lt;Coin&gt; EjectCoins()\n    {   \n        return _state.EjectCoins();\n    }\n\n    // Just put money to Vending machine without buying a product\n    public void InsertCoins(List&lt;Coin&gt; coins)\n    {\n        _state.InsertCoins(coins);\n    }\n\n    // give a product, take money\n    public void Dispense() \n    {\n        _state.Dispense();\n    }\n\n    public void SetState(State state)\n    { \n        _state = state;\n    }\n}\n</code></pre>\n<p>And one othe implementations of <code>State</code>:</p>\n<pre><code>public class HasCoinsState : State\n{\n    VendingMachine _vendingMachine;\n\n    public HasCoinsState(VendingMachine vendingMachine)\n    {\n        _vendingMachine = vendingMachine;\n    }\n\n    public void ChooseProduct(Product product)\n    {\n        _vendingMachine.ChooseProduct(product);\n    }\n\n    public void Dispense()\n    {\n        _vendingMachine.ReturnProductIntoInventory();\n        _vendingMachine.AddCoins();\n    }\n\n    public List&lt;Coin&gt; EjectCoins()\n    {\n        _vendingMachine.ReturnProductIntoInventory();\n        return _vendingMachine.EjectCoins();\n    }\n\n    public void InsertCoins(List&lt;Coin&gt; coins)\n    {\n        _vendingMachine.InsertCoins(coins);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11060381,"reputation":55,"user_id":8121897,"display_name":"Samarth Mehrotra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73523894,"answer_count":2,"score":3,"last_activity_date":1661755375,"creation_date":1661717541,"question_id":73521931,"body_markdown":"I&#39;m trying to implement vending machine using state design pattern. The problem is that the state interface contain some methods which might not be relevant to some concrete implementations of the state interface. As a result it violates the interface segregation principle. So how can we implement it without violating it? How will the project structure and implementation of state context will look like?\r\n\r\nMy state interface :\r\n\r\n    public interface State {\r\n\r\n    public void clickOnInsertCoinButton(VendingMachine machine) throws Exception;\r\n\r\n    public void clickOnStartProductSelectionButton(VendingMachine machine) throws Exception;\r\n\r\n    public void insertCoin(VendingMachine machine , Coin coin) throws Exception;\r\n\r\n    public void chooseProduct(VendingMachine machine, int codeNumber) throws Exception;\r\n\r\n    public int getChange(int returnChangeMoney) throws Exception;\r\n\r\n    public Item dispenseProduct(VendingMachine machine, int codeNumber) throws Exception;\r\n\r\n    public List&lt;Coin&gt; refundFullMoney(VendingMachine machine) throws Exception;\r\n\r\n    public void updateInventory(VendingMachine machine, Item item, int codeNumber) throws Exception; }\r\n\r\nConcrete state implementations:\r\n\r\n    public class IdleState implements State {\r\n    \r\n        public IdleState(){\r\n            System.out.println(&quot;Currently Vending machine is in IdleState&quot;);\r\n        }\r\n    \r\n        public IdleState(VendingMachine machine){\r\n            System.out.println(&quot;Currently Vending machine is in IdleState&quot;);\r\n            machine.setCoinList(new ArrayList&lt;&gt;());\r\n        }\r\n    \r\n        @Override\r\n        public void clickOnInsertCoinButton(VendingMachine machine) throws Exception{\r\n            machine.setVendingMachineState(new HasMoneyState());\r\n        }\r\n    \r\n        @Override\r\n        public void clickOnStartProductSelectionButton(VendingMachine machine) throws Exception {\r\n            throw new Exception(&quot;first you need to click on insert coin button&quot;);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void insertCoin(VendingMachine machine, Coin coin) throws Exception{\r\n            throw new Exception(&quot;you can not insert Coin in idle state&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void chooseProduct(VendingMachine machine, int codeNumber) throws Exception{\r\n            throw new Exception(&quot;you can not choose Product in idle state&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public int getChange(int returnChangeMoney) throws Exception{\r\n            throw new Exception(&quot;you can not get change in idle state&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Coin&gt; refundFullMoney(VendingMachine machine) throws Exception{\r\n            throw new Exception(&quot;you can not get refunded in idle state&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public Item dispenseProduct(VendingMachine machine, int codeNumber) throws Exception{\r\n            throw new Exception(&quot;proeduct can not be dispensed idle state&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void updateInventory(VendingMachine machine, Item item, int codeNumber) throws Exception {\r\n            machine.getInventory().addItem(item, codeNumber);\r\n        }\r\n    }\r\n\r\n3 more concrete state implementations are there with some not all methods overridden.\r\n\r\nState Context:\r\n\r\n    public class VendingMachine {\r\n    \r\n        private State vendingMachineState;\r\n        private Inventory inventory;\r\n        private List&lt;Coin&gt; coinList;\r\n    \r\n        public VendingMachine(){\r\n            vendingMachineState = new IdleState();\r\n            inventory = new Inventory(10);\r\n            coinList = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        public State getVendingMachineState() {\r\n            return vendingMachineState;\r\n        }\r\n    \r\n        public void setVendingMachineState(State vendingMachineState) {\r\n            this.vendingMachineState = vendingMachineState;\r\n        }\r\n    \r\n        public Inventory getInventory() {\r\n            return inventory;\r\n        }\r\n    \r\n        public void setInventory(Inventory inventory) {\r\n            this.inventory = inventory;\r\n        }\r\n    \r\n        public List&lt;Coin&gt; getCoinList() {\r\n            return coinList;\r\n        }\r\n    \r\n        public void setCoinList(List&lt;Coin&gt; coinList) {\r\n            this.coinList = coinList;\r\n        }\r\n    }","title":"How to implement state design pattern without violating Interface Segregation Principle (ISP)?","body":"<p>I'm trying to implement vending machine using state design pattern. The problem is that the state interface contain some methods which might not be relevant to some concrete implementations of the state interface. As a result it violates the interface segregation principle. So how can we implement it without violating it? How will the project structure and implementation of state context will look like?</p>\n<p>My state interface :</p>\n<pre><code>public interface State {\n\npublic void clickOnInsertCoinButton(VendingMachine machine) throws Exception;\n\npublic void clickOnStartProductSelectionButton(VendingMachine machine) throws Exception;\n\npublic void insertCoin(VendingMachine machine , Coin coin) throws Exception;\n\npublic void chooseProduct(VendingMachine machine, int codeNumber) throws Exception;\n\npublic int getChange(int returnChangeMoney) throws Exception;\n\npublic Item dispenseProduct(VendingMachine machine, int codeNumber) throws Exception;\n\npublic List&lt;Coin&gt; refundFullMoney(VendingMachine machine) throws Exception;\n\npublic void updateInventory(VendingMachine machine, Item item, int codeNumber) throws Exception; }\n</code></pre>\n<p>Concrete state implementations:</p>\n<pre><code>public class IdleState implements State {\n\n    public IdleState(){\n        System.out.println(&quot;Currently Vending machine is in IdleState&quot;);\n    }\n\n    public IdleState(VendingMachine machine){\n        System.out.println(&quot;Currently Vending machine is in IdleState&quot;);\n        machine.setCoinList(new ArrayList&lt;&gt;());\n    }\n\n    @Override\n    public void clickOnInsertCoinButton(VendingMachine machine) throws Exception{\n        machine.setVendingMachineState(new HasMoneyState());\n    }\n\n    @Override\n    public void clickOnStartProductSelectionButton(VendingMachine machine) throws Exception {\n        throw new Exception(&quot;first you need to click on insert coin button&quot;);\n\n    }\n\n    @Override\n    public void insertCoin(VendingMachine machine, Coin coin) throws Exception{\n        throw new Exception(&quot;you can not insert Coin in idle state&quot;);\n    }\n\n    @Override\n    public void chooseProduct(VendingMachine machine, int codeNumber) throws Exception{\n        throw new Exception(&quot;you can not choose Product in idle state&quot;);\n    }\n\n    @Override\n    public int getChange(int returnChangeMoney) throws Exception{\n        throw new Exception(&quot;you can not get change in idle state&quot;);\n    }\n\n    @Override\n    public List&lt;Coin&gt; refundFullMoney(VendingMachine machine) throws Exception{\n        throw new Exception(&quot;you can not get refunded in idle state&quot;);\n    }\n\n    @Override\n    public Item dispenseProduct(VendingMachine machine, int codeNumber) throws Exception{\n        throw new Exception(&quot;proeduct can not be dispensed idle state&quot;);\n    }\n\n    @Override\n    public void updateInventory(VendingMachine machine, Item item, int codeNumber) throws Exception {\n        machine.getInventory().addItem(item, codeNumber);\n    }\n}\n</code></pre>\n<p>3 more concrete state implementations are there with some not all methods overridden.</p>\n<p>State Context:</p>\n<pre><code>public class VendingMachine {\n\n    private State vendingMachineState;\n    private Inventory inventory;\n    private List&lt;Coin&gt; coinList;\n\n    public VendingMachine(){\n        vendingMachineState = new IdleState();\n        inventory = new Inventory(10);\n        coinList = new ArrayList&lt;&gt;();\n    }\n\n    public State getVendingMachineState() {\n        return vendingMachineState;\n    }\n\n    public void setVendingMachineState(State vendingMachineState) {\n        this.vendingMachineState = vendingMachineState;\n    }\n\n    public Inventory getInventory() {\n        return inventory;\n    }\n\n    public void setInventory(Inventory inventory) {\n        this.inventory = inventory;\n    }\n\n    public List&lt;Coin&gt; getCoinList() {\n        return coinList;\n    }\n\n    public void setCoinList(List&lt;Coin&gt; coinList) {\n        this.coinList = coinList;\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","maven-2","maven"],"comments":[{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1299453091,"post_id":5214143,"comment_id":5864702,"body_markdown":"Are you not using Eclipse IDE for JEE developers?","body":"Are you not using Eclipse IDE for JEE developers?"}],"answers":[{"tags":[],"owner":{"account_id":215727,"reputation":6239,"user_id":470535,"accept_rate":100,"display_name":"Peter C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1299453081,"creation_date":1299453081,"answer_id":5214160,"question_id":5214143,"body_markdown":"`javax.servlet` is only available with Java Enterprise Edition. Either use it, or acquire the necessary JAR files (I got them with [Apache Tomcat][1]).\r\n\r\n\r\n  [1]: http://tomcat.apache.org/","title":"Why there is an error in import javax.servlet.*?","body":"<p><code>javax.servlet</code> is only available with Java Enterprise Edition. Either use it, or acquire the necessary JAR files (I got them with <a href=\"http://tomcat.apache.org/\" rel=\"nofollow\">Apache Tomcat</a>).</p>\n"},{"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1299453443,"creation_date":1299453081,"answer_id":5214161,"question_id":5214143,"body_markdown":"You need `servlet-api.jar`. Assuming you&#39;re using Eclipse, you&#39;d add the jar to your build path by right-clicking the project &amp;#x2192; _Properties &amp;#x2192; Java Build Path &amp;#x2192; Add External JARs..._\r\n\r\nIf you&#39;re using [Tomcat 5.5](http://tomcat.apache.org/tomcat-5.5-doc/class-loader-howto.html), the JAR is in `$CATALINA_HOME/common/lib`.\r\n\r\nIf you&#39;re using [Tomcat 6+](http://tomcat.apache.org/tomcat-6.0-doc/class-loader-howto.html), the JAR is in `$CATALINA_HOME/lib`.\r\n\r\nIf you&#39;re using [JBoss 5](https://stackoverflow.com/questions/731571/where-is-the-servlet-jar-file-on-jboss-5-0-1), the JAR is in` $JBOSS_HOME/common/lib`. ","title":"Why there is an error in import javax.servlet.*?","body":"<p>You need <code>servlet-api.jar</code>. Assuming you're using Eclipse, you'd add the jar to your build path by right-clicking the project &#x2192; <em>Properties &#x2192; Java Build Path &#x2192; Add External JARs...</em></p>\n\n<p>If you're using <a href=\"http://tomcat.apache.org/tomcat-5.5-doc/class-loader-howto.html\" rel=\"nofollow noreferrer\">Tomcat 5.5</a>, the JAR is in <code>$CATALINA_HOME/common/lib</code>.</p>\n\n<p>If you're using <a href=\"http://tomcat.apache.org/tomcat-6.0-doc/class-loader-howto.html\" rel=\"nofollow noreferrer\">Tomcat 6+</a>, the JAR is in <code>$CATALINA_HOME/lib</code>.</p>\n\n<p>If you're using <a href=\"https://stackoverflow.com/questions/731571/where-is-the-servlet-jar-file-on-jboss-5-0-1\">JBoss 5</a>, the JAR is in<code>$JBOSS_HOME/common/lib</code>. </p>\n"},{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401826790,"creation_date":1299453087,"answer_id":5214163,"question_id":5214143,"body_markdown":"Tomcat? You need the `servlet-api.jar` present inside `tomcat/lib`","title":"Why there is an error in import javax.servlet.*?","body":"<p>Tomcat? You need the <code>servlet-api.jar</code> present inside <code>tomcat/lib</code></p>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1367959805,"creation_date":1299453325,"answer_id":5214185,"question_id":5214143,"body_markdown":"`javax.servlet.*` is part of the Servlet API (which is part of the Java EE framework). Web Application Server/Web Containers wishing to use Servlets must implement the Servlet API.\r\n\r\nTomcat has `servlet-api.jar` which can be found under `TOMCAT_HOME/lib` (in Tomcat 6 and higher).\r\nFind one that&#39;s relevant to you based on the Web Application Server you&#39;re running.","title":"Why there is an error in import javax.servlet.*?","body":"<p><code>javax.servlet.*</code> is part of the Servlet API (which is part of the Java EE framework). Web Application Server/Web Containers wishing to use Servlets must implement the Servlet API.</p>\n\n<p>Tomcat has <code>servlet-api.jar</code> which can be found under <code>TOMCAT_HOME/lib</code> (in Tomcat 6 and higher).\nFind one that's relevant to you based on the Web Application Server you're running.</p>\n"},{"tags":[],"owner":{"account_id":41031,"reputation":37399,"user_id":119159,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1299453661,"creation_date":1299453661,"answer_id":5214214,"question_id":5214143,"body_markdown":"The servlet API is not a part of the JDK, you need to add an additional dependency to your `pom.xml`.\r\n\r\nIf this is for a webapp you can add this dependency with `provided` scope and the servlet container will make these classes available to your webapp at deployment time.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Why there is an error in import javax.servlet.*?","body":"<p>The servlet API is not a part of the JDK, you need to add an additional dependency to your <code>pom.xml</code>.</p>\n\n<p>If this is for a webapp you can add this dependency with <code>provided</code> scope and the servlet container will make these classes available to your webapp at deployment time.</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n  &lt;version&gt;2.5&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13078155,"reputation":41,"user_id":9449515,"display_name":"Kamala kanta das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661755312,"creation_date":1661318245,"answer_id":73467749,"question_id":5214143,"body_markdown":"If you are using Tomcat 10 with jdk 11 or later version\r\nif your tomcat server is running but you are getting error with `javax.servlet.HttpServlet` error.\r\nThen just modify javax to `jakarta.servlet.HttpServlet`.","title":"Why there is an error in import javax.servlet.*?","body":"<p>If you are using Tomcat 10 with jdk 11 or later version\nif your tomcat server is running but you are getting error with <code>javax.servlet.HttpServlet</code> error.\nThen just modify javax to <code>jakarta.servlet.HttpServlet</code>.</p>\n"}],"owner":{"account_id":232243,"reputation":83887,"user_id":496949,"accept_rate":86,"display_name":"user496949"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25947,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":5214214,"answer_count":6,"score":7,"last_activity_date":1661755312,"creation_date":1299452881,"question_id":5214143,"body_markdown":"I am using JavaSE6 and Eclipse, there is an error in the line \r\n\r\n    import javax.servlet.*\r\n\r\nIt seems there is no jar for this import.\r\n\r\nHow to fix it? Install anything, use Eclipse EE or add some dependency in Maven?","title":"Why there is an error in import javax.servlet.*?","body":"<p>I am using JavaSE6 and Eclipse, there is an error in the line </p>\n\n<pre><code>import javax.servlet.*\n</code></pre>\n\n<p>It seems there is no jar for this import.</p>\n\n<p>How to fix it? Install anything, use Eclipse EE or add some dependency in Maven?</p>\n"},{"tags":["java","eclipse","spring-tool-suite"],"comments":[{"owner":{"account_id":17815140,"reputation":111,"user_id":12938887,"display_name":"Nico"},"score":0,"creation_date":1661707193,"post_id":73520599,"comment_id":129830664,"body_markdown":"Hey there, please copy the content of the related files properly formatted in your question. And also include the **EXACT** error logs. [ask]","body":"Hey there, please copy the content of the related files properly formatted in your question. And also include the <b>EXACT</b> error logs. <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1661710156,"post_id":73520599,"comment_id":129831259,"body_markdown":"The screenshots show a pretty outdated Eclipse. Please make sure your software is up to date before asking.","body":"The screenshots show a pretty outdated Eclipse. Please make sure your software is up to date before asking."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1661722659,"post_id":73520599,"comment_id":129833577,"body_markdown":"Where does it say, &quot;Error in pom.xml file.&quot;? Does the Problems View show what the error is? As @Nico asked, do you have the log output from the build that you can show, when run with `-e`?","body":"Where does it say, &quot;Error in pom.xml file.&quot;? Does the Problems View show what the error is? As @Nico asked, do you have the log output from the build that you can show, when run with <code>-e</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661754686,"creation_date":1661754686,"answer_id":73524894,"question_id":73520599,"body_markdown":"I would suggest to look into the preferences for the installed JDKs/JREs for your workspace. You can find those settings via `Preferences -&gt; Java -&gt; Installed JREs`. There you can see which JREs are configured to be used by the IDE for your projects (in general).\r\n\r\nThen, please also take a look at the `Execution Environment` category below that preference node. There you can define which JRE should be used for which execution environment. Your project seem to require a `JavaSE-11` environment. When you select that environment from the list, you will see which installed JRE the IDE will use to fulfill that JavaSE-11 requirement of the project.\r\n\r\nI would also run a `Maven -&gt; Update Project---`, since the dependences that are marked in the pom.xml file seem to be just fine, so probably a broken download of those dependencies, but also hard to say without the exact errors being mentioned.","title":"Missing maven dependencies and compilation error in eclipse project, STS 4.15.3 windows version","body":"<p>I would suggest to look into the preferences for the installed JDKs/JREs for your workspace. You can find those settings via <code>Preferences -&gt; Java -&gt; Installed JREs</code>. There you can see which JREs are configured to be used by the IDE for your projects (in general).</p>\n<p>Then, please also take a look at the <code>Execution Environment</code> category below that preference node. There you can define which JRE should be used for which execution environment. Your project seem to require a <code>JavaSE-11</code> environment. When you select that environment from the list, you will see which installed JRE the IDE will use to fulfill that JavaSE-11 requirement of the project.</p>\n<p>I would also run a <code>Maven -&gt; Update Project---</code>, since the dependences that are marked in the pom.xml file seem to be just fine, so probably a broken download of those dependencies, but also hard to say without the exact errors being mentioned.</p>\n"}],"owner":{"account_id":26181504,"reputation":13,"user_id":19864826,"display_name":"rafalindo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":999,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73524894,"answer_count":1,"score":0,"last_activity_date":1661754686,"creation_date":1661706148,"question_id":73520599,"body_markdown":"I&#39;m going through this difficulty, I&#39;m new to using this technology. Before formatting the machine, this project was running perfectly, I backed up everything and formatted. Now that I try to import the project into the software I come across some errors.\r\n\r\nI performed the import through `Maven-&gt;existing maven projects`, the build runs, but returns the following errors:\r\n\r\n 1. Error in `pom.xml` file.\r\n 2. Some maven dependencies are missing.\r\n 3. Build path specifies JavaSE-11 execution environment. There are no\r\n    JREs installed in the workspace that are strictly compatible with\r\n    this environment.\r\n 4. The compiler compliance specified is 11 but a JRE 17 is used.\r\n\r\nPlease,look at the prints:\r\n[![POM file][1]][1]\r\n[![Error Log][2]][2]\r\n[![Properties][3]][3]\r\n[![Properties][4]][4]\r\n\r\nSince then I have been trying to resolve these issues, I have checked the versions of java, jre, jdk and the like. I managed to partially solve the jre problem but after some time I had conflicts again, but involving maven dependencies I didn&#39;t get any success.\r\n\r\nHonestly I don&#39;t understand the reason for the errors, I kept the same computer settings before formatting, that is, I installed the versions that were before.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DJqdR.png\r\n  [2]: https://i.stack.imgur.com/eWaqn.png\r\n  [3]: https://i.stack.imgur.com/Va79C.png\r\n  [4]: https://i.stack.imgur.com/gulfF.png","title":"Missing maven dependencies and compilation error in eclipse project, STS 4.15.3 windows version","body":"<p>I'm going through this difficulty, I'm new to using this technology. Before formatting the machine, this project was running perfectly, I backed up everything and formatted. Now that I try to import the project into the software I come across some errors.</p>\n<p>I performed the import through <code>Maven-&gt;existing maven projects</code>, the build runs, but returns the following errors:</p>\n<ol>\n<li>Error in <code>pom.xml</code> file.</li>\n<li>Some maven dependencies are missing.</li>\n<li>Build path specifies JavaSE-11 execution environment. There are no\nJREs installed in the workspace that are strictly compatible with\nthis environment.</li>\n<li>The compiler compliance specified is 11 but a JRE 17 is used.</li>\n</ol>\n<p>Please,look at the prints:\n<a href=\"https://i.stack.imgur.com/DJqdR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DJqdR.png\" alt=\"POM file\" /></a>\n<a href=\"https://i.stack.imgur.com/eWaqn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eWaqn.png\" alt=\"Error Log\" /></a>\n<a href=\"https://i.stack.imgur.com/Va79C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Va79C.png\" alt=\"Properties\" /></a>\n<a href=\"https://i.stack.imgur.com/gulfF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gulfF.png\" alt=\"Properties\" /></a></p>\n<p>Since then I have been trying to resolve these issues, I have checked the versions of java, jre, jdk and the like. I managed to partially solve the jre problem but after some time I had conflicts again, but involving maven dependencies I didn't get any success.</p>\n<p>Honestly I don't understand the reason for the errors, I kept the same computer settings before formatting, that is, I installed the versions that were before.</p>\n"},{"tags":["java","comparable"],"comments":[{"owner":{"account_id":12656925,"reputation":8478,"user_id":9199167,"display_name":"Max Vollmer"},"score":2,"creation_date":1531228064,"post_id":51265954,"comment_id":89510101,"body_markdown":"[`ObjectUtils`](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/ObjectUtils.html) has this.","body":"<a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/ObjectUtils.html\" rel=\"nofollow noreferrer\"><code>ObjectUtils</code></a> has this."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1531228083,"post_id":51265954,"comment_id":89510120,"body_markdown":"Guava has one, but recommends another (more verbose) alternative for Java 8: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Ordering.html#min-E-E-","body":"Guava has one, but recommends another (more verbose) alternative for Java 8: <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Ordering.html#min-E-E-\" rel=\"nofollow noreferrer\">google.github.io/guava/releases/snapshot/api/docs/com/google&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1531228426,"post_id":51265954,"comment_id":89510406,"body_markdown":"Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam.","body":"Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam."},{"owner":{"account_id":5502833,"reputation":8715,"user_id":4371659,"accept_rate":80,"display_name":"Tobias Liefke"},"score":0,"creation_date":1531230213,"post_id":51265954,"comment_id":89511742,"body_markdown":"I changed the question from &quot;Is there&quot; to &quot;How to&quot;, which will lead to the same answers but hopefully prevent such flags...","body":"I changed the question from &quot;Is there&quot; to &quot;How to&quot;, which will lead to the same answers but hopefully prevent such flags..."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1557213027,"creation_date":1531228134,"answer_id":51266145,"question_id":51265954,"body_markdown":"1. From `java.util.Collections`:  [***`Collections.max()`***](https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#max-java.util.Collection-) and [***`Collections.min()`***](https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#min-java.util.Collection-)\r\n\r\n        Comparable&lt;C&gt; a = ...;\r\n        Comparable&lt;C&gt; b = ...;\r\n        Comparable&lt;C&gt; min = Collections.min(Arrays.asList(a,b));\r\n\r\n-----\r\n\r\n2. From `org.apache.commons.lang3.ObjectUtils` : [***`ObjectUtils.max()`***](https://commons.apache.org/proper/commons-lang/javadocs/api-2.4/org/apache/commons/lang/ObjectUtils.html#max(java.lang.Comparable,%20java.lang.Comparable)) and [***`ObjectUtils.min()`***](https://commons.apache.org/proper/commons-lang/javadocs/api-2.4/org/apache/commons/lang/ObjectUtils.html#min(java.lang.Comparable,%20java.lang.Comparable))\r\n\r\n\r\n        Comparable&lt;C&gt; a = ...;\r\n        Comparable&lt;C&gt; b = ...;\r\n        Comparable&lt;C&gt; min = ObjectUtils.min(a, b);\r\n\r\nApache Commons has less overhead and is able to handle `null` values, but it is a third party library.","title":"Min / max function of two Comparables","body":"<ol>\n<li><p>From <code>java.util.Collections</code>:  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#max-java.util.Collection-\" rel=\"noreferrer\"><strong><em><code>Collections.max()</code></em></strong></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#min-java.util.Collection-\" rel=\"noreferrer\"><strong><em><code>Collections.min()</code></em></strong></a></p>\n\n<pre><code>Comparable&lt;C&gt; a = ...;\nComparable&lt;C&gt; b = ...;\nComparable&lt;C&gt; min = Collections.min(Arrays.asList(a,b));\n</code></pre></li>\n</ol>\n\n<hr>\n\n<ol start=\"2\">\n<li><p>From <code>org.apache.commons.lang3.ObjectUtils</code> : <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.4/org/apache/commons/lang/ObjectUtils.html#max(java.lang.Comparable,%20java.lang.Comparable)\" rel=\"noreferrer\"><strong><em><code>ObjectUtils.max()</code></em></strong></a> and <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.4/org/apache/commons/lang/ObjectUtils.html#min(java.lang.Comparable,%20java.lang.Comparable)\" rel=\"noreferrer\"><strong><em><code>ObjectUtils.min()</code></em></strong></a></p>\n\n<pre><code>Comparable&lt;C&gt; a = ...;\nComparable&lt;C&gt; b = ...;\nComparable&lt;C&gt; min = ObjectUtils.min(a, b);\n</code></pre></li>\n</ol>\n\n<p>Apache Commons has less overhead and is able to handle <code>null</code> values, but it is a third party library.</p>\n"},{"tags":[],"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1602535961,"creation_date":1531229989,"answer_id":51266806,"question_id":51265954,"body_markdown":"## 3&lt;sup&gt;rd&lt;/sup&gt; party solutions\r\n`Collections` has `max(collection)` and `min(collection)` methods, which kind of do what you want.\r\n\r\nBringing whole new library just to inline one simple op might be an overkill, unless you have **Apache Commons** or **Guava** in the mix. \r\n\r\n## Hand crafted\r\n\r\n    public &lt;T extends Comparable&lt;T&gt;&gt; T max(T a, T b) { \r\n        return a.compareTo(b) &gt;= 0 ? a : b; \r\n    }\r\n\r\n    public &lt;T extends Comparable&lt;T&gt;&gt; T min(T a, T b) { \r\n        return a.compareTo(b) &lt; 0 ? a : b; \r\n    }","title":"Min / max function of two Comparables","body":"<h2>3<sup>rd</sup> party solutions</h2>\n<p><code>Collections</code> has <code>max(collection)</code> and <code>min(collection)</code> methods, which kind of do what you want.</p>\n<p>Bringing whole new library just to inline one simple op might be an overkill, unless you have <strong>Apache Commons</strong> or <strong>Guava</strong> in the mix.</p>\n<h2>Hand crafted</h2>\n<pre><code>public &lt;T extends Comparable&lt;T&gt;&gt; T max(T a, T b) { \n    return a.compareTo(b) &gt;= 0 ? a : b; \n}\n\npublic &lt;T extends Comparable&lt;T&gt;&gt; T min(T a, T b) { \n    return a.compareTo(b) &lt; 0 ? a : b; \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5502833,"reputation":8715,"user_id":4371659,"accept_rate":80,"display_name":"Tobias Liefke"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1661754659,"creation_date":1557212631,"answer_id":56017224,"question_id":51265954,"body_markdown":"I have created my own helper class, which extends `Comparable` by `min`, `max`, `isLessThan`, `isLessOrEqualTo`, `isGreaterThan` and `isGreaterOrEqualTo`:\r\n\r\n    public interface Ordered&lt;T&gt; extends Comparable&lt;T&gt; {\r\n\r\n      static &lt;T extends Comparable&lt;? super T&gt;&gt; T min(T a, T b) {\r\n        return a.compareTo(b) &lt;= 0 ? a : b;\r\n      }\r\n\r\n      static &lt;T extends Comparable&lt;? super T&gt;&gt; T max(T a, T b) {\r\n        return a.compareTo(b) &gt;= 0 ? a : b;\r\n      }\r\n\r\n      default boolean isLessThan(T other) {\r\n        return compareTo(other) &lt; 0;\r\n      }\r\n\r\n      default boolean isLessOrEqualTo(T other) {\r\n        return compareTo(other) &lt;= 0;\r\n      }\r\n\r\n      default boolean isGreaterThan(T other) {\r\n        return compareTo(other) &gt; 0;\r\n      }\r\n\r\n      default boolean isGreaterOrEqualTo(T other) {\r\n        return compareTo(other) &gt;= 0;\r\n      }\r\n\r\n    }\r\n\r\nThe `min` and `max` methods I use for any Comparable:\r\n\r\n    String first = &quot;a&quot;;\r\n    String second = &quot;b&quot;;\r\n    System.out.println(Ordered.min(first, second)); // Prints &quot;a&quot;\r\n\r\nFor my own implementations of `Comparable` I extend `Ordered` and use that one for readable comparisons. Very helpful for enums:\r\n\r\n    public enum Board implements Ordered&lt;Board&gt; {\r\n      NONE,\r\n      BREAKFAST,\r\n      HALF_BOARD,\r\n      FULL_BOARD,\r\n      ALL_INCLUSIVE\r\n    }\r\n\r\nUsage:\r\n\r\n    Board requestedBoard = ...;\r\n    Board availableBoard = ...;\r\n    if (requestedBoard.isLessOrEqualTo(availableBoard)) {\r\n      ...\r\n    }\r\n","title":"Min / max function of two Comparables","body":"<p>I have created my own helper class, which extends <code>Comparable</code> by <code>min</code>, <code>max</code>, <code>isLessThan</code>, <code>isLessOrEqualTo</code>, <code>isGreaterThan</code> and <code>isGreaterOrEqualTo</code>:</p>\n<pre><code>public interface Ordered&lt;T&gt; extends Comparable&lt;T&gt; {\n\n  static &lt;T extends Comparable&lt;? super T&gt;&gt; T min(T a, T b) {\n    return a.compareTo(b) &lt;= 0 ? a : b;\n  }\n\n  static &lt;T extends Comparable&lt;? super T&gt;&gt; T max(T a, T b) {\n    return a.compareTo(b) &gt;= 0 ? a : b;\n  }\n\n  default boolean isLessThan(T other) {\n    return compareTo(other) &lt; 0;\n  }\n\n  default boolean isLessOrEqualTo(T other) {\n    return compareTo(other) &lt;= 0;\n  }\n\n  default boolean isGreaterThan(T other) {\n    return compareTo(other) &gt; 0;\n  }\n\n  default boolean isGreaterOrEqualTo(T other) {\n    return compareTo(other) &gt;= 0;\n  }\n\n}\n</code></pre>\n<p>The <code>min</code> and <code>max</code> methods I use for any Comparable:</p>\n<pre><code>String first = &quot;a&quot;;\nString second = &quot;b&quot;;\nSystem.out.println(Ordered.min(first, second)); // Prints &quot;a&quot;\n</code></pre>\n<p>For my own implementations of <code>Comparable</code> I extend <code>Ordered</code> and use that one for readable comparisons. Very helpful for enums:</p>\n<pre><code>public enum Board implements Ordered&lt;Board&gt; {\n  NONE,\n  BREAKFAST,\n  HALF_BOARD,\n  FULL_BOARD,\n  ALL_INCLUSIVE\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>Board requestedBoard = ...;\nBoard availableBoard = ...;\nif (requestedBoard.isLessOrEqualTo(availableBoard)) {\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1629144380,"creation_date":1629144380,"answer_id":68808658,"question_id":51265954,"body_markdown":"The Google [Guava](https://github.com/google/guava) library has the [`Comparators.min`](https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/Comparators.html#min(T,T)) and [`Comparators.max`](https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/Comparators.html#max(T,T)) methods as of version 30.0:\r\n\r\n```lang-java\r\nComparable&lt;C&gt; min = Comparators.min(a, b);\r\n```\r\n","title":"Min / max function of two Comparables","body":"<p>The Google <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> library has the <a href=\"https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/Comparators.html#min(T,T)\" rel=\"noreferrer\"><code>Comparators.min</code></a> and <a href=\"https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/Comparators.html#max(T,T)\" rel=\"noreferrer\"><code>Comparators.max</code></a> methods as of version 30.0:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Comparable&lt;C&gt; min = Comparators.min(a, b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":405939,"reputation":11839,"user_id":775138,"accept_rate":66,"display_name":"herman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630070546,"creation_date":1630070546,"answer_id":68954188,"question_id":51265954,"body_markdown":"Using `Stream`\r\n===\r\n\r\n```\r\nComparable&lt;C&gt; min = Stream.of(a, b).min(Comparable::compareTo).get();\r\n```\r\n\r\nNote that you will usually not call `get()` and assign, but use `ifPresent(min -&gt; ...)` instead.  But in this case you can trust the value to be present since the stream is not empty.","title":"Min / max function of two Comparables","body":"<h1>Using <code>Stream</code></h1>\n<pre><code>Comparable&lt;C&gt; min = Stream.of(a, b).min(Comparable::compareTo).get();\n</code></pre>\n<p>Note that you will usually not call <code>get()</code> and assign, but use <code>ifPresent(min -&gt; ...)</code> instead.  But in this case you can trust the value to be present since the stream is not empty.</p>\n"}],"owner":{"account_id":5502833,"reputation":8715,"user_id":4371659,"accept_rate":80,"display_name":"Tobias Liefke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11822,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":51266145,"answer_count":5,"score":30,"last_activity_date":1661754659,"creation_date":1531227639,"question_id":51265954,"body_markdown":"I need to find the smaller of two `Comparable` values:\r\n\r\n    Comparable&lt;C&gt; a = ...;\r\n    Comparable&lt;C&gt; b = ...;\r\n    Comparable&lt;C&gt; min = a.compareTo(b) &lt;= 0 ? a : b;\r\n\r\nThis is similar to `Math.min(a, b)`, but for `Comparable`. \r\n\r\nI know that the ternary operator is already quite short, but I can&#39;t inline the expressions for `a` and `b` and I think that `min(a, b)` and `max(a, b)` is easier to understand.\r\n\r\nI know that there are several functions that operate on `Stream` and `Collection` values, like:\r\n\r\n    Stream.of(a, b).min(Comparator.naturalOrder())\r\n\r\nThis would help to inline the expressions, but I still find it difficult to read and a bit too much overhead for such a small task.\r\n\r\nFor the moment I&#39;m using my own utility function, but I&#39;m interested to know if there&#39;s an existing function for this purpose.  How can one find the minimum of two `Comparable` values in a readable and library-independent manner without too much performance overhead?","title":"Min / max function of two Comparables","body":"<p>I need to find the smaller of two <code>Comparable</code> values:</p>\n<pre><code>Comparable&lt;C&gt; a = ...;\nComparable&lt;C&gt; b = ...;\nComparable&lt;C&gt; min = a.compareTo(b) &lt;= 0 ? a : b;\n</code></pre>\n<p>This is similar to <code>Math.min(a, b)</code>, but for <code>Comparable</code>.</p>\n<p>I know that the ternary operator is already quite short, but I can't inline the expressions for <code>a</code> and <code>b</code> and I think that <code>min(a, b)</code> and <code>max(a, b)</code> is easier to understand.</p>\n<p>I know that there are several functions that operate on <code>Stream</code> and <code>Collection</code> values, like:</p>\n<pre><code>Stream.of(a, b).min(Comparator.naturalOrder())\n</code></pre>\n<p>This would help to inline the expressions, but I still find it difficult to read and a bit too much overhead for such a small task.</p>\n<p>For the moment I'm using my own utility function, but I'm interested to know if there's an existing function for this purpose.  How can one find the minimum of two <code>Comparable</code> values in a readable and library-independent manner without too much performance overhead?</p>\n"},{"tags":["java","mysql","spring","hibernate","connection"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358578425,"creation_date":1358578425,"answer_id":14411921,"question_id":14411857,"body_markdown":"This can designate a connection to the db issue (maybe stale connection like described [Here][1]\r\n\r\nIn general since there is no much information here besides the exception itself, I would just place a breakpoint at the JDBCTransaction class and see why it fails.\r\n\r\nHope this helps\r\n\r\n\r\n  [1]: http://forum.springsource.org/archive/index.php/t-22390.html","title":"org.hibernate.TransactionException: JDBC begin failed i","body":"<p>This can designate a connection to the db issue (maybe stale connection like described <a href=\"http://forum.springsource.org/archive/index.php/t-22390.html\" rel=\"nofollow\">Here</a></p>\n\n<p>In general since there is no much information here besides the exception itself, I would just place a breakpoint at the JDBCTransaction class and see why it fails.</p>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":235460,"reputation":1496,"user_id":502286,"accept_rate":75,"display_name":"vtokmak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417513931,"creation_date":1417513931,"answer_id":27246389,"question_id":14411857,"body_markdown":"[Did you try this one?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19776095/first-login-http-status-500-request-processing-failed-nested-exception-is-or\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n        &lt;property name=&quot;driverClass&quot;&gt;&lt;value&gt;${jdbc.driverClassName}&lt;/value&gt;&lt;/property&gt; \r\n        &lt;property name=&quot;jdbcUrl&quot;&gt;&lt;value&gt;${jdbc.url}&lt;/value&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;user&quot;&gt;&lt;value&gt;${jdbc.username}&lt;/value&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;password&quot;&gt;&lt;value&gt;${jdbc.password}&lt;/value&gt;&lt;/property&gt;\r\n\t\t&lt;property name=&quot;validationQuery&quot; value=&quot;SELECT 1&quot;/&gt;\r\n \t   \t&lt;property name=&quot;testOnBorrow&quot; value=&quot;true&quot;/&gt;\r\n    &lt;/bean&gt;","title":"org.hibernate.TransactionException: JDBC begin failed i","body":"<p><a href=\"https://stackoverflow.com/questions/19776095/first-login-http-status-500-request-processing-failed-nested-exception-is-or\">Did you try this one?</a></p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"com.mchange.v2.c3p0.ComboPooledDataSource\" destroy-method=\"close\"&gt;\n    &lt;property name=\"driverClass\"&gt;&lt;value&gt;${jdbc.driverClassName}&lt;/value&gt;&lt;/property&gt; \n    &lt;property name=\"jdbcUrl\"&gt;&lt;value&gt;${jdbc.url}&lt;/value&gt;&lt;/property&gt;\n    &lt;property name=\"user\"&gt;&lt;value&gt;${jdbc.username}&lt;/value&gt;&lt;/property&gt;\n    &lt;property name=\"password\"&gt;&lt;value&gt;${jdbc.password}&lt;/value&gt;&lt;/property&gt;\n    &lt;property name=\"validationQuery\" value=\"SELECT 1\"/&gt;\n    &lt;property name=\"testOnBorrow\" value=\"true\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4210557,"reputation":81,"user_id":3448387,"display_name":"iosparkletree"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661754516,"creation_date":1661754516,"answer_id":73524871,"question_id":14411857,"body_markdown":"I was getting this error using the following configuration:\r\n\r\n    @PersistenceContext(type=PersistenceContextType.EXTENDED)  \r\n    @Autowired\r\n    private EntityManager entityManager;\r\n\r\nI didn&#39;t realize that PersistenceContextType.EXTENDED wasn&#39;t thread safe.  I believe the error must have been caused by multiple users accessing the application and the threads not being managed safely.  When I changed my configuration to the following, deleting the PersistenceContextType.EXTENDED part:  \r\n\r\n    @PersistenceContext\r\n    @Autowired\r\n    private EntityManager entityManager;\r\n\r\n... then the error stopped happening for me.","title":"org.hibernate.TransactionException: JDBC begin failed i","body":"<p>I was getting this error using the following configuration:</p>\n<pre><code>@PersistenceContext(type=PersistenceContextType.EXTENDED)  \n@Autowired\nprivate EntityManager entityManager;\n</code></pre>\n<p>I didn't realize that PersistenceContextType.EXTENDED wasn't thread safe.  I believe the error must have been caused by multiple users accessing the application and the threads not being managed safely.  When I changed my configuration to the following, deleting the PersistenceContextType.EXTENDED part:</p>\n<pre><code>@PersistenceContext\n@Autowired\nprivate EntityManager entityManager;\n</code></pre>\n<p>... then the error stopped happening for me.</p>\n"}],"owner":{"account_id":1695553,"reputation":804,"user_id":1556993,"accept_rate":46,"display_name":"abhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5415,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":3,"score":1,"last_activity_date":1661754516,"creation_date":1358577622,"question_id":14411857,"body_markdown":" iam using spring with hibernate  and  my sql . i am getting this exception \r\n\r\n      \r\n    at org.hibernate.transaction.JDBCTransaction.begin(JDBCTransaction.java:68)\r\n     at org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java:1290)\r\n     at sun.reflect.GeneratedMethodAccessor114.invoke(Unknown Source)\r\n     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n     at java.lang.reflect.Method.invoke(Method.java:597)\r\n     at org.hibernate.context.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:301)\r\n     at $Proxy3.beginTransaction(Unknown Source)\r\n     at com.iris.allofactor.data.dao.hibernate.HibernatePatientDao.getAllPatient(HibernatePatientDao.java:1419)\r\n     at com.iris.allofactor.data.dao.impl.PatientBODaoImpl.getAllPatient(PatientBODaoImpl.java:256)\r\n     at com.iris.allofactor.data.dao.facade.DaoFacadeImpl.getAllPatient(DaoFacadeImpl.java:2758)\r\n     at sun.reflect.GeneratedMethodAccessor1125.invoke(Unknown Source)\r\n     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n     at java.lang.reflect.Method.invoke(Method.java:597)\r\n     at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)\r\n     at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)\r\n     at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)\r\n     at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)\r\n     at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n     at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n     at $Proxy2.getAllPatient(Unknown Source)\r\n     at com.iris.allofactor.services.impl.AutoSyncServiceImpl.getAllPatient(AutoSyncServiceImpl.java:1561)\r\n     at com.iris.allofactor.services.soap.impl.AutoSyncWebServiceImpl.getAllPatient(AutoSyncWebServiceImpl.java:441)\r\n     at sun.reflect.GeneratedMethodAccessor1124.invoke(Unknown Source)\r\n     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n     at java.lang.reflect.Method.invoke(Method.java:597)\r\n     at org.apache.axis.providers.java.RPCProvider.invokeMethod(RPCProvider.java:397)\r\n     at org.apache.axis.providers.java.RPCProvider.processMessage(RPCProvider.java:186)\r\n     at org.apache.axis.providers.java.JavaProvider.invoke(JavaProvider.java:323)\r\n     at org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32)\r\n     at org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)\r\n     at org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)\r\n     at org.apache.axis.handlers.soap.SOAPService.invoke(SOAPService.java:453)\r\n     at org.apache.axis.server.AxisServer.invoke(AxisServer.java:281)\r\n     at org.apache.axis.transport.http.AxisServlet.doPost(AxisServlet.java:699)\r\n     at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\r\n     at org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327)\r\n     at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n     at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n     at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n     at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n     at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n     at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n     at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)\r\n     at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)\r\n     at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)\r\n     at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\r\n     at java.lang.Thread.run(Thread.java:619)\r\n\r\nthis is my c3p00l configaration\r\n\r\n     &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n      &lt;!--\t&lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n     \t &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot; &gt;  --&gt;\r\n    \t\t&lt;property name=&quot;driverClass&quot;&gt;&lt;value&gt;${jdbc.driverClassName}&lt;/value&gt;&lt;/property&gt; \r\n    \t\t&lt;property name=&quot;jdbcUrl&quot;&gt;&lt;value&gt;${jdbc.url}&lt;/value&gt;&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;user&quot;&gt;&lt;value&gt;${jdbc.username}&lt;/value&gt;&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;password&quot;&gt;&lt;value&gt;${jdbc.password}&lt;/value&gt;&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n\r\n\r\nhow can i resolve this issue ,is this issue have any thing  related to  c3pool .i am  using c3pool with default values,do i need to specify any c3pool properties\r\n","title":"org.hibernate.TransactionException: JDBC begin failed i","body":"<p>iam using spring with hibernate  and  my sql . i am getting this exception </p>\n\n<pre><code>at org.hibernate.transaction.JDBCTransaction.begin(JDBCTransaction.java:68)\n at org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java:1290)\n at sun.reflect.GeneratedMethodAccessor114.invoke(Unknown Source)\n at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n at java.lang.reflect.Method.invoke(Method.java:597)\n at org.hibernate.context.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:301)\n at $Proxy3.beginTransaction(Unknown Source)\n at com.iris.allofactor.data.dao.hibernate.HibernatePatientDao.getAllPatient(HibernatePatientDao.java:1419)\n at com.iris.allofactor.data.dao.impl.PatientBODaoImpl.getAllPatient(PatientBODaoImpl.java:256)\n at com.iris.allofactor.data.dao.facade.DaoFacadeImpl.getAllPatient(DaoFacadeImpl.java:2758)\n at sun.reflect.GeneratedMethodAccessor1125.invoke(Unknown Source)\n at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n at java.lang.reflect.Method.invoke(Method.java:597)\n at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)\n at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)\n at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)\n at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)\n at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n at $Proxy2.getAllPatient(Unknown Source)\n at com.iris.allofactor.services.impl.AutoSyncServiceImpl.getAllPatient(AutoSyncServiceImpl.java:1561)\n at com.iris.allofactor.services.soap.impl.AutoSyncWebServiceImpl.getAllPatient(AutoSyncWebServiceImpl.java:441)\n at sun.reflect.GeneratedMethodAccessor1124.invoke(Unknown Source)\n at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n at java.lang.reflect.Method.invoke(Method.java:597)\n at org.apache.axis.providers.java.RPCProvider.invokeMethod(RPCProvider.java:397)\n at org.apache.axis.providers.java.RPCProvider.processMessage(RPCProvider.java:186)\n at org.apache.axis.providers.java.JavaProvider.invoke(JavaProvider.java:323)\n at org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32)\n at org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)\n at org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)\n at org.apache.axis.handlers.soap.SOAPService.invoke(SOAPService.java:453)\n at org.apache.axis.server.AxisServer.invoke(AxisServer.java:281)\n at org.apache.axis.transport.http.AxisServlet.doPost(AxisServlet.java:699)\n at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\n at org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327)\n at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)\n at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)\n at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)\n at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\n at java.lang.Thread.run(Thread.java:619)\n</code></pre>\n\n<p>this is my c3p00l configaration</p>\n\n<pre><code> &lt;bean id=\"dataSource\" class=\"com.mchange.v2.c3p0.ComboPooledDataSource\" destroy-method=\"close\"&gt;\n  &lt;!--  &lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\" destroy-method=\"close\"&gt;\n     &lt;bean id=\"dataSource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\" &gt;  --&gt;\n        &lt;property name=\"driverClass\"&gt;&lt;value&gt;${jdbc.driverClassName}&lt;/value&gt;&lt;/property&gt; \n        &lt;property name=\"jdbcUrl\"&gt;&lt;value&gt;${jdbc.url}&lt;/value&gt;&lt;/property&gt;\n        &lt;property name=\"user\"&gt;&lt;value&gt;${jdbc.username}&lt;/value&gt;&lt;/property&gt;\n        &lt;property name=\"password\"&gt;&lt;value&gt;${jdbc.password}&lt;/value&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>how can i resolve this issue ,is this issue have any thing  related to  c3pool .i am  using c3pool with default values,do i need to specify any c3pool properties</p>\n"},{"tags":["java","type-conversion","bufferedimage","javax.imageio"],"answers":[{"tags":[],"owner":{"account_id":5392934,"reputation":1783,"user_id":4294905,"display_name":"overflowed"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1418470613,"creation_date":1418464197,"answer_id":27457551,"question_id":27457517,"body_markdown":"Create a new Buffered image with the type you want\r\n\r\n    BufferedImage in = ImageIO.read(img);\r\n    BufferedImage newImage = new BufferedImage(in.getWidth(), in.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n\r\n    Graphics2D g = newImage.createGraphics();\r\n    g.drawImage(in, 0, 0, in.getWidth(), in.getHeight(), null);\r\n    g.dispose();","title":"How to change the image type of a BufferedImage which is loaded from file?","body":"<p>Create a new Buffered image with the type you want</p>\n\n<pre><code>BufferedImage in = ImageIO.read(img);\nBufferedImage newImage = new BufferedImage(in.getWidth(), in.getHeight(), BufferedImage.TYPE_INT_ARGB);\n\nGraphics2D g = newImage.createGraphics();\ng.drawImage(in, 0, 0, in.getWidth(), in.getHeight(), null);\ng.dispose();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1743794,"reputation":5519,"user_id":1594449,"display_name":"gknicker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418466126,"creation_date":1418466126,"answer_id":27457787,"question_id":27457517,"body_markdown":"You&#39;re telling the JVM that `image.getRaster().getDataBuffer()` returns a DataBufferInt when it actually returns a DataBufferByte. That&#39;s a ClassCastException. You need to cast the return value to the correct type.\r\n\r\n    // Get the pixel array from the BufferedImage\r\n    this.pixels = ((DataBufferByte) image.getRaster().getDataBuffer()).getData();","title":"How to change the image type of a BufferedImage which is loaded from file?","body":"<p>You're telling the JVM that <code>image.getRaster().getDataBuffer()</code> returns a DataBufferInt when it actually returns a DataBufferByte. That's a ClassCastException. You need to cast the return value to the correct type.</p>\n\n<pre><code>// Get the pixel array from the BufferedImage\nthis.pixels = ((DataBufferByte) image.getRaster().getDataBuffer()).getData();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1661754504,"creation_date":1418470250,"answer_id":27458294,"question_id":27457517,"body_markdown":"A slightly (ok, I admit, quite a bit) more verbose, but in most cases faster and more memory efficient way of doing the same, is to load the image directly into a `TYPE_INT_ARGB` image. \r\n\r\nIf your images are large, you&#39;ll benefit quite a bit from doing it this way, over first loading into a `byte` type. If your images are small, it might not be worth the extra code complexity, as you&#39;ll hardly notice the difference.\r\n\r\nAnyway, you can do it like this:\r\n\r\n    // Create input stream\r\n    try (ImageInputStream input = ImageIO.createImageInputStream(file)) {\r\n        // Get the reader\r\n        Iterator&lt;ImageReader&gt; readers = ImageIO.getImageReaders(input);\r\n    \r\n        if (!readers.hasNext()) {\r\n            throw new IllegalArgumentException(&quot;No reader for: &quot; + file); // Or simply return null\r\n        }\r\n    \r\n        ImageReader reader = readers.next();\r\n    \r\n        try {\r\n            // Set input\r\n            reader.setInput(input);\r\n    \r\n            // Configure the param to use the destination type you want\r\n            ImageReadParam param = reader.getDefaultReadParam();\r\n            param.setDestinationType(ImageTypeSpecifier.createFromBufferedImageType(BufferedImage.TYPE_INT_ARGB));\r\n    \r\n            // Finally read the image, using settings from param\r\n            BufferedImage image = reader.read(0, param);\r\n        }\r\n        finally {\r\n            // Dispose reader in finally block to avoid memory leaks\r\n            reader.dispose();\r\n        }\r\n    }\r\n","title":"How to change the image type of a BufferedImage which is loaded from file?","body":"<p>A slightly (ok, I admit, quite a bit) more verbose, but in most cases faster and more memory efficient way of doing the same, is to load the image directly into a <code>TYPE_INT_ARGB</code> image.</p>\n<p>If your images are large, you'll benefit quite a bit from doing it this way, over first loading into a <code>byte</code> type. If your images are small, it might not be worth the extra code complexity, as you'll hardly notice the difference.</p>\n<p>Anyway, you can do it like this:</p>\n<pre><code>// Create input stream\ntry (ImageInputStream input = ImageIO.createImageInputStream(file)) {\n    // Get the reader\n    Iterator&lt;ImageReader&gt; readers = ImageIO.getImageReaders(input);\n\n    if (!readers.hasNext()) {\n        throw new IllegalArgumentException(&quot;No reader for: &quot; + file); // Or simply return null\n    }\n\n    ImageReader reader = readers.next();\n\n    try {\n        // Set input\n        reader.setInput(input);\n\n        // Configure the param to use the destination type you want\n        ImageReadParam param = reader.getDefaultReadParam();\n        param.setDestinationType(ImageTypeSpecifier.createFromBufferedImageType(BufferedImage.TYPE_INT_ARGB));\n\n        // Finally read the image, using settings from param\n        BufferedImage image = reader.read(0, param);\n    }\n    finally {\n        // Dispose reader in finally block to avoid memory leaks\n        reader.dispose();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5214978,"reputation":3032,"user_id":4170242,"accept_rate":95,"display_name":"Daniel Kvist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6638,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":27457551,"answer_count":3,"score":2,"last_activity_date":1661754504,"creation_date":1418463933,"question_id":27457517,"body_markdown":"\r\n\r\nI&#39;m trying to access the pixels in a `BufferedImage` which is loaded from a file using `ImageIO.read(filePath)`, but I get **this error**:\r\n\r\n    Exception in thread &quot;Game&quot; java.lang.ClassCastException: java.awt.image.DataBufferByte cannot be cast to java.awt.image.DataBufferInt\r\n    \tat com.package.graphics.Texture.&lt;init&gt;(Texture.java:29)\r\n    \tat com.package.graphics.Texture.loadTexture(Texture.java:40)\r\n    \tat com.package.Game.run(Game.java:71)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n\r\n\r\nIn the code, the line which the error is on, is in the constructor and looks like this:\r\n\r\n\t// Get the pixel array from the BufferedImage\r\n\tthis.pixels = ((DataBufferInt) image.getRaster().getDataBuffer()).getData();\r\n\r\n\r\nAs I understand this, the BufferedImage isn&#39;t of the type `BufferedImage.TYPE_INT_RGB` or `BufferedImage.TYPE_INT_ARGB`. Because I use these types in the rest of my game, I wonder if there is a way to &#39;convert&#39; the loaded image from the type it was loaded as, to another.  \r\nIn my case, I want to convert the image type to `BufferedImage.TYPE_INT_ARGB`.\r\n\r\n","title":"How to change the image type of a BufferedImage which is loaded from file?","body":"<p>I'm trying to access the pixels in a <code>BufferedImage</code> which is loaded from a file using <code>ImageIO.read(filePath)</code>, but I get <strong>this error</strong>:</p>\n\n<pre><code>Exception in thread \"Game\" java.lang.ClassCastException: java.awt.image.DataBufferByte cannot be cast to java.awt.image.DataBufferInt\n    at com.package.graphics.Texture.&lt;init&gt;(Texture.java:29)\n    at com.package.graphics.Texture.loadTexture(Texture.java:40)\n    at com.package.Game.run(Game.java:71)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>In the code, the line which the error is on, is in the constructor and looks like this:</p>\n\n<pre><code>// Get the pixel array from the BufferedImage\nthis.pixels = ((DataBufferInt) image.getRaster().getDataBuffer()).getData();\n</code></pre>\n\n<p>As I understand this, the BufferedImage isn't of the type <code>BufferedImage.TYPE_INT_RGB</code> or <code>BufferedImage.TYPE_INT_ARGB</code>. Because I use these types in the rest of my game, I wonder if there is a way to 'convert' the loaded image from the type it was loaded as, to another.<br>\nIn my case, I want to convert the image type to <code>BufferedImage.TYPE_INT_ARGB</code>.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":2698527,"reputation":2274,"user_id":2622079,"accept_rate":57,"display_name":"fan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585760271,"creation_date":1585760271,"answer_id":60976290,"question_id":51477942,"body_markdown":"You most probably have an old version of SpringDataJap. \r\n\r\nI don&#39;t know with which version it was introduced, but for version 1.11 it doesn&#39;t work, for version 2.22 it does.","title":"Using Spring Data audit annotations with na @Embeddable class","body":"<p>You most probably have an old version of SpringDataJap. </p>\n\n<p>I don't know with which version it was introduced, but for version 1.11 it doesn't work, for version 2.22 it does.</p>\n"},{"tags":[],"owner":{"account_id":1184146,"reputation":71,"user_id":1158454,"display_name":"Pavlo Kolesnykov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661754377,"creation_date":1661754377,"answer_id":73524849,"question_id":51477942,"body_markdown":"Well I just faced with the same problem using the latest at the moment spring-data-jpa version 2.7.2. And the problem was solved just by initializing audit field at the declaration point. So the working solution would look like this:\r\n\r\n    @Embedded\r\n    private AuditFields audit = new AuditFields();\r\n\r\nEverything else described in the initial post seems ok and is working for me.","title":"Using Spring Data audit annotations with na @Embeddable class","body":"<p>Well I just faced with the same problem using the latest at the moment spring-data-jpa version 2.7.2. And the problem was solved just by initializing audit field at the declaration point. So the working solution would look like this:</p>\n<pre><code>@Embedded\nprivate AuditFields audit = new AuditFields();\n</code></pre>\n<p>Everything else described in the initial post seems ok and is working for me.</p>\n"}],"owner":{"account_id":2377535,"reputation":111,"user_id":2080472,"display_name":"user2080472"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1192,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1661754377,"creation_date":1532346106,"question_id":51477942,"body_markdown":"I want to use Spring Data automated entity auditing (Spring provides: @EnableJpaAuditing, AuditingEntityListener, @CreatedBy, @CreatedDate, @LastModifiedBy, @LastModifiedDate) **and** have the fields annotated by these annotations be a part of an @Embeddable class that I can use as a field in entities that I want to have audited. Here&#39;s an example - I&#39;m only showing the relevant code, it compiles and runs:\r\n\r\nEntity:\r\n\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class EntityA {\r\n\r\n        {...}\r\n\r\n        @Embedded\r\n        private AuditFields audit;\r\n    }\r\n\r\nEmbeddable class with audit fields:\r\n\r\n    @Embeddable\r\n    public class AuditFields {\r\n\r\n        {...}     \r\n    \r\n        @Column(...)\r\n        @CreatedDate\r\n        private LocalDateTime createdDate;\r\n    }\r\n\r\nI have @EnableJpaAuditing on a configuration class, auditing **is on**, I have verified that the AuditingEntityListener is being called for all classes annotated with @EntityListeners(AuditingEntityListener.class).\r\n\r\nI **do not** want to use a @MappedSuperclass for the audit fields and then extend it in every entity, because for me this completely violates the idea of what class inheritance represents.\r\n\r\nI **do not** want to create my own interface that the entities implement, which would expose the audit fields to a some custom entity listener (if that were the case, I could even use the Spring&#39;s Auditable interface and achieve the same result, since AuditingEntityListener would then easily pick this up). Using this solution makes the four field annotations pointless because I manually expose the fields for Spring to use. \r\n\r\nLooking at how it&#39;s implemented in Spring, the AuditingHandler scans each entity that&#39;s picked up by the AuditingEntityListener for either it implementing Auditable or, through some fancy wrapping etc., for fields annotated by the four audit fields&#39; annotations. It&#39;s not looking at embedded objects and their fields.\r\n\r\nAnnotating the @Embeddable class itself with the @EntityListeners annotation does nothing - predictably, it&#39;s not registered as an entity, so why would any entity listener be called for it. \r\n\r\nIs my idea of using the Spring&#39;s audit functionality even possible? Maybe I&#39;m missing some way of configuring Spring to also take into account embedded objects in an entity when scanning it for the audit annotations?\r\n\r\nOr am I stuck with just using my own interface and my own entity listener? Spring&#39;s Auditable interface exposes a lot of methods I don&#39;t need for my simple use case where I can just get and set the embedded object. I&#39;d fall back on creating my own interface and listener.","title":"Using Spring Data audit annotations with na @Embeddable class","body":"<p>I want to use Spring Data automated entity auditing (Spring provides: @EnableJpaAuditing, AuditingEntityListener, @CreatedBy, @CreatedDate, @LastModifiedBy, @LastModifiedDate) <strong>and</strong> have the fields annotated by these annotations be a part of an @Embeddable class that I can use as a field in entities that I want to have audited. Here's an example - I'm only showing the relevant code, it compiles and runs:</p>\n\n<p>Entity:</p>\n\n<pre><code>@EntityListeners(AuditingEntityListener.class)\npublic class EntityA {\n\n    {...}\n\n    @Embedded\n    private AuditFields audit;\n}\n</code></pre>\n\n<p>Embeddable class with audit fields:</p>\n\n<pre><code>@Embeddable\npublic class AuditFields {\n\n    {...}     \n\n    @Column(...)\n    @CreatedDate\n    private LocalDateTime createdDate;\n}\n</code></pre>\n\n<p>I have @EnableJpaAuditing on a configuration class, auditing <strong>is on</strong>, I have verified that the AuditingEntityListener is being called for all classes annotated with @EntityListeners(AuditingEntityListener.class).</p>\n\n<p>I <strong>do not</strong> want to use a @MappedSuperclass for the audit fields and then extend it in every entity, because for me this completely violates the idea of what class inheritance represents.</p>\n\n<p>I <strong>do not</strong> want to create my own interface that the entities implement, which would expose the audit fields to a some custom entity listener (if that were the case, I could even use the Spring's Auditable interface and achieve the same result, since AuditingEntityListener would then easily pick this up). Using this solution makes the four field annotations pointless because I manually expose the fields for Spring to use. </p>\n\n<p>Looking at how it's implemented in Spring, the AuditingHandler scans each entity that's picked up by the AuditingEntityListener for either it implementing Auditable or, through some fancy wrapping etc., for fields annotated by the four audit fields' annotations. It's not looking at embedded objects and their fields.</p>\n\n<p>Annotating the @Embeddable class itself with the @EntityListeners annotation does nothing - predictably, it's not registered as an entity, so why would any entity listener be called for it. </p>\n\n<p>Is my idea of using the Spring's audit functionality even possible? Maybe I'm missing some way of configuring Spring to also take into account embedded objects in an entity when scanning it for the audit annotations?</p>\n\n<p>Or am I stuck with just using my own interface and my own entity listener? Spring's Auditable interface exposes a lot of methods I don't need for my simple use case where I can just get and set the embedded object. I'd fall back on creating my own interface and listener.</p>\n"},{"tags":["java","spring","junit","cucumber"],"answers":[{"tags":[],"owner":{"account_id":1315495,"reputation":17293,"user_id":1262477,"accept_rate":74,"display_name":"Patan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661753884,"creation_date":1661753884,"answer_id":73524780,"question_id":73512099,"body_markdown":"I am able to made work with this\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &quot;${gradleSpringBootPluginVersion}&quot;\r\n    }\r\n    \r\n    dependencies {\r\n        implementation project(&#39;:catalog-common&#39;)\r\n        implementation project(&#39;:catalog-model&#39;)\r\n        implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.springframework.cloud:spring-cloud-starter-openfeign&#39;\r\n        implementation group: &#39;org.springdoc&#39;, name: &#39;springdoc-openapi-ui&#39;, version: &quot;${openApiDocsVersion}&quot;\r\n    \r\n    \r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        testImplementation(&quot;io.rest-assured:rest-assured:4.4.0&quot;)\r\n        testImplementation(&quot;io.cucumber:cucumber-java:7.6.0&quot;)\r\n        testImplementation(&quot;io.cucumber:cucumber-spring:7.6.0&quot;)\r\n        testImplementation(&quot;io.cucumber:cucumber-junit-platform-engine:7.6.0&quot;)\r\n        testImplementation group: &#39;org.junit.platform&#39;, name: &#39;junit-platform-console&#39;, version: &#39;1.9.0&#39;\r\n        testImplementation group: &#39;org.junit.platform&#39;, name: &#39;junit-platform-suite-api&#39;, version: &#39;1.9.0&#39;\r\n    }\r\n\r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n\r\nClass\r\n\r\n    @Suite\r\n    @IncludeEngines(&quot;cucumber&quot;)\r\n    @SelectClasspathResource(&quot;features&quot;)\r\n    @ConfigurationParameters({\r\n        @ConfigurationParameter(key = PLUGIN_PROPERTY_NAME,\r\n            value = &quot;json:build/cucumber/cucumber.json&quot;),\r\n        @ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;com.abc.catalog.bdd&quot;),\r\n        @ConfigurationParameter(key = FILTER_TAGS_PROPERTY_NAME, value = &quot;not @Disabled&quot;),\r\n        @ConfigurationParameter(key = PLUGIN_PUBLISH_QUIET_PROPERTY_NAME, value = &quot;true&quot;),\r\n        @ConfigurationParameter(key = JUNIT_PLATFORM_NAMING_STRATEGY_PROPERTY_NAME, value = &quot;long&quot;)\r\n    })\r\n    public class CatalogBddFeatures {\r\n    \r\n    }\r\n    \r\n    @CucumberContextConfiguration\r\n    @SpringBootTest(classes = CatalogApplication.class, webEnvironment = WebEnvironment.DEFINED_PORT)\r\n    @AutoConfigureMockMvc\r\n    @TestPropertySource(&quot;classpath:test-application.properties&quot;)\r\n    public class SpringGlue {\r\n    \r\n    }\r\n\r\n\r\nAnd placed features under `src/test/resources/features`\r\n\r\n\r\n\r\n\r\n","title":"No Cucumber Tests found cucumber + Spring boot+ Junit 5 + Gradle","body":"<p>I am able to made work with this</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version &quot;${gradleSpringBootPluginVersion}&quot;\n}\n\ndependencies {\n    implementation project(':catalog-common')\n    implementation project(':catalog-model')\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.cloud:spring-cloud-starter-openfeign'\n    implementation group: 'org.springdoc', name: 'springdoc-openapi-ui', version: &quot;${openApiDocsVersion}&quot;\n\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation(&quot;io.rest-assured:rest-assured:4.4.0&quot;)\n    testImplementation(&quot;io.cucumber:cucumber-java:7.6.0&quot;)\n    testImplementation(&quot;io.cucumber:cucumber-spring:7.6.0&quot;)\n    testImplementation(&quot;io.cucumber:cucumber-junit-platform-engine:7.6.0&quot;)\n    testImplementation group: 'org.junit.platform', name: 'junit-platform-console', version: '1.9.0'\n    testImplementation group: 'org.junit.platform', name: 'junit-platform-suite-api', version: '1.9.0'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>Class</p>\n<pre><code>@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;features&quot;)\n@ConfigurationParameters({\n    @ConfigurationParameter(key = PLUGIN_PROPERTY_NAME,\n        value = &quot;json:build/cucumber/cucumber.json&quot;),\n    @ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;com.abc.catalog.bdd&quot;),\n    @ConfigurationParameter(key = FILTER_TAGS_PROPERTY_NAME, value = &quot;not @Disabled&quot;),\n    @ConfigurationParameter(key = PLUGIN_PUBLISH_QUIET_PROPERTY_NAME, value = &quot;true&quot;),\n    @ConfigurationParameter(key = JUNIT_PLATFORM_NAMING_STRATEGY_PROPERTY_NAME, value = &quot;long&quot;)\n})\npublic class CatalogBddFeatures {\n\n}\n\n@CucumberContextConfiguration\n@SpringBootTest(classes = CatalogApplication.class, webEnvironment = WebEnvironment.DEFINED_PORT)\n@AutoConfigureMockMvc\n@TestPropertySource(&quot;classpath:test-application.properties&quot;)\npublic class SpringGlue {\n\n}\n</code></pre>\n<p>And placed features under <code>src/test/resources/features</code></p>\n"}],"owner":{"account_id":1315495,"reputation":17293,"user_id":1262477,"accept_rate":74,"display_name":"Patan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":868,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73524780,"answer_count":1,"score":0,"last_activity_date":1661753884,"creation_date":1661612726,"question_id":73512099,"body_markdown":"I am trying to write integration tests using cucumber + Spring boot + Junit5\r\n\r\nI have these dependencies and my gradle file is this\r\n\r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.springframework.cloud:spring-cloud-starter-openfeign&#39;\r\n    \r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        testImplementation(&quot;io.rest-assured:rest-assured:4.4.0&quot;)\r\n        testImplementation(&quot;io.cucumber:cucumber-java:6.10.4&quot;)\r\n        testImplementation(&quot;io.cucumber:cucumber-spring:6.10.4&quot;)\r\n        testImplementation(&quot;io.cucumber:cucumber-junit-platform-engine:6.10.4&quot;)\r\n        testRuntimeOnly(&quot;org.junit.platform:junit-platform-console&quot;)\r\n        // https://mvnrepository.com/artifact/org.junit.platform/junit-platform-suite-api\r\n        testImplementation group: &#39;org.junit.platform&#39;, name: &#39;junit-platform-suite-api&#39;, version: &#39;1.9.0&#39;\r\n    }\r\n    \r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nAnd I have two classes\r\n\r\nRunner class\r\n\r\n    package com.abc.catalog;\r\n    \r\n    import org.junit.platform.suite.api.ConfigurationParameter;\r\n    import org.junit.platform.suite.api.IncludeEngines;\r\n    import org.junit.platform.suite.api.SelectClasspathResource;\r\n    import org.junit.platform.suite.api.Suite;\r\n    \r\n    import static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\r\n    \r\n    @Suite\r\n    @IncludeEngines(&quot;cucumber&quot;)\r\n    @SelectClasspathResource(&quot;com/abc/catalog&quot;)\r\n    @ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;com.abc.catalog&quot;)\r\n    public class CucumberRunnerTests {\r\n    }\r\n\r\nTest Class\r\n\r\n    package com.abc.catalog;\r\n    \r\n    \r\n    import static io.restassured.RestAssured.given;\r\n    import static org.hamcrest.core.IsEqual.equalTo;\r\n    import static org.hamcrest.core.IsIterableContaining.hasItem;\r\n    import static org.hamcrest.core.StringContains.containsString;\r\n    \r\n    import io.cucumber.java.en.Given;\r\n    import io.cucumber.java.en.Then;\r\n    import io.cucumber.spring.CucumberContextConfiguration;\r\n    import io.restassured.RestAssured;\r\n    import io.restassured.http.ContentType;\r\n    import io.restassured.response.ValidatableResponse;\r\n    import io.restassured.specification.RequestSpecification;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.boot.test.web.server.LocalServerPort;\r\n    \r\n    \r\n    @CucumberContextConfiguration\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public class SpringbootCucumberTestDefinitions {\r\n    \r\n      private final static String BASE_URI = &quot;http://localhost&quot;;\r\n    \r\n      @LocalServerPort\r\n      private int port;\r\n    \r\n      private ValidatableResponse validatableResponse;\r\n    \r\n      private void configureRestAssured() {\r\n        RestAssured.baseURI = BASE_URI;\r\n        RestAssured.port = port;\r\n      }\r\n    \r\n      protected RequestSpecification requestSpecification() {\r\n        configureRestAssured();\r\n        return given();\r\n      }\r\n    \r\n      @Given(&quot;I send a request to the URL {string} to get user details&quot;)\r\n      public void iSendARequest(String endpoint) throws Throwable {\r\n        validatableResponse = requestSpecification().contentType(ContentType.JSON)\r\n            .when().get(endpoint).then();\r\n        System.out.println(&quot;RESPONSE :&quot;+validatableResponse.extract().asString());\r\n      }\r\n    \r\n      @Then(&quot;the response will return status {int} and id {int} and names {string} and passport_no {string}&quot;)\r\n      public void extractResponse(int status, int id, String studentName,String passportNo) {\r\n        validatableResponse.assertThat().statusCode(equalTo(status))\r\n            .body(&quot;id&quot;,hasItem(id)).body(containsString(studentName))\r\n            .body(containsString(passportNo));\r\n    \r\n      }\r\n    \r\n    }\r\n\r\nThe features are present at `src/test/resuorces/com/abc/catalog`\r\n\r\nWhen I ran the tests CucumberRunnerTests, its not detecting the tests\r\n\r\n    &gt; No tests found for given includes: [com.abc.catalog.CucumberRunnerTests](--tests filter)\r\n\r\n\r\nCan some one help me to fix this\r\n\r\n\r\n","title":"No Cucumber Tests found cucumber + Spring boot+ Junit 5 + Gradle","body":"<p>I am trying to write integration tests using cucumber + Spring boot + Junit5</p>\n<p>I have these dependencies and my gradle file is this</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.cloud:spring-cloud-starter-openfeign'\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation(&quot;io.rest-assured:rest-assured:4.4.0&quot;)\n    testImplementation(&quot;io.cucumber:cucumber-java:6.10.4&quot;)\n    testImplementation(&quot;io.cucumber:cucumber-spring:6.10.4&quot;)\n    testImplementation(&quot;io.cucumber:cucumber-junit-platform-engine:6.10.4&quot;)\n    testRuntimeOnly(&quot;org.junit.platform:junit-platform-console&quot;)\n    // https://mvnrepository.com/artifact/org.junit.platform/junit-platform-suite-api\n    testImplementation group: 'org.junit.platform', name: 'junit-platform-suite-api', version: '1.9.0'\n}\n\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>And I have two classes</p>\n<p>Runner class</p>\n<pre><code>package com.abc.catalog;\n\nimport org.junit.platform.suite.api.ConfigurationParameter;\nimport org.junit.platform.suite.api.IncludeEngines;\nimport org.junit.platform.suite.api.SelectClasspathResource;\nimport org.junit.platform.suite.api.Suite;\n\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\n\n@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;com/abc/catalog&quot;)\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;com.abc.catalog&quot;)\npublic class CucumberRunnerTests {\n}\n</code></pre>\n<p>Test Class</p>\n<pre><code>package com.abc.catalog;\n\n\nimport static io.restassured.RestAssured.given;\nimport static org.hamcrest.core.IsEqual.equalTo;\nimport static org.hamcrest.core.IsIterableContaining.hasItem;\nimport static org.hamcrest.core.StringContains.containsString;\n\nimport io.cucumber.java.en.Given;\nimport io.cucumber.java.en.Then;\nimport io.cucumber.spring.CucumberContextConfiguration;\nimport io.restassured.RestAssured;\nimport io.restassured.http.ContentType;\nimport io.restassured.response.ValidatableResponse;\nimport io.restassured.specification.RequestSpecification;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.web.server.LocalServerPort;\n\n\n@CucumberContextConfiguration\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class SpringbootCucumberTestDefinitions {\n\n  private final static String BASE_URI = &quot;http://localhost&quot;;\n\n  @LocalServerPort\n  private int port;\n\n  private ValidatableResponse validatableResponse;\n\n  private void configureRestAssured() {\n    RestAssured.baseURI = BASE_URI;\n    RestAssured.port = port;\n  }\n\n  protected RequestSpecification requestSpecification() {\n    configureRestAssured();\n    return given();\n  }\n\n  @Given(&quot;I send a request to the URL {string} to get user details&quot;)\n  public void iSendARequest(String endpoint) throws Throwable {\n    validatableResponse = requestSpecification().contentType(ContentType.JSON)\n        .when().get(endpoint).then();\n    System.out.println(&quot;RESPONSE :&quot;+validatableResponse.extract().asString());\n  }\n\n  @Then(&quot;the response will return status {int} and id {int} and names {string} and passport_no {string}&quot;)\n  public void extractResponse(int status, int id, String studentName,String passportNo) {\n    validatableResponse.assertThat().statusCode(equalTo(status))\n        .body(&quot;id&quot;,hasItem(id)).body(containsString(studentName))\n        .body(containsString(passportNo));\n\n  }\n\n}\n</code></pre>\n<p>The features are present at <code>src/test/resuorces/com/abc/catalog</code></p>\n<p>When I ran the tests CucumberRunnerTests, its not detecting the tests</p>\n<pre><code>&gt; No tests found for given includes: [com.abc.catalog.CucumberRunnerTests](--tests filter)\n</code></pre>\n<p>Can some one help me to fix this</p>\n"},{"tags":["java","selenium","ui-automation","selenide"],"answers":[{"tags":[],"owner":{"account_id":19740414,"reputation":33,"user_id":14453903,"display_name":"vazonas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661753710,"creation_date":1661753710,"answer_id":73524751,"question_id":73474740,"body_markdown":"locating button with shadowCss Selenide: \r\n\r\n    @And(&quot;click installed products&quot;)\r\n    public void clickInstalledProducts() {\r\n        $(shadowCss(&quot;button[data-index=&#39;2&#39;]&quot;, &quot;company-tab&quot;)).click();\r\n            System.out.println(&quot;Managed to click&quot;);\r\n    &quot;);\r\n\r\nSadly by text we were not able to find solution, but we managed to catch element with button tag.","title":"Unable to click on shadow root element using Selenide","body":"<p>locating button with shadowCss Selenide:</p>\n<pre><code>@And(&quot;click installed products&quot;)\npublic void clickInstalledProducts() {\n    $(shadowCss(&quot;button[data-index='2']&quot;, &quot;company-tab&quot;)).click();\n        System.out.println(&quot;Managed to click&quot;);\n&quot;);\n</code></pre>\n<p>Sadly by text we were not able to find solution, but we managed to catch element with button tag.</p>\n"}],"owner":{"account_id":19740414,"reputation":33,"user_id":14453903,"display_name":"vazonas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73524751,"answer_count":1,"score":1,"last_activity_date":1661753710,"creation_date":1661350537,"question_id":73474740,"body_markdown":"I&#39;ve imported Selenide shadowCss selector into my project and now trying to click on the element that is under shadow-root. Sadly no luck but I&#39;ve managed to do it with javascript but how to do it properly with Selenide?   \r\n\r\n    import static com.codeborne.selenide.Selectors.shadowCss;\r\n\r\nTrying to click on &quot;Installed products&quot; \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n       &lt;div size=&quot;1&quot; class=&quot;sc-4444444 blckX&quot;&gt;\r\n        &lt;company-tab variant=&quot;light&quot; class=&quot;hydrated&quot;&gt;\r\n         #shadow-root (open)\r\n          &lt;div class=&quot;company-tab company-tab--light&quot;&gt;\r\n            &lt;company-vst class=&quot;hydrated&quot;&gt;&lt;/company-vst&gt;\r\n              &lt;div class=&quot;company-tab__container&quot;&gt;\r\n               &lt;div class=&quot;company-tab__wrapper&quot;&gt;\r\n                &lt;div class=&quot;company-tab__list&quot; role=&quot;tablist&quot;&gt;\r\n                 &lt;div class=&quot;company-tab__list&quot; role=&quot;tablist&quot;&gt;\r\n        \t  &lt;ul class=&quot;company-tab__list__container&quot; role=&quot;presenation&quot;&gt;\r\n        \t   &lt;li role=&quot;presentation&quot; class=&quot;company-tab__header company-tab__header--active&quot;&gt;\r\n        \t   &lt;li role=&quot;presentation&quot; class=&quot;company-tab__header&quot;&gt;\r\n        \t   &lt;li role=&quot;presentation&quot; class=&quot;company-tab__header&quot;&gt;\r\n        \t    &lt;company-tab-header data-index=&quot;2&quot; is-key-press class=&quot;hydrated&quot;&gt;\r\n        \t     &lt;!----&gt;\r\n        \t\t&lt;button class=&quot;company-tab-header company-tab-header--light&quot; role=&quot;tab&quot; tabindex=&quot;-1&quot; data-index&quot;2&quot;&gt;\r\n        \t\t &lt;span class=&quot;company-tab-header__content&quot;&gt;\r\n        \t\t  &lt;company-icon class=&quot;company-tab-header__icon company-icon company-icon--md hydrated&quot;&gt;...&lt;/company-icon&gt;\r\n        \t\t  &lt;span&gt;\r\n        \t\t   &lt;span class=&quot;company-tab-header__visible-title&quot;&gt;Installed products&lt;/span&gt;\r\n        \t\t   &lt;span class=&quot;company-tab-header__hidden-title&quot; aria-hidden&gt;Installed products&lt;/span&gt;\r\n        \t\t  &lt;/span&gt;\r\n        \t\t  ::after\r\n        \t\t &lt;/button&gt;\r\n                     .........\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nJS that managed to capture &quot;Installed products&quot;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    document.querySelector(&#39;#__next &gt; div &gt; main &gt; div &gt; div &gt; div:nth-child(2) &gt; div.sc-50b84693-2.ebYhch &gt; div &gt; div &gt; div.sc-50b84693-1.dUDDAN &gt; div &gt; company-tab&#39;).shadowRoot.querySelector(&#39;ul:nth-child(1) &gt;li:nth-child(3) &gt; company-tab-header &gt;button &gt; span &gt;span&gt;span.company-tab-header__hidden-title&#39;)\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nexamples of shadowCss use: https://github.com/selenide/selenide/blob/master/src/test/java/integration/ShadowElementTest.java\r\n\r\nUsing 5.20 Selenide version. Upgrade is not possible in this case.","title":"Unable to click on shadow root element using Selenide","body":"<p>I've imported Selenide shadowCss selector into my project and now trying to click on the element that is under shadow-root. Sadly no luck but I've managed to do it with javascript but how to do it properly with Selenide?</p>\n<pre><code>import static com.codeborne.selenide.Selectors.shadowCss;\n</code></pre>\n<p>Trying to click on &quot;Installed products&quot;</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>   &lt;div size=\"1\" class=\"sc-4444444 blckX\"&gt;\n    &lt;company-tab variant=\"light\" class=\"hydrated\"&gt;\n     #shadow-root (open)\n      &lt;div class=\"company-tab company-tab--light\"&gt;\n        &lt;company-vst class=\"hydrated\"&gt;&lt;/company-vst&gt;\n          &lt;div class=\"company-tab__container\"&gt;\n           &lt;div class=\"company-tab__wrapper\"&gt;\n            &lt;div class=\"company-tab__list\" role=\"tablist\"&gt;\n             &lt;div class=\"company-tab__list\" role=\"tablist\"&gt;\n          &lt;ul class=\"company-tab__list__container\" role=\"presenation\"&gt;\n           &lt;li role=\"presentation\" class=\"company-tab__header company-tab__header--active\"&gt;\n           &lt;li role=\"presentation\" class=\"company-tab__header\"&gt;\n           &lt;li role=\"presentation\" class=\"company-tab__header\"&gt;\n            &lt;company-tab-header data-index=\"2\" is-key-press class=\"hydrated\"&gt;\n             &lt;!----&gt;\n            &lt;button class=\"company-tab-header company-tab-header--light\" role=\"tab\" tabindex=\"-1\" data-index\"2\"&gt;\n             &lt;span class=\"company-tab-header__content\"&gt;\n              &lt;company-icon class=\"company-tab-header__icon company-icon company-icon--md hydrated\"&gt;...&lt;/company-icon&gt;\n              &lt;span&gt;\n               &lt;span class=\"company-tab-header__visible-title\"&gt;Installed products&lt;/span&gt;\n               &lt;span class=\"company-tab-header__hidden-title\" aria-hidden&gt;Installed products&lt;/span&gt;\n              &lt;/span&gt;\n              ::after\n             &lt;/button&gt;\n                 .........</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>JS that managed to capture &quot;Installed products&quot;</p>\n<pre class=\"lang-js prettyprint-override\"><code>document.querySelector('#__next &gt; div &gt; main &gt; div &gt; div &gt; div:nth-child(2) &gt; div.sc-50b84693-2.ebYhch &gt; div &gt; div &gt; div.sc-50b84693-1.dUDDAN &gt; div &gt; company-tab').shadowRoot.querySelector('ul:nth-child(1) &gt;li:nth-child(3) &gt; company-tab-header &gt;button &gt; span &gt;span&gt;span.company-tab-header__hidden-title')\n</code></pre>\n\n<p>examples of shadowCss use: <a href=\"https://github.com/selenide/selenide/blob/master/src/test/java/integration/ShadowElementTest.java\" rel=\"nofollow noreferrer\">https://github.com/selenide/selenide/blob/master/src/test/java/integration/ShadowElementTest.java</a></p>\n<p>Using 5.20 Selenide version. Upgrade is not possible in this case.</p>\n"},{"tags":["java","json","gson"],"answers":[{"tags":[],"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584532141,"creation_date":1347407436,"answer_id":12379459,"question_id":12379405,"body_markdown":"According to the [API reference][1], `JsonNull` derives from `JsonElement` and *not* `JsonObject`, so I don&#39;t see how that cast could ever be valid.  \r\n\r\nAnd have you considered using [json-simple][2] instead of gson?  As a general rule I find it much more convenient to work with than other json frameworks, although of course it doesn&#39;t have a lot of the extra features that gson offers.  But if all you&#39;re doing with gson is parsing json, it might be worth switching to the simpler library.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/com.google.code.gson/gson/2.6.2/com/google/gson/JsonNull.html\r\n  [2]: https://github.com/fangyidong/json-simple","title":"Can&#39;t cast JsonNull to JsonObject","body":"<p>According to the <a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/2.6.2/com/google/gson/JsonNull.html\" rel=\"nofollow noreferrer\">API reference</a>, <code>JsonNull</code> derives from <code>JsonElement</code> and <em>not</em> <code>JsonObject</code>, so I don't see how that cast could ever be valid.  </p>\n\n<p>And have you considered using <a href=\"https://github.com/fangyidong/json-simple\" rel=\"nofollow noreferrer\">json-simple</a> instead of gson?  As a general rule I find it much more convenient to work with than other json frameworks, although of course it doesn't have a lot of the extra features that gson offers.  But if all you're doing with gson is parsing json, it might be worth switching to the simpler library.</p>\n"},{"tags":[],"owner":{"account_id":1782099,"reputation":843,"user_id":1624551,"display_name":"Pao"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1661753692,"creation_date":1347407870,"answer_id":12379518,"question_id":12379405,"body_markdown":"According to the [docs](http://google-gson.googlecode.com/svn/trunk/gson/docs/javadocs/com/google/gson/JsonNull.html)`JsonNull` is a `JsonElement` but not a `JsonObject` (which is itself a `JsonElement`). Using\r\n\r\n    JsonElement element = source.get(propertyName);\r\n    if (!(element instanceof JsonNull)) {\r\n        JsonObject propertyToBeCopied = (JsonObject) element;\r\n    }\r\n\r\nwould return a `JsonElement` that is cast to `JsonObject` if it is not of the type `JsonNull`.","title":"Can&#39;t cast JsonNull to JsonObject","body":"<p>According to the <a href=\"http://google-gson.googlecode.com/svn/trunk/gson/docs/javadocs/com/google/gson/JsonNull.html\" rel=\"nofollow noreferrer\">docs</a><code>JsonNull</code> is a <code>JsonElement</code> but not a <code>JsonObject</code> (which is itself a <code>JsonElement</code>). Using</p>\n<pre><code>JsonElement element = source.get(propertyName);\nif (!(element instanceof JsonNull)) {\n    JsonObject propertyToBeCopied = (JsonObject) element;\n}\n</code></pre>\n<p>would return a <code>JsonElement</code> that is cast to <code>JsonObject</code> if it is not of the type <code>JsonNull</code>.</p>\n"},{"tags":[],"owner":{"account_id":2529035,"reputation":301,"user_id":2819181,"display_name":"Debmalya Jash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469505153,"creation_date":1469505153,"answer_id":38580745,"question_id":12379405,"body_markdown":"    JsonElement element = source.get(propertyName);\r\n    if (!(element.isJsonNull())) {\r\n        JsonObject propertyToBeCopied = (JsonObject) element;\r\n    }\r\n\r\n\r\nWhich one will have better performance **isJsonNull** or using **instanceOf** operator ?","title":"Can&#39;t cast JsonNull to JsonObject","body":"<pre><code>JsonElement element = source.get(propertyName);\nif (!(element.isJsonNull())) {\n    JsonObject propertyToBeCopied = (JsonObject) element;\n}\n</code></pre>\n\n<p>Which one will have better performance <strong>isJsonNull</strong> or using <strong>instanceOf</strong> operator ?</p>\n"},{"tags":[],"owner":{"account_id":7304266,"reputation":561,"user_id":5565746,"display_name":"Vineela Thonupunuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573678687,"creation_date":1573678687,"answer_id":58845504,"question_id":12379405,"body_markdown":"\r\nIf output do not have a Response array then there is a chance why this error is thrown.\r\n```\r\nJsonObject playListObject = (JsonObject) parser.parse(output);\r\n\r\nJsonArray playListInformationArray = playListObject.getAsJsonArray(&quot;Response&quot;);\r\n```","title":"Can&#39;t cast JsonNull to JsonObject","body":"<p>If output do not have a Response array then there is a chance why this error is thrown.</p>\n\n<pre><code>JsonObject playListObject = (JsonObject) parser.parse(output);\n\nJsonArray playListInformationArray = playListObject.getAsJsonArray(\"Response\");\n</code></pre>\n"}],"owner":{"account_id":1356445,"reputation":1037,"user_id":1294742,"accept_rate":86,"display_name":"gosua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18145,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":12379518,"answer_count":4,"score":11,"last_activity_date":1661753692,"creation_date":1347406977,"question_id":12379405,"body_markdown":"I want to copy one primitve property from one JsonObject to another\r\n\r\n`JsonObject propertyToBeCopied = source.getAsJsonObject(propertyName);`\r\n\r\nbut I always run into this exception:\r\n\r\n`com.google.gson.JsonNull cannot be cast to com.google.gson.JsonObject`\r\n\r\nAccording to the documentation it should be possible to do the cast, or am I wrong?\r\n\r\n\r\n","title":"Can&#39;t cast JsonNull to JsonObject","body":"<p>I want to copy one primitve property from one JsonObject to another</p>\n\n<p><code>JsonObject propertyToBeCopied = source.getAsJsonObject(propertyName);</code></p>\n\n<p>but I always run into this exception:</p>\n\n<p><code>com.google.gson.JsonNull cannot be cast to com.google.gson.JsonObject</code></p>\n\n<p>According to the documentation it should be possible to do the cast, or am I wrong?</p>\n"},{"tags":["java","swagger","dto"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1661755466,"post_id":73524654,"comment_id":129838183,"body_markdown":"I wouldn&#39;t go by swagger. You may export a DTO from you current project into YAML, then when you regenerate the code may not be exactly the same (members may not be final, if there was a custom toString you&#39;d lose it etc.). If your old project is dead, simply copy/paste the files into the new project. If the DTO is really common between the two projects, then create a data module containing only the DTO and make both projects depend on it (that is the cleanest way to go IMO)","body":"I wouldn&#39;t go by swagger. You may export a DTO from you current project into YAML, then when you regenerate the code may not be exactly the same (members may not be final, if there was a custom toString you&#39;d lose it etc.). If your old project is dead, simply copy/paste the files into the new project. If the DTO is really common between the two projects, then create a data module containing only the DTO and make both projects depend on it (that is the cleanest way to go IMO)"}],"answers":[{"tags":[],"owner":{"account_id":22341068,"reputation":692,"user_id":16560836,"display_name":"yezper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661753669,"creation_date":1661753669,"answer_id":73524746,"question_id":73524654,"body_markdown":"Maybe check out [swagger.generator.io][1] where you can generate a whole client library (including DTO classes) for your specified swagger definition file. For documentation please refer to their [github page][2]. You can also do the generation of the API client locally utizing the [swagger codegen tools][3].\r\n\r\n\r\n  [1]: https://generator.swagger.io/\r\n  [2]: https://github.com/swagger-api/swagger-codegen#online-generators\r\n  [3]: https://swagger.io/tools/swagger-codegen/","title":"Is it possible to: Java DTO --&gt; Swagger --&gt; Java DTO?","body":"<p>Maybe check out <a href=\"https://generator.swagger.io/\" rel=\"nofollow noreferrer\">swagger.generator.io</a> where you can generate a whole client library (including DTO classes) for your specified swagger definition file. For documentation please refer to their <a href=\"https://github.com/swagger-api/swagger-codegen#online-generators\" rel=\"nofollow noreferrer\">github page</a>. You can also do the generation of the API client locally utizing the <a href=\"https://swagger.io/tools/swagger-codegen/\" rel=\"nofollow noreferrer\">swagger codegen tools</a>.</p>\n"}],"owner":{"account_id":26185475,"reputation":23,"user_id":19868074,"display_name":"Itai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73524746,"answer_count":1,"score":0,"last_activity_date":1661753669,"creation_date":1661752879,"question_id":73524654,"body_markdown":"In a very big Java app with lot&#39;s of DTOs, I want to export to an external project only the DTOs that are relevant to REST calls, and even better to export a part of them (the minimum required for REST calls).\r\n\r\nThe project uses Swagger and I am wondering if it is possible to take the output of Swagger (uses Java DTOs to create JSON\\YAML files), which have the **exact** content I need, as an input to generate new Java DTO files. The generated files will be only those needed for REST and I will be able to easily export them.\r\n\r\nIs this possible?\r\nIf not, what is the best approach to do that?","title":"Is it possible to: Java DTO --&gt; Swagger --&gt; Java DTO?","body":"<p>In a very big Java app with lot's of DTOs, I want to export to an external project only the DTOs that are relevant to REST calls, and even better to export a part of them (the minimum required for REST calls).</p>\n<p>The project uses Swagger and I am wondering if it is possible to take the output of Swagger (uses Java DTOs to create JSON\\YAML files), which have the <strong>exact</strong> content I need, as an input to generate new Java DTO files. The generated files will be only those needed for REST and I will be able to easily export them.</p>\n<p>Is this possible?\nIf not, what is the best approach to do that?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1661752308,"post_id":73524572,"comment_id":129837353,"body_markdown":"Read about the `Object.toString()` method. `getClass().getName() + &#39;@&#39; + Integer.toHexString(hashCode())\n `","body":"Read about the <code>Object.toString()</code> method. <code>getClass().getName() + &#39;@&#39; + Integer.toHexString(hashCode())  </code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1661752474,"post_id":73524572,"comment_id":129837386,"body_markdown":"Intellij shows the result of `toString()`. If the Proxy class does not override it, it calls the `Object.toString()` method","body":"Intellij shows the result of <code>toString()</code>. If the Proxy class does not override it, it calls the <code>Object.toString()</code> method"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1661753072,"post_id":73524572,"comment_id":129837521,"body_markdown":"probably the ID for that instance, a sequential number,  and not, as commented above, the result of `toString()` - it is definitively NOT the hash code - as we can see, the numbers are sequential in posted image (@Jens)","body":"probably the ID for that instance, a sequential number,  and not, as commented above, the result of <code>toString()</code> - it is definitively NOT the hash code - as we can see, the numbers are sequential in posted image (@Jens)"},{"owner":{"account_id":4641623,"reputation":8831,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"score":0,"creation_date":1661753160,"post_id":73524572,"comment_id":129837550,"body_markdown":"@user16320675 nice observation about the sequential numbers. Wish this was documented somewhere. ...","body":"@user16320675 nice observation about the sequential numbers. Wish this was documented somewhere. ..."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1661753243,"post_id":73524572,"comment_id":129837569,"body_markdown":"I do not use IDEA, but in Eclipse we have same behavior (I *suspect* that *ID* is related to the Java Debug Interface or similar)","body":"I do not use IDEA, but in Eclipse we have same behavior (I <i>suspect</i> that <i>ID</i> is related to the Java Debug Interface or similar)"},{"owner":{"account_id":4641623,"reputation":8831,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"score":0,"creation_date":1661753371,"post_id":73524572,"comment_id":129837611,"body_markdown":"@user16320675 and I see no documentation about this :( -https://www.jetbrains.com/help/rider/Inspecting_Variables.html","body":"@user16320675 and I see no documentation about this :( -<a href=\"https://www.jetbrains.com/help/rider/Inspecting_Variables.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/rider/Inspecting_Variables.html</a>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1661753372,"post_id":73524572,"comment_id":129837612,"body_markdown":"@user16320675 in what way sequential? if those are single digit numbers, they are not, since 8 shouldn&#39;t be before 7. If they aren&#39;t single digit numbers, there&#39;s no way of telling whether or not they are sequential or not, since there is no indication of what the separate numbers are","body":"@user16320675 in what way sequential? if those are single digit numbers, they are not, since 8 shouldn&#39;t be before 7. If they aren&#39;t single digit numbers, there&#39;s no way of telling whether or not they are sequential or not, since there is no indication of what the separate numbers are"},{"owner":{"account_id":4641623,"reputation":8831,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"score":0,"creation_date":1661753433,"post_id":73524572,"comment_id":129837630,"body_markdown":"@Stultuske Sorry not exactly sequential but the fact that these numbers are so close together definitely rules out hashcode","body":"@Stultuske Sorry not exactly sequential but the fact that these numbers are so close together definitely rules out hashcode"},{"owner":{"account_id":4641623,"reputation":8831,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"score":0,"creation_date":1661753596,"post_id":73524572,"comment_id":129837680,"body_markdown":"@user16320675 thanks for the remark. I do remember something similar in Eclipse now","body":"@user16320675 thanks for the remark. I do remember something similar in Eclipse now"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1661773547,"post_id":73524572,"comment_id":129843727,"body_markdown":"just did some test with JDI (Java Debug Interface) - the given ID most probably comes from [`ObjectReference.uniqueID()`](https://docs.oracle.com/en/java/javase/18/docs/api/jdk.jdi/com/sun/jdi/ObjectReference.html#uniqueID()) - I did not check documentation or source code of IDEA (lunch time is restricted) but I get similar, almost same IDs as the debugger - these numbers are guaranteed to be unique for each instance, which is not the case of hash code! (Even if they are not sequential - they behave very much as if they were)","body":"just did some test with JDI (Java Debug Interface) - the given ID most probably comes from <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/jdk.jdi/com/sun/jdi/ObjectReference.html#uniqueID()\" rel=\"nofollow noreferrer\"><code>ObjectReference.uniqueID()</code></a> - I did not check documentation or source code of IDEA (lunch time is restricted) but I get similar, almost same IDs as the debugger - these numbers are guaranteed to be unique for each instance, which is not the case of hash code! (Even if they are not sequential - they behave very much as if they were)"}],"answers":[{"tags":[],"owner":{"account_id":26131398,"reputation":26,"user_id":19822059,"display_name":"maximelonguepe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661753302,"creation_date":1661753302,"answer_id":73524706,"question_id":73524572,"body_markdown":"This is the id of your object if you want to improve it you can make a custom to string methode","title":"What does the @ mean in intellij variable view?","body":"<p>This is the id of your object if you want to improve it you can make a custom to string methode</p>\n"}],"owner":{"account_id":4641623,"reputation":8831,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73524706,"answer_count":1,"score":-1,"last_activity_date":1661753302,"creation_date":1661752192,"question_id":73524572,"body_markdown":"This is a screenshot of what I see in my Intellij IDE\r\n\r\nIn this screenshot, what does the number that comes after @ represent? For example in the highlighted line - 13879\r\n\r\nI&#39;m guessing the memory location/address?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DS3DN.png","title":"What does the @ mean in intellij variable view?","body":"<p>This is a screenshot of what I see in my Intellij IDE</p>\n<p>In this screenshot, what does the number that comes after @ represent? For example in the highlighted line - 13879</p>\n<p>I'm guessing the memory location/address?</p>\n<p><a href=\"https://i.stack.imgur.com/DS3DN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DS3DN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"score":0,"creation_date":1661520686,"post_id":73499657,"comment_id":129798377,"body_markdown":"can you provide the code","body":"can you provide the code"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661528415,"post_id":73499657,"comment_id":129801251,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":18458433,"reputation":141,"user_id":13446568,"display_name":"Pritesh Parmar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661753126,"creation_date":1661510188,"answer_id":73499696,"question_id":73499657,"body_markdown":"You&#39;re referring to the Android platform&#39;s internal annotations, which aren&#39;t the ones you want to use for your own code. For your code, you should import the AndroidX versions of those annotations:\r\n\r\n\r\n[androidx.annotation.NonNull][1]\r\n\r\n\r\n[androidx.annotation.Nullable][2]\r\n\r\netc. (note the extra x in androidx vs android)\r\n\r\nYou&#39;ll also want to make sure you have declared a dependency on androidx.annotation:annotation in your build.gradle (see here for the latest version information)\r\n\r\nimport that annotation class:\r\n\r\n    import androidx.annotation.NonNull;\r\n\r\nwhich is either coming from this dependency:\r\n\r\n    implementation &quot;androidx.annotation:annotation:1.0.0&quot;\r\n\r\nor from this dependency, in case not yet using android:\r\n\r\n    implementation &quot;com.android.support:support-annotations:28.0.0&quot;\r\n\r\nthen you can use it as usual:\r\n\r\n     @NonNull\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/annotation/NonNull\r\n  [2]: https://developer.android.com/reference/androidx/annotation/Nullable","title":"NonNull in android studio error Android Studio","body":"<p>You're referring to the Android platform's internal annotations, which aren't the ones you want to use for your own code. For your code, you should import the AndroidX versions of those annotations:</p>\n<p><a href=\"https://developer.android.com/reference/androidx/annotation/NonNull\" rel=\"nofollow noreferrer\">androidx.annotation.NonNull</a></p>\n<p><a href=\"https://developer.android.com/reference/androidx/annotation/Nullable\" rel=\"nofollow noreferrer\">androidx.annotation.Nullable</a></p>\n<p>etc. (note the extra x in androidx vs android)</p>\n<p>You'll also want to make sure you have declared a dependency on androidx.annotation:annotation in your build.gradle (see here for the latest version information)</p>\n<p>import that annotation class:</p>\n<pre><code>import androidx.annotation.NonNull;\n</code></pre>\n<p>which is either coming from this dependency:</p>\n<pre><code>implementation &quot;androidx.annotation:annotation:1.0.0&quot;\n</code></pre>\n<p>or from this dependency, in case not yet using android:</p>\n<pre><code>implementation &quot;com.android.support:support-annotations:28.0.0&quot;\n</code></pre>\n<p>then you can use it as usual:</p>\n<pre><code> @NonNull\n</code></pre>\n"}],"owner":{"account_id":26165287,"reputation":21,"user_id":19851202,"display_name":"Hafeez ur Rehman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1432,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661753126,"creation_date":1661509991,"question_id":73499657,"body_markdown":"&#39;android.annotation.NonNull&#39; is not public in &#39;android.annotation&#39;. Cannot be accessed from outside package\r\nhow can it be solved","title":"NonNull in android studio error Android Studio","body":"<p>'android.annotation.NonNull' is not public in 'android.annotation'. Cannot be accessed from outside package\nhow can it be solved</p>\n"},{"tags":["java","amazon-web-services","spring-boot","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":6220603,"reputation":6013,"user_id":4840338,"display_name":"omuthu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661749944,"creation_date":1661749944,"answer_id":73524351,"question_id":73523810,"body_markdown":"You can have your lambda code run on any schedule (once per day for your case) using CloudWatch Event Schedule.\r\n\r\nTo create the schedule, follow this [link][1] \r\n\r\nIn you lambda code, you can fetch the messages from DLQ and process them iteratively.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/RunLambdaSchedule.html#schedule-create-rule","title":"AWS Lambda function used with a DLQ","body":"<p>You can have your lambda code run on any schedule (once per day for your case) using CloudWatch Event Schedule.</p>\n<p>To create the schedule, follow this <a href=\"https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/RunLambdaSchedule.html#schedule-create-rule\" rel=\"nofollow noreferrer\">link</a></p>\n<p>In you lambda code, you can fetch the messages from DLQ and process them iteratively.</p>\n"},{"tags":[],"owner":{"account_id":6174988,"reputation":11040,"user_id":4812170,"accept_rate":73,"display_name":"vaquar khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661752407,"creation_date":1661752407,"answer_id":73524599,"question_id":73523810,"body_markdown":"1) You no need to use Spring framework in AWS Lambda use Java only\r\n2) Use Lambda with Cloud watch cron expression and schedule daily run.\r\n3) Write your own logic \r\n\r\n- https://docs.aws.amazon.com/lambda/latest/dg/java-samples.html\r\n- https://www.freecodecamp.org/news/using-lambda-functions-as-cronjobs/ ","title":"AWS Lambda function used with a DLQ","body":"<ol>\n<li>You no need to use Spring framework in AWS Lambda use Java only</li>\n<li>Use Lambda with Cloud watch cron expression and schedule daily run.</li>\n<li>Write your own logic</li>\n</ol>\n<ul>\n<li><a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-samples.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/java-samples.html</a></li>\n<li><a href=\"https://www.freecodecamp.org/news/using-lambda-functions-as-cronjobs/\" rel=\"nofollow noreferrer\">https://www.freecodecamp.org/news/using-lambda-functions-as-cronjobs/</a></li>\n</ul>\n"}],"owner":{"account_id":25152939,"reputation":57,"user_id":18998077,"display_name":"Aditya K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73524599,"answer_count":2,"score":0,"last_activity_date":1661752407,"creation_date":1661742833,"question_id":73523810,"body_markdown":"I have an SQS queue with a supported DLQ for failures. I want to write a custom Lambda function in **java (spring boot)** to get the messages from this dlq, write it to a file, upload the file to an S3 bucket and send the file as an alert to a specified webhook. \r\n\r\nI&#39;m new to lambda and I hope this design can be implemented. \r\n\r\nOne requirement is that I want to execute the Lambda only once per day. So let&#39;s say at 6:00 am everyday. I want all the messages in the queue to be written to a file. \r\n\r\nI&#39;m trying to see examples of ```RequestHandler``` being implemented where the messages in the queue are received and iterated to be saved in the file one at a time. \r\n\r\nI&#39;m not sure how to configure the lambda such that it runs only once per day instead of each time a message entering the DLQ. \r\n\r\nAny documentation relating to these queries will be really helpful. Please critique my expected implementation and offer any better solutions for the same. \r\n\r\n","title":"AWS Lambda function used with a DLQ","body":"<p>I have an SQS queue with a supported DLQ for failures. I want to write a custom Lambda function in <strong>java (spring boot)</strong> to get the messages from this dlq, write it to a file, upload the file to an S3 bucket and send the file as an alert to a specified webhook.</p>\n<p>I'm new to lambda and I hope this design can be implemented.</p>\n<p>One requirement is that I want to execute the Lambda only once per day. So let's say at 6:00 am everyday. I want all the messages in the queue to be written to a file.</p>\n<p>I'm trying to see examples of <code>RequestHandler</code> being implemented where the messages in the queue are received and iterated to be saved in the file one at a time.</p>\n<p>I'm not sure how to configure the lambda such that it runs only once per day instead of each time a message entering the DLQ.</p>\n<p>Any documentation relating to these queries will be really helpful. Please critique my expected implementation and offer any better solutions for the same.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1661747268,"post_id":73524010,"comment_id":129836601,"body_markdown":"[Please do not upload images of code/data/errors when asking a question.](//meta.stackoverflow.com/q/285551).","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors when asking a question.</a>."},{"owner":{"account_id":25510773,"reputation":1,"user_id":19302474,"display_name":"Thara DC"},"score":0,"creation_date":1661748194,"post_id":73524010,"comment_id":129836730,"body_markdown":"Forgive me if I did a mistake. I will edit the question.","body":"Forgive me if I did a mistake. I will edit the question."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1661749960,"post_id":73524010,"comment_id":129836975,"body_markdown":"You&#39;ll need to set up a Java SDK for your project before anything will work in IntelliJ IDEA. Click the &quot;Setup SDK&quot; link in the upper right.","body":"You&#39;ll need to set up a Java SDK for your project before anything will work in IntelliJ IDEA. Click the &quot;Setup SDK&quot; link in the upper right."}],"owner":{"account_id":25510773,"reputation":1,"user_id":19302474,"display_name":"Thara DC"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661748295,"creation_date":1661745849,"question_id":73524010,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pyjXl.png\r\n\r\nHere&#39;s the code in the image\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nI&#39;m trying to create a springboot project for the first time. I just installed the IntelliJ IDEA Ultimate version 3month free trial when the IntelliJ Community Version already exists in my computer. I changed the path of the root to the bin folder of Ultimate version. But this error comes.\r\n\r\nPreviously I had and error in pom.xml also and it solved when applying the following code block.\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nI hope someone&#39;s help to solve this problem.","title":"Cannot resolve method &#39;run(Class, String[])&#39;","body":"<p><a href=\"https://i.stack.imgur.com/pyjXl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pyjXl.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the code in the image</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>I'm trying to create a springboot project for the first time. I just installed the IntelliJ IDEA Ultimate version 3month free trial when the IntelliJ Community Version already exists in my computer. I changed the path of the root to the bin folder of Ultimate version. But this error comes.</p>\n<p>Previously I had and error in pom.xml also and it solved when applying the following code block.</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${project.parent.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>I hope someone's help to solve this problem.</p>\n"},{"tags":["java","disruptor-pattern"],"comments":[{"owner":{"account_id":1059510,"reputation":15581,"user_id":1061426,"accept_rate":69,"display_name":"bharal"},"score":0,"creation_date":1546459127,"post_id":9168602,"comment_id":94861639,"body_markdown":"how many times do i need to downvote straight &quot;link to other websites&quot;????","body":"how many times do i need to downvote straight &quot;link to other websites&quot;????"}],"answers":[{"tags":[],"owner":{"account_id":35454,"reputation":4713,"user_id":100405,"accept_rate":52,"display_name":"weima"},"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1329479416,"creation_date":1329479416,"answer_id":9327713,"question_id":9168602,"body_markdown":"you can see the example here.\r\n\r\nhttp://code.google.com/p/disruptor/wiki/CodeExampleDisruptor2x\r\n\r\nI have done a simple example by using the above wiki. hope this helps you.","title":"The simplest and actual example code of LMAX Disruptor","body":"<p>you can see the example here.</p>\n\n<p><a href=\"http://code.google.com/p/disruptor/wiki/CodeExampleDisruptor2x\" rel=\"noreferrer\">http://code.google.com/p/disruptor/wiki/CodeExampleDisruptor2x</a></p>\n\n<p>I have done a simple example by using the above wiki. hope this helps you.</p>\n"},{"tags":[],"owner":{"account_id":31501,"reputation":992,"user_id":86528,"display_name":"Trevor Bernard"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1359004380,"creation_date":1359003596,"answer_id":14494283,"question_id":9168602,"body_markdown":"Here is a simple, runnable, example of how to use the Disruptor library. Example is written in Java using version 2.10.4 of the Disruptor library.\r\n\r\nhttps://github.com/trevorbernard/disruptor-examples","title":"The simplest and actual example code of LMAX Disruptor","body":"<p>Here is a simple, runnable, example of how to use the Disruptor library. Example is written in Java using version 2.10.4 of the Disruptor library.</p>\n\n<p><a href=\"https://github.com/trevorbernard/disruptor-examples\" rel=\"noreferrer\">https://github.com/trevorbernard/disruptor-examples</a></p>\n"},{"tags":[],"owner":{"account_id":2323423,"reputation":1188,"user_id":2038468,"accept_rate":14,"display_name":"Rohit Sachan"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1389748753,"creation_date":1389688995,"answer_id":21109108,"question_id":9168602,"body_markdown":"I have shared example [here][1], I hope it helps. \r\n\r\nThis question might be duplicate of \r\n\r\nhttps://stackoverflow.com/questions/9826512/disruptor-helloworld-example?rq=1\r\n\r\n  [1]: https://gist.github.com/rohit-sachan/8413977","title":"The simplest and actual example code of LMAX Disruptor","body":"<p>I have shared example <a href=\"https://gist.github.com/rohit-sachan/8413977\" rel=\"nofollow noreferrer\">here</a>, I hope it helps. </p>\n\n<p>This question might be duplicate of </p>\n\n<p><a href=\"https://stackoverflow.com/questions/9826512/disruptor-helloworld-example?rq=1\">Disruptor helloworld example</a></p>\n"},{"tags":[],"owner":{"account_id":2218879,"reputation":29,"user_id":1958847,"display_name":"Vijay Chakravarthy"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1661747062,"creation_date":1391473756,"answer_id":21540720,"question_id":9168602,"body_markdown":"Sharing an example with multiple publishers and chained handlers, this uses their latest available dsl api format\r\nhttps://web.archive.org/web/20140325163503/http://vijayrc.com/vectorclocks/post/thread3 \r\n\r\n[EDIT 2022-08-29]: \r\n\r\nLink was outdated and is not active. Since the answer is good,redirecting to answer via waybackmachine. ","title":"The simplest and actual example code of LMAX Disruptor","body":"<p>Sharing an example with multiple publishers and chained handlers, this uses their latest available dsl api format\n<a href=\"https://web.archive.org/web/20140325163503/http://vijayrc.com/vectorclocks/post/thread3\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20140325163503/http://vijayrc.com/vectorclocks/post/thread3</a></p>\n<p>[EDIT 2022-08-29]:</p>\n<p>Link was outdated and is not active. Since the answer is good,redirecting to answer via waybackmachine.</p>\n"},{"tags":[],"owner":{"display_name":"user1563700"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1396618519,"creation_date":1396618519,"answer_id":22864383,"question_id":9168602,"body_markdown":"There is an official sample application on github now: [Getting-Started][1]\r\n\r\n\r\n  [1]: https://github.com/LMAX-Exchange/disruptor/wiki/Getting-Started","title":"The simplest and actual example code of LMAX Disruptor","body":"<p>There is an official sample application on github now: <a href=\"https://github.com/LMAX-Exchange/disruptor/wiki/Getting-Started\" rel=\"noreferrer\">Getting-Started</a></p>\n"}],"owner":{"account_id":411710,"reputation":4423,"user_id":784345,"accept_rate":64,"display_name":"Dejwi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27245,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"accepted_answer_id":9327713,"answer_count":5,"score":18,"last_activity_date":1661747062,"creation_date":1328568992,"question_id":9168602,"body_markdown":"I wish I can get the simplest possible example code, which will show how to use LMAX disruptor(http://code.google.com/p/disruptor/). \r\n\r\nUnfortunately every piece of code is out of date. Does someone know, where can I found small and up to date howto (preferable without DSL)?\r\n","title":"The simplest and actual example code of LMAX Disruptor","body":"<p>I wish I can get the simplest possible example code, which will show how to use LMAX disruptor(http://code.google.com/p/disruptor/). </p>\n\n<p>Unfortunately every piece of code is out of date. Does someone know, where can I found small and up to date howto (preferable without DSL)?</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1661748638,"post_id":73521790,"comment_id":129836786,"body_markdown":"&quot;Any thoughts?&quot;: `XSLFTable` extends `XSLFGraphicFrame`, `XSLFGraphicFrame` extends `XSLFShape`. And there is [XSLFSheet.removeShape](https://poi.apache.org/apidocs/dev/org/apache/poi/xslf/usermodel/XSLFSheet.html#removeShape-org.apache.poi.xslf.usermodel.XSLFShape-). Any questions?","body":"&quot;Any thoughts?&quot;: <code>XSLFTable</code> extends <code>XSLFGraphicFrame</code>, <code>XSLFGraphicFrame</code> extends <code>XSLFShape</code>. And there is <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xslf/usermodel/XSLFSheet.html#removeShape-org.apache.poi.xslf.usermodel.XSLFShape-\" rel=\"nofollow noreferrer\">XSLFSheet.removeShape</a>. Any questions?"}],"owner":{"account_id":4471403,"reputation":21,"user_id":3637637,"display_name":"CodingBee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661741618,"creation_date":1661716300,"question_id":73521790,"body_markdown":"I can remove table rows from PPT using apache POI Java however my requirement is to remove entire table from PPT. Any thoughts ?","title":"Removing a table from a PPT using apache POI Java","body":"<p>I can remove table rows from PPT using apache POI Java however my requirement is to remove entire table from PPT. Any thoughts ?</p>\n"},{"tags":["java","scala","playframework"],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661741321,"creation_date":1661741321,"answer_id":73523697,"question_id":73522101,"body_markdown":"The problem is that `GithubServiceImpl` has not been registered with the dependency injection container. You can find information on how to do this in the [Providing custom bindings](https://www.playframework.com/documentation/2.8.x/ScalaDependencyInjection#Providing-custom-bindings) section of the documentation.\r\n\r\nThe two options are:\r\n\r\n1.  Using binding annotations:\r\n\r\n        @ImplementedBy(classOf[GithubServiceImpl])\r\n        trait GithubService {\r\n          def getStarredRepositories(): Future[Seq[GithubRepositoryDTO]]\r\n        }\r\n\r\n2.  Using programmatic binding, in a file called `Module.scala` in the root of your application:\r\n\r\n        import com.google.inject.AbstractModule\r\n        import com.google.inject.name.Names\r\n        \r\n        class Module extends AbstractModule {\r\n          override def configure() = {\r\n            bind(classOf[GithubService])\r\n              .to(classOf[GithubServiceImpl])\r\n          }\r\n        }\r\n\r\nBe sure to read the linked documentation for more details on other options and declaring a binding as a singleton.\r\n","title":"Scala - Play framework Creation Exception","body":"<p>The problem is that <code>GithubServiceImpl</code> has not been registered with the dependency injection container. You can find information on how to do this in the <a href=\"https://www.playframework.com/documentation/2.8.x/ScalaDependencyInjection#Providing-custom-bindings\" rel=\"nofollow noreferrer\">Providing custom bindings</a> section of the documentation.</p>\n<p>The two options are:</p>\n<ol>\n<li><p>Using binding annotations:</p>\n<pre><code>@ImplementedBy(classOf[GithubServiceImpl])\ntrait GithubService {\n  def getStarredRepositories(): Future[Seq[GithubRepositoryDTO]]\n}\n</code></pre>\n</li>\n<li><p>Using programmatic binding, in a file called <code>Module.scala</code> in the root of your application:</p>\n<pre><code>import com.google.inject.AbstractModule\nimport com.google.inject.name.Names\n\nclass Module extends AbstractModule {\n  override def configure() = {\n    bind(classOf[GithubService])\n      .to(classOf[GithubServiceImpl])\n  }\n}\n</code></pre>\n</li>\n</ol>\n<p>Be sure to read the linked documentation for more details on other options and declaring a binding as a singleton.</p>\n"}],"owner":{"account_id":24005493,"reputation":5,"user_id":17989725,"display_name":"Santiago Saavedra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73523697,"answer_count":1,"score":0,"last_activity_date":1661741321,"creation_date":1661719128,"question_id":73522101,"body_markdown":"I&#39;m trying to add a new controller to my Play framwork but I&#39;m having this exception\r\n\r\n```\r\nCreationException: Unable to create injector, see the following errors:\r\n\r\n1) No implementation for service.GithubService was bound.\r\n  while locating service.GithubService\r\n    for the 2nd parameter of controllers.GithubController.&lt;init&gt;(GithubController.scala:12)\r\n  while locating controllers.GithubController\r\n    for the 3rd parameter of router.Routes.&lt;init&gt;(Routes.scala:28)\r\n  at play.api.inject.RoutesProvider$.bindingsFromConfiguration(BuiltinModule.scala:139):\r\nBinding(class router.Routes to self) (via modules: com.google.inject.util.Modules$OverrideModule -&gt; play.api.inject.guice.GuiceableModuleConversions$$anon$4)\r\n\r\n1 error\r\n```\r\n\r\nHere is the `HomeController.scala` file\r\n```\r\npackage controllers\r\n\r\nimport play.api._\r\nimport play.api.mvc.{BaseController, ControllerComponents}\r\n\r\ntrait HomeController extends BaseController {\r\n  protected def controllerComponents: ControllerComponents\r\n}\r\n\r\n```\r\n\r\nHere is the `GithubController.scala` file\r\n```\r\npackage controllers\r\n\r\nimport javax.inject.Inject\r\nimport models.GithubRepositoryDTO\r\nimport play.api.libs.json.{JsValue, Json}\r\nimport play.api.mvc._\r\nimport service._\r\n\r\nimport scala.concurrent.{ExecutionContext, Future}\r\n\r\nclass GithubController @Inject()(\r\n                                  val controllerComponents: ControllerComponents,\r\n                                  githubService: GithubService\r\n                                )(implicit ec: ExecutionContext) extends HomeController {\r\n  def getStarred(): Action[JsValue] = Action.async(parse.json) { implicit request =&gt;\r\n      githubService.getStarredRepositories()\r\n\r\n      Future(Ok(&quot;test&quot;))\r\n  }\r\n}\r\n```\r\n\r\nHere is the `GithubService.scala` file\r\n```\r\npackage service\r\n\r\nimport models.GithubRepositoryDTO\r\n\r\nimport scala.concurrent.Future\r\n\r\ntrait GithubService {\r\n  def getStarredRepositories():Future[Seq[GithubRepositoryDTO]]\r\n}\r\n```\r\n\r\nHere is the `GithubServiceImpl.scala` file\r\n```\r\npackage service\r\n\r\nimport javax.inject.Inject\r\nimport models.GithubRepositoryDTO\r\nimport play.api.libs.json._\r\nimport play.api.libs.ws.WSClient\r\n\r\nimport scala.concurrent.{ExecutionContext, Future}\r\n\r\nclass GithubServiceImpl @Inject()(\r\n                                  wsClient:WSClient\r\n)(implicit ec: ExecutionContext) extends GithubService {\r\n  def getStarredRepositories(): Future[Seq[GithubRepositoryDTO]] = {\r\n    //some code\r\n  }\r\n}\r\n```\r\n\r\nI&#39;ve checked if the error comes from the service or controller but still not working, any help or suggestion is welcome. Thanks!","title":"Scala - Play framework Creation Exception","body":"<p>I'm trying to add a new controller to my Play framwork but I'm having this exception</p>\n<pre><code>CreationException: Unable to create injector, see the following errors:\n\n1) No implementation for service.GithubService was bound.\n  while locating service.GithubService\n    for the 2nd parameter of controllers.GithubController.&lt;init&gt;(GithubController.scala:12)\n  while locating controllers.GithubController\n    for the 3rd parameter of router.Routes.&lt;init&gt;(Routes.scala:28)\n  at play.api.inject.RoutesProvider$.bindingsFromConfiguration(BuiltinModule.scala:139):\nBinding(class router.Routes to self) (via modules: com.google.inject.util.Modules$OverrideModule -&gt; play.api.inject.guice.GuiceableModuleConversions$$anon$4)\n\n1 error\n</code></pre>\n<p>Here is the <code>HomeController.scala</code> file</p>\n<pre><code>package controllers\n\nimport play.api._\nimport play.api.mvc.{BaseController, ControllerComponents}\n\ntrait HomeController extends BaseController {\n  protected def controllerComponents: ControllerComponents\n}\n\n</code></pre>\n<p>Here is the <code>GithubController.scala</code> file</p>\n<pre><code>package controllers\n\nimport javax.inject.Inject\nimport models.GithubRepositoryDTO\nimport play.api.libs.json.{JsValue, Json}\nimport play.api.mvc._\nimport service._\n\nimport scala.concurrent.{ExecutionContext, Future}\n\nclass GithubController @Inject()(\n                                  val controllerComponents: ControllerComponents,\n                                  githubService: GithubService\n                                )(implicit ec: ExecutionContext) extends HomeController {\n  def getStarred(): Action[JsValue] = Action.async(parse.json) { implicit request =&gt;\n      githubService.getStarredRepositories()\n\n      Future(Ok(&quot;test&quot;))\n  }\n}\n</code></pre>\n<p>Here is the <code>GithubService.scala</code> file</p>\n<pre><code>package service\n\nimport models.GithubRepositoryDTO\n\nimport scala.concurrent.Future\n\ntrait GithubService {\n  def getStarredRepositories():Future[Seq[GithubRepositoryDTO]]\n}\n</code></pre>\n<p>Here is the <code>GithubServiceImpl.scala</code> file</p>\n<pre><code>package service\n\nimport javax.inject.Inject\nimport models.GithubRepositoryDTO\nimport play.api.libs.json._\nimport play.api.libs.ws.WSClient\n\nimport scala.concurrent.{ExecutionContext, Future}\n\nclass GithubServiceImpl @Inject()(\n                                  wsClient:WSClient\n)(implicit ec: ExecutionContext) extends GithubService {\n  def getStarredRepositories(): Future[Seq[GithubRepositoryDTO]] = {\n    //some code\n  }\n}\n</code></pre>\n<p>I've checked if the error comes from the service or controller but still not working, any help or suggestion is welcome. Thanks!</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":16346143,"reputation":291,"user_id":11805824,"display_name":"Kai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661739965,"creation_date":1661621635,"answer_id":73513132,"question_id":73511208,"body_markdown":"**update:**\r\n\r\nThe problem is caused by the Android Manifest file in other SDK(AAR file).\r\n\r\noption 1: upgrade the official AAR to the version with correct manifest.\r\n\r\noption 2: modify the manifest file in AAR. [how to modify AAR][1]\r\n \r\n\r\n\r\n----------\r\n\r\n\r\n**previous answer:**\r\n\r\nDo you use Sinch SDK in your project? Maybe you could try to upgrade the version of Sinch SDK. \r\n\r\nAccording to the [release notes][2], the android:exported attribute has been added in version\r\n4.8.6.\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/38861263/11805824\r\n  [2]: https://developers.sinch.com/docs/in-app-calling/android/release-notes/#486\r\n  [3]: https://i.stack.imgur.com/Fz6XV.png","title":"Error updating SDK 30 to SDK 31 android studio","body":"<p><strong>update:</strong></p>\n<p>The problem is caused by the Android Manifest file in other SDK(AAR file).</p>\n<p>option 1: upgrade the official AAR to the version with correct manifest.</p>\n<p>option 2: modify the manifest file in AAR. <a href=\"https://stackoverflow.com/a/38861263/11805824\">how to modify AAR</a></p>\n<hr />\n<p><strong>previous answer:</strong></p>\n<p>Do you use Sinch SDK in your project? Maybe you could try to upgrade the version of Sinch SDK.</p>\n<p>According to the <a href=\"https://developers.sinch.com/docs/in-app-calling/android/release-notes/#486\" rel=\"nofollow noreferrer\">release notes</a>, the android:exported attribute has been added in version\n4.8.6.\n<a href=\"https://i.stack.imgur.com/Fz6XV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fz6XV.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18756681,"reputation":13,"user_id":13676507,"display_name":"sharktech brasil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73513132,"answer_count":1,"score":1,"last_activity_date":1661739965,"creation_date":1661605021,"question_id":73511208,"body_markdown":" After putting all android:exported in the places indicated by the Merged Manifest I still get an error that I&#39;ve looked for and haven&#39;t found please help me, as shown in the image it indicates a line where the error is but there is nothing to declare the exported there, I went back to sdk 30 and I already checked the places it asked to put the exported as true or false\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;com.v3.passageiro&quot;&gt;\r\n    \r\n        &lt;uses-feature\r\n            android:name=&quot;android.hardware.microphone&quot;\r\n            android:required=&quot;false&quot; /&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt; &lt;!-- &lt;permission android:name=&quot;android.permission.INTERNET&quot; /&gt; --&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.FLAG_GRANT_READ_URI_PERMISSION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.MANAGE_DOCUMENTS&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt; &lt;!-- Required for new Book for some else feature --&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\r\n    \r\n        &lt;!--\r\n                  &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot;/&gt;\r\n    \r\n                      &lt;permission--&gt;\r\n    &lt;!--        android:name=&quot;vaijaa.rider.googlemapsv2.permission.MAPS_RECEIVE&quot;--&gt;\r\n    &lt;!--        android:protectionLevel=&quot;signature&quot; /&gt;--&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.GET_TASKS&quot; /&gt;\r\n    \r\n        &lt;uses-feature\r\n            android:name=&quot;android.hardware.camera&quot;\r\n            android:required=&quot;false&quot; /&gt;\r\n        &lt;uses-feature\r\n            android:name=&quot;android.hardware.camera.autofocus&quot;\r\n            android:required=&quot;false&quot; /&gt;\r\n        &lt;uses-feature\r\n            android:name=&quot;android.hardware.location.gps&quot;\r\n            android:required=&quot;true&quot; /&gt;\r\n    \r\n        &lt;uses-permission\r\n            android:name=&quot;com.v3.passageiro.googlemapsv2.permission.MAPS_RECEIVE&quot;\r\n            android:protectionLevel=&quot;signature&quot; /&gt;\r\n    \r\n        &lt;uses-feature\r\n            android:glEsVersion=&quot;0x00020000&quot;\r\n            android:required=&quot;true&quot; /&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;com.google.android.providers.gsf.permission.READ_GSERVICES&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:requestLegacyExternalStorage=&quot;true&quot;\r\n            android:name=&quot;com.general.files.MyApp&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:hardwareAccelerated=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:largeHeap=&quot;true&quot;\r\n            android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppCompatTheme&quot;\r\n            android:resizeableActivity=&quot;false&quot;\r\n            tools:replace=&quot;android:allowBackup&quot;&gt;\r\n    \r\n            &lt;uses-library\r\n            \t\t\t\tandroid:name=&quot;org.apache.http.legacy&quot;\r\n            \t\t\t\tandroid:required=&quot;false&quot;/&gt;\r\n            &lt;activity android:name=&quot;com.v3.passageiro.MenuSettingActivity&quot;&gt;&lt;/activity&gt;\r\n            &lt;activity android:name=&quot;com.v3.passageiro.ProfilePaymentActivity&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.UberXHomeActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity android:name=&quot;com.v3.passageiro.MyProfileNewActivity&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.DonationActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.PrescriptionHistoryImagesActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.PrescriptionActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.ProviderInfoActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n    \r\n            &lt;service\r\n                android:name=&quot;com.general.files.SinchService&quot;\r\n                android:exported=&quot;false&quot; /&gt;\r\n    \r\n            &lt;provider\r\n                android:name=&quot;androidx.core.content.FileProvider&quot;\r\n                android:authorities=&quot;${applicationId}.provider&quot;\r\n                android:exported=&quot;false&quot;\r\n                android:grantUriPermissions=&quot;true&quot;&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                    android:resource=&quot;@xml/file_provider_paths&quot; /&gt;\r\n            &lt;/provider&gt;\r\n    \r\n            &lt;meta-data\r\n                android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n                android:value=&quot;@string/google_android_geo_api_key&quot; /&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;com.google.android.gms.version&quot;\r\n                android:value=&quot;@integer/google_play_services_version&quot; /&gt;\r\n    \r\n    \r\n            &lt;receiver\r\n                android:name=&quot;com.general.files.AlarmReceiver&quot;\r\n                android:enabled=&quot;false&quot;&gt;\r\n    \r\n                &lt;!-- &lt;intent-filter&gt; --&gt;\r\n                &lt;!-- &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt; --&gt;\r\n                &lt;!-- &lt;/intent-filter&gt; --&gt;\r\n            &lt;/receiver&gt;\r\n    \r\n            &lt;service android:name=&quot;com.v3.passageiro.MyFirebaseMessagingService&quot;\r\n                android:exported=&quot;false&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n                    &lt;action android:name=&quot;com.google.firebase.INSTANCE_ID_EVENT&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n            &lt;!--\r\n     &lt;service\r\n                android:name=&quot;com.general.files.MyBackGroundService&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:icon=&quot;@mipmap/ic_launcher&quot;\r\n                android:label=&quot;Service Alert&quot;\r\n                android:persistent=&quot;true&quot; /&gt;\r\n            --&gt;\r\n            &lt;!--\r\n       &lt;receiver\r\n                android:name=&quot;.StartServiceReceiver&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.REBOOT&quot; /&gt;\r\n                    &lt;action android:name=&quot;vaijaa.rider.StartServiceReceiver&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.REBOOT&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.REBOOT&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.REBOOT&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n            --&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.twitter.sdk.android.core.identity.OAuthActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.LauncherActivity&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:screenOrientation=&quot;portrait&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.AppLoginActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.SelectCountryActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.MainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.VerifyFbProfileActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n    \r\n            &lt;meta-data\r\n                android:name=&quot;com.facebook.sdk.ApplicationId&quot;\r\n                android:value=&quot;@string/facebook_app_id&quot; /&gt;\r\n    \r\n            &lt;activity\r\n                android:name=&quot;com.facebook.FacebookActivity&quot;\r\n                android:configChanges=&quot;keyboard|keyboardHidden|screenLayout|screenSize|orientation&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                android:theme=&quot;@style/FBtheme&quot;\r\n                tools:replace=&quot;android:theme&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.SearchPickupLocationActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.FareEstimateActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.MyProfileActivity&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.StaticPageActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.ContactUsActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.HelpActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.QuestionAnswerActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.HistoryDetailActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/Theme.App.Base&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.RatingActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.CardPaymentActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.EmergencyContactActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.ConfirmEmergencyTapActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.EnterDeliveryDetailsActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.MyWalletActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.MyWalletHistoryActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.InviteFriendsActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.VerifyInfoActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.UberXSelectServiceActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.UberXActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.OnGoingTripsActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.OnGoingTripDetailsActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.AppLoignRegisterActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.AccountverificationActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.SupportActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.FareBreakDownActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.ForgotPasswordActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.PrefranceActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n    \r\n            &lt;receiver\r\n                android:name=&quot;com.v3.passageiro.FirebaseDataReceiver&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:permission=&quot;com.google.android.c2dm.permission.SEND&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.android.c2dm.intent.RECEIVE&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n    \r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.ChatActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.SearchLocationActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.ListAddressActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.AddAddressActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.ScheduleDateSelectActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.UfxOrderDetailsActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.UfxPaymentActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.BookingSummaryActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.MaintenanceActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.Help_MainCategory&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.Help_SubCategoryActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.Help_DetailsActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.RentalInfoActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.RentalDetailsActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.braintreepayments.api.BraintreeBrowserSwitchActivity&quot;\r\n                android:launchMode=&quot;singleTask&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:screenOrientation=&quot;portrait&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n    \r\n                    &lt;data android:scheme=&quot;${applicationId}.braintree&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.VerifyCardTokenActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;co.omise.android.ui.CreditCardActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/OmiseSDKTheme&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.xendit.XenditActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.cropper.CropImageActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt; &lt;!-- Multi delivery_v2 Screens --&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.CommonDeliveryTypeSelectionActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.EnterMultiDeliveryDetailsActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.MultiDeliverySecondPhaseActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.MultiDeliveryThirdPhaseActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt; &lt;!-- Deliver all --&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.deliverAll.FoodDeliveryHomeActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.deliverAll.RestaurantAllDetailsActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.deliverAll.SearchFoodActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.deliverAll.RestaurantsSearchActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.deliverAll.SearchRestaurantListActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.deliverAll.AddBasketActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.deliverAll.CheckOutActivity&quot;\r\n                android:configChanges=&quot;keyboardHidden|orientation|screenSize&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.deliverAll.EditCartActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.deliverAll.PaymentCardActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.deliverAll.ServiceHomeActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.deliverAll.ViewCardActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.deliverAll.OrderPlaceConfirmActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.deliverAll.ActiveOrderActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.deliverAll.TrackOrderActivity&quot;\r\n                android:configChanges=&quot;keyboardHidden|orientation|screenSize&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.deliverAll.OrderDetailsActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.deliverAll.FoodRatingActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.deliverAll.RestaurantAllDetailsNewActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.deliverAll.LoginActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.deliverAll.SignUpActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;io.card.payment.CardIOActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.CouponActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.BusinessProfileActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.BusinessSetupActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.SelectOrganizationActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.OrganizationActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.MyBusinessProfileActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.BusinessSelectPaymentActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.IncomingCallScreenActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.CallScreenActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.NotificationActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.NotificationDetailsActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.QuickPaymentActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.livechatinc.inappchat.ChatWindowActivity&quot;\r\n                android:configChanges=&quot;keyboardHidden|orientation|screenSize&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.UberxFilterActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.MoreInfoActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.UberxCartActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.CarWashBookingDetailsActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.MoreServiceInfoActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt; &lt;!-- Book for Some Else Activities --&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.BookSomeOneElsePickContactActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt; &lt;!-- FavDriver Activities --&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.FavouriteDriverActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.BookingActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.v3.passageiro.ViewMultiDeliveryDetailsActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot; /&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n [image][1]\r\n\r\n  [1]: https://i.stack.imgur.com/uF9OA.png","title":"Error updating SDK 30 to SDK 31 android studio","body":"<p>After putting all android:exported in the places indicated by the Merged Manifest I still get an error that I've looked for and haven't found please help me, as shown in the image it indicates a line where the error is but there is nothing to declare the exported there, I went back to sdk 30 and I already checked the places it asked to put the exported as true or false</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.v3.passageiro&quot;&gt;\n\n    &lt;uses-feature\n        android:name=&quot;android.hardware.microphone&quot;\n        android:required=&quot;false&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt; &lt;!-- &lt;permission android:name=&quot;android.permission.INTERNET&quot; /&gt; --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FLAG_GRANT_READ_URI_PERMISSION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_DOCUMENTS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt; &lt;!-- Required for new Book for some else feature --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\n\n    &lt;!--\n              &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot;/&gt;\n\n                  &lt;permission--&gt;\n&lt;!--        android:name=&quot;vaijaa.rider.googlemapsv2.permission.MAPS_RECEIVE&quot;--&gt;\n&lt;!--        android:protectionLevel=&quot;signature&quot; /&gt;--&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.GET_TASKS&quot; /&gt;\n\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera&quot;\n        android:required=&quot;false&quot; /&gt;\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera.autofocus&quot;\n        android:required=&quot;false&quot; /&gt;\n    &lt;uses-feature\n        android:name=&quot;android.hardware.location.gps&quot;\n        android:required=&quot;true&quot; /&gt;\n\n    &lt;uses-permission\n        android:name=&quot;com.v3.passageiro.googlemapsv2.permission.MAPS_RECEIVE&quot;\n        android:protectionLevel=&quot;signature&quot; /&gt;\n\n    &lt;uses-feature\n        android:glEsVersion=&quot;0x00020000&quot;\n        android:required=&quot;true&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;com.google.android.providers.gsf.permission.READ_GSERVICES&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n\n    &lt;application\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:name=&quot;com.general.files.MyApp&quot;\n        android:allowBackup=&quot;true&quot;\n        android:hardwareAccelerated=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:largeHeap=&quot;true&quot;\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppCompatTheme&quot;\n        android:resizeableActivity=&quot;false&quot;\n        tools:replace=&quot;android:allowBackup&quot;&gt;\n\n        &lt;uses-library\n                        android:name=&quot;org.apache.http.legacy&quot;\n                        android:required=&quot;false&quot;/&gt;\n        &lt;activity android:name=&quot;com.v3.passageiro.MenuSettingActivity&quot;&gt;&lt;/activity&gt;\n        &lt;activity android:name=&quot;com.v3.passageiro.ProfilePaymentActivity&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.UberXHomeActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity android:name=&quot;com.v3.passageiro.MyProfileNewActivity&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.DonationActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.PrescriptionHistoryImagesActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.PrescriptionActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.ProviderInfoActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n\n        &lt;service\n            android:name=&quot;com.general.files.SinchService&quot;\n            android:exported=&quot;false&quot; /&gt;\n\n        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;${applicationId}.provider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/file_provider_paths&quot; /&gt;\n        &lt;/provider&gt;\n\n        &lt;meta-data\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\n            android:value=&quot;@string/google_android_geo_api_key&quot; /&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.version&quot;\n            android:value=&quot;@integer/google_play_services_version&quot; /&gt;\n\n\n        &lt;receiver\n            android:name=&quot;com.general.files.AlarmReceiver&quot;\n            android:enabled=&quot;false&quot;&gt;\n\n            &lt;!-- &lt;intent-filter&gt; --&gt;\n            &lt;!-- &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt; --&gt;\n            &lt;!-- &lt;/intent-filter&gt; --&gt;\n        &lt;/receiver&gt;\n\n        &lt;service android:name=&quot;com.v3.passageiro.MyFirebaseMessagingService&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n                &lt;action android:name=&quot;com.google.firebase.INSTANCE_ID_EVENT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n        &lt;!--\n &lt;service\n            android:name=&quot;com.general.files.MyBackGroundService&quot;\n            android:enabled=&quot;true&quot;\n            android:icon=&quot;@mipmap/ic_launcher&quot;\n            android:label=&quot;Service Alert&quot;\n            android:persistent=&quot;true&quot; /&gt;\n        --&gt;\n        &lt;!--\n   &lt;receiver\n            android:name=&quot;.StartServiceReceiver&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n\n                &lt;action android:name=&quot;android.intent.action.REBOOT&quot; /&gt;\n                &lt;action android:name=&quot;vaijaa.rider.StartServiceReceiver&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.REBOOT&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.REBOOT&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.REBOOT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n        --&gt;\n        &lt;activity\n            android:name=&quot;com.twitter.sdk.android.core.identity.OAuthActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.LauncherActivity&quot;\n            android:exported=&quot;true&quot;\n            android:screenOrientation=&quot;portrait&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.AppLoginActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.SelectCountryActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.MainActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.VerifyFbProfileActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n\n        &lt;meta-data\n            android:name=&quot;com.facebook.sdk.ApplicationId&quot;\n            android:value=&quot;@string/facebook_app_id&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;com.facebook.FacebookActivity&quot;\n            android:configChanges=&quot;keyboard|keyboardHidden|screenLayout|screenSize|orientation&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/FBtheme&quot;\n            tools:replace=&quot;android:theme&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.SearchPickupLocationActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.FareEstimateActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.MyProfileActivity&quot;\n            android:exported=&quot;true&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.StaticPageActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.ContactUsActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.HelpActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.QuestionAnswerActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.HistoryDetailActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:theme=&quot;@style/Theme.App.Base&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.RatingActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.CardPaymentActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.EmergencyContactActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.ConfirmEmergencyTapActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.EnterDeliveryDetailsActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.MyWalletActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.MyWalletHistoryActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.InviteFriendsActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.VerifyInfoActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.UberXSelectServiceActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.UberXActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.OnGoingTripsActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.OnGoingTripDetailsActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.AppLoignRegisterActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.AccountverificationActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.SupportActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.FareBreakDownActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.ForgotPasswordActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.PrefranceActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n\n        &lt;receiver\n            android:name=&quot;com.v3.passageiro.FirebaseDataReceiver&quot;\n            android:exported=&quot;true&quot;\n            android:permission=&quot;com.google.android.c2dm.permission.SEND&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.google.android.c2dm.intent.RECEIVE&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.ChatActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.SearchLocationActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.ListAddressActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.AddAddressActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.ScheduleDateSelectActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.UfxOrderDetailsActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.UfxPaymentActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.BookingSummaryActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.MaintenanceActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.Help_MainCategory&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.Help_SubCategoryActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.Help_DetailsActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.RentalInfoActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.RentalDetailsActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.braintreepayments.api.BraintreeBrowserSwitchActivity&quot;\n            android:launchMode=&quot;singleTask&quot;\n            android:exported=&quot;true&quot;\n            android:screenOrientation=&quot;portrait&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n\n                &lt;data android:scheme=&quot;${applicationId}.braintree&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.VerifyCardTokenActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;co.omise.android.ui.CreditCardActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:theme=&quot;@style/OmiseSDKTheme&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.xendit.XenditActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.cropper.CropImageActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt; &lt;!-- Multi delivery_v2 Screens --&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.CommonDeliveryTypeSelectionActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.EnterMultiDeliveryDetailsActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.MultiDeliverySecondPhaseActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.MultiDeliveryThirdPhaseActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt; &lt;!-- Deliver all --&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.deliverAll.FoodDeliveryHomeActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.deliverAll.RestaurantAllDetailsActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.deliverAll.SearchFoodActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.deliverAll.RestaurantsSearchActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.deliverAll.SearchRestaurantListActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.deliverAll.AddBasketActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.deliverAll.CheckOutActivity&quot;\n            android:configChanges=&quot;keyboardHidden|orientation|screenSize&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.deliverAll.EditCartActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.deliverAll.PaymentCardActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.deliverAll.ServiceHomeActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.deliverAll.ViewCardActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.deliverAll.OrderPlaceConfirmActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.deliverAll.ActiveOrderActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.deliverAll.TrackOrderActivity&quot;\n            android:configChanges=&quot;keyboardHidden|orientation|screenSize&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.deliverAll.OrderDetailsActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.deliverAll.FoodRatingActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.deliverAll.RestaurantAllDetailsNewActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.deliverAll.LoginActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.deliverAll.SignUpActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;io.card.payment.CardIOActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.CouponActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.BusinessProfileActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.BusinessSetupActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.SelectOrganizationActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.OrganizationActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.MyBusinessProfileActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.BusinessSelectPaymentActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.IncomingCallScreenActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.CallScreenActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.NotificationActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.NotificationDetailsActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.QuickPaymentActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.livechatinc.inappchat.ChatWindowActivity&quot;\n            android:configChanges=&quot;keyboardHidden|orientation|screenSize&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.UberxFilterActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.MoreInfoActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.UberxCartActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.CarWashBookingDetailsActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.MoreServiceInfoActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt; &lt;!-- Book for Some Else Activities --&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.BookSomeOneElsePickContactActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt; &lt;!-- FavDriver Activities --&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.FavouriteDriverActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.BookingActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.v3.passageiro.ViewMultiDeliveryDetailsActivity&quot;\n            android:screenOrientation=&quot;portrait&quot; /&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uF9OA.png\" rel=\"nofollow noreferrer\">image</a></p>\n"},{"tags":["java","if-statement","comparator","java-11"],"comments":[{"owner":{"account_id":3768354,"reputation":7981,"user_id":3131203,"accept_rate":50,"display_name":"keshlam"},"score":1,"creation_date":1661667349,"post_id":73516275,"comment_id":129823242,"body_markdown":"Reflection, perhaps. But reflection has its own issues. Or move the name match into a method in the class. Note that switch/case works on strings.","body":"Reflection, perhaps. But reflection has its own issues. Or move the name match into a method in the class. Note that switch/case works on strings."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1661672360,"post_id":73516275,"comment_id":129823849,"body_markdown":"A `Map&lt;String, Function&lt;Person, Comparable&lt;?&gt;&gt;` or similar?","body":"A <code>Map&lt;String, Function&lt;Person, Comparable&lt;?&gt;&gt;</code> or similar?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1661683399,"post_id":73516275,"comment_id":129825641,"body_markdown":"An explicitly populated map of strings to comparators like you already have, is preferable. After all, you have to provide a UI with human readable labels, perhaps translated into different languages. So, adding a new sort option doesn&#39;t come for free when you add a new property anyway. The other direction is even more problematic: when the string comes from an external source, like web request or config file, having an automatism that allows accessing arbitrary members by string becomes a stability/security problem. As said, a map specifying explicitly supported properties is preferable.","body":"An explicitly populated map of strings to comparators like you already have, is preferable. After all, you have to provide a UI with human readable labels, perhaps translated into different languages. So, adding a new sort option doesn&#39;t come for free when you add a new property anyway. The other direction is even more problematic: when the string comes from an external source, like web request or config file, having an automatism that allows accessing arbitrary members by string becomes a stability/security problem. As said, a map specifying explicitly supported properties is preferable."},{"owner":{"account_id":13072244,"reputation":2184,"user_id":10014361,"display_name":"Aven Desta"},"score":0,"creation_date":1661693417,"post_id":73516275,"comment_id":129827752,"body_markdown":"@OleV.V. Thank you. that&#39;s actually better than using a comparator as the value of the map. I will use that one.","body":"@OleV.V. Thank you. that&#39;s actually better than using a comparator as the value of the map. I will use that one."}],"answers":[{"tags":[],"owner":{"account_id":9045259,"reputation":5321,"user_id":6737860,"display_name":"Thomas K&#229;sene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661669431,"creation_date":1661669431,"answer_id":73516586,"question_id":73516275,"body_markdown":"As keshlam suggested, I think using the reflection API is the best fitting answer to your question, but keep in mind that using it in production code is generally discouraged.\r\n\r\nNote: if you add a new `Person`-attribute which isn&#39;t itself `Comparable`, you&#39;ll have to resort to a custom `Comparator` anyway. With that in mind, you might want to keep the `Map&lt;String, Comparator&lt;?&gt;&gt;` solution you already have.","title":"get a getter method from field name to avoid if-else","body":"<p>As keshlam suggested, I think using the reflection API is the best fitting answer to your question, but keep in mind that using it in production code is generally discouraged.</p>\n<p>Note: if you add a new <code>Person</code>-attribute which isn't itself <code>Comparable</code>, you'll have to resort to a custom <code>Comparator</code> anyway. With that in mind, you might want to keep the <code>Map&lt;String, Comparator&lt;?&gt;&gt;</code> solution you already have.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661719407,"creation_date":1661681112,"answer_id":73517744,"question_id":73516275,"body_markdown":"In general java doesn&#39;t want you to work with it this way&lt;sup&gt;1&lt;/sup&gt;; it is not a structurally typed language, and unlike e.g. javascript or python, objects aren&#39;t &quot;hashmaps of strings to thingies&quot;.\r\n\r\nAlso, your request more fundamentally doesn&#39;t add up: You can&#39;t _just_ go from &quot;field name&quot; to &quot;sort on that&quot;: What if the field&#39;s type isn&#39;t inherently sortable (is not a subtype of `Comparator&lt;Self&gt;`?)\r\n\r\nWhat if there is a column in whatever view we&#39;re talking about / config file that is &#39;generated&#39;? Imagine you have a field `LocalDate birthDate;` but you have a column &#39;birth month&#39;&lt;sup&gt;2&lt;/sup&gt;. You can sort on birth month, no problem. However, given that it&#39;s a &#39;generated value&#39; (not backed directly by a field, instead, derived from a calculation based on field(s)), you can&#39;t just sort on this. You can&#39;t even sort on the backing field (as that would sort by birth year first, not what you want), nor does &#39;backing field&#39; make sense; what if the virtual column is based on multiple fields?\r\n\r\nIt is certainly possible that currently you aren&#39;t imagining either virtual columns or fields whose type isn&#39;t self-sortable and that therefore you want to deposit a rule that for this class, you __close the door__ on these two notions until a pretty major refactor, but it goes to show perhaps why &quot;java does not work that way&quot; is in fact somewhat &#39;good&#39; (closely meshes with real life concerns), and why your example isn&#39;t as boilerplatey as you may have initially thought: No, it is __not__, in fact, inevitable. Specifically, you seem to want:\r\n\r\n* There is an exact 1-to-1 match between &#39;column sort keys&#39; and field names.\r\n* The strategy to deliver on the request to sort on a given column sort key is always the same: Take the column sort key. Find the field (it has the same name); now find its getter. Create a comparator based on comparing get calls; this getter returns a type that has a natural sorting order guaranteed.\r\n\r\nWhich are 2 non-obvious preconditions that seem to have gotten a bit lost. At any rate, a statement like:\r\n\r\n```\r\nif(sortBy.equals(&quot;firstName&quot;))\r\n personList.sort(Comparator.comparing(Person::getFirstName));\r\n```\r\n\r\n_encodes_ these 2 non-obvious properties, and trivially, therefore means it is also possible to add virtual columns as well as sort keys that work differently (for example, sorts on birth month, or, sorts on some explicit comparator you write for this purpose. Or even sorts case insensitively; strings by default do not do that, you&#39;d have to sort by `String.CASE_INSENSITIVE_COMPARATOR` instead.\r\n\r\nIt strikes me as a rather badly written app if a change request comes in with: &quot;Hey, could you make the sort option that sorts on patient name be case insensitive?&quot; and you go: &quot;Hooo boy that&#39;ll be a personweek+ of refactoring work!&quot;, no?\r\n\r\nBut, if you insist, you have 2 broad options:\r\n\r\n## Reflection\r\n\r\nReflection lets you write code that programatically gets a list of field names, method names, and can also be used to programatically call them. You can fetch a list of method names and filter out everything except:\r\n\r\n* instance methods\r\n* with no arguments\r\n* whose name starts with `get`\r\n\r\nAnd do a simple-ish get-prefix-to-sort-key conversion (basically, `.substring(3)` to lop off the `get`, then lowercase the first character, though note that the rules for getter to field name get contradictory if the first &#39;word&#39; of the field is a single letter, such as `getXAxis`, where half of the beanspec documents say the field name is definitely `XAxis`, as `xAxis` would have become `getxAxis`, and the other half say it is ambiguous and could mean the field name is `XAxis` or `xAxis`).\r\n\r\nIt looks something like this:\r\n\r\n```\r\n// intentionally raw type!\r\nMap comparators = new HashMap();\r\nfor (Method m : Person.class.getMethods()) {\r\n  if (Modifiers.isStatic(m.getModifiers()) continue;\r\n  if (m.getParameterCount() != 0) continue;\r\n  String n = m.getName();\r\n  if (!n.startsWith(&quot;get&quot;) || n.length() &lt; 4) continue;\r\n  n = Character.toLowerCase(n.charAt(3)) + n.substring(4);\r\n  comparators.put(n, (a, b) -&gt; {\r\n    Object aa = m.invoke(a);\r\n    Object bb = m.invoke(b);\r\n    return ((Comparable) aa).compareTo(bb);\r\n  });\r\n}\r\nMyClass.COMPARATORS = (Map&lt;String, Comparator&lt;?&gt;&gt;) Collections.unmodifiableMap(comparators);\r\n```\r\n\r\nNote how this causes a boatload of errors because you just chucked type checking out the window - there is no actual way to ensure that any given getter type actually _is_ an appropriate Comparable. The warnings are correct and you have to ignore them, no fixing that, if you go by this route.\r\n\r\nYou also get a ton of checked exceptions issues that you&#39;ll have to deal with by catching them and rethrowing something appropriate; possibly `RuntimeException` or similar if you want to disregard the need to deal with them by callers (some RuntimeException is appropriate if you consider any attempt to add a field of a type that isn&#39;t naturally comparable &#39;a bug&#39;).\r\n\r\n## Annotation Processors\r\n\r\nThis is a lot more complicated: You can stick annotations on a method, and then have an annotation processor that sees these and _generates_ a source file that does what you want. This is more flexible and more &#39;compile time checked&#39;, in that you can e.g. check that things are of an appropriate type, or add support for mentioning a class in the annotation that is an implementation of `Comparable&lt;T&gt;`, T being compatible with the type of the field you so annotate. You can also annotate methods themselves (e.g. a `public Month getBirthMonth()` method). I suggest you search the web for an annotation processor tutorial, it&#39;d be a bit much to stuff an example in an SO answer. Expect to spend a few days learning and writing it, it won&#39;t be trivial.\r\n\r\n[1] This is a largely objective statement. Falsifiable elements: There are no field-based &#39;lambda accessors&#39;; no `foo::fieldName` support. Java does not support structural typing and there is no way to refer to things in the language by name alone, only by fully qualified name (you can let the compiler infer things, but the compiler always translates what you write to a fully &quot;named&quot; (package name, type name that the thing you are referring to is in, and finally the name of the method or field) and then sticks _that_ in the class file).\r\n\r\n[2] At least in the Netherlands it is somewhat common to split patient populations up by birth month (as a convenient way to split a population into 12 roughly equally sized, mostly arbitrary chunks) e.g. for inviting them in for a checkup or a flu shot or whatnot.","title":"get a getter method from field name to avoid if-else","body":"<p>In general java doesn't want you to work with it this way<sup>1</sup>; it is not a structurally typed language, and unlike e.g. javascript or python, objects aren't &quot;hashmaps of strings to thingies&quot;.</p>\n<p>Also, your request more fundamentally doesn't add up: You can't <em>just</em> go from &quot;field name&quot; to &quot;sort on that&quot;: What if the field's type isn't inherently sortable (is not a subtype of <code>Comparator&lt;Self&gt;</code>?)</p>\n<p>What if there is a column in whatever view we're talking about / config file that is 'generated'? Imagine you have a field <code>LocalDate birthDate;</code> but you have a column 'birth month'<sup>2</sup>. You can sort on birth month, no problem. However, given that it's a 'generated value' (not backed directly by a field, instead, derived from a calculation based on field(s)), you can't just sort on this. You can't even sort on the backing field (as that would sort by birth year first, not what you want), nor does 'backing field' make sense; what if the virtual column is based on multiple fields?</p>\n<p>It is certainly possible that currently you aren't imagining either virtual columns or fields whose type isn't self-sortable and that therefore you want to deposit a rule that for this class, you <strong>close the door</strong> on these two notions until a pretty major refactor, but it goes to show perhaps why &quot;java does not work that way&quot; is in fact somewhat 'good' (closely meshes with real life concerns), and why your example isn't as boilerplatey as you may have initially thought: No, it is <strong>not</strong>, in fact, inevitable. Specifically, you seem to want:</p>\n<ul>\n<li>There is an exact 1-to-1 match between 'column sort keys' and field names.</li>\n<li>The strategy to deliver on the request to sort on a given column sort key is always the same: Take the column sort key. Find the field (it has the same name); now find its getter. Create a comparator based on comparing get calls; this getter returns a type that has a natural sorting order guaranteed.</li>\n</ul>\n<p>Which are 2 non-obvious preconditions that seem to have gotten a bit lost. At any rate, a statement like:</p>\n<pre><code>if(sortBy.equals(&quot;firstName&quot;))\n personList.sort(Comparator.comparing(Person::getFirstName));\n</code></pre>\n<p><em>encodes</em> these 2 non-obvious properties, and trivially, therefore means it is also possible to add virtual columns as well as sort keys that work differently (for example, sorts on birth month, or, sorts on some explicit comparator you write for this purpose. Or even sorts case insensitively; strings by default do not do that, you'd have to sort by <code>String.CASE_INSENSITIVE_COMPARATOR</code> instead.</p>\n<p>It strikes me as a rather badly written app if a change request comes in with: &quot;Hey, could you make the sort option that sorts on patient name be case insensitive?&quot; and you go: &quot;Hooo boy that'll be a personweek+ of refactoring work!&quot;, no?</p>\n<p>But, if you insist, you have 2 broad options:</p>\n<h2>Reflection</h2>\n<p>Reflection lets you write code that programatically gets a list of field names, method names, and can also be used to programatically call them. You can fetch a list of method names and filter out everything except:</p>\n<ul>\n<li>instance methods</li>\n<li>with no arguments</li>\n<li>whose name starts with <code>get</code></li>\n</ul>\n<p>And do a simple-ish get-prefix-to-sort-key conversion (basically, <code>.substring(3)</code> to lop off the <code>get</code>, then lowercase the first character, though note that the rules for getter to field name get contradictory if the first 'word' of the field is a single letter, such as <code>getXAxis</code>, where half of the beanspec documents say the field name is definitely <code>XAxis</code>, as <code>xAxis</code> would have become <code>getxAxis</code>, and the other half say it is ambiguous and could mean the field name is <code>XAxis</code> or <code>xAxis</code>).</p>\n<p>It looks something like this:</p>\n<pre><code>// intentionally raw type!\nMap comparators = new HashMap();\nfor (Method m : Person.class.getMethods()) {\n  if (Modifiers.isStatic(m.getModifiers()) continue;\n  if (m.getParameterCount() != 0) continue;\n  String n = m.getName();\n  if (!n.startsWith(&quot;get&quot;) || n.length() &lt; 4) continue;\n  n = Character.toLowerCase(n.charAt(3)) + n.substring(4);\n  comparators.put(n, (a, b) -&gt; {\n    Object aa = m.invoke(a);\n    Object bb = m.invoke(b);\n    return ((Comparable) aa).compareTo(bb);\n  });\n}\nMyClass.COMPARATORS = (Map&lt;String, Comparator&lt;?&gt;&gt;) Collections.unmodifiableMap(comparators);\n</code></pre>\n<p>Note how this causes a boatload of errors because you just chucked type checking out the window - there is no actual way to ensure that any given getter type actually <em>is</em> an appropriate Comparable. The warnings are correct and you have to ignore them, no fixing that, if you go by this route.</p>\n<p>You also get a ton of checked exceptions issues that you'll have to deal with by catching them and rethrowing something appropriate; possibly <code>RuntimeException</code> or similar if you want to disregard the need to deal with them by callers (some RuntimeException is appropriate if you consider any attempt to add a field of a type that isn't naturally comparable 'a bug').</p>\n<h2>Annotation Processors</h2>\n<p>This is a lot more complicated: You can stick annotations on a method, and then have an annotation processor that sees these and <em>generates</em> a source file that does what you want. This is more flexible and more 'compile time checked', in that you can e.g. check that things are of an appropriate type, or add support for mentioning a class in the annotation that is an implementation of <code>Comparable&lt;T&gt;</code>, T being compatible with the type of the field you so annotate. You can also annotate methods themselves (e.g. a <code>public Month getBirthMonth()</code> method). I suggest you search the web for an annotation processor tutorial, it'd be a bit much to stuff an example in an SO answer. Expect to spend a few days learning and writing it, it won't be trivial.</p>\n<p>[1] This is a largely objective statement. Falsifiable elements: There are no field-based 'lambda accessors'; no <code>foo::fieldName</code> support. Java does not support structural typing and there is no way to refer to things in the language by name alone, only by fully qualified name (you can let the compiler infer things, but the compiler always translates what you write to a fully &quot;named&quot; (package name, type name that the thing you are referring to is in, and finally the name of the method or field) and then sticks <em>that</em> in the class file).</p>\n<p>[2] At least in the Netherlands it is somewhat common to split patient populations up by birth month (as a convenient way to split a population into 12 roughly equally sized, mostly arbitrary chunks) e.g. for inviting them in for a checkup or a flu shot or whatnot.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661739513,"creation_date":1661699586,"answer_id":73519870,"question_id":73516275,"body_markdown":"Assuming that the `sortBy` values and the corresponding getters are known at compile, this would be a good place to use a string `switch` statement:\r\n\r\n    Function&lt;Person.String&gt; getter = null;\r\n    switch (sortBy) {\r\n        case &quot;firstName&quot;:\r\n            getter = Person::getFirstName; break;\r\n        case &quot;lastName&quot;:\r\n            getter = Person::getLastName; break;\r\n        ...\r\n    }\r\n    personList.sort(Comparator.comparing(getter));\r\n\r\nIf you use a recent version of Java (Java 12 and later) you could use a `switch` expression rather than a `switch` statement.\r\n\r\n    Function&lt;Person.String&gt; getter;\r\n    getter = switch (sortBy) {\r\n        case &quot;firstName&quot; -&gt; Person::getFirstName; \r\n        case &quot;lastName&quot; -&gt; Person::getLastName;\r\n        ...\r\n        default -&gt; null;\r\n    }\r\n    personList.sort(Comparator.comparing(getter));\r\n\r\nNote: you should do a better job (than my dodgy code) of dealing with the case where the `sortBy` value is not recognized.\r\n","title":"get a getter method from field name to avoid if-else","body":"<p>Assuming that the <code>sortBy</code> values and the corresponding getters are known at compile, this would be a good place to use a string <code>switch</code> statement:</p>\n<pre><code>Function&lt;Person.String&gt; getter = null;\nswitch (sortBy) {\n    case &quot;firstName&quot;:\n        getter = Person::getFirstName; break;\n    case &quot;lastName&quot;:\n        getter = Person::getLastName; break;\n    ...\n}\npersonList.sort(Comparator.comparing(getter));\n</code></pre>\n<p>If you use a recent version of Java (Java 12 and later) you could use a <code>switch</code> expression rather than a <code>switch</code> statement.</p>\n<pre><code>Function&lt;Person.String&gt; getter;\ngetter = switch (sortBy) {\n    case &quot;firstName&quot; -&gt; Person::getFirstName; \n    case &quot;lastName&quot; -&gt; Person::getLastName;\n    ...\n    default -&gt; null;\n}\npersonList.sort(Comparator.comparing(getter));\n</code></pre>\n<p>Note: you should do a better job (than my dodgy code) of dealing with the case where the <code>sortBy</code> value is not recognized.</p>\n"}],"owner":{"account_id":13072244,"reputation":2184,"user_id":10014361,"display_name":"Aven Desta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1102,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1661739513,"creation_date":1661665121,"question_id":73516275,"body_markdown":"I have this code, which obviously doesn&#39;t look nice - it seems all the if-else can somehow be avoided.\r\n```java\r\nif(sortBy.equals(&quot;firstName&quot;))\r\n personList.sort(Comparator.comparing(Person::getFirstName));\r\nelse if(sortBy.equals(&quot;lastName&quot;)) \r\n personList.sort(Comparator.comparing(Person::getLastName));\r\nelse if(sortBy.equals(&quot;age&quot;)) \r\n personList.sort(Comparator.comparing(Person::getAge));\r\nelse if(sortBy.equals(&quot;city&quot;)) \r\n personList.sort(Comparator.comparing(Person::getCity));\r\nelse if(sortBy.equals(&quot;state&quot;)) \r\n personList.sort(Comparator.comparing(Person::getState));\r\nelse if(sortBy.equals(&quot;zipCode&quot;)) \r\n personList.sort(Comparator.comparing(Person::getZipCode));\r\n```\r\nthe function takes `sortBy`, which is the name of one of the attributes of a `Person`, and applies a sorting to a `personList` based on that field. How can I avoid the if-else and write a better looking, possibily one line code?\r\n\r\nCurrently I have found that I can use a HashMap to create a mapping between a field name and a corresponding comparator. \r\n```java\r\nmap.put(&quot;age&quot;, Comparator.comparing(Person::getAge));\r\nmap.put(&quot;firstName&quot;, Comparator.comparing(Person::getFirstName))\r\n...\r\n```\r\nAnd use `personList.sort(map.get(sortBy))`.\r\n\r\nBut still felt like it can further be improved without an extra step, to the point where it follows the open-closed principle, and adding a new field to `Person` would not need us to modify the code. I&#39;m looking for something like \r\n```\r\npersonList.sort(Comparator.comparing(Person::getterOfField(sortBy)))\r\n```\r\n\r\n**UPDATE-1**\r\n\r\nFor now, I decided to stick with using a `Map&lt;String, Function&lt;Person, Comparable&lt;?&gt;&gt;` and I do not like to consider reflection based solutions. But still searching if I can find a similar way as [this][1] one where sort is a parameter.\r\n\r\n**UPDATE-2**\r\n\r\nI think a one-liner is not a good solution, cuz you wouldn&#39;t get a compile time error if one of the fields does not implement Comparator.\r\n\r\n  [1]: https://www.baeldung.com/spring-data-jpa-pagination-sorting","title":"get a getter method from field name to avoid if-else","body":"<p>I have this code, which obviously doesn't look nice - it seems all the if-else can somehow be avoided.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(sortBy.equals(&quot;firstName&quot;))\n personList.sort(Comparator.comparing(Person::getFirstName));\nelse if(sortBy.equals(&quot;lastName&quot;)) \n personList.sort(Comparator.comparing(Person::getLastName));\nelse if(sortBy.equals(&quot;age&quot;)) \n personList.sort(Comparator.comparing(Person::getAge));\nelse if(sortBy.equals(&quot;city&quot;)) \n personList.sort(Comparator.comparing(Person::getCity));\nelse if(sortBy.equals(&quot;state&quot;)) \n personList.sort(Comparator.comparing(Person::getState));\nelse if(sortBy.equals(&quot;zipCode&quot;)) \n personList.sort(Comparator.comparing(Person::getZipCode));\n</code></pre>\n<p>the function takes <code>sortBy</code>, which is the name of one of the attributes of a <code>Person</code>, and applies a sorting to a <code>personList</code> based on that field. How can I avoid the if-else and write a better looking, possibily one line code?</p>\n<p>Currently I have found that I can use a HashMap to create a mapping between a field name and a corresponding comparator.</p>\n<pre class=\"lang-java prettyprint-override\"><code>map.put(&quot;age&quot;, Comparator.comparing(Person::getAge));\nmap.put(&quot;firstName&quot;, Comparator.comparing(Person::getFirstName))\n...\n</code></pre>\n<p>And use <code>personList.sort(map.get(sortBy))</code>.</p>\n<p>But still felt like it can further be improved without an extra step, to the point where it follows the open-closed principle, and adding a new field to <code>Person</code> would not need us to modify the code. I'm looking for something like</p>\n<pre><code>personList.sort(Comparator.comparing(Person::getterOfField(sortBy)))\n</code></pre>\n<p><strong>UPDATE-1</strong></p>\n<p>For now, I decided to stick with using a <code>Map&lt;String, Function&lt;Person, Comparable&lt;?&gt;&gt;</code> and I do not like to consider reflection based solutions. But still searching if I can find a similar way as <a href=\"https://www.baeldung.com/spring-data-jpa-pagination-sorting\" rel=\"nofollow noreferrer\">this</a> one where sort is a parameter.</p>\n<p><strong>UPDATE-2</strong></p>\n<p>I think a one-liner is not a good solution, cuz you wouldn't get a compile time error if one of the fields does not implement Comparator.</p>\n"},{"tags":["java","memory"],"owner":{"account_id":328297,"reputation":106386,"user_id":651174,"accept_rate":92,"display_name":"David542"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661738376,"creation_date":1661737984,"question_id":73523473,"body_markdown":"Is there a way or utility where the maximum memory pressure can be seen in running a program such as the following:\r\n\r\n    $ java org.antlr.v4.gui.TestRig test Root run.txt\r\n\r\nIs `jconsole` the best way to do this, or is there something a bit simpler/basic where I can just do something like:\r\n\r\n    $ java -verbose = maxMemory ...","title":"Find max usage of memory in a java program?","body":"<p>Is there a way or utility where the maximum memory pressure can be seen in running a program such as the following:</p>\n<pre><code>$ java org.antlr.v4.gui.TestRig test Root run.txt\n</code></pre>\n<p>Is <code>jconsole</code> the best way to do this, or is there something a bit simpler/basic where I can just do something like:</p>\n<pre><code>$ java -verbose = maxMemory ...\n</code></pre>\n"},{"tags":["java","android","kotlin","android-room","callable"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661735712,"creation_date":1661735712,"answer_id":73523324,"question_id":73523248,"body_markdown":"You are instantiating an anonymous inner class. Do it once outside the methods and use the field instance of your `Callable`.\r\n\r\n    private Callable&lt;List&lt;Task&gt;&gt; callable = new Callable&lt;List&lt;Task&gt;&gt;() {\r\n        @Override\r\n        public List&lt;Task&gt; call() throws Exception {\r\n            return appDataBase.taskDao().getAllUnCompletedTasksAsList();\r\n        }\r\n    };\r\n\r\nAnd (for example)\r\n\r\n    public List&lt;Task&gt; getAllUnCompletedTasksAsList() {\r\n        /*\r\n        Callable&lt;List&lt;Task&gt;&gt; callable = new Callable&lt;List&lt;Task&gt;&gt;() {\r\n            @Override\r\n            public List&lt;Task&gt; call() throws Exception {\r\n                return appDataBase.taskDao().getAllUnCompletedTasksAsList();\r\n            }\r\n        };\r\n        */\r\n        Future&lt;List&lt;Task&gt;&gt; future = Executors.newSingleThreadExecutor().submit(this.callable);\r\n    \r\n        try {\r\n            return future.get();\r\n        } catch (ExecutionException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }","title":"Using Callable In ROOM","body":"<p>You are instantiating an anonymous inner class. Do it once outside the methods and use the field instance of your <code>Callable</code>.</p>\n<pre><code>private Callable&lt;List&lt;Task&gt;&gt; callable = new Callable&lt;List&lt;Task&gt;&gt;() {\n    @Override\n    public List&lt;Task&gt; call() throws Exception {\n        return appDataBase.taskDao().getAllUnCompletedTasksAsList();\n    }\n};\n</code></pre>\n<p>And (for example)</p>\n<pre><code>public List&lt;Task&gt; getAllUnCompletedTasksAsList() {\n    /*\n    Callable&lt;List&lt;Task&gt;&gt; callable = new Callable&lt;List&lt;Task&gt;&gt;() {\n        @Override\n        public List&lt;Task&gt; call() throws Exception {\n            return appDataBase.taskDao().getAllUnCompletedTasksAsList();\n        }\n    };\n    */\n    Future&lt;List&lt;Task&gt;&gt; future = Executors.newSingleThreadExecutor().submit(this.callable);\n\n    try {\n        return future.get();\n    } catch (ExecutionException | InterruptedException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":16434767,"reputation":167,"user_id":11872622,"display_name":"HoLoGram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661735712,"creation_date":1661734241,"question_id":73523248,"body_markdown":"I am building TODO app with room database and MVVM.\r\n\r\nSo since I can&#39;t use ROOM in main thread,I searched for solutions and came across &quot;Callable&quot; which is just what I need!\r\n\r\nSince I have more than 5 functions that make database calls, I wonder **how I can use the same Callable code instead of writing it 5 times in different functions.**\r\n\r\n**This is how I currently doing it:**\r\n\r\n    public List&lt;Task&gt; getAllUnCompletedTasksAsList() {\r\n    \r\n        Callable&lt;List&lt;Task&gt;&gt; callable = new Callable&lt;List&lt;Task&gt;&gt;() {\r\n            @Override\r\n            public List&lt;Task&gt; call() throws Exception {\r\n                return appDataBase.taskDao().getAllUnCompletedTasksAsList();\r\n            }\r\n        };\r\n    \r\n        Future&lt;List&lt;Task&gt;&gt; future = Executors.newSingleThreadExecutor().submit(callable);\r\n    \r\n        try {\r\n            return future.get();\r\n        } catch (ExecutionException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public List&lt;Task&gt; getCompletedTasksAsList() {\r\n\r\n        Callable&lt;List&lt;Task&gt;&gt; callable = new Callable&lt;List&lt;Task&gt;&gt;() {\r\n            @Override\r\n            public List&lt;Task&gt; call() throws Exception {\r\n                return appDataBase.taskDao().getCompletedTasksAsList();\r\n            }\r\n        };\r\n\r\n        Future&lt;List&lt;Task&gt;&gt; future = Executors.newSingleThreadExecutor().submit(callable);\r\n\r\n        try {\r\n            return future.get();\r\n        } catch (ExecutionException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public List&lt;Task&gt; getWeeklyTasksAsList() {\r\n\r\n        Callable&lt;List&lt;Task&gt;&gt; callable = new Callable&lt;List&lt;Task&gt;&gt;() {\r\n            @Override\r\n            public List&lt;Task&gt; call() throws Exception {\r\n                return appDataBase.taskDao().getWeeklyTasksAsList();\r\n            }\r\n        };\r\n\r\n        Future&lt;List&lt;Task&gt;&gt; future = Executors.newSingleThreadExecutor().submit(callable);\r\n\r\n        try {\r\n            return future.get();\r\n        } catch (ExecutionException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\nI would love to hear your suggestions,Thank you !\r\n\r\n\r\n\r\n\r\n","title":"Using Callable In ROOM","body":"<p>I am building TODO app with room database and MVVM.</p>\n<p>So since I can't use ROOM in main thread,I searched for solutions and came across &quot;Callable&quot; which is just what I need!</p>\n<p>Since I have more than 5 functions that make database calls, I wonder <strong>how I can use the same Callable code instead of writing it 5 times in different functions.</strong></p>\n<p><strong>This is how I currently doing it:</strong></p>\n<pre><code>public List&lt;Task&gt; getAllUnCompletedTasksAsList() {\n\n    Callable&lt;List&lt;Task&gt;&gt; callable = new Callable&lt;List&lt;Task&gt;&gt;() {\n        @Override\n        public List&lt;Task&gt; call() throws Exception {\n            return appDataBase.taskDao().getAllUnCompletedTasksAsList();\n        }\n    };\n\n    Future&lt;List&lt;Task&gt;&gt; future = Executors.newSingleThreadExecutor().submit(callable);\n\n    try {\n        return future.get();\n    } catch (ExecutionException | InterruptedException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n\npublic List&lt;Task&gt; getCompletedTasksAsList() {\n\n    Callable&lt;List&lt;Task&gt;&gt; callable = new Callable&lt;List&lt;Task&gt;&gt;() {\n        @Override\n        public List&lt;Task&gt; call() throws Exception {\n            return appDataBase.taskDao().getCompletedTasksAsList();\n        }\n    };\n\n    Future&lt;List&lt;Task&gt;&gt; future = Executors.newSingleThreadExecutor().submit(callable);\n\n    try {\n        return future.get();\n    } catch (ExecutionException | InterruptedException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n\npublic List&lt;Task&gt; getWeeklyTasksAsList() {\n\n    Callable&lt;List&lt;Task&gt;&gt; callable = new Callable&lt;List&lt;Task&gt;&gt;() {\n        @Override\n        public List&lt;Task&gt; call() throws Exception {\n            return appDataBase.taskDao().getWeeklyTasksAsList();\n        }\n    };\n\n    Future&lt;List&lt;Task&gt;&gt; future = Executors.newSingleThreadExecutor().submit(callable);\n\n    try {\n        return future.get();\n    } catch (ExecutionException | InterruptedException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n<p>I would love to hear your suggestions,Thank you !</p>\n"},{"tags":["java","flutter","dart"],"comments":[{"owner":{"account_id":18690980,"reputation":1228,"user_id":13625305,"display_name":"dev-aentgs"},"score":0,"creation_date":1592132380,"post_id":62371402,"comment_id":110309209,"body_markdown":"What is you flutter code? Check the [flutter.dev guide](https://flutter.dev/docs/development/platform-integration/platform-channels)","body":"What is you flutter code? Check the <a href=\"https://flutter.dev/docs/development/platform-integration/platform-channels\" rel=\"nofollow noreferrer\">flutter.dev guide</a>"},{"owner":{"account_id":17252917,"reputation":1266,"user_id":12492675,"display_name":"Simran Aswani"},"score":0,"creation_date":1592132579,"post_id":62371402,"comment_id":110309270,"body_markdown":"Ive edited the question could you please have a look?","body":"Ive edited the question could you please have a look?"},{"owner":{"account_id":18690980,"reputation":1228,"user_id":13625305,"display_name":"dev-aentgs"},"score":0,"creation_date":1592132931,"post_id":62371402,"comment_id":110309370,"body_markdown":"Check the `imports` in `MainActivity.java` once,\non flutter.dev  they are `import androidx.annotation.NonNull;`\n`import io.flutter.embedding.android.FlutterActivity;`\n`import io.flutter.embedding.engine.FlutterEngine;`\n`import io.flutter.plugin.common.MethodChannel;`","body":"Check the <code>imports</code> in <code>MainActivity.java</code> once, on flutter.dev  they are <code>import androidx.annotation.NonNull;</code> <code>import io.flutter.embedding.android.FlutterActivity;</code> <code>import io.flutter.embedding.engine.FlutterEngine;</code> <code>import io.flutter.plugin.common.MethodChannel;</code>"}],"answers":[{"tags":[],"owner":{"account_id":2914299,"reputation":9061,"user_id":2497859,"display_name":"Omatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661735478,"creation_date":1661735478,"answer_id":73523314,"question_id":62371402,"body_markdown":"The error is usually thrown when the Android build has issues compiling after upgrading the Flutter SDK. A quick workaround here is to regenerate the Android build by deleting the `/android` folder and generating a new one by running `flutter create --platforms=android` on the terminal.","title":"MainActivity cannot be converted to FlutterEngine in MainActivity.java in Flutter","body":"<p>The error is usually thrown when the Android build has issues compiling after upgrading the Flutter SDK. A quick workaround here is to regenerate the Android build by deleting the <code>/android</code> folder and generating a new one by running <code>flutter create --platforms=android</code> on the terminal.</p>\n"}],"owner":{"account_id":17252917,"reputation":1266,"user_id":12492675,"display_name":"Simran Aswani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1950,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661735478,"creation_date":1592131368,"question_id":62371402,"body_markdown":"I&#39;m trying to call a few methods from native android Java files to Flutter. In my `MainActivity.java` file i am getting the following error: \r\n\r\n    error: incompatible types: MainActivity cannot be converted to FlutterEngine\r\n        GeneratedPluginRegistrant.registerWith(this);\r\n                                               ^\r\n    Note: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\r\n    1 error\r\n    \r\n    FAILURE: Build failed with an exception. \r\nThis is the code in the `MainActivity.java` file: \r\n\r\n    import android.os.Bundle;\r\n    import io.flutter.app.FlutterActivity;\r\n    import io.flutter.plugin.common.MethodCall;\r\n    import io.flutter.plugin.common.MethodChannel;\r\n    import io.flutter.plugins.GeneratedPluginRegistrant;\r\n    public class MainActivity extends FlutterActivity {\r\n      private static final String CHANNEL = &quot;flutter.native/helper&quot;;\r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        GeneratedPluginRegistrant.registerWith(this);\r\n        new MethodChannel(getFlutterView(), CHANNEL).setMethodCallHandler(\r\n                new MethodChannel.MethodCallHandler() {\r\n                  @Override\r\n                  public void onMethodCall(MethodCall call, MethodChannel.Result result) {\r\n                    if (call.method.equals(&quot;helloFromNativeCode&quot;)) {\r\n                      String greetings = helloFromNativeCode();\r\n                      result.success(greetings);\r\n                    }\r\n                  }});\r\n      }\r\n    private String helloFromNativeCode() {\r\n        return &quot;Hello from Native Android Code&quot;;\r\n      }\r\n    } \r\n\r\nGiven below is my Flutter code that I&#39;m calling in my main.dart:\r\n\r\n    import &#39;package:flutter/material.dart&#39;;\r\n    import &#39;dart:async&#39;;\r\n    import &#39;package:flutter/services.dart&#39;;\r\n    void main() =&gt; runApp(new MyApp());\r\n    class MyApp extends StatelessWidget {\r\n      @override\r\n      Widget build(BuildContext context) {\r\n        return new MaterialApp(\r\n          home: new HomePage(),\r\n        );\r\n      }\r\n    }\r\n    class HomePage extends StatelessWidget {\r\n      @override\r\n      Widget build(BuildContext context) {\r\n        return new Scaffold(\r\n          appBar: new AppBar(\r\n            title: const Text(&#39;Native Code from Dart&#39;),\r\n          ),\r\n          body: new MyHomePage(),\r\n        );\r\n      }\r\n    }\r\n    class MyHomePage extends StatefulWidget {\r\n      MyHomePage({Key key, this.title}) : super(key: key);\r\n      final String title;\r\n      @override\r\n      _MyHomePageState createState() =&gt; new _MyHomePageState();\r\n    }\r\n    class _MyHomePageState extends State&lt;MyHomePage&gt; {\r\n      static const platform = const MethodChannel(&#39;flutter.native/helper&#39;);\r\n      String _responseFromNativeCode = &#39;Waiting for Response...&#39;;\r\n      Future&lt;void&gt; responseFromNativeCode() async {\r\n        String response = &quot;&quot;;\r\n        try {\r\n          final String result = await platform.invokeMethod(&#39;helloFromNativeCode&#39;);\r\n          response = result;\r\n        } on PlatformException catch (e) {\r\n          response = &quot;Failed to Invoke: &#39;${e.message}&#39;.&quot;;\r\n        }\r\n        setState(() {\r\n          _responseFromNativeCode = response;\r\n        });\r\n      }\r\n      @override\r\n      Widget build(BuildContext context) {\r\n        return Material(\r\n          child: Center(\r\n            child: Column(\r\n              mainAxisAlignment: MainAxisAlignment.spaceEvenly,\r\n              children: [\r\n                RaisedButton(\r\n                  child: Text(&#39;Call Native Method&#39;),\r\n                  onPressed: responseFromNativeCode,\r\n                ),\r\n                Text(_responseFromNativeCode),\r\n              ],\r\n            ),\r\n          ),\r\n        );\r\n      }\r\n    }\r\n\r\nI am trying to implement something similar to what is given [here][1].\r\nI&#39;ve tried various ways to call this however I haven&#39;t been able to.\r\n\r\n  [1]: https://medium.com/47billion/creating-a-bridge-in-flutter-between-dart-and-native-code-in-java-or-objectivec-5f80fd0cd713","title":"MainActivity cannot be converted to FlutterEngine in MainActivity.java in Flutter","body":"<p>I'm trying to call a few methods from native android Java files to Flutter. In my <code>MainActivity.java</code> file i am getting the following error: </p>\n\n<pre><code>error: incompatible types: MainActivity cannot be converted to FlutterEngine\n    GeneratedPluginRegistrant.registerWith(this);\n                                           ^\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\n1 error\n\nFAILURE: Build failed with an exception. \n</code></pre>\n\n<p>This is the code in the <code>MainActivity.java</code> file: </p>\n\n<pre><code>import android.os.Bundle;\nimport io.flutter.app.FlutterActivity;\nimport io.flutter.plugin.common.MethodCall;\nimport io.flutter.plugin.common.MethodChannel;\nimport io.flutter.plugins.GeneratedPluginRegistrant;\npublic class MainActivity extends FlutterActivity {\n  private static final String CHANNEL = \"flutter.native/helper\";\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    GeneratedPluginRegistrant.registerWith(this);\n    new MethodChannel(getFlutterView(), CHANNEL).setMethodCallHandler(\n            new MethodChannel.MethodCallHandler() {\n              @Override\n              public void onMethodCall(MethodCall call, MethodChannel.Result result) {\n                if (call.method.equals(\"helloFromNativeCode\")) {\n                  String greetings = helloFromNativeCode();\n                  result.success(greetings);\n                }\n              }});\n  }\nprivate String helloFromNativeCode() {\n    return \"Hello from Native Android Code\";\n  }\n} \n</code></pre>\n\n<p>Given below is my Flutter code that I'm calling in my main.dart:</p>\n\n<pre><code>import 'package:flutter/material.dart';\nimport 'dart:async';\nimport 'package:flutter/services.dart';\nvoid main() =&gt; runApp(new MyApp());\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new MaterialApp(\n      home: new HomePage(),\n    );\n  }\n}\nclass HomePage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return new Scaffold(\n      appBar: new AppBar(\n        title: const Text('Native Code from Dart'),\n      ),\n      body: new MyHomePage(),\n    );\n  }\n}\nclass MyHomePage extends StatefulWidget {\n  MyHomePage({Key key, this.title}) : super(key: key);\n  final String title;\n  @override\n  _MyHomePageState createState() =&gt; new _MyHomePageState();\n}\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  static const platform = const MethodChannel('flutter.native/helper');\n  String _responseFromNativeCode = 'Waiting for Response...';\n  Future&lt;void&gt; responseFromNativeCode() async {\n    String response = \"\";\n    try {\n      final String result = await platform.invokeMethod('helloFromNativeCode');\n      response = result;\n    } on PlatformException catch (e) {\n      response = \"Failed to Invoke: '${e.message}'.\";\n    }\n    setState(() {\n      _responseFromNativeCode = response;\n    });\n  }\n  @override\n  Widget build(BuildContext context) {\n    return Material(\n      child: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n          children: [\n            RaisedButton(\n              child: Text('Call Native Method'),\n              onPressed: responseFromNativeCode,\n            ),\n            Text(_responseFromNativeCode),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>I am trying to implement something similar to what is given <a href=\"https://medium.com/47billion/creating-a-bridge-in-flutter-between-dart-and-native-code-in-java-or-objectivec-5f80fd0cd713\" rel=\"nofollow noreferrer\">here</a>.\nI've tried various ways to call this however I haven't been able to.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"score":1,"creation_date":1644587869,"post_id":71080814,"comment_id":125652792,"body_markdown":"Does this answer your question? [Spring JPA / Hibernate transaction force insert instead of update](https://stackoverflow.com/questions/37253175/spring-jpa-hibernate-transaction-force-insert-instead-of-update)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/37253175/spring-jpa-hibernate-transaction-force-insert-instead-of-update\">Spring JPA / Hibernate transaction force insert instead of update</a>"}],"answers":[{"tags":[],"owner":{"account_id":77251,"reputation":17324,"user_id":220627,"accept_rate":79,"display_name":"Adrian Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657208091,"creation_date":1657208091,"answer_id":72900612,"question_id":71080814,"body_markdown":"There is no way to do just an INSERT without UPDATE in JPA out-of-the-box.\r\n\r\nYou need to define your own INSERT method on your JpaRepository and then call it from your code.\r\n\r\n```\r\npublic interface MyRepository extends JpaRepository&lt;MyRecord, Integer&gt; {\r\n    \r\n    ....\r\n\r\n    @Modifying(clearAutomatically = true)\r\n    @Transactional\r\n    @Query(value = &quot;INSERT INTO my_table (field1, field2) &quot;\r\n        + &quot;VALUES (:#{#c.field1}, :#{#c.field2})&quot;, nativeQuery = true)\r\n    public void insert(@Param(&quot;c&quot;) MyRecord c);\r\n\r\n}\r\n```\r\n\r\nAnd then in the code doing the insert:\r\n\r\n```\r\nfinal var newRecord = MyRecord.builder()\r\n    .field1(...)\r\n    ....\r\n    .build();\r\n\r\ntry {\r\n    myRepository.insert(newRecord);\r\n} catch (DataIntegrityViolationException e) {\r\n    ....\r\n}\r\n```\r\n","title":"How to let JPArepository.save() do insert only and prevent update?","body":"<p>There is no way to do just an INSERT without UPDATE in JPA out-of-the-box.</p>\n<p>You need to define your own INSERT method on your JpaRepository and then call it from your code.</p>\n<pre><code>public interface MyRepository extends JpaRepository&lt;MyRecord, Integer&gt; {\n    \n    ....\n\n    @Modifying(clearAutomatically = true)\n    @Transactional\n    @Query(value = &quot;INSERT INTO my_table (field1, field2) &quot;\n        + &quot;VALUES (:#{#c.field1}, :#{#c.field2})&quot;, nativeQuery = true)\n    public void insert(@Param(&quot;c&quot;) MyRecord c);\n\n}\n</code></pre>\n<p>And then in the code doing the insert:</p>\n<pre><code>final var newRecord = MyRecord.builder()\n    .field1(...)\n    ....\n    .build();\n\ntry {\n    myRepository.insert(newRecord);\n} catch (DataIntegrityViolationException e) {\n    ....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1661735099,"creation_date":1660272419,"answer_id":73328759,"question_id":71080814,"body_markdown":"Finally, I&#39;ve found the solution.\r\nI just implement Persistable interface and ovrride the isNew() to be always true.\r\n\r\nExample:\r\n\r\n    @Entity\r\n    public class ChessGame implements Persistable&lt;Long&gt; {\r\n     \r\n        @Id\r\n        private Long id;\r\n    \r\n     \r\n        @Override\r\n        public boolean isNew() {\r\n            return true;\r\n        }\r\n    }","title":"How to let JPArepository.save() do insert only and prevent update?","body":"<p>Finally, I've found the solution.\nI just implement Persistable interface and ovrride the isNew() to be always true.</p>\n<p>Example:</p>\n<pre><code>@Entity\npublic class ChessGame implements Persistable&lt;Long&gt; {\n \n    @Id\n    private Long id;\n\n \n    @Override\n    public boolean isNew() {\n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9267,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":73328759,"answer_count":2,"score":9,"last_activity_date":1661735099,"creation_date":1644585758,"question_id":71080814,"body_markdown":"I am using JPArepository.save() to insert the record to the database but it will automatically update the existing record in the database. What I want to do is let it throw exception if there are records with same primary key in the database.\r\n\r\nI searched the solution in Google and find a solution that said use saveAndFlush instead of save can solve it. However, it still update the existing record after I used saveAndFlush.\r\n","title":"How to let JPArepository.save() do insert only and prevent update?","body":"<p>I am using JPArepository.save() to insert the record to the database but it will automatically update the existing record in the database. What I want to do is let it throw exception if there are records with same primary key in the database.</p>\n<p>I searched the solution in Google and find a solution that said use saveAndFlush instead of save can solve it. However, it still update the existing record after I used saveAndFlush.</p>\n"},{"tags":["java","grep"],"answers":[{"tags":[],"owner":{"account_id":385369,"reputation":28737,"user_id":742469,"accept_rate":92,"display_name":"Op De Cirkel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1307072429,"creation_date":1307071665,"answer_id":6222677,"question_id":6222659,"body_markdown":"`String.matches(someRegex);`\r\nInternally uses `java.util.regex.Pattern` and `Matcher`","title":"Java Grep Library","body":"<p><code>String.matches(someRegex);</code>\nInternally uses <code>java.util.regex.Pattern</code> and <code>Matcher</code></p>\n"},{"tags":[],"owner":{"account_id":392230,"reputation":6617,"user_id":753377,"accept_rate":68,"display_name":"Thor"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1446703961,"creation_date":1307081409,"answer_id":6223598,"question_id":6222659,"body_markdown":"&lt;strike&gt;I&#39;m not aware of a sophisticated grep library&lt;/strike&gt;strong text, but you are right: it&#39;s not hard to write.\r\nI suggest a combination of `commons-io`  and `String.matches(someRegex)`:\r\n\r\n    public class Grep extends DirectoryWalker\r\n    {\r\n        public Grep(){\r\n            super();\r\n        }\r\n    \r\n        public List clean(File startDirectory){\r\n          List results = new ArrayList();\r\n          walk(startDirectory, results);\r\n          return results;\r\n        }\r\n    \r\n        protected boolean handleDirectory(File directory,\r\n                                          int depth, Collection results){\r\n          // Decide if a (sub) directory will be handled for recursive search\r\n          return true;\r\n        }\r\n    \r\n        protected void handleFile(File file, int depth, Collection results)\r\n        {\r\n            LineIterator it = FileUtils.lineIterator(file, &quot;UTF-8&quot;);\r\n            try{\r\n                while (it.hasNext()){\r\n                    String line = it.nextLine();\r\n                    if(line.matches(&quot;myRegEx&quot;)){\r\n                        results.add(file);\r\n                    }\r\n                }\r\n             }\r\n             finally {LineIterator.closeQuietly(it);}\r\n        }\r\n    }\r\n\r\n----------\r\n**Update** Marco pointed out `Unix4j` which is a quite interesting library which emulates the unix pipelining `|` with Java method chaining. `grep` is supported as well as `cat, cd, cut, echo, find, grep, head, ls, sed, sort, tail, uniq, wc, barges`.","title":"Java Grep Library","body":"<p><strike>I'm not aware of a sophisticated grep library</strike>strong text, but you are right: it's not hard to write.\nI suggest a combination of <code>commons-io</code>  and <code>String.matches(someRegex)</code>:</p>\n\n<pre><code>public class Grep extends DirectoryWalker\n{\n    public Grep(){\n        super();\n    }\n\n    public List clean(File startDirectory){\n      List results = new ArrayList();\n      walk(startDirectory, results);\n      return results;\n    }\n\n    protected boolean handleDirectory(File directory,\n                                      int depth, Collection results){\n      // Decide if a (sub) directory will be handled for recursive search\n      return true;\n    }\n\n    protected void handleFile(File file, int depth, Collection results)\n    {\n        LineIterator it = FileUtils.lineIterator(file, \"UTF-8\");\n        try{\n            while (it.hasNext()){\n                String line = it.nextLine();\n                if(line.matches(\"myRegEx\")){\n                    results.add(file);\n                }\n            }\n         }\n         finally {LineIterator.closeQuietly(it);}\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong> Marco pointed out <code>Unix4j</code> which is a quite interesting library which emulates the unix pipelining <code>|</code> with Java method chaining. <code>grep</code> is supported as well as <code>cat, cd, cut, echo, find, grep, head, ls, sed, sort, tail, uniq, wc, barges</code>.</p>\n"},{"tags":[],"owner":{"account_id":1627138,"reputation":81,"user_id":1502442,"display_name":"marcocast"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1395768370,"creation_date":1341433504,"answer_id":11335078,"question_id":6222659,"body_markdown":"yep. Grep4j - a grep lib for Unix environments, and you can also grep remotely easy : http://code.google.com/p/grep4j/ ","title":"Java Grep Library","body":"<p>yep. Grep4j - a grep lib for Unix environments, and you can also grep remotely easy : <a href=\"http://code.google.com/p/grep4j/\">http://code.google.com/p/grep4j/</a> </p>\n"},{"tags":[],"owner":{"account_id":2974733,"reputation":721,"user_id":2526021,"display_name":"marco"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1661734434,"creation_date":1372285893,"answer_id":17331586,"question_id":6222659,"body_markdown":"Unix4j also implements a (pure java) grep command: http://www.unix4j.org\r\n\r\n    Unix4j.fromStrings(&quot;1:A&quot;, &quot;2:B&quot;, &quot;3:AB&quot;, &quot;4:AC&quot;, &quot;5:ABC&quot;).toFile(&quot;myFile.txt&quot;);\r\n    Unix4j.fromFile(&quot;myFile.txt&quot;).grep(&quot;AB&quot;).toStdOut();\r\n    \r\n    &gt;&gt;&gt;\r\n    3:AB \r\n    5:ABC\r\n\r\n**Disclosure:** I am one of the contributors to the unix4j project.","title":"Java Grep Library","body":"<p>Unix4j also implements a (pure java) grep command: <a href=\"http://www.unix4j.org\" rel=\"nofollow noreferrer\">http://www.unix4j.org</a></p>\n<pre><code>Unix4j.fromStrings(&quot;1:A&quot;, &quot;2:B&quot;, &quot;3:AB&quot;, &quot;4:AC&quot;, &quot;5:ABC&quot;).toFile(&quot;myFile.txt&quot;);\nUnix4j.fromFile(&quot;myFile.txt&quot;).grep(&quot;AB&quot;).toStdOut();\n\n&gt;&gt;&gt;\n3:AB \n5:ABC\n</code></pre>\n<p><strong>Disclosure:</strong> I am one of the contributors to the unix4j project.</p>\n"}],"owner":{"account_id":106190,"reputation":9362,"user_id":282968,"accept_rate":73,"display_name":"MJB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28386,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":6223598,"answer_count":4,"score":22,"last_activity_date":1661734434,"creation_date":1307071447,"question_id":6222659,"body_markdown":"Is there any good, simple Java Grep Library? I&#39;m not opposed to native code, or scripting, and I&#39;ll do it, but for my purposes, throughput is not a huge deal, and it would be nice to have it all in one tidy package.\r\n\r\nUPDATE: Sorry. I know about java.regex, I just happen to be fairly busy and tired right now. What I&#39;m looking for is something that efficiently combines java regex with going through a set of files and rewriting them. This wouldn&#39;t be too hard to write, I admit. I was just curious if that exists already.","title":"Java Grep Library","body":"<p>Is there any good, simple Java Grep Library? I'm not opposed to native code, or scripting, and I'll do it, but for my purposes, throughput is not a huge deal, and it would be nice to have it all in one tidy package.</p>\n\n<p>UPDATE: Sorry. I know about java.regex, I just happen to be fairly busy and tired right now. What I'm looking for is something that efficiently combines java regex with going through a set of files and rewriting them. This wouldn't be too hard to write, I admit. I was just curious if that exists already.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8916,"page":1076,"page_size":100}
