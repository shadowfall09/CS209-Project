{"items":[{"tags":["java","ssl","jenkins","confluence"],"answers":[{"tags":[],"owner":{"account_id":2018948,"reputation":121,"user_id":1805571,"accept_rate":50,"display_name":"Sanzig"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1397774290,"creation_date":1397762385,"answer_id":23141658,"question_id":23116857,"body_markdown":"I finally figured it out. It was a problem with the location of the trusted keystore.\r\nIt&#39;s better to always add the certificates into the /var/lib/jenkins/.keystore rather than adding in the PATH_TO_JAVA_HOME/jre/lib/security/cacerts. If you still want to add the certificate into the cacerts then an ARG should be added in the application&#39;s config file:\r\n\r\nJAVA_ARGS=&quot;-Djavax.net.ssl.trustStore=/usr/lib/jvm/java-7-oracle/jre/lib/security/cacerts&quot;\r\n\r\nSometimes you may need to add the certificate in ~/.keystore","title":"Jenkins SSLHandshakeException while publishing to confluence","body":"<p>I finally figured it out. It was a problem with the location of the trusted keystore.\nIt's better to always add the certificates into the /var/lib/jenkins/.keystore rather than adding in the PATH_TO_JAVA_HOME/jre/lib/security/cacerts. If you still want to add the certificate into the cacerts then an ARG should be added in the application's config file:</p>\n\n<p>JAVA_ARGS=\"-Djavax.net.ssl.trustStore=/usr/lib/jvm/java-7-oracle/jre/lib/security/cacerts\"</p>\n\n<p>Sometimes you may need to add the certificate in ~/.keystore</p>\n"}],"owner":{"account_id":2018948,"reputation":121,"user_id":1805571,"accept_rate":50,"display_name":"Sanzig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6808,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":23141658,"answer_count":1,"score":3,"last_activity_date":1669532321,"creation_date":1397671336,"question_id":23116857,"body_markdown":"We recently changed all the certificates and Jenkins seems to have been affected by that. It is unable to publish to confluence and it gives the following error:\r\n\r\n    ERROR: Publisher com.myyearbook.hudson.plugins.confluence.ConfluencePublisher aborted due to exception\r\n    AxisFault\r\n     faultCode: {http://schemas.xmlsoap.org/soap/envelope/}Server.userException\r\n     faultSubcode: \r\n     faultString: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: \r\n    sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n     faultActor: \r\n     faultNode: \r\n     faultDetail: \r\n    \t{http://xml.apache.org/axis/}stackTrace:javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: \r\n    sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nWe use self signed certificates for our internal services. I added the new certificate into the trust store of the server running jenkins using the keytool command. The problem persist.\r\nI am unable to track the source of the problem now.\r\nAny help would be highly appreciated.\r\n\r\nThanks,\r\nSanZig","title":"Jenkins SSLHandshakeException while publishing to confluence","body":"<p>We recently changed all the certificates and Jenkins seems to have been affected by that. It is unable to publish to confluence and it gives the following error:</p>\n<pre><code>ERROR: Publisher com.myyearbook.hudson.plugins.confluence.ConfluencePublisher aborted due to exception\nAxisFault\n faultCode: {http://schemas.xmlsoap.org/soap/envelope/}Server.userException\n faultSubcode: \n faultString: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: \nsun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n faultActor: \n faultNode: \n faultDetail: \n    {http://xml.apache.org/axis/}stackTrace:javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: \nsun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>We use self signed certificates for our internal services. I added the new certificate into the trust store of the server running jenkins using the keytool command. The problem persist.\nI am unable to track the source of the problem now.\nAny help would be highly appreciated.</p>\n<p>Thanks,\nSanZig</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1629621413,"post_id":68879595,"comment_id":121730617,"body_markdown":"Your entity definitions look off to me, as I don&#39;t see a collection defined in either of the two sides of the one to many relationship.","body":"Your entity definitions look off to me, as I don&#39;t see a collection defined in either of the two sides of the one to many relationship."},{"owner":{"account_id":22532831,"reputation":61,"user_id":16724595,"display_name":"Ahmed Yehia"},"score":0,"creation_date":1629621802,"post_id":68879595,"comment_id":121730711,"body_markdown":"@TimBiegeleisen when I received the entities to work on them, the many-to-one relationship was defined as a unidirectional relationship from DummyA to DummyB. If I&#39;m not mistaken, if it were bidirectional I&#39;d end up having a Collection on the side of DummyB along with a one-to-many relationship, correct? (Side question: does a unidirectional many-to-one relationship even make sense?)","body":"@TimBiegeleisen when I received the entities to work on them, the many-to-one relationship was defined as a unidirectional relationship from DummyA to DummyB. If I&#39;m not mistaken, if it were bidirectional I&#39;d end up having a Collection on the side of DummyB along with a one-to-many relationship, correct? (Side question: does a unidirectional many-to-one relationship even make sense?)"}],"answers":[{"tags":[],"owner":{"account_id":22532831,"reputation":61,"user_id":16724595,"display_name":"Ahmed Yehia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669531528,"creation_date":1669531528,"answer_id":74588059,"question_id":68879595,"body_markdown":"I&#39;ve come back with an answer in case anyone is curious. It turns out that some entries had an invalid &quot;magic&quot; value in the column used by `DummyA` as the foreign key to associate it with `DummyB`, causing Hibernate to execute separate queries for those null values in order to check if the association is truly not found (see [this doc](https://docs.jboss.org/hibernate/orm/5.4/javadocs/index.html?org/hibernate/annotations/NotFound.html) and [this answer from a related question](https://stackoverflow.com/a/11223478/16724595)). I mistook those queries as N+1. The project also had an interceptor that extended Hibernate&#39;s `EmptyInterceptor` in order to modify queries that produced pages, resulting in incorrect counts if secondary queries were executed.","title":"Is there a way to avoid N+1 queries when using a unidirectional @ManyToOne relationship in JPA + Hibernate?","body":"<p>I've come back with an answer in case anyone is curious. It turns out that some entries had an invalid &quot;magic&quot; value in the column used by <code>DummyA</code> as the foreign key to associate it with <code>DummyB</code>, causing Hibernate to execute separate queries for those null values in order to check if the association is truly not found (see <a href=\"https://docs.jboss.org/hibernate/orm/5.4/javadocs/index.html?org/hibernate/annotations/NotFound.html\" rel=\"nofollow noreferrer\">this doc</a> and <a href=\"https://stackoverflow.com/a/11223478/16724595\">this answer from a related question</a>). I mistook those queries as N+1. The project also had an interceptor that extended Hibernate's <code>EmptyInterceptor</code> in order to modify queries that produced pages, resulting in incorrect counts if secondary queries were executed.</p>\n"}],"owner":{"account_id":22532831,"reputation":61,"user_id":16724595,"display_name":"Ahmed Yehia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":74588059,"answer_count":1,"score":5,"last_activity_date":1669531528,"creation_date":1629620443,"question_id":68879595,"body_markdown":"I have the following entities:\r\n\r\n**DummyA:**\r\n\r\n    @Entity\r\n    @Table(name = &quot;dummy_a&quot;)\r\n    @Data\r\n    public class DummyA implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n   \r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;dummy_b_name&quot;, referencedColumnName = &quot;name&quot;, updatable = false, insertable = false)\r\n    private DummyB dummyB;\r\n    }\r\n\r\n**DummyB:**\r\n\r\n    @Entity\r\n    @Table(name = &quot;dummy_b&quot;)\r\n    @Data\r\n    public class DummyB implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;entity_id&quot;)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n    }\r\n\r\nAs it currently stands, any attempt to fetch `DummyA` objects results in additional queries to fetch `DummyB` objects as well. This causes unacceptable extra delay due to N+1 queries and also breaks `Page` objects returned by `repository.findAll(specification, pageable)`, causing incorrect total page counts and element counts to be returned (in my case `repository` extends `JpaRepository`). Is there a way to do it such that DummyB objects are lazily loaded or, if that&#39;s not possible, so that they&#39;re all eagerly loaded in a single query?\r\n\r\nLimitations:\r\nI&#39;m fairly new to JPA and Hibernate and have been learning how to use them. I&#39;ve come across the following in a project I&#39;m working on. I don&#39;t have the liberty to include new dependencies and my project currently does not allow hibernate bytecode enhancement through `@LazyToOne(LazyToOneOption.NO_PROXY)`.\r\n\r\nThings I&#39;ve tried so far and did not work / did not work as expected:\r\n\r\n 1. `@ManyToOne(optinoal = false, fetch = FetchType.LAZY)`\r\n 2. Tried to see if accessing the `dummyB` field in `dummyA` is what caused the N+1 queries by removing `dummyB`&#39;s setter and getter. Still had N+1 queries.\r\n 3. Using `@EntityGraph` on `findAll`.\r\n 4. Tried implementing `PersistentAttributeInterceptable` and using `PersistentAttributeInterceptor` to solve the problem.\r\n\r\nLinks to resources I&#39;ve looked up so far:\r\n\r\n 1. [@ManyToOne(fetch = FetchType.LAZY) doesn&#39;t work on non-primary key referenced column][1]\r\n 2. [N+1 query problem with JPA and Hibernate][2]\r\n 3. [Hibernate lazy loading for reverse one to one workaround - how does this work?][3]\r\n 4. [PersistentAttributeInterceptable][4]\r\n 5. [JPA Entity Graph][5]\r\n\r\nAny help is greatly appreciated.\r\n\r\n  [1]: https://stackoverflow.com/questions/30082281/manytoonefetch-fetchtype-lazy-doesnt-work-on-non-primary-key-referenced-co\r\n  [2]: https://vladmihalcea.com/n-plus-1-query-problem/\r\n  [3]: https://stackoverflow.com/questions/17155452/hibernate-lazy-loading-for-reverse-one-to-one-workaround-how-does-this-work\r\n  [4]: https://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/engine/spi/PersistentAttributeInterceptable.html\r\n  [5]: https://www.baeldung.com/jpa-entity-graph","title":"Is there a way to avoid N+1 queries when using a unidirectional @ManyToOne relationship in JPA + Hibernate?","body":"<p>I have the following entities:</p>\n<p><strong>DummyA:</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;dummy_a&quot;)\n@Data\npublic class DummyA implements Serializable {\n\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id;\n\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;dummy_b_name&quot;, referencedColumnName = &quot;name&quot;, updatable = false, insertable = false)\nprivate DummyB dummyB;\n}\n</code></pre>\n<p><strong>DummyB:</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;dummy_b&quot;)\n@Data\npublic class DummyB implements Serializable {\n\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;entity_id&quot;)\nprivate Integer id;\n\n@Column(name = &quot;name&quot;)\nprivate String name;\n}\n</code></pre>\n<p>As it currently stands, any attempt to fetch <code>DummyA</code> objects results in additional queries to fetch <code>DummyB</code> objects as well. This causes unacceptable extra delay due to N+1 queries and also breaks <code>Page</code> objects returned by <code>repository.findAll(specification, pageable)</code>, causing incorrect total page counts and element counts to be returned (in my case <code>repository</code> extends <code>JpaRepository</code>). Is there a way to do it such that DummyB objects are lazily loaded or, if that's not possible, so that they're all eagerly loaded in a single query?</p>\n<p>Limitations:\nI'm fairly new to JPA and Hibernate and have been learning how to use them. I've come across the following in a project I'm working on. I don't have the liberty to include new dependencies and my project currently does not allow hibernate bytecode enhancement through <code>@LazyToOne(LazyToOneOption.NO_PROXY)</code>.</p>\n<p>Things I've tried so far and did not work / did not work as expected:</p>\n<ol>\n<li><code>@ManyToOne(optinoal = false, fetch = FetchType.LAZY)</code></li>\n<li>Tried to see if accessing the <code>dummyB</code> field in <code>dummyA</code> is what caused the N+1 queries by removing <code>dummyB</code>'s setter and getter. Still had N+1 queries.</li>\n<li>Using <code>@EntityGraph</code> on <code>findAll</code>.</li>\n<li>Tried implementing <code>PersistentAttributeInterceptable</code> and using <code>PersistentAttributeInterceptor</code> to solve the problem.</li>\n</ol>\n<p>Links to resources I've looked up so far:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/30082281/manytoonefetch-fetchtype-lazy-doesnt-work-on-non-primary-key-referenced-co\">@ManyToOne(fetch = FetchType.LAZY) doesn't work on non-primary key referenced column</a></li>\n<li><a href=\"https://vladmihalcea.com/n-plus-1-query-problem/\" rel=\"noreferrer\">N+1 query problem with JPA and Hibernate</a></li>\n<li><a href=\"https://stackoverflow.com/questions/17155452/hibernate-lazy-loading-for-reverse-one-to-one-workaround-how-does-this-work\">Hibernate lazy loading for reverse one to one workaround - how does this work?</a></li>\n<li><a href=\"https://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/engine/spi/PersistentAttributeInterceptable.html\" rel=\"noreferrer\">PersistentAttributeInterceptable</a></li>\n<li><a href=\"https://www.baeldung.com/jpa-entity-graph\" rel=\"noreferrer\">JPA Entity Graph</a></li>\n</ol>\n<p>Any help is greatly appreciated.</p>\n"},{"tags":["java","list","java-stream"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":1,"creation_date":1669473971,"post_id":74583003,"comment_id":131650710,"body_markdown":"I&#39;ll dig into this more, but at a glance, in the future you should put some focus into the &quot;minimal&quot; part of &quot;minimal reproducible example&quot; :)","body":"I&#39;ll dig into this more, but at a glance, in the future you should put some focus into the &quot;minimal&quot; part of &quot;minimal reproducible example&quot; :)"}],"answers":[{"comments":[{"owner":{"account_id":13297028,"reputation":53,"user_id":9599666,"display_name":"Krysdow"},"score":0,"creation_date":1669478185,"post_id":74583170,"comment_id":131651549,"body_markdown":"Hello Alexander Ivanchenko.\n\nThank you for your reply  ,\n\nIn a use case a user can search according to the hotel and the criteria of the room,  \n\nfor example I want the list of hotels and their rooms which have a price lower than 50. , regardless of the city and the number of star\nfor that i need relationship between a Room and a Hotel.\nthank you about tips about predicates.and() methode  \n\nI&#39;m going to try @Ben Anderson  &#39;s solution \nor certainly review my class model, to do what I want","body":"Hello Alexander Ivanchenko.  Thank you for your reply  ,  In a use case a user can search according to the hotel and the criteria of the room,    for example I want the list of hotels and their rooms which have a price lower than 50. , regardless of the city and the number of star for that i need relationship between a Room and a Hotel. thank you about tips about predicates.and() methode    I&#39;m going to try @Ben Anderson  &#39;s solution  or certainly review my class model, to do what I want"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1669478778,"post_id":74583170,"comment_id":131651690,"body_markdown":"@Krysdow *&quot;I want the list of hotels and their rooms which have a price lower than 50.&quot;* - this requirement is ambiguous. When you have a list of `Hotel` on your hands, sure you have access to their rooms, but there could be hundreds of rooms in a hotel, and not all of them meet the criteria. Clients need a list of `Room`s that match their requirements. And in a real application it would be useful to retrieve the information about a hotel (location, rating, etc.) from a `Room` object.","body":"@Krysdow <i>&quot;I want the list of hotels and their rooms which have a price lower than 50.&quot;</i> - this requirement is ambiguous. When you have a list of <code>Hotel</code> on your hands, sure you have access to their rooms, but there could be hundreds of rooms in a hotel, and not all of them meet the criteria. Clients need a list of <code>Room</code>s that match their requirements. And in a real application it would be useful to retrieve the information about a hotel (location, rating, etc.) from a <code>Room</code> object."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1669479083,"post_id":74583170,"comment_id":131651749,"body_markdown":"@Krysdow You might find useful visiting a room-booking like booking.com and play with the functionality they offer. Observe and think what might happen under the hood during each interaction. Probably you&#39;ll get a different view on your project.","body":"@Krysdow You might find useful visiting a room-booking like booking.com and play with the functionality they offer. Observe and think what might happen under the hood during each interaction. Probably you&#39;ll get a different view on your project."},{"owner":{"account_id":13297028,"reputation":53,"user_id":9599666,"display_name":"Krysdow"},"score":0,"creation_date":1669480327,"post_id":74583170,"comment_id":131652042,"body_markdown":"yes you are right, I will review my model, certainly extend the Room class to Hotel class, to retrieve information about a Hotel  from a Room object.\nthank for sugestions","body":"yes you are right, I will review my model, certainly extend the Room class to Hotel class, to retrieve information about a Hotel  from a Room object. thank for sugestions"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669476708,"creation_date":1669474329,"answer_id":74583170,"question_id":74583003,"body_markdown":"There&#39;s a logical flaw in the `searchHotelRoom()` method.\r\n\r\nI guess return type should be a `List&lt;Room&gt;` (not a list of `Hotel`). Think about it this way: when need to find a place to stay, you are not going to book the whole hotel, you need a room instead. There&#39;s **no need** for `searchHotelRoom()` generate new `Hotel` instances based on the rooms that match the criteria, we need the rooms itself.\r\n\r\nYou might want to retain the information to which Hotel a certain Room belongs, this problem can be (*and should be*) addressed on the class-design level. For that, you can introduce a property to the `Room` class. For instance: `String hotelName`, or alternatively a room could hold a reference to the instance of `Hotel`, but in such case you need to **be careful** while implementing methods like `toString()` and `hashCode()` because you might end up with infinite recursion.\r\n\r\nSo, to get a `List` of `Room`s that match the given criteria, you need to apply a hotel-related filter and then transform a stream of hotels `Stream&lt;Hotel&gt;` into a stream of rooms `Stream&lt;Room&gt;`. For that, you can use [`flatMap()`][flatMap] operation (or Java 16 `mapMulti()`), which is meant to perform *one-to-many* transformation and expects a *function* producing a `Stream` as an argument.\r\n\r\nThen a room-related filter, and collect the result.\r\n\r\n**Note** that instead of applying `filter()` twice you can chain the predicates using [`Precate.and()`][and] which is an equivalent of the logical AND `&amp;&amp;`.\r\n\r\n    public static List&lt;Room&gt; searchHotelRoom(List&lt;Hotel&gt; hotelList, String city, int start, Double priceMax, int nbBed) {\r\n        \r\n        //condition about city location and price on hotel list\r\n        Predicate&lt;Hotel&gt; byCity = !city.isEmpty()? hotel -&gt; hotel.getCity().equalsIgnoreCase(city) : hotel -&gt; true;\r\n        Predicate&lt;Hotel&gt; byStart = !(start == 0)? hotel -&gt; hotel.getNumberOfStart() == start:hotel -&gt; true;\r\n        \r\n        //condition on room list\r\n        Predicate&lt;Room&gt; byNbBed = !(nbBed == 0)? room  -&gt; (room.getNumberOfBed() == nbBed) :room -&gt; false;\r\n        Predicate&lt;Room&gt; byPrice = room -&gt;  room.getPrice() &lt;= priceMax;\r\n        \r\n        return hotelList.stream()                        // Stream&lt;Hotel&gt;\r\n            .filter(byStart.and(byCity))\r\n            .flatMap(hotel -&gt; hotel.getRooms().stream()) // Stream&lt;Room&gt;\r\n            .filter(byPrice.and(byNbBed))\r\n            .toList(); // for Java 16 or collect(Collectors.toList())\r\n    }\r\n\r\n\r\n\r\n   [and]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html#and(java.util.function.Predicate)\r\n\r\n   [flatMap]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)","title":"List of list , with predicat filter on parent list and another predicat filter on son list","body":"<p>There's a logical flaw in the <code>searchHotelRoom()</code> method.</p>\n<p>I guess return type should be a <code>List&lt;Room&gt;</code> (not a list of <code>Hotel</code>). Think about it this way: when need to find a place to stay, you are not going to book the whole hotel, you need a room instead. There's <strong>no need</strong> for <code>searchHotelRoom()</code> generate new <code>Hotel</code> instances based on the rooms that match the criteria, we need the rooms itself.</p>\n<p>You might want to retain the information to which Hotel a certain Room belongs, this problem can be (<em>and should be</em>) addressed on the class-design level. For that, you can introduce a property to the <code>Room</code> class. For instance: <code>String hotelName</code>, or alternatively a room could hold a reference to the instance of <code>Hotel</code>, but in such case you need to <strong>be careful</strong> while implementing methods like <code>toString()</code> and <code>hashCode()</code> because you might end up with infinite recursion.</p>\n<p>So, to get a <code>List</code> of <code>Room</code>s that match the given criteria, you need to apply a hotel-related filter and then transform a stream of hotels <code>Stream&lt;Hotel&gt;</code> into a stream of rooms <code>Stream&lt;Room&gt;</code>. For that, you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>flatMap()</code></a> operation (or Java 16 <code>mapMulti()</code>), which is meant to perform <em>one-to-many</em> transformation and expects a <em>function</em> producing a <code>Stream</code> as an argument.</p>\n<p>Then a room-related filter, and collect the result.</p>\n<p><strong>Note</strong> that instead of applying <code>filter()</code> twice you can chain the predicates using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html#and(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>Precate.and()</code></a> which is an equivalent of the logical AND <code>&amp;&amp;</code>.</p>\n<pre><code>public static List&lt;Room&gt; searchHotelRoom(List&lt;Hotel&gt; hotelList, String city, int start, Double priceMax, int nbBed) {\n    \n    //condition about city location and price on hotel list\n    Predicate&lt;Hotel&gt; byCity = !city.isEmpty()? hotel -&gt; hotel.getCity().equalsIgnoreCase(city) : hotel -&gt; true;\n    Predicate&lt;Hotel&gt; byStart = !(start == 0)? hotel -&gt; hotel.getNumberOfStart() == start:hotel -&gt; true;\n    \n    //condition on room list\n    Predicate&lt;Room&gt; byNbBed = !(nbBed == 0)? room  -&gt; (room.getNumberOfBed() == nbBed) :room -&gt; false;\n    Predicate&lt;Room&gt; byPrice = room -&gt;  room.getPrice() &lt;= priceMax;\n    \n    return hotelList.stream()                        // Stream&lt;Hotel&gt;\n        .filter(byStart.and(byCity))\n        .flatMap(hotel -&gt; hotel.getRooms().stream()) // Stream&lt;Room&gt;\n        .filter(byPrice.and(byNbBed))\n        .toList(); // for Java 16 or collect(Collectors.toList())\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669474389,"creation_date":1669474389,"answer_id":74583174,"question_id":74583003,"body_markdown":"You need to use a map (or flatmap) as well as a filter to do something like this. The rough form will be something like:\r\n```\r\nhotelsList.stream()\r\n    .filter(hotelFilter)\r\n    .flatMap(hotel -&gt; hotel.rooms.stream()\r\n        .filter(roomFilter))\r\n    .collect(whatever)\r\n```\r\n\r\nIn general, `map` operations take an `A&lt;B&gt;` and a `B -&gt; C` and give you a `A&lt;C&gt;`. Flatmaps take an `A&lt;B&gt;` and a `B -&gt; A&lt;C&gt;` and give you an `A&lt;C&gt;` (for instance, combining lists, but also performing an operation on an `Optional` that might itself return `None` even if the original value existed)\r\n","title":"List of list , with predicat filter on parent list and another predicat filter on son list","body":"<p>You need to use a map (or flatmap) as well as a filter to do something like this. The rough form will be something like:</p>\n<pre><code>hotelsList.stream()\n    .filter(hotelFilter)\n    .flatMap(hotel -&gt; hotel.rooms.stream()\n        .filter(roomFilter))\n    .collect(whatever)\n</code></pre>\n<p>In general, <code>map</code> operations take an <code>A&lt;B&gt;</code> and a <code>B -&gt; C</code> and give you a <code>A&lt;C&gt;</code>. Flatmaps take an <code>A&lt;B&gt;</code> and a <code>B -&gt; A&lt;C&gt;</code> and give you an <code>A&lt;C&gt;</code> (for instance, combining lists, but also performing an operation on an <code>Optional</code> that might itself return <code>None</code> even if the original value existed)</p>\n"},{"comments":[{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":1,"creation_date":1669480405,"post_id":74583281,"comment_id":131652067,"body_markdown":"In case it wasn&#39;t clear from my answer, I do recommend creating the relationship from `Room` to its parent `Hotel` as other answers suggest. This solution is really only useful if you don&#39;t want to edit the `Room` class or you would like all `Hotel`s returned in the map, even if they have no valid `Room`s listed against them.","body":"In case it wasn&#39;t clear from my answer, I do recommend creating the relationship from <code>Room</code> to its parent <code>Hotel</code> as other answers suggest. This solution is really only useful if you don&#39;t want to edit the <code>Room</code> class or you would like all <code>Hotel</code>s returned in the map, even if they have no valid <code>Room</code>s listed against them."},{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":1,"creation_date":1669480484,"post_id":74583281,"comment_id":131652090,"body_markdown":"If you wish to remove `Hotel`s from the `Map` which don&#39;t have any valid rooms, a simple for-loop to remove all entries where the value is an empty `List` will suffice.","body":"If you wish to remove <code>Hotel</code>s from the <code>Map</code> which don&#39;t have any valid rooms, a simple for-loop to remove all entries where the value is an empty <code>List</code> will suffice."}],"tags":[],"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669475238,"creation_date":1669475238,"answer_id":74583281,"question_id":74583003,"body_markdown":"Due to the fact that other answers have already suggested how the problem can be solved by modifying the `Room` class (or just returning a `List` of `Room`s), I&#39;d like to suggest a solution that doesn&#39;t modify it, whilst maintaining the relationship between a `Room` and a `Hotel`.\r\n\r\nFor the method `Main#searchHotelRoom`, you could use `Collectors.toMap` and return `Map&lt;Hotel, List&lt;Room&gt;&gt;` which denotes a map of `Hotel`s against a `List` of `Room`s that met the search criteria for that `Hotel`.\r\n\r\nHere is an example of how you could achieve this:\r\n```java\r\nreturn hotelList.stream()\r\n                .filter(byStart)\r\n                .filter(byCity)\r\n                .collect(\r\n                    Collectors.toMap(Functions.identity(),\r\n                        hotel -&gt; hotel.getRooms()\r\n                                      .stream()\r\n                                      .filter(byPrice)\r\n                                      .filter(byNbBed)\r\n                                      .collect(Collectors.toList())\r\n                    )\r\n                );\r\n```","title":"List of list , with predicat filter on parent list and another predicat filter on son list","body":"<p>Due to the fact that other answers have already suggested how the problem can be solved by modifying the <code>Room</code> class (or just returning a <code>List</code> of <code>Room</code>s), I'd like to suggest a solution that doesn't modify it, whilst maintaining the relationship between a <code>Room</code> and a <code>Hotel</code>.</p>\n<p>For the method <code>Main#searchHotelRoom</code>, you could use <code>Collectors.toMap</code> and return <code>Map&lt;Hotel, List&lt;Room&gt;&gt;</code> which denotes a map of <code>Hotel</code>s against a <code>List</code> of <code>Room</code>s that met the search criteria for that <code>Hotel</code>.</p>\n<p>Here is an example of how you could achieve this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return hotelList.stream()\n                .filter(byStart)\n                .filter(byCity)\n                .collect(\n                    Collectors.toMap(Functions.identity(),\n                        hotel -&gt; hotel.getRooms()\n                                      .stream()\n                                      .filter(byPrice)\n                                      .filter(byNbBed)\n                                      .collect(Collectors.toList())\n                    )\n                );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13297028,"reputation":53,"user_id":9599666,"display_name":"Krysdow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669531301,"creation_date":1669530528,"answer_id":74587988,"question_id":74583003,"body_markdown":"I followed recommendation from @alexander-ivanchenko  \r\nIf it can be useful to someone\r\n\r\nTo keep the relationship between the room and the hotel\r\nwith these changes and additions  \r\nI was inspired by this [topic][1]  \r\n\r\n\r\n```Java\r\nclass Hotel {\r\n    private String city;\r\n    private  int numberOfStart;\r\n    private List&lt;Room&gt; rooms ;\r\n    \r\n    public Hotel(String city, int numberOfStart,List&lt;Room&gt; rooms) {\r\n        \r\n       rooms.forEach(s-&gt;s.setRefHotel(this))\r\n        this.city = city;\r\n        this.numberOfStart = numberOfStart;\r\n    }\r\n}\r\n\r\n\r\nclass Room  {\r\n    private Hotel refHotel;\r\n\r\n    public void setRefHotel(Hotel refHotel) {\r\n        this.refHotel = refHotel;\r\n    }\r\n\r\n    public Hotel getRefHotel() {\r\n        return refHotel;\r\n    }\r\n\r\n}\r\n```\r\nfinally the search function looks like this\r\n\r\n```java\r\npublic static List&lt;Room&gt; searchHotelRoom(List&lt;Room&gt; rooms, String city, int start, Double priceMax, int nbBed) {\r\n//condition about city location and price on hotel list\r\n        Predicate&lt;Room&gt; byCity = !city.isEmpty()? hotel -&gt; hotel.getRefHotel().getCity().equalsIgnoreCase(city) : hotel -&gt; true;\r\n        Predicate&lt;Room&gt; byStart =!(start==0)? hotel -&gt; hotel.getRefHotel().getNumberOfStart() == start:hotel -&gt; true;\r\n\r\n        //condition on room list\r\n        Predicate&lt;Room&gt; byNbBed =!(nbBed==0)? room -&gt; room.getNumberOfBed() == nbBed:room -&gt; true;\r\n        Predicate&lt;Room&gt; byPrice = room -&gt;  room.getPrice()&lt;=priceMax;\r\n\r\n       return rooms.stream()\r\n                .filter(byStart.and(byCity))\r\n                .filter(byPrice.and(byNbBed))\r\n                .toList();\r\n    }\r\n```\r\nAnd in main function \r\n\r\n\r\n```java\r\n//Dummy hotel data\r\n        List&lt;Room&gt; roomsA = new ArrayList&lt;&gt;();\r\n        roomsA.add(new Room(&quot;p12&quot;, 2, 150.));\r\n        roomsA.add(new Room(&quot;p12&quot;, 2, 150.));\r\n        roomsA.add(new Room(&quot;p17&quot;, 1, 200.));\r\n        roomsA.add(new Room(&quot;p15&quot;, 3, 50.));\r\n        Hotel hotelA =  new Hotel(&quot;Paris&quot;,4,roomsA);\r\n\r\n        List&lt;Room&gt; roomsB = new ArrayList&lt;&gt;();\r\n        roomsB.add(new Room(&quot;m12&quot;, 2, 150.));\r\n        roomsB.add(new Room(&quot;m12&quot;, 2, 150.));\r\n        roomsB.add(new Room(&quot;m17&quot;, 1, 200.));\r\n        roomsB.add(new Room(&quot;m15&quot;, 3, 50.));\r\n        Hotel hotelB=  new Hotel(&quot;Montpellier&quot;,4,roomsB);\r\n\r\n        List&lt;Room&gt; roomsC = new ArrayList&lt;&gt;();\r\n        roomsC.add(new Room(&quot;c12&quot;, 21, 200.));\r\n        roomsC.add(new Room(&quot;c17&quot;, 11, 100.));\r\n        roomsC.add(new Room(&quot;c15&quot;, 21, 50.));\r\n        roomsC.add(new Room(&quot;c16&quot;, 30, 25.));\r\n         Hotel hotelC = new Hotel(&quot;Toulouse&quot;,4,roomsC);\r\n\r\n        List&lt;Room&gt; allRooms = new ArrayList&lt;&gt;();\r\n        Stream.of(roomsA, roomsB,roomsC).forEach(allRooms::addAll);\r\n\r\n      /*the result concerns\r\n        *   roomsB.add(new Room(&quot;m12&quot;, 2, 150.));\r\n        *   roomsB.add(new Room(&quot;m12&quot;, 2, 150.));\r\n        *   roomsB.add(new Room(&quot;m12&quot;, 2, 150.));\r\n        *   roomsB.add(new Room(&quot;m12&quot;, 2, 150.));\r\n        *\r\n        *    * */\r\n        System.out.println(&quot;Result of search&quot;);\r\n        List&lt;Room&gt; result =  searchHotelRoom(allRooms,&quot;&quot;,4,150.,2);\r\n        result.forEach(System.out::println);\r\n\r\n``` \r\nI have this\r\n```\r\nResult of search\r\n\r\nRoom{\r\n\tprice=150.0, numberOfBed=2, roomNumber=&#39;p12&#39;, \r\nrefHotel\r\n\tHotel{city=&#39;Paris&#39;, numberOfStart=4}\r\n}\r\n...\r\n...\r\n...\r\nRoom{\r\n\tprice=150.0, numberOfBed=2, roomNumber=&#39;m12&#39;, \r\nrefHotel\r\n\tHotel{city=&#39;Montpellier&#39;, numberOfStart=4}\r\n}\r\n\r\n```\r\nMaybe there&#39;s a better way  \r\nAnd of course there better with Jakarta Persistence Relationship Mapping,  \r\nBut in my case I don&#39;t want to use it, it&#39;s heavy for what I need\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/56080664/java-bidirectional-object-references-using-this-in-constructor","title":"List of list , with predicat filter on parent list and another predicat filter on son list","body":"<p>I followed recommendation from @alexander-ivanchenko<br />\nIf it can be useful to someone</p>\n<p>To keep the relationship between the room and the hotel\nwith these changes and additions<br />\nI was inspired by this <a href=\"https://stackoverflow.com/questions/56080664/java-bidirectional-object-references-using-this-in-constructor\">topic</a></p>\n<pre><code>class Hotel {\n    private String city;\n    private  int numberOfStart;\n    private List&lt;Room&gt; rooms ;\n    \n    public Hotel(String city, int numberOfStart,List&lt;Room&gt; rooms) {\n        \n       rooms.forEach(s-&gt;s.setRefHotel(this))\n        this.city = city;\n        this.numberOfStart = numberOfStart;\n    }\n}\n\n\nclass Room  {\n    private Hotel refHotel;\n\n    public void setRefHotel(Hotel refHotel) {\n        this.refHotel = refHotel;\n    }\n\n    public Hotel getRefHotel() {\n        return refHotel;\n    }\n\n}\n</code></pre>\n<p>finally the search function looks like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Room&gt; searchHotelRoom(List&lt;Room&gt; rooms, String city, int start, Double priceMax, int nbBed) {\n//condition about city location and price on hotel list\n        Predicate&lt;Room&gt; byCity = !city.isEmpty()? hotel -&gt; hotel.getRefHotel().getCity().equalsIgnoreCase(city) : hotel -&gt; true;\n        Predicate&lt;Room&gt; byStart =!(start==0)? hotel -&gt; hotel.getRefHotel().getNumberOfStart() == start:hotel -&gt; true;\n\n        //condition on room list\n        Predicate&lt;Room&gt; byNbBed =!(nbBed==0)? room -&gt; room.getNumberOfBed() == nbBed:room -&gt; true;\n        Predicate&lt;Room&gt; byPrice = room -&gt;  room.getPrice()&lt;=priceMax;\n\n       return rooms.stream()\n                .filter(byStart.and(byCity))\n                .filter(byPrice.and(byNbBed))\n                .toList();\n    }\n</code></pre>\n<p>And in main function</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Dummy hotel data\n        List&lt;Room&gt; roomsA = new ArrayList&lt;&gt;();\n        roomsA.add(new Room(&quot;p12&quot;, 2, 150.));\n        roomsA.add(new Room(&quot;p12&quot;, 2, 150.));\n        roomsA.add(new Room(&quot;p17&quot;, 1, 200.));\n        roomsA.add(new Room(&quot;p15&quot;, 3, 50.));\n        Hotel hotelA =  new Hotel(&quot;Paris&quot;,4,roomsA);\n\n        List&lt;Room&gt; roomsB = new ArrayList&lt;&gt;();\n        roomsB.add(new Room(&quot;m12&quot;, 2, 150.));\n        roomsB.add(new Room(&quot;m12&quot;, 2, 150.));\n        roomsB.add(new Room(&quot;m17&quot;, 1, 200.));\n        roomsB.add(new Room(&quot;m15&quot;, 3, 50.));\n        Hotel hotelB=  new Hotel(&quot;Montpellier&quot;,4,roomsB);\n\n        List&lt;Room&gt; roomsC = new ArrayList&lt;&gt;();\n        roomsC.add(new Room(&quot;c12&quot;, 21, 200.));\n        roomsC.add(new Room(&quot;c17&quot;, 11, 100.));\n        roomsC.add(new Room(&quot;c15&quot;, 21, 50.));\n        roomsC.add(new Room(&quot;c16&quot;, 30, 25.));\n         Hotel hotelC = new Hotel(&quot;Toulouse&quot;,4,roomsC);\n\n        List&lt;Room&gt; allRooms = new ArrayList&lt;&gt;();\n        Stream.of(roomsA, roomsB,roomsC).forEach(allRooms::addAll);\n\n      /*the result concerns\n        *   roomsB.add(new Room(&quot;m12&quot;, 2, 150.));\n        *   roomsB.add(new Room(&quot;m12&quot;, 2, 150.));\n        *   roomsB.add(new Room(&quot;m12&quot;, 2, 150.));\n        *   roomsB.add(new Room(&quot;m12&quot;, 2, 150.));\n        *\n        *    * */\n        System.out.println(&quot;Result of search&quot;);\n        List&lt;Room&gt; result =  searchHotelRoom(allRooms,&quot;&quot;,4,150.,2);\n        result.forEach(System.out::println);\n\n</code></pre>\n<p>I have this</p>\n<pre><code>Result of search\n\nRoom{\n    price=150.0, numberOfBed=2, roomNumber='p12', \nrefHotel\n    Hotel{city='Paris', numberOfStart=4}\n}\n...\n...\n...\nRoom{\n    price=150.0, numberOfBed=2, roomNumber='m12', \nrefHotel\n    Hotel{city='Montpellier', numberOfStart=4}\n}\n\n</code></pre>\n<p>Maybe there's a better way<br />\nAnd of course there better with Jakarta Persistence Relationship Mapping,<br />\nBut in my case I don't want to use it, it's heavy for what I need</p>\n"}],"owner":{"account_id":13297028,"reputation":53,"user_id":9599666,"display_name":"Krysdow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74587988,"answer_count":4,"score":2,"last_activity_date":1669531301,"creation_date":1669472939,"question_id":74583003,"body_markdown":" I am looking to filter a list according to a predicate and also to filter her child list\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.function.Predicate;\r\nimport java.util.stream.Collectors;  \r\n\r\nclass Hotel {\r\n    private final String city;\r\n    private final int numberOfStart;\r\n    private final List&lt;Room&gt; rooms = new ArrayList&lt;&gt;();\r\n\r\n    public String getCity(){return city;}\r\n    public int  getNumberOfStart(){return numberOfStart;}\r\n    public List&lt;Room&gt; getRooms(){return rooms;}\r\n    public Hotel(String city, int numberOfStart) {\r\n        this.city = city;\r\n        this.numberOfStart = numberOfStart;\r\n    }\r\n\r\n    public void creatRooms(String roomNumber ,int numberOfbed,Double price)   {\r\n        Room room = new Room(roomNumber,numberOfbed,price);\r\n        this.rooms.add(room);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Hotel{\\n\\t&quot; +\r\n                &quot;city=&#39;&quot; + city + &#39;\\&#39;&#39; +\r\n                &quot;, numberOfStart=&quot; + numberOfStart +\r\n                &quot;, \\n\\trooms=&quot; + rooms +\r\n                &quot;}\\n\\n&quot;;\r\n    }\r\n}\r\n\r\nclass Room {\r\n    private final double price;\r\n    private final int numberOfBed;\r\n    private final String roomNumber;\r\n\r\n    Room (String roomNumber,int numberOfBed, Double price){\r\n        this.price=price;\r\n        this.roomNumber=roomNumber;\r\n        this.numberOfBed=numberOfBed;\r\n\r\n    }\r\n\r\n    public double getPrice() {return price;}\r\n    public int getNumberOfBed(){return numberOfBed;}\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;\\n\\t\\tRoom{&quot; +\r\n                &quot;price=&quot; + price +&#39;\\&#39;&#39; +\r\n                &quot;, numberOfBed=&quot; + numberOfBed +\r\n                &quot;, roomNumber=&#39;&quot; + roomNumber +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\npublic class Main  {\r\n\r\n    /**\r\n     * @param hotelList List search on a list of hotels.\r\n     * @param city relates to the location of the hotel, if empty &quot;&quot;, then the predicate will be true, and ignore the city parameter.\r\n     * @param start concerns the quality of the hotel, if set to 0 then the predicate will be true, and ignore the start parameter.\r\n     * @param priceMax\r\n     * @param nbBed concerns the amount beds, ignored if set to 0\r\n     * @return\r\n     */\r\n    public static List&lt;Hotel&gt; searchHotelRoom(List&lt;Hotel&gt; hotelList, String city, int start, Double priceMax, int nbBed) {\r\n\r\n        //condition about city location and price on hotel list\r\n        Predicate&lt;Hotel&gt; byCity = !city.isEmpty()? hotel -&gt; hotel.getCity().equalsIgnoreCase(city) : hotel -&gt; true;\r\n        Predicate&lt;Hotel&gt; byStart =!(start==0)? hotel -&gt; hotel.getNumberOfStart() == start:hotel -&gt; true;\r\n\r\n        //condition on room list\r\n        Predicate&lt;Room&gt; byNbBed =!(nbBed==0)? room  -&gt; (room.getNumberOfBed()== nbBed) :room -&gt; false;\r\n        Predicate&lt;Room&gt; byPrice = room -&gt;  room.getPrice()&lt;=priceMax;\r\n\r\n        return hotelList.stream()\r\n                .filter(byStart)\r\n                .filter(byCity)\r\n                .filter(room -&gt; room.getRooms().stream().anyMatch(byPrice))\r\n                .filter(room -&gt; room.getRooms().stream().anyMatch(byNbBed))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        List&lt;Hotel&gt; hotelList = new ArrayList&lt;&gt;();\r\n\r\n        //Dummy hotel data\r\n        Hotel hotelA = new Hotel(&quot;Paris&quot;,4);\r\n        hotelA.creatRooms(&quot;p12&quot;, 2, 150.);\r\n        hotelA.creatRooms(&quot;p17&quot;, 1, 200.);\r\n        hotelA.creatRooms(&quot;p15&quot;, 3, 50.);\r\n        hotelList.add(hotelA);\r\n\r\n        Hotel hotelB = new Hotel(&quot;Montpellier&quot;,4);\r\n        hotelB.creatRooms(&quot;b12&quot;, 2, 20.);\r\n        hotelB.creatRooms(&quot;b17&quot;, 1, 200.);\r\n        hotelB.creatRooms(&quot;b15&quot;, 1, 40.);\r\n        hotelB.creatRooms(&quot;b15&quot;, 1, 1.);\r\n        hotelList.add(hotelB);\r\n\r\n        Hotel hotelC = new Hotel(&quot;Toulouse&quot;,4);\r\n        hotelC.creatRooms(&quot;c12&quot;, 21, 200.);\r\n        hotelC.creatRooms(&quot;c17&quot;, 11, 100.);\r\n        hotelC.creatRooms(&quot;c15&quot;, 21, 50.);\r\n        hotelC.creatRooms(&quot;c16&quot;, 30, 25.);\r\n        hotelList.add(hotelC);\r\n\r\n        //System.out.println(&quot;Hotels List\\n&quot;);\r\n        //hotelList.forEach(System.out::println);\r\n\r\n        List&lt;Hotel&gt; result= searchHotelRoom(hotelList,&quot;&quot;,0,200.,2);\r\n        System.out.println(&quot;Result of search&quot;);\r\n        result.forEach(System.out::println);\r\n    }\r\n\r\n}\r\n\r\n```\r\nThe search function does not work as i would like there is some inconsistency\r\nfor example for  \r\n```java\r\nList&lt;Hotel&gt; result= searchHotelRoom(hotelList,&quot;paris&quot;,0,200.,1);\r\n```\r\ni have this result \r\n```\r\nResult of search\r\nHotel{\r\n\tcity=&#39;Paris&#39;, numberOfStart=4, \r\n\trooms=[\r\n\t\tRoom{price=150.0&#39;, numberOfBed=2, roomNumber=&#39;p12}, \r\n\t\tRoom{price=200.0&#39;, numberOfBed=1, roomNumber=&#39;p17}, \r\n\t\tRoom{price=50.0&#39;, numberOfBed=3, roomNumber=&#39;p15}]}\r\n```\r\n\r\nbut i want something like  \r\n```\r\nResult of search\r\nHotel{\r\n\tcity=&#39;Paris&#39;, numberOfStart=4, \r\n\trooms=[\r\n\t\t\tRoom{price=200.0&#39;, numberOfBed=1, roomNumber=&#39;p17}}\r\n```\r\nand it seems that I have no **and logic** between the filters\r\n```java\r\nList&lt;Hotel&gt; result= searchHotelRoom(hotelList,&quot;paris&quot;,0,200.,2);\r\n```\r\nmust return nohing , but i have a result  \r\n\r\nAnd on many hotel\r\n```java\r\nList&lt;Hotel&gt; result= searchHotelRoom(hotelList,&quot;&quot;,0,200.,1);\r\n\r\n```\r\nI have \r\n```\r\nResult of search\r\nHotel{\r\n\tcity=&#39;Paris&#39;, numberOfStart=4, \r\n\trooms=[\r\n\t\tRoom{price=150.0&#39;, numberOfBed=2, roomNumber=&#39;p12}, \r\n\t\tRoom{price=200.0&#39;, numberOfBed=1, roomNumber=&#39;p17}, \r\n\t\tRoom{price=50.0&#39;, numberOfBed=3, roomNumber=&#39;p15}]}\r\n\r\n\r\nHotel{\r\n\tcity=&#39;Montpellier&#39;, numberOfStart=4, \r\n\trooms=[\r\n\t\t\r\n\t\tRoom{price=200.0&#39;, numberOfBed=1, roomNumber=&#39;b17}, \r\n\r\n```\r\nbut i looking for something like\r\n```\r\nResult of search\r\nHotel{\r\n\tcity=&#39;Paris&#39;, numberOfStart=4, \r\n\trooms=[\r\n\t\tRoom{price=200.0&#39;, numberOfBed=1, roomNumber=&#39;p17} \r\n}\r\n\r\n\r\nHotel{\r\n\tcity=&#39;Montpellier&#39;, numberOfStart=4, \r\n\trooms=[\r\n\t\r\n\t\tRoom{price=200.0&#39;, numberOfBed=1, roomNumber=&#39;b17} \r\n}\r\n```\r\nin search method anyMatch return a boolean but i want list of room,  \r\nso i have trie somme stuff on my searh methode like , but doesn&#39;t work\r\n```java\r\n .filter(room -&gt; room.getRooms().stream().filter(byPrice))\r\n```\r\nDoes anyone have a clue to help me please?","title":"List of list , with predicat filter on parent list and another predicat filter on son list","body":"<p>I am looking to filter a list according to a predicate and also to filter her child list</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.function.Predicate;\nimport java.util.stream.Collectors;  \n\nclass Hotel {\n    private final String city;\n    private final int numberOfStart;\n    private final List&lt;Room&gt; rooms = new ArrayList&lt;&gt;();\n\n    public String getCity(){return city;}\n    public int  getNumberOfStart(){return numberOfStart;}\n    public List&lt;Room&gt; getRooms(){return rooms;}\n    public Hotel(String city, int numberOfStart) {\n        this.city = city;\n        this.numberOfStart = numberOfStart;\n    }\n\n    public void creatRooms(String roomNumber ,int numberOfbed,Double price)   {\n        Room room = new Room(roomNumber,numberOfbed,price);\n        this.rooms.add(room);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Hotel{\\n\\t&quot; +\n                &quot;city='&quot; + city + '\\'' +\n                &quot;, numberOfStart=&quot; + numberOfStart +\n                &quot;, \\n\\trooms=&quot; + rooms +\n                &quot;}\\n\\n&quot;;\n    }\n}\n\nclass Room {\n    private final double price;\n    private final int numberOfBed;\n    private final String roomNumber;\n\n    Room (String roomNumber,int numberOfBed, Double price){\n        this.price=price;\n        this.roomNumber=roomNumber;\n        this.numberOfBed=numberOfBed;\n\n    }\n\n    public double getPrice() {return price;}\n    public int getNumberOfBed(){return numberOfBed;}\n\n    @Override\n    public String toString() {\n        return &quot;\\n\\t\\tRoom{&quot; +\n                &quot;price=&quot; + price +'\\'' +\n                &quot;, numberOfBed=&quot; + numberOfBed +\n                &quot;, roomNumber='&quot; + roomNumber +\n                '}';\n    }\n}\n\npublic class Main  {\n\n    /**\n     * @param hotelList List search on a list of hotels.\n     * @param city relates to the location of the hotel, if empty &quot;&quot;, then the predicate will be true, and ignore the city parameter.\n     * @param start concerns the quality of the hotel, if set to 0 then the predicate will be true, and ignore the start parameter.\n     * @param priceMax\n     * @param nbBed concerns the amount beds, ignored if set to 0\n     * @return\n     */\n    public static List&lt;Hotel&gt; searchHotelRoom(List&lt;Hotel&gt; hotelList, String city, int start, Double priceMax, int nbBed) {\n\n        //condition about city location and price on hotel list\n        Predicate&lt;Hotel&gt; byCity = !city.isEmpty()? hotel -&gt; hotel.getCity().equalsIgnoreCase(city) : hotel -&gt; true;\n        Predicate&lt;Hotel&gt; byStart =!(start==0)? hotel -&gt; hotel.getNumberOfStart() == start:hotel -&gt; true;\n\n        //condition on room list\n        Predicate&lt;Room&gt; byNbBed =!(nbBed==0)? room  -&gt; (room.getNumberOfBed()== nbBed) :room -&gt; false;\n        Predicate&lt;Room&gt; byPrice = room -&gt;  room.getPrice()&lt;=priceMax;\n\n        return hotelList.stream()\n                .filter(byStart)\n                .filter(byCity)\n                .filter(room -&gt; room.getRooms().stream().anyMatch(byPrice))\n                .filter(room -&gt; room.getRooms().stream().anyMatch(byNbBed))\n                .collect(Collectors.toList());\n    }\n\n    public static void main(String[] args) {\n\n        List&lt;Hotel&gt; hotelList = new ArrayList&lt;&gt;();\n\n        //Dummy hotel data\n        Hotel hotelA = new Hotel(&quot;Paris&quot;,4);\n        hotelA.creatRooms(&quot;p12&quot;, 2, 150.);\n        hotelA.creatRooms(&quot;p17&quot;, 1, 200.);\n        hotelA.creatRooms(&quot;p15&quot;, 3, 50.);\n        hotelList.add(hotelA);\n\n        Hotel hotelB = new Hotel(&quot;Montpellier&quot;,4);\n        hotelB.creatRooms(&quot;b12&quot;, 2, 20.);\n        hotelB.creatRooms(&quot;b17&quot;, 1, 200.);\n        hotelB.creatRooms(&quot;b15&quot;, 1, 40.);\n        hotelB.creatRooms(&quot;b15&quot;, 1, 1.);\n        hotelList.add(hotelB);\n\n        Hotel hotelC = new Hotel(&quot;Toulouse&quot;,4);\n        hotelC.creatRooms(&quot;c12&quot;, 21, 200.);\n        hotelC.creatRooms(&quot;c17&quot;, 11, 100.);\n        hotelC.creatRooms(&quot;c15&quot;, 21, 50.);\n        hotelC.creatRooms(&quot;c16&quot;, 30, 25.);\n        hotelList.add(hotelC);\n\n        //System.out.println(&quot;Hotels List\\n&quot;);\n        //hotelList.forEach(System.out::println);\n\n        List&lt;Hotel&gt; result= searchHotelRoom(hotelList,&quot;&quot;,0,200.,2);\n        System.out.println(&quot;Result of search&quot;);\n        result.forEach(System.out::println);\n    }\n\n}\n\n</code></pre>\n<p>The search function does not work as i would like there is some inconsistency\nfor example for</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Hotel&gt; result= searchHotelRoom(hotelList,&quot;paris&quot;,0,200.,1);\n</code></pre>\n<p>i have this result</p>\n<pre><code>Result of search\nHotel{\n    city='Paris', numberOfStart=4, \n    rooms=[\n        Room{price=150.0', numberOfBed=2, roomNumber='p12}, \n        Room{price=200.0', numberOfBed=1, roomNumber='p17}, \n        Room{price=50.0', numberOfBed=3, roomNumber='p15}]}\n</code></pre>\n<p>but i want something like</p>\n<pre><code>Result of search\nHotel{\n    city='Paris', numberOfStart=4, \n    rooms=[\n            Room{price=200.0', numberOfBed=1, roomNumber='p17}}\n</code></pre>\n<p>and it seems that I have no <strong>and logic</strong> between the filters</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Hotel&gt; result= searchHotelRoom(hotelList,&quot;paris&quot;,0,200.,2);\n</code></pre>\n<p>must return nohing , but i have a result</p>\n<p>And on many hotel</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Hotel&gt; result= searchHotelRoom(hotelList,&quot;&quot;,0,200.,1);\n\n</code></pre>\n<p>I have</p>\n<pre><code>Result of search\nHotel{\n    city='Paris', numberOfStart=4, \n    rooms=[\n        Room{price=150.0', numberOfBed=2, roomNumber='p12}, \n        Room{price=200.0', numberOfBed=1, roomNumber='p17}, \n        Room{price=50.0', numberOfBed=3, roomNumber='p15}]}\n\n\nHotel{\n    city='Montpellier', numberOfStart=4, \n    rooms=[\n        \n        Room{price=200.0', numberOfBed=1, roomNumber='b17}, \n\n</code></pre>\n<p>but i looking for something like</p>\n<pre><code>Result of search\nHotel{\n    city='Paris', numberOfStart=4, \n    rooms=[\n        Room{price=200.0', numberOfBed=1, roomNumber='p17} \n}\n\n\nHotel{\n    city='Montpellier', numberOfStart=4, \n    rooms=[\n    \n        Room{price=200.0', numberOfBed=1, roomNumber='b17} \n}\n</code></pre>\n<p>in search method anyMatch return a boolean but i want list of room,<br />\nso i have trie somme stuff on my searh methode like , but doesn't work</p>\n<pre class=\"lang-java prettyprint-override\"><code> .filter(room -&gt; room.getRooms().stream().filter(byPrice))\n</code></pre>\n<p>Does anyone have a clue to help me please?</p>\n"},{"tags":["java","android","android-studio","geofencing","android-geofence"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1669532994,"post_id":74587936,"comment_id":131659419,"body_markdown":"Permission POST_NOTIFICATIONS?","body":"Permission POST_NOTIFICATIONS?"},{"owner":{"account_id":25926324,"reputation":1,"user_id":19648154,"display_name":"Nikolai Mochalov"},"score":0,"creation_date":1669703923,"post_id":74587936,"comment_id":131696762,"body_markdown":"The notification pops up when Geofence created inside the zone.","body":"The notification pops up when Geofence created inside the zone."}],"owner":{"account_id":25926324,"reputation":1,"user_id":19648154,"display_name":"Nikolai Mochalov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669529906,"creation_date":1669529906,"question_id":74587936,"body_markdown":"Does Geofence with broadcast receiver works on Android 13?\r\nI found out the demo was provided by android developer official website &quot; create a Geofence&quot; isn&#39;t properly working. I&#39;m receiving a notification only when I create a Geofence inside the &quot; wanted&quot; location - meaning the notification pops up only when I click &quot; add Geofence&quot; inside the location, otherwise when I enter the area the notification doesn&#39;t pop up .\r\nAny suggestions?\r\n\r\nTried to create my own Geofence application with notifications and the results are the same. ( Using new version of Android 13) ","title":"Geofence Android 13","body":"<p>Does Geofence with broadcast receiver works on Android 13?\nI found out the demo was provided by android developer official website &quot; create a Geofence&quot; isn't properly working. I'm receiving a notification only when I create a Geofence inside the &quot; wanted&quot; location - meaning the notification pops up only when I click &quot; add Geofence&quot; inside the location, otherwise when I enter the area the notification doesn't pop up .\nAny suggestions?</p>\n<p>Tried to create my own Geofence application with notifications and the results are the same. ( Using new version of Android 13)</p>\n"},{"tags":["java","selenium","google-chrome","selenium-webdriver","testcontainers"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1669287269,"post_id":74558885,"comment_id":131612762,"body_markdown":"What is `WebDriverRunner`?","body":"What is <code>WebDriverRunner</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669528968,"creation_date":1669528968,"answer_id":74587872,"question_id":74558885,"body_markdown":"We recenty updated our [documentation](https://www.testcontainers.org/modules/webdriver_containers/) to reflect the correct way to instantiate the `WebDriver`:\r\n\r\n```java\r\nRemoteWebDriver driver = new RemoteWebDriver(browser.getSeleniumAddress(), new ChromeOptions());\r\n```\r\n\r\nPlease give it a try, and else, please share a [reproducer](https://github.com/testcontainers/testcontainers-java-repro). I also noticed that you are using the `junit-jupiter` module, but you don&#39;t use the actual extension in your example. Also, please make sure to use the latest version Testcontainers (`1.17.6`). ","title":"Selenium Test not running using test container","body":"<p>We recenty updated our <a href=\"https://www.testcontainers.org/modules/webdriver_containers/\" rel=\"nofollow noreferrer\">documentation</a> to reflect the correct way to instantiate the <code>WebDriver</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>RemoteWebDriver driver = new RemoteWebDriver(browser.getSeleniumAddress(), new ChromeOptions());\n</code></pre>\n<p>Please give it a try, and else, please share a <a href=\"https://github.com/testcontainers/testcontainers-java-repro\" rel=\"nofollow noreferrer\">reproducer</a>. I also noticed that you are using the <code>junit-jupiter</code> module, but you don't use the actual extension in your example. Also, please make sure to use the latest version Testcontainers (<code>1.17.6</code>).</p>\n"}],"owner":{"account_id":10170711,"reputation":54,"user_id":7511107,"display_name":"G.Khandal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669528968,"creation_date":1669284268,"question_id":74558885,"body_markdown":"My Selenium test is not running with my test container(docker).\r\n\r\nSample Config code\r\n```\r\npublic class ChromeExtension implements BeforeEachCallback {\r\n\r\nprivate BrowserWebDriverContainer browser;\r\n\r\n    @Override\r\n    public void beforeEach(ExtensionContext context) throws Exception {\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n        chromeOptions.addArguments(&quot;--no-sandbox&quot;,&quot;--headless&quot;,&quot;--disable-dev-shm-usage&quot;,\r\n                &quot;--disable-extensions&quot;,&quot;--verbose&quot;,&quot;--remote-debugging-port=9222&quot;,&quot;--disable-gpu&quot;);\r\n        browser = new BrowserWebDriverContainer()\r\n                .withCapabilities(chromeOptions);\r\n        browser.start();\r\n\r\n     \r\n        WebDriverRunner.setWebDriver(browser.getWebDriver());\r\n\r\n\r\n       \r\n    }\r\n```\r\nDependencies in Build.gradle\r\n```\r\n    testImplementation (&#39;com.codeborne:selenide:5.20.1&#39;)\r\n    testImplementation &#39;org.testcontainers:selenium:1.16.3&#39;\r\n    testImplementation &#39;org.testcontainers:junit-jupiter:1.16.3&#39;\r\n```\r\n\r\nGetting Exception Like\r\n\r\n```\r\n\r\nTimeout waiting for result with exception\r\norg.rnorth.ducttape.TimeoutException: Timeout waiting for result with exception\r\n\tat app//org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:54)\r\n\tat app//org.testcontainers.containers.BrowserWebDriverContainer.getWebDriver(BrowserWebDriverContainer.java:292)\r\n\tat app//at.magenta.tau.taup.ui.setup.ChromeExtensionTau.beforeEach(ChromeExtensionTau.java:39)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:163)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:199)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:199)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:162)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:129)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@11.0.16.1/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@11.0.16.1/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base@11.0.16.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@11.0.16.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base@11.0.16.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@11.0.16.1/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy5.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: java.lang.RuntimeException: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\r\n  (chrome not reachable)\r\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\r\nBuild info: version: &#39;4.2.1&#39;, revision: &#39;ac4d0fdd4a&#39;\r\nSystem info: host: &#39;2e6941fb4d93&#39;, ip: &#39;172.22.0.2&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.10.124-linuxkit&#39;, java.version: &#39;11.0.15&#39;\r\nDriver info: driver.version: unknown\r\nBuild info: version: &#39;4.2.1&#39;, revision: &#39;ac4d0fdd4a&#39;\r\nSystem info: host: &#39;2e6941fb4d93&#39;, ip: &#39;172.22.0.2&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.10.124-linuxkit&#39;, java.version: &#39;11.0.15&#39;\r\nDriver info: driver.version: unknown\r\nBuild info: version: &#39;4.2.1&#39;, revision: &#39;ac4d0fdd4a&#39;\r\nSystem info: host: &#39;gajendra.khandelwal&#39;, ip: &#39;fe80:0:0:0:4d9:683e:9b45:74a4%en0&#39;, os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;12.3&#39;, java.version: &#39;11.0.16.1&#39;\r\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--no-sandbox, --headless, --disable-dev-shm-usage, --disable-extensions, --verbose, --remote-debugging-port=9222, --disable-gpu], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--no-sandbox, --headless, --disable-dev-shm-usage, --disable-extensions, --verbose, --remote-debugging-port=9222, --disable-gpu], extensions: []}}}]\r\nCapabilities {}\r\n\tat org.rnorth.ducttape.timeouts.Timeouts.callFuture(Timeouts.java:68)\r\n\tat org.rnorth.ducttape.timeouts.Timeouts.getWithTimeout(Timeouts.java:43)\r\n\tat org.testcontainers.containers.BrowserWebDriverContainer.lambda$getWebDriver$1(BrowserWebDriverContainer.java:293)\r\n\tat org.rnorth.ducttape.unreliables.Unreliables.lambda$retryUntilSuccess$0(Unreliables.java:43)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\r\n  (chrome not reachable)\r\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\r\nBuild info: version: &#39;4.2.1&#39;, revision: &#39;ac4d0fdd4a&#39;\r\nSystem info: host: &#39;2e6941fb4d93&#39;, ip: &#39;172.22.0.2&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.10.124-linuxkit&#39;, java.version: &#39;11.0.15&#39;\r\nDriver info: driver.version: unknown\r\nBuild info: version: &#39;4.2.1&#39;, revision: &#39;ac4d0fdd4a&#39;\r\nSystem info: host: &#39;2e6941fb4d93&#39;, ip: &#39;172.22.0.2&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.10.124-linuxkit&#39;, java.version: &#39;11.0.15&#39;\r\nDriver info: driver.version: unknown\r\nBuild info: version: &#39;4.2.1&#39;, revision: &#39;ac4d0fdd4a&#39;\r\nSystem info: host: &#39;gajendra.khandelwal&#39;, ip: &#39;fe80:0:0:0:4d9:683e:9b45:74a4%en0&#39;, os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;12.3&#39;, java.version: &#39;11.0.16.1&#39;\r\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--no-sandbox, --headless, --disable-dev-shm-usage, --disable-extensions, --verbose, --remote-debugging-port=9222, --disable-gpu], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--no-sandbox, --headless, --disable-dev-shm-usage, --disable-extensions, --verbose, --remote-debugging-port=9222, --disable-gpu], extensions: []}}}]\r\nCapabilities {}\r\n\tat app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:144)\r\n\tat app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:102)\r\n\tat app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\r\n\tat app//org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\r\n\tat app//org.openqa.selenium.remote.TracedCommandExecutor.execute(TracedCommandExecutor.java:51)\r\n\tat app//org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:551)\r\n\tat app//org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:246)\r\n\tat app//org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:162)\r\n\tat app//org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:144)\r\n\tat app//org.testcontainers.containers.BrowserWebDriverContainer.lambda$null$0(BrowserWebDriverContainer.java:294)\r\n\t... 4 more\r\n```\r\n\r\nIf you see above My test is not working due to that but if i remove\r\n```\r\n WebDriverRunner.setWebDriver(browser.getWebDriver());\r\n```\r\nAfter removing this it will start working but it should work with this.\r\n\r\nApart from that i am able to see my test container got up when i run test it means my docker container is running properly.\r\n\r\n\r\n","title":"Selenium Test not running using test container","body":"<p>My Selenium test is not running with my test container(docker).</p>\n<p>Sample Config code</p>\n<pre><code>public class ChromeExtension implements BeforeEachCallback {\n\nprivate BrowserWebDriverContainer browser;\n\n    @Override\n    public void beforeEach(ExtensionContext context) throws Exception {\n        ChromeOptions chromeOptions = new ChromeOptions();\n        chromeOptions.addArguments(&quot;--no-sandbox&quot;,&quot;--headless&quot;,&quot;--disable-dev-shm-usage&quot;,\n                &quot;--disable-extensions&quot;,&quot;--verbose&quot;,&quot;--remote-debugging-port=9222&quot;,&quot;--disable-gpu&quot;);\n        browser = new BrowserWebDriverContainer()\n                .withCapabilities(chromeOptions);\n        browser.start();\n\n     \n        WebDriverRunner.setWebDriver(browser.getWebDriver());\n\n\n       \n    }\n</code></pre>\n<p>Dependencies in Build.gradle</p>\n<pre><code>    testImplementation ('com.codeborne:selenide:5.20.1')\n    testImplementation 'org.testcontainers:selenium:1.16.3'\n    testImplementation 'org.testcontainers:junit-jupiter:1.16.3'\n</code></pre>\n<p>Getting Exception Like</p>\n<pre><code>\nTimeout waiting for result with exception\norg.rnorth.ducttape.TimeoutException: Timeout waiting for result with exception\n    at app//org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:54)\n    at app//org.testcontainers.containers.BrowserWebDriverContainer.getWebDriver(BrowserWebDriverContainer.java:292)\n    at app//at.magenta.tau.taup.ui.setup.ChromeExtensionTau.beforeEach(ChromeExtensionTau.java:39)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:163)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:199)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:199)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:162)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:129)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@11.0.16.1/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@11.0.16.1/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base@11.0.16.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@11.0.16.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base@11.0.16.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@11.0.16.1/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy5.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: java.lang.RuntimeException: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\n  (chrome not reachable)\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\nBuild info: version: '4.2.1', revision: 'ac4d0fdd4a'\nSystem info: host: '2e6941fb4d93', ip: '172.22.0.2', os.name: 'Linux', os.arch: 'amd64', os.version: '5.10.124-linuxkit', java.version: '11.0.15'\nDriver info: driver.version: unknown\nBuild info: version: '4.2.1', revision: 'ac4d0fdd4a'\nSystem info: host: '2e6941fb4d93', ip: '172.22.0.2', os.name: 'Linux', os.arch: 'amd64', os.version: '5.10.124-linuxkit', java.version: '11.0.15'\nDriver info: driver.version: unknown\nBuild info: version: '4.2.1', revision: 'ac4d0fdd4a'\nSystem info: host: 'gajendra.khandelwal', ip: 'fe80:0:0:0:4d9:683e:9b45:74a4%en0', os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '12.3', java.version: '11.0.16.1'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--no-sandbox, --headless, --disable-dev-shm-usage, --disable-extensions, --verbose, --remote-debugging-port=9222, --disable-gpu], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--no-sandbox, --headless, --disable-dev-shm-usage, --disable-extensions, --verbose, --remote-debugging-port=9222, --disable-gpu], extensions: []}}}]\nCapabilities {}\n    at org.rnorth.ducttape.timeouts.Timeouts.callFuture(Timeouts.java:68)\n    at org.rnorth.ducttape.timeouts.Timeouts.getWithTimeout(Timeouts.java:43)\n    at org.testcontainers.containers.BrowserWebDriverContainer.lambda$getWebDriver$1(BrowserWebDriverContainer.java:293)\n    at org.rnorth.ducttape.unreliables.Unreliables.lambda$retryUntilSuccess$0(Unreliables.java:43)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\n  (chrome not reachable)\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\nBuild info: version: '4.2.1', revision: 'ac4d0fdd4a'\nSystem info: host: '2e6941fb4d93', ip: '172.22.0.2', os.name: 'Linux', os.arch: 'amd64', os.version: '5.10.124-linuxkit', java.version: '11.0.15'\nDriver info: driver.version: unknown\nBuild info: version: '4.2.1', revision: 'ac4d0fdd4a'\nSystem info: host: '2e6941fb4d93', ip: '172.22.0.2', os.name: 'Linux', os.arch: 'amd64', os.version: '5.10.124-linuxkit', java.version: '11.0.15'\nDriver info: driver.version: unknown\nBuild info: version: '4.2.1', revision: 'ac4d0fdd4a'\nSystem info: host: 'gajendra.khandelwal', ip: 'fe80:0:0:0:4d9:683e:9b45:74a4%en0', os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '12.3', java.version: '11.0.16.1'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--no-sandbox, --headless, --disable-dev-shm-usage, --disable-extensions, --verbose, --remote-debugging-port=9222, --disable-gpu], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--no-sandbox, --headless, --disable-dev-shm-usage, --disable-extensions, --verbose, --remote-debugging-port=9222, --disable-gpu], extensions: []}}}]\nCapabilities {}\n    at app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:144)\n    at app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:102)\n    at app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\n    at app//org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\n    at app//org.openqa.selenium.remote.TracedCommandExecutor.execute(TracedCommandExecutor.java:51)\n    at app//org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:551)\n    at app//org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:246)\n    at app//org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:162)\n    at app//org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:144)\n    at app//org.testcontainers.containers.BrowserWebDriverContainer.lambda$null$0(BrowserWebDriverContainer.java:294)\n    ... 4 more\n</code></pre>\n<p>If you see above My test is not working due to that but if i remove</p>\n<pre><code> WebDriverRunner.setWebDriver(browser.getWebDriver());\n</code></pre>\n<p>After removing this it will start working but it should work with this.</p>\n<p>Apart from that i am able to see my test container got up when i run test it means my docker container is running properly.</p>\n"},{"tags":["java","intellij-idea","lwjgl"],"comments":[{"owner":{"account_id":20517487,"reputation":151,"user_id":15057809,"display_name":"squid233"},"score":0,"creation_date":1669528159,"post_id":74580953,"comment_id":131658829,"body_markdown":"LWJGL 3.3.1 **doesn&#39;t** support to Java 19. Also, I see `glfwCreateWindow(windowWidth, windowHeight, &quot;Game&quot;, GLFW_RESIZABLE, NULL)` in your code. This is invalid.","body":"LWJGL 3.3.1 <b>doesn&#39;t</b> support to Java 19. Also, I see <code>glfwCreateWindow(windowWidth, windowHeight, &quot;Game&quot;, GLFW_RESIZABLE, NULL)</code> in your code. This is invalid."},{"owner":{"account_id":75221,"reputation":5709,"user_id":215838,"accept_rate":67,"display_name":"Hartmut Pfarr"},"score":0,"creation_date":1695329311,"post_id":74580953,"comment_id":136013720,"body_markdown":"when I switch to jvm-17, in my case, the error message above disappears. See also https://github.com/libgdx/libgdx/issues/7019","body":"when I switch to jvm-17, in my case, the error message above disappears. See also <a href=\"https://github.com/libgdx/libgdx/issues/7019\" rel=\"nofollow noreferrer\">github.com/libgdx/libgdx/issues/7019</a>"}],"answers":[{"tags":[],"owner":{"account_id":20517487,"reputation":151,"user_id":15057809,"display_name":"squid233"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669528460,"creation_date":1669528460,"answer_id":74587837,"question_id":74580953,"body_markdown":"The 4th parameter in `glfwCreateWindow` accepts a pointer of monitor.\r\n\r\nSimply replace it with `NULL`.\r\n\r\n```java\r\nwindow = glfwCreateWindow(windowWidth, windowHeight, &quot;Game&quot;, NULL, NULL);\r\n```","title":"Unsupported JNI version detected in LWJGL","body":"<p>The 4th parameter in <code>glfwCreateWindow</code> accepts a pointer of monitor.</p>\n<p>Simply replace it with <code>NULL</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>window = glfwCreateWindow(windowWidth, windowHeight, &quot;Game&quot;, NULL, NULL);\n</code></pre>\n"}],"owner":{"account_id":26428810,"reputation":37,"user_id":20075304,"display_name":"Foryxled_Dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1426,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669528460,"creation_date":1669453894,"question_id":74580953,"body_markdown":"So I tried using glfw and opengl for game development in java (for some reason) and recently I start getting an lwjgl error that I still don&#39;t know how to fix it\r\n\r\nhere is my source code:\r\n\r\n```\r\nimport org.lwjgl.*;\r\nimport org.lwjgl.glfw.*;\r\nimport org.lwjgl.opengl.*;\r\nimport org.lwjgl.system.*;\r\n\r\nimport java.nio.*;\r\nimport java.util.Objects;\r\n\r\nimport static org.lwjgl.glfw.Callbacks.*;\r\nimport static org.lwjgl.glfw.GLFW.*;\r\nimport static org.lwjgl.opengl.GL11.*;\r\nimport static org.lwjgl.system.MemoryStack.*;\r\nimport static org.lwjgl.system.MemoryUtil.*;\r\n\r\npublic class main {\r\n\r\n    private long window;\r\n\r\n    public void run() {\r\n        System.out.println(&quot;Hello LWJGL &quot; + Version.getVersion() + &quot;!&quot;);\r\n\r\n        init();\r\n        loop();\r\n\r\n        glfwFreeCallbacks(window);\r\n        glfwDestroyWindow(window);\r\n\r\n        glfwTerminate();\r\n        Objects.requireNonNull(glfwSetErrorCallback(null)).free();\r\n    }\r\n\r\n    private void init() {\r\n        GLFWErrorCallback.createPrint(System.err).set();\r\n\r\n        if ( !glfwInit() ) {\r\n            throw new IllegalStateException(&quot;Unable to initialize GLFW&quot;);\r\n        }\r\n\r\n        glfwDefaultWindowHints();\r\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\r\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_TRUE);\r\n\r\n        int windowWidth = 640;\r\n        int windowHeight = 480;\r\n\r\n        window = glfwCreateWindow(windowWidth, windowHeight, &quot;Game&quot;, GLFW_RESIZABLE, NULL);\r\n\r\n        if ( window == NULL )\r\n            throw new RuntimeException(&quot;Failed to create the GLFW window&quot;);\r\n\r\n        glfwSetKeyCallback(window, (window, key, scancode, action, mods) -&gt; {\r\n            if ( key == GLFW_KEY_ESCAPE &amp;&amp; action == GLFW_PRESS )\r\n                glfwSetWindowShouldClose(window, true);\r\n        });\r\n\r\n        try ( MemoryStack stack = stackPush() ) {\r\n            IntBuffer pWidth = stack.mallocInt(1); // int*\r\n            IntBuffer pHeight = stack.mallocInt(1); // int*\r\n\r\n            glfwGetWindowSize(window, pWidth, pHeight);\r\n\r\n            GLFWVidMode vidmode = glfwGetVideoMode(glfwGetPrimaryMonitor());\r\n            assert vidmode != null;\r\n            glfwSetWindowPos(\r\n                    window,\r\n                    (vidmode.width() - pWidth.get(0)) / 2,\r\n                    (vidmode.height() - pHeight.get(0)) / 2\r\n            );\r\n        }\r\n\r\n        glfwMakeContextCurrent(window);\r\n        glfwSwapInterval(1);\r\n\r\n        glfwShowWindow(window);\r\n    }\r\n\r\n    private void loop() {\r\n        GL.createCapabilities();\r\n\r\n        glClearColor(0.0f, 0.0f, 0.0f, 0.0f);\r\n\r\n        while ( !glfwWindowShouldClose(window) ) {\r\n            glClearColor(0.1f, 0.1f, 0.1f, 1.0f);\r\n            glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\r\n\r\n            glBegin(GL_POLYGON);\r\n            glEnd();\r\n\r\n            glfwSwapBuffers(window);\r\n\r\n            glfwPollEvents();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new main().run();\r\n    }\r\n\r\n}\r\n```\r\n\r\n(If there are improvement I could use in the code the pls tell me)\r\n\r\nAnd here is the error:\r\n\r\n```\r\nHello LWJGL 3.3.1 build 7!\r\n[LWJGL] [ThreadLocalUtil] Unsupported JNI version detected, this may result in a crash. Please inform LWJGL developers.\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffc3c5aba56, pid=6740, tid=14624\r\n#\r\n# JRE version: Java(TM) SE Runtime Environment (19.0.1+10) (build 19.0.1+10-21)\r\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (19.0.1+10-21, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\r\n# Problematic frame:\r\n# C  [ntdll.dll+0x3ba56]\r\n#\r\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n#\r\n# An error report file with more information is saved as:\r\n# D:\\IntelliJ IDEA Projects\\Game Project\\hs_err_pid6740.log\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://bugreport.java.com/bugreport/crash.jsp\r\n# The crash happened outside the Java Virtual Machine in native code.\r\n# See problematic frame for where to report the bug.\r\n#\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n\r\nIDE: IntelliJ IDEA community\r\n\r\nLWJGL 3.3.1 build 7\r\n\r\nI tried changing JDK version, changing SDK version, redownloading LWJGL libraries, editing source codes\r\n\r\n(None of it worked)","title":"Unsupported JNI version detected in LWJGL","body":"<p>So I tried using glfw and opengl for game development in java (for some reason) and recently I start getting an lwjgl error that I still don't know how to fix it</p>\n<p>here is my source code:</p>\n<pre><code>import org.lwjgl.*;\nimport org.lwjgl.glfw.*;\nimport org.lwjgl.opengl.*;\nimport org.lwjgl.system.*;\n\nimport java.nio.*;\nimport java.util.Objects;\n\nimport static org.lwjgl.glfw.Callbacks.*;\nimport static org.lwjgl.glfw.GLFW.*;\nimport static org.lwjgl.opengl.GL11.*;\nimport static org.lwjgl.system.MemoryStack.*;\nimport static org.lwjgl.system.MemoryUtil.*;\n\npublic class main {\n\n    private long window;\n\n    public void run() {\n        System.out.println(&quot;Hello LWJGL &quot; + Version.getVersion() + &quot;!&quot;);\n\n        init();\n        loop();\n\n        glfwFreeCallbacks(window);\n        glfwDestroyWindow(window);\n\n        glfwTerminate();\n        Objects.requireNonNull(glfwSetErrorCallback(null)).free();\n    }\n\n    private void init() {\n        GLFWErrorCallback.createPrint(System.err).set();\n\n        if ( !glfwInit() ) {\n            throw new IllegalStateException(&quot;Unable to initialize GLFW&quot;);\n        }\n\n        glfwDefaultWindowHints();\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_TRUE);\n\n        int windowWidth = 640;\n        int windowHeight = 480;\n\n        window = glfwCreateWindow(windowWidth, windowHeight, &quot;Game&quot;, GLFW_RESIZABLE, NULL);\n\n        if ( window == NULL )\n            throw new RuntimeException(&quot;Failed to create the GLFW window&quot;);\n\n        glfwSetKeyCallback(window, (window, key, scancode, action, mods) -&gt; {\n            if ( key == GLFW_KEY_ESCAPE &amp;&amp; action == GLFW_PRESS )\n                glfwSetWindowShouldClose(window, true);\n        });\n\n        try ( MemoryStack stack = stackPush() ) {\n            IntBuffer pWidth = stack.mallocInt(1); // int*\n            IntBuffer pHeight = stack.mallocInt(1); // int*\n\n            glfwGetWindowSize(window, pWidth, pHeight);\n\n            GLFWVidMode vidmode = glfwGetVideoMode(glfwGetPrimaryMonitor());\n            assert vidmode != null;\n            glfwSetWindowPos(\n                    window,\n                    (vidmode.width() - pWidth.get(0)) / 2,\n                    (vidmode.height() - pHeight.get(0)) / 2\n            );\n        }\n\n        glfwMakeContextCurrent(window);\n        glfwSwapInterval(1);\n\n        glfwShowWindow(window);\n    }\n\n    private void loop() {\n        GL.createCapabilities();\n\n        glClearColor(0.0f, 0.0f, 0.0f, 0.0f);\n\n        while ( !glfwWindowShouldClose(window) ) {\n            glClearColor(0.1f, 0.1f, 0.1f, 1.0f);\n            glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n\n            glBegin(GL_POLYGON);\n            glEnd();\n\n            glfwSwapBuffers(window);\n\n            glfwPollEvents();\n        }\n    }\n\n    public static void main(String[] args) {\n        new main().run();\n    }\n\n}\n</code></pre>\n<p>(If there are improvement I could use in the code the pls tell me)</p>\n<p>And here is the error:</p>\n<pre><code>Hello LWJGL 3.3.1 build 7!\n[LWJGL] [ThreadLocalUtil] Unsupported JNI version detected, this may result in a crash. Please inform LWJGL developers.\n#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffc3c5aba56, pid=6740, tid=14624\n#\n# JRE version: Java(TM) SE Runtime Environment (19.0.1+10) (build 19.0.1+10-21)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (19.0.1+10-21, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\n# Problematic frame:\n# C  [ntdll.dll+0x3ba56]\n#\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\n#\n# An error report file with more information is saved as:\n# D:\\IntelliJ IDEA Projects\\Game Project\\hs_err_pid6740.log\n#\n# If you would like to submit a bug report, please visit:\n#   https://bugreport.java.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n\nProcess finished with exit code 1\n</code></pre>\n<p>IDE: IntelliJ IDEA community</p>\n<p>LWJGL 3.3.1 build 7</p>\n<p>I tried changing JDK version, changing SDK version, redownloading LWJGL libraries, editing source codes</p>\n<p>(None of it worked)</p>\n"},{"tags":["java","for-loop","processing"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1669468704,"post_id":74582450,"comment_id":131649720,"body_markdown":"Welcome to Stack Overflow. Please take the time to format your code (your IDE should help you with that) - without indentation, it&#39;s really hard to read the code. (It&#39;s also invalid code in various ways... again, it&#39;s hard to help without seeing the actual code.)","body":"Welcome to Stack Overflow. Please take the time to format your code (your IDE should help you with that) - without indentation, it&#39;s really hard to read the code. (It&#39;s also invalid code in various ways... again, it&#39;s hard to help without seeing the actual code.)"},{"owner":{"account_id":27033373,"reputation":1,"user_id":20589378,"display_name":"Johannes Diestel"},"score":0,"creation_date":1669468994,"post_id":74582450,"comment_id":131649767,"body_markdown":"Sorry about that. Should work now.","body":"Sorry about that. Should work now."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1669469121,"post_id":74582450,"comment_id":131649787,"body_markdown":"Definitely better, but still hard to read due to lack of indentation.","body":"Definitely better, but still hard to read due to lack of indentation."},{"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"score":0,"creation_date":1669469381,"post_id":74582450,"comment_id":131649837,"body_markdown":"You can simply list the initializations in comma separated list (at least when they have the same type):\n    for (int j = 0, d=2 ; j &lt; board[0].length; j++) {","body":"You can simply list the initializations in comma separated list (at least when they have the same type):     for (int j = 0, d=2 ; j &lt; board[0].length; j++) {"},{"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"score":0,"creation_date":1669470039,"post_id":74582450,"comment_id":131649977,"body_markdown":"Full sample for 2 variables for (int j = 0, d=2; j &lt; board[0].length &amp;&amp; d &lt; 100; j++, d++)","body":"Full sample for 2 variables for (int j = 0, d=2; j &lt; board[0].length &amp;&amp; d &lt; 100; j++, d++)"}],"owner":{"account_id":27033373,"reputation":1,"user_id":20589378,"display_name":"Johannes Diestel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669524950,"creation_date":1669468226,"question_id":74582450,"body_markdown":"```  \r\nint numPile=21;\r\nint numPlayer1=10;\r\nint numPlayer2=10;\r\n\r\nvoid setup()\r\n{\r\n    size(500,500);\r\n}\r\n\r\nvoid draw()\r\n{\r\n    drawMatchPile(20,30,10,40,numPile);\r\n    drawMatchPile(20,height-100,10,40,numPlayer1);\r\n    drawMatchPile(width/2,height-100,10,40,numPlayer2);\r\n}\r\n        \r\nvoid drawMatchPile(int posX, int posY,int matchW, int matchH,int numPile)\r\n{\r\n    matchW= 10;\r\n    matchH = 50;\r\n\r\n    int dist;\r\n    ellipseMode(RECT); \r\n           \r\n    for(numPile= numPile+1; numPile &gt; 0; numPile --)\r\n    {\r\n        for(dist =1; (dist &lt; numPile); dist++);\r\n        {\r\n            fill(255, 0, 0); \r\n            ellipse( dist * posX, posY, matchW+2, matchH * 0.4); \r\n            fill(#D3C11C); \r\n            rect( dist * posX, posY+matchH * 0.35,matchW,matchH); \r\n        }\r\n    }\r\n}   \r\n```\r\n**&gt; Goal: draw rows of match sticks on different x Positions using ONE for loop**.\r\n**&gt; //How can we draw matches at xPosition = width/2 without changing the test (numPile variable)?**\r\n&gt; // -so long as dist \\&lt; numPile the matches are drawn. Works when xPosition = 20.\r\n&gt; // 21 matches are drawn at xPostion = 20, yPosition = 30.\r\n&gt; // 10 matches are drawn at xPostion = 20, yPosition = height- 100.\r\n&gt; **// 0 matches are drawn at xPosition = width/2, yPostion = height -100.**\r\n\r\n&gt;//The function is called three times in draw. The posX variable is initialized in draw, and passed on to the for-loop through the posX parameter of drawMatchPile. All Functions depend on the same posX variable. The posX is multiplied by the variable (dist) within the for loop, as long as dist &lt; numPile, it will draw the shape again. However if posX is equal to width/2, then posX = 250, and the test is no longer true.","title":"How can we add a second initialization condition to a for loop in java processing?","body":"<pre><code>int numPile=21;\nint numPlayer1=10;\nint numPlayer2=10;\n\nvoid setup()\n{\n    size(500,500);\n}\n\nvoid draw()\n{\n    drawMatchPile(20,30,10,40,numPile);\n    drawMatchPile(20,height-100,10,40,numPlayer1);\n    drawMatchPile(width/2,height-100,10,40,numPlayer2);\n}\n        \nvoid drawMatchPile(int posX, int posY,int matchW, int matchH,int numPile)\n{\n    matchW= 10;\n    matchH = 50;\n\n    int dist;\n    ellipseMode(RECT); \n           \n    for(numPile= numPile+1; numPile &gt; 0; numPile --)\n    {\n        for(dist =1; (dist &lt; numPile); dist++);\n        {\n            fill(255, 0, 0); \n            ellipse( dist * posX, posY, matchW+2, matchH * 0.4); \n            fill(#D3C11C); \n            rect( dist * posX, posY+matchH * 0.35,matchW,matchH); \n        }\n    }\n}   \n</code></pre>\n<p><strong>&gt; Goal: draw rows of match sticks on different x Positions using ONE for loop</strong>.\n<strong>&gt; //How can we draw matches at xPosition = width/2 without changing the test (numPile variable)?</strong></p>\n<blockquote>\n<p>// -so long as dist &lt; numPile the matches are drawn. Works when xPosition = 20.\n// 21 matches are drawn at xPostion = 20, yPosition = 30.\n// 10 matches are drawn at xPostion = 20, yPosition = height- 100.\n<strong>// 0 matches are drawn at xPosition = width/2, yPostion = height -100.</strong></p>\n</blockquote>\n<blockquote>\n<p>//The function is called three times in draw. The posX variable is initialized in draw, and passed on to the for-loop through the posX parameter of drawMatchPile. All Functions depend on the same posX variable. The posX is multiplied by the variable (dist) within the for loop, as long as dist &lt; numPile, it will draw the shape again. However if posX is equal to width/2, then posX = 250, and the test is no longer true.</p>\n</blockquote>\n"},{"tags":["java","sql","swing","plsql"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669550151,"post_id":74587537,"comment_id":131662134,"body_markdown":"An NPE in marked line 128 can only occur if `con` is null.","body":"An NPE in marked line 128 can only occur if <code>con</code> is null."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1669562824,"post_id":74587537,"comment_id":131664496,"body_markdown":"looks unrelated to swing (or any ui code): solve the connection problem separately, only after that&#39;s working move on to add ui.","body":"looks unrelated to swing (or any ui code): solve the connection problem separately, only after that&#39;s working move on to add ui."}],"answers":[{"comments":[{"owner":{"account_id":27041241,"reputation":1,"user_id":20596049,"display_name":"Ahmed_tarek"},"score":0,"creation_date":1669526965,"post_id":74587588,"comment_id":131658687,"body_markdown":"[link https://l.top4top.io/p_2522drbji1.png ] I checked it and I think there is no error in it, and here is a screenshot of the code \n\n@mzm","body":"[link <a href=\"https://l.top4top.io/p_2522drbji1.png\" rel=\"nofollow noreferrer\">l.top4top.io/p_2522drbji1.png</a> ] I checked it and I think there is no error in it, and here is a screenshot of the code   @mzm"}],"tags":[],"owner":{"account_id":27004180,"reputation":53,"user_id":20564950,"display_name":"mzm"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669524632,"creation_date":1669524632,"answer_id":74587588,"question_id":74587537,"body_markdown":"On line 128, \r\n\r\n     pre=con.prepareStatement(&quot;Select * from adminn where adm_name=&#39;&quot;+namee+&quot;&#39; and adm_password=&#39;&quot;+pass+&quot;&#39;&quot;);\r\n\r\nCheck the connection object, con, is the only object, on that line that can raise that exception.\r\n","title":"how to fix NullPointerException in java gui?","body":"<p>On line 128,</p>\n<pre><code> pre=con.prepareStatement(&quot;Select * from adminn where adm_name='&quot;+namee+&quot;' and adm_password='&quot;+pass+&quot;'&quot;);\n</code></pre>\n<p>Check the connection object, con, is the only object, on that line that can raise that exception.</p>\n"}],"owner":{"account_id":27041241,"reputation":1,"user_id":20596049,"display_name":"Ahmed_tarek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1669569716,"answer_count":1,"score":-1,"last_activity_date":1669524632,"creation_date":1669523903,"question_id":74587537,"body_markdown":"I designed the login interface, and it compares the information that you entered with the information that is in the database. When I step on the login, this problem appears. I read about this problem and understood that it occurs when I call the value in the variable, but there is no value in the variable to call it.\r\n\r\nBut the variables that I want to compare with have values that I entered\r\n\r\n\r\n\r\n\r\n```\r\n private void admin_loginActionPerformed(java.awt.event.ActionEvent evt) {                                           \r\n\r\n        \r\n\r\n//These are the variables in which the username and password that you entered are stored and compared to them\r\n        \r\n        String namee=name_admin.getText();\r\n        int pass=Integer.parseInt(pass_admin.getText());   \r\n        \r\n\r\n\r\n        try {\r\n\r\n\r\n\r\n\r\n    line 128     pre=con.prepareStatement(&quot;Select * from adminn where adm_name=&#39;&quot;+namee+&quot;&#39; and adm_password=&#39;&quot;+pass+&quot;&#39;&quot;);\r\n\r\n            ru=pre.executeQuery();\r\n\r\n            if (ru.next()) {\r\n\r\n                System.out.println(&quot;login done&quot;);\r\n            } else {\r\n                System.out.println(&quot;login faild&quot;);\r\n            }\r\n\r\n        } catch (Exception er) {\r\n\r\n            er.printStackTrace();\r\n\r\n            System.out.println(er);\r\n        }\r\n\r\n\r\n    }                                           \r\n\r\n    private void back_libActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n\r\n        library ii = new library();\r\n\r\n        dispose();\r\n\r\n        ii.setVisible(true);\r\n\r\n\r\n    }                                        \r\n```\r\nThis is the code where the problem occurred\r\n\r\n\r\n\r\n`\r\n\r\n```\r\njava.lang.NullPointerException\r\njava.lang.NullPointerException\r\n\tat ad_login.admin_loginActionPerformed(ad_login.java:128)\r\n\t\r\n```\r\n\r\n\r\nHere is a screenshot of the database that I want to compare against\r\n[screen shot of database](https://a.top4top.io/p_2522jbl7e1.png)\r\n\r\nAnd this is a picture of my entries in the login interface\r\n\r\n`[screen shot of my input in login form](https://b.top4top.io/p_2522iirw02.png)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI checked the variables and it turned out that they are correct and there is nothing wrong with them","title":"how to fix NullPointerException in java gui?","body":"<p>I designed the login interface, and it compares the information that you entered with the information that is in the database. When I step on the login, this problem appears. I read about this problem and understood that it occurs when I call the value in the variable, but there is no value in the variable to call it.</p>\n<p>But the variables that I want to compare with have values that I entered</p>\n<pre><code> private void admin_loginActionPerformed(java.awt.event.ActionEvent evt) {                                           \n\n        \n\n//These are the variables in which the username and password that you entered are stored and compared to them\n        \n        String namee=name_admin.getText();\n        int pass=Integer.parseInt(pass_admin.getText());   \n        \n\n\n        try {\n\n\n\n\n    line 128     pre=con.prepareStatement(&quot;Select * from adminn where adm_name='&quot;+namee+&quot;' and adm_password='&quot;+pass+&quot;'&quot;);\n\n            ru=pre.executeQuery();\n\n            if (ru.next()) {\n\n                System.out.println(&quot;login done&quot;);\n            } else {\n                System.out.println(&quot;login faild&quot;);\n            }\n\n        } catch (Exception er) {\n\n            er.printStackTrace();\n\n            System.out.println(er);\n        }\n\n\n    }                                           \n\n    private void back_libActionPerformed(java.awt.event.ActionEvent evt) {                                         \n\n        library ii = new library();\n\n        dispose();\n\n        ii.setVisible(true);\n\n\n    }                                        \n</code></pre>\n<p>This is the code where the problem occurred</p>\n<p>`</p>\n<pre><code>java.lang.NullPointerException\njava.lang.NullPointerException\n    at ad_login.admin_loginActionPerformed(ad_login.java:128)\n    \n</code></pre>\n<p>Here is a screenshot of the database that I want to compare against\n<a href=\"https://a.top4top.io/p_2522jbl7e1.png\" rel=\"nofollow noreferrer\">screen shot of database</a></p>\n<p>And this is a picture of my entries in the login interface</p>\n<p>`<a href=\"https://b.top4top.io/p_2522iirw02.png\" rel=\"nofollow noreferrer\">screen shot of my input in login form</a></p>\n<p>I checked the variables and it turned out that they are correct and there is nothing wrong with them</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1669522321,"post_id":74587171,"comment_id":131658276,"body_markdown":"The most important thing you&#39;re missing is a &quot;paint()&quot; method.  Look at this source file: [WeatherWizard.java](https://docs.oracle.com/javase/tutorial/2d/basic2d/examples/WeatherWizard.java)( then review against this tutorial:  https://docs.oracle.com/javase/tutorial/2d/basic2d/.  Or Google for &quot;Java 2D graphics tutorial&quot;.","body":"The most important thing you&#39;re missing is a &quot;paint()&quot; method.  Look at this source file: <a href=\"https://docs.oracle.com/javase/tutorial/2d/basic2d/examples/WeatherWizard.java\" rel=\"nofollow noreferrer\">WeatherWizard.java</a>( then review against this tutorial:  <a href=\"https://docs.oracle.com/javase/tutorial/2d/basic2d/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/2d/basic2d</a>.  Or Google for &quot;Java 2D graphics tutorial&quot;."}],"answers":[{"comments":[{"owner":{"account_id":27058681,"reputation":1,"user_id":20611016,"display_name":"P0RTSIDE"},"score":0,"creation_date":1669522891,"post_id":74587342,"comment_id":131658319,"body_markdown":"Thank You! This really clears things up, I was wondering why it wasn&#39;t drawing.","body":"Thank You! This really clears things up, I was wondering why it wasn&#39;t drawing."},{"owner":{"account_id":27058681,"reputation":1,"user_id":20611016,"display_name":"P0RTSIDE"},"score":0,"creation_date":1669523339,"post_id":74587342,"comment_id":131658344,"body_markdown":"How come when I type your code, the Override gets the error &quot;method does not override or implement a method from a supertype&quot;.","body":"How come when I type your code, the Override gets the error &quot;method does not override or implement a method from a supertype&quot;."},{"owner":{"account_id":21020948,"reputation":417,"user_id":15447313,"display_name":"LuckyBandit74"},"score":0,"creation_date":1669523654,"post_id":74587342,"comment_id":131658373,"body_markdown":"Ah, I have not used Java swing in awhile and forgot JFrame is not a JComponent. Please refer to this question https://stackoverflow.com/questions/8077156/paintcomponent-never-executes-on-a-jframe. You’ll  need to override the paintComponent method of a JPanel. My apologies","body":"Ah, I have not used Java swing in awhile and forgot JFrame is not a JComponent. Please refer to this question <a href=\"https://stackoverflow.com/questions/8077156/paintcomponent-never-executes-on-a-jframe\" title=\"paintcomponent never executes on a jframe\">stackoverflow.com/questions/8077156/&hellip;</a>. You’ll  need to override the paintComponent method of a JPanel. My apologies"},{"owner":{"account_id":21020948,"reputation":417,"user_id":15447313,"display_name":"LuckyBandit74"},"score":0,"creation_date":1669524017,"post_id":74587342,"comment_id":131658403,"body_markdown":"@P0RTSIDE I have edited my post, you must use a JPanel and add to a JFrame","body":"@P0RTSIDE I have edited my post, you must use a JPanel and add to a JFrame"},{"owner":{"account_id":27058681,"reputation":1,"user_id":20611016,"display_name":"P0RTSIDE"},"score":0,"creation_date":1669524613,"post_id":74587342,"comment_id":131658451,"body_markdown":"Hm, this program compiles but when I run it, it just continuously makes new windows until my computer CPU caps at 100% and I have to close the program manually whereupon I&#39;m prompted with &quot;The operation could not be completed&quot;.","body":"Hm, this program compiles but when I run it, it just continuously makes new windows until my computer CPU caps at 100% and I have to close the program manually whereupon I&#39;m prompted with &quot;The operation could not be completed&quot;."},{"owner":{"account_id":21020948,"reputation":417,"user_id":15447313,"display_name":"LuckyBandit74"},"score":0,"creation_date":1669525018,"post_id":74587342,"comment_id":131658488,"body_markdown":"@P0RTSIDE Does your sun class extend DrawTest? If so, that is the problem. Don’t have the Sun class extend anything.","body":"@P0RTSIDE Does your sun class extend DrawTest? If so, that is the problem. Don’t have the Sun class extend anything."},{"owner":{"account_id":21020948,"reputation":417,"user_id":15447313,"display_name":"LuckyBandit74"},"score":0,"creation_date":1669525601,"post_id":74587342,"comment_id":131658544,"body_markdown":"@P0RTSIDE Sure, this should have been first try, sorry for the hassle.","body":"@P0RTSIDE Sure, this should have been first try, sorry for the hassle."}],"tags":[],"owner":{"account_id":21020948,"reputation":417,"user_id":15447313,"display_name":"LuckyBandit74"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669524214,"creation_date":1669520686,"answer_id":74587342,"question_id":74587171,"body_markdown":"Your `paintComponent` method is actually never called and therefore the sun isn’t drawn. This is because the `paintComponent` method actually overrides the `paintComponent` method of the JComponent you created when you stated\r\n\r\n    new ShapeComponent();\r\n\r\nHowever, you create a `JFrame` in the constructor and display that instead of the JComponent. Simply, the `paintComponent` method that you override belongs to a `JComponent` that is not displayed. So, to fix this you need to override the `paintComponent` method of a JPanel which can then be added to a JFrame that you create. \r\n\r\nOne way to do this is to have your ShapeComponent class extend `JPanel`. However, a more suiting name could be DrawTest:\r\n\r\n    public class DrawTest extends JPanel {\r\n\r\n        public Sun sun;\r\n\r\n        public DrawTest() {\r\n            JFrame f = new JFrame();\r\n            f.setTitle(“Greeting Card”);\r\n            f.setSize(480, 600);\r\n            f.add(this);\r\n            f.setVisible(true);\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n            initializeShapes();\r\n\r\n        }\r\n\r\n        public void initializeShapes() {\r\n            sun = new Sun(…);\r\n        }\r\n\r\n        @Override\r\n        public void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            Graphics2D g2 = (Graphics2D) g;\r\n            sun.draw(g2);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            new DrawTest();\r\n        }\r\n    }\r\n\r\nHere, the `paintComponent` method is overriding the `paintComponent` of the JPanel which is then added to a JFrame, which has been initialized and displayed in the constructor. \r\n\r\nI added a method to initialize shapes as initializing objects in the paintComponent loop can cause unwanted problems when, for example,\r\nyou want to translate the sun. Also, if you want to translate make sure the draw method in the sun is dependent on the sun’s location, x and y.\r\n\r\nMoreover, your Sun class does not need to extend ShapeComponent or DrawTest so you can get rid of that extends. However, an abstract ShapeComponent class can be useful if you are planning to have multiple shapes. In that case, Sun can extend ShapeComponent. If this is the case, when you create a ShapeComponent class it does not need to contain any initialization of the frame. Rather, it should have methods such as translate and draw which subclasses, like Sun, can override.","title":"How do you draw an object from another class?","body":"<p>Your <code>paintComponent</code> method is actually never called and therefore the sun isn’t drawn. This is because the <code>paintComponent</code> method actually overrides the <code>paintComponent</code> method of the JComponent you created when you stated</p>\n<pre><code>new ShapeComponent();\n</code></pre>\n<p>However, you create a <code>JFrame</code> in the constructor and display that instead of the JComponent. Simply, the <code>paintComponent</code> method that you override belongs to a <code>JComponent</code> that is not displayed. So, to fix this you need to override the <code>paintComponent</code> method of a JPanel which can then be added to a JFrame that you create.</p>\n<p>One way to do this is to have your ShapeComponent class extend <code>JPanel</code>. However, a more suiting name could be DrawTest:</p>\n<pre><code>public class DrawTest extends JPanel {\n\n    public Sun sun;\n\n    public DrawTest() {\n        JFrame f = new JFrame();\n        f.setTitle(“Greeting Card”);\n        f.setSize(480, 600);\n        f.add(this);\n        f.setVisible(true);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        initializeShapes();\n\n    }\n\n    public void initializeShapes() {\n        sun = new Sun(…);\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        sun.draw(g2);\n    }\n\n    public static void main(String[] args) {\n        new DrawTest();\n    }\n}\n</code></pre>\n<p>Here, the <code>paintComponent</code> method is overriding the <code>paintComponent</code> of the JPanel which is then added to a JFrame, which has been initialized and displayed in the constructor.</p>\n<p>I added a method to initialize shapes as initializing objects in the paintComponent loop can cause unwanted problems when, for example,\nyou want to translate the sun. Also, if you want to translate make sure the draw method in the sun is dependent on the sun’s location, x and y.</p>\n<p>Moreover, your Sun class does not need to extend ShapeComponent or DrawTest so you can get rid of that extends. However, an abstract ShapeComponent class can be useful if you are planning to have multiple shapes. In that case, Sun can extend ShapeComponent. If this is the case, when you create a ShapeComponent class it does not need to contain any initialization of the frame. Rather, it should have methods such as translate and draw which subclasses, like Sun, can override.</p>\n"}],"owner":{"account_id":27058681,"reputation":1,"user_id":20611016,"display_name":"P0RTSIDE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669524214,"creation_date":1669517844,"question_id":74587171,"body_markdown":"I am trying to make a greeting card in java that draws objects from other classes, and I can get my program to compile, its just that the resulting window I get from each draw only comes up as a blank grey screen. I don&#39;t really understand how java GUI works so any tips help.\r\n\r\nThis is the code of the class whose object I&#39;m trying to draw.\r\nI have some methods and variables I&#39;m not using yet.\r\n\r\n\r\n\r\n\r\nSun class code\r\n\r\n```\r\n\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.geom.Line2D;\r\nimport java.awt.Color;\r\n\r\n\r\npublic class Sun extends ShapeComponent\r\n{\r\n   private double x;\r\n   private double y;\r\n   private double width;\r\n   private double height;\r\n\r\n   \r\n   public Sun(double anX, double aY, double w, double h)\r\n   {\r\n      x = anX;\r\n      y = aY;\r\n      width = w;\r\n      height = h;\r\n   }\r\n\r\n   \r\n   public void draw(Graphics2D g2)\r\n   {\r\n    g2.setColor (Color.orange);\r\n    g2.fillArc (100,20,80,80,0,360);\r\n    g2.drawLine (95,55,75,55);\r\n    g2.drawLine (140,105,140,125);\r\n    g2.drawLine (140,15,140,0);\r\n    g2.drawLine (185,60,205,60);\r\n    g2.drawLine (105,35,85,25);\r\n    g2.drawLine (120,20,105,5);\r\n    g2.drawLine (100,80,80,90);\r\n    g2.drawLine (115,100,100,120);\r\n    g2.drawLine (175,5,160,20);\r\n    g2.drawLine (205,25,175,35);\r\n    g2.drawLine (205,90,175,80);\r\n    g2.drawLine (175,120,160,100);\r\n   }\r\n   \r\n   public void translate(int dx, int dy)\r\n   {\r\n      x += dx;\r\n      y += dy;\r\n   }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI tried to draw the sun like this in my SceneComponent class but all I&#39;m getting is that grey rectangle with no shapes.\r\n\r\n```\r\n\r\n\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.geom.Ellipse2D;\r\nimport java.awt.Rectangle;\r\nimport java.awt.geom.Line2D;\r\nimport java.awt.Polygon;\r\nimport java.awt.Color;\r\nimport java.awt.BasicStroke;\r\nimport javax.swing.JComponent;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\n\r\npublic class ShapeComponent extends JComponent\r\n{  \r\n    public ShapeComponent(){\r\n        JFrame jf = new JFrame();\r\n        jf.setTitle(&quot;Greeting Card&quot;);\r\n        jf.setSize(480, 600);\r\n        jf.setVisible(true);\r\n        jf.setDefaultCloseOperation (JFrame.EXIT_ON_CLOSE);\r\n\r\n    }\r\n    public void paintComponent(Graphics2D g2){\r\n        super.paintComponent(g2);\r\n        Sun sun = new Sun(5,65,55,66);\r\n        sun.draw(g2);\r\n    }\r\n   public static void main(String[] args)\r\n   {\r\n\r\n        new ShapeComponent();\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n","title":"How do you draw an object from another class?","body":"<p>I am trying to make a greeting card in java that draws objects from other classes, and I can get my program to compile, its just that the resulting window I get from each draw only comes up as a blank grey screen. I don't really understand how java GUI works so any tips help.</p>\n<p>This is the code of the class whose object I'm trying to draw.\nI have some methods and variables I'm not using yet.</p>\n<p>Sun class code</p>\n<pre><code>\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.geom.Line2D;\nimport java.awt.Color;\n\n\npublic class Sun extends ShapeComponent\n{\n   private double x;\n   private double y;\n   private double width;\n   private double height;\n\n   \n   public Sun(double anX, double aY, double w, double h)\n   {\n      x = anX;\n      y = aY;\n      width = w;\n      height = h;\n   }\n\n   \n   public void draw(Graphics2D g2)\n   {\n    g2.setColor (Color.orange);\n    g2.fillArc (100,20,80,80,0,360);\n    g2.drawLine (95,55,75,55);\n    g2.drawLine (140,105,140,125);\n    g2.drawLine (140,15,140,0);\n    g2.drawLine (185,60,205,60);\n    g2.drawLine (105,35,85,25);\n    g2.drawLine (120,20,105,5);\n    g2.drawLine (100,80,80,90);\n    g2.drawLine (115,100,100,120);\n    g2.drawLine (175,5,160,20);\n    g2.drawLine (205,25,175,35);\n    g2.drawLine (205,90,175,80);\n    g2.drawLine (175,120,160,100);\n   }\n   \n   public void translate(int dx, int dy)\n   {\n      x += dx;\n      y += dy;\n   }\n}\n\n</code></pre>\n<p>I tried to draw the sun like this in my SceneComponent class but all I'm getting is that grey rectangle with no shapes.</p>\n<pre><code>\n\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.Rectangle;\nimport java.awt.geom.Line2D;\nimport java.awt.Polygon;\nimport java.awt.Color;\nimport java.awt.BasicStroke;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\n\npublic class ShapeComponent extends JComponent\n{  \n    public ShapeComponent(){\n        JFrame jf = new JFrame();\n        jf.setTitle(&quot;Greeting Card&quot;);\n        jf.setSize(480, 600);\n        jf.setVisible(true);\n        jf.setDefaultCloseOperation (JFrame.EXIT_ON_CLOSE);\n\n    }\n    public void paintComponent(Graphics2D g2){\n        super.paintComponent(g2);\n        Sun sun = new Sun(5,65,55,66);\n        sun.draw(g2);\n    }\n   public static void main(String[] args)\n   {\n\n        new ShapeComponent();\n\n    }\n}\n\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":4,"creation_date":1529875335,"post_id":51014060,"comment_id":89020841,"body_markdown":"Unfortunately, that&#39;s not how imperative programming works","body":"Unfortunately, that&#39;s not how imperative programming works"},{"owner":{"account_id":9701034,"reputation":518,"user_id":7195986,"display_name":"Peter1982"},"score":0,"creation_date":1529875691,"post_id":51014060,"comment_id":89020933,"body_markdown":"maybe Observable is what you looking for https://docs.oracle.com/javase/7/docs/api/java/util/Observable.html","body":"maybe Observable is what you looking for <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Observable.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/Observable.html</a>"}],"answers":[{"comments":[{"owner":{"account_id":13787981,"reputation":1346,"user_id":9951331,"display_name":"Serge Breusov"},"score":1,"creation_date":1529884452,"post_id":51014091,"comment_id":89022434,"body_markdown":"Don&#39;t know who and why downvoted (may be looked for reflection?!). But I upvoted your answer as most useful and complete. So, now you have zero))))","body":"Don&#39;t know who and why downvoted (may be looked for reflection?!). But I upvoted your answer as most useful and complete. So, now you have zero))))"}],"tags":[],"owner":{"account_id":7123240,"reputation":4693,"user_id":5447084,"accept_rate":67,"display_name":"Haytam"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1529875560,"creation_date":1529875560,"answer_id":51014091,"question_id":51014060,"body_markdown":"Unfortunately, there is no direct way to do this. But an acceptable solution would be to use a setter:\r\n\r\n    private int a = 1;\r\n    \r\n    public void setA(int a) {\r\n        this.a = a;\r\n        update();\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        Main m = new Main();\r\n        m.setA(2);\r\n    }","title":"How to call a function every time a variable is changed?","body":"<p>Unfortunately, there is no direct way to do this. But an acceptable solution would be to use a setter:</p>\n\n<pre><code>private int a = 1;\n\npublic void setA(int a) {\n    this.a = a;\n    update();\n}\n\npublic static void main(String[] args) {\n    Main m = new Main();\n    m.setA(2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1529875693,"creation_date":1529875693,"answer_id":51014110,"question_id":51014060,"body_markdown":"Other than just calling update yourself after setting the variable, you could wrap that up in a function call and ensure that all `a =` usages use `setA` instead \r\n\r\nOtherwise, there is no &quot;notification system&quot; for reassignment of a variable \r\n\r\n    private static void setA(int a) { \r\n        Main.a = a;\r\n        update();\r\n    } \r\n\r\n    public static void main(String[] args){\r\n        setA(2);\r\n    }\r\n\r\nOutside of this simple example, what you&#39;re looking for is called the Observer design pattern ","title":"How to call a function every time a variable is changed?","body":"<p>Other than just calling update yourself after setting the variable, you could wrap that up in a function call and ensure that all <code>a =</code> usages use <code>setA</code> instead </p>\n\n<p>Otherwise, there is no \"notification system\" for reassignment of a variable </p>\n\n<pre><code>private static void setA(int a) { \n    Main.a = a;\n    update();\n} \n\npublic static void main(String[] args){\n    setA(2);\n}\n</code></pre>\n\n<p>Outside of this simple example, what you're looking for is called the Observer design pattern </p>\n"},{"comments":[{"owner":{"account_id":13787981,"reputation":1346,"user_id":9951331,"display_name":"Serge Breusov"},"score":0,"creation_date":1529884306,"post_id":51014473,"comment_id":89022413,"body_markdown":"At the begining I thought that you approach uses reflection and other cool shenanigans... But at the end - you code is identical to @Haytam answer, but with massive boilerplate.","body":"At the begining I thought that you approach uses reflection and other cool shenanigans... But at the end - you code is identical to @Haytam answer, but with massive boilerplate."},{"owner":{"account_id":13343141,"reputation":515,"user_id":9630748,"display_name":"Arnault Le Pr&#233;vost-Corvellec"},"score":0,"creation_date":1529894941,"post_id":51014473,"comment_id":89024005,"body_markdown":"Functionnaly its the same Things the only differences is that any one can listen to this class and you can easily add other field to your class and handle this with a custom way","body":"Functionnaly its the same Things the only differences is that any one can listen to this class and you can easily add other field to your class and handle this with a custom way"},{"owner":{"account_id":13343141,"reputation":515,"user_id":9630748,"display_name":"Arnault Le Pr&#233;vost-Corvellec"},"score":0,"creation_date":1529895127,"post_id":51014473,"comment_id":89024049,"body_markdown":"You can  listen to field by only one my way : java agent and jvm instrumentation this is very complicated way and this will slow  down hardly your execution , reflection can t give you that ; reflection is way to analyze or modify class not an object ...","body":"You can  listen to field by only one my way : java agent and jvm instrumentation this is very complicated way and this will slow  down hardly your execution , reflection can t give you that ; reflection is way to analyze or modify class not an object ..."}],"tags":[],"owner":{"account_id":13343141,"reputation":515,"user_id":9630748,"display_name":"Arnault Le Pr&#233;vost-Corvellec"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529879328,"creation_date":1529879328,"answer_id":51014473,"question_id":51014060,"body_markdown":"the most flexible way is to use PropertyChangeSupport and writing some thing like this :\r\n\r\n\r\n    import java.beans.PropertyChangeSupport;\r\n    \r\n    public class MyClass {\r\n    \tprivate PropertyChangeSupport pptChangeSupport;\r\n    \r\n    \tprivate int field1;\r\n    \tprivate int field2;\r\n    \tprivate int field3;\r\n    \r\n    \tpublic int getField1() {\r\n    \t\treturn field1;\r\n    \t}\r\n    \r\n    \tpublic void setField1(int field1) {\r\n    \t\tint oldValue = this.field1;\r\n    \t\tthis.field1 = field1;\r\n    \t\tfireChange(&quot;field1&quot;, oldValue, field1);\r\n    \t}\r\n    \r\n    \tpublic int getField2() {\r\n    \t\treturn field2;\r\n    \t}\r\n    \r\n    \tpublic void setField2(int field2) {\r\n    \t\tint oldValue = this.field2;\r\n    \t\tthis.field2 = field2;\r\n    \t\tfireChange(&quot;field2&quot;, oldValue, field2);\r\n    \t}\r\n    \r\n    \tpublic int getField3() {\r\n    \t\treturn field3;\r\n    \t}\r\n    \r\n    \tpublic void setField3(int field3) {\r\n    \t\tint oldValue = this.field3;\r\n    \t\tthis.field3 = field3;\r\n    \t\tfireChange(&quot;field3&quot;, oldValue, field3);\r\n    \t}\r\n    \r\n    \tpublic MyClass() {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tprivate void fireChange(String pptName, int oldValue, int newValue) {\r\n    \t\tif (pptChangeSupport != null) {\r\n    \t\t\tgetPropertyChangeSupport().firePropertyChange(pptName, oldValue, newValue);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate PropertyChangeSupport getPropertyChangeSupport() {\r\n    \t\treturn pptChangeSupport == null ? pptChangeSupport = new PropertyChangeSupport(this) : pptChangeSupport;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tMyClass object = new MyClass();\r\n    \t\tPropertyChangeSupport pptchangesupport = object.getPropertyChangeSupport();\r\n    \t\tpptchangesupport.addPropertyChangeListener(e -&gt; System.out\r\n    \t\t\t\t.println(&quot;property &quot; + e.getPropertyName() + &quot; changed : &quot; + e.getOldValue() + &quot; -&gt; &quot; + e.getNewValue()));\r\n    \t\tobject.setField1((int) (Math.random()*Integer.MAX_VALUE));\r\n    \t\tobject.setField3((int) (Math.random()*Integer.MAX_VALUE));\r\n    \t\tobject.setField2((int) (Math.random()*Integer.MAX_VALUE));\r\n    \t\tobject.setField1((int) (Math.random()*Integer.MAX_VALUE));\r\n    \t\tobject.setField2((int) (Math.random()*Integer.MAX_VALUE));\r\n    \t\tobject.setField3((int) (Math.random()*Integer.MAX_VALUE));\r\n    \t\tobject.setField2((int) (Math.random()*Integer.MAX_VALUE));\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    }","title":"How to call a function every time a variable is changed?","body":"<p>the most flexible way is to use PropertyChangeSupport and writing some thing like this :</p>\n\n<pre><code>import java.beans.PropertyChangeSupport;\n\npublic class MyClass {\n    private PropertyChangeSupport pptChangeSupport;\n\n    private int field1;\n    private int field2;\n    private int field3;\n\n    public int getField1() {\n        return field1;\n    }\n\n    public void setField1(int field1) {\n        int oldValue = this.field1;\n        this.field1 = field1;\n        fireChange(\"field1\", oldValue, field1);\n    }\n\n    public int getField2() {\n        return field2;\n    }\n\n    public void setField2(int field2) {\n        int oldValue = this.field2;\n        this.field2 = field2;\n        fireChange(\"field2\", oldValue, field2);\n    }\n\n    public int getField3() {\n        return field3;\n    }\n\n    public void setField3(int field3) {\n        int oldValue = this.field3;\n        this.field3 = field3;\n        fireChange(\"field3\", oldValue, field3);\n    }\n\n    public MyClass() {\n        // TODO Auto-generated constructor stub\n    }\n\n    private void fireChange(String pptName, int oldValue, int newValue) {\n        if (pptChangeSupport != null) {\n            getPropertyChangeSupport().firePropertyChange(pptName, oldValue, newValue);\n        }\n    }\n\n    private PropertyChangeSupport getPropertyChangeSupport() {\n        return pptChangeSupport == null ? pptChangeSupport = new PropertyChangeSupport(this) : pptChangeSupport;\n    }\n\n    public static void main(String[] args) {\n        MyClass object = new MyClass();\n        PropertyChangeSupport pptchangesupport = object.getPropertyChangeSupport();\n        pptchangesupport.addPropertyChangeListener(e -&gt; System.out\n                .println(\"property \" + e.getPropertyName() + \" changed : \" + e.getOldValue() + \" -&gt; \" + e.getNewValue()));\n        object.setField1((int) (Math.random()*Integer.MAX_VALUE));\n        object.setField3((int) (Math.random()*Integer.MAX_VALUE));\n        object.setField2((int) (Math.random()*Integer.MAX_VALUE));\n        object.setField1((int) (Math.random()*Integer.MAX_VALUE));\n        object.setField2((int) (Math.random()*Integer.MAX_VALUE));\n        object.setField3((int) (Math.random()*Integer.MAX_VALUE));\n        object.setField2((int) (Math.random()*Integer.MAX_VALUE));\n    }\n\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":12811914,"reputation":207,"user_id":9524727,"display_name":"Schilive"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":51014091,"answer_count":3,"score":-2,"last_activity_date":1669523698,"creation_date":1529875249,"question_id":51014060,"body_markdown":"I am looking for a way to make a function (e.g. update function) be called every time a certain variable is somehow changed. Either by me or otherwise, as in calls to unknown functions.\r\n\r\nIs this possible? If so, how can I do it?","title":"How to call a function every time a variable is changed?","body":"<p>I am looking for a way to make a function (e.g. update function) be called every time a certain variable is somehow changed. Either by me or otherwise, as in calls to unknown functions.</p>\n<p>Is this possible? If so, how can I do it?</p>\n"},{"tags":["java","android","swiperefreshlayout"],"answers":[{"comments":[{"owner":{"account_id":23723189,"reputation":23,"user_id":20200526,"display_name":"Ian Nemo"},"score":0,"creation_date":1669492678,"post_id":74583596,"comment_id":131654426,"body_markdown":"runOnUiThread does not have a method called start(), I think this is exclusive to threads.\nAm I missing something here?","body":"runOnUiThread does not have a method called start(), I think this is exclusive to threads. Am I missing something here?"},{"owner":{"account_id":1308874,"reputation":66,"user_id":1257303,"display_name":"lawrence"},"score":0,"creation_date":1669522681,"post_id":74583596,"comment_id":131658304,"body_markdown":"@IanNemo yes ,the start() is a method of threads, already edit the answer.","body":"@IanNemo yes ,the start() is a method of threads, already edit the answer."},{"owner":{"account_id":23723189,"reputation":23,"user_id":20200526,"display_name":"Ian Nemo"},"score":0,"creation_date":1669585539,"post_id":74583596,"comment_id":131669509,"body_markdown":"This does not seem to work. The animation is still frozen untill it completes all the tasks.","body":"This does not seem to work. The animation is still frozen untill it completes all the tasks."}],"tags":[],"owner":{"account_id":1308874,"reputation":66,"user_id":1257303,"display_name":"lawrence"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669522627,"creation_date":1669478004,"answer_id":74583596,"question_id":74582709,"body_markdown":"It&#39;s right to do refreshing on background thread,and `setRefreshing(false)` on main thread. The problem is you forgot to call start() after new thread.\r\n```\r\nmyRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n        @Override\r\n        public void onRefresh() {\r\n            new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    // Do some stuff\r\n                    // Sleep as a demonstrator of the issue\r\n                    try {\r\n                        Thread.sleep(2000);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            myRefreshLayout.setRefreshing(false);\r\n                        }\r\n                    });\r\n                }\r\n            }).start();// start the thread here\r\n        }\r\n    });\r\n}\r\n\r\n```","title":"SwipeRefreshLayout animation frozen","body":"<p>It's right to do refreshing on background thread,and <code>setRefreshing(false)</code> on main thread. The problem is you forgot to call start() after new thread.</p>\n<pre><code>myRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n        @Override\n        public void onRefresh() {\n            new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    // Do some stuff\n                    // Sleep as a demonstrator of the issue\n                    try {\n                        Thread.sleep(2000);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                    runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            myRefreshLayout.setRefreshing(false);\n                        }\n                    });\n                }\n            }).start();// start the thread here\n        }\n    });\n}\n\n</code></pre>\n"}],"owner":{"account_id":23723189,"reputation":23,"user_id":20200526,"display_name":"Ian Nemo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669522627,"creation_date":1669470297,"question_id":74582709,"body_markdown":"I am trying to use swipe refresh layout to update some data.\r\nAll works fine but a small bug that I can&#39;t seem to solve\r\n\r\nWhen I pull to refresh, the animation gets frozen.\r\n\r\nI have implemented it this way:\r\n\r\n```\r\nmyRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n    @Override\r\n    public void onRefresh() {\r\n        // Do some stuff\r\n        // Sleep as a demonstrator of the issue\r\n        try {\r\n            Thread.sleep(2000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        myRefreshLayout.setRefreshing(false);\r\n    }\r\n});\r\n```\r\nand also tried this:\r\n\r\n```\r\nmyRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n    @Override\r\n    public void onRefresh() {\r\n        myRefreshLayout.post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                // Do some stuff\r\n                // Sleep as a demonstrator of the issue\r\n                try {\r\n                    Thread.sleep(2000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        myRefreshLayout.setRefreshing(false);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n});\r\n```\r\n\r\nbut the animation remains frozen until the everything is done, and then it just vanishes (because it hits the setRefreshing(false))\r\n\r\nAfter searching a little, I thought it could be the UI that is waiting for the stuff to finish, so I tried to implement it this way:\r\n\r\n```\r\nmyRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n        @Override\r\n        public void onRefresh() {\r\n            new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    // Do some stuff\r\n                    // Sleep as a demonstrator of the issue\r\n                    try {\r\n                        Thread.sleep(2000);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            myRefreshLayout.setRefreshing(false);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\n```\r\nWhat happens in this case is that the refresh indicator never vanishes, so I guess it is not calling the runOnUiThread\r\nI tried the same thing with the main looper (handler) instead of the runOnUiThread with the same effect.\r\n\r\nIs there any neat way of implementing this?\r\nAm I missing some detail?\r\n\r\n\r\n\r\n\r\n\r\n\r\nI tried the steps described above and I also looked on Stack Overflow for similar issues to no avail.\r\n\r\nThanks!","title":"SwipeRefreshLayout animation frozen","body":"<p>I am trying to use swipe refresh layout to update some data.\nAll works fine but a small bug that I can't seem to solve</p>\n<p>When I pull to refresh, the animation gets frozen.</p>\n<p>I have implemented it this way:</p>\n<pre><code>myRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n    @Override\n    public void onRefresh() {\n        // Do some stuff\n        // Sleep as a demonstrator of the issue\n        try {\n            Thread.sleep(2000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        myRefreshLayout.setRefreshing(false);\n    }\n});\n</code></pre>\n<p>and also tried this:</p>\n<pre><code>myRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n    @Override\n    public void onRefresh() {\n        myRefreshLayout.post(new Runnable() {\n            @Override\n            public void run() {\n                // Do some stuff\n                // Sleep as a demonstrator of the issue\n                try {\n                    Thread.sleep(2000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        myRefreshLayout.setRefreshing(false);\n                    }\n                });\n            }\n        });\n    }\n});\n</code></pre>\n<p>but the animation remains frozen until the everything is done, and then it just vanishes (because it hits the setRefreshing(false))</p>\n<p>After searching a little, I thought it could be the UI that is waiting for the stuff to finish, so I tried to implement it this way:</p>\n<pre><code>myRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n        @Override\n        public void onRefresh() {\n            new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    // Do some stuff\n                    // Sleep as a demonstrator of the issue\n                    try {\n                        Thread.sleep(2000);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                    runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            myRefreshLayout.setRefreshing(false);\n                        }\n                    });\n                }\n            });\n        }\n    });\n}\n</code></pre>\n<p>What happens in this case is that the refresh indicator never vanishes, so I guess it is not calling the runOnUiThread\nI tried the same thing with the main looper (handler) instead of the runOnUiThread with the same effect.</p>\n<p>Is there any neat way of implementing this?\nAm I missing some detail?</p>\n<p>I tried the steps described above and I also looked on Stack Overflow for similar issues to no avail.</p>\n<p>Thanks!</p>\n"},{"tags":["java","json","parsing"],"comments":[{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":2,"creation_date":1344470482,"post_id":11874919,"comment_id":15799748,"body_markdown":"`android.jar` only contains stubs to compile against. To run, you need the full library.","body":"<code>android.jar</code> only contains stubs to compile against. To run, you need the full library."},{"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"score":0,"creation_date":1344470773,"post_id":11874919,"comment_id":15799799,"body_markdown":"Yes I imported `android.jar` in my project.. Can you point me from where I can download the full library?","body":"Yes I imported <code>android.jar</code> in my project.. Can you point me from where I can download the full library?"}],"answers":[{"tags":[],"owner":{"account_id":323460,"reputation":2036,"user_id":643483,"display_name":"Aaron Kurtzhals"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1344470518,"creation_date":1344470518,"answer_id":11874971,"question_id":11874919,"body_markdown":"Looks like for both of your objects (inside the array), you have an extra closing brace after &quot;Longitude&quot;.","title":"Parsing JSON string in Java","body":"<p>Looks like for both of your objects (inside the array), you have an extra closing brace after \"Longitude\".</p>\n"},{"comments":[{"owner":{"account_id":1647078,"reputation":615,"user_id":1518429,"display_name":"Prog Mania"},"score":0,"creation_date":1344470800,"post_id":11874995,"comment_id":15799804,"body_markdown":"@Nevzz03 you may use [link](http://flexjson.sourceforge.net/)flexjson java lib to create you json object instead.","body":"@Nevzz03 you may use <a href=\"http://flexjson.sourceforge.net/\" rel=\"nofollow noreferrer\">link</a>flexjson java lib to create you json object instead."}],"tags":[],"owner":{"account_id":1647078,"reputation":615,"user_id":1518429,"display_name":"Prog Mania"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476257056,"creation_date":1344470696,"answer_id":11874995,"question_id":11874919,"body_markdown":"you have an extra &quot;**}**&quot; in each object,\r\nyou may write the json string like this:\r\n\r\n    public class ShowActivity {   \r\n        private final static String  jString = &quot;{&quot; \r\n        + &quot;    \\&quot;geodata\\&quot;: [&quot; \r\n        + &quot;        {&quot; \r\n        + &quot;                \\&quot;id\\&quot;: \\&quot;1\\&quot;,&quot; \r\n        + &quot;                \\&quot;name\\&quot;: \\&quot;Julie Sherman\\&quot;,&quot;                  \r\n        + &quot;                \\&quot;gender\\&quot; : \\&quot;female\\&quot;,&quot; \r\n        + &quot;                \\&quot;latitude\\&quot; : \\&quot;37.33774833333334\\&quot;,&quot; \r\n        + &quot;                \\&quot;longitude\\&quot; : \\&quot;-121.88670166666667\\&quot;&quot;            \r\n        + &quot;                }&quot; \r\n        + &quot;        },&quot; \r\n        + &quot;        {&quot; \r\n        + &quot;                \\&quot;id\\&quot;: \\&quot;2\\&quot;,&quot; \r\n        + &quot;                \\&quot;name\\&quot;: \\&quot;Johnny Depp\\&quot;,&quot;          \r\n        + &quot;                \\&quot;gender\\&quot; : \\&quot;male\\&quot;,&quot; \r\n        + &quot;                \\&quot;latitude\\&quot; : \\&quot;37.336453\\&quot;,&quot; \r\n        + &quot;                \\&quot;longitude\\&quot; : \\&quot;-121.884985\\&quot;&quot;            \r\n        + &quot;                }&quot; \r\n        + &quot;        }&quot; \r\n        + &quot;    ]&quot; \r\n        + &quot;}&quot;; \r\n    }","title":"Parsing JSON string in Java","body":"<p>you have an extra \"<strong>}</strong>\" in each object,\nyou may write the json string like this:</p>\n\n<pre><code>public class ShowActivity {   \n    private final static String  jString = \"{\" \n    + \"    \\\"geodata\\\": [\" \n    + \"        {\" \n    + \"                \\\"id\\\": \\\"1\\\",\" \n    + \"                \\\"name\\\": \\\"Julie Sherman\\\",\"                  \n    + \"                \\\"gender\\\" : \\\"female\\\",\" \n    + \"                \\\"latitude\\\" : \\\"37.33774833333334\\\",\" \n    + \"                \\\"longitude\\\" : \\\"-121.88670166666667\\\"\"            \n    + \"                }\" \n    + \"        },\" \n    + \"        {\" \n    + \"                \\\"id\\\": \\\"2\\\",\" \n    + \"                \\\"name\\\": \\\"Johnny Depp\\\",\"          \n    + \"                \\\"gender\\\" : \\\"male\\\",\" \n    + \"                \\\"latitude\\\" : \\\"37.336453\\\",\" \n    + \"                \\\"longitude\\\" : \\\"-121.884985\\\"\"            \n    + \"                }\" \n    + \"        }\" \n    + \"    ]\" \n    + \"}\"; \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"score":0,"creation_date":1344470950,"post_id":11875002,"comment_id":15799835,"body_markdown":"Thanks veer. I opened that link but I couldn&#39;t find the jar file to download. Can you point me to exact location from where I can download it.","body":"Thanks veer. I opened that link but I couldn&#39;t find the jar file to download. Can you point me to exact location from where I can download it."},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":3,"creation_date":1344471034,"post_id":11875002,"comment_id":15799849,"body_markdown":"@Nevzz03 try [here](http://repo1.maven.org/maven2/org/json/json/20090211/json-20090211.jar).","body":"@Nevzz03 try <a href=\"http://repo1.maven.org/maven2/org/json/json/20090211/json-20090211.jar\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"score":0,"creation_date":1344471576,"post_id":11875002,"comment_id":15799964,"body_markdown":"I did as per your suggestion. I downloaded the jar also, imported into our project too. And when I ran my project, I got exception as- `Exception in thread &quot;main&quot; org.json.JSONException: JSONObject[&quot;geodata&quot;] is not a JSONObject.\n\tat org.json.JSONObject.getJSONObject(JSONObject.java:596)\n\tat com.niharika.testing.JsonTest.main(JsonTest.java:31)\n` Any thoughts will be appreciated.","body":"I did as per your suggestion. I downloaded the jar also, imported into our project too. And when I ran my project, I got exception as- <code>Exception in thread &quot;main&quot; org.json.JSONException: JSONObject[&quot;geodata&quot;] is not a JSONObject. \tat org.json.JSONObject.getJSONObject(JSONObject.java:596) \tat com.niharika.testing.JsonTest.main(JsonTest.java:31) </code> Any thoughts will be appreciated."},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":0,"creation_date":1344471726,"post_id":11875002,"comment_id":15799993,"body_markdown":"@Nevzz03 I have posted fully working code now. Let me know how it works out for you.","body":"@Nevzz03 I have posted fully working code now. Let me know how it works out for you."},{"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"score":0,"creation_date":1344472191,"post_id":11875002,"comment_id":15800085,"body_markdown":"Thanks a lot veer. Really appreciate all your help!!","body":"Thanks a lot veer. Really appreciate all your help!!"},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":0,"creation_date":1344472253,"post_id":11875002,"comment_id":15800105,"body_markdown":"@Nevzz03 no problem dude! Glad I could help :-) Note you won&#39;t need the *json.jar* when deploying via Android.","body":"@Nevzz03 no problem dude! Glad I could help :-) Note you won&#39;t need the <i>json.jar</i> when deploying via Android."},{"owner":{"account_id":3595426,"reputation":1163,"user_id":3000316,"accept_rate":33,"display_name":"Monkey Supersonic"},"score":2,"creation_date":1473964733,"post_id":11875002,"comment_id":66352036,"body_markdown":"The link to org.json is dead. However, The example also works with [JSON-Java](https://github.com/stleary/JSON-java). I only had to move the files, according to the referred package, to a newly created folder `org/json/`.","body":"The link to org.json is dead. However, The example also works with <a href=\"https://github.com/stleary/JSON-java\" rel=\"nofollow noreferrer\">JSON-Java</a>. I only had to move the files, according to the referred package, to a newly created folder <code>org&#47;json&#47;</code>."}],"tags":[],"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"comment_count":7,"down_vote_count":1,"up_vote_count":98,"is_accepted":true,"score":97,"last_activity_date":1344471711,"creation_date":1344470813,"answer_id":11875002,"question_id":11874919,"body_markdown":"See my [comment](https://stackoverflow.com/questions/11874919/parsing-json-string-in-java#comment15799748_11874919).\r\nYou need to include the full [org.json library](http://www.json.org/java/index.html) when running as *android.jar* only contains stubs to compile against.\r\n\r\nIn addition, you must remove the two instances of extra `}` in your JSON data following `longitude`.\r\n\r\n       private final static String JSON_DATA =\r\n         &quot;{&quot; \r\n       + &quot;  \\&quot;geodata\\&quot;: [&quot; \r\n       + &quot;    {&quot; \r\n       + &quot;      \\&quot;id\\&quot;: \\&quot;1\\&quot;,&quot; \r\n       + &quot;      \\&quot;name\\&quot;: \\&quot;Julie Sherman\\&quot;,&quot;                  \r\n       + &quot;      \\&quot;gender\\&quot; : \\&quot;female\\&quot;,&quot; \r\n       + &quot;      \\&quot;latitude\\&quot; : \\&quot;37.33774833333334\\&quot;,&quot; \r\n       + &quot;      \\&quot;longitude\\&quot; : \\&quot;-121.88670166666667\\&quot;&quot;\r\n       + &quot;    },&quot; \r\n       + &quot;    {&quot; \r\n       + &quot;      \\&quot;id\\&quot;: \\&quot;2\\&quot;,&quot; \r\n       + &quot;      \\&quot;name\\&quot;: \\&quot;Johnny Depp\\&quot;,&quot;          \r\n       + &quot;      \\&quot;gender\\&quot; : \\&quot;male\\&quot;,&quot; \r\n       + &quot;      \\&quot;latitude\\&quot; : \\&quot;37.336453\\&quot;,&quot; \r\n       + &quot;      \\&quot;longitude\\&quot; : \\&quot;-121.884985\\&quot;&quot;\r\n       + &quot;    }&quot; \r\n       + &quot;  ]&quot; \r\n       + &quot;}&quot;; \r\n\r\nApart from that, `geodata` is in fact not a `JSONObject` but a `JSONArray`.\r\n\r\nHere is the fully working and tested corrected code:\r\n\r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n\r\n    public class ShowActivity {\r\n\r\n\r\n      private final static String JSON_DATA =\r\n         &quot;{&quot; \r\n       + &quot;  \\&quot;geodata\\&quot;: [&quot; \r\n       + &quot;    {&quot; \r\n       + &quot;      \\&quot;id\\&quot;: \\&quot;1\\&quot;,&quot; \r\n       + &quot;      \\&quot;name\\&quot;: \\&quot;Julie Sherman\\&quot;,&quot;                  \r\n       + &quot;      \\&quot;gender\\&quot; : \\&quot;female\\&quot;,&quot; \r\n       + &quot;      \\&quot;latitude\\&quot; : \\&quot;37.33774833333334\\&quot;,&quot; \r\n       + &quot;      \\&quot;longitude\\&quot; : \\&quot;-121.88670166666667\\&quot;&quot;\r\n       + &quot;    },&quot; \r\n       + &quot;    {&quot; \r\n       + &quot;      \\&quot;id\\&quot;: \\&quot;2\\&quot;,&quot; \r\n       + &quot;      \\&quot;name\\&quot;: \\&quot;Johnny Depp\\&quot;,&quot;          \r\n       + &quot;      \\&quot;gender\\&quot; : \\&quot;male\\&quot;,&quot; \r\n       + &quot;      \\&quot;latitude\\&quot; : \\&quot;37.336453\\&quot;,&quot; \r\n       + &quot;      \\&quot;longitude\\&quot; : \\&quot;-121.884985\\&quot;&quot;\r\n       + &quot;    }&quot; \r\n       + &quot;  ]&quot; \r\n       + &quot;}&quot;; \r\n\r\n      public static void main(final String[] argv) throws JSONException {\r\n        final JSONObject obj = new JSONObject(JSON_DATA);\r\n        final JSONArray geodata = obj.getJSONArray(&quot;geodata&quot;);\r\n        final int n = geodata.length();\r\n        for (int i = 0; i &lt; n; ++i) {\r\n          final JSONObject person = geodata.getJSONObject(i);\r\n          System.out.println(person.getInt(&quot;id&quot;));\r\n          System.out.println(person.getString(&quot;name&quot;));\r\n          System.out.println(person.getString(&quot;gender&quot;));\r\n          System.out.println(person.getDouble(&quot;latitude&quot;));\r\n          System.out.println(person.getDouble(&quot;longitude&quot;));\r\n        }\r\n      }\r\n    }\r\nHere&#39;s the output:\r\n\r\n    C:\\dev\\scrap&gt;java -cp json.jar;. ShowActivity\r\n    1\r\n    Julie Sherman\r\n    female\r\n    37.33774833333334\r\n    -121.88670166666667\r\n    2\r\n    Johnny Depp\r\n    male\r\n    37.336453\r\n    -121.884985","title":"Parsing JSON string in Java","body":"<p>See my <a href=\"https://stackoverflow.com/questions/11874919/parsing-json-string-in-java#comment15799748_11874919\">comment</a>.\nYou need to include the full <a href=\"http://www.json.org/java/index.html\" rel=\"noreferrer\">org.json library</a> when running as <em>android.jar</em> only contains stubs to compile against.</p>\n\n<p>In addition, you must remove the two instances of extra <code>}</code> in your JSON data following <code>longitude</code>.</p>\n\n<pre><code>   private final static String JSON_DATA =\n     \"{\" \n   + \"  \\\"geodata\\\": [\" \n   + \"    {\" \n   + \"      \\\"id\\\": \\\"1\\\",\" \n   + \"      \\\"name\\\": \\\"Julie Sherman\\\",\"                  \n   + \"      \\\"gender\\\" : \\\"female\\\",\" \n   + \"      \\\"latitude\\\" : \\\"37.33774833333334\\\",\" \n   + \"      \\\"longitude\\\" : \\\"-121.88670166666667\\\"\"\n   + \"    },\" \n   + \"    {\" \n   + \"      \\\"id\\\": \\\"2\\\",\" \n   + \"      \\\"name\\\": \\\"Johnny Depp\\\",\"          \n   + \"      \\\"gender\\\" : \\\"male\\\",\" \n   + \"      \\\"latitude\\\" : \\\"37.336453\\\",\" \n   + \"      \\\"longitude\\\" : \\\"-121.884985\\\"\"\n   + \"    }\" \n   + \"  ]\" \n   + \"}\"; \n</code></pre>\n\n<p>Apart from that, <code>geodata</code> is in fact not a <code>JSONObject</code> but a <code>JSONArray</code>.</p>\n\n<p>Here is the fully working and tested corrected code:</p>\n\n<pre><code>import org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\npublic class ShowActivity {\n\n\n  private final static String JSON_DATA =\n     \"{\" \n   + \"  \\\"geodata\\\": [\" \n   + \"    {\" \n   + \"      \\\"id\\\": \\\"1\\\",\" \n   + \"      \\\"name\\\": \\\"Julie Sherman\\\",\"                  \n   + \"      \\\"gender\\\" : \\\"female\\\",\" \n   + \"      \\\"latitude\\\" : \\\"37.33774833333334\\\",\" \n   + \"      \\\"longitude\\\" : \\\"-121.88670166666667\\\"\"\n   + \"    },\" \n   + \"    {\" \n   + \"      \\\"id\\\": \\\"2\\\",\" \n   + \"      \\\"name\\\": \\\"Johnny Depp\\\",\"          \n   + \"      \\\"gender\\\" : \\\"male\\\",\" \n   + \"      \\\"latitude\\\" : \\\"37.336453\\\",\" \n   + \"      \\\"longitude\\\" : \\\"-121.884985\\\"\"\n   + \"    }\" \n   + \"  ]\" \n   + \"}\"; \n\n  public static void main(final String[] argv) throws JSONException {\n    final JSONObject obj = new JSONObject(JSON_DATA);\n    final JSONArray geodata = obj.getJSONArray(\"geodata\");\n    final int n = geodata.length();\n    for (int i = 0; i &lt; n; ++i) {\n      final JSONObject person = geodata.getJSONObject(i);\n      System.out.println(person.getInt(\"id\"));\n      System.out.println(person.getString(\"name\"));\n      System.out.println(person.getString(\"gender\"));\n      System.out.println(person.getDouble(\"latitude\"));\n      System.out.println(person.getDouble(\"longitude\"));\n    }\n  }\n}\n</code></pre>\n\n<p>Here's the output:</p>\n\n<pre><code>C:\\dev\\scrap&gt;java -cp json.jar;. ShowActivity\n1\nJulie Sherman\nfemale\n37.33774833333334\n-121.88670166666667\n2\nJohnny Depp\nmale\n37.336453\n-121.884985\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1458820,"reputation":7821,"user_id":1373711,"accept_rate":83,"display_name":"JHS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1344470822,"creation_date":1344470822,"answer_id":11875004,"question_id":11874919,"body_markdown":"Firstly there is an extra `}` after every `array object`.\r\n\r\nSecondly &quot;geodata&quot; is a `JSONArray`. So instead of `JSONObject geoObject = jObject.getJSONObject(&quot;geodata&quot;);` you have to get it as `JSONArray geoObject = jObject.getJSONArray(&quot;geodata&quot;);`\r\n\r\nOnce you have the `JSONArray` you can fetch each entry in the `JSONArray` using `geoObject.get(&lt;index&gt;)`.\r\n\r\nI am using `org.codehaus.jettison.json`.","title":"Parsing JSON string in Java","body":"<p>Firstly there is an extra <code>}</code> after every <code>array object</code>.</p>\n\n<p>Secondly \"geodata\" is a <code>JSONArray</code>. So instead of <code>JSONObject geoObject = jObject.getJSONObject(\"geodata\");</code> you have to get it as <code>JSONArray geoObject = jObject.getJSONArray(\"geodata\");</code></p>\n\n<p>Once you have the <code>JSONArray</code> you can fetch each entry in the <code>JSONArray</code> using <code>geoObject.get(&lt;index&gt;)</code>.</p>\n\n<p>I am using <code>org.codehaus.jettison.json</code>.</p>\n"},{"tags":[],"owner":{"account_id":484789,"reputation":852,"user_id":900684,"accept_rate":17,"display_name":"Hussain KMR Behestee"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1501087714,"creation_date":1501087714,"answer_id":45333026,"question_id":11874919,"body_markdown":"Here is the example of one Object, For your case you have to use JSONArray. \r\n\r\n    public static final String JSON_STRING=&quot;{\\&quot;employee\\&quot;:{\\&quot;name\\&quot;:\\&quot;Sachin\\&quot;,\\&quot;salary\\&quot;:56000}}&quot;;  \r\n    try{  \r\n       JSONObject emp=(new JSONObject(JSON_STRING)).getJSONObject(&quot;employee&quot;);  \r\n       String empname=emp.getString(&quot;name&quot;);  \r\n       int empsalary=emp.getInt(&quot;salary&quot;);  \r\n      \r\n       String str=&quot;Employee Name:&quot;+empname+&quot;\\n&quot;+&quot;Employee Salary:&quot;+empsalary;  \r\n       textView1.setText(str);  \r\n      \r\n    }catch (Exception e) {e.printStackTrace();}  \r\n       //Do when JSON has problem.\r\n    }\r\n\r\nI don&#39;t have time but tried to give an idea. If you still can&#39;t do it, then  I will help.\r\n  ","title":"Parsing JSON string in Java","body":"<p>Here is the example of one Object, For your case you have to use JSONArray. </p>\n\n<pre><code>public static final String JSON_STRING=\"{\\\"employee\\\":{\\\"name\\\":\\\"Sachin\\\",\\\"salary\\\":56000}}\";  \ntry{  \n   JSONObject emp=(new JSONObject(JSON_STRING)).getJSONObject(\"employee\");  \n   String empname=emp.getString(\"name\");  \n   int empsalary=emp.getInt(\"salary\");  \n\n   String str=\"Employee Name:\"+empname+\"\\n\"+\"Employee Salary:\"+empsalary;  \n   textView1.setText(str);  \n\n}catch (Exception e) {e.printStackTrace();}  \n   //Do when JSON has problem.\n}\n</code></pre>\n\n<p>I don't have time but tried to give an idea. If you still can't do it, then  I will help.</p>\n"},{"comments":[{"owner":{"account_id":1476987,"reputation":17785,"user_id":1387157,"accept_rate":94,"display_name":"MaVRoSCy"},"score":0,"creation_date":1668503658,"post_id":51121557,"comment_id":131414977,"body_markdown":"Thats very useful piece of code, thanks for the contribution!","body":"Thats very useful piece of code, thanks for the contribution!"}],"tags":[],"owner":{"account_id":8934088,"reputation":12520,"user_id":6665568,"accept_rate":80,"display_name":"Natesh bhat"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1530433029,"creation_date":1530433029,"answer_id":51121557,"question_id":11874919,"body_markdown":"To convert your **JSON string to hashmap** you can make use of this : \r\n\r\n    HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;(Utility.jsonToMap(response)) ;\r\n\r\n\r\n\r\n\r\n**Use this class :)** (handles even lists , nested lists and json)\r\n\r\n    public class Utility {\r\n    \r\n        public static Map&lt;String, Object&gt; jsonToMap(Object json) throws JSONException {\r\n    \r\n            if(json instanceof JSONObject)\r\n                return _jsonToMap_((JSONObject)json) ;\r\n    \r\n            else if (json instanceof String)\r\n            {\r\n                JSONObject jsonObject = new JSONObject((String)json) ;\r\n                return _jsonToMap_(jsonObject) ;\r\n            }\r\n            return null ;\r\n        }\r\n    \r\n    \r\n       private static Map&lt;String, Object&gt; _jsonToMap_(JSONObject json) throws JSONException {\r\n            Map&lt;String, Object&gt; retMap = new HashMap&lt;String, Object&gt;();\r\n    \r\n            if(json != JSONObject.NULL) {\r\n                retMap = toMap(json);\r\n            }\r\n            return retMap;\r\n        }\r\n    \r\n    \r\n        private static Map&lt;String, Object&gt; toMap(JSONObject object) throws JSONException {\r\n            Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n    \r\n            Iterator&lt;String&gt; keysItr = object.keys();\r\n            while(keysItr.hasNext()) {\r\n                String key = keysItr.next();\r\n                Object value = object.get(key);\r\n    \r\n                if(value instanceof JSONArray) {\r\n                    value = toList((JSONArray) value);\r\n                }\r\n    \r\n                else if(value instanceof JSONObject) {\r\n                    value = toMap((JSONObject) value);\r\n                }\r\n                map.put(key, value);\r\n            }\r\n            return map;\r\n        }\r\n    \r\n    \r\n        public static List&lt;Object&gt; toList(JSONArray array) throws JSONException {\r\n            List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n            for(int i = 0; i &lt; array.length(); i++) {\r\n                Object value = array.get(i);\r\n                if(value instanceof JSONArray) {\r\n                    value = toList((JSONArray) value);\r\n                }\r\n    \r\n                else if(value instanceof JSONObject) {\r\n                    value = toMap((JSONObject) value);\r\n                }\r\n                list.add(value);\r\n            }\r\n            return list;\r\n        }\r\n    }\r\n\r\n---\r\n","title":"Parsing JSON string in Java","body":"<p>To convert your <strong>JSON string to hashmap</strong> you can make use of this : </p>\n\n<pre><code>HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;(Utility.jsonToMap(response)) ;\n</code></pre>\n\n<p><strong>Use this class :)</strong> (handles even lists , nested lists and json)</p>\n\n<pre><code>public class Utility {\n\n    public static Map&lt;String, Object&gt; jsonToMap(Object json) throws JSONException {\n\n        if(json instanceof JSONObject)\n            return _jsonToMap_((JSONObject)json) ;\n\n        else if (json instanceof String)\n        {\n            JSONObject jsonObject = new JSONObject((String)json) ;\n            return _jsonToMap_(jsonObject) ;\n        }\n        return null ;\n    }\n\n\n   private static Map&lt;String, Object&gt; _jsonToMap_(JSONObject json) throws JSONException {\n        Map&lt;String, Object&gt; retMap = new HashMap&lt;String, Object&gt;();\n\n        if(json != JSONObject.NULL) {\n            retMap = toMap(json);\n        }\n        return retMap;\n    }\n\n\n    private static Map&lt;String, Object&gt; toMap(JSONObject object) throws JSONException {\n        Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n\n        Iterator&lt;String&gt; keysItr = object.keys();\n        while(keysItr.hasNext()) {\n            String key = keysItr.next();\n            Object value = object.get(key);\n\n            if(value instanceof JSONArray) {\n                value = toList((JSONArray) value);\n            }\n\n            else if(value instanceof JSONObject) {\n                value = toMap((JSONObject) value);\n            }\n            map.put(key, value);\n        }\n        return map;\n    }\n\n\n    public static List&lt;Object&gt; toList(JSONArray array) throws JSONException {\n        List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\n        for(int i = 0; i &lt; array.length(); i++) {\n            Object value = array.get(i);\n            if(value instanceof JSONArray) {\n                value = toList((JSONArray) value);\n            }\n\n            else if(value instanceof JSONObject) {\n                value = toMap((JSONObject) value);\n            }\n            list.add(value);\n        }\n        return list;\n    }\n}\n</code></pre>\n\n<hr>\n"},{"tags":[],"owner":{"account_id":8767894,"reputation":1528,"user_id":6555698,"display_name":"Odwori"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669522006,"creation_date":1656393608,"answer_id":72781073,"question_id":11874919,"body_markdown":"credit to [this blog][1]\r\nThis answer may help someone whose requirements are different.\r\n\r\nThis is your Json string\r\n\r\n     {\r\n    &quot;pageNumber&quot;:20,\r\n    &quot;pageTitle&quot;:&quot;example page title&quot;,\r\n    &quot;pageInfo&quot;: {\r\n            &quot;pageName&quot;: &quot;Homepage&quot;,\r\n            &quot;logo&quot;: &quot;https://www.example.com/logo.jpg&quot;\r\n    },\r\n    &quot;posts&quot;: [\r\n            {\r\n                &quot;post_id&quot;: &quot;0123456789&quot;,\r\n                &quot;actor_id&quot;: &quot;1001&quot;,\r\n                &quot;author_name&quot;: &quot;Jane Doe&quot;,\r\n                &quot;post_title&quot;: &quot;How to parse JSON in Java&quot;,\r\n                &quot;comments&quot;: [],\r\n                &quot;time_of_post&quot;: &quot;1234567890&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nand this is how to read it \r\n\r\n     import org.json.JSONArray;\r\n     import org.json.JSONObject;\r\n\r\n     public class ParseJSON {\r\n     static String json = &quot;...&quot;;\r\n     public static void main(String[] args) {\r\n\r\n        JSONObject obj = new JSONObject(json);\r\n        String pageTitle = obj.getString(&quot;pageTitle&quot;);\r\n        String pageNumber= obj.getInt(&quot;pageNumber&quot;);\r\n        String pageName =      obj.getJSONObject(&quot;pageInfo&quot;).getString(&quot;pageName&quot;);\r\n\r\n        System.out.println(pageNumber);\r\n        System.out.println(pageTitle );\r\n        System.out.println(pageName);\r\n\r\n        JSONArray arr = obj.getJSONArray(&quot;posts&quot;);\r\n        for (int i = 0; i &lt; arr.length(); i++) {\r\n            String post_id = arr.getJSONObject(i).getString(&quot;post_id&quot;);\r\n            System.out.println(post_id);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://devqa.io/how-to-parse-json-in-java/","title":"Parsing JSON string in Java","body":"<p>credit to <a href=\"https://devqa.io/how-to-parse-json-in-java/\" rel=\"nofollow noreferrer\">this blog</a>\nThis answer may help someone whose requirements are different.</p>\n<p>This is your Json string</p>\n<pre><code> {\n&quot;pageNumber&quot;:20,\n&quot;pageTitle&quot;:&quot;example page title&quot;,\n&quot;pageInfo&quot;: {\n        &quot;pageName&quot;: &quot;Homepage&quot;,\n        &quot;logo&quot;: &quot;https://www.example.com/logo.jpg&quot;\n},\n&quot;posts&quot;: [\n        {\n            &quot;post_id&quot;: &quot;0123456789&quot;,\n            &quot;actor_id&quot;: &quot;1001&quot;,\n            &quot;author_name&quot;: &quot;Jane Doe&quot;,\n            &quot;post_title&quot;: &quot;How to parse JSON in Java&quot;,\n            &quot;comments&quot;: [],\n            &quot;time_of_post&quot;: &quot;1234567890&quot;\n        }\n    ]\n}\n</code></pre>\n<p>and this is how to read it</p>\n<pre><code> import org.json.JSONArray;\n import org.json.JSONObject;\n\n public class ParseJSON {\n static String json = &quot;...&quot;;\n public static void main(String[] args) {\n\n    JSONObject obj = new JSONObject(json);\n    String pageTitle = obj.getString(&quot;pageTitle&quot;);\n    String pageNumber= obj.getInt(&quot;pageNumber&quot;);\n    String pageName =      obj.getJSONObject(&quot;pageInfo&quot;).getString(&quot;pageName&quot;);\n\n    System.out.println(pageNumber);\n    System.out.println(pageTitle );\n    System.out.println(pageName);\n\n    JSONArray arr = obj.getJSONArray(&quot;posts&quot;);\n    for (int i = 0; i &lt; arr.length(); i++) {\n        String post_id = arr.getJSONObject(i).getString(&quot;post_id&quot;);\n        System.out.println(post_id);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481644,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":11875002,"answer_count":7,"score":83,"last_activity_date":1669522006,"creation_date":1344469966,"question_id":11874919,"body_markdown":"I am trying to parse a JSON string in java to have the individual value printed separately. But while making the program run I get the following error-\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Stub!\r\n           at org.json.JSONObject.&lt;init&gt;(JSONObject.java:7)\r\n           at ShowActivity.main(ShowActivity.java:29)\r\n\r\n\r\nMy Class looks like- \r\n\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    public class ShowActivity {\r\n       private final static String  jString = &quot;{&quot; \r\n       + &quot;    \\&quot;geodata\\&quot;: [&quot; \r\n       + &quot;        {&quot; \r\n       + &quot;                \\&quot;id\\&quot;: \\&quot;1\\&quot;,&quot; \r\n       + &quot;                \\&quot;name\\&quot;: \\&quot;Julie Sherman\\&quot;,&quot;                  \r\n       + &quot;                \\&quot;gender\\&quot; : \\&quot;female\\&quot;,&quot; \r\n       + &quot;                \\&quot;latitude\\&quot; : \\&quot;37.33774833333334\\&quot;,&quot; \r\n       + &quot;                \\&quot;longitude\\&quot; : \\&quot;-121.88670166666667\\&quot;&quot;            \r\n       + &quot;                }&quot; \r\n       + &quot;        },&quot; \r\n       + &quot;        {&quot; \r\n       + &quot;                \\&quot;id\\&quot;: \\&quot;2\\&quot;,&quot; \r\n       + &quot;                \\&quot;name\\&quot;: \\&quot;Johnny Depp\\&quot;,&quot;          \r\n       + &quot;                \\&quot;gender\\&quot; : \\&quot;male\\&quot;,&quot; \r\n       + &quot;                \\&quot;latitude\\&quot; : \\&quot;37.336453\\&quot;,&quot; \r\n       + &quot;                \\&quot;longitude\\&quot; : \\&quot;-121.884985\\&quot;&quot;            \r\n       + &quot;                }&quot; \r\n       + &quot;        }&quot; \r\n       + &quot;    ]&quot; \r\n       + &quot;}&quot;; \r\n       private static JSONObject jObject = null;\r\n   \r\n       public static void main(String[] args) throws JSONException {\r\n    \t   jObject = new JSONObject(jString);\r\n           JSONObject geoObject = jObject.getJSONObject(&quot;geodata&quot;);\r\n               \r\n           String geoId = geoObject.getString(&quot;id&quot;);\r\n               System.out.println(geoId);\r\n                   \r\n           String name = geoObject.getString(&quot;name&quot;);\r\n           System.out.println(name);\r\n               \r\n           String gender=geoObject.getString(&quot;gender&quot;);\r\n           System.out.println(gender);\r\n               \r\n           String lat=geoObject.getString(&quot;latitude&quot;);\r\n           System.out.println(lat);\r\n           \r\n           String longit =geoObject.getString(&quot;longitude&quot;);\r\n           System.out.println(longit);                   \r\n       }\r\n    }\r\nLet me know what is it I am missing, or the reason why I do get that error everytime I run the application. Any comments would be appreciated.","title":"Parsing JSON string in Java","body":"<p>I am trying to parse a JSON string in java to have the individual value printed separately. But while making the program run I get the following error-</p>\n\n<pre><code>Exception in thread \"main\" java.lang.RuntimeException: Stub!\n       at org.json.JSONObject.&lt;init&gt;(JSONObject.java:7)\n       at ShowActivity.main(ShowActivity.java:29)\n</code></pre>\n\n<p>My Class looks like- </p>\n\n<pre><code>import org.json.JSONException;\nimport org.json.JSONObject;\n\npublic class ShowActivity {\n   private final static String  jString = \"{\" \n   + \"    \\\"geodata\\\": [\" \n   + \"        {\" \n   + \"                \\\"id\\\": \\\"1\\\",\" \n   + \"                \\\"name\\\": \\\"Julie Sherman\\\",\"                  \n   + \"                \\\"gender\\\" : \\\"female\\\",\" \n   + \"                \\\"latitude\\\" : \\\"37.33774833333334\\\",\" \n   + \"                \\\"longitude\\\" : \\\"-121.88670166666667\\\"\"            \n   + \"                }\" \n   + \"        },\" \n   + \"        {\" \n   + \"                \\\"id\\\": \\\"2\\\",\" \n   + \"                \\\"name\\\": \\\"Johnny Depp\\\",\"          \n   + \"                \\\"gender\\\" : \\\"male\\\",\" \n   + \"                \\\"latitude\\\" : \\\"37.336453\\\",\" \n   + \"                \\\"longitude\\\" : \\\"-121.884985\\\"\"            \n   + \"                }\" \n   + \"        }\" \n   + \"    ]\" \n   + \"}\"; \n   private static JSONObject jObject = null;\n\n   public static void main(String[] args) throws JSONException {\n       jObject = new JSONObject(jString);\n       JSONObject geoObject = jObject.getJSONObject(\"geodata\");\n\n       String geoId = geoObject.getString(\"id\");\n           System.out.println(geoId);\n\n       String name = geoObject.getString(\"name\");\n       System.out.println(name);\n\n       String gender=geoObject.getString(\"gender\");\n       System.out.println(gender);\n\n       String lat=geoObject.getString(\"latitude\");\n       System.out.println(lat);\n\n       String longit =geoObject.getString(\"longitude\");\n       System.out.println(longit);                   \n   }\n}\n</code></pre>\n\n<p>Let me know what is it I am missing, or the reason why I do get that error everytime I run the application. Any comments would be appreciated.</p>\n"},{"tags":["java","json","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":3423003,"reputation":2107,"user_id":2869866,"accept_rate":100,"display_name":"martoncsukas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497100139,"creation_date":1497100139,"answer_id":44473658,"question_id":44473002,"body_markdown":"Add `@JsonManagedReference` on your `@OneToMany` collection, and `@JsonBackReference` on your `@ManyToOne` field. Please see the updated example below.\r\n\r\n**`MAMRequestHeaders` class**\r\n\r\n    @Entity(name=&quot;MAMRequestHeaders&quot;)\r\n    @Table(name = &quot;MAM_REQUEST_HEADERS&quot;, uniqueConstraints = @UniqueConstraint(columnNames = {&quot;REQUEST_TYPE&quot;, &quot;NUM_REQUEST_MREQH&quot;}))\r\n    public class MAMRequestHeaders  implements Serializable {\r\n    \r\n        private long id;\r\n    \r\n        @JsonBackReference\r\n        private Set&lt;MAMRequestLines&gt; mamRequestLinesSet;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;MAM_REQUEST_HEADERS_SEQ&quot;)\r\n        @SequenceGenerator(name = &quot;MAM_REQUEST_HEADERS_SEQ&quot;, sequenceName = &quot;MAM_REQUEST_HEADERS_SEQ&quot;)\r\n        @Column(name = &quot;REQUEST_HEADER_ID&quot;)\r\n        public long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        @OneToMany(mappedBy = &quot;mamRequestHeaders&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        @OnDelete(action = OnDeleteAction.CASCADE)\r\n        public Set&lt;MAMRequestLines&gt; getMamRequestLinesSet() {\r\n            return mamRequestLinesSet;\r\n        }\r\n    \r\n        public void setMamRequestLinesSet(Set&lt;MAMRequestLines&gt; mamRequestLinesSet) {\r\n            this.mamRequestLinesSet = mamRequestLinesSet;\r\n        }\r\n    \r\n    } \r\n\r\n**`MAMRequestLines` class**\r\n\r\n    @Entity(name = &quot;MAMRequestLines&quot;)\r\n    @Table(name = &quot;MAM_REQUEST_LINES&quot;, uniqueConstraints = @UniqueConstraint(columnNames = {&quot;REQUEST_HEADER_ID&quot;, &quot;NUM_LINE_MREQL&quot;}))\r\n    public class MAMRequestLines implements Serializable {\r\n    \r\n        private Long id;\r\n\r\n        @JsonManagedReference\r\n        private MAMRequestHeaders mamRequestHeaders;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;MAM_REQUEST_Line_SEQ&quot;)\r\n        @SequenceGenerator(name = &quot;MAM_REQUEST_Line_SEQ&quot;, sequenceName = &quot;MAM_REQUEST_Line_SEQ&quot;)\r\n        @Column(name = &quot;REQUEST_LINE_ID&quot;)\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;REQUEST_HEADER_ID&quot;, nullable = false)\r\n        public MAMRequestHeaders getMamRequestHeaders() {\r\n            return mamRequestHeaders;\r\n        }\r\n    \r\n        public void setMamRequestHeaders(MAMRequestHeaders mamRequestHeaders) {\r\n            this.mamRequestHeaders = mamRequestHeaders;\r\n        }\r\n    \r\n    }\r\n\r\nBut actually configuring the JSON annotations depends on your desired output. For example you could also put `@JsonIgnore` on the `getMamRequestHeaders()` in your `MAMRequestLines` class.","title":"Put a list of Hibernate objects into a JSON object","body":"<p>Add <code>@JsonManagedReference</code> on your <code>@OneToMany</code> collection, and <code>@JsonBackReference</code> on your <code>@ManyToOne</code> field. Please see the updated example below.</p>\n\n<p><strong><code>MAMRequestHeaders</code> class</strong></p>\n\n<pre><code>@Entity(name=\"MAMRequestHeaders\")\n@Table(name = \"MAM_REQUEST_HEADERS\", uniqueConstraints = @UniqueConstraint(columnNames = {\"REQUEST_TYPE\", \"NUM_REQUEST_MREQH\"}))\npublic class MAMRequestHeaders  implements Serializable {\n\n    private long id;\n\n    @JsonBackReference\n    private Set&lt;MAMRequestLines&gt; mamRequestLinesSet;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"MAM_REQUEST_HEADERS_SEQ\")\n    @SequenceGenerator(name = \"MAM_REQUEST_HEADERS_SEQ\", sequenceName = \"MAM_REQUEST_HEADERS_SEQ\")\n    @Column(name = \"REQUEST_HEADER_ID\")\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    @OneToMany(mappedBy = \"mamRequestHeaders\", fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    public Set&lt;MAMRequestLines&gt; getMamRequestLinesSet() {\n        return mamRequestLinesSet;\n    }\n\n    public void setMamRequestLinesSet(Set&lt;MAMRequestLines&gt; mamRequestLinesSet) {\n        this.mamRequestLinesSet = mamRequestLinesSet;\n    }\n\n} \n</code></pre>\n\n<p><strong><code>MAMRequestLines</code> class</strong></p>\n\n<pre><code>@Entity(name = \"MAMRequestLines\")\n@Table(name = \"MAM_REQUEST_LINES\", uniqueConstraints = @UniqueConstraint(columnNames = {\"REQUEST_HEADER_ID\", \"NUM_LINE_MREQL\"}))\npublic class MAMRequestLines implements Serializable {\n\n    private Long id;\n\n    @JsonManagedReference\n    private MAMRequestHeaders mamRequestHeaders;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"MAM_REQUEST_Line_SEQ\")\n    @SequenceGenerator(name = \"MAM_REQUEST_Line_SEQ\", sequenceName = \"MAM_REQUEST_Line_SEQ\")\n    @Column(name = \"REQUEST_LINE_ID\")\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = \"REQUEST_HEADER_ID\", nullable = false)\n    public MAMRequestHeaders getMamRequestHeaders() {\n        return mamRequestHeaders;\n    }\n\n    public void setMamRequestHeaders(MAMRequestHeaders mamRequestHeaders) {\n        this.mamRequestHeaders = mamRequestHeaders;\n    }\n\n}\n</code></pre>\n\n<p>But actually configuring the JSON annotations depends on your desired output. For example you could also put <code>@JsonIgnore</code> on the <code>getMamRequestHeaders()</code> in your <code>MAMRequestLines</code> class.</p>\n"}],"owner":{"account_id":4188924,"reputation":575,"user_id":3431964,"accept_rate":62,"display_name":"faraa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":785,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669521839,"creation_date":1497095503,"question_id":44473002,"body_markdown":"I want to add a list of Hibernate objects into a JSON object but I get `StackOverflowError`. \r\n\r\nI also tried `@JsonBackReference(&quot;mamRequestHeaders.mamRequestLinesSet&quot;)` in `MAMRequestLine.java` and  `@JsonManagedReference(&quot;mamRequestHeaders.mamRequestLinesSet&quot;)` in `MAMRequestHeader.java` but the problem was not resolved.\r\n \r\n\r\n&gt;   java.lang.StackOverflowError \tat\r\n&gt; java.lang.reflect.InvocationTargetException.&lt;init&gt;(InvocationTargetException.java:72)\r\n&gt; \tat sun.reflect.GeneratedMethodAccessor494.invoke(Unknown Source) \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n&gt; org.json.JSONObject.populateMap(JSONObject.java:988) \tat\r\n&gt; org.json.JSONObject.&lt;init&gt;(JSONObject.java:272) \tat\r\n&gt; org.json.JSONObject.wrap(JSONObject.java:1587) \tat\r\n&gt; org.json.JSONArray.&lt;init&gt;(JSONArray.java:158) \tat\r\n&gt; org.json.JSONObject.wrap(JSONObject.java:1569) \tat\r\n&gt; org.json.JSONObject.populateMap(JSONObject.java:990) \tat\r\n&gt; org.json.JSONObject.&lt;init&gt;(JSONObject.java:272) \tat\r\n&gt; org.json.JSONObject.wrap(JSONObject.java:1587) \tat\r\n&gt; org.json.JSONObject.populateMap(JSONObject.java:990)\r\n\r\n **`MAMRequestHeaders` class**\r\n\r\n    @Entity(name=&quot;MAMRequestHeaders&quot;)\r\n    @Table(name = &quot;MAM_REQUEST_HEADERS&quot;, uniqueConstraints = @UniqueConstraint(columnNames = {&quot;REQUEST_TYPE&quot;, &quot;NUM_REQUEST_MREQH&quot;}))\r\n    public class MAMRequestHeaders  implements Serializable {\r\n    \r\n    \tprivate long id ;\r\n    \tprivate Set&lt;MAMRequestLines&gt; mamRequestLinesSet;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;MAM_REQUEST_HEADERS_SEQ&quot;)\r\n    \t@SequenceGenerator(name = &quot;MAM_REQUEST_HEADERS_SEQ&quot;, sequenceName = &quot;MAM_REQUEST_HEADERS_SEQ&quot;)\r\n    \t@Column(name = &quot;REQUEST_HEADER_ID&quot;)\r\n    \tpublic long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \t@OneToMany(mappedBy = &quot;mamRequestHeaders&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    \t@OnDelete(action = OnDeleteAction.CASCADE)\r\n    \tpublic Set&lt;MAMRequestLines&gt; getMamRequestLinesSet() {\r\n    \t\treturn mamRequestLinesSet;\r\n    \t}\r\n    \r\n    \tpublic void setMamRequestLinesSet(Set&lt;MAMRequestLines&gt; mamRequestLinesSet) {\r\n    \t\tthis.mamRequestLinesSet = mamRequestLinesSet;\r\n    \t}\r\n    \t\r\n    } \r\n\r\n**`MAMRequestLines` class**\r\n\r\n    @Entity(name = &quot;MAMRequestLines&quot;)\r\n    @Table(name = &quot;MAM_REQUEST_LINES&quot;, uniqueConstraints = @UniqueConstraint(columnNames = {&quot;REQUEST_HEADER_ID&quot;, &quot;NUM_LINE_MREQL&quot;}))\r\n    public class MAMRequestLines implements Serializable {\r\n    \r\n    \tprivate Long id;\r\n    \t@JsonIgnore\r\n    \tprivate MAMRequestHeaders mamRequestHeaders;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;MAM_REQUEST_Line_SEQ&quot;)\r\n    \t@SequenceGenerator(name = &quot;MAM_REQUEST_Line_SEQ&quot;, sequenceName = &quot;MAM_REQUEST_Line_SEQ&quot;)\r\n    \t@Column(name = &quot;REQUEST_LINE_ID&quot;)\r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \t@ManyToOne(fetch = FetchType.EAGER)\r\n    \t@JoinColumn(name = &quot;REQUEST_HEADER_ID&quot;, nullable = false)\r\n    \tpublic MAMRequestHeaders getMamRequestHeaders() {\r\n    \t\treturn mamRequestHeaders;\r\n    \t}\r\n    \r\n    \tpublic void setMamRequestHeaders(MAMRequestHeaders mamRequestHeaders) {\r\n    \t\tthis.mamRequestHeaders = mamRequestHeaders;\r\n    \t}\r\n    \r\n    }\r\n\r\n**Creating result**\r\n\r\n    List&lt;MAMRequestHeaders&gt; mamRequestHeadersList =  manager.createQuery(queryStr, MAMRequestHeaders.class)\r\n    JSONObject result = new JSONObject();\r\n    result.put(&quot;resultList&quot;, mamRequestHeadersList);\r\n\r\n\r\n","title":"Put a list of Hibernate objects into a JSON object","body":"<p>I want to add a list of Hibernate objects into a JSON object but I get <code>StackOverflowError</code>. </p>\n\n<p>I also tried <code>@JsonBackReference(\"mamRequestHeaders.mamRequestLinesSet\")</code> in <code>MAMRequestLine.java</code> and  <code>@JsonManagedReference(\"mamRequestHeaders.mamRequestLinesSet\")</code> in <code>MAMRequestHeader.java</code> but the problem was not resolved.</p>\n\n<blockquote>\n  <p>java.lang.StackOverflowError    at\n  java.lang.reflect.InvocationTargetException.(InvocationTargetException.java:72)\n    at sun.reflect.GeneratedMethodAccessor494.invoke(Unknown Source)    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)     at\n  org.json.JSONObject.populateMap(JSONObject.java:988)  at\n  org.json.JSONObject.(JSONObject.java:272)   at\n  org.json.JSONObject.wrap(JSONObject.java:1587)    at\n  org.json.JSONArray.(JSONArray.java:158)     at\n  org.json.JSONObject.wrap(JSONObject.java:1569)    at\n  org.json.JSONObject.populateMap(JSONObject.java:990)  at\n  org.json.JSONObject.(JSONObject.java:272)   at\n  org.json.JSONObject.wrap(JSONObject.java:1587)    at\n  org.json.JSONObject.populateMap(JSONObject.java:990)</p>\n</blockquote>\n\n<p><strong><code>MAMRequestHeaders</code> class</strong></p>\n\n<pre><code>@Entity(name=\"MAMRequestHeaders\")\n@Table(name = \"MAM_REQUEST_HEADERS\", uniqueConstraints = @UniqueConstraint(columnNames = {\"REQUEST_TYPE\", \"NUM_REQUEST_MREQH\"}))\npublic class MAMRequestHeaders  implements Serializable {\n\n    private long id ;\n    private Set&lt;MAMRequestLines&gt; mamRequestLinesSet;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"MAM_REQUEST_HEADERS_SEQ\")\n    @SequenceGenerator(name = \"MAM_REQUEST_HEADERS_SEQ\", sequenceName = \"MAM_REQUEST_HEADERS_SEQ\")\n    @Column(name = \"REQUEST_HEADER_ID\")\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    @OneToMany(mappedBy = \"mamRequestHeaders\", fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    public Set&lt;MAMRequestLines&gt; getMamRequestLinesSet() {\n        return mamRequestLinesSet;\n    }\n\n    public void setMamRequestLinesSet(Set&lt;MAMRequestLines&gt; mamRequestLinesSet) {\n        this.mamRequestLinesSet = mamRequestLinesSet;\n    }\n\n} \n</code></pre>\n\n<p><strong><code>MAMRequestLines</code> class</strong></p>\n\n<pre><code>@Entity(name = \"MAMRequestLines\")\n@Table(name = \"MAM_REQUEST_LINES\", uniqueConstraints = @UniqueConstraint(columnNames = {\"REQUEST_HEADER_ID\", \"NUM_LINE_MREQL\"}))\npublic class MAMRequestLines implements Serializable {\n\n    private Long id;\n    @JsonIgnore\n    private MAMRequestHeaders mamRequestHeaders;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"MAM_REQUEST_Line_SEQ\")\n    @SequenceGenerator(name = \"MAM_REQUEST_Line_SEQ\", sequenceName = \"MAM_REQUEST_Line_SEQ\")\n    @Column(name = \"REQUEST_LINE_ID\")\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = \"REQUEST_HEADER_ID\", nullable = false)\n    public MAMRequestHeaders getMamRequestHeaders() {\n        return mamRequestHeaders;\n    }\n\n    public void setMamRequestHeaders(MAMRequestHeaders mamRequestHeaders) {\n        this.mamRequestHeaders = mamRequestHeaders;\n    }\n\n}\n</code></pre>\n\n<p><strong>Creating result</strong></p>\n\n<pre><code>List&lt;MAMRequestHeaders&gt; mamRequestHeadersList =  manager.createQuery(queryStr, MAMRequestHeaders.class)\nJSONObject result = new JSONObject();\nresult.put(\"resultList\", mamRequestHeadersList);\n</code></pre>\n"},{"tags":["java","android","android-studio","tensorflow","tflite"],"comments":[{"owner":{"display_name":"user11530462"},"score":1,"creation_date":1671177321,"post_id":74587363,"comment_id":132046961,"body_markdown":"Hi Annisa! Please upgrade the Android plugin once as It is popping up in right bottom corner to see whether the issues are getting resolved or not.","body":"Hi Annisa! Please upgrade the Android plugin once as It is popping up in right bottom corner to see whether the issues are getting resolved or not."},{"owner":{"display_name":"user11530462"},"score":0,"creation_date":1673409765,"post_id":74587363,"comment_id":132490346,"body_markdown":"Path to load the TFLite model - New -&gt; Other -&gt; Tensor flow Lite Model . Please make sure you are using latest android studio version . Ref [1](https://stackoverflow.com/a/66497749/11530462), [2](https://github.com/tensorflow/tensorflow/issues/45373#issuecomment-973723865) .","body":"Path to load the TFLite model - New -&gt; Other -&gt; Tensor flow Lite Model . Please make sure you are using latest android studio version . Ref <a href=\"https://stackoverflow.com/a/66497749/11530462\">1</a>, <a href=\"https://github.com/tensorflow/tensorflow/issues/45373#issuecomment-973723865\" rel=\"nofollow noreferrer\">2</a> ."}],"owner":{"account_id":23618689,"reputation":83,"user_id":17652342,"display_name":"Annisa Lianda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669521026,"creation_date":1669521026,"question_id":74587363,"body_markdown":"I have a problem where I can&#39;t import a new Tflite model to android studio. the Tensorflow Model TFLite feature seems to be disabled. The message says &quot;Requires Android Gradle plugin 4.1.0-alpha04 or newer). How can I import the TFLite model into the android studio?\r\n\r\nMy problem can be seen in the following image\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dN3gk.jpg","title":"Can&#39;t Import TFLite Model To Android Studio, How To Solve It?","body":"<p>I have a problem where I can't import a new Tflite model to android studio. the Tensorflow Model TFLite feature seems to be disabled. The message says &quot;Requires Android Gradle plugin 4.1.0-alpha04 or newer). How can I import the TFLite model into the android studio?</p>\n<p>My problem can be seen in the following image\n<a href=\"https://i.stack.imgur.com/dN3gk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dN3gk.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1669513980,"post_id":74586923,"comment_id":131657493,"body_markdown":"I advice you to use a full java configuration instead an hybrid java with xml.  Share us an example and the xml","body":"I advice you to use a full java configuration instead an hybrid java with xml.  Share us an example and the xml"},{"owner":{"account_id":21612562,"reputation":13,"user_id":15938858,"display_name":"Jhoan Peguero"},"score":0,"creation_date":1669515534,"post_id":74586923,"comment_id":131657667,"body_markdown":"The XML is way too big, it has too many beans definitions, as part of this change I just need to move a couple. I considered that option but it would have a big impact and involved a big testing effort","body":"The XML is way too big, it has too many beans definitions, as part of this change I just need to move a couple. I considered that option but it would have a big impact and involved a big testing effort"}],"answers":[{"tags":[],"owner":{"account_id":6460997,"reputation":7359,"user_id":5004822,"accept_rate":41,"display_name":"SledgeHammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669519580,"creation_date":1669519580,"answer_id":74587272,"question_id":74586923,"body_markdown":"You can use the `@ImportResource` annotation for this purpose, but generally you should keep the XML you are importing to a minimum, so you probably want to move the dependent beans to a separate file.","title":"How to make my annotations beans available to XML configuration file","body":"<p>You can use the <code>@ImportResource</code> annotation for this purpose, but generally you should keep the XML you are importing to a minimum, so you probably want to move the dependent beans to a separate file.</p>\n"}],"owner":{"account_id":21612562,"reputation":13,"user_id":15938858,"display_name":"Jhoan Peguero"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669519580,"creation_date":1669513629,"question_id":74586923,"body_markdown":"I am moving some beans definition from a XML to a @Configuration class, but there is one dependency that it will remain in the XML that requires one of those being moved. I read that @Configuration beans are loaded on the **Context** first than XML.\r\n\r\nBut I keep on getting this Exception.\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;entityEventManagerImpl&#39;: Unsatisfied dependency expressed through field &#39;jmsTopicTemplate&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.jms.core.JmsTemplate&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true), @org.springframework.beans.factory.annotation.Qualifier(value=&quot;jmsTopicTemplate&quot;)}\r\n```\r\n\r\nThe @Configuration bean are being loaded after the XML bean.\r\n\r\nAnything that I am missing to make the @Configuration load first???\r\n\r\n\r\nI tried doing @ComponentScan but it did not work.","title":"How to make my annotations beans available to XML configuration file","body":"<p>I am moving some beans definition from a XML to a @Configuration class, but there is one dependency that it will remain in the XML that requires one of those being moved. I read that @Configuration beans are loaded on the <strong>Context</strong> first than XML.</p>\n<p>But I keep on getting this Exception.</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'entityEventManagerImpl': Unsatisfied dependency expressed through field 'jmsTopicTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.jms.core.JmsTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true), @org.springframework.beans.factory.annotation.Qualifier(value=&quot;jmsTopicTemplate&quot;)}\n</code></pre>\n<p>The @Configuration bean are being loaded after the XML bean.</p>\n<p>Anything that I am missing to make the @Configuration load first???</p>\n<p>I tried doing @ComponentScan but it did not work.</p>\n"},{"tags":["java","playwright","playwright-java"],"answers":[{"tags":[],"owner":{"account_id":27058248,"reputation":51,"user_id":20610644,"display_name":"Vladislav Belousov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669518670,"creation_date":1669518670,"answer_id":74587224,"question_id":74425587,"body_markdown":"try this maybe help you. \r\n\r\n    final BrowserContext context = browser.newContext();\r\n    final Page page = context.newPage();\r\n    page.onResponse(response -&gt; {\r\n    page.request().get(response.url()).body();\r\n    });","title":"Java Playwright get response body of redirect","body":"<p>try this maybe help you.</p>\n<pre><code>final BrowserContext context = browser.newContext();\nfinal Page page = context.newPage();\npage.onResponse(response -&gt; {\npage.request().get(response.url()).body();\n});\n</code></pre>\n"}],"owner":{"account_id":19576898,"reputation":41,"user_id":16910689,"display_name":"user16910689"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669518670,"creation_date":1668382129,"question_id":74425587,"body_markdown":"Im using https://github.com/microsoft/playwright-java.\r\n\r\nThis code:\r\n\r\n```java\r\nfinal BrowserContext context = browser.newContext();\r\nfinal Page page = context.newPage();\r\npage.onResponse(response -&gt; {\r\n\r\n    response.body();\r\n    \r\n});\r\n```\r\n\r\ngives the exception: `Response body is unavailable for redirect responses`, when a redirect occurred. Is there a way to get the response body regardless?","title":"Java Playwright get response body of redirect","body":"<p>Im using <a href=\"https://github.com/microsoft/playwright-java\" rel=\"nofollow noreferrer\">https://github.com/microsoft/playwright-java</a>.</p>\n<p>This code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final BrowserContext context = browser.newContext();\nfinal Page page = context.newPage();\npage.onResponse(response -&gt; {\n\n    response.body();\n    \n});\n</code></pre>\n<p>gives the exception: <code>Response body is unavailable for redirect responses</code>, when a redirect occurred. Is there a way to get the response body regardless?</p>\n"},{"tags":["java","generics","inner-classes","type-parameter","jls"],"answers":[{"tags":[],"owner":{"account_id":26749788,"reputation":611,"user_id":20349343,"display_name":"radof"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669518580,"creation_date":1669518580,"answer_id":74587216,"question_id":74580197,"body_markdown":"Unless I misunderstood the question, you should be able to use a different type parameter for the outer and inner class. `T` for `Scratch` and `S` for `InnerClass`.\r\n\r\n   \r\n\r\n     class Scratch&lt;T&gt; {\r\n          class InnerClass&lt;S&gt; {\r\n            public void executeHiddenMethod(){\r\n             ...\r\n             S s = null; \r\n             ...\r\n             T t = null;\r\n            }\r\n          }\r\n    }","title":"Resolving hidden Type Parameter in Java","body":"<p>Unless I misunderstood the question, you should be able to use a different type parameter for the outer and inner class. <code>T</code> for <code>Scratch</code> and <code>S</code> for <code>InnerClass</code>.</p>\n<pre><code> class Scratch&lt;T&gt; {\n      class InnerClass&lt;S&gt; {\n        public void executeHiddenMethod(){\n         ...\n         S s = null; \n         ...\n         T t = null;\n        }\n      }\n}\n</code></pre>\n"}],"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669518580,"creation_date":1669444265,"question_id":74580197,"body_markdown":"Consider the following code:\r\n```java\r\nclass Scratch&lt;T&gt; {\r\n  class InnerClass&lt;T&gt; {\r\n    public void executeHiddenMethod(){\r\n     //..some code to use Inner (T) type\r\n     T r = null; //declared T from inner T type\r\n     //..some code to use Outer (T) type\r\n     //?? How to use outer T type?\r\n    }\r\n  }\r\n\r\n\r\n//when trying to invoke the code:\r\npublic static void main(String[] args) {\r\n    Scratch&lt;String&gt; scr = new Scratch&lt;&gt;();\r\n    Scratch&lt;String&gt;.InnerClass&lt;Double&gt; d = scr.new InnerClass&lt;&gt;();\r\n    d.executeHiddenMethod();\r\n  }\r\n}\r\n```\r\n- Is there any way to reveal the Hidden Type Parameter of the Outer Class `Scratch` into the inner class `InnerClass`?\r\n- Or is there any clause in JLS that forbids this exposure in case of type parameters that get hidden?\r\n","title":"Resolving hidden Type Parameter in Java","body":"<p>Consider the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Scratch&lt;T&gt; {\n  class InnerClass&lt;T&gt; {\n    public void executeHiddenMethod(){\n     //..some code to use Inner (T) type\n     T r = null; //declared T from inner T type\n     //..some code to use Outer (T) type\n     //?? How to use outer T type?\n    }\n  }\n\n\n//when trying to invoke the code:\npublic static void main(String[] args) {\n    Scratch&lt;String&gt; scr = new Scratch&lt;&gt;();\n    Scratch&lt;String&gt;.InnerClass&lt;Double&gt; d = scr.new InnerClass&lt;&gt;();\n    d.executeHiddenMethod();\n  }\n}\n</code></pre>\n<ul>\n<li>Is there any way to reveal the Hidden Type Parameter of the Outer Class <code>Scratch</code> into the inner class <code>InnerClass</code>?</li>\n<li>Or is there any clause in JLS that forbids this exposure in case of type parameters that get hidden?</li>\n</ul>\n"},{"tags":["java","arrays","methods"],"answers":[{"tags":[],"owner":{"account_id":13015872,"reputation":165,"user_id":9407148,"display_name":"Geoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669512545,"creation_date":1669512545,"answer_id":74586858,"question_id":74586815,"body_markdown":"Because Java is pass by value and not pass by reference, setting the value of the `values` argument will not change the value of the `a` variable.\r\n\r\nWhat you have to do is remove all the odd elements from the array and shift the remaining even elements to the left so that the actual resultant form of `a` looks like this:\r\n\r\n```{22, 98, 46, 82, 24, 0, 0, 0, 0, 0}```","title":"How to change an integer array within a method","body":"<p>Because Java is pass by value and not pass by reference, setting the value of the <code>values</code> argument will not change the value of the <code>a</code> variable.</p>\n<p>What you have to do is remove all the odd elements from the array and shift the remaining even elements to the left so that the actual resultant form of <code>a</code> looks like this:</p>\n<p><code>{22, 98, 46, 82, 24, 0, 0, 0, 0, 0}</code></p>\n"},{"tags":[],"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669514227,"creation_date":1669514227,"answer_id":74586966,"question_id":74586815,"body_markdown":"As @Geoff pointed out Java is pass by value, which means when you pass your array as an argument, what you get inside the method is a reference to the array object which is different from the original reference `int[] a` you have inside your main method (the caller). Therefore, when you do `values = newValues;` you are pointing that new reference which used to point to the same object as `int[] a` to the array object `newValues` points to, thereby not updating the original array `a` but actually losing any reference to it. ","title":"How to change an integer array within a method","body":"<p>As @Geoff pointed out Java is pass by value, which means when you pass your array as an argument, what you get inside the method is a reference to the array object which is different from the original reference <code>int[] a</code> you have inside your main method (the caller). Therefore, when you do <code>values = newValues;</code> you are pointing that new reference which used to point to the same object as <code>int[] a</code> to the array object <code>newValues</code> points to, thereby not updating the original array <code>a</code> but actually losing any reference to it.</p>\n"},{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669515904,"creation_date":1669514646,"answer_id":74586996,"question_id":74586815,"body_markdown":"The other answers give a good description of what the problem is with your overall approach...that is, why your results don&#39;t make it back to the calling method.\r\n\r\nIf your code were otherwise correct, you could use it as is and just copy the result back into the original array at the end.  As it is, you had one flaw in your logic.  So if you fix that flaw, and then do the copy at the end, you should get the correct result:\r\n\r\n    public static int removeOdd(int[] values, int size)\r\n    {\r\n        int evenCount = 0;\r\n\r\n        for(int i = 0; i&lt;size; i++){\r\n            if(values[i]%2==0){\r\n                evenCount++;\r\n            }\r\n        }\r\n        int[] newValues = new int[evenCount];\r\n        int newCount =0;\r\n        for(int i = 0; i&lt;size; i++) {    // &lt;- Need to iterate over the entire input array\r\n            if(values[i]%2==0){\r\n                newValues[newCount] = values[i];\r\n                newCount++;\r\n            }\r\n        }\r\n        for (int i = 0 ; i &lt; evenCount ; i++)  // &lt;- now copy your result to the original array\r\n            values[i] = newValues[i];\r\n        return evenCount;\r\n    }\r\n\r\nRather than creating an extra array to temporarily hold the even values, you can use the same logic to copy into the original array directly:\r\n\r\n    public static int removeOdd(int[] values, int size)\r\n    {\r\n        int newCount =0;\r\n        for(int i = 0; i&lt;size; i++) {\r\n            if(values[i]%2==0){\r\n                values[newCount] = values[i];\r\n                newCount++;\r\n            }\r\n        }\r\n        return newCount;\r\n    }\r\n","title":"How to change an integer array within a method","body":"<p>The other answers give a good description of what the problem is with your overall approach...that is, why your results don't make it back to the calling method.</p>\n<p>If your code were otherwise correct, you could use it as is and just copy the result back into the original array at the end.  As it is, you had one flaw in your logic.  So if you fix that flaw, and then do the copy at the end, you should get the correct result:</p>\n<pre><code>public static int removeOdd(int[] values, int size)\n{\n    int evenCount = 0;\n\n    for(int i = 0; i&lt;size; i++){\n        if(values[i]%2==0){\n            evenCount++;\n        }\n    }\n    int[] newValues = new int[evenCount];\n    int newCount =0;\n    for(int i = 0; i&lt;size; i++) {    // &lt;- Need to iterate over the entire input array\n        if(values[i]%2==0){\n            newValues[newCount] = values[i];\n            newCount++;\n        }\n    }\n    for (int i = 0 ; i &lt; evenCount ; i++)  // &lt;- now copy your result to the original array\n        values[i] = newValues[i];\n    return evenCount;\n}\n</code></pre>\n<p>Rather than creating an extra array to temporarily hold the even values, you can use the same logic to copy into the original array directly:</p>\n<pre><code>public static int removeOdd(int[] values, int size)\n{\n    int newCount =0;\n    for(int i = 0; i&lt;size; i++) {\n        if(values[i]%2==0){\n            values[newCount] = values[i];\n            newCount++;\n        }\n    }\n    return newCount;\n}\n</code></pre>\n"}],"owner":{"account_id":27058166,"reputation":13,"user_id":20610572,"display_name":"KayBirdy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74586996,"answer_count":3,"score":0,"last_activity_date":1669515904,"creation_date":1669511983,"question_id":74586815,"body_markdown":"I am having an issue with a fill-in-the-code digital textbook problem. All the code is permanent and cannot be changed, so the problem can only be solved by using the area that states //Write code here. \r\n\r\nThe problem asks to implement the removeOdd method.\r\n\r\n```\r\nimport java.util.Arrays;\r\n\r\npublic class RemoveTester\r\n{\r\n   public static int removeOdd(int[] values, int size) \r\n   { \r\n      //Write code here\r\n   }\r\n   public static void main(String[] args)\r\n   {\r\n      int[] a = { 22, 98, 95, 46, 31, 53, 82, 24, 11, 19 };\r\n      int sizeBefore = 8;\r\n      int sizeAfter = removeOdd(a, sizeBefore);\r\n      System.out.print(&quot;a: [ &quot;);\r\n      for (int i = 0; i &lt; sizeAfter; i++) \r\n      {\r\n         System.out.print(a[i] + &quot; &quot;);\r\n      }\r\n      System.out.println(&quot;]&quot;);\r\n      System.out.println(&quot;Expected: [ 22 98 46 82 24 ]&quot;);      \r\n\r\n      int[] b = { 23, 97, 95, 45, 31, 53, 81, 24, 11, 19 };\r\n      sizeBefore = 7;\r\n      sizeAfter = removeOdd(b, sizeBefore);\r\n      System.out.print(&quot;b: [ &quot;);\r\n      for (int i = 0; i &lt; sizeAfter; i++) \r\n      {\r\n         System.out.print(b[i] + &quot; &quot;);\r\n      }\r\n      System.out.println(&quot;]&quot;);\r\n      System.out.println(&quot;Expected: [ ]&quot;);      \r\n   }\r\n}\r\n```\r\n\r\nThe way I tried to implement removeOdd is by doing:\r\n\r\n```\r\nint evenCount = 0;\r\n      \r\n      for(int i = 0; i&lt;size; i++){\r\n         if(values[i]%2==0){\r\n            evenCount++;\r\n         }\r\n      }\r\n      int[] newValues = new int[evenCount];\r\n      int newCount =0;\r\n      for(int i = 0; i&lt;evenCount; i++){\r\n         if(values[i]%2==0){\r\n            newValues[newCount] = values[i];\r\n            newCount++;\r\n         }\r\n      }\r\n      values = newValues;\r\n      return evenCount;\r\n```\r\nWhen the program is compiled and ran, main prints the beginning of the original a or b arrays instead of only the even elements in a or b. I cannot find a way to alter the original arrays within the method removeOdd into the new arrays with only their even elements. I can&#39;t think of any other way to do this either. Any help would be greatly appreciated!\r\n\r\n","title":"How to change an integer array within a method","body":"<p>I am having an issue with a fill-in-the-code digital textbook problem. All the code is permanent and cannot be changed, so the problem can only be solved by using the area that states //Write code here.</p>\n<p>The problem asks to implement the removeOdd method.</p>\n<pre><code>import java.util.Arrays;\n\npublic class RemoveTester\n{\n   public static int removeOdd(int[] values, int size) \n   { \n      //Write code here\n   }\n   public static void main(String[] args)\n   {\n      int[] a = { 22, 98, 95, 46, 31, 53, 82, 24, 11, 19 };\n      int sizeBefore = 8;\n      int sizeAfter = removeOdd(a, sizeBefore);\n      System.out.print(&quot;a: [ &quot;);\n      for (int i = 0; i &lt; sizeAfter; i++) \n      {\n         System.out.print(a[i] + &quot; &quot;);\n      }\n      System.out.println(&quot;]&quot;);\n      System.out.println(&quot;Expected: [ 22 98 46 82 24 ]&quot;);      \n\n      int[] b = { 23, 97, 95, 45, 31, 53, 81, 24, 11, 19 };\n      sizeBefore = 7;\n      sizeAfter = removeOdd(b, sizeBefore);\n      System.out.print(&quot;b: [ &quot;);\n      for (int i = 0; i &lt; sizeAfter; i++) \n      {\n         System.out.print(b[i] + &quot; &quot;);\n      }\n      System.out.println(&quot;]&quot;);\n      System.out.println(&quot;Expected: [ ]&quot;);      \n   }\n}\n</code></pre>\n<p>The way I tried to implement removeOdd is by doing:</p>\n<pre><code>int evenCount = 0;\n      \n      for(int i = 0; i&lt;size; i++){\n         if(values[i]%2==0){\n            evenCount++;\n         }\n      }\n      int[] newValues = new int[evenCount];\n      int newCount =0;\n      for(int i = 0; i&lt;evenCount; i++){\n         if(values[i]%2==0){\n            newValues[newCount] = values[i];\n            newCount++;\n         }\n      }\n      values = newValues;\n      return evenCount;\n</code></pre>\n<p>When the program is compiled and ran, main prints the beginning of the original a or b arrays instead of only the even elements in a or b. I cannot find a way to alter the original arrays within the method removeOdd into the new arrays with only their even elements. I can't think of any other way to do this either. Any help would be greatly appreciated!</p>\n"},{"tags":["java","version","illegalargumentexception"],"comments":[{"owner":{"account_id":1874141,"reputation":1331,"user_id":1695742,"display_name":"Thomas Taylor"},"score":1,"creation_date":1620771779,"post_id":64040255,"comment_id":119299012,"body_markdown":"If https://findjar.com is working, you can use `findjar com.ibm.icu.util.VersionInfo`  to see what jar files the class is commonly found in (in this case `icu4j.jar`). Subsequent searches for &#39;icu4j invalid java version&#39; might lead you to the bug report `ICU-21219` or using https://mvnrepository.com/artifact/com.ibm.icu/icu4j you can find and download the latest version.","body":"If <a href=\"https://findjar.com\" rel=\"nofollow noreferrer\">findjar.com</a> is working, you can use <code>findjar com.ibm.icu.util.VersionInfo</code>  to see what jar files the class is commonly found in (in this case <code>icu4j.jar</code>). Subsequent searches for &#39;icu4j invalid java version&#39; might lead you to the bug report <code>ICU-21219</code> or using <a href=\"https://mvnrepository.com/artifact/com.ibm.icu/icu4j\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.ibm.icu/icu4j</a> you can find and download the latest version."}],"answers":[{"comments":[{"owner":{"account_id":4139383,"reputation":489,"user_id":3395154,"display_name":"sanket patel"},"score":0,"creation_date":1611046384,"post_id":64042544,"comment_id":116316966,"body_markdown":"to which version you downgraded?","body":"to which version you downgraded?"},{"owner":{"account_id":287742,"reputation":466,"user_id":587749,"accept_rate":100,"display_name":"torno"},"score":1,"creation_date":1611586302,"post_id":64042544,"comment_id":116492557,"body_markdown":"&lt;= 255 :) this isn`t a real solution, but a workaround... the solution would be fixing the code that produces such errors","body":"&lt;= 255 :) this isn`t a real solution, but a workaround... the solution would be fixing the code that produces such errors"},{"owner":{"account_id":6717092,"reputation":767,"user_id":5178586,"accept_rate":22,"display_name":"JAVA_CAT"},"score":0,"creation_date":1611760480,"post_id":64042544,"comment_id":116554926,"body_markdown":"@sanketpatel 1.8.0_261 to 1.8.0.252 , currently I am using openjdk.","body":"@sanketpatel 1.8.0_261 to 1.8.0.252 , currently I am using openjdk."},{"owner":{"account_id":6717092,"reputation":767,"user_id":5178586,"accept_rate":22,"display_name":"JAVA_CAT"},"score":0,"creation_date":1611760636,"post_id":64042544,"comment_id":116554995,"body_markdown":"@torno yeah correct. But the above question is to understand the issue, I have no clue about which code is giving issue.","body":"@torno yeah correct. But the above question is to understand the issue, I have no clue about which code is giving issue."},{"owner":{"account_id":1874141,"reputation":1331,"user_id":1695742,"display_name":"Thomas Taylor"},"score":1,"creation_date":1620771403,"post_id":64042544,"comment_id":119298927,"body_markdown":"The problem is in `icu4j.jar` - replace that jar in your classpath with a newer version (68.1 or later).","body":"The problem is in <code>icu4j.jar</code> - replace that jar in your classpath with a newer version (68.1 or later)."},{"owner":{"account_id":5671021,"reputation":109,"user_id":4485631,"display_name":"MANVENDRA LODHI"},"score":0,"creation_date":1634105234,"post_id":64042544,"comment_id":122933272,"body_markdown":"I didn&#39;t upgraded icu4j yet but in can see same error  handling in 68.1 and higher version, for VersionInfo.java\n\n if (major &lt; 0 || major &gt; 255 || minor &lt; 0 || minor &gt; 255 ||\n            milli &lt; 0 || milli &gt; 255 || micro &lt; 0 || micro &gt; 255) {\n            throw new IllegalArgumentException(INVALID_VERSION_NUMBER_);\n        }","body":"I didn&#39;t upgraded icu4j yet but in can see same error  handling in 68.1 and higher version, for VersionInfo.java   if (major &lt; 0 || major &gt; 255 || minor &lt; 0 || minor &gt; 255 ||             milli &lt; 0 || milli &gt; 255 || micro &lt; 0 || micro &gt; 255) {             throw new IllegalArgumentException(INVALID_VERSION_NUMBER_);         }"}],"tags":[],"owner":{"account_id":6717092,"reputation":767,"user_id":5178586,"accept_rate":22,"display_name":"JAVA_CAT"},"comment_count":6,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1600936443,"creation_date":1600936443,"answer_id":64042544,"question_id":64040255,"body_markdown":"The problem is resolved as I downgraded my java version. ","title":"Invalid version number: Version number may be negative or greater than 255","body":"<p>The problem is resolved as I downgraded my java version.</p>\n"},{"tags":[],"owner":{"account_id":4480988,"reputation":71,"user_id":3645066,"display_name":"Ren&#233;"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613145150,"creation_date":1613145150,"answer_id":66174951,"question_id":64040255,"body_markdown":"Well, I know it is a dirty hack but setting the &quot;java.version&quot; property to a version that doesn&#39;t contain numbers &gt;255 worked for me: \r\n```\r\nSystem.setProperty(&quot;java.version&quot;, &quot;1.8.0_254&quot;);\r\n```\r\nJust set it before the class is loaded (first access) and restore the original value afterwards. And file a bug  to the author of the library since this is just a workaround.","title":"Invalid version number: Version number may be negative or greater than 255","body":"<p>Well, I know it is a dirty hack but setting the &quot;java.version&quot; property to a version that doesn't contain numbers &gt;255 worked for me:</p>\n<pre><code>System.setProperty(&quot;java.version&quot;, &quot;1.8.0_254&quot;);\n</code></pre>\n<p>Just set it before the class is loaded (first access) and restore the original value afterwards. And file a bug  to the author of the library since this is just a workaround.</p>\n"},{"comments":[{"owner":{"account_id":4312127,"reputation":513,"user_id":3522933,"accept_rate":100,"display_name":"MinionAttack"},"score":0,"creation_date":1663146823,"post_id":67495001,"comment_id":130168337,"body_markdown":"Thank you! I had the same problem at work, using openjdk-8u332-b09.","body":"Thank you! I had the same problem at work, using openjdk-8u332-b09."}],"tags":[],"owner":{"account_id":1874141,"reputation":1331,"user_id":1695742,"display_name":"Thomas Taylor"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1620771276,"creation_date":1620771276,"answer_id":67495001,"question_id":64040255,"body_markdown":"TLDR; replace your `icu4j.jar` file with the [latest version](http://site.icu-project.org/download).\r\n\r\nThis is likely caused by an older version of [ICU4J](http://site.icu-project.org) in your classpath. The `VersionInfo` class was limited to 2-character version numbers, setting a limit to 255. Since Java 8 is now at 1.8.0_291, the `291` exceeds the 2-character limit, causing the ICU4J VersionInfo exception.\r\n\r\n[ICU-21219](https://unicode-org.atlassian.net/browse/ICU-21219) is fixed in ICU4J:68.1\r\n","title":"Invalid version number: Version number may be negative or greater than 255","body":"<p>TLDR; replace your <code>icu4j.jar</code> file with the <a href=\"http://site.icu-project.org/download\" rel=\"noreferrer\">latest version</a>.</p>\n<p>This is likely caused by an older version of <a href=\"http://site.icu-project.org\" rel=\"noreferrer\">ICU4J</a> in your classpath. The <code>VersionInfo</code> class was limited to 2-character version numbers, setting a limit to 255. Since Java 8 is now at 1.8.0_291, the <code>291</code> exceeds the 2-character limit, causing the ICU4J VersionInfo exception.</p>\n<p><a href=\"https://unicode-org.atlassian.net/browse/ICU-21219\" rel=\"noreferrer\">ICU-21219</a> is fixed in ICU4J:68.1</p>\n"},{"comments":[{"owner":{"account_id":157301,"reputation":12131,"user_id":375147,"accept_rate":86,"display_name":"Norman Gray"},"score":0,"creation_date":1637686975,"post_id":68264521,"comment_id":123890759,"body_markdown":"Not pretty; not pretty at all (so thanks, and go wash your mouth out now!).  But I can confirm that this does work.  I changed the java.version to `hackVersion = javaVersion.substring(0, idxOfUnderscore+1) + &quot;254&quot;;` in fact, in a possibly fanciful attempt to Do The Right Thing.  Of course, the real Right Thing is for me to rewrite, to avoid the library that depends on this ancient version of icu4j.  Perhaps later...","body":"Not pretty; not pretty at all (so thanks, and go wash your mouth out now!).  But I can confirm that this does work.  I changed the java.version to <code>hackVersion = javaVersion.substring(0, idxOfUnderscore+1) + &quot;254&quot;;</code> in fact, in a possibly fanciful attempt to Do The Right Thing.  Of course, the real Right Thing is for me to rewrite, to avoid the library that depends on this ancient version of icu4j.  Perhaps later..."}],"tags":[],"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625545422,"creation_date":1625545422,"answer_id":68264521,"question_id":64040255,"body_markdown":"If you don&#39;t want to upgrade ICU just call this little helper function before the ICU stuff get&#39;s called:\r\n\r\n\r\n    /**\r\n     * There is a bug in an old ICU version that stops ICU from working when the JDK patch version is larger than \r\n     * 255 (like in jdk 1.8.0_261). To work around that we change the local version number, init ICU and change it\r\n     * back then.\r\n     */\r\n    private void icuHack() {\r\n    \tString javaVersion = System.getProperty(&quot;java.version&quot;);\r\n    \tint idxOfUnderscore = javaVersion.indexOf(&#39;_&#39;);\r\n    \tif( idxOfUnderscore == -1 ) {\r\n    \t\treturn;\r\n    \t}\r\n    \tint patchVersion = Integer.parseInt(javaVersion.substring(idxOfUnderscore+1));\r\n    \tif( patchVersion &lt; 256 ) {\r\n    \t\treturn;\r\n    \t}\r\n    \tlog.info(&quot;Java version &#39;&quot;+javaVersion+&quot;&#39; contains patch version &gt;255, need to do ICU hack.&quot;);\r\n    \tSystem.setProperty(&quot;java.version&quot;, &quot;1.8.0_254&quot;);\r\n    \tnew com.ibm.icu.impl.ICUDebug();\r\n    \tSystem.setProperty(&quot;java.version&quot;, javaVersion);\r\n    }","title":"Invalid version number: Version number may be negative or greater than 255","body":"<p>If you don't want to upgrade ICU just call this little helper function before the ICU stuff get's called:</p>\n<pre><code>/**\n * There is a bug in an old ICU version that stops ICU from working when the JDK patch version is larger than \n * 255 (like in jdk 1.8.0_261). To work around that we change the local version number, init ICU and change it\n * back then.\n */\nprivate void icuHack() {\n    String javaVersion = System.getProperty(&quot;java.version&quot;);\n    int idxOfUnderscore = javaVersion.indexOf('_');\n    if( idxOfUnderscore == -1 ) {\n        return;\n    }\n    int patchVersion = Integer.parseInt(javaVersion.substring(idxOfUnderscore+1));\n    if( patchVersion &lt; 256 ) {\n        return;\n    }\n    log.info(&quot;Java version '&quot;+javaVersion+&quot;' contains patch version &gt;255, need to do ICU hack.&quot;);\n    System.setProperty(&quot;java.version&quot;, &quot;1.8.0_254&quot;);\n    new com.ibm.icu.impl.ICUDebug();\n    System.setProperty(&quot;java.version&quot;, javaVersion);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10652702,"reputation":109,"user_id":7843104,"display_name":"Brook"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641807685,"creation_date":1641807685,"answer_id":70650369,"question_id":64040255,"body_markdown":"I solved this problem by excluding old icu4j package，eg：\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jaxen&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxen&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.6&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\nthen refer to the latest icu4j package:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\r\n            &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\r\n            &lt;version&gt;68.2&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Invalid version number: Version number may be negative or greater than 255","body":"<p>I solved this problem by excluding old icu4j package，eg：</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;jaxen&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxen&lt;/artifactId&gt;\n        &lt;version&gt;1.1.6&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\n                &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>then refer to the latest icu4j package:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\n        &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\n        &lt;version&gt;68.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24226163,"reputation":1,"user_id":18180613,"display_name":"user18180613"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644581754,"creation_date":1644581754,"answer_id":71079952,"question_id":64040255,"body_markdown":"I solved the problem by updating from 8.0.0.0 to 9.1.0.0 \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.ibm.ctg&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ctgclient&lt;/artifactId&gt;\r\n      &lt;version&gt;9.1.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Invalid version number: Version number may be negative or greater than 255","body":"<p>I solved the problem by updating from 8.0.0.0 to 9.1.0.0</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.ibm.ctg&lt;/groupId&gt;\n  &lt;artifactId&gt;ctgclient&lt;/artifactId&gt;\n  &lt;version&gt;9.1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10261562,"reputation":1,"user_id":7572703,"display_name":"Praveen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652869837,"creation_date":1652869837,"answer_id":72287478,"question_id":64040255,"body_markdown":"As posted on https://academy.jahia.com/training-kb/knowledge-base/invalid-version-number-version-number-may-be-negative-or-greater-than-255\r\n\r\n**Cause**\r\nThere is a very high probability that before the restart, your JDK has been upgraded to a version greater than 255, leading to a known bug in the library icu4J (cf internal ticket [QA-13064][1]).\r\n\r\n**Solution**\r\nIf you&#39;re unable to upgrade to the OpenJDK 11, please follow these steps for each  node:\r\n\r\n 1. Stop your node\r\n 2. Rename the library\r\n    TOMCAT_HOME/webapps/ROOT/WEB-INF/lib/icu4j-4.0.1.jar with the suffix\r\n    .bak\r\n 3. In the same folder, add the library [icu4j-67.1.jar][2]\r\n 4. Start your node\r\n\r\n\r\nThis also works if you are just upgrading Java sub version. For example from 1.8.0_211 to 1.8.0_311\r\n\r\n  [1]: https://jira.jahia.org/browse/QA-13064\r\n  [2]: https://repo1.maven.org/maven2/com/ibm/icu/icu4j/67.1/icu4j-67.1.jar","title":"Invalid version number: Version number may be negative or greater than 255","body":"<p>As posted on <a href=\"https://academy.jahia.com/training-kb/knowledge-base/invalid-version-number-version-number-may-be-negative-or-greater-than-255\" rel=\"nofollow noreferrer\">https://academy.jahia.com/training-kb/knowledge-base/invalid-version-number-version-number-may-be-negative-or-greater-than-255</a></p>\n<p><strong>Cause</strong>\nThere is a very high probability that before the restart, your JDK has been upgraded to a version greater than 255, leading to a known bug in the library icu4J (cf internal ticket <a href=\"https://jira.jahia.org/browse/QA-13064\" rel=\"nofollow noreferrer\">QA-13064</a>).</p>\n<p><strong>Solution</strong>\nIf you're unable to upgrade to the OpenJDK 11, please follow these steps for each  node:</p>\n<ol>\n<li>Stop your node</li>\n<li>Rename the library\nTOMCAT_HOME/webapps/ROOT/WEB-INF/lib/icu4j-4.0.1.jar with the suffix\n.bak</li>\n<li>In the same folder, add the library <a href=\"https://repo1.maven.org/maven2/com/ibm/icu/icu4j/67.1/icu4j-67.1.jar\" rel=\"nofollow noreferrer\">icu4j-67.1.jar</a></li>\n<li>Start your node</li>\n</ol>\n<p>This also works if you are just upgrading Java sub version. For example from 1.8.0_211 to 1.8.0_311</p>\n"},{"tags":[],"owner":{"account_id":19160030,"reputation":1,"user_id":13996009,"display_name":"Aniket A"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669515581,"creation_date":1669515581,"answer_id":74587046,"question_id":64040255,"body_markdown":"I was able to solve it by switching to Java version compatible with Jenkins. Please note that below steps will only work if you have multiple Java versions installed on your system. Following are the steps taken :\r\n\r\n1. Check other Java version using below command:\r\nsudo update-alternatives --config java\r\n\r\n2. Select the compatible java version \r\n\r\n3. Restart jenkins\r\n\r\nHope it helps! Please let me know if you need further clarifications.","title":"Invalid version number: Version number may be negative or greater than 255","body":"<p>I was able to solve it by switching to Java version compatible with Jenkins. Please note that below steps will only work if you have multiple Java versions installed on your system. Following are the steps taken :</p>\n<ol>\n<li><p>Check other Java version using below command:\nsudo update-alternatives --config java</p>\n</li>\n<li><p>Select the compatible java version</p>\n</li>\n<li><p>Restart jenkins</p>\n</li>\n</ol>\n<p>Hope it helps! Please let me know if you need further clarifications.</p>\n"}],"owner":{"account_id":6717092,"reputation":767,"user_id":5178586,"accept_rate":22,"display_name":"JAVA_CAT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26353,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":67495001,"answer_count":8,"score":8,"last_activity_date":1669515581,"creation_date":1600926631,"question_id":64040255,"body_markdown":"I am getting below error when I try to access a page in my application.\r\n\r\n    SEVERE: Servlet.service() for servlet [jsp] threw exception\r\n    java.lang.IllegalArgumentException: Invalid version number: Version number may be negative or greater than 255\r\n    \tat com.ibm.icu.util.VersionInfo.getInstance(VersionInfo.java:191)\r\n    \tat com.ibm.icu.impl.ICUDebug.getInstanceLenient(ICUDebug.java:65)\r\n    \tat com.ibm.icu.impl.ICUDebug.&lt;clinit&gt;(ICUDebug.java:69)\r\n\r\nI assume that it is due to some version mismatch. How can I trace the issue?  The application is not mavenized and hence I am not sure how to check the issue. Atleast if I know which jarfile is giving issue then it will be good. ","title":"Invalid version number: Version number may be negative or greater than 255","body":"<p>I am getting below error when I try to access a page in my application.</p>\n<pre><code>SEVERE: Servlet.service() for servlet [jsp] threw exception\njava.lang.IllegalArgumentException: Invalid version number: Version number may be negative or greater than 255\n    at com.ibm.icu.util.VersionInfo.getInstance(VersionInfo.java:191)\n    at com.ibm.icu.impl.ICUDebug.getInstanceLenient(ICUDebug.java:65)\n    at com.ibm.icu.impl.ICUDebug.&lt;clinit&gt;(ICUDebug.java:69)\n</code></pre>\n<p>I assume that it is due to some version mismatch. How can I trace the issue?  The application is not mavenized and hence I am not sure how to check the issue. Atleast if I know which jarfile is giving issue then it will be good.</p>\n"},{"tags":["java","inheritance","parent-child","getter-setter"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1669513029,"post_id":74586875,"comment_id":131657383,"body_markdown":"Looks like you need to call `super.withdraw`.","body":"Looks like you need to call <code>super.withdraw</code>."},{"owner":{"account_id":13015872,"reputation":165,"user_id":9407148,"display_name":"Geoff"},"score":0,"creation_date":1669513349,"post_id":74586875,"comment_id":131657420,"body_markdown":"I don&#39;t think there is a `withdraw` method in the super class.","body":"I don&#39;t think there is a <code>withdraw</code> method in the super class."}],"answers":[{"comments":[{"owner":{"account_id":27058094,"reputation":3,"user_id":20610511,"display_name":"noobdinocoder"},"score":0,"creation_date":1669513591,"post_id":74586896,"comment_id":131657454,"body_markdown":"How do I add the setter? Can you write the code of that part? That is what I have been trying to do, but I do not get it until I see it in code.","body":"How do I add the setter? Can you write the code of that part? That is what I have been trying to do, but I do not get it until I see it in code."},{"owner":{"account_id":13015872,"reputation":165,"user_id":9407148,"display_name":"Geoff"},"score":0,"creation_date":1669513667,"post_id":74586896,"comment_id":131657461,"body_markdown":"You already have the setter method written. Just use it to set the value of `currentAmount` in your `withdraw` method.","body":"You already have the setter method written. Just use it to set the value of <code>currentAmount</code> in your <code>withdraw</code> method."}],"tags":[],"owner":{"account_id":13015872,"reputation":165,"user_id":9407148,"display_name":"Geoff"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669514443,"creation_date":1669513167,"answer_id":74586896,"question_id":74586875,"body_markdown":"```double currentAmount = getCurrentAmount() - amount;```\r\n\r\nThis statement does not change the value of the `currentAmount` field: it creates a new `currnetAmount` local variable. If you want to be able to modify the `currentAmount` field then it cannot be private.\r\n\r\nTry adding `setCurrentAmount(currentAmount);` to the withdraw method.\r\n\r\nAlso, the `amount` field is unused.\r\n\r\nEdit:\r\n\r\n```\r\npublic String withdraw(double amount) {\r\n\r\n   double currentAmount = getCurrentAmount() - amount;\r\n\r\n   setCurrentAmount(currentAmount);\r\n\r\n   return amount + &quot; have been retired. \\nBalance: &quot; + currentAmount;\r\n\r\n}\r\n```","title":"How do I keep the values of a child function in Java?","body":"<p><code>double currentAmount = getCurrentAmount() - amount;</code></p>\n<p>This statement does not change the value of the <code>currentAmount</code> field: it creates a new <code>currnetAmount</code> local variable. If you want to be able to modify the <code>currentAmount</code> field then it cannot be private.</p>\n<p>Try adding <code>setCurrentAmount(currentAmount);</code> to the withdraw method.</p>\n<p>Also, the <code>amount</code> field is unused.</p>\n<p>Edit:</p>\n<pre><code>public String withdraw(double amount) {\n\n   double currentAmount = getCurrentAmount() - amount;\n\n   setCurrentAmount(currentAmount);\n\n   return amount + &quot; have been retired. \\nBalance: &quot; + currentAmount;\n\n}\n</code></pre>\n"}],"owner":{"account_id":27058094,"reputation":3,"user_id":20610511,"display_name":"noobdinocoder"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1669518130,"accepted_answer_id":74586896,"answer_count":1,"score":-3,"last_activity_date":1669514443,"creation_date":1669512757,"question_id":74586875,"body_markdown":"I am trying to solve a problem about inheritance. It is about making a base account and then make a debit card that inherits from the base account.\r\n\r\nThe problem is that I do not know how to keep the value of the method in the child class.\r\n\r\nHere is my code:\r\n\r\n```\r\npublic class BaseAccount {\r\n\r\nprivate double opening;\r\n\r\nprivate double currentAmount = 0.0;\r\n\r\nprivate double amount;\r\n\r\n\r\npublic BaseAccount(double opening, double currentAmount, double amount) {\r\n\r\nthis.opening = opening;\r\n\r\nthis.currentAmount = currentAmount;\r\n\r\nthis.amount = amount;\r\n\r\n}\r\n\r\n\r\npublic double getOpening() {\r\n\r\nreturn opening;\r\n\r\n}\r\n\r\n\r\npublic void setOpening(double opening) {\r\n\r\nthis.opening = opening;\r\n\r\n}\r\n\r\n\r\npublic double getCurrentAmount() {\r\n\r\nreturn currentAmount;\r\n\r\n}\r\n\r\n\r\npublic void setCurrentAmount(double currentAmount) {\r\n\r\nthis.currentAmount = currentAmount;\r\n\r\n}\r\n\r\n\r\npublic double getAmount() {\r\n\r\nreturn amount;\r\n\r\n}\r\n\r\n\r\npublic void setAmount(double amount) {\r\n\r\nthis.amount = amount;\r\n\r\n}\r\n\r\npublic String opening(double opening) {\r\n\r\nthis.opening = opening;\r\n\r\nthis.currentAmount = currentAmount + opening;\r\n\r\nreturn &quot;This account has been openend with &quot; + this.opening;\r\n\r\n}\r\n\r\npublic String deposit(double amount) {\r\n\r\nthis.currentAmount += amount;\r\n\r\nreturn &quot;Depositing &quot; + amount;\r\n\r\n}\r\n\r\npublic String balance() {\r\n\r\nreturn &quot;Balance: &quot; + currentAmount;\r\n\r\n}\r\n\r\n}\r\n\r\n\r\n\r\npublic class DebitCard extends BaseAccount{\r\n\r\n\r\npublic DebitCard(double opening, double currentAmount, double amount) {\r\n\r\nsuper(opening, currentAmount, amount);\r\n\r\n}\r\n\r\npublic String withdraw(double amount) {\r\n\r\ndouble currentAmount = getCurrentAmount() - amount;\r\n\r\nreturn amount + &quot; have been retired. \\nBalance: &quot; + currentAmount;\r\n\r\n}\r\n\r\n}\r\n\r\n\r\n\r\npublic class Inheritance {\r\n\r\n\r\npublic static void main(String[] args) {\r\n\r\nBaseAccount base1 = new BaseAccount(0,0,0);\r\n\r\nSystem.out.println(base1.opening(500));\r\n\r\nSystem.out.println(base1.deposit(22.22));\r\n\r\nSystem.out.println(base1.balance());\r\n\r\nDebitCard debit1 = new DebitCard(0,0,0);\r\n\r\nSystem.out.println(debit1.opening(400));\r\n\r\nSystem.out.println(debit1.deposit(33.33));\r\n\r\nSystem.out.println(debit1.balance());\r\n\r\nSystem.out.println(debit1.withdraw(33.33));\r\n\r\nSystem.out.println(debit1.balance());\r\n\r\n}\r\n\r\n}\r\n```\r\n\r\nRun:\r\n```none\r\nThis account has been opened with 500.0\r\n\r\nDepositing 22.22\r\n\r\nBalance: 522.22\r\n\r\nThis account has been opened with 400.0\r\n\r\nDepositing 33.33\r\n\r\nBalance: 433.33\r\n\r\n33.33 have been retired.\r\n\r\nBalance: 400.0\r\n\r\nBalance: 433.33\r\n```\r\n\r\n\r\nI do not understand why the balance at the ends ignores the change I made in the retire function of the child class. I know I have to do something with the getters and setters but I do not know what exactly.","title":"How do I keep the values of a child function in Java?","body":"<p>I am trying to solve a problem about inheritance. It is about making a base account and then make a debit card that inherits from the base account.</p>\n<p>The problem is that I do not know how to keep the value of the method in the child class.</p>\n<p>Here is my code:</p>\n<pre><code>public class BaseAccount {\n\nprivate double opening;\n\nprivate double currentAmount = 0.0;\n\nprivate double amount;\n\n\npublic BaseAccount(double opening, double currentAmount, double amount) {\n\nthis.opening = opening;\n\nthis.currentAmount = currentAmount;\n\nthis.amount = amount;\n\n}\n\n\npublic double getOpening() {\n\nreturn opening;\n\n}\n\n\npublic void setOpening(double opening) {\n\nthis.opening = opening;\n\n}\n\n\npublic double getCurrentAmount() {\n\nreturn currentAmount;\n\n}\n\n\npublic void setCurrentAmount(double currentAmount) {\n\nthis.currentAmount = currentAmount;\n\n}\n\n\npublic double getAmount() {\n\nreturn amount;\n\n}\n\n\npublic void setAmount(double amount) {\n\nthis.amount = amount;\n\n}\n\npublic String opening(double opening) {\n\nthis.opening = opening;\n\nthis.currentAmount = currentAmount + opening;\n\nreturn &quot;This account has been openend with &quot; + this.opening;\n\n}\n\npublic String deposit(double amount) {\n\nthis.currentAmount += amount;\n\nreturn &quot;Depositing &quot; + amount;\n\n}\n\npublic String balance() {\n\nreturn &quot;Balance: &quot; + currentAmount;\n\n}\n\n}\n\n\n\npublic class DebitCard extends BaseAccount{\n\n\npublic DebitCard(double opening, double currentAmount, double amount) {\n\nsuper(opening, currentAmount, amount);\n\n}\n\npublic String withdraw(double amount) {\n\ndouble currentAmount = getCurrentAmount() - amount;\n\nreturn amount + &quot; have been retired. \\nBalance: &quot; + currentAmount;\n\n}\n\n}\n\n\n\npublic class Inheritance {\n\n\npublic static void main(String[] args) {\n\nBaseAccount base1 = new BaseAccount(0,0,0);\n\nSystem.out.println(base1.opening(500));\n\nSystem.out.println(base1.deposit(22.22));\n\nSystem.out.println(base1.balance());\n\nDebitCard debit1 = new DebitCard(0,0,0);\n\nSystem.out.println(debit1.opening(400));\n\nSystem.out.println(debit1.deposit(33.33));\n\nSystem.out.println(debit1.balance());\n\nSystem.out.println(debit1.withdraw(33.33));\n\nSystem.out.println(debit1.balance());\n\n}\n\n}\n</code></pre>\n<p>Run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>This account has been opened with 500.0\n\nDepositing 22.22\n\nBalance: 522.22\n\nThis account has been opened with 400.0\n\nDepositing 33.33\n\nBalance: 433.33\n\n33.33 have been retired.\n\nBalance: 400.0\n\nBalance: 433.33\n</code></pre>\n<p>I do not understand why the balance at the ends ignores the change I made in the retire function of the child class. I know I have to do something with the getters and setters but I do not know what exactly.</p>\n"},{"tags":["java","networking","network-programming","udp"],"comments":[{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1669514324,"post_id":74586949,"comment_id":131657545,"body_markdown":"We need more information to be able to help you, all we know is that &quot;it doesn&#39;t work&quot;.","body":"We need more information to be able to help you, all we know is that &quot;it doesn&#39;t work&quot;."},{"owner":{"account_id":14399411,"reputation":89,"user_id":10401625,"display_name":"WKGuy"},"score":0,"creation_date":1669520812,"post_id":74586949,"comment_id":131658156,"body_markdown":"@BenAnderson Thanks for your answer. Not working means that when the client sends a message, the server never seems to receive it. The purpose of the client/server pair of programs from the link is for the client to send a string, the server prints the string and echoes it back. When &quot;it doesn&#39;t work&quot; the print on the server side never happens and the echo also never happens.","body":"@BenAnderson Thanks for your answer. Not working means that when the client sends a message, the server never seems to receive it. The purpose of the client/server pair of programs from the link is for the client to send a string, the server prints the string and echoes it back. When &quot;it doesn&#39;t work&quot; the print on the server side never happens and the echo also never happens."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669537795,"post_id":74586949,"comment_id":131660097,"body_markdown":"When your peer sends you a packet two things must happen: firstly it must know your IP address, that is to say the public address of your router and secondly your router must forward packets to the machine you&#39;re using.","body":"When your peer sends you a packet two things must happen: firstly it must know your IP address, that is to say the public address of your router and secondly your router must forward packets to the machine you&#39;re using."},{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":0,"creation_date":1669557138,"post_id":74586949,"comment_id":131663334,"body_markdown":"@WKGuy, firstly make sure you can ping the IP address you are trying to reach. Secondly, you can run a python http-server on the port to check you can connect to it (if this doesn&#39;t work, it may be a firewall issue). After you&#39;ve checked all the above, then revisit your server and client code to make sure it is correct","body":"@WKGuy, firstly make sure you can ping the IP address you are trying to reach. Secondly, you can run a python http-server on the port to check you can connect to it (if this doesn&#39;t work, it may be a firewall issue). After you&#39;ve checked all the above, then revisit your server and client code to make sure it is correct"}],"owner":{"account_id":14399411,"reputation":89,"user_id":10401625,"display_name":"WKGuy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1669513985,"creation_date":1669513985,"question_id":74586949,"body_markdown":"I&#39;m not too familiar with UDP programming and Java so please excuse me if I come across a bit ignorant with my question. \r\n\r\nI am testing UDP packets using my home network and I have a feeling that my AT&amp;T router is blocking traffic between computers. \r\n\r\nI&#39;ve used these sample echo server/client java programs provided in:  [Working with UDP DatagramSockets in Java][1]\r\n\r\nWhen I run the server and client programs locally in a single computer (my raspberry pi, my windows pc, or my ubuntu VM hosted by my windows pc), they work fine: I get the message sent from the client printed on the server side and echoed back. However, when I try to run a server in one computer (any of the three mentioned above) and a client on a different computer, I don&#39;t get any response from the server when the client sends a message (I.E. I don&#39;t think the messages are ever getting to the server).\r\n\r\nFor context, I&#39;ve changed the &quot;server address&quot; that the client sends messages to by changing the code from the link provided from this:\r\n```\r\nInetAddress ip = InetAddress.getLocalHost();\r\n```\r\nto this:\r\n```\r\nInetAddress ip = InetAddress.getByName(&quot;192.168.1.228&quot;); //ip address of one of my computers\r\n```\r\n\r\nA friend of mine tested the same thing at this home and he is able to talk accross computers without issue. Any clues to what may be happening at my place?\r\n\r\nThank you so much in advance for any help you can provide!\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/working-udp-datagramsockets-java/","title":"Java UDP server not consistent","body":"<p>I'm not too familiar with UDP programming and Java so please excuse me if I come across a bit ignorant with my question.</p>\n<p>I am testing UDP packets using my home network and I have a feeling that my AT&amp;T router is blocking traffic between computers.</p>\n<p>I've used these sample echo server/client java programs provided in:  <a href=\"https://www.geeksforgeeks.org/working-udp-datagramsockets-java/\" rel=\"nofollow noreferrer\">Working with UDP DatagramSockets in Java</a></p>\n<p>When I run the server and client programs locally in a single computer (my raspberry pi, my windows pc, or my ubuntu VM hosted by my windows pc), they work fine: I get the message sent from the client printed on the server side and echoed back. However, when I try to run a server in one computer (any of the three mentioned above) and a client on a different computer, I don't get any response from the server when the client sends a message (I.E. I don't think the messages are ever getting to the server).</p>\n<p>For context, I've changed the &quot;server address&quot; that the client sends messages to by changing the code from the link provided from this:</p>\n<pre><code>InetAddress ip = InetAddress.getLocalHost();\n</code></pre>\n<p>to this:</p>\n<pre><code>InetAddress ip = InetAddress.getByName(&quot;192.168.1.228&quot;); //ip address of one of my computers\n</code></pre>\n<p>A friend of mine tested the same thing at this home and he is able to talk accross computers without issue. Any clues to what may be happening at my place?</p>\n<p>Thank you so much in advance for any help you can provide!</p>\n"},{"tags":["java","multithreading","client-server"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1669510771,"post_id":74586728,"comment_id":131657163,"body_markdown":"It isn&#39;t clear what you&#39;re measuring.","body":"It isn&#39;t clear what you&#39;re measuring."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669514664,"post_id":74586728,"comment_id":131657582,"body_markdown":"Fix your code formatting. Enclose in a pair of triple back-ticks, OR indeed all lines by four spaces.","body":"Fix your code formatting. Enclose in a pair of triple back-ticks, OR indeed all lines by four spaces."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1669543749,"post_id":74586728,"comment_id":131660990,"body_markdown":"Exactly how did you try running multiple simple server commands at once?","body":"Exactly how did you try running multiple simple server commands at once?"}],"answers":[{"tags":[],"owner":{"account_id":13015872,"reputation":165,"user_id":9407148,"display_name":"Geoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669511023,"creation_date":1669511023,"answer_id":74586759,"question_id":74586728,"body_markdown":"&gt; I have tested both (recording the avg turn around time) and have gotten EXTREMELY similar results within margin of error when running multiple simple server commands at once. have I implememnted my client handler wrong?\r\n\r\nIf you are not making a new connection for each command that you send, then this would be expected. Since each connection runs on one thread, a multi-threaded approach, as you have shown, would have the same speed as if you didn&#39;t make a new thread for each connection. The difference is that, without multi-threading, you can only have one connection at a time.","title":"Is this the correct way to implement multithreading on Server side of concurrent client/server setup?","body":"<blockquote>\n<p>I have tested both (recording the avg turn around time) and have gotten EXTREMELY similar results within margin of error when running multiple simple server commands at once. have I implememnted my client handler wrong?</p>\n</blockquote>\n<p>If you are not making a new connection for each command that you send, then this would be expected. Since each connection runs on one thread, a multi-threaded approach, as you have shown, would have the same speed as if you didn't make a new thread for each connection. The difference is that, without multi-threading, you can only have one connection at a time.</p>\n"}],"owner":{"account_id":26441311,"reputation":21,"user_id":20085772,"display_name":"JTackling"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669511023,"creation_date":1669510466,"question_id":74586728,"body_markdown":"I have created this code snippet in both a single threaded version and multithreaded for a client/server setup I have going. I have tested both (recording the avg turn around time) and have gotten EXTREMELY similar results within margin of error when running multiple simple server commands at once. have I implememnted my client handler wrong?\r\n\r\n\r\n\r\n\r\nThis is my first time trying to implement a multithreaded server and from my understanding it just a matter of putting in a client handler being\r\n`\r\n```\r\nclass ServerThread extends Thread {\r\n    private Socket socket;\r\n \r\n    public ServerThread(Socket socket) {\r\n        this.socket = socket;\r\n    }\r\n```\r\n`\r\nbelow is the snippet of the whole server code.\r\n\r\n`\r\n```\r\npublic class Server {\r\n \r\n    public static void main(String[] args) {\r\n        if (args.length &lt; 1) return;\r\n \r\n        int port = Integer.parseInt(args[0]);\r\n \r\n        try (ServerSocket serverSocket = new ServerSocket(port)) {\r\n \r\n            System.out.println(&quot;Server is listening on port &quot; + port);\r\n \r\n            while (true) {\r\n                Socket socket = serverSocket.accept();\r\n                System.out.println(&quot;New client connected&quot;);\r\n \r\n                new ServerThread(socket).start();\r\n            }\r\n \r\n        } catch (IOException ex) {\r\n            System.out.println(&quot;Server exception: &quot; + ex.getMessage());\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n} \r\n\r\n class ServerThread extends Thread {\r\n    private Socket socket;\r\n \r\n    public ServerThread(Socket socket) {\r\n        this.socket = socket;\r\n    }\r\n \r\n    public void run() {\r\n        try {\r\n            InputStream input = socket.getInputStream();\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(input));\r\n \r\n            OutputStream output = socket.getOutputStream();\r\n            PrintWriter writer = new PrintWriter(output, true);\r\n \r\n \r\n            String text;\r\n \r\n            do {\r\n                text = reader.readLine(); // reads text from client\r\n                Process p = Runtime.getRuntime().exec(text);\r\n                BufferedReader stdout = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\r\n                String outputLine;\r\n                while ((outputLine = stdout.readLine()) != null) { // while serverMsg is not empty keep printing\r\n                    writer.println(outputLine);\r\n                }\r\n                stdout.close();\r\n\r\n                writer.println(&quot;ENDCMD&quot;);\r\n                // Text here should just write back directly what the server is reading...?\r\n            }\r\n\r\n            while (!text.toLowerCase().equals(&quot;exit&quot;));\r\n \r\n            socket.close();\r\n        } catch (IOException ex) {\r\n            System.out.println(&quot;Server exception: &quot; + ex.getMessage());\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n`","title":"Is this the correct way to implement multithreading on Server side of concurrent client/server setup?","body":"<p>I have created this code snippet in both a single threaded version and multithreaded for a client/server setup I have going. I have tested both (recording the avg turn around time) and have gotten EXTREMELY similar results within margin of error when running multiple simple server commands at once. have I implememnted my client handler wrong?</p>\n<p>This is my first time trying to implement a multithreaded server and from my understanding it just a matter of putting in a client handler being\n`</p>\n<pre><code>class ServerThread extends Thread {\n    private Socket socket;\n \n    public ServerThread(Socket socket) {\n        this.socket = socket;\n    }\n</code></pre>\n<p>`\nbelow is the snippet of the whole server code.</p>\n<p>`</p>\n<pre><code>public class Server {\n \n    public static void main(String[] args) {\n        if (args.length &lt; 1) return;\n \n        int port = Integer.parseInt(args[0]);\n \n        try (ServerSocket serverSocket = new ServerSocket(port)) {\n \n            System.out.println(&quot;Server is listening on port &quot; + port);\n \n            while (true) {\n                Socket socket = serverSocket.accept();\n                System.out.println(&quot;New client connected&quot;);\n \n                new ServerThread(socket).start();\n            }\n \n        } catch (IOException ex) {\n            System.out.println(&quot;Server exception: &quot; + ex.getMessage());\n            ex.printStackTrace();\n        }\n    }\n} \n\n class ServerThread extends Thread {\n    private Socket socket;\n \n    public ServerThread(Socket socket) {\n        this.socket = socket;\n    }\n \n    public void run() {\n        try {\n            InputStream input = socket.getInputStream();\n            BufferedReader reader = new BufferedReader(new InputStreamReader(input));\n \n            OutputStream output = socket.getOutputStream();\n            PrintWriter writer = new PrintWriter(output, true);\n \n \n            String text;\n \n            do {\n                text = reader.readLine(); // reads text from client\n                Process p = Runtime.getRuntime().exec(text);\n                BufferedReader stdout = new BufferedReader(new InputStreamReader(p.getInputStream()));\n\n                String outputLine;\n                while ((outputLine = stdout.readLine()) != null) { // while serverMsg is not empty keep printing\n                    writer.println(outputLine);\n                }\n                stdout.close();\n\n                writer.println(&quot;ENDCMD&quot;);\n                // Text here should just write back directly what the server is reading...?\n            }\n\n            while (!text.toLowerCase().equals(&quot;exit&quot;));\n \n            socket.close();\n        } catch (IOException ex) {\n            System.out.println(&quot;Server exception: &quot; + ex.getMessage());\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1669379758,"post_id":74572773,"comment_id":131634233,"body_markdown":"The number `1099511627776` is two to the power 40. That means it has to check through the whole big for-loop to find no odd factors. You have to wait longer if you want to do it this way.","body":"The number <code>1099511627776</code> is two to the power 40. That means it has to check through the whole big for-loop to find no odd factors. You have to wait longer if you want to do it this way."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1669379850,"post_id":74572773,"comment_id":131634271,"body_markdown":"You can add some output in your loop to see what it is checking. You&#39;ll see that it is just taking a very long time because you are asking it to check a whole lot of modulo operations.","body":"You can add some output in your loop to see what it is checking. You&#39;ll see that it is just taking a very long time because you are asking it to check a whole lot of modulo operations."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1669379914,"post_id":74572773,"comment_id":131634301,"body_markdown":"To make it (much) faster, you could divide `n` by 2 until you get an odd number.","body":"To make it (much) faster, you could divide <code>n</code> by 2 until you get an odd number."}],"answers":[{"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1669388815,"post_id":74573107,"comment_id":131637198,"body_markdown":"If `n` is power of 2 it is a 1 followed by N 0&#39;s and `n-1` is N 1&#39;s. So when you &amp; them N 0&#39;s line up with N 1&#39;s and the original 1 is beyond any other 1&#39;s. If it isn&#39;t a power of two, the leading 1b will remain even after subtracting 1.","body":"If <code>n</code> is power of 2 it is a 1 followed by N 0&#39;s and <code>n-1</code> is N 1&#39;s. So when you &amp; them N 0&#39;s line up with N 1&#39;s and the original 1 is beyond any other 1&#39;s. If it isn&#39;t a power of two, the leading 1b will remain even after subtracting 1."}],"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669509174,"creation_date":1669380737,"answer_id":74573107,"question_id":74572773,"body_markdown":"The number `1099511627776` is two to the power 40. That means it has to check through the whole big for-loop to find no odd factors. You would get the same problem, to different extents, with `2199023255552` (2 to the 41) and `549755813888` (2 to the 39). You have to wait longer if you want to do it this way.\r\n\r\nA much faster way is to divide `n` by 2 until you get an odd number.\r\n\r\nE.g.\r\n\r\n```\r\nlong n = sc.nextLong();\r\nwhile (n &gt; 1 &amp;&amp; n % 2 == 0) {\r\n   n /= 2;\r\n}\r\nif (n &gt; 1) {\r\n    System.out.println(&quot;Yes.&quot;);\r\n} else {\r\n    System.out.println(&quot;No.&quot;);\r\n}\r\n```\r\n\r\nAn even faster way to tell if a number is a power of two is a bit-twiddling hack:\r\n\r\n```\r\n// Powers of 2 have the property that n &amp; (n-1) is zero\r\nif ((n &amp; (n - 1)) != 0) {\r\n    System.out.println(&quot;Yes.&quot;); // Not a power of two, so has an odd factor\r\n} else {\r\n    System.out.println(&quot;No.&quot;); // Is a power of two, so does not have an odd factor\r\n}\r\n```","title":"Program isn&#39;t terminating for a specific input","body":"<p>The number <code>1099511627776</code> is two to the power 40. That means it has to check through the whole big for-loop to find no odd factors. You would get the same problem, to different extents, with <code>2199023255552</code> (2 to the 41) and <code>549755813888</code> (2 to the 39). You have to wait longer if you want to do it this way.</p>\n<p>A much faster way is to divide <code>n</code> by 2 until you get an odd number.</p>\n<p>E.g.</p>\n<pre><code>long n = sc.nextLong();\nwhile (n &gt; 1 &amp;&amp; n % 2 == 0) {\n   n /= 2;\n}\nif (n &gt; 1) {\n    System.out.println(&quot;Yes.&quot;);\n} else {\n    System.out.println(&quot;No.&quot;);\n}\n</code></pre>\n<p>An even faster way to tell if a number is a power of two is a bit-twiddling hack:</p>\n<pre><code>// Powers of 2 have the property that n &amp; (n-1) is zero\nif ((n &amp; (n - 1)) != 0) {\n    System.out.println(&quot;Yes.&quot;); // Not a power of two, so has an odd factor\n} else {\n    System.out.println(&quot;No.&quot;); // Is a power of two, so does not have an odd factor\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22889955,"reputation":55,"user_id":17030235,"display_name":"Jahirul Sarker"},"score":0,"creation_date":1669385068,"post_id":74573321,"comment_id":131636030,"body_markdown":"Yeah it&#39;s a great way. Bitwise operation.","body":"Yeah it&#39;s a great way. Bitwise operation."}],"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669382215,"creation_date":1669381807,"answer_id":74573321,"question_id":74572773,"body_markdown":"Can you get rid of the powers of two another way?\r\n\r\n    long number = 1099511627776l;\r\n    long r = number &gt;&gt; Long.numberOfTrailingZeros​(number);\r\n   \r\nThen r is an odd divisor, which might be greater than one.\r\n\r\nIf you think in base 10, then you know a number is divisible by ten if has a trailing zero. You can remove all of the powers of 10 by removing all of the zeros. It is the same for base 2, you can remove all of the factors of 2 by removing all of the trailing zeros (in binary representation).","title":"Program isn&#39;t terminating for a specific input","body":"<p>Can you get rid of the powers of two another way?</p>\n<pre><code>long number = 1099511627776l;\nlong r = number &gt;&gt; Long.numberOfTrailingZeros​(number);\n</code></pre>\n<p>Then r is an odd divisor, which might be greater than one.</p>\n<p>If you think in base 10, then you know a number is divisible by ten if has a trailing zero. You can remove all of the powers of 10 by removing all of the zeros. It is the same for base 2, you can remove all of the factors of 2 by removing all of the trailing zeros (in binary representation).</p>\n"}],"owner":{"account_id":22889955,"reputation":55,"user_id":17030235,"display_name":"Jahirul Sarker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74573107,"answer_count":2,"score":1,"last_activity_date":1669509174,"creation_date":1669379124,"question_id":74572773,"body_markdown":"I am trying to write a program that will let me know if a number has the odd divisor greater than one. Let&#39;s n be the number, and x be the divisor. x%2!=0 and x&gt;1;\r\nCode: \r\n```\r\nimport java.util.Scanner;\r\npublic class Simple1{\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tint t = sc.nextInt();\r\n\t\tlong n;\r\n\t\tfor(int i=0; i&lt;t; i++) {\r\n\t\t\tn=sc.nextLong();\r\n\t\t\tif(n&lt;3)System.out.println(&quot;NO&quot;);\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tif(n%2!=0)System.out.println(&quot;YES&quot;);\r\n\t\t\t\telse {\r\n\t\t\t\t\tint ans=0;\r\n\t\t\t\t\tfor(long j=3; j&lt;=n/2; j+=2) {\r\n\t\t\t\t\t\tif(n%j==0) {\r\n\t\t\t\t\t\t\tans=1;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(ans==1)System.out.println(&quot;YES&quot;);\r\n\t\t\t\t\telse System.out.println(&quot;NO&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nThis java code works fine. But it&#39;s not working for a specific input.. and that is n = 1099511627776. If I change the last digit to any int other than 6, then it works fine and gives output. Even numbers greater than that works. But only this number n=1099511627776, when I input this to my program, no terminating happens and no output. Help me to figure out what happens here.","title":"Program isn&#39;t terminating for a specific input","body":"<p>I am trying to write a program that will let me know if a number has the odd divisor greater than one. Let's n be the number, and x be the divisor. x%2!=0 and x&gt;1;\nCode:</p>\n<pre><code>import java.util.Scanner;\npublic class Simple1{\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int t = sc.nextInt();\n        long n;\n        for(int i=0; i&lt;t; i++) {\n            n=sc.nextLong();\n            if(n&lt;3)System.out.println(&quot;NO&quot;);\n            else {\n                \n                if(n%2!=0)System.out.println(&quot;YES&quot;);\n                else {\n                    int ans=0;\n                    for(long j=3; j&lt;=n/2; j+=2) {\n                        if(n%j==0) {\n                            ans=1;\n                            break;\n                        }\n                    }\n                    if(ans==1)System.out.println(&quot;YES&quot;);\n                    else System.out.println(&quot;NO&quot;);\n                }\n                \n            }\n        }\n    }\n}\n</code></pre>\n<p>This java code works fine. But it's not working for a specific input.. and that is n = 1099511627776. If I change the last digit to any int other than 6, then it works fine and gives output. Even numbers greater than that works. But only this number n=1099511627776, when I input this to my program, no terminating happens and no output. Help me to figure out what happens here.</p>\n"},{"tags":["java","android","curl"],"comments":[{"owner":{"account_id":4713856,"reputation":5579,"user_id":3813605,"display_name":"Misunderstood"},"score":0,"creation_date":1669431529,"post_id":74579174,"comment_id":131645200,"body_markdown":"Why is this tagged with PHP?","body":"Why is this tagged with PHP?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1669434021,"post_id":74579174,"comment_id":131645425,"body_markdown":"You are trying to upload a file that is on your windows pc. But you Android app on your Android device has no access to files on your pc. Or on mines.","body":"You are trying to upload a file that is on your windows pc. But you Android app on your Android device has no access to files on your pc. Or on mines."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1669439968,"post_id":74579174,"comment_id":131645982,"body_markdown":"Please search before asking, else the question may be closed. As already suggested, path `C:\\Users\\franc\\Downloads\\miau.jpg` is just wrong.","body":"Please search before asking, else the question may be closed. As already suggested, path <code>C:\\Users\\franc\\Downloads\\miau.jpg</code> is just wrong."},{"owner":{"account_id":15593970,"reputation":25,"user_id":11263425,"display_name":"Chiscu"},"score":0,"creation_date":1669489539,"post_id":74579174,"comment_id":131653882,"body_markdown":"Regarding putting it as a duplicate, I consider that it is not so. In the questions you show, there is no sending a file to a certain key. Just an upload of a file but not to a certain key. And here is the error.","body":"Regarding putting it as a duplicate, I consider that it is not so. In the questions you show, there is no sending a file to a certain key. Just an upload of a file but not to a certain key. And here is the error."},{"owner":{"account_id":15593970,"reputation":25,"user_id":11263425,"display_name":"Chiscu"},"score":0,"creation_date":1669489652,"post_id":74579174,"comment_id":131653900,"body_markdown":"On the other hand, good observation, I have already corrected the route, but it keeps giving me an error in android. In the Windows CMD console it works perfectly.","body":"On the other hand, good observation, I have already corrected the route, but it keeps giving me an error in android. In the Windows CMD console it works perfectly."}],"owner":{"account_id":15593970,"reputation":25,"user_id":11263425,"display_name":"Chiscu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669439856,"answer_count":0,"score":0,"last_activity_date":1669508874,"creation_date":1669427666,"question_id":74579174,"body_markdown":"I am successfully executing from the Windows CMD console the following instruction:\r\n\r\n&gt; `curl --user on:on --form\r\n&gt; &quot;imgupload_front=@C:\\Users\\franc\\Downloads\\miau.jpg&quot; --form\r\n&gt; code=8411916819976 --form imagefield=front --form user_id=id --form\r\n&gt; password=pass\r\n&gt; https://fr.openfoodfacts.org/cgi/product_image_upload.pl`\r\n\r\n\r\n\r\nI have added internet, internal and external storage permissions. Also: `android:usesCleartextTraffic=&quot;true&quot;`\r\n\r\nWhen I run it in android studio I change the image path to: Internal memory\\DCIM\\Screenshots\\a.jpg\r\n\r\nIs there a possibility to execute this instruction with java from android?\r\n","title":"How to run curl from android java","body":"<p>I am successfully executing from the Windows CMD console the following instruction:</p>\n<blockquote>\n<p><code>curl --user on:on --form &quot;imgupload_front=@C:\\Users\\franc\\Downloads\\miau.jpg&quot; --form code=8411916819976 --form imagefield=front --form user_id=id --form password=pass https://fr.openfoodfacts.org/cgi/product_image_upload.pl</code></p>\n</blockquote>\n<p>I have added internet, internal and external storage permissions. Also: <code>android:usesCleartextTraffic=&quot;true&quot;</code></p>\n<p>When I run it in android studio I change the image path to: Internal memory\\DCIM\\Screenshots\\a.jpg</p>\n<p>Is there a possibility to execute this instruction with java from android?</p>\n"},{"tags":["java","swing","jtree","expand"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1370571629,"creation_date":1370571629,"answer_id":16975282,"question_id":16953688,"body_markdown":"Yes to both: You can specify an empty `Icon`, as shown [here][1]. You can substitute your own implementation, as shown [here][2]. These are the relevant `UIManager` keys:\r\n\r\n    UIManager.put(&quot;Tree.collapsedIcon&quot;, empty);\r\n    UIManager.put(&quot;Tree.expandedIcon&quot;, empty);\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5263600/230513\r\n  [2]: https://stackoverflow.com/a/4641530/230513","title":"Hide/change collapse [-] and expand [ ] button on JTree","body":"<p>Yes to both: You can specify an empty <code>Icon</code>, as shown <a href=\"https://stackoverflow.com/a/5263600/230513\">here</a>. You can substitute your own implementation, as shown <a href=\"https://stackoverflow.com/a/4641530/230513\">here</a>. These are the relevant <code>UIManager</code> keys:</p>\n\n<pre><code>UIManager.put(\"Tree.collapsedIcon\", empty);\nUIManager.put(\"Tree.expandedIcon\", empty);\n</code></pre>\n"}],"owner":{"account_id":2485183,"reputation":33,"user_id":2163741,"display_name":"dozmic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2032,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":16975282,"answer_count":1,"score":3,"last_activity_date":1669508759,"creation_date":1370492928,"question_id":16953688,"body_markdown":"Is there a way to hide the collapse [-] and expand [+] button on a java file `JTree`?  \r\n\r\nIf it&#39;s not possible, is there a way to change it to a different icon?\r\n","title":"Hide/change collapse [-] and expand [ ] button on JTree","body":"<p>Is there a way to hide the collapse [-] and expand [+] button on a java file <code>JTree</code>?</p>\n<p>If it's not possible, is there a way to change it to a different icon?</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"comments":[{"owner":{"account_id":27047695,"reputation":3,"user_id":20601619,"display_name":"Aurovindo Sahu"},"score":0,"creation_date":1669490510,"post_id":74583137,"comment_id":131654062,"body_markdown":"can you please help me to form the query?","body":"can you please help me to form the query?"}],"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669505053,"creation_date":1669474109,"answer_id":74583137,"question_id":74576470,"body_markdown":"I believe the solution is to use [Script based sorting][1]. \r\n\r\n\r\n    PUT idx_sort\r\n    {\r\n      &quot;mappings&quot;: {\r\n          &quot;properties&quot;: {\r\n            &quot;createdAt&quot;: {\r\n              &quot;type&quot;: &quot;date&quot;\r\n            },\r\n            &quot;tags&quot;: {\r\n              &quot;type&quot;: &quot;keyword&quot;\r\n            }\r\n          }\r\n        }\r\n    }\r\n    \r\n    POST idx_sort/_doc\r\n    {\r\n        &quot;createdAt&quot;: &quot;2022-11-25T09:45:00.000Z&quot;,\r\n        &quot;tags&quot;: [\r\n          &quot;Response Needed&quot;\r\n        ]\r\n    }\r\n    \r\n    POST idx_sort/_doc\r\n    {\r\n        &quot;createdAt&quot;: &quot;2022-11-24T09:45:00.000Z&quot;,\r\n        &quot;tags&quot;: [\r\n          &quot;Response 02&quot;\r\n        ]\r\n    }\r\n    \r\n    POST idx_sort/_doc\r\n    {\r\n        &quot;createdAt&quot;: &quot;2022-11-24T09:45:00.000Z&quot;,\r\n        &quot;tags&quot;: [\r\n          &quot;Customer care&quot;,&quot;Response Needed&quot;\r\n        ]\r\n    }\r\n    \r\n    POST idx_sort/_doc\r\n    {\r\n        &quot;createdAt&quot;: &quot;2022-11-24T09:45:00.000Z&quot;,\r\n        &quot;tags&quot;: [\r\n         \r\n        ]\r\n    }\r\n\r\nQuery\r\n\r\n    GET idx_sort/_search\r\n    {\r\n      &quot;sort&quot;: [\r\n        {\r\n          &quot;_script&quot;: {\r\n            &quot;type&quot;: &quot;number&quot;,\r\n            &quot;script&quot;: {\r\n              &quot;lang&quot;: &quot;painless&quot;,\r\n              &quot;source&quot;: &quot;&quot;&quot;\r\n              def list = doc[&#39;tags.keyword&#39;];\r\n              if(list.size() &gt; 0){\r\n                return list.size();\r\n              } else {\r\n                return 0;\r\n              }\r\n              &quot;&quot;&quot;\r\n            },\r\n            &quot;order&quot;: &quot;desc&quot;\r\n          }\r\n        },\r\n        {\r\n          &quot;createdAt&quot;: {\r\n            &quot;order&quot;: &quot;asc&quot;\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\r\nResponse\r\n\r\n    &quot;hits&quot;: [\r\n          {\r\n            &quot;_index&quot;: &quot;idx_sort&quot;,\r\n            &quot;_id&quot;: &quot;j489toQBEoAIompjkkXO&quot;,\r\n            &quot;_score&quot;: null,\r\n            &quot;_source&quot;: {\r\n              &quot;createdAt&quot;: &quot;2022-11-24T09:45:00.000Z&quot;,\r\n              &quot;tags&quot;: [\r\n                &quot;Response 02&quot;\r\n              ]\r\n            },\r\n            &quot;sort&quot;: [\r\n              1,\r\n              1669283100000\r\n            ]\r\n          },\r\n          {\r\n            &quot;_index&quot;: &quot;idx_sort&quot;,\r\n            &quot;_id&quot;: &quot;kI89toQBEoAIompjxkWN&quot;,\r\n            &quot;_score&quot;: null,\r\n            &quot;_source&quot;: {\r\n              &quot;createdAt&quot;: &quot;2022-11-24T09:45:00.000Z&quot;,\r\n              &quot;tags&quot;: [\r\n                &quot;Customer care&quot;,\r\n                &quot;Response Needed&quot;\r\n              ]\r\n            },\r\n            &quot;sort&quot;: [\r\n              1,\r\n              1669283100000\r\n            ]\r\n          },\r\n          {\r\n            &quot;_index&quot;: &quot;idx_sort&quot;,\r\n            &quot;_id&quot;: &quot;jo83toQBEoAIompjcEXD&quot;,\r\n            &quot;_score&quot;: null,\r\n            &quot;_source&quot;: {\r\n              &quot;createdAt&quot;: &quot;2022-11-25T09:45:00.000Z&quot;,\r\n              &quot;tags&quot;: [\r\n                &quot;Response Needed&quot;\r\n              ]\r\n            },\r\n            &quot;sort&quot;: [\r\n              1,\r\n              1669369500000\r\n            ]\r\n          },\r\n          {\r\n            &quot;_index&quot;: &quot;idx_sort&quot;,\r\n            &quot;_id&quot;: &quot;kY8-toQBEoAIompj6kXg&quot;,\r\n            &quot;_score&quot;: null,\r\n            &quot;_source&quot;: {\r\n              &quot;createdAt&quot;: &quot;2022-11-24T09:45:00.000Z&quot;,\r\n              &quot;tags&quot;: []\r\n            },\r\n            &quot;sort&quot;: [\r\n              0,\r\n              1669283100000\r\n            ]\r\n          }\r\n        ]\r\n    \r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/sort-search-results.html#script-based-sorting\r\n","title":"Not able sort based on multiple text field in elastic-search","body":"<p>I believe the solution is to use <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/sort-search-results.html#script-based-sorting\" rel=\"nofollow noreferrer\">Script based sorting</a>.</p>\n<pre><code>PUT idx_sort\n{\n  &quot;mappings&quot;: {\n      &quot;properties&quot;: {\n        &quot;createdAt&quot;: {\n          &quot;type&quot;: &quot;date&quot;\n        },\n        &quot;tags&quot;: {\n          &quot;type&quot;: &quot;keyword&quot;\n        }\n      }\n    }\n}\n\nPOST idx_sort/_doc\n{\n    &quot;createdAt&quot;: &quot;2022-11-25T09:45:00.000Z&quot;,\n    &quot;tags&quot;: [\n      &quot;Response Needed&quot;\n    ]\n}\n\nPOST idx_sort/_doc\n{\n    &quot;createdAt&quot;: &quot;2022-11-24T09:45:00.000Z&quot;,\n    &quot;tags&quot;: [\n      &quot;Response 02&quot;\n    ]\n}\n\nPOST idx_sort/_doc\n{\n    &quot;createdAt&quot;: &quot;2022-11-24T09:45:00.000Z&quot;,\n    &quot;tags&quot;: [\n      &quot;Customer care&quot;,&quot;Response Needed&quot;\n    ]\n}\n\nPOST idx_sort/_doc\n{\n    &quot;createdAt&quot;: &quot;2022-11-24T09:45:00.000Z&quot;,\n    &quot;tags&quot;: [\n     \n    ]\n}\n</code></pre>\n<p>Query</p>\n<pre><code>GET idx_sort/_search\n{\n  &quot;sort&quot;: [\n    {\n      &quot;_script&quot;: {\n        &quot;type&quot;: &quot;number&quot;,\n        &quot;script&quot;: {\n          &quot;lang&quot;: &quot;painless&quot;,\n          &quot;source&quot;: &quot;&quot;&quot;\n          def list = doc['tags.keyword'];\n          if(list.size() &gt; 0){\n            return list.size();\n          } else {\n            return 0;\n          }\n          &quot;&quot;&quot;\n        },\n        &quot;order&quot;: &quot;desc&quot;\n      }\n    },\n    {\n      &quot;createdAt&quot;: {\n        &quot;order&quot;: &quot;asc&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<p>Response</p>\n<pre><code>&quot;hits&quot;: [\n      {\n        &quot;_index&quot;: &quot;idx_sort&quot;,\n        &quot;_id&quot;: &quot;j489toQBEoAIompjkkXO&quot;,\n        &quot;_score&quot;: null,\n        &quot;_source&quot;: {\n          &quot;createdAt&quot;: &quot;2022-11-24T09:45:00.000Z&quot;,\n          &quot;tags&quot;: [\n            &quot;Response 02&quot;\n          ]\n        },\n        &quot;sort&quot;: [\n          1,\n          1669283100000\n        ]\n      },\n      {\n        &quot;_index&quot;: &quot;idx_sort&quot;,\n        &quot;_id&quot;: &quot;kI89toQBEoAIompjxkWN&quot;,\n        &quot;_score&quot;: null,\n        &quot;_source&quot;: {\n          &quot;createdAt&quot;: &quot;2022-11-24T09:45:00.000Z&quot;,\n          &quot;tags&quot;: [\n            &quot;Customer care&quot;,\n            &quot;Response Needed&quot;\n          ]\n        },\n        &quot;sort&quot;: [\n          1,\n          1669283100000\n        ]\n      },\n      {\n        &quot;_index&quot;: &quot;idx_sort&quot;,\n        &quot;_id&quot;: &quot;jo83toQBEoAIompjcEXD&quot;,\n        &quot;_score&quot;: null,\n        &quot;_source&quot;: {\n          &quot;createdAt&quot;: &quot;2022-11-25T09:45:00.000Z&quot;,\n          &quot;tags&quot;: [\n            &quot;Response Needed&quot;\n          ]\n        },\n        &quot;sort&quot;: [\n          1,\n          1669369500000\n        ]\n      },\n      {\n        &quot;_index&quot;: &quot;idx_sort&quot;,\n        &quot;_id&quot;: &quot;kY8-toQBEoAIompj6kXg&quot;,\n        &quot;_score&quot;: null,\n        &quot;_source&quot;: {\n          &quot;createdAt&quot;: &quot;2022-11-24T09:45:00.000Z&quot;,\n          &quot;tags&quot;: []\n        },\n        &quot;sort&quot;: [\n          0,\n          1669283100000\n        ]\n      }\n    ]\n</code></pre>\n"}],"owner":{"account_id":27047695,"reputation":3,"user_id":20601619,"display_name":"Aurovindo Sahu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74583137,"answer_count":1,"score":-1,"last_activity_date":1669505053,"creation_date":1669399121,"question_id":74576470,"body_markdown":"\r\n```\r\ndoc1: \r\n{\r\n    &quot;createdAt&quot;: &quot;2022-11-25T09:45:00.000Z&quot;,\r\n    &quot;tags&quot;: [\r\n      &quot;Response Needed&quot;\r\n    ]\r\n}\r\ndoc2 :\r\n{\r\n    &quot;createdAt&quot;: &quot;2022-11-24T09:45:00.000Z&quot;,\r\n    &quot;tags&quot;: [\r\n      &quot;Customer care&quot;,&quot;Response Needed&quot;\r\n    ]\r\n}\r\ndoc3 :\r\n{\r\n    &quot;createdAt&quot;: &quot;2022-11-24T09:45:00.000Z&quot;,\r\n    &quot;tags&quot;: [\r\n     \r\n    ]\r\n}\r\n```\r\n\r\n\r\nI want to sort the below documents based on tags first and then createdAt.\r\nIf tags is present then it should be in ascending order of createdAt otherwise if tags is blank then it should be in sort based on createdAt in Descending order.","title":"Not able sort based on multiple text field in elastic-search","body":"<pre><code>doc1: \n{\n    &quot;createdAt&quot;: &quot;2022-11-25T09:45:00.000Z&quot;,\n    &quot;tags&quot;: [\n      &quot;Response Needed&quot;\n    ]\n}\ndoc2 :\n{\n    &quot;createdAt&quot;: &quot;2022-11-24T09:45:00.000Z&quot;,\n    &quot;tags&quot;: [\n      &quot;Customer care&quot;,&quot;Response Needed&quot;\n    ]\n}\ndoc3 :\n{\n    &quot;createdAt&quot;: &quot;2022-11-24T09:45:00.000Z&quot;,\n    &quot;tags&quot;: [\n     \n    ]\n}\n</code></pre>\n<p>I want to sort the below documents based on tags first and then createdAt.\nIf tags is present then it should be in ascending order of createdAt otherwise if tags is blank then it should be in sort based on createdAt in Descending order.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1666289375,"post_id":74144454,"comment_id":130907637,"body_markdown":"Welcome to Stack Overflow.  What error is it throwing?  Please put the error in your question, including the stack trace.","body":"Welcome to Stack Overflow.  What error is it throwing?  Please put the error in your question, including the stack trace."},{"owner":{"account_id":21652162,"reputation":1,"user_id":20294358,"display_name":"Harsh"},"score":0,"creation_date":1666289656,"post_id":74144454,"comment_id":130907744,"body_markdown":"Sorry about that I just updated it.","body":"Sorry about that I just updated it."},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":0,"creation_date":1666290023,"post_id":74144454,"comment_id":130907853,"body_markdown":"You are trying to extract the first character from an empty String and Java is complaining that this is not allowed. . Best to run the code using your IDE&#39;s debug mode to see why this is happening","body":"You are trying to extract the first character from an empty String and Java is complaining that this is not allowed. . Best to run the code using your IDE&#39;s debug mode to see why this is happening"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":2,"creation_date":1666290434,"post_id":74144454,"comment_id":130907976,"body_markdown":"You are removing items from lists that you are iterating over.  This is generally a bad idea, and is going to screw up your logic.  When you remove an item from a list, all items after that shift down one slot.  But you increment the loop index anyway.  At best, you&#39;re skipping characters you should be considering, and worse, you&#39;re going to crash like you&#39;re seeing.  You need to rethink how your loops work to allow for the fact that your removing items shifts other items down.","body":"You are removing items from lists that you are iterating over.  This is generally a bad idea, and is going to screw up your logic.  When you remove an item from a list, all items after that shift down one slot.  But you increment the loop index anyway.  At best, you&#39;re skipping characters you should be considering, and worse, you&#39;re going to crash like you&#39;re seeing.  You need to rethink how your loops work to allow for the fact that your removing items shifts other items down."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1666290671,"post_id":74144454,"comment_id":130908060,"body_markdown":"You might want to consider using the StringBuffer class.  It would clean up your code and avoid having to explicitly copy your input strings character by character.","body":"You might want to consider using the StringBuffer class.  It would clean up your code and avoid having to explicitly copy your input strings character by character."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666291508,"creation_date":1666291508,"answer_id":74144888,"question_id":74144454,"body_markdown":"On each iteration of this loop:\r\n\r\n&gt;                     for (int i = 0; i &lt; ransomChar.size(); i++) {\r\n&gt;                         boolean flag = false;\r\n&gt;                         for (int j = 0; j &lt; magazineChar.size(); j++) {\r\n&gt;                             if (ransomChar.get(i).equals(magazineChar.get(j))) {\r\n&gt;                                 ransomChar.remove(i);\r\n&gt;                                 magazineChar.remove(j);\r\n&gt;                                 flag = true;\r\n&gt;                             }\r\n&gt;                             else if (ransomChar.isEmpty()) {\r\n&gt;                                 return true;\r\n&gt;                             }\r\n&gt;                         }\r\n&gt;                         if (!flag) {\r\n&gt;                             return false;\r\n&gt;                         }\r\n&gt;                     }\r\n\r\n, you know that `i` is *initially* less than `ransomChar.size()`, so that it is safe to perform `ransomChar.get(i)`.\r\n\r\nHowever, the inner loop may remove one (or more!) elements of `ransomChar`, after which it may no longer be true that `i` is less than `ransomChar.size()`.  The inner loop continues to iterate, and as a result, it can attempt to retrieve an element of `ransomChar` that does not exist.\r\n\r\nHonestly, the code overall is a mess.  Other than this specific issue,\r\n\r\n - I see no need why you need special cases for all the variations on sizes of note and magazine.  I think you might write better code for this if you devoted some effort to designing an approach that just works correctly for all cases.\r\n\r\n - you are not making good use of the available features of the classes you are using\r\n\r\n - you are not making good use of general Java language features that would be applicable.\r\n\r\nFor example, I might write that particular loop as:\r\n```\r\n                for (Character c : ransomChar) {\r\n                    if (!magazineChar.remove(c)) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n```\r\n\r\n----\r\nAnd that&#39;s before we come to the fact that you&#39;ve chosen a suboptimal algorithm.  Its execution time will scale as note size * magazine size, whereas there are alternatives that will scale as note size + magazine size, instead.  That may in fact be important, because choice of an efficient algorithm is one thing that the test cases for coding challenges such as this often try to detect.","title":"Can&#39;t find the problem with my solution to leetcode problem","body":"<p>On each iteration of this loop:</p>\n<blockquote>\n<pre><code>                for (int i = 0; i &lt; ransomChar.size(); i++) {\n                    boolean flag = false;\n                    for (int j = 0; j &lt; magazineChar.size(); j++) {\n                        if (ransomChar.get(i).equals(magazineChar.get(j))) {\n                            ransomChar.remove(i);\n                            magazineChar.remove(j);\n                            flag = true;\n                        }\n                        else if (ransomChar.isEmpty()) {\n                            return true;\n                        }\n                    }\n                    if (!flag) {\n                        return false;\n                    }\n                }\n</code></pre>\n</blockquote>\n<p>, you know that <code>i</code> is <em>initially</em> less than <code>ransomChar.size()</code>, so that it is safe to perform <code>ransomChar.get(i)</code>.</p>\n<p>However, the inner loop may remove one (or more!) elements of <code>ransomChar</code>, after which it may no longer be true that <code>i</code> is less than <code>ransomChar.size()</code>.  The inner loop continues to iterate, and as a result, it can attempt to retrieve an element of <code>ransomChar</code> that does not exist.</p>\n<p>Honestly, the code overall is a mess.  Other than this specific issue,</p>\n<ul>\n<li><p>I see no need why you need special cases for all the variations on sizes of note and magazine.  I think you might write better code for this if you devoted some effort to designing an approach that just works correctly for all cases.</p>\n</li>\n<li><p>you are not making good use of the available features of the classes you are using</p>\n</li>\n<li><p>you are not making good use of general Java language features that would be applicable.</p>\n</li>\n</ul>\n<p>For example, I might write that particular loop as:</p>\n<pre><code>                for (Character c : ransomChar) {\n                    if (!magazineChar.remove(c)) {\n                        return false;\n                    }\n                }\n                return true;\n</code></pre>\n<hr />\n<p>And that's before we come to the fact that you've chosen a suboptimal algorithm.  Its execution time will scale as note size * magazine size, whereas there are alternatives that will scale as note size + magazine size, instead.  That may in fact be important, because choice of an efficient algorithm is one thing that the test cases for coding challenges such as this often try to detect.</p>\n"},{"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669504771,"post_id":74144898,"comment_id":131656435,"body_markdown":"Using Guava&#39;s `MultiSet` is a very interesting idea (*though not sure if LeetCode supports this library*). In the similar way, it can be achieved using a standard `Map&lt;Character,Integer&gt;`. To generate a histogram, we can use `merge(magazine.charAt(i),1,Integer::sum)`. And to verify whether it&#39;s possible to contract the given `String`, a contains check with `coupute(c, (k,v) -&gt; v == 1 ? null : v - 1)` (or old good `put` + get`).","body":"Using Guava&#39;s <code>MultiSet</code> is a very interesting idea (<i>though not sure if LeetCode supports this library</i>). In the similar way, it can be achieved using a standard <code>Map&lt;Character,Integer&gt;</code>. To generate a histogram, we can use <code>merge(magazine.charAt(i),1,Integer::sum)</code>. And to verify whether it&#39;s possible to contract the given <code>String</code>, a contains check with <code>coupute(c, (k,v) -&gt; v == 1 ? null : v - 1)</code> (or old good <code>put</code> + get`)."}],"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669504825,"creation_date":1666291557,"answer_id":74144898,"question_id":74144454,"body_markdown":"Here&#39;s a simple way to attack your problem by building a set of candidate characters from `magazine`.  Once you&#39;ve done that, you just iterate over the `ransomNote`, checking the set for each character.  If you find it, you remove it from the set.  If you don&#39;t, then you return `false`.  If you make it all the way through, you return `true`.  You need to use a `MultiSet` because you need to be able to represent multiple copies of the same character in the magazine.\r\n\r\nHere&#39;s how to do that:\r\n\r\n    public static boolean canConstruct(String ransomNote, String magazine) {\r\n        MultiSet&lt;Character&gt; magazineChars = new HashMultiSet&lt;&gt;();\r\n        for (int i = 0; i &lt; magazine.length(); i++)\r\n            magazineChars.add(magazine.charAt(i));\r\n        for (int i = 0 ; i &lt; ransomNote.length(); i++) {\r\n            Character c = ransomNote.charAt(i);\r\n            if (magazineChars.contains(c))\r\n                magazineChars.remove(c);\r\n            else\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n","title":"Can&#39;t find the problem with my solution to leetcode problem","body":"<p>Here's a simple way to attack your problem by building a set of candidate characters from <code>magazine</code>.  Once you've done that, you just iterate over the <code>ransomNote</code>, checking the set for each character.  If you find it, you remove it from the set.  If you don't, then you return <code>false</code>.  If you make it all the way through, you return <code>true</code>.  You need to use a <code>MultiSet</code> because you need to be able to represent multiple copies of the same character in the magazine.</p>\n<p>Here's how to do that:</p>\n<pre><code>public static boolean canConstruct(String ransomNote, String magazine) {\n    MultiSet&lt;Character&gt; magazineChars = new HashMultiSet&lt;&gt;();\n    for (int i = 0; i &lt; magazine.length(); i++)\n        magazineChars.add(magazine.charAt(i));\n    for (int i = 0 ; i &lt; ransomNote.length(); i++) {\n        Character c = ransomNote.charAt(i);\n        if (magazineChars.contains(c))\n            magazineChars.remove(c);\n        else\n            return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24825044,"reputation":1251,"user_id":18704952,"display_name":"Pradeep Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666359259,"creation_date":1666292136,"answer_id":74144996,"question_id":74144454,"body_markdown":"Please find small and simple solution with Time complexity O(n) and Space complexity O(256) or O(1)\r\n\r\n```\r\n int[] count = new int[256];\r\n        for (char c : magazine.toCharArray()) {\r\n            count[c]++;\r\n        }\r\n        for (char c : ransomNote.toCharArray()) {\r\n            if (count[c]-- == 0) return false;\r\n        }\r\n        return true;  \r\n```\r\n\r\n**Result**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GfSc3.png","title":"Can&#39;t find the problem with my solution to leetcode problem","body":"<p>Please find small and simple solution with Time complexity O(n) and Space complexity O(256) or O(1)</p>\n<pre><code> int[] count = new int[256];\n        for (char c : magazine.toCharArray()) {\n            count[c]++;\n        }\n        for (char c : ransomNote.toCharArray()) {\n            if (count[c]-- == 0) return false;\n        }\n        return true;  \n</code></pre>\n<p><strong>Result</strong></p>\n<p><a href=\"https://i.stack.imgur.com/GfSc3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GfSc3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":26632363,"reputation":1,"user_id":20249367,"display_name":"Ashutosh Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666682553,"creation_date":1666296663,"answer_id":74145799,"question_id":74144454,"body_markdown":"@Harsh so you are trying to access the element of ransomChar which do not even exists. look at the lines\r\n\r\n```java                                                                    \r\nif (ransomChar.get(i).equals(magazineChar.get(j))) {\r\n    ransomChar.remove(i);\r\n    magazineChar.remove(j);\r\n    flag = true;\r\n}\r\n```\r\nyou are removing the elements from the lists and and every time you remove the elements from the list their indexing changes and and when it rechecks the condition the list is already empty after several iteration. Hence giving the run time error. to avoid this you should check whether the list is empty or not , first (you are checking it after). ","title":"Can&#39;t find the problem with my solution to leetcode problem","body":"<p>@Harsh so you are trying to access the element of ransomChar which do not even exists. look at the lines</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (ransomChar.get(i).equals(magazineChar.get(j))) {\n    ransomChar.remove(i);\n    magazineChar.remove(j);\n    flag = true;\n}\n</code></pre>\n<p>you are removing the elements from the lists and and every time you remove the elements from the list their indexing changes and and when it rechecks the condition the list is already empty after several iteration. Hence giving the run time error. to avoid this you should check whether the list is empty or not , first (you are checking it after).</p>\n"}],"owner":{"account_id":21652162,"reputation":1,"user_id":20294358,"display_name":"Harsh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":4,"score":-2,"last_activity_date":1669504825,"creation_date":1666289258,"question_id":74144454,"body_markdown":"I am trying the ransom note challenge:\r\n \r\nGiven two strings ransomNote and magazine, return true if ransomNote can be constructed by using the letters from magazine and false otherwise.\r\n\r\nEach letter in magazine can only be used once in ransomNote.\r\n\r\n \r\n\r\nExample 1:\r\n\r\nInput: ransomNote = &quot;a&quot;, magazine = &quot;b&quot;\r\nOutput: false\r\nExample 2:\r\n\r\nInput: ransomNote = &quot;aa&quot;, magazine = &quot;ab&quot;\r\nOutput: false\r\nExample 3:\r\n\r\nInput: ransomNote = &quot;aa&quot;, magazine = &quot;aab&quot;\r\nOutput: true\r\n\r\nhere is my solution:\r\n```\r\npublic static boolean canConstruct(String ransomNote, String magazine) {\r\n        ArrayList&lt;Character&gt; ransomChar = new ArrayList&lt;Character&gt;();\r\n        ArrayList&lt;Character&gt; magazineChar = new ArrayList&lt;Character&gt;();\r\n\r\n        if (ransomNote.length() == 1 &amp;&amp; magazine.length() == 1) {\r\n            if (ransomNote.equals(magazine)) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        else if (ransomNote.length() == 1 &amp;&amp; magazine.length() &gt; 1) {\r\n            for (int i = 0; i &lt; magazine.length(); i++) {\r\n                if (magazine.charAt(i) == ransomNote.charAt(0)) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        else if (ransomNote.length() &gt; 1 &amp;&amp; magazine.length() &gt; 1) {\r\n            for (int i = 0; i &lt; ransomNote.length(); i++) {\r\n                ransomChar.add(ransomNote.charAt(i));\r\n            }\r\n            for (int i = 0; i &lt; magazine.length(); i++) {\r\n                magazineChar.add(magazine.charAt(i));\r\n            }\r\n            while (ransomChar.size() &gt; 1) {\r\n                for (int i = 0; i &lt; ransomChar.size(); i++) {\r\n                    boolean flag = false;\r\n                    for (int j = 0; j &lt; magazineChar.size(); j++) {\r\n                        if (ransomChar.get(i).equals(magazineChar.get(j))) {\r\n                            ransomChar.remove(i);\r\n                            magazineChar.remove(j);\r\n                            flag = true;\r\n                        }\r\n                        else if (ransomChar.isEmpty()) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                    if (!flag) {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            if (ransomChar.size() == 1 &amp;&amp; magazineChar.size() == 1) {\r\n                if (ransomChar.equals(magazineChar)) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n\r\n            else if (ransomChar.size() == 1 &amp;&amp; magazineChar.size() &gt; 1) {\r\n                for (int i = 0; i &lt; magazineChar.size(); i++) {\r\n                    if (ransomChar.get(0).equals(magazineChar.get(i))) {\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n```\r\nI am passing most test cases but it throws an error at input: \r\n```\r\n    &quot;bg&quot;\r\n    &quot;efjbdfbdgfjhhaiigfhbaejahgfbbgbjagbddfgdiaigdadhcfcj&quot;\r\n```\r\nIt throws error:\r\n```\r\njava.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\r\nat line: if (ransomChar.get(i).equals(magazineChar.get(j)))\r\n```","title":"Can&#39;t find the problem with my solution to leetcode problem","body":"<p>I am trying the ransom note challenge:</p>\n<p>Given two strings ransomNote and magazine, return true if ransomNote can be constructed by using the letters from magazine and false otherwise.</p>\n<p>Each letter in magazine can only be used once in ransomNote.</p>\n<p>Example 1:</p>\n<p>Input: ransomNote = &quot;a&quot;, magazine = &quot;b&quot;\nOutput: false\nExample 2:</p>\n<p>Input: ransomNote = &quot;aa&quot;, magazine = &quot;ab&quot;\nOutput: false\nExample 3:</p>\n<p>Input: ransomNote = &quot;aa&quot;, magazine = &quot;aab&quot;\nOutput: true</p>\n<p>here is my solution:</p>\n<pre><code>public static boolean canConstruct(String ransomNote, String magazine) {\n        ArrayList&lt;Character&gt; ransomChar = new ArrayList&lt;Character&gt;();\n        ArrayList&lt;Character&gt; magazineChar = new ArrayList&lt;Character&gt;();\n\n        if (ransomNote.length() == 1 &amp;&amp; magazine.length() == 1) {\n            if (ransomNote.equals(magazine)) {\n                return true;\n            }\n            return false;\n        }\n\n        else if (ransomNote.length() == 1 &amp;&amp; magazine.length() &gt; 1) {\n            for (int i = 0; i &lt; magazine.length(); i++) {\n                if (magazine.charAt(i) == ransomNote.charAt(0)) {\n                    return true;\n                }\n            }\n            return false;\n        }\n        else if (ransomNote.length() &gt; 1 &amp;&amp; magazine.length() &gt; 1) {\n            for (int i = 0; i &lt; ransomNote.length(); i++) {\n                ransomChar.add(ransomNote.charAt(i));\n            }\n            for (int i = 0; i &lt; magazine.length(); i++) {\n                magazineChar.add(magazine.charAt(i));\n            }\n            while (ransomChar.size() &gt; 1) {\n                for (int i = 0; i &lt; ransomChar.size(); i++) {\n                    boolean flag = false;\n                    for (int j = 0; j &lt; magazineChar.size(); j++) {\n                        if (ransomChar.get(i).equals(magazineChar.get(j))) {\n                            ransomChar.remove(i);\n                            magazineChar.remove(j);\n                            flag = true;\n                        }\n                        else if (ransomChar.isEmpty()) {\n                            return true;\n                        }\n                    }\n                    if (!flag) {\n                        return false;\n                    }\n                }\n            }\n            \n            if (ransomChar.size() == 1 &amp;&amp; magazineChar.size() == 1) {\n                if (ransomChar.equals(magazineChar)) {\n                    return true;\n                }\n                return false;\n            }\n\n            else if (ransomChar.size() == 1 &amp;&amp; magazineChar.size() &gt; 1) {\n                for (int i = 0; i &lt; magazineChar.size(); i++) {\n                    if (ransomChar.get(0).equals(magazineChar.get(i))) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n        }\n        return false;\n    }\n</code></pre>\n<p>I am passing most test cases but it throws an error at input:</p>\n<pre><code>    &quot;bg&quot;\n    &quot;efjbdfbdgfjhhaiigfhbaejahgfbbgbjagbddfgdiaigdadhcfcj&quot;\n</code></pre>\n<p>It throws error:</p>\n<pre><code>java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\nat line: if (ransomChar.get(i).equals(magazineChar.get(j)))\n</code></pre>\n"},{"tags":["java","spring-webflux","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":25374228,"reputation":13,"user_id":19187586,"display_name":"opoa"},"score":0,"creation_date":1669653793,"post_id":74586325,"comment_id":131685995,"body_markdown":"Thanks. It looks clear and help me a lot. I wonder why `doOnNext` wasn&#39;t affected by `repeat` in my second example code.because it is a non-side-effects consumer? could I understand that `repeat` executed when the streams were switched at the first time.\n`doOnNext` won&#39;t switch the streams, but `then` will.","body":"Thanks. It looks clear and help me a lot. I wonder why <code>doOnNext</code> wasn&#39;t affected by <code>repeat</code> in my second example code.because it is a non-side-effects consumer? could I understand that <code>repeat</code> executed when the streams were switched at the first time. <code>doOnNext</code> won&#39;t switch the streams, but <code>then</code> will."}],"tags":[],"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669504659,"creation_date":1669504659,"answer_id":74586325,"question_id":74584235,"body_markdown":"When you call `then` operator on a `Flux` it will be executed exactly once **after** the `Flux` **completed** including repeats. It doesn&#39;t care about how many elements there were before it. That&#39;s why you see only a single `hello` in the last example. Added comments at the end of the line to see the switch between the two types.\r\n```java\r\nMono.just(5)\r\n        .doOnNext(i -&gt; System.out.println(&quot;next 1: &quot; + i)) // mono\r\n        .repeat(2) // flux\r\n        .doOnNext(i -&gt; System.out.println(&quot;next 2: &quot; + i))  // flux\r\n        .then(Mono.just(&quot;hello&quot;)) // mono  (triggered after previous Flux completed)\r\n        .doOnNext(i -&gt; System.out.println(&quot;next 3: &quot; + i)) // mono \r\n        .subscribe();\r\n```\r\n\r\nIf the `then` operator comes before `repeat`, then it will be repeated like everything else","title":"Webflux repeat method has strange behaviors with different operators","body":"<p>When you call <code>then</code> operator on a <code>Flux</code> it will be executed exactly once <strong>after</strong> the <code>Flux</code> <strong>completed</strong> including repeats. It doesn't care about how many elements there were before it. That's why you see only a single <code>hello</code> in the last example. Added comments at the end of the line to see the switch between the two types.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono.just(5)\n        .doOnNext(i -&gt; System.out.println(&quot;next 1: &quot; + i)) // mono\n        .repeat(2) // flux\n        .doOnNext(i -&gt; System.out.println(&quot;next 2: &quot; + i))  // flux\n        .then(Mono.just(&quot;hello&quot;)) // mono  (triggered after previous Flux completed)\n        .doOnNext(i -&gt; System.out.println(&quot;next 3: &quot; + i)) // mono \n        .subscribe();\n</code></pre>\n<p>If the <code>then</code> operator comes before <code>repeat</code>, then it will be repeated like everything else</p>\n"}],"owner":{"account_id":25374228,"reputation":13,"user_id":19187586,"display_name":"opoa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669504659,"creation_date":1669483318,"question_id":74584235,"body_markdown":"Repeat operator could make stream re-subscribe, and I found some behaviors in different situations.\r\n\r\nexample code as below:\r\n\r\n```java\r\nMono.just(5)\r\n        .doOnNext(i -&gt; System.out.println(&quot;next 1: &quot; + i))\r\n        .doOnNext(i -&gt; System.out.println(&quot;next 2: &quot; + i))\r\n        .doOnNext(i -&gt; System.out.println(&quot;next 3: &quot; + i))\r\n        .repeat(2)\r\n        .subscribe();\r\n```\r\n\r\noutput:\r\n\r\n```\r\nnext 1: 5\r\nnext 2: 5\r\nnext 3: 5\r\nnext 1: 5\r\nnext 2: 5\r\nnext 3: 5\r\nnext 1: 5\r\nnext 2: 5\r\nnext 3: 5\r\n```\r\n\r\nit&#39;s certainly right. then I change the repeat position.\r\n\r\n```java\r\nMono.just(5)\r\n        .doOnNext(i -&gt; System.out.println(&quot;next 1: &quot; + i))\r\n        .repeat(2)\r\n        .doOnNext(i -&gt; System.out.println(&quot;next 2: &quot; + i))\r\n        .doOnNext(i -&gt; System.out.println(&quot;next 3: &quot; + i))\r\n        .subscribe();\r\n```\r\n\r\noutput is the same as before.\r\n\r\n```\r\nnext 1: 5\r\nnext 2: 5\r\nnext 3: 5\r\nnext 1: 5\r\nnext 2: 5\r\nnext 3: 5\r\nnext 1: 5\r\nnext 2: 5\r\nnext 3: 5\r\n```\r\n\r\nSo I think it **cannot affect origin streams&#39; execution order.**\r\n\r\nwhen I add then operator into streams.\r\n\r\n```java\r\nMono.just(5)\r\n        .doOnNext(i -&gt; System.out.println(&quot;next 1: &quot; + i))\r\n        .doOnNext(i -&gt; System.out.println(&quot;next 2: &quot; + i))\r\n        .then(Mono.just(&quot;hello&quot;))\r\n        .doOnNext(i -&gt; System.out.println(&quot;next 3: &quot; + i))\r\n        .repeat(2)\r\n        .subscribe();\r\n```\r\n\r\noutput:\r\n\r\n```\r\nnext 1: 5\r\nnext 2: 5\r\nnext 3: hello\r\nnext 1: 5\r\nnext 2: 5\r\nnext 3: hello\r\nnext 1: 5\r\nnext 2: 5\r\nnext 3: hello\r\n```\r\n\r\nIt looks like re-subscribed all streams, and I change the position again.\r\n\r\n```java\r\nMono.just(5)\r\n        .doOnNext(i -&gt; System.out.println(&quot;next 1: &quot; + i))\r\n        .repeat(2)\r\n        .doOnNext(i -&gt; System.out.println(&quot;next 2: &quot; + i))\r\n        .then(Mono.just(&quot;hello&quot;))\r\n        .doOnNext(i -&gt; System.out.println(&quot;next 3: &quot; + i))\r\n        .subscribe();\r\n```\r\n\r\noutput:\r\n\r\n```\r\nnext 1: 5\r\nnext 2: 5\r\nnext 1: 5\r\nnext 2: 5\r\nnext 1: 5\r\nnext 2: 5\r\nnext 3: hello\r\n```\r\n\r\nIt&#39;s certainly **could affect streams&#39; execution order**.\r\n\r\nThen I&#39;m confused a lot, what situation it will be affected or not?\r\n\r\nmany thanks","title":"Webflux repeat method has strange behaviors with different operators","body":"<p>Repeat operator could make stream re-subscribe, and I found some behaviors in different situations.</p>\n<p>example code as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono.just(5)\n        .doOnNext(i -&gt; System.out.println(&quot;next 1: &quot; + i))\n        .doOnNext(i -&gt; System.out.println(&quot;next 2: &quot; + i))\n        .doOnNext(i -&gt; System.out.println(&quot;next 3: &quot; + i))\n        .repeat(2)\n        .subscribe();\n</code></pre>\n<p>output:</p>\n<pre><code>next 1: 5\nnext 2: 5\nnext 3: 5\nnext 1: 5\nnext 2: 5\nnext 3: 5\nnext 1: 5\nnext 2: 5\nnext 3: 5\n</code></pre>\n<p>it's certainly right. then I change the repeat position.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono.just(5)\n        .doOnNext(i -&gt; System.out.println(&quot;next 1: &quot; + i))\n        .repeat(2)\n        .doOnNext(i -&gt; System.out.println(&quot;next 2: &quot; + i))\n        .doOnNext(i -&gt; System.out.println(&quot;next 3: &quot; + i))\n        .subscribe();\n</code></pre>\n<p>output is the same as before.</p>\n<pre><code>next 1: 5\nnext 2: 5\nnext 3: 5\nnext 1: 5\nnext 2: 5\nnext 3: 5\nnext 1: 5\nnext 2: 5\nnext 3: 5\n</code></pre>\n<p>So I think it <strong>cannot affect origin streams' execution order.</strong></p>\n<p>when I add then operator into streams.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono.just(5)\n        .doOnNext(i -&gt; System.out.println(&quot;next 1: &quot; + i))\n        .doOnNext(i -&gt; System.out.println(&quot;next 2: &quot; + i))\n        .then(Mono.just(&quot;hello&quot;))\n        .doOnNext(i -&gt; System.out.println(&quot;next 3: &quot; + i))\n        .repeat(2)\n        .subscribe();\n</code></pre>\n<p>output:</p>\n<pre><code>next 1: 5\nnext 2: 5\nnext 3: hello\nnext 1: 5\nnext 2: 5\nnext 3: hello\nnext 1: 5\nnext 2: 5\nnext 3: hello\n</code></pre>\n<p>It looks like re-subscribed all streams, and I change the position again.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono.just(5)\n        .doOnNext(i -&gt; System.out.println(&quot;next 1: &quot; + i))\n        .repeat(2)\n        .doOnNext(i -&gt; System.out.println(&quot;next 2: &quot; + i))\n        .then(Mono.just(&quot;hello&quot;))\n        .doOnNext(i -&gt; System.out.println(&quot;next 3: &quot; + i))\n        .subscribe();\n</code></pre>\n<p>output:</p>\n<pre><code>next 1: 5\nnext 2: 5\nnext 1: 5\nnext 2: 5\nnext 1: 5\nnext 2: 5\nnext 3: hello\n</code></pre>\n<p>It's certainly <strong>could affect streams' execution order</strong>.</p>\n<p>Then I'm confused a lot, what situation it will be affected or not?</p>\n<p>many thanks</p>\n"},{"tags":["java","multidimensional-array","arraylist"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669500901,"post_id":74585952,"comment_id":131655912,"body_markdown":"Please show the result you expect and what your current code does.","body":"Please show the result you expect and what your current code does."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1669501719,"post_id":74585952,"comment_id":131656046,"body_markdown":"What `&quot;2d array board game&quot;` are you talking about?  What is the definition of `Word`?","body":"What <code>&quot;2d array board game&quot;</code> are you talking about?  What is the definition of <code>Word</code>?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1669501877,"post_id":74585952,"comment_id":131656076,"body_markdown":"if you don&#39;t want any duplicate words, shuffle the `List` and select the first N words.","body":"if you don&#39;t want any duplicate words, shuffle the <code>List</code> and select the first N words."}],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669503674,"creation_date":1669503674,"answer_id":74586241,"question_id":74585952,"body_markdown":"You&#39;re very close, though you haven&#39;t provided any information about class WordSearch and how you add instances of Word to it.\r\n\r\nHere is how to pick the random amount of words, though. Note that after each pick I remove that word from the &quot;pool&quot; so it can&#39;t be selected again.\r\n\r\nAlso note that it keeps asking the user for a number of words until that value is between 1 and 12 inclusive:\r\n\r\n      public static void readWords(){\r\n        WordSearch search = new WordSearch();\r\n        List&lt;Word&gt; poolWords = new ArrayList&lt;Word&gt;();\r\n    \r\n        String[] wordsArray = {\r\n          &quot;play&quot;, &quot;dream&quot;, &quot;personal&quot;, &quot;advice&quot;, &quot;steal&quot;,\r\n          &quot;suspicious&quot;, &quot;borrow&quot;, &quot;image&quot;, &quot;repeat&quot;, &quot;enemy&quot;, \r\n          &quot;break&quot;, &quot;selfish&quot;, &quot;protester&quot;, &quot;charity&quot;, &quot;encounter&quot;,\r\n          &quot;discreetly&quot;, &quot;effectively&quot;, &quot;react&quot;, &quot;respect&quot;, &quot;depression&quot;,\r\n          &quot;couch&quot;, &quot;counsellor&quot;, &quot;snatch&quot;, &quot;judge&quot;, &quot;appearance&quot;,\r\n          &quot;quiet&quot;, &quot;ridiculous&quot;, &quot;overjoyed&quot;, &quot;antidote&quot;, &quot;parademic&quot;,\r\n          &quot;employment&quot;, &quot;balance&quot;, &quot;overwhelm&quot;, &quot;relax&quot;, &quot;flextime&quot;,\r\n          &quot;task&quot;, &quot;daily&quot;, &quot;realistic&quot;, &quot;essential&quot;, &quot;stressful&quot;,\r\n          &quot;fixed&quot;, &quot;key&quot;, &quot;reward&quot;, &quot;salary&quot;, &quot;loan&quot;, &quot;promotion&quot;,\r\n          &quot;value&quot;, &quot;database&quot;, &quot;schedule&quot;, &quot;priority&quot;\r\n        };\r\n                        \r\n        for(String word: wordsArray){\r\n            poolWords.add(new Word(word));\r\n        }\r\n        \r\n        Random rand = new Random();\r\n        Scanner input = new Scanner(System.in);\r\n        \r\n        int maxWords;\r\n        do {\r\n          System.out.print(&quot;How many words? (max 12): &quot;);  \r\n          maxWords = input.nextInt();\r\n        } while (maxWords&lt;1 || maxWords&gt;12);\r\n            \r\n        for(int i=0; i&lt;maxWords; i++){\r\n          int random = rand.nextInt(poolWords.size());\r\n          Word randomWord = poolWords.get(random);\r\n          poolWords.remove(random);\r\n          \r\n          // ... do something with &quot;randomWord&quot; ...\r\n          // ... somehow adding it to &quot;search&quot; ...\r\n          //search.add(randomWord); // &lt;-- you haven&#39;t shown us how to use WordSearch!\r\n        }   \r\n      }","title":"Generate random words from arraylist and check if they are in 2d array board game","body":"<p>You're very close, though you haven't provided any information about class WordSearch and how you add instances of Word to it.</p>\n<p>Here is how to pick the random amount of words, though. Note that after each pick I remove that word from the &quot;pool&quot; so it can't be selected again.</p>\n<p>Also note that it keeps asking the user for a number of words until that value is between 1 and 12 inclusive:</p>\n<pre><code>  public static void readWords(){\n    WordSearch search = new WordSearch();\n    List&lt;Word&gt; poolWords = new ArrayList&lt;Word&gt;();\n\n    String[] wordsArray = {\n      &quot;play&quot;, &quot;dream&quot;, &quot;personal&quot;, &quot;advice&quot;, &quot;steal&quot;,\n      &quot;suspicious&quot;, &quot;borrow&quot;, &quot;image&quot;, &quot;repeat&quot;, &quot;enemy&quot;, \n      &quot;break&quot;, &quot;selfish&quot;, &quot;protester&quot;, &quot;charity&quot;, &quot;encounter&quot;,\n      &quot;discreetly&quot;, &quot;effectively&quot;, &quot;react&quot;, &quot;respect&quot;, &quot;depression&quot;,\n      &quot;couch&quot;, &quot;counsellor&quot;, &quot;snatch&quot;, &quot;judge&quot;, &quot;appearance&quot;,\n      &quot;quiet&quot;, &quot;ridiculous&quot;, &quot;overjoyed&quot;, &quot;antidote&quot;, &quot;parademic&quot;,\n      &quot;employment&quot;, &quot;balance&quot;, &quot;overwhelm&quot;, &quot;relax&quot;, &quot;flextime&quot;,\n      &quot;task&quot;, &quot;daily&quot;, &quot;realistic&quot;, &quot;essential&quot;, &quot;stressful&quot;,\n      &quot;fixed&quot;, &quot;key&quot;, &quot;reward&quot;, &quot;salary&quot;, &quot;loan&quot;, &quot;promotion&quot;,\n      &quot;value&quot;, &quot;database&quot;, &quot;schedule&quot;, &quot;priority&quot;\n    };\n                    \n    for(String word: wordsArray){\n        poolWords.add(new Word(word));\n    }\n    \n    Random rand = new Random();\n    Scanner input = new Scanner(System.in);\n    \n    int maxWords;\n    do {\n      System.out.print(&quot;How many words? (max 12): &quot;);  \n      maxWords = input.nextInt();\n    } while (maxWords&lt;1 || maxWords&gt;12);\n        \n    for(int i=0; i&lt;maxWords; i++){\n      int random = rand.nextInt(poolWords.size());\n      Word randomWord = poolWords.get(random);\n      poolWords.remove(random);\n      \n      // ... do something with &quot;randomWord&quot; ...\n      // ... somehow adding it to &quot;search&quot; ...\n      //search.add(randomWord); // &lt;-- you haven't shown us how to use WordSearch!\n    }   \n  }\n</code></pre>\n"}],"owner":{"display_name":"user13084927"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669503674,"creation_date":1669500639,"question_id":74585952,"body_markdown":"I need to generate 12 random words from the ArrayList&lt;Word&gt; \r\nand add this word to 2d Array which is the board of the game, and this board is in another class WordSearch.\r\n\r\nthis is my code until now, please some help i can&#39;t understand how to make this.\r\n\r\n    public static void readWords(){\r\n        WordSearch search = new WordSearch();\r\n        List&lt;Word&gt; poolWords = new ArrayList&lt;Word&gt;();\r\n\r\n\r\n        String[] wordsArray = {&quot;play&quot;, &quot;dream&quot;, &quot;personal&quot;, &quot;advice&quot;, &quot;steal&quot;, &quot;suspicious&quot;, &quot;borrow&quot;, &quot;image&quot;, &quot;repeat&quot;, &quot;enemy&quot;, \r\n                            &quot;break&quot;, &quot;selfish&quot;, &quot;protester&quot;, &quot;charity&quot;, &quot;encounter&quot;, &quot;discreetly&quot;, &quot;effectively&quot;, &quot;react&quot;, &quot;respect&quot;, &quot;depression&quot;,\r\n                            &quot;couch&quot;, &quot;counsellor&quot;, &quot;snatch&quot;, &quot;judge&quot;, &quot;appearance&quot;, &quot;quiet&quot;, &quot;ridiculous&quot;, &quot;overjoyed&quot;, &quot;antidote&quot;, &quot;parademic&quot;,\r\n                            &quot;employment&quot;, &quot;balance&quot;, &quot;overwhelm&quot;, &quot;relax&quot;, &quot;flextime&quot;, &quot;task&quot;, &quot;daily&quot;, &quot;realistic&quot;, &quot;essential&quot;, &quot;stressful&quot;,\r\n                            &quot;fixed&quot;, &quot;key&quot;, &quot;reward&quot;, &quot;salary&quot;, &quot;loan&quot;, &quot;promotion&quot;, &quot;value&quot;, &quot;database&quot;, &quot;schedule&quot;, &quot;priority&quot;,};\r\n\r\n                            \r\n                            for(String word: wordsArray){\r\n                                poolWords.add(new Word(word));\r\n                            }\r\n                            \r\n                            Random rand = new Random();\r\n                            Scanner input = new Scanner(System.in);\r\n\r\n                            System.out.println(&quot;How many words? max 12: &quot;);\r\n                            int maxWords = input.nextInt();\r\n                            if(maxWords &gt; 12){\r\n                                System.out.println(&quot;i can generate only 12 words&quot;);\r\n                            }\r\n                            \r\n                            \r\n                            for(int i=0; i&lt;maxWords; i++){\r\n                                int random = rand.nextInt(poolWords.size());\r\n                                Word randomWord = poolWords.get(random);\r\n                                }\r\n                                \r\n                            }","title":"Generate random words from arraylist and check if they are in 2d array board game","body":"<p>I need to generate 12 random words from the ArrayList\nand add this word to 2d Array which is the board of the game, and this board is in another class WordSearch.</p>\n<p>this is my code until now, please some help i can't understand how to make this.</p>\n<pre><code>public static void readWords(){\n    WordSearch search = new WordSearch();\n    List&lt;Word&gt; poolWords = new ArrayList&lt;Word&gt;();\n\n\n    String[] wordsArray = {&quot;play&quot;, &quot;dream&quot;, &quot;personal&quot;, &quot;advice&quot;, &quot;steal&quot;, &quot;suspicious&quot;, &quot;borrow&quot;, &quot;image&quot;, &quot;repeat&quot;, &quot;enemy&quot;, \n                        &quot;break&quot;, &quot;selfish&quot;, &quot;protester&quot;, &quot;charity&quot;, &quot;encounter&quot;, &quot;discreetly&quot;, &quot;effectively&quot;, &quot;react&quot;, &quot;respect&quot;, &quot;depression&quot;,\n                        &quot;couch&quot;, &quot;counsellor&quot;, &quot;snatch&quot;, &quot;judge&quot;, &quot;appearance&quot;, &quot;quiet&quot;, &quot;ridiculous&quot;, &quot;overjoyed&quot;, &quot;antidote&quot;, &quot;parademic&quot;,\n                        &quot;employment&quot;, &quot;balance&quot;, &quot;overwhelm&quot;, &quot;relax&quot;, &quot;flextime&quot;, &quot;task&quot;, &quot;daily&quot;, &quot;realistic&quot;, &quot;essential&quot;, &quot;stressful&quot;,\n                        &quot;fixed&quot;, &quot;key&quot;, &quot;reward&quot;, &quot;salary&quot;, &quot;loan&quot;, &quot;promotion&quot;, &quot;value&quot;, &quot;database&quot;, &quot;schedule&quot;, &quot;priority&quot;,};\n\n                        \n                        for(String word: wordsArray){\n                            poolWords.add(new Word(word));\n                        }\n                        \n                        Random rand = new Random();\n                        Scanner input = new Scanner(System.in);\n\n                        System.out.println(&quot;How many words? max 12: &quot;);\n                        int maxWords = input.nextInt();\n                        if(maxWords &gt; 12){\n                            System.out.println(&quot;i can generate only 12 words&quot;);\n                        }\n                        \n                        \n                        for(int i=0; i&lt;maxWords; i++){\n                            int random = rand.nextInt(poolWords.size());\n                            Word randomWord = poolWords.get(random);\n                            }\n                            \n                        }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":168379,"reputation":16435,"user_id":393805,"accept_rate":80,"display_name":"tftd"},"score":0,"creation_date":1669673163,"post_id":74586212,"comment_id":131691722,"body_markdown":"Are you sure the `ContextRefreshedEvent` is fired in this case? I am running this inside kubernetes and the only event I get so far is the `EnvironmentChangeEvent`. Maybe I&#39;m missing something?","body":"Are you sure the <code>ContextRefreshedEvent</code> is fired in this case? I am running this inside kubernetes and the only event I get so far is the <code>EnvironmentChangeEvent</code>. Maybe I&#39;m missing something?"}],"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669503354,"creation_date":1669503354,"answer_id":74586212,"question_id":74583586,"body_markdown":"You can use this configuration  for signal a change in the environment:\r\n\r\n    @Configuration\r\n    public class AppConfiguration {\r\n    \r\n        @EventListener({EnvironmentChangeEvent.class, ContextRefreshedEvent.class})\r\n        public void onRefresh() {\r\n            // add your implementation\r\n        }\r\n    \r\n    }","title":"How to get ConfigurationProperty instance inside EnvironmentChangeEvent in Spring Boot?","body":"<p>You can use this configuration  for signal a change in the environment:</p>\n<pre><code>@Configuration\npublic class AppConfiguration {\n\n    @EventListener({EnvironmentChangeEvent.class, ContextRefreshedEvent.class})\n    public void onRefresh() {\n        // add your implementation\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":168379,"reputation":16435,"user_id":393805,"accept_rate":80,"display_name":"tftd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669503354,"creation_date":1669477944,"question_id":74583586,"body_markdown":"I&#39;m experimenting with Spring Boot&#39;s reload actuator with the idea of being able to react to changes of the `application.yaml` file and adapt.\r\n\r\nIn my code, I am using `AppConfigurationProperties` class which is bound to the prefix `app` and holds the configuration properties. Changes to some of these properties require some action in the code.\r\n\r\nThis is why I thought I could tap into the a `ApplicationListener&lt;EnvironmentChangeEvent&gt;` event which is fired after the reload event. Unfortunately this event is pretty useless to me, because I can&#39;t seem to figure out how to map the newly coming `PropertySources` to my `AppConfigurationProperty` class. \r\n\r\nTrying to get the bean from the `event context` also fails because it gives the same instance:\r\n\r\n```\r\nApplicationContext context = (ApplicationContext) event.getSource();\r\nMyConfigurationProperties newProps = context.getBean(MyConfigurationProperties.class);\r\n```\r\n\r\nI assume I&#39;m doing something wrong here or I&#39;m missing something.\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\n@SpringBootApplication()\r\n@EnableWebFlux\r\n@EnableConfigurationProperties({AppConfigurationProperties.class})\r\n@Slf4j\r\npublic class MyApplication\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        SpringApplication.run(MyApplication.class, args);\r\n    }\r\n}\r\n\r\n\r\n@ConfigurationProperties(prefix = &quot;app&quot;)\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\n@ToString\r\npublic class AppConfigurationProperties\r\n{\r\n    @Getter\r\n    private final List&lt;String&gt; users;\r\n}\r\n\r\n@Service\r\n@Slf4j\r\npublic class UserService\r\n{\r\n\r\n    private final AppConfigurationProperties properties;\r\n\r\n    @Autowired(required = true)\r\n    public SymbolPairRecorderService(AppConfigurationProperties properties)\r\n    {\r\n        // The purpose of this service is to subscribe/unsubscribe form some\r\n        // websockets based on the `app.users` list. Changes to the list\r\n        // should result in a `new websocket subscription` (for added users) \r\n        // or `disposal of existing subscription` (for removed users) \r\n        this.properties = properties;\r\n    }\r\n\r\n    public SymbolPairRecorderService()\r\n    {\r\n        this(new AppConfigurationProperties());\r\n    }\r\n\r\n\r\n    @Bean\r\n    protected ApplicationListener&lt;EnvironmentChangeEvent&gt; onEnvironmentChange()\r\n    {\r\n        return event -&gt; {\r\n            ApplicationContext context = (ApplicationContext) event.getSource();\r\n            // Okay, now what? How to get the new `AppConfigurationProperties` instance\r\n            // so I could then make my own `diff` and proceed?\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"How to get ConfigurationProperty instance inside EnvironmentChangeEvent in Spring Boot?","body":"<p>I'm experimenting with Spring Boot's reload actuator with the idea of being able to react to changes of the <code>application.yaml</code> file and adapt.</p>\n<p>In my code, I am using <code>AppConfigurationProperties</code> class which is bound to the prefix <code>app</code> and holds the configuration properties. Changes to some of these properties require some action in the code.</p>\n<p>This is why I thought I could tap into the a <code>ApplicationListener&lt;EnvironmentChangeEvent&gt;</code> event which is fired after the reload event. Unfortunately this event is pretty useless to me, because I can't seem to figure out how to map the newly coming <code>PropertySources</code> to my <code>AppConfigurationProperty</code> class.</p>\n<p>Trying to get the bean from the <code>event context</code> also fails because it gives the same instance:</p>\n<pre><code>ApplicationContext context = (ApplicationContext) event.getSource();\nMyConfigurationProperties newProps = context.getBean(MyConfigurationProperties.class);\n</code></pre>\n<p>I assume I'm doing something wrong here or I'm missing something.</p>\n<p>Here's my code:</p>\n<pre><code>@SpringBootApplication()\n@EnableWebFlux\n@EnableConfigurationProperties({AppConfigurationProperties.class})\n@Slf4j\npublic class MyApplication\n{\n    public static void main(String[] args)\n    {\n        SpringApplication.run(MyApplication.class, args);\n    }\n}\n\n\n@ConfigurationProperties(prefix = &quot;app&quot;)\n@Order(Ordered.HIGHEST_PRECEDENCE)\n@ToString\npublic class AppConfigurationProperties\n{\n    @Getter\n    private final List&lt;String&gt; users;\n}\n\n@Service\n@Slf4j\npublic class UserService\n{\n\n    private final AppConfigurationProperties properties;\n\n    @Autowired(required = true)\n    public SymbolPairRecorderService(AppConfigurationProperties properties)\n    {\n        // The purpose of this service is to subscribe/unsubscribe form some\n        // websockets based on the `app.users` list. Changes to the list\n        // should result in a `new websocket subscription` (for added users) \n        // or `disposal of existing subscription` (for removed users) \n        this.properties = properties;\n    }\n\n    public SymbolPairRecorderService()\n    {\n        this(new AppConfigurationProperties());\n    }\n\n\n    @Bean\n    protected ApplicationListener&lt;EnvironmentChangeEvent&gt; onEnvironmentChange()\n    {\n        return event -&gt; {\n            ApplicationContext context = (ApplicationContext) event.getSource();\n            // Okay, now what? How to get the new `AppConfigurationProperties` instance\n            // so I could then make my own `diff` and proceed?\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","primefaces"],"comments":[{"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"score":0,"creation_date":1669584923,"post_id":74586204,"comment_id":131669392,"body_markdown":"Are you sure you&#39;ve configured properly the users? The code looks correct, so please post all your configurations, to replicate your example.","body":"Are you sure you&#39;ve configured properly the users? The code looks correct, so please post all your configurations, to replicate your example."},{"owner":{"account_id":27057510,"reputation":51,"user_id":20609994,"display_name":"Snow Arctic"},"score":0,"creation_date":1669658959,"post_id":74586204,"comment_id":131687740,"body_markdown":"I works fine now! This is really strange. After I had lunch and log in again and it works. I think user role management is not updating realtime. And MyEclipse is still giving me a warning &quot;can&#39;t find tag&quot;. Is this okay? Because I really hate seeing warning.","body":"I works fine now! This is really strange. After I had lunch and log in again and it works. I think user role management is not updating realtime. And MyEclipse is still giving me a warning &quot;can&#39;t find tag&quot;. Is this okay? Because I really hate seeing warning."}],"owner":{"account_id":27057510,"reputation":51,"user_id":20609994,"display_name":"Snow Arctic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669503267,"creation_date":1669503267,"question_id":74586204,"body_markdown":"I have just implemented **spring security** in my **primefaces** project.\r\nThe authentication between pages is working so well, but I am can&#39;t check the roles of users.\r\n\r\nHere is my hello.html file\r\n\r\n```\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n  xmlns:h=&quot;http://java.sun.com/jsf/html&quot;\r\n  xmlns:p=&quot;http://primefaces.org/ui&quot;\r\n  xmlns:sec=&quot;http://www.springframework.org/security/tags&quot;&gt;\r\n\r\n&lt;h:head&gt;\r\n  &lt;title&gt;PrimeFaces Hello World Example&lt;/title&gt;\r\n&lt;/h:head&gt;\r\n\r\n&lt;h:body&gt;\r\n\r\n  &lt;div class=&quot;authorization-div&quot;&gt;\r\n    &lt;sec:authorize access=&quot;hasRole(&#39;ROLE_USER&#39;)&quot;&gt;\r\n      &lt;p:outputLabel value=&quot;You have the USER role&quot; /&gt;\r\n    &lt;/sec:authorize&gt;\r\n    &lt;sec:authorize access=&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;&gt;\r\n      &lt;p:outputLabel value=&quot;You have the ADMIN role&quot; /&gt;\r\n    &lt;/sec:authorize&gt;\r\n    &lt;sec:authorize access=&quot;hasRole(&#39;ROLE_CUSTOM&#39;)&quot;&gt;\r\n      &lt;p:outputLabel value=&quot;You have the CUSTOM role&quot; /&gt;\r\n    &lt;/sec:authorize&gt;\r\n  &lt;/div&gt;\r\n```\r\n\r\nThe output HTML of my localhost:8080/hello.xhtml is:\r\n\r\n# You have the USER role You have the ADMIN role You have the CUSTOM role\r\n\r\n# ...\r\n\r\nI am using MyEclipse Editor and it keeps giving me a warning says &quot;unknown attribute &#39;access&#39;&quot; in lines start with\r\n\r\n**\\&lt;sec:authorize access=&quot;**\r\n\r\nI want to retrieve the roles of the authenticated users and please reply anyone knowing the problem above or has encounter with this before.","title":"Unknown attribute access in &lt;sec:authorize&gt; tag","body":"<p>I have just implemented <strong>spring security</strong> in my <strong>primefaces</strong> project.\nThe authentication between pages is working so well, but I am can't check the roles of users.</p>\n<p>Here is my hello.html file</p>\n<pre><code>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n  xmlns:h=&quot;http://java.sun.com/jsf/html&quot;\n  xmlns:p=&quot;http://primefaces.org/ui&quot;\n  xmlns:sec=&quot;http://www.springframework.org/security/tags&quot;&gt;\n\n&lt;h:head&gt;\n  &lt;title&gt;PrimeFaces Hello World Example&lt;/title&gt;\n&lt;/h:head&gt;\n\n&lt;h:body&gt;\n\n  &lt;div class=&quot;authorization-div&quot;&gt;\n    &lt;sec:authorize access=&quot;hasRole('ROLE_USER')&quot;&gt;\n      &lt;p:outputLabel value=&quot;You have the USER role&quot; /&gt;\n    &lt;/sec:authorize&gt;\n    &lt;sec:authorize access=&quot;hasRole('ROLE_ADMIN')&quot;&gt;\n      &lt;p:outputLabel value=&quot;You have the ADMIN role&quot; /&gt;\n    &lt;/sec:authorize&gt;\n    &lt;sec:authorize access=&quot;hasRole('ROLE_CUSTOM')&quot;&gt;\n      &lt;p:outputLabel value=&quot;You have the CUSTOM role&quot; /&gt;\n    &lt;/sec:authorize&gt;\n  &lt;/div&gt;\n</code></pre>\n<p>The output HTML of my localhost:8080/hello.xhtml is:</p>\n<h1>You have the USER role You have the ADMIN role You have the CUSTOM role</h1>\n<h1>...</h1>\n<p>I am using MyEclipse Editor and it keeps giving me a warning says &quot;unknown attribute 'access'&quot; in lines start with</p>\n<p><strong>&lt;sec:authorize access=&quot;</strong></p>\n<p>I want to retrieve the roles of the authenticated users and please reply anyone knowing the problem above or has encounter with this before.</p>\n"},{"tags":["java","arrays","sorting","java.util.scanner","user-input"],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669502748,"creation_date":1669502748,"answer_id":74586155,"question_id":74586105,"body_markdown":"You should use one of the simpliest sorting algorithm e.g. [Selection Sort][1]:\r\n\r\n```java\r\npublic static void selectionSortDesc(int[] arr) {\r\n\tfor(int i = 0; i &lt; arr.length; i++) {\r\n\t\t// k index with max value\r\n        int k = i;\r\n\t\t\r\n        // find k with max value\r\n\t\tfor(int j = i; j &lt; arr.length; j++) {\r\n\t\t\tif(arr[k] &lt; arr[j])\r\n\t\t\t\tk = j;\r\n\t\t}\r\n\t\t\r\n        // swap current element with the max value\r\n\t\tswap(arr, i, k);\r\n\t}\r\n}\r\n\r\nprivate static void swap(int[] arr, int i, int j) {\r\n\tint tmp = arr[i];\r\n\tarr[i] = arr[j];\r\n\tarr[j] = arr[i];\r\n}\r\n```\r\n\r\nBy the way, you should not mix sorting and printing the array. It&#39;s better to split these parts.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Selection_sort","title":"Garbage Value Picked Up by Scanner -- Java","body":"<p>You should use one of the simpliest sorting algorithm e.g. <a href=\"https://en.wikipedia.org/wiki/Selection_sort\" rel=\"nofollow noreferrer\">Selection Sort</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void selectionSortDesc(int[] arr) {\n    for(int i = 0; i &lt; arr.length; i++) {\n        // k index with max value\n        int k = i;\n        \n        // find k with max value\n        for(int j = i; j &lt; arr.length; j++) {\n            if(arr[k] &lt; arr[j])\n                k = j;\n        }\n        \n        // swap current element with the max value\n        swap(arr, i, k);\n    }\n}\n\nprivate static void swap(int[] arr, int i, int j) {\n    int tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = arr[i];\n}\n</code></pre>\n<p>By the way, you should not mix sorting and printing the array. It's better to split these parts.</p>\n"}],"owner":{"account_id":20559133,"reputation":1,"user_id":15090009,"display_name":"BretteConnolly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1669510145,"answer_count":1,"score":-3,"last_activity_date":1669502748,"creation_date":1669502286,"question_id":74586105,"body_markdown":"I am trying to sort an array in descending order. The size of the array comes from user input, and then the contents of the array come from user input. Then the array is passed to a function that sorts it. The issue is that, instead of printing a sorted array, it prints [I@5caf905d. Through print statements, I have pinpointed the problem to the scanner picking up [I@5caf905d as the final value from user input, coming right after all the correct inputs. I don&#39;t know where this value came from, and I also don&#39;t understand why it is printed by the function as if it were the entire array. All help is appreciated! \r\n\r\nHere is my code. Input is: 5 10 4 39 12 2.\r\n```\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram \r\n{\r\n   public static void sortArray (int [] myArr, int arrSize)\r\n   {\r\n      int temp;\r\n      int i;\r\n      \r\n      for (i = 0; i &lt; arrSize - 1; i++)\r\n      {\r\n         if (myArr[i] &lt; myArr[i + 1])\r\n         {\r\n            temp = myArr[i];\r\n            myArr[i] = myArr[i + 1];\r\n            myArr[i + 1] = temp;\r\n         }          \r\n      }\r\n      System.out.println(myArr);\r\n   }\r\n\r\n   public static void main(String[] args) \r\n   {\r\n      Scanner scnr = new Scanner (System.in);\r\n      int [] myArr;\r\n      int arrSize;\r\n      int i; \r\n      \r\n      \r\n      arrSize = scnr.nextInt();\r\n      myArr = new int[arrSize];\r\n      for (i = 0; i &lt; arrSize; i++)\r\n         myArr[i] = scnr.nextInt();\r\n         \r\n      sortArray (myArr, arrSize);  \r\n   }\r\n}\r\n```\r\n","title":"Garbage Value Picked Up by Scanner -- Java","body":"<p>I am trying to sort an array in descending order. The size of the array comes from user input, and then the contents of the array come from user input. Then the array is passed to a function that sorts it. The issue is that, instead of printing a sorted array, it prints [I@5caf905d. Through print statements, I have pinpointed the problem to the scanner picking up [I@5caf905d as the final value from user input, coming right after all the correct inputs. I don't know where this value came from, and I also don't understand why it is printed by the function as if it were the entire array. All help is appreciated!</p>\n<p>Here is my code. Input is: 5 10 4 39 12 2.</p>\n<pre><code>\nimport java.util.Scanner;\n\npublic class LabProgram \n{\n   public static void sortArray (int [] myArr, int arrSize)\n   {\n      int temp;\n      int i;\n      \n      for (i = 0; i &lt; arrSize - 1; i++)\n      {\n         if (myArr[i] &lt; myArr[i + 1])\n         {\n            temp = myArr[i];\n            myArr[i] = myArr[i + 1];\n            myArr[i + 1] = temp;\n         }          \n      }\n      System.out.println(myArr);\n   }\n\n   public static void main(String[] args) \n   {\n      Scanner scnr = new Scanner (System.in);\n      int [] myArr;\n      int arrSize;\n      int i; \n      \n      \n      arrSize = scnr.nextInt();\n      myArr = new int[arrSize];\n      for (i = 0; i &lt; arrSize; i++)\n         myArr[i] = scnr.nextInt();\n         \n      sortArray (myArr, arrSize);  \n   }\n}\n</code></pre>\n"},{"tags":["java","maven","netbeans"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1649264266,"post_id":71770413,"comment_id":126833887,"body_markdown":"Please upgrade all plugins you are using to the most recent ones... https://maven.apache.org/plugins/... because some of them are 10 years old....","body":"Please upgrade all plugins you are using to the most recent ones... <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>... because some of them are 10 years old...."},{"owner":{"account_id":24179289,"reputation":21,"user_id":18140199,"display_name":"Mritunjay"},"score":0,"creation_date":1649265059,"post_id":71770413,"comment_id":126834184,"body_markdown":"@khmarbaise How do I upgrade the plugins?","body":"@khmarbaise How do I upgrade the plugins?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1649265913,"post_id":71770413,"comment_id":126834505,"body_markdown":"Change versions of the appropriate plugins in your pom file..","body":"Change versions of the appropriate plugins in your pom file.."},{"owner":{"account_id":24179289,"reputation":21,"user_id":18140199,"display_name":"Mritunjay"},"score":1,"creation_date":1649268676,"post_id":71770413,"comment_id":126835560,"body_markdown":"Thank you it actually worked. It was because of the older version. I was under the impression that if I&#39;m installing the newer version I would have the new plugins but that was not the case.","body":"Thank you it actually worked. It was because of the older version. I was under the impression that if I&#39;m installing the newer version I would have the new plugins but that was not the case."}],"answers":[{"tags":[],"owner":{"account_id":22020698,"reputation":11,"user_id":16289565,"display_name":"Dagoberto Medeiros"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669501336,"creation_date":1669501336,"answer_id":74586024,"question_id":71770413,"body_markdown":"Update the plugins, according to https://maven.apache.org/plugins/, it worked perfectly for me.","title":"Unable to build with dependencies with a maven project","body":"<p>Update the plugins, according to <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/</a>, it worked perfectly for me.</p>\n"}],"owner":{"account_id":24179289,"reputation":21,"user_id":18140199,"display_name":"Mritunjay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":979,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669501336,"creation_date":1649262474,"question_id":71770413,"body_markdown":"Hi Everyone hope you&#39;re doing fine.\r\n\r\nSo I&#39;m new to Maven.\r\nI&#39;ve created a maven project @Apache NetBeans IDE 13, java JDK 17.02 and Apache tomcat server 9.0. \r\nAnd every time I try to build with dependencies I&#39;m getting this particular error,&quot;**Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.3:war (default-war) on project ECommerceWebsite: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.3:war failed: Unable to load the mojo &#39;war&#39; in the plugin &#39;org.apache.maven.plugins:maven-war-plugin:2.3&#39; due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: null**&quot;. \r\nI&#39;ve spent hours trying to fix this error. Trying to fix with some of the previous users who had asked this question. \r\n- I deleted the .m2 folder but still it&#39;s giving the same error after re-building.\r\nSo I need advice how I can fix this error.\r\nhere is the error I&#39;ve been receiving.\r\n```\r\nFailed to execute goal org.apache.maven.plugins:maven-war-plugin:2.3:war (default-war) on project ECommerceWebsite: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.3:war failed: Unable to load the mojo &#39;war&#39; in the plugin &#39;org.apache.maven.plugins:maven-war-plugin:2.3&#39; due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: null\r\n-----------------------------------------------------\r\nrealm =    plugin&gt;org.apache.maven.plugins:maven-war-plugin:2.3\r\nstrategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\r\nurls[0] = file:/C:/Users/Mritunjay/.m2/repository/org/apache/maven/plugins/maven-war-plugin/2.3/maven-war-plugin-2.3.jar\r\nurls[1] = file:/C:/Users/Mritunjay/.m2/repository/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.jar\r\nurls[2] = file:/C:/Users/Mritunjay/.m2/repository/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.jar\r\nurls[3] = file:/C:/Users/Mritunjay/.m2/repository/commons-cli/commons-cli/1.0/commons-cli-1.0.jar\r\nurls[4] = file:/C:/Users/Mritunjay/.m2/repository/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.jar\r\nurls[5] = file:/C:/Users/Mritunjay/.m2/repository/org/apache/maven/maven-archiver/2.5/maven-archiver-2.5.jar\r\nurls[6] = file:/C:/Users/Mritunjay/.m2/repository/org/codehaus/plexus/plexus-io/2.0.5/plexus-io-2.0.5.jar\r\nurls[7] = file:/C:/Users/Mritunjay/.m2/repository/org/codehaus/plexus/plexus-archiver/2.2/plexus-archiver-2.2.jar\r\nurls[8] = file:/C:/Users/Mritunjay/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.15/plexus-interpolation-1.15.jar\r\nurls[9] = file:/C:/Users/Mritunjay/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\r\nurls[10] = file:/C:/Users/Mritunjay/.m2/repository/com/thoughtworks/xstream/xstream/1.4.3/xstream-1.4.3.jar\r\nurls[11] = file:/C:/Users/Mritunjay/.m2/repository/xmlpull/xmlpull/1.1.3.1/xmlpull-1.1.3.1.jar\r\nurls[12] = file:/C:/Users/Mritunjay/.m2/repository/xpp3/xpp3_min/1.1.4c/xpp3_min-1.1.4c.jar\r\nurls[13] = file:/C:/Users/Mritunjay/.m2/repository/org/codehaus/plexus/plexus-utils/3.0.8/plexus-utils-3.0.8.jar\r\nurls[14] = file:/C:/Users/Mritunjay/.m2/repository/org/apache/maven/shared/maven-filtering/1.0-beta-2/maven-filtering-1.0-beta-2.jar\r\nNumber of foreign imports: 1\r\nimport: Entry[import  from realm ClassRealm[maven.api, parent: null]]\r\n\r\n-----------------------------------------------------\r\n: ExceptionInInitializerError: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @4391a2d8\r\n-&gt; [Help 1]\r\n\r\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\r\nRe-run Maven using the -X switch to enable full debug logging.\r\n\r\nFor more information about the errors and possible solutions, please read the following articles:\r\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\r\n```\r\n\r\nand here is pom.xml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ECommerceWebsite&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;ECommerceWebsite&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.7&lt;/source&gt;\r\n                    &lt;target&gt;1.7&lt;/target&gt;\r\n                    &lt;compilerArguments&gt;\r\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\r\n                    &lt;/compilerArguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\r\n                            &lt;silent&gt;true&lt;/silent&gt;\r\n                            &lt;artifactItems&gt;\r\n                                &lt;artifactItem&gt;\r\n                                    &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\r\n                                    &lt;version&gt;7.0&lt;/version&gt;\r\n                                    &lt;type&gt;jar&lt;/type&gt;\r\n                                &lt;/artifactItem&gt;\r\n                            &lt;/artifactItems&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n","title":"Unable to build with dependencies with a maven project","body":"<p>Hi Everyone hope you're doing fine.</p>\n<p>So I'm new to Maven.\nI've created a maven project @Apache NetBeans IDE 13, java JDK 17.02 and Apache tomcat server 9.0.\nAnd every time I try to build with dependencies I'm getting this particular error,&quot;<strong>Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.3:war (default-war) on project ECommerceWebsite: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.3:war failed: Unable to load the mojo 'war' in the plugin 'org.apache.maven.plugins:maven-war-plugin:2.3' due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: null</strong>&quot;.\nI've spent hours trying to fix this error. Trying to fix with some of the previous users who had asked this question.</p>\n<ul>\n<li>I deleted the .m2 folder but still it's giving the same error after re-building.\nSo I need advice how I can fix this error.\nhere is the error I've been receiving.</li>\n</ul>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.3:war (default-war) on project ECommerceWebsite: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.3:war failed: Unable to load the mojo 'war' in the plugin 'org.apache.maven.plugins:maven-war-plugin:2.3' due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: null\n-----------------------------------------------------\nrealm =    plugin&gt;org.apache.maven.plugins:maven-war-plugin:2.3\nstrategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\nurls[0] = file:/C:/Users/Mritunjay/.m2/repository/org/apache/maven/plugins/maven-war-plugin/2.3/maven-war-plugin-2.3.jar\nurls[1] = file:/C:/Users/Mritunjay/.m2/repository/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.jar\nurls[2] = file:/C:/Users/Mritunjay/.m2/repository/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.jar\nurls[3] = file:/C:/Users/Mritunjay/.m2/repository/commons-cli/commons-cli/1.0/commons-cli-1.0.jar\nurls[4] = file:/C:/Users/Mritunjay/.m2/repository/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.jar\nurls[5] = file:/C:/Users/Mritunjay/.m2/repository/org/apache/maven/maven-archiver/2.5/maven-archiver-2.5.jar\nurls[6] = file:/C:/Users/Mritunjay/.m2/repository/org/codehaus/plexus/plexus-io/2.0.5/plexus-io-2.0.5.jar\nurls[7] = file:/C:/Users/Mritunjay/.m2/repository/org/codehaus/plexus/plexus-archiver/2.2/plexus-archiver-2.2.jar\nurls[8] = file:/C:/Users/Mritunjay/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.15/plexus-interpolation-1.15.jar\nurls[9] = file:/C:/Users/Mritunjay/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\nurls[10] = file:/C:/Users/Mritunjay/.m2/repository/com/thoughtworks/xstream/xstream/1.4.3/xstream-1.4.3.jar\nurls[11] = file:/C:/Users/Mritunjay/.m2/repository/xmlpull/xmlpull/1.1.3.1/xmlpull-1.1.3.1.jar\nurls[12] = file:/C:/Users/Mritunjay/.m2/repository/xpp3/xpp3_min/1.1.4c/xpp3_min-1.1.4c.jar\nurls[13] = file:/C:/Users/Mritunjay/.m2/repository/org/codehaus/plexus/plexus-utils/3.0.8/plexus-utils-3.0.8.jar\nurls[14] = file:/C:/Users/Mritunjay/.m2/repository/org/apache/maven/shared/maven-filtering/1.0-beta-2/maven-filtering-1.0-beta-2.jar\nNumber of foreign imports: 1\nimport: Entry[import  from realm ClassRealm[maven.api, parent: null]]\n\n-----------------------------------------------------\n: ExceptionInInitializerError: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @4391a2d8\n-&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n\nFor more information about the errors and possible solutions, please read the following articles:\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\n</code></pre>\n<p>and here is pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;ECommerceWebsite&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;ECommerceWebsite&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n            &lt;version&gt;7.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                    &lt;compilerArguments&gt;\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\n                    &lt;/compilerArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\n                            &lt;silent&gt;true&lt;/silent&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;javax&lt;/groupId&gt;\n                                    &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\n                                    &lt;version&gt;7.0&lt;/version&gt;\n                                    &lt;type&gt;jar&lt;/type&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-security-oauth2"],"answers":[{"comments":[{"owner":{"account_id":458735,"reputation":1145,"user_id":858820,"accept_rate":75,"display_name":"oscar.fimbres"},"score":0,"creation_date":1669518971,"post_id":74586021,"comment_id":131657986,"body_markdown":"Works like a gem!","body":"Works like a gem!"}],"tags":[],"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669501310,"creation_date":1669501310,"answer_id":74586021,"question_id":74585807,"body_markdown":"Define `.anyRequest().authenticated()` only once:\r\n\r\n\r\n    @Bean\r\n     public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http\r\n            //TODO disable CSRF because when enabled controllers aren&#39;t initialized\r\n            //and if they are, POST are getting 403\r\n           .csrf().disable()\r\n           .oauth2Client()      \r\n           .and()\r\n           .logout()\r\n           .and()\r\n           .oauth2Login()\r\n           .redirectionEndpoint().baseUri(&quot;/login/oauth2/code/cognito&quot;);\r\n    \r\n            http.authorizeRequests() \r\n            .anyRequest().authenticated().and()\r\n            .oauth2ResourceServer().jwt();\r\n    \r\n            return http.build();\r\n        }","title":"Deprecate WebSecurityConfigurerAdapter and move to SecurityFilterChain","body":"<p>Define <code>.anyRequest().authenticated()</code> only once:</p>\n<pre><code>@Bean\n public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n        //TODO disable CSRF because when enabled controllers aren't initialized\n        //and if they are, POST are getting 403\n       .csrf().disable()\n       .oauth2Client()      \n       .and()\n       .logout()\n       .and()\n       .oauth2Login()\n       .redirectionEndpoint().baseUri(&quot;/login/oauth2/code/cognito&quot;);\n\n        http.authorizeRequests() \n        .anyRequest().authenticated().and()\n        .oauth2ResourceServer().jwt();\n\n        return http.build();\n    }\n</code></pre>\n"}],"owner":{"account_id":458735,"reputation":1145,"user_id":858820,"accept_rate":75,"display_name":"oscar.fimbres"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74586021,"answer_count":1,"score":0,"last_activity_date":1669501310,"creation_date":1669499061,"question_id":74585807,"body_markdown":"My current application has the next two web security configurations handled by orders.\r\n\r\nInteractive/web users authentication:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(\r\n        // Needed for method access control via the @Secured annotation\r\n        prePostEnabled = true,\r\n        jsr250Enabled = true,\r\n        securedEnabled = true\r\n    )\r\n    @Profile({&quot;cognito&quot;})\r\n    @Order(2)\r\n    public class CognitoSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @SneakyThrows\r\n        @Override\r\n        protected void configure(HttpSecurity http) {\r\n            http\r\n                // TODO disable CSRF because when enabled controllers aren&#39;t initialized\r\n                //  and if they are, POST are getting 403\r\n                .csrf().disable()\r\n    \r\n                .authorizeRequests()\r\n                .anyRequest().authenticated()\r\n    \r\n                .and()\r\n                .oauth2Client()\r\n    \r\n                .and()\r\n                .logout()\r\n    \r\n                .and()\r\n                .oauth2Login()\r\n                .redirectionEndpoint().baseUri(&quot;/login/oauth2/code/cognito&quot;)\r\n                .and()\r\n            ;\r\n        }\r\n    }\r\n\r\nREST clients authentication:\r\n\r\n    /**\r\n     * Allow users to use a token (id-token, jwt) instead of the interactive login.\r\n     * The token is specified as the &quot;Authorization: Bearer ...&quot; header.\r\n     * &lt;/p&gt;\r\n     * To get a token, the cognito client-app needs to support USER_PASSWORD_AUTH then use the following command:\r\n     * &lt;pre&gt;\r\n     *     aws cognito-idp initiate-auth --auth-flow USER_PASSWORD_AUTH --output json \\\r\n     *         --region $region --client-id $clientid --auth-parameters &quot;USERNAME=$username,PASSWORD=$password&quot; \\\r\n     *         | jq .AuthenticationResult.IdToken\r\n     * &lt;/pre&gt;\r\n     */\r\n    @Slf4j\r\n    @Configuration\r\n    @Profile({&quot;cognito&quot;})\r\n    @Order(1)\r\n    public class CognitoTokenBasedSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @SneakyThrows\r\n        @Override\r\n        protected void configure(HttpSecurity http) {\r\n            http\r\n                .requestMatcher(new RequestHeaderRequestMatcher(&quot;Authorization&quot;))\r\n                .authorizeRequests().anyRequest().authenticated()\r\n                .and().oauth2ResourceServer().jwt()\r\n            ;\r\n        }\r\n    \r\n    }\r\n\r\nAfter upgrading my SpringBoot dependencies, I have switched into `SecurityFilterChain` bean. I have tried to update the filter chain but I keep getting this error `Can&#39;t configure antMatchers after anyRequest`.\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            // TODO disable CSRF because when enabled controllers aren&#39;t initialized\r\n            //  and if they are, POST are getting 403\r\n            .csrf().disable()\r\n\r\n            .authorizeRequests()\r\n            .anyRequest().authenticated()\r\n\r\n            .and()\r\n            .oauth2Client()\r\n\r\n            .and()\r\n            .logout()\r\n\r\n            .and()\r\n            .oauth2Login()\r\n            .redirectionEndpoint().baseUri(&quot;/login/oauth2/code/cognito&quot;)\r\n            .and()\r\n\r\n        http.authorizeRequests()\r\n                .anyRequest().authenticated()\r\n                .and().oauth2ResourceServer().jwt();\r\n\r\n        return http.build();\r\n    }\r\n\r\nAny assistance is appreciated.","title":"Deprecate WebSecurityConfigurerAdapter and move to SecurityFilterChain","body":"<p>My current application has the next two web security configurations handled by orders.</p>\n<p>Interactive/web users authentication:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(\n    // Needed for method access control via the @Secured annotation\n    prePostEnabled = true,\n    jsr250Enabled = true,\n    securedEnabled = true\n)\n@Profile({&quot;cognito&quot;})\n@Order(2)\npublic class CognitoSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @SneakyThrows\n    @Override\n    protected void configure(HttpSecurity http) {\n        http\n            // TODO disable CSRF because when enabled controllers aren't initialized\n            //  and if they are, POST are getting 403\n            .csrf().disable()\n\n            .authorizeRequests()\n            .anyRequest().authenticated()\n\n            .and()\n            .oauth2Client()\n\n            .and()\n            .logout()\n\n            .and()\n            .oauth2Login()\n            .redirectionEndpoint().baseUri(&quot;/login/oauth2/code/cognito&quot;)\n            .and()\n        ;\n    }\n}\n</code></pre>\n<p>REST clients authentication:</p>\n<pre><code>/**\n * Allow users to use a token (id-token, jwt) instead of the interactive login.\n * The token is specified as the &quot;Authorization: Bearer ...&quot; header.\n * &lt;/p&gt;\n * To get a token, the cognito client-app needs to support USER_PASSWORD_AUTH then use the following command:\n * &lt;pre&gt;\n *     aws cognito-idp initiate-auth --auth-flow USER_PASSWORD_AUTH --output json \\\n *         --region $region --client-id $clientid --auth-parameters &quot;USERNAME=$username,PASSWORD=$password&quot; \\\n *         | jq .AuthenticationResult.IdToken\n * &lt;/pre&gt;\n */\n@Slf4j\n@Configuration\n@Profile({&quot;cognito&quot;})\n@Order(1)\npublic class CognitoTokenBasedSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @SneakyThrows\n    @Override\n    protected void configure(HttpSecurity http) {\n        http\n            .requestMatcher(new RequestHeaderRequestMatcher(&quot;Authorization&quot;))\n            .authorizeRequests().anyRequest().authenticated()\n            .and().oauth2ResourceServer().jwt()\n        ;\n    }\n\n}\n</code></pre>\n<p>After upgrading my SpringBoot dependencies, I have switched into <code>SecurityFilterChain</code> bean. I have tried to update the filter chain but I keep getting this error <code>Can't configure antMatchers after anyRequest</code>.</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        // TODO disable CSRF because when enabled controllers aren't initialized\n        //  and if they are, POST are getting 403\n        .csrf().disable()\n\n        .authorizeRequests()\n        .anyRequest().authenticated()\n\n        .and()\n        .oauth2Client()\n\n        .and()\n        .logout()\n\n        .and()\n        .oauth2Login()\n        .redirectionEndpoint().baseUri(&quot;/login/oauth2/code/cognito&quot;)\n        .and()\n\n    http.authorizeRequests()\n            .anyRequest().authenticated()\n            .and().oauth2ResourceServer().jwt();\n\n    return http.build();\n}\n</code></pre>\n<p>Any assistance is appreciated.</p>\n"},{"tags":["java","spring-boot","kerberos","apache-phoenix","spring-security-kerberos"],"comments":[{"owner":{"account_id":15859839,"reputation":5,"user_id":11443228,"display_name":"charchit patidar"},"score":0,"creation_date":1575469578,"post_id":59178241,"comment_id":104577709,"body_markdown":"url i am using  is -\nnbxHbaseUrl - jdbc:phoenix:ipaddress:2181/hbase-secure:hbase-dev@myhost.com:/src/main/resources/nbxservice.keytab","body":"url i am using  is - nbxHbaseUrl - jdbc:phoenix:ipaddress:2181/hbase-secure:hbase-dev@myhost.co&zwnj;&#8203;m:/src/main/resource&zwnj;&#8203;s/nbxservice.keytab"},{"owner":{"account_id":1587820,"reputation":627,"user_id":1471779,"accept_rate":67,"display_name":"Bhushan Karmarkar"},"score":0,"creation_date":1576142049,"post_id":59178241,"comment_id":104805192,"body_markdown":"Either your keytab can not be located or it contains unexpected entries. Have you checked here: https://stackoverflow.com/questions/29844339/kerberos-spring-javax-security-auth-login-loginexception-unable-to-obtain-passw","body":"Either your keytab can not be located or it contains unexpected entries. Have you checked here: <a href=\"https://stackoverflow.com/questions/29844339/kerberos-spring-javax-security-auth-login-loginexception-unable-to-obtain-passw\" title=\"kerberos spring javax security auth login loginexception unable to obtain passw\">stackoverflow.com/questions/29844339/&hellip;</a>"}],"owner":{"account_id":15859839,"reputation":5,"user_id":11443228,"display_name":"charchit patidar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669501136,"creation_date":1575469486,"question_id":59178241,"body_markdown":"i am trying to connect kerberos cluster with springboot and facing some issue - \r\nhere if my code -\r\n\r\n```\r\npackage com.virginvoyages.nbx.phoenix.jdbc.config;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Properties;\r\n\r\nimport javax.sql.DataSource;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\r\nimport org.apache.hadoop.security.UserGroupInformation;\r\n/**\r\n * Spring JDBC Connection for Phoenix Hbase.\r\n * \r\n * @author mokasara\r\n *\r\n */\r\n@ConditionalOnProperty(name = &quot;deployment&quot;, havingValue = &quot;ship&quot;)\r\n@Configuration\r\npublic class PhoenixHbaseJDBCDatasourceShipConnection {\r\n    \r\n    @Value(&quot;${nbx.phoenix.hbase.ship.url}&quot;)\r\n    private String nbxHbaseUrl;\r\n    \r\n    /**\r\n     * Phoenix Datasource Connection Bean.\r\n     * \r\n     * @return Datasource\r\n     * @throws IOException \r\n     */\r\n    @Bean\r\n    public DataSource phoenixDataSource() throws IOException {\r\n        DriverManagerDataSource dataSource1 = new DriverManagerDataSource();\r\n       \r\n        System.setProperty(&quot;java.security.krb5.conf&quot;, &quot;src/main/resources/krb5.conf&quot;);\r\n        org.apache.hadoop.conf.Configuration conf = new org.apache.hadoop.conf.Configuration();\r\n        conf.set(&quot;hadoop.security.authentication&quot;, &quot;kerberos&quot;);\r\n        UserGroupInformation.setConfiguration(conf);\r\n        UserGroupInformation.loginUserFromKeytab(&quot;hbase-dev@myhost.com&quot;,&quot;src/main/resources/hbase.headless.keytab&quot;);\r\n        \r\n        dataSource1.setUsername(&quot;username&quot;);\r\n        dataSource1.setPassword(&quot;password&quot;); \r\n        dataSource1.setDriverClassName(&quot;org.apache.phoenix.jdbc.PhoenixDriver&quot;);\r\n        dataSource1.setUrl(nbxHbaseUrl);\r\n        return dataSource1;\r\n    }\r\n    \r\n    /**\r\n     * Phoenix Hbase JDBC Template Bean.\r\n     * \r\n     * @param dataSource\r\n     *          - datasource\r\n     * @return JdbcTemplate\r\n     */\r\n    @Bean\r\n    public JdbcTemplate jdbcTemplate(DataSource dataSource) {\r\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\r\n        return jdbcTemplate;\r\n    }\r\n\r\n}\r\n```\r\ni am getting below exception -\r\n\r\n*\r\n{&quot;timestamp&quot;:&quot;2019-12-04T17:56:23.118+05:30&quot;,&quot;version&quot;:1,&quot;message&quot;:&quot;Exception occurred in CalendarRecommendationDAOImpl method- getCalendarRecommendations &quot;,&quot;logger_name&quot;:&quot;com.virginvoyages.nbx.dao.impl.CalendarDaoSupport&quot;,&quot;thread_name&quot;:&quot;http-nio-8438-exec-1&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;level_value&quot;:40000,&quot;stack_trace&quot;:&quot;org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: ERROR 103 (08004): Unable to establish connection.\\r\\n\\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)\\r\\n\\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:371)\\r\\n\\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:452)\\r\\n\\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:462)\\r\\n\\tat org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:473)\\r\\n\\tat com.virginvoyages.nbx.dao.impl.CalendarDaoSupport.getCalendarRecommendations(CalendarDaoSupport.java:199)\\r\\n\\tat com.virginvoyages.nbx.dao.impl.CalendarDaoSupport$$FastClassBySpringCGLIB$$e665c50f.invoke(&lt;generated&gt;)\\r\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\r\\n\\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\\r\\n\\tat com.virginvoyages.nbx.dao.impl.ARSInventoryHelper$$EnhancerBySpringCGLIB$$c7dbe61c.getCalendarRecommendations(&lt;generated&gt;)\\r\\n\\tat com.virginvoyages.nbx.assembly.impl.CalendarRecommendationAssemblyImpl.getCalendarRecommendation(CalendarRecommendationAssemblyImpl.java:43)\\r\\n\\tat com.virginvoyages.nbx.assembly.impl.CalendarRecommendationAssemblyImpl$$FastClassBySpringCGLIB$$bf2eae41.invoke(&lt;generated&gt;)\\r\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\r\\n\\tat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\\r\\n\\tat com.virginvoyages.nbx.assembly.impl.CalendarRecommendationAssemblyImpl$$EnhancerBySpringCGLIB$$6cb4e4b4.getCalendarRecommendation(&lt;generated&gt;)\\r\\n\\tat com.virginvoyages.nbx.calendar.CalendarRecommendationController.calendarRecommendationPost(CalendarRecommendationController.java:90)\\r\\n\\tat com.virginvoyages.nbx.calendar.CalendarRecommendationController$$FastClassBySpringCGLIB$$d5e5fde5.invoke(&lt;generated&gt;)\\r\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\r\\n\\tat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\\r\\n\\tat com.virginvoyages.nbx.calendar.CalendarRecommendationController$$EnhancerBySpringCGLIB$$25ffe737.calendarRecommendationPost(&lt;generated&gt;)\\r\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\r\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.virginvoyages.logging.LogFilter.doFilter(LogFilter.java:54)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.virginvoyages.api.OriginFilter.doFilter(OriginFilter.java:27)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.virginvoyages.logging.LogFilter.doFilter(LogFilter.java:54)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\\r\\n\\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\\r\\n\\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\\r\\n\\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\\r\\n\\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\\r\\n\\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)\\r\\n\\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\r\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.lang.Thread.run(Thread.java:748)\\r\\nCaused by: java.sql.SQLException: ERROR 103 (08004): Unable to establish connection.\\r\\n\\tat org.apache.phoenix.exception.SQLExceptionCode$Factory$1.newException(SQLExceptionCode.java:494)\\r\\n\\tat org.apache.phoenix.exception.SQLExceptionInfo.buildException(SQLExceptionInfo.java:150)\\r\\n\\tat org.apache.phoenix.jdbc.PhoenixEmbeddedDriver$ConnectionInfo.normalize(PhoenixEmbeddedDriver.java:396)\\r\\n\\tat org.apache.phoenix.jdbc.PhoenixDriver.getConnectionQueryServices(PhoenixDriver.java:238)\\r\\n\\tat org.apache.phoenix.jdbc.PhoenixEmbeddedDriver.createConnection(PhoenixEmbeddedDriver.java:150)\\r\\n\\tat org.apache.phoenix.jdbc.PhoenixDriver.connect(PhoenixDriver.java:221)\\r\\n\\tat java.sql.DriverManager.getConnection(DriverManager.java:664)\\r\\n\\tat java.sql.DriverManager.getConnection(DriverManager.java:208)\\r\\n\\tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:154)\\r\\n\\tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:145)\\r\\n\\tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205)\\r\\n\\tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:169)\\r\\n\\tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:157)\\r\\n\\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)\\r\\n\\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)\\r\\n\\t... 145 common frames omitted\\r\\nCaused by: java.io.IOException: Login failure for 2181/hbase-secure from keytab nbx.service@VIRGINVOYAGES.QA.DEV: javax.security.auth.login.LoginException: Unable to obtain password from user\\n\\r\\n\\tat org.apache.hadoop.security.UserGroupInformation.loginUserFromKeytab(UserGroupInformation.java:979)\\r\\n\\tat org.apache.hadoop.security.SecurityUtil.login(SecurityUtil.java:246)\\r\\n\\tat org.apache.hadoop.hbase.security.User$SecureHadoopUser.login(User.java:420)\\r\\n\\tat org.apache.hadoop.hbase.security.User.login(User.java:258)\\r\\n\\tat org.apache.phoenix.jdbc.PhoenixEmbeddedDriver$ConnectionInfo.normalize(PhoenixEmbeddedDriver.java:387)\\r\\n\\t... 157 common frames omitted\\r\\nCaused by: javax.security.auth.login.LoginException: Unable to obtain password from user\\n\\r\\n\\tat com.sun.security.auth.module.Krb5LoginModule.promptForPass(Krb5LoginModule.java:897)\\r\\n\\tat com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:760)\\r\\n\\tat com.sun.security.auth.module.Krb5LoginModule.login(Krb5LoginModule.java:617)\\r\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\r\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\r\\n\\tat javax.security.auth.login.LoginContext.invoke(LoginContext.java:755)\\r\\n\\tat javax.security.auth.login.LoginContext.access$000(LoginContext.java:195)\\r\\n\\tat javax.security.auth.login.LoginContext$4.run(LoginContext.java:682)\\r\\n\\tat javax.security.auth.login.LoginContext$4.run(LoginContext.java:680)\\r\\n\\tat java.security.AccessController.doPrivileged(Native Method)\\r\\n\\tat javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:680)\\r\\n\\tat javax.security.auth.login.LoginContext.login(LoginContext.java:587)\\r\\n\\tat org.apache.hadoop.security.UserGroupInformation.loginUserFromKeytab(UserGroupInformation.java:970)\\r\\n\\t... 161 common frames omitted\\r\\n&quot;,&quot;clientID&quot;:&quot;f0f4b93c-56a1-11e9-80d8-0a1a4261e962&quot;,&quot;correlationId&quot;:&quot;bcf4dfc6-68ff-42eb-abed-d93ddcf76631&quot;,&quot;componentName&quot;:&quot;recommendation-api&quot;,&quot;componentVersion&quot;:&quot;0.0.1&quot;}*\r\n","title":"Unable to connect spring boot with Secured Kerberos using jdbc template","body":"<p>i am trying to connect kerberos cluster with springboot and facing some issue - \nhere if my code -</p>\n\n<pre><code>package com.virginvoyages.nbx.phoenix.jdbc.config;\n\nimport java.io.IOException;\nimport java.util.Properties;\n\nimport javax.sql.DataSource;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.apache.hadoop.security.UserGroupInformation;\n/**\n * Spring JDBC Connection for Phoenix Hbase.\n * \n * @author mokasara\n *\n */\n@ConditionalOnProperty(name = \"deployment\", havingValue = \"ship\")\n@Configuration\npublic class PhoenixHbaseJDBCDatasourceShipConnection {\n\n    @Value(\"${nbx.phoenix.hbase.ship.url}\")\n    private String nbxHbaseUrl;\n\n    /**\n     * Phoenix Datasource Connection Bean.\n     * \n     * @return Datasource\n     * @throws IOException \n     */\n    @Bean\n    public DataSource phoenixDataSource() throws IOException {\n        DriverManagerDataSource dataSource1 = new DriverManagerDataSource();\n\n        System.setProperty(\"java.security.krb5.conf\", \"src/main/resources/krb5.conf\");\n        org.apache.hadoop.conf.Configuration conf = new org.apache.hadoop.conf.Configuration();\n        conf.set(\"hadoop.security.authentication\", \"kerberos\");\n        UserGroupInformation.setConfiguration(conf);\n        UserGroupInformation.loginUserFromKeytab(\"hbase-dev@myhost.com\",\"src/main/resources/hbase.headless.keytab\");\n\n        dataSource1.setUsername(\"username\");\n        dataSource1.setPassword(\"password\"); \n        dataSource1.setDriverClassName(\"org.apache.phoenix.jdbc.PhoenixDriver\");\n        dataSource1.setUrl(nbxHbaseUrl);\n        return dataSource1;\n    }\n\n    /**\n     * Phoenix Hbase JDBC Template Bean.\n     * \n     * @param dataSource\n     *          - datasource\n     * @return JdbcTemplate\n     */\n    @Bean\n    public JdbcTemplate jdbcTemplate(DataSource dataSource) {\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\n        return jdbcTemplate;\n    }\n\n}\n</code></pre>\n\n<p>i am getting below exception -</p>\n\n<p>*\n{\"timestamp\":\"2019-12-04T17:56:23.118+05:30\",\"version\":1,\"message\":\"Exception occurred in CalendarRecommendationDAOImpl method- getCalendarRecommendations \",\"logger_name\":\"com.virginvoyages.nbx.dao.impl.CalendarDaoSupport\",\"thread_name\":\"http-nio-8438-exec-1\",\"level\":\"ERROR\",\"level_value\":40000,\"stack_trace\":\"org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: ERROR 103 (08004): Unable to establish connection.\\r\\n\\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)\\r\\n\\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:371)\\r\\n\\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:452)\\r\\n\\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:462)\\r\\n\\tat org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:473)\\r\\n\\tat com.virginvoyages.nbx.dao.impl.CalendarDaoSupport.getCalendarRecommendations(CalendarDaoSupport.java:199)\\r\\n\\tat com.virginvoyages.nbx.dao.impl.CalendarDaoSupport$$FastClassBySpringCGLIB$$e665c50f.invoke()\\r\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\r\\n\\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\\r\\n\\tat com.virginvoyages.nbx.dao.impl.ARSInventoryHelper$$EnhancerBySpringCGLIB$$c7dbe61c.getCalendarRecommendations()\\r\\n\\tat com.virginvoyages.nbx.assembly.impl.CalendarRecommendationAssemblyImpl.getCalendarRecommendation(CalendarRecommendationAssemblyImpl.java:43)\\r\\n\\tat com.virginvoyages.nbx.assembly.impl.CalendarRecommendationAssemblyImpl$$FastClassBySpringCGLIB$$bf2eae41.invoke()\\r\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\r\\n\\tat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\\r\\n\\tat com.virginvoyages.nbx.assembly.impl.CalendarRecommendationAssemblyImpl$$EnhancerBySpringCGLIB$$6cb4e4b4.getCalendarRecommendation()\\r\\n\\tat com.virginvoyages.nbx.calendar.CalendarRecommendationController.calendarRecommendationPost(CalendarRecommendationController.java:90)\\r\\n\\tat com.virginvoyages.nbx.calendar.CalendarRecommendationController$$FastClassBySpringCGLIB$$d5e5fde5.invoke()\\r\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\r\\n\\tat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\\r\\n\\tat com.virginvoyages.nbx.calendar.CalendarRecommendationController$$EnhancerBySpringCGLIB$$25ffe737.calendarRecommendationPost()\\r\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\r\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.virginvoyages.logging.LogFilter.doFilter(LogFilter.java:54)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.virginvoyages.api.OriginFilter.doFilter(OriginFilter.java:27)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.virginvoyages.logging.LogFilter.doFilter(LogFilter.java:54)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\\r\\n\\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\\r\\n\\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\\r\\n\\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\\r\\n\\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\\r\\n\\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)\\r\\n\\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\r\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.lang.Thread.run(Thread.java:748)\\r\\nCaused by: java.sql.SQLException: ERROR 103 (08004): Unable to establish connection.\\r\\n\\tat org.apache.phoenix.exception.SQLExceptionCode$Factory$1.newException(SQLExceptionCode.java:494)\\r\\n\\tat org.apache.phoenix.exception.SQLExceptionInfo.buildException(SQLExceptionInfo.java:150)\\r\\n\\tat org.apache.phoenix.jdbc.PhoenixEmbeddedDriver$ConnectionInfo.normalize(PhoenixEmbeddedDriver.java:396)\\r\\n\\tat org.apache.phoenix.jdbc.PhoenixDriver.getConnectionQueryServices(PhoenixDriver.java:238)\\r\\n\\tat org.apache.phoenix.jdbc.PhoenixEmbeddedDriver.createConnection(PhoenixEmbeddedDriver.java:150)\\r\\n\\tat org.apache.phoenix.jdbc.PhoenixDriver.connect(PhoenixDriver.java:221)\\r\\n\\tat java.sql.DriverManager.getConnection(DriverManager.java:664)\\r\\n\\tat java.sql.DriverManager.getConnection(DriverManager.java:208)\\r\\n\\tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:154)\\r\\n\\tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:145)\\r\\n\\tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205)\\r\\n\\tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:169)\\r\\n\\tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:157)\\r\\n\\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)\\r\\n\\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)\\r\\n\\t... 145 common frames omitted\\r\\nCaused by: java.io.IOException: Login failure for 2181/hbase-secure from keytab nbx.service@VIRGINVOYAGES.QA.DEV: javax.security.auth.login.LoginException: Unable to obtain password from user\\n\\r\\n\\tat org.apache.hadoop.security.UserGroupInformation.loginUserFromKeytab(UserGroupInformation.java:979)\\r\\n\\tat org.apache.hadoop.security.SecurityUtil.login(SecurityUtil.java:246)\\r\\n\\tat org.apache.hadoop.hbase.security.User$SecureHadoopUser.login(User.java:420)\\r\\n\\tat org.apache.hadoop.hbase.security.User.login(User.java:258)\\r\\n\\tat org.apache.phoenix.jdbc.PhoenixEmbeddedDriver$ConnectionInfo.normalize(PhoenixEmbeddedDriver.java:387)\\r\\n\\t... 157 common frames omitted\\r\\nCaused by: javax.security.auth.login.LoginException: Unable to obtain password from user\\n\\r\\n\\tat com.sun.security.auth.module.Krb5LoginModule.promptForPass(Krb5LoginModule.java:897)\\r\\n\\tat com.sun.security.auth.module.Krb5LoginModule.attemptAuthentication(Krb5LoginModule.java:760)\\r\\n\\tat com.sun.security.auth.module.Krb5LoginModule.login(Krb5LoginModule.java:617)\\r\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\r\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\r\\n\\tat javax.security.auth.login.LoginContext.invoke(LoginContext.java:755)\\r\\n\\tat javax.security.auth.login.LoginContext.access$000(LoginContext.java:195)\\r\\n\\tat javax.security.auth.login.LoginContext$4.run(LoginContext.java:682)\\r\\n\\tat javax.security.auth.login.LoginContext$4.run(LoginContext.java:680)\\r\\n\\tat java.security.AccessController.doPrivileged(Native Method)\\r\\n\\tat javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:680)\\r\\n\\tat javax.security.auth.login.LoginContext.login(LoginContext.java:587)\\r\\n\\tat org.apache.hadoop.security.UserGroupInformation.loginUserFromKeytab(UserGroupInformation.java:970)\\r\\n\\t... 161 common frames omitted\\r\\n\",\"clientID\":\"f0f4b93c-56a1-11e9-80d8-0a1a4261e962\",\"correlationId\":\"bcf4dfc6-68ff-42eb-abed-d93ddcf76631\",\"componentName\":\"recommendation-api\",\"componentVersion\":\"0.0.1\"}*</p>\n"},{"tags":["java","nlp","pos-tagger","part-of-speech"],"comments":[{"owner":{"account_id":43694,"reputation":2250,"user_id":127839,"accept_rate":100,"display_name":"Oliver Mason"},"score":0,"creation_date":1646230967,"post_id":71321745,"comment_id":126071797,"body_markdown":"What do you mean by &#39;outdated&#39;? German morphology isn&#39;t changing that quickly.","body":"What do you mean by &#39;outdated&#39;? German morphology isn&#39;t changing that quickly."},{"owner":{"account_id":15667436,"reputation":13,"user_id":11304860,"display_name":"MK2112"},"score":0,"creation_date":1646233213,"post_id":71321745,"comment_id":126072822,"body_markdown":"@OliverMason Correct. The morphology isn&#39;t outdated, but the RFTagger itself is. I tested it and it does not work with Java 8 or above as it was written in Java 6. (the dependency com.sun.jna.NativeLibrary throws an UnsatisfiedLinkError)","body":"@OliverMason Correct. The morphology isn&#39;t outdated, but the RFTagger itself is. I tested it and it does not work with Java 8 or above as it was written in Java 6. (the dependency com.sun.jna.NativeLibrary throws an UnsatisfiedLinkError)"},{"owner":{"account_id":43694,"reputation":2250,"user_id":127839,"accept_rate":100,"display_name":"Oliver Mason"},"score":0,"creation_date":1646236086,"post_id":71321745,"comment_id":126074158,"body_markdown":"You can download the source code from that page, apparently with Linux binaries (not sure if they would still work); if all fails, just ask the author...","body":"You can download the source code from that page, apparently with Linux binaries (not sure if they would still work); if all fails, just ask the author..."},{"owner":{"account_id":15667436,"reputation":13,"user_id":11304860,"display_name":"MK2112"},"score":0,"creation_date":1646580269,"post_id":71321745,"comment_id":126153657,"body_markdown":"@OliverMason Correct, there is a download link. However the downloadable version is in Beta and only for Java 6. Asking the author is an interesting option, but I wanted to look out for available, Java 8+ compatible POS Taggers with RFTagger&#39;s capability first.","body":"@OliverMason Correct, there is a download link. However the downloadable version is in Beta and only for Java 6. Asking the author is an interesting option, but I wanted to look out for available, Java 8+ compatible POS Taggers with RFTagger&#39;s capability first."}],"owner":{"account_id":15667436,"reputation":13,"user_id":11304860,"display_name":"MK2112"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669500791,"creation_date":1646219804,"question_id":71321745,"body_markdown":"The [RFTagger](https://www.cis.uni-muenchen.de/~schmid/tools/RFTagger/) is a Part-Of-Speech Tagger with very detailed tags for german words.\r\n\r\nAccording to their website, output looks like this:\r\n\r\n|word|part of speech|\r\n|--|--|\r\n|Das|`PRO.Dem.Subst.-3.Nom.Sg.Neut`|\r\n|ist|`VFIN.Sein.3.Sg.Pres.Ind`|\r\n|ein|`ART.Indef.Nom.Sg.Masc`|\r\n|Test|`N.Reg.Nom.Sg.Masc`|\r\n|.|`SYM.Pun.Sent`|\r\n\r\n**The tags contain information about the respective word&#39;s declension. This information is what I need.**&lt;br&gt;However the [RFTagger](https://www.cis.uni-muenchen.de/~schmid/tools/RFTagger/) is pretty outdated (available [here](http://sifnos.sfs.uni-tuebingen.de/resource/A4/rftj/) as Beta for Java 6).\r\n\r\nIs there any alternative POSTagger out there that is able to give me the declension of a german word?\r\n","title":"POS Tagger for declension of german words in Java","body":"<p>The <a href=\"https://www.cis.uni-muenchen.de/%7Eschmid/tools/RFTagger/\" rel=\"nofollow noreferrer\">RFTagger</a> is a Part-Of-Speech Tagger with very detailed tags for german words.</p>\n<p>According to their website, output looks like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>word</th>\n<th>part of speech</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Das</td>\n<td><code>PRO.Dem.Subst.-3.Nom.Sg.Neut</code></td>\n</tr>\n<tr>\n<td>ist</td>\n<td><code>VFIN.Sein.3.Sg.Pres.Ind</code></td>\n</tr>\n<tr>\n<td>ein</td>\n<td><code>ART.Indef.Nom.Sg.Masc</code></td>\n</tr>\n<tr>\n<td>Test</td>\n<td><code>N.Reg.Nom.Sg.Masc</code></td>\n</tr>\n<tr>\n<td>.</td>\n<td><code>SYM.Pun.Sent</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>The tags contain information about the respective word's declension. This information is what I need.</strong><br>However the <a href=\"https://www.cis.uni-muenchen.de/%7Eschmid/tools/RFTagger/\" rel=\"nofollow noreferrer\">RFTagger</a> is pretty outdated (available <a href=\"http://sifnos.sfs.uni-tuebingen.de/resource/A4/rftj/\" rel=\"nofollow noreferrer\">here</a> as Beta for Java 6).</p>\n<p>Is there any alternative POSTagger out there that is able to give me the declension of a german word?</p>\n"},{"tags":["java","xml","dom","jaxb","sax"],"comments":[{"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"score":0,"creation_date":1669492810,"post_id":74585189,"comment_id":131654458,"body_markdown":"Please show code of  DtoPerson.","body":"Please show code of  DtoPerson."}],"answers":[{"comments":[{"owner":{"account_id":22648788,"reputation":11,"user_id":16823780,"display_name":"Dudka Dima"},"score":0,"creation_date":1669573099,"post_id":74585936,"comment_id":131666842,"body_markdown":"Another question, how could i add main attribute? Like &lt;persons&gt;some person &lt;persons/&gt; . In first example you could see it. Thanks a lot.","body":"Another question, how could i add main attribute? Like &lt;persons&gt;some person &lt;persons/&gt; . In first example you could see it. Thanks a lot."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669573632,"post_id":74585936,"comment_id":131666976,"body_markdown":"Create a Persons class containing a List&lt;Person&gt; attribute.","body":"Create a Persons class containing a List&lt;Person&gt; attribute."}],"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669500523,"creation_date":1669500523,"answer_id":74585936,"question_id":74585189,"body_markdown":"You need to add annotation @XmlAttribute to affected fields in DtoPerson. ","title":"How could i create a XML file using my java object and set the specific format for this XML file?","body":"<p>You need to add annotation @XmlAttribute to affected fields in DtoPerson.</p>\n"}],"owner":{"account_id":22648788,"reputation":11,"user_id":16823780,"display_name":"Dudka Dima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74585936,"answer_count":1,"score":-1,"last_activity_date":1669500523,"creation_date":1669492506,"question_id":74585189,"body_markdown":"I have to create an XML file from java object with specific format of my XML file. \r\n\r\nMy xml should look like this.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persons&gt;\r\n    &lt;person\r\n            name=&quot;Nick&quot;\r\n            birthday = &quot;09.03.1814&quot;/&gt;\r\n&lt;/persons&gt;\r\n```\r\nOr like this one.\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persons&gt;\r\n    &lt;person surname=&quot;Sd&quot; name=&quot;aaa&quot; birthday = &quot;09.03.1814&quot;/&gt;\r\n&lt;/persons&gt;\r\n```\r\n Depends on old format of xml. How could i do this?\r\n Thanks!\r\n\r\n\r\nI&#39;ve try to use this code for creating xml \r\n\r\n\r\n```\r\npublic static void createNewXml(List&lt;Person&gt; persons) {\r\n    List&lt;DtoPerson&gt; dtoPersonList = new ArrayList&lt;&gt;();\r\n    for (Person person : persons) {\r\n        dtoPersonList.add(new DtoPerson(person));\r\n    }\r\n    try {\r\n        JAXBContext jaxbContext =  JAXBContext.newInstance(DtoPerson.class);\r\n        Marshaller marshaller = jaxbContext.createMarshaller();\r\n        File file = new File(&quot;personx.xml&quot;);\r\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n\r\n        for(DtoPerson personDto : dtoPersonList) {\r\n            marshaller.marshal(personDto, file);\r\n        }\r\n\r\n    } catch (JAXBException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n    System.out.println(Arrays.toString(dtoPersonList.toArray()));\r\n}\r\n```\r\n\r\nBut this code create an xml with other format \r\n\r\n```\r\n&lt;dtoPerson&gt;\r\n    &lt;birthday&gt;09.03.1814&lt;/birthday&gt;\r\n    &lt;name&gt;aaa Sd&lt;/name&gt;\r\n&lt;/dtoPerson&gt;\r\n```\r\n","title":"How could i create a XML file using my java object and set the specific format for this XML file?","body":"<p>I have to create an XML file from java object with specific format of my XML file.</p>\n<p>My xml should look like this.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persons&gt;\n    &lt;person\n            name=&quot;Nick&quot;\n            birthday = &quot;09.03.1814&quot;/&gt;\n&lt;/persons&gt;\n</code></pre>\n<p>Or like this one.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persons&gt;\n    &lt;person surname=&quot;Sd&quot; name=&quot;aaa&quot; birthday = &quot;09.03.1814&quot;/&gt;\n&lt;/persons&gt;\n</code></pre>\n<p>Depends on old format of xml. How could i do this?\nThanks!</p>\n<p>I've try to use this code for creating xml</p>\n<pre><code>public static void createNewXml(List&lt;Person&gt; persons) {\n    List&lt;DtoPerson&gt; dtoPersonList = new ArrayList&lt;&gt;();\n    for (Person person : persons) {\n        dtoPersonList.add(new DtoPerson(person));\n    }\n    try {\n        JAXBContext jaxbContext =  JAXBContext.newInstance(DtoPerson.class);\n        Marshaller marshaller = jaxbContext.createMarshaller();\n        File file = new File(&quot;personx.xml&quot;);\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n\n        for(DtoPerson personDto : dtoPersonList) {\n            marshaller.marshal(personDto, file);\n        }\n\n    } catch (JAXBException e) {\n        throw new RuntimeException(e);\n    }\n    System.out.println(Arrays.toString(dtoPersonList.toArray()));\n}\n</code></pre>\n<p>But this code create an xml with other format</p>\n<pre><code>&lt;dtoPerson&gt;\n    &lt;birthday&gt;09.03.1814&lt;/birthday&gt;\n    &lt;name&gt;aaa Sd&lt;/name&gt;\n&lt;/dtoPerson&gt;\n</code></pre>\n"},{"tags":["java","jmeter","windows-10"],"answers":[{"comments":[{"owner":{"account_id":14390736,"reputation":129,"user_id":10395384,"display_name":"Ivan Markov"},"score":0,"creation_date":1658997030,"post_id":73149574,"comment_id":129192130,"body_markdown":"Thanks for the fast response. I will connect with the sys admins for help. Maybe it is from the antivirus software.","body":"Thanks for the fast response. I will connect with the sys admins for help. Maybe it is from the antivirus software."}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658996879,"creation_date":1658996879,"answer_id":73149574,"question_id":73149454,"body_markdown":"I don&#39;t think it&#39;s connected with JMeter by any means, most probably it&#39;s some form of [antivirus software][1] which prevents clipboard actions somehow. \r\n\r\nYou can try [increasing JMeter&#39;s logging verbosity to DEBUG level][2] just in case and see if there are any suspicious entries in [jmeter.log file][3], however I&#39;m more than sure that the behaviour is caused by some 3rd-party software running on your laptop, if it&#39;s not the antivirus it could be something like [WRITEit application][4] so do a [clean boot][5] and the issue will go away and then add the startup programs and start services one by one unless you detect the one which causes this problem \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Antivirus_software\r\n  [2]: https://www.blazemeter.com/blog/jmeter-logging\r\n  [3]: https://jmeter.apache.org/usermanual/get-started.html#logging\r\n  [4]: https://writeit.en.softonic.com/\r\n  [5]: https://support.microsoft.com/en-us/topic/how-to-perform-a-clean-boot-in-windows-da2f9573-6eec-00ad-2f8a-a97a1807f3dd","title":"JMeter can&#39;t copy-paste to and from JMeter and Windows 10","body":"<p>I don't think it's connected with JMeter by any means, most probably it's some form of <a href=\"https://en.wikipedia.org/wiki/Antivirus_software\" rel=\"nofollow noreferrer\">antivirus software</a> which prevents clipboard actions somehow.</p>\n<p>You can try <a href=\"https://www.blazemeter.com/blog/jmeter-logging\" rel=\"nofollow noreferrer\">increasing JMeter's logging verbosity to DEBUG level</a> just in case and see if there are any suspicious entries in <a href=\"https://jmeter.apache.org/usermanual/get-started.html#logging\" rel=\"nofollow noreferrer\">jmeter.log file</a>, however I'm more than sure that the behaviour is caused by some 3rd-party software running on your laptop, if it's not the antivirus it could be something like <a href=\"https://writeit.en.softonic.com/\" rel=\"nofollow noreferrer\">WRITEit application</a> so do a <a href=\"https://support.microsoft.com/en-us/topic/how-to-perform-a-clean-boot-in-windows-da2f9573-6eec-00ad-2f8a-a97a1807f3dd\" rel=\"nofollow noreferrer\">clean boot</a> and the issue will go away and then add the startup programs and start services one by one unless you detect the one which causes this problem</p>\n"},{"tags":[],"owner":{"account_id":14390736,"reputation":129,"user_id":10395384,"display_name":"Ivan Markov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659007909,"creation_date":1659007909,"answer_id":73152166,"question_id":73149454,"body_markdown":"I find the solution.  \r\n@Dmitri T was right. The issue appears because of antivirus protection. The fix was to run the jmeter.bat file as an administrator.","title":"JMeter can&#39;t copy-paste to and from JMeter and Windows 10","body":"<p>I find the solution.<br />\n@Dmitri T was right. The issue appears because of antivirus protection. The fix was to run the jmeter.bat file as an administrator.</p>\n"},{"comments":[{"owner":{"account_id":14390736,"reputation":129,"user_id":10395384,"display_name":"Ivan Markov"},"score":0,"creation_date":1669664366,"post_id":74585844,"comment_id":131689340,"body_markdown":"Good to know. My problem was with antivirus software, but it is good to know that there is a workaround.","body":"Good to know. My problem was with antivirus software, but it is good to know that there is a workaround."}],"tags":[],"owner":{"account_id":24649743,"reputation":11,"user_id":18546972,"display_name":"Artyom Potapov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669500107,"creation_date":1669499553,"answer_id":74585844,"question_id":73149454,"body_markdown":"I had the same problem with JMeter 5.5 when I had changed Option-&gt;LookAndFeel-&gt;&quot;Metal&quot;. Then I returned back to &quot;System&quot; and the problem had gone. Now copy-paste are working well.","title":"JMeter can&#39;t copy-paste to and from JMeter and Windows 10","body":"<p>I had the same problem with JMeter 5.5 when I had changed Option-&gt;LookAndFeel-&gt;&quot;Metal&quot;. Then I returned back to &quot;System&quot; and the problem had gone. Now copy-paste are working well.</p>\n"}],"owner":{"account_id":14390736,"reputation":129,"user_id":10395384,"display_name":"Ivan Markov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1669500107,"creation_date":1658996284,"question_id":73149454,"body_markdown":"I met a bizarre issue on my working laptop. Usually, I use my desktop PC for work, but I am in the office today. I am using my working laptop. For some reason, I cannot copy from Windows 10 to JMeter and from JMeter to Windows 10. For example, I am using Notepad++ for creating test cases for interface testing. I am trying to copy-paste from Notepad++ to JMeter. It is not possible.\r\n\r\nSomething that is very strange for me is that JMeter window has some strange green line at the edge of the window.\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nI am using JMeter version 5.5  \r\nWindows 10 - 64 bit  \r\nI tried with JDK 17.0.1 and JDK 1.8_202 (because I wasn&#39;t sure if the issue came from Java at all)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ia0Kp.png\r\n  [2]: https://i.stack.imgur.com/nnQDQ.png","title":"JMeter can&#39;t copy-paste to and from JMeter and Windows 10","body":"<p>I met a bizarre issue on my working laptop. Usually, I use my desktop PC for work, but I am in the office today. I am using my working laptop. For some reason, I cannot copy from Windows 10 to JMeter and from JMeter to Windows 10. For example, I am using Notepad++ for creating test cases for interface testing. I am trying to copy-paste from Notepad++ to JMeter. It is not possible.</p>\n<p>Something that is very strange for me is that JMeter window has some strange green line at the edge of the window.\n<a href=\"https://i.stack.imgur.com/Ia0Kp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ia0Kp.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/nnQDQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nnQDQ.png\" alt=\"enter image description here\" /></a></p>\n<p>I am using JMeter version 5.5<br />\nWindows 10 - 64 bit<br />\nI tried with JDK 17.0.1 and JDK 1.8_202 (because I wasn't sure if the issue came from Java at all)</p>\n"},{"tags":["java","string","stack"],"answers":[{"tags":[],"owner":{"account_id":4531172,"reputation":379,"user_id":3681614,"display_name":"S. Miller"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669495403,"creation_date":1669495403,"answer_id":74585464,"question_id":74585438,"body_markdown":"Before your loop, you need to create your stack like \r\n`Stack&lt;String&gt; wordStack = new Stack&lt;String&gt;();`\r\n\r\nYou would do your current push operations on `wordStack,` and then you would pop in your second loop as you would expect.\r\n\r\nYou got very close.\r\n","title":"Need help reading through my String to push to Stack","body":"<p>Before your loop, you need to create your stack like\n<code>Stack&lt;String&gt; wordStack = new Stack&lt;String&gt;();</code></p>\n<p>You would do your current push operations on <code>wordStack,</code> and then you would pop in your second loop as you would expect.</p>\n<p>You got very close.</p>\n"},{"comments":[{"owner":{"account_id":26809631,"reputation":21,"user_id":20400438,"display_name":"ScarletCas"},"score":1,"creation_date":1669598908,"post_id":74585595,"comment_id":131671485,"body_markdown":"Thank you so  much! Beyond providing code, you explained what I  was missing and why. That helped me learn more than just giving me the code. Thanks!!","body":"Thank you so  much! Beyond providing code, you explained what I  was missing and why. That helped me learn more than just giving me the code. Thanks!!"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669499729,"creation_date":1669496939,"answer_id":74585595,"question_id":74585438,"body_markdown":"You were thinking in the right direction: you do need one more loop to empty out the stack when the end of a sentence has been encountered, and you need some mean of storing the data (*it could be an* `ArrayList`*, or a* `StringBuilder`).\r\n\r\nI would use a [`StringBuilder`][stringBuilder] to store reversed sentences.\r\n\r\nThe logic of generating a reversed sentence by retrieving the elements from the stack can be extracted into a separate method. In a nutshell, it&#39;s `while`-loop that runs until the stack is not empty. To join the string back into a sentence, I would use a [`StringJoiner`][stringJoiner] which facilitates combining the strings using a specified delimiter (*feel free to reimplement this logic as you see fit, the point of this answer is to explain the algorithm and provide a source of inspiration rather than be a ready to go copy-past solution, for instance, you can use two* `StringJoiner`s *instead of the combination* `StringJoiner` + `StringBuilder`*, I&#39;ve only shown one possibility*).\r\n\r\nThat&#39;s how it might be implemented:\r\n\r\n    public static String reverseSentences(String[] wordArray) {\r\n        Stack&lt;String&gt; stack = new Stack&lt;&gt;();\r\n        StringBuilder reversedSentences = new StringBuilder();\r\n        \r\n        for (String word : wordArray) {\r\n            if (word.endsWith(&quot;.&quot;)) {\r\n                \r\n                stack.push(word.substring(0, word.length() - 1));\r\n                \r\n                reversedSentences\r\n                    .append(createSentence(stack)) // appending the reversed sentence\r\n                    .append(&quot;. &quot;);                 // adding a period and a white space at the end of the sentence\r\n\r\n            } else {\r\n                stack.push(word);\r\n            }\r\n        }\r\n        return reversedSentences.toString();\r\n    }\r\n    \r\n    public static String createSentence(Stack&lt;String&gt; stack) {\r\n        StringJoiner sentence = new StringJoiner(&quot; &quot;); // white space would be used a delimiter between the words\r\n        while (!stack.isEmpty()) {\r\n            sentence.add(stack.pop());\r\n        }\r\n        return sentence.toString();\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(reverseSentences(&quot;Cats are cool. Dogs are cool. So are turtles.&quot;.split(&quot; &quot;)));\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\ncool are Cats. cool are Dogs. turtles are So.\r\n```\r\n\r\n\r\n\r\n   [stringBuilder]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StringBuilder.html\r\n\r\n   [stringJoiner]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/StringJoiner.html","title":"Need help reading through my String to push to Stack","body":"<p>You were thinking in the right direction: you do need one more loop to empty out the stack when the end of a sentence has been encountered, and you need some mean of storing the data (<em>it could be an</em> <code>ArrayList</code><em>, or a</em> <code>StringBuilder</code>).</p>\n<p>I would use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\"><code>StringBuilder</code></a> to store reversed sentences.</p>\n<p>The logic of generating a reversed sentence by retrieving the elements from the stack can be extracted into a separate method. In a nutshell, it's <code>while</code>-loop that runs until the stack is not empty. To join the string back into a sentence, I would use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/StringJoiner.html\" rel=\"nofollow noreferrer\"><code>StringJoiner</code></a> which facilitates combining the strings using a specified delimiter (<em>feel free to reimplement this logic as you see fit, the point of this answer is to explain the algorithm and provide a source of inspiration rather than be a ready to go copy-past solution, for instance, you can use two</em> <code>StringJoiner</code>s <em>instead of the combination</em> <code>StringJoiner</code> + <code>StringBuilder</code><em>, I've only shown one possibility</em>).</p>\n<p>That's how it might be implemented:</p>\n<pre><code>public static String reverseSentences(String[] wordArray) {\n    Stack&lt;String&gt; stack = new Stack&lt;&gt;();\n    StringBuilder reversedSentences = new StringBuilder();\n    \n    for (String word : wordArray) {\n        if (word.endsWith(&quot;.&quot;)) {\n            \n            stack.push(word.substring(0, word.length() - 1));\n            \n            reversedSentences\n                .append(createSentence(stack)) // appending the reversed sentence\n                .append(&quot;. &quot;);                 // adding a period and a white space at the end of the sentence\n\n        } else {\n            stack.push(word);\n        }\n    }\n    return reversedSentences.toString();\n}\n\npublic static String createSentence(Stack&lt;String&gt; stack) {\n    StringJoiner sentence = new StringJoiner(&quot; &quot;); // white space would be used a delimiter between the words\n    while (!stack.isEmpty()) {\n        sentence.add(stack.pop());\n    }\n    return sentence.toString();\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(reverseSentences(&quot;Cats are cool. Dogs are cool. So are turtles.&quot;.split(&quot; &quot;)));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>cool are Cats. cool are Dogs. turtles are So.\n</code></pre>\n"}],"owner":{"account_id":26809631,"reputation":21,"user_id":20400438,"display_name":"ScarletCas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74585595,"answer_count":2,"score":1,"last_activity_date":1669499729,"creation_date":1669494959,"question_id":74585438,"body_markdown":"Hello and thank you for reading. I have written a program to reverse the words in a string using a stack. I am to use 3 sentences and reverse each sentence separately. I have been able to reverse the entire string, which wasn&#39;t an issue. Then I changed my program so I am reading to the period and reversing the first sentence. However, I can&#39;t get it to read the next sentence. I believe I need a second loop but this is where I struggle. There are several questions/answers on this site that address this assignment, but none that have really taken the approach I have so they aren&#39;t relevant. At least, not from what I can tell. This is what I have:\r\n   \r\n    for (String word : wordArray) {\r\n        if (word.endsWith(&quot;.&quot;) {\r\n            Stack.push(word.substring(0, word.length()-1));\r\n            break;\r\n        }\r\n        else {\r\n            Stack.push(word);\r\n        }\r\n    }\r\n\r\nSo my sentences are: &quot;Cats are cool. Dogs are cool. So are turtles.&quot; My program will print:\r\n&quot;cool are Cats&quot;\r\nI know I need to append a period and I can figure that out later. I&#39;m just struggling with how to create a second loop to continue reading the rest of the string.\r\nWhat I need is: &quot;cool are Cats. cool are Dogs. turtles are So.&quot;","title":"Need help reading through my String to push to Stack","body":"<p>Hello and thank you for reading. I have written a program to reverse the words in a string using a stack. I am to use 3 sentences and reverse each sentence separately. I have been able to reverse the entire string, which wasn't an issue. Then I changed my program so I am reading to the period and reversing the first sentence. However, I can't get it to read the next sentence. I believe I need a second loop but this is where I struggle. There are several questions/answers on this site that address this assignment, but none that have really taken the approach I have so they aren't relevant. At least, not from what I can tell. This is what I have:</p>\n<pre><code>for (String word : wordArray) {\n    if (word.endsWith(&quot;.&quot;) {\n        Stack.push(word.substring(0, word.length()-1));\n        break;\n    }\n    else {\n        Stack.push(word);\n    }\n}\n</code></pre>\n<p>So my sentences are: &quot;Cats are cool. Dogs are cool. So are turtles.&quot; My program will print:\n&quot;cool are Cats&quot;\nI know I need to append a period and I can figure that out later. I'm just struggling with how to create a second loop to continue reading the rest of the string.\nWhat I need is: &quot;cool are Cats. cool are Dogs. turtles are So.&quot;</p>\n"},{"tags":["java","visual-studio-code","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1669511250,"post_id":74585857,"comment_id":131657213,"body_markdown":"If you&#39;re using Maven&#39;s/Gradle&#39;s standard directory layout (i.e., `src/main/java` and `src/main/resources`), then `resources` should never be part of the resource path (the argument to `getResource(...)`).","body":"If you&#39;re using Maven&#39;s/Gradle&#39;s standard directory layout (i.e., <code>src&#47;main&#47;java</code> and <code>src&#47;main&#47;resources</code>), then <code>resources</code> should never be part of the resource path (the argument to <code>getResource(...)</code>)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1669517726,"post_id":74585857,"comment_id":131657872,"body_markdown":"@Slaw Note, however, the package name for `App`. In this (highly non-standard) setup, the “correct” path is perhaps `”/main/resources/view/MainScene.fxml”`. It’s probably better to fix the setup though.","body":"@Slaw Note, however, the package name for <code>App</code>. In this (highly non-standard) setup, the “correct” path is perhaps <code>”&#47;main&#47;resources&#47;view&#47;MainScene.fxml”</code>. It’s probably better to fix the setup though."}],"owner":{"account_id":13119676,"reputation":13,"user_id":9477554,"display_name":"Nick "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669503622,"answer_count":0,"score":0,"last_activity_date":1669499689,"creation_date":1669499689,"question_id":74585857,"body_markdown":"I am attempting to run a JavaFX application in visual studio code, and whenever I run it, I get the following stack trace. I am not sure how to set my resources folder as the resource root in VS code, so I put &quot;resources/view/MainScene.fxml&quot; as the file path for the FXMLLoader. I also tried using the full file path from the C drive, but same result. I have also checked that the FXML file has the proper controller selected (main.java.controller.AppController) and I have included the following in the launch.json file:\r\n```\r\n&quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Java/javafx-sdk-19/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;\r\n```\r\n\r\nHere is the stack trace:\r\n\r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.NullPointerException: Location is required.\r\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3324)\r\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3287)\r\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3255)\r\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3227)\r\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3203)\r\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3196)\r\n        at main.java.application.App.start(App.java:20)\r\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n        at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n        at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n        at javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n        at javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n        at javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n        ... 1 more\r\nException running application main.java.application.App\r\n```\r\n\r\nHere is my folder structure:\r\n```\r\n|-src\r\n    |-main\r\n        |-java\r\n            |-application\r\n                |-App.java ---location of main method being run\r\n            |-controllers\r\n                |-AppController.java\r\n            |-services\r\n                |-HttpConection.java\r\n        |-resources\r\n            |-view\r\n                |-MainScene.fxml\r\n```\r\n\r\nHere is my FXML file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import java.lang.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n\r\n\r\n&lt;AnchorPane fx:id=&quot;mainPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;main.java.controllers.AppController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;GridPane fx:id=&quot;displayGrid&quot; layoutX=&quot;11.0&quot; layoutY=&quot;14.0&quot; prefHeight=&quot;372.0&quot; prefWidth=&quot;578.0&quot;&gt;\r\n        &lt;columnConstraints&gt;\r\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n        &lt;/columnConstraints&gt;\r\n        &lt;rowConstraints&gt;\r\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n        &lt;/rowConstraints&gt;\r\n      &lt;/GridPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nHere is my App.java file where I am trying to run the application:\r\n```\r\npackage main.java.application;\r\n\r\n\r\nimport java.io.IOException;\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application{\r\n    public static void main(String[] args) throws Exception {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        \r\n        try {\r\n            AnchorPane root = (AnchorPane) FXMLLoader.load(getClass().getResource(&quot;resources/view/MainScene.fxml&quot;));\r\n            Scene scene = new Scene(root);\r\n\r\n            primaryStage.setTitle(&quot;Application&quot;);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n    }\r\n}\r\n```\r\n\r\nHere is the launch.json file:\r\n```\r\n{\r\n    // Use IntelliSense to learn about possible attributes.\r\n    // Hover to view descriptions of existing attributes.\r\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch Current File&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;${file}&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch App&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;main.java.application.App&quot;,\r\n            &quot;projectName&quot;: &quot;FrontEnd_2e0d9572&quot;,\r\n            &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Java/javafx-sdk-19/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nHere is the settings.json file:\r\n```\r\n{\r\n    &quot;java.project.sourcePaths&quot;: [&quot;src&quot;],\r\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;,\r\n    &quot;java.project.referencedLibraries&quot;: [\r\n        &quot;lib/**/*.jar&quot;\r\n    ]\r\n}\r\n```\r\n\r\nI&#39;m pretty certain it&#39;s something to do with the FXML file, but I am not sure what exactly. I can update the post with any additional details that are needed.","title":"java.lang.reflect.InvocationTargetException when trying to run JavaFX application in visual studio code","body":"<p>I am attempting to run a JavaFX application in visual studio code, and whenever I run it, I get the following stack trace. I am not sure how to set my resources folder as the resource root in VS code, so I put &quot;resources/view/MainScene.fxml&quot; as the file path for the FXMLLoader. I also tried using the full file path from the C drive, but same result. I have also checked that the FXML file has the proper controller selected (main.java.controller.AppController) and I have included the following in the launch.json file:</p>\n<pre><code>&quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Java/javafx-sdk-19/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;\n</code></pre>\n<p>Here is the stack trace:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.NullPointerException: Location is required.\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3324)\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3287)\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3255)\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3227)\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3203)\n        at javafx.fxml@19/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3196)\n        at main.java.application.App.start(App.java:20)\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n        at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n        at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n        at javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n        at javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n        at javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n        ... 1 more\nException running application main.java.application.App\n</code></pre>\n<p>Here is my folder structure:</p>\n<pre><code>|-src\n    |-main\n        |-java\n            |-application\n                |-App.java ---location of main method being run\n            |-controllers\n                |-AppController.java\n            |-services\n                |-HttpConection.java\n        |-resources\n            |-view\n                |-MainScene.fxml\n</code></pre>\n<p>Here is my FXML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import java.lang.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n\n&lt;AnchorPane fx:id=&quot;mainPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;main.java.controllers.AppController&quot;&gt;\n   &lt;children&gt;\n      &lt;GridPane fx:id=&quot;displayGrid&quot; layoutX=&quot;11.0&quot; layoutY=&quot;14.0&quot; prefHeight=&quot;372.0&quot; prefWidth=&quot;578.0&quot;&gt;\n        &lt;columnConstraints&gt;\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n        &lt;/columnConstraints&gt;\n        &lt;rowConstraints&gt;\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n        &lt;/rowConstraints&gt;\n      &lt;/GridPane&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Here is my App.java file where I am trying to run the application:</p>\n<pre><code>package main.java.application;\n\n\nimport java.io.IOException;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.stage.Stage;\n\npublic class App extends Application{\n    public static void main(String[] args) throws Exception {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        \n        try {\n            AnchorPane root = (AnchorPane) FXMLLoader.load(getClass().getResource(&quot;resources/view/MainScene.fxml&quot;));\n            Scene scene = new Scene(root);\n\n            primaryStage.setTitle(&quot;Application&quot;);\n            primaryStage.setScene(scene);\n            primaryStage.show();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n    }\n}\n</code></pre>\n<p>Here is the launch.json file:</p>\n<pre><code>{\n    // Use IntelliSense to learn about possible attributes.\n    // Hover to view descriptions of existing attributes.\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Launch Current File&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;${file}&quot;\n        },\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Launch App&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;main.java.application.App&quot;,\n            &quot;projectName&quot;: &quot;FrontEnd_2e0d9572&quot;,\n            &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Java/javafx-sdk-19/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Here is the settings.json file:</p>\n<pre><code>{\n    &quot;java.project.sourcePaths&quot;: [&quot;src&quot;],\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;,\n    &quot;java.project.referencedLibraries&quot;: [\n        &quot;lib/**/*.jar&quot;\n    ]\n}\n</code></pre>\n<p>I'm pretty certain it's something to do with the FXML file, but I am not sure what exactly. I can update the post with any additional details that are needed.</p>\n"},{"tags":["java","events","migration","vlc","vlcj"],"comments":[{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1668963977,"post_id":74506552,"comment_id":131528487,"body_markdown":"I am not using my own timer, I&#39;m doing it exactly the way you described it. I am listening to vlcj&#39;s time-changed events and whenever there is one, I am calling the getMediaTime() method on the vlcj media player. The media time that is returned is then passed to the time display","body":"I am not using my own timer, I&#39;m doing it exactly the way you described it. I am listening to vlcj&#39;s time-changed events and whenever there is one, I am calling the getMediaTime() method on the vlcj media player. The media time that is returned is then passed to the time display"},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1668978838,"post_id":74506552,"comment_id":131531815,"body_markdown":"You are right there, but as you said, it&#39;s not the issue. vlcj gives me the length of the media. The elapsed time is the time that comes with the time-changed event, the remaining time is the length of the media minus the current media time. The log shows that vlcj tells me the media duration is 24 seconds, but it sends the finished event after 22 seconds. Which causes the problem. It should be easy to reproduce","body":"You are right there, but as you said, it&#39;s not the issue. vlcj gives me the length of the media. The elapsed time is the time that comes with the time-changed event, the remaining time is the length of the media minus the current media time. The log shows that vlcj tells me the media duration is 24 seconds, but it sends the finished event after 22 seconds. Which causes the problem. It should be easy to reproduce"},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1668978952,"post_id":74506552,"comment_id":131531847,"body_markdown":"I also observed that VLC now sends a stopped event after finished (which was not the case earlier), but the stopped event is fired only a few milliseconds after the finished event. So that&#39;s also not where the 2 seconds did go...","body":"I also observed that VLC now sends a stopped event after finished (which was not the case earlier), but the stopped event is fired only a few milliseconds after the finished event. So that&#39;s also not where the 2 seconds did go..."},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1668981254,"post_id":74506552,"comment_id":131532336,"body_markdown":"It&#39;s hard to extract the code and post it here, as it is distributed among several classes and quite complex. I&#39;ll try what I can do, but it&#39;ll take time...","body":"It&#39;s hard to extract the code and post it here, as it is distributed among several classes and quite complex. I&#39;ll try what I can do, but it&#39;ll take time..."},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1669236888,"post_id":74506552,"comment_id":131601657,"body_markdown":"That&#39;s interesting. I&#39;ve always ignored those events as I didn&#39;t understand what they are useful for. I logged them now, but it doesn&#39;t make a difference:\nInitial length after the playing event: 24171.\nLength after the first lenghth-changed event: 24172.\nLength after the last lenghth-changed event: 24171.\nMedia time of last time-changed event: 22112.\nThen the finished event is fired.\nI really don&#39;t understand what&#39;s going on there. I downloaded your vlcj sample application and I don&#39;t see the issue there, playing the same file. So far I could not figure out major differences in our codes","body":"That&#39;s interesting. I&#39;ve always ignored those events as I didn&#39;t understand what they are useful for. I logged them now, but it doesn&#39;t make a difference: Initial length after the playing event: 24171. Length after the first lenghth-changed event: 24172. Length after the last lenghth-changed event: 24171. Media time of last time-changed event: 22112. Then the finished event is fired. I really don&#39;t understand what&#39;s going on there. I downloaded your vlcj sample application and I don&#39;t see the issue there, playing the same file. So far I could not figure out major differences in our codes"},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1669373721,"post_id":74506552,"comment_id":131632403,"body_markdown":"I have found the issue. It is due to the following VLC parameters that I have passed to the MediaPlayerFactory: [--file-caching=2000 --network-caching=2000]. It&#39;s exactly these 2 seconds the player stops earlier. I&#39;ve been using these settings for years and it never was a problem in previous versions of VLC. I always thought that caching would prevent the player from possible &quot;stuttering&quot; when playing larger files (audio or video) from a network drive, but obviously it has some weird side effects now. Maybe it&#39;s a bug. I have removed caching for now and everything is back to normal","body":"I have found the issue. It is due to the following VLC parameters that I have passed to the MediaPlayerFactory: [--file-caching=2000 --network-caching=2000]. It&#39;s exactly these 2 seconds the player stops earlier. I&#39;ve been using these settings for years and it never was a problem in previous versions of VLC. I always thought that caching would prevent the player from possible &quot;stuttering&quot; when playing larger files (audio or video) from a network drive, but obviously it has some weird side effects now. Maybe it&#39;s a bug. I have removed caching for now and everything is back to normal"},{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1669393049,"post_id":74506552,"comment_id":131638537,"body_markdown":"Interesting, never knew it worked like that. You could write your own answer and accept it, you never know it might help someone in future.","body":"Interesting, never knew it worked like that. You could write your own answer and accept it, you never know it might help someone in future."}],"answers":[{"tags":[],"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669499273,"creation_date":1669499273,"answer_id":74585826,"question_id":74506552,"body_markdown":"I have found the solution. The issue was related to the following VLC parameters that I passed to the MediaPlayerFactory:\r\n\r\n    --file-caching=2000\r\n    --network-caching=2000\r\n\r\nIt is exactly these 2 seconds that the media player skips playing at the end of the file. Not sure how this is related, maybe it&#39;s a bug. These settings haven&#39;t caused any trouble in previuos versions of VLC. I have removed caching for now and everything is back to normal. ","title":"VLCJ-4: audio playback stops too early (&quot;finished&quot; event is fired before end of media)","body":"<p>I have found the solution. The issue was related to the following VLC parameters that I passed to the MediaPlayerFactory:</p>\n<pre><code>--file-caching=2000\n--network-caching=2000\n</code></pre>\n<p>It is exactly these 2 seconds that the media player skips playing at the end of the file. Not sure how this is related, maybe it's a bug. These settings haven't caused any trouble in previuos versions of VLC. I have removed caching for now and everything is back to normal.</p>\n"}],"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74585826,"answer_count":1,"score":1,"last_activity_date":1669499273,"creation_date":1668931800,"question_id":74506552,"body_markdown":"After migrating my Java application from `vlcj-3.12.1` to `vlcj-4.8.2` I am observing that the `finished()` event is being fired approximately 2 seconds before the media has reached its end/full length/duration. This messes up my GUI as I have a media time display showing both elapsed and remaining time. So when it shows 2 seconds remaining now, it suddenly jumps down to 0 and it sounds like the last bit of the audio is being &quot;cut off&quot;.&lt;br&gt;\r\n\r\nI have tried various media files and various audio formats with different bitrates (including VBR) - the result is identical in all cases. The following [logfile snipplet][1] shows that the length of the media is being correctly read when the `playing()` event is received (**24 secs**). I am logging the `timeChanged()` events during playback. You can see that these events stop coming right before the media time reaches **~22 secs**. Then the `finished()` event gets fired. No more `timeChanged()` events thereafter - the last 2 seconds of playback are missing.&lt;br&gt;\r\n\r\nIs this a bug in `VLC` or `VLCJ` which is targeted for an upcoming version or might I be doing something wrong? The issue did not occur with `vlcj-3.12.1` and it also does not occur when playing the media with native VLC. I really don&#39;t want to downgrade again but this is kind of a let-down. I am running the latest `VLC` version `3.0.17.4` on Windows 10 with `Java 17.0.5`.&lt;br&gt;\r\n\r\nThanks in advance!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yCFRk.png&gt;","title":"VLCJ-4: audio playback stops too early (&quot;finished&quot; event is fired before end of media)","body":"<p>After migrating my Java application from <code>vlcj-3.12.1</code> to <code>vlcj-4.8.2</code> I am observing that the <code>finished()</code> event is being fired approximately 2 seconds before the media has reached its end/full length/duration. This messes up my GUI as I have a media time display showing both elapsed and remaining time. So when it shows 2 seconds remaining now, it suddenly jumps down to 0 and it sounds like the last bit of the audio is being &quot;cut off&quot;.<br></p>\n<p>I have tried various media files and various audio formats with different bitrates (including VBR) - the result is identical in all cases. The following <a href=\"https://i.stack.imgur.com/yCFRk.png%3E\" rel=\"nofollow noreferrer\">logfile snipplet</a> shows that the length of the media is being correctly read when the <code>playing()</code> event is received (<strong>24 secs</strong>). I am logging the <code>timeChanged()</code> events during playback. You can see that these events stop coming right before the media time reaches <strong>~22 secs</strong>. Then the <code>finished()</code> event gets fired. No more <code>timeChanged()</code> events thereafter - the last 2 seconds of playback are missing.<br></p>\n<p>Is this a bug in <code>VLC</code> or <code>VLCJ</code> which is targeted for an upcoming version or might I be doing something wrong? The issue did not occur with <code>vlcj-3.12.1</code> and it also does not occur when playing the media with native VLC. I really don't want to downgrade again but this is kind of a let-down. I am running the latest <code>VLC</code> version <code>3.0.17.4</code> on Windows 10 with <code>Java 17.0.5</code>.<br></p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","string","charat"],"answers":[{"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1669498917,"post_id":74585750,"comment_id":131655578,"body_markdown":"Please give explanation, a code-only answer is something of very low quality","body":"Please give explanation, a code-only answer is something of very low quality"},{"owner":{"account_id":23174659,"reputation":3,"user_id":17273353,"display_name":"user17273353"},"score":1,"creation_date":1669499158,"post_id":74585750,"comment_id":131655621,"body_markdown":"Thank you so much - this now makes it clearer how to be using these operators!","body":"Thank you so much - this now makes it clearer how to be using these operators!"}],"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669498617,"creation_date":1669498617,"answer_id":74585750,"question_id":74585700,"body_markdown":"    if (myword.charAt(0)==&#39;H&#39; || myword.charAt(0)== &#39;M&#39;){\r\n      System.out.println(&quot;True&quot;);\r\n    } else {\r\n      System.out.println(&quot;False&quot;);\r\n    }\r\n\r\nOr\r\n\r\n    System.out.println(\r\n      myword.charAt(0)==&#39;H&#39; || myword.charAt(0)== &#39;M&#39;\r\n    );","title":"Java - confirming a match at a specific index in a string","body":"<pre><code>if (myword.charAt(0)=='H' || myword.charAt(0)== 'M'){\n  System.out.println(&quot;True&quot;);\n} else {\n  System.out.println(&quot;False&quot;);\n}\n</code></pre>\n<p>Or</p>\n<pre><code>System.out.println(\n  myword.charAt(0)=='H' || myword.charAt(0)== 'M'\n);\n</code></pre>\n"}],"owner":{"account_id":23174659,"reputation":3,"user_id":17273353,"display_name":"user17273353"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74585750,"answer_count":1,"score":0,"last_activity_date":1669498893,"creation_date":1669498158,"question_id":74585700,"body_markdown":"Problem: Confirm if a specific character is at a specific index point of a string. For example, &#39;Hello&#39; - is character H at index 0. I have managed to get this to work (as shown below). My issue is trying to add logical operators &#39;or&#39; - || to allow for multiple options.\r\n\r\nFor example, at index 0, the letter could be H **or** M\r\n\r\n\r\n\r\n\r\nThe below works for confirming &#39;H&#39; is at index &#39;0&#39;\r\n\r\n    if (myword.charAt(0)==(&#39;H&#39;)){\r\n        System.out.println(&quot;True&quot;);\r\n    }    \r\n    else {\r\n        System.out.println(&quot;False&quot;);\r\n    }\r\n\r\nHOWEVER\r\n\r\nif I then try to add a logical operator, this doesn&#39;t work and I just can&#39;t work out how to add logical operators to these type of scenarios.\r\n\r\n    if (myword.charAt(0)==(&#39;H&#39;)||(&#39;M&#39;)){\r\n        System.out.println(&quot;True&quot;);\r\n    }    \r\n    else {\r\n        System.out.println(&quot;False&quot;);\r\n    }\r\n\r\n","title":"Java - confirming a match at a specific index in a string","body":"<p>Problem: Confirm if a specific character is at a specific index point of a string. For example, 'Hello' - is character H at index 0. I have managed to get this to work (as shown below). My issue is trying to add logical operators 'or' - || to allow for multiple options.</p>\n<p>For example, at index 0, the letter could be H <strong>or</strong> M</p>\n<p>The below works for confirming 'H' is at index '0'</p>\n<pre><code>if (myword.charAt(0)==('H')){\n    System.out.println(&quot;True&quot;);\n}    \nelse {\n    System.out.println(&quot;False&quot;);\n}\n</code></pre>\n<p>HOWEVER</p>\n<p>if I then try to add a logical operator, this doesn't work and I just can't work out how to add logical operators to these type of scenarios.</p>\n<pre><code>if (myword.charAt(0)==('H')||('M')){\n    System.out.println(&quot;True&quot;);\n}    \nelse {\n    System.out.println(&quot;False&quot;);\n}\n</code></pre>\n"},{"tags":["java","database","jpa","one-to-many","cascading-deletes"],"comments":[{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":1,"creation_date":1668804237,"post_id":74495074,"comment_id":131503393,"body_markdown":"What do you do in `deleteFromUserList`?","body":"What do you do in <code>deleteFromUserList</code>?"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":1,"creation_date":1668804346,"post_id":74495074,"comment_id":131503421,"body_markdown":"Where exactly you see that `receipe` is not deleted from user","body":"Where exactly you see that <code>receipe</code> is not deleted from user"},{"owner":{"account_id":26912983,"reputation":13,"user_id":20488250,"display_name":"Szymcio"},"score":0,"creation_date":1668804413,"post_id":74495074,"comment_id":131503438,"body_markdown":"public void deleteFromUserList(Recipe recipe){\n        recipes.remove(recipe);\n    }","body":"public void deleteFromUserList(Recipe recipe){         recipes.remove(recipe);     }"},{"owner":{"account_id":26912983,"reputation":13,"user_id":20488250,"display_name":"Szymcio"},"score":0,"creation_date":1668804517,"post_id":74495074,"comment_id":131503472,"body_markdown":"@GetMapping(&quot;/api/recipe/{id}&quot;)\n    public ResponseEntity&lt;Recipe&gt; getRecipes(@PathVariable Long id) {\n        return ResponseEntity.ok(recipeService.getRecipeById(id));\n    }\n\npublic Recipe getRecipeById(Long id) {\n        return recipeRepository.findById(id)\n                .orElseThrow(RecipeNotFoundException::new);\n    }\n\nthat&#39;s still find recipe in db","body":"@GetMapping(&quot;/api/recipe/{id}&quot;)     public ResponseEntity&lt;Recipe&gt; getRecipes(@PathVariable Long id) {         return ResponseEntity.ok(recipeService.getRecipeById(id));     }  public Recipe getRecipeById(Long id) {         return recipeRepository.findById(id)                 .orElseThrow(RecipeNotFoundException::new);     }  that&#39;s still find recipe in db"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":1,"creation_date":1668804657,"post_id":74495074,"comment_id":131503515,"body_markdown":"So what you did is that you called `deleteRecipeById` API, then you called `getRecipes` API and it still return you the recipe you think it should have been deleted when called`deleteRecipeById` ?","body":"So what you did is that you called <code>deleteRecipeById</code> API, then you called <code>getRecipes</code> API and it still return you the recipe you think it should have been deleted when called<code>deleteRecipeById</code> ?"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1668804707,"post_id":74495074,"comment_id":131503529,"body_markdown":"also do you use a Transaction?","body":"also do you use a Transaction?"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1668804740,"post_id":74495074,"comment_id":131503537,"body_markdown":"did you make sure it was deleted from DB?","body":"did you make sure it was deleted from DB?"},{"owner":{"account_id":26912983,"reputation":13,"user_id":20488250,"display_name":"Szymcio"},"score":0,"creation_date":1668804881,"post_id":74495074,"comment_id":131503571,"body_markdown":"no i don&#39;t use tansaction , \nits deleted from data baze but field user don&#39;t know it and he has saved recipe on list","body":"no i don&#39;t use tansaction ,  its deleted from data baze but field user don&#39;t know it and he has saved recipe on list"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1668804999,"post_id":74495074,"comment_id":131503608,"body_markdown":"where do you see that user still has the recipe even after deleting it?","body":"where do you see that user still has the recipe even after deleting it?"},{"owner":{"account_id":26912983,"reputation":13,"user_id":20488250,"display_name":"Szymcio"},"score":0,"creation_date":1668805266,"post_id":74495074,"comment_id":131503682,"body_markdown":"/api/recipe/{id} still returns  recipe with that id","body":"/api/recipe/{id} still returns  recipe with that id"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1668805341,"post_id":74495074,"comment_id":131503697,"body_markdown":"Can you show `recipeService.getRecipeById` code","body":"Can you show <code>recipeService.getRecipeById</code> code"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1668805472,"post_id":74495074,"comment_id":131503733,"body_markdown":"also when you delete, you don&#39;t actualy do hard delete you just mark the record as deleted correct?","body":"also when you delete, you don&#39;t actualy do hard delete you just mark the record as deleted correct?"},{"owner":{"account_id":26912983,"reputation":13,"user_id":20488250,"display_name":"Szymcio"},"score":0,"creation_date":1668806554,"post_id":74495074,"comment_id":131503976,"body_markdown":"public Recipe getRecipeById(Long id) { return recipeRepository.findById(id) .orElseThrow(RecipeNotFoundException::new); }","body":"public Recipe getRecipeById(Long id) { return recipeRepository.findById(id) .orElseThrow(RecipeNotFoundException::new); }"},{"owner":{"account_id":26912983,"reputation":13,"user_id":20488250,"display_name":"Szymcio"},"score":0,"creation_date":1668806690,"post_id":74495074,"comment_id":131504006,"body_markdown":"i think i have to do hard delete in db","body":"i think i have to do hard delete in db"}],"answers":[{"tags":[],"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669498844,"creation_date":1668806798,"answer_id":74495476,"question_id":74495074,"body_markdown":"Ok the real issue given info you posted, is that you remove `recipe` from `user` but you don&#39;t save `user` after\r\n\r\nYou either do:\r\n\r\n1- Call `userRepository.save(currentUser)`, after removing `recipe` from user\r\n\r\nOR better &gt;\r\n\r\n2- Annotate `deleteRecipeById` with `@Transactional` and it will do the job\r\n\r\n\r\nIf you wonder how no.2 will do the job, it is because when you load entity from DB talking `user` here, the entity becomes in a Managed state meaning that if you do any updates to that entity like `recipes.remove(recipe);`\r\nthen this managed entity `user` becomes eligible for updates, if you are in an opened transaction and that transaction gets committed [meaning function annotated with `@Transactional` comes to end] that managed entity `user` updates will be written to DB since transaction is committed, which will issue update SQL query to remove that `receipe` from user\r\n\r\n\r\n*TIP, BTW, you can not use write operation against DB without a transaction scope, the fact you deleted `recipe` when you called \r\n`recipeRepository.delete(currentRecipe);`\r\nit is because Spring Repositories are annotated with `@Transactional` by default and that is why solution no 2 is better since now you would use only one transaction for both operations instead of the solution no 1 that would issue 2 transactions","title":"How to let to know parent that their child was deleted?","body":"<p>Ok the real issue given info you posted, is that you remove <code>recipe</code> from <code>user</code> but you don't save <code>user</code> after</p>\n<p>You either do:</p>\n<p>1- Call <code>userRepository.save(currentUser)</code>, after removing <code>recipe</code> from user</p>\n<p>OR better &gt;</p>\n<p>2- Annotate <code>deleteRecipeById</code> with <code>@Transactional</code> and it will do the job</p>\n<p>If you wonder how no.2 will do the job, it is because when you load entity from DB talking <code>user</code> here, the entity becomes in a Managed state meaning that if you do any updates to that entity like <code>recipes.remove(recipe);</code>\nthen this managed entity <code>user</code> becomes eligible for updates, if you are in an opened transaction and that transaction gets committed [meaning function annotated with <code>@Transactional</code> comes to end] that managed entity <code>user</code> updates will be written to DB since transaction is committed, which will issue update SQL query to remove that <code>receipe</code> from user</p>\n<p>*TIP, BTW, you can not use write operation against DB without a transaction scope, the fact you deleted <code>recipe</code> when you called\n<code>recipeRepository.delete(currentRecipe);</code>\nit is because Spring Repositories are annotated with <code>@Transactional</code> by default and that is why solution no 2 is better since now you would use only one transaction for both operations instead of the solution no 1 that would issue 2 transactions</p>\n"}],"owner":{"account_id":26912983,"reputation":13,"user_id":20488250,"display_name":"Szymcio"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74495476,"answer_count":1,"score":0,"last_activity_date":1669498844,"creation_date":1668803850,"question_id":74495074,"body_markdown":"&gt; Hi i&#39;m making application for recipe. One user could have many recipes and then he can delete his recipe. I store date in data base. User have a list of recipes in one of the field in db.I dont know what to do to delete a recipe on that list. I delete a recipe in db but is still on list in user field so we still can reach that recipe. I use JpaResporitory .There i give a part of my code. Could you help me please ?\r\n\r\n```\r\npublic ResponseEntity&lt;String&gt; deleteRecipeById(long id, @AuthenticationPrincipal UserDetails details) {//toDo\r\n   Recipe currentRecipe = getRecipeById(id);\r\n   User currentUser = userRepository.findByEmail(details.getUsername())\r\n            .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n    if(currentRecipe.getUser().equals(currentUser) ){\r\n        currentUser.deleteFromUserList(currentRecipe);\r\n        recipeRepository.delete(currentRecipe);\r\n        // AND WHAT HERE ?\r\n        return ResponseEntity.status(HttpStatus.OK).build();\r\n    }\r\n    return ResponseEntity.status(HttpStatus.FORBIDDEN).build();\r\n```\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@RequiredArgsConstructor\r\npublic class Recipe {\r\n...\r\n  @JsonIgnore\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;,  nullable = false)\r\n    private User user;\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\n@Getter\r\n@Setter\r\n@RequiredArgsConstructor\r\nclass User {\r\n...\r\n   @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL,orphanRemoval = true ,  fetch = FetchType.EAGER)\r\n    @Fetch(value = FetchMode.SUBSELECT)\r\n    @ToString.Exclude\r\n    @Column(name = &quot;recipes&quot;)\r\n    private List&lt;Recipe&gt; recipes = new ArrayList&lt;&gt;();\r\n} THERE IS THAT LIST THAT I CAN&#39;T CHANGE AND  NEED THIS TO DELETE RECIPE\r\n```\r\nthere is how i save recipe \r\n\r\n      public Long create(Recipe recipe, UserDetails details) {\r\n            User currentUser = userRepository.findByEmail(details.getUsername())\r\n                    .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n            recipe.setUser(currentUser);\r\n            currentUser.getRecipes()\r\n                    .add(recipe);\r\n            userRepository.save(currentUser);\r\n            return userRepository.findByEmail(details.getUsername())\r\n                    .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;))\r\n                    .getRecipes()\r\n                    .get(userRepository.findByEmail(details.getUsername())\r\n                            .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;))\r\n                            .getRecipes()\r\n                            .size() - 1)\r\n                    .getId();\r\n        }\r\n\r\nI tried googling that i read article about jpa but i still dont know what i have to do\r\n","title":"How to let to know parent that their child was deleted?","body":"<blockquote>\n<p>Hi i'm making application for recipe. One user could have many recipes and then he can delete his recipe. I store date in data base. User have a list of recipes in one of the field in db.I dont know what to do to delete a recipe on that list. I delete a recipe in db but is still on list in user field so we still can reach that recipe. I use JpaResporitory .There i give a part of my code. Could you help me please ?</p>\n</blockquote>\n<pre><code>public ResponseEntity&lt;String&gt; deleteRecipeById(long id, @AuthenticationPrincipal UserDetails details) {//toDo\n   Recipe currentRecipe = getRecipeById(id);\n   User currentUser = userRepository.findByEmail(details.getUsername())\n            .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n    if(currentRecipe.getUser().equals(currentUser) ){\n        currentUser.deleteFromUserList(currentRecipe);\n        recipeRepository.delete(currentRecipe);\n        // AND WHAT HERE ?\n        return ResponseEntity.status(HttpStatus.OK).build();\n    }\n    return ResponseEntity.status(HttpStatus.FORBIDDEN).build();\n</code></pre>\n<pre><code>@Entity\n@Getter\n@Setter\n@RequiredArgsConstructor\npublic class Recipe {\n...\n  @JsonIgnore\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;,  nullable = false)\n    private User user;\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\n@Getter\n@Setter\n@RequiredArgsConstructor\nclass User {\n...\n   @JsonIgnore\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL,orphanRemoval = true ,  fetch = FetchType.EAGER)\n    @Fetch(value = FetchMode.SUBSELECT)\n    @ToString.Exclude\n    @Column(name = &quot;recipes&quot;)\n    private List&lt;Recipe&gt; recipes = new ArrayList&lt;&gt;();\n} THERE IS THAT LIST THAT I CAN'T CHANGE AND  NEED THIS TO DELETE RECIPE\n</code></pre>\n<p>there is how i save recipe</p>\n<pre><code>  public Long create(Recipe recipe, UserDetails details) {\n        User currentUser = userRepository.findByEmail(details.getUsername())\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n        recipe.setUser(currentUser);\n        currentUser.getRecipes()\n                .add(recipe);\n        userRepository.save(currentUser);\n        return userRepository.findByEmail(details.getUsername())\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;))\n                .getRecipes()\n                .get(userRepository.findByEmail(details.getUsername())\n                        .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;))\n                        .getRecipes()\n                        .size() - 1)\n                .getId();\n    }\n</code></pre>\n<p>I tried googling that i read article about jpa but i still dont know what i have to do</p>\n"},{"tags":["java","maven","jenkins","gradle","timeout"],"comments":[{"owner":{"account_id":2201246,"reputation":833,"user_id":1945596,"display_name":"Ankit Batra"},"score":0,"creation_date":1626000583,"post_id":66901695,"comment_id":120771969,"body_markdown":"Hi, Did you manage to solve it?","body":"Hi, Did you manage to solve it?"}],"answers":[{"tags":[],"owner":{"account_id":2126153,"reputation":21,"user_id":1888259,"display_name":"Andrey Hitrikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669498841,"creation_date":1669498841,"answer_id":74585779,"question_id":66901695,"body_markdown":"You should use &quot;https&quot; instead of &quot;http&quot;:\r\n\r\n    repositories {\r\n        mavenCentral()\r\n        maven {\r\n            url &quot;https://repo.e-iceblue.com/nexus/content/groups/public/&quot;\r\n        }\r\n    }","title":"E-Iceblue Spire PDF Free Jenkins Timeout","body":"<p>You should use &quot;https&quot; instead of &quot;http&quot;:</p>\n<pre><code>repositories {\n    mavenCentral()\n    maven {\n        url &quot;https://repo.e-iceblue.com/nexus/content/groups/public/&quot;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7155615,"reputation":597,"user_id":5468199,"accept_rate":100,"display_name":"Revnic Robert-Nick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":970,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1669498841,"creation_date":1617268411,"question_id":66901695,"body_markdown":"I&#39;m trying to use the Spire Free PDF library from the E-Iceblue repository and it just takes too long for the dependency to be downloaded on my computer. The big problem is that I use Jenkins for CI/CD and it gives me a timeout error:\r\n\r\n```\r\nWhat went wrong:\r\nExecution failed for task &#39;:compileJava&#39;.\r\n&gt; Could not download spire.doc.free-3.9.0.jar (e-iceblue:spire.doc.free:3.9.0)\r\n   &gt; Could not get resource &#39;http://repo.e-iceblue.com/nexus/content/groups/public/e-iceblue/spire.doc.free/3.9.0/spire.doc.free-3.9.0.jar&#39;.\r\n      &gt; Read timed out\r\n```\r\n\r\nI tried to increase the timeout using these two properties in the Gradle Wrapper, but without success:&lt;br&gt;\r\n`/gradlew build -Dorg.gradle.internal.http.socketTimeout=60000 -Dorg.gradle.internal.http.connectionTimeout=60000 jacocoTestReport`\r\n\r\nOn my personal computer, it takes around 5 minutes to download the dependency. On my work computer, where I have the VPN provided by my company, the download time is the same: 4-5 minutes. The Jenkins that I&#39;m using is hosted by my company to manage different projects and the Gradle file looks like this:\r\n\r\n```\r\nrepositories {\r\n\tmavenCentral()\r\n\tmaven {\r\n\t\turl &quot;http://repo.e-iceblue.com/nexus/content/groups/public/&quot;\r\n\t}\r\n}\r\n\r\ndependencies {\r\n\timplementation group: &#39;e-iceblue&#39;, name: &#39;spire.doc.free&#39;, version: &#39;3.9.0&#39;\r\n}\r\n```\r\n\r\nIs there something I can do to fix this issue? Or maybe there is a problem with the repository itself?","title":"E-Iceblue Spire PDF Free Jenkins Timeout","body":"<p>I'm trying to use the Spire Free PDF library from the E-Iceblue repository and it just takes too long for the dependency to be downloaded on my computer. The big problem is that I use Jenkins for CI/CD and it gives me a timeout error:</p>\n<pre><code>What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Could not download spire.doc.free-3.9.0.jar (e-iceblue:spire.doc.free:3.9.0)\n   &gt; Could not get resource 'http://repo.e-iceblue.com/nexus/content/groups/public/e-iceblue/spire.doc.free/3.9.0/spire.doc.free-3.9.0.jar'.\n      &gt; Read timed out\n</code></pre>\n<p>I tried to increase the timeout using these two properties in the Gradle Wrapper, but without success:<br>\n<code>/gradlew build -Dorg.gradle.internal.http.socketTimeout=60000 -Dorg.gradle.internal.http.connectionTimeout=60000 jacocoTestReport</code></p>\n<p>On my personal computer, it takes around 5 minutes to download the dependency. On my work computer, where I have the VPN provided by my company, the download time is the same: 4-5 minutes. The Jenkins that I'm using is hosted by my company to manage different projects and the Gradle file looks like this:</p>\n<pre><code>repositories {\n    mavenCentral()\n    maven {\n        url &quot;http://repo.e-iceblue.com/nexus/content/groups/public/&quot;\n    }\n}\n\ndependencies {\n    implementation group: 'e-iceblue', name: 'spire.doc.free', version: '3.9.0'\n}\n</code></pre>\n<p>Is there something I can do to fix this issue? Or maybe there is a problem with the repository itself?</p>\n"},{"tags":["java","grid","vaadin","dataprovider"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1669622682,"post_id":74585584,"comment_id":131675325,"body_markdown":"I’m voting to close this question because original author asked to close it.","body":"I’m voting to close this question because original author asked to close it."}],"answers":[{"tags":[],"owner":{"account_id":16854213,"reputation":173,"user_id":12186398,"display_name":"Mari"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669497892,"creation_date":1669497892,"answer_id":74585675,"question_id":74585584,"body_markdown":"Ok i asked here because i spent almost 5 hours trying to figure out what is wrong. Turns out another dev added a grid.setItems() (which creates a new data provider) where he passed a new instance of list with same elements because we do have other threads updating grids...\r\n\r\nI really felt hopeless at some point, but the second i posted the question i found what the problem was.\r\n\r\nI guess this question can be deleted by mod. My bad.","title":"Vaadin Grid filtering - DataProvider.refreshAll() does not trigger filter which is set in DataProvider","body":"<p>Ok i asked here because i spent almost 5 hours trying to figure out what is wrong. Turns out another dev added a grid.setItems() (which creates a new data provider) where he passed a new instance of list with same elements because we do have other threads updating grids...</p>\n<p>I really felt hopeless at some point, but the second i posted the question i found what the problem was.</p>\n<p>I guess this question can be deleted by mod. My bad.</p>\n"}],"owner":{"account_id":16854213,"reputation":173,"user_id":12186398,"display_name":"Mari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74585675,"answer_count":1,"score":0,"last_activity_date":1669497892,"creation_date":1669496758,"question_id":74585584,"body_markdown":"We have a lot of grids in our Vaadin app, every one of them has some filters on string columns.\r\n\r\nRecently we noticed that not all of them are working. There are no errors in the log, no exceptions, no nothing.\r\n\r\nWe have one method for adding all the filters to string columns in the whole app, it adds a text field to a HeaderRow of a grid with specific listener:\r\n\r\n        public &lt;T&gt; void addFilterToSpecificStringColumn(ListDataProvider&lt;T&gt; dataProvider, HeaderRow filterRow, String columnName, FilterObject filter) {\r\n        TextField filterField = new TextField();\r\n        filterField.setValueChangeMode(ValueChangeMode.EAGER);\r\n        filterField.addValueChangeListener(event -&gt; {\r\n            filter.setCorrectFieldByName(columnName, event.getValue());\r\n            dataProvider.refreshAll();\r\n        });\r\n        filterRow.getCell(this.getColumnByKey(columnName)).setComponent(filterField);\r\n    }\r\n\r\nThis is how we add the filter:\r\n    \r\n\r\n    dataProvider.setFilter(filterObject::searchForOffer);\r\n\r\nand this is a basic filter method of FilterObject added to DataProvider by setFilter() method and seems like this is not always working:\r\n\r\n    public boolean searchForOffer(Offer offer) {\r\n        return name.length() == 0 || StringUtils.containsIgnoreCase(String.valueOf(offer.getName()), name);\r\n    }\r\n\r\nIn normal case the dataProvider.refreshAll() called in the text field listener would trigger the searchForOffer() method which goes through data provider list elements one by one and returns offers which meet the filter condition (name in this case). This basically stopped working in some grids and i am not sure why.\r\n\r\nListener is called, i am able to debug it, dataProvider.refreshAll() is called but it never calls the filter method which is the case in other grids.\r\n\r\nWhat could be the problem here? Ive checked and the dataProvider.getItems() is the same instance of list that is set when invoking grid.setItems().\r\n\r\nWe are using Vaadin 14(java only), Java 11.\r\n\r\n\r\n","title":"Vaadin Grid filtering - DataProvider.refreshAll() does not trigger filter which is set in DataProvider","body":"<p>We have a lot of grids in our Vaadin app, every one of them has some filters on string columns.</p>\n<p>Recently we noticed that not all of them are working. There are no errors in the log, no exceptions, no nothing.</p>\n<p>We have one method for adding all the filters to string columns in the whole app, it adds a text field to a HeaderRow of a grid with specific listener:</p>\n<pre><code>    public &lt;T&gt; void addFilterToSpecificStringColumn(ListDataProvider&lt;T&gt; dataProvider, HeaderRow filterRow, String columnName, FilterObject filter) {\n    TextField filterField = new TextField();\n    filterField.setValueChangeMode(ValueChangeMode.EAGER);\n    filterField.addValueChangeListener(event -&gt; {\n        filter.setCorrectFieldByName(columnName, event.getValue());\n        dataProvider.refreshAll();\n    });\n    filterRow.getCell(this.getColumnByKey(columnName)).setComponent(filterField);\n}\n</code></pre>\n<p>This is how we add the filter:</p>\n<pre><code>dataProvider.setFilter(filterObject::searchForOffer);\n</code></pre>\n<p>and this is a basic filter method of FilterObject added to DataProvider by setFilter() method and seems like this is not always working:</p>\n<pre><code>public boolean searchForOffer(Offer offer) {\n    return name.length() == 0 || StringUtils.containsIgnoreCase(String.valueOf(offer.getName()), name);\n}\n</code></pre>\n<p>In normal case the dataProvider.refreshAll() called in the text field listener would trigger the searchForOffer() method which goes through data provider list elements one by one and returns offers which meet the filter condition (name in this case). This basically stopped working in some grids and i am not sure why.</p>\n<p>Listener is called, i am able to debug it, dataProvider.refreshAll() is called but it never calls the filter method which is the case in other grids.</p>\n<p>What could be the problem here? Ive checked and the dataProvider.getItems() is the same instance of list that is set when invoking grid.setItems().</p>\n<p>We are using Vaadin 14(java only), Java 11.</p>\n"},{"tags":["java","kotlin","reactor"],"answers":[{"comments":[{"owner":{"account_id":24025614,"reputation":37,"user_id":18007264,"display_name":"mb2"},"score":0,"creation_date":1669532962,"post_id":74585650,"comment_id":131659416,"body_markdown":"wonderful, exactly what I was searching for","body":"wonderful, exactly what I was searching for"}],"tags":[],"owner":{"account_id":7644621,"reputation":488,"user_id":5795699,"display_name":"Kristian Ferkić"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669497582,"creation_date":1669497582,"answer_id":74585650,"question_id":74580282,"body_markdown":"You could just fold your operator list, like this:\r\n\r\n    fun combine(): Mono&lt;Double&gt; {\r\n    \tval plusOperators = listOf(Plus(&quot;first&quot;), Plus(&quot;second&quot;), Plus(&quot;third&quot;))\r\n    \treturn plusOperators.fold(Mono.just(1.0)) { acc, op -&gt;\r\n    \t\tacc.flatMap { op.apply(it, 1.0) }\r\n    \t}\r\n    }","title":"Chain Multiple Reactor Monos","body":"<p>You could just fold your operator list, like this:</p>\n<pre><code>fun combine(): Mono&lt;Double&gt; {\n    val plusOperators = listOf(Plus(&quot;first&quot;), Plus(&quot;second&quot;), Plus(&quot;third&quot;))\n    return plusOperators.fold(Mono.just(1.0)) { acc, op -&gt;\n        acc.flatMap { op.apply(it, 1.0) }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24025614,"reputation":37,"user_id":18007264,"display_name":"mb2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74585650,"answer_count":1,"score":0,"last_activity_date":1669497582,"creation_date":1669445280,"question_id":74580282,"body_markdown":"\r\n\r\nI am new to reactive programming and it may happen that this question is easily solvable or I am doing something completely wrong. \r\nLet us consider following interface\r\n\r\n```\r\ninterface NumbersOperator{fun apply(value:Double,value2:Double):Mono&lt;Double&gt;}\r\n```\r\nimplementation \r\n\r\n\r\n```\r\nclass Plus(val name:String):NumbersOperator{\r\n  fun apply(value:Double,value2:Double):Mono&lt;Double&gt;{\r\n    return Mono.just(value+value2)    \r\n}\r\n}\r\n```\r\n\r\nAt the moment I have a list of `\r\n```\r\nval plusOperators = listOf(Plus(&quot;first&quot;), Plus(&quot;second&quot;), Plus(&quot;third&quot;))\r\n```\r\n`\r\nand the way how i combine the operators is the following\r\n\r\n```\r\nfun combine():Mono&lt;Double&gt;{\r\n  val first=plusOperators.firstOrNull(it.name==&quot;first&quot;)\r\n  val second=plusOperators.firstOrNull(it.name==&quot;second&quot;)\r\n  val third=plusOperators.firstOrNull(it.name==&quot;third&quot;)\r\n\r\n  return first.apply(1.0,1.0).map{it*1.0}.flatMap{second.apply(it,1.0)}.map{it*1.0}.flatMap{third.apply(it,1.0)}\r\n \r\n}\r\n```\r\nAt the moment i can live with this but it would be much easier and more generic if I could just create the above chain from the list of plusOperators. \r\nPlease be noted, this is just a simplification of what i am doing, basically i have to map result from previous and to call another mono and so on\r\n\r\n\r\n\r\n","title":"Chain Multiple Reactor Monos","body":"<p>I am new to reactive programming and it may happen that this question is easily solvable or I am doing something completely wrong.\nLet us consider following interface</p>\n<pre><code>interface NumbersOperator{fun apply(value:Double,value2:Double):Mono&lt;Double&gt;}\n</code></pre>\n<p>implementation</p>\n<pre><code>class Plus(val name:String):NumbersOperator{\n  fun apply(value:Double,value2:Double):Mono&lt;Double&gt;{\n    return Mono.just(value+value2)    \n}\n}\n</code></pre>\n<p>At the moment I have a list of `</p>\n<pre><code>val plusOperators = listOf(Plus(&quot;first&quot;), Plus(&quot;second&quot;), Plus(&quot;third&quot;))\n</code></pre>\n<p>`\nand the way how i combine the operators is the following</p>\n<pre><code>fun combine():Mono&lt;Double&gt;{\n  val first=plusOperators.firstOrNull(it.name==&quot;first&quot;)\n  val second=plusOperators.firstOrNull(it.name==&quot;second&quot;)\n  val third=plusOperators.firstOrNull(it.name==&quot;third&quot;)\n\n  return first.apply(1.0,1.0).map{it*1.0}.flatMap{second.apply(it,1.0)}.map{it*1.0}.flatMap{third.apply(it,1.0)}\n \n}\n</code></pre>\n<p>At the moment i can live with this but it would be much easier and more generic if I could just create the above chain from the list of plusOperators.\nPlease be noted, this is just a simplification of what i am doing, basically i have to map result from previous and to call another mono and so on</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1669479505,"post_id":74583743,"comment_id":131651850,"body_markdown":"Your pattern doesn&#39;t really make sense. An asterisk means &quot;zero or more occurrences of the preceding character&quot;","body":"Your pattern doesn&#39;t really make sense. An asterisk means &quot;zero or more occurrences of the preceding character&quot;"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1669480687,"post_id":74583743,"comment_id":131652136,"body_markdown":"`Pattern regexBinary2 = Pattern.compile(&quot;^(?!.*([01])\\\\1)[01]+&quot;);`","body":"<code>Pattern regexBinary2 = Pattern.compile(&quot;^(?!.*([01])\\\\1)[01]+&quot;);</code>"}],"answers":[{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1669496670,"post_id":74585556,"comment_id":131655185,"body_markdown":"Good one! The capturing group is not required...I mean, you can modify it to `^0?(?:10)*1?$`.","body":"Good one! The capturing group is not required...I mean, you can modify it to <code>^0?(?:10)*1?$</code>."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1669497417,"post_id":74585556,"comment_id":131655313,"body_markdown":"Using the same technique, it can also be written as `^1?(?:01)*0?$`.","body":"Using the same technique, it can also be written as <code>^1?(?:01)*0?$</code>."}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669497201,"creation_date":1669496461,"answer_id":74585556,"question_id":74583743,"body_markdown":"Here is a regular expression that doesn&#39;t use look around:\r\n\r\n    ^0?(10)*1?$\r\n\r\nIt says that valid input starts with an optional 0, is followed by zero or more sequences of `10`, and optionally has one more 1 at the end.\r\n\r\nThis will also match empty input. If an empty input should be rejected, then add a `\\b`:\r\n\r\n    ^\\b0?(10)*1?$\r\n\r\nMake sure to escape the backslash when placing this in a string literal:\r\n\r\n\r\n        Pattern regexBinary2 = Pattern.compile(&quot;^\\\\b0?(10)*1?$&quot;);\r\n","title":"Regular expression where Binary numbers have no ones and zeros follow each other directly","body":"<p>Here is a regular expression that doesn't use look around:</p>\n<pre><code>^0?(10)*1?$\n</code></pre>\n<p>It says that valid input starts with an optional 0, is followed by zero or more sequences of <code>10</code>, and optionally has one more 1 at the end.</p>\n<p>This will also match empty input. If an empty input should be rejected, then add a <code>\\b</code>:</p>\n<pre><code>^\\b0?(10)*1?$\n</code></pre>\n<p>Make sure to escape the backslash when placing this in a string literal:</p>\n<pre><code>    Pattern regexBinary2 = Pattern.compile(&quot;^\\\\b0?(10)*1?$&quot;);\n</code></pre>\n"}],"owner":{"account_id":26307847,"reputation":13,"user_id":19971974,"display_name":"haruka kudo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74585556,"answer_count":1,"score":-1,"last_activity_date":1669497201,"creation_date":1669479366,"question_id":74583743,"body_markdown":"Hi I&#39;m trying to find a regular expression where a binary number has no ones and zeros follow each other directly. \r\nThis is the regular expression I have:\r\n```\r\npublic static boolean isBin2(String bin2) {\r\n        Pattern regexBinary2 = Pattern.compile(&quot;(01*01)*&quot;);\r\n\r\n        Matcher matcher = regexBinary2.matcher(bin2);\r\n        return matcher.matches();\r\n    }\r\n```\r\nThis is the String I&#39;m using for my tests: &quot;10101010&quot;\r\n\r\n\r\nThe expression should check like this:\r\n\r\n10101010 --&gt; is allowed\r\n\r\n10010101 --&gt; is not allowed\r\n\r\nBut this expression always returns false even when the binary number is allowed and I can&#39;t find the cause of it. Would be nice if you could help me.","title":"Regular expression where Binary numbers have no ones and zeros follow each other directly","body":"<p>Hi I'm trying to find a regular expression where a binary number has no ones and zeros follow each other directly.\nThis is the regular expression I have:</p>\n<pre><code>public static boolean isBin2(String bin2) {\n        Pattern regexBinary2 = Pattern.compile(&quot;(01*01)*&quot;);\n\n        Matcher matcher = regexBinary2.matcher(bin2);\n        return matcher.matches();\n    }\n</code></pre>\n<p>This is the String I'm using for my tests: &quot;10101010&quot;</p>\n<p>The expression should check like this:</p>\n<p>10101010 --&gt; is allowed</p>\n<p>10010101 --&gt; is not allowed</p>\n<p>But this expression always returns false even when the binary number is allowed and I can't find the cause of it. Would be nice if you could help me.</p>\n"},{"tags":["java","recursion","tree","binary-tree","binary-search-tree"],"comments":[{"owner":{"account_id":18594198,"reputation":1,"user_id":20609023,"display_name":"Dead Fox"},"score":1,"creation_date":1669494590,"post_id":74584935,"comment_id":131654789,"body_markdown":"i just found out my issue, i was calling the child nodes with root instead of using R...","body":"i just found out my issue, i was calling the child nodes with root instead of using R..."},{"owner":{"account_id":18594198,"reputation":1,"user_id":20609023,"display_name":"Dead Fox"},"score":0,"creation_date":1669494642,"post_id":74584935,"comment_id":131654795,"body_markdown":"i spent hours debugging and analyzing both this and another excercise, and BOTH had the same issue, i passed both after realizing, appreciate it tho.","body":"i spent hours debugging and analyzing both this and another excercise, and BOTH had the same issue, i passed both after realizing, appreciate it tho."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1669494683,"post_id":74584935,"comment_id":131654803,"body_markdown":"Good, so there is no more question then?","body":"Good, so there is no more question then?"},{"owner":{"account_id":18594198,"reputation":1,"user_id":20609023,"display_name":"Dead Fox"},"score":0,"creation_date":1669494891,"post_id":74584935,"comment_id":131654847,"body_markdown":"Nope, appreciate the intention tho, i still have 2 more excercises left and i may need help on one of them, maybe ill post it.","body":"Nope, appreciate the intention tho, i still have 2 more excercises left and i may need help on one of them, maybe ill post it."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1669494921,"post_id":74584935,"comment_id":131654854,"body_markdown":"Just realise that (1) this algorithm doesn&#39;t meet the requirement *&quot;must be ordered in pre-order&quot;*, and (2) isn&#39;t efficient, as it visits *all* nodes of the tree.","body":"Just realise that (1) this algorithm doesn&#39;t meet the requirement <i>&quot;must be ordered in pre-order&quot;</i>, and (2) isn&#39;t efficient, as it visits <i>all</i> nodes of the tree."},{"owner":{"account_id":18594198,"reputation":1,"user_id":20609023,"display_name":"Dead Fox"},"score":0,"creation_date":1669495647,"post_id":74584935,"comment_id":131655002,"body_markdown":"i agree with (2) but about (1), why? it does imo, pre-order = root,left,right afaik","body":"i agree with (2) but about (1), why? it does imo, pre-order = root,left,right afaik"}],"answers":[{"tags":[],"owner":{"account_id":18594198,"reputation":1,"user_id":20609023,"display_name":"Dead Fox"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669494818,"creation_date":1669494776,"answer_id":74585423,"question_id":74584935,"body_markdown":"The recursive call inside the last 2 if statements should have:\r\n\r\nR.getLeftChild()    and R.getRightChild() \r\n\r\ninstead of:\r\n\r\nroot.getLeftChild() and root.getRightChild()","title":"Why does the current node not change to its left child even though it has one","body":"<p>The recursive call inside the last 2 if statements should have:</p>\n<p>R.getLeftChild()    and R.getRightChild()</p>\n<p>instead of:</p>\n<p>root.getLeftChild() and root.getRightChild()</p>\n"}],"owner":{"account_id":18594198,"reputation":1,"user_id":20609023,"display_name":"Dead Fox"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669497001,"creation_date":1669489984,"question_id":74584935,"body_markdown":"I debugged it and noticed that when the current node is 10, it goes through the second as it should, then it&#39;s called again, but the current node is still 10 instead of being 2\r\n\r\nInstructions:\r\n\r\nImplement a member method inRangeValues which returns a Java Array List with all the key value pairs from the tree that have a key that is greater than or equal to a key key1,\r\nand less than a second key key2 (this is called a range query).\r\n\r\nThe two keys are passed as parameters. Recall the private class MapEntry from theBinarySearchTree that implements the interface KeyValuePair.&#160;\r\n\r\nThe elements in the array list must be ordered in pre-order.\r\n\r\n\r\n```\r\n        inRangeValues(20, 51)\r\n\t\tT1.put(50, 50);\r\n\t\tT1.put(10, 10);\r\n\t\tT1.put(56, 56);\r\n\t\tT1.put(2, 2);\r\n\t\tT1.put(23, 23);\r\n\t\tT1.put(70, 70);\r\n\t\tT1.put(0, 0);\r\n\t\tT1.put(61, 61);\r\n        Expected value: [50 23]\r\n                          \r\n```    \r\n       this is how the tree looks: \r\n                       50\r\n\t           10______||______56 \r\n          2____||___23          |____70\t\t\t\t\r\n     0____|                    61____|\r\n```\r\n\r\n\r\n\t\t\t\tpublic ArrayList&lt;KeyValuePair&lt;K, V&gt;&gt; inRangeValues(K key1, K key2) {\r\n\t\t\t\t\tArrayList&lt;KeyValuePair&lt;K, V&gt;&gt; L = new ArrayList&lt;KeyValuePair&lt;K, V&gt;&gt;();\r\n\t\t\t\t\trecIRV(L, key1, key2, root);\r\n\t\t\t\t\treturn L;\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tpublic void recIRV(ArrayList&lt;KeyValuePair&lt;K, V&gt;&gt; L, K key1, K key2, BinaryTreeNode&lt;MapEntry&lt;K,V&gt;&gt; R) {\r\n\t\t\t\t\tif(keyComparator.compare(R.getValue().getKey(), key1) &gt;= 0 &amp;&amp; keyComparator.compare(R.getValue().getKey(), key2) &lt; 0) {\r\n\t\t\t\t\t\tL.add(R.getValue());\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(R.getLeftChild() != null) {\r\n\t\t\t\t\t\trecIRV(L, key1, key2, root.getLeftChild());\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(R.getRightChild() != null) {\t\r\n\t\t\t\t\t\trecIRV(L, key1, key2, root.getRightChild());\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n```\r\n\r\n\r\n","title":"Why does the current node not change to its left child even though it has one","body":"<p>I debugged it and noticed that when the current node is 10, it goes through the second as it should, then it's called again, but the current node is still 10 instead of being 2</p>\n<p>Instructions:</p>\n<p>Implement a member method inRangeValues which returns a Java Array List with all the key value pairs from the tree that have a key that is greater than or equal to a key key1,\nand less than a second key key2 (this is called a range query).</p>\n<p>The two keys are passed as parameters. Recall the private class MapEntry from theBinarySearchTree that implements the interface KeyValuePair. </p>\n<p>The elements in the array list must be ordered in pre-order.</p>\n<pre><code>        inRangeValues(20, 51)\n        T1.put(50, 50);\n        T1.put(10, 10);\n        T1.put(56, 56);\n        T1.put(2, 2);\n        T1.put(23, 23);\n        T1.put(70, 70);\n        T1.put(0, 0);\n        T1.put(61, 61);\n        Expected value: [50 23]\n                          \n</code></pre>\n<pre><code>   this is how the tree looks: \n                   50\n           10______||______56 \n      2____||___23          |____70             \n 0____|                    61____|\n</code></pre>\n<pre><code>\n\n                public ArrayList&lt;KeyValuePair&lt;K, V&gt;&gt; inRangeValues(K key1, K key2) {\n                    ArrayList&lt;KeyValuePair&lt;K, V&gt;&gt; L = new ArrayList&lt;KeyValuePair&lt;K, V&gt;&gt;();\n                    recIRV(L, key1, key2, root);\n                    return L;           \n                }\n                public void recIRV(ArrayList&lt;KeyValuePair&lt;K, V&gt;&gt; L, K key1, K key2, BinaryTreeNode&lt;MapEntry&lt;K,V&gt;&gt; R) {\n                    if(keyComparator.compare(R.getValue().getKey(), key1) &gt;= 0 &amp;&amp; keyComparator.compare(R.getValue().getKey(), key2) &lt; 0) {\n                        L.add(R.getValue());\n                    }\n                    if(R.getLeftChild() != null) {\n                        recIRV(L, key1, key2, root.getLeftChild());\n                    }\n                    if(R.getRightChild() != null) { \n                        recIRV(L, key1, key2, root.getRightChild());\n                    }\n                    else {\n                        return;\n                    }\n                }\n</code></pre>\n"},{"tags":["java","maven","jpa","persistence","classnotfoundexception"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669738179,"post_id":74585166,"comment_id":131708535,"body_markdown":"Having dependencies in a POM can help with the compile and build, but they still need to be made available where you run the application classes - How are you deploying your app, and how are you building it, and what exactly are you executing to get this exception?","body":"Having dependencies in a POM can help with the compile and build, but they still need to be made available where you run the application classes - How are you deploying your app, and how are you building it, and what exactly are you executing to get this exception?"},{"owner":{"account_id":25353287,"reputation":1,"user_id":19169817,"display_name":"Ahmed Bentaj Hamyani"},"score":0,"creation_date":1669972499,"post_id":74585166,"comment_id":131768935,"body_markdown":"Thankyou for your time, but I resolved the problem by adding the .jar to lib directory","body":"Thankyou for your time, but I resolved the problem by adding the .jar to lib directory"}],"owner":{"account_id":25353287,"reputation":1,"user_id":19169817,"display_name":"Ahmed Bentaj Hamyani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669496610,"creation_date":1669492298,"question_id":74585166,"body_markdown":"I&#39;m getting this error in my application JPA + EclipseLink with maven, I already added the dependencies of the persistence and eclipseLink api.\r\n\r\n    java.lang.ClassNotFoundException: javax.persistence.Persistence\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n    \tat ma.fstt.persistence.ProductOperations.\\&lt;clinit\\&gt;(ProductOperations.java:12)\r\n    \tat ma.fstt.web.ProductServlet.listProducts(ProductServlet.java:51)\r\n    \tat ma.fstt.web.ProductServlet.doGet(ProductServlet.java:35)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n\r\nThis is my `pom.xml` :\r\n\r\n```\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;8.0.12&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.9&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nPlease anyone can help me","title":"java.lang.ClassNotFoundException: javax.persistence.Persistence JPA","body":"<p>I'm getting this error in my application JPA + EclipseLink with maven, I already added the dependencies of the persistence and eclipseLink api.</p>\n<pre><code>java.lang.ClassNotFoundException: javax.persistence.Persistence\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    at ma.fstt.persistence.ProductOperations.\\&lt;clinit\\&gt;(ProductOperations.java:12)\n    at ma.fstt.web.ProductServlet.listProducts(ProductServlet.java:51)\n    at ma.fstt.web.ProductServlet.doGet(ProductServlet.java:35)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n</code></pre>\n<p>This is my <code>pom.xml</code> :</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n        &lt;version&gt;2.7.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Please anyone can help me</p>\n"},{"tags":["java","spring","spring-boot","checkmarx","cross-origin-resource-policy"],"answers":[{"comments":[{"owner":{"account_id":25955643,"reputation":47,"user_id":19673046,"display_name":"Deepak"},"score":0,"creation_date":1669627025,"post_id":74585439,"comment_id":131676586,"body_markdown":"should this be added on every controller class or only Main class.","body":"should this be added on every controller class or only Main class."},{"owner":{"account_id":5439142,"reputation":2507,"user_id":4327668,"display_name":"securecodeninja"},"score":0,"creation_date":1669673861,"post_id":74585439,"comment_id":131691907,"body_markdown":"all controller classes unless there is a parent class where the subclasses inherit from","body":"all controller classes unless there is a parent class where the subclasses inherit from"}],"tags":[],"owner":{"account_id":5439142,"reputation":2507,"user_id":4327668,"display_name":"securecodeninja"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669494959,"creation_date":1669494959,"answer_id":74585439,"question_id":74464124,"body_markdown":"As part of the Same-Origin Policy, browsers by default does not allow sharing of resources between different domains from accessing one another&#39;s cookie or DOM objects to prevent users from falling victim to malicious websites. The [CORS][1] policy with the use of specific headers relaxes this restrictive behavior to enable cross-site communications.\r\n\r\nYour [@CrossOrigin][2] is too relaxed with wildcards (*) defined allowing **ALL** domains, so you will have to define a whitelist of domains that are only allowed to access the resources in your web app. For example:\r\n\r\n    @CrossOrigin(origins = &quot;https://yourdomain.com&quot;, allowedHeaders = &quot;Accept,Accept-Language,Content-Language,Content-Type&quot;, methods = {RequestMethod.GET, RequestMethod.OPTIONS, RequestMethod.POST, RequestMethod.PUT, RequestMethod.DELETE})\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\r\n  [2]: https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/cors.html","title":"Checkmarx issue - Spring overly permissive cross origin resource sharing policy","body":"<p>As part of the Same-Origin Policy, browsers by default does not allow sharing of resources between different domains from accessing one another's cookie or DOM objects to prevent users from falling victim to malicious websites. The <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\" rel=\"nofollow noreferrer\">CORS</a> policy with the use of specific headers relaxes this restrictive behavior to enable cross-site communications.</p>\n<p>Your <a href=\"https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/cors.html\" rel=\"nofollow noreferrer\">@CrossOrigin</a> is too relaxed with wildcards (*) defined allowing <strong>ALL</strong> domains, so you will have to define a whitelist of domains that are only allowed to access the resources in your web app. For example:</p>\n<pre><code>@CrossOrigin(origins = &quot;https://yourdomain.com&quot;, allowedHeaders = &quot;Accept,Accept-Language,Content-Language,Content-Type&quot;, methods = {RequestMethod.GET, RequestMethod.OPTIONS, RequestMethod.POST, RequestMethod.PUT, RequestMethod.DELETE})\n</code></pre>\n"}],"owner":{"account_id":25955643,"reputation":47,"user_id":19673046,"display_name":"Deepak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2784,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669494959,"creation_date":1668616639,"question_id":74464124,"body_markdown":"On every method of every controller in my application checkmarx complains that **&quot;The method getCertificate sets an overly permissive CORS access control origin header&quot;**. I can see in this controller class no @crossOrigin is used. \r\n\r\n    @GetMapping(produces = APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;CertificateDTO&gt; getCertificate(HttpServletRequest request)  {\r\n            return ResponseEntity.ok(certificatePropertiesService.getCertificateDetails());\r\n        }\r\n\r\nBut i can see in Main class below is used. I am not able to establish the relation here. \r\n**@CrossOrigin(origins = &quot; * &quot;, allowedHeaders = &quot; * &quot;, methods = {RequestMethod.GET, RequestMethod.OPTIONS, RequestMethod.POST, RequestMethod.PUT, RequestMethod.DELETE})**\r\n\r\n\r\nWhat is happening here. How can we solve this issue? Where can i look in the code? Note this is existing code in the project\r\n\r\n","title":"Checkmarx issue - Spring overly permissive cross origin resource sharing policy","body":"<p>On every method of every controller in my application checkmarx complains that <strong>&quot;The method getCertificate sets an overly permissive CORS access control origin header&quot;</strong>. I can see in this controller class no @crossOrigin is used.</p>\n<pre><code>@GetMapping(produces = APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;CertificateDTO&gt; getCertificate(HttpServletRequest request)  {\n        return ResponseEntity.ok(certificatePropertiesService.getCertificateDetails());\n    }\n</code></pre>\n<p>But i can see in Main class below is used. I am not able to establish the relation here.\n<strong>@CrossOrigin(origins = &quot; * &quot;, allowedHeaders = &quot; * &quot;, methods = {RequestMethod.GET, RequestMethod.OPTIONS, RequestMethod.POST, RequestMethod.PUT, RequestMethod.DELETE})</strong></p>\n<p>What is happening here. How can we solve this issue? Where can i look in the code? Note this is existing code in the project</p>\n"},{"tags":["java","spring-mvc","checkmarx"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1668693994,"post_id":74476643,"comment_id":131472051,"body_markdown":"No, but there may not be much you can do about it. A best practice is to use char[] instead of String for passwords, as the characters can be modified after use. A String on the other hand remains as-is on the heap, so if someone can get a heap dump they can steal it. If you can change to char[] everywhere that would be better, but if the password is stored in a String at least once the damage has been done. Or if you use char[] without wiping the contents, of course.","body":"No, but there may not be much you can do about it. A best practice is to use char[] instead of String for passwords, as the characters can be modified after use. A String on the other hand remains as-is on the heap, so if someone can get a heap dump they can steal it. If you can change to char[] everywhere that would be better, but if the password is stored in a String at least once the damage has been done. Or if you use char[] without wiping the contents, of course."}],"answers":[{"tags":[],"owner":{"account_id":5439142,"reputation":2507,"user_id":4327668,"display_name":"securecodeninja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669494119,"creation_date":1669494119,"answer_id":74585353,"question_id":74476643,"body_markdown":"It is considered as a best security practice to not store passwords in immutable strings and use an encrypted memory object such as [SealedObject][1]. This specialized class can store encrypted data in memory and helps ensure that it can&#39;t be easily retrieved from memory.\r\n\r\n    @PutMapping(path = &quot;/changepassword&quot;, produces = APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;String&gt; changePassword(@RequestBody UserUpdate user, HttpServletRequest request, HttpServletResponse response)  {\r\n        String uid= user.getId();\r\n        SealedObject oldPassword = user.getOldPwrd();\r\n        SealedObject newPassword = user.getPwrd();\r\n        userDetails.changeUserPassword(uid, oldPassword, newPassword);\r\n        return ResponseEntity.ok(SUCCESS);\r\n    }\r\n\r\nYou will have to change your changeUserPassword method to handle SealedObject which involves defining a cipher and key for encryption:\r\n\r\n\tKey key = getKeyFromConfiguration();\r\n\tCipher c = Cipher.getInstance(CIPHER_NAME);\r\n\tc.init(Cipher.ENCRYPT_MODE, key);\r\n\tList&lt;Character&gt; characterList = Arrays.asList(input);\r\n\tpassword = new SealedObject((Serializable) characterList, c);\r\n\tArrays.fill(input, &#39;\\0&#39;);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/crypto/SealedObject.html","title":"Checkmarx issue : Heap Inspection","body":"<p>It is considered as a best security practice to not store passwords in immutable strings and use an encrypted memory object such as <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/crypto/SealedObject.html\" rel=\"nofollow noreferrer\">SealedObject</a>. This specialized class can store encrypted data in memory and helps ensure that it can't be easily retrieved from memory.</p>\n<pre><code>@PutMapping(path = &quot;/changepassword&quot;, produces = APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;String&gt; changePassword(@RequestBody UserUpdate user, HttpServletRequest request, HttpServletResponse response)  {\n    String uid= user.getId();\n    SealedObject oldPassword = user.getOldPwrd();\n    SealedObject newPassword = user.getPwrd();\n    userDetails.changeUserPassword(uid, oldPassword, newPassword);\n    return ResponseEntity.ok(SUCCESS);\n}\n</code></pre>\n<p>You will have to change your changeUserPassword method to handle SealedObject which involves defining a cipher and key for encryption:</p>\n<pre><code>Key key = getKeyFromConfiguration();\nCipher c = Cipher.getInstance(CIPHER_NAME);\nc.init(Cipher.ENCRYPT_MODE, key);\nList&lt;Character&gt; characterList = Arrays.asList(input);\npassword = new SealedObject((Serializable) characterList, c);\nArrays.fill(input, '\\0');\n</code></pre>\n"}],"owner":{"account_id":25955643,"reputation":47,"user_id":19673046,"display_name":"Deepak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669494119,"creation_date":1668693143,"question_id":74476643,"body_markdown":"Checkmarx complains &quot;Method changePassword defines oldPassword, which is designated to contain user passwords. However, while plaintext passwords are later assigned to oldPassword, this variable is never cleared from memory. It this a false positive?\r\n\r\n    @PutMapping(path = &quot;/changepassword&quot;, produces = APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;String&gt; changePassword(@RequestBody UserUpdate user, HttpServletRequest request, HttpServletResponse response)  {\r\n        String uid= user.getId();\r\n        String oldPassword = user.getOldPwrd();\r\n        String newPassword = user.getPwrd();\r\n        userDetails.changeUserPassword(uid, oldPassword, newPassword);\r\n        return ResponseEntity.ok(SUCCESS);\r\n    }\r\n\r\n","title":"Checkmarx issue : Heap Inspection","body":"<p>Checkmarx complains &quot;Method changePassword defines oldPassword, which is designated to contain user passwords. However, while plaintext passwords are later assigned to oldPassword, this variable is never cleared from memory. It this a false positive?</p>\n<pre><code>@PutMapping(path = &quot;/changepassword&quot;, produces = APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;String&gt; changePassword(@RequestBody UserUpdate user, HttpServletRequest request, HttpServletResponse response)  {\n    String uid= user.getId();\n    String oldPassword = user.getOldPwrd();\n    String newPassword = user.getPwrd();\n    userDetails.changeUserPassword(uid, oldPassword, newPassword);\n    return ResponseEntity.ok(SUCCESS);\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-aop"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1669494082,"post_id":74585316,"comment_id":131654711,"body_markdown":"Does class `CustomerService` have a bean-defining annotation (`@Service`, `@Component`, ...)? --- I recommend reading: [What exactly is Field Injection and how to avoid it?](https://stackoverflow.com/questions/39890849/what-exactly-is-field-injection-and-how-to-avoid-it)","body":"Does class <code>CustomerService</code> have a bean-defining annotation (<code>@Service</code>, <code>@Component</code>, ...)? --- I recommend reading: <a href=\"https://stackoverflow.com/questions/39890849/what-exactly-is-field-injection-and-how-to-avoid-it\">What exactly is Field Injection and how to avoid it?</a>"},{"owner":{"account_id":4704408,"reputation":21,"user_id":3807023,"display_name":"HamidYari"},"score":0,"creation_date":1669494977,"post_id":74585316,"comment_id":131654867,"body_markdown":"Yes, it does. I wonder how is it working in list function :(\n\n`@Service\npublic class CustomerServiceImpl implements CustomerService {\n//services\n}`\n@Turing85","body":"Yes, it does. I wonder how is it working in list function :(  <code>@Service public class CustomerServiceImpl implements CustomerService { &#47;&#47;services }</code> @Turing85"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1669495262,"post_id":74585316,"comment_id":131654920,"body_markdown":"Can you provide a [MRE], e.g. in form of a github project?","body":"Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, e.g. in form of a github project?"},{"owner":{"account_id":4704408,"reputation":21,"user_id":3807023,"display_name":"HamidYari"},"score":0,"creation_date":1669495449,"post_id":74585316,"comment_id":131654961,"body_markdown":"I&#39;m just learning and I&#39;m watching the Udemy course and writing the code simultaneously. I can share zip of my project, is it good?","body":"I&#39;m just learning and I&#39;m watching the Udemy course and writing the code simultaneously. I can share zip of my project, is it good?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1669495571,"post_id":74585316,"comment_id":131654986,"body_markdown":"I am not willing to download some zip from somewhere. Creating a github account is free and not time-consuming. Learning git should be on your to-dos anyway, and you should be up and running within minutes.","body":"I am not willing to download some zip from somewhere. Creating a github account is free and not time-consuming. Learning git should be on your to-dos anyway, and you should be up and running within minutes."}],"owner":{"account_id":4704408,"reputation":21,"user_id":3807023,"display_name":"HamidYari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669493747,"creation_date":1669493747,"question_id":74585316,"body_markdown":"I&#39;m new to Java and Spring. My problem is that using the autowired field in some of my controller functions throws NullPointerException.\r\n\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/customer&quot;)\r\npublic class CustomerController {\r\n\t \r\n\t@Autowired\r\n\tprivate CustomerService customerService;\r\n\t\r\n\t@GetMapping(&quot;/list&quot;)\r\n\tpublic String listCustomers(Model model) {\r\n\t\tList&lt;Customer&gt; customers = customerService.getCustomers();\r\n\t\tmodel.addAttribute(&quot;customers&quot;, customers);\r\n\t\treturn &quot;list-customer&quot;;\r\n\t}\r\n\r\n\t@PostMapping(&quot;/save&quot;)\r\n\tprivate String save(@ModelAttribute(&quot;customer&quot;) Customer customer) {\r\n\t\tcustomerService.saveCustomer(customer);\r\n\t\treturn &quot;redirect:/customer/list&quot;;\r\n\t}\r\n\r\n\t@GetMapping(&quot;/delete&quot;)\r\n\tprivate String delete(@RequestParam(&quot;customerId&quot;) int id, Model model) {\r\n\t\tcustomerService.removeCustomer(customerService.getCustomer(id));\r\n\t\treturn &quot;redirect:/customer/list&quot;;\r\n\t}\r\n}\r\n```\r\nThis happens in the `save` or `delete` function but not in the `list`.\r\n\r\n&gt;java.lang.NullPointerException: Cannot invoke &quot;com.hamid.springdemo.service.CustomerService.getCustomer(int)&quot; because &quot;this.customerService&quot; is null\r\n\r\nI should mention that I recently added AOP support to my project, but I have no idea whether it is related or not.","title":"Null autowired field in some controller functions","body":"<p>I'm new to Java and Spring. My problem is that using the autowired field in some of my controller functions throws NullPointerException.</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/customer&quot;)\npublic class CustomerController {\n     \n    @Autowired\n    private CustomerService customerService;\n    \n    @GetMapping(&quot;/list&quot;)\n    public String listCustomers(Model model) {\n        List&lt;Customer&gt; customers = customerService.getCustomers();\n        model.addAttribute(&quot;customers&quot;, customers);\n        return &quot;list-customer&quot;;\n    }\n\n    @PostMapping(&quot;/save&quot;)\n    private String save(@ModelAttribute(&quot;customer&quot;) Customer customer) {\n        customerService.saveCustomer(customer);\n        return &quot;redirect:/customer/list&quot;;\n    }\n\n    @GetMapping(&quot;/delete&quot;)\n    private String delete(@RequestParam(&quot;customerId&quot;) int id, Model model) {\n        customerService.removeCustomer(customerService.getCustomer(id));\n        return &quot;redirect:/customer/list&quot;;\n    }\n}\n</code></pre>\n<p>This happens in the <code>save</code> or <code>delete</code> function but not in the <code>list</code>.</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke &quot;com.hamid.springdemo.service.CustomerService.getCustomer(int)&quot; because &quot;this.customerService&quot; is null</p>\n</blockquote>\n<p>I should mention that I recently added AOP support to my project, but I have no idea whether it is related or not.</p>\n"},{"tags":["java","spring","maven","pom.xml"],"answers":[{"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669493911,"post_id":74585301,"comment_id":131654681,"body_markdown":"While this will fix the issue, I would - for a multi-module setup - recommend to create a [`BOM` module](https://info.michael-simons.eu/2019/08/22/whats-a-bill-of-material-bom-file/) to manage dependencies in a central location.","body":"While this will fix the issue, I would - for a multi-module setup - recommend to create a <a href=\"https://info.michael-simons.eu/2019/08/22/whats-a-bill-of-material-bom-file/\" rel=\"nofollow noreferrer\"><code>BOM</code> module</a> to manage dependencies in a central location."}],"tags":[],"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669493628,"creation_date":1669493628,"answer_id":74585301,"question_id":74585262,"body_markdown":"You need a `version` tag for your dependency which specifies the version of the artifact you are trying to pull.\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.message-starter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;message-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Pom.xml cannot find artifact from m2 local repository","body":"<p>You need a <code>version</code> tag for your dependency which specifies the version of the artifact you are trying to pull.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.message-starter&lt;/groupId&gt;\n            &lt;artifactId&gt;message-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":22923307,"reputation":51,"user_id":17058817,"display_name":"Kirill Zhurbin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669493628,"creation_date":1669493170,"question_id":74585262,"body_markdown":"I have created two projects using Spring Initializr: `message-spring-boot-starter` and `message-app`.\r\n\r\nWith the command `mvn clean install` I builded the artifact of the project `message-spring-boot-starter` and it appeared in the local m2 repository &quot;com.message-starter&quot;\r\n\r\nPom.xml of message-spring-boot-starter:\r\n\r\n```\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.message-starter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;message-spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;message-spring-boot-starter&lt;/name&gt;\r\n    &lt;description&gt;message-spring-boot-starter&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nPom.xml of message-app:\r\n\r\n```\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;message-app&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;message-app&lt;/name&gt;\r\n    &lt;description&gt;message-app&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.message-starter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;message-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nI end up with an error: `Could not find artifact com.message-starter:message-spring-boot-starter:jar:unknown in central (https://repo.maven.apache.org/maven2)`\r\n\r\nI want to add `message-spring-boot-starter` to the dependency of `message-app` project but I get this error every time.\r\n\r\nPlease tell me what I&#39;m doing wrong and how to fix it","title":"Pom.xml cannot find artifact from m2 local repository","body":"<p>I have created two projects using Spring Initializr: <code>message-spring-boot-starter</code> and <code>message-app</code>.</p>\n<p>With the command <code>mvn clean install</code> I builded the artifact of the project <code>message-spring-boot-starter</code> and it appeared in the local m2 repository &quot;com.message-starter&quot;</p>\n<p>Pom.xml of message-spring-boot-starter:</p>\n<pre><code>\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.message-starter&lt;/groupId&gt;\n    &lt;artifactId&gt;message-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;message-spring-boot-starter&lt;/name&gt;\n    &lt;description&gt;message-spring-boot-starter&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Pom.xml of message-app:</p>\n<pre><code>    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;message-app&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;message-app&lt;/name&gt;\n    &lt;description&gt;message-app&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.message-starter&lt;/groupId&gt;\n            &lt;artifactId&gt;message-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>I end up with an error: <code>Could not find artifact com.message-starter:message-spring-boot-starter:jar:unknown in central (https://repo.maven.apache.org/maven2)</code></p>\n<p>I want to add <code>message-spring-boot-starter</code> to the dependency of <code>message-app</code> project but I get this error every time.</p>\n<p>Please tell me what I'm doing wrong and how to fix it</p>\n"},{"tags":["java","maven","intellij-idea","jar","web3-java"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1612564651,"post_id":66070039,"comment_id":116816016,"body_markdown":"`org.web3j:core` is not a maven plugin so it can&#39;t be used one.","body":"<code>org.web3j:core</code> is not a maven plugin so it can&#39;t be used one."},{"owner":{"account_id":13270574,"reputation":557,"user_id":9581773,"display_name":"DIIMIIM"},"score":0,"creation_date":1612566363,"post_id":66070039,"comment_id":116816421,"body_markdown":"@khmarbaise I understand, any other idea how to use it with spigotmc ?","body":"@khmarbaise I understand, any other idea how to use it with spigotmc ?"}],"answers":[{"tags":[],"owner":{"account_id":13270574,"reputation":557,"user_id":9581773,"display_name":"DIIMIIM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612640983,"creation_date":1612640983,"answer_id":66081233,"question_id":66070039,"body_markdown":"I&#39;m not sure how much is this gonna help but I&#39;ve solved my problem by giving up on using maven and add it as jar to project modules.","title":"Failed to parse plugin descriptor for org.web3j:core:5.0.0","body":"<p>I'm not sure how much is this gonna help but I've solved my problem by giving up on using maven and add it as jar to project modules.</p>\n"}],"owner":{"account_id":13270574,"reputation":557,"user_id":9581773,"display_name":"DIIMIIM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669493536,"creation_date":1612556253,"question_id":66070039,"body_markdown":"I&#39;m trying to add the web3j library ( version 5.0.0 ) into the generated .jar of a java project, but for some reason I keep getting the error : \r\n\r\n`Failed to parse plugin descriptor for org.web3j:core:5.0.0 (C:\\Users\\...\\.m2\\repository\\org\\web3j\\core\\5.0.0\\core-5.0.0.jar): No plugin descriptor found at META-INF/maven/plugin.xml -&gt; [Help 1]` \r\n\r\n( Tried different versions , same error )\r\n\r\nThe `pom.xml` file content is the following :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;BMarketMC-v2&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.4-R0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.web3j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.8.4&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.web3j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.16.4-R0.1-SNAPSHOT&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\nThis error occurs when I run the `package` operation of the lifecycle , e.g :\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pSbZr.png\r\n\r\nWhere exactly should be this `META-INF` folder? Because it&#39;s not in the project directory.\r\n\r\nPlease some help, any idea how can I fix this?","title":"Failed to parse plugin descriptor for org.web3j:core:5.0.0","body":"<p>I'm trying to add the web3j library ( version 5.0.0 ) into the generated .jar of a java project, but for some reason I keep getting the error :</p>\n<p><code>Failed to parse plugin descriptor for org.web3j:core:5.0.0 (C:\\Users\\...\\.m2\\repository\\org\\web3j\\core\\5.0.0\\core-5.0.0.jar): No plugin descriptor found at META-INF/maven/plugin.xml -&gt; [Help 1]</code></p>\n<p>( Tried different versions , same error )</p>\n<p>The <code>pom.xml</code> file content is the following :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;BMarketMC-v2&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\n        &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\n        &lt;version&gt;1.16.4-R0.1-SNAPSHOT&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.web3j&lt;/groupId&gt;\n        &lt;artifactId&gt;core&lt;/artifactId&gt;\n        &lt;version&gt;4.8.4&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.web3j&lt;/groupId&gt;\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\n            &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\n            &lt;version&gt;1.16.4-R0.1-SNAPSHOT&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This error occurs when I run the <code>package</code> operation of the lifecycle , e.g :\n<a href=\"https://i.stack.imgur.com/pSbZr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pSbZr.png\" alt=\"enter image description here\" /></a></p>\n<p>Where exactly should be this <code>META-INF</code> folder? Because it's not in the project directory.</p>\n<p>Please some help, any idea how can I fix this?</p>\n"},{"tags":["java","sqlite","android-studio"],"comments":[{"owner":{"account_id":20133338,"reputation":27,"user_id":14765080,"display_name":"Dragon Lord"},"score":0,"creation_date":1669489822,"post_id":74584848,"comment_id":131653931,"body_markdown":"Previously deleted as I thought I instantly solved it by adding .getApplicationContext to getContext(), but it turns out it doesn&#39;t so I undeleted it as I still have no clue why its happening.  Oh, and by the way, the reason why I use DBhelper Dat = new DBhelper(getContext) or DBhelper Dat = new DBhelper(getContext.getApplicationContext) is because using DBHelper Dat = new DBHelper(this); makes it scream about wanting to change context to second fragment.","body":"Previously deleted as I thought I instantly solved it by adding .getApplicationContext to getContext(), but it turns out it doesn&#39;t so I undeleted it as I still have no clue why its happening.  Oh, and by the way, the reason why I use DBhelper Dat = new DBhelper(getContext) or DBhelper Dat = new DBhelper(getContext.getApplicationContext) is because using DBHelper Dat = new DBHelper(this); makes it scream about wanting to change context to second fragment."},{"owner":{"account_id":14535244,"reputation":161564,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1669490374,"post_id":74584848,"comment_id":131654038,"body_markdown":"First, uninstall the app and rerun to recreate the tables.","body":"First, uninstall the app and rerun to recreate the tables."},{"owner":{"account_id":20133338,"reputation":27,"user_id":14765080,"display_name":"Dragon Lord"},"score":0,"creation_date":1669490562,"post_id":74584848,"comment_id":131654068,"body_markdown":"uninstall android studio, or the app I created?","body":"uninstall android studio, or the app I created?"},{"owner":{"account_id":14535244,"reputation":161564,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1669490602,"post_id":74584848,"comment_id":131654074,"body_markdown":"Uninstall the app from the device/emulator where you test it.","body":"Uninstall the app from the device/emulator where you test it."},{"owner":{"account_id":20133338,"reputation":27,"user_id":14765080,"display_name":"Dragon Lord"},"score":0,"creation_date":1669491255,"post_id":74584848,"comment_id":131654173,"body_markdown":"tried xing out of the emulator on android studio and replayed it (think that is what you mean), same issue. Even tried creating an entire new device/virtual emulator, same issue still.","body":"tried xing out of the emulator on android studio and replayed it (think that is what you mean), same issue. Even tried creating an entire new device/virtual emulator, same issue still."}],"answers":[{"tags":[],"owner":{"account_id":20133338,"reputation":27,"user_id":14765080,"display_name":"Dragon Lord"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669492599,"creation_date":1669492599,"answer_id":74585197,"question_id":74584848,"body_markdown":"Yeah, turns out that as @forpas said, the problem with the app was a matter of resetting the device. However, as I had no idea how to do that, or even that it was necessary, I kept on trying even though nothing worked, even though a better term would be &quot;wiping&quot; the app, as the way to do it seems to be the &quot;wipe data&quot; setting.","title":"SQLite getting error that it doesn&#39;t see stored column/table despite it showing it exists","body":"<p>Yeah, turns out that as @forpas said, the problem with the app was a matter of resetting the device. However, as I had no idea how to do that, or even that it was necessary, I kept on trying even though nothing worked, even though a better term would be &quot;wiping&quot; the app, as the way to do it seems to be the &quot;wipe data&quot; setting.</p>\n"}],"owner":{"account_id":20133338,"reputation":27,"user_id":14765080,"display_name":"Dragon Lord"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669492599,"creation_date":1669489290,"question_id":74584848,"body_markdown":"While working on a school project that uses SQLite, I have been having a multidute of problems with it, but after getting most of them working, the main problem I am facing right not is twofold, that as far as I know, it is not seeing all of the content that is stored in the sql, getting four main errors: &quot;SQLiteLog: (1) table customers has no column named international in &quot;INSERT INTO customers(salary,skills,userType,age,name,international) VALUES (?,?,?,?,?,?)&quot;, &quot;SQLiteDataBase: Error inserting salary=123 skills=testing,coding,stuff userType=0 age=18 name=Josh international=N                                                                                                android.database.sqlite.SQLiteException: table customers has no column named international (code 1 SQLITE_ERROR): , while compiling: INSERT INTO customers(salary,skills,userType,age,name,international) VALUES (?,?,?,?,?,?)&quot;, &quot;SQLiteLog (1) no such table: security in &quot;INSERT INTO security(username,password) VALUES (?,?)&quot; and &quot;SQLiteDatabase Error inserting username=Josher password=password\r\n                                                                                                    android.database.sqlite.SQLiteException: no such table: security (code 1 SQLITE_ERROR): , while compiling: INSERT INTO security(username,password) VALUES (?,?)&quot;. The even more confusing thing is that for some of the errors they list the very thing that the error says is missing, which I find even weirder. While there was a post about someone having a similar issue, not only is the code seem very different, but was happening while updating the database, which I haven&#39;t even attempting, and has an answer that I don&#39;t know how to apply to my current code. What exactly is causing these four error, as they seem to be connected, and have no idea what is wrong? Is there a problem with my code? Are you not allowed to have two tables at once with SQLite or something? The code below is the DBHelper,java code, and xml for the section that is having the issue.\r\n\r\nDBHelper:\r\n\r\n    public class DBHelper extends SQLiteOpenHelper {\r\n        public static final String DBNAME = &quot;Customers.db&quot;;\r\n        public DBHelper(Context context){\r\n            super(context,DBNAME,null,1);\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase Dat) {\r\n            Dat.execSQL(&quot;create Table customers(name TEXT primary key, age INTEGER, skills TEXT,salary INTEGER, international TEXT,userType INTEGER)&quot;);\r\n            Dat.execSQL(&quot;create Table security(username TEXT primary key, password TEXT)&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase Dat, int i, int i1) {\r\n            Dat.execSQL(&quot;drop Table if exists customers&quot;);\r\n        }\r\n        public Boolean insertData(String name, int age, String skills, int salary,String international, int userType){\r\n            SQLiteDatabase Dat = this.getWritableDatabase();\r\n            ContentValues content = new ContentValues();\r\n    \r\n            content.put(&quot;name&quot;,name);\r\n            content.put(&quot;age&quot;,age);\r\n            content.put(&quot;skills&quot;,skills);\r\n            content.put(&quot;salary&quot;,salary);\r\n            content.put(&quot;international&quot;,international);\r\n            content.put(&quot;userType&quot;,userType);\r\n            long result = Dat.insert(&quot;customers&quot;,null,content);\r\n            if(result == -1){\r\n                return false;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        }\r\n        public Boolean insertSecurity(String username, String password){\r\n            SQLiteDatabase Dat = this.getWritableDatabase();\r\n            ContentValues content = new ContentValues();\r\n            content.put(&quot;username&quot;,username);\r\n            content.put(&quot;password&quot;,password);\r\n            long result = Dat.insert(&quot;security&quot;,null,content);\r\n            if(result == -1){\r\n                return false;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        }\r\n\r\nJava file Second Fragment (main activity and first fragment have no issues as far as I know)\r\n\r\n    public class SecondFragment extends Fragment {\r\n    \r\n        private FragmentSecondBinding binding;\r\n    \r\n        @Override\r\n        public View onCreateView(\r\n                LayoutInflater inflater, ViewGroup container,\r\n                Bundle savedInstanceState\r\n        ) {\r\n    \r\n            binding = FragmentSecondBinding.inflate(inflater, container, false);\r\n            return binding.getRoot();\r\n    \r\n        }\r\n    \r\n        public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n            view.getId();\r\n            super.onViewCreated(view, savedInstanceState);\r\n            EditText StudentName = (EditText) view.findViewById(R.id.editTextStudentName);\r\n            EditText StudentsAge = (EditText) view.findViewById(R.id.editTextStudentAge);\r\n            EditText StudentSalary = (EditText) view.findViewById(R.id.editTextStudentSalary);\r\n            EditText StudentInternational = (EditText) view.findViewById(R.id.editTextStudentInternational);\r\n            EditText StudentUsername = (EditText) view.findViewById(R.id.editTextStudentUsername);\r\n            EditText StudentPassword = (EditText) view.findViewById(R.id.editTextStudentPassword);\r\n            EditText StudentSkills = (EditText) view.findViewById(R.id.editTextStudentSkills);\r\n    \r\n    \r\n            DBHelper Dat = new DBHelper(getContext());\r\n    \r\n    \r\n            binding.buttonBack.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    NavHostFragment.findNavController(SecondFragment.this)\r\n                            .navigate(R.id.action_SecondFragment_to_FirstFragment);\r\n                }\r\n            });\r\n            binding.buttonNext.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String name = StudentName.getText().toString();\r\n                    String age = StudentsAge.getText().toString();\r\n                    String salary = StudentSalary.getText().toString();\r\n                    int savedSalary = tryParse(salary);\r\n                    String international = StudentInternational.getText().toString();\r\n                    String user = StudentUsername.getText().toString();\r\n                    String pass = StudentPassword.getText().toString();\r\n                    String skills = StudentSkills.getText().toString();\r\n                    int savedAge = tryParse(age);\r\n                    if(name.equals(&quot;&quot;)|| age.equals(&quot;&quot;) || salary.equals(&quot;&quot;) || international.equals(&quot;&quot;) || user.equals(&quot;&quot;) || pass.equals(&quot;&quot;) || skills.equals(&quot;&quot;)) {\r\n                        Toast.makeText(getContext(), &quot;A field is empty&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else if(savedSalary == -1 || savedAge == -1){\r\n                        Toast.makeText(getContext(), &quot;Salary and Age should be integers&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else{\r\n                        Boolean try1 = Dat.insertData(name,savedAge,skills,savedSalary,international,0);\r\n                        Boolean try2 = Dat.insertSecurity(user, pass);\r\n                        NavHostFragment.findNavController(SecondFragment.this)\r\n                                    .navigate(R.id.action_SecondFragment_to_FourthFragment);\r\n                        }\r\n                    }\r\n                \r\n            });\r\n        }\r\n        public Integer tryParse(Object obj) {\r\n            Integer retVal;\r\n            try {\r\n                retVal = Integer.parseInt((String) obj);\r\n            } catch (NumberFormatException nfe) {\r\n                retVal = -1; // or null if that is your preference\r\n            }\r\n            return retVal;\r\n        }\r\n        @Override\r\n        public void onDestroyView() {\r\n            super.onDestroyView();\r\n    \r\n            binding = null;\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\nXML code\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.SecondFragment&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textview_second&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;100dp&quot;\r\n            android:text=&quot;Enter Student Info&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@id/button_back&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button_back&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;100dp&quot;\r\n            android:layout_marginTop=&quot;450dp&quot;\r\n            android:text=&quot;@string/previous&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/textview_second&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button_next&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;24dp&quot;\r\n            android:layout_marginTop=&quot;450dp&quot;\r\n            android:text=&quot;Next&quot;\r\n            app:layout_constraintStart_toEndOf=&quot;@+id/button_back&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/textview_second&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editTextStudentName&quot;\r\n            android:layout_width=&quot;300dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;75dp&quot;\r\n            android:layout_marginTop=&quot;3dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Student Name&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            android:minHeight=&quot;48dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/textview_second&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editTextStudentSalary&quot;\r\n            android:layout_width=&quot;300dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;75dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:gravity=&quot;start|top&quot;\r\n            android:hint=&quot;Enter minimum accepted salary&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:minHeight=&quot;48dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentAge&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editTextStudentAge&quot;\r\n            android:layout_width=&quot;300dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;75dp&quot;\r\n            android:layout_marginTop=&quot;1dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:gravity=&quot;start|top&quot;\r\n            android:hint=&quot;Enter Student Age&quot;\r\n            android:inputType=&quot;textMultiLine&quot;\r\n            android:minHeight=&quot;48dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentName&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editTextStudentInternational&quot;\r\n            android:layout_width=&quot;300dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;75dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:gravity=&quot;start|top&quot;\r\n            android:hint=&quot;Enter if Internation student, use Y or N&quot;\r\n            android:inputType=&quot;textMultiLine&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentSalary&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editTextStudentUsername&quot;\r\n            android:layout_width=&quot;300dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;75dp&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Username&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            android:minHeight=&quot;48dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentInternational&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editTextStudentPassword&quot;\r\n            android:layout_width=&quot;300dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;75dp&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Password&quot;\r\n            android:inputType=&quot;textPassword&quot;\r\n            android:minHeight=&quot;48dp&quot;\r\n    \r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentUsername&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editTextStudentSkills&quot;\r\n            android:layout_width=&quot;300dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;75dp&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:gravity=&quot;start|top&quot;\r\n            android:hint=&quot;Enter skills seperated by commas&quot;\r\n            android:inputType=&quot;textMultiLine&quot;\r\n            android:minHeight=&quot;48dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentPassword&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"SQLite getting error that it doesn&#39;t see stored column/table despite it showing it exists","body":"<p>While working on a school project that uses SQLite, I have been having a multidute of problems with it, but after getting most of them working, the main problem I am facing right not is twofold, that as far as I know, it is not seeing all of the content that is stored in the sql, getting four main errors: &quot;SQLiteLog: (1) table customers has no column named international in &quot;INSERT INTO customers(salary,skills,userType,age,name,international) VALUES (?,?,?,?,?,?)&quot;, &quot;SQLiteDataBase: Error inserting salary=123 skills=testing,coding,stuff userType=0 age=18 name=Josh international=N                                                                                                android.database.sqlite.SQLiteException: table customers has no column named international (code 1 SQLITE_ERROR): , while compiling: INSERT INTO customers(salary,skills,userType,age,name,international) VALUES (?,?,?,?,?,?)&quot;, &quot;SQLiteLog (1) no such table: security in &quot;INSERT INTO security(username,password) VALUES (?,?)&quot; and &quot;SQLiteDatabase Error inserting username=Josher password=password\nandroid.database.sqlite.SQLiteException: no such table: security (code 1 SQLITE_ERROR): , while compiling: INSERT INTO security(username,password) VALUES (?,?)&quot;. The even more confusing thing is that for some of the errors they list the very thing that the error says is missing, which I find even weirder. While there was a post about someone having a similar issue, not only is the code seem very different, but was happening while updating the database, which I haven't even attempting, and has an answer that I don't know how to apply to my current code. What exactly is causing these four error, as they seem to be connected, and have no idea what is wrong? Is there a problem with my code? Are you not allowed to have two tables at once with SQLite or something? The code below is the DBHelper,java code, and xml for the section that is having the issue.</p>\n<p>DBHelper:</p>\n<pre><code>public class DBHelper extends SQLiteOpenHelper {\n    public static final String DBNAME = &quot;Customers.db&quot;;\n    public DBHelper(Context context){\n        super(context,DBNAME,null,1);\n    }\n\n\n\n    @Override\n    public void onCreate(SQLiteDatabase Dat) {\n        Dat.execSQL(&quot;create Table customers(name TEXT primary key, age INTEGER, skills TEXT,salary INTEGER, international TEXT,userType INTEGER)&quot;);\n        Dat.execSQL(&quot;create Table security(username TEXT primary key, password TEXT)&quot;);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase Dat, int i, int i1) {\n        Dat.execSQL(&quot;drop Table if exists customers&quot;);\n    }\n    public Boolean insertData(String name, int age, String skills, int salary,String international, int userType){\n        SQLiteDatabase Dat = this.getWritableDatabase();\n        ContentValues content = new ContentValues();\n\n        content.put(&quot;name&quot;,name);\n        content.put(&quot;age&quot;,age);\n        content.put(&quot;skills&quot;,skills);\n        content.put(&quot;salary&quot;,salary);\n        content.put(&quot;international&quot;,international);\n        content.put(&quot;userType&quot;,userType);\n        long result = Dat.insert(&quot;customers&quot;,null,content);\n        if(result == -1){\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    public Boolean insertSecurity(String username, String password){\n        SQLiteDatabase Dat = this.getWritableDatabase();\n        ContentValues content = new ContentValues();\n        content.put(&quot;username&quot;,username);\n        content.put(&quot;password&quot;,password);\n        long result = Dat.insert(&quot;security&quot;,null,content);\n        if(result == -1){\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n</code></pre>\n<p>Java file Second Fragment (main activity and first fragment have no issues as far as I know)</p>\n<pre><code>public class SecondFragment extends Fragment {\n\n    private FragmentSecondBinding binding;\n\n    @Override\n    public View onCreateView(\n            LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState\n    ) {\n\n        binding = FragmentSecondBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n\n    }\n\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n        view.getId();\n        super.onViewCreated(view, savedInstanceState);\n        EditText StudentName = (EditText) view.findViewById(R.id.editTextStudentName);\n        EditText StudentsAge = (EditText) view.findViewById(R.id.editTextStudentAge);\n        EditText StudentSalary = (EditText) view.findViewById(R.id.editTextStudentSalary);\n        EditText StudentInternational = (EditText) view.findViewById(R.id.editTextStudentInternational);\n        EditText StudentUsername = (EditText) view.findViewById(R.id.editTextStudentUsername);\n        EditText StudentPassword = (EditText) view.findViewById(R.id.editTextStudentPassword);\n        EditText StudentSkills = (EditText) view.findViewById(R.id.editTextStudentSkills);\n\n\n        DBHelper Dat = new DBHelper(getContext());\n\n\n        binding.buttonBack.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                NavHostFragment.findNavController(SecondFragment.this)\n                        .navigate(R.id.action_SecondFragment_to_FirstFragment);\n            }\n        });\n        binding.buttonNext.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String name = StudentName.getText().toString();\n                String age = StudentsAge.getText().toString();\n                String salary = StudentSalary.getText().toString();\n                int savedSalary = tryParse(salary);\n                String international = StudentInternational.getText().toString();\n                String user = StudentUsername.getText().toString();\n                String pass = StudentPassword.getText().toString();\n                String skills = StudentSkills.getText().toString();\n                int savedAge = tryParse(age);\n                if(name.equals(&quot;&quot;)|| age.equals(&quot;&quot;) || salary.equals(&quot;&quot;) || international.equals(&quot;&quot;) || user.equals(&quot;&quot;) || pass.equals(&quot;&quot;) || skills.equals(&quot;&quot;)) {\n                    Toast.makeText(getContext(), &quot;A field is empty&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else if(savedSalary == -1 || savedAge == -1){\n                    Toast.makeText(getContext(), &quot;Salary and Age should be integers&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else{\n                    Boolean try1 = Dat.insertData(name,savedAge,skills,savedSalary,international,0);\n                    Boolean try2 = Dat.insertSecurity(user, pass);\n                    NavHostFragment.findNavController(SecondFragment.this)\n                                .navigate(R.id.action_SecondFragment_to_FourthFragment);\n                    }\n                }\n            \n        });\n    }\n    public Integer tryParse(Object obj) {\n        Integer retVal;\n        try {\n            retVal = Integer.parseInt((String) obj);\n        } catch (NumberFormatException nfe) {\n            retVal = -1; // or null if that is your preference\n        }\n        return retVal;\n    }\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n\n        binding = null;\n    }\n\n\n\n}\n</code></pre>\n<p>XML code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.SecondFragment&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textview_second&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;100dp&quot;\n        android:text=&quot;Enter Student Info&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/button_back&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button_back&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;100dp&quot;\n        android:layout_marginTop=&quot;450dp&quot;\n        android:text=&quot;@string/previous&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/textview_second&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button_next&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;24dp&quot;\n        android:layout_marginTop=&quot;450dp&quot;\n        android:text=&quot;Next&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/button_back&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textview_second&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextStudentName&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;75dp&quot;\n        android:layout_marginTop=&quot;3dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Student Name&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textview_second&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextStudentSalary&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;75dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:ems=&quot;10&quot;\n        android:gravity=&quot;start|top&quot;\n        android:hint=&quot;Enter minimum accepted salary&quot;\n        android:inputType=&quot;number&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentAge&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextStudentAge&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;75dp&quot;\n        android:layout_marginTop=&quot;1dp&quot;\n        android:ems=&quot;10&quot;\n        android:gravity=&quot;start|top&quot;\n        android:hint=&quot;Enter Student Age&quot;\n        android:inputType=&quot;textMultiLine&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentName&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextStudentInternational&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;75dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:ems=&quot;10&quot;\n        android:gravity=&quot;start|top&quot;\n        android:hint=&quot;Enter if Internation student, use Y or N&quot;\n        android:inputType=&quot;textMultiLine&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentSalary&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextStudentUsername&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;75dp&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Username&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentInternational&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextStudentPassword&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;75dp&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Password&quot;\n        android:inputType=&quot;textPassword&quot;\n        android:minHeight=&quot;48dp&quot;\n\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentUsername&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextStudentSkills&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;75dp&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:ems=&quot;10&quot;\n        android:gravity=&quot;start|top&quot;\n        android:hint=&quot;Enter skills seperated by commas&quot;\n        android:inputType=&quot;textMultiLine&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/editTextStudentPassword&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","nlp","data-dictionary","text-segmentation"],"comments":[{"owner":{"account_id":3987,"reputation":15843,"user_id":5856,"display_name":"Stompchicken"},"score":0,"creation_date":1294222881,"post_id":4580877,"comment_id":5057839,"body_markdown":"Are you certain that you want to exclude any words that are not in your lexicon? There will always be &#39;interesting&#39; words that are not in the lexicon.","body":"Are you certain that you want to exclude any words that are not in your lexicon? There will always be &#39;interesting&#39; words that are not in the lexicon."},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1294237644,"post_id":4580877,"comment_id":5060596,"body_markdown":"@StompChicken: 1) Technical manuals + business documents `-&gt;` corpus. 2) Corpus + dictionary (w/lemmas) `-&gt;` probability lexicon. 3) Algorithm( lexicon + columns ) `-&gt;` split words. I have since tested the solution against 3300+ column names. The software correctly split 87% (random sample of 100) of the words. The remaining 13% that I saw could be accurately split if (a) the dictionary included lemmas; and (b) the corpus had more data. Both of those issues can be easily and quickly resolved.","body":"@StompChicken: 1) Technical manuals + business documents <code>-&gt;</code> corpus. 2) Corpus + dictionary (w/lemmas) <code>-&gt;</code> probability lexicon. 3) Algorithm( lexicon + columns ) <code>-&gt;</code> split words. I have since tested the solution against 3300+ column names. The software correctly split 87% (random sample of 100) of the words. The remaining 13% that I saw could be accurately split if (a) the dictionary included lemmas; and (b) the corpus had more data. Both of those issues can be easily and quickly resolved."},{"owner":{"account_id":3987,"reputation":15843,"user_id":5856,"display_name":"Stompchicken"},"score":0,"creation_date":1294237937,"post_id":4580877,"comment_id":5060679,"body_markdown":"@Dave Jarvis I&#39;m not sure if that&#39;s a yes or a no. My point is that word distributions are long-tailed and the amount of data required to get those extra % increase exponentially.","body":"@Dave Jarvis I&#39;m not sure if that&#39;s a yes or a no. My point is that word distributions are long-tailed and the amount of data required to get those extra % increase exponentially."},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1294240388,"post_id":4580877,"comment_id":5061288,"body_markdown":"@StompChicken: Words not in the lexicon are parsed correctly (e.g., ageconrolnoticeperiod `-&gt;` age **conrol** notice period). The closest answer to your question is *yes*, but that does not mean that the &#39;interesting&#39; words are discarded from the solution. Keep in mind that the goal is not 100% conversion. Attaining 95% will suffice: the rest can be fixed manually.","body":"@StompChicken: Words not in the lexicon are parsed correctly (e.g., ageconrolnoticeperiod <code>-&gt;</code> age <b>conrol</b> notice period). The closest answer to your question is <i>yes</i>, but that does not mean that the &#39;interesting&#39; words are discarded from the solution. Keep in mind that the goal is not 100% conversion. Attaining 95% will suffice: the rest can be fixed manually."}],"answers":[{"tags":[],"owner":{"account_id":260457,"reputation":2364,"user_id":544024,"accept_rate":100,"display_name":"killdash9"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1294009128,"creation_date":1294009128,"answer_id":4580980,"question_id":4580877,"body_markdown":"I would approach the problem slightly differently.  It&#39;s significant that &quot;end&quot; and &quot;dependent&quot; overlap, yet that is lost in your word Map.  If instead of a single word map you were to create a set of word maps, with each one representing a possible segmentation of the column name, consisting only of non-overlapping words, you could compute a score for each segmentation based on the word&#39;s probabilities and word length.  The score for a segmentation would be the average of the scores of the individual words in the segmentation.  The score for an individual word would be some function of the word&#39;s length(l) and probability(p), something like &lt;pre&gt;score=al + bp&lt;/pre&gt; where a and b are weights that you can tweak to get the right mix.  Average the scores for each word to get the score for the segmentation and pick the segmentation with the highest score.  The score function would not have to be a linear weighting either, you could experiment with logarithmic, exponential or higher-order polynomials (squares for instance)","title":"Text segmentation: dictionary-based word splitting","body":"<p>I would approach the problem slightly differently.  It's significant that \"end\" and \"dependent\" overlap, yet that is lost in your word Map.  If instead of a single word map you were to create a set of word maps, with each one representing a possible segmentation of the column name, consisting only of non-overlapping words, you could compute a score for each segmentation based on the word's probabilities and word length.  The score for a segmentation would be the average of the scores of the individual words in the segmentation.  The score for an individual word would be some function of the word's length(l) and probability(p), something like <pre>score=al + bp</pre> where a and b are weights that you can tweak to get the right mix.  Average the scores for each word to get the score for the segmentation and pick the segmentation with the highest score.  The score function would not have to be a linear weighting either, you could experiment with logarithmic, exponential or higher-order polynomials (squares for instance)</p>\n"},{"comments":[{"owner":{"account_id":44586,"reputation":37547,"user_id":130964,"accept_rate":95,"display_name":"peter.murray.rust"},"score":0,"creation_date":1294050620,"post_id":4581021,"comment_id":5033500,"body_markdown":"We parse chemical names - e.g. &quot;chloromethylbenzene&quot; and use a large vocabulary of fragments for both DFAs and regexes. We had to write our own code which took ca 2 person years. The parsing can take place from both ends. We alos use n-grams and I have used tries again starting from both ends. We have made some limited progress with detecting unknown lexemes (there are an infinite number as chemists are allowed to invent them) and misspellings. I don&#39;t know immediately what packages do English wordsplitting but I would start with hyphenation. In German this will be an essential feature.","body":"We parse chemical names - e.g. &quot;chloromethylbenzene&quot; and use a large vocabulary of fragments for both DFAs and regexes. We had to write our own code which took ca 2 person years. The parsing can take place from both ends. We alos use n-grams and I have used tries again starting from both ends. We have made some limited progress with detecting unknown lexemes (there are an infinite number as chemists are allowed to invent them) and misspellings. I don&#39;t know immediately what packages do English wordsplitting but I would start with hyphenation. In German this will be an essential feature."},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1294066389,"post_id":4581021,"comment_id":5035693,"body_markdown":"This problem is *much* simpler, and the solution need not be 100% perfect. I don&#39;t need to analyze words based on n-grams. The last paragraph in the revised problem statement describes the algorithm required to pick the most probable answer. I doubt that devising a solution for such a problem would take years... :-) I appreciate your feedback.","body":"This problem is <i>much</i> simpler, and the solution need not be 100% perfect. I don&#39;t need to analyze words based on n-grams. The last paragraph in the revised problem statement describes the algorithm required to pick the most probable answer. I doubt that devising a solution for such a problem would take years... :-) I appreciate your feedback."}],"tags":[],"owner":{"account_id":44586,"reputation":37547,"user_id":130964,"accept_rate":95,"display_name":"peter.murray.rust"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1294009791,"creation_date":1294009791,"answer_id":4581021,"question_id":4580877,"body_markdown":"Your problem is a very common one in NLP - don&#39;t start by reinventing the wheel - it will take you a long time and not be as good as what is out there already.\r\n\r\nYou should certainly start by seeing what the NLP libraries have to offer: http://en.wikipedia.org/wiki/Natural_language_processing and http://en.wikipedia.org/wiki/Category:Natural_language_processing_toolkits. Your problem is a common one and there are different approaches which you will need to explore for your corpus.\r\n\r\nYour wordsplitting may be found under hyphenation routines. Two possible approaches are n-grams (where the frequency of (say) 4-character substrings are used to predict boundaries) and tries which show common starts or ends to words. Some of these may help with misspellings.\r\n\r\nBut there is no trivial answer - find what works best for you.","title":"Text segmentation: dictionary-based word splitting","body":"<p>Your problem is a very common one in NLP - don't start by reinventing the wheel - it will take you a long time and not be as good as what is out there already.</p>\n\n<p>You should certainly start by seeing what the NLP libraries have to offer: <a href=\"http://en.wikipedia.org/wiki/Natural_language_processing\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Natural_language_processing</a> and <a href=\"http://en.wikipedia.org/wiki/Category:Natural_language_processing_toolkits\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Category:Natural_language_processing_toolkits</a>. Your problem is a common one and there are different approaches which you will need to explore for your corpus.</p>\n\n<p>Your wordsplitting may be found under hyphenation routines. Two possible approaches are n-grams (where the frequency of (say) 4-character substrings are used to predict boundaries) and tries which show common starts or ends to words. Some of these may help with misspellings.</p>\n\n<p>But there is no trivial answer - find what works best for you.</p>\n"},{"tags":[],"owner":{"account_id":699298,"reputation":11,"user_id":587716,"display_name":"Mike St. John"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669491899,"creation_date":1295883883,"answer_id":4783888,"question_id":4580877,"body_markdown":"Peter Norvig has written some stuff in python.\r\n\r\nhttp://norvig.com/ngrams/ngrams.py\r\n\r\ncontains a function called segment.    It run a Naive Bayes probability of a sequence of words.   works well.   Can be a good basis for what your trying to accomplish in java.\r\n","title":"Text segmentation: dictionary-based word splitting","body":"<p>Peter Norvig has written some stuff in python.</p>\n<p><a href=\"http://norvig.com/ngrams/ngrams.py\" rel=\"nofollow noreferrer\">http://norvig.com/ngrams/ngrams.py</a></p>\n<p>contains a function called segment.    It run a Naive Bayes probability of a sequence of words.   works well.   Can be a good basis for what your trying to accomplish in java.</p>\n"}],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7535,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1422605933,"answer_count":3,"score":5,"last_activity_date":1669492259,"creation_date":1294007545,"question_id":4580877,"body_markdown":"## Background\r\nSplit database column names into equivalent English text to seed a data dictionary. The English dictionary is created from a corpus of corporate documents, wikis, and email. The dictionary (`lexicon.csv`) is a CSV file with words and probabilities. Thus, the more often someone writes the word &quot;therapist&quot; (in email or on a wiki page) the higher the chance of &quot;therapistname&quot; splits to &quot;therapist name&quot; as opposed to something else. (The lexicon probably won&#39;t even include the word rapist.)\r\n\r\n## Source Code\r\n - TextSegmenter.java @ http://pastebin.com/taXyE03L\r\n - SortableValueMap.java @ http://pastebin.com/v3hRXYan\r\n\r\n## Data Files\r\n - lexicon.csv - http://pastebin.com/0crECtXY\r\n - columns.txt - http://pastebin.com/EtN9Qesr\r\n\r\n## Problem (updated 2011-01-03)\r\nWhen the following problem is encountered:\r\n\r\n    dependentrelationship::end depend ent dependent relationship\r\n    end=0.86\r\n    ent=0.001\r\n    dependent=0.8\r\n    relationship=0.9\r\n\r\nThese possible solutions exist:\r\n\r\n    dependentrelationship::dependent relationship\r\n    dependentrelationship::dep end ent relationship\r\n    dependentrelationship::depend ent relationship\r\n\r\nThe lexicon contains words with their relative probabilities (based on word frequency): `dependent 0.8`, `end 0.86`, `relationship 0.9`, `depend 0.3`, and `ent 0.001`.\r\n\r\nEliminate the solution of `dep end ent relationship` because `dep` is not in the lexicon (i.e., 75% word usage), whereas the other two solutions cover 100% of words in the lexicon. Of the remaining solutions, the probability of `dependent relationship` is *0.72* whereas `depend ent relationship` is *0.00027*. We can therefore select `dependent relationship` as the correct solution.\r\n\r\n## Related\r\n- https://stackoverflow.com/questions/3856630/how-to-separate-words-in-a-sentence-with-spaces\r\n- [Top Coder - Text Segmentation Presentation 1/2][1]\r\n- [Top Coder - Text Segmentation Presentation 2/2][2]\r\n- [Linear Text Segmentation using Dynamic Programming Algorithm][3]\r\n- [Dynamic Programming: Segmentation][4]\r\n- [Dynamic Programming: A Computational Tool][5]\r\n\r\n## Question\r\nGiven:\r\n\r\n    // The concatenated phrase or database column (e.g., dependentrelationship).\r\n    String concat;\r\n\r\n    // All words (String) in the lexicon within concat, in left-to-right order; and\r\n    // the ranked probability of those words (Double). (E.g., {end, 0.97}\r\n    // {dependent, 0.86}, {relationship, 0.95}.)\r\n    Map.Entry&lt;String, Double&gt; word;\r\n\r\nHow would you implement a routine that generates the most likely solution based on lexicon coverage and probabilities? For example:\r\n\r\n    for( Map.Entry&lt;String, Double&gt; word : words ) {\r\n      result.append( word.getKey() ).append( &#39; &#39; );\r\n\r\n      // What goes here?\r\n\r\n      System.out.printf( &quot;%s=%f\\n&quot;, word.getKey(), word.getValue() );\r\n    }\r\n\r\nThank you!\r\n\r\n  [1]: https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=ZGVmYXVsdGRvbWFpbnxkanBkZnN0b3JlfGd4OjMzMTEzYTA5NTk3NjFjOTc\r\n  [2]: https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=ZGVmYXVsdGRvbWFpbnxkanBkZnN0b3JlfGd4OjQ1YmFiZTNhODVjMzY2MmY\r\n  [3]: https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=ZGVmYXVsdGRvbWFpbnxkanBkZnN0b3JlfGd4OjYyN2I4NTA0OTIxZDNlMGE\r\n  [4]: https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=ZGVmYXVsdGRvbWFpbnxkanBkZnN0b3JlfGd4OjUxZmFkNzc0MmMzOTc5ZmI\r\n  [5]: https://sites.google.com/site/djpdfstore/text-segmentation-02.pdf?attredirects=0&amp;d=1\r\n","title":"Text segmentation: dictionary-based word splitting","body":"<h2>Background</h2>\n\n<p>Split database column names into equivalent English text to seed a data dictionary. The English dictionary is created from a corpus of corporate documents, wikis, and email. The dictionary (<code>lexicon.csv</code>) is a CSV file with words and probabilities. Thus, the more often someone writes the word \"therapist\" (in email or on a wiki page) the higher the chance of \"therapistname\" splits to \"therapist name\" as opposed to something else. (The lexicon probably won't even include the word rapist.)</p>\n\n<h2>Source Code</h2>\n\n<ul>\n<li>TextSegmenter.java @ <a href=\"http://pastebin.com/taXyE03L\" rel=\"nofollow noreferrer\">http://pastebin.com/taXyE03L</a></li>\n<li>SortableValueMap.java @ <a href=\"http://pastebin.com/v3hRXYan\" rel=\"nofollow noreferrer\">http://pastebin.com/v3hRXYan</a></li>\n</ul>\n\n<h2>Data Files</h2>\n\n<ul>\n<li>lexicon.csv - <a href=\"http://pastebin.com/0crECtXY\" rel=\"nofollow noreferrer\">http://pastebin.com/0crECtXY</a></li>\n<li>columns.txt - <a href=\"http://pastebin.com/EtN9Qesr\" rel=\"nofollow noreferrer\">http://pastebin.com/EtN9Qesr</a></li>\n</ul>\n\n<h2>Problem (updated 2011-01-03)</h2>\n\n<p>When the following problem is encountered:</p>\n\n<pre><code>dependentrelationship::end depend ent dependent relationship\nend=0.86\nent=0.001\ndependent=0.8\nrelationship=0.9\n</code></pre>\n\n<p>These possible solutions exist:</p>\n\n<pre><code>dependentrelationship::dependent relationship\ndependentrelationship::dep end ent relationship\ndependentrelationship::depend ent relationship\n</code></pre>\n\n<p>The lexicon contains words with their relative probabilities (based on word frequency): <code>dependent 0.8</code>, <code>end 0.86</code>, <code>relationship 0.9</code>, <code>depend 0.3</code>, and <code>ent 0.001</code>.</p>\n\n<p>Eliminate the solution of <code>dep end ent relationship</code> because <code>dep</code> is not in the lexicon (i.e., 75% word usage), whereas the other two solutions cover 100% of words in the lexicon. Of the remaining solutions, the probability of <code>dependent relationship</code> is <em>0.72</em> whereas <code>depend ent relationship</code> is <em>0.00027</em>. We can therefore select <code>dependent relationship</code> as the correct solution.</p>\n\n<h2>Related</h2>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3856630/how-to-separate-words-in-a-sentence-with-spaces\">How to separate words in a &quot;sentence&quot; with spaces?</a></li>\n<li><a href=\"https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=ZGVmYXVsdGRvbWFpbnxkanBkZnN0b3JlfGd4OjMzMTEzYTA5NTk3NjFjOTc\" rel=\"nofollow noreferrer\">Top Coder - Text Segmentation Presentation 1/2</a></li>\n<li><a href=\"https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=ZGVmYXVsdGRvbWFpbnxkanBkZnN0b3JlfGd4OjQ1YmFiZTNhODVjMzY2MmY\" rel=\"nofollow noreferrer\">Top Coder - Text Segmentation Presentation 2/2</a></li>\n<li><a href=\"https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=ZGVmYXVsdGRvbWFpbnxkanBkZnN0b3JlfGd4OjYyN2I4NTA0OTIxZDNlMGE\" rel=\"nofollow noreferrer\">Linear Text Segmentation using Dynamic Programming Algorithm</a></li>\n<li><a href=\"https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=ZGVmYXVsdGRvbWFpbnxkanBkZnN0b3JlfGd4OjUxZmFkNzc0MmMzOTc5ZmI\" rel=\"nofollow noreferrer\">Dynamic Programming: Segmentation</a></li>\n<li><a href=\"https://sites.google.com/site/djpdfstore/text-segmentation-02.pdf?attredirects=0&amp;d=1\" rel=\"nofollow noreferrer\">Dynamic Programming: A Computational Tool</a></li>\n</ul>\n\n<h2>Question</h2>\n\n<p>Given:</p>\n\n<pre><code>// The concatenated phrase or database column (e.g., dependentrelationship).\nString concat;\n\n// All words (String) in the lexicon within concat, in left-to-right order; and\n// the ranked probability of those words (Double). (E.g., {end, 0.97}\n// {dependent, 0.86}, {relationship, 0.95}.)\nMap.Entry&lt;String, Double&gt; word;\n</code></pre>\n\n<p>How would you implement a routine that generates the most likely solution based on lexicon coverage and probabilities? For example:</p>\n\n<pre><code>for( Map.Entry&lt;String, Double&gt; word : words ) {\n  result.append( word.getKey() ).append( ' ' );\n\n  // What goes here?\n\n  System.out.printf( \"%s=%f\\n\", word.getKey(), word.getValue() );\n}\n</code></pre>\n\n<p>Thank you!</p>\n"},{"tags":["java","velocity","apache-velocity"],"comments":[{"owner":{"account_id":365392,"reputation":4105,"user_id":710286,"display_name":"Claude Brisson"},"score":0,"creation_date":1669449690,"post_id":74574363,"comment_id":131646959,"body_markdown":"Several questions: under which form is your example data given to Velocity in the context? Is it a String, a Json object instance of some Json library? And do you have access to the Velocity Tools `JsonTool` in your context?","body":"Several questions: under which form is your example data given to Velocity in the context? Is it a String, a Json object instance of some Json library? And do you have access to the Velocity Tools <code>JsonTool</code> in your context?"},{"owner":{"account_id":20852934,"reputation":51,"user_id":15317030,"display_name":"James Stan"},"score":0,"creation_date":1669462341,"post_id":74574363,"comment_id":131648680,"body_markdown":"@ClaudeBrisson the input or data source is in JSON. I have provided the sample above and yes I have access to JsonTool. Now to read a non list elements from JSON I did $document.StudentName and store the attribute value in a variable but I can not do the same thing for list for example\n#set(listofuniversity = $document.List&lt;University&gt;) the special character &lt; &amp; &gt; won;t let me do that.","body":"@ClaudeBrisson the input or data source is in JSON. I have provided the sample above and yes I have access to JsonTool. Now to read a non list elements from JSON I did $document.StudentName and store the attribute value in a variable but I can not do the same thing for list for example #set(listofuniversity = $document.List&lt;University&gt;) the special character &lt; &amp; &gt; won;t let me do that."},{"owner":{"account_id":365392,"reputation":4105,"user_id":710286,"display_name":"Claude Brisson"},"score":0,"creation_date":1669477095,"post_id":74574363,"comment_id":131651311,"body_markdown":"When you say &quot;the input or data source is in JSON&quot;, it doesn&#39;t tell us if the JSON is in string format, or if it has already been parsed in a Java Json library, and in this case which Json library you are using...","body":"When you say &quot;the input or data source is in JSON&quot;, it doesn&#39;t tell us if the JSON is in string format, or if it has already been parsed in a Java Json library, and in this case which Json library you are using..."},{"owner":{"account_id":20852934,"reputation":51,"user_id":15317030,"display_name":"James Stan"},"score":0,"creation_date":1669480712,"post_id":74574363,"comment_id":131652144,"body_markdown":"@ClaudeBrisson we are using the Jackson parser. When the JSON gets to a program which is using velocity for transformation the input JSON is already parsed.","body":"@ClaudeBrisson we are using the Jackson parser. When the JSON gets to a program which is using velocity for transformation the input JSON is already parsed."}],"answers":[{"tags":[],"owner":{"account_id":365392,"reputation":4105,"user_id":710286,"display_name":"Claude Brisson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669492111,"creation_date":1669492111,"answer_id":74585143,"question_id":74574363,"body_markdown":"The solution is dependent upon the JSON library you use, but for many of them, the following code should work:\r\n\r\n```\r\n#set( $universities = $document.get(&#39;List&lt;University&gt;&#39;) )\r\n#foreach( $university in $universities )\r\n  ... do something ...\r\n#end\r\n```\r\n\r\nThe main point to note here is that you can call any Java method on the object you get.\r\n\r\nAlso, if the security uberspector is not present, for debugging purposes you can display the Java class name of any object in the context, for instance: `$document.class.name` should display, in your case, something like `com.fasterxml.jackson.databind.node.ObjectNode`.\r\n","title":"Read JSON with special character in keys using apache velocity","body":"<p>The solution is dependent upon the JSON library you use, but for many of them, the following code should work:</p>\n<pre><code>#set( $universities = $document.get('List&lt;University&gt;') )\n#foreach( $university in $universities )\n  ... do something ...\n#end\n</code></pre>\n<p>The main point to note here is that you can call any Java method on the object you get.</p>\n<p>Also, if the security uberspector is not present, for debugging purposes you can display the Java class name of any object in the context, for instance: <code>$document.class.name</code> should display, in your case, something like <code>com.fasterxml.jackson.databind.node.ObjectNode</code>.</p>\n"}],"owner":{"account_id":20852934,"reputation":51,"user_id":15317030,"display_name":"James Stan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74585143,"answer_count":1,"score":0,"last_activity_date":1669492111,"creation_date":1669387065,"question_id":74574363,"body_markdown":"I have a JSON which has an attribute with its List type. Can someone help me on how to read the value in Apache Velocity template? Following is an example of JSON. The challenge is to read the list of University from JSON and iterate through it.\r\n\r\n    {\r\n       &quot;StudentName&quot;:&quot;XYZ&quot;,\r\n      \r\n          &quot;List&lt;Univesity&gt;&quot;: [\r\n            {\r\n                &quot;Name&quot;: &quot;NYU&quot;,\r\n                &quot;City&quot;: &quot;NY&quot;,\r\n                &quot;Country&quot;:&quot;US&quot;,\r\n            } ]\r\n    }\r\n\r\n","title":"Read JSON with special character in keys using apache velocity","body":"<p>I have a JSON which has an attribute with its List type. Can someone help me on how to read the value in Apache Velocity template? Following is an example of JSON. The challenge is to read the list of University from JSON and iterate through it.</p>\n<pre><code>{\n   &quot;StudentName&quot;:&quot;XYZ&quot;,\n  \n      &quot;List&lt;Univesity&gt;&quot;: [\n        {\n            &quot;Name&quot;: &quot;NYU&quot;,\n            &quot;City&quot;: &quot;NY&quot;,\n            &quot;Country&quot;:&quot;US&quot;,\n        } ]\n}\n</code></pre>\n"},{"tags":["java","lucene"],"answers":[{"comments":[{"owner":{"account_id":25543056,"reputation":13,"user_id":19371023,"display_name":"leyva_7"},"score":0,"creation_date":1669489229,"post_id":74583282,"comment_id":131653814,"body_markdown":"Thank you very much for your answer, I still have a problem that I forgot to mention. How can I combine this query with other attributes that must appear. For example: “titulo: cobra kai”, that problem is solved and let’s say I have another field that shows the film year (“anio”). So the query will be “titulo: cobra kai AND anio:2018”, how can I do this combining the Boolean querys? Thank you so much.","body":"Thank you very much for your answer, I still have a problem that I forgot to mention. How can I combine this query with other attributes that must appear. For example: “titulo: cobra kai”, that problem is solved and let’s say I have another field that shows the film year (“anio”). So the query will be “titulo: cobra kai AND anio:2018”, how can I do this combining the Boolean querys? Thank you so much."},{"owner":{"account_id":25543056,"reputation":13,"user_id":19371023,"display_name":"leyva_7"},"score":0,"creation_date":1669489598,"post_id":74583282,"comment_id":131653892,"body_markdown":"The query should be like (titulo=“cobra kai” OR titulo=“cobra” OR titulo=“kai”) AND anio=“2018”","body":"The query should be like (titulo=“cobra kai” OR titulo=“cobra” OR titulo=“kai”) AND anio=“2018”"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1669492002,"post_id":74583282,"comment_id":131654301,"body_markdown":"That is really a completely new question - but I added some notes to the answer. Feel free to ask a new question if these notes do not help - and if your research into existing questions also does not help.","body":"That is really a completely new question - but I added some notes to the answer. Feel free to ask a new question if these notes do not help - and if your research into existing questions also does not help."}],"tags":[],"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669491956,"creation_date":1669475245,"answer_id":74583282,"question_id":74581796,"body_markdown":"From the error message we can see that you have defined `nested` as a variable of type `BooleanQuery`. \r\n\r\nAs the error messages say, the class `BooleanQuery` does not have a method `add(Query, Occur)`. This means the following line will not compile:\r\n\r\n    nested.add(query1, BooleanClause.Occur.SHOULD);\r\n\r\nInstead, the code should be using a `BooleanClause` here, instead of a `BooleanQuery`.\r\n\r\nOne `BooleanQuery` is made up of one or more clauses, using `BooleanClause`.\r\n\r\nSo, you can do the following:\r\n\r\n```java\r\nBooleanQuery.Builder bqBuilder = new BooleanQuery.Builder();\r\n\r\nQuery query1 = new TermQuery(new Term(&quot;titulo&quot;, &quot;cobra kai&quot;));\r\nQuery query2 = new TermQuery(new Term(&quot;titulo&quot;, &quot;cobra&quot;));\r\nQuery query3 = new TermQuery(new Term(&quot;titulo&quot;, &quot;kai&quot;));\r\n\r\nBooleanClause nested1 = new BooleanClause(query1, BooleanClause.Occur.SHOULD);\r\nBooleanClause nested2 = new BooleanClause(query2, BooleanClause.Occur.SHOULD);\r\nBooleanClause nested3 = new BooleanClause(query3, BooleanClause.Occur.SHOULD);\r\n\r\nbqBuilder.add(nested1);\r\nbqBuilder.add(nested2);\r\nbqBuilder.add(nested3);\r\n\r\nBooleanQuery bq = bqBuilder.build();\r\n```\r\n\r\nThat builds a boolean query containing 3 clauses: \r\n\r\n_Find titles containing &quot;cobra kai&quot; OR &quot;cobra&quot; OR &quot;kai&quot;._\r\n\r\nI am not sure what this is for:\r\n\r\n    bqbuilder.add(nested, BooleanClause.Occur.MUST);\r\n\r\nThe `BooleanClause.Occur.MUST` does not appear to be needed, so I have dropped it from my code.\r\n\r\n---\r\n\r\nYou can simplify the above code by using a loop.\r\n\r\nAssuming you already have a list containing your search terms (your `busqueda_separada` list):\r\n\r\n    List&lt;String&gt; terms = Arrays.asList(&quot;cobra kai&quot;, &quot;cobra&quot;, &quot;kai&quot;);\r\n\r\nYou can use that list as follows:\r\n\r\n```java\r\nfor (String term : terms) {\r\n    Query query = new TermQuery(new Term(&quot;titulo&quot;, term));\r\n    BooleanClause nested = new BooleanClause(query, BooleanClause.Occur.SHOULD);\r\n    bqBuilder.add(nested);\r\n}\r\nBooleanQuery bq2 = bqBuilder.build();\r\n```\r\n\r\n---\r\n\r\n**Update**\r\n\r\nOne point I forgot to mention:\r\n\r\nIn your data, you have a search phrase: `cobra kai`. It&#39;s possible that you do not need to search for this, depending on how your data was indexed, and how you expect your search to work.\r\n\r\nBut assuming you _do_ need it, you need to wrap the phrase in double-quotes, so that it is treated as a single search phrase by Lucene:\r\n\r\n    List&lt;String&gt; terms = Arrays.asList(&quot;\\&quot;cobra kai\\&quot;&quot;, &quot;cobra&quot;, &quot;kai&quot;);\r\n\r\nThis ensures the generated search is:\r\n\r\n    titulo:&quot;cobra kai&quot; titulo:cobra titulo:kai\r\n\r\nAnd, by default, there is an implied &quot;OR&quot; in between each clause in the search.\r\n\r\n---\r\n\r\nYour &quot;extra&quot; question:\r\n\r\n&gt; query should be like `(titulo=“cobra kai” OR titulo=“cobra” OR titulo=“kai”) AND anio=“2018”`\r\n\r\nThis is really a completely new question and you can see approaches in existing answers such as:\r\n\r\n - [How to create nested boolean query with lucene API (a AND (b OR c))?](https://stackoverflow.com/q/3130908/12567365)\r\n - [Lucene 6.0! How to instantiate a BooleanQuery and add other search queries in it?](https://stackoverflow.com/q/37904977/12567365)\r\n - and probably several more...\r\n\r\nBut one more approach (if I have understood correctly) is to nest 2 queries inside another boolean query and use `Occur.MUST` in that outer query for each clause.\r\n\r\nSo, you already have your first boolean query.\r\n\r\nNow create another one. Actually if you only have one term, you don&#39;t even need a boolean query - just a term query:\r\n\r\n    Query query2 = new TermQuery(new Term(&quot;year&quot;, &quot;2018&quot;));\r\n\r\nNow place these two queries into a brand new boolean query (this new query _contains_ the first two queries):\r\n\r\n    BooleanQuery.Builder bqBuilder = new BooleanQuery.Builder();\r\n    bqBuilder.add(bq1, BooleanClause.Occur.MUST);\r\n    bqBuilder.add(query2, BooleanClause.Occur.MUST);\r\n    BooleanQuery bq = bqBuilder.build();\r\n\r\nThe above is equivalent to the following Lucene classic query:\r\n   \r\n    +(body:&quot;cobra kai&quot; body:cobra body:kai) +year:2018\r\n\r\nAnd that, in turn, is equivalent to:\r\n\r\n    (body:&quot;cobra kai&quot; OR body:cobra OR body:kai) AND year:2018\r\n\r\nNote that this uses the [plus operator](https://lucene.apache.org/core/9_4_2/queryparser/org/apache/lucene/queryparser/classic/package-summary.html#Boolean_operators).\r\n\r\nSo the results MUST contain matches for both clauses - the clause for my `body` field and the clause for my `year` field.\r\n\r\n---\r\n\r\nThis can all get quite confusing if you think about Lucene boolean operators in the same way that you think about Boolean algebra. But they are not the same and serve different purposes. Lucene is not (only) about including and excluding records, but about _scoring_ those records for relevance.","title":"&quot;OR&quot; query in lucene","body":"<p>From the error message we can see that you have defined <code>nested</code> as a variable of type <code>BooleanQuery</code>.</p>\n<p>As the error messages say, the class <code>BooleanQuery</code> does not have a method <code>add(Query, Occur)</code>. This means the following line will not compile:</p>\n<pre><code>nested.add(query1, BooleanClause.Occur.SHOULD);\n</code></pre>\n<p>Instead, the code should be using a <code>BooleanClause</code> here, instead of a <code>BooleanQuery</code>.</p>\n<p>One <code>BooleanQuery</code> is made up of one or more clauses, using <code>BooleanClause</code>.</p>\n<p>So, you can do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BooleanQuery.Builder bqBuilder = new BooleanQuery.Builder();\n\nQuery query1 = new TermQuery(new Term(&quot;titulo&quot;, &quot;cobra kai&quot;));\nQuery query2 = new TermQuery(new Term(&quot;titulo&quot;, &quot;cobra&quot;));\nQuery query3 = new TermQuery(new Term(&quot;titulo&quot;, &quot;kai&quot;));\n\nBooleanClause nested1 = new BooleanClause(query1, BooleanClause.Occur.SHOULD);\nBooleanClause nested2 = new BooleanClause(query2, BooleanClause.Occur.SHOULD);\nBooleanClause nested3 = new BooleanClause(query3, BooleanClause.Occur.SHOULD);\n\nbqBuilder.add(nested1);\nbqBuilder.add(nested2);\nbqBuilder.add(nested3);\n\nBooleanQuery bq = bqBuilder.build();\n</code></pre>\n<p>That builds a boolean query containing 3 clauses:</p>\n<p><em>Find titles containing &quot;cobra kai&quot; OR &quot;cobra&quot; OR &quot;kai&quot;.</em></p>\n<p>I am not sure what this is for:</p>\n<pre><code>bqbuilder.add(nested, BooleanClause.Occur.MUST);\n</code></pre>\n<p>The <code>BooleanClause.Occur.MUST</code> does not appear to be needed, so I have dropped it from my code.</p>\n<hr />\n<p>You can simplify the above code by using a loop.</p>\n<p>Assuming you already have a list containing your search terms (your <code>busqueda_separada</code> list):</p>\n<pre><code>List&lt;String&gt; terms = Arrays.asList(&quot;cobra kai&quot;, &quot;cobra&quot;, &quot;kai&quot;);\n</code></pre>\n<p>You can use that list as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (String term : terms) {\n    Query query = new TermQuery(new Term(&quot;titulo&quot;, term));\n    BooleanClause nested = new BooleanClause(query, BooleanClause.Occur.SHOULD);\n    bqBuilder.add(nested);\n}\nBooleanQuery bq2 = bqBuilder.build();\n</code></pre>\n<hr />\n<p><strong>Update</strong></p>\n<p>One point I forgot to mention:</p>\n<p>In your data, you have a search phrase: <code>cobra kai</code>. It's possible that you do not need to search for this, depending on how your data was indexed, and how you expect your search to work.</p>\n<p>But assuming you <em>do</em> need it, you need to wrap the phrase in double-quotes, so that it is treated as a single search phrase by Lucene:</p>\n<pre><code>List&lt;String&gt; terms = Arrays.asList(&quot;\\&quot;cobra kai\\&quot;&quot;, &quot;cobra&quot;, &quot;kai&quot;);\n</code></pre>\n<p>This ensures the generated search is:</p>\n<pre><code>titulo:&quot;cobra kai&quot; titulo:cobra titulo:kai\n</code></pre>\n<p>And, by default, there is an implied &quot;OR&quot; in between each clause in the search.</p>\n<hr />\n<p>Your &quot;extra&quot; question:</p>\n<blockquote>\n<p>query should be like <code>(titulo=“cobra kai” OR titulo=“cobra” OR titulo=“kai”) AND anio=“2018”</code></p>\n</blockquote>\n<p>This is really a completely new question and you can see approaches in existing answers such as:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/3130908/12567365\">How to create nested boolean query with lucene API (a AND (b OR c))?</a></li>\n<li><a href=\"https://stackoverflow.com/q/37904977/12567365\">Lucene 6.0! How to instantiate a BooleanQuery and add other search queries in it?</a></li>\n<li>and probably several more...</li>\n</ul>\n<p>But one more approach (if I have understood correctly) is to nest 2 queries inside another boolean query and use <code>Occur.MUST</code> in that outer query for each clause.</p>\n<p>So, you already have your first boolean query.</p>\n<p>Now create another one. Actually if you only have one term, you don't even need a boolean query - just a term query:</p>\n<pre><code>Query query2 = new TermQuery(new Term(&quot;year&quot;, &quot;2018&quot;));\n</code></pre>\n<p>Now place these two queries into a brand new boolean query (this new query <em>contains</em> the first two queries):</p>\n<pre><code>BooleanQuery.Builder bqBuilder = new BooleanQuery.Builder();\nbqBuilder.add(bq1, BooleanClause.Occur.MUST);\nbqBuilder.add(query2, BooleanClause.Occur.MUST);\nBooleanQuery bq = bqBuilder.build();\n</code></pre>\n<p>The above is equivalent to the following Lucene classic query:</p>\n<pre><code>+(body:&quot;cobra kai&quot; body:cobra body:kai) +year:2018\n</code></pre>\n<p>And that, in turn, is equivalent to:</p>\n<pre><code>(body:&quot;cobra kai&quot; OR body:cobra OR body:kai) AND year:2018\n</code></pre>\n<p>Note that this uses the <a href=\"https://lucene.apache.org/core/9_4_2/queryparser/org/apache/lucene/queryparser/classic/package-summary.html#Boolean_operators\" rel=\"nofollow noreferrer\">plus operator</a>.</p>\n<p>So the results MUST contain matches for both clauses - the clause for my <code>body</code> field and the clause for my <code>year</code> field.</p>\n<hr />\n<p>This can all get quite confusing if you think about Lucene boolean operators in the same way that you think about Boolean algebra. But they are not the same and serve different purposes. Lucene is not (only) about including and excluding records, but about <em>scoring</em> those records for relevance.</p>\n"}],"owner":{"account_id":25543056,"reputation":13,"user_id":19371023,"display_name":"leyva_7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669491956,"creation_date":1669462506,"question_id":74581796,"body_markdown":"I am trying to design an information retrieval system of a film database. I want to search by title so when i search &quot;Cobra Kai&quot; my analyzer descompose this string into &quot;cobra kai&quot;, &quot;cobra&quot; and &quot;kai&quot; to do a better pairing. So my problem is that I have to do a query like this: &quot;cobra kai&quot; OR &quot;cobra&quot; OR &quot;kai&quot; but it&#39;s not working for me. Here is the code:\r\n\r\n\r\n```\r\nArrayList&lt;String&gt; busqueda_separada = muestraTexto(analyzer_titulo(), busquedaTitulo.getText());\r\n                        \r\n                        query1 = new TermQuery(new Term(&quot;titulo&quot; ,busqueda_separada.get(0)));\r\n                        query2 = new TermQuery(new Term(&quot;titulo&quot; ,busqueda_separada.get(1)));\r\n                        query3 = new TermQuery(new Term(&quot;titulo&quot; ,busqueda_separada.get(2)));\r\n\r\n                        nested.add(query1, BooleanClause.Occur.SHOULD);\r\n                        nested.add(query2, BooleanClause.Occur.SHOULD);\r\n                        nested.add(query3, BooleanClause.Occur.SHOULD);\r\n\r\n                        bqbuilder.add(nested, BooleanClause.Occur.MUST);\r\n```\r\n\r\n\r\nAnd this is my error: [![Error](https://i.stack.imgur.com/kG9UO.png)](https://i.stack.imgur.com/kG9UO.png)\r\n\r\nI have tried to do differents boolean clauses but it keeps the same.","title":"&quot;OR&quot; query in lucene","body":"<p>I am trying to design an information retrieval system of a film database. I want to search by title so when i search &quot;Cobra Kai&quot; my analyzer descompose this string into &quot;cobra kai&quot;, &quot;cobra&quot; and &quot;kai&quot; to do a better pairing. So my problem is that I have to do a query like this: &quot;cobra kai&quot; OR &quot;cobra&quot; OR &quot;kai&quot; but it's not working for me. Here is the code:</p>\n<pre><code>ArrayList&lt;String&gt; busqueda_separada = muestraTexto(analyzer_titulo(), busquedaTitulo.getText());\n                        \n                        query1 = new TermQuery(new Term(&quot;titulo&quot; ,busqueda_separada.get(0)));\n                        query2 = new TermQuery(new Term(&quot;titulo&quot; ,busqueda_separada.get(1)));\n                        query3 = new TermQuery(new Term(&quot;titulo&quot; ,busqueda_separada.get(2)));\n\n                        nested.add(query1, BooleanClause.Occur.SHOULD);\n                        nested.add(query2, BooleanClause.Occur.SHOULD);\n                        nested.add(query3, BooleanClause.Occur.SHOULD);\n\n                        bqbuilder.add(nested, BooleanClause.Occur.MUST);\n</code></pre>\n<p>And this is my error: <a href=\"https://i.stack.imgur.com/kG9UO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kG9UO.png\" alt=\"Error\" /></a></p>\n<p>I have tried to do differents boolean clauses but it keeps the same.</p>\n"},{"tags":["java","apache-flink","amazon-kinesis"],"answers":[{"comments":[{"owner":{"account_id":179202,"reputation":7876,"user_id":411709,"accept_rate":75,"display_name":"Abidi"},"score":0,"creation_date":1669496105,"post_id":74585125,"comment_id":131655082,"body_markdown":"Andeson, thank you, it worked! can I ask another question: when I map source msg into an Order object, I would like to pass it to other mapper functions depending on the status of it, so all seven mappers act like a state machine (FSM). For example, I&#39;ve 6 more functions like StatefulOrderMapper class and I would Flink to treat them as 7 states/nodes of FSM. The only way I could think of was, put all 7 in a consecutive chain and have logic inside each node to decide if it should process it or not. Doesn&#39;t look elegant though.","body":"Andeson, thank you, it worked! can I ask another question: when I map source msg into an Order object, I would like to pass it to other mapper functions depending on the status of it, so all seven mappers act like a state machine (FSM). For example, I&#39;ve 6 more functions like StatefulOrderMapper class and I would Flink to treat them as 7 states/nodes of FSM. The only way I could think of was, put all 7 in a consecutive chain and have logic inside each node to decide if it should process it or not. Doesn&#39;t look elegant though."},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":1,"creation_date":1669528961,"post_id":74585125,"comment_id":131658929,"body_markdown":"Flink has a CEP library for pattern matching with FSMs. See https://docs.immerok.cloud/docs/how-to-guides/development/pattern-matching-with-cep/ for an introduction. It can also be used from Flink SQL: https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/dev/table/sql/queries/match_recognize/","body":"Flink has a CEP library for pattern matching with FSMs. See <a href=\"https://docs.immerok.cloud/docs/how-to-guides/development/pattern-matching-with-cep/\" rel=\"nofollow noreferrer\">docs.immerok.cloud/docs/how-to-guides/development/&hellip;</a> for an introduction. It can also be used from Flink SQL: <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/dev/table/sql/queries/match_recognize/\" rel=\"nofollow noreferrer\">nightlies.apache.org/flink/flink-docs-release-1.16/docs/dev/&zwnj;&#8203;&hellip;</a>"}],"tags":[],"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669491942,"creation_date":1669491942,"answer_id":74585125,"question_id":74585035,"body_markdown":"One big difference between map and flatmap or process is that a map emits the return value of the MapFunction, whereas a FlatMap or a ProcessFunction uses a Collector to emit events.\r\n\r\nFor a working example you can use as a starting point, I suggest taking a look at https://docs.immerok.cloud/docs/how-to-guides/development/batch-and-streaming-with-the-apache-flink-table-and-datastream-apis/#the-datastream-workflow. You&#39;ll find the code in https://github.com/immerok/recipes/tree/main/latest-transaction.\r\n\r\nNote: I work for Immerok.","title":"Apache Flink sink doesn&#39;t get invoked when using ProcessFunction or RichFlatMapFunction","body":"<p>One big difference between map and flatmap or process is that a map emits the return value of the MapFunction, whereas a FlatMap or a ProcessFunction uses a Collector to emit events.</p>\n<p>For a working example you can use as a starting point, I suggest taking a look at <a href=\"https://docs.immerok.cloud/docs/how-to-guides/development/batch-and-streaming-with-the-apache-flink-table-and-datastream-apis/#the-datastream-workflow\" rel=\"nofollow noreferrer\">https://docs.immerok.cloud/docs/how-to-guides/development/batch-and-streaming-with-the-apache-flink-table-and-datastream-apis/#the-datastream-workflow</a>. You'll find the code in <a href=\"https://github.com/immerok/recipes/tree/main/latest-transaction\" rel=\"nofollow noreferrer\">https://github.com/immerok/recipes/tree/main/latest-transaction</a>.</p>\n<p>Note: I work for Immerok.</p>\n"}],"owner":{"account_id":179202,"reputation":7876,"user_id":411709,"accept_rate":75,"display_name":"Abidi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74585125,"answer_count":1,"score":1,"last_activity_date":1669491942,"creation_date":1669490961,"question_id":74585035,"body_markdown":"My Flink application reads data from one kafka source, maps it into an object and writes to another kafka topic. All works fine if I use `MapFunction` to transform but as soon as I use an implementation that `extends ProcessFunction or RichFlatMapFunction` classes, sink doesn&#39;t get called (write to kafka topic code doesn&#39;t get executed) at all. The reason I&#39;m using `ProcessFunction` or `RichFlatMapFunction` is because I need RuntimeConext() to read and write ValueState. How should I achieve calling of sink in this case?\r\n\r\n&gt; env.addSource(new FlinkKafkaConsumer&lt;&gt;(&quot;READ_FROM_TOPIC&quot;, new\r\n&gt; Deserializer(), pros)).keyBy(Order::getId)\r\n&gt;         .process(new StatefulOrderMapper()).addSink(new FlinkKafkaProducer&lt;&gt;(&quot;WRITE_TO_TOPIC&quot;, new Serializer(), props)); // StatefulOrderMapper extends ProcessFunction\r\n&gt; \r\n&gt; env.addSource(new FlinkKafkaConsumer&lt;&gt;(&quot;READ_FROM_TOPIC&quot;, new\r\n&gt; Deserializer(), pros)).keyBy(Order::getId)\r\n&gt;         .map(new DoSomeMapping()).addSink(new FlinkKafkaProducer&lt;&gt;(&quot;WRITE_TO_TOPIC&quot;, new OrderSerializer(), props)); //DoSomeMapping extends MapFunction\r\n\r\n","title":"Apache Flink sink doesn&#39;t get invoked when using ProcessFunction or RichFlatMapFunction","body":"<p>My Flink application reads data from one kafka source, maps it into an object and writes to another kafka topic. All works fine if I use <code>MapFunction</code> to transform but as soon as I use an implementation that <code>extends ProcessFunction or RichFlatMapFunction</code> classes, sink doesn't get called (write to kafka topic code doesn't get executed) at all. The reason I'm using <code>ProcessFunction</code> or <code>RichFlatMapFunction</code> is because I need RuntimeConext() to read and write ValueState. How should I achieve calling of sink in this case?</p>\n<blockquote>\n<p>env.addSource(new FlinkKafkaConsumer&lt;&gt;(&quot;READ_FROM_TOPIC&quot;, new\nDeserializer(), pros)).keyBy(Order::getId)\n.process(new StatefulOrderMapper()).addSink(new FlinkKafkaProducer&lt;&gt;(&quot;WRITE_TO_TOPIC&quot;, new Serializer(), props)); // StatefulOrderMapper extends ProcessFunction</p>\n<p>env.addSource(new FlinkKafkaConsumer&lt;&gt;(&quot;READ_FROM_TOPIC&quot;, new\nDeserializer(), pros)).keyBy(Order::getId)\n.map(new DoSomeMapping()).addSink(new FlinkKafkaProducer&lt;&gt;(&quot;WRITE_TO_TOPIC&quot;, new OrderSerializer(), props)); //DoSomeMapping extends MapFunction</p>\n</blockquote>\n"},{"tags":["java","spring-boot","csv","unit-testing","junit"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669490509,"post_id":74584959,"comment_id":131654061,"body_markdown":"An abstract class on its own is neither instantiable nor testworthy. We normally have implementations of that abstract class. We can test them (and thus also test the implementation of the abstract class).","body":"An abstract class on its own is neither instantiable nor testworthy. We normally have implementations of that abstract class. We can test them (and thus also test the implementation of the abstract class)."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669490715,"post_id":74584959,"comment_id":131654091,"body_markdown":"No, `getData()`, `getFileName()` and `getColumns()` methods have their implementation in another services and I wrote Unit Tests for those services. But `readFromCsv()` method is not abstract and I think I need to write Unit Test for that method. So, how can I write test for this method?","body":"No, <code>getData()</code>, <code>getFileName()</code> and <code>getColumns()</code> methods have their implementation in another services and I wrote Unit Tests for those services. But <code>readFromCsv()</code> method is not abstract and I think I need to write Unit Test for that method. So, how can I write test for this method?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669490848,"post_id":74584959,"comment_id":131654111,"body_markdown":"@Turing85 In here, I used Template Method Design pattern and there is no implementation for `readFromCsv()` and the implementation is already in this class. I agree with you and I do not write Unit Test for the abstract methods (I already wrote for its implementations). So, I think I should write Unit Test for this method, right?","body":"@Turing85 In here, I used Template Method Design pattern and there is no implementation for <code>readFromCsv()</code> and the implementation is already in this class. I agree with you and I do not write Unit Test for the abstract methods (I already wrote for its implementations). So, I think I should write Unit Test for this method, right?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669490907,"post_id":74584959,"comment_id":131654120,"body_markdown":"Looking at the implementation, it is hard-wired to read content from a file. There are ways to mock - for example - a constructor call and return a mock for `new ClassPathResource(&quot;data/&quot; + getFileName())`, but I would not recommend doing this. Instead, I would recommend creating different files for different test cases, thus testing with different (known) file contents.","body":"Looking at the implementation, it is hard-wired to read content from a file. There are ways to mock - for example - a constructor call and return a mock for <code>new ClassPathResource(&quot;data&#47;&quot; + getFileName())</code>, but I would not recommend doing this. Instead, I would recommend creating different files for different test cases, thus testing with different (known) file contents."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669491167,"post_id":74584959,"comment_id":131654156,"body_markdown":"Thanks for help, but I could not understand what you mean. Could you add an example as an answer for the most proper way for this scenario?","body":"Thanks for help, but I could not understand what you mean. Could you add an example as an answer for the most proper way for this scenario?"}],"answers":[{"tags":[],"owner":{"account_id":445785,"reputation":10573,"user_id":838434,"accept_rate":88,"display_name":"MaDa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669491443,"creation_date":1669490876,"answer_id":74585022,"question_id":74584959,"body_markdown":"Either (1) create a `Spy` instead of the `AirportService` and mock the `getFileName()` method:\r\n```\r\nservice = Mockito.spy(new AirportService());\r\n```\r\nand then mock the desired method:\r\n```\r\nMockito.doReturn((/* your value */)).when(service).getFileName();\r\n```\r\nor (2) create yet another class, this time extending the `AirportService`; there you can implement the `getFileName` so it returns your mock file name.","title":"JUnit : Unit Test for abstract class in a Spring Boot app?","body":"<p>Either (1) create a <code>Spy</code> instead of the <code>AirportService</code> and mock the <code>getFileName()</code> method:</p>\n<pre><code>service = Mockito.spy(new AirportService());\n</code></pre>\n<p>and then mock the desired method:</p>\n<pre><code>Mockito.doReturn((/* your value */)).when(service).getFileName();\n</code></pre>\n<p>or (2) create yet another class, this time extending the <code>AirportService</code>; there you can implement the <code>getFileName</code> so it returns your mock file name.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74585022,"answer_count":1,"score":1,"last_activity_date":1669491443,"creation_date":1669490301,"question_id":74584959,"body_markdown":"In my Java (Spring Boot) app, I am trying to test the following method using JUnit5 and Mockito:\r\n\r\n```\r\npublic abstract class CsvService&lt;T extends CsvBean&gt; {\r\n\r\n    public List&lt;T&gt; readFromCsv(Class&lt;T&gt; type, CsvToBeanFilter filter) {\r\n        List&lt;T&gt; data = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n            Resource resource = new ClassPathResource(&quot;data/&quot; + getFileName());\r\n            Reader reader = new FileReader(resource.getFile());\r\n\r\n            ColumnPositionMappingStrategy&lt;T&gt; strategy = \r\n                new ColumnPositionMappingStrategy&lt;&gt;();\r\n            strategy.setType(type);\r\n            strategy.setColumnMapping(getColumns());\r\n            \r\n            CsvToBean&lt;T&gt; csvToBean = new CsvToBeanBuilder&lt;T&gt;(reader)                    \r\n                    .withFilter(filter)\r\n                    .build();\r\n\r\n            data = getData(csvToBean);\r\n            reader.close();\r\n\r\n        } catch (IOException ex) {\r\n            log.error(FILE_READ_ERROR, ex);\r\n            ex.printStackTrace();\r\n        }\r\n        return data;\r\n    }\r\n\r\n    protected abstract String getFileName();\r\n\r\n    protected abstract String[] getColumns();\r\n\r\n    protected abstract List&lt;T&gt; getData(CsvToBean&lt;T&gt; csvToBean);\r\n}\r\n```\r\n\r\nI already wrote Unit Test for the method implementations of the abstract methods (`getData()`, etc.), but I also want to write Unit Test for this `readFromCsv()` method.\r\n\r\n\r\n```\r\n@Service\r\npublic class AirportService extends CsvService&lt;Airport&gt; {\r\n\r\n    // code omitted\r\n\r\n    @Override\r\n    protected List&lt;Airport&gt; getData(CsvToBean&lt;Airport&gt; csvToBean) {\r\n        List&lt;Airport&gt; airports = new ArrayList&lt;&gt;();\r\n\r\n        for (Airport bean : csvToBean) {\r\n            Airport airport = new Airport(\r\n                    bean.getId()\r\n            );\r\n            airports.add(airport);\r\n        }\r\n        return airports;\r\n    }\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\nHere is my Unit Test:\r\n\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass CsvServiceTest {\r\n\r\n    private CsvService service;\r\n\r\n    @Mock\r\n    private AirportService airportService;\r\n\r\n    @Mock\r\n    private CsvToBean&lt;Airport&gt; csvToBean;\r\n\r\n    @Mock\r\n    private CsvToBeanFilter filter;\r\n\r\n    @BeforeEach\r\n    void setup() {\r\n        service = new AirportService();\r\n    }\r\n\r\n\r\n    @Test\r\n    void test() {\r\n        csvToBean.setFilter(filter);\r\n\r\n        Airport airport = new Airport(101, &quot;DK&quot;);\r\n        when(filter.allowLine((String[]) any())).thenReturn(true);\r\n        when(csvToBean.iterator())\r\n            .thenReturn(new ArrayIterator&lt;&gt;(new Airport[]{airport}));\r\n\r\n        List&lt;Airport&gt; result = service.readFromCsv(Airport.class, filter);\r\n        \r\n        // assertions\r\n    }\r\n}\r\n```\r\n\r\nBut the test is always read the CSV file as it retrieved via `getFileName()` method (the file in the project). But I want to mock it and read the provided airport data via stub. So, how can I make this unit test properly testing this CSV reader method?\r\n\r\n\r\n\r\n\r\n","title":"JUnit : Unit Test for abstract class in a Spring Boot app?","body":"<p>In my Java (Spring Boot) app, I am trying to test the following method using JUnit5 and Mockito:</p>\n<pre><code>public abstract class CsvService&lt;T extends CsvBean&gt; {\n\n    public List&lt;T&gt; readFromCsv(Class&lt;T&gt; type, CsvToBeanFilter filter) {\n        List&lt;T&gt; data = new ArrayList&lt;&gt;();\n\n        try {\n            Resource resource = new ClassPathResource(&quot;data/&quot; + getFileName());\n            Reader reader = new FileReader(resource.getFile());\n\n            ColumnPositionMappingStrategy&lt;T&gt; strategy = \n                new ColumnPositionMappingStrategy&lt;&gt;();\n            strategy.setType(type);\n            strategy.setColumnMapping(getColumns());\n            \n            CsvToBean&lt;T&gt; csvToBean = new CsvToBeanBuilder&lt;T&gt;(reader)                    \n                    .withFilter(filter)\n                    .build();\n\n            data = getData(csvToBean);\n            reader.close();\n\n        } catch (IOException ex) {\n            log.error(FILE_READ_ERROR, ex);\n            ex.printStackTrace();\n        }\n        return data;\n    }\n\n    protected abstract String getFileName();\n\n    protected abstract String[] getColumns();\n\n    protected abstract List&lt;T&gt; getData(CsvToBean&lt;T&gt; csvToBean);\n}\n</code></pre>\n<p>I already wrote Unit Test for the method implementations of the abstract methods (<code>getData()</code>, etc.), but I also want to write Unit Test for this <code>readFromCsv()</code> method.</p>\n<pre><code>@Service\npublic class AirportService extends CsvService&lt;Airport&gt; {\n\n    // code omitted\n\n    @Override\n    protected List&lt;Airport&gt; getData(CsvToBean&lt;Airport&gt; csvToBean) {\n        List&lt;Airport&gt; airports = new ArrayList&lt;&gt;();\n\n        for (Airport bean : csvToBean) {\n            Airport airport = new Airport(\n                    bean.getId()\n            );\n            airports.add(airport);\n        }\n        return airports;\n    }\n}\n</code></pre>\n<br/>\n<p>Here is my Unit Test:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass CsvServiceTest {\n\n    private CsvService service;\n\n    @Mock\n    private AirportService airportService;\n\n    @Mock\n    private CsvToBean&lt;Airport&gt; csvToBean;\n\n    @Mock\n    private CsvToBeanFilter filter;\n\n    @BeforeEach\n    void setup() {\n        service = new AirportService();\n    }\n\n\n    @Test\n    void test() {\n        csvToBean.setFilter(filter);\n\n        Airport airport = new Airport(101, &quot;DK&quot;);\n        when(filter.allowLine((String[]) any())).thenReturn(true);\n        when(csvToBean.iterator())\n            .thenReturn(new ArrayIterator&lt;&gt;(new Airport[]{airport}));\n\n        List&lt;Airport&gt; result = service.readFromCsv(Airport.class, filter);\n        \n        // assertions\n    }\n}\n</code></pre>\n<p>But the test is always read the CSV file as it retrieved via <code>getFileName()</code> method (the file in the project). But I want to mock it and read the provided airport data via stub. So, how can I make this unit test properly testing this CSV reader method?</p>\n"},{"tags":["java","arrays","for-loop","math","methods"],"answers":[{"comments":[{"owner":{"account_id":26559292,"reputation":141,"user_id":20187389,"display_name":"MazaPan616"},"score":0,"creation_date":1669335974,"post_id":74559218,"comment_id":131625427,"body_markdown":"Thank you for your response. Do you know how to overwrite part of the empty array?","body":"Thank you for your response. Do you know how to overwrite part of the empty array?"},{"owner":{"account_id":22828513,"reputation":344,"user_id":16977407,"display_name":"Gandhi"},"score":1,"creation_date":1669490804,"post_id":74559218,"comment_id":131654104,"body_markdown":"I added an example in my answer. I hope it helps you.","body":"I added an example in my answer. I hope it helps you."}],"tags":[],"owner":{"account_id":22828513,"reputation":344,"user_id":16977407,"display_name":"Gandhi"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669490729,"creation_date":1669285690,"answer_id":74559218,"question_id":74555570,"body_markdown":"You can fill the &quot;empty&quot; part of your array with `0`s and then at the `printGrid()` part check if there is a `0` in the grid `if(grid[row][col] == 0)` and if there is one `break`.\r\n\r\nFor the part where you want to fill in the new row just do the same. Check until you reach a row which has `0`s in it and overwrite it.\r\n\r\nAn example for that could look like this:\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int[][] myIntArray = {{1, 2, 3}, {4, 5, 6}, {0, 0, 0}};\r\n        Random random = new Random();\r\n        int[] newRandomArray = random.ints(myIntArray[0].length, 0,4).toArray();\r\n        System.out.println(&quot;Random:&quot;);\r\n        System.out.println(Arrays.toString(newRandomArray));\r\n        System.out.println(&quot;Before:&quot;);\r\n        System.out.println(Arrays.deepToString(myIntArray));\r\n        for (int i = 0; i &lt; myIntArray.length; i++) {\r\n            if (myIntArray[i][0] == 0) {\r\n                myIntArray[i] = newRandomArray;\r\n            }\r\n        }\r\n        System.out.println(&quot;After:&quot;);\r\n        System.out.println(Arrays.deepToString(myIntArray));\r\n    }\r\n}\r\n```\r\nOutput:\r\n```\r\nRandom:\r\n[2, 3, 0]\r\nBefore:\r\n[[1, 2, 3], [4, 5, 6], [0, 0, 0]]\r\nAfter:\r\n[[1, 2, 3], [4, 5, 6], [2, 3, 0]]\r\n```","title":"How to fill an array with a new row in Java?","body":"<p>You can fill the &quot;empty&quot; part of your array with <code>0</code>s and then at the <code>printGrid()</code> part check if there is a <code>0</code> in the grid <code>if(grid[row][col] == 0)</code> and if there is one <code>break</code>.</p>\n<p>For the part where you want to fill in the new row just do the same. Check until you reach a row which has <code>0</code>s in it and overwrite it.</p>\n<p>An example for that could look like this:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Random;\n\npublic class Main {\n    public static void main(String[] args) {\n        int[][] myIntArray = {{1, 2, 3}, {4, 5, 6}, {0, 0, 0}};\n        Random random = new Random();\n        int[] newRandomArray = random.ints(myIntArray[0].length, 0,4).toArray();\n        System.out.println(&quot;Random:&quot;);\n        System.out.println(Arrays.toString(newRandomArray));\n        System.out.println(&quot;Before:&quot;);\n        System.out.println(Arrays.deepToString(myIntArray));\n        for (int i = 0; i &lt; myIntArray.length; i++) {\n            if (myIntArray[i][0] == 0) {\n                myIntArray[i] = newRandomArray;\n            }\n        }\n        System.out.println(&quot;After:&quot;);\n        System.out.println(Arrays.deepToString(myIntArray));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Random:\n[2, 3, 0]\nBefore:\n[[1, 2, 3], [4, 5, 6], [0, 0, 0]]\nAfter:\n[[1, 2, 3], [4, 5, 6], [2, 3, 0]]\n</code></pre>\n"}],"owner":{"account_id":26559292,"reputation":141,"user_id":20187389,"display_name":"MazaPan616"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74559218,"answer_count":1,"score":0,"last_activity_date":1669490729,"creation_date":1669263427,"question_id":74555570,"body_markdown":"\r\nSo what I have so far is a randomized board containing numbers 1, 2 and 3. The board is 6 * 10. (So 6 Columns and 10 rows). The plan is when the user gives an input, a new row of randomized numbers should be added to the board. The thing is that the 2D array will be 6 * 10 but only half of the board is going to be filled with randomized numbers and the other half will be empty. But if the user gives an input, the 2D array will be filled with one row, replacing an empty row with a new row. \r\n\r\nSo this is the original board:\r\n\r\n```\r\n3 1 1 2 2 2 \r\n3 3 3 3 2 3 \r\n1 1 1 3 3 2 \r\n2 3 2 3 1 2 \r\n3 3 1 2 2 2 \r\n\r\nWhat column do you want to shoot at?\r\n```\r\n\r\nand after the user gives the input (when the user shoots) the board should look like this, with a new row of randomized numbers as I mentioned before. \r\n\r\n```\r\n3 1 1 2 2 2 \r\n3 3 3 3 2 3 \r\n1 1 1 3 3 2 \r\n2 3 2 3 1 2 \r\n3 3 1 2 2 2 \r\n2 3 3 1 1 1\r\n\r\nWhat column do you want to shoot at?\r\n```\r\n\r\nthat is how it should go until the board reaches 10 rows. \r\n\r\nMy two main problems are how to make an array that is half empty and half full and then how to fill the empty half with new rows. Here&#39;s the code I have so far:\r\n\r\n```\r\n\r\nimport java.util.Scanner;\r\npublic class Project {\r\n    public static void main( String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int [][] grid = createBoard(6, /*Number of colums*/ 5, /*Number of rows*/ 3 /*Bubble types in the board (1, 2 or 3)*/);\r\n        printGrid( grid );\r\n        System.out.println(&quot;What column do you want to shoot at?&quot;);\r\n        shoot();\r\n    }\r\n    \r\n      public static int[][] createBoard(int cols, int rows, int numBubbleTypes) {\r\n        int[][] board = new int[rows][cols]; \r\n        for( int row = 0; row &lt; rows;  row++ ) {\r\n            for( int col = 0; col &lt; cols; col++ ) {\r\n                board[row][col] = (int)(Math.random() * (double)numBubbleTypes) + 1;\r\n            }\r\n        }\r\n        return board;\r\n    }\r\n    \r\n    public static void printGrid(int[][] grid) {\r\n        for( int row = 0; row &lt; grid.length; row++ ) {\r\n            for( int col = 0; col &lt; grid[row].length; col++ ) {\r\n                System.out.print( grid[row][col] + &quot; &quot; ); \r\n            }\r\n            System.out.println(&quot;&quot;);\r\n        }\r\n    }\r\n    \r\n  \r\n    \r\n    public static void fillBoard(int[] grid) {\r\n        \r\n    }\r\n    \r\n    public static void shoot() {\r\n        Scanner scanShoot = new Scanner(System.in);\r\n        String input = scanShoot.nextLine();\r\n    }\r\n    \r\n    private static void clearConsole() {\r\n        System.out.print(&#39;\\u000C&#39;); //Clear terminal\r\n    }\r\n    \r\n}\r\n```\r\n","title":"How to fill an array with a new row in Java?","body":"<p>So what I have so far is a randomized board containing numbers 1, 2 and 3. The board is 6 * 10. (So 6 Columns and 10 rows). The plan is when the user gives an input, a new row of randomized numbers should be added to the board. The thing is that the 2D array will be 6 * 10 but only half of the board is going to be filled with randomized numbers and the other half will be empty. But if the user gives an input, the 2D array will be filled with one row, replacing an empty row with a new row.</p>\n<p>So this is the original board:</p>\n<pre><code>3 1 1 2 2 2 \n3 3 3 3 2 3 \n1 1 1 3 3 2 \n2 3 2 3 1 2 \n3 3 1 2 2 2 \n\nWhat column do you want to shoot at?\n</code></pre>\n<p>and after the user gives the input (when the user shoots) the board should look like this, with a new row of randomized numbers as I mentioned before.</p>\n<pre><code>3 1 1 2 2 2 \n3 3 3 3 2 3 \n1 1 1 3 3 2 \n2 3 2 3 1 2 \n3 3 1 2 2 2 \n2 3 3 1 1 1\n\nWhat column do you want to shoot at?\n</code></pre>\n<p>that is how it should go until the board reaches 10 rows.</p>\n<p>My two main problems are how to make an array that is half empty and half full and then how to fill the empty half with new rows. Here's the code I have so far:</p>\n<pre><code>\nimport java.util.Scanner;\npublic class Project {\n    public static void main( String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int [][] grid = createBoard(6, /*Number of colums*/ 5, /*Number of rows*/ 3 /*Bubble types in the board (1, 2 or 3)*/);\n        printGrid( grid );\n        System.out.println(&quot;What column do you want to shoot at?&quot;);\n        shoot();\n    }\n    \n      public static int[][] createBoard(int cols, int rows, int numBubbleTypes) {\n        int[][] board = new int[rows][cols]; \n        for( int row = 0; row &lt; rows;  row++ ) {\n            for( int col = 0; col &lt; cols; col++ ) {\n                board[row][col] = (int)(Math.random() * (double)numBubbleTypes) + 1;\n            }\n        }\n        return board;\n    }\n    \n    public static void printGrid(int[][] grid) {\n        for( int row = 0; row &lt; grid.length; row++ ) {\n            for( int col = 0; col &lt; grid[row].length; col++ ) {\n                System.out.print( grid[row][col] + &quot; &quot; ); \n            }\n            System.out.println(&quot;&quot;);\n        }\n    }\n    \n  \n    \n    public static void fillBoard(int[] grid) {\n        \n    }\n    \n    public static void shoot() {\n        Scanner scanShoot = new Scanner(System.in);\n        String input = scanShoot.nextLine();\n    }\n    \n    private static void clearConsole() {\n        System.out.print('\\u000C'); //Clear terminal\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","lambda","java-stream"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":3,"creation_date":1669488280,"post_id":74584721,"comment_id":131653636,"body_markdown":"What is `streamer`? Is it `data.stream()`?","body":"What is <code>streamer</code>? Is it <code>data.stream()</code>?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1669488468,"post_id":74584721,"comment_id":131653672,"body_markdown":"You don&#39;t need to make a new interface, you can use one of the existing ones.  Look at the definition of `Stream.filter`.","body":"You don&#39;t need to make a new interface, you can use one of the existing ones.  Look at the definition of <code>Stream.filter</code>."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1669500468,"post_id":74584721,"comment_id":131655849,"body_markdown":"[Functional interfaces](https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html) (and how to use them in situations like this) may be difficult to grasp. I found [this answer](https://stackoverflow.com/a/28422318/12567365) helpful because of its &quot;_structure not semantics_&quot; insight.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html\" rel=\"nofollow noreferrer\">Functional interfaces</a> (and how to use them in situations like this) may be difficult to grasp. I found <a href=\"https://stackoverflow.com/a/28422318/12567365\">this answer</a> helpful because of its &quot;<i>structure not semantics</i>&quot; insight."}],"answers":[{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1669490587,"creation_date":1669490587,"answer_id":74584991,"question_id":74584721,"body_markdown":"your method should accept a [Predicate][1]. all lambda that take one arg and return boolean implement that interface. invoking the Predicate is done by executing its `test()` method.\r\n\r\nexample:\r\n\r\n\tpublic &lt;T&gt; long count(Collection&lt;T&gt; collection, Predicate&lt;T&gt; filter) {\r\n\t\treturn collection.stream()\r\n\t\t\t\t.filter(filter)\r\n\t\t\t\t.count();\r\n\t}\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html","title":"Using a predefined lambda as an argument in Java","body":"<p>your method should accept a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html\" rel=\"noreferrer\">Predicate</a>. all lambda that take one arg and return boolean implement that interface. invoking the Predicate is done by executing its <code>test()</code> method.</p>\n<p>example:</p>\n<pre><code>public &lt;T&gt; long count(Collection&lt;T&gt; collection, Predicate&lt;T&gt; filter) {\n    return collection.stream()\n            .filter(filter)\n            .count();\n}\n</code></pre>\n"}],"owner":{"account_id":17748524,"reputation":35,"user_id":12887286,"display_name":"Kole Davis"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1669535975,"accepted_answer_id":74584991,"answer_count":1,"score":-2,"last_activity_date":1669490587,"creation_date":1669487870,"question_id":74584721,"body_markdown":"So i&#39;m trying to pass this test:\r\n```\r\npublic void testCountWithCondition() {\r\n\t\tList&lt;Integer&gt; data = Arrays.asList(1, 3, 8, 4, 6);\r\n\t\tint count = streamer.count(data, x -&gt; x % 3 == 0);\r\n\t\tassertEquals(2, count);\r\n\t}\r\n```\r\n\r\nI&#39;m having a really hard time understanding how to create a method `count` that can take the lambda expression as an argument. I&#39;ve seen other posts that say you need to create an interface class but how do I program it to be able to accept any lambda expression? Also, the assignment specifically says I need to use streams. Thanks!","title":"Using a predefined lambda as an argument in Java","body":"<p>So i'm trying to pass this test:</p>\n<pre><code>public void testCountWithCondition() {\n        List&lt;Integer&gt; data = Arrays.asList(1, 3, 8, 4, 6);\n        int count = streamer.count(data, x -&gt; x % 3 == 0);\n        assertEquals(2, count);\n    }\n</code></pre>\n<p>I'm having a really hard time understanding how to create a method <code>count</code> that can take the lambda expression as an argument. I've seen other posts that say you need to create an interface class but how do I program it to be able to accept any lambda expression? Also, the assignment specifically says I need to use streams. Thanks!</p>\n"},{"tags":["java","json","gson","pojo","android-room"],"comments":[{"owner":{"account_id":3474542,"reputation":253,"user_id":2908119,"accept_rate":86,"display_name":"Tineler"},"score":0,"creation_date":1550829368,"post_id":48379962,"comment_id":96423626,"body_markdown":"Did you find a solution for this? I&#39;m encountering the same problem right now","body":"Did you find a solution for this? I&#39;m encountering the same problem right now"}],"answers":[{"comments":[{"owner":{"account_id":1526352,"reputation":1722,"user_id":1424695,"display_name":"theAnonymous"},"score":0,"creation_date":1669778409,"post_id":74584966,"comment_id":131718385,"body_markdown":"this is a not generic solution...","body":"this is a not generic solution..."},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1669843571,"post_id":74584966,"comment_id":131738223,"body_markdown":"@theAnonymous The question never asked for a &quot;generic solution&quot;, whatever that actually means. It&#39;s a solution, and the only one as far as I know.","body":"@theAnonymous The question never asked for a &quot;generic solution&quot;, whatever that actually means. It&#39;s a solution, and the only one as far as I know."},{"owner":{"account_id":1526352,"reputation":1722,"user_id":1424695,"display_name":"theAnonymous"},"score":0,"creation_date":1669937951,"post_id":74584966,"comment_id":131762958,"body_markdown":"please go and read the question. here&#39;re some highlights: &quot;... any way other than using JsonAdapter ?&quot; &quot;... use Gson and it&#39;s better to use annotation to tell Gson &quot;don&#39;t deserialize this embeddede object to a jsonObject, insert its field in its parent json fields&quot;&quot;","body":"please go and read the question. here&#39;re some highlights: &quot;... any way other than using JsonAdapter ?&quot; &quot;... use Gson and it&#39;s better to use annotation to tell Gson &quot;don&#39;t deserialize this embeddede object to a jsonObject, insert its field in its parent json fields&quot;&quot;"},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1669976355,"post_id":74584966,"comment_id":131770179,"body_markdown":"If you know of another, better way to do it then feel free to post your answer here.","body":"If you know of another, better way to do it then feel free to post your answer here."}],"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669490394,"creation_date":1669490394,"answer_id":74584966,"question_id":48379962,"body_markdown":"You can use a custom TypeAdaptor:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    final MyObject myObject = new MyObject(&quot;Fardwark&quot;, 123, 9999L);\r\n    final String json = gson.toJson(myObject);\r\n    System.out.println(json);\r\n\r\n    final MyObject myObject2 = gson.fromJson(json, MyObject.class);\r\n    final String json2 = gson.toJson(myObject2);\r\n    System.out.println(json2);\r\n}\r\n\r\nprivate static final Gson gson = new GsonBuilder()\r\n        .registerTypeAdapter(MyObject.class, new MyTypeAdapter())\r\n        .create();\r\n\r\nprivate static final class MyTypeAdapter extends TypeAdapter&lt;MyObject&gt; {\r\n\r\n    @Override\r\n    public void write(JsonWriter jsonWriter, MyObject myObject) throws IOException {\r\n        jsonWriter.beginObject()\r\n                .name(&quot;ownerName&quot;).value(myObject.generalInfo.ownerName)\r\n                .name(&quot;wellId&quot;).value(myObject.generalInfo.wellId)\r\n                .name(&quot;objectId&quot;).value(myObject.objectId)\r\n                .endObject();\r\n    }\r\n\r\n    @Override\r\n    public MyObject read(JsonReader jsonReader) throws IOException {\r\n        String ownerName = null;\r\n        int wellId = 0;\r\n        long objectId = 0;\r\n\r\n        jsonReader.beginObject();;\r\n\r\n        for (int i = 0; i &lt; 3; ++i) {\r\n            switch (jsonReader.nextName()) {\r\n                case &quot;ownerName&quot;:\r\n                    ownerName = jsonReader.nextString();\r\n                    break;\r\n                case &quot;wellId&quot;:\r\n                    wellId = jsonReader.nextInt();\r\n                    break;\r\n                case &quot;objectId&quot;:\r\n                    objectId = jsonReader.nextLong();\r\n                    break;\r\n            }\r\n        }\r\n\r\n        jsonReader.endObject();\r\n\r\n        return new MyObject(ownerName, wellId, objectId);\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```json\r\n{&quot;ownerName&quot;:&quot;Fardwark&quot;,&quot;wellId&quot;:123,&quot;objectId&quot;:9999}\r\n{&quot;ownerName&quot;:&quot;Fardwark&quot;,&quot;wellId&quot;:123,&quot;objectId&quot;:9999}\r\n```\r\n","title":"Use @Embedded from Room persistence Library beside Gson deserializer","body":"<p>You can use a custom TypeAdaptor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    final MyObject myObject = new MyObject(&quot;Fardwark&quot;, 123, 9999L);\n    final String json = gson.toJson(myObject);\n    System.out.println(json);\n\n    final MyObject myObject2 = gson.fromJson(json, MyObject.class);\n    final String json2 = gson.toJson(myObject2);\n    System.out.println(json2);\n}\n\nprivate static final Gson gson = new GsonBuilder()\n        .registerTypeAdapter(MyObject.class, new MyTypeAdapter())\n        .create();\n\nprivate static final class MyTypeAdapter extends TypeAdapter&lt;MyObject&gt; {\n\n    @Override\n    public void write(JsonWriter jsonWriter, MyObject myObject) throws IOException {\n        jsonWriter.beginObject()\n                .name(&quot;ownerName&quot;).value(myObject.generalInfo.ownerName)\n                .name(&quot;wellId&quot;).value(myObject.generalInfo.wellId)\n                .name(&quot;objectId&quot;).value(myObject.objectId)\n                .endObject();\n    }\n\n    @Override\n    public MyObject read(JsonReader jsonReader) throws IOException {\n        String ownerName = null;\n        int wellId = 0;\n        long objectId = 0;\n\n        jsonReader.beginObject();;\n\n        for (int i = 0; i &lt; 3; ++i) {\n            switch (jsonReader.nextName()) {\n                case &quot;ownerName&quot;:\n                    ownerName = jsonReader.nextString();\n                    break;\n                case &quot;wellId&quot;:\n                    wellId = jsonReader.nextInt();\n                    break;\n                case &quot;objectId&quot;:\n                    objectId = jsonReader.nextLong();\n                    break;\n            }\n        }\n\n        jsonReader.endObject();\n\n        return new MyObject(ownerName, wellId, objectId);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;ownerName&quot;:&quot;Fardwark&quot;,&quot;wellId&quot;:123,&quot;objectId&quot;:9999}\n{&quot;ownerName&quot;:&quot;Fardwark&quot;,&quot;wellId&quot;:123,&quot;objectId&quot;:9999}\n</code></pre>\n"}],"owner":{"account_id":8144431,"reputation":2924,"user_id":6133481,"accept_rate":64,"display_name":"Mneckoee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1669490394,"creation_date":1516618597,"question_id":48379962,"body_markdown":"I use Google Room Persistence Library for saving data in database. in Room there is an annotation (@Embedded) :  \r\n\r\n&gt; you can use the @Embedded annotation to represent an object that you&#39;d like to decompose into its subfields within a table. You can then query the embedded fields just as you would for other individual columns  \r\n\r\n    @Entity\r\n    public class MyObject {\r\n\r\n    // nested class\r\n    public class GeneralInfo {\r\n\r\n        public String ownerName;\r\n\r\n        @PrimaryKey\r\n        public long wellId;\r\n    }\r\n\r\n    @Embedded\r\n    public GeneralInfo generalInfo;\r\n\r\n    public long objectId;\r\n\r\n    // other fields\r\n    }\r\n\r\nI use Gson to deserialize json string from REST API, I want Gson to deserialize `GeneralInfo` fields into `MyObject` fields directly. How can I do this?  \r\n\r\nI want Gson to deserialize `MyObject`s like this:\r\n\r\n    {\r\n        objectId : 1\r\n        wellId : 1\r\n        ownerName : &quot;Me&quot;\r\n    }\r\n\r\n**NOT** this  \r\n\r\n    {\r\n        generalInfo : {        \r\n            wellId : 1\r\n            ownerName : &quot;Me&quot;        \r\n        } \r\n        objectId : 1\r\n    }\r\n\r\nIs there any way other than using `JsonAdapter` ? I can write my own `convertToJson` and `convertFromJson` but I want to use Gson and it&#39;s better to use annotation to tell Gson &quot;don&#39;t deserialize this embeddede object to a jsonObject, insert its field in its parent json fields&quot;","title":"Use @Embedded from Room persistence Library beside Gson deserializer","body":"<p>I use Google Room Persistence Library for saving data in database. in Room there is an annotation (@Embedded) :  </p>\n\n<blockquote>\n  <p>you can use the @Embedded annotation to represent an object that you'd like to decompose into its subfields within a table. You can then query the embedded fields just as you would for other individual columns  </p>\n</blockquote>\n\n<pre><code>@Entity\npublic class MyObject {\n\n// nested class\npublic class GeneralInfo {\n\n    public String ownerName;\n\n    @PrimaryKey\n    public long wellId;\n}\n\n@Embedded\npublic GeneralInfo generalInfo;\n\npublic long objectId;\n\n// other fields\n}\n</code></pre>\n\n<p>I use Gson to deserialize json string from REST API, I want Gson to deserialize <code>GeneralInfo</code> fields into <code>MyObject</code> fields directly. How can I do this?  </p>\n\n<p>I want Gson to deserialize <code>MyObject</code>s like this:</p>\n\n<pre><code>{\n    objectId : 1\n    wellId : 1\n    ownerName : \"Me\"\n}\n</code></pre>\n\n<p><strong>NOT</strong> this  </p>\n\n<pre><code>{\n    generalInfo : {        \n        wellId : 1\n        ownerName : \"Me\"        \n    } \n    objectId : 1\n}\n</code></pre>\n\n<p>Is there any way other than using <code>JsonAdapter</code> ? I can write my own <code>convertToJson</code> and <code>convertFromJson</code> but I want to use Gson and it's better to use annotation to tell Gson \"don't deserialize this embeddede object to a jsonObject, insert its field in its parent json fields\"</p>\n"},{"tags":["java","spring-boot","spring-security","spring-security-rest"],"answers":[{"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1669488521,"post_id":74584549,"comment_id":131653691,"body_markdown":"I see no need (-&gt;other beans) to `@Bean/@Component` (spring-manage) the entry point, but we can easily replace `private static AuthenticationEntryPoint` with `@Bean public AuthenticationEntryPoint` ;)","body":"I see no need (-&gt;other beans) to <code>@Bean&#47;@Component</code> (spring-manage) the entry point, but we can easily replace <code>private static AuthenticationEntryPoint</code> with <code>@Bean public AuthenticationEntryPoint</code> ;)"}],"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669489428,"creation_date":1669486245,"answer_id":74584549,"question_id":74584207,"body_markdown":"Pragmatically we can print/write to `response[.getWriter()]` within our entry point, like:\r\n```\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\n//...\r\nprivate static AuthenticationEntryPoint authenticationEntryPoint() {\r\n  return (request, response, authException) -&gt; {\r\n    response.addHeader( // identic/similar to &quot;basic&quot; entry point\r\n        &quot;WWW-Authenticate&quot;, &quot;Basic realm=\\&quot;Realm\\&quot;&quot;\r\n    );\r\n    // subtle difference to &quot;basic&quot; entry point :\r\n    // better/looks like:\r\n    response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n    // response.addHeader...\r\n    response.setStatus(HttpStatus.UNAUTHORIZED.value() /*, no message!(?) */);\r\n    // &quot;print&quot; custom to &quot;response&quot; (with String#format, jackson, gson... (templating fw...)):\r\n    response.getWriter().format(&quot;&quot;&quot;\r\n      {\r\n        &quot;errors&quot;:[\r\n          {\r\n            &quot;status&quot;: %d,\r\n            &quot;title&quot;: &quot;%s&quot;,\r\n            &quot;detail&quot;: &quot;%s&quot;\r\n          }\r\n        ]\r\n      }\r\n      &quot;&quot;&quot;,\r\n      HttpStatus.UNAUTHORIZED.value(),\r\n      HttpStatus.UNAUTHORIZED.name(),\r\n      authException.getMessage() // or whatever message/params/format we see fit\r\n    );\r\n  };\r\n}\r\n```\r\n[`BasicAuthenticationEntryPoint@github`](https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/authentication/www/BasicAuthenticationEntryPoint.java)\r\n\r\nThen we can pass a test like:\r\n```\r\npackage com.example.security.custom.entrypoint;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\n\r\n@WebMvcTest\r\nclass SecurityCustomEntrypointApplicationTests {\r\n\r\n  @Autowired\r\n  private MockMvc mvc;\r\n\r\n  @Test\r\n  void testUnauthorized() throws Exception {\r\n    mvc\r\n        .perform(post(&quot;/somewhere&quot;)) // no (basic) credentials(!), assuming no 404 :)\r\n        .andDo(print())\r\n        .andExpectAll(\r\n            status().isUnauthorized(),\r\n            header().exists(&quot;WWW-Authenticate&quot;),\r\n            jsonPath(&quot;$.errors[0].detail&quot;).exists(),\r\n            jsonPath(&quot;$.errors[0].title&quot;).value(&quot;UNAUTHORIZED&quot;),\r\n            jsonPath(&quot;$.errors[0].status&quot;).value(401) // , ...\r\n        );\r\n  }\r\n}\r\n\r\n```\r\n\r\nTo make it work for basic authetication *and* &quot;wrong credentials&quot; see also:\r\nhttps://stackoverflow.com/a/74547059/592355 .\r\n\r\nDup/Related:\r\n\r\n- https://stackoverflow.com/q/74545265/592355\r\n- https://stackoverflow.com/q/19767267/592355\r\n","title":"Spring security exception handling custom response","body":"<p>Pragmatically we can print/write to <code>response[.getWriter()]</code> within our entry point, like:</p>\n<pre><code>import org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\n//...\nprivate static AuthenticationEntryPoint authenticationEntryPoint() {\n  return (request, response, authException) -&gt; {\n    response.addHeader( // identic/similar to &quot;basic&quot; entry point\n        &quot;WWW-Authenticate&quot;, &quot;Basic realm=\\&quot;Realm\\&quot;&quot;\n    );\n    // subtle difference to &quot;basic&quot; entry point :\n    // better/looks like:\n    response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n    // response.addHeader...\n    response.setStatus(HttpStatus.UNAUTHORIZED.value() /*, no message!(?) */);\n    // &quot;print&quot; custom to &quot;response&quot; (with String#format, jackson, gson... (templating fw...)):\n    response.getWriter().format(&quot;&quot;&quot;\n      {\n        &quot;errors&quot;:[\n          {\n            &quot;status&quot;: %d,\n            &quot;title&quot;: &quot;%s&quot;,\n            &quot;detail&quot;: &quot;%s&quot;\n          }\n        ]\n      }\n      &quot;&quot;&quot;,\n      HttpStatus.UNAUTHORIZED.value(),\n      HttpStatus.UNAUTHORIZED.name(),\n      authException.getMessage() // or whatever message/params/format we see fit\n    );\n  };\n}\n</code></pre>\n<p><a href=\"https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/authentication/www/BasicAuthenticationEntryPoint.java\" rel=\"nofollow noreferrer\"><code>BasicAuthenticationEntryPoint@github</code></a></p>\n<p>Then we can pass a test like:</p>\n<pre><code>package com.example.security.custom.entrypoint;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.test.web.servlet.MockMvc;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\n\n@WebMvcTest\nclass SecurityCustomEntrypointApplicationTests {\n\n  @Autowired\n  private MockMvc mvc;\n\n  @Test\n  void testUnauthorized() throws Exception {\n    mvc\n        .perform(post(&quot;/somewhere&quot;)) // no (basic) credentials(!), assuming no 404 :)\n        .andDo(print())\n        .andExpectAll(\n            status().isUnauthorized(),\n            header().exists(&quot;WWW-Authenticate&quot;),\n            jsonPath(&quot;$.errors[0].detail&quot;).exists(),\n            jsonPath(&quot;$.errors[0].title&quot;).value(&quot;UNAUTHORIZED&quot;),\n            jsonPath(&quot;$.errors[0].status&quot;).value(401) // , ...\n        );\n  }\n}\n\n</code></pre>\n<p>To make it work for basic authetication <em>and</em> &quot;wrong credentials&quot; see also:\n<a href=\"https://stackoverflow.com/a/74547059/592355\">https://stackoverflow.com/a/74547059/592355</a> .</p>\n<p>Dup/Related:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/74545265/592355\">How to set a response body before sending it to client</a></li>\n<li><a href=\"https://stackoverflow.com/q/19767267/592355\">Handle spring security authentication exceptions with @ExceptionHandler</a></li>\n</ul>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74584549,"answer_count":1,"score":1,"last_activity_date":1669489428,"creation_date":1669483109,"question_id":74584207,"body_markdown":"How is it possible to return a json instead a html?\r\n\r\nI got:\r\n```\r\n&lt;!doctype html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n\r\n&lt;head&gt;\r\n\t&lt;title&gt;HTTP Status 401 – Unauthorized&lt;/title&gt;\r\n\t&lt;style type=&quot;text/css&quot;&gt;\r\n\t\tbody {\r\n\t\t\tfont-family: Tahoma, Arial, sans-serif;\r\n\t\t}\r\n\r\n\t\th1,\r\n\t\th2,\r\n\t\th3,\r\n\t\tb {\r\n\t\t\tcolor: white;\r\n\t\t\tbackground-color: #525D76;\r\n\t\t}\r\n\r\n\t\th1 {\r\n\t\t\tfont-size: 22px;\r\n\t\t}\r\n\r\n\t\th2 {\r\n\t\t\tfont-size: 16px;\r\n\t\t}\r\n\r\n\t\th3 {\r\n\t\t\tfont-size: 14px;\r\n\t\t}\r\n\r\n\t\tp {\r\n\t\t\tfont-size: 12px;\r\n\t\t}\r\n\r\n\t\ta {\r\n\t\t\tcolor: black;\r\n\t\t}\r\n\r\n\t\t.line {\r\n\t\t\theight: 1px;\r\n\t\t\tbackground-color: #525D76;\r\n\t\t\tborder: none;\r\n\t\t}\r\n\t&lt;/style&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\t&lt;h1&gt;HTTP Status 401 – Unauthorized&lt;/h1&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\ni need something like this:\r\n```\r\n{\r\n    &quot;errors&quot;: [\r\n        {\r\n            &quot;status&quot;: &quot;401&quot;,\r\n            &quot;title&quot;: &quot;UNAUTHORIZED&quot;,\r\n            &quot;detail&quot;: &quot;xyz ...&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nMy Adapter:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter\r\n{\r\n   @Override\r\n   protected void configure(HttpSecurity httpSecurity) throws Exception\r\n   {\r\n      // @formatter:off\r\n      httpSecurity\r\n               .csrf()\r\n               .disable()\r\n               .authorizeRequests()\r\n               .antMatchers(HttpMethod.GET).permitAll()\r\n               .anyRequest()\r\n               .authenticated()\r\n               .and()\r\n               .httpBasic()\r\n               .and()\r\n               .exceptionHandling()\r\n               .authenticationEntryPoint(new CustomAuthenticationEntryPoint());\r\n      // @formatter:on\r\n   }\r\n}\r\n```\r\nThe `CustomAuthenticationEntryPoint`\r\n```\r\n@Component\r\nclass CustomAuthenticationEntryPoint implements AuthenticationEntryPoint\r\n{\r\n   @Override\r\n   public void commence(HttpServletRequest request, HttpServletResponse response,\r\n                        AuthenticationException authException) throws IOException\r\n   {\r\n      Collection&lt;String&gt; authorities = response.getHeaders(&quot;Authorization&quot;);\r\n      response.addHeader(&quot;access_denied_reason&quot;, &quot;authentication_required&quot;);\r\n      response.sendError(HttpStatus.UNAUTHORIZED.value(), &quot;Unauthorized&quot;);\r\n   }\r\n}\r\n```","title":"Spring security exception handling custom response","body":"<p>How is it possible to return a json instead a html?</p>\n<p>I got:</p>\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n\n&lt;head&gt;\n    &lt;title&gt;HTTP Status 401 – Unauthorized&lt;/title&gt;\n    &lt;style type=&quot;text/css&quot;&gt;\n        body {\n            font-family: Tahoma, Arial, sans-serif;\n        }\n\n        h1,\n        h2,\n        h3,\n        b {\n            color: white;\n            background-color: #525D76;\n        }\n\n        h1 {\n            font-size: 22px;\n        }\n\n        h2 {\n            font-size: 16px;\n        }\n\n        h3 {\n            font-size: 14px;\n        }\n\n        p {\n            font-size: 12px;\n        }\n\n        a {\n            color: black;\n        }\n\n        .line {\n            height: 1px;\n            background-color: #525D76;\n            border: none;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;h1&gt;HTTP Status 401 – Unauthorized&lt;/h1&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>i need something like this:</p>\n<pre><code>{\n    &quot;errors&quot;: [\n        {\n            &quot;status&quot;: &quot;401&quot;,\n            &quot;title&quot;: &quot;UNAUTHORIZED&quot;,\n            &quot;detail&quot;: &quot;xyz ...&quot;\n        }\n    ]\n}\n</code></pre>\n<p>My Adapter:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter\n{\n   @Override\n   protected void configure(HttpSecurity httpSecurity) throws Exception\n   {\n      // @formatter:off\n      httpSecurity\n               .csrf()\n               .disable()\n               .authorizeRequests()\n               .antMatchers(HttpMethod.GET).permitAll()\n               .anyRequest()\n               .authenticated()\n               .and()\n               .httpBasic()\n               .and()\n               .exceptionHandling()\n               .authenticationEntryPoint(new CustomAuthenticationEntryPoint());\n      // @formatter:on\n   }\n}\n</code></pre>\n<p>The <code>CustomAuthenticationEntryPoint</code></p>\n<pre><code>@Component\nclass CustomAuthenticationEntryPoint implements AuthenticationEntryPoint\n{\n   @Override\n   public void commence(HttpServletRequest request, HttpServletResponse response,\n                        AuthenticationException authException) throws IOException\n   {\n      Collection&lt;String&gt; authorities = response.getHeaders(&quot;Authorization&quot;);\n      response.addHeader(&quot;access_denied_reason&quot;, &quot;authentication_required&quot;);\n      response.sendError(HttpStatus.UNAUTHORIZED.value(), &quot;Unauthorized&quot;);\n   }\n}\n</code></pre>\n"},{"tags":["java","nullpointerexception","struts","struts-1"],"comments":[{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":0,"creation_date":1364985818,"post_id":15785138,"comment_id":22441977,"body_markdown":"Please post *full* stack trace (with cause). It should help to identify the problem","body":"Please post <i>full</i> stack trace (with cause). It should help to identify the problem"},{"owner":{"account_id":2491540,"reputation":13743,"user_id":2168879,"accept_rate":40,"display_name":"NilsH"},"score":0,"creation_date":1364987358,"post_id":15785138,"comment_id":22442847,"body_markdown":"What&#39;s on line 21 of uploadAction? And not to be picky (ok, maybe I am...), you&#39;re not following standard Java naming conventions. Class names should start with an uppercase letter.","body":"What&#39;s on line 21 of uploadAction? And not to be picky (ok, maybe I am...), you&#39;re not following standard Java naming conventions. Class names should start with an uppercase letter."},{"owner":{"account_id":1506923,"reputation":61,"user_id":1410094,"accept_rate":0,"display_name":"toutou"},"score":0,"creation_date":1364987831,"post_id":15785138,"comment_id":22443102,"body_markdown":"line 21 of uploadAction : String fileName= fichier.getFileName();","body":"line 21 of uploadAction : String fileName= fichier.getFileName();"}],"answers":[{"tags":[],"owner":{"account_id":1004335,"reputation":3147,"user_id":1018473,"accept_rate":100,"display_name":"Erik Kaju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364987595,"creation_date":1364987595,"answer_id":15785766,"question_id":15785138,"body_markdown":"You have several problems here:\r\n\r\n1) You need to have a html form binded to your FormFile object (Property) Just like that:\r\n\r\n `&lt;html:file property=&quot;fichier&quot;/&gt;`\r\n\r\n2) Your setter has incorrect name - it won&#39;t be able to set the value in your form object. It must be `setFichier(FormFile fichier)`\r\n\r\n3) `property=&quot;submit&quot;` not needed in `&lt;html:submit /&gt;`\r\n\r\nStart resolving the bug with these things.","title":"java.lang.NullPointerException in uployding File Struts","body":"<p>You have several problems here:</p>\n\n<p>1) You need to have a html form binded to your FormFile object (Property) Just like that:</p>\n\n<p><code>&lt;html:file property=\"fichier\"/&gt;</code></p>\n\n<p>2) Your setter has incorrect name - it won't be able to set the value in your form object. It must be <code>setFichier(FormFile fichier)</code></p>\n\n<p>3) <code>property=\"submit\"</code> not needed in <code>&lt;html:submit /&gt;</code></p>\n\n<p>Start resolving the bug with these things.</p>\n"},{"tags":[],"owner":{"account_id":81348,"reputation":1032,"user_id":229461,"accept_rate":93,"display_name":"DDK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364988010,"creation_date":1364988010,"answer_id":15785918,"question_id":15785138,"body_markdown":"The value of action attribute in `html:form` tag should be equal to what you have used in `action-mapping` tag in `struts-config.xml`. Use either `/upload` or `/fiche` in the action attribute.\r\n\r\nYou can just use `&lt;html:submit value=&quot;Submit&quot;/&gt;`. Since the UploadForm doesnt have the property &quot;submit&quot; you will get error if you include property attribute in `html:submit` tag.\r\n\r\nChange the access modifier of `FormFile fichier;` to `public` so that the Action class gets the reference of the form object. and change the method `setFile` to `setFichier`\r\n\r\nThe value of `resultat` is null. Assign a forward name such as `succes`.\r\n\r\nThe name and input  attribute values of the action tag should also be changed from `FicheRenseignementForm` to `UploadForm`\r\n","title":"java.lang.NullPointerException in uployding File Struts","body":"<p>The value of action attribute in <code>html:form</code> tag should be equal to what you have used in <code>action-mapping</code> tag in <code>struts-config.xml</code>. Use either <code>/upload</code> or <code>/fiche</code> in the action attribute.</p>\n\n<p>You can just use <code>&lt;html:submit value=\"Submit\"/&gt;</code>. Since the UploadForm doesnt have the property \"submit\" you will get error if you include property attribute in <code>html:submit</code> tag.</p>\n\n<p>Change the access modifier of <code>FormFile fichier;</code> to <code>public</code> so that the Action class gets the reference of the form object. and change the method <code>setFile</code> to <code>setFichier</code></p>\n\n<p>The value of <code>resultat</code> is null. Assign a forward name such as <code>succes</code>.</p>\n\n<p>The name and input  attribute values of the action tag should also be changed from <code>FicheRenseignementForm</code> to <code>UploadForm</code></p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364988282,"creation_date":1364988282,"answer_id":15786019,"question_id":15785138,"body_markdown":"Rename `setFile` method to setter `setFichier`. Struts unable to set this field upon submit caused you by NPE.","title":"java.lang.NullPointerException in uployding File Struts","body":"<p>Rename <code>setFile</code> method to setter <code>setFichier</code>. Struts unable to set this field upon submit caused you by NPE.</p>\n"}],"owner":{"account_id":1506923,"reputation":61,"user_id":1410094,"accept_rate":0,"display_name":"toutou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2976,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1669488728,"creation_date":1364985648,"question_id":15785138,"body_markdown":" I&#180;m working with Struts 1.3.10 in Eclipse, I&#39;m developing a web app, I&#39;m using JSP, well, I&#39;m implementing a JSP where I upload a file, but is giving me problems. I have the next code and configurations.\r\n\r\n    &lt;body&gt;\r\n        &lt;html:form action=&quot;upload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt; \r\n            &lt;input type=&quot;file&quot; name=&quot;fichier&quot; /&gt; \r\n          &lt;tr&gt;\r\n              &lt;td&gt;&lt;html:submit property=&quot;submit&quot; value=&quot;Submit&quot;/&gt;&lt;/td&gt;\r\n              &lt;td align=&quot;left&quot;&gt;&lt;html:reset/&gt;&lt;/td&gt;\r\n          &lt;/tr&gt;\r\n        &lt;/html:form&gt;\r\n    &lt;/body&gt;\r\n\r\nIn the Form bean I have \r\n\r\n    public class uploadForm extends ActionForm  {\r\n\tprotected FormFile fichier;\r\n\tpublic FormFile getFichier() \r\n\t   {   \r\n\t      return fichier;\r\n\t   }\r\n\r\n\t   public void setFile(FormFile fichier) \r\n\t   {\r\n\t      this.fichier = fichier;}}\r\n\r\nIn the Action I have\r\n\r\n    public class uploadAction extends Action  {\r\n\tpublic ActionForward execute(ActionMapping mapping, ActionForm form, \r\n            HttpServletRequest req, \r\n            HttpServletResponse res) throws Exception {\r\n           \r\n            String resultat = null;\r\n            FormFile fichier = ((uploadForm) form).getFichier();\r\n            String fileName = fichier.getFileName();\r\n            System.out.println(fileName);\r\n            return mapping.findForward(resultat);\r\n        }\r\n    }\r\n\r\nIn the struts-config I have \r\n\r\n    &lt;form-beans type=&quot;org.apache.struts.action.ActionFormBean&quot;&gt;\r\n\t  &lt;form-bean name=&quot;uploadForm&quot; type=&quot;struts.ActionForm.uploadForm&quot; /&gt;\r\n\t&lt;/form-beans&gt;&lt;action-mappings type=&quot;org.apache.struts.action.ActionMapping&quot;&gt;\r\n\t\r\n\t\t&lt;action path=&quot;/fiche&quot; input=&quot;/FormulaireFiche.jsp&quot; scope=&quot;request&quot;\r\n\t\tname=&quot;FicheRenseignementForm&quot; type=&quot;struts.action.FicheRenseignementAction&quot;&gt;\r\n\t\t  &lt;forward name=&quot;succes&quot; path=&quot;/personnel_succes.jsp&quot; redirect=&quot;false&quot; /&gt;\r\n\t\t  &lt;forward name=&quot;echec&quot; path=&quot;/FormulaireFiche.jsp&quot; redirect=&quot;false&quot; /&gt;\r\n\t\t&lt;/action&gt;&lt;/action-mappings&gt;\r\nAnd when I run the aplication, and I select the file, the server send me the exception \r\n\r\n    javax.servlet.ServletException: java.lang.NullPointerException\r\n\torg.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:286)\r\n\torg.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\r\n\torg.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:637)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\ncause m&#232;re \r\n\r\n    java.lang.NullPointerException\r\n\tstruts.action.uploadAction.execute(uploadAction.java:21)\r\n\torg.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)\r\n\torg.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)\r\n\torg.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)\r\n\torg.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)\r\n\torg.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)\r\n\torg.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)\r\n\torg.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)\r\n\torg.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\r\n\torg.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:637)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\r\n\r\n\r\n    ","title":"java.lang.NullPointerException in uployding File Struts","body":"<p>I´m working with Struts 1.3.10 in Eclipse, I'm developing a web app, I'm using JSP, well, I'm implementing a JSP where I upload a file, but is giving me problems. I have the next code and configurations.</p>\n<pre><code>&lt;body&gt;\n    &lt;html:form action=&quot;upload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt; \n        &lt;input type=&quot;file&quot; name=&quot;fichier&quot; /&gt; \n      &lt;tr&gt;\n          &lt;td&gt;&lt;html:submit property=&quot;submit&quot; value=&quot;Submit&quot;/&gt;&lt;/td&gt;\n          &lt;td align=&quot;left&quot;&gt;&lt;html:reset/&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/html:form&gt;\n&lt;/body&gt;\n</code></pre>\n<p>In the Form bean I have</p>\n<pre><code>public class uploadForm extends ActionForm  {\nprotected FormFile fichier;\npublic FormFile getFichier() \n   {   \n      return fichier;\n   }\n\n   public void setFile(FormFile fichier) \n   {\n      this.fichier = fichier;}}\n</code></pre>\n<p>In the Action I have</p>\n<pre><code>public class uploadAction extends Action  {\npublic ActionForward execute(ActionMapping mapping, ActionForm form, \n        HttpServletRequest req, \n        HttpServletResponse res) throws Exception {\n       \n        String resultat = null;\n        FormFile fichier = ((uploadForm) form).getFichier();\n        String fileName = fichier.getFileName();\n        System.out.println(fileName);\n        return mapping.findForward(resultat);\n    }\n}\n</code></pre>\n<p>In the struts-config I have</p>\n<pre><code>&lt;form-beans type=&quot;org.apache.struts.action.ActionFormBean&quot;&gt;\n  &lt;form-bean name=&quot;uploadForm&quot; type=&quot;struts.ActionForm.uploadForm&quot; /&gt;\n&lt;/form-beans&gt;&lt;action-mappings type=&quot;org.apache.struts.action.ActionMapping&quot;&gt;\n\n    &lt;action path=&quot;/fiche&quot; input=&quot;/FormulaireFiche.jsp&quot; scope=&quot;request&quot;\n    name=&quot;FicheRenseignementForm&quot; type=&quot;struts.action.FicheRenseignementAction&quot;&gt;\n      &lt;forward name=&quot;succes&quot; path=&quot;/personnel_succes.jsp&quot; redirect=&quot;false&quot; /&gt;\n      &lt;forward name=&quot;echec&quot; path=&quot;/FormulaireFiche.jsp&quot; redirect=&quot;false&quot; /&gt;\n    &lt;/action&gt;&lt;/action-mappings&gt;\n</code></pre>\n<p>And when I run the aplication, and I select the file, the server send me the exception</p>\n<pre><code>javax.servlet.ServletException: java.lang.NullPointerException\norg.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:286)\norg.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\norg.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:637)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n</code></pre>\n<p>cause mère</p>\n<pre><code>java.lang.NullPointerException\nstruts.action.uploadAction.execute(uploadAction.java:21)\norg.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)\norg.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)\norg.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)\norg.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)\norg.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)\norg.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)\norg.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)\norg.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\norg.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:637)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n</code></pre>\n"},{"tags":["java","javafx","jpackage"],"answers":[{"tags":[],"owner":{"account_id":20529459,"reputation":51,"user_id":15067110,"display_name":"Peter Jerkewitz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669488409,"creation_date":1669488409,"answer_id":74584772,"question_id":74414545,"body_markdown":"Unfortunately, I needed to replace my boot drive, which involved reinstalling Windows and WIX Toolkit and Java plus all the other stuff. The error no longer occurs. I have no idea what fixed it, the new SSD is built the same as the old with the same versions of all software. There is not a software migration history on the new SSD as there was on the old HD. I&#39;m using the same procedures as before.\r\nI hate when we fix things and not know why, but such is life.\r\n ","title":"JPackage getting ERROR: Unknown exception caught trying to find MSI installer","body":"<p>Unfortunately, I needed to replace my boot drive, which involved reinstalling Windows and WIX Toolkit and Java plus all the other stuff. The error no longer occurs. I have no idea what fixed it, the new SSD is built the same as the old with the same versions of all software. There is not a software migration history on the new SSD as there was on the old HD. I'm using the same procedures as before.\nI hate when we fix things and not know why, but such is life.</p>\n"}],"owner":{"account_id":20529459,"reputation":51,"user_id":15067110,"display_name":"Peter Jerkewitz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669488409,"creation_date":1668269672,"question_id":74414545,"body_markdown":"I&#39;m getting the following error in JPackage using JDK-19 and JavaFX-19. Same configuration used to work using JDK-18 and JavaFX-16. It builds the install image, but is missing the msi installer.\r\n```\r\nRequired environment variables: \r\n PATH_TO_FX      = C:\\Java\\javafx-19\\sdk\\lib\r\n PATH_TO_FX_MODS = C:\\Java\\javafx-19\\jmods\r\n JPackage Version 19\r\n```\r\n```\r\n[2022/11/12 10:46:54.801, jpackage.dll (PID: 5696, TID: 11192), jpackage.cpp:155 (Java_jdk_jpackage_internal_WinExeBundler_embedMSI)]\r\n        ERROR: Unknown exception caught\r\n[10:45:03.636] Running candle.exe\r\n[10:45:03.647] Running C:\\Program Files (x86)\\WiX Toolset v3.11\\bin\\candle.exe\r\n[10:45:03.784] Running light.exe\r\n[10:45:03.788] Running C:\\Program Files (x86)\\WiX Toolset v3.11\\bin\\light.exe\r\n[10:45:03.989] Detected [candle.exe] version [3.11.2.4516].\r\n[10:45:03.989] Detected [light.exe] version [3.11.2.4516].\r\n[10:45:03.990] WiX 3.11.2.4516 detected. Enabling advanced cleanup action.     \r\n```\r\nAny guidance or where I might get help is much appreciated.\r\nThank you\r\n\r\n     ","title":"JPackage getting ERROR: Unknown exception caught trying to find MSI installer","body":"<p>I'm getting the following error in JPackage using JDK-19 and JavaFX-19. Same configuration used to work using JDK-18 and JavaFX-16. It builds the install image, but is missing the msi installer.</p>\n<pre><code>Required environment variables: \n PATH_TO_FX      = C:\\Java\\javafx-19\\sdk\\lib\n PATH_TO_FX_MODS = C:\\Java\\javafx-19\\jmods\n JPackage Version 19\n</code></pre>\n<pre><code>[2022/11/12 10:46:54.801, jpackage.dll (PID: 5696, TID: 11192), jpackage.cpp:155 (Java_jdk_jpackage_internal_WinExeBundler_embedMSI)]\n        ERROR: Unknown exception caught\n[10:45:03.636] Running candle.exe\n[10:45:03.647] Running C:\\Program Files (x86)\\WiX Toolset v3.11\\bin\\candle.exe\n[10:45:03.784] Running light.exe\n[10:45:03.788] Running C:\\Program Files (x86)\\WiX Toolset v3.11\\bin\\light.exe\n[10:45:03.989] Detected [candle.exe] version [3.11.2.4516].\n[10:45:03.989] Detected [light.exe] version [3.11.2.4516].\n[10:45:03.990] WiX 3.11.2.4516 detected. Enabling advanced cleanup action.     \n</code></pre>\n<p>Any guidance or where I might get help is much appreciated.\nThank you</p>\n"},{"tags":["java","arrays","autofill"],"comments":[{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1613850082,"post_id":66293761,"comment_id":117205583,"body_markdown":"Welcome to Stack Overflow. Please read [how to ask](https://stackoverflow.com/help/how-to-ask) a question on this site. While you definitely can ask a question, this site is not a service to solve your home-works or tasks, when you don&#39;t invest in it, yourself. On this kind of questions, people will ask you: what have you tried? where did you struggle at? what did you research? what attempts did you give it to find something on the internet? have you read at least one little article on this? in the future, try things yourself, and then, if you can&#39;t - we&#39;ll be glad to help you.","body":"Welcome to Stack Overflow. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a> a question on this site. While you definitely can ask a question, this site is not a service to solve your home-works or tasks, when you don&#39;t invest in it, yourself. On this kind of questions, people will ask you: what have you tried? where did you struggle at? what did you research? what attempts did you give it to find something on the internet? have you read at least one little article on this? in the future, try things yourself, and then, if you can&#39;t - we&#39;ll be glad to help you."}],"answers":[{"comments":[{"owner":{"account_id":20131928,"reputation":41,"user_id":15249553,"display_name":"Рик Plays"},"score":0,"creation_date":1613840313,"post_id":66293864,"comment_id":117202920,"body_markdown":"Well, if we get around 10,000 numbers and we fill one array with all of them it literally says something about memory error, so I want to optimize my code. Like to fill several arrays and each array would contain up to 100 elements. But I appreciate for the help.","body":"Well, if we get around 10,000 numbers and we fill one array with all of them it literally says something about memory error, so I want to optimize my code. Like to fill several arrays and each array would contain up to 100 elements. But I appreciate for the help."}],"tags":[],"owner":{"account_id":10886388,"reputation":13,"user_id":8003755,"display_name":"Xemor"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613849666,"creation_date":1613838263,"answer_id":66293864,"question_id":66293761,"body_markdown":"    int[] array = new int[size];\r\n\r\nWhere `size` is the number on the first line of the text file.\r\nThis is how you create an array, you don&#39;t have to know the `size` of the array at `compile` time, we can just use a variable for `size`.\r\n\r\nAlso, not sure where you heard that arrays greater than `100` in size destroy your computer, that&#39;s just not true!","title":"How to auto create arrays","body":"<pre><code>int[] array = new int[size];\n</code></pre>\n<p>Where <code>size</code> is the number on the first line of the text file.\nThis is how you create an array, you don't have to know the <code>size</code> of the array at <code>compile</code> time, we can just use a variable for <code>size</code>.</p>\n<p>Also, not sure where you heard that arrays greater than <code>100</code> in size destroy your computer, that's just not true!</p>\n"},{"comments":[{"owner":{"account_id":20131928,"reputation":41,"user_id":15249553,"display_name":"Рик Plays"},"score":0,"creation_date":1613840189,"post_id":66293880,"comment_id":117202888,"body_markdown":"Thank you so much! That was really helpful.","body":"Thank you so much! That was really helpful."}],"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669488098,"creation_date":1613838346,"answer_id":66293880,"question_id":66293761,"body_markdown":" 1. Read the first line and convert the result to a number that you store to `count`.\r\n 2. Then add this line: `int [] array = new int [count];`\r\n 3. Next setup a `for` loop: `for( var i = 0; i &lt; count; ++i )` and in this loop, you read the current line, convert the value to a number and store it to `array [i]`.\r\n\r\nIs this explanation simple enough?\r\n\r\nFor the concrete Java code, you should use your own brain, otherwise it will never change that you don&#39;t understand …\r\n\r\n----------\r\n\r\nIf this &quot;100 entries&quot; limit is relevant, you create a list of arrays (`List&lt;int[]&gt; arrays`) and the sequence of code looks a bit different:\r\n\r\n 1. Get the amount of numbers in the file. \r\n 2. Setup a `while` loop: `while( count &gt; 100 )`. \r\n 3. In that loop, you create an array for 100 values and store it to the list:\r\n    ```\r\n    int [] array = new int [100];\r\n    arrays.add( array );\r\n    ```\r\n    Further you read the next 100 lines, convert the values to numbers and store them to `array [i]`; for that, you use a `for` loop as above.\r\n 4. The last operation in the `while` loop is this: `count -= 100;`.\r\n 5. After the `while` loop, you add the code from above the separator line, with one addition: after creating the array, you need to add it to the list of arrays before you start the `for` loop. ","title":"How to auto create arrays","body":"<ol>\n<li>Read the first line and convert the result to a number that you store to <code>count</code>.</li>\n<li>Then add this line: <code>int [] array = new int [count];</code></li>\n<li>Next setup a <code>for</code> loop: <code>for( var i = 0; i &lt; count; ++i )</code> and in this loop, you read the current line, convert the value to a number and store it to <code>array [i]</code>.</li>\n</ol>\n<p>Is this explanation simple enough?</p>\n<p>For the concrete Java code, you should use your own brain, otherwise it will never change that you don't understand …</p>\n<hr />\n<p>If this &quot;100 entries&quot; limit is relevant, you create a list of arrays (<code>List&lt;int[]&gt; arrays</code>) and the sequence of code looks a bit different:</p>\n<ol>\n<li>Get the amount of numbers in the file.</li>\n<li>Setup a <code>while</code> loop: <code>while( count &gt; 100 )</code>.</li>\n<li>In that loop, you create an array for 100 values and store it to the list:\n<pre><code>int [] array = new int [100];\narrays.add( array );\n</code></pre>\nFurther you read the next 100 lines, convert the values to numbers and store them to <code>array [i]</code>; for that, you use a <code>for</code> loop as above.</li>\n<li>The last operation in the <code>while</code> loop is this: <code>count -= 100;</code>.</li>\n<li>After the <code>while</code> loop, you add the code from above the separator line, with one addition: after creating the array, you need to add it to the list of arrays before you start the <code>for</code> loop.</li>\n</ol>\n"}],"owner":{"account_id":20131928,"reputation":41,"user_id":15249553,"display_name":"Рик Plays"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":66293880,"answer_count":2,"score":0,"last_activity_date":1669488098,"creation_date":1613837687,"question_id":66293761,"body_markdown":"***Hello! So there&#39;s a problem.***\r\n\r\nWe&#39;re given a file.txt with a lot of numbers (let&#39;s consider the amount is greater than 1000). On the first line we can see the amount of numbers. The next lines contain numbers (1 line = 1 number). So we need to write a code which will autofill arrays with all these numbers. We&#39;re not allowed to fill one array with more than 100 elements, because it will destroy our PC (I&#39;ve read it somewhere).\r\n\r\nExample of the file.txt:\r\n\r\n    5\r\n    78\r\n    67\r\n    56\r\n    45\r\n    23\r\n\r\nI don&#39;t know how to auto create arrays depending on an amount of numbers we have.\r\n\r\nI will be grateful for the help.\r\n\r\n**P. S. please don&#39;t write and suggest very difficult constructions, I won&#39;t understand them, because I am the beginner in programming :D**","title":"How to auto create arrays","body":"<p><em><strong>Hello! So there's a problem.</strong></em></p>\n<p>We're given a file.txt with a lot of numbers (let's consider the amount is greater than 1000). On the first line we can see the amount of numbers. The next lines contain numbers (1 line = 1 number). So we need to write a code which will autofill arrays with all these numbers. We're not allowed to fill one array with more than 100 elements, because it will destroy our PC (I've read it somewhere).</p>\n<p>Example of the file.txt:</p>\n<pre><code>5\n78\n67\n56\n45\n23\n</code></pre>\n<p>I don't know how to auto create arrays depending on an amount of numbers we have.</p>\n<p>I will be grateful for the help.</p>\n<p><strong>P. S. please don't write and suggest very difficult constructions, I won't understand them, because I am the beginner in programming :D</strong></p>\n"},{"tags":["java","android","keyboard","ime"],"answers":[{"tags":[],"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669488031,"creation_date":1669488031,"answer_id":74584734,"question_id":42769120,"body_markdown":"5 years later.\r\n\r\nThe problem is your method.xml file.\r\n\r\nIt should be defined like this:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;input-method \r\n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n     android:supportsSwitchingToNextInputMethod=&quot;true&quot;&gt;\r\n    &lt;subtype \r\n       android:label=&quot;@string/keyboard_grk_label&quot;\r\n       android:imeSubtypeLocale=&quot;el_Gr&quot;\r\n       android:imeSubtypeMode=&quot;keyboard&quot; /&gt;\r\n&lt;/input-method&gt;\r\n```\r\n\r\n\r\n\r\nhttps://developer.android.com/develop/ui/views/touch-and-input/creating-input-method#IMESubTypes","title":"Android won&#39;t recognize Soft Keyboard","body":"<p>5 years later.</p>\n<p>The problem is your method.xml file.</p>\n<p>It should be defined like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;input-method \n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n     android:supportsSwitchingToNextInputMethod=&quot;true&quot;&gt;\n    &lt;subtype \n       android:label=&quot;@string/keyboard_grk_label&quot;\n       android:imeSubtypeLocale=&quot;el_Gr&quot;\n       android:imeSubtypeMode=&quot;keyboard&quot; /&gt;\n&lt;/input-method&gt;\n</code></pre>\n<p><a href=\"https://developer.android.com/develop/ui/views/touch-and-input/creating-input-method#IMESubTypes\" rel=\"nofollow noreferrer\">https://developer.android.com/develop/ui/views/touch-and-input/creating-input-method#IMESubTypes</a></p>\n"}],"owner":{"account_id":10449291,"reputation":11,"user_id":7703433,"display_name":"N. Hen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669488031,"creation_date":1489423800,"question_id":42769120,"body_markdown":"I&#39;m new to the android environment, so please bear with me:\r\n\r\nI&#39;ve been trying to develop a soft keyboard as part of a vocabulary-building app I&#39;m creating. When I run the app, through Android Studio (v2.3), the app successfully launches, but the input method service seems to be ignored, and the keyboard is not listed in the system&#39;s input methods (to where I got by entering Settings -&gt; Language &amp; Input -&gt; Current keyboard -&gt; Choose Keyboards). I&#39;m using a Nexus 5, and Android version 6.0.1, if it helps.\r\n\r\nIn order to create the keyboard I&#39;ve been following the guide on Android Developers (under &quot;Creating An Input Method&quot;), as well as the sample keyboard referenced there (&quot;SoftKeyboard&quot;, [Link](https://android.googlesource.com/platform/development/+/master/samples/SoftKeyboard/)). I didn&#39;t need all the features that the SoftKeyboard example gives (for example, candidates), and so I adapted only a part of the sample project to my own; this might be the cause for problems.\r\n\r\nTo clarify, the app launches successfully, but the keyboard service seems to be ignored. I&#39;ve searched the logs, and have found a single error which is related to input methods, but it seems quite minor. The full log can be found [here](http://pastebin.com/tJa6Azhj) (noted error starts at line 274).\r\n\r\nAlso, here are some code snippets I think are important to the problem (of course, I can provide any other requested file):\r\n\r\nThe AndroidManifest.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n              package=&quot;com.akuros.glossa.keyboard&quot;&gt;\r\n     \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n     \r\n            &lt;!-- Declares the input method service --&gt;\r\n            &lt;service android:name=&quot;GlossaKeyboard&quot;\r\n                     android:label=&quot;greek_keyboard&quot;\r\n                     android:permission=&quot;android.permission.BIND_INPUT_METHOD&quot;\r\n                &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.view.InputMethod&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n                &lt;meta-data android:name=&quot;android.view.im&quot;\r\n                           android:resource=&quot;@xml/method&quot; /&gt;\r\n            &lt;/service&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n     \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n     \r\n    &lt;/manifest&gt;\r\n\r\nThe method.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;InputMethod\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:supportsSwitchingToNextInputMethod=&quot;true&quot;\r\n    &gt;\r\n        &lt;Subtype\r\n        android:label=&quot;@string/keyboard_grk_label&quot;\r\n        android:imeSubtypeLocale=&quot;el_Gr&quot;\r\n        android:imeSubtypeMode=&quot;keyboard&quot;\r\n        /&gt;\r\n    &lt;/InputMethod&gt;\r\n\r\nand the central class (which extends the InputMethodService), GlossaKeyboard:\r\n\r\n    package com.akuros.glossa.keyboard;\r\n     \r\n    /*\r\n     * This class defines the Greek Keyboard used by this application.\r\n     *\r\n     * Created by Nitzan on 15/02/2017.\r\n     */\r\n     \r\n    //TODO have the keyboard adapt its state according to the language needed\r\n     \r\n    import android.app.Dialog;\r\n    import android.inputmethodservice.InputMethodService;\r\n    import android.inputmethodservice.Keyboard;\r\n    import android.inputmethodservice.KeyboardView;\r\n    import android.os.IBinder;\r\n    import android.text.InputType;\r\n    import android.view.KeyEvent;\r\n    import android.view.View;\r\n    import android.view.Window;\r\n    import android.view.inputmethod.EditorInfo;\r\n    import android.view.inputmethod.InputConnection;\r\n    import android.view.inputmethod.InputMethodManager;\r\n     \r\n    import static android.inputmethodservice.Keyboard.KEYCODE_DELETE;\r\n    import static android.inputmethodservice.Keyboard.KEYCODE_SHIFT;\r\n     \r\n    public class GlossaKeyboard extends InputMethodService\r\n            implements KeyboardView.OnKeyboardActionListener\r\n    {\r\n        //------ Key Codes ------//\r\n        private static final int KEYCODE_ENGLISH = -101;\r\n        private static final int KEYCODE_LANGUAGE_SWITCH = -102;\r\n        private static final int KEYCODE_CAPS = -103;\r\n     \r\n        //------ Fields ------ //\r\n     \r\n        private GlossaKeyboardView keyboardView;\r\n        private StringBuilder composing;\r\n     \r\n        private InputMethodManager imm;\r\n     \r\n        private Keyboard greekKeyboard;\r\n        private Keyboard englishKeyboard;\r\n        private Keyboard currKeyboard;\r\n     \r\n        private int shiftState;\r\n     \r\n        @Override\r\n        public void onCreate()\r\n        {\r\n            super.onCreate();\r\n            imm = (InputMethodManager)getSystemService(INPUT_METHOD_SERVICE);\r\n            composing = new StringBuilder();\r\n     \r\n            shiftState = 0;\r\n        }\r\n     \r\n        @Override\r\n        public void onInitializeInterface()\r\n        {\r\n            greekKeyboard = new Keyboard(this, R.xml.qwerty_greek);\r\n            englishKeyboard = new Keyboard(this, R.xml.qwerty_english);\r\n        }\r\n     \r\n        @Override\r\n        public View onCreateInputView()\r\n        {\r\n            keyboardView = (GlossaKeyboardView) getLayoutInflater().inflate(\r\n                    R.layout.keyboard_greek, null);\r\n            keyboardView.setOnKeyboardActionListener(this);\r\n            keyboardView.setKeyboard(greekKeyboard);\r\n            return keyboardView;\r\n        }\r\n     \r\n        @Override\r\n        public void onStartInput(EditorInfo attribute, boolean restarting)\r\n        {\r\n            super.onStartInput(attribute, restarting);\r\n     \r\n            composing.setLength(0);\r\n            shiftState = 0;\r\n     \r\n            currKeyboard = greekKeyboard;\r\n     \r\n        }\r\n     \r\n     \r\n        @Override\r\n        public void onFinishInput()\r\n        {\r\n            super.onFinishInput();\r\n     \r\n            composing.setLength(0);\r\n     \r\n            if (keyboardView != null)\r\n                keyboardView.closing();\r\n        }\r\n     \r\n        /* Interface Required Methods */\r\n     \r\n        @Override\r\n        public void onPress(int primaryCode)\r\n        {\r\n     \r\n        }\r\n     \r\n        @Override\r\n        public void onRelease(int primaryCode)\r\n        {\r\n     \r\n        }\r\n     \r\n        @Override\r\n        //note the static import of Keyboard&#39;s KEYCODE values\r\n        public void onKey(int primaryCode, int[] keyCodes)\r\n        {\r\n     \r\n            switch (primaryCode)\r\n            {\r\n                case KEYCODE_SHIFT:\r\n                    shiftState = (shiftState == 0) ? 1 : 0;\r\n                    break;\r\n     \r\n                case KEYCODE_CAPS:\r\n                    shiftState = (shiftState == 0) ? 2 : 0;\r\n                    break;\r\n     \r\n                case KEYCODE_DELETE:\r\n                    handleBackspace();\r\n                    break;\r\n     \r\n                case KEYCODE_LANGUAGE_SWITCH:\r\n                    handleLanguageSwitch();\r\n                    break;\r\n     \r\n                case KEYCODE_ENGLISH:\r\n                    handleEnglishSwitch();\r\n                    break;\r\n     \r\n                default:\r\n                    handleCharacter(primaryCode);\r\n                    break;\r\n     \r\n            }\r\n     \r\n            updateShiftKeyState(getCurrentInputEditorInfo());\r\n     \r\n        }\r\n     \r\n        @Override\r\n        public void onText(CharSequence text)\r\n        {\r\n            InputConnection ic = getCurrentInputConnection();\r\n            if (ic == null) return;\r\n            ic.beginBatchEdit();\r\n     \r\n            if (composing.length() &gt; 0)\r\n                commitTyped(ic);\r\n     \r\n            ic.commitText(text, 0); //not sure why this call needs to exist, commitText(ic) should already\r\n            //do the work.\r\n     \r\n            ic.endBatchEdit();\r\n            updateShiftKeyState(getCurrentInputEditorInfo());\r\n        }\r\n     \r\n     \r\n        //------ Private methods ------//\r\n     \r\n        /* Handlers */\r\n     \r\n        private void handleCharacter(int primaryCode)\r\n        {\r\n            if(isInputViewShown())\r\n            {\r\n                if(keyboardView.isShifted())\r\n                    primaryCode = Character.toUpperCase(primaryCode);\r\n            }\r\n            CharSequence str = String.valueOf((char) primaryCode);\r\n            getCurrentInputConnection().commitText(str, 1);\r\n        }\r\n     \r\n        private void handleBackspace()\r\n        {\r\n            final int length = composing.length();\r\n            if(length &gt; 1)\r\n            {\r\n                composing.delete(length - 1, length);\r\n                getCurrentInputConnection().setComposingText(composing,1);\r\n            }\r\n            else if(length &gt; 0)\r\n            {\r\n                composing.setLength(0);\r\n                getCurrentInputConnection().commitText(&quot;&quot;, 0);\r\n            }\r\n            else\r\n            {\r\n                keyDownUp(KeyEvent.KEYCODE_DEL);\r\n            }\r\n            updateShiftKeyState(getCurrentInputEditorInfo());\r\n        }\r\n     \r\n        private void handleLanguageSwitch()\r\n        {\r\n            imm.switchToNextInputMethod(getToken(), false);\r\n        }\r\n     \r\n        private void handleEnglishSwitch()\r\n        {\r\n            if(currKeyboard != englishKeyboard )\r\n            {\r\n                currKeyboard = englishKeyboard;\r\n                keyboardView.setKeyboard(englishKeyboard);\r\n            }\r\n        }\r\n     \r\n        /* Helper Methods */\r\n     \r\n        public IBinder getToken() {\r\n            final Dialog dialog = getWindow();\r\n            if (dialog == null) {\r\n                return null;\r\n            }\r\n            final Window window = dialog.getWindow();\r\n            if (window == null) {\r\n                return null;\r\n            }\r\n            return window.getAttributes().token;\r\n        }\r\n     \r\n        private void commitTyped(InputConnection ic)\r\n        {\r\n            if (composing.length() &gt; 0)\r\n            {\r\n                ic.commitText(composing, composing.length());\r\n                composing.setLength(0);\r\n            }\r\n        }\r\n     \r\n        private void keyDownUp(int keyEventCode)\r\n        {\r\n            getCurrentInputConnection().sendKeyEvent(\r\n                    new KeyEvent(KeyEvent.ACTION_DOWN, keyEventCode));\r\n            getCurrentInputConnection().sendKeyEvent(\r\n                    new KeyEvent(KeyEvent.ACTION_UP, keyEventCode));\r\n        }\r\n     \r\n        private void updateShiftKeyState(EditorInfo attr)\r\n        {\r\n            if (attr != null &amp;&amp; keyboardView != null)\r\n            {\r\n                Keyboard keyboard = keyboardView.getKeyboard();\r\n                if (keyboard == greekKeyboard\r\n                        || keyboard == englishKeyboard)\r\n                {\r\n                    int caps = 0;\r\n                    EditorInfo ei = getCurrentInputEditorInfo();\r\n                    if (ei != null &amp;&amp; ei.inputType != InputType.TYPE_NULL)\r\n                    {\r\n                        caps = getCurrentInputConnection().getCursorCapsMode(attr.inputType);\r\n                    }\r\n                    keyboardView.setShifted(shiftState &gt; 0 || caps != 0);\r\n                }\r\n            }\r\n            if (shiftState == 1)\r\n                shiftState = 0;\r\n        }\r\n     \r\n     \r\n        /* Unused Methods */\r\n        //These methods are implemented simply because the OnKeyboardActionListener interface demands it.\r\n        //their implementation is empty.\r\n     \r\n        @Override\r\n        public void swipeLeft()\r\n        {\r\n            //do nothing\r\n        }\r\n     \r\n        @Override\r\n        public void swipeRight()\r\n        {\r\n            //do nothing\r\n        }\r\n     \r\n        @Override\r\n        public void swipeDown()\r\n        {\r\n            //do nothing\r\n        }\r\n     \r\n        @Override\r\n        public void swipeUp()\r\n        {\r\n            //do nothing\r\n        }\r\n    }\r\n\r\nSo far, I&#39;ve tried:\r\n\r\n- moving all Input-Method related files into a separate project, and running that (same results)\r\n\r\n- debugging the project (breakpoints at the GlossaKeyboard class were never reached)\r\n\r\n- Searching the logs (as mentioned, nothing found)\r\n\r\n- Comparing my files to the ones in the SoftKeyboard sample app (no errors found in my version; haven&#39;t found anything missing except for unwanted features [such as word suggestions, spell check, etc.]).\r\n\r\nAny help is appreciated.","title":"Android won&#39;t recognize Soft Keyboard","body":"<p>I'm new to the android environment, so please bear with me:</p>\n\n<p>I've been trying to develop a soft keyboard as part of a vocabulary-building app I'm creating. When I run the app, through Android Studio (v2.3), the app successfully launches, but the input method service seems to be ignored, and the keyboard is not listed in the system's input methods (to where I got by entering Settings -> Language &amp; Input -> Current keyboard -> Choose Keyboards). I'm using a Nexus 5, and Android version 6.0.1, if it helps.</p>\n\n<p>In order to create the keyboard I've been following the guide on Android Developers (under \"Creating An Input Method\"), as well as the sample keyboard referenced there (\"SoftKeyboard\", <a href=\"https://android.googlesource.com/platform/development/+/master/samples/SoftKeyboard/\" rel=\"nofollow noreferrer\">Link</a>). I didn't need all the features that the SoftKeyboard example gives (for example, candidates), and so I adapted only a part of the sample project to my own; this might be the cause for problems.</p>\n\n<p>To clarify, the app launches successfully, but the keyboard service seems to be ignored. I've searched the logs, and have found a single error which is related to input methods, but it seems quite minor. The full log can be found <a href=\"http://pastebin.com/tJa6Azhj\" rel=\"nofollow noreferrer\">here</a> (noted error starts at line 274).</p>\n\n<p>Also, here are some code snippets I think are important to the problem (of course, I can provide any other requested file):</p>\n\n<p>The AndroidManifest.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n          package=\"com.akuros.glossa.keyboard\"&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n\n        &lt;!-- Declares the input method service --&gt;\n        &lt;service android:name=\"GlossaKeyboard\"\n                 android:label=\"greek_keyboard\"\n                 android:permission=\"android.permission.BIND_INPUT_METHOD\"\n            &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.view.InputMethod\" /&gt;\n            &lt;/intent-filter&gt;\n            &lt;meta-data android:name=\"android.view.im\"\n                       android:resource=\"@xml/method\" /&gt;\n        &lt;/service&gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\"/&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>The method.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;InputMethod\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:supportsSwitchingToNextInputMethod=\"true\"\n&gt;\n    &lt;Subtype\n    android:label=\"@string/keyboard_grk_label\"\n    android:imeSubtypeLocale=\"el_Gr\"\n    android:imeSubtypeMode=\"keyboard\"\n    /&gt;\n&lt;/InputMethod&gt;\n</code></pre>\n\n<p>and the central class (which extends the InputMethodService), GlossaKeyboard:</p>\n\n<pre><code>package com.akuros.glossa.keyboard;\n\n/*\n * This class defines the Greek Keyboard used by this application.\n *\n * Created by Nitzan on 15/02/2017.\n */\n\n//TODO have the keyboard adapt its state according to the language needed\n\nimport android.app.Dialog;\nimport android.inputmethodservice.InputMethodService;\nimport android.inputmethodservice.Keyboard;\nimport android.inputmethodservice.KeyboardView;\nimport android.os.IBinder;\nimport android.text.InputType;\nimport android.view.KeyEvent;\nimport android.view.View;\nimport android.view.Window;\nimport android.view.inputmethod.EditorInfo;\nimport android.view.inputmethod.InputConnection;\nimport android.view.inputmethod.InputMethodManager;\n\nimport static android.inputmethodservice.Keyboard.KEYCODE_DELETE;\nimport static android.inputmethodservice.Keyboard.KEYCODE_SHIFT;\n\npublic class GlossaKeyboard extends InputMethodService\n        implements KeyboardView.OnKeyboardActionListener\n{\n    //------ Key Codes ------//\n    private static final int KEYCODE_ENGLISH = -101;\n    private static final int KEYCODE_LANGUAGE_SWITCH = -102;\n    private static final int KEYCODE_CAPS = -103;\n\n    //------ Fields ------ //\n\n    private GlossaKeyboardView keyboardView;\n    private StringBuilder composing;\n\n    private InputMethodManager imm;\n\n    private Keyboard greekKeyboard;\n    private Keyboard englishKeyboard;\n    private Keyboard currKeyboard;\n\n    private int shiftState;\n\n    @Override\n    public void onCreate()\n    {\n        super.onCreate();\n        imm = (InputMethodManager)getSystemService(INPUT_METHOD_SERVICE);\n        composing = new StringBuilder();\n\n        shiftState = 0;\n    }\n\n    @Override\n    public void onInitializeInterface()\n    {\n        greekKeyboard = new Keyboard(this, R.xml.qwerty_greek);\n        englishKeyboard = new Keyboard(this, R.xml.qwerty_english);\n    }\n\n    @Override\n    public View onCreateInputView()\n    {\n        keyboardView = (GlossaKeyboardView) getLayoutInflater().inflate(\n                R.layout.keyboard_greek, null);\n        keyboardView.setOnKeyboardActionListener(this);\n        keyboardView.setKeyboard(greekKeyboard);\n        return keyboardView;\n    }\n\n    @Override\n    public void onStartInput(EditorInfo attribute, boolean restarting)\n    {\n        super.onStartInput(attribute, restarting);\n\n        composing.setLength(0);\n        shiftState = 0;\n\n        currKeyboard = greekKeyboard;\n\n    }\n\n\n    @Override\n    public void onFinishInput()\n    {\n        super.onFinishInput();\n\n        composing.setLength(0);\n\n        if (keyboardView != null)\n            keyboardView.closing();\n    }\n\n    /* Interface Required Methods */\n\n    @Override\n    public void onPress(int primaryCode)\n    {\n\n    }\n\n    @Override\n    public void onRelease(int primaryCode)\n    {\n\n    }\n\n    @Override\n    //note the static import of Keyboard's KEYCODE values\n    public void onKey(int primaryCode, int[] keyCodes)\n    {\n\n        switch (primaryCode)\n        {\n            case KEYCODE_SHIFT:\n                shiftState = (shiftState == 0) ? 1 : 0;\n                break;\n\n            case KEYCODE_CAPS:\n                shiftState = (shiftState == 0) ? 2 : 0;\n                break;\n\n            case KEYCODE_DELETE:\n                handleBackspace();\n                break;\n\n            case KEYCODE_LANGUAGE_SWITCH:\n                handleLanguageSwitch();\n                break;\n\n            case KEYCODE_ENGLISH:\n                handleEnglishSwitch();\n                break;\n\n            default:\n                handleCharacter(primaryCode);\n                break;\n\n        }\n\n        updateShiftKeyState(getCurrentInputEditorInfo());\n\n    }\n\n    @Override\n    public void onText(CharSequence text)\n    {\n        InputConnection ic = getCurrentInputConnection();\n        if (ic == null) return;\n        ic.beginBatchEdit();\n\n        if (composing.length() &gt; 0)\n            commitTyped(ic);\n\n        ic.commitText(text, 0); //not sure why this call needs to exist, commitText(ic) should already\n        //do the work.\n\n        ic.endBatchEdit();\n        updateShiftKeyState(getCurrentInputEditorInfo());\n    }\n\n\n    //------ Private methods ------//\n\n    /* Handlers */\n\n    private void handleCharacter(int primaryCode)\n    {\n        if(isInputViewShown())\n        {\n            if(keyboardView.isShifted())\n                primaryCode = Character.toUpperCase(primaryCode);\n        }\n        CharSequence str = String.valueOf((char) primaryCode);\n        getCurrentInputConnection().commitText(str, 1);\n    }\n\n    private void handleBackspace()\n    {\n        final int length = composing.length();\n        if(length &gt; 1)\n        {\n            composing.delete(length - 1, length);\n            getCurrentInputConnection().setComposingText(composing,1);\n        }\n        else if(length &gt; 0)\n        {\n            composing.setLength(0);\n            getCurrentInputConnection().commitText(\"\", 0);\n        }\n        else\n        {\n            keyDownUp(KeyEvent.KEYCODE_DEL);\n        }\n        updateShiftKeyState(getCurrentInputEditorInfo());\n    }\n\n    private void handleLanguageSwitch()\n    {\n        imm.switchToNextInputMethod(getToken(), false);\n    }\n\n    private void handleEnglishSwitch()\n    {\n        if(currKeyboard != englishKeyboard )\n        {\n            currKeyboard = englishKeyboard;\n            keyboardView.setKeyboard(englishKeyboard);\n        }\n    }\n\n    /* Helper Methods */\n\n    public IBinder getToken() {\n        final Dialog dialog = getWindow();\n        if (dialog == null) {\n            return null;\n        }\n        final Window window = dialog.getWindow();\n        if (window == null) {\n            return null;\n        }\n        return window.getAttributes().token;\n    }\n\n    private void commitTyped(InputConnection ic)\n    {\n        if (composing.length() &gt; 0)\n        {\n            ic.commitText(composing, composing.length());\n            composing.setLength(0);\n        }\n    }\n\n    private void keyDownUp(int keyEventCode)\n    {\n        getCurrentInputConnection().sendKeyEvent(\n                new KeyEvent(KeyEvent.ACTION_DOWN, keyEventCode));\n        getCurrentInputConnection().sendKeyEvent(\n                new KeyEvent(KeyEvent.ACTION_UP, keyEventCode));\n    }\n\n    private void updateShiftKeyState(EditorInfo attr)\n    {\n        if (attr != null &amp;&amp; keyboardView != null)\n        {\n            Keyboard keyboard = keyboardView.getKeyboard();\n            if (keyboard == greekKeyboard\n                    || keyboard == englishKeyboard)\n            {\n                int caps = 0;\n                EditorInfo ei = getCurrentInputEditorInfo();\n                if (ei != null &amp;&amp; ei.inputType != InputType.TYPE_NULL)\n                {\n                    caps = getCurrentInputConnection().getCursorCapsMode(attr.inputType);\n                }\n                keyboardView.setShifted(shiftState &gt; 0 || caps != 0);\n            }\n        }\n        if (shiftState == 1)\n            shiftState = 0;\n    }\n\n\n    /* Unused Methods */\n    //These methods are implemented simply because the OnKeyboardActionListener interface demands it.\n    //their implementation is empty.\n\n    @Override\n    public void swipeLeft()\n    {\n        //do nothing\n    }\n\n    @Override\n    public void swipeRight()\n    {\n        //do nothing\n    }\n\n    @Override\n    public void swipeDown()\n    {\n        //do nothing\n    }\n\n    @Override\n    public void swipeUp()\n    {\n        //do nothing\n    }\n}\n</code></pre>\n\n<p>So far, I've tried:</p>\n\n<ul>\n<li><p>moving all Input-Method related files into a separate project, and running that (same results)</p></li>\n<li><p>debugging the project (breakpoints at the GlossaKeyboard class were never reached)</p></li>\n<li><p>Searching the logs (as mentioned, nothing found)</p></li>\n<li><p>Comparing my files to the ones in the SoftKeyboard sample app (no errors found in my version; haven't found anything missing except for unwanted features [such as word suggestions, spell check, etc.]).</p></li>\n</ul>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["java","asp.net","http","go","networking"],"answers":[{"comments":[{"owner":{"account_id":4013092,"reputation":2396,"user_id":3305978,"accept_rate":83,"display_name":"anwerj"},"score":0,"creation_date":1668931461,"post_id":74503580,"comment_id":131522616,"body_markdown":"Sounds a good solution using messaging queue with subscriber model and unique hash for request. Will definitely give it a try. \nI also need to assess the impact of client blocking pods for 60 secs. Will see it that can also be avoided.","body":"Sounds a good solution using messaging queue with subscriber model and unique hash for request. Will definitely give it a try.  I also need to assess the impact of client blocking pods for 60 secs. Will see it that can also be avoided."},{"owner":{"account_id":20016512,"reputation":3080,"user_id":14672383,"display_name":"AminMal"},"score":0,"creation_date":1668933034,"post_id":74503580,"comment_id":131522823,"body_markdown":"@anwerj There are almost always two ways to communicate with messages, one is `tell` (fire and forget), which would not be blocking, another one is `ask`, which waits for the reply message, and is blocking. The fact that you need to wait for request &quot;B&quot; makes your message communication model a blocking model, yet it can guarantee the issue you mentioned at first.","body":"@anwerj There are almost always two ways to communicate with messages, one is <code>tell</code> (fire and forget), which would not be blocking, another one is <code>ask</code>, which waits for the reply message, and is blocking. The fact that you need to wait for request &quot;B&quot; makes your message communication model a blocking model, yet it can guarantee the issue you mentioned at first."}],"tags":[],"owner":{"account_id":20016512,"reputation":3080,"user_id":14672383,"display_name":"AminMal"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668891048,"creation_date":1668890706,"answer_id":74503580,"question_id":74500889,"body_markdown":"# tl;dr\r\n## problem description\r\nSo assuming your server application called `server_app` for instance, has 3 pods:\r\n``` \r\n     +---------------------+\r\n     |  server_app_service |\r\n     +---------------------+\r\n     |  server_app_pod_a   |\r\n     |  server_app_pod_b   |\r\n     |  server_app_pod_c   |\r\n     +---------------------+\r\n```\r\nyour **service** receives a request called `&quot;request A&quot;`, and decides to pass it to `server_app_pod_a`. Now your `server_app_pod_a` forwards the request to some gateway, and waits for some sort of **notification**, to continue the processing of client&#39;s response. And as you already know, there&#39;s no assurance that when gateway does the `request B`, the service passes it to `server_app_pod_a` again. And even if it did so, your application&#39;s state management would become a difficult task to do. \r\n\r\n# Messaging\r\nAs you might&#39;ve noticed, I bolded the word &quot;notification&quot; in the past paragraph, that&#39;s because if you really think about it, the `request &quot;B&quot;` looks more like a notification with some **message** rather than a request for some resource. So my number 1 choice would be a message queue like kafka (there are plenty of those, again, as you know). And the idea is, if you could define an algorithm to calculate unique keys for your requests, you can expect the resulting notifications in your exact same pod. This way, state management would be much simpler, and also, the chance of getting the notification in the same pod would be much higher (this depends on many factors of course, like the state of the message queue). Taking a look at your questions:\r\n\r\n&gt; 1. I want to do this best possible way keeping scaling in mind.\r\n\r\nSure thing, you can use these message queues like kafka, to achieve scaling and fewer data loss, both for the message queue and your application.\r\n\r\n&gt; 4. There will be timeouts for all request making initial request timed out after 60 seconds.\r\n\r\nThis one depends on how you manage timeouts in your codebase, using contexts would be a good idea.\r\n\r\n&gt; I would also like to know how it could have been achieved in other programming languages.\r\n\r\nUsing message queues is a general idea, which would be applicable to almost any programming language, but depending on the programming paradigms of a language, and language-specific libraries and tools, there might be some other approaches to this problem. For instance in `Scala`, if you use some specific tool called `akka` (which provides actor model programming paradigm), you can use something so called `akka-cluster-sharding`, to handle this problem. And the idea is pretty simple, we know that there must be some sort of superviser, which knows the exact location and state of its own subscribers. So when it receives some message, it just knows where and which actor (we&#39;re talking about actor model programming) to forward the request to. In other words, it can be used to share state between actors spawned on a cluster, either on the same machine or not. But as a personal preference, I wouldn&#39;t go for language-specific communications, and would stick to general ideas, because of the problems it might cause in the future.\r\n\r\n# Wrap-up\r\nLong enough explanations :). Just to make some sense of what I&#39;m talking about, let&#39;s follow up the exact same scenario, with a difference in communication model:\r\n 1. Client sends request &quot;A&quot; to `server_app` service.\r\n 2. The service, choses one of the pods (`server_app_pod_b` for instance) to handle the request.\r\n 3. The pod then tries to define some key for the request, and passes it to the gateway, along with the request, and **waits** for a message with the key, to be published in the queue.\r\n 4. The gateway does what it&#39;s supposed to, and **sends a message** with the key, to the message queue.\r\n 5. The exact same pod `serer_app_pod_b` receives the message with the key, fetches the data of the message, and continues to process the client&#39;s request.\r\n\r\nThere are probably other approaches available to address this issue, but this is what I would go for. Hope that it helps!","title":"Serve response of an HTTP request after receiving another request","body":"<h1>tl;dr</h1>\n<h2>problem description</h2>\n<p>So assuming your server application called <code>server_app</code> for instance, has 3 pods:</p>\n<pre><code>     +---------------------+\n     |  server_app_service |\n     +---------------------+\n     |  server_app_pod_a   |\n     |  server_app_pod_b   |\n     |  server_app_pod_c   |\n     +---------------------+\n</code></pre>\n<p>your <strong>service</strong> receives a request called <code>&quot;request A&quot;</code>, and decides to pass it to <code>server_app_pod_a</code>. Now your <code>server_app_pod_a</code> forwards the request to some gateway, and waits for some sort of <strong>notification</strong>, to continue the processing of client's response. And as you already know, there's no assurance that when gateway does the <code>request B</code>, the service passes it to <code>server_app_pod_a</code> again. And even if it did so, your application's state management would become a difficult task to do.</p>\n<h1>Messaging</h1>\n<p>As you might've noticed, I bolded the word &quot;notification&quot; in the past paragraph, that's because if you really think about it, the <code>request &quot;B&quot;</code> looks more like a notification with some <strong>message</strong> rather than a request for some resource. So my number 1 choice would be a message queue like kafka (there are plenty of those, again, as you know). And the idea is, if you could define an algorithm to calculate unique keys for your requests, you can expect the resulting notifications in your exact same pod. This way, state management would be much simpler, and also, the chance of getting the notification in the same pod would be much higher (this depends on many factors of course, like the state of the message queue). Taking a look at your questions:</p>\n<blockquote>\n<ol>\n<li>I want to do this best possible way keeping scaling in mind.</li>\n</ol>\n</blockquote>\n<p>Sure thing, you can use these message queues like kafka, to achieve scaling and fewer data loss, both for the message queue and your application.</p>\n<blockquote>\n<ol start=\"4\">\n<li>There will be timeouts for all request making initial request timed out after 60 seconds.</li>\n</ol>\n</blockquote>\n<p>This one depends on how you manage timeouts in your codebase, using contexts would be a good idea.</p>\n<blockquote>\n<p>I would also like to know how it could have been achieved in other programming languages.</p>\n</blockquote>\n<p>Using message queues is a general idea, which would be applicable to almost any programming language, but depending on the programming paradigms of a language, and language-specific libraries and tools, there might be some other approaches to this problem. For instance in <code>Scala</code>, if you use some specific tool called <code>akka</code> (which provides actor model programming paradigm), you can use something so called <code>akka-cluster-sharding</code>, to handle this problem. And the idea is pretty simple, we know that there must be some sort of superviser, which knows the exact location and state of its own subscribers. So when it receives some message, it just knows where and which actor (we're talking about actor model programming) to forward the request to. In other words, it can be used to share state between actors spawned on a cluster, either on the same machine or not. But as a personal preference, I wouldn't go for language-specific communications, and would stick to general ideas, because of the problems it might cause in the future.</p>\n<h1>Wrap-up</h1>\n<p>Long enough explanations :). Just to make some sense of what I'm talking about, let's follow up the exact same scenario, with a difference in communication model:</p>\n<ol>\n<li>Client sends request &quot;A&quot; to <code>server_app</code> service.</li>\n<li>The service, choses one of the pods (<code>server_app_pod_b</code> for instance) to handle the request.</li>\n<li>The pod then tries to define some key for the request, and passes it to the gateway, along with the request, and <strong>waits</strong> for a message with the key, to be published in the queue.</li>\n<li>The gateway does what it's supposed to, and <strong>sends a message</strong> with the key, to the message queue.</li>\n<li>The exact same pod <code>serer_app_pod_b</code> receives the message with the key, fetches the data of the message, and continues to process the client's request.</li>\n</ol>\n<p>There are probably other approaches available to address this issue, but this is what I would go for. Hope that it helps!</p>\n"},{"comments":[{"owner":{"account_id":4013092,"reputation":2396,"user_id":3305978,"accept_rate":83,"display_name":"anwerj"},"score":0,"creation_date":1669449634,"post_id":74565925,"comment_id":131646949,"body_markdown":"Yes, This is our current implementation. But few clients do not have polling facilities thus we are looking to respond in single call.","body":"Yes, This is our current implementation. But few clients do not have polling facilities thus we are looking to respond in single call."},{"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"score":0,"creation_date":1669487847,"post_id":74565925,"comment_id":131653554,"body_markdown":"Updated my answer based on your comment. You can check the &quot;Update based on comment:&quot; part.","body":"Updated my answer based on your comment. You can check the &quot;Update based on comment:&quot; part."}],"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669487780,"creation_date":1669321662,"answer_id":74565925,"question_id":74500889,"body_markdown":" - client fires HTTP call to server A.\r\n - server A creates a unique key &amp; store it in cache server for 60s(timeout period).\r\n - server A forwards the request to B via HTTP call. It is a fire &amp; forget call to B.\r\n - server A immediately returns response to the client with the unique key.\r\n - client starts polling (let&#39;s say every 500ms) using a GET status HTTP API to check if processing is done at server A.\r\n - mean while server B completes the task &amp; calls back to server A via HTTP API.\r\n - server A stores the response in cache against the unique key for short period (let&#39;s say 60s).\r\n- client call to A for status check API will get the data from cache &amp; returns it to the client.\r\n\r\nThere is no other component except server A &amp; server B. There is cache server, but it is internal to A. B doesn&#39;t need to know about it. Which service maintains what is clearly defined, so easy to maintain. B can have internal queue to process the forwarded request. But A doesn&#39;t need to know how B is implemented. Each service can be maintained by different teams using simple HTTP contract.\r\n\r\nAnother advantage is that client is not holding a long running HTTP connection to A. I mentioned polling thinking of most primitive clients like an old browser. If your client supports web socket, you can use that to send response back from A. Anyways polling here would perform well as status check API is just a cache call &amp; nothing else.\r\n\r\nSomeone can ask, where is the retry logic for server to server communication between A &amp; B? But we don&#39;t need a queue for that. Essentially client wants a synchronous type of call here. We are just breaking it down to multiple calls. Response anyways needs to be quick. We can have a retry mechanism of 3-5 retries in the HTTP client in case of network failure. We are using pods. I expect it to be behind a k8s load balancer. That load balancer will anyway retry to a healthy pod if first pod goes down. So you are pretty much covered there.\r\n\r\nI don&#39;t know your exact requirements &amp; I am writing this after a quick thought. But overall this looks fine to me. It would be robust &amp; have low latency calls. Maybe few tweaks would be needed here &amp; there.\r\n\r\n**Update based on comment:**\r\n\r\nImplementation of client polling is pretty basic. Basically, it is a loop which runs every 0.5s &amp; makes HTTP GET call to check the status. I believe any client should be able to implement that. But there might be some restrictions where client team don&#39;t want to make any changes. I don&#39;t want to get into that.\r\n\r\nLet&#39;s say some clients don&#39;t have polling capabilities &amp; some clients don&#39;t have web socket support. Then only thing remaining is a long lived HTTP connection between client &amp; server A. Suppose we take this approach. Not going into the obvious problems of having a long lived request thread in server, there is another issue specific to this scenario. Request thread in server A needs to be notified when server B makes the callback.\r\n\r\n**Approach 1:** We use some kind of queue as mentioned the other answer (I would keep the queue internal to A, but let&#39;s not get into that). And we use some message key so that the consumption happens in the same pod. We have API &amp; consumer both running in the same pod. That is achievable. But request thread &amp; consumer thread are different. Consumer thread somehow needs to notify request thread that result is available. So some inter-thread communication is required which only makes things complex. And it is not responsibility of a queue. So I would discard this approach. \r\n\r\nSomeone can ask, can request thread directly listens for some message with specific key. I don&#39;t think so. For the argument&#39;s sake, there are some queue technologies where you can do that. But you are essentially having ephemeral consumer &amp; separate partition for each key which won&#39;t scale. Listening for all messages &amp; ignoring all but one in the ephemeral consumer is not a viable solution either. \r\n\r\n**Approach 2:** From approach 1, we understood that request thread needs to be notified when server B sends the callback. That would make the flow whole lot complex &amp; you would need additional components like ZooKeeper to do the distributed locking or watching on some change. Instead of doing that, we can simply extend our current system to do server side polling. It shouldn&#39;t have any noticeable difference in response time as we are already doing client side polling. We are just moving it to server side. Also, anyways we would have to maintain long running request thread in server A whether we built distributed notification or server polling. The flow would look like:\r\n \r\n- Client calls server A.\r\n- Server A request thread makes a HTTP call to server B.\r\n- Server B starts background processing &amp; returns HTTP response immediately to A.\r\n- Request thread in A starts a loop checking in cache server if key is available every 500ms.\r\n- B processes the result &amp; makes HTTP callback to A.\r\n- callback thread in A caches the result against same key.\r\n- Original A request thread reads the value from cache &amp; returns the response to client.\r\n\r\nOriginal request thread would be sleeping for 500ms before making next cache call. So other threads would be able to utilize the time. Also cache get by key is super fast &amp; you won&#39;t have any scalability issue there.\r\n\r\nBut you will exhaust your request threads quicker if you maintain long running HTTP connection from client. So you will need more A pods to handle same request rate. I would still recommend to talk to the client team &amp; make the necessary changes there so that short lived connection (same as your current flow) is used.","title":"Serve response of an HTTP request after receiving another request","body":"<ul>\n<li>client fires HTTP call to server A.</li>\n<li>server A creates a unique key &amp; store it in cache server for 60s(timeout period).</li>\n<li>server A forwards the request to B via HTTP call. It is a fire &amp; forget call to B.</li>\n<li>server A immediately returns response to the client with the unique key.</li>\n<li>client starts polling (let's say every 500ms) using a GET status HTTP API to check if processing is done at server A.</li>\n<li>mean while server B completes the task &amp; calls back to server A via HTTP API.</li>\n<li>server A stores the response in cache against the unique key for short period (let's say 60s).</li>\n<li>client call to A for status check API will get the data from cache &amp; returns it to the client.</li>\n</ul>\n<p>There is no other component except server A &amp; server B. There is cache server, but it is internal to A. B doesn't need to know about it. Which service maintains what is clearly defined, so easy to maintain. B can have internal queue to process the forwarded request. But A doesn't need to know how B is implemented. Each service can be maintained by different teams using simple HTTP contract.</p>\n<p>Another advantage is that client is not holding a long running HTTP connection to A. I mentioned polling thinking of most primitive clients like an old browser. If your client supports web socket, you can use that to send response back from A. Anyways polling here would perform well as status check API is just a cache call &amp; nothing else.</p>\n<p>Someone can ask, where is the retry logic for server to server communication between A &amp; B? But we don't need a queue for that. Essentially client wants a synchronous type of call here. We are just breaking it down to multiple calls. Response anyways needs to be quick. We can have a retry mechanism of 3-5 retries in the HTTP client in case of network failure. We are using pods. I expect it to be behind a k8s load balancer. That load balancer will anyway retry to a healthy pod if first pod goes down. So you are pretty much covered there.</p>\n<p>I don't know your exact requirements &amp; I am writing this after a quick thought. But overall this looks fine to me. It would be robust &amp; have low latency calls. Maybe few tweaks would be needed here &amp; there.</p>\n<p><strong>Update based on comment:</strong></p>\n<p>Implementation of client polling is pretty basic. Basically, it is a loop which runs every 0.5s &amp; makes HTTP GET call to check the status. I believe any client should be able to implement that. But there might be some restrictions where client team don't want to make any changes. I don't want to get into that.</p>\n<p>Let's say some clients don't have polling capabilities &amp; some clients don't have web socket support. Then only thing remaining is a long lived HTTP connection between client &amp; server A. Suppose we take this approach. Not going into the obvious problems of having a long lived request thread in server, there is another issue specific to this scenario. Request thread in server A needs to be notified when server B makes the callback.</p>\n<p><strong>Approach 1:</strong> We use some kind of queue as mentioned the other answer (I would keep the queue internal to A, but let's not get into that). And we use some message key so that the consumption happens in the same pod. We have API &amp; consumer both running in the same pod. That is achievable. But request thread &amp; consumer thread are different. Consumer thread somehow needs to notify request thread that result is available. So some inter-thread communication is required which only makes things complex. And it is not responsibility of a queue. So I would discard this approach.</p>\n<p>Someone can ask, can request thread directly listens for some message with specific key. I don't think so. For the argument's sake, there are some queue technologies where you can do that. But you are essentially having ephemeral consumer &amp; separate partition for each key which won't scale. Listening for all messages &amp; ignoring all but one in the ephemeral consumer is not a viable solution either.</p>\n<p><strong>Approach 2:</strong> From approach 1, we understood that request thread needs to be notified when server B sends the callback. That would make the flow whole lot complex &amp; you would need additional components like ZooKeeper to do the distributed locking or watching on some change. Instead of doing that, we can simply extend our current system to do server side polling. It shouldn't have any noticeable difference in response time as we are already doing client side polling. We are just moving it to server side. Also, anyways we would have to maintain long running request thread in server A whether we built distributed notification or server polling. The flow would look like:</p>\n<ul>\n<li>Client calls server A.</li>\n<li>Server A request thread makes a HTTP call to server B.</li>\n<li>Server B starts background processing &amp; returns HTTP response immediately to A.</li>\n<li>Request thread in A starts a loop checking in cache server if key is available every 500ms.</li>\n<li>B processes the result &amp; makes HTTP callback to A.</li>\n<li>callback thread in A caches the result against same key.</li>\n<li>Original A request thread reads the value from cache &amp; returns the response to client.</li>\n</ul>\n<p>Original request thread would be sleeping for 500ms before making next cache call. So other threads would be able to utilize the time. Also cache get by key is super fast &amp; you won't have any scalability issue there.</p>\n<p>But you will exhaust your request threads quicker if you maintain long running HTTP connection from client. So you will need more A pods to handle same request rate. I would still recommend to talk to the client team &amp; make the necessary changes there so that short lived connection (same as your current flow) is used.</p>\n"}],"owner":{"account_id":4013092,"reputation":2396,"user_id":3305978,"accept_rate":83,"display_name":"anwerj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":74503580,"answer_count":2,"score":6,"last_activity_date":1669487780,"creation_date":1668868350,"question_id":74500889,"body_markdown":"My use case is to serve response of an HTTP request after receiving another request from separate server.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n1. I want to do this best possible way keeping scaling in mind.\r\n2. We are using Golang 1.19 with Gin Framework.\r\n3. Server will have multiple pods thus channels will not work.\r\n4. There will be timeouts for all request making initial request timed out after 60 seconds.\r\n\r\nMy current solution is to use a shared cache where each pod will keep checking the cache. I believe, I can optimize this with channels where rather than checking in cache one by one, system periodically checks for any completed response.\r\n\r\nI would also like to know how it could have been achieved in other programming languages. \r\n\r\nPS: This is design based query, I have some reputation here to share bounty thus asking here. Please feel free to edit if question is not clear.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CHQX1.png","title":"Serve response of an HTTP request after receiving another request","body":"<p>My use case is to serve response of an HTTP request after receiving another request from separate server.</p>\n<p><a href=\"https://i.stack.imgur.com/CHQX1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CHQX1.png\" alt=\"enter image description here\" /></a></p>\n<ol>\n<li>I want to do this best possible way keeping scaling in mind.</li>\n<li>We are using Golang 1.19 with Gin Framework.</li>\n<li>Server will have multiple pods thus channels will not work.</li>\n<li>There will be timeouts for all request making initial request timed out after 60 seconds.</li>\n</ol>\n<p>My current solution is to use a shared cache where each pod will keep checking the cache. I believe, I can optimize this with channels where rather than checking in cache one by one, system periodically checks for any completed response.</p>\n<p>I would also like to know how it could have been achieved in other programming languages.</p>\n<p>PS: This is design based query, I have some reputation here to share bounty thus asking here. Please feel free to edit if question is not clear.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669486988,"creation_date":1669486988,"answer_id":74584630,"question_id":74584116,"body_markdown":"As the readme file of the [github repo][1] of sqlite-asset-helper states:\r\n\r\n&gt; An Android helper class to manage database creation and version management using an application&#39;s raw asset files.\r\n\r\nMeaning, only the creation and version management of the database itself can be handled with it. It doesn&#39;t provide functionality to load or retrieve data.\r\n\r\nYou should use another library, not only because of this. The last change of the library was made 9 years ago and **the library is no longer maintained**.\r\n\r\nAndroid itself already provides a library to work with SQLite Databases in `android.database.sqlite`. A extensive explanation of how to use this library can be found in [this article][2]. The [official documentation][3] is also worth a read.\r\n\r\n\r\n  [1]: https://github.com/jgilfelt/android-sqlite-asset-helper#this-project-is-no-longer-maintained\r\n\r\n  [2]: https://www.digitalocean.com/community/tutorials/android-sqlite-database-example-tutorial\r\n\r\n  [3]: https://developer.android.com/training/data-storage/sqlite#java","title":"How to add data to .db file?","body":"<p>As the readme file of the <a href=\"https://github.com/jgilfelt/android-sqlite-asset-helper#this-project-is-no-longer-maintained\" rel=\"nofollow noreferrer\">github repo</a> of sqlite-asset-helper states:</p>\n<blockquote>\n<p>An Android helper class to manage database creation and version management using an application's raw asset files.</p>\n</blockquote>\n<p>Meaning, only the creation and version management of the database itself can be handled with it. It doesn't provide functionality to load or retrieve data.</p>\n<p>You should use another library, not only because of this. The last change of the library was made 9 years ago and <strong>the library is no longer maintained</strong>.</p>\n<p>Android itself already provides a library to work with SQLite Databases in <code>android.database.sqlite</code>. A extensive explanation of how to use this library can be found in <a href=\"https://www.digitalocean.com/community/tutorials/android-sqlite-database-example-tutorial\" rel=\"nofollow noreferrer\">this article</a>. The <a href=\"https://developer.android.com/training/data-storage/sqlite#java\" rel=\"nofollow noreferrer\">official documentation</a> is also worth a read.</p>\n"}],"owner":{"account_id":26785242,"reputation":9,"user_id":20379528,"display_name":"James Black"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669486988,"creation_date":1669482308,"question_id":74584116,"body_markdown":"I use sqliteassethelper to retrieve the data, but I don&#39;t know how to import the data into that database, it&#39;s stored in assets/databases/...how should I search them with keywords?\r\n\r\nShould I create a new sql management java file or use it with the declared file sqliteassethelper? My .db file already has a table that I can import data into","title":"How to add data to .db file?","body":"<p>I use sqliteassethelper to retrieve the data, but I don't know how to import the data into that database, it's stored in assets/databases/...how should I search them with keywords?</p>\n<p>Should I create a new sql management java file or use it with the declared file sqliteassethelper? My .db file already has a table that I can import data into</p>\n"},{"tags":["java","netbeans","linked-list"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1669485773,"post_id":74584483,"comment_id":131653164,"body_markdown":"`rs.next()` is true if the ResultSet has a valid row available, meaning the database query returned something. If the user name and password matches, then this will occur. Otherwise the ResultSet will be empty and `rs.next()` will return false.","body":"<code>rs.next()</code> is true if the ResultSet has a valid row available, meaning the database query returned something. If the user name and password matches, then this will occur. Otherwise the ResultSet will be empty and <code>rs.next()</code> will return false."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1669485777,"post_id":74584483,"comment_id":131653165,"body_markdown":"&quot;*`String sql = &quot;SELECT * FROM akun WHERE username=&#39;&quot; + username + &quot;&#39; and password=&#39;&quot; + password + &quot;&#39;&quot;`*&quot; - I recommend studying this query.","body":"&quot;<i><code>String sql = &quot;SELECT * FROM akun WHERE username=&#39;&quot; + username + &quot;&#39; and password=&#39;&quot; + password + &quot;&#39;&quot;</code></i>&quot; - I recommend studying this query."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1669485791,"post_id":74584483,"comment_id":131653172,"body_markdown":"It doesn&#39;t need to compare anything. The query is selecting all rows of a table that contain the username and password that the user entered. If that query returns any results at all, the username and password exist in the database in the same row.","body":"It doesn&#39;t need to compare anything. The query is selecting all rows of a table that contain the username and password that the user entered. If that query returns any results at all, the username and password exist in the database in the same row."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1669485851,"post_id":74584483,"comment_id":131653186,"body_markdown":"Strong suggestion: don&#39;t use YouTube videos to learn key programming concepts. Use decent tutorials, books or coursework to do this.","body":"Strong suggestion: don&#39;t use YouTube videos to learn key programming concepts. Use decent tutorials, books or coursework to do this."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1669485860,"post_id":74584483,"comment_id":131653187,"body_markdown":"As an aside: I really, really, REALLY hope that this code is not part of any production system. It seems to store password in clear text.","body":"As an aside: I really, really, REALLY hope that this code is not part of any production system. It seems to store password in clear text."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669486217,"post_id":74584483,"comment_id":131653244,"body_markdown":"Another aside: there does not seem to be any sanitization, this means the implementation is prone to SQL injection. This, together with the fact that passwords are stored in clear text is a recipe for a password dump.","body":"Another aside: there does not seem to be any sanitization, this means the implementation is prone to SQL injection. This, together with the fact that passwords are stored in clear text is a recipe for a password dump."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669487024,"post_id":74584483,"comment_id":131653402,"body_markdown":"You&#39;re probably better off using a [`CardLayout`](https://technojeeves.com/index.php/aliasjava1/64-java-login-with-cardlayout)","body":"You&#39;re probably better off using a <a href=\"https://technojeeves.com/index.php/aliasjava1/64-java-login-with-cardlayout\" rel=\"nofollow noreferrer\"><code>CardLayout</code></a>"}],"owner":{"account_id":22606818,"reputation":21,"user_id":16787623,"display_name":"carlise"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669486370,"creation_date":1669485625,"question_id":74584483,"body_markdown":"soo i recently followed a tutorial on youtube about login form in java swing but connected with mysql. when the input ont the text field same with the data on the database(which is username and password ) it jump to another jform. but i dont understand something, the code is listed below.\r\n\r\n    private void loginbuttonActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            String dataBase = &quot;jdbc:mysql://localhost/laundry_akun&quot;;\r\n            String dbUsername = &quot;root&quot;;\r\n            String dbPassword = &quot;&quot;;\r\n            Connection con = DriverManager.getConnection(dataBase,dbUsername,dbPassword);\r\n            \r\n            String username = username_textfield.getText();\r\n            String password = password_textfield.getText();\r\n            \r\n            Statement st = con.createStatement();\r\n            String sql = &quot;SELECT * FROM akun WHERE username=&#39;&quot; + username + &quot;&#39; and password=&#39;&quot; + password + &quot;&#39;&quot;;\r\n            ResultSet rs = st.executeQuery(sql);\r\n            \r\n            if(rs.next()){\r\n                dispose();\r\n                testpage tes = new testpage();\r\n                tes.show();\r\n            }else{\r\n                JOptionPane.showMessageDialog(this, &quot;Username or Password Wrong&quot;);\r\n                username_textfield.setText(&quot;&quot;);\r\n                password_textfield.setText(&quot;&quot;);\r\n            }\r\n            \r\n            con.close();\r\n\r\n        }  catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }   \r\n\r\n**How can the linked list or &quot;rs.next&quot;** is detecting my input and then comparing it with the database? since there is no comparason like example &quot;rs.next==username_textfield.getText()&quot; inside the if ? im quite confused about this. also, *the code works just fine* but i just confused on how it works...","title":"how is this login form on java works without comparing String with the text input, how this code works?","body":"<p>soo i recently followed a tutorial on youtube about login form in java swing but connected with mysql. when the input ont the text field same with the data on the database(which is username and password ) it jump to another jform. but i dont understand something, the code is listed below.</p>\n<pre><code>private void loginbuttonActionPerformed(java.awt.event.ActionEvent evt) {                                            \n    try {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        String dataBase = &quot;jdbc:mysql://localhost/laundry_akun&quot;;\n        String dbUsername = &quot;root&quot;;\n        String dbPassword = &quot;&quot;;\n        Connection con = DriverManager.getConnection(dataBase,dbUsername,dbPassword);\n        \n        String username = username_textfield.getText();\n        String password = password_textfield.getText();\n        \n        Statement st = con.createStatement();\n        String sql = &quot;SELECT * FROM akun WHERE username='&quot; + username + &quot;' and password='&quot; + password + &quot;'&quot;;\n        ResultSet rs = st.executeQuery(sql);\n        \n        if(rs.next()){\n            dispose();\n            testpage tes = new testpage();\n            tes.show();\n        }else{\n            JOptionPane.showMessageDialog(this, &quot;Username or Password Wrong&quot;);\n            username_textfield.setText(&quot;&quot;);\n            password_textfield.setText(&quot;&quot;);\n        }\n        \n        con.close();\n\n    }  catch (Exception e) {\n        System.out.println(e.getMessage());\n    }\n}   \n</code></pre>\n<p><strong>How can the linked list or &quot;rs.next&quot;</strong> is detecting my input and then comparing it with the database? since there is no comparason like example &quot;rs.next==username_textfield.getText()&quot; inside the if ? im quite confused about this. also, <em>the code works just fine</em> but i just confused on how it works...</p>\n"},{"tags":["java","json","apache-kafka","jackson","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1669479090,"post_id":74578991,"comment_id":131651752,"body_markdown":"Have you added Jackson databind to your dependencies?","body":"Have you added Jackson databind to your dependencies?"},{"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"score":0,"creation_date":1669482359,"post_id":74578991,"comment_id":131652484,"body_markdown":"yes i have @OneCricketeer","body":"yes i have @OneCricketeer"}],"answers":[{"comments":[{"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"score":0,"creation_date":1669483839,"post_id":74584273,"comment_id":131652786,"body_markdown":"I updated the question with my dependencies","body":"I updated the question with my dependencies"},{"owner":{"account_id":170897,"reputation":1391,"user_id":397940,"accept_rate":66,"display_name":"panza"},"score":0,"creation_date":1669483946,"post_id":74584273,"comment_id":131652799,"body_markdown":"I do not see the dependencies I listed, does that make a difference? Can you add them?","body":"I do not see the dependencies I listed, does that make a difference? Can you add them?"},{"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"score":0,"creation_date":1669484531,"post_id":74584273,"comment_id":131652898,"body_markdown":"I added it but it still gives an error I added it to the question as &quot;new error&quot;","body":"I added it but it still gives an error I added it to the question as &quot;new error&quot;"},{"owner":{"account_id":170897,"reputation":1391,"user_id":397940,"accept_rate":66,"display_name":"panza"},"score":0,"creation_date":1669484743,"post_id":74584273,"comment_id":131652928,"body_markdown":"Out of curiosity, how does it look like your Kafka Config class, something similar to this? https://github.com/lokeshgupta1981/Kafka-Tutorials/blob/master/spring-kafka-java-config/src/main/java/com/howtodoinjava/kafka/demo/config/KafkaConsumerConfig.java You shared what it seems to be your service, rather than the consumer config class.","body":"Out of curiosity, how does it look like your Kafka Config class, something similar to this? <a href=\"https://github.com/lokeshgupta1981/Kafka-Tutorials/blob/master/spring-kafka-java-config/src/main/java/com/howtodoinjava/kafka/demo/config/KafkaConsumerConfig.java\" rel=\"nofollow noreferrer\">github.com/lokeshgupta1981/Kafka-Tutorials/blob/master/&hellip;</a> You shared what it seems to be your service, rather than the consumer config class."},{"owner":{"account_id":170897,"reputation":1391,"user_id":397940,"accept_rate":66,"display_name":"panza"},"score":0,"creation_date":1669484947,"post_id":74584273,"comment_id":131652968,"body_markdown":"Also, it seems to complain now about your Invoice model class: ```Caused by: java.lang.ClassNotFoundException: com.example.Invoice``` can you share that too?","body":"Also, it seems to complain now about your Invoice model class: <code>Caused by: java.lang.ClassNotFoundException: com.example.Invoice</code> can you share that too?"},{"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"score":0,"creation_date":1669484949,"post_id":74584273,"comment_id":131652970,"body_markdown":"I don&#39;t have any configuration class","body":"I don&#39;t have any configuration class"},{"owner":{"account_id":170897,"reputation":1391,"user_id":397940,"accept_rate":66,"display_name":"panza"},"score":0,"creation_date":1669485291,"post_id":74584273,"comment_id":131653046,"body_markdown":"I have added an example config class. See the github repository I have shared, that has a basic demo for setting up a consumer and producer. See if it helper","body":"I have added an example config class. See the github repository I have shared, that has a basic demo for setting up a consumer and producer. See if it helper"},{"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"score":1,"creation_date":1669486222,"post_id":74584273,"comment_id":131653248,"body_markdown":"I&#39;ll see later then I&#39;ll give you feedback","body":"I&#39;ll see later then I&#39;ll give you feedback"},{"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"score":0,"creation_date":1669498183,"post_id":74584273,"comment_id":131655449,"body_markdown":"This documentation does not talk about creating a configuration class https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#messaging.kafka","body":"This documentation does not talk about creating a configuration class <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#messaging.kafka\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":170897,"reputation":1391,"user_id":397940,"accept_rate":66,"display_name":"panza"},"score":0,"creation_date":1669501311,"post_id":74584273,"comment_id":131655982,"body_markdown":"I think you need to rather look into this: https://docs.spring.io/spring-kafka/reference/html/","body":"I think you need to rather look into this: <a href=\"https://docs.spring.io/spring-kafka/reference/html/\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/reference/html</a>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1669559989,"post_id":74584273,"comment_id":131663862,"body_markdown":"A config class isn&#39;t necessary. Spring boot will automatically initialize one","body":"A config class isn&#39;t necessary. Spring boot will automatically initialize one"},{"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"score":0,"creation_date":1669758182,"post_id":74584273,"comment_id":131714786,"body_markdown":"Does it not work because the producer is in a microservice and the consumer is in another. Receive as a string on the consumer I can","body":"Does it not work because the producer is in a microservice and the consumer is in another. Receive as a string on the consumer I can"},{"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"score":0,"creation_date":1669758650,"post_id":74584273,"comment_id":131714906,"body_markdown":"Caused by: java.lang.ClassNotFoundException: com.example.usercreate.dto.AddressUserDto usercreate is the microservice producer","body":"Caused by: java.lang.ClassNotFoundException: com.example.usercreate.dto.AddressUserDto usercreate is the microservice producer"}],"tags":[],"owner":{"account_id":170897,"reputation":1391,"user_id":397940,"accept_rate":66,"display_name":"panza"},"comment_count":13,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669485241,"creation_date":1669483641,"answer_id":74584273,"question_id":74578991,"body_markdown":"It might be a version issue with your dependencies. Try adding the following:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCan you also share your full dependencies list? Your application properties look fine as well as the other info.\r\n\r\n**EDIT**\r\nAs the the latest error, I think we moved a bit further and I believe you are missing a configuration class. It will be pretty much like this:\r\n\r\n    @EnableKafka\r\n    @Configuration\r\n    public class KafkaConsumerConfig {\r\n    \r\n        @Bean\r\n        public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n            Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n            props.put(\r\n              ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, \r\n              bootstrapAddress);\r\n            props.put(\r\n              ConsumerConfig.GROUP_ID_CONFIG, \r\n              groupId);\r\n            props.put(\r\n              ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, \r\n              StringDeserializer.class);\r\n            props.put(\r\n              ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, \r\n              StringDeserializer.class);\r\n            return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n        }","title":"How to configure JsonDeserializer in consumer kafka","body":"<p>It might be a version issue with your dependencies. Try adding the following:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Can you also share your full dependencies list? Your application properties look fine as well as the other info.</p>\n<p><strong>EDIT</strong>\nAs the the latest error, I think we moved a bit further and I believe you are missing a configuration class. It will be pretty much like this:</p>\n<pre><code>@EnableKafka\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(\n          ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, \n          bootstrapAddress);\n        props.put(\n          ConsumerConfig.GROUP_ID_CONFIG, \n          groupId);\n        props.put(\n          ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, \n          StringDeserializer.class);\n        props.put(\n          ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, \n          StringDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n</code></pre>\n"}],"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1768,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669485241,"creation_date":1669424529,"question_id":74578991,"body_markdown":"How to configure JsonDeserializer in consumer kafka\r\n\r\nI can do JsonSerializer in producer and pass an object but I wanted to do the same in consumer with JsonDeserializer but I&#39;m getting an error\r\n\r\n    Application run failed\r\n    \r\n    org.springframework.context.ApplicationContextException: Failed to start bean &#39;org.springframework.kafka.config.internalKafkaListenerEndpointRegistry&#39;; nested exception is org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\r\n    \tat com.example.userinsert.UserInsertApplication.main(UserInsertApplication.java:10) ~[classes/:na]\r\n    Caused by: org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:823) ~[kafka-clients-3.1.2.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:664) ~[kafka-clients-3.1.2.jar:na]\r\n    \tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createRawConsumer(DefaultKafkaConsumerFactory.java:483) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:451) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumerWithAdjustedProperties(DefaultKafkaConsumerFactory.java:427) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:394) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumer(DefaultKafkaConsumerFactory.java:371) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.&lt;init&gt;(KafkaMessageListenerContainer.java:795) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer.doStart(KafkaMessageListenerContainer.java:363) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:461) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.listener.ConcurrentMessageListenerContainer.doStart(ConcurrentMessageListenerContainer.java:209) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:461) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.config.KafkaListenerEndpointRegistry.startIfNecessary(KafkaListenerEndpointRegistry.java:383) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.config.KafkaListenerEndpointRegistry.start(KafkaListenerEndpointRegistry.java:328) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \t... 13 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/JavaType\r\n    \tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3373) ~[na:na]\r\n    \tat java.base/java.lang.Class.getConstructor0(Class.java:3578) ~[na:na]\r\n    \tat java.base/java.lang.Class.getDeclaredConstructor(Class.java:2754) ~[na:na]\r\n    \tat org.apache.kafka.common.utils.Utils.newInstance(Utils.java:392) ~[kafka-clients-3.1.2.jar:na]\r\n    \tat org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:399) ~[kafka-clients-3.1.2.jar:na]\r\n    \tat org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:434) ~[kafka-clients-3.1.2.jar:na]\r\n    \tat org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:419) ~[kafka-clients-3.1.2.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:715) ~[kafka-clients-3.1.2.jar:na]\r\n    \t... 27 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.JavaType\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    \t... 36 common frames omitted\r\n\r\nThe producer configuration:\r\n\r\n    spring.kafka.producer.bootstrap-servers=localhost:9092\r\n    spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n    #spring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n    spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\r\n\r\nMy class:\r\n\r\n    @Autowired\r\n    private KafkaTemplate&lt;String, Object&gt; kafkaTemplate;\r\n    \r\n    @Override\r\n    public void createKfaka(Object object) \r\n    {\r\n        logger.info(String.format(&quot;Message sent -&gt; %s&quot;, object.toString()));\r\n        this.kafkaTemplate.send(&quot;user&quot;, object);\r\n    \r\n    }\r\n\r\nThe consumer configuration:\r\n\r\n    spring.kafka.consumer.bootstrap-servers=localhost:9092\r\n    spring.kafka.consumer.auto-offset-reset=earliest\r\n    spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n    spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer\r\n    spring.kafka.consumer.properties[spring.json.value.default.type]=com.example.Invoice\r\n    spring.kafka.consumer.properties[spring.json.trusted.packages]=*\r\n    spring.kafka.consumer.group-id=users\r\n\r\nMy class:\r\n\r\n    @Override\r\n    @KafkaListener(topics = &quot;user&quot; , groupId = &quot;users&quot;)\r\n    public void consume(Object message) \r\n    {\r\n        logger.info(String.format(&quot;Message recieved -&gt; %s&quot;, message));\r\n        //mongoTemplate.insert(message, &quot;user&quot;);\r\n        \r\n    }\r\n\r\nMy dependencies:\r\n\t\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\n\r\nNew error:\r\n\r\n    Application run failed\r\n    \r\n    org.springframework.context.ApplicationContextException: Failed to start bean &#39;org.springframework.kafka.config.internalKafkaListenerEndpointRegistry&#39;; nested exception is org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\r\n    \tat com.example.userinsert.UserInsertApplication.main(UserInsertApplication.java:10) ~[classes/:na]\r\n    Caused by: org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:823) ~[kafka-clients-3.1.2.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:664) ~[kafka-clients-3.1.2.jar:na]\r\n    \tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createRawConsumer(DefaultKafkaConsumerFactory.java:483) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:451) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumerWithAdjustedProperties(DefaultKafkaConsumerFactory.java:427) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:394) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumer(DefaultKafkaConsumerFactory.java:371) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.&lt;init&gt;(KafkaMessageListenerContainer.java:795) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer.doStart(KafkaMessageListenerContainer.java:363) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:461) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.listener.ConcurrentMessageListenerContainer.doStart(ConcurrentMessageListenerContainer.java:209) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:461) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.config.KafkaListenerEndpointRegistry.startIfNecessary(KafkaListenerEndpointRegistry.java:383) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.config.KafkaListenerEndpointRegistry.start(KafkaListenerEndpointRegistry.java:328) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \t... 13 common frames omitted\r\n    Caused by: java.lang.IllegalStateException: java.lang.ClassNotFoundException: com.example.Invoice\r\n    \tat org.springframework.kafka.support.serializer.JsonDeserializer.setupTarget(JsonDeserializer.java:491) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.support.serializer.JsonDeserializer.configure(JsonDeserializer.java:410) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:716) ~[kafka-clients-3.1.2.jar:na]\r\n    \t... 27 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: com.example.Invoice\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    \tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\r\n    \tat org.springframework.util.ClassUtils.forName(ClassUtils.java:284) ~[spring-core-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.kafka.support.serializer.JsonDeserializer.setupTargetType(JsonDeserializer.java:515) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \tat org.springframework.kafka.support.serializer.JsonDeserializer.setupTarget(JsonDeserializer.java:483) ~[spring-kafka-2.9.1.jar:2.9.1]\r\n    \t... 29 common frames omitted\r\n\r\nDoes anyone have any ideas on how to resolve this error?\r\n","title":"How to configure JsonDeserializer in consumer kafka","body":"<p>How to configure JsonDeserializer in consumer kafka</p>\n<p>I can do JsonSerializer in producer and pass an object but I wanted to do the same in consumer with JsonDeserializer but I'm getting an error</p>\n<pre><code>Application run failed\n\norg.springframework.context.ApplicationContextException: Failed to start bean 'org.springframework.kafka.config.internalKafkaListenerEndpointRegistry'; nested exception is org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.23.jar:5.3.23]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\n    at com.example.userinsert.UserInsertApplication.main(UserInsertApplication.java:10) ~[classes/:na]\nCaused by: org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:823) ~[kafka-clients-3.1.2.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:664) ~[kafka-clients-3.1.2.jar:na]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createRawConsumer(DefaultKafkaConsumerFactory.java:483) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:451) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumerWithAdjustedProperties(DefaultKafkaConsumerFactory.java:427) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:394) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumer(DefaultKafkaConsumerFactory.java:371) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.&lt;init&gt;(KafkaMessageListenerContainer.java:795) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer.doStart(KafkaMessageListenerContainer.java:363) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:461) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.listener.ConcurrentMessageListenerContainer.doStart(ConcurrentMessageListenerContainer.java:209) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:461) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.config.KafkaListenerEndpointRegistry.startIfNecessary(KafkaListenerEndpointRegistry.java:383) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.config.KafkaListenerEndpointRegistry.start(KafkaListenerEndpointRegistry.java:328) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.23.jar:5.3.23]\n    ... 13 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/JavaType\n    at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3373) ~[na:na]\n    at java.base/java.lang.Class.getConstructor0(Class.java:3578) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2754) ~[na:na]\n    at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:392) ~[kafka-clients-3.1.2.jar:na]\n    at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:399) ~[kafka-clients-3.1.2.jar:na]\n    at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:434) ~[kafka-clients-3.1.2.jar:na]\n    at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:419) ~[kafka-clients-3.1.2.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:715) ~[kafka-clients-3.1.2.jar:na]\n    ... 27 common frames omitted\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.JavaType\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 36 common frames omitted\n</code></pre>\n<p>The producer configuration:</p>\n<pre><code>spring.kafka.producer.bootstrap-servers=localhost:9092\nspring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\n#spring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer\nspring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\n</code></pre>\n<p>My class:</p>\n<pre><code>@Autowired\nprivate KafkaTemplate&lt;String, Object&gt; kafkaTemplate;\n\n@Override\npublic void createKfaka(Object object) \n{\n    logger.info(String.format(&quot;Message sent -&gt; %s&quot;, object.toString()));\n    this.kafkaTemplate.send(&quot;user&quot;, object);\n\n}\n</code></pre>\n<p>The consumer configuration:</p>\n<pre><code>spring.kafka.consumer.bootstrap-servers=localhost:9092\nspring.kafka.consumer.auto-offset-reset=earliest\nspring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer\nspring.kafka.consumer.properties[spring.json.value.default.type]=com.example.Invoice\nspring.kafka.consumer.properties[spring.json.trusted.packages]=*\nspring.kafka.consumer.group-id=users\n</code></pre>\n<p>My class:</p>\n<pre><code>@Override\n@KafkaListener(topics = &quot;user&quot; , groupId = &quot;users&quot;)\npublic void consume(Object message) \n{\n    logger.info(String.format(&quot;Message recieved -&gt; %s&quot;, message));\n    //mongoTemplate.insert(message, &quot;user&quot;);\n    \n}\n</code></pre>\n<p>My dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n            &lt;version&gt;2.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>New error:</p>\n<pre><code>Application run failed\n\norg.springframework.context.ApplicationContextException: Failed to start bean 'org.springframework.kafka.config.internalKafkaListenerEndpointRegistry'; nested exception is org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.23.jar:5.3.23]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\n    at com.example.userinsert.UserInsertApplication.main(UserInsertApplication.java:10) ~[classes/:na]\nCaused by: org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:823) ~[kafka-clients-3.1.2.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:664) ~[kafka-clients-3.1.2.jar:na]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createRawConsumer(DefaultKafkaConsumerFactory.java:483) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:451) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumerWithAdjustedProperties(DefaultKafkaConsumerFactory.java:427) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createKafkaConsumer(DefaultKafkaConsumerFactory.java:394) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.core.DefaultKafkaConsumerFactory.createConsumer(DefaultKafkaConsumerFactory.java:371) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.&lt;init&gt;(KafkaMessageListenerContainer.java:795) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer.doStart(KafkaMessageListenerContainer.java:363) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:461) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.listener.ConcurrentMessageListenerContainer.doStart(ConcurrentMessageListenerContainer.java:209) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.listener.AbstractMessageListenerContainer.start(AbstractMessageListenerContainer.java:461) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.config.KafkaListenerEndpointRegistry.startIfNecessary(KafkaListenerEndpointRegistry.java:383) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.config.KafkaListenerEndpointRegistry.start(KafkaListenerEndpointRegistry.java:328) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.23.jar:5.3.23]\n    ... 13 common frames omitted\nCaused by: java.lang.IllegalStateException: java.lang.ClassNotFoundException: com.example.Invoice\n    at org.springframework.kafka.support.serializer.JsonDeserializer.setupTarget(JsonDeserializer.java:491) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.support.serializer.JsonDeserializer.configure(JsonDeserializer.java:410) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:716) ~[kafka-clients-3.1.2.jar:na]\n    ... 27 common frames omitted\nCaused by: java.lang.ClassNotFoundException: com.example.Invoice\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\n    at org.springframework.util.ClassUtils.forName(ClassUtils.java:284) ~[spring-core-5.3.23.jar:5.3.23]\n    at org.springframework.kafka.support.serializer.JsonDeserializer.setupTargetType(JsonDeserializer.java:515) ~[spring-kafka-2.9.1.jar:2.9.1]\n    at org.springframework.kafka.support.serializer.JsonDeserializer.setupTarget(JsonDeserializer.java:483) ~[spring-kafka-2.9.1.jar:2.9.1]\n    ... 29 common frames omitted\n</code></pre>\n<p>Does anyone have any ideas on how to resolve this error?</p>\n"},{"tags":["java","android","textview","line-count"],"answers":[{"comments":[{"owner":{"account_id":11462096,"reputation":15,"user_id":8401453,"display_name":"Nacho Novoa Mayo"},"score":0,"creation_date":1669478282,"post_id":74575635,"comment_id":131651575,"body_markdown":"Oh I did not know of the FlowLayout - still pretty new in Java! I will give it a go with the flow layout!\nThe sentence I have there is just an example but in theory the sentence will change every time, any idea of how I could I generate TextViews within the FlowLayout? Would you recommend a RecyclerView for that?\n thanks a lot!","body":"Oh I did not know of the FlowLayout - still pretty new in Java! I will give it a go with the flow layout! The sentence I have there is just an example but in theory the sentence will change every time, any idea of how I could I generate TextViews within the FlowLayout? Would you recommend a RecyclerView for that?  thanks a lot!"}],"tags":[],"owner":{"account_id":1197390,"reputation":1157,"user_id":4467687,"display_name":"Crispert"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669485193,"creation_date":1669393938,"answer_id":74575635,"question_id":74573952,"body_markdown":"It might be because of the definition of [TextView.getLineCount()][1]\r\n\r\n    public int getLineCount() {\r\n        return mLayout != null ? mLayout.getLineCount() : 0;\r\n    }\r\n\r\nif mLayout is a [BoringLayout][2] then getLineCount() always returns 1.\r\nTo use a different kind of text layout (DynamicLayout) that actually computes its line count, you could try either to make the text selectable by calling setTextIsSelectable  or set a Spannable instead of a CharSequence in the TextView (see [makeSingleLayout][3]).\r\n\r\nI agree with your sentence and this is not the best solution for your use case for which you might get less trouble by using something like a [FlowLayout][4] instead of the LinearLayouts and placing each word inside a separate TextView.\r\n\r\n---\r\nEdit to answer questions in comment \r\n\r\n1. After adding the FlowLayout to the activity&#39;s layout xml you can create the TextViews for the words in the sentence dynamically:\r\n\r\n```\r\n    // in onCreate()\r\n    FlowLayout flowLayout = findViewById(R.id.flow_id);\r\n\r\n    String[] words = sentence.split(&quot; &quot;);\r\n    TextView wordText;\r\n    for (int i = 0; i &lt; words.length; i++) {\r\n        String word = words[i];\r\n        //if an edit text is needed for user input\r\n        if (i == keywordIndex) {\r\n           wordText = new EditText(this);\r\n           wordText.setHint(&quot;____&quot;); \r\n        } else {\r\n           wordText = new TextView(this);           \r\n           wordText.setText(word);\r\n        }\r\n        wordText.setTextColor(getResources()\r\n                                   .getColor(R.color.your_color));\r\n        wordText.setBackgroundColor(getResources()\r\n                                   .getColor(android.R.color.white));\r\n        flowLayout.add(wordText);\r\n    }\r\n\r\n```\r\n\r\n2. Yes, you could use a RecyclerView with a GridLayoutManager or StaggeredGridLayoutManager to layout the views for the sentence words but it would require creating a RecyclerView.Adapter. But I think the RecyclerView would be more suitable for displaying a vertical set of \r\nsentences (as FlowLayouts for example).\r\n\r\n\r\n\r\n  [1]: https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/widget/TextView.java;bpv=1;bpt=1;l=8433?q=TextView&amp;ss=android%2Fplatform%2Fsuperproject\r\n  [2]: \r\nhttps://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/text/BoringLayout.java;drc=849e933dd99026c9453bfa7386d07739674a56df;bpv=1;bpt=1;l=513?gsn=getLineCount&amp;gs=kythe%3A%2F%2Fandroid.googlesource.com%2Fplatform%2Fsuperproject%3Flang%3Djava%3Fpath%3Dandroid.text.BoringLayout%23a1600dee1c1c98e7c954f24637ca2855a9a16bbc93f921a0b9aa8432d21c8d98\r\n[3]:\r\nhttps://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/widget/TextView.java;drc=849e933dd99026c9453bfa7386d07739674a56df;l=9469?q=TextView&amp;ss=android%2Fplatform%2Fsuperproject\r\n[4]:\r\nhttps://github.com/ApmeM/android-flowlayout","title":"Separate second line of TextView into another TextView with Java","body":"<p>It might be because of the definition of <a href=\"https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/widget/TextView.java;bpv=1;bpt=1;l=8433?q=TextView&amp;ss=android%2Fplatform%2Fsuperproject\" rel=\"nofollow noreferrer\">TextView.getLineCount()</a></p>\n<pre><code>public int getLineCount() {\n    return mLayout != null ? mLayout.getLineCount() : 0;\n}\n</code></pre>\n<p>if mLayout is a <a href=\"https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/text/BoringLayout.java;drc=849e933dd99026c9453bfa7386d07739674a56df;bpv=1;bpt=1;l=513?gsn=getLineCount&amp;gs=kythe%3A%2F%2Fandroid.googlesource.com%2Fplatform%2Fsuperproject%3Flang%3Djava%3Fpath%3Dandroid.text.BoringLayout%23a1600dee1c1c98e7c954f24637ca2855a9a16bbc93f921a0b9aa8432d21c8d98\" rel=\"nofollow noreferrer\">BoringLayout</a> then getLineCount() always returns 1.\nTo use a different kind of text layout (DynamicLayout) that actually computes its line count, you could try either to make the text selectable by calling setTextIsSelectable  or set a Spannable instead of a CharSequence in the TextView (see <a href=\"https://cs.android.com/android/platform/superproject/+/master:frameworks/base/core/java/android/widget/TextView.java;drc=849e933dd99026c9453bfa7386d07739674a56df;l=9469?q=TextView&amp;ss=android%2Fplatform%2Fsuperproject\" rel=\"nofollow noreferrer\">makeSingleLayout</a>).</p>\n<p>I agree with your sentence and this is not the best solution for your use case for which you might get less trouble by using something like a <a href=\"https://github.com/ApmeM/android-flowlayout\" rel=\"nofollow noreferrer\">FlowLayout</a> instead of the LinearLayouts and placing each word inside a separate TextView.</p>\n<hr />\n<p>Edit to answer questions in comment</p>\n<ol>\n<li>After adding the FlowLayout to the activity's layout xml you can create the TextViews for the words in the sentence dynamically:</li>\n</ol>\n<pre><code>    // in onCreate()\n    FlowLayout flowLayout = findViewById(R.id.flow_id);\n\n    String[] words = sentence.split(&quot; &quot;);\n    TextView wordText;\n    for (int i = 0; i &lt; words.length; i++) {\n        String word = words[i];\n        //if an edit text is needed for user input\n        if (i == keywordIndex) {\n           wordText = new EditText(this);\n           wordText.setHint(&quot;____&quot;); \n        } else {\n           wordText = new TextView(this);           \n           wordText.setText(word);\n        }\n        wordText.setTextColor(getResources()\n                                   .getColor(R.color.your_color));\n        wordText.setBackgroundColor(getResources()\n                                   .getColor(android.R.color.white));\n        flowLayout.add(wordText);\n    }\n\n</code></pre>\n<ol start=\"2\">\n<li>Yes, you could use a RecyclerView with a GridLayoutManager or StaggeredGridLayoutManager to layout the views for the sentence words but it would require creating a RecyclerView.Adapter. But I think the RecyclerView would be more suitable for displaying a vertical set of\nsentences (as FlowLayouts for example).</li>\n</ol>\n"}],"owner":{"account_id":11462096,"reputation":15,"user_id":8401453,"display_name":"Nacho Novoa Mayo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74575635,"answer_count":1,"score":1,"last_activity_date":1669485193,"creation_date":1669384912,"question_id":74573952,"body_markdown":"I&#39;m trying to create a fill the gap game in Android Studio with Java, for that I&#39;m taking a sentence, separating the keyword (to fill by the user) from the String, and adding the Strings as follow in a horizontal LinearLayout (within a vertical Layout):\r\n\r\nTextView before keyword + TextView keyword + TextView after keyword\r\n\r\nIn a different LinearLayout below I have a following TextView (TextView Line3) making a second line with the same width as the horizontal LinearLayout above. -- Something like a line 2\r\n\r\nAs TextView after keyword is too long and makes a second line starting after the &quot;TextView keyword&quot;, I want to take what goes to the second line of &quot;TextView after keyword&quot; and move it to &quot;TextView Line3&quot;.\r\n\r\nThe problem is that it keeps saying there is only 1 line and &quot;TextView after keyword&quot; displays two\r\n\r\n\r\nI defined them as such:\r\n\r\n```\r\nprivate TextView firstSentence, secondSentence, thirdSentence;\r\npublic TextView answerText;\r\n\r\nprivate String sentence = &quot;I do not like anyone in this world of idiots&quot;;\r\n\r\nprivate boolean newLineBoolean = true;\r\nprivate String keyword = &quot;like&quot;;\r\nprivate String[] sentenceDivision;\r\n\r\nprivate String displayForKeyword = &quot;&quot;;\r\nprivate String thirdLine = &quot;&quot;;\r\n```\r\n\r\n\r\nthis in onCreate\r\n\r\n```\r\nanswerText = findViewById(R.id.answerPlace);\r\n\r\nfirstSentence = findViewById(R.id.firstSentence);\r\nsecondSentence = findViewById(R.id.secondSentence);\r\nthirdSentence = findViewById(R.id.thirdSentence);\r\n\r\n\r\nsentenceDivision = sentence.split(keyword);\r\nfirstSentence.setText(sentenceDivision[0]);\r\nsecondSentence.setText(sentenceDivision[1]);\r\n\r\n\r\nfor(int i = 0; i&lt;keyword.length();i++)\r\n{\r\n    displayForKeyword = displayForKeyword + &quot;   &quot;;\r\n}\r\nanswerText.setText(displayForKeyword);\r\ncheckNumberOfLines();\r\n```\r\n\r\nAnd this method\r\n\r\n```\r\nprivate void checkNumberOfLines(){\r\n\r\n    String firstWords = sentenceDivision[1].substring(0, sentenceDivision[1].lastIndexOf(&quot; &quot;));\r\n    String lastWord = sentenceDivision[1].substring(sentenceDivision[1].lastIndexOf(&quot; &quot;) + 1);\r\n    sentenceDivision[1] = firstWords;\r\n    thirdLine = lastWord + &quot; &quot; + thirdLine;\r\n    secondSentence.setText(sentenceDivision[1]);\r\n    thirdSentence.setText(thirdLine);\r\n\r\n    secondSentence.post(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            int lineCount = secondSentence.getLineCount();\r\n            if (lineCount &gt; 0) {\r\n                checkNumberOfLines();\r\n            }\r\n            else{ newLineBoolean = false;\r\n            }\r\n        }\r\n    });\r\n\r\n}\r\n```\r\n\r\nBut it displays as follows:\r\n\r\n[enter image description here](https://i.stack.imgur.com/fjgUG.png)\r\n\r\nDoes someone know why? Thanks in advance!","title":"Separate second line of TextView into another TextView with Java","body":"<p>I'm trying to create a fill the gap game in Android Studio with Java, for that I'm taking a sentence, separating the keyword (to fill by the user) from the String, and adding the Strings as follow in a horizontal LinearLayout (within a vertical Layout):</p>\n<p>TextView before keyword + TextView keyword + TextView after keyword</p>\n<p>In a different LinearLayout below I have a following TextView (TextView Line3) making a second line with the same width as the horizontal LinearLayout above. -- Something like a line 2</p>\n<p>As TextView after keyword is too long and makes a second line starting after the &quot;TextView keyword&quot;, I want to take what goes to the second line of &quot;TextView after keyword&quot; and move it to &quot;TextView Line3&quot;.</p>\n<p>The problem is that it keeps saying there is only 1 line and &quot;TextView after keyword&quot; displays two</p>\n<p>I defined them as such:</p>\n<pre><code>private TextView firstSentence, secondSentence, thirdSentence;\npublic TextView answerText;\n\nprivate String sentence = &quot;I do not like anyone in this world of idiots&quot;;\n\nprivate boolean newLineBoolean = true;\nprivate String keyword = &quot;like&quot;;\nprivate String[] sentenceDivision;\n\nprivate String displayForKeyword = &quot;&quot;;\nprivate String thirdLine = &quot;&quot;;\n</code></pre>\n<p>this in onCreate</p>\n<pre><code>answerText = findViewById(R.id.answerPlace);\n\nfirstSentence = findViewById(R.id.firstSentence);\nsecondSentence = findViewById(R.id.secondSentence);\nthirdSentence = findViewById(R.id.thirdSentence);\n\n\nsentenceDivision = sentence.split(keyword);\nfirstSentence.setText(sentenceDivision[0]);\nsecondSentence.setText(sentenceDivision[1]);\n\n\nfor(int i = 0; i&lt;keyword.length();i++)\n{\n    displayForKeyword = displayForKeyword + &quot;   &quot;;\n}\nanswerText.setText(displayForKeyword);\ncheckNumberOfLines();\n</code></pre>\n<p>And this method</p>\n<pre><code>private void checkNumberOfLines(){\n\n    String firstWords = sentenceDivision[1].substring(0, sentenceDivision[1].lastIndexOf(&quot; &quot;));\n    String lastWord = sentenceDivision[1].substring(sentenceDivision[1].lastIndexOf(&quot; &quot;) + 1);\n    sentenceDivision[1] = firstWords;\n    thirdLine = lastWord + &quot; &quot; + thirdLine;\n    secondSentence.setText(sentenceDivision[1]);\n    thirdSentence.setText(thirdLine);\n\n    secondSentence.post(new Runnable() {\n        @Override\n        public void run() {\n            int lineCount = secondSentence.getLineCount();\n            if (lineCount &gt; 0) {\n                checkNumberOfLines();\n            }\n            else{ newLineBoolean = false;\n            }\n        }\n    });\n\n}\n</code></pre>\n<p>But it displays as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/fjgUG.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Does someone know why? Thanks in advance!</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1669284674,"post_id":74558938,"comment_id":131611804,"body_markdown":"It doesn&#39;t commit it only flushes the pending changes to the database when doing a select.","body":"It doesn&#39;t commit it only flushes the pending changes to the database when doing a select."},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1669289780,"post_id":74558938,"comment_id":131613605,"body_markdown":"Indeed, the select will trigger the flush of pending update queries, but `save` isn&#39;t supposed to do it as well ?","body":"Indeed, the select will trigger the flush of pending update queries, but <code>save</code> isn&#39;t supposed to do it as well ?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669304559,"post_id":74558938,"comment_id":131618638,"body_markdown":"Why would save (merge/persist) do it? Flush is expensive and unnecessary most of the time. It is only required to be called immediately before the transaction commits, in a before completion event. It is also done automatically when queries that hit the database might need to see changes within the persistence context. Otherwise, JPA providers (mostly, as the spec doesn&#39;t require it) batch up changes as much as possible instead of flushing on each call. If a delete must be performed before other save operations occur, you need to force a flush to control the order of statements.","body":"Why would save (merge/persist) do it? Flush is expensive and unnecessary most of the time. It is only required to be called immediately before the transaction commits, in a before completion event. It is also done automatically when queries that hit the database might need to see changes within the persistence context. Otherwise, JPA providers (mostly, as the spec doesn&#39;t require it) batch up changes as much as possible instead of flushing on each call. If a delete must be performed before other save operations occur, you need to force a flush to control the order of statements."},{"owner":{"account_id":23998094,"reputation":1,"user_id":17983389,"display_name":"黃奕翔"},"score":0,"creation_date":1669340583,"post_id":74558938,"comment_id":131625879,"body_markdown":"Thanks for everyone&#39;s replies, it seems that if I want to use delete and save at the same time, I have to use flush after delete","body":"Thanks for everyone&#39;s replies, it seems that if I want to use delete and save at the same time, I have to use flush after delete"}],"answers":[{"tags":[],"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669483264,"creation_date":1669483264,"answer_id":74584227,"question_id":74558938,"body_markdown":"To add to what @Chris has already said, the order in which the operations are carried out is as follows (see [performExecutions(EventSource session)][1]):\r\n\r\n&gt; 1. Inserts, in the order they were performed\r\n&gt;\r\n&gt; 2. Updates\r\n&gt; \r\n&gt; 3. Deletion of collection elements\r\n&gt; \r\n&gt; 4. Insertion of collection elements\r\n&gt; \r\n&gt; 5. Deletes, in the order they were performed\r\n\r\n\r\nIf you want the data operation to be reflected immediately so that you can take into account the change. You must perform a flush and, as it is in a transaction, it can always be rolled back before it&#39;s committed.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.1/javadocs/org/hibernate/event/internal/AbstractFlushingEventListener.html#performExecutions(org.hibernate.event.spi.EventSource)","title":"Why use jpa findall will cause transaction commit first","body":"<p>To add to what @Chris has already said, the order in which the operations are carried out is as follows (see <a href=\"https://docs.jboss.org/hibernate/orm/6.1/javadocs/org/hibernate/event/internal/AbstractFlushingEventListener.html#performExecutions(org.hibernate.event.spi.EventSource)\" rel=\"nofollow noreferrer\">performExecutions(EventSource session)</a>):</p>\n<blockquote>\n<ol>\n<li><p>Inserts, in the order they were performed</p>\n</li>\n<li><p>Updates</p>\n</li>\n<li><p>Deletion of collection elements</p>\n</li>\n<li><p>Insertion of collection elements</p>\n</li>\n<li><p>Deletes, in the order they were performed</p>\n</li>\n</ol>\n</blockquote>\n<p>If you want the data operation to be reflected immediately so that you can take into account the change. You must perform a flush and, as it is in a transaction, it can always be rolled back before it's committed.</p>\n"}],"owner":{"account_id":23998094,"reputation":1,"user_id":17983389,"display_name":"黃奕翔"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669483264,"creation_date":1669284485,"question_id":74558938,"body_markdown":"\r\n```\r\n@Transactional\r\npublic boolean updateAdminUser(Long userId, CreateUpdateAdminUserDto createUpdateAdminUserDto) {\r\n\r\n//other code\r\n\r\nadminUserRoleRepository.deleteAdminUsersRolesByAdminUserId(userId);\r\nadminUserRoleRepository.findAll();\r\ndminUserRepository.save(adminUser);\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nWhen I want to add data after deletion, because there is no commit at the time of deletion, it will cause duplication of data, but when I add **adminUserRoleRepository.findAll()** \r\nthe deletion  will be committed first, and my data will be successfully added to the database. I would like to ask why the findAll() of jpa will cause the transaction to be committed first.","title":"Why use jpa findall will cause transaction commit first","body":"<pre><code>@Transactional\npublic boolean updateAdminUser(Long userId, CreateUpdateAdminUserDto createUpdateAdminUserDto) {\n\n//other code\n\nadminUserRoleRepository.deleteAdminUsersRolesByAdminUserId(userId);\nadminUserRoleRepository.findAll();\ndminUserRepository.save(adminUser);\n\n}\n</code></pre>\n<p>When I want to add data after deletion, because there is no commit at the time of deletion, it will cause duplication of data, but when I add <strong>adminUserRoleRepository.findAll()</strong>\nthe deletion  will be committed first, and my data will be successfully added to the database. I would like to ask why the findAll() of jpa will cause the transaction to be committed first.</p>\n"},{"tags":["java","regex","positive-lookahead"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1669462996,"post_id":74581788,"comment_id":131648779,"body_markdown":"*&quot;tokenize email address&quot;*: can you provide examples (more than one, please) of input and expected output?","body":"<i>&quot;tokenize email address&quot;</i>: can you provide examples (more than one, please) of input and expected output?"},{"owner":{"account_id":13639472,"reputation":597,"user_id":9839769,"display_name":"akash"},"score":0,"creation_date":1669472743,"post_id":74581788,"comment_id":131650462,"body_markdown":"pop it in regex101.com, give it a sample which it should FAIL and one which is very very long in the domain part, and check if a failure occurs","body":"pop it in regex101.com, give it a sample which it should FAIL and one which is very very long in the domain part, and check if a failure occurs"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1669475485,"post_id":74581788,"comment_id":131650961,"body_markdown":"As long as you don&#39;t use nested quantified groups like e.g. [`((a*b*)*c)*`](https://regex101.com/r/iV6ugK/1) or [`(?=((a*b*)*c))`](https://regex101.com/r/h3Z4MG/1) I don&#39;t think you will run into [any issues](https://www.rexegg.com/regex-explosive-quantifiers.html). Further have a look in [charater classes](https://www.regular-expressions.info/charclass.html). You don&#39;t need to alternate between characters inside a class. It&#39;s a *defined set* of characters. Also no need for so much escaping: [`(?=([@.!x#$%&amp;&#39;*+=?\\`{}_~\\/\\^\\-](.+)))`](https://regex101.com/r/gCJLfj/1) will suffice.","body":"As long as you don&#39;t use nested quantified groups like e.g. <a href=\"https://regex101.com/r/iV6ugK/1\" rel=\"nofollow noreferrer\"><code>((a*b*)*c)*</code></a> or <a href=\"https://regex101.com/r/h3Z4MG/1\" rel=\"nofollow noreferrer\"><code>(?=((a*b*)*c))</code></a> I don&#39;t think you will run into <a href=\"https://www.rexegg.com/regex-explosive-quantifiers.html\" rel=\"nofollow noreferrer\">any issues</a>. Further have a look in <a href=\"https://www.regular-expressions.info/charclass.html\" rel=\"nofollow noreferrer\">charater classes</a>. You don&#39;t need to alternate between characters inside a class. It&#39;s a <i>defined set</i> of characters. Also no need for so much escaping: <a href=\"https://regex101.com/r/gCJLfj/1\" rel=\"nofollow noreferrer\"><code>(?=([@.!x#$%&amp;&#39;*+=?`{}_~\\&#47;\\^\\-](.+)))</code></a> will suffice."},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1669476948,"post_id":74581788,"comment_id":131651282,"body_markdown":"These regexes that are triggered at any position in a string are certainly costly and can still [soon time out](https://regex101.com/r/wrrIgM/1) if you use them on *too long input* so best to precheck length. Afaik that&#39;s not what is meant with *catastophic backtracking*. Whenever indeed dealing with exponential growth the best friends to prevent [runaway regexes](https://www.regular-expressions.info/toolong.html) are [possessive quantifiers](https://www.regular-expressions.info/possessive.html) and [atomic groups](https://www.regular-expressions.info/atomic.html).","body":"These regexes that are triggered at any position in a string are certainly costly and can still <a href=\"https://regex101.com/r/wrrIgM/1\" rel=\"nofollow noreferrer\">soon time out</a> if you use them on <i>too long input</i> so best to precheck length. Afaik that&#39;s not what is meant with <i>catastophic backtracking</i>. Whenever indeed dealing with exponential growth the best friends to prevent <a href=\"https://www.regular-expressions.info/toolong.html\" rel=\"nofollow noreferrer\">runaway regexes</a> are <a href=\"https://www.regular-expressions.info/possessive.html\" rel=\"nofollow noreferrer\">possessive quantifiers</a> and <a href=\"https://www.regular-expressions.info/atomic.html\" rel=\"nofollow noreferrer\">atomic groups</a>."},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1669478030,"post_id":74581788,"comment_id":131651509,"body_markdown":"To make your pattern a bit more efficient, you can move the separator-part out of the lookahead, e.g. [`([@.!x#$%&amp;&#39;*+=?\\`{}_~\\/\\^\\-])(?=(.+))`](https://regex101.com/r/gCJLfj/2)","body":"To make your pattern a bit more efficient, you can move the separator-part out of the lookahead, e.g. <a href=\"https://regex101.com/r/gCJLfj/2\" rel=\"nofollow noreferrer\"><code>([@.!x#$%&amp;&#39;*+=?`{}_~\\&#47;\\^\\-])(?=(.+))</code></a>"}],"owner":{"account_id":27051209,"reputation":11,"user_id":20604540,"display_name":"Adhish Kandhan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1669483130,"creation_date":1669462428,"question_id":74581788,"body_markdown":"I am using positive lookahead regular expression in java to tokenize email addresses.\r\nI need to tokenize the email address(for example John.doe@abc.co.in) like this\r\ndoe@abc.co.in, doe@abc.co.in, @abc.co.in, abc.co.in, .co.in, co.in, .in, in\r\n\r\nI am using the following regex to tokenize email address\r\n\r\n```\r\n(?=([\\@|\\.|\\!|\\#|\\$|\\%|\\&amp;|\\&#39;|\\*|\\+|\\-|\\/|\\=|\\?|\\^|\\_|\\`|\\{|\\||\\}|\\~](.+)))\r\n```\r\n\r\nThis regex works perfectly and gives the result. Is there any possibility for catastrophic backtracking at some point of time while using this regex. If there is a possibility for catastrophic backtracking, what is the alternative solution to tokenize email addresses?\r\n\r\n\r\n","title":"Is there any possibility for catastrophic backtracking at any point of time while using capturing groups inside positive lookahead regular expression?","body":"<p>I am using positive lookahead regular expression in java to tokenize email addresses.\nI need to tokenize the email address(for example John.doe@abc.co.in) like this\ndoe@abc.co.in, doe@abc.co.in, @abc.co.in, abc.co.in, .co.in, co.in, .in, in</p>\n<p>I am using the following regex to tokenize email address</p>\n<pre><code>(?=([\\@|\\.|\\!|\\#|\\$|\\%|\\&amp;|\\'|\\*|\\+|\\-|\\/|\\=|\\?|\\^|\\_|\\`|\\{|\\||\\}|\\~](.+)))\n</code></pre>\n<p>This regex works perfectly and gives the result. Is there any possibility for catastrophic backtracking at some point of time while using this regex. If there is a possibility for catastrophic backtracking, what is the alternative solution to tokenize email addresses?</p>\n"},{"tags":["java","spring-boot","rest","spring-mvc"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1669503757,"post_id":74584161,"comment_id":131656318,"body_markdown":"are you using something like ProcessBuilder ? because that error,  \n\n&gt; &quot;The method exec(String) from the type Runtime is deprecated&quot;\n\n, indicates that.","body":"are you using something like ProcessBuilder ? because that error,    &gt; &quot;The method exec(String) from the type Runtime is deprecated&quot;  , indicates that."},{"owner":{"account_id":25158330,"reputation":1,"user_id":19002855,"display_name":"Oliver Smth"},"score":0,"creation_date":1669505118,"post_id":74584161,"comment_id":131656492,"body_markdown":"No I use `Runtime runtime = Runtime.getRuntime();` check my code above","body":"No I use <code>Runtime runtime = Runtime.getRuntime();</code> check my code above"},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1669505425,"post_id":74584161,"comment_id":131656526,"body_markdown":"ok, as it&#39;s mentioned, this method is deprecated, instead of that, you can `ProcessBuilder` -&gt; https://stackoverflow.com/a/10723391/2165146","body":"ok, as it&#39;s mentioned, this method is deprecated, instead of that, you can <code>ProcessBuilder</code> -&gt; <a href=\"https://stackoverflow.com/a/10723391/2165146\">stackoverflow.com/a/10723391/2165146</a>"},{"owner":{"account_id":25158330,"reputation":1,"user_id":19002855,"display_name":"Oliver Smth"},"score":0,"creation_date":1669506102,"post_id":74584161,"comment_id":131656615,"body_markdown":"I know but I&#39;m new in java I don&#39;t now how applied this insted of current code any help pls","body":"I know but I&#39;m new in java I don&#39;t now how applied this insted of current code any help pls"},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1669506379,"post_id":74584161,"comment_id":131656661,"body_markdown":"by the way, that screenshot you shared, it says &quot;Je n&#39;ai pas pu lancer de navigateur sur votre syst&#232;me d&#39;exploitation.&quot; which means &quot;I was unable to launch a browser on your operating system.&quot;, so it doesn&#39;t belong to any os, depends on your code but is it true ? first check that.","body":"by the way, that screenshot you shared, it says &quot;Je n&#39;ai pas pu lancer de navigateur sur votre syst&#232;me d&#39;exploitation.&quot; which means &quot;I was unable to launch a browser on your operating system.&quot;, so it doesn&#39;t belong to any os, depends on your code but is it true ? first check that."},{"owner":{"account_id":25158330,"reputation":1,"user_id":19002855,"display_name":"Oliver Smth"},"score":0,"creation_date":1669506445,"post_id":74584161,"comment_id":131656669,"body_markdown":"I checked this but I don&#39;t know where the problem is coming from","body":"I checked this but I don&#39;t know where the problem is coming from"},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1669506447,"post_id":74584161,"comment_id":131656670,"body_markdown":"after that, you can create ProcessBuilder then start it -&gt;  `ProcessBuilder pb = new ProcessBuilder(&quot;open&quot; + uri);\n Process p = pb.start();`","body":"after that, you can create ProcessBuilder then start it -&gt;  <code>ProcessBuilder pb = new ProcessBuilder(&quot;open&quot; + uri);  Process p = pb.start();</code>"},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1669506558,"post_id":74584161,"comment_id":131656689,"body_markdown":"you can debug your code line by line for examine why it&#39;s not detecting any os.","body":"you can debug your code line by line for examine why it&#39;s not detecting any os."}],"owner":{"account_id":25158330,"reputation":1,"user_id":19002855,"display_name":"Oliver Smth"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669482705,"creation_date":1669482705,"question_id":74584161,"body_markdown":"I&#39;m running my app on **CLI** using **Spring Boot with REST API** everything works well just I have one problem after running the app and finishing the process on CLI the image did not display moreover I have this message displayed on my code ***&quot;The method exec(String) from the type Runtime is deprecated&quot;***.\r\n\r\n**Full Code Below:**\r\n\r\n```\r\npackage com.example.demo.cli;\r\n\r\nimport java.awt.Desktop;\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.net.URI;\r\nimport java.sql.Timestamp;\r\nimport java.text.DecimalFormat;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.client.HttpClientErrorException;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport com.example.demo.models.Agence;\r\nimport com.example.demo.models.CarteCredit;\r\nimport com.example.demo.models.Chambre;\r\nimport com.example.demo.models.Client;\r\nimport com.example.demo.models.HotelPartenaireTarif;\r\nimport com.example.demo.models.Lit;\r\nimport com.example.demo.models.Propose;\r\nimport com.example.demo.models.Reservation;\r\n\r\n@Component\r\npublic class HotelRestClientCLI extends AbstractMain implements CommandLineRunner {\r\n\r\n\t@Autowired\r\n\tprivate RestTemplate proxy;\r\n\tpublic static StringToCalendar inputStringToCalendar;\r\n\tpublic static StringToDouble inputStringToDouble;\r\n\tpublic static StringToInt inputStringToInt;\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\t\tBufferedReader inputReader;\r\n\t\tString userInput = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tinputReader = new BufferedReader(new InputStreamReader(System.in));\r\n\t\t\tsetHotelSearchUrl(inputReader);\r\n\t\t\tsetHotelBookUrl(inputReader);\r\n\t\t\tdo {\r\n\t\t\t\tmenu();\r\n\t\t\t\tuserInput = inputReader.readLine();\r\n\t\t\t\tprocessUserInput(inputReader, userInput);\r\n\t\t\t\tThread.sleep(1000);\r\n\r\n\t\t\t} while (!userInput.equals(QUIT));\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tprotected boolean validHotelSearchUrl() {\r\n\t\treturn HOTEL_SEARCH_URL.equals(&quot;http://localhost:8080/hotelsearch/api&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected boolean validHotelBookUrl() {\r\n\t\treturn HOTEL_BOOK_URL.equals(&quot;http://localhost:8080/hotelbook/api&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void menu() {\r\n\t\tStringBuilder builder = new StringBuilder();\r\n\t\tbuilder.append(QUIT + &quot;. Quitter.&quot;);\r\n\t\tbuilder.append(&quot;\\n1. Agence Login.&quot;);\r\n\t\tSystem.out.println(builder);\r\n\t}\r\n\r\n\tprivate void processUserInput(BufferedReader reader, String userInput) {\r\n\t\ttry {\r\n\t\t\tswitch (userInput) {\r\n\t\t\tdefault:\r\n\t\t\t\tSystem.err.println(&quot;D&#233;sol&#233;, mauvaise saisie. Veuillez r&#233;essayer.&quot;);\r\n\t\t\t\treturn;\r\n\t\t\tcase QUIT:\r\n\t\t\t\tSystem.out.println(&quot;Au revoir ...&quot;);\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\tcase &quot;1&quot;:\r\n\t\t\t\tAgence[] agenceLogin = this.login(reader);\r\n\t\t\t\twhile (agenceLogin.length == 0) {\r\n\t\t\t\t\tSystem.err.println(&quot;Identifiant ou mot de passe n&#39;est pas correct, veuillez r&#233;essayer !\\n&quot;);\r\n\t\t\t\t\tagenceLogin = this.login(reader);\r\n\t\t\t\t}\r\n\t\t\t\tString agenceLoginId = agenceLogin[0].getIdentifiant();\r\n\t\t\t\tSystem.out.println(agenceLoginId + &quot; login Avec succ&#232;s!&quot;);\r\n\r\n\t\t\t\tSystem.out.println(&quot;Date arriv&#233;e (dd/MM/yyyy) aujourd&#39;hui ou apr&#232;s aujourd&#39;hui: &quot;);\r\n\t\t\t\tinputStringToCalendar = new StringToCalendar(reader);\r\n\t\t\t\tString dateArrivee = inputStringToCalendar.process();\r\n\t\t\t\tCalendar dateArriveeCal = (Calendar) inputStringToCalendar.processToCalendar(dateArrivee);\r\n\t\t\t\tSystem.out.println();\r\n\r\n\t\t\t\tSystem.out.println(&quot;Date d&#233;part (dd/MM/yyyy) apr&#232;s date arriv&#233;e: &quot;);\r\n\t\t\t\tinputStringToCalendar = new StringToCalendar(reader);\r\n\t\t\t\tString dateDepart = inputStringToCalendar.process();\r\n\t\t\t\tCalendar dateDepartCal = (Calendar) inputStringToCalendar.processToCalendar(dateDepart);\r\n\t\t\t\twhile (!dateDepartCal.after(dateArriveeCal)) {\r\n\t\t\t\t\tSystem.err.println(&quot;Date d&#233;part doit &#234;tre apr&#232;s date arriv&#233;e! &quot;);\r\n\t\t\t\t\tSystem.out.println();\r\n\t\t\t\t\tSystem.out.println(&quot;Date d&#233;part (dd/MM/yyyy):&quot;);\r\n\t\t\t\t\tinputStringToCalendar = new StringToCalendar(reader);\r\n\t\t\t\t\tdateDepart = inputStringToCalendar.process();\r\n\t\t\t\t\tdateDepartCal = (Calendar) inputStringToCalendar.processToCalendar(dateDepart);\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println();\r\n\r\n\t\t\t\tSystem.out.println(&quot;Nombre de personnes &#224; h&#233;berger: &quot;);\r\n\t\t\t\tinputStringToInt = new StringToInt(reader);\r\n\t\t\t\tint nombrePerson = (int) inputStringToInt.process();\r\n\t\t\t\tSystem.out.println();\r\n\r\n\t\t\t\tString uri = HOTEL_SEARCH_URL + &quot;/agence/propose?&quot; + &quot;agenceLoginId=&quot; + agenceLoginId + &quot;&amp;dateArrivee=&quot;\r\n\t\t\t\t\t\t+ dateArrivee + &quot;&amp;dateDepart=&quot; + dateDepart + &quot;&amp;nombrePerson=&quot; + nombrePerson;\r\n\t\t\t\tSystem.out.println(uri);\r\n\t\t\t\tPropose[] allCombinations = proxy.getForObject(uri, Propose[].class);\r\n\t\t\t\tif (allCombinations.length == 0) {\r\n\t\t\t\t\tSystem.err.println(&quot;D&#233;sol&#233;, pas d&#39;h&#244;tel correspond. Veuillez r&#233;essayer.&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(&quot;Voici tous les propositions:&quot;);\r\n\t\t\t\t\tint days = this.daysBetween(dateArriveeCal, dateDepartCal);\r\n\t\t\t\t\tList&lt;String&gt; listChambreId = this.displayAllCombinations(allCombinations, dateArriveeCal,\r\n\t\t\t\t\t\t\tdateDepartCal, agenceLogin, days);\r\n\t\t\t\t\tString display = &quot;&quot;;\r\n\t\t\t\t\tdo {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Display image de chambre? y/n &quot;);\r\n\t\t\t\t\t\tdisplay = reader.readLine();\r\n\t\t\t\t\t\tSystem.out.println();\r\n\t\t\t\t\t\tthis.processDisplayInput(reader, display, listChambreId);\r\n\t\t\t\t\t} while (!display.equals(&quot;n&quot;));\r\n\r\n\t\t\t\t\t// IHotelServiceWeb2 reserver\r\n\t\t\t\t\tSystem.out.println(&quot;Saisir l&#39;identifiant de l&#39;offre pour r&#233;server: &quot;);\r\n\t\t\t\t\tString identifiantOffre = reader.readLine();\r\n\t\t\t\t\tSystem.out.println();\r\n\t\t\t\t\tPropose offreChoisi = this.checkPropose(allCombinations, identifiantOffre);\r\n\t\t\t\t\twhile (offreChoisi == null) {\r\n\t\t\t\t\t\tSystem.err.println(&quot;D&#233;sol&#233;, pas d&#39;h&#244;tel correspond. Veuillez r&#233;essayer.&quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Saisir l&#39;identifiant de l&#39;offre pour r&#233;server: &quot;);\r\n\t\t\t\t\t\tidentifiantOffre = reader.readLine();\r\n\t\t\t\t\t\tSystem.out.println();\r\n\t\t\t\t\t\toffreChoisi = this.checkPropose(allCombinations, identifiantOffre);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tSystem.out.println(identifiantOffre + &quot; est choisi.&quot;);\r\n\t\t\t\t\t// Agence login\r\n\t\t\t\t\tAgence[] agenceLoginRes = this.loginRes(reader);\r\n\t\t\t\t\twhile (agenceLoginRes.length == 0\r\n\t\t\t\t\t\t\t|| !agenceLoginRes[0].getIdentifiant().equals(agenceLogin[0].getIdentifiant())\r\n\t\t\t\t\t\t\t|| !agenceLoginRes[0].getMdp().equals(agenceLogin[0].getMdp())) {\r\n\t\t\t\t\t\tSystem.err.println(&quot;Identifiant ou mot de passe n&#39;est pas correct, veuillez r&#233;essayer !\\n&quot;);\r\n\t\t\t\t\t\tagenceLoginRes = this.loginRes(reader);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tString agenceId = agenceLoginRes[0].getIdentifiant();\r\n\t\t\t\t\tSystem.out.println(agenceId + &quot; login Avec succ&#232;s!&quot;);\r\n\t\t\t\t\t// Client\r\n\t\t\t\t\tSystem.out.println(&quot;Nom du client principal: &quot;);\r\n\t\t\t\t\tString nom = reader.readLine();\r\n\t\t\t\t\tSystem.out.println();\r\n\r\n\t\t\t\t\tSystem.out.println(&quot;Pr&#233;nom de client principal: &quot;);\r\n\t\t\t\t\tString prenom = reader.readLine();\r\n\t\t\t\t\tSystem.out.println();\r\n\r\n\t\t\t\t\tCarteCredit createdCarteCredit = createCarteCredit(reader);\r\n\r\n\t\t\t\t\turi = HOTEL_BOOK_URL + &quot;/cartecredit&quot;;\r\n\t\t\t\t\tCarteCredit returnedCarteCredit = proxy.postForObject(uri, createdCarteCredit, CarteCredit.class);\r\n\r\n\t\t\t\t\tClient createdClient = new Client(nom, prenom, returnedCarteCredit);\r\n\t\t\t\t\turi = HOTEL_BOOK_URL + &quot;/client&quot;;\r\n\t\t\t\t\tClient returnedClient = proxy.postForObject(uri, createdClient, Client.class);\r\n\r\n\t\t\t\t\tHotelPartenaireTarif hotelPartenaireTarif = offreChoisi.getHotelPartenaireTarif();\r\n\t\t\t\t\tint hotelId = hotelPartenaireTarif.getHotel().getHotelId();\r\n\t\t\t\t\tList&lt;Chambre&gt; chambreChoisi = offreChoisi.getListChambre();\r\n\t\t\t\t\tdouble prixChoisi = agenceLogin[0].prixChoisi(offreChoisi) * days;\r\n\r\n\t\t\t\t\tString reservationId = this.generateResId(agenceLoginRes[0], hotelPartenaireTarif, returnedClient);\r\n\t\t\t\t\treservationId = reservationId.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n\t\t\t\t\tReservation createdRes = new Reservation(reservationId, chambreChoisi, dateArriveeCal,\r\n\t\t\t\t\t\t\tdateDepartCal, returnedClient, prixChoisi);\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\turi = HOTEL_BOOK_URL + &quot;/reservation&quot;;\r\n\t\t\t\t\t\tReservation returnedRes = proxy.postForObject(uri, createdRes, Reservation.class);\r\n\t\t\t\t\t\turi = HOTEL_BOOK_URL + &quot;/addreservationagence/&quot; + agenceId;\r\n\t\t\t\t\t\tproxy.put(uri, returnedRes);\r\n\t\t\t\t\t\turi = HOTEL_BOOK_URL + &quot;/addreservationhotel/&quot; + hotelId;\r\n\t\t\t\t\t\tproxy.put(uri, returnedRes);\r\n\t\t\t\t\t\tSystem.out.println(&quot;R&#233;serv&#233; avec succ&#232;s. Votre num&#233;ro de r&#233;servation est &quot; + reservationId);\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\tSystem.err.println(&quot;D&#233;sol&#233;, il y a un probl&#232;me avec la r&#233;servation. Veuillez r&#233;essayer.&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (HttpClientErrorException e) { // format error in cli\r\n\t\t\tSystem.err.println(e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n\tpublic List&lt;String&gt; displayAllCombinations(Propose[] allCombinations, Calendar dateArrivee, Calendar dateDepart,\r\n\t\t\tAgence[] agenceLogin, int days) {\r\n\t\tList&lt;String&gt; listChambreId = new ArrayList&lt;&gt;();\r\n\t\tfor (Propose propose : allCombinations) {\r\n\t\t\tSystem.out.println(&quot;Identifiant de l&#39;offre:&quot; + propose.getOffreId() + &quot;\\n&quot; + &quot;Nom de l&#39;h&#244;tel&quot;\r\n\t\t\t\t\t+ propose.getHotelPartenaireTarif().getHotel().getNom() + &quot;\\n&quot; + &quot;Date de disponibilit&#233;: de &quot;\r\n\t\t\t\t\t+ this.calendarToString(dateArrivee) + &quot; &#224; &quot; + this.calendarToString(dateDepart));\r\n\t\t\tint nombreLits = 0;\r\n\t\t\tfor (Chambre c : propose.getListChambre()) {\r\n\t\t\t\tlistChambreId.add(c.getChambreId());\r\n\t\t\t\tString descLit = &quot;&quot;;\r\n\t\t\t\tSystem.out.println(&quot;#Chambre Id:&quot; + c.getChambreId());\r\n\t\t\t\tfor (Lit lit : c.getLitCollection()) {\r\n\t\t\t\t\tdescLit = descLit + lit.toString() + &quot;\\n&quot;;\r\n\t\t\t\t\tnombreLits++;\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(descLit);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Nombre de lits totaux propos&#233;s:&quot; + nombreLits + &quot;\\n&quot; + &quot;Prix total &#224; payer:&quot;\r\n\t\t\t\t\t+ this.doubleToString(agenceLogin[0].prixChoisi(propose) * days)\r\n\t\t\t\t\t+ &quot; (avec pourcentage de commission)&quot; + &quot; (Pour &quot; + days + &quot; nuits)&quot; + &quot;\\n&quot;\r\n\t\t\t\t\t+ &quot;--------------------&quot;);\r\n\t\t}\r\n\t\treturn listChambreId;\r\n\t}\r\n\r\n\tprivate String calendarToString(Calendar date) {\r\n\t\tSimpleDateFormat format1 = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n\t\tString dateString = format1.format(date.getTime());\r\n\t\treturn dateString;\r\n\t}\r\n\r\n\tprivate String doubleToString(double prix) {\r\n\t\tDecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\r\n\t\treturn df.format(prix);\r\n\t}\r\n\r\n\tprivate int daysBetween(Calendar dateArrivee, Calendar dateDepart) {\r\n\t\tDate d1 = dateArrivee.getTime();\r\n\t\tDate d2 = dateDepart.getTime();\r\n\t\treturn (int) ((d2.getTime() - d1.getTime()) / (1000 * 60 * 60 * 24));\r\n\t}\r\n\r\n\tprivate Agence[] login(BufferedReader reader) {\r\n\t\tString identifiant = null;\r\n\t\tString mdp = null;\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;Veuillez login pour rechercher!&quot;);\r\n\t\t\tSystem.out.println(&quot;Saisir identifiant de l&#39;agence:&quot;);\r\n\r\n\t\t\tidentifiant = reader.readLine();\r\n\t\t\tSystem.out.println();\r\n\r\n\t\t\tSystem.out.println(&quot;Saisir mot de passe de l&#39;agence:&quot;);\r\n\t\t\tmdp = reader.readLine();\r\n\t\t\tSystem.out.println();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tString uri = HOTEL_SEARCH_URL + &quot;/agence/identifiantandmdp?identifiant=&quot; + identifiant + &quot;&amp;mdp=&quot; + mdp;\r\n\t\tAgence[] agenceLogin = proxy.getForObject(uri, Agence[].class);\r\n\t\treturn agenceLogin;\r\n\t}\r\n\r\n\tprivate Agence[] loginRes(BufferedReader reader) {\r\n\t\tString identifiant = null;\r\n\t\tString mdp = null;\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;Veuillez login pour r&#233;server!&quot;);\r\n\t\t\tSystem.out.println(\r\n\t\t\t\t\t&quot;Saisir identifiant de l&#39;agence (le m&#234;me identifiant d&#39;agence qui a r&#233;cup&#233;r&#233; les offres):&quot;);\r\n\r\n\t\t\tidentifiant = reader.readLine();\r\n\t\t\tSystem.out.println();\r\n\r\n\t\t\tSystem.out.println(&quot;Saisir mot de passe de l&#39;agence:&quot;);\r\n\t\t\tmdp = reader.readLine();\r\n\t\t\tSystem.out.println();\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tString uri = HOTEL_BOOK_URL + &quot;/agence/identifiantandmdp?identifiant=&quot; + identifiant + &quot;&amp;mdp=&quot; + mdp;\r\n\t\tAgence[] agenceLoginRes = proxy.getForObject(uri, Agence[].class);\r\n\t\treturn agenceLoginRes;\r\n\t}\r\n\r\n\tprivate String generateResId(Agence agenceLoginRes, HotelPartenaireTarif hotelPartenaireTarif, Client client) {\r\n\t\tTimestamp timestamp = new Timestamp(System.currentTimeMillis());\r\n\t\tString reservationId = agenceLoginRes.getIdentifiant() + client.getNom() + timestamp.getTime();\r\n\t\treturn reservationId;\r\n\t}\r\n\r\n\tprivate Propose checkPropose(Propose[] allCombinationsList, String identifiantOffre) {\r\n\t\tfor (Propose propose : allCombinationsList) {\r\n\t\t\tif (propose.getOffreId().equals(identifiantOffre)) {\r\n\t\t\t\treturn propose;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic void displayImage(String imageName) throws Exception {\r\n\t    String uri = HOTEL_SEARCH_URL + &quot;/hotel/image?imageName=&quot; + imageName;\r\n\t    //\t\tImage image = proxy.getForObject(uri, Image.class);\r\n\t    //\t\tJFrame imageFrame = new JFrame();\r\n\t    //        imageFrame.setSize(1024, 683);\r\n\t    //        JLabel imageLabel = new JLabel(new ImageIcon(image));\r\n\t    //        imageFrame.add(imageLabel);\r\n\t    //        imageFrame.setVisible(true);\r\n\t    //        imageFrame.setAlwaysOnTop(true);\r\n\t    //\t\tproxy.getForObject(uri, null);\r\n\r\n\t    //        if (Desktop.isDesktopSupported()) {\r\n\t    //            // Windows\r\n\t    //            Desktop.getDesktop().browse(new URI(uri));\r\n\t    //        } else {\r\n\t    //            // Ubuntu\r\n\t    //            Runtime runtime = Runtime.getRuntime();\r\n\t    //            runtime.exec(&quot;/usr/bin/firefox -new-window &quot; + uri);\r\n\t    //        }\r\n\t    //\t\tRuntime rt = Runtime.getRuntime();\r\n\t    //\t\trt.exec(&quot;open &quot; + uri);\r\n\r\n\t    String myOS = System.getProperty(&quot;os.name&quot;).toLowerCase();\r\n\t    System.out.println(&quot;(Votre syst&#232;me d&#39;exploitation est: &quot; + myOS + &quot;)\\n&quot;);\r\n\t    try {\r\n\t        if (Desktop.isDesktopSupported()) { // Probably Windows\r\n\t            System.out.println(&quot; -- Aller avec Desktop.browse ...&quot;);\r\n\t            Desktop desktop = Desktop.getDesktop();\r\n\t            desktop.browse(new URI(uri));\r\n\t        } else { // Definitely Non-windows\r\n\t        \tRuntime runtime = Runtime.getRuntime();\r\n\t            if (myOS.contains(&quot;mac&quot;)) { // Apples\r\n\t                System.out.println(&quot; -- Aller sur Apple avec &#39;ouverte&#39;...&quot;);\r\n\t                runtime.exec(&quot;open &quot; + uri);\r\n\t            } else if (myOS.contains(&quot;nix&quot;) || myOS.contains(&quot;nux&quot;)) { // Linux flavours \r\n\t                System.out.println(&quot; -- Passer sous Linux avec &#39;xdg-open&#39;...&quot;);\r\n\t               runtime.exec(&quot;xdg-open &quot; + uri);\r\n\t            } else\r\n\t                System.out.println(&quot;Je n&#39;ai pas pu lancer de navigateur sur votre syst&#232;me d&#39;exploitation.&quot;);\r\n\t        }\r\n\t    } catch (Exception e) {\r\n\t        System.out.println(&quot;**Trucs &#224; tort: &quot; + e.getMessage());\r\n\t    }\r\n\t}\r\n\r\n\tpublic void processDisplayInput(BufferedReader reader, String display, List&lt;String&gt; listChambreId) {\r\n\t\ttry {\r\n\t\t\tswitch (display) {\r\n\t\t\tdefault:\r\n\t\t\t\tSystem.err.println(&quot;D&#233;sol&#233;, mauvaise saisie. Veuillez r&#233;essayer.&quot;);\r\n\t\t\t\treturn;\r\n\t\t\tcase &quot;n&quot;:\r\n\t\t\t\treturn;\r\n\t\t\tcase &quot;y&quot;:\r\n\t\t\t\tSystem.out.println(&quot;Chambre Id ?&quot;);\r\n\t\t\t\tString chambreId = reader.readLine();\r\n\t\t\t\tif (listChambreId.contains(chambreId)) {\r\n\t\t\t\t\tthis.displayImage(chambreId);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.err.println(&quot;Chambre Id n&#39;est pas correct.&quot;);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate CarteCredit createCarteCredit(BufferedReader reader) {\r\n\t\t// carte credit\r\n\t\tCarteCredit createdCarteCredit = null;\r\n\t\twhile (!(createdCarteCredit instanceof CarteCredit)) {\r\n\t\t\tSystem.out.println(&quot;Num&#233;ro de carte cr&#233;dit (16 chiffres) : &quot;);\r\n\t\t\tString carteNumero = null;\r\n\t\t\ttry {\r\n\t\t\t\tcarteNumero = reader.readLine();\r\n\t\t\t} catch (IOException e1) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\r\n\t\t\tSystem.out.println(&quot;Mois expir&#233; (2 chiffres) : &quot;);\r\n\t\t\tinputStringToInt = new StringToInt(reader);\r\n\t\t\tint expireMois = (int) inputStringToInt.process();\r\n\t\t\tSystem.out.println();\r\n\r\n\t\t\tSystem.out.println(&quot;Ann&#233;e expir&#233;e (4 chiffres) : &quot;);\r\n\t\t\tinputStringToInt = new StringToInt(reader);\r\n\t\t\tint expireAnnee = (int) inputStringToInt.process();\r\n\t\t\tSystem.out.println();\r\n\r\n\t\t\tSystem.out.println(&quot;CVC code (3 chiffres) : &quot;);\r\n\t\t\tString cvcCode = null;\r\n\t\t\ttry {\r\n\t\t\t\tcvcCode = reader.readLine();\r\n\t\t\t} catch (IOException e1) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t\tcreatedCarteCredit = new CarteCredit(carteNumero, cvcCode, expireMois, expireAnnee);\r\n\t\t}\r\n\t\treturn createdCarteCredit;\r\n\t}\r\n\r\n//\tprivate XMLGregorianCalendar calendarToXMLGregorianCalendar(Calendar cal) {\r\n//\t\tXMLGregorianCalendar gDateFormatted = null;\r\n//\t\ttry {\r\n//\t\t\tgDateFormatted =\r\n//\t\t\t\t\tDatatypeFactory.newInstance().newXMLGregorianCalendar(\r\n//\t\t\t\t\t\tcal.get(Calendar.YEAR),\r\n//\t\t\t\t\t\tcal.get(Calendar.MONTH) + 1,\r\n//\t\t\t\t\t\tcal.get(Calendar.DAY_OF_MONTH),\r\n//\t\t\t\t\t\tcal.get(Calendar.HOUR_OF_DAY),\r\n//\t\t\t\t\t\tcal.get(Calendar.MINUTE),\r\n//\t\t\t\t\t\tcal.get(Calendar.SECOND), DatatypeConstants.FIELD_UNDEFINED, DatatypeConstants.FIELD_UNDEFINED);\r\n//\t\t} catch (DatatypeConfigurationException e) {\r\n//\t\t\te.printStackTrace();\r\n//\t\t}\r\n//\t\treturn gDateFormatted;\r\n//\t}\r\n\r\n}\r\n```\r\n\r\nI think the problem comes from this code below but I don&#39;t know how to fix any suggestions.\r\n\r\n```\r\n\tpublic void displayImage(String imageName) throws Exception {\r\n\t    String uri = HOTEL_SEARCH_URL + &quot;/hotel/image?imageName=&quot; + imageName;\r\n\t    String myOS = System.getProperty(&quot;os.name&quot;).toLowerCase();\r\n\t    System.out.println(&quot;(Votre syst&#232;me d&#39;exploitation est: &quot; + myOS + &quot;)\\n&quot;);\r\n\t    try {\r\n\t        if (Desktop.isDesktopSupported()) { // Probably Windows\r\n\t            System.out.println(&quot; -- Aller avec Desktop.browse ...&quot;);\r\n\t            Desktop desktop = Desktop.getDesktop();\r\n\t            desktop.browse(new URI(uri));\r\n\t        } else { // Definitely Non-windows\r\n\t            Runtime runtime = Runtime.getRuntime();\r\n\t            if (myOS.contains(&quot;mac&quot;)) { // Apples\r\n\t                System.out.println(&quot; -- Aller sur Apple avec &#39;ouverte&#39;...&quot;);\r\n\t                runtime.exec(&quot;open &quot; + uri);\r\n\t            } else if (myOS.contains(&quot;nix&quot;) || myOS.contains(&quot;nux&quot;)) { // Linux flavours \r\n\t                System.out.println(&quot; -- Passer sous Linux avec &#39;xdg-open&#39;...&quot;);\r\n\t                runtime.exec(&quot;xdg-open &quot; + uri);\r\n\t            } else\r\n\t                System.out.println(&quot;Je n&#39;ai pas pu lancer de navigateur sur votre syst&#232;me d&#39;exploitation.&quot;);\r\n\t        }\r\n\t    } catch (Exception e) {\r\n\t        System.out.println(&quot;**Trucs &#224; tort: &quot; + e.getMessage());\r\n\t    }\r\n\t}\r\n```\r\n\r\nThe result that I get after finishing the process using CLI (**See image below**):\r\n\r\n[enter image description here](https://i.stack.imgur.com/q5bEk.png)\r\n\r\nI expect a solution to this problem, thank you","title":"Java Spring Boot my app did not display the image (the method exec(String) from the type Runtime is deprecated)","body":"<p>I'm running my app on <strong>CLI</strong> using <strong>Spring Boot with REST API</strong> everything works well just I have one problem after running the app and finishing the process on CLI the image did not display moreover I have this message displayed on my code <em><strong>&quot;The method exec(String) from the type Runtime is deprecated&quot;</strong></em>.</p>\n<p><strong>Full Code Below:</strong></p>\n<pre><code>package com.example.demo.cli;\n\nimport java.awt.Desktop;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.URI;\nimport java.sql.Timestamp;\nimport java.text.DecimalFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.client.HttpClientErrorException;\nimport org.springframework.web.client.RestTemplate;\n\nimport com.example.demo.models.Agence;\nimport com.example.demo.models.CarteCredit;\nimport com.example.demo.models.Chambre;\nimport com.example.demo.models.Client;\nimport com.example.demo.models.HotelPartenaireTarif;\nimport com.example.demo.models.Lit;\nimport com.example.demo.models.Propose;\nimport com.example.demo.models.Reservation;\n\n@Component\npublic class HotelRestClientCLI extends AbstractMain implements CommandLineRunner {\n\n    @Autowired\n    private RestTemplate proxy;\n    public static StringToCalendar inputStringToCalendar;\n    public static StringToDouble inputStringToDouble;\n    public static StringToInt inputStringToInt;\n\n    @Override\n    public void run(String... args) throws Exception {\n        BufferedReader inputReader;\n        String userInput = &quot;&quot;;\n        try {\n            inputReader = new BufferedReader(new InputStreamReader(System.in));\n            setHotelSearchUrl(inputReader);\n            setHotelBookUrl(inputReader);\n            do {\n                menu();\n                userInput = inputReader.readLine();\n                processUserInput(inputReader, userInput);\n                Thread.sleep(1000);\n\n            } while (!userInput.equals(QUIT));\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    protected boolean validHotelSearchUrl() {\n        return HOTEL_SEARCH_URL.equals(&quot;http://localhost:8080/hotelsearch/api&quot;);\n    }\n\n    @Override\n    protected boolean validHotelBookUrl() {\n        return HOTEL_BOOK_URL.equals(&quot;http://localhost:8080/hotelbook/api&quot;);\n    }\n\n    @Override\n    protected void menu() {\n        StringBuilder builder = new StringBuilder();\n        builder.append(QUIT + &quot;. Quitter.&quot;);\n        builder.append(&quot;\\n1. Agence Login.&quot;);\n        System.out.println(builder);\n    }\n\n    private void processUserInput(BufferedReader reader, String userInput) {\n        try {\n            switch (userInput) {\n            default:\n                System.err.println(&quot;Désolé, mauvaise saisie. Veuillez réessayer.&quot;);\n                return;\n            case QUIT:\n                System.out.println(&quot;Au revoir ...&quot;);\n                System.exit(0);\n            case &quot;1&quot;:\n                Agence[] agenceLogin = this.login(reader);\n                while (agenceLogin.length == 0) {\n                    System.err.println(&quot;Identifiant ou mot de passe n'est pas correct, veuillez réessayer !\\n&quot;);\n                    agenceLogin = this.login(reader);\n                }\n                String agenceLoginId = agenceLogin[0].getIdentifiant();\n                System.out.println(agenceLoginId + &quot; login Avec succès!&quot;);\n\n                System.out.println(&quot;Date arrivée (dd/MM/yyyy) aujourd'hui ou après aujourd'hui: &quot;);\n                inputStringToCalendar = new StringToCalendar(reader);\n                String dateArrivee = inputStringToCalendar.process();\n                Calendar dateArriveeCal = (Calendar) inputStringToCalendar.processToCalendar(dateArrivee);\n                System.out.println();\n\n                System.out.println(&quot;Date départ (dd/MM/yyyy) après date arrivée: &quot;);\n                inputStringToCalendar = new StringToCalendar(reader);\n                String dateDepart = inputStringToCalendar.process();\n                Calendar dateDepartCal = (Calendar) inputStringToCalendar.processToCalendar(dateDepart);\n                while (!dateDepartCal.after(dateArriveeCal)) {\n                    System.err.println(&quot;Date départ doit être après date arrivée! &quot;);\n                    System.out.println();\n                    System.out.println(&quot;Date départ (dd/MM/yyyy):&quot;);\n                    inputStringToCalendar = new StringToCalendar(reader);\n                    dateDepart = inputStringToCalendar.process();\n                    dateDepartCal = (Calendar) inputStringToCalendar.processToCalendar(dateDepart);\n                }\n                System.out.println();\n\n                System.out.println(&quot;Nombre de personnes à héberger: &quot;);\n                inputStringToInt = new StringToInt(reader);\n                int nombrePerson = (int) inputStringToInt.process();\n                System.out.println();\n\n                String uri = HOTEL_SEARCH_URL + &quot;/agence/propose?&quot; + &quot;agenceLoginId=&quot; + agenceLoginId + &quot;&amp;dateArrivee=&quot;\n                        + dateArrivee + &quot;&amp;dateDepart=&quot; + dateDepart + &quot;&amp;nombrePerson=&quot; + nombrePerson;\n                System.out.println(uri);\n                Propose[] allCombinations = proxy.getForObject(uri, Propose[].class);\n                if (allCombinations.length == 0) {\n                    System.err.println(&quot;Désolé, pas d'hôtel correspond. Veuillez réessayer.&quot;);\n                    break;\n                } else {\n                    System.out.println(&quot;Voici tous les propositions:&quot;);\n                    int days = this.daysBetween(dateArriveeCal, dateDepartCal);\n                    List&lt;String&gt; listChambreId = this.displayAllCombinations(allCombinations, dateArriveeCal,\n                            dateDepartCal, agenceLogin, days);\n                    String display = &quot;&quot;;\n                    do {\n                        System.out.println(&quot;Display image de chambre? y/n &quot;);\n                        display = reader.readLine();\n                        System.out.println();\n                        this.processDisplayInput(reader, display, listChambreId);\n                    } while (!display.equals(&quot;n&quot;));\n\n                    // IHotelServiceWeb2 reserver\n                    System.out.println(&quot;Saisir l'identifiant de l'offre pour réserver: &quot;);\n                    String identifiantOffre = reader.readLine();\n                    System.out.println();\n                    Propose offreChoisi = this.checkPropose(allCombinations, identifiantOffre);\n                    while (offreChoisi == null) {\n                        System.err.println(&quot;Désolé, pas d'hôtel correspond. Veuillez réessayer.&quot;);\n                        System.out.println(&quot;Saisir l'identifiant de l'offre pour réserver: &quot;);\n                        identifiantOffre = reader.readLine();\n                        System.out.println();\n                        offreChoisi = this.checkPropose(allCombinations, identifiantOffre);\n                    }\n\n                    System.out.println(identifiantOffre + &quot; est choisi.&quot;);\n                    // Agence login\n                    Agence[] agenceLoginRes = this.loginRes(reader);\n                    while (agenceLoginRes.length == 0\n                            || !agenceLoginRes[0].getIdentifiant().equals(agenceLogin[0].getIdentifiant())\n                            || !agenceLoginRes[0].getMdp().equals(agenceLogin[0].getMdp())) {\n                        System.err.println(&quot;Identifiant ou mot de passe n'est pas correct, veuillez réessayer !\\n&quot;);\n                        agenceLoginRes = this.loginRes(reader);\n                    }\n                    String agenceId = agenceLoginRes[0].getIdentifiant();\n                    System.out.println(agenceId + &quot; login Avec succès!&quot;);\n                    // Client\n                    System.out.println(&quot;Nom du client principal: &quot;);\n                    String nom = reader.readLine();\n                    System.out.println();\n\n                    System.out.println(&quot;Prénom de client principal: &quot;);\n                    String prenom = reader.readLine();\n                    System.out.println();\n\n                    CarteCredit createdCarteCredit = createCarteCredit(reader);\n\n                    uri = HOTEL_BOOK_URL + &quot;/cartecredit&quot;;\n                    CarteCredit returnedCarteCredit = proxy.postForObject(uri, createdCarteCredit, CarteCredit.class);\n\n                    Client createdClient = new Client(nom, prenom, returnedCarteCredit);\n                    uri = HOTEL_BOOK_URL + &quot;/client&quot;;\n                    Client returnedClient = proxy.postForObject(uri, createdClient, Client.class);\n\n                    HotelPartenaireTarif hotelPartenaireTarif = offreChoisi.getHotelPartenaireTarif();\n                    int hotelId = hotelPartenaireTarif.getHotel().getHotelId();\n                    List&lt;Chambre&gt; chambreChoisi = offreChoisi.getListChambre();\n                    double prixChoisi = agenceLogin[0].prixChoisi(offreChoisi) * days;\n\n                    String reservationId = this.generateResId(agenceLoginRes[0], hotelPartenaireTarif, returnedClient);\n                    reservationId = reservationId.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\n                    Reservation createdRes = new Reservation(reservationId, chambreChoisi, dateArriveeCal,\n                            dateDepartCal, returnedClient, prixChoisi);\n                    try {\n                        uri = HOTEL_BOOK_URL + &quot;/reservation&quot;;\n                        Reservation returnedRes = proxy.postForObject(uri, createdRes, Reservation.class);\n                        uri = HOTEL_BOOK_URL + &quot;/addreservationagence/&quot; + agenceId;\n                        proxy.put(uri, returnedRes);\n                        uri = HOTEL_BOOK_URL + &quot;/addreservationhotel/&quot; + hotelId;\n                        proxy.put(uri, returnedRes);\n                        System.out.println(&quot;Réservé avec succès. Votre numéro de réservation est &quot; + reservationId);\n                    } catch (Exception e) {\n                        System.err.println(&quot;Désolé, il y a un problème avec la réservation. Veuillez réessayer.&quot;);\n                        break;\n                    }\n                }\n                break;\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (HttpClientErrorException e) { // format error in cli\n            System.err.println(e.getMessage());\n        }\n    }\n\n    public List&lt;String&gt; displayAllCombinations(Propose[] allCombinations, Calendar dateArrivee, Calendar dateDepart,\n            Agence[] agenceLogin, int days) {\n        List&lt;String&gt; listChambreId = new ArrayList&lt;&gt;();\n        for (Propose propose : allCombinations) {\n            System.out.println(&quot;Identifiant de l'offre:&quot; + propose.getOffreId() + &quot;\\n&quot; + &quot;Nom de l'hôtel&quot;\n                    + propose.getHotelPartenaireTarif().getHotel().getNom() + &quot;\\n&quot; + &quot;Date de disponibilité: de &quot;\n                    + this.calendarToString(dateArrivee) + &quot; à &quot; + this.calendarToString(dateDepart));\n            int nombreLits = 0;\n            for (Chambre c : propose.getListChambre()) {\n                listChambreId.add(c.getChambreId());\n                String descLit = &quot;&quot;;\n                System.out.println(&quot;#Chambre Id:&quot; + c.getChambreId());\n                for (Lit lit : c.getLitCollection()) {\n                    descLit = descLit + lit.toString() + &quot;\\n&quot;;\n                    nombreLits++;\n                }\n                System.out.println(descLit);\n            }\n            System.out.println(&quot;Nombre de lits totaux proposés:&quot; + nombreLits + &quot;\\n&quot; + &quot;Prix total à payer:&quot;\n                    + this.doubleToString(agenceLogin[0].prixChoisi(propose) * days)\n                    + &quot; (avec pourcentage de commission)&quot; + &quot; (Pour &quot; + days + &quot; nuits)&quot; + &quot;\\n&quot;\n                    + &quot;--------------------&quot;);\n        }\n        return listChambreId;\n    }\n\n    private String calendarToString(Calendar date) {\n        SimpleDateFormat format1 = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        String dateString = format1.format(date.getTime());\n        return dateString;\n    }\n\n    private String doubleToString(double prix) {\n        DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\n        return df.format(prix);\n    }\n\n    private int daysBetween(Calendar dateArrivee, Calendar dateDepart) {\n        Date d1 = dateArrivee.getTime();\n        Date d2 = dateDepart.getTime();\n        return (int) ((d2.getTime() - d1.getTime()) / (1000 * 60 * 60 * 24));\n    }\n\n    private Agence[] login(BufferedReader reader) {\n        String identifiant = null;\n        String mdp = null;\n        try {\n            System.out.println(&quot;Veuillez login pour rechercher!&quot;);\n            System.out.println(&quot;Saisir identifiant de l'agence:&quot;);\n\n            identifiant = reader.readLine();\n            System.out.println();\n\n            System.out.println(&quot;Saisir mot de passe de l'agence:&quot;);\n            mdp = reader.readLine();\n            System.out.println();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        String uri = HOTEL_SEARCH_URL + &quot;/agence/identifiantandmdp?identifiant=&quot; + identifiant + &quot;&amp;mdp=&quot; + mdp;\n        Agence[] agenceLogin = proxy.getForObject(uri, Agence[].class);\n        return agenceLogin;\n    }\n\n    private Agence[] loginRes(BufferedReader reader) {\n        String identifiant = null;\n        String mdp = null;\n        try {\n            System.out.println(&quot;Veuillez login pour réserver!&quot;);\n            System.out.println(\n                    &quot;Saisir identifiant de l'agence (le même identifiant d'agence qui a récupéré les offres):&quot;);\n\n            identifiant = reader.readLine();\n            System.out.println();\n\n            System.out.println(&quot;Saisir mot de passe de l'agence:&quot;);\n            mdp = reader.readLine();\n            System.out.println();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        String uri = HOTEL_BOOK_URL + &quot;/agence/identifiantandmdp?identifiant=&quot; + identifiant + &quot;&amp;mdp=&quot; + mdp;\n        Agence[] agenceLoginRes = proxy.getForObject(uri, Agence[].class);\n        return agenceLoginRes;\n    }\n\n    private String generateResId(Agence agenceLoginRes, HotelPartenaireTarif hotelPartenaireTarif, Client client) {\n        Timestamp timestamp = new Timestamp(System.currentTimeMillis());\n        String reservationId = agenceLoginRes.getIdentifiant() + client.getNom() + timestamp.getTime();\n        return reservationId;\n    }\n\n    private Propose checkPropose(Propose[] allCombinationsList, String identifiantOffre) {\n        for (Propose propose : allCombinationsList) {\n            if (propose.getOffreId().equals(identifiantOffre)) {\n                return propose;\n            }\n        }\n        return null;\n    }\n\n    public void displayImage(String imageName) throws Exception {\n        String uri = HOTEL_SEARCH_URL + &quot;/hotel/image?imageName=&quot; + imageName;\n        //      Image image = proxy.getForObject(uri, Image.class);\n        //      JFrame imageFrame = new JFrame();\n        //        imageFrame.setSize(1024, 683);\n        //        JLabel imageLabel = new JLabel(new ImageIcon(image));\n        //        imageFrame.add(imageLabel);\n        //        imageFrame.setVisible(true);\n        //        imageFrame.setAlwaysOnTop(true);\n        //      proxy.getForObject(uri, null);\n\n        //        if (Desktop.isDesktopSupported()) {\n        //            // Windows\n        //            Desktop.getDesktop().browse(new URI(uri));\n        //        } else {\n        //            // Ubuntu\n        //            Runtime runtime = Runtime.getRuntime();\n        //            runtime.exec(&quot;/usr/bin/firefox -new-window &quot; + uri);\n        //        }\n        //      Runtime rt = Runtime.getRuntime();\n        //      rt.exec(&quot;open &quot; + uri);\n\n        String myOS = System.getProperty(&quot;os.name&quot;).toLowerCase();\n        System.out.println(&quot;(Votre système d'exploitation est: &quot; + myOS + &quot;)\\n&quot;);\n        try {\n            if (Desktop.isDesktopSupported()) { // Probably Windows\n                System.out.println(&quot; -- Aller avec Desktop.browse ...&quot;);\n                Desktop desktop = Desktop.getDesktop();\n                desktop.browse(new URI(uri));\n            } else { // Definitely Non-windows\n                Runtime runtime = Runtime.getRuntime();\n                if (myOS.contains(&quot;mac&quot;)) { // Apples\n                    System.out.println(&quot; -- Aller sur Apple avec 'ouverte'...&quot;);\n                    runtime.exec(&quot;open &quot; + uri);\n                } else if (myOS.contains(&quot;nix&quot;) || myOS.contains(&quot;nux&quot;)) { // Linux flavours \n                    System.out.println(&quot; -- Passer sous Linux avec 'xdg-open'...&quot;);\n                   runtime.exec(&quot;xdg-open &quot; + uri);\n                } else\n                    System.out.println(&quot;Je n'ai pas pu lancer de navigateur sur votre système d'exploitation.&quot;);\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;**Trucs à tort: &quot; + e.getMessage());\n        }\n    }\n\n    public void processDisplayInput(BufferedReader reader, String display, List&lt;String&gt; listChambreId) {\n        try {\n            switch (display) {\n            default:\n                System.err.println(&quot;Désolé, mauvaise saisie. Veuillez réessayer.&quot;);\n                return;\n            case &quot;n&quot;:\n                return;\n            case &quot;y&quot;:\n                System.out.println(&quot;Chambre Id ?&quot;);\n                String chambreId = reader.readLine();\n                if (listChambreId.contains(chambreId)) {\n                    this.displayImage(chambreId);\n                } else {\n                    System.err.println(&quot;Chambre Id n'est pas correct.&quot;);\n                }\n                return;\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private CarteCredit createCarteCredit(BufferedReader reader) {\n        // carte credit\n        CarteCredit createdCarteCredit = null;\n        while (!(createdCarteCredit instanceof CarteCredit)) {\n            System.out.println(&quot;Numéro de carte crédit (16 chiffres) : &quot;);\n            String carteNumero = null;\n            try {\n                carteNumero = reader.readLine();\n            } catch (IOException e1) {\n                // TODO Auto-generated catch block\n                e1.printStackTrace();\n            }\n            System.out.println();\n\n            System.out.println(&quot;Mois expiré (2 chiffres) : &quot;);\n            inputStringToInt = new StringToInt(reader);\n            int expireMois = (int) inputStringToInt.process();\n            System.out.println();\n\n            System.out.println(&quot;Année expirée (4 chiffres) : &quot;);\n            inputStringToInt = new StringToInt(reader);\n            int expireAnnee = (int) inputStringToInt.process();\n            System.out.println();\n\n            System.out.println(&quot;CVC code (3 chiffres) : &quot;);\n            String cvcCode = null;\n            try {\n                cvcCode = reader.readLine();\n            } catch (IOException e1) {\n                // TODO Auto-generated catch block\n                e1.printStackTrace();\n            }\n            System.out.println();\n            createdCarteCredit = new CarteCredit(carteNumero, cvcCode, expireMois, expireAnnee);\n        }\n        return createdCarteCredit;\n    }\n\n//  private XMLGregorianCalendar calendarToXMLGregorianCalendar(Calendar cal) {\n//      XMLGregorianCalendar gDateFormatted = null;\n//      try {\n//          gDateFormatted =\n//                  DatatypeFactory.newInstance().newXMLGregorianCalendar(\n//                      cal.get(Calendar.YEAR),\n//                      cal.get(Calendar.MONTH) + 1,\n//                      cal.get(Calendar.DAY_OF_MONTH),\n//                      cal.get(Calendar.HOUR_OF_DAY),\n//                      cal.get(Calendar.MINUTE),\n//                      cal.get(Calendar.SECOND), DatatypeConstants.FIELD_UNDEFINED, DatatypeConstants.FIELD_UNDEFINED);\n//      } catch (DatatypeConfigurationException e) {\n//          e.printStackTrace();\n//      }\n//      return gDateFormatted;\n//  }\n\n}\n</code></pre>\n<p>I think the problem comes from this code below but I don't know how to fix any suggestions.</p>\n<pre><code>    public void displayImage(String imageName) throws Exception {\n        String uri = HOTEL_SEARCH_URL + &quot;/hotel/image?imageName=&quot; + imageName;\n        String myOS = System.getProperty(&quot;os.name&quot;).toLowerCase();\n        System.out.println(&quot;(Votre système d'exploitation est: &quot; + myOS + &quot;)\\n&quot;);\n        try {\n            if (Desktop.isDesktopSupported()) { // Probably Windows\n                System.out.println(&quot; -- Aller avec Desktop.browse ...&quot;);\n                Desktop desktop = Desktop.getDesktop();\n                desktop.browse(new URI(uri));\n            } else { // Definitely Non-windows\n                Runtime runtime = Runtime.getRuntime();\n                if (myOS.contains(&quot;mac&quot;)) { // Apples\n                    System.out.println(&quot; -- Aller sur Apple avec 'ouverte'...&quot;);\n                    runtime.exec(&quot;open &quot; + uri);\n                } else if (myOS.contains(&quot;nix&quot;) || myOS.contains(&quot;nux&quot;)) { // Linux flavours \n                    System.out.println(&quot; -- Passer sous Linux avec 'xdg-open'...&quot;);\n                    runtime.exec(&quot;xdg-open &quot; + uri);\n                } else\n                    System.out.println(&quot;Je n'ai pas pu lancer de navigateur sur votre système d'exploitation.&quot;);\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;**Trucs à tort: &quot; + e.getMessage());\n        }\n    }\n</code></pre>\n<p>The result that I get after finishing the process using CLI (<strong>See image below</strong>):</p>\n<p><a href=\"https://i.stack.imgur.com/q5bEk.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I expect a solution to this problem, thank you</p>\n"},{"tags":["java","license-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":1688086,"reputation":2868,"user_id":1550964,"display_name":"Duarte Meneses"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597838894,"creation_date":1509465332,"answer_id":47039584,"question_id":47030364,"body_markdown":"Try switching to the [com.mycila:license-maven-plugin][1]. Their documentation is very easy to follow.\r\n\r\n\r\n**Create a template in a file**\r\n\r\nFor example, put in `license-header.txt`:\r\n\r\n    Copyright (C) ${license.years} ${license.owner} &lt;${license.email}&gt;\r\n\r\n    ====================================================================\r\n    This software is the property of ${license.owner}. Etc. Etc. \r\n    ====================================================================\r\n    \r\n**Configure the plugin**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;com.mycila&lt;/groupId&gt;\r\n      &lt;artifactId&gt;license-maven-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;header&gt;license-header.txt&lt;/header&gt;   \r\n        &lt;properties&gt;\r\n          &lt;license.owner&gt;My Company&lt;/license.owner&gt;\r\n          &lt;license.years&gt;2009 - 2018&lt;/license.years&gt;\r\n          &lt;license.email&gt;info@mycompany.com&lt;/license.email&gt;\r\n        &lt;/properties&gt;\r\n        &lt;includes&gt;\r\n          &lt;include&gt;src/*/java/**/*.java&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n      &lt;/configuration&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;first&lt;/id&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;check&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;phase&gt;process-sources&lt;/phase&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nYou can format with `mvn license:format` or just change the goal in the configuration to `format` to do it in every run.\r\n\r\n  [1]: http://code.mycila.com/license-maven-plugin/","title":"license-maven-plugin:update-file-header How to exclude project name?","body":"<p>Try switching to the <a href=\"http://code.mycila.com/license-maven-plugin/\" rel=\"nofollow noreferrer\">com.mycila:license-maven-plugin</a>. Their documentation is very easy to follow.</p>\n<p><strong>Create a template in a file</strong></p>\n<p>For example, put in <code>license-header.txt</code>:</p>\n<pre><code>Copyright (C) ${license.years} ${license.owner} &lt;${license.email}&gt;\n\n====================================================================\nThis software is the property of ${license.owner}. Etc. Etc. \n====================================================================\n</code></pre>\n<p><strong>Configure the plugin</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;com.mycila&lt;/groupId&gt;\n  &lt;artifactId&gt;license-maven-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;header&gt;license-header.txt&lt;/header&gt;   \n    &lt;properties&gt;\n      &lt;license.owner&gt;My Company&lt;/license.owner&gt;\n      &lt;license.years&gt;2009 - 2018&lt;/license.years&gt;\n      &lt;license.email&gt;info@mycompany.com&lt;/license.email&gt;\n    &lt;/properties&gt;\n    &lt;includes&gt;\n      &lt;include&gt;src/*/java/**/*.java&lt;/include&gt;\n    &lt;/includes&gt;\n  &lt;/configuration&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;first&lt;/id&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;check&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;phase&gt;process-sources&lt;/phase&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>You can format with <code>mvn license:format</code> or just change the goal in the configuration to <code>format</code> to do it in every run.</p>\n"}],"owner":{"account_id":2593882,"reputation":2074,"user_id":2247949,"accept_rate":21,"display_name":"SST"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669482498,"creation_date":1509436504,"question_id":47030364,"body_markdown":"I am using license-maven-plugin to insert license headers in each files in source tree successfully. \r\nIt generates the following: \r\n\r\n    /*-\r\n     * #%L\r\n     * my-unqualified-package-name\r\n     * %%\r\n     * Copyright (C) 2009 - 2017 My Company. &lt;info@mycompany.com&gt;\r\n     * %%\r\n     * This software is the property of My Company. Etc. Etc. \r\n     * \r\n     * #L%\r\n     */\r\n\r\nMy pom,\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;license-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.14&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;inceptionYear&gt;2009&lt;/inceptionYear&gt;\r\n                    &lt;addJavaLicenseAfterPackage&gt;false&lt;/addJavaLicenseAfterPackage&gt;\r\n                    &lt;organizationName&gt;My Company. &amp;lt;info@mycompany.com&amp;gt;&lt;/organizationName&gt;\r\n                    &lt;licenseName&gt;my_license&lt;/licenseName&gt;\r\n                    &lt;licenseResolver&gt;${project.baseUri}/src/license&lt;/licenseResolver&gt;\r\n                    &lt;roots&gt;\r\n                       &lt;!-- &lt;root&gt;src/main/java&lt;/root&gt; --&gt;\r\n                        &lt;root&gt;src/test&lt;/root&gt;\r\n                    &lt;/roots&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;first&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;update-file-header&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;process-sources&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nBut I want the following format,\r\n\r\n    /**\r\n    * Copyright (C) 2009 - 2018 My Company. &lt;info@mycompany.com&gt;\r\n    *\r\n    * ====================================================================\r\n    * This software is the property of My Company. Etc. Etc. \r\n    * ====================================================================\r\n    */\r\n","title":"license-maven-plugin:update-file-header How to exclude project name?","body":"<p>I am using license-maven-plugin to insert license headers in each files in source tree successfully. \nIt generates the following: </p>\n\n<pre><code>/*-\n * #%L\n * my-unqualified-package-name\n * %%\n * Copyright (C) 2009 - 2017 My Company. &lt;info@mycompany.com&gt;\n * %%\n * This software is the property of My Company. Etc. Etc. \n * \n * #L%\n */\n</code></pre>\n\n<p>My pom,</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;license-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.14&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;inceptionYear&gt;2009&lt;/inceptionYear&gt;\n                &lt;addJavaLicenseAfterPackage&gt;false&lt;/addJavaLicenseAfterPackage&gt;\n                &lt;organizationName&gt;My Company. &amp;lt;info@mycompany.com&amp;gt;&lt;/organizationName&gt;\n                &lt;licenseName&gt;my_license&lt;/licenseName&gt;\n                &lt;licenseResolver&gt;${project.baseUri}/src/license&lt;/licenseResolver&gt;\n                &lt;roots&gt;\n                   &lt;!-- &lt;root&gt;src/main/java&lt;/root&gt; --&gt;\n                    &lt;root&gt;src/test&lt;/root&gt;\n                &lt;/roots&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;first&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;update-file-header&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;process-sources&lt;/phase&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>But I want the following format,</p>\n\n<pre><code>/**\n* Copyright (C) 2009 - 2018 My Company. &lt;info@mycompany.com&gt;\n*\n* ====================================================================\n* This software is the property of My Company. Etc. Etc. \n* ====================================================================\n*/\n</code></pre>\n"},{"tags":["java","computer-science"],"comments":[{"owner":{"account_id":19044032,"reputation":1085,"user_id":16973338,"display_name":"Risheek Mittal"},"score":0,"creation_date":1669265706,"post_id":74555718,"comment_id":131606547,"body_markdown":"can you tell me what will happen if there are only two consecutive numbers and not three?","body":"can you tell me what will happen if there are only two consecutive numbers and not three?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1669266154,"post_id":74555718,"comment_id":131606610,"body_markdown":"Please explain what part of this you are having trouble with.","body":"Please explain what part of this you are having trouble with."},{"owner":{"account_id":8722811,"reputation":7426,"user_id":6689725,"display_name":"Z4-tier"},"score":0,"creation_date":1669266222,"post_id":74555718,"comment_id":131606623,"body_markdown":"999 is an integer, what if i want to enter that as input as on of my numbers?","body":"999 is an integer, what if i want to enter that as input as on of my numbers?"},{"owner":{"account_id":27030852,"reputation":3,"user_id":20587243,"display_name":"orbarkalifa"},"score":0,"creation_date":1669266534,"post_id":74555718,"comment_id":131606671,"body_markdown":"999 is the condition when I need to stop taking the inputs,\nif there are only 2 inputs then i just need to print their sum.\nI cant think of a way to stop the input and calculate the largest sum at the same time","body":"999 is the condition when I need to stop taking the inputs, if there are only 2 inputs then i just need to print their sum. I cant think of a way to stop the input and calculate the largest sum at the same time"}],"answers":[{"comments":[{"owner":{"account_id":27030852,"reputation":3,"user_id":20587243,"display_name":"orbarkalifa"},"score":0,"creation_date":1669269758,"post_id":74556040,"comment_id":131607262,"body_markdown":"Sliding window algorithm sound perfect but we are not allowed to use deque.removeFirst, is there another alternative?","body":"Sliding window algorithm sound perfect but we are not allowed to use deque.removeFirst, is there another alternative?"}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669283705,"creation_date":1669268195,"answer_id":74556040,"question_id":74555718,"body_markdown":"[Sliding Window Algorithm Technique][1] is your friend! You can do it with **O(n)**.\r\n\r\n```java\r\npublic static long findThreeConsecutiveSum(Iterator&lt;Integer&gt; it) {\r\n    long maxSum = Long.MIN_VALUE;\r\n    long curSum = 0;\r\n    Deque&lt;Integer&gt; deque = new ArrayDeque&lt;&gt;(4);\r\n\r\n    while (it.hasNext()) {\r\n        int val = it.next();\r\n\r\n        curSum += val;\r\n        deque.addLast(val);\r\n\r\n        if (deque.size() == 4) {\r\n            curSum -= deque.removeFirst();\r\n        }\r\n\r\n        maxSum = Math.max(maxSum, curSum);\r\n    }\r\n\r\n\r\n    return maxSum;\r\n}\r\n```\r\n\r\nor in case you can&#39;t use `Deque`:\r\n\r\n```java\r\npublic static long findThreeConsecutiveSum(Iterator&lt;Integer&gt; it) {\r\n    long maxSum = Long.MIN_VALUE;\r\n    int[] arr = new int[3];\r\n    int i = 0;\r\n\r\n    while (it.hasNext()) {\r\n        int val = it.next();\r\n\r\n        if (i == arr.length) {\r\n            arr[0] = arr[1];\r\n            arr[1] = arr[2];\r\n            arr[2] = val;\r\n        } else\r\n            arr[i++] = val;\r\n\r\n        maxSum = Math.max(maxSum, arr[0] + arr[1] + arr[2]);\r\n    }\r\n\r\n\r\n    return maxSum;\r\n}\r\n```\r\n\r\n**Demo**\r\n\r\n```java\r\nList&lt;Integer&gt; values = List.of(7, 2, 9, 8, 7, 6, 7, 5, 9);\r\nlong maxSum = findThreeConsecutiveSum(values.iterator());\r\nSystem.out.println(maxSum); // 24\r\n```\r\n\r\n  [1]: https://Sliding%20Window%20Algorithm%20Technique","title":"find largest sum of 3 consecutive integers from inputs (Java)","body":"<p><a href=\"https://Sliding%20Window%20Algorithm%20Technique\" rel=\"nofollow noreferrer\">Sliding Window Algorithm Technique</a> is your friend! You can do it with <strong>O(n)</strong>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static long findThreeConsecutiveSum(Iterator&lt;Integer&gt; it) {\n    long maxSum = Long.MIN_VALUE;\n    long curSum = 0;\n    Deque&lt;Integer&gt; deque = new ArrayDeque&lt;&gt;(4);\n\n    while (it.hasNext()) {\n        int val = it.next();\n\n        curSum += val;\n        deque.addLast(val);\n\n        if (deque.size() == 4) {\n            curSum -= deque.removeFirst();\n        }\n\n        maxSum = Math.max(maxSum, curSum);\n    }\n\n\n    return maxSum;\n}\n</code></pre>\n<p>or in case you can't use <code>Deque</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static long findThreeConsecutiveSum(Iterator&lt;Integer&gt; it) {\n    long maxSum = Long.MIN_VALUE;\n    int[] arr = new int[3];\n    int i = 0;\n\n    while (it.hasNext()) {\n        int val = it.next();\n\n        if (i == arr.length) {\n            arr[0] = arr[1];\n            arr[1] = arr[2];\n            arr[2] = val;\n        } else\n            arr[i++] = val;\n\n        maxSum = Math.max(maxSum, arr[0] + arr[1] + arr[2]);\n    }\n\n\n    return maxSum;\n}\n</code></pre>\n<p><strong>Demo</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; values = List.of(7, 2, 9, 8, 7, 6, 7, 5, 9);\nlong maxSum = findThreeConsecutiveSum(values.iterator());\nSystem.out.println(maxSum); // 24\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27030852,"reputation":3,"user_id":20587243,"display_name":"orbarkalifa"},"score":0,"creation_date":1669287426,"post_id":74556529,"comment_id":131612818,"body_markdown":"you’re a hero. \nThat was exactly my idea, couldn&#39;t figure out the algorithm to do it and to close input for ‘999’ at the same time, but I’ll keep trying, thanks!","body":"you’re a hero.  That was exactly my idea, couldn&#39;t figure out the algorithm to do it and to close input for ‘999’ at the same time, but I’ll keep trying, thanks!"}],"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669271821,"creation_date":1669271821,"answer_id":74556529,"question_id":74555718,"body_markdown":"Since this is homework, I&#39;m not going to write the code.\r\n\r\nLet&#39;s take your example.  I&#39;m assuming that all input values will be positive integers.\r\n\r\n    7 2 9 8 7 6 7 5 9 999\r\n\r\nNow, how would you do this with a pencil and paper?\r\n\r\nYou have to save 3 numbers.  An array would be helpful here, but since you can&#39;t use an array, you can define 3 int values to hold the previous values.  We also define a sum and maxSum.\r\n\r\n    value1 = 0\r\n    value2 = 0\r\n    value3 = 0\r\n    sum = 0\r\n    maxSum = 0\r\n\r\nSo, the first number is 7.  After reading 7, we now have the following on paper.\r\n\r\n    value1 = 7\r\n    value2 = 0\r\n    value3 = 0\r\n    sum = 7\r\n    maxSum = 7\r\n\r\nThe next number is 2.  After reading 2, we now have the following on paper.\r\n\r\n    value1 = 7\r\n    value2 = 2\r\n    value3 = 0\r\n    sum = 9\r\n    maxSum = 9\r\n\r\nThe next number is 9.  After reading 9, we now have the following on paper.\r\n\r\n    value1 = 7\r\n    value2 = 2\r\n    value3 = 9\r\n    sum = 18\r\n    maxSum = 18\r\n\r\nThe next number is 8.  After reading 8, we now have the following on paper.\r\n\r\n    value1 = 2\r\n    value2 = 9\r\n    value3 = 8\r\n    sum = 19\r\n    maxSum = 19\r\n\r\nNotice how the numbers stored in value1 through value3 have shifted.  You keep the last three values.\r\n\r\nYou can work out how reading the rest of the values works using the same method.\r\n\r\nYou walk through the algorithm using a pencil and paper.\r\n","title":"find largest sum of 3 consecutive integers from inputs (Java)","body":"<p>Since this is homework, I'm not going to write the code.</p>\n<p>Let's take your example.  I'm assuming that all input values will be positive integers.</p>\n<pre><code>7 2 9 8 7 6 7 5 9 999\n</code></pre>\n<p>Now, how would you do this with a pencil and paper?</p>\n<p>You have to save 3 numbers.  An array would be helpful here, but since you can't use an array, you can define 3 int values to hold the previous values.  We also define a sum and maxSum.</p>\n<pre><code>value1 = 0\nvalue2 = 0\nvalue3 = 0\nsum = 0\nmaxSum = 0\n</code></pre>\n<p>So, the first number is 7.  After reading 7, we now have the following on paper.</p>\n<pre><code>value1 = 7\nvalue2 = 0\nvalue3 = 0\nsum = 7\nmaxSum = 7\n</code></pre>\n<p>The next number is 2.  After reading 2, we now have the following on paper.</p>\n<pre><code>value1 = 7\nvalue2 = 2\nvalue3 = 0\nsum = 9\nmaxSum = 9\n</code></pre>\n<p>The next number is 9.  After reading 9, we now have the following on paper.</p>\n<pre><code>value1 = 7\nvalue2 = 2\nvalue3 = 9\nsum = 18\nmaxSum = 18\n</code></pre>\n<p>The next number is 8.  After reading 8, we now have the following on paper.</p>\n<pre><code>value1 = 2\nvalue2 = 9\nvalue3 = 8\nsum = 19\nmaxSum = 19\n</code></pre>\n<p>Notice how the numbers stored in value1 through value3 have shifted.  You keep the last three values.</p>\n<p>You can work out how reading the rest of the values works using the same method.</p>\n<p>You walk through the algorithm using a pencil and paper.</p>\n"}],"owner":{"account_id":27030852,"reputation":3,"user_id":20587243,"display_name":"orbarkalifa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1669302613,"accepted_answer_id":74556529,"answer_count":2,"score":-1,"last_activity_date":1669481957,"creation_date":1669264952,"question_id":74555718,"body_markdown":"hey guys I need some help here\r\n\r\nthe goal:\r\ntake input as long is inputs != 999, print greatest sum of 3 consecutive numbers (999 excluded). if less than 3 inputs entered, print all inputs&#39; sum.\r\n\r\ncan&#39;t use arrays\r\n\r\nfor example\r\n\r\n\r\n```7 2 **9 8 7** 6 7 5 9 999 ```\r\n\r\nThe max sum is 24 \r\n\r\nbecause 9+8+7 = 24 (9,8,7 makes the greatest sum of consecutive numbers)\r\n\r\n\r\nthanks\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\t\t\r\n\t\tSystem.out.print(&quot;Please enter numbers followed by 999: &quot;);\r\n\t\tint num=0, sum=0, maxSum=0;\r\n\t\t\r\n\t\twhile (num != 999) {\r\n\t\t\tnum = input.nextInt();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;The max sum is &quot;);\r\n\t\t\r\n\t\tinput.close();\r\n\t}\r\n\r\n}\r\n```\r\n","title":"find largest sum of 3 consecutive integers from inputs (Java)","body":"<p>hey guys I need some help here</p>\n<p>the goal:\ntake input as long is inputs != 999, print greatest sum of 3 consecutive numbers (999 excluded). if less than 3 inputs entered, print all inputs' sum.</p>\n<p>can't use arrays</p>\n<p>for example</p>\n<p><code>7 2 **9 8 7** 6 7 5 9 999 </code></p>\n<p>The max sum is 24</p>\n<p>because 9+8+7 = 24 (9,8,7 makes the greatest sum of consecutive numbers)</p>\n<p>thanks</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        \n        System.out.print(&quot;Please enter numbers followed by 999: &quot;);\n        int num=0, sum=0, maxSum=0;\n        \n        while (num != 999) {\n            num = input.nextInt();\n        }\n        \n        \n        System.out.println(&quot;The max sum is &quot;);\n        \n        input.close();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669481164,"creation_date":1669481164,"answer_id":74583977,"question_id":74526632,"body_markdown":"You could use a `Processor` to implement this logic:\r\n\r\n    .process( ex -&gt; ex.setProperty(&quot;2n&quot;, ex.getProperty(&quot;n&quot;, Integer.class)*2) )","title":"How to reference an Apache Camel Exchange within a route in Java","body":"<p>You could use a <code>Processor</code> to implement this logic:</p>\n<pre><code>.process( ex -&gt; ex.setProperty(&quot;2n&quot;, ex.getProperty(&quot;n&quot;, Integer.class)*2) )\n</code></pre>\n"}],"owner":{"account_id":8208786,"reputation":1,"user_id":18864255,"display_name":"Kelly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669481164,"creation_date":1669081314,"question_id":74526632,"body_markdown":"Within a Camel route I add a property to the Exchange:\r\n\r\n```\r\n.setProperty(&quot;n&quot;, Integer.valueOf(n))\r\n```\r\nfor some `int` `n`.\r\nIf I wanted to later set another property\r\n```\r\n.setProperty(&quot;2n&quot;, 2*[expression that evaluates to n])\r\n```\r\nwith value `2*n`, what would I put in for `[expression that evaluates to n]`?\r\nI want to reference the exchange property `&quot;n&quot;` and not the original `int` `n`.\r\n\r\nI&#39;ve considered using \r\n```\r\nsimple(&quot;${properties:n}&quot;).evaluate([reference to Exchange])\r\n```\r\nbut I don&#39;t know how to reference the Exchange.","title":"How to reference an Apache Camel Exchange within a route in Java","body":"<p>Within a Camel route I add a property to the Exchange:</p>\n<pre><code>.setProperty(&quot;n&quot;, Integer.valueOf(n))\n</code></pre>\n<p>for some <code>int</code> <code>n</code>.\nIf I wanted to later set another property</p>\n<pre><code>.setProperty(&quot;2n&quot;, 2*[expression that evaluates to n])\n</code></pre>\n<p>with value <code>2*n</code>, what would I put in for <code>[expression that evaluates to n]</code>?\nI want to reference the exchange property <code>&quot;n&quot;</code> and not the original <code>int</code> <code>n</code>.</p>\n<p>I've considered using</p>\n<pre><code>simple(&quot;${properties:n}&quot;).evaluate([reference to Exchange])\n</code></pre>\n<p>but I don't know how to reference the Exchange.</p>\n"},{"tags":["java","eclipse","unit-testing","testing","junit"],"answers":[{"tags":[],"owner":{"account_id":19763845,"reputation":11,"user_id":14472339,"display_name":"dixbadix"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603023858,"creation_date":1603023858,"answer_id":64413256,"question_id":64135232,"body_markdown":"Because they created and used mutant versions of the Demo.java. Mutant code is a version of the original code with single syntactical change, like &#39;+&#39; is changed to &#39;-&#39;, variable A to variable B, or &#39;&gt;&#39; changed to &#39;&gt;=&#39;.\r\n\r\nEach of these changes can make the code behave differently from the original code and your test script should detect these changes.\r\n\r\nmutant1: -0.020833333333333332 *** Learner did not properly terminate mutant version!  ----- means that your test script passed against a mutant code in which it should not, it means that your test script does not cover much of the possible errors in the code.\r\n\r\nTry: add input combinations using 1,2,3","title":"Eclipse(java testing) - terminate mutant version","body":"<p>Because they created and used mutant versions of the Demo.java. Mutant code is a version of the original code with single syntactical change, like '+' is changed to '-', variable A to variable B, or '&gt;' changed to '&gt;='.</p>\n<p>Each of these changes can make the code behave differently from the original code and your test script should detect these changes.</p>\n<p>mutant1: -0.020833333333333332 *** Learner did not properly terminate mutant version!  ----- means that your test script passed against a mutant code in which it should not, it means that your test script does not cover much of the possible errors in the code.</p>\n<p>Try: add input combinations using 1,2,3</p>\n"},{"tags":[],"owner":{"account_id":13225625,"reputation":11,"user_id":9550793,"display_name":"Milos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669480692,"creation_date":1669480692,"answer_id":74583913,"question_id":64135232,"body_markdown":"This error just means that you didn&#39;t write enough unit tests. &quot;Mutant&quot; is a changed code, which is invalid and which should make some of your unit tests fail. So basically this error message says that tests were executed against invalidly changed code and that all passed. So you should add more test to cover all cases.","title":"Eclipse(java testing) - terminate mutant version","body":"<p>This error just means that you didn't write enough unit tests. &quot;Mutant&quot; is a changed code, which is invalid and which should make some of your unit tests fail. So basically this error message says that tests were executed against invalidly changed code and that all passed. So you should add more test to cover all cases.</p>\n"}],"owner":{"account_id":19627681,"reputation":1,"user_id":14366670,"display_name":"Afshan khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669480692,"creation_date":1601460169,"question_id":64135232,"body_markdown":"I am a learner on the Coursera &quot;Introduction to Software Testing&quot; course. I am submitting my unit test assignment but the grader output on the Coursera site shows me this:\r\n\r\nmutant1: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\r\nmutant10: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\r\nmutant15: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\r\nmutant18: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\r\nmutant2: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\r\nmutant21: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\r\nmutant23: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\r\nmutant25: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\r\nmutant3: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\r\n\r\n\r\nKindly help! I have to submit the assignment to get a certificate.\r\n\r\n    // Demo.java\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class Demo {\r\n    \r\n        public static void main(String[] args) {\r\n            // Reading from System.in\r\n            Scanner reader = new Scanner(System.in);  \r\n            \r\n            System.out.println(&quot;Enter side 1: &quot;);\r\n            // Scans the next token of the input as an int.\r\n            int side_1 = reader.nextInt();\r\n            \r\n            System.out.println(&quot;Enter side 2: &quot;);\r\n            // Scans the next token of the input as an int.\r\n            int side_2 = reader.nextInt();\r\n            \r\n            System.out.println(&quot;Enter side 3: &quot;);\r\n            // Scans the next token of the input as an int.\r\n            int side_3 = reader.nextInt();\r\n            \r\n            if (isTriangle(side_1, side_2, side_3)) {\r\n                System.out.println(&quot;This is a triangle.&quot;);\r\n            }\r\n            else {\r\n                System.out.println(&quot;This is not a triangle.&quot;);\r\n            }\r\n            \r\n            reader.close();\r\n    \r\n        }\r\n        \r\n        public static boolean isTriangle(double a, double b, double c) {\r\n            if ((a + b &gt; c) &amp;&amp;\r\n                (a + c &gt; b) &amp;&amp; // should be a + c &gt; b\r\n                (b + c &gt; a)) {\r\n                return true; \r\n            }\r\n            return false;\r\n        }\r\n    \r\n    }\r\n\r\nthe testing code is:\r\n\r\n    import static org.junit.Assert.*;\r\n    \r\n    import org.junit.Test;\r\n    \r\n    public class DemoTest {\r\n    \r\n    \t@Test\r\n    \tpublic void triangle_test_1() {\r\n    \t\tassertTrue(Demo.isTriangle(3,2,4));\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void triangle_test_2() {\r\n    \t\tassertTrue(Demo.isTriangle(4,3,5));\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void triangle_test_3() {\r\n    \t\tassertTrue(Demo.isTriangle(5,3,5));\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void triangle_test_4() {\r\n    \t\tassertTrue(Demo.isTriangle(6,4,5));\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void triangle_test_5() {\r\n    \t\tassertTrue(Demo.isTriangle(7,5,6));\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void triangle_test_6() {\r\n    \t\tassertFalse(Demo.isTriangle(13,2,4));\r\n    \t\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void triangle_test_7() {\r\n    \t\tassertFalse(Demo.isTriangle(4,3,15));\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void triangle_test_8() {\r\n    \t\tassertFalse(Demo.isTriangle(3,22,4));\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void triangle_test_9() {\r\n    \t\tassertFalse(Demo.isTriangle(24,2,5));\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void triangle_test_10() {\r\n    \t\tassertFalse(Demo.isTriangle(34,2,4));\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Test\r\n    \tpublic void triangle_test_11() {\r\n    \t\tassertFalse(Demo.isTriangle(2,10,4));\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    }\r\n\r\n","title":"Eclipse(java testing) - terminate mutant version","body":"<p>I am a learner on the Coursera &quot;Introduction to Software Testing&quot; course. I am submitting my unit test assignment but the grader output on the Coursera site shows me this:</p>\n<p>mutant1: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\nmutant10: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\nmutant15: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\nmutant18: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\nmutant2: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\nmutant21: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\nmutant23: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\nmutant25: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***\nmutant3: -0.020833333333333332 *** Learner did not properly terminate mutant version! ***</p>\n<p>Kindly help! I have to submit the assignment to get a certificate.</p>\n<pre><code>// Demo.java\n\nimport java.util.Scanner;\n\npublic class Demo {\n\n    public static void main(String[] args) {\n        // Reading from System.in\n        Scanner reader = new Scanner(System.in);  \n        \n        System.out.println(&quot;Enter side 1: &quot;);\n        // Scans the next token of the input as an int.\n        int side_1 = reader.nextInt();\n        \n        System.out.println(&quot;Enter side 2: &quot;);\n        // Scans the next token of the input as an int.\n        int side_2 = reader.nextInt();\n        \n        System.out.println(&quot;Enter side 3: &quot;);\n        // Scans the next token of the input as an int.\n        int side_3 = reader.nextInt();\n        \n        if (isTriangle(side_1, side_2, side_3)) {\n            System.out.println(&quot;This is a triangle.&quot;);\n        }\n        else {\n            System.out.println(&quot;This is not a triangle.&quot;);\n        }\n        \n        reader.close();\n\n    }\n    \n    public static boolean isTriangle(double a, double b, double c) {\n        if ((a + b &gt; c) &amp;&amp;\n            (a + c &gt; b) &amp;&amp; // should be a + c &gt; b\n            (b + c &gt; a)) {\n            return true; \n        }\n        return false;\n    }\n\n}\n</code></pre>\n<p>the testing code is:</p>\n<pre><code>import static org.junit.Assert.*;\n\nimport org.junit.Test;\n\npublic class DemoTest {\n\n    @Test\n    public void triangle_test_1() {\n        assertTrue(Demo.isTriangle(3,2,4));\n    }\n    \n    @Test\n    public void triangle_test_2() {\n        assertTrue(Demo.isTriangle(4,3,5));\n    }\n    \n    @Test\n    public void triangle_test_3() {\n        assertTrue(Demo.isTriangle(5,3,5));\n    }\n    \n    @Test\n    public void triangle_test_4() {\n        assertTrue(Demo.isTriangle(6,4,5));\n    }\n    \n    @Test\n    public void triangle_test_5() {\n        assertTrue(Demo.isTriangle(7,5,6));\n    }\n    \n    @Test\n    public void triangle_test_6() {\n        assertFalse(Demo.isTriangle(13,2,4));\n    \n    }\n    \n    @Test\n    public void triangle_test_7() {\n        assertFalse(Demo.isTriangle(4,3,15));\n    }\n    \n    @Test\n    public void triangle_test_8() {\n        assertFalse(Demo.isTriangle(3,22,4));\n    }\n    \n    @Test\n    public void triangle_test_9() {\n        assertFalse(Demo.isTriangle(24,2,5));\n    }\n    \n    @Test\n    public void triangle_test_10() {\n        assertFalse(Demo.isTriangle(34,2,4));\n    }\n    \n    \n    @Test\n    public void triangle_test_11() {\n        assertFalse(Demo.isTriangle(2,10,4));\n        \n    }\n    \n    \n\n}\n</code></pre>\n"},{"tags":["java","arraylist","syntax"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669479070,"post_id":74583692,"comment_id":131651743,"body_markdown":"&quot;Doesn&#39;t work&quot; doesn&#39;t give us a lot of information - please show expected output, and either actual output or the text of the error you&#39;re getting.","body":"&quot;Doesn&#39;t work&quot; doesn&#39;t give us a lot of information - please show expected output, and either actual output or the text of the error you&#39;re getting."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669479217,"post_id":74583692,"comment_id":131651786,"body_markdown":"That said, you&#39;re running this check on *every* element of the list - so if you have `&quot;apples&quot;`, `&quot;bananas&quot;` and `&quot;long pork&quot;` on your list, then when you try to update the calories for `&quot;bananas&quot;` you will also add `&quot;bananas&quot;` to the list twice, as it does not equal `&quot;apples&quot;` or `&quot;long pork&quot;`. (Also, what if `c == 0`?`)","body":"That said, you&#39;re running this check on <i>every</i> element of the list - so if you have <code>&quot;apples&quot;</code>, <code>&quot;bananas&quot;</code> and <code>&quot;long pork&quot;</code> on your list, then when you try to update the calories for <code>&quot;bananas&quot;</code> you will also add <code>&quot;bananas&quot;</code> to the list twice, as it does not equal <code>&quot;apples&quot;</code> or <code>&quot;long pork&quot;</code>. (Also, what if <code>c == 0</code>?`)"},{"owner":{"account_id":26436221,"reputation":15,"user_id":20081540,"display_name":"secretlymaia"},"score":0,"creation_date":1669479344,"post_id":74583692,"comment_id":131651816,"body_markdown":"@EdwardPeters, but doesn&#39;t this only happen if we find the same name in the foodList?","body":"@EdwardPeters, but doesn&#39;t this only happen if we find the same name in the foodList?"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669479498,"post_id":74583692,"comment_id":131651847,"body_markdown":"So your first `if` block is checking if the food you&#39;re searching for is the food *at this index*. The other conditions are therefor checked if it is not the food at *this* index, even if it&#39;s the food at some other index.","body":"So your first <code>if</code> block is checking if the food you&#39;re searching for is the food <i>at this index</i>. The other conditions are therefor checked if it is not the food at <i>this</i> index, even if it&#39;s the food at some other index."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1669479532,"post_id":74583692,"comment_id":131651859,"body_markdown":"Your code doesn&#39;t compile. You have one closing brace more than opening braces.","body":"Your code doesn&#39;t compile. You have one closing brace more than opening braces."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669479679,"post_id":74583692,"comment_id":131651886,"body_markdown":"This is a variation of a bug I see here pretty often - `for{if...else...}`, where the programmer only intended the `else` block to run if the `if` statement *never* fire.","body":"This is a variation of a bug I see here pretty often - <code>for{if...else...}</code>, where the programmer only intended the <code>else</code> block to run if the <code>if</code> statement <i>never</i> fire."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1669479711,"post_id":74583692,"comment_id":131651894,"body_markdown":"Probably not your immediate problem, but when you add a food F to the list (and set its calories to C)  then you&#39;ll increase the size of the list, and assuming F was added at the end, you&#39;ll encounter F again, thus &#39;updating&#39; its calories again.","body":"Probably not your immediate problem, but when you add a food F to the list (and set its calories to C)  then you&#39;ll increase the size of the list, and assuming F was added at the end, you&#39;ll encounter F again, thus &#39;updating&#39; its calories again."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669479827,"post_id":74583692,"comment_id":131651923,"body_markdown":"Oh, right, that&#39;s the other common bug pattern - operating on a list as a whole while from inside a block of code that&#39;s iterating over the list. Usually (not always) operations on individual elements should be nested in your iteration block, and operations on the list as a whole should be arranged sequentially.","body":"Oh, right, that&#39;s the other common bug pattern - operating on a list as a whole while from inside a block of code that&#39;s iterating over the list. Usually (not always) operations on individual elements should be nested in your iteration block, and operations on the list as a whole should be arranged sequentially."}],"answers":[{"tags":[],"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669480430,"creation_date":1669480430,"answer_id":74583886,"question_id":74583692,"body_markdown":"What I suppose your program is intended to do is to look for a food, and do different things depending on whether it&#39;s been seen before.  It may be helpful to consider &#39;look for food&#39; as a separate step.  Here I add a &#39;helper method&#39; to do that.\r\n\r\n    private int findFood(String name) {\r\n        for (int x = 0; x &lt; foodList.size(); x++) {\r\n            if (name.equals(foodList.get(x).getFoodName())) {\r\n                return x;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n    \r\n    public String addFood(String name, double cals) {\r\n           int index = findFood(name);\r\n           if (index &gt;= 0) {  // found\r\n                currentFood.updateCalories(cals);\r\n           } else if (cals &gt; 0) {\r\n                foodList.add(new Food(name, cals));\r\n                System.out.println(&quot;Added Food &quot; + name + &quot; with &quot; + cals + &quot; kcal.&quot;);\r\n            } else if (cals &lt; 0) {\r\n                System.out.println(&quot;Negative calories detected. Please try again.&quot;);\r\n            }\r\n        }\r\n\r\nThe overall lessons here are (a) you&#39;re not obliged to cram all the logic into a single method, and (b) breaking the logic down often helps clarify what is going on.\r\n\r\n(The function of &#39;currentFood&#39; seems obscure to me, since it was not modified by anything in your original code.  Should &#39;currentFood&#39; be set to the food found at index &#39;x&#39;?)\r\n","title":"for loop syntax error or if statement syntax error in java?","body":"<p>What I suppose your program is intended to do is to look for a food, and do different things depending on whether it's been seen before.  It may be helpful to consider 'look for food' as a separate step.  Here I add a 'helper method' to do that.</p>\n<pre><code>private int findFood(String name) {\n    for (int x = 0; x &lt; foodList.size(); x++) {\n        if (name.equals(foodList.get(x).getFoodName())) {\n            return x;\n        }\n    }\n    return -1;\n}\n\npublic String addFood(String name, double cals) {\n       int index = findFood(name);\n       if (index &gt;= 0) {  // found\n            currentFood.updateCalories(cals);\n       } else if (cals &gt; 0) {\n            foodList.add(new Food(name, cals));\n            System.out.println(&quot;Added Food &quot; + name + &quot; with &quot; + cals + &quot; kcal.&quot;);\n        } else if (cals &lt; 0) {\n            System.out.println(&quot;Negative calories detected. Please try again.&quot;);\n        }\n    }\n</code></pre>\n<p>The overall lessons here are (a) you're not obliged to cram all the logic into a single method, and (b) breaking the logic down often helps clarify what is going on.</p>\n<p>(The function of 'currentFood' seems obscure to me, since it was not modified by anything in your original code.  Should 'currentFood' be set to the food found at index 'x'?)</p>\n"}],"owner":{"account_id":26436221,"reputation":15,"user_id":20081540,"display_name":"secretlymaia"},"comment_count":8,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1669480654,"accepted_answer_id":74583886,"answer_count":1,"score":-2,"last_activity_date":1669480430,"creation_date":1669478901,"question_id":74583692,"body_markdown":"This a very straight forward problem, but I have this method, and I think nothing is wrong with it, but for some reason it doesn&#39;t work. It compiles, but I expect to get a print out in the cmd that the food is added to the list.This method is only called when you type the word &quot;food,&quot; the name of a food, and a double (calories per serving). Basically, it&#39;s storing the food names and the food calories per servings in an ArrayList called foodList. \r\n\r\nThe first if statement is for the program to check if you&#39;re trying to add a food already added in the list by comparing the food names in the list. If the for loop gets a hit, then it automatically recognizes it as the user wanting to update the calories of the said food. \r\n\r\nThe else if statement checks if c (servings) is equal to 0, which then proceeds to add the food into the list as well as its said calories. \r\n\r\nThe last else statement is self explanatory. If a negative servings is inputed, then it tells the user. \r\n\r\nHowever, upon running the program, the code doesn&#39;t work. Any fixes, or maybe some syntax errors I might have not noticed? Thanks!  \r\n\r\n    public String addFood( String n, double c) {\r\n        for (int x = 0; x &lt; foodList.size(); x++) {\r\n            if (n.equals(foodList.get(x).getFoodName())) {\r\n                currentFood.updateCalories(c);\r\n            } else if (c &gt; 0) {\r\n\t\t\t\tfoodList.add(new Food (n,c));\r\n\t\t\t\tSystem.out.println(&quot;Added Food &quot; + n + &quot; with &quot; + c + &quot; kcal.&quot;);\r\n            } else if (c &lt; 0) {\r\n\t\t\t\tSystem.out.println(&quot;Negative calories detected. Please try again.&quot;);\r\n            }\r\n        }\r\n  return foodName;\r\n    }","title":"for loop syntax error or if statement syntax error in java?","body":"<p>This a very straight forward problem, but I have this method, and I think nothing is wrong with it, but for some reason it doesn't work. It compiles, but I expect to get a print out in the cmd that the food is added to the list.This method is only called when you type the word &quot;food,&quot; the name of a food, and a double (calories per serving). Basically, it's storing the food names and the food calories per servings in an ArrayList called foodList.</p>\n<p>The first if statement is for the program to check if you're trying to add a food already added in the list by comparing the food names in the list. If the for loop gets a hit, then it automatically recognizes it as the user wanting to update the calories of the said food.</p>\n<p>The else if statement checks if c (servings) is equal to 0, which then proceeds to add the food into the list as well as its said calories.</p>\n<p>The last else statement is self explanatory. If a negative servings is inputed, then it tells the user.</p>\n<p>However, upon running the program, the code doesn't work. Any fixes, or maybe some syntax errors I might have not noticed? Thanks!</p>\n<pre><code>public String addFood( String n, double c) {\n    for (int x = 0; x &lt; foodList.size(); x++) {\n        if (n.equals(foodList.get(x).getFoodName())) {\n            currentFood.updateCalories(c);\n        } else if (c &gt; 0) {\n            foodList.add(new Food (n,c));\n            System.out.println(&quot;Added Food &quot; + n + &quot; with &quot; + c + &quot; kcal.&quot;);\n        } else if (c &lt; 0) {\n            System.out.println(&quot;Negative calories detected. Please try again.&quot;);\n        }\n    }\n</code></pre>\n<p>return foodName;\n}</p>\n"},{"tags":["java","apache-camel","seda"],"answers":[{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669479730,"creation_date":1669479730,"answer_id":74583802,"question_id":74517498,"body_markdown":"Why not just introduce an intermediary sub-route, so that the onCompletion can reside on top of this (sub) route ?\r\n\r\n    from(&quot;seda:queue-with-multiple-consumers?multipleConsumers=true&quot;)\r\n        ...\r\n        .choice().when(consumerCheckIfEligible())\r\n            .to(&quot;direct:conditionalProcessing&quot;)\r\n            .to(&quot;direct:delegate-to-actual-processing-route&quot;)\r\n        .end();\r\n    \r\n    \r\n    from(&quot;direct:conditionalProcessing&quot;)\r\n        .onCompletion().onCompleteOnly()\r\n                .process(...)\r\n        .end()\r\n        .onCompletion().onFailureOnly()\r\n                .process(...)\r\n        .end()\r\n        .onException(Exception.class)\r\n                .process(...)\r\n        .end();","title":"Apache Camel conditional onCompletion() for specific SEDA consumers with .choice()","body":"<p>Why not just introduce an intermediary sub-route, so that the onCompletion can reside on top of this (sub) route ?</p>\n<pre><code>from(&quot;seda:queue-with-multiple-consumers?multipleConsumers=true&quot;)\n    ...\n    .choice().when(consumerCheckIfEligible())\n        .to(&quot;direct:conditionalProcessing&quot;)\n        .to(&quot;direct:delegate-to-actual-processing-route&quot;)\n    .end();\n\n\nfrom(&quot;direct:conditionalProcessing&quot;)\n    .onCompletion().onCompleteOnly()\n            .process(...)\n    .end()\n    .onCompletion().onFailureOnly()\n            .process(...)\n    .end()\n    .onException(Exception.class)\n            .process(...)\n    .end();\n</code></pre>\n"}],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1669479730,"creation_date":1669026681,"question_id":74517498,"body_markdown":"I have **multiple consumers** connected to a **SEDA queue**, and **every consumer decides for itself** if he handles the event or not using a **choice-when**.\r\n\r\nEach consumer should react on completion and on failure of the whole process through every route that follows.\r\n\r\n```\r\n//this exists in a super class and is inherited multiple times\r\nfrom(&quot;seda:queue-with-multiple-consumers?multipleConsumers=true&quot;)\r\n    .routeId(&quot;id-of-some-consumer-1&quot;) //will be set per consumer\r\n    .choice().when(consumerCheckIfEligible())\r\n        .onCompletion().onCompleteOnly()\r\n            .process(exchange -&gt; {\r\n                //should be triggered if direct:delegate-to-actual-processing-route succeeds\r\n                log.info(&quot;onCompletion().onCompleteOnly()&quot;);\r\n            })\r\n        .end()\r\n        \r\n        .onCompletion().onFailureOnly()\r\n            .process(exchange -&gt; {\r\n                //should be triggered if direct:delegate-to-actual-processing-route fails\r\n                log.info(&quot;onCompletion().onFailureOnly()&quot;);\r\n            })\r\n        .end()\r\n\r\n        .onException(Exception.class)\r\n            .process(e -&gt; {\r\n                //should be triggered if direct:delegate-to-actual-processing-route fails\r\n                log.info(&quot;onException(Exception.class)&quot;);\r\n            })\r\n        .end()\r\n\r\n        .to(&quot;direct:delegate-to-actual-processing-route&quot;)\r\n\r\n    .end()    \r\n```\r\n\r\n\r\nHowever, Apache Camel won&#39;t tolerate the onCompletion() hooks anywhere but at the top\r\nand produces this error:\r\n\r\n```\r\n java.lang.IllegalArgumentException: The output must be added as top-level on the route. Try moving onCompletion[[]] to the top of route.\r\n\tat org.apache.camel.spring.boot.CamelSpringBootApplicationListener.onApplicationEvent(CamelSpringBootApplicationListener.java:212)\r\n\tat org.apache.camel.spring.boot.CamelSpringBootApplicationListener.onApplicationEvent(CamelSpringBootApplicationListener.java:58)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164)\r\n\tat com.my.project.Application.main(Application.java:37)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: java.lang.IllegalArgumentException: The output must be added as top-level on the route. Try moving onCompletion[[]] to the top of route.\r\n\tat org.apache.camel.model.ProcessorDefinition.addOutput(ProcessorDefinition.java:206)\r\n\tat org.apache.camel.model.ChoiceDefinition.addOutput(ChoiceDefinition.java:151)\r\n\tat org.apache.camel.model.ProcessorDefinition.onCompletion(ProcessorDefinition.java:3639)\r\n\tat com.my.project.webhook.camel.CamelFileReceiver.configure(CamelFileReceiver.java:114)\r\n\tat org.apache.camel.builder.RouteBuilder.checkInitialized(RouteBuilder.java:672)\r\n\tat org.apache.camel.builder.RouteBuilder.configureRoutes(RouteBuilder.java:618)\r\n\tat org.apache.camel.builder.RouteBuilder.addRoutesToCamelContext(RouteBuilder.java:554)\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.addRoutes(AbstractCamelContext.java:1178)\r\n\tat org.apache.camel.main.RoutesConfigurer.addDiscoveredRoutes(RoutesConfigurer.java:237)\r\n\tat org.apache.camel.main.RoutesConfigurer.configureRoutes(RoutesConfigurer.java:212)\r\n\tat org.apache.camel.spring.boot.CamelSpringBootApplicationListener.onApplicationEvent(CamelSpringBootApplicationListener.java:106)\r\n\t... 19 common frames omitted\r\n```\r\n\r\nHow can I get around the **The output must be added as top-level on the route** error and use the **onCompletion() / onException() hooks conditionally?**","title":"Apache Camel conditional onCompletion() for specific SEDA consumers with .choice()","body":"<p>I have <strong>multiple consumers</strong> connected to a <strong>SEDA queue</strong>, and <strong>every consumer decides for itself</strong> if he handles the event or not using a <strong>choice-when</strong>.</p>\n<p>Each consumer should react on completion and on failure of the whole process through every route that follows.</p>\n<pre><code>//this exists in a super class and is inherited multiple times\nfrom(&quot;seda:queue-with-multiple-consumers?multipleConsumers=true&quot;)\n    .routeId(&quot;id-of-some-consumer-1&quot;) //will be set per consumer\n    .choice().when(consumerCheckIfEligible())\n        .onCompletion().onCompleteOnly()\n            .process(exchange -&gt; {\n                //should be triggered if direct:delegate-to-actual-processing-route succeeds\n                log.info(&quot;onCompletion().onCompleteOnly()&quot;);\n            })\n        .end()\n        \n        .onCompletion().onFailureOnly()\n            .process(exchange -&gt; {\n                //should be triggered if direct:delegate-to-actual-processing-route fails\n                log.info(&quot;onCompletion().onFailureOnly()&quot;);\n            })\n        .end()\n\n        .onException(Exception.class)\n            .process(e -&gt; {\n                //should be triggered if direct:delegate-to-actual-processing-route fails\n                log.info(&quot;onException(Exception.class)&quot;);\n            })\n        .end()\n\n        .to(&quot;direct:delegate-to-actual-processing-route&quot;)\n\n    .end()    \n</code></pre>\n<p>However, Apache Camel won't tolerate the onCompletion() hooks anywhere but at the top\nand produces this error:</p>\n<pre><code> java.lang.IllegalArgumentException: The output must be added as top-level on the route. Try moving onCompletion[[]] to the top of route.\n    at org.apache.camel.spring.boot.CamelSpringBootApplicationListener.onApplicationEvent(CamelSpringBootApplicationListener.java:212)\n    at org.apache.camel.spring.boot.CamelSpringBootApplicationListener.onApplicationEvent(CamelSpringBootApplicationListener.java:58)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164)\n    at com.my.project.Application.main(Application.java:37)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.lang.IllegalArgumentException: The output must be added as top-level on the route. Try moving onCompletion[[]] to the top of route.\n    at org.apache.camel.model.ProcessorDefinition.addOutput(ProcessorDefinition.java:206)\n    at org.apache.camel.model.ChoiceDefinition.addOutput(ChoiceDefinition.java:151)\n    at org.apache.camel.model.ProcessorDefinition.onCompletion(ProcessorDefinition.java:3639)\n    at com.my.project.webhook.camel.CamelFileReceiver.configure(CamelFileReceiver.java:114)\n    at org.apache.camel.builder.RouteBuilder.checkInitialized(RouteBuilder.java:672)\n    at org.apache.camel.builder.RouteBuilder.configureRoutes(RouteBuilder.java:618)\n    at org.apache.camel.builder.RouteBuilder.addRoutesToCamelContext(RouteBuilder.java:554)\n    at org.apache.camel.impl.engine.AbstractCamelContext.addRoutes(AbstractCamelContext.java:1178)\n    at org.apache.camel.main.RoutesConfigurer.addDiscoveredRoutes(RoutesConfigurer.java:237)\n    at org.apache.camel.main.RoutesConfigurer.configureRoutes(RoutesConfigurer.java:212)\n    at org.apache.camel.spring.boot.CamelSpringBootApplicationListener.onApplicationEvent(CamelSpringBootApplicationListener.java:106)\n    ... 19 common frames omitted\n</code></pre>\n<p>How can I get around the <strong>The output must be added as top-level on the route</strong> error and use the <strong>onCompletion() / onException() hooks conditionally?</strong></p>\n"},{"tags":["java","android","mediametadataretriever"],"answers":[{"tags":[],"owner":{"account_id":24379425,"reputation":11,"user_id":18311243,"display_name":"nomocs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645817958,"creation_date":1645817958,"answer_id":71270953,"question_id":71269938,"body_markdown":"To get the frames with getFrameeAtTime() youd have to know the time of every frame in the video. You could roughly calculate that if u already know the frame count by getting the frametime (duration/frames), taking the math.ceil() method on that and taking that as your incrementor. however, youd have to check if the last frame gets read since u can&#39;t always get the exact frame time, bc they tend to have alot of decimal places wich can lead to wrong representation as float.\r\nA 60fps video for example would have a frame time of 16+1/3 ms. Wich has infinite deecimal places.\r\nIn addition this method wouldn&#39;t even work at all if you have a video with too high fps since in that case the round up done by math.ceil() can lead to a big enough margin to skip frames.\r\nTo be precise this method only works if:\r\n\r\n*(math.ceil(frameTime)-frameTime)⋅frameCount&lt;frameTime*\r\n\r\n\r\nI hope, by now u got that it&#39;s a pretty bad idea and u should probably use another way to get the individual frames.\r\nBut still, heres an implementation:\r\n\r\n    int lastTime;\r\n    long mVideoDuration = 9000;\r\n    mVideoDuration*=1000;\r\n    int frameTime=math.ceil(mVideoDuration/frameCount)\r\n    for(int i =0, i&lt;=mVideoDuration, i+=frameTime){\r\n        Bitmap thumbnail = mMediaMetadataRetriever.getFrameAtTime(i);\r\n        lastTime=i;\r\n    }\r\n    if (lastTime&lt;mVideoDuration){\r\n       mMediaMetadataRetriever.getFrameAtTime(mVideoDuration);\r\n    }\r\n\r\nOf couse this is already assuming that,\r\n\r\n*(math.ceil(frameTime)-frameTime)⋅frameCount&lt;frameTime*\r\n\r\nis given.\r\nAnd i can&#39;t guarantee that the declaframeTime will result the correct value since i dont know exactly how decimal dividing is handleed internally and its entirely possible that is causes problems due to floating point overflow\r\n","title":"Get all frames from video using MediaMetadataRetriever","body":"<p>To get the frames with getFrameeAtTime() youd have to know the time of every frame in the video. You could roughly calculate that if u already know the frame count by getting the frametime (duration/frames), taking the math.ceil() method on that and taking that as your incrementor. however, youd have to check if the last frame gets read since u can't always get the exact frame time, bc they tend to have alot of decimal places wich can lead to wrong representation as float.\nA 60fps video for example would have a frame time of 16+1/3 ms. Wich has infinite deecimal places.\nIn addition this method wouldn't even work at all if you have a video with too high fps since in that case the round up done by math.ceil() can lead to a big enough margin to skip frames.\nTo be precise this method only works if:</p>\n<p><em>(math.ceil(frameTime)-frameTime)⋅frameCount&lt;frameTime</em></p>\n<p>I hope, by now u got that it's a pretty bad idea and u should probably use another way to get the individual frames.\nBut still, heres an implementation:</p>\n<pre><code>int lastTime;\nlong mVideoDuration = 9000;\nmVideoDuration*=1000;\nint frameTime=math.ceil(mVideoDuration/frameCount)\nfor(int i =0, i&lt;=mVideoDuration, i+=frameTime){\n    Bitmap thumbnail = mMediaMetadataRetriever.getFrameAtTime(i);\n    lastTime=i;\n}\nif (lastTime&lt;mVideoDuration){\n   mMediaMetadataRetriever.getFrameAtTime(mVideoDuration);\n}\n</code></pre>\n<p>Of couse this is already assuming that,</p>\n<p><em>(math.ceil(frameTime)-frameTime)⋅frameCount&lt;frameTime</em></p>\n<p>is given.\nAnd i can't guarantee that the declaframeTime will result the correct value since i dont know exactly how decimal dividing is handleed internally and its entirely possible that is causes problems due to floating point overflow</p>\n"},{"tags":[],"owner":{"account_id":7545914,"reputation":135,"user_id":5728971,"display_name":"bashar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669478994,"creation_date":1669478994,"answer_id":74583702,"question_id":71269938,"body_markdown":"you can use `getFramesAtIndex(int frameIndex, int numFrames)` instead of `getFrameAt()`, it will return list of Bitmaps containing the requested video frames.\r\n\r\n&gt; This method is similar to getFramesAtIndex(int, int, MediaMetadataRetriever.BitmapParams) except that the default for MediaMetadataRetriever.BitmapParams will be used.\r\nParams:\r\nframeIndex – 0-based index of the first video frame to retrieve. The frame index must be that of a valid frame. The total number of frames available for retrieval can be queried via the METADATA_KEY_VIDEO_FRAME_COUNT key.\r\nnumFrames – number of consecutive video frames to retrieve. Must be a positive value. The stream must contain at least numFrames frames starting at frameIndex.\r\nReturns:\r\nAn list of Bitmaps containing the requested video frames. The returned array could contain less frames than requested if the retrieval fails.\r\nThrows:\r\nIllegalStateException – if the container doesn&#39;t contain video or image sequences.\r\nIllegalArgumentException – if the frameIndex or numFrames is invalid, or the stream doesn&#39;t contain at least numFrames starting at frameIndex.\r\nSee Also:\r\ngetFrameAtIndex(int, MediaMetadataRetriever.BitmapParams), getFrameAtIndex(int), getFramesAtIndex(int, int, MediaMetadataRetriever.BitmapParams)\r\n\r\nregarding to `numFrames`, you can get number of frames this way:\r\n\r\n\r\n    m_mediaMetadataRetriever = new MediaMetadataRetriever();\r\n    m_mediaMetadataRetriever.setDataSource(getApplicationContext(), your_video_path);\r\n    int numFrames = Integer.parseInt(m_mediaMetadataRetriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_VIDEO_FRAME_COUNT));\r\n\r\n","title":"Get all frames from video using MediaMetadataRetriever","body":"<p>you can use <code>getFramesAtIndex(int frameIndex, int numFrames)</code> instead of <code>getFrameAt()</code>, it will return list of Bitmaps containing the requested video frames.</p>\n<blockquote>\n<p>This method is similar to getFramesAtIndex(int, int, MediaMetadataRetriever.BitmapParams) except that the default for MediaMetadataRetriever.BitmapParams will be used.\nParams:\nframeIndex – 0-based index of the first video frame to retrieve. The frame index must be that of a valid frame. The total number of frames available for retrieval can be queried via the METADATA_KEY_VIDEO_FRAME_COUNT key.\nnumFrames – number of consecutive video frames to retrieve. Must be a positive value. The stream must contain at least numFrames frames starting at frameIndex.\nReturns:\nAn list of Bitmaps containing the requested video frames. The returned array could contain less frames than requested if the retrieval fails.\nThrows:\nIllegalStateException – if the container doesn't contain video or image sequences.\nIllegalArgumentException – if the frameIndex or numFrames is invalid, or the stream doesn't contain at least numFrames starting at frameIndex.\nSee Also:\ngetFrameAtIndex(int, MediaMetadataRetriever.BitmapParams), getFrameAtIndex(int), getFramesAtIndex(int, int, MediaMetadataRetriever.BitmapParams)</p>\n</blockquote>\n<p>regarding to <code>numFrames</code>, you can get number of frames this way:</p>\n<pre><code>m_mediaMetadataRetriever = new MediaMetadataRetriever();\nm_mediaMetadataRetriever.setDataSource(getApplicationContext(), your_video_path);\nint numFrames = Integer.parseInt(m_mediaMetadataRetriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_VIDEO_FRAME_COUNT));\n</code></pre>\n"}],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669478994,"creation_date":1645811963,"question_id":71269938,"body_markdown":"I&#39;m trying to get all frames from a video using `MediaMetadataRetriever` and `getFrameAt()` method.\r\nUsing **FFMPEG**, I&#39;ve got the following information :\r\n\r\n 1. **Video frame counts : 234 frames**\r\n 2. **Video duration in milliseconds : 90000**\r\n\r\n        int counter = 0;\r\n        long mVideoDuration = 9000;\r\n        for (long i = 0; i &lt; mVideoDuration * 1000; i += 1000) {\r\n            Bitmap thumbnail = mMediaMetadataRetriever.getFrameAtTime(i);\r\n        }\r\n\r\nThe above code does not work, it&#39;s loop for almost **8944** times, and this is too much, I don&#39;t want to get all these frames, I just want to get the **234** frames.\r\n\r\n`getFrameAtIndex()` **WORKS VERY WELL**, but due to API level compatibility, I would like to make it work with `getFrameAt()` method","title":"Get all frames from video using MediaMetadataRetriever","body":"<p>I'm trying to get all frames from a video using <code>MediaMetadataRetriever</code> and <code>getFrameAt()</code> method.\nUsing <strong>FFMPEG</strong>, I've got the following information :</p>\n<ol>\n<li><p><strong>Video frame counts : 234 frames</strong></p>\n</li>\n<li><p><strong>Video duration in milliseconds : 90000</strong></p>\n<pre><code>int counter = 0;\nlong mVideoDuration = 9000;\nfor (long i = 0; i &lt; mVideoDuration * 1000; i += 1000) {\n    Bitmap thumbnail = mMediaMetadataRetriever.getFrameAtTime(i);\n}\n</code></pre>\n</li>\n</ol>\n<p>The above code does not work, it's loop for almost <strong>8944</strong> times, and this is too much, I don't want to get all these frames, I just want to get the <strong>234</strong> frames.</p>\n<p><code>getFrameAtIndex()</code> <strong>WORKS VERY WELL</strong>, but due to API level compatibility, I would like to make it work with <code>getFrameAt()</code> method</p>\n"},{"tags":["java","multithreading","swing","keylistener"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1669471750,"post_id":74582844,"comment_id":131650318,"body_markdown":"You don&#39;t use threads for this type of Swing animation, not directly. You should be using Swing Timers instead which uses background threading in a Swing-thread-safe manner.","body":"You don&#39;t use threads for this type of Swing animation, not directly. You should be using Swing Timers instead which uses background threading in a Swing-thread-safe manner."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1669473011,"post_id":74582844,"comment_id":131650509,"body_markdown":"Any of the answers to this question, [How to make an image move while listening to a keypress in Java](https://stackoverflow.com/questions/6887296/how-to-make-an-image-move-while-listening-to-a-keypress-in-java) can be used to move two sprites independently of each other. Note that the answers use key-bindings which are much preferred compared to using key listeners.","body":"Any of the answers to this question, <a href=\"https://stackoverflow.com/questions/6887296/how-to-make-an-image-move-while-listening-to-a-keypress-in-java\">How to make an image move while listening to a keypress in Java</a> can be used to move two sprites independently of each other. Note that the answers use key-bindings which are much preferred compared to using key listeners."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1669476609,"post_id":74582844,"comment_id":131651197,"body_markdown":"Swing is a GUI.  GUIs tend to be event-driven. This means that everything we do is not being done in a long-running thread, it is done as a response to an event. &quot;Key Pressed&quot; is such an event.","body":"Swing is a GUI.  GUIs tend to be event-driven. This means that everything we do is not being done in a long-running thread, it is done as a response to an event. &quot;Key Pressed&quot; is such an event."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1669478108,"post_id":74582844,"comment_id":131651536,"body_markdown":"@MikeNakis: while I agree with what you state above, if a sprite is moved only on keypress, then its speed and behavior is dependent on the OS, which usually means that the sprite will move one delta on initial keypress followed by a delay and then will continue to move further if the keypress is held. In order to avoid the initial delay and in order to better control sprite animation speed, and also to allow continuous motion that changes direction based on keypress, better to use a Swing Timer to control the animation. The keypress can start and stop the timer and can control direction.","body":"@MikeNakis: while I agree with what you state above, if a sprite is moved only on keypress, then its speed and behavior is dependent on the OS, which usually means that the sprite will move one delta on initial keypress followed by a delay and then will continue to move further if the keypress is held. In order to avoid the initial delay and in order to better control sprite animation speed, and also to allow continuous motion that changes direction based on keypress, better to use a Swing Timer to control the animation. The keypress can start and stop the timer and can control direction."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1669479650,"post_id":74582844,"comment_id":131651883,"body_markdown":"@HovercraftFullOfEels of course this is all true. But a) it still requires first responding to the events, so all of what you have written can be thought of as improvements, and b) I would be willing to bet that Taher Afsar will already have a very high sense of accomplishment if he/she manages to just handle the events.","body":"@HovercraftFullOfEels of course this is all true. But a) it still requires first responding to the events, so all of what you have written can be thought of as improvements, and b) I would be willing to bet that Taher Afsar will already have a very high sense of accomplishment if he/she manages to just handle the events."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669478776,"creation_date":1669478776,"answer_id":74583679,"question_id":74582844,"body_markdown":"To make several character move simultaneously you do not need threading at all. What you need is a game loop, which\r\n\r\n- checks events\r\n- calculates the world\r\n- renders the world\r\n\r\nIf you know there are two characters, it means when checking the events you need to figure out player controls for two characters. When you calculate the world, you need to figure out new positions for both of the characters.\r\nAnd finally render everything so the user can see the new world.\r\nThis needs to be repeated fast enough to have a smooth movement.","title":"How do I run 2 functions simultaneously using thread","body":"<p>To make several character move simultaneously you do not need threading at all. What you need is a game loop, which</p>\n<ul>\n<li>checks events</li>\n<li>calculates the world</li>\n<li>renders the world</li>\n</ul>\n<p>If you know there are two characters, it means when checking the events you need to figure out player controls for two characters. When you calculate the world, you need to figure out new positions for both of the characters.\nAnd finally render everything so the user can see the new world.\nThis needs to be repeated fast enough to have a smooth movement.</p>\n"}],"owner":{"account_id":23197891,"reputation":1,"user_id":17293236,"display_name":"Taher Afsar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669478776,"creation_date":1669471566,"question_id":74582844,"body_markdown":"I want to move 2  characters simultaneously on screen when their respective keys are pressed.\r\n\r\n\r\nI am making a java swing game. Wherein I want take inputs from 2 players using &quot;AWSD&quot; and another using &quot;up down right left arrow&quot; . I  want both the character to move simultaneously when pressed their respective keys.I thought of making 2 threads and calling them everytime the key is pressed, but isn&#39;t working as expected. Any Solutions?","title":"How do I run 2 functions simultaneously using thread","body":"<p>I want to move 2  characters simultaneously on screen when their respective keys are pressed.</p>\n<p>I am making a java swing game. Wherein I want take inputs from 2 players using &quot;AWSD&quot; and another using &quot;up down right left arrow&quot; . I  want both the character to move simultaneously when pressed their respective keys.I thought of making 2 threads and calling them everytime the key is pressed, but isn't working as expected. Any Solutions?</p>\n"},{"tags":["java","swing","command"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1669476665,"post_id":74583363,"comment_id":131651213,"body_markdown":"It&#39;s not Java that controls the terminal. There are broadly two ways of running a java app: A. open terminal and enter commands and B. double-click an app to start. Now, it&#39;s down to your OS and desktop environment as to whether you see a terminal in scenario B. It&#39;s not up to Java and it knows nothing about it.\nNow, if you get your terminal, the Java code you describe is non-trivial. If you want to run arbitrary commands and app *via* Java (I&#39;m not sure why you wouldn&#39;t do that directly at the terminal) then it&#39;s actually quite tricky to ensure that it always work. Depends on what&#39;s run","body":"It&#39;s not Java that controls the terminal. There are broadly two ways of running a java app: A. open terminal and enter commands and B. double-click an app to start. Now, it&#39;s down to your OS and desktop environment as to whether you see a terminal in scenario B. It&#39;s not up to Java and it knows nothing about it. Now, if you get your terminal, the Java code you describe is non-trivial. If you want to run arbitrary commands and app <i>via</i> Java (I&#39;m not sure why you wouldn&#39;t do that directly at the terminal) then it&#39;s actually quite tricky to ensure that it always work. Depends on what&#39;s run"},{"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"score":1,"creation_date":1669478776,"post_id":74583363,"comment_id":131651688,"body_markdown":"Perhaps this question will be useful for MacOS: https://superuser.com/q/174576","body":"Perhaps this question will be useful for MacOS: <a href=\"https://superuser.com/q/174576\">superuser.com/q/174576</a>"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669478235,"creation_date":1669477914,"answer_id":74583583,"question_id":74583363,"body_markdown":"In your example the process might get stuck as you are not reading it&#39;s stdout and stderr streams. From the [Process documentation][1]:\r\n\r\n*Because some native platforms only provide limited buffer size for standard input and output streams, failure to promptly write the input stream or read the output stream of the process may cause the process to block, or even deadlock.* \r\n\r\nSo essentially you are just asking how to execute a process from Java. It is irrelevant that to the user your program would display a terminal-like UI. Knowing this we could rephrase your question and find answers like\r\n\r\n- https://stackoverflow.com/questions/3774432/starting-a-process-in-java\r\n- https://stackoverflow.com/questions/24814966/java-execute-a-bash-script-using-java-process-builder\r\n- https://stackoverflow.com/questions/18655538/execute-process-from-java-irrespective-of-underlying-os\r\n- https://stackoverflow.com/questions/45050390/java-processbuilder-get-output-immediately\r\n- https://alvinalexander.com/java/java-exec-processbuilder-process-1/\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html","title":"How do i launch a GUI Terminal and run commands on it in java","body":"<p>In your example the process might get stuck as you are not reading it's stdout and stderr streams. From the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html\" rel=\"nofollow noreferrer\">Process documentation</a>:</p>\n<p><em>Because some native platforms only provide limited buffer size for standard input and output streams, failure to promptly write the input stream or read the output stream of the process may cause the process to block, or even deadlock.</em></p>\n<p>So essentially you are just asking how to execute a process from Java. It is irrelevant that to the user your program would display a terminal-like UI. Knowing this we could rephrase your question and find answers like</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3774432/starting-a-process-in-java\">Starting a process in Java?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/24814966/java-execute-a-bash-script-using-java-process-builder\">Java Execute a bash script using Java process builder</a></li>\n<li><a href=\"https://stackoverflow.com/questions/18655538/execute-process-from-java-irrespective-of-underlying-os\">Execute process from Java irrespective of underlying OS</a></li>\n<li><a href=\"https://stackoverflow.com/questions/45050390/java-processbuilder-get-output-immediately\">Java ProcessBuilder - get Output immediately</a></li>\n<li><a href=\"https://alvinalexander.com/java/java-exec-processbuilder-process-1/\" rel=\"nofollow noreferrer\">https://alvinalexander.com/java/java-exec-processbuilder-process-1/</a></li>\n</ul>\n"}],"owner":{"account_id":19705285,"reputation":160,"user_id":20654602,"display_name":"Rishon_JR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669478235,"creation_date":1669475826,"question_id":74583363,"body_markdown":"I have a program which runs when you double click it. What i want to do is:\r\n\r\nDouble click a jar File\r\n\r\n![enter image description here](https://i.stack.imgur.com/Nj2cu.png) \\\r\nLaunch some GUI\r\n[![enter image description here](https://i.stack.imgur.com/adhUw.png)](https://i.stack.imgur.com/adhUw.png)\r\nAnd Run Commands in the terminal through the  java program\r\n\r\n[![enter image description here](https://i.stack.imgur.com/6rY8V.png)](https://i.stack.imgur.com/6rY8V.png)\r\n\r\n(just an example, this is not what i want to do)\r\n\r\nI Tried this:\r\n\r\n```java\r\npublic class Main{\r\n    public static void main(String [] args){\r\n        Runtime.getRuntime().exec(&quot;/bin/bash sudo SOME_COMMAND_HERE&quot;);\r\n    }\r\n}\r\n```\r\n\r\n(`SOME_COMMAND_HERE` is just a replacement)\r\n\r\nIt didn&#39;t launch a terminal.\r\n\r\n(i have the GUI part so no need to write code for that)\r\n\r\nSo how do i do this? I have been spending a past day or two for just finding answers on stack overflow, and intense googling.\r\nPlus the Reason why i need it is because i want to show the user some progress and entering the password when running sudo commands.\r\n\r\nCan some Please help? Thanks in advance.","title":"How do i launch a GUI Terminal and run commands on it in java","body":"<p>I have a program which runs when you double click it. What i want to do is:</p>\n<p>Double click a jar File</p>\n<p><img src=\"https://i.stack.imgur.com/Nj2cu.png\" alt=\"enter image description here\" /> <br />\nLaunch some GUI\n<a href=\"https://i.stack.imgur.com/adhUw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/adhUw.png\" alt=\"enter image description here\" /></a>\nAnd Run Commands in the terminal through the  java program</p>\n<p><a href=\"https://i.stack.imgur.com/6rY8V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6rY8V.png\" alt=\"enter image description here\" /></a></p>\n<p>(just an example, this is not what i want to do)</p>\n<p>I Tried this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main{\n    public static void main(String [] args){\n        Runtime.getRuntime().exec(&quot;/bin/bash sudo SOME_COMMAND_HERE&quot;);\n    }\n}\n</code></pre>\n<p>(<code>SOME_COMMAND_HERE</code> is just a replacement)</p>\n<p>It didn't launch a terminal.</p>\n<p>(i have the GUI part so no need to write code for that)</p>\n<p>So how do i do this? I have been spending a past day or two for just finding answers on stack overflow, and intense googling.\nPlus the Reason why i need it is because i want to show the user some progress and entering the password when running sudo commands.</p>\n<p>Can some Please help? Thanks in advance.</p>\n"},{"tags":["java","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1669227537,"post_id":74550707,"comment_id":131599124,"body_markdown":"&quot;it doesn&#39;t work&quot; is really hard to help with. I recommend debugging the problem locally, and then telling us the results of that. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the **first** line that doesn&#39;t do what you expect it to do?","body":"&quot;it doesn&#39;t work&quot; is really hard to help with. I recommend debugging the problem locally, and then telling us the results of that. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the <b>first</b> line that doesn&#39;t do what you expect it to do?"},{"owner":{"account_id":23824230,"reputation":57,"user_id":18559097,"display_name":"Nhenon"},"score":0,"creation_date":1669231896,"post_id":74550707,"comment_id":131600378,"body_markdown":"When I say it doesn&#39;t work I mean that I can&#39;t register a user, it doesn&#39;t say anything it just doesn&#39;t do it.","body":"When I say it doesn&#39;t work I mean that I can&#39;t register a user, it doesn&#39;t say anything it just doesn&#39;t do it."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1669233757,"post_id":74550707,"comment_id":131600862,"body_markdown":"Please debug the problem in the step-by-step way that I described, and share the result of *that*.","body":"Please debug the problem in the step-by-step way that I described, and share the result of <i>that</i>."},{"owner":{"account_id":23824230,"reputation":57,"user_id":18559097,"display_name":"Nhenon"},"score":0,"creation_date":1669291227,"post_id":74550707,"comment_id":131614068,"body_markdown":"I have added a picture of the debugger output","body":"I have added a picture of the debugger output"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1669305609,"post_id":74550707,"comment_id":131619014,"body_markdown":"You say &quot;The problem is in the first: `if(task.isComplete()){}`&quot;, but there is no `task.isComplete()` in the code you shared.","body":"You say &quot;The problem is in the first: <code>if(task.isComplete()){}</code>&quot;, but there is no <code>task.isComplete()</code> in the code you shared."},{"owner":{"account_id":23824230,"reputation":57,"user_id":18559097,"display_name":"Nhenon"},"score":0,"creation_date":1669452462,"post_id":74550707,"comment_id":131647272,"body_markdown":"yeah sorry i meant the first if(task is.Successfull())","body":"yeah sorry i meant the first if(task is.Successfull())"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669477033,"creation_date":1669477033,"answer_id":74583497,"question_id":74550707,"body_markdown":"If a task fails it contains an exception with information about why it failed. You should log that exception, to find out the root cause of the problem:\r\n\r\n```\r\nmAuth.createUserWithEmailAndPassword(email,password)\r\n    .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n            //if the user has been registered\r\n            if(task.isSuccessful()){\r\n                ...\r\n            } else {\r\n                // &#128071;\r\n                Log.e(&quot;AUTH&quot;, &quot;createUserWithEmailAndPassword failed&quot;, task.getException());\r\n                ...\r\n            }\r\n        }\r\n    });\r\n```","title":"Firebase adding user prublem -- JAVA","body":"<p>If a task fails it contains an exception with information about why it failed. You should log that exception, to find out the root cause of the problem:</p>\n<pre><code>mAuth.createUserWithEmailAndPassword(email,password)\n    .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n            //if the user has been registered\n            if(task.isSuccessful()){\n                ...\n            } else {\n                // 👇\n                Log.e(&quot;AUTH&quot;, &quot;createUserWithEmailAndPassword failed&quot;, task.getException());\n                ...\n            }\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":23824230,"reputation":57,"user_id":18559097,"display_name":"Nhenon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74583497,"answer_count":1,"score":0,"last_activity_date":1669477033,"creation_date":1669223783,"question_id":74550707,"body_markdown":"Hi this is my first time using Android Studio and databases in general, I can&#39;t connect my app to the DB. In the DB i have set .write and .read to &quot;true&quot; for both of them:\r\n\r\n    {\r\n    &quot;rules&quot;: {\r\n    &quot;.read&quot;: &quot;true&quot;, //&quot;now &lt; 1671750000000&quot;, // 2022-12-23\r\n    &quot;.write&quot;:&quot;true&quot; // &quot;now &lt; 1671750000000&quot;, // 2022-12-23\r\n      }\r\n    }\r\nBut Whenever I try to register a user it doesn&#39;t work. \r\nThis is my code in JAVA in case it helps:\r\n```\r\n    //DATABASE\r\n//Checking if the user is already registered\r\nmAuth.createUserWithEmailAndPassword(email,password)\r\n        .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n\r\n                //if the user has been registered\r\n                if(task.isSuccessful()){\r\n                    User user = new User(fullname, age, email);\r\n\r\n                    //sending the user to the DATABASE\r\n                    FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\r\n                            .child(FirebaseAuth.getInstance().getCurrentUser().getUid()) //This will return the ID of the Registered User\r\n                            .setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                    //If the user has been registered and has been inserted into the DB\r\n                                    if(task.isSuccessful()){\r\n                                        Toast.makeText(registerUser.this, &quot;El usuario se ha registrado.&quot;, Toast.LENGTH_LONG).show();\r\n                                        pBprogressbar.setVisibility(View.GONE);\r\n                                    }\r\n                                    //if the user doesn&#39;t register\r\n                                    else{\r\n                                        Toast.makeText(registerUser.this, &quot;Ha habido un fallo en el registro&quot;, Toast.LENGTH_LONG).show();\r\n                                        pBprogressbar.setVisibility(View.GONE);\r\n                                    }\r\n                                }\r\n                            });\r\n                } else {\r\n                    Toast.makeText(registerUser.this, &quot;Ha habido un fallo en el registro&quot;, Toast.LENGTH_LONG).show();\r\n                    pBprogressbar.setVisibility(View.GONE);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nI have run the Debugger on it and this is what it comes out:\r\n[![enter image description here][1]][1]\r\n\r\nBut this is my User constructor:\r\n\r\n    package com.example.kmeco;\r\n//So we store the user information in the object. And then we send it to FIREBASE\r\npublic class User {\r\n    public String fullName, age, email;\r\n\r\n    //Creating two constructors\r\n    //First one is an empty public constructor that doesn&#39;t accept or return anything\r\n    public User(){\r\n\r\n    }\r\n    //Second constructor\r\n    public User(String fullName, String age, String email){\r\n        //initializing values\r\n        this.fullName = fullName;\r\n        this.age = age;\r\n        this.email = email;\r\n    }\r\n}\r\n\r\n\r\nThe problem is in the first:\r\n\r\n    if(task isSuccessful())\r\n\r\nAnd I don&#39;t know why it doesn&#39;t read it,\r\n\r\nI would appreciate any help\r\n\r\n  [1]: https://i.stack.imgur.com/qEq02.jpg","title":"Firebase adding user prublem -- JAVA","body":"<p>Hi this is my first time using Android Studio and databases in general, I can't connect my app to the DB. In the DB i have set .write and .read to &quot;true&quot; for both of them:</p>\n<pre><code>{\n&quot;rules&quot;: {\n&quot;.read&quot;: &quot;true&quot;, //&quot;now &lt; 1671750000000&quot;, // 2022-12-23\n&quot;.write&quot;:&quot;true&quot; // &quot;now &lt; 1671750000000&quot;, // 2022-12-23\n  }\n}\n</code></pre>\n<p>But Whenever I try to register a user it doesn't work.\nThis is my code in JAVA in case it helps:</p>\n<pre><code>    //DATABASE\n//Checking if the user is already registered\nmAuth.createUserWithEmailAndPassword(email,password)\n        .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n\n                //if the user has been registered\n                if(task.isSuccessful()){\n                    User user = new User(fullname, age, email);\n\n                    //sending the user to the DATABASE\n                    FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\n                            .child(FirebaseAuth.getInstance().getCurrentUser().getUid()) //This will return the ID of the Registered User\n                            .setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                    //If the user has been registered and has been inserted into the DB\n                                    if(task.isSuccessful()){\n                                        Toast.makeText(registerUser.this, &quot;El usuario se ha registrado.&quot;, Toast.LENGTH_LONG).show();\n                                        pBprogressbar.setVisibility(View.GONE);\n                                    }\n                                    //if the user doesn't register\n                                    else{\n                                        Toast.makeText(registerUser.this, &quot;Ha habido un fallo en el registro&quot;, Toast.LENGTH_LONG).show();\n                                        pBprogressbar.setVisibility(View.GONE);\n                                    }\n                                }\n                            });\n                } else {\n                    Toast.makeText(registerUser.this, &quot;Ha habido un fallo en el registro&quot;, Toast.LENGTH_LONG).show();\n                    pBprogressbar.setVisibility(View.GONE);\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>I have run the Debugger on it and this is what it comes out:\n<a href=\"https://i.stack.imgur.com/qEq02.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qEq02.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But this is my User constructor:</p>\n<pre><code>package com.example.kmeco;\n</code></pre>\n<p>//So we store the user information in the object. And then we send it to FIREBASE\npublic class User {\npublic String fullName, age, email;</p>\n<pre><code>//Creating two constructors\n//First one is an empty public constructor that doesn't accept or return anything\npublic User(){\n\n}\n//Second constructor\npublic User(String fullName, String age, String email){\n    //initializing values\n    this.fullName = fullName;\n    this.age = age;\n    this.email = email;\n}\n</code></pre>\n<p>}</p>\n<p>The problem is in the first:</p>\n<pre><code>if(task isSuccessful())\n</code></pre>\n<p>And I don't know why it doesn't read it,</p>\n<p>I would appreciate any help</p>\n"},{"tags":["java","sql","date","netbeans"],"comments":[{"owner":{"account_id":3557648,"reputation":8235,"user_id":2970960,"accept_rate":43,"display_name":"Jai"},"score":0,"creation_date":1573183251,"post_id":58759801,"comment_id":103807174,"body_markdown":"`PreparedStatement.setDate()` expects `java.sql.Date` instead of `java.util.Date`. The former is the subclass of the latter, so passing in a `java.util.Date` wouldn&#39;t work.","body":"<code>PreparedStatement.setDate()</code> expects <code>java.sql.Date</code> instead of <code>java.util.Date</code>. The former is the subclass of the latter, so passing in a <code>java.util.Date</code> wouldn&#39;t work."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1573187742,"post_id":58759801,"comment_id":103808056,"body_markdown":"Re _&quot;It seems that LocalDateTime, Date and Time are depreciated...&quot;_, `LocalDateTime` isn&#39;t deprecated, and there&#39;s nothing wrong with using it, but steer clear of `Date` and `Time` if possible. At the risk of confusing you further, the SO question [Should I use java.util.Date or switch to java.time.LocalDate](https://stackoverflow.com/questions/28730136/should-i-use-java-util-date-or-switch-to-java-time-localdate) has some good answers which provide a lot of detail on this issue. Also see [Migrating to the New Java 8 Date Time API](https://www.baeldung.com/migrating-to-java-8-date-time-api).","body":"Re <i>&quot;It seems that LocalDateTime, Date and Time are depreciated...&quot;</i>, <code>LocalDateTime</code> isn&#39;t deprecated, and there&#39;s nothing wrong with using it, but steer clear of <code>Date</code> and <code>Time</code> if possible. At the risk of confusing you further, the SO question <a href=\"https://stackoverflow.com/questions/28730136/should-i-use-java-util-date-or-switch-to-java-time-localdate\">Should I use java.util.Date or switch to java.time.LocalDate</a> has some good answers which provide a lot of detail on this issue. Also see <a href=\"https://www.baeldung.com/migrating-to-java-8-date-time-api\" rel=\"nofollow noreferrer\">Migrating to the New Java 8 Date Time API</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1573195001,"post_id":58759801,"comment_id":103809807,"body_markdown":"Related: [Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2](https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2)","body":"Related: <a href=\"https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2\">Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2</a>"}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1573194920,"post_id":58759873,"comment_id":103809779,"body_markdown":"(1) If the datatype in SQL is `timestamp with time zone` (recommended), use `offsetDateTime` and/or `Instant` in Java. (2) Even if not, avoid `Timestamp` and use `ps.setObject(3, dt);`.","body":"(1) If the datatype in SQL is <code>timestamp with time zone</code> (recommended), use <code>offsetDateTime</code> and/or <code>Instant</code> in Java. (2) Even if not, avoid <code>Timestamp</code> and use <code>ps.setObject(3, dt);</code>."}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1573183101,"creation_date":1573183101,"answer_id":58759873,"question_id":58759801,"body_markdown":"You may use `LocalDateTime` along with `PreparedStatement#setTimestamp()`.  Here is roughly how you would do that:\r\n\r\n    String birthDate = request.getParameter(&quot;data_birthdate&quot;);\r\n    // assuming your text birthdates look like 1980-12-30 00:30:05\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    LocalDateTime dt = LocalDateTime.parse(birthDate, formatter);\r\n\r\n    try {\r\n        connect = db.getConnect();\r\n        ps = connect.prepareStatement(SQL_CreateUser);\r\n        ps.setTimestamp(3, Timestamp.valueOf(dt));\r\n    }\r\n    catch (Exception e) {\r\n        // handle exception\r\n    }\r\n\r\nNote carefully the format mask being used in the call to `DateTimeFormatter#ofPattern`.  You need to replace that with whatever mask actually fits your string dates.","title":"(JAVA) Need to convert DATE to prepared statement for SQL","body":"<p>You may use <code>LocalDateTime</code> along with <code>PreparedStatement#setTimestamp()</code>.  Here is roughly how you would do that:</p>\n\n<pre><code>String birthDate = request.getParameter(\"data_birthdate\");\n// assuming your text birthdates look like 1980-12-30 00:30:05\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\");\nLocalDateTime dt = LocalDateTime.parse(birthDate, formatter);\n\ntry {\n    connect = db.getConnect();\n    ps = connect.prepareStatement(SQL_CreateUser);\n    ps.setTimestamp(3, Timestamp.valueOf(dt));\n}\ncatch (Exception e) {\n    // handle exception\n}\n</code></pre>\n\n<p>Note carefully the format mask being used in the call to <code>DateTimeFormatter#ofPattern</code>.  You need to replace that with whatever mask actually fits your string dates.</p>\n"}],"owner":{"account_id":17010575,"reputation":1009,"user_id":12305676,"display_name":"pensum"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58759873,"answer_count":1,"score":3,"last_activity_date":1669476963,"creation_date":1573182475,"question_id":58759801,"body_markdown":"I have been looking and trying solutions provided on the web (and SO) for the last hour on how to use the `Date` type in Java but I can&#39;t seem to get it working. I am using NetBeans 11.2 and I am **not** used to Java and it is giving me a hard time (no pun intended). It seems that `LocalDateTime`, `Date` and `Time` are deprecated and that I should be using `java.time`. \r\n\r\nTo be honest, I don&#39;t know what to do anymore. I am trying to build a query with inputs value to save in `mySQL` database.\r\n\r\nThe source of the Date is from `&lt;input type=&quot;date&quot;&gt;`\r\n\r\n\r\n\r\n**SignIn.java (servlet)** :\r\n```java\r\nString birthDate = request.getParameter(&quot;data_birthdate&quot;);\r\n        \r\nUserDto userDto = null;\r\nUserDao userDao = new UserDao(); \r\n        \r\ntry \r\n{ \r\n// Tried this \r\n    userDto = userDao.CreateUser(LocalDateTime.parse(birthDate));\r\n// Tried that\r\n    userDto = userDao.CreateUser(Date.parse(birthDate));\r\n// Tried this \r\n    userDto = userDao.CreateUser(Time.parse(birthDate));\r\n}\r\n```\r\n**userDao.java (Dao)** : \r\n```java \r\npublic void CreateUser(Date dateBirth) throws SQLException {\r\ntry {\r\n        connect = db.getConnect();\r\n        ps = connect.prepareStatement(SQL_CreateUser);\r\n        ps.setDate(1, dateBirth);\r\n        ps.executeUpdate();\r\n    }\r\n}\r\n```","title":"(JAVA) Need to convert DATE to prepared statement for SQL","body":"<p>I have been looking and trying solutions provided on the web (and SO) for the last hour on how to use the <code>Date</code> type in Java but I can't seem to get it working. I am using NetBeans 11.2 and I am <strong>not</strong> used to Java and it is giving me a hard time (no pun intended). It seems that <code>LocalDateTime</code>, <code>Date</code> and <code>Time</code> are deprecated and that I should be using <code>java.time</code>.</p>\n<p>To be honest, I don't know what to do anymore. I am trying to build a query with inputs value to save in <code>mySQL</code> database.</p>\n<p>The source of the Date is from <code>&lt;input type=&quot;date&quot;&gt;</code></p>\n<p><strong>SignIn.java (servlet)</strong> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String birthDate = request.getParameter(&quot;data_birthdate&quot;);\n        \nUserDto userDto = null;\nUserDao userDao = new UserDao(); \n        \ntry \n{ \n// Tried this \n    userDto = userDao.CreateUser(LocalDateTime.parse(birthDate));\n// Tried that\n    userDto = userDao.CreateUser(Date.parse(birthDate));\n// Tried this \n    userDto = userDao.CreateUser(Time.parse(birthDate));\n}\n</code></pre>\n<p><strong>userDao.java (Dao)</strong> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void CreateUser(Date dateBirth) throws SQLException {\ntry {\n        connect = db.getConnect();\n        ps = connect.prepareStatement(SQL_CreateUser);\n        ps.setDate(1, dateBirth);\n        ps.executeUpdate();\n    }\n}\n</code></pre>\n"},{"tags":["java","graphiql","graphql-schema","spring-graphql"],"owner":{"account_id":13559347,"reputation":196,"user_id":9781655,"display_name":"Oromis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669476631,"creation_date":1669476631,"question_id":74583453,"body_markdown":"I have a GraphQL schema:\r\n\r\n```graphql\r\nenum CustomType {\r\n  Foo\r\n  Bar\r\n}\r\n```\r\n\r\nBut I need to add enum items from my database. For that, I have made a Visitor that modify the schema model during runtime:\r\n\r\n```java\r\n@Configuration(proxyBeanMethods = false)\r\nclass GraphQlConfig {\r\n\r\n    @Bean\r\n    public GraphQlSourceBuilderCustomizer sourceBuilderCustomizer() {\r\n        return builder -&gt; builder.typeVisitors(List.of(new AssetGraphQlVisitor()));\r\n    }\r\n}\r\n```\r\n\r\n\r\n```java\r\npublic class AssetGraphQlVisitor extends GraphQLTypeVisitorStub {\r\n\r\n    @Override\r\n    public TraversalControl visitGraphQLEnumType(GraphQLEnumType node, TraverserContext&lt;GraphQLSchemaElement&gt; context) {\r\n        GraphQLEnumType returnedNode = node;\r\n        if (node.getName().equals(&quot;CustomType&quot;)) {\r\n            returnedNode = returnedNode\r\n                    .transform(builder -&gt; CustomType.getAll().forEach(type -&gt; builder.value(type.getName())));\r\n        }\r\n        return super.visitGraphQLEnumType(returnedNode, context);\r\n    }\r\n}\r\n```\r\n\r\nThis seems to work well but when I go to my GraphiQL web interface, my custom types aren&#39;t present in the displayed schema...\r\n\r\nHow can I update the schema used by GraphiQL received from Spring GraphQL ?\r\n\r\nThanks!","title":"Dynamically modify GraphQL schema and see updated schema with GraphiQL","body":"<p>I have a GraphQL schema:</p>\n<pre><code>enum CustomType {\n  Foo\n  Bar\n}\n</code></pre>\n<p>But I need to add enum items from my database. For that, I have made a Visitor that modify the schema model during runtime:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration(proxyBeanMethods = false)\nclass GraphQlConfig {\n\n    @Bean\n    public GraphQlSourceBuilderCustomizer sourceBuilderCustomizer() {\n        return builder -&gt; builder.typeVisitors(List.of(new AssetGraphQlVisitor()));\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class AssetGraphQlVisitor extends GraphQLTypeVisitorStub {\n\n    @Override\n    public TraversalControl visitGraphQLEnumType(GraphQLEnumType node, TraverserContext&lt;GraphQLSchemaElement&gt; context) {\n        GraphQLEnumType returnedNode = node;\n        if (node.getName().equals(&quot;CustomType&quot;)) {\n            returnedNode = returnedNode\n                    .transform(builder -&gt; CustomType.getAll().forEach(type -&gt; builder.value(type.getName())));\n        }\n        return super.visitGraphQLEnumType(returnedNode, context);\n    }\n}\n</code></pre>\n<p>This seems to work well but when I go to my GraphiQL web interface, my custom types aren't present in the displayed schema...</p>\n<p>How can I update the schema used by GraphiQL received from Spring GraphQL ?</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"score":2,"creation_date":1669474971,"post_id":74582995,"comment_id":131650862,"body_markdown":"Batch writes and transactions don&#39;t care which collections the documents are in. If your code isn&#39;t working, it&#39;s not because of that.","body":"Batch writes and transactions don&#39;t care which collections the documents are in. If your code isn&#39;t working, it&#39;s not because of that."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669475107,"creation_date":1669475107,"answer_id":74583266,"question_id":74582995,"body_markdown":"As Doug commented, there is nothing special that is required to write to multiple collections in a batched write or transaction.\r\n\r\nSo if you&#39;d want to write the same data to another collection int he same batched write, that can be done with:\r\n\r\n    writeBatches.get(batchIndex)\r\n            .update(db.collection(&quot;Monitoring&quot;).document(monitoring.getId()), monitoringMap);\r\n    writeBatches.get(batchIndex)\r\n            .update(db.collection(&quot;AnotherCollection&quot;).document(monitoring.getId()), monitoringMap);\r\n","title":"Multiple collections in 1 batched write firestore","body":"<p>As Doug commented, there is nothing special that is required to write to multiple collections in a batched write or transaction.</p>\n<p>So if you'd want to write the same data to another collection int he same batched write, that can be done with:</p>\n<pre><code>writeBatches.get(batchIndex)\n        .update(db.collection(&quot;Monitoring&quot;).document(monitoring.getId()), monitoringMap);\nwriteBatches.get(batchIndex)\n        .update(db.collection(&quot;AnotherCollection&quot;).document(monitoring.getId()), monitoringMap);\n</code></pre>\n"}],"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669475107,"creation_date":1669472833,"question_id":74582995,"body_markdown":"I want to update documents from multiple collections using 1 batched write in Firestore. How can I achieve this? I&#39;ve seen in Firestore documentation that we can update multiple documents at once using batched write, but how about updating multiple documents in multiple collections at once?\r\n\r\nThis is what I tried so far, but it is not working,\r\n\r\n    //Update in User and Monitoring collections\r\n    List&lt;WriteBatch&gt; writeBatches = new ArrayList&lt;&gt;();\r\n    List&lt;Task&lt;Void&gt;&gt; tasks = new ArrayList&lt;&gt;();\r\n    writeBatches.add(db.batch());\r\n    List&lt;DocumentSnapshot&gt; documentSnapshotList = task.getResult().getDocuments();\r\n\r\n    writeBatches.get(batchIndex).update(db.collection(&quot;User&quot;).document(userId), userMap);\r\n    counter++;\r\n\r\n    for(DocumentSnapshot document : documentSnapshotList){\r\n        Monitoring monitoring = document.toObject(Monitoring.class);\r\n\r\n        if(counter == 499){\r\n            tasks.add(writeBatches.get(batchIndex).commit());\r\n            writeBatches.add(db.batch());\r\n            counter = 0;\r\n            batchIndex++;\r\n        }\r\n\r\n        writeBatches.get(batchIndex)\r\n                .update(db.collection(&quot;Monitoring&quot;).document(monitoring.getId()), monitoringMap);\r\n        counter++;\r\n    }\r\n\r\n    Tasks.whenAllSuccess(tasks)\r\n            .addOnCompleteListener(new OnCompleteListener&lt;List&lt;Object&gt;&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;List&lt;Object&gt;&gt; task) {\r\n                    helper.dismissProgressDialog();\r\n\r\n                    if(task.isSuccessful()){\r\n                        Toast.makeText(EditUserDetailsActivity.this, &quot;Success&quot;, Toast.LENGTH_SHORT).show();\r\n                        resetFields();\r\n                        counter = 0;\r\n                        batchIndex = 0;\r\n\r\n                        Intent intentforBackButton = NavUtils.getParentActivityIntent(EditUserDetailsActivity.this);\r\n                        intentforBackButton.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\r\n                        NavUtils.navigateUpTo(EditUserDetailsActivity.this, intentforBackButton);\r\n                    }else{\r\n                        Toast.makeText(EditUserDetailsActivity.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\r\n                        Log.e(&quot;App Error&quot;, task.getException().getMessage());\r\n                    }\r\n                }\r\n            });","title":"Multiple collections in 1 batched write firestore","body":"<p>I want to update documents from multiple collections using 1 batched write in Firestore. How can I achieve this? I've seen in Firestore documentation that we can update multiple documents at once using batched write, but how about updating multiple documents in multiple collections at once?</p>\n<p>This is what I tried so far, but it is not working,</p>\n<pre><code>//Update in User and Monitoring collections\nList&lt;WriteBatch&gt; writeBatches = new ArrayList&lt;&gt;();\nList&lt;Task&lt;Void&gt;&gt; tasks = new ArrayList&lt;&gt;();\nwriteBatches.add(db.batch());\nList&lt;DocumentSnapshot&gt; documentSnapshotList = task.getResult().getDocuments();\n\nwriteBatches.get(batchIndex).update(db.collection(&quot;User&quot;).document(userId), userMap);\ncounter++;\n\nfor(DocumentSnapshot document : documentSnapshotList){\n    Monitoring monitoring = document.toObject(Monitoring.class);\n\n    if(counter == 499){\n        tasks.add(writeBatches.get(batchIndex).commit());\n        writeBatches.add(db.batch());\n        counter = 0;\n        batchIndex++;\n    }\n\n    writeBatches.get(batchIndex)\n            .update(db.collection(&quot;Monitoring&quot;).document(monitoring.getId()), monitoringMap);\n    counter++;\n}\n\nTasks.whenAllSuccess(tasks)\n        .addOnCompleteListener(new OnCompleteListener&lt;List&lt;Object&gt;&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;List&lt;Object&gt;&gt; task) {\n                helper.dismissProgressDialog();\n\n                if(task.isSuccessful()){\n                    Toast.makeText(EditUserDetailsActivity.this, &quot;Success&quot;, Toast.LENGTH_SHORT).show();\n                    resetFields();\n                    counter = 0;\n                    batchIndex = 0;\n\n                    Intent intentforBackButton = NavUtils.getParentActivityIntent(EditUserDetailsActivity.this);\n                    intentforBackButton.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\n                    NavUtils.navigateUpTo(EditUserDetailsActivity.this, intentforBackButton);\n                }else{\n                    Toast.makeText(EditUserDetailsActivity.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\n                    Log.e(&quot;App Error&quot;, task.getException().getMessage());\n                }\n            }\n        });\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":26771290,"reputation":1,"user_id":20367626,"display_name":"mrguz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669473635,"creation_date":1669473635,"answer_id":74583090,"question_id":74582805,"body_markdown":"It&#39;s because of your program does not compare the first `j` value (which is 0) with itself. Since every value equals itself you can add manually `*` for each line like this.\r\n\r\n    int arr [][] = {{0,4,8,12,13,14,15,18,19,20,21,24,28},\r\n    \t\t       {0,4,7,9,12,16,18,22,25,27},\r\n    \t\t       {0,1,2,3,4,6,10,12,16,18,22,26},\r\n    \t\t       {0,4,6,10,12,13,14,15,18,19,20,21,26},\r\n    \t\t       {0,4,6,7,8,9,10,12,18,26},\r\n    \t\t       {0,4,6,10,12,18,26}};\r\n    \t \r\n    \t \r\n    \t for (int i = 0; i &lt; arr.length; i++)\r\n         {\r\n    \t\t System.out.print(&quot;*&quot;);\r\n    \t\t \r\n             for (int j = 0; j &lt; arr[i].length - 1; j++)\r\n             {\r\n                 for (int spaces = 1; spaces &lt; arr[i][j + 1]-arr[i][j]; spaces++)\r\n                 {\r\n                  System.out.print(&quot; &quot;);\r\n                 }\r\n                 System.out.print(&quot;*&quot;);\r\n             }\r\n             System.out.println();\r\n         }","title":"Printing pattern using Jagged Array","body":"<p>It's because of your program does not compare the first <code>j</code> value (which is 0) with itself. Since every value equals itself you can add manually <code>*</code> for each line like this.</p>\n<pre><code>int arr [][] = {{0,4,8,12,13,14,15,18,19,20,21,24,28},\n               {0,4,7,9,12,16,18,22,25,27},\n               {0,1,2,3,4,6,10,12,16,18,22,26},\n               {0,4,6,10,12,13,14,15,18,19,20,21,26},\n               {0,4,6,7,8,9,10,12,18,26},\n               {0,4,6,10,12,18,26}};\n     \n     \n     for (int i = 0; i &lt; arr.length; i++)\n     {\n         System.out.print(&quot;*&quot;);\n         \n         for (int j = 0; j &lt; arr[i].length - 1; j++)\n         {\n             for (int spaces = 1; spaces &lt; arr[i][j + 1]-arr[i][j]; spaces++)\n             {\n              System.out.print(&quot; &quot;);\n             }\n             System.out.print(&quot;*&quot;);\n         }\n         System.out.println();\n     }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669717115,"post_id":74583242,"comment_id":131700804,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74583242/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":"ﾓｷｬﾃﾞ"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669474954,"creation_date":1669474954,"answer_id":74583242,"question_id":74582805,"body_markdown":"Try this.\r\n\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            for (int j = 0, p = -1; j &lt; arr[i].length; p = arr[i][j++])\r\n                System.out.print(&quot; &quot;.repeat(arr[i][j] - p - 1) + &quot;*&quot;);\r\n            System.out.println();\r\n        }\r\n\r\noutput:\r\n\r\n    *   *   *   ****  ****  *   *\r\n    *   *  * *  *   * *   *  * *\r\n    ***** *   * *   * *   *   *\r\n    *   * *   * ****  ****    *\r\n    *   * ***** *     *       *\r\n    *   * *   * *     *       *\r\n\r\n","title":"Printing pattern using Jagged Array","body":"<p>Try this.</p>\n<pre><code>    for (int i = 0; i &lt; arr.length; i++) {\n        for (int j = 0, p = -1; j &lt; arr[i].length; p = arr[i][j++])\n            System.out.print(&quot; &quot;.repeat(arr[i][j] - p - 1) + &quot;*&quot;);\n        System.out.println();\n    }\n</code></pre>\n<p>output:</p>\n<pre><code>*   *   *   ****  ****  *   *\n*   *  * *  *   * *   *  * *\n***** *   * *   * *   *   *\n*   * *   * ****  ****    *\n*   * ***** *     *       *\n*   * *   * *     *       *\n</code></pre>\n"}],"owner":{"account_id":27054259,"reputation":11,"user_id":20607200,"display_name":"JASON REINFRED REYES"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669474954,"creation_date":1669471155,"question_id":74582805,"body_markdown":"Given the jagged Array, we are asked to use a looping statement to display the character based on the position. Display a &quot;*&quot; if the position matched or a &quot; &quot; if it doesn&#39;t.\r\n\r\n```\r\n\t    int arr [][] = {{0,4,8,12,13,14,15,18,19,20,21,24,28},\r\n\t   {0,4,7,9,12,16,18,22,25,27},\r\n\t   {0,1,2,3,4,6,10,12,16,18,22,26},\r\n\t   {0,4,6,10,12,13,14,15,18,19,20,21,26},\r\n\t   {0,4,6,7,8,9,10,12,18,26},\r\n\t   {0,4,6,10,12,18,26}};\r\n\t   \r\n```\r\nI have created a program, but the output is not what I expected and I am now stuck.\r\n\r\n\r\n```\r\n\t  for (int i = 0; i &lt; arr.length; i++)\r\n\t  {\r\n\t      for (int j = 0; j &lt; arr[i].length - 1; j++)\r\n\t      {\r\n\t          for (int spaces = 1; spaces &lt; arr[i][j + 1]-arr[i][j]; spaces++)\r\n\t          {\r\n\t           System.out.print(&quot; &quot;);\r\n\t          }\r\n\t          System.out.print(&quot;*&quot;);\r\n\t      }\r\n\t      System.out.println();\r\n\t  }\r\n\r\n```\r\n\r\n\r\nThe output was suppose to be Happy but I get:\r\n[enter image description here](https://i.stack.imgur.com/2dcIl.png)","title":"Printing pattern using Jagged Array","body":"<p>Given the jagged Array, we are asked to use a looping statement to display the character based on the position. Display a &quot;*&quot; if the position matched or a &quot; &quot; if it doesn't.</p>\n<pre><code>        int arr [][] = {{0,4,8,12,13,14,15,18,19,20,21,24,28},\n       {0,4,7,9,12,16,18,22,25,27},\n       {0,1,2,3,4,6,10,12,16,18,22,26},\n       {0,4,6,10,12,13,14,15,18,19,20,21,26},\n       {0,4,6,7,8,9,10,12,18,26},\n       {0,4,6,10,12,18,26}};\n       \n</code></pre>\n<p>I have created a program, but the output is not what I expected and I am now stuck.</p>\n<pre><code>      for (int i = 0; i &lt; arr.length; i++)\n      {\n          for (int j = 0; j &lt; arr[i].length - 1; j++)\n          {\n              for (int spaces = 1; spaces &lt; arr[i][j + 1]-arr[i][j]; spaces++)\n              {\n               System.out.print(&quot; &quot;);\n              }\n              System.out.print(&quot;*&quot;);\n          }\n          System.out.println();\n      }\n\n</code></pre>\n<p>The output was suppose to be Happy but I get:\n<a href=\"https://i.stack.imgur.com/2dcIl.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","linux","docker","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1647195645,"post_id":71457545,"comment_id":126304990,"body_markdown":"The Linux inside the docker platform is not binary compatible with your host platform. Add additional details.","body":"The Linux inside the docker platform is not binary compatible with your host platform. Add additional details."},{"owner":{"account_id":17110009,"reputation":132,"user_id":12381095,"display_name":"QuocNg"},"score":0,"creation_date":1647214350,"post_id":71457545,"comment_id":126308515,"body_markdown":"@Thorbj&#248;rnRavnAndersen could you please provide more information?","body":"@Thorbj&#248;rnRavnAndersen could you please provide more information?"}],"answers":[{"tags":[],"owner":{"account_id":17110009,"reputation":132,"user_id":12381095,"display_name":"QuocNg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647611809,"creation_date":1647611809,"answer_id":71528139,"question_id":71457545,"body_markdown":"(answer to my own question)\r\n\r\n&gt; Can we create native image from inside a graalvm docker and run it anywhere?\r\n\r\nThe answer is YES!\r\n\r\nFor some specific reasons I am now able to build the native image file inside docker container and run it.","title":"Can we create native image from inside a graalvm docker and run it anywhere?","body":"<p>(answer to my own question)</p>\n<blockquote>\n<p>Can we create native image from inside a graalvm docker and run it anywhere?</p>\n</blockquote>\n<p>The answer is YES!</p>\n<p>For some specific reasons I am now able to build the native image file inside docker container and run it.</p>\n"},{"tags":[],"owner":{"account_id":22500313,"reputation":1,"user_id":16696736,"display_name":"Neha Rane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669473603,"creation_date":1669473603,"answer_id":74583087,"question_id":71457545,"body_markdown":"I think you can by doing this way, https://github.com/swseighman/Spring-GraalVM-REST-Example/blob/main/src/main/resources/containers/Dockerfile.stage\r\nI tried doing the same and it did not work as you got to use same architecture  to build and run the image. Linux built image would run on Linux and so as macOS built on mac. I use builtpacks and it give you OCI image which runs perfectly fine.","title":"Can we create native image from inside a graalvm docker and run it anywhere?","body":"<p>I think you can by doing this way, <a href=\"https://github.com/swseighman/Spring-GraalVM-REST-Example/blob/main/src/main/resources/containers/Dockerfile.stage\" rel=\"nofollow noreferrer\">https://github.com/swseighman/Spring-GraalVM-REST-Example/blob/main/src/main/resources/containers/Dockerfile.stage</a>\nI tried doing the same and it did not work as you got to use same architecture  to build and run the image. Linux built image would run on Linux and so as macOS built on mac. I use builtpacks and it give you OCI image which runs perfectly fine.</p>\n"}],"owner":{"account_id":17110009,"reputation":132,"user_id":12381095,"display_name":"QuocNg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1051,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71528139,"answer_count":2,"score":0,"last_activity_date":1669473603,"creation_date":1647180546,"question_id":71457545,"body_markdown":"We are new to Graalvm and are building a simple Java command line app. The jar runs fine in jvm mode (`java -jar &lt;file&gt;.jar`). We don&#39;t install Graalvm on our machines (yet) so we tried to create the native image from inside Docker container which runs Graalvm, the Dockerfile is this simple:\r\n```Dockerfile\r\nFROM ghcr.io/graalvm/native-image:ol8-java17\r\n\r\nCOPY . /home/app\r\nWORKDIR /home/app\r\n\r\nRUN ./mvnw clean package\r\nRUN native-image -cp target/appj-1.0.0.jar &quot;org.nqm.Appj&quot;\r\nRUN mv org.nqm.Appj appj\r\nRUN chmod +x appj\r\n```\r\nThe docker image was successfully built.\r\n\r\nThen we tried to access the container (`docker run --rm --name dkappj -it --entrypoint bash dkappj`) to collect the native image file. From inside the docker container, we could run it with `./appj` without any errors.\r\n\r\nHowever, when we copied the native image file to the host machine and run it with `./appj` it produces an error:\r\n```\r\nzsh: exec format error: ./appj\r\n```\r\n\r\nSo my question is can we create native image from inside a graalvm docker container, copy it and run it anywhere? Or we have to install Graalvm on our host machine to be able to execute the native image? Because I thought graalvm native image is actually the machine code (like the apps created from C language)\r\n\r\n**Edit:**\r\nwhen I replicated the whole code base on a new computer which runs the same os (ubuntu 20.04) the native image runs fine on that host machine.","title":"Can we create native image from inside a graalvm docker and run it anywhere?","body":"<p>We are new to Graalvm and are building a simple Java command line app. The jar runs fine in jvm mode (<code>java -jar &lt;file&gt;.jar</code>). We don't install Graalvm on our machines (yet) so we tried to create the native image from inside Docker container which runs Graalvm, the Dockerfile is this simple:</p>\n<pre><code>FROM ghcr.io/graalvm/native-image:ol8-java17\n\nCOPY . /home/app\nWORKDIR /home/app\n\nRUN ./mvnw clean package\nRUN native-image -cp target/appj-1.0.0.jar &quot;org.nqm.Appj&quot;\nRUN mv org.nqm.Appj appj\nRUN chmod +x appj\n</code></pre>\n<p>The docker image was successfully built.</p>\n<p>Then we tried to access the container (<code>docker run --rm --name dkappj -it --entrypoint bash dkappj</code>) to collect the native image file. From inside the docker container, we could run it with <code>./appj</code> without any errors.</p>\n<p>However, when we copied the native image file to the host machine and run it with <code>./appj</code> it produces an error:</p>\n<pre><code>zsh: exec format error: ./appj\n</code></pre>\n<p>So my question is can we create native image from inside a graalvm docker container, copy it and run it anywhere? Or we have to install Graalvm on our host machine to be able to execute the native image? Because I thought graalvm native image is actually the machine code (like the apps created from C language)</p>\n<p><strong>Edit:</strong>\nwhen I replicated the whole code base on a new computer which runs the same os (ubuntu 20.04) the native image runs fine on that host machine.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"score":0,"creation_date":1582294108,"post_id":49389077,"comment_id":106738207,"body_markdown":"Good answer. It&#39;s also important to note that you also have to &quot;build project&quot; (not maven install) in the IDE to trigger a restart.","body":"Good answer. It&#39;s also important to note that you also have to &quot;build project&quot; (not maven install) in the IDE to trigger a restart."},{"owner":{"account_id":5294732,"reputation":467,"user_id":4226183,"display_name":"sorabh86"},"score":0,"creation_date":1693914610,"post_id":49389077,"comment_id":135819477,"body_markdown":"do you mean use the `mvn install` command on maven? and `gradle build` command on gradle, in second terminal or command prompt? It is very complicated if you doing everything without an IDE, which is not building your application on save. you probably setup a gulp task using nodejs to watch files and build on changes.","body":"do you mean use the <code>mvn install</code> command on maven? and <code>gradle build</code> command on gradle, in second terminal or command prompt? It is very complicated if you doing everything without an IDE, which is not building your application on save. you probably setup a gulp task using nodejs to watch files and build on changes."}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1521562913,"creation_date":1521562149,"answer_id":49389077,"question_id":49386434,"body_markdown":"Running the application from the IDE is not a constraint to make Developer tools working.\r\nYour problem is somewhere else.\r\n\r\n\r\nThese commands :\r\n\r\n    mvn clean package; \r\n    java -jar target\\project-name-version.jar\r\n\r\nmean that you don&#39;t use the spring-boot maven plugin to run your application.  \r\nYou run the autobootable jar of your fully packaged application.\r\nConsequently, Spring Boot devtools are disabled as stated by the [documentation][1] :\r\n\r\n&gt; **Developer tools are automatically disabled when running a fully\r\n&gt; packaged application**. If your application is launched from java -jar\r\n&gt; or if it is started from a special classloader, then it is considered\r\n&gt; a “production application”. Flagging the dependency as optional is a\r\n&gt; best practice that prevents devtools from being transitively applied\r\n&gt; to other modules that use your project. Gradle does not support\r\n&gt; optional dependencies out-of-the-box, so you may want to have a look\r\n&gt; at the propdeps-plugin.\r\n\r\n\r\nTo run the application from command line in exploded/dev mode, `mvn clean package` is not required and helpless.  \r\nJust execute `mvn spring-boot:run`\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools","title":"Live reload not working in Spring boot devtools","body":"<p>Running the application from the IDE is not a constraint to make Developer tools working.\nYour problem is somewhere else.</p>\n\n<p>These commands :</p>\n\n<pre><code>mvn clean package; \njava -jar target\\project-name-version.jar\n</code></pre>\n\n<p>mean that you don't use the spring-boot maven plugin to run your application.<br>\nYou run the autobootable jar of your fully packaged application.\nConsequently, Spring Boot devtools are disabled as stated by the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools\" rel=\"noreferrer\">documentation</a> :</p>\n\n<blockquote>\n  <p><strong>Developer tools are automatically disabled when running a fully\n  packaged application</strong>. If your application is launched from java -jar\n  or if it is started from a special classloader, then it is considered\n  a “production application”. Flagging the dependency as optional is a\n  best practice that prevents devtools from being transitively applied\n  to other modules that use your project. Gradle does not support\n  optional dependencies out-of-the-box, so you may want to have a look\n  at the propdeps-plugin.</p>\n</blockquote>\n\n<p>To run the application from command line in exploded/dev mode, <code>mvn clean package</code> is not required and helpless.<br>\nJust execute <code>mvn spring-boot:run</code></p>\n"},{"tags":[],"owner":{"account_id":13417623,"reputation":111,"user_id":9681548,"display_name":"Abhishek Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631290371,"creation_date":1631290371,"answer_id":69135110,"question_id":49386434,"body_markdown":"I fixed this issue by below approach - \r\n\r\n - First open setting.json (ctrl + shift+P) file and define a property there as &quot;java.autobuild.enabled&quot;: true.\r\n - second open application.properties file and define a property as spring.devtools.restart.pollInterval=10s\r\n\r\nHope it should work.\r\n\r\n ","title":"Live reload not working in Spring boot devtools","body":"<p>I fixed this issue by below approach -</p>\n<ul>\n<li>First open setting.json (ctrl + shift+P) file and define a property there as &quot;java.autobuild.enabled&quot;: true.</li>\n<li>second open application.properties file and define a property as spring.devtools.restart.pollInterval=10s</li>\n</ul>\n<p>Hope it should work.</p>\n"},{"tags":[],"owner":{"account_id":15743333,"reputation":1,"user_id":18177848,"display_name":"user18177848"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669473586,"creation_date":1669473586,"answer_id":74583082,"question_id":49386434,"body_markdown":"Set Build project automatically.\r\nIn intellij  File –&gt; Setting –&gt; Build, Execution, Deployment –&gt; Compiler –&gt; check the Build project automatically \r\nIn eclipse  Window -&gt; Preferences -&gt; Workspace -&gt; General -&gt; Build -&gt; Check ‘build automatically’\r\n","title":"Live reload not working in Spring boot devtools","body":"<p>Set Build project automatically.\nIn intellij  File –&gt; Setting –&gt; Build, Execution, Deployment –&gt; Compiler –&gt; check the Build project automatically\nIn eclipse  Window -&gt; Preferences -&gt; Workspace -&gt; General -&gt; Build -&gt; Check ‘build automatically’</p>\n"}],"owner":{"account_id":6602409,"reputation":9636,"user_id":5100278,"accept_rate":78,"display_name":"Kingamere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15108,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":49389077,"answer_count":3,"score":9,"last_activity_date":1669473586,"creation_date":1521554762,"question_id":49386434,"body_markdown":"I am using this dependency in a spring boot application:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThe [documentation][1] says:\r\n\r\n&gt; By default, changing resources in /META-INF/maven,\r\n&gt; /META-INF/resources, /resources, **/static**, /public, or /templates does\r\n&gt; not trigger a restart but **does trigger a live reload**.\r\n\r\nThe [live reload documentation][2] says:\r\n\r\n&gt; The spring-boot-devtools module includes an embedded LiveReload server\r\n&gt; that can be used to trigger a browser refresh when a resource is\r\n&gt; changed. LiveReload browser extensions are freely available for\r\n&gt; Chrome, Firefox and Safari from livereload.com.\r\n\r\nNow, I am using Maven and my static folder is under src/main/resources, so my folder structure is:\r\n\r\nsrc/main/resources/static/index.html\r\n\r\nThis is what&#39;s in my index.html file:\r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Getting Started: Serving Web Content&lt;/title&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;p&gt;HI THERE! Get your greeting &lt;a href=&quot;/greeting&quot;&gt;here&lt;/a&gt;&lt;/p&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nI using chrome browser but am not using any live reload browser extension in chrome.\r\n\r\nI run the application with this Powershell command (since I&#39;m using spring boot maven plugin):\r\n\r\n    mvn clean package; java -jar target\\project-name-version.jar\r\n\r\nThis starts up the server on localhost:8080 and displays the contents of index.html in a web page.\r\n\r\nHowever, when I then make changes to index.html in Eclipse IDE and save the file, and I then refresh the browser page, **I do not see the new changes.**\r\n\r\nHow come live reload isn&#39;t working for me? What am I doing wrong?\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/reference/htmlsingle/#using-boot-devtools-restart-exclude\r\n  [2]: https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/reference/htmlsingle/#using-boot-devtools-livereload","title":"Live reload not working in Spring boot devtools","body":"<p>I am using this dependency in a spring boot application:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The <a href=\"https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/reference/htmlsingle/#using-boot-devtools-restart-exclude\" rel=\"noreferrer\">documentation</a> says:</p>\n\n<blockquote>\n  <p>By default, changing resources in /META-INF/maven,\n  /META-INF/resources, /resources, <strong>/static</strong>, /public, or /templates does\n  not trigger a restart but <strong>does trigger a live reload</strong>.</p>\n</blockquote>\n\n<p>The <a href=\"https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/reference/htmlsingle/#using-boot-devtools-livereload\" rel=\"noreferrer\">live reload documentation</a> says:</p>\n\n<blockquote>\n  <p>The spring-boot-devtools module includes an embedded LiveReload server\n  that can be used to trigger a browser refresh when a resource is\n  changed. LiveReload browser extensions are freely available for\n  Chrome, Firefox and Safari from livereload.com.</p>\n</blockquote>\n\n<p>Now, I am using Maven and my static folder is under src/main/resources, so my folder structure is:</p>\n\n<p>src/main/resources/static/index.html</p>\n\n<p>This is what's in my index.html file:</p>\n\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Getting Started: Serving Web Content&lt;/title&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;p&gt;HI THERE! Get your greeting &lt;a href=\"/greeting\"&gt;here&lt;/a&gt;&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I using chrome browser but am not using any live reload browser extension in chrome.</p>\n\n<p>I run the application with this Powershell command (since I'm using spring boot maven plugin):</p>\n\n<pre><code>mvn clean package; java -jar target\\project-name-version.jar\n</code></pre>\n\n<p>This starts up the server on localhost:8080 and displays the contents of index.html in a web page.</p>\n\n<p>However, when I then make changes to index.html in Eclipse IDE and save the file, and I then refresh the browser page, <strong>I do not see the new changes.</strong></p>\n\n<p>How come live reload isn't working for me? What am I doing wrong?</p>\n"},{"tags":["java","osgi","hazelcast","apache-karaf","osgi-bundle"],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669472632,"creation_date":1669471323,"question_id":74582818,"body_markdown":"I am creating one application in which I am using java 17,Spring Boot, karaf for osgi and hazelcast jet as doing some join for data coming from different sources(modules) but as using Hazelcast Jet module cannot identified by the ServiceReference they are the getting registered in different references, So how register them in one context.\r\n\r\nMy Common module interface which used in different modules (packaging as jar in all modules):\r\n\r\n    public interface DataService {\r\n        String name();\r\n        public BatchStage&lt;Object&gt; getData(Pipeline pipeline, Map&lt;String, Object&gt; source);\r\n    }\r\n\r\nFirst Module here we implement the above interface: \r\n\r\n    public class JDBCDataSource implements DataService, Serializable {\r\n             public BatchStage&lt;Object&gt; getData(Pipeline pipeline, Map&lt;String, Object&gt; source) {\r\n              //Hazelcast Jdbc implementation\r\n           }\r\n        }\r\n\r\nAnd Activator for First module:\r\n\r\n    public class Activator implements BundleActivator {\r\n     public static BundleContext bundleContext;\r\n     ConfigurableApplicationContext appContext;\r\n     @Override\r\n     public void start(BundleContext context) throws Exception {\r\n       Thread.currentThread().setContextClassLoader(this.getClass().getClassLoader());\r\n      appContext = SpringApplication.run(Activator.class);\r\n      bundleContext = context;\r\n      registerServices();\r\n     }\r\n     @Override\r\n     public void stop(BundleContext context) throws Exception {\r\n      bundleContext = null;\r\n      SpringApplication.exit(appContext, () -&gt; 0);\r\n     }\r\n     public static BundleContext getBundleContext() {\r\n      return bundleContext;\r\n     }\r\n     private void registerServices() {\r\n      DataService  service = new JDBCDataSource();\r\n      bundleContext.registerService(DataService.class.getName(), service, new HashMap&lt;String, Object&gt;());\r\n      System.out.println(&quot;Service registered: &quot; + service.name());\r\n     }\r\n     public static void main(String[] args) {\r\n      SpringApplication.run(Activator.class, args);\r\n     }\r\n    }\r\n\r\n    \r\n\r\nAnd one rest controller in First Module via which we fetch all services\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/data&quot;)\r\n    @Component\r\n    public class RController {\r\n    public Map&lt;String, Object&gt; fetchRecordsPipline() {\r\n       BundleContext bundleContext = Activator.getBundleContext();\r\n    \r\n                Collection&lt;ServiceReference&lt;DataService&gt;&gt; references = bundleContext\r\n                        .getServiceReferences(DataService.class, null);\r\n                for (ServiceReference&lt;DataService&gt; reference : references) {\r\n                    DataService calcService = bundleContext.getService(reference);\r\n                    System.out.println(calcService.name());\r\n    \r\n                }\r\n    \r\n    }\r\n    }\r\n\r\nSame way second Module here we implement the above interface: \r\n\r\n    public class JsonDataSource implements DataService, Serializable {\r\n             public BatchStage&lt;Object&gt; getData(Pipeline pipeline, Map&lt;String, Object&gt; source) {\r\n              //Hazelcast json implementation\r\n           }\r\n        }\r\n\r\nAnd Activator for Second module:\r\n\r\n    public class Activator implements BundleActivator {\r\n     public static BundleContext bundleContext;\r\n     ConfigurableApplicationContext appContext;\r\n     @Override\r\n     public void start(BundleContext context) throws Exception {\r\n       Thread.currentThread().setContextClassLoader(this.getClass().getClassLoader());\r\n      appContext = SpringApplication.run(Activator.class);\r\n      bundleContext = context;\r\n      registerServices();\r\n     }\r\n     @Override\r\n     public void stop(BundleContext context) throws Exception {\r\n      bundleContext = null;\r\n      SpringApplication.exit(appContext, () -&gt; 0);\r\n     }\r\n     public static BundleContext getBundleContext() {\r\n      return bundleContext;\r\n     }\r\n     private void registerServices() {\r\n      DataService  service = new JsonDataSource();\r\n      bundleContext.registerService(DataService.class.getName(), service, new HashMap&lt;String, Object&gt;());\r\n      System.out.println(&quot;Service registered: &quot; + service.name());\r\n     }\r\n     public static void main(String[] args) {\r\n      SpringApplication.run(Activator.class, args);\r\n     }\r\n    }\r\n\r\n\r\nHazelcast jet Instance in generated in First Module.\r\n\r\nNow we run it in karaf both the modules are getting registered and when we call rest controller request it is only fetching First module from the **Collection&lt;ServiceReference&lt;DataService&gt;&gt;** &quot;JDBC Service&quot; only not &quot;Json Service&quot; but both the service are registered properly in karaf, as per my understanding as I am using Hazelcast Jet it causing them to get registered in different context so now how to registered them both in same context(BundleContex/Spring Context) so they can communicate and I can join both sources data?","title":"How to put all Activator in same context while using karaf and hazelcast jet?","body":"<p>I am creating one application in which I am using java 17,Spring Boot, karaf for osgi and hazelcast jet as doing some join for data coming from different sources(modules) but as using Hazelcast Jet module cannot identified by the ServiceReference they are the getting registered in different references, So how register them in one context.</p>\n<p>My Common module interface which used in different modules (packaging as jar in all modules):</p>\n<pre><code>public interface DataService {\n    String name();\n    public BatchStage&lt;Object&gt; getData(Pipeline pipeline, Map&lt;String, Object&gt; source);\n}\n</code></pre>\n<p>First Module here we implement the above interface:</p>\n<pre><code>public class JDBCDataSource implements DataService, Serializable {\n         public BatchStage&lt;Object&gt; getData(Pipeline pipeline, Map&lt;String, Object&gt; source) {\n          //Hazelcast Jdbc implementation\n       }\n    }\n</code></pre>\n<p>And Activator for First module:</p>\n<pre><code>public class Activator implements BundleActivator {\n public static BundleContext bundleContext;\n ConfigurableApplicationContext appContext;\n @Override\n public void start(BundleContext context) throws Exception {\n   Thread.currentThread().setContextClassLoader(this.getClass().getClassLoader());\n  appContext = SpringApplication.run(Activator.class);\n  bundleContext = context;\n  registerServices();\n }\n @Override\n public void stop(BundleContext context) throws Exception {\n  bundleContext = null;\n  SpringApplication.exit(appContext, () -&gt; 0);\n }\n public static BundleContext getBundleContext() {\n  return bundleContext;\n }\n private void registerServices() {\n  DataService  service = new JDBCDataSource();\n  bundleContext.registerService(DataService.class.getName(), service, new HashMap&lt;String, Object&gt;());\n  System.out.println(&quot;Service registered: &quot; + service.name());\n }\n public static void main(String[] args) {\n  SpringApplication.run(Activator.class, args);\n }\n}\n</code></pre>\n<p>And one rest controller in First Module via which we fetch all services</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/data&quot;)\n@Component\npublic class RController {\npublic Map&lt;String, Object&gt; fetchRecordsPipline() {\n   BundleContext bundleContext = Activator.getBundleContext();\n\n            Collection&lt;ServiceReference&lt;DataService&gt;&gt; references = bundleContext\n                    .getServiceReferences(DataService.class, null);\n            for (ServiceReference&lt;DataService&gt; reference : references) {\n                DataService calcService = bundleContext.getService(reference);\n                System.out.println(calcService.name());\n\n            }\n\n}\n}\n</code></pre>\n<p>Same way second Module here we implement the above interface:</p>\n<pre><code>public class JsonDataSource implements DataService, Serializable {\n         public BatchStage&lt;Object&gt; getData(Pipeline pipeline, Map&lt;String, Object&gt; source) {\n          //Hazelcast json implementation\n       }\n    }\n</code></pre>\n<p>And Activator for Second module:</p>\n<pre><code>public class Activator implements BundleActivator {\n public static BundleContext bundleContext;\n ConfigurableApplicationContext appContext;\n @Override\n public void start(BundleContext context) throws Exception {\n   Thread.currentThread().setContextClassLoader(this.getClass().getClassLoader());\n  appContext = SpringApplication.run(Activator.class);\n  bundleContext = context;\n  registerServices();\n }\n @Override\n public void stop(BundleContext context) throws Exception {\n  bundleContext = null;\n  SpringApplication.exit(appContext, () -&gt; 0);\n }\n public static BundleContext getBundleContext() {\n  return bundleContext;\n }\n private void registerServices() {\n  DataService  service = new JsonDataSource();\n  bundleContext.registerService(DataService.class.getName(), service, new HashMap&lt;String, Object&gt;());\n  System.out.println(&quot;Service registered: &quot; + service.name());\n }\n public static void main(String[] args) {\n  SpringApplication.run(Activator.class, args);\n }\n}\n</code></pre>\n<p>Hazelcast jet Instance in generated in First Module.</p>\n<p>Now we run it in karaf both the modules are getting registered and when we call rest controller request it is only fetching First module from the <strong>Collection&lt;ServiceReference&gt;</strong> &quot;JDBC Service&quot; only not &quot;Json Service&quot; but both the service are registered properly in karaf, as per my understanding as I am using Hazelcast Jet it causing them to get registered in different context so now how to registered them both in same context(BundleContex/Spring Context) so they can communicate and I can join both sources data?</p>\n"},{"tags":["java","generics","refactoring","simplify"],"answers":[{"comments":[{"owner":{"account_id":12047855,"reputation":35,"user_id":8812144,"display_name":"ArtRac"},"score":0,"creation_date":1669472266,"post_id":74577872,"comment_id":131650401,"body_markdown":"It is very good solution for me. Is possible any solution without generic types?","body":"It is very good solution for me. Is possible any solution without generic types?"}],"tags":[],"owner":{"account_id":991688,"reputation":4736,"user_id":1008794,"display_name":"Rulle"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669472601,"creation_date":1669410611,"answer_id":74577872,"question_id":74576860,"body_markdown":"Add a method\r\n\r\n    public &lt;T&gt; Builder addIfNonNull(List&lt;T&gt; dst, T x)\r\n    {\r\n        if (x != null) {\r\n            dst.add(x);\r\n        }   \r\n        return this;\r\n    }\r\n\r\nand implement `withUnit` like\r\n\r\n    public Builder withUnit( final UnitIf aUnit )\r\n    {\r\n        return addIfNonNull(unit, aUnit);\r\n    }\r\n\r\nand change `withTime` the same way.\r\n\r\n# Non-generic version\r\n\r\nIf you don&#39;t want it to be a generic method, just omit the type parameter `T` and change the type of `x` to be `Object`:\r\n\r\n    public Builder addIfNonNull(List dst, Object x)\r\n    {\r\n        if (x != null) {\r\n            dst.add(x);\r\n        }   \r\n        return this;\r\n    }\r\n\r\nInternally, the Java compiler will compile `List&lt;T&gt;` to just `List`. I think it is called &quot;type erasure&quot;.","title":"Refactoring. How extract code to a generic method?","body":"<p>Add a method</p>\n<pre><code>public &lt;T&gt; Builder addIfNonNull(List&lt;T&gt; dst, T x)\n{\n    if (x != null) {\n        dst.add(x);\n    }   \n    return this;\n}\n</code></pre>\n<p>and implement <code>withUnit</code> like</p>\n<pre><code>public Builder withUnit( final UnitIf aUnit )\n{\n    return addIfNonNull(unit, aUnit);\n}\n</code></pre>\n<p>and change <code>withTime</code> the same way.</p>\n<h1>Non-generic version</h1>\n<p>If you don't want it to be a generic method, just omit the type parameter <code>T</code> and change the type of <code>x</code> to be <code>Object</code>:</p>\n<pre><code>public Builder addIfNonNull(List dst, Object x)\n{\n    if (x != null) {\n        dst.add(x);\n    }   \n    return this;\n}\n</code></pre>\n<p>Internally, the Java compiler will compile <code>List&lt;T&gt;</code> to just <code>List</code>. I think it is called &quot;type erasure&quot;.</p>\n"}],"owner":{"account_id":12047855,"reputation":35,"user_id":8812144,"display_name":"ArtRac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74577872,"answer_count":1,"score":0,"last_activity_date":1669472601,"creation_date":1669401895,"question_id":74576860,"body_markdown":"To avoid duplication in the code, is there a way to extract to a separate method of the selected code?\r\n\r\n```java\r\nclass Builder\r\n{\r\n    private final List&lt; UnitIf &gt; unit = new ArrayList&lt;&gt;();\r\n    private final List&lt; TimeIf &gt; time = new ArrayList&lt;&gt;();\r\n\r\n    public Builder withUnit( final UnitIf aUnit )\r\n    {\r\n        //Extract to method\r\n        if( aUnit != null )\r\n        {\r\n            unit.add( aUnit );\r\n        }\r\n        return this;\r\n        //----------------\r\n    }\r\n\r\n    public Builder withTime( final TimeIf aTime )\r\n    {\r\n        //Extract to method\r\n        if( aTime != null )\r\n        {\r\n            time.add( aTime );\r\n        }\r\n        return this;\r\n        //----------------\r\n    }\r\n}\r\n```\r\n\r\nMy goal is to simplify the code by eliminating duplication. But the parts of code use different data types.","title":"Refactoring. How extract code to a generic method?","body":"<p>To avoid duplication in the code, is there a way to extract to a separate method of the selected code?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Builder\n{\n    private final List&lt; UnitIf &gt; unit = new ArrayList&lt;&gt;();\n    private final List&lt; TimeIf &gt; time = new ArrayList&lt;&gt;();\n\n    public Builder withUnit( final UnitIf aUnit )\n    {\n        //Extract to method\n        if( aUnit != null )\n        {\n            unit.add( aUnit );\n        }\n        return this;\n        //----------------\n    }\n\n    public Builder withTime( final TimeIf aTime )\n    {\n        //Extract to method\n        if( aTime != null )\n        {\n            time.add( aTime );\n        }\n        return this;\n        //----------------\n    }\n}\n</code></pre>\n<p>My goal is to simplify the code by eliminating duplication. But the parts of code use different data types.</p>\n"},{"tags":["java","html","jsp"],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669472480,"creation_date":1669472480,"answer_id":74582953,"question_id":74576299,"body_markdown":"The `Cliente` class is empty (apart from an empty constructor that does nothing by itself if you don&#39;t tell it what to do). You have to define both the data it contains and the methods to get the data. Something like this:\r\n\r\n    public class Cliente {\r\n        // the data in the class\r\n        String dni;\r\n        String nombre;\r\n        String apellido;\r\n        String telefono;\r\n    \r\n        // manually set all members here\r\n        public Cliente(String dni, String nombre, String apellido, String telefono) {\r\n            this.dni = dni;\r\n            this.nombre = nombre;\r\n            this.apellido = apellido;\r\n            this.telefono = telefono;\r\n        }\r\n    \r\n        // getter methods are not created automatically, you have to define them\r\n        public String getDni() { return dni; }\r\n        public String getNombre() { return nombre; }\r\n        public String getApellido() { return apellido; }\r\n        public String getTelefono() { return telefono; }\r\n    }","title":"Problems with cli.get() and getting attributes in JSP and Servlet","body":"<p>The <code>Cliente</code> class is empty (apart from an empty constructor that does nothing by itself if you don't tell it what to do). You have to define both the data it contains and the methods to get the data. Something like this:</p>\n<pre><code>public class Cliente {\n    // the data in the class\n    String dni;\n    String nombre;\n    String apellido;\n    String telefono;\n\n    // manually set all members here\n    public Cliente(String dni, String nombre, String apellido, String telefono) {\n        this.dni = dni;\n        this.nombre = nombre;\n        this.apellido = apellido;\n        this.telefono = telefono;\n    }\n\n    // getter methods are not created automatically, you have to define them\n    public String getDni() { return dni; }\n    public String getNombre() { return nombre; }\n    public String getApellido() { return apellido; }\n    public String getTelefono() { return telefono; }\n}\n</code></pre>\n"}],"owner":{"account_id":27045857,"reputation":3,"user_id":20600060,"display_name":"Tomyrex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74582953,"answer_count":1,"score":0,"last_activity_date":1669472480,"creation_date":1669398013,"question_id":74576299,"body_markdown":"Good morning, I have this problem.\r\nI have a java class &quot;Cliente&quot; with the corresponding data (I leave you the code)\r\n\r\n```\r\npackage Clases;\r\n\r\npublic class Cliente {\r\n    public Cliente(String dni, String nombre, String apellido, String telefono){\r\n    }\r\n}\r\n```\r\n\r\nThen, I have this Servlet with DoGet where I generate a list of Cliente and get my session, and a dopost that asks for the parameters:\r\n\r\n\r\n```\r\npackage Servlets;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport jakarta.servlet.RequestDispatcher;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport jakarta.servlet.http.HttpSession;\r\nimport java.util.*;\r\nimport Clases.Cliente;\r\n\r\n\r\n@WebServlet(name = &quot;SvPrueba&quot;, urlPatterns = {&quot;/SvPrueba&quot;})\r\npublic class SvPrueba extends HttpServlet {\r\n\r\n\r\n    protected void processRequest(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        response.setContentType(&quot;text/html;charset=UTF-8&quot;);\r\n\r\n    }\r\n    \r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        \r\n        List&lt;Cliente&gt; listaClientes = new ArrayList&lt;&gt; ();\r\n        listaClientes.add(new Cliente(&quot;12345678&quot;, &quot;Luisina&quot;, &quot;de Paula&quot;, &quot;444222357&quot;));        \r\n        listaClientes.add(new Cliente(&quot;46325965&quot;, &quot;Avril&quot;, &quot;Lavigne&quot;, &quot;774568931&quot;));        \r\n        listaClientes.add(new Cliente(&quot;69584123&quot;, &quot;Gianluigi&quot;, &quot;Guidicci&quot;, &quot;4567531654&quot;));\r\n        HttpSession misession = request.getSession();\r\n        misession.setAttribute(&quot;listaClientes&quot;, listaClientes);\r\n        response.sendRedirect(&quot;MostrarJSP.jsp&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        String dni = request.getParameter(&quot;dni&quot;);\r\n        String nombre = request.getParameter(&quot;nombre&quot;);\r\n        String apellido = request.getParameter(&quot;apellido&quot;);\r\n        String telefono = request.getParameter(&quot;telefono&quot;);\r\n        processRequest(request, response);\r\n    }   \r\n\r\n     @Override\r\n    public String getServletInfo() {\r\n        return &quot;Short description&quot;;\r\n    }\r\n    \r\n\r\n}\r\n```\r\n\r\nFinally, I have a JSP where it presents the error: In it I bring the session and ask for the attributes to write them. However, on every &quot;cli.get&quot; I get cannot find symbol error\r\n\r\n\r\n```\r\n&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n        &lt;title&gt;Clientes&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;h1&gt;Lista de Clientes&lt;/h1&gt;\r\n        &lt;%@ page import=&quot;java.util.List&quot; %&gt;\r\n        &lt;%@ page import=&quot;Clases.Cliente&quot; %&gt;\r\n        &lt;%\r\n            List&lt;Cliente&gt; listaClientes = (List) request.getSession().getAttribute(&quot;listaClientes&quot;);\r\n            int cont=1;\r\n            for (Cliente cli : listaClientes) { %&gt;\r\n                &lt;p&gt;&lt;b&gt;Cliente N&#186; &lt;%=cont%&gt;&lt;/b&gt;&lt;/p&gt;\r\n                &lt;p&gt;Dni: &lt;%=cli.getDni()%&gt;&lt;/p&gt;\r\n                &lt;p&gt;Nombre: &lt;%=cli.getNombre()%&gt;&lt;/p&gt;\r\n                &lt;p&gt;Apellido: &lt;%=cli.getApellido()%&gt;&lt;/p&gt;\r\n                &lt;p&gt;Tel&#233;fono: &lt;%=cli.getTelefono()%&gt;&lt;/p&gt;\r\n            &lt;% cont= cont+1;%&gt;\r\n        &lt;%}%&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nI&#39;m starting in Java and I can&#39;t fix this :(\r\n\r\n\r\n\r\nI hope that getDni, getNombre, etc. will bring me the data and write it in the HTML code, but I have some error and I don&#39;t know what it is.\r\nThank you ^^\r\n","title":"Problems with cli.get() and getting attributes in JSP and Servlet","body":"<p>Good morning, I have this problem.\nI have a java class &quot;Cliente&quot; with the corresponding data (I leave you the code)</p>\n<pre><code>package Clases;\n\npublic class Cliente {\n    public Cliente(String dni, String nombre, String apellido, String telefono){\n    }\n}\n</code></pre>\n<p>Then, I have this Servlet with DoGet where I generate a list of Cliente and get my session, and a dopost that asks for the parameters:</p>\n<pre><code>package Servlets;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport jakarta.servlet.RequestDispatcher;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport jakarta.servlet.http.HttpSession;\nimport java.util.*;\nimport Clases.Cliente;\n\n\n@WebServlet(name = &quot;SvPrueba&quot;, urlPatterns = {&quot;/SvPrueba&quot;})\npublic class SvPrueba extends HttpServlet {\n\n\n    protected void processRequest(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        response.setContentType(&quot;text/html;charset=UTF-8&quot;);\n\n    }\n    \n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        \n        List&lt;Cliente&gt; listaClientes = new ArrayList&lt;&gt; ();\n        listaClientes.add(new Cliente(&quot;12345678&quot;, &quot;Luisina&quot;, &quot;de Paula&quot;, &quot;444222357&quot;));        \n        listaClientes.add(new Cliente(&quot;46325965&quot;, &quot;Avril&quot;, &quot;Lavigne&quot;, &quot;774568931&quot;));        \n        listaClientes.add(new Cliente(&quot;69584123&quot;, &quot;Gianluigi&quot;, &quot;Guidicci&quot;, &quot;4567531654&quot;));\n        HttpSession misession = request.getSession();\n        misession.setAttribute(&quot;listaClientes&quot;, listaClientes);\n        response.sendRedirect(&quot;MostrarJSP.jsp&quot;);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        String dni = request.getParameter(&quot;dni&quot;);\n        String nombre = request.getParameter(&quot;nombre&quot;);\n        String apellido = request.getParameter(&quot;apellido&quot;);\n        String telefono = request.getParameter(&quot;telefono&quot;);\n        processRequest(request, response);\n    }   \n\n     @Override\n    public String getServletInfo() {\n        return &quot;Short description&quot;;\n    }\n    \n\n}\n</code></pre>\n<p>Finally, I have a JSP where it presents the error: In it I bring the session and ask for the attributes to write them. However, on every &quot;cli.get&quot; I get cannot find symbol error</p>\n<pre><code>&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n        &lt;title&gt;Clientes&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Lista de Clientes&lt;/h1&gt;\n        &lt;%@ page import=&quot;java.util.List&quot; %&gt;\n        &lt;%@ page import=&quot;Clases.Cliente&quot; %&gt;\n        &lt;%\n            List&lt;Cliente&gt; listaClientes = (List) request.getSession().getAttribute(&quot;listaClientes&quot;);\n            int cont=1;\n            for (Cliente cli : listaClientes) { %&gt;\n                &lt;p&gt;&lt;b&gt;Cliente Nº &lt;%=cont%&gt;&lt;/b&gt;&lt;/p&gt;\n                &lt;p&gt;Dni: &lt;%=cli.getDni()%&gt;&lt;/p&gt;\n                &lt;p&gt;Nombre: &lt;%=cli.getNombre()%&gt;&lt;/p&gt;\n                &lt;p&gt;Apellido: &lt;%=cli.getApellido()%&gt;&lt;/p&gt;\n                &lt;p&gt;Teléfono: &lt;%=cli.getTelefono()%&gt;&lt;/p&gt;\n            &lt;% cont= cont+1;%&gt;\n        &lt;%}%&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I'm starting in Java and I can't fix this :(</p>\n<p>I hope that getDni, getNombre, etc. will bring me the data and write it in the HTML code, but I have some error and I don't know what it is.\nThank you ^^</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9899349,"reputation":20524,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1652529873,"post_id":72239867,"comment_id":127631103,"body_markdown":"What is SOClass? And do you think it makes sense to add just a single tag that is also new? Often such questions end up untagged, because the new single tag was not used by any other question for a while and the tag got deleted again.","body":"What is SOClass? And do you think it makes sense to add just a single tag that is also new? Often such questions end up untagged, because the new single tag was not used by any other question for a while and the tag got deleted again."},{"owner":{"account_id":2876637,"reputation":2736,"user_id":2468508,"display_name":"Rashad Saleh"},"score":0,"creation_date":1652532068,"post_id":72239867,"comment_id":127631532,"body_markdown":"[SOClass](https://strategyobject.com/products/about-soclass/) is a Java based framework that is used by the [ASYCUDA](https://asycuda.org/en/) software which is used by many Customs agencies around the world. As for the tag getting deleted due to lack of activity, this is very possible. I am not sure what to do about that though.","body":"<a href=\"https://strategyobject.com/products/about-soclass/\" rel=\"nofollow noreferrer\">SOClass</a> is a Java based framework that is used by the <a href=\"https://asycuda.org/en/\" rel=\"nofollow noreferrer\">ASYCUDA</a> software which is used by many Customs agencies around the world. As for the tag getting deleted due to lack of activity, this is very possible. I am not sure what to do about that though."},{"owner":{"account_id":2876637,"reputation":2736,"user_id":2468508,"display_name":"Rashad Saleh"},"score":0,"creation_date":1652537834,"post_id":72239867,"comment_id":127632737,"body_markdown":"@jps I just realized I did not answer your second question. The two other tags I considered were `java` and `asycuda`. However, all the concepts in the question are defined at the SOClass framework level, even though they are implemented in java and used by ASYCUDA. In other words, `java` would be too general, and `asycuda` would be too specific. I also made sure to put &quot;In SOClass,...&quot; at the beginning of the question so that people know right away if the question concerns them or not. Do you think I should change that to &quot;In the SOClass framework,...&quot; just to be sure?","body":"@jps I just realized I did not answer your second question. The two other tags I considered were <code>java</code> and <code>asycuda</code>. However, all the concepts in the question are defined at the SOClass framework level, even though they are implemented in java and used by ASYCUDA. In other words, <code>java</code> would be too general, and <code>asycuda</code> would be too specific. I also made sure to put &quot;In SOClass,...&quot; at the beginning of the question so that people know right away if the question concerns them or not. Do you think I should change that to &quot;In the SOClass framework,...&quot; just to be sure?"}],"answers":[{"tags":[],"owner":{"account_id":2876637,"reputation":2736,"user_id":2468508,"display_name":"Rashad Saleh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652528618,"creation_date":1652528618,"answer_id":72239868,"question_id":72239867,"body_markdown":"One solution is to add a client rule to the FINAL_ACTION_REQUESTED event that consumes it. This will stop the operation from completing:\r\n\r\n```java\r\ndocument.addRule(new Rule() {\r\n            @Override\r\n            protected void apply(KernelEvent e) {\r\n                e.consume();\r\n            }\r\n        }, KernelEventConstants.FINAL_ACTION_REQUESTED);\r\n```\r\n\r\nSince this could be a common scenario for you, you might also want to define a utility class to handle this situation. This also helps in preventing adding that rule multiple times across your code, which is not neat and also might have a performance penalty:\r\n\r\n```java\r\npublic final class OperationUtility {\r\n\r\n    private static volatile Rule preventOperationFromCompletingRule = null;\r\n\r\n\r\n    public static void preventOperationFromCompleting(KDocument doc) {\r\n        if (preventOperationFromCompletingRule == null) {\r\n            synchronized (OperationUtility.class) {\r\n                if (preventOperationFromCompletingRule == null) {\r\n                    preventOperationFromCompletingRule = new Rule() {\r\n                        @Override\r\n                        protected void apply(KernelEvent e) {\r\n                            e.consume();\r\n                        }\r\n                    };\r\n\r\n                    doc.addRule(preventOperationFromCompletingRule, KernelEventConstants.FINAL_ACTION_REQUESTED);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis code uses the Singleton Pattern with Lazy Initialization as described here: https://en.wikipedia.org/wiki/Singleton_pattern#Lazy_initialization\r\n\r\nAnd in your code you use the utility as follows:\r\n\r\n```java\r\nOperationUtility.preventOperationFromCompleting(doc);\r\n```\r\n","title":"In SOClass, how to prevent an Operation from completing from the client side?","body":"<p>One solution is to add a client rule to the FINAL_ACTION_REQUESTED event that consumes it. This will stop the operation from completing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>document.addRule(new Rule() {\n            @Override\n            protected void apply(KernelEvent e) {\n                e.consume();\n            }\n        }, KernelEventConstants.FINAL_ACTION_REQUESTED);\n</code></pre>\n<p>Since this could be a common scenario for you, you might also want to define a utility class to handle this situation. This also helps in preventing adding that rule multiple times across your code, which is not neat and also might have a performance penalty:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class OperationUtility {\n\n    private static volatile Rule preventOperationFromCompletingRule = null;\n\n\n    public static void preventOperationFromCompleting(KDocument doc) {\n        if (preventOperationFromCompletingRule == null) {\n            synchronized (OperationUtility.class) {\n                if (preventOperationFromCompletingRule == null) {\n                    preventOperationFromCompletingRule = new Rule() {\n                        @Override\n                        protected void apply(KernelEvent e) {\n                            e.consume();\n                        }\n                    };\n\n                    doc.addRule(preventOperationFromCompletingRule, KernelEventConstants.FINAL_ACTION_REQUESTED);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>This code uses the Singleton Pattern with Lazy Initialization as described here: <a href=\"https://en.wikipedia.org/wiki/Singleton_pattern#Lazy_initialization\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Singleton_pattern#Lazy_initialization</a></p>\n<p>And in your code you use the utility as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OperationUtility.preventOperationFromCompleting(doc);\n</code></pre>\n"}],"owner":{"account_id":2876637,"reputation":2736,"user_id":2468508,"display_name":"Rashad Saleh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72239868,"answer_count":1,"score":-1,"last_activity_date":1669472423,"creation_date":1652528618,"question_id":72239867,"body_markdown":"Sometimes in your client code, you want to cancel the current operation or prevent it from completing. How can you do that?","title":"In SOClass, how to prevent an Operation from completing from the client side?","body":"<p>Sometimes in your client code, you want to cancel the current operation or prevent it from completing. How can you do that?</p>\n"},{"tags":["java","mysql","postgresql","hibernate","quarkus"],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669472363,"creation_date":1669472363,"answer_id":74582942,"question_id":74575759,"body_markdown":"What you are asking for is supported, see [this][1] part of the datasource documentation and [this][2] part of the Hibernate ORM documentation.\r\n\r\n\r\n  [1]: https://quarkus.io/guides/datasource#multiple-datasources\r\n  [2]: https://quarkus.io/guides/hibernate-orm#multiple-persistence-units","title":"Can I use multiple and different databases in the same Quarkus app?","body":"<p>What you are asking for is supported, see <a href=\"https://quarkus.io/guides/datasource#multiple-datasources\" rel=\"nofollow noreferrer\">this</a> part of the datasource documentation and <a href=\"https://quarkus.io/guides/hibernate-orm#multiple-persistence-units\" rel=\"nofollow noreferrer\">this</a> part of the Hibernate ORM documentation.</p>\n"}],"owner":{"account_id":6126500,"reputation":198,"user_id":4778283,"display_name":"nevzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":882,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669472363,"creation_date":1669394716,"question_id":74575759,"body_markdown":"I want my Quarkus app to connect to both a PostgreSQL database and a MySQL database.\r\n\r\nI&#39;ve researched through https://quarkus.io/guides/datasource#multiple-datasources and https://quarkus.io/guides/hibernate-orm#multitenancy, but could not figure out if this is possible.\r\n\r\nmy application.properties is as below;\r\n\r\n    quarkus.datasource.postgresql.db-kind=postgresql\r\n    quarkus.datasource.postgresql.username=xyz\r\n    quarkus.datasource.postgresql.password=xyz\r\n    quarkus.datasource.postgresql.jdbc.url=jdbc:postgresql://localhost:5432/xyz\r\n    \r\n    quarkus.datasource.mysql.db-kind=mysql\r\n    quarkus.datasource.mysql.username=xyz\r\n    quarkus.datasource.mysql.password=xyz\r\n    quarkus.datasource.mysql.jdbc.url=jdbc:mysql://localhost:3305/xyz\r\n\r\nmy pom.xml has both;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-jdbc-mysql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n1. Is it possible to connect to multiple different types of database from Quarkus?\r\n2. How do I persist() an Entity to the correct database if such capability exists?\r\nThank you!\r\n","title":"Can I use multiple and different databases in the same Quarkus app?","body":"<p>I want my Quarkus app to connect to both a PostgreSQL database and a MySQL database.</p>\n<p>I've researched through <a href=\"https://quarkus.io/guides/datasource#multiple-datasources\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/datasource#multiple-datasources</a> and <a href=\"https://quarkus.io/guides/hibernate-orm#multitenancy\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/hibernate-orm#multitenancy</a>, but could not figure out if this is possible.</p>\n<p>my application.properties is as below;</p>\n<pre><code>quarkus.datasource.postgresql.db-kind=postgresql\nquarkus.datasource.postgresql.username=xyz\nquarkus.datasource.postgresql.password=xyz\nquarkus.datasource.postgresql.jdbc.url=jdbc:postgresql://localhost:5432/xyz\n\nquarkus.datasource.mysql.db-kind=mysql\nquarkus.datasource.mysql.username=xyz\nquarkus.datasource.mysql.password=xyz\nquarkus.datasource.mysql.jdbc.url=jdbc:mysql://localhost:3305/xyz\n</code></pre>\n<p>my pom.xml has both;</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-jdbc-mysql&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<ol>\n<li>Is it possible to connect to multiple different types of database from Quarkus?</li>\n<li>How do I persist() an Entity to the correct database if such capability exists?\nThank you!</li>\n</ol>\n"},{"tags":["java","gradle","groovy","spock","micronaut"],"answers":[{"tags":[],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669471688,"creation_date":1669471688,"answer_id":74582865,"question_id":74580602,"body_markdown":"First of all I recommend to cleanup your `build.gradle` file, since you define a lots of dependencies that are automatically provided by the Micronaut `application` plugin.\r\n\r\n```gradle\r\nplugins {\r\n    id(&quot;groovy&quot;) \r\n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.0.0&quot;\r\n    id(&quot;io.micronaut.application&quot;) version &quot;1.5.4&quot;\r\n}\r\n\r\nversion = &quot;0.1&quot;\r\ngroup = &quot;com.example&quot;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nmicronaut {\r\n    runtime(&quot;netty&quot;)\r\n    testRuntime(&quot;spock2&quot;)\r\n    processing {\r\n        incremental(true)\r\n        annotations(&quot;com.suvodip.panapplication.*&quot;)\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;io.micronaut:micronaut-http-client&quot;)\r\n    implementation(&quot;io.micronaut:micronaut-runtime&quot;)\r\n    implementation(&quot;javax.annotation:javax.annotation-api&quot;)\r\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\r\n    implementation(&quot;io.micronaut:micronaut-validation&quot;)\r\n    // put your app specific dependencies here, but don&#39;t add any test deps such as Spock or JUnit\r\n}\r\n\r\n\r\napplication {\r\n    mainClass.set(&quot;com.suvodip.panapplication.Application&quot;)\r\n}\r\njava {\r\n    sourceCompatibility = JavaVersion.toVersion(&quot;11&quot;)\r\n    targetCompatibility = JavaVersion.toVersion(&quot;11&quot;)\r\n}\r\n```\r\nThen I see you are using Micronaut CRAC, as far as I know this is only supported when using Micronaut 3.7+. \r\n\r\nMy recommendation is to start with a blank Micronaut 3.7.4, copy your Spock test into that project and run it. If this works, start adding your additional dependencies such as \r\n\r\n- Postgres JDBC Driver\r\n- JDBI\r\n- …","title":"Micronaut test: Execution failed for task &#39;:compileTestGroovy&#39;. &gt; java.lang.ExceptionInInitializerError","body":"<p>First of all I recommend to cleanup your <code>build.gradle</code> file, since you define a lots of dependencies that are automatically provided by the Micronaut <code>application</code> plugin.</p>\n<pre><code>plugins {\n    id(&quot;groovy&quot;) \n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.0.0&quot;\n    id(&quot;io.micronaut.application&quot;) version &quot;1.5.4&quot;\n}\n\nversion = &quot;0.1&quot;\ngroup = &quot;com.example&quot;\n\nrepositories {\n    mavenCentral()\n}\n\nmicronaut {\n    runtime(&quot;netty&quot;)\n    testRuntime(&quot;spock2&quot;)\n    processing {\n        incremental(true)\n        annotations(&quot;com.suvodip.panapplication.*&quot;)\n    }\n}\n\ndependencies {\n    implementation(&quot;io.micronaut:micronaut-http-client&quot;)\n    implementation(&quot;io.micronaut:micronaut-runtime&quot;)\n    implementation(&quot;javax.annotation:javax.annotation-api&quot;)\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\n    implementation(&quot;io.micronaut:micronaut-validation&quot;)\n    // put your app specific dependencies here, but don't add any test deps such as Spock or JUnit\n}\n\n\napplication {\n    mainClass.set(&quot;com.suvodip.panapplication.Application&quot;)\n}\njava {\n    sourceCompatibility = JavaVersion.toVersion(&quot;11&quot;)\n    targetCompatibility = JavaVersion.toVersion(&quot;11&quot;)\n}\n</code></pre>\n<p>Then I see you are using Micronaut CRAC, as far as I know this is only supported when using Micronaut 3.7+.</p>\n<p>My recommendation is to start with a blank Micronaut 3.7.4, copy your Spock test into that project and run it. If this works, start adding your additional dependencies such as</p>\n<ul>\n<li>Postgres JDBC Driver</li>\n<li>JDBI</li>\n<li>…</li>\n</ul>\n"}],"owner":{"account_id":17972179,"reputation":688,"user_id":13060649,"display_name":"suvodipMondal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669471688,"creation_date":1669449546,"question_id":74580602,"body_markdown":"I am new to micronaut and I am trying to implement spock test on my project. I am currently using `micronautVersion=2.5.13` and I am having my tests in `src/test/groovy/{package_name}`. I am trying to run this test :\r\n```\r\nimport io.micronaut.context.ApplicationContext\r\nimport io.micronaut.context.env.Environment\r\nimport io.micronaut.runtime.EmbeddedApplication\r\nimport io.micronaut.test.extensions.spock.annotation.MicronautTest\r\nimport spock.lang.Specification\r\nimport spock.lang.Unroll\r\n\r\nimport javax.inject.Inject\r\n\r\n@MicronautTest\r\nclass EnvironmentDetectionSpec extends Specification {\r\n    @Unroll\r\n    void &quot;test environment is detected automatically&quot; () {\r\n        given:\r\n        ApplicationContext ctx = ApplicationContext.run()\r\n\r\n        expect:\r\n        ctx.environment.getActiveNames().contains(Environment.TEST)\r\n\r\n        cleanup:\r\n        ctx.close()\r\n    }\r\n}\r\n```\r\n\r\non running the test I am getting this exception:\r\n\r\n```\r\nException is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:compileTestGroovy&#39;.\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\r\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:140)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\r\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:420)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:342)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: java.lang.ExceptionInInitializerError\r\n        at io.micronaut.ast.groovy.utils.AstAnnotationUtils$_getAnnotationMetadata_closure1.doCall(AstAnnotationUtils.groovy:54)\r\n        at com.sun.proxy.$Proxy36.apply(Unknown Source)\r\n        at io.micronaut.core.util.clhm.ConcurrentLinkedHashMap.lambda$compute$0(ConcurrentLinkedHashMap.java:721)\r\n        at io.micronaut.core.util.clhm.ConcurrentLinkedHashMap.compute(ConcurrentLinkedHashMap.java:733)\r\n        at io.micronaut.core.util.clhm.ConcurrentLinkedHashMap.computeIfAbsent(ConcurrentLinkedHashMap.java:710)\r\n        at io.micronaut.ast.groovy.utils.AstAnnotationUtils.getAnnotationMetadata(AstAnnotationUtils.groovy:53)\r\n        at io.micronaut.ast.groovy.visitor.LoadedVisitor.matches(LoadedVisitor.groovy:114)\r\n        at io.micronaut.ast.groovy.TypeElementVisitorTransform$_visit_closure1.doCall(TypeElementVisitorTransform.groovy:81)\r\n        at io.micronaut.ast.groovy.TypeElementVisitorTransform.visit(TypeElementVisitorTransform.groovy:81)\r\n        at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:270)\r\n        at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:64)\r\n        at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:97)\r\n        at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:76)\r\n        at org.gradle.api.internal.tasks.compile.daemon.AbstractDaemonCompiler$CompilerWorkAction.execute(AbstractDaemonCompiler.java:135)\r\n        at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\r\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:49)\r\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:43)\r\n        at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)\r\n        at org.gradle.workers.internal.AbstractClassLoaderWorker.executeInClassLoader(AbstractClassLoaderWorker.java:43)\r\n        at org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:49)\r\n        at org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:30)\r\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:87)\r\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:56)\r\n        at org.gradle.process.internal.worker.request.WorkerAction$1.call(WorkerAction.java:138)\r\n        at org.gradle.process.internal.worker.child.WorkerLogEventListener.withWorkerLoggingProtocol(WorkerLogEventListener.java:41)\r\n        at org.gradle.process.internal.worker.request.WorkerAction.run(WorkerAction.java:135)\r\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n        at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: java.lang.ClassCastException: io.micronaut.inject.annotation.internal.KotlinNullableMapper cannot be cast to io.micronaut.inject.annotation.AnnotationMapper\r\n        at io.micronaut.inject.annotation.AbstractAnnotationMetadataBuilder.&lt;clinit&gt;(AbstractAnnotationMetadataBuilder.java:70)\r\n        ... 33 more\r\n```\r\n\r\nHere is my `build.gradle`:\r\n\r\n```\r\nplugins {\r\n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.0.0&quot;\r\n    id(&quot;io.micronaut.application&quot;) version &quot;1.5.4&quot;\r\n    id &quot;groovy&quot;\r\n}\r\n\r\nversion = &quot;0.1&quot;\r\ngroup = {groupName}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation (&#39;org.projectlombok:lombok:1.18.24&#39;)\r\n    implementation(&quot;io.micronaut:micronaut-http-client&quot;)\r\n    implementation(&quot;io.micronaut:micronaut-runtime&quot;)\r\n    implementation(&quot;io.micronaut.sql:micronaut-jdbc-hikari&quot;)\r\n    implementation(&quot;io.micronaut.sql:micronaut-jdbi&quot;)\r\n    implementation &#39;com.google.code.gson:gson:2.9.0&#39;\r\n    implementation &#39;io.micronaut:micronaut-inject-java:3.4.3&#39;\r\n    implementation &#39;io.micronaut:micronaut-inject:3.4.3&#39;\r\n    implementation &#39;io.github.crac.io.micronaut:micronaut-inject-java:1.3.7&#39;\r\n//    implementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n//    implementation &#39;io.micronaut.test:micronaut-test-junit5:3.2.0&#39;\r\n//    implementation &#39;org.junit.jupiter:junit-jupiter-engine:5.8.2&#39;\r\n    implementation &#39;redis.clients:jedis:2.8.2&#39;\r\n    implementation group: &#39;io.reactivex.rxjava2&#39;, name: &#39;rxjava&#39;, version: &#39;2.2.19&#39;\r\n//    implementation &#39;org.junit.jupiter:junit-jupiter:5.8.2&#39;\r\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\r\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\r\n    implementation(&quot;io.micronaut:micronaut-validation&quot;)\r\n\r\n    // Testing dependencies\r\n    testImplementation(&quot;org.spockframework:spock-core&quot;) {\r\n        exclude group: &quot;org.codehaus.groovy&quot;, module: &quot;groovy-all&quot;\r\n    }\r\n    testImplementation &quot;io.micronaut:micronaut-inject-groovy&quot;\r\n    testImplementation &quot;io.micronaut.test:micronaut-test-spock&quot;\r\n}\r\n\r\n\r\napplication {\r\n    mainClass.set(&quot;com.suvodip.panapplication.Application&quot;)\r\n}\r\njava {\r\n    sourceCompatibility = JavaVersion.toVersion(&quot;1.8&quot;)\r\n    targetCompatibility = JavaVersion.toVersion(&quot;1.8&quot;)\r\n}\r\n\r\nmicronaut {\r\n    runtime(&quot;netty&quot;)\r\n    testRuntime(&quot;spock2&quot;)\r\n    processing {\r\n        incremental(true)\r\n        annotations({packageName})\r\n    }\r\n}\r\n```\r\n\r\nI have even tried to eliminate the junit from dependencies but still getting the same error. Would be really thankful if someone could help me here.","title":"Micronaut test: Execution failed for task &#39;:compileTestGroovy&#39;. &gt; java.lang.ExceptionInInitializerError","body":"<p>I am new to micronaut and I am trying to implement spock test on my project. I am currently using <code>micronautVersion=2.5.13</code> and I am having my tests in <code>src/test/groovy/{package_name}</code>. I am trying to run this test :</p>\n<pre><code>import io.micronaut.context.ApplicationContext\nimport io.micronaut.context.env.Environment\nimport io.micronaut.runtime.EmbeddedApplication\nimport io.micronaut.test.extensions.spock.annotation.MicronautTest\nimport spock.lang.Specification\nimport spock.lang.Unroll\n\nimport javax.inject.Inject\n\n@MicronautTest\nclass EnvironmentDetectionSpec extends Specification {\n    @Unroll\n    void &quot;test environment is detected automatically&quot; () {\n        given:\n        ApplicationContext ctx = ApplicationContext.run()\n\n        expect:\n        ctx.environment.getActiveNames().contains(Environment.TEST)\n\n        cleanup:\n        ctx.close()\n    }\n}\n</code></pre>\n<p>on running the test I am getting this exception:</p>\n<pre><code>Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':compileTestGroovy'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:140)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:420)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:342)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: java.lang.ExceptionInInitializerError\n        at io.micronaut.ast.groovy.utils.AstAnnotationUtils$_getAnnotationMetadata_closure1.doCall(AstAnnotationUtils.groovy:54)\n        at com.sun.proxy.$Proxy36.apply(Unknown Source)\n        at io.micronaut.core.util.clhm.ConcurrentLinkedHashMap.lambda$compute$0(ConcurrentLinkedHashMap.java:721)\n        at io.micronaut.core.util.clhm.ConcurrentLinkedHashMap.compute(ConcurrentLinkedHashMap.java:733)\n        at io.micronaut.core.util.clhm.ConcurrentLinkedHashMap.computeIfAbsent(ConcurrentLinkedHashMap.java:710)\n        at io.micronaut.ast.groovy.utils.AstAnnotationUtils.getAnnotationMetadata(AstAnnotationUtils.groovy:53)\n        at io.micronaut.ast.groovy.visitor.LoadedVisitor.matches(LoadedVisitor.groovy:114)\n        at io.micronaut.ast.groovy.TypeElementVisitorTransform$_visit_closure1.doCall(TypeElementVisitorTransform.groovy:81)\n        at io.micronaut.ast.groovy.TypeElementVisitorTransform.visit(TypeElementVisitorTransform.groovy:81)\n        at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:270)\n        at org.gradle.api.internal.tasks.compile.ApiGroovyCompiler.execute(ApiGroovyCompiler.java:64)\n        at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:97)\n        at org.gradle.api.internal.tasks.compile.GroovyCompilerFactory$DaemonSideCompiler.execute(GroovyCompilerFactory.java:76)\n        at org.gradle.api.internal.tasks.compile.daemon.AbstractDaemonCompiler$CompilerWorkAction.execute(AbstractDaemonCompiler.java:135)\n        at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:49)\n        at org.gradle.workers.internal.AbstractClassLoaderWorker$1.create(AbstractClassLoaderWorker.java:43)\n        at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)\n        at org.gradle.workers.internal.AbstractClassLoaderWorker.executeInClassLoader(AbstractClassLoaderWorker.java:43)\n        at org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:49)\n        at org.gradle.workers.internal.IsolatedClassloaderWorker.run(IsolatedClassloaderWorker.java:30)\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:87)\n        at org.gradle.workers.internal.WorkerDaemonServer.run(WorkerDaemonServer.java:56)\n        at org.gradle.process.internal.worker.request.WorkerAction$1.call(WorkerAction.java:138)\n        at org.gradle.process.internal.worker.child.WorkerLogEventListener.withWorkerLoggingProtocol(WorkerLogEventListener.java:41)\n        at org.gradle.process.internal.worker.request.WorkerAction.run(WorkerAction.java:135)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n        at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n        at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: java.lang.ClassCastException: io.micronaut.inject.annotation.internal.KotlinNullableMapper cannot be cast to io.micronaut.inject.annotation.AnnotationMapper\n        at io.micronaut.inject.annotation.AbstractAnnotationMetadataBuilder.&lt;clinit&gt;(AbstractAnnotationMetadataBuilder.java:70)\n        ... 33 more\n</code></pre>\n<p>Here is my <code>build.gradle</code>:</p>\n<pre><code>plugins {\n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.0.0&quot;\n    id(&quot;io.micronaut.application&quot;) version &quot;1.5.4&quot;\n    id &quot;groovy&quot;\n}\n\nversion = &quot;0.1&quot;\ngroup = {groupName}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation ('org.projectlombok:lombok:1.18.24')\n    implementation(&quot;io.micronaut:micronaut-http-client&quot;)\n    implementation(&quot;io.micronaut:micronaut-runtime&quot;)\n    implementation(&quot;io.micronaut.sql:micronaut-jdbc-hikari&quot;)\n    implementation(&quot;io.micronaut.sql:micronaut-jdbi&quot;)\n    implementation 'com.google.code.gson:gson:2.9.0'\n    implementation 'io.micronaut:micronaut-inject-java:3.4.3'\n    implementation 'io.micronaut:micronaut-inject:3.4.3'\n    implementation 'io.github.crac.io.micronaut:micronaut-inject-java:1.3.7'\n//    implementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n//    implementation 'io.micronaut.test:micronaut-test-junit5:3.2.0'\n//    implementation 'org.junit.jupiter:junit-jupiter-engine:5.8.2'\n    implementation 'redis.clients:jedis:2.8.2'\n    implementation group: 'io.reactivex.rxjava2', name: 'rxjava', version: '2.2.19'\n//    implementation 'org.junit.jupiter:junit-jupiter:5.8.2'\n    runtimeOnly(&quot;ch.qos.logback:logback-classic&quot;)\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n    implementation(&quot;io.micronaut:micronaut-validation&quot;)\n\n    // Testing dependencies\n    testImplementation(&quot;org.spockframework:spock-core&quot;) {\n        exclude group: &quot;org.codehaus.groovy&quot;, module: &quot;groovy-all&quot;\n    }\n    testImplementation &quot;io.micronaut:micronaut-inject-groovy&quot;\n    testImplementation &quot;io.micronaut.test:micronaut-test-spock&quot;\n}\n\n\napplication {\n    mainClass.set(&quot;com.suvodip.panapplication.Application&quot;)\n}\njava {\n    sourceCompatibility = JavaVersion.toVersion(&quot;1.8&quot;)\n    targetCompatibility = JavaVersion.toVersion(&quot;1.8&quot;)\n}\n\nmicronaut {\n    runtime(&quot;netty&quot;)\n    testRuntime(&quot;spock2&quot;)\n    processing {\n        incremental(true)\n        annotations({packageName})\n    }\n}\n</code></pre>\n<p>I have even tried to eliminate the junit from dependencies but still getting the same error. Would be really thankful if someone could help me here.</p>\n"},{"tags":["java","spring","spring-boot","apache-zookeeper","spring-test"],"answers":[{"comments":[{"owner":{"account_id":200272,"reputation":1214,"user_id":446029,"accept_rate":19,"display_name":"Kuldeep Singh"},"score":0,"creation_date":1580303232,"post_id":59967654,"comment_id":106052263,"body_markdown":"I don&#39;t have access to ZooKeeperAutoConfig  code. Its a dependency as a jar in pom.xml","body":"I don&#39;t have access to ZooKeeperAutoConfig  code. Its a dependency as a jar in pom.xml"},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1580359380,"post_id":59967654,"comment_id":106073381,"body_markdown":"Sorry I&#39;m confused now, you&#39;ve said in the question &quot;There is one internal spring-boot-auto-configure module...&quot; and then you&#39;ve mentioned package of (as I&#39;ve assumed) your company `com.company.name.ZooKeeperAutoConfig`. Is it a jar developed in your organization or you&#39;re using some externally developed solution? For example, if its spring cloud (https://github.com/spring-cloud/spring-cloud-zookeeper/blob/master/spring-cloud-zookeeper-core/src/main/java/org/springframework/cloud/zookeeper/ZookeeperAutoConfiguration.java) then it has a property `spring.cloud.zookeeper.enabled`","body":"Sorry I&#39;m confused now, you&#39;ve said in the question &quot;There is one internal spring-boot-auto-configure module...&quot; and then you&#39;ve mentioned package of (as I&#39;ve assumed) your company <code>com.company.name.ZooKeeperAutoConfig</code>. Is it a jar developed in your organization or you&#39;re using some externally developed solution? For example, if its spring cloud (<a href=\"https://github.com/spring-cloud/spring-cloud-zookeeper/blob/master/spring-cloud-zookeeper-core/src/main/java/org/springframework/cloud/zookeeper/ZookeeperAutoConfiguration.java\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-zookeeper/blob/master/&zwnj;&#8203;&hellip;</a>) then it has a property <code>spring.cloud.zookeeper.enabled</code>"}],"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580302679,"creation_date":1580302679,"answer_id":59967654,"question_id":59967476,"body_markdown":"As an idea - have you tried to put a `@Conditional` annotation on your ZooKeeper Auto Configuration class? \r\n\r\n~~~\r\n@Configuration\r\n@ConditionalOn....\r\npublic class com.company.name.ZooKeeperAutoConfig  {\r\n}\r\n~~~\r\n\r\nI can&#39;t check this by myself but maybe conditional on property could be relevant or, `org.springframework.boot.autoconfigure.condition.ConditionalOnNotWebApplication` that is supposed to match if the application context is not a web application context (but test appplication context relevant for tests)","title":"exclude BootstrapConfiguration classes in spring boot for tests","body":"<p>As an idea - have you tried to put a <code>@Conditional</code> annotation on your ZooKeeper Auto Configuration class? </p>\n\n<pre><code>@Configuration\n@ConditionalOn....\npublic class com.company.name.ZooKeeperAutoConfig  {\n}\n</code></pre>\n\n<p>I can't check this by myself but maybe conditional on property could be relevant or, <code>org.springframework.boot.autoconfigure.condition.ConditionalOnNotWebApplication</code> that is supposed to match if the application context is not a web application context (but test appplication context relevant for tests)</p>\n"},{"tags":[],"owner":{"account_id":27054276,"reputation":1,"user_id":20607216,"display_name":"wei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669471549,"creation_date":1669471549,"answer_id":74582841,"question_id":59967476,"body_markdown":"I have the same issue as you;\r\nhere are properties I don&#39;t want to load in my unit test,\r\n```\r\norg.springframework.cloud.bootstrap.BootstrapConfiguration=\\\r\ncom.alibaba.cloud.nacos.NacosConfigBootstrapConfiguration\r\n```\r\n``NacosConfigBootstrapConfiguration`` defines as this:\r\n```\r\n@Configuration(proxyBeanMethods = false)\r\n@ConditionalOnProperty(name = &quot;spring.cloud.nacos.config.enabled&quot;, matchIfMissing = true)\r\npublic class NacosConfigBootstrapConfiguration {\r\n}\r\n```\r\nI fixed the issue through:\r\n```\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\r\n@Slf4j\r\n@EnableAutoConfiguration(exclude=\r\n        {NacosConfigAutoConfiguration.class, NacosConfigEndpointAutoConfiguration.class,})\r\n@TestPropertySource(properties = {&quot;spring.cloud.nacos.config.enabled=false&quot;})\r\npublic class XXXDemo {}\r\n```\r\nthis line ``@TestPropertySource(properties = {&quot;spring.cloud.nacos.config.enabled=false&quot;})`` takes effect!","title":"exclude BootstrapConfiguration classes in spring boot for tests","body":"<p>I have the same issue as you;\nhere are properties I don't want to load in my unit test,</p>\n<pre><code>org.springframework.cloud.bootstrap.BootstrapConfiguration=\\\ncom.alibaba.cloud.nacos.NacosConfigBootstrapConfiguration\n</code></pre>\n<p><code>NacosConfigBootstrapConfiguration</code> defines as this:</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\n@ConditionalOnProperty(name = &quot;spring.cloud.nacos.config.enabled&quot;, matchIfMissing = true)\npublic class NacosConfigBootstrapConfiguration {\n}\n</code></pre>\n<p>I fixed the issue through:</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\n@Slf4j\n@EnableAutoConfiguration(exclude=\n        {NacosConfigAutoConfiguration.class, NacosConfigEndpointAutoConfiguration.class,})\n@TestPropertySource(properties = {&quot;spring.cloud.nacos.config.enabled=false&quot;})\npublic class XXXDemo {}\n</code></pre>\n<p>this line <code>@TestPropertySource(properties = {&quot;spring.cloud.nacos.config.enabled=false&quot;})</code> takes effect!</p>\n"}],"owner":{"account_id":200272,"reputation":1214,"user_id":446029,"accept_rate":19,"display_name":"Kuldeep Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1329,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669471549,"creation_date":1580302126,"question_id":59967476,"body_markdown":"I have an application which reads its configuration properties from Zookeeper instance.\r\n\r\nThere is one internal spring-boot-auto-configure module which helps in reading the information from zookeeper instance.\r\n\r\nWe need to set the zookeeper instance information in `bootstrap.properties` file.\r\n\r\n**spring.factories from auto-configure module**\r\n\r\n    org.springframework.cloud.bootstrap.BootstrapConfiguration=\\\r\n      com.company.name.ZooKeeperAutoConfig\r\n\r\nThere are also AutoConfiguration classes in the same file\r\n\r\n    org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\r\n      com.company.name.XyzAutoConfig\r\n\r\nSo when application starts, it gets the info from bootstrap.properties and connect to zookeeper instance via auto-configure-module.\r\n\r\nI want to write tests for Spring API controller layer using `@WebMvcTest` annotation.\r\nBut even in tests it tries to connect to zookeeper instance, which I dont want. I dont want unit tests talking to external services.\r\n\r\nI want to exclude the zookeeper bootstrap configuration during tests. \r\n\r\nFew ways I have tried without any luck.\r\n\r\n1) I tried to exclude like following, but still it connects to Zookeeper\r\n\r\n    @TestPropertySource(properties=\r\n    {&quot;spring.autoconfigure.exclude=com.company.name.ZooKeeperAutoConfig&quot;})\r\n\r\n2) I created bootstrap-test.properties and added some dummy values for zookeeper properties. And in test I added `@ActiveProfile(&quot;test&quot;)` . This tries to connect to zookeeper via dummy values and fails in the end.\r\n\r\nIs there any way I can totally ignore/exclude the Zookeeper bootstrap configuration. Application should not aware that it needs to connect to zookeeper to be working.\r\n\r\nIs it feasible to exclude BootstrapConfiguration in tests or not?\r\n\r\nPlease let me know if any more information is required.\r\n","title":"exclude BootstrapConfiguration classes in spring boot for tests","body":"<p>I have an application which reads its configuration properties from Zookeeper instance.</p>\n\n<p>There is one internal spring-boot-auto-configure module which helps in reading the information from zookeeper instance.</p>\n\n<p>We need to set the zookeeper instance information in <code>bootstrap.properties</code> file.</p>\n\n<p><strong>spring.factories from auto-configure module</strong></p>\n\n<pre><code>org.springframework.cloud.bootstrap.BootstrapConfiguration=\\\n  com.company.name.ZooKeeperAutoConfig\n</code></pre>\n\n<p>There are also AutoConfiguration classes in the same file</p>\n\n<pre><code>org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\n  com.company.name.XyzAutoConfig\n</code></pre>\n\n<p>So when application starts, it gets the info from bootstrap.properties and connect to zookeeper instance via auto-configure-module.</p>\n\n<p>I want to write tests for Spring API controller layer using <code>@WebMvcTest</code> annotation.\nBut even in tests it tries to connect to zookeeper instance, which I dont want. I dont want unit tests talking to external services.</p>\n\n<p>I want to exclude the zookeeper bootstrap configuration during tests. </p>\n\n<p>Few ways I have tried without any luck.</p>\n\n<p>1) I tried to exclude like following, but still it connects to Zookeeper</p>\n\n<pre><code>@TestPropertySource(properties=\n{\"spring.autoconfigure.exclude=com.company.name.ZooKeeperAutoConfig\"})\n</code></pre>\n\n<p>2) I created bootstrap-test.properties and added some dummy values for zookeeper properties. And in test I added <code>@ActiveProfile(\"test\")</code> . This tries to connect to zookeeper via dummy values and fails in the end.</p>\n\n<p>Is there any way I can totally ignore/exclude the Zookeeper bootstrap configuration. Application should not aware that it needs to connect to zookeeper to be working.</p>\n\n<p>Is it feasible to exclude BootstrapConfiguration in tests or not?</p>\n\n<p>Please let me know if any more information is required.</p>\n"},{"tags":["java","tomcat","servlets","tomcat8","servletcontextlistener"],"comments":[{"owner":{"display_name":"user3335083"},"score":0,"creation_date":1520604622,"post_id":49195295,"comment_id":85395944,"body_markdown":"i don&#39;t see enough code here.","body":"i don&#39;t see enough code here."},{"owner":{"account_id":4323335,"reputation":1550,"user_id":3530799,"accept_rate":77,"display_name":"Kirill"},"score":0,"creation_date":1520608027,"post_id":49195295,"comment_id":85398093,"body_markdown":"@DieNerd I&#39;ve added code","body":"@DieNerd I&#39;ve added code"}],"answers":[{"tags":[],"owner":{"account_id":4323335,"reputation":1550,"user_id":3530799,"accept_rate":77,"display_name":"Kirill"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1520885742,"creation_date":1520885742,"answer_id":49243730,"question_id":49195295,"body_markdown":"I did it using `ServletContainerInitializer`.\r\n\r\n    StandardContext context = buildContext(tomcat);\r\n    ...\r\n    context.addServletContainerInitializer(new DataBaseInitializer(DATA_BASE_SCHEMA), null);","title":"How to add ServletContextListener in embedded tomcat","body":"<p>I did it using <code>ServletContainerInitializer</code>.</p>\n\n<pre><code>StandardContext context = buildContext(tomcat);\n...\ncontext.addServletContainerInitializer(new DataBaseInitializer(DATA_BASE_SCHEMA), null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669471276,"creation_date":1668894293,"answer_id":74504006,"question_id":49195295,"body_markdown":"I made a working example at [github.jakarta][1].&lt;br&gt;\r\n\r\nI just used jakarta.servlet.annotation.WebListener and contextInitialized is triggered.&lt;br&gt;\r\n\r\nI degraded from jakarta to javax for your use case [github.javax][2]&lt;br&gt;\r\n\r\n  [1]: https://github.com/tugalsan/com.tugalsan.tst.tomcat.embedded\r\n  [2]: https://github.com/tugalsan/com.tugalsan.tst.tomcat.embedded.gwt","title":"How to add ServletContextListener in embedded tomcat","body":"<p>I made a working example at <a href=\"https://github.com/tugalsan/com.tugalsan.tst.tomcat.embedded\" rel=\"nofollow noreferrer\">github.jakarta</a>.<br></p>\n<p>I just used jakarta.servlet.annotation.WebListener and contextInitialized is triggered.<br></p>\n<p>I degraded from jakarta to javax for your use case <a href=\"https://github.com/tugalsan/com.tugalsan.tst.tomcat.embedded.gwt\" rel=\"nofollow noreferrer\">github.javax</a><br></p>\n"}],"owner":{"account_id":4323335,"reputation":1550,"user_id":3530799,"accept_rate":77,"display_name":"Kirill"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2283,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49243730,"answer_count":2,"score":2,"last_activity_date":1669471276,"creation_date":1520603497,"question_id":49195295,"body_markdown":"I have a simple application with embedded tomcat. And I trying to do some initialization work and I need JNDI resources.\r\n\r\nI trying to do it in `ServletContextListener.contextInitialized`.\r\n\r\nWhen I add `ServletContextListener` before `tomcat.start()`, `context.getServletContext()` returns `null`.\r\n\r\nIf I doing it after `tomcat.start()`, I got an error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: Listeners cannot be added to context [] as the context has been initialised\r\n\r\nThis is launcher code:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Tomcat server = new Tomcat();\r\n        server.setPort(8080);\r\n\r\n        Context context = server.addContext(&quot;&quot;, Paths.get(&quot;.&quot;).toAbsolutePath().toString());\r\n\r\n        Tomcat.addServlet(context, &quot;hello&quot;, new HelloServlet());\r\n        context.addServletMappingDecoded(&quot;/&quot;, &quot;hello&quot;);\r\n\r\n        ContextResource resource = buildResource(\r\n            H2_DATA_SOURCE_NAME,\r\n            DataSource.class.getName(),\r\n            h2DatasourceProperties()\r\n        );\r\n\r\n        context.getNamingResources().addResource(resource);\r\n        context.getServletContext().addListener(DataBaseSchemaInit.class);\r\n\r\n        server.start();\r\n        server.getServer().await();\r\n    }\r\n\r\nHow can I add `ServletContextListener` in embedded tomcat v.8.5.28 ?","title":"How to add ServletContextListener in embedded tomcat","body":"<p>I have a simple application with embedded tomcat. And I trying to do some initialization work and I need JNDI resources.</p>\n\n<p>I trying to do it in <code>ServletContextListener.contextInitialized</code>.</p>\n\n<p>When I add <code>ServletContextListener</code> before <code>tomcat.start()</code>, <code>context.getServletContext()</code> returns <code>null</code>.</p>\n\n<p>If I doing it after <code>tomcat.start()</code>, I got an error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalStateException: Listeners cannot be added to context [] as the context has been initialised\n</code></pre>\n\n<p>This is launcher code:</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    Tomcat server = new Tomcat();\n    server.setPort(8080);\n\n    Context context = server.addContext(\"\", Paths.get(\".\").toAbsolutePath().toString());\n\n    Tomcat.addServlet(context, \"hello\", new HelloServlet());\n    context.addServletMappingDecoded(\"/\", \"hello\");\n\n    ContextResource resource = buildResource(\n        H2_DATA_SOURCE_NAME,\n        DataSource.class.getName(),\n        h2DatasourceProperties()\n    );\n\n    context.getNamingResources().addResource(resource);\n    context.getServletContext().addListener(DataBaseSchemaInit.class);\n\n    server.start();\n    server.getServer().await();\n}\n</code></pre>\n\n<p>How can I add <code>ServletContextListener</code> in embedded tomcat v.8.5.28 ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9369,"page":854,"page_size":100}
