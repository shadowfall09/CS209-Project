{"items":[{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":0,"creation_date":1655453256,"post_id":72656182,"comment_id":128340722,"body_markdown":"One approach is, get the data paged individually from three repos, get the overall count (assuming the counts on all repos are same) and Build page object using PageableExecutionUtils with data and the count","body":"One approach is, get the data paged individually from three repos, get the overall count (assuming the counts on all repos are same) and Build page object using PageableExecutionUtils with data and the count"},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1655454046,"post_id":72656182,"comment_id":128340996,"body_markdown":"https://www.baeldung.com/spring-data-jpa-pagination-sorting","body":"<a href=\"https://www.baeldung.com/spring-data-jpa-pagination-sorting\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-jpa-pagination-sorting</a>"},{"owner":{"account_id":25577857,"reputation":1,"user_id":19356945,"display_name":"xp test"},"score":0,"creation_date":1655456824,"post_id":72656182,"comment_id":128341914,"body_markdown":"@Siva Rahul , It is not possible because the three tables will be filled arbitrarily","body":"@Siva Rahul , It is not possible because the three tables will be filled arbitrarily"}],"owner":{"account_id":25577857,"reputation":1,"user_id":19356945,"display_name":"xp test"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655463921,"creation_date":1655453106,"question_id":72656182,"body_markdown":"I have 3 entities (Child1, Child2, Child3) which extends the same class (Parnt). The 3 entities differ by a few fields.\r\n\r\nModels\r\n\r\n```\r\n//lombok annotations\r\n@MappedSuperclass\r\npublic class Parent {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String City;\r\n    private Date date;\r\n}\r\n```\r\n\r\n```\r\n//lombok annotations\r\npublic class Child1 extends Parent {\r\n    private Obj1 obj1;\r\n}\r\n```\r\n\r\n```\r\n//lombok annotations\r\npublic class Child2 extends Parent {\r\n    private Obj1 obj2;    \r\n}\r\n```\r\n\r\n```\r\n//lombok annotations\r\npublic class Child3 extends Parent {\r\n    private Obj1 obj3;\r\n}\r\n```\r\n\r\nRepositories\r\n\r\n```\r\n@NoRepositoryBean\r\npublic interface ParentRepository &lt;T, ID extends Serializable&gt;  extends JpaRepository&lt;T, ID&gt; {}\r\n```\r\n\r\n```\r\npublic interface Child1Repository extends ParentRepository &lt;Child1, Long&gt; {}\r\n```\r\n\r\n```\r\npublic interface Child2Repository extends ParentRepository &lt;Child2, Long&gt; {}\r\n```\r\n\r\n```\r\npublic interface Child3Repository extends ParentRepository &lt;Child3, Long&gt; {}\r\n```\r\n\r\nThe problem is I want to fetch data from the three children in the same request and return the result in a `Page&lt;Parent&gt;` object sorted by date.\r\n\r\nExample: if we request `localhost:8080/api/result?page10&amp;Size4`, the result should be \r\n```json\r\n{\r\n    &quot;content&quot;: [\r\n        {\r\n            &quot;id&quot;: 101,\r\n            &quot;city&quot;: &quot;Roma&quot;,\r\n            &quot;date&quot;: &quot;2022-06-06 10:42:12&quot;,\r\n            &quot;obj1&quot;: {...\r\n            }\r\n        },{\r\n            &quot;id&quot;: 11,\r\n            &quot;city&quot;: &quot;Milano&quot;,\r\n            &quot;date&quot;: &quot;2022-06-06 10:45:12&quot;,\r\n            &quot;obj2&quot;: {...\r\n            }\r\n        },{\r\n            &quot;id&quot;: 102,\r\n            &quot;city&quot;: &quot;Delhi&quot;,\r\n            &quot;date&quot;: &quot;2022-06-06 10:45:20&quot;,\r\n            &quot;obj1&quot;: {...\r\n            }\r\n        },{\r\n            &quot;id&quot;: 92,\r\n            &quot;city&quot;: &quot;Sale&quot;,\r\n            &quot;date&quot;: &quot;2022-06-06 10:49:13&quot;,\r\n            &quot;obj3&quot;: {...\r\n            }\r\n        }\r\n    ],\r\n    &quot;pageable&quot;: {\r\n        &quot;sort&quot;: {\r\n            &quot;unsorted&quot;: false,\r\n            &quot;sorted&quot;: true,\r\n        }\r\n        &quot;pageSize&quot;: 4,\r\n        &quot;pageNumber&quot;: 10,\r\n    },\r\n}\r\n```\r\n\r\n","title":"Fetch data from the 3 subclasses in the same request and return the result in a Page object","body":"<p>I have 3 entities (Child1, Child2, Child3) which extends the same class (Parnt). The 3 entities differ by a few fields.</p>\n<p>Models</p>\n<pre><code>//lombok annotations\n@MappedSuperclass\npublic class Parent {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String City;\n    private Date date;\n}\n</code></pre>\n<pre><code>//lombok annotations\npublic class Child1 extends Parent {\n    private Obj1 obj1;\n}\n</code></pre>\n<pre><code>//lombok annotations\npublic class Child2 extends Parent {\n    private Obj1 obj2;    \n}\n</code></pre>\n<pre><code>//lombok annotations\npublic class Child3 extends Parent {\n    private Obj1 obj3;\n}\n</code></pre>\n<p>Repositories</p>\n<pre><code>@NoRepositoryBean\npublic interface ParentRepository &lt;T, ID extends Serializable&gt;  extends JpaRepository&lt;T, ID&gt; {}\n</code></pre>\n<pre><code>public interface Child1Repository extends ParentRepository &lt;Child1, Long&gt; {}\n</code></pre>\n<pre><code>public interface Child2Repository extends ParentRepository &lt;Child2, Long&gt; {}\n</code></pre>\n<pre><code>public interface Child3Repository extends ParentRepository &lt;Child3, Long&gt; {}\n</code></pre>\n<p>The problem is I want to fetch data from the three children in the same request and return the result in a <code>Page&lt;Parent&gt;</code> object sorted by date.</p>\n<p>Example: if we request <code>localhost:8080/api/result?page10&amp;Size4</code>, the result should be</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;content&quot;: [\n        {\n            &quot;id&quot;: 101,\n            &quot;city&quot;: &quot;Roma&quot;,\n            &quot;date&quot;: &quot;2022-06-06 10:42:12&quot;,\n            &quot;obj1&quot;: {...\n            }\n        },{\n            &quot;id&quot;: 11,\n            &quot;city&quot;: &quot;Milano&quot;,\n            &quot;date&quot;: &quot;2022-06-06 10:45:12&quot;,\n            &quot;obj2&quot;: {...\n            }\n        },{\n            &quot;id&quot;: 102,\n            &quot;city&quot;: &quot;Delhi&quot;,\n            &quot;date&quot;: &quot;2022-06-06 10:45:20&quot;,\n            &quot;obj1&quot;: {...\n            }\n        },{\n            &quot;id&quot;: 92,\n            &quot;city&quot;: &quot;Sale&quot;,\n            &quot;date&quot;: &quot;2022-06-06 10:49:13&quot;,\n            &quot;obj3&quot;: {...\n            }\n        }\n    ],\n    &quot;pageable&quot;: {\n        &quot;sort&quot;: {\n            &quot;unsorted&quot;: false,\n            &quot;sorted&quot;: true,\n        }\n        &quot;pageSize&quot;: 4,\n        &quot;pageNumber&quot;: 10,\n    },\n}\n</code></pre>\n"},{"tags":["java","spring","jdbc","hana"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1630397103,"post_id":68994900,"comment_id":121937784,"body_markdown":"If you use those parameters, the connection *should* be secure ... provided that nobody has leaked the private key used to create the certificate.  (Actually ... I don&#39;t understand what you are missing.  Perhaps you should explain why you think it wouldn&#39;t be secure.  Then maybe we can tell you what you are missing.)","body":"If you use those parameters, the connection <i>should</i> be secure ... provided that nobody has leaked the private key used to create the certificate.  (Actually ... I don&#39;t understand what you are missing.  Perhaps you should explain why you think it wouldn&#39;t be secure.  Then maybe we can tell you what you are missing.)"},{"owner":{"account_id":19303462,"reputation":203,"user_id":14110832,"display_name":"Ritesh Singh"},"score":1,"creation_date":1630397597,"post_id":68994900,"comment_id":121937987,"body_markdown":"Hi, \n@Stephen C  Thank you for replying.  I was wondering that when I say encrypt=true then what is happening internally? I mean how the parameters helping here to encrypt or validate the certificate. Thanks again","body":"Hi,  @Stephen C  Thank you for replying.  I was wondering that when I say encrypt=true then what is happening internally? I mean how the parameters helping here to encrypt or validate the certificate. Thanks again"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1630400262,"post_id":68994900,"comment_id":121939025,"body_markdown":"They &gt;tell&lt; the driver to use encryption and validate the certificate. If you really need to know what is happening internally, you will need to get the source code for the driver and perform a security analysis on it.  Talk to the software vendor.","body":"They &gt;tell&lt; the driver to use encryption and validate the certificate. If you really need to know what is happening internally, you will need to get the source code for the driver and perform a security analysis on it.  Talk to the software vendor."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1630400516,"post_id":68994900,"comment_id":121939123,"body_markdown":"Or ... you can check out the FIPS certification for the product; see https://help.sap.com/viewer/b8eac28c172c4538b569c29e5fda69f9/16.0.4/en-US/b2632d37bbf9101495f4ad0d6e7292d1.html","body":"Or ... you can check out the FIPS certification for the product; see <a href=\"https://help.sap.com/viewer/b8eac28c172c4538b569c29e5fda69f9/16.0.4/en-US/b2632d37bbf9101495f4ad0d6e7292d1.html\" rel=\"nofollow noreferrer\">help.sap.com/viewer/b8eac28c172c4538b569c29e5fda69f9/16.0.4/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":19303462,"reputation":203,"user_id":14110832,"display_name":"Ritesh Singh"},"score":0,"creation_date":1630403469,"post_id":68994900,"comment_id":121940420,"body_markdown":"Thanks, @StephenC, I will read more on this. Thank you for your clarifications","body":"Thanks, @StephenC, I will read more on this. Thank you for your clarifications"}],"answers":[{"tags":[],"owner":{"account_id":19303462,"reputation":203,"user_id":14110832,"display_name":"Ritesh Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655463148,"creation_date":1655463148,"answer_id":72658257,"question_id":68994900,"body_markdown":"The neat thing about certificates is that you normally don&#39;t have to worry about them.\r\n\r\nThe java virtual machine (JVM) ships with a set of so-called root certificates of the certificate authorities (CAs) (including the DigiCert Global Root CA). Depending on the java distribution there might be slight differences, but the top CAs should be trusted by all.\r\n\r\nYou can see the list of trusted CAs with the following command:\r\n\r\nkeytool -list -v -cacerts -storepass changeit\r\n\r\nAs long as the SSL certificate of your database is signed by one of these CAs (or an intermediate of these) you don&#39;t need any additional configuration and it just works out of the box. This is as well the scenario, which you should aim for as it is the easiest.\r\n\r\nYou can however as well pass to the JVM your own list of trusted certificates or, and this is probably for a generic set up the best, set a custom truststore for a single JDBC connection. In a dockerized setup, you can e.g. make the whole database string configurable allowing people to mount their own CAs into the container and configure them in the database connection string. For details check the SAP documentation on the &quot;JDBC Connection Properties for SAP HANA&quot;.\r\n\r\njdbc:sap://localhost:30013/?encrypt=true&amp;validateCertificate=true&amp;trustStore=file:cert/truststore.jks&amp;trustStorePassword=123456\r\n","title":"How to implement Secure Connection to SAP HANA Database through JDBC?","body":"<p>The neat thing about certificates is that you normally don't have to worry about them.</p>\n<p>The java virtual machine (JVM) ships with a set of so-called root certificates of the certificate authorities (CAs) (including the DigiCert Global Root CA). Depending on the java distribution there might be slight differences, but the top CAs should be trusted by all.</p>\n<p>You can see the list of trusted CAs with the following command:</p>\n<p>keytool -list -v -cacerts -storepass changeit</p>\n<p>As long as the SSL certificate of your database is signed by one of these CAs (or an intermediate of these) you don't need any additional configuration and it just works out of the box. This is as well the scenario, which you should aim for as it is the easiest.</p>\n<p>You can however as well pass to the JVM your own list of trusted certificates or, and this is probably for a generic set up the best, set a custom truststore for a single JDBC connection. In a dockerized setup, you can e.g. make the whole database string configurable allowing people to mount their own CAs into the container and configure them in the database connection string. For details check the SAP documentation on the &quot;JDBC Connection Properties for SAP HANA&quot;.</p>\n<p>jdbc:sap://localhost:30013/?encrypt=true&amp;validateCertificate=true&amp;trustStore=file:cert/truststore.jks&amp;trustStorePassword=123456</p>\n"}],"owner":{"account_id":19303462,"reputation":203,"user_id":14110832,"display_name":"Ritesh Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72658257,"answer_count":1,"score":2,"last_activity_date":1655463148,"creation_date":1630396444,"question_id":68994900,"body_markdown":"I am able to connect to HANA database through my server using JDBC. I am trying to figure out if my connection to the database is secured or not?\r\n\r\n```\r\n\r\n        public void createDataSource() {\r\n  \t\t    DataSource dataSource =  DataSourceBuilder.create()\r\n  \t\t    .driverClassName(JDBC_DRIVER)\r\n  \t\t    .URL(&quot;jdbc:sap://localhost:30013/?encrypt=true&amp;validateCertificate=true&quot;)\r\n  \t\t    .username(&quot;username&quot;)\r\n  \t\t    .password(&quot;password&quot;)\r\n  \t\t    .build();\r\n          \r\n            Connection c = dataSource.getConnection(); \t\r\n      }\r\n```\r\n\r\nNow what I have understood from Documentation is that when I set parameters in the URL such \r\n\r\n&gt; encrypt=true\r\n\r\nIt enables or disables TLS encryption.\r\nFor SAP HANA Cloud connections to succeed, encrypt must be set to TRUE.\r\n\r\nAnother parameter is:\r\n\r\n&gt; validateCertificate=true\r\n\r\nIf set to true, specifies that the server’s certificate is validated.\r\n\r\nHere I am not able to understand is when it will be deployed to production is this all we need to do for a secure database connection? Can someone please point out what I am missing?\r\n\r\n","title":"How to implement Secure Connection to SAP HANA Database through JDBC?","body":"<p>I am able to connect to HANA database through my server using JDBC. I am trying to figure out if my connection to the database is secured or not?</p>\n<pre><code>\n        public void createDataSource() {\n            DataSource dataSource =  DataSourceBuilder.create()\n            .driverClassName(JDBC_DRIVER)\n            .URL(&quot;jdbc:sap://localhost:30013/?encrypt=true&amp;validateCertificate=true&quot;)\n            .username(&quot;username&quot;)\n            .password(&quot;password&quot;)\n            .build();\n          \n            Connection c = dataSource.getConnection();  \n      }\n</code></pre>\n<p>Now what I have understood from Documentation is that when I set parameters in the URL such</p>\n<blockquote>\n<p>encrypt=true</p>\n</blockquote>\n<p>It enables or disables TLS encryption.\nFor SAP HANA Cloud connections to succeed, encrypt must be set to TRUE.</p>\n<p>Another parameter is:</p>\n<blockquote>\n<p>validateCertificate=true</p>\n</blockquote>\n<p>If set to true, specifies that the server’s certificate is validated.</p>\n<p>Here I am not able to understand is when it will be deployed to production is this all we need to do for a secure database connection? Can someone please point out what I am missing?</p>\n"},{"tags":["java","android","flutter","dart"],"comments":[{"owner":{"account_id":260075,"reputation":2033,"user_id":543426,"display_name":"4F2E4A2E"},"score":0,"creation_date":1618213569,"post_id":62692962,"comment_id":118524303,"body_markdown":"Please take a look at the official documentation on this and let me know if this helps you: https://flutter.dev/docs/development/platform-integration/platform-channels#example","body":"Please take a look at the official documentation on this and let me know if this helps you: <a href=\"https://flutter.dev/docs/development/platform-integration/platform-channels#example\" rel=\"nofollow noreferrer\">flutter.dev/docs/development/platform-integration/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2914299,"reputation":9061,"user_id":2497859,"display_name":"Omatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655463001,"creation_date":1655463001,"answer_id":72658215,"question_id":62692962,"body_markdown":"You need to provide the code where you&#39;re having issues accessing camera and sound from the device. If you just need to provide camera and mic permissions, you can use the [permission_handler][1] plugin.\r\n\r\n```dart\r\n// Request camera and microphone permission\r\nMap&lt;Permission, PermissionStatus&gt; statuses = await [\r\n  Permission.camera,\r\n  Permission.microphone,\r\n].request();\r\n```\r\n\r\n\r\n  [1]: https://pub.dev/packages/permission_handler","title":"Flutter how to write java code in flutter","body":"<p>You need to provide the code where you're having issues accessing camera and sound from the device. If you just need to provide camera and mic permissions, you can use the <a href=\"https://pub.dev/packages/permission_handler\" rel=\"nofollow noreferrer\">permission_handler</a> plugin.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>// Request camera and microphone permission\nMap&lt;Permission, PermissionStatus&gt; statuses = await [\n  Permission.camera,\n  Permission.microphone,\n].request();\n</code></pre>\n"}],"owner":{"account_id":18837504,"reputation":129,"user_id":13739812,"display_name":"Mohamed Borhene Hamedi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655463001,"creation_date":1593681362,"question_id":62692962,"body_markdown":"I have an application which runs correctly without any issue. I added Java code to it to use a method channel and the problem is that the application isn&#39;t able to run sound microphone camera and did not show me any authorization to accept using camera or sound.\r\n\r\nThe code which I added from Android works correctly and show me exactly what I want.\r\n\r\n    package com.example.akk;\r\n    \r\n    import android.content.ContextWrapper;\r\n    import android.os.BatteryManager;\r\n    import android.os.Bundle;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    \r\n    //import io.flutter.embedding.android.FlutterActivity;\r\n    import io.flutter.plugin.common.MethodCall;\r\n    import io.flutter.plugin.common.MethodChannel;\r\n    import io.flutter.plugins.GeneratedPluginRegistrant;\r\n    import io.flutter.app.FlutterActivity;\r\n    \r\n    public class MainActivity extends FlutterActivity {\r\n        private static final  String CHANNEL=&quot;samples.flutter.dev/battery&quot;;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState){\r\n            super.onCreate(savedInstanceState);\r\n           // GeneratedPluginRegistrant.registerWith(this);\r\n            new  MethodChannel(getFlutterView(),CHANNEL).setMethodCallHandler(new MethodChannel.MethodCallHandler(){\r\n                @Override\r\n                public void onMethodCall(MethodCall methodCall,MethodChannel.Result result ){\r\n                 if(methodCall.method.equals(&quot;getBatteryLevel&quot;)){\r\n                     int batteryLevel = getBatteryLevel();\r\n    \r\n                     if (batteryLevel != -1) {\r\n                         result.success(batteryLevel);\r\n                     } else {\r\n                         result.error(&quot;UNAVAILABLE&quot;, &quot;Battery level not available.&quot;, null);\r\n                     }\r\n                 } else {\r\n                     result.notImplemented();\r\n                 }\r\n    \r\n                 }\r\n    \r\n            });\r\n    \r\n    \r\n        }\r\n        private int getBatteryLevel() {\r\n            // int health = intent.getIntExtra(BatteryManager.EXTRA_HEALTH,0);\r\n    \r\n    \r\n            int deviceHealth;\r\n            int x=10;\r\n    \r\n            Intent intent = new ContextWrapper(getApplicationContext()).\r\n                    registerReceiver(null, new IntentFilter(Intent.ACTION_BATTERY_CHANGED));\r\n            deviceHealth = (intent.getIntExtra(BatteryManager.EXTRA_HEALTH, 0));\r\n    \r\n    \r\n    \r\n    \r\n            if(deviceHealth == BatteryManager.BATTERY_HEALTH_DEAD){\r\n    \r\n                x=0;        }\r\n    \r\n            if (deviceHealth == BatteryManager.BATTERY_HEALTH_GOOD){\r\n    \r\n                x=1;        }\r\n    \r\n            if(deviceHealth == BatteryManager.BATTERY_HEALTH_OVERHEAT){\r\n    \r\n                x=2;        }\r\n    \r\n            if (deviceHealth == BatteryManager.BATTERY_HEALTH_OVER_VOLTAGE){\r\n    \r\n                x=3;        }\r\n    \r\n            if (deviceHealth == BatteryManager.BATTERY_HEALTH_UNKNOWN){\r\n    \r\n                x=4;        }\r\n            if (deviceHealth == BatteryManager.BATTERY_HEALTH_UNSPECIFIED_FAILURE){\r\n    \r\n                x=5;        }\r\n            return x;\r\n        }\r\n    }","title":"Flutter how to write java code in flutter","body":"<p>I have an application which runs correctly without any issue. I added Java code to it to use a method channel and the problem is that the application isn't able to run sound microphone camera and did not show me any authorization to accept using camera or sound.</p>\n<p>The code which I added from Android works correctly and show me exactly what I want.</p>\n<pre><code>package com.example.akk;\n\nimport android.content.ContextWrapper;\nimport android.os.BatteryManager;\nimport android.os.Bundle;\nimport android.content.Intent;\nimport android.content.IntentFilter;\n\n//import io.flutter.embedding.android.FlutterActivity;\nimport io.flutter.plugin.common.MethodCall;\nimport io.flutter.plugin.common.MethodChannel;\nimport io.flutter.plugins.GeneratedPluginRegistrant;\nimport io.flutter.app.FlutterActivity;\n\npublic class MainActivity extends FlutterActivity {\n    private static final  String CHANNEL=&quot;samples.flutter.dev/battery&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState){\n        super.onCreate(savedInstanceState);\n       // GeneratedPluginRegistrant.registerWith(this);\n        new  MethodChannel(getFlutterView(),CHANNEL).setMethodCallHandler(new MethodChannel.MethodCallHandler(){\n            @Override\n            public void onMethodCall(MethodCall methodCall,MethodChannel.Result result ){\n             if(methodCall.method.equals(&quot;getBatteryLevel&quot;)){\n                 int batteryLevel = getBatteryLevel();\n\n                 if (batteryLevel != -1) {\n                     result.success(batteryLevel);\n                 } else {\n                     result.error(&quot;UNAVAILABLE&quot;, &quot;Battery level not available.&quot;, null);\n                 }\n             } else {\n                 result.notImplemented();\n             }\n\n             }\n\n        });\n\n\n    }\n    private int getBatteryLevel() {\n        // int health = intent.getIntExtra(BatteryManager.EXTRA_HEALTH,0);\n\n\n        int deviceHealth;\n        int x=10;\n\n        Intent intent = new ContextWrapper(getApplicationContext()).\n                registerReceiver(null, new IntentFilter(Intent.ACTION_BATTERY_CHANGED));\n        deviceHealth = (intent.getIntExtra(BatteryManager.EXTRA_HEALTH, 0));\n\n\n\n\n        if(deviceHealth == BatteryManager.BATTERY_HEALTH_DEAD){\n\n            x=0;        }\n\n        if (deviceHealth == BatteryManager.BATTERY_HEALTH_GOOD){\n\n            x=1;        }\n\n        if(deviceHealth == BatteryManager.BATTERY_HEALTH_OVERHEAT){\n\n            x=2;        }\n\n        if (deviceHealth == BatteryManager.BATTERY_HEALTH_OVER_VOLTAGE){\n\n            x=3;        }\n\n        if (deviceHealth == BatteryManager.BATTERY_HEALTH_UNKNOWN){\n\n            x=4;        }\n        if (deviceHealth == BatteryManager.BATTERY_HEALTH_UNSPECIFIED_FAILURE){\n\n            x=5;        }\n        return x;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1655459495,"post_id":72657427,"comment_id":128342738,"body_markdown":"Please don&#39;t post code as screenshots, but as formatted text.","body":"Please don&#39;t post code as screenshots, but as formatted text."},{"owner":{"account_id":9754126,"reputation":1805,"user_id":7231449,"display_name":"acarlstein"},"score":0,"creation_date":1655489648,"post_id":72657427,"comment_id":128352870,"body_markdown":"Welcome to Stack Overflow! StackOverflow is not a free coding service; therefore, it’s expected that you [try to solve the problem first](https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users). Please update your question by including a [minimal reproducible example.](https://stackoverflow.com/help/minimal-reproducible-example). We advice to take the [tour](https://stackoverflow.com/tour). For further information, please see [How to Ask](https://stackoverflow.com/questions/how-to-ask).","body":"Welcome to Stack Overflow! StackOverflow is not a free coding service; therefore, it’s expected that you <a href=\"https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\">try to solve the problem first</a>. Please update your question by including a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example.</a>. We advice to take the <a href=\"https://stackoverflow.com/tour\">tour</a>. For further information, please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655461651,"creation_date":1655459684,"answer_id":72657542,"question_id":72657427,"body_markdown":"Unsure since the screenshot is cut in the wrong place (you shouldn&#39;t use picture for code btw) but it seems that `@TestMethodOrder` on the class is set to `Random` (can only see &quot;Ran&quot; so guessing here).\r\n\r\nThis needs to be `@TestMethodOrder(OrderAnnotation.class)` for the `@Order` annotation on tests to work.\r\n\r\n**EDIT**\r\n\r\nThis would only work in JUnit 5. Here is an example of working ordering in test (kotlin but it is the same princpple in Java):\r\n\r\n    import org.junit.jupiter.api.MethodOrderer.OrderAnnotation\r\n    import org.junit.jupiter.api.Order\r\n    import org.junit.jupiter.api.Test\r\n    import org.junit.jupiter.api.TestMethodOrder\r\n    import org.springframework.boot.test.context.SpringBootTest\r\n\r\n    @SpringBootTest\r\n    @TestMethodOrder(OrderAnnotation::class)\r\n    internal class MyTest {\r\n\r\n      @Test\r\n      @Order(value = 2)\r\n      fun test2() {\r\n          println(&quot;2&quot;)\r\n      }\r\n\r\n      @Test\r\n      @Order(value = 3)\r\n      fun test3() {\r\n          println(&quot;3&quot;)\r\n      }\r\n\r\n      @Test\r\n      @Order(value = 1)\r\n      fun test1() {\r\n          println(&quot;1&quot;)\r\n      }\r\n    }\r\n\r\nAlso note that the import. You might have imported a Spring @Order or another one that might not work","title":"problem execute tests with java spring boot in order","body":"<p>Unsure since the screenshot is cut in the wrong place (you shouldn't use picture for code btw) but it seems that <code>@TestMethodOrder</code> on the class is set to <code>Random</code> (can only see &quot;Ran&quot; so guessing here).</p>\n<p>This needs to be <code>@TestMethodOrder(OrderAnnotation.class)</code> for the <code>@Order</code> annotation on tests to work.</p>\n<p><strong>EDIT</strong></p>\n<p>This would only work in JUnit 5. Here is an example of working ordering in test (kotlin but it is the same princpple in Java):</p>\n<pre><code>import org.junit.jupiter.api.MethodOrderer.OrderAnnotation\nimport org.junit.jupiter.api.Order\nimport org.junit.jupiter.api.Test\nimport org.junit.jupiter.api.TestMethodOrder\nimport org.springframework.boot.test.context.SpringBootTest\n\n@SpringBootTest\n@TestMethodOrder(OrderAnnotation::class)\ninternal class MyTest {\n\n  @Test\n  @Order(value = 2)\n  fun test2() {\n      println(&quot;2&quot;)\n  }\n\n  @Test\n  @Order(value = 3)\n  fun test3() {\n      println(&quot;3&quot;)\n  }\n\n  @Test\n  @Order(value = 1)\n  fun test1() {\n      println(&quot;1&quot;)\n  }\n}\n</code></pre>\n<p>Also note that the import. You might have imported a Spring @Order or another one that might not work</p>\n"}],"owner":{"account_id":25570136,"reputation":1,"user_id":19350645,"display_name":"Ismael Zahrouni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655462790,"creation_date":1655459107,"question_id":72657427,"body_markdown":"Hello everyone please someone help me to solve this problem i have done my project with java spring boot unit test with annotation of ***@order(value=x)*** the problem is when i execute those tests it  executes with a wrong order that i have defined them with value=1 ,value=2,... ,at least i have 7 tests and i need them to be executed with order, besides i work with intellij please someone have an answer.\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/90V2A.png","title":"problem execute tests with java spring boot in order","body":"<p>Hello everyone please someone help me to solve this problem i have done my project with java spring boot unit test with annotation of <em><strong>@order(value=x)</strong></em> the problem is when i execute those tests it  executes with a wrong order that i have defined them with value=1 ,value=2,... ,at least i have 7 tests and i need them to be executed with order, besides i work with intellij please someone have an answer.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15582048,"reputation":149,"user_id":11241536,"display_name":"QuantumWiz"},"score":0,"creation_date":1655459980,"post_id":72657578,"comment_id":128342896,"body_markdown":"Are you adding a hero multiple times if they have multiple powers?","body":"Are you adding a hero multiple times if they have multiple powers?"},{"owner":{"account_id":19102500,"reputation":19,"user_id":13950457,"display_name":"Dean Winchester"},"score":0,"creation_date":1655460170,"post_id":72657578,"comment_id":128342964,"body_markdown":"@QuantumWiz No, i expect to add only Blood Seeker and Necrophos into filteredList","body":"@QuantumWiz No, i expect to add only Blood Seeker and Necrophos into filteredList"},{"owner":{"account_id":15582048,"reputation":149,"user_id":11241536,"display_name":"QuantumWiz"},"score":1,"creation_date":1655460380,"post_id":72657578,"comment_id":128343043,"body_markdown":"@DeanWinchester Don&#39;t both of those heroes get added twice since they have two powers that match your condition (either &quot;Durable&quot; or &quot;Agile&quot;)?","body":"@DeanWinchester Don&#39;t both of those heroes get added twice since they have two powers that match your condition (either &quot;Durable&quot; or &quot;Agile&quot;)?"},{"owner":{"account_id":19102500,"reputation":19,"user_id":13950457,"display_name":"Dean Winchester"},"score":0,"creation_date":1655460656,"post_id":72657578,"comment_id":128343130,"body_markdown":"@QuantumWiz so should i change to &amp;&amp; ? cuz when i did that there&#39;s no data added into my filtered list","body":"@QuantumWiz so should i change to &amp;&amp; ? cuz when i did that there&#39;s no data added into my filtered list"},{"owner":{"account_id":15582048,"reputation":149,"user_id":11241536,"display_name":"QuantumWiz"},"score":0,"creation_date":1655461545,"post_id":72657578,"comment_id":128343410,"body_markdown":"@DeanWinchester I now made an attempt as an answer. Can you check if it works?","body":"@DeanWinchester I now made an attempt as an answer. Can you check if it works?"},{"owner":{"account_id":15582048,"reputation":149,"user_id":11241536,"display_name":"QuantumWiz"},"score":0,"creation_date":1655464975,"post_id":72657578,"comment_id":128344581,"body_markdown":"@DeanWinchester Is my answer clear or do you still have something you&#39;d like to ask?","body":"@DeanWinchester Is my answer clear or do you still have something you&#39;d like to ask?"}],"answers":[{"tags":[],"owner":{"account_id":15582048,"reputation":149,"user_id":11241536,"display_name":"QuantumWiz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655462743,"creation_date":1655461509,"answer_id":72657908,"question_id":72657578,"body_markdown":"Here&#39;s my attempt. Didn&#39;t check if it works.\r\n```\r\nList&lt;Hero&gt; filteredList = new ArrayList&lt;&gt;;\r\ndata.getHeroList().forEach(hero-&gt; {\r\n    boolean hasDurable = false;\r\n    boolean hasAgile = false;\r\n    hero.getpower().forEach(power-&gt; {\r\n        if (power.getSkill().contains(&quot;Durable&quot;) &amp;&amp; power.getStatus()) {\r\n            hasDurable = true;\r\n        }\r\n        if (power.getSkill().contains(&quot;Agile&quot;) &amp;&amp; power.getStatus()) {\r\n            hasAgile = true;\r\n        }\r\n    });\r\n    if(hasDurable &amp;&amp; hasAgile) {\r\n        filteredList.add(hero);\r\n    }\r\n});\r\n```","title":"Foreach for nested list in Java","body":"<p>Here's my attempt. Didn't check if it works.</p>\n<pre><code>List&lt;Hero&gt; filteredList = new ArrayList&lt;&gt;;\ndata.getHeroList().forEach(hero-&gt; {\n    boolean hasDurable = false;\n    boolean hasAgile = false;\n    hero.getpower().forEach(power-&gt; {\n        if (power.getSkill().contains(&quot;Durable&quot;) &amp;&amp; power.getStatus()) {\n            hasDurable = true;\n        }\n        if (power.getSkill().contains(&quot;Agile&quot;) &amp;&amp; power.getStatus()) {\n            hasAgile = true;\n        }\n    });\n    if(hasDurable &amp;&amp; hasAgile) {\n        filteredList.add(hero);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":19102500,"reputation":19,"user_id":13950457,"display_name":"Dean Winchester"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1655462743,"creation_date":1655459851,"question_id":72657578,"body_markdown":"I have hero dataset i want to show list with all heroes are durable is true and agile is true from this dataset\r\n\r\n    {\r\n        &quot;hero_code&quot;: 1,\r\n        &quot;hero_name&quot;: &quot;Blood Seeker&quot;,\r\n        &quot;power&quot;: [\r\n            {\r\n                &quot;skill&quot;: &quot;Durable&quot;,\r\n                &quot;status&quot;: true\r\n            },\r\n            {\r\n                &quot;skill&quot;: &quot;Agile&quot;,\r\n                &quot;status&quot;: true\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;hero_code&quot;: 2,\r\n        &quot;hero_name&quot;: &quot;Pudge&quot;,\r\n        &quot;power&quot;: [\r\n            {\r\n                &quot;skill&quot;: &quot;Durable&quot;,\r\n                &quot;status&quot;: true\r\n            },\r\n            {\r\n                &quot;skill&quot;: &quot;Agile&quot;,\r\n                &quot;status&quot;: false\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;hero_code&quot;: 3,\r\n        &quot;hero_name&quot;: &quot;Necrophos&quot;,\r\n        &quot;power&quot;: [\r\n            {\r\n                &quot;skill&quot;: &quot;Durable&quot;,\r\n                &quot;status&quot;: true\r\n            },\r\n            {\r\n                &quot;skill&quot;: &quot;Agile&quot;,\r\n                &quot;status&quot;: true\r\n            }\r\n        ]\r\n    }\r\n\r\nthis is what i do to achieve that\r\n\r\n    List&lt;Hero&gt; filteredList = new ArrayList&lt;&gt;;\r\n    data.getHeroList().forEach(hero-&gt; {\r\n    hero.getpower().forEach(power-&gt; {\r\n        if (power.getSkill().contains(&quot;Durable&quot;) || power.getSkill().contains(&quot;Agile&quot;)) {\r\n            if (power.getStatus() == true){\r\n                filteredList.add(hero);\r\n            }\r\n        }\r\n    });\r\n    });\r\n\r\nbut why my filtered list end up with 6 data instead of 2 ?\r\ncould anyone give me some insight ?\r\nThanks","title":"Foreach for nested list in Java","body":"<p>I have hero dataset i want to show list with all heroes are durable is true and agile is true from this dataset</p>\n<pre><code>{\n    &quot;hero_code&quot;: 1,\n    &quot;hero_name&quot;: &quot;Blood Seeker&quot;,\n    &quot;power&quot;: [\n        {\n            &quot;skill&quot;: &quot;Durable&quot;,\n            &quot;status&quot;: true\n        },\n        {\n            &quot;skill&quot;: &quot;Agile&quot;,\n            &quot;status&quot;: true\n        }\n    ]\n},\n{\n    &quot;hero_code&quot;: 2,\n    &quot;hero_name&quot;: &quot;Pudge&quot;,\n    &quot;power&quot;: [\n        {\n            &quot;skill&quot;: &quot;Durable&quot;,\n            &quot;status&quot;: true\n        },\n        {\n            &quot;skill&quot;: &quot;Agile&quot;,\n            &quot;status&quot;: false\n        }\n    ]\n},\n{\n    &quot;hero_code&quot;: 3,\n    &quot;hero_name&quot;: &quot;Necrophos&quot;,\n    &quot;power&quot;: [\n        {\n            &quot;skill&quot;: &quot;Durable&quot;,\n            &quot;status&quot;: true\n        },\n        {\n            &quot;skill&quot;: &quot;Agile&quot;,\n            &quot;status&quot;: true\n        }\n    ]\n}\n</code></pre>\n<p>this is what i do to achieve that</p>\n<pre><code>List&lt;Hero&gt; filteredList = new ArrayList&lt;&gt;;\ndata.getHeroList().forEach(hero-&gt; {\nhero.getpower().forEach(power-&gt; {\n    if (power.getSkill().contains(&quot;Durable&quot;) || power.getSkill().contains(&quot;Agile&quot;)) {\n        if (power.getStatus() == true){\n            filteredList.add(hero);\n        }\n    }\n});\n});\n</code></pre>\n<p>but why my filtered list end up with 6 data instead of 2 ?\ncould anyone give me some insight ?\nThanks</p>\n"},{"tags":["java","jvm","jit"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":1,"creation_date":1655458982,"post_id":72657042,"comment_id":128342571,"body_markdown":"Does this answer your question: https://stackoverflow.com/a/28770915/61158 ?","body":"Does this answer your question: <a href=\"https://stackoverflow.com/a/28770915/61158\">stackoverflow.com/a/28770915/61158</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1655462543,"creation_date":1655462543,"answer_id":72658095,"question_id":72657042,"body_markdown":"You need the HotSpot disassembler plugin `hsdis-amd64.so` and put it on the shared library search path.\r\n\r\nYou can build it from [sources](https://github.com/openjdk/jdk/blob/e1c98bd1f2f57ddf47e4660038059117af87f938/src/utils/hsdis/README.md) or get a prebuilt binary from [here](https://bell-sw.com/pages/jvm-tools/) or [here](https://chriswhocodes.com/hsdis/).","title":"java printAssembly flag is printing no assembly instructions","body":"<p>You need the HotSpot disassembler plugin <code>hsdis-amd64.so</code> and put it on the shared library search path.</p>\n<p>You can build it from <a href=\"https://github.com/openjdk/jdk/blob/e1c98bd1f2f57ddf47e4660038059117af87f938/src/utils/hsdis/README.md\" rel=\"nofollow noreferrer\">sources</a> or get a prebuilt binary from <a href=\"https://bell-sw.com/pages/jvm-tools/\" rel=\"nofollow noreferrer\">here</a> or <a href=\"https://chriswhocodes.com/hsdis/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":17499440,"reputation":230,"user_id":12690050,"display_name":"Susano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72658095,"answer_count":1,"score":1,"last_activity_date":1655462543,"creation_date":1655457335,"question_id":72657042,"body_markdown":"In this   [Link][1] `rustyx` mentioned that he used a debug virtual machine and the following flag ``` -XX:+PrintOptoAssembly ``` to get the assembly instructions of his java bytecode \r\n\r\nI installed the debug virtual machine with `sudo apt-get install openjdk-17-dbg`\r\n\r\nI  use the command ` java -XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly Main ` \r\n\r\nI am used to do it in C++ with gdb but Can&#39;t get it to work with java the printAssembly only prints hex values of the instructions like the below sample, it&#39;s repeated multiple times with no sign of my actual code functions or any meaningful symbols\r\n\r\n \r\n \r\n \r\n\r\n\r\n```\r\nabstract class Base {\r\n\tBase(){\r\n\t\tSystem.out.println(&quot;Base Constructor Called&quot;);\r\n\t}\r\n\tabstract void fun();\r\n}\r\nclass Dervied extends Base {\r\n\tDervied(){\r\n\t\tSystem.out.println(&quot;Dervied Constructor called&quot;);\r\n\t}\r\n\tvoid fun(){\r\n\t\tint x = 0;\r\n\t\tx = x + 1;\r\n\t\tSystem.out.println(&quot;Dervied fun() called &quot; + x);\r\n\t}\r\n}\r\n\r\nclass Main {\r\n\tpublic static void main(String args[]){\r\n\t\tDervied d = new Dervied();\r\n        d.fun();\r\n\t}\r\n}\r\n\r\n```\r\n\r\n```\r\n     32    1       3       java.lang.Object::&lt;init&gt; (1 bytes)\r\n\r\n============================= C1-compiled nmethod ==============================\r\n----------------------------------- Assembly -----------------------------------\r\n\r\nCompiled method (c1)      32    1       3       java.lang.Object::&lt;init&gt; (1 bytes)\r\n total in heap  [0x00007fca25878010,0x00007fca25878320] = 784\r\n relocation     [0x00007fca25878170,0x00007fca258781a0] = 48\r\n main code      [0x00007fca258781a0,0x00007fca25878280] = 224\r\n stub code      [0x00007fca25878280,0x00007fca258782b0] = 48\r\n metadata       [0x00007fca258782b0,0x00007fca258782c0] = 16\r\n scopes data    [0x00007fca258782c0,0x00007fca258782d8] = 24\r\n scopes pcs     [0x00007fca258782d8,0x00007fca25878318] = 64\r\n dependencies   [0x00007fca25878318,0x00007fca25878320] = 8\r\n\r\n[Constant Pool (empty)]\r\n\r\n[MachCode]\r\n[Entry Point]\r\n  # {method} {0x0000000800448920} &#39;&lt;init&gt;&#39; &#39;()V&#39; in &#39;java/lang/Object&#39;\r\n  #           [sp+0x40]  (sp of caller)\r\n  0x00007fca258781a0: 448b 5608 | 49bb 0000 | 0000 0800 | 0000 4d03 | d34c 3bd0 \r\n\r\n  0x00007fca258781b4: ;   {runtime_call ic_miss_stub}\r\n  0x00007fca258781b4: 0f85 c6a5 | abff 660f | 1f44 0000 \r\n[Verified Entry Point]\r\n  0x00007fca258781c0: 8984 2400 | c0fe ff55 | 4883 ec30 \r\n\r\n  0x00007fca258781cc: ;   {metadata(method data for {method} {0x0000000800448920} &#39;&lt;init&gt;&#39; &#39;()V&#39; in &#39;java/lang/Object&#39;)}\r\n  0x00007fca258781cc: 48bf 1888 | 801c ca7f | 0000 8b9f | f400 0000 | 83c3 0289 | 9ff4 0000 | 0081 e3fe | 0700 0083 \r\n  0x00007fca258781ec: fb00 0f84 \r\n\r\n  0x00007fca258781f0: ;*return {reexecute=0 rethrow=0 return_oop=0}\r\n                      ; - java.lang.Object::&lt;init&gt;@0 (line 44)\r\n  0x00007fca258781f0: 1300 0000 | 4883 c430 \r\n\r\n  0x00007fca258781f8: ;   {poll_return}\r\n  0x00007fca258781f8: 5d49 3ba7 | 4003 0000 | 0f87 1f00 \r\n\r\n  0x00007fca25878204: ;   {metadata({method} {0x0000000800448920} &#39;&lt;init&gt;&#39; &#39;()V&#39; in &#39;java/lang/Object&#39;)}\r\n  0x00007fca25878204: 0000 c349 | ba20 8944 | 0008 0000 | 004c 8954 | 2408 48c7 | 0424 ffff \r\n\r\n  0x00007fca2587821c: ;   {runtime_call counter_overflow Runtime1 stub}\r\n  0x00007fca2587821c: ffff e8dd \r\n\r\n  0x00007fca25878220: ; ImmutableOopMap {rsi=Oop }\r\n                      ;*synchronization entry\r\n                      ; - java.lang.Object::&lt;init&gt;@-1 (line 44)\r\n  0x00007fca25878220: 6ab6 ffeb \r\n\r\n  0x00007fca25878224: ;   {internal_word}\r\n  0x00007fca25878224: cf49 baf9 | 8187 25ca | 7f00 004d | 8997 5803 \r\n\r\n  0x00007fca25878234: ;   {runtime_call SafepointBlob}\r\n  0x00007fca25878234: 0000 e9c5 | 0eac ff90 | 9049 8b87 | d003 0000 | 49c7 87d0 | 0300 0000 | 0000 0049 | c787 d803 \r\n  0x00007fca25878254: 0000 0000 | 0000 4883 \r\n\r\n  0x00007fca2587825c: ;   {runtime_call unwind_exception Runtime1 stub}\r\n  0x00007fca2587825c: c430 5de9 | 9c01 b6ff | f4f4 f4f4 | f4f4 f4f4 | f4f4 f4f4 | f4f4 f4f4 | f4f4 f4f4 | f4f4 f4f4 \r\n  0x00007fca2587827c: f4f4 f4f4 \r\n[Exception Handler]\r\n  0x00007fca25878280: ;   {no_reloc}\r\n  0x00007fca25878280: e87b 31b6 \r\n\r\n  0x00007fca25878284: ;   {external_word}\r\n  0x00007fca25878284: ff48 bf6a | 7482 41ca | 7f00 0048 \r\n\r\n  0x00007fca25878290: ;   {runtime_call}\r\n  0x00007fca25878290: 83e4 f0e8 | 080a ae1b \r\n\r\n  0x00007fca25878298: ;   {section_word}\r\n  0x00007fca25878298: f449 ba99 | 8287 25ca | 7f00 0041 \r\n\r\n  0x00007fca258782a4: ;   {runtime_call DeoptimizationBlob}\r\n  0x00007fca258782a4: 52e9 f600 | acff f4f4 | f4f4 f4f4 \r\n[/MachCode]\r\n     34    2       3       java.lang.String::hashCode (60 bytes)\r\n\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53452713/why-is-2-i-i-faster-than-2-i-i-in-java?rq=1","title":"java printAssembly flag is printing no assembly instructions","body":"<p>In this   <a href=\"https://stackoverflow.com/questions/53452713/why-is-2-i-i-faster-than-2-i-i-in-java?rq=1\">Link</a> <code>rustyx</code> mentioned that he used a debug virtual machine and the following flag <code>-XX:+PrintOptoAssembly</code> to get the assembly instructions of his java bytecode</p>\n<p>I installed the debug virtual machine with <code>sudo apt-get install openjdk-17-dbg</code></p>\n<p>I  use the command <code>java -XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly Main</code></p>\n<p>I am used to do it in C++ with gdb but Can't get it to work with java the printAssembly only prints hex values of the instructions like the below sample, it's repeated multiple times with no sign of my actual code functions or any meaningful symbols</p>\n<pre><code>abstract class Base {\n    Base(){\n        System.out.println(&quot;Base Constructor Called&quot;);\n    }\n    abstract void fun();\n}\nclass Dervied extends Base {\n    Dervied(){\n        System.out.println(&quot;Dervied Constructor called&quot;);\n    }\n    void fun(){\n        int x = 0;\n        x = x + 1;\n        System.out.println(&quot;Dervied fun() called &quot; + x);\n    }\n}\n\nclass Main {\n    public static void main(String args[]){\n        Dervied d = new Dervied();\n        d.fun();\n    }\n}\n\n</code></pre>\n<pre><code>     32    1       3       java.lang.Object::&lt;init&gt; (1 bytes)\n\n============================= C1-compiled nmethod ==============================\n----------------------------------- Assembly -----------------------------------\n\nCompiled method (c1)      32    1       3       java.lang.Object::&lt;init&gt; (1 bytes)\n total in heap  [0x00007fca25878010,0x00007fca25878320] = 784\n relocation     [0x00007fca25878170,0x00007fca258781a0] = 48\n main code      [0x00007fca258781a0,0x00007fca25878280] = 224\n stub code      [0x00007fca25878280,0x00007fca258782b0] = 48\n metadata       [0x00007fca258782b0,0x00007fca258782c0] = 16\n scopes data    [0x00007fca258782c0,0x00007fca258782d8] = 24\n scopes pcs     [0x00007fca258782d8,0x00007fca25878318] = 64\n dependencies   [0x00007fca25878318,0x00007fca25878320] = 8\n\n[Constant Pool (empty)]\n\n[MachCode]\n[Entry Point]\n  # {method} {0x0000000800448920} '&lt;init&gt;' '()V' in 'java/lang/Object'\n  #           [sp+0x40]  (sp of caller)\n  0x00007fca258781a0: 448b 5608 | 49bb 0000 | 0000 0800 | 0000 4d03 | d34c 3bd0 \n\n  0x00007fca258781b4: ;   {runtime_call ic_miss_stub}\n  0x00007fca258781b4: 0f85 c6a5 | abff 660f | 1f44 0000 \n[Verified Entry Point]\n  0x00007fca258781c0: 8984 2400 | c0fe ff55 | 4883 ec30 \n\n  0x00007fca258781cc: ;   {metadata(method data for {method} {0x0000000800448920} '&lt;init&gt;' '()V' in 'java/lang/Object')}\n  0x00007fca258781cc: 48bf 1888 | 801c ca7f | 0000 8b9f | f400 0000 | 83c3 0289 | 9ff4 0000 | 0081 e3fe | 0700 0083 \n  0x00007fca258781ec: fb00 0f84 \n\n  0x00007fca258781f0: ;*return {reexecute=0 rethrow=0 return_oop=0}\n                      ; - java.lang.Object::&lt;init&gt;@0 (line 44)\n  0x00007fca258781f0: 1300 0000 | 4883 c430 \n\n  0x00007fca258781f8: ;   {poll_return}\n  0x00007fca258781f8: 5d49 3ba7 | 4003 0000 | 0f87 1f00 \n\n  0x00007fca25878204: ;   {metadata({method} {0x0000000800448920} '&lt;init&gt;' '()V' in 'java/lang/Object')}\n  0x00007fca25878204: 0000 c349 | ba20 8944 | 0008 0000 | 004c 8954 | 2408 48c7 | 0424 ffff \n\n  0x00007fca2587821c: ;   {runtime_call counter_overflow Runtime1 stub}\n  0x00007fca2587821c: ffff e8dd \n\n  0x00007fca25878220: ; ImmutableOopMap {rsi=Oop }\n                      ;*synchronization entry\n                      ; - java.lang.Object::&lt;init&gt;@-1 (line 44)\n  0x00007fca25878220: 6ab6 ffeb \n\n  0x00007fca25878224: ;   {internal_word}\n  0x00007fca25878224: cf49 baf9 | 8187 25ca | 7f00 004d | 8997 5803 \n\n  0x00007fca25878234: ;   {runtime_call SafepointBlob}\n  0x00007fca25878234: 0000 e9c5 | 0eac ff90 | 9049 8b87 | d003 0000 | 49c7 87d0 | 0300 0000 | 0000 0049 | c787 d803 \n  0x00007fca25878254: 0000 0000 | 0000 4883 \n\n  0x00007fca2587825c: ;   {runtime_call unwind_exception Runtime1 stub}\n  0x00007fca2587825c: c430 5de9 | 9c01 b6ff | f4f4 f4f4 | f4f4 f4f4 | f4f4 f4f4 | f4f4 f4f4 | f4f4 f4f4 | f4f4 f4f4 \n  0x00007fca2587827c: f4f4 f4f4 \n[Exception Handler]\n  0x00007fca25878280: ;   {no_reloc}\n  0x00007fca25878280: e87b 31b6 \n\n  0x00007fca25878284: ;   {external_word}\n  0x00007fca25878284: ff48 bf6a | 7482 41ca | 7f00 0048 \n\n  0x00007fca25878290: ;   {runtime_call}\n  0x00007fca25878290: 83e4 f0e8 | 080a ae1b \n\n  0x00007fca25878298: ;   {section_word}\n  0x00007fca25878298: f449 ba99 | 8287 25ca | 7f00 0041 \n\n  0x00007fca258782a4: ;   {runtime_call DeoptimizationBlob}\n  0x00007fca258782a4: 52e9 f600 | acff f4f4 | f4f4 f4f4 \n[/MachCode]\n     34    2       3       java.lang.String::hashCode (60 bytes)\n\n\n</code></pre>\n"},{"tags":["java","jsp","servlets","file-upload"],"comments":[{"owner":{"account_id":77864,"reputation":1714,"user_id":221965,"accept_rate":36,"display_name":"Dapeng"},"score":0,"creation_date":1305297849,"post_id":5954446,"comment_id":6921403,"body_markdown":"generally u can&#39;t do that, unless u post the file to the server, if the file is huge, say 1G, this is very impractical, you may want to consider some client side solution, like use an swf to query the file size","body":"generally u can&#39;t do that, unless u post the file to the server, if the file is huge, say 1G, this is very impractical, you may want to consider some client side solution, like use an swf to query the file size"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1305051251,"creation_date":1305051251,"answer_id":5954497,"question_id":5954446,"body_markdown":"You can use [Common&#39;s FileUpload][1] and [`fileItem.getSize()`][2]\r\n\r\n\r\n  [1]: http://commons.apache.org/fileupload/\r\n  [2]: http://commons.apache.org/fileupload/apidocs/org/apache/commons/fileupload/FileItem.html#getSize%28%29","title":"how to get the file size in servlet","body":"<p>You can use <a href=\"http://commons.apache.org/fileupload/\" rel=\"nofollow\">Common's FileUpload</a> and <a href=\"http://commons.apache.org/fileupload/apidocs/org/apache/commons/fileupload/FileItem.html#getSize%28%29\" rel=\"nofollow\"><code>fileItem.getSize()</code></a></p>\n"},{"tags":[],"owner":{"account_id":65096,"reputation":15637,"user_id":191797,"accept_rate":100,"display_name":"Piyush Mattoo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305052129,"creation_date":1305052129,"answer_id":5954665,"question_id":5954446,"body_markdown":"According to [HTML Form Spec][1], you need to set the request method to POST and the request encoding to multipart/form-data in the &lt;form&gt; element. If you are using Servlet API 2.5 or earlier, you will have to parse the request yourselves.[Apache File Upload][2] API does a good job at that and you can easily get the size of the file. However in case you are using Servlet 3.0 API, the you can use the Servlet API for parsing. You can find the code snippet [here][3]\r\n\r\n\r\n  [1]: http://www.w3.org/TR/html401/interact/forms.html\r\n  [2]: http://commons.apache.org/fileupload/\r\n  [3]: http://balusc.blogspot.com/2009/12/uploading-files-in-servlet-30.html","title":"how to get the file size in servlet","body":"<p>According to <a href=\"http://www.w3.org/TR/html401/interact/forms.html\" rel=\"nofollow\">HTML Form Spec</a>, you need to set the request method to POST and the request encoding to multipart/form-data in the  element. If you are using Servlet API 2.5 or earlier, you will have to parse the request yourselves.<a href=\"http://commons.apache.org/fileupload/\" rel=\"nofollow\">Apache File Upload</a> API does a good job at that and you can easily get the size of the file. However in case you are using Servlet 3.0 API, the you can use the Servlet API for parsing. You can find the code snippet <a href=\"http://balusc.blogspot.com/2009/12/uploading-files-in-servlet-30.html\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1645087,"reputation":3440,"user_id":1516759,"accept_rate":33,"display_name":"Visruth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655462489,"creation_date":1655462489,"answer_id":72658088,"question_id":5954446,"body_markdown":"In the servlet you can get the uploaded file size as follows\r\n\r\n```\r\nPart filePart = request.getPart(&quot;inputFile&quot;);\r\nlong fileSize = part.getSize();\r\n```","title":"how to get the file size in servlet","body":"<p>In the servlet you can get the uploaded file size as follows</p>\n<pre><code>Part filePart = request.getPart(&quot;inputFile&quot;);\nlong fileSize = part.getSize();\n</code></pre>\n"}],"owner":{"account_id":375312,"reputation":91,"user_id":726062,"accept_rate":0,"display_name":"Amit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3557,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1655462489,"creation_date":1305051028,"question_id":5954446,"body_markdown":"i created a form in jsp which containing some properties about the file like file category, file language,etc after submitting the button form variable redirect to servlet,in this servlet i want to know the file size. \r\n\r\n","title":"how to get the file size in servlet","body":"<p>i created a form in jsp which containing some properties about the file like file category, file language,etc after submitting the button form variable redirect to servlet,in this servlet i want to know the file size. </p>\n"},{"tags":["java","spring","events","uml","class-diagram"],"answers":[{"tags":[],"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1607005530,"creation_date":1607005530,"answer_id":65127857,"question_id":65126628,"body_markdown":"You use either an activity or in this case probably better a sequence diagram. Those show behavior. In the SD draw a message arrow from `Publisher` to `Eventhandler` instances (life lines) and label it with the operation `handleEvent()`.\r\n\r\nA class diagram only shows static constructs.","title":"How to represent in UML that one class calls another class method when publishing spring event","body":"<p>You use either an activity or in this case probably better a sequence diagram. Those show behavior. In the SD draw a message arrow from <code>Publisher</code> to <code>Eventhandler</code> instances (life lines) and label it with the operation <code>handleEvent()</code>.</p>\n<p>A class diagram only shows static constructs.</p>\n"},{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1607030585,"creation_date":1607030147,"answer_id":65134259,"question_id":65126628,"body_markdown":"## The class diagram\r\n\r\nAs [qwerty_so][1] rightly pointed out,  in a class diagram, we do not represent interactions: we represent structure, such as classes, association between classes, and dependencies:  \r\n\r\n* On the `EventHandler` side, you have a dependency to `Event`.  Since it&#39;s an [`@EventListener`][2], `Event` is probably an [`ApplicationEvent`][3]\r\n* On the `Publisher` side, your code has a dependency to `SomeEvent`.  Since it&#39;s an [`ApplicationEventPublisher`][4],  `SomeEvent` is probably an [`ApplicationEvent`][3]. \r\n\r\nYou may therefore want to show a dependency to the common `ApplicationEvent`: \r\n\r\n[![enter image description here][5]][5]\r\n\r\n## The Spring magic\r\n\r\nI&#39;m not a Spring expert, but I understand that [behind the &quot;spring magic&quot; is the annotation][6] which hides an automatic registration of the listener to publisher, based on the signature of the annotated method.  \r\n\r\nYou could be tempted to show in your model the (automatic) association between the listener and the publisher.  But IMHO,  this would not reflect well your design, since your model would hardwire the magic, whereas your code is dynamic in this regard.  This is why the simpler diagram I show above, seems more appropriate:  the magic is caused by the common Event denominator.  Just use the right intermetiary type.    \r\n\r\n## The interactions\r\n\r\nIf you want to show the dynamics of the interactions, it&#39;s a little more complex.  You could for example use an sequence diagram, and encabulate the magic in a `:SpringFramework` lifeline,  and materialize the automatic registration with messages sent to this &quot;virtual&quot; lifeline. Moreover:  \r\n\r\n* Event sending would then be a message from the publisher to the framework, \r\n* Event listening would be a message sent by the framework to one or several listener. \r\n\r\nIt&#39;s not the real details.  But the readers of your diagram do not need to know these details (except if they&#39;d belong to the spring development team).  So keep it as simple as possible,  but not more :-)\r\n\r\n  [1]: https://stackoverflow.com/a/65127857/3723423\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/event/EventListener.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationEvent.html\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationEventPublisher.html\r\n  [5]: https://i.stack.imgur.com/53EIk.png\r\n  [6]: https://reflectoring.io/spring-boot-application-events-explained/","title":"How to represent in UML that one class calls another class method when publishing spring event","body":"<h2>The class diagram</h2>\n<p>As <a href=\"https://stackoverflow.com/a/65127857/3723423\">qwerty_so</a> rightly pointed out,  in a class diagram, we do not represent interactions: we represent structure, such as classes, association between classes, and dependencies:</p>\n<ul>\n<li>On the <code>EventHandler</code> side, you have a dependency to <code>Event</code>.  Since it's an <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/event/EventListener.html\" rel=\"nofollow noreferrer\"><code>@EventListener</code></a>, <code>Event</code> is probably an <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationEvent.html\" rel=\"nofollow noreferrer\"><code>ApplicationEvent</code></a></li>\n<li>On the <code>Publisher</code> side, your code has a dependency to <code>SomeEvent</code>.  Since it's an <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationEventPublisher.html\" rel=\"nofollow noreferrer\"><code>ApplicationEventPublisher</code></a>,  <code>SomeEvent</code> is probably an <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationEvent.html\" rel=\"nofollow noreferrer\"><code>ApplicationEvent</code></a>.</li>\n</ul>\n<p>You may therefore want to show a dependency to the common <code>ApplicationEvent</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/53EIk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/53EIk.png\" alt=\"enter image description here\" /></a></p>\n<h2>The Spring magic</h2>\n<p>I'm not a Spring expert, but I understand that <a href=\"https://reflectoring.io/spring-boot-application-events-explained/\" rel=\"nofollow noreferrer\">behind the &quot;spring magic&quot; is the annotation</a> which hides an automatic registration of the listener to publisher, based on the signature of the annotated method.</p>\n<p>You could be tempted to show in your model the (automatic) association between the listener and the publisher.  But IMHO,  this would not reflect well your design, since your model would hardwire the magic, whereas your code is dynamic in this regard.  This is why the simpler diagram I show above, seems more appropriate:  the magic is caused by the common Event denominator.  Just use the right intermetiary type.</p>\n<h2>The interactions</h2>\n<p>If you want to show the dynamics of the interactions, it's a little more complex.  You could for example use an sequence diagram, and encabulate the magic in a <code>:SpringFramework</code> lifeline,  and materialize the automatic registration with messages sent to this &quot;virtual&quot; lifeline. Moreover:</p>\n<ul>\n<li>Event sending would then be a message from the publisher to the framework,</li>\n<li>Event listening would be a message sent by the framework to one or several listener.</li>\n</ul>\n<p>It's not the real details.  But the readers of your diagram do not need to know these details (except if they'd belong to the spring development team).  So keep it as simple as possible,  but not more :-)</p>\n"},{"tags":[],"owner":{"account_id":8755914,"reputation":130,"user_id":18316497,"display_name":"kingsjester"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655462442,"creation_date":1655462442,"answer_id":72658078,"question_id":65126628,"body_markdown":"It helps a lot to understand an architecture if methods are linked in a class diagram. You can do that with a dashed line and write \\&lt;&lt;use\\&gt;&gt; on it. Of course, if the architecture is complex, you won&#39;t be able to represent all these associations. \r\n\r\nUnfortunately a lot of people discourage to do that and purpose sequence diagram instead (which doesn&#39;t give any context of what the class contains...). Furthermore, a lot of software to represent UML class diagrams doesn&#39;t work very well to link methods together.","title":"How to represent in UML that one class calls another class method when publishing spring event","body":"<p>It helps a lot to understand an architecture if methods are linked in a class diagram. You can do that with a dashed line and write &lt;&lt;use&gt;&gt; on it. Of course, if the architecture is complex, you won't be able to represent all these associations.</p>\n<p>Unfortunately a lot of people discourage to do that and purpose sequence diagram instead (which doesn't give any context of what the class contains...). Furthermore, a lot of software to represent UML class diagrams doesn't work very well to link methods together.</p>\n"}],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1831,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65134259,"answer_count":3,"score":3,"last_activity_date":1655462442,"creation_date":1607000968,"question_id":65126628,"body_markdown":"I want to draw UML diagram which represents my Spring boot application. I&#39;m new in UML and don&#39;t know how to represent an interaction between two classes that uses other classes for it. I have a class that publishes spring events and a class which handles such events. Publisher example:\r\n\r\n   \r\n\r\n     import org.springframework.context.ApplicationEventPublisher;\r\n        \r\n        class Publisher {\r\n        ApplicationEventPublisher springPublisher;\r\n        \r\n        public publishEvent() {\r\n        springPublisher.publishEvent(new SomeEvent());\r\n        }\r\n    \r\n    }\r\n\r\nHandler:\r\n\r\n    import org.springframework.context.event.EventListener;\r\n      \r\n     class EventHandler {\r\n        @EventListener\r\n        public handleEvent(Event event) {\r\n        // some processing\r\n        }\r\n    }\r\n\r\nSo, when I publish some events via Spring ApplicationEventPublisher my handler handles events via method annotated with @EventListener. But it is not a direct calling of the method. How I can illustrate it on the UML diagram?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yYj0F.png","title":"How to represent in UML that one class calls another class method when publishing spring event","body":"<p>I want to draw UML diagram which represents my Spring boot application. I'm new in UML and don't know how to represent an interaction between two classes that uses other classes for it. I have a class that publishes spring events and a class which handles such events. Publisher example:</p>\n<pre><code> import org.springframework.context.ApplicationEventPublisher;\n    \n    class Publisher {\n    ApplicationEventPublisher springPublisher;\n    \n    public publishEvent() {\n    springPublisher.publishEvent(new SomeEvent());\n    }\n\n}\n</code></pre>\n<p>Handler:</p>\n<pre><code>import org.springframework.context.event.EventListener;\n  \n class EventHandler {\n    @EventListener\n    public handleEvent(Event event) {\n    // some processing\n    }\n}\n</code></pre>\n<p>So, when I publish some events via Spring ApplicationEventPublisher my handler handles events via method annotated with @EventListener. But it is not a direct calling of the method. How I can illustrate it on the UML diagram?</p>\n<p><a href=\"https://i.stack.imgur.com/yYj0F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yYj0F.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","oracle-rest-data-services"],"comments":[{"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"score":0,"creation_date":1655466722,"post_id":72657810,"comment_id":128345071,"body_markdown":"555 means your code is failing. You should see the raw SQL/PLS error stack where ORDS is running. You can enable debug/print to screen in ORDS config to see these errors directly in the response while you&#39;re in Dev mode","body":"555 means your code is failing. You should see the raw SQL/PLS error stack where ORDS is running. You can enable debug/print to screen in ORDS config to see these errors directly in the response while you&#39;re in Dev mode"},{"owner":{"account_id":15560654,"reputation":463,"user_id":11225863,"display_name":"Scripta14"},"score":0,"creation_date":1655468188,"post_id":72657810,"comment_id":128345581,"body_markdown":"Thanks ... I&#39;ve never used it. Can you give me same tutorial to config debugger in ORDS?","body":"Thanks ... I&#39;ve never used it. Can you give me same tutorial to config debugger in ORDS?"},{"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"score":0,"creation_date":1655469446,"post_id":72657810,"comment_id":128346004,"body_markdown":"yes but not here, email me at jeff.d.smith@oracle.com","body":"yes but not here, email me at jeff.d.smith@oracle.com"},{"owner":{"account_id":15560654,"reputation":463,"user_id":11225863,"display_name":"Scripta14"},"score":0,"creation_date":1655737766,"post_id":72657810,"comment_id":128396797,"body_markdown":"Thanks Jeff...I solved it in Android code. I encode the string using ```URLEncoder.encode(&quot;BAN_NUM=1;BAN_COD=null;SCARTI=0;&quot;, &quot;UTF-8&quot;);``` ..In this way I  didn&#39;t change plslq code.","body":"Thanks Jeff...I solved it in Android code. I encode the string using <code>URLEncoder.encode(&quot;BAN_NUM=1;BAN_COD=null;SCARTI=0;&quot;, &quot;UTF-8&quot;);</code> ..In this way I  didn&#39;t change plslq code."}],"owner":{"account_id":15560654,"reputation":463,"user_id":11225863,"display_name":"Scripta14"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655462117,"creation_date":1655461004,"question_id":72657810,"body_markdown":"I&#39;m tying to call a web service that I created, but I&#39;m carrying on to obtain the http error 555.\r\nI did the web service using ords (oracle) to develop it. I did many others of those and I didn&#39;t find any problem like this.\r\nThis is the web service wrote with Oracle sql developer and GET as Handler:\r\n\r\n     begin\r\n    declare\r\n    p1 varchar2(4000);\r\n    p2 varchar2(4000);\r\n    p3 varchar2(4000);\r\n    p4 varchar2(4000);\r\n    p5 varchar2(4000);\r\n    p6 varchar2(4000);\r\n    p7 varchar2(4000);\r\n    p8 varchar2(4000);\r\n    p9 varchar2(4000);\r\n    pdt date;\r\n    \r\n    \r\n    outrc number;\r\n    outms varchar2(4000);\r\n    \r\n    \r\n    outs1 varchar2(4000);\r\n    outs2 varchar2(4000);\r\n    outs3 varchar2(4000);\r\n    \r\n    outn1 number;\r\n    outn2 number;\r\n    outn3 number;\r\n    outn4 number;\r\n    outn5 number;\r\n    outn6 number;\r\n    \r\n    begin\r\n         input parameters\r\n        p1 := :p_p1;\r\n        p2 := :p_p2;\r\n        p3 := :p_p3;\r\n        p4 := :p_p4;\r\n        p5 := :p_p5;\r\n        p6 := :p_p6;\r\n        p7 := :p_p7;\r\n        p8 := :p_p8;\r\n        p9 := :p_p9;\r\n        pdt := :p_pdt;\r\n    \r\n        outrc := 0;\r\n        outms := &#39; &#39;;\r\n    \r\n        CASE :p_cmd \r\n        \r\n            WHEN 14 THEN\r\n                BEGIN         \r\n                    apex_303.pro_conferma_dati(p1,to_number(p2),to_number(p3),REPLACE(REPLACE(p4,&#39;%3D&#39;,&#39;=&#39;),&#39;%3B&#39;,&#39;;&#39;),outrc,outms);\r\n                END;\r\n    \r\n        END CASE;\r\n    \r\n        :p_rc := outrc;\r\n        :p_msg := outms;\r\n    \r\n    \r\n        end;\r\n    end;\r\n\r\nThis is my query parameters :\r\n\r\n    p_cmd=14&amp;p_p1=4&amp;p_p2=1000048819&amp;p_p3=03394100140105&amp;p_p4=BAN_NUM=1;BAN_COD=null;SCARTI=0;\r\n\r\nThat query parameters in Postman works fine without changing code of my web service. I can call this:\r\n\r\n    apex_303.pro_conferma_dati(p1,to_number(p2),to_number(p3),p4,outrc,outms);\r\n\r\nand I get back status code 200. I know that the problem is here: `p_p4=BAN_NUM=1;BAN_COD=null;SCARTI=0;`. There are many semicolons and uguals, but I can&#39;t undertstand what it&#39;s the right way to encode.\r\nCan anyone tell me the right way to manage the query parameters? ","title":"Unexpected response code 555 with Volley Request in Android Studio","body":"<p>I'm tying to call a web service that I created, but I'm carrying on to obtain the http error 555.\nI did the web service using ords (oracle) to develop it. I did many others of those and I didn't find any problem like this.\nThis is the web service wrote with Oracle sql developer and GET as Handler:</p>\n<pre><code> begin\ndeclare\np1 varchar2(4000);\np2 varchar2(4000);\np3 varchar2(4000);\np4 varchar2(4000);\np5 varchar2(4000);\np6 varchar2(4000);\np7 varchar2(4000);\np8 varchar2(4000);\np9 varchar2(4000);\npdt date;\n\n\noutrc number;\noutms varchar2(4000);\n\n\nouts1 varchar2(4000);\nouts2 varchar2(4000);\nouts3 varchar2(4000);\n\noutn1 number;\noutn2 number;\noutn3 number;\noutn4 number;\noutn5 number;\noutn6 number;\n\nbegin\n     input parameters\n    p1 := :p_p1;\n    p2 := :p_p2;\n    p3 := :p_p3;\n    p4 := :p_p4;\n    p5 := :p_p5;\n    p6 := :p_p6;\n    p7 := :p_p7;\n    p8 := :p_p8;\n    p9 := :p_p9;\n    pdt := :p_pdt;\n\n    outrc := 0;\n    outms := ' ';\n\n    CASE :p_cmd \n    \n        WHEN 14 THEN\n            BEGIN         \n                apex_303.pro_conferma_dati(p1,to_number(p2),to_number(p3),REPLACE(REPLACE(p4,'%3D','='),'%3B',';'),outrc,outms);\n            END;\n\n    END CASE;\n\n    :p_rc := outrc;\n    :p_msg := outms;\n\n\n    end;\nend;\n</code></pre>\n<p>This is my query parameters :</p>\n<pre><code>p_cmd=14&amp;p_p1=4&amp;p_p2=1000048819&amp;p_p3=03394100140105&amp;p_p4=BAN_NUM=1;BAN_COD=null;SCARTI=0;\n</code></pre>\n<p>That query parameters in Postman works fine without changing code of my web service. I can call this:</p>\n<pre><code>apex_303.pro_conferma_dati(p1,to_number(p2),to_number(p3),p4,outrc,outms);\n</code></pre>\n<p>and I get back status code 200. I know that the problem is here: <code>p_p4=BAN_NUM=1;BAN_COD=null;SCARTI=0;</code>. There are many semicolons and uguals, but I can't undertstand what it's the right way to encode.\nCan anyone tell me the right way to manage the query parameters?</p>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1655471094,"post_id":72657963,"comment_id":128346544,"body_markdown":"Have you had a look at `io.quarkus.arc.deployment.AnnotationsTransformerBuildItem`?","body":"Have you had a look at <code>io.quarkus.arc.deployment.AnnotationsTransformerBuildItem</code>?"},{"owner":{"account_id":11180394,"reputation":85,"user_id":8204618,"display_name":"cheeghi"},"score":0,"creation_date":1655541112,"post_id":72657963,"comment_id":128360106,"body_markdown":"Yes. If I&#39;m not missing something, with that build item you can remove/add annotations. Instead we would like to basically intercept the bean instantiation, much like we do by [wrapping the injection target](https://docs.jboss.org/weld/reference/latest/en-US/html/extend.html#_wrapping_an_injectiontarget) with the old CDI","body":"Yes. If I&#39;m not missing something, with that build item you can remove/add annotations. Instead we would like to basically intercept the bean instantiation, much like we do by <a href=\"https://docs.jboss.org/weld/reference/latest/en-US/html/extend.html#_wrapping_an_injectiontarget\" rel=\"nofollow noreferrer\">wrapping the injection target</a> with the old CDI"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1655705146,"post_id":72657963,"comment_id":128385979,"body_markdown":"AFAIK, there is no way to intercept the bean instantiation","body":"AFAIK, there is no way to intercept the bean instantiation"},{"owner":{"account_id":11180394,"reputation":85,"user_id":8204618,"display_name":"cheeghi"},"score":1,"creation_date":1655719383,"post_id":72657963,"comment_id":128390308,"body_markdown":"Ok, we&#39;ll work around this. Thank you anyway","body":"Ok, we&#39;ll work around this. Thank you anyway"}],"owner":{"account_id":11180394,"reputation":85,"user_id":8204618,"display_name":"cheeghi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655461861,"creation_date":1655461861,"question_id":72657963,"body_markdown":"At our company we are trying to migrate some of our applications from `J2EE to Quarkus`.\r\n\r\nFor the J2EE apps we have a `proprietary framework` that performs dependency injection based on custom annotations applied on a field. We have a `CDI extension` in which we override the beans `InjectionTarget` and at bean&#39;s instantiation time we set, through reflection, the field value based on the annotation present, like this:\r\n\r\n    @ApplicationScoped\r\n    public class MyBean {\r\n\r\n\t    @CustomAnnotation\r\n\t    private String myField; // injected by our framework\r\n\r\nWe would like to migrate our applications keeping this behaviour. Is there any way to do this `with Quarkus`? We have seen that with Quarkus extensions we can transform the qualifiers of an injection point, like this:\r\n\r\n    @BuildStep\r\n    InjectionPointTransformerBuildItem transformPropertyAnnotation(final BeanArchiveIndexBuildItem beanArchiveIndex) {\r\n        return new InjectionPointTransformerBuildItem(new InjectionPointsTransformer() {\r\n            public void transform(TransformationContext context) {\r\n                // do my transformations\r\n            }\r\n        }\r\n    }\r\n\r\nBut we didn&#39;t find a way to &quot;enhance&quot; how a field is being initialized, even with Quarkus recorders.","title":"Quarkus Extension - write fields annotated with a custom annotation","body":"<p>At our company we are trying to migrate some of our applications from <code>J2EE to Quarkus</code>.</p>\n<p>For the J2EE apps we have a <code>proprietary framework</code> that performs dependency injection based on custom annotations applied on a field. We have a <code>CDI extension</code> in which we override the beans <code>InjectionTarget</code> and at bean's instantiation time we set, through reflection, the field value based on the annotation present, like this:</p>\n<pre><code>@ApplicationScoped\npublic class MyBean {\n\n    @CustomAnnotation\n    private String myField; // injected by our framework\n</code></pre>\n<p>We would like to migrate our applications keeping this behaviour. Is there any way to do this <code>with Quarkus</code>? We have seen that with Quarkus extensions we can transform the qualifiers of an injection point, like this:</p>\n<pre><code>@BuildStep\nInjectionPointTransformerBuildItem transformPropertyAnnotation(final BeanArchiveIndexBuildItem beanArchiveIndex) {\n    return new InjectionPointTransformerBuildItem(new InjectionPointsTransformer() {\n        public void transform(TransformationContext context) {\n            // do my transformations\n        }\n    }\n}\n</code></pre>\n<p>But we didn't find a way to &quot;enhance&quot; how a field is being initialized, even with Quarkus recorders.</p>\n"},{"tags":["java","spring-integration","spring-integration-dsl"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1654609212,"post_id":72528147,"comment_id":128127687,"body_markdown":"Perhaps you have something else in the flow which converts your headers to strings. Please, share with us more code to reproduce.","body":"Perhaps you have something else in the flow which converts your headers to strings. Please, share with us more code to reproduce."}],"answers":[{"tags":[],"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655461745,"creation_date":1654618568,"answer_id":72534520,"question_id":72528147,"body_markdown":"I created a stand alone project to reproduce the error, and that added in the header as an expected AtomicInteger. \r\n\r\nThen I debugged our main application and it turns out there&#39;s an  OpenTracingChannelInterceptor which is re-writing all headers as Strings.\r\n\r\nThis library is the culprit:\r\n\r\n```io.opentracing.contrib:opentracing-spring-messaging:0.0.5``` which is transitive dependency of ```io.opentracing.contrib:opentracing-spring-cloud-starter-jaeger```\r\n\r\nIt looks like adding this library just breaks Spring Integration.\r\n\r\nThe fix is to exclude the tracing autoconfiguration:\r\n\r\n```@SpringBootApplication(exclude = {OpenTracingChannelInterceptorAutoConfiguration.class})```\r\n\r\nUpdate:\r\n\r\nThe opentracing library is now longer maintained so the long term fix for this would be to migrate to a different tracing library that hopefully doesn&#39;t have the same type of issue.\r\n\r\nSee \r\n\r\nhttps://www.cncf.io/blog/2022/01/31/cncf-archives-the-opentracing-project/","title":"Spring Integration - object placed in header is returned as String rather than the object type","body":"<p>I created a stand alone project to reproduce the error, and that added in the header as an expected AtomicInteger.</p>\n<p>Then I debugged our main application and it turns out there's an  OpenTracingChannelInterceptor which is re-writing all headers as Strings.</p>\n<p>This library is the culprit:</p>\n<p><code>io.opentracing.contrib:opentracing-spring-messaging:0.0.5</code> which is transitive dependency of <code>io.opentracing.contrib:opentracing-spring-cloud-starter-jaeger</code></p>\n<p>It looks like adding this library just breaks Spring Integration.</p>\n<p>The fix is to exclude the tracing autoconfiguration:</p>\n<p><code>@SpringBootApplication(exclude = {OpenTracingChannelInterceptorAutoConfiguration.class})</code></p>\n<p>Update:</p>\n<p>The opentracing library is now longer maintained so the long term fix for this would be to migrate to a different tracing library that hopefully doesn't have the same type of issue.</p>\n<p>See</p>\n<p><a href=\"https://www.cncf.io/blog/2022/01/31/cncf-archives-the-opentracing-project/\" rel=\"nofollow noreferrer\">https://www.cncf.io/blog/2022/01/31/cncf-archives-the-opentracing-project/</a></p>\n"}],"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655461745,"creation_date":1654590529,"question_id":72528147,"body_markdown":"I&#39;ve got an integration flow written in the Java DSL\r\n\r\nI&#39;m enriching the header of a message to include an AtomicInteger:\r\n\r\n```   \r\n.enrichHeaders(t -&gt; t.headerFunction(pollTime,message -&gt; new AtomicInteger()))\r\n```\r\n\r\nIf I put a breakpoint on the subsequent handle method in the same flow I can see the  header and it&#39;s a String not an AtomicInteger.\r\n\r\nSo if I try to retrieve it in another flow like so I get an illegal argument exception:\r\n\r\n```\r\nmessage.getHeaders().get(pollTime,AtomicInteger.class).getAndAdd(delay);\r\n\r\n\r\nCaused by: java.lang.IllegalArgumentException: Incorrect type specified for header &#39;pollTime&#39;. Expected [class java.util.concurrent.atomic.AtomicInteger] but actual type is [class java.lang.String]\r\n```\r\n\r\nIf I do the same thing in the Kotlin DSL it all works fine:\r\n\r\n```\r\n       enrichHeaders {\r\n            headerFunction&lt;Any&gt;(pollCount) {\r\n                AtomicInteger()\r\n            }\r\n        }\r\n```\r\n\r\nDoes anyone have any idea of what I am doing wrong ?","title":"Spring Integration - object placed in header is returned as String rather than the object type","body":"<p>I've got an integration flow written in the Java DSL</p>\n<p>I'm enriching the header of a message to include an AtomicInteger:</p>\n<pre><code>.enrichHeaders(t -&gt; t.headerFunction(pollTime,message -&gt; new AtomicInteger()))\n</code></pre>\n<p>If I put a breakpoint on the subsequent handle method in the same flow I can see the  header and it's a String not an AtomicInteger.</p>\n<p>So if I try to retrieve it in another flow like so I get an illegal argument exception:</p>\n<pre><code>message.getHeaders().get(pollTime,AtomicInteger.class).getAndAdd(delay);\n\n\nCaused by: java.lang.IllegalArgumentException: Incorrect type specified for header 'pollTime'. Expected [class java.util.concurrent.atomic.AtomicInteger] but actual type is [class java.lang.String]\n</code></pre>\n<p>If I do the same thing in the Kotlin DSL it all works fine:</p>\n<pre><code>       enrichHeaders {\n            headerFunction&lt;Any&gt;(pollCount) {\n                AtomicInteger()\n            }\n        }\n</code></pre>\n<p>Does anyone have any idea of what I am doing wrong ?</p>\n"},{"tags":["java","jsf","primefaces","nullpointerexception","el"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1655451887,"post_id":72655891,"comment_id":128340220,"body_markdown":"Because `Z` was null?","body":"Because <code>Z</code> was null?"},{"owner":{"account_id":15562461,"reputation":53,"user_id":11227242,"display_name":"Martin Hofman"},"score":0,"creation_date":1655452155,"post_id":72655891,"comment_id":128340303,"body_markdown":"Exception is on line &quot;    return zoj.getStateOfDispatchToWD() == StateOfDispatchToWD.SUCCESSFULLY_DISPATCH;\n&quot;","body":"Exception is on line &quot;    return zoj.getStateOfDispatchToWD() == StateOfDispatchToWD.SUCCESSFULLY_DISPATCH; &quot;"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1655453003,"post_id":72655891,"comment_id":128340631,"body_markdown":"No it isn&#39;t, Read the stack trace. It is in the EL, in the expression `#{Z.isSuccessfullySentToWD()}`. There is nothing to suggest you got any further.","body":"No it isn&#39;t, Read the stack trace. It is in the EL, in the expression <code>#{Z.isSuccessfullySentToWD()}</code>. There is nothing to suggest you got any further."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1655453048,"post_id":72655891,"comment_id":128340650,"body_markdown":"Duplicate of [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Duplicate of <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":15059358,"reputation":2281,"user_id":10868666,"display_name":"Adam Waldenberg"},"score":0,"creation_date":1655501130,"post_id":72655891,"comment_id":128355690,"body_markdown":"Can&#39;t tell if this is a duplicate without more information. Please provide a runnable example - specifically show exactly how `zoj` is initialized.","body":"Can&#39;t tell if this is a duplicate without more information. Please provide a runnable example - specifically show exactly how <code>zoj</code> is initialized."}],"answers":[{"tags":[],"owner":{"account_id":25171650,"reputation":18,"user_id":19014404,"display_name":"EffectiveIvana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655461669,"creation_date":1655461647,"answer_id":72657933,"question_id":72655891,"body_markdown":"Probably the scope of Z is wrong, try to put it in session or application scope","title":"NullPointerException but why?","body":"<p>Probably the scope of Z is wrong, try to put it in session or application scope</p>\n"}],"owner":{"account_id":15562461,"reputation":53,"user_id":11227242,"display_name":"Martin Hofman"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1655462655,"answer_count":1,"score":-2,"last_activity_date":1655461669,"creation_date":1655451609,"question_id":72655891,"body_markdown":"I have class where\r\n\r\n        @Enumerated(EnumType.STRING)\r\n    private StateOfDispatchToWD stateOfDispatchToWD = StateOfDispatchToWD.NONE;\r\n\r\nAnd getter and setter:\r\n\r\n    public StateOfDispatchToWD getStateOfDispatchToWD() {\r\n        return stateOfDispatchToWD;\r\n    }\r\n    \r\n    public void setStateOfDispatchToWD(StateOfDispatchToWD stateOfDispatchToWD) {\r\n        this.stateOfDispatchToWD = stateOfDispatchToWD;\r\n    }\r\n\r\nand method:\r\n\r\n    public boolean isSuccessfullySentToWD() {\r\n        return zoj.getStateOfDispatchToWD() == StateOfDispatchToWD.SUCCESSFULLY_DISPATCH;\r\n    }\r\nand call it from JSF:\r\n\r\n                &lt;p:outputLabel value=&quot;OK&quot;\r\n                               rendered=&quot;#{Z.isSuccessfullySentToWD()}&quot;/&gt;\r\nand sometimes I get: \r\n\r\n    [javax.enterprise.resource.webcontainer.jsf.lifecycle]\r\n    javax.el.ELException: //content/resources/zo.xhtml @240,92 rendered=&quot;#{Z.isSuccessfullySentToWD()}&quot;:\r\n    java.lang.NullPointerException:\r\n    javax.faces.FacesException:\r\n    javax.el.ELException: //content/resources/zo.xhtml @240,92 rendered=&quot;#{Z.isSuccessfullySentToWD()}&quot;:\r\n    java.lang.NullPointerException\r\n\r\nbut why? I&#39;m afraid I don&#39;t understand. Thanks a lot.","title":"NullPointerException but why?","body":"<p>I have class where</p>\n<pre><code>    @Enumerated(EnumType.STRING)\nprivate StateOfDispatchToWD stateOfDispatchToWD = StateOfDispatchToWD.NONE;\n</code></pre>\n<p>And getter and setter:</p>\n<pre><code>public StateOfDispatchToWD getStateOfDispatchToWD() {\n    return stateOfDispatchToWD;\n}\n\npublic void setStateOfDispatchToWD(StateOfDispatchToWD stateOfDispatchToWD) {\n    this.stateOfDispatchToWD = stateOfDispatchToWD;\n}\n</code></pre>\n<p>and method:</p>\n<pre><code>public boolean isSuccessfullySentToWD() {\n    return zoj.getStateOfDispatchToWD() == StateOfDispatchToWD.SUCCESSFULLY_DISPATCH;\n}\n</code></pre>\n<p>and call it from JSF:</p>\n<pre><code>            &lt;p:outputLabel value=&quot;OK&quot;\n                           rendered=&quot;#{Z.isSuccessfullySentToWD()}&quot;/&gt;\n</code></pre>\n<p>and sometimes I get:</p>\n<pre><code>[javax.enterprise.resource.webcontainer.jsf.lifecycle]\njavax.el.ELException: //content/resources/zo.xhtml @240,92 rendered=&quot;#{Z.isSuccessfullySentToWD()}&quot;:\njava.lang.NullPointerException:\njavax.faces.FacesException:\njavax.el.ELException: //content/resources/zo.xhtml @240,92 rendered=&quot;#{Z.isSuccessfullySentToWD()}&quot;:\njava.lang.NullPointerException\n</code></pre>\n<p>but why? I'm afraid I don't understand. Thanks a lot.</p>\n"},{"tags":["java","nginx","terraform","nginx-ingress","gcp-load-balancer"],"comments":[{"owner":{"account_id":11380463,"reputation":14217,"user_id":8343484,"display_name":"Marko E"},"score":0,"creation_date":1655462397,"post_id":72657857,"comment_id":128343686,"body_markdown":"Please do not post errors as screenshots. It is much more valuable to have it in text. Would you mind changing that in your question?","body":"Please do not post errors as screenshots. It is much more valuable to have it in text. Would you mind changing that in your question?"},{"owner":{"account_id":16603262,"reputation":99,"user_id":11998360,"display_name":"Ilian Tetradev"},"score":0,"creation_date":1655462773,"post_id":72657857,"comment_id":128343822,"body_markdown":"The hyper link text matches the error, I just provided the error screenshot for reference.","body":"The hyper link text matches the error, I just provided the error screenshot for reference."}],"owner":{"account_id":16603262,"reputation":99,"user_id":11998360,"display_name":"Ilian Tetradev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655461201,"creation_date":1655461201,"question_id":72657857,"body_markdown":"I have a Spring boot application with several components to it that talk to each other. There is an Admin panel that manages accounts and you have the functionality to migrate accounts. If an account has some data to it migrating it could take upwards of 60 seconds as it needs to do a backup, delete the service, and re-create it with the newly selected image.\r\n\r\nIf I run the applications locally but still connect them to the GCP environment and I attempt to migrate an account it works fine. But when pushed to master and built on the GCP environment when I try to migrate an account I get the following error:\r\n\r\n[504 Gateway Time-out][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5XQiY.png\r\n\r\nSo I have ruled out that it&#39;s not an issue with my java application and the timeout is potentially coming from the load balancer. I have the following errors in the GCP logs:\r\n\r\nIn my ingress-controller I get: \r\n\r\n    022-06-17T09:17:48.165983390Z2022/06/17 09:17:48 [error] 1922#1922: *1134692 upstream timed out (110: Operation timed out) while reading response header from upstream, client: 80.192.45.186, server: _, request: &quot;POST /admin/accounts/123456/edit HTTP/1.1&quot;, upstream: &quot;http://XX.XX.XX.XXX:8080/accounts/123456/edit&quot;, host: &quot;somehost.com&quot;, referrer: &quot;https://somehost.com/admin/accounts/123456/edit&quot;\r\n\r\nAnd on in the Logs Explorer, I get the following: \r\n\r\n    {\r\n      &quot;textPayload&quot;: &quot;2022/06/17 09:17:48 [error] 1922#1922: *1134692 upstream timed out (110: Operation timed out) while reading response header from upstream, client: 80.192.45.186, server: _, request: \\&quot;POST /admin/accounts/123456/edit HTTP/1.1\\&quot;, upstream: \\&quot;http://XX.XX.XX.XXX:8080/accounts/123456/edit\\&quot;, host: \\&quot;somehost.com\\&quot;, referrer: \\&quot;https://somehost.com/admin/accounts/123456/edit\\&quot;&quot;,\r\n      &quot;insertId&quot;: &quot;03uw65hlnarbu7v1&quot;,\r\n      &quot;resource&quot;: {\r\n        &quot;type&quot;: &quot;k8s_container&quot;,\r\n        &quot;labels&quot;: {\r\n          &quot;namespace_name&quot;: &quot;ingress-nginx&quot;,\r\n          &quot;container_name&quot;: &quot;controller&quot;,\r\n          &quot;project_id&quot;: &quot;my_project&quot;,\r\n          &quot;cluster_name&quot;: &quot;my_cluster&quot;,\r\n          &quot;pod_name&quot;: &quot;ingress-nginx-controller-cb576846d-6xxvf&quot;,\r\n          &quot;location&quot;: &quot;europe-west1&quot;\r\n        }\r\n      },\r\n      &quot;timestamp&quot;: &quot;2022-06-17T09:17:48.165983390Z&quot;,\r\n      &quot;severity&quot;: &quot;ERROR&quot;,\r\n      &quot;labels&quot;: {\r\n        &quot;k8s-pod/pod-template-hash&quot;: &quot;cb576846d&quot;,\r\n        &quot;k8s-pod/app_kubernetes_io/instance&quot;: &quot;ingress-nginx&quot;,\r\n        &quot;compute.googleapis.com/resource_name&quot;: &quot;my_resource&quot;,\r\n        &quot;k8s-pod/app_kubernetes_io/name&quot;: &quot;ingress-nginx&quot;,\r\n        &quot;k8s-pod/app_kubernetes_io/component&quot;: &quot;controller&quot;\r\n      },\r\n      &quot;logName&quot;: &quot;projects/my_project/logs/stderr&quot;,\r\n      &quot;receiveTimestamp&quot;: &quot;2022-06-17T09:17:50.861580453Z&quot;\r\n    }\r\n\r\nI have tried to increase the timeouts in my terraform scripts but to no avail. I have also tried to increase the timeouts from the GCP (as a proof of concept) but they do not seem to take any effect.\r\n\r\nThis is my terraform script for the ingress-controller:\r\n\r\n    resource &quot;kubernetes_ingress&quot; &quot;nginx-ingress&quot; {\r\n      metadata {\r\n        name      = &quot;nginx-ingress&quot;\r\n        namespace = kubernetes_namespace.nginx.metadata[0].name\r\n        annotations = {\r\n          &quot;kubernetes.io/ingress.class&quot;                 = &quot;gce&quot;\r\n          &quot;kubernetes.io/ingress.global-static-ip-name&quot; = &quot;ext-lb&quot;\r\n          &quot;ingress.gcp.kubernetes.io/pre-shared-cert&quot;   = local.ssl_cert_name\r\n          &quot;networking.gke.io/v1beta1.FrontendConfig&quot;    = kubernetes_manifest.nginx_frontend_config.manifest[&quot;metadata&quot;][&quot;name&quot;]\r\n        }\r\n      }\r\n      spec {\r\n        rule {\r\n          host = local.domain_name\r\n          http {\r\n            path {\r\n              backend {\r\n                service_name = &quot;ingress-nginx-controller&quot;\r\n                service_port = 80\r\n              }\r\n            }\r\n            path {\r\n              path = &quot;/secured/*&quot;\r\n              backend {\r\n                service_name = &quot;ingress-iap-nginx-controller&quot;\r\n                service_port = 80\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nWhat might be causing this timeout and how do I increase it? ","title":"Nginx 504 Gateway Time-out when running in GCP","body":"<p>I have a Spring boot application with several components to it that talk to each other. There is an Admin panel that manages accounts and you have the functionality to migrate accounts. If an account has some data to it migrating it could take upwards of 60 seconds as it needs to do a backup, delete the service, and re-create it with the newly selected image.</p>\n<p>If I run the applications locally but still connect them to the GCP environment and I attempt to migrate an account it works fine. But when pushed to master and built on the GCP environment when I try to migrate an account I get the following error:</p>\n<p><a href=\"https://i.stack.imgur.com/5XQiY.png\" rel=\"nofollow noreferrer\">504 Gateway Time-out</a></p>\n<p>So I have ruled out that it's not an issue with my java application and the timeout is potentially coming from the load balancer. I have the following errors in the GCP logs:</p>\n<p>In my ingress-controller I get:</p>\n<pre><code>022-06-17T09:17:48.165983390Z2022/06/17 09:17:48 [error] 1922#1922: *1134692 upstream timed out (110: Operation timed out) while reading response header from upstream, client: 80.192.45.186, server: _, request: &quot;POST /admin/accounts/123456/edit HTTP/1.1&quot;, upstream: &quot;http://XX.XX.XX.XXX:8080/accounts/123456/edit&quot;, host: &quot;somehost.com&quot;, referrer: &quot;https://somehost.com/admin/accounts/123456/edit&quot;\n</code></pre>\n<p>And on in the Logs Explorer, I get the following:</p>\n<pre><code>{\n  &quot;textPayload&quot;: &quot;2022/06/17 09:17:48 [error] 1922#1922: *1134692 upstream timed out (110: Operation timed out) while reading response header from upstream, client: 80.192.45.186, server: _, request: \\&quot;POST /admin/accounts/123456/edit HTTP/1.1\\&quot;, upstream: \\&quot;http://XX.XX.XX.XXX:8080/accounts/123456/edit\\&quot;, host: \\&quot;somehost.com\\&quot;, referrer: \\&quot;https://somehost.com/admin/accounts/123456/edit\\&quot;&quot;,\n  &quot;insertId&quot;: &quot;03uw65hlnarbu7v1&quot;,\n  &quot;resource&quot;: {\n    &quot;type&quot;: &quot;k8s_container&quot;,\n    &quot;labels&quot;: {\n      &quot;namespace_name&quot;: &quot;ingress-nginx&quot;,\n      &quot;container_name&quot;: &quot;controller&quot;,\n      &quot;project_id&quot;: &quot;my_project&quot;,\n      &quot;cluster_name&quot;: &quot;my_cluster&quot;,\n      &quot;pod_name&quot;: &quot;ingress-nginx-controller-cb576846d-6xxvf&quot;,\n      &quot;location&quot;: &quot;europe-west1&quot;\n    }\n  },\n  &quot;timestamp&quot;: &quot;2022-06-17T09:17:48.165983390Z&quot;,\n  &quot;severity&quot;: &quot;ERROR&quot;,\n  &quot;labels&quot;: {\n    &quot;k8s-pod/pod-template-hash&quot;: &quot;cb576846d&quot;,\n    &quot;k8s-pod/app_kubernetes_io/instance&quot;: &quot;ingress-nginx&quot;,\n    &quot;compute.googleapis.com/resource_name&quot;: &quot;my_resource&quot;,\n    &quot;k8s-pod/app_kubernetes_io/name&quot;: &quot;ingress-nginx&quot;,\n    &quot;k8s-pod/app_kubernetes_io/component&quot;: &quot;controller&quot;\n  },\n  &quot;logName&quot;: &quot;projects/my_project/logs/stderr&quot;,\n  &quot;receiveTimestamp&quot;: &quot;2022-06-17T09:17:50.861580453Z&quot;\n}\n</code></pre>\n<p>I have tried to increase the timeouts in my terraform scripts but to no avail. I have also tried to increase the timeouts from the GCP (as a proof of concept) but they do not seem to take any effect.</p>\n<p>This is my terraform script for the ingress-controller:</p>\n<pre><code>resource &quot;kubernetes_ingress&quot; &quot;nginx-ingress&quot; {\n  metadata {\n    name      = &quot;nginx-ingress&quot;\n    namespace = kubernetes_namespace.nginx.metadata[0].name\n    annotations = {\n      &quot;kubernetes.io/ingress.class&quot;                 = &quot;gce&quot;\n      &quot;kubernetes.io/ingress.global-static-ip-name&quot; = &quot;ext-lb&quot;\n      &quot;ingress.gcp.kubernetes.io/pre-shared-cert&quot;   = local.ssl_cert_name\n      &quot;networking.gke.io/v1beta1.FrontendConfig&quot;    = kubernetes_manifest.nginx_frontend_config.manifest[&quot;metadata&quot;][&quot;name&quot;]\n    }\n  }\n  spec {\n    rule {\n      host = local.domain_name\n      http {\n        path {\n          backend {\n            service_name = &quot;ingress-nginx-controller&quot;\n            service_port = 80\n          }\n        }\n        path {\n          path = &quot;/secured/*&quot;\n          backend {\n            service_name = &quot;ingress-iap-nginx-controller&quot;\n            service_port = 80\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>What might be causing this timeout and how do I increase it?</p>\n"},{"tags":["java","serialization","jackson","deserialization","pojo"],"comments":[{"owner":{"account_id":18903505,"reputation":754,"user_id":13791091,"display_name":"aeberhart"},"score":0,"creation_date":1655312889,"post_id":72634007,"comment_id":128305044,"body_markdown":"seem like profileNode.get(&quot;vorname&quot;) returns null and causes the NPE bevause the property is &quot;/brief/versicherungsnehmer/vorname&quot; and not &quot;vorname&quot;","body":"seem like profileNode.get(&quot;vorname&quot;) returns null and causes the NPE bevause the property is &quot;/brief/versicherungsnehmer/vorname&quot; and not &quot;vorname&quot;"},{"owner":{"account_id":11373989,"reputation":91,"user_id":8338829,"display_name":"Pascal3366"},"score":0,"creation_date":1655450966,"post_id":72634007,"comment_id":128339905,"body_markdown":"@aeberhart please see the print out of all the elements inside profileNode. It looks like those child nodes really do not exist. However in the json file the values are there. How can I get these values correctly from the json file?","body":"@aeberhart please see the print out of all the elements inside profileNode. It looks like those child nodes really do not exist. However in the json file the values are there. How can I get these values correctly from the json file?"}],"answers":[{"tags":[],"owner":{"account_id":11373989,"reputation":91,"user_id":8338829,"display_name":"Pascal3366"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655460449,"creation_date":1655460449,"answer_id":72657693,"question_id":72634007,"body_markdown":"Ok so I was able to fix this issue and getting the correct values by modifying my deserialize() function like this:\r\n\r\n```java\r\n@Override\r\n    public Properties deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\r\n       JsonNode profileNode = \r\n          jsonParser.getCodec().readTree(jsonParser);\r\n       Properties property = new Properties();\r\n        \r\n   System.out.println(profileNode.get(&quot;properties&quot;).get(&quot;anon&quot;).get(&quot;/brief/versicherungsnehmer/vorname&quot;).booleanValue());\r\n        property.setVorname(profileNode.get(&quot;properties&quot;).get(&quot;anon&quot;).get(&quot;/brief/versicherungsnehmer/vorname&quot;).booleanValue());\r\n\r\n System.out.println(profileNode.get(&quot;properties&quot;).get(&quot;anon&quot;).get(&quot;/brief/versicherungsnehmer/nachname&quot;).booleanValue());\r\n        property.setNachname(profileNode.get(&quot;properties&quot;).get(&quot;anon&quot;).get(&quot;/brief/versicherungsnehmer/nachname&quot;).booleanValue());\r\n\r\nreturn property;\r\n\r\n}\r\n```","title":"NullPointerException while trying to read JSON and trying to convert it to a POJO (deserialization)","body":"<p>Ok so I was able to fix this issue and getting the correct values by modifying my deserialize() function like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public Properties deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\n       JsonNode profileNode = \n          jsonParser.getCodec().readTree(jsonParser);\n       Properties property = new Properties();\n        \n   System.out.println(profileNode.get(&quot;properties&quot;).get(&quot;anon&quot;).get(&quot;/brief/versicherungsnehmer/vorname&quot;).booleanValue());\n        property.setVorname(profileNode.get(&quot;properties&quot;).get(&quot;anon&quot;).get(&quot;/brief/versicherungsnehmer/vorname&quot;).booleanValue());\n\n System.out.println(profileNode.get(&quot;properties&quot;).get(&quot;anon&quot;).get(&quot;/brief/versicherungsnehmer/nachname&quot;).booleanValue());\n        property.setNachname(profileNode.get(&quot;properties&quot;).get(&quot;anon&quot;).get(&quot;/brief/versicherungsnehmer/nachname&quot;).booleanValue());\n\nreturn property;\n\n}\n</code></pre>\n"}],"owner":{"account_id":11373989,"reputation":91,"user_id":8338829,"display_name":"Pascal3366"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1329,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72657693,"answer_count":1,"score":1,"last_activity_date":1655460449,"creation_date":1655306689,"question_id":72634007,"body_markdown":"Our goal is to: parse a json file and deserialize it into a java POJO\r\n\r\nThe stacktrace looks like this:\r\n\r\n```\r\n16:39:21,628 ERROR [stderr] (default task-1) java.lang.NullPointerException\r\n16:39:21,628 ERROR [stderr] (default task-1) \tat deployment.webservice_child.war //ProfileDeserializer.deserialize(ProfileDeserializer.java:31)\r\n16:39:21,628 ERROR [stderr] (default task-1) \tat deployment.webservice_child.war //ProfileDeserializer.deserialize(ProfileDeserializer.java:16)\r\n```\r\n\r\nThe files we are trying to parse look like this:\r\n\r\n```json\r\n{\r\n  &quot;properties&quot;: {\r\n    &quot;anon&quot;: {\r\n      &quot;/brief/versicherungsnehmer/vorname&quot;: true,\r\n      &quot;/brief/versicherungsnehmer/nachname&quot;: true\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nOur Json Parser class called `JSONMuncher` looks like this:\r\n\r\n```java\r\npublic class JSONMuncher {\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    public JSONMuncher() {\r\n        this.objectMapper = createObjectMapper();\r\n    }\r\n\r\n    public ObjectMapper getObjectMapper() {\r\n        return objectMapper;\r\n    }\r\n\r\n    private static ObjectMapper createObjectMapper() {\r\n        SimpleModule module = new SimpleModule()\r\n                .addSerializer(Properties.class, new ProfileSerializer())\r\n                .addDeserializer(Properties.class, new ProfileDeserializer());\r\n\r\n        return new ObjectMapper(new JsonFactory()\r\n                .disable(JsonGenerator.Feature.AUTO_CLOSE_JSON_CONTENT))\r\n                .registerModule(module);\r\n    }\r\n    public Object readConfig(String filepath) {\r\n        try {\r\n            ObjectMapper mapper = createObjectMapper();\r\n            SimpleModule module = new SimpleModule();\r\n            mapper.configure(Feature.AUTO_CLOSE_SOURCE, true);\r\n            mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            // do not serialize null value fields\r\n            mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n            mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n            module.addSerializer(Properties.class, new ProfileSerializer());\r\n            module.addDeserializer(Properties.class, new ProfileDeserializer());\r\n            mapper.registerModule(module);\r\n\r\n            InputStream is = new FileInputStream(filepath);\r\n            System.out.println(&quot;[DEBUG!!!!!!!!!111!!!]: &quot; + is.read());\r\n            Properties anon = mapper.readValue(is, Properties.class);\r\n            \r\n            System.out.println(anon.getVorname());\r\n            System.out.println(anon.getNachname());\r\n\r\n            return anon;\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Beep Boop Err!!! &#129302;&quot;);\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nThis is our ProfileSerializer Class:\r\n\r\n```java\r\nimport com.fasterxml.jackson.core.JsonGenerator;\r\nimport com.fasterxml.jackson.databind.SerializerProvider;\r\nimport com.fasterxml.jackson.databind.ser.std.StdSerializer;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class ProfileSerializer extends StdSerializer&lt;Properties&gt; {\r\n\r\n    public ProfileSerializer() {\r\n        this(null);\r\n    }\r\n\r\n    public ProfileSerializer(Class&lt;Properties&gt; src) {\r\n        super(src);\r\n    }\r\n\r\n    @Override\r\n    public void serialize(Properties property, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n        gen.writeStartObject();\r\n\r\n        if (property != null) {\r\n            gen.writeObjectField(&quot;vorname&quot;, property.getVorname());\r\n            gen.writeObjectField(&quot;nachname&quot;, property.getNachname());\r\n        }\r\n\r\n        gen.writeEndObject();\r\n    }\r\n}\r\n```\r\n\r\nThis is our ProfileDeserializer Class:\r\n\r\n```java\r\nimport com.fasterxml.jackson.core.JsonGenerator;\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.DeserializationContext;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.SerializerProvider;\r\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\nimport com.fasterxml.jackson.databind.JsonDeserializer;\r\nimport com.fasterxml.jackson.databind.ser.std.StdSerializer;\r\n\r\nimport java.io.IOException;\r\n\r\n@JsonDeserialize(using = Properties.class)\r\npublic class ProfileDeserializer extends com.fasterxml.jackson.databind.JsonDeserializer&lt;Properties&gt; {\r\n\r\n    public ProfileDeserializer() {\r\n        this(null);\r\n    }\r\n\r\n    public ProfileDeserializer(Class&lt;?&gt; vc) {\r\n        super();\r\n    }\r\n\r\n    @Override\r\n    public Properties deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\r\n        JsonNode profileNode = jsonParser.getCodec().readTree(jsonParser);\r\n        Properties property = new Properties();\r\n        property.setVorname(profileNode.get(&quot;vorname&quot;).booleanValue());\r\n        property.setNachname(profileNode.get(&quot;nachname&quot;).booleanValue());\r\n        //property.un\r\n\r\n        return property;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd this is the `Properties` class:\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.DeserializationContext;\r\nimport com.fasterxml.jackson.databind.JsonDeserializer;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\n//import org.codehaus.jackson.map.annotate.JsonDeserialize;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Map;\r\n\r\n\r\npublic class Properties extends com.fasterxml.jackson.databind.JsonDeserializer&lt;Properties&gt; {\r\n    private boolean vorname;\r\n    private boolean nachname;\r\n\r\n    public void setVorname(boolean vorname) {\r\n        this.vorname = vorname;\r\n    }\r\n\r\n    public void setNachname(boolean nachname) {\r\n        this.nachname = nachname;\r\n    }\r\n\r\n    public boolean getVorname() {\r\n        return this.vorname;\r\n    }\r\n\r\n    public boolean getNachname() {\r\n        return this.nachname;\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    @JsonProperty(&quot;anon&quot;)\r\n    private void unpackNested(Map&lt;Boolean, Object&gt; anon) {\r\n        //this.vorname = (boolean) anon.get(&quot;/brief/versicherungsnehmer/vorname&quot;);\r\n        //this.nachname = (boolean) anon.get(&quot;/brief/versicherungsnehmer/nachname&quot;);\r\n        Map&lt;Boolean,Boolean&gt; vorname = (Map&lt;Boolean,Boolean&gt;) anon.get(&quot;/brief/versicherungsnehmer/vorname&quot;);\r\n        Map&lt;Boolean,Boolean&gt; nachname = (Map&lt;Boolean,Boolean&gt;) anon.get(&quot;/brief/versicherungsnehmer/nachname&quot;);\r\n\r\n        this.vorname = (boolean) vorname.get(&quot;vorname&quot;);\r\n        this.nachname = (boolean) nachname.get(&quot;nachname&quot;);\r\n        //Map&lt;Boolean,Boolean&gt; owner = (Map&lt;Boolean,Boolean&gt;)anon.get(&quot;owner&quot;);\r\n        //this.ownerName = owner.get(&quot;name&quot;);\r\n    }\r\n\r\n    @Override\r\n    public Properties deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\r\n        JsonNode profileNode = jsonParser.getCodec().readTree(jsonParser);\r\n        Properties property = new Properties();\r\n        property.setVorname(profileNode.get(&quot;vorname&quot;).booleanValue());\r\n        property.setNachname(profileNode.get(&quot;nachname&quot;).booleanValue());\r\n        //property.un\r\n\r\n        return property;\r\n    }\r\n\r\n    /*@Override\r\n    public Object deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\r\n        return null;\r\n    }*/\r\n}\r\n```\r\n\r\nThe `Properties` class is used to store the json values in POJOs.\r\n\r\n\r\n\r\nWe tried:\r\n - changing the inherited class type of the class Properties\r\n - changing the vendor for fasterxml from `codehaus` to `fasterxml` because all of the examples used fasterxml.\r\n - changing the line `this.vorname = (boolean) anon.get(&quot;/brief/versicherungsnehmer/vorname&quot;);` to `Map&lt;Boolean,Boolean&gt; vorname = (Map&lt;Boolean,Boolean&gt;) anon.get(&quot;/brief/versicherungsnehmer/vorname&quot;);`\r\n - adding `mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);` to the mapper config to prevent NullPointers\r\n - changing `StdSerializer` to `JsonSerializer`\r\n\r\n\r\nEdit: I just tried out printing all the fields inside profileNode and it looks like the nodes that should exist because they exist in the json are in fact not present:\r\n\r\n```\r\n09:22:07,049 INFO  [stdout] (default task-1) Child nodes: dokumenttyp\r\n09:22:07,049 INFO  [stdout] (default task-1) Child nodes: sprache\r\n09:22:07,049 INFO  [stdout] (default task-1) Child nodes: vertragsdaten\r\n09:22:07,064 INFO  [stdout] (default task-1) Child nodes: sachbearbeiter\r\n09:22:07,064 INFO  [stdout] (default task-1) Child nodes: versicherungsnehmer\r\n09:22:07,064 INFO  [stdout] (default task-1) Child nodes: bankverbindung\r\n09:22:07,064 INFO  [stdout] (default task-1) Child nodes: person\r\n```","title":"NullPointerException while trying to read JSON and trying to convert it to a POJO (deserialization)","body":"<p>Our goal is to: parse a json file and deserialize it into a java POJO</p>\n<p>The stacktrace looks like this:</p>\n<pre><code>16:39:21,628 ERROR [stderr] (default task-1) java.lang.NullPointerException\n16:39:21,628 ERROR [stderr] (default task-1)    at deployment.webservice_child.war //ProfileDeserializer.deserialize(ProfileDeserializer.java:31)\n16:39:21,628 ERROR [stderr] (default task-1)    at deployment.webservice_child.war //ProfileDeserializer.deserialize(ProfileDeserializer.java:16)\n</code></pre>\n<p>The files we are trying to parse look like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;properties&quot;: {\n    &quot;anon&quot;: {\n      &quot;/brief/versicherungsnehmer/vorname&quot;: true,\n      &quot;/brief/versicherungsnehmer/nachname&quot;: true\n    }\n  }\n}\n</code></pre>\n<p>Our Json Parser class called <code>JSONMuncher</code> looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JSONMuncher {\n\n    private final ObjectMapper objectMapper;\n\n    public JSONMuncher() {\n        this.objectMapper = createObjectMapper();\n    }\n\n    public ObjectMapper getObjectMapper() {\n        return objectMapper;\n    }\n\n    private static ObjectMapper createObjectMapper() {\n        SimpleModule module = new SimpleModule()\n                .addSerializer(Properties.class, new ProfileSerializer())\n                .addDeserializer(Properties.class, new ProfileDeserializer());\n\n        return new ObjectMapper(new JsonFactory()\n                .disable(JsonGenerator.Feature.AUTO_CLOSE_JSON_CONTENT))\n                .registerModule(module);\n    }\n    public Object readConfig(String filepath) {\n        try {\n            ObjectMapper mapper = createObjectMapper();\n            SimpleModule module = new SimpleModule();\n            mapper.configure(Feature.AUTO_CLOSE_SOURCE, true);\n            mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n            // do not serialize null value fields\n            mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n            mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n            module.addSerializer(Properties.class, new ProfileSerializer());\n            module.addDeserializer(Properties.class, new ProfileDeserializer());\n            mapper.registerModule(module);\n\n            InputStream is = new FileInputStream(filepath);\n            System.out.println(&quot;[DEBUG!!!!!!!!!111!!!]: &quot; + is.read());\n            Properties anon = mapper.readValue(is, Properties.class);\n            \n            System.out.println(anon.getVorname());\n            System.out.println(anon.getNachname());\n\n            return anon;\n        } catch (IOException e) {\n            System.out.println(&quot;Beep Boop Err!!! 🤖&quot;);\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<p>This is our ProfileSerializer Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.ser.std.StdSerializer;\n\nimport java.io.IOException;\n\npublic class ProfileSerializer extends StdSerializer&lt;Properties&gt; {\n\n    public ProfileSerializer() {\n        this(null);\n    }\n\n    public ProfileSerializer(Class&lt;Properties&gt; src) {\n        super(src);\n    }\n\n    @Override\n    public void serialize(Properties property, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        gen.writeStartObject();\n\n        if (property != null) {\n            gen.writeObjectField(&quot;vorname&quot;, property.getVorname());\n            gen.writeObjectField(&quot;nachname&quot;, property.getNachname());\n        }\n\n        gen.writeEndObject();\n    }\n}\n</code></pre>\n<p>This is our ProfileDeserializer Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.ser.std.StdSerializer;\n\nimport java.io.IOException;\n\n@JsonDeserialize(using = Properties.class)\npublic class ProfileDeserializer extends com.fasterxml.jackson.databind.JsonDeserializer&lt;Properties&gt; {\n\n    public ProfileDeserializer() {\n        this(null);\n    }\n\n    public ProfileDeserializer(Class&lt;?&gt; vc) {\n        super();\n    }\n\n    @Override\n    public Properties deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\n        JsonNode profileNode = jsonParser.getCodec().readTree(jsonParser);\n        Properties property = new Properties();\n        property.setVorname(profileNode.get(&quot;vorname&quot;).booleanValue());\n        property.setNachname(profileNode.get(&quot;nachname&quot;).booleanValue());\n        //property.un\n\n        return property;\n    }\n\n}\n</code></pre>\n<p>And this is the <code>Properties</code> class:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\n//import org.codehaus.jackson.map.annotate.JsonDeserialize;\n\nimport java.io.IOException;\nimport java.util.Map;\n\n\npublic class Properties extends com.fasterxml.jackson.databind.JsonDeserializer&lt;Properties&gt; {\n    private boolean vorname;\n    private boolean nachname;\n\n    public void setVorname(boolean vorname) {\n        this.vorname = vorname;\n    }\n\n    public void setNachname(boolean nachname) {\n        this.nachname = nachname;\n    }\n\n    public boolean getVorname() {\n        return this.vorname;\n    }\n\n    public boolean getNachname() {\n        return this.nachname;\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @JsonProperty(&quot;anon&quot;)\n    private void unpackNested(Map&lt;Boolean, Object&gt; anon) {\n        //this.vorname = (boolean) anon.get(&quot;/brief/versicherungsnehmer/vorname&quot;);\n        //this.nachname = (boolean) anon.get(&quot;/brief/versicherungsnehmer/nachname&quot;);\n        Map&lt;Boolean,Boolean&gt; vorname = (Map&lt;Boolean,Boolean&gt;) anon.get(&quot;/brief/versicherungsnehmer/vorname&quot;);\n        Map&lt;Boolean,Boolean&gt; nachname = (Map&lt;Boolean,Boolean&gt;) anon.get(&quot;/brief/versicherungsnehmer/nachname&quot;);\n\n        this.vorname = (boolean) vorname.get(&quot;vorname&quot;);\n        this.nachname = (boolean) nachname.get(&quot;nachname&quot;);\n        //Map&lt;Boolean,Boolean&gt; owner = (Map&lt;Boolean,Boolean&gt;)anon.get(&quot;owner&quot;);\n        //this.ownerName = owner.get(&quot;name&quot;);\n    }\n\n    @Override\n    public Properties deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\n        JsonNode profileNode = jsonParser.getCodec().readTree(jsonParser);\n        Properties property = new Properties();\n        property.setVorname(profileNode.get(&quot;vorname&quot;).booleanValue());\n        property.setNachname(profileNode.get(&quot;nachname&quot;).booleanValue());\n        //property.un\n\n        return property;\n    }\n\n    /*@Override\n    public Object deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\n        return null;\n    }*/\n}\n</code></pre>\n<p>The <code>Properties</code> class is used to store the json values in POJOs.</p>\n<p>We tried:</p>\n<ul>\n<li>changing the inherited class type of the class Properties</li>\n<li>changing the vendor for fasterxml from <code>codehaus</code> to <code>fasterxml</code> because all of the examples used fasterxml.</li>\n<li>changing the line <code>this.vorname = (boolean) anon.get(&quot;/brief/versicherungsnehmer/vorname&quot;);</code> to <code>Map&lt;Boolean,Boolean&gt; vorname = (Map&lt;Boolean,Boolean&gt;) anon.get(&quot;/brief/versicherungsnehmer/vorname&quot;);</code></li>\n<li>adding <code>mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);</code> to the mapper config to prevent NullPointers</li>\n<li>changing <code>StdSerializer</code> to <code>JsonSerializer</code></li>\n</ul>\n<p>Edit: I just tried out printing all the fields inside profileNode and it looks like the nodes that should exist because they exist in the json are in fact not present:</p>\n<pre><code>09:22:07,049 INFO  [stdout] (default task-1) Child nodes: dokumenttyp\n09:22:07,049 INFO  [stdout] (default task-1) Child nodes: sprache\n09:22:07,049 INFO  [stdout] (default task-1) Child nodes: vertragsdaten\n09:22:07,064 INFO  [stdout] (default task-1) Child nodes: sachbearbeiter\n09:22:07,064 INFO  [stdout] (default task-1) Child nodes: versicherungsnehmer\n09:22:07,064 INFO  [stdout] (default task-1) Child nodes: bankverbindung\n09:22:07,064 INFO  [stdout] (default task-1) Child nodes: person\n</code></pre>\n"},{"tags":["java","html","spring-mvc","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":3275313,"reputation":5882,"user_id":2757561,"accept_rate":71,"display_name":"cralfaro"},"score":0,"creation_date":1505810131,"post_id":46295590,"comment_id":79553674,"body_markdown":"if you want to render in a html template, use ModelAndView objects with the name of your template, but seems you are returnning a different kind of object","body":"if you want to render in a html template, use ModelAndView objects with the name of your template, but seems you are returnning a different kind of object"},{"owner":{"account_id":11797494,"reputation":39,"user_id":8631923,"display_name":"User120909"},"score":0,"creation_date":1505810523,"post_id":46295590,"comment_id":79553906,"body_markdown":"Thanks for response!!! but my return type is response. and as i think the issue is not with the model but it is with &quot;  &lt;div th:if=&quot;${messages.checkstatus == 0}&quot;\n th:replace=&quot;hello :: contentA&quot;/&gt;\n\n\n&lt;div th:if=&quot;${messages.checkstatus == 1}&quot;\n th:replace=&quot;hello :: contentB&quot; /&gt;&quot;","body":"Thanks for response!!! but my return type is response. and as i think the issue is not with the model but it is with &quot;  &lt;div th:if=&quot;${messages.checkstatus == 0}&quot;  th:replace=&quot;hello :: contentA&quot;/&gt;   &lt;div th:if=&quot;${messages.checkstatus == 1}&quot;  th:replace=&quot;hello :: contentB&quot; /&gt;&quot;"},{"owner":{"account_id":3275313,"reputation":5882,"user_id":2757561,"accept_rate":71,"display_name":"cralfaro"},"score":0,"creation_date":1505810682,"post_id":46295590,"comment_id":79554000,"body_markdown":"try this, print the value of checkStatus, &lt;h1 th:text=&quot;${messages.cehckStatus}&quot;&gt;&lt;/h1&gt; and we can verify if the value is correct. I am afraid your model is not going to the view","body":"try this, print the value of checkStatus, &lt;h1 th:text=&quot;${messages.cehckStatus}&quot;&gt;&lt;/h1&gt; and we can verify if the value is correct. I am afraid your model is not going to the view"},{"owner":{"account_id":11797494,"reputation":39,"user_id":8631923,"display_name":"User120909"},"score":0,"creation_date":1505811651,"post_id":46295590,"comment_id":79554638,"body_markdown":"If i change messages.cehckStatus to messages then it is returning the correct value which i want :\nand the i made changes like :\n&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Hello, Ola CVS!!! &lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;!--&lt;h1 th:text=&quot;${messages}&quot;/&gt;--&gt;\n\n&lt;div th:if=&quot;${messages == 0}&quot;\n     th:replace=&quot;hello :: contentA&quot;/&gt;\n\n\n&lt;div th:if=&quot;${messages == 1}&quot;\n     th:replace=&quot;hello :: contentB&quot; /&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n\nand it is going into other html page i.e hello.html but it is executing both div every time","body":"If i change messages.cehckStatus to messages then it is returning the correct value which i want : and the i made changes like : &lt;!DOCTYPE html&gt; &lt;html xmlns:th=&quot;<a href=\"http://www.thymeleaf.org\" rel=\"nofollow noreferrer\">thymeleaf.org</a>&quot;&gt; &lt;head&gt;     &lt;title&gt;Hello, Ola CVS!!! &lt;/title&gt; &lt;/head&gt; &lt;body&gt;  &lt;!--&lt;h1 th:text=&quot;${messages}&quot;/&gt;--&gt;  &lt;div th:if=&quot;${messages == 0}&quot;      th:replace=&quot;hello :: contentA&quot;/&gt;   &lt;div th:if=&quot;${messages == 1}&quot;      th:replace=&quot;hello :: contentB&quot; /&gt;  &lt;/body&gt; &lt;/html&gt;  and it is going into other html page i.e hello.html but it is executing both div every time"},{"owner":{"account_id":11797494,"reputation":39,"user_id":8631923,"display_name":"User120909"},"score":0,"creation_date":1505811817,"post_id":46295590,"comment_id":79554742,"body_markdown":"But i want if messages return 0 then &lt;div th:fragment=&quot;contentA&quot;&gt; should execute and if messages return 1 then &lt;div th:fragment=&quot;contentB&quot;&gt; should execute","body":"But i want if messages return 0 then &lt;div th:fragment=&quot;contentA&quot;&gt; should execute and if messages return 1 then &lt;div th:fragment=&quot;contentB&quot;&gt; should execute"}],"answers":[{"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505853409,"creation_date":1505853409,"answer_id":46309381,"question_id":46295590,"body_markdown":"th:replace happens before th:if, according to [thymeleaf attribute precedence][1].  You just need to move the th:if into a tag above the replace.  Something like this:\r\n\r\n    &lt;th:block th:if=&quot;${messages.checkstatus == 0}&quot;&gt;\r\n      &lt;div th:replace=&quot;hello :: contentA&quot; /&gt;\r\n    &lt;/th:block&gt;\r\n\r\n    &lt;th:block th:if=&quot;${messages.checkstatus == 1}&quot;&gt;\r\n      &lt;div th:replace=&quot;hello :: contentB&quot; /&gt;\r\n    &lt;/th:block&gt;\r\n\r\n\r\n  [1]: http://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#attribute-precedence","title":"How to render template by respective if condition in thymeleaf","body":"<p>th:replace happens before th:if, according to <a href=\"http://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#attribute-precedence\" rel=\"nofollow noreferrer\">thymeleaf attribute precedence</a>.  You just need to move the th:if into a tag above the replace.  Something like this:</p>\n\n<pre><code>&lt;th:block th:if=\"${messages.checkstatus == 0}\"&gt;\n  &lt;div th:replace=\"hello :: contentA\" /&gt;\n&lt;/th:block&gt;\n\n&lt;th:block th:if=\"${messages.checkstatus == 1}\"&gt;\n  &lt;div th:replace=\"hello :: contentB\" /&gt;\n&lt;/th:block&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4781484,"reputation":3736,"user_id":3863070,"display_name":"bamossza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655460449,"creation_date":1654944148,"answer_id":72583646,"question_id":46295590,"body_markdown":"Work for me.\r\n\r\nI using the backend service to process color code\r\n\r\n    use &gt;&gt;&gt; th:styleappend\r\n\r\n    Status :\r\n\r\n    &lt;span style=&quot;font-size: 11px;&quot;\r\n       th:styleappend=&quot;${&#39;color:&#39; + projectStatusColor + &#39;;&#39;}&quot;\r\n       th:text=&quot;${projectStatusName}&quot;&gt;&lt;/span&gt;\r\n\r\n\r\nbecause the values in the CSS property **style** cannot be parsed.\r\n\r\nbut it works for me. ^__^","title":"How to render template by respective if condition in thymeleaf","body":"<p>Work for me.</p>\n<p>I using the backend service to process color code</p>\n<pre><code>use &gt;&gt;&gt; th:styleappend\n\nStatus :\n\n&lt;span style=&quot;font-size: 11px;&quot;\n   th:styleappend=&quot;${'color:' + projectStatusColor + ';'}&quot;\n   th:text=&quot;${projectStatusName}&quot;&gt;&lt;/span&gt;\n</code></pre>\n<p>because the values in the CSS property <strong>style</strong> cannot be parsed.</p>\n<p>but it works for me. ^__^</p>\n"}],"owner":{"account_id":11797494,"reputation":39,"user_id":8631923,"display_name":"User120909"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4908,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1655460449,"creation_date":1505809948,"question_id":46295590,"body_markdown":"In my project i have multiple template but i want to code it within one html page and render it by giving some condition.Each template is in div tag. But i am not able to render one template by providing one condition and second by providing second condition.\r\n\r\n     hello.html\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n\r\n    &lt;head&gt;\r\n    &lt;title&gt;State 1&lt;/title&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;div th:fragment=&quot;contentA&quot;&gt;\r\n    &lt;body&gt;\r\n\r\n    &lt;form method=&quot;post&quot;&gt;\r\n\r\n        &lt;label&gt;&lt;b&gt;Name&lt;/b&gt;&lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; placeholder=&quot;Enter Name&quot; name=&quot;name&quot; v-\r\n     model=&quot;value1&quot;/&gt;\r\n\r\n        &lt;br/&gt;\r\n        &lt;br/&gt;\r\n        &lt;br/&gt;\r\n\r\n\r\n        &lt;label&gt;&lt;b&gt;Date of Birth&lt;/b&gt;&lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; placeholder=&quot;Enter Birth date&quot; name=&quot;dob&quot; v-\r\n        model=&quot;value2&quot;/&gt;\r\n\r\n        &lt;br/&gt;\r\n        &lt;br/&gt;\r\n        &lt;br/&gt;\r\n\r\n        &lt;label&gt;&lt;b&gt;Email&lt;/b&gt;&lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; placeholder=&quot;Enter Email&quot; name=&quot;email&quot; v-\r\n        model=&quot;value3&quot;/&gt;\r\n        &lt;br/&gt;\r\n        &lt;br/&gt;\r\n        &lt;br/&gt;\r\n        &lt;input type=&quot;checkbox&quot; checked=&quot;checked&quot; v-model=&quot;value4&quot;/&gt; \r\n        Remember me\r\n        &lt;p&gt;By creating an account you agree to our &lt;a href=&quot;#&quot;&gt;Terms and \r\n       Privacy&lt;/a&gt;.&lt;/p&gt;\r\n\r\n        &lt;div class=&quot;clearfix&quot;&gt;\r\n            &lt;button type=&quot;button&quot;  class=&quot;cancelbtn&quot;&gt;Cancel&lt;/button&gt;\r\n            &lt;button type=&quot;submit&quot; class=&quot;submitbtn&quot;&gt;Submit&lt;/button&gt;\r\n        &lt;/div&gt;\r\n      &lt;/form&gt;\r\n      &lt;/body&gt;\r\n      &lt;/div&gt;\r\n\r\n    &lt;div th:fragment=&quot;contentB&quot;&gt; // another template\r\n    &lt;body&gt;\r\n    &lt;h1 th:text=&quot;${messages}&quot;&gt;&lt;/h1&gt;\r\n    &lt;/body&gt;\r\n     &lt;/div&gt;\r\n    &lt;/html&gt;\r\n\r\nThis is my another html page for rendering by giving condition :\r\n\r\n     helloform.html\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n    &lt;title&gt;Hello, Ola CVS!!! &lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n\r\n    &lt;div th:if=&quot;${messages.checkstatus == 0}&quot;\r\n     th:replace=&quot;hello :: contentA&quot;/&gt;\r\n\r\n\r\n    &lt;div th:if=&quot;${messages.checkstatus == 1}&quot;\r\n     th:replace=&quot;hello :: contentB&quot; /&gt;\r\n\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nPlease find my java code also to render by adding value into Model model:\r\n\r\n       protected Response getUI(SMEvent event,Model model) {\r\n\r\n      if(checkstate==1 &amp;&amp; checkstatus==0)\r\n        {\r\n\r\n            model.addAttribute(&quot;messages.checkstatus&quot; , 0);\r\n            System.out.println(&quot;Entering to get the page for state 1 and \r\n            status 0&quot;+ model);\r\n            return Response.ok().entity(&quot;helloform&quot;).build();\r\n        }\r\n\r\n        if(checkstate==1 &amp;&amp; checkstatus==1)\r\n        {\r\n            if(checkstate==1)\r\n            {\r\n            \r\n               model.addAttribute(&quot;messages.checkstatus&quot; , 1);\r\n               \r\n                System.out.println(&quot;Entering to get the page of state 1 and \r\n              status 1&quot; + model);\r\n                return Response.ok().entity(&quot;helloform&quot;).build();\r\n            }\r\n\r\n          }\r\n       }","title":"How to render template by respective if condition in thymeleaf","body":"<p>In my project i have multiple template but i want to code it within one html page and render it by giving some condition.Each template is in div tag. But i am not able to render one template by providing one condition and second by providing second condition.</p>\n\n<pre><code> hello.html\n\n&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=\"http://www.thymeleaf.org\"&gt;\n\n&lt;head&gt;\n&lt;title&gt;State 1&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;div th:fragment=\"contentA\"&gt;\n&lt;body&gt;\n\n&lt;form method=\"post\"&gt;\n\n    &lt;label&gt;&lt;b&gt;Name&lt;/b&gt;&lt;/label&gt;\n    &lt;input type=\"text\" placeholder=\"Enter Name\" name=\"name\" v-\n model=\"value1\"/&gt;\n\n    &lt;br/&gt;\n    &lt;br/&gt;\n    &lt;br/&gt;\n\n\n    &lt;label&gt;&lt;b&gt;Date of Birth&lt;/b&gt;&lt;/label&gt;\n    &lt;input type=\"text\" placeholder=\"Enter Birth date\" name=\"dob\" v-\n    model=\"value2\"/&gt;\n\n    &lt;br/&gt;\n    &lt;br/&gt;\n    &lt;br/&gt;\n\n    &lt;label&gt;&lt;b&gt;Email&lt;/b&gt;&lt;/label&gt;\n    &lt;input type=\"text\" placeholder=\"Enter Email\" name=\"email\" v-\n    model=\"value3\"/&gt;\n    &lt;br/&gt;\n    &lt;br/&gt;\n    &lt;br/&gt;\n    &lt;input type=\"checkbox\" checked=\"checked\" v-model=\"value4\"/&gt; \n    Remember me\n    &lt;p&gt;By creating an account you agree to our &lt;a href=\"#\"&gt;Terms and \n   Privacy&lt;/a&gt;.&lt;/p&gt;\n\n    &lt;div class=\"clearfix\"&gt;\n        &lt;button type=\"button\"  class=\"cancelbtn\"&gt;Cancel&lt;/button&gt;\n        &lt;button type=\"submit\" class=\"submitbtn\"&gt;Submit&lt;/button&gt;\n    &lt;/div&gt;\n  &lt;/form&gt;\n  &lt;/body&gt;\n  &lt;/div&gt;\n\n&lt;div th:fragment=\"contentB\"&gt; // another template\n&lt;body&gt;\n&lt;h1 th:text=\"${messages}\"&gt;&lt;/h1&gt;\n&lt;/body&gt;\n &lt;/div&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>This is my another html page for rendering by giving condition :</p>\n\n<pre><code> helloform.html\n\n&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=\"http://www.thymeleaf.org\"&gt;\n&lt;head&gt;\n&lt;title&gt;Hello, Ola CVS!!! &lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div th:if=\"${messages.checkstatus == 0}\"\n th:replace=\"hello :: contentA\"/&gt;\n\n\n&lt;div th:if=\"${messages.checkstatus == 1}\"\n th:replace=\"hello :: contentB\" /&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Please find my java code also to render by adding value into Model model:</p>\n\n<pre><code>   protected Response getUI(SMEvent event,Model model) {\n\n  if(checkstate==1 &amp;&amp; checkstatus==0)\n    {\n\n        model.addAttribute(\"messages.checkstatus\" , 0);\n        System.out.println(\"Entering to get the page for state 1 and \n        status 0\"+ model);\n        return Response.ok().entity(\"helloform\").build();\n    }\n\n    if(checkstate==1 &amp;&amp; checkstatus==1)\n    {\n        if(checkstate==1)\n        {\n\n           model.addAttribute(\"messages.checkstatus\" , 1);\n\n            System.out.println(\"Entering to get the page of state 1 and \n          status 1\" + model);\n            return Response.ok().entity(\"helloform\").build();\n        }\n\n      }\n   }\n</code></pre>\n"},{"tags":["java","android","rx-java"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":1,"creation_date":1655460968,"post_id":72657691,"comment_id":128343229,"body_markdown":"Please organize your lambdas into smaller methods, it is difficult to view it on StackOverflow in this deeply nested state. Otherwise, what I could gather is you map your object to its members so you lose that object down the line. Instead, keep the original object flowing and use its `getXXX` methods to extract members on the spot.","body":"Please organize your lambdas into smaller methods, it is difficult to view it on StackOverflow in this deeply nested state. Otherwise, what I could gather is you map your object to its members so you lose that object down the line. Instead, keep the original object flowing and use its <code>getXXX</code> methods to extract members on the spot."},{"owner":{"account_id":25578912,"reputation":1,"user_id":19357837,"display_name":"Graworks"},"score":0,"creation_date":1655478179,"post_id":72657691,"comment_id":128349119,"body_markdown":"Thank you vey much! It works with keeping object flow and calling object&#39;s &#39;makeSomething&#39; method. But if this method also makes requests that need to be chained, it will have its own chain with subscribe(). So there is subscribe inside subscribe. Is it inevitable in situations with &quot;awkward&quot; json api?","body":"Thank you vey much! It works with keeping object flow and calling object&#39;s &#39;makeSomething&#39; method. But if this method also makes requests that need to be chained, it will have its own chain with subscribe(). So there is subscribe inside subscribe. Is it inevitable in situations with &quot;awkward&quot; json api?"}],"owner":{"account_id":25578912,"reputation":1,"user_id":19357837,"display_name":"Graworks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655460435,"creation_date":1655460435,"question_id":72657691,"body_markdown":"I am completely new in rxjava, will be glad to receive help, thanks in advance. Here is fragment of my code working with retrofit getting json from rest api and chaining requests to construct collection of objects. \r\n\r\nThe scheme to obtain is as follows: \r\n\r\nGet ArtObjectIds then for each id combine results from\r\nArtObjectInfo and tileLevels\r\n(for one of tileLevels get its image tiles, combine bitmap from them, link that bitmap to tileLevel. This is what I can not achieve.)\r\ninto createArtObject from getArtObjectInfo and getImageTileLevels\r\nand then work with List of ArtObjects.\r\n\r\nThe question is: how to update an object with results obtained from nested chain,\r\nin my case link tileLevel to bitmap obtained from its nested tiles.\r\n\r\nHere is code:\r\n\r\n    apiService.getArtObjectIds(author, page, num)\r\n                .subscribeOn(Schedulers.io())\r\n                .map(ArtObjectsResponse::getArtObjectIds)\r\n                .doOnNext(artObjectIds -&gt; Log.d(&quot;RX_TESTS&quot;, artObjectIds.toString()))\r\n                .flatMap((Function&lt;List&lt;String&gt;, Observable&lt;List&lt;ArtObject&gt;&gt;&gt;) artObjectIds -&gt; {\r\n                    if (artObjectIds.size() &gt; 0) {           \r\n                        return Observable.fromIterable(artObjectIds)\r\n                                .doOnNext(artObjectId -&gt; Log.d(TAG, &quot;Processing artObjectId  &quot; + artObjectId))\r\n                                .concatMap(artObjectId -&gt;\r\n                                        Observable.combineLatest(\r\n                                                apiService.getArtObjectInfo(artObjectId)\r\n                                                        .subscribeOn(Schedulers.io())\r\n                                                        .map(ArtObjectInfoResponse::getArtObjectInfo),\r\n                                                apiService.getImageTileLevels(artObjectId)\r\n                                                        .subscribeOn(Schedulers.io())\r\n                                                        .map(ImageTileLevelsResponse::getTileLevels)\r\n                                                        .flatMap((Function&lt;List&lt;ImageTileLevel&gt;, Observable&lt;List&lt;ImageTileLevel&gt;&gt;&gt;) imageTileLevels -&gt; {\r\n                                                            for (ImageTileLevel tileLevel : imageTileLevels) {\r\n                                                                if (tileLevel.suitsForPreview()) {\r\n                                                                    tileLevel.setPreview(true);\r\n                                                                    Observable.fromIterable(tileLevel.getTiles())\r\n                                                                    .concatMap(imageTile -&gt; apiService.downloadFileWithDynamicUrlAsync(imageTile.getUrl()))\r\n                                                                    .toList()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Wrong behavior here: results of doOnSuccess are ignored.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// tileLevel is not updated.\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n                                                                    .doOnSuccess(responses -&gt; {\r\n                                                                        Log.d(&quot;TAG&quot;, &quot;In do on success&quot;);\r\n                                                                        ArrayList&lt;Bitmap&gt; bitmaps = new ArrayList&lt;&gt;();\r\n                                                                        for (Response&lt;ResponseBody&gt; response : responses) {\r\n                                                                            assert response.body() != null;\r\n                                                                            bitmaps.add(BitmapFactory.decodeStream(response.body().byteStream()));\r\n                                                                        }\r\n                                                                        tileLevel.combineBitmaps(bitmaps);\r\n                                                                    });\r\n                                                                    break;\r\n                                                                }\r\n                                                            }\r\n                                                            return  Observable.just(imageTileLevels);\r\n                                                        }),\r\n                                                ArtObject::createArtObject))\r\n                                .doOnNext(artObject -&gt; Log.d(TAG, &quot;Finished processing artObject &quot; + artObject.getId()))\r\n                                .toList()\r\n                                .doOnSuccess(artObjects -&gt; Log.d(TAG, &quot;Finished processing all artObjects&quot;))\r\n                                .toObservable();\r\n                             \r\n                    } else {\r\n\t\t\t\t\t\treturn Observable.just(new ArrayList&lt;&gt;());\r\n                    }\r\n                })\r\n                .observeOn(AndroidSchedulers.mainThread())\r\n                .subscribe(.....},","title":"Wrong behviour with nested chains in rxjava","body":"<p>I am completely new in rxjava, will be glad to receive help, thanks in advance. Here is fragment of my code working with retrofit getting json from rest api and chaining requests to construct collection of objects.</p>\n<p>The scheme to obtain is as follows:</p>\n<p>Get ArtObjectIds then for each id combine results from\nArtObjectInfo and tileLevels\n(for one of tileLevels get its image tiles, combine bitmap from them, link that bitmap to tileLevel. This is what I can not achieve.)\ninto createArtObject from getArtObjectInfo and getImageTileLevels\nand then work with List of ArtObjects.</p>\n<p>The question is: how to update an object with results obtained from nested chain,\nin my case link tileLevel to bitmap obtained from its nested tiles.</p>\n<p>Here is code:</p>\n<pre><code>apiService.getArtObjectIds(author, page, num)\n            .subscribeOn(Schedulers.io())\n            .map(ArtObjectsResponse::getArtObjectIds)\n            .doOnNext(artObjectIds -&gt; Log.d(&quot;RX_TESTS&quot;, artObjectIds.toString()))\n            .flatMap((Function&lt;List&lt;String&gt;, Observable&lt;List&lt;ArtObject&gt;&gt;&gt;) artObjectIds -&gt; {\n                if (artObjectIds.size() &gt; 0) {           \n                    return Observable.fromIterable(artObjectIds)\n                            .doOnNext(artObjectId -&gt; Log.d(TAG, &quot;Processing artObjectId  &quot; + artObjectId))\n                            .concatMap(artObjectId -&gt;\n                                    Observable.combineLatest(\n                                            apiService.getArtObjectInfo(artObjectId)\n                                                    .subscribeOn(Schedulers.io())\n                                                    .map(ArtObjectInfoResponse::getArtObjectInfo),\n                                            apiService.getImageTileLevels(artObjectId)\n                                                    .subscribeOn(Schedulers.io())\n                                                    .map(ImageTileLevelsResponse::getTileLevels)\n                                                    .flatMap((Function&lt;List&lt;ImageTileLevel&gt;, Observable&lt;List&lt;ImageTileLevel&gt;&gt;&gt;) imageTileLevels -&gt; {\n                                                        for (ImageTileLevel tileLevel : imageTileLevels) {\n                                                            if (tileLevel.suitsForPreview()) {\n                                                                tileLevel.setPreview(true);\n                                                                Observable.fromIterable(tileLevel.getTiles())\n                                                                .concatMap(imageTile -&gt; apiService.downloadFileWithDynamicUrlAsync(imageTile.getUrl()))\n                                                                .toList()\n                                                                \n                                                                // Wrong behavior here: results of doOnSuccess are ignored.\n                                                                // tileLevel is not updated.\n                                                                \n                                                                .doOnSuccess(responses -&gt; {\n                                                                    Log.d(&quot;TAG&quot;, &quot;In do on success&quot;);\n                                                                    ArrayList&lt;Bitmap&gt; bitmaps = new ArrayList&lt;&gt;();\n                                                                    for (Response&lt;ResponseBody&gt; response : responses) {\n                                                                        assert response.body() != null;\n                                                                        bitmaps.add(BitmapFactory.decodeStream(response.body().byteStream()));\n                                                                    }\n                                                                    tileLevel.combineBitmaps(bitmaps);\n                                                                });\n                                                                break;\n                                                            }\n                                                        }\n                                                        return  Observable.just(imageTileLevels);\n                                                    }),\n                                            ArtObject::createArtObject))\n                            .doOnNext(artObject -&gt; Log.d(TAG, &quot;Finished processing artObject &quot; + artObject.getId()))\n                            .toList()\n                            .doOnSuccess(artObjects -&gt; Log.d(TAG, &quot;Finished processing all artObjects&quot;))\n                            .toObservable();\n                         \n                } else {\n                    return Observable.just(new ArrayList&lt;&gt;());\n                }\n            })\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(.....},\n</code></pre>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":10484151,"reputation":422,"user_id":7728273,"accept_rate":80,"display_name":"kboskin"},"score":0,"creation_date":1655464099,"post_id":72657573,"comment_id":128344270,"body_markdown":"does your project has multidex enabled?","body":"does your project has multidex enabled?"},{"owner":{"account_id":15571887,"reputation":404,"user_id":11234051,"display_name":"binarynoise"},"score":0,"creation_date":1655464156,"post_id":72657573,"comment_id":128344293,"body_markdown":"Usually behind the `Caused by: java.lang.ClassNotFoundException: ` there is the class name of the class that is missing. If you launch the release build using Android Studio, does the app crash as well? Then you should find the class name in the stack trace from logcat, but it looks like it can&#39;t find your main Activity","body":"Usually behind the <code>Caused by: java.lang.ClassNotFoundException: </code> there is the class name of the class that is missing. If you launch the release build using Android Studio, does the app crash as well? Then you should find the class name in the stack trace from logcat, but it looks like it can&#39;t find your main Activity"},{"owner":{"account_id":25578956,"reputation":27,"user_id":19357869,"display_name":"Edwin"},"score":0,"creation_date":1655554280,"post_id":72657573,"comment_id":128362324,"body_markdown":"No, my project does not have Multidex enabled.  \n\nI&#39;m unable to launch the release build using Android Studio because it comes up with: &quot;Error: The apk for your currently selected variant cannot be signed. Please specify a signing configuration for this variant (release).&quot;  \n\nI can, however launch the Debug version in Android Studio but that dos not crash.","body":"No, my project does not have Multidex enabled.    I&#39;m unable to launch the release build using Android Studio because it comes up with: &quot;Error: The apk for your currently selected variant cannot be signed. Please specify a signing configuration for this variant (release).&quot;    I can, however launch the Debug version in Android Studio but that dos not crash."}],"owner":{"account_id":25578956,"reputation":27,"user_id":19357869,"display_name":"Edwin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655459834,"creation_date":1655459834,"question_id":72657573,"body_markdown":"I built and published an Android app, written in Java using Android Studio 2021.2.1 on a Mac.  The Play Store is reporting crashes.  Here is the stack trace:\r\n\r\n```\r\njava.lang.RuntimeException: \r\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3742)\r\n  at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:4027)\r\n  at android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:85)\r\n  at android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:135)\r\n  at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:95)\r\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2336)\r\n  at android.os.Handler.dispatchMessage (Handler.java:106)\r\n  at android.os.Looper.loop (Looper.java:247)\r\n  at android.app.ActivityThread.main (ActivityThread.java:8676)\r\n  at java.lang.reflect.Method.invoke (Native Method)\r\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:602)\r\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1130)\r\nCaused by: java.lang.ClassNotFoundException: \r\n  at dalvik.system.BaseDexClassLoader.findClass (BaseDexClassLoader.java:207)\r\n  at java.lang.ClassLoader.loadClass (ClassLoader.java:379)\r\n  at java.lang.ClassLoader.loadClass (ClassLoader.java:312)\r\n  at android.app.AppComponentFactory.instantiateActivity (AppComponentFactory.java:95)\r\n  at androidx.core.app.CoreComponentFactory.instantiateActivity (CoreComponentFactory.java:45)\r\n  at android.app.Instrumentation.newActivity (Instrumentation.java:1253)\r\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3730)\r\n```\r\n\r\nHow do I fix this? I don&#39;t really know what to try because I&#39;m new to Android development.\r\n\r\nIn case it helps, here&#39;s my AndroidManifest.xml (I&#39;ve redacted some items with xxx)\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;xxx&quot;\r\n    android:versionCode=&quot;2&quot;\r\n    android:versionName=&quot;1.1&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.xxx&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n&lt;/manifest&gt;\r\n```","title":"Android app crashes due to java.lang.ClassNotFoundException","body":"<p>I built and published an Android app, written in Java using Android Studio 2021.2.1 on a Mac.  The Play Store is reporting crashes.  Here is the stack trace:</p>\n<pre><code>java.lang.RuntimeException: \n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3742)\n  at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:4027)\n  at android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:85)\n  at android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:135)\n  at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:95)\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2336)\n  at android.os.Handler.dispatchMessage (Handler.java:106)\n  at android.os.Looper.loop (Looper.java:247)\n  at android.app.ActivityThread.main (ActivityThread.java:8676)\n  at java.lang.reflect.Method.invoke (Native Method)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:602)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1130)\nCaused by: java.lang.ClassNotFoundException: \n  at dalvik.system.BaseDexClassLoader.findClass (BaseDexClassLoader.java:207)\n  at java.lang.ClassLoader.loadClass (ClassLoader.java:379)\n  at java.lang.ClassLoader.loadClass (ClassLoader.java:312)\n  at android.app.AppComponentFactory.instantiateActivity (AppComponentFactory.java:95)\n  at androidx.core.app.CoreComponentFactory.instantiateActivity (CoreComponentFactory.java:45)\n  at android.app.Instrumentation.newActivity (Instrumentation.java:1253)\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3730)\n</code></pre>\n<p>How do I fix this? I don't really know what to try because I'm new to Android development.</p>\n<p>In case it helps, here's my AndroidManifest.xml (I've redacted some items with xxx)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;xxx&quot;\n    android:versionCode=&quot;2&quot;\n    android:versionName=&quot;1.1&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.xxx&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","spring","controller","volatile"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1655458055,"post_id":72657117,"comment_id":128342256,"body_markdown":"`new VolatileTest().go();` indicates that this is not a spring bean which is used. Please share the code that is used in spring.","body":"<code>new VolatileTest().go();</code> indicates that this is not a spring bean which is used. Please share the code that is used in spring."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655458867,"post_id":72657117,"comment_id":128342530,"body_markdown":"`stop` is static and shared, so if you run `go` multiple times, subsequent runs will (likely) immediately see `stop` set to true.","body":"<code>stop</code> is static and shared, so if you run <code>go</code> multiple times, subsequent runs will (likely) immediately see <code>stop</code> set to true."}],"owner":{"account_id":8267179,"reputation":310,"user_id":6216284,"display_name":"feiyuerenhai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655459626,"creation_date":1655457694,"question_id":72657117,"body_markdown":"here is the code segment\r\n\r\n```java\r\n\r\npackage com.example.demo;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nclass VolatileTest{\r\n    private static boolean stop = false;\r\n    public void go() throws Exception{\r\n\r\n        new Thread(()-&gt;{\r\n            System.out.println(&quot;thread started in &quot; + Thread.currentThread().getName());\r\n            int counter = 0;\r\n            while (!stop){\r\n                counter++;\r\n            };\r\n\r\n            // #1\r\n            System.out.println(&quot;stopped at i=&quot; + counter + &quot; in &quot; + Thread.currentThread().getName());\r\n\r\n        }).start();\r\n\r\n        Thread.sleep(1000);\r\n        stop = true;\r\n    }\r\n}\r\n\r\n@RestController\r\npublic class MyVolatileController {\r\n\r\n    @GetMapping(&quot;/volatile/test&quot;)\r\n    public String test(){\r\n        new Thread(()-&gt;{\r\n            try{\r\n                new VolatileTest().go();\r\n            }catch(Exception e){}\r\n        }).start();\r\n\r\n        return &quot;volatile&quot;;\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception{\r\n        new Thread(()-&gt;{\r\n            try{\r\n                new VolatileTest().go();\r\n            }catch(Exception e){}\r\n        }).start();\r\n    }\r\n\r\n}\r\n```\r\n\r\nthe expected behavior: when called, the program will never reach #1, since stop is not volatile, and the change made by other thread will not been seen immediately by the current thread.\r\n\r\n**Question**: when it is started in `public void static main` of the class, it behaves as expected, however, when started inside a spring `controller method`, it does reach #1. why is that happening ?","title":"volatile in spring controller not working","body":"<p>here is the code segment</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage com.example.demo;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nclass VolatileTest{\n    private static boolean stop = false;\n    public void go() throws Exception{\n\n        new Thread(()-&gt;{\n            System.out.println(&quot;thread started in &quot; + Thread.currentThread().getName());\n            int counter = 0;\n            while (!stop){\n                counter++;\n            };\n\n            // #1\n            System.out.println(&quot;stopped at i=&quot; + counter + &quot; in &quot; + Thread.currentThread().getName());\n\n        }).start();\n\n        Thread.sleep(1000);\n        stop = true;\n    }\n}\n\n@RestController\npublic class MyVolatileController {\n\n    @GetMapping(&quot;/volatile/test&quot;)\n    public String test(){\n        new Thread(()-&gt;{\n            try{\n                new VolatileTest().go();\n            }catch(Exception e){}\n        }).start();\n\n        return &quot;volatile&quot;;\n    }\n\n    public static void main(String[] args) throws Exception{\n        new Thread(()-&gt;{\n            try{\n                new VolatileTest().go();\n            }catch(Exception e){}\n        }).start();\n    }\n\n}\n</code></pre>\n<p>the expected behavior: when called, the program will never reach #1, since stop is not volatile, and the change made by other thread will not been seen immediately by the current thread.</p>\n<p><strong>Question</strong>: when it is started in <code>public void static main</code> of the class, it behaves as expected, however, when started inside a spring <code>controller method</code>, it does reach #1. why is that happening ?</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1655455490,"post_id":72656512,"comment_id":128341467,"body_markdown":"in your `setMap` method, what is `childMap`? Why does it already exists (and even static)? You need to use `childmap = parentMap.computeIfAbsent(...);`. Otherwise you use the same childMap everywhere which explains your output.","body":"in your <code>setMap</code> method, what is <code>childMap</code>? Why does it already exists (and even static)? You need to use <code>childmap = parentMap.computeIfAbsent(...);</code>. Otherwise you use the same childMap everywhere which explains your output."}],"answers":[{"tags":[],"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1655455708,"creation_date":1655455708,"answer_id":72656674,"question_id":72656512,"body_markdown":"Suggestion, don&#39;t have generic types and dont have static params\r\n```\r\nprivate HashMap&lt;String, HashMap&lt;String, ArrayList&lt;String&gt;&gt;&gt; parentMap = new HashMap&lt;&gt;(); \r\nprivate HashMap&lt;String, ArrayList&lt;String&gt;&gt; childMap = new HashMap&lt;&gt;();\r\n```\r\n\r\nTry to replace this method\r\n```\r\npublic ArrayList&lt;String&gt; setMap(String parentkey, String childKey, String value) {\r\n    childMap.putIfAbsent(childKey, new ArrayList&lt;&gt;()); // inserts a key only if the key is not already present\r\n    childMap.get(childKey).add(value); // puts the value in the existing key and \r\n    \r\n    if (!parentMap.containsKey(parentkey)) { // puts in the parent map only if not present. \r\n        parentMap.put(parentkey, childMap);\r\n    }\r\n}\r\n```\r\nSince the childmap is referenced already, No need to put again.","title":"Hashmap inside a hashmap with arraylist","body":"<p>Suggestion, don't have generic types and dont have static params</p>\n<pre><code>private HashMap&lt;String, HashMap&lt;String, ArrayList&lt;String&gt;&gt;&gt; parentMap = new HashMap&lt;&gt;(); \nprivate HashMap&lt;String, ArrayList&lt;String&gt;&gt; childMap = new HashMap&lt;&gt;();\n</code></pre>\n<p>Try to replace this method</p>\n<pre><code>public ArrayList&lt;String&gt; setMap(String parentkey, String childKey, String value) {\n    childMap.putIfAbsent(childKey, new ArrayList&lt;&gt;()); // inserts a key only if the key is not already present\n    childMap.get(childKey).add(value); // puts the value in the existing key and \n    \n    if (!parentMap.containsKey(parentkey)) { // puts in the parent map only if not present. \n        parentMap.put(parentkey, childMap);\n    }\n}\n</code></pre>\n<p>Since the childmap is referenced already, No need to put again.</p>\n"},{"tags":[],"owner":{"account_id":25452201,"reputation":208,"user_id":19253406,"display_name":"Chicky"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1655456554,"creation_date":1655456554,"answer_id":72656857,"question_id":72656512,"body_markdown":"If I was you I will do it in more &quot;OOP way&quot; so that you can benefit from static typing. Something like:\r\n\r\n    import java.util.List;\r\n    class Employee{\r\n        String name;\r\n        String getName(){\r\n            return name;\r\n        }\r\n    }\r\n\r\n\r\n    public class CompanyBranch{\r\n        String national;\r\n        List&lt;Employee&gt; employees;\r\n    \r\n        List&lt;String&gt; getEmployeeAllName(){\r\n            return employees.stream().map(Employee::getName).toList();\r\n        }\r\n    }","title":"Hashmap inside a hashmap with arraylist","body":"<p>If I was you I will do it in more &quot;OOP way&quot; so that you can benefit from static typing. Something like:</p>\n<pre><code>import java.util.List;\nclass Employee{\n    String name;\n    String getName(){\n        return name;\n    }\n}\n\n\npublic class CompanyBranch{\n    String national;\n    List&lt;Employee&gt; employees;\n\n    List&lt;String&gt; getEmployeeAllName(){\n        return employees.stream().map(Employee::getName).toList();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655459113,"creation_date":1655458109,"answer_id":72657207,"question_id":72656512,"body_markdown":"The problem is that you keep reusing the same `childMap`, regardless of which `parentKey` is being used. You need to look up the respective child map when adding values.\r\n\r\nThat means that `childMap` should be a local variable, nothing more. Delete your `private static HashMap&lt;String, ArrayList&gt; childMap`.\r\n\r\nTry this:\r\n\r\n    public static ArrayList&lt;String&gt; setMap(String parentkey, String childKey, String value) {\r\n      HashMap&lt;String, ArrayList&gt; childMap = parentMap.computeIfAbsent(parentkey, k-&gt;new HashMap&lt;&gt;());\r\n      childMap.computeIfAbsent(childKey, k -&gt; new ArrayList&lt;&gt;()).add(value);\r\n      return getMap(parentkey, childKey);\r\n    }\r\n\r\n[Proof that this works][1]\r\n\r\n\r\n  [1]: https://ideone.com/sMelyE","title":"Hashmap inside a hashmap with arraylist","body":"<p>The problem is that you keep reusing the same <code>childMap</code>, regardless of which <code>parentKey</code> is being used. You need to look up the respective child map when adding values.</p>\n<p>That means that <code>childMap</code> should be a local variable, nothing more. Delete your <code>private static HashMap&lt;String, ArrayList&gt; childMap</code>.</p>\n<p>Try this:</p>\n<pre><code>public static ArrayList&lt;String&gt; setMap(String parentkey, String childKey, String value) {\n  HashMap&lt;String, ArrayList&gt; childMap = parentMap.computeIfAbsent(parentkey, k-&gt;new HashMap&lt;&gt;());\n  childMap.computeIfAbsent(childKey, k -&gt; new ArrayList&lt;&gt;()).add(value);\n  return getMap(parentkey, childKey);\n}\n</code></pre>\n<p><a href=\"https://ideone.com/sMelyE\" rel=\"nofollow noreferrer\">Proof that this works</a></p>\n"}],"owner":{"account_id":10221888,"reputation":471,"user_id":7545818,"display_name":"Learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72657207,"answer_count":3,"score":0,"last_activity_date":1655459113,"creation_date":1655454975,"question_id":72656512,"body_markdown":"**Declaration:-** \r\n  \r\n  private static HashMap&lt;String, HashMap&lt;String, ArrayList&lt;String&gt;&gt;&gt; parentMap = new HashMap&lt;&gt;();\r\n    private static HashMap&lt;String, ArrayList&lt;String&gt;&gt; childMap = new HashMap&lt;&gt;();\r\n\r\n**How do I want to store data in hashmap?**\r\n\r\n    &quot;India&quot;:\r\n    \t\t&quot;EmployeeName&quot;:[A,B,C]\r\n    \t\t\r\n    &quot;China&quot;:\r\n    \t\t&quot;EmployeeName&quot;:[D,E,F]\r\n\t\t\r\n**Methods used:-**\r\n\r\n    public static ArrayList&lt;String&gt; getMap(String parentkey, String childKey) {\r\n    \treturn parentMap.get(parentkey).get(childKey);\r\n    }\r\n    \r\n    \r\n    public static ArrayList&lt;String&gt; setMap(String parentkey, String childKey, String value) {\r\n    \tchildMap.computeIfAbsent(childKey, k -&gt; new ArrayList&lt;&gt;()).add(value);\r\n    \tparentMap.put(parentkey, childMap);\r\n    \treturn getMap(parentkey, childKey);\r\n    }\r\n\r\n    setMap(&quot;India&quot;, &quot;EmployeeName&quot;, &quot;A&quot;)\r\n    setMap(&quot;India&quot;, &quot;EmployeeName&quot;, &quot;B&quot;)\r\n    setMap(&quot;India&quot;, &quot;EmployeeName&quot;, &quot;C&quot;)\r\n    setMap(&quot;China&quot;, &quot;EmployeeName&quot;, &quot;D&quot;)\r\n    setMap(&quot;China&quot;, &quot;EmployeeName&quot;, &quot;E&quot;)\r\n    setMap(&quot;China&quot;, &quot;EmployeeName&quot;, &quot;F&quot;)\r\n\r\n**How data get stored and printed in hashmap while fetchng from getMap method:**\r\n\r\n    System.out.println(&quot;India&quot; + getMap(&quot;India&quot;).get(&quot;EmployeeName&quot;));\r\n    System.out.println(&quot;China&quot; + getMap(&quot;China&quot;).get(&quot;EmployeeName&quot;));\r\n    \r\n    &quot;India&quot; [A,B,C,D,E,F]\t\r\n    &quot;China&quot; [A,B,C,D,E,F]\r\n    \t\t\r\n\r\nWhilst i know keeping the childKey name unique would do thejob for me but I wish to keep the same childKey name under each parentkey name and store the respecive value in arraylist.\r\n\r\nAny solution to my problem is welcome.","title":"Hashmap inside a hashmap with arraylist","body":"<p><strong>Declaration:-</strong></p>\n<p>private static HashMap&lt;String, HashMap&lt;String, ArrayList&gt;&gt; parentMap = new HashMap&lt;&gt;();\nprivate static HashMap&lt;String, ArrayList&gt; childMap = new HashMap&lt;&gt;();</p>\n<p><strong>How do I want to store data in hashmap?</strong></p>\n<pre><code>&quot;India&quot;:\n        &quot;EmployeeName&quot;:[A,B,C]\n        \n&quot;China&quot;:\n        &quot;EmployeeName&quot;:[D,E,F]\n    \n</code></pre>\n<p><strong>Methods used:-</strong></p>\n<pre><code>public static ArrayList&lt;String&gt; getMap(String parentkey, String childKey) {\n    return parentMap.get(parentkey).get(childKey);\n}\n\n\npublic static ArrayList&lt;String&gt; setMap(String parentkey, String childKey, String value) {\n    childMap.computeIfAbsent(childKey, k -&gt; new ArrayList&lt;&gt;()).add(value);\n    parentMap.put(parentkey, childMap);\n    return getMap(parentkey, childKey);\n}\n\nsetMap(&quot;India&quot;, &quot;EmployeeName&quot;, &quot;A&quot;)\nsetMap(&quot;India&quot;, &quot;EmployeeName&quot;, &quot;B&quot;)\nsetMap(&quot;India&quot;, &quot;EmployeeName&quot;, &quot;C&quot;)\nsetMap(&quot;China&quot;, &quot;EmployeeName&quot;, &quot;D&quot;)\nsetMap(&quot;China&quot;, &quot;EmployeeName&quot;, &quot;E&quot;)\nsetMap(&quot;China&quot;, &quot;EmployeeName&quot;, &quot;F&quot;)\n</code></pre>\n<p><strong>How data get stored and printed in hashmap while fetchng from getMap method:</strong></p>\n<pre><code>System.out.println(&quot;India&quot; + getMap(&quot;India&quot;).get(&quot;EmployeeName&quot;));\nSystem.out.println(&quot;China&quot; + getMap(&quot;China&quot;).get(&quot;EmployeeName&quot;));\n\n&quot;India&quot; [A,B,C,D,E,F]   \n&quot;China&quot; [A,B,C,D,E,F]\n        \n</code></pre>\n<p>Whilst i know keeping the childKey name unique would do thejob for me but I wish to keep the same childKey name under each parentkey name and store the respecive value in arraylist.</p>\n<p>Any solution to my problem is welcome.</p>\n"},{"tags":["java","maven","version-control"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1652783948,"post_id":72271664,"comment_id":127684680,"body_markdown":"My first guess was, that it is inherited, because of what the maven tree shows. But `spring-boot-starter-web:jar:2.0.0.RELEASE`&#39;s pom.xml clearly references 2.0.0.RELEASE of the tomcat dependency. Did you reimported the dependencies? Do you have multiple pom.xmls in your project?","body":"My first guess was, that it is inherited, because of what the maven tree shows. But <code>spring-boot-starter-web:jar:2.0.0.RELEASE</code>&#39;s pom.xml clearly references 2.0.0.RELEASE of the tomcat dependency. Did you reimported the dependencies? Do you have multiple pom.xmls in your project?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1652791296,"post_id":72271664,"comment_id":127687483,"body_markdown":"Please post your full pom file otherwise it&#39;s just guessing what&#39;s wrong..furthermore why using such an old spring boot version which is not supported anymore ...","body":"Please post your full pom file otherwise it&#39;s just guessing what&#39;s wrong..furthermore why using such an old spring boot version which is not supported anymore ..."},{"owner":{"account_id":21164247,"reputation":11,"user_id":15561848,"display_name":"LonelyTangzz"},"score":0,"creation_date":1652838060,"post_id":72271664,"comment_id":127701143,"body_markdown":"Hi @ValerijDobler,In this project, just have only one pom.xml, and i didn&#39;t reimport any dependencies about tomcat, so i am very confuse about the sub-dependency&#39;version.","body":"Hi @ValerijDobler,In this project, just have only one pom.xml, and i didn&#39;t reimport any dependencies about tomcat, so i am very confuse about the sub-dependency&#39;version."},{"owner":{"account_id":21164247,"reputation":11,"user_id":15561848,"display_name":"LonelyTangzz"},"score":0,"creation_date":1652838329,"post_id":72271664,"comment_id":127701179,"body_markdown":"@khmarbaise bro, it&#39;s too much another dependencies, but I promise that I don&#39;t find any dependencies about tomcat. By the way, this version is the version the company used before","body":"@khmarbaise bro, it&#39;s too much another dependencies, but I promise that I don&#39;t find any dependencies about tomcat. By the way, this version is the version the company used before"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1652863198,"post_id":72271664,"comment_id":127706896,"body_markdown":"I guess you have another dependency in your project which uses it.. The version is different because another dependency pulls it in...without more informations or coming via the parent as you mentioned..but without the full pom its not possible to say...","body":"I guess you have another dependency in your project which uses it.. The version is different because another dependency pulls it in...without more informations or coming via the parent as you mentioned..but without the full pom its not possible to say..."},{"owner":{"account_id":21164247,"reputation":11,"user_id":15561848,"display_name":"LonelyTangzz"},"score":0,"creation_date":1652864711,"post_id":72271664,"comment_id":127707415,"body_markdown":"@khmarbaise, I know it. But the higher version is in this project&#39;s parent definition. Is that parent&#39;s version-control can override this project&#39;s definition?\n``` xml\n\t&lt;!-- Project dependencies --&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n                        &lt;version&gt;2.3.6.RELEASE&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n```","body":"@khmarbaise, I know it. But the higher version is in this project&#39;s parent definition. Is that parent&#39;s version-control can override this project&#39;s definition? ``` xml \t&lt;!-- Project dependencies --&gt; \t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;                         &lt;version&gt;2.3.6.RELEASE&lt;/version&gt; \t\t&lt;/dependency&gt; ```"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1652864950,"post_id":72271664,"comment_id":127707519,"body_markdown":"Ah now that&#39;s the reason..because you are manually defining versions in your dependencies.. In a spring boot project you define the version of the dependencies via the parent (which uses spring-boot-dependencies) where all dependencies defined with their appropriate versions... and that&#39;s the reason. Furthermore a good reason why using an older version? Current spring boot 2.6.7 ...","body":"Ah now that&#39;s the reason..because you are manually defining versions in your dependencies.. In a spring boot project you define the version of the dependencies via the parent (which uses spring-boot-dependencies) where all dependencies defined with their appropriate versions... and that&#39;s the reason. Furthermore a good reason why using an older version? Current spring boot 2.6.7 ..."},{"owner":{"account_id":21164247,"reputation":11,"user_id":15561848,"display_name":"LonelyTangzz"},"score":0,"creation_date":1652865339,"post_id":72271664,"comment_id":127707676,"body_markdown":"@khmarbaise, This project is very old, if update spring-boot version , this could affect a lot of business. I just want to know, will the version defined in my current pom file be overwritten by the version defined by the parent project?","body":"@khmarbaise, This project is very old, if update spring-boot version , this could affect a lot of business. I just want to know, will the version defined in my current pom file be overwritten by the version defined by the parent project?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1652867929,"post_id":72271664,"comment_id":127708710,"body_markdown":"But using such old stuff means very likely having security issues ... using old software is always dangerous...","body":"But using such old stuff means very likely having security issues ... using old software is always dangerous..."},{"owner":{"account_id":21164247,"reputation":11,"user_id":15561848,"display_name":"LonelyTangzz"},"score":0,"creation_date":1652890902,"post_id":72271664,"comment_id":127718482,"body_markdown":"I know, I will report the low version to the superior later, but this is not the main question I want to ask...","body":"I know, I will report the low version to the superior later, but this is not the main question I want to ask..."}],"answers":[{"tags":[],"owner":{"account_id":21164247,"reputation":11,"user_id":15561848,"display_name":"LonelyTangzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655459112,"creation_date":1655459112,"answer_id":72657429,"question_id":72271664,"body_markdown":"I got it.\r\nThere are two ways to solve this question\r\n1. exclude your sub-dependency and add a new version dependency.\r\n2. use &lt;dependencyManagement&gt;&lt;/dependencyManagement&gt; to control this denpendency","title":"Issues with version management in maven","body":"<p>I got it.\nThere are two ways to solve this question</p>\n<ol>\n<li>exclude your sub-dependency and add a new version dependency.</li>\n<li>use  to control this denpendency</li>\n</ol>\n"}],"owner":{"account_id":21164247,"reputation":11,"user_id":15561848,"display_name":"LonelyTangzz"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72657429,"answer_count":1,"score":1,"last_activity_date":1655459112,"creation_date":1652780593,"question_id":72271664,"body_markdown":"**The problem I encountered is this, here is the definition in my POM file**.\\\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nIn this dependency, It&#39;s having a sub-dependency which is starter-tomcat\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nBut In my maven tree \r\n```\r\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:2.0.0.RELEASE:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.3.6.RELEASE:compile\r\n\r\n```\r\nBy the way this project have a **parent**, In parent There is a 2.3.6 starter-webdependency.\r\n\\\r\nI want to know **why the sub-dependency starter-tomcat in the web-starter I referenced 2.0.0 is not the 2.0.0 I see, but 2.3.6 in the parent dependency**.","title":"Issues with version management in maven","body":"<p><strong>The problem I encountered is this, here is the definition in my POM file</strong>.\\</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>In this dependency, It's having a sub-dependency which is starter-tomcat</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n      &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>But In my maven tree</p>\n<pre><code>[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:2.0.0.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.3.6.RELEASE:compile\n\n</code></pre>\n<p>By the way this project have a <strong>parent</strong>, In parent There is a 2.3.6 starter-webdependency.\n<br />\nI want to know <strong>why the sub-dependency starter-tomcat in the web-starter I referenced 2.0.0 is not the 2.0.0 I see, but 2.3.6 in the parent dependency</strong>.</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1655413316,"post_id":72651632,"comment_id":128333201,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":1,"creation_date":1655415887,"post_id":72651632,"comment_id":128333930,"body_markdown":"`getValue(Long.class)` is returning null.  You&#39;re going to have to do some debugging to figure out why that is - we can&#39;t see based on the little you&#39;ve shown here.","body":"<code>getValue(Long.class)</code> is returning null.  You&#39;re going to have to do some debugging to figure out why that is - we can&#39;t see based on the little you&#39;ve shown here."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1655451850,"post_id":72651632,"comment_id":128340205,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data). Besides that, please also add the entire code that you&#39;re using for reading the data.","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>. Besides that, please also add the entire code that you&#39;re using for reading the data."},{"owner":{"account_id":25353379,"reputation":3,"user_id":19169898,"display_name":"beefwhale"},"score":0,"creation_date":1655455026,"post_id":72651632,"comment_id":128341326,"body_markdown":"@AlexMamo I&#39;ve added more code that I used, but I couldn&#39;t figure out how to add the JSON file in stack overflow so I attached an image.","body":"@AlexMamo I&#39;ve added more code that I used, but I couldn&#39;t figure out how to add the JSON file in stack overflow so I attached an image."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1655455252,"post_id":72651632,"comment_id":128341397,"body_markdown":"Have you tried to get the schema as mentioned in my previous comment?","body":"Have you tried to get the schema as mentioned in my previous comment?"},{"owner":{"account_id":25353379,"reputation":3,"user_id":19169898,"display_name":"beefwhale"},"score":0,"creation_date":1655455903,"post_id":72651632,"comment_id":128341621,"body_markdown":"@AlexMamo Yes, I&#39;ve just edited and added the JSON code that I&#39;ve exported. I hope that is what you&#39;re looking for.","body":"@AlexMamo Yes, I&#39;ve just edited and added the JSON code that I&#39;ve exported. I hope that is what you&#39;re looking for."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1655456430,"post_id":72651632,"comment_id":128341792,"body_markdown":"We need to see your structure, not only those values.","body":"We need to see your structure, not only those values."},{"owner":{"account_id":11346074,"reputation":2935,"user_id":11204066,"display_name":"Hayk Mkrtchyan"},"score":0,"creation_date":1655456557,"post_id":72651632,"comment_id":128341831,"body_markdown":"Maybe there are some limitation according long values?","body":"Maybe there are some limitation according long values?"},{"owner":{"account_id":25353379,"reputation":3,"user_id":19169898,"display_name":"beefwhale"},"score":0,"creation_date":1655456774,"post_id":72651632,"comment_id":128341891,"body_markdown":"@AlexMamo Currently, &quot;WeeklyDate&quot; and &quot;WeeklyPost&quot; are the only data in my firebase.","body":"@AlexMamo Currently, &quot;WeeklyDate&quot; and &quot;WeeklyPost&quot; are the only data in my firebase."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1655457432,"post_id":72651632,"comment_id":128342081,"body_markdown":"Then I&#39;m not sure I understand. You only have two values in your database, and you want to display them into a RecycerView using an adapter?","body":"Then I&#39;m not sure I understand. You only have two values in your database, and you want to display them into a RecycerView using an adapter?"},{"owner":{"account_id":25353379,"reputation":3,"user_id":19169898,"display_name":"beefwhale"},"score":0,"creation_date":1655457959,"post_id":72651632,"comment_id":128342230,"body_markdown":"@AlexMamo Yes, as it is a nested recycler view, for a layout file. I&#39;ve managed to fix the issue, thanks a lot for your help I was close to giving up, but the problem was not with Firebase.","body":"@AlexMamo Yes, as it is a nested recycler view, for a layout file. I&#39;ve managed to fix the issue, thanks a lot for your help I was close to giving up, but the problem was not with Firebase."}],"answers":[{"tags":[],"owner":{"account_id":25353379,"reputation":3,"user_id":19169898,"display_name":"beefwhale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655458087,"creation_date":1655458087,"answer_id":72657202,"question_id":72651632,"body_markdown":"Ive managed to fix the issue after some troubleshooting.\r\n\r\nI just had to instantiate a date value Date storedDate = new Date(); \r\nand convert Long into a Date value directly after grabbing it from firebase. That fixed my null error as well.","title":"Java : Unable to get Long value from Firebase","body":"<p>Ive managed to fix the issue after some troubleshooting.</p>\n<p>I just had to instantiate a date value Date storedDate = new Date();\nand convert Long into a Date value directly after grabbing it from firebase. That fixed my null error as well.</p>\n"}],"owner":{"account_id":25353379,"reputation":3,"user_id":19169898,"display_name":"beefwhale"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72657202,"answer_count":1,"score":0,"last_activity_date":1655458087,"creation_date":1655411819,"question_id":72651632,"body_markdown":"I&#39;m currently trying to get my Long value under the name &quot;WeeklyDate&quot; to convert into a Date value but when I try referencing the Long value, it keeps returning a null error.\r\n\r\n&gt; java.lang.NullPointerException: Attempt to invoke virtual method &#39;long java.lang.Long.longValue()&#39; on a null object reference\r\n\r\n\r\nThis is my current line:\r\n```\r\nweeklyDate = snapshot.child(&quot;WeeklyDate&quot;).getValue(Long.class);\r\n```\r\n\r\nReference Line:\r\n```\r\nDate storedDate = new Date(weeklyDate);\r\n```\r\n\r\nIve tried Instatianting the weeklyDate at the top of the class by doing:\r\n\r\n ```Long weeklyDate = 0L;``` and ```Long weeklyDate = new Long(1);``` The null error is gone, but the value is still wrong I&#39;ve checked.\r\n\r\nHere is the entire section of the code: \r\n```\r\npublic class HomeParentAdapter extends RecyclerView.Adapter&lt;HomeParentViewHolder&gt; {\r\n    ArrayList&lt;HomeParentData&gt; data;\r\n    Context c;\r\n    Integer random;\r\n\r\n    HomeMixData weekly_post = new HomeMixData();\r\n\r\n    DatabaseReference databaseReference;\r\n    FirebaseDatabase firebaseDatabase;\r\n    String weeklyPost;\r\n    Long weeklyDate = new Long(1);\r\n\r\n    public HomeParentAdapter(Context c, ArrayList&lt;HomeParentData&gt; data){\r\n        this.data = data;\r\n        this.c = c;\r\n    }\r\n\r\n    @Override\r\n    //getting position of viewholder, if its 0, return 0 else return 1\r\n    public int getItemViewType(int position) {\r\n        return (position == 0)?0:1;\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public HomeParentViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        //Setting layout file and doing rv of nested layout within parent RV if posiiton of viewholder == 0\r\n        View item;\r\n        HomeMix homeMix = new HomeMix();\r\n        if (viewType == 0){\r\n            //Inflating child layout within Parent RV\r\n            item = LayoutInflater.from(parent.getContext())\r\n                    .inflate(R.layout.activity_home_child, null, false);\r\n\r\n            // Making Child RV for child layout within parent RV\r\n            ArrayList&lt;HomeChildData&gt; data = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;HomeMixData&gt; sortedMixList = homeMix.filterDT();\r\n            ArrayList&lt;HomeMixData&gt; randomMixList = homeMix.RandomData();\r\n\r\n            ImageView weekly_img = item.findViewById(R.id.weekly_img);\r\n            TextView weekly_title = item.findViewById(R.id.weekly_title);\r\n            TextView weekly_author = item.findViewById(R.id.weekly_author);\r\n\r\n\r\n            // Getting WEEKLY date &amp; post ID Values From Database\r\n            firebaseDatabase = FirebaseDatabase.getInstance();\r\n            databaseReference = firebaseDatabase.getReference();\r\n            databaseReference.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n//                    Getting Weekly Items from database\r\n                    weeklyDate = snapshot.child(&quot;WeeklyDate&quot;).getValue(Long.class);\r\n                    weeklyPost = snapshot.child(&quot;WeeklyPost&quot;).getValue(String.class);\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                }\r\n            });\r\n\r\n            if (randomMixList.size() &gt; 0){\r\n                // post to retrieve for weekly feature determines randomly\r\n                final int random = new Random().nextInt(randomMixList.size());\r\n                ArrayList&lt;HomeMixData&gt; weekly_list = new ArrayList&lt;&gt;();\r\n                weekly_post = randomMixList.get(random);\r\n\r\n                //Getting Current Date Week\r\n                Date currentDate = new Date(System.currentTimeMillis());\r\n                Calendar calendar = Calendar.getInstance();\r\n                calendar.setFirstDayOfWeek(Calendar.MONDAY);\r\n                calendar.setMinimalDaysInFirstWeek(4);\r\n                calendar.setTime(currentDate);\r\n                int currentWeek = calendar.get(Calendar.WEEK_OF_YEAR);\r\n                Log.e(&quot;Week&quot;, &quot;Current&quot;+currentWeek);\r\n\r\n                //Getting Stored Date Week\r\n                Date storedDate = new Date(weeklyDate);\r\n                calendar = Calendar.getInstance();\r\n                calendar.setTime(storedDate);\r\n                int storedWeek = calendar.get(Calendar.WEEK_OF_YEAR);\r\n                Log.e(&quot;Week&quot;, &quot;Stored&quot;+storedWeek);\r\n\r\n                if (currentWeek != storedWeek){ // setting post and date if post has not been updated this week\r\n                    homeMix.setWeekly(weekly_post);\r\n                    Log.e(&quot;beef&quot;, &quot;false&quot;);\r\n                }\r\n                else{ // getting post from databse, if this week has been updated\r\n                    for(HomeMixData i : randomMixList){\r\n                        if (i.postID == weeklyPost){ // getting the object that matches the ID\r\n                            weekly_post = i;\r\n                            Log.e(&quot;beef&quot;, &quot;true&quot;);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                weekly_list.add(weekly_post); // can be passed to bundle\r\n                //Setting items of things in Weekly post using sortedMixList\r\n                if (weekly_post.identifier == true) { // if its Hawker Corner post\r\n                    weekly_title.setText(weekly_post.hcstallname);\r\n                    weekly_author.setText(&quot;By: &quot;+weekly_post.hcauthor);\r\n                    Picasso.get().load(weekly_post.hccoverimg).into(weekly_img);\r\n                }\r\n                else{// if its Recipe Corner post\r\n                    weekly_title.setText(weekly_post.recipeName);\r\n                    weekly_author.setText(weekly_post.userName);\r\n                    Picasso.get().load(weekly_post.foodImage).into(weekly_img);\r\n                }\r\n```\r\n\r\nHere is the Firebase information that I would like to retrieve:\r\n``` \r\n{\r\n  &quot;WeeklyDate&quot;: 1655453785645,\r\n  &quot;WeeklyPost&quot;: &quot;-N4h6xJSy_iC0WZ_2UjT&quot;\r\n}\r\n```\r\n\r\nThis is how I stored it into FIrebase:\r\n```\r\n       public void setWeekly(HomeMixData data) {\r\n        Long weeklyDate = System.currentTimeMillis();\r\n        String weeklyPostUID = data.postID;\r\n\r\n        // Put object into Firebase\r\n        databaseReferencetest = FirebaseDatabase.getInstance().getReference();\r\n        databaseReferencetest.child(&quot;WeeklyDate&quot;).setValue(weeklyDate);\r\n        databaseReferencetest.child(&quot;WeeklyPost&quot;).setValue(weeklyPostUID);\r\n    }\r\n```","title":"Java : Unable to get Long value from Firebase","body":"<p>I'm currently trying to get my Long value under the name &quot;WeeklyDate&quot; to convert into a Date value but when I try referencing the Long value, it keeps returning a null error.</p>\n<blockquote>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'long java.lang.Long.longValue()' on a null object reference</p>\n</blockquote>\n<p>This is my current line:</p>\n<pre><code>weeklyDate = snapshot.child(&quot;WeeklyDate&quot;).getValue(Long.class);\n</code></pre>\n<p>Reference Line:</p>\n<pre><code>Date storedDate = new Date(weeklyDate);\n</code></pre>\n<p>Ive tried Instatianting the weeklyDate at the top of the class by doing:</p>\n<p><code>Long weeklyDate = 0L;</code> and <code>Long weeklyDate = new Long(1);</code> The null error is gone, but the value is still wrong I've checked.</p>\n<p>Here is the entire section of the code:</p>\n<pre><code>public class HomeParentAdapter extends RecyclerView.Adapter&lt;HomeParentViewHolder&gt; {\n    ArrayList&lt;HomeParentData&gt; data;\n    Context c;\n    Integer random;\n\n    HomeMixData weekly_post = new HomeMixData();\n\n    DatabaseReference databaseReference;\n    FirebaseDatabase firebaseDatabase;\n    String weeklyPost;\n    Long weeklyDate = new Long(1);\n\n    public HomeParentAdapter(Context c, ArrayList&lt;HomeParentData&gt; data){\n        this.data = data;\n        this.c = c;\n    }\n\n    @Override\n    //getting position of viewholder, if its 0, return 0 else return 1\n    public int getItemViewType(int position) {\n        return (position == 0)?0:1;\n    }\n\n\n    @NonNull\n    @Override\n    public HomeParentViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        //Setting layout file and doing rv of nested layout within parent RV if posiiton of viewholder == 0\n        View item;\n        HomeMix homeMix = new HomeMix();\n        if (viewType == 0){\n            //Inflating child layout within Parent RV\n            item = LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.activity_home_child, null, false);\n\n            // Making Child RV for child layout within parent RV\n            ArrayList&lt;HomeChildData&gt; data = new ArrayList&lt;&gt;();\n            ArrayList&lt;HomeMixData&gt; sortedMixList = homeMix.filterDT();\n            ArrayList&lt;HomeMixData&gt; randomMixList = homeMix.RandomData();\n\n            ImageView weekly_img = item.findViewById(R.id.weekly_img);\n            TextView weekly_title = item.findViewById(R.id.weekly_title);\n            TextView weekly_author = item.findViewById(R.id.weekly_author);\n\n\n            // Getting WEEKLY date &amp; post ID Values From Database\n            firebaseDatabase = FirebaseDatabase.getInstance();\n            databaseReference = firebaseDatabase.getReference();\n            databaseReference.addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n//                    Getting Weekly Items from database\n                    weeklyDate = snapshot.child(&quot;WeeklyDate&quot;).getValue(Long.class);\n                    weeklyPost = snapshot.child(&quot;WeeklyPost&quot;).getValue(String.class);\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });\n\n            if (randomMixList.size() &gt; 0){\n                // post to retrieve for weekly feature determines randomly\n                final int random = new Random().nextInt(randomMixList.size());\n                ArrayList&lt;HomeMixData&gt; weekly_list = new ArrayList&lt;&gt;();\n                weekly_post = randomMixList.get(random);\n\n                //Getting Current Date Week\n                Date currentDate = new Date(System.currentTimeMillis());\n                Calendar calendar = Calendar.getInstance();\n                calendar.setFirstDayOfWeek(Calendar.MONDAY);\n                calendar.setMinimalDaysInFirstWeek(4);\n                calendar.setTime(currentDate);\n                int currentWeek = calendar.get(Calendar.WEEK_OF_YEAR);\n                Log.e(&quot;Week&quot;, &quot;Current&quot;+currentWeek);\n\n                //Getting Stored Date Week\n                Date storedDate = new Date(weeklyDate);\n                calendar = Calendar.getInstance();\n                calendar.setTime(storedDate);\n                int storedWeek = calendar.get(Calendar.WEEK_OF_YEAR);\n                Log.e(&quot;Week&quot;, &quot;Stored&quot;+storedWeek);\n\n                if (currentWeek != storedWeek){ // setting post and date if post has not been updated this week\n                    homeMix.setWeekly(weekly_post);\n                    Log.e(&quot;beef&quot;, &quot;false&quot;);\n                }\n                else{ // getting post from databse, if this week has been updated\n                    for(HomeMixData i : randomMixList){\n                        if (i.postID == weeklyPost){ // getting the object that matches the ID\n                            weekly_post = i;\n                            Log.e(&quot;beef&quot;, &quot;true&quot;);\n                        }\n                    }\n                }\n\n                weekly_list.add(weekly_post); // can be passed to bundle\n                //Setting items of things in Weekly post using sortedMixList\n                if (weekly_post.identifier == true) { // if its Hawker Corner post\n                    weekly_title.setText(weekly_post.hcstallname);\n                    weekly_author.setText(&quot;By: &quot;+weekly_post.hcauthor);\n                    Picasso.get().load(weekly_post.hccoverimg).into(weekly_img);\n                }\n                else{// if its Recipe Corner post\n                    weekly_title.setText(weekly_post.recipeName);\n                    weekly_author.setText(weekly_post.userName);\n                    Picasso.get().load(weekly_post.foodImage).into(weekly_img);\n                }\n</code></pre>\n<p>Here is the Firebase information that I would like to retrieve:</p>\n<pre><code>{\n  &quot;WeeklyDate&quot;: 1655453785645,\n  &quot;WeeklyPost&quot;: &quot;-N4h6xJSy_iC0WZ_2UjT&quot;\n}\n</code></pre>\n<p>This is how I stored it into FIrebase:</p>\n<pre><code>       public void setWeekly(HomeMixData data) {\n        Long weeklyDate = System.currentTimeMillis();\n        String weeklyPostUID = data.postID;\n\n        // Put object into Firebase\n        databaseReferencetest = FirebaseDatabase.getInstance().getReference();\n        databaseReferencetest.child(&quot;WeeklyDate&quot;).setValue(weeklyDate);\n        databaseReferencetest.child(&quot;WeeklyPost&quot;).setValue(weeklyPostUID);\n    }\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate","uuid"],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1624798103,"creation_date":1624796395,"answer_id":68151102,"question_id":68150511,"body_markdown":"Try defining the type for the field as Hibernate unable to understand the type by annotating field with `@Type(type=&quot;org.hibernate.type.UUIDCharType&quot;)`\r\n\r\n\r\n    @Type(type=&quot;org.hibernate.type.UUIDCharType&quot;)\r\n    private UUID id;","title":"PSQLException: ERROR: operator does not exist: character varying = uuid","body":"<p>Try defining the type for the field as Hibernate unable to understand the type by annotating field with <code>@Type(type=&quot;org.hibernate.type.UUIDCharType&quot;)</code></p>\n<pre><code>@Type(type=&quot;org.hibernate.type.UUIDCharType&quot;)\nprivate UUID id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25570963,"reputation":78,"user_id":19351325,"display_name":"ArtemAgaev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655458064,"creation_date":1655458064,"answer_id":72657194,"question_id":68150511,"body_markdown":"If specifying type didn&#39;t help you also can try smth like this:\r\n\r\n    public class UUIDConverter implements AttributeConverter&lt;UUID, String&gt; {\r\n        @Override\r\n        public String convertToDatabaseColumn(UUID attribute) {\r\n            return attribute == null ? null : attribute.toString();\r\n        }\r\n    \r\n        @Override\r\n        public UUID convertToEntityAttribute(String dbData) {\r\n            return dbData == null ? null : UUID.fromString(dbData);\r\n        }\r\n    }\r\n\r\nand modify you entity field:\r\n\r\n    @Convert(converter = UUIDConverter.class)\r\n    private UUID id;\r\n\r\nThis solution adds type conversion every time you retrieve entity and also requires you to place `@Convert` annotation for each uuid field, but as workaround this will do.\r\n\r\nAlso make sure that column in database has varchar/text type, otherwise it may fail(if you don&#39;t want to or can&#39;t replace types from uuid to varchar, just create view)","title":"PSQLException: ERROR: operator does not exist: character varying = uuid","body":"<p>If specifying type didn't help you also can try smth like this:</p>\n<pre><code>public class UUIDConverter implements AttributeConverter&lt;UUID, String&gt; {\n    @Override\n    public String convertToDatabaseColumn(UUID attribute) {\n        return attribute == null ? null : attribute.toString();\n    }\n\n    @Override\n    public UUID convertToEntityAttribute(String dbData) {\n        return dbData == null ? null : UUID.fromString(dbData);\n    }\n}\n</code></pre>\n<p>and modify you entity field:</p>\n<pre><code>@Convert(converter = UUIDConverter.class)\nprivate UUID id;\n</code></pre>\n<p>This solution adds type conversion every time you retrieve entity and also requires you to place <code>@Convert</code> annotation for each uuid field, but as workaround this will do.</p>\n<p>Also make sure that column in database has varchar/text type, otherwise it may fail(if you don't want to or can't replace types from uuid to varchar, just create view)</p>\n"}],"owner":{"account_id":9599886,"reputation":3716,"user_id":7127824,"accept_rate":100,"display_name":"techkuz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8630,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":68151102,"answer_count":2,"score":6,"last_activity_date":1655458064,"creation_date":1624792081,"question_id":68150511,"body_markdown":"I have this repository:\r\n\r\n```\r\n@Repository\r\npublic interface DomainRepository extends CrudRepository&lt;Domain, String&gt; {\r\n    Domain findByUuid(UUID uuid);\r\n}\r\n```\r\n\r\nI have this entity:\r\n\r\n```\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name=&quot;a&quot;, schema=&quot;b&quot;)\r\npublic class Domain {\r\n    @Id\r\n    private String id;\r\n    private UUID uuid;\r\n\r\n}\r\n```\r\n\r\nBut when I do \r\n`Domain d = domainRepository.findByUuid(UUID.randomUUID());` \r\n\r\nI get `PSQLException: ERROR: operator does not exist: character varying = uuid` (column type in table is `VARCHAR`).\r\n\r\nHow to fix this?","title":"PSQLException: ERROR: operator does not exist: character varying = uuid","body":"<p>I have this repository:</p>\n<pre><code>@Repository\npublic interface DomainRepository extends CrudRepository&lt;Domain, String&gt; {\n    Domain findByUuid(UUID uuid);\n}\n</code></pre>\n<p>I have this entity:</p>\n<pre><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name=&quot;a&quot;, schema=&quot;b&quot;)\npublic class Domain {\n    @Id\n    private String id;\n    private UUID uuid;\n\n}\n</code></pre>\n<p>But when I do\n<code>Domain d = domainRepository.findByUuid(UUID.randomUUID());</code></p>\n<p>I get <code>PSQLException: ERROR: operator does not exist: character varying = uuid</code> (column type in table is <code>VARCHAR</code>).</p>\n<p>How to fix this?</p>\n"},{"tags":["java","mysql","jdbc"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1521007807,"creation_date":1521007807,"answer_id":49270799,"question_id":49270693,"body_markdown":"You bound your query parameters in the wrong order.  Look closely at the statement and then the updated code which follows:\r\n\r\n    String sql = &quot;UPDATE employees set firstName = ?, lastName = ?, gender = ?, &quot;;\r\n    sql += &quot;age = ?, position = ?, image = ? where employeeNum =?&quot;;\r\n\r\n    pst.setString(1, firstName);  // first parameter (?) in statement\r\n    pst.setString(2, lastName);\r\n    pst.setString(3, gender);\r\n    pst.setInt(4, age);\r\n    pst.setString(5, position);\r\n    pst.setString(6, image);\r\n    pst.setInt(7, employeeNum);   // LAST parameter (?) in statement","title":"Data truncation: Truncated incorrect DOUBLE value:","body":"<p>You bound your query parameters in the wrong order.  Look closely at the statement and then the updated code which follows:</p>\n\n<pre><code>String sql = \"UPDATE employees set firstName = ?, lastName = ?, gender = ?, \";\nsql += \"age = ?, position = ?, image = ? where employeeNum =?\";\n\npst.setString(1, firstName);  // first parameter (?) in statement\npst.setString(2, lastName);\npst.setString(3, gender);\npst.setInt(4, age);\npst.setString(5, position);\npst.setString(6, image);\npst.setInt(7, employeeNum);   // LAST parameter (?) in statement\n</code></pre>\n"}],"owner":{"account_id":11677117,"reputation":188,"user_id":8550262,"display_name":"sm0keman1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2760,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":49270799,"answer_count":1,"score":0,"last_activity_date":1655457679,"creation_date":1521007339,"question_id":49270693,"body_markdown":"I have been trying to solve this for hours and I have no idea why this is happening. I keep on getting this error when trying to update one of my &quot;Employees&quot; with my GUI that I made.\r\n\r\n    com.mysql.jdbc.MysqlDataTruncation: Data truncation: Truncated incorrect DOUBLE value: &#39;test&#39;\r\n\r\nWhenever I click an employee in my TableView, and then change the field of something, I would get that. Here is a picture of my GUI:\r\n\r\n[![employee records][1]][1]\r\n\r\n\r\nNothing in my data table is a DOUBLE, they all are like this:\r\n\r\n[![mysql data table][2]][2]\r\n\r\nI have googled everywhere and it all says it relates to syntax for my SQL query but that looks fine so I do not know why.\r\n\r\nHere is the code for my Update button:\r\n\r\n    \r\n    public void handleUpdateEmployee(ActionEvent event) {\r\n        String sql = &quot;UPDATE employees set firstName = ?, lastName = ?, gender = ?, age = ?, position = ?, image = ? where employeeNum =?&quot;;\r\n        try {\r\n            Integer employeeNum = Integer.valueOf(employeeNumField.getText());\r\n            String firstName = firstNameField.getText();\r\n            String lastName = lastNameField.getText();\r\n            String gender = genderField.getText();\r\n            Integer age = Integer.valueOf(ageField.getText());\r\n            String position = positionField.getText();\r\n            String image = imageField.getText();\r\n\r\n            pst = con.prepareStatement(sql);\r\n            pst.setInt(1, employeeNum);\r\n            pst.setString(2, firstName);\r\n            pst.setString(3, lastName);\r\n            pst.setString(4, gender);\r\n            pst.setInt(5, age);\r\n            pst.setString(6, position);\r\n            pst.setString(7, image);\r\n\r\n            pst.executeUpdate();\r\n            loadEmployeeData();\r\n\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nWould appreciate any help and if you need any more details, let me know!\r\n\r\n  [1]: https://i.stack.imgur.com/sxDj1.png\r\n  [2]: https://i.stack.imgur.com/wkeF6.png","title":"Data truncation: Truncated incorrect DOUBLE value:","body":"<p>I have been trying to solve this for hours and I have no idea why this is happening. I keep on getting this error when trying to update one of my \"Employees\" with my GUI that I made.</p>\n\n<pre><code>com.mysql.jdbc.MysqlDataTruncation: Data truncation: Truncated incorrect DOUBLE value: 'test'\n</code></pre>\n\n<p>Whenever I click an employee in my TableView, and then change the field of something, I would get that. Here is a picture of my GUI:</p>\n\n<p><a href=\"https://i.stack.imgur.com/sxDj1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sxDj1.png\" alt=\"employee records\"></a></p>\n\n<p>Nothing in my data table is a DOUBLE, they all are like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wkeF6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wkeF6.png\" alt=\"mysql data table\"></a></p>\n\n<p>I have googled everywhere and it all says it relates to syntax for my SQL query but that looks fine so I do not know why.</p>\n\n<p>Here is the code for my Update button:</p>\n\n<pre><code>public void handleUpdateEmployee(ActionEvent event) {\n    String sql = \"UPDATE employees set firstName = ?, lastName = ?, gender = ?, age = ?, position = ?, image = ? where employeeNum =?\";\n    try {\n        Integer employeeNum = Integer.valueOf(employeeNumField.getText());\n        String firstName = firstNameField.getText();\n        String lastName = lastNameField.getText();\n        String gender = genderField.getText();\n        Integer age = Integer.valueOf(ageField.getText());\n        String position = positionField.getText();\n        String image = imageField.getText();\n\n        pst = con.prepareStatement(sql);\n        pst.setInt(1, employeeNum);\n        pst.setString(2, firstName);\n        pst.setString(3, lastName);\n        pst.setString(4, gender);\n        pst.setInt(5, age);\n        pst.setString(6, position);\n        pst.setString(7, image);\n\n        pst.executeUpdate();\n        loadEmployeeData();\n\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Would appreciate any help and if you need any more details, let me know!</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":2,"creation_date":1655429044,"post_id":72653388,"comment_id":128336078,"body_markdown":"Iterate the list and simply save the desired items to a new list. What have you tried so far? How are you representing this data in code? And what issues are you facing that stop you from doing this?","body":"Iterate the list and simply save the desired items to a new list. What have you tried so far? How are you representing this data in code? And what issues are you facing that stop you from doing this?"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1655435101,"post_id":72653388,"comment_id":128336954,"body_markdown":"Please share any code you have tried, any attempt (even if it isn&#39;t working). Also, this might be useful to read: [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask)","body":"Please share any code you have tried, any attempt (even if it isn&#39;t working). Also, this might be useful to read: <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655456849,"creation_date":1655430172,"answer_id":72653515,"question_id":72653388,"body_markdown":"Try this.\r\n\r\n    record Approval(String title, boolean approved) {}\r\n    record Employee(int id, String employee_name, List&lt;Approval&gt; approval) {}\r\n\r\n    List&lt;Employee&gt; employees = List.of(\r\n        new Employee(1, &quot;Johny Doe&quot;,\r\n            List.of(new Approval(&quot;Manager 1&quot;, true), new Approval(&quot;Manager 2&quot;, true))),\r\n        new Employee(2, &quot;Jane Doe&quot;,\r\n            List.of(new Approval(&quot;Manager 1&quot;, true), new Approval(&quot;Manager 2&quot;, false))),\r\n        new Employee(3, &quot;Falcon X&quot;,\r\n            List.of(new Approval(&quot;Manager 1&quot;, true), new Approval(&quot;Manager 2&quot;, true))));\r\n\r\n    Approval m1 = new Approval(&quot;Manager 1&quot;, true),\r\n             m2 = new Approval(&quot;Manager 2&quot;, true);\r\n\r\n    List&lt;Employee&gt; result = employees.stream()\r\n        .filter(e -&gt; e.approval.contains(m1) &amp;&amp; e.approval.contains(m2))\r\n        .toList();\r\n\r\n    for (Employee e : result)\r\n        System.out.println(e);\r\n\r\noutput:\r\n\r\n    Employee[id=1, employee_name=Johny Doe, approval=[Approval[title=Manager 1, approved=true], Approval[title=Manager 2, approved=true]]]\r\n    Employee[id=3, employee_name=Falcon X, approval=[Approval[title=Manager 1, approved=true], Approval[title=Manager 2, approved=true]]]\r\n\r\nIf you use ```class``` instead of ```record```, you need to override ```equals()``` and ```hashCode()``` appropriately.\r\n","title":"How to get a list from another list in Java","body":"<p>Try this.</p>\n<pre><code>record Approval(String title, boolean approved) {}\nrecord Employee(int id, String employee_name, List&lt;Approval&gt; approval) {}\n\nList&lt;Employee&gt; employees = List.of(\n    new Employee(1, &quot;Johny Doe&quot;,\n        List.of(new Approval(&quot;Manager 1&quot;, true), new Approval(&quot;Manager 2&quot;, true))),\n    new Employee(2, &quot;Jane Doe&quot;,\n        List.of(new Approval(&quot;Manager 1&quot;, true), new Approval(&quot;Manager 2&quot;, false))),\n    new Employee(3, &quot;Falcon X&quot;,\n        List.of(new Approval(&quot;Manager 1&quot;, true), new Approval(&quot;Manager 2&quot;, true))));\n\nApproval m1 = new Approval(&quot;Manager 1&quot;, true),\n         m2 = new Approval(&quot;Manager 2&quot;, true);\n\nList&lt;Employee&gt; result = employees.stream()\n    .filter(e -&gt; e.approval.contains(m1) &amp;&amp; e.approval.contains(m2))\n    .toList();\n\nfor (Employee e : result)\n    System.out.println(e);\n</code></pre>\n<p>output:</p>\n<pre><code>Employee[id=1, employee_name=Johny Doe, approval=[Approval[title=Manager 1, approved=true], Approval[title=Manager 2, approved=true]]]\nEmployee[id=3, employee_name=Falcon X, approval=[Approval[title=Manager 1, approved=true], Approval[title=Manager 2, approved=true]]]\n</code></pre>\n<p>If you use <code>class</code> instead of <code>record</code>, you need to override <code>equals()</code> and <code>hashCode()</code> appropriately.</p>\n"}],"owner":{"account_id":25576218,"reputation":11,"user_id":19355617,"display_name":"Valindom"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1655644083,"accepted_answer_id":72653515,"answer_count":1,"score":0,"last_activity_date":1655456849,"creation_date":1655428676,"question_id":72653388,"body_markdown":"I wanna ask some thing\r\nLet&#39;s say I have list of employee, and each employee contains list of approvals.\r\n\r\nAnd it looks like this\r\n\r\n    &quot;employeeList&quot;: [\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;employee_name&quot;: &quot;Johny Doe&quot;,\r\n        &quot;approval&quot;: [\r\n            {\r\n                &quot;title&quot;: &quot;Manager 1&quot;,\r\n                &quot;approved&quot;: true\r\n            },\r\n            {\r\n                &quot;title&quot;: &quot;Manager 2&quot;,\r\n                &quot;approved&quot;: true\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;employee_name&quot;: &quot;Jane Doe&quot;,\r\n        &quot;approval&quot;: [\r\n            {\r\n                &quot;title&quot;: &quot;Manager 1&quot;,\r\n                &quot;approved&quot;: true\r\n            },\r\n            {\r\n                &quot;title&quot;: &quot;Manager 2&quot;,\r\n                &quot;approved&quot;: false\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;id&quot;: 3,\r\n        &quot;employee_name&quot;: &quot;Falcon X&quot;,\r\n        &quot;approval&quot;: [\r\n            {\r\n                &quot;title&quot;: &quot;Manager 1&quot;,\r\n                &quot;approved&quot;: true\r\n            },\r\n            {\r\n                &quot;title&quot;: &quot;Manager 2&quot;,\r\n                &quot;approved&quot;: true\r\n            }\r\n        ]\r\n    }]\r\n\r\nthe thing is I wanna show list which only approved by Manager 1 and Manager 2,\r\nthis is what it looks like\r\n\r\n    &quot;employeeList&quot;: [\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;employee_name&quot;: &quot;Johny Doe&quot;,\r\n        &quot;approval&quot;: [\r\n            {\r\n                &quot;title&quot;: &quot;Manager 1&quot;,\r\n                &quot;approved&quot;: true\r\n            },\r\n            {\r\n                &quot;title&quot;: &quot;Manager 2&quot;,\r\n                &quot;approved&quot;: true\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;id&quot;: 3,\r\n        &quot;employee_name&quot;: &quot;Falcon X&quot;,\r\n        &quot;approval&quot;: [\r\n            {\r\n                &quot;title&quot;: &quot;Manager 1&quot;,\r\n                &quot;approved&quot;: true\r\n            },\r\n            {\r\n                &quot;title&quot;: &quot;Manager 2&quot;,\r\n                &quot;approved&quot;: true\r\n            }\r\n        ]\r\n    }]\r\n\r\nHow to achieve this is in Java ?\r\nCan I have suggestion ?\r\nAny suggestion would be helped\r\n\r\nThanks in advance","title":"How to get a list from another list in Java","body":"<p>I wanna ask some thing\nLet's say I have list of employee, and each employee contains list of approvals.</p>\n<p>And it looks like this</p>\n<pre><code>&quot;employeeList&quot;: [\n{\n    &quot;id&quot;: 1,\n    &quot;employee_name&quot;: &quot;Johny Doe&quot;,\n    &quot;approval&quot;: [\n        {\n            &quot;title&quot;: &quot;Manager 1&quot;,\n            &quot;approved&quot;: true\n        },\n        {\n            &quot;title&quot;: &quot;Manager 2&quot;,\n            &quot;approved&quot;: true\n        }\n    ]\n},\n{\n    &quot;id&quot;: 2,\n    &quot;employee_name&quot;: &quot;Jane Doe&quot;,\n    &quot;approval&quot;: [\n        {\n            &quot;title&quot;: &quot;Manager 1&quot;,\n            &quot;approved&quot;: true\n        },\n        {\n            &quot;title&quot;: &quot;Manager 2&quot;,\n            &quot;approved&quot;: false\n        }\n    ]\n},\n{\n    &quot;id&quot;: 3,\n    &quot;employee_name&quot;: &quot;Falcon X&quot;,\n    &quot;approval&quot;: [\n        {\n            &quot;title&quot;: &quot;Manager 1&quot;,\n            &quot;approved&quot;: true\n        },\n        {\n            &quot;title&quot;: &quot;Manager 2&quot;,\n            &quot;approved&quot;: true\n        }\n    ]\n}]\n</code></pre>\n<p>the thing is I wanna show list which only approved by Manager 1 and Manager 2,\nthis is what it looks like</p>\n<pre><code>&quot;employeeList&quot;: [\n{\n    &quot;id&quot;: 1,\n    &quot;employee_name&quot;: &quot;Johny Doe&quot;,\n    &quot;approval&quot;: [\n        {\n            &quot;title&quot;: &quot;Manager 1&quot;,\n            &quot;approved&quot;: true\n        },\n        {\n            &quot;title&quot;: &quot;Manager 2&quot;,\n            &quot;approved&quot;: true\n        }\n    ]\n},\n{\n    &quot;id&quot;: 3,\n    &quot;employee_name&quot;: &quot;Falcon X&quot;,\n    &quot;approval&quot;: [\n        {\n            &quot;title&quot;: &quot;Manager 1&quot;,\n            &quot;approved&quot;: true\n        },\n        {\n            &quot;title&quot;: &quot;Manager 2&quot;,\n            &quot;approved&quot;: true\n        }\n    ]\n}]\n</code></pre>\n<p>How to achieve this is in Java ?\nCan I have suggestion ?\nAny suggestion would be helped</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot","unit-testing","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":10835566,"reputation":2546,"user_id":7968673,"display_name":"Hamza Belmellouki"},"score":1,"creation_date":1655293530,"post_id":72628487,"comment_id":128296919,"body_markdown":"Can you provide the error message of the test? Also, can you provide `getTransactionProvider` method implementation so I can reproduce your test?","body":"Can you provide the error message of the test? Also, can you provide <code>getTransactionProvider</code> method implementation so I can reproduce your test?"},{"owner":{"account_id":15708484,"reputation":85,"user_id":11334569,"display_name":"Leofierus"},"score":0,"creation_date":1655354324,"post_id":72628487,"comment_id":128313891,"body_markdown":"Here&#39;s the error for the Test for Exception:  org.opentest4j.AssertionFailedError: Expected java.lang.RuntimeException to be thrown, but nothing was thrown.\n\nAnd I tried returning a ListenableFuture for the former unit test but it was giving me zero percent code coverage for the required code.","body":"Here&#39;s the error for the Test for Exception:  org.opentest4j.AssertionFailedError: Expected java.lang.RuntimeException to be thrown, but nothing was thrown.  And I tried returning a ListenableFuture for the former unit test but it was giving me zero percent code coverage for the required code."},{"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"score":0,"creation_date":1655385544,"post_id":72628487,"comment_id":128323493,"body_markdown":"You can  write callbacks instead of blocking the main thread execution by calling get in future object","body":"You can  write callbacks instead of blocking the main thread execution by calling get in future object"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655301792,"creation_date":1655301436,"answer_id":72632778,"question_id":72628487,"body_markdown":"If I understood your question, you should return a new SendResult that would have the methods implemented with the data you expect\r\n\r\nhttps://docs.spring.io/spring-kafka/api/org/springframework/kafka/support/SendResult.html\r\n\r\nAnd wrap it in a Future\r\n\r\n`ListenableFuture&lt;SendResult&lt;K,​V&gt;&gt;`\r\n\r\nAlternatively, make `sendMessage` void method (or return a Future itself), and pass in a producer callback parameter that&#39;s carried through to send, rather than making it block. Then you can assert the response of the callback ","title":"Unit Testing a Kafka SpringBoot producer","body":"<p>If I understood your question, you should return a new SendResult that would have the methods implemented with the data you expect</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/support/SendResult.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/api/org/springframework/kafka/support/SendResult.html</a></p>\n<p>And wrap it in a Future</p>\n<p><code>ListenableFuture&lt;SendResult&lt;K,​V&gt;&gt;</code></p>\n<p>Alternatively, make <code>sendMessage</code> void method (or return a Future itself), and pass in a producer callback parameter that's carried through to send, rather than making it block. Then you can assert the response of the callback</p>\n"},{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655386114,"creation_date":1655385688,"answer_id":72646580,"question_id":72628487,"body_markdown":"Welcome to SO...\r\n\r\nWhy does your test case fail?\r\nBecause your logic will not throw an error.\r\n\r\nYour function will not throw an exception since you catch the exception inside the function as follow and you return boolean value.\r\n\r\n```\r\ncatch (Exception e){\r\n        logger.error(&quot;Error sending message: {} to topic: {}&quot;, message, topicName, e);\r\n        return false;\r\n    }\r\n```\r\n\r\nIn that case, you need to test whether the function returns false or not.\r\n\r\n\r\nAs I commented earlier, don&#39;t block the main thread by calling the get method in the future object. You can simply implement the future callbacks which can be invoked once you get the result as following\r\n\r\n\r\n```java\r\npublic void sendMessage(ReceivedMessage message) {\r\n    private String topicName = &quot;output-flow&quot;;\r\n    try{\r\n        logger.info(&quot;Sending message: {} to topic: {}&quot;, message, topicName);\r\n          ListenableFuture&lt;SendResult&lt;String, String&gt;&gt; future  = kafkaProducer.send(topicName, message);\r\n\r\n\r\n                future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, String&gt;&gt;() {\r\n    \r\n                    @Override\r\n                    public void onSuccess(SendResult&lt;String, String&gt; result) {\r\n    \r\n                        System.out.println(&quot;Message Sent  &quot; + result.getRecordMetadata().timestamp());\r\n                        //your logic for the success scenario    \r\n                    }\r\n    \r\n                    @Override\r\n                    public void onFailure(Throwable ex) {\r\n    \r\n                        System.out.println(&quot; sending failed  &quot;);\r\n// your logic if failed\r\nthrow new RuntimeException(&quot;Kafka Failed&quot;);\r\n   \r\n    \r\n                    }\r\n                });\r\n    \r\n    } catch (Exception e){\r\n        logger.error(&quot;Error sending message: {} to topic: {}&quot;, message, topicName, e);\r\n        throw new RuntimeException(&quot;Exception occurred&quot;);\r\n    }\r\n}\r\n","title":"Unit Testing a Kafka SpringBoot producer","body":"<p>Welcome to SO...</p>\n<p>Why does your test case fail?\nBecause your logic will not throw an error.</p>\n<p>Your function will not throw an exception since you catch the exception inside the function as follow and you return boolean value.</p>\n<pre><code>catch (Exception e){\n        logger.error(&quot;Error sending message: {} to topic: {}&quot;, message, topicName, e);\n        return false;\n    }\n</code></pre>\n<p>In that case, you need to test whether the function returns false or not.</p>\n<p>As I commented earlier, don't block the main thread by calling the get method in the future object. You can simply implement the future callbacks which can be invoked once you get the result as following</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void sendMessage(ReceivedMessage message) {\n    private String topicName = &quot;output-flow&quot;;\n    try{\n        logger.info(&quot;Sending message: {} to topic: {}&quot;, message, topicName);\n          ListenableFuture&lt;SendResult&lt;String, String&gt;&gt; future  = kafkaProducer.send(topicName, message);\n\n\n                future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, String&gt;&gt;() {\n    \n                    @Override\n                    public void onSuccess(SendResult&lt;String, String&gt; result) {\n    \n                        System.out.println(&quot;Message Sent  &quot; + result.getRecordMetadata().timestamp());\n                        //your logic for the success scenario    \n                    }\n    \n                    @Override\n                    public void onFailure(Throwable ex) {\n    \n                        System.out.println(&quot; sending failed  &quot;);\n// your logic if failed\nthrow new RuntimeException(&quot;Kafka Failed&quot;);\n   \n    \n                    }\n                });\n    \n    } catch (Exception e){\n        logger.error(&quot;Error sending message: {} to topic: {}&quot;, message, topicName, e);\n        throw new RuntimeException(&quot;Exception occurred&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15708484,"reputation":85,"user_id":11334569,"display_name":"Leofierus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3371,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1655456845,"creation_date":1655283329,"question_id":72628487,"body_markdown":"I am trying to create a unit test for my Kafka Producer which is integrated into a file. Here&#39;s my Kafka Producer:\r\n```\r\nFileName: MessageProducer.java\r\n\r\npublic boolean sendMessage(ReceivedMessage message) {\r\n    private String topicName = &quot;output-flow&quot;;\r\n    try{\r\n        logger.info(&quot;Sending message: {} to topic: {}&quot;, message, topicName);\r\n        kafkaProducer.send(topicName, message).get();\r\n        return true;\r\n    } catch (Exception e){\r\n        logger.error(&quot;Error sending message: {} to topic: {}&quot;, message, topicName, e);\r\n        return false;\r\n    }\r\n}\r\n```\r\nAnd here is what I have done so far for my unit test, obviously, with not success at all:\r\n```\r\n@Mock\r\nprivate KafkaTemplate&lt;String, ReceivedMessage &gt; kafkaProducer;\r\n\r\nprivate static final String TRANSACTION_TOPIC = &quot;test&quot;;\r\n\r\n// Function for parameterized values\r\n\r\n@ParameterizedTest\r\n@MethodSource(&quot;getTransactionProvider&quot;)\r\npublic void sendMessageTest(ReceivedMessage message) {\r\n    MessageProducer mockProducer = new MessageProducer(kafkaProducer);\r\n    when(kafkaProducer.send(TRANSACTION_TOPIC, message)).thenReturn({no idea what to put here});\r\n    when(mockProducer.sendMessage(message)).thenReturn(true);\r\n    assertTrue(mockProducer.sendMessage(message));\r\n}\r\n\r\n// Test for exception\r\n// Fails too\r\n@ParameterizedTest\r\n@MethodSource(&quot;getTransactionProvider&quot;)\r\npublic void sendMessageTest_ThrowsException(ReceivedMessage message) {\r\n    MessageProducer mockProducer = new MessageProducer(kafkaProducer);\r\n    when(kafkaProducer.send(TRANSACTION_TOPIC, message)).thenThrow(new RuntimeException());\r\n    assertThrows(RuntimeException.class, () -&gt; mockProducer.sendMessage(null));\r\n}\r\n```\r\n\r\nI get `Exception: org.opentest4j.AssertionFailedError: Expected java.lang.RuntimeException to be thrown, but nothing was thrown.` for the latter unit test.","title":"Unit Testing a Kafka SpringBoot producer","body":"<p>I am trying to create a unit test for my Kafka Producer which is integrated into a file. Here's my Kafka Producer:</p>\n<pre><code>FileName: MessageProducer.java\n\npublic boolean sendMessage(ReceivedMessage message) {\n    private String topicName = &quot;output-flow&quot;;\n    try{\n        logger.info(&quot;Sending message: {} to topic: {}&quot;, message, topicName);\n        kafkaProducer.send(topicName, message).get();\n        return true;\n    } catch (Exception e){\n        logger.error(&quot;Error sending message: {} to topic: {}&quot;, message, topicName, e);\n        return false;\n    }\n}\n</code></pre>\n<p>And here is what I have done so far for my unit test, obviously, with not success at all:</p>\n<pre><code>@Mock\nprivate KafkaTemplate&lt;String, ReceivedMessage &gt; kafkaProducer;\n\nprivate static final String TRANSACTION_TOPIC = &quot;test&quot;;\n\n// Function for parameterized values\n\n@ParameterizedTest\n@MethodSource(&quot;getTransactionProvider&quot;)\npublic void sendMessageTest(ReceivedMessage message) {\n    MessageProducer mockProducer = new MessageProducer(kafkaProducer);\n    when(kafkaProducer.send(TRANSACTION_TOPIC, message)).thenReturn({no idea what to put here});\n    when(mockProducer.sendMessage(message)).thenReturn(true);\n    assertTrue(mockProducer.sendMessage(message));\n}\n\n// Test for exception\n// Fails too\n@ParameterizedTest\n@MethodSource(&quot;getTransactionProvider&quot;)\npublic void sendMessageTest_ThrowsException(ReceivedMessage message) {\n    MessageProducer mockProducer = new MessageProducer(kafkaProducer);\n    when(kafkaProducer.send(TRANSACTION_TOPIC, message)).thenThrow(new RuntimeException());\n    assertThrows(RuntimeException.class, () -&gt; mockProducer.sendMessage(null));\n}\n</code></pre>\n<p>I get <code>Exception: org.opentest4j.AssertionFailedError: Expected java.lang.RuntimeException to be thrown, but nothing was thrown.</code> for the latter unit test.</p>\n"},{"tags":["java","email","amazon-ec2","smtp","amazon-ses"],"answers":[{"tags":[],"owner":{"account_id":2454188,"reputation":10663,"user_id":2139766,"accept_rate":100,"display_name":"AnFi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1655456377,"creation_date":1374152059,"answer_id":17724054,"question_id":17721578,"body_markdown":"Passing outgoing SMTP (25) port connections bloc\r\n==\r\n\r\nTry sending your email via email-smtp.us-east-1.amazonaws.com:587.\r\n\r\nOutgoing connections to SMTP (25) port may be blocked by a firewall to stop outgoing spam. \r\n\r\nCan you telnet any of the two ports? Do you get SMTP greeting messages?\r\n\r\n    telnet email-smtp.us-east-1.amazonaws.com 25\r\n    telnet email-smtp.us-east-1.amazonaws.com 587\r\n\r\nhttps://en.wikipedia.org/wiki/Mail_submission_agent\r\n&gt; Many Internet service providers and enterprise or institutional networks restrict the ability to connect to remote MTAs on port 25. The accessibility of a Mail Submission Agent on port 587[1] enables nomadic users to continue to send mail via their preferred submission servers even from within others&#39; network","title":"Suddenly not able to send email by amazon SES - unable to connect smtp host","body":"<h1>Passing outgoing SMTP (25) port connections bloc</h1>\n<p>Try sending your email via email-smtp.us-east-1.amazonaws.com:587.</p>\n<p>Outgoing connections to SMTP (25) port may be blocked by a firewall to stop outgoing spam.</p>\n<p>Can you telnet any of the two ports? Do you get SMTP greeting messages?</p>\n<pre><code>telnet email-smtp.us-east-1.amazonaws.com 25\ntelnet email-smtp.us-east-1.amazonaws.com 587\n</code></pre>\n<p><a href=\"https://en.wikipedia.org/wiki/Mail_submission_agent\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Mail_submission_agent</a></p>\n<blockquote>\n<p>Many Internet service providers and enterprise or institutional networks restrict the ability to connect to remote MTAs on port 25. The accessibility of a Mail Submission Agent on port 587[1] enables nomadic users to continue to send mail via their preferred submission servers even from within others' network</p>\n</blockquote>\n"}],"owner":{"account_id":296292,"reputation":3362,"user_id":601168,"accept_rate":50,"display_name":"Abhinav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3991,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1655456377,"creation_date":1374145128,"question_id":17721578,"body_markdown":"I am using Amazon SES from almost 4 months with same code, same port number(25) everything same. But from past 1 week I am not able to send email - while sending this error comes:\r\n\r\nThe email was not sent.&lt;br/&gt;\r\nError message: Could not connect to SMTP host: email-smtp.us-east-1.amazonaws.com, port: 25\r\n\r\nI am using the same code for sending email that amazon suggests to use from link (http://docs.aws.amazon.com/ses/latest/DeveloperGuide/send-using-smtp-java.html)\r\n\r\nWe are working on a website project and using it inside it. Its not a problem with me alone, my team members of 4 working under same internet gateway, all of them are not able to send email from 1 week from their **localhost**.\r\n\r\nBut when we deploy the same code on Amazon ec2, top-level domain say **sample.com** then it starts working but when we deploy the same code under a sub-domain say **beta.sample.com** then again same error starts coming.\r\n\r\nDoes anyone have any idea about this?","title":"Suddenly not able to send email by amazon SES - unable to connect smtp host","body":"<p>I am using Amazon SES from almost 4 months with same code, same port number(25) everything same. But from past 1 week I am not able to send email - while sending this error comes:</p>\n\n<p>The email was not sent.<br/>\nError message: Could not connect to SMTP host: email-smtp.us-east-1.amazonaws.com, port: 25</p>\n\n<p>I am using the same code for sending email that amazon suggests to use from link (<a href=\"http://docs.aws.amazon.com/ses/latest/DeveloperGuide/send-using-smtp-java.html\" rel=\"nofollow\">http://docs.aws.amazon.com/ses/latest/DeveloperGuide/send-using-smtp-java.html</a>)</p>\n\n<p>We are working on a website project and using it inside it. Its not a problem with me alone, my team members of 4 working under same internet gateway, all of them are not able to send email from 1 week from their <strong>localhost</strong>.</p>\n\n<p>But when we deploy the same code on Amazon ec2, top-level domain say <strong>sample.com</strong> then it starts working but when we deploy the same code under a sub-domain say <strong>beta.sample.com</strong> then again same error starts coming.</p>\n\n<p>Does anyone have any idea about this?</p>\n"},{"tags":["java","spring-boot","cqrs","axon"],"comments":[{"owner":{"account_id":3729128,"reputation":2911,"user_id":3102098,"accept_rate":55,"display_name":"Vaelyr"},"score":0,"creation_date":1654934119,"post_id":72579688,"comment_id":128214465,"body_markdown":"Make sure your `associationProperty` is correct on your handlers and for the associations you set from previous handlers. Also are you sure your `ProductReservedEvent` is properly published?","body":"Make sure your <code>associationProperty</code> is correct on your handlers and for the associations you set from previous handlers. Also are you sure your <code>ProductReservedEvent</code> is properly published?"},{"owner":{"account_id":7333742,"reputation":485,"user_id":5585819,"display_name":"KDW"},"score":0,"creation_date":1655060297,"post_id":72579688,"comment_id":128235443,"body_markdown":"Could you share the code responsible for handling the ReserveProductCommand?","body":"Could you share the code responsible for handling the ReserveProductCommand?"}],"answers":[{"tags":[],"owner":{"account_id":19911713,"reputation":65,"user_id":14589598,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655456067,"creation_date":1655456067,"answer_id":72656737,"question_id":72579688,"body_markdown":"I think the issue is that an @Eventhandler is called after an AggregateLifecycle.apply() and the commandGateway.send(reserveProductCommand); will trigger an @Command annotated method.\r\n\r\nSo there is a mixup with the annotations in the expected flow.","title":"Calling next event in saga - Axon","body":"<p>I think the issue is that an @Eventhandler is called after an AggregateLifecycle.apply() and the commandGateway.send(reserveProductCommand); will trigger an @Command annotated method.</p>\n<p>So there is a mixup with the annotations in the expected flow.</p>\n"}],"owner":{"account_id":25484140,"reputation":1,"user_id":19279946,"display_name":"Shahbaz Azam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655456067,"creation_date":1654894127,"question_id":72579688,"body_markdown":"I have 2 events OrderCreatedEvent and ProductReservedEvent. Saga event handlers are as follows:\r\n``` \r\n    @StartSaga\r\n    @SagaEventHandler(associationProperty = &quot;orderId&quot;)\r\n    public void handle(OrderCreatedEvent event){\r\n        LOGGER.info(&quot;Saga Started - OrderCreatedEvent&quot;);\r\n        ReserveProductCommand reserveProductCommand = ReserveProductCommand.builder()\r\n                .orderId(event.getOrderId())\r\n                .productId(event.getProductId())\r\n                .orderId(event.getOrderId())\r\n                .quantity(event.getQuantity())\r\n                .userId(event.getUserId())\r\n                .build();\r\n\r\n        LOGGER.info(&quot;Created Reserve Product Command&quot;);\r\n\r\n//        SagaLifecycle.associateWith(&quot;userId&quot;, event.getUserId()); //not working\r\n        LOGGER.info(&quot;Will call next event in saga&quot;);\r\n        commandGateway.send(reserveProductCommand);\r\n    }\r\n```\r\n\r\n\r\n```\r\n@SagaEventHandler(associationProperty = &quot;orderId&quot;)\r\n    public void handle(ProductReservedEvent productReservedEvent){\r\n        LOGGER.info(&quot;Saga Step - ProductReservedEvent&quot;);\r\n        //Process under payment\r\n\r\n        String userId = productReservedEvent.getUserId();\r\n        FetchUserPaymentDetailsQuery fetchUserDetails = new FetchUserPaymentDetailsQuery(userId);\r\n\r\n        User userPaymentDetails = null;\r\n        try {\r\n            LOGGER.info(&quot;Querying User Service with id: {}&quot;,userId);\r\n            userPaymentDetails = queryGateway.query(fetchUserDetails, ResponseTypes.instanceOf(User.class)).join();\r\n        }catch (Exception exception){\r\n            LOGGER.error(exception.getLocalizedMessage());\r\n            //start compensating transaction\r\n            return;\r\n        }\r\n\r\n        if(userPaymentDetails == null){\r\n            //start compensating transaction\r\n            return;\r\n        }\r\n\r\n        LOGGER.error(&quot;Fetched user details for user {}&quot;,userPaymentDetails.getUserId());\r\n\r\n    }\r\n```\r\n\r\nThe problem is the handle() method of &quot;ProductReservedEvent&quot; is not getting invoked from &quot;handle(OrderCreatedEvent event)&quot; method.\r\n\r\n","title":"Calling next event in saga - Axon","body":"<p>I have 2 events OrderCreatedEvent and ProductReservedEvent. Saga event handlers are as follows:</p>\n<pre><code>    @StartSaga\n    @SagaEventHandler(associationProperty = &quot;orderId&quot;)\n    public void handle(OrderCreatedEvent event){\n        LOGGER.info(&quot;Saga Started - OrderCreatedEvent&quot;);\n        ReserveProductCommand reserveProductCommand = ReserveProductCommand.builder()\n                .orderId(event.getOrderId())\n                .productId(event.getProductId())\n                .orderId(event.getOrderId())\n                .quantity(event.getQuantity())\n                .userId(event.getUserId())\n                .build();\n\n        LOGGER.info(&quot;Created Reserve Product Command&quot;);\n\n//        SagaLifecycle.associateWith(&quot;userId&quot;, event.getUserId()); //not working\n        LOGGER.info(&quot;Will call next event in saga&quot;);\n        commandGateway.send(reserveProductCommand);\n    }\n</code></pre>\n<pre><code>@SagaEventHandler(associationProperty = &quot;orderId&quot;)\n    public void handle(ProductReservedEvent productReservedEvent){\n        LOGGER.info(&quot;Saga Step - ProductReservedEvent&quot;);\n        //Process under payment\n\n        String userId = productReservedEvent.getUserId();\n        FetchUserPaymentDetailsQuery fetchUserDetails = new FetchUserPaymentDetailsQuery(userId);\n\n        User userPaymentDetails = null;\n        try {\n            LOGGER.info(&quot;Querying User Service with id: {}&quot;,userId);\n            userPaymentDetails = queryGateway.query(fetchUserDetails, ResponseTypes.instanceOf(User.class)).join();\n        }catch (Exception exception){\n            LOGGER.error(exception.getLocalizedMessage());\n            //start compensating transaction\n            return;\n        }\n\n        if(userPaymentDetails == null){\n            //start compensating transaction\n            return;\n        }\n\n        LOGGER.error(&quot;Fetched user details for user {}&quot;,userPaymentDetails.getUserId());\n\n    }\n</code></pre>\n<p>The problem is the handle() method of &quot;ProductReservedEvent&quot; is not getting invoked from &quot;handle(OrderCreatedEvent event)&quot; method.</p>\n"},{"tags":["java","maven","gitlab"],"comments":[{"owner":{"account_id":10739089,"reputation":61,"user_id":7902823,"display_name":"caffe_user"},"score":0,"creation_date":1580044661,"post_id":59914847,"comment_id":105960993,"body_markdown":"No, I did not ask the same question as before. The previous question was about deploying from GitLab -&gt; Heroku, where the maven compiler issue happened on Heroku&#39;s side. This one is about auto-deploying from GitLab -&gt; Kubernetes. In this case, I have no control over any variables in the GitLab setup.","body":"No, I did not ask the same question as before. The previous question was about deploying from GitLab -&gt; Heroku, where the maven compiler issue happened on Heroku&#39;s side. This one is about auto-deploying from GitLab -&gt; Kubernetes. In this case, I have no control over any variables in the GitLab setup."},{"owner":{"account_id":3491189,"reputation":125,"user_id":2920843,"accept_rate":100,"display_name":"Vijay Reddy"},"score":0,"creation_date":1580047857,"post_id":59914847,"comment_id":105961819,"body_markdown":"Did you verify that Java11 is available on gitlab runner where is it executing maven builds...?","body":"Did you verify that Java11 is available on gitlab runner where is it executing maven builds...?"},{"owner":{"account_id":10739089,"reputation":61,"user_id":7902823,"display_name":"caffe_user"},"score":0,"creation_date":1580079714,"post_id":59914847,"comment_id":105970197,"body_markdown":"I am not sure how to do that - the entire process is run automatically. I would assume that is the issue, since it fails to find java version 11.","body":"I am not sure how to do that - the entire process is run automatically. I would assume that is the issue, since it fails to find java version 11."}],"answers":[{"tags":[],"owner":{"account_id":6209917,"reputation":61,"user_id":4836484,"display_name":"lmz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1598170810,"creation_date":1598170810,"answer_id":63544818,"question_id":59914847,"body_markdown":"According to [this changelog post on Hiroku&#39;s devcenter][1], you have to create a file &#39;system.properties&#39; on your project, with this configuration in it:\r\n\r\n    java.runtime.version=11\r\n\r\nDuring the next deployment, the build phase will use OpenJDK 11.\r\n\r\n  [1]: https://devcenter.heroku.com/changelog-items/1489","title":"GitLab Auto DevOps issue with Java 11","body":"<p>According to <a href=\"https://devcenter.heroku.com/changelog-items/1489\" rel=\"noreferrer\">this changelog post on Hiroku's devcenter</a>, you have to create a file 'system.properties' on your project, with this configuration in it:</p>\n<pre><code>java.runtime.version=11\n</code></pre>\n<p>During the next deployment, the build phase will use OpenJDK 11.</p>\n"},{"tags":[],"owner":{"account_id":11745184,"reputation":341,"user_id":8596153,"display_name":"Deepak Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655456058,"creation_date":1655456058,"answer_id":72656734,"question_id":59914847,"body_markdown":"Share your pipeline and error logs so that we can get to know what you are facing the issue.\r\n\r\nEven you can use the below pipeline to build your project, as per bit information shared by you that indicate you are facing issue while building your project with Gitlab:\r\n\r\nUse below pipeline to build:\r\n\r\n    Java_Build:\r\n      stage: build\r\n      image: \r\n        name: docker:20.10\r\n      services:\r\n        - docker:dind\r\n      before_script:\r\n        - apk update\r\n        - apk add openjdk8\r\n        - apk add maven\r\n      script:\r\n        - mvn clean install","title":"GitLab Auto DevOps issue with Java 11","body":"<p>Share your pipeline and error logs so that we can get to know what you are facing the issue.</p>\n<p>Even you can use the below pipeline to build your project, as per bit information shared by you that indicate you are facing issue while building your project with Gitlab:</p>\n<p>Use below pipeline to build:</p>\n<pre><code>Java_Build:\n  stage: build\n  image: \n    name: docker:20.10\n  services:\n    - docker:dind\n  before_script:\n    - apk update\n    - apk add openjdk8\n    - apk add maven\n  script:\n    - mvn clean install\n</code></pre>\n"}],"owner":{"account_id":10739089,"reputation":61,"user_id":7902823,"display_name":"caffe_user"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1080,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1655456058,"creation_date":1580001815,"question_id":59914847,"body_markdown":"I am trying to use Auto DevOps on GitLab to deploy my Java 11 Spring Boot Maven project to Kubernetes. I am getting the following error:\r\n\r\n&gt; Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project ABC: Fatal error compiling: invalid target release: 11 -&gt; [Help 1]\r\n\r\nThe project builds fine locally. Does anyone know how to fix this on GitLab?","title":"GitLab Auto DevOps issue with Java 11","body":"<p>I am trying to use Auto DevOps on GitLab to deploy my Java 11 Spring Boot Maven project to Kubernetes. I am getting the following error:</p>\n\n<blockquote>\n  <p>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project ABC: Fatal error compiling: invalid target release: 11 -> [Help 1]</p>\n</blockquote>\n\n<p>The project builds fine locally. Does anyone know how to fix this on GitLab?</p>\n"},{"tags":["java","oracle","spring-boot","hibernate","weblogic12c"],"answers":[{"tags":[],"owner":{"account_id":4344975,"reputation":357,"user_id":3547202,"display_name":"zokxter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655455899,"creation_date":1655455899,"answer_id":72656707,"question_id":66796102,"body_markdown":"I believe this is due to the fact that this library is developed using java 11 ( but also backward compatible with java 8 ) - it contains this file that defines a module in java 11. And I guess your weblogic has java 8 and then it cannot read this file and reports this error. But that doesn&#39;t mean the app won&#39;t work, like in my case where I have 4.0.3 with the same error in Weblogic server logs, but app is running ok.\r\n","title":"Weblogic 12c unable to parse class file hikaricp-3.4.5 module-info.class","body":"<p>I believe this is due to the fact that this library is developed using java 11 ( but also backward compatible with java 8 ) - it contains this file that defines a module in java 11. And I guess your weblogic has java 8 and then it cannot read this file and reports this error. But that doesn't mean the app won't work, like in my case where I have 4.0.3 with the same error in Weblogic server logs, but app is running ok.</p>\n"}],"owner":{"account_id":393418,"reputation":486,"user_id":755253,"accept_rate":46,"display_name":"Xiabili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1593,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1655455899,"creation_date":1616662815,"question_id":66796102,"body_markdown":"I am trying deploy a spring boot application to WebLogic 12c server, but it gives following errors:\r\n\r\n    Unable to parse class file: zip:/lfs/wwwmnt/wabe-Q7aZsBnB-t-app_node1/clusterDomain/servers/AdminSer\r\n    ver/tmp/_WL_user/hst-0.0.1-SNAPSHOT-2/b26a1z/war/WEB-INF/lib/HikariCP-3.4.5.jar!/META-INF/versions/11/module-info.class\r\n\r\nI have tried with different jdbc version but still cannot resolve this error.\r\n\r\nAny suggestion how to fix that?\r\n\r\n 1. SpringBoot 2.4.0\r\n 2. hibernateVersion 5.4.24.final\r\n 3. oracleJDBC 19.8.0.0\r\n 4. Weblogic 12c\r\n 5. Gradle\r\n\r\n","title":"Weblogic 12c unable to parse class file hikaricp-3.4.5 module-info.class","body":"<p>I am trying deploy a spring boot application to WebLogic 12c server, but it gives following errors:</p>\n<pre><code>Unable to parse class file: zip:/lfs/wwwmnt/wabe-Q7aZsBnB-t-app_node1/clusterDomain/servers/AdminSer\nver/tmp/_WL_user/hst-0.0.1-SNAPSHOT-2/b26a1z/war/WEB-INF/lib/HikariCP-3.4.5.jar!/META-INF/versions/11/module-info.class\n</code></pre>\n<p>I have tried with different jdbc version but still cannot resolve this error.</p>\n<p>Any suggestion how to fix that?</p>\n<ol>\n<li>SpringBoot 2.4.0</li>\n<li>hibernateVersion 5.4.24.final</li>\n<li>oracleJDBC 19.8.0.0</li>\n<li>Weblogic 12c</li>\n<li>Gradle</li>\n</ol>\n"},{"tags":["java","swing","jframe","jpanel"],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1360780365,"creation_date":1360780365,"answer_id":14860521,"question_id":14860479,"body_markdown":"If you look at the [javadoc][1], you will see that there is no `add` method in `JFrame`. However, several `add` methods are inherited from Container and Component, which are listed in the *Methods inherited from...* section.\r\n\r\n [1]: http://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html","title":"When using JFrame, where does the add() method come from?","body":"<p>If you look at the <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html\" rel=\"nofollow\">javadoc</a>, you will see that there is no <code>add</code> method in <code>JFrame</code>. However, several <code>add</code> methods are inherited from Container and Component, which are listed in the <em>Methods inherited from...</em> section.</p>\n"},{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655455685,"creation_date":1360780383,"answer_id":14860529,"question_id":14860479,"body_markdown":"[JFrame#add][1] is an instance method that is inherited from `java.awt.Container`. It is not preceded by any instance here as you have subclassed a `JFrame` directly. Normally you are not adding any new functionality to the frame so the preferred approach is to create an instance directly and use:\r\n\r\n\r\n    JFrame myFrame = new JFrame();\r\n    ...\r\n    myFrame.add(...);\r\n\r\nCheck out the [javadoc][2] for all available methods.\r\n                                              \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/Container.html#add%28java.awt.Component%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html","title":"When using JFrame, where does the add() method come from?","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Container.html#add%28java.awt.Component%29\" rel=\"nofollow noreferrer\">JFrame#add</a> is an instance method that is inherited from <code>java.awt.Container</code>. It is not preceded by any instance here as you have subclassed a <code>JFrame</code> directly. Normally you are not adding any new functionality to the frame so the preferred approach is to create an instance directly and use:</p>\n<pre><code>JFrame myFrame = new JFrame();\n...\nmyFrame.add(...);\n</code></pre>\n<p>Check out the <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html\" rel=\"nofollow noreferrer\">javadoc</a> for all available methods.</p>\n"},{"tags":[],"owner":{"account_id":1180152,"reputation":881,"user_id":1163231,"display_name":"Srikant Krishna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360780441,"creation_date":1360780441,"answer_id":14860544,"question_id":14860479,"body_markdown":"You can think of it as &quot;this.add&quot; as it is an inherited member from Container.","title":"When using JFrame, where does the add() method come from?","body":"<p>You can think of it as \"this.add\" as it is an inherited member from Container.</p>\n"},{"tags":[],"owner":{"account_id":1378614,"reputation":30076,"user_id":1312080,"accept_rate":55,"display_name":"amphibient"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360780563,"creation_date":1360780563,"answer_id":14860576,"question_id":14860479,"body_markdown":"Class `HelloFrameMenu` would have to extend `JFrame` and the `add` method comes from [Container][1] and is used for adding visual components to the frame.  It would be more intelligible if `add` and `setSize` were prefixed with **super** (e.g. `super.add(...)`), which is what I always to to denote that the method comes from a superclass.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/Container.html","title":"When using JFrame, where does the add() method come from?","body":"<p>Class <code>HelloFrameMenu</code> would have to extend <code>JFrame</code> and the <code>add</code> method comes from <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Container.html\" rel=\"nofollow\">Container</a> and is used for adding visual components to the frame.  It would be more intelligible if <code>add</code> and <code>setSize</code> were prefixed with <strong>super</strong> (e.g. <code>super.add(...)</code>), which is what I always to to denote that the method comes from a superclass.</p>\n"},{"tags":[],"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360780595,"creation_date":1360780595,"answer_id":14860586,"question_id":14860479,"body_markdown":"It&#39;s to do with Inheritance.  Java is an object oriented language which means that (almost) everything is an object. \r\n\r\nObjects can then be arranged in a hierarchy.  \r\neg a Cat object might extend an Animal object. It inherits all the behaviour (methods) of Animal,  and can add its own.\r\n\r\nIn your case, JFrame extends Container and Container has an add method. ","title":"When using JFrame, where does the add() method come from?","body":"<p>It's to do with Inheritance.  Java is an object oriented language which means that (almost) everything is an object. </p>\n\n<p>Objects can then be arranged in a hierarchy.<br>\neg a Cat object might extend an Animal object. It inherits all the behaviour (methods) of Animal,  and can add its own.</p>\n\n<p>In your case, JFrame extends Container and Container has an add method. </p>\n"}],"owner":{"account_id":1983038,"reputation":5649,"user_id":1779136,"accept_rate":95,"display_name":"Andrew Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16927,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":14860521,"answer_count":5,"score":1,"last_activity_date":1655455685,"creation_date":1360780184,"question_id":14860479,"body_markdown":"I&#39;ve been roaming the Internet looking for an answer to this question, but have come up rather empty handed.   \r\n\r\nI&#39;m following a JFrame practical from university, and using my lecture notes and the advice on the practical guidance sheet I have this basic code:    \r\n\r\n\tpublic HelloFrameMenu()\r\n\t{\r\n\t\tmessage = &quot;Hello, World!&quot;;\r\n\t\tlabel = new JLabel(message);\r\n\t\tlabel.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, DEFAULT_SIZE));\r\n\t\tadd(label, BorderLayout.CENTER);\r\n\t\tcreateSouthPanel();\r\n\r\n\t\tsetSize(FRAME_WIDTH, FRAME_HEIGHT);\r\n\t}\r\n\r\nThis creates a text message on my JPanel and executes the createSouthPanel() method which works fine and adds some menu lists to the JFrame.\r\n\r\nMy question is regarding the add function. I don&#39;t understand what this is part of. I thought if it was a static method, its class name would precede it. As it doesn&#39;t, I assumed it was part of the JFrame package or one of the classes automatically loaded by Java, but I can&#39;t find the method in either.\r\n\r\nWhere does this method come from?   \r\nWhy is it not preceded by anything?   \r\nWhat other methods can be used like this?   ","title":"When using JFrame, where does the add() method come from?","body":"<p>I've been roaming the Internet looking for an answer to this question, but have come up rather empty handed.   </p>\n\n<p>I'm following a JFrame practical from university, and using my lecture notes and the advice on the practical guidance sheet I have this basic code:    </p>\n\n<pre><code>public HelloFrameMenu()\n{\n    message = \"Hello, World!\";\n    label = new JLabel(message);\n    label.setFont(new Font(\"Serif\", Font.PLAIN, DEFAULT_SIZE));\n    add(label, BorderLayout.CENTER);\n    createSouthPanel();\n\n    setSize(FRAME_WIDTH, FRAME_HEIGHT);\n}\n</code></pre>\n\n<p>This creates a text message on my JPanel and executes the createSouthPanel() method which works fine and adds some menu lists to the JFrame.</p>\n\n<p>My question is regarding the add function. I don't understand what this is part of. I thought if it was a static method, its class name would precede it. As it doesn't, I assumed it was part of the JFrame package or one of the classes automatically loaded by Java, but I can't find the method in either.</p>\n\n<p>Where does this method come from?<br>\nWhy is it not preceded by anything?<br>\nWhat other methods can be used like this?   </p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":10870321,"reputation":35,"user_id":16924338,"display_name":"Vasiliy  Tungusov"},"score":0,"creation_date":1655455854,"post_id":72574584,"comment_id":128341607,"body_markdown":"it was bad code, without lazy initialization and TaskAction body","body":"it was bad code, without lazy initialization and TaskAction body"}],"answers":[{"tags":[],"owner":{"account_id":10870321,"reputation":35,"user_id":16924338,"display_name":"Vasiliy  Tungusov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655455665,"creation_date":1655455665,"answer_id":72656664,"question_id":72574584,"body_markdown":"I made the following solution\r\n\r\n     \r\n    class QTypeGenerator extends DefaultTask {\r\n        @TaskAction\r\n        addDependencies() {\r\n            project.dependencies {\r\n                annotationProcessor(\r\n                        &#39;com.querydsl:querydsl-apt:4.1.4:jpa&#39;,\r\n                        &#39;javax.persistence:javax.persistence-api:2.2&#39;,\r\n                        &#39;javax.annotation:javax.annotation-api:1.3.1&#39;)\r\n            }\r\n        }\r\n    }\r\n    \r\n    tasks.register(&quot;generateQTypeClasses&quot;, QTypeGenerator) {\r\n    \tgroup(&#39;build&#39;)\r\n    \tdescription(&#39;Generate Q-type classes by queryDsl in build directory with default path&#39;)\r\n    \tfinalizedBy(&#39;compileJava&#39;)\r\n    \tdoLast {\r\n    \t\tprintln(&quot;Q-types classes will gererated and stored in ${compileJava.options.annotationProcessorGeneratedSourcesDirectory}&quot;)\r\n    \t}\r\n    }\r\n\r\n","title":"How execute annotation processing in gradle separatly from build task","body":"<p>I made the following solution</p>\n<pre><code>class QTypeGenerator extends DefaultTask {\n    @TaskAction\n    addDependencies() {\n        project.dependencies {\n            annotationProcessor(\n                    'com.querydsl:querydsl-apt:4.1.4:jpa',\n                    'javax.persistence:javax.persistence-api:2.2',\n                    'javax.annotation:javax.annotation-api:1.3.1')\n        }\n    }\n}\n\ntasks.register(&quot;generateQTypeClasses&quot;, QTypeGenerator) {\n    group('build')\n    description('Generate Q-type classes by queryDsl in build directory with default path')\n    finalizedBy('compileJava')\n    doLast {\n        println(&quot;Q-types classes will gererated and stored in ${compileJava.options.annotationProcessorGeneratedSourcesDirectory}&quot;)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10870321,"reputation":35,"user_id":16924338,"display_name":"Vasiliy  Tungusov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72656664,"answer_count":1,"score":0,"last_activity_date":1655455665,"creation_date":1654865418,"question_id":72574584,"body_markdown":"I want to run QueryDsl Q-type generation in a separate task. I want that Q-type classes not to be created in a regular compileJava task, but the compiler sees the AnnotationProcessor in the classpath and creates them itself. I tried nulling the annotationProcessorPath, but then I couldn&#39;t restore its configuration in a separate task. \r\nMay be is it possible to exclude somehow dependencies of subtasks from the classpath?\r\n\r\n    compileJava {\r\n    \toptions.annotationProcessorPath = null\r\n    }\r\n    \r\n    tasks.register(&#39;generateQTypes&#39;){\r\n        group &#39;build&#39;\r\n        description &#39;Generate Q-Type classes with QueryDsl library&#39;\r\n        dependencies {\r\n            annotationProcessor(\r\n                    &#39;com.querydsl:querydsl-apt:4.1.4:jpa&#39;,\r\n                    &#39;javax.persistence:javax.persistence-api:2.2&#39;,\r\n                    &#39;javax.annotation:javax.annotation-api:1.3.1&#39;)\r\n        }\r\n        compileJava {\r\n    \t\toptions.annotationProcessorPath = classpath\r\n        }\r\n    }\r\n\r\nWhat is the best way to solve this problem?Thanks in advance!\r\n","title":"How execute annotation processing in gradle separatly from build task","body":"<p>I want to run QueryDsl Q-type generation in a separate task. I want that Q-type classes not to be created in a regular compileJava task, but the compiler sees the AnnotationProcessor in the classpath and creates them itself. I tried nulling the annotationProcessorPath, but then I couldn't restore its configuration in a separate task.\nMay be is it possible to exclude somehow dependencies of subtasks from the classpath?</p>\n<pre><code>compileJava {\n    options.annotationProcessorPath = null\n}\n\ntasks.register('generateQTypes'){\n    group 'build'\n    description 'Generate Q-Type classes with QueryDsl library'\n    dependencies {\n        annotationProcessor(\n                'com.querydsl:querydsl-apt:4.1.4:jpa',\n                'javax.persistence:javax.persistence-api:2.2',\n                'javax.annotation:javax.annotation-api:1.3.1')\n    }\n    compileJava {\n        options.annotationProcessorPath = classpath\n    }\n}\n</code></pre>\n<p>What is the best way to solve this problem?Thanks in advance!</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":14663228,"reputation":66,"user_id":10589784,"display_name":"Saravanakumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1542205531,"creation_date":1542195225,"answer_id":53299263,"question_id":53298957,"body_markdown":"try this \r\n\r\n    response.body().get(finalI).getDeviceName().toString().replace(&quot;/&quot;,&quot;_&quot;)","title":"Invalid document reference. Document references must have an even number of segments","body":"<p>try this </p>\n\n<pre><code>response.body().get(finalI).getDeviceName().toString().replace(\"/\",\"_\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542195370,"creation_date":1542195370,"answer_id":53299327,"question_id":53298957,"body_markdown":"The simplest method I can think of, is before you add the data to the database to find that forbidden `/` symbol and replace it with an allowed one, let&#39;s say `-` (minus).\r\n\r\n    String deviceName = response.body().get(finalI).getDeviceName().replaceAll(&quot;/&quot;, &quot;-&quot;);\r\n\r\nAnd then simply use in your reference like this:\r\n\r\n    firebaseFirestore.collection(&quot;Mobiles&quot;).document(deviceName);","title":"Invalid document reference. Document references must have an even number of segments","body":"<p>The simplest method I can think of, is before you add the data to the database to find that forbidden <code>/</code> symbol and replace it with an allowed one, let's say <code>-</code> (minus).</p>\n\n<pre><code>String deviceName = response.body().get(finalI).getDeviceName().replaceAll(\"/\", \"-\");\n</code></pre>\n\n<p>And then simply use in your reference like this:</p>\n\n<pre><code>firebaseFirestore.collection(\"Mobiles\").document(deviceName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1530469,"reputation":3134,"user_id":1427776,"accept_rate":73,"display_name":"Deven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655455464,"creation_date":1655455464,"answer_id":72656627,"question_id":53298957,"body_markdown":"**A possibility can be** \r\n\r\nMake sure your document name is not empty in my case it was empty then i also  got the same error:\r\n\r\neg:- \r\n\r\n    firebaseFirestore.collection(&quot;CollectionName&quot;).document(&quot;&quot;);\r\n\r\nThe above code will give the error:\r\n\r\n    java.lang.IllegalArgumentException: Invalid document reference. \r\n    Document references must have an even number of segments, but users has 1\r\n\r\n","title":"Invalid document reference. Document references must have an even number of segments","body":"<p><strong>A possibility can be</strong></p>\n<p>Make sure your document name is not empty in my case it was empty then i also  got the same error:</p>\n<p>eg:-</p>\n<pre><code>firebaseFirestore.collection(&quot;CollectionName&quot;).document(&quot;&quot;);\n</code></pre>\n<p>The above code will give the error:</p>\n<pre><code>java.lang.IllegalArgumentException: Invalid document reference. \nDocument references must have an even number of segments, but users has 1\n</code></pre>\n"}],"owner":{"account_id":13777112,"reputation":329,"user_id":9943196,"display_name":"Asghar Nazir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7171,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":53299263,"answer_count":3,"score":4,"last_activity_date":1655455464,"creation_date":1542194209,"question_id":53298957,"body_markdown":"I am querying a collection for documents using below code. Document names are same as device names. The device name is passed to the document from an API I am getting an error when a device name contains letter &quot;/&quot; like Motorola C380/C385.\r\nI get an error \r\n\r\n&gt; java.lang.IllegalArgumentException: Invalid document reference.\r\n&gt; Document references must have an even number of segments, but\r\n&gt; Mobiles/Motorola C380/C385 has 3\r\n\r\n I know I am getting this error because FireStore considers the name C385 after slash as a collection inside a document. I want to know how to get rid of situations like this when a document name can contain a &quot;/&quot; should I check and remove this before inserting it into my collection or is there any better solution?  \r\n\r\n    firebaseFirestore.collection(&quot;Mobiles&quot;).document(response.body().get(finalI).getDeviceName())\r\n\r\n ","title":"Invalid document reference. Document references must have an even number of segments","body":"<p>I am querying a collection for documents using below code. Document names are same as device names. The device name is passed to the document from an API I am getting an error when a device name contains letter \"/\" like Motorola C380/C385.\nI get an error </p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: Invalid document reference.\n  Document references must have an even number of segments, but\n  Mobiles/Motorola C380/C385 has 3</p>\n</blockquote>\n\n<p>I know I am getting this error because FireStore considers the name C385 after slash as a collection inside a document. I want to know how to get rid of situations like this when a document name can contain a \"/\" should I check and remove this before inserting it into my collection or is there any better solution?  </p>\n\n<pre><code>firebaseFirestore.collection(\"Mobiles\").document(response.body().get(finalI).getDeviceName())\n</code></pre>\n"},{"tags":["java","hibernate","hbmxml"],"comments":[{"owner":{"account_id":1184630,"reputation":1166,"user_id":1158854,"accept_rate":80,"display_name":"AlexZam"},"score":0,"creation_date":1655310618,"post_id":72628144,"comment_id":128304309,"body_markdown":"To follow the format just take the answer out to answers section and accept your answer.","body":"To follow the format just take the answer out to answers section and accept your answer."}],"answers":[{"tags":[],"owner":{"account_id":25215899,"reputation":11,"user_id":19053031,"display_name":"Zaleth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655455393,"creation_date":1655454913,"answer_id":72656500,"question_id":72628144,"body_markdown":"Now that I have finally got it to work again, here is what I&#39;ve learned:\r\nApparently, the boot context is unable to locate hibernate.cfg.xml, but fails silently. Inside HibernateUtil, I can use addResource and addAnnotatedClass because they use Java&#39;s class loader, so I need to list every HBM file and entity class before creating the session factory. Like so:\r\n```\r\npublic class HibernateUtil {\r\n  private static final SessionFactory sessionFactory;\r\n  private static ServiceRegistry serviceRegistry;\r\n\r\n  static {\r\n    Configuration configuration = new Configuration().configure(&quot;hibernate.cfg.xml&quot;);\r\n    configuration.addResource(&quot;path/to/my/mapping.hbm.xml&quot;);\r\n    configuration.addAnnotatedClass(my.package.for.Persistence.class);\r\n    serviceRegistry = new StandardServiceRegistryBuilder().applySettings(\r\n      configuration.getProperties()).build();\r\n    sessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n  }\r\n}\r\n```\r\nAnd now it works. The reason is that *most* file lookups are done relative to TomCat&#39;s working directory, but a select few use ClassLoader and can therefore more easily find resource files in the source tree.\r\n","title":"I upgraded to Hibernate 6.0 and now I get Unknown Entity errors","body":"<p>Now that I have finally got it to work again, here is what I've learned:\nApparently, the boot context is unable to locate hibernate.cfg.xml, but fails silently. Inside HibernateUtil, I can use addResource and addAnnotatedClass because they use Java's class loader, so I need to list every HBM file and entity class before creating the session factory. Like so:</p>\n<pre><code>public class HibernateUtil {\n  private static final SessionFactory sessionFactory;\n  private static ServiceRegistry serviceRegistry;\n\n  static {\n    Configuration configuration = new Configuration().configure(&quot;hibernate.cfg.xml&quot;);\n    configuration.addResource(&quot;path/to/my/mapping.hbm.xml&quot;);\n    configuration.addAnnotatedClass(my.package.for.Persistence.class);\n    serviceRegistry = new StandardServiceRegistryBuilder().applySettings(\n      configuration.getProperties()).build();\n    sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n  }\n}\n</code></pre>\n<p>And now it works. The reason is that <em>most</em> file lookups are done relative to TomCat's working directory, but a select few use ClassLoader and can therefore more easily find resource files in the source tree.</p>\n"}],"owner":{"account_id":25215899,"reputation":11,"user_id":19053031,"display_name":"Zaleth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72656500,"answer_count":1,"score":0,"last_activity_date":1655455393,"creation_date":1655281748,"question_id":72628144,"body_markdown":"Apologies for abusing the format, I&#39;m not really asking a question here but I sure wish this would have shown up when I started banging my head against this wall two weeks ago.\r\n\r\nI&#39;ve inherited several large Java projects, using Spring and running on Tomcat, and am upgrading the frameworks used by them. However, when I upgrade Hibernate I suddenly get **ExceptionInInitializer: root cause UnknownEntityException**. Our HibernateConf looks like so:\r\n```\r\npublic class HibernateUtil {\r\n  private static final SessionFactory sessionFactory;\r\n  private static ServiceRegistry serviceRegistry;\r\n\r\n  static {\r\n    Configuration configuration = new Configuration().configure(&quot;hibernate.cfg.xml&quot;);\r\n\r\n    serviceRegistry = new StandardServiceRegistryBuilder().applySettings(\r\n      configuration.getProperties()).build();\r\n    sessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n  }\r\n}\r\n```\r\nWe&#39;re still using hbm.xml to describe mappings, they are placed in individual files and included in **hibernate.cfg.xml**.\r\n","title":"I upgraded to Hibernate 6.0 and now I get Unknown Entity errors","body":"<p>Apologies for abusing the format, I'm not really asking a question here but I sure wish this would have shown up when I started banging my head against this wall two weeks ago.</p>\n<p>I've inherited several large Java projects, using Spring and running on Tomcat, and am upgrading the frameworks used by them. However, when I upgrade Hibernate I suddenly get <strong>ExceptionInInitializer: root cause UnknownEntityException</strong>. Our HibernateConf looks like so:</p>\n<pre><code>public class HibernateUtil {\n  private static final SessionFactory sessionFactory;\n  private static ServiceRegistry serviceRegistry;\n\n  static {\n    Configuration configuration = new Configuration().configure(&quot;hibernate.cfg.xml&quot;);\n\n    serviceRegistry = new StandardServiceRegistryBuilder().applySettings(\n      configuration.getProperties()).build();\n    sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n  }\n}\n</code></pre>\n<p>We're still using hbm.xml to describe mappings, they are placed in individual files and included in <strong>hibernate.cfg.xml</strong>.</p>\n"},{"tags":["java","cassandra","cassandraunit"],"comments":[{"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"score":0,"creation_date":1655455257,"post_id":72656086,"comment_id":128341399,"body_markdown":"Saisree , welcome to stackoverflow.  Assuming this is for intergration tests. Is testcontainers something you have evaluated ? There is a cassandra testcontainer that makes IT very easy to work. Not directly an answer , something to consider","body":"Saisree , welcome to stackoverflow.  Assuming this is for intergration tests. Is testcontainers something you have evaluated ? There is a cassandra testcontainer that makes IT very easy to work. Not directly an answer , something to consider"}],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655455365,"creation_date":1655455365,"answer_id":72656604,"question_id":72656086,"body_markdown":"`FSWriteError` is a low-level filesystem error originating from the Java file utilities library. In my experience, this is usually caused by permission issues on the parent directories.\r\n\r\nCheck that you have read/write permissions on the filesystem and try again. Cheers!","title":"EmbeddedCassandra is not working with Cassandra Java driver 4.x","body":"<p><code>FSWriteError</code> is a low-level filesystem error originating from the Java file utilities library. In my experience, this is usually caused by permission issues on the parent directories.</p>\n<p>Check that you have read/write permissions on the filesystem and try again. Cheers!</p>\n"}],"owner":{"account_id":10575507,"reputation":43,"user_id":7790934,"display_name":"saisree"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655455365,"creation_date":1655452626,"question_id":72656086,"body_markdown":"I was using cassandra-unit 3.5.0.1 with cassandra-driver-core 3.6.0.\r\nMy application was running fine. \r\n\r\nNow when I try to upgrade to java-driver-core 4.3.1 and cassandra-unit 4.3.1.0, I am getting error when I try to run my tests in maven. \r\n\r\n```\r\nCaused by: java.io.IOException: Unable to open hint directory\r\n```\r\n\r\nBelow error is coming\r\n\r\n```\r\n&quot;time=&quot;2022-06-17T07:13:30.945Z&quot; level=&quot;ERROR&quot; msg=&quot;[org.apache.cassandra.service.CassandraDaemon:228][BatchlogTasks:1]\r\nException in thread Thread[BatchlogTasks:1,5,main]java.lang.RuntimeException: \\\r\n  java.util.concurrent.ExecutionException: \\\r\n    FSWriteError in C:\\service\\target\\embeddedCassandra\\hints&quot;\r\n```\r\n\r\nCan some one help me out.","title":"EmbeddedCassandra is not working with Cassandra Java driver 4.x","body":"<p>I was using cassandra-unit 3.5.0.1 with cassandra-driver-core 3.6.0.\nMy application was running fine.</p>\n<p>Now when I try to upgrade to java-driver-core 4.3.1 and cassandra-unit 4.3.1.0, I am getting error when I try to run my tests in maven.</p>\n<pre><code>Caused by: java.io.IOException: Unable to open hint directory\n</code></pre>\n<p>Below error is coming</p>\n<pre><code>&quot;time=&quot;2022-06-17T07:13:30.945Z&quot; level=&quot;ERROR&quot; msg=&quot;[org.apache.cassandra.service.CassandraDaemon:228][BatchlogTasks:1]\nException in thread Thread[BatchlogTasks:1,5,main]java.lang.RuntimeException: \\\n  java.util.concurrent.ExecutionException: \\\n    FSWriteError in C:\\service\\target\\embeddedCassandra\\hints&quot;\n</code></pre>\n<p>Can some one help me out.</p>\n"},{"tags":["java","spring-boot","kubernetes"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1655453319,"post_id":72656139,"comment_id":128340738,"body_markdown":"It&#39;s called [_throttle_](https://en.wikipedia.org/wiki/Throttle). A throttled stream best runs in its own thread, as you want to intermittently take a next step. Like doing a `Thread.sleep(10L)` in a forEach. You should better use a queue or such.","body":"It&#39;s called <a href=\"https://en.wikipedia.org/wiki/Throttle\" rel=\"nofollow noreferrer\"><i>throttle</i></a>. A throttled stream best runs in its own thread, as you want to intermittently take a next step. Like doing a <code>Thread.sleep(10L)</code> in a forEach. You should better use a queue or such."}],"answers":[{"tags":[],"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655455277,"creation_date":1655455277,"answer_id":72656584,"question_id":72656139,"body_markdown":"The Java 8 streams are in fact like a different syntax for loops and iterations, so they run synchronous and immediately.\r\n\r\nYou can either implement you logic in a different way to ensure a fixed amount of memory usage, or if time based throttling would indeed help you can look into reactive programming libraries like spring reactor or rxjava. They offer asynchronous data streams.","title":"Java list streams function with throttle","body":"<p>The Java 8 streams are in fact like a different syntax for loops and iterations, so they run synchronous and immediately.</p>\n<p>You can either implement you logic in a different way to ensure a fixed amount of memory usage, or if time based throttling would indeed help you can look into reactive programming libraries like spring reactor or rxjava. They offer asynchronous data streams.</p>\n"}],"owner":{"account_id":20423221,"reputation":183,"user_id":14983790,"display_name":"Mike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655455277,"creation_date":1655452903,"question_id":72656139,"body_markdown":"It is normally used to create stream with mapper function like `itemList.stream().map(item -&gt; someFunction(item)).toList()`. However, if `itemList` is too large in size and `someFunction` is time consuming, e.g. calling API or I/O, it will generate spike in memory usage and thus get killed by kubernetes controller.\r\n\r\nIs there a way to thorttle the stream mapper function invocation? Or just execute it in a sequential way with for-loop?","title":"Java list streams function with throttle","body":"<p>It is normally used to create stream with mapper function like <code>itemList.stream().map(item -&gt; someFunction(item)).toList()</code>. However, if <code>itemList</code> is too large in size and <code>someFunction</code> is time consuming, e.g. calling API or I/O, it will generate spike in memory usage and thus get killed by kubernetes controller.</p>\n<p>Is there a way to thorttle the stream mapper function invocation? Or just execute it in a sequential way with for-loop?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1655453626,"post_id":72656169,"comment_id":128340840,"body_markdown":"Did you see this SO question? [Get Physical Keyboard Layout Programmatically](https://stackoverflow.com/questions/4719488/get-physical-keyboard-layout-programmatically)","body":"Did you see this SO question? <a href=\"https://stackoverflow.com/questions/4719488/get-physical-keyboard-layout-programmatically\">Get Physical Keyboard Layout Programmatically</a>"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1655453720,"post_id":72656169,"comment_id":128340872,"body_markdown":"I know that difference as 104 key vs 105 key keyboards. And I&#39;m not very optimistic that even the OS actually knows the physical configuration of the keyboard. At best you could query the mapping from scancodes to keypresses and use an educated guess (or a big database) to distinguish the two.","body":"I know that difference as 104 key vs 105 key keyboards. And I&#39;m not very optimistic that even the OS actually knows the physical configuration of the keyboard. At best you could query the mapping from scancodes to keypresses and use an educated guess (or a big database) to distinguish the two."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1655453826,"post_id":72656169,"comment_id":128340924,"body_markdown":"I have never before heard those keyboard layouts referred to as ANSI or ISO","body":"I have never before heard those keyboard layouts referred to as ANSI or ISO"},{"owner":{"account_id":5389081,"reputation":101,"user_id":4292157,"display_name":"Dennis R&#246;nn"},"score":0,"creation_date":1655454008,"post_id":72656169,"comment_id":128340983,"body_markdown":"Oh that&#39;s unfortunate. I guess I&#39;ll have to make an option for it then or somehow guess it in a different way. I&#39;m guessing there&#39;s also no way to check if the keyboard has 104 or 105 scan codes either then?","body":"Oh that&#39;s unfortunate. I guess I&#39;ll have to make an option for it then or somehow guess it in a different way. I&#39;m guessing there&#39;s also no way to check if the keyboard has 104 or 105 scan codes either then?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1655454222,"post_id":72656169,"comment_id":128341058,"body_markdown":"@MarkRotteveel you don&#39;t frequent enough mechanical keyboards forums then :) See https://en.wikipedia.org/wiki/Keyboard_layout#Physical,_visual,_and_functional_layouts","body":"@MarkRotteveel you don&#39;t frequent enough mechanical keyboards forums then :) See <a href=\"https://en.wikipedia.org/wiki/Keyboard_layout#Physical,_visual,_and_functional_layouts\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1655454659,"post_id":72656169,"comment_id":128341193,"body_markdown":"A laptop could even have a second external keyboard, and for impaired users there also exist emulated touchscreen keyboards. And then there are the locales (QWERTY/AZERTY). So I would go with a common keyboard borrowed from the emulations, and not offer those special keys at all for customization. Also Alt Gr keys are cumbersome.","body":"A laptop could even have a second external keyboard, and for impaired users there also exist emulated touchscreen keyboards. And then there are the locales (QWERTY/AZERTY). So I would go with a common keyboard borrowed from the emulations, and not offer those special keys at all for customization. Also Alt Gr keys are cumbersome."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1655455217,"post_id":72656169,"comment_id":128341382,"body_markdown":"In any case, in the &#39;80s and &#39;90s if games (or other programs) were interested in distinguishing between these keyboard layouts, they prompted the user to hit the key next to the left-shift.","body":"In any case, in the &#39;80s and &#39;90s if games (or other programs) were interested in distinguishing between these keyboard layouts, they prompted the user to hit the key next to the left-shift."}],"answers":[{"tags":[],"owner":{"account_id":5389081,"reputation":101,"user_id":4292157,"display_name":"Dennis R&#246;nn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655455041,"creation_date":1655455041,"answer_id":72656527,"question_id":72656169,"body_markdown":"As mentioned by [@Abra][1] in a comment to the question, there&#39;s no way to do that programmatically as there&#39;s no protocol between the keyboard controller and the keyboard driver that helps distinguish the layout of the keyboard.\r\n\r\nOnly option here is to either guess/predict the layout, let the user choose the layout, or simply use the same layout assumed by Windows in osk.exe.\r\n\r\nOriginal answer on [this post][2]\r\n\r\n  [1]: https://stackoverflow.com/questions/72656169/detect-if-user-is-using-ansi-or-iso-keyboard-button-layout#comment128340840_72656169\r\n  [2]: https://stackoverflow.com/a/4720908/4292157","title":"Detect if user is using ANSI or ISO keyboard button layout","body":"<p>As mentioned by <a href=\"https://stackoverflow.com/questions/72656169/detect-if-user-is-using-ansi-or-iso-keyboard-button-layout#comment128340840_72656169\">@Abra</a> in a comment to the question, there's no way to do that programmatically as there's no protocol between the keyboard controller and the keyboard driver that helps distinguish the layout of the keyboard.</p>\n<p>Only option here is to either guess/predict the layout, let the user choose the layout, or simply use the same layout assumed by Windows in osk.exe.</p>\n<p>Original answer on <a href=\"https://stackoverflow.com/a/4720908/4292157\">this post</a></p>\n"}],"owner":{"account_id":5389081,"reputation":101,"user_id":4292157,"display_name":"Dennis R&#246;nn"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72656527,"answer_count":1,"score":0,"last_activity_date":1655455041,"creation_date":1655453044,"question_id":72656169,"body_markdown":"I&#39;m currently working on a custom key binding mod for Minecraft. Although irrelevant, it gives some context. I&#39;m planning to show a UI with all the buttons on their keyboard where they can click to assign macros to said key, although I don&#39;t want to be biased towards one particular keyboard button layout.\r\n\r\nLooking at a website called [switchandclick][1] they show the differences between ISO and ANSI. ISO which I&#39;m using has a key between left shift and Z, as well as having the return/enter key 2 keys tall rather than 1, with the missing key moved above right shift.\r\n\r\nHere is the image from said site:\r\n[![ansi vs iso image][2]][2]\r\n\r\nHowever, even if ISO is the layout used in Sweden where I live, I&#39;m aware some users may be from different parts of the world, and ANSI is probably more common in America, so I don&#39;t want to show an ISO keyboard for ANSI users and vice versa.\r\n\r\nI&#39;ve looked around at various sources, but all I can find when looking for a solution is websites showing the differences between the layouts, rather than showing how to detect them.\r\n\r\nSo how would I go about detecting if the user has an ANSI or ISO keyboard? Pure Java is preferred but LWJGL 3 is the graphics api in use if that helps with finding a solution. I&#39;m also running Java 17 in case that makes it easier.\r\n\r\n\r\n  [1]: https://switchandclick.com/ansi-vs-iso-layout/\r\n  [2]: https://i.stack.imgur.com/E4XqE.png","title":"Detect if user is using ANSI or ISO keyboard button layout","body":"<p>I'm currently working on a custom key binding mod for Minecraft. Although irrelevant, it gives some context. I'm planning to show a UI with all the buttons on their keyboard where they can click to assign macros to said key, although I don't want to be biased towards one particular keyboard button layout.</p>\n<p>Looking at a website called <a href=\"https://switchandclick.com/ansi-vs-iso-layout/\" rel=\"nofollow noreferrer\">switchandclick</a> they show the differences between ISO and ANSI. ISO which I'm using has a key between left shift and Z, as well as having the return/enter key 2 keys tall rather than 1, with the missing key moved above right shift.</p>\n<p>Here is the image from said site:\n<a href=\"https://i.stack.imgur.com/E4XqE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E4XqE.png\" alt=\"ansi vs iso image\" /></a></p>\n<p>However, even if ISO is the layout used in Sweden where I live, I'm aware some users may be from different parts of the world, and ANSI is probably more common in America, so I don't want to show an ISO keyboard for ANSI users and vice versa.</p>\n<p>I've looked around at various sources, but all I can find when looking for a solution is websites showing the differences between the layouts, rather than showing how to detect them.</p>\n<p>So how would I go about detecting if the user has an ANSI or ISO keyboard? Pure Java is preferred but LWJGL 3 is the graphics api in use if that helps with finding a solution. I'm also running Java 17 in case that makes it easier.</p>\n"},{"tags":["java","hibernate","jpa","jakarta-ee","jpql"],"answers":[{"tags":[],"owner":{"account_id":217137,"reputation":37872,"user_id":472792,"accept_rate":50,"display_name":"Arjan Tijms"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1655454944,"creation_date":1352665834,"answer_id":13335138,"question_id":13334831,"body_markdown":"This is a rather nasty problem in Hibernate and actually ORM in general.\r\n\r\nWhat happens is that the many (fetch) joins cause a rather large cartesian product to be created. I.e for ever other join new columns and new rows appear in the result, leading to a (fairly) large &#39;square&#39; result.\r\n\r\nHibernate needs to distill a graph from this table, but it&#39;s not smart enough to match the right columns to the right entities.\r\n\r\nE.g.\r\n\r\nSuppose we have the result\r\n\r\n    A B C\r\n    A B D\r\n\r\nWhich needs to become:\r\n\r\n     A\r\n     |\r\n     B\r\n     /\\\r\n    C  D\r\n\r\nHibernate could deduct from the primary keys and some encoding magic, what the graph must be, but in practice it needs explicit help to pull this off.\r\n\r\nOne way to do this is by specifying the Hibernate specific `@IndexColumn` or the JPA standard `@OrderColumn` on the relations.\r\n\r\nE.g.\r\n\r\n    @Entity\r\n    public class Question {\r\n    \r\n    \r\n        @ManyToMany\r\n        @JoinTable(\r\n            name = &quot;question_to_answer&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;question_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;answer_id&quot;)\r\n        )\r\n        @IndexColumn(name = &quot;answer_order&quot;)\r\n        private List&lt;Answer&gt; answers;\r\n    \r\n        // ...\r\n    }\r\n\r\nIn this example I&#39;m using a join table, with an extra column `answer_order`. Via this column, which has a unique sequential number per Question/Answer relation, Hibernate can distinguish the entries in the result table and create the required Object graph.\r\n\r\nOne note btw, if it concerns more than a few entities, using so many eager joins can potentially lead to a much larger result set than you might think based on the number of entities involved.\r\n\r\nFurther reading:\r\n\r\n* [Hibernate Exception - Simultaneously Fetch Multiple Bags 1][1] \r\n\r\n  [1]: http://blog.eyallupu.com/2010/06/hibernate-exception-simultaneously.html\r\n","title":"MultipleBagFetchException thrown by Hibernate","body":"<p>This is a rather nasty problem in Hibernate and actually ORM in general.</p>\n<p>What happens is that the many (fetch) joins cause a rather large cartesian product to be created. I.e for ever other join new columns and new rows appear in the result, leading to a (fairly) large 'square' result.</p>\n<p>Hibernate needs to distill a graph from this table, but it's not smart enough to match the right columns to the right entities.</p>\n<p>E.g.</p>\n<p>Suppose we have the result</p>\n<pre><code>A B C\nA B D\n</code></pre>\n<p>Which needs to become:</p>\n<pre><code> A\n |\n B\n /\\\nC  D\n</code></pre>\n<p>Hibernate could deduct from the primary keys and some encoding magic, what the graph must be, but in practice it needs explicit help to pull this off.</p>\n<p>One way to do this is by specifying the Hibernate specific <code>@IndexColumn</code> or the JPA standard <code>@OrderColumn</code> on the relations.</p>\n<p>E.g.</p>\n<pre><code>@Entity\npublic class Question {\n\n\n    @ManyToMany\n    @JoinTable(\n        name = &quot;question_to_answer&quot;,\n        joinColumns = @JoinColumn(name = &quot;question_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;answer_id&quot;)\n    )\n    @IndexColumn(name = &quot;answer_order&quot;)\n    private List&lt;Answer&gt; answers;\n\n    // ...\n}\n</code></pre>\n<p>In this example I'm using a join table, with an extra column <code>answer_order</code>. Via this column, which has a unique sequential number per Question/Answer relation, Hibernate can distinguish the entries in the result table and create the required Object graph.</p>\n<p>One note btw, if it concerns more than a few entities, using so many eager joins can potentially lead to a much larger result set than you might think based on the number of entities involved.</p>\n<p>Further reading:</p>\n<ul>\n<li><a href=\"http://blog.eyallupu.com/2010/06/hibernate-exception-simultaneously.html\" rel=\"nofollow noreferrer\">Hibernate Exception - Simultaneously Fetch Multiple Bags 1</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1610121741,"creation_date":1573585974,"answer_id":58825218,"question_id":13334831,"body_markdown":"Hibernate doesn&#39;t allow fetching more than one bag because that would generate a [Cartesian product][1], and for unordered Lists, which are called **baggs** in Hibernate terminology, this will cause duplicate entries even if the underlying collection does not have those duplicated rows. So, Hibernate simply prevents this situation when the JPQL query is compiled.\r\n\r\nNow, you will find lots of answers, blog posts, videos, or other resources telling you to use a `Set` instead of a `List` for your collections.\r\n\r\n**That&#39;s terrible advice. Don&#39;t do that!** \r\n\r\nUsing `Sets` instead of `Lists` will make the `MultipleBagFetchException` go away, but the Cartesian Product will still be there.\r\n\r\nThe right fix\r\n-------------\r\n\r\nInstead of using multiple `JOIN FETCH` in a single JPQL or Criteria API query:\r\n\r\n    List&lt;Post&gt; posts = entityManager\r\n    .createQuery(\r\n        &quot;select p &quot; +\r\n        &quot;from Post p &quot; +\r\n        &quot;left join fetch p.comments &quot; +\r\n        &quot;left join fetch p.tags &quot; +\r\n        &quot;where p.id between :minId and :maxId&quot;, Post.class)\r\n    .setParameter(&quot;minId&quot;, 1L)\r\n    .setParameter(&quot;maxId&quot;, 50L)\r\n    .getResultList();\r\n\r\nYou can do the following trick:\r\n\r\n    List&lt;Post&gt; posts = entityManager\r\n    .createQuery(\r\n    \t&quot;select distinct p &quot; +\r\n    \t&quot;from Post p &quot; +\r\n    \t&quot;left join fetch p.comments &quot; +\r\n    \t&quot;where p.id between :minId and :maxId &quot;, Post.class)\r\n    .setParameter(&quot;minId&quot;, 1L)\r\n    .setParameter(&quot;maxId&quot;, 50L)\r\n    .setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\r\n    .getResultList();\r\n    \r\n    posts = entityManager\r\n    .createQuery(\r\n    \t&quot;select distinct p &quot; +\r\n    \t&quot;from Post p &quot; +\r\n    \t&quot;left join fetch p.tags t &quot; +\r\n    \t&quot;where p in :posts &quot;, Post.class)\r\n    .setParameter(&quot;posts&quot;, posts)\r\n    .setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\r\n    .getResultList();\r\n\r\nAs long as you fetch at most one collection using `JOIN FETCH`, you will be fine. By using multiple queries, you will avoid the Cartesian Product since any other collection but the first one is fetched using a secondary query.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Cartesian_product","title":"MultipleBagFetchException thrown by Hibernate","body":"<p>Hibernate doesn't allow fetching more than one bag because that would generate a <a href=\"http://en.wikipedia.org/wiki/Cartesian_product\" rel=\"nofollow noreferrer\">Cartesian product</a>, and for unordered Lists, which are called <strong>baggs</strong> in Hibernate terminology, this will cause duplicate entries even if the underlying collection does not have those duplicated rows. So, Hibernate simply prevents this situation when the JPQL query is compiled.</p>\n<p>Now, you will find lots of answers, blog posts, videos, or other resources telling you to use a <code>Set</code> instead of a <code>List</code> for your collections.</p>\n<p><strong>That's terrible advice. Don't do that!</strong></p>\n<p>Using <code>Sets</code> instead of <code>Lists</code> will make the <code>MultipleBagFetchException</code> go away, but the Cartesian Product will still be there.</p>\n<h2>The right fix</h2>\n<p>Instead of using multiple <code>JOIN FETCH</code> in a single JPQL or Criteria API query:</p>\n<pre><code>List&lt;Post&gt; posts = entityManager\n.createQuery(\n    &quot;select p &quot; +\n    &quot;from Post p &quot; +\n    &quot;left join fetch p.comments &quot; +\n    &quot;left join fetch p.tags &quot; +\n    &quot;where p.id between :minId and :maxId&quot;, Post.class)\n.setParameter(&quot;minId&quot;, 1L)\n.setParameter(&quot;maxId&quot;, 50L)\n.getResultList();\n</code></pre>\n<p>You can do the following trick:</p>\n<pre><code>List&lt;Post&gt; posts = entityManager\n.createQuery(\n    &quot;select distinct p &quot; +\n    &quot;from Post p &quot; +\n    &quot;left join fetch p.comments &quot; +\n    &quot;where p.id between :minId and :maxId &quot;, Post.class)\n.setParameter(&quot;minId&quot;, 1L)\n.setParameter(&quot;maxId&quot;, 50L)\n.setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\n.getResultList();\n\nposts = entityManager\n.createQuery(\n    &quot;select distinct p &quot; +\n    &quot;from Post p &quot; +\n    &quot;left join fetch p.tags t &quot; +\n    &quot;where p in :posts &quot;, Post.class)\n.setParameter(&quot;posts&quot;, posts)\n.setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\n.getResultList();\n</code></pre>\n<p>As long as you fetch at most one collection using <code>JOIN FETCH</code>, you will be fine. By using multiple queries, you will avoid the Cartesian Product since any other collection but the first one is fetched using a secondary query.</p>\n"}],"owner":{"account_id":205346,"reputation":48091,"user_id":454049,"accept_rate":72,"display_name":"LuckyLuke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16391,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":13335138,"answer_count":2,"score":15,"last_activity_date":1655454944,"creation_date":1352663660,"question_id":13334831,"body_markdown":"I want to have an option in my repository layer to eager load entites, so I tried adding a method that should eager load a question entity with all the relationships, but it throws MultipleBagFetchException. How can I fix this? I am using Hibernate 4.16.\r\n\r\n    @NamedQuery(name = Question.FIND_BY_ID_EAGER, query = &quot;SELECT q FROM Question q LEFT JOIN FETCH q.answers LEFT JOIN FETCH q.categories LEFT JOIN FETCH q.feedback LEFT JOIN FETCH q.participant WHERE q.id = :id&quot;),\r\n\r\nHow do I get a question object which is initially lazy loaded, to be eager loaded with all relations?","title":"MultipleBagFetchException thrown by Hibernate","body":"<p>I want to have an option in my repository layer to eager load entites, so I tried adding a method that should eager load a question entity with all the relationships, but it throws MultipleBagFetchException. How can I fix this? I am using Hibernate 4.16.</p>\n\n<pre><code>@NamedQuery(name = Question.FIND_BY_ID_EAGER, query = \"SELECT q FROM Question q LEFT JOIN FETCH q.answers LEFT JOIN FETCH q.categories LEFT JOIN FETCH q.feedback LEFT JOIN FETCH q.participant WHERE q.id = :id\"),\n</code></pre>\n\n<p>How do I get a question object which is initially lazy loaded, to be eager loaded with all relations?</p>\n"},{"tags":["java","function","generics","types","declaration"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1655446624,"post_id":72655042,"comment_id":128338787,"body_markdown":"The `&lt;T&gt;` declares a type parameter local to the method, without which you would not be able to use `T` anywhere else within the method as it would be undefined. The two `T[]` are the return type and parameter type, both of which are an array of `T`. What is the actual type of `T`? The method has no idea beyond it will be an `Object` (that&#39;s the implicit upper bound in this case). That is determined by the code calling it (e.g., if you called `toArray(new String[0])`, then the type argument for `T` is `String`, though that only has meaning at compile-time due to type erasure).","body":"The <code>&lt;T&gt;</code> declares a type parameter local to the method, without which you would not be able to use <code>T</code> anywhere else within the method as it would be undefined. The two <code>T[]</code> are the return type and parameter type, both of which are an array of <code>T</code>. What is the actual type of <code>T</code>? The method has no idea beyond it will be an <code>Object</code> (that&#39;s the implicit upper bound in this case). That is determined by the code calling it (e.g., if you called <code>toArray(new String[0])</code>, then the type argument for <code>T</code> is <code>String</code>, though that only has meaning at compile-time due to type erasure)."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1655454904,"post_id":72655042,"comment_id":128341281,"body_markdown":"Related, possibly duplicate: [Java Generic Interface vs Generic Methods, and when to use one](https://stackoverflow.com/questions/30575434/java-generic-interface-vs-generic-methods-and-when-to-use-one), [choosing between class level or method level generics](https://stackoverflow.com/questions/39679876/choosing-between-class-level-or-method-level-generics)","body":"Related, possibly duplicate: <a href=\"https://stackoverflow.com/questions/30575434/java-generic-interface-vs-generic-methods-and-when-to-use-one\">Java Generic Interface vs Generic Methods, and when to use one</a>, <a href=\"https://stackoverflow.com/questions/39679876/choosing-between-class-level-or-method-level-generics\">choosing between class level or method level generics</a>"}],"answers":[{"tags":[],"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655446731,"creation_date":1655446731,"answer_id":72655076,"question_id":72655042,"body_markdown":"Remember that the idea behind generics is to parameterise a class on _type_ and that you specify that type when you instantiate the class. `&lt;T&gt;` is the type parameter - that is you write that to say that this class/method is parameterised on some type `T` specified at run time.","title":"Java generic: what does the 1st &quot;T&quot; mean in &lt;T&gt; T[] toArray(T[] a)?","body":"<p>Remember that the idea behind generics is to parameterise a class on <em>type</em> and that you specify that type when you instantiate the class. <code>&lt;T&gt;</code> is the type parameter - that is you write that to say that this class/method is parameterised on some type <code>T</code> specified at run time.</p>\n"},{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1655451996,"creation_date":1655451996,"answer_id":72655979,"question_id":72655042,"body_markdown":"This defines a method where some types aren&#39;t fixed, but generic.\r\n\r\nA non-generic version of that method would e.g. be \r\n\r\n    String[] toArray(String[] a);\r\n\r\nmeaning that you provide a `String[]` array and get a `String[]` array.\r\n\r\nThe given method replaces the `String` with a generic type `T`, meaning that the result type now depends on the type provided (*), that the resulting array type is the same as the type provided as the array parameter.\r\n\r\nThe array type relevant here need not (exactly) correspond to the generic type of the List as a whole (the `E` in `List&lt;E&gt;`), but instead is specific for just this method, so it must be declared with this method, and that&#39;s the `&lt;T&gt;` in `&lt;T&gt; T[] toArray(T[] a);`\r\n\r\nSo, breaking down the `&lt;T&gt; T[] toArray(T[] a);` into its parts:\r\n\r\n - `&lt;T&gt;` declares that the following method has some method-specific generic type `T`.\r\n - `T[]` says the the return value is an array of this generic type.\r\n - `toArray(...)` names the method.\r\n - `T[] a` declares that the method expects an array-typed parameter.\r\n\r\nWith Java generics, the compiler needs to find the specific type that replaces `T` in any given method invocation like\r\n\r\n    ??? myArray = myList.toArray(new String[17]);\r\n\r\nHere, the argument gives the information: a `String[]` array is provided, a `T[]` array is expected, so `T` must be `String`, and now the compiler knows that in the result type `T[]` the `T` has to be replaced with `String` as well, giving a `String[]` result type, meaning that `???` must be `String[]` or compatible, otherwise you get a compiler error.\r\n\r\nBesides this deduction-based type matching, there is also a (rarely used) syntax for explicitly specifying the generic type. That would be\r\n\r\n    String[] myArray = myList.&lt;String&gt;toArray(new String[17]);\r\n\r\nThe `&lt;String&gt;` infix explicitly tells the compiler the `T` replacement. In most cases, this explicit specification is redundant, so you&#39;ll hardly ever see this syntax in real-world code.\r\n\r\n(*) Java generics are completely evaluated at compile time, so the generic effects of the declaration are only based on the types as the compiler sees them. So, e.g. in \r\n\r\n    Object[] myObjectArray = new String[0];\r\n    ??? myResultArray = myList.toArray(myObjectArray);\r\n\r\nthe `???` has to be `Object[]`, although at runtime, a `String[]` array will be produced.","title":"Java generic: what does the 1st &quot;T&quot; mean in &lt;T&gt; T[] toArray(T[] a)?","body":"<p>This defines a method where some types aren't fixed, but generic.</p>\n<p>A non-generic version of that method would e.g. be</p>\n<pre><code>String[] toArray(String[] a);\n</code></pre>\n<p>meaning that you provide a <code>String[]</code> array and get a <code>String[]</code> array.</p>\n<p>The given method replaces the <code>String</code> with a generic type <code>T</code>, meaning that the result type now depends on the type provided (*), that the resulting array type is the same as the type provided as the array parameter.</p>\n<p>The array type relevant here need not (exactly) correspond to the generic type of the List as a whole (the <code>E</code> in <code>List&lt;E&gt;</code>), but instead is specific for just this method, so it must be declared with this method, and that's the <code>&lt;T&gt;</code> in <code>&lt;T&gt; T[] toArray(T[] a);</code></p>\n<p>So, breaking down the <code>&lt;T&gt; T[] toArray(T[] a);</code> into its parts:</p>\n<ul>\n<li><code>&lt;T&gt;</code> declares that the following method has some method-specific generic type <code>T</code>.</li>\n<li><code>T[]</code> says the the return value is an array of this generic type.</li>\n<li><code>toArray(...)</code> names the method.</li>\n<li><code>T[] a</code> declares that the method expects an array-typed parameter.</li>\n</ul>\n<p>With Java generics, the compiler needs to find the specific type that replaces <code>T</code> in any given method invocation like</p>\n<pre><code>??? myArray = myList.toArray(new String[17]);\n</code></pre>\n<p>Here, the argument gives the information: a <code>String[]</code> array is provided, a <code>T[]</code> array is expected, so <code>T</code> must be <code>String</code>, and now the compiler knows that in the result type <code>T[]</code> the <code>T</code> has to be replaced with <code>String</code> as well, giving a <code>String[]</code> result type, meaning that <code>???</code> must be <code>String[]</code> or compatible, otherwise you get a compiler error.</p>\n<p>Besides this deduction-based type matching, there is also a (rarely used) syntax for explicitly specifying the generic type. That would be</p>\n<pre><code>String[] myArray = myList.&lt;String&gt;toArray(new String[17]);\n</code></pre>\n<p>The <code>&lt;String&gt;</code> infix explicitly tells the compiler the <code>T</code> replacement. In most cases, this explicit specification is redundant, so you'll hardly ever see this syntax in real-world code.</p>\n<p>(*) Java generics are completely evaluated at compile time, so the generic effects of the declaration are only based on the types as the compiler sees them. So, e.g. in</p>\n<pre><code>Object[] myObjectArray = new String[0];\n??? myResultArray = myList.toArray(myObjectArray);\n</code></pre>\n<p>the <code>???</code> has to be <code>Object[]</code>, although at runtime, a <code>String[]</code> array will be produced.</p>\n"}],"owner":{"account_id":8189476,"reputation":7627,"user_id":6164172,"accept_rate":92,"display_name":"Troskyvs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72655979,"answer_count":2,"score":0,"last_activity_date":1655454735,"creation_date":1655446498,"question_id":72655042,"body_markdown":"I&#39;m using Eclipse and when I navigate the disassemble of List.class I see this:\r\n```\r\n&lt;T&gt; T[] toArray(T[] a);\r\n```\r\n1. What does the leading ```&lt;T&gt;``` actually mean here? Is it part of return type? I guess the return value is `T[]`.\r\n\r\n2. In what scenario does a function need to declare like ```&lt;T&gt; T[]``` as function signature?\r\n\r\n","title":"Java generic: what does the 1st &quot;T&quot; mean in &lt;T&gt; T[] toArray(T[] a)?","body":"<p>I'm using Eclipse and when I navigate the disassemble of List.class I see this:</p>\n<pre><code>&lt;T&gt; T[] toArray(T[] a);\n</code></pre>\n<ol>\n<li><p>What does the leading <code>&lt;T&gt;</code> actually mean here? Is it part of return type? I guess the return value is <code>T[]</code>.</p>\n</li>\n<li><p>In what scenario does a function need to declare like <code>&lt;T&gt; T[]</code> as function signature?</p>\n</li>\n</ol>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":3,"creation_date":1655415642,"post_id":72652160,"comment_id":128333853,"body_markdown":"Use `.replaceFirst(&quot;(?&lt;=\\\\$)0+(?=\\\\d)&quot;, &quot;&quot;)` ([demo](https://regex101.com/r/YhspqI/1))","body":"Use <code>.replaceFirst(&quot;(?&lt;=\\\\$)0+(?=\\\\d)&quot;, &quot;&quot;)</code> (<a href=\"https://regex101.com/r/YhspqI/1\" rel=\"nofollow noreferrer\">demo</a>)"},{"owner":{"account_id":25492487,"reputation":25,"user_id":19287033,"display_name":"adamn2"},"score":0,"creation_date":1655416135,"post_id":72652160,"comment_id":128334005,"body_markdown":"Thanks @WiktorStribiżew, that worked with all requirements! :)","body":"Thanks @WiktorStribiżew, that worked with all requirements! :)"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1655416312,"post_id":72652160,"comment_id":128334046,"body_markdown":"@adamn2 except it doesn&#39;t work for `$0,012.34`","body":"@adamn2 except it doesn&#39;t work for <code>$0,012.34</code>"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1655436928,"post_id":72652160,"comment_id":128337159,"body_markdown":"@WiktorStribiżew [`zeroes` is not a typo](https://english.stackexchange.com/a/3825/12060)","body":"@WiktorStribiżew <a href=\"https://english.stackexchange.com/a/3825/12060\"><code>zeroes</code> is not a typo</a>"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1655436992,"creation_date":1655416108,"answer_id":72652236,"question_id":72652160,"body_markdown":"Match zeroes or commas that are preceded by a dollar sign and followed by a digit:\r\n\r\n    str = str.replaceAll(&quot;(?&lt;=\\\\$)[0,]+(?=\\\\d)&quot;, &quot;&quot;);\r\n\r\nSee [live demo][1].\r\n\r\nThis covers the edge cases:\r\n\r\n - `$001.23` -&gt; `$1.23`\r\n - `$000.12` -&gt; `$0.12`\r\n - `$00,123.45` -&gt; `$123.45`\r\n - `$0,000,000.12` -&gt; `$0.12`\r\n \r\n\r\nThe regex:\r\n\r\n - `(?&lt;=\\\\$)` means the preceding character is a dollar sign\r\n - `(?=\\\\d)` means the following character is a digit\r\n - `[0,]+` means one or more zeroes or commas\r\n\r\n---\r\n\r\nTo handle *any* currency symbol:\r\n\r\n    str = str.replaceAll(&quot;(?&lt;=[^\\\\d,.])[0,]+(?=\\\\d)&quot;, &quot;&quot;);\r\n\r\nSee [live demo][2].\r\n\r\n\r\n  [1]: https://rubular.com/r/CLof4LYunq7jPK\r\n  [2]: https://rubular.com/r/AniN0XuyQgMGJi","title":"Remove leading zeros from a string using regex","body":"<p>Match zeroes or commas that are preceded by a dollar sign and followed by a digit:</p>\n<pre><code>str = str.replaceAll(&quot;(?&lt;=\\\\$)[0,]+(?=\\\\d)&quot;, &quot;&quot;);\n</code></pre>\n<p>See <a href=\"https://rubular.com/r/CLof4LYunq7jPK\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n<p>This covers the edge cases:</p>\n<ul>\n<li><code>$001.23</code> -&gt; <code>$1.23</code></li>\n<li><code>$000.12</code> -&gt; <code>$0.12</code></li>\n<li><code>$00,123.45</code> -&gt; <code>$123.45</code></li>\n<li><code>$0,000,000.12</code> -&gt; <code>$0.12</code></li>\n</ul>\n<p>The regex:</p>\n<ul>\n<li><code>(?&lt;=\\\\$)</code> means the preceding character is a dollar sign</li>\n<li><code>(?=\\\\d)</code> means the following character is a digit</li>\n<li><code>[0,]+</code> means one or more zeroes or commas</li>\n</ul>\n<hr />\n<p>To handle <em>any</em> currency symbol:</p>\n<pre><code>str = str.replaceAll(&quot;(?&lt;=[^\\\\d,.])[0,]+(?=\\\\d)&quot;, &quot;&quot;);\n</code></pre>\n<p>See <a href=\"https://rubular.com/r/AniN0XuyQgMGJi\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655454440,"creation_date":1655416187,"answer_id":72652244,"question_id":72652160,"body_markdown":"You can use\r\n```java\r\nstring result = input_string.replaceFirst(&quot;(?&lt;=\\\\p{Sc})[0,]+(?=\\\\d)&quot;, &quot;&quot;);\r\n```\r\nSee the [regex demo][1].\r\n\r\n*Details*:\r\n\r\n - `(?&lt;=\\p{Sc})` - immediately on the left, there must be **any currency** char\r\n - `[0,]+` - one or more zeros or commas\r\n - `(?=\\d)` - immediately on the right, there must be any one digit.\r\n\r\n  [1]: https://regex101.com/r/YhspqI/3","title":"Remove leading zeros from a string using regex","body":"<p>You can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>string result = input_string.replaceFirst(&quot;(?&lt;=\\\\p{Sc})[0,]+(?=\\\\d)&quot;, &quot;&quot;);\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/YhspqI/3\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>(?&lt;=\\p{Sc})</code> - immediately on the left, there must be <strong>any currency</strong> char</li>\n<li><code>[0,]+</code> - one or more zeros or commas</li>\n<li><code>(?=\\d)</code> - immediately on the right, there must be any one digit.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20821629,"reputation":75,"user_id":19355037,"display_name":"Tydal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655418352,"creation_date":1655417019,"answer_id":72652350,"question_id":72652160,"body_markdown":"This is a simple regex that fits your needs:\r\n\r\n    str = str.replaceAll(&quot;^[$][,0]+0(?![.])&quot;, &quot;$&quot;);\r\n\r\n","title":"Remove leading zeros from a string using regex","body":"<p>This is a simple regex that fits your needs:</p>\n<pre><code>str = str.replaceAll(&quot;^[$][,0]+0(?![.])&quot;, &quot;$&quot;);\n</code></pre>\n"}],"owner":{"account_id":25492487,"reputation":25,"user_id":19287033,"display_name":"adamn2"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72652236,"answer_count":3,"score":0,"last_activity_date":1655454440,"creation_date":1655415542,"question_id":72652160,"body_markdown":"I am learning regex and java and working on a problem related to that.\r\n\r\nI have an input string which can be any dollar amount like \r\n```\r\n$123,456.78\r\n$0012,345.67\r\n$123,04.56\r\n$123,45.06\r\n```\r\n\r\nit also could be \r\n```\r\n$0.1\r\n```\r\nI am trying to find if the dollar amount has leading zeros and trying to remove it.\r\n\r\nso far I have tried this\r\n\r\n```\r\nstring result = input_string.replaceAll((&quot;[!^0]+)&quot; , &quot;&quot;);\r\n```\r\n\r\nBut I guess I&#39;m doing something wrong.\r\nI just want to remove the leading zeros, not the ones between the amount part and not the one in cents. And if the amount is $0.1, I don&#39;t want to remove it.","title":"Remove leading zeros from a string using regex","body":"<p>I am learning regex and java and working on a problem related to that.</p>\n<p>I have an input string which can be any dollar amount like</p>\n<pre><code>$123,456.78\n$0012,345.67\n$123,04.56\n$123,45.06\n</code></pre>\n<p>it also could be</p>\n<pre><code>$0.1\n</code></pre>\n<p>I am trying to find if the dollar amount has leading zeros and trying to remove it.</p>\n<p>so far I have tried this</p>\n<pre><code>string result = input_string.replaceAll((&quot;[!^0]+)&quot; , &quot;&quot;);\n</code></pre>\n<p>But I guess I'm doing something wrong.\nI just want to remove the leading zeros, not the ones between the amount part and not the one in cents. And if the amount is $0.1, I don't want to remove it.</p>\n"},{"tags":["java","multithreading","concurrency","executorservice","callable"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1654936621,"post_id":72582648,"comment_id":128214779,"body_markdown":"Even assuming you properly parallelized the work, I doubt each thread is doing significant work for a 200-by-200 board of Conway&#39;s Game of Life. Threads add overhead (e.g., thread creation, increased context switching, etc.). So, if the work is trivial, then adding more threads can make the performance worse than just putting all the work on a single thread.","body":"Even assuming you properly parallelized the work, I doubt each thread is doing significant work for a 200-by-200 board of Conway&#39;s Game of Life. Threads add overhead (e.g., thread creation, increased context switching, etc.). So, if the work is trivial, then adding more threads can make the performance worse than just putting all the work on a single thread."},{"owner":{"account_id":5664588,"reputation":686,"user_id":4481091,"accept_rate":100,"display_name":"brettmichaelgreen"},"score":1,"creation_date":1655142712,"post_id":72582648,"comment_id":128256511,"body_markdown":"To add onto @Slaw &#39;s comment on thread creation overhead, try making the number of threads variable to observe this effect. Currently, 200 threads are being created (one for each row). Try dividing these up into 1,2,10 etc threads with the same code. You can create a graph of runtimes for each of these to see where your performance is sublinearly improved by adding threads. Further, you can see the reduction in performance from 1 thread in this configuration from your original single-threaded code","body":"To add onto @Slaw &#39;s comment on thread creation overhead, try making the number of threads variable to observe this effect. Currently, 200 threads are being created (one for each row). Try dividing these up into 1,2,10 etc threads with the same code. You can create a graph of runtimes for each of these to see where your performance is sublinearly improved by adding threads. Further, you can see the reduction in performance from 1 thread in this configuration from your original single-threaded code"},{"owner":{"account_id":20396897,"reputation":29,"user_id":14963476,"display_name":"DSb1rd5"},"score":0,"creation_date":1655199245,"post_id":72582648,"comment_id":128269678,"body_markdown":"Thanks for that.  That&#39;s good advice.  It is more or less what I ended up doing in the end and I have had some success (or more success) doing so.  Specifically, partitioning the board so as to reduce the number of threads.","body":"Thanks for that.  That&#39;s good advice.  It is more or less what I ended up doing in the end and I have had some success (or more success) doing so.  Specifically, partitioning the board so as to reduce the number of threads."}],"answers":[{"tags":[],"owner":{"account_id":20396897,"reputation":29,"user_id":14963476,"display_name":"DSb1rd5"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655454434,"creation_date":1655453638,"answer_id":72656285,"question_id":72582648,"body_markdown":"When the number of threads (running) significantly outweighs the number of available processors, excessive context switching can occur. This means that the overhead of creating the thread plus that of switching between threads impacts performance.\r\n\r\nContext switching is particularly disruptive because whenever a processor switches from one thread to another it must flush its cache and reload the new thread&#39;s context.  Context in this sense refers to a thread&#39;s stack, register and program counter content.  \r\n\r\nA better approach would be to attempt to match the number of available processors with the number of threads created.  See below:\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.concurrent.*;\r\n\r\n    public class LongRunningTask {\r\n        int count;\r\n        boolean[][] board = new boolean[200][200];\r\n        int numProcessors = Runtime.getRuntime().availableProcessors() - 1;\r\n        ExecutorService threadPool = Executors.newFixedThreadPool(numProcessors);\r\n\r\n        public LongRunningTask(int count) {\r\n            this.count = count;\r\n        }\r\n\r\n        public void processTask() {\r\n            int i = 0;\r\n            ArrayList&lt;Future&lt;Integer&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n            int startIndex = 1;\r\n            int partitionSize = board.length / numProcessors;\r\n\r\n            while(i &lt; count){\r\n                while (startIndex &lt; board.length) {\r\n                    futures.add(threadPool.submit(new MyCallable(startIndex, partitionSize, board)));\r\n                    startIndex += partitionSize;\r\n                }\r\n\r\n                for (Future&lt;Integer&gt; f : futures){\r\n                    try {\r\n                        f.get();\r\n                    } catch (InterruptedException | ExecutionException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n                i++;\r\n            }\r\n        }\r\n    }\r\n\r\n    class MyCallable implements Callable&lt;Integer&gt; {\r\n        private final int startIndex;\r\n        private final int partitionSize;\r\n        private final boolean[][] board;\r\n\r\n        public MyCallable(int startIndex, int partitionSize, boolean[][] board){\r\n            this.startIndex = startIndex;\r\n            this.partitionSize = partitionSize;\r\n            this.board = board;\r\n        }\r\n\r\n        @Override\r\n        public Integer call() throws Exception {\r\n            int endIndex = Math.min(startIndex + partitionSize, board.length - 1);\r\n            for (int k = startIndex; k &lt; endIndex; k++){\r\n                for (int l = 1; l &lt; board[0].length; l++){\r\n                    //Do Something Here\r\n                }\r\n            }\r\n            return 1;\r\n        }\r\n    }\r\n\r\n    class HypotheticalGUI{\r\n        public static void main(String[] args) {\r\n            LongRunningTask task = new LongRunningTask(100);\r\n\r\n            Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    task.processTask();\r\n                }\r\n            });\r\n            thread.start();\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Why is my ExecutorService implementation performing worse than single threaded implementation?","body":"<p>When the number of threads (running) significantly outweighs the number of available processors, excessive context switching can occur. This means that the overhead of creating the thread plus that of switching between threads impacts performance.</p>\n<p>Context switching is particularly disruptive because whenever a processor switches from one thread to another it must flush its cache and reload the new thread's context.  Context in this sense refers to a thread's stack, register and program counter content.</p>\n<p>A better approach would be to attempt to match the number of available processors with the number of threads created.  See below:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.concurrent.*;\n\npublic class LongRunningTask {\n    int count;\n    boolean[][] board = new boolean[200][200];\n    int numProcessors = Runtime.getRuntime().availableProcessors() - 1;\n    ExecutorService threadPool = Executors.newFixedThreadPool(numProcessors);\n\n    public LongRunningTask(int count) {\n        this.count = count;\n    }\n\n    public void processTask() {\n        int i = 0;\n        ArrayList&lt;Future&lt;Integer&gt;&gt; futures = new ArrayList&lt;&gt;();\n        int startIndex = 1;\n        int partitionSize = board.length / numProcessors;\n\n        while(i &lt; count){\n            while (startIndex &lt; board.length) {\n                futures.add(threadPool.submit(new MyCallable(startIndex, partitionSize, board)));\n                startIndex += partitionSize;\n            }\n\n            for (Future&lt;Integer&gt; f : futures){\n                try {\n                    f.get();\n                } catch (InterruptedException | ExecutionException e) {\n                    e.printStackTrace();\n                }\n            }\n\n            i++;\n        }\n    }\n}\n\nclass MyCallable implements Callable&lt;Integer&gt; {\n    private final int startIndex;\n    private final int partitionSize;\n    private final boolean[][] board;\n\n    public MyCallable(int startIndex, int partitionSize, boolean[][] board){\n        this.startIndex = startIndex;\n        this.partitionSize = partitionSize;\n        this.board = board;\n    }\n\n    @Override\n    public Integer call() throws Exception {\n        int endIndex = Math.min(startIndex + partitionSize, board.length - 1);\n        for (int k = startIndex; k &lt; endIndex; k++){\n            for (int l = 1; l &lt; board[0].length; l++){\n                //Do Something Here\n            }\n        }\n        return 1;\n    }\n}\n\nclass HypotheticalGUI{\n    public static void main(String[] args) {\n        LongRunningTask task = new LongRunningTask(100);\n\n        Thread thread = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                task.processTask();\n            }\n        });\n        thread.start();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20396897,"reputation":29,"user_id":14963476,"display_name":"DSb1rd5"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72656285,"answer_count":1,"score":1,"last_activity_date":1655454434,"creation_date":1654934343,"question_id":72582648,"body_markdown":"I&#39;ve been attempting to multi-thread Conway&#39;s game of life program.  Part of my naive solution was to do roughly what I&#39;ve done below. However, even this basic implementation performs significantly more poorly than a single-threaded solution, highlighting the fact that I&#39;m not understanding something.  \r\n\r\nI should also say, in case it isn&#39;t clear, I need to &#39;join&#39; the threads at the end of each iteration of the while loop, which is why I have used Callable - so that I can obtain and iterate through the Futures.\r\n\r\nAny feedback, advice suggestions would be wonderfully well received.  \r\n\r\n    package lewi0231.testOne;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.concurrent.*;\r\n\r\n    public class LongRunningTask {\r\n        int count;\r\n        boolean[][] board = new boolean[200][200];\r\n        ExecutorService threadPool = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\r\n\r\n        public LongRunningTask(int count) {\r\n            this.count = count;\r\n        }\r\n\r\n        public void processTask() {\r\n            int i = 0;\r\n            ArrayList&lt;Future&lt;Integer&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n\r\n            while(i &lt; count){\r\n                for (int k = 1; k &lt; board.length; k++){\r\n                    futures.add(threadPool.submit(new Callable&lt;Integer&gt;() {\r\n                        @Override\r\n                        public Integer call() throws Exception {\r\n                            for (int l = 1; l &lt; board[0].length; l++){\r\n                                    //Do Something Here\r\n                            }\r\n                            return 1;\r\n                        }\r\n                    }));\r\n                }\r\n\r\n                for (Future&lt;Integer&gt; f : futures){\r\n                    try {\r\n                        f.get();\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    } catch (ExecutionException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n                i++;\r\n            }\r\n        }\r\n    }\r\n\r\n    class HypotheticalGUI{\r\n        public static void main(String[] args) {\r\n            LongRunningTask task = new LongRunningTask(100);\r\n\r\n            Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    task.processTask();\r\n                }\r\n            });\r\n            thread.start();\r\n        }\r\n    }\r\n","title":"Why is my ExecutorService implementation performing worse than single threaded implementation?","body":"<p>I've been attempting to multi-thread Conway's game of life program.  Part of my naive solution was to do roughly what I've done below. However, even this basic implementation performs significantly more poorly than a single-threaded solution, highlighting the fact that I'm not understanding something.</p>\n<p>I should also say, in case it isn't clear, I need to 'join' the threads at the end of each iteration of the while loop, which is why I have used Callable - so that I can obtain and iterate through the Futures.</p>\n<p>Any feedback, advice suggestions would be wonderfully well received.</p>\n<pre><code>package lewi0231.testOne;\n\nimport java.util.ArrayList;\nimport java.util.concurrent.*;\n\npublic class LongRunningTask {\n    int count;\n    boolean[][] board = new boolean[200][200];\n    ExecutorService threadPool = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\n\n    public LongRunningTask(int count) {\n        this.count = count;\n    }\n\n    public void processTask() {\n        int i = 0;\n        ArrayList&lt;Future&lt;Integer&gt;&gt; futures = new ArrayList&lt;&gt;();\n\n        while(i &lt; count){\n            for (int k = 1; k &lt; board.length; k++){\n                futures.add(threadPool.submit(new Callable&lt;Integer&gt;() {\n                    @Override\n                    public Integer call() throws Exception {\n                        for (int l = 1; l &lt; board[0].length; l++){\n                                //Do Something Here\n                        }\n                        return 1;\n                    }\n                }));\n            }\n\n            for (Future&lt;Integer&gt; f : futures){\n                try {\n                    f.get();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                } catch (ExecutionException e) {\n                    e.printStackTrace();\n                }\n            }\n\n            i++;\n        }\n    }\n}\n\nclass HypotheticalGUI{\n    public static void main(String[] args) {\n        LongRunningTask task = new LongRunningTask(100);\n\n        Thread thread = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                task.processTask();\n            }\n        });\n        thread.start();\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-boot"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1495204264,"post_id":44072550,"comment_id":75169330,"body_markdown":"wanna explain how this line works `List&lt;Client&gt; clients= new ArrayList&lt;&gt;();` if `Client` isn&#39;t an actual class?","body":"wanna explain how this line works <code>List&lt;Client&gt; clients= new ArrayList&lt;&gt;();</code> if <code>Client</code> isn&#39;t an actual class?"},{"owner":{"account_id":4298757,"reputation":3291,"user_id":3513023,"accept_rate":65,"display_name":"METTAIBI"},"score":0,"creation_date":1495204569,"post_id":44072550,"comment_id":75169538,"body_markdown":"sorry its a mistake, i edited, the second class is Client","body":"sorry its a mistake, i edited, the second class is Client"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1495205369,"post_id":44072550,"comment_id":75170060,"body_markdown":"well you have to insert/update every client which is connected to the folder. if its an insert, you won&#39;t be able to reduce the amount of statements. for update it depends on what you update and how you determine who gets updated. i think you are missing some sql understanding on what is possible and what not","body":"well you have to insert/update every client which is connected to the folder. if its an insert, you won&#39;t be able to reduce the amount of statements. for update it depends on what you update and how you determine who gets updated. i think you are missing some sql understanding on what is possible and what not"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1495207308,"post_id":44072550,"comment_id":75171401,"body_markdown":"You could, in principle, get rid of the intermediary table by using a `@JoinColumn` instead. This will reduce the number of writes, but may (or may not, depending on your use case) negatively affect query performance and/or updates.","body":"You could, in principle, get rid of the intermediary table by using a <code>@JoinColumn</code> instead. This will reduce the number of writes, but may (or may not, depending on your use case) negatively affect query performance and/or updates."},{"owner":{"account_id":2422021,"reputation":2923,"user_id":2114786,"accept_rate":43,"display_name":"O.Badr"},"score":0,"creation_date":1495230373,"post_id":44072550,"comment_id":75182855,"body_markdown":"Why did you create an intermediate table ? Could you add the Sql profiler log that shows generated queries? You can also set up  hibetnate log level to check the  generated queries  as well.","body":"Why did you create an intermediate table ? Could you add the Sql profiler log that shows generated queries? You can also set up  hibetnate log level to check the  generated queries  as well."}],"answers":[{"tags":[],"owner":{"account_id":2633442,"reputation":1050,"user_id":2278773,"accept_rate":75,"display_name":"Ady Junior"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1515159069,"creation_date":1495207258,"answer_id":44073699,"question_id":44072550,"body_markdown":"Is there many-to-many association or one-to-many association between client and folder in that case?\r\n\r\nIf that is one-to-many association, I suggest you use bidirectional mapping. Because you don&#39;t need the third table for this situation. So (briefly), fewer queries will be generated by hibernate and the performance will increase.\r\n\r\n\r\n    @Entity\r\n    @Table(name=&quot;folder&quot;)\r\n    public class Folder {\r\n        @Id\r\n        private String reference;\r\n        \r\n        @OneToMany(mappedBy=&quot;folder&quot;, cascade = {CascadeType.ALL}, orphanRemoval = true)\r\n        private List&lt;Client&gt; clients= new ArrayList&lt;&gt;();\r\n\r\n        private Date createDate;\r\n\r\n        //getters and setters\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;client&quot;)\r\n    public class Client implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int id;\r\n\r\n        private String name;\r\n        \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;folder_id&quot;)\r\n        private Folder folder;\r\n\r\n        //getters and setters\r\n    }\r\n\r\nSee this awesome post about @OneToMany relationships: https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\r\n\r\n\r\nBut, if your case is many-to-many see: https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/\r\n","title":"JPA: How to improve performance in persistance of OneToMany relationships","body":"<p>Is there many-to-many association or one-to-many association between client and folder in that case?</p>\n\n<p>If that is one-to-many association, I suggest you use bidirectional mapping. Because you don't need the third table for this situation. So (briefly), fewer queries will be generated by hibernate and the performance will increase.</p>\n\n<pre><code>@Entity\n@Table(name=\"folder\")\npublic class Folder {\n    @Id\n    private String reference;\n\n    @OneToMany(mappedBy=\"folder\", cascade = {CascadeType.ALL}, orphanRemoval = true)\n    private List&lt;Client&gt; clients= new ArrayList&lt;&gt;();\n\n    private Date createDate;\n\n    //getters and setters\n}\n\n\n@Entity\n@Table(name = \"client\")\npublic class Client implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n\n    private String name;\n\n    @ManyToOne\n    @JoinColumn(name = \"folder_id\")\n    private Folder folder;\n\n    //getters and setters\n}\n</code></pre>\n\n<p>See this awesome post about @OneToMany relationships: <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/</a></p>\n\n<p>But, if your case is many-to-many see: <a href=\"https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/</a></p>\n"},{"tags":[],"owner":{"account_id":4195472,"reputation":11,"user_id":3436989,"display_name":"AtomicAJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655454162,"creation_date":1655454162,"answer_id":72656382,"question_id":44072550,"body_markdown":"Making the one to many relationship bi-directional helps and by default it is eager fetch. In many cases you would need Eager fetch, but making type fetch eager will just execute n*m(n number of parent record one to many and M is the number of children records many to one mapped) queries.\r\n\r\nThe solution is fairly simple use JPA 2.1 where you need add entiry grapgh at JPA repository only\r\n\r\n\r\n    @Repository\r\n    public interface FolderRepo extends JpaRepository&lt; Folder, Long&gt; {\r\n\r\n    @EntityGraph(attributePaths = {&quot;clients&quot;)\r\n    List&lt;Folder&gt; findAll();\r\n    }\r\n\r\nThis will create Join between the bi-directional mapping of Folder-&gt; Clients\r\n\r\n\r\n&gt; Blockquote you need to override equals method in each of these entity classes with ID else this will not work. \r\nYou can get rid of complex multilevel  NamedEntityGraph at each entity class which is not needed if you have added.\r\n\r\n\r\n\r\n\r\n","title":"JPA: How to improve performance in persistance of OneToMany relationships","body":"<p>Making the one to many relationship bi-directional helps and by default it is eager fetch. In many cases you would need Eager fetch, but making type fetch eager will just execute n*m(n number of parent record one to many and M is the number of children records many to one mapped) queries.</p>\n<p>The solution is fairly simple use JPA 2.1 where you need add entiry grapgh at JPA repository only</p>\n<pre><code>@Repository\npublic interface FolderRepo extends JpaRepository&lt; Folder, Long&gt; {\n\n@EntityGraph(attributePaths = {&quot;clients&quot;)\nList&lt;Folder&gt; findAll();\n}\n</code></pre>\n<p>This will create Join between the bi-directional mapping of Folder-&gt; Clients</p>\n<blockquote>\n<p>Blockquote you need to override equals method in each of these entity classes with ID else this will not work.\nYou can get rid of complex multilevel  NamedEntityGraph at each entity class which is not needed if you have added.</p>\n</blockquote>\n"}],"owner":{"account_id":4298757,"reputation":3291,"user_id":3513023,"accept_rate":65,"display_name":"METTAIBI"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7076,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":44073699,"answer_count":2,"score":3,"last_activity_date":1655454162,"creation_date":1495203917,"question_id":44072550,"body_markdown":"I have two classes : \r\n\r\n    @Entity\r\n    @Table(name=&quot;folder&quot;)\r\n    public class Folder{\r\n    @Id\r\n    public String reference;\r\n    @OneToMany(cascade = {CascadeType.ALL}, orphanRemoval = true)\r\n    public List&lt;Client&gt; clients= new ArrayList&lt;&gt;();\r\n    public Date createDate;\r\n    }\r\n\r\nand the second class: \r\n\r\n    @Entity\r\n    @Table(name = &quot;client&quot;)\r\n    public class Client implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        public int id;\r\n        public String name;\r\n    }\r\n\r\nin my database i created an intermadiate table\r\n\r\n   \r\n\r\n     create table folder_clients (folder_ref varchar(20) not null, clients_id int not null)\r\n        alter table folder_clients add constraint UK_clientid unique (clients_id)\r\n        alter table folder_clients add constraint FK_idClient foreign key (clients_id) references client\r\n        alter table folder_clients add constraint FK_refFolder foreign key (folder_ref) references folder\r\n\r\nnow i have a service that persists a folder, so automatically it persists all clients related to it, and this is done throught a Folder Repository:\r\n \r\n\r\n     folder.getClients().add(client);\r\n     folderRepository.save(folder);\r\n\r\nEverything is good and working, but when i execute the SQL Profiler i find that it executes many statements, which affect performance.\r\n\r\nIs there a better way to improve my code, in order to reduce number of statements executed by hibernate and improve performance ? \r\n\r\nthank you\r\n\r\n\r\n\r\n","title":"JPA: How to improve performance in persistance of OneToMany relationships","body":"<p>I have two classes : </p>\n\n<pre><code>@Entity\n@Table(name=\"folder\")\npublic class Folder{\n@Id\npublic String reference;\n@OneToMany(cascade = {CascadeType.ALL}, orphanRemoval = true)\npublic List&lt;Client&gt; clients= new ArrayList&lt;&gt;();\npublic Date createDate;\n}\n</code></pre>\n\n<p>and the second class: </p>\n\n<pre><code>@Entity\n@Table(name = \"client\")\npublic class Client implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    public int id;\n    public String name;\n}\n</code></pre>\n\n<p>in my database i created an intermadiate table</p>\n\n<pre><code> create table folder_clients (folder_ref varchar(20) not null, clients_id int not null)\n    alter table folder_clients add constraint UK_clientid unique (clients_id)\n    alter table folder_clients add constraint FK_idClient foreign key (clients_id) references client\n    alter table folder_clients add constraint FK_refFolder foreign key (folder_ref) references folder\n</code></pre>\n\n<p>now i have a service that persists a folder, so automatically it persists all clients related to it, and this is done throught a Folder Repository:</p>\n\n<pre><code> folder.getClients().add(client);\n folderRepository.save(folder);\n</code></pre>\n\n<p>Everything is good and working, but when i execute the SQL Profiler i find that it executes many statements, which affect performance.</p>\n\n<p>Is there a better way to improve my code, in order to reduce number of statements executed by hibernate and improve performance ? </p>\n\n<p>thank you</p>\n"},{"tags":["java","function","android-studio","self-destruction"],"comments":[{"owner":{"account_id":407561,"reputation":1266,"user_id":777716,"accept_rate":40,"display_name":"pix"},"score":0,"creation_date":1655453462,"post_id":72656197,"comment_id":128340782,"body_markdown":"Any  errors or logs to show?\nTry to look at this question : https://stackoverflow.com/questions/60716057/uninstall-application-programmatically-android-10","body":"Any  errors or logs to show? Try to look at this question : <a href=\"https://stackoverflow.com/questions/60716057/uninstall-application-programmatically-android-10\" title=\"uninstall application programmatically android 10\">stackoverflow.com/questions/60716057/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22544074,"reputation":73,"user_id":16734290,"display_name":"Sandeepa_Dilshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655453683,"creation_date":1655453683,"answer_id":72656292,"question_id":72656197,"body_markdown":"You can purge application files by enumerating app directory and deleting everything in there plus removing your application files on SD card. Uninstalling application itself is a different beast altogether. Non system apps cannot do that AFAIK (starting from android 2.0?).","title":"How can I create an app which deletes itself?","body":"<p>You can purge application files by enumerating app directory and deleting everything in there plus removing your application files on SD card. Uninstalling application itself is a different beast altogether. Non system apps cannot do that AFAIK (starting from android 2.0?).</p>\n"}],"owner":{"account_id":25578198,"reputation":1,"user_id":19357238,"display_name":"Hayk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655453683,"creation_date":1655453188,"question_id":72656197,"body_markdown":"How can i write a function that can remotely self-destruct it, ie delete that application from the phone?\r\n\r\n    Intent intent = new Intent(Intent.ACTION_DELETE);\r\n    intent.setData(Uri.parse(&quot;package:com.example.myapplication&quot;));\r\n    startActivity(intent);\r\n\r\nThis code does not work on Android 10+\r\n","title":"How can I create an app which deletes itself?","body":"<p>How can i write a function that can remotely self-destruct it, ie delete that application from the phone?</p>\n<pre><code>Intent intent = new Intent(Intent.ACTION_DELETE);\nintent.setData(Uri.parse(&quot;package:com.example.myapplication&quot;));\nstartActivity(intent);\n</code></pre>\n<p>This code does not work on Android 10+</p>\n"},{"tags":["java","hibernate","jpa","orm","jpql"],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1610259734,"creation_date":1432723527,"answer_id":30480240,"question_id":30479748,"body_markdown":"Hibernate doesn&#39;t allow you to fetch multiple Bags because it would end up fetching a Cartesian Product.\r\n\r\nM → N → P one-to-many or many-to-many relations\r\n-----------------------------------------------\r\n\r\nFor a multi-nested hierarchy, you can use `JOIN FETCH` on multiple collections as long as your lists are mapped as `Set`.\r\n\r\nM → N and M → P one-to-many or many-to-many relations\r\n-----------------------------------------------------\r\n\r\nFor sibling collections, like M → N and M → P, don&#39;t switch to using `Set` instead of `List`.\r\n\r\nUsing a `Set` instead of a `List` to avoid the [`MultipleBagFetchException`](https://vladmihalcea.com/hibernate-multiplebagfetchexception/) is a very bad idea since you will still end up with a [`Cartesian Product`](https://vladmihalcea.com/sql-cross-join/), and that&#39;s going to cause performance issues because you are going to fetch `M x N x P` records.\r\n\r\nIn this case, a much better approach is to fetch one collection with the first query and use additional queries for the remaining collections:\r\n\r\n    List&lt;Post&gt; _posts = entityManager.createQuery(&quot;&quot;&quot;\r\n    \tselect distinct p\r\n    \tfrom Post p\r\n    \tleft join fetch p.comments\r\n    \twhere p.id between :minId and :maxId\r\n        &quot;&quot;&quot;, Post.class)\r\n    .setParameter(&quot;minId&quot;, 1L)\r\n    .setParameter(&quot;maxId&quot;, 50L)\r\n    .setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\r\n    .getResultList();\r\n    \r\n    _posts = entityManager.createQuery(&quot;&quot;&quot;\r\n    \tselect distinct p\r\n    \tfrom Post p\r\n    \tleft join fetch p.tags t\r\n    \twhere p in :posts\r\n        &quot;&quot;&quot;, Post.class)\r\n    .setParameter(&quot;posts&quot;, _posts)\r\n    .setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\r\n    .getResultList();\r\n\r\nThis strategy allows you to avoid the `M x N x P` result set by fetching `M x (N + P)` records instead.\r\n\r\nFetching from the child-side to the parent\r\n------------------------------------------\r\n\r\nIf you have to use INNER JOIN when fetching the child collection, then you can simply [fetch from the inner-most Child up to the root][3] and reassemble the structure afterward. This is much more efficient since the query goes like this:\r\n\r\n    select t \r\n    from Topic t\r\n    join t.subject s\r\n    join s.branch b","title":"JPA : How to define @NamedEntityGraph for 3 levels?","body":"<p>Hibernate doesn't allow you to fetch multiple Bags because it would end up fetching a Cartesian Product.</p>\n<h2>M → N → P one-to-many or many-to-many relations</h2>\n<p>For a multi-nested hierarchy, you can use <code>JOIN FETCH</code> on multiple collections as long as your lists are mapped as <code>Set</code>.</p>\n<h2>M → N and M → P one-to-many or many-to-many relations</h2>\n<p>For sibling collections, like M → N and M → P, don't switch to using <code>Set</code> instead of <code>List</code>.</p>\n<p>Using a <code>Set</code> instead of a <code>List</code> to avoid the <a href=\"https://vladmihalcea.com/hibernate-multiplebagfetchexception/\" rel=\"noreferrer\"><code>MultipleBagFetchException</code></a> is a very bad idea since you will still end up with a <a href=\"https://vladmihalcea.com/sql-cross-join/\" rel=\"noreferrer\"><code>Cartesian Product</code></a>, and that's going to cause performance issues because you are going to fetch <code>M x N x P</code> records.</p>\n<p>In this case, a much better approach is to fetch one collection with the first query and use additional queries for the remaining collections:</p>\n<pre><code>List&lt;Post&gt; _posts = entityManager.createQuery(&quot;&quot;&quot;\n    select distinct p\n    from Post p\n    left join fetch p.comments\n    where p.id between :minId and :maxId\n    &quot;&quot;&quot;, Post.class)\n.setParameter(&quot;minId&quot;, 1L)\n.setParameter(&quot;maxId&quot;, 50L)\n.setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\n.getResultList();\n\n_posts = entityManager.createQuery(&quot;&quot;&quot;\n    select distinct p\n    from Post p\n    left join fetch p.tags t\n    where p in :posts\n    &quot;&quot;&quot;, Post.class)\n.setParameter(&quot;posts&quot;, _posts)\n.setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\n.getResultList();\n</code></pre>\n<p>This strategy allows you to avoid the <code>M x N x P</code> result set by fetching <code>M x (N + P)</code> records instead.</p>\n<h2>Fetching from the child-side to the parent</h2>\n<p>If you have to use INNER JOIN when fetching the child collection, then you can simply [fetch from the inner-most Child up to the root][3] and reassemble the structure afterward. This is much more efficient since the query goes like this:</p>\n<pre><code>select t \nfrom Topic t\njoin t.subject s\njoin s.branch b\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16093430,"reputation":169,"user_id":11616270,"display_name":"Kamyar Miremadi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1562031737,"creation_date":1562030387,"answer_id":56844169,"question_id":30479748,"body_markdown":"I guess I had some similar issue. All my `Device` entities have a `Transaction` object which in my case stores the `datetime` and user and computer information for that particular object. Also have a `DeviceType` entity that has transaction object and has a Many to one relation with my `Device` entity. So Actually I had both 1 level and 2 levels of nested relations with this `Transaction Entity`. I got some nested exception because of that. Using `Subgraph` fixed that issue for me. Here is my `NamedEntityGraphs` definition code. Hope it helps:\r\n\r\n    @NamedEntityGraphs(value = {\r\n        @NamedEntityGraph(name = &quot;Device.AllRelations&quot;,\r\n                attributeNodes = {\r\n                        @NamedAttributeNode(&quot;transaction&quot;),\r\n                        @NamedAttributeNode(value = &quot;deviceType&quot;, subgraph = &quot;DeviceType.Transaction&quot;)\r\n                },\r\n                subgraphs = {\r\n                        @NamedSubgraph(name = &quot;DeviceType.Transaction&quot;, attributeNodes = {\r\n                                @NamedAttributeNode(&quot;transaction&quot;)\r\n                        })\r\n                }\r\n        ),\r\n\r\n        @NamedEntityGraph(name = &quot;Device.TransactionOnly&quot;, attributeNodes = {\r\n                @NamedAttributeNode(&quot;transaction&quot;)\r\n        }),\r\n    })","title":"JPA : How to define @NamedEntityGraph for 3 levels?","body":"<p>I guess I had some similar issue. All my <code>Device</code> entities have a <code>Transaction</code> object which in my case stores the <code>datetime</code> and user and computer information for that particular object. Also have a <code>DeviceType</code> entity that has transaction object and has a Many to one relation with my <code>Device</code> entity. So Actually I had both 1 level and 2 levels of nested relations with this <code>Transaction Entity</code>. I got some nested exception because of that. Using <code>Subgraph</code> fixed that issue for me. Here is my <code>NamedEntityGraphs</code> definition code. Hope it helps:</p>\n\n<pre><code>@NamedEntityGraphs(value = {\n    @NamedEntityGraph(name = \"Device.AllRelations\",\n            attributeNodes = {\n                    @NamedAttributeNode(\"transaction\"),\n                    @NamedAttributeNode(value = \"deviceType\", subgraph = \"DeviceType.Transaction\")\n            },\n            subgraphs = {\n                    @NamedSubgraph(name = \"DeviceType.Transaction\", attributeNodes = {\n                            @NamedAttributeNode(\"transaction\")\n                    })\n            }\n    ),\n\n    @NamedEntityGraph(name = \"Device.TransactionOnly\", attributeNodes = {\n            @NamedAttributeNode(\"transaction\")\n    }),\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4195472,"reputation":11,"user_id":3436989,"display_name":"AtomicAJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655453679,"creation_date":1655453679,"answer_id":72656290,"question_id":30479748,"body_markdown":"The solution is fairly simple use JPA 2.1 where you need add entiry grapgh at JPA repository only\r\n\r\n\r\n    @Repository\r\n    public interface BranchRepo extends JpaRepository&lt; Branch, Long&gt; {\r\n\r\n    @EntityGraph(attributePaths = {&quot;subjectList&quot; , \r\n    &quot;subjectList.topicList&quot;})\r\n    List&lt;Product&gt; findAll();\r\n    }\r\n\r\nThis will create Join between the bi-directional mapping of Branch-&gt; SubjectList-&gt; TopicList\r\n\r\n\r\n&gt; Blockquote you need to override equals method in each of these entity classes with ID else this will not work. You can get rid of complex multilevel  NamedEntityGraph at each entity class which is not needed\r\n\r\n\r\n","title":"JPA : How to define @NamedEntityGraph for 3 levels?","body":"<p>The solution is fairly simple use JPA 2.1 where you need add entiry grapgh at JPA repository only</p>\n<pre><code>@Repository\npublic interface BranchRepo extends JpaRepository&lt; Branch, Long&gt; {\n\n@EntityGraph(attributePaths = {&quot;subjectList&quot; , \n&quot;subjectList.topicList&quot;})\nList&lt;Product&gt; findAll();\n}\n</code></pre>\n<p>This will create Join between the bi-directional mapping of Branch-&gt; SubjectList-&gt; TopicList</p>\n<blockquote>\n<p>Blockquote you need to override equals method in each of these entity classes with ID else this will not work. You can get rid of complex multilevel  NamedEntityGraph at each entity class which is not needed</p>\n</blockquote>\n"}],"owner":{"account_id":2971879,"reputation":3328,"user_id":2523797,"accept_rate":89,"display_name":"Rajendra Thorat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19358,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":30480240,"answer_count":3,"score":22,"last_activity_date":1655453679,"creation_date":1432722330,"question_id":30479748,"body_markdown":"I have 3 entities. Branch,Subject,Topic.\r\nBranch has list of subjects and Subject has list of topics. Also \r\nsubjectList and topicList both are lazy. I want to fetch all branch\r\nincluding its subjects and topics in single query.\r\n\r\n1.\r\n\r\n    @Entity\r\n    public class Branch implements Serializable \r\n    {\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t\tprivate Integer id;\r\n\t\tprivate String name;\r\n\t\r\n\t\t@OneToMany(mappedBy = &quot;branch&quot;)\r\n\t\tprivate List&lt;Subject&gt; subjectList;\r\n\t\t//Getters and Setters\r\n    }\r\n\r\n2.\r\n\r\n    @Entity\r\n    public class Subject implements Serializable \r\n    {\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t\tprivate Integer id;\r\n\t\r\n\t\tprivate String name;\r\n\t\r\n\t\t@ManyToOne()\r\n\t\tprivate Branch branch;\r\n\t\r\n\t\t@OneToMany(mappedBy = &quot;subject&quot;)\r\n\t\tprivate List&lt;Topic&gt; topicList;\r\n\t\t//Getters and Setters\t\t\r\n    }\r\n\r\n3.\r\n\r\n    @Entity\r\n    public class Topic implements Serializable \r\n    {\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t\tprivate Integer id;\r\n\t\tprivate String name;\r\n\t\r\n\t\t@ManyToOne()\r\n\t\tprivate Subject subject;\r\n\t\t//Getters and Setters\r\n    }\r\n    \r\n\r\nI tried the method below but it didn&#39;t work.\r\n\r\n    @NamedEntityGraph(name=&quot;branch_subject&quot;, \r\n\tattributeNodes = {\r\n        @NamedAttributeNode(value=&quot;name&quot;),\r\n        @NamedAttributeNode(value=&quot;subjectList&quot;, subgraph = &quot;subjectListGraph&quot;)\r\n\t},\r\n\tsubgraphs = {\r\n        @NamedSubgraph(name=&quot;subjectListGraph&quot;,\r\n                attributeNodes = {\r\n        \t\t \t@NamedAttributeNode(value=&quot;name&quot;),\r\n                    @NamedAttributeNode(value = &quot;topicList&quot;, subgraph = &quot;topicListGraph&quot;)\r\n                }\r\n        ),\r\n        @NamedSubgraph(name=&quot;topicListGraph&quot;,\r\n                attributeNodes = {\r\n                        @NamedAttributeNode(&quot;name&quot;)\r\n                }\r\n        )\r\n\t}\r\n    )\r\n\r\nAlso following code is used to fetch data from\r\ndatabase, I am using JPQL as follows\r\n        \r\n        EntityGraph branchEntityGraph = entityManager\r\n\t\t\t\t\t.getEntityGraph(&quot;branch_subject&quot;);\r\n\r\n\t\t\tBranch branch = entityManager\r\n\t\t\t\t\t.createQuery(&quot;SELECT b from Branch b WHERE b.id=:ID&quot;,\r\n\t\t\t\t\t\t\tBranch.class)\r\n\t\t\t\t\t.setHint(&quot;javax.persistence.loadgraph&quot;, branchEntityGraph)\r\n\t\t\t\t\t.setParameter(&quot;ID&quot;, branch1.getId()).getResultList().get(0);\r\n\r\nThis gives below exception\r\n\r\n    org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags","title":"JPA : How to define @NamedEntityGraph for 3 levels?","body":"<p>I have 3 entities. Branch,Subject,Topic.\nBranch has list of subjects and Subject has list of topics. Also \nsubjectList and topicList both are lazy. I want to fetch all branch\nincluding its subjects and topics in single query.</p>\n\n<p>1.</p>\n\n<pre><code>@Entity\npublic class Branch implements Serializable \n{\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n    private String name;\n\n    @OneToMany(mappedBy = \"branch\")\n    private List&lt;Subject&gt; subjectList;\n    //Getters and Setters\n}\n</code></pre>\n\n<p>2.</p>\n\n<pre><code>@Entity\npublic class Subject implements Serializable \n{\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    private String name;\n\n    @ManyToOne()\n    private Branch branch;\n\n    @OneToMany(mappedBy = \"subject\")\n    private List&lt;Topic&gt; topicList;\n    //Getters and Setters       \n}\n</code></pre>\n\n<p>3.</p>\n\n<pre><code>@Entity\npublic class Topic implements Serializable \n{\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n    private String name;\n\n    @ManyToOne()\n    private Subject subject;\n    //Getters and Setters\n}\n</code></pre>\n\n<p>I tried the method below but it didn't work.</p>\n\n<pre><code>@NamedEntityGraph(name=\"branch_subject\", \nattributeNodes = {\n    @NamedAttributeNode(value=\"name\"),\n    @NamedAttributeNode(value=\"subjectList\", subgraph = \"subjectListGraph\")\n},\nsubgraphs = {\n    @NamedSubgraph(name=\"subjectListGraph\",\n            attributeNodes = {\n                @NamedAttributeNode(value=\"name\"),\n                @NamedAttributeNode(value = \"topicList\", subgraph = \"topicListGraph\")\n            }\n    ),\n    @NamedSubgraph(name=\"topicListGraph\",\n            attributeNodes = {\n                    @NamedAttributeNode(\"name\")\n            }\n    )\n}\n)\n</code></pre>\n\n<p>Also following code is used to fetch data from\ndatabase, I am using JPQL as follows</p>\n\n<pre><code>    EntityGraph branchEntityGraph = entityManager\n                .getEntityGraph(\"branch_subject\");\n\n        Branch branch = entityManager\n                .createQuery(\"SELECT b from Branch b WHERE b.id=:ID\",\n                        Branch.class)\n                .setHint(\"javax.persistence.loadgraph\", branchEntityGraph)\n                .setParameter(\"ID\", branch1.getId()).getResultList().get(0);\n</code></pre>\n\n<p>This gives below exception</p>\n\n<pre><code>org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags\n</code></pre>\n"},{"tags":["java","spring","spring-boot","redis","jedis"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1655452434,"post_id":72656020,"comment_id":128340424,"body_markdown":"How do you use the `AuthInterceptor`?","body":"How do you use the <code>AuthInterceptor</code>?"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1655452510,"post_id":72656020,"comment_id":128340446,"body_markdown":"Is `AuthInterceptor` in the Spring context? There is no annotation on the class here so we would need to know how it is created","body":"Is <code>AuthInterceptor</code> in the Spring context? There is no annotation on the class here so we would need to know how it is created"},{"owner":{"account_id":9508529,"reputation":358,"user_id":7067164,"display_name":"Nathan "},"score":0,"creation_date":1655452684,"post_id":72656020,"comment_id":128340510,"body_markdown":"@NikolasCharalambidis, I edited my question. Basically I just added the interceptor to a registry.","body":"@NikolasCharalambidis, I edited my question. Basically I just added the interceptor to a registry."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1655452997,"creation_date":1655452997,"answer_id":72656156,"question_id":72656020,"body_markdown":"The `AuthInterceptor` is not a Spring bean, and the `JedisConfig` is not autowired and is null. As long as the interceptor is used in the @Configuration class, you can perform autowiring there and encapsulating the `JedisConfig` interceptor.\r\n\r\n```java\r\n@RequiredArgsConstructor // either use Lombok or write the constructor by yourself\r\npublic class AuthInterceptor implements HandlerInterceptor {\r\n\r\n    private final JedisConfig jc;\r\n}\r\n```\r\n```java\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Autowired\r\n    private JedisConfig jc;\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor(new AuthInterceptor(jc))\r\n                .addPathPatterns(&quot;/user/roleChange&quot;);\r\n    }\r\n}\r\n```\r\n\r\n____\r\n\r\nAlternatively, you can treat the `AuthInterceptor` as a component and autowire it in the `WebConfig` class:\r\n\r\n```java\r\n@Component\r\npublic class AuthInterceptor implements HandlerInterceptor {\r\n\r\n    @Autowired\r\n    private JedisConfig jc;\r\n\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n        Jedis jedis = jc.getJedis();\r\n        \r\n        ...\r\n    }\r\n}\r\n```\r\n```java\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Autowire\r\n    private AuthInterceptor authInterceptor;\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor(authInterceptor)\r\n                .addPathPatterns(&quot;/user/roleChange&quot;);\r\n    }\r\n}\r\n```","title":"NullPointerException for Springboot @Autowired component in interceptor","body":"<p>The <code>AuthInterceptor</code> is not a Spring bean, and the <code>JedisConfig</code> is not autowired and is null. As long as the interceptor is used in the @Configuration class, you can perform autowiring there and encapsulating the <code>JedisConfig</code> interceptor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor // either use Lombok or write the constructor by yourself\npublic class AuthInterceptor implements HandlerInterceptor {\n\n    private final JedisConfig jc;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Autowired\n    private JedisConfig jc;\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(new AuthInterceptor(jc))\n                .addPathPatterns(&quot;/user/roleChange&quot;);\n    }\n}\n</code></pre>\n<hr />\n<p>Alternatively, you can treat the <code>AuthInterceptor</code> as a component and autowire it in the <code>WebConfig</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class AuthInterceptor implements HandlerInterceptor {\n\n    @Autowired\n    private JedisConfig jc;\n\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        Jedis jedis = jc.getJedis();\n        \n        ...\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Autowire\n    private AuthInterceptor authInterceptor;\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(authInterceptor)\n                .addPathPatterns(&quot;/user/roleChange&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9508529,"reputation":358,"user_id":7067164,"display_name":"Nathan "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2860,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1655455633,"accepted_answer_id":72656156,"answer_count":1,"score":1,"last_activity_date":1655453614,"creation_date":1655452258,"question_id":72656020,"body_markdown":"I have a component that&#39;s the main job is to return a Jedis instance, and it looks like the following: \r\n\r\n```java\r\n@Component\r\npublic class JedisConfig {\r\n\r\n    private Jedis jedis;\r\n\r\n    public JedisConfig() {\r\n        jedis = new Jedis(&quot;localhost&quot;, 6379);\r\n    }\r\n\r\n    public Jedis getJedis() {return jedis;}\r\n}\r\n```\r\nI then use the Jedis instance to do some stuff in my interceptor&#39;s preHandler:\r\n```java\r\npublic class AuthInterceptor implements HandlerInterceptor {\r\n\r\n    @Autowired\r\n    private JedisConfig jc;\r\n\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n        Jedis jedis = jc.getJedis();\r\n        \r\n        // do some other stuff with jedis below\r\n    }\r\n}\r\n\r\n```\r\nBut I get a NullPointerException when calling `jc.getJedis()` and I don&#39;t understand why it&#39;s happening. \r\n\r\nOn a related note, I did pretty much the exact same thing in a unit test and it runs fine:\r\n```java\r\n@Autowired\r\nprivate JedisConfig jc;\r\n\r\n@Test\r\npublic void testJedis(){\r\n    Jedis jedis = jc.getJedis();\r\n\r\n    jedis.set(&quot;user&quot;, &quot;role&quot;);\r\n    assertThat(jedis.get(&quot;user&quot;),is(&quot;role&quot;));\r\n}\r\n```\r\n\r\nHere&#39;s How I added the interceptor to the registry:\r\n\r\n```java\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor(new AuthInterceptor())\r\n                .addPathPatterns(&quot;/user/roleChange&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIf anyone knows how to fix this please let me know. Thank you so much!\r\n","title":"NullPointerException for Springboot @Autowired component in interceptor","body":"<p>I have a component that's the main job is to return a Jedis instance, and it looks like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class JedisConfig {\n\n    private Jedis jedis;\n\n    public JedisConfig() {\n        jedis = new Jedis(&quot;localhost&quot;, 6379);\n    }\n\n    public Jedis getJedis() {return jedis;}\n}\n</code></pre>\n<p>I then use the Jedis instance to do some stuff in my interceptor's preHandler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AuthInterceptor implements HandlerInterceptor {\n\n    @Autowired\n    private JedisConfig jc;\n\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        Jedis jedis = jc.getJedis();\n        \n        // do some other stuff with jedis below\n    }\n}\n\n</code></pre>\n<p>But I get a NullPointerException when calling <code>jc.getJedis()</code> and I don't understand why it's happening.</p>\n<p>On a related note, I did pretty much the exact same thing in a unit test and it runs fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate JedisConfig jc;\n\n@Test\npublic void testJedis(){\n    Jedis jedis = jc.getJedis();\n\n    jedis.set(&quot;user&quot;, &quot;role&quot;);\n    assertThat(jedis.get(&quot;user&quot;),is(&quot;role&quot;));\n}\n</code></pre>\n<p>Here's How I added the interceptor to the registry:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(new AuthInterceptor())\n                .addPathPatterns(&quot;/user/roleChange&quot;);\n    }\n}\n</code></pre>\n<p>If anyone knows how to fix this please let me know. Thank you so much!</p>\n"},{"tags":["java","spring-boot","apache-zookeeper","spring-cloud-zookeeper"],"answers":[{"tags":[],"owner":{"account_id":16659615,"reputation":21,"user_id":12039916,"display_name":"Mukvin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655453612,"creation_date":1655453612,"answer_id":72656282,"question_id":66969356,"body_markdown":"you may need to check the env of the zookeeper version to whether has the class of org/apache/zookeeper/admin/ZooKeeperAdmin.\r\nAs I checked the ISSUE of Zookeeper, found that the zookeeperAdmin was new in the below issue.\r\nhttps://issues.apache.org/jira/browse/ZOOKEEPER-3689\r\n[![enter image description here][1]][1]\r\n\r\nand refer to the pr https://github.com/apache/zookeeper/pull/1285\r\n\r\nSo you may have two methods to solve this problem.\r\n1. downgrade the zookeeper version to 3.4.13, and using curator 4.2.0, please refer to https://curator.apache.org/zk-compatibility-34.html.\r\n2. upgrade the curator to 5.2.1 and upgrade the env of zookeeper which needs 3.6.1 above.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Ro0D.png","title":"Zookeeper : java.lang.ClassNotFoundException: org.apache.zookeeper.admin.ZooKeeperAdmin","body":"<p>you may need to check the env of the zookeeper version to whether has the class of org/apache/zookeeper/admin/ZooKeeperAdmin.\nAs I checked the ISSUE of Zookeeper, found that the zookeeperAdmin was new in the below issue.\n<a href=\"https://issues.apache.org/jira/browse/ZOOKEEPER-3689\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/ZOOKEEPER-3689</a>\n<a href=\"https://i.stack.imgur.com/4Ro0D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Ro0D.png\" alt=\"enter image description here\" /></a></p>\n<p>and refer to the pr <a href=\"https://github.com/apache/zookeeper/pull/1285\" rel=\"nofollow noreferrer\">https://github.com/apache/zookeeper/pull/1285</a></p>\n<p>So you may have two methods to solve this problem.</p>\n<ol>\n<li>downgrade the zookeeper version to 3.4.13, and using curator 4.2.0, please refer to <a href=\"https://curator.apache.org/zk-compatibility-34.html\" rel=\"nofollow noreferrer\">https://curator.apache.org/zk-compatibility-34.html</a>.</li>\n<li>upgrade the curator to 5.2.1 and upgrade the env of zookeeper which needs 3.6.1 above.</li>\n</ol>\n"}],"owner":{"account_id":366566,"reputation":1798,"user_id":712183,"accept_rate":70,"display_name":"Ray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3342,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1655453612,"creation_date":1617714779,"question_id":66969356,"body_markdown":"I had a zookeeper with version 3.4.10 and curator with version 2.12.0 but zookeeper with versions less than 3.5.8 has a strict transitive dependency on log4j1. \r\nI would like to use log4j2 that&#39;s why it&#39;s require to update zookeeper version. I tried different combinations:\r\n1) zookeeper 3.6.1 and curator 5.1.0 \r\n2) zookeeper 3.5.9 and curator 5.1.0 \r\n3) zookeeper 3.5.9 and curator 5.0.0\r\n4) zookeeper 3.5.9 and curator 5.1.0 + exclude zookeeper dependency from curator\r\n5) zookeeper 3.5.9 and curator 4.3.0 + exclude zookeeper dependency from curator\r\n6) zookeeper 3.6.1 and curator 5.1.0 + exclude zookeeper dependency from curator\r\n\r\nAll of these options fail. \r\n1 option is failing with the following stacktrace:\r\n```\r\n java.lang.NoSuchMethodError: org.apache.zookeeper.ZooKeeper.close(I)Z\r\n 2021-04-05 14:22:19.633  WARN o.a.c.loader.WebappClassLoaderBase       The web application [ROOT] appears to have started a thread named [main-EventThread] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n sun.misc.Unsafe.park(Native Method)\r\n java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2044)\r\n java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\n org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:495)\r\n2021-04-05 14:22:19.638 ERROR c.w.event.ApplicationFailedListener  ApplicationFailedEvent, possibly port is not available or analyze message above, application will be restarted\r\n```\r\n\r\n2-6 options look like has the same stracktrace:\r\n```\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;zookeeperPropertySourceLocator&#39; defined in org.springframework.cloud.zookeeper.config.ZookeeperConfigBootstrapConfiguration: Unsatisfied dependency  \r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;curatorFramework&#39; defined in org.springframework.cloud.zookeeper.ZookeeperAutoConfiguration: Bean instantiation via factory method failed; nested exception i ...\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.curator.framework.CuratorFramework]: Factory method &#39;curatorFramework&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/apache/zookee\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/zookeeper/admin/ZooKeeperAdmin\r\n\tat org.apache.curator.framework.CuratorFrameworkFactory.&lt;clinit&gt;(CuratorFrameworkFactory.java:65)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.zookeeper.admin.ZooKeeperAdmin\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\t\r\n```\r\n\r\nActually, ZooKeeperAdmin class presents in Zookeeper since 3.5.7 that&#39;s why it&#39;s strange why it cannot be found.\r\n\r\nCould someone suggest any ideas? Is it an issue with dependencies versions (I couldn&#39;t find any details for zk &gt; 3.4 with curator)? Or any way to debug and get understanding of this issue?\r\n","title":"Zookeeper : java.lang.ClassNotFoundException: org.apache.zookeeper.admin.ZooKeeperAdmin","body":"<p>I had a zookeeper with version 3.4.10 and curator with version 2.12.0 but zookeeper with versions less than 3.5.8 has a strict transitive dependency on log4j1.\nI would like to use log4j2 that's why it's require to update zookeeper version. I tried different combinations:</p>\n<ol>\n<li>zookeeper 3.6.1 and curator 5.1.0</li>\n<li>zookeeper 3.5.9 and curator 5.1.0</li>\n<li>zookeeper 3.5.9 and curator 5.0.0</li>\n<li>zookeeper 3.5.9 and curator 5.1.0 + exclude zookeeper dependency from curator</li>\n<li>zookeeper 3.5.9 and curator 4.3.0 + exclude zookeeper dependency from curator</li>\n<li>zookeeper 3.6.1 and curator 5.1.0 + exclude zookeeper dependency from curator</li>\n</ol>\n<p>All of these options fail.\n1 option is failing with the following stacktrace:</p>\n<pre><code> java.lang.NoSuchMethodError: org.apache.zookeeper.ZooKeeper.close(I)Z\n 2021-04-05 14:22:19.633  WARN o.a.c.loader.WebappClassLoaderBase       The web application [ROOT] appears to have started a thread named [main-EventThread] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.misc.Unsafe.park(Native Method)\n java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2044)\n java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:495)\n2021-04-05 14:22:19.638 ERROR c.w.event.ApplicationFailedListener  ApplicationFailedEvent, possibly port is not available or analyze message above, application will be restarted\n</code></pre>\n<p>2-6 options look like has the same stracktrace:</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'zookeeperPropertySourceLocator' defined in org.springframework.cloud.zookeeper.config.ZookeeperConfigBootstrapConfiguration: Unsatisfied dependency  \nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'curatorFramework' defined in org.springframework.cloud.zookeeper.ZookeeperAutoConfiguration: Bean instantiation via factory method failed; nested exception i ...\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.curator.framework.CuratorFramework]: Factory method 'curatorFramework' threw exception; nested exception is java.lang.NoClassDefFoundError: org/apache/zookee\nCaused by: java.lang.NoClassDefFoundError: org/apache/zookeeper/admin/ZooKeeperAdmin\n    at org.apache.curator.framework.CuratorFrameworkFactory.&lt;clinit&gt;(CuratorFrameworkFactory.java:65)\nCaused by: java.lang.ClassNotFoundException: org.apache.zookeeper.admin.ZooKeeperAdmin\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)   \n</code></pre>\n<p>Actually, ZooKeeperAdmin class presents in Zookeeper since 3.5.7 that's why it's strange why it cannot be found.</p>\n<p>Could someone suggest any ideas? Is it an issue with dependencies versions (I couldn't find any details for zk &gt; 3.4 with curator)? Or any way to debug and get understanding of this issue?</p>\n"},{"tags":["java","sorting","compare","formula"],"comments":[{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":1,"creation_date":1655450883,"post_id":72655600,"comment_id":128339877,"body_markdown":"what&#39;s your problem actually?  Given you have height weight and score, you could calculate that &quot;whateverScore&quot; by ` (h + w) * 0.3 + s * 0.4`.  Though I shall say it makes more sense to pass comparator into `sort()` instead of using the formula in Student&#39;s compareTo","body":"what&#39;s your problem actually?  Given you have height weight and score, you could calculate that &quot;whateverScore&quot; by ` (h + w) * 0.3 + s * 0.4<code>.  Though I shall say it makes more sense to pass comparator into </code>sort()` instead of using the formula in Student&#39;s compareTo"},{"owner":{"account_id":24675573,"reputation":21,"user_id":18570019,"display_name":"Broke Samith"},"score":0,"creation_date":1655450939,"post_id":72655600,"comment_id":128339896,"body_markdown":"if(this.getWeight()+this.getHeight()*0.3+getScore()*0.4 &gt; o.getWeight()+this.getHeight()*0.3+getScore()*0.4)  {\n                  return 1;\n                }\n                else if(this.getWeight()+this.getHeight()*0.3+getScore()*0.4  &lt; o.getWeight()+this.getHeight()*0.3+getScore()*0.4 ) {\n                  return -1;\n                }","body":"if(this.getWeight()+this.getHeight()*0.3+getScore()*0.4 &gt; o.getWeight()+this.getHeight()*0.3+getScore()*0.4)  {                   return 1;                 }                 else if(this.getWeight()+this.getHeight()*0.3+getScore()*0.4  &lt; o.getWeight()+this.getHeight()*0.3+getScore()*0.4 ) {                   return -1;                 }"},{"owner":{"account_id":24675573,"reputation":21,"user_id":18570019,"display_name":"Broke Samith"},"score":0,"creation_date":1655451031,"post_id":72655600,"comment_id":128339936,"body_markdown":"@Adrian Shum i ve tried but still order is incorrect","body":"@Adrian Shum i ve tried but still order is incorrect"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":2,"creation_date":1655451131,"post_id":72655600,"comment_id":128339962,"body_markdown":"You forgot the parenthesis around the addition of weight and height.","body":"You forgot the parenthesis around the addition of weight and height."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1655451216,"post_id":72655600,"comment_id":128339987,"body_markdown":"And what is your output? You&#39;ve left off the Student constructor you&#39;re using, but in principle your compareTo should work.","body":"And what is your output? You&#39;ve left off the Student constructor you&#39;re using, but in principle your compareTo should work."},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1655451713,"post_id":72655600,"comment_id":128340150,"body_markdown":"@matt I [removed the boiler-plate like constructor](https://stackoverflow.com/revisions/72655600/2) (see the code comment) to have focus on the `compareTo`.","body":"@matt I <a href=\"https://stackoverflow.com/revisions/72655600/2\">removed the boiler-plate like constructor</a> (see the code comment) to have focus on the <code>compareTo</code>."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1655451855,"post_id":72655600,"comment_id":128340208,"body_markdown":"@hc_dev right, but their compare to method should work if they want to sort by weight, I was hope they could describe what the problem with the output is. ie The list is sorted by weight, or when they use their broken formula without the parenthesis the values are random.","body":"@hc_dev right, but their compare to method should work if they want to sort by weight, I was hope they could describe what the problem with the output is. ie The list is sorted by weight, or when they use their broken formula without the parenthesis the values are random."}],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655453297,"creation_date":1655451637,"answer_id":72655898,"question_id":72655600,"body_markdown":"### Given\r\n```\r\nname       |   w |   h |   s | (w+h)*0.3 + s*0.4\r\nzhangsan   | 170 | 110 |  95 | 122.0\r\nlisi       | 168 | 120 |  75 | 116.39999999999999\r\nwangwu     | 165 | 115 |  88 | 119.2\r\nzhaoliu    | 172 | 121 |  90 | 123.89999999999999\r\nzhouqi     | 160 | 100 |  85 | 112.0\r\nzhengba    | 166 | 119 |  70 | 113.5\r\n```\r\n### Solving advice\r\nImplement the formula first:\r\n```\r\npublic Float calculateFormula() {\r\n   return (height + weight) * 0.30 + score * 0.40;\r\n}\r\n```\r\nUse an object-type instead primitive `float` so you can compare the result directly.\r\n\r\nThen use it in the `compareTo`:\r\n```\r\npublic int compareTo(Student  o) {\r\n  // rest of the comparison, e.g. for null, etc. \r\n  return this.calculateFormula().compareTo(o.calculateFormula())\r\n}\r\n```","title":"How to sort objects by specific fromula using compareTo","body":"<h3>Given</h3>\n<pre><code>name       |   w |   h |   s | (w+h)*0.3 + s*0.4\nzhangsan   | 170 | 110 |  95 | 122.0\nlisi       | 168 | 120 |  75 | 116.39999999999999\nwangwu     | 165 | 115 |  88 | 119.2\nzhaoliu    | 172 | 121 |  90 | 123.89999999999999\nzhouqi     | 160 | 100 |  85 | 112.0\nzhengba    | 166 | 119 |  70 | 113.5\n</code></pre>\n<h3>Solving advice</h3>\n<p>Implement the formula first:</p>\n<pre><code>public Float calculateFormula() {\n   return (height + weight) * 0.30 + score * 0.40;\n}\n</code></pre>\n<p>Use an object-type instead primitive <code>float</code> so you can compare the result directly.</p>\n<p>Then use it in the <code>compareTo</code>:</p>\n<pre><code>public int compareTo(Student  o) {\n  // rest of the comparison, e.g. for null, etc. \n  return this.calculateFormula().compareTo(o.calculateFormula())\n}\n</code></pre>\n"}],"owner":{"account_id":24675573,"reputation":21,"user_id":18570019,"display_name":"Broke Samith"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1655453297,"creation_date":1655450078,"question_id":72655600,"body_markdown":"My program should sort the values of persons according to the formula.\r\n\r\n```\r\n(Height + Weight)*30% +score40%\r\n```\r\n\r\nSo the array has the 6 elements we need to sort and output.\r\n\r\n### Issue\r\nI struggle with the calculation formula which actually sorts the values of elements properly using `compareTo(Student o)`\r\n\r\n### Code so far\r\n```\r\nclass Student implements  Comparable&lt;Student&gt; {\r\n\tprivate String name;\r\n\tprivate float height, weight, score;\r\n\r\n    // constructor getters and setters omitted for brevity\r\n\r\n\tpublic void speak() {\r\n\t\tSystem.out.println(&quot;I am &quot;+name+&quot;, my height &quot;+height+&quot;, my weight &quot;+weight+&quot;, my score &quot;+score);\r\n\t}\r\n\r\n\tpublic int compareTo(Student  o) {\r\n\t\t if(this.getWeight() &gt; o.getWeight()) {\r\n\t\t                  return 1;\r\n\t\t                }\r\n\t\t                else if(this.getWeight() &lt; o.getWeight()) {\r\n\t\t                  return -1;\r\n\t\t                }\r\n\t\t                return 0;\r\n\t}\r\n\r\n\tpublic String toString() {\r\n\t\treturn &quot;Student [name=&quot;+name+ &quot;,height=&quot;+height+&quot;,weight=&quot;+weight+&quot;,score=&quot;+score+&quot;]&quot;;\r\n\t}\r\n}\r\n```\r\nThe test:\r\n```java\r\nimport java.util.Arrays;\r\n\r\npublic class TestCompare {\r\n\tpublic static void main(String[] args) {\r\n\t\tint i;\r\n\t\tStudent ps[] = new Student[6];\r\n\t\tps[0] = new Student(&quot;zhangsan&quot;, 170, 110, 95);\r\n\t\tps[1] = new Student(&quot;lisi&quot;, 168, 120, 75);\r\n\t\tps[2] = new Student(&quot;wangwu&quot;, 165, 115, 88);\r\n\t\tps[3] = new Student(&quot;zhaoliu&quot;, 172, 121, 90);\r\n\t\tps[4] = new Student(&quot;zhouqi&quot;, 160, 100, 85);\r\n\t\tps[5] = new Student(&quot;zhengba&quot;, 166, 119, 70);\r\n\t\tSystem.out.println(&quot;array sort before:&quot;);\r\n\t\tfor (i = 0; i &lt; ps.length; i++) {\r\n\t\t\tps[i].speak();\r\n\t\t}\r\n\t\tArrays.sort(ps);  // call sort method\r\n\t\tSystem.out.println(&quot;\\narray sort after:&quot;);\r\n\t\tfor (i = 0; i &lt; ps.length; i++) {\r\n\t\t\tSystem.out.println(ps[i]);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How to sort objects by specific fromula using compareTo","body":"<p>My program should sort the values of persons according to the formula.</p>\n<pre><code>(Height + Weight)*30% +score40%\n</code></pre>\n<p>So the array has the 6 elements we need to sort and output.</p>\n<h3>Issue</h3>\n<p>I struggle with the calculation formula which actually sorts the values of elements properly using <code>compareTo(Student o)</code></p>\n<h3>Code so far</h3>\n<pre><code>class Student implements  Comparable&lt;Student&gt; {\n    private String name;\n    private float height, weight, score;\n\n    // constructor getters and setters omitted for brevity\n\n    public void speak() {\n        System.out.println(&quot;I am &quot;+name+&quot;, my height &quot;+height+&quot;, my weight &quot;+weight+&quot;, my score &quot;+score);\n    }\n\n    public int compareTo(Student  o) {\n         if(this.getWeight() &gt; o.getWeight()) {\n                          return 1;\n                        }\n                        else if(this.getWeight() &lt; o.getWeight()) {\n                          return -1;\n                        }\n                        return 0;\n    }\n\n    public String toString() {\n        return &quot;Student [name=&quot;+name+ &quot;,height=&quot;+height+&quot;,weight=&quot;+weight+&quot;,score=&quot;+score+&quot;]&quot;;\n    }\n}\n</code></pre>\n<p>The test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\npublic class TestCompare {\n    public static void main(String[] args) {\n        int i;\n        Student ps[] = new Student[6];\n        ps[0] = new Student(&quot;zhangsan&quot;, 170, 110, 95);\n        ps[1] = new Student(&quot;lisi&quot;, 168, 120, 75);\n        ps[2] = new Student(&quot;wangwu&quot;, 165, 115, 88);\n        ps[3] = new Student(&quot;zhaoliu&quot;, 172, 121, 90);\n        ps[4] = new Student(&quot;zhouqi&quot;, 160, 100, 85);\n        ps[5] = new Student(&quot;zhengba&quot;, 166, 119, 70);\n        System.out.println(&quot;array sort before:&quot;);\n        for (i = 0; i &lt; ps.length; i++) {\n            ps[i].speak();\n        }\n        Arrays.sort(ps);  // call sort method\n        System.out.println(&quot;\\narray sort after:&quot;);\n        for (i = 0; i &lt; ps.length; i++) {\n            System.out.println(ps[i]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","jvm","shutdown","shutdown-hook","graceful-shutdown"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1655453430,"post_id":72656215,"comment_id":128340770,"body_markdown":"See the [Javadoc](https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#addShutdownHook-java.lang.Thread-). Shutdown hooks should not engage in blocking or long-running operations.","body":"See the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#addShutdownHook-java.lang.Thread-\" rel=\"nofollow noreferrer\">Javadoc</a>. Shutdown hooks should not engage in blocking or long-running operations."},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":1,"creation_date":1655453498,"post_id":72656215,"comment_id":128340794,"body_markdown":"How long would your shutdown hook require to complete if the app won&#39;t be killed?","body":"How long would your shutdown hook require to complete if the app won&#39;t be killed?"},{"owner":{"account_id":25000777,"reputation":33,"user_id":18861211,"display_name":"yck"},"score":0,"creation_date":1655453603,"post_id":72656215,"comment_id":128340830,"body_markdown":"@user207421 Okay then, Is there a way to make windows wait to shutdown my program?\n\nI know sometimes windows gives a message like &quot;Program x is preventing shutting down Windows&quot;","body":"@user207421 Okay then, Is there a way to make windows wait to shutdown my program?  I know sometimes windows gives a message like &quot;Program x is preventing shutting down Windows&quot;"},{"owner":{"account_id":25000777,"reputation":33,"user_id":18861211,"display_name":"yck"},"score":0,"creation_date":1655453671,"post_id":72656215,"comment_id":128340851,"body_markdown":"@SpaceTrucker It takes 2-3 seconds max but some situations it may take longer depens on system or internet connection","body":"@SpaceTrucker It takes 2-3 seconds max but some situations it may take longer depens on system or internet connection"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1655453690,"post_id":72656215,"comment_id":128340857,"body_markdown":"Are your program running as a service? If I remember correctly, when services are shutdown they are not first getting a kind signal (like Ctrl-C) but are more brutally killed.","body":"Are your program running as a service? If I remember correctly, when services are shutdown they are not first getting a kind signal (like Ctrl-C) but are more brutally killed."},{"owner":{"account_id":25000777,"reputation":33,"user_id":18861211,"display_name":"yck"},"score":0,"creation_date":1655453802,"post_id":72656215,"comment_id":128340911,"body_markdown":"@JustanotherJavaprogrammer No, not as a service just normal java app","body":"@JustanotherJavaprogrammer No, not as a service just normal java app"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1655453884,"post_id":72656215,"comment_id":128340943,"body_markdown":"No there isn&#39;t. You have to comply with the stated requirement. Otherwise you cannot be sure your shutdown hook will run to completion (which in fact you cannot be sure of anyway).","body":"No there isn&#39;t. You have to comply with the stated requirement. Otherwise you cannot be sure your shutdown hook will run to completion (which in fact you cannot be sure of anyway)."}],"owner":{"account_id":25000777,"reputation":33,"user_id":18861211,"display_name":"yck"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655453280,"creation_date":1655453280,"question_id":72656215,"body_markdown":"I have a Java program that running on Windows 10 enviroment. When I shutdown Windows, I want my program to close gracefully using Java shutdown hook. The problem is, windows(or JVM) does not let my program to finish shutdown hook code block. Is there any way to delay shutting down windows until my shutdown hook is finished? \r\n\r\nNote: I cannot make any shorter my hook code. It is handling some critical mechanishms.\r\n\r\nThanks in advance","title":"Java shutdown hook not fully finished when windows shutdown","body":"<p>I have a Java program that running on Windows 10 enviroment. When I shutdown Windows, I want my program to close gracefully using Java shutdown hook. The problem is, windows(or JVM) does not let my program to finish shutdown hook code block. Is there any way to delay shutting down windows until my shutdown hook is finished?</p>\n<p>Note: I cannot make any shorter my hook code. It is handling some critical mechanishms.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring","spring-mvc","vfs"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1655450436,"post_id":72655421,"comment_id":128339725,"body_markdown":"Well judging by the name none... Appears to be for Spring 4 **not** Spring 5 so not compatible (anymore).","body":"Well judging by the name none... Appears to be for Spring 4 <b>not</b> Spring 5 so not compatible (anymore)."},{"owner":{"account_id":13510057,"reputation":150,"user_id":9746710,"display_name":"GeekCoder"},"score":0,"creation_date":1655452180,"post_id":72655421,"comment_id":128340318,"body_markdown":"Yes. But as an alternate what is the version I can use for spring 5. This was introduced as spring removed support for JBOSS VFS2 in version 4.0. Do you know what could be used as a replacement?","body":"Yes. But as an alternate what is the version I can use for spring 5. This was introduced as spring removed support for JBOSS VFS2 in version 4.0. Do you know what could be used as a replacement?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1655452352,"post_id":72655421,"comment_id":128340398,"body_markdown":"No I do not, I only know this isn&#39;t compatible (I also noticed you asking a more or less the same question as you are using OpenAPI, you probably need to use a version that is compatible with Spring 5).","body":"No I do not, I only know this isn&#39;t compatible (I also noticed you asking a more or less the same question as you are using OpenAPI, you probably need to use a version that is compatible with Spring 5)."},{"owner":{"account_id":13510057,"reputation":150,"user_id":9746710,"display_name":"GeekCoder"},"score":0,"creation_date":1655452680,"post_id":72655421,"comment_id":128340509,"body_markdown":"Yes. I am using openapi with spring. For that I had to use @component scan. But that got me into this trouble. I am not sure what to use as a replacement","body":"Yes. I am using openapi with spring. For that I had to use @component scan. But that got me into this trouble. I am not sure what to use as a replacement"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1655452728,"post_id":72655421,"comment_id":128340527,"body_markdown":"A version of OpenAPI that is compatible with Spring 5... If there isn&#39;t you cannot use it. You also state you are using Spring Boot (according to your tags) and you should be upgrading Spring Boot **not** mess around with individual dependencies like that as that will break stuff.","body":"A version of OpenAPI that is compatible with Spring 5... If there isn&#39;t you cannot use it. You also state you are using Spring Boot (according to your tags) and you should be upgrading Spring Boot <b>not</b> mess around with individual dependencies like that as that will break stuff."},{"owner":{"account_id":13510057,"reputation":150,"user_id":9746710,"display_name":"GeekCoder"},"score":0,"creation_date":1655452901,"post_id":72655421,"comment_id":128340592,"body_markdown":"I checked it is a spring project. Though the tag is there it was never used","body":"I checked it is a spring project. Though the tag is there it was never used"}],"owner":{"account_id":13510057,"reputation":150,"user_id":9746710,"display_name":"GeekCoder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655453179,"creation_date":1655448965,"question_id":72655421,"body_markdown":"Which version of com.javaeatmoi.core:javaeatmoi-spring4-vfs2-support compatible with spring version 5.3.14\r\n\r\nCurrent i have eatmoi as 1.4.1 but in the Vfs2PathMatchingResourcePatternResolver doFindPathMatching jar it has 2 parameter.\r\nBut spring PathMatchingResourcePatternResolver::doFindPathMatching has 3. This was working fine in spring version 4.2.5","title":"Which version of Com.javaeatmoi.core compatible with spring 5.3","body":"<p>Which version of com.javaeatmoi.core:javaeatmoi-spring4-vfs2-support compatible with spring version 5.3.14</p>\n<p>Current i have eatmoi as 1.4.1 but in the Vfs2PathMatchingResourcePatternResolver doFindPathMatching jar it has 2 parameter.\nBut spring PathMatchingResourcePatternResolver::doFindPathMatching has 3. This was working fine in spring version 4.2.5</p>\n"},{"tags":["java","abstract-class","coupling"],"comments":[{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":2,"creation_date":1655453104,"post_id":72656114,"comment_id":128340671,"body_markdown":"Maybe composition is preferable over inheritance in you use case, check here for more info: https://stackoverflow.com/questions/49002/prefer-composition-over-inheritance","body":"Maybe composition is preferable over inheritance in you use case, check here for more info: <a href=\"https://stackoverflow.com/questions/49002/prefer-composition-over-inheritance\" title=\"prefer composition over inheritance\">stackoverflow.com/questions/49002/&hellip;</a>"},{"owner":{"account_id":20269550,"reputation":206,"user_id":14866016,"display_name":"RedCrafter LP"},"score":0,"creation_date":1655455597,"post_id":72656114,"comment_id":128341513,"body_markdown":"Maybe use ```protected abstract int provideVar1()``` in your abstract class Foo and initialize your instance variables using these in the Foo default constructor. You would need to implement these new methods every time you add a variable though. If you want to pass them to the constructor of implementing classes you have to update the implementing classes constructors anyway.","body":"Maybe use <code>protected abstract int provideVar1()</code> in your abstract class Foo and initialize your instance variables using these in the Foo default constructor. You would need to implement these new methods every time you add a variable though. If you want to pass them to the constructor of implementing classes you have to update the implementing classes constructors anyway."}],"owner":{"account_id":16105684,"reputation":31,"user_id":11625261,"display_name":"FrMan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655452763,"creation_date":1655452763,"question_id":72656114,"body_markdown":"Let&#39;s say I have this simple code structure in which I need to create an abstract class and then to define some concrete objects of that type\r\n```\r\npublic abstract class Foo {\r\n    \r\n    protected int var1;\r\n    protected String var2;\r\n\r\n    protected Foo(int var1, String var2) {\r\n        this.var1 = var1;\r\n        this.var2 = var2;\r\n    }\r\n\r\n    //abstract methods here\r\n}\r\n```\r\nand \r\n```\r\npublic class ConcreteFoo1 extends Foo{\r\n   \r\n   public ConcreteFoo(int var1, String var2) {\r\n       super(var1, var2);\r\n   }\r\n\r\n   //methods override\r\n}\r\n```\r\nEverytime I add new instance variables, or simply change those already present in the abstract class, I need to change also the concrete classes. Is there a way to avoid this kind of coupling the we do via ```super()``` dependency injection?","title":"Reduce coupling between abstract and concrete classes","body":"<p>Let's say I have this simple code structure in which I need to create an abstract class and then to define some concrete objects of that type</p>\n<pre><code>public abstract class Foo {\n    \n    protected int var1;\n    protected String var2;\n\n    protected Foo(int var1, String var2) {\n        this.var1 = var1;\n        this.var2 = var2;\n    }\n\n    //abstract methods here\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class ConcreteFoo1 extends Foo{\n   \n   public ConcreteFoo(int var1, String var2) {\n       super(var1, var2);\n   }\n\n   //methods override\n}\n</code></pre>\n<p>Everytime I add new instance variables, or simply change those already present in the abstract class, I need to change also the concrete classes. Is there a way to avoid this kind of coupling the we do via <code>super()</code> dependency injection?</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655451554,"post_id":72655836,"comment_id":128340101,"body_markdown":"java.lang.IllegalArgumentException: ID does not reference a View inside this Activity","body":"java.lang.IllegalArgumentException: ID does not reference a View inside this Activity"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1655452990,"post_id":72655836,"comment_id":128340628,"body_markdown":"If you use binding you don&#39;t have to use `b1 = findViewById(R.id.button1);` in this way. To access to the button1 for example, you must access it using  your binding like this- &gt; `b1 = binding.button1;`. Change all the `findViewById` statements with bindings as in the example, then compile it again.","body":"If you use binding you don&#39;t have to use <code>b1 = findViewById(R.id.button1);</code> in this way. To access to the button1 for example, you must access it using  your binding like this- &gt; <code>b1 = binding.button1;</code>. Change all the <code>findViewById</code> statements with bindings as in the example, then compile it again."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1655453132,"post_id":72655836,"comment_id":128340680,"body_markdown":"Looks like this line of your code is causing the problem: `NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);`","body":"Looks like this line of your code is causing the problem: <code>NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);</code>"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1655453227,"post_id":72655836,"comment_id":128340713,"body_markdown":"For better coding: When you use view binding you don&#39;t even have to keep view references in your activity because the binding implementation is already keepin all the view references. Just access them like `binding.button1.setEnabled(true)`.","body":"For better coding: When you use view binding you don&#39;t even have to keep view references in your activity because the binding implementation is already keepin all the view references. Just access them like <code>binding.button1.setEnabled(true)</code>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1655479774,"post_id":72655836,"comment_id":128349722,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":18580836,"reputation":1,"user_id":13540443,"display_name":"Nitish raj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655452758,"creation_date":1655451319,"question_id":72655836,"body_markdown":"Here is the code\r\n\r\n\r\n    private AppBarConfiguration appBarConfiguration;\r\n    private ActivityMainBinding binding;\r\n    private Button b1;\r\n    private Button b2;\r\n    private Button b3;\r\n    private Button b4;\r\n    private Button b5;\r\n    private Button b6;\r\n    private Button b7;\r\n    private Button b8;\r\n    private Button b9;\r\n    private Button b10;\r\n    private Button b11;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        b1 = findViewById(R.id.button1);\r\n        b1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openfindme();\r\n            }\r\n        });\r\n        b2 = findViewById(R.id.button2);\r\n        b2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openalarm();\r\n            }\r\n        });\r\n        b3 = findViewById(R.id.button3);\r\n        b3.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openscheduler();\r\n            }\r\n        });\r\n        b4 = findViewById(R.id.button4);\r\n        b4.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openstatus();\r\n            }\r\n        });\r\n        b5 = findViewById(R.id.button12);\r\n        b5.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openmain();\r\n            }\r\n        });\r\n        b6 = findViewById(R.id.button);\r\n        b6.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openmain();\r\n            }\r\n        });\r\n        b7 = findViewById(R.id.button7);\r\n        b7.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openmain();\r\n            }\r\n        });\r\n        b8 = findViewById(R.id.button10);\r\n        b8.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openmain();\r\n            }\r\n        });\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\r\n        appBarConfiguration = new AppBarConfiguration.Builder(navController.getGraph()).build();\r\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\r\n\r\n        Spinner myspinner = (Spinner) findViewById(R.id.spinner1);\r\n\r\n        ArrayAdapter&lt;String&gt; myadapter = new ArrayAdapter&lt;String&gt;(MainActivity.this,\r\n                android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.names));\r\n        myadapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        myspinner.setAdapter(myadapter);\r\n\r\n    }\r\n\r\n    public void openfindme(){\r\n        Intent i = new Intent(MainActivity.this,FindMe.class);\r\n        startActivity(i);\r\n    }\r\n    public void openalarm(){\r\n        Intent j = new Intent(MainActivity.this,alarm.class);\r\n        startActivity(j);\r\n    }\r\n    public void openscheduler(){\r\n        Intent k = new Intent(MainActivity.this,Scheduler.class);\r\n        startActivity(k);\r\n    }\r\n    public void openstatus(){\r\n        Intent l = new Intent(MainActivity.this,status.class);\r\n        startActivity(l);\r\n    }\r\n    public void openmain(){\r\n        Intent m = new Intent(this, MainActivity.class);\r\n        startActivity(m);\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.menu_main, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        // Handle action bar item clicks here. The action bar will\r\n        // automatically handle clicks on the Home/Up button, so long\r\n        // as you specify a parent activity in AndroidManifest.xml.\r\n        int id = item.getItemId();\r\n\r\n        //noinspection SimplifiableIfStatement\r\n        if (id == R.id.action_settings) {\r\n            return true;\r\n        }\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\r\n        return NavigationUI.navigateUp(navController, appBarConfiguration)\r\n                || super.onSupportNavigateUp();\r\n    }\r\n}\r\n\r\n\r\n\r\nHere is the error\r\n```none\r\n    --------- beginning of crash\r\n2022-06-17 12:59:46.506 5024-5024/com.example.icompanion E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.icompanion, PID: 5024\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.icompanion/com.example.icompanion.MainActivity}: java.lang.IllegalArgumentException: ID does not reference a View inside this Activity\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2925)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3060)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1818)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:193)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6762)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n     Caused by: java.lang.IllegalArgumentException: ID does not reference a View inside this Activity\r\n        at android.app.Activity.requireViewById(Activity.java:2678)\r\n        at androidx.core.app.ActivityCompat.requireViewById(ActivityCompat.java:368)\r\n        at androidx.navigation.Navigation.findNavController(Navigation.java:58)\r\n        at com.example.icompanion.MainActivity.onCreate(MainActivity.java:105)\r\n        at android.app.Activity.performCreate(Activity.java:7136)\r\n        at android.app.Activity.performCreate(Activity.java:7127)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1272)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2905)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3060)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1818)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:193)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6762)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)&#160;\r\n2022-06-17 12:59:46.517 5024-5024/com.example.icompanion I/Process: Sending signal. PID: 5024 SIG: 9\r\n```\r\n","title":"App crashes whenver I try to run, do tell the mistake","body":"<p>Here is the code</p>\n<pre><code>private AppBarConfiguration appBarConfiguration;\nprivate ActivityMainBinding binding;\nprivate Button b1;\nprivate Button b2;\nprivate Button b3;\nprivate Button b4;\nprivate Button b5;\nprivate Button b6;\nprivate Button b7;\nprivate Button b8;\nprivate Button b9;\nprivate Button b10;\nprivate Button b11;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    binding = ActivityMainBinding.inflate(getLayoutInflater());\n    setContentView(binding.getRoot());\n\n    b1 = findViewById(R.id.button1);\n    b1.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            openfindme();\n        }\n    });\n    b2 = findViewById(R.id.button2);\n    b2.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            openalarm();\n        }\n    });\n    b3 = findViewById(R.id.button3);\n    b3.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            openscheduler();\n        }\n    });\n    b4 = findViewById(R.id.button4);\n    b4.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            openstatus();\n        }\n    });\n    b5 = findViewById(R.id.button12);\n    b5.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            openmain();\n        }\n    });\n    b6 = findViewById(R.id.button);\n    b6.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            openmain();\n        }\n    });\n    b7 = findViewById(R.id.button7);\n    b7.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            openmain();\n        }\n    });\n    b8 = findViewById(R.id.button10);\n    b8.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            openmain();\n        }\n    });\n    NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\n    appBarConfiguration = new AppBarConfiguration.Builder(navController.getGraph()).build();\n    NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\n\n    Spinner myspinner = (Spinner) findViewById(R.id.spinner1);\n\n    ArrayAdapter&lt;String&gt; myadapter = new ArrayAdapter&lt;String&gt;(MainActivity.this,\n            android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.names));\n    myadapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    myspinner.setAdapter(myadapter);\n\n}\n\npublic void openfindme(){\n    Intent i = new Intent(MainActivity.this,FindMe.class);\n    startActivity(i);\n}\npublic void openalarm(){\n    Intent j = new Intent(MainActivity.this,alarm.class);\n    startActivity(j);\n}\npublic void openscheduler(){\n    Intent k = new Intent(MainActivity.this,Scheduler.class);\n    startActivity(k);\n}\npublic void openstatus(){\n    Intent l = new Intent(MainActivity.this,status.class);\n    startActivity(l);\n}\npublic void openmain(){\n    Intent m = new Intent(this, MainActivity.class);\n    startActivity(m);\n}\n\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.menu_main, menu);\n    return true;\n}\n\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    // Handle action bar item clicks here. The action bar will\n    // automatically handle clicks on the Home/Up button, so long\n    // as you specify a parent activity in AndroidManifest.xml.\n    int id = item.getItemId();\n\n    //noinspection SimplifiableIfStatement\n    if (id == R.id.action_settings) {\n        return true;\n    }\n\n    return super.onOptionsItemSelected(item);\n}\n\n@Override\npublic boolean onSupportNavigateUp() {\n    NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\n    return NavigationUI.navigateUp(navController, appBarConfiguration)\n            || super.onSupportNavigateUp();\n}\n</code></pre>\n<p>}</p>\n<p>Here is the error</p>\n<pre class=\"lang-none prettyprint-override\"><code>    --------- beginning of crash\n2022-06-17 12:59:46.506 5024-5024/com.example.icompanion E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.icompanion, PID: 5024\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.icompanion/com.example.icompanion.MainActivity}: java.lang.IllegalArgumentException: ID does not reference a View inside this Activity\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2925)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3060)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1818)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6762)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n     Caused by: java.lang.IllegalArgumentException: ID does not reference a View inside this Activity\n        at android.app.Activity.requireViewById(Activity.java:2678)\n        at androidx.core.app.ActivityCompat.requireViewById(ActivityCompat.java:368)\n        at androidx.navigation.Navigation.findNavController(Navigation.java:58)\n        at com.example.icompanion.MainActivity.onCreate(MainActivity.java:105)\n        at android.app.Activity.performCreate(Activity.java:7136)\n        at android.app.Activity.performCreate(Activity.java:7127)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1272)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2905)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3060) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1818) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loop(Looper.java:193) \n        at android.app.ActivityThread.main(ActivityThread.java:6762) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858) \n2022-06-17 12:59:46.517 5024-5024/com.example.icompanion I/Process: Sending signal. PID: 5024 SIG: 9\n</code></pre>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"score":0,"creation_date":1354396842,"post_id":13663843,"comment_id":18752659,"body_markdown":"There&#39;s no `get` method of an array, meaning `fList.get(i)` won&#39;t compile.  Instead, to access object `i` in an array, do `fList[i]`.","body":"There&#39;s no <code>get</code> method of an array, meaning <code>fList.get(i)</code> won&#39;t compile.  Instead, to access object <code>i</code> in an array, do <code>fList[i]</code>."},{"owner":{"account_id":145196,"reputation":8731,"user_id":354831,"accept_rate":86,"display_name":"Alexandre Lavoie"},"score":1,"creation_date":1354396886,"post_id":13663843,"comment_id":18752670,"body_markdown":"could be better change pes.contains(&quot;.lck&quot;) with pes.endsWith(&quot;.lck&quot;)","body":"could be better change pes.contains(&quot;.lck&quot;) with pes.endsWith(&quot;.lck&quot;)"},{"owner":{"account_id":373237,"reputation":25892,"user_id":722760,"display_name":"Jon Newmuis"},"score":1,"creation_date":1354396912,"post_id":13663843,"comment_id":18752683,"body_markdown":"You should also use [`endsWith(...)`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#endsWith(java.lang.String)) instead of [`contains(...)`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#contains(java.lang.CharSequence)), unless you want things like *myfile.lck.exe* to be deleted as well.","body":"You should also use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#endsWith(java.lang.String)\" rel=\"nofollow noreferrer\"><code>endsWith(...)</code></a> instead of <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#contains(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>contains(...)</code></a>, unless you want things like <i>myfile.lck.exe</i> to be deleted as well."},{"owner":{"display_name":"user1869316"},"score":0,"creation_date":1354397729,"post_id":13663843,"comment_id":18752889,"body_markdown":"Thanks. Just the nearer a suggestion to those three lines of commands I wrote, the better~","body":"Thanks. Just the nearer a suggestion to those three lines of commands I wrote, the better~"}],"answers":[{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1354397200,"creation_date":1354396828,"answer_id":13663855,"question_id":13663843,"body_markdown":"`fList.get(i)` should be `fList[i]` as `fList` is an array, and it returns a `File` reference not a `String`.\r\n\r\nChange: - \r\n\r\n    String pes = fList.get(i);\r\n\r\nto: -\r\n\r\n    File pes = fList[i];\r\n\r\nAnd then change `if (pes.contains(&quot;.lck&quot;) == true)` to &lt;br /&gt;\r\n`if (pes.getName().contains(&quot;.lck&quot;))` \r\n\r\nIn fact, since you are checking for the `extension`, you should use `endsWith` method rather than `contains` method. And yes, you don&#39;t need to compare your `boolean` value with `==`. So just use this condition: -\r\n\r\n    if (pes.getName().endsWith(&quot;.lck&quot;)) {\r\n        boolean success = (new File(fList.get(i)).delete());\r\n    }\r\n\r\n","title":"Delete all files with an extension using Java","body":"<p><code>fList.get(i)</code> should be <code>fList[i]</code> as <code>fList</code> is an array, and it returns a <code>File</code> reference not a <code>String</code>.</p>\n\n<p>Change: - </p>\n\n<pre><code>String pes = fList.get(i);\n</code></pre>\n\n<p>to: -</p>\n\n<pre><code>File pes = fList[i];\n</code></pre>\n\n<p>And then change <code>if (pes.contains(\".lck\") == true)</code> to <br />\n<code>if (pes.getName().contains(\".lck\"))</code> </p>\n\n<p>In fact, since you are checking for the <code>extension</code>, you should use <code>endsWith</code> method rather than <code>contains</code> method. And yes, you don't need to compare your <code>boolean</code> value with <code>==</code>. So just use this condition: -</p>\n\n<pre><code>if (pes.getName().endsWith(\".lck\")) {\n    boolean success = (new File(fList.get(i)).delete());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1885169,"reputation":34027,"user_id":1704529,"display_name":"Yogendra Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354402265,"creation_date":1354396845,"answer_id":13663858,"question_id":13663843,"body_markdown":"You are using `Collection` method `get` on an `Array`. Use `Array Index` notation as below:\r\n\r\n            File pes = fList[i];\r\n\r\n\r\nAlso better to use [**endsWith()**](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#endsWith(java.lang.String))  String method over the file name as:\r\n\r\n       if (pes.getName().endsWith(&quot;.lck&quot;)){\r\n          ...\r\n       }\r\n","title":"Delete all files with an extension using Java","body":"<p>You are using <code>Collection</code> method <code>get</code> on an <code>Array</code>. Use <code>Array Index</code> notation as below:</p>\n\n<pre><code>        File pes = fList[i];\n</code></pre>\n\n<p>Also better to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#endsWith%28java.lang.String%29\" rel=\"nofollow\"><strong>endsWith()</strong></a>  String method over the file name as:</p>\n\n<pre><code>   if (pes.getName().endsWith(\".lck\")){\n      ...\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1412241092,"creation_date":1354397033,"answer_id":13663891,"question_id":13663843,"body_markdown":"    for (File f : folder.listFiles()) {\r\n        if (f.getName().endsWith(&quot;.lck&quot;)) {\r\n            f.delete(); // may fail mysteriously - returns boolean you may want to check\r\n        }\r\n    }","title":"Delete all files with an extension using Java","body":"<pre><code>for (File f : folder.listFiles()) {\n    if (f.getName().endsWith(\".lck\")) {\n        f.delete(); // may fail mysteriously - returns boolean you may want to check\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4316093,"reputation":3757,"user_id":3525886,"accept_rate":75,"display_name":"Johnny Willer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1460431480,"creation_date":1460431480,"answer_id":36563093,"question_id":13663843,"body_markdown":"Java 8 approach\r\n\r\n    Arrays.stream(yourDir.listFiles((f, p) -&gt; p.endsWith(&quot;YOUR_FILE_EXTENSION&quot;))).forEach(File::delete);\t","title":"Delete all files with an extension using Java","body":"<p>Java 8 approach</p>\n\n<pre><code>Arrays.stream(yourDir.listFiles((f, p) -&gt; p.endsWith(\"YOUR_FILE_EXTENSION\"))).forEach(File::delete);    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8272538,"reputation":31,"user_id":6219808,"display_name":"Yasmeen Azhar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1460986335,"creation_date":1460983346,"answer_id":36694354,"question_id":13663843,"body_markdown":"Final Code which works :)\r\n\r\n    File folder = new File(dir);\r\n    \t\t\t\tFile fList[] = folder.listFiles();\r\n    \t\t\t\t\t\r\n    \t\t\t\tfor (File f : fList) {\r\n    \t\t\t\t\tif (f.getName().endsWith(&quot;.png&quot;)) {\r\n    \t\t\t\t        f.delete(); \r\n    \t\t\t\t    }}\r\n\r\n","title":"Delete all files with an extension using Java","body":"<p>Final Code which works :)</p>\n\n<pre><code>File folder = new File(dir);\n                File fList[] = folder.listFiles();\n\n                for (File f : fList) {\n                    if (f.getName().endsWith(\".png\")) {\n                        f.delete(); \n                    }}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21596499,"reputation":1,"user_id":15925378,"display_name":"joe100"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620990810,"creation_date":1620990810,"answer_id":67533389,"question_id":13663843,"body_markdown":"Java 8 lambda\r\n\r\n    File folder = new File(yourDirString);\r\n    Arrays.stream(folder.listFiles())\r\n                .filter(f -&gt; f.getName().endsWith(&quot;.lck&quot;))\r\n                .forEach(File::delete);","title":"Delete all files with an extension using Java","body":"<p>Java 8 lambda</p>\n<pre><code>File folder = new File(yourDirString);\nArrays.stream(folder.listFiles())\n            .filter(f -&gt; f.getName().endsWith(&quot;.lck&quot;))\n            .forEach(File::delete);\n</code></pre>\n"}],"owner":{"display_name":"user1869316"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23062,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":13663855,"answer_count":6,"score":10,"last_activity_date":1655452710,"creation_date":1354396719,"question_id":13663843,"body_markdown":"I&#39;m (relatively) new to Java and I&#39;m trying to implement a .jar that runs a list of commands that in Windows XP&#39;s command prompt it would be:\r\n\r\n    cd\\\r\n    cd myfolder\r\n    del *.lck /s\r\n\r\nMy (failed) attempt:\r\n\r\n    // Lists all files in folder\r\n    File folder = new File(dir);\r\n    File fList[] = folder.listFiles();\r\n    // Searchs .lck\r\n    for (int i = 0; i &lt; fList.length; i++) {\r\n        String pes = fList.get(i);\r\n        if (pes.contains(&quot;.lck&quot;) == true) {\r\n            // and deletes\r\n            boolean success = (new File(fList.get(i)).delete());\r\n        }\r\n    }\r\n\r\nI screwed somewhere around that &quot;get(i)&quot;, but I think I&#39;m pretty close to my goal now.\r\n\r\nI ask for your help and thank you very much in advance!\r\n\r\n\r\n----------\r\n\r\n**EDIT**\r\n\r\nAlright! Many thanks, everybody. With the 3 suggested modifications I ended up with:\r\n\r\n    // Lists all files in folder\r\n    File folder = new File(dir);\r\n    File fList[] = folder.listFiles();\r\n    // Searchs .lck\r\n    for (int i = 0; i &lt; fList.length; i++) {\r\n        String pes = fList[i];\r\n        if (pes.endsWith(&quot;.lck&quot;)) {\r\n            // and deletes\r\n            boolean success = (new File(fList[i]).delete());\r\n        }\r\n    }\r\n\r\nAnd now it works!\r\n\r\n2022 version:\r\n```java\r\npublic static boolean deleteAllFilesWithSpecificExtension(String pathToDir, String extension) {\r\n        boolean success = false;\r\n        File folder = new File(pathToDir);\r\n        File[] fList = folder.listFiles();\r\n        for (File file : fList) {\r\n            String pes = file.getName();\r\n            if (pes.endsWith(&quot;.&quot; + extension)) {\r\n                success = (new File(String.valueOf(file)).delete());\r\n            }\r\n        }\r\n        return success;\r\n    }\r\n```","title":"Delete all files with an extension using Java","body":"<p>I'm (relatively) new to Java and I'm trying to implement a .jar that runs a list of commands that in Windows XP's command prompt it would be:</p>\n<pre><code>cd\\\ncd myfolder\ndel *.lck /s\n</code></pre>\n<p>My (failed) attempt:</p>\n<pre><code>// Lists all files in folder\nFile folder = new File(dir);\nFile fList[] = folder.listFiles();\n// Searchs .lck\nfor (int i = 0; i &lt; fList.length; i++) {\n    String pes = fList.get(i);\n    if (pes.contains(&quot;.lck&quot;) == true) {\n        // and deletes\n        boolean success = (new File(fList.get(i)).delete());\n    }\n}\n</code></pre>\n<p>I screwed somewhere around that &quot;get(i)&quot;, but I think I'm pretty close to my goal now.</p>\n<p>I ask for your help and thank you very much in advance!</p>\n<hr />\n<p><strong>EDIT</strong></p>\n<p>Alright! Many thanks, everybody. With the 3 suggested modifications I ended up with:</p>\n<pre><code>// Lists all files in folder\nFile folder = new File(dir);\nFile fList[] = folder.listFiles();\n// Searchs .lck\nfor (int i = 0; i &lt; fList.length; i++) {\n    String pes = fList[i];\n    if (pes.endsWith(&quot;.lck&quot;)) {\n        // and deletes\n        boolean success = (new File(fList[i]).delete());\n    }\n}\n</code></pre>\n<p>And now it works!</p>\n<p>2022 version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean deleteAllFilesWithSpecificExtension(String pathToDir, String extension) {\n        boolean success = false;\n        File folder = new File(pathToDir);\n        File[] fList = folder.listFiles();\n        for (File file : fList) {\n            String pes = file.getName();\n            if (pes.endsWith(&quot;.&quot; + extension)) {\n                success = (new File(String.valueOf(file)).delete());\n            }\n        }\n        return success;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","duplicates","javabeans"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1655448981,"post_id":72655364,"comment_id":128339347,"body_markdown":"I would start with removing the `@Repository` annotation first and see if that helps","body":"I would start with removing the <code>@Repository</code> annotation first and see if that helps"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1655449147,"post_id":72655364,"comment_id":128339392,"body_markdown":"@JCompetence Don&#39;t I need that in order for spring boot to even recognize this as a CrudRepository / Repository Bean? //Edit: I&#39;ve just removed all the \\@Repository annotations from the repositories and I still get the same error.","body":"@JCompetence Don&#39;t I need that in order for spring boot to even recognize this as a CrudRepository / Repository Bean? //Edit: I&#39;ve just removed all the \\@Repository annotations from the repositories and I still get the same error."},{"owner":{"account_id":3837785,"reputation":277,"user_id":3181718,"display_name":"jr593"},"score":0,"creation_date":1655449232,"post_id":72655364,"comment_id":128339414,"body_markdown":"You WILL need the @Repository. Where is your actual reference to the repository, it didn&#39;t show in your code clip?","body":"You WILL need the @Repository. Where is your actual reference to the repository, it didn&#39;t show in your code clip?"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1655449344,"post_id":72655364,"comment_id":128339439,"body_markdown":"@jr593 What exactly do you mean by &quot;actual reference to the repository&quot;?","body":"@jr593 What exactly do you mean by &quot;actual reference to the repository&quot;?"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1655450286,"post_id":72655364,"comment_id":128339678,"body_markdown":"You dont need the annotation.  Example `public interface MessageRecordRepository extends PagingAndSortingRepository&lt;MessageRecord, Long&gt; {\n\n    Page&lt;MessageRecord&gt; findAllByMessageFlowIn(List&lt;MessageRecord.MessageFlow&gt; messageFlows, Pageable pageable); ` this works fine, and has no annotation :).\n\nThe fact that it is still failing for you means, that it is still loading it as a repository even without annotation.  Please show your configuration file + class and.\n\nhttps://stackoverflow.com/questions/67001275/do-i-need-repository-annotation-when-extending-crudrepository-spring","body":"You dont need the annotation.  Example <code>public interface MessageRecordRepository extends PagingAndSortingRepository&lt;MessageRecord, Long&gt; {      Page&lt;MessageRecord&gt; findAllByMessageFlowIn(List&lt;MessageRecord.MessageFlow&gt; messageFlows, Pageable pageable); </code> this works fine, and has no annotation :).  The fact that it is still failing for you means, that it is still loading it as a repository even without annotation.  Please show your configuration file + class and.  <a href=\"https://stackoverflow.com/questions/67001275/do-i-need-repository-annotation-when-extending-crudrepository-spring\" title=\"do i need repository annotation when extending crudrepository spring\">stackoverflow.com/questions/67001275/&hellip;</a>"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1655450387,"post_id":72655364,"comment_id":128339706,"body_markdown":"@JCompetence which class exactly? And do you mean &quot;application.properties&quot; as the configuration file?","body":"@JCompetence which class exactly? And do you mean &quot;application.properties&quot; as the configuration file?"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1655450600,"post_id":72655364,"comment_id":128339785,"body_markdown":"You have duplication somewhere @Z-100 I would start with commenting out each class and leave the repo on its own and see if it loads it.  If using mvn, clean install before running springboot.  Do you have any `@Bean` definitions anywhere?","body":"You have duplication somewhere @Z-100 I would start with commenting out each class and leave the repo on its own and see if it loads it.  If using mvn, clean install before running springboot.  Do you have any <code>@Bean</code> definitions anywhere?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1655450629,"post_id":72655364,"comment_id":128339791,"body_markdown":"Have you read the error? This indicates you have **both** `spring-boot-starter-data-jpa` and `spring-boot-starter-data-jdbc` on your classpath. Both of which will try to create a repository for the given interface. Decide which to use **or** explicitly tell what to use for that package using either `@EnableJpaRepositories` or `@EnableJdbcRepositories` for that package. But I suspect it is a mistake and you accidentally added `spring-boot-starter-data-jdbc`.","body":"Have you read the error? This indicates you have <b>both</b> <code>spring-boot-starter-data-jpa</code> and <code>spring-boot-starter-data-jdbc</code> on your classpath. Both of which will try to create a repository for the given interface. Decide which to use <b>or</b> explicitly tell what to use for that package using either <code>@EnableJpaRepositories</code> or <code>@EnableJdbcRepositories</code> for that package. But I suspect it is a mistake and you accidentally added <code>spring-boot-starter-data-jdbc</code>."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1655451396,"post_id":72655364,"comment_id":128340044,"body_markdown":"@M.Deinum Probably. I&#39;ve created my pom.xml with the help of the Spring Boot dependency pop up at the beginning of the project and some more dependencies of my previous projects. I just removed ```spring-boot-starter-data-jdbc``` from the classpath and pom.xml. Now my entities are using javax.persistence.table annotations and the project is not starting. (This time I&#39;m not even getting an error message; Just ```[ionShutdownHook] ... : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;```","body":"@M.Deinum Probably. I&#39;ve created my pom.xml with the help of the Spring Boot dependency pop up at the beginning of the project and some more dependencies of my previous projects. I just removed <code>spring-boot-starter-data-jdbc</code> from the classpath and pom.xml. Now my entities are using javax.persistence.table annotations and the project is not starting. (This time I&#39;m not even getting an error message; Just <code>[ionShutdownHook] ... : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;</code>"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1655451441,"post_id":72655364,"comment_id":128340063,"body_markdown":"@JCompetence No. I don&#39;t have anything defined as \\@Bean. I only used ```@Component, @Repository, @Table &amp; @Entity```.","body":"@JCompetence No. I don&#39;t have anything defined as \\@Bean. I only used <code>@Component, @Repository, @Table &amp; @Entity</code>."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1655451612,"post_id":72655364,"comment_id":128340119,"body_markdown":"If there is nothing to keep it running, like `spring-boot-starter-web` it will immediately shutdown. Do you have something like that? Also you don&#39;t get an error anymore so that has been resolved, which was your actual question, and related to the inclusion of multiple `spring-boot-starter-data-*` dependencies. Also the `@Repository` is useless on the interface (it only hurts the eyes) as Spring Data uses different means of detecting the repositories needed to instantiate.","body":"If there is nothing to keep it running, like <code>spring-boot-starter-web</code> it will immediately shutdown. Do you have something like that? Also you don&#39;t get an error anymore so that has been resolved, which was your actual question, and related to the inclusion of multiple <code>spring-boot-starter-data-*</code> dependencies. Also the <code>@Repository</code> is useless on the interface (it only hurts the eyes) as Spring Data uses different means of detecting the repositories needed to instantiate."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1655452066,"post_id":72655364,"comment_id":128340261,"body_markdown":"@M.Deinum Thank you very much! It&#39;s working perfectly fine now. But could you answer me one more question? Why exactly does Spring Boot need ```spring-boot-starter-web``` to keep running?","body":"@M.Deinum Thank you very much! It&#39;s working perfectly fine now. But could you answer me one more question? Why exactly does Spring Boot need <code>spring-boot-starter-web</code> to keep running?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1655452306,"post_id":72655364,"comment_id":128340376,"body_markdown":"It doesn&#39;t as it depends on what you want to do. A web application has threads that keep running to handle requests. If you don&#39;t have something like that, nothing is preventing the shutdown and it will shutdown right after startup.","body":"It doesn&#39;t as it depends on what you want to do. A web application has threads that keep running to handle requests. If you don&#39;t have something like that, nothing is preventing the shutdown and it will shutdown right after startup."}],"answers":[{"tags":[],"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655449525,"creation_date":1655449525,"answer_id":72655520,"question_id":72655364,"body_markdown":"Don&#39;t put @Repository (or @Component) on the interface, only on the implementation.","title":"Spring generates two beans of the same instance &quot;MyRepository&quot;","body":"<p>Don't put @Repository (or @Component) on the interface, only on the implementation.</p>\n"},{"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655452345,"creation_date":1655452345,"answer_id":72656036,"question_id":72655364,"body_markdown":"As stated in the comments of [@M. Deinum](https://stackoverflow.com/users/2696260/m-deinum), the problem was, that (in my case) I had two ```spring-boot-starter-data-...``` dependencies, both of which wanted to create beans of the same class/interface, with the same Impl name.\r\n\r\nI solved the problem, by following their instructions:\r\n\r\n1. I deleted the dependency ```spring-boot-starter-data-jdbc```\r\n2. I also deleted the library from the project and classpath\r\n\r\nAnother problem was, that my project wouldn&#39;t keep running. I, again, solved this problem by following their instructions:\r\n\r\n1. I added the ```spring-boot-starter-web``` dependency","title":"Spring generates two beans of the same instance &quot;MyRepository&quot;","body":"<p>As stated in the comments of <a href=\"https://stackoverflow.com/users/2696260/m-deinum\">@M. Deinum</a>, the problem was, that (in my case) I had two <code>spring-boot-starter-data-...</code> dependencies, both of which wanted to create beans of the same class/interface, with the same Impl name.</p>\n<p>I solved the problem, by following their instructions:</p>\n<ol>\n<li>I deleted the dependency <code>spring-boot-starter-data-jdbc</code></li>\n<li>I also deleted the library from the project and classpath</li>\n</ol>\n<p>Another problem was, that my project wouldn't keep running. I, again, solved this problem by following their instructions:</p>\n<ol>\n<li>I added the <code>spring-boot-starter-web</code> dependency</li>\n</ol>\n"}],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1531,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72656036,"answer_count":2,"score":1,"last_activity_date":1655452345,"creation_date":1655448622,"question_id":72655364,"body_markdown":"i&#39;m fairly &#39;new&#39; to Spring Boot and need a bit of help with CrudRepositories.\r\n\r\nMy problem is the following: When I want to start my Spring Boot Application, it starts just fine, creates all the tables in the database, but somehow manages to fail, because Spring creates two beans of the same interface:\r\n\r\nNote that my package hierarchy looks a bit different. Spring Boot however is referencing the exact same interface, twice.\r\n\r\n    The bean &#39;IMyRepository&#39;, defined in com.package.IMyRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration, could not be registered. A bean with that name has already been defined in com.package.IMyRepository defined in @EnableJdbcRepositories declared on JdbcRepositoriesRegistrar.EnableJdbcRepositoriesConfiguration and overriding is disabled.\r\n\r\nFor clarification: _I do not have two interfaces declared wit the same name_, _I do not have any MyRepositoryImpl classes_, _and I do not have multiple projects with the same hierarchy._ (only one: src/main/.../com.(...).IMyRepository)\r\n\r\nMy Repository interface looks like this:\r\n\r\n\r\n``` \r\npackage com.package.api.components.account.repository;\r\n\r\nimport com.package.api.components.account.entity.Account;\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface IMyRepository extends CrudRepository&lt;Account, Long&gt; {\r\n\r\n\tAccount findByEmail(String email);\r\n\r\n\tAccount findByEmailAndPassword(String email, String password);\r\n}\r\n```\r\n\r\nAnd the only _single_ time where, I am taking usage of IMyRepository is in this class:\r\n\r\n\r\n``` \r\n@Component\r\n@AllArgsConstructor\r\npublic class AccountService implements IAccountService, IRegisterService, ILoginService {\r\n\r\n\tprivate final IAccountRepository accountRepository;\r\n\r\n\tprivate final IPasswordValidationService passwordValidationService;\r\n\tprivate final AAccountMapper accountMapper;\r\n\r\n    // Code\r\n}\r\n```\r\n\r\n\r\nHere are some answers on StackOverflow &amp; co I&#39;ve already tried, which none off them worked for me:\r\n\r\n* https://coderanch.com/t/747155/java/bean-defined-myRepository\r\n* https://stackoverflow.com/questions/41123195/spring-boot-detects-2-identical-repository-beans\r\n\r\nThanks you very much for reading this!","title":"Spring generates two beans of the same instance &quot;MyRepository&quot;","body":"<p>i'm fairly 'new' to Spring Boot and need a bit of help with CrudRepositories.</p>\n<p>My problem is the following: When I want to start my Spring Boot Application, it starts just fine, creates all the tables in the database, but somehow manages to fail, because Spring creates two beans of the same interface:</p>\n<p>Note that my package hierarchy looks a bit different. Spring Boot however is referencing the exact same interface, twice.</p>\n<pre><code>The bean 'IMyRepository', defined in com.package.IMyRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration, could not be registered. A bean with that name has already been defined in com.package.IMyRepository defined in @EnableJdbcRepositories declared on JdbcRepositoriesRegistrar.EnableJdbcRepositoriesConfiguration and overriding is disabled.\n</code></pre>\n<p>For clarification: <em>I do not have two interfaces declared wit the same name</em>, <em>I do not have any MyRepositoryImpl classes</em>, <em>and I do not have multiple projects with the same hierarchy.</em> (only one: src/main/.../com.(...).IMyRepository)</p>\n<p>My Repository interface looks like this:</p>\n<pre><code>package com.package.api.components.account.repository;\n\nimport com.package.api.components.account.entity.Account;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface IMyRepository extends CrudRepository&lt;Account, Long&gt; {\n\n    Account findByEmail(String email);\n\n    Account findByEmailAndPassword(String email, String password);\n}\n</code></pre>\n<p>And the only <em>single</em> time where, I am taking usage of IMyRepository is in this class:</p>\n<pre><code>@Component\n@AllArgsConstructor\npublic class AccountService implements IAccountService, IRegisterService, ILoginService {\n\n    private final IAccountRepository accountRepository;\n\n    private final IPasswordValidationService passwordValidationService;\n    private final AAccountMapper accountMapper;\n\n    // Code\n}\n</code></pre>\n<p>Here are some answers on StackOverflow &amp; co I've already tried, which none off them worked for me:</p>\n<ul>\n<li><a href=\"https://coderanch.com/t/747155/java/bean-defined-myRepository\" rel=\"nofollow noreferrer\">https://coderanch.com/t/747155/java/bean-defined-myRepository</a></li>\n<li><a href=\"https://stackoverflow.com/questions/41123195/spring-boot-detects-2-identical-repository-beans\">Spring Boot detects 2 identical repository beans</a></li>\n</ul>\n<p>Thanks you very much for reading this!</p>\n"},{"tags":["java","apache-kafka","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":10798439,"reputation":139,"user_id":7943315,"display_name":"Andre Kouame"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655452259,"creation_date":1655451865,"answer_id":72655952,"question_id":72003037,"body_markdown":"    you must do this, in order to keep header when aggregation is doing.\r\n   \r\n    from(&quot;sftp://xxxxxxx@localhost:&quot;\r\n            + &quot;2222/data/in&quot;\r\n            + &quot;?password=&quot;\r\n            + &quot;&amp;preferredAuthentications=publickey&quot;\r\n            + &quot;&amp;knownHostsFile=~/.ssh/known_hosts&quot;\r\n            + &quot;&amp;privateKeyFile=xxxxxxx&quot;\r\n            + &quot;&amp;privateKeyPassphrase=&quot;\r\n            + &quot;&amp;passiveMode=true&quot;\r\n            + &quot;&amp;fastExistsCheck=true&quot;\r\n            + &quot;&amp;download=true&quot;\r\n            + &quot;&amp;delete=true&quot;\r\n            + &quot;&amp;stepwise=false&quot;\r\n            + &quot;&amp;antInclude=*&quot;\r\n            + &quot;&amp;antExclude=**reject**&quot;\r\n            + &quot;&amp;recursive=false&quot;\r\n            + &quot;&amp;maxMessagesPerPoll=10&quot;\r\n            + &quot;&amp;initialDelay=0&quot;\r\n            + &quot;&amp;delay=0&quot;\r\n            + &quot;&amp;connectTimeout=10000&quot;\r\n            + &quot;&amp;soTimeout=300000&quot;\r\n            + &quot;&amp;timeout=30000&quot;\r\n            + &quot;&amp;shuffle=true&quot;\r\n            + &quot;&amp;eagerMaxMessagesPerPoll=false&quot;\r\n            + &quot;&amp;moveFailed=reject&quot;\r\n            + &quot;&amp;binary=true&quot;\r\n            + &quot;&amp;localWorkDirectory=/opt/camel_data/kafka/&quot;\r\n            + &quot;&amp;readLock=none&quot;\r\n            + &quot;&amp;readLockCheckInterval=1000&quot;\r\n            + &quot;&amp;readLockMinLength=1&quot;\r\n            + &quot;&amp;readLockLoggingLevel=INFO&quot;\r\n            + &quot;&amp;readLockIdempotentReleaseDelay=10000&quot;\r\n            + &quot;&amp;readLockRemoveOnCommit=false&quot;\r\n            + &quot;&amp;readLockRemoveOnRollback=true&quot;\r\n            + &quot;&amp;bulkRequests=1000&quot;\r\n            + &quot;&amp;charset=utf-8&quot;)\r\n            .routeId(&quot;Consume SFTP&quot;)\r\n            .id(&quot;Consume SFTP&quot;)\r\n            .setProperty(&quot;yoda_core_technical_id&quot;).header(Exchange.BREADCRUMB_ID)\r\n            .setProperty(&quot;x_filename_source&quot;).header(Exchange.FILE_NAME_ONLY)\r\n            .setProperty(&quot;x_filepath_source&quot;).header(&quot;CamelFileAbsolutePath&quot;)\r\n            .setProperty(&quot;x_correlation_id&quot;).header(&quot;CamelFileName&quot;)\r\n            .split(body().tokenize())\r\n                .setHeader(&quot;test&quot;,constant(&quot;test&quot;))\r\n            .aggregate(new GroupedMessageAggregationStrategy())\r\n                .constant(true)\r\n                .completionTimeout(100L)\r\n            .to(&quot;direct:aggregate&quot;);\r\n    \r\n    from(&quot;direct:aggregate&quot;)\r\n    .process(new Processor() {\r\n                @Override\r\n                public void process(Exchange exchange) throws Exception {\r\n                    System.out.println(exchange);\r\n                    GenericFileMessage&lt;String&gt; message =(GenericFileMessage&lt;String&gt;) exchange.getMessage().getBody(List.class).get(0);\r\n                    exchange.getMessage().setHeader(&quot;test&quot;,\r\n                            message.getHeader(&quot;test&quot;));\r\n                }\r\n            })\r\n            .to(&quot;mock:result&quot;);\r\n   ","title":"Apache camel kafka aggregate before produce msg but lost header","body":"<pre><code>you must do this, in order to keep header when aggregation is doing.\n\nfrom(&quot;sftp://xxxxxxx@localhost:&quot;\n        + &quot;2222/data/in&quot;\n        + &quot;?password=&quot;\n        + &quot;&amp;preferredAuthentications=publickey&quot;\n        + &quot;&amp;knownHostsFile=~/.ssh/known_hosts&quot;\n        + &quot;&amp;privateKeyFile=xxxxxxx&quot;\n        + &quot;&amp;privateKeyPassphrase=&quot;\n        + &quot;&amp;passiveMode=true&quot;\n        + &quot;&amp;fastExistsCheck=true&quot;\n        + &quot;&amp;download=true&quot;\n        + &quot;&amp;delete=true&quot;\n        + &quot;&amp;stepwise=false&quot;\n        + &quot;&amp;antInclude=*&quot;\n        + &quot;&amp;antExclude=**reject**&quot;\n        + &quot;&amp;recursive=false&quot;\n        + &quot;&amp;maxMessagesPerPoll=10&quot;\n        + &quot;&amp;initialDelay=0&quot;\n        + &quot;&amp;delay=0&quot;\n        + &quot;&amp;connectTimeout=10000&quot;\n        + &quot;&amp;soTimeout=300000&quot;\n        + &quot;&amp;timeout=30000&quot;\n        + &quot;&amp;shuffle=true&quot;\n        + &quot;&amp;eagerMaxMessagesPerPoll=false&quot;\n        + &quot;&amp;moveFailed=reject&quot;\n        + &quot;&amp;binary=true&quot;\n        + &quot;&amp;localWorkDirectory=/opt/camel_data/kafka/&quot;\n        + &quot;&amp;readLock=none&quot;\n        + &quot;&amp;readLockCheckInterval=1000&quot;\n        + &quot;&amp;readLockMinLength=1&quot;\n        + &quot;&amp;readLockLoggingLevel=INFO&quot;\n        + &quot;&amp;readLockIdempotentReleaseDelay=10000&quot;\n        + &quot;&amp;readLockRemoveOnCommit=false&quot;\n        + &quot;&amp;readLockRemoveOnRollback=true&quot;\n        + &quot;&amp;bulkRequests=1000&quot;\n        + &quot;&amp;charset=utf-8&quot;)\n        .routeId(&quot;Consume SFTP&quot;)\n        .id(&quot;Consume SFTP&quot;)\n        .setProperty(&quot;yoda_core_technical_id&quot;).header(Exchange.BREADCRUMB_ID)\n        .setProperty(&quot;x_filename_source&quot;).header(Exchange.FILE_NAME_ONLY)\n        .setProperty(&quot;x_filepath_source&quot;).header(&quot;CamelFileAbsolutePath&quot;)\n        .setProperty(&quot;x_correlation_id&quot;).header(&quot;CamelFileName&quot;)\n        .split(body().tokenize())\n            .setHeader(&quot;test&quot;,constant(&quot;test&quot;))\n        .aggregate(new GroupedMessageAggregationStrategy())\n            .constant(true)\n            .completionTimeout(100L)\n        .to(&quot;direct:aggregate&quot;);\n\nfrom(&quot;direct:aggregate&quot;)\n.process(new Processor() {\n            @Override\n            public void process(Exchange exchange) throws Exception {\n                System.out.println(exchange);\n                GenericFileMessage&lt;String&gt; message =(GenericFileMessage&lt;String&gt;) exchange.getMessage().getBody(List.class).get(0);\n                exchange.getMessage().setHeader(&quot;test&quot;,\n                        message.getHeader(&quot;test&quot;));\n            }\n        })\n        .to(&quot;mock:result&quot;);\n</code></pre>\n"}],"owner":{"account_id":9053502,"reputation":80,"user_id":6742652,"accept_rate":50,"display_name":"V.HL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655452259,"creation_date":1650905498,"question_id":72003037,"body_markdown":"I used apache camel Kafka with spring boot  \r\n&lt;camel.version&gt;3.14.2&lt;/camel.version&gt;  \r\nI used default configuration on apache camel Kafka component\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-kafka-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${camel.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nMy route camel - fileConsume have 6000 lines\r\n\r\n    from(fileConsume).split(body().tokenize()).setHeader(&quot;testHeader&quot;, &quot;valueHeader&quot;).aggregate(new GroupedMessageAggregationStrategy())\r\n                .constant(true).completionTimeout(100L).to(&quot;kafka:topicTest&quot;);\r\n\r\nAll messages from file produced on Kafka very fast (less 2 secondes) but the header is not present.\r\n\r\nWhen i remove aggregate\r\n\r\n     from(fileConsume).split(body().tokenize()).setHeader(&quot;testHeader&quot;, &quot;valueHeader&quot;).to(&quot;kafka:topicTest&quot;);\r\n\r\nAll messages from file produced on Kafka very low (more 10 minutes) but the header is present.\r\n\r\n**I need some help to produce message with apache camel kafka component on speed way with header.**\r\n\r\n","title":"Apache camel kafka aggregate before produce msg but lost header","body":"<p>I used apache camel Kafka with spring boot<br />\n&lt;camel.version&gt;3.14.2&lt;/camel.version&gt;<br />\nI used default configuration on apache camel Kafka component</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-kafka-starter&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>My route camel - fileConsume have 6000 lines</p>\n<pre><code>from(fileConsume).split(body().tokenize()).setHeader(&quot;testHeader&quot;, &quot;valueHeader&quot;).aggregate(new GroupedMessageAggregationStrategy())\n            .constant(true).completionTimeout(100L).to(&quot;kafka:topicTest&quot;);\n</code></pre>\n<p>All messages from file produced on Kafka very fast (less 2 secondes) but the header is not present.</p>\n<p>When i remove aggregate</p>\n<pre><code> from(fileConsume).split(body().tokenize()).setHeader(&quot;testHeader&quot;, &quot;valueHeader&quot;).to(&quot;kafka:topicTest&quot;);\n</code></pre>\n<p>All messages from file produced on Kafka very low (more 10 minutes) but the header is present.</p>\n<p><strong>I need some help to produce message with apache camel kafka component on speed way with header.</strong></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1654350651,"post_id":72500146,"comment_id":128072714,"body_markdown":"&quot;How do you even fix this properly?&quot; -- you might want to provide a [mcve] showing your final code.","body":"&quot;How do you even fix this properly?&quot; -- you might want to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing your final code."},{"owner":{"account_id":4557644,"reputation":326,"user_id":3700915,"accept_rate":62,"display_name":"eXistenZ"},"score":0,"creation_date":1654351018,"post_id":72500146,"comment_id":128072787,"body_markdown":"Just added an example now, thanks!","body":"Just added an example now, thanks!"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1654351233,"post_id":72500146,"comment_id":128072837,"body_markdown":"That does not show your final code, from &quot;I wrapped it around an if SDK version &gt;= 31&quot;. Ideally, `LocationManagerCompat` would have its own `addTestProvider()` that covers this case. Unfortunately, it does not appear to have that, at least through `androidx.core:core:1.9.0-alpha04`. My best guess, without seeing the final code, is that you still need to add a `@SuppressLint`, perhaps due to a bug in the Lint check.","body":"That does not show your final code, from &quot;I wrapped it around an if SDK version &gt;= 31&quot;. Ideally, <code>LocationManagerCompat</code> would have its own <code>addTestProvider()</code> that covers this case. Unfortunately, it does not appear to have that, at least through <code>androidx.core:core:1.9.0-alpha04</code>. My best guess, without seeing the final code, is that you still need to add a <code>@SuppressLint</code>, perhaps due to a bug in the Lint check."},{"owner":{"account_id":4557644,"reputation":326,"user_id":3700915,"accept_rate":62,"display_name":"eXistenZ"},"score":0,"creation_date":1654351965,"post_id":72500146,"comment_id":128072982,"body_markdown":"Sorry about that, changed it now. Yeah, seems like it is a bug. I think it would be safe to just use ```Criteria.POWER_LOW, Criteria.ACCURACY_FINE``` as their values are exactly the same? Thanks","body":"Sorry about that, changed it now. Yeah, seems like it is a bug. I think it would be safe to just use <code>Criteria.POWER_LOW, Criteria.ACCURACY_FINE</code> as their values are exactly the same? Thanks"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1654352085,"post_id":72500146,"comment_id":128072999,"body_markdown":"In the end, the value is an `int`. Only the actual value should get compiled into the app, since these are constants. So, yeah, it should be safe to just stick with the `Criteria` values if you wanted.","body":"In the end, the value is an <code>int</code>. Only the actual value should get compiled into the app, since these are constants. So, yeah, it should be safe to just stick with the <code>Criteria</code> values if you wanted."}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654353982,"creation_date":1654352599,"answer_id":72500513,"question_id":72500146,"body_markdown":"Annotate the method (which also provides the fallback) with `@TargetApi(31)` and/or `@SuppressLint(&quot;Deprecated&quot;)`. One can either provide backwards compatibility alike that - or keep old implementations in some `legacy` build-type ...which may be something to consider, when it becomes a little much backwards-compatibility code.","title":"Criteria.ACCURACY_FINE lint error on Android 12","body":"<p>Annotate the method (which also provides the fallback) with <code>@TargetApi(31)</code> and/or <code>@SuppressLint(&quot;Deprecated&quot;)</code>. One can either provide backwards compatibility alike that - or keep old implementations in some <code>legacy</code> build-type ...which may be something to consider, when it becomes a little much backwards-compatibility code.</p>\n"}],"owner":{"account_id":4557644,"reputation":326,"user_id":3700915,"accept_rate":62,"display_name":"eXistenZ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655451584,"creation_date":1654349463,"question_id":72500146,"body_markdown":"After changing compileSdkVersion to 31, I now get some lint errors saying\r\n \r\n&gt; Criteria.ACCURACY_FINE Must be one of: ProviderProperties.ACCURACY_FINE, ProviderProperties.ACCURACY_COARSE\r\n\r\nfor this line of code: \r\n\r\n```\r\nlocationManager.addTestProvider(LocationManager.GPS_PROVIDER, false, false, false, false, true, true, true, Criteria.POWER_LOW, Criteria.ACCURACY_FINE);\r\n```\r\nI changed it to `ProviderProperties.ACCURACY_FINE` and now it says \r\n\r\n&gt; Field requires API level 31\r\n\r\nI wrapped it around an `if SDK version &gt;= 31` then use `ProviderProperties.ACCURACY_FINE` else use `Criteria.ACCURACY_FINE`. Now I still get a lint error on `Criteria.ACCURACY_FINE`. How do you even fix this properly? And why did Google decide to make this change in the first place and break things is beyond me..\r\n\r\nExample to reproduce this error:\r\n\r\n```\r\nLocationManager locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n    locationManager.addTestProvider(LocationManager.GPS_PROVIDER, false, false, false, false, true, true, true, ProviderProperties.POWER_USAGE_LOW, ProviderProperties.ACCURACY_FINE);\r\n} else {\r\n    locationManager.addTestProvider(LocationManager.GPS_PROVIDER, false, false, false, false, true, true, true, Criteria.POWER_LOW, Criteria.ACCURACY_FINE);\r\n}\r\n```","title":"Criteria.ACCURACY_FINE lint error on Android 12","body":"<p>After changing compileSdkVersion to 31, I now get some lint errors saying</p>\n<blockquote>\n<p>Criteria.ACCURACY_FINE Must be one of: ProviderProperties.ACCURACY_FINE, ProviderProperties.ACCURACY_COARSE</p>\n</blockquote>\n<p>for this line of code:</p>\n<pre><code>locationManager.addTestProvider(LocationManager.GPS_PROVIDER, false, false, false, false, true, true, true, Criteria.POWER_LOW, Criteria.ACCURACY_FINE);\n</code></pre>\n<p>I changed it to <code>ProviderProperties.ACCURACY_FINE</code> and now it says</p>\n<blockquote>\n<p>Field requires API level 31</p>\n</blockquote>\n<p>I wrapped it around an <code>if SDK version &gt;= 31</code> then use <code>ProviderProperties.ACCURACY_FINE</code> else use <code>Criteria.ACCURACY_FINE</code>. Now I still get a lint error on <code>Criteria.ACCURACY_FINE</code>. How do you even fix this properly? And why did Google decide to make this change in the first place and break things is beyond me..</p>\n<p>Example to reproduce this error:</p>\n<pre><code>LocationManager locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n    locationManager.addTestProvider(LocationManager.GPS_PROVIDER, false, false, false, false, true, true, true, ProviderProperties.POWER_USAGE_LOW, ProviderProperties.ACCURACY_FINE);\n} else {\n    locationManager.addTestProvider(LocationManager.GPS_PROVIDER, false, false, false, false, true, true, true, Criteria.POWER_LOW, Criteria.ACCURACY_FINE);\n}\n</code></pre>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":1671854,"reputation":123,"user_id":1538176,"display_name":"Felix"},"score":0,"creation_date":1655451762,"post_id":72654179,"comment_id":128340168,"body_markdown":"Duplicate of https://stackoverflow.com/q/44855981/1538176","body":"Duplicate of <a href=\"https://stackoverflow.com/q/44855981/1538176\">stackoverflow.com/q/44855981/1538176</a>"},{"owner":{"account_id":1671854,"reputation":123,"user_id":1538176,"display_name":"Felix"},"score":0,"creation_date":1655451798,"post_id":72654179,"comment_id":128340181,"body_markdown":"Does this answer your question? [Lombok builder to check non null and not empty](https://stackoverflow.com/questions/44855981/lombok-builder-to-check-non-null-and-not-empty)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/44855981/lombok-builder-to-check-non-null-and-not-empty\">Lombok builder to check non null and not empty</a>"}],"answers":[{"tags":[],"owner":{"account_id":1671854,"reputation":123,"user_id":1538176,"display_name":"Felix"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655451404,"creation_date":1655439133,"answer_id":72654258,"question_id":72654179,"body_markdown":"You can annotate a constructor with the `@Builder` annotation.\r\nIn there, you can validate the input.\r\n\r\n```java\r\n\r\npublic class InterestLimit {\r\n    String field1;\r\n    String field2;\r\n\r\n    @Builder\r\n    public InterestLimit(String f1, String f2) {\r\n        if (f1 == null &amp;&amp; f2 == null)\r\n            throw new IllegalArgumentException();\r\n        this.field1 = f1;\r\n        this.field2 = f2;   \r\n    }\r\n}\r\n```\r\n\r\nPlease also look into the documentation to fully understand the `@Builder` annotation:\r\n\r\n* https://projectlombok.org/features/Builder\r\n* https://www.baeldung.com/lombok-builder\r\n\r\nAnother way is to specify the build method, as seen in this post:\r\n* https://trguduru.github.io/2019/06/add-custom-validations-with-lombok-builders/\r\n\r\n```java\r\n@AllArgsConstructor\r\n@Builder\r\npublic class InterestLimit {\r\n    String field1;\r\n    String field2;\r\n\r\n    public static class InterestLimitBuilder {\r\n        public InterestLimit build() {\r\n            if (field1 == null &amp;&amp; field2 == null)\r\n                throw new IllegalArgumentException();\r\n            return new InterestLimit(field1, field2);\r\n        }\r\n    }\r\n}\r\n```","title":"Lombok Builder: Build object only if any one field is non null otherwise dont build object","body":"<p>You can annotate a constructor with the <code>@Builder</code> annotation.\nIn there, you can validate the input.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class InterestLimit {\n    String field1;\n    String field2;\n\n    @Builder\n    public InterestLimit(String f1, String f2) {\n        if (f1 == null &amp;&amp; f2 == null)\n            throw new IllegalArgumentException();\n        this.field1 = f1;\n        this.field2 = f2;   \n    }\n}\n</code></pre>\n<p>Please also look into the documentation to fully understand the <code>@Builder</code> annotation:</p>\n<ul>\n<li><a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/Builder</a></li>\n<li><a href=\"https://www.baeldung.com/lombok-builder\" rel=\"nofollow noreferrer\">https://www.baeldung.com/lombok-builder</a></li>\n</ul>\n<p>Another way is to specify the build method, as seen in this post:</p>\n<ul>\n<li><a href=\"https://trguduru.github.io/2019/06/add-custom-validations-with-lombok-builders/\" rel=\"nofollow noreferrer\">https://trguduru.github.io/2019/06/add-custom-validations-with-lombok-builders/</a></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@Builder\npublic class InterestLimit {\n    String field1;\n    String field2;\n\n    public static class InterestLimitBuilder {\n        public InterestLimit build() {\n            if (field1 == null &amp;&amp; field2 == null)\n                throw new IllegalArgumentException();\n            return new InterestLimit(field1, field2);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5229654,"reputation":606,"user_id":4180464,"display_name":"Pankaj Mandale"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3003,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655451404,"creation_date":1655438267,"question_id":72654179,"body_markdown":"Lombok Builder: Build object only if any one field is non null otherwise don&#39;t build object    \r\n    \r\n    @Builder\r\n    public class InterestLimit{\r\n        String field1;\r\n        String field2;\r\n    }\r\n\r\n","title":"Lombok Builder: Build object only if any one field is non null otherwise dont build object","body":"<p>Lombok Builder: Build object only if any one field is non null otherwise don't build object</p>\n<pre><code>@Builder\npublic class InterestLimit{\n    String field1;\n    String field2;\n}\n</code></pre>\n"},{"tags":["java","android","video","video-codecs"],"comments":[{"owner":{"account_id":158321,"reputation":3114,"user_id":376870,"accept_rate":78,"display_name":"intrepidkarthi"},"score":0,"creation_date":1405316368,"post_id":24730087,"comment_id":38361607,"body_markdown":"Check [this][1] thread for the explanation.\n\n\n  [1]: http://stackoverflow.com/questions/7806261/strange-behavior-of-android-videoview-cant-play-video","body":"Check [this][1] thread for the explanation.     [1]: <a href=\"http://stackoverflow.com/questions/7806261/strange-behavior-of-android-videoview-cant-play-video\" title=\"strange behavior of android videoview cant play video\">stackoverflow.com/questions/7806261/&hellip;</a>"},{"owner":{"account_id":12593190,"reputation":512,"user_id":9158986,"display_name":"Hila Grossbard"},"score":0,"creation_date":1645481355,"post_id":24730087,"comment_id":125878539,"body_markdown":"This answer worked for me: https://stackoverflow.com/questions/59882785/cant-play-this-video-error-using-url-with-videoview-and-mediacontroller#:~:text=Add%20a%20comment-,1,Hope%20this%20will%20help.,-Share","body":"This answer worked for me: <a href=\"https://stackoverflow.com/questions/59882785/cant-play-this-video-error-using-url-with-videoview-and-mediacontroller#:~:text=Add%20a%20comment-,1,Hope%20this%20will%20help.,-Share\" title=\"cant play this video error using url with videoview and mediacontroller%23%3a%7e%3atext%3dAdd%2520a%2520comment %2c1%2cHope%2520this%2520will%2520help.%2c Share\">stackoverflow.com/questions/59882785/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1634908,"reputation":11162,"user_id":1508671,"accept_rate":62,"display_name":"KOTIOS"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1405316680,"creation_date":1405316680,"answer_id":24730161,"question_id":24730087,"body_markdown":"For Lenovo a820 ,below is need :\r\n\r\n    - MP4/WMV/H.264/H.263 player\r\n    - MP3/WAV/WMA/eAAC+ player\r\n\r\nmake sure that ur video fits in above codec format.\r\n\r\n","title":"Can&#39;t play this video. Android videoView mp4 recorded by android device","body":"<p>For Lenovo a820 ,below is need :</p>\n\n<pre><code>- MP4/WMV/H.264/H.263 player\n- MP3/WAV/WMA/eAAC+ player\n</code></pre>\n\n<p>make sure that ur video fits in above codec format.</p>\n"},{"tags":[],"owner":{"display_name":"user2041884"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1405316857,"creation_date":1405316857,"answer_id":24730196,"question_id":24730087,"body_markdown":"try following code..\r\n\r\n \r\n\r\n    videoView = (VideoView)this.findViewById(R.id.videoView);\r\n    String path = &quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.video_file;\r\n    MediaController mc = new MediaController(this);\r\n    videoView.setMediaController(mc);\r\n    videoView.start();","title":"Can&#39;t play this video. Android videoView mp4 recorded by android device","body":"<p>try following code..</p>\n\n<pre><code>videoView = (VideoView)this.findViewById(R.id.videoView);\nString path = \"android.resource://\" + getPackageName() + \"/\" + R.raw.video_file;\nMediaController mc = new MediaController(this);\nvideoView.setMediaController(mc);\nvideoView.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2740155,"reputation":2140,"user_id":2361868,"display_name":"Jayesh Khasatiya"},"down_vote_count":1,"up_vote_count":20,"is_accepted":true,"score":19,"last_activity_date":1568725865,"creation_date":1405316935,"answer_id":24730207,"question_id":24730087,"body_markdown":"Please refer below code snippet...problem was with the path declaration..\r\n\r\n     String uriPath = &quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+R.raw.aha_hands_only_cpr_english;\r\n            Uri uri = Uri.parse(uriPath);\r\n            mVideoView.setVideoURI(uri);\r\n\r\nThats it...\r\n","title":"Can&#39;t play this video. Android videoView mp4 recorded by android device","body":"<p>Please refer below code snippet...problem was with the path declaration..</p>\n\n<pre><code> String uriPath = \"android.resource://\"+getPackageName()+\"/\"+R.raw.aha_hands_only_cpr_english;\n        Uri uri = Uri.parse(uriPath);\n        mVideoView.setVideoURI(uri);\n</code></pre>\n\n<p>Thats it...</p>\n"},{"tags":[],"owner":{"account_id":7528949,"reputation":724,"user_id":5717927,"accept_rate":19,"display_name":"Arjun Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455534539,"creation_date":1455533113,"answer_id":35407276,"question_id":24730087,"body_markdown":"\tpublic class videoplayer extends Activity {\r\n\t\tprivate static final String Videos_URL = &quot;*your URI*&quot;;\r\n\r\n\t\tprivate VideoView myVideoView;\r\n\t\tprivate int position = 0;\r\n\t\tprivate ProgressDialog progressDialog;\r\n\t\tprivate MediaController mediaControls;\r\n\r\n\t\t@Override\r\n\t\tprotected void onCreate(final Bundle savedInstanceState) {\r\n\t\t\tsuper.onCreate(savedInstanceState);\r\n\r\n\t\t\t// Get the layout from video_main.xml\r\n\t\t\tsetContentView(R.layout.activity_main);\r\n\r\n\t\t\tif (mediaControls == null) {\r\n\t\t\t\tmediaControls = new MediaController(this);\r\n\t\t\t}\r\n\r\n\t\t\t// Find your VideoView in your video_main.xml layout\r\n\t\t\tmyVideoView = (VideoView) findViewById(R.id.videoView);\r\n\r\n\t\t\t// Create a progressbar\r\n\t\t\tprogressDialog = new ProgressDialog(this);\r\n\t\t\t// Set progressbar title\r\n\t\t\tprogressDialog.setTitle(&quot;ABCDEFGH&quot;);\r\n\t\t\t// Set progressbar message\r\n\t\t\tprogressDialog.setMessage(&quot;Loading...&quot;);\r\n\r\n\t\t\tprogressDialog.setCancelable(false);\r\n\t\t\t// Show progressbar\r\n\t\t\tprogressDialog.show();\r\n\r\n\t\t\ttry {\r\n\t\t\t\tUri video = Uri.parse(Videos_URL);\r\n\t\t\t\tmyVideoView.setVideoURI(video);\r\n\t\t\t\tmyVideoView.setMediaController(mediaControls);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tLog.e(&quot;Error&quot;, e.getMessage());\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t\tmyVideoView.requestFocus();\r\n\t\t\tmyVideoView.setOnPreparedListener(new OnPreparedListener() {\r\n\t\t\t\t// Close the progress bar and play the video\r\n\t\t\t\tpublic void onPrepared(MediaPlayer mp) {\r\n\t\t\t\t\tprogressDialog.dismiss();\r\n\t\t\t\t\tmyVideoView.seekTo(position);\r\n\t\t\t\t\tif (position == 0) {\r\n\t\t\t\t\t\tmyVideoView.start();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmyVideoView.pause();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onSaveInstanceState(Bundle savedInstanceState) {\r\n\t\t\tsuper.onSaveInstanceState(savedInstanceState);\r\n\t\t\tsavedInstanceState.putInt(&quot;Position&quot;, myVideoView.getCurrentPosition());\r\n\t\t\tmyVideoView.pause();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onRestoreInstanceState(Bundle savedInstanceState) {\r\n\t\t\tsuper.onRestoreInstanceState(savedInstanceState);\r\n\t\t\tposition = savedInstanceState.getInt(&quot;Position&quot;);\r\n\t\t\tmyVideoView.seekTo(position);\r\n\t\t}\r\n\t}\r\n","title":"Can&#39;t play this video. Android videoView mp4 recorded by android device","body":"<pre><code>public class videoplayer extends Activity {\n    private static final String Videos_URL = \"*your URI*\";\n\n    private VideoView myVideoView;\n    private int position = 0;\n    private ProgressDialog progressDialog;\n    private MediaController mediaControls;\n\n    @Override\n    protected void onCreate(final Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        // Get the layout from video_main.xml\n        setContentView(R.layout.activity_main);\n\n        if (mediaControls == null) {\n            mediaControls = new MediaController(this);\n        }\n\n        // Find your VideoView in your video_main.xml layout\n        myVideoView = (VideoView) findViewById(R.id.videoView);\n\n        // Create a progressbar\n        progressDialog = new ProgressDialog(this);\n        // Set progressbar title\n        progressDialog.setTitle(\"ABCDEFGH\");\n        // Set progressbar message\n        progressDialog.setMessage(\"Loading...\");\n\n        progressDialog.setCancelable(false);\n        // Show progressbar\n        progressDialog.show();\n\n        try {\n            Uri video = Uri.parse(Videos_URL);\n            myVideoView.setVideoURI(video);\n            myVideoView.setMediaController(mediaControls);\n        } catch (Exception e) {\n            Log.e(\"Error\", e.getMessage());\n            e.printStackTrace();\n        }\n\n        myVideoView.requestFocus();\n        myVideoView.setOnPreparedListener(new OnPreparedListener() {\n            // Close the progress bar and play the video\n            public void onPrepared(MediaPlayer mp) {\n                progressDialog.dismiss();\n                myVideoView.seekTo(position);\n                if (position == 0) {\n                    myVideoView.start();\n                } else {\n                    myVideoView.pause();\n                }\n            }\n        });\n\n    }\n\n    @Override\n    public void onSaveInstanceState(Bundle savedInstanceState) {\n        super.onSaveInstanceState(savedInstanceState);\n        savedInstanceState.putInt(\"Position\", myVideoView.getCurrentPosition());\n        myVideoView.pause();\n    }\n\n    @Override\n    public void onRestoreInstanceState(Bundle savedInstanceState) {\n        super.onRestoreInstanceState(savedInstanceState);\n        position = savedInstanceState.getInt(\"Position\");\n        myVideoView.seekTo(position);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1713311,"reputation":149,"user_id":1570920,"display_name":"Cihat K."},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1461063922,"creation_date":1461063922,"answer_id":36716536,"question_id":24730087,"body_markdown":"I tried everything mentioned before but it turns out that internet permission is needed to play a mp4 file.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;","title":"Can&#39;t play this video. Android videoView mp4 recorded by android device","body":"<p>I tried everything mentioned before but it turns out that internet permission is needed to play a mp4 file.</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2084340,"reputation":1207,"user_id":1855635,"display_name":"noahutz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486519635,"creation_date":1486519635,"answer_id":42103465,"question_id":24730087,"body_markdown":"Be sure that the decoder (target sdk) supports the video format you are using. You can use VLC Player to convert video format to the desired one. In my case, I converted the MP4 to WebM file and load it in the VideoView.\r\n\r\nHere is how you get the file path and play your video.\r\n\r\n    String path = &quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.sample;\r\n    VideoView videoView = (VideoView)findViewById(R.id.videoView);\r\n    videoView.setVideoURI(Uri.parse(path));\r\n    videoView.start()\r\n\r\nSource:\r\n**Video format and codec support**\r\nhttps://developer.android.com/guide/topics/media/media-formats.html\r\n","title":"Can&#39;t play this video. Android videoView mp4 recorded by android device","body":"<p>Be sure that the decoder (target sdk) supports the video format you are using. You can use VLC Player to convert video format to the desired one. In my case, I converted the MP4 to WebM file and load it in the VideoView.</p>\n\n<p>Here is how you get the file path and play your video.</p>\n\n<pre><code>String path = \"android.resource://\" + getPackageName() + \"/\" + R.raw.sample;\nVideoView videoView = (VideoView)findViewById(R.id.videoView);\nvideoView.setVideoURI(Uri.parse(path));\nvideoView.start()\n</code></pre>\n\n<p>Source:\n<strong>Video format and codec support</strong>\n<a href=\"https://developer.android.com/guide/topics/media/media-formats.html\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/media/media-formats.html</a></p>\n"},{"tags":[],"owner":{"account_id":12595679,"reputation":1,"user_id":9160411,"display_name":"Sandeep Tile"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1514969162,"creation_date":1514960889,"answer_id":48072268,"question_id":24730087,"body_markdown":"&lt;b&gt;Try this following code it works..........&lt;/b&gt;\r\n\r\n&lt;pre&gt;\r\nVideoView videoView=(VideoView)findViewById(R.id.videoView);\r\n\r\nvideoView.setVideoPath(&quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+R.raw.videoname;\r\n\r\nvideoView.start();\r\n&lt;/pre&gt;","title":"Can&#39;t play this video. Android videoView mp4 recorded by android device","body":"<p><b>Try this following code it works..........</b></p>\n\n<pre>\nVideoView videoView=(VideoView)findViewById(R.id.videoView);\n\nvideoView.setVideoPath(\"android.resource://\"+getPackageName()+\"/\"+R.raw.videoname;\n\nvideoView.start();\n</pre>\n"},{"tags":[],"owner":{"account_id":18755085,"reputation":69,"user_id":13675293,"display_name":"Riya Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592268888,"creation_date":1592268888,"answer_id":62399339,"question_id":24730087,"body_markdown":"Just Replace your code with this code and it will be working:\r\n```\r\nVideoView videoView = findViewById(R.id.videoView);\r\n        videoView.setVideoPath(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.sample);\r\n        videoView.start();\r\n```","title":"Can&#39;t play this video. Android videoView mp4 recorded by android device","body":"<p>Just Replace your code with this code and it will be working:</p>\n\n<pre><code>VideoView videoView = findViewById(R.id.videoView);\n        videoView.setVideoPath(\"android.resource://\" + getPackageName() + \"/\" + R.raw.sample);\n        videoView.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25568278,"reputation":11,"user_id":19349099,"display_name":"Devpreyo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1655451040,"creation_date":1655451040,"answer_id":72655775,"question_id":24730087,"body_markdown":"I think the issue is with the device on which we try to play video, sometimes it doesn&#39;t support.\r\nI tried running it on Linux emulatoe ","title":"Can&#39;t play this video. Android videoView mp4 recorded by android device","body":"<p>I think the issue is with the device on which we try to play video, sometimes it doesn't support.\nI tried running it on Linux emulatoe</p>\n"}],"owner":{"account_id":2157585,"reputation":15037,"user_id":2129654,"accept_rate":41,"display_name":"Jacob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58843,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":24730207,"answer_count":9,"score":23,"last_activity_date":1655451040,"creation_date":1405316234,"question_id":24730087,"body_markdown":"![enter image description here][1]\r\n\r\nI&#39;ve looked for existing potential solutions with other `formats` and those still responds with mentioned error.\r\n\r\nFinally, recorded the video with the same device and used it as a resource for this app and it still doesn&#39;t work.\r\n\r\nDevices: `SGS2`, lenovo `a820`\r\n\r\nVideo type: `MPEG-4 video (video/mp4)`\r\n\r\n\t\tvideoView = (VideoView)findViewById(R.id.videoView);\r\n\t\tvideoView.setVideoPath(&quot;android.resource://raw/sample.mp4&quot;);\r\n\t\tvideoView.start();\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/3HRE3.png","title":"Can&#39;t play this video. Android videoView mp4 recorded by android device","body":"<p><img src=\"https://i.stack.imgur.com/3HRE3.png\" alt=\"enter image description here\"></p>\n\n<p>I've looked for existing potential solutions with other <code>formats</code> and those still responds with mentioned error.</p>\n\n<p>Finally, recorded the video with the same device and used it as a resource for this app and it still doesn't work.</p>\n\n<p>Devices: <code>SGS2</code>, lenovo <code>a820</code></p>\n\n<p>Video type: <code>MPEG-4 video (video/mp4)</code></p>\n\n<pre><code>    videoView = (VideoView)findViewById(R.id.videoView);\n    videoView.setVideoPath(\"android.resource://raw/sample.mp4\");\n    videoView.start();\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":0,"creation_date":1655447889,"post_id":72655202,"comment_id":128339057,"body_markdown":"tempOTP is null, check if ou are receivin data in the api. Update the request are hiting","body":"tempOTP is null, check if ou are receivin data in the api. Update the request are hiting"}],"answers":[{"tags":[],"owner":{"account_id":18467057,"reputation":52,"user_id":13452926,"display_name":"Mammad Yahyayev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655449554,"creation_date":1655448962,"answer_id":72655420,"question_id":72655202,"body_markdown":"    @Query(value = &quot;select * from session_handling where one_time_password= :otp&quot;, nativeQuery =true)\r\n    public SessionHandling findByOneTimePassword(@Param(&quot;otp&quot;)String tempOtp);\r\n\r\nTry to change your query from above to following\r\n\r\n    @Query(value = &quot;select sh from SessionHandling sh where sh.oneTimePassword = :otp&quot;)\r\n    public SessionHandling findByOneTimePassword(String otp);","title":"How to get data from springboot and compare it?","body":"<pre><code>@Query(value = &quot;select * from session_handling where one_time_password= :otp&quot;, nativeQuery =true)\npublic SessionHandling findByOneTimePassword(@Param(&quot;otp&quot;)String tempOtp);\n</code></pre>\n<p>Try to change your query from above to following</p>\n<pre><code>@Query(value = &quot;select sh from SessionHandling sh where sh.oneTimePassword = :otp&quot;)\npublic SessionHandling findByOneTimePassword(String otp);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11665861,"reputation":41,"user_id":8542610,"display_name":"Mohit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655450702,"creation_date":1655450702,"answer_id":72655713,"question_id":72655202,"body_markdown":"We can try removing the @Query annotation altogether. If we use JpaRepository, we can simply give repository method as findByOneTimePassword(String) method and we&#39;ll get the results as we have column named &quot;oneTimePassword&quot;.\r\n\r\nin your case.. try using below code in repository\r\n\r\n    public SessionHandling findByOneTimePassword(String otp);\r\n\r\nJust make sure camel casing in your model class. (Which you already have)\r\n\r\n    @Column(name = &quot;one_time_password&quot;)\r\n    private String oneTimePassword;","title":"How to get data from springboot and compare it?","body":"<p>We can try removing the @Query annotation altogether. If we use JpaRepository, we can simply give repository method as findByOneTimePassword(String) method and we'll get the results as we have column named &quot;oneTimePassword&quot;.</p>\n<p>in your case.. try using below code in repository</p>\n<pre><code>public SessionHandling findByOneTimePassword(String otp);\n</code></pre>\n<p>Just make sure camel casing in your model class. (Which you already have)</p>\n<pre><code>@Column(name = &quot;one_time_password&quot;)\nprivate String oneTimePassword;\n</code></pre>\n"}],"owner":{"account_id":24170680,"reputation":25,"user_id":18132793,"display_name":"Harshit Toxia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1655450702,"creation_date":1655447646,"question_id":72655202,"body_markdown":"I have made a project where user first register and using the same email and password it will login which will generate a random string and it will be sent to user mail id and also it will be stored in database. Now, I have to validate the user input OTP(random string) with the OTP stored in database to check if user is putting the OTP correct. For that I have written some logic but everytime I check it shows invalid OTP. \r\nHere is my code :\r\n\r\n\r\nOTPMailContoller class :\r\n\r\n```\r\n@PostMapping(&quot;/validate-otp&quot;)\r\n\tpublic SessionHandling validateOtp(@RequestBody SessionHandling otp) throws Exception{\r\n\t\r\n\tString tempOtp = otp.getOneTimePassword();\r\n\t\r\n\tSessionHandling UserOtp = null;\r\n\t\r\n\tif(tempOtp != null) {\r\n\tUserOtp = emailService.fetchUserByOneTimePassword(tempOtp);\r\n\t}\r\n\tif(UserOtp == null){\r\n\t\tthrow new Exception(&quot;invalid otp !!!&quot;);\r\n\t}\r\n\treturn UserOtp;\r\n\t}\r\n```\r\n\r\nService class :\r\n\r\n\r\n```\r\npublic SessionHandling fetchUserByOneTimePassword(String tempOtp) {\r\n\t\treturn repo.findByOneTimePassword(tempOtp);\r\n\t}\r\n```\r\n\r\n\r\nRepository class :\r\n\r\n```\r\n @Query(value = &quot;select * from session_handling where one_time_password= :otp&quot;, nativeQuery =true)\r\n\tpublic SessionHandling findByOneTimePassword(@Param(&quot;otp&quot;)String tempOtp);\r\n```\r\n\r\nModel class :\r\n\r\n```\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate int id;\r\n\tprivate String name;\r\n\tprivate String email;\r\n\tprivate String password;\r\n\tprivate String cpassword;\r\n\t\r\n\tprivate static final long OTP_VALID_DURATION = 5 * 60 * 1000;   // 5 minutes\r\n    \r\n    @Column(name = &quot;one_time_password&quot;)\r\n    private String oneTimePassword;\r\n```\r\n\r\n\r\nError : \r\n\r\n```\r\nInvalid otp !!!\r\n```","title":"How to get data from springboot and compare it?","body":"<p>I have made a project where user first register and using the same email and password it will login which will generate a random string and it will be sent to user mail id and also it will be stored in database. Now, I have to validate the user input OTP(random string) with the OTP stored in database to check if user is putting the OTP correct. For that I have written some logic but everytime I check it shows invalid OTP.\nHere is my code :</p>\n<p>OTPMailContoller class :</p>\n<pre><code>@PostMapping(&quot;/validate-otp&quot;)\n    public SessionHandling validateOtp(@RequestBody SessionHandling otp) throws Exception{\n    \n    String tempOtp = otp.getOneTimePassword();\n    \n    SessionHandling UserOtp = null;\n    \n    if(tempOtp != null) {\n    UserOtp = emailService.fetchUserByOneTimePassword(tempOtp);\n    }\n    if(UserOtp == null){\n        throw new Exception(&quot;invalid otp !!!&quot;);\n    }\n    return UserOtp;\n    }\n</code></pre>\n<p>Service class :</p>\n<pre><code>public SessionHandling fetchUserByOneTimePassword(String tempOtp) {\n        return repo.findByOneTimePassword(tempOtp);\n    }\n</code></pre>\n<p>Repository class :</p>\n<pre><code> @Query(value = &quot;select * from session_handling where one_time_password= :otp&quot;, nativeQuery =true)\n    public SessionHandling findByOneTimePassword(@Param(&quot;otp&quot;)String tempOtp);\n</code></pre>\n<p>Model class :</p>\n<pre><code>    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n    private String name;\n    private String email;\n    private String password;\n    private String cpassword;\n    \n    private static final long OTP_VALID_DURATION = 5 * 60 * 1000;   // 5 minutes\n    \n    @Column(name = &quot;one_time_password&quot;)\n    private String oneTimePassword;\n</code></pre>\n<p>Error :</p>\n<pre><code>Invalid otp !!!\n</code></pre>\n"},{"tags":["java","spring-boot","jmeter"],"answers":[{"tags":[],"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655446058,"creation_date":1655446058,"answer_id":72654978,"question_id":72654792,"body_markdown":"It seems like you&#39;re basically running a DoS attack against your own server.\r\n\r\n 1. Check your server configuration for concurrency (e.g. Tomcat has a &#39;maxThreads&#39;. Apache might have MPM enabled)\r\n 2. Check if your JMeter test produces reasonable load. Does 1 thread represent 1 user? If so, do those users pause between requests? (Use a random wait in JMeter)","title":"Connection refused error when number of threads(users) parameter of JMeter increased","body":"<p>It seems like you're basically running a DoS attack against your own server.</p>\n<ol>\n<li>Check your server configuration for concurrency (e.g. Tomcat has a 'maxThreads'. Apache might have MPM enabled)</li>\n<li>Check if your JMeter test produces reasonable load. Does 1 thread represent 1 user? If so, do those users pause between requests? (Use a random wait in JMeter)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655450434,"creation_date":1655450434,"answer_id":72655660,"question_id":72654792,"body_markdown":"I don&#39;t think your &quot;performance test&quot; makes a lot of sense because:\r\n\r\n 1. You&#39;re running JMeter and the system under test on the same machine, both can be very resource intensive and results won&#39;t be reliable due to [race conditions][1]\r\n 2. You&#39;re running your test in GUI mode, it&#39;s for tests development and debugging, when it comes to tests execution you should be [running your JMeter tests in command-line non-GUI mode][2]\r\n 3. You&#39;re running your tests on a laptop which is not connected to power supply so the power saving mode most likely will cause CPU to throttle\r\n 4. You have a lot of [Listeners enabled][3] which don&#39;t add any value and just consume resources \r\n\r\nComing back to your question I can think of 2 possible reasons:\r\n\r\n 1. You&#39;ve exceeded the maximum number of open connections on the target webserver, check your backend HTTP server documentation to determine how to increase the number of open connections\r\n 2. You&#39;ve exceeded the [maximum number of open connections][4] on your operating system level, check the current limits and amend according to your test scenario.  \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Race_condition\r\n  [2]: https://www.blazemeter.com/blog/dear-abby-blazemeter-how-do-i-run-jmeter-non-gui-mode/\r\n  [3]: https://jmeter.apache.org/usermanual/best-practices.html#lean_mean\r\n  [4]: https://stackoverflow.com/questions/410616/increasing-the-maximum-number-of-tcp-ip-connections-in-linux","title":"Connection refused error when number of threads(users) parameter of JMeter increased","body":"<p>I don't think your &quot;performance test&quot; makes a lot of sense because:</p>\n<ol>\n<li>You're running JMeter and the system under test on the same machine, both can be very resource intensive and results won't be reliable due to <a href=\"https://en.wikipedia.org/wiki/Race_condition\" rel=\"nofollow noreferrer\">race conditions</a></li>\n<li>You're running your test in GUI mode, it's for tests development and debugging, when it comes to tests execution you should be <a href=\"https://www.blazemeter.com/blog/dear-abby-blazemeter-how-do-i-run-jmeter-non-gui-mode/\" rel=\"nofollow noreferrer\">running your JMeter tests in command-line non-GUI mode</a></li>\n<li>You're running your tests on a laptop which is not connected to power supply so the power saving mode most likely will cause CPU to throttle</li>\n<li>You have a lot of <a href=\"https://jmeter.apache.org/usermanual/best-practices.html#lean_mean\" rel=\"nofollow noreferrer\">Listeners enabled</a> which don't add any value and just consume resources</li>\n</ol>\n<p>Coming back to your question I can think of 2 possible reasons:</p>\n<ol>\n<li>You've exceeded the maximum number of open connections on the target webserver, check your backend HTTP server documentation to determine how to increase the number of open connections</li>\n<li>You've exceeded the <a href=\"https://stackoverflow.com/questions/410616/increasing-the-maximum-number-of-tcp-ip-connections-in-linux\">maximum number of open connections</a> on your operating system level, check the current limits and amend according to your test scenario.</li>\n</ol>\n"}],"owner":{"account_id":24913335,"reputation":13,"user_id":18782603,"display_name":"Prabitha "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655450434,"creation_date":1655444569,"question_id":72654792,"body_markdown":"Iam trying to do a performance test against my application via JMeter. When i increase the number of threads(users) more than 100 i&#39;m getting these errors. Please help me to fix this.\r\n    \r\n    NB: This was working fine until i increased the no: of threads to 25000.\r\n        Docker container is up and accepting connections(working fine with Postman)\r\n    [enter image description here][1]\r\n    [enter image description here][2]\r\n    [enter image description here][3]\r\n    \r\n    org.apache.http.conn.HttpHostConnectException: Connect to 127.0.0.1:8080 [/127.0.0.1] failed: Connection refused (Connection refused)\r\n    \tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)\r\n    \tat org.apache.jmeter.protocol.http.sampler.HTTPHC4Impl$JMeterDefaultHttpClientConnectionOperator.connect(HTTPHC4Impl.java:404)\r\n    \tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\r\n    \tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n    \tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n    \tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n    \tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n    \tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n    \tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n    \tat org.apache.jmeter.protocol.http.sampler.HTTPHC4Impl.executeRequest(HTTPHC4Impl.java:935)\r\n    \tat org.apache.jmeter.protocol.http.sampler.HTTPHC4Impl.sample(HTTPHC4Impl.java:646)\r\n    \tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerProxy.sample(HTTPSamplerProxy.java:66)\r\n    \tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1296)\r\n    \tat org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1285)\r\n    \tat org.apache.jmeter.threads.JMeterThread.doSampling(JMeterThread.java:638)\r\n    \tat org.apache.jmeter.threads.JMeterThread.executeSamplePackage(JMeterThread.java:558)\r\n    \tat org.apache.jmeter.threads.JMeterThread.processSampler(JMeterThread.java:489)\r\n    \tat org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:256)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n    \tat java.net.Socket.connect(Socket.java:607)\r\n    \tat org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)\r\n    \tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n    \t... 19 more\r\n    \r\n    \r\n      [1]: https://i.stack.imgur.com/Z6b1h.png\r\n      [2]: https://i.stack.imgur.com/JDWYa.png\r\n      [3]: https://i.stack.imgur.com/4Qtrx.png","title":"Connection refused error when number of threads(users) parameter of JMeter increased","body":"<p>Iam trying to do a performance test against my application via JMeter. When i increase the number of threads(users) more than 100 i'm getting these errors. Please help me to fix this.</p>\n<pre><code>NB: This was working fine until i increased the no: of threads to 25000.\n    Docker container is up and accepting connections(working fine with Postman)\n[enter image description here][1]\n[enter image description here][2]\n[enter image description here][3]\n\norg.apache.http.conn.HttpHostConnectException: Connect to 127.0.0.1:8080 [/127.0.0.1] failed: Connection refused (Connection refused)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)\n    at org.apache.jmeter.protocol.http.sampler.HTTPHC4Impl$JMeterDefaultHttpClientConnectionOperator.connect(HTTPHC4Impl.java:404)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.apache.jmeter.protocol.http.sampler.HTTPHC4Impl.executeRequest(HTTPHC4Impl.java:935)\n    at org.apache.jmeter.protocol.http.sampler.HTTPHC4Impl.sample(HTTPHC4Impl.java:646)\n    at org.apache.jmeter.protocol.http.sampler.HTTPSamplerProxy.sample(HTTPSamplerProxy.java:66)\n    at org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1296)\n    at org.apache.jmeter.protocol.http.sampler.HTTPSamplerBase.sample(HTTPSamplerBase.java:1285)\n    at org.apache.jmeter.threads.JMeterThread.doSampling(JMeterThread.java:638)\n    at org.apache.jmeter.threads.JMeterThread.executeSamplePackage(JMeterThread.java:558)\n    at org.apache.jmeter.threads.JMeterThread.processSampler(JMeterThread.java:489)\n    at org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:256)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n    at java.net.Socket.connect(Socket.java:607)\n    at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    ... 19 more\n\n\n  [1]: https://i.stack.imgur.com/Z6b1h.png\n  [2]: https://i.stack.imgur.com/JDWYa.png\n  [3]: https://i.stack.imgur.com/4Qtrx.png\n</code></pre>\n"},{"tags":["java","spring","jackson","json-deserialization"],"comments":[{"owner":{"account_id":271922,"reputation":8007,"user_id":562721,"accept_rate":43,"display_name":"jny"},"score":0,"creation_date":1494958898,"post_id":44007188,"comment_id":75045882,"body_markdown":"`Matiriel` has references to `Agency` and `Agency` has references to `Matiriel` which lead to circular references. You need to add `@JsonIgnore` to one of them.","body":"<code>Matiriel</code> has references to <code>Agency</code> and <code>Agency</code> has references to <code>Matiriel</code> which lead to circular references. You need to add <code>@JsonIgnore</code> to one of them."}],"answers":[{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494968406,"creation_date":1494968406,"answer_id":44011486,"question_id":44007188,"body_markdown":"You have two domains: Materiel and Agence. When Jackson tries to deserialize Materiel it calls the method `getAgence`. This method returns an Agence object which will be deserialized by Jackson also. When Jackson calls the method `getMeteriels` (of Agence) it returns a Set of Materiel that will deserialize also. The problem is that Jackson will try to deserialize again each Materiel in the Set. A same so question [here](https://stackoverflow.com/questions/17393812/json-and-java-circular-reference).","title":"Deserialize JSON with spring : Unresolved forward references Jackson Exception","body":"<p>You have two domains: Materiel and Agence. When Jackson tries to deserialize Materiel it calls the method <code>getAgence</code>. This method returns an Agence object which will be deserialized by Jackson also. When Jackson calls the method <code>getMeteriels</code> (of Agence) it returns a Set of Materiel that will deserialize also. The problem is that Jackson will try to deserialize again each Materiel in the Set. A same so question <a href=\"https://stackoverflow.com/questions/17393812/json-and-java-circular-reference\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2208575,"reputation":361,"user_id":1951141,"display_name":"Bruno R&#233;gnier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495035231,"creation_date":1495035231,"answer_id":44029205,"question_id":44007188,"body_markdown":"For your last exception (utf-8), you can change the signature of your controller like below :\r\n\r\n    @RequestMapping(method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_VALUE, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;Bean&gt; create(HttpServletRequest  request) throws IOException {\r\n        // getting the posted value\r\n        String body = CharStreams.toString(request.getReader());\r\n        Bean bean = new ObjectMapper().readValue(body, service.getBeanClass());\r\n        bean.setId(null);\r\n\t\tBean saved = service.save(bean);\r\n\t    \r\n\t\tURI location = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{id}&quot;).buildAndExpand(saved.getId()).toUri();\r\n\t\treturn ResponseEntity.created(location).body(saved);\r\n\t}\r\n\r\nWith this solution, you have the entire control of the mapping.\r\n\r\nEnjoy","title":"Deserialize JSON with spring : Unresolved forward references Jackson Exception","body":"<p>For your last exception (utf-8), you can change the signature of your controller like below :</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_VALUE, consumes = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;Bean&gt; create(HttpServletRequest  request) throws IOException {\n    // getting the posted value\n    String body = CharStreams.toString(request.getReader());\n    Bean bean = new ObjectMapper().readValue(body, service.getBeanClass());\n    bean.setId(null);\n    Bean saved = service.save(bean);\n\n    URI location = ServletUriComponentsBuilder.fromCurrentRequest().path(\"/{id}\").buildAndExpand(saved.getId()).toUri();\n    return ResponseEntity.created(location).body(saved);\n}\n</code></pre>\n\n<p>With this solution, you have the entire control of the mapping.</p>\n\n<p>Enjoy</p>\n"},{"tags":[],"owner":{"account_id":10911565,"reputation":231,"user_id":8020803,"display_name":"Quentin Lagadec"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1499684555,"creation_date":1495112721,"answer_id":44048605,"question_id":44007188,"body_markdown":"Ok I found the problem.\r\n\r\nFinally I need to add the resolver. So I find [here](http://www.codegist.net/snippet/java/entityidresolverjava_ftagsold_java) an example of implement `ObjectIDResolver` :\r\n\r\n    import com.fasterxml.jackson.annotation.ObjectIdGenerator;\r\n    import com.fasterxml.jackson.annotation.ObjectIdResolver;\r\n     \r\n    import javax.persistence.EntityManager;\r\n     \r\n    /**\r\n     * @author fta on 20.12.15.\r\n     */\r\n     \r\n    public class EntityIdResolver\r\n            implements ObjectIdResolver {\r\n     \r\n        private EntityManager entityManager;\r\n     \r\n        public EntityIdResolver(\r\n                final EntityManager entityManager) {\r\n     \r\n            this.entityManager = entityManager;\r\n     \r\n        }\r\n     \r\n        @Override\r\n        public void bindItem(\r\n                final ObjectIdGenerator.IdKey id,\r\n                final Object pojo) {\r\n     \r\n        }\r\n     \r\n        @Override\r\n        public Object resolveId(final ObjectIdGenerator.IdKey id) {\r\n     \r\n            return this.entityManager.find(id.scope, id.key);\r\n        }\r\n     \r\n        @Override\r\n        public ObjectIdResolver newForDeserialization(final Object context) {\r\n     \r\n            return this;\r\n        }\r\n     \r\n        @Override\r\n        public boolean canUseFor(final ObjectIdResolver resolverType) {\r\n     \r\n            return false;\r\n        }\r\n     \r\n    }\r\n\r\nAnd next I add in `@JsonIdentityInfo`:\r\n\r\n    @Entity\r\n    @JsonIdentityInfo(\r\n            generator = ObjectIdGenerators.PropertyGenerator.class,\r\n            property = &quot;idAgence&quot;,\r\n            resolver = EntityIdResolver.class,\r\n            scope=Agence.class)\r\n    public class Agence {\r\n        // ... \r\n    }\r\n","title":"Deserialize JSON with spring : Unresolved forward references Jackson Exception","body":"<p>Ok I found the problem.</p>\n\n<p>Finally I need to add the resolver. So I find <a href=\"http://www.codegist.net/snippet/java/entityidresolverjava_ftagsold_java\" rel=\"noreferrer\">here</a> an example of implement <code>ObjectIDResolver</code> :</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.ObjectIdGenerator;\nimport com.fasterxml.jackson.annotation.ObjectIdResolver;\n\nimport javax.persistence.EntityManager;\n\n/**\n * @author fta on 20.12.15.\n */\n\npublic class EntityIdResolver\n        implements ObjectIdResolver {\n\n    private EntityManager entityManager;\n\n    public EntityIdResolver(\n            final EntityManager entityManager) {\n\n        this.entityManager = entityManager;\n\n    }\n\n    @Override\n    public void bindItem(\n            final ObjectIdGenerator.IdKey id,\n            final Object pojo) {\n\n    }\n\n    @Override\n    public Object resolveId(final ObjectIdGenerator.IdKey id) {\n\n        return this.entityManager.find(id.scope, id.key);\n    }\n\n    @Override\n    public ObjectIdResolver newForDeserialization(final Object context) {\n\n        return this;\n    }\n\n    @Override\n    public boolean canUseFor(final ObjectIdResolver resolverType) {\n\n        return false;\n    }\n\n}\n</code></pre>\n\n<p>And next I add in <code>@JsonIdentityInfo</code>:</p>\n\n<pre><code>@Entity\n@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = \"idAgence\",\n        resolver = EntityIdResolver.class,\n        scope=Agence.class)\npublic class Agence {\n    // ... \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3489860,"reputation":2204,"user_id":2919822,"accept_rate":78,"display_name":"JavaDevSweden"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587111439,"creation_date":1587111439,"answer_id":61267020,"question_id":44007188,"body_markdown":"You seem to have a cyclical object graph due to your one-to-many relationship. For those you may use the [JSOG serializer plugin for Jackson][1].\r\n\r\nIt supposedly handles both serialization and deserialization of cyclical object graphs (since Jackson 2.5.1)\r\n\r\n    @JsonIdentityInfo(generator=JSOGGenerator.class)\r\n    public class Person {\r\n        String name;\r\n        Person secretSanta;\r\n    }\r\n\r\n  [1]: https://github.com/jsog/jsog-jackson","title":"Deserialize JSON with spring : Unresolved forward references Jackson Exception","body":"<p>You seem to have a cyclical object graph due to your one-to-many relationship. For those you may use the <a href=\"https://github.com/jsog/jsog-jackson\" rel=\"nofollow noreferrer\">JSOG serializer plugin for Jackson</a>.</p>\n\n<p>It supposedly handles both serialization and deserialization of cyclical object graphs (since Jackson 2.5.1)</p>\n\n<pre><code>@JsonIdentityInfo(generator=JSOGGenerator.class)\npublic class Person {\n    String name;\n    Person secretSanta;\n}\n</code></pre>\n"}],"owner":{"account_id":10911565,"reputation":231,"user_id":8020803,"display_name":"Quentin Lagadec"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13100,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":44048605,"answer_count":4,"score":5,"last_activity_date":1655450391,"creation_date":1494953079,"question_id":44007188,"body_markdown":"I work on API Rest project with Spring. \r\nI have a service &quot;CreateMateriel&quot; which takes as parameter data JSON :\r\n\r\n**JSON of Materiel Object**\r\n\r\n    {\r\n      &quot;agence&quot;: 1, \r\n      &quot;code&quot;: &quot;001&quot;,\r\n      &quot;type&quot;: &quot;MyType&quot;\r\n    }\r\n\r\n&quot;Materiel&quot; has a relation Many to One with &quot;Agence&quot;. I put a @JsonIdentityInfo tag to use Agence&#39;s Id and not Agence&#39;s Object (After seeing [this topic](https://stackoverflow.com/questions/37591778/jackson-with-spring-boot-and-hibernate-create-object-from-id-using-jsonidenti))\r\n\r\n    @JsonIdentityInfo(\r\n            generator = ObjectIdGenerators.PropertyGenerator.class,\r\n            property = &quot;idAgence&quot;)\r\n    @JsonIdentityReference(alwaysAsId = true)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;agence&quot;)\r\n    private Agence agence;\r\n\r\nBut when I send JSON on POST /materiels I have this exception:\r\n\r\n    2017-05-16 18:00:53.021  WARN 8080 --- [nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Failed to read HTTP message: org.springframework.http.converter.HttpMessageNotReadableException: Could not read document: Unresolved forward references for: \r\n     at [Source: java.io.PushbackInputStream@767dfd7a; line: 5, column: 1]Object id [1] (for fr.app.domain.Agence) at [Source: java.io.PushbackInputStream@767dfd7a; line: 2, column: 14].; nested exception is com.fasterxml.jackson.databind.deser.UnresolvedForwardReference: Unresolved forward references for: \r\n     at [Source: java.io.PushbackInputStream@767dfd7a; line: 5, column: 1]Object id [1] (for fr.app.domain.Agence) at [Source: java.io.PushbackInputStream@767dfd7a; line: 2, column: 14].\r\n\r\nAfter many research I have seen the use of ObjectIdResolver in JsonIdentityInfo  ...\r\nBut I think this is not the best solution. This is why I ask for your help in detecting the source of the problem.\r\nThank&#39;s \r\n\r\n**MaterielController.java**\r\n\r\n    package fr.app.controllers;\r\n    \r\n    import fr.app.domain.Materiel;\r\n    import fr.app.services.MaterielService;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import javax.annotation.Resource;\r\n    import java.util.Collection;\r\n    \r\n    @RestController @RequestMapping(value = &quot;/materiels&quot;)\r\n    public class MaterielController {\r\n        @Resource\r\n        private MaterielService materielService;\r\n    \r\n        @RequestMapping(method = RequestMethod.POST)\r\n        public Materiel createMateriel(@RequestBody Materiel materiel) {\r\n            return this.materielService.createMateriel(materiel);\r\n        }\r\n    \r\n        @RequestMapping(method = RequestMethod.GET)\r\n        public Collection&lt;Materiel&gt; getAllMateriels() {\r\n            return this.materielService.getAllMateriels();\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/{code}&quot;, method = RequestMethod.GET)\r\n        public Materiel getMaterielByCode(@PathVariable(value = &quot;code&quot;) String code) {\r\n            //find materiel by code\r\n            return this.materielService.getMaterielByCode(code);\r\n    \r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/{id}&quot;, method = RequestMethod.DELETE)\r\n        public void deleteMateriel(@PathVariable(value = &quot;id&quot;) Long id) {\r\n            this.materielService.deleteMateriel(id);\r\n    \r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/{id}&quot;, method = RequestMethod.PUT)\r\n        public Materiel updateMateriel(@PathVariable(value = &quot;id&quot;) Long id, @RequestBody\r\n                Materiel materiel) {\r\n    \r\n                materiel.setIdMateriel(id);\r\n    \r\n            return this.materielService.updateMateriel(materiel);\r\n    \r\n        }\r\n    }\r\n\r\n**Materiel.java**\r\n    \r\n    package fr.app.domain;\r\n    \r\n    import com.fasterxml.jackson.annotation.*;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    public class Materiel {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long idMateriel;\r\n    \r\n        @Column(name = &quot;type_materiel&quot;, nullable = false)\r\n        private String type;\r\n    \r\n        @Column(name = &quot;code_materiel&quot;, unique = true, nullable = false)\r\n        private String code;\r\n\r\n        @JsonIdentityInfo(\r\n                generator = ObjectIdGenerators.PropertyGenerator.class,\r\n                property = &quot;idAgence&quot;)\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;agence&quot;)\r\n        private Agence agence;\r\n    \r\n        public Materiel() {    }\r\n    \r\n        public Materiel(String type, String code, String dateScan) {\r\n            this.type = type;\r\n            this.code = code;\r\n            this.dateScan = dateScan;\r\n        }\r\n    \r\n        public Long getIdMateriel() {\r\n            return idMateriel;\r\n        }\r\n    \r\n        public String getType() {\r\n            return type;\r\n        }\r\n    \r\n        public void setType(String type) {\r\n            this.type = type;\r\n        }\r\n    \r\n        public String getCode() {\r\n            return code;\r\n        }\r\n    \r\n        public void setCode(String code) {\r\n            this.code = code;\r\n        }\r\n   \r\n        public Agence getAgence() {\r\n            return agence;\r\n        }\r\n    \r\n        public void setAgence(Agence agence) {\r\n            if(this.agence != null)\r\n                this.agence.deleteMateriel(this);\r\n            this.agence = agence;\r\n            this.agence.addMateriel(this);\r\n        }\r\n    }\r\n\r\n**MaterielService.java**\r\n\r\n    package fr.app.services;\r\n    \r\n    import fr.app.domain.Materiel;\r\n    import fr.app.repositories.MaterielRepository;\r\n    import org.apache.commons.collections.IteratorUtils;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import javax.annotation.Resource;\r\n    import java.util.Collection;\r\n    \r\n    @Service(value = &quot;materielService&quot;)\r\n    public class MaterielServiceImpl implements MaterielService {\r\n        @Resource\r\n        private MaterielRepository materielRepository;\r\n    \r\n        ...\r\n    \r\n        @Override\r\n        public Materiel createMateriel(Materiel materiel) {\r\n            return this.materielRepository.save(materiel);\r\n        }\r\n    \r\n       ...\r\n    }\r\n\r\n**Agence.java**\r\n\r\n    package fr.app.domain;\r\n    \r\n    import com.fasterxml.jackson.annotation.*;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    @Entity\r\n    public class Agence {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long idAgence;\r\n    \r\n        @Column(name = &quot;nom&quot;,unique = true, nullable = false)\r\n        private String nom;\r\n    \r\n        @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;agence&quot;)\r\n        private Set&lt;Materiel&gt; materiels = new HashSet&lt;Materiel&gt;();\r\n    \r\n        public Agence() { }\r\n    \r\n        public Agence(String nom) {\r\n            this.nom = nom;\r\n        }\r\n    \r\n        public Long getIdAgence() {\r\n            return idAgence;\r\n        }\r\n    \r\n        public String getNom() {\r\n            return nom;\r\n        }\r\n    \r\n        public void setNom(String nom) {\r\n            this.nom = nom;\r\n        }\r\n\r\n        public Set&lt;Materiel&gt; getMateriels() {\r\n            return materiels;\r\n        }\r\n    \r\n        public void setMateriels(Set&lt;Materiel&gt; materiels) {\r\n            this.materiels = materiels;\r\n        }\r\n    \r\n        public void addMateriel(Materiel materiel) {\r\n            this.materiels.add(materiel);\r\n        }\r\n    \r\n        public void deleteMateriel(Materiel materiel) {\r\n            this.materiels.remove(materiel);\r\n        }\r\n    \r\n    }\r\n\r\n**pom.xml**\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.9.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.9.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.2&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- Needed for JSON View --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n","title":"Deserialize JSON with spring : Unresolved forward references Jackson Exception","body":"<p>I work on API Rest project with Spring. \nI have a service \"CreateMateriel\" which takes as parameter data JSON :</p>\n\n<p><strong>JSON of Materiel Object</strong></p>\n\n<pre><code>{\n  \"agence\": 1, \n  \"code\": \"001\",\n  \"type\": \"MyType\"\n}\n</code></pre>\n\n<p>\"Materiel\" has a relation Many to One with \"Agence\". I put a @JsonIdentityInfo tag to use Agence's Id and not Agence's Object (After seeing <a href=\"https://stackoverflow.com/questions/37591778/jackson-with-spring-boot-and-hibernate-create-object-from-id-using-jsonidenti\">this topic</a>)</p>\n\n<pre><code>@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = \"idAgence\")\n@JsonIdentityReference(alwaysAsId = true)\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = \"agence\")\nprivate Agence agence;\n</code></pre>\n\n<p>But when I send JSON on POST /materiels I have this exception:</p>\n\n<pre><code>2017-05-16 18:00:53.021  WARN 8080 --- [nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Failed to read HTTP message: org.springframework.http.converter.HttpMessageNotReadableException: Could not read document: Unresolved forward references for: \n at [Source: java.io.PushbackInputStream@767dfd7a; line: 5, column: 1]Object id [1] (for fr.app.domain.Agence) at [Source: java.io.PushbackInputStream@767dfd7a; line: 2, column: 14].; nested exception is com.fasterxml.jackson.databind.deser.UnresolvedForwardReference: Unresolved forward references for: \n at [Source: java.io.PushbackInputStream@767dfd7a; line: 5, column: 1]Object id [1] (for fr.app.domain.Agence) at [Source: java.io.PushbackInputStream@767dfd7a; line: 2, column: 14].\n</code></pre>\n\n<p>After many research I have seen the use of ObjectIdResolver in JsonIdentityInfo  ...\nBut I think this is not the best solution. This is why I ask for your help in detecting the source of the problem.\nThank's </p>\n\n<p><strong>MaterielController.java</strong></p>\n\n<pre><code>package fr.app.controllers;\n\nimport fr.app.domain.Materiel;\nimport fr.app.services.MaterielService;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.annotation.Resource;\nimport java.util.Collection;\n\n@RestController @RequestMapping(value = \"/materiels\")\npublic class MaterielController {\n    @Resource\n    private MaterielService materielService;\n\n    @RequestMapping(method = RequestMethod.POST)\n    public Materiel createMateriel(@RequestBody Materiel materiel) {\n        return this.materielService.createMateriel(materiel);\n    }\n\n    @RequestMapping(method = RequestMethod.GET)\n    public Collection&lt;Materiel&gt; getAllMateriels() {\n        return this.materielService.getAllMateriels();\n    }\n\n    @RequestMapping(value = \"/{code}\", method = RequestMethod.GET)\n    public Materiel getMaterielByCode(@PathVariable(value = \"code\") String code) {\n        //find materiel by code\n        return this.materielService.getMaterielByCode(code);\n\n    }\n\n    @RequestMapping(value = \"/{id}\", method = RequestMethod.DELETE)\n    public void deleteMateriel(@PathVariable(value = \"id\") Long id) {\n        this.materielService.deleteMateriel(id);\n\n    }\n\n    @RequestMapping(value = \"/{id}\", method = RequestMethod.PUT)\n    public Materiel updateMateriel(@PathVariable(value = \"id\") Long id, @RequestBody\n            Materiel materiel) {\n\n            materiel.setIdMateriel(id);\n\n        return this.materielService.updateMateriel(materiel);\n\n    }\n}\n</code></pre>\n\n<p><strong>Materiel.java</strong></p>\n\n<pre><code>package fr.app.domain;\n\nimport com.fasterxml.jackson.annotation.*;\n\nimport javax.persistence.*;\n\n@Entity\npublic class Materiel {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long idMateriel;\n\n    @Column(name = \"type_materiel\", nullable = false)\n    private String type;\n\n    @Column(name = \"code_materiel\", unique = true, nullable = false)\n    private String code;\n\n    @JsonIdentityInfo(\n            generator = ObjectIdGenerators.PropertyGenerator.class,\n            property = \"idAgence\")\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"agence\")\n    private Agence agence;\n\n    public Materiel() {    }\n\n    public Materiel(String type, String code, String dateScan) {\n        this.type = type;\n        this.code = code;\n        this.dateScan = dateScan;\n    }\n\n    public Long getIdMateriel() {\n        return idMateriel;\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n    public Agence getAgence() {\n        return agence;\n    }\n\n    public void setAgence(Agence agence) {\n        if(this.agence != null)\n            this.agence.deleteMateriel(this);\n        this.agence = agence;\n        this.agence.addMateriel(this);\n    }\n}\n</code></pre>\n\n<p><strong>MaterielService.java</strong></p>\n\n<pre><code>package fr.app.services;\n\nimport fr.app.domain.Materiel;\nimport fr.app.repositories.MaterielRepository;\nimport org.apache.commons.collections.IteratorUtils;\nimport org.springframework.stereotype.Service;\n\nimport javax.annotation.Resource;\nimport java.util.Collection;\n\n@Service(value = \"materielService\")\npublic class MaterielServiceImpl implements MaterielService {\n    @Resource\n    private MaterielRepository materielRepository;\n\n    ...\n\n    @Override\n    public Materiel createMateriel(Materiel materiel) {\n        return this.materielRepository.save(materiel);\n    }\n\n   ...\n}\n</code></pre>\n\n<p><strong>Agence.java</strong></p>\n\n<pre><code>package fr.app.domain;\n\nimport com.fasterxml.jackson.annotation.*;\n\nimport javax.persistence.*;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Entity\npublic class Agence {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long idAgence;\n\n    @Column(name = \"nom\",unique = true, nullable = false)\n    private String nom;\n\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = \"agence\")\n    private Set&lt;Materiel&gt; materiels = new HashSet&lt;Materiel&gt;();\n\n    public Agence() { }\n\n    public Agence(String nom) {\n        this.nom = nom;\n    }\n\n    public Long getIdAgence() {\n        return idAgence;\n    }\n\n    public String getNom() {\n        return nom;\n    }\n\n    public void setNom(String nom) {\n        this.nom = nom;\n    }\n\n    public Set&lt;Materiel&gt; getMateriels() {\n        return materiels;\n    }\n\n    public void setMateriels(Set&lt;Materiel&gt; materiels) {\n        this.materiels = materiels;\n    }\n\n    public void addMateriel(Materiel materiel) {\n        this.materiels.add(materiel);\n    }\n\n    public void deleteMateriel(Materiel materiel) {\n        this.materiels.remove(materiel);\n    }\n\n}\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n        &lt;version&gt;3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.2.9.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;5.2.9.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.2.2&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Needed for JSON View --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.8.6&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","machine-learning","pmml"],"comments":[{"owner":{"account_id":4112531,"reputation":35547,"user_id":3374996,"display_name":"Vivek Kumar"},"score":0,"creation_date":1491475323,"post_id":43252501,"comment_id":73574285,"body_markdown":"Use the tutorials of PMML and come here with some code in which you are finding difficulties","body":"Use the tutorials of PMML and come here with some code in which you are finding difficulties"}],"answers":[{"tags":[],"owner":{"account_id":10017802,"reputation":3072,"user_id":7408462,"display_name":"Florian H"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1491485545,"creation_date":1491485545,"answer_id":43256741,"question_id":43252501,"body_markdown":"Google: pmml java\r\n\r\nSecond Link is https://github.com/jpmml/jpmml-evaluator\r\n\r\nThere you have a library with examples. So try it and come back if you have problems. ","title":"How to use the PMML model in Java?","body":"<p>Google: pmml java</p>\n\n<p>Second Link is <a href=\"https://github.com/jpmml/jpmml-evaluator\" rel=\"nofollow noreferrer\">https://github.com/jpmml/jpmml-evaluator</a></p>\n\n<p>There you have a library with examples. So try it and come back if you have problems. </p>\n"},{"tags":[],"owner":{"account_id":16339268,"reputation":226,"user_id":11800537,"display_name":"PredictFuture"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567644973,"creation_date":1566438293,"answer_id":57601042,"question_id":43252501,"body_markdown":"Another choice is [PMML4S][1] that is implemented in Scala, but you are free to use it by Scala or Java API. It&#39;s very easy to use, for example:\r\n```\r\nimport org.pmml4s.model.Model;\r\n\r\nModel model = Model.fromFile(&quot;/the/pmml/file/path&quot;);\r\nObject result = model.predict(data)\r\n```\r\nThe data could be in `Map`, `Array`, `A String in JSON`, `Series`, the result type is same as the input. For details how to use PMML4S in Java, you could see the example: https://github.com/autodeployai/pmml4s/blob/master/src/test/java/org/pmml4s/model/JModelTest.java\r\n\r\n\r\n  [1]: https://github.com/autodeployai/pmml4s","title":"How to use the PMML model in Java?","body":"<p>Another choice is <a href=\"https://github.com/autodeployai/pmml4s\" rel=\"nofollow noreferrer\">PMML4S</a> that is implemented in Scala, but you are free to use it by Scala or Java API. It's very easy to use, for example:</p>\n\n<pre><code>import org.pmml4s.model.Model;\n\nModel model = Model.fromFile(\"/the/pmml/file/path\");\nObject result = model.predict(data)\n</code></pre>\n\n<p>The data could be in <code>Map</code>, <code>Array</code>, <code>A String in JSON</code>, <code>Series</code>, the result type is same as the input. For details how to use PMML4S in Java, you could see the example: <a href=\"https://github.com/autodeployai/pmml4s/blob/master/src/test/java/org/pmml4s/model/JModelTest.java\" rel=\"nofollow noreferrer\">https://github.com/autodeployai/pmml4s/blob/master/src/test/java/org/pmml4s/model/JModelTest.java</a></p>\n"},{"tags":[],"owner":{"account_id":9492642,"reputation":1,"user_id":7056852,"display_name":"Musen Li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651901512,"creation_date":1651899974,"answer_id":72149633,"question_id":43252501,"body_markdown":"There is a demo base on high performance and light framework Vert.x: \r\n[vertx-pmml](https://github.com/immusen/vertx-pmml)\r\n\r\nJust config router via Json like this:\r\n\r\n```json\r\n&quot;route&quot;: {\r\n        &quot;/predict/iris&quot;: {\r\n            &quot;access&quot;: &quot;public&quot;,\r\n            &quot;method&quot;: &quot;POST&quot;,\r\n            &quot;actor&quot;: &quot;evaluter.predict&quot;,\r\n            &quot;ext&quot;: {\r\n                &quot;name&quot;: &quot;IRIS_SVC&quot;,\r\n                &quot;pmml&quot;: &quot;.\\\\config\\\\model_svc.pmml&quot;,\r\n                &quot;version&quot;: &quot;1.0.0&quot;\r\n            }\r\n        }\r\n...\r\n```\r\nThen prefect your feature handler(not nescessary if feed a json map match your pmml inputfields):\r\n```java\r\n//src/main/java/com/hirisklab/evaluate/evaluator/actor/EvaluateImpl.java\r\nprivate Future&lt;Map&lt;String, Object&gt;&gt; Featurelize(JsonObject data) {\r\n    Promise&lt;Map&lt;String, Object&gt;&gt; promise = Promise.promise();\r\n    try {\r\n        Map&lt;String, Object&gt; feature = data.getMap();\r\n        // TODO: featurelize with pmml input fields...\r\n        promise.complete(feature);\r\n    } catch (Exception e) {\r\n        promise.fail(e);\r\n    }\r\n    return promise.future();\r\n}\r\n```\r\nThe action assigned in router(actor field) will handle at here:\r\n```java\r\n//src/main/java/com/hirisklab/evaluate/evaluator/actor/EvaluateImpl.java\r\npublic void predict(JsonObject data, Handler&lt;AsyncResult&lt;EvaluateResponse&lt;JsonObject&gt;&gt;&gt; handler) {\r\n    Promise&lt;EvaluateResponse&lt;JsonObject&gt;&gt; promise = Promise.promise();\r\n    try {\r\n        JsonObject profile = Optional.ofNullable(data.getJsonObject(&quot;_EXT&quot;)).orElseThrow(() -&gt; EvaluateException.InvalidConfigException);\r\n        EvaluaterFactory.getEvaluater(profile).onSuccess(evaluater -&gt; {\r\n            Featurelize(data.getJsonObject(&quot;data&quot;)).onSuccess(feature -&gt; {\r\n                evaluater.predict(feature).onSuccess(result -&gt; {\r\n                    promise.complete(new EvaluateResponse&lt;JsonObject&gt;(new JsonObject().put(&quot;raw&quot;, result)));\r\n                }).onFailure(f -&gt; promise.fail(EvaluateException.FailedToPredict));\r\n            }).onFailure(f -&gt; promise.fail(EvaluateException.FailedToFeaturelize));\r\n        }).onFailure(f -&gt; promise.fail(EvaluateException.FailedToLoadEvaluator));\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n        promise.fail(e);\r\n    }\r\n    handler.handle(promise.future());\r\n}\r\n```","title":"How to use the PMML model in Java?","body":"<p>There is a demo base on high performance and light framework Vert.x:\n<a href=\"https://github.com/immusen/vertx-pmml\" rel=\"nofollow noreferrer\">vertx-pmml</a></p>\n<p>Just config router via Json like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;route&quot;: {\n        &quot;/predict/iris&quot;: {\n            &quot;access&quot;: &quot;public&quot;,\n            &quot;method&quot;: &quot;POST&quot;,\n            &quot;actor&quot;: &quot;evaluter.predict&quot;,\n            &quot;ext&quot;: {\n                &quot;name&quot;: &quot;IRIS_SVC&quot;,\n                &quot;pmml&quot;: &quot;.\\\\config\\\\model_svc.pmml&quot;,\n                &quot;version&quot;: &quot;1.0.0&quot;\n            }\n        }\n...\n</code></pre>\n<p>Then prefect your feature handler(not nescessary if feed a json map match your pmml inputfields):</p>\n<pre class=\"lang-java prettyprint-override\"><code>//src/main/java/com/hirisklab/evaluate/evaluator/actor/EvaluateImpl.java\nprivate Future&lt;Map&lt;String, Object&gt;&gt; Featurelize(JsonObject data) {\n    Promise&lt;Map&lt;String, Object&gt;&gt; promise = Promise.promise();\n    try {\n        Map&lt;String, Object&gt; feature = data.getMap();\n        // TODO: featurelize with pmml input fields...\n        promise.complete(feature);\n    } catch (Exception e) {\n        promise.fail(e);\n    }\n    return promise.future();\n}\n</code></pre>\n<p>The action assigned in router(actor field) will handle at here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//src/main/java/com/hirisklab/evaluate/evaluator/actor/EvaluateImpl.java\npublic void predict(JsonObject data, Handler&lt;AsyncResult&lt;EvaluateResponse&lt;JsonObject&gt;&gt;&gt; handler) {\n    Promise&lt;EvaluateResponse&lt;JsonObject&gt;&gt; promise = Promise.promise();\n    try {\n        JsonObject profile = Optional.ofNullable(data.getJsonObject(&quot;_EXT&quot;)).orElseThrow(() -&gt; EvaluateException.InvalidConfigException);\n        EvaluaterFactory.getEvaluater(profile).onSuccess(evaluater -&gt; {\n            Featurelize(data.getJsonObject(&quot;data&quot;)).onSuccess(feature -&gt; {\n                evaluater.predict(feature).onSuccess(result -&gt; {\n                    promise.complete(new EvaluateResponse&lt;JsonObject&gt;(new JsonObject().put(&quot;raw&quot;, result)));\n                }).onFailure(f -&gt; promise.fail(EvaluateException.FailedToPredict));\n            }).onFailure(f -&gt; promise.fail(EvaluateException.FailedToFeaturelize));\n        }).onFailure(f -&gt; promise.fail(EvaluateException.FailedToLoadEvaluator));\n    } catch (Exception e) {\n        e.printStackTrace();\n        promise.fail(e);\n    }\n    handler.handle(promise.future());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21446847,"reputation":421,"user_id":15800270,"display_name":"Aayush Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655449953,"creation_date":1655449953,"answer_id":72655581,"question_id":43252501,"body_markdown":"Here is the simple code that might help you to get the direction:\r\n\r\n```java\r\n// This will load the PMML file\r\nEvaluator evaluator = new LoadingModelEvaluatorBuilder()\r\n                .load(new File(&quot;path\\\\file.pmml&quot;))\r\n                .build();\r\n\r\n\r\n// The internal self check\r\nevaluator.verify();\r\nSystem.out.println(&quot;PMML Loaded&quot;);\r\n\r\n\r\n// This will create the `actual` pipeline from the PMML and load in java\r\nTransformerBuilder pmmlTransformerBuilder = new TransformerBuilder(evaluator)\r\n                .withTargetCols()\r\n                .withOutputCols()\r\n                .exploded(true);\r\n\r\n\r\nSystem.out.println(&quot;Building in...&quot;);\r\nTransformer pmmlTransformer = pmmlTransformerBuilder.build();\r\n\r\n\r\n// Now we are loading the file and converting that into the data frame so that\r\n// we can use it to transform into the prediction into the PMML model\r\nDataset&lt;Row&gt; DF = sparkSession.read()\r\n                .option(&quot;header&quot;, true)\r\n                .option(&quot;inferSchema&quot;, true)\r\n                .csv(&quot;path\\\\file.csv&quot;);\r\nDF.printSchema();\r\n\r\n\r\n// This will predict the new data points from the pipeline\r\nDataset&lt;Row&gt; result = pmmlTransformer.transform(DF);\r\n```\r\n\r\n**NOTE:** Make sure, you are loading the correct csv file there. There should not be any change in the column headers otherwise it will show an error.\r\n\r\nHere is the link: [JPMML-Evaluator](https://github.com/jpmml/jpmml-evaluator) *(the same which is provided by Florian)* to explore more about this.","title":"How to use the PMML model in Java?","body":"<p>Here is the simple code that might help you to get the direction:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// This will load the PMML file\nEvaluator evaluator = new LoadingModelEvaluatorBuilder()\n                .load(new File(&quot;path\\\\file.pmml&quot;))\n                .build();\n\n\n// The internal self check\nevaluator.verify();\nSystem.out.println(&quot;PMML Loaded&quot;);\n\n\n// This will create the `actual` pipeline from the PMML and load in java\nTransformerBuilder pmmlTransformerBuilder = new TransformerBuilder(evaluator)\n                .withTargetCols()\n                .withOutputCols()\n                .exploded(true);\n\n\nSystem.out.println(&quot;Building in...&quot;);\nTransformer pmmlTransformer = pmmlTransformerBuilder.build();\n\n\n// Now we are loading the file and converting that into the data frame so that\n// we can use it to transform into the prediction into the PMML model\nDataset&lt;Row&gt; DF = sparkSession.read()\n                .option(&quot;header&quot;, true)\n                .option(&quot;inferSchema&quot;, true)\n                .csv(&quot;path\\\\file.csv&quot;);\nDF.printSchema();\n\n\n// This will predict the new data points from the pipeline\nDataset&lt;Row&gt; result = pmmlTransformer.transform(DF);\n</code></pre>\n<p><strong>NOTE:</strong> Make sure, you are loading the correct csv file there. There should not be any change in the column headers otherwise it will show an error.</p>\n<p>Here is the link: <a href=\"https://github.com/jpmml/jpmml-evaluator\" rel=\"nofollow noreferrer\">JPMML-Evaluator</a> <em>(the same which is provided by Florian)</em> to explore more about this.</p>\n"}],"owner":{"account_id":10626654,"reputation":49,"user_id":7826101,"display_name":"mathilde"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11006,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":4,"score":3,"last_activity_date":1655449953,"creation_date":1491474458,"question_id":43252501,"body_markdown":"i have build a python file based on randomforestclassifier and made a PMML model, now we need to use this PMML in Java to classify the data into 2 catagories..but this is new to me and i don&#39;t know how to handle the java part..","title":"How to use the PMML model in Java?","body":"<p>i have build a python file based on randomforestclassifier and made a PMML model, now we need to use this PMML in Java to classify the data into 2 catagories..but this is new to me and i don't know how to handle the java part..</p>\n"},{"tags":["java","json","swagger-ui","jsonschema"],"comments":[{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1655451095,"post_id":72655474,"comment_id":128339956,"body_markdown":"Does this answer your question? -- [Reference remote enum values in JSON Schema](https://stackoverflow.com/q/63252555/113116)","body":"Does this answer your question? -- <a href=\"https://stackoverflow.com/q/63252555/113116\">Reference remote enum values in JSON Schema</a>"},{"owner":{"account_id":67639,"reputation":16346,"user_id":197831,"accept_rate":89,"display_name":"M.J."},"score":0,"creation_date":1655454163,"post_id":72655474,"comment_id":128341036,"body_markdown":"Thanks Helen for commenting. This answers one part of the problem where we can invoke something over rest API. but what about generating the schema with values present and evreytime I generate it update those values.","body":"Thanks Helen for commenting. This answers one part of the problem where we can invoke something over rest API. but what about generating the schema with values present and evreytime I generate it update those values."}],"owner":{"account_id":67639,"reputation":16346,"user_id":197831,"accept_rate":89,"display_name":"M.J."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655449253,"creation_date":1655449253,"question_id":72655474,"body_markdown":"I am looking for a way where I can render my react UI using JSON schema and frankly, I am able to solve most of the problems and am currently stuck with just one. I have one object which references an attribute whose values are backed by a database (reference data) not ENUM. Below is one such example.\r\n\r\n```\r\n{\r\n  &quot;type&quot;: &quot;object&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;animal&quot;: {\r\n      &quot;enum&quot;: [\r\n        &quot;Cat&quot;,\r\n        &quot;Fish&quot;\r\n      ]\r\n    }\r\n  }\r\n}\r\n```\r\nIn the above example, I have an object with an attribute animal that is a dropdown and has fixed values. I can define it as Enum and then it works without any issues. but whenever I need to add a new animal I need to add an enum and release changes which is not an ideal way.\r\n\r\nQuestion: is there a way where the values of these attributes can be backed by either a Rest API which can return a List of values or during Json Schema generation using Swagger we can introspect and then call some method to provide the values?","title":"Generating Json schema with dynamic enum values associated with database","body":"<p>I am looking for a way where I can render my react UI using JSON schema and frankly, I am able to solve most of the problems and am currently stuck with just one. I have one object which references an attribute whose values are backed by a database (reference data) not ENUM. Below is one such example.</p>\n<pre><code>{\n  &quot;type&quot;: &quot;object&quot;,\n  &quot;properties&quot;: {\n    &quot;animal&quot;: {\n      &quot;enum&quot;: [\n        &quot;Cat&quot;,\n        &quot;Fish&quot;\n      ]\n    }\n  }\n}\n</code></pre>\n<p>In the above example, I have an object with an attribute animal that is a dropdown and has fixed values. I can define it as Enum and then it works without any issues. but whenever I need to add a new animal I need to add an enum and release changes which is not an ideal way.</p>\n<p>Question: is there a way where the values of these attributes can be backed by either a Rest API which can return a List of values or during Json Schema generation using Swagger we can introspect and then call some method to provide the values?</p>\n"},{"tags":["java","apache-kafka","spring-cloud-stream","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1544538361,"creation_date":1544538361,"answer_id":53726209,"question_id":53721189,"body_markdown":"The only solution I am aware of is to tweak those two properties (or reduce the time taken by the listener). ","title":"Handling backpressure and avoiding rebalances on a slow consumer kafka","body":"<p>The only solution I am aware of is to tweak those two properties (or reduce the time taken by the listener). </p>\n"},{"tags":[],"owner":{"account_id":4998979,"reputation":1614,"user_id":4018558,"accept_rate":33,"display_name":"posthumecaver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655449232,"creation_date":1655449232,"answer_id":72655472,"question_id":53721189,"body_markdown":"If you need backpressure mechanism for Kafka, I am afraid you need help form additional frameworks like Akka&#39;a [Alpakka Kafka][1] with their [contributions][3] to Kafka code base.\r\n\r\nIf you need sample code, you can look my blogs, [blog1][2], [blog2][4].\r\n\r\n\r\n  [1]: https://doc.akka.io/docs/akka/current/stream/stream-flows-and-basics.html#back-pressure-explained\r\n  [2]: https://mehmetsalgar.wordpress.com/2022/05/17/alpakka-kafka-stream-and-akka-finite-state-machine/\r\n  [3]: https://www.lightbend.com/blog/alpakka-kafka-flow-control-optimizations\r\n  [4]: https://mehmetsalgar.wordpress.com/2022/04/18/a-model-driven-event-sourced-cloud-ready-application-with-akka-finite-state-machine-using-kafka-cassandra-and-elasticsearch/","title":"Handling backpressure and avoiding rebalances on a slow consumer kafka","body":"<p>If you need backpressure mechanism for Kafka, I am afraid you need help form additional frameworks like Akka'a <a href=\"https://doc.akka.io/docs/akka/current/stream/stream-flows-and-basics.html#back-pressure-explained\" rel=\"nofollow noreferrer\">Alpakka Kafka</a> with their <a href=\"https://www.lightbend.com/blog/alpakka-kafka-flow-control-optimizations\" rel=\"nofollow noreferrer\">contributions</a> to Kafka code base.</p>\n<p>If you need sample code, you can look my blogs, <a href=\"https://mehmetsalgar.wordpress.com/2022/05/17/alpakka-kafka-stream-and-akka-finite-state-machine/\" rel=\"nofollow noreferrer\">blog1</a>, <a href=\"https://mehmetsalgar.wordpress.com/2022/04/18/a-model-driven-event-sourced-cloud-ready-application-with-akka-finite-state-machine-using-kafka-cassandra-and-elasticsearch/\" rel=\"nofollow noreferrer\">blog2</a>.</p>\n"}],"owner":{"account_id":2752887,"reputation":199,"user_id":2371852,"accept_rate":100,"display_name":"Radu Stefan Popescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2874,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53726209,"answer_count":2,"score":1,"last_activity_date":1655449232,"creation_date":1544520942,"question_id":53721189,"body_markdown":"The use case is that my consumer does some I/O job that takes a long time, occasionally. I am using Spring 2.0.1 and ``&lt;spring-cloud.version&gt;Elmhurst.RELEASE&lt;/spring-cloud.version&lt;/spring-cloud.version&gt;`` \r\n\r\nThe initial solution was to set ``max.poll.interval.ms`` to a higher value and ``max.poll.records`` to a lower value than default. This did reduce the number of rebalances but there are still cases when the I/O operations take longer than ``max.poll.interval.ms`` and rebalances are quite costly, generating quite some lag. Should there be no rebalances the processing would finish in a timely manner, even considering the situations when the I/O duration spikes.\r\n\r\nWhat settings and code or architecture could I use to make the system both responsive (rebalance when a consumer is actually blocked) without triggering rebalances when one consumer takes an unusually long time to process a message?","title":"Handling backpressure and avoiding rebalances on a slow consumer kafka","body":"<p>The use case is that my consumer does some I/O job that takes a long time, occasionally. I am using Spring 2.0.1 and <code>&lt;spring-cloud.version&gt;Elmhurst.RELEASE&lt;/spring-cloud.version&lt;/spring-cloud.version&gt;</code> </p>\n\n<p>The initial solution was to set <code>max.poll.interval.ms</code> to a higher value and <code>max.poll.records</code> to a lower value than default. This did reduce the number of rebalances but there are still cases when the I/O operations take longer than <code>max.poll.interval.ms</code> and rebalances are quite costly, generating quite some lag. Should there be no rebalances the processing would finish in a timely manner, even considering the situations when the I/O duration spikes.</p>\n\n<p>What settings and code or architecture could I use to make the system both responsive (rebalance when a consumer is actually blocked) without triggering rebalances when one consumer takes an unusually long time to process a message?</p>\n"},{"tags":["java","spring-boot","import","sas","file-type"],"comments":[{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":2,"creation_date":1639404588,"post_id":70335928,"comment_id":124332858,"body_markdown":"Take a look at https://github.com/epam/parso to read .sas7bdat files","body":"Take a look at <a href=\"https://github.com/epam/parso\" rel=\"nofollow noreferrer\">github.com/epam/parso</a> to read .sas7bdat files"}],"answers":[{"tags":[],"owner":{"account_id":5183056,"reputation":554,"user_id":11355968,"display_name":"AlanC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639410121,"creation_date":1639410121,"answer_id":70337245,"question_id":70335928,"body_markdown":"The sas7bdat is a binary, proprietary format. Its layout has never been made public. Some people have figured it out (like the parso mentioned in the comment). If you really want to go down this path, use the python library as a guide. It will help with sas7bdat and sas7bcat. For the old SAS transport format, see my library on GitHub which is in C#. The new transport format appears to have some incorrect information in its description on the SAS website which I couldn&#39;t get around. I have put my code on GitHub in case you want to try.\r\n\r\nAll that said, let me offer a few words of wisdom: don&#39;t do it. Use the python library vs doing it in Java. Also, these libraries read the format vs having read/write. Keep that in mind (it sounds like it doesn&#39;t matter but FYI). \r\n","title":"Is there any way I can try to read files with suffix like &#39;.sas7bdat&#39;, &#39;.dta&#39;, &#39;.sav&#39; and &#39;.xpt&#39; by using JAVA？","body":"<p>The sas7bdat is a binary, proprietary format. Its layout has never been made public. Some people have figured it out (like the parso mentioned in the comment). If you really want to go down this path, use the python library as a guide. It will help with sas7bdat and sas7bcat. For the old SAS transport format, see my library on GitHub which is in C#. The new transport format appears to have some incorrect information in its description on the SAS website which I couldn't get around. I have put my code on GitHub in case you want to try.</p>\n<p>All that said, let me offer a few words of wisdom: don't do it. Use the python library vs doing it in Java. Also, these libraries read the format vs having read/write. Keep that in mind (it sounds like it doesn't matter but FYI).</p>\n"}],"owner":{"account_id":13764036,"reputation":1,"user_id":9933030,"display_name":"chuanguojinbo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655448872,"creation_date":1639404248,"question_id":70335928,"body_markdown":"I am working on a module, which can import different kinds of files(currently those file types are SAS output format). Of course, this module is written by java, springboot. The main logic is that when user upload a file, the controller will pass the file inputstream to this module, and call the corresponding method by the file&#39;s suffix.\r\nI have done some investigation and found that R-language and python could do this. Can anybody tell me whether there is another way, I mean, can do this job only by JAVA. Thanks.","title":"Is there any way I can try to read files with suffix like &#39;.sas7bdat&#39;, &#39;.dta&#39;, &#39;.sav&#39; and &#39;.xpt&#39; by using JAVA？","body":"<p>I am working on a module, which can import different kinds of files(currently those file types are SAS output format). Of course, this module is written by java, springboot. The main logic is that when user upload a file, the controller will pass the file inputstream to this module, and call the corresponding method by the file's suffix.\nI have done some investigation and found that R-language and python could do this. Can anybody tell me whether there is another way, I mean, can do this job only by JAVA. Thanks.</p>\n"},{"tags":["java","kotlin","gradle","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655448762,"creation_date":1655448762,"answer_id":72655390,"question_id":72654661,"body_markdown":"### Fixing your configuration\r\n\r\nThere&#39;s an example here on how to set up this third party code generation plugin to use a custom strategy:\r\nhttps://github.com/etiennestuder/gradle-jooq-plugin/tree/master/example/configure_custom_generator_strategy\r\n\r\nAs you can see, the dependency is specified as:\r\n\r\n```\r\njooqGenerator project(&#39;:backend-jooq-config&#39;)\r\n```\r\n\r\nNot\r\n\r\n```\r\nimplementation project(&#39;:backend-jooq-config&#39;)\r\n```\r\n\r\n### Using a declarative configuration instead\r\n\r\nFor such simple cases, jOOQ also offers an out-of-the-box configuration called &quot;[matcher strategy][1],&quot; where it matches names and replaces them by something else. E.g.\r\n\r\n```\r\ngenerator {\r\n  strategy {\r\n    matchers {\r\n      tables {\r\n        table {\r\n          pojoClass {\r\n            transform = &#39;PASCAL&#39;\r\n            expression = &#39;\\$0_POJO&#39;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-matcherstrategy/","title":"jOOQ codegen strategy class not found","body":"<h3>Fixing your configuration</h3>\n<p>There's an example here on how to set up this third party code generation plugin to use a custom strategy:\n<a href=\"https://github.com/etiennestuder/gradle-jooq-plugin/tree/master/example/configure_custom_generator_strategy\" rel=\"nofollow noreferrer\">https://github.com/etiennestuder/gradle-jooq-plugin/tree/master/example/configure_custom_generator_strategy</a></p>\n<p>As you can see, the dependency is specified as:</p>\n<pre><code>jooqGenerator project(':backend-jooq-config')\n</code></pre>\n<p>Not</p>\n<pre><code>implementation project(':backend-jooq-config')\n</code></pre>\n<h3>Using a declarative configuration instead</h3>\n<p>For such simple cases, jOOQ also offers an out-of-the-box configuration called &quot;<a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-matcherstrategy/\" rel=\"nofollow noreferrer\">matcher strategy</a>,&quot; where it matches names and replaces them by something else. E.g.</p>\n<pre><code>generator {\n  strategy {\n    matchers {\n      tables {\n        table {\n          pojoClass {\n            transform = 'PASCAL'\n            expression = '\\$0_POJO'\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3013537,"reputation":7735,"user_id":3322533,"accept_rate":65,"display_name":"User1291"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72655390,"answer_count":1,"score":1,"last_activity_date":1655448762,"creation_date":1655443463,"question_id":72654661,"body_markdown":"I&#39;m trying to add a `-Pojo` suffix to my generated jOOQ pojos.\r\n\r\nThe strategy implementation is straightforward enough:\r\n\r\n```\r\npackage my.app.jooq.strategy\r\n\r\nimport org.jooq.codegen.DefaultGeneratorStrategy\r\nimport org.jooq.codegen.GeneratorStrategy\r\nimport org.jooq.codegen.GeneratorStrategy.Mode.POJO\r\nimport org.jooq.meta.Definition\r\n\r\nclass MyGeneratorStrategy : DefaultGeneratorStrategy() {\r\n    override fun getJavaClassName(definition: Definition, mode: GeneratorStrategy.Mode): String {\r\n        return when (mode) {\r\n            POJO -&gt; super.getJavaClassName(definition, mode) + &quot;Pojo&quot;\r\n            else -&gt; super.getJavaClassName(definition, mode)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nbut codegen just refuses to pick it up. (`ClassNotFoundException`).\r\n\r\nAccording to https://groups.google.com/g/jooq-user/c/LM5ioRHNhJw : \r\n\r\n&gt;  you would have to create a separate project/module only for that strategy class, in order to create a dependency graph like so:\r\n&gt; 1. Code generation module... depends on\r\n&gt; 2. Strategy module... depends on\r\n&gt; 3. jOOQ libraries\r\n\r\nso I did... jOOQ doesn&#39;t care.\r\n\r\n```\r\nPM org.jooq.tools.JooqLogger error\r\nSEVERE: Error in file: /home/user/code/my-app/backend/db/build/tmp/generateMyAppJooq/config.xml. Error : my.app.jooq.strategy.MyGeneratorStrategy\r\njava.lang.ClassNotFoundException: my.app.jooq.strategy.MyGeneratorStrategy\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat org.jooq.codegen.GenerationTool.loadClass0(GenerationTool.java:1075)\r\n\tat org.jooq.codegen.GenerationTool.loadClass(GenerationTool.java:1005)\r\n\tat org.jooq.codegen.GenerationTool.run0(GenerationTool.java:405)\r\n\tat org.jooq.codegen.GenerationTool.run(GenerationTool.java:233)\r\n\tat org.jooq.codegen.GenerationTool.generate(GenerationTool.java:228)\r\n\tat org.jooq.codegen.GenerationTool.main(GenerationTool.java:200)\r\n```\r\n\r\nhere&#39;s how the codegen module is set up:\r\n\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;nu.studer.jooq&#39; version &quot;${plugin_jooq}&quot;\r\n    id &#39;io.spring.dependency-management&#39;\r\n}\r\n\r\ndependencyManagement {\r\n    imports {\r\n        mavenBom SpringBootPlugin.BOM_COORDINATES\r\n        mavenBom &quot;org.jetbrains.kotlin:kotlin-bom:${fw_kotlin}&quot;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    api &quot;org.postgresql:postgresql&quot;\r\n\r\n    implementation project(&quot;:backend-jooq-config&quot;)\r\n\r\n    api &quot;org.springframework.boot:spring-boot-starter-jooq&quot;\r\n    implementation &quot;org.jooq:jooq-meta&quot;\r\n    implementation &quot;org.jooq:jooq-codegen&quot;\r\n\r\n    jooqGenerator &quot;org.postgresql:postgresql&quot;\r\n}\r\n\r\njooq {\r\n    version = dependencyManagement.importedProperties[&#39;jooq.version&#39;]\r\n    edition = nu.studer.gradle.jooq.JooqEdition.OSS\r\n\r\n    configurations {\r\n        myApp {\r\n            generateSchemaSourceOnCompilation = true\r\n\r\n            generationTool {\r\n                logging = org.jooq.meta.jaxb.Logging.WARN\r\n                jdbc {\r\n                    driver = &#39;org.postgresql.Driver&#39;\r\n                    url = &#39;jdbc:postgresql://localhost:5432/myapp&#39;\r\n                    user = &#39;user&#39;\r\n                    password = &#39;password&#39;\r\n                    properties {\r\n                        property {\r\n                            key = &#39;PAGE_SIZE&#39;\r\n                            value = 2048\r\n                        }\r\n                    }\r\n                }\r\n                generator {\r\n                    name = &#39;org.jooq.codegen.DefaultGenerator&#39;\r\n                    strategy {\r\n                        name = &#39;my.app.jooq.strategy.MyGeneratorStrategy&#39;\r\n                    }\r\n                    database {\r\n                        name = &#39;org.jooq.meta.postgres.PostgresDatabase&#39;\r\n                        inputSchema = &#39;public&#39;\r\n                        includes = &#39;.*&#39;\r\n                        excludes = &#39;&#39;\r\n                    }\r\n                    generate {\r\n                        daos = true\r\n                        springAnnotations = true\r\n                    }\r\n                    target {\r\n                        directory = &#39;src/main/java&#39;\r\n                        packageName = &#39;my.app.db&#39;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI don&#39;t see what I&#39;m doing wrong.\r\n\r\nAnd yes, the strategy is being compiled:\r\n\r\n```\r\nfind .. -name &quot;*GeneratorStrategy*&quot;\r\n../backend/jooq-config/build/classes/kotlin/main/my/app/jooq/strategy/MyGeneratorStrategy.class\r\n../backend/jooq-config/build/classes/kotlin/main/my/app/jooq/strategy/MyGeneratorStrategy$WhenMappings.class\r\n../backend/jooq-config/src/main/kotlin/my/app/jooq/strategy/MyGeneratorStrategy.kt\r\n```\r\n\r\nhow do I resolve this?","title":"jOOQ codegen strategy class not found","body":"<p>I'm trying to add a <code>-Pojo</code> suffix to my generated jOOQ pojos.</p>\n<p>The strategy implementation is straightforward enough:</p>\n<pre><code>package my.app.jooq.strategy\n\nimport org.jooq.codegen.DefaultGeneratorStrategy\nimport org.jooq.codegen.GeneratorStrategy\nimport org.jooq.codegen.GeneratorStrategy.Mode.POJO\nimport org.jooq.meta.Definition\n\nclass MyGeneratorStrategy : DefaultGeneratorStrategy() {\n    override fun getJavaClassName(definition: Definition, mode: GeneratorStrategy.Mode): String {\n        return when (mode) {\n            POJO -&gt; super.getJavaClassName(definition, mode) + &quot;Pojo&quot;\n            else -&gt; super.getJavaClassName(definition, mode)\n        }\n    }\n}\n</code></pre>\n<p>but codegen just refuses to pick it up. (<code>ClassNotFoundException</code>).</p>\n<p>According to <a href=\"https://groups.google.com/g/jooq-user/c/LM5ioRHNhJw\" rel=\"nofollow noreferrer\">https://groups.google.com/g/jooq-user/c/LM5ioRHNhJw</a> :</p>\n<blockquote>\n<p>you would have to create a separate project/module only for that strategy class, in order to create a dependency graph like so:</p>\n<ol>\n<li>Code generation module... depends on</li>\n<li>Strategy module... depends on</li>\n<li>jOOQ libraries</li>\n</ol>\n</blockquote>\n<p>so I did... jOOQ doesn't care.</p>\n<pre><code>PM org.jooq.tools.JooqLogger error\nSEVERE: Error in file: /home/user/code/my-app/backend/db/build/tmp/generateMyAppJooq/config.xml. Error : my.app.jooq.strategy.MyGeneratorStrategy\njava.lang.ClassNotFoundException: my.app.jooq.strategy.MyGeneratorStrategy\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    at org.jooq.codegen.GenerationTool.loadClass0(GenerationTool.java:1075)\n    at org.jooq.codegen.GenerationTool.loadClass(GenerationTool.java:1005)\n    at org.jooq.codegen.GenerationTool.run0(GenerationTool.java:405)\n    at org.jooq.codegen.GenerationTool.run(GenerationTool.java:233)\n    at org.jooq.codegen.GenerationTool.generate(GenerationTool.java:228)\n    at org.jooq.codegen.GenerationTool.main(GenerationTool.java:200)\n</code></pre>\n<p>here's how the codegen module is set up:</p>\n<pre><code>plugins {\n    id 'nu.studer.jooq' version &quot;${plugin_jooq}&quot;\n    id 'io.spring.dependency-management'\n}\n\ndependencyManagement {\n    imports {\n        mavenBom SpringBootPlugin.BOM_COORDINATES\n        mavenBom &quot;org.jetbrains.kotlin:kotlin-bom:${fw_kotlin}&quot;\n    }\n}\n\ndependencies {\n    api &quot;org.postgresql:postgresql&quot;\n\n    implementation project(&quot;:backend-jooq-config&quot;)\n\n    api &quot;org.springframework.boot:spring-boot-starter-jooq&quot;\n    implementation &quot;org.jooq:jooq-meta&quot;\n    implementation &quot;org.jooq:jooq-codegen&quot;\n\n    jooqGenerator &quot;org.postgresql:postgresql&quot;\n}\n\njooq {\n    version = dependencyManagement.importedProperties['jooq.version']\n    edition = nu.studer.gradle.jooq.JooqEdition.OSS\n\n    configurations {\n        myApp {\n            generateSchemaSourceOnCompilation = true\n\n            generationTool {\n                logging = org.jooq.meta.jaxb.Logging.WARN\n                jdbc {\n                    driver = 'org.postgresql.Driver'\n                    url = 'jdbc:postgresql://localhost:5432/myapp'\n                    user = 'user'\n                    password = 'password'\n                    properties {\n                        property {\n                            key = 'PAGE_SIZE'\n                            value = 2048\n                        }\n                    }\n                }\n                generator {\n                    name = 'org.jooq.codegen.DefaultGenerator'\n                    strategy {\n                        name = 'my.app.jooq.strategy.MyGeneratorStrategy'\n                    }\n                    database {\n                        name = 'org.jooq.meta.postgres.PostgresDatabase'\n                        inputSchema = 'public'\n                        includes = '.*'\n                        excludes = ''\n                    }\n                    generate {\n                        daos = true\n                        springAnnotations = true\n                    }\n                    target {\n                        directory = 'src/main/java'\n                        packageName = 'my.app.db'\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I don't see what I'm doing wrong.</p>\n<p>And yes, the strategy is being compiled:</p>\n<pre><code>find .. -name &quot;*GeneratorStrategy*&quot;\n../backend/jooq-config/build/classes/kotlin/main/my/app/jooq/strategy/MyGeneratorStrategy.class\n../backend/jooq-config/build/classes/kotlin/main/my/app/jooq/strategy/MyGeneratorStrategy$WhenMappings.class\n../backend/jooq-config/src/main/kotlin/my/app/jooq/strategy/MyGeneratorStrategy.kt\n</code></pre>\n<p>how do I resolve this?</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":543740,"reputation":5767,"user_id":912935,"accept_rate":100,"display_name":"The111"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1594602640,"creation_date":1425114605,"answer_id":28780030,"question_id":28779999,"body_markdown":"I believe that [`verifyNoInteractions`](https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#verifyNoInteractions-java.lang.Object...-) might be what you&#39;re looking for.  In your case you&#39;d call `Mockito.verifyNoInteractions(A)`.\r\n\r\n`public static void verifyNoInteractions(java.lang.Object... mocks)`\r\n\r\n    Verifies that no interactions happened on given mocks. \r\n\r\n[https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#verifyNoInteractions-java.lang.Object...-](https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#verifyNoInteractions-java.lang.Object...-)","title":"Mockito - check if NO method was called on an object(object was not accessed)","body":"<p>I believe that <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#verifyNoInteractions-java.lang.Object...-\" rel=\"nofollow noreferrer\"><code>verifyNoInteractions</code></a> might be what you're looking for.  In your case you'd call <code>Mockito.verifyNoInteractions(A)</code>.</p>\n<p><code>public static void verifyNoInteractions(java.lang.Object... mocks)</code></p>\n<pre><code>Verifies that no interactions happened on given mocks. \n</code></pre>\n<p><a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#verifyNoInteractions-java.lang.Object...-\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#verifyNoInteractions-java.lang.Object...-</a></p>\n"}],"owner":{"account_id":1241991,"reputation":5769,"user_id":1204377,"accept_rate":96,"display_name":"Anton Cherkashyn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5186,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":28780030,"answer_count":1,"score":12,"last_activity_date":1655448619,"creation_date":1425114442,"question_id":28779999,"body_markdown":"I want to write a test that passes a mock object A into an object under test B and checks if ANY of the methods of A were called. To give some context, class B is designed to manipulate A in a specific way, based on a set of parameters, and under certain conditions it shouldn&#39;t do anything to it at all. So my goal is to test that scenario. I know how to test whether a specific method was called or not:\r\n\r\n    verify(A, never()).myMethod();\r\n\r\nBut I can&#39;t find a way to make sure that NONE of the methods A has were called. Is there a way to do this?","title":"Mockito - check if NO method was called on an object(object was not accessed)","body":"<p>I want to write a test that passes a mock object A into an object under test B and checks if ANY of the methods of A were called. To give some context, class B is designed to manipulate A in a specific way, based on a set of parameters, and under certain conditions it shouldn't do anything to it at all. So my goal is to test that scenario. I know how to test whether a specific method was called or not:</p>\n\n<pre><code>verify(A, never()).myMethod();\n</code></pre>\n\n<p>But I can't find a way to make sure that NONE of the methods A has were called. Is there a way to do this?</p>\n"},{"tags":["java","node.js","encryption","block-cipher"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655446197,"creation_date":1655405372,"answer_id":72650612,"question_id":72647764,"body_markdown":"Since you only posted a NodeJS decryption code, I focus on decryption. The encryption is to be implemented analogously. If you have problems with this, please post a new question with the corresponding encryption code.\r\n\r\nThere are several bugs in the NodeJS code:\r\n- Wrong key derivation (in the NodeJS code scrypt is used, while in the Java code PBKDF2/HMAC-SHA1 is applied).\r\n- Incorrect/missing separation of salt, IV and ciphertext\r\n- Encoding bugs and unnecessary encoding/decoding cycles\r\n\r\nThe following NodeJS code works:\r\n\r\n```js\r\nvar crypto = require(&#39;crypto&#39;)\r\n\r\nfunction getAlgorithm(key) {\r\n   switch (key.length) {\r\n    case 16:\r\n      return &quot;aes-128-cbc&quot;;\r\n    case 32:\r\n      return &quot;aes-256-cbc&quot;;\r\n  }\r\n  throw new Error(&quot;Invalid key length: &quot; + key.length);\r\n}\r\n\r\nfunction decrypt(message, key, iv) {\r\n  const decipher = crypto.createDecipheriv(\r\n    getAlgorithm(key),\r\n    key,\r\n    iv\r\n  );\r\n  let decrypted = Buffer.concat([decipher.update(message), decipher.final()]);\r\n  return decrypted.toString(&quot;utf8&quot;);\r\n}\r\n\r\nconst DYN_SALT_LENGTH = 10;\r\nconst IV_LENGTH = 16;\r\nconst ITERATION_COUNT = 65556;\r\nconst KEY_LENGTH = 256;\r\n\r\nconst base64Encrypted = &quot;ossqoyCaaQINWUkTsHNGRe5Isd5s7c7U8KcLua78Ehm9jAxQNOd2tyjj&quot;;\r\n\r\n// Separate salt, IV and ciphertext\r\nconst encrypted = Buffer.from(base64Encrypted, &quot;base64&quot;);\r\nconst salt = encrypted.slice(0, DYN_SALT_LENGTH);\r\nconst iv = encrypted.slice(DYN_SALT_LENGTH, DYN_SALT_LENGTH + IV_LENGTH);\r\nconst ciphertext = encrypted.slice(DYN_SALT_LENGTH + IV_LENGTH);\r\n\r\n// Derive key voa PBKDF2/HMAC-SHA1\r\nconst key = crypto.pbkdf2Sync(&quot;password&quot;, &quot;salt&quot;, ITERATION_COUNT, KEY_LENGTH/8, &quot;sha1&quot;);\r\n\r\n// Decrypt\r\nconst result = decrypt(\r\n  ciphertext,\r\n  key,\r\n  iv\r\n);\r\nconsole.log(result); // hello world\r\n```\r\n\r\nNote that the current Java code (and therefore also the NodeJS code) does not use the random salt for key derivation, but a static salt, possibly for testing purposes. In the final solution, the random salt is to be used for security reasons. ","title":"AES/CBC/PKCS5Padding nodejs encryption","body":"<p>Since you only posted a NodeJS decryption code, I focus on decryption. The encryption is to be implemented analogously. If you have problems with this, please post a new question with the corresponding encryption code.</p>\n<p>There are several bugs in the NodeJS code:</p>\n<ul>\n<li>Wrong key derivation (in the NodeJS code scrypt is used, while in the Java code PBKDF2/HMAC-SHA1 is applied).</li>\n<li>Incorrect/missing separation of salt, IV and ciphertext</li>\n<li>Encoding bugs and unnecessary encoding/decoding cycles</li>\n</ul>\n<p>The following NodeJS code works:</p>\n<pre class=\"lang-js prettyprint-override\"><code>var crypto = require('crypto')\n\nfunction getAlgorithm(key) {\n   switch (key.length) {\n    case 16:\n      return &quot;aes-128-cbc&quot;;\n    case 32:\n      return &quot;aes-256-cbc&quot;;\n  }\n  throw new Error(&quot;Invalid key length: &quot; + key.length);\n}\n\nfunction decrypt(message, key, iv) {\n  const decipher = crypto.createDecipheriv(\n    getAlgorithm(key),\n    key,\n    iv\n  );\n  let decrypted = Buffer.concat([decipher.update(message), decipher.final()]);\n  return decrypted.toString(&quot;utf8&quot;);\n}\n\nconst DYN_SALT_LENGTH = 10;\nconst IV_LENGTH = 16;\nconst ITERATION_COUNT = 65556;\nconst KEY_LENGTH = 256;\n\nconst base64Encrypted = &quot;ossqoyCaaQINWUkTsHNGRe5Isd5s7c7U8KcLua78Ehm9jAxQNOd2tyjj&quot;;\n\n// Separate salt, IV and ciphertext\nconst encrypted = Buffer.from(base64Encrypted, &quot;base64&quot;);\nconst salt = encrypted.slice(0, DYN_SALT_LENGTH);\nconst iv = encrypted.slice(DYN_SALT_LENGTH, DYN_SALT_LENGTH + IV_LENGTH);\nconst ciphertext = encrypted.slice(DYN_SALT_LENGTH + IV_LENGTH);\n\n// Derive key voa PBKDF2/HMAC-SHA1\nconst key = crypto.pbkdf2Sync(&quot;password&quot;, &quot;salt&quot;, ITERATION_COUNT, KEY_LENGTH/8, &quot;sha1&quot;);\n\n// Decrypt\nconst result = decrypt(\n  ciphertext,\n  key,\n  iv\n);\nconsole.log(result); // hello world\n</code></pre>\n<p>Note that the current Java code (and therefore also the NodeJS code) does not use the random salt for key derivation, but a static salt, possibly for testing purposes. In the final solution, the random salt is to be used for security reasons.</p>\n"}],"owner":{"account_id":2418498,"reputation":21,"user_id":2112054,"display_name":"Jonnatan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1655447647,"creation_date":1655390955,"question_id":72647764,"body_markdown":"I am trying to convert my java code to NodeJs code. It&#39;s a little more complicate because the customised format included the password and salt. \r\n\r\nIn main method there is one example.\r\n\r\nHere is my java code:\r\n\r\n```java\r\npublic class App {\r\n    private static final int DYN_SALT_LENGTH = 10;\r\n    private static final int ITERATION_COUNT = 65556;\r\n    private static final int KEY_LENGTH = 256;\r\n    private static final String SECRET_KEY_ALGORITHM = &quot;AES&quot;;\r\n    private static final String CIPHER_TRANSFORMER = &quot;AES/CBC/PKCS5Padding&quot;;\r\n    private static Base64 base64Instance = new Base64();\r\n\r\n    public static String decrypt(String data, String password, String salt) {\r\n        try {\r\n            SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\r\n            PBEKeySpec spec = new PBEKeySpec(password.toCharArray(), salt.getBytes(StandardCharsets.UTF_8),\r\n                    ITERATION_COUNT,\r\n                    KEY_LENGTH);\r\n\r\n            SecretKey secretKey = factory.generateSecret(spec);\r\n\r\n            ByteBuffer buffer = ByteBuffer.wrap(base64Instance.decode(data));\r\n            buffer.position(DYN_SALT_LENGTH);\r\n            Cipher cipher = Cipher.getInstance(CIPHER_TRANSFORMER);\r\n\r\n            // Read the IV\r\n            byte[] ivBytes = new byte[cipher.getBlockSize()];\r\n            buffer.get(ivBytes, 0, ivBytes.length);\r\n\r\n            // Read encrypted text.\r\n            byte[] encryptedTextBytes = new byte[buffer.capacity() - DYN_SALT_LENGTH - ivBytes.length];\r\n            buffer.get(encryptedTextBytes);\r\n\r\n            // Initialize Cipher.\r\n            SecretKeySpec secret = new SecretKeySpec(secretKey.getEncoded(), SECRET_KEY_ALGORITHM);\r\n            cipher.init(Cipher.DECRYPT_MODE, secret, new IvParameterSpec(ivBytes));\r\n\r\n            String result = new String(cipher.doFinal(encryptedTextBytes), StandardCharsets.UTF_8);\r\n            return result;\r\n\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Failed to decrypt data&quot;, e);\r\n        }\r\n    }\r\n\r\n    public static String encrypt(String data, String password, String salt) {\r\n        // Create new salt for every new encryption request.\r\n        byte[] saltBytes = new byte[DYN_SALT_LENGTH];\r\n        new SecureRandom().nextBytes(saltBytes);\r\n\r\n        try {\r\n            // Create secret key spec.\r\n            SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\r\n            PBEKeySpec spec = new PBEKeySpec(password.toCharArray(), salt.getBytes(StandardCharsets.UTF_8),\r\n                    ITERATION_COUNT,\r\n                    KEY_LENGTH);\r\n            SecretKey secretKey = factory.generateSecret(spec);\r\n            SecretKeySpec secret = new SecretKeySpec(secretKey.getEncoded(), SECRET_KEY_ALGORITHM);\r\n            byte[] ivBytes;\r\n            byte[] encryptedTextBytes;\r\n\r\n            // Initialize cipher\r\n            Cipher cipher = Cipher.getInstance(CIPHER_TRANSFORMER);\r\n            cipher.init(Cipher.ENCRYPT_MODE, secret);\r\n\r\n            AlgorithmParameters params = cipher.getParameters();\r\n\r\n            // Create initialization vector IV\r\n            ivBytes = params.getParameterSpec(IvParameterSpec.class).getIV();\r\n\r\n            // Encrypt the text.\r\n            encryptedTextBytes = cipher.doFinal(data.getBytes(StandardCharsets.UTF_8));\r\n\r\n            // Response will be in the form of &lt;salt&gt;&lt;IV&gt;&lt;encryptedText&gt;\r\n            ByteBuffer byteBuffer = ByteBuffer.allocate(saltBytes.length + ivBytes.length + encryptedTextBytes.length);\r\n            byteBuffer.put(saltBytes);\r\n            byteBuffer.put(ivBytes);\r\n            byteBuffer.put(encryptedTextBytes);\r\n\r\n            return base64Instance.encodeToString(byteBuffer.array());\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Failed to encrypt data&quot;, e);\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String password = &quot;password&quot;;\r\n        String salt = &quot;salt&quot;;\r\n        String data = &quot;hello world&quot;;\r\n\r\n        String resultEncrypted = encrypt(data, password, salt);\r\n        System.out.println(resultEncrypted);\r\n        String resultDecrypted = decrypt(resultEncrypted, password, salt);\r\n        System.out.println(resultDecrypted);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;m trying with JS code like below but without clue about what i&#39;m doing wrong:\r\n\r\n```javascript\r\nfunction getAlgorithm(keyBase64) {\r\n  var key = Buffer.from(keyBase64, &quot;base64&quot;);\r\n  switch (key.length) {\r\n    case 16:\r\n      return &quot;aes-128-cbc&quot;;\r\n    case 32:\r\n      return &quot;aes-256-cbc&quot;;\r\n  }\r\n\r\n  throw new Error(&quot;Invalid key length: &quot; + key.length);\r\n}\r\n\r\nfunction decrypt(messagebase64, keyBase64, ivBase64) {\r\n  const key = Buffer.from(keyBase64, &quot;base64&quot;);\r\n  const iv = Buffer.from(ivBase64, &quot;base64&quot;);\r\n\r\n  const decipher = crypto.createDecipheriv(\r\n    getAlgorithm(keyBase64),\r\n    key,\r\n    iv.slice(0, 16)\r\n  );\r\n  let decrypted = decipher.update(messagebase64, &quot;base64&quot;, &quot;utf8&quot;);\r\n  decrypted += decipher.final(&quot;utf8&quot;);\r\n  return decrypted;\r\n}\r\n\r\nconst base64Encrypted =\r\n  &quot;2vSIh0J64zhrQuayUV+UIyPTpmSaN4gAv7B3CVC/a68eBfeU0bMwRm2I&quot;;\r\n\r\nconst key = crypto.scryptSync(&quot;password&quot;, &quot;salt&quot;, 16);\r\n\r\nconst encrypted = Buffer.from(base64Encrypted, &quot;base64&quot;);\r\nconst encryptedWOSalt = Buffer.from(base64Encrypted, &quot;base64&quot;).slice(10);\r\nconst iv = encrypted.slice(10, 10 + 17);\r\n\r\nconst result = decrypt(\r\n  encryptedWOSalt.toString(&quot;base64&quot;),\r\n  key,\r\n  iv.toString(&quot;base64&quot;)\r\n);\r\nconsole.log(result);\r\n```\r\n\r\nIt&#39;s throwing an error:\r\n`Error: error:06065064:digital envelope routines:EVP_DecryptFinal_ex:bad decrypt`\r\n\r\nThanks","title":"AES/CBC/PKCS5Padding nodejs encryption","body":"<p>I am trying to convert my java code to NodeJs code. It's a little more complicate because the customised format included the password and salt.</p>\n<p>In main method there is one example.</p>\n<p>Here is my java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n    private static final int DYN_SALT_LENGTH = 10;\n    private static final int ITERATION_COUNT = 65556;\n    private static final int KEY_LENGTH = 256;\n    private static final String SECRET_KEY_ALGORITHM = &quot;AES&quot;;\n    private static final String CIPHER_TRANSFORMER = &quot;AES/CBC/PKCS5Padding&quot;;\n    private static Base64 base64Instance = new Base64();\n\n    public static String decrypt(String data, String password, String salt) {\n        try {\n            SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\n            PBEKeySpec spec = new PBEKeySpec(password.toCharArray(), salt.getBytes(StandardCharsets.UTF_8),\n                    ITERATION_COUNT,\n                    KEY_LENGTH);\n\n            SecretKey secretKey = factory.generateSecret(spec);\n\n            ByteBuffer buffer = ByteBuffer.wrap(base64Instance.decode(data));\n            buffer.position(DYN_SALT_LENGTH);\n            Cipher cipher = Cipher.getInstance(CIPHER_TRANSFORMER);\n\n            // Read the IV\n            byte[] ivBytes = new byte[cipher.getBlockSize()];\n            buffer.get(ivBytes, 0, ivBytes.length);\n\n            // Read encrypted text.\n            byte[] encryptedTextBytes = new byte[buffer.capacity() - DYN_SALT_LENGTH - ivBytes.length];\n            buffer.get(encryptedTextBytes);\n\n            // Initialize Cipher.\n            SecretKeySpec secret = new SecretKeySpec(secretKey.getEncoded(), SECRET_KEY_ALGORITHM);\n            cipher.init(Cipher.DECRYPT_MODE, secret, new IvParameterSpec(ivBytes));\n\n            String result = new String(cipher.doFinal(encryptedTextBytes), StandardCharsets.UTF_8);\n            return result;\n\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Failed to decrypt data&quot;, e);\n        }\n    }\n\n    public static String encrypt(String data, String password, String salt) {\n        // Create new salt for every new encryption request.\n        byte[] saltBytes = new byte[DYN_SALT_LENGTH];\n        new SecureRandom().nextBytes(saltBytes);\n\n        try {\n            // Create secret key spec.\n            SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\n            PBEKeySpec spec = new PBEKeySpec(password.toCharArray(), salt.getBytes(StandardCharsets.UTF_8),\n                    ITERATION_COUNT,\n                    KEY_LENGTH);\n            SecretKey secretKey = factory.generateSecret(spec);\n            SecretKeySpec secret = new SecretKeySpec(secretKey.getEncoded(), SECRET_KEY_ALGORITHM);\n            byte[] ivBytes;\n            byte[] encryptedTextBytes;\n\n            // Initialize cipher\n            Cipher cipher = Cipher.getInstance(CIPHER_TRANSFORMER);\n            cipher.init(Cipher.ENCRYPT_MODE, secret);\n\n            AlgorithmParameters params = cipher.getParameters();\n\n            // Create initialization vector IV\n            ivBytes = params.getParameterSpec(IvParameterSpec.class).getIV();\n\n            // Encrypt the text.\n            encryptedTextBytes = cipher.doFinal(data.getBytes(StandardCharsets.UTF_8));\n\n            // Response will be in the form of &lt;salt&gt;&lt;IV&gt;&lt;encryptedText&gt;\n            ByteBuffer byteBuffer = ByteBuffer.allocate(saltBytes.length + ivBytes.length + encryptedTextBytes.length);\n            byteBuffer.put(saltBytes);\n            byteBuffer.put(ivBytes);\n            byteBuffer.put(encryptedTextBytes);\n\n            return base64Instance.encodeToString(byteBuffer.array());\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Failed to encrypt data&quot;, e);\n        }\n\n    }\n\n    public static void main(String[] args) {\n        String password = &quot;password&quot;;\n        String salt = &quot;salt&quot;;\n        String data = &quot;hello world&quot;;\n\n        String resultEncrypted = encrypt(data, password, salt);\n        System.out.println(resultEncrypted);\n        String resultDecrypted = decrypt(resultEncrypted, password, salt);\n        System.out.println(resultDecrypted);\n    }\n}\n\n</code></pre>\n<p>I'm trying with JS code like below but without clue about what i'm doing wrong:</p>\n<pre class=\"lang-js prettyprint-override\"><code>function getAlgorithm(keyBase64) {\n  var key = Buffer.from(keyBase64, &quot;base64&quot;);\n  switch (key.length) {\n    case 16:\n      return &quot;aes-128-cbc&quot;;\n    case 32:\n      return &quot;aes-256-cbc&quot;;\n  }\n\n  throw new Error(&quot;Invalid key length: &quot; + key.length);\n}\n\nfunction decrypt(messagebase64, keyBase64, ivBase64) {\n  const key = Buffer.from(keyBase64, &quot;base64&quot;);\n  const iv = Buffer.from(ivBase64, &quot;base64&quot;);\n\n  const decipher = crypto.createDecipheriv(\n    getAlgorithm(keyBase64),\n    key,\n    iv.slice(0, 16)\n  );\n  let decrypted = decipher.update(messagebase64, &quot;base64&quot;, &quot;utf8&quot;);\n  decrypted += decipher.final(&quot;utf8&quot;);\n  return decrypted;\n}\n\nconst base64Encrypted =\n  &quot;2vSIh0J64zhrQuayUV+UIyPTpmSaN4gAv7B3CVC/a68eBfeU0bMwRm2I&quot;;\n\nconst key = crypto.scryptSync(&quot;password&quot;, &quot;salt&quot;, 16);\n\nconst encrypted = Buffer.from(base64Encrypted, &quot;base64&quot;);\nconst encryptedWOSalt = Buffer.from(base64Encrypted, &quot;base64&quot;).slice(10);\nconst iv = encrypted.slice(10, 10 + 17);\n\nconst result = decrypt(\n  encryptedWOSalt.toString(&quot;base64&quot;),\n  key,\n  iv.toString(&quot;base64&quot;)\n);\nconsole.log(result);\n</code></pre>\n<p>It's throwing an error:\n<code>Error: error:06065064:digital envelope routines:EVP_DecryptFinal_ex:bad decrypt</code></p>\n<p>Thanks</p>\n"},{"tags":["java","package"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1349545496,"post_id":12762216,"comment_id":17245175,"body_markdown":"Are you asking about `import` statement?","body":"Are you asking about <code>import</code> statement?"},{"owner":{"account_id":1814891,"reputation":6661,"user_id":1650200,"accept_rate":100,"display_name":"Angelos Chalaris"},"score":0,"creation_date":1349545535,"post_id":12762216,"comment_id":17245184,"body_markdown":"No, I ask how to access a class that is in a parent directory of another class.","body":"No, I ask how to access a class that is in a parent directory of another class."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1349545839,"post_id":12762216,"comment_id":17245284,"body_markdown":"What do you mean by &quot;access&quot;? If you want to use a class in a different package, you use the `import` statement (but that&#39;s basic stuff that maybe you already know (: ). If you want to get file content (or related), then remember that packages are just folders and Class.java are files. If the last was your case, then Eng.Fouad has achieved the answer.","body":"What do you mean by &quot;access&quot;? If you want to use a class in a different package, you use the <code>import</code> statement (but that&#39;s basic stuff that maybe you already know (: ). If you want to get file content (or related), then remember that packages are just folders and Class.java are files. If the last was your case, then Eng.Fouad has achieved the answer."},{"owner":{"account_id":1814891,"reputation":6661,"user_id":1650200,"accept_rate":100,"display_name":"Angelos Chalaris"},"score":0,"creation_date":1349546118,"post_id":12762216,"comment_id":17245355,"body_markdown":"Basically I want to use a variable from `anotherclass` in a statement of `myclass` without the full import for a couple of reasons. Like if I want to use `int variableA` from `anotherclass` in a statement inside `myclass` will I do it like `int a = ../anotherpackage/anotherclass.variableA +10`?","body":"Basically I want to use a variable from <code>anotherclass</code> in a statement of <code>myclass</code> without the full import for a couple of reasons. Like if I want to use <code>int variableA</code> from <code>anotherclass</code> in a statement inside <code>myclass</code> will I do it like <code>int a = ..&#47;anotherpackage&#47;anotherclass.variableA +10</code>?"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1349546243,"post_id":12762216,"comment_id":17245373,"body_markdown":"That&#39;s not how Java works. Assuming this `anotherclass.variableA` is a `static int` variable and you don&#39;t want to use `import` statement, then you need to call the fullname class: `int a = mypackage.myinnerpackage.myinnerclass.variableA + 10;` but this is clumsy.","body":"That&#39;s not how Java works. Assuming this <code>anotherclass.variableA</code> is a <code>static int</code> variable and you don&#39;t want to use <code>import</code> statement, then you need to call the fullname class: <code>int a = mypackage.myinnerpackage.myinnerclass.variableA + 10;</code> but this is clumsy."},{"owner":{"account_id":1814891,"reputation":6661,"user_id":1650200,"accept_rate":100,"display_name":"Angelos Chalaris"},"score":0,"creation_date":1349546898,"post_id":12762216,"comment_id":17245534,"body_markdown":"Yeah I am totally sure it is clumsy, but still it is kind of my best bet, still this does not work and I am clueless... :/","body":"Yeah I am totally sure it is clumsy, but still it is kind of my best bet, still this does not work and I am clueless... :/"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1349546988,"post_id":12762216,"comment_id":17245558,"body_markdown":"In cases like this, you should post your functional requirement and ask for guidance, maybe showing some code (not all the code) in [SSCCE](http://sscce.org/) form would help people to give better help for your problem.","body":"In cases like this, you should post your functional requirement and ask for guidance, maybe showing some code (not all the code) in <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a> form would help people to give better help for your problem."},{"owner":{"account_id":1814891,"reputation":6661,"user_id":1650200,"accept_rate":100,"display_name":"Angelos Chalaris"},"score":0,"creation_date":1349547266,"post_id":12762216,"comment_id":17245627,"body_markdown":"It is about 300 lines and totally irrelevant but will try to get around a small example if this is the case... ;)","body":"It is about 300 lines and totally irrelevant but will try to get around a small example if this is the case... ;)"},{"owner":{"account_id":1814891,"reputation":6661,"user_id":1650200,"accept_rate":100,"display_name":"Angelos Chalaris"},"score":0,"creation_date":1349547548,"post_id":12762216,"comment_id":17245693,"body_markdown":"Here, have a quick small example with the least possible code to help you get what is happening. By the way this beauty should work absolutely perfect based on what you guys suggest (and I bet if I was less clumsy it would), but as of now it does not...","body":"Here, have a quick small example with the least possible code to help you get what is happening. By the way this beauty should work absolutely perfect based on what you guys suggest (and I bet if I was less clumsy it would), but as of now it does not..."}],"answers":[{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1349545309,"creation_date":1349545309,"answer_id":12762232,"question_id":12762216,"body_markdown":"Use relative path:\r\n\r\n    String dir = &quot;../anotherpackage/anotheclass&quot;;\r\n                  ^\r\n                  |\r\n                  -- (go one level up)","title":"Accessing parent folder packages from inside a package","body":"<p>Use relative path:</p>\n\n<pre><code>String dir = \"../anotherpackage/anotheclass\";\n              ^\n              |\n              -- (go one level up)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1376922293,"creation_date":1349545818,"answer_id":12762296,"question_id":12762216,"body_markdown":"Java right?\r\n\r\ninside myClass\r\n\r\n    import anotherPackage.anotherClass;\r\n\r\nand then inside your myClass you can just use\r\n\r\n      anotherClass ac=new anotherClass();\r\n\r\n\r\nthen using object &quot;ac&quot; you can access any of anotherClass properties.\r\n\r\n\r\nyou might want to read about packages and imports\r\n\r\n\r\nEdit \r\nwithout using imports \r\ni you can use concept of fully qualified name try like \r\n\r\n    anotherPackage.anotherClass ac=new anotherPackage.anotherClass()\r\n \r\nthen use ac toacees anotherClass properties\r\n\r\n\r\nby the way you mentioned, different classes have some same variables and imports can mess up stuff. Java works around objects, same names aint really gonna messup. even if some variables are static you will be using classnames.staticVar to access. so not much of messing up. :-) \r\n\r\nUPDATE : \r\nthe discussion below was moved to chat as it was getting comprehensive \r\nsome usefull snippets from chat \r\n\r\nAskee was facing classpath issues \r\n\r\nCLASSPATH , as the name suggests it is the path to class.\r\nwhen we compile a java file, the compiler will look for the resources that the class needs in current directory and on the  classpath. \r\neverything cann not be in same directory (actually it can be, :-) ) , so we use \r\n\r\n    set CLASSPATH\r\n\r\nto set classpath and where else to look for classes\r\n\r\nin the question the ckass myClass was not getting compilec as \r\n\r\n    org.apache.common.exec.DefaultExecutor was not in classpath\r\n \r\nsuggested to set parent directory on classpath to have it work\r\n\r\n    javac -classpath %cd%\\.. myclass.java\r\n\r\n\r\n","title":"Accessing parent folder packages from inside a package","body":"<p>Java right?</p>\n\n<p>inside myClass</p>\n\n<pre><code>import anotherPackage.anotherClass;\n</code></pre>\n\n<p>and then inside your myClass you can just use</p>\n\n<pre><code>  anotherClass ac=new anotherClass();\n</code></pre>\n\n<p>then using object \"ac\" you can access any of anotherClass properties.</p>\n\n<p>you might want to read about packages and imports</p>\n\n<p>Edit \nwithout using imports \ni you can use concept of fully qualified name try like </p>\n\n<pre><code>anotherPackage.anotherClass ac=new anotherPackage.anotherClass()\n</code></pre>\n\n<p>then use ac toacees anotherClass properties</p>\n\n<p>by the way you mentioned, different classes have some same variables and imports can mess up stuff. Java works around objects, same names aint really gonna messup. even if some variables are static you will be using classnames.staticVar to access. so not much of messing up. :-) </p>\n\n<p>UPDATE : \nthe discussion below was moved to chat as it was getting comprehensive \nsome usefull snippets from chat </p>\n\n<p>Askee was facing classpath issues </p>\n\n<p>CLASSPATH , as the name suggests it is the path to class.\nwhen we compile a java file, the compiler will look for the resources that the class needs in current directory and on the  classpath. \neverything cann not be in same directory (actually it can be, :-) ) , so we use </p>\n\n<pre><code>set CLASSPATH\n</code></pre>\n\n<p>to set classpath and where else to look for classes</p>\n\n<p>in the question the ckass myClass was not getting compilec as </p>\n\n<pre><code>org.apache.common.exec.DefaultExecutor was not in classpath\n</code></pre>\n\n<p>suggested to set parent directory on classpath to have it work</p>\n\n<pre><code>javac -classpath %cd%\\.. myclass.java\n</code></pre>\n"}],"owner":{"account_id":1814891,"reputation":6661,"user_id":1650200,"accept_rate":100,"display_name":"Angelos Chalaris"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4511,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":12762296,"answer_count":2,"score":3,"last_activity_date":1655447584,"creation_date":1349545200,"question_id":12762216,"body_markdown":"If i have a class inside a package say `mypackage.myclass` and want to access a package&#39;s class that is in the same folder as the package&#39;s root (not inside the package) say `anothepackage.anotherclass` how can I actually do so?\r\n\r\nExample presented in code:\r\n\r\n    // directories are preceded by a DIR, files are preceded by a CLASS\r\n    // any level deeper is preceded by a [Tab]\r\n    DIR mypackage\r\n    \tCLASS myclass\r\n    \tDIR myinnerpackage\r\n    \t\tCLASS myinnerclass\r\n    DIR anotherpackage\r\n    \tCLASS anotheclass\r\n    CLASS yetanotherclass\r\n    DIR org\r\n        DIR apache\r\n            DIR commons\r\n                DIR exec\r\n                    CLASS DefaultExecutor\r\n\r\n\r\nInside the file myclass:\r\n\r\n    package mypackage;\r\n\r\n    public class myclass{\r\n    \t// simplest example  code I can come up with\r\n    \torg.apache.commons.exec.DefaultExecutor exec = new org.apache.commons.exec.DefaultExecutor();\r\n    }\r\nWhy does this piece of code not work for me?\r\n\r\nGenerally how can `myclass` access `anotherclass` or `yetanotherclass` and how can `myinnerclass` access them as well? Try to refrain for imports as I want to use certain members of each class only (some variables have same names and will get things messed)! Thanks in advance!\r\n","title":"Accessing parent folder packages from inside a package","body":"<p>If i have a class inside a package say <code>mypackage.myclass</code> and want to access a package's class that is in the same folder as the package's root (not inside the package) say <code>anothepackage.anotherclass</code> how can I actually do so?</p>\n<p>Example presented in code:</p>\n<pre><code>// directories are preceded by a DIR, files are preceded by a CLASS\n// any level deeper is preceded by a [Tab]\nDIR mypackage\n    CLASS myclass\n    DIR myinnerpackage\n        CLASS myinnerclass\nDIR anotherpackage\n    CLASS anotheclass\nCLASS yetanotherclass\nDIR org\n    DIR apache\n        DIR commons\n            DIR exec\n                CLASS DefaultExecutor\n</code></pre>\n<p>Inside the file myclass:</p>\n<pre><code>package mypackage;\n\npublic class myclass{\n    // simplest example  code I can come up with\n    org.apache.commons.exec.DefaultExecutor exec = new org.apache.commons.exec.DefaultExecutor();\n}\n</code></pre>\n<p>Why does this piece of code not work for me?</p>\n<p>Generally how can <code>myclass</code> access <code>anotherclass</code> or <code>yetanotherclass</code> and how can <code>myinnerclass</code> access them as well? Try to refrain for imports as I want to use certain members of each class only (some variables have same names and will get things messed)! Thanks in advance!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1655438338,"post_id":72654060,"comment_id":128337336,"body_markdown":"The [`Object#getClass()`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Object.html#getClass()) method returns a [`java.lang.Class`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Class.html) instance, and the `java.lang.Class` class defines a [`Class#getResourceAsStream(String)`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Class.html#getResourceAsStream(java.lang.String)) method. So, you get a class object and then call a method on that object immediately. This is known as &quot;method chaining&quot;.","body":"The <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Object.html#getClass()\" rel=\"nofollow noreferrer\"><code>Object#getClass()</code></a> method returns a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Class.html\" rel=\"nofollow noreferrer\"><code>java.lang.Class</code></a> instance, and the <code>java.lang.Class</code> class defines a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Class.html#getResourceAsStream(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Class#getResourceAsStream(String)</code></a> method. So, you get a class object and then call a method on that object immediately. This is known as &quot;method chaining&quot;."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1655438395,"post_id":72654060,"comment_id":128337343,"body_markdown":"And note that `str.getClass()` will return a `java.lang.Class&lt;? extends java.lang.String&gt;`.","body":"And note that <code>str.getClass()</code> will return a <code>java.lang.Class&lt;? extends java.lang.String&gt;</code>."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1655438627,"post_id":72654060,"comment_id":128337386,"body_markdown":"When any method returns a value of reference type, it can then be used immediately to call a method on that type, without having to use an intermediate variable.","body":"When any method returns a value of reference type, it can then be used immediately to call a method on that type, without having to use an intermediate variable."},{"owner":{"account_id":24102019,"reputation":81,"user_id":18073734,"display_name":"Nguyễn T&#249;ng Dương"},"score":0,"creation_date":1655439471,"post_id":72654060,"comment_id":128337517,"body_markdown":"@Slaw Thanks. I understand now. One more question is can we instantiate a class object without using the getClass() method?","body":"@Slaw Thanks. I understand now. One more question is can we instantiate a class object without using the getClass() method?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1655440318,"post_id":72654060,"comment_id":128337629,"body_markdown":"No, you cannot instantiate a `Class` object, as the class does not define a public constructor. A `Class` object is created by a `ClassLoader`,  if and when needed. That said, in typical circumstances, there are two other ways to get a reference to a `Class` object other than the `Object#getClass()` method. One of those ways is via a class literal (e.g., `String.class`). That will only work if you know of the class at compile-time, however. The other way is to use one of the `Class#forName(...)` static methods (which can work without knowing the class name at compile-time).","body":"No, you cannot instantiate a <code>Class</code> object, as the class does not define a public constructor. A <code>Class</code> object is created by a <code>ClassLoader</code>,  if and when needed. That said, in typical circumstances, there are two other ways to get a reference to a <code>Class</code> object other than the <code>Object#getClass()</code> method. One of those ways is via a class literal (e.g., <code>String.class</code>). That will only work if you know of the class at compile-time, however. The other way is to use one of the <code>Class#forName(...)</code> static methods (which can work without knowing the class name at compile-time)."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1655446780,"post_id":72654060,"comment_id":128338817,"body_markdown":"`getClass().getResourceAsStream()` is the same as `this.getClass().getResourceAsStream()`.","body":"<code>getClass().getResourceAsStream()</code> is the same as <code>this.getClass().getResourceAsStream()</code>."}],"owner":{"account_id":24102019,"reputation":81,"user_id":18073734,"display_name":"Nguyễn T&#249;ng Dương"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655446832,"answer_count":0,"score":0,"last_activity_date":1655447102,"creation_date":1655437032,"question_id":72654060,"body_markdown":"getClass() in java is a method which returns runtime class of an object. For example:\r\n\r\n```\r\nString str = &quot;something&quot;;\r\n```\r\n\r\nThen str.getClass() will return java.lang.String. That&#39;s okay. However, what does it mean when the getClass() called &quot;dependently&quot;. I mean, in this case getClass() is called after the `.` operator. But in some cases, it can be called like `getClass().getResourceAsStream()`. I don&#39;t know what it is actually.","title":"Understanding getClass() in Java","body":"<p>getClass() in java is a method which returns runtime class of an object. For example:</p>\n<pre><code>String str = &quot;something&quot;;\n</code></pre>\n<p>Then str.getClass() will return java.lang.String. That's okay. However, what does it mean when the getClass() called &quot;dependently&quot;. I mean, in this case getClass() is called after the <code>.</code> operator. But in some cases, it can be called like <code>getClass().getResourceAsStream()</code>. I don't know what it is actually.</p>\n"},{"tags":["java","spring","job-scheduling"],"comments":[{"owner":{"account_id":12079,"reputation":464,"user_id":23613,"display_name":"Michael Warner"},"score":0,"creation_date":1428958109,"post_id":29614724,"comment_id":47374952,"body_markdown":"Seems like if you have more jobs than you have threads to run them it&#39;s possible some of the jobs would be missed/deferred. What happens if you increase the pool-size to something equal to or greater than the number of jobs you are running?","body":"Seems like if you have more jobs than you have threads to run them it&#39;s possible some of the jobs would be missed/deferred. What happens if you increase the pool-size to something equal to or greater than the number of jobs you are running?"},{"owner":{"account_id":5449410,"reputation":103,"user_id":4334765,"display_name":"00Enthusiast"},"score":0,"creation_date":1428960532,"post_id":29614724,"comment_id":47376098,"body_markdown":"It&#39;s strange enough.  Spring scheduler must have an orchestration class for managing jobs executions. So if i am right, it should check &quot;SimpleThreadPool&quot; for available &quot;worker&quot; (thread). If all &quot;workers&quot; are busy at the moment, orchestration should wait until any &quot;worker&quot; can satisfy a waiting job in a queue (technically to start a run() method for specific job). So according to this, there shouldn&#39;t occur any skips.","body":"It&#39;s strange enough.  Spring scheduler must have an orchestration class for managing jobs executions. So if i am right, it should check &quot;SimpleThreadPool&quot; for available &quot;worker&quot; (thread). If all &quot;workers&quot; are busy at the moment, orchestration should wait until any &quot;worker&quot; can satisfy a waiting job in a queue (technically to start a run() method for specific job). So according to this, there shouldn&#39;t occur any skips."},{"owner":{"account_id":36915,"reputation":3723,"user_id":105408,"accept_rate":75,"display_name":"markthegrea"},"score":0,"creation_date":1429016430,"post_id":29614724,"comment_id":47398924,"body_markdown":"00Enthusiast, that is exactly how I thought it would work.  I am testing to see if increasing the threads will help.  I would expect there to be some kind of logging on this, though...","body":"00Enthusiast, that is exactly how I thought it would work.  I am testing to see if increasing the threads will help.  I would expect there to be some kind of logging on this, though..."},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1701590976,"post_id":29614724,"comment_id":136793142,"body_markdown":"@markthegrea, were you able to solve this by increasing the thread-pool for scheduler ?","body":"@markthegrea, were you able to solve this by increasing the thread-pool for scheduler ?"}],"owner":{"account_id":36915,"reputation":3723,"user_id":105408,"accept_rate":75,"display_name":"markthegrea"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1597,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1655446811,"creation_date":1428957811,"question_id":29614724,"body_markdown":"We have an application that has many batch jobs in it.  Something is making some of the batch runs &quot;skip&quot; a run.  So specifically we have one set like this:\r\n\r\n    @Scheduled(cron = &quot;0 */5 * * * *&quot;)\r\n\r\nwhich is every 5 minutes.  So this specific job usually runs every 5 minutes but also skips runs.  The individual runs last less then 5 seconds so they are not stacking up.\r\n\r\nWe are using this to run them:\r\n\r\n    &lt;task:annotation-driven /&gt;\r\n    &lt;task:scheduler id=&quot;scheduler&quot; pool-size=&quot;10&quot; /&gt;\r\n\r\nand probably have over 10 jobs.  Is the &quot;pool-size&quot; possibly messing us up?  I can&#39;t find any docs on the web on what setting would be good for this.  We are using Spring 3.x\r\n\r\nNEW INFO:  Adding pools to the pool size does not help.  Also, we have some jobs that are suppose to run every 5 minutes on the 5 and seem to run at random times after the 5.\r\n\r\nNEW INFO:  Added this and it seemed to help some, but not completely. Still having the problem.\r\n\r\n    &lt;task:annotation-driven scheduler=&quot;taskScheduler&quot; executor=&quot;taskExecutor&quot; /&gt;\r\n    &lt;task:scheduler id=&quot;taskScheduler&quot; pool-size=&quot;20&quot; /&gt;\r\n    &lt;task:executor id=&quot;taskExecutor&quot; pool-size=&quot;20&quot; /&gt;\r\n\r\n","title":"Spring task:scheduler. What causes missed runs?","body":"<p>We have an application that has many batch jobs in it.  Something is making some of the batch runs \"skip\" a run.  So specifically we have one set like this:</p>\n\n<pre><code>@Scheduled(cron = \"0 */5 * * * *\")\n</code></pre>\n\n<p>which is every 5 minutes.  So this specific job usually runs every 5 minutes but also skips runs.  The individual runs last less then 5 seconds so they are not stacking up.</p>\n\n<p>We are using this to run them:</p>\n\n<pre><code>&lt;task:annotation-driven /&gt;\n&lt;task:scheduler id=\"scheduler\" pool-size=\"10\" /&gt;\n</code></pre>\n\n<p>and probably have over 10 jobs.  Is the \"pool-size\" possibly messing us up?  I can't find any docs on the web on what setting would be good for this.  We are using Spring 3.x</p>\n\n<p>NEW INFO:  Adding pools to the pool size does not help.  Also, we have some jobs that are suppose to run every 5 minutes on the 5 and seem to run at random times after the 5.</p>\n\n<p>NEW INFO:  Added this and it seemed to help some, but not completely. Still having the problem.</p>\n\n<pre><code>&lt;task:annotation-driven scheduler=\"taskScheduler\" executor=\"taskExecutor\" /&gt;\n&lt;task:scheduler id=\"taskScheduler\" pool-size=\"20\" /&gt;\n&lt;task:executor id=\"taskExecutor\" pool-size=\"20\" /&gt;\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1655446003,"post_id":72654565,"comment_id":128338652,"body_markdown":"You only have one instance of `duplicateCount` that is shared between all card faces, and what is the purpose of `if (!dupCards.contains(cards.get(j).getFace()))`, it will only count duplicates the first time it finds them, but what about if you have three of the same card? Consider using a Hashmap with the card face as the key, and the value as the count, this way you can easily track each card face, and increment the count as required","body":"You only have one instance of <code>duplicateCount</code> that is shared between all card faces, and what is the purpose of <code>if (!dupCards.contains(cards.get(j).getFace()))</code>, it will only count duplicates the first time it finds them, but what about if you have three of the same card? Consider using a Hashmap with the card face as the key, and the value as the count, this way you can easily track each card face, and increment the count as required"}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655446766,"creation_date":1655446766,"answer_id":72655083,"question_id":72654565,"body_markdown":"As mentioned in comments, you only have one instance of `duplicateCount` and `card` variables that are shared between all card faces, this will not work. Also this line `if (!dupCards.contains(cards.get(j).getFace()))` will only count duplicates the first time it finds them, but what about if you have three of the same card?\r\n\r\nHere is a solution with comments that uses a `Hashmap` with the card face as the key, and the value as the count, this way you can easily track each card face with a single `for` loop and increment the count as required:\r\n\r\n    //Use a hashmap to store the cards\r\n    HashMap&lt;String, Integer&gt; results = new HashMap&lt;&gt;();\r\n    \r\n    //Updated method to count duplicates\r\n    public void duplicateFaces(ArrayList&lt;Card&gt; cards) {\r\n        //Use a single loop and update each card in the hashmap\r\n        for (int i = 0; i &lt; cards.size(); i++) {\r\n    \t    //Incriment count of duplicate card if found\r\n    \t    if (results.containsKey(cards.get(i).getFace())) {\r\n    \t\t    results.get(cards.get(i).getFace())++;\r\n    \t    }\r\n    \t    //Else enter new card with value of 1 (No duplicates yet)\r\n    \t    else {\r\n    \t\t    results.put(cards.get(i).getFace(), 1);\r\n    \t    }\r\n        }\r\n    \t//Now print the duplicates\r\n    \tfor (Map.Entry&lt;String, Integer&gt; entry : results.entrySet())\r\n    \t{\r\n            //Print out any cards that are found more than once\r\n    \t    if (entry.getValue() &gt; 1){\r\n    \t\t    returnDuplicates(entry.getValue(), entry.getKey());\r\n    \t    }\r\n    \t}\r\n    }\r\n    \r\n    //Existing print method\r\n    public void returnDuplicates(int count, String card) {\r\n        System.out.println(&quot;Player &quot; + player + &quot; had &quot; + count + &quot; &quot; + card + &quot;s&quot;);\r\n    }","title":"Counting number of duplicate attributes of an ArrayList of objects of the same type","body":"<p>As mentioned in comments, you only have one instance of <code>duplicateCount</code> and <code>card</code> variables that are shared between all card faces, this will not work. Also this line <code>if (!dupCards.contains(cards.get(j).getFace()))</code> will only count duplicates the first time it finds them, but what about if you have three of the same card?</p>\n<p>Here is a solution with comments that uses a <code>Hashmap</code> with the card face as the key, and the value as the count, this way you can easily track each card face with a single <code>for</code> loop and increment the count as required:</p>\n<pre><code>//Use a hashmap to store the cards\nHashMap&lt;String, Integer&gt; results = new HashMap&lt;&gt;();\n\n//Updated method to count duplicates\npublic void duplicateFaces(ArrayList&lt;Card&gt; cards) {\n    //Use a single loop and update each card in the hashmap\n    for (int i = 0; i &lt; cards.size(); i++) {\n        //Incriment count of duplicate card if found\n        if (results.containsKey(cards.get(i).getFace())) {\n            results.get(cards.get(i).getFace())++;\n        }\n        //Else enter new card with value of 1 (No duplicates yet)\n        else {\n            results.put(cards.get(i).getFace(), 1);\n        }\n    }\n    //Now print the duplicates\n    for (Map.Entry&lt;String, Integer&gt; entry : results.entrySet())\n    {\n        //Print out any cards that are found more than once\n        if (entry.getValue() &gt; 1){\n            returnDuplicates(entry.getValue(), entry.getKey());\n        }\n    }\n}\n\n//Existing print method\npublic void returnDuplicates(int count, String card) {\n    System.out.println(&quot;Player &quot; + player + &quot; had &quot; + count + &quot; &quot; + card + &quot;s&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":5963655,"reputation":27,"user_id":4688009,"display_name":"Kellen Cole"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655446766,"creation_date":1655442493,"question_id":72654565,"body_markdown":"I am trying to make a class that evaluates each Poker player&#39;s two dealt cards and five table cards together and returns the number of duplicates found. For example if a player is dealt an Ace and a Two and the table is Ace, Three, Four, Ace, Five, it should return &quot;Player 1 had three aces&quot;. This is what I have so far, it&#39;s accurate about fifty percent of the time, but sometimes it misses that the player had multiple pairs or miscounts how many duplicates there were. [Here][1] is an example console output\r\n\r\n```\r\npackage edu.sbcc.cs105;\r\n\r\nimport java.util.*;\r\n\r\npublic class Evaluate {\r\n\tArrayList&lt;Card&gt; sevenCards = new ArrayList&lt;Card&gt;();\r\n\tint player;\r\n\tString faces[] = { &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot;, &quot;Five&quot;, &quot;Six&quot;, &quot;Seven&quot;, &quot;Eight&quot;, &quot;Nine&quot;, &quot;Ten&quot;, &quot;Jack&quot;, &quot;Queen&quot;, &quot;King&quot;,\r\n\t\t\t&quot;Ace&quot; };\r\n\r\n\tpublic Evaluate(Card c1, Card c2, Card c3, Card c4, Card c5, Card c6, Card c7, int p) {\r\n\t\tsevenCards.clear();\r\n\t\tsevenCards.add(c1);\r\n\t\tsevenCards.add(c2);\r\n\t\tsevenCards.add(c3);\r\n\t\tsevenCards.add(c4);\r\n\t\tsevenCards.add(c5);\r\n\t\tsevenCards.add(c6);\r\n\t\tsevenCards.add(c7);\r\n\t\tthis.player = p;\r\n\t\tduplicateFaces(sevenCards);\r\n\t}\r\n\r\n\tpublic void duplicateFaces(ArrayList&lt;Card&gt; cards) {\r\n\t\tint duplicateCount = 0;\r\n\t\tString card = &quot;&quot;;\r\n\t\tArrayList&lt;String&gt; dupCards = new ArrayList&lt;String&gt;();\r\n\t\tfor (int i = 0; i &lt; cards.size(); i++) {\r\n\t\t\tfor (int j = i + 1; j &lt; cards.size(); j++) {\r\n\t\t\t\tif ((cards.get(i).getFace()).equals(cards.get(j).getFace())) {\r\n\t\t\t\t\tif (!dupCards.contains(cards.get(j).getFace())) {\r\n\t\t\t\t\t\tduplicateCount++;\r\n\t\t\t\t\t\tdupCards.add(cards.get(j).getFace());\r\n\t\t\t\t\t\tcard = cards.get(j).getFace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdupCards = new ArrayList&lt;String&gt;();\r\n\t\t}\r\n\t\tif (duplicateCount &gt; 1) {\r\n\t\t\treturnDuplicates(duplicateCount, card);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void returnDuplicates(int count, String card) {\r\n\t\tSystem.out.println(&quot;Player &quot; + player + &quot; had &quot; + count + &quot; &quot; + card + &quot;s&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://pastebin.com/zV4Z63BC","title":"Counting number of duplicate attributes of an ArrayList of objects of the same type","body":"<p>I am trying to make a class that evaluates each Poker player's two dealt cards and five table cards together and returns the number of duplicates found. For example if a player is dealt an Ace and a Two and the table is Ace, Three, Four, Ace, Five, it should return &quot;Player 1 had three aces&quot;. This is what I have so far, it's accurate about fifty percent of the time, but sometimes it misses that the player had multiple pairs or miscounts how many duplicates there were. <a href=\"https://pastebin.com/zV4Z63BC\" rel=\"nofollow noreferrer\">Here</a> is an example console output</p>\n<pre><code>package edu.sbcc.cs105;\n\nimport java.util.*;\n\npublic class Evaluate {\n    ArrayList&lt;Card&gt; sevenCards = new ArrayList&lt;Card&gt;();\n    int player;\n    String faces[] = { &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot;, &quot;Five&quot;, &quot;Six&quot;, &quot;Seven&quot;, &quot;Eight&quot;, &quot;Nine&quot;, &quot;Ten&quot;, &quot;Jack&quot;, &quot;Queen&quot;, &quot;King&quot;,\n            &quot;Ace&quot; };\n\n    public Evaluate(Card c1, Card c2, Card c3, Card c4, Card c5, Card c6, Card c7, int p) {\n        sevenCards.clear();\n        sevenCards.add(c1);\n        sevenCards.add(c2);\n        sevenCards.add(c3);\n        sevenCards.add(c4);\n        sevenCards.add(c5);\n        sevenCards.add(c6);\n        sevenCards.add(c7);\n        this.player = p;\n        duplicateFaces(sevenCards);\n    }\n\n    public void duplicateFaces(ArrayList&lt;Card&gt; cards) {\n        int duplicateCount = 0;\n        String card = &quot;&quot;;\n        ArrayList&lt;String&gt; dupCards = new ArrayList&lt;String&gt;();\n        for (int i = 0; i &lt; cards.size(); i++) {\n            for (int j = i + 1; j &lt; cards.size(); j++) {\n                if ((cards.get(i).getFace()).equals(cards.get(j).getFace())) {\n                    if (!dupCards.contains(cards.get(j).getFace())) {\n                        duplicateCount++;\n                        dupCards.add(cards.get(j).getFace());\n                        card = cards.get(j).getFace();\n                    }\n                }\n            }\n            dupCards = new ArrayList&lt;String&gt;();\n        }\n        if (duplicateCount &gt; 1) {\n            returnDuplicates(duplicateCount, card);\n        }\n    }\n\n    public void returnDuplicates(int count, String card) {\n        System.out.println(&quot;Player &quot; + player + &quot; had &quot; + count + &quot; &quot; + card + &quot;s&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","java-8","nashorn"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1655446513,"post_id":72654820,"comment_id":128338767,"body_markdown":"Is the result of `profile.received` less than 100? `&amp;&amp;` is short-circuiting, so it won&#39;t execute `profile.sent(..)` unless the previous condition was true.","body":"Is the result of <code>profile.received</code> less than 100? <code>&amp;&amp;</code> is short-circuiting, so it won&#39;t execute <code>profile.sent(..)</code> unless the previous condition was true."},{"owner":{"account_id":10147549,"reputation":6813,"user_id":7495230,"accept_rate":57,"display_name":"Afridi"},"score":0,"creation_date":1655446720,"post_id":72654820,"comment_id":128338802,"body_markdown":"@MarkRotteveel thanks dude, you&#39;re right. should I delete this question? after changing 100 to 90, now its invoking both functions","body":"@MarkRotteveel thanks dude, you&#39;re right. should I delete this question? after changing 100 to 90, now its invoking both functions"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1655446949,"post_id":72654820,"comment_id":128338856,"body_markdown":"You can, but you don&#39;t need to. I closed it as a duplicate, so the question could potentially serve as a signpost.","body":"You can, but you don&#39;t need to. I closed it as a duplicate, so the question could potentially serve as a signpost."}],"owner":{"account_id":10147549,"reputation":6813,"user_id":7495230,"accept_rate":57,"display_name":"Afridi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655446915,"answer_count":0,"score":0,"last_activity_date":1655446457,"creation_date":1655444805,"question_id":72654820,"body_markdown":"I am evaluating an inline Javascript Expression using Java 8&#39;s `ScriptEngine`.\r\n\r\nExample Expression\r\n \r\n\r\n    (_tranxAmount &gt; 100) &amp;&amp; (profile.received(&#39;daily&#39;, &#39;avg&#39;, false) &lt; 100)\r\n\r\nWhere `profile` is a global scope bind Java class object and `received()` is its local function. I successfully evaluated this expression using `scriptingEngine.eval(script)` and it is calling `profile.received(&#39;daily&#39;, &#39;avg&#39;, false)` I mean to say `functionsManager.received(&#39;daily&#39;, &#39;avg&#39;, false)` as well.\r\n\r\nThe Scripting engine failed to evaluate JavaScript expression if it contains more than one Java function. In that case, only the first Java function gest called. How to resolve this issue?\r\n\r\nFor example\r\n\r\n    (_tranxAmount &gt; 100) &amp;&amp; (profile.received(&#39;daily&#39;, &#39;avg&#39;, false) &lt; 100) &amp;&amp; (profile.sent(&#39;monthly&#39;, &#39;count&#39;, false) &lt; 5)\r\n\r\nScript Engine: \r\n\r\n    private static ScriptEngine scriptingEngine;\r\n\r\nInside constructor of main class\r\n\r\n    scriptingEngine = new ScriptEngineManager().getEngineByName(&quot;JavaScript&quot;);\r\n    scriptingEngine.getBindings(ScriptContext.GLOBAL_SCOPE).put(PROFILING_FUNCTIONS_PREFIX, functionsManager);\r\n\r\nEvaluating Expression\r\n\r\n    Bindings bindings = new SimpleBindings(customMapOfVaraibles);\r\n    CompiledScript compiled = ((Compilable) scriptingEngine).compile(&quot; (_tranxAmount &gt; 100) &amp;&amp; (profile.received(&#39;daily&#39;, &#39;avg&#39;, false) &lt; 100) &amp;&amp; (profile.sent(&#39;monthly&#39;, &#39;count&#39;, false) &lt; 5)&quot;);\r\n    compiled .eval(bindings)\r\n\r\n`functionsManager`&#39;s methods look like this\r\n\r\n    public BigDecimal received(String intervalType, String statisticsType, boolean considerTranxType)\r\n    \t\t\tthrows InvalidRequirementsException {\r\n       //Do calculations\r\n       return calculatedValue;\r\n    }\r\n\r\n    public BigDecimal sent(String intervalType, String statisticsType, boolean considerTranxType)\r\n        \t\tthrows InvalidRequirementsException {\r\n       //Do calculations\r\n       return calculatedValue;\r\n    }","title":"How to invoke Java function multiple times from inline Javascript Expression using ScriptEngine","body":"<p>I am evaluating an inline Javascript Expression using Java 8's <code>ScriptEngine</code>.</p>\n<p>Example Expression</p>\n<pre><code>(_tranxAmount &gt; 100) &amp;&amp; (profile.received('daily', 'avg', false) &lt; 100)\n</code></pre>\n<p>Where <code>profile</code> is a global scope bind Java class object and <code>received()</code> is its local function. I successfully evaluated this expression using <code>scriptingEngine.eval(script)</code> and it is calling <code>profile.received('daily', 'avg', false)</code> I mean to say <code>functionsManager.received('daily', 'avg', false)</code> as well.</p>\n<p>The Scripting engine failed to evaluate JavaScript expression if it contains more than one Java function. In that case, only the first Java function gest called. How to resolve this issue?</p>\n<p>For example</p>\n<pre><code>(_tranxAmount &gt; 100) &amp;&amp; (profile.received('daily', 'avg', false) &lt; 100) &amp;&amp; (profile.sent('monthly', 'count', false) &lt; 5)\n</code></pre>\n<p>Script Engine:</p>\n<pre><code>private static ScriptEngine scriptingEngine;\n</code></pre>\n<p>Inside constructor of main class</p>\n<pre><code>scriptingEngine = new ScriptEngineManager().getEngineByName(&quot;JavaScript&quot;);\nscriptingEngine.getBindings(ScriptContext.GLOBAL_SCOPE).put(PROFILING_FUNCTIONS_PREFIX, functionsManager);\n</code></pre>\n<p>Evaluating Expression</p>\n<pre><code>Bindings bindings = new SimpleBindings(customMapOfVaraibles);\nCompiledScript compiled = ((Compilable) scriptingEngine).compile(&quot; (_tranxAmount &gt; 100) &amp;&amp; (profile.received('daily', 'avg', false) &lt; 100) &amp;&amp; (profile.sent('monthly', 'count', false) &lt; 5)&quot;);\ncompiled .eval(bindings)\n</code></pre>\n<p><code>functionsManager</code>'s methods look like this</p>\n<pre><code>public BigDecimal received(String intervalType, String statisticsType, boolean considerTranxType)\n            throws InvalidRequirementsException {\n   //Do calculations\n   return calculatedValue;\n}\n\npublic BigDecimal sent(String intervalType, String statisticsType, boolean considerTranxType)\n            throws InvalidRequirementsException {\n   //Do calculations\n   return calculatedValue;\n}\n</code></pre>\n"},{"tags":["java","testing","annotations","testng"],"answers":[{"tags":[],"owner":{"account_id":5143761,"reputation":91,"user_id":4120293,"display_name":"Konrad Kaliściak"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1506977068,"creation_date":1412862096,"answer_id":26280005,"question_id":26252134,"body_markdown":"The [documentation][1] says \r\n\r\n&gt; For after methods (afterSuite, afterClass, ...): If set to true, this\r\n&gt; configuration method will be run even if one or more methods invoked\r\n&gt; previously failed or was skipped.\r\n\r\nSo I think it should execute after skipped test method.\r\n\r\n\r\n  [1]: http://testng.org/doc/documentation-main.html#annotations","title":"alwaysRun parameter in TestNG","body":"<p>The <a href=\"http://testng.org/doc/documentation-main.html#annotations\" rel=\"nofollow noreferrer\">documentation</a> says </p>\n\n<blockquote>\n  <p>For after methods (afterSuite, afterClass, ...): If set to true, this\n  configuration method will be run even if one or more methods invoked\n  previously failed or was skipped.</p>\n</blockquote>\n\n<p>So I think it should execute after skipped test method.</p>\n"},{"tags":[],"owner":{"account_id":15700678,"reputation":1,"user_id":11328881,"display_name":"Gurunadh Mitikela"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1597690340,"creation_date":1597672777,"answer_id":63452419,"question_id":26252134,"body_markdown":"I think here you have given `dependsOnMethods = { &quot;testCase2&quot; }`\r\nThat is why your second test itself isn&#39;t triggered and so aftermethod doesn&#39;t execute. \r\nPlease remove that depends and check ..it will execute aftermethod twice.\r\n","title":"alwaysRun parameter in TestNG","body":"<p>I think here you have given <code>dependsOnMethods = { &quot;testCase2&quot; }</code>\nThat is why your second test itself isn't triggered and so aftermethod doesn't execute.\nPlease remove that depends and check ..it will execute aftermethod twice.</p>\n"},{"tags":[],"owner":{"account_id":11591778,"reputation":1,"user_id":8491856,"display_name":"Ramdeep Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628659105,"creation_date":1628659105,"answer_id":68736367,"question_id":26252134,"body_markdown":"alwaysRun on @Test: A method (say method2) having this testng attribute willalways run even if the method on which it depends (dependsOnMethods=&quot;Method1&quot;) failed and it is referred as soft dependency in testNG terminology. \r\n    \r\nalwaysRun on @Before or @After annotated methods: if @BeforeSuite fails and @BeforeClass has alwaysRun = true then it won&#39;t be skipped. (although test case may get skipped)\r\n    \r\n    public class TestAlwaysRun{\r\n    \r\n    \t@BeforeSuite\r\n    \tpublic void toFailBeforeSuite() {\r\n    \t\tSystem.out.println(&quot;I&#39;m beforeSuite, I will fail&quot;);\r\n    \t\tthrow new RuntimeException();\r\n    \t}\r\n    \r\n    \t@BeforeTest(alwaysRun = true)\r\n    \tpublic void toFailBeforeTest() {\r\n    \t\tSystem.out.println(&quot;BUG: I&#39;m beforeTest, I will fail&quot;);\r\n    \t\tthrow new RuntimeException();\r\n    \t}\r\n    \r\n    \t@BeforeClass\r\n    \tpublic void toFailBeforeClass() {\r\n    \t\tSystem.out.println(&quot;BUG: I&#39;m beforeClass, I will fail&quot;);\r\n    \t\tthrow new RuntimeException();\r\n    \t}\r\n    \r\n    \t@BeforeMethod(alwaysRun = true)\r\n    \tpublic void toFailBeforeMethod() {\r\n    \t\tSystem.out.println(&quot;BUG: I&#39;m beforeMethod, I will fail&quot;);\r\n    \t\t//throw new RuntimeException();\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void tetsCase() {\r\n    \t\tSystem.out.println(&quot;I&#39;m a Test Case&quot;);\r\n    \t}\r\n    }\r\n    \r\n    [RemoteTestNG] detected TestNG version 7.4.0\r\n    I&#39;m beforeSuite, I will fail\r\n    BUG: I&#39;m beforeTest, I will fail\r\n    BUG: I&#39;m beforeMethod, I will fail\r\n    FAILED CONFIGURATION: @BeforeTest toFailBeforeTest\r\n    java.lang.RuntimeException\r\n    \tat testngTutorial.ABC.toFailBeforeTest(ABC.java:20)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\r\n    \tat org.testng.TestRunner.invokeTestConfigurations(TestRunner.java:637)\r\n    \tat org.testng.TestRunner.beforeRun(TestRunner.java:627)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:589)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n    \tat org.testng.TestNG.run(TestNG.java:1031)\r\n    \tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n    \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n    \r\n    FAILED CONFIGURATION: @BeforeSuite toFailBeforeSuite\r\n    java.lang.RuntimeException\r\n    \tat testngTutorial.ABC.toFailBeforeSuite(ABC.java:14)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:317)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n    \tat org.testng.TestNG.run(TestNG.java:1031)\r\n    \tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n    \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n    \r\n    SKIPPED: tetsCase\r\n    java.lang.RuntimeException\r\n    \tat testngTutorial.ABC.toFailBeforeTest(ABC.java:20)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\r\n    \tat org.testng.TestRunner.invokeTestConfigurations(TestRunner.java:637)\r\n    \tat org.testng.TestRunner.beforeRun(TestRunner.java:627)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:589)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n    \tat org.testng.TestNG.run(TestNG.java:1031)\r\n    \tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n    \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n    \r\n    \r\n    ===============================================\r\n        Default test\r\n        Tests run: 1, Failures: 0, Skips: 1\r\n        Configuration Failures: 2, Skips: 0\r\n    ===============================================\r\n    \r\n    \r\n    ===============================================\r\n    Default suite\r\n    Total tests run: 1, Passes: 0, Failures: 0, Skips: 1\r\n    Configuration Failures: 2, Skips: 0\r\n    ===============================================","title":"alwaysRun parameter in TestNG","body":"<p>alwaysRun on @Test: A method (say method2) having this testng attribute willalways run even if the method on which it depends (dependsOnMethods=&quot;Method1&quot;) failed and it is referred as soft dependency in testNG terminology.</p>\n<p>alwaysRun on @Before or @After annotated methods: if @BeforeSuite fails and @BeforeClass has alwaysRun = true then it won't be skipped. (although test case may get skipped)</p>\n<pre><code>public class TestAlwaysRun{\n\n    @BeforeSuite\n    public void toFailBeforeSuite() {\n        System.out.println(&quot;I'm beforeSuite, I will fail&quot;);\n        throw new RuntimeException();\n    }\n\n    @BeforeTest(alwaysRun = true)\n    public void toFailBeforeTest() {\n        System.out.println(&quot;BUG: I'm beforeTest, I will fail&quot;);\n        throw new RuntimeException();\n    }\n\n    @BeforeClass\n    public void toFailBeforeClass() {\n        System.out.println(&quot;BUG: I'm beforeClass, I will fail&quot;);\n        throw new RuntimeException();\n    }\n\n    @BeforeMethod(alwaysRun = true)\n    public void toFailBeforeMethod() {\n        System.out.println(&quot;BUG: I'm beforeMethod, I will fail&quot;);\n        //throw new RuntimeException();\n    }\n\n    @Test\n    public void tetsCase() {\n        System.out.println(&quot;I'm a Test Case&quot;);\n    }\n}\n\n[RemoteTestNG] detected TestNG version 7.4.0\nI'm beforeSuite, I will fail\nBUG: I'm beforeTest, I will fail\nBUG: I'm beforeMethod, I will fail\nFAILED CONFIGURATION: @BeforeTest toFailBeforeTest\njava.lang.RuntimeException\n    at testngTutorial.ABC.toFailBeforeTest(ABC.java:20)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n    at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\n    at org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\n    at org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\n    at org.testng.TestRunner.invokeTestConfigurations(TestRunner.java:637)\n    at org.testng.TestRunner.beforeRun(TestRunner.java:627)\n    at org.testng.TestRunner.run(TestRunner.java:589)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n    at org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n\nFAILED CONFIGURATION: @BeforeSuite toFailBeforeSuite\njava.lang.RuntimeException\n    at testngTutorial.ABC.toFailBeforeSuite(ABC.java:14)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n    at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\n    at org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\n    at org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:317)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n    at org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n\nSKIPPED: tetsCase\njava.lang.RuntimeException\n    at testngTutorial.ABC.toFailBeforeTest(ABC.java:20)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n    at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\n    at org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\n    at org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\n    at org.testng.TestRunner.invokeTestConfigurations(TestRunner.java:637)\n    at org.testng.TestRunner.beforeRun(TestRunner.java:627)\n    at org.testng.TestRunner.run(TestRunner.java:589)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n    at org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n\n\n===============================================\n    Default test\n    Tests run: 1, Failures: 0, Skips: 1\n    Configuration Failures: 2, Skips: 0\n===============================================\n\n\n===============================================\nDefault suite\nTotal tests run: 1, Passes: 0, Failures: 0, Skips: 1\nConfiguration Failures: 2, Skips: 0\n===============================================\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24367237,"reputation":21,"user_id":18300781,"display_name":"chu.r"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655445540,"creation_date":1655445540,"answer_id":72654908,"question_id":26252134,"body_markdown":"Even though the [documentation][1] has stated that\r\n\r\n&gt; For after methods (afterSuite, afterClass, ...): If set to true, this\r\n&gt; configuration method will be run even if one or more methods invoked\r\n&gt; previously failed or was skipped.\r\n\r\nHowever, in configfailurepolicy annotations, the following is stated when there&#39;s any test failures\r\n\r\n&gt; configfailurepolicy: Whether TestNG should continue to execute the\r\n&gt; remaining tests in the suite or skip them if an @before* method fails.\r\n&gt; Default behavior is skip.\r\n\r\nBTW, @AfterMethod is not a test method but a configuration one.\r\n\r\n  [1]: http://testng.org/doc/documentation-main.html#annotations","title":"alwaysRun parameter in TestNG","body":"<p>Even though the <a href=\"http://testng.org/doc/documentation-main.html#annotations\" rel=\"nofollow noreferrer\">documentation</a> has stated that</p>\n<blockquote>\n<p>For after methods (afterSuite, afterClass, ...): If set to true, this\nconfiguration method will be run even if one or more methods invoked\npreviously failed or was skipped.</p>\n</blockquote>\n<p>However, in configfailurepolicy annotations, the following is stated when there's any test failures</p>\n<blockquote>\n<p>configfailurepolicy: Whether TestNG should continue to execute the\nremaining tests in the suite or skip them if an @before* method fails.\nDefault behavior is skip.</p>\n</blockquote>\n<p>BTW, @AfterMethod is not a test method but a configuration one.</p>\n"}],"owner":{"account_id":5143761,"reputation":91,"user_id":4120293,"display_name":"Konrad Kaliściak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15823,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1655445540,"creation_date":1412756083,"question_id":26252134,"body_markdown":"Can someone please explain me when `@AfterMethod(alwaysRun = true)` should execute. Will it execute when `@test` method is skipped. In documentation is written so, but I have observed different behavior.\r\n\r\nExample:\r\nCode:\r\n\r\n    public class testing{\r\n                                    \r\n        @Test\r\n        public void testCase2(){\r\n    \t    System.out.println(&quot;in test case 2&quot;);\r\n    \t    Assert.assertEquals(1,2);\r\n        }\r\n    \r\n        @Test(dependsOnMethods = { &quot;testCase2&quot; })\r\n        public void testcase3(){\r\n        \tSystem.out.println(&quot;OK&quot;);\r\n        }\r\n    \r\n        @AfterMethod(alwaysRun = true)\r\n        public void afterMethod2() {\r\n            System.out.println(&quot;in afterMethod&quot;);\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    in test case 2\r\n    in afterMethod\r\n    FAILED: testCase2\r\n    java.lang.AssertionError: expected [2] but found [1]\r\n       at org.testng.Assert.fail(Assert.java:94)\r\n       at org.testng.Assert.failNotEquals(Assert.java:494)\r\n       at org.testng.Assert.assertEquals(Assert.java:123)\r\n       at org.testng.Assert.assertEquals(Assert.java:370)\r\n       at org.testng.Assert.assertEquals(Assert.java:380)\r\n       at app.testing.testCase2(testing.java:22)\r\n       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n       at java.lang.reflect.Method.invoke(Method.java:606)\r\n       at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:84)\r\n       at org.testng.internal.Invoker.invokeMethod(Invoker.java:714)\r\n       at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)\r\n       at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)\r\n       at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)\r\n       at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\r\n       at org.testng.TestRunner.privateRun(TestRunner.java:767)\r\n       at org.testng.TestRunner.run(TestRunner.java:617)\r\n       at org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\r\n       at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\r\n       at org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\r\n       at org.testng.SuiteRunner.run(SuiteRunner.java:240)\r\n       at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n       at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n       at org.testng.TestNG.runSuitesSequentially(TestNG.java:1224)\r\n       at org.testng.TestNG.runSuitesLocally(TestNG.java:1149)\r\n       at org.testng.TestNG.run(TestNG.java:1057)\r\n       at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:111)\r\n       at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:204)\r\n       at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:175)\r\n\r\n    SKIPPED: testcase3\r\n\r\n    ===============================================\r\n    Default test\r\n    Tests run: 2, Failures: 1, Skips: 1\r\n    ===============================================\r\n\r\n\r\n    ===============================================\r\n    Default suite\r\n    Total tests run: 2, Failures: 1, Skips: 1\r\n    ===============================================\r\n\r\nShouldn&#39;t `@After` method be executed twice, also after skipped `@Test`?\r\nThanks for answer in advance :)\r\n","title":"alwaysRun parameter in TestNG","body":"<p>Can someone please explain me when <code>@AfterMethod(alwaysRun = true)</code> should execute. Will it execute when <code>@test</code> method is skipped. In documentation is written so, but I have observed different behavior.</p>\n\n<p>Example:\nCode:</p>\n\n<pre><code>public class testing{\n\n    @Test\n    public void testCase2(){\n        System.out.println(\"in test case 2\");\n        Assert.assertEquals(1,2);\n    }\n\n    @Test(dependsOnMethods = { \"testCase2\" })\n    public void testcase3(){\n        System.out.println(\"OK\");\n    }\n\n    @AfterMethod(alwaysRun = true)\n    public void afterMethod2() {\n        System.out.println(\"in afterMethod\");\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>in test case 2\nin afterMethod\nFAILED: testCase2\njava.lang.AssertionError: expected [2] but found [1]\n   at org.testng.Assert.fail(Assert.java:94)\n   at org.testng.Assert.failNotEquals(Assert.java:494)\n   at org.testng.Assert.assertEquals(Assert.java:123)\n   at org.testng.Assert.assertEquals(Assert.java:370)\n   at org.testng.Assert.assertEquals(Assert.java:380)\n   at app.testing.testCase2(testing.java:22)\n   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n   at java.lang.reflect.Method.invoke(Method.java:606)\n   at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:84)\n   at org.testng.internal.Invoker.invokeMethod(Invoker.java:714)\n   at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)\n   at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)\n   at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)\n   at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\n   at org.testng.TestRunner.privateRun(TestRunner.java:767)\n   at org.testng.TestRunner.run(TestRunner.java:617)\n   at org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\n   at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\n   at org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\n   at org.testng.SuiteRunner.run(SuiteRunner.java:240)\n   at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n   at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n   at org.testng.TestNG.runSuitesSequentially(TestNG.java:1224)\n   at org.testng.TestNG.runSuitesLocally(TestNG.java:1149)\n   at org.testng.TestNG.run(TestNG.java:1057)\n   at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:111)\n   at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:204)\n   at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:175)\n\nSKIPPED: testcase3\n\n===============================================\nDefault test\nTests run: 2, Failures: 1, Skips: 1\n===============================================\n\n\n===============================================\nDefault suite\nTotal tests run: 2, Failures: 1, Skips: 1\n===============================================\n</code></pre>\n\n<p>Shouldn't <code>@After</code> method be executed twice, also after skipped <code>@Test</code>?\nThanks for answer in advance :)</p>\n"},{"tags":["java","visual-studio-code","javafx"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655445078,"creation_date":1655281823,"answer_id":72628162,"question_id":72625811,"body_markdown":"Please try adding the following configuration in your `setting.json` file.\r\n\r\n```json\r\n&quot;java.project.referencedLibraries&quot;: {\r\n    &quot;include&quot;: [\r\n        &quot;lib/**/*.jar&quot;,\r\n        &quot;%PATH_TO_FX%/lib/*.jar&quot;\r\n    ],\r\n    &quot;sources&quot;: {\r\n        &quot;%PATH_TO_FX%/lib/javafx.base.jar&quot;: &quot;%PATH_TO_FX%/src.zip&quot;,\r\n        &quot;%PATH_TO_FX%/lib/javafx.controls.jar&quot;: &quot;%PATH_TO_FX%/src.zip&quot;,\r\n        &quot;%PATH_TO_FX%/lib/javafx.fxml.jar&quot;: &quot;%PATH_TO_FX%/src.zip&quot;,\r\n        &quot;%PATH_TO_FX%/lib/javafx.graphics.jar&quot;: &quot;%PATH_TO_FX%/src.zip&quot;,\r\n        &quot;%PATH_TO_FX%/lib/javafx.media.jar&quot;: &quot;%PATH_TO_FX%/src.zip&quot;,\r\n        &quot;%PATH_TO_FX%/lib/javafx.swing.jar&quot;: &quot;%PATH_TO_FX%/src.zip&quot;,\r\n        &quot;%PATH_TO_FX%/lib/javafx.web.jar&quot;: &quot;%PATH_TO_FX%/src.zip&quot;,\r\n        &quot;%PATH_TO_FX%/lib/javafx.swt.jar&quot;: &quot;%PATH_TO_FX%/src.zip&quot;\r\n    }\r\n}\r\n```\r\n`%PATH_TO_FX%` is your javafx folder path.\r\n\r\n**another possible approach**\r\n\r\nfor example, a project like this:\r\n\r\n    /project\r\n     /lib\r\n      test-1.0.0.jar\r\n     /doc\r\n      test-1.0.0-javadoc.jar\r\nadd in your `.classPath` :\r\n\r\n    &lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/test-1.0.0.jar&quot;&gt;\r\n      &lt;attributes&gt;\r\n        &lt;attribute name=&quot;javadoc_location&quot; value=&quot;jar:platform:/resource/project/doc/test-1.0.0-javadoc.jar!/&quot; /&gt;\r\n      &lt;/attributes&gt;\r\n    &lt;/classpathentry&gt;\r\n\r\n**Update：**\r\n\r\nOpen the command palette with **ctrl + shift + p**, type `settings`. You will see that there are three `settings.json` files that can be opened. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Open Settings**: VS Code global settings. \r\n\r\n**Open Workspace Settings**: Only affects the current job. \r\n\r\n**Open Default Settings**: All default settings of vscode. \r\n\r\nSo, putting the settings in the `settings.json` that opens after selecting **Open Settings** will have an effect forever. \r\n\r\nBut there is one thing to note: if there is the *same setting command* in the `settings.json` of the workspace, the global settings will be overwritten (only valid for the workspace).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WXWD3.png","title":"How to add JavaFX javadocs to vscode when not using build tools","body":"<p>Please try adding the following configuration in your <code>setting.json</code> file.</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;java.project.referencedLibraries&quot;: {\n    &quot;include&quot;: [\n        &quot;lib/**/*.jar&quot;,\n        &quot;%PATH_TO_FX%/lib/*.jar&quot;\n    ],\n    &quot;sources&quot;: {\n        &quot;%PATH_TO_FX%/lib/javafx.base.jar&quot;: &quot;%PATH_TO_FX%/src.zip&quot;,\n        &quot;%PATH_TO_FX%/lib/javafx.controls.jar&quot;: &quot;%PATH_TO_FX%/src.zip&quot;,\n        &quot;%PATH_TO_FX%/lib/javafx.fxml.jar&quot;: &quot;%PATH_TO_FX%/src.zip&quot;,\n        &quot;%PATH_TO_FX%/lib/javafx.graphics.jar&quot;: &quot;%PATH_TO_FX%/src.zip&quot;,\n        &quot;%PATH_TO_FX%/lib/javafx.media.jar&quot;: &quot;%PATH_TO_FX%/src.zip&quot;,\n        &quot;%PATH_TO_FX%/lib/javafx.swing.jar&quot;: &quot;%PATH_TO_FX%/src.zip&quot;,\n        &quot;%PATH_TO_FX%/lib/javafx.web.jar&quot;: &quot;%PATH_TO_FX%/src.zip&quot;,\n        &quot;%PATH_TO_FX%/lib/javafx.swt.jar&quot;: &quot;%PATH_TO_FX%/src.zip&quot;\n    }\n}\n</code></pre>\n<p><code>%PATH_TO_FX%</code> is your javafx folder path.</p>\n<p><strong>another possible approach</strong></p>\n<p>for example, a project like this:</p>\n<pre><code>/project\n /lib\n  test-1.0.0.jar\n /doc\n  test-1.0.0-javadoc.jar\n</code></pre>\n<p>add in your <code>.classPath</code> :</p>\n<pre><code>&lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/test-1.0.0.jar&quot;&gt;\n  &lt;attributes&gt;\n    &lt;attribute name=&quot;javadoc_location&quot; value=&quot;jar:platform:/resource/project/doc/test-1.0.0-javadoc.jar!/&quot; /&gt;\n  &lt;/attributes&gt;\n&lt;/classpathentry&gt;\n</code></pre>\n<p><strong>Update：</strong></p>\n<p>Open the command palette with <strong>ctrl + shift + p</strong>, type <code>settings</code>. You will see that there are three <code>settings.json</code> files that can be opened.</p>\n<p><a href=\"https://i.stack.imgur.com/WXWD3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WXWD3.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Open Settings</strong>: VS Code global settings.</p>\n<p><strong>Open Workspace Settings</strong>: Only affects the current job.</p>\n<p><strong>Open Default Settings</strong>: All default settings of vscode.</p>\n<p>So, putting the settings in the <code>settings.json</code> that opens after selecting <strong>Open Settings</strong> will have an effect forever.</p>\n<p>But there is one thing to note: if there is the <em>same setting command</em> in the <code>settings.json</code> of the workspace, the global settings will be overwritten (only valid for the workspace).</p>\n"}],"owner":{"account_id":25541086,"reputation":13,"user_id":19327116,"display_name":"Wispy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72628162,"answer_count":1,"score":1,"last_activity_date":1655445078,"creation_date":1655265970,"question_id":72625811,"body_markdown":"I would like to add the documentation for JavaFX to vscode so that when I hover over functions it tells me what they do. I have downloaded the Javadocs from the JavaFX website but I don&#39;t know what to do with them now. I&#39;m creating my projects without any build tools through vscode. Any help would be appreciated.","title":"How to add JavaFX javadocs to vscode when not using build tools","body":"<p>I would like to add the documentation for JavaFX to vscode so that when I hover over functions it tells me what they do. I have downloaded the Javadocs from the JavaFX website but I don't know what to do with them now. I'm creating my projects without any build tools through vscode. Any help would be appreciated.</p>\n"},{"tags":["java","typescript","oop","design-patterns","architecture"],"comments":[{"owner":{"account_id":19833403,"reputation":571,"user_id":14527497,"display_name":"dangerousmanleesanghyeon"},"score":0,"creation_date":1655080055,"post_id":72596535,"comment_id":128238354,"body_markdown":"how about use &#39;decorator pattern&#39; ?","body":"how about use &#39;decorator pattern&#39; ?"},{"owner":{"account_id":14833753,"reputation":1556,"user_id":10712525,"display_name":"Lucas Vazquez"},"score":0,"creation_date":1655080891,"post_id":72596535,"comment_id":128238445,"body_markdown":"@dangerousmanleesanghyeon that&#39;s a good one. I left an answer based on the &quot;Chain of Responsibility&quot; design pattern, but I think I misunderstood some concepts and ended up implementing a decorator pattern.","body":"@dangerousmanleesanghyeon that&#39;s a good one. I left an answer based on the &quot;Chain of Responsibility&quot; design pattern, but I think I misunderstood some concepts and ended up implementing a decorator pattern."},{"owner":{"account_id":1455702,"reputation":15672,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":1,"creation_date":1655090154,"post_id":72596535,"comment_id":128239489,"body_markdown":"Questions about working code are more appropriate for https://codereview.stackexchange.com/.","body":"Questions about working code are more appropriate for <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>."}],"answers":[{"tags":[],"owner":{"account_id":14833753,"reputation":1556,"user_id":10712525,"display_name":"Lucas Vazquez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655244835,"creation_date":1655080606,"answer_id":72596819,"question_id":72596535,"body_markdown":"I leave here my own answer, but I&#39;m not going to select it as correct because I think there exist better answers (besides the fact that I am not very convinced of this implementation).\r\n\r\nA kind of [Decorator design pattern](https://refactoring.guru/design-patterns/decorator) allowed me to do chain validation with greater use of the dependency injection approach.\r\nI leave here the code but only for Python (I have reduced the number of phases from 4 to 2 to simplify the example).\r\n```python\r\nfrom __future__ import annotations\r\n\r\nimport abc\r\nfrom typing import cast\r\nfrom typing import Any\r\nfrom typing import TypedDict\r\n\r\n\r\nNotValidatedConfig = dict\r\nValidatedConfig = TypedDict(&quot;ValidatedConfig&quot;, {&quot;foo&quot;: Any, &quot;bar&quot;: Any})\r\n\r\n\r\nclass InvalidConfig(Exception):\r\n    ...\r\n\r\n\r\n# This class is abstract.\r\nclass ValidationHandler(abc.ABC):\r\n    _handler: ValidationHandler | None\r\n\r\n    def __init__(self, handler: ValidationHandler = None):\r\n        self._handler = handler\r\n\r\n    # This method is abstract.\r\n    @abc.abstractmethod\r\n    def _validate(self, not_validated_config: NotValidatedConfig):\r\n        ...\r\n\r\n    def _chain_validation(self, not_validated_config: NotValidatedConfig):\r\n        if self._handler:\r\n            self._handler._chain_validation(not_validated_config)\r\n        self._validate(not_validated_config)\r\n\r\n    def get_validated_config(self, not_validated_config: NotValidatedConfig) -&gt; ValidatedConfig:\r\n        self._chain_validation(not_validated_config)\r\n\r\n        # Here we convert (in a forced way) the type `NotValidatedConfig` to\r\n        # `ValidatedConfig`.\r\n        # We do this because we already run all the validations chain.\r\n        # Force a type is not a good way to deal with a problem, and this is\r\n        # the main downside of this implementation (but it works anyway).\r\n        return cast(ValidatedConfig, not_validated_config)\r\n\r\n\r\nclass Phase1Validation(ValidationHandler):\r\n\r\n    def _validate(self, not_validated_config: NotValidatedConfig):\r\n        if &quot;foo&quot; not in not_validated_config:\r\n            raise InvalidConfig(&#39;Config miss &quot;foo&quot; attr&#39;)\r\n\r\n\r\nclass Phase2Validation(ValidationHandler):\r\n\r\n    def _validate(self, not_validated_config: NotValidatedConfig):\r\n        if not isinstance(not_validated_config[&quot;foo&quot;], str):\r\n            raise InvalidConfig(&#39;&quot;foo&quot; must be an string&#39;)\r\n\r\n\r\nclass Validator:\r\n    _validation_handler: ValidationHandler\r\n\r\n    def __init__(self, validation_handler: ValidationHandler):\r\n        self._validation_handler = validation_handler\r\n\r\n    def validate_config(self, not_validated_config: NotValidatedConfig) -&gt; ValidatedConfig:\r\n        return self._validation_handler.get_validated_config(not_validated_config)\r\n\r\n\r\nif __name__ == &quot;__main__&quot;:\r\n    # &quot;Pure Dependency Injection&quot;\r\n    validator = Validator((Phase2Validation(Phase1Validation())))\r\n    validator.validate_config({&quot;foo&quot;: 1, &quot;bar&quot;: 1})\r\n```\r\n\r\nWhat is the problem with this approach?: the lightweight way in which the types are concatenated. In the original example, the `Phase1Validation` generates a `ValidatedPhase1Config`, which is safely used by the `Phase2Validation`. With this implementation, each decorator receives the same data type to validate, and this creates safety issues (in terms of typing). The `Phase1Validation` gets `NotValidatedConfig`, but the `Phase2Validation` can&#39;t use that type to do the validation, they need the `Phase1Validation`.\r\n","title":"Chained creational OOP design pattern problem","body":"<p>I leave here my own answer, but I'm not going to select it as correct because I think there exist better answers (besides the fact that I am not very convinced of this implementation).</p>\n<p>A kind of <a href=\"https://refactoring.guru/design-patterns/decorator\" rel=\"nofollow noreferrer\">Decorator design pattern</a> allowed me to do chain validation with greater use of the dependency injection approach.\nI leave here the code but only for Python (I have reduced the number of phases from 4 to 2 to simplify the example).</p>\n<pre class=\"lang-py prettyprint-override\"><code>from __future__ import annotations\n\nimport abc\nfrom typing import cast\nfrom typing import Any\nfrom typing import TypedDict\n\n\nNotValidatedConfig = dict\nValidatedConfig = TypedDict(&quot;ValidatedConfig&quot;, {&quot;foo&quot;: Any, &quot;bar&quot;: Any})\n\n\nclass InvalidConfig(Exception):\n    ...\n\n\n# This class is abstract.\nclass ValidationHandler(abc.ABC):\n    _handler: ValidationHandler | None\n\n    def __init__(self, handler: ValidationHandler = None):\n        self._handler = handler\n\n    # This method is abstract.\n    @abc.abstractmethod\n    def _validate(self, not_validated_config: NotValidatedConfig):\n        ...\n\n    def _chain_validation(self, not_validated_config: NotValidatedConfig):\n        if self._handler:\n            self._handler._chain_validation(not_validated_config)\n        self._validate(not_validated_config)\n\n    def get_validated_config(self, not_validated_config: NotValidatedConfig) -&gt; ValidatedConfig:\n        self._chain_validation(not_validated_config)\n\n        # Here we convert (in a forced way) the type `NotValidatedConfig` to\n        # `ValidatedConfig`.\n        # We do this because we already run all the validations chain.\n        # Force a type is not a good way to deal with a problem, and this is\n        # the main downside of this implementation (but it works anyway).\n        return cast(ValidatedConfig, not_validated_config)\n\n\nclass Phase1Validation(ValidationHandler):\n\n    def _validate(self, not_validated_config: NotValidatedConfig):\n        if &quot;foo&quot; not in not_validated_config:\n            raise InvalidConfig('Config miss &quot;foo&quot; attr')\n\n\nclass Phase2Validation(ValidationHandler):\n\n    def _validate(self, not_validated_config: NotValidatedConfig):\n        if not isinstance(not_validated_config[&quot;foo&quot;], str):\n            raise InvalidConfig('&quot;foo&quot; must be an string')\n\n\nclass Validator:\n    _validation_handler: ValidationHandler\n\n    def __init__(self, validation_handler: ValidationHandler):\n        self._validation_handler = validation_handler\n\n    def validate_config(self, not_validated_config: NotValidatedConfig) -&gt; ValidatedConfig:\n        return self._validation_handler.get_validated_config(not_validated_config)\n\n\nif __name__ == &quot;__main__&quot;:\n    # &quot;Pure Dependency Injection&quot;\n    validator = Validator((Phase2Validation(Phase1Validation())))\n    validator.validate_config({&quot;foo&quot;: 1, &quot;bar&quot;: 1})\n</code></pre>\n<p>What is the problem with this approach?: the lightweight way in which the types are concatenated. In the original example, the <code>Phase1Validation</code> generates a <code>ValidatedPhase1Config</code>, which is safely used by the <code>Phase2Validation</code>. With this implementation, each decorator receives the same data type to validate, and this creates safety issues (in terms of typing). The <code>Phase1Validation</code> gets <code>NotValidatedConfig</code>, but the <code>Phase2Validation</code> can't use that type to do the validation, they need the <code>Phase1Validation</code>.</p>\n"},{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655444814,"creation_date":1655298424,"answer_id":72631990,"question_id":72596535,"body_markdown":"I would create a base class `Validation` and just create derived classes from it if it is necessary to add new validation:\r\n\r\n\tpublic abstract class Validation\r\n\t{\r\n\t\tpublic Validation(string config)\r\n\t\t{\r\n\r\n\t\t}\r\n\r\n\t\tpublic abstract string Validate();\r\n\t}\r\n\t\r\nand its concrete implementations:\r\n\r\n\tpublic class Phase1Validation : Validation\r\n\t{\r\n\t\tpublic Phase1Validation(string config) : base(config)\r\n\t\t{}\r\n\r\n\t\tpublic override string Validate()\r\n\t\t{\r\n\t\t\tif (true)\r\n\t\t\t\treturn null;\r\n\r\n\t\t\treturn &quot;There are some errors Phase1Validation&quot;;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic class Phase2Validation : Validation\r\n\t{\r\n\t\tpublic Phase2Validation(string config) : base(config)\r\n\t\t{\r\n\r\n\t\t}\r\n\r\n\t\tpublic override string Validate()\r\n\t\t{\r\n\t\t\tif (true)\r\n\t\t\t\treturn null;\r\n\r\n\t\t\treturn &quot;There are some errors in Phase2Validation&quot;;\r\n\t\t}\r\n\t}\r\n\t\r\nand then just create a list of validators and iterate through them to find errors:\r\n\r\n\tpublic string Validate()\r\n\t{\r\n\t\tList&lt;Validation&gt; validations = new List&lt;Validation&gt;()\r\n\t\t{\r\n\t\t\tnew Phase1Validation(&quot;config 1&quot;),\r\n\t\t\tnew Phase2Validation(&quot;config 2&quot;)\r\n\t\t};\r\n\r\n\t\tforeach (Validation validation in validations)\r\n\t\t{\r\n\t\t\tstring error = validation.Validate();\r\n\t\t\tif (!string.IsNullOrEmpty(error))\r\n\t\t\t\treturn error;\r\n\t\t}\r\n\r\n\t\treturn null; // it means that there are no errors\r\n\t}\r\n\r\n**UPDATE:** \r\n\r\nI&#39;ve little bit edited my classes to fit your new question requirements:\r\n- validations should be ordered. Added `Order` property\r\n- get config from previous validation and send it to the next validation\r\n\r\nIt can be seen that this approach allows to avoid to write nested classes like this:\r\n\r\n    new Phase4Validation(\r\n       new Phase3Validation(\r\n          new Phase2Validation(...).validate()\r\n       ).validate()\r\n    ).validate()\r\n\r\nSo you can add new classes without editing validation classes and it helps to keep [Open CLosed Principle][1] of [SOLID][2] principles.\r\n\r\nSo the code looks like this:\r\n\r\nAbstractions:\r\n\r\n    public abstract class Validation\r\n    {\r\n        // Order to handle your validations\r\n        public int Order { get; set; }\r\n    \r\n        // Your config file\r\n        public string Config { get; set; }\r\n    \r\n        public Validation(int order)\r\n        {\r\n            Order = order;\r\n        }\r\n    \r\n    \r\n    \r\n        // &quot;virtual&quot; means that method can be overriden\r\n        public virtual string Validate(string config) \r\n        {\r\n            Config = config;\r\n    \r\n            if (true)\r\n                return null;\r\n    \r\n            return &quot;There are some errors Phase1Validation&quot;;\r\n        }\r\n    }\r\n\r\nAnd its concrete implementations:\r\n\r\n    public class Phase1Validation : Validation\r\n    {\r\n        public Phase1Validation(int order) : base(order)\r\n        {\r\n        }\r\n    }\r\n    \r\n    public class Phase2Validation : Validation\r\n    {\r\n        public Phase2Validation(int order) : base(order)\r\n        {\r\n        }\r\n    }\r\n\r\nAnd method to validate:\r\n\r\n    string Validate()\r\n    {\r\n        List&lt;Validation&gt; validations = new List&lt;Validation&gt;()\r\n        {\r\n            new Phase1Validation(1),\r\n            new Phase2Validation(2)\r\n        };\r\n    \r\n        validations = validations.OrderBy(v =&gt; v.Order).ToList();\r\n        string config = &quot;&quot;;\r\n        foreach (Validation validation in validations)\r\n        {\r\n            string error = validation.Validate(config);\r\n            config = validation.Config;\r\n            if (!string.IsNullOrEmpty(error))\r\n                return error;\r\n        }\r\n    \r\n        return null; // it means that there are no errors\r\n    }\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/questions/19627/clarify-the-open-closed-principle\r\n  [2]: https://stackoverflow.com/questions/13692126/cant-seem-to-understand-solid-principles-and-design-patterns\r\n","title":"Chained creational OOP design pattern problem","body":"<p>I would create a base class <code>Validation</code> and just create derived classes from it if it is necessary to add new validation:</p>\n<pre><code>public abstract class Validation\n{\n    public Validation(string config)\n    {\n\n    }\n\n    public abstract string Validate();\n}\n</code></pre>\n<p>and its concrete implementations:</p>\n<pre><code>public class Phase1Validation : Validation\n{\n    public Phase1Validation(string config) : base(config)\n    {}\n\n    public override string Validate()\n    {\n        if (true)\n            return null;\n\n        return &quot;There are some errors Phase1Validation&quot;;\n    }\n}\n\npublic class Phase2Validation : Validation\n{\n    public Phase2Validation(string config) : base(config)\n    {\n\n    }\n\n    public override string Validate()\n    {\n        if (true)\n            return null;\n\n        return &quot;There are some errors in Phase2Validation&quot;;\n    }\n}\n</code></pre>\n<p>and then just create a list of validators and iterate through them to find errors:</p>\n<pre><code>public string Validate()\n{\n    List&lt;Validation&gt; validations = new List&lt;Validation&gt;()\n    {\n        new Phase1Validation(&quot;config 1&quot;),\n        new Phase2Validation(&quot;config 2&quot;)\n    };\n\n    foreach (Validation validation in validations)\n    {\n        string error = validation.Validate();\n        if (!string.IsNullOrEmpty(error))\n            return error;\n    }\n\n    return null; // it means that there are no errors\n}\n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<p>I've little bit edited my classes to fit your new question requirements:</p>\n<ul>\n<li>validations should be ordered. Added <code>Order</code> property</li>\n<li>get config from previous validation and send it to the next validation</li>\n</ul>\n<p>It can be seen that this approach allows to avoid to write nested classes like this:</p>\n<pre><code>new Phase4Validation(\n   new Phase3Validation(\n      new Phase2Validation(...).validate()\n   ).validate()\n).validate()\n</code></pre>\n<p>So you can add new classes without editing validation classes and it helps to keep <a href=\"https://softwareengineering.stackexchange.com/questions/19627/clarify-the-open-closed-principle\">Open CLosed Principle</a> of <a href=\"https://stackoverflow.com/questions/13692126/cant-seem-to-understand-solid-principles-and-design-patterns\">SOLID</a> principles.</p>\n<p>So the code looks like this:</p>\n<p>Abstractions:</p>\n<pre><code>public abstract class Validation\n{\n    // Order to handle your validations\n    public int Order { get; set; }\n\n    // Your config file\n    public string Config { get; set; }\n\n    public Validation(int order)\n    {\n        Order = order;\n    }\n\n\n\n    // &quot;virtual&quot; means that method can be overriden\n    public virtual string Validate(string config) \n    {\n        Config = config;\n\n        if (true)\n            return null;\n\n        return &quot;There are some errors Phase1Validation&quot;;\n    }\n}\n</code></pre>\n<p>And its concrete implementations:</p>\n<pre><code>public class Phase1Validation : Validation\n{\n    public Phase1Validation(int order) : base(order)\n    {\n    }\n}\n\npublic class Phase2Validation : Validation\n{\n    public Phase2Validation(int order) : base(order)\n    {\n    }\n}\n</code></pre>\n<p>And method to validate:</p>\n<pre><code>string Validate()\n{\n    List&lt;Validation&gt; validations = new List&lt;Validation&gt;()\n    {\n        new Phase1Validation(1),\n        new Phase2Validation(2)\n    };\n\n    validations = validations.OrderBy(v =&gt; v.Order).ToList();\n    string config = &quot;&quot;;\n    foreach (Validation validation in validations)\n    {\n        string error = validation.Validate(config);\n        config = validation.Config;\n        if (!string.IsNullOrEmpty(error))\n            return error;\n    }\n\n    return null; // it means that there are no errors\n}\n</code></pre>\n"}],"owner":{"account_id":14833753,"reputation":1556,"user_id":10712525,"display_name":"Lucas Vazquez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1655444814,"creation_date":1655075999,"question_id":72596535,"body_markdown":"I am creating a class that is responsible for validating a configuration. This class calls other classes that validate said config by creating new instances in the form of a chain. At first glance, the code structure looks horrible, but It works. Anyway, I think it&#39;s not the best way to handle this logic.\r\n\r\nI leave here a simplified version of the code in TypeScript, but I also leave it in Python and Java for reference only:\r\n```typescript\r\nclass Validator {\r\n    private _notValidatedConfig: NotValidatedConfig\r\n\r\n    constructor(notValidatedConfig: NotValidatedConfig) {\r\n        this._notValidatedConfig = notValidatedConfig\r\n    }\r\n\r\n    validateConfig(): ValidatedConfig {\r\n        return (\r\n            new Phase4Validation(\r\n                new Phase3Validation(\r\n                    new Phase2Validation(\r\n                        new Phase1Validation(\r\n                            this._notValidatedConfig\r\n                        ).validate()\r\n                    ).validate()\r\n                ).validate()\r\n            ).validate()\r\n        )\r\n    }\r\n\r\n    // Alternative\r\n    validateConfig2(): ValidatedConfig {\r\n        const validatedPhase1Config: ValidatedPhase1Config = new Phase1Validation(this._notValidatedConfig).validate()\r\n        const validatedPhase2Config: ValidatedPhase2Config = new Phase2Validation(validatedPhase1Config).validate()\r\n        const validatedPhase3Config: ValidatedPhase3Config = new Phase3Validation(validatedPhase2Config).validate()\r\n        const validatedPhase4Config: ValidatedPhase4Config = new Phase4Validation(validatedPhase3Config).validate()\r\n        return validatedPhase4Config;\r\n    }\r\n}\r\n```\r\n- [Python](https://pastebin.com/2nZNnCiQ)\r\n- [Java](https://pastebin.com/riUzU9gA) Disclaimer: I don&#39;t have any experience with Java, so maybe there are some syntax errors.\r\n\r\nThe &quot;alternative&quot; is the same code, but not directly chained, instead, for every validation, it&#39;s creating a new variable.\r\nI think the &quot;alternative&quot; is more readable but performs worse.\r\n\r\nWhat do you think about this code? what did you change? How would you face this problem or with what design pattern or framework? _(programming language doesn&#39;t matter for these question)_\r\n","title":"Chained creational OOP design pattern problem","body":"<p>I am creating a class that is responsible for validating a configuration. This class calls other classes that validate said config by creating new instances in the form of a chain. At first glance, the code structure looks horrible, but It works. Anyway, I think it's not the best way to handle this logic.</p>\n<p>I leave here a simplified version of the code in TypeScript, but I also leave it in Python and Java for reference only:</p>\n<pre class=\"lang-js prettyprint-override\"><code>class Validator {\n    private _notValidatedConfig: NotValidatedConfig\n\n    constructor(notValidatedConfig: NotValidatedConfig) {\n        this._notValidatedConfig = notValidatedConfig\n    }\n\n    validateConfig(): ValidatedConfig {\n        return (\n            new Phase4Validation(\n                new Phase3Validation(\n                    new Phase2Validation(\n                        new Phase1Validation(\n                            this._notValidatedConfig\n                        ).validate()\n                    ).validate()\n                ).validate()\n            ).validate()\n        )\n    }\n\n    // Alternative\n    validateConfig2(): ValidatedConfig {\n        const validatedPhase1Config: ValidatedPhase1Config = new Phase1Validation(this._notValidatedConfig).validate()\n        const validatedPhase2Config: ValidatedPhase2Config = new Phase2Validation(validatedPhase1Config).validate()\n        const validatedPhase3Config: ValidatedPhase3Config = new Phase3Validation(validatedPhase2Config).validate()\n        const validatedPhase4Config: ValidatedPhase4Config = new Phase4Validation(validatedPhase3Config).validate()\n        return validatedPhase4Config;\n    }\n}\n</code></pre>\n<ul>\n<li><a href=\"https://pastebin.com/2nZNnCiQ\" rel=\"nofollow noreferrer\">Python</a></li>\n<li><a href=\"https://pastebin.com/riUzU9gA\" rel=\"nofollow noreferrer\">Java</a> Disclaimer: I don't have any experience with Java, so maybe there are some syntax errors.</li>\n</ul>\n<p>The &quot;alternative&quot; is the same code, but not directly chained, instead, for every validation, it's creating a new variable.\nI think the &quot;alternative&quot; is more readable but performs worse.</p>\n<p>What do you think about this code? what did you change? How would you face this problem or with what design pattern or framework? <em>(programming language doesn't matter for these question)</em></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1428668307,"post_id":8654141,"comment_id":47272220,"body_markdown":"It is impossible to *just* convert a byte to a string. [You must use a character encoding](http://stackoverflow.com/questions/10611455/what-is-character-encoding).","body":"It is impossible to <i>just</i> convert a byte to a string. <a href=\"http://stackoverflow.com/questions/10611455/what-is-character-encoding\">You must use a character encoding</a>."}],"answers":[{"tags":[],"owner":{"account_id":212263,"reputation":136294,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1325065507,"creation_date":1325065095,"answer_id":8654166,"question_id":8654141,"body_markdown":"You can use [`printf`][1]:\r\n\r\n    System.out.printf(&quot;string %c\\n&quot;, 0x63);\r\n\r\nYou can as well create a String with such formatting, using [`String#format`][2]:\r\n\r\n    String s = String.format(&quot;string %c&quot;, 0x63);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/PrintStream.html#printf%28java.lang.String,%20java.lang.Object...%29\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29","title":"Convert byte to string in Java","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/PrintStream.html#printf%28java.lang.String,%20java.lang.Object...%29\" rel=\"nofollow\"><code>printf</code></a>:</p>\n\n<pre><code>System.out.printf(\"string %c\\n\", 0x63);\n</code></pre>\n\n<p>You can as well create a String with such formatting, using <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29\" rel=\"nofollow\"><code>String#format</code></a>:</p>\n\n<pre><code>String s = String.format(\"string %c\", 0x63);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":248843,"reputation":17423,"user_id":524475,"accept_rate":100,"display_name":"Matten"},"down_vote_count":3,"up_vote_count":26,"is_accepted":true,"score":23,"last_activity_date":1325065170,"creation_date":1325065170,"answer_id":8654174,"question_id":8654141,"body_markdown":"The string ctor is suitable for this conversion:\r\n\r\n    System.out.println(&quot;string &quot; + new String(new byte[] {0x63}));","title":"Convert byte to string in Java","body":"<p>The string ctor is suitable for this conversion:</p>\n\n<pre><code>System.out.println(\"string \" + new String(new byte[] {0x63}));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1325065300,"creation_date":1325065300,"answer_id":8654189,"question_id":8654141,"body_markdown":"    System.out.println(new String(new byte[]{ (byte)0x63 }, &quot;US-ASCII&quot;));\r\n\r\nNote especially that converting bytes to Strings *always* involves an encoding. If you do not specify it, you&#39;ll be using the platform default encoding, which means the code can break when running in different environments.","title":"Convert byte to string in Java","body":"<pre><code>System.out.println(new String(new byte[]{ (byte)0x63 }, \"US-ASCII\"));\n</code></pre>\n\n<p>Note especially that converting bytes to Strings <em>always</em> involves an encoding. If you do not specify it, you'll be using the platform default encoding, which means the code can break when running in different environments.</p>\n"},{"tags":[],"owner":{"account_id":465150,"reputation":4393,"user_id":869053,"accept_rate":92,"display_name":"dimme"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1325065645,"creation_date":1325065311,"answer_id":8654195,"question_id":8654141,"body_markdown":"You have to construct a new string out of a byte array. The first element in your `byteArray` should be `0x63`. If you want to add any more letters, make the `byteArray` longer and add them to the next indices.\r\n\r\n    byte[] byteArray = new byte[1];\r\n    byteArray[0] = 0x63;\r\n    \t\t\r\n    try {\r\n    \tSystem.out.println(&quot;string &quot; + new String(byteArray, &quot;US-ASCII&quot;));\r\n    } catch (UnsupportedEncodingException e) {\r\n    \t// TODO: Handle exception.\r\n    \te.printStackTrace();\r\n    }\r\n\r\nNote that specifying the encoding will eventually throw an `UnsupportedEncodingException` and you must handle that accordingly.","title":"Convert byte to string in Java","body":"<p>You have to construct a new string out of a byte array. The first element in your <code>byteArray</code> should be <code>0x63</code>. If you want to add any more letters, make the <code>byteArray</code> longer and add them to the next indices.</p>\n\n<pre><code>byte[] byteArray = new byte[1];\nbyteArray[0] = 0x63;\n\ntry {\n    System.out.println(\"string \" + new String(byteArray, \"US-ASCII\"));\n} catch (UnsupportedEncodingException e) {\n    // TODO: Handle exception.\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Note that specifying the encoding will eventually throw an <code>UnsupportedEncodingException</code> and you must handle that accordingly.</p>\n"},{"tags":[],"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325065338,"creation_date":1325065338,"answer_id":8654201,"question_id":8654141,"body_markdown":"If it&#39;s a single byte, just cast the `byte` to a `char` and it should work out to be fine i.e. give a `char` entity corresponding to the codepoint value of the given byte. If not, use the `String` constructor as mentioned elsewhere.\r\n   \r\n    char ch = (char)0x63;\r\n    System.out.println(ch);","title":"Convert byte to string in Java","body":"<p>If it's a single byte, just cast the <code>byte</code> to a <code>char</code> and it should work out to be fine i.e. give a <code>char</code> entity corresponding to the codepoint value of the given byte. If not, use the <code>String</code> constructor as mentioned elsewhere.</p>\n\n<pre><code>char ch = (char)0x63;\nSystem.out.println(ch);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":765907,"reputation":30034,"user_id":786935,"accept_rate":87,"display_name":"Hemant Metalia"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1325065345,"creation_date":1325065345,"answer_id":8654203,"question_id":8654141,"body_markdown":"you can use\r\n\r\nthe **character equivalent to 0x63 is &#39;c&#39; but byte equivalent to it is 99**\r\n  \r\n    System.out.println(&quot;byte &quot;+(char)0x63); ","title":"Convert byte to string in Java","body":"<p>you can use</p>\n\n<p>the <strong>character equivalent to 0x63 is 'c' but byte equivalent to it is 99</strong></p>\n\n<pre><code>System.out.println(\"byte \"+(char)0x63); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1325067805,"creation_date":1325065571,"answer_id":8654230,"question_id":8654141,"body_markdown":"Use char instead of byte:\r\n\r\n    System.out.println(&quot;string &quot; + (char)0x63);\r\n\r\nOr if you want to be a Unicode puritan, you use codepoints:\r\n\r\n    System.out.println(&quot;string &quot; + new String(new int[]{ 0x63 }, 0, 1));\r\n\r\nAnd if you like the old skool US-ASCII &quot;every byte is a character&quot; idea:\r\n\r\n    System.out.println(&quot;string &quot; + new String(new byte[]{ (byte)0x63 },\r\n                                              StandardCharsets.US_ASCII));\r\n\r\nAvoid using the `String(byte[])` constructor recommended in other answers; it relies on the default charset. Circumstances could arise where `0x63` actually isn&#39;t the character *c*. ","title":"Convert byte to string in Java","body":"<p>Use char instead of byte:</p>\n\n<pre><code>System.out.println(\"string \" + (char)0x63);\n</code></pre>\n\n<p>Or if you want to be a Unicode puritan, you use codepoints:</p>\n\n<pre><code>System.out.println(\"string \" + new String(new int[]{ 0x63 }, 0, 1));\n</code></pre>\n\n<p>And if you like the old skool US-ASCII \"every byte is a character\" idea:</p>\n\n<pre><code>System.out.println(\"string \" + new String(new byte[]{ (byte)0x63 },\n                                          StandardCharsets.US_ASCII));\n</code></pre>\n\n<p>Avoid using the <code>String(byte[])</code> constructor recommended in other answers; it relies on the default charset. Circumstances could arise where <code>0x63</code> actually isn't the character <em>c</em>. </p>\n"},{"tags":[],"owner":{"account_id":38907,"reputation":53159,"user_id":111988,"accept_rate":74,"display_name":"Sunil Kumar Sahoo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325066717,"creation_date":1325066717,"answer_id":8654415,"question_id":8654141,"body_markdown":"    String str = &quot;0x63&quot;;\r\n    int temp = Integer.parseInt(str.substring(2, 4), 16);\r\n    char c = (char)temp;\r\n    System.out.print(c);","title":"Convert byte to string in Java","body":"<pre><code>String str = \"0x63\";\nint temp = Integer.parseInt(str.substring(2, 4), 16);\nchar c = (char)temp;\nSystem.out.print(c);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9910663,"reputation":99,"user_id":7337517,"display_name":"Kundan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573706118,"creation_date":1573706118,"answer_id":58849454,"question_id":8654141,"body_markdown":"This is my version:\r\n\r\n    public String convertBytestoString(InputStream inputStream)\r\n    {\r\n        int bytes;\r\n        byte[] buffer = new byte[1024];\r\n    \r\n        bytes = inputStream.read(buffer);\r\n        String stringData = new String(buffer,0,bytes);\r\n    \r\n        return stringData;\r\n    \r\n    }\r\n\r\n","title":"Convert byte to string in Java","body":"<p>This is my version:</p>\n\n<pre><code>public String convertBytestoString(InputStream inputStream)\n{\n    int bytes;\n    byte[] buffer = new byte[1024];\n\n    bytes = inputStream.read(buffer);\n    String stringData = new String(buffer,0,bytes);\n\n    return stringData;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3565126,"reputation":2683,"user_id":2976879,"display_name":"Elmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655444790,"creation_date":1655444790,"answer_id":72654818,"question_id":8654141,"body_markdown":"Using StringBuilder class in Java:\r\n\r\n    StringBuilder str = new StringBuilder();\r\n            for (byte aByte : bytesArray) {\r\n                if (aByte != 0) {\r\n                    str.append((char) aByte);\r\n                } else {\r\n                    break;\r\n                }","title":"Convert byte to string in Java","body":"<p>Using StringBuilder class in Java:</p>\n<pre><code>StringBuilder str = new StringBuilder();\n        for (byte aByte : bytesArray) {\n            if (aByte != 0) {\n                str.append((char) aByte);\n            } else {\n                break;\n            }\n</code></pre>\n"}],"owner":{"account_id":1071823,"reputation":6802,"user_id":1070896,"accept_rate":99,"display_name":"brian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130863,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":8654174,"answer_count":10,"score":29,"last_activity_date":1655444790,"creation_date":1325064980,"question_id":8654141,"body_markdown":"I use below code to convert byte to string:\r\n\r\n    System.out.println(&quot;string &quot; + Byte.toString((byte)0x63));\r\n\r\nWhy it print &quot;string  99&quot;.\r\nHow to modify to let it print &quot;string  c&quot;?","title":"Convert byte to string in Java","body":"<p>I use below code to convert byte to string:</p>\n\n<pre><code>System.out.println(\"string \" + Byte.toString((byte)0x63));\n</code></pre>\n\n<p>Why it print \"string  99\".\nHow to modify to let it print \"string  c\"?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":2,"creation_date":1655445086,"post_id":72654761,"comment_id":128338471,"body_markdown":"You need to move `int points = 0;` outside of the `actionPerformed` method so that it becomes a class variable that will retain the value between method calls, just like the other score values `private int p1Score = 0;`. For this to work make sure that you set the points back to 0 at the end of the submitBtn method `points = 0;`","body":"You need to move <code>int points = 0;</code> outside of the <code>actionPerformed</code> method so that it becomes a class variable that will retain the value between method calls, just like the other score values <code>private int p1Score = 0;</code>. For this to work make sure that you set the points back to 0 at the end of the submitBtn method <code>points = 0;</code>"},{"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"score":0,"creation_date":1655445367,"post_id":72654761,"comment_id":128338534,"body_markdown":"I&#39;d like to see `setPoints()` and `getScore()` - are you sure these two are working correctly? And why the different names for the getter and setter? Finally, how does `Players pl` know which player&#39;s score you are adding? (And I think you should redesign it)","body":"I&#39;d like to see <code>setPoints()</code> and <code>getScore()</code> - are you sure these two are working correctly? And why the different names for the getter and setter? Finally, how does <code>Players pl</code> know which player&#39;s score you are adding? (And I think you should redesign it)"}],"owner":{"account_id":21021792,"reputation":45,"user_id":18874122,"display_name":"ChefCurry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655444306,"creation_date":1655444306,"question_id":72654761,"body_markdown":"I&#39;m creating a game like jeopardy where you have the buttons from each row worth points ranging from 500 - 100. What I&#39;m stuck on his how to add these points to the current score. Here&#39;s what I have:\r\n\r\n```\r\npublic class GUIWindow implements ActionListener{\r\nPlayers p1 = new Players();\r\n  private int p1Score = 0;  \r\n    private int p2Score = 0;\r\n\r\n\r\npublic void actionPerformed(ActionEvent e){\r\nint points = 0;    \r\nfor(int i = 0; i &lt; 5; i++){\r\n     if(e.getSource() == boardButtonsRow1[i]){\r\n       points = 500;\r\n     }else if(e.getSource() == boardButtonsRow2[i]){\r\n       points = 400;\r\n     }else if(e.getSource() == boardButtonsRow3[i]){\r\n       points = 300;\r\n     }else if(e.getSource() == boardButtonsRow4[i]){\r\n       points = 200;    \r\n     }else if(e.getSource() == boardButtonsRow2[i]){\r\n       points = 100;    \r\n    } \r\n   \r\n}\r\n                      \r\nif(e.getSource() == submitBtn){\r\nString answer = answerEntry.getText();\r\n    if(answer.equalsIgnoreCase(q1.getAnswer())){\r\n                       \r\n         System.out.println(&quot;Correct&quot;);\r\n         System.out.println(points);\r\n         p1Score = p1Score + points;\r\n         p1.setPoints(p1Score);\r\n         showP1ScoreLbl.setText(&quot;&quot;+p1.getScore());\r\n      \r\n    }\r\n\r\n}     \r\n```\r\nThe buttons are stored in rows and setup in arrays. I have a player class that stores the points (p1). When the user presses the submit button it checks if the answer is correct and adds this number of points to the label on my GUI. I don&#39;t know what I&#39;m missing here but even when the answer is right it still shows 0.               ","title":"Setting points for JButton pressed","body":"<p>I'm creating a game like jeopardy where you have the buttons from each row worth points ranging from 500 - 100. What I'm stuck on his how to add these points to the current score. Here's what I have:</p>\n<pre><code>public class GUIWindow implements ActionListener{\nPlayers p1 = new Players();\n  private int p1Score = 0;  \n    private int p2Score = 0;\n\n\npublic void actionPerformed(ActionEvent e){\nint points = 0;    \nfor(int i = 0; i &lt; 5; i++){\n     if(e.getSource() == boardButtonsRow1[i]){\n       points = 500;\n     }else if(e.getSource() == boardButtonsRow2[i]){\n       points = 400;\n     }else if(e.getSource() == boardButtonsRow3[i]){\n       points = 300;\n     }else if(e.getSource() == boardButtonsRow4[i]){\n       points = 200;    \n     }else if(e.getSource() == boardButtonsRow2[i]){\n       points = 100;    \n    } \n   \n}\n                      \nif(e.getSource() == submitBtn){\nString answer = answerEntry.getText();\n    if(answer.equalsIgnoreCase(q1.getAnswer())){\n                       \n         System.out.println(&quot;Correct&quot;);\n         System.out.println(points);\n         p1Score = p1Score + points;\n         p1.setPoints(p1Score);\n         showP1ScoreLbl.setText(&quot;&quot;+p1.getScore());\n      \n    }\n\n}     \n</code></pre>\n<p>The buttons are stored in rows and setup in arrays. I have a player class that stores the points (p1). When the user presses the submit button it checks if the answer is correct and adds this number of points to the label on my GUI. I don't know what I'm missing here but even when the answer is right it still shows 0.</p>\n"},{"tags":["java","spring-boot","spring-security","jwt","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1645384212,"creation_date":1645188207,"answer_id":71173693,"question_id":71168887,"body_markdown":"You have to specify this `AuthenticationEntryPoint` inside the `OAuth2ResourceServerConfigurer`, like so:\r\n\r\n```java\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception\r\n        {\r\n            // other config here\r\n            http.authorizeRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .oauth2ResourceServer().jwt().and()\r\n                    .authenticationEntryPoint(authenticationEntryPoint)\r\n                    .accessDeniedHandler(accessDeniedHandler);\r\n        }\r\n```\r\n\r\nWhen you set it, the Configurer will change the `AuthenticationEntryPoint` that is used inside the `BearerTokenAuthenticationFilter`, see [here][1].\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/386e8a86a1c9634177154ad946286b1f62bc62f1/config/src/main/java/org/springframework/security/config/annotation/web/configurers/oauth2/server/resource/OAuth2ResourceServerConfigurer.java#L265","title":"Spring Boot - Spring Security - InvalidBearerTokenException Error Handling","body":"<p>You have to specify this <code>AuthenticationEntryPoint</code> inside the <code>OAuth2ResourceServerConfigurer</code>, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        @Override\n        protected void configure(HttpSecurity http) throws Exception\n        {\n            // other config here\n            http.authorizeRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .oauth2ResourceServer().jwt().and()\n                    .authenticationEntryPoint(authenticationEntryPoint)\n                    .accessDeniedHandler(accessDeniedHandler);\n        }\n</code></pre>\n<p>When you set it, the Configurer will change the <code>AuthenticationEntryPoint</code> that is used inside the <code>BearerTokenAuthenticationFilter</code>, see <a href=\"https://github.com/spring-projects/spring-security/blob/386e8a86a1c9634177154ad946286b1f62bc62f1/config/src/main/java/org/springframework/security/config/annotation/web/configurers/oauth2/server/resource/OAuth2ResourceServerConfigurer.java#L265\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":24296296,"reputation":25,"user_id":18240462,"display_name":"coconut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2390,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71173693,"answer_count":1,"score":2,"last_activity_date":1655444116,"creation_date":1645162965,"question_id":71168887,"body_markdown":"Similar to this question but it got no answers: https://stackoverflow.com/questions/66885068/spring-security-handle-invalidbearertokenexception-in-exceptionhandler\r\n\r\nI have similar code and I&#39;m trying to catch `org.springframework.security.oauth2.server.resource.InvalidBearerTokenException` when a user has supplied invalid/expired/bad `JWT` format.\r\n```\r\n    @Component\r\n    public class CustomAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;handlerExceptionResolver&quot;)\r\n        private HandlerExceptionResolver resolver;\r\n    \r\n        @Override\r\n        public void commence(HttpServletRequest request, HttpServletResponse response,\r\n                             AuthenticationException e) throws IOException, ServletException {\r\n    \r\n            resolver.resolveException(request, response, null, e);\r\n        }\r\n    }\r\n```\r\n\r\n```\r\n\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter\r\n    {\r\n        @Autowired\r\n        private CustomAuthenticationEntryPoint authenticationEntryPoint;\r\n        @Autowired\r\n        private CustomAccessDeniedHandler accessDeniedHandler;\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception\r\n        {\r\n            // other config here\r\n            http.authorizeRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .oauth2ResourceServer().jwt();\r\n    \r\n            http.exceptionHandling()\r\n                    .authenticationEntryPoint(authenticationEntryPoint)\r\n                    .accessDeniedHandler(accessDeniedHandler);\r\n        }\r\n    }\r\n\r\n```\r\n\r\nI&#39;ve also implemented the `@ExceptionHandler` of `AuthenticationException` for custom response.\r\n```\r\n\r\n        @ExceptionHandler({AuthenticationException.class})\r\n        protected ResponseEntity&lt;Object&gt; handleAuthException(AuthenticationException ex, WebRequest req)\r\n        {\r\n            CustomResponse response = ...\r\n            return new ResponseEntity&lt;&gt;(response, ...);\r\n        }\r\n\r\n```\r\n\r\n\r\n`InvalidBearerTokenException` is a subclass of `AuthenticationException`.\r\nAny idea why this `AuthenticationEntryPoint` code is not catching it? I&#39;ve also tried adding logging inside the `commence` method but it&#39;s not being called when `InvalidBearerTokenException` is thrown, but other `AuthenticationException` does.\r\n\r\n","title":"Spring Boot - Spring Security - InvalidBearerTokenException Error Handling","body":"<p>Similar to this question but it got no answers: <a href=\"https://stackoverflow.com/questions/66885068/spring-security-handle-invalidbearertokenexception-in-exceptionhandler\">Spring Security: Handle InvalidBearerTokenException in @ExceptionHandler</a></p>\n<p>I have similar code and I'm trying to catch <code>org.springframework.security.oauth2.server.resource.InvalidBearerTokenException</code> when a user has supplied invalid/expired/bad <code>JWT</code> format.</p>\n<pre><code>    @Component\n    public class CustomAuthenticationEntryPoint implements AuthenticationEntryPoint {\n    \n        @Autowired\n        @Qualifier(&quot;handlerExceptionResolver&quot;)\n        private HandlerExceptionResolver resolver;\n    \n        @Override\n        public void commence(HttpServletRequest request, HttpServletResponse response,\n                             AuthenticationException e) throws IOException, ServletException {\n    \n            resolver.resolveException(request, response, null, e);\n        }\n    }\n</code></pre>\n<pre><code>\n    public class SecurityConfig extends WebSecurityConfigurerAdapter\n    {\n        @Autowired\n        private CustomAuthenticationEntryPoint authenticationEntryPoint;\n        @Autowired\n        private CustomAccessDeniedHandler accessDeniedHandler;\n    \n        @Override\n        protected void configure(HttpSecurity http) throws Exception\n        {\n            // other config here\n            http.authorizeRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .oauth2ResourceServer().jwt();\n    \n            http.exceptionHandling()\n                    .authenticationEntryPoint(authenticationEntryPoint)\n                    .accessDeniedHandler(accessDeniedHandler);\n        }\n    }\n\n</code></pre>\n<p>I've also implemented the <code>@ExceptionHandler</code> of <code>AuthenticationException</code> for custom response.</p>\n<pre><code>\n        @ExceptionHandler({AuthenticationException.class})\n        protected ResponseEntity&lt;Object&gt; handleAuthException(AuthenticationException ex, WebRequest req)\n        {\n            CustomResponse response = ...\n            return new ResponseEntity&lt;&gt;(response, ...);\n        }\n\n</code></pre>\n<p><code>InvalidBearerTokenException</code> is a subclass of <code>AuthenticationException</code>.\nAny idea why this <code>AuthenticationEntryPoint</code> code is not catching it? I've also tried adding logging inside the <code>commence</code> method but it's not being called when <code>InvalidBearerTokenException</code> is thrown, but other <code>AuthenticationException</code> does.</p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":25321561,"reputation":16,"user_id":19142756,"display_name":"Polyphonic Mobius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655443641,"creation_date":1655443641,"answer_id":72654678,"question_id":72653878,"body_markdown":"You can pass an array of columns, `Column[]` to the concat function like so:\r\n\r\n```\r\nColumn[] columnArray = {\r\n    col(&quot;column1&quot;), col(&quot;column2&quot;) \r\n    };\r\nDataset&lt;Row&gt; concatenatedDS = dataset.withColumn(&quot;concatenated_column&quot;, concat(columnArray));\r\n```\r\nIf you only have a `String[]` array, you can build a `Column[]` array with it dynamically.","title":"Concatenating Dataset columns in Apache Spark using Java by passing an array with column names as array elements?","body":"<p>You can pass an array of columns, <code>Column[]</code> to the concat function like so:</p>\n<pre><code>Column[] columnArray = {\n    col(&quot;column1&quot;), col(&quot;column2&quot;) \n    };\nDataset&lt;Row&gt; concatenatedDS = dataset.withColumn(&quot;concatenated_column&quot;, concat(columnArray));\n</code></pre>\n<p>If you only have a <code>String[]</code> array, you can build a <code>Column[]</code> array with it dynamically.</p>\n"}],"owner":{"account_id":22608981,"reputation":3,"user_id":16789478,"display_name":"Meta Sapien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72654678,"answer_count":1,"score":0,"last_activity_date":1655443641,"creation_date":1655434702,"question_id":72653878,"body_markdown":"Here is what I want to achieve using Java and Spark. \r\n\r\nI have an array of column names as below.\r\n\r\n    String[] col_arr = new String[] { &quot;colname_1&quot;, &quot;colname_2&quot;};\r\n\r\nI want to concat the 2 columns by passing the array (with column names as array elememts) in the concat function.\r\n\r\n    Dataset&lt;Row&gt; new_abc = dataset_abc.withColumn(&quot;new_concat_Column&quot;, concat(col_arr));\r\n\r\nThe below code is working but I do not want to pass the column names explicitly, instead I want to pass the array contaning the column names as array elements.\r\n\r\n    Dataset&lt;Row&gt; new_abc = dataset_abc.withColumn(&quot;new_concat_Column&quot;, concat(col(&quot;colname_1&quot;), col(&quot;colname_2&quot;)));","title":"Concatenating Dataset columns in Apache Spark using Java by passing an array with column names as array elements?","body":"<p>Here is what I want to achieve using Java and Spark.</p>\n<p>I have an array of column names as below.</p>\n<pre><code>String[] col_arr = new String[] { &quot;colname_1&quot;, &quot;colname_2&quot;};\n</code></pre>\n<p>I want to concat the 2 columns by passing the array (with column names as array elememts) in the concat function.</p>\n<pre><code>Dataset&lt;Row&gt; new_abc = dataset_abc.withColumn(&quot;new_concat_Column&quot;, concat(col_arr));\n</code></pre>\n<p>The below code is working but I do not want to pass the column names explicitly, instead I want to pass the array contaning the column names as array elements.</p>\n<pre><code>Dataset&lt;Row&gt; new_abc = dataset_abc.withColumn(&quot;new_concat_Column&quot;, concat(col(&quot;colname_1&quot;), col(&quot;colname_2&quot;)));\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1655444403,"post_id":72654670,"comment_id":128338310,"body_markdown":"Take a look at the Javadoc showing exactly how you can launch another java application or any executable file: https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html","body":"Take a look at the Javadoc showing exactly how you can launch another java application or any executable file: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/Process.html</a>"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1655444552,"post_id":72654670,"comment_id":128338351,"body_markdown":"Does this answer your question? [Java, run another application in foreground](https://stackoverflow.com/questions/11983803/java-run-another-application-in-foreground) see also [Executing another application from Java](https://stackoverflow.com/questions/3468987/executing-another-application-from-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11983803/java-run-another-application-in-foreground\">Java, run another application in foreground</a> see also <a href=\"https://stackoverflow.com/questions/3468987/executing-another-application-from-java\">Executing another application from Java</a>"}],"owner":{"account_id":25577312,"reputation":1,"user_id":19356500,"display_name":"user7171717"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655631935,"answer_count":0,"score":0,"last_activity_date":1655443547,"creation_date":1655443547,"question_id":72654670,"body_markdown":"This is for a project for student enrolments. When running the program, I want there to be a menu for the user to input a number from 1-3 which each correspond to a different option. This is the following code I wrote for that menu:\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n\r\n    public class InputMenu \r\n    {\r\n    public void display_menu() \r\n    {\r\n\tSystem.out.println(&quot;1) Enroll a student\\n2) View enrollments\\n3) To exit program&quot;);\r\n\tSystem.out.print(&quot;Selection: &quot;);\r\n    }\r\n    \r\n    public void question()\r\n    {\r\n\r\n\tScanner q = new Scanner(System.in);\r\n       \r\n\tswitch (q.nextInt()) \r\n\t{\r\n\t    case 0:\r\n\t    System.out.println (&quot;Thank you and goodbye.&quot;);\r\n\t    break;\r\n  \r\n\t    case 9:\r\n\t    System.out.println (&quot;Please proceed.&quot;);\r\n\t    new InputMenu();\r\n\t    break;\r\n\r\n\t    default:\r\n\t    System.err.println ( &quot;Unrecognized option&quot; );\r\n\t    break;\r\n\t}\r\n    }\r\n \r\n    public InputMenu() \r\n    {\r\n\tScanner in = new Scanner(System.in);\r\n        display_menu();\r\n  \r\n\tswitch (in.nextInt()) \r\n\t{\r\n\t    case 1:\r\n\t    System.out.println ( &quot;You picked enroll a new student&quot; );\r\n\t    question();\r\n\t    break;\r\n  \r\n\t    case 2:\r\n\t    System.out.println ( &quot;You picked view past enrollments&quot; );\r\n\t    question();\r\n\t\tScanner = new Scanner(new File(&quot;students.txt&quot;)); \r\n\t    break;\r\n  \r\n\t    case 3:\r\n\t    System.out.println ( &quot;You picked exit program&quot; );\r\n\t    question();\r\n\t    break;\r\n\r\n\t    default:\r\n\t    System.err.println ( &quot;Unrecognized option&quot; );\r\n\t    break;\r\n\t}\r\n    }\r\n \r\n    public static void main (String[]args) \r\n    {\r\n\tnew InputMenu();\r\n    }\r\n    }\r\n\r\n\r\n\r\nand then there is a file 2 called &quot;University.java&quot;. It is a large file sorry about that so I cannot post the whole code. This file 2 was given as part of the project instructions. File 2 is the rest of the program runs (collects user inputed student name, address, unit enrolment etc.). \r\n\r\nAnyway I want to run this code ^ provided, and when the user inputs the number &#39;1&#39;, I want to then run file 2 called &quot;University.java&quot;. Is there a way I can do this, or should I try to work out a way to add this code ^ directly within file 2 (not sure how to do that or were to start due to file 2 having different methods and classes). Thanks, and sorry I am a beginner.\r\n\r\n","title":"I have two different .java files. I wish to run file 1 and then, after an input from the user, continue into file 2","body":"<p>This is for a project for student enrolments. When running the program, I want there to be a menu for the user to input a number from 1-3 which each correspond to a different option. This is the following code I wrote for that menu:</p>\n<pre><code>import java.util.*;\nimport java.io.*;\n\npublic class InputMenu \n{\npublic void display_menu() \n{\nSystem.out.println(&quot;1) Enroll a student\\n2) View enrollments\\n3) To exit program&quot;);\nSystem.out.print(&quot;Selection: &quot;);\n}\n\npublic void question()\n{\n\nScanner q = new Scanner(System.in);\n   \nswitch (q.nextInt()) \n{\n    case 0:\n    System.out.println (&quot;Thank you and goodbye.&quot;);\n    break;\n\n    case 9:\n    System.out.println (&quot;Please proceed.&quot;);\n    new InputMenu();\n    break;\n\n    default:\n    System.err.println ( &quot;Unrecognized option&quot; );\n    break;\n}\n}\n\npublic InputMenu() \n{\nScanner in = new Scanner(System.in);\n    display_menu();\n\nswitch (in.nextInt()) \n{\n    case 1:\n    System.out.println ( &quot;You picked enroll a new student&quot; );\n    question();\n    break;\n\n    case 2:\n    System.out.println ( &quot;You picked view past enrollments&quot; );\n    question();\n    Scanner = new Scanner(new File(&quot;students.txt&quot;)); \n    break;\n\n    case 3:\n    System.out.println ( &quot;You picked exit program&quot; );\n    question();\n    break;\n\n    default:\n    System.err.println ( &quot;Unrecognized option&quot; );\n    break;\n}\n}\n\npublic static void main (String[]args) \n{\nnew InputMenu();\n}\n}\n</code></pre>\n<p>and then there is a file 2 called &quot;University.java&quot;. It is a large file sorry about that so I cannot post the whole code. This file 2 was given as part of the project instructions. File 2 is the rest of the program runs (collects user inputed student name, address, unit enrolment etc.).</p>\n<p>Anyway I want to run this code ^ provided, and when the user inputs the number '1', I want to then run file 2 called &quot;University.java&quot;. Is there a way I can do this, or should I try to work out a way to add this code ^ directly within file 2 (not sure how to do that or were to start due to file 2 having different methods and classes). Thanks, and sorry I am a beginner.</p>\n"},{"tags":["java","inheritance","abstract-class","display"],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655442455,"creation_date":1655439954,"answer_id":72654327,"question_id":72654087,"body_markdown":"If you want to keep the values to use later then you need to store them. The best way to do this is simply with a class variable like so:\r\n\r\n    public class Childplayer extends Player {\r\n    \r\n    \t//Create class variables that store the values\r\n    \tString name = &quot;&quot;;\r\n    \tint race = -1;\r\n    \tint[] stat = new int [3];\r\n\r\nThen we just modify your methods to use these variables, for example:\r\n\r\n    public String name(String name) {\r\n\r\n        //Process the name\r\n        if(someCondition){\r\n            name = name +&quot; Smith&quot;\r\n        }\r\n\r\n        //Saved the passed in variable to the class variable `this.name`\r\n        this.name = name;\r\n\r\n        return this.name;\r\n    }\r\n\r\nAnd another example:\r\n\r\n    public void race(int race) {\r\n        //Saved the passed in variable to the class variable `this.race`\r\n        this.race = race:\r\n    }\r\n\r\n\r\nThen to get the information later we simply use:\r\n\r\n    //Earlier in the code\r\n    Childplayer playerA = new Childplayer();\r\n\r\n    //Some code here\r\n    //...\r\n\r\n    //Later in the code we can get the values\r\n    String name = playerA.name;\r\n    int storedRaceFromEarlier = playerA.race;\r\n\r\n\r\n----------\r\n\r\n\r\nI strongly recommend making use of a constructor method to populate the class data. I have simplified the code and value checking for the sake of this example:\r\n\r\n    //Note that Java naming conventions require that classes should always have a capital letter at the start, I have fixed this in my example\r\n    public abstract class Player {\r\n        //Example getter abstract methods that must be implimented\r\n        public abstract String getName();\r\n        public abstract int getRace();\r\n        public abstract int[] getStatArray();\r\n    }\r\n\r\n\r\n    //Note that Java naming conventions require that classes should always have a capital letter at the start, I have fixed this in my example\r\n    public class Childplayer extends Player {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n    \t//Create class variables that store the values\r\n    \tString name = &quot;&quot;;\r\n    \tint race = -1;\r\n    \tint[] stat = new int [3];\r\n\r\n    \t//Constructor method with exactly the same name as the class &quot;Childplayer&quot;\r\n    \t//This method should be responsible for creating the object and populating data\r\n    \tChildplayer(){\r\n    \t    //Set name\r\n    \t    System.out.print(&quot;Enter your name: &quot;);\r\n    \t    name(sc.nextLine());\r\n    \t    System.out.print(&quot;Name set as &quot; + name + &quot;\\r\\n&quot;);\r\n    \t    \r\n    \t    //Set race\r\n    \t    System.out.println(&quot;Race options: &quot;);\r\n    \t    System.out.println(&quot;\\t 1 - Human \\n\\t 2 - Elf \\n\\t 3 - Orc \\n\\t 4 - Angel \\n\\t 5 - Demon&quot;);\r\n    \t    int result = -1;\r\n    \t    while ((result&gt;5)||(result&lt;1)) {\r\n    \t\t    System.out.print(&quot;Enter character&#39;s race: &quot;);\r\n    \t\t    result = sc.nextInt();\r\n    \t    }\r\n    \t    //Set the race with the abstract method\r\n    \t    race(result);\r\n    \t    System.out.print(&quot;Race set as &quot; + race + &quot;\\r\\n&quot;);\r\n    \t    \r\n    \t    System.out.println(&quot;Enter character&#39;s stats.&quot;);\r\n    \t    int i = 0;\r\n    \t    while(i&lt;3) {\r\n    \t\t    System.out.print(&quot;Enter stat value: &quot;);\r\n    \t\t    //Save the stat to the class variable\r\n    \t\t    stat[i] = sc.nextInt();\r\n    \t\t    i++;\r\n    \t    }\r\n    \t}\r\n\r\n        //Abstract methods implemented to return the correct values\r\n        public String getName(){\r\n            return name;\r\n        }\r\n\r\n        public int getRace(){\r\n            return race;\r\n        }\r\n        public int[] getStatArray(){\r\n            return stat;\r\n        }\r\n    }","title":"How can I display the output of the parameters I have set from a child class?","body":"<p>If you want to keep the values to use later then you need to store them. The best way to do this is simply with a class variable like so:</p>\n<pre><code>public class Childplayer extends Player {\n\n    //Create class variables that store the values\n    String name = &quot;&quot;;\n    int race = -1;\n    int[] stat = new int [3];\n</code></pre>\n<p>Then we just modify your methods to use these variables, for example:</p>\n<pre><code>public String name(String name) {\n\n    //Process the name\n    if(someCondition){\n        name = name +&quot; Smith&quot;\n    }\n\n    //Saved the passed in variable to the class variable `this.name`\n    this.name = name;\n\n    return this.name;\n}\n</code></pre>\n<p>And another example:</p>\n<pre><code>public void race(int race) {\n    //Saved the passed in variable to the class variable `this.race`\n    this.race = race:\n}\n</code></pre>\n<p>Then to get the information later we simply use:</p>\n<pre><code>//Earlier in the code\nChildplayer playerA = new Childplayer();\n\n//Some code here\n//...\n\n//Later in the code we can get the values\nString name = playerA.name;\nint storedRaceFromEarlier = playerA.race;\n</code></pre>\n<hr />\n<p>I strongly recommend making use of a constructor method to populate the class data. I have simplified the code and value checking for the sake of this example:</p>\n<pre><code>//Note that Java naming conventions require that classes should always have a capital letter at the start, I have fixed this in my example\npublic abstract class Player {\n    //Example getter abstract methods that must be implimented\n    public abstract String getName();\n    public abstract int getRace();\n    public abstract int[] getStatArray();\n}\n\n\n//Note that Java naming conventions require that classes should always have a capital letter at the start, I have fixed this in my example\npublic class Childplayer extends Player {\n    Scanner sc = new Scanner(System.in);\n\n    //Create class variables that store the values\n    String name = &quot;&quot;;\n    int race = -1;\n    int[] stat = new int [3];\n\n    //Constructor method with exactly the same name as the class &quot;Childplayer&quot;\n    //This method should be responsible for creating the object and populating data\n    Childplayer(){\n        //Set name\n        System.out.print(&quot;Enter your name: &quot;);\n        name(sc.nextLine());\n        System.out.print(&quot;Name set as &quot; + name + &quot;\\r\\n&quot;);\n        \n        //Set race\n        System.out.println(&quot;Race options: &quot;);\n        System.out.println(&quot;\\t 1 - Human \\n\\t 2 - Elf \\n\\t 3 - Orc \\n\\t 4 - Angel \\n\\t 5 - Demon&quot;);\n        int result = -1;\n        while ((result&gt;5)||(result&lt;1)) {\n            System.out.print(&quot;Enter character's race: &quot;);\n            result = sc.nextInt();\n        }\n        //Set the race with the abstract method\n        race(result);\n        System.out.print(&quot;Race set as &quot; + race + &quot;\\r\\n&quot;);\n        \n        System.out.println(&quot;Enter character's stats.&quot;);\n        int i = 0;\n        while(i&lt;3) {\n            System.out.print(&quot;Enter stat value: &quot;);\n            //Save the stat to the class variable\n            stat[i] = sc.nextInt();\n            i++;\n        }\n    }\n\n    //Abstract methods implemented to return the correct values\n    public String getName(){\n        return name;\n    }\n\n    public int getRace(){\n        return race;\n    }\n    public int[] getStatArray(){\n        return stat;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24028064,"reputation":15,"user_id":18009424,"display_name":"trese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72654327,"answer_count":1,"score":0,"last_activity_date":1655442455,"creation_date":1655437339,"question_id":72654087,"body_markdown":"*I need help accessing the variables I have inputted using the child class. I made an object for the child class in my main class, however, I do not know how will I have access to the inputs I have entered and display them at the end of the code.*\r\n\r\n    public abstract class player {\r\n    \tpublic abstract String name(String name);\r\n    \tpublic abstract void race(int race);\r\n    \tpublic abstract int[] getStatArray();\r\n    }\r\n    \r\n    import java.util.Scanner;\r\n    public class childplayer extends player {\r\n    \tScanner sc = new Scanner(System.in);\r\n    \t\r\n    \tpublic String name(String name) {\r\n    \t\tSystem.out.print(&quot;Enter your name: &quot;);\r\n    \t\tname = sc.nextLine();\r\n    \t\treturn name;\r\n    \t}\r\n    \t\r\n    \tpublic void race(int race) {\r\n    \t\tSystem.out.println(&quot;Race options: &quot;);\r\n    \t\tSystem.out.println(&quot;\\t 1 - Human \\n\\t 2 - Elf \\n\\t 3 - Orc \\n\\t 4 - Angel \\n\\t 5 - Demon&quot;);\r\n    \t\tSystem.out.print(&quot;Enter character&#39;s race: &quot;);\r\n    \t\trace = sc.nextInt();\r\n    \t\tif((race&gt;5)||(race&lt;1)) {\r\n    \t\t\twhile ((race&gt;5)||(race&lt;1)) {\r\n    \t\t\t\tSystem.out.print(&quot;Enter character&#39;s race: &quot;);\r\n    \t\t\t\trace = sc.nextInt();\r\n    \t\t\t}\r\n    \t\t}System.out.println(&quot; &quot;);\r\n    \t}\r\n    \t\r\n    \tpublic int[] getStatArray(){\r\n    \t\tint [] stat = new int [3];\r\n    \t\tint x = 0, y = 0, pts = 0;\r\n    \t\tSystem.out.println(&quot;Enter character&#39;s stats.&quot;);\r\n    \t\twhile(y&lt;3) {\r\n    \t\t\tSystem.out.print(&quot;Enter value: &quot;);\r\n    \t\t\tx = sc.nextInt();\r\n    \t\t\ty++;\r\n    \t\t\tpts = pts + x;\r\n    \t\t}\r\n    \t\tint i = 0;\r\n    \t\tif(pts&gt;10) {\r\n    \t\t\tSystem.out.println(&quot;Invalid input. Try again.&quot;);\r\n    \t\t\twhile(i&lt;3) {\r\n    \t\t\t\tSystem.out.print(&quot;Enter value: &quot;);\r\n    \t\t\t\tx = sc.nextInt();\r\n    \t\t\t\ti++;\r\n    \t\t\t\tpts = pts + x;\r\n    \t\t\t}\r\n    \t\t}else {\r\n    \t\t\tstat[i] = x;\r\n    \t\t\ti++;\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn stat;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How can I display the output of the parameters I have set from a child class?","body":"<p><em>I need help accessing the variables I have inputted using the child class. I made an object for the child class in my main class, however, I do not know how will I have access to the inputs I have entered and display them at the end of the code.</em></p>\n<pre><code>public abstract class player {\n    public abstract String name(String name);\n    public abstract void race(int race);\n    public abstract int[] getStatArray();\n}\n\nimport java.util.Scanner;\npublic class childplayer extends player {\n    Scanner sc = new Scanner(System.in);\n    \n    public String name(String name) {\n        System.out.print(&quot;Enter your name: &quot;);\n        name = sc.nextLine();\n        return name;\n    }\n    \n    public void race(int race) {\n        System.out.println(&quot;Race options: &quot;);\n        System.out.println(&quot;\\t 1 - Human \\n\\t 2 - Elf \\n\\t 3 - Orc \\n\\t 4 - Angel \\n\\t 5 - Demon&quot;);\n        System.out.print(&quot;Enter character's race: &quot;);\n        race = sc.nextInt();\n        if((race&gt;5)||(race&lt;1)) {\n            while ((race&gt;5)||(race&lt;1)) {\n                System.out.print(&quot;Enter character's race: &quot;);\n                race = sc.nextInt();\n            }\n        }System.out.println(&quot; &quot;);\n    }\n    \n    public int[] getStatArray(){\n        int [] stat = new int [3];\n        int x = 0, y = 0, pts = 0;\n        System.out.println(&quot;Enter character's stats.&quot;);\n        while(y&lt;3) {\n            System.out.print(&quot;Enter value: &quot;);\n            x = sc.nextInt();\n            y++;\n            pts = pts + x;\n        }\n        int i = 0;\n        if(pts&gt;10) {\n            System.out.println(&quot;Invalid input. Try again.&quot;);\n            while(i&lt;3) {\n                System.out.print(&quot;Enter value: &quot;);\n                x = sc.nextInt();\n                i++;\n                pts = pts + x;\n            }\n        }else {\n            stat[i] = x;\n            i++;\n        }\n        \n        return stat;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","double","java.util.scanner"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1655415524,"post_id":72652140,"comment_id":128333812,"body_markdown":"`hello` obviously isn&#39;t a numerical value.  You could use a second `Scanner` to parse the line of text or you could split the string on the white space or handle the exception","body":"<code>hello</code> obviously isn&#39;t a numerical value.  You could use a second <code>Scanner</code> to parse the line of text or you could split the string on the white space or handle the exception"},{"owner":{"account_id":6891112,"reputation":169,"user_id":5294591,"display_name":"Will Moffat"},"score":1,"creation_date":1655415823,"post_id":72652140,"comment_id":128333906,"body_markdown":"You could use a regex to remove the non-number characters and then try to parse it. Something Like: str.replaceAll(&quot;[^\\\\d.-]&quot;, &quot;&quot;);","body":"You could use a regex to remove the non-number characters and then try to parse it. Something Like: str.replaceAll(&quot;[^\\\\d.-]&quot;, &quot;&quot;);"}],"answers":[{"tags":[],"owner":{"account_id":20821629,"reputation":75,"user_id":19355037,"display_name":"Tydal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655418312,"creation_date":1655418283,"answer_id":72652495,"question_id":72652140,"body_markdown":"Because at least part of the String can&#39;t be converted to a double, you need to remove that part of the String before you can use parseDouble on it. ","title":"I want to parse a string and get a double value (java)","body":"<p>Because at least part of the String can't be converted to a double, you need to remove that part of the String before you can use parseDouble on it.</p>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655420421,"creation_date":1655420421,"answer_id":72652713,"question_id":72652140,"body_markdown":"Try this.\r\n\r\n    Scanner scanner = new Scanner(&quot;65.2 hello&quot;);\r\n    while(scanner.hasNextDouble()) {\r\n          double value =  scanner.nextDouble();\r\n          System.out.println(value);\r\n    }\r\n\r\noutput:\r\n\r\n    65.2","title":"I want to parse a string and get a double value (java)","body":"<p>Try this.</p>\n<pre><code>Scanner scanner = new Scanner(&quot;65.2 hello&quot;);\nwhile(scanner.hasNextDouble()) {\n      double value =  scanner.nextDouble();\n      System.out.println(value);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>65.2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655441911,"creation_date":1655441911,"answer_id":72654500,"question_id":72652140,"body_markdown":"For a simple string like `&quot;65.2 hello&quot;` where there is one numerical value within the string then a simple:\r\n\r\n    String myString = &quot;65.2 hello&quot;;\r\n    double value = Double.parseDouble(myString.replaceAll(&quot;[^(-?\\\\d+(\\\\.\\\\d+)?)]&quot;, &quot;&quot;).trim());\r\n\r\nshould be suffice. But, if there is more than one numerical value within the string then you would need to change it up a little, for example:\r\n\r\n    String myString = &quot;I weigh 90.7185kg and I would like to loose another 10kg. &quot;\r\n                    + &quot;My name is Tom, I&#39;m 32 years old.&quot;;\r\n\r\n    String parsable = myString.replaceAll(&quot;[^(-?\\\\d+(\\\\.\\\\d+)?)]&quot;, &quot; &quot;).trim()\r\n                              .replaceAll(&quot;\\\\s\\\\p{Punct}|\\\\p{Punct}\\\\s&quot;, &quot;&quot;);\r\n\r\n    double[] values = {};\r\n    if (!parsable.isEmpty()) {\r\n        String[] numbers = parsable.split(&quot;\\\\s+&quot;);\r\n        values = new double[numbers.length];\r\n        for (int i = 0; i &lt; numbers.length; i++) {\r\n            values[i] = Double.parseDouble(numbers[i]);\r\n        }\r\n    }\r\n\r\n    // Display doubles array into Console Window:\r\n    for (int i = 0; i &lt; values.length; i++) {\r\n        System.out.println(&quot;Value #&quot; + (i + 1) + &quot; in String is: -&gt; &quot; + values[i]);\r\n    }\r\n    \r\n\r\nAbout the Regular Expressions (regex&#39;s) used in this line:\r\n\r\n    String parsable = myString.replaceAll(&quot;[^(-?\\\\d+(\\\\.\\\\d+)?)]&quot;, &quot; &quot;).trim()\r\n                              .replaceAll(&quot;\\\\s\\\\p{Punct}|\\\\p{Punct}\\\\s&quot;, &quot;&quot;);\r\n\r\nThe `.replaceAll(&quot;[^(-?\\\\d+(\\\\.\\\\d+)?)]&quot;, &quot; &quot;).trim()` will replace everything within the String except for signed or unsigned Integer or floating point numerical values with a whitespace. It then trims the outcome of **leading** and or **trailing** whitespaces, tabs, etc (if any).\r\n\r\nThe `.replaceAll(&quot;\\\\s\\\\p{Punct}|\\\\p{Punct}\\\\s&quot;, &quot;&quot;);` will replace any remaining special characters like punctuation that contains a least one leading or one trailing whitespace. When the first `replaceAll()` above has completed there is most likely going to be straggling periods, etc remaining in the string. We don&#39;t want those for splitting the string so this `replaceAll()` will get rid of those stragglers. \r\n\r\nAll that should now remain in the string will be numerical values separated by one or more whitespaces. This is where the regex `\\\\s+` used in the String#split() method comes in handy:\r\n\r\n     String[] numbers = parsable.split(&quot;\\\\s+&quot;);\r\n\r\nThis will split the new string based on **one or more** whitespaces. So, what is `    &quot;90.7185          10           32&quot;` will be split into a String[] Array consisting of three elements, [&quot;90.7185&quot;, &quot;10&quot;, &quot;32&quot;]. Each element of this array is now converted to a **double** data type and added to the double type `values[]` Array.\r\n","title":"I want to parse a string and get a double value (java)","body":"<p>For a simple string like <code>&quot;65.2 hello&quot;</code> where there is one numerical value within the string then a simple:</p>\n<pre><code>String myString = &quot;65.2 hello&quot;;\ndouble value = Double.parseDouble(myString.replaceAll(&quot;[^(-?\\\\d+(\\\\.\\\\d+)?)]&quot;, &quot;&quot;).trim());\n</code></pre>\n<p>should be suffice. But, if there is more than one numerical value within the string then you would need to change it up a little, for example:</p>\n<pre><code>String myString = &quot;I weigh 90.7185kg and I would like to loose another 10kg. &quot;\n                + &quot;My name is Tom, I'm 32 years old.&quot;;\n\nString parsable = myString.replaceAll(&quot;[^(-?\\\\d+(\\\\.\\\\d+)?)]&quot;, &quot; &quot;).trim()\n                          .replaceAll(&quot;\\\\s\\\\p{Punct}|\\\\p{Punct}\\\\s&quot;, &quot;&quot;);\n\ndouble[] values = {};\nif (!parsable.isEmpty()) {\n    String[] numbers = parsable.split(&quot;\\\\s+&quot;);\n    values = new double[numbers.length];\n    for (int i = 0; i &lt; numbers.length; i++) {\n        values[i] = Double.parseDouble(numbers[i]);\n    }\n}\n\n// Display doubles array into Console Window:\nfor (int i = 0; i &lt; values.length; i++) {\n    System.out.println(&quot;Value #&quot; + (i + 1) + &quot; in String is: -&gt; &quot; + values[i]);\n}\n</code></pre>\n<p>About the Regular Expressions (regex's) used in this line:</p>\n<pre><code>String parsable = myString.replaceAll(&quot;[^(-?\\\\d+(\\\\.\\\\d+)?)]&quot;, &quot; &quot;).trim()\n                          .replaceAll(&quot;\\\\s\\\\p{Punct}|\\\\p{Punct}\\\\s&quot;, &quot;&quot;);\n</code></pre>\n<p>The <code>.replaceAll(&quot;[^(-?\\\\d+(\\\\.\\\\d+)?)]&quot;, &quot; &quot;).trim()</code> will replace everything within the String except for signed or unsigned Integer or floating point numerical values with a whitespace. It then trims the outcome of <strong>leading</strong> and or <strong>trailing</strong> whitespaces, tabs, etc (if any).</p>\n<p>The <code>.replaceAll(&quot;\\\\s\\\\p{Punct}|\\\\p{Punct}\\\\s&quot;, &quot;&quot;);</code> will replace any remaining special characters like punctuation that contains a least one leading or one trailing whitespace. When the first <code>replaceAll()</code> above has completed there is most likely going to be straggling periods, etc remaining in the string. We don't want those for splitting the string so this <code>replaceAll()</code> will get rid of those stragglers.</p>\n<p>All that should now remain in the string will be numerical values separated by one or more whitespaces. This is where the regex <code>\\\\s+</code> used in the String#split() method comes in handy:</p>\n<pre><code> String[] numbers = parsable.split(&quot;\\\\s+&quot;);\n</code></pre>\n<p>This will split the new string based on <strong>one or more</strong> whitespaces. So, what is <code>    &quot;90.7185          10           32&quot;</code> will be split into a String[] Array consisting of three elements, [&quot;90.7185&quot;, &quot;10&quot;, &quot;32&quot;]. Each element of this array is now converted to a <strong>double</strong> data type and added to the double type <code>values[]</code> Array.</p>\n"}],"owner":{"account_id":8369136,"reputation":3472,"user_id":6284785,"accept_rate":50,"display_name":"Anatoly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1655441911,"creation_date":1655415429,"question_id":72652140,"body_markdown":"I want to parse a string and get a double value.\r\nFor example, I input &quot;65.2 hello&quot;.\r\nI want to get &quot;65.2&quot;\r\nWill I?\r\n\r\n     while(scanner.hasNextLine()) {\r\n      String ReadString =  scanner.nextLine();\r\n      double value = Double.parseDouble(ReadString);\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;65.2 hello&quot;\r\n\tat java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2054)\r\n\tat java.base/jdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)\r\n\tat java.base/java.lang.Double.parseDouble(Double.java:549)\r\n\tat com.company.Main.main(Main.java:18)\r\n","title":"I want to parse a string and get a double value (java)","body":"<p>I want to parse a string and get a double value.\nFor example, I input &quot;65.2 hello&quot;.\nI want to get &quot;65.2&quot;\nWill I?</p>\n<pre><code> while(scanner.hasNextLine()) {\n  String ReadString =  scanner.nextLine();\n  double value = Double.parseDouble(ReadString);\n\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;65.2 hello&quot;\nat java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2054)\nat java.base/jdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)\nat java.base/java.lang.Double.parseDouble(Double.java:549)\nat com.company.Main.main(Main.java:18)\n</code></pre>\n"},{"tags":["java","android","android-edittext"],"answers":[{"tags":[],"owner":{"account_id":7380414,"reputation":653,"user_id":5617322,"display_name":"Amit Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1587965028,"creation_date":1587965028,"answer_id":61452203,"question_id":61451475,"body_markdown":"You can check if the first character is 0, then using the ***substring*** method extract the string except for the first character, then set it to the **EditText**.\r\n\r\nCode in Kotlin:\r\n\r\n     phone_number_edt.doOnTextChanged { text: CharSequence?, start, count, after -&gt;\r\n            val length = text.toString().length\r\n\r\n            if ((text.toString()[0] == &#39;0&#39;)) {\r\n                if (length &gt; 1) {\r\n                    email_edt.setText(\r\n                        text.toString().substring(\r\n                            1,\r\n                            length\r\n                        )\r\n                    )\r\n                }\r\n            }\r\n        }","title":"how to delete the first character if the first character is a zero | Android | TextWatcher","body":"<p>You can check if the first character is 0, then using the <strong><em>substring</em></strong> method extract the string except for the first character, then set it to the <strong>EditText</strong>.</p>\n\n<p>Code in Kotlin:</p>\n\n<pre><code> phone_number_edt.doOnTextChanged { text: CharSequence?, start, count, after -&gt;\n        val length = text.toString().length\n\n        if ((text.toString()[0] == '0')) {\n            if (length &gt; 1) {\n                email_edt.setText(\n                    text.toString().substring(\n                        1,\n                        length\n                    )\n                )\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1064428,"reputation":2317,"user_id":1065353,"accept_rate":65,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587968056,"creation_date":1587968056,"answer_id":61452736,"question_id":61451475,"body_markdown":"     @Override\r\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n            if (edtPhone.getText().charAt(start) == &#39;0&#39;){\r\n                String textValue = edtPhone.getText().toString();\r\n                edtPhone.setText(textValue.substring(1, textValue.length());\r\n            }\r\n        }","title":"how to delete the first character if the first character is a zero | Android | TextWatcher","body":"<pre><code> @Override\n    public void onTextChanged(CharSequence s, int start, int before, int count) {\n        if (edtPhone.getText().charAt(start) == '0'){\n            String textValue = edtPhone.getText().toString();\n            edtPhone.setText(textValue.substring(1, textValue.length());\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14680931,"reputation":1682,"user_id":10602418,"display_name":"Abhijith Brumal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655441649,"creation_date":1655441649,"answer_id":72654478,"question_id":61451475,"body_markdown":"    private fun removeZeroFromFirstPosition(editext: EditText?) {\r\n           editext?.apply {\r\n                addTextChangedListener(object : TextWatcher {\r\n                    override fun beforeTextChanged(s:CharSequence?,start: Int,count: Int, after: Int){}\r\n    \r\n                    override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {\r\n                        if (text.isNotEmpty()) {\r\n                            if (text[0].toString() == &quot;0&quot;) {\r\n                                val textValue = text.toString()\r\n                                setText(textValue.substring(1, textValue.length))\r\n                            }\r\n                        }\r\n                    }\r\n    \r\n                    override fun afterTextChanged(s: Editable?) {}\r\n                })\r\n            }\r\n        }","title":"how to delete the first character if the first character is a zero | Android | TextWatcher","body":"<pre><code>private fun removeZeroFromFirstPosition(editext: EditText?) {\n       editext?.apply {\n            addTextChangedListener(object : TextWatcher {\n                override fun beforeTextChanged(s:CharSequence?,start: Int,count: Int, after: Int){}\n\n                override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {\n                    if (text.isNotEmpty()) {\n                        if (text[0].toString() == &quot;0&quot;) {\n                            val textValue = text.toString()\n                            setText(textValue.substring(1, textValue.length))\n                        }\n                    }\n                }\n\n                override fun afterTextChanged(s: Editable?) {}\n            })\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":16861650,"reputation":71,"user_id":12192293,"display_name":"Muhammad Faisal Ramadhani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1471,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61452203,"answer_count":3,"score":3,"last_activity_date":1655441649,"creation_date":1587959802,"question_id":61451475,"body_markdown":"i have question about how to delete the first character if the first character is a zero .\r\n\r\nex : \r\n```0887``` to ```887```\r\n\r\nhere i&#39;m using Text Watcher for my Edit Text. but it&#39;s not working\r\n\r\nhere is my code :\r\n```\r\n  @Override\r\n    public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n        if (edtPhone.getText().charAt(start) == &#39;0&#39;){\r\n            edtPhone.getText().delete(start, start);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void afterTextChanged(Editable s) {\r\n\r\n    }\r\n```\r\n\r\ni&#39;m so confused whats wrong in my code \r\nany help or suggestion will be appreciate","title":"how to delete the first character if the first character is a zero | Android | TextWatcher","body":"<p>i have question about how to delete the first character if the first character is a zero .</p>\n\n<p>ex : \n<code>0887</code> to <code>887</code></p>\n\n<p>here i'm using Text Watcher for my Edit Text. but it's not working</p>\n\n<p>here is my code :</p>\n\n<pre><code>  @Override\n    public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n    }\n\n    @Override\n    public void onTextChanged(CharSequence s, int start, int before, int count) {\n        if (edtPhone.getText().charAt(start) == '0'){\n            edtPhone.getText().delete(start, start);\n        }\n    }\n\n    @Override\n    public void afterTextChanged(Editable s) {\n\n    }\n</code></pre>\n\n<p>i'm so confused whats wrong in my code \nany help or suggestion will be appreciate</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1655439500,"post_id":72654235,"comment_id":128337522,"body_markdown":"```testMap.put(&quot;test&quot;, &quot;12345&quot;);``` -&gt; ```testMap2.put(&quot;test&quot;, &quot;12345&quot;);```","body":"<code>testMap.put(&quot;test&quot;, &quot;12345&quot;);</code> -&gt; <code>testMap2.put(&quot;test&quot;, &quot;12345&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655440888,"creation_date":1655439995,"answer_id":72654329,"question_id":72654235,"body_markdown":"check which map you are using to put the values\r\nyou used the same testMap instead of testMap2 to put the values.\r\n\r\nAdditionally, I filter for nonNull values.\r\n```\r\n Map&lt;String, String&gt; testMap = new HashMap&lt;&gt;();\r\n        testMap.put(&quot;test&quot;, &quot;1234&quot;);\r\n        Map&lt;String, String&gt; testMap2 = new HashMap&lt;&gt;();\r\n        testMap2.put(&quot;test&quot;, &quot;12345&quot;);\r\n        List&lt;Map&lt;String, String&gt;&gt; testList = new ArrayList&lt;&gt;();\r\n        testList.add(testMap);\r\n        testList.add(testMap2);\r\n        Set&lt;String&gt; testSet = testList.stream().map(item -&gt; item.get(&quot;test&quot;)).filter(Objects::nonNull).collect(Collectors.toSet()); // [1234, 12345]\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o02cd.png","title":"How to convert set of string from map values of string using stream API in java","body":"<p>check which map you are using to put the values\nyou used the same testMap instead of testMap2 to put the values.</p>\n<p>Additionally, I filter for nonNull values.</p>\n<pre><code> Map&lt;String, String&gt; testMap = new HashMap&lt;&gt;();\n        testMap.put(&quot;test&quot;, &quot;1234&quot;);\n        Map&lt;String, String&gt; testMap2 = new HashMap&lt;&gt;();\n        testMap2.put(&quot;test&quot;, &quot;12345&quot;);\n        List&lt;Map&lt;String, String&gt;&gt; testList = new ArrayList&lt;&gt;();\n        testList.add(testMap);\n        testList.add(testMap2);\n        Set&lt;String&gt; testSet = testList.stream().map(item -&gt; item.get(&quot;test&quot;)).filter(Objects::nonNull).collect(Collectors.toSet()); // [1234, 12345]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/o02cd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o02cd.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25522053,"reputation":29,"user_id":19311744,"display_name":"opendev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72654329,"answer_count":1,"score":0,"last_activity_date":1655440910,"creation_date":1655438903,"question_id":72654235,"body_markdown":"I&#39;d like to make Set&lt;String&gt; from the values in Map&lt;String, String&gt;.\r\n\r\nThe following code doesn&#39;t work.\r\nHow to fix it?\r\n\r\n```\r\nMap&lt;String, String&gt; testMap = new HashMap&lt;&gt;();\r\ntestMap.put(&quot;test&quot;, &quot;1234&quot;);\r\nMap&lt;String, String&gt; testMap2 = new HashMap&lt;&gt;();\r\ntestMap.put(&quot;test&quot;, &quot;12345&quot;);\r\nList&lt;Map&lt;String, String&gt;&gt; testList = new ArrayList&lt;&gt;();\r\ntestList.add(testMap);\r\ntestList.add(testMap2);\r\nSet&lt;String&gt; testSet = testList.stream().map(item -&gt; item.get(&quot;test&quot;)).collect(Collectors.toSet());\r\n```\r\n\r\n+++\r\nThis code below is wokring, but I&#39;d like to use stream API\r\n```\r\nSet&lt;String&gt; set= new HashSet&lt;&gt;(); \r\nfor (HashMap testMap : testMapList) \r\n      set.add(testMap.get(&quot;test&quot;));\r\n```","title":"How to convert set of string from map values of string using stream API in java","body":"<p>I'd like to make Set from the values in Map&lt;String, String&gt;.</p>\n<p>The following code doesn't work.\nHow to fix it?</p>\n<pre><code>Map&lt;String, String&gt; testMap = new HashMap&lt;&gt;();\ntestMap.put(&quot;test&quot;, &quot;1234&quot;);\nMap&lt;String, String&gt; testMap2 = new HashMap&lt;&gt;();\ntestMap.put(&quot;test&quot;, &quot;12345&quot;);\nList&lt;Map&lt;String, String&gt;&gt; testList = new ArrayList&lt;&gt;();\ntestList.add(testMap);\ntestList.add(testMap2);\nSet&lt;String&gt; testSet = testList.stream().map(item -&gt; item.get(&quot;test&quot;)).collect(Collectors.toSet());\n</code></pre>\n<p>+++\nThis code below is wokring, but I'd like to use stream API</p>\n<pre><code>Set&lt;String&gt; set= new HashSet&lt;&gt;(); \nfor (HashMap testMap : testMapList) \n      set.add(testMap.get(&quot;test&quot;));\n</code></pre>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":12870578,"reputation":489,"user_id":9309181,"display_name":"Aymen Ben Salah"},"score":0,"creation_date":1654858185,"post_id":72573015,"comment_id":128197993,"body_markdown":"can this help you : https://stackoverflow.com/questions/59774417/how-can-i-exclude-a-property-from-a-lombok-builder-only-if-the-property-is-null","body":"can this help you : <a href=\"https://stackoverflow.com/questions/59774417/how-can-i-exclude-a-property-from-a-lombok-builder-only-if-the-property-is-null\" title=\"how can i exclude a property from a lombok builder only if the property is null\">stackoverflow.com/questions/59774417/&hellip;</a>"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":3,"creation_date":1654858266,"post_id":72573015,"comment_id":128198021,"body_markdown":"Sounds like something that should be done by filtering objects in `ExternalVehicles`, not by a builder.","body":"Sounds like something that should be done by filtering objects in <code>ExternalVehicles</code>, not by a builder."},{"owner":{"account_id":22236261,"reputation":75,"user_id":16471569,"display_name":"fat_pikachu"},"score":0,"creation_date":1654859484,"post_id":72573015,"comment_id":128198479,"body_markdown":"Thanks @Chaosfire I will do it in this way.","body":"Thanks @Chaosfire I will do it in this way."}],"answers":[{"tags":[],"owner":{"account_id":1671854,"reputation":123,"user_id":1538176,"display_name":"Felix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655440481,"creation_date":1655440481,"answer_id":72654373,"question_id":72573015,"body_markdown":"There are multiple things to mention:\r\n\r\n1. you can filter the cars before the convertion\r\n```\r\nexternalCars.stream()\r\n     .filter(car -&gt; Objects.nonNull() &amp;&amp; isCarValid())\r\n     .map(CarConverter::convertToCar)\r\n     .collect(Collectors.toSet())\r\n```\r\n\r\n2. you can do some checks within your conversion method and filter afterwards\r\n```\r\npublic class CarConverter {\r\n\r\n    private Car convertToCar(ExternalVehicles vehicles) {\r\n        if (vehicles == null || getPlateNumberFromObjectNestedInExternalVehicles(&quot;plateNumber&quot;) == null)\r\n            return null\r\n\r\n        return Car.builder()\r\n                .plateNumber(getPlateNumberFromObjectNestedInExternalVehicles(&quot;plateNumber&quot;))\r\n                .brand(getBrandFromObjectNestedInExternalVehicles(&quot;brand&quot;))\r\n                .build();\r\n    }\r\n}\r\n```\r\nand then filter before the collection\r\n```\r\nexternalCars.stream()\r\n     .map(CarConverter::convertToCar)\r\n     .filter(car -&gt; Objects.nonNull())\r\n     .collect(Collectors.toSet())\r\n```\r\nIn my experience, this leads to less `NullPointerExceptions`\r\n\r\nJust for completion, there are also way,to fail the `.build()` method as seen here:\r\nhttps://stackoverflow.com/a/72654258/1538176","title":"Lombok builder - ignore objects with null value","body":"<p>There are multiple things to mention:</p>\n<ol>\n<li>you can filter the cars before the convertion</li>\n</ol>\n<pre><code>externalCars.stream()\n     .filter(car -&gt; Objects.nonNull() &amp;&amp; isCarValid())\n     .map(CarConverter::convertToCar)\n     .collect(Collectors.toSet())\n</code></pre>\n<ol start=\"2\">\n<li>you can do some checks within your conversion method and filter afterwards</li>\n</ol>\n<pre><code>public class CarConverter {\n\n    private Car convertToCar(ExternalVehicles vehicles) {\n        if (vehicles == null || getPlateNumberFromObjectNestedInExternalVehicles(&quot;plateNumber&quot;) == null)\n            return null\n\n        return Car.builder()\n                .plateNumber(getPlateNumberFromObjectNestedInExternalVehicles(&quot;plateNumber&quot;))\n                .brand(getBrandFromObjectNestedInExternalVehicles(&quot;brand&quot;))\n                .build();\n    }\n}\n</code></pre>\n<p>and then filter before the collection</p>\n<pre><code>externalCars.stream()\n     .map(CarConverter::convertToCar)\n     .filter(car -&gt; Objects.nonNull())\n     .collect(Collectors.toSet())\n</code></pre>\n<p>In my experience, this leads to less <code>NullPointerExceptions</code></p>\n<p>Just for completion, there are also way,to fail the <code>.build()</code> method as seen here:\n<a href=\"https://stackoverflow.com/a/72654258/1538176\">https://stackoverflow.com/a/72654258/1538176</a></p>\n"}],"owner":{"account_id":22236261,"reputation":75,"user_id":16471569,"display_name":"fat_pikachu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1782,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72654373,"answer_count":1,"score":0,"last_activity_date":1655440481,"creation_date":1654857915,"question_id":72573015,"body_markdown":"My first steps with Lombok @Builder.\r\n\r\nSo I receive ExternalVehicles object from external service (10 cars inside).\r\n\r\n\r\n    public class CarConverter {\r\n\r\n        private Car convertToCar(ExternalVehicles vehicles) {\r\n    \r\n            return Car.builder()\r\n                    .plateNumber(getPlateNumberFromObjectNestedInExternalVehicles(&quot;plateNumber&quot;))\r\n                    .brand(getBrandFromObjectNestedInExternalVehicles(&quot;brand&quot;))\r\n                    .build();\r\n        }\r\n    }\r\n\r\nFor one car, the null is received in plateNumber field.\r\nSo I would like to ignore this car and convert only 9.\r\n\r\nHow can I do this?","title":"Lombok builder - ignore objects with null value","body":"<p>My first steps with Lombok @Builder.</p>\n<p>So I receive ExternalVehicles object from external service (10 cars inside).</p>\n<pre><code>public class CarConverter {\n\n    private Car convertToCar(ExternalVehicles vehicles) {\n\n        return Car.builder()\n                .plateNumber(getPlateNumberFromObjectNestedInExternalVehicles(&quot;plateNumber&quot;))\n                .brand(getBrandFromObjectNestedInExternalVehicles(&quot;brand&quot;))\n                .build();\n    }\n}\n</code></pre>\n<p>For one car, the null is received in plateNumber field.\nSo I would like to ignore this car and convert only 9.</p>\n<p>How can I do this?</p>\n"},{"tags":["java","localization","java-time","localdatetime","datetimeformatter"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1655316664,"post_id":72635932,"comment_id":128306261,"body_markdown":"If I use that formatter to format a new `LocalDateTime` instance, I get `jun.` instead of `jun`. If I change your input to use `jun.` it works.","body":"If I use that formatter to format a new <code>LocalDateTime</code> instance, I get <code>jun.</code> instead of <code>jun</code>. If I change your input to use <code>jun.</code> it works."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1655401210,"post_id":72635932,"comment_id":128329398,"body_markdown":"Which Java version are you coding for? Asking because localized month abbreviations may differ between Java versions. See for example [JDK dateformatter parsing DayOfWeek in German locale, java8 vs java9](https://stackoverflow.com/questions/46244724/jdk-dateformatter-parsing-dayofweek-in-german-locale-java8-vs-java9).","body":"Which Java version are you coding for? Asking because localized month abbreviations may differ between Java versions. See for example <a href=\"https://stackoverflow.com/questions/46244724/jdk-dateformatter-parsing-dayofweek-in-german-locale-java8-vs-java9\">JDK dateformatter parsing DayOfWeek in German locale, java8 vs java9</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1655401977,"post_id":72635932,"comment_id":128329624,"body_markdown":"For Norwegian my Java 8 with default settings expects `jan`, `feb` etc., without dots. My Java 9, 11 and 17 expect `jan.`, `feb.` … with dots.","body":"For Norwegian my Java 8 with default settings expects <code>jan</code>, <code>feb</code> etc., without dots. My Java 9, 11 and 17 expect <code>jan.</code>, <code>feb.</code> … with dots."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1655404392,"post_id":72635932,"comment_id":128330455,"body_markdown":"`.replaceAll(&quot;(?&lt;=[A-Za-z]{3})[.a-z]{1,2}&quot;, &quot;&quot;)` removes any 1 or 2 chars that are dot or letter coming after 3 letters. So turns `jan.` into `jan` and `sept.` into `sep`. Somehow this seems to cause your problem. What happens if you leave it out?","body":"<code>.replaceAll(&quot;(?&lt;=[A-Za-z]{3})[.a-z]{1,2}&quot;, &quot;&quot;)</code> removes any 1 or 2 chars that are dot or letter coming after 3 letters. So turns <code>jan.</code> into <code>jan</code> and <code>sept.</code> into <code>sep</code>. Somehow this seems to cause your problem. What happens if you leave it out?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1655405562,"post_id":72635932,"comment_id":128330866,"body_markdown":"If you can determine what month abbreviations you are getting, I should say that the good solution is to build a matching `DateTimeFormatter` using the two-arg `DateTimeFormatterBuilder.appendText()`. See for example [my answer here](https://stackoverflow.com/a/50412644/5772882) and [this one](https://stackoverflow.com/a/52374919/5772882).","body":"If you can determine what month abbreviations you are getting, I should say that the good solution is to build a matching <code>DateTimeFormatter</code> using the two-arg <code>DateTimeFormatterBuilder.appendText()</code>. See for example <a href=\"https://stackoverflow.com/a/50412644/5772882\">my answer here</a> and <a href=\"https://stackoverflow.com/a/52374919/5772882\">this one</a>."}],"answers":[{"tags":[],"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655376582,"creation_date":1655317705,"answer_id":72636230,"question_id":72635932,"body_markdown":"In the formatter builder, Norwegian language is set by this line\r\n```java\r\n.toFormatter(Locale.forLanguageTag(&quot;no&quot;));\r\n```\r\n\r\nYou can set locale to English by using the language tag `en` or you should provide Norwegian month names (with a dot at the end for shortened variants) like `jan.`, `feb.`, `mar.`, `apr.`, `mai` (the dot is not required since it&#39;s a full month name), etc.\r\n\r\n\r\n----\r\n**EDIT:**\r\nAfter additional research, I&#39;ve found that you can parse Norwegian months without an additional dot at the end. To accomplish that, you need to use a standalone format for a month (LLL instead of MMM).\r\n\r\nSo, your code will look like that\r\n\r\n```java\r\npublic getDateForIception() {\r\n    String tid = driver.findElement(By.cssSelector(&quot;div.hendelse-tid.hb-tekst--ingenBryting&quot;))\r\n        .getText().replaceAll(&quot;(?&lt;=[A-Za-z]{3})[.a-z]{1,2}&quot;, &quot;&quot;);\r\n    if(tid.split(&quot;\\\\.&quot;)[0].length() == 1) {\r\n        tid = &quot;0&quot; + tid;\r\n    }\r\n\r\n    return DatoUtils.parseDatoLocalDateTime(tid,  &quot;dd. LLL yyyy HH:mm&quot;);\r\n}\r\n\r\npublic static LocalDateTime parseDatoLocalDateTime(String datoString, String pattern) {\r\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n        .parseCaseInsensitive()\r\n        .appendPattern(pattern)\r\n        .toFormatter(Locale.forLanguageTag(&quot;no&quot;));\r\n    return LocalDateTime.parse(datoString, formatter);\r\n}\r\n```\r\n","title":"Java DateTimeFormatter and LocalDateTime.parse trouble","body":"<p>In the formatter builder, Norwegian language is set by this line</p>\n<pre class=\"lang-java prettyprint-override\"><code>.toFormatter(Locale.forLanguageTag(&quot;no&quot;));\n</code></pre>\n<p>You can set locale to English by using the language tag <code>en</code> or you should provide Norwegian month names (with a dot at the end for shortened variants) like <code>jan.</code>, <code>feb.</code>, <code>mar.</code>, <code>apr.</code>, <code>mai</code> (the dot is not required since it's a full month name), etc.</p>\n<hr />\n<p><strong>EDIT:</strong>\nAfter additional research, I've found that you can parse Norwegian months without an additional dot at the end. To accomplish that, you need to use a standalone format for a month (LLL instead of MMM).</p>\n<p>So, your code will look like that</p>\n<pre class=\"lang-java prettyprint-override\"><code>public getDateForIception() {\n    String tid = driver.findElement(By.cssSelector(&quot;div.hendelse-tid.hb-tekst--ingenBryting&quot;))\n        .getText().replaceAll(&quot;(?&lt;=[A-Za-z]{3})[.a-z]{1,2}&quot;, &quot;&quot;);\n    if(tid.split(&quot;\\\\.&quot;)[0].length() == 1) {\n        tid = &quot;0&quot; + tid;\n    }\n\n    return DatoUtils.parseDatoLocalDateTime(tid,  &quot;dd. LLL yyyy HH:mm&quot;);\n}\n\npublic static LocalDateTime parseDatoLocalDateTime(String datoString, String pattern) {\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n        .parseCaseInsensitive()\n        .appendPattern(pattern)\n        .toFormatter(Locale.forLanguageTag(&quot;no&quot;));\n    return LocalDateTime.parse(datoString, formatter);\n}\n</code></pre>\n"}],"owner":{"display_name":"user9347168"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72636230,"answer_count":1,"score":0,"last_activity_date":1655439684,"creation_date":1655316152,"question_id":72635932,"body_markdown":"Sorry for this question being basic, and for not being able to show the things I&#39;ve tried. But as of now, I&#39;m having trouble getting my head wrapped around Javas DateTimeFormatter and LocalDateTime.\r\n\r\nThe code that&#39;s not working, but obviously has been working before some change I don&#39;t know about (I just got this code thrown in my lap):\r\n\r\n    public getDateForIception() {\r\n        String tid = driver.findElement(By.cssSelector(&quot;div.hendelse-tid.hb-tekst--ingenBryting&quot;))\r\n            .getText().replaceAll(&quot;(?&lt;=[A-Za-z]{3})[.a-z]{1,2}&quot;, &quot;&quot;);\r\n        if(tid.split(&quot;\\\\.&quot;)[0].length() == 1) {\r\n            tid = &quot;0&quot; + tid;\r\n        }\r\n\r\n        return DatoUtils.parseDatoLocalDateTime(tid,  &quot;dd. MMM yyyy HH:mm&quot;);\r\n    }\r\n\r\nNot entirely sure what the point of the replacing of characters etc. are, but in this case the if() isn&#39;t executedm and the &quot;tid&quot; variable is unchanged. Just kept it here for possible reference.\r\n\r\n    public static LocalDateTime parseDatoLocalDateTime(String datoString, String pattern) {\r\n        DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n            .parseCaseInsensitive()\r\n            .appendPattern(pattern)\r\n            .toFormatter(Locale.forLanguageTag(&quot;no&quot;));\r\n        return LocalDateTime.parse(datoString, formatter);\r\n    }\r\n\r\nI suspect there&#39;s been some change in the format that&#39;s read from the page, so that the parsing fails. But the error message makes little sense to me:\r\n\r\n    java.time.format.DateTimeParseException: Text &#39;15. jun 2022 19:51&#39; could not be parsed at index 4\r\n\r\nIdeas or solutions are greately appreciated.","title":"Java DateTimeFormatter and LocalDateTime.parse trouble","body":"<p>Sorry for this question being basic, and for not being able to show the things I've tried. But as of now, I'm having trouble getting my head wrapped around Javas DateTimeFormatter and LocalDateTime.</p>\n<p>The code that's not working, but obviously has been working before some change I don't know about (I just got this code thrown in my lap):</p>\n<pre><code>public getDateForIception() {\n    String tid = driver.findElement(By.cssSelector(&quot;div.hendelse-tid.hb-tekst--ingenBryting&quot;))\n        .getText().replaceAll(&quot;(?&lt;=[A-Za-z]{3})[.a-z]{1,2}&quot;, &quot;&quot;);\n    if(tid.split(&quot;\\\\.&quot;)[0].length() == 1) {\n        tid = &quot;0&quot; + tid;\n    }\n\n    return DatoUtils.parseDatoLocalDateTime(tid,  &quot;dd. MMM yyyy HH:mm&quot;);\n}\n</code></pre>\n<p>Not entirely sure what the point of the replacing of characters etc. are, but in this case the if() isn't executedm and the &quot;tid&quot; variable is unchanged. Just kept it here for possible reference.</p>\n<pre><code>public static LocalDateTime parseDatoLocalDateTime(String datoString, String pattern) {\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n        .parseCaseInsensitive()\n        .appendPattern(pattern)\n        .toFormatter(Locale.forLanguageTag(&quot;no&quot;));\n    return LocalDateTime.parse(datoString, formatter);\n}\n</code></pre>\n<p>I suspect there's been some change in the format that's read from the page, so that the parsing fails. But the error message makes little sense to me:</p>\n<pre><code>java.time.format.DateTimeParseException: Text '15. jun 2022 19:51' could not be parsed at index 4\n</code></pre>\n<p>Ideas or solutions are greately appreciated.</p>\n"},{"tags":["java","sorting","arraylist"],"comments":[{"owner":{"account_id":2452550,"reputation":1938,"user_id":2138457,"accept_rate":45,"display_name":"GunJack"},"score":1,"creation_date":1655435802,"post_id":72653955,"comment_id":128337015,"body_markdown":"In your question you have mentioned ArrayList&lt;Integers&gt;, while in the description you mention Strings?","body":"In your question you have mentioned ArrayList&lt;Integers&gt;, while in the description you mention Strings?"},{"owner":{"account_id":2452550,"reputation":1938,"user_id":2138457,"accept_rate":45,"display_name":"GunJack"},"score":0,"creation_date":1655435858,"post_id":72653955,"comment_id":128337022,"body_markdown":"What is the criteria for sorting? Are you sorting in descending order by first element or second element?","body":"What is the criteria for sorting? Are you sorting in descending order by first element or second element?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":2,"creation_date":1655435902,"post_id":72653955,"comment_id":128337027,"body_markdown":"Does this answer your question? [Sorting ArrayList by specific value](https://stackoverflow.com/questions/35905802/sorting-arraylist-by-specific-value) or better yet: [Sort ArrayList of custom Objects by property](https://stackoverflow.com/questions/2784514/sort-arraylist-of-custom-objects-by-property)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/35905802/sorting-arraylist-by-specific-value\">Sorting ArrayList by specific value</a> or better yet: <a href=\"https://stackoverflow.com/questions/2784514/sort-arraylist-of-custom-objects-by-property\">Sort ArrayList of custom Objects by property</a>"},{"owner":{"account_id":12863190,"reputation":67,"user_id":9616025,"display_name":"Zizou"},"score":0,"creation_date":1655435902,"post_id":72653955,"comment_id":128337028,"body_markdown":"@GunJack I have added clarifying statements of my original intention and then based on that why I&#39;m trying to descending sort an ArrayList&lt;ArrayList&lt;Interger&gt;&gt;. Please suggest if that is not clear.","body":"@GunJack I have added clarifying statements of my original intention and then based on that why I&#39;m trying to descending sort an ArrayList&lt;ArrayList&lt;Interger&gt;&gt;. Please suggest if that is not clear."},{"owner":{"account_id":12863190,"reputation":67,"user_id":9616025,"display_name":"Zizou"},"score":0,"creation_date":1655436129,"post_id":72653955,"comment_id":128337048,"body_markdown":"@sorifiend thanks for that link! I think this comment is perfect for my usecase : https://stackoverflow.com/a/35905950/9616025.\n\nUnfortunately I don&#39;t know enough of Java to understand how to modify that to my use case where I want to use the 0th index element as the comparator. Do you know how I could do that?","body":"@sorifiend thanks for that link! I think this comment is perfect for my usecase : <a href=\"https://stackoverflow.com/a/35905950/9616025\">stackoverflow.com/a/35905950/9616025</a>.  Unfortunately I don&#39;t know enough of Java to understand how to modify that to my use case where I want to use the 0th index element as the comparator. Do you know how I could do that?"},{"owner":{"account_id":2452550,"reputation":1938,"user_id":2138457,"accept_rate":45,"display_name":"GunJack"},"score":1,"creation_date":1655436290,"post_id":72653955,"comment_id":128337070,"body_markdown":"Dies this answer your question? https://stackoverflow.com/questions/10794148/sort-an-arraylist-of-arraylist-of-integers","body":"Dies this answer your question? <a href=\"https://stackoverflow.com/questions/10794148/sort-an-arraylist-of-arraylist-of-integers\" title=\"sort an arraylist of arraylist of integers\">stackoverflow.com/questions/10794148/&hellip;</a>"},{"owner":{"account_id":12863190,"reputation":67,"user_id":9616025,"display_name":"Zizou"},"score":0,"creation_date":1655436458,"post_id":72653955,"comment_id":128337098,"body_markdown":"@GunJack thanks for the link! How do I reverse this sort? I don&#39;t understand that part, I&#39;m a java newbie.","body":"@GunJack thanks for the link! How do I reverse this sort? I don&#39;t understand that part, I&#39;m a java newbie."},{"owner":{"account_id":2452550,"reputation":1938,"user_id":2138457,"accept_rate":45,"display_name":"GunJack"},"score":1,"creation_date":1655436623,"post_id":72653955,"comment_id":128337119,"body_markdown":"change `return o1.get(0).compareTo(o2.get(0));` to `return o2.get(0).compareTo(o1.get(0));`","body":"change <code>return o1.get(0).compareTo(o2.get(0));</code> to <code>return o2.get(0).compareTo(o1.get(0));</code>"}],"answers":[{"tags":[],"owner":{"account_id":2452550,"reputation":1938,"user_id":2138457,"accept_rate":45,"display_name":"GunJack"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655437920,"creation_date":1655437496,"answer_id":72654101,"question_id":72653955,"body_markdown":"This is how you can achieve it with an Arraylist of strings.\r\n\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    list.add(&quot;21,10&quot;);\r\n    list.add(&quot;19,25&quot;);\r\n    list.add(&quot;32,5&quot;);\r\n\r\nOnce you have your list, you can simply use `Collections.sort()` method.\r\n\r\n`Collections.sort(list);`\r\n\r\nFor reverse order simply add another argument to the sort method.\r\n\r\n\r\n    Collections.sort(list, Collections.reverseOrder());\r\n\r\n\r\nPrint the list to verify.\r\n`System.out.println(list);`\r\n\r\nHere is a running code example.\r\n\r\nhttps://onecompiler.com/java/3y7ahcm6x","title":"How to sort ArrayList&lt;ArrayList&lt;Integer&gt;&gt; in descending order Java","body":"<p>This is how you can achieve it with an Arraylist of strings.</p>\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.add(&quot;21,10&quot;);\nlist.add(&quot;19,25&quot;);\nlist.add(&quot;32,5&quot;);\n</code></pre>\n<p>Once you have your list, you can simply use <code>Collections.sort()</code> method.</p>\n<p><code>Collections.sort(list);</code></p>\n<p>For reverse order simply add another argument to the sort method.</p>\n<pre><code>Collections.sort(list, Collections.reverseOrder());\n</code></pre>\n<p>Print the list to verify.\n<code>System.out.println(list);</code></p>\n<p>Here is a running code example.</p>\n<p><a href=\"https://onecompiler.com/java/3y7ahcm6x\" rel=\"nofollow noreferrer\">https://onecompiler.com/java/3y7ahcm6x</a></p>\n"}],"owner":{"account_id":12863190,"reputation":67,"user_id":9616025,"display_name":"Zizou"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655482409,"accepted_answer_id":72654101,"answer_count":1,"score":0,"last_activity_date":1655437920,"creation_date":1655435670,"question_id":72653955,"body_markdown":"I want to sort a ArrayList of Strings (descending order) which are in the following format : &quot;row,column&quot;.\r\n\r\nBut since I can&#39;t find a way to do that, I thought of converting the ArrayList of Strings into ArrayList&lt;ArrayList&lt;Integer&gt;&gt; and sorting it in descending order.\r\n\r\nFor e.g., \r\n\r\nthe strings : &quot;21,10&quot;, &quot;19,25&quot;, &quot;32,5&quot;\r\nwill be converted into an ArrayList&lt;ArrayList&lt;Integer&gt;&gt; like so: [[32,5],[21,10],[19,25]].\r\n\r\nNOTE : I only want to sort in descending order based on the first index of inner ArrayList.","title":"How to sort ArrayList&lt;ArrayList&lt;Integer&gt;&gt; in descending order Java","body":"<p>I want to sort a ArrayList of Strings (descending order) which are in the following format : &quot;row,column&quot;.</p>\n<p>But since I can't find a way to do that, I thought of converting the ArrayList of Strings into ArrayList&lt;ArrayList&gt; and sorting it in descending order.</p>\n<p>For e.g.,</p>\n<p>the strings : &quot;21,10&quot;, &quot;19,25&quot;, &quot;32,5&quot;\nwill be converted into an ArrayList&lt;ArrayList&gt; like so: [[32,5],[21,10],[19,25]].</p>\n<p>NOTE : I only want to sort in descending order based on the first index of inner ArrayList.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":4,"creation_date":1655412615,"post_id":72651720,"comment_id":128332990,"body_markdown":"IDEs can generate equals from fields for you.","body":"IDEs can generate equals from fields for you."},{"owner":{"account_id":15418795,"reputation":140,"user_id":11123378,"display_name":"Cristian Cutitei"},"score":0,"creation_date":1655412889,"post_id":72651720,"comment_id":128333073,"body_markdown":"If you use Intelij, you can go to code tab and click generate. There you have some options, one of them is equals method.","body":"If you use Intelij, you can go to code tab and click generate. There you have some options, one of them is equals method."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1655413474,"post_id":72651720,"comment_id":128333253,"body_markdown":"All major IDEs have an option for making `equals`, along with other useful methods like `hashCode` and `toString`.  I&#39;ve found that when you get an IDE that you&#39;ve never used before, it&#39;s worth spending a little bit of time familiarising yourself with its main features, so that you don&#39;t end up reinventing wheels later.","body":"All major IDEs have an option for making <code>equals</code>, along with other useful methods like <code>hashCode</code> and <code>toString</code>.  I&#39;ve found that when you get an IDE that you&#39;ve never used before, it&#39;s worth spending a little bit of time familiarising yourself with its main features, so that you don&#39;t end up reinventing wheels later."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1655413559,"post_id":72651720,"comment_id":128333278,"body_markdown":"*I&#39;d rather not set the private fields to accessible at run time.* Are you suggesting they would be exposed to other callers that shouldn&#39;t have access, or am I reading too much into your question?","body":"<i>I&#39;d rather not set the private fields to accessible at run time.</i> Are you suggesting they would be exposed to other callers that shouldn&#39;t have access, or am I reading too much into your question?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1655419164,"post_id":72651720,"comment_id":128334628,"body_markdown":"so &quot;*Efficient way to compare ...*&quot; is meant to be &quot;Efficient way to **write code** to compare...&quot; ? (first one, as in title, would be something like better running time, or memory usage; second one, as in text, would be *easier* to type, or similar)","body":"so &quot;<i>Efficient way to compare ...</i>&quot; is meant to be &quot;Efficient way to <b>write code</b> to compare...&quot; ? (first one, as in title, would be something like better running time, or memory usage; second one, as in text, would be <i>easier</i> to type, or similar)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1655453269,"post_id":72651720,"comment_id":128340725,"body_markdown":"A `record` provides you with `hashCode` and `equals` implementations. But why does the amount of fields become a concern now, when you already wrote the field declarations, as well as getters? Not to speak of the hypothetical code actually using all of those values? The code of the `hashCode` and `equals` methods should be negligible compared to that. Unless, of course, this class is wrongly designed to begin with and a) an array or b) a map or c) not having so many properties would actually better suit your use case.","body":"A <code>record</code> provides you with <code>hashCode</code> and <code>equals</code> implementations. But why does the amount of fields become a concern now, when you already wrote the field declarations, as well as getters? Not to speak of the hypothetical code actually using all of those values? The code of the <code>hashCode</code> and <code>equals</code> methods should be negligible compared to that. Unless, of course, this class is wrongly designed to begin with and a) an array or b) a map or c) not having so many properties would actually better suit your use case."}],"answers":[{"tags":[],"owner":{"account_id":15418795,"reputation":140,"user_id":11123378,"display_name":"Cristian Cutitei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655412975,"creation_date":1655412975,"answer_id":72651792,"question_id":72651720,"body_markdown":"So you either build a method as you stated earlier, generate it through an IDE or put it inside a JSON object and compare the strings. I do not see any other way.\r\n\r\nThere are libraries that convert your object into JSON or any other string format. Even the toString() method might work. But be careful as these last 2 mentioned solutions only compare easy values.","title":"Efficient way to compare objects with many (private) variables","body":"<p>So you either build a method as you stated earlier, generate it through an IDE or put it inside a JSON object and compare the strings. I do not see any other way.</p>\n<p>There are libraries that convert your object into JSON or any other string format. Even the toString() method might work. But be careful as these last 2 mentioned solutions only compare easy values.</p>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655437460,"creation_date":1655437460,"answer_id":72654098,"question_id":72651720,"body_markdown":"1. Use an IDE like IntelliJ or Eclipse. I&#39;ll use IntelliJ in this answer.\r\n2. Open the `.java` file for `class ManyVariables`\r\n3. Put the cursor somewhere inside the body of the class\r\n4. Go to menu: &quot;Code&quot;, then &quot;Generate&quot;\r\n5. In the pop-up, choose *&quot;equals() and hashCode()&quot;*\r\n6. In the first prompt for `equals()`, verify all of the fields are checked (check the boxes if any are not already checked), then click &quot;Next&quot;\r\n7. In the second prompt for `hashCode()`, again verify all fields are checked, then &quot;Finish&quot;\r\n\r\nHere&#39;s an example, starting with this class:\r\n```\r\nclass Example {\r\n    private int a;\r\n    private int b;\r\n    private int c;\r\n}\r\n```\r\nAfter using the automatic generation, I have this:\r\n```\r\nclass Example {\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n\r\n        Example example = (Example) o;\r\n\r\n        if (a != example.a) return false;\r\n        if (b != example.b) return false;\r\n        return c == example.c;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        int result = a;\r\n        result = 31 * result + b;\r\n        result = 31 * result + c;\r\n        return result;\r\n    }\r\n\r\n    private int a;\r\n    private int b;\r\n    private int c;\r\n}\r\n```\r\n","title":"Efficient way to compare objects with many (private) variables","body":"<ol>\n<li>Use an IDE like IntelliJ or Eclipse. I'll use IntelliJ in this answer.</li>\n<li>Open the <code>.java</code> file for <code>class ManyVariables</code></li>\n<li>Put the cursor somewhere inside the body of the class</li>\n<li>Go to menu: &quot;Code&quot;, then &quot;Generate&quot;</li>\n<li>In the pop-up, choose <em>&quot;equals() and hashCode()&quot;</em></li>\n<li>In the first prompt for <code>equals()</code>, verify all of the fields are checked (check the boxes if any are not already checked), then click &quot;Next&quot;</li>\n<li>In the second prompt for <code>hashCode()</code>, again verify all fields are checked, then &quot;Finish&quot;</li>\n</ol>\n<p>Here's an example, starting with this class:</p>\n<pre><code>class Example {\n    private int a;\n    private int b;\n    private int c;\n}\n</code></pre>\n<p>After using the automatic generation, I have this:</p>\n<pre><code>class Example {\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        Example example = (Example) o;\n\n        if (a != example.a) return false;\n        if (b != example.b) return false;\n        return c == example.c;\n    }\n\n    @Override\n    public int hashCode() {\n        int result = a;\n        result = 31 * result + b;\n        result = 31 * result + c;\n        return result;\n    }\n\n    private int a;\n    private int b;\n    private int c;\n}\n</code></pre>\n"}],"owner":{"account_id":3985953,"reputation":1186,"user_id":5007499,"accept_rate":59,"display_name":"Liumx31"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1655437460,"creation_date":1655412522,"question_id":72651720,"body_markdown":"I have a class that with a long list of private variables like this\r\n\r\n```java\r\nclass ManyVariables {\r\n    private int var1;\r\n    private int var2;\r\n    //....\r\n    private int var49;\r\n    \r\n    public int getVar1(){};\r\n    public int getVar2(){};\r\n    //....\r\n    public int getVar49(){};\r\n}\r\n```\r\n\r\nI am trying to override the `equals` method so that it compares all the variables of two instances, however, since the list of variables is so long typing them all out [manually][1] is really not ideal. Is there a way to get them all into a `Stream` object and use `Stream`&#39;s pipeline to do the comparison? I know I can also use [reflection][2] but I&#39;d rather not set the private fields to accessible at run time. Thanks!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/65998176/comparing-the-content-of-two-objects-in-java\r\n  [2]: https://stackoverflow.com/questions/32196069/compare-two-objects-field-by-field-and-show-the-difference","title":"Efficient way to compare objects with many (private) variables","body":"<p>I have a class that with a long list of private variables like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ManyVariables {\n    private int var1;\n    private int var2;\n    //....\n    private int var49;\n    \n    public int getVar1(){};\n    public int getVar2(){};\n    //....\n    public int getVar49(){};\n}\n</code></pre>\n<p>I am trying to override the <code>equals</code> method so that it compares all the variables of two instances, however, since the list of variables is so long typing them all out <a href=\"https://stackoverflow.com/questions/65998176/comparing-the-content-of-two-objects-in-java\">manually</a> is really not ideal. Is there a way to get them all into a <code>Stream</code> object and use <code>Stream</code>'s pipeline to do the comparison? I know I can also use <a href=\"https://stackoverflow.com/questions/32196069/compare-two-objects-field-by-field-and-show-the-difference\">reflection</a> but I'd rather not set the private fields to accessible at run time. Thanks!</p>\n"},{"tags":["java","jackson","gson"],"answers":[{"tags":[],"owner":{"account_id":1317368,"reputation":28514,"user_id":1263942,"accept_rate":96,"display_name":"Bruno Grieder"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1655436860,"creation_date":1332151811,"answer_id":9768297,"question_id":9767131,"body_markdown":"To serialize with Jackson:\r\n\r\n    public String serialize(Object obj, boolean pretty) {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n    \r\n        mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n    \r\n        if (pretty) {\r\n            return mapper.writerWithDefaultPrettyPrinter().writeValueAsString(obj);\r\n        }\r\n    \r\n        return mapper.writeValueAsString(obj);\r\n    }","title":"dump object to String with Jackson","body":"<p>To serialize with Jackson:</p>\n<pre><code>public String serialize(Object obj, boolean pretty) {\n    ObjectMapper mapper = new ObjectMapper();\n\n    mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n\n    if (pretty) {\n        return mapper.writerWithDefaultPrettyPrinter().writeValueAsString(obj);\n    }\n\n    return mapper.writeValueAsString(obj);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":124855,"reputation":19802,"user_id":320220,"accept_rate":85,"display_name":"beerbajay"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1332231744,"creation_date":1332152095,"answer_id":9768357,"question_id":9767131,"body_markdown":"Jackson can deal with cycles in the object graph with:\r\n\r\n1. [`@JsonIgnore`][1], where you omit the property entirely\r\n2. [`@JsonManagedReference`][2] and [`@JsonBackReference`][3]\r\n3. a custom Serializer which extends [`JsonSerializer`][4]\r\n\r\nYou would use `JsonSerializer` when you still wish to provide some information about the object but want to omit certain fields (the ones causing the cycle). For example:\r\n\r\n    import org.codehaus.jackson.map.JsonSerializer\r\n    import org.codehaus.jackson.JsonGenerator;\r\n    import org.codehaus.jackson.JsonProcessingException;\r\n    import org.codehaus.jackson.map.SerializerProvider;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class ParentReferenceSerializer extends JsonSerializer&lt;Parent&gt; {\r\n        @Override\r\n        public void serialize(Parent parent, JsonGenerator jgen,\r\n            SerializerProvider provider)\r\n                throws IOException, JsonProcessingException {\r\n            jgen.writeStartObject();\r\n            writeNumberField(jgen, &quot;id&quot;, parent.getId());\r\n            // ... other fields ...\r\n            jgen.writeEndObject();\r\n        }\r\n    }\r\n\r\nThen in the class in which is being serialized, you&#39;d use a `@JsonSerialize` annotation:\r\n\r\n    @JsonSerialize(using = ParentReferenceSerializer.class)\r\n    public Parent getParent() {\r\n        return parent;\r\n    }\r\n\r\n\r\n  [1]: http://jackson.codehaus.org/1.9.2/javadoc/org/codehaus/jackson/annotate/JsonIgnore.html\r\n  [2]: http://jackson.codehaus.org/1.9.2/javadoc/org/codehaus/jackson/annotate/JsonManagedReference.html\r\n  [3]: http://jackson.codehaus.org/1.9.2/javadoc/org/codehaus/jackson/annotate/JsonBackReference.html\r\n  [4]: http://jackson.codehaus.org/1.9.2/javadoc/org/codehaus/jackson/map/annotate/JsonSerialize.html","title":"dump object to String with Jackson","body":"<p>Jackson can deal with cycles in the object graph with:</p>\n\n<ol>\n<li><a href=\"http://jackson.codehaus.org/1.9.2/javadoc/org/codehaus/jackson/annotate/JsonIgnore.html\"><code>@JsonIgnore</code></a>, where you omit the property entirely</li>\n<li><a href=\"http://jackson.codehaus.org/1.9.2/javadoc/org/codehaus/jackson/annotate/JsonManagedReference.html\"><code>@JsonManagedReference</code></a> and <a href=\"http://jackson.codehaus.org/1.9.2/javadoc/org/codehaus/jackson/annotate/JsonBackReference.html\"><code>@JsonBackReference</code></a></li>\n<li>a custom Serializer which extends <a href=\"http://jackson.codehaus.org/1.9.2/javadoc/org/codehaus/jackson/map/annotate/JsonSerialize.html\"><code>JsonSerializer</code></a></li>\n</ol>\n\n<p>You would use <code>JsonSerializer</code> when you still wish to provide some information about the object but want to omit certain fields (the ones causing the cycle). For example:</p>\n\n<pre><code>import org.codehaus.jackson.map.JsonSerializer\nimport org.codehaus.jackson.JsonGenerator;\nimport org.codehaus.jackson.JsonProcessingException;\nimport org.codehaus.jackson.map.SerializerProvider;\n\nimport java.io.IOException;\n\npublic class ParentReferenceSerializer extends JsonSerializer&lt;Parent&gt; {\n    @Override\n    public void serialize(Parent parent, JsonGenerator jgen,\n        SerializerProvider provider)\n            throws IOException, JsonProcessingException {\n        jgen.writeStartObject();\n        writeNumberField(jgen, \"id\", parent.getId());\n        // ... other fields ...\n        jgen.writeEndObject();\n    }\n}\n</code></pre>\n\n<p>Then in the class in which is being serialized, you'd use a <code>@JsonSerialize</code> annotation:</p>\n\n<pre><code>@JsonSerialize(using = ParentReferenceSerializer.class)\npublic Parent getParent() {\n    return parent;\n}\n</code></pre>\n"}],"owner":{"account_id":101340,"reputation":2439,"user_id":272742,"accept_rate":64,"display_name":"turbanoff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46106,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":9768297,"answer_count":2,"score":32,"last_activity_date":1655436860,"creation_date":1332146584,"question_id":9767131,"body_markdown":"I&#39;m using Gson to generate debug ouput in my application\r\n\r\n    Gson gson = new GsonBuilder().setPrettyPrinting().serializeNulls().create();\r\n    gson.toJson(myObject);\r\n\r\nBut Gson does complain about a circular reference error when attempting to serialize a data structure.\r\nCan this be done with Jackson library?\r\n\r\n**UPD**\r\nGson 2.3.1: Released Nov 20, 2014\r\n\r\n    Added support to serialize objects with self-referential fields. The self-referential field is set to null in JSON. Previous version of Gson threw a StackOverflowException on encountering any self-referential fields.\r\n        The most visible impact of this is that Gson can now serialize Throwable (Exception and Error)","title":"dump object to String with Jackson","body":"<p>I'm using Gson to generate debug ouput in my application</p>\n\n<pre><code>Gson gson = new GsonBuilder().setPrettyPrinting().serializeNulls().create();\ngson.toJson(myObject);\n</code></pre>\n\n<p>But Gson does complain about a circular reference error when attempting to serialize a data structure.\nCan this be done with Jackson library?</p>\n\n<p><strong>UPD</strong>\nGson 2.3.1: Released Nov 20, 2014</p>\n\n<pre><code>Added support to serialize objects with self-referential fields. The self-referential field is set to null in JSON. Previous version of Gson threw a StackOverflowException on encountering any self-referential fields.\n    The most visible impact of this is that Gson can now serialize Throwable (Exception and Error)\n</code></pre>\n"},{"tags":["java","while-loop","do-while"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1655436590,"post_id":72654008,"comment_id":128337114,"body_markdown":"Read https://stackoverflow.com/questions/38177140/what-is-scope-in-java","body":"Read <a href=\"https://stackoverflow.com/questions/38177140/what-is-scope-in-java\" title=\"what is scope in java\">stackoverflow.com/questions/38177140/what-is-scope-in-java</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1655436702,"post_id":72654008,"comment_id":128337135,"body_markdown":"Also, the `next` methods on `Scanner` *consume* the input, so think about what that means for the test in your while loop.","body":"Also, the <code>next</code> methods on <code>Scanner</code> <i>consume</i> the input, so think about what that means for the test in your while loop."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1655439161,"post_id":72654008,"comment_id":128337472,"body_markdown":"The variable &quot;tempinput&quot; is defined inside the `while` loop, so `int tempinput` is inside `while () { ... }`. You have other code which is outside of that &quot;while&quot; loop, code which is also trying to use `tempinput`. The compiler is telling you that it doesn&#39;t know what `tempinput` is (it&#39;s referring to the uses outside of the while loop). Depending where you define a variable, some parts of your code can &quot;see&quot; that variable, and other parts cannot.","body":"The variable &quot;tempinput&quot; is defined inside the <code>while</code> loop, so <code>int tempinput</code> is inside <code>while () { ... }</code>. You have other code which is outside of that &quot;while&quot; loop, code which is also trying to use <code>tempinput</code>. The compiler is telling you that it doesn&#39;t know what <code>tempinput</code> is (it&#39;s referring to the uses outside of the while loop). Depending where you define a variable, some parts of your code can &quot;see&quot; that variable, and other parts cannot."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1655500113,"post_id":72654008,"comment_id":128355494,"body_markdown":"Just [check if `tempinput` is not a number](https://stackabuse.com/java-check-if-string-is-a-number/) using a while loop over the whole code in main. Java follows [lower camel case](https://www.google.com/amp/s/www.theserverside.com/feature/Java-naming-conventions-explained%3famp=1) for it&#39;s naming conventions.","body":"Just <a href=\"https://stackabuse.com/java-check-if-string-is-a-number/\" rel=\"nofollow noreferrer\">check if <code>tempinput</code> is not a number</a> using a while loop over the whole code in main. Java follows <a href=\"https://www.google.com/amp/s/www.theserverside.com/feature/Java-naming-conventions-explained%3famp=1\" rel=\"nofollow noreferrer\">lower camel case</a> for it&#39;s naming conventions."}],"owner":{"account_id":23936855,"reputation":1,"user_id":17930488,"display_name":"RaymanNinja"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655721378,"answer_count":0,"score":0,"last_activity_date":1655436329,"creation_date":1655436329,"question_id":72654008,"body_markdown":"I&#39;m also getting &quot;tempinput cannot be resolved to a variable&quot;, how can I fix that? I am new to Java btw.\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class TemperatureCheck {\r\n    public static void main(String [] args){\r\n\r\n        Scanner cin = new Scanner(System.in);\r\n        try{\r\n            while(cin.nextLine().isEmpty()){\r\n                System.out.print(&quot;Input a tempature to check: &quot;);\r\n                int tempinput = cin.nextInt();\r\n            }\r\n\r\n            if(tempinput &gt;= 65){\r\n                System.out.println(&quot;It is hot outside&quot;);\r\n            }else if(tempinput &gt;= 50 &amp;&amp; tempinput &lt;= 64){\r\n                System.out.println(&quot;It is warm outside&quot;);\r\n            }else{\r\n                    System.out.println(&quot;It is cold outside&quot;);\r\n            }                \r\n        }finally{\r\n            cin.close();\r\n        }\r\n        \r\n    }\r\n}\r\n```","title":"How do I make the prompt and input loop if the user inputs nothing or no integer in Java?","body":"<p>I'm also getting &quot;tempinput cannot be resolved to a variable&quot;, how can I fix that? I am new to Java btw.</p>\n<pre><code>import java.util.Scanner;\n\npublic class TemperatureCheck {\n    public static void main(String [] args){\n\n        Scanner cin = new Scanner(System.in);\n        try{\n            while(cin.nextLine().isEmpty()){\n                System.out.print(&quot;Input a tempature to check: &quot;);\n                int tempinput = cin.nextInt();\n            }\n\n            if(tempinput &gt;= 65){\n                System.out.println(&quot;It is hot outside&quot;);\n            }else if(tempinput &gt;= 50 &amp;&amp; tempinput &lt;= 64){\n                System.out.println(&quot;It is warm outside&quot;);\n            }else{\n                    System.out.println(&quot;It is cold outside&quot;);\n            }                \n        }finally{\n            cin.close();\n        }\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-animation"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1655435607,"post_id":72653931,"comment_id":128337001,"body_markdown":"Is this line `background2.y = screenX;` meant to set the `y` value?","body":"Is this line <code>background2.y = screenX;</code> meant to set the <code>y</code> value?"},{"owner":{"account_id":18082382,"reputation":1,"user_id":13144169,"display_name":"John Casedy"},"score":0,"creation_date":1655480381,"post_id":72653931,"comment_id":128349948,"body_markdown":"First off, thanks so much for looking through my code! Secondly, I can&#39;t believe I missed that error. It definitely lessens the effect, but for some reason the screens are still going at different speeds. Perhaps my computer is sentient cause I swear it&#39;s not doing what it&#39;s told.","body":"First off, thanks so much for looking through my code! Secondly, I can&#39;t believe I missed that error. It definitely lessens the effect, but for some reason the screens are still going at different speeds. Perhaps my computer is sentient cause I swear it&#39;s not doing what it&#39;s told."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1655480771,"post_id":72653931,"comment_id":128350102,"body_markdown":"It may help to change the second `if` statement inside the update method to be `else if`, that way it will prevent background 2 from updating more often than it should because of the result of the first `if` statement updating the `backgroundTwoMove` variable","body":"It may help to change the second <code>if</code> statement inside the update method to be <code>else if</code>, that way it will prevent background 2 from updating more often than it should because of the result of the first <code>if</code> statement updating the <code>backgroundTwoMove</code> variable"}],"owner":{"account_id":18082382,"reputation":1,"user_id":13144169,"display_name":"John Casedy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655435319,"creation_date":1655435319,"question_id":72653931,"body_markdown":"\r\nBelow is the GameView Class, where the background is drawn and moved around, and below that is the background class. \r\n\r\nHere is a link to a video visually showcasing the issue: \r\nhttps://i.stack.imgur.com/GpSa3.jpg\r\n\r\nHere is the tutorial video that I referenced to make the background move: \r\nhttps://youtu.be/RQoT9BUsl1Q\r\n\r\nGameView Class:\r\n\r\n```\r\npackage com.example.warren;\r\n\r\nimport android.content.Context;\r\nimport android.graphics.Canvas;\r\nimport android.graphics.Paint;\r\nimport android.graphics.Rect;\r\nimport android.view.MotionEvent;\r\nimport android.view.SurfaceView;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\npublic class GameView extends SurfaceView implements Runnable {\r\n    private Thread thread;\r\n    private boolean isPlaying;\r\n    private int screenX, screenY;\r\n    public static float screenRatioX, screenRatioY;\r\n    private Paint paint;\r\n    private Background background1, background2;\r\n    private int Δx = 0, Δy = 0, x = 0, y = 0, pressed = 0;\r\n    int backgroundSpeed;\r\n    private boolean backgroundOneMove = true, backgroundTwoMove = false;\r\n\r\n\r\n    public GameView(Context context, int screenX, int screenY) {\r\n        super(context);\r\n        this.screenX = screenX;\r\n        this.screenY = screenY;\r\n        screenRatioX = 1080f / screenX;\r\n        screenRatioY = 1920f / screenY;\r\n        backgroundSpeed = 10; //This is the variable which both the background speeds are set too\r\n\r\n        background1 = new Background(screenX, screenY, getResources());\r\n        background2 = new Background(screenX, screenY, getResources());\r\n\r\n        background2.x = screenX; \r\n\r\n        paint = new Paint();\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        while (isPlaying) {\r\n            update();\r\n            draw();\r\n            sleep();\r\n        }\r\n    }\r\n\r\n    private void update() {\r\n//Moves the background(s) 10 pixels towards the left\r\n        background1.x -= backgroundSpeed * screenRatioY; \r\n        background2.x -= backgroundSpeed * screenRatioY;\r\n\r\n       //If the background has moved off of the screen then this executes. This statement works, and background1 is being reset at the proper time.\r\n        if (background1.x + background1.background.getWidth() &lt; 0 &amp;&amp; backgroundOneMove){\r\n            background1.x = screenX;\r\n            //background2 was constantly executing the if statement below, so I decided to link it to background1&#39;s timing to ensure it works properly.\r\n            backgroundOneMove = false;\r\n            backgroundTwoMove = true;\r\n        }\r\n\r\n        if (background2.x + background2.background.getWidth() &lt; 0 &amp;&amp; backgroundTwoMove) {\r\n            background2.y = screenX;\r\n            backgroundOneMove = true;\r\n            backgroundTwoMove = false;\r\n        }\r\n\r\n               \r\n            }\r\n\r\n            \r\n\r\n    }\r\n\r\n\r\n    private void draw() {\r\n        //Surface view object has been properly activated\r\n        if (getHolder().getSurface().isValid()) {\r\n            Canvas canvas = getHolder().lockCanvas(); //Returns the current Canvas that is being displayed on screen.\r\n            canvas.drawBitmap(background1.background, background1.x, background1.y, paint);\r\n            canvas.drawBitmap(background2.background, background2.x, background2.y, paint);\r\n\r\n            //Draws the bitmap that we want to draw on the screen\r\n            getHolder().unlockCanvasAndPost(canvas);\r\n        }\r\n    }\r\n\r\n    private void sleep() {\r\n        try {\r\n            Thread.sleep(17);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void resume() {\r\n        isPlaying = true;\r\n        thread = new Thread(this);\r\n        thread.start();\r\n\r\n    }\r\n\r\n    public void pause() {\r\n        try {\r\n            thread.join(); // Terminates the thread;\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBackground Class:\r\n```\r\npackage com.example.warren;\r\n\r\nimport android.content.res.Resources;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\n\r\npublic class Background {\r\n    int x = 0, y = 0;\r\n    Bitmap background;\r\n\r\n    Background(int screenX, int screenY, Resources res){\r\n        background = BitmapFactory.decodeResource(res, R.drawable.oolala); //Set to background image\r\n        background = Bitmap.createScaledBitmap(background, screenX, screenY, false);\r\n\r\n    }\r\n}\r\n```\r\n\r\nHelp is much appreciated!! Between me and my teammate, we&#39;ve spent about 8 hrs trying to fix this.","title":"Background images moving at different speeds despite being set to the same speed?","body":"<p>Below is the GameView Class, where the background is drawn and moved around, and below that is the background class.</p>\n<p>Here is a link to a video visually showcasing the issue:\n<a href=\"https://i.stack.imgur.com/GpSa3.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/GpSa3.jpg</a></p>\n<p>Here is the tutorial video that I referenced to make the background move:\n<a href=\"https://youtu.be/RQoT9BUsl1Q\" rel=\"nofollow noreferrer\">https://youtu.be/RQoT9BUsl1Q</a></p>\n<p>GameView Class:</p>\n<pre><code>package com.example.warren;\n\nimport android.content.Context;\nimport android.graphics.Canvas;\nimport android.graphics.Paint;\nimport android.graphics.Rect;\nimport android.view.MotionEvent;\nimport android.view.SurfaceView;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\n\npublic class GameView extends SurfaceView implements Runnable {\n    private Thread thread;\n    private boolean isPlaying;\n    private int screenX, screenY;\n    public static float screenRatioX, screenRatioY;\n    private Paint paint;\n    private Background background1, background2;\n    private int Δx = 0, Δy = 0, x = 0, y = 0, pressed = 0;\n    int backgroundSpeed;\n    private boolean backgroundOneMove = true, backgroundTwoMove = false;\n\n\n    public GameView(Context context, int screenX, int screenY) {\n        super(context);\n        this.screenX = screenX;\n        this.screenY = screenY;\n        screenRatioX = 1080f / screenX;\n        screenRatioY = 1920f / screenY;\n        backgroundSpeed = 10; //This is the variable which both the background speeds are set too\n\n        background1 = new Background(screenX, screenY, getResources());\n        background2 = new Background(screenX, screenY, getResources());\n\n        background2.x = screenX; \n\n        paint = new Paint();\n    }\n\n    @Override\n    public void run() {\n        while (isPlaying) {\n            update();\n            draw();\n            sleep();\n        }\n    }\n\n    private void update() {\n//Moves the background(s) 10 pixels towards the left\n        background1.x -= backgroundSpeed * screenRatioY; \n        background2.x -= backgroundSpeed * screenRatioY;\n\n       //If the background has moved off of the screen then this executes. This statement works, and background1 is being reset at the proper time.\n        if (background1.x + background1.background.getWidth() &lt; 0 &amp;&amp; backgroundOneMove){\n            background1.x = screenX;\n            //background2 was constantly executing the if statement below, so I decided to link it to background1's timing to ensure it works properly.\n            backgroundOneMove = false;\n            backgroundTwoMove = true;\n        }\n\n        if (background2.x + background2.background.getWidth() &lt; 0 &amp;&amp; backgroundTwoMove) {\n            background2.y = screenX;\n            backgroundOneMove = true;\n            backgroundTwoMove = false;\n        }\n\n               \n            }\n\n            \n\n    }\n\n\n    private void draw() {\n        //Surface view object has been properly activated\n        if (getHolder().getSurface().isValid()) {\n            Canvas canvas = getHolder().lockCanvas(); //Returns the current Canvas that is being displayed on screen.\n            canvas.drawBitmap(background1.background, background1.x, background1.y, paint);\n            canvas.drawBitmap(background2.background, background2.x, background2.y, paint);\n\n            //Draws the bitmap that we want to draw on the screen\n            getHolder().unlockCanvasAndPost(canvas);\n        }\n    }\n\n    private void sleep() {\n        try {\n            Thread.sleep(17);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void resume() {\n        isPlaying = true;\n        thread = new Thread(this);\n        thread.start();\n\n    }\n\n    public void pause() {\n        try {\n            thread.join(); // Terminates the thread;\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Background Class:</p>\n<pre><code>package com.example.warren;\n\nimport android.content.res.Resources;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\n\npublic class Background {\n    int x = 0, y = 0;\n    Bitmap background;\n\n    Background(int screenX, int screenY, Resources res){\n        background = BitmapFactory.decodeResource(res, R.drawable.oolala); //Set to background image\n        background = Bitmap.createScaledBitmap(background, screenX, screenY, false);\n\n    }\n}\n</code></pre>\n<p>Help is much appreciated!! Between me and my teammate, we've spent about 8 hrs trying to fix this.</p>\n"},{"tags":["java","spring-boot","jvm"],"comments":[{"owner":{"account_id":3878647,"reputation":1476,"user_id":3211872,"display_name":"earandap"},"score":1,"creation_date":1655420461,"post_id":72652031,"comment_id":128334811,"body_markdown":"Your spring boot app started without issues. You can see the &quot;Tomcat started on port ...&quot; Also, you see a response produced by the app in the browser. What are the endpoints you have in your app? Did you add the actuator library to your app?","body":"Your spring boot app started without issues. You can see the &quot;Tomcat started on port ...&quot; Also, you see a response produced by the app in the browser. What are the endpoints you have in your app? Did you add the actuator library to your app?"},{"owner":{"account_id":25575144,"reputation":1,"user_id":19354780,"display_name":"code_slasher"},"score":0,"creation_date":1655451313,"post_id":72652031,"comment_id":128340021,"body_markdown":"Yep , I have &#39;&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;&#39; in the pom.xml file","body":"Yep , I have &#39;&lt;dependency&gt;         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;         &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;     &lt;/dependency&gt;&#39; in the pom.xml file"},{"owner":{"account_id":3878647,"reputation":1476,"user_id":3211872,"display_name":"earandap"},"score":0,"creation_date":1655482588,"post_id":72652031,"comment_id":128350725,"body_markdown":"You can check your app is running by checking here: http://localhost:8080/actuator/health","body":"You can check your app is running by checking here: <a href=\"http://localhost:8080/actuator/health\" rel=\"nofollow noreferrer\">localhost:8080/actuator/health</a>"}],"answers":[{"tags":[],"owner":{"account_id":10284555,"reputation":56,"user_id":11850188,"display_name":"Damee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655435041,"creation_date":1655435041,"answer_id":72653903,"question_id":72652031,"body_markdown":"From your project structure, [you only have model class][1].\r\nYou need to add Controller class with handler method that will handle &quot;/&quot; path. \r\nTo add more:\r\n\r\n - You have model class, you have database properties in application.properties but you don&#39;t have repository interface or class to actually connect your application to database to do CRUD operations. for that you have to add spring-boot-starter-data-jpa dependency into your pom.xml. \r\n\r\n```\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n```\r\n    you can then create repository interface as:\r\n\r\n```\r\n    public interface EmployeeRepository extends JpaRepository&lt;Employee,Long&gt; {}\r\n\r\n```\r\n\r\n - Then, you should create service class or service interface and its implementation to get the data you want from database through repository interface  to controller bean. you have inject EmployeeRepository into this service class.\r\n\r\n``` \r\n    @Service\r\n    public class EmployeeService{\r\n        \r\n        private final EmployeeRepository empRepo;\r\n        \r\n        public EmployeeService(EmployeeRepository empRepo) {\r\n            this.empRepo = empRepo;\r\n        }\r\n        public List&lt;Employee&gt; getAllEmp(){\r\n            return empRepo.findAll();\r\n        }\r\n        //there could many other methods.....\r\n     }\r\n\r\n````\r\n - Then you can create your RestController class and add handler method for your end points. The following is a sample.\r\n\r\n```\r\n    @RestController\r\n    public class EmployeeController {\r\n        private final EmployeeService empServ;\r\n        public EmployeeController(final EmployeeService empServ){\r\n            this.empServ = empServ;\r\n        }\r\n        @GetMapping(&quot;/&quot;) \r\n        public List&lt;Employee&gt; getAllEmployees(){\r\n             return empServ.getAllEmp();\r\n       }\r\n    }\r\n\r\n```\r\n\r\nThen you will see something if you have it in your database.\r\n\r\n  [1]: https://i.stack.imgur.com/xnetV.jpg","title":"Spring Boot keeps getting stuck at startup ( JVM running ) while running application","body":"<p>From your project structure, <a href=\"https://i.stack.imgur.com/xnetV.jpg\" rel=\"nofollow noreferrer\">you only have model class</a>.\nYou need to add Controller class with handler method that will handle &quot;/&quot; path.\nTo add more:</p>\n<ul>\n<li>You have model class, you have database properties in application.properties but you don't have repository interface or class to actually connect your application to database to do CRUD operations. for that you have to add spring-boot-starter-data-jpa dependency into your pom.xml.</li>\n</ul>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n</code></pre>\n<pre><code>you can then create repository interface as:\n</code></pre>\n<pre><code>    public interface EmployeeRepository extends JpaRepository&lt;Employee,Long&gt; {}\n\n</code></pre>\n<ul>\n<li>Then, you should create service class or service interface and its implementation to get the data you want from database through repository interface  to controller bean. you have inject EmployeeRepository into this service class.</li>\n</ul>\n<pre><code>    @Service\n    public class EmployeeService{\n        \n        private final EmployeeRepository empRepo;\n        \n        public EmployeeService(EmployeeRepository empRepo) {\n            this.empRepo = empRepo;\n        }\n        public List&lt;Employee&gt; getAllEmp(){\n            return empRepo.findAll();\n        }\n        //there could many other methods.....\n     }\n\n</code></pre>\n<ul>\n<li>Then you can create your RestController class and add handler method for your end points. The following is a sample.</li>\n</ul>\n<pre><code>    @RestController\n    public class EmployeeController {\n        private final EmployeeService empServ;\n        public EmployeeController(final EmployeeService empServ){\n            this.empServ = empServ;\n        }\n        @GetMapping(&quot;/&quot;) \n        public List&lt;Employee&gt; getAllEmployees(){\n             return empServ.getAllEmp();\n       }\n    }\n\n</code></pre>\n<p>Then you will see something if you have it in your database.</p>\n"}],"owner":{"account_id":25575144,"reputation":1,"user_id":19354780,"display_name":"code_slasher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655435041,"creation_date":1655414625,"question_id":72652031,"body_markdown":"[That&#39;s the project structure][1]\r\n\r\nI used mysql and created employeemanager table.\r\n\r\nThat&#39;s the content of each file :\r\n\r\nEmployeeManagerApplication.java :\r\n\r\n  \r\n\r\n    package tn.poulina.EmployeeManager;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n\r\n    /*@ComponentScan(basePackages={&quot;tn.poulina.EmployeeManager.model&quot;} )*/\r\n \r\n    @SpringBootApplication\r\n\r\n    public class EmployeeManagerApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(EmployeeManagerApplication.class, args);\r\n\t}\r\n\r\n    }\r\n\r\n\r\nEmployee.java :\r\n\r\n    package tn.poulina.EmployeeManager.model;\r\n\r\n    import java.io.Serializable;\r\n\r\n    import javax.persistence.*;\r\n\r\n\r\n    @Entity\r\n    public class Employee implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(nullable = false,updatable = false)\r\n    private Long id;\r\n    private String name;\r\n    private String email;\r\n    private String jobTitle;\r\n    private String phone;\r\n    private String imageUrl;\r\n    @Column(nullable = false,updatable = false)\r\n    private String employeeCode;\r\n    \r\n    public Employee()\r\n    {}\r\n   \r\n    public Employee(String name,String email,String jobTitle ,String phone ,String imageUrl,String \r\n    employeeCode)\r\n    {\r\n        this.name=name;\r\n        this.email=email;\r\n        this.jobTitle=jobTitle;\r\n        this.phone=phone;\r\n        this.imageUrl=imageUrl;\r\n        this.employeeCode=employeeCode;\r\n    }\r\n\r\n    public Long getId()\r\n    {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id)\r\n    {\r\n        this.id=id;\r\n    }\r\n\r\n    public String getName()\r\n    {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name)\r\n    {\r\n        this.name=name;\r\n    }\r\n    public String getEmail()\r\n    {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email)\r\n    {\r\n        this.email=email;\r\n    }\r\n    public String getJobTitle()\r\n    {\r\n        return jobTitle;\r\n    }\r\n\r\n    public void setJobTitle(String jobTitle)\r\n    {\r\n        this.jobTitle=jobTitle;\r\n    }\r\n    public String getPhone()\r\n    {\r\n        return phone;\r\n    }\r\n\r\n    public void setPhone(String phone)\r\n    {\r\n        this.phone=phone;\r\n    }\r\n    public String getImageUrl()\r\n    {\r\n        return imageUrl;\r\n    }\r\n\r\n    public void setImageUrl(String imageUrl)\r\n    {\r\n        this.imageUrl=imageUrl;\r\n    }\r\n\r\n    public String getEmployeeCode()\r\n    {\r\n        return employeeCode;\r\n    }\r\n\r\n    public void setEmployeeCode(String employeeCode)\r\n    {\r\n        this.employeeCode=employeeCode;\r\n    }\r\n\r\n\r\n    @Override\r\n    public String toString(){\r\n        return &quot;Employee{&quot;+&quot;id=&quot;+id+&quot;/name=&quot;+name+&quot;/email=&quot;+email+&quot;/jobTitle=&quot;+jobTitle+&quot;/phone=&quot;+phone+&quot;/imageUrl=&quot;+imageUrl+&quot;}&quot;;\r\n    }\r\n\r\napplication.properties :\r\n\r\n    # MySQL Configuration\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/employeemanager\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\r\n\r\n\r\n[while running ,it gets stuck in here][2]\r\n\r\n[i tried typing localhost:8080 on browser and it shows:][3]\r\n\r\n\r\ni have also tried @ComponentScan(basePackages={&quot;tn.poulina.EmployeeManager.model&quot;} ) in &#39;EmployeeManagerApplication.java &#39; and tried moving &#39;EmployeeManagerApplication.java&#39; to package &#39;model&#39;\r\nbut the result is always the same .\r\n\r\n  [1]: https://i.stack.imgur.com/xnetV.jpg\r\n  [2]: https://i.stack.imgur.com/Cd6az.jpg\r\n  [3]: https://i.stack.imgur.com/1mdv3.jpg","title":"Spring Boot keeps getting stuck at startup ( JVM running ) while running application","body":"<p><a href=\"https://i.stack.imgur.com/xnetV.jpg\" rel=\"nofollow noreferrer\">That's the project structure</a></p>\n<p>I used mysql and created employeemanager table.</p>\n<p>That's the content of each file :</p>\n<p>EmployeeManagerApplication.java :</p>\n<pre><code>package tn.poulina.EmployeeManager;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n/*@ComponentScan(basePackages={&quot;tn.poulina.EmployeeManager.model&quot;} )*/\n\n@SpringBootApplication\n\npublic class EmployeeManagerApplication {\n\npublic static void main(String[] args) {\n    SpringApplication.run(EmployeeManagerApplication.class, args);\n}\n\n}\n</code></pre>\n<p>Employee.java :</p>\n<pre><code>package tn.poulina.EmployeeManager.model;\n\nimport java.io.Serializable;\n\nimport javax.persistence.*;\n\n\n@Entity\npublic class Employee implements Serializable {\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(nullable = false,updatable = false)\nprivate Long id;\nprivate String name;\nprivate String email;\nprivate String jobTitle;\nprivate String phone;\nprivate String imageUrl;\n@Column(nullable = false,updatable = false)\nprivate String employeeCode;\n\npublic Employee()\n{}\n\npublic Employee(String name,String email,String jobTitle ,String phone ,String imageUrl,String \nemployeeCode)\n{\n    this.name=name;\n    this.email=email;\n    this.jobTitle=jobTitle;\n    this.phone=phone;\n    this.imageUrl=imageUrl;\n    this.employeeCode=employeeCode;\n}\n\npublic Long getId()\n{\n    return id;\n}\n\npublic void setId(Long id)\n{\n    this.id=id;\n}\n\npublic String getName()\n{\n    return name;\n}\n\npublic void setName(String name)\n{\n    this.name=name;\n}\npublic String getEmail()\n{\n    return email;\n}\n\npublic void setEmail(String email)\n{\n    this.email=email;\n}\npublic String getJobTitle()\n{\n    return jobTitle;\n}\n\npublic void setJobTitle(String jobTitle)\n{\n    this.jobTitle=jobTitle;\n}\npublic String getPhone()\n{\n    return phone;\n}\n\npublic void setPhone(String phone)\n{\n    this.phone=phone;\n}\npublic String getImageUrl()\n{\n    return imageUrl;\n}\n\npublic void setImageUrl(String imageUrl)\n{\n    this.imageUrl=imageUrl;\n}\n\npublic String getEmployeeCode()\n{\n    return employeeCode;\n}\n\npublic void setEmployeeCode(String employeeCode)\n{\n    this.employeeCode=employeeCode;\n}\n\n\n@Override\npublic String toString(){\n    return &quot;Employee{&quot;+&quot;id=&quot;+id+&quot;/name=&quot;+name+&quot;/email=&quot;+email+&quot;/jobTitle=&quot;+jobTitle+&quot;/phone=&quot;+phone+&quot;/imageUrl=&quot;+imageUrl+&quot;}&quot;;\n}\n</code></pre>\n<p>application.properties :</p>\n<pre><code># MySQL Configuration\n\nspring.datasource.url=jdbc:mysql://localhost:3306/employeemanager\nspring.datasource.username=root\nspring.datasource.password=root\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Cd6az.jpg\" rel=\"nofollow noreferrer\">while running ,it gets stuck in here</a></p>\n<p><a href=\"https://i.stack.imgur.com/1mdv3.jpg\" rel=\"nofollow noreferrer\">i tried typing localhost:8080 on browser and it shows:</a></p>\n<p>i have also tried @ComponentScan(basePackages={&quot;tn.poulina.EmployeeManager.model&quot;} ) in 'EmployeeManagerApplication.java ' and tried moving 'EmployeeManagerApplication.java' to package 'model'\nbut the result is always the same .</p>\n"},{"tags":["java","spring","google-cloud-platform","google-cloud-storage","firebase-admin"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1655382549,"post_id":72642994,"comment_id":128322425,"body_markdown":"Firebase Admin comes with Cloud Storage - no need to add and initialize it separately.  If you initialized Firebase Admin, you already have access to the storage APIs by way of the service account you used to initialize it.  Read: https://firebase.google.com/docs/storage/admin/start#java","body":"Firebase Admin comes with Cloud Storage - no need to add and initialize it separately.  If you initialized Firebase Admin, you already have access to the storage APIs by way of the service account you used to initialize it.  Read: <a href=\"https://firebase.google.com/docs/storage/admin/start#java\" rel=\"nofollow noreferrer\">firebase.google.com/docs/storage/admin/start#java</a>"},{"owner":{"account_id":12257637,"reputation":587,"user_id":15040818,"display_name":"Oirampok"},"score":0,"creation_date":1655434674,"post_id":72642994,"comment_id":128336912,"body_markdown":"Thanks!, works perfectly now. Can you put your comment in an answer so i can accept it?","body":"Thanks!, works perfectly now. Can you put your comment in an answer so i can accept it?"}],"answers":[{"tags":[],"owner":{"account_id":12257637,"reputation":587,"user_id":15040818,"display_name":"Oirampok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655434780,"creation_date":1655434780,"answer_id":72653888,"question_id":72642994,"body_markdown":"Thanks to @Doug Stevenson for the answer. \r\n\r\nAll I needed to do was remove the cloud-storage client library dependency, continue initializing firebase as usual and then access the bucket through: \r\n\r\n    Storage storage = StorageClient.getInstance().bucket(&quot;test.appspot.com&quot;).getStorage();\r\n    BlobId blobId = BlobId.of(&quot;test&quot;, &quot;products/&quot;+productId+&quot;.jpg&quot;);\r\n    return storage.readAllBytes(blobId);","title":"Java/Spring using Google Cloud firebase-admin conflicts with google-cloud-storage","body":"<p>Thanks to @Doug Stevenson for the answer.</p>\n<p>All I needed to do was remove the cloud-storage client library dependency, continue initializing firebase as usual and then access the bucket through:</p>\n<pre><code>Storage storage = StorageClient.getInstance().bucket(&quot;test.appspot.com&quot;).getStorage();\nBlobId blobId = BlobId.of(&quot;test&quot;, &quot;products/&quot;+productId+&quot;.jpg&quot;);\nreturn storage.readAllBytes(blobId);\n</code></pre>\n"}],"owner":{"account_id":12257637,"reputation":587,"user_id":15040818,"display_name":"Oirampok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72653888,"answer_count":1,"score":0,"last_activity_date":1655434780,"creation_date":1655369328,"question_id":72642994,"body_markdown":"I have been using the firebase-admin sdk to authenthicate all requests to a simple REST api running on springboot. \r\n\r\nThe dependency before was only: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n        &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n        &lt;version&gt;8.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nand it worked out just fine, i initialized using this class: \r\n\r\n    @Service\r\n    public class FirebaseInitialization {\r\n        public FirebaseInitialization() {\r\n        }\r\n    \r\n        @PostConstruct\r\n        public void initialization() {\r\n            try {\r\n                InputStream inputStream = this.getClass().getResourceAsStream(&quot;/serviceAccountKey.json&quot;);\r\n                FirebaseOptions options = (new Builder()).setCredentials(GoogleCredentials.fromStream(inputStream)).build();\r\n                FirebaseApp.initializeApp(options);\r\n            } catch (Exception var3) {\r\n                var3.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nNow I want to also use the google cloud storage client library to access data in a bucket. I added the depdency as follows: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand tried to initialize the client library: \r\n\r\n    InputStream inputStream = this.getClass().getResourceAsStream(&quot;/serviceAccountKey.json&quot;);\r\n    Credentials credentials = GoogleCredentials.fromStream(inputStream);\r\n    Storage storage = StorageOptions.newBuilder().setCredentials(credentials).setProjectId(&quot;test&quot;).build().getService();\r\n\r\nHowever the program crashes at startup with this error: \r\n\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;firestore&#39; defined in class path resource [org/springframework/cloud/gcp/autoconfigure/firestore/GcpFirestoreAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.cloud.firestore.Firestore]: Factory method &#39;firestore&#39; threw exception; nested exception is com.google.cloud.firestore.FirestoreException: java.lang.IllegalStateException: getTransportChannel() called when needsExecutor() is true\r\n\r\nWhat is interesting is that I can fix it by removing either one of the firebase-admin sdk or the cloud storage client library. I tested this by removing the firebase-admin sdk and the cloud storage client library works perfectly. \r\n\r\nIs this because they are both accessing the same credentials file? What I know so far is that this is not a permissions issue, because they both work fine independently from one another, the problem just lies when I try and run both at the same time. Maybe there is some config that I need to setup to have both? \r\n","title":"Java/Spring using Google Cloud firebase-admin conflicts with google-cloud-storage","body":"<p>I have been using the firebase-admin sdk to authenthicate all requests to a simple REST api running on springboot.</p>\n<p>The dependency before was only:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n    &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n    &lt;version&gt;8.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and it worked out just fine, i initialized using this class:</p>\n<pre><code>@Service\npublic class FirebaseInitialization {\n    public FirebaseInitialization() {\n    }\n\n    @PostConstruct\n    public void initialization() {\n        try {\n            InputStream inputStream = this.getClass().getResourceAsStream(&quot;/serviceAccountKey.json&quot;);\n            FirebaseOptions options = (new Builder()).setCredentials(GoogleCredentials.fromStream(inputStream)).build();\n            FirebaseApp.initializeApp(options);\n        } catch (Exception var3) {\n            var3.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n<p>Now I want to also use the google cloud storage client library to access data in a bucket. I added the depdency as follows:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\n    &lt;version&gt;2.8.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and tried to initialize the client library:</p>\n<pre><code>InputStream inputStream = this.getClass().getResourceAsStream(&quot;/serviceAccountKey.json&quot;);\nCredentials credentials = GoogleCredentials.fromStream(inputStream);\nStorage storage = StorageOptions.newBuilder().setCredentials(credentials).setProjectId(&quot;test&quot;).build().getService();\n</code></pre>\n<p>However the program crashes at startup with this error:</p>\n<blockquote>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firestore' defined in class path resource [org/springframework/cloud/gcp/autoconfigure/firestore/GcpFirestoreAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.google.cloud.firestore.Firestore]: Factory method 'firestore' threw exception; nested exception is com.google.cloud.firestore.FirestoreException: java.lang.IllegalStateException: getTransportChannel() called when needsExecutor() is true</p>\n</blockquote>\n<p>What is interesting is that I can fix it by removing either one of the firebase-admin sdk or the cloud storage client library. I tested this by removing the firebase-admin sdk and the cloud storage client library works perfectly.</p>\n<p>Is this because they are both accessing the same credentials file? What I know so far is that this is not a permissions issue, because they both work fine independently from one another, the problem just lies when I try and run both at the same time. Maybe there is some config that I need to setup to have both?</p>\n"},{"tags":["java","android","chartboost"],"comments":[{"owner":{"account_id":2342714,"reputation":6752,"user_id":2053650,"display_name":"g00dy"},"score":0,"creation_date":1372403262,"post_id":17358225,"comment_id":25190691,"body_markdown":"You want the Ad to not show (to be shown for example every 1 hour) or you want to Randomize the shown Ad? The title of the question deffers from the description and is somehow misleading.","body":"You want the Ad to not show (to be shown for example every 1 hour) or you want to Randomize the shown Ad? The title of the question deffers from the description and is somehow misleading."},{"owner":{"account_id":1017979,"reputation":4294,"user_id":1029089,"accept_rate":90,"display_name":"Piyush-Ask Any Difference"},"score":0,"creation_date":1372407335,"post_id":17358225,"comment_id":25192567,"body_markdown":"looking to show the ad when user clicked on a list item but then not show the ad every time he/she clicks the list item but showing it say 40% of the time when user clicked any of the list item","body":"looking to show the ad when user clicked on a list item but then not show the ad every time he/she clicks the list item but showing it say 40% of the time when user clicked any of the list item"},{"owner":{"account_id":2342714,"reputation":6752,"user_id":2053650,"display_name":"g00dy"},"score":0,"creation_date":1372407553,"post_id":17358225,"comment_id":25192684,"body_markdown":"To have this 40% of the time, you must average the cliecks. Let&#39;s say I&#39;m clicking 100 times on those, I&#39;ll receive the Ad 40 times, but if you click 10 times on the list items, you&#39;ll get them 4 times. That&#39;s the tough part. If you know that number (I can not evaluate it, ut you can, because only you know how often those clicks may occur), then you can assess what this 40% of the time really means.","body":"To have this 40% of the time, you must average the cliecks. Let&#39;s say I&#39;m clicking 100 times on those, I&#39;ll receive the Ad 40 times, but if you click 10 times on the list items, you&#39;ll get them 4 times. That&#39;s the tough part. If you know that number (I can not evaluate it, ut you can, because only you know how often those clicks may occur), then you can assess what this 40% of the time really means."},{"owner":{"account_id":2342714,"reputation":6752,"user_id":2053650,"display_name":"g00dy"},"score":0,"creation_date":1372407808,"post_id":17358225,"comment_id":25192815,"body_markdown":"You can perform this calculation on the go. When the user is using the application, you can at first show the Ad on every two clicks, then after some use of the App, you&#39;ll get how ofter the user cliecks on the list views and evaluate the number of clicks, then calculate the number of shown Ads, by multiplying the clicks to 40%.","body":"You can perform this calculation on the go. When the user is using the application, you can at first show the Ad on every two clicks, then after some use of the App, you&#39;ll get how ofter the user cliecks on the list views and evaluate the number of clicks, then calculate the number of shown Ads, by multiplying the clicks to 40%."}],"answers":[{"tags":[],"owner":{"account_id":21404043,"reputation":5,"user_id":15765579,"display_name":"Spicier Ewe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655434780,"creation_date":1655434730,"answer_id":72653880,"question_id":17358225,"body_markdown":"\r\n    randomAdPopup() async {\r\n\r\n    initializeInterstitialAd();\r\n\r\n    List adTimeIntervalsList = [\r\n      72,\r\n      162,\r\n      210,\r\n      234,\r\n      270,\r\n    ];\r\n    var random = Random();\r\n    int randomNumber = random.nextInt(adTimeIntervalsList.length);\r\n\r\n    print(\r\n        &#39;ad coming in ${adTimeIntervalsList[randomNumber]} ****   AD  **&#39;);\r\n\r\n\r\n    Timer.periodic(Duration(seconds: adTimeIntervalsList[randomNumber]),\r\n        (timer) async {\r\n      initializeInterstitialAd();\r\n\r\n      if (isInterstitialAdLoaded) {\r\n        await interstitialAd.show();\r\n      }\r\n    });\r\n    }","title":"Randomizing interstetial ads","body":"<pre><code>randomAdPopup() async {\n\ninitializeInterstitialAd();\n\nList adTimeIntervalsList = [\n  72,\n  162,\n  210,\n  234,\n  270,\n];\nvar random = Random();\nint randomNumber = random.nextInt(adTimeIntervalsList.length);\n\nprint(\n    'ad coming in ${adTimeIntervalsList[randomNumber]} ****   AD  **');\n\n\nTimer.periodic(Duration(seconds: adTimeIntervalsList[randomNumber]),\n    (timer) async {\n  initializeInterstitialAd();\n\n  if (isInterstitialAdLoaded) {\n    await interstitialAd.show();\n  }\n});\n}\n</code></pre>\n"}],"owner":{"account_id":1017979,"reputation":4294,"user_id":1029089,"accept_rate":90,"display_name":"Piyush-Ask Any Difference"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655434780,"creation_date":1372399458,"question_id":17358225,"body_markdown":"I am using chartboost interstitial in my android app and able to show interstitial ads using their android sdk.\r\n\r\nThe statement which shows the ad is:\r\n\r\n    this.cb.showInterstitial();\r\n\r\nMy question is that by using Java code, how can I randomize this display of ad so that users don&#39;t always see the ad but only at random times.","title":"Randomizing interstetial ads","body":"<p>I am using chartboost interstitial in my android app and able to show interstitial ads using their android sdk.</p>\n\n<p>The statement which shows the ad is:</p>\n\n<pre><code>this.cb.showInterstitial();\n</code></pre>\n\n<p>My question is that by using Java code, how can I randomize this display of ad so that users don't always see the ad but only at random times.</p>\n"},{"tags":["java","android","time"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":1,"creation_date":1336746834,"post_id":9214786,"comment_id":34343683,"body_markdown":"This question has better answers [here](http://stackoverflow.com/a/625624/685806) and [here](http://stackoverflow.com/a/266970/685806).","body":"This question has better answers <a href=\"http://stackoverflow.com/a/625624/685806\">here</a> and <a href=\"http://stackoverflow.com/a/266970/685806\">here</a>."},{"owner":{"account_id":989107,"reputation":21888,"user_id":1006863,"accept_rate":69,"display_name":"Paulo Fidalgo"},"score":0,"creation_date":1393948647,"post_id":9214786,"comment_id":33659530,"body_markdown":"possible duplicate of [How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?](http://stackoverflow.com/questions/625433/how-to-convert-milliseconds-to-x-mins-x-seconds-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/625433/how-to-convert-milliseconds-to-x-mins-x-seconds-in-java\">How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?</a>"},{"owner":{"account_id":3185625,"reputation":1425,"user_id":2691307,"display_name":"kapil thadani"},"score":0,"creation_date":1421140537,"post_id":9214786,"comment_id":44235000,"body_markdown":"possible duplicate of [How to convert time in seconds to HH:MM:SS format in MySQL?](http://stackoverflow.com/questions/18911455/how-to-convert-time-in-seconds-to-hhmmss-format-in-mysql)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/18911455/how-to-convert-time-in-seconds-to-hhmmss-format-in-mysql\">How to convert time in seconds to HH:MM:SS format in MySQL?</a>"}],"answers":[{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1421151443,"creation_date":1328805150,"answer_id":9214822,"question_id":9214786,"body_markdown":"Timezones.\r\n\r\nThe long value `5000` means 5 seconds after the epoch.  For the majority of timezones, 5 seconds after the epoch is not 5 seconds past midnight local time.\r\n\r\n**Java 8 update**:\r\n\r\n`java.time.LocalTime` will handle the idea of a wall-clock &quot;time of day&quot; without you having to worry about the timezones and days implicit in `java.util.Date`.  If you can use Java 8, and your durations will always be less than a day, then a correct version of your example can be as simple as:\r\n\r\n    int millis = 5000;\r\n    int seconds = millis / 1000; // Maybe no need to divide if the input is in seconds\r\n    LocalTime timeOfDay = LocalTime.ofSecondOfDay(seconds);\r\n    String time = timeOfDay.toString();\r\n\r\n(I guess strictly speaking, `java.time.Duration` is a better *model* of what you want, in that it represents a certain number of seconds, rather than a time-of-day.  But it&#39;s a pain to format into hh:mm:ss, so if you&#39;re always dealing with sub-24hour values, TimeOfDay gives you this formatting for free and is otherwise equivalent.)\r\n\r\n\r\n----------\r\n\r\n\r\nIf you&#39;re stuck with Java 7 or below, then explicitly specifying a timezone of `GMT` in your example code should give you the output you expect.\r\n\r\nHere&#39;s a Scala REPL session demonstrating the problem, and Java 7 solution, on my machine:\r\n\r\n    scala&gt; val millis = 5000\r\n    millis: Int = 5000\r\n\r\n    scala&gt; val df = new java.text.SimpleDateFormat(&quot;HH:mm:ss&quot;)\r\n    df: java.text.SimpleDateFormat = java.text.SimpleDateFormat@8140d380\r\n\r\n    scala&gt; df.format(millis)\r\n    res0: java.lang.String = 01:00:05\r\n\r\n    scala&gt; df.getTimeZone.getID\r\n    res1: java.lang.String = GB\r\n\r\n    scala&gt; df.getTimeZone.getOffset(millis)\r\n    res2: Int = 3600000\r\n    \r\n    scala&gt; df.setTimeZone(java.util.TimeZone.getTimeZone(&quot;GMT&quot;))\r\n\r\n    scala&gt; df.format(millis)\r\n    res3: java.lang.String = 00:00:05\r\n\r\nSo you can see that my default time zone is `GB`, which has a 1 hour offset from GMT at the time denoted by `5000L`.  Setting the timezone to GMT gievs the expected output of `00:00:05`.","title":"How to convert the seconds in this format &quot;HH:mm:ss&quot;","body":"<p>Timezones.</p>\n\n<p>The long value <code>5000</code> means 5 seconds after the epoch.  For the majority of timezones, 5 seconds after the epoch is not 5 seconds past midnight local time.</p>\n\n<p><strong>Java 8 update</strong>:</p>\n\n<p><code>java.time.LocalTime</code> will handle the idea of a wall-clock \"time of day\" without you having to worry about the timezones and days implicit in <code>java.util.Date</code>.  If you can use Java 8, and your durations will always be less than a day, then a correct version of your example can be as simple as:</p>\n\n<pre><code>int millis = 5000;\nint seconds = millis / 1000; // Maybe no need to divide if the input is in seconds\nLocalTime timeOfDay = LocalTime.ofSecondOfDay(seconds);\nString time = timeOfDay.toString();\n</code></pre>\n\n<p>(I guess strictly speaking, <code>java.time.Duration</code> is a better <em>model</em> of what you want, in that it represents a certain number of seconds, rather than a time-of-day.  But it's a pain to format into hh:mm:ss, so if you're always dealing with sub-24hour values, TimeOfDay gives you this formatting for free and is otherwise equivalent.)</p>\n\n<hr>\n\n<p>If you're stuck with Java 7 or below, then explicitly specifying a timezone of <code>GMT</code> in your example code should give you the output you expect.</p>\n\n<p>Here's a Scala REPL session demonstrating the problem, and Java 7 solution, on my machine:</p>\n\n<pre><code>scala&gt; val millis = 5000\nmillis: Int = 5000\n\nscala&gt; val df = new java.text.SimpleDateFormat(\"HH:mm:ss\")\ndf: java.text.SimpleDateFormat = java.text.SimpleDateFormat@8140d380\n\nscala&gt; df.format(millis)\nres0: java.lang.String = 01:00:05\n\nscala&gt; df.getTimeZone.getID\nres1: java.lang.String = GB\n\nscala&gt; df.getTimeZone.getOffset(millis)\nres2: Int = 3600000\n\nscala&gt; df.setTimeZone(java.util.TimeZone.getTimeZone(\"GMT\"))\n\nscala&gt; df.format(millis)\nres3: java.lang.String = 00:00:05\n</code></pre>\n\n<p>So you can see that my default time zone is <code>GB</code>, which has a 1 hour offset from GMT at the time denoted by <code>5000L</code>.  Setting the timezone to GMT gievs the expected output of <code>00:00:05</code>.</p>\n"},{"tags":[],"owner":{"account_id":1138365,"reputation":3119,"user_id":1122939,"display_name":"B. Anderson"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1328812245,"creation_date":1328812245,"answer_id":9216626,"question_id":9214786,"body_markdown":"I got this to work.  Let me know if it works for you.  Seems like a lot of lines to do something seemingly simple..\r\n\r\n\t\tint millis = 5000;\r\n\t\tTimeZone tz = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n\t\tSimpleDateFormat df = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n\t\tdf.setTimeZone(tz);\r\n\t\tString time = df.format(new Date(millis));\r\n\t\tSystem.out.println(time);","title":"How to convert the seconds in this format &quot;HH:mm:ss&quot;","body":"<p>I got this to work.  Let me know if it works for you.  Seems like a lot of lines to do something seemingly simple..</p>\n\n<pre><code>    int millis = 5000;\n    TimeZone tz = TimeZone.getTimeZone(\"UTC\");\n    SimpleDateFormat df = new SimpleDateFormat(\"HH:mm:ss\");\n    df.setTimeZone(tz);\n    String time = df.format(new Date(millis));\n    System.out.println(time);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5617701,"reputation":21,"user_id":4448478,"display_name":"maxim delaet"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1421140061,"creation_date":1421138984,"answer_id":27918066,"question_id":9214786,"body_markdown":"    public class HHMMSS {\r\n    \r\n    \t\tfinal int UUR = 3600;\r\n    \t\tfinal int MINUUT = 60;\r\n    \r\n    \tpublic void converteerTijd() {\r\n    \r\n    \t\tint uren, minuten, seconden, ingave;\r\n    \t\tSystem.out.print(&quot;Geef een aantal seconden: &quot;);\r\n    \t\tingave = Input.readInt();\r\n    \t\turen = ingave / UUR;\r\n    \t\tminuten = (ingave - uren * UUR) / MINUUT;\r\n    \t\tseconden = ingave - uren * UUR - minuten * MINUUT;\r\n    \t\tString nU1 = (uren &lt; 10) ? &quot;0&quot; : &quot;&quot;;\r\n    \t\tString nM1 = (minuten &lt; 10) ? &quot;0&quot; : &quot;&quot;;\r\n    \t\tString nS1 = (seconden &lt; 10) ? &quot;0&quot; : &quot;&quot;;\r\n    \t\tSystem.out.println(nU1 + uren + &quot;-&quot; + nM1 + minuten + &quot;-&quot; + nS1 + seconden);","title":"How to convert the seconds in this format &quot;HH:mm:ss&quot;","body":"<pre><code>public class HHMMSS {\n\n        final int UUR = 3600;\n        final int MINUUT = 60;\n\n    public void converteerTijd() {\n\n        int uren, minuten, seconden, ingave;\n        System.out.print(\"Geef een aantal seconden: \");\n        ingave = Input.readInt();\n        uren = ingave / UUR;\n        minuten = (ingave - uren * UUR) / MINUUT;\n        seconden = ingave - uren * UUR - minuten * MINUUT;\n        String nU1 = (uren &lt; 10) ? \"0\" : \"\";\n        String nM1 = (minuten &lt; 10) ? \"0\" : \"\";\n        String nS1 = (seconden &lt; 10) ? \"0\" : \"\";\n        System.out.println(nU1 + uren + \"-\" + nM1 + minuten + \"-\" + nS1 + seconden);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3970841,"reputation":5578,"user_id":3275491,"accept_rate":55,"display_name":"localhost"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1421140341,"creation_date":1421140341,"answer_id":27918473,"question_id":9214786,"body_markdown":"You should get SimpleDateFormat with Locale argument.\r\n\r\n    public static String getDateFromMillis(long millis) {\r\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;HH:mm:ss&quot;, Locale.getDefault());\r\n        return formatter.format(new Date(millis));\r\n    }","title":"How to convert the seconds in this format &quot;HH:mm:ss&quot;","body":"<p>You should get SimpleDateFormat with Locale argument.</p>\n\n<pre><code>public static String getDateFromMillis(long millis) {\n    SimpleDateFormat formatter = new SimpleDateFormat(\"HH:mm:ss\", Locale.getDefault());\n    return formatter.format(new Date(millis));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491996540,"creation_date":1491996540,"answer_id":43368279,"question_id":9214786,"body_markdown":"Java 9 answer:\r\n\r\n\t\tDuration dur = Duration.ofMillis(millis);\r\n\t\tSystem.out.println(String.format(&quot;%02d:%02d:%02d&quot;,\r\n                           dur.toHours(), dur.toMinutesPart(), dur.toSecondsPart()));\r\n(not tested yet)\r\n\r\nThe `toXxPart` methods are described in [the API docs for Java 9](http://download.java.net/java/jdk9/docs/api/java/time/Duration.html).","title":"How to convert the seconds in this format &quot;HH:mm:ss&quot;","body":"<p>Java 9 answer:</p>\n\n<pre><code>    Duration dur = Duration.ofMillis(millis);\n    System.out.println(String.format(\"%02d:%02d:%02d\",\n                       dur.toHours(), dur.toMinutesPart(), dur.toSecondsPart()));\n</code></pre>\n\n<p>(not tested yet)</p>\n\n<p>The <code>toXxPart</code> methods are described in <a href=\"http://download.java.net/java/jdk9/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\">the API docs for Java 9</a>.</p>\n"},{"tags":[],"owner":{"account_id":9022797,"reputation":2681,"user_id":6723250,"accept_rate":62,"display_name":"xeruf"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1536069666,"creation_date":1513382100,"answer_id":47841277,"question_id":9214786,"body_markdown":"I wrote a simple utility function for this task which does not require any Java version nor instantiates any unnecessary objects:\r\n\r\n    /**\r\n\t * provides a String representation of the given time\r\n\t * @return {@code millis} in hh:mm:ss format\r\n\t */\r\n\tpublic static final String formatTime(long millis) {\r\n\t\tlong secs = millis / 1000;\r\n\t\treturn String.format(&quot;%02d:%02d:%02d&quot;, secs / 3600, (secs % 3600) / 60, secs % 60);\r\n\t}\r\n\r\nUnlike some other solutions here, this can even deal with up to 100 hours","title":"How to convert the seconds in this format &quot;HH:mm:ss&quot;","body":"<p>I wrote a simple utility function for this task which does not require any Java version nor instantiates any unnecessary objects:</p>\n\n<pre><code>/**\n * provides a String representation of the given time\n * @return {@code millis} in hh:mm:ss format\n */\npublic static final String formatTime(long millis) {\n    long secs = millis / 1000;\n    return String.format(\"%02d:%02d:%02d\", secs / 3600, (secs % 3600) / 60, secs % 60);\n}\n</code></pre>\n\n<p>Unlike some other solutions here, this can even deal with up to 100 hours</p>\n"},{"tags":[],"owner":{"account_id":2140748,"reputation":374,"user_id":1899440,"display_name":"Bokili Production"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648668424,"creation_date":1648666590,"answer_id":71682687,"question_id":9214786,"body_markdown":"This example has no localization warning:\r\n\r\n    public static String getTime(int sek) {\r\n        return String.format(Locale.US, &quot;%02d:%02d:%02d&quot;, sek/3600, (sek%3600)/60, sek%60);\r\n    }","title":"How to convert the seconds in this format &quot;HH:mm:ss&quot;","body":"<p>This example has no localization warning:</p>\n<pre><code>public static String getTime(int sek) {\n    return String.format(Locale.US, &quot;%02d:%02d:%02d&quot;, sek/3600, (sek%3600)/60, sek%60);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19209172,"reputation":33,"user_id":14035342,"display_name":"zakaria-alshamere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655434414,"creation_date":1655434414,"answer_id":72653862,"question_id":9214786,"body_markdown":"**Show time duration like YouTube**\r\n\r\n    String duration(int length){\r\n        String format =String.format(Locale.US, &quot;%02d:%02d:%02d&quot;, length/3600, (length%3600)/60, length%60);\r\n        if (format.length()&gt;=7 &amp;&amp; format.startsWith(&quot;00:0&quot;))\r\n            format=format.replace(&quot;00:0&quot;,&quot;&quot;);\r\n        if (format.length()&gt;=7 &amp;&amp; format.startsWith(&quot;00:&quot;))\r\n            format=format.replace(&quot;00:&quot;,&quot;&quot;);\r\n        Log.d(&quot;seeformat&quot;,format);\r\n        return format;\r\n    }","title":"How to convert the seconds in this format &quot;HH:mm:ss&quot;","body":"<p><strong>Show time duration like YouTube</strong></p>\n<pre><code>String duration(int length){\n    String format =String.format(Locale.US, &quot;%02d:%02d:%02d&quot;, length/3600, (length%3600)/60, length%60);\n    if (format.length()&gt;=7 &amp;&amp; format.startsWith(&quot;00:0&quot;))\n        format=format.replace(&quot;00:0&quot;,&quot;&quot;);\n    if (format.length()&gt;=7 &amp;&amp; format.startsWith(&quot;00:&quot;))\n        format=format.replace(&quot;00:&quot;,&quot;&quot;);\n    Log.d(&quot;seeformat&quot;,format);\n    return format;\n}\n</code></pre>\n"}],"owner":{"account_id":533650,"reputation":1534,"user_id":904034,"accept_rate":57,"display_name":"Webman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61488,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"answer_count":8,"score":35,"last_activity_date":1655434414,"creation_date":1328805009,"question_id":9214786,"body_markdown":"I want to convert the second/milliseconds in this format &quot;HH:mm:ss&quot; (for esamples, from 5 seconds to 00:00:05). I tried to get that format in this way:\r\n\r\n    int millis = 5000;\r\n    SimpleDateFormat df = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n    String time = df.format(millis);\r\n\r\nIn that way, I get &quot;01:00:05&quot; and not &quot;00:00:05&quot;. Where am I wrong?","title":"How to convert the seconds in this format &quot;HH:mm:ss&quot;","body":"<p>I want to convert the second/milliseconds in this format \"HH:mm:ss\" (for esamples, from 5 seconds to 00:00:05). I tried to get that format in this way:</p>\n\n<pre><code>int millis = 5000;\nSimpleDateFormat df = new SimpleDateFormat(\"HH:mm:ss\");\nString time = df.format(millis);\n</code></pre>\n\n<p>In that way, I get \"01:00:05\" and not \"00:00:05\". Where am I wrong?</p>\n"},{"tags":["java","spring","spring-boot","ipv6","x-forwarded-for"],"comments":[{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1627463100,"post_id":68556788,"comment_id":121160642,"body_markdown":"To check if an IP is v6, I use the following quick-and-dirty code: `(InetAddress.getByName(ipStr) instanceof Inet6Address)`.","body":"To check if an IP is v6, I use the following quick-and-dirty code: <code>(InetAddress.getByName(ipStr) instanceof Inet6Address)</code>."}],"answers":[{"tags":[],"owner":{"account_id":17866310,"reputation":105,"user_id":12978596,"display_name":"Sahil Chimnani"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1627492477,"creation_date":1627492477,"answer_id":68564731,"question_id":68556788,"body_markdown":"The issue is due to google cloud run service not respecting RFC7239 standards and not due to spring boot. Cloud run fails to enclose IPv6 addresses with quotes and square brackets(as per RFC7239 standards) due to which spring interprets it as an IPv4 address and fails while parsing port number from the address.\r\n\r\nThis is very strange that google cloud fails to follow the standard. As of today, the Google cloud team says they are working on the fix but ETA is not guaranteed.\r\n\r\nYou can track the status here:\r\nhttps://issuetracker.google.com/issues/184230536?pli=1","title":"ForwardedHeaderFilter no longer support IPv6","body":"<p>The issue is due to google cloud run service not respecting RFC7239 standards and not due to spring boot. Cloud run fails to enclose IPv6 addresses with quotes and square brackets(as per RFC7239 standards) due to which spring interprets it as an IPv4 address and fails while parsing port number from the address.</p>\n<p>This is very strange that google cloud fails to follow the standard. As of today, the Google cloud team says they are working on the fix but ETA is not guaranteed.</p>\n<p>You can track the status here:\n<a href=\"https://issuetracker.google.com/issues/184230536?pli=1\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/184230536?pli=1</a></p>\n"}],"owner":{"account_id":17866310,"reputation":105,"user_id":12978596,"display_name":"Sahil Chimnani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":909,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68564731,"answer_count":1,"score":0,"last_activity_date":1655434181,"creation_date":1627460322,"question_id":68556788,"body_markdown":"After upgrading spring boot version to 2.4.9, the spring boot application works fine only for ipv4 but throws an error for ipv6. The app is deployed on google cloud run service. Current versions:\r\n\r\n```\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.3&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n```\r\n```\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.9&lt;/version&gt;\r\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n  &lt;/parent&gt;\r\n```\r\n\r\nError:\r\n```\r\njava.lang.IllegalArgumentException: Invalid IPv4 address: 2409:4042:2319:a971:c4db:4661:939c:443b\r\n\tat org.springframework.web.util.UriComponentsBuilder.parseForwardedFor(UriComponentsBuilder.java:363)\r\n\tat org.springframework.web.filter.ForwardedHeaderFilter$ForwardedHeaderExtractingRequest.&lt;init&gt;(ForwardedHeaderFilter.java:246)\r\n\tat org.springframework.web.filter.ForwardedHeaderFilter.doFilterInternal(ForwardedHeaderFilter.java:149)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n```\r\n\r\nI was able to find a similar issue but did not find any solution.\r\nhttps://github.com/spring-projects/spring-framework/issues/26748\r\n\r\n\r\nThe line in the code that throws the error\r\nhttps://github.com/spring-projects/spring-framework/blob/6c68419073b43fb29114a3af4e402c729084ed84/spring-web/src/main/java/org/springframework/web/util/UriComponentsBuilder.java#L363\r\n\r\n","title":"ForwardedHeaderFilter no longer support IPv6","body":"<p>After upgrading spring boot version to 2.4.9, the spring boot application works fine only for ipv4 but throws an error for ipv6. The app is deployed on google cloud run service. Current versions:</p>\n<pre><code>      &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;2.0.3&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<pre><code>  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.4.9&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n</code></pre>\n<p>Error:</p>\n<pre><code>java.lang.IllegalArgumentException: Invalid IPv4 address: 2409:4042:2319:a971:c4db:4661:939c:443b\n    at org.springframework.web.util.UriComponentsBuilder.parseForwardedFor(UriComponentsBuilder.java:363)\n    at org.springframework.web.filter.ForwardedHeaderFilter$ForwardedHeaderExtractingRequest.&lt;init&gt;(ForwardedHeaderFilter.java:246)\n    at org.springframework.web.filter.ForwardedHeaderFilter.doFilterInternal(ForwardedHeaderFilter.java:149)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n</code></pre>\n<p>I was able to find a similar issue but did not find any solution.\n<a href=\"https://github.com/spring-projects/spring-framework/issues/26748\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/26748</a></p>\n<p>The line in the code that throws the error\n<a href=\"https://github.com/spring-projects/spring-framework/blob/6c68419073b43fb29114a3af4e402c729084ed84/spring-web/src/main/java/org/springframework/web/util/UriComponentsBuilder.java#L363\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/blob/6c68419073b43fb29114a3af4e402c729084ed84/spring-web/src/main/java/org/springframework/web/util/UriComponentsBuilder.java#L363</a></p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":23771513,"reputation":330,"user_id":17785521,"display_name":"Mahadev K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654844102,"creation_date":1654844102,"answer_id":72570213,"question_id":72569172,"body_markdown":"I think an if condition could solve the problem. Create Pageable instance with respect to the condition.\r\n\r\n```\r\n@Override\r\npublic Page&lt;User&gt; getPageAndSort(String field, String direction, int page) {\r\n\r\n    Sort sort = direction.equalsIgnoreCase(Sort.Direction.ASC.name())\r\n            ? Sort.by(field).ascending()\r\n            : Sort.by(field).descending();\r\n\r\n    Pageable pageable = (page == 1)?PageRequest.of(page-1, 10, sort)\r\n    :PageRequest.of(page-1, 10);\r\n\r\n    return userRepo.findAll(pageable);\r\n}\r\n```\r\n\r\nReferences : https://www.baeldung.com/spring-data-jpa-pagination-sorting#:~:text=We%20can%20create%20a%20PageRequest%20object%20by%20passing,%280%2C%202%29%3B%20Pageable%20secondPageWithFiveElements%20%3D%20PageRequest.of%20%281%2C%205%29%3B\r\n\r\nI think this helps.","title":"How to sort a particular page number in Spring Data JPA?","body":"<p>I think an if condition could solve the problem. Create Pageable instance with respect to the condition.</p>\n<pre><code>@Override\npublic Page&lt;User&gt; getPageAndSort(String field, String direction, int page) {\n\n    Sort sort = direction.equalsIgnoreCase(Sort.Direction.ASC.name())\n            ? Sort.by(field).ascending()\n            : Sort.by(field).descending();\n\n    Pageable pageable = (page == 1)?PageRequest.of(page-1, 10, sort)\n    :PageRequest.of(page-1, 10);\n\n    return userRepo.findAll(pageable);\n}\n</code></pre>\n<p>References : <a href=\"https://www.baeldung.com/spring-data-jpa-pagination-sorting#:%7E:text=We%20can%20create%20a%20PageRequest%20object%20by%20passing,%280%2C%202%29%3B%20Pageable%20secondPageWithFiveElements%20%3D%20PageRequest.of%20%281%2C%205%29%3B\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-pagination-sorting#:~:text=We%20can%20create%20a%20PageRequest%20object%20by%20passing,%280%2C%202%29%3B%20Pageable%20secondPageWithFiveElements%20%3D%20PageRequest.of%20%281%2C%205%29%3B</a></p>\n<p>I think this helps.</p>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654844776,"creation_date":1654844776,"answer_id":72570322,"question_id":72569172,"body_markdown":"I don&#39;t think there is an easy way to make this kind of sorting in the database and since you are dealing with a single page which is memory anyway since you render it to the UI, I would just sort it in memory.\r\n\r\nAlternatively you can go with a custom SQL statement structured like this:\r\n\r\n```sql\r\nSELECT * FROM (\r\n    SELECT * FROM WHATEVER\r\n    ORDER BY -- sort clause defining the pagination\r\n    OFFSET ... LIMIT ... -- note that this clause is database dependent.\r\n) ORDER BY -- your sort criteria within the page goes here\r\n```\r\n\r\nYou&#39;ll have to construct this SQL statement programmatically, so you can&#39;t use Spring Datas special features like annotated queries or query derivation.","title":"How to sort a particular page number in Spring Data JPA?","body":"<p>I don't think there is an easy way to make this kind of sorting in the database and since you are dealing with a single page which is memory anyway since you render it to the UI, I would just sort it in memory.</p>\n<p>Alternatively you can go with a custom SQL statement structured like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM (\n    SELECT * FROM WHATEVER\n    ORDER BY -- sort clause defining the pagination\n    OFFSET ... LIMIT ... -- note that this clause is database dependent.\n) ORDER BY -- your sort criteria within the page goes here\n</code></pre>\n<p>You'll have to construct this SQL statement programmatically, so you can't use Spring Datas special features like annotated queries or query derivation.</p>\n"},{"tags":[],"owner":{"account_id":22140903,"reputation":105,"user_id":16390946,"display_name":"Ion Ionets"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654848238,"creation_date":1654848238,"answer_id":72570961,"question_id":72569172,"body_markdown":"I&#39;m not sure, I got your question, but if you want a certain sorted page, the db should definitely create the query plan, sort all the data and return you a certain offset (Page) of the sorted data.\r\nIt&#39;s impossible to get a sorted page without sorting the whole data.","title":"How to sort a particular page number in Spring Data JPA?","body":"<p>I'm not sure, I got your question, but if you want a certain sorted page, the db should definitely create the query plan, sort all the data and return you a certain offset (Page) of the sorted data.\nIt's impossible to get a sorted page without sorting the whole data.</p>\n"},{"tags":[],"owner":{"account_id":3345927,"reputation":372,"user_id":2811078,"display_name":"Chandan Gawri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654870695,"creation_date":1654870695,"answer_id":72575790,"question_id":72569172,"body_markdown":"I believe you want to sort data only on a given page, this is difficult to manage with database query which probably will sort whole data and would give you nth page.\r\n\r\nI would suggest to do a reverse on a given page after retrieving with same order.\r\n\r\n1) Retrieve the nth page with from database with always asc.\r\n\r\n2) Depending on direction do a reverse if needed. \r\n\r\nThis should be faster than relying on database for sort operation.","title":"How to sort a particular page number in Spring Data JPA?","body":"<p>I believe you want to sort data only on a given page, this is difficult to manage with database query which probably will sort whole data and would give you nth page.</p>\n<p>I would suggest to do a reverse on a given page after retrieving with same order.</p>\n<ol>\n<li><p>Retrieve the nth page with from database with always asc.</p>\n</li>\n<li><p>Depending on direction do a reverse if needed.</p>\n</li>\n</ol>\n<p>This should be faster than relying on database for sort operation.</p>\n"}],"owner":{"account_id":5537424,"reputation":363,"user_id":4395200,"accept_rate":29,"display_name":"Daryll David Dagondon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3776,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1655433434,"creation_date":1654836169,"question_id":72569172,"body_markdown":"I have this paging problem where when I try to sort a table by **field header** on a particular **page number**, `PageRequest.of(page-1, 10, sort)` is sorting the entire table, not on a particular page. Thus, what record is returned in that page is different from the previous record before sorting.\r\n\r\nCode:\r\n\r\n    @Override\r\n    public Page&lt;User&gt; getPageAndSort(String field, String direction, int page) {\r\n\r\n        Sort sort = direction.equalsIgnoreCase(Sort.Direction.ASC.name())\r\n                ? Sort.by(field).ascending()\r\n                : Sort.by(field).descending();\r\n\r\n        Pageable pageable = PageRequest.of(page-1, 10, sort);\r\n\r\n        return userRepo.findAll(pageable);\r\n    }\r\n\r\nFor example. I want to sort only in page 1 by id. Returning a sorted record from page 1. The rest of the pages or entire records shouldn&#39;t \r\nbe affected.\r\n\r\nThank you.\r\n\r\nEdit:\r\n\r\nI have a workaround in this problem. After getting a page from:\r\n\r\n `Page&lt;User&gt; page = userService.findPage(currentPage);`\r\n\r\nI get the `page.getContent()` List and then pass to method sortList: \r\n\r\n    userService.sortList(new ArrayList&lt;&gt;(page.getContent()), field, sortDir)\r\n\r\nsort implementation:\r\n\r\n    public ArrayList&lt;User&gt; sortList(ArrayList&lt;User&gt; users, String field, String direction) {\r\n        users.sort((User user1, User user2) -&gt; {\r\n\r\n            try {\r\n                Field field1 = user1.getClass().getDeclaredField(field);\r\n                field1.setAccessible(true);\r\n                Object object1 = field1.get(user1);\r\n\r\n                Field field2 = user2.getClass().getDeclaredField(field);\r\n                field2.setAccessible(true);\r\n                Object object2 = field2.get(user2);\r\n\r\n                int result = 0;\r\n\r\n                if (isInt(object1.toString())) {\r\n                    result = Integer.parseInt(object1.toString()) - Integer.parseInt(object2.toString());\r\n                } else {\r\n                    result = object1.toString().compareToIgnoreCase(object2.toString());\r\n                }\r\n\r\n                if (result &gt; 0) {\r\n                    return direction.equalsIgnoreCase(&quot;asc&quot;) ? 1 : -1;\r\n                }\r\n\r\n                if (result &lt; 0) {\r\n                    return direction.equalsIgnoreCase(&quot;asc&quot;) ? -1 : 1;\r\n                }\r\n\r\n                return 0;\r\n\r\n            } catch (Exception e) {\r\n                Log.error(e.toString());\r\n                return 0;\r\n            }\r\n        });\r\n\r\n        return users;\r\n    }\r\n\r\nWith this work around. I successfully sorted a particular page by its column header without affecting the rest of pages. But it&#39;s not standard though as it doesn&#39;t use `PageRequest.of()` from Spring Data JPA and I recommend testing the code and review it thoroughly.","title":"How to sort a particular page number in Spring Data JPA?","body":"<p>I have this paging problem where when I try to sort a table by <strong>field header</strong> on a particular <strong>page number</strong>, <code>PageRequest.of(page-1, 10, sort)</code> is sorting the entire table, not on a particular page. Thus, what record is returned in that page is different from the previous record before sorting.</p>\n<p>Code:</p>\n<pre><code>@Override\npublic Page&lt;User&gt; getPageAndSort(String field, String direction, int page) {\n\n    Sort sort = direction.equalsIgnoreCase(Sort.Direction.ASC.name())\n            ? Sort.by(field).ascending()\n            : Sort.by(field).descending();\n\n    Pageable pageable = PageRequest.of(page-1, 10, sort);\n\n    return userRepo.findAll(pageable);\n}\n</code></pre>\n<p>For example. I want to sort only in page 1 by id. Returning a sorted record from page 1. The rest of the pages or entire records shouldn't\nbe affected.</p>\n<p>Thank you.</p>\n<p>Edit:</p>\n<p>I have a workaround in this problem. After getting a page from:</p>\n<p><code>Page&lt;User&gt; page = userService.findPage(currentPage);</code></p>\n<p>I get the <code>page.getContent()</code> List and then pass to method sortList:</p>\n<pre><code>userService.sortList(new ArrayList&lt;&gt;(page.getContent()), field, sortDir)\n</code></pre>\n<p>sort implementation:</p>\n<pre><code>public ArrayList&lt;User&gt; sortList(ArrayList&lt;User&gt; users, String field, String direction) {\n    users.sort((User user1, User user2) -&gt; {\n\n        try {\n            Field field1 = user1.getClass().getDeclaredField(field);\n            field1.setAccessible(true);\n            Object object1 = field1.get(user1);\n\n            Field field2 = user2.getClass().getDeclaredField(field);\n            field2.setAccessible(true);\n            Object object2 = field2.get(user2);\n\n            int result = 0;\n\n            if (isInt(object1.toString())) {\n                result = Integer.parseInt(object1.toString()) - Integer.parseInt(object2.toString());\n            } else {\n                result = object1.toString().compareToIgnoreCase(object2.toString());\n            }\n\n            if (result &gt; 0) {\n                return direction.equalsIgnoreCase(&quot;asc&quot;) ? 1 : -1;\n            }\n\n            if (result &lt; 0) {\n                return direction.equalsIgnoreCase(&quot;asc&quot;) ? -1 : 1;\n            }\n\n            return 0;\n\n        } catch (Exception e) {\n            Log.error(e.toString());\n            return 0;\n        }\n    });\n\n    return users;\n}\n</code></pre>\n<p>With this work around. I successfully sorted a particular page by its column header without affecting the rest of pages. But it's not standard though as it doesn't use <code>PageRequest.of()</code> from Spring Data JPA and I recommend testing the code and review it thoroughly.</p>\n"},{"tags":["java","spring-boot","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":2635431,"reputation":1575,"user_id":2280259,"accept_rate":33,"display_name":"isank-a"},"score":1,"creation_date":1655312378,"post_id":72629760,"comment_id":128304886,"body_markdown":"Is your whole application based on Spring WebFlux or you&#39;re just using Spring WebClient to make HTTP calls?","body":"Is your whole application based on Spring WebFlux or you&#39;re just using Spring WebClient to make HTTP calls?"},{"owner":{"account_id":5818973,"reputation":310,"user_id":4587635,"display_name":"Anuja Barve"},"score":0,"creation_date":1655350034,"post_id":72629760,"comment_id":128313268,"body_markdown":"I am just using Spring Webclient to make HTTP calls @2280259","body":"I am just using Spring Webclient to make HTTP calls @2280259"},{"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"score":0,"creation_date":1698693062,"post_id":72629760,"comment_id":136435216,"body_markdown":"https://stackoverflow.com/a/77391267/2462531 It&#39;s worked for me","body":"<a href=\"https://stackoverflow.com/a/77391267/2462531\">stackoverflow.com/a/77391267/2462531</a> It&#39;s worked for me"}],"answers":[{"tags":[],"owner":{"account_id":2635431,"reputation":1575,"user_id":2280259,"accept_rate":33,"display_name":"isank-a"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655432095,"creation_date":1655432095,"answer_id":72653680,"question_id":72629760,"body_markdown":"Since your application is not completely reactive and you&#39;re using WebClient just to make HTTP calls, you can use [Mono#toFuture()](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#toFuture--), [Mono#SubscribeOn()](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#subscribeOn-reactor.core.scheduler.Scheduler-), and [Mono#timeout()](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#timeout-java.time.Duration-) for your use case\r\n\r\n    private CompletableFuture&lt;Object&gt; asyncHttpCall(HttpMethod httpMethod, String url, String body, Map&lt;String, String&gt; headers) {\r\n\r\n\t\treturn WebClient.create(url).method(httpMethod).bodyValue(body).headers(httpHeaders -&gt; headers.forEach(httpHeaders::add))\r\n\t\t\t\t.retrieve()\r\n\t\t\t\t.bodyToMono(Object.class)\r\n\t\t\t\t// specify timeout\r\n\t\t\t\t.timeout(Duration.ofSeconds(5L))\r\n\t\t\t\t// subscribe on a different thread from the given scheduler to avoid blocking as toFuture is a subscriber\r\n\t\t\t\t.subscribeOn(Schedulers.single())\r\n\t\t\t\t// subscribes to the mono and converts it to a completable future\r\n\t\t\t\t.toFuture();\r\n\t}\r\n\r\n    // execute asyncHttpCall \r\n    asyncHttpCall(HttpMethod.POST, &quot;https://httpbin.org/post&quot;, &quot;&quot;, Collections.emptyMap())\r\n\t\t\t\t// consume the response from the CompletableFuture\r\n\t\t\t\t.thenAccept(response -&gt; System.out.println(&quot;response = &quot; + response));\r\n\r\nYou can \r\n\r\n - do multiple other things with the future (check [CompletableFuture](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html)) that `asyncHttpCall` returns.\r\n- configure different Scheduler (check [Schedulers](https://projectreactor.io/docs/core/release/api/reactor/core/scheduler/Schedulers.html)) in `asyncHttpCall`.\r\n- also use [Mono#doOnSuccess()](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#doOnSuccess-java.util.function.Consumer-), [Mono#doOnError()](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#doOnError-java.lang.Class-java.util.function.Consumer-), etc. with your `Mono` inside `asyncHttpCall`.","title":"Making Async HTTP Call with Spring WebClient","body":"<p>Since your application is not completely reactive and you're using WebClient just to make HTTP calls, you can use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#toFuture--\" rel=\"nofollow noreferrer\">Mono#toFuture()</a>, <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#subscribeOn-reactor.core.scheduler.Scheduler-\" rel=\"nofollow noreferrer\">Mono#SubscribeOn()</a>, and <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#timeout-java.time.Duration-\" rel=\"nofollow noreferrer\">Mono#timeout()</a> for your use case</p>\n<pre><code>private CompletableFuture&lt;Object&gt; asyncHttpCall(HttpMethod httpMethod, String url, String body, Map&lt;String, String&gt; headers) {\n\n    return WebClient.create(url).method(httpMethod).bodyValue(body).headers(httpHeaders -&gt; headers.forEach(httpHeaders::add))\n            .retrieve()\n            .bodyToMono(Object.class)\n            // specify timeout\n            .timeout(Duration.ofSeconds(5L))\n            // subscribe on a different thread from the given scheduler to avoid blocking as toFuture is a subscriber\n            .subscribeOn(Schedulers.single())\n            // subscribes to the mono and converts it to a completable future\n            .toFuture();\n}\n\n// execute asyncHttpCall \nasyncHttpCall(HttpMethod.POST, &quot;https://httpbin.org/post&quot;, &quot;&quot;, Collections.emptyMap())\n            // consume the response from the CompletableFuture\n            .thenAccept(response -&gt; System.out.println(&quot;response = &quot; + response));\n</code></pre>\n<p>You can</p>\n<ul>\n<li>do multiple other things with the future (check <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">CompletableFuture</a>) that <code>asyncHttpCall</code> returns.</li>\n<li>configure different Scheduler (check <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/scheduler/Schedulers.html\" rel=\"nofollow noreferrer\">Schedulers</a>) in <code>asyncHttpCall</code>.</li>\n<li>also use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#doOnSuccess-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">Mono#doOnSuccess()</a>, <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#doOnError-java.lang.Class-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">Mono#doOnError()</a>, etc. with your <code>Mono</code> inside <code>asyncHttpCall</code>.</li>\n</ul>\n"}],"owner":{"account_id":5818973,"reputation":310,"user_id":4587635,"display_name":"Anuja Barve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7084,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72653680,"answer_count":1,"score":1,"last_activity_date":1655432095,"creation_date":1655288843,"question_id":72629760,"body_markdown":"I have a use case where I need to make HTTP calls from my service.I do not want my threads to blocked waiting for the response to come back . How can I do this in SpringWebClient ?\r\nThis is how my code looks \r\n\r\n    public void asyncHttp(HTTPMethod method,\r\n                            String url,\r\n                            String body,\r\n                            Map&lt;String, String&gt; headers){\r\n    \r\n        WebClient.UriSpec&lt;WebClient.RequestBodySpec&gt; uriSpec = webClient.method(method.getMethod());\r\n        WebClient.RequestBodySpec bodySpec = uriSpec.uri(url);\r\n        WebClient.RequestHeadersSpec&lt;?&gt; headersSpec = bodySpec.bodyValue(body);\r\n        for(Map.Entry&lt;String, String&gt; entry : headers.entrySet()){\r\n           headersSpec.header(entry.getKey(), entry.getValue());\r\n        }\r\n        Mono&lt;JsonObject&gt; responseMono =  headersSpec.retrieve().bodyToMono(JsonObject.class);\r\n      }\r\nI have two questions here\r\n1. How do I read the response from Mono only after it is completed and parse it. The thread should not wait for the Http Response, once the response is received it should be picked up by a thread.\r\n2. How do I set request specific timeout in the above code ?\r\n","title":"Making Async HTTP Call with Spring WebClient","body":"<p>I have a use case where I need to make HTTP calls from my service.I do not want my threads to blocked waiting for the response to come back . How can I do this in SpringWebClient ?\nThis is how my code looks</p>\n<pre><code>public void asyncHttp(HTTPMethod method,\n                        String url,\n                        String body,\n                        Map&lt;String, String&gt; headers){\n\n    WebClient.UriSpec&lt;WebClient.RequestBodySpec&gt; uriSpec = webClient.method(method.getMethod());\n    WebClient.RequestBodySpec bodySpec = uriSpec.uri(url);\n    WebClient.RequestHeadersSpec&lt;?&gt; headersSpec = bodySpec.bodyValue(body);\n    for(Map.Entry&lt;String, String&gt; entry : headers.entrySet()){\n       headersSpec.header(entry.getKey(), entry.getValue());\n    }\n    Mono&lt;JsonObject&gt; responseMono =  headersSpec.retrieve().bodyToMono(JsonObject.class);\n  }\n</code></pre>\n<p>I have two questions here</p>\n<ol>\n<li>How do I read the response from Mono only after it is completed and parse it. The thread should not wait for the Http Response, once the response is received it should be picked up by a thread.</li>\n<li>How do I set request specific timeout in the above code ?</li>\n</ol>\n"},{"tags":["java","android","firebase","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655213013,"creation_date":1655213013,"answer_id":72617767,"question_id":72617660,"body_markdown":"Firebase Authentication is not directly linked to the Firebase databases (Realtime Database and Firestore) in the way that you seem to expect.  When you have a FirebaseUser object in hand, the only data it has is what the Firebase Authentication product stores about the user for the purpose of signing in.  It doesn&#39;t contain any related data that you might have also stored in a database.  The output you&#39;re showing seems correct to me - you are printing the basic information that Firebase Auth knows about the currently signed in user.\r\n\r\nIf you want a user&#39;s related data, you will have to write code to query that database.  It&#39;s difficult to tell what that is given what you&#39;ve shared, but maybe you will have to `get()` a document from Firestore using the user&#39;s UID from Firebase Auth.\r\n\r\nI will point out that it&#39;s generally a bad idea to store user passwords in your own database.  That should all be securely hidden by Firebase Auth.","title":"How to get correct user info from Firebase?","body":"<p>Firebase Authentication is not directly linked to the Firebase databases (Realtime Database and Firestore) in the way that you seem to expect.  When you have a FirebaseUser object in hand, the only data it has is what the Firebase Authentication product stores about the user for the purpose of signing in.  It doesn't contain any related data that you might have also stored in a database.  The output you're showing seems correct to me - you are printing the basic information that Firebase Auth knows about the currently signed in user.</p>\n<p>If you want a user's related data, you will have to write code to query that database.  It's difficult to tell what that is given what you've shared, but maybe you will have to <code>get()</code> a document from Firestore using the user's UID from Firebase Auth.</p>\n<p>I will point out that it's generally a bad idea to store user passwords in your own database.  That should all be securely hidden by Firebase Auth.</p>\n"},{"tags":[],"owner":{"account_id":21846505,"reputation":63,"user_id":19312979,"display_name":"sean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655431702,"creation_date":1655406066,"answer_id":72650729,"question_id":72617660,"body_markdown":"Instead of doing \r\n```\r\nString bb = snapshot.child(&quot;name&quot;).toString();\r\n```\r\nTry \r\n```\r\nString bb = snapshot.child(&quot;name&quot;).getValue();\r\n```\r\n\r\nCalling toString returns the reference of the DataSnapshot of the child instead.\r\n\r\n\r\nEdit:\r\nAssuming that you store user data on a User class with getters, you can get the data in this way.\r\n```\r\nUser user = snapshot.getValue(User.class);\r\nString name = user.getName();\r\n```\r\nSample code of a User.java to store user data\r\n```\r\npublic class User {\r\n    public String name;\r\n    public String email;\r\n    public String password;\r\n\r\n    public User() {\r\n\r\n    }\r\n\r\n    public User(String name, String email, String password) {\r\n        this.name = name;\r\n        this.email = email;\r\n        this.password = password;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n}\r\n```","title":"How to get correct user info from Firebase?","body":"<p>Instead of doing</p>\n<pre><code>String bb = snapshot.child(&quot;name&quot;).toString();\n</code></pre>\n<p>Try</p>\n<pre><code>String bb = snapshot.child(&quot;name&quot;).getValue();\n</code></pre>\n<p>Calling toString returns the reference of the DataSnapshot of the child instead.</p>\n<p>Edit:\nAssuming that you store user data on a User class with getters, you can get the data in this way.</p>\n<pre><code>User user = snapshot.getValue(User.class);\nString name = user.getName();\n</code></pre>\n<p>Sample code of a User.java to store user data</p>\n<pre><code>public class User {\n    public String name;\n    public String email;\n    public String password;\n\n    public User() {\n\n    }\n\n    public User(String name, String email, String password) {\n        this.name = name;\n        this.email = email;\n        this.password = password;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":21216878,"reputation":13,"user_id":15604342,"display_name":"T.Kopa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72617767,"answer_count":2,"score":1,"last_activity_date":1655431702,"creation_date":1655212595,"question_id":72617660,"body_markdown":"I&#39;m trying to get logged user&#39;s name, but when I want to set it&#39;s name on *Textview*, returns the different values: \r\n\r\nUsing this method: \r\n\r\n    public void a() {\r\n            FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n            if (user != null){\r\n                for (UserInfo profile : user.getProviderData()){\r\n                    String providerId = profile.getProviderId();\r\n                    String name = profile.getDisplayName();\r\n                    String uid = profile.getUid();\r\n                    helloUser.setText(providerId);\r\n                }\r\n            }\r\n        }\r\n\r\nThis is user data from Firebase:\r\n\r\n    7gPwXUU3k6XSoBMfhxEmWoA6F1h1\r\n      email:&quot;test8@gmail.com&quot;\r\n      name :&quot;Test8&quot;\r\n      password:&quot;12345678&quot;\r\n\r\nin these cases returns this results: \r\n\r\n    providerId returns &quot;Password&quot;\r\n    name returns &quot;null&quot;\r\n    uid returns &quot;test8@gmail.com&quot;\r\n---------------------------------------------\r\nUPDATE!\r\n\r\nI&#39;ve changed code like this: \r\n\r\n    FirebaseAuth userAuth = FirebaseAuth.getInstance();\r\n            FirebaseUser userUser = userAuth.getCurrentUser();\r\n            if (userUser != null){\r\n                String aa = userUser.getUid();\r\n    \r\n                DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(aa);\r\n                reference.addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                       for (DataSnapshot snapshot : dataSnapshot.getChildren()){\r\n                           String bb = snapshot.child(&quot;name&quot;).toString();\r\n                           helloUser.setText(bb);\r\n                           Log.d(TAG, &quot;UserGetResult:success&quot; + &quot; &quot;+ bb);\r\n                       }\r\n                    }\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                    }\r\n                });\r\n            }\r\n\r\nEnd returns this: \r\n\r\n    D/ContentValues: UserGetResult:success DataSnapshot { key = name, value = null }\r\n\r\nWhat am I doing wrong? ","title":"How to get correct user info from Firebase?","body":"<p>I'm trying to get logged user's name, but when I want to set it's name on <em>Textview</em>, returns the different values:</p>\n<p>Using this method:</p>\n<pre><code>public void a() {\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n        if (user != null){\n            for (UserInfo profile : user.getProviderData()){\n                String providerId = profile.getProviderId();\n                String name = profile.getDisplayName();\n                String uid = profile.getUid();\n                helloUser.setText(providerId);\n            }\n        }\n    }\n</code></pre>\n<p>This is user data from Firebase:</p>\n<pre><code>7gPwXUU3k6XSoBMfhxEmWoA6F1h1\n  email:&quot;test8@gmail.com&quot;\n  name :&quot;Test8&quot;\n  password:&quot;12345678&quot;\n</code></pre>\n<p>in these cases returns this results:</p>\n<pre><code>providerId returns &quot;Password&quot;\nname returns &quot;null&quot;\nuid returns &quot;test8@gmail.com&quot;\n</code></pre>\n<hr />\n<p>UPDATE!</p>\n<p>I've changed code like this:</p>\n<pre><code>FirebaseAuth userAuth = FirebaseAuth.getInstance();\n        FirebaseUser userUser = userAuth.getCurrentUser();\n        if (userUser != null){\n            String aa = userUser.getUid();\n\n            DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(aa);\n            reference.addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                   for (DataSnapshot snapshot : dataSnapshot.getChildren()){\n                       String bb = snapshot.child(&quot;name&quot;).toString();\n                       helloUser.setText(bb);\n                       Log.d(TAG, &quot;UserGetResult:success&quot; + &quot; &quot;+ bb);\n                   }\n                }\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });\n        }\n</code></pre>\n<p>End returns this:</p>\n<pre><code>D/ContentValues: UserGetResult:success DataSnapshot { key = name, value = null }\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["javascript","java","node.js","encryption","cryptography"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1655413633,"post_id":72650364,"comment_id":128333301,"body_markdown":"I don&#39;t think the crypto module of NodeJS supports EAX mode. You can use `console.log(crypto.getCiphers())` to get the supported algorithms/modes.","body":"I don&#39;t think the crypto module of NodeJS supports EAX mode. You can use <code>console.log(crypto.getCiphers())</code> to get the supported algorithms/modes."},{"owner":{"account_id":11057446,"reputation":46,"user_id":8119915,"display_name":"GGruetzmacher"},"score":0,"creation_date":1655476916,"post_id":72650364,"comment_id":128348617,"body_markdown":"@Topaco I can see that it is not supported with `crypto.getCiphers()`. So it looks like it isn&#39;t even possible without writing my own implementation of EAX in node? I was unable to find any other implementation of it. Thank you for your help!","body":"@Topaco I can see that it is not supported with <code>crypto.getCiphers()</code>. So it looks like it isn&#39;t even possible without writing my own implementation of EAX in node? I was unable to find any other implementation of it. Thank you for your help!"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1655493267,"post_id":72650364,"comment_id":128353806,"body_markdown":"Sorry, I don&#39;t know of any NodeJS library that supports EAX. For JavaScript, [this](https://github.com/artjomb/cryptojs-extension) could be an option.","body":"Sorry, I don&#39;t know of any NodeJS library that supports EAX. For JavaScript, <a href=\"https://github.com/artjomb/cryptojs-extension\" rel=\"nofollow noreferrer\">this</a> could be an option."}],"owner":{"account_id":11057446,"reputation":46,"user_id":8119915,"display_name":"GGruetzmacher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655431628,"creation_date":1655404092,"question_id":72650364,"body_markdown":"I need to replicate **Java** encryption code using **AES/EAX/NoPadding** with **BouncyCastle** provider in **node.js**. The encrypted value will still need to be decrypted by the legacy Java decryption, so the salt and iv bytes need to stay the same length. In the **node.js** code I am able to generate the salt and secret key correctly. But I have an issue. What is equivalent algorithm to **AES/EAX/NoPadding** with **BouncyCastle**? \r\n\r\n**Existing Java:**\r\n```java\r\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\r\nimport java.security.SecureRandom;\r\nimport java.text.Normalizer;\r\nimport javax.crypto.spec.IvParameterSpec;\r\nimport javax.crypto.spec.PBEKeySpec;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport javax.crypto.SecretKey;\r\nimport javax.crypto.Cipher;\r\n\r\npublic byte[] encrypt(byte[] plaintext, char[] password) {\r\n    byte[] saltBytes = &quot;SaltString1234!&quot;.getBytes(&quot;UTF-8&quot;);\r\n           \r\n    final byte[] salt = new byte[16];\r\n    System.arraycopy(saltBytes, 0, salt, 0, 16);\r\n    \r\n    SecureRandom random = SecureRandom.getInstance(&quot;SHA1PRNG&quot;);\r\n    \r\n    random.setSeed(System.currentTimeMillis());\r\n    byte[] iv = new byte[8]; // \r\n    random.nextBytes(iv); \r\n\r\n    String normalizedPassword = Normalizer.normalize(new String(password), Normalizer.Form.NFC);\r\n    char[] currentPassword = normalizedPassword.toCharArray();\r\n    PBEKeySpec keySpec = new PBEKeySpec(currentPassword, salt, 1000, 128);\r\n    SecretKey derivedKey = newSecretKey(&quot;PBKDF2WithHmacSHA1&quot;, keySpec); \r\n    SecretKey secretKey = new SecretKeySpec(derivedKey.getEncoded(), &quot;AES&quot;);\r\n    \r\n    Provider provider = new BouncyCastleProvider();\r\n    Cipher cipher = newCipher(&quot;AES/EAX/NoPadding&quot;, provider);\r\n    \r\n    final IvParameterSpec ivParamSpec = new IvParameterSpec(iv);\r\n    \r\n    cipher.init(Cipher.ENCRYPT_MODE, secretKey, ivParamSpec);\r\n    \r\n    return cipher.doFinal(plaintext);\r\n}\r\n```\r\n\r\n**New node.js code:**\r\n```typescript\r\nconst crypto = require(&#39;crypto&#39;);\r\n\r\nfunction encrypt(plaintext, password) {\r\n    const salt = Buffer.from(&#39;SaltString1234!&#39;, &#39;utf8&#39;).subarray(0,16);\r\n\r\n    const secretKey = crypto.pbkdf2Sync(password.normalize(&#39;NFC&#39;), salt, 1000, 16, &#39;sha1&#39;);\r\n\r\n    const iv = crypto.randomBytes(8);\r\n\r\n    const cipher = crypto.createCipheriv(\r\n            &#39;aes-128-gcm&#39;/* What algorithm be equivilent to AES/EAX/NoPadding with BouncyCastle? */,\r\n            secretKey,\r\n            iv\r\n        );\r\n \r\n    const ciphertextWithTag = Buffer.concat([\r\n        iv,\r\n        cipher.update(plaintext, &#39;utf8&#39;),\r\n        cipher.final(),\r\n        cipher.getAuthTag()\r\n    ]);\r\n \r\n    return ciphertextWithTag;\r\n}\r\n```","title":"AES Encryption From Java to Node.js","body":"<p>I need to replicate <strong>Java</strong> encryption code using <strong>AES/EAX/NoPadding</strong> with <strong>BouncyCastle</strong> provider in <strong>node.js</strong>. The encrypted value will still need to be decrypted by the legacy Java decryption, so the salt and iv bytes need to stay the same length. In the <strong>node.js</strong> code I am able to generate the salt and secret key correctly. But I have an issue. What is equivalent algorithm to <strong>AES/EAX/NoPadding</strong> with <strong>BouncyCastle</strong>?</p>\n<p><strong>Existing Java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport java.security.SecureRandom;\nimport java.text.Normalizer;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport javax.crypto.SecretKey;\nimport javax.crypto.Cipher;\n\npublic byte[] encrypt(byte[] plaintext, char[] password) {\n    byte[] saltBytes = &quot;SaltString1234!&quot;.getBytes(&quot;UTF-8&quot;);\n           \n    final byte[] salt = new byte[16];\n    System.arraycopy(saltBytes, 0, salt, 0, 16);\n    \n    SecureRandom random = SecureRandom.getInstance(&quot;SHA1PRNG&quot;);\n    \n    random.setSeed(System.currentTimeMillis());\n    byte[] iv = new byte[8]; // \n    random.nextBytes(iv); \n\n    String normalizedPassword = Normalizer.normalize(new String(password), Normalizer.Form.NFC);\n    char[] currentPassword = normalizedPassword.toCharArray();\n    PBEKeySpec keySpec = new PBEKeySpec(currentPassword, salt, 1000, 128);\n    SecretKey derivedKey = newSecretKey(&quot;PBKDF2WithHmacSHA1&quot;, keySpec); \n    SecretKey secretKey = new SecretKeySpec(derivedKey.getEncoded(), &quot;AES&quot;);\n    \n    Provider provider = new BouncyCastleProvider();\n    Cipher cipher = newCipher(&quot;AES/EAX/NoPadding&quot;, provider);\n    \n    final IvParameterSpec ivParamSpec = new IvParameterSpec(iv);\n    \n    cipher.init(Cipher.ENCRYPT_MODE, secretKey, ivParamSpec);\n    \n    return cipher.doFinal(plaintext);\n}\n</code></pre>\n<p><strong>New node.js code:</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>const crypto = require('crypto');\n\nfunction encrypt(plaintext, password) {\n    const salt = Buffer.from('SaltString1234!', 'utf8').subarray(0,16);\n\n    const secretKey = crypto.pbkdf2Sync(password.normalize('NFC'), salt, 1000, 16, 'sha1');\n\n    const iv = crypto.randomBytes(8);\n\n    const cipher = crypto.createCipheriv(\n            'aes-128-gcm'/* What algorithm be equivilent to AES/EAX/NoPadding with BouncyCastle? */,\n            secretKey,\n            iv\n        );\n \n    const ciphertextWithTag = Buffer.concat([\n        iv,\n        cipher.update(plaintext, 'utf8'),\n        cipher.final(),\n        cipher.getAuthTag()\n    ]);\n \n    return ciphertextWithTag;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","yaml","github-actions"],"answers":[{"tags":[],"owner":{"account_id":5947103,"reputation":465,"user_id":4676304,"display_name":"Austin p.b"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655428799,"creation_date":1655428799,"answer_id":72653401,"question_id":72068946,"body_markdown":"Arguments is just build since you are using the gradle actions instead of the ./gradlew :\r\n\r\n```\r\n- name: Build with Gradle\r\n  uses: gradle/gradle-build-action@0d13054264b0bb894ded474f08ebb30921341cee\r\n  with:\r\n      arguments: build\r\n```","title":"Unable to run a gradle github workflow","body":"<p>Arguments is just build since you are using the gradle actions instead of the ./gradlew :</p>\n<pre><code>- name: Build with Gradle\n  uses: gradle/gradle-build-action@0d13054264b0bb894ded474f08ebb30921341cee\n  with:\n      arguments: build\n</code></pre>\n"}],"owner":{"account_id":23859118,"reputation":213,"user_id":17862309,"display_name":"SeriousProgrammm...brrrr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655428799,"creation_date":1651325559,"question_id":72068946,"body_markdown":"I am trying to set up a workflow for my project. I used the standard &quot;Configure with gradle&quot; workflow, and just edited the java version from 11 to 17. \r\n\r\nBut when I push my code, it throws an error: \r\n\r\nthis is my workflow so far\r\n```yml\r\n# This workflow uses actions that are not certified by GitHub.\r\n# They are provided by a third-party and are governed by\r\n# separate terms of service, privacy policy, and support\r\n# documentation.\r\n# This workflow will build a Java project with Gradle and cache/restore any dependencies to improve the workflow execution time\r\n# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-gradle\r\n\r\nname: Java CI with Gradle\r\n\r\non:\r\n  push:\r\n    branches: [ master ]\r\n  pull_request:\r\n    branches: [ master ]\r\n\r\npermissions:\r\n  contents: read\r\n\r\njobs:\r\n  build:\r\n\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n    - uses: actions/checkout@v3        \r\n    - name: Setup jdk-17\r\n      uses: actions/setup-java@main\r\n      with:\r\n        java-version: 17\r\n        distribution: &#39;adopt&#39;\r\n    - name: Build with Gradle\r\n      uses: gradle/gradle-build-action@0d13054264b0bb894ded474f08ebb30921341cee\r\n      with:\r\n        arguments: ./gradlew build\r\n\r\n```\r\n\r\n```\r\n  Gradle User Home cache not found. Will initialize empty.\r\nError: Error: Gradle script &#39;/home/runner/work/Slapbot-stewie/Slapbot-stewie/gradlew&#39; is not executable.\r\n```\r\n\r\nI do not know how to fix this error, I found no relevant google search that can help with this. \r\n\r\n","title":"Unable to run a gradle github workflow","body":"<p>I am trying to set up a workflow for my project. I used the standard &quot;Configure with gradle&quot; workflow, and just edited the java version from 11 to 17.</p>\n<p>But when I push my code, it throws an error:</p>\n<p>this is my workflow so far</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># This workflow uses actions that are not certified by GitHub.\n# They are provided by a third-party and are governed by\n# separate terms of service, privacy policy, and support\n# documentation.\n# This workflow will build a Java project with Gradle and cache/restore any dependencies to improve the workflow execution time\n# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-gradle\n\nname: Java CI with Gradle\n\non:\n  push:\n    branches: [ master ]\n  pull_request:\n    branches: [ master ]\n\npermissions:\n  contents: read\n\njobs:\n  build:\n\n    runs-on: ubuntu-latest\n\n    steps:\n    - uses: actions/checkout@v3        \n    - name: Setup jdk-17\n      uses: actions/setup-java@main\n      with:\n        java-version: 17\n        distribution: 'adopt'\n    - name: Build with Gradle\n      uses: gradle/gradle-build-action@0d13054264b0bb894ded474f08ebb30921341cee\n      with:\n        arguments: ./gradlew build\n\n</code></pre>\n<pre><code>  Gradle User Home cache not found. Will initialize empty.\nError: Error: Gradle script '/home/runner/work/Slapbot-stewie/Slapbot-stewie/gradlew' is not executable.\n</code></pre>\n<p>I do not know how to fix this error, I found no relevant google search that can help with this.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8736,"page":1256,"page_size":100}
